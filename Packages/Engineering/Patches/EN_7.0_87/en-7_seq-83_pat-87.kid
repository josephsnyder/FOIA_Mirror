Released EN*7*87 SEQ #83
Extracted from mail message
**KIDS**:EN*7.0*87^

**INSTALL NAME**
EN*7.0*87
"BLD",7446,0)
EN*7.0*87^ENGINEERING^0^3080328^y
"BLD",7446,1,0)
^^7^7^3080110^
"BLD",7446,1,1,0)
This patch contains the IT Equipment Tracking project enhancements.
"BLD",7446,1,2,0)
The Engineering (AEMS/MERS) package is modified to provide IT personnel a
"BLD",7446,1,3,0)
new top level menu.  IT personnel will be able to edit selected data
"BLD",7446,1,4,0)
fields of IT equipment in the non-expendable equipment inventory.  The
"BLD",7446,1,5,0)
project will also add support for the individual assignment of
"BLD",7446,1,6,0)
responsibility for IT assets.  Individuals can sign electronic hand
"BLD",7446,1,7,0)
receipts to accept responsibility.
"BLD",7446,4,0)
^9.64PA^6910.9^5
"BLD",7446,4,6910.9,0)
6910.9
"BLD",7446,4,6910.9,222)
n^n^f^^n^^y^o^n
"BLD",7446,4,6910.9,224)
I "^ENEQ1^"[(U_$P($G(^ENG(6910.9,+Y,0)),U)_U)
"BLD",7446,4,6914,0)
6914
"BLD",7446,4,6914,2,0)
^9.641^6914^1
"BLD",7446,4,6914,2,6914,0)
EQUIPMENT INV.  (File-top level)
"BLD",7446,4,6914,2,6914,1,0)
^9.6411^19^7
"BLD",7446,4,6914,2,6914,1,19,0)
CMR
"BLD",7446,4,6914,2,6914,1,24,0)
LOCATION
"BLD",7446,4,6914,2,6914,1,90,0)
NON SPACE FILE LOCATION
"BLD",7446,4,6914,2,6914,1,90.1,0)
NON SPACE FILE PERSON
"BLD",7446,4,6914,2,6914,1,90.2,0)
NON SPACE FILE DATE/TIME
"BLD",7446,4,6914,2,6914,1,91,0)
IT REMOTE LOCATION
"BLD",7446,4,6914,2,6914,1,92,0)
IT COMMENTS
"BLD",7446,4,6914,222)
y^n^p^^^^n^^n
"BLD",7446,4,6914,224)

"BLD",7446,4,6914.1,0)
6914.1
"BLD",7446,4,6914.1,2,0)
^9.641^6914.1^1
"BLD",7446,4,6914.1,2,6914.1,0)
CMR  (File-top level)
"BLD",7446,4,6914.1,2,6914.1,1,0)
^9.6411^31^3
"BLD",7446,4,6914.1,2,6914.1,1,6,0)
IT TRACKING
"BLD",7446,4,6914.1,2,6914.1,1,30,0)
DAYS BETWEEN RETURNS
"BLD",7446,4,6914.1,2,6914.1,1,31,0)
LOAN FORM PHONE
"BLD",7446,4,6914.1,222)
y^n^p^^^^n^^n
"BLD",7446,4,6914.1,224)

"BLD",7446,4,6916.2,0)
6916.2
"BLD",7446,4,6916.2,222)
y^y^f^^n^^y^o^n
"BLD",7446,4,6916.3,0)
6916.3
"BLD",7446,4,6916.3,222)
y^y^f^^^^n
"BLD",7446,4,"APDD",6914,6914)

"BLD",7446,4,"APDD",6914,6914,19)

"BLD",7446,4,"APDD",6914,6914,24)

"BLD",7446,4,"APDD",6914,6914,90)

"BLD",7446,4,"APDD",6914,6914,90.1)

"BLD",7446,4,"APDD",6914,6914,90.2)

"BLD",7446,4,"APDD",6914,6914,91)

"BLD",7446,4,"APDD",6914,6914,92)

"BLD",7446,4,"APDD",6914.1,6914.1)

"BLD",7446,4,"APDD",6914.1,6914.1,6)

"BLD",7446,4,"APDD",6914.1,6914.1,30)

"BLD",7446,4,"APDD",6914.1,6914.1,31)

"BLD",7446,4,"B",6910.9,6910.9)

"BLD",7446,4,"B",6914,6914)

"BLD",7446,4,"B",6914.1,6914.1)

"BLD",7446,4,"B",6916.2,6916.2)

"BLD",7446,4,"B",6916.3,6916.3)

"BLD",7446,6.3)
16
"BLD",7446,"ABPKG")
n
"BLD",7446,"KRN",0)
^9.67PA^8989.52^19
"BLD",7446,"KRN",.4,0)
.4
"BLD",7446,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",7446,"KRN",.4,"NM",1,0)
ENIT ASSIGNMENT INQ    FILE #6916.3^6916.3^0
"BLD",7446,"KRN",.4,"NM","B","ENIT ASSIGNMENT INQ    FILE #6916.3",1)

"BLD",7446,"KRN",.401,0)
.401
"BLD",7446,"KRN",.402,0)
.402
"BLD",7446,"KRN",.403,0)
.403
"BLD",7446,"KRN",.403,"NM",0)
^9.68A^1^1
"BLD",7446,"KRN",.403,"NM",1,0)
ENIT EDIT    FILE #6914^6914^0
"BLD",7446,"KRN",.403,"NM","B","ENIT EDIT    FILE #6914",1)

"BLD",7446,"KRN",.5,0)
.5
"BLD",7446,"KRN",.84,0)
.84
"BLD",7446,"KRN",3.6,0)
3.6
"BLD",7446,"KRN",3.6,"NM",0)
^9.68A^1^1
"BLD",7446,"KRN",3.6,"NM",1,0)
EN NON-SPACE FILE LOC^^0
"BLD",7446,"KRN",3.6,"NM","B","EN NON-SPACE FILE LOC",1)

"BLD",7446,"KRN",3.8,0)
3.8
"BLD",7446,"KRN",3.8,"NM",0)
^9.68A^2^2
"BLD",7446,"KRN",3.8,"NM",1,0)
EN NON-SPACE FILE LOC^^0
"BLD",7446,"KRN",3.8,"NM",2,0)
EN IT EQUIPMENT^^0
"BLD",7446,"KRN",3.8,"NM","B","EN IT EQUIPMENT",2)

"BLD",7446,"KRN",3.8,"NM","B","EN NON-SPACE FILE LOC",1)

"BLD",7446,"KRN",9.2,0)
9.2
"BLD",7446,"KRN",9.8,0)
9.8
"BLD",7446,"KRN",9.8,"NM",0)
^9.68A^22^22
"BLD",7446,"KRN",9.8,"NM",1,0)
ENTINSD^^0^B3670772
"BLD",7446,"KRN",9.8,"NM",2,0)
ENTINSR^^0^B5685527
"BLD",7446,"KRN",9.8,"NM",3,0)
ENTIEQE^^0^B1545355
"BLD",7446,"KRN",9.8,"NM",4,0)
ENEQ4^^0^B8832160
"BLD",7446,"KRN",9.8,"NM",5,0)
ENPLS2^^0^B13168979
"BLD",7446,"KRN",9.8,"NM",6,0)
ENTIRA^^0^B13057790
"BLD",7446,"KRN",9.8,"NM",7,0)
ENTIRT^^0^B11537815
"BLD",7446,"KRN",9.8,"NM",8,0)
ENTIRX^^0^B23968288
"BLD",7446,"KRN",9.8,"NM",9,0)
ENTIRC^^0^B17968863
"BLD",7446,"KRN",9.8,"NM",10,0)
ENTIUTL^^0^B50248814
"BLD",7446,"KRN",9.8,"NM",11,0)
ENTIRS^^0^B10316574
"BLD",7446,"KRN",9.8,"NM",12,0)
ENTIRRH^^0^B78760523
"BLD",7446,"KRN",9.8,"NM",13,0)
ENTIRRE^^0^B14984359
"BLD",7446,"KRN",9.8,"NM",14,0)
ENTIRRI^^0^B13521614
"BLD",7446,"KRN",9.8,"NM",15,0)
ENTIRRNA^^0^B9368958
"BLD",7446,"KRN",9.8,"NM",16,0)
ENTIRN^^0^B2690254
"BLD",7446,"KRN",9.8,"NM",17,0)
ENTIRRU^^0^B21377878
"BLD",7446,"KRN",9.8,"NM",18,0)
ENTIRRX^^0^B10875789
"BLD",7446,"KRN",9.8,"NM",19,0)
ENTIDD^^0^B21790016
"BLD",7446,"KRN",9.8,"NM",20,0)
ENTIUTL1^^0^B16940686
"BLD",7446,"KRN",9.8,"NM",21,0)
ENTIUTL2^^0^B53889224
"BLD",7446,"KRN",9.8,"NM",22,0)
ENTIRRH1^^0^B38241223
"BLD",7446,"KRN",9.8,"NM","B","ENEQ4",4)

"BLD",7446,"KRN",9.8,"NM","B","ENPLS2",5)

"BLD",7446,"KRN",9.8,"NM","B","ENTIDD",19)

"BLD",7446,"KRN",9.8,"NM","B","ENTIEQE",3)

"BLD",7446,"KRN",9.8,"NM","B","ENTINSD",1)

"BLD",7446,"KRN",9.8,"NM","B","ENTINSR",2)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRA",6)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRC",9)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRN",16)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRE",13)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRH",12)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRH1",22)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRI",14)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRNA",15)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRU",17)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRRX",18)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRS",11)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRT",7)

"BLD",7446,"KRN",9.8,"NM","B","ENTIRX",8)

"BLD",7446,"KRN",9.8,"NM","B","ENTIUTL",10)

"BLD",7446,"KRN",9.8,"NM","B","ENTIUTL1",20)

"BLD",7446,"KRN",9.8,"NM","B","ENTIUTL2",21)

"BLD",7446,"KRN",19,0)
19
"BLD",7446,"KRN",19,"NM",0)
^9.68A^33^31
"BLD",7446,"KRN",19,"NM",1,0)
ENIT NON-SPACE FILE LOC RPT^^0
"BLD",7446,"KRN",19,"NM",2,0)
ENIT INVENTORY EDIT^^0
"BLD",7446,"KRN",19,"NM",3,0)
ENIT MGR^^0
"BLD",7446,"KRN",19,"NM",4,0)
ENINVINV^^4^
"BLD",7446,"KRN",19,"NM",5,0)
ENMMBC^^4^
"BLD",7446,"KRN",19,"NM",7,0)
ENSPROOMD^^4^
"BLD",7446,"KRN",19,"NM",8,0)
ENSP1^^2
"BLD",7446,"KRN",19,"NM",9,0)
XU USER SIGN-ON^^2
"BLD",7446,"KRN",19,"NM",10,0)
ENIN-HIST-SPECIFIC^^4^
"BLD",7446,"KRN",19,"NM",11,0)
ENIT ASSIGN RESP^^0
"BLD",7446,"KRN",19,"NM",12,0)
ENIT TERMINATE RESP^^0
"BLD",7446,"KRN",19,"NM",13,0)
ENIT TRANSFER RESP^^0
"BLD",7446,"KRN",19,"NM",14,0)
ENIT CERTIFY RESP^^0
"BLD",7446,"KRN",19,"NM",15,0)
ENIT USER ACCOUNT TERMINATED^^0
"BLD",7446,"KRN",19,"NM",16,0)
XU USER TERMINATE^^2
"BLD",7446,"KRN",19,"NM",17,0)
ENIT RESP SIGN^^0
"BLD",7446,"KRN",19,"NM",18,0)
ENIT PRINT HAND RCPT (IT)^^0
"BLD",7446,"KRN",19,"NM",19,0)
ENIT PRINT HAND RCPT (COM)^^0
"BLD",7446,"KRN",19,"NM",20,0)
ENIT INDV RESP RPT (COM)^^0
"BLD",7446,"KRN",19,"NM",22,0)
ENIT RESP MENU^^0
"BLD",7446,"KRN",19,"NM",23,0)
ENIT ADD NEW PERSON^^0
"BLD",7446,"KRN",19,"NM",24,0)
ENIT RESP RPT MENU^^0
"BLD",7446,"KRN",19,"NM",25,0)
ENIT INDV RESP RPT (IT)^^0
"BLD",7446,"KRN",19,"NM",26,0)
ENIT RESP NOT ASSIGNED RPT^^0
"BLD",7446,"KRN",19,"NM",27,0)
ENIT RESP UNSIGNED RPT^^0
"BLD",7446,"KRN",19,"NM",28,0)
ENIT EQUIP RPT^^0
"BLD",7446,"KRN",19,"NM",29,0)
ENIT SIGN EXCEPT RPT^^0
"BLD",7446,"KRN",19,"NM",30,0)
ENIT RESP NOTIFY^^0
"BLD",7446,"KRN",19,"NM",31,0)
ENIT ASSIGN INQ (COM)^^0
"BLD",7446,"KRN",19,"NM",32,0)
ENIT ASSIGN INQ (IT)^^0
"BLD",7446,"KRN",19,"NM",33,0)
ENIT OWNER MENU^^0
"BLD",7446,"KRN",19,"NM","B","ENIN-HIST-SPECIFIC",10)

"BLD",7446,"KRN",19,"NM","B","ENINVINV",4)

"BLD",7446,"KRN",19,"NM","B","ENIT ADD NEW PERSON",23)

"BLD",7446,"KRN",19,"NM","B","ENIT ASSIGN INQ (COM)",31)

"BLD",7446,"KRN",19,"NM","B","ENIT ASSIGN INQ (IT)",32)

"BLD",7446,"KRN",19,"NM","B","ENIT ASSIGN RESP",11)

"BLD",7446,"KRN",19,"NM","B","ENIT CERTIFY RESP",14)

"BLD",7446,"KRN",19,"NM","B","ENIT EQUIP RPT",28)

"BLD",7446,"KRN",19,"NM","B","ENIT INDV RESP RPT (COM)",20)

"BLD",7446,"KRN",19,"NM","B","ENIT INDV RESP RPT (IT)",25)

"BLD",7446,"KRN",19,"NM","B","ENIT INVENTORY EDIT",2)

"BLD",7446,"KRN",19,"NM","B","ENIT MGR",3)

"BLD",7446,"KRN",19,"NM","B","ENIT NON-SPACE FILE LOC RPT",1)

"BLD",7446,"KRN",19,"NM","B","ENIT OWNER MENU",33)

"BLD",7446,"KRN",19,"NM","B","ENIT PRINT HAND RCPT (COM)",19)

"BLD",7446,"KRN",19,"NM","B","ENIT PRINT HAND RCPT (IT)",18)

"BLD",7446,"KRN",19,"NM","B","ENIT RESP MENU",22)

"BLD",7446,"KRN",19,"NM","B","ENIT RESP NOT ASSIGNED RPT",26)

"BLD",7446,"KRN",19,"NM","B","ENIT RESP NOTIFY",30)

"BLD",7446,"KRN",19,"NM","B","ENIT RESP RPT MENU",24)

"BLD",7446,"KRN",19,"NM","B","ENIT RESP SIGN",17)

"BLD",7446,"KRN",19,"NM","B","ENIT RESP UNSIGNED RPT",27)

"BLD",7446,"KRN",19,"NM","B","ENIT SIGN EXCEPT RPT",29)

"BLD",7446,"KRN",19,"NM","B","ENIT TERMINATE RESP",12)

"BLD",7446,"KRN",19,"NM","B","ENIT TRANSFER RESP",13)

"BLD",7446,"KRN",19,"NM","B","ENIT USER ACCOUNT TERMINATED",15)

"BLD",7446,"KRN",19,"NM","B","ENMMBC",5)

"BLD",7446,"KRN",19,"NM","B","ENSP1",8)

"BLD",7446,"KRN",19,"NM","B","ENSPROOMD",7)

"BLD",7446,"KRN",19,"NM","B","XU USER SIGN-ON",9)

"BLD",7446,"KRN",19,"NM","B","XU USER TERMINATE",16)

"BLD",7446,"KRN",19.1,0)
19.1
"BLD",7446,"KRN",19.1,"NM",0)
^9.68A^2^2
"BLD",7446,"KRN",19.1,"NM",1,0)
EN IT INVENTORY^^0
"BLD",7446,"KRN",19.1,"NM",2,0)
EN IT ASSIGNMENT^^0
"BLD",7446,"KRN",19.1,"NM","B","EN IT ASSIGNMENT",2)

"BLD",7446,"KRN",19.1,"NM","B","EN IT INVENTORY",1)

"BLD",7446,"KRN",101,0)
101
"BLD",7446,"KRN",409.61,0)
409.61
"BLD",7446,"KRN",771,0)
771
"BLD",7446,"KRN",870,0)
870
"BLD",7446,"KRN",8989.51,0)
8989.51
"BLD",7446,"KRN",8989.52,0)
8989.52
"BLD",7446,"KRN",8994,0)
8994
"BLD",7446,"KRN","B",.4,.4)

"BLD",7446,"KRN","B",.401,.401)

"BLD",7446,"KRN","B",.402,.402)

"BLD",7446,"KRN","B",.403,.403)

"BLD",7446,"KRN","B",.5,.5)

"BLD",7446,"KRN","B",.84,.84)

"BLD",7446,"KRN","B",3.6,3.6)

"BLD",7446,"KRN","B",3.8,3.8)

"BLD",7446,"KRN","B",9.2,9.2)

"BLD",7446,"KRN","B",9.8,9.8)

"BLD",7446,"KRN","B",19,19)

"BLD",7446,"KRN","B",19.1,19.1)

"BLD",7446,"KRN","B",101,101)

"BLD",7446,"KRN","B",409.61,409.61)

"BLD",7446,"KRN","B",771,771)

"BLD",7446,"KRN","B",870,870)

"BLD",7446,"KRN","B",8989.51,8989.51)

"BLD",7446,"KRN","B",8989.52,8989.52)

"BLD",7446,"KRN","B",8994,8994)

"BLD",7446,"QDEF")
^^^^^^^^^^YES
"BLD",7446,"QUES",0)
^9.62^^
"BLD",7446,"REQB",0)
^9.611^1^1
"BLD",7446,"REQB",1,0)
EN*7.0*40^2
"BLD",7446,"REQB","B","EN*7.0*40",1)

"DATA",6910.9,19,0)
ENEQ1^15^^E^ENEQ2^6914^Equipment Inventory (screen 1 of 3)^1
"DATA",6910.9,19,1,0)
^6910.97A^21^20
"DATA",6910.9,19,1,1,0)
ENTRY #(R)^DY=3,DX=0^10^DY=3,DX=15^.01^N^1^^^^^^1
"DATA",6910.9,19,1,2,0)
MANUFACTURER^DY=5,DX=0^50^DY=5,DX=17^1^P6912'^^^^^^^2
"DATA",6910.9,19,1,2,2)
I $D(ENDA),$G(XGRT)="" S DA=ENDA D LAST^ENEQ3
"DATA",6910.9,19,1,3,0)
MODEL^DY=6,DX=0^25^DY=6,DX=10^4^F^^^^^^^3
"DATA",6910.9,19,1,4,0)
SN^DY=6,DX=39^30^DY=6,DX=46^5^FX^^^^^^^4
"DATA",6910.9,19,1,5,0)
MFGR EQPT NAME^DY=8,DX=0^50^DY=8,DX=19^3^F^^^^^^^7
"DATA",6910.9,19,1,7,0)
CATEGORY^DY=9,DX=30^25^DY=9,DX=43^6^P6911'^^^^^^^9
"DATA",6910.9,19,1,8,0)
VENDOR^DY=11,DX=0^36^DY=11,DX=11^10^P440'^^^^^^^12
"DATA",6910.9,19,1,8,2)
S V(12)=$$GET1^DIQ(6914,DA,10) D VENPRE^ENLIB
"DATA",6910.9,19,1,9,0)
P.O. NO.^DY=10,DX=0^12^DY=10,DX=13^11^FX^^^^^^^10
"DATA",6910.9,19,1,10,0)
ASSET VALUE^DY=12,DX=34^12^DY=12,DX=50^12^NJ10,2^^^^^^^14
"DATA",6910.9,19,1,10,2)
I $P($G(^ENG(6914,DA,3)),U,4)="L" S DJNX=15 I $P($G(^(2)),U,3)]"" S V(14)="",$P(^(2),U,3)="",DJSV=V D N^ENJDPL S V=DJSV
"DATA",6910.9,19,1,11,0)
ACQ. DATE^DY=13,DX=0^12^DY=13,DX=14^13^D^^^^^^^15
"DATA",6910.9,19,1,12,0)
WARRANTY EXP. DATE^DY=13,DX=34^12^DY=13,DX=57^14^D13^^^^^^^16
"DATA",6910.9,19,1,13,0)
LIFE EXPECTANCY^DY=7,DX=34^3^DY=7,DX=54^15^NJ2,0^^^^^^^6
"DATA",6910.9,19,1,13,2)
I $D(^ENG(6914,DA,2)),$P(^(2),U,6)]"" S V(6)=$P(^(2),U,6)
"DATA",6910.9,19,1,14,0)
SOURCE^DY=14,DX=34^20^DY=14,DX=45^13.5^'P420.8^^^^^^^18
"DATA",6910.9,19,1,14,2)
S V(18)=$$GET1^DIQ(6914,DA,13.5)
"DATA",6910.9,19,1,15,0)
CSN^DY=7,DX=0^18^DY=7,DX=8^18^P6917'^^^^^^^5
"DATA",6910.9,19,1,15,1)
S V(7)=$P(^ENG(6914,DA,0),U,2)
"DATA",6910.9,19,1,15,2)
I $D(^ENG(6915.2,"B",DA)) S X=$$CHKFA^ENFAUTL(DA) I $P(X,U) W !,"Since this item is capitalized NX, CSN may be edited only via an FAP document.",!,"Press <RETURN> to continue..." R X:DTIME S DJNX=6
"DATA",6910.9,19,1,16,0)
TYPE^DY=15,DX=0^22^DY=15,DX=9^7^S^^^^^^^19
"DATA",6910.9,19,1,17,0)
CMR^DY=9,DX=0^5^DY=9,DX=8^19^P6914.1'^^^^^^^8
"DATA",6910.9,19,1,17,1)
D CMRDJPS^ENTIDD
"DATA",6910.9,19,1,17,2)
D CMRDJPR^ENTIDD
"DATA",6910.9,19,1,18,0)
REPLACEMENT DATE^DY=14,DX=0^12^DY=14,DX=21^16^D^^^^^^^17
"DATA",6910.9,19,1,18,2)
I $D(^ENG(6914,DA,2)),$P(^(2),U,10)]"" S Y=$P(^(2),U,10) X ^DD("DD") S V(17)=Y
"DATA",6910.9,19,1,19,0)
LEASE COST^DY=12,DX=0^10^DY=12,DX=15^12.5^N^^^^^^^13
"DATA",6910.9,19,1,19,2)
I "^L^M^"'[(U_$P($G(^ENG(6914,DA,3)),U,4)_U) S DJNX=14 I $P($G(^(2)),U,12)]"" S V(13)="",$P(^(2),U,12)="",DJSV=V D N^ENJDPL S V=DJSV
"DATA",6910.9,19,1,20,0)
ACQ. METHOD^DY=10,DX=34^22^DY=10,DX=50^20.1^S^^^^^^^11
"DATA",6910.9,19,1,20,2)
I $D(^ENG(6915.2,"B",DA)) S X=$$CHKFA^ENFAUTL(DA) I $P(X,U) W !,"Capitalized asset. ACQ METHOD edits require an FAP document.",!,"Press <RETURN> to continue..." R X:DTIME S DJNX=12
"DATA",6910.9,19,1,21,0)
REPLACING^DY=15,DX=34^20^DY=15,DX=48^51^'P6914^^^^^^^20
"DATA",6916.2,1,0)
1^EN*7*87^57861048A
"DATA",6916.2,1,1,0)
^^26^26^3080114
"DATA",6916.2,1,1,1,0)
          Government Furnished Equipment (GFE) USAGE GUIDELINES
"DATA",6916.2,1,1,2,0)
* Do not loan GFE to anyone.
"DATA",6916.2,1,1,3,0)
* Do not install personal software.
"DATA",6916.2,1,1,4,0)
* Save data only to secure locations, such as FIPS 140-2 compliant storage
"DATA",6916.2,1,1,5,0)
  devices.
"DATA",6916.2,1,1,6,0)
* Do not attach non-approved portable storage devices to this equipment.
"DATA",6916.2,1,1,7,0)
* Secure and store GFE under lock and key when not in use.
"DATA",6916.2,1,1,8,0)
* Do not check GFE as checked luggage when traveling.
"DATA",6916.2,1,1,9,0)
* Do not modify the configuration of the GFE.
"DATA",6916.2,1,1,10,0)
 
"DATA",6916.2,1,1,11,0)
                       USER RESPONSIBILITIES
"DATA",6916.2,1,1,12,0)
* I understand this equipment is provided for official use only.
"DATA",6916.2,1,1,13,0)
* I understand the transit of VA Information off-site is strictly prohibited
"DATA",6916.2,1,1,14,0)
  unless accompanied by express written authorization.
"DATA",6916.2,1,1,15,0)
* I am required by my supervisor to utilize this equipment to perform the
"DATA",6916.2,1,1,16,0)
  duties of my job.
"DATA",6916.2,1,1,17,0)
* I accept responsibility for the equipment identified above issued to me by
"DATA",6916.2,1,1,18,0)
  the Department of Veterans Affairs.
"DATA",6916.2,1,1,19,0)
* I fully understand that I could be billed for the replacement cost for any
"DATA",6916.2,1,1,20,0)
  damage or loss occurring as a result of negligence.
"DATA",6916.2,1,1,21,0)
* I have read and understand current VA Security Directive 6500 and any
"DATA",6916.2,1,1,22,0)
  subsequent revisions or recensions.
"DATA",6916.2,1,1,23,0)
* I will care for and protect equipment from loss or damage and will notify IT
"DATA",6916.2,1,1,24,0)
  staff of any loss, damage or operational failures incurred.
"DATA",6916.2,1,1,25,0)
* I understand that it is my responsibility to periodically return the
"DATA",6916.2,1,1,26,0)
  equipment for routine maintenance.
"FIA",6910.9)
ENG DJ SCREEN
"FIA",6910.9,0)
^ENG(6910.9,
"FIA",6910.9,0,0)
6910.9I
"FIA",6910.9,0,1)
n^n^f^^n^^y^o^n
"FIA",6910.9,0,10)

"FIA",6910.9,0,11)
I "^ENEQ1^"[(U_$P($G(^ENG(6910.9,+Y,0)),U)_U)
"FIA",6910.9,0,"RLRO")

"FIA",6910.9,0,"VR")
7.0^EN
"FIA",6910.9,6910.9)
0
"FIA",6910.9,6910.97)
0
"FIA",6914)
EQUIPMENT INV.
"FIA",6914,0)
^ENG(6914,
"FIA",6914,0,0)
6914I
"FIA",6914,0,1)
y^n^p^^^^n^^n
"FIA",6914,0,10)

"FIA",6914,0,11)

"FIA",6914,0,"RLRO")

"FIA",6914,0,"VR")
7.0^EN
"FIA",6914,6914)
1
"FIA",6914,6914,19)

"FIA",6914,6914,24)

"FIA",6914,6914,90)

"FIA",6914,6914,90.1)

"FIA",6914,6914,90.2)

"FIA",6914,6914,91)

"FIA",6914,6914,92)

"FIA",6914,6914.092)
0
"FIA",6914.1)
CMR
"FIA",6914.1,0)
^ENG(6914.1,
"FIA",6914.1,0,0)
6914.1I
"FIA",6914.1,0,1)
y^n^p^^^^n^^n
"FIA",6914.1,0,10)

"FIA",6914.1,0,11)

"FIA",6914.1,0,"RLRO")

"FIA",6914.1,0,"VR")
7.0^EN
"FIA",6914.1,6914.1)
1
"FIA",6914.1,6914.1,6)

"FIA",6914.1,6914.1,30)

"FIA",6914.1,6914.1,31)

"FIA",6916.2)
HAND RECEIPT TEXT
"FIA",6916.2,0)
^ENG(6916.2,
"FIA",6916.2,0,0)
6916.2
"FIA",6916.2,0,1)
y^y^f^^n^^y^o^n
"FIA",6916.2,0,10)

"FIA",6916.2,0,11)

"FIA",6916.2,0,"RLRO")

"FIA",6916.2,0,"VR")
7.0^EN
"FIA",6916.2,6916.2)
0
"FIA",6916.2,6916.21)
0
"FIA",6916.3)
IT ASSIGNMENT
"FIA",6916.3,0)
^ENG(6916.3,
"FIA",6916.3,0,0)
6916.3PI
"FIA",6916.3,0,1)
y^y^f^^^^n
"FIA",6916.3,0,10)

"FIA",6916.3,0,11)

"FIA",6916.3,0,"RLRO")

"FIA",6916.3,0,"VR")
7.0^EN
"FIA",6916.3,6916.3)
0
"FIA",6916.3,6916.31)
0
"IX",6914,6914,"ACMR",0)
6914^ACMR^Terminate IT assignments when appropriate.^MU^^F^^I^6914^^^^^A
"IX",6914,6914,"ACMR",.1,0)
^^4^4^3080204^
"IX",6914,6914,"ACMR",.1,1,0)
Automatically terminate active IT assignments of responsibility when the
"IX",6914,6914,"ACMR",.1,2,0)
equipment CMR is deleted or changed to one that does not have IT TRACKING
"IX",6914,6914,"ACMR",.1,3,0)
= YES.  A message is sent to mail group G.EN IT EQUIPMENT if any
"IX",6914,6914,"ACMR",.1,4,0)
assignments are terminated.
"IX",6914,6914,"ACMR",1)
Q
"IX",6914,6914,"ACMR",2)
D CMRUPD^ENTIDD(DA,X1(1),X2(1))
"IX",6914,6914,"ACMR",2.4)
S X=$S(X2(1)'=X1(1):1,1:0)
"IX",6914,6914,"ACMR",11.1,0)
^.114IA^1^1
"IX",6914,6914,"ACMR",11.1,1,0)
1^F^6914^19^^^F
"IX",6914,6914,"ALNSP",0)
6914^ALNSP^Deletes the NON-SPACE FILE LOCATION field.^MU^^F^^I^6914^^^^^A
"IX",6914,6914,"ALNSP",.1,0)
^^2^2^3080204^
"IX",6914,6914,"ALNSP",.1,1,0)
This cross-reference deletes the NON-SPACE FILE LOCATION value whenever a
"IX",6914,6914,"ALNSP",.1,2,0)
new LOCATION value is entered.
"IX",6914,6914,"ALNSP",1)
D DELNSP^ENTINSD(DA)
"IX",6914,6914,"ALNSP",1.4)
S X=$S((X2(1)'=X1(1))&(X2(1)'=""):1,1:0)
"IX",6914,6914,"ALNSP",2)
Q
"IX",6914,6914,"ALNSP",11.1,0)
^.114IA^1^1
"IX",6914,6914,"ALNSP",11.1,1,0)
1^F^6914^24^^1^F
"IX",6914,6914,"ANSPB",0)
6914^ANSPB^Send a bulletin^MU^^R^^I^6914^^^^^A
"IX",6914,6914,"ANSPB",.1,0)
^^2^2^3080204^
"IX",6914,6914,"ANSPB",.1,1,0)
This x-ref sends a bulletin when a new value is entered in the NON-SPACE
"IX",6914,6914,"ANSPB",.1,2,0)
FILE LOCATION field.
"IX",6914,6914,"ANSPB",1)
D BUL^ENTINSD(DA)
"IX",6914,6914,"ANSPB",1.4)
S X=$S(X2(1)'=X1(1):1,1:0)
"IX",6914,6914,"ANSPB",2)
Q
"IX",6914,6914,"ANSPB",11.1,0)
^.114IA^1^1
"IX",6914,6914,"ANSPB",11.1,1,0)
1^F^6914^90^^1^F
"IX",6914,6914,"ANSPT",0)
6914^ANSPT^NON-SPACE FILE LOCATION field triggers^MU^^F^^I^6914^^^^^A
"IX",6914,6914,"ANSPT",.1,0)
^^3^3^3080204^
"IX",6914,6914,"ANSPT",.1,1,0)
This cross-reference triggers the NON-SPACE FILE PERSON and NON-SPACE 
"IX",6914,6914,"ANSPT",.1,2,0)
FILE DATE/TIME fields when the value of the NON-SPACE FILE LOCATION 
"IX",6914,6914,"ANSPT",.1,3,0)
changes.
"IX",6914,6914,"ANSPT",1)
D NSPT^ENTINSD(DA,"S")
"IX",6914,6914,"ANSPT",1.4)
S X=$S(X2(1)'=X1(1):1,1:0)
"IX",6914,6914,"ANSPT",2)
D NSPT^ENTINSD(DA,"K")
"IX",6914,6914,"ANSPT",2.4)
S X=$S(X2(1)'=X1(1):1,1:0)
"IX",6914,6914,"ANSPT",11.1,0)
^.114IA^1^1
"IX",6914,6914,"ANSPT",11.1,1,0)
1^F^6914^90^^1^F
"IX",6914.1,6914.1,"AIT",0)
6914.1^AIT^Index of CMRs with IT TRACKING set to YES.^R^^F^IR^I^6914.1^^^^^S
"IX",6914.1,6914.1,"AIT",1)
S ^ENG(6914.1,"AIT",X,DA)=""
"IX",6914.1,6914.1,"AIT",1.4)
I X=1
"IX",6914.1,6914.1,"AIT",2)
K ^ENG(6914.1,"AIT",X,DA)
"IX",6914.1,6914.1,"AIT",2.5)
K ^ENG(6914.1,"AIT")
"IX",6914.1,6914.1,"AIT",11.1,0)
^.114IA^1^1
"IX",6914.1,6914.1,"AIT",11.1,1,0)
1^F^6914.1^6^^1^F
"IX",6914.1,6914.1,"AIT",11.1,1,3)

"IX",6916.3,6916.3,"AEA",0)
6916.3^AEA^Equipment with active assignment.^R^^R^IR^I^6916.3^^^^^S
"IX",6916.3,6916.3,"AEA",.1,0)
^^3^3^3071114^
"IX",6916.3,6916.3,"AEA",.1,1,0)
Cross-reference by equipment of active assignments.  An assignment is 
"IX",6916.3,6916.3,"AEA",.1,2,0)
considered active if it does not have a value in the ENDED DATE/TIME 
"IX",6916.3,6916.3,"AEA",.1,3,0)
field.
"IX",6916.3,6916.3,"AEA",1)
S ^ENG(6916.3,"AEA",X(1),DA)=""
"IX",6916.3,6916.3,"AEA",1.4)
S X=$S(X(2)="":1,1:0)
"IX",6916.3,6916.3,"AEA",2)
K ^ENG(6916.3,"AEA",X(1),DA)
"IX",6916.3,6916.3,"AEA",2.4)

"IX",6916.3,6916.3,"AEA",2.5)
K ^ENG(6916.3,"AEA")
"IX",6916.3,6916.3,"AEA",11.1,0)
^.114IA^2^2
"IX",6916.3,6916.3,"AEA",11.1,1,0)
1^F^6916.3^.01^^1^F
"IX",6916.3,6916.3,"AEA",11.1,2,0)
2^F^6916.3^7^^^F
"IX",6916.3,6916.3,"AOA",0)
6916.3^AOA^Owner's IT equipment with active assignment.^R^^R^IR^I^6916.3^^^^^S
"IX",6916.3,6916.3,"AOA",.1,0)
^^3^3^3071120^
"IX",6916.3,6916.3,"AOA",.1,1,0)
Cross-reference by owner and equipment of active assignments.  An
"IX",6916.3,6916.3,"AOA",.1,2,0)
assignment is considered active if it does not have a value in the ENDED
"IX",6916.3,6916.3,"AOA",.1,3,0)
DATE/TIME field.
"IX",6916.3,6916.3,"AOA",1)
S ^ENG(6916.3,"AOA",X(1),X(2),DA)=""
"IX",6916.3,6916.3,"AOA",1.4)
S X=$S(X(3)="":1,1:0)
"IX",6916.3,6916.3,"AOA",2)
K ^ENG(6916.3,"AOA",X(1),X(2),DA)
"IX",6916.3,6916.3,"AOA",2.5)
K ^ENG(6916.3,"AOA")
"IX",6916.3,6916.3,"AOA",11.1,0)
^.114IA^3^3
"IX",6916.3,6916.3,"AOA",11.1,1,0)
1^F^6916.3^1^^1^F
"IX",6916.3,6916.3,"AOA",11.1,2,0)
2^F^6916.3^.01^^2^F
"IX",6916.3,6916.3,"AOA",11.1,3,0)
3^F^6916.3^7^^^F
"IX",6916.3,6916.3,"AOU",0)
6916.3^AOU^Owner with unsigned active assignment.^R^^R^IR^I^6916.3^^^^^S
"IX",6916.3,6916.3,"AOU",.1,0)
^^5^5^3071218^
"IX",6916.3,6916.3,"AOU",.1,1,0)
Cross-reference by owner of active assignments that have not been
"IX",6916.3,6916.3,"AOU",.1,2,0)
certified or electronically signed. An assignment is considered active if
"IX",6916.3,6916.3,"AOU",.1,3,0)
it does not have a value in the ENDED DATE/TIME field.  An assignment is
"IX",6916.3,6916.3,"AOU",.1,4,0)
considered as not signed or certified if it does not have a value in the
"IX",6916.3,6916.3,"AOU",.1,5,0)
SIGNED DATE/TIME field.
"IX",6916.3,6916.3,"AOU",1)
S ^ENG(6916.3,"AOU",X(1),DA)=""
"IX",6916.3,6916.3,"AOU",1.4)
S X=$S(X(2)=""&(X(3)=""):1,1:0)
"IX",6916.3,6916.3,"AOU",2)
K ^ENG(6916.3,"AOU",X(1),DA)
"IX",6916.3,6916.3,"AOU",2.5)
K ^ENG(6916.3,"AOU")
"IX",6916.3,6916.3,"AOU",11.1,0)
^.114IA^3^3
"IX",6916.3,6916.3,"AOU",11.1,1,0)
1^F^6916.3^1^^1^F
"IX",6916.3,6916.3,"AOU",11.1,1,3)

"IX",6916.3,6916.3,"AOU",11.1,2,0)
2^F^6916.3^7^^^F
"IX",6916.3,6916.3,"AOU",11.1,2,3)

"IX",6916.3,6916.3,"AOU",11.1,3,0)
3^F^6916.3^4^^^F
"IX",6916.3,6916.3,"AOU",11.1,3,3)

"KRN",.4,2814,-1)
0^1
"KRN",.4,2814,0)
ENIT ASSIGNMENT INQ^3080107.1143^^6916.3^^@^3080128
"KRN",.4,2814,"DXS",1,9.2)
S I(0,0)=$G(D0),DIP(1)=$S($D(^ENG(6916.3,D0,0)):^(0),1:""),D0=$P(DIP(1),U,6) S:'D0!'$D(^ENG(6916.2,+D0,0)) D0=-1 S DIP(101)=$S($D(^ENG(6916.2,D0,0)):^(0),1:"")
"KRN",.4,2814,"F",1)
"EQUIPMENT: "~.01;L10;X~"OWNER: ";C25~1;X~"STATUS(c): ";C1~20;L9;X~"STATUS DATE(c): ";C25~21;L8;X~"ASSIGNED: ";S1~2;C12;X~"BY: ";C35~3;X~"SIGNED: ";S1~
"KRN",.4,2814,"F",2)
4;C12;X~"TEXT VERSION: ";C35~5;L4;X~"  FROM PATCH: "~X DXS(1,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;X;Z;"HAND RECEIPT TEXT:PATCH"~
"KRN",.4,2814,"F",3)
"CERTIFIED: ";C1~5.9;C12;X~"BY: ";C35~6;X~"ENDED: ";S1~7;C12;X~"BY: ";C35~8;X~"PREVIOUS SIGNATURES:";S1~30,"SIGNED: ";C3~30,.01;X~30,"  CERTIFIED: "~
"KRN",.4,2814,"F",4)
30,2;X~30,"  BY: "~30,3;X~
"KRN",.4,2814,"H")
IT ASSIGNMENT
"KRN",.403,127,-1)
0^1
"KRN",.403,127,0)
ENIT EDIT^@^@^^3071029.1156^^^6914^0^0^1
"KRN",.403,127,40,0)
^.4031I^1^1
"KRN",.403,127,40,1,0)
1^^1,1
"KRN",.403,127,40,1,1)
Page 1
"KRN",.403,127,40,1,40,0)
^.4032IP^474^2
"KRN",.403,127,40,1,40,473,0)
ENIT EQHD^1^1,1^d
"KRN",.403,127,40,1,40,474,0)
ENIT EQED^2^7,1^e
"KRN",.404,473,0)
ENIT EQHD^6914^
"KRN",.404,473,40,0)
^.4044I^7^7
"KRN",.404,473,40,1,0)
1^Inventory Edit (IT)^1
"KRN",.404,473,40,1,2)
^^1,30
"KRN",.404,473,40,2,0)
2^Entry #^3
"KRN",.404,473,40,2,1)
.01
"KRN",.404,473,40,2,2)
2,10^10^2,1
"KRN",.404,473,40,3,0)
3^Mfgr^3
"KRN",.404,473,40,3,1)
1
"KRN",.404,473,40,3,2)
3,7^60^3,1
"KRN",.404,473,40,4,0)
4^Model^3
"KRN",.404,473,40,4,1)
4
"KRN",.404,473,40,4,2)
4,8^30^4,1
"KRN",.404,473,40,5,0)
5^Serial #^3
"KRN",.404,473,40,5,1)
5
"KRN",.404,473,40,5,2)
4,50^30^4,40
"KRN",.404,473,40,6,0)
6^^3
"KRN",.404,473,40,6,1)
3
"KRN",.404,473,40,6,2)
5,1^57
"KRN",.404,473,40,7,0)
7^--------------------------------------------------------------------------------^1
"KRN",.404,473,40,7,2)
^^6,1
"KRN",.404,474,0)
ENIT EQED^6914
"KRN",.404,474,40,0)
^.4044I^9^9
"KRN",.404,474,40,1,0)
1^LOCATION^3
"KRN",.404,474,40,1,1)
24
"KRN",.404,474,40,1,2)
2,11^20^2,1
"KRN",.404,474,40,1,13)
D PUT^DDSVAL(6914,DA,90,"@")
"KRN",.404,474,40,2,0)
2^NON-SPACE FILE LOCATION^3
"KRN",.404,474,40,2,1)
90
"KRN",.404,474,40,2,2)
2,58^20^2,33
"KRN",.404,474,40,3,0)
3^IT REMOTE LOCATION (Press <PF1>Z for zoom editor)^3
"KRN",.404,474,40,3,1)
91
"KRN",.404,474,40,3,2)
5,3^75^4,1
"KRN",.404,474,40,4,0)
4^CMR^3
"KRN",.404,474,40,4,1)
19
"KRN",.404,474,40,4,2)
7,6^5^7,1
"KRN",.404,474,40,4,14)
I X'=DDSOLD S:'X DDSERROR=1 D:'X HLP^DDSUTL("Can't delete CMR.") Q:'X  I '$D(^ENG(6914.1,"AIT",1,X)) S DDSERROR=1 D HLP^DDSUTL("New CMR must have IT TRACKING = YES")
"KRN",.404,474,40,5,0)
5^USING SERVICE^3
"KRN",.404,474,40,5,1)
21
"KRN",.404,474,40,5,2)
7,28^30^7,13
"KRN",.404,474,40,6,0)
6^UPDATE INVENTORY DATE?^2^^UPDINVDT
"KRN",.404,474,40,6,2)
9,25^1^9,1
"KRN",.404,474,40,6,13)
I X D PUT^DDSVAL(6914,DA,23,DT,"","I"),PUT^DDSVALF("UPDINVDT","","","")
"KRN",.404,474,40,6,20)
Y
"KRN",.404,474,40,6,21,0)
^^1^1^3071029^
"KRN",.404,474,40,6,21,1,0)
Enter YES if you want to update Last Inventoried value to today.
"KRN",.404,474,40,7,0)
7^LAST INVENTORIED(R)^3
"KRN",.404,474,40,7,1)
23
"KRN",.404,474,40,7,2)
9,50^12^9,29
"KRN",.404,474,40,7,4)
^^^1
"KRN",.404,474,40,8,0)
8^IT COMMENTS (wp)^3
"KRN",.404,474,40,8,1)
92
"KRN",.404,474,40,8,2)
11,19^1^11,1
"KRN",.404,474,40,9,0)
9^!M^1
"KRN",.404,474,40,9,.1)
N ENWP S ENWP=$$GET^DDSVAL(6914,.DA,92),Y=$S(ENWP]"":$G(@ENWP@(1,0)),1:""),Y=$S(Y]"":"["_$E(Y,1,56)_"]",1:"(empty)")
"KRN",.404,474,40,9,2)
^^11,22
"KRN",3.6,287,-1)
0^1
"KRN",3.6,287,0)
EN NON-SPACE FILE LOC^Non-Space File Location |2|^^0
"KRN",3.6,287,1,0)
^3.61A^16^16^3071025^^
"KRN",3.6,287,1,1,0)
A new value has been entered in the NON-SPACE FILE LOCATION field of the 
"KRN",3.6,287,1,2,0)
EQUIPMENT INV. (#6914) file because an appropriate selection was not 
"KRN",3.6,287,1,3,0)
available in the ENG SPACE (#6928) file.
"KRN",3.6,287,1,4,0)
 
"KRN",3.6,287,1,5,0)
Please use the Enter New Room Space Data to create an appropriate location
"KRN",3.6,287,1,6,0)
in the ENG SPACE file.  Once an appropriate location is available, the
"KRN",3.6,287,1,7,0)
LOCATION field of the equipment should be updated.  The NON-SPACE FILE
"KRN",3.6,287,1,8,0)
LOCATION field will be automatically deleted when the equipment location
"KRN",3.6,287,1,9,0)
is changed.
"KRN",3.6,287,1,10,0)
 
"KRN",3.6,287,1,11,0)
Some sites may choose to respond to this message when the location is 
"KRN",3.6,287,1,12,0)
available so the requester can update the equipment record.
"KRN",3.6,287,1,13,0)
 
"KRN",3.6,287,1,14,0)
NON-SPACE FILE LOCATION: |2|
"KRN",3.6,287,1,15,0)
was entered for Equipment Entry #: |1|
"KRN",3.6,287,1,16,0)
by |3| on |4|
"KRN",3.6,287,3,0)
^3.63^2^2^3071025^^
"KRN",3.6,287,3,1,0)
This bulletin is automatically generated when a value is entered in the 
"KRN",3.6,287,3,2,0)
NON-SPACE FILE LOCATION field of the EQUIPMENT INV. (#6914) file.
"KRN",3.6,287,4,0)
^3.64A^4^4
"KRN",3.6,287,4,1,0)
1
"KRN",3.6,287,4,1,1,0)
^3.65^1^1^3071025^^
"KRN",3.6,287,4,1,1,1,0)
ENTRY NUMER field value from the EQUIPMENT INV. file.
"KRN",3.6,287,4,2,0)
2
"KRN",3.6,287,4,2,1,0)
^^1^1^3071025^
"KRN",3.6,287,4,2,1,1,0)
NON-SPACE FILE LOCATION value field from the EQUIPMENT INV. file.
"KRN",3.6,287,4,3,0)
3
"KRN",3.6,287,4,3,1,0)
^^1^1^3071025^
"KRN",3.6,287,4,3,1,1,0)
NON-SPACE FILE PERSON field from the EQUIPMENT INV. file.
"KRN",3.6,287,4,4,0)
4
"KRN",3.6,287,4,4,1,0)
^3.65^1^1^3071025^^^
"KRN",3.6,287,4,4,1,1,0)
NON-SPACE FILE DATE/TIME field from the EQUIPMENT INV. file.
"KRN",3.8,6208,-1)
0^1
"KRN",3.8,6208,0)
EN NON-SPACE FILE LOC^PU^y^^^^
"KRN",3.8,6208,2,0)
^3.801^5^5^3071025^^^
"KRN",3.8,6208,2,1,0)
This mail group automatically receives a message when a value is entered
"KRN",3.8,6208,2,2,0)
in the NON-SPACE FILE LOCATION field of the EQUIPMENT INV. (#6914) file.  
"KRN",3.8,6208,2,3,0)
The mail group is intended to have members that can add appropriate
"KRN",3.8,6208,2,4,0)
entries to the ENG SPACE (#6928) file based on the NON-SPACE FILE LOCATION
"KRN",3.8,6208,2,5,0)
value.
"KRN",3.8,6208,3)

"KRN",3.8,6211,-1)
0^2
"KRN",3.8,6211,0)
EN IT EQUIPMENT^PU^n^^^^
"KRN",3.8,6211,2,0)
^^4^4^3080211^
"KRN",3.8,6211,2,1,0)
This mail group receives messages about assignments of responsibility for 
"KRN",3.8,6211,2,2,0)
IT equipment from the Engineering (AEMS/MERS) application.  IT staff 
"KRN",3.8,6211,2,3,0)
responsible for managing and monitoring the assignments of responsibility
"KRN",3.8,6211,2,4,0)
should be members of this group.
"KRN",3.8,6211,3)

"KRN",19,5545,-1)
2^9
"KRN",19,5545,0)
XU USER SIGN-ON^User sign-on event^^X^11416^^^^^^^172^^
"KRN",19,5545,10,0)
^19.01IP^7^6
"KRN",19,5545,10,7,0)
13117
"KRN",19,5545,10,7,"^")
ENIT RESP NOTIFY
"KRN",19,5545,"U")
USER SIGN-ON EVENT
"KRN",19,5591,-1)
2^16
"KRN",19,5591,0)
XU USER TERMINATE^User terminate event^^X^66481^^^^^^^172^y^1^^^
"KRN",19,5591,10,0)
^19.01IP^7^6
"KRN",19,5591,10,7,0)
13129
"KRN",19,5591,10,7,"^")
ENIT USER ACCOUNT TERMINATED
"KRN",19,5591,"U")
USER TERMINATE EVENT
"KRN",19,5664,-1)
4^4
"KRN",19,5664,0)
ENINVINV
"KRN",19,5693,-1)
4^10
"KRN",19,5693,0)
ENIN-HIST-SPECIFIC
"KRN",19,5700,-1)
4^7
"KRN",19,5700,0)
ENSPROOMD
"KRN",19,5708,-1)
2^8
"KRN",19,5708,0)
ENSP1^Space Management^^M^.5^^^^^^^^^1
"KRN",19,5708,10,0)
^19.01IP^9^5
"KRN",19,5708,10,2,0)
5700^2
"KRN",19,5708,10,2,"^")
ENSPROOMD
"KRN",19,5708,10,9,0)
13072^5
"KRN",19,5708,10,9,"^")
ENIT NON-SPACE FILE LOC RPT
"KRN",19,5708,"U")
SPACE MANAGEMENT
"KRN",19,5799,-1)
4^5
"KRN",19,5799,0)
ENMMBC
"KRN",19,13072,-1)
0^1
"KRN",19,13072,0)
ENIT NON-SPACE FILE LOC RPT^Non-Space File Location Report^^R^^^^^^^^ENGINEERING
"KRN",19,13072,1,0)
^19.06^5^5^3080204^^
"KRN",19,13072,1,1,0)
This report generates a list of equipment that has a value in the 
"KRN",19,13072,1,2,0)
NON-SPACE FILE LOCATION field.  Equipment should only have a value in this
"KRN",19,13072,1,3,0)
field when the LOCATION field can not be updated because an appropriate
"KRN",19,13072,1,4,0)
location is not available in the ENG SPACE file.  Ideally, equipment will 
"KRN",19,13072,1,5,0)
not remain on this report for an extended period.
"KRN",19,13072,25)
ENTINSR
"KRN",19,13072,"U")
NON-SPACE FILE LOCATION REPORT
"KRN",19,13073,-1)
0^2
"KRN",19,13073,0)
ENIT INVENTORY EDIT^Inventory Edit (IT)^^R^^EN IT INVENTORY^^^^^^ENGINEERING
"KRN",19,13073,1,0)
^19.06^3^3^3080204^^
"KRN",19,13073,1,1,0)
Edit the record of an existing piece of equipment.  This option gives 
"KRN",19,13073,1,2,0)
access to fields editable by IT personnel.  Only equipment that has a CMR 
"KRN",19,13073,1,3,0)
with IT TRACKING set to YES can be selected via this option.
"KRN",19,13073,25)
ENTIEQE
"KRN",19,13073,"U")
INVENTORY EDIT (IT)
"KRN",19,13074,-1)
0^3
"KRN",19,13074,0)
ENIT MGR^IT Equipment Module^^M^^^^^^^^ENGINEERING
"KRN",19,13074,1,0)
^19.06^1^1^3080204^^^
"KRN",19,13074,1,1,0)
This is a top level menu designed for IT personnel.
"KRN",19,13074,10,0)
^19.01IP^7^7
"KRN",19,13074,10,1,0)
13073^1
"KRN",19,13074,10,1,"^")
ENIT INVENTORY EDIT
"KRN",19,13074,10,2,0)
5664^2
"KRN",19,13074,10,2,"^")
ENINVINV
"KRN",19,13074,10,3,0)
5799^3
"KRN",19,13074,10,3,"^")
ENMMBC
"KRN",19,13074,10,4,0)
5693^4
"KRN",19,13074,10,4,"^")
ENIN-HIST-SPECIFIC
"KRN",19,13074,10,5,0)
5700^5
"KRN",19,13074,10,5,"^")
ENSPROOMD
"KRN",19,13074,10,6,0)
13072^6
"KRN",19,13074,10,6,"^")
ENIT NON-SPACE FILE LOC RPT
"KRN",19,13074,10,7,0)
13107^7
"KRN",19,13074,10,7,"^")
ENIT RESP MENU
"KRN",19,13074,99)
61003,35612
"KRN",19,13074,99.1)
61081,32678
"KRN",19,13074,"U")
IT EQUIPMENT MODULE
"KRN",19,13106,-1)
0^12
"KRN",19,13106,0)
ENIT TERMINATE RESP^Terminate Responsibility^^R^^EN IT ASSIGNMENT^^^^^^ENGINEERING
"KRN",19,13106,1,0)
^^3^3^3071130^
"KRN",19,13106,1,1,0)
This option enables the user to terminate one or more active
"KRN",19,13106,1,2,0)
responsibilities from a list of responsibilities based on an
"KRN",19,13106,1,3,0)
equipment item or a person.
"KRN",19,13106,25)
ENTIRT
"KRN",19,13106,"U")
TERMINATE RESPONSIBILITY
"KRN",19,13107,-1)
0^22
"KRN",19,13107,0)
ENIT RESP MENU^IT Equipment Responsibility^^M^^^^^^^^ENGINEERING
"KRN",19,13107,1,0)
^19.06^1^1^3080204^^^^
"KRN",19,13107,1,1,0)
This is the menu for the equipment responsibility options.
"KRN",19,13107,10,0)
^19.01IP^7^7
"KRN",19,13107,10,1,0)
13106^^2
"KRN",19,13107,10,1,"^")
ENIT TERMINATE RESP
"KRN",19,13107,10,2,0)
13108^^3
"KRN",19,13107,10,2,"^")
ENIT TRANSFER RESP
"KRN",19,13107,10,3,0)
13109^^1
"KRN",19,13107,10,3,"^")
ENIT ASSIGN RESP
"KRN",19,13107,10,4,0)
13113^^4
"KRN",19,13107,10,4,"^")
ENIT CERTIFY RESP
"KRN",19,13107,10,5,0)
13115^^7
"KRN",19,13107,10,5,"^")
ENIT RESP RPT MENU
"KRN",19,13107,10,6,0)
13116^^6
"KRN",19,13107,10,6,"^")
ENIT ADD NEW PERSON
"KRN",19,13107,10,7,0)
13127^^5
"KRN",19,13107,10,7,"^")
ENIT PRINT HAND RCPT (IT)
"KRN",19,13107,99)
61080,60724
"KRN",19,13107,"U")
IT EQUIPMENT RESPONSIBILITY
"KRN",19,13108,-1)
0^13
"KRN",19,13108,0)
ENIT TRANSFER RESP^Transfer Responsibility^^R^^EN IT ASSIGNMENT^^^^^^ENGINEERING
"KRN",19,13108,1,0)
^19.06^2^2^3080325^^
"KRN",19,13108,1,1,0)
This option terminates selected responsibilities and creates new
"KRN",19,13108,1,2,0)
responsibilities for equipment under another person.
"KRN",19,13108,25)
ENTIRX
"KRN",19,13108,"U")
TRANSFER RESPONSIBILITY
"KRN",19,13109,-1)
0^11
"KRN",19,13109,0)
ENIT ASSIGN RESP^Assign Responsibility^^R^^EN IT ASSIGNMENT^^^^^^ENGINEERING
"KRN",19,13109,1,0)
^19.06^2^2^3080204^^^^
"KRN",19,13109,1,1,0)
Assign responsibility for IT equipment inventory items to individuals.  
"KRN",19,13109,1,2,0)
Only equipment on a CMR that has IT TRACKING set to YES can be assigned.
"KRN",19,13109,25)
ENTIRA
"KRN",19,13109,"U")
ASSIGN RESPONSIBILITY
"KRN",19,13110,-1)
0^17
"KRN",19,13110,0)
ENIT RESP SIGN^Accept IT Responsibility^^R^^^^^^^^ENGINEERING
"KRN",19,13110,1,0)
^^3^3^3071211^
"KRN",19,13110,1,1,0)
The user will accept responsibility for assigned IT equipment by
"KRN",19,13110,1,2,0)
this option.  This option allows a user to sign to reaffirm the
"KRN",19,13110,1,3,0)
acceptance, as well as, enter the initial acceptance.
"KRN",19,13110,25)
ENTIRS
"KRN",19,13110,"U")
ACCEPT IT RESPONSIBILITY
"KRN",19,13111,-1)
0^25
"KRN",19,13111,0)
ENIT INDV RESP RPT (IT)^Individual Responsibility for IT Assets Report^^R^^^^^^^^ENGINEERING^^1^1
"KRN",19,13111,1,0)
^19.06^2^2^3080204^^
"KRN",19,13111,1,1,0)
Report of all IT equipment currently assigned to a specific responsible
"KRN",19,13111,1,2,0)
individual.
"KRN",19,13111,15)
K ENITMENU
"KRN",19,13111,20)
S ENITMENU=1
"KRN",19,13111,25)
ENTIRRI
"KRN",19,13111,"U")
INDIVIDUAL RESPONSIBILITY FOR 
"KRN",19,13112,-1)
0^20
"KRN",19,13112,0)
ENIT INDV RESP RPT (COM)^Individual Responsibility for IT Assets Report^^R^^^^^^^^ENGINEERING
"KRN",19,13112,1,0)
^19.06^1^1^3080204^^
"KRN",19,13112,1,1,0)
Report of all IT equipment currently assigned to the user.
"KRN",19,13112,25)
ENTIRRI
"KRN",19,13112,"U")
INDIVIDUAL RESPONSIBILITY FOR 
"KRN",19,13113,-1)
0^14
"KRN",19,13113,0)
ENIT CERTIFY RESP^Certify Hard Copy Signature^^R^^EN IT ASSIGNMENT^^^^^^ENGINEERING
"KRN",19,13113,1,0)
^^5^5^3071217^
"KRN",19,13113,1,1,0)
This option enables an IT person to certify that an assigned person
"KRN",19,13113,1,2,0)
has signed a hard copy hand receipt accepting responsibility for
"KRN",19,13113,1,3,0)
tracked IT equipment.  This option is expected to be used only when
"KRN",19,13113,1,4,0)
the assigned person does not have access to VistA in order to
"KRN",19,13113,1,5,0)
directly, electronically sign for the equipment.
"KRN",19,13113,25)
ENTIRC
"KRN",19,13113,"U")
CERTIFY HARD COPY SIGNATURE
"KRN",19,13114,-1)
0^28
"KRN",19,13114,0)
ENIT EQUIP RPT^Tracked IT Assets Report^^R^^^^^^^^ENGINEERING
"KRN",19,13114,1,0)
^19.06^3^3^3080204^^
"KRN",19,13114,1,1,0)
Report of equipment inventory that has a CMR value with IT TRACKING 
"KRN",19,13114,1,2,0)
equal to YES.  The report can be run for specific equipment, groups of
"KRN",19,13114,1,3,0)
equipment, or all tracked IT equipment.
"KRN",19,13114,25)
ENTIRRE
"KRN",19,13114,"U")
TRACKED IT ASSETS REPORT
"KRN",19,13115,-1)
0^24
"KRN",19,13115,0)
ENIT RESP RPT MENU^IT Equipment Report Menu^^M^^^^^^^^ENGINEERING
"KRN",19,13115,1,0)
^19.06^1^1^3080204^^
"KRN",19,13115,1,1,0)
Menu of IT equipment reports.
"KRN",19,13115,10,0)
^19.01IP^6^6
"KRN",19,13115,10,1,0)
13111^^1
"KRN",19,13115,10,1,"^")
ENIT INDV RESP RPT (IT)
"KRN",19,13115,10,2,0)
13114^^4
"KRN",19,13115,10,2,"^")
ENIT EQUIP RPT
"KRN",19,13115,10,3,0)
13118^^5
"KRN",19,13115,10,3,"^")
ENIT SIGN EXCEPT RPT
"KRN",19,13115,10,4,0)
13125^^2
"KRN",19,13115,10,4,"^")
ENIT RESP NOT ASSIGNED RPT
"KRN",19,13115,10,5,0)
13126^^3
"KRN",19,13115,10,5,"^")
ENIT RESP UNSIGNED RPT
"KRN",19,13115,10,6,0)
13131^^6
"KRN",19,13115,10,6,"^")
ENIT ASSIGN INQ (IT)
"KRN",19,13115,99)
60998,62601
"KRN",19,13115,"U")
IT EQUIPMENT REPORT MENU
"KRN",19,13116,-1)
0^23
"KRN",19,13116,0)
ENIT ADD NEW PERSON^Add Entry to New Person File^^R^^EN IT ASSIGNMENT^^^^^^ENGINEERING
"KRN",19,13116,1,0)
^^3^3^3080212^
"KRN",19,13116,1,1,0)
Add an entry to the NEW PERSON file.  A person should only be added with 
"KRN",19,13116,1,2,0)
this option if that person will NOT be provided a user account to sign on
"KRN",19,13116,1,3,0)
the computer, but will be assigned responsibility for IT equipment.
"KRN",19,13116,25)
ADDNP^ENTIUTL
"KRN",19,13116,"U")
ADD ENTRY TO NEW PERSON FILE
"KRN",19,13117,-1)
0^30
"KRN",19,13117,0)
ENIT RESP NOTIFY^Notify User of IT Assignments Requiring Signature^^A^^^^^^^^ENGINEERING^^1
"KRN",19,13117,1,0)
^19.06^4^4^3080204^^
"KRN",19,13117,1,1,0)
Provides user with notification during sign-on of any IT equipment
"KRN",19,13117,1,2,0)
assignments of responsibility that require their signature.  IT 
"KRN",19,13117,1,3,0)
assignments must be re-signed by the anniversary date of their previous 
"KRN",19,13117,1,4,0)
signature.
"KRN",19,13117,20)
D ^ENTIRN
"KRN",19,13117,"U")
NOTIFY USER OF IT ASSIGNMENTS 
"KRN",19,13118,-1)
0^29
"KRN",19,13118,0)
ENIT SIGN EXCEPT RPT^Signature Exception Report^^R^^^^^^^^ENGINEERING
"KRN",19,13118,1,0)
^19.06^2^2^3080204^^
"KRN",19,13118,1,1,0)
Report assignments of IT responsibility with the most recent signature
"KRN",19,13118,1,2,0)
at least one year old as of a user specified date.
"KRN",19,13118,25)
ENTIRRX
"KRN",19,13118,"U")
SIGNATURE EXCEPTION REPORT
"KRN",19,13124,-1)
0^33
"KRN",19,13124,0)
ENIT OWNER MENU^IT Owner Menu^^M^^^^^^^^ENGINEERING
"KRN",19,13124,1,0)
^19.06^3^3^3080204^^^^
"KRN",19,13124,1,1,0)
Menu intended for users that may be assigned responsibility for IT
"KRN",19,13124,1,2,0)
equipment. It contains options to list and accept responsibility for 
"KRN",19,13124,1,3,0)
assigned IT equipment.
"KRN",19,13124,10,0)
^19.01IP^4^4
"KRN",19,13124,10,1,0)
13112^^2
"KRN",19,13124,10,1,"^")
ENIT INDV RESP RPT (COM)
"KRN",19,13124,10,2,0)
13110^^1
"KRN",19,13124,10,2,"^")
ENIT RESP SIGN
"KRN",19,13124,10,3,0)
13128^^3
"KRN",19,13124,10,3,"^")
ENIT PRINT HAND RCPT (COM)
"KRN",19,13124,10,4,0)
13132^^4
"KRN",19,13124,10,4,"^")
ENIT ASSIGN INQ (COM)
"KRN",19,13124,99)
60998,62500
"KRN",19,13124,99.1)
61081,32678
"KRN",19,13124,"U")
IT OWNER MENU
"KRN",19,13125,-1)
0^26
"KRN",19,13125,0)
ENIT RESP NOT ASSIGNED RPT^Unassigned IT Asset Report^^R^^^^^^^^ENGINEERING
"KRN",19,13125,1,0)
^19.06^3^3^3080204^^
"KRN",19,13125,1,1,0)
Report of tracked IT Assets that are not currently assigned to a 
"KRN",19,13125,1,2,0)
responsible individual.  Assets are considered to be tracked IT assets if
"KRN",19,13125,1,3,0)
their CMR value has IT TRACKING set to YES.
"KRN",19,13125,25)
ENTIRRNA
"KRN",19,13125,"U")
UNASSIGNED IT ASSET REPORT
"KRN",19,13126,-1)
0^27
"KRN",19,13126,0)
ENIT RESP UNSIGNED RPT^Assignments Pending Acceptance Report^^R^^^^^^^^ENGINEERING
"KRN",19,13126,1,0)
^19.06^1^1^3080204^^
"KRN",19,13126,1,1,0)
Report of equipment with IT assignments that have not yet been signed.
"KRN",19,13126,25)
ENTIRRU
"KRN",19,13126,"U")
ASSIGNMENTS PENDING ACCEPTANCE
"KRN",19,13127,-1)
0^18
"KRN",19,13127,0)
ENIT PRINT HAND RCPT (IT)^Print Hand Receipt for an Individual^^R^^^^^^^^ENGINEERING
"KRN",19,13127,1,0)
^19.06^9^9^3080327^^^
"KRN",19,13127,1,1,0)
This option enables IT personnel to print hard copy hand receipt for
"KRN",19,13127,1,2,0)
an individual.  The printout of an individual's signed, active assignments
"KRN",19,13127,1,3,0)
also serves as the loan form for Government Furnished IT Equipment.
"KRN",19,13127,1,4,0)
The Equipment Return Date on the loan form is determined by adding the
"KRN",19,13127,1,5,0)
DAYS BETWEEN RETURNS value from the CMR file to the PHYSICAL INVENTORY
"KRN",19,13127,1,6,0)
DATE (i.e. Last Inventoried) of the equipment item.  A default of 90
"KRN",19,13127,1,7,0)
days is used if a value is not specified for the applicable CMR.  If
"KRN",19,13127,1,8,0)
the equipment does not have an inventory date, the current date is
"KRN",19,13127,1,9,0)
reported as the equipment return date.
"KRN",19,13127,25)
ASK^ENTIRRH
"KRN",19,13127,"U")
PRINT HAND RECEIPT FOR AN INDI
"KRN",19,13128,-1)
0^19
"KRN",19,13128,0)
ENIT PRINT HAND RCPT (COM)^Print My Hand Receipt^^R^^^^^^^^ENGINEERING
"KRN",19,13128,1,0)
^19.06^9^9^3080327^^^^
"KRN",19,13128,1,1,0)
This option enables the user to print hand receipts for IT items assigned
"KRN",19,13128,1,2,0)
to the user.  The printout of an individual's signed, active assignments
"KRN",19,13128,1,3,0)
also serves as the loan form for Government Furnished IT Equipment.
"KRN",19,13128,1,4,0)
The Equipment Return Date on the loan form is determined by adding the
"KRN",19,13128,1,5,0)
DAYS BETWEEN RETURNS value from the CMR file to the PHYSICAL INVENTORY
"KRN",19,13128,1,6,0)
DATE (i.e. Last Inventoried) of the equipment item.  A default of 90
"KRN",19,13128,1,7,0)
days is used if a value is not specified for the applicable CMR.  If
"KRN",19,13128,1,8,0)
the equipment does not have an inventory date, the current date is
"KRN",19,13128,1,9,0)
reported as the equipment return date.
"KRN",19,13128,25)
ASK^ENTIRRH
"KRN",19,13128,"U")
PRINT MY HAND RECEIPT
"KRN",19,13129,-1)
0^15
"KRN",19,13129,0)
ENIT USER ACCOUNT TERMINATED^IT Notification of Terminated User with Equipment^^A^^^^^^^^ENGINEERING^^1
"KRN",19,13129,1,0)
^^3^3^3071227^
"KRN",19,13129,1,1,0)
This option should be attached to XU USER TERMINATE to notify
"KRN",19,13129,1,2,0)
IT when a user with active IT equipment responsibilities is
"KRN",19,13129,1,3,0)
terminated as a VistA user.
"KRN",19,13129,20)
D USRTRM^ENTIUTL
"KRN",19,13129,"U")
IT NOTIFICATION OF TERMINATED 
"KRN",19,13131,-1)
0^32
"KRN",19,13131,0)
ENIT ASSIGN INQ (IT)^Assignment Inquiry^^I^^^^^^^^ENGINEERING
"KRN",19,13131,1,0)
^19.06^1^1^3080204^^^^
"KRN",19,13131,1,1,0)
Inquiry to an assignment of responsibility for IT equipment.
"KRN",19,13131,30)
ENG(6916.3,
"KRN",19,13131,31)
AEMQ
"KRN",19,13131,63)
[ENIT ASSIGNMENT INQ]
"KRN",19,13131,80)
ENG(6916.3,
"KRN",19,13131,82)
C
"KRN",19,13131,"U")
ASSIGNMENT INQUIRY
"KRN",19,13132,-1)
0^31
"KRN",19,13132,0)
ENIT ASSIGN INQ (COM)^Assignment Inquiry^^I^^^^^^^^ENGINEERING
"KRN",19,13132,1,0)
^19.06^2^2^3080204^^^
"KRN",19,13132,1,1,0)
Inquiry to an assignment of responsibility for IT equipment.  Only 
"KRN",19,13132,1,2,0)
assignments for the user can be selected.
"KRN",19,13132,30)
ENG(6916.3,
"KRN",19,13132,31)
AEMQ
"KRN",19,13132,34)
I $P(^(0),U,2)=DUZ
"KRN",19,13132,63)
[ENIT ASSIGNMENT INQ]
"KRN",19,13132,80)
ENG(6916.3,
"KRN",19,13132,82)
C
"KRN",19,13132,"U")
ASSIGNMENT INQUIRY
"KRN",19.1,533,-1)
0^1
"KRN",19.1,533,0)
EN IT INVENTORY^^^n^0
"KRN",19.1,533,1,0)
^^2^2^3080325^
"KRN",19.1,533,1,1,0)
Permits holder to edit IT equipment in the EQUIPMENT INV. file with the
"KRN",19.1,533,1,2,0)
Inventory Edit (IT) option.
"KRN",19.1,538,-1)
0^2
"KRN",19.1,538,0)
EN IT ASSIGNMENT
"KRN",19.1,538,1,0)
^^3^3^3080325^
"KRN",19.1,538,1,1,0)
Permits holder to create, transfer, and terminate assignments of
"KRN",19.1,538,1,2,0)
responsibility for IT equipment.  Also provides access to the Add Entry to
"KRN",19.1,538,1,3,0)
New Person File option.
"MBREQ")
0
"ORD",2,3.6)
3.6;2;1;;BUL^XPDTA1;;BULE1^XPDIA1;;;BULDEL^XPDIA1
"ORD",2,3.6,0)
BULLETIN
"ORD",3,19.1)
19.1;3;1;;KEY^XPDTA1;;;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",8,.403)
.403;8;;;EDEOUT^DIFROMSO(.403,DA,"",XPDA);FPRE^DIFROMSI(.403,"",XPDA);EPRE^DIFROMSI(.403,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.403,DA,"",XPDA);DEL^DIFROMSK(.403,"",%)
"ORD",8,.403,0)
FORM
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1;;MAILGDEL^XPDIA1(%)
"ORD",11,3.8,0)
MAIL GROUP
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",33,-1)
1^1
"PKG",33,0)
ENGINEERING^EN^AUTOMATED ENGINEERING MANAGEMENT SYSTEM
"PKG",33,20,0)
^9.402P^^
"PKG",33,22,0)
^9.49I^1^1
"PKG",33,22,1,0)
7.0^2930817^2960130
"PKG",33,22,1,"PAH",1,0)
87^3080328
"PKG",33,22,1,"PAH",1,1,0)
^^7^7^3080328
"PKG",33,22,1,"PAH",1,1,1,0)
This patch contains the IT Equipment Tracking project enhancements.
"PKG",33,22,1,"PAH",1,1,2,0)
The Engineering (AEMS/MERS) package is modified to provide IT personnel a
"PKG",33,22,1,"PAH",1,1,3,0)
new top level menu.  IT personnel will be able to edit selected data
"PKG",33,22,1,"PAH",1,1,4,0)
fields of IT equipment in the non-expendable equipment inventory.  The
"PKG",33,22,1,"PAH",1,1,5,0)
project will also add support for the individual assignment of
"PKG",33,22,1,"PAH",1,1,6,0)
responsibility for IT assets.  Individuals can sign electronic hand
"PKG",33,22,1,"PAH",1,1,7,0)
receipts to accept responsibility.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
22
"RTN","ENEQ4")
0^4^B8832160^B8306618
"RTN","ENEQ4",1,0)
ENEQ4 ;WIRMFO/SAB-PURGE EQUIPMENT INV FILE ;12/28/07  13:54
"RTN","ENEQ4",2,0)
 ;;7.0;ENGINEERING;**40,87**;Aug 17, 1993;Build 16
"RTN","ENEQ4",3,0)
 ;
"RTN","ENEQ4",4,0)
DEL ;Delete Equipment Record entry
"RTN","ENEQ4",5,0)
 S ENEDNX=$D(^XUSEC("ENEDNX",DUZ))
"RTN","ENEQ4",6,0)
 W !!,"This option completely deletes a specific equipment record. If"
"RTN","ENEQ4",7,0)
 W !,"you would rather move equipment records to an archive media, then"
"RTN","ENEQ4",8,0)
 W !,"exit this option and use the Engineering Archive Module instead."
"RTN","ENEQ4",9,0)
DELSEQ ; select equipment record for deletion
"RTN","ENEQ4",10,0)
 W !
"RTN","ENEQ4",11,0)
 D GETEQ^ENUTL G:Y'>0 DELX
"RTN","ENEQ4",12,0)
 S ENDA=+Y
"RTN","ENEQ4",13,0)
 F ENI=0,1,2,3 S ENY(ENI)=$G(^ENG(6914,ENDA,ENI))
"RTN","ENEQ4",14,0)
 ;
"RTN","ENEQ4",15,0)
 ; display equipment data
"RTN","ENEQ4",16,0)
 W @IOF
"RTN","ENEQ4",17,0)
 W !,"ENTRY #: ",ENDA
"RTN","ENEQ4",18,0)
 W !!,?2,"MFGR EQUIP NAME: ",$P(ENY(0),U,2)
"RTN","ENEQ4",19,0)
 W !,?2,"EQUIP CATEGORY: ",$$GET1^DIQ(6914,ENDA,6)
"RTN","ENEQ4",20,0)
 W !,?2,"CSN: ",$$GET1^DIQ(6914,ENDA,18)
"RTN","ENEQ4",21,0)
 S ENX=$$GET1^DIQ(6914,ENDA,"18:2") I ENX]"" W " (",ENX,")"
"RTN","ENEQ4",22,0)
 W !!,?2,"MANUFACTURER: ",$$GET1^DIQ(6914,ENDA,1)
"RTN","ENEQ4",23,0)
 W !,?2,"MODEL: ",$P(ENY(1),U,2),?42,"SERIAL #: ",$P(ENY(1),U,3)
"RTN","ENEQ4",24,0)
 W !!,?2,"CMR: ",$$GET1^DIQ(6914,ENDA,19)
"RTN","ENEQ4",25,0)
 W ?42,"USE STATUS: ",$$GET1^DIQ(6914,ENDA,20)
"RTN","ENEQ4",26,0)
 W !,?2,"ACQUISITION DATE: ",$$FMTE^XLFDT($P(ENY(2),U,4))
"RTN","ENEQ4",27,0)
 W ?34,"LE: ",$P(ENY(2),U,6)
"RTN","ENEQ4",28,0)
 W ?42,"DISPOSITION DATE: ",$$FMTE^XLFDT($P(ENY(3),U,11)),!
"RTN","ENEQ4",29,0)
 ;
"RTN","ENEQ4",30,0)
 ; validate selection
"RTN","ENEQ4",31,0)
 K ENV
"RTN","ENEQ4",32,0)
 S ENX=$$CHKFA^ENFAUTL(ENDA)
"RTN","ENEQ4",33,0)
 I +ENX S ENV(1)="It is currently reported to Fixed Assets in Austin."
"RTN","ENEQ4",34,0)
 E  I $P(ENX,U,2)]"" S ENV(2)="It was previously reported to Fixed Assets in Austin."
"RTN","ENEQ4",35,0)
 I $P(ENY(0),U,4)="NX",'ENEDNX S ENV(3)="Security key ENEDNX is required to delete NX equipment."
"RTN","ENEQ4",36,0)
 I $P(ENY(3),U,1)=1 S ENV(4)="USE STATUS is IN USE."
"RTN","ENEQ4",37,0)
 I $P(ENY(3),U,11)="" S ENV(5)="DISPOSITION DATE is blank."
"RTN","ENEQ4",38,0)
 I $D(^ENG(6916.3,"B",ENDA)) S ENV(6)="It is linked to an IT Assignment record."
"RTN","ENEQ4",39,0)
 I $D(ENV) D  G DELSEQ
"RTN","ENEQ4",40,0)
 . W $C(7),!,"This equipment entry can not be deleted because:"
"RTN","ENEQ4",41,0)
 . S ENI=0 F  S ENI=$O(ENV(ENI)) Q:'ENI  W !,?2,ENV(ENI)
"RTN","ENEQ4",42,0)
 ;
"RTN","ENEQ4",43,0)
 ; confirm deletion
"RTN","ENEQ4",44,0)
 S DIR(0)="Y",DIR("A")="Delete this entry"
"RTN","ENEQ4",45,0)
 D ^DIR K DIR G:$D(DIRUT) DELX I 'Y G DELSEQ
"RTN","ENEQ4",46,0)
 ;
"RTN","ENEQ4",47,0)
 ; first close any open work orders
"RTN","ENEQ4",48,0)
 S ENTXT(1)="Automatically closed when equipment record was deleted."
"RTN","ENEQ4",49,0)
 S DA=0 F  S DA=$O(^ENG(6920,"G",ENDA,DA)) Q:'DA  I $P($G(^ENG(6920,DA,5)),U,2)="" D
"RTN","ENEQ4",50,0)
 . D WP^DIE(6920,DA_",",40,"A","ENTXT")
"RTN","ENEQ4",51,0)
 . S DIE="^ENG(6920,",DR="36///T;32///^S X=""COMPLETED"""
"RTN","ENEQ4",52,0)
 . D ^DIE
"RTN","ENEQ4",53,0)
 K DIE,DR,ENTXT
"RTN","ENEQ4",54,0)
 ; then delete equipment
"RTN","ENEQ4",55,0)
 S DIK="^ENG(6914,",DA=ENDA D ^DIK K DIK
"RTN","ENEQ4",56,0)
 W !,"Equipment entry # ",ENDA," was deleted."
"RTN","ENEQ4",57,0)
 ;
"RTN","ENEQ4",58,0)
 G DELSEQ
"RTN","ENEQ4",59,0)
 ;
"RTN","ENEQ4",60,0)
DELX ; delete equipment record exit
"RTN","ENEQ4",61,0)
 K DA,DIC,DIE,DIK,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,Y
"RTN","ENEQ4",62,0)
 K END,ENDA,ENEDNX,ENI,ENV,ENWO,ENX,ENY
"RTN","ENEQ4",63,0)
 Q
"RTN","ENEQ4",64,0)
 ;
"RTN","ENEQ4",65,0)
 ;ENEQ4
"RTN","ENPLS2")
0^5^B13168979^B12872535
"RTN","ENPLS2",1,0)
ENPLS2 ;WISC/SAB - Select Items from List ;12/4/07  13:24
"RTN","ENPLS2",2,0)
 ;;7.0;ENGINEERING;**23,87**;Aug 17, 1993;Build 16
"RTN","ENPLS2",3,0)
EN ; entry point
"RTN","ENPLS2",4,0)
 ; input global
"RTN","ENPLS2",5,0)
 ;   ^TMP($J,"SCR)=number of entries in list^screen title
"RTN","ENPLS2",6,0)
 ;   ^TMP($J,"SCR",0)=col 1 x pos;col 1 hdr^...^col n x pos;col n hdr
"RTN","ENPLS2",7,0)
 ;   ^TMP($J,"SCR",id)=col 1 value^col 2 value^...^col n value
"RTN","ENPLS2",8,0)
 ; output
"RTN","ENPLS2",9,0)
 ;    optional ENACL( selected items
"RTN","ENPLS2",10,0)
 ;
"RTN","ENPLS2",11,0)
 ; initialize variables
"RTN","ENPLS2",12,0)
 N ENI,ENID,ENF,ENI,ENS,ENX,ENY
"RTN","ENPLS2",13,0)
 K ENACL
"RTN","ENPLS2",14,0)
 S $P(ENF("DASH"),"-",80)=""
"RTN","ENPLS2",15,0)
 ; get screen info
"RTN","ENPLS2",16,0)
 S ENX=^TMP($J,"SCR")
"RTN","ENPLS2",17,0)
 S ENF("IDM")=$P(ENX,U)
"RTN","ENPLS2",18,0)
 S ENF("HD")=$P(ENX,U,2)
"RTN","ENPLS2",19,0)
 ; get column info
"RTN","ENPLS2",20,0)
 S ENX=^TMP($J,"SCR",0),ENF("CM")=0
"RTN","ENPLS2",21,0)
 F ENI=1:1 S ENY=$P(ENX,U,ENI) Q:ENY=""  D
"RTN","ENPLS2",22,0)
 . S ENF("CM")=ENF("CM")+1
"RTN","ENPLS2",23,0)
 . S ENF("C"_ENI,"X")=$P(ENY,";",1)
"RTN","ENPLS2",24,0)
 . S ENF("C"_ENI,"L")=$P(ENY,";",2)
"RTN","ENPLS2",25,0)
 . S ENF("C"_ENI,"HD")=$P(ENY,";",3)
"RTN","ENPLS2",26,0)
 S ENF("SM")=(ENF("IDM")-1)\15+1
"RTN","ENPLS2",27,0)
 S ENF("S")=1
"RTN","ENPLS2",28,0)
BLD ; build screen
"RTN","ENPLS2",29,0)
 K ENS
"RTN","ENPLS2",30,0)
 S ENS("IDL")=1+(ENF("S")-1*15)
"RTN","ENPLS2",31,0)
 S ENS("IDM")=$S(15+(ENF("S")-1*15)>ENF("IDM"):ENF("IDM"),1:15+(ENF("S")-1*15))
"RTN","ENPLS2",32,0)
 ; display screen
"RTN","ENPLS2",33,0)
 D SHD
"RTN","ENPLS2",34,0)
 F ENID=ENS("IDL"):1:ENS("IDM") D  W !
"RTN","ENPLS2",35,0)
 . S ENX=^TMP($J,"SCR",ENID)
"RTN","ENPLS2",36,0)
 . W $J(ENID,3)
"RTN","ENPLS2",37,0)
 . F ENI=1:1:ENF("CM") W ?ENF("C"_ENI,"X"),$P(ENX,U,ENI)
"RTN","ENPLS2",38,0)
ACT ; prompt for selection
"RTN","ENPLS2",39,0)
 W !
"RTN","ENPLS2",40,0)
 S DIR("A")="Enter a list or range to select (1-"_ENF("IDM")_"): "_$S(ENF("S")<ENF("SM"):"Next Screen",1:"Quit")_"//"
"RTN","ENPLS2",41,0)
 S DIR(0)="LOA^1:"_ENF("IDM")
"RTN","ENPLS2",42,0)
 D ^DIR K DIR G:$D(DTOUT)!$D(DUOUT) EXIT
"RTN","ENPLS2",43,0)
 I X="",ENF("S")<ENF("SM") S ENF("S")=ENF("S")+1 G BLD
"RTN","ENPLS2",44,0)
 K ENACL S ENI="" F  S ENI=$O(Y(ENI)) Q:ENI=""  S ENACL(ENI)=Y(ENI)
"RTN","ENPLS2",45,0)
EXIT ;
"RTN","ENPLS2",46,0)
 W:'$G(ENGNOFF) @IOF
"RTN","ENPLS2",47,0)
 K DX,DY
"RTN","ENPLS2",48,0)
 Q
"RTN","ENPLS2",49,0)
EN2(ENGNOFF) ;Entry point to suppress Form Feed at end
"RTN","ENPLS2",50,0)
 G EN
"RTN","ENPLS2",51,0)
SHD ; Screen Header
"RTN","ENPLS2",52,0)
 W @IOF
"RTN","ENPLS2",53,0)
 W ENF("HD"),?65,"Screen ",ENF("S")," of ",ENF("SM"),!!
"RTN","ENPLS2",54,0)
 W "ID#"
"RTN","ENPLS2",55,0)
 F ENI=1:1:ENF("CM") W ?ENF("C"_ENI,"X"),ENF("C"_ENI,"HD")
"RTN","ENPLS2",56,0)
 W !
"RTN","ENPLS2",57,0)
 W "---"
"RTN","ENPLS2",58,0)
 F ENI=1:1:ENF("CM") W ?ENF("C"_ENI,"X"),$E(ENF("DASH"),1,ENF("C"_ENI,"L"))
"RTN","ENPLS2",59,0)
 W !
"RTN","ENPLS2",60,0)
 Q
"RTN","ENPLS2",61,0)
PYLIST ; Progam and Year list of project applications
"RTN","ENPLS2",62,0)
 N ENACL,ENC,ENDA,ENI,ENIDX,ENJ,ENK,ENPN,ENPR,ENY,ENY0,ENYR
"RTN","ENPLS2",63,0)
 K ^TMP($J,"R")
"RTN","ENPLS2",64,0)
 S DIR(0)="S^MA:MAJOR;MI:MINOR;MM:MINOR MISC;NR:NRM"
"RTN","ENPLS2",65,0)
 S DIR("?")="Enter program that listed projects must match."
"RTN","ENPLS2",66,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENPLS2",67,0)
 S ENPR=Y
"RTN","ENPLS2",68,0)
 S DIR(0)="N^1993:2099:0",DIR("A")="YEAR"
"RTN","ENPLS2",69,0)
 S DIR("?",1)="Enter a 4-digit year that listed projects must have as"
"RTN","ENPLS2",70,0)
 S DIR("?")="the A/E or Construction funding year."
"RTN","ENPLS2",71,0)
 S DIR("B")=$E(17000000+DT,1,4)+$S($E(DT,4,7)>0600:2,1:1)
"RTN","ENPLS2",72,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENPLS2",73,0)
 S ENYR=Y
"RTN","ENPLS2",74,0)
 F ENIDX="F","G" D
"RTN","ENPLS2",75,0)
 . S ENDA=0 F  S ENDA=$O(^ENG("PROJ",ENIDX,ENYR,ENDA)) Q:'ENDA  D
"RTN","ENPLS2",76,0)
 . . S ENY0=$G(^ENG("PROJ",ENDA,0)) Q:$P(ENY0,U)=""!($P(ENY0,U,6)'=ENPR)
"RTN","ENPLS2",77,0)
 . . S ^TMP($J,"R",$P(ENY0,U))=$P(ENY0,U)_U_$P(ENY0,U,3)_U_ENDA
"RTN","ENPLS2",78,0)
 I '$D(^TMP($J,"R")) W !!,"No Projects matched selection criteria!",! Q
"RTN","ENPLS2",79,0)
 S ENI=0,ENPN="" F  S ENPN=$O(^TMP($J,"R",ENPN)) Q:ENPN=""  S ENI=ENI+1,^TMP($J,"SCR",ENI)=^(ENPN)
"RTN","ENPLS2",80,0)
 S ^TMP($J,"SCR")=ENI_U_"PROGRAM ("_ENPR_") PROJECTS WITH FUNDING YEAR "_ENYR
"RTN","ENPLS2",81,0)
 S ^TMP($J,"SCR",0)="5;11;PROJECT #^19;50;TITLE"
"RTN","ENPLS2",82,0)
 D ^ENPLS2
"RTN","ENPLS2",83,0)
 ; save selected projects (if any)
"RTN","ENPLS2",84,0)
 S ENC=0,ENJ="" F  S ENJ=$O(ENACL(ENJ)) Q:ENJ=""  D
"RTN","ENPLS2",85,0)
 . F ENK=1:1 S ENI=$P(ENACL(ENJ),",",ENK) Q:ENI=""  D
"RTN","ENPLS2",86,0)
 . . S ENY=^TMP($J,"SCR",ENI),^TMP($J,"L",$P(ENY,U))=$P(ENY,U,3),ENC=ENC+1
"RTN","ENPLS2",87,0)
 S:ENC ^TMP($J,"L")=ENC_$S(ENTY="F":U_ENFY,1:"")
"RTN","ENPLS2",88,0)
 K ^TMP($J,"R"),^TMP($J,"SCR")
"RTN","ENPLS2",89,0)
 Q
"RTN","ENPLS2",90,0)
 ;ENPLS2
"RTN","ENTIDD")
0^19^B21790016^n/a
"RTN","ENTIDD",1,0)
ENTIDD ;WOIFO/SAB - Engineering DD ;2/4/2008
"RTN","ENTIDD",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIDD",3,0)
 ;
"RTN","ENTIDD",4,0)
ITTCHK(ENCMR,ENX) ; IT Tracking Check
"RTN","ENTIDD",5,0)
 ; called by input transform on CMR file IT TRACKING field
"RTN","ENTIDD",6,0)
 ; input
"RTN","ENTIDD",7,0)
 ;   ENCMR - CMR ien
"RTN","ENTIDD",8,0)
 ;   ENX - user input (1 for yes or 0 or no)
"RTN","ENTIDD",9,0)
 ; returns 1 (true) if change should be prevented
"RTN","ENTIDD",10,0)
 ;
"RTN","ENTIDD",11,0)
 N ENRET
"RTN","ENTIDD",12,0)
 S ENRET=0
"RTN","ENTIDD",13,0)
 I ENX'=1,$$AITACMR(ENCMR) D
"RTN","ENTIDD",14,0)
 . S ENRET=1
"RTN","ENTIDD",15,0)
 . D EN^DDIOL("CMR has equipment with an active IT assignment. Can't change IT TRACKING.")
"RTN","ENTIDD",16,0)
 Q ENRET
"RTN","ENTIDD",17,0)
 ;
"RTN","ENTIDD",18,0)
AITACMR(ENCMR) ; Active IT Assignment CMR
"RTN","ENTIDD",19,0)
 ; input ENCMR = CMR internal entry number
"RTN","ENTIDD",20,0)
 ; returns 1 (if any equipment on CMR has an active assignment) or 0
"RTN","ENTIDD",21,0)
 N ENEQ,ENRET
"RTN","ENTIDD",22,0)
 S ENRET=0
"RTN","ENTIDD",23,0)
 ;
"RTN","ENTIDD",24,0)
 ; loop thru equipment on CMR
"RTN","ENTIDD",25,0)
 S ENEQ=0 F  S ENEQ=$O(^ENG(6914,"AD",ENCMR,ENEQ)) Q:'ENEQ  D  Q:ENRET
"RTN","ENTIDD",26,0)
 . I $D(^ENG(6916.3,"AEA",ENEQ)) S ENRET=1
"RTN","ENTIDD",27,0)
 ;
"RTN","ENTIDD",28,0)
 Q ENRET
"RTN","ENTIDD",29,0)
 ;
"RTN","ENTIDD",30,0)
CMRCHK(ENDA,ENX) ; CMR Check
"RTN","ENTIDD",31,0)
 ; called by EQUIPMENT INV. file CMR field Input Transform
"RTN","ENTIDD",32,0)
 ; input
"RTN","ENTIDD",33,0)
 ;   ENDA - equipment ien
"RTN","ENTIDD",34,0)
 ;   ENX - user input, CMR ien
"RTN","ENTIDD",35,0)
 ; returns 1 (true) if change should be prevented
"RTN","ENTIDD",36,0)
 N DA,X ; protect variables used by input transform
"RTN","ENTIDD",37,0)
 N ENA,ENRET,ENY
"RTN","ENTIDD",38,0)
 S ENRET=0
"RTN","ENTIDD",39,0)
 ;
"RTN","ENTIDD",40,0)
 D
"RTN","ENTIDD",41,0)
 . ; perform checks
"RTN","ENTIDD",42,0)
 . Q:'$D(^ENG(6916.3,"AEA",ENDA))  ; no active assignments for equip
"RTN","ENTIDD",43,0)
 . S ENY=$G(^ENG(6914.1,ENX,0)) ; CMR zero node
"RTN","ENTIDD",44,0)
 . Q:$P(ENY,"^",9)  ; IT Tracking of new CMR is Yes
"RTN","ENTIDD",45,0)
 . Q:$E($P(ENY,"^"),1,2)="99"  ; CMR name starts 99, may be for excess
"RTN","ENTIDD",46,0)
 . ;
"RTN","ENTIDD",47,0)
 . ; must be an inappropriate change
"RTN","ENTIDD",48,0)
 . S ENRET=1
"RTN","ENTIDD",49,0)
 . S ENA(1)="Equipment has an active IT assignment."
"RTN","ENTIDD",50,0)
 . S ENA(2)="New CMR must be excess (99x) or have IT TRACKING = YES."
"RTN","ENTIDD",51,0)
 . D EN^DDIOL(.ENA)
"RTN","ENTIDD",52,0)
 ;
"RTN","ENTIDD",53,0)
 Q ENRET
"RTN","ENTIDD",54,0)
 ;
"RTN","ENTIDD",55,0)
CMRUPD(ENEQ,ENCMR1,ENCMR2) ; terminate IT responsibilities when CMR changed
"RTN","ENTIDD",56,0)
 ; called by cross-reference on Equipment Inv. file CMR field
"RTN","ENTIDD",57,0)
 ; input
"RTN","ENTIDD",58,0)
 ;   ENEQ   - equipment ien
"RTN","ENTIDD",59,0)
 ;   ENCMR1 - old CMR ien
"RTN","ENTIDD",60,0)
 ;   ENCMR2 - new CMR ien (or null if value deleted)
"RTN","ENTIDD",61,0)
 Q:$D(ENDJCMR1)  ; edited by DJ screen, change may be backed out so wait
"RTN","ENTIDD",62,0)
 Q:'$D(^ENG(6916.3,"AEA",ENEQ))  ; no active assignments for equip
"RTN","ENTIDD",63,0)
 I ENCMR2,$D(^ENG(6914.1,"AIT",1,ENCMR2)) Q  ; new CMR IT TRACKING = yes
"RTN","ENTIDD",64,0)
 ;
"RTN","ENTIDD",65,0)
 ; equipment with active assignments is no longer on a tracked CMR
"RTN","ENTIDD",66,0)
 N ENCMR1N,ENCMR2N,ENDA,ENL,ENTX,ENX
"RTN","ENTIDD",67,0)
 N DIFROM,XMDUZ,XMMG,XMROU,XMSTRIP,XMSUB,XMTEXT,XMY,XMYBLOB,XMZ
"RTN","ENTIDD",68,0)
 ; loop thru assignments
"RTN","ENTIDD",69,0)
 S ENL=5
"RTN","ENTIDD",70,0)
 S ENDA=0 F  S ENDA=$O(^ENG(6916.3,"AEA",ENEQ,ENDA)) Q:'ENDA  D
"RTN","ENTIDD",71,0)
 . ; terminate assignment
"RTN","ENTIDD",72,0)
 . S ENX=$$TERM^ENTIUTL1(ENDA)
"RTN","ENTIDD",73,0)
 . ; place on message text
"RTN","ENTIDD",74,0)
 . S ENL=ENL+1
"RTN","ENTIDD",75,0)
 . S ENTX(ENL)="Owner: "_$$GET1^DIQ(6916.3,ENDA,1)
"RTN","ENTIDD",76,0)
 ;
"RTN","ENTIDD",77,0)
 ; send message
"RTN","ENTIDD",78,0)
 S ENCMR1N=$S(ENCMR1:$P($G(^ENG(6914.1,ENCMR1,0)),U),1:ENCMR1)
"RTN","ENTIDD",79,0)
 S ENCMR2N=$S(ENCMR2:$P($G(^ENG(6914.1,ENCMR2,0)),U),1:"<deleted>")
"RTN","ENTIDD",80,0)
 S ENTX(1)="The CMR value for Equipment Entry # "_ENEQ_" was changed"
"RTN","ENTIDD",81,0)
 S ENTX(2)="from "_ENCMR1N_" to "_ENCMR2N_" by "_$$GET1^DIQ(200,DUZ,.01)
"RTN","ENTIDD",82,0)
 S ENTX(3)="The following IT assignments were automatically terminated"
"RTN","ENTIDD",83,0)
 S ENTX(4)="since the new CMR value does not have IT TRACKING = Yes."
"RTN","ENTIDD",84,0)
 S ENTX(5)=" "
"RTN","ENTIDD",85,0)
 ;
"RTN","ENTIDD",86,0)
 S XMDUZ="AEMS/MERS"
"RTN","ENTIDD",87,0)
 S XMSUB="IT Assignments Terminated for Entry # "_ENEQ
"RTN","ENTIDD",88,0)
 S XMY("G.EN IT EQUIPMENT")=""
"RTN","ENTIDD",89,0)
 S XMTEXT="ENTX("
"RTN","ENTIDD",90,0)
 D ^XMD
"RTN","ENTIDD",91,0)
 Q
"RTN","ENTIDD",92,0)
 ;
"RTN","ENTIDD",93,0)
CMRDJPR ; CMR Label Pre-Action for ENEQ1 DJ Edit Screen 
"RTN","ENTIDD",94,0)
 I $D(^ENG(6915.2,"B",DA)) S X=$$CHKFA^ENFAUTL(DA) I $P(X,U)=1 D
"RTN","ENTIDD",95,0)
 . W "Capitalized asset. CMR may only be edited via FAP documents."
"RTN","ENTIDD",96,0)
 . W !,"Press <RETURN> to continue..."
"RTN","ENTIDD",97,0)
 . R X:DTIME
"RTN","ENTIDD",98,0)
 . S DJNX=9
"RTN","ENTIDD",99,0)
 ;
"RTN","ENTIDD",100,0)
 ; if CMR field will be edited save current CMR value
"RTN","ENTIDD",101,0)
 ; note: the existence of this variable will prevent the ACMR x-ref from
"RTN","ENTIDD",102,0)
 ; deleting any active IT assignments
"RTN","ENTIDD",103,0)
 I $G(DJNX)'=9 S ENDJCMR1=$P($G(^ENG(6914,DA,2)),U,9)
"RTN","ENTIDD",104,0)
 Q
"RTN","ENTIDD",105,0)
 ;
"RTN","ENTIDD",106,0)
CMRDJPS ; CMR Label Post-Action for ENEQ1 DJ Edit Screen
"RTN","ENTIDD",107,0)
 ; note that new data has already been filed by this point
"RTN","ENTIDD",108,0)
 ; input ENDJCMR1 - CMR (internal) value prior to the edit
"RTN","ENTIDD",109,0)
 ;                  note: this variable will be killed
"RTN","ENTIDD",110,0)
 ;       DA - equipment ien being edited
"RTN","ENTIDD",111,0)
 ; output
"RTN","ENTIDD",112,0)
 ;   may reset value of CMR field, if value was reset the following
"RTN","ENTIDD",113,0)
 ;   two DJ screen handler variables will also be modified 
"RTN","ENTIDD",114,0)
 ;     V(8) - update to reflect the reset CMR value (external)
"RTN","ENTIDD",115,0)
 ;     DJNX - update to re-edit the CMR field
"RTN","ENTIDD",116,0)
 ;
"RTN","ENTIDD",117,0)
 Q:'$D(ENDJCMR1)
"RTN","ENTIDD",118,0)
 N ENFDA,ENOLD,ENNEW,ENX,X
"RTN","ENTIDD",119,0)
 S ENOLD=ENDJCMR1 ; old CMR value
"RTN","ENTIDD",120,0)
 S ENNEW=$P($G(^ENG(6914,DA,2)),U,9) ; new CMR value
"RTN","ENTIDD",121,0)
 I ENNEW'=ENOLD D
"RTN","ENTIDD",122,0)
 . ; CMR was changed
"RTN","ENTIDD",123,0)
 . S ENX=$$CMRCHK^ENTIDD(DA,ENNEW) ; may display message
"RTN","ENTIDD",124,0)
 . I ENX D
"RTN","ENTIDD",125,0)
 . . ; change was not appropriate - pause after message
"RTN","ENTIDD",126,0)
 . . W !,"Press <RETURN> to continue..."
"RTN","ENTIDD",127,0)
 . . R X:DTIME
"RTN","ENTIDD",128,0)
 . . ; change back to original value
"RTN","ENTIDD",129,0)
 . . S ENFDA(6914,DA_",",19)=ENOLD
"RTN","ENTIDD",130,0)
 . . D FILE^DIE("","ENFDA")
"RTN","ENTIDD",131,0)
 . . ; fix screen
"RTN","ENTIDD",132,0)
 . . S V(8)=$$GET1^DIQ(6914,DA,19)
"RTN","ENTIDD",133,0)
 . . S DJNX=8
"RTN","ENTIDD",134,0)
 . I 'ENX D
"RTN","ENTIDD",135,0)
 . . ; change was appropriate
"RTN","ENTIDD",136,0)
 . . ; terminate any active IT assignments
"RTN","ENTIDD",137,0)
 . . K ENDJCMR1 ; to prevent following call from quitting
"RTN","ENTIDD",138,0)
 . . D CMRUPD^ENTIDD(DA,ENOLD,ENNEW)
"RTN","ENTIDD",139,0)
 ;
"RTN","ENTIDD",140,0)
 ; clean up symbol table for variable set by the pre-action
"RTN","ENTIDD",141,0)
 K ENDJCMR1
"RTN","ENTIDD",142,0)
 Q
"RTN","ENTIDD",143,0)
 ;
"RTN","ENTIDD",144,0)
 ;ENTIDD
"RTN","ENTIEQE")
0^3^B1545355^n/a
"RTN","ENTIEQE",1,0)
ENTIEQE ;WOIFO/SAB - Edit Equipment Records (IT) ;2/4/2008
"RTN","ENTIEQE",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIEQE",3,0)
 ;
"RTN","ENTIEQE",4,0)
SELEQ ; select (and process) equipment for edit
"RTN","ENTIEQE",5,0)
 S END=0
"RTN","ENTIEQE",6,0)
 S ENSCR="N ENCMR S ENCMR=$P($G(^(2)),U,9) I ENCMR,$D(^ENG(6914.1,""AIT"",1,ENCMR))"
"RTN","ENTIEQE",7,0)
 ;
"RTN","ENTIEQE",8,0)
 ; select and process equipment
"RTN","ENTIEQE",9,0)
 F  S DIC("S")=ENSCR D GETEQ^ENUTL Q:Y<1  S ENDA=+Y D EQP Q:END
"RTN","ENTIEQE",10,0)
 ; clean up
"RTN","ENTIEQE",11,0)
 K DIC,END,ENDA,ENEQ,ENSCR,Y
"RTN","ENTIEQE",12,0)
 Q
"RTN","ENTIEQE",13,0)
 ;
"RTN","ENTIEQE",14,0)
EQP ; process one equipment item (edit)
"RTN","ENTIEQE",15,0)
 ; input
"RTN","ENTIEQE",16,0)
 ;   ENDA - ien of equipment item
"RTN","ENTIEQE",17,0)
 ; output
"RTN","ENTIEQE",18,0)
 ;   END - flag, true when entire process should stop
"RTN","ENTIEQE",19,0)
 ;
"RTN","ENTIEQE",20,0)
 N DA,DDSFILE,DIROUT,DIRUT,DR,DTOUT,DUOUT
"RTN","ENTIEQE",21,0)
 ; lock equipment
"RTN","ENTIEQE",22,0)
 L +^ENG(6914,ENDA):$S($D(DILOCKTM):DILOCKTM,1:5) I '$T D  G EQPX
"RTN","ENTIEQE",23,0)
 . W $C(7),!,"Record being edited by someone else. Try later."
"RTN","ENTIEQE",24,0)
 . S DIR(0)="E" D ^DIR K DIR S:$D(DTOUT) END=1
"RTN","ENTIEQE",25,0)
 ;
"RTN","ENTIEQE",26,0)
 ; call fileman screen handler
"RTN","ENTIEQE",27,0)
 S DDSFILE=6914,DR="[ENIT EDIT]",DA=ENDA
"RTN","ENTIEQE",28,0)
 D ^DDS
"RTN","ENTIEQE",29,0)
 I $D(DTOUT) S END=1 ; user timed out
"RTN","ENTIEQE",30,0)
 ;
"RTN","ENTIEQE",31,0)
 ; unlock equip
"RTN","ENTIEQE",32,0)
 L -^ENG(6914,ENDA)
"RTN","ENTIEQE",33,0)
 ;
"RTN","ENTIEQE",34,0)
EQPX ; clean up
"RTN","ENTIEQE",35,0)
 Q
"RTN","ENTIEQE",36,0)
 ;
"RTN","ENTIEQE",37,0)
 ;ENTIEQE
"RTN","ENTINSD")
0^1^B3670772^n/a
"RTN","ENTINSD",1,0)
ENTINSD ;WOIFO/SAB - IT NON-SPACE FILE LOCATION DD CALLS ;2/4/2008
"RTN","ENTINSD",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTINSD",3,0)
 Q
"RTN","ENTINSD",4,0)
 ;
"RTN","ENTINSD",5,0)
NSPT(DA,ENF) ; NON-SPACE FILE LOCATION triggers of the NON-SPACE FILE PERSON
"RTN","ENTINSD",6,0)
 ; and NON-SPACE FILE DATE/TIME fields
"RTN","ENTINSD",7,0)
 ; called by new-style MUMPS field x-ref logic on NON-SPACE FILE
"RTN","ENTINSD",8,0)
 ; LOCATION (#90) field of file 6914 when value changes
"RTN","ENTINSD",9,0)
 ;
"RTN","ENTINSD",10,0)
 ; input
"RTN","ENTINSD",11,0)
 ;   DA - ien of entry in file 6914
"RTN","ENTINSD",12,0)
 ;   ENF - flag, "S" for set logic or "K" for kill logic
"RTN","ENTINSD",13,0)
 ;
"RTN","ENTINSD",14,0)
 Q:'$G(DA)  ; ien required
"RTN","ENTINSD",15,0)
 Q:"^S^K^"'[("^"_ENF_"^")  ; must be S or K
"RTN","ENTINSD",16,0)
 ;
"RTN","ENTINSD",17,0)
 N ENFDA
"RTN","ENTINSD",18,0)
 S ENFDA(6914,DA_",",90.1)=$S(ENF="S":DUZ,1:"@") ; non-space file person
"RTN","ENTINSD",19,0)
 S ENFDA(6914,DA_",",90.2)=$S(ENF="S":$$NOW^XLFDT(),1:"@") ; date/time
"RTN","ENTINSD",20,0)
 D FILE^DIE("","ENFDA")
"RTN","ENTINSD",21,0)
 Q
"RTN","ENTINSD",22,0)
 ;
"RTN","ENTINSD",23,0)
BUL(DA) ; Send a bulletin
"RTN","ENTINSD",24,0)
 ; called by new-style MUMPS record x-ref set logic on NON-SPACE FILE
"RTN","ENTINSD",25,0)
 ; LOCATION (#90) field of file 6914 when value changes
"RTN","ENTINSD",26,0)
 ;
"RTN","ENTINSD",27,0)
 ; input
"RTN","ENTINSD",28,0)
 ;   DA - ien of entry in file 6914
"RTN","ENTINSD",29,0)
 ;
"RTN","ENTINSD",30,0)
 Q:'$G(DA)  ; ien required
"RTN","ENTINSD",31,0)
 ;
"RTN","ENTINSD",32,0)
 ; new all input and output variables of the bulletin API
"RTN","ENTINSD",33,0)
 N XMDUZ,XMBNAME,XMPARM,XMBODY,XMTO,XMINSTR,XMATTACH,XMZ,XMERR
"RTN","ENTINSD",34,0)
 ;
"RTN","ENTINSD",35,0)
 ; set variables for the bulletin API
"RTN","ENTINSD",36,0)
 S XMDUZ=DUZ ; sender
"RTN","ENTINSD",37,0)
 S XMBNAME="EN NON-SPACE FILE LOC" ; bulletin name
"RTN","ENTINSD",38,0)
 S XMTO("G.EN NON-SPACE FILE LOC")="" ; mail group
"RTN","ENTINSD",39,0)
 S XMTO(DUZ)=""
"RTN","ENTINSD",40,0)
 S XMPARM(1)=DA ; equipment entry #
"RTN","ENTINSD",41,0)
 S XMPARM(2)=$$GET1^DIQ(6914,DA_",",90) ; non-space file location
"RTN","ENTINSD",42,0)
 S XMPARM(3)=$$GET1^DIQ(6914,DA_",",90.1) ; non-space file person
"RTN","ENTINSD",43,0)
 S XMPARM(4)=$$GET1^DIQ(6914,DA_",",90.2) ; non-space file date/time
"RTN","ENTINSD",44,0)
 ;
"RTN","ENTINSD",45,0)
 ; send the bulletin
"RTN","ENTINSD",46,0)
 D SENDBULL^XMXAPI(XMDUZ,XMBNAME,.XMPARM,"",.XMTO)
"RTN","ENTINSD",47,0)
 Q
"RTN","ENTINSD",48,0)
 ;
"RTN","ENTINSD",49,0)
DELNSP(DA) ; Delete Non-Space File Location (#90) field value
"RTN","ENTINSD",50,0)
 ; called by new-style MUMPS field x-ref set logic on LOCATION (#24)
"RTN","ENTINSD",51,0)
 ; field of file 6914 when LOCATION value changes
"RTN","ENTINSD",52,0)
 ;
"RTN","ENTINSD",53,0)
 ; input
"RTN","ENTINSD",54,0)
 ;   DA - ien of entry in file 6914
"RTN","ENTINSD",55,0)
 ;
"RTN","ENTINSD",56,0)
 Q:'$G(DA)  ; ien required
"RTN","ENTINSD",57,0)
 ;
"RTN","ENTINSD",58,0)
 N ENFDA
"RTN","ENTINSD",59,0)
 S ENFDA(6914,DA_",",90)="@"
"RTN","ENTINSD",60,0)
 D FILE^DIE("","ENFDA")
"RTN","ENTINSD",61,0)
 Q
"RTN","ENTINSD",62,0)
 ; ENTINSD
"RTN","ENTINSR")
0^2^B5685527^n/a
"RTN","ENTINSR",1,0)
ENTINSR ;WOIFO/SAB - NON-SPACE FILE LOCATION REPORT ;2/4/2008
"RTN","ENTINSR",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTINSR",3,0)
 ;
"RTN","ENTINSR",4,0)
 ; ask device
"RTN","ENTINSR",5,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","ENTINSR",6,0)
 I $D(IO("Q")) D  G EXIT
"RTN","ENTINSR",7,0)
 . S ZTRTN="QEN^ENTINSR",ZTDESC="Non-Space File Location Report"
"RTN","ENTINSR",8,0)
 . D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q")
"RTN","ENTINSR",9,0)
 ;
"RTN","ENTINSR",10,0)
QEN ; queued entry
"RTN","ENTINSR",11,0)
 U IO
"RTN","ENTINSR",12,0)
 ;
"RTN","ENTINSR",13,0)
 ; generate output
"RTN","ENTINSR",14,0)
 K ENT S ENT=0
"RTN","ENTINSR",15,0)
 S (END,ENPG)=0 D NOW^%DTC S Y=% D DD^%DT S ENDT=Y
"RTN","ENTINSR",16,0)
 S ENL="",$P(ENL,"-",IOM)=""
"RTN","ENTINSR",17,0)
 D HD
"RTN","ENTINSR",18,0)
 ;
"RTN","ENTINSR",19,0)
 ; loop thru non-space file locations
"RTN","ENTINSR",20,0)
 S ENNSP="" F  S ENNSP=$O(^ENG(6914,"ANSP",ENNSP)) Q:ENNSP=""  D  Q:END
"RTN","ENTINSR",21,0)
 . ; non-space file location
"RTN","ENTINSR",22,0)
 . I $Y+5>IOSL D HD Q:END
"RTN","ENTINSR",23,0)
 . W !!,"NON-SPACE FILE LOCATION: ",ENNSP
"RTN","ENTINSR",24,0)
 . ; loop thru equipment
"RTN","ENTINSR",25,0)
 . S ENDA=0 F  S ENDA=$O(^ENG(6914,"ANSP",ENNSP,ENDA)) Q:'ENDA  D  Q:END
"RTN","ENTINSR",26,0)
 . . ; equipment item
"RTN","ENTINSR",27,0)
 . . I $Y+3>IOSL D HD Q:END  D HDNSP
"RTN","ENTINSR",28,0)
 . . W !,?2,ENDA ; equip id
"RTN","ENTINSR",29,0)
 . . W ?14,$P($$GET1^DIQ(6914,ENDA_",",90.2),"@") ; non-space file date
"RTN","ENTINSR",30,0)
 . . W ?28,$$GET1^DIQ(6914,ENDA_",",90.1) ; non-space file person
"RTN","ENTINSR",31,0)
 . . W ?60,$$GET1^DIQ(6914,ENDA_",",24) ; location
"RTN","ENTINSR",32,0)
 . . S ENT=ENT+1
"RTN","ENTINSR",33,0)
 ;
"RTN","ENTINSR",34,0)
 I 'END D
"RTN","ENTINSR",35,0)
 . ; report footer
"RTN","ENTINSR",36,0)
 . I $Y+4>IOSL D HD Q:END
"RTN","ENTINSR",37,0)
 . W !!,"Count of equipment items with non-space location values = ",ENT
"RTN","ENTINSR",38,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR
"RTN","ENTINSR",39,0)
 ;
"RTN","ENTINSR",40,0)
 D ^%ZISC
"RTN","ENTINSR",41,0)
 ;
"RTN","ENTINSR",42,0)
EXIT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENTINSR",43,0)
 K DIR,DIROUT,DIRUT,DIWF,DIWL,DTOUT,DUOUT,POP,X,Y
"RTN","ENTINSR",44,0)
 K ENDA,ENNSP,ENT
"RTN","ENTINSR",45,0)
 K END,ENDT,ENL,ENPG
"RTN","ENTINSR",46,0)
 Q
"RTN","ENTINSR",47,0)
 ;
"RTN","ENTINSR",48,0)
HD ; header
"RTN","ENTINSR",49,0)
 I $E(IOST,1,2)="C-",ENPG S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTINSR",50,0)
 I $E(IOST,1,2)="C-"!ENPG W @IOF
"RTN","ENTINSR",51,0)
 S ENPG=ENPG+1
"RTN","ENTINSR",52,0)
 W !,"NON-SPACE FILE LOCATION REPORT"
"RTN","ENTINSR",53,0)
 W ?48,ENDT,?72,"page ",ENPG
"RTN","ENTINSR",54,0)
 W !!,?2,"EQUIP ID #",?14,"NON-SP DATE",?28,"ENTERED BY",?60,"LOCATION"
"RTN","ENTINSR",55,0)
 W !,?2,$E(ENL,1,10),?14,$E(ENL,1,12),?28,$E(ENL,1,30),?60,$E(ENL,1,20)
"RTN","ENTINSR",56,0)
 Q
"RTN","ENTINSR",57,0)
 ;
"RTN","ENTINSR",58,0)
HDNSP ; header for continued NON-SPACE FILE LOCATION
"RTN","ENTINSR",59,0)
 I $G(ENNSP)]"" D
"RTN","ENTINSR",60,0)
 . W !,"NON-SPACE LOCATION: ",ENNSP," (continued)"
"RTN","ENTINSR",61,0)
 Q
"RTN","ENTINSR",62,0)
 ;ENTINSR
"RTN","ENTIRA")
0^6^B13057790^n/a
"RTN","ENTIRA",1,0)
ENTIRA ;WOIFO/SAB - IT EQUIPMENT RESPONSIBILITY ASSIGN ;2/4/2008
"RTN","ENTIRA",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRA",3,0)
 ;
"RTN","ENTIRA",4,0)
 N ENC,ENDA,ENIA,ENPER,ENSM,ENSMV,ENSRT,ENX,ENY
"RTN","ENTIRA",5,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ENTIRA",6,0)
 ;
"RTN","ENTIRA",7,0)
GETEQ ; get equipment
"RTN","ENTIRA",8,0)
 W !!,"Selecting accountable IT equipment to be assigned..."
"RTN","ENTIRA",9,0)
 ;   ask method of selection
"RTN","ENTIRA",10,0)
 S ENX=$$ASKEQSM^ENTIUTL2("ECULS","E")
"RTN","ENTIRA",11,0)
 S ENSM=$P(ENX,U),ENSMV=$P(ENX,U,2)
"RTN","ENTIRA",12,0)
 G:"^E^C^U^L^S^"'[(U_ENSM_U) EXIT
"RTN","ENTIRA",13,0)
 ;
"RTN","ENTIRA",14,0)
 ;   ask if already assigned equipment should be included
"RTN","ENTIRA",15,0)
 I ENSM="E" S ENIA="1"
"RTN","ENTIRA",16,0)
 E  S ENIA=$$ASKIAEQ^ENTIUTL2()
"RTN","ENTIRA",17,0)
 G:ENIA="" EXIT
"RTN","ENTIRA",18,0)
 ;
"RTN","ENTIRA",19,0)
 ;   select equipment using method
"RTN","ENTIRA",20,0)
 S ENSRT="E" ; set sort method = E
"RTN","ENTIRA",21,0)
 D GETEQ^ENTIUTL2(ENSM,ENSMV,ENSRT,ENIA)
"RTN","ENTIRA",22,0)
 ;
"RTN","ENTIRA",23,0)
 ; display count of selected equipment
"RTN","ENTIRA",24,0)
 S ENY=$G(^TMP($J,"ENITEQ",0))
"RTN","ENTIRA",25,0)
 W !!,+ENY," equipment item(s) selected."
"RTN","ENTIRA",26,0)
 ;
"RTN","ENTIRA",27,0)
 I ENY'>0 D  G:Y GETEQ G EXIT
"RTN","ENTIRA",28,0)
 . W !!
"RTN","ENTIRA",29,0)
 . S DIR(0)="Y"
"RTN","ENTIRA",30,0)
 . S DIR("A")="No equipment was selected. Do you want to try again"
"RTN","ENTIRA",31,0)
 . S DIR("B")="YES"
"RTN","ENTIRA",32,0)
 . D ^DIR K DIR
"RTN","ENTIRA",33,0)
 ;
"RTN","ENTIRA",34,0)
 ; ask if detailed report desired
"RTN","ENTIRA",35,0)
 S DIR(0)="Y"
"RTN","ENTIRA",36,0)
 S DIR("A")="Do you want to print a list of the equipment"
"RTN","ENTIRA",37,0)
 S DIR("B")="YES"
"RTN","ENTIRA",38,0)
 D ^DIR K DIR G:$D(DIRUT) EXIT
"RTN","ENTIRA",39,0)
 I Y D AEN^ENTIRRE
"RTN","ENTIRA",40,0)
 ;
"RTN","ENTIRA",41,0)
GETPE ; get people that will be assigned the equipment
"RTN","ENTIRA",42,0)
 W !!,"Selecting person(s) to be assigned responsibility..."
"RTN","ENTIRA",43,0)
 D SELPER
"RTN","ENTIRA",44,0)
 ;
"RTN","ENTIRA",45,0)
 ; display count of selected persons
"RTN","ENTIRA",46,0)
 S ENY=$G(^TMP($J,"ENITPE",0))
"RTN","ENTIRA",47,0)
 W !!,+ENY," person(s) selected."
"RTN","ENTIRA",48,0)
 I ENY'>0 D  G:Y GETPE G EXIT
"RTN","ENTIRA",49,0)
 . W !!
"RTN","ENTIRA",50,0)
 . S DIR(0)="Y"
"RTN","ENTIRA",51,0)
 . S DIR("A")="No responsible person selected. Do you want to try again"
"RTN","ENTIRA",52,0)
 . S DIR("B")="YES"
"RTN","ENTIRA",53,0)
 . D ^DIR K DIR
"RTN","ENTIRA",54,0)
 ;
"RTN","ENTIRA",55,0)
 ; confirm
"RTN","ENTIRA",56,0)
 S DIR(0)="Y"
"RTN","ENTIRA",57,0)
 S DIR("A")="OK to create assignments"
"RTN","ENTIRA",58,0)
 S DIR("B")="YES"
"RTN","ENTIRA",59,0)
 D ^DIR K DIR G:'Y EXIT
"RTN","ENTIRA",60,0)
 ;
"RTN","ENTIRA",61,0)
 ; make assignments
"RTN","ENTIRA",62,0)
 K ENC
"RTN","ENTIRA",63,0)
 ;  loop thru equipment list
"RTN","ENTIRA",64,0)
 S ENDA=0 F  S ENDA=$O(^TMP($J,"ENITEQ","NA",ENDA)) Q:'ENDA  D
"RTN","ENTIRA",65,0)
 . ; loop thru person list
"RTN","ENTIRA",66,0)
 . S ENPER=0 F  S ENPER=$O(^TMP($J,"ENITPE",ENPER)) Q:'ENPER  D
"RTN","ENTIRA",67,0)
 . . ; create assignment
"RTN","ENTIRA",68,0)
 . . S ENX=$$ASGN^ENTIUTL1(ENDA,ENPER)
"RTN","ENTIRA",69,0)
 . . I ENX S ENC(1)=$G(ENC(1))+1
"RTN","ENTIRA",70,0)
 . . I ENX=0 W !,"  Equipment # ",ENDA," is already assigned to ",$$GET1^DIQ(200,ENPER,.01) S ENC(0)=$G(ENC(0))+1
"RTN","ENTIRA",71,0)
 . . I ENX="E" W !,"  ERROR. Equipment ",ENDA," was not assigned to ",$$GET1^DIQ(200,ENPER,.01) S ENC("E")=$G(ENC("E"))+1
"RTN","ENTIRA",72,0)
 ;
"RTN","ENTIRA",73,0)
 ; display totals
"RTN","ENTIRA",74,0)
 W !!,+$G(ENC(1))," equipment assignment(s) created."
"RTN","ENTIRA",75,0)
 W:$G(ENC(0)) !,ENC(0)," equipment assignment(s) already in place."
"RTN","ENTIRA",76,0)
 W:$G(ENC("E")) !,ENC("E")," assignment(s) not created due to an error."
"RTN","ENTIRA",77,0)
 ;
"RTN","ENTIRA",78,0)
EXIT ;
"RTN","ENTIRA",79,0)
 K ^TMP($J,"ENITEQ"),^TMP($J,"ENITPE")
"RTN","ENTIRA",80,0)
 Q
"RTN","ENTIRA",81,0)
 ;
"RTN","ENTIRA",82,0)
SELPER ; Select Person(s)
"RTN","ENTIRA",83,0)
 ; output
"RTN","ENTIRA",84,0)
 ;   ^TMP($J,"ENITPE",0)=count
"RTN","ENTIRA",85,0)
 ;   ^TMP($J,"ENITPE",ien)="" list of persons by internal entry number
"RTN","ENTIRA",86,0)
 ;
"RTN","ENTIRA",87,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ENTIRA",88,0)
 N ENCNT,END,ENDA,ENNAME
"RTN","ENTIRA",89,0)
 S ENCNT=0,END=0
"RTN","ENTIRA",90,0)
 K ^TMP($J,"ENITPE")
"RTN","ENTIRA",91,0)
 ;
"RTN","ENTIRA",92,0)
 ; ask person in loop
"RTN","ENTIRA",93,0)
 F  D  Q:END
"RTN","ENTIRA",94,0)
 . S DIC="^VA(200,"
"RTN","ENTIRA",95,0)
 . S DIC(0)="AQEM"
"RTN","ENTIRA",96,0)
 . I ENCNT>0 S DIC("A")="Select Another NEW PERSON NAME: "
"RTN","ENTIRA",97,0)
 . W !
"RTN","ENTIRA",98,0)
 . D ^DIC K DIC  I Y<1 S END=1 Q
"RTN","ENTIRA",99,0)
 . S ENDA=+Y
"RTN","ENTIRA",100,0)
 . S ENNAME=$P(Y,U,2)
"RTN","ENTIRA",101,0)
 . S DIR(0)="Y",DIR("A")="Assign responsibility to "_ENNAME
"RTN","ENTIRA",102,0)
 . D ^DIR I $D(DIRUT) S END=1 Q
"RTN","ENTIRA",103,0)
 . I 'Y Q
"RTN","ENTIRA",104,0)
 . ; user confirmed
"RTN","ENTIRA",105,0)
 . S ENCNT=ENCNT+1
"RTN","ENTIRA",106,0)
 . S ^TMP($J,"ENITPE",ENDA)=""
"RTN","ENTIRA",107,0)
 ;
"RTN","ENTIRA",108,0)
 ; set output header node
"RTN","ENTIRA",109,0)
 S ^TMP($J,"ENITPE",0)=ENCNT
"RTN","ENTIRA",110,0)
 ;
"RTN","ENTIRA",111,0)
 ;ENTIRA
"RTN","ENTIRC")
0^9^B17968863^n/a
"RTN","ENTIRC",1,0)
ENTIRC ;WOIFO/LKG - Certify IT Acceptance ;2/5/08  14:48
"RTN","ENTIRC",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRC",3,0)
IN ;Entry point
"RTN","ENTIRC",4,0)
 N D,DIC,DTOUT,DUOUT,DIRUT,DIROUT,DIR,ENDA,ENDAC,ENNAME,ENI,ENJ,ENDATE,ENCNT,ENX,ENZ,X,X1,Y,L,DIC,FLDS,FR,TO,BY,IOP,DHD
"RTN","ENTIRC",5,0)
LOOPST ;
"RTN","ENTIRC",6,0)
 S:'$G(DT) DT=$$DT^XLFDT()
"RTN","ENTIRC",7,0)
 K D,DIC S DIC=200,DIC(0)="AEMQ",DIC("S")="I $D(^ENG(6916.3,""AOA"",Y))"
"RTN","ENTIRC",8,0)
 D ^DIC K DIC I $D(DTOUT)!$D(DUOUT)!(Y<1) G EX
"RTN","ENTIRC",9,0)
 S ENDA=+Y,ENNAME=$P(Y,U,2)
"RTN","ENTIRC",10,0)
 K D,^TMP($J,"ENITRC"),ENERR
"RTN","ENTIRC",11,0)
 D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AOA","I $P(^(0),U,8)="""",$S($P(^(0),U,5)="""":1,$$FMDIFF^XLFDT(DT,$P(^(0),U,5))>359:1,1:0)","","^TMP($J,""ENITRC"")","ENERR")
"RTN","ENTIRC",12,0)
 I $P($G(^TMP($J,"ENITRC","DILIST",0)),U)'>0 W !!,"There are no unaccepted IT responsibilities to be certified." K DIR S DIR(0)="E" D ^DIR K DIR K ^TMP($J,"ENITRC") G EX:'Y,LOOPST
"RTN","ENTIRC",13,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX"),ENACL W !
"RTN","ENTIRC",14,0)
 S ^TMP($J,"SCR")=$P(^TMP($J,"ENITRC","DILIST",0),U)_"^IT RESPONSIBILITIES TO CERTIFY FOR "_ENNAME
"RTN","ENTIRC",15,0)
 S ^TMP($J,"SCR",0)="5;9;ENTRY #^15;20;MFG EQUIP NAME^37;25;MODEL^65;14;SERIAL#"
"RTN","ENTIRC",16,0)
 S ENI=0
"RTN","ENTIRC",17,0)
 F  S ENI=$O(^TMP($J,"ENITRC","DILIST",ENI)) Q:+ENI'>0  D
"RTN","ENTIRC",18,0)
 . N ENX,END,ENERR S ENX=$G(^TMP($J,"ENITRC","DILIST",ENI,0))
"RTN","ENTIRC",19,0)
 . S ENDAC=$P(ENX,U,2)_"," D GETS^DIQ(6914,ENDAC,"3;4;5","E","END","ENERR")
"RTN","ENTIRC",20,0)
 . S ^TMP($J,"SCR",ENI)=$P(ENX,U,2)_U_$E($G(END(6914,ENDAC,3,"E")),1,20)_U_$G(END(6914,ENDAC,4,"E"))_U_$G(END(6914,ENDAC,5,"E"))
"RTN","ENTIRC",21,0)
 . S ^TMP($J,"INDX",ENI)=$P(ENX,U)
"RTN","ENTIRC",22,0)
 K ^TMP($J,"ENITRC")
"RTN","ENTIRC",23,0)
 D EN2^ENPLS2(1) G:'$D(ENACL) EX
"RTN","ENTIRC",24,0)
 K DIR S DIR(0)="Y",DIR("A")="OK to continue",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRC",25,0)
 G:'Y!$D(DIRUT) EX
"RTN","ENTIRC",26,0)
 S ENDA=$O(^ENG(6916.2,"@"),-1)
"RTN","ENTIRC",27,0)
 I '$$CMP^XUSESIG1($P($G(^ENG(6916.2,ENDA,0)),U,3),$NAME(^ENG(6916.2,ENDA,1))) W !!,"Hand receipt text is corrupted - Please contact EPS AEMS/MERS support" G EX
"RTN","ENTIRC",28,0)
 K L,DIC,FLDS,FR,TO,BY,IOP,DHD
"RTN","ENTIRC",29,0)
 S L=0,DIC=6916.2,FLDS=1,FR=ENDA,TO=ENDA,BY="@NUMBER",IOP="HOME",DHD="@"
"RTN","ENTIRC",30,0)
 D EN1^DIP K DIR S DIR(0)="Y",DIR("A")="Is this the text on the signed, printed hand receipt",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRC",31,0)
 G:$D(DIRUT) EX I 'Y W !!,"Signed copy is not current.",!?5,"Please ask person to sign current version of hand receipt." K DIR S DIR(0)="E" D ^DIR K DIR G EX
"RTN","ENTIRC",32,0)
 K L,DIC,FLDS,FR,TO,BY,IOP,DHD
"RTN","ENTIRC",33,0)
 K DIR S DIR(0)="D^"_$$BEGDATE()_":"_DT_":EX",DIR("A")="Date person signed hard copy hand receipt" D ^DIR K DIR
"RTN","ENTIRC",34,0)
 I 'Y!$D(DIRUT) W !!,"Certification Aborted." G EX
"RTN","ENTIRC",35,0)
 S ENDATE=Y
"RTN","ENTIRC",36,0)
 K DIR S DIR(0)="Y",DIR("A")="OK to certify",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRC",37,0)
 G:'Y!$D(DIRUT) EX
"RTN","ENTIRC",38,0)
 D SIG^XUSESIG I X1="" W !,"<Failed Electronic Signature> Certification Aborted." G EX
"RTN","ENTIRC",39,0)
 S ENCNT=0,ENX=""
"RTN","ENTIRC",40,0)
 F  S ENX=$O(ENACL(ENX)) Q:ENX=""  D
"RTN","ENTIRC",41,0)
 . N ENXSTR S ENXSTR=$G(ENACL(ENX)) Q:ENXSTR=""
"RTN","ENTIRC",42,0)
 . I $L(ENXSTR,",")>0 D
"RTN","ENTIRC",43,0)
 . . F ENJ=1:1 S ENI=$P(ENXSTR,",",ENJ) Q:+ENI'>0  D
"RTN","ENTIRC",44,0)
 . . . S ENDA=^TMP($J,"INDX",ENI) L +^ENG(6916.3,ENDA):$S($G(DILOCKTM)>5:DILOCKTM,1:5) E  D MSG^ENTIRT(ENDA,"Certification") Q
"RTN","ENTIRC",45,0)
 . . . S ENZ=$$CERT^ENTIUTL1(ENDA,ENDATE)
"RTN","ENTIRC",46,0)
 . . . S:ENZ ENCNT=ENCNT+1 D:'ENZ MSG2(ENDA)
"RTN","ENTIRC",47,0)
 . . . L -^ENG(6916.3,ENDA)
"RTN","ENTIRC",48,0)
 W !!,ENCNT," assignment records were certified."
"RTN","ENTIRC",49,0)
 K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRC",50,0)
 G:Y LOOPST
"RTN","ENTIRC",51,0)
EX ;
"RTN","ENTIRC",52,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX"),ENACL
"RTN","ENTIRC",53,0)
 Q
"RTN","ENTIRC",54,0)
MSG2(ENDA) ;error message on certification failure
"RTN","ENTIRC",55,0)
 N END,ENERR,ENDAC S ENDAC=ENDA_","
"RTN","ENTIRC",56,0)
 D GETS^DIQ(6916.3,ENDAC,".01;1","E","END","ENERR")
"RTN","ENTIRC",57,0)
 W !,"Assignment Equip Entry# ",$G(END(6916.3,ENDAC,.01,"E"))," for ",$G(END(6916.3,ENDAC,1,"E"))," is not active ",!?5,"and was not certified."
"RTN","ENTIRC",58,0)
 Q
"RTN","ENTIRC",59,0)
BEGDATE() ;Earliest date for certification
"RTN","ENTIRC",60,0)
 N ENDA,ENDATE,ENI,ENJ,ENASGNDT,ENX,ENXSTR
"RTN","ENTIRC",61,0)
 S ENX="",ENDATE=$$FMADD^XLFDT(DT,-359)
"RTN","ENTIRC",62,0)
 F  S ENX=$O(ENACL(ENX)) Q:ENX=""  D
"RTN","ENTIRC",63,0)
 . S ENXSTR=$G(ENACL(ENX)) Q:ENXSTR=""
"RTN","ENTIRC",64,0)
 . I $L(ENXSTR,",")>0 D
"RTN","ENTIRC",65,0)
 . . F ENJ=1:1 S ENI=$P(ENXSTR,",",ENJ) Q:+ENI'>0  D
"RTN","ENTIRC",66,0)
 . . . S ENDA=^TMP($J,"INDX",ENI),ENASGNDT=$P($P($G(^ENG(6916.3,ENDA,0)),U,3),".")
"RTN","ENTIRC",67,0)
 . . . S:ENASGNDT>ENDATE ENDATE=ENASGNDT
"RTN","ENTIRC",68,0)
 Q ENDATE
"RTN","ENTIRC",69,0)
 ;
"RTN","ENTIRC",70,0)
 ;ENTIRC
"RTN","ENTIRN")
0^16^B2690254^n/a
"RTN","ENTIRN",1,0)
ENTIRN ;WOIFO/SAB - Responsibility Notification ;2/4/2008
"RTN","ENTIRN",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRN",3,0)
 ;
"RTN","ENTIRN",4,0)
 ; called by option ENIT RESP NOTIFY during user sign-on
"RTN","ENTIRN",5,0)
 Q:'$D(^ENG(6916.3,"AOA",DUZ))  ; user doesn't have active IT assignments
"RTN","ENTIRN",6,0)
 ;
"RTN","ENTIRN",7,0)
 N ENC,ENDA,ENEQ,ENSD
"RTN","ENTIRN",8,0)
 S ENC("U")=0 ; init count of assignments that need to be signed
"RTN","ENTIRN",9,0)
 S ENC("R")=0 ; init count of assignments that need to be re-signed
"RTN","ENTIRN",10,0)
 ;
"RTN","ENTIRN",11,0)
 ; loop thru active assignments for user
"RTN","ENTIRN",12,0)
 S ENEQ=0 F  S ENEQ=$O(^ENG(6916.3,"AOA",DUZ,ENEQ)) Q:'ENEQ  D
"RTN","ENTIRN",13,0)
 . S ENDA=0 F  S ENDA=$O(^ENG(6916.3,"AOA",DUZ,ENEQ,ENDA)) Q:'ENDA  D
"RTN","ENTIRN",14,0)
 . . S ENSD=$P($P($G(^ENG(6916.3,ENDA,0)),"^",5),".") ; signed date
"RTN","ENTIRN",15,0)
 . . I 'ENSD S ENC("U")=ENC("U")+1 Q
"RTN","ENTIRN",16,0)
 . . I ENSD,$$FMDIFF^XLFDT(DT,ENSD)>359 S ENC("R")=ENC("R")+1
"RTN","ENTIRN",17,0)
 ;
"RTN","ENTIRN",18,0)
 I ENC("U")=0,ENC("R")=0 Q  ; no action required
"RTN","ENTIRN",19,0)
 ;
"RTN","ENTIRN",20,0)
 I ENC("U") D SET^XUS1A("!"_ENC("U")_" IT Assignment(s) need signature.")
"RTN","ENTIRN",21,0)
 I ENC("R") D SET^XUS1A("!"_ENC("R")_" IT Assignment(s) need re-signature.")
"RTN","ENTIRN",22,0)
 D SET^XUS1A("!Use the IT Owner Menu to sign for IT equipment.")
"RTN","ENTIRN",23,0)
 ;
"RTN","ENTIRN",24,0)
 Q
"RTN","ENTIRN",25,0)
 ;
"RTN","ENTIRN",26,0)
 ;ENTIRN
"RTN","ENTIRRE")
0^13^B14984359^n/a
"RTN","ENTIRRE",1,0)
ENTIRRE ;WOIFO/SAB - IT Equipment Report ;2/4/2008
"RTN","ENTIRRE",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRE",3,0)
 ;
"RTN","ENTIRRE",4,0)
 N ENIA,ENKTMP,ENSM,ENSMV,ENSRT,ENX
"RTN","ENTIRRE",5,0)
 ;
"RTN","ENTIRRE",6,0)
 ; ask equipment selection method
"RTN","ENTIRRE",7,0)
 S ENX=$$ASKEQSM^ENTIUTL2("AECULS")
"RTN","ENTIRRE",8,0)
 S ENSM=$P(ENX,U),ENSMV=$P(ENX,U,2)
"RTN","ENTIRRE",9,0)
 Q:"^A^E^C^U^L^S^"'[(U_ENSM_U)
"RTN","ENTIRRE",10,0)
 ;
"RTN","ENTIRRE",11,0)
 ; ask sort
"RTN","ENTIRRE",12,0)
 S ENSRT=$$ASKEQSRT^ENTIUTL2(ENSM)
"RTN","ENTIRRE",13,0)
 Q:ENSRT=""  ; user time-out or '^'
"RTN","ENTIRRE",14,0)
 ;
"RTN","ENTIRRE",15,0)
 S ENIA=1 ; include equipment with active assignments
"RTN","ENTIRRE",16,0)
 ;
"RTN","ENTIRRE",17,0)
 ; if method is E then obtain list of equipment
"RTN","ENTIRRE",18,0)
 I ENSM="E" D GETEQ^ENTIUTL2(ENSM,ENSMV,ENSRT,ENIA)
"RTN","ENTIRRE",19,0)
 ;
"RTN","ENTIRRE",20,0)
 S ENKTMP=1 ; flag to kill TMP global
"RTN","ENTIRRE",21,0)
 ;
"RTN","ENTIRRE",22,0)
AEN ; entry point from ENTIRA routine (with it's list of equipment in ^TMP)
"RTN","ENTIRRE",23,0)
 N ENBFMT
"RTN","ENTIRRE",24,0)
 ;
"RTN","ENTIRRE",25,0)
 ; ask format
"RTN","ENTIRRE",26,0)
 S DIR(0)="Y"
"RTN","ENTIRRE",27,0)
 S DIR("A")="Do you want the brief display format"
"RTN","ENTIRRE",28,0)
 S DIR("B")="YES"
"RTN","ENTIRRE",29,0)
 D ^DIR K DIR G:$D(DIRUT) EXIT
"RTN","ENTIRRE",30,0)
 S ENBFMT=Y
"RTN","ENTIRRE",31,0)
 ;
"RTN","ENTIRRE",32,0)
 ; ask device
"RTN","ENTIRRE",33,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","ENTIRRE",34,0)
 I $D(IO("Q")) D  G EXIT
"RTN","ENTIRRE",35,0)
 . N ENY
"RTN","ENTIRRE",36,0)
 . S ZTRTN="QEN^ENTIRRE",ZTDESC="IT Equipment Report"
"RTN","ENTIRRE",37,0)
 . F ENY="ENSM","ENSMV","ENIA","ENSRT","ENBFMT","ENKTMP" S ZTSAVE(ENY)=""
"RTN","ENTIRRE",38,0)
 . S ZTSAVE("^TMP($J,""ENITEQ"",")=""
"RTN","ENTIRRE",39,0)
 . D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q")
"RTN","ENTIRRE",40,0)
 ;
"RTN","ENTIRRE",41,0)
QEN ; queued entry
"RTN","ENTIRRE",42,0)
 U IO
"RTN","ENTIRRE",43,0)
 ;
"RTN","ENTIRRE",44,0)
 ; generate output
"RTN","ENTIRRE",45,0)
 K ENT S ENT=0
"RTN","ENTIRRE",46,0)
 S (END,ENPG)=0 D NOW^%DTC S Y=% D DD^%DT S ENDT=Y
"RTN","ENTIRRE",47,0)
 ;
"RTN","ENTIRRE",48,0)
 ; build header line 2 string
"RTN","ENTIRRE",49,0)
 S ENHL2=$$BLDHL2^ENTIUTL(ENSM,ENSMV,ENSRT)
"RTN","ENTIRRE",50,0)
 ;
"RTN","ENTIRRE",51,0)
 D HD
"RTN","ENTIRRE",52,0)
 ;
"RTN","ENTIRRE",53,0)
 ; if sorted equipment list is not already built then build it
"RTN","ENTIRRE",54,0)
 I '$D(^TMP($J,"ENITEQ")) D GETEQ^ENTIUTL2(ENSM,ENSMV,ENSRT,ENIA)
"RTN","ENTIRRE",55,0)
 ;
"RTN","ENTIRRE",56,0)
 ; print equipment
"RTN","ENTIRRE",57,0)
 ; loop thru sort value
"RTN","ENTIRRE",58,0)
 S ENSRTV=""
"RTN","ENTIRRE",59,0)
 F  S ENSRTV=$O(^TMP($J,"ENITEQ",ENSRTV)) Q:ENSRTV=""  D  Q:END
"RTN","ENTIRRE",60,0)
 . ; loop thru equipment
"RTN","ENTIRRE",61,0)
 . S ENDA=0
"RTN","ENTIRRE",62,0)
 . F  S ENDA=$O(^TMP($J,"ENITEQ",ENSRTV,ENDA)) Q:'ENDA  D  Q:END
"RTN","ENTIRRE",63,0)
 . . S ENT=ENT+1
"RTN","ENTIRRE",64,0)
 . . ; display equipment data
"RTN","ENTIRRE",65,0)
 . . I $Y+$S(ENBFMT:5,1:8)>IOSL D HD Q:END
"RTN","ENTIRRE",66,0)
 . . I ENBFMT D
"RTN","ENTIRRE",67,0)
 . . . S ENCMR=$$GET1^DIQ(6914,ENDA,19)
"RTN","ENTIRRE",68,0)
 . . . S ENLOC=$$GET1^DIQ(6914,ENDA,24)
"RTN","ENTIRRE",69,0)
 . . . S ENSVC=$$GET1^DIQ(6914,ENDA,21)
"RTN","ENTIRRE",70,0)
 . . . S ENNAM=$$GET1^DIQ(6914,ENDA,3)
"RTN","ENTIRRE",71,0)
 . . . W !,ENDA,?12,ENCMR,?19,ENLOC,?41,ENSVC
"RTN","ENTIRRE",72,0)
 . . . W !,?2,$E(ENNAM,1,78)
"RTN","ENTIRRE",73,0)
 . . E  D CAPEQ^ENTIUTL(ENDA,"HD^ENTIRRE",,.END) Q:END
"RTN","ENTIRRE",74,0)
 . . ; display assignments
"RTN","ENTIRRE",75,0)
 . . D DISASGN(ENDA)
"RTN","ENTIRRE",76,0)
 . . W !
"RTN","ENTIRRE",77,0)
 ;
"RTN","ENTIRRE",78,0)
 I 'END D
"RTN","ENTIRRE",79,0)
 . ; report footer
"RTN","ENTIRRE",80,0)
 . I $Y+4>IOSL D HD Q:END
"RTN","ENTIRRE",81,0)
 . W !!,"Count of IT equipment items on report = ",ENT
"RTN","ENTIRRE",82,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRE",83,0)
 ;
"RTN","ENTIRRE",84,0)
 D ^%ZISC
"RTN","ENTIRRE",85,0)
 ;
"RTN","ENTIRRE",86,0)
EXIT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENTIRRE",87,0)
 I $G(ENKTMP) K ^TMP($J,"ENITEQ")
"RTN","ENTIRRE",88,0)
 K DIR,DIROUT,DIRUT,DIWF,DIWL,DTOUT,DUOUT,POP,X,Y
"RTN","ENTIRRE",89,0)
 K ENCMR,ENDA,ENHL2,ENKTMP,ENLOC,ENNAM,ENNSP,ENSM,ENSMV
"RTN","ENTIRRE",90,0)
 K ENSRT,ENSRTV,ENSVC,ENT,END,ENDT,ENPG
"RTN","ENTIRRE",91,0)
 Q
"RTN","ENTIRRE",92,0)
 ;
"RTN","ENTIRRE",93,0)
HD ; header
"RTN","ENTIRRE",94,0)
 I $E(IOST,1,2)="C-",ENPG S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIRRE",95,0)
 I $E(IOST,1,2)="C-"!ENPG W @IOF
"RTN","ENTIRRE",96,0)
 S ENPG=ENPG+1
"RTN","ENTIRRE",97,0)
 W "IT EQUIPMENT REPORT",?48,ENDT,?72,"page ",ENPG
"RTN","ENTIRRE",98,0)
 W !,ENHL2,!
"RTN","ENTIRRE",99,0)
 I ENBFMT D
"RTN","ENTIRRE",100,0)
 . W !,"Entry #",?12,"CMR",?19,"Location",?41,"Using Service"
"RTN","ENTIRRE",101,0)
 . W !,"---------",?12,"-----",?19,"--------------------"
"RTN","ENTIRRE",102,0)
 . W ?41,"------------------------------"
"RTN","ENTIRRE",103,0)
 Q
"RTN","ENTIRRE",104,0)
 ;
"RTN","ENTIRRE",105,0)
DISASGN(ENDA) ; Display Active Assignments for Equipment
"RTN","ENTIRRE",106,0)
 ; check page
"RTN","ENTIRRE",107,0)
 ; display assignment data
"RTN","ENTIRRE",108,0)
 N ENADA,ENSTAT
"RTN","ENTIRRE",109,0)
 S ENADA=0 F  S ENADA=$O(^ENG(6916.3,"AEA",ENDA,ENADA)) Q:'ENADA  D
"RTN","ENTIRRE",110,0)
 . I $Y+4>IOSL D HD Q:END  W !,"Entry #: ",ENDA," (continued)"
"RTN","ENTIRRE",111,0)
 . W !,"  Assign: "
"RTN","ENTIRRE",112,0)
 . W $$FMTE^XLFDT($$GET1^DIQ(6916.3,ENADA,2,"I"),"2DZ")
"RTN","ENTIRRE",113,0)
 . W ?20,$$GET1^DIQ(6916.3,ENADA,1)
"RTN","ENTIRRE",114,0)
 . S ENSTAT=$$GET1^DIQ(6916.3,ENADA,20)
"RTN","ENTIRRE",115,0)
 . W ?52,"Status: ",ENSTAT
"RTN","ENTIRRE",116,0)
 . I ENSTAT'="ASSIGNED" W ?71,$$GET1^DIQ(6916.3,ENADA,21)
"RTN","ENTIRRE",117,0)
 Q
"RTN","ENTIRRE",118,0)
 ;
"RTN","ENTIRRE",119,0)
 ;ENTIRRE
"RTN","ENTIRRH")
0^12^B78760523^n/a
"RTN","ENTIRRH",1,0)
ENTIRRH ;WOIFO/LKG - Print hand receipt ;3/19/08  15:48
"RTN","ENTIRRH",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRH",3,0)
ASK ;Main entry point
"RTN","ENTIRRH",4,0)
 N ENOPT D OP^XQCHK S ENOPT=$P(XQOPT,U)
"RTN","ENTIRRH",5,0)
 K DIR S DIR(0)="S^D:DATE OF SIGNATURE;S:SIGNED;U:UNSIGNED",DIR("A")="Print Hand Receipt for Unsigned or Signed IT assignments",DIR("B")="UNSIGNED"
"RTN","ENTIRRH",6,0)
 S DIR("?",1)="'D' selects assignments signed electronically or via wet signature on a"
"RTN","ENTIRRH",7,0)
 S DIR("?",2)="      given date, regardless of current status."
"RTN","ENTIRRH",8,0)
 S DIR("?",3)="'S' selects active assignments signed electronically or via wet signature."
"RTN","ENTIRRH",9,0)
 S DIR("?",4)="'U' selects active assignments not signed, either electronically or via wet"
"RTN","ENTIRRH",10,0)
 S DIR("?",5)="      signature or signed documents where the signature date is more than"
"RTN","ENTIRRH",11,0)
 S DIR("?")="      359 days ago.  Assignments must be re-signed annually."
"RTN","ENTIRRH",12,0)
 D ^DIR K DIR I $D(DIRUT) K DIRUT,DIROUT,DTOUT,DUOUT Q
"RTN","ENTIRRH",13,0)
 G:Y="D" USER^ENTIRRH1:ENOPT="ENIT PRINT HAND RCPT (COM)",ITST2^ENTIRRH1:ENOPT="ENIT PRINT HAND RCPT (IT)"
"RTN","ENTIRRH",14,0)
 G:Y="U" USTART:ENOPT="ENIT PRINT HAND RCPT (COM)",ITSTART:ENOPT="ENIT PRINT HAND RCPT (IT)"
"RTN","ENTIRRH",15,0)
 G:Y="S" USER:ENOPT="ENIT PRINT HAND RCPT (COM)",ITST2:ENOPT="ENIT PRINT HAND RCPT (IT)"
"RTN","ENTIRRH",16,0)
 W !,"UNKNOWN" Q
"RTN","ENTIRRH",17,0)
ITSTART ;Entry point for IT
"RTN","ENTIRRH",18,0)
 N ENDA,ENVR S ENVR=$O(^ENG(6916.2,"@"),-1) I ENVR'>0 W !,"There are no hand receipt templates on file." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH",19,0)
 N DIC,DTOUT,DUOUT S DIC=200,DIC(0)="AEMQ",DIC("A")="IT Responsible Person: ",DIC("S")="I $D(^ENG(6916.3,""AOA"",Y))"
"RTN","ENTIRRH",20,0)
 D ^DIC I Y<1!$D(DTOUT)!$D(DUOUT) Q
"RTN","ENTIRRH",21,0)
 S ENDA=+Y
"RTN","ENTIRRH",22,0)
 S %ZIS="Q" D ^%ZIS I POP K POP Q
"RTN","ENTIRRH",23,0)
 I $D(IO("Q")) S ZTRTN="IN^ENTIRRH",ZTDESC="IT Equipment Hand Receipt Print",ZTSAVE("ENDA")="",ZTSAVE("ENVR")="" D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q") Q
"RTN","ENTIRRH",24,0)
 G IN
"RTN","ENTIRRH",25,0)
USTART ;User entry point
"RTN","ENTIRRH",26,0)
 N ENDA,ENVR S ENVR=$O(^ENG(6916.2,"@"),-1) I ENVR'>0 W !,"There are no hand receipt templates on file." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH",27,0)
 I '$D(^ENG(6916.3,"AOA",DUZ)) W !,"You have no active IT assignments." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH",28,0)
 S ENDA=DUZ
"RTN","ENTIRRH",29,0)
 S %ZIS="Q" D ^%ZIS I POP K POP Q
"RTN","ENTIRRH",30,0)
 I $D(IO("Q")) S ZTRTN="IN^ENTIRRH",ZTDESC="IT Equipment Hand Receipt Print",ZTSAVE("ENDA")="",ZTSAVE("ENVR")="" D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q") Q
"RTN","ENTIRRH",31,0)
 G IN
"RTN","ENTIRRH",32,0)
IN ;
"RTN","ENTIRRH",33,0)
 U IO
"RTN","ENTIRRH",34,0)
 N DIR,DIRUT,DIROUT,DTOUT,DUOUT,END,ENDAC,ENERR,ENI,ENLNCNT,ENMFGN,ENMODEL,ENNOW,ENPG,ENEQPT,ENX,ENNBR,ENSERNBR,ENNAME,ENSTN,X,Y
"RTN","ENTIRRH",35,0)
 S ENNAME=$$GET1^DIQ(200,ENDA_",",.01),ENNOW=$$FMTE^XLFDT($$NOW^XLFDT(),"2M"),ENPG=0,ENEQPT=1 S:'$G(DT) DT=$$DT^XLFDT()
"RTN","ENTIRRH",36,0)
 S ENSTN=+$O(^DIC(6910,0)),ENSTN=$$GET1^DIQ(6910,ENSTN_",",1)
"RTN","ENTIRRH",37,0)
 D HDR1 G:$D(DIRUT) EX
"RTN","ENTIRRH",38,0)
 K ^TMP($J,"ENITRRH"),ENERR
"RTN","ENTIRRH",39,0)
 D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AOA","I $P(^(0),U,8)="""",$S($P(^(0),U,5)="""":1,$$FMDIFF^XLFDT(DT,$P(^(0),U,5))>359:1,1:0)","","^TMP($J,""ENITRRH"")","ENERR")
"RTN","ENTIRRH",40,0)
 I $P($G(^TMP($J,"ENITRRH","DILIST",0)),U)'>0 W !,"The are no unsigned IT assignments." G EX
"RTN","ENTIRRH",41,0)
 I '$$CMP^XUSESIG1($P($G(^ENG(6916.2,ENVR,0)),U,3),$NAME(^ENG(6916.2,ENVR,1))) W !!!,"Hand receipt text is corrupted - Please contact EPS AEMS/MERS support"  G EX
"RTN","ENTIRRH",42,0)
 S ENI=0
"RTN","ENTIRRH",43,0)
 F  S ENI=$O(^TMP($J,"ENITRRH","DILIST",ENI)) Q:+ENI'=ENI  D  Q:$D(DIRUT)
"RTN","ENTIRRH",44,0)
 . S ENX=$G(^TMP($J,"ENITRRH","DILIST",ENI,0))
"RTN","ENTIRRH",45,0)
 . S ENDAC=$P(ENX,U,2)_"," D GETS^DIQ(6914,ENDAC,"3;4;5","E","END","ENERR")
"RTN","ENTIRRH",46,0)
 . S ENNBR=$P(ENX,U,2),ENMFGN=$G(END(6914,ENDAC,3,"E")),ENMODEL=$G(END(6914,ENDAC,4,"E")),ENSERNBR=$G(END(6914,ENDAC,5,"E"))
"RTN","ENTIRRH",47,0)
 . I IOSL-1'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH",48,0)
 . W !,ENNBR,?11,$E(ENMFGN,1,20),?35,ENMODEL,?65,ENSERNBR S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",49,0)
 G:$D(DIRUT) EX
"RTN","ENTIRRH",50,0)
 S ENEQPT=0
"RTN","ENTIRRH",51,0)
 I IOSL-1'>ENLNCNT D HDR1 G:$D(DIRUT) EX
"RTN","ENTIRRH",52,0)
 I ENLNCNT>3 W !! S ENLNCNT=ENLNCNT+2
"RTN","ENTIRRH",53,0)
 S ENI=0 F  S ENI=$O(^ENG(6916.2,ENVR,1,ENI)) Q:+ENI'=ENI  D  Q:$D(DIRUT)
"RTN","ENTIRRH",54,0)
 . I IOSL-1'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH",55,0)
 . W !,$G(^ENG(6916.2,ENVR,1,ENI,0)) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",56,0)
 G:$D(DIRUT) EX
"RTN","ENTIRRH",57,0)
 I IOSL-6'>ENLNCNT D HDR1 G:$D(DIRUT) EX
"RTN","ENTIRRH",58,0)
 W !!! S ENLNCNT=ENLNCNT+3
"RTN","ENTIRRH",59,0)
 W !,"Signature:______________________________   Date:________________"
"RTN","ENTIRRH",60,0)
 W !,?12,$P($$ESBLOCK^XUSESIG1(ENDA),U)
"RTN","ENTIRRH",61,0)
 I $E(IOST,1,2)="C-" K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRH",62,0)
EX S:$D(ZTQUEUED) ZTREQ="@" D ^%ZISC
"RTN","ENTIRRH",63,0)
 K ^TMP($J,"ENITRRH"),ENDA,ENVR
"RTN","ENTIRRH",64,0)
 Q
"RTN","ENTIRRH",65,0)
HDR1 ;Logic to print report heading
"RTN","ENTIRRH",66,0)
 I $E(IOST,1,2)="C-",ENPG K DIR S DIR(0)="E" D ^DIR K DIR Q:$D(DIRUT) 
"RTN","ENTIRRH",67,0)
 W:$E(IOST,1,2)="C-"!ENPG @IOF S ENPG=ENPG+1
"RTN","ENTIRRH",68,0)
 W $S($G(ENPRT)="SIGNED":"IT HAND RECEIPT/LOAN FORM FOR GOVERNMENT FURNISHED EQUIPMENT (GFE)   Page ",1:"INFORMATION TECHNOLOGY HAND RECEIPT FOR GOVERNMENT FURNISHED EQUIPMENT  Page "),ENPG
"RTN","ENTIRRH",69,0)
 W:$G(ENPRT)="SIGNED" !,"Electronic Accepted Substitute for VA Form 0887(a/b)"
"RTN","ENTIRRH",70,0)
 W !,"STATION: ",ENSTN,?14,"ASSIGNED TO: ",$E(ENNAME,1,30),?58,"Printed ",ENNOW,! S ENLNCNT=$S($G(ENPRT)="SIGNED":4,1:3)
"RTN","ENTIRRH",71,0)
 I ENEQPT W !,"ENTRY #",?11,"MFG EQUIP NAME",?35,"MODEL",?65,"SERIAL#",!,"---------",?11,"--------------------",?35,"--------------------------",?65,"----------" S ENLNCNT=ENLNCNT+2
"RTN","ENTIRRH",72,0)
 Q
"RTN","ENTIRRH",73,0)
 ;
"RTN","ENTIRRH",74,0)
ITST2 ;IT personnel entry point for printing signed hand receipts
"RTN","ENTIRRH",75,0)
 N ENDA
"RTN","ENTIRRH",76,0)
 N DIC,DTOUT,DUOUT S DIC=200,DIC(0)="AEMQ",DIC("S")="I $D(^ENG(6916.3,""AOA"",Y))"
"RTN","ENTIRRH",77,0)
 D ^DIC I Y<1!$D(DTOUT)!$D(DUOUT) Q
"RTN","ENTIRRH",78,0)
 S ENDA=+Y
"RTN","ENTIRRH",79,0)
 I '$$SIGNED(ENDA) W !,"There are no active, Signed/Certified IT assignments for "_$$GET1^DIQ(200,ENDA_",",.01)_"." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH",80,0)
 S %ZIS="Q" D ^%ZIS I POP K POP Q
"RTN","ENTIRRH",81,0)
 I $D(IO("Q")) S ZTRTN="IN2^ENTIRRH",ZTDESC="IT Equipment Hand Receipt Print",ZTSAVE("ENDA")="" D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q") Q
"RTN","ENTIRRH",82,0)
 G IN2
"RTN","ENTIRRH",83,0)
USER ;User entry point for printing signed hand receipts
"RTN","ENTIRRH",84,0)
 I '$D(^ENG(6916.3,"AOA",DUZ)) W !,"You have no active IT assignments." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH",85,0)
 N ENDA S ENDA=DUZ
"RTN","ENTIRRH",86,0)
 I '$$SIGNED(ENDA) W !,"You do not have any active, Signed/Certified IT assignments." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH",87,0)
 S %ZIS="Q" D ^%ZIS I POP K POP Q
"RTN","ENTIRRH",88,0)
 I $D(IO("Q")) S ZTRTN="IN2^ENTIRRH",ZTDESC="IT Equipment Hand Receipt Print",ZTSAVE("ENDA")="" D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q") Q
"RTN","ENTIRRH",89,0)
 G IN2
"RTN","ENTIRRH",90,0)
IN2 ;
"RTN","ENTIRRH",91,0)
 N DIR,DIRUT,DIROUT,DTOUT,DUOUT,ENVR,ENPRT S ENPRT="SIGNED"
"RTN","ENTIRRH",92,0)
 S ENVR=0 F  S ENVR=$O(^ENG(6916.2,ENVR)) Q:+ENVR'=ENVR  D PRT Q:$D(DIRUT)
"RTN","ENTIRRH",93,0)
 G EX2
"RTN","ENTIRRH",94,0)
PRT U IO
"RTN","ENTIRRH",95,0)
 N END,ENDAC,ENERR,ENI,ENLNCNT,ENMFGN,ENMODEL,ENNOW,ENEQPT,ENPG,ENRDA,ENX,ENNBR,ENSERNBR,ENSIG,ENSIGNDT,ENNAME,ENSTN,ENVAL,X,Y S ENPG=0,ENEQPT=1
"RTN","ENTIRRH",96,0)
 S ENNAME=$$GET1^DIQ(200,ENDA_",",.01),ENNOW=$$FMTE^XLFDT($$NOW^XLFDT(),"2M")
"RTN","ENTIRRH",97,0)
 S ENSTN=+$O(^DIC(6910,0)),ENSTN=$$GET1^DIQ(6910,ENSTN_",",1)
"RTN","ENTIRRH",98,0)
 K ^TMP($J,"ENITRRH"),ENERR
"RTN","ENTIRRH",99,0)
 D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AOA","I $P(^(0),U,6)=ENVR,"";SIGNED;CERTIFIED;""[("";""_$$GET1^DIQ(6916.3,Y_"","",20)_"";"")","","^TMP($J,""ENITRRH"")","ENERR")
"RTN","ENTIRRH",100,0)
 I $P($G(^TMP($J,"ENITRRH","DILIST",0)),U)'>0 K ^TMP($J,"ENITRRH") Q 
"RTN","ENTIRRH",101,0)
 D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH",102,0)
 I '$$CMP^XUSESIG1($P($G(^ENG(6916.2,ENVR,0)),U,3),$NAME(^ENG(6916.2,ENVR,1))) W !!!,"Hand receipt v",$P($G(^ENG(6916.2,ENVR,0)),U)," text is corrupted.",!?5," - Please contact EPS AEMS/MERS support"  Q
"RTN","ENTIRRH",103,0)
 S ENI=0
"RTN","ENTIRRH",104,0)
 F  S ENI=$O(^TMP($J,"ENITRRH","DILIST",ENI)) Q:+ENI'=ENI  D  Q:$D(DIRUT)
"RTN","ENTIRRH",105,0)
 . N END,ENERR,ENERR1,ENERR2,ENERR3,ENERR4,X1,X2
"RTN","ENTIRRH",106,0)
 . S ENX=$G(^TMP($J,"ENITRRH","DILIST",ENI,0))
"RTN","ENTIRRH",107,0)
 . S ENDAC=$P(ENX,U,2)_"," D GETS^DIQ(6914,ENDAC,"3;4;5","E","END","ENERR")
"RTN","ENTIRRH",108,0)
 . S ENNBR=$P(ENX,U,2),ENMFGN=$G(END(6914,ENDAC,3,"E")),ENMODEL=$G(END(6914,ENDAC,4,"E")),ENSERNBR=$G(END(6914,ENDAC,5,"E"))
"RTN","ENTIRRH",109,0)
 . I IOSL-1'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH",110,0)
 . W !,ENNBR,?11,$E(ENMFGN,1,20),?35,ENMODEL,?65,ENSERNBR S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",111,0)
 . S ENRDA=$P(ENX,U) K ENERR,ENSIG,ENSIGNDT
"RTN","ENTIRRH",112,0)
 . S X=$G(^ENG(6916.3,ENRDA,1))
"RTN","ENTIRRH",113,0)
 . I X'="" D
"RTN","ENTIRRH",114,0)
 . . S X1=ENRDA,X2=1 D DE^XUSHSHP S ENSIG=$P(X,U),ENSIGNDT=$$FMTE^XLFDT($P(X,U,4))
"RTN","ENTIRRH",115,0)
 . . S:$P(X,U,8)'=$P($G(^ENG(6916.2,ENVR,0)),U,3) ENERR1=1
"RTN","ENTIRRH",116,0)
 . . S:$P(X,U,5)'=$P(ENX,U,2) ENERR2=1
"RTN","ENTIRRH",117,0)
 . . S:$P(X,U,6)'=$P($G(^ENG(6916.3,ENRDA,0)),U,2) ENERR3=1
"RTN","ENTIRRH",118,0)
 . . S:$P(X,U,4)'=$P($G(^ENG(6916.3,ENRDA,0)),U,5) ENERR4=1
"RTN","ENTIRRH",119,0)
 . I $D(ENSIGNDT) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?4,"Signed: ",ENSIGNDT,?35,"Signature: /ES/",$G(ENSIG) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",120,0)
 . I '$D(ENSIGNDT) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !,?4,"Signed: "_$$GET1^DIQ(6916.3,ENRDA_",",4),?35,"Certified by: ",$$GET1^DIQ(6916.3,ENRDA_",",6)  S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",121,0)
 . S ENVAL=$$LOAN($P(ENDAC,","))
"RTN","ENTIRRH",122,0)
 . W !,?2,"Issued By: ",$$ISSUEDBY(ENRDA),?49,"Contact #: ",$P(ENVAL,U,2) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",123,0)
 . W !,?2,"Equipment Return Date: ",$$DATEDUE($P(ENDAC,","),$P(ENVAL,U)) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",124,0)
 . I $G(ENERR1) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Hand Receipt Text Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",125,0)
 . I $G(ENERR2) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Assigned Equipment Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",126,0)
 . I $G(ENERR3) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Assigned Person Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",127,0)
 . I $G(ENERR4) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Date Signed Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",128,0)
 Q:$D(DIRUT)  S ENEQPT=0
"RTN","ENTIRRH",129,0)
 I IOSL-3'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH",130,0)
 I ENLNCNT>3 W !! S ENLNCNT=ENLNCNT+2
"RTN","ENTIRRH",131,0)
 S ENI=0 F  S ENI=$O(^ENG(6916.2,ENVR,1,ENI)) Q:+ENI'=ENI  D  Q:$D(DIRUT)
"RTN","ENTIRRH",132,0)
 . I IOSL-1'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH",133,0)
 . W !,$G(^ENG(6916.2,ENVR,1,ENI,0)) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH",134,0)
 Q:$D(DIRUT)
"RTN","ENTIRRH",135,0)
 I $E(IOST,1,2)="C-" K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRH",136,0)
 Q
"RTN","ENTIRRH",137,0)
EX2 S:$D(ZTQUEUED) ZTREQ="@" D ^%ZISC
"RTN","ENTIRRH",138,0)
 K ^TMP($J,"ENITRRH"),ENDA
"RTN","ENTIRRH",139,0)
 Q
"RTN","ENTIRRH",140,0)
SIGNED(ENDA) ;Returns how many signed/certified, active assignments exist for this person
"RTN","ENTIRRH",141,0)
 N ENERR,ENCNT
"RTN","ENTIRRH",142,0)
 K ^TMP($J,"ENITRRH")
"RTN","ENTIRRH",143,0)
 D FIND^DIC(6916.3,"","@","PQ",ENDA,"","AOA","I "";SIGNED;CERTIFIED;""[("";""_$$GET1^DIQ(6916.3,Y_"","",20)_"";"")","","^TMP($J,""ENITRRH"")","ENERR")
"RTN","ENTIRRH",144,0)
 S ENCNT=+$P($G(^TMP($J,"ENITRRH","DILIST",0)),U)
"RTN","ENTIRRH",145,0)
 K ^TMP($J,"ENITRRH")
"RTN","ENTIRRH",146,0)
 Q ENCNT
"RTN","ENTIRRH",147,0)
 ;
"RTN","ENTIRRH",148,0)
ISSUEDBY(ENRDA) ;Name of person assigning responsibility
"RTN","ENTIRRH",149,0)
 N ENARR,ENDA,ENNAME S ENDA=$$GET1^DIQ(6916.3,ENRDA_",",3,"I")
"RTN","ENTIRRH",150,0)
 S ENARR("FILE")=200,ENARR("IENS")=ENDA_",",ENARR("FIELD")=".01"
"RTN","ENTIRRH",151,0)
 S ENNAME=$$NAMEFMT^XLFNAME(.ENARR,"G","L35")
"RTN","ENTIRRH",152,0)
 Q ENNAME
"RTN","ENTIRRH",153,0)
 ;
"RTN","ENTIRRH",154,0)
DATEDUE(ENDA,ENADD) ;Returns Date Due for Return
"RTN","ENTIRRH",155,0)
 N ENINVDT,ENDT
"RTN","ENTIRRH",156,0)
 S ENINVDT=$$GET1^DIQ(6914,ENDA_",",23,"I") S:$G(ENADD)'>0 ENADD=90
"RTN","ENTIRRH",157,0)
 S ENDT=$S(ENINVDT="":DT,1:$$FMADD^XLFDT(ENINVDT,ENADD)),ENDT=$$FMTE^XLFDT(ENDT,"2M")
"RTN","ENTIRRH",158,0)
 Q ENDT
"RTN","ENTIRRH",159,0)
 ;
"RTN","ENTIRRH",160,0)
LOAN(ENEQ) ;Loan Data for Equipment
"RTN","ENTIRRH",161,0)
 ;input ENDA (equipment ien file 6914)
"RTN","ENTIRRH",162,0)
 ;return value = number of days^loan form phone
"RTN","ENTIRRH",163,0)
 N ENCMR,ENRET,ENY1
"RTN","ENTIRRH",164,0)
 S ENRET="90^" ;default number of days is 90
"RTN","ENTIRRH",165,0)
 S ENCMR=$P($G(^ENG(6914,ENEQ,2)),U,9)
"RTN","ENTIRRH",166,0)
 S ENY1=$S(ENCMR:$G(^ENG(6914.1,ENCMR,1)),1:"")
"RTN","ENTIRRH",167,0)
 I $P(ENY1,U) S $P(ENRET,U)=$P(ENY1,U) ;days for CMR (if specified)
"RTN","ENTIRRH",168,0)
 I $P(ENY1,U,2)]"" S $P(ENRET,U,2)=$P(ENY1,U,2) ;loan form phone for CMR
"RTN","ENTIRRH",169,0)
 Q ENRET
"RTN","ENTIRRH",170,0)
 ;
"RTN","ENTIRRH",171,0)
 ;ENTIRRH
"RTN","ENTIRRH1")
0^22^B38241223^n/a
"RTN","ENTIRRH1",1,0)
ENTIRRH1 ;WOIFO/LKG - Print hand receipt (Continued) ;3/4/08  15:02
"RTN","ENTIRRH1",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRH1",3,0)
HDR1 ;Logic to print report heading
"RTN","ENTIRRH1",4,0)
 G HDR1^ENTIRRH
"RTN","ENTIRRH1",5,0)
 Q
"RTN","ENTIRRH1",6,0)
 ;
"RTN","ENTIRRH1",7,0)
ITST2 ;IT personnel entry point for printing signed hand receipts
"RTN","ENTIRRH1",8,0)
 N ENDA,ENDATE
"RTN","ENTIRRH1",9,0)
 N DIC,DTOUT,DUOUT S DIC=200,DIC(0)="AEMQ",DIC("S")="I $D(^ENG(6916.3,""C"",Y))"
"RTN","ENTIRRH1",10,0)
 D ^DIC I Y<1!$D(DTOUT)!$D(DUOUT) Q
"RTN","ENTIRRH1",11,0)
 S ENDA=+Y
"RTN","ENTIRRH1",12,0)
 S ENDATE=$$DATES() I ENDATE="" Q
"RTN","ENTIRRH1",13,0)
 S %ZIS="Q" D ^%ZIS I POP K POP Q
"RTN","ENTIRRH1",14,0)
 I $D(IO("Q")) S ZTRTN="IN2^ENTIRRH1",ZTDESC="IT Equipment Hand Receipt Print",ZTSAVE("ENDA")="",ZTSAVE("ENDATE")="" D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q") Q
"RTN","ENTIRRH1",15,0)
 G IN2
"RTN","ENTIRRH1",16,0)
USER ;User entry point for printing signed hand receipts
"RTN","ENTIRRH1",17,0)
 I '$D(^ENG(6916.3,"C",DUZ)) W !,"You have no IT assignments, either active or ended." K DIR S DIR(0)="E" D ^DIR K DIR Q
"RTN","ENTIRRH1",18,0)
 N ENDA,ENDATE S ENDA=DUZ
"RTN","ENTIRRH1",19,0)
 S ENDATE=$$DATES() I ENDATE="" Q
"RTN","ENTIRRH1",20,0)
 S %ZIS="Q" D ^%ZIS I POP K POP Q
"RTN","ENTIRRH1",21,0)
 I $D(IO("Q")) S ZTRTN="IN2^ENTIRRH1",ZTDESC="IT Equipment Hand Receipt Print",ZTSAVE("ENDA")="",ZTSAVE("ENDATE")="" D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q") Q
"RTN","ENTIRRH1",22,0)
 G IN2
"RTN","ENTIRRH1",23,0)
IN2 ;
"RTN","ENTIRRH1",24,0)
 N DIR,DIRUT,DIROUT,DTOUT,DUOUT,ENI,ENJ,ENL,ENNBR,ENV,ENVR,ENX
"RTN","ENTIRRH1",25,0)
 S ENI=0
"RTN","ENTIRRH1",26,0)
 F  S ENI=$O(^ENG(6916.3,"C",ENDA,ENI)) Q:+ENI'=ENI  D
"RTN","ENTIRRH1",27,0)
 . S ENX=$G(^ENG(6916.3,ENI,0)) Q:ENX=""
"RTN","ENTIRRH1",28,0)
 . S:$P($P(ENX,U,5),".")=ENDATE ENNBR=$P(ENX,U),ENV=$P(ENX,U,6),ENL(ENV)=$G(ENL(ENV))+1,^TMP($J,"ENITRRH","LIST","V"_ENV,ENNBR,ENI)=""
"RTN","ENTIRRH1",29,0)
 . S ENJ=0
"RTN","ENTIRRH1",30,0)
 . F  S ENJ=$O(^ENG(6916.3,ENI,3,ENJ)) Q:+ENJ'>0  D
"RTN","ENTIRRH1",31,0)
 . . S ENX=$G(^ENG(6916.3,ENI,3,ENJ,0)) Q:ENX=""
"RTN","ENTIRRH1",32,0)
 . . I $P($P(ENX,U),".")=ENDATE D
"RTN","ENTIRRH1",33,0)
 . . . S ENNBR=$P(^ENG(6916.3,ENI,0),U),ENV=$P(ENX,U,2)
"RTN","ENTIRRH1",34,0)
 . . . S:'$D(^TMP($J,"ENITRRH","LIST","V"_ENV,ENNBR,ENI)) ENL(ENV)=$G(ENL(ENV))+1,^TMP($J,"ENITRRH","LIST","V"_ENV,ENNBR,ENI)=ENJ
"RTN","ENTIRRH1",35,0)
 S ENI=""
"RTN","ENTIRRH1",36,0)
 F  S ENI=$O(^TMP($J,"ENITRRH","LIST",ENI)) Q:ENI=""  S ENVR=$P(ENI,"V",2) D PRT
"RTN","ENTIRRH1",37,0)
 G EX2
"RTN","ENTIRRH1",38,0)
PRT U IO
"RTN","ENTIRRH1",39,0)
 N END,ENDAC,ENERR,ENI,ENLNCNT,ENMFGN,ENMODEL,ENNOW,ENEQPT,ENPG,ENRDA,ENRDA1,ENX,ENNBR,ENSERNBR,ENSIG,ENSIGNDT,ENNAME,ENV,ENSTN,X,Y S ENPG=0,ENEQPT=1
"RTN","ENTIRRH1",40,0)
 S ENNAME=$$GET1^DIQ(200,ENDA_",",.01),ENNOW=$$FMTE^XLFDT($$NOW^XLFDT(),"2M")
"RTN","ENTIRRH1",41,0)
 S ENSTN=+$O(^DIC(6910,0)),ENSTN=$$GET1^DIQ(6910,ENSTN_",",1)
"RTN","ENTIRRH1",42,0)
 D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH1",43,0)
 I '$$CMP^XUSESIG1($P($G(^ENG(6916.2,ENVR,0)),U,3),$NAME(^ENG(6916.2,ENVR,1))) W !!!,"Hand receipt v",$P($G(^ENG(6916.2,ENVR,0)),U)," text is corrupted.",!?5," - Please contact EPS AEMS/MERS support"  Q
"RTN","ENTIRRH1",44,0)
 S ENNBR=0,ENV="V"_ENVR
"RTN","ENTIRRH1",45,0)
 F  S ENNBR=$O(^TMP($J,"ENITRRH","LIST",ENV,ENNBR)) Q:ENNBR=""  D  Q:$D(DIRUT)
"RTN","ENTIRRH1",46,0)
 . S ENI=0
"RTN","ENTIRRH1",47,0)
 . F  S ENI=$O(^TMP($J,"ENITRRH","LIST",ENV,ENNBR,ENI)) Q:ENI=""  D  Q:$D(DIRUT)
"RTN","ENTIRRH1",48,0)
 . . N END,ENERR,ENERR1,ENERR2,ENERR3,ENERR4,X1,X2
"RTN","ENTIRRH1",49,0)
 . . S ENDAC=ENNBR_"," D GETS^DIQ(6914,ENDAC,"3;4;5","E","END","ENERR")
"RTN","ENTIRRH1",50,0)
 . . S ENMFGN=$G(END(6914,ENDAC,3,"E")),ENMODEL=$G(END(6914,ENDAC,4,"E")),ENSERNBR=$G(END(6914,ENDAC,5,"E"))
"RTN","ENTIRRH1",51,0)
 . . I IOSL-1'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH1",52,0)
 . . W !,ENNBR,?11,$E(ENMFGN,1,20),?35,ENMODEL,?65,ENSERNBR S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",53,0)
 . . S ENRDA=ENI,ENRDA1=$P(^TMP($J,"ENITRRH","LIST",ENV,ENNBR,ENI),U)
"RTN","ENTIRRH1",54,0)
 . . K ENERR,ENSIG,ENSIGNDT
"RTN","ENTIRRH1",55,0)
 . . S X=$S(ENRDA1>0:$G(^ENG(6916.3,ENRDA,3,ENRDA1,1)),1:$G(^ENG(6916.3,ENRDA,1)))
"RTN","ENTIRRH1",56,0)
 . . I X'="" D
"RTN","ENTIRRH1",57,0)
 . . . S X1=ENRDA,X2=1 D DE^XUSHSHP S ENSIG=$P(X,U),ENSIGNDT=$$FMTE^XLFDT($P(X,U,4))
"RTN","ENTIRRH1",58,0)
 . . . S:$P(X,U,8)'=$P($G(^ENG(6916.2,ENVR,0)),U,3) ENERR1=1
"RTN","ENTIRRH1",59,0)
 . . . S:$P(X,U,5)'=ENNBR ENERR2=1
"RTN","ENTIRRH1",60,0)
 . . . S:$P(X,U,6)'=$P($G(^ENG(6916.3,ENRDA,0)),U,2) ENERR3=1
"RTN","ENTIRRH1",61,0)
 . . . S:$P(X,U,4)'=$S(ENRDA1>0:$P($G(^ENG(6916.3,ENRDA,3,ENRDA1,0)),U),1:$P($G(^ENG(6916.3,ENRDA,0)),U,5)) ENERR4=1
"RTN","ENTIRRH1",62,0)
 . . I $D(ENSIGNDT) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?4,"Signed: ",ENSIGNDT,?35,"Signature: /ES/",$G(ENSIG) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",63,0)
 . . I '$D(ENSIGNDT) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  D
"RTN","ENTIRRH1",64,0)
 . . . W !,?4,"Signed: "_$S(ENRDA1>0:$$GET1^DIQ(6916.31,ENRDA1_","_ENRDA_",",.01),1:$$GET1^DIQ(6916.3,ENRDA_",",4))
"RTN","ENTIRRH1",65,0)
 . . . W ?35,"Certified by: "_$S(ENRDA1>0:$$GET1^DIQ(6916.31,ENRDA1_","_ENRDA_",",3),1:$$GET1^DIQ(6916.3,ENRDA_",",6))
"RTN","ENTIRRH1",66,0)
  . . . S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",67,0)
 . . I $G(ENERR1) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Hand Receipt Text Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",68,0)
 . . I $G(ENERR2) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Assigned Equipment Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",69,0)
 . . I $G(ENERR3) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Assigned Person Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",70,0)
 . . I $G(ENERR4) D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?19,"** Date Signed Altered **" S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",71,0)
 . . D:IOSL-1'>ENLNCNT HDR1 Q:$D(DIRUT)  W !?4,"Current Status: ",$$GET1^DIQ(6916.3,ENI_",",20),?35,"Date: ",$$GET1^DIQ(6916.3,ENI_",",21) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",72,0)
 Q:$D(DIRUT)  S ENEQPT=0
"RTN","ENTIRRH1",73,0)
 I IOSL-3'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH1",74,0)
 I ENLNCNT>3 W !! S ENLNCNT=ENLNCNT+2
"RTN","ENTIRRH1",75,0)
 S ENI=0 F  S ENI=$O(^ENG(6916.2,ENVR,1,ENI)) Q:+ENI'=ENI  D  Q:$D(DIRUT)
"RTN","ENTIRRH1",76,0)
 . I IOSL-1'>ENLNCNT D HDR1 Q:$D(DIRUT)
"RTN","ENTIRRH1",77,0)
 . W !,$G(^ENG(6916.2,ENVR,1,ENI,0)) S ENLNCNT=ENLNCNT+1
"RTN","ENTIRRH1",78,0)
 Q:$D(DIRUT)
"RTN","ENTIRRH1",79,0)
 I $E(IOST,1,2)="C-" K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRH1",80,0)
 Q
"RTN","ENTIRRH1",81,0)
EX2 S:$D(ZTQUEUED) ZTREQ="@" D ^%ZISC
"RTN","ENTIRRH1",82,0)
 K ^TMP($J,"ENITRRH"),ENDA,ENDATE
"RTN","ENTIRRH1",83,0)
 Q
"RTN","ENTIRRH1",84,0)
DATES() ;Signature Dates for User
"RTN","ENTIRRH1",85,0)
 K ^TMP($J,"ENITRRH","DATES") N ENCNT,ENDATE,ENI,ENJ,ENL,ENX,DIRUT,DIROUT,DTOUT,DUOUT,X,Y S ENDATE="" S:'$G(DT) DT=$$DT^XLFDT()
"RTN","ENTIRRH1",86,0)
 S ENI=0
"RTN","ENTIRRH1",87,0)
 F  S ENI=$O(^ENG(6916.3,"C",ENDA,ENI)) Q:+ENI'=ENI  D
"RTN","ENTIRRH1",88,0)
 . S ENX=$P($P($G(^ENG(6916.3,ENI,0)),U,5),".") Q:ENX=""
"RTN","ENTIRRH1",89,0)
 . S:'$D(^TMP($J,"ENITRRH","DATES",ENX)) ^TMP($J,"ENITRRH","DATES",ENX)=$$FMTE^XLFDT(ENX)
"RTN","ENTIRRH1",90,0)
 . S ENJ=0
"RTN","ENTIRRH1",91,0)
 . F  S ENJ=$O(^ENG(6916.3,ENI,3,ENJ)) Q:+ENJ'=ENJ  D
"RTN","ENTIRRH1",92,0)
 . . S ENX=$P($P($G(^ENG(6916.3,ENI,3,ENJ,0)),U),".") Q:ENX=""
"RTN","ENTIRRH1",93,0)
 . . S:'$D(^TMP($J,"ENITRRH","DATES",ENX)) ^TMP($J,"ENITRRH","DATES",ENX)=$$FMTE^XLFDT(ENX)
"RTN","ENTIRRH1",94,0)
 W @IOF,?5,"Signature Dates" S ENL=1
"RTN","ENTIRRH1",95,0)
 S ENI="",ENCNT=0
"RTN","ENTIRRH1",96,0)
 F  S ENI=$O(^TMP($J,"ENITRRH","DATES",ENI),-1) Q:ENI=""  D  Q:$D(DIRUT)
"RTN","ENTIRRH1",97,0)
 . I IOSL-2'>ENL K DIR S DIR(0)="E" D ^DIR K DIR S ENL=0 Q:$D(DIRUT)
"RTN","ENTIRRH1",98,0)
 . W !?5,$P(^TMP($J,"ENITRRH","DATES",ENI),U) S ENL=ENL+1,ENCNT=ENCNT+1
"RTN","ENTIRRH1",99,0)
 I 'ENCNT W !?3,"* No Signed Assignments *" K DIR S DIR(0)="E" D ^DIR K DIR Q ""
"RTN","ENTIRRH1",100,0)
 K DIRUT,DIROUT,DTOUT,DUOUT W !
"RTN","ENTIRRH1",101,0)
 K DIR S DIR(0)="DA^3061001:"_DT_"^I '$D(^TMP($J,""ENITRRH"",""DATES"",Y)) K X",DIR("A")="Date of Hand Receipt Signature: ",DIR("?")="Enter date from list."
"RTN","ENTIRRH1",102,0)
 S:ENCNT=1 DIR("B")=$$FMTE^XLFDT($O(^TMP($J,"ENITRRH","DATES","")))
"RTN","ENTIRRH1",103,0)
 D ^DIR K DIR I $D(DIRUT)!$D(DIROUT)!(Y'?7N) S Y=""
"RTN","ENTIRRH1",104,0)
 S ENDATE=Y K ^TMP($J,"ENITRRH","DATES")
"RTN","ENTIRRH1",105,0)
 Q ENDATE
"RTN","ENTIRRH1",106,0)
 ;
"RTN","ENTIRRH1",107,0)
 ;ENTIRRH1
"RTN","ENTIRRI")
0^14^B13521614^n/a
"RTN","ENTIRRI",1,0)
ENTIRRI ;WOIFO/SAB - Individual Responsibility Report ;2/4/2008
"RTN","ENTIRRI",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRI",3,0)
 ;
"RTN","ENTIRRI",4,0)
 ; if routine is called from the IT menu, variable ENITMENU is defined
"RTN","ENTIRRI",5,0)
 ;
"RTN","ENTIRRI",6,0)
 N ENOWN
"RTN","ENTIRRI",7,0)
 ;
"RTN","ENTIRRI",8,0)
 ; determine IT owner to report
"RTN","ENTIRRI",9,0)
 S ENOWN=""
"RTN","ENTIRRI",10,0)
 I $D(ENITMENU) D  Q:ENOWN=""
"RTN","ENTIRRI",11,0)
 . ; ask person
"RTN","ENTIRRI",12,0)
 . S DIC="^VA(200,"
"RTN","ENTIRRI",13,0)
 . S DIC(0)="AQEM"
"RTN","ENTIRRI",14,0)
 . S DIC("S")="I $D(^ENG(6916.3,""C"",Y))" ; screen on assignment owner
"RTN","ENTIRRI",15,0)
 . D ^DIC K DIC
"RTN","ENTIRRI",16,0)
 . I Y>0 S ENOWN=+Y
"RTN","ENTIRRI",17,0)
 E  S ENOWN=DUZ
"RTN","ENTIRRI",18,0)
 ;
"RTN","ENTIRRI",19,0)
 ; ask about ended assignments
"RTN","ENTIRRI",20,0)
 S DIR(0)="Y"
"RTN","ENTIRRI",21,0)
 S DIR("A")="Include ended assignments"
"RTN","ENTIRRI",22,0)
 S DIR("B")="NO"
"RTN","ENTIRRI",23,0)
 S DIR("?",1)="The report shows information on all active assignments"
"RTN","ENTIRRI",24,0)
 S DIR("?",2)="of responsibility for the individual."
"RTN","ENTIRRI",25,0)
 S DIR("?",3)="Enter YES at this prompt to also include information"
"RTN","ENTIRRI",26,0)
 S DIR("?",4)="on assignments that have ended."
"RTN","ENTIRRI",27,0)
 S DIR("?",5)=" "
"RTN","ENTIRRI",28,0)
 S DIR("?")="Enter either 'Y' or 'N'."
"RTN","ENTIRRI",29,0)
 D ^DIR K DIR G:$D(DIRUT) EXIT
"RTN","ENTIRRI",30,0)
 S ENIEA=Y
"RTN","ENTIRRI",31,0)
 ;
"RTN","ENTIRRI",32,0)
 ; ask device
"RTN","ENTIRRI",33,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","ENTIRRI",34,0)
 I $D(IO("Q")) D  G EXIT
"RTN","ENTIRRI",35,0)
 . S ZTRTN="QEN^ENTIRRI",ZTDESC="Individual Responsibility Report"
"RTN","ENTIRRI",36,0)
 . S ZTSAVE("ENOWN")="",ZTSAVE("ENIEA")=""
"RTN","ENTIRRI",37,0)
 . D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q")
"RTN","ENTIRRI",38,0)
 ;
"RTN","ENTIRRI",39,0)
QEN ; queued entry
"RTN","ENTIRRI",40,0)
 U IO
"RTN","ENTIRRI",41,0)
 ;
"RTN","ENTIRRI",42,0)
 ; generate output
"RTN","ENTIRRI",43,0)
 K ENT S ENT=0
"RTN","ENTIRRI",44,0)
 S (END,ENPG)=0 D NOW^%DTC S Y=% D DD^%DT S ENDT=Y
"RTN","ENTIRRI",45,0)
 S ENOWNE=$$GET1^DIQ(200,ENOWN,.01)
"RTN","ENTIRRI",46,0)
 D HD
"RTN","ENTIRRI",47,0)
 ;
"RTN","ENTIRRI",48,0)
 ; gather and sort data
"RTN","ENTIRRI",49,0)
 ; loop thru assignments for owner
"RTN","ENTIRRI",50,0)
 S ENDA=0 F  S ENDA=$O(^ENG(6916.3,"C",ENOWN,ENDA)) Q:'ENDA  D
"RTN","ENTIRRI",51,0)
 . S ENY=$G(^ENG(6916.3,ENDA,0))
"RTN","ENTIRRI",52,0)
 . I 'ENIEA,$P(ENY,U,8)]"" Q  ; didn't chose to include ended assignment
"RTN","ENTIRRI",53,0)
 . S ENEQ=$P(ENY,U) ; equipment ien
"RTN","ENTIRRI",54,0)
 . S ENLOC=$$GET1^DIQ(6914,ENEQ,24) ; equipment location
"RTN","ENTIRRI",55,0)
 . I ENLOC="" S ENLOC=" "
"RTN","ENTIRRI",56,0)
 . S ^TMP($J,"ENIT",ENLOC,ENEQ,ENDA)=""
"RTN","ENTIRRI",57,0)
 ;
"RTN","ENTIRRI",58,0)
 ; print data
"RTN","ENTIRRI",59,0)
 ; loop thru locations
"RTN","ENTIRRI",60,0)
 S ENLOC="" F  S ENLOC=$O(^TMP($J,"ENIT",ENLOC)) Q:ENLOC=""  D  Q:END
"RTN","ENTIRRI",61,0)
 . ; loop thru equipment
"RTN","ENTIRRI",62,0)
 . S ENEQ=0
"RTN","ENTIRRI",63,0)
 . F  S ENEQ=$O(^TMP($J,"ENIT",ENLOC,ENEQ)) Q:'ENEQ  D  Q:END
"RTN","ENTIRRI",64,0)
 . . ; display equipment data
"RTN","ENTIRRI",65,0)
 . . I $Y+7>IOSL D HD Q:END
"RTN","ENTIRRI",66,0)
 . . D CAPEQ^ENTIUTL(ENEQ,"HD^ENTIRRI",1,.END) Q:END
"RTN","ENTIRRI",67,0)
 . . S ENT=ENT+1
"RTN","ENTIRRI",68,0)
 . . ; loop thru assignments
"RTN","ENTIRRI",69,0)
 . . S ENDA=0
"RTN","ENTIRRI",70,0)
 . . F  S ENDA=$O(^TMP($J,"ENIT",ENLOC,ENEQ,ENDA)) Q:'ENDA  D  Q:END
"RTN","ENTIRRI",71,0)
 . . . ; display assignment data
"RTN","ENTIRRI",72,0)
 . . . I $Y+3>IOSL D HD Q:END  W !,"Entry #: ",ENEQ," (continued)"
"RTN","ENTIRRI",73,0)
 . . . W !,?2,"Assign Date: ",$P($$GET1^DIQ(6916.3,ENDA,2),"@")
"RTN","ENTIRRI",74,0)
 . . . W ?29,"Status: ",$$GET1^DIQ(6916.3,ENDA,20)
"RTN","ENTIRRI",75,0)
 . . . W ?47,"Status Date: ",$$GET1^DIQ(6916.3,ENDA,21)
"RTN","ENTIRRI",76,0)
 ;
"RTN","ENTIRRI",77,0)
 I 'END D
"RTN","ENTIRRI",78,0)
 . ; report footer
"RTN","ENTIRRI",79,0)
 . I $Y+4>IOSL D HD Q:END
"RTN","ENTIRRI",80,0)
 . W !!,"Count of IT equipment items on report = ",ENT
"RTN","ENTIRRI",81,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRI",82,0)
 ;
"RTN","ENTIRRI",83,0)
 D ^%ZISC
"RTN","ENTIRRI",84,0)
 ;
"RTN","ENTIRRI",85,0)
EXIT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENTIRRI",86,0)
 K ^TMP($J,"ENIT")
"RTN","ENTIRRI",87,0)
 K DIR,DIROUT,DIRUT,DTOUT,DUOUT,POP,X,Y
"RTN","ENTIRRI",88,0)
 K ENDA,ENEQ,ENIEA,ENLOC,ENOWN,ENOWNE,ENT,ENY
"RTN","ENTIRRI",89,0)
 K END,ENDT,ENPG
"RTN","ENTIRRI",90,0)
 Q
"RTN","ENTIRRI",91,0)
 ;
"RTN","ENTIRRI",92,0)
HD ; header
"RTN","ENTIRRI",93,0)
 I $E(IOST,1,2)="C-",ENPG S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIRRI",94,0)
 I $E(IOST,1,2)="C-"!ENPG W @IOF
"RTN","ENTIRRI",95,0)
 S ENPG=ENPG+1
"RTN","ENTIRRI",96,0)
 W "INDIVIDUAL RESPONSIBILITY REPORT",?48,ENDT,?72,"page ",ENPG,!
"RTN","ENTIRRI",97,0)
 W "  for ",ENOWNE," sorted by location"
"RTN","ENTIRRI",98,0)
 I ENIEA W " (including ended assignments)"
"RTN","ENTIRRI",99,0)
 W !
"RTN","ENTIRRI",100,0)
 Q
"RTN","ENTIRRI",101,0)
 ;
"RTN","ENTIRRI",102,0)
 ;ENTIRRI
"RTN","ENTIRRNA")
0^15^B9368958^n/a
"RTN","ENTIRRNA",1,0)
ENTIRRNA ;WOIFO/SAB - IT Equipment Not Assigned Report ;2/4/2008
"RTN","ENTIRRNA",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRNA",3,0)
 ;
"RTN","ENTIRRNA",4,0)
 N ENBFMT,ENSM,ENSMV,ENSRT,ENX,ENY
"RTN","ENTIRRNA",5,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ENTIRRNA",6,0)
 ;
"RTN","ENTIRRNA",7,0)
 ; ask equipment selection method
"RTN","ENTIRRNA",8,0)
 S ENX=$$ASKEQSM^ENTIUTL2("ACULS")
"RTN","ENTIRRNA",9,0)
 S ENSM=$P(ENX,U),ENSMV=$P(ENX,U,2)
"RTN","ENTIRRNA",10,0)
 Q:"^A^C^U^L^S^"'[(U_ENSM_U)
"RTN","ENTIRRNA",11,0)
 ;
"RTN","ENTIRRNA",12,0)
 ; ask sort
"RTN","ENTIRRNA",13,0)
 S ENSRT=$$ASKEQSRT^ENTIUTL2(ENSM)
"RTN","ENTIRRNA",14,0)
 Q:ENSRT=""  ; user time-out or '^'
"RTN","ENTIRRNA",15,0)
 ;
"RTN","ENTIRRNA",16,0)
 ; ask format
"RTN","ENTIRRNA",17,0)
 S DIR(0)="Y"
"RTN","ENTIRRNA",18,0)
 S DIR("A")="Do you want the brief display format"
"RTN","ENTIRRNA",19,0)
 S DIR("B")="YES"
"RTN","ENTIRRNA",20,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENTIRRNA",21,0)
 S ENBFMT=Y
"RTN","ENTIRRNA",22,0)
 ;
"RTN","ENTIRRNA",23,0)
 ; ask device
"RTN","ENTIRRNA",24,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","ENTIRRNA",25,0)
 I $D(IO("Q")) D  G EXIT
"RTN","ENTIRRNA",26,0)
 . S ZTRTN="QEN^ENTIRRNA",ZTDESC="IT Equipment Not Assigned Report"
"RTN","ENTIRRNA",27,0)
 . F ENY="ENSM","ENSMV","ENSRT","ENBFMT" S ZTSAVE(ENY)=""
"RTN","ENTIRRNA",28,0)
 . D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q")
"RTN","ENTIRRNA",29,0)
 ;
"RTN","ENTIRRNA",30,0)
QEN ; queued entry
"RTN","ENTIRRNA",31,0)
 U IO
"RTN","ENTIRRNA",32,0)
 ;
"RTN","ENTIRRNA",33,0)
 ; generate output
"RTN","ENTIRRNA",34,0)
 K ENT S ENT=0
"RTN","ENTIRRNA",35,0)
 S (END,ENPG)=0 D NOW^%DTC S Y=% D DD^%DT S ENDT=Y
"RTN","ENTIRRNA",36,0)
 ;
"RTN","ENTIRRNA",37,0)
 ; build header line 2 string
"RTN","ENTIRRNA",38,0)
 S ENHL2=$$BLDHL2^ENTIUTL(ENSM,ENSMV,ENSRT)
"RTN","ENTIRRNA",39,0)
 ;
"RTN","ENTIRRNA",40,0)
 D HD
"RTN","ENTIRRNA",41,0)
 ;
"RTN","ENTIRRNA",42,0)
 ; build sorted list of equipment
"RTN","ENTIRRNA",43,0)
 D GETEQ^ENTIUTL2(ENSM,ENSMV,ENSRT,0)
"RTN","ENTIRRNA",44,0)
 ;
"RTN","ENTIRRNA",45,0)
 ; print equipment
"RTN","ENTIRRNA",46,0)
 ; loop thru sort value
"RTN","ENTIRRNA",47,0)
 S ENSRTV=""
"RTN","ENTIRRNA",48,0)
 F  S ENSRTV=$O(^TMP($J,"ENITEQ",ENSRTV)) Q:ENSRTV=""  D  Q:END
"RTN","ENTIRRNA",49,0)
 . ; loop thru equipment
"RTN","ENTIRRNA",50,0)
 . S ENDA=0
"RTN","ENTIRRNA",51,0)
 . F  S ENDA=$O(^TMP($J,"ENITEQ",ENSRTV,ENDA)) Q:'ENDA  D  Q:END
"RTN","ENTIRRNA",52,0)
 . . S ENT=ENT+1
"RTN","ENTIRRNA",53,0)
 . . ; display equipment data
"RTN","ENTIRRNA",54,0)
 . . I $Y+$S(ENBFMT:5,1:8)>IOSL D HD Q:END
"RTN","ENTIRRNA",55,0)
 . . I ENBFMT D
"RTN","ENTIRRNA",56,0)
 . . . S ENCMR=$$GET1^DIQ(6914,ENDA,19)
"RTN","ENTIRRNA",57,0)
 . . . S ENLOC=$$GET1^DIQ(6914,ENDA,24)
"RTN","ENTIRRNA",58,0)
 . . . S ENSVC=$$GET1^DIQ(6914,ENDA,21)
"RTN","ENTIRRNA",59,0)
 . . . S ENNAM=$$GET1^DIQ(6914,ENDA,3)
"RTN","ENTIRRNA",60,0)
 . . . W !,ENDA,?12,ENCMR,?19,ENLOC,?41,ENSVC
"RTN","ENTIRRNA",61,0)
 . . . W !,?2,$E(ENNAM,1,78)
"RTN","ENTIRRNA",62,0)
 . . E  D CAPEQ^ENTIUTL(ENDA,"HD^ENTIRRNA",,.END) Q:END
"RTN","ENTIRRNA",63,0)
 . . W !
"RTN","ENTIRRNA",64,0)
 ;
"RTN","ENTIRRNA",65,0)
 I 'END D
"RTN","ENTIRRNA",66,0)
 . ; report footer
"RTN","ENTIRRNA",67,0)
 . I $Y+4>IOSL D HD Q:END
"RTN","ENTIRRNA",68,0)
 . W !!,"Count of IT equipment items on report = ",ENT
"RTN","ENTIRRNA",69,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRNA",70,0)
 ;
"RTN","ENTIRRNA",71,0)
 D ^%ZISC
"RTN","ENTIRRNA",72,0)
 ;
"RTN","ENTIRRNA",73,0)
EXIT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENTIRRNA",74,0)
 K ^TMP($J,"ENITEQ")
"RTN","ENTIRRNA",75,0)
 K DIR,DIROUT,DIRUT,DIWF,DIWL,DTOUT,DUOUT,POP,X,Y
"RTN","ENTIRRNA",76,0)
 K ENBFMT,ENCMR,ENDA,ENHL2,ENLOC,ENNAM,ENSM,ENSMV
"RTN","ENTIRRNA",77,0)
 K ENSRT,ENSRTV,ENSVC,ENT,END,ENDT,ENPG
"RTN","ENTIRRNA",78,0)
 Q
"RTN","ENTIRRNA",79,0)
 ;
"RTN","ENTIRRNA",80,0)
HD ; header
"RTN","ENTIRRNA",81,0)
 I $E(IOST,1,2)="C-",ENPG S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIRRNA",82,0)
 I $E(IOST,1,2)="C-"!ENPG W @IOF
"RTN","ENTIRRNA",83,0)
 S ENPG=ENPG+1
"RTN","ENTIRRNA",84,0)
 W "IT EQUIPMENT NOT ASSIGNED REPORT",?48,ENDT,?72,"page ",ENPG
"RTN","ENTIRRNA",85,0)
 W !,ENHL2,!
"RTN","ENTIRRNA",86,0)
 I ENBFMT D
"RTN","ENTIRRNA",87,0)
 . W !,"Entry #",?12,"CMR",?19,"Location",?41,"Using Service"
"RTN","ENTIRRNA",88,0)
 . W !,"---------",?12,"-----",?19,"--------------------"
"RTN","ENTIRRNA",89,0)
 . W ?41,"------------------------------"
"RTN","ENTIRRNA",90,0)
 Q
"RTN","ENTIRRNA",91,0)
 ;
"RTN","ENTIRRNA",92,0)
 ;ENTIRRNA
"RTN","ENTIRRU")
0^17^B21377878^n/a
"RTN","ENTIRRU",1,0)
ENTIRRU ;WOIFO/SAB - Assignments Pending Acceptance Report ;2/4/2008
"RTN","ENTIRRU",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRU",3,0)
 ;
"RTN","ENTIRRU",4,0)
 N ENBFMT,ENSM,ENSMV,ENSRT,ENX,ENY
"RTN","ENTIRRU",5,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ENTIRRU",6,0)
 ;
"RTN","ENTIRRU",7,0)
 ; ask equipment selection method
"RTN","ENTIRRU",8,0)
 S ENX=$$ASKEQSM^ENTIUTL2("ACULS")
"RTN","ENTIRRU",9,0)
 S ENSM=$P(ENX,U),ENSMV=$P(ENX,U,2)
"RTN","ENTIRRU",10,0)
 Q:"^A^C^U^L^S^"'[(U_ENSM_U)
"RTN","ENTIRRU",11,0)
 ;
"RTN","ENTIRRU",12,0)
 ; ask sort
"RTN","ENTIRRU",13,0)
 S ENSRT=$$ASKEQSRT^ENTIUTL2(ENSM)
"RTN","ENTIRRU",14,0)
 Q:ENSRT=""  ; user time-out or '^'
"RTN","ENTIRRU",15,0)
 ;
"RTN","ENTIRRU",16,0)
 ; ask format
"RTN","ENTIRRU",17,0)
 S DIR(0)="Y"
"RTN","ENTIRRU",18,0)
 S DIR("A")="Do you want the brief display format"
"RTN","ENTIRRU",19,0)
 S DIR("B")="YES"
"RTN","ENTIRRU",20,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENTIRRU",21,0)
 S ENBFMT=Y
"RTN","ENTIRRU",22,0)
 ;
"RTN","ENTIRRU",23,0)
 ; ask device
"RTN","ENTIRRU",24,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","ENTIRRU",25,0)
 I $D(IO("Q")) D  G EXIT
"RTN","ENTIRRU",26,0)
 . S ZTRTN="QEN^ENTIRRU",ZTDESC="Assignments Pending Acceptance Report"
"RTN","ENTIRRU",27,0)
 . F ENY="ENSM","ENSMV","ENSRT","ENBFMT" S ZTSAVE(ENY)=""
"RTN","ENTIRRU",28,0)
 . D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q")
"RTN","ENTIRRU",29,0)
 ;
"RTN","ENTIRRU",30,0)
QEN ; queued entry
"RTN","ENTIRRU",31,0)
 U IO
"RTN","ENTIRRU",32,0)
 ;
"RTN","ENTIRRU",33,0)
 ; generate output
"RTN","ENTIRRU",34,0)
 K ENT S ENT=0,ENT("A")=0
"RTN","ENTIRRU",35,0)
 S (END,ENPG)=0 D NOW^%DTC S Y=% D DD^%DT S ENDT=Y
"RTN","ENTIRRU",36,0)
 ;
"RTN","ENTIRRU",37,0)
 ; build header line 2 string
"RTN","ENTIRRU",38,0)
 S ENHL2=$$BLDHL2^ENTIUTL(ENSM,ENSMV,ENSRT)
"RTN","ENTIRRU",39,0)
 ;
"RTN","ENTIRRU",40,0)
 D HD
"RTN","ENTIRRU",41,0)
 ;
"RTN","ENTIRRU",42,0)
 ; build sorted list of equipment
"RTN","ENTIRRU",43,0)
 K ^TMP($J,"ENITASGN")
"RTN","ENTIRRU",44,0)
 ; loop thru unsigned assignments by owner
"RTN","ENTIRRU",45,0)
 S ENOWN=0 F  S ENOWN=$O(^ENG(6916.3,"AOU",ENOWN)) Q:'ENOWN  D
"RTN","ENTIRRU",46,0)
 . S ENDA=0 F  S ENDA=$O(^ENG(6916.3,"AOU",ENOWN,ENDA)) Q:'ENDA  D
"RTN","ENTIRRU",47,0)
 . . ; apply screen (if any) for selection method and value
"RTN","ENTIRRU",48,0)
 . . I ENSM="C",$$GET1^DIQ(6916.3,ENDA,".01:19","I")'=ENSMV Q
"RTN","ENTIRRU",49,0)
 . . I ENSM="U",$$GET1^DIQ(6916.3,ENDA,".01:21","I")'=ENSMV Q
"RTN","ENTIRRU",50,0)
 . . I ENSM="L",$$GET1^DIQ(6916.3,ENDA,".01:24","I")'=ENSMV Q
"RTN","ENTIRRU",51,0)
 . . I ENSM="S",$$GET1^DIQ(6916.3,ENDA,".01:24:1.5","I")'=ENSMV Q
"RTN","ENTIRRU",52,0)
 . . ; passed all screens
"RTN","ENTIRRU",53,0)
 . . ;
"RTN","ENTIRRU",54,0)
 . . ; determine sort value
"RTN","ENTIRRU",55,0)
 . . S ENSRTV=""
"RTN","ENTIRRU",56,0)
 . . S ENEQ=$$GET1^DIQ(6916.3,ENDA,.01)
"RTN","ENTIRRU",57,0)
 . . I ENSRT="E" S ENSRTV=ENEQ
"RTN","ENTIRRU",58,0)
 . . I ENSRT="C" S ENSRTV=$$GET1^DIQ(6914,ENEQ,19) ; cmr
"RTN","ENTIRRU",59,0)
 . . I ENSRT="U" S ENSRTV=$$GET1^DIQ(6914,ENEQ,21) ; servce
"RTN","ENTIRRU",60,0)
 . . I ENSRT="L" S ENSRTV=$$GET1^DIQ(6914,ENEQ,24) ; location
"RTN","ENTIRRU",61,0)
 . . I ENSRT="S" S ENSRTV=$$GET1^DIQ(6914,ENEQ,"24:1.5") ; svc of loc
"RTN","ENTIRRU",62,0)
 . . I ENSRTV="" S ENSRTV=" <null>"
"RTN","ENTIRRU",63,0)
 . . ;
"RTN","ENTIRRU",64,0)
 . . ; save in tmp
"RTN","ENTIRRU",65,0)
 . . S ^TMP($J,"ENITASGN",ENSRTV,ENEQ,ENDA)=""
"RTN","ENTIRRU",66,0)
 ;
"RTN","ENTIRRU",67,0)
 ; print equipment & unsigned assignments
"RTN","ENTIRRU",68,0)
 ; loop thru sort value
"RTN","ENTIRRU",69,0)
 S ENSRTV=""
"RTN","ENTIRRU",70,0)
 F  S ENSRTV=$O(^TMP($J,"ENITASGN",ENSRTV)) Q:ENSRTV=""  D  Q:END
"RTN","ENTIRRU",71,0)
 . ; loop thru equipment
"RTN","ENTIRRU",72,0)
 . S ENEQ=0
"RTN","ENTIRRU",73,0)
 . F  S ENEQ=$O(^TMP($J,"ENITASGN",ENSRTV,ENEQ)) Q:'ENEQ  D  Q:END
"RTN","ENTIRRU",74,0)
 . . S ENT=ENT+1
"RTN","ENTIRRU",75,0)
 . . ; display equipment data
"RTN","ENTIRRU",76,0)
 . . I $Y+$S(ENBFMT:5,1:8)>IOSL D HD Q:END
"RTN","ENTIRRU",77,0)
 . . I ENBFMT D
"RTN","ENTIRRU",78,0)
 . . . S ENCMR=$$GET1^DIQ(6914,ENEQ,19)
"RTN","ENTIRRU",79,0)
 . . . S ENLOC=$$GET1^DIQ(6914,ENEQ,24)
"RTN","ENTIRRU",80,0)
 . . . S ENSVC=$$GET1^DIQ(6914,ENEQ,21)
"RTN","ENTIRRU",81,0)
 . . . S ENNAM=$$GET1^DIQ(6914,ENEQ,3)
"RTN","ENTIRRU",82,0)
 . . . W !,ENEQ,?12,ENCMR,?19,ENLOC,?41,ENSVC
"RTN","ENTIRRU",83,0)
 . . . W !,?2,$E(ENNAM,1,78)
"RTN","ENTIRRU",84,0)
 . . E  D CAPEQ^ENTIUTL(ENEQ,"HD^ENTIRRU",,.END) Q:END
"RTN","ENTIRRU",85,0)
 . . ;
"RTN","ENTIRRU",86,0)
 . . ; loop thru unsigned assignments
"RTN","ENTIRRU",87,0)
 . . S ENDA=0
"RTN","ENTIRRU",88,0)
 . . F  S ENDA=$O(^TMP($J,"ENITASGN",ENSRTV,ENEQ,ENDA)) Q:'ENDA  D  Q:END
"RTN","ENTIRRU",89,0)
 . . . S ENT("A")=ENT("A")+1
"RTN","ENTIRRU",90,0)
 . . . ; display assignment data
"RTN","ENTIRRU",91,0)
 . . . I $Y+4>IOSL D HD Q:END  W !,"Entry #: ",ENEQ," (continued)"
"RTN","ENTIRRU",92,0)
 . . . W !,"  Assign: "
"RTN","ENTIRRU",93,0)
 . . . W $$FMTE^XLFDT($$GET1^DIQ(6916.3,ENDA,2,"I"),"2DZ")
"RTN","ENTIRRU",94,0)
 . . . W ?20,$$GET1^DIQ(6916.3,ENDA,1)
"RTN","ENTIRRU",95,0)
 . . . S ENSTAT=$$GET1^DIQ(6916.3,ENDA,20)
"RTN","ENTIRRU",96,0)
 . . . W ?52,"Status: ",ENSTAT
"RTN","ENTIRRU",97,0)
 . . . I ENSTAT'="ASSIGNED" W ?71,$$GET1^DIQ(6916.3,ENDA,21)
"RTN","ENTIRRU",98,0)
 . . W !
"RTN","ENTIRRU",99,0)
 ;
"RTN","ENTIRRU",100,0)
 I 'END D
"RTN","ENTIRRU",101,0)
 . ; report footer
"RTN","ENTIRRU",102,0)
 . I $Y+4>IOSL D HD Q:END
"RTN","ENTIRRU",103,0)
 . W !!,"Count of IT equipment items on report = ",ENT
"RTN","ENTIRRU",104,0)
 . W !,"Count of unsigned assignments on report = ",ENT("A")
"RTN","ENTIRRU",105,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRU",106,0)
 ;
"RTN","ENTIRRU",107,0)
 D ^%ZISC
"RTN","ENTIRRU",108,0)
 ;
"RTN","ENTIRRU",109,0)
EXIT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENTIRRU",110,0)
 K ^TMP($J,"ENITASGN")
"RTN","ENTIRRU",111,0)
 K DIR,DIROUT,DIRUT,DIWF,DIWL,DTOUT,DUOUT,POP,X,Y
"RTN","ENTIRRU",112,0)
 K ENBFMT,ENCMR,ENDA,ENEQ,ENLOC,ENNAM,ENOWN,ENSM,ENSMV
"RTN","ENTIRRU",113,0)
 K ENSRT,ENSRTV,ENSTAT,ENSVC,ENT,END,ENDT,ENHL2,ENPG
"RTN","ENTIRRU",114,0)
 Q
"RTN","ENTIRRU",115,0)
 ;
"RTN","ENTIRRU",116,0)
HD ; header
"RTN","ENTIRRU",117,0)
 I $E(IOST,1,2)="C-",ENPG S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIRRU",118,0)
 I $E(IOST,1,2)="C-"!ENPG W @IOF
"RTN","ENTIRRU",119,0)
 S ENPG=ENPG+1
"RTN","ENTIRRU",120,0)
 W "Assignments Pending Acceptance Report",?48,ENDT,?72,"page ",ENPG
"RTN","ENTIRRU",121,0)
 W !,ENHL2,!
"RTN","ENTIRRU",122,0)
 I ENBFMT D
"RTN","ENTIRRU",123,0)
 . W !,"Entry #",?12,"CMR",?19,"Location",?41,"Using Service"
"RTN","ENTIRRU",124,0)
 . W !,"---------",?12,"-----",?19,"--------------------"
"RTN","ENTIRRU",125,0)
 . W ?41,"------------------------------"
"RTN","ENTIRRU",126,0)
 Q
"RTN","ENTIRRU",127,0)
 ;
"RTN","ENTIRRU",128,0)
 ;ENTIRRU
"RTN","ENTIRRX")
0^18^B10875789^n/a
"RTN","ENTIRRX",1,0)
ENTIRRX ;WOIFO/SAB - Signature Exception Report ;2/4/2008
"RTN","ENTIRRX",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRRX",3,0)
 ;
"RTN","ENTIRRX",4,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENADT,ENTYP,X,Y
"RTN","ENTIRRX",5,0)
 ;
"RTN","ENTIRRX",6,0)
 ; ask type
"RTN","ENTIRRX",7,0)
 S DIR(0)="S^E:ELECTRONICALLY SIGNED;C:CERTIFIED HARD COPY SIGNATURE;B:BOTH"
"RTN","ENTIRRX",8,0)
 S DIR("A")="Select type of signature to check"
"RTN","ENTIRRX",9,0)
 S DIR("B")="BOTH"
"RTN","ENTIRRX",10,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENTIRRX",11,0)
 S ENTYP=Y
"RTN","ENTIRRX",12,0)
 ;
"RTN","ENTIRRX",13,0)
 ; ask anniversary date
"RTN","ENTIRRX",14,0)
 S DIR(0)="D"
"RTN","ENTIRRX",15,0)
 S DIR("A")="Report signatures at least 1 year old as of "
"RTN","ENTIRRX",16,0)
 S DIR("B")=$$FMTE^XLFDT($$FMADD^XLFDT(DT,-1))
"RTN","ENTIRRX",17,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENTIRRX",18,0)
 S ENADT=Y
"RTN","ENTIRRX",19,0)
 ;
"RTN","ENTIRRX",20,0)
 ; ask device
"RTN","ENTIRRX",21,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","ENTIRRX",22,0)
 I $D(IO("Q")) D  G EXIT
"RTN","ENTIRRX",23,0)
 . S ZTRTN="QEN^ENTIRRX",ZTDESC="Signature Exception Report"
"RTN","ENTIRRX",24,0)
 . S ZTSAVE("ENTYP")="",ZTSAVE("ENADT")=""
"RTN","ENTIRRX",25,0)
 . D ^%ZTLOAD,HOME^%ZIS K ZTSK,IO("Q")
"RTN","ENTIRRX",26,0)
 ;
"RTN","ENTIRRX",27,0)
QEN ; queued entry
"RTN","ENTIRRX",28,0)
 U IO
"RTN","ENTIRRX",29,0)
 ;
"RTN","ENTIRRX",30,0)
 ; generate output
"RTN","ENTIRRX",31,0)
 K ENT S ENT=0
"RTN","ENTIRRX",32,0)
 S (END,ENPG)=0 D NOW^%DTC S Y=% D DD^%DT S ENDT=Y
"RTN","ENTIRRX",33,0)
 S ENCDT=($E(ENADT,1,3)-1)_$E(ENADT,4,7) ; computed date (1 year before)
"RTN","ENTIRRX",34,0)
 S ENADTE=$$FMTE^XLFDT(ENADT) ; external format for anniversary date
"RTN","ENTIRRX",35,0)
 D HD
"RTN","ENTIRRX",36,0)
 ;
"RTN","ENTIRRX",37,0)
 ; print data
"RTN","ENTIRRX",38,0)
 ; loop thru active assignments by owner and equipment
"RTN","ENTIRRX",39,0)
 S ENOWN=0 F  S ENOWN=$O(^ENG(6916.3,"AOA",ENOWN)) Q:'ENOWN  D  Q:END
"RTN","ENTIRRX",40,0)
 . S ENEQ=0 F  S ENEQ=$O(^ENG(6916.3,"AOA",ENOWN,ENEQ)) Q:'ENEQ  D  Q:END
"RTN","ENTIRRX",41,0)
 . . S ENDA=0
"RTN","ENTIRRX",42,0)
 . . F  S ENDA=$O(^ENG(6916.3,"AOA",ENOWN,ENEQ,ENDA)) Q:'ENDA  D  Q:END
"RTN","ENTIRRX",43,0)
 . . . S ENY=$G(^ENG(6916.3,ENDA,0))
"RTN","ENTIRRX",44,0)
 . . . Q:$P(ENY,U,5)=""  ; not signed
"RTN","ENTIRRX",45,0)
 . . . I ENTYP="E",$P(ENY,U,7)'="" Q  ; only check e-sigs
"RTN","ENTIRRX",46,0)
 . . . I ENTYP="C",$P(ENY,U,7)="" Q  ; only check certified sigs
"RTN","ENTIRRX",47,0)
 . . . Q:$P($P(ENY,U,5),".")>ENCDT  ; was signed after computed date
"RTN","ENTIRRX",48,0)
 . . . ;
"RTN","ENTIRRX",49,0)
 . . . ; report assignment
"RTN","ENTIRRX",50,0)
 . . . S ENT=ENT+1
"RTN","ENTIRRX",51,0)
 . . . ;
"RTN","ENTIRRX",52,0)
 . . . ; display assignment data
"RTN","ENTIRRX",53,0)
 . . . I $Y+6>IOSL D HD Q:END
"RTN","ENTIRRX",54,0)
 . . . W !,$$GET1^DIQ(6916.3,ENDA,1)
"RTN","ENTIRRX",55,0)
 . . . W ?32,ENEQ
"RTN","ENTIRRX",56,0)
 . . . W ?44,$$GET1^DIQ(6916.3,ENDA,20)
"RTN","ENTIRRX",57,0)
 . . . W ?55,$$GET1^DIQ(6916.3,ENDA,21)
"RTN","ENTIRRX",58,0)
 . . . W !,"  ",$E($$GET1^DIQ(6914,ENEQ,3),1,76)
"RTN","ENTIRRX",59,0)
 ;
"RTN","ENTIRRX",60,0)
 I 'END D
"RTN","ENTIRRX",61,0)
 . ; report footer
"RTN","ENTIRRX",62,0)
 . I $Y+4>IOSL D HD Q:END
"RTN","ENTIRRX",63,0)
 . W !!,"Count of signatures on report = ",ENT
"RTN","ENTIRRX",64,0)
 . I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRRX",65,0)
 ;
"RTN","ENTIRRX",66,0)
 D ^%ZISC
"RTN","ENTIRRX",67,0)
 ;
"RTN","ENTIRRX",68,0)
EXIT I $D(ZTQUEUED) S ZTREQ="@"
"RTN","ENTIRRX",69,0)
 K DIR,DIROUT,DIRUT,DIWF,DIWL,DTOUT,DUOUT,POP,X,Y
"RTN","ENTIRRX",70,0)
 K ENADT,ENADTE,ENCDT,ENDA,ENEQ,ENOWN,ENT,ENTYP,ENY
"RTN","ENTIRRX",71,0)
 K END,ENDT,ENPG
"RTN","ENTIRRX",72,0)
 Q
"RTN","ENTIRRX",73,0)
 ;
"RTN","ENTIRRX",74,0)
HD ; header
"RTN","ENTIRRX",75,0)
 I $E(IOST,1,2)="C-",ENPG S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIRRX",76,0)
 I $E(IOST,1,2)="C-"!ENPG W @IOF
"RTN","ENTIRRX",77,0)
 S ENPG=ENPG+1
"RTN","ENTIRRX",78,0)
 W "SIGNATURE EXCEPTION REPORT",?48,ENDT,?72,"page ",ENPG,!
"RTN","ENTIRRX",79,0)
 W "  for "
"RTN","ENTIRRX",80,0)
 I ENTYP="E" W "electronic "
"RTN","ENTIRRX",81,0)
 I ENTYP="C" W "hard copy "
"RTN","ENTIRRX",82,0)
 W "signatures at least one year old as of ",ENADTE,!!
"RTN","ENTIRRX",83,0)
 W "Owner",?32,"Entry #",?44,"Status",?55,"Status Date",!
"RTN","ENTIRRX",84,0)
 W "------------------------------",?32,"----------"
"RTN","ENTIRRX",85,0)
 W ?44,"---------",?55,"-----------"
"RTN","ENTIRRX",86,0)
 Q
"RTN","ENTIRRX",87,0)
 ;
"RTN","ENTIRRX",88,0)
 ;ENTIRRX
"RTN","ENTIRS")
0^11^B10316574^n/a
"RTN","ENTIRS",1,0)
ENTIRS ;WOIFO/LKG - SIGN RESPONSIBILITIES ;2/5/08  14:57
"RTN","ENTIRS",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRS",3,0)
IN ;Entry point
"RTN","ENTIRS",4,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX"),ENACL S:'$G(DT) DT=$$DT^XLFDT()
"RTN","ENTIRS",5,0)
 S ENJ="",ENC=0
"RTN","ENTIRS",6,0)
 F  S ENJ=$O(^ENG(6916.3,"AOA",DUZ,ENJ)) Q:ENJ=""  D
"RTN","ENTIRS",7,0)
 . S ENI=""
"RTN","ENTIRS",8,0)
 . F  S ENI=$O(^ENG(6916.3,"AOA",DUZ,ENJ,ENI)) Q:ENI=""  D
"RTN","ENTIRS",9,0)
 . . S ENNOD0=$G(^ENG(6916.3,ENI,0)) Q:ENNOD0=""
"RTN","ENTIRS",10,0)
 . . Q:$P(ENNOD0,U,8)'=""
"RTN","ENTIRS",11,0)
 . . I $P(ENNOD0,U,5),$$FMDIFF^XLFDT(DT,$P(ENNOD0,U,5))<360 Q
"RTN","ENTIRS",12,0)
 . . S ENIC=ENI_"," K END,ENERR D GETS^DIQ(6916.3,ENIC,".01;1;20","E","END","ENERR")
"RTN","ENTIRS",13,0)
 . . S ENDAC=$P(ENNOD0,U)_"," D GETS^DIQ(6914,ENDAC,"3;4;5","E","END","ENERR")
"RTN","ENTIRS",14,0)
 . . S ENC=ENC+1
"RTN","ENTIRS",15,0)
 . . S ^TMP($J,"SCR",ENC)=$G(END(6916.3,ENIC,.01,"E"))_U_$E($G(END(6914,ENDAC,3,"E")),1,20)_U_$G(END(6914,ENDAC,4,"E"))_U_$G(END(6914,ENDAC,5,"E"))
"RTN","ENTIRS",16,0)
 . . S ^TMP($J,"INDX",ENC)=ENI
"RTN","ENTIRS",17,0)
 I 'ENC W !!,"There are no assignment to sign." K DIR S DIR(0)="E" D ^DIR K DIR G EX
"RTN","ENTIRS",18,0)
 S ^TMP($J,"SCR")=ENC_"^IT RESPONSIBILITIES REQUIRING SIGNATURE BY "_$G(END(6916.3,ENIC,1,"E"))
"RTN","ENTIRS",19,0)
 S ^TMP($J,"SCR",0)="5;9;ENTRY #^15;20;MFG EQUIP NAME^37;25;MODEL^65;14;SERIAL#"
"RTN","ENTIRS",20,0)
 D EN2^ENPLS2(1) G:'$D(ENACL) EX
"RTN","ENTIRS",21,0)
 K DIR S DIR(0)="Y",DIR("A")="OK to continue",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRS",22,0)
 G:'Y!$D(DIRUT) EX
"RTN","ENTIRS",23,0)
 N L,DIC,FLDS,FR,TO,BY,IOP,DHD
"RTN","ENTIRS",24,0)
 S ENDA=$O(^ENG(6916.2,"@"),-1)
"RTN","ENTIRS",25,0)
 I '$$CMP^XUSESIG1($P($G(^ENG(6916.2,ENDA,0)),U,3),$NAME(^ENG(6916.2,ENDA,1))) W !!,"Hand receipt text is corrupted - Please contact EPS AEMS/MERS support" G EX
"RTN","ENTIRS",26,0)
 S L=0,DIC=6916.2,FLDS=1,FR=ENDA,TO=ENDA,BY="@NUMBER",IOP="HOME",DHD="@"
"RTN","ENTIRS",27,0)
 D EN1^DIP
"RTN","ENTIRS",28,0)
 K DIR S DIR(0)="Y",DIR("A")="OK to sign",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRS",29,0)
 G:'Y!$D(DIRUT) EX
"RTN","ENTIRS",30,0)
 D SIG^XUSESIG I X1="" W !,"<Invalid Electronic Signature> Signing Aborted." G EX
"RTN","ENTIRS",31,0)
 S ENCNT=0,ENX=""
"RTN","ENTIRS",32,0)
 F  S ENX=$O(ENACL(ENX)) Q:ENX=""  D
"RTN","ENTIRS",33,0)
 . N ENXSTR S ENXSTR=$G(ENACL(ENX)) Q:ENXSTR=""
"RTN","ENTIRS",34,0)
 . I $L(ENXSTR,",")>0 D
"RTN","ENTIRS",35,0)
 . . F ENJ=1:1 S ENI=$P(ENXSTR,",",ENJ) Q:+ENI'>0  D
"RTN","ENTIRS",36,0)
 . . . S ENDA=^TMP($J,"INDX",ENI) L +^ENG(6916.3,ENDA):$S($G(DILOCKTM)>5:DILOCKTM,1:5) E  D MSG^ENTIRT(ENDA,"Signature") Q
"RTN","ENTIRS",37,0)
 . . . S ENZ=$$SIGN^ENTIUTL1(ENDA)
"RTN","ENTIRS",38,0)
 . . . S:ENZ ENCNT=ENCNT+1 D:'ENZ MSG2(ENDA)
"RTN","ENTIRS",39,0)
 . . . L -^ENG(6916.3,ENDA)
"RTN","ENTIRS",40,0)
 W !!,ENCNT," assignment records were signed."
"RTN","ENTIRS",41,0)
EX ;
"RTN","ENTIRS",42,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX"),DIROUT,DIRUT,DTOUT,DUOUT,ENACL,ENCNT,ENDA,ENDAC,ENI,ENIC,ENJ,ENC,END,ENERR,ENNOD0,ENX,ENZ,X,X1,Y
"RTN","ENTIRS",43,0)
 Q
"RTN","ENTIRS",44,0)
MSG2(ENDA) ;error message on signing failure
"RTN","ENTIRS",45,0)
 N END,ENERR,ENDAC S ENDAC=ENDA_","
"RTN","ENTIRS",46,0)
 D GETS^DIQ(6916.3,ENDAC,".01;1","E","END","ENERR")
"RTN","ENTIRS",47,0)
 W !,"Assignment Equip Entry# ",$G(END(6916.3,ENDAC,.01,"E"))," for ",$G(END(6916.3,ENDAC,1,"E"))," is not active ",!?5,"and was not signed."
"RTN","ENTIRS",48,0)
 Q
"RTN","ENTIRS",49,0)
 ;
"RTN","ENTIRS",50,0)
 ;ENTIRS
"RTN","ENTIRT")
0^7^B11537815^n/a
"RTN","ENTIRT",1,0)
ENTIRT ;WOIFO/LKG - TERMINATE RESPONSIBILITY ;2/4/08  12:32
"RTN","ENTIRT",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRT",3,0)
TERMLST ;Entry for list termination processing
"RTN","ENTIRT",4,0)
 N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,DIC,D,ENACL,ENCNT,ENDA,ENMETHOD,ENERR,ENX,ENI,ENJ,X,Y
"RTN","ENTIRT",5,0)
LSTSTART S DIR(0)="S^E:EQUIPMENT;P:PERSON",DIR("A")="Specify method for selecting IT assignments"
"RTN","ENTIRT",6,0)
 D ^DIR K DIR G:$D(DIRUT) LSTEXIT
"RTN","ENTIRT",7,0)
 S ENMETHOD=Y
"RTN","ENTIRT",8,0)
 I ENMETHOD="E" D  G:$D(ENERR) LSTEXIT
"RTN","ENTIRT",9,0)
 . N D,DIC S DIC("S")="I $D(^ENG(6916.3,""AEA"",Y))" D GETEQ^ENUTL
"RTN","ENTIRT",10,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y<1) S ENERR=1 Q
"RTN","ENTIRT",11,0)
 . S ENDA=+Y
"RTN","ENTIRT",12,0)
 . K DIC,D,^TMP($J,"ENITTR"),ENERR
"RTN","ENTIRT",13,0)
 . D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AEA","I $P(^(0),U,8)=""""","","^TMP($J,""ENITTR"")","ENERR")
"RTN","ENTIRT",14,0)
 I ENMETHOD="P" D  G:$D(ENERR) LSTEXIT
"RTN","ENTIRT",15,0)
 . N D,DIC S DIC=200,DIC(0)="AEMQ",DIC("S")="I $D(^ENG(6916.3,""AOA"",Y))"
"RTN","ENTIRT",16,0)
 . D ^DIC I $D(DTOUT)!$D(DUOUT)!(Y<1) S ENERR=1 Q
"RTN","ENTIRT",17,0)
 . S ENDA=+Y
"RTN","ENTIRT",18,0)
 . K DIC,D,^TMP($J,"ENITTR"),ENERR
"RTN","ENTIRT",19,0)
 . D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AOA","I $P(^(0),U,8)=""""","","^TMP($J,""ENITTR"")","ENERR")
"RTN","ENTIRT",20,0)
 I $P($G(^TMP($J,"ENITTR","DILIST",0)),U)'>0 W !!,"There are no active responsibilities for this "_$S(ENMETHOD="E":"equipment",ENMETHOD="P":"person",1:"")_"." K DIR S DIR(0)="E" D ^DIR K DIR K ^TMP($J,"ENITTR") G LSTEXIT:'Y,LSTSTART
"RTN","ENTIRT",21,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX"),ENACL
"RTN","ENTIRT",22,0)
 S ^TMP($J,"SCR")=$P(^TMP($J,"ENITTR","DILIST",0),U)_"^ACTIVE IT RESPONSIBILITIES"
"RTN","ENTIRT",23,0)
 S ^TMP($J,"SCR",0)="5;9;ENTRY #^15;20;MFG EQUIP NAME^37;30;OWNER^69;10;STATUS"
"RTN","ENTIRT",24,0)
 S ENI=0
"RTN","ENTIRT",25,0)
 F  S ENI=$O(^TMP($J,"ENITTR","DILIST",ENI)) Q:+ENI'>0  D
"RTN","ENTIRT",26,0)
 . N ENX S ENX=$G(^TMP($J,"ENITTR","DILIST",ENI,0))
"RTN","ENTIRT",27,0)
 . S ^TMP($J,"SCR",ENI)=$P(ENX,U,2)_U_$E($$GET1^DIQ(6914,$P(ENX,U,2)_",",3),1,20)_U_$P(ENX,U,3,4)
"RTN","ENTIRT",28,0)
 . S ^TMP($J,"INDX",ENI)=$P(ENX,U)
"RTN","ENTIRT",29,0)
 K ^TMP($J,"ENITTR")
"RTN","ENTIRT",30,0)
 D EN2^ENPLS2(1)
"RTN","ENTIRT",31,0)
 G:'$D(ENACL)!$D(DIRUT) LSTEXIT
"RTN","ENTIRT",32,0)
 S DIR(0)="Y",DIR("A")="OK to terminate assignments",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRT",33,0)
 G:'Y!$D(DIRUT) LSTEXIT
"RTN","ENTIRT",34,0)
 S ENCNT=0,ENX=""
"RTN","ENTIRT",35,0)
 F  S ENX=$O(ENACL(ENX)) Q:ENX=""  D
"RTN","ENTIRT",36,0)
 . N ENXSTR
"RTN","ENTIRT",37,0)
 . S ENXSTR=$G(ENACL(ENX)) Q:ENXSTR=""
"RTN","ENTIRT",38,0)
 . I $L(ENXSTR,",")>0 D
"RTN","ENTIRT",39,0)
 . . F ENJ=1:1 S ENI=$P(ENXSTR,",",ENJ) Q:+ENI'>0  D
"RTN","ENTIRT",40,0)
 . . . S DA=^TMP($J,"INDX",ENI) L +^ENG(6916.3,DA):$S($G(DILOCKTM)>5:DILOCKTM,1:5) E  D MSG(DA,"Termination") Q
"RTN","ENTIRT",41,0)
 . . . S X=$$TERM^ENTIUTL1(DA)
"RTN","ENTIRT",42,0)
 . . . L -^ENG(6916.3,DA) K DA
"RTN","ENTIRT",43,0)
 . . . S ENCNT=ENCNT+1
"RTN","ENTIRT",44,0)
 W !!,ENCNT," IT responsibilities were terminated." K DIR S DIR(0)="E" D ^DIR K DIR
"RTN","ENTIRT",45,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX")
"RTN","ENTIRT",46,0)
 G LSTEXIT:'Y,LSTSTART
"RTN","ENTIRT",47,0)
LSTEXIT ;
"RTN","ENTIRT",48,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX")
"RTN","ENTIRT",49,0)
 Q
"RTN","ENTIRT",50,0)
MSG(ENDA,ENMSG) ;Write Error Message
"RTN","ENTIRT",51,0)
 N END,ENERR,ENDAC S ENDAC=ENDA_"," D GETS^DIQ(6916.3,ENDAC,".01;1","E","END","ENERR")
"RTN","ENTIRT",52,0)
 W !,"Assignment Equip Entry# ",$G(END(6916.3,ENDAC,.01,"E"))," for ",$G(END(6916.3,ENDAC,1,"E"))," is locked by another process.",!?10,ENMSG," was bypassed."
"RTN","ENTIRT",53,0)
 Q
"RTN","ENTIRT",54,0)
 ;
"RTN","ENTIRT",55,0)
 ;ENTIRT
"RTN","ENTIRX")
0^8^B23968288^n/a
"RTN","ENTIRX",1,0)
ENTIRX ;WOIFO/LKG - TRANSFER RESPONSIBILITY ;2/5/08  14:58
"RTN","ENTIRX",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIRX",3,0)
TERMLST ;Entry for transfer processing
"RTN","ENTIRX",4,0)
 N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,DIC,D,ENA,ENACL,ENCNT,ENCNT2,ENDA,ENMETHOD,ENNAME,ENNBR,ENPER,ENRES,ENERR,ENX,ENI,ENJ,X,X1,Y
"RTN","ENTIRX",5,0)
LSTSTART S DIR(0)="S^E:EQUIPMENT;P:PERSON",DIR("A")="Specify method for selecting IT assignments"
"RTN","ENTIRX",6,0)
 D ^DIR K DIR G:$D(DIRUT)!$D(DIROUT)!$D(DTOUT)!$D(DUOUT) LSTEXIT
"RTN","ENTIRX",7,0)
 S ENMETHOD=Y
"RTN","ENTIRX",8,0)
 I ENMETHOD="E" D  G:$D(ENERR) LSTEXIT
"RTN","ENTIRX",9,0)
 . N D,DIC S DIC("S")="I $D(^ENG(6916.3,""AEA"",Y))" D GETEQ^ENUTL
"RTN","ENTIRX",10,0)
 . I $D(DTOUT)!$D(DUOUT)!(Y<1) S ENERR=1 Q
"RTN","ENTIRX",11,0)
 . S ENDA=+Y
"RTN","ENTIRX",12,0)
 . K DIC,D,^TMP($J,"ENITTR"),ENERR
"RTN","ENTIRX",13,0)
 . D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AEA","I $P(^(0),U,8)=""""","","^TMP($J,""ENITTR"")","ENERR")
"RTN","ENTIRX",14,0)
 I ENMETHOD="P" D  G:$D(ENERR) LSTEXIT
"RTN","ENTIRX",15,0)
 . N D,DIC S DIC=200,DIC(0)="AEMQ",DIC("S")="I $D(^ENG(6916.3,""AOA"",Y))"
"RTN","ENTIRX",16,0)
 . D ^DIC I $D(DTOUT)!$D(DUOUT)!(Y<1) S ENERR=1 Q
"RTN","ENTIRX",17,0)
 . S ENDA=+Y
"RTN","ENTIRX",18,0)
 . K DIC,D,^TMP($J,"ENITTR"),ENERR
"RTN","ENTIRX",19,0)
 . D FIND^DIC(6916.3,"","@;.01;1;20","PQ",ENDA,"","AOA","I $P(^(0),U,8)=""""","","^TMP($J,""ENITTR"")","ENERR")
"RTN","ENTIRX",20,0)
 I $P($G(^TMP($J,"ENITTR","DILIST",0)),U)'>0 W !!,"There are no active responsibilities for this "_$S(ENMETHOD="E":"equipment",ENMETHOD="P":"person",1:"")_"." K DIR S DIR(0)="E" D ^DIR K DIR K ^TMP($J,"ENITTR") G LSTEXIT:'Y,LSTSTART
"RTN","ENTIRX",21,0)
 K ^TMP($J,"SCR"),^TMP($J,"INDX"),ENACL
"RTN","ENTIRX",22,0)
 S ^TMP($J,"SCR")=$P(^TMP($J,"ENITTR","DILIST",0),U)_"^ACTIVE IT RESPONSIBILITIES"
"RTN","ENTIRX",23,0)
 S ^TMP($J,"SCR",0)="5;9;ENTRY #^15;20;MFG EQUIP NAME^37;30;OWNER^69;10;STATUS"
"RTN","ENTIRX",24,0)
 S ENI=0
"RTN","ENTIRX",25,0)
 F  S ENI=$O(^TMP($J,"ENITTR","DILIST",ENI)) Q:+ENI'>0  D
"RTN","ENTIRX",26,0)
 . N ENX S ENX=$G(^TMP($J,"ENITTR","DILIST",ENI,0))
"RTN","ENTIRX",27,0)
 . S ^TMP($J,"SCR",ENI)=$P(ENX,U,2)_U_$E($$GET1^DIQ(6914,$P(ENX,U,2)_",",3),1,20)_U_$P(ENX,U,3,4)
"RTN","ENTIRX",28,0)
 . S ^TMP($J,"INDX",ENI)=$P(ENX,U)
"RTN","ENTIRX",29,0)
 K ^TMP($J,"ENITTR")
"RTN","ENTIRX",30,0)
 D EN2^ENPLS2(1)
"RTN","ENTIRX",31,0)
 I '$D(ENACL)!$D(DIRUT)!$D(DIROUT) K ^TMP($J,"SCR"),^TMP($J,"INDX") G LSTEXIT
"RTN","ENTIRX",32,0)
ASKNAME K DIC S DIC=200,DIC(0)="AEMQ",DIC("A")="Select person for new assignment: "
"RTN","ENTIRX",33,0)
 D ^DIC I +Y<1!$D(DTOUT)!$D(DUOUT) G LSTEXIT
"RTN","ENTIRX",34,0)
 S ENPER=+Y,ENNAME=$P(Y,U,2) K DIR S DIR(0)="Y",DIR("A")="Assign responsibility to "_ENNAME,DIR("B")="NO"
"RTN","ENTIRX",35,0)
 D ^DIR G LSTEXIT:$D(DIRUT),ASKNAME:'Y
"RTN","ENTIRX",36,0)
 S DIR(0)="Y",DIR("A")="OK to transfer assignments",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRX",37,0)
 G:'Y!$D(DIRUT) LSTEXIT W !
"RTN","ENTIRX",38,0)
 S ENCNT=0,ENCNT2=0,ENX="" K ENA K ^TMP($J,"ENSIGN")
"RTN","ENTIRX",39,0)
 F  S ENX=$O(ENACL(ENX)) Q:ENX=""  D
"RTN","ENTIRX",40,0)
 . N ENXSTR
"RTN","ENTIRX",41,0)
 . S ENXSTR=$G(ENACL(ENX)) Q:ENXSTR=""
"RTN","ENTIRX",42,0)
 . I $L(ENXSTR,",")>0 D
"RTN","ENTIRX",43,0)
 . . F ENJ=1:1 S ENI=$P(ENXSTR,",",ENJ) Q:+ENI'>0  D
"RTN","ENTIRX",44,0)
 . . . S DA=^TMP($J,"INDX",ENI) L +^ENG(6916.3,DA):$S($G(DILOCKTM)>5:DILOCKTM,1:5) E  D MSG^ENTIRT(DA,"Transfer") Q
"RTN","ENTIRX",45,0)
 . . . S X=$$TERM^ENTIUTL1(DA)
"RTN","ENTIRX",46,0)
 . . . L -^ENG(6916.3,DA)
"RTN","ENTIRX",47,0)
 . . . S ENCNT=ENCNT+1
"RTN","ENTIRX",48,0)
 . . . S ENNBR=$P($G(^ENG(6916.3,DA,0)),U) Q:'ENNBR
"RTN","ENTIRX",49,0)
 . . . I '$D(ENA(ENNBR)) S ENRES=$$ASGN^ENTIUTL1(ENNBR,ENPER),ENA(ENNBR)=ENRES S:ENRES ENCNT2=ENCNT2+1 W:ENRES=0 !,ENNBR," is already assigned to ",ENNAME,"." S:(ENPER=DUZ)&ENRES ^TMP($J,"ENSIGN",ENRES)=""
"RTN","ENTIRX",50,0)
 W !!,ENCNT," IT responsibilities were terminated.",!,ENCNT2," assignments were created." K DIR S DIR(0)="E" D ^DIR K DIR K ^TMP($J,"SCR"),^TMP($J,"INDX") G:'Y LSTEXIT
"RTN","ENTIRX",51,0)
 I ENPER=DUZ,$$SIGNOK() D
"RTN","ENTIRX",52,0)
 . N L,DIC,FLDS,FR,TO,BY,IOP,DHD,ENMSG
"RTN","ENTIRX",53,0)
 . S DA=$O(^ENG(6916.2,"@"),-1)
"RTN","ENTIRX",54,0)
 . I '$$CMP^XUSESIG1($P($G(^ENG(6916.2,DA,0)),U,3),$NAME(^ENG(6916.2,DA,1))) W !!,"Hand receipt text is corrupted - Please contact EPS AEMS/MERS support." Q
"RTN","ENTIRX",55,0)
 . S L=0,DIC=6916.2,FLDS=1,FR=DA,TO=DA,BY="@NUMBER",IOP="HOME",DHD="@"
"RTN","ENTIRX",56,0)
 . D EN1^DIP
"RTN","ENTIRX",57,0)
 . K DIR S DIR(0)="Y",DIR("A")="OK to sign",DIR("B")="NO" D ^DIR K DIR
"RTN","ENTIRX",58,0)
 . Q:'Y!$D(DIRUT)
"RTN","ENTIRX",59,0)
 . D SIG^XUSESIG I X1="" W !,"<Invalid Electronic Signature> Signing Aborted." Q
"RTN","ENTIRX",60,0)
 . S ENDA="",ENCNT=0
"RTN","ENTIRX",61,0)
 . F  S ENDA=$O(^TMP($J,"ENSIGN",ENDA)) Q:ENDA=""  D
"RTN","ENTIRX",62,0)
 . . L +^ENG(6916.3,ENDA):$S($G(DILOCKTM)>5:DILOCKTM,1:5) E  D MSG^ENTIRT(ENDA,"Signature") Q
"RTN","ENTIRX",63,0)
 . . I $$SIGN^ENTIUTL1(ENDA) S ENCNT=ENCNT+1 K ^TMP($J,"ENSIGN",ENDA)
"RTN","ENTIRX",64,0)
 . . L -^ENG(6916.3,ENDA)
"RTN","ENTIRX",65,0)
 . W !!,ENCNT," assignment records were signed."
"RTN","ENTIRX",66,0)
 . S ENDA=""
"RTN","ENTIRX",67,0)
 . F  S ENDA=$O(^TMP($J,"ENSIGN",ENDA)) Q:ENDA=""  D
"RTN","ENTIRX",68,0)
 . . N END,ENERR,ENDAC S ENDAC=ENDA_"," D GETS^DIQ(6916.3,ENDAC,".01;1","E","END","ENERR")
"RTN","ENTIRX",69,0)
 . . W !,"Assignment Equip Entry# ",$G(END(6916.3,ENDAC,.01,"E"))," for ",$G(END(6916.3,ENDAC,1,"E"))," was not signed."
"RTN","ENTIRX",70,0)
 . . K ^TMP($J,"ENSIGN",ENDA)
"RTN","ENTIRX",71,0)
 G LSTSTART:'$D(DIRUT)
"RTN","ENTIRX",72,0)
LSTEXIT ;
"RTN","ENTIRX",73,0)
 K ^TMP($J,"ENSIGN"),^TMP($J,"ENITTR"),^TMP($J,"INDX"),^TMP($J,"SCR")
"RTN","ENTIRX",74,0)
 Q
"RTN","ENTIRX",75,0)
SIGNOK() ;Ask if want to sign for equipment
"RTN","ENTIRX",76,0)
 K DIR S DIR(0)="Y",DIR("A")="Do you want to sign to accept responsibility now",DIR("B")="NO"
"RTN","ENTIRX",77,0)
 D ^DIR K DIR
"RTN","ENTIRX",78,0)
 Q Y
"RTN","ENTIRX",79,0)
 ;
"RTN","ENTIRX",80,0)
 ;ENTIRX
"RTN","ENTIUTL")
0^10^B50248814^n/a
"RTN","ENTIUTL",1,0)
ENTIUTL ;WOIFO/SAB - Engineering Utilities ;2/14/2008
"RTN","ENTIUTL",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIUTL",3,0)
 ;
"RTN","ENTIUTL",4,0)
DISEQ(ENDA) ; Display Equipment
"RTN","ENTIUTL",5,0)
 N ENCMR,ENLOC,ENMFGR,ENMOD,ENNAM,ENSER,ENSVC
"RTN","ENTIUTL",6,0)
 ; display equipment data
"RTN","ENTIUTL",7,0)
 S ENCMR=$$GET1^DIQ(6914,ENDA,19)
"RTN","ENTIUTL",8,0)
 S ENLOC=$$GET1^DIQ(6914,ENDA,24)
"RTN","ENTIUTL",9,0)
 S ENSVC=$$GET1^DIQ(6914,ENDA,21)
"RTN","ENTIUTL",10,0)
 S ENNAM=$$GET1^DIQ(6914,ENDA,3)
"RTN","ENTIUTL",11,0)
 S ENMFGR=$$GET1^DIQ(6914,ENDA,1)
"RTN","ENTIUTL",12,0)
 S ENMOD=$$GET1^DIQ(6914,ENDA,4)
"RTN","ENTIUTL",13,0)
 S ENSER=$$GET1^DIQ(6914,ENDA,5)
"RTN","ENTIUTL",14,0)
 W !,"Entry #",?12,"CMR",?19,"Location",?41,"Using Service"
"RTN","ENTIUTL",15,0)
 W !,"---------",?12,"-----",?19,"--------------------"
"RTN","ENTIUTL",16,0)
 W ?41,"------------------------------"
"RTN","ENTIUTL",17,0)
 W !,ENDA,?12,ENCMR,?19,ENLOC,?41,ENSVC
"RTN","ENTIUTL",18,0)
 W !,ENNAM
"RTN","ENTIUTL",19,0)
 W !!,"Mfgr: ",ENMFGR
"RTN","ENTIUTL",20,0)
 W !,"Model: ",ENMOD,?39,"Serial #: ",ENSER
"RTN","ENTIUTL",21,0)
 Q
"RTN","ENTIUTL",22,0)
 ;
"RTN","ENTIUTL",23,0)
CAPEQ(ENDA,ENTAG,SITC,END) ; Captioned Equipment Display
"RTN","ENTIUTL",24,0)
 ; input
"RTN","ENTIUTL",25,0)
 ;   ENDA = equipment ien (file 6914)
"RTN","ENTIUTL",26,0)
 ;   ENTAG = (optional) line tag to call at page break
"RTN","ENTIUTL",27,0)
 ;         this utility expects there to be at least 5 lines to display
"RTN","ENTIUTL",28,0)
 ;         the normal data and will only issue page breaks during the
"RTN","ENTIUTL",29,0)
 ;         IT REMOTE LOCATION or IT COMMENTS output.
"RTN","ENTIUTL",30,0)
 ;   SITC = (optional) flag, true to suppress IT comments from printing
"RTN","ENTIUTL",31,0)
 ; output
"RTN","ENTIUTL",32,0)
 ;   END = true if user enter "^" or timed-out, passed by reference
"RTN","ENTIUTL",33,0)
 N ENCMR,ENI,ENITRL,ENLOC,ENLOCS,ENMFGR,ENMOD,ENNAM,ENSER,ENSVC,X
"RTN","ENTIUTL",34,0)
 S ENTAG=$G(ENTAG,"CAPEQHD^ENTIUTL")
"RTN","ENTIUTL",35,0)
 S END=$G(END)
"RTN","ENTIUTL",36,0)
 ; display equipment data
"RTN","ENTIUTL",37,0)
 S ENCMR=$$GET1^DIQ(6914,ENDA,19)
"RTN","ENTIUTL",38,0)
 S ENLOC=$$GET1^DIQ(6914,ENDA,24)
"RTN","ENTIUTL",39,0)
 S ENLOCS=$$GET1^DIQ(6914,ENDA,"24:1.5")
"RTN","ENTIUTL",40,0)
 S ENSVC=$$GET1^DIQ(6914,ENDA,21)
"RTN","ENTIUTL",41,0)
 S ENNAM=$$GET1^DIQ(6914,ENDA,3)
"RTN","ENTIUTL",42,0)
 S ENMFGR=$$GET1^DIQ(6914,ENDA,1)
"RTN","ENTIUTL",43,0)
 S ENMOD=$$GET1^DIQ(6914,ENDA,4)
"RTN","ENTIUTL",44,0)
 S ENSER=$$GET1^DIQ(6914,ENDA,5)
"RTN","ENTIUTL",45,0)
 W !,"Entry #: ",ENDA,?21,"CMR: ",ENCMR,?33,"Using Service: ",ENSVC
"RTN","ENTIUTL",46,0)
 W !,?2,"Location: ",ENLOC,?34,"Svc of Location: ",ENLOCS
"RTN","ENTIUTL",47,0)
 W !,?2,"Mfgr Name: ",$E(ENNAM,1,65) W:$E(ENNAM,66,80)]"" "*"
"RTN","ENTIUTL",48,0)
 W !,?2,"Mfgr: ",ENMFGR
"RTN","ENTIUTL",49,0)
 W !,?2,"Model: ",ENMOD,?41,"Ser. #: ",ENSER
"RTN","ENTIUTL",50,0)
 S ENITRL=$$GET1^DIQ(6914,ENDA,91)
"RTN","ENTIUTL",51,0)
 I ENITRL]"" D  Q:END
"RTN","ENTIUTL",52,0)
 . I $Y+3>IOSL D @ENTAG Q:END  D CAPEQHD1
"RTN","ENTIUTL",53,0)
 . N DIWF,DIWL,DIWR,X
"RTN","ENTIUTL",54,0)
 . K ^UTILITY($J,"W")
"RTN","ENTIUTL",55,0)
 . S DIWL=3,DIWR=79,DIWF="W|"
"RTN","ENTIUTL",56,0)
 . S X="IT Remote Location: " D ^DIWP
"RTN","ENTIUTL",57,0)
 . S X=ENITRL D ^DIWP
"RTN","ENTIUTL",58,0)
 . D ^DIWW
"RTN","ENTIUTL",59,0)
 I '$G(SITC),$O(^ENG(6914,ENDA,"ITC",0)) D
"RTN","ENTIUTL",60,0)
 . N DIWF,DIWL,DIWR,X
"RTN","ENTIUTL",61,0)
 . K ^UTILITY($J,"W")
"RTN","ENTIUTL",62,0)
 . S DIWL=3,DIWR=79,DIWF="W|"
"RTN","ENTIUTL",63,0)
 . S X="IT Comments: " D ^DIWP
"RTN","ENTIUTL",64,0)
 . S ENI=0 F  S ENI=$O(^ENG(6914,ENDA,"ITC",ENI)) Q:'ENI  D  Q:END
"RTN","ENTIUTL",65,0)
 . . I $Y+3>IOSL D @ENTAG Q:END  D CAPEQHD1
"RTN","ENTIUTL",66,0)
 . . S X=$G(^ENG(6914,ENDA,"ITC",ENI,0)) D ^DIWP
"RTN","ENTIUTL",67,0)
 . I END K ^UTILITY($J,"W") Q
"RTN","ENTIUTL",68,0)
 . I $Y+3>IOSL D @ENTAG I END K ^UTILITY($J,"W") Q
"RTN","ENTIUTL",69,0)
 . D ^DIWW
"RTN","ENTIUTL",70,0)
 Q
"RTN","ENTIUTL",71,0)
 ;
"RTN","ENTIUTL",72,0)
CAPEQHD ; Captioned Equipment Display Default Header
"RTN","ENTIUTL",73,0)
 I $E(IOST,1,2)="C-" S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIUTL",74,0)
 W @IOF
"RTN","ENTIUTL",75,0)
 Q
"RTN","ENTIUTL",76,0)
CAPEQHD1 ; Captioned Equipment Display Second Header
"RTN","ENTIUTL",77,0)
 W "Equipment Entry #: ",ENDA," (continued)"
"RTN","ENTIUTL",78,0)
 Q
"RTN","ENTIUTL",79,0)
 ;
"RTN","ENTIUTL",80,0)
DISASGN(ENDA) ; Display Active Assignments for Equipment to Screen
"RTN","ENTIUTL",81,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENADA,END,ENSTAT,X,Y
"RTN","ENTIUTL",82,0)
 ; display assignment data
"RTN","ENTIUTL",83,0)
 S END=0
"RTN","ENTIUTL",84,0)
 D DISASGNH
"RTN","ENTIUTL",85,0)
 I '$D(^ENG(6916.3,"AEA",ENDA)) W !," no active assignments" Q
"RTN","ENTIUTL",86,0)
 S ENADA=0
"RTN","ENTIUTL",87,0)
 F  S ENADA=$O(^ENG(6916.3,"AEA",ENDA,ENADA)) Q:'ENADA  D  Q:END
"RTN","ENTIUTL",88,0)
 . I $Y+4>IOSL D  Q:END
"RTN","ENTIUTL",89,0)
 . . S DIR(0)="E" D ^DIR K DIR I 'Y S END=1 Q
"RTN","ENTIUTL",90,0)
 . . W @(IOF) D DISASGNH W !," Entry #: ",ENDA," (continued)"
"RTN","ENTIUTL",91,0)
 . W !,$$GET1^DIQ(6916.3,ENADA,1)
"RTN","ENTIUTL",92,0)
 . W ?32,$P($$GET1^DIQ(6916.3,ENADA,2),"@")
"RTN","ENTIUTL",93,0)
 . S ENSTAT=$$GET1^DIQ(6916.3,ENADA,20)
"RTN","ENTIUTL",94,0)
 . W ?46,ENSTAT
"RTN","ENTIUTL",95,0)
 . I ENSTAT'="ASSIGNED" W ?57,$$GET1^DIQ(6916.3,ENADA,21)
"RTN","ENTIUTL",96,0)
 Q
"RTN","ENTIUTL",97,0)
DISASGNH ; Display Assignments Header
"RTN","ENTIUTL",98,0)
 W !!,"Responsible Person",?32,"Assigned DT",?46,"Status",?57,"Status DT"
"RTN","ENTIUTL",99,0)
 W !,"------------------------------",?32,"------------"
"RTN","ENTIUTL",100,0)
 W ?46,"---------",?57,"------------"
"RTN","ENTIUTL",101,0)
 Q
"RTN","ENTIUTL",102,0)
 ;
"RTN","ENTIUTL",103,0)
BLDHL2(ENSM,ENSMV,ENSRT) ; Build Header Line 2 String for Reports
"RTN","ENTIUTL",104,0)
 ; input
"RTN","ENTIUTL",105,0)
 ;   ENSM  = equipment selection method code
"RTN","ENTIUTL",106,0)
 ;   ENSMV = selection method ien value (for applicable methods)
"RTN","ENTIUTL",107,0)
 ;   ENSRT = sort by code
"RTN","ENTIUTL",108,0)
 ; returns string for page header second line
"RTN","ENTIUTL",109,0)
 N ENHL2
"RTN","ENTIUTL",110,0)
 ;
"RTN","ENTIUTL",111,0)
 S ENHL2=" for "
"RTN","ENTIUTL",112,0)
 S:ENSM="A" ENHL2=ENHL2_"All tracked IT equipment"
"RTN","ENTIUTL",113,0)
 S:ENSM="E" ENHL2=ENHL2_"selected equipment"
"RTN","ENTIUTL",114,0)
 S:ENSM="C" ENHL2=ENHL2_"CMR: "_$$GET1^DIQ(6914.1,ENSMV,.01)
"RTN","ENTIUTL",115,0)
 S:ENSM="U" ENHL2=ENHL2_"Using Service: "_$$GET1^DIQ(49,ENSMV,.01)
"RTN","ENTIUTL",116,0)
 S:ENSM="L" ENHL2=ENHL2_"Location: "_$$GET1^DIQ(6928,ENSMV,.01)
"RTN","ENTIUTL",117,0)
 S:ENSM="S" ENHL2=ENHL2_"Service of Loc: "_$$GET1^DIQ(49,ENSMV,.01)
"RTN","ENTIUTL",118,0)
 S ENHL2=ENHL2_" sorted by "
"RTN","ENTIUTL",119,0)
 S:ENSRT="E" ENHL2=ENHL2_"Entry #"
"RTN","ENTIUTL",120,0)
 S:ENSRT="C" ENHL2=ENHL2_"CMR"
"RTN","ENTIUTL",121,0)
 S:ENSRT="U" ENHL2=ENHL2_"Using Service"
"RTN","ENTIUTL",122,0)
 S:ENSRT="L" ENHL2=ENHL2_"Location"
"RTN","ENTIUTL",123,0)
 S:ENSRT="S" ENHL2=ENHL2_"Service of Loc."
"RTN","ENTIUTL",124,0)
 ;
"RTN","ENTIUTL",125,0)
 Q ENHL2
"RTN","ENTIUTL",126,0)
 ;
"RTN","ENTIUTL",127,0)
ADDNP ; Add New Person
"RTN","ENTIUTL",128,0)
 ; called by option ENIT ADD NEW PERSON
"RTN","ENTIUTL",129,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENX,X,Y
"RTN","ENTIUTL",130,0)
 W !!,"This option should only be used to add a person to the NEW PERSON"
"RTN","ENTIUTL",131,0)
 W !,"(#200) file when that person will be assigned responsibility for"
"RTN","ENTIUTL",132,0)
 W !,"IT equipment but is not already in the file and will NOT be given"
"RTN","ENTIUTL",133,0)
 W !,"a user account to sign on the computer.",!
"RTN","ENTIUTL",134,0)
 ;
"RTN","ENTIUTL",135,0)
 S DIR(0)="Y"
"RTN","ENTIUTL",136,0)
 S DIR("A")="Do you want to add an entry to the NEW PERSON file"
"RTN","ENTIUTL",137,0)
 S DIR("B")="NO"
"RTN","ENTIUTL",138,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ENTIUTL",139,0)
 ;
"RTN","ENTIUTL",140,0)
 I Y W ! S ENX=$$ADD^XUSERNEW()
"RTN","ENTIUTL",141,0)
 I $P($G(ENX),U)>0,'$P(ENX,U,3) D
"RTN","ENTIUTL",142,0)
 . W !!,$P(ENX,U,2)," already exists with internal number ",$P(ENX,U),"."
"RTN","ENTIUTL",143,0)
 . W !,"If you want to enter a new record with that name, enter the"
"RTN","ENTIUTL",144,0)
 . W !,"name within quotes (e.g. ""Last,First"")",!
"RTN","ENTIUTL",145,0)
 Q
"RTN","ENTIUTL",146,0)
 ;
"RTN","ENTIUTL",147,0)
USRTRM ;Send MailMan message when user with active assignments is terminated
"RTN","ENTIUTL",148,0)
 Q:'$D(^ENG(6916.3,"AOA",XUIFN))
"RTN","ENTIUTL",149,0)
 N ENDA,ENERR,ENI,ENL,ENMFGNM,ENNAME,ENSPACE,ENTX,ENNBR,ENSTATUS,ENDATE,ENX,XMDUZ,XMMG,XMROU,XMSTRIP,XMSUB,XMTEXT,XMY,XMYBLOB,XMZ
"RTN","ENTIUTL",150,0)
 K ^TMP($J,"ENITUTL") S ENDA=XUIFN,$P(ENSPACE," ",41)=""
"RTN","ENTIUTL",151,0)
 D FIND^DIC(6916.3,"","@;.01;1;20;21","PQ",ENDA,"","AOA","","","^TMP($J,""ENITUTL"")","ENERR")
"RTN","ENTIUTL",152,0)
 I $P($G(^TMP($J,"ENITUTL","DILIST",0)),U)'>0 K ^TMP($J,"ENITUTL") Q
"RTN","ENTIUTL",153,0)
 S ENNAME=$$GET1^DIQ(200,ENDA_",",".01","","","ENERR")
"RTN","ENTIUTL",154,0)
 S ENTX(1)="Owner: "_ENNAME_" ("_ENDA_")"
"RTN","ENTIUTL",155,0)
 S ENTX(2)="was terminated while having the following active IT responsibility assignments:"
"RTN","ENTIUTL",156,0)
 S ENTX(3)=" ",ENTX(4)="Entry#"_$E(ENSPACE,1,6)_"Mfg Equip Name"_$E(ENSPACE,1,11)_"Assignment Status"_$E(ENSPACE,1,3)_"Status Date",ENL=4
"RTN","ENTIUTL",157,0)
 S ENI=0
"RTN","ENTIUTL",158,0)
 F  S ENI=$O(^TMP($J,"ENITUTL","DILIST",ENI)) Q:+ENI'=ENI  D
"RTN","ENTIUTL",159,0)
 . S ENX=$G(^TMP($J,"ENITUTL","DILIST",ENI,0)) Q:ENX=""
"RTN","ENTIUTL",160,0)
 . S ENNBR=$P(ENX,U,2),ENSTATUS=$P(ENX,U,4),ENDATE=$P(ENX,U,5)
"RTN","ENTIUTL",161,0)
 . S ENMFGNM=$E($$GET1^DIQ(6914,ENNBR_",","3","","","ENERR"),1,20)
"RTN","ENTIUTL",162,0)
 . S ENL=ENL+1,ENTX(ENL)=ENNBR_$E(ENSPACE,$L(ENNBR)+1,12)_ENMFGNM_$E(ENSPACE,$L(ENMFGNM)+1,25)_ENSTATUS_$E(ENSPACE,$L(ENSTATUS)+1,20)_ENDATE
"RTN","ENTIUTL",163,0)
 S ENL=ENL+1,ENTX(ENL)=" ",ENL=ENL+1,ENTX(ENL)="   Number of Items= "_($P($G(^TMP($J,"ENITUTL","DILIST",0)),U)+0)
"RTN","ENTIUTL",164,0)
 S ENL=ENL+1,ENTX(ENL)=" ",ENL=ENL+1,ENTX(ENL)="These IT assignments are still active for "_ENNAME_".",ENL=ENL+1,ENTX(ENL)="If appropriate, use the transfer or terminate option to make changes."
"RTN","ENTIUTL",165,0)
 S XMDUZ="AEMS/MERS",XMSUB="Assigned Equipment of Terminated Owner: "_ENNAME
"RTN","ENTIUTL",166,0)
 S XMY("G.EN IT EQUIPMENT")="",XMTEXT="ENTX("
"RTN","ENTIUTL",167,0)
 D ^XMD
"RTN","ENTIUTL",168,0)
 K ^TMP($J,"ENITUTL")
"RTN","ENTIUTL",169,0)
 Q
"RTN","ENTIUTL",170,0)
 ;
"RTN","ENTIUTL",171,0)
 ;ENITUTL
"RTN","ENTIUTL1")
0^20^B16940686^n/a
"RTN","ENTIUTL1",1,0)
ENTIUTL1 ;WOIFO/SAB - Engineering Utilities ;2/4/2008
"RTN","ENTIUTL1",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIUTL1",3,0)
 ; this routine contains APIs that create or modify IT assignment data
"RTN","ENTIUTL1",4,0)
 ;
"RTN","ENTIUTL1",5,0)
ASGN(ENDA,EN200) ; Assign Equipment Responsibility
"RTN","ENTIUTL1",6,0)
 ; input
"RTN","ENTIUTL1",7,0)
 ;   ENDA = equipment ien (file 6914)
"RTN","ENTIUTL1",8,0)
 ;   EN200 = owner ien (file 200)
"RTN","ENTIUTL1",9,0)
 ; returns value =
"RTN","ENTIUTL1",10,0)
 ;    0 (already exists) or
"RTN","ENTIUTL1",11,0)
 ;    E (error) or
"RTN","ENTIUTL1",12,0)
 ;    internal entry number of the created record (positive integer)
"RTN","ENTIUTL1",13,0)
 N ENERR,ENFDA,ENIEN,ENRET
"RTN","ENTIUTL1",14,0)
 S ENRET=0
"RTN","ENTIUTL1",15,0)
 ; only create if owner does not have an active assignment for the item
"RTN","ENTIUTL1",16,0)
 I '$D(^ENG(6916.3,"AOA",EN200,ENDA)) D
"RTN","ENTIUTL1",17,0)
 . S ENFDA(6916.3,"+1,",.01)=ENDA
"RTN","ENTIUTL1",18,0)
 . S ENFDA(6916.3,"+1,",1)=EN200
"RTN","ENTIUTL1",19,0)
 . S ENFDA(6916.3,"+1,",2)=$$NOW^XLFDT()
"RTN","ENTIUTL1",20,0)
 . S ENFDA(6916.3,"+1,",3)=DUZ
"RTN","ENTIUTL1",21,0)
 . D UPDATE^DIE("","ENFDA","ENIEN","ENERR")
"RTN","ENTIUTL1",22,0)
 . S ENRET=$S($D(ENERR):"E",1:ENIEN(1))
"RTN","ENTIUTL1",23,0)
 ;
"RTN","ENTIUTL1",24,0)
 Q ENRET
"RTN","ENTIUTL1",25,0)
 ;
"RTN","ENTIUTL1",26,0)
SIGN(ENDA) ; Sign Equipment Responsibility
"RTN","ENTIUTL1",27,0)
 ; input
"RTN","ENTIUTL1",28,0)
 ;   ENDA = assignment ien (file 6916.3)
"RTN","ENTIUTL1",29,0)
 ; returns value = 1 (signed) or 0 (not active) or E (error)
"RTN","ENTIUTL1",30,0)
 N ENERR,ENFDA,ENHRT,ENRET,ENSTR,ENSTRH,ENY,X,X1,X2
"RTN","ENTIUTL1",31,0)
 S ENRET=0
"RTN","ENTIUTL1",32,0)
 ; only sign if assignment is active
"RTN","ENTIUTL1",33,0)
 I $P($G(^ENG(6916.3,ENDA,0)),U,8)="" D
"RTN","ENTIUTL1",34,0)
 . S ENHRT=$O(^ENG(6916.2," "),-1) ; current hand receipt text ien
"RTN","ENTIUTL1",35,0)
 . I 'ENHRT S ENRET="E" Q  ; required
"RTN","ENTIUTL1",36,0)
 . ;
"RTN","ENTIUTL1",37,0)
 . ; if already signed or certified then retain that data in history
"RTN","ENTIUTL1",38,0)
 . D SAVSIG
"RTN","ENTIUTL1",39,0)
 . I $D(ENERR) S ENRET="E" Q  ; error during DBS call
"RTN","ENTIUTL1",40,0)
 . ;
"RTN","ENTIUTL1",41,0)
 . ; build signature block string
"RTN","ENTIUTL1",42,0)
 . S ENY=$G(^ENG(6916.3,ENDA,0))
"RTN","ENTIUTL1",43,0)
 . S ENSTR=$$ESBLOCK^XUSESIG1()
"RTN","ENTIUTL1",44,0)
 . S ENSTR=ENSTR_U_$P(ENY,U) ; equipment ien
"RTN","ENTIUTL1",45,0)
 . S ENSTR=ENSTR_U_$P(ENY,U,2) ; owner ien
"RTN","ENTIUTL1",46,0)
 . S ENSTR=ENSTR_U_ENHRT ; hand receipt text ien
"RTN","ENTIUTL1",47,0)
 . S ENSTR=ENSTR_U_$$GET1^DIQ(6916.2,ENHRT,3) ; hand receipt checksum
"RTN","ENTIUTL1",48,0)
 . S X=ENSTR,X1=ENDA,X2=1 D EN^XUSHSHP S ENSTRH=X ; hashed string
"RTN","ENTIUTL1",49,0)
 . ;
"RTN","ENTIUTL1",50,0)
 . ; set up FDA array for DBS call
"RTN","ENTIUTL1",51,0)
 . S ENFDA(6916.3,ENDA_",",4)=$P(ENSTR,U,4) ; signed date/time
"RTN","ENTIUTL1",52,0)
 . S ENFDA(6916.3,ENDA_",",5)=ENHRT ; hand receipt text
"RTN","ENTIUTL1",53,0)
 . S ENFDA(6916.3,ENDA_",",5.9)="@" ; may be leftover from prior cert
"RTN","ENTIUTL1",54,0)
 . S ENFDA(6916.3,ENDA_",",6)="@" ; may be leftover from prior cert
"RTN","ENTIUTL1",55,0)
 . S ENFDA(6916.3,ENDA_",",9)=ENSTRH ; encrypted string
"RTN","ENTIUTL1",56,0)
 . ;
"RTN","ENTIUTL1",57,0)
 . D FILE^DIE("","ENFDA","ENERR")
"RTN","ENTIUTL1",58,0)
 . S ENRET=$S($D(ENERR):"E",1:1)
"RTN","ENTIUTL1",59,0)
 ;
"RTN","ENTIUTL1",60,0)
 Q ENRET
"RTN","ENTIUTL1",61,0)
 ;
"RTN","ENTIUTL1",62,0)
CERT(ENDA,ENDT) ; Certify Signature for Equipment Responsibility
"RTN","ENTIUTL1",63,0)
 ; input
"RTN","ENTIUTL1",64,0)
 ;   ENDA = assignment ien (file 6916.3)
"RTN","ENTIUTL1",65,0)
 ;   ENDT = date of signature (FileMan internal date)
"RTN","ENTIUTL1",66,0)
 ; returns value = 1 (created) or 0 (not active) or E (error)
"RTN","ENTIUTL1",67,0)
 N ENERR,ENFDA,ENHRT,ENRET
"RTN","ENTIUTL1",68,0)
 S ENRET=0
"RTN","ENTIUTL1",69,0)
 ; only certify if assignment is active
"RTN","ENTIUTL1",70,0)
 I $P($G(^ENG(6916.3,ENDA,0)),U,8)="" D
"RTN","ENTIUTL1",71,0)
 . I $G(ENDT)'?7N S ENRET="E" Q  ; required
"RTN","ENTIUTL1",72,0)
 . ;
"RTN","ENTIUTL1",73,0)
 . S ENHRT=$O(^ENG(6916.2," "),-1) ; current hand receipt text ien
"RTN","ENTIUTL1",74,0)
 . I 'ENHRT S ENRET="E" Q  ; required
"RTN","ENTIUTL1",75,0)
 . ;
"RTN","ENTIUTL1",76,0)
 . ; if already signed or certified then retain that data in history
"RTN","ENTIUTL1",77,0)
 . D SAVSIG
"RTN","ENTIUTL1",78,0)
 . I $D(ENERR) S ENRET="E" Q  ; error during DBS call
"RTN","ENTIUTL1",79,0)
 . ;
"RTN","ENTIUTL1",80,0)
 . ; set data for a certification
"RTN","ENTIUTL1",81,0)
 . S ENFDA(6916.3,ENDA_",",4)=ENDT
"RTN","ENTIUTL1",82,0)
 . S ENFDA(6916.3,ENDA_",",5)=ENHRT
"RTN","ENTIUTL1",83,0)
 . S ENFDA(6916.3,ENDA_",",5.9)=$$NOW^XLFDT()
"RTN","ENTIUTL1",84,0)
 . S ENFDA(6916.3,ENDA_",",6)=DUZ
"RTN","ENTIUTL1",85,0)
 . S ENFDA(6916.3,ENDA_",",9)="@" ; may be leftover from prior e-sig
"RTN","ENTIUTL1",86,0)
 . ;
"RTN","ENTIUTL1",87,0)
 . D FILE^DIE("","ENFDA","ENERR")
"RTN","ENTIUTL1",88,0)
 . S ENRET=$S($D(ENERR):"E",1:1)
"RTN","ENTIUTL1",89,0)
 ;
"RTN","ENTIUTL1",90,0)
 Q ENRET
"RTN","ENTIUTL1",91,0)
 ;
"RTN","ENTIUTL1",92,0)
TERM(ENDA) ; Terminate Equipment Responsibility Assignment
"RTN","ENTIUTL1",93,0)
 ; input
"RTN","ENTIUTL1",94,0)
 ;   ENDA = assignment ien (file 6916.3)
"RTN","ENTIUTL1",95,0)
 ; returns value = 1 (created) or 0 (not active) or E (error)
"RTN","ENTIUTL1",96,0)
 N ENERR,ENFDA,ENRET
"RTN","ENTIUTL1",97,0)
 S ENRET=0
"RTN","ENTIUTL1",98,0)
 ; only terminate if assignment is active
"RTN","ENTIUTL1",99,0)
 I $P($G(^ENG(6916.3,ENDA,0)),U,8)="" D
"RTN","ENTIUTL1",100,0)
 . S ENFDA(6916.3,ENDA_",",7)=$$NOW^XLFDT()
"RTN","ENTIUTL1",101,0)
 . S ENFDA(6916.3,ENDA_",",8)=DUZ
"RTN","ENTIUTL1",102,0)
 . D FILE^DIE("","ENFDA","ENERR")
"RTN","ENTIUTL1",103,0)
 . S ENRET=$S($D(ENERR):"E",1:1)
"RTN","ENTIUTL1",104,0)
 ;
"RTN","ENTIUTL1",105,0)
 Q ENRET
"RTN","ENTIUTL1",106,0)
 ;
"RTN","ENTIUTL1",107,0)
SAVSIG ; Save current signature data (if any) to previous signature multiple
"RTN","ENTIUTL1",108,0)
 ; input ENDA = ien of assignment (file 6916.3)
"RTN","ENTIUTL1",109,0)
 ; result = may create entry in subfile 6916.31
"RTN","ENTIUTL1",110,0)
 ; output ENERR - only defined if there was an error during DBS call
"RTN","ENTIUTL1",111,0)
 N ENFDA,ENY,ENY1
"RTN","ENTIUTL1",112,0)
 ; if already signed or certified then retain that data in history
"RTN","ENTIUTL1",113,0)
 S ENY=$G(^ENG(6916.3,ENDA,0))
"RTN","ENTIUTL1",114,0)
 Q:'$P(ENY,U,5)  ; not signed or certified
"RTN","ENTIUTL1",115,0)
 S ENY1=$G(^ENG(6916.3,ENDA,1))
"RTN","ENTIUTL1",116,0)
 ;
"RTN","ENTIUTL1",117,0)
 S ENFDA(6916.31,"+1,"_ENDA_",",.01)=$P(ENY,U,5)
"RTN","ENTIUTL1",118,0)
 I $P(ENY,U,6) S ENFDA(6916.31,"+1,"_ENDA_",",1)=$P(ENY,U,6)
"RTN","ENTIUTL1",119,0)
 I $P(ENY,U,10) S ENFDA(6916.31,"+1,"_ENDA_",",2)=$P(ENY,U,10)
"RTN","ENTIUTL1",120,0)
 I $P(ENY,U,7) S ENFDA(6916.31,"+1,"_ENDA_",",3)=$P(ENY,U,7)
"RTN","ENTIUTL1",121,0)
 I $P(ENY1,U)]"" S ENFDA(6916.31,"+1,"_ENDA_",",4)=$P(ENY1,U)
"RTN","ENTIUTL1",122,0)
 ;
"RTN","ENTIUTL1",123,0)
 D UPDATE^DIE("","ENFDA","","ENERR")
"RTN","ENTIUTL1",124,0)
 ;
"RTN","ENTIUTL1",125,0)
 Q
"RTN","ENTIUTL1",126,0)
 ;
"RTN","ENTIUTL1",127,0)
 ;ENTIUTL1
"RTN","ENTIUTL2")
0^21^B53889224^n/a
"RTN","ENTIUTL2",1,0)
ENTIUTL2 ;WOIFO/SAB - Find and Sort Equipment Utilities ;2/14/2008
"RTN","ENTIUTL2",2,0)
 ;;7.0;ENGINEERING;**87**;Aug 17, 1993;Build 16
"RTN","ENTIUTL2",3,0)
 ;
"RTN","ENTIUTL2",4,0)
ASKEQSM(ENAML,ENDM) ; Ask Equipment Selection Method
"RTN","ENTIUTL2",5,0)
 ; input
"RTN","ENTIUTL2",6,0)
 ;   ENAML = allowed method list, may contain the following characters
"RTN","ENTIUTL2",7,0)
 ;           A = all equipment
"RTN","ENTIUTL2",8,0)
 ;           E = by Entry #
"RTN","ENTIUTL2",9,0)
 ;           C = by CMR
"RTN","ENTIUTL2",10,0)
 ;           U = by using service
"RTN","ENTIUTL2",11,0)
 ;           L = by location
"RTN","ENTIUTL2",12,0)
 ;           S = by service of location
"RTN","ENTIUTL2",13,0)
 ;        example "ECULS"
"RTN","ENTIUTL2",14,0)
 ;   ENDM = (optional) default method 
"RTN","ENTIUTL2",15,0)
 ; returns null if no method selected or
"RTN","ENTIUTL2",16,0)
 ;         piece 1 = A, E, C, U, L, or S if a method was selected
"RTN","ENTIUTL2",17,0)
 ;         piece 2 = specified value when method is C, U, L, or S
"RTN","ENTIUTL2",18,0)
 ;         e.g.  "C^12" for CMR with internal entry number = 12 
"RTN","ENTIUTL2",19,0)
 ;
"RTN","ENTIUTL2",20,0)
 N DIC,DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENRET,ENVAL,X,Y
"RTN","ENTIUTL2",21,0)
 S ENRET="",ENVAL=""
"RTN","ENTIUTL2",22,0)
 ;
"RTN","ENTIUTL2",23,0)
 ; ask method
"RTN","ENTIUTL2",24,0)
 S DIR(0)="S^"
"RTN","ENTIUTL2",25,0)
 I ENAML["A" S DIR(0)=DIR(0)_"A:ALL TRACKED IT EQUIPMENT;"
"RTN","ENTIUTL2",26,0)
 I ENAML["E" S DIR(0)=DIR(0)_"E:ENTRY #;"
"RTN","ENTIUTL2",27,0)
 I ENAML["C" S DIR(0)=DIR(0)_"C:CMR;"
"RTN","ENTIUTL2",28,0)
 I ENAML["U" S DIR(0)=DIR(0)_"U:USING SERVICE;"
"RTN","ENTIUTL2",29,0)
 I ENAML["L" S DIR(0)=DIR(0)_"L:LOCATION;"
"RTN","ENTIUTL2",30,0)
 I ENAML["S" S DIR(0)=DIR(0)_"S:SERVICE OF LOCATION;"
"RTN","ENTIUTL2",31,0)
 Q:DIR(0)="S^" ENRET
"RTN","ENTIUTL2",32,0)
 ; remove trailing ;
"RTN","ENTIUTL2",33,0)
 I $E(DIR(0),$L(DIR(0)))=";" S DIR(0)=$E(DIR(0),1,$L(DIR(0))-1)
"RTN","ENTIUTL2",34,0)
 S DIR("A")="Specify method to select equipment by"
"RTN","ENTIUTL2",35,0)
 I $G(ENDM)]"" S DIR("B")=ENDM
"RTN","ENTIUTL2",36,0)
 S DIR("?")="Enter a code from the list."
"RTN","ENTIUTL2",37,0)
 S DIR("?",1)="The system considers tracked IT equipment to be"
"RTN","ENTIUTL2",38,0)
 S DIR("?",2)="equipment that is on a CMR with IT TRACKING = YES."
"RTN","ENTIUTL2",39,0)
 S DIR("?",3)=" "
"RTN","ENTIUTL2",40,0)
 D ^DIR
"RTN","ENTIUTL2",41,0)
 I '$D(DIRUT) S ENRET=Y
"RTN","ENTIUTL2",42,0)
 ;
"RTN","ENTIUTL2",43,0)
 ; ask a value for applicable methods
"RTN","ENTIUTL2",44,0)
 ;
"RTN","ENTIUTL2",45,0)
 ; method C - by CMR
"RTN","ENTIUTL2",46,0)
 I ENRET="C" D
"RTN","ENTIUTL2",47,0)
 . ; ask CMR
"RTN","ENTIUTL2",48,0)
 . S DIC("S")="I $P($G(^(0)),U,9)=1" ; screen IT TRACKING = YES
"RTN","ENTIUTL2",49,0)
 . S DIC="^ENG(6914.1,"
"RTN","ENTIUTL2",50,0)
 . S DIC(0)="AQEM"
"RTN","ENTIUTL2",51,0)
 . D ^DIC K DIC I Y<1 S ENRET="" Q
"RTN","ENTIUTL2",52,0)
 . S ENVAL=+Y
"RTN","ENTIUTL2",53,0)
 ;
"RTN","ENTIUTL2",54,0)
 ; method U - by using service
"RTN","ENTIUTL2",55,0)
 I ENRET="U" D
"RTN","ENTIUTL2",56,0)
 . ; ask USING SERVICE
"RTN","ENTIUTL2",57,0)
 . S DIC("S")="I $D(^ENG(6914,""AC"",+Y))" ; screen services with equip
"RTN","ENTIUTL2",58,0)
 . S DIC="^DIC(49,"
"RTN","ENTIUTL2",59,0)
 . S DIC(0)="AQEM"
"RTN","ENTIUTL2",60,0)
 . D ^DIC K DIC I Y<1 S ENRET="" Q
"RTN","ENTIUTL2",61,0)
 . S ENVAL=+Y
"RTN","ENTIUTL2",62,0)
 ;
"RTN","ENTIUTL2",63,0)
 ; method L - by location
"RTN","ENTIUTL2",64,0)
 I ENRET="L" D
"RTN","ENTIUTL2",65,0)
 . ; ask LOCATION
"RTN","ENTIUTL2",66,0)
 . S DIC("S")="I $D(^ENG(6914,""D"",+Y))" ; screen locations with equip
"RTN","ENTIUTL2",67,0)
 . S DIC="^ENG(""SP"","
"RTN","ENTIUTL2",68,0)
 . S DIC(0)="AQEM"
"RTN","ENTIUTL2",69,0)
 . D ^DIC K DIC I Y<1 S ENRET="" Q
"RTN","ENTIUTL2",70,0)
 . S ENVAL=+Y
"RTN","ENTIUTL2",71,0)
 ;
"RTN","ENTIUTL2",72,0)
 ; method S - by service of location
"RTN","ENTIUTL2",73,0)
 I ENRET="S" D
"RTN","ENTIUTL2",74,0)
 . ; ask SERVICE
"RTN","ENTIUTL2",75,0)
 . S DIC("S")="I $D(^ENG(""SP"",""D"",+Y))" ; screen services with space
"RTN","ENTIUTL2",76,0)
 . S DIC="^DIC(49,"
"RTN","ENTIUTL2",77,0)
 . S DIC(0)="AQEM"
"RTN","ENTIUTL2",78,0)
 . D ^DIC K DIC I Y<1 S ENRET="" Q
"RTN","ENTIUTL2",79,0)
 . S ENVAL=+Y
"RTN","ENTIUTL2",80,0)
 ;
"RTN","ENTIUTL2",81,0)
 I ENVAL]"" S ENRET=ENRET_"^"_ENVAL
"RTN","ENTIUTL2",82,0)
 Q ENRET
"RTN","ENTIUTL2",83,0)
 ;
"RTN","ENTIUTL2",84,0)
ASKIAEQ() ; Ask Include Assigned Equipment
"RTN","ENTIUTL2",85,0)
 ;
"RTN","ENTIUTL2",86,0)
 ; returns null if time-out or uparrorw
"RTN","ENTIUTL2",87,0)
 ;         1 if assigned equipment should be included
"RTN","ENTIUTL2",88,0)
 ;         0 if not
"RTN","ENTIUTL2",89,0)
 ;
"RTN","ENTIUTL2",90,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENRET,X,Y
"RTN","ENTIUTL2",91,0)
 S ENRET=""
"RTN","ENTIUTL2",92,0)
 S DIR(0)="Y"
"RTN","ENTIUTL2",93,0)
 S DIR("A")="Include equipment with an existing active assignment"
"RTN","ENTIUTL2",94,0)
 S DIR("B")="NO"
"RTN","ENTIUTL2",95,0)
 D ^DIR
"RTN","ENTIUTL2",96,0)
 I '$D(DIRUT) S ENRET=Y
"RTN","ENTIUTL2",97,0)
 Q ENRET
"RTN","ENTIUTL2",98,0)
 ;
"RTN","ENTIUTL2",99,0)
ASKEQSRT(ENSM,ENDM) ; Ask Equipment Sort
"RTN","ENTIUTL2",100,0)
 ; input ENSM = (optional) selection method
"RTN","ENTIUTL2",101,0)
 ;              if method is E then sort is set to E
"RTN","ENTIUTL2",102,0)
 ;       ENDM = (optional) default sort method
"RTN","ENTIUTL2",103,0)
 ;
"RTN","ENTIUTL2",104,0)
 ; returns null if no sort selected
"RTN","ENTIUTL2",105,0)
 ;         E, C, U, L, or S if a sort was selected
"RTN","ENTIUTL2",106,0)
 ;
"RTN","ENTIUTL2",107,0)
 N DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENRET,X,Y
"RTN","ENTIUTL2",108,0)
 S ENRET=""
"RTN","ENTIUTL2",109,0)
 I $G(ENSM)="E" S ENRET="E"
"RTN","ENTIUTL2",110,0)
 E  D
"RTN","ENTIUTL2",111,0)
 . S DIR(0)="S^E:ENTRY #;C:CMR;U:USING SERVICE;L:LOCATION;S:SERVICE OF LOCATION"
"RTN","ENTIUTL2",112,0)
 . S DIR("A")="Sort equipment by"
"RTN","ENTIUTL2",113,0)
 . I $G(ENDM)]"" S DIR("B")=ENDM
"RTN","ENTIUTL2",114,0)
 . D ^DIR K DIR
"RTN","ENTIUTL2",115,0)
 . I '$D(DIRUT) S ENRET=Y
"RTN","ENTIUTL2",116,0)
 Q ENRET
"RTN","ENTIUTL2",117,0)
 ;
"RTN","ENTIUTL2",118,0)
GETEQ(ENSM,ENVAL,ENSRT,ENIA) ; Get Equipment
"RTN","ENTIUTL2",119,0)
 ; input ENSM  = selection method (A, E, C, U, L, or S)
"RTN","ENTIUTL2",120,0)
 ;               NOTE: E method is interactive, while the others are not
"RTN","ENTIUTL2",121,0)
 ;       ENVAL = value when method is C, U, L, or S (e.g. ien of CMR) 
"RTN","ENTIUTL2",122,0)
 ;       ENSRT = sort by (E, C, U, L, or S) - must be E for method E
"RTN","ENTIUTL2",123,0)
 ;       ENIA  = 1 (include) or 0 (don't include) equip w/active assign
"RTN","ENTIUTL2",124,0)
 ;               this does not apply to method E 
"RTN","ENTIUTL2",125,0)
 ;               optional, default = 1
"RTN","ENTIUTL2",126,0)
 ; output
"RTN","ENTIUTL2",127,0)
 ;   ^TMP($J,"ENITEQ",0)=count^method^specified value^sort
"RTN","ENTIUTL2",128,0)
 ;   ^TMP($J,"ENITEQ",sort value,equip ien)="" list of equipment
"RTN","ENTIUTL2",129,0)
 ;
"RTN","ENTIUTL2",130,0)
 N ENCMR,ENCNT,END,ENDA
"RTN","ENTIUTL2",131,0)
 K ^TMP($J,"ENITEQ")
"RTN","ENTIUTL2",132,0)
 S ENVAL=$G(ENVAL)
"RTN","ENTIUTL2",133,0)
 S ENSRT=$G(ENSRT,"E")
"RTN","ENTIUTL2",134,0)
 S ENIA=$G(ENIA,1)
"RTN","ENTIUTL2",135,0)
 S ENCNT=0,END=0
"RTN","ENTIUTL2",136,0)
 ;
"RTN","ENTIUTL2",137,0)
 ; method A - all tracked equipment
"RTN","ENTIUTL2",138,0)
 I ENSM="A" D
"RTN","ENTIUTL2",139,0)
 . ; loop thru CMRs with IT TRACKING = YES
"RTN","ENTIUTL2",140,0)
 . S ENCMR=0 F  S ENCMR=$O(^ENG(6914.1,"AIT",1,ENCMR)) Q:'ENCMR  D
"RTN","ENTIUTL2",141,0)
 . . ; loop thru equipment on CMR
"RTN","ENTIUTL2",142,0)
 . . S ENDA=0 F  S ENDA=$O(^ENG(6914,"AD",ENCMR,ENDA)) Q:'ENDA  D
"RTN","ENTIUTL2",143,0)
 . . . I 'ENIA,$D(^ENG(6916.3,"AEA",ENDA)) Q  ; chose to excl. assigned
"RTN","ENTIUTL2",144,0)
 . . . D SETTMP
"RTN","ENTIUTL2",145,0)
 ;
"RTN","ENTIUTL2",146,0)
 ; method E - by individual equipment (interactive)
"RTN","ENTIUTL2",147,0)
 I ENSM="E" D
"RTN","ENTIUTL2",148,0)
 . N DA,DIC,DIR,DIROUT,DIRUT,DTOUT,DUOUT,ENSCR,X,Y
"RTN","ENTIUTL2",149,0)
 . ; screen by CMR:IT TRACKING
"RTN","ENTIUTL2",150,0)
 . S ENSCR="N ENCMR S ENCMR=$P($G(^(2)),U,9) I ENCMR,$D(^ENG(6914.1,""AIT"",1,ENCMR))"
"RTN","ENTIUTL2",151,0)
 . ; ask equipment in loop
"RTN","ENTIUTL2",152,0)
 . F  S DIC("S")=ENSCR D GETEQ^ENUTL Q:Y<1  D  Q:END
"RTN","ENTIUTL2",153,0)
 . . S ENDA=+Y
"RTN","ENTIUTL2",154,0)
 . . ; display equip
"RTN","ENTIUTL2",155,0)
 . . W @(IOF)
"RTN","ENTIUTL2",156,0)
 . . D DISEQ^ENTIUTL(ENDA)
"RTN","ENTIUTL2",157,0)
 . . W !
"RTN","ENTIUTL2",158,0)
 . . D DISASGN^ENTIUTL(ENDA)
"RTN","ENTIUTL2",159,0)
 . . ;
"RTN","ENTIUTL2",160,0)
 . . ; check if already selected (sort is always "E" for this method)
"RTN","ENTIUTL2",161,0)
 . . I $D(^TMP($J,"ENITEQ","NA",ENDA)) D  Q
"RTN","ENTIUTL2",162,0)
 . . . W !!,"This equipment item has already been selected."
"RTN","ENTIUTL2",163,0)
 . . . W !,"If all desired equipment has been selected then press RETURN"
"RTN","ENTIUTL2",164,0)
 . . . W !,"at the equipment selection prompt."
"RTN","ENTIUTL2",165,0)
 . . ;
"RTN","ENTIUTL2",166,0)
 . . ; ask confirmation
"RTN","ENTIUTL2",167,0)
 . . W !
"RTN","ENTIUTL2",168,0)
 . . S DIR(0)="Y",DIR("A")="Do you want to select this item"
"RTN","ENTIUTL2",169,0)
 . . D ^DIR I $D(DIRUT) S END=1 Q
"RTN","ENTIUTL2",170,0)
 . . I 'Y Q
"RTN","ENTIUTL2",171,0)
 . . ;
"RTN","ENTIUTL2",172,0)
 . . ; user confirmed
"RTN","ENTIUTL2",173,0)
 . . D SETTMP
"RTN","ENTIUTL2",174,0)
 ;
"RTN","ENTIUTL2",175,0)
 ; method C - by CMR
"RTN","ENTIUTL2",176,0)
 I ENSM="C" D
"RTN","ENTIUTL2",177,0)
 . ; loop thru equipment on the CMR
"RTN","ENTIUTL2",178,0)
 . S ENDA=0 F  S ENDA=$O(^ENG(6914,"AD",ENVAL,ENDA)) Q:'ENDA  D
"RTN","ENTIUTL2",179,0)
 . . I 'ENIA,$D(^ENG(6916.3,"AEA",ENDA)) Q  ; chose to exclude assigned
"RTN","ENTIUTL2",180,0)
 . . D SETTMP
"RTN","ENTIUTL2",181,0)
 ;
"RTN","ENTIUTL2",182,0)
 ; method U - by using service
"RTN","ENTIUTL2",183,0)
 I ENSM="U" D
"RTN","ENTIUTL2",184,0)
 . ; loop thru equipment with this using service
"RTN","ENTIUTL2",185,0)
 . S ENDA=0 F  S ENDA=$O(^ENG(6914,"AC",ENVAL,ENDA)) Q:'ENDA  D
"RTN","ENTIUTL2",186,0)
 . . S ENCMR=$P($G(^ENG(6914,ENDA,2)),U,9)
"RTN","ENTIUTL2",187,0)
 . . Q:'ENCMR  ; not on a cmr
"RTN","ENTIUTL2",188,0)
 . . Q:$P($G(^ENG(6914.1,ENCMR,0)),U,9)'=1  ; IT tracking not yes
"RTN","ENTIUTL2",189,0)
 . . I 'ENIA,$D(^ENG(6916.3,"AEA",ENDA)) Q  ; chose to exclude assigned
"RTN","ENTIUTL2",190,0)
 . . D SETTMP
"RTN","ENTIUTL2",191,0)
 ;
"RTN","ENTIUTL2",192,0)
 ; method L - by location
"RTN","ENTIUTL2",193,0)
 I ENSM="L" D
"RTN","ENTIUTL2",194,0)
 . ; loop thru equipment in this location
"RTN","ENTIUTL2",195,0)
 . S ENDA=0 F  S ENDA=$O(^ENG(6914,"D",ENVAL,ENDA)) Q:'ENDA  D
"RTN","ENTIUTL2",196,0)
 . . S ENCMR=$P($G(^ENG(6914,ENDA,2)),U,9)
"RTN","ENTIUTL2",197,0)
 . . Q:'ENCMR  ; not on a cmr
"RTN","ENTIUTL2",198,0)
 . . Q:$P($G(^ENG(6914.1,ENCMR,0)),U,9)'=1  ; IT tracking not yes
"RTN","ENTIUTL2",199,0)
 . . I 'ENIA,$D(^ENG(6916.3,"AEA",ENDA)) Q  ; chose to exclude assigned
"RTN","ENTIUTL2",200,0)
 . . D SETTMP
"RTN","ENTIUTL2",201,0)
 ;
"RTN","ENTIUTL2",202,0)
 ; method S - by service of location
"RTN","ENTIUTL2",203,0)
 I ENSM="S" D
"RTN","ENTIUTL2",204,0)
 . N ENSP
"RTN","ENTIUTL2",205,0)
 . ; loop thru locations with this service
"RTN","ENTIUTL2",206,0)
 . S ENSP=0 F  S ENSP=$O(^ENG("SP","D",ENVAL,ENSP)) Q:'ENSP  D
"RTN","ENTIUTL2",207,0)
 . . ; loop thru equipment with this location
"RTN","ENTIUTL2",208,0)
 . . S ENDA=0 F  S ENDA=$O(^ENG(6914,"D",ENSP,ENDA)) Q:'ENDA  D
"RTN","ENTIUTL2",209,0)
 . . . S ENCMR=$P($G(^ENG(6914,ENDA,2)),U,9)
"RTN","ENTIUTL2",210,0)
 . . . Q:'ENCMR  ; not on a cmr
"RTN","ENTIUTL2",211,0)
 . . . Q:$P($G(^ENG(6914.1,ENCMR,0)),U,9)'=1  ; IT tracking not yes
"RTN","ENTIUTL2",212,0)
 . . . I 'ENIA,$D(^ENG(6916.3,"AEA",ENDA)) Q  ; chose to exclude assigned
"RTN","ENTIUTL2",213,0)
 . . . D SETTMP
"RTN","ENTIUTL2",214,0)
 ;
"RTN","ENTIUTL2",215,0)
 ; set output header node
"RTN","ENTIUTL2",216,0)
 S ^TMP($J,"ENITEQ",0)=ENCNT_U_ENSM_U_ENVAL_ENSRT
"RTN","ENTIUTL2",217,0)
 ;
"RTN","ENTIUTL2",218,0)
 Q
"RTN","ENTIUTL2",219,0)
 ;
"RTN","ENTIUTL2",220,0)
SETTMP ; save equipment in sorted TMP global
"RTN","ENTIUTL2",221,0)
 N ENSRTV
"RTN","ENTIUTL2",222,0)
 S ENSRTV=""
"RTN","ENTIUTL2",223,0)
 I ENSRT="E" S ENSRTV="NA"
"RTN","ENTIUTL2",224,0)
 I ENSRT="C" S ENSRTV=$$GET1^DIQ(6914,ENDA,19) ; cmr
"RTN","ENTIUTL2",225,0)
 I ENSRT="U" S ENSRTV=$$GET1^DIQ(6914,ENDA,21) ; service
"RTN","ENTIUTL2",226,0)
 I ENSRT="L" S ENSRTV=$$GET1^DIQ(6914,ENDA,24) ; location
"RTN","ENTIUTL2",227,0)
 I ENSRT="S" S ENSRTV=$$GET1^DIQ(6914,ENDA,"24:1.5") ; svc of loc
"RTN","ENTIUTL2",228,0)
 I ENSRTV="" S ENSRTV=" <null>"
"RTN","ENTIUTL2",229,0)
 S ^TMP($J,"ENITEQ",ENSRTV,ENDA)=""
"RTN","ENTIUTL2",230,0)
 S ENCNT=ENCNT+1
"RTN","ENTIUTL2",231,0)
 Q
"RTN","ENTIUTL2",232,0)
 ;
"RTN","ENTIUTL2",233,0)
 ;ENTIUTL2
"SEC","^DD",6916.3,6916.3,20,9)

"SEC","^DD",6916.3,6916.3,21,9)

"SEC","^DIC",6916.2,6916.2,0,"AUDIT")
@
"SEC","^DIC",6916.2,6916.2,0,"DD")
@
"SEC","^DIC",6916.2,6916.2,0,"DEL")
@
"SEC","^DIC",6916.2,6916.2,0,"LAYGO")
@
"SEC","^DIC",6916.2,6916.2,0,"RD")
@
"SEC","^DIC",6916.2,6916.2,0,"WR")
@
"SEC","^DIC",6916.3,6916.3,0,"AUDIT")
@
"SEC","^DIC",6916.3,6916.3,0,"DD")
@
"SEC","^DIC",6916.3,6916.3,0,"DEL")
@
"SEC","^DIC",6916.3,6916.3,0,"LAYGO")
@
"SEC","^DIC",6916.3,6916.3,0,"RD")

"SEC","^DIC",6916.3,6916.3,0,"WR")
@
"UP",6914,6914.092,-1)
6914^ITC
"UP",6914,6914.092,0)
6914.092
"VER")
8.0^22.0
"^DD",6910.9,6910.9,0)
FIELD^NL^.1^10
"^DD",6910.9,6910.9,0,"DDA")
N
"^DD",6910.9,6910.9,0,"DT")
2970505
"^DD",6910.9,6910.9,0,"ID",.06)
W "   ",$P(^(0),U,6)
"^DD",6910.9,6910.9,0,"ID",.08)
W:$D(^(0)) "   ",$P(^(0),U,7)
"^DD",6910.9,6910.9,0,"IX","AC",6910.9,.01)

"^DD",6910.9,6910.9,0,"IX","AP",6910.9,.03)

"^DD",6910.9,6910.9,0,"IX","AR",6910.9,.05)

"^DD",6910.9,6910.9,0,"IX","B",6910.9,.01)

"^DD",6910.9,6910.9,0,"NM","ENG DJ SCREEN")

"^DD",6910.9,6910.9,0,"VRPK")
EN
"^DD",6910.9,6910.9,.01,0)
NAME^RF^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>16!($L(X)<3)!'(X'?1P.E) X
"^DD",6910.9,6910.9,.01,.1)

"^DD",6910.9,6910.9,.01,1,0)
^.1
"^DD",6910.9,6910.9,.01,1,1,0)
6910.9^B
"^DD",6910.9,6910.9,.01,1,1,1)
S ^ENG(6910.9,"B",$E(X,1,30),DA)=""
"^DD",6910.9,6910.9,.01,1,1,2)
K ^ENG(6910.9,"B",$E(X,1,30),DA)
"^DD",6910.9,6910.9,.01,1,2,0)
6910.9^AC^MUMPS
"^DD",6910.9,6910.9,.01,1,2,1)
Q
"^DD",6910.9,6910.9,.01,1,2,2)
Q
"^DD",6910.9,6910.9,.01,1,2,"%D",0)
^^1^1^2961029^
"^DD",6910.9,6910.9,.01,1,2,"%D",1,0)
Obsolete x-ref. No API available to delete it.
"^DD",6910.9,6910.9,.01,1,2,"DT")
2961029
"^DD",6910.9,6910.9,.01,3)
ANSWER MUST BE 3-16 CHARACTERS IN LENGTH
"^DD",6910.9,6910.9,.01,21,0)
^^2^2^2860424^^^^
"^DD",6910.9,6910.9,.01,21,1,0)
This field contains the screen name associated with a display of entries.
"^DD",6910.9,6910.9,.01,21,2,0)
The screen should be namespaced.
"^DD",6910.9,6910.9,.01,21,3,0)
The name should start the namespace characters.
"^DD",6910.9,6910.9,.01,"DT")
2961029
"^DD",6910.9,6910.9,.02,0)
MAXLINE^RNJ2,0^^0;2^K:+X'=X!(X>15)!(X<15)!(X?.E1"."1N.N) X
"^DD",6910.9,6910.9,.02,3)
TYPE A WHOLE NUMBER BETWEEN 15 AND 15
"^DD",6910.9,6910.9,.02,21,0)
^^3^3^2930429^^^^
"^DD",6910.9,6910.9,.02,21,1,0)
This field specifies the number of lines usable for data entry.
"^DD",6910.9,6910.9,.02,21,2,0)
It cannot exceed 15 lines.
"^DD",6910.9,6910.9,.02,21,3,0)
The system computes this field automatically.
"^DD",6910.9,6910.9,.03,0)
PREVIOUS^FX^^0;3^K:$L(X)>16!($L(X)<1) X I $D(X),'$D(^ENG(6910.9,"B",X)) S DIC(0)="L",DIC="^ENG(6910.9," D ^DIC
"^DD",6910.9,6910.9,.03,1,0)
^.1
"^DD",6910.9,6910.9,.03,1,1,0)
6910.9^AP^MUMPS
"^DD",6910.9,6910.9,.03,1,1,1)
N ENDJP S:X]"" ENDJP=$O(^ENG(6910.9,"B",X,0)) S:$G(ENDJP) $P(^ENG(6910.9,ENDJP,0),U,5)=$P($G(^ENG(6910.9,DA,0)),U) Q
"^DD",6910.9,6910.9,.03,1,1,2)
N ENDJP S:X]"" ENDJP=$O(^ENG(6910.9,"B",X,0)) S:$G(ENDJP) ENDJP("RL")=$P(^ENG(6910.9,ENDJP,0),U,5) S:$G(ENDJP("RL"))=$P($G(^ENG(6910.9,DA,0)),U) $P(^ENG(6910.9,ENDJP,0),U,5)="" Q
"^DD",6910.9,6910.9,.03,1,1,"%D",0)
^^1^1^2961029^^^^
"^DD",6910.9,6910.9,.03,1,1,"%D",1,0)
Updates RIGHTLINKED field of 'previous' screen.
"^DD",6910.9,6910.9,.03,1,1,"DT")
2961029
"^DD",6910.9,6910.9,.03,3)
ANSWER MUST BE 1-16 CHARACTERS IN LENGTH
"^DD",6910.9,6910.9,.03,21,0)
^^3^3^2860424^^
"^DD",6910.9,6910.9,.03,21,1,0)
This field is only applicable to multiple page screens.
"^DD",6910.9,6910.9,.03,21,2,0)
This field points to the previous screen name. It is a free text pointer
"^DD",6910.9,6910.9,.03,21,3,0)
entered by the system automatically.
"^DD",6910.9,6910.9,.03,"DT")
2961029
"^DD",6910.9,6910.9,.04,0)
SECURITY^F^^0;4^K:$L(X)>10!($L(X)<1) X
"^DD",6910.9,6910.9,.04,3)
Answer must be 1-10 characters in length.
"^DD",6910.9,6910.9,.04,21,0)
^^2^2^2930428^^^^
"^DD",6910.9,6910.9,.04,21,1,0)
This field is set automatically to the write (WR) security of the file
"^DD",6910.9,6910.9,.04,21,2,0)
selected by the user, at the time the file is created.
"^DD",6910.9,6910.9,.04,"DT")
2930428
"^DD",6910.9,6910.9,.05,0)
RIGHTLINKED^FX^^0;5^K:$L(X)>16!($L(X)<1) X I $D(X),'$D(^ENG(6910.9,"B",X)) S DIC(0)="L",DIC="^ENG(6910.9," D ^DIC
"^DD",6910.9,6910.9,.05,1,0)
^.1
"^DD",6910.9,6910.9,.05,1,1,0)
6910.9^AR^MUMPS
"^DD",6910.9,6910.9,.05,1,1,1)
N ENDJR S:X]"" ENDJR=$O(^ENG(6910.9,"B",X,0)) S:$G(ENDJR) $P(^ENG(6910.9,ENDJR,0),U,3)=$P($G(^ENG(6910.9,DA,0)),U) Q
"^DD",6910.9,6910.9,.05,1,1,2)
N ENDJR S:X]"" ENDJR=$O(^ENG(6910.9,"B",X,0)) S:$G(ENDJR) ENDJR("PR")=$P(^ENG(6910.9,ENDJR,0),U,3) S:$G(ENDJR("PR"))=$P($G(^ENG(6910.9,DA,0)),U) $P(^ENG(6910.9,ENDJR,0),U,3)="" Q
"^DD",6910.9,6910.9,.05,1,1,"%D",0)
^^1^1^2961029^^^^
"^DD",6910.9,6910.9,.05,1,1,"%D",1,0)
Updates PREVIOUS field of 'rightlinked' screen.
"^DD",6910.9,6910.9,.05,1,1,"DT")
2961029
"^DD",6910.9,6910.9,.05,3)
ANSWER MUST BE 1-16 CHARACTERS IN LENGTH
"^DD",6910.9,6910.9,.05,21,0)
^^3^3^2860424^^
"^DD",6910.9,6910.9,.05,21,1,0)
This field is only applicable to multiple page screens.
"^DD",6910.9,6910.9,.05,21,2,0)
This field contains the name of the screen to be executed next. It is
"^DD",6910.9,6910.9,.05,21,3,0)
a free text pointer entered by the system automatically.
"^DD",6910.9,6910.9,.05,"DT")
2961029
"^DD",6910.9,6910.9,.06,0)
DD NUMBER^RNJ13,4X^^0;6^S DIC="^DIC(",DIC(0)="ENQ",DIC("S")=$S(DUZ(0)'="@":"I 1 Q:'$D(^DIC(+Y,0,""WR""))  F DJX=1:1:$L(^(""WR"")) I DUZ(0)[$E(^(""WR""),DJX) Q",1:"I Y-1") D ^DIC S X=+Y K:Y'>0 X
"^DD",6910.9,6910.9,.06,3)
TYPE A LEGAL DATA DEFINITION NUMBER BETWEEN 0 AND 99999999
"^DD",6910.9,6910.9,.06,4)
S ZD=D,X="?" S DIC="^DIC(",DIC(0)="ENQ",DIC("S")=$S(DUZ(0)'="@":"I 1 Q:'$D(^DIC(+Y,0,""WR""))  F DJX=1:1:$L(^(""WR"")) I DUZ(0)[$E(^(""WR""),DJX) Q",1:"I Y-1") D ^DIC S DIC=DIE,D=ZD K ZD,DIC("S")
"^DD",6910.9,6910.9,.06,21,0)
^^2^2^2860424^^^^
"^DD",6910.9,6910.9,.06,21,1,0)
The contents of this field should be a legal Data Definition (DD) number.
"^DD",6910.9,6910.9,.06,21,2,0)
It could be a first level .
"^DD",6910.9,6910.9,.06,"DT")
2880121
"^DD",6910.9,6910.9,.07,0)
ENTRY DEFINITIONS^6910.97A^^1;0
"^DD",6910.9,6910.9,.07,21,0)
^^1^1^2930429^
"^DD",6910.9,6910.9,.07,21,1,0)
Definition of each line item on a data entry screen.
"^DD",6910.9,6910.9,.08,0)
DESCRIPTION^RF^^0;7^K:$L(X)>64!($L(X)<2) X
"^DD",6910.9,6910.9,.08,3)
ANSWER MUST BE 2-64 CHARACTERS IN LENGTH
"^DD",6910.9,6910.9,.08,21,0)
^^2^2^2860424^^^^
"^DD",6910.9,6910.9,.08,21,1,0)
The data entered in this field will be displayed at the top of the
"^DD",6910.9,6910.9,.08,21,2,0)
screen display as a title with the current date.
"^DD",6910.9,6910.9,.09,0)
FILE LEVEL^NJ1,0^^0;8^K:+X'=X!(X>9)!(X<0)!(X?.E1"."1N.N) X
"^DD",6910.9,6910.9,.09,3)
TYPE A WHOLE NUMBER BETWEEN 0 AND 9
"^DD",6910.9,6910.9,.09,21,0)
^^2^2^2860424^^
"^DD",6910.9,6910.9,.09,21,1,0)
This field keeps track of the level of the screen display with respect
"^DD",6910.9,6910.9,.09,21,2,0)
to the hierarchy of the file.
"^DD",6910.9,6910.9,.1,0)
HIGHEST NUMBER USED^NJ5,2^^0;9^K:+X'=X!(X>99)!(X<.1)!(X?.E1"."3N.N) X
"^DD",6910.9,6910.9,.1,3)
TYPE A NUMBER BETWEEN .1 AND 99
"^DD",6910.9,6910.9,.1,21,0)
^^2^2^2851030^
"^DD",6910.9,6910.9,.1,21,1,0)
This field contains the highest number used in the screen display.
"^DD",6910.9,6910.9,.1,21,2,0)
It is used when continuing adding entries.
"^DD",6910.9,6910.97,0)
ENTRY DEFINITIONS SUB-FIELD^NL^6^12
"^DD",6910.9,6910.97,0,"DT")
2970505
"^DD",6910.9,6910.97,0,"IX","A",6910.97,.11)

"^DD",6910.9,6910.97,0,"IX","AC",6910.97,.07)

"^DD",6910.9,6910.97,0,"IX","B",6910.97,.01)

"^DD",6910.9,6910.97,0,"NM","ENTRY DEFINITIONS")

"^DD",6910.9,6910.97,0,"UP")
6910.9
"^DD",6910.9,6910.97,.01,0)
LABEL^MF^^0;1^K:$L(X)>33!($L(X)<1) X
"^DD",6910.9,6910.97,.01,1,0)
^.1
"^DD",6910.9,6910.97,.01,1,1,0)
6910.97^B
"^DD",6910.9,6910.97,.01,1,1,1)
S ^ENG(6910.9,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",6910.9,6910.97,.01,1,1,2)
K ^ENG(6910.9,DA(1),1,"B",$E(X,1,30),DA)
"^DD",6910.9,6910.97,.01,3)
Enter a 1 to 30 character label for this screen entry.  This label will be displayed when the screen is executed.
"^DD",6910.9,6910.97,.01,21,0)
^^6^6^2930429^^^^
"^DD",6910.9,6910.97,.01,21,1,0)
When adding new elements to a screen (OPTION 1) select a valid field name
"^DD",6910.9,6910.97,.01,21,2,0)
or field number.
"^DD",6910.9,6910.97,.01,21,3,0)
 The field name that you select will be the label displayed on your 
"^DD",6910.9,6910.97,.01,21,4,0)
screen.  You may change this label as desired.
"^DD",6910.9,6910.97,.01,21,5,0)
 To see a list of other commands you can enter at the label prompt type
"^DD",6910.9,6910.97,.01,21,6,0)
uparrow C (^C).
"^DD",6910.9,6910.97,.02,0)
START X-Y^RF^^0;2^K:$L(X)>11!($L(X)<3) X
"^DD",6910.9,6910.97,.02,3)
ANSWER MUST BE 3-11 CHARACTERS IN LENGTH
"^DD",6910.9,6910.97,.03,0)
FIELD LENGTH^RNJ3,0^^0;3^K:+X'=X!(X>200)!(X<3)!(X?.E1"."1N.N) X
"^DD",6910.9,6910.97,.03,3)
TYPE A WHOLE NUMBER BETWEEN 3 AND 200
"^DD",6910.9,6910.97,.03,21,0)
^^1^1^2860305^^^^
"^DD",6910.9,6910.97,.03,21,1,0)
This is the length of your data.
"^DD",6910.9,6910.97,.04,0)
END X-Y^RF^^0;4^K:$L(X)>11!($L(X)<6) X
"^DD",6910.9,6910.97,.04,3)
ANSWER MUST BE 6-11 CHARACTERS IN LENGTH
"^DD",6910.9,6910.97,.05,0)
ATTRIBUTE NR^RNJ11,4^^0;5^K:+X'=X!(X>999999)!(X<-1)!(X?.E1"."5N.N) X
"^DD",6910.9,6910.97,.05,1,0)
^.1^^0
"^DD",6910.9,6910.97,.05,3)
TYPE A NUMBER BETWEEN -1 AND 999999
"^DD",6910.9,6910.97,.06,0)
TYPE^F^^0;6^K:$L(X)>12!($L(X)<1) X
"^DD",6910.9,6910.97,.06,3)
Answer must be 1-12 characters in length.
"^DD",6910.9,6910.97,.06,"DT")
2970505
"^DD",6910.9,6910.97,.07,0)
RD(ONLY)^S^1:Y;0:N;^0;7^Q
"^DD",6910.9,6910.97,.07,.1)

"^DD",6910.9,6910.97,.07,1,0)
^.1
"^DD",6910.9,6910.97,.07,1,1,0)
6910.97^AC^MUMPS
"^DD",6910.9,6910.97,.07,1,1,1)
I X=1&(^ENG(6910.9,DA(1),1,DA,0)'["(R)") S $P(^(0),U,4)=$P($P(^(0),U,4),"X=",1)_"X="_($P($P(^(0),U,4),"X=",2)+3) X ^DD(6910.97,.07,1,1,1.1) Q
"^DD",6910.9,6910.97,.07,1,1,1.1)
S DIV=$P(^ENG(6910.9,DA(1),1,DA,0),U,1),$P(^(0),U,1)=DIV_"(R)",^ENG(6910.9,DA(1),1,"B",DIV_"(R)",DA)="" K ^ENG(6910.9,DA(1),1,"B",DIV,DA),DIV Q
"^DD",6910.9,6910.97,.07,1,1,1.2)
I ^ENG(6910.9,DA(1),1,DA,0)["(R)" S DIV2=$P(^(0),"(R)",1),DIV=$P(^(0),U,10)-3,DIV1=$P(^(0),U,4),DIV1=$P(DIV1,"DX=",1)_"DX="_DIV X ^DD(6910.97,.07,1,1,1.3)
"^DD",6910.9,6910.97,.07,1,1,1.3)
S ^ENG(6910.9,DA(1),1,DA,0)=DIV2_"^"_$P(^ENG(6910.9,DA(1),1,DA,0),"^",2,3)_"^"_DIV1_"^"_$P(^(0),"^",5,9)_"^"_DIV_"^"_$P(^(0),"^",11,15) K DIV,DIV1,DIV2
"^DD",6910.9,6910.97,.07,1,1,2)
I ^ENG(6910.9,DA(1),1,DA,0)["(R)" S DIV=$P(^(0),U,1),$P(^(0),U,1)=$P(^(0),"(R)",1),$P(^(0),U,4)=$P($P(^(0),U,4),"X=",1)_"X="_($P($P(^(0),U,4),"X=",2)-3) X ^DD(6910.97,.07,1,1,2.1) Q
"^DD",6910.9,6910.97,.07,1,1,2.1)
S ^ENG(6910.9,DA(1),1,"B",$P(^ENG(6910.9,DA(1),1,DA,0),U,1),DA)="" K ^ENG(6910.9,DA(1),1,"B",DIV,DA),DIV Q
"^DD",6910.9,6910.97,.07,3)

"^DD",6910.9,6910.97,.07,21,0)
^^2^2^2860424^^^^
"^DD",6910.9,6910.97,.07,21,1,0)
This field is used to indicate 'DISPLAY' only of data
"^DD",6910.9,6910.97,.07,21,2,0)
this means no updating is allowed.
"^DD",6910.9,6910.97,.11,0)
ENTRY NUM^RNJ4,1X^^0;13^K:+X'=X!(X>99.9)!(X<.1)!(X?.E1"."2N.N) X I $G(DIUTIL)'="VERIFY FIELDS",$D(X),$D(^ENG(6910.9,DA(1),1,"A",X)) D EN^DDIOL("IN USE") K X
"^DD",6910.9,6910.97,.11,1,0)
^.1
"^DD",6910.9,6910.97,.11,1,1,0)
6910.97^A
"^DD",6910.9,6910.97,.11,1,1,1)
S ^ENG(6910.9,DA(1),1,"A",$E(X,1,30),DA)=""
"^DD",6910.9,6910.97,.11,1,1,2)
K ^ENG(6910.9,DA(1),1,"A",$E(X,1,30),DA)
"^DD",6910.9,6910.97,.11,3)
Type a Number between .1 and 99.9, no duplicates are allowed.
"^DD",6910.9,6910.97,.11,21,0)
^^2^2^2961209^
"^DD",6910.9,6910.97,.11,21,1,0)
Numbers with a decimal point are used for subtitles, that is no data is
"^DD",6910.9,6910.97,.11,21,2,0)
associated with them. 
"^DD",6910.9,6910.97,.11,"DT")
2961209
"^DD",6910.9,6910.97,1,0)
POST ACTION CODE^FX^^1;E1,200^K:$L(X)>200!($L(X)<1) X D ^DIM:$D(X)
"^DD",6910.9,6910.97,1,3)
ANSWER MUST BE 1-200 CHARACTERS IN LENGTH (MUMPS CODE ONLY)
"^DD",6910.9,6910.97,1,21,0)
^^1^1^2860424^^
"^DD",6910.9,6910.97,1,21,1,0)
Type any legal MUMPS expression.
"^DD",6910.9,6910.97,2,0)
PRE ACTION CODE^FX^^2;E1,200^K:$L(X)>200!($L(X)<1) X D ^DIM:$D(X)
"^DD",6910.9,6910.97,2,3)
ANSWER MUST BE 1-200 CHARACTERS IN LENGTH (MUMPS CODE ONLY)
"^DD",6910.9,6910.97,2,21,0)
^^1^1^2860424^^
"^DD",6910.9,6910.97,2,21,1,0)
Type any legal MUMPS expression.
"^DD",6910.9,6910.97,5,0)
MULTIPLE SCREEN NAME^FX^^0;12^K:$L(X)>16!($L(X)<4) X I $D(X),'$D(^ENG(6910.9,DA(1),"B",X)) K X
"^DD",6910.9,6910.97,5,.1)

"^DD",6910.9,6910.97,5,3)
This entry is automatically generated by the system.
"^DD",6910.9,6910.97,5,21,0)
^^1^1^2860729^^^^
"^DD",6910.9,6910.97,5,21,1,0)
**WARNING** If you edit this entry, you must enter an existing screen name.
"^DD",6910.9,6910.97,5,"DT")
3010613
"^DD",6910.9,6910.97,6,0)
DEFAULT VALUE^FX^^3;1^K:$L(X)>30!($L(X)<1)!($P(^ENG(6910.9,DA(1),1,DA,0),"^",5)=.01)!($P(^(0),"^",6)["C")!($P(^(0),"^",7)) X
"^DD",6910.9,6910.97,6,3)
Ans. must be 1-30 chars. in Length. Not applicable to .01, computed, or read       only fields
"^DD",6910.9,6910.97,6,21,0)
^^2^2^2860729^^^^
"^DD",6910.9,6910.97,6,21,1,0)
Enter a legitimate default value for this field.
"^DD",6910.9,6910.97,6,21,2,0)
.01 Fields as well as computed or read only are not allowed.
"^DD",6914,6914,19,0)
CMR^P6914.1'X^ENG(6914.1,^2;9^I $G(DIUTIL)'="VERIFY FIELDS" K:$$CMRCHK^ENTIDD(DA,X) X I $D(X) D NX^ENLIB3
"^DD",6914,6914,19,1,0)
^.1
"^DD",6914,6914,19,1,1,0)
6914^AD
"^DD",6914,6914,19,1,1,1)
S ^ENG(6914,"AD",$E(X,1,30),DA)=""
"^DD",6914,6914,19,1,1,2)
K ^ENG(6914,"AD",$E(X,1,30),DA)
"^DD",6914,6914,19,1,2,0)
^^TRIGGER^6914^60
"^DD",6914,6914,19,1,2,1)
X ^DD(6914,19,1,2,1.3) I X S X=DIV S Y(1)=$S($D(^ENG(6914,D0,9)):^(9),1:"") S X=$P(Y(1),U,5),X=X S DIU=X K Y X ^DD(6914,19,1,2,1.1) X ^DD(6914,19,1,2,1.4)
"^DD",6914,6914,19,1,2,1.1)
S X=DIV S I(0,0)=$S($D(D0):D0,1:""),D0=DIV S:'$D(^ENG(6914.1,+D0,0)) D0=-1 S Y(101)=$S($D(^ENG(6914.1,D0,0)):^(0),1:"") S X=$P(Y(101),U,7) S D0=I(0,0)
"^DD",6914,6914,19,1,2,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X X ^DD(6914,19,1,2,69.2) S X=$L(X)>2,Y(102)=X S X=Y(2)=0,Y=X,X=Y(102),X=X&Y S D0=I(0,0)
"^DD",6914,6914,19,1,2,1.4)
S DIH=$S($D(^ENG(6914,DIV(0),9)):^(9),1:""),DIV=X S $P(^(9),U,5)=DIV,DIH=6914,DIG=60 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",6914,6914,19,1,2,2)
Q
"^DD",6914,6914,19,1,2,69.2)
X $P(^DD(6914,66,0),U,5,99) S Y(2)=X S I(0,0)=$S($D(D0):D0,1:""),D0=Y(0) S:'$D(^ENG(6914.1,+D0,0)) D0=-1 S Y(101)=$S($D(^ENG(6914.1,D0,0)):^(0),1:"") S X=$P(Y(101),U,7)
"^DD",6914,6914,19,1,2,"%D",0)
^^2^2^2960228^
"^DD",6914,6914,19,1,2,"%D",1,0)
Pick up accounting station from CMR when possible. Don't change if asset
"^DD",6914,6914,19,1,2,"%D",2,0)
if currently reported to FAP.
"^DD",6914,6914,19,1,2,"CREATE CONDITION")
$L(#19:#5)>2&(#66=0)
"^DD",6914,6914,19,1,2,"CREATE VALUE")
#19:#5
"^DD",6914,6914,19,1,2,"DELETE VALUE")
NO EFFECT
"^DD",6914,6914,19,1,2,"DT")
2960228
"^DD",6914,6914,19,1,2,"FIELD")
#60
"^DD",6914,6914,19,1,3,0)
^^TRIGGER^6914^21
"^DD",6914,6914,19,1,3,1)
X ^DD(6914,19,1,3,1.3) I X S X=DIV S Y(1)=$S($D(^ENG(6914,D0,3)):^(3),1:"") S X=$P(Y(1),U,2),X=X S DIU=X K Y X ^DD(6914,19,1,3,1.1) X ^DD(6914,19,1,3,1.4)
"^DD",6914,6914,19,1,3,1.1)
S X=DIV S I(0,0)=$S($D(D0):D0,1:""),D0=DIV S:'$D(^ENG(6914.1,+D0,0)) D0=-1 S Y(101)=$S($D(^ENG(6914.1,D0,0)):^(0),1:"") S X=$P(Y(101),U,5),X=X S X=X S D0=I(0,0)
"^DD",6914,6914,19,1,3,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$S($D(^ENG(6914,D0,3)):^(3),1:"") S X=$S('$D(^DIC(49,+$P(Y(1),U,2),0)):"",1:$P(^(0),U,1))=""
"^DD",6914,6914,19,1,3,1.4)
S DIH=$S($D(^ENG(6914,DIV(0),3)):^(3),1:""),DIV=X S $P(^(3),U,2)=DIV,DIH=6914,DIG=21 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",6914,6914,19,1,3,2)
Q
"^DD",6914,6914,19,1,3,"%D",0)
^^1^1^2960422^
"^DD",6914,6914,19,1,3,"%D",1,0)
Picks up the SERVICE POINTER field from the CMR when possible.
"^DD",6914,6914,19,1,3,"CREATE CONDITION")
SERVICE POINTER=""
"^DD",6914,6914,19,1,3,"CREATE VALUE")
INTERNAL(CMR:SERVICE)
"^DD",6914,6914,19,1,3,"DELETE VALUE")
NO EFFECT
"^DD",6914,6914,19,1,3,"DT")
2960422
"^DD",6914,6914,19,1,3,"FIELD")
SERVICE POINTER
"^DD",6914,6914,19,3)

"^DD",6914,6914,19,21,0)
^^2^2^2880823^^^^
"^DD",6914,6914,19,21,1,0)
Consolidated Memorandum of Receipt. The basic instrument by which
"^DD",6914,6914,19,21,2,0)
accountability for capital equipment is established.
"^DD",6914,6914,19,"DEL",1,0)
I +$$CHKFA^ENFAUTL(DA) D EN^DDIOL("Item reported to FAP. Use FR Document to change this field.","","!?5") I 1
"^DD",6914,6914,19,"DT")
3080204
"^DD",6914,6914,24,0)
LOCATION^P6928'^ENG("SP",^3;5^Q
"^DD",6914,6914,24,1,0)
^.1
"^DD",6914,6914,24,1,1,0)
6914^D
"^DD",6914,6914,24,1,1,1)
S ^ENG(6914,"D",$E(X,1,30),DA)=""
"^DD",6914,6914,24,1,1,2)
K ^ENG(6914,"D",$E(X,1,30),DA)
"^DD",6914,6914,24,1,1,"DT")
2930120
"^DD",6914,6914,24,1,2,0)
6914^AN^MUMPS
"^DD",6914,6914,24,1,2,1)
S:$P($P($G(^ENG("SP",X,0)),U),"-",2)]"" ^ENG(6914,"N",$P($P(^ENG("SP",X,0),U),"-",2),DA)=""
"^DD",6914,6914,24,1,2,2)
K:$P($P($G(^ENG("SP",X,0)),U),"-",2)]"" ^ENG(6914,"N",$P($P(^ENG("SP",X,0),U),"-",2),DA)
"^DD",6914,6914,24,1,2,"%D",0)
^^1^1^2970227^
"^DD",6914,6914,24,1,2,"%D",1,0)
Facilitates equipment lookup by BUILDING.
"^DD",6914,6914,24,1,2,"DT")
2970227
"^DD",6914,6914,24,1,3,0)
^^TRIGGER^6914^24.5
"^DD",6914,6914,24,1,3,1)
Q
"^DD",6914,6914,24,1,3,2)
X ^DD(6914,24,1,3,2.3) I X S X=DIV S Y(1)=$S($D(^ENG(6914,D0,3)):^(3),1:"") S X=$P(Y(1),U,8),X=X S DIU=X K Y X ^DD(6914,24,1,3,2.1) X ^DD(6914,24,1,3,2.4)
"^DD",6914,6914,24,1,3,2.1)
S X=DIV S X=$S('$D(^ENG("SP",+X,0)):"",1:$P(^(0),U,1))
"^DD",6914,6914,24,1,3,2.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$S($D(^ENG(6914,D0,3)):^(3),1:"") S X=$S('$D(^ENG("SP",+$P(Y(1),U,5),0)):"",1:$P(^(0),U,1))'=$S('$D(^ENG("SP",+X,0)):"",1:$P(^(0),U,1))
"^DD",6914,6914,24,1,3,2.4)
S DIH=$S($D(^ENG(6914,DIV(0),3)):^(3),1:""),DIV=X S $P(^(3),U,8)=DIV,DIH=6914,DIG=24.5 D ^DICR:$O(^DD(DIH,DIG,1,0))>0
"^DD",6914,6914,24,1,3,"%D",0)
^^1^1^2960904^
"^DD",6914,6914,24,1,3,"%D",1,0)
Save old value when changed. Maintains previous location chain.
"^DD",6914,6914,24,1,3,"CREATE VALUE")
NO EFFECT
"^DD",6914,6914,24,1,3,"DELETE CONDITION")
LOCATION'=OLD LOCATION
"^DD",6914,6914,24,1,3,"DELETE VALUE")
OLD LOCATION
"^DD",6914,6914,24,1,3,"DT")
2960904
"^DD",6914,6914,24,1,3,"FIELD")
PREVIOUS LOCATION
"^DD",6914,6914,24,3)
Enter as ROOM-BUILDING (or select a SYNONYM).
"^DD",6914,6914,24,21,0)
^^1^1^2961118^
"^DD",6914,6914,24,21,1,0)
Physical location of this item at the facility.
"^DD",6914,6914,24,"DT")
3080204
"^DD",6914,6914,90,0)
NON-SPACE FILE LOCATION^F^^NSP;1^K:$L(X)>20!($L(X)<3) X
"^DD",6914,6914,90,1,0)
^.1^^-1
"^DD",6914,6914,90,1,1,0)
6914^ANSP
"^DD",6914,6914,90,1,1,1)
S ^ENG(6914,"ANSP",$E(X,1,30),DA)=""
"^DD",6914,6914,90,1,1,2)
K ^ENG(6914,"ANSP",$E(X,1,30),DA)
"^DD",6914,6914,90,1,1,"%D",0)
^^2^2^3071025^
"^DD",6914,6914,90,1,1,"%D",1,0)
This is an index of all equipment with a current value in the NON-SPACE
"^DD",6914,6914,90,1,1,"%D",2,0)
FILE LOCATION field.
"^DD",6914,6914,90,1,1,"DT")
3071023
"^DD",6914,6914,90,3)
Answer must be 3-20 characters in length.
"^DD",6914,6914,90,21,0)
^^8^8^3071025^
"^DD",6914,6914,90,21,1,0)
The purpose of this field is to allow IT users to enter a free-text value
"^DD",6914,6914,90,21,2,0)
when there is not a suitable location in the ENG SPACE (#6928) file to
"^DD",6914,6914,90,21,3,0)
select.  The intention is that entry of a free-text location value will
"^DD",6914,6914,90,21,4,0)
result in engineering automatically being notified via e-mail of the need
"^DD",6914,6914,90,21,5,0)
for a new location.  After the new location is added to the ENG SPACE
"^DD",6914,6914,90,21,6,0)
file, the engineering user should respond on the mail message that the
"^DD",6914,6914,90,21,7,0)
location has been added and then the requester can use an IT edit option
"^DD",6914,6914,90,21,8,0)
to update the equipment location and delete the non-space file location.
"^DD",6914,6914,90,"DT")
3080204
"^DD",6914,6914,90.1,0)
NON-SPACE FILE PERSON^P200'I^VA(200,^NSP;2^Q
"^DD",6914,6914,90.1,9)
^
"^DD",6914,6914,90.1,21,0)
^^2^2^3071025^
"^DD",6914,6914,90.1,21,1,0)
This field is automatically populated with the user that entered a value 
"^DD",6914,6914,90.1,21,2,0)
in the NON-SPACE FILE LOCATION field.
"^DD",6914,6914,90.1,"DT")
3071025
"^DD",6914,6914,90.2,0)
NON-SPACE FILE DATE/TIME^DI^^NSP;3^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",6914,6914,90.2,9)
^
"^DD",6914,6914,90.2,21,0)
^^2^2^3071030^
"^DD",6914,6914,90.2,21,1,0)
This field is automatically populated with the current date/time when a
"^DD",6914,6914,90.2,21,2,0)
value is entered in the NON-SPACE FILE LOCATION field.
"^DD",6914,6914,90.2,"DT")
3071025
"^DD",6914,6914,91,0)
IT REMOTE LOCATION^F^^ITR;1^K:$L(X)>120!($L(X)<3) X
"^DD",6914,6914,91,3)
Answer must be 3-120 characters in length.
"^DD",6914,6914,91,21,0)
^^2^2^3071023^
"^DD",6914,6914,91,21,1,0)
This field contains information such as the address or phone number for 
"^DD",6914,6914,91,21,2,0)
IT equipment that is taken off-site.
"^DD",6914,6914,91,"DT")
3071023
"^DD",6914,6914,92,0)
IT COMMENTS^6914.092^^ITC;0
"^DD",6914,6914,92,21,0)
^^2^2^3071031^
"^DD",6914,6914,92,21,1,0)
This field contains comments entered by IT staff concerning an IT
"^DD",6914,6914,92,21,2,0)
equipment record.
"^DD",6914,6914.092,0)
IT COMMENTS SUB-FIELD^^.01^1
"^DD",6914,6914.092,0,"DT")
3071023
"^DD",6914,6914.092,0,"NM","IT COMMENTS")

"^DD",6914,6914.092,0,"UP")
6914
"^DD",6914,6914.092,.01,0)
IT COMMENTS^W^^0;1^Q
"^DD",6914,6914.092,.01,21,0)
^.001^2^2^3071031^^
"^DD",6914,6914.092,.01,21,1,0)
This field contains comments entered by IT staff concerning an IT
"^DD",6914,6914.092,.01,21,2,0)
equipment record.
"^DD",6914,6914.092,.01,"DT")
3071023
"^DD",6914.1,6914.1,6,0)
IT TRACKING^SX^1:YES;0:NO;^0;9^I $G(DIUTIL)'="VERIFY FIELDS" K:$$ITTCHK^ENTIDD(DA,X) X
"^DD",6914.1,6914.1,6,1,0)
^.1^^0
"^DD",6914.1,6914.1,6,3)
Answer YES if the CMR contains IT equipment that must be tracked.
"^DD",6914.1,6914.1,6,21,0)
^^4^4^3071105^
"^DD",6914.1,6914.1,6,21,1,0)
If a CMR has IT TRACKING set to YES, the equipment on that Equipment 
"^DD",6914.1,6914.1,6,21,2,0)
Inventory List (EIL) can be edited using options on the IT Equipment
"^DD",6914.1,6914.1,6,21,3,0)
Module menu. Additionally, all equipment on such EILs will be expected
"^DD",6914.1,6914.1,6,21,4,0)
to be assigned to individual IT owners.
"^DD",6914.1,6914.1,6,"DEL",1,0)
I $$AITACMR^ENTIDD(DA) D EN^DDIOL("CMR has equipment with an active IT assignment. Can't delete IT TRACKING.","","!?5") I 1
"^DD",6914.1,6914.1,6,"DT")
3080204
"^DD",6914.1,6914.1,30,0)
DAYS BETWEEN RETURNS^NJ2,0^^1;1^K:+X'=X!(X>90)!(X<1)!(X?.E1"."1N.N) X
"^DD",6914.1,6914.1,30,3)
Enter maximum number of days between returns (1 to 90, 0 Decimal Digits).
"^DD",6914.1,6914.1,30,21,0)
^.001^2^2^3080317^^
"^DD",6914.1,6914.1,30,21,1,0)
This is the maximum number of days before an equipment item must be
"^DD",6914.1,6914.1,30,21,2,0)
returned to be serviced and physically inventoried.
"^DD",6914.1,6914.1,30,"DT")
3080317
"^DD",6914.1,6914.1,31,0)
LOAN FORM PHONE^F^^1;2^K:$L(X)>20!($L(X)<1)!'(X?.ANP) X
"^DD",6914.1,6914.1,31,3)
Enter telephone number of up to 20 characters.
"^DD",6914.1,6914.1,31,21,0)
^^2^2^3080317^
"^DD",6914.1,6914.1,31,21,1,0)
This is the telephone number to be called concerning loan forms for
"^DD",6914.1,6914.1,31,21,2,0)
equipment on this CMR.
"^DD",6914.1,6914.1,31,"DT")
3080317
"^DD",6916.2,6916.2,0)
FIELD^^3^4
"^DD",6916.2,6916.2,0,"DT")
3071121
"^DD",6916.2,6916.2,0,"IX","B",6916.2,.01)

"^DD",6916.2,6916.2,0,"NM","HAND RECEIPT TEXT")

"^DD",6916.2,6916.2,0,"PT",6916.3,5)

"^DD",6916.2,6916.2,0,"PT",6916.31,1)

"^DD",6916.2,6916.2,.01,0)
VERSION^RNJ4,0I^^0;1^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",6916.2,6916.2,.01,1,0)
^.1
"^DD",6916.2,6916.2,.01,1,1,0)
6916.2^B
"^DD",6916.2,6916.2,.01,1,1,1)
S ^ENG(6916.2,"B",$E(X,1,30),DA)=""
"^DD",6916.2,6916.2,.01,1,1,2)
K ^ENG(6916.2,"B",$E(X,1,30),DA)
"^DD",6916.2,6916.2,.01,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",6916.2,6916.2,.01,21,0)
^.001^1^1^3071121^^^^
"^DD",6916.2,6916.2,.01,21,1,0)
This is the version of the hand receipt.
"^DD",6916.2,6916.2,.01,"DT")
3071218
"^DD",6916.2,6916.2,1,0)
TEXT^6916.21^^1;0
"^DD",6916.2,6916.2,1,21,0)
^.001^2^2^3080122^^
"^DD",6916.2,6916.2,1,21,1,0)
This is the wording of the standard text approved by VA Central Office
"^DD",6916.2,6916.2,1,21,2,0)
for use in the hand receipt program.  It must not be locally modified.
"^DD",6916.2,6916.2,2,0)
PATCH NUMBER^FI^^0;2^K:$L(X)>10!($L(X)<6) X
"^DD",6916.2,6916.2,2,3)
Enter the patch designation for hand receipt text.
"^DD",6916.2,6916.2,2,21,0)
^^1^1^3071112^
"^DD",6916.2,6916.2,2,21,1,0)
This is the patch that distributed this version of the hand receipt text.
"^DD",6916.2,6916.2,2,"DT")
3071218
"^DD",6916.2,6916.2,3,0)
CHECKSUM^FI^^0;3^K:$L(X)>15!($L(X)<1) X
"^DD",6916.2,6916.2,3,3)
Enter the calculated checksum of hand receipt text.
"^DD",6916.2,6916.2,3,21,0)
^^2^2^3071112^
"^DD",6916.2,6916.2,3,21,1,0)
This is the checksum of the standard hand receipt text, which is calculated
"^DD",6916.2,6916.2,3,21,2,0)
and stored to validate the integrity of the text.
"^DD",6916.2,6916.2,3,"DT")
3071218
"^DD",6916.2,6916.21,0)
TEXT SUB-FIELD^^.01^1
"^DD",6916.2,6916.21,0,"DT")
3071112
"^DD",6916.2,6916.21,0,"NM","TEXT")

"^DD",6916.2,6916.21,0,"UP")
6916.2
"^DD",6916.2,6916.21,.01,0)
TEXT^WL^^0;1^Q
"^DD",6916.2,6916.21,.01,3)
Enter the hand receipt text to be displayed to the user.
"^DD",6916.2,6916.21,.01,21,0)
^.001^2^2^3080118^^
"^DD",6916.2,6916.21,.01,21,1,0)
This is the standard hand receipt text displayed to the user when
"^DD",6916.2,6916.21,.01,21,2,0)
responsibility is accepted.
"^DD",6916.2,6916.21,.01,"DT")
3071112
"^DD",6916.3,6916.3,0)
FIELD^^30^14
"^DD",6916.3,6916.3,0,"DDA")
N
"^DD",6916.3,6916.3,0,"DT")
3071204
"^DD",6916.3,6916.3,0,"ID",1)
S %I=Y,Y=$S('$D(^(0)):"",$D(^VA(200,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(200,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",6916.3,6916.3,0,"ID","WRITE")
N ENX S ENX=$$GET1^DIQ(6916.3,+Y,20) D EN^DDIOL("  "_ENX,"","?0") Q
"^DD",6916.3,6916.3,0,"IX","B",6916.3,.01)

"^DD",6916.3,6916.3,0,"IX","C",6916.3,1)

"^DD",6916.3,6916.3,0,"NM","IT ASSIGNMENT")

"^DD",6916.3,6916.3,.01,0)
EQUIPMENT^RP6914'I^ENG(6914,^0;1^Q
"^DD",6916.3,6916.3,.01,1,0)
^.1
"^DD",6916.3,6916.3,.01,1,1,0)
6916.3^B
"^DD",6916.3,6916.3,.01,1,1,1)
S ^ENG(6916.3,"B",$E(X,1,30),DA)=""
"^DD",6916.3,6916.3,.01,1,1,2)
K ^ENG(6916.3,"B",$E(X,1,30),DA)
"^DD",6916.3,6916.3,.01,3)
Select the IT equipment item.
"^DD",6916.3,6916.3,.01,21,0)
^.001^1^1^3071113^^^
"^DD",6916.3,6916.3,.01,21,1,0)
IT equipment item for which responsibility has been assigned.
"^DD",6916.3,6916.3,.01,"DT")
3071218
"^DD",6916.3,6916.3,1,0)
OWNER^RP200'I^VA(200,^0;2^Q
"^DD",6916.3,6916.3,1,1,0)
^.1
"^DD",6916.3,6916.3,1,1,1,0)
6916.3^C
"^DD",6916.3,6916.3,1,1,1,1)
S ^ENG(6916.3,"C",$E(X,1,30),DA)=""
"^DD",6916.3,6916.3,1,1,1,2)
K ^ENG(6916.3,"C",$E(X,1,30),DA)
"^DD",6916.3,6916.3,1,1,1,"%D",0)
^^1^1^3071114^
"^DD",6916.3,6916.3,1,1,1,"%D",1,0)
Regular cross-reference by owner.
"^DD",6916.3,6916.3,1,1,1,"DT")
3071114
"^DD",6916.3,6916.3,1,3)
Select a person assigned responsibility for the equipment.
"^DD",6916.3,6916.3,1,21,0)
^^1^1^3071114^
"^DD",6916.3,6916.3,1,21,1,0)
The person assigned responsibility for the IT equipment item.
"^DD",6916.3,6916.3,1,"DT")
3071218
"^DD",6916.3,6916.3,2,0)
ASSIGNED DATE/TIME^RDI^^0;3^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",6916.3,6916.3,2,3)
Enter the date and time the assignment was made.
"^DD",6916.3,6916.3,2,21,0)
^.001^2^2^3071121^^^^
"^DD",6916.3,6916.3,2,21,1,0)
The date/time that the assignment of responsibility was created in the 
"^DD",6916.3,6916.3,2,21,2,0)
file.  This value is automatically populated by the system.
"^DD",6916.3,6916.3,2,"DT")
3071218
"^DD",6916.3,6916.3,3,0)
ASSIGNED BY^RP200'I^VA(200,^0;4^Q
"^DD",6916.3,6916.3,3,3)
Select the person that created the assignment.
"^DD",6916.3,6916.3,3,21,0)
^.001^2^2^3071113^^^
"^DD",6916.3,6916.3,3,21,1,0)
The person that created the assignment of responsibility. This value is
"^DD",6916.3,6916.3,3,21,2,0)
automatically populated by the system.
"^DD",6916.3,6916.3,3,"DT")
3071218
"^DD",6916.3,6916.3,4,0)
SIGNED DATE/TIME^DI^^0;5^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",6916.3,6916.3,4,3)
Enter the date when the assignment was signed by the owner.
"^DD",6916.3,6916.3,4,21,0)
^^5^5^3071204^
"^DD",6916.3,6916.3,4,21,1,0)
The date and time that the OWNER electronically signed the hand receipt or
"^DD",6916.3,6916.3,4,21,2,0)
the date a hard copy hand receipt was signed.  This field is automatically
"^DD",6916.3,6916.3,4,21,3,0)
populated by the system if the OWNER electronically signs the hand
"^DD",6916.3,6916.3,4,21,4,0)
receipt.  This field is populated by the person in the CERTIFIED BY field
"^DD",6916.3,6916.3,4,21,5,0)
in the event a hard copy hand receipt was instead signed by the OWNER.
"^DD",6916.3,6916.3,4,"DT")
3071218
"^DD",6916.3,6916.3,5,0)
HAND RECEIPT TEXT^P6916.2'I^ENG(6916.2,^0;6^Q
"^DD",6916.3,6916.3,5,3)
Select hand receipt text that was signed.
"^DD",6916.3,6916.3,5,21,0)
^.001^1^1^3071114^^
"^DD",6916.3,6916.3,5,21,1,0)
The version of the hand receipt text that was signed.
"^DD",6916.3,6916.3,5,"DT")
3071218
"^DD",6916.3,6916.3,5.9,0)
CERTIFIED DATE/TIME^DI^^0;10^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",6916.3,6916.3,5.9,3)
Enter the date and time when a user certified a hard copy signature.
"^DD",6916.3,6916.3,5.9,21,0)
^.001^4^4^3071204^^
"^DD",6916.3,6916.3,5.9,21,1,0)
The date and time when a user certified there is a signed paper hand
"^DD",6916.3,6916.3,5.9,21,2,0)
receipt on file for the equipment item.  This field should only be
"^DD",6916.3,6916.3,5.9,21,3,0)
populated when the owner can not electronically sign the hand receipt for
"^DD",6916.3,6916.3,5.9,21,4,0)
some reason.
"^DD",6916.3,6916.3,5.9,"DT")
3071218
"^DD",6916.3,6916.3,6,0)
CERTIFIED BY^P200'I^VA(200,^0;7^Q
"^DD",6916.3,6916.3,6,3)
Select the person that certified there is a signed paper hand receipt.
"^DD",6916.3,6916.3,6,21,0)
^.001^3^3^3071114^^
"^DD",6916.3,6916.3,6,21,1,0)
The person that certified there is a signed paper hand receipt on file 
"^DD",6916.3,6916.3,6,21,2,0)
for the equipment item.  This field should only be populated when the 
"^DD",6916.3,6916.3,6,21,3,0)
owner can not electronically sign the hand receipt for some reason.
"^DD",6916.3,6916.3,6,"DT")
3071218
"^DD",6916.3,6916.3,7,0)
ENDED DATE/TIME^DI^^0;8^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",6916.3,6916.3,7,3)
Enter the date and time that the responsibility ended.
"^DD",6916.3,6916.3,7,21,0)
^.001^2^2^3071121^^
"^DD",6916.3,6916.3,7,21,1,0)
The date/time that the assignment of responsibility ended.  This field is
"^DD",6916.3,6916.3,7,21,2,0)
automatically populated when an assignment is terminated or transferred.
"^DD",6916.3,6916.3,7,"DT")
3071218
"^DD",6916.3,6916.3,8,0)
ENDED BY^P200'I^VA(200,^0;9^Q
"^DD",6916.3,6916.3,8,3)
Select the person that ended the assignment.
"^DD",6916.3,6916.3,8,21,0)
^^2^2^3071114^
"^DD",6916.3,6916.3,8,21,1,0)
The person that ended the assignment of responsibility.  This field is 
"^DD",6916.3,6916.3,8,21,2,0)
automatically populated when the assignment is terminated or transferred.
"^DD",6916.3,6916.3,8,"DT")
3071218
"^DD",6916.3,6916.3,9,0)
ENCRYPTED STRING^FI^^1;1^K:$L(X)>240!($L(X)<1) X
"^DD",6916.3,6916.3,9,3)
Answer must be 1-240 characters in length
"^DD",6916.3,6916.3,9,21,0)
^^2^2^3071114^
"^DD",6916.3,6916.3,9,21,1,0)
If the assignment was electronically signed by the owner, the signature 
"^DD",6916.3,6916.3,9,21,2,0)
block and key data values are encrypted and stored in this field.
"^DD",6916.3,6916.3,9,"DT")
3071218
"^DD",6916.3,6916.3,20,0)
STATUS^CJ9^^ ; ^X ^DD(6916.3,20,9.4) S X=$S(Y(6916.3,20,2):Y(6916.3,20,3),Y(6916.3,20,4):Y(6916.3,20,5),Y(6916.3,20,6):Y(6916.3,20,7),Y(6916.3,20,8):X)
"^DD",6916.3,6916.3,20,9.01)
6916.3^4;6916.3^6;6916.3^7
"^DD",6916.3,6916.3,20,9.1)
$S(#7]"":"ENDED",#6]"":"CERTIFIED",#4]"":"SIGNED",1:"ASSIGNED")
"^DD",6916.3,6916.3,20,9.2)
S Y(6916.3,20,1)=$S($D(^ENG(6916.3,D0,0)):^(0),1:"") S X=$P(Y(6916.3,20,1),U,8)]"",Y(6916.3,20,2)=$G(X) S X="ENDED",Y(6916.3,20,3)=$G(X)
"^DD",6916.3,6916.3,20,9.3)
X ^DD(6916.3,20,9.2) S X=$P($G(^VA(200,+$P(Y(6916.3,20,1),U,7),0)),U)]"",Y(6916.3,20,4)=$G(X) S X="CERTIFIED",Y(6916.3,20,5)=$G(X) S X=$P(Y(6916.3,20,1),U,5)
"^DD",6916.3,6916.3,20,9.4)
X ^DD(6916.3,20,9.3) S X=X]"",Y(6916.3,20,6)=$G(X) S X="SIGNED",Y(6916.3,20,7)=$G(X) S X=1,Y(6916.3,20,8)=$G(X) S X="ASSIGNED"
"^DD",6916.3,6916.3,20,21,0)
^.001^2^2^3071121^^
"^DD",6916.3,6916.3,20,21,1,0)
Computed field that contains the current status of the assignment.  The 
"^DD",6916.3,6916.3,20,21,2,0)
status may be ENDED, CERTIFIED, SIGNED, or ASSIGNED.
"^DD",6916.3,6916.3,20,"DT")
3071121
"^DD",6916.3,6916.3,21,0)
STATUS DATE^CJ8^^ ; ^X ^DD(6916.3,21,9.4) S:X X=$E(X,4,5)_"/"_$E(X,6,7)_"/"_$E(X,2,3)
"^DD",6916.3,6916.3,21,9.01)
6916.3^2;6916.3^4;6916.3^7
"^DD",6916.3,6916.3,21,9.1)
NUMDATE($S(#7]"":#7,#4]"":#4,1:#2))
"^DD",6916.3,6916.3,21,9.2)
S Y(6916.3,21,1)=$S($D(^ENG(6916.3,D0,0)):^(0),1:"") S X=$P(Y(6916.3,21,1),U,8)]"",Y(6916.3,21,2)=$G(X) S X=$P(Y(6916.3,21,1),U,8),Y(6916.3,21,3)=$G(X)
"^DD",6916.3,6916.3,21,9.3)
X ^DD(6916.3,21,9.2) S X=$P(Y(6916.3,21,1),U,5)]"",Y(6916.3,21,4)=$G(X) S X=$P(Y(6916.3,21,1),U,5),Y(6916.3,21,5)=$G(X) S X=1,Y(6916.3,21,6)=$G(X)
"^DD",6916.3,6916.3,21,9.4)
X ^DD(6916.3,21,9.3) S X=$P(Y(6916.3,21,1),U,3),X=$S(Y(6916.3,21,2):Y(6916.3,21,3),Y(6916.3,21,4):Y(6916.3,21,5),Y(6916.3,21,6):X)
"^DD",6916.3,6916.3,21,21,0)
^^2^2^3071121^
"^DD",6916.3,6916.3,21,21,1,0)
Computed field that contains the date (MM/DD/YY) when the assignment 
"^DD",6916.3,6916.3,21,21,2,0)
reached the current status.
"^DD",6916.3,6916.3,21,"DT")
3071121
"^DD",6916.3,6916.3,30,0)
PREVIOUS SIGNATURES^6916.31D^^3;0
"^DD",6916.3,6916.3,30,"DT")
3071204
"^DD",6916.3,6916.31,0)
PREVIOUS SIGNATURES SUB-FIELD^^4^5
"^DD",6916.3,6916.31,0,"DT")
3071204
"^DD",6916.3,6916.31,0,"IX","B",6916.31,.01)

"^DD",6916.3,6916.31,0,"NM","PREVIOUS SIGNATURES")

"^DD",6916.3,6916.31,0,"UP")
6916.3
"^DD",6916.3,6916.31,.01,0)
PREVIOUS SIGNED DATE/TIME^DI^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",6916.3,6916.31,.01,1,0)
^.1
"^DD",6916.3,6916.31,.01,1,1,0)
6916.31^B
"^DD",6916.3,6916.31,.01,1,1,1)
S ^ENG(6916.3,DA(1),3,"B",$E(X,1,30),DA)=""
"^DD",6916.3,6916.31,.01,1,1,2)
K ^ENG(6916.3,DA(1),3,"B",$E(X,1,30),DA)
"^DD",6916.3,6916.31,.01,3)
Enter signed date for the previous signature.
"^DD",6916.3,6916.31,.01,21,0)
^^4^4^3071204^
"^DD",6916.3,6916.31,.01,21,1,0)
The SIGNED DATE/TIME value for a previous signature. If an assignment is
"^DD",6916.3,6916.31,.01,21,2,0)
re-signed, any existing signature data is automatically moved to the
"^DD",6916.3,6916.31,.01,21,3,0)
corresponding fields in the PREVIOUS SIGNATURE multiple so the history is
"^DD",6916.3,6916.31,.01,21,4,0)
retained.
"^DD",6916.3,6916.31,.01,"DT")
3071218
"^DD",6916.3,6916.31,1,0)
HAND RECEIPT TEXT^P6916.2'I^ENG(6916.2,^0;2^Q
"^DD",6916.3,6916.31,1,3)
Select hand receipt text that was signed.
"^DD",6916.3,6916.31,1,21,0)
^^1^1^3071204^
"^DD",6916.3,6916.31,1,21,1,0)
The HAND RECEIPT TEXT value for the previous signature.
"^DD",6916.3,6916.31,1,"DT")
3071218
"^DD",6916.3,6916.31,2,0)
CERTIFIED DATE/TIME^DI^^0;3^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",6916.3,6916.31,2,3)
Enter the date and time when a user certified the hard copy signature.
"^DD",6916.3,6916.31,2,21,0)
^^1^1^3071204^
"^DD",6916.3,6916.31,2,21,1,0)
The CERTIFIED DATE/TIME value for the previous hard copy signature.  
"^DD",6916.3,6916.31,2,"DT")
3071218
"^DD",6916.3,6916.31,3,0)
CERTIFIED BY^P200'I^VA(200,^0;4^Q
"^DD",6916.3,6916.31,3,3)
Select the person that certified there is a hard copy signature.
"^DD",6916.3,6916.31,3,21,0)
^^1^1^3071204^
"^DD",6916.3,6916.31,3,21,1,0)
The CERTIFIED BY value for the previous signature.
"^DD",6916.3,6916.31,3,"DT")
3071218
"^DD",6916.3,6916.31,4,0)
ENCRYPTED STRING^FI^^1;1^K:$L(X)>240!($L(X)<1) X
"^DD",6916.3,6916.31,4,3)
Answer must be 1-240 characters in length
"^DD",6916.3,6916.31,4,21,0)
^^1^1^3071204^
"^DD",6916.3,6916.31,4,21,1,0)
The ENCRYPTED STRING value for a previous electronic signature.
"^DD",6916.3,6916.31,4,"DT")
3071218
"^DIC",6910.9,6910.9,0)
ENG DJ SCREEN^6910.9I
"^DIC",6910.9,6910.9,0,"GL")
^ENG(6910.9,
"^DIC",6910.9,6910.9,"%D",0)
^^1^1^2930430^^^
"^DIC",6910.9,6910.9,"%D",1,0)
File of screens used by Engineering Screen Handler.
"^DIC",6910.9,"B","ENG DJ SCREEN",6910.9)

"^DIC",6916.2,6916.2,0)
HAND RECEIPT TEXT^6916.2
"^DIC",6916.2,6916.2,0,"GL")
^ENG(6916.2,
"^DIC",6916.2,6916.2,"%D",0)
^1.001^5^5^3071121^^
"^DIC",6916.2,6916.2,"%D",1,0)
This file contains versions of the hand receipt text displayed to
"^DIC",6916.2,6916.2,"%D",2,0)
users when they accept responsibility for IT equipment.  The text
"^DIC",6916.2,6916.2,"%D",3,0)
versions are distributed via nationally issued patches to the
"^DIC",6916.2,6916.2,"%D",4,0)
Engineering package. For each version a checksum is calculated to
"^DIC",6916.2,6916.2,"%D",5,0)
detect unauthorized modifications.
"^DIC",6916.2,"B","HAND RECEIPT TEXT",6916.2)

"^DIC",6916.3,6916.3,0)
IT ASSIGNMENT^6916.3
"^DIC",6916.3,6916.3,0,"GL")
^ENG(6916.3,
"^DIC",6916.3,6916.3,"%",0)
^1.005^^
"^DIC",6916.3,6916.3,"%D",0)
^^4^4^3071114^
"^DIC",6916.3,6916.3,"%D",1,0)
This file contains assignments of responsibility for IT equipment.  The 
"^DIC",6916.3,6916.3,"%D",2,0)
data is only intended to be updated via package options.  Key data values 
"^DIC",6916.3,6916.3,"%D",3,0)
are protected by encryption once the owner has accepted responsibility 
"^DIC",6916.3,6916.3,"%D",4,0)
via electronic signature.
"^DIC",6916.3,"B","IT ASSIGNMENT",6916.3)

"BLD",7446,6)
^83
**END**
**END**
