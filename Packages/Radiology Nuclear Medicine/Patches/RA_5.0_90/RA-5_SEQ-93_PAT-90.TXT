$TXT Created by DAYON,RUFINO at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Thursday, 06/03/10 at 07:48
=============================================================================
Run Date: SEP 02, 2010                     Designation: RA*5*90
Package : RA - RADIOLOGY/NUCLEAR MEDICINE     Priority: Mandatory
Version : 5        SEQ #93                      Status: Released
                  Compliance Date: OCT 02, 2010
=============================================================================

Associated patches: (v)RA*5*56     <<= must be installed BEFORE `RA*5*90'
                    (v)RA*5*80     <<= must be installed BEFORE `RA*5*90'
                    (v)RA*5*99     <<= must be installed BEFORE `RA*5*90'

Subject: RADIOLOGY ORDER AND EXAM API

Category: 
  - Routine
  - Other
  - Data Dictionary
  - Enhancement (Mandatory)

Description:
============

 This patch adds a new Order and Exam API to the Radiology package. The API
 allows automatic (silent) creation of exam orders, patient registration
 for exam, marking cases as examined and/or complete.
  
 The function EXAM^RAMAG03C has been updated to include the business rules
 applied by VistA Radiology patch RA*5.0*99. Prior to this update it was
 found that the lack of exam related pregnancy data for female patients
 prevented the exam from moving to an Examination Status of COMPLETE.
  
 This patch fixes the <UNDEFINED> run-time error in input transforms of the
 ACTIVITY DRAWN (#4) and DOSE ADMINISTERED (#7) fields of the NUC MED EXAM
 DATA file (#70.2). This error occurred when the CHK^DIE was used for
 validation of input values for these fields. This problem was discovered
 during testing of the new remote procedures included in this patch.
  
 This patch also fixes the <UNDEFINED> error in INT+12^DIEV by exporting 
 updated versions of the following routines: RASTREQ & RAUTL8.
  
  
 Associated Remedy Tickets:
 =========================
   384853, 387781, 391450, 393419, 394736, 396003, 400226, 388596  
   and 389428
  
   Undefined error in Detailed Request Display option.
   Error -- <UNDEFINED>A+1^RAORD3 *Y.
  
   Resolution - The fix in routine RAUTL8 for undefined error 
   (INT+12^DIEV) during the validation of the Examination Status will
   also fix the error in remedy tickets 384853, 387781, 389428, 391450,
   393419, 394736, 396003, 388596 and 400226.
  
  
  
 Associated E3R: 
 ==============
  
 N/A
  
  
 Data Dictionary Information:
 ===========================
  
   File  Sub-File/Field    Comments
  -----  --------------   ----------------------------
  
   70.2  70.21,4   Testing of the patch RA*5*90 revealed an error
   70.2  70.21,7   in input transforms of the ACTIVITY DRAWN 
                   field (#4) and DOSE ADMINISTERED field (#7) of 
                   the RADIOPHARMACEUTICALS multiple (#100) of the
                   NUC MED EXAM DATA file (#70.2). This patch
                   fixes the problem by passing the potentially
                   undefined node to $GET function.
  
   79.7  1         This patch updates 2 fields of the RAD/NUC
   79.7  1.3       MED HL7 APPLICATION EXCEPTION file (#79.7): 
                   TELERADIOLOGY APPLICATION (#1) and APPLICATION 
                   TYPE (#1.3). They control HL7 messaging. 
  
  
 Templates:
 =========
  
 There are no new or modified templates included in this patch.
  
  
 Menu Options:
 ============
  
 There are no new or modified menu options included in this patch
  
  
 Security Keys:
 =============
  
 There are no new or modified security keys included in this patch.
  
  
 Remote Procedure Calls (RPCs):
 =============================
  
 The following remote procedures (RPC) are exported in this patch:
  
   RAMAG EXAM CANCEL
   RAMAG EXAM COMPLETE
   RAMAG EXAM ORDER
   RAMAG EXAM REGISTER
   RAMAG EXAM STATUS REQUIREMENTS
   RAMAG EXAMINED
   RAMAG ORDER CANCEL
  
  
 Test Sites:
 ==========
   Biloxi, MS (Large)
   Central Plains HCS (Integrated)
   Dayton, OH (Large)
   El Paso, TX  (Medium)
   Fayetteville, NC (Large)
   Heartland-West HCS (Integrated)
   Lexington, KY (Medium)
   Richmond, VA (Large)
   Salisbury, NC (Large)
   Shreveport, LA (Large)
  
 Installation Instructions: 
 =========================
  
 The patch can be installed with VistA users online.
  
 Installation of this patch will not take more than 10 minutes.
  
  1. Use the "INSTALL/CHECK MESSAGE" option of the Packman menu.
     This option loads the patch into a Transport Global on your
     system.
  
  2. Select the Installation submenu from the Kernel 
     Installation & Distribution System [XPD MAIN] menu.
  
  3. Verify integrity of the patch using the Verify 
     Checksums in Transport Global option [XPD PRINT CHECKSUM].
  
  4. Backup the routines exported with this patch using
     the Backup a Transport Global [XPD BACKUP] option.
  
  5. Optionally, use the following options:
  
     Print Transport Global [XPD PRINT INSTALL]
     Compare Transport Global to Current System [XPD COMPARE TO SYSTEM]
  
  6. Start the patch installation using the Install
     Package(s) [XPD INSTALL BUILD] option.
  
  7. Answer NO to the following prompts:
  
     Want KIDS to INHIBIT LOGONS during install?  No//NO
     Want to DISABLE Scheduled Options, Menu Options and Protocols?  No//NO
  
 The routine RA90PST contains the post-install code for the patch. It is 
 automatically deleted after the installation.
  
  
 Sample Installation:
 ===================
  
 Select INSTALL NAME: RA*5.0*90       Loaded from Distribution  
 3/16/09@15:07:07
      => Radiology Order and Exam API  ;Created on Mar 16, 2009@07:22:35
  
 This Distribution was loaded on Mar 16, 2009@15:07:07 with header of 
    Radiology Order and Exam API  ;Created on Mar 16, 2009@07:22:35
    It consisted of the following Install(s):
       RA*5.0*90
 Checking Install for Package RA*5.0*90
  
 Install Questions for RA*5.0*90
  
 Incoming Files:
  
    70.2      NUC MED EXAM DATA  (Partial Definition)
 Note:  You already have the 'NUC MED EXAM DATA' File.
  
    79.7      RAD/NUC MED HL7 APPLICATION EXCEPTION  (Partial Definition)
 Note:  You already have the 'RAD/NUC MED HL7 APPLICATION EXCEPTION' File.
  
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO// 
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   TELNET
  
  Install Started for RA*5.0*90 : 
                Mar 16, 2009@15:07:58
  
 Build Distribution Date: Mar 16, 2009
  
  Installing Routines:
                Mar 16, 2009@15:07:58
  
  Installing Data Dictionaries:
                Mar 16, 2009@15:07:58
  
  Installing PACKAGE COMPONENTS: 
  
  Installing DIALOG
  
  Installing REMOTE PROCEDURE
                Mar 16, 2009@15:07:58
  
  Running Post-Install Routine: POST^RA90PST
  
    Updating records of file #79.7...
    RA-PSCRIBE-TCP      Not found
    RA-TALKLINK-TCP     Not found
    RA-SCIMAGE-TCP      Ok
    RA-RADWHERE-TCP     Not found
  
  Updating Routine file...
  
  Updating KIDS files...
  
  RA*5.0*90 Installed. 
                Mar 16, 2009@15:07:59
  
  Install Message sent #29775
  
 Install Completed
  
  
 Post-installation Instructions:
 ==============================
  
 In order to distinguish speech recognition (dictation) HL7 applications
 from others, this patch updates existing records in the RAD/NUC MED HL7
 APPLICATION EXCEPTION file (#79.7): RA-PSCRIBE-TCP, RA-RADWHERE-TCP,
 RA-TALKLINK-TCP, and RA-SCIMAGE-TCP. The APPLICATION TYPE field (#1.3) of
 these records is set to 'S:Speech Recognition'.
  
 If needed, the Enter or Edit File Entries [DIEDIT] option can be used by
 sites to create/edit records in the RAD/NUC MED HL7 APPLICATION EXCEPTION
 file (#79.7) for other HL7 application parameter records of the HL7
 APPLICATION PARAMETER file (#771) that describe speech recognition 
 (dictation) systems.  The APPLICATION TYPE field (#1.3) of these records
 shall be set to 'S:Speech Recognition'.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.0;Radiology/Nuclear Medicine;**[Patch List]**;Mar 16, 1998;Build 20

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RA
    Before:       n/a   After:     B7446  **90**
Routine Name: RA01
    Before:       n/a   After:     B6414  **90**
Routine Name: RA90PST
    Before:       n/a   After:  B1243137  **90**
Routine Name: RAERR
    Before:       n/a   After: B15076912  **90**
Routine Name: RAERR01
    Before:       n/a   After: B17861694  **90**
Routine Name: RAKIDS
    Before:       n/a   After: B10188507  **90**
Routine Name: RALOCK
    Before:       n/a   After: B17064924  **90**
Routine Name: RALOCK01
    Before:       n/a   After: B16127704  **90**
Routine Name: RAMAG
    Before:       n/a   After:    B20144  **90**
Routine Name: RAMAG02
    Before:       n/a   After:  B8884852  **90**
Routine Name: RAMAG02A
    Before:       n/a   After: B40471638  **90**
Routine Name: RAMAG03
    Before:       n/a   After: B17195637  **90**
Routine Name: RAMAG03A
    Before:       n/a   After: B78208165  **90**
Routine Name: RAMAG03C
    Before:       n/a   After: B25745401  **90**
Routine Name: RAMAG03D
    Before:       n/a   After: B36215473  **90**
Routine Name: RAMAG04
    Before:       n/a   After: B11678417  **90**
Routine Name: RAMAG05
    Before:       n/a   After: B23360038  **90**
Routine Name: RAMAG06
    Before:       n/a   After: B45318084  **90**
Routine Name: RAMAG06A
    Before:       n/a   After: B10095420  **90**
Routine Name: RAMAG07
    Before:       n/a   After: B59585393  **90**
Routine Name: RAMAGHL
    Before:       n/a   After: B11085202  **90**
Routine Name: RAMAGRP1
    Before:       n/a   After: B31897762  **90**
Routine Name: RAMAGRP2
    Before:       n/a   After:  B6426063  **90**
Routine Name: RAMAGU01
    Before:       n/a   After: B42344620  **90**
Routine Name: RAMAGU02
    Before:       n/a   After: B33916082  **90**
Routine Name: RAMAGU03
    Before:       n/a   After: B12380535  **90**
Routine Name: RAMAGU04
    Before:       n/a   After: B18351920  **90**
Routine Name: RAMAGU05
    Before:       n/a   After: B36153469  **90**
Routine Name: RAMAGU06
    Before:       n/a   After: B43534472  **90**
Routine Name: RAMAGU07
    Before:       n/a   After:  B9459946  **90**
Routine Name: RAMAGU08
    Before:       n/a   After: B43666394  **90**
Routine Name: RAMAGU09
    Before:       n/a   After: B47840668  **90**
Routine Name: RAMAGU10
    Before:       n/a   After:  B7429399  **90**
Routine Name: RAMAGU11
    Before:       n/a   After:  B2169959  **90**
Routine Name: RAMAGU12
    Before:       n/a   After: B22940867  **90**
Routine Name: RAMAGU13
    Before:       n/a   After: B24543056  **90**
Routine Name: RAMAGU14
    Before:       n/a   After:  B6033679  **90**
Routine Name: RASTREQ
    Before: B55165659   After: B56283063  **1,10,23,40,56,99,90**
Routine Name: RAUTL22
    Before:       n/a   After: B29084710  **90**
Routine Name: RAUTL8
    Before: B70605252   After: B73540763  **45,72,99,90**
 
Routine list of preceding patches: 99

=============================================================================
User Information:
Entered By  : GAVRILOV,SERGUEI              Date Entered  : OCT 31, 2007
Completed By: TROMBETTA,KATHY               Date Completed: SEP 02, 2010
Released By : MASSEY,DAVID                  Date Released : SEP 02, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
