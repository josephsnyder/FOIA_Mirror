KIDS Distribution saved on Nov 08, 2013@17:36:18
DG*867 FB*146 IB*499
**KIDS**:NEWBORN DG FB IB BUNDLE 1.0^DG*5.3*867^FB*3.5*146^IB*2.0*499^

**INSTALL NAME**
NEWBORN DG FB IB BUNDLE 1.0
"BLD",8723,0)
NEWBORN DG FB IB BUNDLE 1.0^^1^3131108^y
"BLD",8723,1,0)
^^360^360^3131108^
"BLD",8723,1,1,0)
                            ***NOTICE***
"BLD",8723,1,2,0)
 Users should be made aware that processing of Newborn claims must ONLY be
"BLD",8723,1,3,0)
 entered in VistA. No entry in FBCS should be performed.
"BLD",8723,1,4,0)
                            ***********
"BLD",8723,1,5,0)
 This patch, along with FB*3.5*146 and IB*2.0*499, is being released as a 
"BLD",8723,1,6,0)
 bundle, and all three will be automatically installed in the correct order.
"BLD",8723,1,7,0)
 
"BLD",8723,1,8,0)
 This patch has enhancements that extend the capabilities of the Veterans
"BLD",8723,1,9,0)
 Health Information Systems and Technology Architecture (VistA) Patient
"BLD",8723,1,10,0)
 Registration system (DG), Fee Basis System (FB), and Integrated Billing 
"BLD",8723,1,11,0)
 (IB).  
"BLD",8723,1,12,0)
 
"BLD",8723,1,13,0)
 Below is a list of all the applications involved in this project along 
"BLD",8723,1,14,0)
 with their patch number:
"BLD",8723,1,15,0)
 
"BLD",8723,1,16,0)
   APPLICATION/VERSION                               PATCH
"BLD",8723,1,17,0)
   ---------------------------------------------------------------
"BLD",8723,1,18,0)
PATIENT REGISTRATION (DG) V 5.3                    DG*5.3*867
"BLD",8723,1,19,0)
FEE BASIS (FB) V 3.5                               FB*3.5*146
"BLD",8723,1,20,0)
INTEGRATED BILLING (IB) 2.0                        IB*2.0*499
"BLD",8723,1,21,0)
 
"BLD",8723,1,22,0)
The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released
"BLD",8723,1,23,0)
in the Kernel Installation and Distribution System  (KIDS) multi-build 
"BLD",8723,1,24,0)
distribution NEWBORN DG FB IB BUNDLE 1.0
"BLD",8723,1,25,0)
 
"BLD",8723,1,26,0)
The purpose of the Caregivers: Newborn Claims Processing Enhancement
"BLD",8723,1,27,0)
Project is to enhance VistA Fee Basis application in support of 
"BLD",8723,1,28,0)
compliance with Public Law 111- 163, the Caregiver and Veterans Omnibus
"BLD",8723,1,29,0)
Health Services Act of 2010. This law makes changes to sections of Title
"BLD",8723,1,30,0)
38, United States Code to furnish health care services to a newborn child
"BLD",8723,1,31,0)
of a Woman Veteran who is receiving maternity care furnished by the
"BLD",8723,1,32,0)
Department of Veterans Affairs (VA) for not more than seven days after
"BLD",8723,1,33,0)
the birth of the child.
"BLD",8723,1,34,0)
 
"BLD",8723,1,35,0)
The scope of these enhancements is to capture information on healthcare 
"BLD",8723,1,36,0)
services provided to newborn children of Women Veterans. Affected
"BLD",8723,1,37,0)
functions include eligibility determination, enrollment and registration,
"BLD",8723,1,38,0)
documentation of referrals and authorization for care, claims processing,
"BLD",8723,1,39,0)
and payment. Only modification to the Fee Basis (FB) and the Registration
"BLD",8723,1,40,0)
(DG) packages are necessary to meet the requirements of this enhancement.
"BLD",8723,1,41,0)
 
"BLD",8723,1,42,0)
The primary purpose of this enhancement is to allow the Electronic Filing 
"BLD",8723,1,43,0)
of Newborn claims.
"BLD",8723,1,44,0)
 
"BLD",8723,1,45,0)
Functional Description
"BLD",8723,1,46,0)
------------------------------
"BLD",8723,1,47,0)
The following features and functions have been added to the Fee Basis 
"BLD",8723,1,48,0)
workflow processes applying to both Civil Hospital and Medical Fee:
"BLD",8723,1,49,0)
 
"BLD",8723,1,50,0)
  1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"BLD",8723,1,51,0)
 PATIENT file (#391). This new selection will be available on Registration
"BLD",8723,1,52,0)
 Screen <7>.
"BLD",8723,1,53,0)
 
"BLD",8723,1,54,0)
  2. A sponsor is required for all Newborns determined by having the DOB less
"BLD",8723,1,55,0)
 than one (1) year from the present date. An inconsistency check has been added
"BLD",8723,1,56,0)
 to check the presence of a sponsor. If an inconsistency is found the
"BLD",8723,1,57,0)
 inconsistency check will prompt the user to return to Screen <15> in
"BLD",8723,1,58,0)
 registration to enter a Sponsor.
"BLD",8723,1,59,0)
 
"BLD",8723,1,60,0)
  3. All Sponsors for Newborns must be listed as eligible for care. An
"BLD",8723,1,61,0)
 inconsistency check will check the status of the Sponsors Eligibility. The
"BLD",8723,1,62,0)
 check will trigger if the Sponsor has no Eligibility status.
"BLD",8723,1,63,0)
 
"BLD",8723,1,64,0)
 All other statuses (i.e. Pending Verification, Verified, and Pending
"BLD",8723,1,65,0)
 Re-verification) are acceptable.
"BLD",8723,1,66,0)
 
"BLD",8723,1,67,0)
  4. Fee Authorization dates associated with Newborns have checks in place to
"BLD",8723,1,68,0)
 not allow Authorization dates that fall outside the accepted range of Newborn 
"BLD",8723,1,69,0)
 Authorization. The range is DOB to DOB+7. The system will warn the user and 
"BLD",8723,1,70,0)
 not accept an Authorization date that falls outside the appropriate range for 
"BLD",8723,1,71,0)
 a Newborn.
"BLD",8723,1,72,0)
 
"BLD",8723,1,73,0)
  5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"BLD",8723,1,74,0)
 Registration screens, Screen <15> will display the Newborn(s), with the
"BLD",8723,1,75,0)
 additional header of "Sponsored Newborn".
"BLD",8723,1,76,0)
 
"BLD",8723,1,77,0)
  6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"BLD",8723,1,78,0)
 the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"BLD",8723,1,79,0)
 
"BLD",8723,1,80,0)
  7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING
"BLD",8723,1,81,0)
 REGULATION file (#43.4). This new Admitting Regulation is available when
"BLD",8723,1,82,0)
 editing the 7078.
"BLD",8723,1,83,0)
 
"BLD",8723,1,84,0)
  8. The following default values were added when entering a Newborn with a 
"BLD",8723,1,85,0)
 date of birth of less than one (1) year from present date. Defaults will only 
"BLD",8723,1,86,0)
 be assigned when specified screens are accessed during the registration 
"BLD",8723,1,87,0)
 process: PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER 
"BLD",8723,1,88,0)
 MARRIED. APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is
"BLD",8723,1,89,0)
 defaulted to NOT EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married
"BLD",8723,1,90,0)
 Last Year field is defaulted to NO.
"BLD",8723,1,91,0)
 
"BLD",8723,1,92,0)
Patch Components
"BLD",8723,1,93,0)
================
"BLD",8723,1,94,0)
 
"BLD",8723,1,95,0)
 
"BLD",8723,1,96,0)
Files & Fields Associated:
"BLD",8723,1,97,0)
 
"BLD",8723,1,98,0)
 
"BLD",8723,1,99,0)
File Name (#)              Field Name (#)       New/Modified/Deleted
"BLD",8723,1,100,0)
-------------              ------------------   -----------------
"BLD",8723,1,101,0)
DG*5.3*867 patch contains:
"BLD",8723,1,102,0)
 
"BLD",8723,1,103,0)
TYPE OF PATIENT (#391)                           New Data content
"BLD",8723,1,104,0)
(Single new record added " NEWBORN OF VETERAN")  No Data Dictionary 
"BLD",8723,1,105,0)
                                                 changes
"BLD",8723,1,106,0)
 
"BLD",8723,1,107,0)
VA ADMITTING REGULATION (#43.4)                  New Data content
"BLD",8723,1,108,0)
(Single new record added: 
"BLD",8723,1,109,0)
"NON-VA FOR FEMALE VET+NEWBORN")                 No Data
"BLD",8723,1,110,0)
                                                 Dictionary changes
"BLD",8723,1,111,0)
 
"BLD",8723,1,112,0)
INCONSISTENT DATA ELEMENTS (#38.6)               New Data content
"BLD",8723,1,113,0)
Two new records added: 
"BLD",8723,1,114,0)
.313          NEWBORN REQUIRES SPONSOR.
"BLD",8723,1,115,0)
.314          NEWBORN NEEDS ELIGIBLE SPONSOR     No Data Dictionary 
"BLD",8723,1,116,0)
                                                 changes
"BLD",8723,1,117,0)
 
"BLD",8723,1,118,0)
FB*3.5*146 patch contains:
"BLD",8723,1,119,0)
 
"BLD",8723,1,120,0)
FEE BASIS PAYMENT REJECT CODE (#161.99)          New Data content
"BLD",8723,1,121,0)
(Single new record added .C166 - Newborn Claim outside of 7 day coverage")
"BLD",8723,1,122,0)
No Data Dictionary changes.
"BLD",8723,1,123,0)
 
"BLD",8723,1,124,0)
IB*2.0*499 patch contains:
"BLD",8723,1,125,0)
 
"BLD",8723,1,126,0)
SPONSOR RELATIONSHIP (#355.81)   FAMILY PREFIX (#.03)     Modified help 
"BLD",8723,1,127,0)
text
"BLD",8723,1,128,0)
***File not included in the FILE LIST. Help text modified by post-install
"BLD",8723,1,129,0)
routine ^IB499PO.
"BLD",8723,1,130,0)
 
"BLD",8723,1,131,0)
Forms Associated:
"BLD",8723,1,132,0)
 
"BLD",8723,1,133,0)
Form Name                File #                  New/Modified/Deleted
"BLD",8723,1,134,0)
---------                ------                  --------------------
"BLD",8723,1,135,0)
N/A
"BLD",8723,1,136,0)
 
"BLD",8723,1,137,0)
Mail Groups Associated:
"BLD",8723,1,138,0)
 
"BLD",8723,1,139,0)
Mail Group Name                                  New/Modified/Deleted
"BLD",8723,1,140,0)
---------------                                  --------------------
"BLD",8723,1,141,0)
N/A
"BLD",8723,1,142,0)
 
"BLD",8723,1,143,0)
Options Associated:
"BLD",8723,1,144,0)
 
"BLD",8723,1,145,0)
Option Name                    Type              New/Modified/Deleted
"BLD",8723,1,146,0)
-----------                    ----              --------------------
"BLD",8723,1,147,0)
N/A
"BLD",8723,1,148,0)
 
"BLD",8723,1,149,0)
Protocols Associated:
"BLD",8723,1,150,0)
 
"BLD",8723,1,151,0)
Protocol Name                     New/Modified/Deleted
"BLD",8723,1,152,0)
-------------                     --------------------
"BLD",8723,1,153,0)
N/A
"BLD",8723,1,154,0)
 
"BLD",8723,1,155,0)
Security Keys Associated:
"BLD",8723,1,156,0)
 
"BLD",8723,1,157,0)
Security Key Name
"BLD",8723,1,158,0)
-----------------
"BLD",8723,1,159,0)
N/A
"BLD",8723,1,160,0)
 
"BLD",8723,1,161,0)
Templates Associated:
"BLD",8723,1,162,0)
 
"BLD",8723,1,163,0)
Template Name       Type      File Name (#)     New/Modified/Deleted
"BLD",8723,1,164,0)
-------------       ----      -------------     --------------------
"BLD",8723,1,165,0)
FBAA AUTHORIZATION Input      #161              Modified
"BLD",8723,1,166,0)
FBCH ENTER REQUEST Input      #162.2            Modified
"BLD",8723,1,167,0)
 
"BLD",8723,1,168,0)
Additional Information:
"BLD",8723,1,169,0)
 
"BLD",8723,1,170,0)
 
"BLD",8723,1,171,0)
New Service Requests (NSRs):
"BLD",8723,1,172,0)
-----------------------------
"BLD",8723,1,173,0)
NSR 20100901
"BLD",8723,1,174,0)
 
"BLD",8723,1,175,0)
Patient Safety Issues (PSIs):
"BLD",8723,1,176,0)
------------------------------
"BLD",8723,1,177,0)
N/A
"BLD",8723,1,178,0)
 
"BLD",8723,1,179,0)
Remedy Ticket(s) & Overviews:
"BLD",8723,1,180,0)
-----------------------------
"BLD",8723,1,181,0)
N/A
"BLD",8723,1,182,0)
 
"BLD",8723,1,183,0)
 
"BLD",8723,1,184,0)
Test Sites:
"BLD",8723,1,185,0)
-----------
"BLD",8723,1,186,0)
 
"BLD",8723,1,187,0)
LEXINGTON
"BLD",8723,1,188,0)
PUGET SOUND
"BLD",8723,1,189,0)
 
"BLD",8723,1,190,0)
Documentation Retrieval Instructions:
"BLD",8723,1,191,0)
-------------------------------------
"BLD",8723,1,192,0)
Updated documentation describing the new functionality introduced by this 
"BLD",8723,1,193,0)
 patch is available.
"BLD",8723,1,194,0)
 
"BLD",8723,1,195,0)
 The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"BLD",8723,1,196,0)
 This transmits the files from the first available FTP server. Sites may also
"BLD",8723,1,197,0)
 elect to retrieve software directly from a specific server as follows:
"BLD",8723,1,198,0)
 
"BLD",8723,1,199,0)
   Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"BLD",8723,1,200,0)
   Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"BLD",8723,1,201,0)
   Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"BLD",8723,1,202,0)
 
"BLD",8723,1,203,0)
  The documentation will be in the form of Adobe Acrobat files.
"BLD",8723,1,204,0)
 
"BLD",8723,1,205,0)
  Documentation can also be found on the VA Software Documentation Library
"BLD",8723,1,206,0)
  at: http://www4.domain.ext/vdl/
"BLD",8723,1,207,0)
 
"BLD",8723,1,208,0)
  File Description                          File Name             FTP Mode
"BLD",8723,1,209,0)
  --------------------------------------------------------------------------
"BLD",8723,1,210,0)
  Fee Basis User Manual                     fb3_5um.pdf           Binary
"BLD",8723,1,211,0)
  PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"BLD",8723,1,212,0)
  
"BLD",8723,1,213,0)
 The procedure guide, Care for Newborn of Women Veterans, located at 
"BLD",8723,1,214,0)
 http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp, 
"BLD",8723,1,215,0)
 should be distributed to those personnel registering newborns and/or 
"BLD",8723,1,216,0)
 processing newborn claims.
"BLD",8723,1,217,0)
 
"BLD",8723,1,218,0)
Patch Installation:
"BLD",8723,1,219,0)
 
"BLD",8723,1,220,0)
Pre/Post Installation Overview
"BLD",8723,1,221,0)
------------------------------
"BLD",8723,1,222,0)
 There are three post installation routines associated with this patch DG867PO,
"BLD",8723,1,223,0)
 FB146PO, and IB499PO. These routines primarily serve as filters for the data
"BLD",8723,1,224,0)
 transmitted to the appropriate files listed above, so that only the intended
"BLD",8723,1,225,0)
 data is delivered. The only exception is the IB499PO routine which
"BLD",8723,1,226,0)
 programmatically makes an addition to the help text of the FAMILY PREFIX field
"BLD",8723,1,227,0)
 (#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post installation
"BLD",8723,1,228,0)
 routines may be deleted after successful installation of the NEWBORN DG FB IB
"BLD",8723,1,229,0)
 BUNDLE 1.0
"BLD",8723,1,230,0)
 
"BLD",8723,1,231,0)
Installation Instructions
"BLD",8723,1,232,0)
-------------------------
"BLD",8723,1,233,0)
 This patch may be installed with users on the system although it is 
"BLD",8723,1,234,0)
 recommended that it be installed during non-peak hours to minimize potential 
"BLD",8723,1,235,0)
 disruption to users. This patch should take less than 5 minutes to install.
"BLD",8723,1,236,0)
 
"BLD",8723,1,237,0)
 FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"BLD",8723,1,238,0)
 
"BLD",8723,1,239,0)
 DG*5.3*867 is one of three patches for this release (including FB*3.5*146 
"BLD",8723,1,240,0)
 and IB*2.0*499). The patches will be installed as a bundle in the following 
"BLD",8723,1,241,0)
 order:
"BLD",8723,1,242,0)
 
"BLD",8723,1,243,0)
 1) DG*5.3*867 
"BLD",8723,1,244,0)
 2) FB*3.5*146
"BLD",8723,1,245,0)
 3) IB*2.0*499
"BLD",8723,1,246,0)
 
"BLD",8723,1,247,0)
  Pre-Installation Instructions
"BLD",8723,1,248,0)
  -----------------------------
"BLD",8723,1,249,0)
  1.  OBTAIN PATCHES
"BLD",8723,1,250,0)
      --------------
"BLD",8723,1,251,0)
 Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"BLD",8723,1,252,0)
 patches:
"BLD",8723,1,253,0)
 
"BLD",8723,1,254,0)
  DG*5.3*867
"BLD",8723,1,255,0)
  FB*3.5*146
"BLD",8723,1,256,0)
  IB*2.0*499
"BLD",8723,1,257,0)
 
"BLD",8723,1,258,0)
 Sites can retrieve VistA software from the following FTP addresses. The
"BLD",8723,1,259,0)
 preferred method is to FTP the files from:
"BLD",8723,1,260,0)
 
"BLD",8723,1,261,0)
                      download.vista.domain.ext
"BLD",8723,1,262,0)
 
"BLD",8723,1,263,0)
 This will transmit the files from the first available FTP server. Sites may
"BLD",8723,1,264,0)
 also elect to retrieve software directly from a specific server as follows:
"BLD",8723,1,265,0)
 
"BLD",8723,1,266,0)
         Albany                  DOMAIN.EXT
"BLD",8723,1,267,0)
         Hines                   DOMAIN.EXT
"BLD",8723,1,268,0)
         Salt Lake City          DOMAIN.EXT
"BLD",8723,1,269,0)
 
"BLD",8723,1,270,0)
 The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"BLD",8723,1,271,0)
 directory. Use ASCII Mode when downloading the file.
"BLD",8723,1,272,0)
 
"BLD",8723,1,273,0)
  2.  START UP KIDS
"BLD",8723,1,274,0)
      -------------
"BLD",8723,1,275,0)
      Start up the Kernel Installation and Distribution System Menu option
"BLD",8723,1,276,0)
      [XPD MAIN]:
"BLD",8723,1,277,0)
 
"BLD",8723,1,278,0)
           Edits and Distribution ...
"BLD",8723,1,279,0)
           Utilities ...
"BLD",8723,1,280,0)
           Installation ...
"BLD",8723,1,281,0)
 
"BLD",8723,1,282,0)
      Select Kernel Installation & Distribution System Option: Installation
"BLD",8723,1,283,0)
                                                               ---
"BLD",8723,1,284,0)
           Load a Distribution
"BLD",8723,1,285,0)
           Print Transport Global
"BLD",8723,1,286,0)
           Compare Transport Global to Current System
"BLD",8723,1,287,0)
           Verify Checksums in Transport Global
"BLD",8723,1,288,0)
           Install Package(s)
"BLD",8723,1,289,0)
           Restart Install of Package(s)
"BLD",8723,1,290,0)
           Unload a Distribution
"BLD",8723,1,291,0)
           Backup a Transport Global
"BLD",8723,1,292,0)
 
"BLD",8723,1,293,0)
      Select Installation Option:
"BLD",8723,1,294,0)
 
"BLD",8723,1,295,0)
  3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"BLD",8723,1,296,0)
      -------------------------------------
"BLD",8723,1,297,0)
      From the Installation menu, select the Load a Distribution option.
"BLD",8723,1,298,0)
 
"BLD",8723,1,299,0)
      When prompted for "Enter a Host File:" Enter the full directory path
"BLD",8723,1,300,0)
      where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"BLD",8723,1,301,0)
      (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"BLD",8723,1,302,0)
 
"BLD",8723,1,303,0)
  When prompted for "OK to continue with Load? NO//", Enter "YES."
"BLD",8723,1,304,0)
 
"BLD",8723,1,305,0)
      The following will display:
"BLD",8723,1,306,0)
 
"BLD",8723,1,307,0)
        Loading Distribution...
"BLD",8723,1,308,0)
 
"BLD",8723,1,309,0)
     NEWBORN DG FB IB BUNDLE 1.0
"BLD",8723,1,310,0)
     DG*5.3*867
"BLD",8723,1,311,0)
     FB*3.5*146
"BLD",8723,1,312,0)
     IB*2.0*499
"BLD",8723,1,313,0)
     Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this 
"BLD",8723,1,314,0)
     distribution .
"BLD",8723,1,315,0)
 
"BLD",8723,1,316,0)
  4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"BLD",8723,1,317,0)
      -------------------------------------------------
"BLD",8723,1,318,0)
      From the Installation menu, you may select to use the following options
"BLD",8723,1,319,0)
 (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0 
"BLD",8723,1,320,0)
 
"BLD",8723,1,321,0)
      a.  Backup a Transport Global - This option will create a backup
"BLD",8723,1,322,0)
          message of any routines exported with this patch. It will not
"BLD",8723,1,323,0)
          backup any other changes such as data dictionaries or templates.
"BLD",8723,1,324,0)
      b.  Compare Transport Global to Current System - This option will
"BLD",8723,1,325,0)
          allow you to view all changes that will be made when this patch
"BLD",8723,1,326,0)
          is installed.  It compares all components of this patch
"BLD",8723,1,327,0)
          (routines, data dictionaries, templates, etc.).
"BLD",8723,1,328,0)
      c.  Verify Checksums in Transport Global - This option will allow
"BLD",8723,1,329,0)
          you to ensure the integrity of the routines that are in the
"BLD",8723,1,330,0)
          transport global.
"BLD",8723,1,331,0)
 
"BLD",8723,1,332,0)
  5.  INSTALL MULTI-BUILD
"BLD",8723,1,333,0)
      -------------------
"BLD",8723,1,334,0)
    This is the step to start the installation of this KIDS patch.  This will 
"BLD",8723,1,335,0)
    need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"BLD",8723,1,336,0)
 
"BLD",8723,1,337,0)
     a.  Choose the Install Package(s) option to start the patch
"BLD",8723,1,338,0)
          install.
"BLD",8723,1,339,0)
     b.  When prompted for the "Select INSTALL NAME:" enter
"BLD",8723,1,340,0)
           NEWBORN DG FB IB BUNDLE 1.0 
"BLD",8723,1,341,0)
     c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"BLD",8723,1,342,0)
          NO//", answer NO
"BLD",8723,1,343,0)
     d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"BLD",8723,1,344,0)
          and Protocols? NO//", answer NO
"BLD",8723,1,345,0)
     e.  When prompted "Device: HOME//", enter HOME 
"BLD",8723,1,346,0)
          to display the Install message on the screen (or enter the device
"BLD",8723,1,347,0)
          you want to print the Install message). You may queue the
"BLD",8723,1,348,0)
          install if you wish.
"BLD",8723,1,349,0)
 
"BLD",8723,1,350,0)
 
"BLD",8723,1,351,0)
 Post-Installation Instructions
"BLD",8723,1,352,0)
 ------------------------------
"BLD",8723,1,353,0)
 
"BLD",8723,1,354,0)
 *** IMPORTANT NOTE ***
"BLD",8723,1,355,0)
 Please note there are three post installation routines that may be deleted
"BLD",8723,1,356,0)
 after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"BLD",8723,1,357,0)
 
"BLD",8723,1,358,0)
 DG867PO        
"BLD",8723,1,359,0)
 FB146PO 
"BLD",8723,1,360,0)
 IB499PO
"BLD",8723,6.3)
20
"BLD",8723,10,0)
^9.63^3^3
"BLD",8723,10,1,0)
DG*5.3*867^1
"BLD",8723,10,2,0)
FB*3.5*146^1
"BLD",8723,10,3,0)
IB*2.0*499^1
"BLD",8723,10,"B","DG*5.3*867",1)

"BLD",8723,10,"B","FB*3.5*146",2)

"BLD",8723,10,"B","IB*2.0*499",3)

"MBREQ")
0
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"VER")
8.0^22.0
**INSTALL NAME**
DG*5.3*867
"BLD",8715,0)
DG*5.3*867^REGISTRATION^0^3131108^y
"BLD",8715,1,0)
^^348^348^3131108^
"BLD",8715,1,1,0)
                           ***NOTICE***
"BLD",8715,1,2,0)
Users should be made aware that processing of Newborn claims must ONLY be
"BLD",8715,1,3,0)
entered in VistA. No entry in FBCS should be performed.
"BLD",8715,1,4,0)
                           ***********
"BLD",8715,1,5,0)
This patch, along with FB*3.5*146 and IB*2.0*499, is being released as a
"BLD",8715,1,6,0)
bundle, and all three will be automatically installed in the correct order.
"BLD",8715,1,7,0)
 
"BLD",8715,1,8,0)
This patch has enhancements that extend the capabilities of the Veterans
"BLD",8715,1,9,0)
Health Information Systems and Technology Architecture (VistA) Patient
"BLD",8715,1,10,0)
Registration system (DG), Fee Basis System (FB), and Integrated Billing
"BLD",8715,1,11,0)
(IB).
"BLD",8715,1,12,0)
 
"BLD",8715,1,13,0)
Below is a list of all the applications involved in this project along with
"BLD",8715,1,14,0)
their patch number:
"BLD",8715,1,15,0)
 
"BLD",8715,1,16,0)
    APPLICATION/VERSION                                   PATCH
"BLD",8715,1,17,0)
    ---------------------------------------------------------------
"BLD",8715,1,18,0)
 PATIENT REGISTRATION (DG) V 5.3                       DG*5.3*867
"BLD",8715,1,19,0)
 FEE BASIS (FB) V 3.5                                  FB*3.5*146
"BLD",8715,1,20,0)
 INTEGRATED BILLING (IB) 2.0                           IB*2.0*499
"BLD",8715,1,21,0)
 
"BLD",8715,1,22,0)
The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released in the
"BLD",8715,1,23,0)
Kernel Installation and Distribution System (KIDS) multi-build distribution
"BLD",8715,1,24,0)
NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,25,0)
 
"BLD",8715,1,26,0)
The purpose of the Caregivers: Newborn Claims Processing Enhancement Project
"BLD",8715,1,27,0)
is to enhance VistA Fee Basis application in support of compliance with
"BLD",8715,1,28,0)
Public Law 111-163, the Caregiver and Veterans Omnibus Health Services Act
"BLD",8715,1,29,0)
of 2010. This law makes changes to sections of Title 38, United States Code
"BLD",8715,1,30,0)
to furnish health care services to a newborn child of a Woman Veteran who
"BLD",8715,1,31,0)
is receiving maternity care furnished by the Department of Veterans Affairs
"BLD",8715,1,32,0)
(VA) for not more than seven days after the birth of the child.
"BLD",8715,1,33,0)
 
"BLD",8715,1,34,0)
The scope of these enhancements is to capture information on healthcare
"BLD",8715,1,35,0)
services provided to newborn children of Women Veterans. Affected functions
"BLD",8715,1,36,0)
include eligibility determination, enrollment and registration, documentation
"BLD",8715,1,37,0)
of referrals and authorization for care, claims processing, and payment. Only
"BLD",8715,1,38,0)
modification to the Fee Basis (FB) and the Registration (DG) packages are
"BLD",8715,1,39,0)
necessary to meet the requirements of this enhancement. The Integrated
"BLD",8715,1,40,0)
Billing (IB) Patch is included to provide required data for the Fee Basis
"BLD",8715,1,41,0)
install to reference.
"BLD",8715,1,42,0)
 
"BLD",8715,1,43,0)
 
"BLD",8715,1,44,0)
The primary purpose of this enhancement is to allow the Electronic Filing of
"BLD",8715,1,45,0)
Newborn claims.
"BLD",8715,1,46,0)
 
"BLD",8715,1,47,0)
Functional Description
"BLD",8715,1,48,0)
------------------------------
"BLD",8715,1,49,0)
The following features and functions have been added to the Fee Basis workflow
"BLD",8715,1,50,0)
process applying to both Civil Hospital and Medical Fee:
"BLD",8715,1,51,0)
 
"BLD",8715,1,52,0)
 1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"BLD",8715,1,53,0)
PATIENT file (#391). This new selection will be available on Registration
"BLD",8715,1,54,0)
Screen <7>.
"BLD",8715,1,55,0)
 
"BLD",8715,1,56,0)
 2. A sponsor is required for all Newborns determined by having the DOB less
"BLD",8715,1,57,0)
than one (1) year from the present date. An inconsistency check has been added
"BLD",8715,1,58,0)
to check the presence of a sponsor. If an inconsistency is found the
"BLD",8715,1,59,0)
inconsistency check will prompt the user to return to Screen <15> in
"BLD",8715,1,60,0)
registration to enter a Sponsor.
"BLD",8715,1,61,0)
 
"BLD",8715,1,62,0)
 3. All Sponsors for Newborns must be listed as eligible for care. An
"BLD",8715,1,63,0)
inconsistency check will check the status of the Sponsors Eligibility. The
"BLD",8715,1,64,0)
check will trigger if the Sponsor has no Eligibility status.
"BLD",8715,1,65,0)
 
"BLD",8715,1,66,0)
All other statuses (i.e. Pending Verification, Verified, and Pending
"BLD",8715,1,67,0)
Re-verification) are acceptable.
"BLD",8715,1,68,0)
 
"BLD",8715,1,69,0)
 4. Fee Authorization dates associated with Newborns have checks in place to
"BLD",8715,1,70,0)
not allow Authorization dates that fall outside the accepted range of Newborn
"BLD",8715,1,71,0)
Authorization. The range is DOB to DOB+7. The system will warn the user and
"BLD",8715,1,72,0)
not accept an Authorization date that falls outside the appropriate range for
"BLD",8715,1,73,0)
a Newborn.
"BLD",8715,1,74,0)
 
"BLD",8715,1,75,0)
 5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"BLD",8715,1,76,0)
Registration screens, Screen <15> will display the Newborn(s), with the
"BLD",8715,1,77,0)
additional header of "Sponsored Newborn".
"BLD",8715,1,78,0)
 
"BLD",8715,1,79,0)
 6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"BLD",8715,1,80,0)
the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"BLD",8715,1,81,0)
 
"BLD",8715,1,82,0)
 8. The following default values were added when entering a Newborn with a
"BLD",8715,1,83,0)
date of birth of less than one (1) year from present date. Defaults will 
"BLD",8715,1,84,0)
only  be assigned when specified screens are accessed during the
"BLD",8715,1,85,0)
registration process: PATIENT DATA, SCREEN <2> Marital field is defaulted
"BLD",8715,1,86,0)
to NEVER MARRIED. APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status
"BLD",8715,1,87,0)
field is defaulted to NOT EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8>
"BLD",8715,1,88,0)
Married Last Year field is defaulted to NO.
"BLD",8715,1,89,0)
 
"BLD",8715,1,90,0)
 
"BLD",8715,1,91,0)
 Patch Components
"BLD",8715,1,92,0)
 ================
"BLD",8715,1,93,0)
 
"BLD",8715,1,94,0)
 
"BLD",8715,1,95,0)
 Files & Fields Associated:
"BLD",8715,1,96,0)
 
"BLD",8715,1,97,0)
 
"BLD",8715,1,98,0)
 File Name (#)                   Field Name (#)        New/Modified/Deleted
"BLD",8715,1,99,0)
 -------------                   --------------        -----------------
"BLD",8715,1,100,0)
 TYPE OF PATIENT (#391)          NAME (#.01)           New Data content
"BLD",8715,1,101,0)
 (Single new record added "NEWBORN OF VETERAN")        No Data Dictionary
"BLD",8715,1,102,0)
                                                       changes
"BLD",8715,1,103,0)
 
"BLD",8715,1,104,0)
 VA ADMITTING REGULATION (#43.4) NAME (#.01)           New Data content
"BLD",8715,1,105,0)
 (Single new record added "NON-VA FOR FEMALE VET+NEWBORN")
"BLD",8715,1,106,0)
                                                       No Data Dictionary
"BLD",8715,1,107,0)
                                                       changes
"BLD",8715,1,108,0)
 
"BLD",8715,1,109,0)
 INCONSISTENT DATA ELEMENTS (#38.6)                    New Data content
"BLD",8715,1,110,0)
 Two new records added:
"BLD",8715,1,111,0)
 313    NEWBORN REQUIRES SPONSOR
"BLD",8715,1,112,0)
 314    NEWBORN NEEDS ELIGIBLE SPONSOR                 No Data Dictionary
"BLD",8715,1,113,0)
                                                       changes
"BLD",8715,1,114,0)
 
"BLD",8715,1,115,0)
 
"BLD",8715,1,116,0)
 Forms Associated:
"BLD",8715,1,117,0)
 
"BLD",8715,1,118,0)
 Form Name                File #                  New/Modified/Deleted
"BLD",8715,1,119,0)
 ---------                ------                  --------------------
"BLD",8715,1,120,0)
 N/A
"BLD",8715,1,121,0)
 
"BLD",8715,1,122,0)
 Mail Groups Associated:
"BLD",8715,1,123,0)
 
"BLD",8715,1,124,0)
 
"BLD",8715,1,125,0)
 Mail Group Name                                  New/Modified/Deleted
"BLD",8715,1,126,0)
 ---------------                                  --------------------
"BLD",8715,1,127,0)
 N/A
"BLD",8715,1,128,0)
 
"BLD",8715,1,129,0)
 Options Associated:
"BLD",8715,1,130,0)
 
"BLD",8715,1,131,0)
 Option Name                    Type              New/Modified/Deleted
"BLD",8715,1,132,0)
 -----------                    ----              --------------------
"BLD",8715,1,133,0)
 N/A
"BLD",8715,1,134,0)
 
"BLD",8715,1,135,0)
 Protocols Associated:
"BLD",8715,1,136,0)
 
"BLD",8715,1,137,0)
 Protocol Name                                    New/Modified/Deleted
"BLD",8715,1,138,0)
 -------------                                    --------------------
"BLD",8715,1,139,0)
 N/A
"BLD",8715,1,140,0)
 
"BLD",8715,1,141,0)
 Security Keys Associated:
"BLD",8715,1,142,0)
 
"BLD",8715,1,143,0)
 Security Key Name
"BLD",8715,1,144,0)
 -----------------
"BLD",8715,1,145,0)
 N/A
"BLD",8715,1,146,0)
 
"BLD",8715,1,147,0)
 Templates Associated:
"BLD",8715,1,148,0)
 
"BLD",8715,1,149,0)
 Template Name       Type      File Name (#)     New/Modified/Deleted
"BLD",8715,1,150,0)
 -------------       ----      -------------     --------------------
"BLD",8715,1,151,0)
 
"BLD",8715,1,152,0)
 
"BLD",8715,1,153,0)
 Additional Information:
"BLD",8715,1,154,0)
 
"BLD",8715,1,155,0)
 
"BLD",8715,1,156,0)
 New Service Requests (NSRs):
"BLD",8715,1,157,0)
 -----------------------------
"BLD",8715,1,158,0)
 NSR 20100901
"BLD",8715,1,159,0)
 
"BLD",8715,1,160,0)
 Patient Safety Issues (PSIs):
"BLD",8715,1,161,0)
 ------------------------------
"BLD",8715,1,162,0)
 N/A
"BLD",8715,1,163,0)
 
"BLD",8715,1,164,0)
 Remedy Ticket(s) & Overviews:
"BLD",8715,1,165,0)
 -----------------------------
"BLD",8715,1,166,0)
 N/A
"BLD",8715,1,167,0)
 
"BLD",8715,1,168,0)
 
"BLD",8715,1,169,0)
 Test Sites:
"BLD",8715,1,170,0)
 -----------
"BLD",8715,1,171,0)
 
"BLD",8715,1,172,0)
 LEXINGTON
"BLD",8715,1,173,0)
 PUGET SOUND
"BLD",8715,1,174,0)
 
"BLD",8715,1,175,0)
 
"BLD",8715,1,176,0)
Documentation Retrieval Instructions:
"BLD",8715,1,177,0)
-------------------------------------
"BLD",8715,1,178,0)
Updated documentation describing the new functionality introduced by this
"BLD",8715,1,179,0)
patch is available.
"BLD",8715,1,180,0)
 
"BLD",8715,1,181,0)
The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"BLD",8715,1,182,0)
This transmits the files from the first available FTP server. Sites may also
"BLD",8715,1,183,0)
elect to retrieve software directly from a specific server as follows:
"BLD",8715,1,184,0)
 
"BLD",8715,1,185,0)
  Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"BLD",8715,1,186,0)
  Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"BLD",8715,1,187,0)
  Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"BLD",8715,1,188,0)
 
"BLD",8715,1,189,0)
 The documentation will be in the form of Adobe Acrobat files.
"BLD",8715,1,190,0)
 
"BLD",8715,1,191,0)
 Documentation can also be found on the VA Software Documentation Library
"BLD",8715,1,192,0)
 at: http://www4.domain.ext/vdl/
"BLD",8715,1,193,0)
 
"BLD",8715,1,194,0)
 File Description                          File Name             FTP Mode
"BLD",8715,1,195,0)
 --------------------------------------------------------------------------
"BLD",8715,1,196,0)
 Fee Basis User Manual                     fb3_5um.pdf           Binary
"BLD",8715,1,197,0)
 PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"BLD",8715,1,198,0)
 
"BLD",8715,1,199,0)
The procedure guide, Care for Newborn of Women Veterans, located at
"BLD",8715,1,200,0)
http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp,
"BLD",8715,1,201,0)
should be distributed to those personnel registering newborns and/or
"BLD",8715,1,202,0)
processing newborn claims.
"BLD",8715,1,203,0)
 
"BLD",8715,1,204,0)
 
"BLD",8715,1,205,0)
 Patch Installation:
"BLD",8715,1,206,0)
 
"BLD",8715,1,207,0)
 
"BLD",8715,1,208,0)
Pre/Post Installation Overview
"BLD",8715,1,209,0)
------------------------------
"BLD",8715,1,210,0)
There are three post installation routines associated with this patch DG867PO,
"BLD",8715,1,211,0)
FB146PO, and IB499PO. These routines primarily serve as filters for the data
"BLD",8715,1,212,0)
transmitted to the appropriate files listed above, so that only the intended
"BLD",8715,1,213,0)
data is delivered. The only exception is the IB499PO routine which
"BLD",8715,1,214,0)
programmatically makes an addition to the help text of the FAMILY PREFIX field
"BLD",8715,1,215,0)
(#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post installation
"BLD",8715,1,216,0)
routines may be deleted after successful installation of the NEWBORN DG FB IB
"BLD",8715,1,217,0)
BUNDLE 1.0
"BLD",8715,1,218,0)
 
"BLD",8715,1,219,0)
Installation Instructions
"BLD",8715,1,220,0)
-------------------------
"BLD",8715,1,221,0)
This patch may be installed with users on the system although it is
"BLD",8715,1,222,0)
recommended that it be installed during non-peak hours to minimize potential
"BLD",8715,1,223,0)
disruption to users. This patch should take less than 5 minutes to install.
"BLD",8715,1,224,0)
 
"BLD",8715,1,225,0)
FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"BLD",8715,1,226,0)
 
"BLD",8715,1,227,0)
DG*5.3*867 is one of three patches for this release (including FB*3.5*146 and
"BLD",8715,1,228,0)
IB*2.0*499). The patches will be installed as a bundle in the following order:
"BLD",8715,1,229,0)
 
"BLD",8715,1,230,0)
1) DG*5.3*867
"BLD",8715,1,231,0)
2) FB*3.5*146
"BLD",8715,1,232,0)
3) IB*2.0*499
"BLD",8715,1,233,0)
 
"BLD",8715,1,234,0)
 
"BLD",8715,1,235,0)
 Pre-Installation Instructions
"BLD",8715,1,236,0)
 -----------------------------
"BLD",8715,1,237,0)
 1.  OBTAIN PATCHES
"BLD",8715,1,238,0)
     --------------
"BLD",8715,1,239,0)
Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"BLD",8715,1,240,0)
patches:
"BLD",8715,1,241,0)
 
"BLD",8715,1,242,0)
 DG*5.3*867
"BLD",8715,1,243,0)
 FB*3.5*146
"BLD",8715,1,244,0)
 IB*2.0*499
"BLD",8715,1,245,0)
 
"BLD",8715,1,246,0)
Sites can retrieve VistA software from the following FTP addresses. The
"BLD",8715,1,247,0)
preferred method is to FTP the files from:
"BLD",8715,1,248,0)
 
"BLD",8715,1,249,0)
                     download.vista.domain.ext
"BLD",8715,1,250,0)
 
"BLD",8715,1,251,0)
This will transmit the files from the first available FTP server. Sites may
"BLD",8715,1,252,0)
also elect to retrieve software directly from a specific server as follows:
"BLD",8715,1,253,0)
 
"BLD",8715,1,254,0)
        Albany                  DOMAIN.EXT
"BLD",8715,1,255,0)
        Hines                   DOMAIN.EXT
"BLD",8715,1,256,0)
        Salt Lake City          DOMAIN.EXT
"BLD",8715,1,257,0)
 
"BLD",8715,1,258,0)
The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"BLD",8715,1,259,0)
directory. Use ASCII Mode when downloading the file.
"BLD",8715,1,260,0)
 
"BLD",8715,1,261,0)
 2.  START UP KIDS
"BLD",8715,1,262,0)
     -------------
"BLD",8715,1,263,0)
     Start up the Kernel Installation and Distribution System Menu option
"BLD",8715,1,264,0)
     [XPD MAIN]:
"BLD",8715,1,265,0)
 
"BLD",8715,1,266,0)
          Edits and Distribution ...
"BLD",8715,1,267,0)
          Utilities ...
"BLD",8715,1,268,0)
          Installation ...
"BLD",8715,1,269,0)
 
"BLD",8715,1,270,0)
     Select Kernel Installation & Distribution System Option: Installation
"BLD",8715,1,271,0)
                                                              ---
"BLD",8715,1,272,0)
          Load a Distribution
"BLD",8715,1,273,0)
          Print Transport Global
"BLD",8715,1,274,0)
          Compare Transport Global to Current System
"BLD",8715,1,275,0)
          Verify Checksums in Transport Global
"BLD",8715,1,276,0)
          Install Package(s)
"BLD",8715,1,277,0)
          Restart Install of Package(s)
"BLD",8715,1,278,0)
          Unload a Distribution
"BLD",8715,1,279,0)
          Backup a Transport Global
"BLD",8715,1,280,0)
 
"BLD",8715,1,281,0)
     Select Installation Option:
"BLD",8715,1,282,0)
 
"BLD",8715,1,283,0)
 3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"BLD",8715,1,284,0)
     -------------------------------------
"BLD",8715,1,285,0)
     From the Installation menu, select the Load a Distribution option.
"BLD",8715,1,286,0)
 
"BLD",8715,1,287,0)
     When prompted for "Enter a Host File:" Enter the full directory path
"BLD",8715,1,288,0)
     where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"BLD",8715,1,289,0)
     (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"BLD",8715,1,290,0)
 
"BLD",8715,1,291,0)
 When prompted for "OK to continue with Load? NO//", Enter "YES."
"BLD",8715,1,292,0)
 
"BLD",8715,1,293,0)
     The following will display:
"BLD",8715,1,294,0)
 
"BLD",8715,1,295,0)
       Loading Distribution...
"BLD",8715,1,296,0)
 
"BLD",8715,1,297,0)
    NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,298,0)
    DG*5.3*867
"BLD",8715,1,299,0)
    FB*3.5*146
"BLD",8715,1,300,0)
    IB*2.0*499
"BLD",8715,1,301,0)
    Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this
"BLD",8715,1,302,0)
    distribution.
"BLD",8715,1,303,0)
 
"BLD",8715,1,304,0)
 4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"BLD",8715,1,305,0)
     -------------------------------------------------
"BLD",8715,1,306,0)
     From the Installation menu, you may select to use the following options
"BLD",8715,1,307,0)
(when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,308,0)
 
"BLD",8715,1,309,0)
     a.  Backup a Transport Global - This option will create a backup
"BLD",8715,1,310,0)
         message of any routines exported with this patch. It will not
"BLD",8715,1,311,0)
         backup any other changes such as data dictionaries or templates.
"BLD",8715,1,312,0)
     b.  Compare Transport Global to Current System - This option will
"BLD",8715,1,313,0)
         allow you to view all changes that will be made when this patch
"BLD",8715,1,314,0)
         is installed.  It compares all components of this patch
"BLD",8715,1,315,0)
         (routines, data dictionaries, templates, etc.).
"BLD",8715,1,316,0)
     c.  Verify Checksums in Transport Global - This option will allow
"BLD",8715,1,317,0)
         you to ensure the integrity of the routines that are in the
"BLD",8715,1,318,0)
         transport global.
"BLD",8715,1,319,0)
 
"BLD",8715,1,320,0)
 5.  INSTALL MULTI-BUILD
"BLD",8715,1,321,0)
     -------------------
"BLD",8715,1,322,0)
   This is the step to start the installation of this KIDS patch.  This will
"BLD",8715,1,323,0)
   need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,324,0)
 
"BLD",8715,1,325,0)
    a.  Choose the Install Package(s) option to start the patch
"BLD",8715,1,326,0)
         install.
"BLD",8715,1,327,0)
    b.  When prompted for the "Select INSTALL NAME:" enter
"BLD",8715,1,328,0)
          NEWBORN DG FB IB BUNDLE 1.0
"BLD",8715,1,329,0)
    c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"BLD",8715,1,330,0)
         NO//", answer NO
"BLD",8715,1,331,0)
    d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"BLD",8715,1,332,0)
         and Protocols? NO//", answer NO
"BLD",8715,1,333,0)
    e.  When prompted "Device: HOME//", enter HOME
"BLD",8715,1,334,0)
         to display the Install message on the screen (or enter the device
"BLD",8715,1,335,0)
         you want to print the Install message). You may queue the
"BLD",8715,1,336,0)
         install if you wish.
"BLD",8715,1,337,0)
 
"BLD",8715,1,338,0)
 
"BLD",8715,1,339,0)
Post-Installation Instructions
"BLD",8715,1,340,0)
------------------------------
"BLD",8715,1,341,0)
 
"BLD",8715,1,342,0)
*** IMPORTANT NOTE ***
"BLD",8715,1,343,0)
Please note there are three post installation routines that may be deleted
"BLD",8715,1,344,0)
after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"BLD",8715,1,345,0)
 
"BLD",8715,1,346,0)
DG867PO
"BLD",8715,1,347,0)
FB146PO
"BLD",8715,1,348,0)
IB499PO
"BLD",8715,4,0)
^9.64PA^38.6^3
"BLD",8715,4,38.6,0)
38.6
"BLD",8715,4,38.6,222)
y^n^f^^n^^y^m^n
"BLD",8715,4,38.6,224)
I $$INCO386^DG867PO($P(^(0),U))
"BLD",8715,4,43.4,0)
43.4
"BLD",8715,4,43.4,222)
y^n^f^^n^^y^m^n
"BLD",8715,4,43.4,224)
I $$ADMIT43^DG867PO($P(^(0),U))
"BLD",8715,4,391,0)
391
"BLD",8715,4,391,222)
n^n^f^^n^^y^m^n
"BLD",8715,4,391,224)
I $$PAT391^DG867PO($P(^(0),U))
"BLD",8715,4,"B",38.6,38.6)

"BLD",8715,4,"B",43.4,43.4)

"BLD",8715,4,"B",391,391)

"BLD",8715,6.3)
59
"BLD",8715,"ABPKG")
n
"BLD",8715,"INI")

"BLD",8715,"INID")
^n
"BLD",8715,"INIT")
POST^DG867PO
"BLD",8715,"KRN",0)
^9.67PA^779.2^20
"BLD",8715,"KRN",.4,0)
.4
"BLD",8715,"KRN",.401,0)
.401
"BLD",8715,"KRN",.402,0)
.402
"BLD",8715,"KRN",.403,0)
.403
"BLD",8715,"KRN",.5,0)
.5
"BLD",8715,"KRN",.84,0)
.84
"BLD",8715,"KRN",3.6,0)
3.6
"BLD",8715,"KRN",3.8,0)
3.8
"BLD",8715,"KRN",9.2,0)
9.2
"BLD",8715,"KRN",9.8,0)
9.8
"BLD",8715,"KRN",9.8,"NM",0)
^9.68A^9^8
"BLD",8715,"KRN",9.8,"NM",1,0)
DGRP15^^0^B13096034
"BLD",8715,"KRN",9.8,"NM",2,0)
DGRP4^^0^B9074330
"BLD",8715,"KRN",9.8,"NM",3,0)
DGRP2^^0^B12657362
"BLD",8715,"KRN",9.8,"NM",4,0)
DGDEP3^^0^B31937643
"BLD",8715,"KRN",9.8,"NM",5,0)
DGRPC^^0^B32590756
"BLD",8715,"KRN",9.8,"NM",6,0)
DGRPC3^^0^B55911726
"BLD",8715,"KRN",9.8,"NM",7,0)
DGRPCF^^0^B26163167
"BLD",8715,"KRN",9.8,"NM",9,0)
DGPTAE01^^0^B9393836
"BLD",8715,"KRN",9.8,"NM","B","DGDEP3",4)

"BLD",8715,"KRN",9.8,"NM","B","DGPTAE01",9)

"BLD",8715,"KRN",9.8,"NM","B","DGRP15",1)

"BLD",8715,"KRN",9.8,"NM","B","DGRP2",3)

"BLD",8715,"KRN",9.8,"NM","B","DGRP4",2)

"BLD",8715,"KRN",9.8,"NM","B","DGRPC",5)

"BLD",8715,"KRN",9.8,"NM","B","DGRPC3",6)

"BLD",8715,"KRN",9.8,"NM","B","DGRPCF",7)

"BLD",8715,"KRN",19,0)
19
"BLD",8715,"KRN",19,"NM",0)
^9.68A^^
"BLD",8715,"KRN",19.1,0)
19.1
"BLD",8715,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",8715,"KRN",101,0)
101
"BLD",8715,"KRN",409.61,0)
409.61
"BLD",8715,"KRN",771,0)
771
"BLD",8715,"KRN",779.2,0)
779.2
"BLD",8715,"KRN",870,0)
870
"BLD",8715,"KRN",8989.51,0)
8989.51
"BLD",8715,"KRN",8989.52,0)
8989.52
"BLD",8715,"KRN",8994,0)
8994
"BLD",8715,"KRN","B",.4,.4)

"BLD",8715,"KRN","B",.401,.401)

"BLD",8715,"KRN","B",.402,.402)

"BLD",8715,"KRN","B",.403,.403)

"BLD",8715,"KRN","B",.5,.5)

"BLD",8715,"KRN","B",.84,.84)

"BLD",8715,"KRN","B",3.6,3.6)

"BLD",8715,"KRN","B",3.8,3.8)

"BLD",8715,"KRN","B",9.2,9.2)

"BLD",8715,"KRN","B",9.8,9.8)

"BLD",8715,"KRN","B",19,19)

"BLD",8715,"KRN","B",19.1,19.1)

"BLD",8715,"KRN","B",101,101)

"BLD",8715,"KRN","B",409.61,409.61)

"BLD",8715,"KRN","B",771,771)

"BLD",8715,"KRN","B",779.2,779.2)

"BLD",8715,"KRN","B",870,870)

"BLD",8715,"KRN","B",8989.51,8989.51)

"BLD",8715,"KRN","B",8989.52,8989.52)

"BLD",8715,"KRN","B",8994,8994)

"BLD",8715,"PRET")

"BLD",8715,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8715,"QUES",0)
^9.62^^
"BLD",8715,"REQB",0)
^9.611^2^2
"BLD",8715,"REQB",1,0)
DG*5.3*760^2
"BLD",8715,"REQB",2,0)
FB*3.5*147^2
"BLD",8715,"REQB","B","DG*5.3*760",1)

"BLD",8715,"REQB","B","FB*3.5*147",2)

"DATA",38.6,313,0)
NEWBORN REQUIRES SPONSOR^Newborn Sponsor is Missing^0^0^0^0
"DATA",38.6,314,0)
NEWBORN NEEDS ELIGIBLE SPONSOR^NEWBORNS REQUIRE AN ELIGIBLE SPONSOR^0^0^0^0
"DATA",38.6,314,"D",0)
^38.61^2^2^3130605^^
"DATA",38.6,314,"D",1,0)
This check is to ensure the Newborn being registered is attached to an 
"DATA",38.6,314,"D",2,0)
eligible mother.
"DATA",43.4,202,0)
NON-VA FOR FEMALE VET+NEWBORN^^17.38^0
"DATA",391,15,0)
NEWBORN OF VETERAN^1^^0^0
"DATA",391,15,8.2)
1
"DATA",391,15,"E")
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^0^0^^^^^^^^^^^^^^^^^^^0^0^0^0^0^0^0^0^^^0^0^^0^^^^^^^^^0^^^^^^^^0^0
"DATA",391,15,"E10")
0^0
"DATA",391,15,"S")
^^1^0^1^0^0^1^0^0^1
"FIA",38.6)
INCONSISTENT DATA ELEMENTS
"FIA",38.6,0)
^DGIN(38.6,
"FIA",38.6,0,0)
38.6s
"FIA",38.6,0,1)
y^n^f^^n^^y^m^n
"FIA",38.6,0,10)

"FIA",38.6,0,11)
I $$INCO386^DG867PO($P(^(0),U))
"FIA",38.6,0,"RLRO")

"FIA",38.6,0,"VR")
5.3^DG
"FIA",38.6,38.6)
0
"FIA",38.6,38.61)
0
"FIA",43.4)
VA ADMITTING REGULATION
"FIA",43.4,0)
^DIC(43.4,
"FIA",43.4,0,0)
43.4I
"FIA",43.4,0,1)
y^n^f^^n^^y^m^n
"FIA",43.4,0,10)

"FIA",43.4,0,11)
I $$ADMIT43^DG867PO($P(^(0),U))
"FIA",43.4,0,"RLRO")

"FIA",43.4,0,"VR")
5.3^DG
"FIA",43.4,43.4)
0
"FIA",391)
TYPE OF PATIENT
"FIA",391,0)
^DG(391,
"FIA",391,0,0)
391
"FIA",391,0,1)
n^n^f^^n^^y^m^n
"FIA",391,0,10)

"FIA",391,0,11)
I $$PAT391^DG867PO($P(^(0),U))
"FIA",391,0,"RLRO")

"FIA",391,0,"VR")
5.3^DG
"FIA",391,391)
0
"INIT")
POST^DG867PO
"MBREQ")
1
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
867^3131108^101097
"PKG",5,22,1,"PAH",1,1,0)
^^348^348^3131108
"PKG",5,22,1,"PAH",1,1,1,0)
                           ***NOTICE***
"PKG",5,22,1,"PAH",1,1,2,0)
Users should be made aware that processing of Newborn claims must ONLY be
"PKG",5,22,1,"PAH",1,1,3,0)
entered in VistA. No entry in FBCS should be performed.
"PKG",5,22,1,"PAH",1,1,4,0)
                           ***********
"PKG",5,22,1,"PAH",1,1,5,0)
This patch, along with FB*3.5*146 and IB*2.0*499, is being released as a
"PKG",5,22,1,"PAH",1,1,6,0)
bundle, and all three will be automatically installed in the correct order.
"PKG",5,22,1,"PAH",1,1,7,0)
 
"PKG",5,22,1,"PAH",1,1,8,0)
This patch has enhancements that extend the capabilities of the Veterans
"PKG",5,22,1,"PAH",1,1,9,0)
Health Information Systems and Technology Architecture (VistA) Patient
"PKG",5,22,1,"PAH",1,1,10,0)
Registration system (DG), Fee Basis System (FB), and Integrated Billing
"PKG",5,22,1,"PAH",1,1,11,0)
(IB).
"PKG",5,22,1,"PAH",1,1,12,0)
 
"PKG",5,22,1,"PAH",1,1,13,0)
Below is a list of all the applications involved in this project along with
"PKG",5,22,1,"PAH",1,1,14,0)
their patch number:
"PKG",5,22,1,"PAH",1,1,15,0)
 
"PKG",5,22,1,"PAH",1,1,16,0)
    APPLICATION/VERSION                                   PATCH
"PKG",5,22,1,"PAH",1,1,17,0)
    ---------------------------------------------------------------
"PKG",5,22,1,"PAH",1,1,18,0)
 PATIENT REGISTRATION (DG) V 5.3                       DG*5.3*867
"PKG",5,22,1,"PAH",1,1,19,0)
 FEE BASIS (FB) V 3.5                                  FB*3.5*146
"PKG",5,22,1,"PAH",1,1,20,0)
 INTEGRATED BILLING (IB) 2.0                           IB*2.0*499
"PKG",5,22,1,"PAH",1,1,21,0)
 
"PKG",5,22,1,"PAH",1,1,22,0)
The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released in the
"PKG",5,22,1,"PAH",1,1,23,0)
Kernel Installation and Distribution System (KIDS) multi-build distribution
"PKG",5,22,1,"PAH",1,1,24,0)
NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,25,0)
 
"PKG",5,22,1,"PAH",1,1,26,0)
The purpose of the Caregivers: Newborn Claims Processing Enhancement Project
"PKG",5,22,1,"PAH",1,1,27,0)
is to enhance VistA Fee Basis application in support of compliance with
"PKG",5,22,1,"PAH",1,1,28,0)
Public Law 111-163, the Caregiver and Veterans Omnibus Health Services Act
"PKG",5,22,1,"PAH",1,1,29,0)
of 2010. This law makes changes to sections of Title 38, United States Code
"PKG",5,22,1,"PAH",1,1,30,0)
to furnish health care services to a newborn child of a Woman Veteran who
"PKG",5,22,1,"PAH",1,1,31,0)
is receiving maternity care furnished by the Department of Veterans Affairs
"PKG",5,22,1,"PAH",1,1,32,0)
(VA) for not more than seven days after the birth of the child.
"PKG",5,22,1,"PAH",1,1,33,0)
 
"PKG",5,22,1,"PAH",1,1,34,0)
The scope of these enhancements is to capture information on healthcare
"PKG",5,22,1,"PAH",1,1,35,0)
services provided to newborn children of Women Veterans. Affected functions
"PKG",5,22,1,"PAH",1,1,36,0)
include eligibility determination, enrollment and registration, documentation
"PKG",5,22,1,"PAH",1,1,37,0)
of referrals and authorization for care, claims processing, and payment. Only
"PKG",5,22,1,"PAH",1,1,38,0)
modification to the Fee Basis (FB) and the Registration (DG) packages are
"PKG",5,22,1,"PAH",1,1,39,0)
necessary to meet the requirements of this enhancement. The Integrated
"PKG",5,22,1,"PAH",1,1,40,0)
Billing (IB) Patch is included to provide required data for the Fee Basis
"PKG",5,22,1,"PAH",1,1,41,0)
install to reference.
"PKG",5,22,1,"PAH",1,1,42,0)
 
"PKG",5,22,1,"PAH",1,1,43,0)
 
"PKG",5,22,1,"PAH",1,1,44,0)
The primary purpose of this enhancement is to allow the Electronic Filing of
"PKG",5,22,1,"PAH",1,1,45,0)
Newborn claims.
"PKG",5,22,1,"PAH",1,1,46,0)
 
"PKG",5,22,1,"PAH",1,1,47,0)
Functional Description
"PKG",5,22,1,"PAH",1,1,48,0)
------------------------------
"PKG",5,22,1,"PAH",1,1,49,0)
The following features and functions have been added to the Fee Basis workflow
"PKG",5,22,1,"PAH",1,1,50,0)
process applying to both Civil Hospital and Medical Fee:
"PKG",5,22,1,"PAH",1,1,51,0)
 
"PKG",5,22,1,"PAH",1,1,52,0)
 1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"PKG",5,22,1,"PAH",1,1,53,0)
PATIENT file (#391). This new selection will be available on Registration
"PKG",5,22,1,"PAH",1,1,54,0)
Screen <7>.
"PKG",5,22,1,"PAH",1,1,55,0)
 
"PKG",5,22,1,"PAH",1,1,56,0)
 2. A sponsor is required for all Newborns determined by having the DOB less
"PKG",5,22,1,"PAH",1,1,57,0)
than one (1) year from the present date. An inconsistency check has been added
"PKG",5,22,1,"PAH",1,1,58,0)
to check the presence of a sponsor. If an inconsistency is found the
"PKG",5,22,1,"PAH",1,1,59,0)
inconsistency check will prompt the user to return to Screen <15> in
"PKG",5,22,1,"PAH",1,1,60,0)
registration to enter a Sponsor.
"PKG",5,22,1,"PAH",1,1,61,0)
 
"PKG",5,22,1,"PAH",1,1,62,0)
 3. All Sponsors for Newborns must be listed as eligible for care. An
"PKG",5,22,1,"PAH",1,1,63,0)
inconsistency check will check the status of the Sponsors Eligibility. The
"PKG",5,22,1,"PAH",1,1,64,0)
check will trigger if the Sponsor has no Eligibility status.
"PKG",5,22,1,"PAH",1,1,65,0)
 
"PKG",5,22,1,"PAH",1,1,66,0)
All other statuses (i.e. Pending Verification, Verified, and Pending
"PKG",5,22,1,"PAH",1,1,67,0)
Re-verification) are acceptable.
"PKG",5,22,1,"PAH",1,1,68,0)
 
"PKG",5,22,1,"PAH",1,1,69,0)
 4. Fee Authorization dates associated with Newborns have checks in place to
"PKG",5,22,1,"PAH",1,1,70,0)
not allow Authorization dates that fall outside the accepted range of Newborn
"PKG",5,22,1,"PAH",1,1,71,0)
Authorization. The range is DOB to DOB+7. The system will warn the user and
"PKG",5,22,1,"PAH",1,1,72,0)
not accept an Authorization date that falls outside the appropriate range for
"PKG",5,22,1,"PAH",1,1,73,0)
a Newborn.
"PKG",5,22,1,"PAH",1,1,74,0)
 
"PKG",5,22,1,"PAH",1,1,75,0)
 5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"PKG",5,22,1,"PAH",1,1,76,0)
Registration screens, Screen <15> will display the Newborn(s), with the
"PKG",5,22,1,"PAH",1,1,77,0)
additional header of "Sponsored Newborn".
"PKG",5,22,1,"PAH",1,1,78,0)
 
"PKG",5,22,1,"PAH",1,1,79,0)
 6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"PKG",5,22,1,"PAH",1,1,80,0)
the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"PKG",5,22,1,"PAH",1,1,81,0)
 
"PKG",5,22,1,"PAH",1,1,82,0)
 8. The following default values were added when entering a Newborn with a
"PKG",5,22,1,"PAH",1,1,83,0)
date of birth of less than one (1) year from present date. Defaults will 
"PKG",5,22,1,"PAH",1,1,84,0)
only  be assigned when specified screens are accessed during the
"PKG",5,22,1,"PAH",1,1,85,0)
registration process: PATIENT DATA, SCREEN <2> Marital field is defaulted
"PKG",5,22,1,"PAH",1,1,86,0)
to NEVER MARRIED. APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status
"PKG",5,22,1,"PAH",1,1,87,0)
field is defaulted to NOT EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8>
"PKG",5,22,1,"PAH",1,1,88,0)
Married Last Year field is defaulted to NO.
"PKG",5,22,1,"PAH",1,1,89,0)
 
"PKG",5,22,1,"PAH",1,1,90,0)
 
"PKG",5,22,1,"PAH",1,1,91,0)
 Patch Components
"PKG",5,22,1,"PAH",1,1,92,0)
 ================
"PKG",5,22,1,"PAH",1,1,93,0)
 
"PKG",5,22,1,"PAH",1,1,94,0)
 
"PKG",5,22,1,"PAH",1,1,95,0)
 Files & Fields Associated:
"PKG",5,22,1,"PAH",1,1,96,0)
 
"PKG",5,22,1,"PAH",1,1,97,0)
 
"PKG",5,22,1,"PAH",1,1,98,0)
 File Name (#)                   Field Name (#)        New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,99,0)
 -------------                   --------------        -----------------
"PKG",5,22,1,"PAH",1,1,100,0)
 TYPE OF PATIENT (#391)          NAME (#.01)           New Data content
"PKG",5,22,1,"PAH",1,1,101,0)
 (Single new record added "NEWBORN OF VETERAN")        No Data Dictionary
"PKG",5,22,1,"PAH",1,1,102,0)
                                                       changes
"PKG",5,22,1,"PAH",1,1,103,0)
 
"PKG",5,22,1,"PAH",1,1,104,0)
 VA ADMITTING REGULATION (#43.4) NAME (#.01)           New Data content
"PKG",5,22,1,"PAH",1,1,105,0)
 (Single new record added "NON-VA FOR FEMALE VET+NEWBORN")
"PKG",5,22,1,"PAH",1,1,106,0)
                                                       No Data Dictionary
"PKG",5,22,1,"PAH",1,1,107,0)
                                                       changes
"PKG",5,22,1,"PAH",1,1,108,0)
 
"PKG",5,22,1,"PAH",1,1,109,0)
 INCONSISTENT DATA ELEMENTS (#38.6)                    New Data content
"PKG",5,22,1,"PAH",1,1,110,0)
 Two new records added:
"PKG",5,22,1,"PAH",1,1,111,0)
 313    NEWBORN REQUIRES SPONSOR
"PKG",5,22,1,"PAH",1,1,112,0)
 314    NEWBORN NEEDS ELIGIBLE SPONSOR                 No Data Dictionary
"PKG",5,22,1,"PAH",1,1,113,0)
                                                       changes
"PKG",5,22,1,"PAH",1,1,114,0)
 
"PKG",5,22,1,"PAH",1,1,115,0)
 
"PKG",5,22,1,"PAH",1,1,116,0)
 Forms Associated:
"PKG",5,22,1,"PAH",1,1,117,0)
 
"PKG",5,22,1,"PAH",1,1,118,0)
 Form Name                File #                  New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,119,0)
 ---------                ------                  --------------------
"PKG",5,22,1,"PAH",1,1,120,0)
 N/A
"PKG",5,22,1,"PAH",1,1,121,0)
 
"PKG",5,22,1,"PAH",1,1,122,0)
 Mail Groups Associated:
"PKG",5,22,1,"PAH",1,1,123,0)
 
"PKG",5,22,1,"PAH",1,1,124,0)
 
"PKG",5,22,1,"PAH",1,1,125,0)
 Mail Group Name                                  New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,126,0)
 ---------------                                  --------------------
"PKG",5,22,1,"PAH",1,1,127,0)
 N/A
"PKG",5,22,1,"PAH",1,1,128,0)
 
"PKG",5,22,1,"PAH",1,1,129,0)
 Options Associated:
"PKG",5,22,1,"PAH",1,1,130,0)
 
"PKG",5,22,1,"PAH",1,1,131,0)
 Option Name                    Type              New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,132,0)
 -----------                    ----              --------------------
"PKG",5,22,1,"PAH",1,1,133,0)
 N/A
"PKG",5,22,1,"PAH",1,1,134,0)
 
"PKG",5,22,1,"PAH",1,1,135,0)
 Protocols Associated:
"PKG",5,22,1,"PAH",1,1,136,0)
 
"PKG",5,22,1,"PAH",1,1,137,0)
 Protocol Name                                    New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,138,0)
 -------------                                    --------------------
"PKG",5,22,1,"PAH",1,1,139,0)
 N/A
"PKG",5,22,1,"PAH",1,1,140,0)
 
"PKG",5,22,1,"PAH",1,1,141,0)
 Security Keys Associated:
"PKG",5,22,1,"PAH",1,1,142,0)
 
"PKG",5,22,1,"PAH",1,1,143,0)
 Security Key Name
"PKG",5,22,1,"PAH",1,1,144,0)
 -----------------
"PKG",5,22,1,"PAH",1,1,145,0)
 N/A
"PKG",5,22,1,"PAH",1,1,146,0)
 
"PKG",5,22,1,"PAH",1,1,147,0)
 Templates Associated:
"PKG",5,22,1,"PAH",1,1,148,0)
 
"PKG",5,22,1,"PAH",1,1,149,0)
 Template Name       Type      File Name (#)     New/Modified/Deleted
"PKG",5,22,1,"PAH",1,1,150,0)
 -------------       ----      -------------     --------------------
"PKG",5,22,1,"PAH",1,1,151,0)
 
"PKG",5,22,1,"PAH",1,1,152,0)
 
"PKG",5,22,1,"PAH",1,1,153,0)
 Additional Information:
"PKG",5,22,1,"PAH",1,1,154,0)
 
"PKG",5,22,1,"PAH",1,1,155,0)
 
"PKG",5,22,1,"PAH",1,1,156,0)
 New Service Requests (NSRs):
"PKG",5,22,1,"PAH",1,1,157,0)
 -----------------------------
"PKG",5,22,1,"PAH",1,1,158,0)
 NSR 20100901
"PKG",5,22,1,"PAH",1,1,159,0)
 
"PKG",5,22,1,"PAH",1,1,160,0)
 Patient Safety Issues (PSIs):
"PKG",5,22,1,"PAH",1,1,161,0)
 ------------------------------
"PKG",5,22,1,"PAH",1,1,162,0)
 N/A
"PKG",5,22,1,"PAH",1,1,163,0)
 
"PKG",5,22,1,"PAH",1,1,164,0)
 Remedy Ticket(s) & Overviews:
"PKG",5,22,1,"PAH",1,1,165,0)
 -----------------------------
"PKG",5,22,1,"PAH",1,1,166,0)
 N/A
"PKG",5,22,1,"PAH",1,1,167,0)
 
"PKG",5,22,1,"PAH",1,1,168,0)
 
"PKG",5,22,1,"PAH",1,1,169,0)
 Test Sites:
"PKG",5,22,1,"PAH",1,1,170,0)
 -----------
"PKG",5,22,1,"PAH",1,1,171,0)
 
"PKG",5,22,1,"PAH",1,1,172,0)
 LEXINGTON
"PKG",5,22,1,"PAH",1,1,173,0)
 PUGET SOUND
"PKG",5,22,1,"PAH",1,1,174,0)
 
"PKG",5,22,1,"PAH",1,1,175,0)
 
"PKG",5,22,1,"PAH",1,1,176,0)
Documentation Retrieval Instructions:
"PKG",5,22,1,"PAH",1,1,177,0)
-------------------------------------
"PKG",5,22,1,"PAH",1,1,178,0)
Updated documentation describing the new functionality introduced by this
"PKG",5,22,1,"PAH",1,1,179,0)
patch is available.
"PKG",5,22,1,"PAH",1,1,180,0)
 
"PKG",5,22,1,"PAH",1,1,181,0)
The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"PKG",5,22,1,"PAH",1,1,182,0)
This transmits the files from the first available FTP server. Sites may also
"PKG",5,22,1,"PAH",1,1,183,0)
elect to retrieve software directly from a specific server as follows:
"PKG",5,22,1,"PAH",1,1,184,0)
 
"PKG",5,22,1,"PAH",1,1,185,0)
  Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"PKG",5,22,1,"PAH",1,1,186,0)
  Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"PKG",5,22,1,"PAH",1,1,187,0)
  Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"PKG",5,22,1,"PAH",1,1,188,0)
 
"PKG",5,22,1,"PAH",1,1,189,0)
 The documentation will be in the form of Adobe Acrobat files.
"PKG",5,22,1,"PAH",1,1,190,0)
 
"PKG",5,22,1,"PAH",1,1,191,0)
 Documentation can also be found on the VA Software Documentation Library
"PKG",5,22,1,"PAH",1,1,192,0)
 at: http://www4.domain.ext/vdl/
"PKG",5,22,1,"PAH",1,1,193,0)
 
"PKG",5,22,1,"PAH",1,1,194,0)
 File Description                          File Name             FTP Mode
"PKG",5,22,1,"PAH",1,1,195,0)
 --------------------------------------------------------------------------
"PKG",5,22,1,"PAH",1,1,196,0)
 Fee Basis User Manual                     fb3_5um.pdf           Binary
"PKG",5,22,1,"PAH",1,1,197,0)
 PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"PKG",5,22,1,"PAH",1,1,198,0)
 
"PKG",5,22,1,"PAH",1,1,199,0)
The procedure guide, Care for Newborn of Women Veterans, located at
"PKG",5,22,1,"PAH",1,1,200,0)
http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp,
"PKG",5,22,1,"PAH",1,1,201,0)
should be distributed to those personnel registering newborns and/or
"PKG",5,22,1,"PAH",1,1,202,0)
processing newborn claims.
"PKG",5,22,1,"PAH",1,1,203,0)
 
"PKG",5,22,1,"PAH",1,1,204,0)
 
"PKG",5,22,1,"PAH",1,1,205,0)
 Patch Installation:
"PKG",5,22,1,"PAH",1,1,206,0)
 
"PKG",5,22,1,"PAH",1,1,207,0)
 
"PKG",5,22,1,"PAH",1,1,208,0)
Pre/Post Installation Overview
"PKG",5,22,1,"PAH",1,1,209,0)
------------------------------
"PKG",5,22,1,"PAH",1,1,210,0)
There are three post installation routines associated with this patch DG867PO,
"PKG",5,22,1,"PAH",1,1,211,0)
FB146PO, and IB499PO. These routines primarily serve as filters for the data
"PKG",5,22,1,"PAH",1,1,212,0)
transmitted to the appropriate files listed above, so that only the intended
"PKG",5,22,1,"PAH",1,1,213,0)
data is delivered. The only exception is the IB499PO routine which
"PKG",5,22,1,"PAH",1,1,214,0)
programmatically makes an addition to the help text of the FAMILY PREFIX field
"PKG",5,22,1,"PAH",1,1,215,0)
(#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post installation
"PKG",5,22,1,"PAH",1,1,216,0)
routines may be deleted after successful installation of the NEWBORN DG FB IB
"PKG",5,22,1,"PAH",1,1,217,0)
BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,218,0)
 
"PKG",5,22,1,"PAH",1,1,219,0)
Installation Instructions
"PKG",5,22,1,"PAH",1,1,220,0)
-------------------------
"PKG",5,22,1,"PAH",1,1,221,0)
This patch may be installed with users on the system although it is
"PKG",5,22,1,"PAH",1,1,222,0)
recommended that it be installed during non-peak hours to minimize potential
"PKG",5,22,1,"PAH",1,1,223,0)
disruption to users. This patch should take less than 5 minutes to install.
"PKG",5,22,1,"PAH",1,1,224,0)
 
"PKG",5,22,1,"PAH",1,1,225,0)
FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"PKG",5,22,1,"PAH",1,1,226,0)
 
"PKG",5,22,1,"PAH",1,1,227,0)
DG*5.3*867 is one of three patches for this release (including FB*3.5*146 and
"PKG",5,22,1,"PAH",1,1,228,0)
IB*2.0*499). The patches will be installed as a bundle in the following order:
"PKG",5,22,1,"PAH",1,1,229,0)
 
"PKG",5,22,1,"PAH",1,1,230,0)
1) DG*5.3*867
"PKG",5,22,1,"PAH",1,1,231,0)
2) FB*3.5*146
"PKG",5,22,1,"PAH",1,1,232,0)
3) IB*2.0*499
"PKG",5,22,1,"PAH",1,1,233,0)
 
"PKG",5,22,1,"PAH",1,1,234,0)
 
"PKG",5,22,1,"PAH",1,1,235,0)
 Pre-Installation Instructions
"PKG",5,22,1,"PAH",1,1,236,0)
 -----------------------------
"PKG",5,22,1,"PAH",1,1,237,0)
 1.  OBTAIN PATCHES
"PKG",5,22,1,"PAH",1,1,238,0)
     --------------
"PKG",5,22,1,"PAH",1,1,239,0)
Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"PKG",5,22,1,"PAH",1,1,240,0)
patches:
"PKG",5,22,1,"PAH",1,1,241,0)
 
"PKG",5,22,1,"PAH",1,1,242,0)
 DG*5.3*867
"PKG",5,22,1,"PAH",1,1,243,0)
 FB*3.5*146
"PKG",5,22,1,"PAH",1,1,244,0)
 IB*2.0*499
"PKG",5,22,1,"PAH",1,1,245,0)
 
"PKG",5,22,1,"PAH",1,1,246,0)
Sites can retrieve VistA software from the following FTP addresses. The
"PKG",5,22,1,"PAH",1,1,247,0)
preferred method is to FTP the files from:
"PKG",5,22,1,"PAH",1,1,248,0)
 
"PKG",5,22,1,"PAH",1,1,249,0)
                     download.vista.domain.ext
"PKG",5,22,1,"PAH",1,1,250,0)
 
"PKG",5,22,1,"PAH",1,1,251,0)
This will transmit the files from the first available FTP server. Sites may
"PKG",5,22,1,"PAH",1,1,252,0)
also elect to retrieve software directly from a specific server as follows:
"PKG",5,22,1,"PAH",1,1,253,0)
 
"PKG",5,22,1,"PAH",1,1,254,0)
        Albany                  DOMAIN.EXT
"PKG",5,22,1,"PAH",1,1,255,0)
        Hines                   DOMAIN.EXT
"PKG",5,22,1,"PAH",1,1,256,0)
        Salt Lake City          DOMAIN.EXT
"PKG",5,22,1,"PAH",1,1,257,0)
 
"PKG",5,22,1,"PAH",1,1,258,0)
The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"PKG",5,22,1,"PAH",1,1,259,0)
directory. Use ASCII Mode when downloading the file.
"PKG",5,22,1,"PAH",1,1,260,0)
 
"PKG",5,22,1,"PAH",1,1,261,0)
 2.  START UP KIDS
"PKG",5,22,1,"PAH",1,1,262,0)
     -------------
"PKG",5,22,1,"PAH",1,1,263,0)
     Start up the Kernel Installation and Distribution System Menu option
"PKG",5,22,1,"PAH",1,1,264,0)
     [XPD MAIN]:
"PKG",5,22,1,"PAH",1,1,265,0)
 
"PKG",5,22,1,"PAH",1,1,266,0)
          Edits and Distribution ...
"PKG",5,22,1,"PAH",1,1,267,0)
          Utilities ...
"PKG",5,22,1,"PAH",1,1,268,0)
          Installation ...
"PKG",5,22,1,"PAH",1,1,269,0)
 
"PKG",5,22,1,"PAH",1,1,270,0)
     Select Kernel Installation & Distribution System Option: Installation
"PKG",5,22,1,"PAH",1,1,271,0)
                                                              ---
"PKG",5,22,1,"PAH",1,1,272,0)
          Load a Distribution
"PKG",5,22,1,"PAH",1,1,273,0)
          Print Transport Global
"PKG",5,22,1,"PAH",1,1,274,0)
          Compare Transport Global to Current System
"PKG",5,22,1,"PAH",1,1,275,0)
          Verify Checksums in Transport Global
"PKG",5,22,1,"PAH",1,1,276,0)
          Install Package(s)
"PKG",5,22,1,"PAH",1,1,277,0)
          Restart Install of Package(s)
"PKG",5,22,1,"PAH",1,1,278,0)
          Unload a Distribution
"PKG",5,22,1,"PAH",1,1,279,0)
          Backup a Transport Global
"PKG",5,22,1,"PAH",1,1,280,0)
 
"PKG",5,22,1,"PAH",1,1,281,0)
     Select Installation Option:
"PKG",5,22,1,"PAH",1,1,282,0)
 
"PKG",5,22,1,"PAH",1,1,283,0)
 3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"PKG",5,22,1,"PAH",1,1,284,0)
     -------------------------------------
"PKG",5,22,1,"PAH",1,1,285,0)
     From the Installation menu, select the Load a Distribution option.
"PKG",5,22,1,"PAH",1,1,286,0)
 
"PKG",5,22,1,"PAH",1,1,287,0)
     When prompted for "Enter a Host File:" Enter the full directory path
"PKG",5,22,1,"PAH",1,1,288,0)
     where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"PKG",5,22,1,"PAH",1,1,289,0)
     (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"PKG",5,22,1,"PAH",1,1,290,0)
 
"PKG",5,22,1,"PAH",1,1,291,0)
 When prompted for "OK to continue with Load? NO//", Enter "YES."
"PKG",5,22,1,"PAH",1,1,292,0)
 
"PKG",5,22,1,"PAH",1,1,293,0)
     The following will display:
"PKG",5,22,1,"PAH",1,1,294,0)
 
"PKG",5,22,1,"PAH",1,1,295,0)
       Loading Distribution...
"PKG",5,22,1,"PAH",1,1,296,0)
 
"PKG",5,22,1,"PAH",1,1,297,0)
    NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,298,0)
    DG*5.3*867
"PKG",5,22,1,"PAH",1,1,299,0)
    FB*3.5*146
"PKG",5,22,1,"PAH",1,1,300,0)
    IB*2.0*499
"PKG",5,22,1,"PAH",1,1,301,0)
    Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this
"PKG",5,22,1,"PAH",1,1,302,0)
    distribution.
"PKG",5,22,1,"PAH",1,1,303,0)
 
"PKG",5,22,1,"PAH",1,1,304,0)
 4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"PKG",5,22,1,"PAH",1,1,305,0)
     -------------------------------------------------
"PKG",5,22,1,"PAH",1,1,306,0)
     From the Installation menu, you may select to use the following options
"PKG",5,22,1,"PAH",1,1,307,0)
(when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,308,0)
 
"PKG",5,22,1,"PAH",1,1,309,0)
     a.  Backup a Transport Global - This option will create a backup
"PKG",5,22,1,"PAH",1,1,310,0)
         message of any routines exported with this patch. It will not
"PKG",5,22,1,"PAH",1,1,311,0)
         backup any other changes such as data dictionaries or templates.
"PKG",5,22,1,"PAH",1,1,312,0)
     b.  Compare Transport Global to Current System - This option will
"PKG",5,22,1,"PAH",1,1,313,0)
         allow you to view all changes that will be made when this patch
"PKG",5,22,1,"PAH",1,1,314,0)
         is installed.  It compares all components of this patch
"PKG",5,22,1,"PAH",1,1,315,0)
         (routines, data dictionaries, templates, etc.).
"PKG",5,22,1,"PAH",1,1,316,0)
     c.  Verify Checksums in Transport Global - This option will allow
"PKG",5,22,1,"PAH",1,1,317,0)
         you to ensure the integrity of the routines that are in the
"PKG",5,22,1,"PAH",1,1,318,0)
         transport global.
"PKG",5,22,1,"PAH",1,1,319,0)
 
"PKG",5,22,1,"PAH",1,1,320,0)
 5.  INSTALL MULTI-BUILD
"PKG",5,22,1,"PAH",1,1,321,0)
     -------------------
"PKG",5,22,1,"PAH",1,1,322,0)
   This is the step to start the installation of this KIDS patch.  This will
"PKG",5,22,1,"PAH",1,1,323,0)
   need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,324,0)
 
"PKG",5,22,1,"PAH",1,1,325,0)
    a.  Choose the Install Package(s) option to start the patch
"PKG",5,22,1,"PAH",1,1,326,0)
         install.
"PKG",5,22,1,"PAH",1,1,327,0)
    b.  When prompted for the "Select INSTALL NAME:" enter
"PKG",5,22,1,"PAH",1,1,328,0)
          NEWBORN DG FB IB BUNDLE 1.0
"PKG",5,22,1,"PAH",1,1,329,0)
    c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"PKG",5,22,1,"PAH",1,1,330,0)
         NO//", answer NO
"PKG",5,22,1,"PAH",1,1,331,0)
    d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"PKG",5,22,1,"PAH",1,1,332,0)
         and Protocols? NO//", answer NO
"PKG",5,22,1,"PAH",1,1,333,0)
    e.  When prompted "Device: HOME//", enter HOME
"PKG",5,22,1,"PAH",1,1,334,0)
         to display the Install message on the screen (or enter the device
"PKG",5,22,1,"PAH",1,1,335,0)
         you want to print the Install message). You may queue the
"PKG",5,22,1,"PAH",1,1,336,0)
         install if you wish.
"PKG",5,22,1,"PAH",1,1,337,0)
 
"PKG",5,22,1,"PAH",1,1,338,0)
 
"PKG",5,22,1,"PAH",1,1,339,0)
Post-Installation Instructions
"PKG",5,22,1,"PAH",1,1,340,0)
------------------------------
"PKG",5,22,1,"PAH",1,1,341,0)
 
"PKG",5,22,1,"PAH",1,1,342,0)
*** IMPORTANT NOTE ***
"PKG",5,22,1,"PAH",1,1,343,0)
Please note there are three post installation routines that may be deleted
"PKG",5,22,1,"PAH",1,1,344,0)
after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"PKG",5,22,1,"PAH",1,1,345,0)
 
"PKG",5,22,1,"PAH",1,1,346,0)
DG867PO
"PKG",5,22,1,"PAH",1,1,347,0)
FB146PO
"PKG",5,22,1,"PAH",1,1,348,0)
IB499PO
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
9
"RTN","DG867PO")
0^^B481760
"RTN","DG867PO",1,0)
DG867PO ;BL/BL - PRE-INSTALL ROUTINE FOR DG*5.3*867 ;01-APR-13
"RTN","DG867PO",2,0)
 ;;5.3;REGISTRATION;**867**;01-APR-13;Build 59
"RTN","DG867PO",3,0)
 ;
"RTN","DG867PO",4,0)
 ;Purpose of this routine is to provide a filter for the data entries in file #391 and 
"RTN","DG867PO",5,0)
 ;file #43.4
"RTN","DG867PO",6,0)
 ;
"RTN","DG867PO",7,0)
POST ;POST INIT ENTRY POINT NOT USED
"RTN","DG867PO",8,0)
 Q
"RTN","DG867PO",9,0)
 ;
"RTN","DG867PO",10,0)
PAT391(ANAME) ;Screen for Newborn of Vet Type of Patient in file #391
"RTN","DG867PO",11,0)
 I ANAME="NEWBORN OF VETERAN" Q 1
"RTN","DG867PO",12,0)
 Q 0
"RTN","DG867PO",13,0)
 ;
"RTN","DG867PO",14,0)
ADMIT43(ANAME) ;Screen for NON-VA FOR FEMALE VET+NEWBORN     17.38  file #43.4
"RTN","DG867PO",15,0)
 ;
"RTN","DG867PO",16,0)
 I ANAME="NON-VA FOR FEMALE VET+NEWBORN" Q 1
"RTN","DG867PO",17,0)
 Q 0
"RTN","DG867PO",18,0)
 ;
"RTN","DG867PO",19,0)
INCO386(ANAME) ;Screen for INCONSISTENCY DATA ELEMENTS file #38.6
"RTN","DG867PO",20,0)
 ;
"RTN","DG867PO",21,0)
 I ANAME="NEWBORN REQUIRES SPONSOR" Q 1
"RTN","DG867PO",22,0)
 I ANAME="NEWBORN NEEDS ELIGIBLE SPONSOR" Q 1
"RTN","DG867PO",23,0)
 Q 0
"RTN","DG867PO",24,0)
 ;
"RTN","DGDEP3")
0^4^B31937643
"RTN","DGDEP3",1,0)
DGDEP3 ;ALB/CAW,BAJ,ERC - Dependents display ;11/22/2005
"RTN","DGDEP3",2,0)
 ;;5.3;Registration;**45,624,653,688,867**;Aug 13, 1993;Build 59
"RTN","DGDEP3",3,0)
 ;
"RTN","DGDEP3",4,0)
SELF(INCPER,NAME,RELATE,ACT,DGMTI,CNT) ; Display information concerning veteran
"RTN","DGDEP3",5,0)
 ;
"RTN","DGDEP3",6,0)
 S DGX="",DGX=$$SETSTR^VALM1(CNT,DGX,3,3)
"RTN","DGDEP3",7,0)
 I $G(DGMTI),INCPER,($P($G(^DGMT(408.22,+INCPER,"MT")),U)=DGMTI) S DGX=$$SETSTR^VALM1("*",DGX,5,1)
"RTN","DGDEP3",8,0)
 S DGX=$$SETSTR^VALM1(NAME,DGX,9,22)
"RTN","DGDEP3",9,0)
 S DGX=$$SETSTR^VALM1($P($G(^DG(408.11,RELATE,0)),U),DGX,32,30)
"RTN","DGDEP3",10,0)
 S DGX=$$SETSTR^VALM1($S($P(ACT,U,2)=1:"*",1:""),DGX,65,1)
"RTN","DGDEP3",11,0)
 S:RELATE=2 DGX=$$SETSTR^VALM1($S(+$$ADDCHK(INCPER)=1:"*",1:""),DGX,73,1)
"RTN","DGDEP3",12,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",13,0)
 ;
"RTN","DGDEP3",14,0)
 ; Display spouse SSN and SSN Verification status DG*5.3*688 BAJ 11/22/2005
"RTN","DGDEP3",15,0)
 I RELATE=2 D
"RTN","DGDEP3",16,0)
 . S DGX="",DGX=$$SETSTR^VALM1($P(DGDEP,"^",5),DGX,9,14)
"RTN","DGDEP3",17,0)
 . S DGX=$$SETSTR^VALM1($P(DGDEP,"^",9),DGX,23,10)
"RTN","DGDEP3",18,0)
 . ;if a Pseudo SSN need Pseudo SSN Reason - DG*5.3*653, ERC
"RTN","DGDEP3",19,0)
 . I $P(DGDEP,U,5)["P" D
"RTN","DGDEP3",20,0)
 . . S DGX=$$SETSTR^VALM1("PSSN Reason: ",DGX,32,15)
"RTN","DGDEP3",21,0)
 . . S DGX=$$SETSTR^VALM1($P(DGDEP,U,10),DGX,45,30)
"RTN","DGDEP3",22,0)
 . . ;D SET^DGDEP(DGX)
"RTN","DGDEP3",23,0)
 . D SET^DGDEP(DGX)
"RTN","DGDEP3",24,0)
 ;
"RTN","DGDEP3",25,0)
 Q:RELATE=2
"RTN","DGDEP3",26,0)
 D NEWB
"RTN","DGDEP3",27,0)
 S INCPER=^DGMT(408.22,INCPER,0)
"RTN","DGDEP3",28,0)
 S DGX="",DGX=$$SETSTR^VALM1("Married Last Year: ",DGX,18,19)
"RTN","DGDEP3",29,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,5):"Yes",$P(INCPER,U,5)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",30,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",31,0)
 ;
"RTN","DGDEP3",32,0)
 Q:'$G(DGMTI)
"RTN","DGDEP3",33,0)
 I $P(INCPER,U,5)=1 D
"RTN","DGDEP3",34,0)
 . S DGX="",DGX=$$SETSTR^VALM1("Lived with Spouse: ",DGX,18,19)
"RTN","DGDEP3",35,0)
 . S DGX=$$SETSTR^VALM1($S($P(INCPER,U,6):"Yes",$P(INCPER,U,6)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",36,0)
 . D SET^DGDEP(DGX)
"RTN","DGDEP3",37,0)
 ;
"RTN","DGDEP3",38,0)
 I $P(INCPER,U,6)=0 D
"RTN","DGDEP3",39,0)
 . S DGX="",DGX=$$SETSTR^VALM1("Amount Contributed: ",DGX,17,19)
"RTN","DGDEP3",40,0)
 . S DGX=$$SETSTR^VALM1($S($P(INCPER,U,7)]"":$P(INCPER,U,7),1:"Unanswered"),DGX,38,10)
"RTN","DGDEP3",41,0)
 . D SET^DGDEP(DGX)
"RTN","DGDEP3",42,0)
 Q
"RTN","DGDEP3",43,0)
 ;
"RTN","DGDEP3",44,0)
CHILD(INCPER,NAME,RELATE,ACT,DGMTI,DGMTACT,CNT) ; Display information concerning dependents
"RTN","DGDEP3",45,0)
 ;
"RTN","DGDEP3",46,0)
 ;** DG*5.3*688 - GTS Get MT Version
"RTN","DGDEP3",47,0)
 N MTVER
"RTN","DGDEP3",48,0)
 S:(+$G(DGMTI)>0) MTVER=$P($G(^DGMT(408.31,DGMTI,2)),"^",11)
"RTN","DGDEP3",49,0)
 I (+$G(DGMTI)'>0) DO
"RTN","DGDEP3",50,0)
 . N DGINC,DGREL,DGINR,DGDEP
"RTN","DGDEP3",51,0)
 . D ALL^DGMTU21(DFN,"VSD",DT,"I")
"RTN","DGDEP3",52,0)
 . S MTVER=$$VER^DGMTUTL3(.DGINC)
"RTN","DGDEP3",53,0)
 S DGX="",DGX=$$SETSTR^VALM1(CNT,DGX,3,3)
"RTN","DGDEP3",54,0)
 I $G(DGMTI),INCPER,($P($G(^DGMT(408.22,+INCPER,"MT")),U)=DGMTI) S DGX=$$SETSTR^VALM1("*",DGX,5,1)
"RTN","DGDEP3",55,0)
 S DGX=$$SETSTR^VALM1(NAME,DGX,9,22)
"RTN","DGDEP3",56,0)
 S DGX=$$SETSTR^VALM1($P($G(^DG(408.11,RELATE,0)),U),DGX,32,30)
"RTN","DGDEP3",57,0)
 S DGX=$$SETSTR^VALM1($S($P(ACT,U,2)=1:"*",1:""),DGX,65,1)
"RTN","DGDEP3",58,0)
 S DGX=$$SETSTR^VALM1($S(+$$ADDCHK(INCPER)=1:"*",1:""),DGX,73,1)
"RTN","DGDEP3",59,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",60,0)
 ;
"RTN","DGDEP3",61,0)
 ;display dependent SSN and SSN Verification status DG*5.3*688 BAJ 11/22/2005
"RTN","DGDEP3",62,0)
 S DGX="",DGX=$$SETSTR^VALM1($P(DGDEP,"^",5),DGX,9,14)
"RTN","DGDEP3",63,0)
 S DGX=$$SETSTR^VALM1($P(DGDEP,"^",9),DGX,23,10)
"RTN","DGDEP3",64,0)
 I $P(DGDEP,U,5)["P" D
"RTN","DGDEP3",65,0)
 . S DGX=$$SETSTR^VALM1("PSSN Reason: ",DGX,32,15)
"RTN","DGDEP3",66,0)
 . S DGX=$$SETSTR^VALM1($P(DGDEP,U,10),DGX,45,30)
"RTN","DGDEP3",67,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",68,0)
 ;
"RTN","DGDEP3",69,0)
 Q:'$G(DGMTI)!('$P($G(^DG(408.11,RELATE,0)),U,4))
"RTN","DGDEP3",70,0)
 S INCPER=^DGMT(408.22,INCPER,0)
"RTN","DGDEP3",71,0)
 S DGX="",DGX=$$SETSTR^VALM1("Incapable of Self-support: ",DGX,10,27)
"RTN","DGDEP3",72,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,9):"Yes",$P(INCPER,U,9)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",73,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",74,0)
 ;
"RTN","DGDEP3",75,0)
 ;* DG*5.3*624
"RTN","DGDEP3",76,0)
 S DGX="",DGX=$$SETSTR^VALM1("Child 18 to 23. Attended School: ",DGX,4,33)
"RTN","DGDEP3",77,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,18):"Yes",$P(INCPER,U,18)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",78,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",79,0)
 ;
"RTN","DGDEP3",80,0)
 S DGX="",DGX=$$SETSTR^VALM1("Child lived with you: ",DGX,15,22)
"RTN","DGDEP3",81,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,6):"Yes",$P(INCPER,U,6)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",82,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",83,0)
 ;
"RTN","DGDEP3",84,0)
 S DGX="",DGX=$$SETSTR^VALM1("Child Support: ",DGX,22,15)
"RTN","DGDEP3",85,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,6)=1:"N/A",$P(INCPER,U,10)=1:"Yes",$P(INCPER,U,10)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",86,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",87,0)
 ;
"RTN","DGDEP3",88,0)
 ;* DG*5.3*624
"RTN","DGDEP3",89,0)
 S DGX="",DGX=$$SETSTR^VALM1("Amount contributed: ",DGX,17,20)
"RTN","DGDEP3",90,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,10)'=1:"N/A",($P(INCPER,U,19)'="0")&($P(INCPER,U,19)'=""):$P(INCPER,U,19),$P(INCPER,U,19)="":"Unanswered",1:"0"),DGX,38,10)
"RTN","DGDEP3",91,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",92,0)
 ;
"RTN","DGDEP3",93,0)
 ;** DG*5.3*688 - GTS Chk MT Version and output correct data
"RTN","DGDEP3",94,0)
 S DGX=""
"RTN","DGDEP3",95,0)
 S:(+MTVER<1) DGX=$$SETSTR^VALM1("Child Has Income: ",DGX,19,18)
"RTN","DGDEP3",96,0)
 S:(+MTVER=1) DGX=$$SETSTR^VALM1("Child Has Income/Net Worth: ",DGX,9,28)
"RTN","DGDEP3",97,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,11)=1:"Yes",$P(INCPER,U,11)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",98,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",99,0)
 ;
"RTN","DGDEP3",100,0)
 ;** DG*5.3*688 - GTS Chk MT Version and output correct data
"RTN","DGDEP3",101,0)
 S DGX=""
"RTN","DGDEP3",102,0)
 S:(+MTVER<1) DGX=$$SETSTR^VALM1("Income Available: ",DGX,19,18)
"RTN","DGDEP3",103,0)
 S:(+MTVER=1) DGX=$$SETSTR^VALM1("Income/Net Worth Available: ",DGX,9,28)
"RTN","DGDEP3",104,0)
 S DGX=$$SETSTR^VALM1($S($P(INCPER,U,11)=0:"N/A",$P(INCPER,U,12)=1:"Yes",$P(INCPER,U,12)="":"Unanswered",1:"No"),DGX,38,10)
"RTN","DGDEP3",105,0)
 D SET^DGDEP(DGX)
"RTN","DGDEP3",106,0)
CHILDQ Q
"RTN","DGDEP3",107,0)
 ;
"RTN","DGDEP3",108,0)
ADDCHK(INCPER) ; Indicates existence of any dependent address
"RTN","DGDEP3",109,0)
 ; Input:
"RTN","DGDEP3",110,0)
 ;      INCPER - Pointer to dep. entry in Income Relation file (408.22)
"RTN","DGDEP3",111,0)
 ;
"RTN","DGDEP3",112,0)
 ; Output: 
"RTN","DGDEP3",113,0)
 ;   both address and phone^address^phone
"RTN","DGDEP3",114,0)
 ;      KEY:
"RTN","DGDEP3",115,0)
 ;        0 - No data exists for the dependent in 408.13
"RTN","DGDEP3",116,0)
 ;        1 - Data exists for the dependent in 408.13
"RTN","DGDEP3",117,0)
 ;
"RTN","DGDEP3",118,0)
 ;    1^1^1 - Address and Phone data exist for dependent
"RTN","DGDEP3",119,0)
 ;    0^1^0 - Address only exists for dependent
"RTN","DGDEP3",120,0)
 ;    0^0^1 - Phone only exists for dependent
"RTN","DGDEP3",121,0)
 ;    0^0^0 - Neither Phone nor Address data exists for dependent
"RTN","DGDEP3",122,0)
 ;
"RTN","DGDEP3",123,0)
 N ADDCKVAL,INDAIIEN,PRIEN,IPIEN
"RTN","DGDEP3",124,0)
 S ADDCKVAL="0^0^0"
"RTN","DGDEP3",125,0)
 S INDAIIEN=$P($G(^DGMT(408.22,INCPER,0)),"^",2)
"RTN","DGDEP3",126,0)
 S PRIEN=$P($G(^DGMT(408.21,INDAIIEN,0)),"^",2)
"RTN","DGDEP3",127,0)
 S IPIEN=$P($G(^DGPR(408.12,PRIEN,0)),"^",3)
"RTN","DGDEP3",128,0)
 I IPIEN["DGPR(408.13" DO
"RTN","DGDEP3",129,0)
 . S IPIEN=$P(IPIEN,";",1)
"RTN","DGDEP3",130,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",2)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",131,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",3)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",132,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",4)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",133,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",5)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",134,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",6)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",135,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",7)]"" S $P(ADDCKVAL,U,1,2)="1^1"
"RTN","DGDEP3",136,0)
 . I $P($G(^DGPR(408.13,IPIEN,1)),"^",8)]"" S $P(ADDCKVAL,U,3)="1"
"RTN","DGDEP3",137,0)
 Q ADDCKVAL
"RTN","DGDEP3",138,0)
 ;
"RTN","DGDEP3",139,0)
NEWB ; check dob and if newborn, default "married last year" to be no
"RTN","DGDEP3",140,0)
 N DOB,NOW
"RTN","DGDEP3",141,0)
 S XY=""
"RTN","DGDEP3",142,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGDEP3",143,0)
 D NOW^%DTC S NOW=X
"RTN","DGDEP3",144,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient not a newborn
"RTN","DGDEP3",145,0)
 S XY=$O(^DGMT(408.22,"B",DFN,XY))
"RTN","DGDEP3",146,0)
 S $P(^DGMT(408.22,XY,0),"^",5)=0
"RTN","DGDEP3",147,0)
 Q
"RTN","DGPTAE01")
0^9^B9393836
"RTN","DGPTAE01",1,0)
DGPTAE01 ;ALB/MTC - Miss. Austin Edit Checks ; 13 NOV 92
"RTN","DGPTAE01",2,0)
 ;;5.3;Registration;**58,342,466,664,867**;Aug 13, 1993;Build 59
"RTN","DGPTAE01",3,0)
 ;
"RTN","DGPTAE01",4,0)
INC ; VERIFY INCOME DATA
"RTN","DGPTAE01",5,0)
 I DGPTINC'?." "1.6N." " S DGPTERC=120
"RTN","DGPTAE01",6,0)
 Q
"RTN","DGPTAE01",7,0)
 ;
"RTN","DGPTAE01",8,0)
STATE ;
"RTN","DGPTAE01",9,0)
 Q:$$FOR^DGADDUTL(DGPTCTRY)>0
"RTN","DGPTAE01",10,0)
 Q:DGPTSTE["X"
"RTN","DGPTAE01",11,0)
 S DGPTSTE=+DGPTSTE I DGPTSTE="" S DGPTERC=117 Q
"RTN","DGPTAE01",12,0)
 I DGPTSTE'?1.2N S DGPTERC=117 Q
"RTN","DGPTAE01",13,0)
 Q
"RTN","DGPTAE01",14,0)
 ;
"RTN","DGPTAE01",15,0)
ZIP ;
"RTN","DGPTAE01",16,0)
 Q:$$FOR^DGADDUTL(DGPTCTRY)>0
"RTN","DGPTAE01",17,0)
 I DGPTZIP'?5N&(DGPTZIP'="XXXXX") S DGPTERC=118 Q
"RTN","DGPTAE01",18,0)
 Q
"RTN","DGPTAE01",19,0)
 ;
"RTN","DGPTAE01",20,0)
CNTY ;
"RTN","DGPTAE01",21,0)
 Q:$$FOR^DGADDUTL(DGPTCTRY)>0
"RTN","DGPTAE01",22,0)
 I DGPTCTY'?1.3N S DGPTERC=117 Q
"RTN","DGPTAE01",23,0)
 Q
"RTN","DGPTAE01",24,0)
 ;
"RTN","DGPTAE01",25,0)
AGO ;
"RTN","DGPTAE01",26,0)
 I " 12345"'[DGPTEXA S DGPTERC=115 Q
"RTN","DGPTAE01",27,0)
 I "35"[DGPTEXA&(DGPTPOS2'=7) S DGPTERC=133 Q
"RTN","DGPTAE01",28,0)
 Q
"RTN","DGPTAE01",29,0)
IRAD ;
"RTN","DGPTAE01",30,0)
 I "024578"'[DGPTPOS2&(DGPTEXI'=" ") S DGPTEXI=" " Q
"RTN","DGPTAE01",31,0)
 I "024578"[DGPTPOS2&("1234 "'[DGPTEXI) S DGPTERC=116 Q
"RTN","DGPTAE01",32,0)
 I DGPTPOS2="Z"&((DGPTEXI=" ")!("1234"'[DGPTEXI)) S DGPTERC=134 Q
"RTN","DGPTAE01",33,0)
 Q
"RTN","DGPTAE01",34,0)
 ;
"RTN","DGPTAE01",35,0)
DB ; DATE OF BIRTH EDITS
"RTN","DGPTAE01",36,0)
 ;
"RTN","DGPTAE01",37,0)
 I $E(DGPTDOB,1,2)="00" S DGPTDOB="01"_$E(DGPTDOB,3,8)
"RTN","DGPTAE01",38,0)
 I $E(DGPTDOB,3,4)="00" S DGPTDOB=$E(DGPTDOB,1,2)_"01"_$E(DGPTDOB,5,8)
"RTN","DGPTAE01",39,0)
 S DGPTFMDB=($E(DGPTDOB,5,6)-17)_$E(DGPTDOB,7,8)_$E(DGPTDOB,1,4)
"RTN","DGPTAE01",40,0)
 S X=DGPTFMDB,%DT="X" D ^%DT I Y<0 S DGPTERC=113 Q
"RTN","DGPTAE01",41,0)
 D DD^%DT S DGPTORBD=$E(Y,5,6)_"-"_$E(Y,1,3)_"-"_$E(Y,9,12) I DGPTORBD'?1.2N1"-"3U1"-"4N S DGPTERC=113 Q
"RTN","DGPTAE01",42,0)
 I $E(DGPTDOB,5,8)<1857 S DGPTERC=113 Q
"RTN","DGPTAE01",43,0)
 S X1=+DGPTDTS,X2=DGPTFMDB D ^%DTC I X<0 S DGPTERC=113 Q
"RTN","DGPTAE01",44,0)
 S DGPTAGE=X\365 I DGPTAGE>124 S DGPTERC=113 Q   ;BL;NEWBORN CLAIMS DG*5.3*867;Removed check for age less than 1 year
"RTN","DGPTAE01",45,0)
DBQ ;
"RTN","DGPTAE01",46,0)
 K X,X1,X2,Y
"RTN","DGPTAE01",47,0)
 Q
"RTN","DGPTAE01",48,0)
 ;
"RTN","DGPTAE01",49,0)
MT ; Means test edits and consistency check
"RTN","DGPTAE01",50,0)
 ;
"RTN","DGPTAE01",51,0)
 I DGPTSTTY["^30^" S DGPTMTC="  " Q
"RTN","DGPTAE01",52,0)
 D EDIT Q:DGPTERC
"RTN","DGPTAE01",53,0)
 D CONSIS Q:DGPTERC
"RTN","DGPTAE01",54,0)
 Q
"RTN","DGPTAE01",55,0)
EDIT ;
"RTN","DGPTAE01",56,0)
 D NUMACT^DGPTSUF(30) I DGANUM>0 F I=1:1:DGANUM I $E(DGPTFAC,4,6)[DGSUFNAM(I) S:DGPTMTC'="X " DGPTMTC="X " K DGANUM,DGSUFNAM,I Q
"RTN","DGPTAE01",57,0)
 I "ABCGNXU"'[$E(DGPTMTC) S DGPTERC=119 Q
"RTN","DGPTAE01",58,0)
 I $E(DGPTMTC,1)="A"&("SN"'[$E(DGPTMTC,2)) S DGPTERC=119 Q
"RTN","DGPTAE01",59,0)
 I $E(DGPTMTC,2)=" "&("BCGNXU"'[$E(DGPTMTC)) S DGPTERC=119 Q
"RTN","DGPTAE01",60,0)
 Q
"RTN","DGPTAE01",61,0)
CONSIS ;
"RTN","DGPTAE01",62,0)
 I DGPTMTC="X "&(+DGPTTY'<2860701) S DGPTERC="119" Q
"RTN","DGPTAE01",63,0)
 Q
"RTN","DGPTAE01",64,0)
 ;
"RTN","DGPTAE01",65,0)
PSE ;-- check for pseudo ssn
"RTN","DGPTAE01",66,0)
 S DGPTALF="ABC^DEF^GHI^JKL^MNO^PQR^STU^VWX^YZ^ "
"RTN","DGPTAE01",67,0)
FI ;
"RTN","DGPTAE01",68,0)
 I DGPTFI=" "&($E(DGPTSSN,1)=0) G MI
"RTN","DGPTAE01",69,0)
 I $P(DGPTALF,U,$E(DGPTSSN,1))'[DGPTFI S DGPTERC=130 G PSEQ
"RTN","DGPTAE01",70,0)
MI ;
"RTN","DGPTAE01",71,0)
 I DGPTMI=" "&($E(DGPTSSN,2)=0) G LN
"RTN","DGPTAE01",72,0)
 I $P(DGPTALF,U,$E(DGPTSSN,2))'[DGPTMI S DGPTERC=130 G PSEQ
"RTN","DGPTAE01",73,0)
LN ;
"RTN","DGPTAE01",74,0)
 I $P(DGPTALF,U,$E(DGPTSSN,3))'[$E(DGPTLN,1) S DGPTERC=130 G PSEQ
"RTN","DGPTAE01",75,0)
COMP ;
"RTN","DGPTAE01",76,0)
 I $E(DGPTDOB,1,4)_$E(DGPTDOB,7,8)'=$E(DGPTSSN,4,9) S DGPTERC=130
"RTN","DGPTAE01",77,0)
 Q
"RTN","DGPTAE01",78,0)
PSEQ ;
"RTN","DGPTAE01",79,0)
 K DGPTALF
"RTN","DGPTAE01",80,0)
 Q
"RTN","DGRP15")
0^1^B13096034
"RTN","DGRP15",1,0)
DGRP15 ;ALB/MTC - TRICARE DEMOGRAPHIC DATA ;03/05/2004
"RTN","DGRP15",2,0)
 ;;5.3;Registration;**114,239,568,867**;Aug 13, 1993;Build 59
"RTN","DGRP15",3,0)
 ;
"RTN","DGRP15",4,0)
EN ;
"RTN","DGRP15",5,0)
 N X,Y,DGSA,SPFLAG,NEWBAR,LINE,NN,CNT
"RTN","DGRP15",6,0)
1 S DGSA=""
"RTN","DGRP15",7,0)
 ;-- get sponsor info
"RTN","DGRP15",8,0)
 S SPFLAG=0
"RTN","DGRP15",9,0)
 D GET
"RTN","DGRP15",10,0)
 ;-- draw header
"RTN","DGRP15",11,0)
 S (DGRPS,DGRPW)=15 D H^DGRPU
"RTN","DGRP15",12,0)
 ;--
"RTN","DGRP15",13,0)
 S Z=1 D WW^DGRPV W " Sponsor Information:"
"RTN","DGRP15",14,0)
 I DGSA D
"RTN","DGRP15",15,0)
 . S Y=1,X=0 F  S X=$O(DGSA(X)) Q:'X  D DISPON(X) S Y=Y+1 Q:Y>2
"RTN","DGRP15",16,0)
 E   W:'SPFLAG !,!,"No Sponsor Information available."
"RTN","DGRP15",17,0)
 I SPFLAG W !?4,"Sponsored Newborn:" D
"RTN","DGRP15",18,0)
 . S NN="",CNT=0 F  S NN=$O(NEWBAR(NN)) Q:(NN="")!(CNT=2)  D
"RTN","DGRP15",19,0)
 .. S SPN=""
"RTN","DGRP15",20,0)
 .. F  S SPN=$O(NEWBAR(NN,SPN)) Q:(SPN="")!(CNT=2)  D
"RTN","DGRP15",21,0)
 ... S CNT=CNT+1
"RTN","DGRP15",22,0)
 ... W !?7,"NAME : ",$P(NEWBAR(NN,SPN),"^")
"RTN","DGRP15",23,0)
 ... W !?8,"DOB : " S Y=$P(NEWBAR(NN,SPN),"^",2) X ^DD("DD") W Y
"RTN","DGRP15",24,0)
 ... W !?8,"SSN : ",$P(NEWBAR(NN,SPN),"^",3)
"RTN","DGRP15",25,0)
 ... W !?6,"Effective Date : " S Y=$P(NEWBAR(NN,SPN),"^",4) X ^DD("DD") W Y
"RTN","DGRP15",26,0)
 ... W ?38,"Expiration Date : " S Y=$P(NEWBAR(NN,SPN),"^",5) X ^DD("DD") W Y
"RTN","DGRP15",27,0)
 ... W !
"RTN","DGRP15",28,0)
 I SPFLAG>2 W "Sponsor has ",SPFLAG," sponsored newborn children."
"RTN","DGRP15",29,0)
 W !
"RTN","DGRP15",30,0)
2 ;-- Primary Care  
"RTN","DGRP15",31,0)
 ;
"RTN","DGRP15",32,0)
 ;-- get primary care data
"RTN","DGRP15",33,0)
 D
"RTN","DGRP15",34,0)
 .N CT,GBL S GBL="GBL"
"RTN","DGRP15",35,0)
 .D TDATA^DGSDUTL(DFN,.CT,DT)
"RTN","DGRP15",36,0)
 .I CT>12 S GBL(11,0)="" D
"RTN","DGRP15",37,0)
 ..S GBL(12,0)="      *** Additional assignment information exists ***"
"RTN","DGRP15",38,0)
 .S CT=0 F  S CT=$O(GBL(CT)) Q:'CT!(CT>12)  W !,GBL(CT,0)
"RTN","DGRP15",39,0)
 .Q
"RTN","DGRP15",40,0)
 ;
"RTN","DGRP15",41,0)
 ;-- goto main registration screen processing routine
"RTN","DGRP15",42,0)
 G ^DGRPP
"RTN","DGRP15",43,0)
 ;
"RTN","DGRP15",44,0)
 Q
"RTN","DGRP15",45,0)
 ;
"RTN","DGRP15",46,0)
DISPON(SPON) ;-- This function will display the Sponsor designated by
"RTN","DGRP15",47,0)
 ;  SPON.^
"RTN","DGRP15",48,0)
 ;
"RTN","DGRP15",49,0)
 W !,!,"    Name : " S Z=$P(DGSA(SPON,"SPON"),U),Z1=30 D WW1^DGRPV
"RTN","DGRP15",50,0)
 W ?40,"Military Status : ",$P(DGSA(SPON,"SPON"),U,4)
"RTN","DGRP15",51,0)
 W !,"     DOB : " S Z=$P(DGSA(SPON,"SPON"),U,2),Z1=28 D WW1^DGRPV
"RTN","DGRP15",52,0)
 W ?35,"Branch of Service : ",$P(DGSA(SPON,"SPON"),U,5)
"RTN","DGRP15",53,0)
 W !,"     SSN : " S Z=$P(DGSA(SPON,"SPON"),U,3),Z1=15 D WW1^DGRPV
"RTN","DGRP15",54,0)
 W ?52,"Rank : ",$P(DGSA(SPON,"SPON"),U,6)
"RTN","DGRP15",55,0)
 W !,"  Prefix : " S Z=$P(DGSA(SPON,"REL"),U,2),Z1=12 D WW1^DGRPV
"RTN","DGRP15",56,0)
 W ?52,"Type : ",$P(DGSA(SPON,"REL"),U,3)
"RTN","DGRP15",57,0)
 S Y=$P(DGSA(SPON,"REL"),U,4) X ^DD("DD")
"RTN","DGRP15",58,0)
 W !,"   Effective Date : ",Y
"RTN","DGRP15",59,0)
 S Y=$P(DGSA(SPON,"REL"),U,5) X ^DD("DD")
"RTN","DGRP15",60,0)
 W ?35,"Expiration Date: ",Y
"RTN","DGRP15",61,0)
 Q
"RTN","DGRP15",62,0)
 ;
"RTN","DGRP15",63,0)
GET ;-- get sponsor information and populate the DGSA array.
"RTN","DGRP15",64,0)
 N NEWB,SPON1,X,SPN,HDT,LINE,N,AA,BDOB
"RTN","DGRP15",65,0)
 D GET^IBCNSU4(DFN,.DGSA)
"RTN","DGRP15",66,0)
 ; -- Find the Newborn sponsored info
"RTN","DGRP15",67,0)
 ; -- look at all of the patient's sponsor relationships
"RTN","DGRP15",68,0)
 S X=0 F  S X=$O(^IBA(355.8,"B",X)) Q:X=""  D
"RTN","DGRP15",69,0)
 . Q:+X'=DFN
"RTN","DGRP15",70,0)
 . S N="" F  S N=$O(^IBA(355.8,"B",X,N)) Q:N=""  D
"RTN","DGRP15",71,0)
 .. S AA=0 F  S AA=$O(^IBA(355.81,AA)) Q:(AA="")!(AA="B")  D
"RTN","DGRP15",72,0)
 ... I $P(^IBA(355.81,AA,0),"^",2)=N D
"RTN","DGRP15",73,0)
 .... S SPN=$P(^IBA(355.81,AA,0),"^",1)
"RTN","DGRP15",74,0)
 .... S EFFDT=$P(^IBA(355.81,AA,0),"^",5)
"RTN","DGRP15",75,0)
 .... S EXPDT=$P(^IBA(355.81,AA,0),"^",6)
"RTN","DGRP15",76,0)
 .... Q:'$D(^DPT(SPN,0))
"RTN","DGRP15",77,0)
 .... S BDOB=$P(^DPT(SPN,0),"^",3)
"RTN","DGRP15",78,0)
 .... Q:$P(^DPT(SPN,0),"^",16)-BDOB>365        ; Baby's Registration date minus DOB
"RTN","DGRP15",79,0)
 .... S LINE=^DPT(SPN,0)
"RTN","DGRP15",80,0)
 .... ; The last baby will be printed first
"RTN","DGRP15",81,0)
 .... S SPFLAG=SPFLAG+1,NEWBAR(9999999-BDOB,SPN)=$P(LINE,"^",1)_"^"_BDOB_"^"_$P(LINE,"^",9)_"^"_EFFDT_"^"_EXPDT
"RTN","DGRP15",82,0)
GETQ Q
"RTN","DGRP15",83,0)
 ;
"RTN","DGRP15",84,0)
EDIT ;-- edit sponsor or primary care ... called from DGRPE
"RTN","DGRP15",85,0)
 I DGRPANN["1" D
"RTN","DGRP15",86,0)
 . D SPON^IBCNSU41(DFN)
"RTN","DGRP15",87,0)
 I DGRPANN["2" D
"RTN","DGRP15",88,0)
 . W !,"Edit Primary Provider information." H 3 Q
"RTN","DGRP15",89,0)
 ;
"RTN","DGRP15",90,0)
 Q
"RTN","DGRP15",91,0)
 ;
"RTN","DGRP15",92,0)
NEWBDT(DFN) ;-- Get baby's DOB, check if DOB <1 year, returns FLAG and DOB
"RTN","DGRP15",93,0)
 N DOB,FLAG,NOW
"RTN","DGRP15",94,0)
 S FLAG=0
"RTN","DGRP15",95,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRP15",96,0)
 D NOW^%DTC S NOW=X
"RTN","DGRP15",97,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient is not a newborn
"RTN","DGRP15",98,0)
 S FLAG=1
"RTN","DGRP15",99,0)
 Q FLAG_"^"_DOB
"RTN","DGRP2")
0^3^B12657362
"RTN","DGRP2",1,0)
DGRP2 ;ALB/MRL,BRM - REGISTRATION SCREEN 2/CONTACT INFORMATION ;06 JUN 88@2300
"RTN","DGRP2",2,0)
 ;;5.3;Registration;**415,545,638,677,760,867**;Aug 13, 1993;Build 59
"RTN","DGRP2",3,0)
 ;
"RTN","DGRP2",4,0)
 D NEWB
"RTN","DGRP2",5,0)
 S DGRPS=2 D H^DGRPU F I=0,.24,57,1010.15 S DGRP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","DGRP2",6,0)
 S DGRPX=DGRP(0)
"RTN","DGRP2",7,0)
 S (Z,DGRPW)=1 D WW^DGRPV W "  Marital: " S Z=$S($D(^DIC(11,+$P(DGRPX,"^",5),0)):$E($P(^(0),"^",1),1,28),1:DGRPU),Z1=30 D WW1^DGRPV
"RTN","DGRP2",8,0)
 ;S (Z,DGRPW)=1 D WW^DGRPV W "     Sex: " S X=$P(DGRP(0),"^",2),Z=$S(X="M":"MALE",X="F":"FEMALE",1:DGRPU),Z1=31 D WW1^DGRPV
"RTN","DGRP2",9,0)
 S DGD=$$DISP^DG1010P0(DGRP(0),11,0,1),DGNOCITY=DGUNK,DGD1=$$POINT^DG1010P0(DGRP(0),12,5,1,0,1)
"RTN","DGRP2",10,0)
 W ?41,"POB: ",$E($S((DGNOCITY&DGUNK):"UNANSWERED",1:DGD_$S(($L(DGD)):", ",1:"")_DGD1),1,29)
"RTN","DGRP2",11,0)
 ;S DGRPX=DGRP(0)
"RTN","DGRP2",12,0)
 W !?4,"Religion: ",$S($D(^DIC(13,+$P(DGRPX,"^",8),0)):$P(^(0),"^",1),1:DGRPU),?41,"Father: ",$S($P(DGRP(.24),"^",1)]"":$E($P(DGRP(.24),"^",1),1,29),1:DGRPU)
"RTN","DGRP2",13,0)
 S X=$P(DGRP(57),"^",4),X=$S(X']"":DGRPU,X="X":"NOT APPLICABLE",X=1:"PARA,",X=2:"QUAD,",X=3:"PARA,NON",1:"QUAD,NON"),X=$S("QP"[$E(X):X_"TRAUMATIC",1:X) W !?9,"SCI: ",X
"RTN","DGRP2",14,0)
 W ?41,"Mother: ",$S($P(DGRP(.24),"^",2)]"":$E($P(DGRP(.24),"^",2),1,29),1:DGRPU)
"RTN","DGRP2",15,0)
 W !,?35,"Mom's Maiden: ",$S($P(DGRP(.24),"^",3)]"":$E($P(DGRP(.24),"^",3),1,29),1:DGRPU)
"RTN","DGRP2",16,0)
 W ! S Z=2 D WW^DGRPV W " Previous Care Date      Location of Previous Care",!?4,"------------------      -------------------------" S DGRPX=DGRP(1010.15) I $P(DGRPX,"^",5)'="Y" S X="NONE INDICATED" W !?4,X,?28,X
"RTN","DGRP2",17,0)
 E  F I=1:1:4 S I1=$P(DGRPX,"^",I) X "I I#2 S Y=I1 X:Y]"""" ^DD(""DD"") W !?4,$S(Y]"""":Y,1:DGRPU)" I '(I#2) W ?28,$S($D(^DIC(4,+I1,0)):$P(^(0),"^",1),1:DGRPU)
"RTN","DGRP2",18,0)
 W ! S Z=3 D WW^DGRPV W " Ethnicity: " D
"RTN","DGRP2",19,0)
 .I '$O(^DPT(DFN,.06,0)) W "UNANSWERED" Q
"RTN","DGRP2",20,0)
 .N NODE,NUM,ETHNIC
"RTN","DGRP2",21,0)
 .S I=0
"RTN","DGRP2",22,0)
 .F NUM=0:1 S I=+$O(^DPT(DFN,.06,I)) Q:'I  D
"RTN","DGRP2",23,0)
 ..S NODE=$G(^DPT(DFN,.06,I,0))
"RTN","DGRP2",24,0)
 ..S X=$P($G(^DIC(10.2,+NODE,0)),"^",1)
"RTN","DGRP2",25,0)
 ..S ETHNIC=$S(X="":"?????",1:X)
"RTN","DGRP2",26,0)
 ..S X=$P($G(^DIC(10.3,+$P(NODE,"^",2),0)),"^",2)
"RTN","DGRP2",27,0)
 ..S ETHNIC=ETHNIC_" ("_$S(X="":"?",1:X)_")"
"RTN","DGRP2",28,0)
 ..I NUM S ETHNIC=", "_ETHNIC
"RTN","DGRP2",29,0)
 ..I ($X+$L(ETHNIC))>IOM D  W !?15
"RTN","DGRP2",30,0)
 ...F  S X=$P(ETHNIC," ",1)_" " Q:($X+$L(X))>IOM  W X S ETHNIC=$P(ETHNIC," ",2,999)
"RTN","DGRP2",31,0)
 ..W ETHNIC
"RTN","DGRP2",32,0)
 W !?9,"Race: " D
"RTN","DGRP2",33,0)
 .I '$O(^DPT(DFN,.02,0)) W "UNANSWERED" Q
"RTN","DGRP2",34,0)
 .N NODE,NUM,RACE
"RTN","DGRP2",35,0)
 .S I=0
"RTN","DGRP2",36,0)
 .F NUM=0:1 S I=+$O(^DPT(DFN,.02,I)) Q:'I  D
"RTN","DGRP2",37,0)
 ..S NODE=$G(^DPT(DFN,.02,I,0))
"RTN","DGRP2",38,0)
 ..S X=$P($G(^DIC(10,+NODE,0)),"^",1)
"RTN","DGRP2",39,0)
 ..S RACE=$S(X="":"?????",1:X)
"RTN","DGRP2",40,0)
 ..S X=$P($G(^DIC(10.3,+$P(NODE,"^",2),0)),"^",2)
"RTN","DGRP2",41,0)
 ..S RACE=RACE_" ("_$S(X="":"?",1:X)_")"
"RTN","DGRP2",42,0)
 ..I NUM S RACE=", "_RACE
"RTN","DGRP2",43,0)
 ..I ($X+$L(RACE))>IOM D  W !?15
"RTN","DGRP2",44,0)
 ...F  S X=$P(RACE," ",1)_" " Q:($X+$L(X))>IOM  W X S RACE=$P(RACE," ",2,999)
"RTN","DGRP2",45,0)
 ..W RACE
"RTN","DGRP2",46,0)
 D GETS^DIQ(2,DFN_",",".351;.353;.354;.355","E","PDTHINFO")
"RTN","DGRP2",47,0)
 W !!
"RTN","DGRP2",48,0)
 W "<4> Date of Death Information"
"RTN","DGRP2",49,0)
 W !,?5,"Date of Death: ",$G(PDTHINFO(2,DFN_",",.351,"E"))
"RTN","DGRP2",50,0)
 W ?41,"Source of Notification: ",$G(PDTHINFO(2,DFN_",",.353,"E"))
"RTN","DGRP2",51,0)
 W !,?5,"Updated Date/Time: ",$G(PDTHINFO(2,DFN_",",.354,"E"))
"RTN","DGRP2",52,0)
 W ?41,"Last Edited By: ",$G(PDTHINFO(2,DFN_",",.355,"E")),!
"RTN","DGRP2",53,0)
 K PDTHINFO
"RTN","DGRP2",54,0)
 ;
"RTN","DGRP2",55,0)
 ;Emergency Response Indicator
"RTN","DGRP2",56,0)
 N DGEMRES S DGEMRES=$P($G(^DPT(DFN,.18)),"^")
"RTN","DGRP2",57,0)
 S Z=5 D WW^DGRPV W " Emergency Response: "_$$EXTERNAL^DILFD(2,.181,,DGEMRES)
"RTN","DGRP2",58,0)
 G ^DGRPP
"RTN","DGRP2",59,0)
 ;
"RTN","DGRP2",60,0)
 Q
"RTN","DGRP2",61,0)
NEWB ;-- check patient DOB, if DOB<365 days, set marital status to "never married"
"RTN","DGRP2",62,0)
 N DOB,NOW
"RTN","DGRP2",63,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRP2",64,0)
 D NOW^%DTC S NOW=X
"RTN","DGRP2",65,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient is not a newborn
"RTN","DGRP2",66,0)
 S $P(^DPT(DFN,0),"^",5)=6 ;patient is a newborn
"RTN","DGRP2",67,0)
 Q
"RTN","DGRP4")
0^2^B9074330
"RTN","DGRP4",1,0)
DGRP4 ;ALB/MRL - REGISTRATION SCREEN 4/EMPLOYMENT INFORMATION ;06 JUN 88@2300
"RTN","DGRP4",2,0)
 ;;5.3;Registration;**624,867**;Aug 13, 1993;Build 59
"RTN","DGRP4",3,0)
 ;
"RTN","DGRP4",4,0)
 N DGMRD
"RTN","DGRP4",5,0)
 D NEWB ;determine newborn status before building local array
"RTN","DGRP4",6,0)
 S DGRPS=4 D H^DGRPU S DGRPW=1 F I=0,.311,.25 S DGRP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","DGRP4",7,0)
 S X=$P($G(^DIC(11,+$P(DGRP(0),"^",5),0)),"^",3) S DGMRD=$S("^M^S^"[("^"_X_"^"):1,1:0),DGRPVV(4)=$E(DGRPVV(4))_'DGMRD ; spouse's employer only editable if married or separated
"RTN","DGRP4",8,0)
 S DGAD=.311,DGA1=3,DGA2=1 D:$P(DGRP(.311),"^",1)]"" AL^DGRPU(26) S DGAD=.25,(DGA1,DGA2)=2 I $P(DGRP(.25),"^",1)]"",DGMRD D AL^DGRPU(26)
"RTN","DGRP4",9,0)
 S Z=1 D WW^DGRPV W " Employer: " S Z=$S($P(DGRP(.311),"^",1)]"":$E($P(DGRP(.311),"^",1),1,23),1:DGRPU),Z1=26 D WW1^DGRPV S DGRPW=0,Z=2 D WW^DGRPV W " Spouse's: ",$S('DGMRD:"NOT APPLICABLE",$P(DGRP(.25),"^",1)]"":$P(DGRP(.25),"^",1),1:DGRPU)
"RTN","DGRP4",10,0)
 F I=0:0 S I=$O(DGA(I)) Q:'I  S Z=DGA(I) S:(I#2) Z="              "_Z W:(I#2)!($X>50) ! W:(I#2) Z I '(I#2) W ?54,Z
"RTN","DGRP4",11,0)
 W ! I $P(DGRP(.311),"^",1)]"" W ?7,"Phone: ",$S($P(DGRP(.311),"^",9)]"":$P(DGRP(.311),"^",9),1:DGRPU)
"RTN","DGRP4",12,0)
 I $P(DGRP(.25),"^",1)]"",DGMRD W ?47,"Phone: ",$S($P(DGRP(.25),"^",8)]"":$P(DGRP(.25),"^",8),1:DGRPU)
"RTN","DGRP4",13,0)
 W !,?2,"Occupation: ",$S($P(DGRP(0),"^",7)]"":$P(DGRP(0),"^",7),1:DGRPU)
"RTN","DGRP4",14,0)
 I DGMRD W ?42,"Occupation: ",$S($P(DGRP(.25),"^",14)]"":$P(DGRP(.25),"^",14),1:DGRPU)
"RTN","DGRP4",15,0)
 W ! S X1="EMPLOYED FULL TIME^EMPLOYED PART TIME^NOT EMPLOYED^SELF EMPLOYED^RETIRED^ACTIVE MILITARY DUTY^^^UNKNOWN"
"RTN","DGRP4",16,0)
 S X=$P(DGRP(.311),"^",15) W ?6,"Status: ",$S($P(X1,"^",X)]"":$P(X1,"^",X),1:DGRPU)
"RTN","DGRP4",17,0)
 I DGMRD S X=$P(DGRP(.25),"^",15) W ?46,"Status: ",$S($P(X1,"^",X)]"":$P(X1,"^",X),1:DGRPU)
"RTN","DGRP4",18,0)
 W !
"RTN","DGRP4",19,0)
 W ?1,"Retired Dt.: "
"RTN","DGRP4",20,0)
 I +$P(DGRP(.311),"^",15)=5 DO
"RTN","DGRP4",21,0)
 . I +$P($G(DGRP(.311)),"^",16)>0 DO
"RTN","DGRP4",22,0)
 . . N Y
"RTN","DGRP4",23,0)
 . . S Y=$P(DGRP(.311),"^",16)
"RTN","DGRP4",24,0)
 . . D DD^%DT
"RTN","DGRP4",25,0)
 . . W Y
"RTN","DGRP4",26,0)
 . . K Y
"RTN","DGRP4",27,0)
 I +$P(DGRP(.311),"^",15)'=5 DO
"RTN","DGRP4",28,0)
 . W "NOT APPLICABLE"
"RTN","DGRP4",29,0)
 I DGMRD DO
"RTN","DGRP4",30,0)
 . W ?41,"Retired Dt.: "
"RTN","DGRP4",31,0)
 . I +$P(DGRP(.25),"^",15)=5 DO
"RTN","DGRP4",32,0)
 . . I +$P($G(DGRP(.25)),"^",16)>0 DO
"RTN","DGRP4",33,0)
 . . . N Y
"RTN","DGRP4",34,0)
 . . . S Y=$P(DGRP(.25),"^",16)
"RTN","DGRP4",35,0)
 . . . D DD^%DT
"RTN","DGRP4",36,0)
 . . . W Y
"RTN","DGRP4",37,0)
 . . . K Y
"RTN","DGRP4",38,0)
 . I +$P(DGRP(.25),"^",15)'=5 DO
"RTN","DGRP4",39,0)
 . . W "NOT APPLICABLE"
"RTN","DGRP4",40,0)
 G ^DGRPP
"RTN","DGRP4",41,0)
 Q
"RTN","DGRP4",42,0)
 ;
"RTN","DGRP4",43,0)
NEWB ;-- check patient DOB, if DOB<365 days, set employment status to "not employed"
"RTN","DGRP4",44,0)
 N DOB,NOW
"RTN","DGRP4",45,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRP4",46,0)
 D NOW^%DTC S NOW=X
"RTN","DGRP4",47,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;patient is not a newborn
"RTN","DGRP4",48,0)
 S $P(^DPT(DFN,.311),"^",15)=3 ;patient is a newborn
"RTN","DGRP4",49,0)
 Q
"RTN","DGRPC")
0^5^B32590756
"RTN","DGRPC",1,0)
DGRPC    ;ALB/MRL/PJR/PHH/EG/BAJ,TDM,LBD - CHECK CONSISTENCY OF PATIENT DATA ; 6/29/11 3:50pm
"RTN","DGRPC",2,0)
 ;;5.3;Registration;**108,121,314,301,470,489,505,451,568,585,641,653,688,754,797,867**;Aug 13, 1993;Build 59
"RTN","DGRPC",3,0)
 ;
"RTN","DGRPC",4,0)
 ;linetags in routines correspond to IEN of file 38.6
"RTN","DGRPC",5,0)
 ;
"RTN","DGRPC",6,0)
 ;variables:  DGVT = 1 if VETERAN? = YES, 0 if NO
"RTN","DGRPC",7,0)
 ;    DGSC = 1 if SC? = YES, 0 if NO
"RTN","DGRPC",8,0)
 ;    DGCD = 0 node of file EC file (#8)
"RTN","DGRPC",9,0)
 ;        DGRPCOLD = old inconsistencies for pt (separated by ,s)
"RTN","DGRPC",10,0)
 ;   DGCHK = #s to check (separated by ,s)
"RTN","DGRPC",11,0)
 ;   DGLST = next # to check
"RTN","DGRPC",12,0)
 ;    DGER = inconsistencies found (separated by ,s)
"RTN","DGRPC",13,0)
 ;   DGNCK = 1 if missing key elig data...can't process further
"RTN","DGRPC",14,0)
 ;
"RTN","DGRPC",15,0)
 N ANYMSE,CONARR,CONCHK,CONERR,CONSPEC,LOC,I5,I6,DGPMSE
"RTN","DGRPC",16,0)
 N MSECHK,MSESET,MSERR,MSDATERR,RANGE,RANSET,OVER99
"RTN","DGRPC",17,0)
 D ON I $S(('$D(DFN)#2):1,'$D(^DPT(DFN,0)):1,DGER:1,1:0) G KVAR^DGRPCE:DGER
"RTN","DGRPC",18,0)
EN       S:'$D(DGEDCN)#2 DGEDCN=0 I DGEDCN W !!,"Checking data for consistency..."
"RTN","DGRPC",19,0)
 D START:DGEDCN
"RTN","DGRPC",20,0)
 F I=0,.13,.141,.121,.122,.22,.24,.3,.31,.311,.32,.321,.322,.33,.35,.36,.362,.38,.39,.52,.53,"TYPE","VET" S DGP(I)=$G(^DPT(DFN,I))
"RTN","DGRPC",21,0)
 ;Get MSEs from MSE sub-file #2.3216 (DG*5.3*797)
"RTN","DGRPC",22,0)
 I '$D(^DPT(DFN,.3216)) D MOVMSE^DGMSEUTL(DFN)
"RTN","DGRPC",23,0)
 D GETMSE^DGMSEUTL(DFN,.DGPMSE)
"RTN","DGRPC",24,0)
 ;get old inconsistencies
"RTN","DGRPC",25,0)
 S DGRPCOLD="," I $D(^DGIN(38.5,DFN)) F I=0:0 S I=$O(^DGIN(38.5,DFN,"I",I)) Q:'I  S DGRPCOLD=DGRPCOLD_I_","
"RTN","DGRPC",26,0)
 ;find consistencies to check/not check
"RTN","DGRPC",27,0)
 ; DG*5.3*653 modified to exclude checks numbered>99  BAJ  10/25/2005
"RTN","DGRPC",28,0)
 S DGCHK="," F I=0:0 S I=$O(^DGIN(38.6,I)) Q:'I!(I=99)  I $D(^(I,0)),$S(I=2:0,I=51:0,I=9:1,I=10:1,I=13:1,I=14:1,I=22:1,I=52:1,I=53:1,'$P(^(0),"^",5):1,1:0),I'=99 S DGCHK=DGCHK_I_","
"RTN","DGRPC",29,0)
 S OVER99=",301,303,304,306,307,308,313,314,402,403,406,407,501,502,503,504,505,506,507,516,517,"
"RTN","DGRPC",30,0)
 S DGVT=$S(DGP("VET")="Y":1,1:0),DGSC=$S($P(DGP(.3),"^",1)="Y":1,1:0),DGCD=$S($D(^DIC(8,+DGP(.36),0)):^(0),1:""),(DGCT,DGER,DGNCK)="" I 'DGVT,$D(^DG(391,+DGP("TYPE"),0)),$P(^(0),"^",2) S DGVT=2
"RTN","DGRPC",31,0)
 S DGLST=+$P(DGCHK,",",2) G @DGLST
"RTN","DGRPC",32,0)
1        S DGD=$P(DGP(0),"^",1) I DGD?1L.E!(DGD?.E1L.E)!(DGD="") S X=1 D COMB,NEXT I +DGLST'=2 G @DGLST
"RTN","DGRPC",33,0)
 S I1=0 F I=1:1:$L(DGD) Q:I1  S J=$E(DGD,I) I J?1NP,$A(J)>32,J'=",",J'="-",J'=".",J'="'" S I1=1
"RTN","DGRPC",34,0)
 I I1 S X=1 D COMB
"RTN","DGRPC",35,0)
 D NEXT I +DGLST'=2 G @DGLST
"RTN","DGRPC",36,0)
2        S I1=0 F I=0:0 S I=$O(^DPT(DFN,.01,I)) Q:'I!(I1)  I $P(^(I,0),"^",1)'?1A.E S I1=1
"RTN","DGRPC",37,0)
 I I1 S X=2 D COMB
"RTN","DGRPC",38,0)
 D NEXT I +DGLST>7!('DGLST) G @DGLST
"RTN","DGRPC",39,0)
3        ;
"RTN","DGRPC",40,0)
4        ;
"RTN","DGRPC",41,0)
5        ;
"RTN","DGRPC",42,0)
6        ;
"RTN","DGRPC",43,0)
7        F I=2,3,5,8,9 I $P(DGP(0),"^",I)="" S X=$S(I=2:3,I=3:4,I=5:5,I=8:6,1:7) D COMB:DGCHK[(","_X_",")
"RTN","DGRPC",44,0)
 S DGLST=7 G:DGCHK'[",7," FIND^DGRPC2 D NEXT I +DGLST'=8 G @DGLST
"RTN","DGRPC",45,0)
8        S I1=0,DGD=$G(^DPT(DFN,.11)) I '$P(DGD,"^",10) S I1=1,X=8 D COMB,NEXT G @DGLST
"RTN","DGRPC",46,0)
 I '$D(^HL(779.004,$P(DGD,"^",10))) S I1=1,X=8 D COMB,NEXT G @DGLST
"RTN","DGRPC",47,0)
 N STR8 S STR8="1,4,5,6,7" I $$FORIEN^DGADDUTL($P(DGD,"^",10)) S STR8="1,4"
"RTN","DGRPC",48,0)
 F T=1:1:$L(STR8,",") S I=$P(STR8,",",T) Q:I1  I $P(DGD,"^",I)="" S I1=1
"RTN","DGRPC",49,0)
 I I1 S X=8 D COMB
"RTN","DGRPC",50,0)
 D NEXT I +DGLST'=9 G @DGLST
"RTN","DGRPC",51,0)
9        I DGP("VET")="" S X=9,DGNCK=1 D COMB
"RTN","DGRPC",52,0)
 D NEXT I +DGLST'=10 G @DGLST
"RTN","DGRPC",53,0)
10       I $P(DGP(.3),"^",1)="" S X=10,DGNCK=1 D COMB
"RTN","DGRPC",54,0)
 D NEXT I +DGLST'=11 G @DGLST
"RTN","DGRPC",55,0)
11       I 'DGVT,DGSC S X=11 D COMB
"RTN","DGRPC",56,0)
 D NEXT I +DGLST'=12 G @DGLST
"RTN","DGRPC",57,0)
12       I DGSC,DGVT,$P(DGP(.3),"^",2)="" S X=12 D COMB
"RTN","DGRPC",58,0)
 D NEXT I +DGLST'=13 G @DGLST
"RTN","DGRPC",59,0)
13       I '$D(^DIC(21,+$P(DGP(.32),"^",3),0)) S X=13,DGNCK=1 D COMB
"RTN","DGRPC",60,0)
 D NEXT I +DGLST'=14 G @DGLST
"RTN","DGRPC",61,0)
14       I $P(DGCD,"^",1)="" S X=14,DGNCK=1 D COMB
"RTN","DGRPC",62,0)
 ;
"RTN","DGRPC",63,0)
 ;Check Patient Eligibilities multiple if Primary Elig Code defined
"RTN","DGRPC",64,0)
 I DGP(.36),'$D(^DPT(DFN,"E",+DGP(.36),0)) D PRI^VADPT60 ;5.3*301
"RTN","DGRPC",65,0)
 ;
"RTN","DGRPC",66,0)
 D NEXT I +DGLST'=15 G FIND^DGRPC2:+DGLST=35,@DGLST
"RTN","DGRPC",67,0)
15       I $P($G(^DPT(DFN,.15)),"^",2)]"",$P(DGP(.3),"^",7)="" S X=15 D COMB
"RTN","DGRPC",68,0)
 D NEXT I +DGLST'=16 G FIND^DGRPC2:+DGLST=35,@DGLST
"RTN","DGRPC",69,0)
16       D H^DGUTL I +DGP(.35)>DGTIME S X=16 D COMB
"RTN","DGRPC",70,0)
 D NEXT I +DGLST'=17 G FIND^DGRPC2:+DGLST=35,@DGLST
"RTN","DGRPC",71,0)
17       K DGDATE,DGTIME
"RTN","DGRPC",72,0)
 N SDARRAY,SDCLIEN,SDDATE
"RTN","DGRPC",73,0)
 S I1=0,DGD=DT
"RTN","DGRPC",74,0)
 S SDARRAY("FLDS")=3
"RTN","DGRPC",75,0)
 S SDARRAY(4)=DFN
"RTN","DGRPC",76,0)
 I +DGP(.35),$$SDAPI^SDAMA301(.SDARRAY) D
"RTN","DGRPC",77,0)
 .;if there is data hanging from the 101 subscript,
"RTN","DGRPC",78,0)
 .;then this is a valid appointment
"RTN","DGRPC",79,0)
 .;otherwise it is an error eg 01/21/2005
"RTN","DGRPC",80,0)
 .I $D(^TMP($J,"SDAMA301",101))=1 Q
"RTN","DGRPC",81,0)
 .S SDCLIEN=0
"RTN","DGRPC",82,0)
 .F  S SDCLIEN=$O(^TMP($J,"SDAMA301",DFN,SDCLIEN)) Q:'SDCLIEN!(I1)  D
"RTN","DGRPC",83,0)
 ..S SDDATE=0
"RTN","DGRPC",84,0)
 ..F  S SDDATE=$O(^TMP($J,"SDAMA301",DFN,SDCLIEN,SDDATE)) Q:'SDDATE!(I1)  D
"RTN","DGRPC",85,0)
 ...S X=$P($P(^TMP($J,"SDAMA301",DFN,SDCLIEN,SDDATE),"^",3),";")
"RTN","DGRPC",86,0)
 ...I X=""!(X="I") S I1=1
"RTN","DGRPC",87,0)
 K ^TMP($J,"SDAMA301")
"RTN","DGRPC",88,0)
 I I1 S X=17 D COMB
"RTN","DGRPC",89,0)
 ;
"RTN","DGRPC",90,0)
END      ; end of routine...find next check to execute (or goto end)
"RTN","DGRPC",91,0)
 S:DGNCK DGLST=35 G:DGCHK'[",35,"&(DGNCK) FIND^DGRPC2 D NEXT G @DGLST
"RTN","DGRPC",92,0)
 ;
"RTN","DGRPC",93,0)
COMB     ;record inconsistency
"RTN","DGRPC",94,0)
 S DGCT=DGCT+1,DGER=DGER_X_",",DGLST=X Q
"RTN","DGRPC",95,0)
 Q
"RTN","DGRPC",96,0)
 ;
"RTN","DGRPC",97,0)
NEXT     ; find the next consistency check to check (goto end if can't process further)
"RTN","DGRPC",98,0)
 S I=$F(DGCHK,(","_DGLST_",")),DGLST=+$E(DGCHK,I,999) I +DGLST,DGLST<18 Q
"RTN","DGRPC",99,0)
 I +DGLST,DGNCK,+DGLST>17,+DGLST<36 S DGLST=35 Q:DGCHK'[",35,"  G NEXT
"RTN","DGRPC",100,0)
 S:'+DGLST DGLST="END^DGRPC3" I +DGLST S DGLST=DGLST_"^DGRPC"_$S(+DGLST<43:1,+DGLST<79:2,1:3)
"RTN","DGRPC",101,0)
 Q
"RTN","DGRPC",102,0)
 ;
"RTN","DGRPC",103,0)
PAT      ;check inconsistencies for a selected patient
"RTN","DGRPC",104,0)
 D ON G KVAR^DGRPCE:DGER W !! S DIC="^DPT(",DIC(0)="AEQMZ",DIC("A")="Check consistency for which PATIENT: " D ^DIC K DIC G KVAR^DGRPCE:Y'>0 S DFN=+Y,DGEDCN=1 D DGRPC G PAT
"RTN","DGRPC",105,0)
 ;
"RTN","DGRPC",106,0)
START    ;record start time for checker
"RTN","DGRPC",107,0)
 S DGSTART=$H Q
"RTN","DGRPC",108,0)
 ;
"RTN","DGRPC",109,0)
TIME     ;record end time for checker
"RTN","DGRPC",110,0)
 Q:'$D(DGSTART)#2  S DGEND=$H,X=$P(DGSTART,",",2),X1=$P(DGEND,",",2)
"RTN","DGRPC",111,0)
 I +DGSTART=+DGEND S DGTIME=X1-X
"RTN","DGRPC",112,0)
 E  S DGTIME=(5184000-X)+X1
"RTN","DGRPC",113,0)
 I $S(DGCT:0,DGCON=1:1,1:0) G TIMEQ
"RTN","DGRPC",114,0)
 W !!,"===> ",$S(DGCT:DGCT,DGCON<2:"No",1:"All")," inconsistenc",$S(DGCT=1:"y",1:"ies")," ",$S('DGCON:"found",DGCON=1:"filed",1:"removed")," in ",DGTIME," second",$S(DGTIME=1:"",1:"s"),"..." H 1
"RTN","DGRPC",115,0)
TIMEQ    K DGSTART,DGEND,DGTIME,X,X1,DGCON Q
"RTN","DGRPC",116,0)
 ;
"RTN","DGRPC",117,0)
ON       ;check if checker is on
"RTN","DGRPC",118,0)
 S DGER=0 I $S('$D(^DG(43,1,0)):1,'$P(^(0),"^",37):1,1:0) S DGER=1
"RTN","DGRPC",119,0)
 S:'$D(DGEDCN) DGEDCN=0 W:DGER !!,"CONSISTENCY CHECKER TURNED OFF!!",$C(7) Q
"RTN","DGRPC3")
0^6^B55911726
"RTN","DGRPC3",1,0)
DGRPC3   ;ALB/PJR,LBD,BAJ,TDM - CHECK CONSISTENCY OF PATIENT DATA (CONT) ; 10/20/10 3:40pm
"RTN","DGRPC3",2,0)
 ;;5.3;Registration;**451,632,673,657,688,754,797,867**;Aug 13, 1993;Build 59
"RTN","DGRPC3",3,0)
 ;
"RTN","DGRPC3",4,0)
79       ;; MSE Dates overlap
"RTN","DGRPC3",5,0)
 ;; Don't check if MSE Dates Incomplete or if MSE TO precedes FROM
"RTN","DGRPC3",6,0)
 ;; or unless at least 2 ranges
"RTN","DGRPC3",7,0)
 S:'$G(MSECHK) MSECHK=$$MSCK^DGMSCK I MSDATERR!($L(ANYMSE)<2) D NEXT G @DGLST
"RTN","DGRPC3",8,0)
 ;Use MSE data in DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",9,0)
 I $D(DGPMSE) D  D NEXT G @DGLST
"RTN","DGRPC3",10,0)
 .N MS,MSE,OUT S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",11,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE verified by HEC
"RTN","DGRPC3",12,0)
 ..S MSE=$O(DGPMSE(MS,0)) Q:'MSE
"RTN","DGRPC3",13,0)
 ..I '$$OVRLPCHK^DGRPDT(DFN,$P(DGPMSE(MS),U),$P(DGPMSE(MS),U,2),1,"","",MSE) S X=79 D COMB S (MSERR,OUT)=1 Q
"RTN","DGRPC3",14,0)
 ;Otherwise, use MSE data in DGP(.32)
"RTN","DGRPC3",15,0)
 I ANYMSE[1,'$$OVRLPCHK^DGRPDT(DFN,$P(DGP(.32),"^",6),$P(DGP(.32),"^",7),1,".326^.327") S X=79 D COMB S MSERR=1 D NEXT G @DGLST
"RTN","DGRPC3",16,0)
 I ANYMSE'[1,'$$OVRLPCHK^DGRPDT(DFN,$P(DGP(.32),"^",11),$P(DGP(.32),"^",12),1,".3292^.3293") S X=79 D COMB S MSERR=1 D NEXT G @DGLST
"RTN","DGRPC3",17,0)
 D NEXT G @DGLST
"RTN","DGRPC3",18,0)
80       ;; POW Dates not within MSE
"RTN","DGRPC3",19,0)
 ;; Check turned off by EVC project (DG*5.3*688)
"RTN","DGRPC3",20,0)
 D NEXT G @DGLST
"RTN","DGRPC3",21,0)
81       ;; Combat Dates not within MSE
"RTN","DGRPC3",22,0)
 I '$P(DGP(.52),"^",12) D NEXT G @DGLST ;; Don't check if no COMBAT Data
"RTN","DGRPC3",23,0)
 ;; Don't check if COMBAT Data Incomplete or if COMBAT TO precedes FROM
"RTN","DGRPC3",24,0)
 I ((","_DGER_",")[(",39,"))!((","_DGER_",")[(",40,")) D NEXT G @DGLST
"RTN","DGRPC3",25,0)
 S:'$G(MSECHK) MSECHK=$$MSCK^DGMSCK S:'$G(MSESET) MSESET=$$MSFROMTO^DGMSCK
"RTN","DGRPC3",26,0)
 ;; If COMBAT, but no MSE, then Range is NOT within MSE
"RTN","DGRPC3",27,0)
 I 'ANYMSE S X=81 D COMB D NEXT G @DGLST
"RTN","DGRPC3",28,0)
 I '$$RWITHIN^DGRPDT($P(MSESET,"^",1),$P(MSESET,"^",2),$P(DGP(.52),"^",13),$P(DGP(.52),"^",14)) S X=81 D COMB
"RTN","DGRPC3",29,0)
 D NEXT G @DGLST
"RTN","DGRPC3",30,0)
82       ;; Conflict Dates not within MSE
"RTN","DGRPC3",31,0)
 S:'$G(CONCHK) CONCHK=$$CNCK^DGMSCK
"RTN","DGRPC3",32,0)
 S:'$G(MSECHK) MSECHK=$$MSCK^DGMSCK S:'$G(MSESET) MSESET=$$MSFROMTO^DGMSCK
"RTN","DGRPC3",33,0)
 S LOC="",I2=0 F I1=1:1 S LOC=$O(CONSPEC(LOC)) Q:LOC=""  I CONARR(LOC)=1 D
"RTN","DGRPC3",34,0)
 .N FROMDAT,FROMPC,TODAT,TOPC,NODE,DATA
"RTN","DGRPC3",35,0)
 .S DATA=CONSPEC(LOC)
"RTN","DGRPC3",36,0)
 .S NODE=$P(DATA,",",1),FROMPC=$P(DATA,",",3),TOPC=$P(DATA,",",4)
"RTN","DGRPC3",37,0)
 .S FROMDAT=$P(DGP(NODE),"^",FROMPC),TODAT=$P(DGP(NODE),"^",TOPC)
"RTN","DGRPC3",38,0)
 .I '$$RWITHIN^DGRPDT($P(MSESET,"^",1),$P(MSESET,"^",2),FROMDAT,TODAT) S X=82 D COMB:'I2 S CONARR(LOC)=2,I2=1
"RTN","DGRPC3",39,0)
 .Q
"RTN","DGRPC3",40,0)
 ; Check OIF/OEF conflict dates
"RTN","DGRPC3",41,0)
 N DGOEIF D GET^DGENOEIF(DFN,.DGOEIF,0,"",0)
"RTN","DGRPC3",42,0)
 I $G(DGOEIF("COUNT")),DGER'[",82," D
"RTN","DGRPC3",43,0)
 . N Z
"RTN","DGRPC3",44,0)
 . S Z=0 F  S Z=$O(DGOEIF("IEN",Z)) Q:'Z  D  Q:DGER[",82,"
"RTN","DGRPC3",45,0)
 .. S FROMDAT=$G(DGOEIF("FR",Z)),TODAT=$G(DGOEIF("TO",Z)),LOC=$G(DGOEIF("LOC",Z))
"RTN","DGRPC3",46,0)
 .. I '$$RWITHIN^DGRPDT($P(MSESET,"^",1),$P(MSESET,"^",2),FROMDAT,TODAT) S X=82 D COMB S I2=1
"RTN","DGRPC3",47,0)
 D NEXT G @DGLST
"RTN","DGRPC3",48,0)
83       ;Merchant Seaman or Filipino Vet BOS requires service dates during WWII
"RTN","DGRPC3",49,0)
 N BOS,BOSN,MS,MSE,OUT
"RTN","DGRPC3",50,0)
 ;Use MSE data from DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",51,0)
 I $D(DGPMSE) D  D NEXT G @DGLST
"RTN","DGRPC3",52,0)
 .S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",53,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE if verified by HEC
"RTN","DGRPC3",54,0)
 ..S BOS=$P(DGPMSE(MS),U,3) Q:'BOS  S BOSN=$P(^DIC(23,BOS,0),U)
"RTN","DGRPC3",55,0)
 ..S MSE=$O(DGPMSE(MS,0)) Q:'MSE  S MSE="MSE-"_MSE
"RTN","DGRPC3",56,0)
 ..I $$BRANCH^DGRPMS(BOS_U_BOSN),'$$WWII^DGRPMS(DFN,"",MSE) S X=83 D COMB S OUT=1 Q
"RTN","DGRPC3",57,0)
 ;Otherwise, get MSE data from DGP(.32)
"RTN","DGRPC3",58,0)
 F MS=1:1:3 D  Q:$G(OUT)
"RTN","DGRPC3",59,0)
 .I MS=2,$P(DGP(.32),U,19)'="Y" S OUT=1 Q
"RTN","DGRPC3",60,0)
 .I MS=3,$P(DGP(.32),U,20)'="Y" S OUT=1 Q
"RTN","DGRPC3",61,0)
 .S BOS=$P(DGP(.32),U,(5*MS)) Q:'BOS  S BOSN=$P($G(^DIC(23,BOS,0)),U)
"RTN","DGRPC3",62,0)
 .S MSE=$S(MS=1:"MSL",MS=2:"MSNTL",1:"MSNNTL")
"RTN","DGRPC3",63,0)
 .I $$BRANCH^DGRPMS(BOS_U_BOSN),'$$WWII^DGRPMS(DFN,"",MSE) S X=83 D COMB S OUT=1 Q
"RTN","DGRPC3",64,0)
 D NEXT G @DGLST
"RTN","DGRPC3",65,0)
84       ;Filipino Vet BOS requires Filipino Vet Proof
"RTN","DGRPC3",66,0)
 N MS,BOS,OUT,MSE
"RTN","DGRPC3",67,0)
 ;Use MSE data from DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",68,0)
 I $D(DGPMSE) D  D NEXT G @DGLST
"RTN","DGRPC3",69,0)
 .S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",70,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE if verified by HEC
"RTN","DGRPC3",71,0)
 ..S BOS=$P(DGPMSE(MS),U,3) Q:'BOS
"RTN","DGRPC3",72,0)
 ..I $$FV^DGRPMS(BOS)=1,$P(DGP(.321),U,14)="" S X=84 D COMB S OUT=1 Q
"RTN","DGRPC3",73,0)
 ;Otherwise use MSE data in DGP(.32)
"RTN","DGRPC3",74,0)
 F MS=1:1:3 D  Q:$G(OUT)
"RTN","DGRPC3",75,0)
 .I MS=2,$P(DGP(.32),U,19)'="Y" S OUT=1 Q
"RTN","DGRPC3",76,0)
 .I MS=3,$P(DGP(.32),U,20)'="Y" S OUT=1 Q
"RTN","DGRPC3",77,0)
 .S BOS=$P(DGP(.32),U,(5*MS))
"RTN","DGRPC3",78,0)
 .I $$FV^DGRPMS(BOS)=1,$P(DGP(.321),U,14)="" S X=84 D COMB S OUT=1 Q
"RTN","DGRPC3",79,0)
 D NEXT G @DGLST
"RTN","DGRPC3",80,0)
85       ;Eligible Filipino Vet should have Veteran status = 'YES'
"RTN","DGRPC3",81,0)
86       ;Ineligible Filipino Vet should have Veteran status = 'NO'
"RTN","DGRPC3",82,0)
 N MS,BOS,FV,FILV,NOTFV,MSE,OUT
"RTN","DGRPC3",83,0)
 ;Use MSE data from DGPMSE array, if it exists (DG*5.3*797)
"RTN","DGRPC3",84,0)
 I $D(DGPMSE) D
"RTN","DGRPC3",85,0)
 .S MS=0 F  S MS=$O(DGPMSE(MS)) Q:'MS!($G(OUT))  D
"RTN","DGRPC3",86,0)
 ..I $P(DGPMSE(MS),U,7) Q  ;Don't check MSE if verified by HEC
"RTN","DGRPC3",87,0)
 ..S BOS=$P(DGPMSE(MS),U,3),FV=$$FV^DGRPMS(BOS) I 'FV S NOTFV="" Q
"RTN","DGRPC3",88,0)
 ..S MSE=$O(DGPMSE(MS,0)) Q:'MSE  S MSE="MSE-"_MSE
"RTN","DGRPC3",89,0)
 ..I '$$WWII^DGRPMS(DFN,"",MSE) S FILV("I")="" Q
"RTN","DGRPC3",90,0)
 ..I FV=2 S FILV("E")="" Q
"RTN","DGRPC3",91,0)
 ..I $P(DGP(.321),U,14)=""!($P(DGP(.321),U,14)="NO") S FILV("I")="" Q
"RTN","DGRPC3",92,0)
 ..S FILV("E")=""
"RTN","DGRPC3",93,0)
 ;Otherwise, get MSE data from DGP(.32)
"RTN","DGRPC3",94,0)
 E  F MS=1:1:3 D  Q:$G(OUT)
"RTN","DGRPC3",95,0)
 .I MS=2,$P(DGP(.32),U,19)'="Y" S OUT=1 Q
"RTN","DGRPC3",96,0)
 .I MS=3,$P(DGP(.32),U,20)'="Y" S OUT=1 Q
"RTN","DGRPC3",97,0)
 .S BOS=$P(DGP(.32),U,(5*MS)),FV=$$FV^DGRPMS(BOS) I 'FV S NOTFV="" Q
"RTN","DGRPC3",98,0)
 .S MSE=$S(MS=1:"MSL",MS=2:"MSNTL",1:"MSNNTL")
"RTN","DGRPC3",99,0)
 .I '$$WWII^DGRPMS(DFN,"",MSE) S FILV("I")="" Q
"RTN","DGRPC3",100,0)
 .I FV=2 S FILV("E")="" Q
"RTN","DGRPC3",101,0)
 .I $P(DGP(.321),U,14)=""!($P(DGP(.321),U,14)="NO") S FILV("I")="" Q
"RTN","DGRPC3",102,0)
 .S FILV("E")=""
"RTN","DGRPC3",103,0)
 I $D(FILV) D
"RTN","DGRPC3",104,0)
 .I DGVT'=1,$D(FILV("E")) S X=85 D COMB Q
"RTN","DGRPC3",105,0)
 .I DGCHK'[(",86,") Q
"RTN","DGRPC3",106,0)
 .I DGVT=1,'$D(NOTFV),'$D(FILV("E")),$D(FILV("I")) S X=86 D COMB
"RTN","DGRPC3",107,0)
 S DGLST=86
"RTN","DGRPC3",108,0)
 D NEXT G @DGLST
"RTN","DGRPC3",109,0)
87       ; DG*5.3*657 BAJ 11/24/2005 CC #87 added
"RTN","DGRPC3",110,0)
 ; SC Eligibility but no rated Disability Codes
"RTN","DGRPC3",111,0)
 ; 1. Svc Connected is answered "YES"
"RTN","DGRPC3",112,0)
 ; 2. Eligibility code is either SC < 50% or SC 50-100%
"RTN","DGRPC3",113,0)
 ; 3. Svc connected %-age is 0 or greater
"RTN","DGRPC3",114,0)
 ; 4. Patient has no rated disabilities
"RTN","DGRPC3",115,0)
 ; .. VAEL(1) $P 1 = Primary Eligibility Code  $p 2 = Primary Elig External Value
"RTN","DGRPC3",116,0)
 ; .. VAEL(3) $P 1 = SERVICE CONNECTED? $P 2 = SC %
"RTN","DGRPC3",117,0)
 ; .. Rated Disabilities : ^DPT(DFN,.372,0) $P 4 is number of records  '($P($G(^DPT(DFN,.372,0)),"^",4)) is TRUE
"RTN","DGRPC3",118,0)
 ;
"RTN","DGRPC3",119,0)
 ; Get Eligibility info
"RTN","DGRPC3",120,0)
 D ELIG^VADPT
"RTN","DGRPC3",121,0)
 ;
"RTN","DGRPC3",122,0)
 ; If not svc connected, don't check
"RTN","DGRPC3",123,0)
 I '$G(VAEL(3)) D NEXT G @DGLST
"RTN","DGRPC3",124,0)
 ;
"RTN","DGRPC3",125,0)
 I +VAEL(3)=1!(+VAEL(3)=3) D
"RTN","DGRPC3",126,0)
 . Q:$P(VAEL(3),"^",2)<0
"RTN","DGRPC3",127,0)
 . Q:$P(VAEL(3),"^",2)=""
"RTN","DGRPC3",128,0)
 . I '($P($G(^DPT(DFN,.372,0)),"^",4)) S X=87 D COMB
"RTN","DGRPC3",129,0)
 D NEXT G @DGLST
"RTN","DGRPC3",130,0)
 ;
"RTN","DGRPC3",131,0)
88       ;Temporary Address check
"RTN","DGRPC3",132,0)
 N STR88,J,DGI,DGERR,START,END
"RTN","DGRPC3",133,0)
 S DGERR=0
"RTN","DGRPC3",134,0)
 I $P(DGP(.121),U,9)="Y" D
"RTN","DGRPC3",135,0)
 . ;check only if current date is within effective range
"RTN","DGRPC3",136,0)
 . S START=$P(DGP(.121),U,7),END=$P(DGP(.121),U,8)
"RTN","DGRPC3",137,0)
 . Q:START=""  I END="" S END=9999999
"RTN","DGRPC3",138,0)
 . ; quit if current date is not within range
"RTN","DGRPC3",139,0)
 . I '(DT'<START&(DT'>END)) Q
"RTN","DGRPC3",140,0)
 . ; country is either NULL or non-numeric
"RTN","DGRPC3",141,0)
 . I '$P(DGP(.122),U,3) S DGERR=1 Q
"RTN","DGRPC3",142,0)
 . ; country is not in Country file
"RTN","DGRPC3",143,0)
 . I '$D(^HL(779.004,$P(DGP(.122),U,3))) S DGERR=1 Q
"RTN","DGRPC3",144,0)
 . S STR88="1,4,5,6" I $$FORIEN^DGADDUTL($P(DGP(.122),"^",3)) S STR88="1,4"
"RTN","DGRPC3",145,0)
 . F J=1:1:$L(STR88,",") S DGI=$P(STR88,",",J) Q:DGERR  I $P(DGP(.121),U,DGI)="" S DGERR=1
"RTN","DGRPC3",146,0)
 I DGERR S X=88 D COMB
"RTN","DGRPC3",147,0)
 D NEXT G @DGLST
"RTN","DGRPC3",148,0)
99       ; synonymous with END
"RTN","DGRPC3",149,0)
END      I DGNCK S X=99 D COMB
"RTN","DGRPC3",150,0)
 D OVER99CK
"RTN","DGRPC3",151,0)
 I DGEDCN S DGCON=0 D TIME^DGRPC
"RTN","DGRPC3",152,0)
 K C,C1,C2,DGCD,DGD,DGD1,DGD2,DGDATE,DGDEP,DGCHK,DGFL,DGINC,DGISYR,DGLST,DGMS,DGNCK,DGP,DGPMSE,DGPTYP,DGREL,DGSCT,DGT,DGTIME,DGTOT,DGVT,I,I2,I2,J,VAIN,X,X1
"RTN","DGRPC3",153,0)
 G ^DGRPCF
"RTN","DGRPC3",154,0)
 ;
"RTN","DGRPC3",155,0)
COMB     S DGCT=DGCT+1,DGER=DGER_X_",",DGLST=X Q
"RTN","DGRPC3",156,0)
 ;;
"RTN","DGRPC3",157,0)
NEXT     S I=$F(DGCHK,(","_+DGLST_",")),DGLST=+$E(DGCHK,I,999) S:'DGLST DGLST="END"
"RTN","DGRPC3",158,0)
 Q
"RTN","DGRPC3",159,0)
 ;
"RTN","DGRPC3",160,0)
OVER99CK N DGP,DGSD,RULE,FILERR
"RTN","DGRPC3",161,0)
 D LOADPT^IVMZ07C(DFN,.DGP),LOADSD^IVMZ072(DFN,.DGSD)
"RTN","DGRPC3",162,0)
 F RULE=301,303,304,306:1:308 S DGLST=RULE_"^IVMZ7CD" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",163,0)
 F RULE=402,403,406,407 S DGLST=RULE_"^IVMZ7CE" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",164,0)
 F RULE=501:1:507,516,517 S DGLST=RULE_"^IVMZ7CS" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",165,0)
 F RULE=313 S DGLST=RULE_"^DGRPC3" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",166,0)
 F RULE=314 S DGLST=RULE_"^DGRPC3" D @DGLST I $D(FILERR(RULE)) S X=RULE D COMB
"RTN","DGRPC3",167,0)
 S DGLST="END"
"RTN","DGRPC3",168,0)
 Q
"RTN","DGRPC3",169,0)
 ;
"RTN","DGRPC3",170,0)
313 ; NEWBORN REQUIRES SPONSOR
"RTN","DGRPC3",171,0)
 N X
"RTN","DGRPC3",172,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRPC3",173,0)
 D NOW^%DTC
"RTN","DGRPC3",174,0)
 S NOW=X
"RTN","DGRPC3",175,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;NOT A NEWBORN
"RTN","DGRPC3",176,0)
 I $D(^IBA(355.81,"B",DFN)) Q  ;already has a sponsor
"RTN","DGRPC3",177,0)
 S FILERR(RULE)=""
"RTN","DGRPC3",178,0)
 Q
"RTN","DGRPC3",179,0)
 ; 
"RTN","DGRPC3",180,0)
314  ;NEWBORN SPONSOR MUST BE ELIGIBLE
"RTN","DGRPC3",181,0)
 I '$D(^IBA(355.81,"B",DFN)) Q  ;Does not have a sponsor
"RTN","DGRPC3",182,0)
 N X
"RTN","DGRPC3",183,0)
 S DOB=$P(^DPT(DFN,0),"^",3)
"RTN","DGRPC3",184,0)
 D NOW^%DTC
"RTN","DGRPC3",185,0)
 S NOW=X
"RTN","DGRPC3",186,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q  ;NOT A NEWBORN
"RTN","DGRPC3",187,0)
 N RELIEN,SPNIEN,SPNDFN,ELIG
"RTN","DGRPC3",188,0)
 ;NEED TO FIND SPONSOR IN PATIENT FILE
"RTN","DGRPC3",189,0)
 S RELIEN="",SPNIEN="",SPNDFN="",ELIG=""
"RTN","DGRPC3",190,0)
 S RELIEN=$O(^IBA(355.81,"B",DFN,RELIEN))
"RTN","DGRPC3",191,0)
 S SPNIEN=$$GET1^DIQ(355.81,RELIEN,.02,"I")
"RTN","DGRPC3",192,0)
 S SPNDFN=$$GET1^DIQ(355.8,SPNIEN,.01,"I")
"RTN","DGRPC3",193,0)
 S SPNDFN=$P(SPNDFN,";",1)
"RTN","DGRPC3",194,0)
 S ELIG=$$GET1^DIQ(2,SPNDFN,.3611,"I")
"RTN","DGRPC3",195,0)
 I ELIG'="" Q  ;sponsor has an eligibility status
"RTN","DGRPC3",196,0)
 S FILERR(RULE)=""
"RTN","DGRPC3",197,0)
 Q
"RTN","DGRPC3",198,0)
 ;
"RTN","DGRPCF")
0^7^B26163167
"RTN","DGRPCF",1,0)
DGRPCF ;ALB/MRL,BAJ,TDM - CONSISTENCY OF PATIENT DATA (FILE/EDIT) ;6/17/09 12:28pm
"RTN","DGRPCF",2,0)
 ;;5.3;Registration;**250,653,786,754,867**;Aug 13, 1993;Build 59
"RTN","DGRPCF",3,0)
 ;
"RTN","DGRPCF",4,0)
 ; file new inconsistencies or update file entries for patient
"RTN","DGRPCF",5,0)
 ;
"RTN","DGRPCF",6,0)
 ; DGCT = count of inconsistencies found (passed in from checker)
"RTN","DGRPCF",7,0)
 ; DGCT1= count of inconsistencies which can't be edited because
"RTN","DGRPCF",8,0)
 ;        user does not hold appropriate key
"RTN","DGRPCF",9,0)
 ; DGCT2= count of already filed inconsistencies
"RTN","DGRPCF",10,0)
 ; DGCT3= count of inconsistencies which are uneditable through
"RTN","DGRPCF",11,0)
 ;        checker options
"RTN","DGRPCF",12,0)
 ; DGCTZ7= count of inconsistencies found that will prevent Z07
"RTN","DGRPCF",13,0)
 ;
"RTN","DGRPCF",14,0)
 ;
"RTN","DGRPCF",15,0)
 ; 
"RTN","DGRPCF",16,0)
EN I '$D(DGCT) G KVAR^DGRPCE
"RTN","DGRPCF",17,0)
 ; DG*5.3*653 BAJ modified to delete only inconsistencies numbered 99 or less
"RTN","DGRPCF",18,0)
 N DGADD S DGADD=0 ;786 corrects problem with incorrect header
"RTN","DGRPCF",19,0)
 ;I 'DGCT,$O(^DGIN(38.5,DFN,"I",""),-1)>99 D DELETE G KVAR^DGRPCE
"RTN","DGRPCF",20,0)
 I 'DGCT D DELETE G KVAR^DGRPCE
"RTN","DGRPCF",21,0)
 S DGEDCN=+$G(DGEDCN),DGRPOUT=+$G(DGRPOUT),DGCON=1 D:DGEDCN START^DGRPC I 'DGCT D ^DGRPCF1,TIMEQ^DGRPC G KVAR^DGRPCE
"RTN","DGRPCF",22,0)
 S:'$D(^DGIN(38.5,DFN,0)) ^(0)=DFN_"^"_DT_"^"_$S(('$D(DUZ)#2):"",1:DUZ),DGADD=1 S X=$P(^(0),"^",4),^DGIN(38.5,DFN,0)=$P(^(0),"^",1,3)_"^"_DT_"^"_$S(('$D(DUZ)#2):"",1:DUZ)_"^"_$P(^(0),"^",6) K ^DGIN(38.5,"AC",9999999-X,DFN)
"RTN","DGRPCF",23,0)
 S ^DGIN(38.5,"B",DFN,DFN)="",^DGIN(38.5,"AC",9999999-DT,DFN)="",^DGIN(38.5,0)=$P(^DGIN(38.5,0),"^",1,2)_"^"_DFN_"^"_($P(^(0),"^",4)+DGADD) ;786 corrected for incorrect header
"RTN","DGRPCF",24,0)
 I $D(^DGIN(38.5,DFN,"I")) D DELETE
"RTN","DGRPCF",25,0)
 S DGD2=0 F DGD=1:1 S DGD1=$P(DGER,",",DGD) Q:DGD1=""  I $D(^DGIN(38.6,DGD1,0)) S DGD2=DGD1 S ^DGIN(38.5,DFN,"I",DGD1,0)=DGD1
"RTN","DGRPCF",26,0)
 S ^DGIN(38.5,DFN,"I",0)="^38.51PA^"_DGD2_"^"_DGCT I DGCT,DGEDCN G DIS
"RTN","DGRPCF",27,0)
 G KVAR^DGRPCE
"RTN","DGRPCF",28,0)
 ;
"RTN","DGRPCF",29,0)
DIS D TIME^DGRPC S DGRPE=$S($D(DGRPE):DGRPE+1,1:0) D KEY S IOP="HOME" D ^%ZIS K IOP W @IOF,! D DEM^VADPT W VADM(1)," (",$P(VADM(2),"^",2),")",?65,$P(VADM(3),"^",2) S X="",$P(X,"=",79)="" W !,X
"RTN","DGRPCF",30,0)
 S (C,DGCT1,DGCT2,DGCT3,DGCTZ7)=0,DGEDIT="0000000011111110011111113333222223313333332222220030000" F I=1:1 S J=$P(DGER,",",I) Q:J=""  I $D(^DGIN(38.6,J,0)) S X2=$P(^(0),"^",1) D WRIT
"RTN","DGRPCF",31,0)
 I DGCT1!DGCT3 W ! D NOEDIT
"RTN","DGRPCF",32,0)
 I DGCTZ7 W !!,"Inconsistencies followed by [+] will prevent a Z07"
"RTN","DGRPCF",33,0)
 S DGINC55=$S(DGER'[55:0,($G(DGRPVV(9))'["0"):0,1:1)
"RTN","DGRPCF",34,0)
EDIT G:DGRPOUT BUL I DGCT1+DGCT3'=DGCT W !!,"DO YOU WANT TO UPDATE THESE INCONSISTENCIES NOW" S %=1 D YN^DICN I %=1 D  G ^DGRPC
"RTN","DGRPCF",35,0)
 . S DGINC55=$S(DGER'[55:0,($G(DGRPVV(9))'["0"):0,1:1)
"RTN","DGRPCF",36,0)
 . L +^DPT(DFN):3 E  W *7,!!,"Patient is being edited. Try again later."  S DGEDCN=0 Q
"RTN","DGRPCF",37,0)
 . D ^DGRPCE
"RTN","DGRPCF",38,0)
 . L -^DPT(DFN)
"RTN","DGRPCF",39,0)
 . S DGEDCN=1
"RTN","DGRPCF",40,0)
 I $S(($G(DGRETURN)>10):0,$G(DGINC55):1,1:0) D
"RTN","DGRPCF",41,0)
 .N DIR
"RTN","DGRPCF",42,0)
 .S DIR(0)="Y",DIR("A")="Do you wish to return to Screen #9 to enter missing Income Data? ",DIR("B")="YES" D ^DIR
"RTN","DGRPCF",43,0)
 .S:Y>0 DGRPV=0
"RTN","DGRPCF",44,0)
 .S:Y>0 DGRETURN=$G(DGRETURN)+1
"RTN","DGRPCF",45,0)
 I $S($G(Y)'>0:0,(DGRETURN>11):0,1:1) D ^DGRPV G ^DGRP9
"RTN","DGRPCF",46,0)
 I DGCT1+DGCT3'=DGCT,'% W !!?4,"YES - To correct inconsistencies to unrestricted fields immediately.",!?4,"NO  - To abort this process immediately." G EDIT
"RTN","DGRPCF",47,0)
 I DGER[313 D
"RTN","DGRPCF",48,0)
 . N DIR
"RTN","DGRPCF",49,0)
 . S DIR(0)="Y",DIR("A")="Do you wish to return to Screen #15 to enter Sponsor information? ",DIR("B")="YES" D ^DIR
"RTN","DGRPCF",50,0)
 . S:Y>0 DGRPV=0
"RTN","DGRPCF",51,0)
 . S:Y>0 DGRETURN=$G(DGRETURN)+1
"RTN","DGRPCF",52,0)
 I $G(Y)>0&(DGER[313) D ^DGRPV G ^DGRP15
"RTN","DGRPCF",53,0)
BUL K DGRETURN,X,Y D ^DGRPCB G KVAR^DGRPCE
"RTN","DGRPCF",54,0)
 ;
"RTN","DGRPCF",55,0)
WRIT ;S C=C+1 W:(C#2) ! S X1=$S((C#2):0,1:40) W ?X1,$E(J_"  ",1,3),"- ",X2 I DGKEY(+$E(DGEDIT,J)) W "*" S DGCT1=DGCT1+1
"RTN","DGRPCF",56,0)
 S C=C+1 W:(C#2) ! S X1=$S((C#2):0,1:40) W ?X1,$E(J_"  ",1,3),"- "
"RTN","DGRPCF",57,0)
 W X2 I DGKEY(+$E(DGEDIT,J))!(J=407) W "*" S DGCT1=DGCT1+1
"RTN","DGRPCF",58,0)
 I "^17^55^313^314^"[("^"_+J_"^") W "**" S DGCT3=DGCT3+1
"RTN","DGRPCF",59,0)
 I +$P(DGRPCOLD,",",2),DGRPCOLD'[(","_J_",") S DGCT2=DGCT2+1
"RTN","DGRPCF",60,0)
 I $P($G(^DGIN(38.6,J,0)),"^",6) W "+" S DGCTZ7=DGCTZ7+1
"RTN","DGRPCF",61,0)
 Q
"RTN","DGRPCF",62,0)
KEY S X=$S(('$D(DUZ)#2):1,'$D(^XUSEC("DG ELIGIBILITY",DUZ)):1,1:0) F I=.3,.32,.361 S DGP(I)=$S($D(^DPT(DFN,I)):^(I),1:"")
"RTN","DGRPCF",63,0)
 F I=0:1:4 S DGKEY(I)=""
"RTN","DGRPCF",64,0)
 I $P(DGP(.361),"^",1)="V",X S DGKEY(1)=1
"RTN","DGRPCF",65,0)
 I $P(DGP(.3),"^",6)]"",X S DGKEY(2)=1
"RTN","DGRPCF",66,0)
 I $P(DGP(.32),"^",2)]"",X S DGKEY(3)=1
"RTN","DGRPCF",67,0)
 S:'X DGKEY(4)=1 K DGP Q
"RTN","DGRPCF",68,0)
 ;
"RTN","DGRPCF",69,0)
DELETE ; Delete all Registration inconsistencies from INCONSISTENT DATA file (#38.5).
"RTN","DGRPCF",70,0)
 ; 
"RTN","DGRPCF",71,0)
 ;
"RTN","DGRPCF",72,0)
 N RULE,DIK,DA
"RTN","DGRPCF",73,0)
 ;
"RTN","DGRPCF",74,0)
 S RULE=0,DA=""
"RTN","DGRPCF",75,0)
 S DIK="^DGIN(38.5,"_DFN_","_"""I"""_","
"RTN","DGRPCF",76,0)
 ;F  S RULE=$O(^DGIN(38.5,DFN,"I",RULE)) Q:RULE=""  Q:RULE>99  S DA=RULE D ^DIK
"RTN","DGRPCF",77,0)
 F  S RULE=$O(^DGIN(38.5,DFN,"I",RULE)) Q:RULE=""  D
"RTN","DGRPCF",78,0)
 . I RULE>99,OVER99'[(","_RULE_",") Q
"RTN","DGRPCF",79,0)
 . S DA=RULE D ^DIK
"RTN","DGRPCF",80,0)
 Q
"RTN","DGRPCF",81,0)
 ;
"RTN","DGRPCF",82,0)
NOEDIT ; write explanation of non-editable items
"RTN","DGRPCF",83,0)
 I DGCT1 W !,"You will not be able to edit inconsistencies followed by an asterisk [*]",!,"as you do not hold the appropriate ""DG ELIGIBILITY"" security key."
"RTN","DGRPCF",84,0)
 I DGCT3 W !,"Inconsistencies followed by two (2) asterisks [**] must be corrected by",!,"using the appropriate MAS menu option(s)."
"RTN","DGRPCF",85,0)
 I DGCT1+DGCT3'=DGCT W !!,"All items not followed by an asterisk can be edited at this time.  If these",!,"items are not corrected at this time, a bulletin will be sent to the",!,"appropriate hospital personnel."
"RTN","DGRPCF",86,0)
 ;;QUIT
"VER")
8.0^22.0
"^DD",38.6,38.6,0)
FIELD^^50^8
"^DD",38.6,38.6,0,"DDA")
N
"^DD",38.6,38.6,0,"IX","B",38.6,.01)

"^DD",38.6,38.6,0,"NM","INCONSISTENT DATA ELEMENTS")

"^DD",38.6,38.6,0,"PT",38.51,.01)

"^DD",38.6,38.6,0,"VRPK")
DG
"^DD",38.6,38.6,.001,0)
NUMBER^NJ3,0^^ ^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N) X
"^DD",38.6,38.6,.001,3)
TYPE A WHOLE NUMBER BETWEEN 1 AND 999
"^DD",38.6,38.6,.001,21,0)
^^5^5^2911211^
"^DD",38.6,38.6,.001,21,1,0)
This field contains the internal entry number of the inconsistency.  This
"^DD",38.6,38.6,.001,21,2,0)
number is used by the consistency checker routines to determine what action
"^DD",38.6,38.6,.001,21,3,0)
needs to be taken.  Entries in this file must not be added nor altered in
"^DD",38.6,38.6,.001,21,4,0)
any way as this would cause the consistency checker functionality to act
"^DD",38.6,38.6,.001,21,5,0)
incorrectly.
"^DD",38.6,38.6,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X?1A.E) X
"^DD",38.6,38.6,.01,1,0)
^.1
"^DD",38.6,38.6,.01,1,1,0)
38.6^B
"^DD",38.6,38.6,.01,1,1,1)
S ^DGIN(38.6,"B",$E(X,1,30),DA)=""
"^DD",38.6,38.6,.01,1,1,2)
K ^DGIN(38.6,"B",$E(X,1,30),DA)
"^DD",38.6,38.6,.01,3)
ANSWER MUST BE 3-30 CHARACTERS IN LENGTH
"^DD",38.6,38.6,.01,21,0)
^^4^4^2911211^
"^DD",38.6,38.6,.01,21,1,0)
This field contains the name of the inconsistency that will be reported
"^DD",38.6,38.6,.01,21,2,0)
when utilizing various registration and consistency checker options.  This
"^DD",38.6,38.6,.01,21,3,0)
name will appear on the screen and in a mailmessage should the inconsistency
"^DD",38.6,38.6,.01,21,4,0)
not be reported.
"^DD",38.6,38.6,.01,"DT")
2870513
"^DD",38.6,38.6,2,0)
TEXT^RF^^0;2^K:$L(X)>70!($L(X)<2) X
"^DD",38.6,38.6,2,3)
ANSWER MUST BE 2-70 CHARACTERS IN LENGTH
"^DD",38.6,38.6,2,21,0)
^^2^2^2911211^
"^DD",38.6,38.6,2,21,1,0)
Enter the text for this inconsistency.  This text will display on the
"^DD",38.6,38.6,2,21,2,0)
inconsistent data reports.  It describes how the inconsistency occurs.
"^DD",38.6,38.6,2,"DT")
2870306
"^DD",38.6,38.6,3,0)
KEY REQUIRED^RS^0:NO KEY REQUIRED;1:ELIGIBILITY VERIFIED;2:MONEY VERFIED;3:SERVICE VERIFIED;4:KEY ALWAYS REQUIRED;^0;3^Q
"^DD",38.6,38.6,3,21,0)
^^8^8^2911211^
"^DD",38.6,38.6,3,21,1,0)
Various entries in the PATIENT file become uneditable by certain hospital
"^DD",38.6,38.6,3,21,2,0)
personnel once the data has been verified.  If the data has been verified,
"^DD",38.6,38.6,3,21,3,0)
the user must hold a key in order to make a change to it.  If the
"^DD",38.6,38.6,3,21,4,0)
inconsistency in this file requires a user to hold a key to edit the data
"^DD",38.6,38.6,3,21,5,0)
once it has been verified, that key must be listed here.
"^DD",38.6,38.6,3,21,6,0)
 
"^DD",38.6,38.6,3,21,7,0)
Altering of data in this field could cause data to be edited
"^DD",38.6,38.6,3,21,8,0)
inappropriately.  This field should not be changed!
"^DD",38.6,38.6,3,"DT")
2870312
"^DD",38.6,38.6,4,0)
SET ELIG DR STRING^S^1:YES;0:NO;^0;4^Q
"^DD",38.6,38.6,4,21,0)
^^10^10^2911211^
"^DD",38.6,38.6,4,21,1,0)
If the data required to clean-up this inconsistency requires editing of
"^DD",38.6,38.6,4,21,2,0)
data that is related to eligibility, this field should be answered yes.
"^DD",38.6,38.6,4,21,3,0)
For example, if the inconsistency is 'SC PROMPT UNANSWERED', this field
"^DD",38.6,38.6,4,21,4,0)
would be yes because this prompt is required in order to select a
"^DD",38.6,38.6,4,21,5,0)
patient's eligibility.  If this field is answered yes, all eligibility
"^DD",38.6,38.6,4,21,6,0)
related questions will also be asked.
"^DD",38.6,38.6,4,21,7,0)
 
"^DD",38.6,38.6,4,21,8,0)
Data in this field must not be altered in any way or it could cause
"^DD",38.6,38.6,4,21,9,0)
inaccrarate patient data to be entered on your system.  This data is
"^DD",38.6,38.6,4,21,10,0)
distributed and maintained by the MAS package.
"^DD",38.6,38.6,4,"DT")
2870320
"^DD",38.6,38.6,5,0)
CHECK/DON'T CHECK^S^0:CHECK;1:DON'T CHECK;^0;5^Q
"^DD",38.6,38.6,5,21,0)
^^13^13^2920324^^^
"^DD",38.6,38.6,5,21,1,0)
Answer '0' if you want to check this inconsistency locally or '1'
"^DD",38.6,38.6,5,21,2,0)
if you wish to ignore it whenever found.
"^DD",38.6,38.6,5,21,3,0)
 
"^DD",38.6,38.6,5,21,4,0)
Most checks provide the ability for them to be turned off locally, however,
"^DD",38.6,38.6,5,21,5,0)
there are some consistency checks ('SC PROMPT UNANSWERED', for example)
"^DD",38.6,38.6,5,21,6,0)
which will always be turned on regardless of how this promt is answered.
"^DD",38.6,38.6,5,21,7,0)
 
"^DD",38.6,38.6,5,21,8,0)
This field can be edited at the site level.
"^DD",38.6,38.6,5,21,9,0)
 
"^DD",38.6,38.6,5,21,10,0)
The consistency checks that will always be on are 'VETERAN STATUS
"^DD",38.6,38.6,5,21,11,0)
UNSPECIFIED', 'SC PROMPT UNANSWERED', 'POS UNSPECIFIED', 'ELIG CODE
"^DD",38.6,38.6,5,21,12,0)
UNANSWERED', 'ELIG CODE INCONSISTENT', 'INSURANCE PROMPT UNANSWERED',
"^DD",38.6,38.6,5,21,13,0)
and 'EMPLOYMENT STATUS UNANSWERED'.
"^DD",38.6,38.6,5,"DT")
2870513
"^DD",38.6,38.6,6,0)
USE FOR Z07 CHECK^SI^0:NO;1:YES;^0;6^Q
"^DD",38.6,38.6,6,23,0)
^.001^1^1^3081028^^
"^DD",38.6,38.6,6,23,1,0)
 
"^DD",38.6,38.6,6,"DT")
3081028
"^DD",38.6,38.6,50,0)
DESCRIPTION^38.61^^D;0
"^DD",38.6,38.6,50,21,0)
^^3^3^2911211^
"^DD",38.6,38.6,50,21,1,0)
This field contains a full description of how the inconsistency is
"^DD",38.6,38.6,50,21,2,0)
created.  This data is provided and maintained by the MAS package and
"^DD",38.6,38.6,50,21,3,0)
should not be altered at the site level.
"^DD",38.6,38.61,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",38.6,38.61,0,"NM","DESCRIPTION")

"^DD",38.6,38.61,0,"UP")
38.6
"^DD",38.6,38.61,.01,0)
DESCRIPTION^W^^0;1^Q
"^DD",38.6,38.61,.01,"DT")
2870513
"^DD",43.4,43.4,0)
FIELD^NL^6^7
"^DD",43.4,43.4,0,"DT")
2940808
"^DD",43.4,43.4,0,"ID","WRITE")
W ?50,$P(^("0"),U,3)
"^DD",43.4,43.4,0,"IX","AEDR",43.4,6)

"^DD",43.4,43.4,0,"IX","B",43.4,.01)

"^DD",43.4,43.4,0,"IX","C",43.4,1)

"^DD",43.4,43.4,0,"IX","D",43.4,2)

"^DD",43.4,43.4,0,"NM","VA ADMITTING REGULATION")

"^DD",43.4,43.4,0,"PT",35.1,.01)

"^DD",43.4,43.4,0,"PT",162.4,5)

"^DD",43.4,43.4,0,"PT",405,.12)

"^DD",43.4,43.4,0,"VRPK")
DG
"^DD",43.4,43.4,.001,0)
NUMBER^NJ4,0^^ ^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",43.4,43.4,.001,3)
TYPE A WHOLE NUMBER BETWEEN 1 AND 9999
"^DD",43.4,43.4,.001,21,0)
^^2^2^2920211^
"^DD",43.4,43.4,.001,21,1,0)
The number is the internal reference number assigned by the system
"^DD",43.4,43.4,.001,21,2,0)
as each new entry is added to the file.
"^DD",43.4,43.4,.001,"DT")
2870521
"^DD",43.4,43.4,.01,0)
NAME^R^^0;1^K:$L(X)>30!(+X=X)!($L(X)<3)!'(X'?1P.E)!(X'?.ANP) X
"^DD",43.4,43.4,.01,1,0)
^.1
"^DD",43.4,43.4,.01,1,1,0)
43.4^B
"^DD",43.4,43.4,.01,1,1,1)
S ^DIC(43.4,"B",$E(X,1,30),DA)=""
"^DD",43.4,43.4,.01,1,1,2)
K ^DIC(43.4,"B",$E(X,1,30),DA)
"^DD",43.4,43.4,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",43.4,43.4,.01,21,0)
^^7^7^2920211^
"^DD",43.4,43.4,.01,21,1,0)
The name of the VA Admitting Regulation is derived from the United
"^DD",43.4,43.4,.01,21,2,0)
States Code of Federal Regulations, Title 38.  These admitting
"^DD",43.4,43.4,.01,21,3,0)
regulations are utilized to determine a veteran's type of status at
"^DD",43.4,43.4,.01,21,4,0)
the time of admission to any VA facility.  For example, 'Humanitarian
"^DD",43.4,43.4,.01,21,5,0)
Non-Vet' is the admission of a person who is a non-veteran and is being
"^DD",43.4,43.4,.01,21,6,0)
treated as an emergency until his/her condition has stablized to the
"^DD",43.4,43.4,.01,21,7,0)
point of being able to transfer to a public facility.
"^DD",43.4,43.4,1,0)
*REGULATION #^F^^0;2^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>6!($L(X)<3) X
"^DD",43.4,43.4,1,1,0)
^.1^^0
"^DD",43.4,43.4,1,1,1,0)
43.4^C
"^DD",43.4,43.4,1,1,1,1)
S ^DIC(43.4,"C",$E(X,1,30),DA)=""
"^DD",43.4,43.4,1,1,1,2)
K ^DIC(43.4,"C",$E(X,1,30),DA)
"^DD",43.4,43.4,1,3)
ANSWER MUST BE 3-6 CHARACTERS IN LENGTH
"^DD",43.4,43.4,1,"DT")
2860929
"^DD",43.4,43.4,2,0)
CFR #^F^^0;3^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>25!($L(X)<2) X
"^DD",43.4,43.4,2,1,0)
^.1
"^DD",43.4,43.4,2,1,1,0)
43.4^D
"^DD",43.4,43.4,2,1,1,1)
S ^DIC(43.4,"D",$E(X,1,30),DA)=""
"^DD",43.4,43.4,2,1,1,2)
K ^DIC(43.4,"D",$E(X,1,30),DA)
"^DD",43.4,43.4,2,3)
Answer must be 2-25 characters in length.
"^DD",43.4,43.4,2,21,0)
^^3^3^2920211^
"^DD",43.4,43.4,2,21,1,0)
The CFR# is the Code of Federal Regulations number assigned to each of
"^DD",43.4,43.4,2,21,2,0)
the types of admission regulations, derived from Title 38.  This number
"^DD",43.4,43.4,2,21,3,0)
cannot be manipulated or any 'local' ones added to this file.
"^DD",43.4,43.4,2,"DT")
2900220
"^DD",43.4,43.4,4,0)
ACTIVE^S^0:ACTIVE;1:INACTIVE;^0;4^Q
"^DD",43.4,43.4,4,1,0)
^.1^^0
"^DD",43.4,43.4,4,3)
Enter if this admitting regulation should not be used
"^DD",43.4,43.4,4,21,0)
^^5^5^2920211^
"^DD",43.4,43.4,4,21,1,0)
This field is defined as a set of codes, '0' standing for ACTIVE and
"^DD",43.4,43.4,4,21,2,0)
'1' standing for INACTIVE.  When a VA Admitting Regulation Code has
"^DD",43.4,43.4,4,21,3,0)
been either inactivated or activated as a result of changed legislation
"^DD",43.4,43.4,4,21,4,0)
effecting the Federal Code of Regulations, Title 38, this field will
"^DD",43.4,43.4,4,21,5,0)
be noted accordingly.
"^DD",43.4,43.4,4,"DT")
2860929
"^DD",43.4,43.4,5,0)
NURSING HOME^S^1:USE FOR NH;^0;5^Q
"^DD",43.4,43.4,5,21,0)
^^3^3^2920211^
"^DD",43.4,43.4,5,21,1,0)
Nursing Home is a specialized code that is utilized to identify
"^DD",43.4,43.4,5,21,2,0)
veterans who are admitted to a VA Nursing Home Care Unit.  This field,
"^DD",43.4,43.4,5,21,3,0)
although available is not currently in use.
"^DD",43.4,43.4,5,"DT")
2860929
"^DD",43.4,43.4,6,0)
EDR CODE^F^^0;6^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>3!($L(X)<1) X
"^DD",43.4,43.4,6,1,0)
^.1
"^DD",43.4,43.4,6,1,1,0)
43.4^AEDR
"^DD",43.4,43.4,6,1,1,1)
S ^DIC(43.4,"AEDR",$E(X,1,30),DA)=""
"^DD",43.4,43.4,6,1,1,2)
K ^DIC(43.4,"AEDR",$E(X,1,30),DA)
"^DD",43.4,43.4,6,1,1,"%D",0)
^^2^2^2940831^^
"^DD",43.4,43.4,6,1,1,"%D",1,0)
This cross-reference was added to allow quick referencing when an EDR
"^DD",43.4,43.4,6,1,1,"%D",2,0)
code is sent to the site.
"^DD",43.4,43.4,6,1,1,"DT")
2940831
"^DD",43.4,43.4,6,3)
Answer with corresponding EDR code.
"^DD",43.4,43.4,6,21,0)
^^3^3^2940808^
"^DD",43.4,43.4,6,21,1,0)
This is the code that is transferred to BDC indicating the admitting
"^DD",43.4,43.4,6,21,2,0)
regulation.  The code and related regulation are defined in the HL7
"^DD",43.4,43.4,6,21,3,0)
VA defined table VA10.
"^DD",43.4,43.4,6,"DT")
2940831
"^DD",391,391,0)
FIELD^^200^34
"^DD",391,391,0,"DT")
2920422
"^DD",391,391,0,"IX","B",391,.01)

"^DD",391,391,0,"NM","TYPE OF PATIENT")

"^DD",391,391,0,"PT",2,391)

"^DD",391,391,0,"VRPK")
DG
"^DD",391,391,.01,0)
NAME^RF^^0;1^K:$L(X)>30!(X?.N)!($L(X)<3)!'(X'?1P.E) X
"^DD",391,391,.01,1,0)
^.1
"^DD",391,391,.01,1,1,0)
391^B
"^DD",391,391,.01,1,1,1)
S ^DG(391,"B",$E(X,1,30),DA)=""
"^DD",391,391,.01,1,1,2)
K ^DG(391,"B",$E(X,1,30),DA)
"^DD",391,391,.01,3)
NAME MUST BE 3-30 CHARACTERS, NOT NUMERIC OR STARTING WITH PUNCTUATION
"^DD",391,391,.01,21,0)
^^3^3^2911112^
"^DD",391,391,.01,21,1,0)
This field contains the names of the various types of patients seen at
"^DD",391,391,.01,21,2,0)
VA facilities.  This file should not be added to or altered or it could
"^DD",391,391,.01,21,3,0)
affect daily operations of the MAS software.
"^DD",391,391,.02,0)
IGNORE VETERAN CHECKS?^RS^0:NO;1:YES;^0;2^Q
"^DD",391,391,.02,21,0)
^^4^4^2911112^
"^DD",391,391,.02,21,1,0)
If this particular type of patient is non-veteran, but the patient can
"^DD",391,391,.02,21,2,0)
respond to questions meant for veterans, respond yes.  An example would
"^DD",391,391,.02,21,3,0)
be MILITARY RETIREE.  These patients are seen as non-veterans, but may
"^DD",391,391,.02,21,4,0)
have veteran periods of service, prisoner of war dates, etc.
"^DD",391,391,.03,0)
*INFO TO ASK^RF^^0;3^K:$L(X)>40!($L(X)<1)!'(X?.N) X
"^DD",391,391,.03,.1)
INFO TO ASK
"^DD",391,391,.03,3)
ANSWER MUST BE 1-40 CHARACTERS IN LENGTH
"^DD",391,391,.03,21,0)
^^2^2^2911112^
"^DD",391,391,.03,21,1,0)
This field is no longer used by the MAS package.  It will be removed in
"^DD",391,391,.03,21,2,0)
a future release.
"^DD",391,391,.03,"DT")
2911112
"^DD",391,391,.04,0)
MAKE RECORD SENSITIVE?^S^1:YES;0:NO;^0;4^Q
"^DD",391,391,.04,3)
Answer YES if you want this record automatically made sensitive when using the registration screens.
"^DD",391,391,.04,21,0)
^^4^4^2911112^
"^DD",391,391,.04,21,1,0)
If it is desirable to automatically make a record sensitive if the patient
"^DD",391,391,.04,21,2,0)
has this patient type, answer yes here.  An example would be EMPLOYEE.  Any
"^DD",391,391,.04,21,3,0)
record for a patient added to your system with a patient type of EMPLOYEE
"^DD",391,391,.04,21,4,0)
will automatically be recorded as sensitive in the security system.
"^DD",391,391,.04,"DT")
2880929
"^DD",391,391,.05,0)
VETERAN?^RS^0:NO;1:YES;^0;5^Q
"^DD",391,391,.05,1,0)
^.1
"^DD",391,391,.05,1,1,0)
^^TRIGGER^391^9
"^DD",391,391,.05,1,1,1)
X ^DD(391,.05,1,1,1.3) I X S X=DIV S Y(1)=$S($D(^DG(391,D0,"S")):^("S"),1:"") S X=$P(Y(1),U,9),X=X S DIU=X K Y S X=DIV S X=1 X ^DD(391,.05,1,1,1.4)
"^DD",391,391,.05,1,1,1.3)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S Y(1)=$C(59)_$S($D(^DD(391,.05,0)):$P(^(0),U,3),1:"") S X=$P($P(Y(1),$C(59)_Y(0)_":",2),$C(59),1)="YES"
"^DD",391,391,.05,1,1,1.4)
S DIH=$S($D(^DG(391,DIV(0),"S")):^("S"),1:""),DIV=X S $P(^("S"),U,9)=DIV,DIH=391,DIG=9 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",391,391,.05,1,1,2)
Q
"^DD",391,391,.05,1,1,"%D",0)
^^2^2^2920325^
"^DD",391,391,.05,1,1,"%D",1,0)
This trigger will automatically stuff YES into the SHOW INCOME SCREENING
"^DD",391,391,.05,1,1,"%D",2,0)
SCREEN field if this field (VETERAN?) is answered YES.
"^DD",391,391,.05,1,1,"CREATE CONDITION")
VETERAN?="YES"
"^DD",391,391,.05,1,1,"CREATE VALUE")
S X=1
"^DD",391,391,.05,1,1,"DELETE VALUE")
NO EFFECT
"^DD",391,391,.05,1,1,"DT")
2920325
"^DD",391,391,.05,1,1,"FIELD")
SHOW INCOME SCREENING SCREEN
"^DD",391,391,.05,3)
Enter 1 (or yes) if patients of this type are veterans.  Otherwise, respond 0 (or no).
"^DD",391,391,.05,21,0)
^^5^5^2920615^^
"^DD",391,391,.05,21,1,0)
Enter YES (or 1) at this prompt if patients of this patient type are
"^DD",391,391,.05,21,2,0)
veterans.  Respond NO otherwise.  This information is necessary to
"^DD",391,391,.05,21,3,0)
determine whether certain screens may be turned off.  If this is a
"^DD",391,391,.05,21,4,0)
non-veteran patient type, but patients with this patient type COULD be
"^DD",391,391,.05,21,5,0)
veterans, respond YES to the IGNORE VETERAN CHECKS? prompt (field .02).
"^DD",391,391,.05,"DT")
2920325
"^DD",391,391,3,0)
SHOW CONTACT SCREEN?^S^0:NO;1:YES;^S;3^Q
"^DD",391,391,3,21,0)
^^3^3^2911112^
"^DD",391,391,3,21,1,0)
Answer yes if you would like to have the contact screen displayed for any
"^DD",391,391,3,21,2,0)
patient of this patient type.  This screen contains names and addresses of
"^DD",391,391,3,21,3,0)
next of kin, emergency contacts, and designees.
"^DD",391,391,3,"DT")
2880531
"^DD",391,391,4,0)
*SHOW EMPLOYMENT SCREEN?^S^0:NO;1:YES;^S;4^Q
"^DD",391,391,4,.1)
SHOW EMPLOYMENT SCREEN?
"^DD",391,391,4,3)
This field is no longer used.  The employment screen will now for all patients.
"^DD",391,391,4,21,0)
^^4^4^2920324^^^
"^DD",391,391,4,21,1,0)
This field is no longer used by the MAS package.  Due to the increased
"^DD",391,391,4,21,2,0)
need for employment data due to billing, the employment screen can no
"^DD",391,391,4,21,3,0)
longer be turned off.  This field will be removed in a future release of
"^DD",391,391,4,21,4,0)
the MAS package.
"^DD",391,391,4,"DT")
2920324
"^DD",391,391,5,0)
*SHOW INSURANCE SCREEN?^S^0:NO;1:YES;^S;5^Q
"^DD",391,391,5,.1)
SHOW INSURANCE SCREEN?
"^DD",391,391,5,3)

"^DD",391,391,5,21,0)
^^2^2^2911112^
"^DD",391,391,5,21,1,0)
This field is no longer used by the MAS package (the insurance screen is
"^DD",391,391,5,21,2,0)
now displayed for ALL patients).  It will be removed in a future release.
"^DD",391,391,5,"DT")
2911112
"^DD",391,391,6,0)
SHOW SERVICE SCREEN?^S^0:NO;1:YES;^S;6^Q
"^DD",391,391,6,3)

"^DD",391,391,6,21,0)
^^6^6^2911112^
"^DD",391,391,6,21,1,0)
Answer yes if you would like the service screen to display for all patients
"^DD",391,391,6,21,2,0)
added to your system with this patient type.  The service record screen
"^DD",391,391,6,21,3,0)
contains data about service history, prisoner of war status, combat,
"^DD",391,391,6,21,4,0)
Vietnam service, agent orange and ionizing radiation exposure, military
"^DD",391,391,6,21,5,0)
retirement/disability, and service dental history.  For non-veterans, you
"^DD",391,391,6,21,6,0)
may choose not to display this screen.
"^DD",391,391,6,"DT")
2880531
"^DD",391,391,7,0)
*SHOW MONETARY SCREEN?^S^0:NO;1:YES;^S;7^Q
"^DD",391,391,7,.1)
SHOW MONETARY SCREEN?
"^DD",391,391,7,3)

"^DD",391,391,7,21,0)
^^2^2^2911112^
"^DD",391,391,7,21,1,0)
This field is no longer used by the MAS package.  It will be removed in a
"^DD",391,391,7,21,2,0)
future version of MAS.
"^DD",391,391,7,"DT")
2911112
"^DD",391,391,7,"V",0)
^.12P
"^DD",391,391,8,0)
SHOW FAMILY INFO SCREEN^RSX^0:NO;1:YES;^S;8^D FAMINF^DGRPDD
"^DD",391,391,8,3)
Enter yes to display the family demographic screen during registration.
"^DD",391,391,8,21,0)
^^7^7^2920422^^
"^DD",391,391,8,21,1,0)
To display the family demographic screen during registration (screen 8),
"^DD",391,391,8,21,2,0)
respond yes here.  You must answer yes for NSC patients as income screening
"^DD",391,391,8,21,3,0)
is required for all non-service connected veterans.  You may chose to
"^DD",391,391,8,21,4,0)
show this screen for service connected patients or non-veterans.
"^DD",391,391,8,21,5,0)
 
"^DD",391,391,8,21,6,0)
The family demographic screen holds the name, SSN, date of birth, and
"^DD",391,391,8,21,7,0)
sex for all dependents of the patient.
"^DD",391,391,8,"DT")
2920629
"^DD",391,391,8.2,0)
ID FORMAT^P8.2'^DIC(8.2,^8.2;1^Q
"^DD",391,391,8.2,21,0)
^^3^3^2911112^
"^DD",391,391,8.2,21,1,0)
This field contains a pointer to the IDENTIFICATION FORMAT file (#8.2).
"^DD",391,391,8.2,21,2,0)
This field will contain the default ID format for all patients with this
"^DD",391,391,8.2,21,3,0)
patient type.  For most VA purposes, this will be the SSN.
"^DD",391,391,8.2,"DT")
2891106
"^DD",391,391,9,0)
SHOW INCOME SCREENING SCREEN^SX^0:NO;1:YES;^S;9^D INCSCR^DGRPDD
"^DD",391,391,9,3)
Enter yes if you want the income screening screen to show for all patients of this patient type.
"^DD",391,391,9,5,1,0)
391^.05^1
"^DD",391,391,9,21,0)
^^7^7^2920325^^^^
"^DD",391,391,9,21,1,0)
Enter yes if the income screening screen should be displayed for this type
"^DD",391,391,9,21,2,0)
of patient.  Answer no otherwise.  You will be unable to edit this question
"^DD",391,391,9,21,3,0)
if the VETERAN? prompt (field .05) is answered yes.  This data must be
"^DD",391,391,9,21,4,0)
collected for all veterans seen.  This screen will contain information
"^DD",391,391,9,21,5,0)
on a patient's income for the previous calendar year.  It will also
"^DD",391,391,9,21,6,0)
contain information on the patient's spouse and dependents.  This data
"^DD",391,391,9,21,7,0)
will, in turn, be used for IRS matching.
"^DD",391,391,9,"DT")
2920629
"^DD",391,391,10,0)
SHOW INELIGIBLE SCREEN^S^0:NO;1:YES;^S;10^Q
"^DD",391,391,10,3)

"^DD",391,391,10,21,0)
^^3^3^2920325^^^
"^DD",391,391,10,21,1,0)
Enter yes if you wish the ineligible data screen to show for all
"^DD",391,391,10,21,2,0)
patients of this patient type.  This screen contains information on the
"^DD",391,391,10,21,3,0)
a patient's ineligibility for care and data on missing patients.
"^DD",391,391,10,"DT")
2920325
"^DD",391,391,11,0)
SHOW VERIFICATION SCREEN?^S^0:NO;1:YES;^S;11^Q
"^DD",391,391,11,3)
If you want users to be able to see the verification screen for this type of patient, answer yes.  Otherwise, respond no.
"^DD",391,391,11,21,0)
^^4^4^2920325^
"^DD",391,391,11,21,1,0)
Enter yes if you wish the service verification screen to show for all
"^DD",391,391,11,21,2,0)
patients of this patient type.  This screen contains information on the
"^DD",391,391,11,21,3,0)
verification of eligility and service record data.  It also contains
"^DD",391,391,11,21,4,0)
data on VA rated disabilities.
"^DD",391,391,11,"DT")
2920325
"^DD",391,391,41,0)
*EDIT APPLICANT EMPLOYER?^S^0:NO;1:YES;^E;41^Q
"^DD",391,391,41,.1)
EDIT APPLICANT EMPLOYER?
"^DD",391,391,41,3)

"^DD",391,391,41,21,0)
^^3^3^2911112^
"^DD",391,391,41,21,1,0)
Respond yes if you want users to be able to edit the employer data for
"^DD",391,391,41,21,2,0)
the applicant (veteran).  If you say no, this information will appear on
"^DD",391,391,41,21,3,0)
the screen display, but will not be editable.
"^DD",391,391,41,"DT")
2920326
"^DD",391,391,42,0)
*EDIT SPOUSE'S EMPLOYER?^S^0:NO;1:YES;^E;42^Q
"^DD",391,391,42,.1)
EDIT SPOUSE'S EMPLOYER
"^DD",391,391,42,3)

"^DD",391,391,42,21,0)
^^3^3^2911112^
"^DD",391,391,42,21,1,0)
Respond yes if you want users to be able to edit the spouse's employer
"^DD",391,391,42,21,2,0)
information for this type of patient.  If you say no, this information
"^DD",391,391,42,21,3,0)
will appear on the screen display, but will not be editable.
"^DD",391,391,42,"DT")
2920326
"^DD",391,391,61,0)
*EDIT SERVICE HISTORY?^S^0:NO;1:YES;^E;61^Q
"^DD",391,391,61,3)

"^DD",391,391,61,21,0)
^^3^3^2911112^
"^DD",391,391,61,21,1,0)
Enter yes if you wish to allow users to edit the service history data for
"^DD",391,391,61,21,2,0)
this type of patient.  If you say no, this information will appear on the
"^DD",391,391,61,21,3,0)
screen display, but will not be editable.
"^DD",391,391,61,"DT")
2920423
"^DD",391,391,62,0)
*EDIT PRISONER OF WAR DATA?^S^0:NO;1:YES;^E;62^Q
"^DD",391,391,62,3)

"^DD",391,391,62,21,0)
^^4^4^2911112^
"^DD",391,391,62,21,1,0)
Enter yes if you wish to allow users to edit the prisoner of war data
"^DD",391,391,62,21,2,0)
(from/to dates, where imprisoned, etc.) for this type of patient.  If you
"^DD",391,391,62,21,3,0)
say no, this information will appear on the screen display, but will not
"^DD",391,391,62,21,4,0)
be editable.
"^DD",391,391,62,"DT")
2920423
"^DD",391,391,63,0)
*EDIT COMBAT DATA?^S^0:NO;1:YES;^E;63^Q
"^DD",391,391,63,3)

"^DD",391,391,63,21,0)
^^4^4^2911112^
"^DD",391,391,63,21,1,0)
Enter yes if you want the users to be able to edit combat data for patients
"^DD",391,391,63,21,2,0)
of this type.  This data includes combat from/to dates as well as where the
"^DD",391,391,63,21,3,0)
combat occurred.  If you respond no, this data will appear on the screen,
"^DD",391,391,63,21,4,0)
but will not be editable.
"^DD",391,391,63,"DT")
2920423
"^DD",391,391,64,0)
*EDIT VIETNAM SERVICE DATA?^S^0:NO;1:YES;^E;64^Q
"^DD",391,391,64,3)

"^DD",391,391,64,21,0)
^^4^4^2911112^
"^DD",391,391,64,21,1,0)
Enter yes if you want users to be able to edit Vietnam service data for
"^DD",391,391,64,21,2,0)
patients of this type.  This data includes the dates from and to which the
"^DD",391,391,64,21,3,0)
veteran served in Vietnam.  If you respond no, this data will appear on the
"^DD",391,391,64,21,4,0)
screen, but will be uneditable.
"^DD",391,391,64,"DT")
2920423
"^DD",391,391,65,0)
*EDIT AGENT ORANGE DATA?^S^0:NO;1:YES;^E;65^Q
"^DD",391,391,65,3)

"^DD",391,391,65,21,0)
^^4^4^2911112^
"^DD",391,391,65,21,1,0)
Enter yes if you want users to be able to edit agent orange exposure data
"^DD",391,391,65,21,2,0)
for patients of this type.  This data includes the dates of test for AO
"^DD",391,391,65,21,3,0)
exposure.  If you respond no, this data will appear on the screen, but
"^DD",391,391,65,21,4,0)
will be uneditable.
"^DD",391,391,65,"DT")
2920423
"^DD",391,391,66,0)
*EDIT RADIATION EXPOSURE DATA?^S^0:NO;1:YES;^E;66^Q
"^DD",391,391,66,3)

"^DD",391,391,66,21,0)
^^4^4^2911112^
"^DD",391,391,66,21,1,0)
Enter yes if you want to be able to edit radiation exposure data for
"^DD",391,391,66,21,2,0)
patients with this patient type.  This data includes dates of test for
"^DD",391,391,66,21,3,0)
radiation.  If you respond no, this data will appear on the screen, but
"^DD",391,391,66,21,4,0)
will be uneditable.
"^DD",391,391,66,"DT")
2920423
"^DD",391,391,67,0)
*EDIT MILITARY DISABILITY DATA^S^0:NO;1:YES;^E;67^Q
"^DD",391,391,67,3)

"^DD",391,391,67,21,0)
^^3^3^2911112^
"^DD",391,391,67,21,1,0)
Enter yes if you want the users to be able to edit data relating to
"^DD",391,391,67,21,2,0)
military disability for patients of this type.  If you respond no, the
"^DD",391,391,67,21,3,0)
data element will appear on the screen, but will not be editable.
"^DD",391,391,67,"DT")
2920423
"^DD",391,391,68,0)
*EDIT DENTAL HISTORY DATA?^S^1:YES;0:NO;^E;68^Q
"^DD",391,391,68,21,0)
^^3^3^2911112^
"^DD",391,391,68,21,1,0)
Enter yes if you want users to be able to edit data relating to dental
"^DD",391,391,68,21,2,0)
history in service if the patient is of this type.  If you respond no,
"^DD",391,391,68,21,3,0)
the data element will appear on the screen, but will not be editable.
"^DD",391,391,68,"DT")
2920423
"^DD",391,391,71,0)
*EDIT VA MONETARY BENEFITS?^S^0:NO;1:YES;^E;71^Q
"^DD",391,391,71,.1)
EDIT VA MONETARY BENEFITS?
"^DD",391,391,71,3)

"^DD",391,391,71,21,0)
^^2^2^2911112^
"^DD",391,391,71,21,1,0)
This field is no longer used by the MAS package and will be removed in
"^DD",391,391,71,21,2,0)
a future version.
"^DD",391,391,71,"DT")
2911112
"^DD",391,391,72,0)
*EDIT OTHER MONETARY BENEFITS?^S^0:NO;1:YES;^E;72^Q
"^DD",391,391,72,.1)
EDIT OTHER MONETARY BENEFITS?
"^DD",391,391,72,3)

"^DD",391,391,72,21,0)
^^2^2^2911112^
"^DD",391,391,72,21,1,0)
This field is no longer used by the MAS package and will be removed in a
"^DD",391,391,72,21,2,0)
future version.
"^DD",391,391,72,"DT")
2911112
"^DD",391,391,74,0)
EDIT SC CONDITIONS PER PT?^S^0:NO;1:YES;^E;74^Q
"^DD",391,391,74,3)
Enter YES if you want to allow the user to edit SC conditions as stated by the applicant.
"^DD",391,391,74,21,0)
^^4^4^2911204^^^
"^DD",391,391,74,21,1,0)
If the user should be allowed to edit SC conditions as stated by the
"^DD",391,391,74,21,2,0)
applicant for patients of this patient type, answer yes here.  Otherwise
"^DD",391,391,74,21,3,0)
respond no.  This data appears on registration screen 7 (Eligibility
"^DD",391,391,74,21,4,0)
Status Data).
"^DD",391,391,74,"DT")
2911204
"^DD",391,391,83,0)
*EDIT SC CONDITIONS PER PT?^S^0:NO;1:YES;^E;83^Q
"^DD",391,391,83,.1)
EDIT SC CONDITIONS PER PT?
"^DD",391,391,83,3)

"^DD",391,391,83,21,0)
^^11^11^2911113^^
"^DD",391,391,83,21,1,0)
Respond yes if you want to give users the ability to edit service
"^DD",391,391,83,21,2,0)
conditions as stated by the patient for patients of this patient type.  If
"^DD",391,391,83,21,3,0)
you respond no, the question will appear on the screen, but it will not
"^DD",391,391,83,21,4,0)
be editable.
"^DD",391,391,83,21,5,0)
 
"^DD",391,391,83,21,6,0)
 
"^DD",391,391,83,21,7,0)
Note:  Due to a change in screen numbering, this field is being *'d for
"^DD",391,391,83,21,8,0)
       deletion and will no longer be used (affective with installation
"^DD",391,391,83,21,9,0)
       of this version).  A new field 73 has been added which is the
"^DD",391,391,83,21,10,0)
       same prompt.  This is in keeping with the present field numbering
"^DD",391,391,83,21,11,0)
       sequence.
"^DD",391,391,83,"DT")
2911113
"^DD",391,391,91,0)
*EDIT INELIGIBLE DATA?^S^0:NO;1:YES;^E;91^Q
"^DD",391,391,91,.1)
EDIT INELIGIBLE DATA?
"^DD",391,391,91,3)

"^DD",391,391,91,21,0)
^^3^3^2911112^
"^DD",391,391,91,21,1,0)
Enter yes if you want users to be allowed to edit data about a patients
"^DD",391,391,91,21,2,0)
eligibility for patients of this patient type.  If you respond no, the
"^DD",391,391,91,21,3,0)
question will appear on the screen, but it will not be editable.
"^DD",391,391,91,"DT")
2920325
"^DD",391,391,92,0)
*EDIT MISSING DATA?^S^0:NO;1:YES;^E;92^Q
"^DD",391,391,92,.1)
EDIT MISSING DATA?
"^DD",391,391,92,3)

"^DD",391,391,92,21,0)
^^3^3^2911112^
"^DD",391,391,92,21,1,0)
Enter yes if you want the user to be allowed to edit data on missing
"^DD",391,391,92,21,2,0)
veterans for patients of this patient type.  If you respond no, the
"^DD",391,391,92,21,3,0)
question will appear on the screen, but will not be editable.
"^DD",391,391,92,"DT")
2920325
"^DD",391,391,101,0)
EDIT INELIGIBLE DATA?^S^0:NO;1:YES;^E10;1^Q
"^DD",391,391,101,3)
Enter yes if you want users to be allowed to edit data about a patients ineligiblility for care.
"^DD",391,391,101,21,0)
^^4^4^2920325^^
"^DD",391,391,101,21,1,0)
If, when editing data for patients of this type, you want users to be able
"^DD",391,391,101,21,2,0)
edit data about a patient's ineligibility for care, respond yes here.
"^DD",391,391,101,21,3,0)
If you respond no, the data will display on the screen, but will not be
"^DD",391,391,101,21,4,0)
editable by the users.
"^DD",391,391,101,23,0)
^^4^4^2920325^^
"^DD",391,391,101,23,1,0)
This data has been placed on the E10 node.  Because FM does not allow
"^DD",391,391,101,23,2,0)
more than 100 pieces on a node, it must be kept on a separate node.  The
"^DD",391,391,101,23,3,0)
registration code will have to check if screen number is 10 or greater
"^DD",391,391,101,23,4,0)
and check the E10 node rather than the E node.
"^DD",391,391,101,"DT")
2920325
"^DD",391,391,102,0)
EDIT MISSING DATA?^S^0:NO;1:YES;^E10;2^Q
"^DD",391,391,102,3)
If you want users to be able to edit the missing data for patients of thsi type, answer yes.
"^DD",391,391,102,21,0)
^^3^3^2920325^
"^DD",391,391,102,21,1,0)
If, for patients of the specified patient type, you want users to be able
"^DD",391,391,102,21,2,0)
to edit data about missing veterans, answer yes.  If you respond no, the
"^DD",391,391,102,21,3,0)
user will see the screen, but will not be able to edit the missing data.
"^DD",391,391,102,23,0)
^^8^8^2920325^
"^DD",391,391,102,23,1,0)
Because FM will not allow more than 100 pieces on a node, editable items
"^DD",391,391,102,23,2,0)
on screen 10 or greater had to be moved to the new E10 node.  The fields
"^DD",391,391,102,23,3,0)
were numbered so that the field number was equal to screen#_item# and the
"^DD",391,391,102,23,4,0)
piece position on the node was equal to the field number.  Because the
"^DD",391,391,102,23,5,0)
missing data is on screen 10, it is not possible to put it on the same
"^DD",391,391,102,23,6,0)
node (because there can not be more than 100 pieces).  Registration will
"^DD",391,391,102,23,7,0)
need to check to see if the screen is 10 or greater and, if so, look at
"^DD",391,391,102,23,8,0)
this new node.
"^DD",391,391,102,"DT")
2920325
"^DD",391,391,200,0)
NEW PATIENT INPUT DR^FX^^DR;E1,240^W:$S('$D(DUZ(0)):1,DUZ(0)'="@":1,1:0) !?5,"Must have Programmer Access!!! " K:$S('$D(DUZ(0)):1,DUZ(0)'="@":1,1:0) X I $D(X) K:$L(X)>240!($L(X)<2) X I $D(X) D ^DIM
"^DD",391,391,200,3)
Enter the fields (DR string) to be asked for new patients of this type who are entered into the system.  Must have programmer access!!
"^DD",391,391,200,8.5)
@
"^DD",391,391,200,9)
@
"^DD",391,391,200,21,0)
^^8^8^2911112^
"^DD",391,391,200,21,1,0)
This field contains a line of code which sets the variable DR for use in
"^DD",391,391,200,21,2,0)
a filemanager enter/edit (DIE) call.  In order to add to this field or
"^DD",391,391,200,21,3,0)
edit what is in it, you must have programmer mode.
"^DD",391,391,200,21,4,0)
 
"^DD",391,391,200,21,5,0)
This DR string should contain a listing of the fields you wish to ask
"^DD",391,391,200,21,6,0)
whenever a patient of this patient type is added to the system.  These
"^DD",391,391,200,21,7,0)
fields would be in addition to the prompts normally given for NAME, SSN,
"^DD",391,391,200,21,8,0)
DOB, VET?, etc.  If blank, only the standard questions will be asked.
"^DD",391,391,200,"DT")
2910601
"^DIC",38.6,38.6,0)
INCONSISTENT DATA ELEMENTS
"^DIC",38.6,38.6,0,"GL")
^DGIN(38.6,
"^DIC",38.6,38.6,"%D",0)
^^5^5^2911211^^
"^DIC",38.6,38.6,"%D",1,0)
The INCONSISTENT DATA ELEMENTS file contains those entries which are
"^DIC",38.6,38.6,"%D",2,0)
checked by the MAS module consistency checker.  Other than turning
"^DIC",38.6,38.6,"%D",3,0)
individual checks on or off the user should not alter or add to this
"^DIC",38.6,38.6,"%D",4,0)
file in any way.  Making any modification to this file will definitely
"^DIC",38.6,38.6,"%D",5,0)
cause the consistency checker to function improperly.
"^DIC",38.6,"B","INCONSISTENT DATA ELEMENTS",38.6)

"^DIC",43.4,43.4,0)
VA ADMITTING REGULATION^43.4I
"^DIC",43.4,43.4,0,"GL")
^DIC(43.4,
"^DIC",43.4,43.4,"%D",0)
^^2^2^2880924^^
"^DIC",43.4,43.4,"%D",1,0)
This file contains the recognized VA Admitting regulations under
"^DIC",43.4,43.4,"%D",2,0)
which a patient may be admitted to a VA facility.
"^DIC",43.4,"B","VA ADMITTING REGULATION",43.4)

"^DIC",391,391,0)
TYPE OF PATIENT^391
"^DIC",391,391,0,"GL")
^DG(391,
"^DIC",391,391,"%D",0)
^^7^7^2901205^^
"^DIC",391,391,"%D",1,0)
This file contains the various types of patient which might be seen
"^DIC",391,391,"%D",2,0)
at a VA facility.  The file is pointed to by the TYPE field of the
"^DIC",391,391,"%D",3,0)
PATIENT file and every patient added to the system must have a TYPE
"^DIC",391,391,"%D",4,0)
specified.  Using the 'Patient Type Update' option of ADT the user
"^DIC",391,391,"%D",5,0)
should specify the parameters concerning which screens should be
"^DIC",391,391,"%D",6,0)
displayed during the registration process for these patient types
"^DIC",391,391,"%D",7,0)
and what data elements on those screens are editable.
"^DIC",391,"B","TYPE OF PATIENT",391)

**INSTALL NAME**
FB*3.5*146
"BLD",8716,0)
FB*3.5*146^FEE BASIS^0^3131108^y
"BLD",8716,1,0)
^^352^352^3131108^
"BLD",8716,1,1,0)
                           ***NOTICE***
"BLD",8716,1,2,0)
 Users should be made aware that processing of Newborn claims must ONLY be
"BLD",8716,1,3,0)
 entered in VistA. No entry in FBCS should be performed.
"BLD",8716,1,4,0)
                            ***********
"BLD",8716,1,5,0)
 This patch, along with FB*3.5*146 and IB*2.0*499, is being released as a
"BLD",8716,1,6,0)
 bundle, and all three will be automatically installed in the correct order.
"BLD",8716,1,7,0)
 
"BLD",8716,1,8,0)
 This patch has enhancements that extend the capabilities of the Veterans
"BLD",8716,1,9,0)
 Health Information Systems and Technology Architecture (VistA) Patient
"BLD",8716,1,10,0)
 Registration system (DG), Fee Basis System (FB), and Integrated Billing
"BLD",8716,1,11,0)
 (IB).
"BLD",8716,1,12,0)
 
"BLD",8716,1,13,0)
 Below is a list of all the applications involved in this project along with
"BLD",8716,1,14,0)
 their patch number:
"BLD",8716,1,15,0)
 
"BLD",8716,1,16,0)
     APPLICATION/VERSION                                   PATCH
"BLD",8716,1,17,0)
     ---------------------------------------------------------------
"BLD",8716,1,18,0)
  PATIENT REGISTRATION (DG) V 5.3                       DG*5.3*867
"BLD",8716,1,19,0)
  FEE BASIS (FB) V 3.5                                  FB*3.5*146
"BLD",8716,1,20,0)
  INTEGRATED BILLING (IB) 2.0                           IB*2.0*499
"BLD",8716,1,21,0)
 
"BLD",8716,1,22,0)
 The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released in the
"BLD",8716,1,23,0)
 Kernel Installation and Distribution System (KIDS) multi-build distribution
"BLD",8716,1,24,0)
 NEWBORN DG FB IB BUNDLE 1.0
"BLD",8716,1,25,0)
 
"BLD",8716,1,26,0)
 The purpose of the Caregivers: Newborn Claims Processing Enhancement Project
"BLD",8716,1,27,0)
 is to enhance VistA Fee Basis application in support of compliance with
"BLD",8716,1,28,0)
 Public Law 111-163, the Caregiver and Veterans Omnibus Health Services Act
"BLD",8716,1,29,0)
 of 2010. This law makes changes to sections of Title 38, United States Code
"BLD",8716,1,30,0)
 to furnish health care services to a newborn child of a Woman Veteran who
"BLD",8716,1,31,0)
 is receiving maternity care furnished by the Department of Veterans Affairs
"BLD",8716,1,32,0)
 (VA) for not more than seven days after the birth of the child.
"BLD",8716,1,33,0)
 
"BLD",8716,1,34,0)
 The scope of these enhancements is to capture information on healthcare
"BLD",8716,1,35,0)
 services provided to newborn children of Women Veterans. Affected functions
"BLD",8716,1,36,0)
 include eligibility determination, enrollment and registration, documentation
"BLD",8716,1,37,0)
 of referrals and authorization for care, claims processing, and payment. Only
"BLD",8716,1,38,0)
 modification to the Fee Basis (FB) and the Registration (DG) packages are
"BLD",8716,1,39,0)
 necessary to meet the requirements of this enhancement. The Integrated
"BLD",8716,1,40,0)
 Billing (IB) Patch is included to provide required data for the Fee Basis
"BLD",8716,1,41,0)
 install to reference.
"BLD",8716,1,42,0)
 
"BLD",8716,1,43,0)
 
"BLD",8716,1,44,0)
 The primary purpose of this enhancement is to allow the Electronic Filing of
"BLD",8716,1,45,0)
 Newborn claims.
"BLD",8716,1,46,0)
 
"BLD",8716,1,47,0)
 Functional Description
"BLD",8716,1,48,0)
 ------------------------------
"BLD",8716,1,49,0)
 The following features and functions have been added to the Fee Basis workflow
"BLD",8716,1,50,0)
 process applying to both Civil Hospital and Medical Fee:
"BLD",8716,1,51,0)
 
"BLD",8716,1,52,0)
  1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"BLD",8716,1,53,0)
 PATIENT file (#391). This new selection will be available on Registration
"BLD",8716,1,54,0)
 Screen <7>.
"BLD",8716,1,55,0)
 
"BLD",8716,1,56,0)
  2. A sponsor is required for all Newborns determined by having the DOB less
"BLD",8716,1,57,0)
 than one (1) year from the present date. An inconsistency check has been added
"BLD",8716,1,58,0)
 to check the presence of a sponsor. If an inconsistency is found the
"BLD",8716,1,59,0)
 inconsistency check will prompt the user to return to Screen <15> in
"BLD",8716,1,60,0)
 registration to enter a Sponsor.
"BLD",8716,1,61,0)
 
"BLD",8716,1,62,0)
  3. All Sponsors for Newborns must be listed as eligible for care. An
"BLD",8716,1,63,0)
 inconsistency check will check the status of the Sponsors Eligibility. The
"BLD",8716,1,64,0)
 check will trigger if the Sponsor has no Eligibility status.
"BLD",8716,1,65,0)
 
"BLD",8716,1,66,0)
 All other statuses (i.e. Pending Verification, Verified, and Pending
"BLD",8716,1,67,0)
 Re-verification) are acceptable.
"BLD",8716,1,68,0)
 
"BLD",8716,1,69,0)
  4. Fee Authorization dates associated with Newborns have checks in place to
"BLD",8716,1,70,0)
 not allow Authorization dates that fall outside the accepted range of Newborn
"BLD",8716,1,71,0)
 Authorization. The range is DOB to DOB+7. The system will warn the user and
"BLD",8716,1,72,0)
 not accept an Authorization date that falls outside the appropriate range for
"BLD",8716,1,73,0)
 a Newborn.
"BLD",8716,1,74,0)
 
"BLD",8716,1,75,0)
  5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"BLD",8716,1,76,0)
 Registration screens, Screen <15> will display the Newborn(s), with the
"BLD",8716,1,77,0)
 additional header of "Sponsored Newborn".
"BLD",8716,1,78,0)
 
"BLD",8716,1,79,0)
  6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"BLD",8716,1,80,0)
 the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"BLD",8716,1,81,0)
 
"BLD",8716,1,82,0)
  7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING
"BLD",8716,1,83,0)
 REGULATION file (#43.4). This new Admitting Regulation is available when
"BLD",8716,1,84,0)
 editing the 7078.
"BLD",8716,1,85,0)
 
"BLD",8716,1,86,0)
  8. The following default values were added when entering a Newborn with a
"BLD",8716,1,87,0)
 date of birth of less than one (1) year from present date. Defaults will only
"BLD",8716,1,88,0)
 be assigned when specified screens are accessed during the registration
"BLD",8716,1,89,0)
 process: PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER MARRIED.
"BLD",8716,1,90,0)
 APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is defaulted to NOT
"BLD",8716,1,91,0)
 EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married Last Year field is
"BLD",8716,1,92,0)
 defaulted to NO.
"BLD",8716,1,93,0)
 
"BLD",8716,1,94,0)
 
"BLD",8716,1,95,0)
  Patch Components
"BLD",8716,1,96,0)
  ================
"BLD",8716,1,97,0)
 
"BLD",8716,1,98,0)
 
"BLD",8716,1,99,0)
  Files & Fields Associated:
"BLD",8716,1,100,0)
 
"BLD",8716,1,101,0)
 
"BLD",8716,1,102,0)
  File Name (#)                   Field Name (#)        New/Modified/Deleted
"BLD",8716,1,103,0)
  -------------                   --------------        -----------------
"BLD",8716,1,104,0)
  TYPE OF PATIENT (#391)          NAME (#.01)           New Data content
"BLD",8716,1,105,0)
  (Single new record added "NEWBORN OF VETERAN")        No Data Dictionary
"BLD",8716,1,106,0)
                                                        changes
"BLD",8716,1,107,0)
 
"BLD",8716,1,108,0)
  VA ADMITTING REGULATION (#43.4) NAME (#.01)           New Data content
"BLD",8716,1,109,0)
  (Single new record added "NON-VA FOR FEMALE VET+NEWBORN")
"BLD",8716,1,110,0)
                                                        No Data Dictionary
"BLD",8716,1,111,0)
                                                        changes
"BLD",8716,1,112,0)
 
"BLD",8716,1,113,0)
  INCONSISTENT DATA ELEMENTS (#38.6)                    New Data content
"BLD",8716,1,114,0)
  Two new records added:
"BLD",8716,1,115,0)
  313    NEWBORN REQUIRES SPONSOR
"BLD",8716,1,116,0)
  314    NEWBORN NEEDS ELIGIBLE SPONSOR.)               No Data Dictionary
"BLD",8716,1,117,0)
                                                        changes
"BLD",8716,1,118,0)
 
"BLD",8716,1,119,0)
 
"BLD",8716,1,120,0)
  Forms Associated:
"BLD",8716,1,121,0)
 
"BLD",8716,1,122,0)
  Form Name                File #                  New/Modified/Deleted
"BLD",8716,1,123,0)
  ---------                ------                  --------------------
"BLD",8716,1,124,0)
  N/A
"BLD",8716,1,125,0)
 
"BLD",8716,1,126,0)
  Mail Groups Associated:
"BLD",8716,1,127,0)
 
"BLD",8716,1,128,0)
  Mail Group Name                                  New/Modified/Deleted
"BLD",8716,1,129,0)
  ---------------                                  --------------------
"BLD",8716,1,130,0)
  N/A
"BLD",8716,1,131,0)
 
"BLD",8716,1,132,0)
  Options Associated:
"BLD",8716,1,133,0)
 
"BLD",8716,1,134,0)
  Option Name                    Type              New/Modified/Deleted
"BLD",8716,1,135,0)
  -----------                    ----              --------------------
"BLD",8716,1,136,0)
  N/A
"BLD",8716,1,137,0)
 
"BLD",8716,1,138,0)
  Protocols Associated:
"BLD",8716,1,139,0)
 
"BLD",8716,1,140,0)
  Protocol Name                                    New/Modified/Deleted
"BLD",8716,1,141,0)
  -------------                                    --------------------
"BLD",8716,1,142,0)
  N/A
"BLD",8716,1,143,0)
 
"BLD",8716,1,144,0)
  Security Keys Associated:
"BLD",8716,1,145,0)
 
"BLD",8716,1,146,0)
  Security Key Name
"BLD",8716,1,147,0)
  -----------------
"BLD",8716,1,148,0)
  N/A
"BLD",8716,1,149,0)
 
"BLD",8716,1,150,0)
  Templates Associated:
"BLD",8716,1,151,0)
 
"BLD",8716,1,152,0)
  Template Name       Type      File Name (#)     New/Modified/Deleted
"BLD",8716,1,153,0)
  -------------       ----      -------------     --------------------
"BLD",8716,1,154,0)
 
"BLD",8716,1,155,0)
 
"BLD",8716,1,156,0)
  Additional Information:
"BLD",8716,1,157,0)
 
"BLD",8716,1,158,0)
 
"BLD",8716,1,159,0)
  New Service Requests (NSRs):
"BLD",8716,1,160,0)
  -----------------------------
"BLD",8716,1,161,0)
  NSR 20100901
"BLD",8716,1,162,0)
 
"BLD",8716,1,163,0)
  Patient Safety Issues (PSIs):
"BLD",8716,1,164,0)
  ------------------------------
"BLD",8716,1,165,0)
  N/A
"BLD",8716,1,166,0)
 
"BLD",8716,1,167,0)
  Remedy Ticket(s) & Overviews:
"BLD",8716,1,168,0)
  -----------------------------
"BLD",8716,1,169,0)
  N/A
"BLD",8716,1,170,0)
 
"BLD",8716,1,171,0)
 
"BLD",8716,1,172,0)
  Test Sites:
"BLD",8716,1,173,0)
  -----------
"BLD",8716,1,174,0)
 
"BLD",8716,1,175,0)
  LEXINGTON
"BLD",8716,1,176,0)
  PUGET SOUND
"BLD",8716,1,177,0)
 
"BLD",8716,1,178,0)
 
"BLD",8716,1,179,0)
 Documentation Retrieval Instructions:
"BLD",8716,1,180,0)
 -------------------------------------
"BLD",8716,1,181,0)
 Updated documentation describing the new functionality introduced by this
"BLD",8716,1,182,0)
 patch is available.
"BLD",8716,1,183,0)
 
"BLD",8716,1,184,0)
 The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"BLD",8716,1,185,0)
 This transmits the files from the first available FTP server. Sites may also
"BLD",8716,1,186,0)
 elect to retrieve software directly from a specific server as follows:
"BLD",8716,1,187,0)
 
"BLD",8716,1,188,0)
   Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"BLD",8716,1,189,0)
   Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"BLD",8716,1,190,0)
   Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"BLD",8716,1,191,0)
 
"BLD",8716,1,192,0)
  The documentation will be in the form of Adobe Acrobat files.
"BLD",8716,1,193,0)
 
"BLD",8716,1,194,0)
  Documentation can also be found on the VA Software Documentation Library
"BLD",8716,1,195,0)
  at: http://www4.domain.ext/vdl/
"BLD",8716,1,196,0)
 
"BLD",8716,1,197,0)
  File Description                          File Name             FTP Mode
"BLD",8716,1,198,0)
  --------------------------------------------------------------------------
"BLD",8716,1,199,0)
  Fee Basis User Manual                     fb3_5um.pdf           Binary
"BLD",8716,1,200,0)
  PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"BLD",8716,1,201,0)
 
"BLD",8716,1,202,0)
 The procedure guide, Care for Newborn of Women Veterans, located at
"BLD",8716,1,203,0)
 http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp,
"BLD",8716,1,204,0)
 should be distributed to those personnel registering newborns and/or
"BLD",8716,1,205,0)
 processing newborn claims.
"BLD",8716,1,206,0)
 
"BLD",8716,1,207,0)
 
"BLD",8716,1,208,0)
  Patch Installation:
"BLD",8716,1,209,0)
 
"BLD",8716,1,210,0)
 
"BLD",8716,1,211,0)
 Pre/Post Installation Overview
"BLD",8716,1,212,0)
 ------------------------------
"BLD",8716,1,213,0)
 There are three post installation routines associated with this patch DG867PO,
"BLD",8716,1,214,0)
 FB146PO, and IB499PO. These routines primarily serve as filters for the data
"BLD",8716,1,215,0)
 transmitted to the appropriate files listed above, so that only the intended
"BLD",8716,1,216,0)
 data is delivered. The only exception is the IB499PO routine which
"BLD",8716,1,217,0)
 programmatically makes an addition to the help text of the FAMILY PREFIX field
"BLD",8716,1,218,0)
 (#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post installation
"BLD",8716,1,219,0)
 routines may be deleted after successful installation of the NEWBORN DG FB IB
"BLD",8716,1,220,0)
 BUNDLE 1.0
"BLD",8716,1,221,0)
 
"BLD",8716,1,222,0)
 Installation Instructions
"BLD",8716,1,223,0)
 -------------------------
"BLD",8716,1,224,0)
 This patch may be installed with users on the system although it is
"BLD",8716,1,225,0)
 recommended that it be installed during non-peak hours to minimize potential
"BLD",8716,1,226,0)
 disruption to users. This patch should take less than 5 minutes to install.
"BLD",8716,1,227,0)
 
"BLD",8716,1,228,0)
 FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"BLD",8716,1,229,0)
 
"BLD",8716,1,230,0)
 DG*5.3*867 is one of three patches for this release (including FB*3.5*146 and
"BLD",8716,1,231,0)
 IB*2.0*499). The patches will be installed as a bundle in the following order:
"BLD",8716,1,232,0)
 
"BLD",8716,1,233,0)
 
"BLD",8716,1,234,0)
 1) DG*5.3*867
"BLD",8716,1,235,0)
 2) FB*3.5*146
"BLD",8716,1,236,0)
 3) IB*2.0*499
"BLD",8716,1,237,0)
 
"BLD",8716,1,238,0)
 
"BLD",8716,1,239,0)
  Pre-Installation Instructions
"BLD",8716,1,240,0)
  -----------------------------
"BLD",8716,1,241,0)
  1.  OBTAIN PATCHES
"BLD",8716,1,242,0)
      --------------
"BLD",8716,1,243,0)
 Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"BLD",8716,1,244,0)
 patches:
"BLD",8716,1,245,0)
 
"BLD",8716,1,246,0)
  DG*5.3*867
"BLD",8716,1,247,0)
  FB*3.5*146
"BLD",8716,1,248,0)
  IB*2.0*499
"BLD",8716,1,249,0)
 
"BLD",8716,1,250,0)
 Sites can retrieve VistA software from the following FTP addresses. The
"BLD",8716,1,251,0)
 preferred method is to FTP the files from:
"BLD",8716,1,252,0)
 
"BLD",8716,1,253,0)
                      download.vista.domain.ext
"BLD",8716,1,254,0)
 
"BLD",8716,1,255,0)
 This will transmit the files from the first available FTP server. Sites may
"BLD",8716,1,256,0)
 also elect to retrieve software directly from a specific server as follows:
"BLD",8716,1,257,0)
 
"BLD",8716,1,258,0)
         Albany                  DOMAIN.EXT
"BLD",8716,1,259,0)
         Hines                   DOMAIN.EXT
"BLD",8716,1,260,0)
         Salt Lake City          DOMAIN.EXT
"BLD",8716,1,261,0)
 
"BLD",8716,1,262,0)
 The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"BLD",8716,1,263,0)
 directory. Use ASCII Mode when downloading the file.
"BLD",8716,1,264,0)
 
"BLD",8716,1,265,0)
  2.  START UP KIDS
"BLD",8716,1,266,0)
      -------------
"BLD",8716,1,267,0)
      Start up the Kernel Installation and Distribution System Menu option
"BLD",8716,1,268,0)
      [XPD MAIN]:
"BLD",8716,1,269,0)
 
"BLD",8716,1,270,0)
           Edits and Distribution ...
"BLD",8716,1,271,0)
           Utilities ...
"BLD",8716,1,272,0)
           Installation ...
"BLD",8716,1,273,0)
 
"BLD",8716,1,274,0)
      Select Kernel Installation & Distribution System Option: Installation
"BLD",8716,1,275,0)
                                                               ---
"BLD",8716,1,276,0)
           Load a Distribution
"BLD",8716,1,277,0)
           Print Transport Global
"BLD",8716,1,278,0)
           Compare Transport Global to Current System
"BLD",8716,1,279,0)
           Verify Checksums in Transport Global
"BLD",8716,1,280,0)
           Install Package(s)
"BLD",8716,1,281,0)
           Restart Install of Package(s)
"BLD",8716,1,282,0)
           Unload a Distribution
"BLD",8716,1,283,0)
           Backup a Transport Global
"BLD",8716,1,284,0)
 
"BLD",8716,1,285,0)
      Select Installation Option:
"BLD",8716,1,286,0)
 
"BLD",8716,1,287,0)
  3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"BLD",8716,1,288,0)
      -------------------------------------
"BLD",8716,1,289,0)
      From the Installation menu, select the Load a Distribution option.
"BLD",8716,1,290,0)
 
"BLD",8716,1,291,0)
      When prompted for "Enter a Host File:" Enter the full directory path
"BLD",8716,1,292,0)
      where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"BLD",8716,1,293,0)
      (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"BLD",8716,1,294,0)
 
"BLD",8716,1,295,0)
  When prompted for "OK to continue with Load? NO//", Enter "YES."
"BLD",8716,1,296,0)
 
"BLD",8716,1,297,0)
      The following will display:
"BLD",8716,1,298,0)
 
"BLD",8716,1,299,0)
        Loading Distribution...
"BLD",8716,1,300,0)
 
"BLD",8716,1,301,0)
     NEWBORN DG FB IB BUNDLE 1.0
"BLD",8716,1,302,0)
     DG*5.3*867
"BLD",8716,1,303,0)
     FB*3.5*146
"BLD",8716,1,304,0)
     IB*2.0*499
"BLD",8716,1,305,0)
     Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this
"BLD",8716,1,306,0)
 distribution.
"BLD",8716,1,307,0)
 
"BLD",8716,1,308,0)
  4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"BLD",8716,1,309,0)
      -------------------------------------------------
"BLD",8716,1,310,0)
      From the Installation menu, you may select to use the following options
"BLD",8716,1,311,0)
 (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0
"BLD",8716,1,312,0)
 
"BLD",8716,1,313,0)
      a.  Backup a Transport Global - This option will create a backup
"BLD",8716,1,314,0)
          message of any routines exported with this patch. It will not
"BLD",8716,1,315,0)
          backup any other changes such as data dictionaries or templates.
"BLD",8716,1,316,0)
      b.  Compare Transport Global to Current System - This option will
"BLD",8716,1,317,0)
          allow you to view all changes that will be made when this patch
"BLD",8716,1,318,0)
          is installed.  It compares all components of this patch
"BLD",8716,1,319,0)
          (routines, data dictionaries, templates, etc.).
"BLD",8716,1,320,0)
      c.  Verify Checksums in Transport Global - This option will allow
"BLD",8716,1,321,0)
          you to ensure the integrity of the routines that are in the
"BLD",8716,1,322,0)
          transport global.
"BLD",8716,1,323,0)
 
"BLD",8716,1,324,0)
  5.  INSTALL MULTI-BUILD
"BLD",8716,1,325,0)
      -------------------
"BLD",8716,1,326,0)
    This is the step to start the installation of this KIDS patch.  This will
"BLD",8716,1,327,0)
    need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"BLD",8716,1,328,0)
 
"BLD",8716,1,329,0)
     a.  Choose the Install Package(s) option to start the patch
"BLD",8716,1,330,0)
          install.
"BLD",8716,1,331,0)
     b.  When prompted for the "Select INSTALL NAME:" enter
"BLD",8716,1,332,0)
           NEWBORN DG FB IB BUNDLE 1.0
"BLD",8716,1,333,0)
     c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"BLD",8716,1,334,0)
          NO//", answer NO
"BLD",8716,1,335,0)
     d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"BLD",8716,1,336,0)
          and Protocols? NO//", answer NO
"BLD",8716,1,337,0)
     e.  When prompted "Device: HOME//", enter HOME
"BLD",8716,1,338,0)
          to display the Install message on the screen (or enter the device
"BLD",8716,1,339,0)
          you want to print the Install message). You may queue the
"BLD",8716,1,340,0)
          install if you wish.
"BLD",8716,1,341,0)
 
"BLD",8716,1,342,0)
 
"BLD",8716,1,343,0)
 Post-Installation Instructions
"BLD",8716,1,344,0)
 ------------------------------
"BLD",8716,1,345,0)
 
"BLD",8716,1,346,0)
 *** IMPORTANT NOTE ***
"BLD",8716,1,347,0)
 Please note there are three post installation routines that may be deleted
"BLD",8716,1,348,0)
 after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"BLD",8716,1,349,0)
 
"BLD",8716,1,350,0)
 DG867PO
"BLD",8716,1,351,0)
 FB146PO
"BLD",8716,1,352,0)
 IB499PO
"BLD",8716,4,0)
^9.64PA^161.99^1
"BLD",8716,4,161.99,0)
161.99
"BLD",8716,4,161.99,222)
y^n^f^^n^^y^m^n
"BLD",8716,4,161.99,224)
I $$NEW161^FB146PO($P(^(0),U))
"BLD",8716,4,"B",161.99,161.99)

"BLD",8716,6)
24^
"BLD",8716,6.3)
57
"BLD",8716,"ABPKG")
n
"BLD",8716,"INI")

"BLD",8716,"INID")
^y^
"BLD",8716,"INIT")
FB146PO
"BLD",8716,"KRN",0)
^9.67PA^779.2^20
"BLD",8716,"KRN",.4,0)
.4
"BLD",8716,"KRN",.401,0)
.401
"BLD",8716,"KRN",.402,0)
.402
"BLD",8716,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",8716,"KRN",.402,"NM",1,0)
FBAA AUTHORIZATION    FILE #161^161^0
"BLD",8716,"KRN",.402,"NM",2,0)
FBCH ENTER REQUEST    FILE #162.2^162.2^0
"BLD",8716,"KRN",.402,"NM","B","FBAA AUTHORIZATION    FILE #161",1)

"BLD",8716,"KRN",.402,"NM","B","FBCH ENTER REQUEST    FILE #162.2",2)

"BLD",8716,"KRN",.403,0)
.403
"BLD",8716,"KRN",.5,0)
.5
"BLD",8716,"KRN",.84,0)
.84
"BLD",8716,"KRN",3.6,0)
3.6
"BLD",8716,"KRN",3.8,0)
3.8
"BLD",8716,"KRN",9.2,0)
9.2
"BLD",8716,"KRN",9.8,0)
9.8
"BLD",8716,"KRN",9.8,"NM",0)
^9.68A^4^3
"BLD",8716,"KRN",9.8,"NM",1,0)
FBCH78^^0^B50044150
"BLD",8716,"KRN",9.8,"NM",2,0)
FBCHREQ1^^0^B14681978
"BLD",8716,"KRN",9.8,"NM",4,0)
FBAAV4^^0^B34466301
"BLD",8716,"KRN",9.8,"NM","B","FBAAV4",4)

"BLD",8716,"KRN",9.8,"NM","B","FBCH78",1)

"BLD",8716,"KRN",9.8,"NM","B","FBCHREQ1",2)

"BLD",8716,"KRN",19,0)
19
"BLD",8716,"KRN",19,"NM",0)
^9.68A^^
"BLD",8716,"KRN",19.1,0)
19.1
"BLD",8716,"KRN",101,0)
101
"BLD",8716,"KRN",409.61,0)
409.61
"BLD",8716,"KRN",771,0)
771
"BLD",8716,"KRN",779.2,0)
779.2
"BLD",8716,"KRN",870,0)
870
"BLD",8716,"KRN",8989.51,0)
8989.51
"BLD",8716,"KRN",8989.52,0)
8989.52
"BLD",8716,"KRN",8994,0)
8994
"BLD",8716,"KRN","B",.4,.4)

"BLD",8716,"KRN","B",.401,.401)

"BLD",8716,"KRN","B",.402,.402)

"BLD",8716,"KRN","B",.403,.403)

"BLD",8716,"KRN","B",.5,.5)

"BLD",8716,"KRN","B",.84,.84)

"BLD",8716,"KRN","B",3.6,3.6)

"BLD",8716,"KRN","B",3.8,3.8)

"BLD",8716,"KRN","B",9.2,9.2)

"BLD",8716,"KRN","B",9.8,9.8)

"BLD",8716,"KRN","B",19,19)

"BLD",8716,"KRN","B",19.1,19.1)

"BLD",8716,"KRN","B",101,101)

"BLD",8716,"KRN","B",409.61,409.61)

"BLD",8716,"KRN","B",771,771)

"BLD",8716,"KRN","B",779.2,779.2)

"BLD",8716,"KRN","B",870,870)

"BLD",8716,"KRN","B",8989.51,8989.51)

"BLD",8716,"KRN","B",8989.52,8989.52)

"BLD",8716,"KRN","B",8994,8994)

"BLD",8716,"PRET")

"BLD",8716,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8716,"QUES",0)
^9.62^^
"BLD",8716,"REQB",0)
^9.611^1^1
"BLD",8716,"REQB",1,0)
DG*5.3*867^2
"BLD",8716,"REQB","B","DG*5.3*867",1)

"DATA",161.99,122,0)
C166
"DATA",161.99,122,1,0)
^161.991^1^1^3131102^^^
"DATA",161.99,122,1,1,0)
Newborn claim outside of 7 day coverage
"FIA",161.99)
FEE BASIS PAYMENT REJECT CODE
"FIA",161.99,0)
^FBAA(161.99,
"FIA",161.99,0,0)
161.99
"FIA",161.99,0,1)
y^n^f^^n^^y^m^n
"FIA",161.99,0,10)

"FIA",161.99,0,11)
I $$NEW161^FB146PO($P(^(0),U))
"FIA",161.99,0,"RLRO")

"FIA",161.99,0,"VR")
3.5^FB
"FIA",161.99,161.99)
0
"FIA",161.99,161.991)
0
"INIT")
FB146PO
"KRN",.402,342,-1)
0^1
"KRN",.402,342,0)
FBAA AUTHORIZATION^3130531.101^^161^^^3130618
"KRN",.402,342,"%D",0)
^.4021^1^1^3130529^^^^
"KRN",.402,342,"%D",1,0)
This template is used for creating new authorizations for Fee Basis.
"KRN",.402,342,"DIAB",6,1,161.01,3)
101;T
"KRN",.402,342,"DR",1,161)
S FBPRG="";1;I '$D(FBAATT) S Y="";I FBAATT'=3 S Y="";S HID=$S($D(^FBAAA(DA,4)):$P(^(4),"^"),1:"");.5;S NID=X;.6//^S X="TODAY";S Y=$S(HID="":"",HID=NID:"",NID="":.65,1:.7);.65;.7;S NIDR=X;
"KRN",.402,342,"DR",2,161.01)
S FBAOLD=^FBAAA(DA(1),1,DA,0),FBAALT=$S($P(FBAOLD,"^",13)=2:"Y",$P(FBAOLD,"^",13)=3:"Y",1:""),FBPRG=$P(FBAOLD,"^",3);I FBPRG,FBPRG'=2 W !!,*7,"You are only allowed to edit an outpatient authorization using this option.",!! S Y="";
"KRN",.402,342,"DR",2,161.01,1)
@1;.01;S FBTODT=X;S DOB=$P(^DPT(DFN,0),"^",3);D NOW^%DTC;S NOW=X;S X=FBTODT;I $$FMDIFF^XLFDT(NOW,DOB,1)<365 S Y="@3";I $P(FBAOLD,U,2)']"" S Y="@2";I FBTODT'>$P(FBAOLD,U,2) S Y="@2";.01////^S X=+FBAOLD;
"KRN",.402,342,"DR",2,161.01,2)
W !,*7,"From Date cannot be later than the To Date!";S Y="@1";@2;S:'$D(FBAADDYS) FBAADDYS=0 S X1=FBTODT,X2=FBAADDYS D C^%DTC S FBAAX=X;S FBD1=DA;.02//^S X=$E(FBAAX,4,5)_"-"_$E(FBAAX,6,7)_"-"_($E(FBAAX,1,3)+1700);S FBFRDT=DE(19);
"KRN",.402,342,"DR",2,161.01,3)
I $$FMDIFF^XLFDT(NOW,DOB,1)<365 S Y="@6";@7;I $P(^FBAAA(DA(1),1,DA,0),"^",7)]"" K DIE("NO^");.03////^S X=$S(FBPRG:FBPRG,1:2);S FBTYPE=$S(FBPRG:FBPRG,1:2);101T~;104;I $G(X) W !,"REFERRING PROVIDER NPI: ",$$REFNPI^FBCH78(X);S Y="@4";
"KRN",.402,342,"DR",2,161.01,4)
@3;I FBTODT'<DOB&(FBTODT'>$$FMADD^XLFDT(DOB,7)) S Y="@2";W !,*7,"This is a Newborn, From Date must be between DOB and DOB+7";S Y="@1";@6;I FBFRDT'<DOB&(FBFRDT'>$$FMADD^XLFDT(DOB,7)) S Y="@7";
"KRN",.402,342,"DR",2,161.01,5)
W !,*7,"This is a Newborn, TO Date must be between DOB and DOB+7";S Y="@2";@4;.07;S:$$EXTPV^FBAAUTL5(X)'=55 Y="@5";S:$P($$GETSTAT^DGMSTAPI(DA(1)),U,2)="Y" Y="@5";S DIE("NO^")="";
"KRN",.402,342,"DR",2,161.01,6)
W !,$C(7),"MST POV can't be selected because veteran's MST status is not YES.";S Y="@4";@5;.065;.095;S FBAATT=X;S FBAALT=$S(X=2:"Y",X=3:"Y",1:"");K DIE("NO^");.08;S:X="" Y=.021;.085;S:X="" Y=.021;.086;.021;2;
"KRN",.402,342,"DR",2,161.01,7)
S:'$D(FBAAASKV) FBAAASKV="N";S:FBAAASKV'="y" Y=100;.04;100////^S X=DUZ;W !!;.096;.097//^S X="NO";1//^S X="YES";S FBAAP79=$S(X["Y":"Y",1:"");I X["Y" S Y="";1///^S X="@";
"KRN",.402,342,"ROU")
^FBCTAU
"KRN",.402,342,"ROUOLD")
FBCTAU
"KRN",.402,356,-1)
0^2
"KRN",.402,356,0)
FBCH ENTER REQUEST^3130618.1621^^162.2^^^3130812
"KRN",.402,356,"DR",1,162.2)
S FBUP="",FBLG=0;D:FBN CHEK^FBCHREQ;.01;S FBDA=DA;S FBDATE=X;@1;W !;1////^S X=FBCHVEN;S FBVD=X;@2;2;S FBPER=X;3////^S X=DFN;3.5;S FBDOA=X;I 1;@3;4//^S X=FBDOA;D DATCK^FBCHREQ1 K:$G(FBOUT) X;S:$G(FBOUT) Y=3;S FBADDT=X;W !;
"KRN",.402,356,"DR",1,162.2,1)
S FBBEGDT=X;S FBPROG=6,FBFLAG=2 D EN1^FBAAUTL2 S:FBLG>0 FBSW=1,Y=7;D TIMCK^FBCHREQ1;S (FBDIAG,FBPHY,FBCHTEL)="";S:FBSW FBOUT=1,Y="";5;S FBDIAG=X;17;I $G(X) W !,"REFERRING PROVIDER NPI: ",$$REFNPI^FBCH78(X);6;S FBPHY=X;
"KRN",.402,356,"DR",1,162.2,2)
S:FBPHY="" Y="@7";6.5;S FBCHTEL=X;@7;S:'FBN Y=0;7////^S X=DUZ;100////^S X=$S(FBSW:3,1:1);S:'FBSW Y="@99";8////^S X="N";9////^S X=DT;10////^S X=DUZ;@99;S FBUP=1;K FBVENEW;
"MBREQ")
1
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"PKG",60,-1)
1^1
"PKG",60,0)
FEE BASIS^FB^Used to pay private vendors
"PKG",60,20,0)
^9.402P^1^1
"PKG",60,20,1,0)
2^^FBPMRG
"PKG",60,20,1,1)

"PKG",60,20,"B",2,1)

"PKG",60,22,0)
^9.49I^1^1
"PKG",60,22,1,0)
3.5^2950130^2950313
"PKG",60,22,1,"PAH",1,0)
146^3131108^101097
"PKG",60,22,1,"PAH",1,1,0)
^^352^352^3131108
"PKG",60,22,1,"PAH",1,1,1,0)
                           ***NOTICE***
"PKG",60,22,1,"PAH",1,1,2,0)
 Users should be made aware that processing of Newborn claims must ONLY be
"PKG",60,22,1,"PAH",1,1,3,0)
 entered in VistA. No entry in FBCS should be performed.
"PKG",60,22,1,"PAH",1,1,4,0)
                            ***********
"PKG",60,22,1,"PAH",1,1,5,0)
 This patch, along with FB*3.5*146 and IB*2.0*499, is being released as a
"PKG",60,22,1,"PAH",1,1,6,0)
 bundle, and all three will be automatically installed in the correct order.
"PKG",60,22,1,"PAH",1,1,7,0)
 
"PKG",60,22,1,"PAH",1,1,8,0)
 This patch has enhancements that extend the capabilities of the Veterans
"PKG",60,22,1,"PAH",1,1,9,0)
 Health Information Systems and Technology Architecture (VistA) Patient
"PKG",60,22,1,"PAH",1,1,10,0)
 Registration system (DG), Fee Basis System (FB), and Integrated Billing
"PKG",60,22,1,"PAH",1,1,11,0)
 (IB).
"PKG",60,22,1,"PAH",1,1,12,0)
 
"PKG",60,22,1,"PAH",1,1,13,0)
 Below is a list of all the applications involved in this project along with
"PKG",60,22,1,"PAH",1,1,14,0)
 their patch number:
"PKG",60,22,1,"PAH",1,1,15,0)
 
"PKG",60,22,1,"PAH",1,1,16,0)
     APPLICATION/VERSION                                   PATCH
"PKG",60,22,1,"PAH",1,1,17,0)
     ---------------------------------------------------------------
"PKG",60,22,1,"PAH",1,1,18,0)
  PATIENT REGISTRATION (DG) V 5.3                       DG*5.3*867
"PKG",60,22,1,"PAH",1,1,19,0)
  FEE BASIS (FB) V 3.5                                  FB*3.5*146
"PKG",60,22,1,"PAH",1,1,20,0)
  INTEGRATED BILLING (IB) 2.0                           IB*2.0*499
"PKG",60,22,1,"PAH",1,1,21,0)
 
"PKG",60,22,1,"PAH",1,1,22,0)
 The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released in the
"PKG",60,22,1,"PAH",1,1,23,0)
 Kernel Installation and Distribution System (KIDS) multi-build distribution
"PKG",60,22,1,"PAH",1,1,24,0)
 NEWBORN DG FB IB BUNDLE 1.0
"PKG",60,22,1,"PAH",1,1,25,0)
 
"PKG",60,22,1,"PAH",1,1,26,0)
 The purpose of the Caregivers: Newborn Claims Processing Enhancement Project
"PKG",60,22,1,"PAH",1,1,27,0)
 is to enhance VistA Fee Basis application in support of compliance with
"PKG",60,22,1,"PAH",1,1,28,0)
 Public Law 111-163, the Caregiver and Veterans Omnibus Health Services Act
"PKG",60,22,1,"PAH",1,1,29,0)
 of 2010. This law makes changes to sections of Title 38, United States Code
"PKG",60,22,1,"PAH",1,1,30,0)
 to furnish health care services to a newborn child of a Woman Veteran who
"PKG",60,22,1,"PAH",1,1,31,0)
 is receiving maternity care furnished by the Department of Veterans Affairs
"PKG",60,22,1,"PAH",1,1,32,0)
 (VA) for not more than seven days after the birth of the child.
"PKG",60,22,1,"PAH",1,1,33,0)
 
"PKG",60,22,1,"PAH",1,1,34,0)
 The scope of these enhancements is to capture information on healthcare
"PKG",60,22,1,"PAH",1,1,35,0)
 services provided to newborn children of Women Veterans. Affected functions
"PKG",60,22,1,"PAH",1,1,36,0)
 include eligibility determination, enrollment and registration, documentation
"PKG",60,22,1,"PAH",1,1,37,0)
 of referrals and authorization for care, claims processing, and payment. Only
"PKG",60,22,1,"PAH",1,1,38,0)
 modification to the Fee Basis (FB) and the Registration (DG) packages are
"PKG",60,22,1,"PAH",1,1,39,0)
 necessary to meet the requirements of this enhancement. The Integrated
"PKG",60,22,1,"PAH",1,1,40,0)
 Billing (IB) Patch is included to provide required data for the Fee Basis
"PKG",60,22,1,"PAH",1,1,41,0)
 install to reference.
"PKG",60,22,1,"PAH",1,1,42,0)
 
"PKG",60,22,1,"PAH",1,1,43,0)
 
"PKG",60,22,1,"PAH",1,1,44,0)
 The primary purpose of this enhancement is to allow the Electronic Filing of
"PKG",60,22,1,"PAH",1,1,45,0)
 Newborn claims.
"PKG",60,22,1,"PAH",1,1,46,0)
 
"PKG",60,22,1,"PAH",1,1,47,0)
 Functional Description
"PKG",60,22,1,"PAH",1,1,48,0)
 ------------------------------
"PKG",60,22,1,"PAH",1,1,49,0)
 The following features and functions have been added to the Fee Basis workflow
"PKG",60,22,1,"PAH",1,1,50,0)
 process applying to both Civil Hospital and Medical Fee:
"PKG",60,22,1,"PAH",1,1,51,0)
 
"PKG",60,22,1,"PAH",1,1,52,0)
  1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"PKG",60,22,1,"PAH",1,1,53,0)
 PATIENT file (#391). This new selection will be available on Registration
"PKG",60,22,1,"PAH",1,1,54,0)
 Screen <7>.
"PKG",60,22,1,"PAH",1,1,55,0)
 
"PKG",60,22,1,"PAH",1,1,56,0)
  2. A sponsor is required for all Newborns determined by having the DOB less
"PKG",60,22,1,"PAH",1,1,57,0)
 than one (1) year from the present date. An inconsistency check has been added
"PKG",60,22,1,"PAH",1,1,58,0)
 to check the presence of a sponsor. If an inconsistency is found the
"PKG",60,22,1,"PAH",1,1,59,0)
 inconsistency check will prompt the user to return to Screen <15> in
"PKG",60,22,1,"PAH",1,1,60,0)
 registration to enter a Sponsor.
"PKG",60,22,1,"PAH",1,1,61,0)
 
"PKG",60,22,1,"PAH",1,1,62,0)
  3. All Sponsors for Newborns must be listed as eligible for care. An
"PKG",60,22,1,"PAH",1,1,63,0)
 inconsistency check will check the status of the Sponsors Eligibility. The
"PKG",60,22,1,"PAH",1,1,64,0)
 check will trigger if the Sponsor has no Eligibility status.
"PKG",60,22,1,"PAH",1,1,65,0)
 
"PKG",60,22,1,"PAH",1,1,66,0)
 All other statuses (i.e. Pending Verification, Verified, and Pending
"PKG",60,22,1,"PAH",1,1,67,0)
 Re-verification) are acceptable.
"PKG",60,22,1,"PAH",1,1,68,0)
 
"PKG",60,22,1,"PAH",1,1,69,0)
  4. Fee Authorization dates associated with Newborns have checks in place to
"PKG",60,22,1,"PAH",1,1,70,0)
 not allow Authorization dates that fall outside the accepted range of Newborn
"PKG",60,22,1,"PAH",1,1,71,0)
 Authorization. The range is DOB to DOB+7. The system will warn the user and
"PKG",60,22,1,"PAH",1,1,72,0)
 not accept an Authorization date that falls outside the appropriate range for
"PKG",60,22,1,"PAH",1,1,73,0)
 a Newborn.
"PKG",60,22,1,"PAH",1,1,74,0)
 
"PKG",60,22,1,"PAH",1,1,75,0)
  5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"PKG",60,22,1,"PAH",1,1,76,0)
 Registration screens, Screen <15> will display the Newborn(s), with the
"PKG",60,22,1,"PAH",1,1,77,0)
 additional header of "Sponsored Newborn".
"PKG",60,22,1,"PAH",1,1,78,0)
 
"PKG",60,22,1,"PAH",1,1,79,0)
  6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"PKG",60,22,1,"PAH",1,1,80,0)
 the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"PKG",60,22,1,"PAH",1,1,81,0)
 
"PKG",60,22,1,"PAH",1,1,82,0)
  7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING
"PKG",60,22,1,"PAH",1,1,83,0)
 REGULATION file (#43.4). This new Admitting Regulation is available when
"PKG",60,22,1,"PAH",1,1,84,0)
 editing the 7078.
"PKG",60,22,1,"PAH",1,1,85,0)
 
"PKG",60,22,1,"PAH",1,1,86,0)
  8. The following default values were added when entering a Newborn with a
"PKG",60,22,1,"PAH",1,1,87,0)
 date of birth of less than one (1) year from present date. Defaults will only
"PKG",60,22,1,"PAH",1,1,88,0)
 be assigned when specified screens are accessed during the registration
"PKG",60,22,1,"PAH",1,1,89,0)
 process: PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER MARRIED.
"PKG",60,22,1,"PAH",1,1,90,0)
 APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is defaulted to NOT
"PKG",60,22,1,"PAH",1,1,91,0)
 EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married Last Year field is
"PKG",60,22,1,"PAH",1,1,92,0)
 defaulted to NO.
"PKG",60,22,1,"PAH",1,1,93,0)
 
"PKG",60,22,1,"PAH",1,1,94,0)
 
"PKG",60,22,1,"PAH",1,1,95,0)
  Patch Components
"PKG",60,22,1,"PAH",1,1,96,0)
  ================
"PKG",60,22,1,"PAH",1,1,97,0)
 
"PKG",60,22,1,"PAH",1,1,98,0)
 
"PKG",60,22,1,"PAH",1,1,99,0)
  Files & Fields Associated:
"PKG",60,22,1,"PAH",1,1,100,0)
 
"PKG",60,22,1,"PAH",1,1,101,0)
 
"PKG",60,22,1,"PAH",1,1,102,0)
  File Name (#)                   Field Name (#)        New/Modified/Deleted
"PKG",60,22,1,"PAH",1,1,103,0)
  -------------                   --------------        -----------------
"PKG",60,22,1,"PAH",1,1,104,0)
  TYPE OF PATIENT (#391)          NAME (#.01)           New Data content
"PKG",60,22,1,"PAH",1,1,105,0)
  (Single new record added "NEWBORN OF VETERAN")        No Data Dictionary
"PKG",60,22,1,"PAH",1,1,106,0)
                                                        changes
"PKG",60,22,1,"PAH",1,1,107,0)
 
"PKG",60,22,1,"PAH",1,1,108,0)
  VA ADMITTING REGULATION (#43.4) NAME (#.01)           New Data content
"PKG",60,22,1,"PAH",1,1,109,0)
  (Single new record added "NON-VA FOR FEMALE VET+NEWBORN")
"PKG",60,22,1,"PAH",1,1,110,0)
                                                        No Data Dictionary
"PKG",60,22,1,"PAH",1,1,111,0)
                                                        changes
"PKG",60,22,1,"PAH",1,1,112,0)
 
"PKG",60,22,1,"PAH",1,1,113,0)
  INCONSISTENT DATA ELEMENTS (#38.6)                    New Data content
"PKG",60,22,1,"PAH",1,1,114,0)
  Two new records added:
"PKG",60,22,1,"PAH",1,1,115,0)
  313    NEWBORN REQUIRES SPONSOR
"PKG",60,22,1,"PAH",1,1,116,0)
  314    NEWBORN NEEDS ELIGIBLE SPONSOR.)               No Data Dictionary
"PKG",60,22,1,"PAH",1,1,117,0)
                                                        changes
"PKG",60,22,1,"PAH",1,1,118,0)
 
"PKG",60,22,1,"PAH",1,1,119,0)
 
"PKG",60,22,1,"PAH",1,1,120,0)
  Forms Associated:
"PKG",60,22,1,"PAH",1,1,121,0)
 
"PKG",60,22,1,"PAH",1,1,122,0)
  Form Name                File #                  New/Modified/Deleted
"PKG",60,22,1,"PAH",1,1,123,0)
  ---------                ------                  --------------------
"PKG",60,22,1,"PAH",1,1,124,0)
  N/A
"PKG",60,22,1,"PAH",1,1,125,0)
 
"PKG",60,22,1,"PAH",1,1,126,0)
  Mail Groups Associated:
"PKG",60,22,1,"PAH",1,1,127,0)
 
"PKG",60,22,1,"PAH",1,1,128,0)
  Mail Group Name                                  New/Modified/Deleted
"PKG",60,22,1,"PAH",1,1,129,0)
  ---------------                                  --------------------
"PKG",60,22,1,"PAH",1,1,130,0)
  N/A
"PKG",60,22,1,"PAH",1,1,131,0)
 
"PKG",60,22,1,"PAH",1,1,132,0)
  Options Associated:
"PKG",60,22,1,"PAH",1,1,133,0)
 
"PKG",60,22,1,"PAH",1,1,134,0)
  Option Name                    Type              New/Modified/Deleted
"PKG",60,22,1,"PAH",1,1,135,0)
  -----------                    ----              --------------------
"PKG",60,22,1,"PAH",1,1,136,0)
  N/A
"PKG",60,22,1,"PAH",1,1,137,0)
 
"PKG",60,22,1,"PAH",1,1,138,0)
  Protocols Associated:
"PKG",60,22,1,"PAH",1,1,139,0)
 
"PKG",60,22,1,"PAH",1,1,140,0)
  Protocol Name                                    New/Modified/Deleted
"PKG",60,22,1,"PAH",1,1,141,0)
  -------------                                    --------------------
"PKG",60,22,1,"PAH",1,1,142,0)
  N/A
"PKG",60,22,1,"PAH",1,1,143,0)
 
"PKG",60,22,1,"PAH",1,1,144,0)
  Security Keys Associated:
"PKG",60,22,1,"PAH",1,1,145,0)
 
"PKG",60,22,1,"PAH",1,1,146,0)
  Security Key Name
"PKG",60,22,1,"PAH",1,1,147,0)
  -----------------
"PKG",60,22,1,"PAH",1,1,148,0)
  N/A
"PKG",60,22,1,"PAH",1,1,149,0)
 
"PKG",60,22,1,"PAH",1,1,150,0)
  Templates Associated:
"PKG",60,22,1,"PAH",1,1,151,0)
 
"PKG",60,22,1,"PAH",1,1,152,0)
  Template Name       Type      File Name (#)     New/Modified/Deleted
"PKG",60,22,1,"PAH",1,1,153,0)
  -------------       ----      -------------     --------------------
"PKG",60,22,1,"PAH",1,1,154,0)
 
"PKG",60,22,1,"PAH",1,1,155,0)
 
"PKG",60,22,1,"PAH",1,1,156,0)
  Additional Information:
"PKG",60,22,1,"PAH",1,1,157,0)
 
"PKG",60,22,1,"PAH",1,1,158,0)
 
"PKG",60,22,1,"PAH",1,1,159,0)
  New Service Requests (NSRs):
"PKG",60,22,1,"PAH",1,1,160,0)
  -----------------------------
"PKG",60,22,1,"PAH",1,1,161,0)
  NSR 20100901
"PKG",60,22,1,"PAH",1,1,162,0)
 
"PKG",60,22,1,"PAH",1,1,163,0)
  Patient Safety Issues (PSIs):
"PKG",60,22,1,"PAH",1,1,164,0)
  ------------------------------
"PKG",60,22,1,"PAH",1,1,165,0)
  N/A
"PKG",60,22,1,"PAH",1,1,166,0)
 
"PKG",60,22,1,"PAH",1,1,167,0)
  Remedy Ticket(s) & Overviews:
"PKG",60,22,1,"PAH",1,1,168,0)
  -----------------------------
"PKG",60,22,1,"PAH",1,1,169,0)
  N/A
"PKG",60,22,1,"PAH",1,1,170,0)
 
"PKG",60,22,1,"PAH",1,1,171,0)
 
"PKG",60,22,1,"PAH",1,1,172,0)
  Test Sites:
"PKG",60,22,1,"PAH",1,1,173,0)
  -----------
"PKG",60,22,1,"PAH",1,1,174,0)
 
"PKG",60,22,1,"PAH",1,1,175,0)
  LEXINGTON
"PKG",60,22,1,"PAH",1,1,176,0)
  PUGET SOUND
"PKG",60,22,1,"PAH",1,1,177,0)
 
"PKG",60,22,1,"PAH",1,1,178,0)
 
"PKG",60,22,1,"PAH",1,1,179,0)
 Documentation Retrieval Instructions:
"PKG",60,22,1,"PAH",1,1,180,0)
 -------------------------------------
"PKG",60,22,1,"PAH",1,1,181,0)
 Updated documentation describing the new functionality introduced by this
"PKG",60,22,1,"PAH",1,1,182,0)
 patch is available.
"PKG",60,22,1,"PAH",1,1,183,0)
 
"PKG",60,22,1,"PAH",1,1,184,0)
 The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"PKG",60,22,1,"PAH",1,1,185,0)
 This transmits the files from the first available FTP server. Sites may also
"PKG",60,22,1,"PAH",1,1,186,0)
 elect to retrieve software directly from a specific server as follows:
"PKG",60,22,1,"PAH",1,1,187,0)
 
"PKG",60,22,1,"PAH",1,1,188,0)
   Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"PKG",60,22,1,"PAH",1,1,189,0)
   Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"PKG",60,22,1,"PAH",1,1,190,0)
   Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"PKG",60,22,1,"PAH",1,1,191,0)
 
"PKG",60,22,1,"PAH",1,1,192,0)
  The documentation will be in the form of Adobe Acrobat files.
"PKG",60,22,1,"PAH",1,1,193,0)
 
"PKG",60,22,1,"PAH",1,1,194,0)
  Documentation can also be found on the VA Software Documentation Library
"PKG",60,22,1,"PAH",1,1,195,0)
  at: http://www4.domain.ext/vdl/
"PKG",60,22,1,"PAH",1,1,196,0)
 
"PKG",60,22,1,"PAH",1,1,197,0)
  File Description                          File Name             FTP Mode
"PKG",60,22,1,"PAH",1,1,198,0)
  --------------------------------------------------------------------------
"PKG",60,22,1,"PAH",1,1,199,0)
  Fee Basis User Manual                     fb3_5um.pdf           Binary
"PKG",60,22,1,"PAH",1,1,200,0)
  PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"PKG",60,22,1,"PAH",1,1,201,0)
 
"PKG",60,22,1,"PAH",1,1,202,0)
 The procedure guide, Care for Newborn of Women Veterans, located at
"PKG",60,22,1,"PAH",1,1,203,0)
 http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp,
"PKG",60,22,1,"PAH",1,1,204,0)
 should be distributed to those personnel registering newborns and/or
"PKG",60,22,1,"PAH",1,1,205,0)
 processing newborn claims.
"PKG",60,22,1,"PAH",1,1,206,0)
 
"PKG",60,22,1,"PAH",1,1,207,0)
 
"PKG",60,22,1,"PAH",1,1,208,0)
  Patch Installation:
"PKG",60,22,1,"PAH",1,1,209,0)
 
"PKG",60,22,1,"PAH",1,1,210,0)
 
"PKG",60,22,1,"PAH",1,1,211,0)
 Pre/Post Installation Overview
"PKG",60,22,1,"PAH",1,1,212,0)
 ------------------------------
"PKG",60,22,1,"PAH",1,1,213,0)
 There are three post installation routines associated with this patch DG867PO,
"PKG",60,22,1,"PAH",1,1,214,0)
 FB146PO, and IB499PO. These routines primarily serve as filters for the data
"PKG",60,22,1,"PAH",1,1,215,0)
 transmitted to the appropriate files listed above, so that only the intended
"PKG",60,22,1,"PAH",1,1,216,0)
 data is delivered. The only exception is the IB499PO routine which
"PKG",60,22,1,"PAH",1,1,217,0)
 programmatically makes an addition to the help text of the FAMILY PREFIX field
"PKG",60,22,1,"PAH",1,1,218,0)
 (#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post installation
"PKG",60,22,1,"PAH",1,1,219,0)
 routines may be deleted after successful installation of the NEWBORN DG FB IB
"PKG",60,22,1,"PAH",1,1,220,0)
 BUNDLE 1.0
"PKG",60,22,1,"PAH",1,1,221,0)
 
"PKG",60,22,1,"PAH",1,1,222,0)
 Installation Instructions
"PKG",60,22,1,"PAH",1,1,223,0)
 -------------------------
"PKG",60,22,1,"PAH",1,1,224,0)
 This patch may be installed with users on the system although it is
"PKG",60,22,1,"PAH",1,1,225,0)
 recommended that it be installed during non-peak hours to minimize potential
"PKG",60,22,1,"PAH",1,1,226,0)
 disruption to users. This patch should take less than 5 minutes to install.
"PKG",60,22,1,"PAH",1,1,227,0)
 
"PKG",60,22,1,"PAH",1,1,228,0)
 FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"PKG",60,22,1,"PAH",1,1,229,0)
 
"PKG",60,22,1,"PAH",1,1,230,0)
 DG*5.3*867 is one of three patches for this release (including FB*3.5*146 and
"PKG",60,22,1,"PAH",1,1,231,0)
 IB*2.0*499). The patches will be installed as a bundle in the following order:
"PKG",60,22,1,"PAH",1,1,232,0)
 
"PKG",60,22,1,"PAH",1,1,233,0)
 
"PKG",60,22,1,"PAH",1,1,234,0)
 1) DG*5.3*867
"PKG",60,22,1,"PAH",1,1,235,0)
 2) FB*3.5*146
"PKG",60,22,1,"PAH",1,1,236,0)
 3) IB*2.0*499
"PKG",60,22,1,"PAH",1,1,237,0)
 
"PKG",60,22,1,"PAH",1,1,238,0)
 
"PKG",60,22,1,"PAH",1,1,239,0)
  Pre-Installation Instructions
"PKG",60,22,1,"PAH",1,1,240,0)
  -----------------------------
"PKG",60,22,1,"PAH",1,1,241,0)
  1.  OBTAIN PATCHES
"PKG",60,22,1,"PAH",1,1,242,0)
      --------------
"PKG",60,22,1,"PAH",1,1,243,0)
 Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"PKG",60,22,1,"PAH",1,1,244,0)
 patches:
"PKG",60,22,1,"PAH",1,1,245,0)
 
"PKG",60,22,1,"PAH",1,1,246,0)
  DG*5.3*867
"PKG",60,22,1,"PAH",1,1,247,0)
  FB*3.5*146
"PKG",60,22,1,"PAH",1,1,248,0)
  IB*2.0*499
"PKG",60,22,1,"PAH",1,1,249,0)
 
"PKG",60,22,1,"PAH",1,1,250,0)
 Sites can retrieve VistA software from the following FTP addresses. The
"PKG",60,22,1,"PAH",1,1,251,0)
 preferred method is to FTP the files from:
"PKG",60,22,1,"PAH",1,1,252,0)
 
"PKG",60,22,1,"PAH",1,1,253,0)
                      download.vista.domain.ext
"PKG",60,22,1,"PAH",1,1,254,0)
 
"PKG",60,22,1,"PAH",1,1,255,0)
 This will transmit the files from the first available FTP server. Sites may
"PKG",60,22,1,"PAH",1,1,256,0)
 also elect to retrieve software directly from a specific server as follows:
"PKG",60,22,1,"PAH",1,1,257,0)
 
"PKG",60,22,1,"PAH",1,1,258,0)
         Albany                  DOMAIN.EXT
"PKG",60,22,1,"PAH",1,1,259,0)
         Hines                   DOMAIN.EXT
"PKG",60,22,1,"PAH",1,1,260,0)
         Salt Lake City          DOMAIN.EXT
"PKG",60,22,1,"PAH",1,1,261,0)
 
"PKG",60,22,1,"PAH",1,1,262,0)
 The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"PKG",60,22,1,"PAH",1,1,263,0)
 directory. Use ASCII Mode when downloading the file.
"PKG",60,22,1,"PAH",1,1,264,0)
 
"PKG",60,22,1,"PAH",1,1,265,0)
  2.  START UP KIDS
"PKG",60,22,1,"PAH",1,1,266,0)
      -------------
"PKG",60,22,1,"PAH",1,1,267,0)
      Start up the Kernel Installation and Distribution System Menu option
"PKG",60,22,1,"PAH",1,1,268,0)
      [XPD MAIN]:
"PKG",60,22,1,"PAH",1,1,269,0)
 
"PKG",60,22,1,"PAH",1,1,270,0)
           Edits and Distribution ...
"PKG",60,22,1,"PAH",1,1,271,0)
           Utilities ...
"PKG",60,22,1,"PAH",1,1,272,0)
           Installation ...
"PKG",60,22,1,"PAH",1,1,273,0)
 
"PKG",60,22,1,"PAH",1,1,274,0)
      Select Kernel Installation & Distribution System Option: Installation
"PKG",60,22,1,"PAH",1,1,275,0)
                                                               ---
"PKG",60,22,1,"PAH",1,1,276,0)
           Load a Distribution
"PKG",60,22,1,"PAH",1,1,277,0)
           Print Transport Global
"PKG",60,22,1,"PAH",1,1,278,0)
           Compare Transport Global to Current System
"PKG",60,22,1,"PAH",1,1,279,0)
           Verify Checksums in Transport Global
"PKG",60,22,1,"PAH",1,1,280,0)
           Install Package(s)
"PKG",60,22,1,"PAH",1,1,281,0)
           Restart Install of Package(s)
"PKG",60,22,1,"PAH",1,1,282,0)
           Unload a Distribution
"PKG",60,22,1,"PAH",1,1,283,0)
           Backup a Transport Global
"PKG",60,22,1,"PAH",1,1,284,0)
 
"PKG",60,22,1,"PAH",1,1,285,0)
      Select Installation Option:
"PKG",60,22,1,"PAH",1,1,286,0)
 
"PKG",60,22,1,"PAH",1,1,287,0)
  3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"PKG",60,22,1,"PAH",1,1,288,0)
      -------------------------------------
"PKG",60,22,1,"PAH",1,1,289,0)
      From the Installation menu, select the Load a Distribution option.
"PKG",60,22,1,"PAH",1,1,290,0)
 
"PKG",60,22,1,"PAH",1,1,291,0)
      When prompted for "Enter a Host File:" Enter the full directory path
"PKG",60,22,1,"PAH",1,1,292,0)
      where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"PKG",60,22,1,"PAH",1,1,293,0)
      (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"PKG",60,22,1,"PAH",1,1,294,0)
 
"PKG",60,22,1,"PAH",1,1,295,0)
  When prompted for "OK to continue with Load? NO//", Enter "YES."
"PKG",60,22,1,"PAH",1,1,296,0)
 
"PKG",60,22,1,"PAH",1,1,297,0)
      The following will display:
"PKG",60,22,1,"PAH",1,1,298,0)
 
"PKG",60,22,1,"PAH",1,1,299,0)
        Loading Distribution...
"PKG",60,22,1,"PAH",1,1,300,0)
 
"PKG",60,22,1,"PAH",1,1,301,0)
     NEWBORN DG FB IB BUNDLE 1.0
"PKG",60,22,1,"PAH",1,1,302,0)
     DG*5.3*867
"PKG",60,22,1,"PAH",1,1,303,0)
     FB*3.5*146
"PKG",60,22,1,"PAH",1,1,304,0)
     IB*2.0*499
"PKG",60,22,1,"PAH",1,1,305,0)
     Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this
"PKG",60,22,1,"PAH",1,1,306,0)
 distribution.
"PKG",60,22,1,"PAH",1,1,307,0)
 
"PKG",60,22,1,"PAH",1,1,308,0)
  4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"PKG",60,22,1,"PAH",1,1,309,0)
      -------------------------------------------------
"PKG",60,22,1,"PAH",1,1,310,0)
      From the Installation menu, you may select to use the following options
"PKG",60,22,1,"PAH",1,1,311,0)
 (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0
"PKG",60,22,1,"PAH",1,1,312,0)
 
"PKG",60,22,1,"PAH",1,1,313,0)
      a.  Backup a Transport Global - This option will create a backup
"PKG",60,22,1,"PAH",1,1,314,0)
          message of any routines exported with this patch. It will not
"PKG",60,22,1,"PAH",1,1,315,0)
          backup any other changes such as data dictionaries or templates.
"PKG",60,22,1,"PAH",1,1,316,0)
      b.  Compare Transport Global to Current System - This option will
"PKG",60,22,1,"PAH",1,1,317,0)
          allow you to view all changes that will be made when this patch
"PKG",60,22,1,"PAH",1,1,318,0)
          is installed.  It compares all components of this patch
"PKG",60,22,1,"PAH",1,1,319,0)
          (routines, data dictionaries, templates, etc.).
"PKG",60,22,1,"PAH",1,1,320,0)
      c.  Verify Checksums in Transport Global - This option will allow
"PKG",60,22,1,"PAH",1,1,321,0)
          you to ensure the integrity of the routines that are in the
"PKG",60,22,1,"PAH",1,1,322,0)
          transport global.
"PKG",60,22,1,"PAH",1,1,323,0)
 
"PKG",60,22,1,"PAH",1,1,324,0)
  5.  INSTALL MULTI-BUILD
"PKG",60,22,1,"PAH",1,1,325,0)
      -------------------
"PKG",60,22,1,"PAH",1,1,326,0)
    This is the step to start the installation of this KIDS patch.  This will
"PKG",60,22,1,"PAH",1,1,327,0)
    need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"PKG",60,22,1,"PAH",1,1,328,0)
 
"PKG",60,22,1,"PAH",1,1,329,0)
     a.  Choose the Install Package(s) option to start the patch
"PKG",60,22,1,"PAH",1,1,330,0)
          install.
"PKG",60,22,1,"PAH",1,1,331,0)
     b.  When prompted for the "Select INSTALL NAME:" enter
"PKG",60,22,1,"PAH",1,1,332,0)
           NEWBORN DG FB IB BUNDLE 1.0
"PKG",60,22,1,"PAH",1,1,333,0)
     c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"PKG",60,22,1,"PAH",1,1,334,0)
          NO//", answer NO
"PKG",60,22,1,"PAH",1,1,335,0)
     d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"PKG",60,22,1,"PAH",1,1,336,0)
          and Protocols? NO//", answer NO
"PKG",60,22,1,"PAH",1,1,337,0)
     e.  When prompted "Device: HOME//", enter HOME
"PKG",60,22,1,"PAH",1,1,338,0)
          to display the Install message on the screen (or enter the device
"PKG",60,22,1,"PAH",1,1,339,0)
          you want to print the Install message). You may queue the
"PKG",60,22,1,"PAH",1,1,340,0)
          install if you wish.
"PKG",60,22,1,"PAH",1,1,341,0)
 
"PKG",60,22,1,"PAH",1,1,342,0)
 
"PKG",60,22,1,"PAH",1,1,343,0)
 Post-Installation Instructions
"PKG",60,22,1,"PAH",1,1,344,0)
 ------------------------------
"PKG",60,22,1,"PAH",1,1,345,0)
 
"PKG",60,22,1,"PAH",1,1,346,0)
 *** IMPORTANT NOTE ***
"PKG",60,22,1,"PAH",1,1,347,0)
 Please note there are three post installation routines that may be deleted
"PKG",60,22,1,"PAH",1,1,348,0)
 after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"PKG",60,22,1,"PAH",1,1,349,0)
 
"PKG",60,22,1,"PAH",1,1,350,0)
 DG867PO
"PKG",60,22,1,"PAH",1,1,351,0)
 FB146PO
"PKG",60,22,1,"PAH",1,1,352,0)
 IB499PO
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","FB146PO")
0^^B2310
"RTN","FB146PO",1,0)
FB146PO ;BL/BL - POST-INSTALL ROUTINE FOR FB*3.5*146 ;26-APR-13
"RTN","FB146PO",2,0)
 ;;3.5;Fee Basis;**146**;26-APR-13;Build 57
"RTN","FB146PO",3,0)
 ;
"RTN","FB146PO",4,0)
 ;Purpose of this routine is to provide a filter for the data entries in file #161.99
"RTN","FB146PO",5,0)
 ;
"RTN","FB146PO",6,0)
NEW161(ANAME)
"RTN","FB146PO",7,0)
 ;
"RTN","FB146PO",8,0)
 I ANAME="C166" Q 1
"RTN","FB146PO",9,0)
 Q 0
"RTN","FBAAV4")
0^4^B34466301
"RTN","FBAAV4",1,0)
FBAAV4 ;AISC/GRR-ELECTRONICALLY TRANSMIT PATIENT MRA'S ;12/16/2003
"RTN","FBAAV4",2,0)
 ;;3.5;FEE BASIS;**13,34,37,70,146**;JAN 30, 1995;Build 57
"RTN","FBAAV4",3,0)
 ;;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","FBAAV4",4,0)
 ;D STATION^FBAAUTL,HD^FBAAUTL Q:$D(FB("ERROR"))
"RTN","FBAAV4",5,0)
 S FBTXT=0,ZMCNT=1 ;FBTXT , ZMCNT 
"RTN","FBAAV4",6,0)
GO S J=0 F  S J=$O(^FBAA(161.26,"AC","P",J)) Q:J'>0  S FB0=$G(^FBAA(161.26,J,0)) I $P(FB0,U) S Y(0)=$G(^DPT($P(FB0,U),0)) I Y(0)]"" S FBTYPE=$S($P(FB0,U,4)]"":$P(FB0,U,4),1:"A"),FBFDC=$P(FB0,U,6),FBMST=$P(FB0,U,7) D
"RTN","FBAAV4",7,0)
 .; GETBT-prepare header 
"RTN","FBAAV4",8,0)
 .; NEWMSG^FBAAV01-get new message number, reset line counter, set subject line 
"RTN","FBAAV4",9,0)
 .; STORE^FBAAV01- increment line counter and store in ^XMB
"RTN","FBAAV4",10,0)
 .; FBLN -line counter; FBFEE- "FEE message" counter; FBOKTX=1 if message pending, 0 otherwise
"RTN","FBAAV4",11,0)
 .I 'FBTXT S FBTXT=1 D GETBT,NEWMSG^FBAAV01,STORE^FBAAV01
"RTN","FBAAV4",12,0)
 .; prepare and store patient MRA portion (can be more than 1)
"RTN","FBAAV4",13,0)
 .D GOT
"RTN","FBAAV4",14,0)
 D:+$G(FBOKTX) XMIT^FBAAV01
"RTN","FBAAV4",15,0)
 Q
"RTN","FBAAV4",16,0)
 ;GETBT - prepare the "header" of the message 
"RTN","FBAAV4",17,0)
GETBT D GETNXB^FBAAUTL ;get next batch # in FBBN
"RTN","FBAAV4",18,0)
 S FBZBN=$E("00000",$L(FBBN)+1,5)_FBBN,FBSN=FBSN_$E("      ",$L(FBSN)+1,6)
"RTN","FBAAV4",19,0)
 S FBSTR=FBHD_"C2"_$E(DT,4,7)_$E(DT,2,3)_FBSN_FBZBN_"$"
"RTN","FBAAV4",20,0)
 Q
"RTN","FBAAV4",21,0)
 ; 
"RTN","FBAAV4",22,0)
GOT ;patient MRA portion of the message
"RTN","FBAAV4",23,0)
 N FBCCFLG,FBPATICN,FB2NDSTR
"RTN","FBAAV4",24,0)
 ; patient info;input:Y(0);output:FBDOB,FBFI,FBFLNAM,FBLNAM,FBMI,FBNAME,FBSEX,FBSSN
"RTN","FBAAV4",25,0)
 D PAT^FBAAUTL2
"RTN","FBAAV4",26,0)
 S DFN=$P(FB0,U)
"RTN","FBAAV4",27,0)
 S FBFLNAM=$$HL7NAME(DFN),FBFI="",FBMI="" ;name (FBFI,FBMI - obsolete)
"RTN","FBAAV4",28,0)
 ; demographic info, output:VADM
"RTN","FBAAV4",29,0)
 D DEM^VADPT Q:$G(VAERR)
"RTN","FBAAV4",30,0)
 S FBBD=$P(VADM(3),"^"),FBBD=$E(FBBD,4,7)_$E(FBBD,2,3) ;DOB
"RTN","FBAAV4",31,0)
 S FBBD=$S(FBBD="":"      ",1:FBBD),FBSEX=$P(VADM(5),"^"),FBSEX=$S(FBSEX="F":2,1:1)
"RTN","FBAAV4",32,0)
 S DOD=$P($P(VADM(6),"^"),".") ;DOD
"RTN","FBAAV4",33,0)
 K VADM,VAERR
"RTN","FBAAV4",34,0)
 ;S Y(0)=$S($D(^DPT(DFN,.11)):^(.11),1:"") Q:Y(0)']""
"RTN","FBAAV4",35,0)
 ;S FBADD=$E($P(Y(0),"^",1),1,21),FBADD=FBADD_$E(PAD,$L(FBADD)+1,21),FBCITY=$E($P(Y(0),"^",4),1,13),FBCITY=FBCITY_$E(PAD,$L(FBCITY)+1,13),FBSTAT="  "
"RTN","FBAAV4",36,0)
 ;S STCD=$P(Y(0),"^",5) I STCD]"" S FBSTAT=$S($D(^DIC(5,STCD,0)):$P(^(0),"^",2),1:"  ")
"RTN","FBAAV4",37,0)
 ;
"RTN","FBAAV4",38,0)
 ;address info, output: VAPA()
"RTN","FBAAV4",39,0)
 S VAPA("P")="" D ADD^VADPT Q:$G(VAERR)
"RTN","FBAAV4",40,0)
 S FBADD=$$LRJ($G(VAPA(1)),35)_$$LRJ($G(VAPA(2)),35)_$$LRJ($G(VAPA(3)),35) ;street address
"RTN","FBAAV4",41,0)
 S FBCITY=$$LRJ($G(VAPA(4)),30) ;city
"RTN","FBAAV4",42,0)
 S STCD=+VAPA(5) I STCD S FBSTAT=$S($D(^DIC(5,STCD,0)):$P(^(0),"^",2),1:"  ") ;state
"RTN","FBAAV4",43,0)
 S FBZIP=$S('+$G(VAPA(11)):VAPA(6),+VAPA(11):$P(VAPA(11),"^"),1:VAPA(6)) ;zip
"RTN","FBAAV4",44,0)
 ;check for Confidential Communication (CC) address
"RTN","FBAAV4",45,0)
 S FBCCFLG=0 I 'VAERR S FBCCFLG=$$SENDCC()
"RTN","FBAAV4",46,0)
 S FB2NDSTR=$$SECLINE()
"RTN","FBAAV4",47,0)
 S FBZIP=$TR(FBZIP,"-","")_$E("000000000",$L(FBZIP)+1,9)
"RTN","FBAAV4",48,0)
 S STCC=+VAPA(7),FBCC="000" I STCC,STCD S FBCC=$S($D(^DIC(5,STCD,1,STCC,0)):$P(^(0),"^",3),1:"000") ;county code
"RTN","FBAAV4",49,0)
 K VAPA,VAERR
"RTN","FBAAV4",50,0)
 ;
"RTN","FBAAV4",51,0)
 ; eligibility, output:VAEL()
"RTN","FBAAV4",52,0)
 D ELIG^VADPT
"RTN","FBAAV4",53,0)
 S POS=$S(+VAEL(2):+VAEL(2),1:"") ;PERIOD OF SERVICE
"RTN","FBAAV4",54,0)
 K VAEL,VAERR
"RTN","FBAAV4",55,0)
 S POS=$S(POS="":8,$D(^DIC(21,POS,0)):$P(^(0),"^",3),1:8) ;default: 8 (POST-VIETNAM)
"RTN","FBAAV4",56,0)
 S DOD=$S(DOD="":"000000",1:$E(DOD,4,7)_$E(DOD,2,3))
"RTN","FBAAV4",57,0)
 ;
"RTN","FBAAV4",58,0)
 ; service information
"RTN","FBAAV4",59,0)
 D SVC^VADPT
"RTN","FBAAV4",60,0)
 S POW=$S(+VASV(4):+VASV(4),1:""),POW=$S(POW="":2,POW=1:1,1:2) ;if prisoner of war
"RTN","FBAAV4",61,0)
 ;
"RTN","FBAAV4",62,0)
 ; remove all variables defined by VADPT
"RTN","FBAAV4",63,0)
 D KVAR^VADPT
"RTN","FBAAV4",64,0)
 ;
"RTN","FBAAV4",65,0)
 ;using pointer FEE BASIS PATIENT MRA file retrieve info from 
"RTN","FBAAV4",66,0)
 ;FEE BASIS PATIENT file#161, from its authorization multiple ^FBAAA(DA(1),1,DA
"RTN","FBAAV4",67,0)
 S FBAUTH=$P(^FBAA(161.26,J,0),"^",3) Q:FBAUTH']""  Q:'$D(^FBAAA(DFN,1,FBAUTH,0))  S Y(0)=^(0)
"RTN","FBAAV4",68,0)
 ;authorisation FROM
"RTN","FBAAV4",69,0)
 S FBFR=$P(Y(0),"^")
"RTN","FBAAV4",70,0)
 ;authorisation TO
"RTN","FBAAV4",71,0)
 S FBTO=$P(Y(0),"^",2)
"RTN","FBAAV4",72,0)
 ;PURPOSE OF VISIT
"RTN","FBAAV4",73,0)
 S POV=$P(Y(0),"^",7),POV=$S(POV="":"",$D(^FBAA(161.82,POV,0)):$P(^(0),"^",3),1:""),POV=$S(POV]"":POV,1:"05")
"RTN","FBAAV4",74,0)
 ;TREATMENT TYPE CODE (SHORT TERM,HOME NURSING,I.D. CARD,STATE HOME)
"RTN","FBAAV4",75,0)
 S FBTT=$P(Y(0),"^",13),FBTT=$S(FBTT]"":FBTT,1:1)
"RTN","FBAAV4",76,0)
 ;
"RTN","FBAAV4",77,0)
 S FBRECT=$S(FBTT=4:"7",FBTT=2:"S",$G(POV)>28&($G(POV)<50):"C",1:2)
"RTN","FBAAV4",78,0)
 ;formatting FORM and TO dates
"RTN","FBAAV4",79,0)
 S FBFR=$E(FBFR,4,7)_$E(FBFR,2,3),FBTO=$E(FBTO,4,7)_$E(FBTO,2,3)
"RTN","FBAAV4",80,0)
 ;flag that the authorization From Date is being changed by this 
"RTN","FBAAV4",81,0)
 ;master record adjustment (see file #161.26, field #5)
"RTN","FBAAV4",82,0)
 I FBTYPE="C" S FBTO=$S(FBFDC=1:"      ",1:FBTO)
"RTN","FBAAV4",83,0)
 ;
"RTN","FBAAV4",84,0)
 I FBTT=2,"^70^71^74^"'[(U_POV_U) S POV=71
"RTN","FBAAV4",85,0)
 ;if 
"RTN","FBAAV4",86,0)
 S ZMCNT=ZMCNT+1 I ZMCNT>100 D GETBT,STORE S ZMCNT=ZMCNT+1
"RTN","FBAAV4",87,0)
 ; patch FB*3.5*13 changed format of delete MRAs to include the From Date
"RTN","FBAAV4",88,0)
 I FBTYPE="D" D  Q
"RTN","FBAAV4",89,0)
 . S FBRECT=$S(FBTT=4:"7",FBTT=2:"S",$G(POV)=31:"C",1:2)
"RTN","FBAAV4",90,0)
 . S FBSTR=FBRECT_FBTYPE_FBSN_FBSSN_FBFR_"$"
"RTN","FBAAV4",91,0)
 . D ZAP
"RTN","FBAAV4",92,0)
 I FBTYPE="R" D
"RTN","FBAAV4",93,0)
 . S FBRECT=$S(FBTT=4:"7",FBTT=2:"S",$G(POV)=31:"C",1:2)
"RTN","FBAAV4",94,0)
 . ; If Re-Instate for a State Home record type then switch to Add
"RTN","FBAAV4",95,0)
 . ;   because Central FEE does not retain deleted State Home auth.
"RTN","FBAAV4",96,0)
 . I FBRECT=7 S FBTYPE="A" Q
"RTN","FBAAV4",97,0)
 . ; For all other record types send a Re-Instate followed by a Change
"RTN","FBAAV4",98,0)
 . S FBSTR=FBRECT_FBTYPE_FBSN_FBSSN_"$"
"RTN","FBAAV4",99,0)
 . D ZAP
"RTN","FBAAV4",100,0)
 . S FBTYPE="C"
"RTN","FBAAV4",101,0)
 ; construct Add and Change record types
"RTN","FBAAV4",102,0)
 S FBTT=$S(FBMST="Y":0,1:FBTT)
"RTN","FBAAV4",103,0)
 S FBPATICN=$$ICN(DFN) ;get patient's ICN
"RTN","FBAAV4",104,0)
 S FBSTR=FBRECT_FBTYPE_FBSN_FBSSN_FBFI_FBMI_FBFLNAM_FBADD_FBCITY_FBSTAT_FBZIP_FBFR_FBTO_FBCC_FBBD_POV_" "_FBTT_FBSEX_POW_DOD_" "_POS_FBPATICN_"~"
"RTN","FBAAV4",105,0)
 ;if no CC address then send only 1st line of Add and Change record
"RTN","FBAAV4",106,0)
 I FBCCFLG=0 S FBSTR=FBSTR_"$" D ZAP Q
"RTN","FBAAV4",107,0)
 ;save 1st line of Add and Change record
"RTN","FBAAV4",108,0)
 D STORE
"RTN","FBAAV4",109,0)
 ;create 2nd line for CC address
"RTN","FBAAV4",110,0)
 S FBSTR=FB2NDSTR
"RTN","FBAAV4",111,0)
 D ZAP
"RTN","FBAAV4",112,0)
 Q
"RTN","FBAAV4",113,0)
 ;place in XMB for transmission and update FBAA(161.26
"RTN","FBAAV4",114,0)
ZAP D STORE
"RTN","FBAAV4",115,0)
 S DA=J,(DIC,DIE)="^FBAA(161.26,",T="T",DR="1///^S X=T;4///^S X=DT" D ^DIE
"RTN","FBAAV4",116,0)
 Q
"RTN","FBAAV4",117,0)
SKIP S FBRECT=$S(FBTT=2:"S",1:2),FBSTR=FBRECT_FBTYPE_FBSN_FBSSN_"$" G ZAP
"RTN","FBAAV4",118,0)
STORE I ZMCNT>100 D XMIT^FBAAV01,NEWMSG^FBAAV01 S ZMCNT=1
"RTN","FBAAV4",119,0)
 D STORE^FBAAV01
"RTN","FBAAV4",120,0)
 Q
"RTN","FBAAV4",121,0)
 ;---
"RTN","FBAAV4",122,0)
 ;Patient's INTEGRATION CONTROL NUMBER
"RTN","FBAAV4",123,0)
 ;to be implemented in future
"RTN","FBAAV4",124,0)
 ;meanwhile returns 17 spaces
"RTN","FBAAV4",125,0)
ICN(FBDFN) ;
"RTN","FBAAV4",126,0)
 Q $$LRJ("",17)
"RTN","FBAAV4",127,0)
 ;---
"RTN","FBAAV4",128,0)
 ;adds spaces on right/left or truncates to make return string FBLEN characters long
"RTN","FBAAV4",129,0)
 ;FBST- original string
"RTN","FBAAV4",130,0)
 ;FBLEN - desired length
"RTN","FBAAV4",131,0)
 ;FBCHR -character (default = SPACE)
"RTN","FBAAV4",132,0)
 ;FBSIDE - on which side to add characters (default = RIGHT)
"RTN","FBAAV4",133,0)
LRJ(FBST,FBLEN,FBCHR,FBSIDE) ;
"RTN","FBAAV4",134,0)
 N Y S $P(Y,$S($L($G(FBCHR)):FBCHR,1:" "),$S(FBLEN-$L(FBST)<0:1,1:FBLEN-$L(FBST)+1))=""
"RTN","FBAAV4",135,0)
 Q $E($S($G(FBSIDE)="L":Y_FBST,1:FBST_Y),1,FBLEN)
"RTN","FBAAV4",136,0)
 ;---
"RTN","FBAAV4",137,0)
 ;parse name components
"RTN","FBAAV4",138,0)
HL7NAME(FBDFN) ;
"RTN","FBAAV4",139,0)
 N FBAR,FBNM
"RTN","FBAAV4",140,0)
 S FBAR("FILE")=2,FBAR("IENS")=FBDFN,FBAR("FIELD")=.01
"RTN","FBAAV4",141,0)
 S FBNM=$$HLNAME^XLFNAME(.FBAR,"L30","|")
"RTN","FBAAV4",142,0)
 Q $$LRJ(FBNM,30)
"RTN","FBAAV4",143,0)
 ;
"RTN","FBAAV4",144,0)
 ;create 2nd line for CC address
"RTN","FBAAV4",145,0)
 ;VAPA should be determined
"RTN","FBAAV4",146,0)
SECLINE() ;
"RTN","FBAAV4",147,0)
 N FBSTR1
"RTN","FBAAV4",148,0)
 S FBSTR1=$$LRJ($G(VAPA(13)),35)_$$LRJ($G(VAPA(14)),35)_$$LRJ($G(VAPA(15)),35)_$$LRJ($G(VAPA(16)),30) ;street address
"RTN","FBAAV4",149,0)
 S FBSTR1=FBSTR1_$$LRJ($S(+$G(VAPA(17)):$P($G(^DIC(5,+$G(VAPA(17)),0)),"^",2),1:""),2) ;state
"RTN","FBAAV4",150,0)
 S FBSTR1=FBSTR1_$$LRJ($TR($P($G(VAPA(18)),"^",1),"-",""),9,"0") ;zip
"RTN","FBAAV4",151,0)
 S FBSTR1=FBSTR1_$$LRJ($E(+$G(VAPA(20)),4,5)_$E(+$G(VAPA(20)),6,7)_$E(+$G(VAPA(20)),2,3),6)
"RTN","FBAAV4",152,0)
 S FBSTR1=FBSTR1_$$LRJ($E(+$G(VAPA(21)),4,5)_$E(+$G(VAPA(21)),6,7)_$E(+$G(VAPA(21)),2,3),6)
"RTN","FBAAV4",153,0)
 S FBSTR1=FBSTR1_$$LRJ($P($G(^DIC(5,+$G(VAPA(17)),1,+$G(VAPA(19)),0)),"^",3),3,"0","L") ;county code
"RTN","FBAAV4",154,0)
 S FBSTR1=FBSTR1_"~$"
"RTN","FBAAV4",155,0)
 Q FBSTR1
"RTN","FBAAV4",156,0)
 ;------
"RTN","FBAAV4",157,0)
 ;SENDCC
"RTN","FBAAV4",158,0)
 ;returns 1 if CC address needs to be sent, otherwise - 0
"RTN","FBAAV4",159,0)
 ;is called after ADD^VADPT, i.e. VAPA should be defined
"RTN","FBAAV4",160,0)
SENDCC() ;
"RTN","FBAAV4",161,0)
 ;if it is currrently active
"RTN","FBAAV4",162,0)
 I $$ACTIVECC^FBAACO0() Q 1
"RTN","FBAAV4",163,0)
 N X D NOW^%DTC ;set X to TODAY
"RTN","FBAAV4",164,0)
 I ($P($G(VAPA(22,3)),"^",3)="Y"),+$G(VAPA(20))>X Q 1
"RTN","FBAAV4",165,0)
 Q 0
"RTN","FBAAV4",166,0)
 ;
"RTN","FBCH78")
0^1^B50044150
"RTN","FBCH78",1,0)
FBCH78 ;AISC/DMK-SETS UP 7078/AUTHORIZATION FOR CONTRACT HOSPITAL ;08/07/02
"RTN","FBCH78",2,0)
 ;;3.5;FEE BASIS;**43,103,108,146**;JAN 30, 1995;Build 57
"RTN","FBCH78",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","FBCH78",4,0)
 S DIC("S")="I $P(^(0),U,15)=3&($P(^(0),U,12)=""Y"")" D ASKV^FBCHREQ G END:$E(X)="^"!($E(X)="")!('$D(FBDA))
"RTN","FBCH78",5,0)
 I $P(^FBAA(162.2,FBDA,0),"^",17)]"" W !!,*7,"There already is a 7078 set up for this request.",!,"The number is ",$P(^FB7078($P(^FBAA(162.2,FBDA,0),"^",17),0),"^")," .",! G END
"RTN","FBCH78",6,0)
EN S FBVEN=$P(^FBAA(162.2,FBDA,0),"^",2)_";FBAAV(",FBVET=$P(^(0),"^",4),FBFRDT=$P(^(0),"^",5),FBFRDT=FBFRDT\1,FBDOA=$S($P(^(0),"^",19):$P(^(0),"^",19)\1,1:""),FBDXS=$P(^(0),"^",6)
"RTN","FBCH78",7,0)
 ;FB*3.5*103 ;added FBRP
"RTN","FBCH78",8,0)
 S FBRP=$P($G(^FBAA(162.2,FBDA,2)),"^") K DA
"RTN","FBCH78",9,0)
 D NBCHK
"RTN","FBCH78",10,0)
 I NEWB=1 W !! S %DT="APEX",%DT("A")="AUTHORIZATION TO DATE: ",%DT("B")=$$DATX^FBAAUTL(FBDOB7) S DOB7=%DT("B") D ^%DT K %DT G END:X="^" S FBTODT=$S(X="":"",1:Y) D DTCHK1 I DTFG=1 G EN
"RTN","FBCH78",11,0)
 I NEWB'=1 W !! S %DT="APEX",%DT("A")="AUTHORIZATION TO DATE: " D ^%DT K %DT G END:X="^" S FBTODT=$S(X="":"",1:Y)
"RTN","FBCH78",12,0)
 I FBTODT]"",FBFRDT>FBTODT W !!,*7,?5,"Authorization To Date must be after Authorization From Date!",! G EN
"RTN","FBCH78",13,0)
 W !! S %DT="APEX",%DT("A")="DATE OF DISCHARGE: ",%DT("B")=$$DATX^FBAAUTL(FBTODT) D ^%DT K %DT G END:X="^" S FBDOD=$S(X="":"",1:Y)
"RTN","FBCH78",14,0)
 I NEWB'=1 I FBDOD]"",FBTODT>FBDOD W !!,*7,?5,"Date of Discharge must not be earlier than the Authorization To Date!",! G EN
"RTN","FBCH78",15,0)
 I FBDOD]"",FBDOB>FBDOD W !!,*7,?5,"Date of Discharge must not be earlier than the Date of Birth!",! G EN
"RTN","FBCH78",16,0)
 S DIR(0)="162.4,5",DIR("A")="ADMITTING AUTHORITY" D ^DIR K DIR
"RTN","FBCH78",17,0)
 G END:$D(DIRUT) S FBADMIT=+Y
"RTN","FBCH78",18,0)
 S DIR(0)="162.4,6" D ^DIR K DIR
"RTN","FBCH78",19,0)
 G END:$D(DIRUT) S FBEST=+Y
"RTN","FBCH78",20,0)
FBPDIS I FBTODT="" S DIR(0)="162.4,12" D ^DIR K DIR G END:$D(DUOUT),END:$D(DTOUT),NULL^FBCH780:X="" S FBPDIS=+Y
"RTN","FBCH78",21,0)
 ;
"RTN","FBCH78",22,0)
ASKPT I FBTODT]"" S DIR(0)="SAO^00:SURGICAL;10:MEDICAL;86:PSYCHIATRY",DIR("A")="BEDSECTION/TREATING SPECIALTY: ",DIR("?")="^D HELP^FBCH780" D ^DIR K DIR D NOUP^FBCHCD:$D(DIRUT) G ASKPT:$D(DIRUT) S FBPT=Y
"RTN","FBCH78",23,0)
7078 S PRCS("A")="Select Obligation Number: ",PRCS("TYPE")="FB" D EN1^PRCS58 G:Y=-1 NOGOOD S (X,FBCHOB)=$P(Y,"^",2) K PRCS("A") S PRCS("TYPE")="FB" D EN1^PRCSUT31 G:Y="" NOGOOD S FB7078=$P(FBCHOB,"-",2)_"."_Y S FBSEQ=Y
"RTN","FBCH78",24,0)
 S DIC="^FB7078(",DIC(0)="LQ",DLAYGO=162.4,X=""""_FB7078_"""" D ^DIC G:Y<0 PROB S (DA,FBAA78)=+Y
"RTN","FBCH78",25,0)
 S DIE="^FBAA(162.2,",DA=FBDA,DR="16////^S X=FBAA78" D ^DIE K DIE,DIC,DA,DR
"RTN","FBCH78",26,0)
SET78 S DIE="^FB7078(",DA=FBAA78,DR="[FBCH ENTER 7078]" D ^DIE K DIC,DIE,DR,DA
"RTN","FBCH78",27,0)
 D ^FBCH780 I $G(FBOUT) W !!,*7,"...deleting 7078." D DEL G END
"RTN","FBCH78",28,0)
 I +Y=0 W !!,*7,Y,!,"...deleting 7078.  Use 'Set-up a 7078' after adjusting 1358.",! D DEL G END
"RTN","FBCH78",29,0)
 K DIE,DIC,DA
"RTN","FBCH78",30,0)
 I $G(FBVET) S:'$G(DFN) DFN=FBVET D PTF^FBCH780
"RTN","FBCH78",31,0)
 G SHOW:FBTODT=""
"RTN","FBCH78",32,0)
AUTH D HOME^%ZIS
"RTN","FBCH78",33,0)
 D:'$D(FBSITE(1)) SITEP^FBAAUTL Q:FBPOP  S FBPSA=$S($P(FBSITE(1),"^",3)="":"",$D(^DIC(4,$P(FBSITE(1),"^",3),0)):$P(^(0),"^"),1:"")
"RTN","FBCH78",34,0)
 S FBVEN=$P(FBVEN,";")
"RTN","FBCH78",35,0)
 I '$D(^FBAAA(FBVET,0)) D  G:Y<0 END
"RTN","FBCH78",36,0)
 . N DINUM
"RTN","FBCH78",37,0)
 . S Y=-1
"RTN","FBCH78",38,0)
 . L +^FBAAA(FBVET):$S($D(DILOCKTM):DILOCKTM,1:5) I $T D
"RTN","FBCH78",39,0)
 . . K DD,DO S (X,DINUM)=FBVET,DIC="^FBAAA(",DIC(0)="LM",DLAYGO=161
"RTN","FBCH78",40,0)
 . . D FILE^DICN
"RTN","FBCH78",41,0)
 . . L -^FBAAA(FBVET)
"RTN","FBCH78",42,0)
 . I Y<0 W !,"ERROR: Unable to create entry in FEE BASIS PATIENT file."
"RTN","FBCH78",43,0)
 K DE,DQ,DR,DIE,DLAYGO
"RTN","FBCH78",44,0)
 ;FB*3.5*108 ask Contract
"RTN","FBCH78",45,0)
 D  G:$D(DTOUT)!$D(DUOUT) END
"RTN","FBCH78",46,0)
 . S FBCNTRA=""
"RTN","FBCH78",47,0)
 . N DIR
"RTN","FBCH78",48,0)
 . S DIR(0)="PO^161.43:AQEM"
"RTN","FBCH78",49,0)
 . S DIR("A")="CONTRACT"
"RTN","FBCH78",50,0)
 . S DIR("?",1)="If the authorization is under a contract then select it."
"RTN","FBCH78",51,0)
 . S DIR("?")="Contract must be active and applicable for the authorized vendor."
"RTN","FBCH78",52,0)
 . S DIR("S")="I $P($G(^(0)),""^"",2)'=""I"",$$VCNTR^FBUTL7(FBVEN,+Y)"
"RTN","FBCH78",53,0)
 . D ^DIR Q:$D(DTOUT)!$D(DUOUT)
"RTN","FBCH78",54,0)
 . I Y>0 S FBCNTRA=+Y
"RTN","FBCH78",55,0)
FBDCHG S DIR(0)="161.01,.06" D ^DIR K DIR G END:$D(DTOUT),END:$D(DUOUT) D NULL1^FBCH780:X="" G FBDCHG:X="" S FBDCHG=+Y
"RTN","FBCH78",56,0)
FBPUR S FBTYPE=6,DIR(0)="161.01,.07" D ^DIR K DIR S FBPUR=+Y
"RTN","FBCH78",57,0)
 G END:$D(DTOUT),END:$D(DUOUT)
"RTN","FBCH78",58,0)
FBPSA S DIR(0)="161.01,101" D ^DIR K DIR G END:$D(DTOUT),END:$D(DUOUT) D NULL1^FBCH780:X="" G FBPSA:X="" S FBPSA=+Y
"RTN","FBCH78",59,0)
 ;file entry in authorization multiple of file 161
"RTN","FBCH78",60,0)
 S DIC="^FBAAA("_FBVET_",1,",DIC(0)="LM",DLAYGO=161,DA(1)=FBVET,X=FBFRDT K DD,DO D FILE^DICN G:Y<0 END S DA=+Y,DIE("NO^")="" ;DA(1)=FBVET
"RTN","FBCH78",61,0)
 S FB78=FBAA78_";FB7078("
"RTN","FBCH78",62,0)
 ;FB*3.5*103 ;added FBRP
"RTN","FBCH78",63,0)
 S DIE=DIC,DR=".02////^S X=FBTODT;.03////^S X=6;100////^S X=DUZ;1////^S X=""YES"";.055////^S X=FB78;.06////^S X=FBDCHG;S FBTYPE=6;.04////^S X=FBVEN;.065////^S X=FBPT;101////^S X=FBPSA"
"RTN","FBCH78",64,0)
 S:$G(FBRP)]"" DR=DR_";104////^S X=FBRP"
"RTN","FBCH78",65,0)
 S DR=DR_";.095////^S X=1"
"RTN","FBCH78",66,0)
 S DR(1,161.01,1)="I $D(^FB7078(FBAA78,1,0)) S ^FBAAA(DA(1),1,DA,2,0)=^(0) F FBI=1:1 Q:'$D(^FB7078(FBAA78,1,FBI,0))  I $D(^(0)) S ^FBAAA(DA(1),1,DA,2,FBI,0)=^(0);.07////^S X=FBPUR;.08///^S X=FBDXS;.096;.097//^S X=""N"""
"RTN","FBCH78",67,0)
 I $G(FBCNTRA)]"" S DR(1,161.01,2)="105////^S X=FBCNTRA"
"RTN","FBCH78",68,0)
 D ^DIE K DIE,DR
"RTN","FBCH78",69,0)
 S (DIC,DIE)="^FB7078(",DA=FBAA78,DR="9///^S X=""C"";12///^S X=""@""" D ^DIE K DR,DIE,DA,X
"RTN","FBCH78",70,0)
SHOW W !! S DA=FBAA78,DR="0;1",DIC="^FB7078(" D EN^DIQ
"RTN","FBCH78",71,0)
 S X=$$CN7078(FBAA78) I X]"" W ?2,"CONTRACT: ",$P(X,U,2)
"RTN","FBCH78",72,0)
 ;
"RTN","FBCH78",73,0)
 ;FB*3.5*103 ;added FBRP
"RTN","FBCH78",74,0)
END K D,DA,DIC,DIE,DIR,DLAYGO,DR,FBDA,FB7078,FBAA78,FBPT,FBTYPE,FBVEN,FBZ,FBVET,FBFRDT,FBTODT,J,S,POP,X,Y,DFN,FBCHOB,FBCOMM,FBDFN,FBEST,FBI,FBLENT,FBMENT,FBNAME,FBSEQ,FBSSN,FBSW,I,K,PRC,VAL,FB,FBFLG,ZZ,FBPSA,FBSITE,FB78,FBOUT
"RTN","FBCH78",75,0)
 K FBDCHG,FBPUR,FBPDIS,FBADMIT,FBDXS,A,D0,D1,X1,DIRUT,DTOUT,DUOUT,FBDOA,FBDOD,FBPOP,FBZZ,ZZZ,PRCSCPAN,FBRP,FBCNTRA,PRCS,FBDOB,FBDOB7
"RTN","FBCH78",76,0)
 Q
"RTN","FBCH78",77,0)
PROB W !!,"The reference number did not get set up with the",!,"IFCAP software. Contact your package coordinator." G END
"RTN","FBCH78",78,0)
NOGOOD S DIR(0)="Y",DIR("A")="Obligation number selected is invalid or you are not a control point user in the IFCAP package!  Try again",DIR("B")="YES" D ^DIR K DIR G END:$D(DIRUT)!'Y,7078
"RTN","FBCH78",79,0)
 ;
"RTN","FBCH78",80,0)
OUTP ;ENTRY TO DISPLAY A 7078
"RTN","FBCH78",81,0)
 ;FB*3.5*103 ; Display the 0 node fields with computed REFERRING PROVIDER NPI, then 1 node fields
"RTN","FBCH78",82,0)
 S DIC="^FB7078(",DIC(0)="AEQM",D="D",DIC("A")="Select Patient: " D IX^DIC
"RTN","FBCH78",83,0)
 G END:X=""!(X="^")
"RTN","FBCH78",84,0)
 S (DA,FBDA)=+Y,DR="0",DIQ(0)="C" W !! D EN^DIQ K DIQ(0)
"RTN","FBCH78",85,0)
 S DA=FBDA,DR="1" D EN^DIQ
"RTN","FBCH78",86,0)
 S X=$$CN7078(FBDA) I X]"" W ?2,"CONTRACT: ",$P(X,U,2),!
"RTN","FBCH78",87,0)
 I $$DISCH^FBCH780(FBDA)]"" W ?2,"DISCHARGE TYPE: ",$$DISCH^FBCH780(FBDA),!
"RTN","FBCH78",88,0)
 G OUTP
"RTN","FBCH78",89,0)
 ;
"RTN","FBCH78",90,0)
REFNPI(IEN200,IEN162P4,CHKAUTH) ;FB*3.5*103
"RTN","FBCH78",91,0)
 ; a new function that returns the REFERRING PROVIDER NPI if it is Active and the provider has authorized use of the NPI
"RTN","FBCH78",92,0)
 ; If is used in both a Fileman function and in other FB routines.
"RTN","FBCH78",93,0)
 ;
"RTN","FBCH78",94,0)
 ; Input
"RTN","FBCH78",95,0)
 ; IEN200 - IEN to file 200 if known
"RTN","FBCH78",96,0)
 ; IEN162P4 (optional) - IEN to File 162.4 (if ref prov is not known)
"RTN","FBCH78",97,0)
 ; CHKAUTH (optional) - Flag on whether to Chek Authorization in file 200
"RTN","FBCH78",98,0)
 ;
"RTN","FBCH78",99,0)
 ; Output
"RTN","FBCH78",100,0)
 ; A valid/active NPI if one can be determined.  Otherwise, nada.
"RTN","FBCH78",101,0)
 ;
"RTN","FBCH78",102,0)
 ; If neither IEN is passed in, there is no NPI coming out
"RTN","FBCH78",103,0)
 I $G(IEN200)<1,$G(IEN162P4)<1 Q ""
"RTN","FBCH78",104,0)
 ;
"RTN","FBCH78",105,0)
 ; If there is no referrring provider IEN passed in, try getting it from the IEN from 162.4 (VA FORM 10-7078)
"RTN","FBCH78",106,0)
 ; return nothing if you can't
"RTN","FBCH78",107,0)
 I $G(IEN200)<1 S IEN200=$$GET1^DIQ(162.4,IEN162P4_",",15,"I") Q:$G(IEN200)<1 ""
"RTN","FBCH78",108,0)
 ;
"RTN","FBCH78",109,0)
 ; Now that we have an IEN to 200 see if we need authorization and have to display/print NPI
"RTN","FBCH78",110,0)
 ; If the return value is less than 1, then we don't have permission or it was not a valid IEN.
"RTN","FBCH78",111,0)
 ; IA#5070
"RTN","FBCH78",112,0)
 I $G(CHKAUTH) Q:+$$GETRLNPI^XUSNPI(IEN200)<1 ""
"RTN","FBCH78",113,0)
 ;
"RTN","FBCH78",114,0)
 ; Go get the NPI for this IEN
"RTN","FBCH78",115,0)
 N NPI S NPI=$$NPI^XUSNPI("Individual_ID",IEN200)
"RTN","FBCH78",116,0)
 ;
"RTN","FBCH78",117,0)
 ; Make sure it is a valid/Active NPI
"RTN","FBCH78",118,0)
 I +NPI<1!($P(NPI,U,3)="Inactive") Q ""
"RTN","FBCH78",119,0)
 Q +NPI
"RTN","FBCH78",120,0)
 ;
"RTN","FBCH78",121,0)
NBCHK ;Newborn Enhancement check FB*3.5*146
"RTN","FBCH78",122,0)
 N DOB,NOW
"RTN","FBCH78",123,0)
 S NEWB=0,FBDOB7=0,FBDOB=0
"RTN","FBCH78",124,0)
 S DOB=$P(^DPT(FBDFN,0),"^",3)
"RTN","FBCH78",125,0)
 D NOW^%DTC S NOW=X
"RTN","FBCH78",126,0)
 I $$FMDIFF^XLFDT(NOW,DOB,1)>365 Q 
"RTN","FBCH78",127,0)
 S FBDOB=$$F2H^XLFDT(DOB),FBDOB=$$H2F^XLFDT(FBDOB)
"RTN","FBCH78",128,0)
 S NEWB=1,FBDOB7=$$F2H^XLFDT(DOB)+7,FBDOB7=$$H2F^XLFDT(FBDOB7) Q
"RTN","FBCH78",129,0)
 Q
"RTN","FBCH78",130,0)
 ; 
"RTN","FBCH78",131,0)
DTCHK1 ;
"RTN","FBCH78",132,0)
 S DTFG=0
"RTN","FBCH78",133,0)
 I FBTODT]"",FBTODT>FBDOB7 W !!,*7,?5,"Patient is a newborn. Authorization To Date must not be more than 7 days after the Date of Birth",! S DTFG=1 Q
"RTN","FBCH78",134,0)
 I FBTODT]"",FBTODT<FBDOB W !!,*7,?5,"Patient is a newborn. Authorization To Date must not be before the Date of Birth",! S DTFG=1 Q
"RTN","FBCH78",135,0)
 Q
"RTN","FBCH78",136,0)
DEL S DA=FBAA78,DIK="^FB7078(" D ^DIK K DIK S DA=$O(^FBAA(162.2,"AM",+FBAA78,0)) I DA S DIE="^FBAA(162.2,",DR="16///@" D ^DIE
"RTN","FBCH78",137,0)
 Q
"RTN","FBCH78",138,0)
CN7078(FBDA) ; VA FORM 10-7078 Contract
"RTN","FBCH78",139,0)
 ; input FBDA = ien of entry in file 162.4
"RTN","FBCH78",140,0)
 ; returns contract ien^contract number for the 7078 or null
"RTN","FBCH78",141,0)
 N DFN,FBAU,FBCNTRA,FBRET
"RTN","FBCH78",142,0)
 S FBRET=""
"RTN","FBCH78",143,0)
 I $G(FBDA) D
"RTN","FBCH78",144,0)
 . S DFN=$P($G(^FB7078(FBDA,0)),U,3)
"RTN","FBCH78",145,0)
 . Q:'DFN
"RTN","FBCH78",146,0)
 . S FBAU=$O(^FBAAA("AG",FBDA_";FB7078(",DFN,0))
"RTN","FBCH78",147,0)
 . Q:'FBAU
"RTN","FBCH78",148,0)
 . S FBCNTRA=$P($G(^FBAAA(DFN,1,FBAU,0)),U,22)
"RTN","FBCH78",149,0)
 . Q:'FBCNTRA
"RTN","FBCH78",150,0)
 . S FBRET=FBCNTRA_U_$P($G(^FBAA(161.43,FBCNTRA,0)),U)
"RTN","FBCH78",151,0)
 Q FBRET
"RTN","FBCHREQ1")
0^2^B14681978
"RTN","FBCHREQ1",1,0)
FBCHREQ1 ;AISC/DMK-FEE NOTIFICATION CONT ;31AUG90
"RTN","FBCHREQ1",2,0)
 ;;3.5;FEE BASIS;**103,146**;JAN 30, 1995;Build 57
"RTN","FBCHREQ1",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","FBCHREQ1",4,0)
VENDOR ;ASK VENDOR FOR NOTIFICATION
"RTN","FBCHREQ1",5,0)
 W ! K FBCHVEN S DIC="^FBAAV(",DIC(0)="AEQLM",DLAYGO=161.2 D ^DIC G END:X=""!(X="^"),VENDOR:Y<0 S (DA,FBCHVEN)=+Y,DIE=DIC I $P(Y,"^",3)=1 S FBVENEW=1 D NEW^FBAAVD K DIC,DIE,DA,DLAYGO Q
"RTN","FBCHREQ1",6,0)
ASKVOK I '$D(FBVENEW) D EN1^FBAAVD S DIR(0)="Y",DIR("A")="Is this the correct vendor",DIR("B")="YES" D ^DIR K DIR G VENDOR:$D(DIRUT)!'Y
"RTN","FBCHREQ1",7,0)
END K DIC,DIE,DLAYGO
"RTN","FBCHREQ1",8,0)
 Q
"RTN","FBCHREQ1",9,0)
TIMCK ;72 hour time check called from FBAA ENTER REQUEST template
"RTN","FBCHREQ1",10,0)
 S X1=$P(^FBAA(162.2,DA,0),"^",1),X=$P(^(0),"^",19),HY=Y,FBSW=""
"RTN","FBCHREQ1",11,0)
 S Y=$E(X1_"000",9,10)-$E(X_"000",9,10)*60+$E(X1_"00000",11,12)-$E(X_"00000",11,12),X2=X,X=$P(X,".",1)'=$P(X1,".",1) D ^%DTC:X S FBX=X*1440+Y
"RTN","FBCHREQ1",12,0)
SURE I FBX>4320 W *7,!!,"This Authorization From Date exceeds the 72 hour notification period. ",!,?8,"Do you want to continue ? No// " R X:DTIME S:X="" X="N" G HELP:X["^" D VALCK^FBAAUTL1 G SURE:'VAL I "Nn"[$E(X,1) S FBSW=1,Y=HY Q
"RTN","FBCHREQ1",13,0)
 S Y=HY Q
"RTN","FBCHREQ1",14,0)
HELP W !,"Entering an '^' is not allowed.  Please answer 'Yes' or 'No'." G SURE
"RTN","FBCHREQ1",15,0)
EN I $D(DA),DA S FBDA(0)=DA,DIE="^FBAA(162.2,",DR=".01////@" D ^DIE
"RTN","FBCHREQ1",16,0)
 I '$D(DA)  W *7,!?3,"...request deleted",! I $D(^FBAA(161.5,FBDA(0),0)) S DA=FBDA(0),DIK="^FBAA(161.5," D ^DIK
"RTN","FBCHREQ1",17,0)
 K DIC,DIE,DIK,DA,X,FBDA,DR,DLAYGO,FBDATE,FBLG,FBN,FBUP,FBVT,VA D END^FBCHREQ
"RTN","FBCHREQ1",18,0)
 Q
"RTN","FBCHREQ1",19,0)
EDIT ;EDIT A REQUEST THAT'S NOT COMPLETE
"RTN","FBCHREQ1",20,0)
 S DIC("S")="I $P(^(0),U,15)'=3" D ASKV^FBCHREQ K DIC("S") G Q:X=""!(X="^") S DA=+Y,FB(0)=^FBAA(162.2,DA,0),FBDOA=$P(FB(0),"^",19),FBFRDT=$P(FB(0),"^",5)
"RTN","FBCHREQ1",21,0)
 ; fb*3.5*103  add REFERRING PROVIDER (162.2,17) to DR string
"RTN","FBCHREQ1",22,0)
 S DIE="^FBAA(162.2,",DR="1;2;3.5;S:X=FBDOA!(X<FBFRDT) Y=""@10"";S FBDOA=X;4////^S X=FBDOA;I 1;@10;4;5;17;I $G(X) W !,""REFERRING PROVIDER NPI: "",$$REFNPI^FBCH78(X);6;S FBCHVEN=X" D ^DIE S FBN(0)=^FBAA(162.2,DA,0)
"RTN","FBCHREQ1",23,0)
 I FB(0)'=FBN(0) S DR="7////^S X=DUZ" D ^DIE
"RTN","FBCHREQ1",24,0)
 I $D(DA),$D(^FBAA(161.5,DA,0)) D
"RTN","FBCHREQ1",25,0)
 .I FB(0)'=FBN(0) S $P(^FBAA(161.5,DA,0),"^",2)=$P(FBN(0),"^",2),$P(^(0),"^",5)=$P(FBN(0),"^",5),$P(^FBAA(161.5,DA,1),"^",7)=$P(FBN(0),"^",19),$P(^(1),U)=$P(FBN(0),U,6),DIK="^FBAA(161.5," D IX^DIK K DIK
"RTN","FBCHREQ1",26,0)
 .S FBREQED=1,DIC="^FBAA(161.5,",DIC(0)="AEQM" D EN^FBCHROC
"RTN","FBCHREQ1",27,0)
Q K DIE,DIC,DIRUT,DUOUT,DTOUT,X,Y,DR,FB,FBN,FBDA,FBDFN,FBNAME,FBSSN,DA,FBCHVEN,FBREQED,FBDOA,FBFRDT,J
"RTN","FBCHREQ1",28,0)
 Q
"RTN","FBCHREQ1",29,0)
DATCK ;Verify authorized from date is > or = date of admission.
"RTN","FBCHREQ1",30,0)
 I '$D(DFN) I $D(FBDFN) S DFN=FBDFN
"RTN","FBCHREQ1",31,0)
 I '$D(DFN) I $D(FBVET) S DFN=FBVET
"RTN","FBCHREQ1",32,0)
 S FBDOA=$P(^FBAA(162.2,DA,0),"^",19) I $G(FBDOA),X<FBDOA W !,*7,"Authorized From Date must be equal to or greater than the Date of Admission" S FBOUT=1
"RTN","FBCHREQ1",33,0)
 S FBDOB=$P(^DPT(DFN,0),"^",3) I $G(FBDOB),X<FBDOB W !,*7,"Authorized From Date cannot be before the Date of Birth" S FBOUT=1
"RTN","FBCHREQ1",34,0)
 ; Check if this is a Newborn. If Newborn Authorization date can not be after DOB+7
"RTN","FBCHREQ1",35,0)
 N ENTDATE,NOW
"RTN","FBCHREQ1",36,0)
 S ENTDATE=X
"RTN","FBCHREQ1",37,0)
 N X
"RTN","FBCHREQ1",38,0)
 D NOW^%DTC S NOW=X,X=ENTDATE
"RTN","FBCHREQ1",39,0)
 I $$FMDIFF^XLFDT(NOW,FBDOB,1)<365 D  ;PATIENT IS A NEWBORN
"RTN","FBCHREQ1",40,0)
 . I $$FMDIFF^XLFDT(X,FBDOB,1)>7 W !,*7,"Authorized From Date for a Newborn cannot be after DOB+7" S FBOUT=1
"RTN","FBCHREQ1",41,0)
 Q
"VER")
8.0^22.0
"^DD",161.99,161.99,0)
FIELD^^1^2
"^DD",161.99,161.99,0,"DDA")
N
"^DD",161.99,161.99,0,"DT")
3111213
"^DD",161.99,161.99,0,"IX","B",161.99,.01)

"^DD",161.99,161.99,0,"NM","FEE BASIS PAYMENT REJECT CODE")

"^DD",161.99,161.99,0,"VRPK")
FB
"^DD",161.99,161.99,.01,0)
CODE^RF^^0;1^K:$L(X)>4!($L(X)<1)!'(X'?1P.E) X
"^DD",161.99,161.99,.01,1,0)
^.1
"^DD",161.99,161.99,.01,1,1,0)
161.99^B
"^DD",161.99,161.99,.01,1,1,1)
S ^FBAA(161.99,"B",$E(X,1,30),DA)=""
"^DD",161.99,161.99,.01,1,1,2)
K ^FBAA(161.99,"B",$E(X,1,30),DA)
"^DD",161.99,161.99,.01,3)
Answer must be 1-4 characters in length.
"^DD",161.99,161.99,.01,21,0)
^^1^1^3111213^
"^DD",161.99,161.99,.01,21,1,0)
The field contains a reject reason code.
"^DD",161.99,161.99,.01,"DT")
3111213
"^DD",161.99,161.99,1,0)
DESCRIPTION^161.991^^1;0
"^DD",161.99,161.99,1,21,0)
^^1^1^3111214^
"^DD",161.99,161.99,1,21,1,0)
This field contains a description of the reject reason code.
"^DD",161.99,161.991,0)
DESCRIPTION SUB-FIELD^^.01^1
"^DD",161.99,161.991,0,"DT")
3111213
"^DD",161.99,161.991,0,"NM","DESCRIPTION")

"^DD",161.99,161.991,0,"UP")
161.99
"^DD",161.99,161.991,.01,0)
DESCRIPTION^Wx^^0;1^Q
"^DD",161.99,161.991,.01,3)
Enter a description for the code.
"^DD",161.99,161.991,.01,21,0)
^^1^1^3111214^^
"^DD",161.99,161.991,.01,21,1,0)
This field contains a description of the reject reason code.
"^DD",161.99,161.991,.01,"DT")
3111214
"^DIC",161.99,161.99,0)
FEE BASIS PAYMENT REJECT CODE^161.99
"^DIC",161.99,161.99,0,"GL")
^FBAA(161.99,
"^DIC",161.99,161.99,"%",0)
^1.005^^0
"^DIC",161.99,161.99,"%D",0)
^^23^23^3120201^
"^DIC",161.99,161.99,"%D",1,0)
This file holds reject codes that are applicable to payment line items.  
"^DIC",161.99,161.99,"%D",2,0)
This file will be exported with data.  The data must not be locally
"^DIC",161.99,161.99,"%D",3,0)
modified.
"^DIC",161.99,161.99,"%D",4,0)
 
"^DIC",161.99,161.99,"%D",5,0)
VistA Fee Basis has four logical files/sub-files that contain payment line
"^DIC",161.99,161.99,"%D",6,0)
items:
"^DIC",161.99,161.99,"%D",7,0)
 1. SERVICE PROVIDED (#162.03) multiple within the FEE BASIS PAYMENT
"^DIC",161.99,161.99,"%D",8,0)
    (#162) file.
"^DIC",161.99,161.99,"%D",9,0)
 2. TRAVEL PAYMENT DATE (#162.04) multiple within the FEE BASIS PAYMENT
"^DIC",161.99,161.99,"%D",10,0)
    (#162) file.
"^DIC",161.99,161.99,"%D",11,0)
 3. PRESCRIPTION NUMBER (#162.11) multiple within the FEE BASIS PHARMACY
"^DIC",161.99,161.99,"%D",12,0)
    INVOICE (#162.1) file.
"^DIC",161.99,161.99,"%D",13,0)
 4. FEE BASIS INVOICE (#162.5) file.
"^DIC",161.99,161.99,"%D",14,0)
 
"^DIC",161.99,161.99,"%D",15,0)
Each of these four logical files has a free-text REJECT CODE field within
"^DIC",161.99,161.99,"%D",16,0)
a REJECT CODE multiple. The value stored in the REJECT CODE field is 
"^DIC",161.99,161.99,"%D",17,0)
normally expected to have a matching record in the FEE BASIS PAYMENT
"^DIC",161.99,161.99,"%D",18,0)
REJECT CODE file so a description of the reject code can be displayed on
"^DIC",161.99,161.99,"%D",19,0)
appropriate outputs.  In the event the FEE BASIS PAYMENT REJECT CODE file
"^DIC",161.99,161.99,"%D",20,0)
data is out-of-date and does not contain a code that is stored with a
"^DIC",161.99,161.99,"%D",21,0)
payment, a description similar to "Reject reason code not currently
"^DIC",161.99,161.99,"%D",22,0)
defined in list" will be used as the code description until the code 
"^DIC",161.99,161.99,"%D",23,0)
is added to file #161.99 by a patch.
"^DIC",161.99,"B","FEE BASIS PAYMENT REJECT CODE",161.99)

**INSTALL NAME**
IB*2.0*499
"BLD",8717,0)
IB*2.0*499^INTEGRATED BILLING^0^3131108^y
"BLD",8717,1,0)
^^342^342^3131108^
"BLD",8717,1,1,0)
                               ***NOTICE***
"BLD",8717,1,2,0)
 Users should be made aware that processing of Newborn claims must ONLY be
"BLD",8717,1,3,0)
 entered in VistA. No entry in FBCS should be performed.
"BLD",8717,1,4,0)
                               ***********
"BLD",8717,1,5,0)
 This patch, along with DG*5.3*867 and FB*3.5*146, is being released as a
"BLD",8717,1,6,0)
 bundle, and all three will be automatically installed in the correct order.
"BLD",8717,1,7,0)
 
"BLD",8717,1,8,0)
 This patch has enhancements that extend the capabilities of the Veterans
"BLD",8717,1,9,0)
 Health Information Systems and Technology Architecture (VistA) Patient
"BLD",8717,1,10,0)
 Registration system (DG), Fee Basis System (FB), and Integrated Billing
"BLD",8717,1,11,0)
 (IB).
"BLD",8717,1,12,0)
 
"BLD",8717,1,13,0)
 Below is a list of all the applications involved in this project along with
"BLD",8717,1,14,0)
 their patch number:
"BLD",8717,1,15,0)
 
"BLD",8717,1,16,0)
     APPLICATION/VERSION                                   PATCH
"BLD",8717,1,17,0)
     ---------------------------------------------------------------
"BLD",8717,1,18,0)
  PATIENT REGISTRATION (DG) V 5.3                       DG*5.3*867
"BLD",8717,1,19,0)
  FEE BASIS (FB) V 3.5                                  FB*3.5*146
"BLD",8717,1,20,0)
  INTEGRATED BILLING (IB) 2.0                           IB*2.0*499
"BLD",8717,1,21,0)
 
"BLD",8717,1,22,0)
 The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released in
"BLD",8717,1,23,0)
 the Kernel Installation and Distribution System (KIDS) multi-build
"BLD",8717,1,24,0)
 distribution NEWBORN DG FB IB BUNDLE 1.0.
"BLD",8717,1,25,0)
 
"BLD",8717,1,26,0)
 The purpose of the Caregivers: Newborn Claims Processing Enhancement Project
"BLD",8717,1,27,0)
 is to enhance VistA Fee Basis application in support of compliance with
"BLD",8717,1,28,0)
 Public Law 111-163, the Caregiver and Veterans Omnibus Health Services Act
"BLD",8717,1,29,0)
 of 2010. This law makes changes to sections of Title 38, United States Code
"BLD",8717,1,30,0)
 to furnish health care services to a newborn child of a Woman Veteran who
"BLD",8717,1,31,0)
 is receiving maternity care furnished by the Department of Veterans Affairs
"BLD",8717,1,32,0)
 (VA) for not more than seven days after the birth of the child.
"BLD",8717,1,33,0)
 
"BLD",8717,1,34,0)
 The scope of these enhancements is to capture information on healthcare
"BLD",8717,1,35,0)
 services provided to newborn children of Women Veterans. Affected functions
"BLD",8717,1,36,0)
 include eligibility determination, enrollment and registration, documentation
"BLD",8717,1,37,0)
 of referrals and authorization for care, claims processing, and payment. Only
"BLD",8717,1,38,0)
 modification to the Fee Basis (FB) and the Registration (DG) packages are
"BLD",8717,1,39,0)
 necessary to meet the requirements of this enhancement. The Integrated
"BLD",8717,1,40,0)
 Billing (IB) Patch is included to provide required data for the Fee Basis
"BLD",8717,1,41,0)
 install to reference.
"BLD",8717,1,42,0)
 
"BLD",8717,1,43,0)
 
"BLD",8717,1,44,0)
 The primary purpose of this enhancement is to allow the Electronic Filing of
"BLD",8717,1,45,0)
 Newborn claims.
"BLD",8717,1,46,0)
 
"BLD",8717,1,47,0)
 Functional Description
"BLD",8717,1,48,0)
 ------------------------------
"BLD",8717,1,49,0)
 The following features and functions have been added to the Fee Basis
"BLD",8717,1,50,0)
 workflow process applying to both Civil Hospital and Medical Fee:
"BLD",8717,1,51,0)
 
"BLD",8717,1,52,0)
  1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"BLD",8717,1,53,0)
 PATIENT file (#391). This new selection will be available on Registration
"BLD",8717,1,54,0)
 Screen <7>.
"BLD",8717,1,55,0)
 
"BLD",8717,1,56,0)
  2. A sponsor is required for all Newborns determined by having the DOB less
"BLD",8717,1,57,0)
 than one (1) year from the present date. An inconsistency check has been
"BLD",8717,1,58,0)
 added to check the presence of a sponsor. If an inconsistency is found the
"BLD",8717,1,59,0)
 inconsistency check will prompt the user to return to Screen <15> in
"BLD",8717,1,60,0)
 registration to enter a Sponsor.
"BLD",8717,1,61,0)
 
"BLD",8717,1,62,0)
  3. All Sponsors for Newborns must be listed as eligible for care. An
"BLD",8717,1,63,0)
 inconsistency check will check the status of the Sponsors Eligibility. The
"BLD",8717,1,64,0)
 check will trigger if the Sponsor has no Eligibility status.
"BLD",8717,1,65,0)
 
"BLD",8717,1,66,0)
 All other statuses (i.e. Pending Verification, Verified, and Pending
"BLD",8717,1,67,0)
 Re-verification) are acceptable.
"BLD",8717,1,68,0)
 
"BLD",8717,1,69,0)
  4. Fee Authorization dates associated with Newborns have checks in place to
"BLD",8717,1,70,0)
 not allow Authorization dates that fall outside the accepted range of Newborn
"BLD",8717,1,71,0)
 Authorization. The range is DOB to DOB+7. The system will warn the user and
"BLD",8717,1,72,0)
 not accept an Authorization date that falls outside the appropriate range
"BLD",8717,1,73,0)
 for a Newborn.
"BLD",8717,1,74,0)
 
"BLD",8717,1,75,0)
  5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"BLD",8717,1,76,0)
 Registration screens, Screen <15> will display the Newborn(s), with the
"BLD",8717,1,77,0)
 additional header of "Sponsored Newborn".
"BLD",8717,1,78,0)
 
"BLD",8717,1,79,0)
  6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"BLD",8717,1,80,0)
 the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"BLD",8717,1,81,0)
 
"BLD",8717,1,82,0)
  7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING
"BLD",8717,1,83,0)
 REGULATION file (#43.4). This new Admitting Regulation is available when
"BLD",8717,1,84,0)
 editing the 7078.
"BLD",8717,1,85,0)
 
"BLD",8717,1,86,0)
  8. The following default values were added when entering a Newborn with a
"BLD",8717,1,87,0)
 date of birth of less than one (1) year from present date. Defaults will only
"BLD",8717,1,88,0)
 be assigned when specified screens are accessed during the registration
"BLD",8717,1,89,0)
 process:
"BLD",8717,1,90,0)
 PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER MARRIED.
"BLD",8717,1,91,0)
 APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is defaulted to NOT
"BLD",8717,1,92,0)
 EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married Last Year field is
"BLD",8717,1,93,0)
 defaulted to NO.
"BLD",8717,1,94,0)
 
"BLD",8717,1,95,0)
 
"BLD",8717,1,96,0)
  Patch Components
"BLD",8717,1,97,0)
  ================
"BLD",8717,1,98,0)
 
"BLD",8717,1,99,0)
 
"BLD",8717,1,100,0)
  Files & Fields Associated:
"BLD",8717,1,101,0)
 
"BLD",8717,1,102,0)
 
"BLD",8717,1,103,0)
  File Name (#)                   Field Name (#)        New/Modified/Deleted
"BLD",8717,1,104,0)
  -------------                   --------------        -----------------
"BLD",8717,1,105,0)
  SPONSOR RELATIONSHIP (#355.81) FAMILY PREFIX (#.03)   Modified help text
"BLD",8717,1,106,0)
  ***File not included in the FILE LIST. Help text modified by post-install
"BLD",8717,1,107,0)
  routine ^IB499PO.
"BLD",8717,1,108,0)
 
"BLD",8717,1,109,0)
  Forms Associated:
"BLD",8717,1,110,0)
 
"BLD",8717,1,111,0)
  Form Name                File #                  New/Modified/Deleted
"BLD",8717,1,112,0)
  ---------                ------                  --------------------
"BLD",8717,1,113,0)
  N/A
"BLD",8717,1,114,0)
 
"BLD",8717,1,115,0)
  Mail Groups Associated:
"BLD",8717,1,116,0)
 
"BLD",8717,1,117,0)
  Mail Group Name                                  New/Modified/Deleted
"BLD",8717,1,118,0)
  ---------------                                  --------------------
"BLD",8717,1,119,0)
  N/A
"BLD",8717,1,120,0)
 
"BLD",8717,1,121,0)
  Options Associated:
"BLD",8717,1,122,0)
 
"BLD",8717,1,123,0)
  Option Name                    Type              New/Modified/Deleted
"BLD",8717,1,124,0)
  -----------                    ----              --------------------
"BLD",8717,1,125,0)
  N/A
"BLD",8717,1,126,0)
 
"BLD",8717,1,127,0)
  Protocols Associated:
"BLD",8717,1,128,0)
 
"BLD",8717,1,129,0)
  Protocol Name                                    New/Modified/Deleted
"BLD",8717,1,130,0)
  -------------                                    --------------------
"BLD",8717,1,131,0)
  N/A
"BLD",8717,1,132,0)
 
"BLD",8717,1,133,0)
  Security Keys Associated:
"BLD",8717,1,134,0)
 
"BLD",8717,1,135,0)
  Security Key Name
"BLD",8717,1,136,0)
  -----------------
"BLD",8717,1,137,0)
  N/A
"BLD",8717,1,138,0)
 
"BLD",8717,1,139,0)
  Templates Associated:
"BLD",8717,1,140,0)
 
"BLD",8717,1,141,0)
  Template Name       Type      File Name (#)     New/Modified/Deleted
"BLD",8717,1,142,0)
  -------------       ----      -------------     --------------------
"BLD",8717,1,143,0)
 
"BLD",8717,1,144,0)
 
"BLD",8717,1,145,0)
  Additional Information:
"BLD",8717,1,146,0)
 
"BLD",8717,1,147,0)
 
"BLD",8717,1,148,0)
  New Service Requests (NSRs):
"BLD",8717,1,149,0)
  -----------------------------
"BLD",8717,1,150,0)
  NSR 20100901
"BLD",8717,1,151,0)
 
"BLD",8717,1,152,0)
  Patient Safety Issues (PSIs):
"BLD",8717,1,153,0)
  ------------------------------
"BLD",8717,1,154,0)
  N/A
"BLD",8717,1,155,0)
 
"BLD",8717,1,156,0)
  Remedy Ticket(s) & Overviews:
"BLD",8717,1,157,0)
  -----------------------------
"BLD",8717,1,158,0)
  N/A
"BLD",8717,1,159,0)
 
"BLD",8717,1,160,0)
 
"BLD",8717,1,161,0)
  Test Sites:
"BLD",8717,1,162,0)
  -----------
"BLD",8717,1,163,0)
 
"BLD",8717,1,164,0)
  LEXINGTON
"BLD",8717,1,165,0)
  PUGET SOUND
"BLD",8717,1,166,0)
 
"BLD",8717,1,167,0)
 
"BLD",8717,1,168,0)
 Documentation Retrieval Instructions:
"BLD",8717,1,169,0)
 -------------------------------------
"BLD",8717,1,170,0)
 Updated documentation describing the new functionality introduced by this
"BLD",8717,1,171,0)
 patch is available.
"BLD",8717,1,172,0)
 
"BLD",8717,1,173,0)
 The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"BLD",8717,1,174,0)
 This transmits the files from the first available FTP server. Sites may also
"BLD",8717,1,175,0)
 elect to retrieve software directly from a specific server as follows:
"BLD",8717,1,176,0)
 
"BLD",8717,1,177,0)
   Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"BLD",8717,1,178,0)
   Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"BLD",8717,1,179,0)
   Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"BLD",8717,1,180,0)
 
"BLD",8717,1,181,0)
  The documentation will be in the form of Adobe Acrobat files.
"BLD",8717,1,182,0)
 
"BLD",8717,1,183,0)
  Documentation can also be found on the VA Software Documentation Library
"BLD",8717,1,184,0)
  at: http://www4.domain.ext/vdl/
"BLD",8717,1,185,0)
 
"BLD",8717,1,186,0)
  File Description                          File Name             FTP Mode
"BLD",8717,1,187,0)
  --------------------------------------------------------------------------
"BLD",8717,1,188,0)
  Fee Basis User Manual                     fb3_5um.pdf           Binary
"BLD",8717,1,189,0)
  PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"BLD",8717,1,190,0)
 
"BLD",8717,1,191,0)
 The procedure guide, Care for Newborn of Women Veterans, located at
"BLD",8717,1,192,0)
 http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp,
"BLD",8717,1,193,0)
 should be distributed to those personnel registering newborns and/or
"BLD",8717,1,194,0)
 processing newborn claims.
"BLD",8717,1,195,0)
 
"BLD",8717,1,196,0)
 
"BLD",8717,1,197,0)
 
"BLD",8717,1,198,0)
  Patch Installation:
"BLD",8717,1,199,0)
 
"BLD",8717,1,200,0)
 
"BLD",8717,1,201,0)
 Pre/Post Installation Overview
"BLD",8717,1,202,0)
 ------------------------------
"BLD",8717,1,203,0)
 There are three post installation routines associated with this patch
"BLD",8717,1,204,0)
 DG867PO, FB146PO, and IB499PO. These routines primarily serve as filters for
"BLD",8717,1,205,0)
 the data transmitted to the appropriate files listed above, so that only the
"BLD",8717,1,206,0)
 intended data is delivered. The only exception is the IB499PO routine which
"BLD",8717,1,207,0)
 programmatically makes an addition to the help text of the FAMILY PREFIX
"BLD",8717,1,208,0)
 field(#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post
"BLD",8717,1,209,0)
 installation routines may be deleted after successful installation of the
"BLD",8717,1,210,0)
 NEWBORN DG FB IB BUNDLE 1.0.
"BLD",8717,1,211,0)
 
"BLD",8717,1,212,0)
 Installation Instructions
"BLD",8717,1,213,0)
 -------------------------
"BLD",8717,1,214,0)
 This patch may be installed with users on the system although it is
"BLD",8717,1,215,0)
 recommended that it be installed during non-peak hours to minimize potential
"BLD",8717,1,216,0)
 disruption to users. This patch should take less than 5 minutes to install.
"BLD",8717,1,217,0)
 
"BLD",8717,1,218,0)
 FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"BLD",8717,1,219,0)
 
"BLD",8717,1,220,0)
 DG*5.3*867 is one of three patches for this release (including FB*3.5*146 and
"BLD",8717,1,221,0)
 IB*2.0*499). The patches will be installed as a bundle in the following order:
"BLD",8717,1,222,0)
 
"BLD",8717,1,223,0)
 
"BLD",8717,1,224,0)
 1) DG*5.3*867
"BLD",8717,1,225,0)
 2) FB*3.5*146
"BLD",8717,1,226,0)
 3) IB*2.0*499
"BLD",8717,1,227,0)
 
"BLD",8717,1,228,0)
 
"BLD",8717,1,229,0)
  Pre-Installation Instructions
"BLD",8717,1,230,0)
  -----------------------------
"BLD",8717,1,231,0)
  1.  OBTAIN PATCHES
"BLD",8717,1,232,0)
      --------------
"BLD",8717,1,233,0)
 Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"BLD",8717,1,234,0)
 patches:
"BLD",8717,1,235,0)
 
"BLD",8717,1,236,0)
  DG*5.3*867
"BLD",8717,1,237,0)
  FB*3.5*146
"BLD",8717,1,238,0)
  IB*2.0*499
"BLD",8717,1,239,0)
 
"BLD",8717,1,240,0)
 Sites can retrieve VistA software from the following FTP addresses.  The
"BLD",8717,1,241,0)
 preferred method is to FTP the files from:
"BLD",8717,1,242,0)
 
"BLD",8717,1,243,0)
                      download.vista.domain.ext
"BLD",8717,1,244,0)
 
"BLD",8717,1,245,0)
 This will transmit the files from the first available FTP server. Sites may
"BLD",8717,1,246,0)
 also elect to retrieve software directly from a specific server as follows:
"BLD",8717,1,247,0)
 
"BLD",8717,1,248,0)
         Albany                  DOMAIN.EXT
"BLD",8717,1,249,0)
         Hines                   DOMAIN.EXT
"BLD",8717,1,250,0)
         Salt Lake City          DOMAIN.EXT
"BLD",8717,1,251,0)
 
"BLD",8717,1,252,0)
 The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"BLD",8717,1,253,0)
 directory. Use ASCII Mode when downloading the file.
"BLD",8717,1,254,0)
 
"BLD",8717,1,255,0)
  2.  START UP KIDS
"BLD",8717,1,256,0)
      -------------
"BLD",8717,1,257,0)
      Start up the Kernel Installation and Distribution System Menu option
"BLD",8717,1,258,0)
      [XPD MAIN]:
"BLD",8717,1,259,0)
 
"BLD",8717,1,260,0)
           Edits and Distribution ...
"BLD",8717,1,261,0)
           Utilities ...
"BLD",8717,1,262,0)
           Installation ...
"BLD",8717,1,263,0)
 
"BLD",8717,1,264,0)
      Select Kernel Installation & Distribution System Option: Installation
"BLD",8717,1,265,0)
                                                               ---
"BLD",8717,1,266,0)
           Load a Distribution
"BLD",8717,1,267,0)
           Print Transport Global
"BLD",8717,1,268,0)
           Compare Transport Global to Current System
"BLD",8717,1,269,0)
           Verify Checksums in Transport Global
"BLD",8717,1,270,0)
           Install Package(s)
"BLD",8717,1,271,0)
           Restart Install of Package(s)
"BLD",8717,1,272,0)
           Unload a Distribution
"BLD",8717,1,273,0)
           Backup a Transport Global
"BLD",8717,1,274,0)
 
"BLD",8717,1,275,0)
      Select Installation Option:
"BLD",8717,1,276,0)
 
"BLD",8717,1,277,0)
  3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"BLD",8717,1,278,0)
      -------------------------------------
"BLD",8717,1,279,0)
      From the Installation menu, select the Load a Distribution option.
"BLD",8717,1,280,0)
 
"BLD",8717,1,281,0)
      When prompted for "Enter a Host File:" Enter the full directory path
"BLD",8717,1,282,0)
      where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"BLD",8717,1,283,0)
      (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"BLD",8717,1,284,0)
 
"BLD",8717,1,285,0)
  When prompted for "OK to continue with Load? NO//", Enter "YES."
"BLD",8717,1,286,0)
 
"BLD",8717,1,287,0)
      The following will display:
"BLD",8717,1,288,0)
 
"BLD",8717,1,289,0)
        Loading Distribution...
"BLD",8717,1,290,0)
 
"BLD",8717,1,291,0)
     NEWBORN DG FB IB BUNDLE 1.0
"BLD",8717,1,292,0)
     DG*5.3*867
"BLD",8717,1,293,0)
     FB*3.5*146
"BLD",8717,1,294,0)
     IB*2.0*499
"BLD",8717,1,295,0)
     Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this
"BLD",8717,1,296,0)
     distribution.
"BLD",8717,1,297,0)
 
"BLD",8717,1,298,0)
  4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"BLD",8717,1,299,0)
      -------------------------------------------------
"BLD",8717,1,300,0)
      From the Installation menu, you may select to use the following options
"BLD",8717,1,301,0)
     (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0
"BLD",8717,1,302,0)
 
"BLD",8717,1,303,0)
      a.  Backup a Transport Global - This option will create a backup
"BLD",8717,1,304,0)
          message of any routines exported with this patch. It will not
"BLD",8717,1,305,0)
          backup any other changes such as data dictionaries or templates.
"BLD",8717,1,306,0)
      b.  Compare Transport Global to Current System - This option will
"BLD",8717,1,307,0)
          allow you to view all changes that will be made when this patch
"BLD",8717,1,308,0)
          is installed.  It compares all components of this patch
"BLD",8717,1,309,0)
          (routines, data dictionaries, templates, etc.).
"BLD",8717,1,310,0)
      c.  Verify Checksums in Transport Global - This option will allow
"BLD",8717,1,311,0)
          you to ensure the integrity of the routines that are in the
"BLD",8717,1,312,0)
          transport global.
"BLD",8717,1,313,0)
 
"BLD",8717,1,314,0)
  5.  INSTALL MULTI-BUILD
"BLD",8717,1,315,0)
      -------------------
"BLD",8717,1,316,0)
      This is the step to start the installation of this KIDS patch. This will
"BLD",8717,1,317,0)
      need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"BLD",8717,1,318,0)
 
"BLD",8717,1,319,0)
     a.  Choose the Install Package(s) option to start the patch
"BLD",8717,1,320,0)
          install.
"BLD",8717,1,321,0)
     b.  When prompted for the "Select INSTALL NAME:" enter
"BLD",8717,1,322,0)
           NEWBORN DG FB IB BUNDLE 1.0
"BLD",8717,1,323,0)
     c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"BLD",8717,1,324,0)
          NO//", answer NO
"BLD",8717,1,325,0)
     d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"BLD",8717,1,326,0)
          and Protocols? NO//", answer NO
"BLD",8717,1,327,0)
     e.  When prompted "Device: HOME//", enter HOME
"BLD",8717,1,328,0)
          to display the Install message on the screen (or enter the device
"BLD",8717,1,329,0)
          you want to print the Install message). You may queue the
"BLD",8717,1,330,0)
          install if you wish.
"BLD",8717,1,331,0)
 
"BLD",8717,1,332,0)
 
"BLD",8717,1,333,0)
 Post-Installation Instructions
"BLD",8717,1,334,0)
 ------------------------------
"BLD",8717,1,335,0)
 
"BLD",8717,1,336,0)
 *** IMPORTANT NOTE ***
"BLD",8717,1,337,0)
 Please note there are three post installation routines that may be deleted
"BLD",8717,1,338,0)
 after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"BLD",8717,1,339,0)
 
"BLD",8717,1,340,0)
 DG867PO
"BLD",8717,1,341,0)
 FB146PO
"BLD",8717,1,342,0)
 IB499PO
"BLD",8717,4,0)
^9.64PA^^
"BLD",8717,6.3)
44
"BLD",8717,"ABPKG")
n
"BLD",8717,"INI")

"BLD",8717,"INID")
^n^n
"BLD",8717,"INIT")
NB^IB499PO
"BLD",8717,"KRN",0)
^9.67PA^779.2^20
"BLD",8717,"KRN",.4,0)
.4
"BLD",8717,"KRN",.401,0)
.401
"BLD",8717,"KRN",.402,0)
.402
"BLD",8717,"KRN",.403,0)
.403
"BLD",8717,"KRN",.5,0)
.5
"BLD",8717,"KRN",.84,0)
.84
"BLD",8717,"KRN",3.6,0)
3.6
"BLD",8717,"KRN",3.8,0)
3.8
"BLD",8717,"KRN",9.2,0)
9.2
"BLD",8717,"KRN",9.8,0)
9.8
"BLD",8717,"KRN",9.8,"NM",0)
^9.68A^^
"BLD",8717,"KRN",19,0)
19
"BLD",8717,"KRN",19.1,0)
19.1
"BLD",8717,"KRN",101,0)
101
"BLD",8717,"KRN",409.61,0)
409.61
"BLD",8717,"KRN",771,0)
771
"BLD",8717,"KRN",779.2,0)
779.2
"BLD",8717,"KRN",870,0)
870
"BLD",8717,"KRN",8989.51,0)
8989.51
"BLD",8717,"KRN",8989.52,0)
8989.52
"BLD",8717,"KRN",8994,0)
8994
"BLD",8717,"KRN","B",.4,.4)

"BLD",8717,"KRN","B",.401,.401)

"BLD",8717,"KRN","B",.402,.402)

"BLD",8717,"KRN","B",.403,.403)

"BLD",8717,"KRN","B",.5,.5)

"BLD",8717,"KRN","B",.84,.84)

"BLD",8717,"KRN","B",3.6,3.6)

"BLD",8717,"KRN","B",3.8,3.8)

"BLD",8717,"KRN","B",9.2,9.2)

"BLD",8717,"KRN","B",9.8,9.8)

"BLD",8717,"KRN","B",19,19)

"BLD",8717,"KRN","B",19.1,19.1)

"BLD",8717,"KRN","B",101,101)

"BLD",8717,"KRN","B",409.61,409.61)

"BLD",8717,"KRN","B",771,771)

"BLD",8717,"KRN","B",779.2,779.2)

"BLD",8717,"KRN","B",870,870)

"BLD",8717,"KRN","B",8989.51,8989.51)

"BLD",8717,"KRN","B",8989.52,8989.52)

"BLD",8717,"KRN","B",8994,8994)

"BLD",8717,"PRET")

"BLD",8717,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8717,"QUES",0)
^9.62^^
"BLD",8717,"REQB",0)
^9.611^1^1
"BLD",8717,"REQB",1,0)
FB*3.5*146^2
"BLD",8717,"REQB","B","FB*3.5*146",1)

"INIT")
NB^IB499PO
"MBREQ")
1
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
499^3131108^101097
"PKG",200,22,1,"PAH",1,1,0)
^^342^342^3131108
"PKG",200,22,1,"PAH",1,1,1,0)
                               ***NOTICE***
"PKG",200,22,1,"PAH",1,1,2,0)
 Users should be made aware that processing of Newborn claims must ONLY be
"PKG",200,22,1,"PAH",1,1,3,0)
 entered in VistA. No entry in FBCS should be performed.
"PKG",200,22,1,"PAH",1,1,4,0)
                               ***********
"PKG",200,22,1,"PAH",1,1,5,0)
 This patch, along with DG*5.3*867 and FB*3.5*146, is being released as a
"PKG",200,22,1,"PAH",1,1,6,0)
 bundle, and all three will be automatically installed in the correct order.
"PKG",200,22,1,"PAH",1,1,7,0)
 
"PKG",200,22,1,"PAH",1,1,8,0)
 This patch has enhancements that extend the capabilities of the Veterans
"PKG",200,22,1,"PAH",1,1,9,0)
 Health Information Systems and Technology Architecture (VistA) Patient
"PKG",200,22,1,"PAH",1,1,10,0)
 Registration system (DG), Fee Basis System (FB), and Integrated Billing
"PKG",200,22,1,"PAH",1,1,11,0)
 (IB).
"PKG",200,22,1,"PAH",1,1,12,0)
 
"PKG",200,22,1,"PAH",1,1,13,0)
 Below is a list of all the applications involved in this project along with
"PKG",200,22,1,"PAH",1,1,14,0)
 their patch number:
"PKG",200,22,1,"PAH",1,1,15,0)
 
"PKG",200,22,1,"PAH",1,1,16,0)
     APPLICATION/VERSION                                   PATCH
"PKG",200,22,1,"PAH",1,1,17,0)
     ---------------------------------------------------------------
"PKG",200,22,1,"PAH",1,1,18,0)
  PATIENT REGISTRATION (DG) V 5.3                       DG*5.3*867
"PKG",200,22,1,"PAH",1,1,19,0)
  FEE BASIS (FB) V 3.5                                  FB*3.5*146
"PKG",200,22,1,"PAH",1,1,20,0)
  INTEGRATED BILLING (IB) 2.0                           IB*2.0*499
"PKG",200,22,1,"PAH",1,1,21,0)
 
"PKG",200,22,1,"PAH",1,1,22,0)
 The patches (DG*5.3*867, FB*3.5*146, and IB*2.0*499) are being released in
"PKG",200,22,1,"PAH",1,1,23,0)
 the Kernel Installation and Distribution System (KIDS) multi-build
"PKG",200,22,1,"PAH",1,1,24,0)
 distribution NEWBORN DG FB IB BUNDLE 1.0.
"PKG",200,22,1,"PAH",1,1,25,0)
 
"PKG",200,22,1,"PAH",1,1,26,0)
 The purpose of the Caregivers: Newborn Claims Processing Enhancement Project
"PKG",200,22,1,"PAH",1,1,27,0)
 is to enhance VistA Fee Basis application in support of compliance with
"PKG",200,22,1,"PAH",1,1,28,0)
 Public Law 111-163, the Caregiver and Veterans Omnibus Health Services Act
"PKG",200,22,1,"PAH",1,1,29,0)
 of 2010. This law makes changes to sections of Title 38, United States Code
"PKG",200,22,1,"PAH",1,1,30,0)
 to furnish health care services to a newborn child of a Woman Veteran who
"PKG",200,22,1,"PAH",1,1,31,0)
 is receiving maternity care furnished by the Department of Veterans Affairs
"PKG",200,22,1,"PAH",1,1,32,0)
 (VA) for not more than seven days after the birth of the child.
"PKG",200,22,1,"PAH",1,1,33,0)
 
"PKG",200,22,1,"PAH",1,1,34,0)
 The scope of these enhancements is to capture information on healthcare
"PKG",200,22,1,"PAH",1,1,35,0)
 services provided to newborn children of Women Veterans. Affected functions
"PKG",200,22,1,"PAH",1,1,36,0)
 include eligibility determination, enrollment and registration, documentation
"PKG",200,22,1,"PAH",1,1,37,0)
 of referrals and authorization for care, claims processing, and payment. Only
"PKG",200,22,1,"PAH",1,1,38,0)
 modification to the Fee Basis (FB) and the Registration (DG) packages are
"PKG",200,22,1,"PAH",1,1,39,0)
 necessary to meet the requirements of this enhancement. The Integrated
"PKG",200,22,1,"PAH",1,1,40,0)
 Billing (IB) Patch is included to provide required data for the Fee Basis
"PKG",200,22,1,"PAH",1,1,41,0)
 install to reference.
"PKG",200,22,1,"PAH",1,1,42,0)
 
"PKG",200,22,1,"PAH",1,1,43,0)
 
"PKG",200,22,1,"PAH",1,1,44,0)
 The primary purpose of this enhancement is to allow the Electronic Filing of
"PKG",200,22,1,"PAH",1,1,45,0)
 Newborn claims.
"PKG",200,22,1,"PAH",1,1,46,0)
 
"PKG",200,22,1,"PAH",1,1,47,0)
 Functional Description
"PKG",200,22,1,"PAH",1,1,48,0)
 ------------------------------
"PKG",200,22,1,"PAH",1,1,49,0)
 The following features and functions have been added to the Fee Basis
"PKG",200,22,1,"PAH",1,1,50,0)
 workflow process applying to both Civil Hospital and Medical Fee:
"PKG",200,22,1,"PAH",1,1,51,0)
 
"PKG",200,22,1,"PAH",1,1,52,0)
  1. A new Patient Type of NEWBORN OF VETERAN has been added to the TYPE OF
"PKG",200,22,1,"PAH",1,1,53,0)
 PATIENT file (#391). This new selection will be available on Registration
"PKG",200,22,1,"PAH",1,1,54,0)
 Screen <7>.
"PKG",200,22,1,"PAH",1,1,55,0)
 
"PKG",200,22,1,"PAH",1,1,56,0)
  2. A sponsor is required for all Newborns determined by having the DOB less
"PKG",200,22,1,"PAH",1,1,57,0)
 than one (1) year from the present date. An inconsistency check has been
"PKG",200,22,1,"PAH",1,1,58,0)
 added to check the presence of a sponsor. If an inconsistency is found the
"PKG",200,22,1,"PAH",1,1,59,0)
 inconsistency check will prompt the user to return to Screen <15> in
"PKG",200,22,1,"PAH",1,1,60,0)
 registration to enter a Sponsor.
"PKG",200,22,1,"PAH",1,1,61,0)
 
"PKG",200,22,1,"PAH",1,1,62,0)
  3. All Sponsors for Newborns must be listed as eligible for care. An
"PKG",200,22,1,"PAH",1,1,63,0)
 inconsistency check will check the status of the Sponsors Eligibility. The
"PKG",200,22,1,"PAH",1,1,64,0)
 check will trigger if the Sponsor has no Eligibility status.
"PKG",200,22,1,"PAH",1,1,65,0)
 
"PKG",200,22,1,"PAH",1,1,66,0)
 All other statuses (i.e. Pending Verification, Verified, and Pending
"PKG",200,22,1,"PAH",1,1,67,0)
 Re-verification) are acceptable.
"PKG",200,22,1,"PAH",1,1,68,0)
 
"PKG",200,22,1,"PAH",1,1,69,0)
  4. Fee Authorization dates associated with Newborns have checks in place to
"PKG",200,22,1,"PAH",1,1,70,0)
 not allow Authorization dates that fall outside the accepted range of Newborn
"PKG",200,22,1,"PAH",1,1,71,0)
 Authorization. The range is DOB to DOB+7. The system will warn the user and
"PKG",200,22,1,"PAH",1,1,72,0)
 not accept an Authorization date that falls outside the appropriate range
"PKG",200,22,1,"PAH",1,1,73,0)
 for a Newborn.
"PKG",200,22,1,"PAH",1,1,74,0)
 
"PKG",200,22,1,"PAH",1,1,75,0)
  5. When a Veteran Mother of a Sponsored Newborn is reviewed in the
"PKG",200,22,1,"PAH",1,1,76,0)
 Registration screens, Screen <15> will display the Newborn(s), with the
"PKG",200,22,1,"PAH",1,1,77,0)
 additional header of "Sponsored Newborn".
"PKG",200,22,1,"PAH",1,1,78,0)
 
"PKG",200,22,1,"PAH",1,1,79,0)
  6. The FAMILY PREFIX "NB Newborn of Vet" has been added to the Help text in
"PKG",200,22,1,"PAH",1,1,80,0)
 the FAMILY PREFIX field (#.03) in the SPONSOR RELATIONSHIP file (#355.81)
"PKG",200,22,1,"PAH",1,1,81,0)
 
"PKG",200,22,1,"PAH",1,1,82,0)
  7. "NON-VA FOR FEMALE VET+NEWBORN 17.38" was added to the VA ADMITTING
"PKG",200,22,1,"PAH",1,1,83,0)
 REGULATION file (#43.4). This new Admitting Regulation is available when
"PKG",200,22,1,"PAH",1,1,84,0)
 editing the 7078.
"PKG",200,22,1,"PAH",1,1,85,0)
 
"PKG",200,22,1,"PAH",1,1,86,0)
  8. The following default values were added when entering a Newborn with a
"PKG",200,22,1,"PAH",1,1,87,0)
 date of birth of less than one (1) year from present date. Defaults will only
"PKG",200,22,1,"PAH",1,1,88,0)
 be assigned when specified screens are accessed during the registration
"PKG",200,22,1,"PAH",1,1,89,0)
 process:
"PKG",200,22,1,"PAH",1,1,90,0)
 PATIENT DATA, SCREEN <2> Marital field is defaulted to NEVER MARRIED.
"PKG",200,22,1,"PAH",1,1,91,0)
 APPLICANT/SPOUSE EMPLOYMENT DATA, SCREEN <4> Status field is defaulted to NOT
"PKG",200,22,1,"PAH",1,1,92,0)
 EMPLOYED. FAMILY DEMOGRAPHIC DATA, SCREEN <8> Married Last Year field is
"PKG",200,22,1,"PAH",1,1,93,0)
 defaulted to NO.
"PKG",200,22,1,"PAH",1,1,94,0)
 
"PKG",200,22,1,"PAH",1,1,95,0)
 
"PKG",200,22,1,"PAH",1,1,96,0)
  Patch Components
"PKG",200,22,1,"PAH",1,1,97,0)
  ================
"PKG",200,22,1,"PAH",1,1,98,0)
 
"PKG",200,22,1,"PAH",1,1,99,0)
 
"PKG",200,22,1,"PAH",1,1,100,0)
  Files & Fields Associated:
"PKG",200,22,1,"PAH",1,1,101,0)
 
"PKG",200,22,1,"PAH",1,1,102,0)
 
"PKG",200,22,1,"PAH",1,1,103,0)
  File Name (#)                   Field Name (#)        New/Modified/Deleted
"PKG",200,22,1,"PAH",1,1,104,0)
  -------------                   --------------        -----------------
"PKG",200,22,1,"PAH",1,1,105,0)
  SPONSOR RELATIONSHIP (#355.81) FAMILY PREFIX (#.03)   Modified help text
"PKG",200,22,1,"PAH",1,1,106,0)
  ***File not included in the FILE LIST. Help text modified by post-install
"PKG",200,22,1,"PAH",1,1,107,0)
  routine ^IB499PO.
"PKG",200,22,1,"PAH",1,1,108,0)
 
"PKG",200,22,1,"PAH",1,1,109,0)
  Forms Associated:
"PKG",200,22,1,"PAH",1,1,110,0)
 
"PKG",200,22,1,"PAH",1,1,111,0)
  Form Name                File #                  New/Modified/Deleted
"PKG",200,22,1,"PAH",1,1,112,0)
  ---------                ------                  --------------------
"PKG",200,22,1,"PAH",1,1,113,0)
  N/A
"PKG",200,22,1,"PAH",1,1,114,0)
 
"PKG",200,22,1,"PAH",1,1,115,0)
  Mail Groups Associated:
"PKG",200,22,1,"PAH",1,1,116,0)
 
"PKG",200,22,1,"PAH",1,1,117,0)
  Mail Group Name                                  New/Modified/Deleted
"PKG",200,22,1,"PAH",1,1,118,0)
  ---------------                                  --------------------
"PKG",200,22,1,"PAH",1,1,119,0)
  N/A
"PKG",200,22,1,"PAH",1,1,120,0)
 
"PKG",200,22,1,"PAH",1,1,121,0)
  Options Associated:
"PKG",200,22,1,"PAH",1,1,122,0)
 
"PKG",200,22,1,"PAH",1,1,123,0)
  Option Name                    Type              New/Modified/Deleted
"PKG",200,22,1,"PAH",1,1,124,0)
  -----------                    ----              --------------------
"PKG",200,22,1,"PAH",1,1,125,0)
  N/A
"PKG",200,22,1,"PAH",1,1,126,0)
 
"PKG",200,22,1,"PAH",1,1,127,0)
  Protocols Associated:
"PKG",200,22,1,"PAH",1,1,128,0)
 
"PKG",200,22,1,"PAH",1,1,129,0)
  Protocol Name                                    New/Modified/Deleted
"PKG",200,22,1,"PAH",1,1,130,0)
  -------------                                    --------------------
"PKG",200,22,1,"PAH",1,1,131,0)
  N/A
"PKG",200,22,1,"PAH",1,1,132,0)
 
"PKG",200,22,1,"PAH",1,1,133,0)
  Security Keys Associated:
"PKG",200,22,1,"PAH",1,1,134,0)
 
"PKG",200,22,1,"PAH",1,1,135,0)
  Security Key Name
"PKG",200,22,1,"PAH",1,1,136,0)
  -----------------
"PKG",200,22,1,"PAH",1,1,137,0)
  N/A
"PKG",200,22,1,"PAH",1,1,138,0)
 
"PKG",200,22,1,"PAH",1,1,139,0)
  Templates Associated:
"PKG",200,22,1,"PAH",1,1,140,0)
 
"PKG",200,22,1,"PAH",1,1,141,0)
  Template Name       Type      File Name (#)     New/Modified/Deleted
"PKG",200,22,1,"PAH",1,1,142,0)
  -------------       ----      -------------     --------------------
"PKG",200,22,1,"PAH",1,1,143,0)
 
"PKG",200,22,1,"PAH",1,1,144,0)
 
"PKG",200,22,1,"PAH",1,1,145,0)
  Additional Information:
"PKG",200,22,1,"PAH",1,1,146,0)
 
"PKG",200,22,1,"PAH",1,1,147,0)
 
"PKG",200,22,1,"PAH",1,1,148,0)
  New Service Requests (NSRs):
"PKG",200,22,1,"PAH",1,1,149,0)
  -----------------------------
"PKG",200,22,1,"PAH",1,1,150,0)
  NSR 20100901
"PKG",200,22,1,"PAH",1,1,151,0)
 
"PKG",200,22,1,"PAH",1,1,152,0)
  Patient Safety Issues (PSIs):
"PKG",200,22,1,"PAH",1,1,153,0)
  ------------------------------
"PKG",200,22,1,"PAH",1,1,154,0)
  N/A
"PKG",200,22,1,"PAH",1,1,155,0)
 
"PKG",200,22,1,"PAH",1,1,156,0)
  Remedy Ticket(s) & Overviews:
"PKG",200,22,1,"PAH",1,1,157,0)
  -----------------------------
"PKG",200,22,1,"PAH",1,1,158,0)
  N/A
"PKG",200,22,1,"PAH",1,1,159,0)
 
"PKG",200,22,1,"PAH",1,1,160,0)
 
"PKG",200,22,1,"PAH",1,1,161,0)
  Test Sites:
"PKG",200,22,1,"PAH",1,1,162,0)
  -----------
"PKG",200,22,1,"PAH",1,1,163,0)
 
"PKG",200,22,1,"PAH",1,1,164,0)
  LEXINGTON
"PKG",200,22,1,"PAH",1,1,165,0)
  PUGET SOUND
"PKG",200,22,1,"PAH",1,1,166,0)
 
"PKG",200,22,1,"PAH",1,1,167,0)
 
"PKG",200,22,1,"PAH",1,1,168,0)
 Documentation Retrieval Instructions:
"PKG",200,22,1,"PAH",1,1,169,0)
 -------------------------------------
"PKG",200,22,1,"PAH",1,1,170,0)
 Updated documentation describing the new functionality introduced by this
"PKG",200,22,1,"PAH",1,1,171,0)
 patch is available.
"PKG",200,22,1,"PAH",1,1,172,0)
 
"PKG",200,22,1,"PAH",1,1,173,0)
 The preferred method is to FTP the files from ftp://download.vista.domain.ext/
"PKG",200,22,1,"PAH",1,1,174,0)
 This transmits the files from the first available FTP server. Sites may also
"PKG",200,22,1,"PAH",1,1,175,0)
 elect to retrieve software directly from a specific server as follows:
"PKG",200,22,1,"PAH",1,1,176,0)
 
"PKG",200,22,1,"PAH",1,1,177,0)
   Albany         DOMAIN.EXT  <ftp://DOMAIN.EXT>
"PKG",200,22,1,"PAH",1,1,178,0)
   Hines          DOMAIN.EXT   <ftp://DOMAIN.EXT>
"PKG",200,22,1,"PAH",1,1,179,0)
   Salt Lake City DOMAIN.EXT     <ftp://DOMAIN.EXT>
"PKG",200,22,1,"PAH",1,1,180,0)
 
"PKG",200,22,1,"PAH",1,1,181,0)
  The documentation will be in the form of Adobe Acrobat files.
"PKG",200,22,1,"PAH",1,1,182,0)
 
"PKG",200,22,1,"PAH",1,1,183,0)
  Documentation can also be found on the VA Software Documentation Library
"PKG",200,22,1,"PAH",1,1,184,0)
  at: http://www4.domain.ext/vdl/
"PKG",200,22,1,"PAH",1,1,185,0)
 
"PKG",200,22,1,"PAH",1,1,186,0)
  File Description                          File Name             FTP Mode
"PKG",200,22,1,"PAH",1,1,187,0)
  --------------------------------------------------------------------------
"PKG",200,22,1,"PAH",1,1,188,0)
  Fee Basis User Manual                     fb3_5um.pdf           Binary
"PKG",200,22,1,"PAH",1,1,189,0)
  PIMS v5.3 ADT User Manual Registration    dg_5_3_reg_um.pdf     Binary
"PKG",200,22,1,"PAH",1,1,190,0)
 
"PKG",200,22,1,"PAH",1,1,191,0)
 The procedure guide, Care for Newborn of Women Veterans, located at
"PKG",200,22,1,"PAH",1,1,192,0)
 http://nonvacare.hac.domain.ext/policy-programs/procedure-guides.asp,
"PKG",200,22,1,"PAH",1,1,193,0)
 should be distributed to those personnel registering newborns and/or
"PKG",200,22,1,"PAH",1,1,194,0)
 processing newborn claims.
"PKG",200,22,1,"PAH",1,1,195,0)
 
"PKG",200,22,1,"PAH",1,1,196,0)
 
"PKG",200,22,1,"PAH",1,1,197,0)
 
"PKG",200,22,1,"PAH",1,1,198,0)
  Patch Installation:
"PKG",200,22,1,"PAH",1,1,199,0)
 
"PKG",200,22,1,"PAH",1,1,200,0)
 
"PKG",200,22,1,"PAH",1,1,201,0)
 Pre/Post Installation Overview
"PKG",200,22,1,"PAH",1,1,202,0)
 ------------------------------
"PKG",200,22,1,"PAH",1,1,203,0)
 There are three post installation routines associated with this patch
"PKG",200,22,1,"PAH",1,1,204,0)
 DG867PO, FB146PO, and IB499PO. These routines primarily serve as filters for
"PKG",200,22,1,"PAH",1,1,205,0)
 the data transmitted to the appropriate files listed above, so that only the
"PKG",200,22,1,"PAH",1,1,206,0)
 intended data is delivered. The only exception is the IB499PO routine which
"PKG",200,22,1,"PAH",1,1,207,0)
 programmatically makes an addition to the help text of the FAMILY PREFIX
"PKG",200,22,1,"PAH",1,1,208,0)
 field(#.03) in the SPONSOR RELATIONSHIP file (#355.81). These post
"PKG",200,22,1,"PAH",1,1,209,0)
 installation routines may be deleted after successful installation of the
"PKG",200,22,1,"PAH",1,1,210,0)
 NEWBORN DG FB IB BUNDLE 1.0.
"PKG",200,22,1,"PAH",1,1,211,0)
 
"PKG",200,22,1,"PAH",1,1,212,0)
 Installation Instructions
"PKG",200,22,1,"PAH",1,1,213,0)
 -------------------------
"PKG",200,22,1,"PAH",1,1,214,0)
 This patch may be installed with users on the system although it is
"PKG",200,22,1,"PAH",1,1,215,0)
 recommended that it be installed during non-peak hours to minimize potential
"PKG",200,22,1,"PAH",1,1,216,0)
 disruption to users. This patch should take less than 5 minutes to install.
"PKG",200,22,1,"PAH",1,1,217,0)
 
"PKG",200,22,1,"PAH",1,1,218,0)
 FB*3.5*147 is a required patch and must be installed before DG*5.3*867.
"PKG",200,22,1,"PAH",1,1,219,0)
 
"PKG",200,22,1,"PAH",1,1,220,0)
 DG*5.3*867 is one of three patches for this release (including FB*3.5*146 and
"PKG",200,22,1,"PAH",1,1,221,0)
 IB*2.0*499). The patches will be installed as a bundle in the following order:
"PKG",200,22,1,"PAH",1,1,222,0)
 
"PKG",200,22,1,"PAH",1,1,223,0)
 
"PKG",200,22,1,"PAH",1,1,224,0)
 1) DG*5.3*867
"PKG",200,22,1,"PAH",1,1,225,0)
 2) FB*3.5*146
"PKG",200,22,1,"PAH",1,1,226,0)
 3) IB*2.0*499
"PKG",200,22,1,"PAH",1,1,227,0)
 
"PKG",200,22,1,"PAH",1,1,228,0)
 
"PKG",200,22,1,"PAH",1,1,229,0)
  Pre-Installation Instructions
"PKG",200,22,1,"PAH",1,1,230,0)
  -----------------------------
"PKG",200,22,1,"PAH",1,1,231,0)
  1.  OBTAIN PATCHES
"PKG",200,22,1,"PAH",1,1,232,0)
      --------------
"PKG",200,22,1,"PAH",1,1,233,0)
 Obtain the host file NEWBORN_1_2_DG_FB_IB.KID which contains the following
"PKG",200,22,1,"PAH",1,1,234,0)
 patches:
"PKG",200,22,1,"PAH",1,1,235,0)
 
"PKG",200,22,1,"PAH",1,1,236,0)
  DG*5.3*867
"PKG",200,22,1,"PAH",1,1,237,0)
  FB*3.5*146
"PKG",200,22,1,"PAH",1,1,238,0)
  IB*2.0*499
"PKG",200,22,1,"PAH",1,1,239,0)
 
"PKG",200,22,1,"PAH",1,1,240,0)
 Sites can retrieve VistA software from the following FTP addresses.  The
"PKG",200,22,1,"PAH",1,1,241,0)
 preferred method is to FTP the files from:
"PKG",200,22,1,"PAH",1,1,242,0)
 
"PKG",200,22,1,"PAH",1,1,243,0)
                      download.vista.domain.ext
"PKG",200,22,1,"PAH",1,1,244,0)
 
"PKG",200,22,1,"PAH",1,1,245,0)
 This will transmit the files from the first available FTP server. Sites may
"PKG",200,22,1,"PAH",1,1,246,0)
 also elect to retrieve software directly from a specific server as follows:
"PKG",200,22,1,"PAH",1,1,247,0)
 
"PKG",200,22,1,"PAH",1,1,248,0)
         Albany                  DOMAIN.EXT
"PKG",200,22,1,"PAH",1,1,249,0)
         Hines                   DOMAIN.EXT
"PKG",200,22,1,"PAH",1,1,250,0)
         Salt Lake City          DOMAIN.EXT
"PKG",200,22,1,"PAH",1,1,251,0)
 
"PKG",200,22,1,"PAH",1,1,252,0)
 The NEWBORN_1_2_DG_FB_IB.KID host file is located in the anonymous.software
"PKG",200,22,1,"PAH",1,1,253,0)
 directory. Use ASCII Mode when downloading the file.
"PKG",200,22,1,"PAH",1,1,254,0)
 
"PKG",200,22,1,"PAH",1,1,255,0)
  2.  START UP KIDS
"PKG",200,22,1,"PAH",1,1,256,0)
      -------------
"PKG",200,22,1,"PAH",1,1,257,0)
      Start up the Kernel Installation and Distribution System Menu option
"PKG",200,22,1,"PAH",1,1,258,0)
      [XPD MAIN]:
"PKG",200,22,1,"PAH",1,1,259,0)
 
"PKG",200,22,1,"PAH",1,1,260,0)
           Edits and Distribution ...
"PKG",200,22,1,"PAH",1,1,261,0)
           Utilities ...
"PKG",200,22,1,"PAH",1,1,262,0)
           Installation ...
"PKG",200,22,1,"PAH",1,1,263,0)
 
"PKG",200,22,1,"PAH",1,1,264,0)
      Select Kernel Installation & Distribution System Option: Installation
"PKG",200,22,1,"PAH",1,1,265,0)
                                                               ---
"PKG",200,22,1,"PAH",1,1,266,0)
           Load a Distribution
"PKG",200,22,1,"PAH",1,1,267,0)
           Print Transport Global
"PKG",200,22,1,"PAH",1,1,268,0)
           Compare Transport Global to Current System
"PKG",200,22,1,"PAH",1,1,269,0)
           Verify Checksums in Transport Global
"PKG",200,22,1,"PAH",1,1,270,0)
           Install Package(s)
"PKG",200,22,1,"PAH",1,1,271,0)
           Restart Install of Package(s)
"PKG",200,22,1,"PAH",1,1,272,0)
           Unload a Distribution
"PKG",200,22,1,"PAH",1,1,273,0)
           Backup a Transport Global
"PKG",200,22,1,"PAH",1,1,274,0)
 
"PKG",200,22,1,"PAH",1,1,275,0)
      Select Installation Option:
"PKG",200,22,1,"PAH",1,1,276,0)
 
"PKG",200,22,1,"PAH",1,1,277,0)
  3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
"PKG",200,22,1,"PAH",1,1,278,0)
      -------------------------------------
"PKG",200,22,1,"PAH",1,1,279,0)
      From the Installation menu, select the Load a Distribution option.
"PKG",200,22,1,"PAH",1,1,280,0)
 
"PKG",200,22,1,"PAH",1,1,281,0)
      When prompted for "Enter a Host File:" Enter the full directory path
"PKG",200,22,1,"PAH",1,1,282,0)
      where you saved the host file NEWBORN_1_2_DG_FB_IB.KID
"PKG",200,22,1,"PAH",1,1,283,0)
      (e.g., SYS$SYSDEVICE:[ANONYMOUS]NEWBORN_1_2_DG_FB_IB.KID)
"PKG",200,22,1,"PAH",1,1,284,0)
 
"PKG",200,22,1,"PAH",1,1,285,0)
  When prompted for "OK to continue with Load? NO//", Enter "YES."
"PKG",200,22,1,"PAH",1,1,286,0)
 
"PKG",200,22,1,"PAH",1,1,287,0)
      The following will display:
"PKG",200,22,1,"PAH",1,1,288,0)
 
"PKG",200,22,1,"PAH",1,1,289,0)
        Loading Distribution...
"PKG",200,22,1,"PAH",1,1,290,0)
 
"PKG",200,22,1,"PAH",1,1,291,0)
     NEWBORN DG FB IB BUNDLE 1.0
"PKG",200,22,1,"PAH",1,1,292,0)
     DG*5.3*867
"PKG",200,22,1,"PAH",1,1,293,0)
     FB*3.5*146
"PKG",200,22,1,"PAH",1,1,294,0)
     IB*2.0*499
"PKG",200,22,1,"PAH",1,1,295,0)
     Use INSTALL NAME: NEWBORN DG FB IB BUNDLE 1.0 to install this
"PKG",200,22,1,"PAH",1,1,296,0)
     distribution.
"PKG",200,22,1,"PAH",1,1,297,0)
 
"PKG",200,22,1,"PAH",1,1,298,0)
  4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
"PKG",200,22,1,"PAH",1,1,299,0)
      -------------------------------------------------
"PKG",200,22,1,"PAH",1,1,300,0)
      From the Installation menu, you may select to use the following options
"PKG",200,22,1,"PAH",1,1,301,0)
     (when prompted for the INSTALL NAME, enter NEWBORN DG FB IB BUNDLE 1.0
"PKG",200,22,1,"PAH",1,1,302,0)
 
"PKG",200,22,1,"PAH",1,1,303,0)
      a.  Backup a Transport Global - This option will create a backup
"PKG",200,22,1,"PAH",1,1,304,0)
          message of any routines exported with this patch. It will not
"PKG",200,22,1,"PAH",1,1,305,0)
          backup any other changes such as data dictionaries or templates.
"PKG",200,22,1,"PAH",1,1,306,0)
      b.  Compare Transport Global to Current System - This option will
"PKG",200,22,1,"PAH",1,1,307,0)
          allow you to view all changes that will be made when this patch
"PKG",200,22,1,"PAH",1,1,308,0)
          is installed.  It compares all components of this patch
"PKG",200,22,1,"PAH",1,1,309,0)
          (routines, data dictionaries, templates, etc.).
"PKG",200,22,1,"PAH",1,1,310,0)
      c.  Verify Checksums in Transport Global - This option will allow
"PKG",200,22,1,"PAH",1,1,311,0)
          you to ensure the integrity of the routines that are in the
"PKG",200,22,1,"PAH",1,1,312,0)
          transport global.
"PKG",200,22,1,"PAH",1,1,313,0)
 
"PKG",200,22,1,"PAH",1,1,314,0)
  5.  INSTALL MULTI-BUILD
"PKG",200,22,1,"PAH",1,1,315,0)
      -------------------
"PKG",200,22,1,"PAH",1,1,316,0)
      This is the step to start the installation of this KIDS patch. This will
"PKG",200,22,1,"PAH",1,1,317,0)
      need to be run for the NEWBORN DG FB IB BUNDLE 1.0
"PKG",200,22,1,"PAH",1,1,318,0)
 
"PKG",200,22,1,"PAH",1,1,319,0)
     a.  Choose the Install Package(s) option to start the patch
"PKG",200,22,1,"PAH",1,1,320,0)
          install.
"PKG",200,22,1,"PAH",1,1,321,0)
     b.  When prompted for the "Select INSTALL NAME:" enter
"PKG",200,22,1,"PAH",1,1,322,0)
           NEWBORN DG FB IB BUNDLE 1.0
"PKG",200,22,1,"PAH",1,1,323,0)
     c.  When prompted "Want KIDS to INHIBIT LOGONs during the install?
"PKG",200,22,1,"PAH",1,1,324,0)
          NO//", answer NO
"PKG",200,22,1,"PAH",1,1,325,0)
     d.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
"PKG",200,22,1,"PAH",1,1,326,0)
          and Protocols? NO//", answer NO
"PKG",200,22,1,"PAH",1,1,327,0)
     e.  When prompted "Device: HOME//", enter HOME
"PKG",200,22,1,"PAH",1,1,328,0)
          to display the Install message on the screen (or enter the device
"PKG",200,22,1,"PAH",1,1,329,0)
          you want to print the Install message). You may queue the
"PKG",200,22,1,"PAH",1,1,330,0)
          install if you wish.
"PKG",200,22,1,"PAH",1,1,331,0)
 
"PKG",200,22,1,"PAH",1,1,332,0)
 
"PKG",200,22,1,"PAH",1,1,333,0)
 Post-Installation Instructions
"PKG",200,22,1,"PAH",1,1,334,0)
 ------------------------------
"PKG",200,22,1,"PAH",1,1,335,0)
 
"PKG",200,22,1,"PAH",1,1,336,0)
 *** IMPORTANT NOTE ***
"PKG",200,22,1,"PAH",1,1,337,0)
 Please note there are three post installation routines that may be deleted
"PKG",200,22,1,"PAH",1,1,338,0)
 after successful installation of the NEWBORN DG FB IB BUNDLE 1.0. These are:
"PKG",200,22,1,"PAH",1,1,339,0)
 
"PKG",200,22,1,"PAH",1,1,340,0)
 DG867PO
"PKG",200,22,1,"PAH",1,1,341,0)
 FB146PO
"PKG",200,22,1,"PAH",1,1,342,0)
 IB499PO
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","IB499PO")
0^^B783118
"RTN","IB499PO",1,0)
IB499PO ;BL/BL - PRE-INSTALL ROUTINE FOR IB*2.0*499 ;01-APR-13
"RTN","IB499PO",2,0)
 ;;2.0;INTEGRATED BILLING;**499**;01-APR-13;Build 44
"RTN","IB499PO",3,0)
 ;
"RTN","IB499PO",4,0)
 ;Purpose of this routine is to modify the help text of the .03 field of the 355.81 file
"RTN","IB499PO",5,0)
 ;DBIA 2037 data in this file is used by Registration is registering patients
"RTN","IB499PO",6,0)
 ;
"RTN","IB499PO",7,0)
 ;File data sits in ^DD(355.81,.03,21) Help text. Must find the last line and add new text
"RTN","IB499PO",8,0)
 Q
"RTN","IB499PO",9,0)
NB N INC,LINC
"RTN","IB499PO",10,0)
 S INC="",LINC=""
"RTN","IB499PO",11,0)
 F  S INC=$O(^DD(355.81,.03,21,INC)) Q:INC=""  S LINC=INC
"RTN","IB499PO",12,0)
 ;Now we have the last line check to see if it contains the newborn code NB
"RTN","IB499PO",13,0)
 Q:^DD(355.81,.03,21,LINC,0)["Newborn"
"RTN","IB499PO",14,0)
 ;Set the code
"RTN","IB499PO",15,0)
 S ^DD(355.81,.03,21,(LINC+1),0)="    NB        Newborn of Vet"
"RTN","IB499PO",16,0)
 S $P(^DD(355.81,.03,21,0),"^",3)=($P(^DD(355.81,.03,21,0),"^",3)+1)
"RTN","IB499PO",17,0)
 S $P(^DD(355.81,.03,21,0),"^",4)=($P(^DD(355.81,.03,21,0),"^",4)+1)
"RTN","IB499PO",18,0)
 Q
"VER")
8.0^22.0
**END**
**END**
