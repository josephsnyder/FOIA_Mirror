Released PSS*1*129 SEQ #127
Extracted from mail message
**KIDS**:PSS*1.0*129^

**INSTALL NAME**
PSS*1.0*129
"BLD",7078,0)
PSS*1.0*129^PHARMACY DATA MANAGEMENT^0^3081213^y
"BLD",7078,1,0)
^^7^7^3080517^
"BLD",7078,1,1,0)
This patch provides the functionality needed to prepare for the release of
"BLD",7078,1,2,0)
Pharmacy Re-Engineering V. 0.5, which will change the current Pharmacy
"BLD",7078,1,3,0)
Order Checking system from using the data stored in Vista to using data
"BLD",7078,1,4,0)
from the First DataBank commercial database system. There is set-up work 
"BLD",7078,1,5,0)
that is requred to be completed prior to the installation of Pharmacy 
"BLD",7078,1,6,0)
Re-Engneering V. 0.5, and this patch provides the tools needed to complete
"BLD",7078,1,7,0)
that set-up work.
"BLD",7078,4,0)
^9.64PA^51.2^6
"BLD",7078,4,50,0)
50
"BLD",7078,4,50,2,0)
^9.641^50.0904^1
"BLD",7078,4,50,2,50.0904,0)
LOCAL POSSIBLE DOSAGE  (sub-file)
"BLD",7078,4,50,2,50.0904,1,0)
^9.6411^5^2
"BLD",7078,4,50,2,50.0904,1,4,0)
DOSE UNIT
"BLD",7078,4,50,2,50.0904,1,5,0)
NUMERIC DOSE
"BLD",7078,4,50,222)
y^y^p^^^^n^^n
"BLD",7078,4,50,224)

"BLD",7078,4,50.606,0)
50.606
"BLD",7078,4,50.606,2,0)
^9.641^50.606^2
"BLD",7078,4,50.606,2,50.606,0)
DOSAGE FORM  (File-top level)
"BLD",7078,4,50.606,2,50.606,1,0)
^9.6411^11^1
"BLD",7078,4,50.606,2,50.606,1,11,0)
EXCLUDE FROM DOSAGE CHECKS
"BLD",7078,4,50.606,2,50.6061,0)
MED ROUTE FOR DOSAGE FORM  (sub-file)
"BLD",7078,4,50.606,2,50.6061,1,0)
^9.6411^.01^1
"BLD",7078,4,50.606,2,50.6061,1,.01,0)
MED ROUTE FOR DOSAGE FORM
"BLD",7078,4,50.606,222)
y^y^p^^^^n^^n
"BLD",7078,4,50.606,224)

"BLD",7078,4,51.2,0)
51.2
"BLD",7078,4,51.2,2,0)
^9.641^51.27^2
"BLD",7078,4,51.2,2,51.2,0)
MEDICATION ROUTES  (File-top level)
"BLD",7078,4,51.2,2,51.2,1,0)
^9.6411^10^1
"BLD",7078,4,51.2,2,51.2,1,10,0)
STANDARD MEDICATION ROUTE
"BLD",7078,4,51.2,2,51.27,0)
CHANGE LOG  (sub-file)
"BLD",7078,4,51.2,2,51.27,1,0)
^9.6411^^
"BLD",7078,4,51.2,222)
y^y^p^^^^n^^n
"BLD",7078,4,51.2,224)

"BLD",7078,4,51.23,0)
51.23
"BLD",7078,4,51.23,222)
y^y^f^^n^^y^o^n
"BLD",7078,4,51.24,0)
51.24
"BLD",7078,4,51.24,222)
y^y^f^^n^^y^o^n
"BLD",7078,4,52.7,0)
52.7
"BLD",7078,4,52.7,2,0)
^9.641^52.7^1
"BLD",7078,4,52.7,2,52.7,0)
IV SOLUTIONS  (File-top level)
"BLD",7078,4,52.7,2,52.7,1,0)
^9.6411^18^1
"BLD",7078,4,52.7,2,52.7,1,18,0)
PRE-MIX
"BLD",7078,4,52.7,222)
y^y^p^^^^n^^n
"BLD",7078,4,52.7,224)

"BLD",7078,4,"APDD",50,50.0904)

"BLD",7078,4,"APDD",50,50.0904,4)

"BLD",7078,4,"APDD",50,50.0904,5)

"BLD",7078,4,"APDD",50.606,50.606)

"BLD",7078,4,"APDD",50.606,50.606,11)

"BLD",7078,4,"APDD",50.606,50.6061)

"BLD",7078,4,"APDD",50.606,50.6061,.01)

"BLD",7078,4,"APDD",51.2,51.2)

"BLD",7078,4,"APDD",51.2,51.2,10)

"BLD",7078,4,"APDD",51.2,51.27)

"BLD",7078,4,"APDD",52.7,52.7)

"BLD",7078,4,"APDD",52.7,52.7,18)

"BLD",7078,4,"B",50,50)

"BLD",7078,4,"B",50.606,50.606)

"BLD",7078,4,"B",51.2,51.2)

"BLD",7078,4,"B",51.23,51.23)

"BLD",7078,4,"B",51.24,51.24)

"BLD",7078,4,"B",52.7,52.7)

"BLD",7078,6)
11^
"BLD",7078,6.3)
67
"BLD",7078,"ABPKG")
n
"BLD",7078,"INID")
n^n
"BLD",7078,"INIT")
PSSPO129
"BLD",7078,"KRN",0)
^9.67PA^8989.52^19
"BLD",7078,"KRN",.4,0)
.4
"BLD",7078,"KRN",.401,0)
.401
"BLD",7078,"KRN",.402,0)
.402
"BLD",7078,"KRN",.403,0)
.403
"BLD",7078,"KRN",.5,0)
.5
"BLD",7078,"KRN",.84,0)
.84
"BLD",7078,"KRN",3.6,0)
3.6
"BLD",7078,"KRN",3.8,0)
3.8
"BLD",7078,"KRN",9.2,0)
9.2
"BLD",7078,"KRN",9.2,"NM",0)
^9.68A^^
"BLD",7078,"KRN",9.8,0)
9.8
"BLD",7078,"KRN",9.8,"NM",0)
^9.68A^24^21
"BLD",7078,"KRN",9.8,"NM",1,0)
PSSPO129^^0^B27773243
"BLD",7078,"KRN",9.8,"NM",2,0)
PSSMEDRT^^0^B78713044
"BLD",7078,"KRN",9.8,"NM",3,0)
PSSTRENG^^0^B51868565
"BLD",7078,"KRN",9.8,"NM",4,0)
PSSLDOSE^^0^B48702669
"BLD",7078,"KRN",9.8,"NM",5,0)
PSSLDEDT^^0^B35783647
"BLD",7078,"KRN",9.8,"NM",7,0)
PSSSCHRP^^0^B65804563
"BLD",7078,"KRN",9.8,"NM",8,0)
PSSPRMIX^^0^B27786751
"BLD",7078,"KRN",9.8,"NM",9,0)
PSSMEDRQ^^0^B93016200
"BLD",7078,"KRN",9.8,"NM",10,0)
PSSMEDX^^0^B692328
"BLD",7078,"KRN",9.8,"NM",13,0)
PSSMEDCH^^0^B32518120
"BLD",7078,"KRN",9.8,"NM",14,0)
PSSMIRPT^^0^B30532574
"BLD",7078,"KRN",9.8,"NM",15,0)
PSSPRUTL^^0^B7521098
"BLD",7078,"KRN",9.8,"NM",16,0)
PSSDFEE^^0^B24229873
"BLD",7078,"KRN",9.8,"NM",17,0)
PSSDSPOP^^0^B157013357
"BLD",7078,"KRN",9.8,"NM",18,0)
PSSDSDAT^^0^B288325204
"BLD",7078,"KRN",9.8,"NM",19,0)
PSSLDALL^^0^B47765706
"BLD",7078,"KRN",9.8,"NM",20,0)
PSSDOS^^0^B50760637
"BLD",7078,"KRN",9.8,"NM",21,0)
PSSDOSER^^0^B56570784
"BLD",7078,"KRN",9.8,"NM",22,0)
PSSDOSRP^^0^B79525848
"BLD",7078,"KRN",9.8,"NM",23,0)
PSS129EN^^0^B5077035
"BLD",7078,"KRN",9.8,"NM",24,0)
PSSDSPON^^0^B136228967
"BLD",7078,"KRN",9.8,"NM","B","PSS129EN",23)

"BLD",7078,"KRN",9.8,"NM","B","PSSDFEE",16)

"BLD",7078,"KRN",9.8,"NM","B","PSSDOS",20)

"BLD",7078,"KRN",9.8,"NM","B","PSSDOSER",21)

"BLD",7078,"KRN",9.8,"NM","B","PSSDOSRP",22)

"BLD",7078,"KRN",9.8,"NM","B","PSSDSDAT",18)

"BLD",7078,"KRN",9.8,"NM","B","PSSDSPON",24)

"BLD",7078,"KRN",9.8,"NM","B","PSSDSPOP",17)

"BLD",7078,"KRN",9.8,"NM","B","PSSLDALL",19)

"BLD",7078,"KRN",9.8,"NM","B","PSSLDEDT",5)

"BLD",7078,"KRN",9.8,"NM","B","PSSLDOSE",4)

"BLD",7078,"KRN",9.8,"NM","B","PSSMEDCH",13)

"BLD",7078,"KRN",9.8,"NM","B","PSSMEDRQ",9)

"BLD",7078,"KRN",9.8,"NM","B","PSSMEDRT",2)

"BLD",7078,"KRN",9.8,"NM","B","PSSMEDX",10)

"BLD",7078,"KRN",9.8,"NM","B","PSSMIRPT",14)

"BLD",7078,"KRN",9.8,"NM","B","PSSPO129",1)

"BLD",7078,"KRN",9.8,"NM","B","PSSPRMIX",8)

"BLD",7078,"KRN",9.8,"NM","B","PSSPRUTL",15)

"BLD",7078,"KRN",9.8,"NM","B","PSSSCHRP",7)

"BLD",7078,"KRN",9.8,"NM","B","PSSTRENG",3)

"BLD",7078,"KRN",19,0)
19
"BLD",7078,"KRN",19,"NM",0)
^9.68A^64^56
"BLD",7078,"KRN",19,"NM",1,0)
PSS MGR^^0
"BLD",7078,"KRN",19,"NM",2,0)
PSS ENHANCED ORDER CHECKS^^0
"BLD",7078,"KRN",19,"NM",3,0)
PSS MAP ONE MED ROUTE^^0
"BLD",7078,"KRN",19,"NM",5,0)
PSS MED ROUTES INITIAL MAPPING^^0
"BLD",7078,"KRN",19,"NM",6,0)
PSS STRENGTH MISMATCH^^0
"BLD",7078,"KRN",19,"NM",7,0)
PSS LOCAL POSSIBLE DOSAGES^^0
"BLD",7078,"KRN",19,"NM",9,0)
PSS LOCAL DOSAGES EDIT^^0
"BLD",7078,"KRN",19,"NM",10,0)
PSS LOCAL DOSAGES EDIT ALL^^0
"BLD",7078,"KRN",19,"NM",12,0)
PSS SCHEDULE REPORT^^0
"BLD",7078,"KRN",19,"NM",15,0)
PSS MED ROUTE MAPPING CHANGES^^0
"BLD",7078,"KRN",19,"NM",17,0)
PSS MED ROUTE MAPPING REPORT^^0
"BLD",7078,"KRN",19,"NM",20,0)
PSS MARK PREMIX SOLUTIONS^^0
"BLD",7078,"KRN",19,"NM",21,0)
PSS DOSAGES MANAGEMENT^^0
"BLD",7078,"KRN",19,"NM",22,0)
PSS DRUG TEXT FILE REPORT^^0
"BLD",7078,"KRN",19,"NM",23,0)
PSS DRUG TEXT MANAGEMENT^^0
"BLD",7078,"KRN",19,"NM",24,0)
PSS EDIT DOSAGES^^0
"BLD",7078,"KRN",19,"NM",25,0)
PSS EDIT TEXT^^0
"BLD",7078,"KRN",19,"NM",26,0)
PSS MEDICATION ROUTE REQUEST^^0
"BLD",7078,"KRN",19,"NM",27,0)
PSS MEDICATION ROUTES EDIT^^0
"BLD",7078,"KRN",19,"NM",28,0)
PSS MEDICATION ROUTES MGMT^^0
"BLD",7078,"KRN",19,"NM",29,0)
PSS ORDERABLE ITEM MANAGEMENT^^0
"BLD",7078,"KRN",19,"NM",30,0)
PSS ORDERABLE ITEM REPORT^^0
"BLD",7078,"KRN",19,"NM",31,0)
PSS SCHEDULE EDIT^^0
"BLD",7078,"KRN",19,"NM",32,0)
PSS SCHEDULE MANAGEMENT^^0
"BLD",7078,"KRN",19,"NM",33,0)
PSS DOSE UNIT REQUEST^^0
"BLD",7078,"KRN",19,"NM",34,0)
PSS IV SOLUTION REPORT^^0
"BLD",7078,"KRN",19,"NM",35,0)
PSS MED INSTRUCTION MANAGEMENT^^0
"BLD",7078,"KRN",19,"NM",36,0)
PSS MED INSTRUCTION REPORT^^0
"BLD",7078,"KRN",19,"NM",37,0)
PSSXX MARK^^0
"BLD",7078,"KRN",19,"NM",38,0)
PSS DRUG ENTER/EDIT^^0
"BLD",7078,"KRN",19,"NM",39,0)
PSS DRG INTER MANAGEMENT^^0
"BLD",7078,"KRN",19,"NM",40,0)
PSSJI ELECTROLYTE FILE^^0
"BLD",7078,"KRN",19,"NM",41,0)
PSS LOOK^^0
"BLD",7078,"KRN",19,"NM",42,0)
PSSNFI^^0
"BLD",7078,"KRN",19,"NM",43,0)
PSS SYS EDIT^^0
"BLD",7078,"KRN",19,"NM",44,0)
PSS SYNONYM EDIT^^0
"BLD",7078,"KRN",19,"NM",45,0)
PSS CS/PKI REPORTS^^0
"BLD",7078,"KRN",19,"NM",46,0)
PSS MASTER FILE ALL^^0
"BLD",7078,"KRN",19,"NM",47,0)
PSS WARNING BUILDER^^0
"BLD",7078,"KRN",19,"NM",48,0)
PSS WARNING MAPPING^^0
"BLD",7078,"KRN",19,"NM",49,0)
PSS DOSAGE CONVERSION^^0
"BLD",7078,"KRN",19,"NM",50,0)
PSS DOSAGE FORM EDIT^^0
"BLD",7078,"KRN",19,"NM",51,0)
PSS COMMON DOSAGES^^0
"BLD",7078,"KRN",19,"NM",52,0)
PSS DOSE FORM/NOUN REPORT^^0
"BLD",7078,"KRN",19,"NM",53,0)
PSS DOSAGE REVIEW REPORT^^0
"BLD",7078,"KRN",19,"NM",54,0)
PSS EDIT ORDERABLE ITEMS^^0
"BLD",7078,"KRN",19,"NM",55,0)
PSS MAINTAIN ORDERABLE ITEMS^^0
"BLD",7078,"KRN",19,"NM",56,0)
PSS ORDERABLE ITEM DOSAGES^^0
"BLD",7078,"KRN",19,"NM",57,0)
PSS INSTRUCTIONS/ITEMS REPORT^^0
"BLD",7078,"KRN",19,"NM",58,0)
PSSJU MI^^0
"BLD",7078,"KRN",19,"NM",59,0)
PSS INTERACTION LOCAL ADD^^0
"BLD",7078,"KRN",19,"NM",60,0)
PSS REPORT LOCAL INTERACTIONS^^0
"BLD",7078,"KRN",19,"NM",61,0)
PSS DEA VS CS FED. SCH. DISCR.^^0
"BLD",7078,"KRN",19,"NM",62,0)
PSS CS NOT MATCHED TO NDF^^0
"BLD",7078,"KRN",19,"NM",63,0)
PSS CS DRUGS INCON WITH DEA^^0
"BLD",7078,"KRN",19,"NM",64,0)
PSS CS (OI) INCON WITH DEA^^0
"BLD",7078,"KRN",19,"NM","B","PSS COMMON DOSAGES",51)

"BLD",7078,"KRN",19,"NM","B","PSS CS (OI) INCON WITH DEA",64)

"BLD",7078,"KRN",19,"NM","B","PSS CS DRUGS INCON WITH DEA",63)

"BLD",7078,"KRN",19,"NM","B","PSS CS NOT MATCHED TO NDF",62)

"BLD",7078,"KRN",19,"NM","B","PSS CS/PKI REPORTS",45)

"BLD",7078,"KRN",19,"NM","B","PSS DEA VS CS FED. SCH. DISCR.",61)

"BLD",7078,"KRN",19,"NM","B","PSS DOSAGE CONVERSION",49)

"BLD",7078,"KRN",19,"NM","B","PSS DOSAGE FORM EDIT",50)

"BLD",7078,"KRN",19,"NM","B","PSS DOSAGE REVIEW REPORT",53)

"BLD",7078,"KRN",19,"NM","B","PSS DOSAGES MANAGEMENT",21)

"BLD",7078,"KRN",19,"NM","B","PSS DOSE FORM/NOUN REPORT",52)

"BLD",7078,"KRN",19,"NM","B","PSS DOSE UNIT REQUEST",33)

"BLD",7078,"KRN",19,"NM","B","PSS DRG INTER MANAGEMENT",39)

"BLD",7078,"KRN",19,"NM","B","PSS DRUG ENTER/EDIT",38)

"BLD",7078,"KRN",19,"NM","B","PSS DRUG TEXT FILE REPORT",22)

"BLD",7078,"KRN",19,"NM","B","PSS DRUG TEXT MANAGEMENT",23)

"BLD",7078,"KRN",19,"NM","B","PSS EDIT DOSAGES",24)

"BLD",7078,"KRN",19,"NM","B","PSS EDIT ORDERABLE ITEMS",54)

"BLD",7078,"KRN",19,"NM","B","PSS EDIT TEXT",25)

"BLD",7078,"KRN",19,"NM","B","PSS ENHANCED ORDER CHECKS",2)

"BLD",7078,"KRN",19,"NM","B","PSS INSTRUCTIONS/ITEMS REPORT",57)

"BLD",7078,"KRN",19,"NM","B","PSS INTERACTION LOCAL ADD",59)

"BLD",7078,"KRN",19,"NM","B","PSS IV SOLUTION REPORT",34)

"BLD",7078,"KRN",19,"NM","B","PSS LOCAL DOSAGES EDIT",9)

"BLD",7078,"KRN",19,"NM","B","PSS LOCAL DOSAGES EDIT ALL",10)

"BLD",7078,"KRN",19,"NM","B","PSS LOCAL POSSIBLE DOSAGES",7)

"BLD",7078,"KRN",19,"NM","B","PSS LOOK",41)

"BLD",7078,"KRN",19,"NM","B","PSS MAINTAIN ORDERABLE ITEMS",55)

"BLD",7078,"KRN",19,"NM","B","PSS MAP ONE MED ROUTE",3)

"BLD",7078,"KRN",19,"NM","B","PSS MARK PREMIX SOLUTIONS",20)

"BLD",7078,"KRN",19,"NM","B","PSS MASTER FILE ALL",46)

"BLD",7078,"KRN",19,"NM","B","PSS MED INSTRUCTION MANAGEMENT",35)

"BLD",7078,"KRN",19,"NM","B","PSS MED INSTRUCTION REPORT",36)

"BLD",7078,"KRN",19,"NM","B","PSS MED ROUTE MAPPING CHANGES",15)

"BLD",7078,"KRN",19,"NM","B","PSS MED ROUTE MAPPING REPORT",17)

"BLD",7078,"KRN",19,"NM","B","PSS MED ROUTES INITIAL MAPPING",5)

"BLD",7078,"KRN",19,"NM","B","PSS MEDICATION ROUTE REQUEST",26)

"BLD",7078,"KRN",19,"NM","B","PSS MEDICATION ROUTES EDIT",27)

"BLD",7078,"KRN",19,"NM","B","PSS MEDICATION ROUTES MGMT",28)

"BLD",7078,"KRN",19,"NM","B","PSS MGR",1)

"BLD",7078,"KRN",19,"NM","B","PSS ORDERABLE ITEM DOSAGES",56)

"BLD",7078,"KRN",19,"NM","B","PSS ORDERABLE ITEM MANAGEMENT",29)

"BLD",7078,"KRN",19,"NM","B","PSS ORDERABLE ITEM REPORT",30)

"BLD",7078,"KRN",19,"NM","B","PSS REPORT LOCAL INTERACTIONS",60)

"BLD",7078,"KRN",19,"NM","B","PSS SCHEDULE EDIT",31)

"BLD",7078,"KRN",19,"NM","B","PSS SCHEDULE MANAGEMENT",32)

"BLD",7078,"KRN",19,"NM","B","PSS SCHEDULE REPORT",12)

"BLD",7078,"KRN",19,"NM","B","PSS STRENGTH MISMATCH",6)

"BLD",7078,"KRN",19,"NM","B","PSS SYNONYM EDIT",44)

"BLD",7078,"KRN",19,"NM","B","PSS SYS EDIT",43)

"BLD",7078,"KRN",19,"NM","B","PSS WARNING BUILDER",47)

"BLD",7078,"KRN",19,"NM","B","PSS WARNING MAPPING",48)

"BLD",7078,"KRN",19,"NM","B","PSSJI ELECTROLYTE FILE",40)

"BLD",7078,"KRN",19,"NM","B","PSSJU MI",58)

"BLD",7078,"KRN",19,"NM","B","PSSNFI",42)

"BLD",7078,"KRN",19,"NM","B","PSSXX MARK",37)

"BLD",7078,"KRN",19.1,0)
19.1
"BLD",7078,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",7078,"KRN",101,0)
101
"BLD",7078,"KRN",409.61,0)
409.61
"BLD",7078,"KRN",771,0)
771
"BLD",7078,"KRN",870,0)
870
"BLD",7078,"KRN",8989.51,0)
8989.51
"BLD",7078,"KRN",8989.52,0)
8989.52
"BLD",7078,"KRN",8994,0)
8994
"BLD",7078,"KRN","B",.4,.4)

"BLD",7078,"KRN","B",.401,.401)

"BLD",7078,"KRN","B",.402,.402)

"BLD",7078,"KRN","B",.403,.403)

"BLD",7078,"KRN","B",.5,.5)

"BLD",7078,"KRN","B",.84,.84)

"BLD",7078,"KRN","B",3.6,3.6)

"BLD",7078,"KRN","B",3.8,3.8)

"BLD",7078,"KRN","B",9.2,9.2)

"BLD",7078,"KRN","B",9.8,9.8)

"BLD",7078,"KRN","B",19,19)

"BLD",7078,"KRN","B",19.1,19.1)

"BLD",7078,"KRN","B",101,101)

"BLD",7078,"KRN","B",409.61,409.61)

"BLD",7078,"KRN","B",771,771)

"BLD",7078,"KRN","B",870,870)

"BLD",7078,"KRN","B",8989.51,8989.51)

"BLD",7078,"KRN","B",8989.52,8989.52)

"BLD",7078,"KRN","B",8994,8994)

"BLD",7078,"PRE")
PSS129EN
"BLD",7078,"PRET")
PSSPT129
"BLD",7078,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",7078,"QUES",0)
^9.62^^
"BLD",7078,"REQB",0)
^9.611^7^4
"BLD",7078,"REQB",4,0)
PSS*1.0*125^2
"BLD",7078,"REQB",5,0)
HDI*1.0*8^2
"BLD",7078,"REQB",6,0)
XU*8.0*479^2
"BLD",7078,"REQB",7,0)
PSN*4.0*169^2
"BLD",7078,"REQB","B","HDI*1.0*8",5)

"BLD",7078,"REQB","B","PSN*4.0*169",7)

"BLD",7078,"REQB","B","PSS*1.0*125",4)

"BLD",7078,"REQB","B","XU*8.0*479",6)

"DATA",51.23,1,0)
BUCCAL^BUCCAL
"DATA",51.23,2,0)
DENTAL^DENTAL
"DATA",51.23,3,0)
EPIDURAL^EPIDURAL
"DATA",51.23,4,0)
INHALATION^INHALATION
"DATA",51.23,5,0)
INTRA-ARTERIAL^INTRA-ARTERIAL
"DATA",51.23,6,0)
INTRA-ARTICULAR^INTRA-ARTICULAR
"DATA",51.23,7,0)
INTRACARDIAC^INTRACARDIAC
"DATA",51.23,8,0)
INTRACAVERNOSAL^INTRA-CAVERNOSAL
"DATA",51.23,9,0)
INTRADERMAL^INTRADERMAL
"DATA",51.23,10,0)
INTRALESIONAL^INTRALESIONAL
"DATA",51.23,11,0)
INTRAMUSCULAR^INTRAMUSCULAR
"DATA",51.23,12,0)
INTRAOCULAR^INTRAOCULAR
"DATA",51.23,13,0)
INTRAPERITONEAL^INTRAPERITONEAL
"DATA",51.23,14,0)
INTRAPLEURAL^INTRAPLEURAL
"DATA",51.23,15,0)
INTRATHECAL^INTRATHECAL
"DATA",51.23,16,0)
INTRATRACHEAL^INTRATRACHEAL
"DATA",51.23,17,0)
INTRAVENOUS^INTRAVENOUS
"DATA",51.23,18,0)
INTRAVESICAL^INTRAVESICAL
"DATA",51.23,19,0)
IRRIGATION^IRRIGATION
"DATA",51.23,20,0)
NEBULIZATION^NEBULIZATION-UNSPEC
"DATA",51.23,21,0)
OPHTHALMIC^OPHTHALMIC
"DATA",51.23,22,0)
ORAL^ORAL
"DATA",51.23,23,0)
OTIC^OTIC
"DATA",51.23,24,0)
RECTAL^RECTAL
"DATA",51.23,25,0)
SUBCUTANEOUS^SUBCUTANEOUS
"DATA",51.23,26,0)
SUBLINGUAL^SUBLINGUAL
"DATA",51.23,27,0)
TOPICAL^TOPICAL
"DATA",51.23,28,0)
TRANSDERMAL^TRANSDERMAL
"DATA",51.23,29,0)
VAGINAL^VAGINAL
"DATA",51.23,30,0)
NASAL^INTRANASAL
"DATA",51.23,31,0)
URETHRAL^INTRA-URETHRAL
"DATA",51.24,1,0)
APPLICATION(S)^APPLICATION(S)^1
"DATA",51.24,1,1,0)
^51.242^2^2
"DATA",51.24,1,1,1,0)
APPLICATION
"DATA",51.24,1,1,2,0)
APPLICATIONS
"DATA",51.24,2,0)
APPLICATORFUL(S)^APPLICATORFUL/S^1
"DATA",51.24,2,1,0)
^51.242^6^6
"DATA",51.24,2,1,1,0)
APPFUL
"DATA",51.24,2,1,2,0)
APPLICATOR
"DATA",51.24,2,1,3,0)
APPLICATORS
"DATA",51.24,2,1,4,0)
APPLICATORFUL
"DATA",51.24,2,1,5,0)
APPLICATORFULS
"DATA",51.24,2,1,6,0)
APPLICATORFUL/S
"DATA",51.24,3,0)
anti-Xa unit^AXA IU^0
"DATA",51.24,3,1,0)
^51.242^7^7
"DATA",51.24,3,1,1,0)
aXa IU
"DATA",51.24,3,1,2,0)
AXA IU
"DATA",51.24,3,1,3,0)
aXa unit
"DATA",51.24,3,1,4,0)
antiXA unit
"DATA",51.24,3,1,5,0)
ANTI-XA UNIT
"DATA",51.24,3,1,6,0)
AXA UNIT
"DATA",51.24,3,1,7,0)
ANTIXA UNIT
"DATA",51.24,4,0)
BAR(S)^BARS^1
"DATA",51.24,4,1,0)
^51.242^2^2
"DATA",51.24,4,1,1,0)
BAR
"DATA",51.24,4,1,2,0)
BARS
"DATA",51.24,5,0)
CAP/TAB^TAB-CAPS^1
"DATA",51.24,5,1,0)
^51.242^3^3
"DATA",51.24,5,1,1,0)
TAB-CAP
"DATA",51.24,5,1,2,0)
TAB-CAPS
"DATA",51.24,5,1,3,0)
TAB/CAP
"DATA",51.24,6,0)
CAPLET(S)^CAPLETS^1
"DATA",51.24,6,1,0)
^51.242^2^2
"DATA",51.24,6,1,1,0)
CAPLET
"DATA",51.24,6,1,2,0)
CAPLETS
"DATA",51.24,7,0)
CAPSULE(S)^CAPSULE(S)^1
"DATA",51.24,7,1,0)
^51.242^4^4
"DATA",51.24,7,1,1,0)
CAP
"DATA",51.24,7,1,2,0)
CAPS
"DATA",51.24,7,1,3,0)
CAPSULE
"DATA",51.24,7,1,4,0)
CAPSULES
"DATA",51.24,8,0)
CENTIMETER(S)^CENTIMETERS^1
"DATA",51.24,8,1,0)
^51.242^4^4
"DATA",51.24,8,1,1,0)
CM
"DATA",51.24,8,1,2,0)
CMS
"DATA",51.24,8,1,3,0)
CENTIMETER
"DATA",51.24,8,1,4,0)
CENTIMETERS
"DATA",51.24,9,0)
DROP(S)^DROP(S)^1
"DATA",51.24,9,1,0)
^51.242^6^6
"DATA",51.24,9,1,1,0)
DROP
"DATA",51.24,9,1,2,0)
DROPS
"DATA",51.24,9,1,3,0)
DRP
"DATA",51.24,9,1,4,0)
DRPS
"DATA",51.24,9,1,5,0)
GTT
"DATA",51.24,9,1,6,0)
GTTS
"DATA",51.24,10,0)
EACH^EACH^1
"DATA",51.24,10,1,0)
^51.242^2^2
"DATA",51.24,10,1,1,0)
EA
"DATA",51.24,10,1,2,0)
EACHES
"DATA",51.24,11,0)
ENEMA(S)^ENEMAS^1
"DATA",51.24,11,1,0)
^51.242^2^2
"DATA",51.24,11,1,1,0)
ENEMA
"DATA",51.24,11,1,2,0)
ENEMAS
"DATA",51.24,12,0)
GRAM(S)^GRAMS^0
"DATA",51.24,12,1,0)
^51.242^5^5
"DATA",51.24,12,1,1,0)
G
"DATA",51.24,12,1,2,0)
GM
"DATA",51.24,12,1,3,0)
GMS
"DATA",51.24,12,1,4,0)
GRAM
"DATA",51.24,12,1,5,0)
GRAMS
"DATA",51.24,13,0)
INCH(ES)^INCH(ES)^1
"DATA",51.24,13,1,0)
^51.242^3^3
"DATA",51.24,13,1,1,0)
IN
"DATA",51.24,13,1,2,0)
INCH
"DATA",51.24,13,1,3,0)
INCHES
"DATA",51.24,14,0)
INHALATION(S)^INHALATIONS^1
"DATA",51.24,14,1,0)
^51.242^4^4
"DATA",51.24,14,1,1,0)
INH
"DATA",51.24,14,1,2,0)
INHALATION
"DATA",51.24,14,1,3,0)
INHL
"DATA",51.24,14,1,4,0)
INHALATIONS
"DATA",51.24,15,0)
INSERT(S)^INSERTS^1
"DATA",51.24,15,1,0)
^51.242^2^2
"DATA",51.24,15,1,1,0)
INSERT
"DATA",51.24,15,1,2,0)
INSERTS
"DATA",51.24,16,0)
LITER(S)^LITERS^1
"DATA",51.24,16,1,0)
^51.242^4^4
"DATA",51.24,16,1,1,0)
L
"DATA",51.24,16,1,2,0)
LITER
"DATA",51.24,16,1,3,0)
LITERS
"DATA",51.24,16,1,4,0)
LITRE(S)
"DATA",51.24,17,0)
LOZENGE(S)^LOZENGES^1
"DATA",51.24,17,1,0)
^51.242^2^2
"DATA",51.24,17,1,1,0)
LOZENGE
"DATA",51.24,17,1,2,0)
LOZENGES
"DATA",51.24,18,0)
MICROGRAM(S)^MICROGRAM(S)^0
"DATA",51.24,18,1,0)
^51.242^4^4
"DATA",51.24,18,1,1,0)
MCG
"DATA",51.24,18,1,2,0)
MCGS
"DATA",51.24,18,1,3,0)
MICROGRAM
"DATA",51.24,18,1,4,0)
MICROGRAMS
"DATA",51.24,19,0)
MILLIGRAM(S)^MILLIGRAMS^0
"DATA",51.24,19,1,0)
^51.242^4^4
"DATA",51.24,19,1,1,0)
MG
"DATA",51.24,19,1,2,0)
MGS
"DATA",51.24,19,1,3,0)
MILLIGRAM
"DATA",51.24,19,1,4,0)
MILLIGRAMS
"DATA",51.24,20,0)
MG-PE^MG PE^0
"DATA",51.24,20,1,0)
^51.242^1^1
"DATA",51.24,20,1,1,0)
MG PE
"DATA",51.24,21,0)
MICRO UNIT(S)^MICRO UNITS^0
"DATA",51.24,21,1,0)
^51.242^4^4
"DATA",51.24,21,1,1,0)
MICRO UNIT
"DATA",51.24,21,1,2,0)
MICRO UNITS
"DATA",51.24,21,1,3,0)
MICROUNIT
"DATA",51.24,21,1,4,0)
MICROUNITS
"DATA",51.24,22,0)
MILLIEQUIVALENT(S)^MILLIEQUIVALENTS^0
"DATA",51.24,22,1,0)
^51.242^4^4
"DATA",51.24,22,1,1,0)
MILLIEQUIVALENT
"DATA",51.24,22,1,2,0)
MILLIEQUIVALENTS
"DATA",51.24,22,1,3,0)
MEQ
"DATA",51.24,22,1,4,0)
MEQS
"DATA",51.24,23,0)
MILLIONUNIT(S)^MILLIONUNIT(S)^0
"DATA",51.24,23,1,0)
^51.242^7^7
"DATA",51.24,23,1,1,0)
MU
"DATA",51.24,23,1,2,0)
MIU
"DATA",51.24,23,1,3,0)
MILU
"DATA",51.24,23,1,4,0)
MILI U
"DATA",51.24,23,1,5,0)
MILI UNIT
"DATA",51.24,23,1,6,0)
MILI UNITS
"DATA",51.24,23,1,7,0)
MILLION UNT
"DATA",51.24,24,0)
MILLILITER(S)^MILLILITERS^1
"DATA",51.24,24,1,0)
^51.242^8^8
"DATA",51.24,24,1,1,0)
CC
"DATA",51.24,24,1,2,0)
CCS
"DATA",51.24,24,1,3,0)
ML
"DATA",51.24,24,1,4,0)
MLS
"DATA",51.24,24,1,5,0)
MILLILITER
"DATA",51.24,24,1,6,0)
MILLILITERS
"DATA",51.24,24,1,7,0)
MILILITER
"DATA",51.24,24,1,8,0)
MILILITERS
"DATA",51.24,25,0)
MILLIMOLE(S)^MILLIMOLES^0
"DATA",51.24,25,1,0)
^51.242^9^9
"DATA",51.24,25,1,1,0)
MM
"DATA",51.24,25,1,2,0)
MMOL
"DATA",51.24,25,1,3,0)
MMOLE
"DATA",51.24,25,1,4,0)
MMOLS
"DATA",51.24,25,1,5,0)
MMOLES
"DATA",51.24,25,1,6,0)
MILLIMOL
"DATA",51.24,25,1,7,0)
MILLIMOLE
"DATA",51.24,25,1,8,0)
MILLIMOLS
"DATA",51.24,25,1,9,0)
MILLIMOLES
"DATA",51.24,26,0)
NANOGRAM(S)^NANOGRAMS^0
"DATA",51.24,26,1,0)
^51.242^4^4
"DATA",51.24,26,1,1,0)
NG
"DATA",51.24,26,1,2,0)
NGS
"DATA",51.24,26,1,3,0)
NANOGRAM
"DATA",51.24,26,1,4,0)
NANOGRAMS
"DATA",51.24,27,0)
OVULE(S)^OVULE(S)^1
"DATA",51.24,27,1,0)
^51.242^2^2
"DATA",51.24,27,1,1,0)
OVULE
"DATA",51.24,27,1,2,0)
OVULES
"DATA",51.24,28,0)
PACKAGE(S)^PACKAGES^1
"DATA",51.24,28,1,0)
^51.242^4^4
"DATA",51.24,28,1,1,0)
PACKAGE
"DATA",51.24,28,1,2,0)
PACKAGES
"DATA",51.24,28,1,3,0)
PKG
"DATA",51.24,28,1,4,0)
PKGS
"DATA",51.24,29,0)
PACKET(S)^PACKETS^1
"DATA",51.24,29,1,0)
^51.242^2^2
"DATA",51.24,29,1,1,0)
PACKET
"DATA",51.24,29,1,2,0)
PACKETS
"DATA",51.24,30,0)
PAD(S)^PADS^1
"DATA",51.24,30,1,0)
^51.242^2^2
"DATA",51.24,30,1,1,0)
PAD
"DATA",51.24,30,1,2,0)
PADS
"DATA",51.24,31,0)
PATCH(ES)^PATCHES^1
"DATA",51.24,31,1,0)
^51.242^2^2
"DATA",51.24,31,1,1,0)
PATCH
"DATA",51.24,31,1,2,0)
PATCHES
"DATA",51.24,32,0)
PELLET(S)^PELLETS^1
"DATA",51.24,32,1,0)
^51.242^2^2
"DATA",51.24,32,1,1,0)
PELLET
"DATA",51.24,32,1,2,0)
PELLETS
"DATA",51.24,33,0)
PIECE(S)^PIECE(S)^1
"DATA",51.24,33,1,0)
^51.242^4^4
"DATA",51.24,33,1,1,0)
PIECE
"DATA",51.24,33,1,2,0)
PIECES
"DATA",51.24,33,1,3,0)
PIECE OF GUM
"DATA",51.24,33,1,4,0)
PIECES OF GUM
"DATA",51.24,34,0)
PUFF(S)^PUFF(S)^1
"DATA",51.24,34,1,0)
^51.242^2^2
"DATA",51.24,34,1,1,0)
PUFF
"DATA",51.24,34,1,2,0)
PUFFS
"DATA",51.24,35,0)
SACHET(S)^SACHETS^1
"DATA",51.24,35,1,0)
^51.242^2^2
"DATA",51.24,35,1,1,0)
SACHET
"DATA",51.24,35,1,2,0)
SACHETS
"DATA",51.24,36,0)
SCOOPFUL(S)^SCOOPFULS^1
"DATA",51.24,36,1,0)
^51.242^6^6
"DATA",51.24,36,1,1,0)
SCP
"DATA",51.24,36,1,2,0)
SCOOP
"DATA",51.24,36,1,3,0)
SCOOPS
"DATA",51.24,36,1,4,0)
SCOOPFUL
"DATA",51.24,36,1,5,0)
SCOOPFULS
"DATA",51.24,36,1,6,0)
SCOOPSFUL
"DATA",51.24,37,0)
SPRAY(S)^SPRAY(S)^1
"DATA",51.24,37,1,0)
^51.242^3^3
"DATA",51.24,37,1,1,0)
SPR
"DATA",51.24,37,1,2,0)
SPRAY
"DATA",51.24,37,1,3,0)
SPRAYS
"DATA",51.24,38,0)
SQUIRT(S)^SQUIRTS^1
"DATA",51.24,38,1,0)
^51.242^2^2
"DATA",51.24,38,1,1,0)
SQUIRT
"DATA",51.24,38,1,2,0)
SQUIRTS
"DATA",51.24,39,0)
STRIP(S)^STRIP(S)^1
"DATA",51.24,39,1,0)
^51.242^2^2
"DATA",51.24,39,1,1,0)
STRIP
"DATA",51.24,39,1,2,0)
STRIPS
"DATA",51.24,40,0)
SUPPOSITOR(IES)^SUPPOSITORY/IES^1
"DATA",51.24,40,1,0)
^51.242^3^3
"DATA",51.24,40,1,1,0)
SUPP
"DATA",51.24,40,1,2,0)
SUPPOSITORY
"DATA",51.24,40,1,3,0)
SUPPOSITORIES
"DATA",51.24,41,0)
TABLESPOONFUL(S)^TABLESPOONFULS^1
"DATA",51.24,41,1,0)
^51.242^2^2
"DATA",51.24,41,1,1,0)
TABLESPOONFUL
"DATA",51.24,41,1,2,0)
TABLESPOONFULS
"DATA",51.24,42,0)
TABLET(S)^TABLET(S)^1
"DATA",51.24,42,1,0)
^51.242^4^4
"DATA",51.24,42,1,1,0)
TAB
"DATA",51.24,42,1,2,0)
TABS
"DATA",51.24,42,1,3,0)
TABLET
"DATA",51.24,42,1,4,0)
TABLETS
"DATA",51.24,43,0)
TEASPOONFUL(S)^TEASPOONFULS^1
"DATA",51.24,43,1,0)
^51.242^2^2
"DATA",51.24,43,1,1,0)
TEASPOONFUL
"DATA",51.24,43,1,2,0)
TEASPOONFULS
"DATA",51.24,44,0)
TROCHE(S)^TROCHES^1
"DATA",51.24,44,1,0)
^51.242^2^2
"DATA",51.24,44,1,1,0)
TROCHE
"DATA",51.24,44,1,2,0)
TROCHES
"DATA",51.24,45,0)
THOUSAND UNITS^TU^0
"DATA",51.24,45,1,0)
^51.242^2^2
"DATA",51.24,45,1,1,0)
TU
"DATA",51.24,45,1,2,0)
THOUU
"DATA",51.24,46,0)
UNIT(S)^UNIT(S)^0
"DATA",51.24,46,1,0)
^51.242^6^6
"DATA",51.24,46,1,1,0)
U
"DATA",51.24,46,1,2,0)
UNIT
"DATA",51.24,46,1,3,0)
UNITS
"DATA",51.24,46,1,4,0)
UNT
"DATA",51.24,46,1,5,0)
UNTS
"DATA",51.24,46,1,6,0)
IU
"DATA",51.24,47,0)
VAGINAL INSERT^VAGINAL INSERT^1
"DATA",51.24,47,1,0)
^51.242^1^1
"DATA",51.24,47,1,1,0)
VAGINAL INSERTS
"DATA",51.24,48,0)
VAGINAL RING^VAGINAL RING^1
"DATA",51.24,48,1,0)
^51.242^3^3
"DATA",51.24,48,1,1,0)
VAG RING
"DATA",51.24,48,1,2,0)
VAG RINGS
"DATA",51.24,48,1,3,0)
VAGINAL RINGS
"DATA",51.24,49,0)
VIAL(S)^VIALS^1
"DATA",51.24,49,1,0)
^51.242^3^3
"DATA",51.24,49,1,1,0)
VIL
"DATA",51.24,49,1,2,0)
VIAL
"DATA",51.24,49,1,3,0)
VIALS
"DATA",51.24,50,0)
WAFER(S)^WAFERS^1
"DATA",51.24,50,1,0)
^51.242^2^2
"DATA",51.24,50,1,1,0)
WAFER
"DATA",51.24,50,1,2,0)
WAFERS
"DATA",51.24,51,0)
IMPLANT(S)^IMPLANTS^1
"DATA",51.24,51,1,0)
^51.242^2^2
"DATA",51.24,51,1,1,0)
IMPLANT
"DATA",51.24,51,1,2,0)
IMPLANTS
"FIA",50)
DRUG
"FIA",50,0)
^PSDRUG(
"FIA",50,0,0)
50I
"FIA",50,0,1)
y^y^p^^^^n^^n
"FIA",50,0,10)

"FIA",50,0,11)

"FIA",50,0,"RLRO")

"FIA",50,0,"VR")
1.0^PSS
"FIA",50,50)
1
"FIA",50,50.0904)
1
"FIA",50,50.0904,4)

"FIA",50,50.0904,5)

"FIA",50.606)
DOSAGE FORM
"FIA",50.606,0)
^PS(50.606,
"FIA",50.606,0,0)
50.606
"FIA",50.606,0,1)
y^y^p^^^^n^^n
"FIA",50.606,0,10)

"FIA",50.606,0,11)

"FIA",50.606,0,"RLRO")

"FIA",50.606,0,"VR")
1.0^PSS
"FIA",50.606,50.606)
1
"FIA",50.606,50.606,1)

"FIA",50.606,50.606,11)

"FIA",50.606,50.6061)
1
"FIA",50.606,50.6061,.01)

"FIA",51.2)
MEDICATION ROUTES
"FIA",51.2,0)
^PS(51.2,
"FIA",51.2,0,0)
51.2I
"FIA",51.2,0,1)
y^y^p^^^^n^^n
"FIA",51.2,0,10)

"FIA",51.2,0,11)

"FIA",51.2,0,"RLRO")

"FIA",51.2,0,"VR")
1.0^PSS
"FIA",51.2,51.2)
1
"FIA",51.2,51.2,7)

"FIA",51.2,51.2,10)

"FIA",51.2,51.27)
0
"FIA",51.23)
STANDARD MEDICATION ROUTES
"FIA",51.23,0)
^PS(51.23,
"FIA",51.23,0,0)
51.23I
"FIA",51.23,0,1)
y^y^f^^n^^y^o^n
"FIA",51.23,0,10)

"FIA",51.23,0,11)

"FIA",51.23,0,"RLRO")

"FIA",51.23,0,"VR")
1.0^PSS
"FIA",51.23,51.23)
0
"FIA",51.23,51.2399)
0
"FIA",51.24)
DOSE UNITS
"FIA",51.24,0)
^PS(51.24,
"FIA",51.24,0,0)
51.24
"FIA",51.24,0,1)
y^y^f^^n^^y^o^n
"FIA",51.24,0,10)

"FIA",51.24,0,11)

"FIA",51.24,0,"RLRO")

"FIA",51.24,0,"VR")
1.0^PSS
"FIA",51.24,51.24)
0
"FIA",51.24,51.242)
0
"FIA",51.24,51.2499)
0
"FIA",52.7)
IV SOLUTIONS
"FIA",52.7,0)
^PS(52.7,
"FIA",52.7,0,0)
52.7I
"FIA",52.7,0,1)
y^y^p^^^^n^^n
"FIA",52.7,0,10)

"FIA",52.7,0,11)

"FIA",52.7,0,"RLRO")

"FIA",52.7,0,"VR")
1.0^PSS
"FIA",52.7,52.7)
1
"FIA",52.7,52.7,18)

"INIT")
PSSPO129
"IX",51.2,51.2,"AC",0)
51.2^AC^UPDATE THE STANDARD MED ROUTE CHANGE LOG (#51.27) SUBFILE^MU^^F^^I^51.2^^^^^A
"IX",51.2,51.2,"AC",.1,0)
^^5^5^3080301^
"IX",51.2,51.2,"AC",.1,1,0)
The cross reference will create an entry and populate the data in the 
"IX",51.2,51.2,"AC",.1,2,0)
STANDARD MED ROUTE CHANGE LOG (#51.27) Subfile of the MEDICATION ROUTES 
"IX",51.2,51.2,"AC",.1,3,0)
(#51.2) File, every time an entry is entered, changed, or deleted in the 
"IX",51.2,51.2,"AC",.1,4,0)
STANDARD MEDICATION ROUTE (#10) Field of the MEDICATION ROUTES (#51.2)
"IX",51.2,51.2,"AC",.1,5,0)
File.
"IX",51.2,51.2,"AC",1)
I '$D(DIU(0)) D SET^PSSMEDX
"IX",51.2,51.2,"AC",1.4)

"IX",51.2,51.2,"AC",2)
Q
"IX",51.2,51.2,"AC",11.1,0)
^.114IA^1^1
"IX",51.2,51.2,"AC",11.1,1,0)
1^F^51.2^10^^^F
"IX",51.23,51.23,"AMASTERVUID",0)
51.23^AMASTERVUID^This cross-reference identifies the Master entry for a VUID.^R^^R^IR^I^51.23^^^^^S
"IX",51.23,51.23,"AMASTERVUID",.1,0)
^^3^3^3080331^
"IX",51.23,51.23,"AMASTERVUID",.1,1,0)
If multiple entries have the same VUID in the file, this cross-reference 
"IX",51.23,51.23,"AMASTERVUID",.1,2,0)
can be used to identify the Master entry for a VUID associated with a 
"IX",51.23,51.23,"AMASTERVUID",.1,3,0)
Term/Concept.
"IX",51.23,51.23,"AMASTERVUID",1)
S ^PS(51.23,"AMASTERVUID",$E(X(1),1,30),X(2),DA)=""
"IX",51.23,51.23,"AMASTERVUID",2)
K ^PS(51.23,"AMASTERVUID",$E(X(1),1,30),X(2),DA)
"IX",51.23,51.23,"AMASTERVUID",2.5)
K ^PS(51.23,"AMASTERVUID")
"IX",51.23,51.23,"AMASTERVUID",11.1,0)
^.114IA^2^2
"IX",51.23,51.23,"AMASTERVUID",11.1,1,0)
1^F^51.23^99.99^30^1^F
"IX",51.23,51.23,"AMASTERVUID",11.1,2,0)
2^F^51.23^99.98^^2^F
"IX",51.23,51.23,"B",0)
51.23^B^This cross reference sets PS(51.23,"B",NAME,DA)=""^R^^F^IR^I^51.23^^^^^LS
"IX",51.23,51.23,"B",.1,0)
^^3^3^3071126^
"IX",51.23,51.23,"B",.1,1,0)
This cross reference is a new style cross reference on the NAME (#.01) 
"IX",51.23,51.23,"B",.1,2,0)
Field of the STANDARD MEDICATION ROUTES (#51.23) File. This cross 
"IX",51.23,51.23,"B",.1,3,0)
reference sets the global PS(51.23,"B",NAME,DA)="".
"IX",51.23,51.23,"B",1)
S ^PS(51.23,"B",$E(X,1,50),DA)=""
"IX",51.23,51.23,"B",2)
K ^PS(51.23,"B",$E(X,1,50),DA)
"IX",51.23,51.23,"B",2.5)
K ^PS(51.23,"B")
"IX",51.23,51.23,"B",11.1,0)
^.114IA^1^1
"IX",51.23,51.23,"B",11.1,1,0)
1^F^51.23^.01^50^1^F
"IX",51.24,51.24,"AMASTERVUID",0)
51.24^AMASTERVUID^This cross-reference identifies the Master entry for a VUID.^R^^R^IR^I^51.24^^^^^S
"IX",51.24,51.24,"AMASTERVUID",.1,0)
^^3^3^3080331^
"IX",51.24,51.24,"AMASTERVUID",.1,1,0)
If multiple entries have the same VUID in the file, this cross-reference 
"IX",51.24,51.24,"AMASTERVUID",.1,2,0)
can be used to identify the Master entry for a VUID associated with a 
"IX",51.24,51.24,"AMASTERVUID",.1,3,0)
Term/Concept.
"IX",51.24,51.24,"AMASTERVUID",1)
S ^PS(51.24,"AMASTERVUID",$E(X(1),1,30),X(2),DA)=""
"IX",51.24,51.24,"AMASTERVUID",2)
K ^PS(51.24,"AMASTERVUID",$E(X(1),1,30),X(2),DA)
"IX",51.24,51.24,"AMASTERVUID",2.5)
K ^PS(51.24,"AMASTERVUID")
"IX",51.24,51.24,"AMASTERVUID",11.1,0)
^.114IA^2^2
"IX",51.24,51.24,"AMASTERVUID",11.1,1,0)
1^F^51.24^99.99^30^1^F
"IX",51.24,51.24,"AMASTERVUID",11.1,2,0)
2^F^51.24^99.98^^2^F
"KRN",19,10540,-1)
0^40
"KRN",19,10540,0)
PSSJI ELECTROLYTE FILE^Electrolyte File (IV)^^R^^^^^^^^IV MEDICATIONS^^^1
"KRN",19,10540,1,0)
^^3^3^2970407^^^^
"KRN",19,10540,1,1,0)
  This option will allow you to alter the contents of the DRUG ELECTROLYTES 
"KRN",19,10540,1,2,0)
file (50.4). This is the file that is pointed to by the ELECTROLYTES 
"KRN",19,10540,1,3,0)
subfile in the IV ADDITIVES (52.6) and IV SOLUTIONS (52.7) files.
"KRN",19,10540,15)
K I1
"KRN",19,10540,20)

"KRN",19,10540,25)
ELECTRO^PSSVIDRG
"KRN",19,10540,30)

"KRN",19,10540,31)

"KRN",19,10540,50)

"KRN",19,10540,51)

"KRN",19,10540,99)
61131,38498
"KRN",19,10540,"U")
ELECTROLYTE FILE (IV)
"KRN",19,10545,-1)
0^59
"KRN",19,10545,0)
PSS INTERACTION LOCAL ADD^Enter/Edit Local Drug Interaction^^R^^^^^^^^PHARMACY DATA MANAGEMENT^^
"KRN",19,10545,1,0)
^^1^1^2961120^^^^
"KRN",19,10545,1,1,0)
This option allows sites to add their local drug ingredient interactions.
"KRN",19,10545,20)

"KRN",19,10545,25)
PSSDINT
"KRN",19,10545,"U")
ENTER/EDIT LOCAL DRUG INTERACT
"KRN",19,10546,-1)
0^54
"KRN",19,10546,0)
PSS EDIT ORDERABLE ITEMS^Edit Orderable Items^^R^^^^^^^^
"KRN",19,10546,1,0)
^^1^1^2950504^^
"KRN",19,10546,1,1,0)
This option is for editing Pharmacy Orderable Items.
"KRN",19,10546,25)
PSSPOIMO
"KRN",19,10546,"U")
EDIT ORDERABLE ITEMS
"KRN",19,10547,-1)
0^55
"KRN",19,10547,0)
PSS MAINTAIN ORDERABLE ITEMS^Dispense Drug/Orderable Item Maintenance^^R^^^^^^^^
"KRN",19,10547,1,0)
^^2^2^2950227^^
"KRN",19,10547,1,1,0)
This option is for maintaining the relationship between Dispense Drugs
"KRN",19,10547,1,2,0)
and Orderable Items.
"KRN",19,10547,25)
PSSPOIMN
"KRN",19,10547,"U")
DISPENSE DRUG/ORDERABLE ITEM M
"KRN",19,10548,-1)
0^30
"KRN",19,10548,0)
PSS ORDERABLE ITEM REPORT^Orderable Item Report^^R^^^^^^^^
"KRN",19,10548,1,0)
^^2^2^2950228^^
"KRN",19,10548,1,1,0)
This option lists items from your Pharmacy Orderable Item file, along with
"KRN",19,10548,1,2,0)
the associated Dispense Drugs.
"KRN",19,10548,25)
PSSPOIKA
"KRN",19,10548,"U")
ORDERABLE ITEM REPORT
"KRN",19,10551,-1)
0^1
"KRN",19,10551,0)
PSS MGR^Pharmacy Data Management^^M^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,10551,1,0)
2^19.06^3^3^3080418^^^^
"KRN",19,10551,1,1,0)
This menu contains options pertaining to maintaining pharmacy data
"KRN",19,10551,1,2,0)
files, creating Pharmacy Orderable Items, and the Medication Route/
"KRN",19,10551,1,3,0)
Instructions table among other assorted functions.
"KRN",19,10551,10,0)
^19.01IP^78^78
"KRN",19,10551,10,51,0)
10554^^3
"KRN",19,10551,10,51,"^")
PSS DRUG ENTER/EDIT
"KRN",19,10551,10,52,0)
10556^^6
"KRN",19,10551,10,52,"^")
PSS LOOK
"KRN",19,10551,10,53,0)
10540^^5
"KRN",19,10551,10,53,"^")
PSSJI ELECTROLYTE FILE
"KRN",19,10551,10,54,0)
10562^^1
"KRN",19,10551,10,54,"^")
PSSXX MARK
"KRN",19,10551,10,55,0)
10563^^12
"KRN",19,10551,10,55,"^")
PSS SYS EDIT
"KRN",19,10551,10,56,0)
10569^^4
"KRN",19,10551,10,56,"^")
PSS DRG INTER MANAGEMENT
"KRN",19,10551,10,57,0)
10568^^9
"KRN",19,10551,10,57,"^")
PSS ORDERABLE ITEM MANAGEMENT
"KRN",19,10551,10,58,0)
11691^^10
"KRN",19,10551,10,58,"^")
PSSNFI
"KRN",19,10551,10,60,0)
11692^^14
"KRN",19,10551,10,60,"^")
PSS SYNONYM EDIT
"KRN",19,10551,10,61,0)
12064^^2
"KRN",19,10551,10,61,"^")
PSS DOSAGES MANAGEMENT
"KRN",19,10551,10,64,0)
12446^^15
"KRN",19,10551,10,64,"^")
PSS CS/PKI REPORTS
"KRN",19,10551,10,65,0)
12781^^16
"KRN",19,10551,10,65,"^")
PSS MASTER FILE ALL
"KRN",19,10551,10,66,0)
13071^^19
"KRN",19,10551,10,66,"^")
PSS WARNING BUILDER
"KRN",19,10551,10,68,0)
13586^^17
"KRN",19,10551,10,68,"^")
PSS ENHANCED ORDER CHECKS
"KRN",19,10551,10,73,0)
13599^^8
"KRN",19,10551,10,73,"^")
PSS MEDICATION ROUTES MGMT
"KRN",19,10551,10,74,0)
13072^^20
"KRN",19,10551,10,74,"^")
PSS WARNING MAPPING
"KRN",19,10551,10,75,0)
13600^^13
"KRN",19,10551,10,75,"^")
PSS SCHEDULE MANAGEMENT
"KRN",19,10551,10,76,0)
13601^^11
"KRN",19,10551,10,76,"^")
PSS DRUG TEXT MANAGEMENT
"KRN",19,10551,10,77,0)
13597^^18
"KRN",19,10551,10,77,"^")
PSS IV SOLUTION REPORT
"KRN",19,10551,10,78,0)
13604^^7
"KRN",19,10551,10,78,"^")
PSS MED INSTRUCTION MANAGEMENT
"KRN",19,10551,99)
61279,30506
"KRN",19,10551,99.1)
61216,52989
"KRN",19,10551,"U")
PHARMACY DATA MANAGEMENT
"KRN",19,10552,-1)
0^31
"KRN",19,10552,0)
PSS SCHEDULE EDIT^Standard Schedule Edit^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,10552,1,0)
^^4^4^2960624^^
"KRN",19,10552,1,1,0)
Allows user to edit the set of times associated with the standard
"KRN",19,10552,1,2,0)
dosage administration schedules (Q3H,Q8H,TID, etc.).
"KRN",19,10552,1,3,0)
This may be used to define the outpatient expansion to be used when the
"KRN",19,10552,1,4,0)
schedule is entered for an outpatient medication order.
"KRN",19,10552,25)
ENPSJSE^PSSJEEU
"KRN",19,10552,"U")
STANDARD SCHEDULE EDIT
"KRN",19,10553,-1)
0^58
"KRN",19,10553,0)
PSSJU MI^Medication Instruction File Add/Edit^^R^^^^^^^^
"KRN",19,10553,1,0)
^^6^6^2960807^^^
"KRN",19,10553,1,1,0)
The UNIT DOSE package contains a field called SPECIAL INSTRUCTIONS. This
"KRN",19,10553,1,2,0)
field utilizes the abbreviations and expansions of the MEDICATION INSTRUCTION
"KRN",19,10553,1,3,0)
File when printing on various reports. This option allow the user to enter
"KRN",19,10553,1,4,0)
and edit abbreviations and expansions in the MEDICATION INSTRUCTION file and
"KRN",19,10553,1,5,0)
to "flag" those entries for use by the INPATIENT packages only, OUTPATIENT
"KRN",19,10553,1,6,0)
package only, or by both.
"KRN",19,10553,25)
ENMI^PSSFILED
"KRN",19,10553,"U")
MEDICATION INSTRUCTION FILE AD
"KRN",19,10554,-1)
0^38
"KRN",19,10554,0)
PSS DRUG ENTER/EDIT^Drug Enter/Edit^^R^^^^^^^^^^^1
"KRN",19,10554,1,0)
^19.06^3^3^3020313^^^
"KRN",19,10554,1,1,0)
This option allows the user to edit fields for ALL pharmacy packages if
"KRN",19,10554,1,2,0)
they possess the proper package key. It also will allow the user to match
"KRN",19,10554,1,3,0)
to NDF and Orderable Item.
"KRN",19,10554,15)
K DIR
"KRN",19,10554,25)
PSSDEE
"KRN",19,10554,99)
58756,55831
"KRN",19,10554,99.1)
59164,31868
"KRN",19,10554,"U")
DRUG ENTER/EDIT
"KRN",19,10556,-1)
0^41
"KRN",19,10556,0)
PSS LOOK^Lookup into Dispense Drug File^^R^^^^^^^^
"KRN",19,10556,1,0)
^^2^2^2961029^
"KRN",19,10556,1,1,0)
This option provides a lookup into dispense drug file. It displays fields
"KRN",19,10556,1,2,0)
commonly edited.
"KRN",19,10556,25)
PSSLOOK
"KRN",19,10556,"U")
LOOKUP INTO DISPENSE DRUG FILE
"KRN",19,10562,-1)
0^37
"KRN",19,10562,0)
PSSXX MARK^CMOP Mark/Unmark (Single drug)^^R^^PSXCMOPMGR^^^^^^
"KRN",19,10562,1,0)
^^2^2^2970519^^
"KRN",19,10562,1,1,0)
This option allows the user to mark/unmark a single drug for transmission
"KRN",19,10562,1,2,0)
to the CMOP.
"KRN",19,10562,25)
PSSMARK
"KRN",19,10562,62)

"KRN",19,10562,99.1)
60761,47544
"KRN",19,10562,"U")
CMOP MARK/UNMARK (SINGLE DRUG)
"KRN",19,10563,-1)
0^43
"KRN",19,10563,0)
PSS SYS EDIT^Pharmacy System Parameters Edit^^R^^^^^^^^
"KRN",19,10563,1,0)
^^2^2^2970807^
"KRN",19,10563,1,1,0)
This option allows the user to edit the Pharmacy System parameters used
"KRN",19,10563,1,2,0)
in Pharmacy Data Management.
"KRN",19,10563,25)
PSSYSP
"KRN",19,10563,"U")
PHARMACY SYSTEM PARAMETERS EDI
"KRN",19,10568,-1)
0^29
"KRN",19,10568,0)
PSS ORDERABLE ITEM MANAGEMENT^Orderable Item Management^^M^^^^^^^^
"KRN",19,10568,1,0)
^19.06^1^1^3071019^^^^
"KRN",19,10568,1,1,0)
This is the sub-menu driver for Orderable Item maintenance.
"KRN",19,10568,10,0)
^19.01IP^6^6
"KRN",19,10568,10,1,0)
10547^^2
"KRN",19,10568,10,1,"^")
PSS MAINTAIN ORDERABLE ITEMS
"KRN",19,10568,10,2,0)
10546^^1
"KRN",19,10568,10,2,"^")
PSS EDIT ORDERABLE ITEMS
"KRN",19,10568,10,4,0)
11846^^3
"KRN",19,10568,10,4,"^")
PSS ORDERABLE ITEM DOSAGES
"KRN",19,10568,10,5,0)
11845^^4
"KRN",19,10568,10,5,"^")
PSS INSTRUCTIONS/ITEMS REPORT
"KRN",19,10568,10,6,0)
10548^^5
"KRN",19,10568,10,6,"^")
PSS ORDERABLE ITEM REPORT
"KRN",19,10568,99)
61279,30506
"KRN",19,10568,"U")
ORDERABLE ITEM MANAGEMENT
"KRN",19,10569,-1)
0^39
"KRN",19,10569,0)
PSS DRG INTER MANAGEMENT^Drug Interaction Management^^M^^^^^^^^
"KRN",19,10569,1,0)
^^1^1^2970904^
"KRN",19,10569,1,1,0)
This is the sub-menu driver for drug interaction maintenance.
"KRN",19,10569,10,0)
^19.01IP^2^2
"KRN",19,10569,10,1,0)
10545^^1
"KRN",19,10569,10,1,"^")
PSS INTERACTION LOCAL ADD
"KRN",19,10569,10,2,0)
11328^^2
"KRN",19,10569,10,2,"^")
PSS REPORT LOCAL INTERACTIONS
"KRN",19,10569,99)
61279,30505
"KRN",19,10569,"U")
DRUG INTERACTION MANAGEMENT
"KRN",19,11328,-1)
0^60
"KRN",19,11328,0)
PSS REPORT LOCAL INTERACTIONS^Report of Locally Entered Interactions^^R^^^^^^^^
"KRN",19,11328,1,0)
^^2^2^2990310^^
"KRN",19,11328,1,1,0)
This option allows sites to print a report of locally entered drug
"KRN",19,11328,1,2,0)
interactions and their severity.
"KRN",19,11328,25)
PSSDRINT
"KRN",19,11328,"U")
REPORT OF LOCALLY ENTERED INTE
"KRN",19,11690,-1)
0^25
"KRN",19,11690,0)
PSS EDIT TEXT^Drug Text Enter/Edit^^R^^^^^^^^
"KRN",19,11690,1,0)
^^2^2^3000113^^^^
"KRN",19,11690,1,1,0)
This option enables you to edit entries in the DRUG TEXT file. This file
"KRN",19,11690,1,2,0)
contains drug information, restrictions, and guidelines, etc.
"KRN",19,11690,25)
PSSTXT
"KRN",19,11690,"U")
DRUG TEXT ENTER/EDIT
"KRN",19,11691,-1)
0^42
"KRN",19,11691,0)
PSSNFI^Formulary Information Report^^R^^^^^^^^
"KRN",19,11691,1,0)
^^1^1^2991026^
"KRN",19,11691,1,1,0)
This option provides a listing of pertinent pharmacy formulary information.
"KRN",19,11691,25)
PSSNFI
"KRN",19,11691,"U")
FORMULARY INFORMATION REPORT
"KRN",19,11692,-1)
0^44
"KRN",19,11692,0)
PSS SYNONYM EDIT^Synonym Enter/Edit^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,11692,1,0)
^^2^2^3000616^
"KRN",19,11692,1,1,0)
The option provides easy access to update the synonym information for an
"KRN",19,11692,1,2,0)
entry in the local DRUG file.
"KRN",19,11692,25)
PSSSEE
"KRN",19,11692,"U")
SYNONYM ENTER/EDIT
"KRN",19,11704,-1)
0^49
"KRN",19,11704,0)
PSS DOSAGE CONVERSION^Auto Create Dosages^^R^^^^^^^^
"KRN",19,11704,1,0)
^19.06^2^2^3000327^^^
"KRN",19,11704,1,1,0)
This option is used to populate the Possible Dose fields and Local
"KRN",19,11704,1,2,0)
Possible Dose fields in the Drug file.
"KRN",19,11704,25)
PSSDOSCR
"KRN",19,11704,"U")
AUTO CREATE DOSAGES
"KRN",19,11705,-1)
0^24
"KRN",19,11705,0)
PSS EDIT DOSAGES^Enter/Edit Dosages^^R^^^^^^^^
"KRN",19,11705,1,0)
^^2^2^3071017^
"KRN",19,11705,1,1,0)
This option allows you to edit Possible Dose fields and Local Possible
"KRN",19,11705,1,2,0)
Dose fields for a selected entry from the DRUG (#50) File.
"KRN",19,11705,25)
DOS^PSSDOSER
"KRN",19,11705,"U")
ENTER/EDIT DOSAGES
"KRN",19,11708,-1)
0^53
"KRN",19,11708,0)
PSS DOSAGE REVIEW REPORT^Review Dosages Report^^R^^^^^^^^
"KRN",19,11708,1,0)
^19.06^2^2^3000413^^^
"KRN",19,11708,1,1,0)
This report shows the possible doses and local possible doses for
"KRN",19,11708,1,2,0)
selected dispense drugs.
"KRN",19,11708,25)
PSSDOSRP
"KRN",19,11708,"U")
REVIEW DOSAGES REPORT
"KRN",19,11709,-1)
0^52
"KRN",19,11709,0)
PSS DOSE FORM/NOUN REPORT^Noun/Dosage Form Report^^R^^^^^^^^
"KRN",19,11709,1,0)
^19.06^3^3^3000505^^
"KRN",19,11709,1,1,0)
This report displays the Dosage Forms, along with their associated Nouns
"KRN",19,11709,1,2,0)
and Package Use field. It also displays the Local Possible Dose based on
"KRN",19,11709,1,3,0)
the nouns and instructions.
"KRN",19,11709,25)
PSSNOUNR
"KRN",19,11709,"U")
NOUN/DOSAGE FORM REPORT
"KRN",19,11718,-1)
0^51
"KRN",19,11718,0)
PSS COMMON DOSAGES^Most Common Dosages Report^^R^^^^^^^^
"KRN",19,11718,1,0)
^^2^2^3000607^
"KRN",19,11718,1,1,0)
This report displays the most common dosages administered over a specified
"KRN",19,11718,1,2,0)
time period for Unit Dose orders.
"KRN",19,11718,25)
EN^PSSCOMMN
"KRN",19,11718,"U")
MOST COMMON DOSAGES REPORT
"KRN",19,11845,-1)
0^57
"KRN",19,11845,0)
PSS INSTRUCTIONS/ITEMS REPORT^Patient Instructions Report^^R^^^^^^^^
"KRN",19,11845,1,0)
^19.06^5^5^3010320^^
"KRN",19,11845,1,1,0)
This option prints a report that displays Pharmacy Orderable Items, along
"KRN",19,11845,1,2,0)
with the expanded Patient Instructions for each Orderable Item. These
"KRN",19,11845,1,3,0)
Patient Instructions are used as default values for Outpatient orders
"KRN",19,11845,1,4,0)
entered through Computerized Patient Record System (CPRS) and Outpatient
"KRN",19,11845,1,5,0)
Pharmacy.
"KRN",19,11845,25)
EN^PSSPNSRP
"KRN",19,11845,"U")
PATIENT INSTRUCTIONS REPORT
"KRN",19,11846,-1)
0^56
"KRN",19,11846,0)
PSS ORDERABLE ITEM DOSAGES^Orderable Item/Dosages Report^^R^^^^^^^^
"KRN",19,11846,1,0)
^^4^4^3010111^
"KRN",19,11846,1,1,0)
This option prints a report that displays Inpatient and Outpatient Dosages
"KRN",19,11846,1,2,0)
for each Pharmacy Orderable Item. These are the dosages that will display
"KRN",19,11846,1,3,0)
for selection through Computerized Patient Record System (CPRS) when an
"KRN",19,11846,1,4,0)
Orderable Item is selected for a medication order.
"KRN",19,11846,25)
EN^PSSOIDOS
"KRN",19,11846,"U")
ORDERABLE ITEM/DOSAGES REPORT
"KRN",19,12062,-1)
0^27
"KRN",19,12062,0)
PSS MEDICATION ROUTES EDIT^Medication Route File Enter/Edit^^R^^^^^^^^
"KRN",19,12062,1,0)
^^2^2^3071017^
"KRN",19,12062,1,1,0)
This option provides the ability to edit data for entries in the
"KRN",19,12062,1,2,0)
MEDICATION ROUTES (#51.2) File.
"KRN",19,12062,25)
MR^PSSDFEE
"KRN",19,12062,"U")
MEDICATION ROUTE FILE ENTER/ED
"KRN",19,12063,-1)
0^50
"KRN",19,12063,0)
PSS DOSAGE FORM EDIT^Dosage Form File Enter/Edit^^R^^^^^^^^
"KRN",19,12063,1,0)
^^2^2^3000929^
"KRN",19,12063,1,1,0)
This option provides the ability to edit data in the Dosage Form
"KRN",19,12063,1,2,0)
file (#50.606).
"KRN",19,12063,25)
DF^PSSDFEE
"KRN",19,12063,"U")
DOSAGE FORM FILE ENTER/EDIT
"KRN",19,12064,-1)
0^21
"KRN",19,12064,0)
PSS DOSAGES MANAGEMENT^Dosages^^M^^^^^^^^
"KRN",19,12064,1,0)
^19.06^1^1^3080122^^^^
"KRN",19,12064,1,1,0)
This menu option contains options that control the editing of dosages.
"KRN",19,12064,10,0)
^19.01IP^8^8
"KRN",19,12064,10,1,0)
11704^^1
"KRN",19,12064,10,1,"^")
PSS DOSAGE CONVERSION
"KRN",19,12064,10,2,0)
12063^^2
"KRN",19,12064,10,2,"^")
PSS DOSAGE FORM EDIT
"KRN",19,12064,10,3,0)
11705^^3
"KRN",19,12064,10,3,"^")
PSS EDIT DOSAGES
"KRN",19,12064,10,4,0)
11718^^4
"KRN",19,12064,10,4,"^")
PSS COMMON DOSAGES
"KRN",19,12064,10,5,0)
11709^^5
"KRN",19,12064,10,5,"^")
PSS DOSE FORM/NOUN REPORT
"KRN",19,12064,10,6,0)
11708^^6
"KRN",19,12064,10,6,"^")
PSS DOSAGE REVIEW REPORT
"KRN",19,12064,10,7,0)
13590^^7
"KRN",19,12064,10,7,"^")
PSS LOCAL POSSIBLE DOSAGES
"KRN",19,12064,10,8,0)
13602^^8
"KRN",19,12064,10,8,"^")
PSS DOSE UNIT REQUEST
"KRN",19,12064,99)
61279,30506
"KRN",19,12064,"U")
DOSAGES
"KRN",19,12226,-1)
0^22
"KRN",19,12226,0)
PSS DRUG TEXT FILE REPORT^Drug Text File Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,12226,1,0)
^^3^3^3020520^
"KRN",19,12226,1,1,0)
This option will display the Drug Text Name, Synonyms, Drug Text, 
"KRN",19,12226,1,2,0)
Inactive date if inactive, and list all drug and pharmacy orderable items 
"KRN",19,12226,1,3,0)
linked to it.  The report is printable for one or all entries.
"KRN",19,12226,25)
PSSDTR
"KRN",19,12226,"U")
DRUG TEXT FILE REPORT
"KRN",19,12442,-1)
0^63
"KRN",19,12442,0)
PSS CS DRUGS INCON WITH DEA^CS (DRUGS) Inconsistent with DEA Spec Hdlg^^R^^^^^^^^^^1
"KRN",19,12442,1,0)
^^2^2^3021121^
"KRN",19,12442,1,1,0)
Active drugs that are defined as Controlled Substances, but not classified
"KRN",19,12442,1,2,0)
correctly as Narcotics or Non-Narcotics.
"KRN",19,12442,20)
S OP=3
"KRN",19,12442,25)
PSSPKIPR
"KRN",19,12442,"U")
CS (DRUGS) INCONSISTENT WITH D
"KRN",19,12443,-1)
0^64
"KRN",19,12443,0)
PSS CS (OI) INCON WITH DEA^CS (Ord. Item) Inconsistent with DEA Spec Hdlg^^R^^^^^^^^^^1
"KRN",19,12443,1,0)
^^2^2^3021226^
"KRN",19,12443,1,1,0)
Discrepancy within the DEA Special Hdlg field of active dispense drugs
"KRN",19,12443,1,2,0)
that are associated to the same pharmacy orderable item.
"KRN",19,12443,20)
S OP=4
"KRN",19,12443,25)
PSSPKIPR
"KRN",19,12443,"U")
CS (ORD. ITEM) INCONSISTENT WI
"KRN",19,12444,-1)
0^62
"KRN",19,12444,0)
PSS CS NOT MATCHED TO NDF^Controlled Substances Not Matched to NDF^^R^^^^^^^^^^1
"KRN",19,12444,1,0)
^^1^1^3021226^
"KRN",19,12444,1,1,0)
Active Controlled Substances that are not been matched to NDF.
"KRN",19,12444,20)
S OP=2
"KRN",19,12444,25)
PSSPKIPR
"KRN",19,12444,"U")
CONTROLLED SUBSTANCES NOT MATC
"KRN",19,12445,-1)
0^61
"KRN",19,12445,0)
PSS DEA VS CS FED. SCH. DISCR.^DEA Spec Hdlg & CS Fed Sch Discrepancy^^R^^^^^^^^^^1
"KRN",19,12445,1,0)
^^3^3^3021226^
"KRN",19,12445,1,1,0)
Identifies active Controlled Substances having a discrepancy between the
"KRN",19,12445,1,2,0)
CS FEDERAL SCHEDULE in the VA PRODUCT file (#50.68) and the DEA,SPECIAL
"KRN",19,12445,1,3,0)
HDLG code in the DRUG file (#50).
"KRN",19,12445,20)
S OP=1
"KRN",19,12445,25)
PSSPKIPR
"KRN",19,12445,"U")
DEA SPEC HDLG & CS FED SCH DIS
"KRN",19,12446,-1)
0^45
"KRN",19,12446,0)
PSS CS/PKI REPORTS^Controlled Substances/PKI Reports^^M^^^^^^^^
"KRN",19,12446,1,0)
^^1^1^3021226^
"KRN",19,12446,1,1,0)
PKI POST-INSTALL REPORTS PROVIDED AS OPTIONS.
"KRN",19,12446,10,0)
^19.01IP^4^4
"KRN",19,12446,10,1,0)
12445^1^1
"KRN",19,12446,10,1,"^")
PSS DEA VS CS FED. SCH. DISCR.
"KRN",19,12446,10,2,0)
12444^2^2
"KRN",19,12446,10,2,"^")
PSS CS NOT MATCHED TO NDF
"KRN",19,12446,10,3,0)
12442^3^3
"KRN",19,12446,10,3,"^")
PSS CS DRUGS INCON WITH DEA
"KRN",19,12446,10,4,0)
12443^4^4
"KRN",19,12446,10,4,"^")
PSS CS (OI) INCON WITH DEA
"KRN",19,12446,99)
61279,30506
"KRN",19,12446,"U")
CONTROLLED SUBSTANCES/PKI REPO
"KRN",19,12781,-1)
0^46
"KRN",19,12781,0)
PSS MASTER FILE ALL^Send Entire Drug File to External Interface^^R^^^^^^^^
"KRN",19,12781,25)
PSSMSTR
"KRN",19,12781,"U")
SEND ENTIRE DRUG FILE TO EXTER
"KRN",19,13071,-1)
0^47
"KRN",19,13071,0)
PSS WARNING BUILDER^Warning Builder^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13071,1,0)
^19.06^3^3^3040521^^^
"KRN",19,13071,1,1,0)
This option will allow you to define a custom warning label list 
"KRN",19,13071,1,2,0)
containing entries from both the new warning label source and the old Rx 
"KRN",19,13071,1,3,0)
Consult file entries.
"KRN",19,13071,25)
PSSWRNB
"KRN",19,13071,"U")
WARNING BUILDER
"KRN",19,13072,-1)
0^48
"KRN",19,13072,0)
PSS WARNING MAPPING^Warning Mapping^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13072,1,0)
^^9^9^3040521^
"KRN",19,13072,1,1,0)
This option is used to match an entry from the old Rx Consult file to the
"KRN",19,13072,1,2,0)
new commercial data source warning file to aid in using the Warning 
"KRN",19,13072,1,3,0)
Builder (to identify local warnings that do not have an equivalent entry 
"KRN",19,13072,1,4,0)
in the new commercial data source).
"KRN",19,13072,1,5,0)
 
"KRN",19,13072,1,6,0)
The user can also enter a Spanish translation for an Rx Consult file 
"KRN",19,13072,1,7,0)
entry, if desired, but whenever possible, the new commercial data source's
"KRN",19,13072,1,8,0)
warnings (English or Spanish depending on the patient setting) should be
"KRN",19,13072,1,9,0)
used.
"KRN",19,13072,25)
EDIT^PSSWMAP
"KRN",19,13072,"U")
WARNING MAPPING
"KRN",19,13586,-1)
0^2
"KRN",19,13586,0)
PSS ENHANCED ORDER CHECKS^Enhanced Order Checks Setup Menu^^M^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13586,1,0)
^19.06^3^3^3080418^^
"KRN",19,13586,1,1,0)
This menu option contains the options needed for Pharmacy to do the 
"KRN",19,13586,1,2,0)
appropriate setup needed to install Pharmacy Re-engineering version 0.5. 
"KRN",19,13586,1,3,0)
Version 0.5 mainly deals with the Enhanced Order Checks.
"KRN",19,13586,10,0)
^19.01IP^23^23
"KRN",19,13586,10,2,0)
13587^^1
"KRN",19,13586,10,2,"^")
PSS MED ROUTES INITIAL MAPPING
"KRN",19,13586,10,3,0)
13588^^2
"KRN",19,13586,10,3,"^")
PSS MAP ONE MED ROUTE
"KRN",19,13586,10,4,0)
13589^^10
"KRN",19,13586,10,4,"^")
PSS STRENGTH MISMATCH
"KRN",19,13586,10,5,0)
13590^^9
"KRN",19,13586,10,5,"^")
PSS LOCAL POSSIBLE DOSAGES
"KRN",19,13586,10,7,0)
13591^^8
"KRN",19,13586,10,7,"^")
PSS LOCAL DOSAGES EDIT
"KRN",19,13586,10,8,0)
13592^^7
"KRN",19,13586,10,8,"^")
PSS LOCAL DOSAGES EDIT ALL
"KRN",19,13586,10,12,0)
13596^^13
"KRN",19,13586,10,12,"^")
PSS MARK PREMIX SOLUTIONS
"KRN",19,13586,10,14,0)
13595^^3
"KRN",19,13586,10,14,"^")
PSS MED ROUTE MAPPING REPORT
"KRN",19,13586,10,15,0)
12062^^4
"KRN",19,13586,10,15,"^")
PSS MEDICATION ROUTES EDIT
"KRN",19,13586,10,16,0)
13593^^5
"KRN",19,13586,10,16,"^")
PSS MED ROUTE MAPPING CHANGES
"KRN",19,13586,10,17,0)
11705^^11
"KRN",19,13586,10,17,"^")
PSS EDIT DOSAGES
"KRN",19,13586,10,19,0)
13594^^15
"KRN",19,13586,10,19,"^")
PSS SCHEDULE REPORT
"KRN",19,13586,10,20,0)
13598^^6
"KRN",19,13586,10,20,"^")
PSS MEDICATION ROUTE REQUEST
"KRN",19,13586,10,21,0)
13602^^12
"KRN",19,13586,10,21,"^")
PSS DOSE UNIT REQUEST
"KRN",19,13586,10,22,0)
13597^^14
"KRN",19,13586,10,22,"^")
PSS IV SOLUTION REPORT
"KRN",19,13586,10,23,0)
13603^^16
"KRN",19,13586,10,23,"^")
PSS MED INSTRUCTION REPORT
"KRN",19,13586,99)
61279,30506
"KRN",19,13586,"U")
ENHANCED ORDER CHECKS SETUP ME
"KRN",19,13587,-1)
0^5
"KRN",19,13587,0)
PSS MED ROUTES INITIAL MAPPING^Find Unmapped Local Medication Routes^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13587,1,0)
^19.06^4^4^3080513^^
"KRN",19,13587,1,1,0)
This option will loop through all entries in the MEDICATION ROUTES (#51.2)
"KRN",19,13587,1,2,0)
File and find entries that are marked for 'ALL PACKAGES' in the PACKAGE
"KRN",19,13587,1,3,0)
USE (#3) Field that are not mapped to an entry in the STANDARD MEDICATION
"KRN",19,13587,1,4,0)
ROUTES (#51.23) File, and prompt for the mapping.
"KRN",19,13587,25)
MATCH^PSSMEDRT
"KRN",19,13587,"U")
FIND UNMAPPED LOCAL MEDICATION
"KRN",19,13588,-1)
0^3
"KRN",19,13588,0)
PSS MAP ONE MED ROUTE^Map Local Medication Route to Standard^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13588,1,0)
^19.06^3^3^3080513^^
"KRN",19,13588,1,1,0)
This options provides the ability to select an entry from the MEDICATION 
"KRN",19,13588,1,2,0)
ROUTES (#51.2) File and map it to an entry in the STANDARD MEDICATION
"KRN",19,13588,1,3,0)
ROUTES (#51.23) File.
"KRN",19,13588,25)
ONE^PSSMEDRT
"KRN",19,13588,"U")
MAP LOCAL MEDICATION ROUTE TO 
"KRN",19,13589,-1)
0^6
"KRN",19,13589,0)
PSS STRENGTH MISMATCH^Strength Mismatch Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13589,1,0)
^^4^4^3071017^
"KRN",19,13589,1,1,0)
This option provides a report that shows all entries from the DRUG (#50)
"KRN",19,13589,1,2,0)
File that have data in the STRENGTH (#901) Field  that does not match the
"KRN",19,13589,1,3,0)
data in the STRENGTH (#2) Field from the match in the VA PRODUCT (#50.68) 
"KRN",19,13589,1,4,0)
File.
"KRN",19,13589,25)
EN^PSSTRENG
"KRN",19,13589,"U")
STRENGTH MISMATCH REPORT
"KRN",19,13590,-1)
0^7
"KRN",19,13590,0)
PSS LOCAL POSSIBLE DOSAGES^Local Possible Dosages Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13590,1,0)
^^5^5^3080331^
"KRN",19,13590,1,1,0)
This option provides a report that displays entries from the LOCAL
"KRN",19,13590,1,2,0)
POSSIBLE DOSAGE (#50.0904) Subfile of the DRUG (#50) File with missing
"KRN",19,13590,1,3,0)
data in DOSE UNIT (#4) Field and the NUMERIC DOSE (#5) Field. This data
"KRN",19,13590,1,4,0)
needs to be populated if Dosage checks are to be performed, when that
"KRN",19,13590,1,5,0)
Local Possible Dosage is selected for an order.
"KRN",19,13590,25)
EN^PSSLDOSE
"KRN",19,13590,"U")
LOCAL POSSIBLE DOSAGES REPORT
"KRN",19,13591,-1)
0^9
"KRN",19,13591,0)
PSS LOCAL DOSAGES EDIT^Map Local Possible Dosages^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13591,1,0)
^^5^5^3080331^
"KRN",19,13591,1,1,0)
This option allows edits to the DOSE UNIT (#4) Field and the NUMERIC DOSE
"KRN",19,13591,1,2,0)
(#5) Field that are associated with entries from the LOCAL POSSIBLE DOSAGE
"KRN",19,13591,1,3,0)
(#50.0904) Subfile of the DRUG (#50) File. This data needs to be populated
"KRN",19,13591,1,4,0)
if Dosage checks are to be performed, when that Local Possible Dosage is
"KRN",19,13591,1,5,0)
selected for an order.
"KRN",19,13591,25)
EDT^PSSLDEDT
"KRN",19,13591,"U")
MAP LOCAL POSSIBLE DOSAGES
"KRN",19,13592,-1)
0^10
"KRN",19,13592,0)
PSS LOCAL DOSAGES EDIT ALL^Find Unmapped Local Possible Dosages^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13592,1,0)
^19.06^6^6^3080504^^
"KRN",19,13592,1,1,0)
This option loops through and finds entries in the LOCAL POSSIBLE DOSAGE
"KRN",19,13592,1,2,0)
(#50.0904) Subfile of the DRUG (#50) File without data populated in the
"KRN",19,13592,1,3,0)
DOSE UNIT (#4) Field and the NUMERIC DOSE (#5) Field, and will prompt for
"KRN",19,13592,1,4,0)
data entry into these fields. This data needs to be populated if Dosage
"KRN",19,13592,1,5,0)
checks are to be performed, when that Local Possible Dosage is selected
"KRN",19,13592,1,6,0)
for an order.
"KRN",19,13592,25)
EN^PSSLDALL
"KRN",19,13592,"U")
FIND UNMAPPED LOCAL POSSIBLE D
"KRN",19,13593,-1)
0^15
"KRN",19,13593,0)
PSS MED ROUTE MAPPING CHANGES^Medication Route Mapping History Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13593,1,0)
^19.06^3^3^3071121^^
"KRN",19,13593,1,1,0)
This option will provide a report that shows all of the mapping changes
"KRN",19,13593,1,2,0)
between entries from the MEDICATION ROUTES (#51.2) File to entries in the
"KRN",19,13593,1,3,0)
STANDARD MEDICATION ROUTES (#51.23) File.
"KRN",19,13593,25)
DRIVER^PSSMEDCH
"KRN",19,13593,"U")
MEDICATION ROUTE MAPPING HISTO
"KRN",19,13594,-1)
0^12
"KRN",19,13594,0)
PSS SCHEDULE REPORT^Administration Schedule File Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13594,1,0)
^^5^5^3071017^
"KRN",19,13594,1,1,0)
This option provides a report of entries from the ADMINISTRATION SCHEDULE
"KRN",19,13594,1,2,0)
(#51.1) File that shows whether or not data has been entered in the 
"KRN",19,13594,1,3,0)
FREQUENCY (IN MINUTES) (#2) Field for the entries. To perform Dosage
"KRN",19,13594,1,4,0)
checks on medication orders, a frequency must be derived from the Schedule
"KRN",19,13594,1,5,0)
of the order.
"KRN",19,13594,25)
EN^PSSSCHRP
"KRN",19,13594,"U")
ADMINISTRATION SCHEDULE FILE R
"KRN",19,13595,-1)
0^17
"KRN",19,13595,0)
PSS MED ROUTE MAPPING REPORT^Medication Route Mapping Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13595,1,0)
^19.06^3^3^3080513^^
"KRN",19,13595,1,1,0)
This option provides a report that shows the status of the current mapping
"KRN",19,13595,1,2,0)
from the Medication Routes (#51.2) File to the Standard Medication Routes
"KRN",19,13595,1,3,0)
(#51.23) File.
"KRN",19,13595,25)
REP^PSSMEDRT
"KRN",19,13595,"U")
MEDICATION ROUTE MAPPING REPOR
"KRN",19,13596,-1)
0^20
"KRN",19,13596,0)
PSS MARK PREMIX SOLUTIONS^Mark PreMix Solutions^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13596,1,0)
^19.06^2^2^3080419^^
"KRN",19,13596,1,1,0)
This option will be used to mark entries from the IV SOLUTIONS (#52.7) 
"KRN",19,13596,1,2,0)
File as PreMixes, by allowing editing of the PREMIX (#18) Field.
"KRN",19,13596,25)
EDIT^PSSPRUTL
"KRN",19,13596,"U")
MARK PREMIX SOLUTIONS
"KRN",19,13597,-1)
0^34
"KRN",19,13597,0)
PSS IV SOLUTION REPORT^IV Solution Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13597,1,0)
^^2^2^3080331^
"KRN",19,13597,1,1,0)
This report will display all entries from the IV SOLUTIONS (#52.7) File, 
"KRN",19,13597,1,2,0)
or just those entries marked as PreMixes in the PREMIX (#18) Field.
"KRN",19,13597,25)
REP^PSSPRMIX
"KRN",19,13597,"U")
IV SOLUTION REPORT
"KRN",19,13598,-1)
0^26
"KRN",19,13598,0)
PSS MEDICATION ROUTE REQUEST^Request Change to Standard Medication Route^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13598,1,0)
^^2^2^3071017^
"KRN",19,13598,1,1,0)
This option enables a request to be made to have a new entry added, or a
"KRN",19,13598,1,2,0)
current entry changed in the STANDARD MEDICATION ROUTES (#51.23) File.
"KRN",19,13598,25)
REQ^PSSMEDRQ
"KRN",19,13598,"U")
REQUEST CHANGE TO STANDARD MED
"KRN",19,13599,-1)
0^28
"KRN",19,13599,0)
PSS MEDICATION ROUTES MGMT^Medication Routes Management^^M^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13599,1,0)
^^3^3^3071019^
"KRN",19,13599,1,1,0)
This Sub-Menu contains options related to Medication Routes in both the 
"KRN",19,13599,1,2,0)
MEDICATION ROUTES (#51.2) File and the STANDARD MEDICATION ROUTES (#51.23)
"KRN",19,13599,1,3,0)
File.
"KRN",19,13599,10,0)
^19.01IP^4^4
"KRN",19,13599,10,1,0)
12062^^1
"KRN",19,13599,10,1,"^")
PSS MEDICATION ROUTES EDIT
"KRN",19,13599,10,2,0)
13595^^2
"KRN",19,13599,10,2,"^")
PSS MED ROUTE MAPPING REPORT
"KRN",19,13599,10,3,0)
13593^^3
"KRN",19,13599,10,3,"^")
PSS MED ROUTE MAPPING CHANGES
"KRN",19,13599,10,4,0)
13598^^4
"KRN",19,13599,10,4,"^")
PSS MEDICATION ROUTE REQUEST
"KRN",19,13599,99)
61279,30506
"KRN",19,13599,"U")
MEDICATION ROUTES MANAGEMENT
"KRN",19,13600,-1)
0^32
"KRN",19,13600,0)
PSS SCHEDULE MANAGEMENT^Standard Schedule Management^^M^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13600,1,0)
^^1^1^3071019^
"KRN",19,13600,1,1,0)
This Sub-Menu contains options needed for Schedule maintenance.
"KRN",19,13600,10,0)
^19.01IP^2^2
"KRN",19,13600,10,1,0)
10552^^1
"KRN",19,13600,10,1,"^")
PSS SCHEDULE EDIT
"KRN",19,13600,10,2,0)
13594^^2
"KRN",19,13600,10,2,"^")
PSS SCHEDULE REPORT
"KRN",19,13600,99)
61279,30506
"KRN",19,13600,"U")
STANDARD SCHEDULE MANAGEMENT
"KRN",19,13601,-1)
0^23
"KRN",19,13601,0)
PSS DRUG TEXT MANAGEMENT^Drug Text Management^^M^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13601,1,0)
^^1^1^3071019^
"KRN",19,13601,1,1,0)
This Sub-Menu contains options concerning Drug Text.
"KRN",19,13601,10,0)
^19.01IP^2^2
"KRN",19,13601,10,1,0)
11690^^1
"KRN",19,13601,10,1,"^")
PSS EDIT TEXT
"KRN",19,13601,10,2,0)
12226^^2
"KRN",19,13601,10,2,"^")
PSS DRUG TEXT FILE REPORT
"KRN",19,13601,99)
61279,30506
"KRN",19,13601,"U")
DRUG TEXT MANAGEMENT
"KRN",19,13602,-1)
0^33
"KRN",19,13602,0)
PSS DOSE UNIT REQUEST^Request Change to Dose Unit^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13602,1,0)
^19.06^2^2^3080122^^
"KRN",19,13602,1,1,0)
This option enables a request to be made to have a new entry added, or a 
"KRN",19,13602,1,2,0)
current entry changed in the DOSE UNITS (#51.24) File.
"KRN",19,13602,25)
DOSE^PSSMEDRQ
"KRN",19,13602,"U")
REQUEST CHANGE TO DOSE UNIT
"KRN",19,13603,-1)
0^36
"KRN",19,13603,0)
PSS MED INSTRUCTION REPORT^Medication Instruction File Report^^R^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13603,1,0)
^^5^5^3080418^
"KRN",19,13603,1,1,0)
This option provides a report of entries from the MEDICATION INSTRUCTION 
"KRN",19,13603,1,2,0)
(#51) File that shows whether or not data has been entered in the 
"KRN",19,13603,1,3,0)
FREQUENCY (IN MINUTES) (#31) Field. To perform Dosage checks on 
"KRN",19,13603,1,4,0)
medication orders, a frequency must be derived from the Schedule of the 
"KRN",19,13603,1,5,0)
order.
"KRN",19,13603,25)
EN^PSSMIRPT
"KRN",19,13603,"U")
MEDICATION INSTRUCTION FILE RE
"KRN",19,13604,-1)
0^35
"KRN",19,13604,0)
PSS MED INSTRUCTION MANAGEMENT^Medication Instruction Management^^M^^^^^^^^PHARMACY DATA MANAGEMENT
"KRN",19,13604,1,0)
^^2^2^3080418^
"KRN",19,13604,1,1,0)
The Sub-Menu contains options related to the MEDICATION INSTRUCTION (#51) 
"KRN",19,13604,1,2,0)
File.
"KRN",19,13604,10,0)
^19.01IP^2^2
"KRN",19,13604,10,1,0)
10553^^1
"KRN",19,13604,10,1,"^")
PSSJU MI
"KRN",19,13604,10,2,0)
13603^^2
"KRN",19,13604,10,2,"^")
PSS MED INSTRUCTION REPORT
"KRN",19,13604,99)
61279,30506
"KRN",19,13604,"U")
MEDICATION INSTRUCTION MANAGEM
"MBREQ")
0
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",517,-1)
1^1
"PKG",517,0)
PHARMACY DATA MANAGEMENT^PSS^Maintenance of Pharmacy files.
"PKG",517,20,0)
^9.402P^^
"PKG",517,22,0)
^9.49I^1^1
"PKG",517,22,1,0)
1.0^2970930^2971014^11595
"PKG",517,22,1,"PAH",1,0)
129^3081213^636
"PKG",517,22,1,"PAH",1,1,0)
^^7^7^3081213
"PKG",517,22,1,"PAH",1,1,1,0)
This patch provides the functionality needed to prepare for the release of
"PKG",517,22,1,"PAH",1,1,2,0)
Pharmacy Re-Engineering V. 0.5, which will change the current Pharmacy
"PKG",517,22,1,"PAH",1,1,3,0)
Order Checking system from using the data stored in Vista to using data
"PKG",517,22,1,"PAH",1,1,4,0)
from the First DataBank commercial database system. There is set-up work 
"PKG",517,22,1,"PAH",1,1,5,0)
that is requred to be completed prior to the installation of Pharmacy 
"PKG",517,22,1,"PAH",1,1,6,0)
Re-Engneering V. 0.5, and this patch provides the tools needed to complete
"PKG",517,22,1,"PAH",1,1,7,0)
that set-up work.
"PRE")
PSS129EN
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
21
"RTN","PSS129EN")
0^23^B5077035^n/a
"RTN","PSS129EN",1,0)
PSS129EN ;BIR/RTR-ENVIRONMENT CHECK ROUTINE FOR PSS*1*129 ;05/14/08
"RTN","PSS129EN",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/97;Build 67
"RTN","PSS129EN",3,0)
 ;
"RTN","PSS129EN",4,0)
 Q:'$G(XPDENV)
"RTN","PSS129EN",5,0)
 ;
"RTN","PSS129EN",6,0)
EN ;
"RTN","PSS129EN",7,0)
 N PSSVJMES,PSSVJAR,PSSVJARX,PSSVJLP,PSSVJFLG,DIC,DTOUT,DUOUT,X,Y,DIRUT,DIROUT,DIR
"RTN","PSS129EN",8,0)
 S PSSVJMES(1)="Upon completion of the Post Install, a mail message will be sent"
"RTN","PSS129EN",9,0)
 S PSSVJMES(2)="to the patch installer, and at least one pharmacy user. Please"
"RTN","PSS129EN",10,0)
 S PSSVJMES(3)="enter one or more Pharmacy users (e.g., Pharmacy ADPAC or designee)"
"RTN","PSS129EN",11,0)
 S PSSVJMES(4)="who should receive this message."
"RTN","PSS129EN",12,0)
 D MES^XPDUTL(.PSSVJMES)
"RTN","PSS129EN",13,0)
 S PSSVJAR(DUZ)=""
"RTN","PSS129EN",14,0)
 S PSSVJFLG=0
"RTN","PSS129EN",15,0)
 ;
"RTN","PSS129EN",16,0)
ASK ;
"RTN","PSS129EN",17,0)
 D BMES^XPDUTL(" ")
"RTN","PSS129EN",18,0)
 K DIC S DIC=200,DIC(0)="QEAMZ",DIC("A")="Enter Pharmacy User: "
"RTN","PSS129EN",19,0)
 D ^DIC K DIC I $D(DTOUT)!($D(DUOUT))!(+Y'>0) G END
"RTN","PSS129EN",20,0)
 I $D(PSSVJAR(+Y)) D BMES^XPDUTL("Already selected.") G ASK
"RTN","PSS129EN",21,0)
 S PSSVJFLG=1
"RTN","PSS129EN",22,0)
 S PSSVJAR(+Y)=""
"RTN","PSS129EN",23,0)
 G ASK
"RTN","PSS129EN",24,0)
 ;
"RTN","PSS129EN",25,0)
END ;
"RTN","PSS129EN",26,0)
 I 'PSSVJFLG D BMES^XPDUTL("At least one pharmacy user must be selected. Install aborted.") S XPDABORT=2 Q
"RTN","PSS129EN",27,0)
 D BMES^XPDUTL(" ")
"RTN","PSS129EN",28,0)
 K DIR,Y S DIR(0)="Y",DIR("B")="Y",DIR("A")="Continue with install",DIR("?")="Enter 'Y' to continue with install, enter 'N' or '^' to abort install" D ^DIR K DIR
"RTN","PSS129EN",29,0)
 I Y'=1!($D(DTOUT))!($D(DUOUT)) S XPDABORT=2 Q
"RTN","PSS129EN",30,0)
 D BMES^XPDUTL(" ")
"RTN","PSS129EN",31,0)
 F PSSVJLP=0:0 S PSSVJLP=$O(PSSVJAR(PSSVJLP)) Q:'PSSVJLP  S @XPDGREF@("PSSVJARX",PSSVJLP)=""
"RTN","PSS129EN",32,0)
 Q
"RTN","PSSDFEE")
0^16^B24229873^B3042568
"RTN","PSSDFEE",1,0)
PSSDFEE ;BIR/ASJ-VARIOUS FILES ENTER EDIT ROUTINE ;01/21/00
"RTN","PSSDFEE",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**38,48,125,129**;9/30/97;Build 67
"RTN","PSSDFEE",3,0)
DF ;Dosage File Enter/Edit
"RTN","PSSDFEE",4,0)
 D ^PSSDEE2 N DIC,PSSDF,DLAYGO,PSSREC,X,Y,D,%,%X,%Y,DIE,DA,DR,DIR,DTOUT,DUOUT,DIROUT,DIRUT,D0
"RTN","PSSDFEE",5,0)
 F  W !! S DIC(0)="QEAMZ",DIC="^PS(50.606,",DIC("S")="I '$P(^(0),""^"",2)!($P(^(0),""^"",2)>DT)" D ^DIC S PSSREC=+Y Q:PSSREC<0  W !!,"NAME: ",Y(0,0) D EDT(DIC,PSSREC,"[PSS DOSAGE FORM]",50.606)
"RTN","PSSDFEE",6,0)
 W ! Q
"RTN","PSSDFEE",7,0)
MR ;Medication Routes File Enter/Edit
"RTN","PSSDFEE",8,0)
 D ^PSSDEE2 N DIC,PSSDF,DLAYGO,PSSDMRA,PSSREC,X,Y,D,%,%X,%Y,PSSDMRQT,DIE,DA,DR,DIR,DTOUT,DUOUT,DIROUT,DIRUT,PSSDMREN,D0
"RTN","PSSDFEE",9,0)
 S PSSDMRQT=0 F  Q:PSSDMRQT  W !! S DIC(0)="QEAMZIL",DIC="^PS(51.2,",DLAYGO=51.2 D ^DIC Q:Y<0  S (PSSREC,PSSDMREN)=+Y  S PSSDMRA=$P($G(^PS(51.2,PSSREC,1)),"^") D EDT(DIC,PSSREC,"[PSS MEDICATION ROUTES]",51.2)
"RTN","PSSDFEE",10,0)
 W ! Q
"RTN","PSSDFEE",11,0)
CF ;Rx Consult File
"RTN","PSSDFEE",12,0)
 Q
"RTN","PSSDFEE",13,0)
 ; It was decided not to put this functionality in PSS*1*38
"RTN","PSSDFEE",14,0)
 D ^PSSDEE2 N DIC,PSSDF,DLAYGO
"RTN","PSSDFEE",15,0)
 F  W !! S DIC(0)="QEAMZIL",DIC="^PS(54,",DLAYGO=54 D ^DIC Q:Y<0  S PSSREC=+Y D EDT(DIC,PSSREC,"[PSS RX CONSULT]",54)
"RTN","PSSDFEE",16,0)
 W @IOF Q
"RTN","PSSDFEE",17,0)
 ;
"RTN","PSSDFEE",18,0)
EDT(DIE,DA,DR,PSFILE)    ;
"RTN","PSSDFEE",19,0)
 N PSREC S PSREC=DA
"RTN","PSSDFEE",20,0)
 L +^PS(PSFILE,PSREC):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","PSSDFEE",21,0)
 I '$T W !!,$C(7),"Another person is editing this entry." Q
"RTN","PSSDFEE",22,0)
 K DTOUT D ^DIE
"RTN","PSSDFEE",23,0)
 I PSFILE=51.2 I $D(Y)!($D(DTOUT)) D:'$P($G(^PS(51.2,PSSDMREN,1)),"^")&($P($G(^PS(51.2,PSSDMREN,0)),"^",4)) MESS L -^PS(PSFILE,PSREC) Q
"RTN","PSSDFEE",24,0)
 K DIE,DR,DA,Y
"RTN","PSSDFEE",25,0)
 I PSFILE=51.2 D STN
"RTN","PSSDFEE",26,0)
 L -^PS(PSFILE,PSREC)
"RTN","PSSDFEE",27,0)
 Q
"RTN","PSSDFEE",28,0)
 ;
"RTN","PSSDFEE",29,0)
STN ;Standard Med Route Mapping
"RTN","PSSDFEE",30,0)
 N PSSDMRX,PSSDMRNW,PSSDMRFL
"RTN","PSSDFEE",31,0)
 I '$P($G(^PS(51.2,PSSDMREN,0)),"^",4) Q
"RTN","PSSDFEE",32,0)
 I PSSDMRA S PSSDMRX=0 D  I PSSDMRX Q:PSSDMRQT  W !!,"Mapping Remains Unchanged.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR S:$D(DTOUT)!($D(DUOUT)) PSSDMRQT=1 Q
"RTN","PSSDFEE",33,0)
 .W !!,"Already mapped to:",!,"Stnd Route: '"_$P($G(^PS(51.23,PSSDMRA,0)),"^")_"'  FDB Route: '"_$P($G(^PS(51.23,PSSDMRA,0)),"^",2)_"'"
"RTN","PSSDFEE",34,0)
 .W ! K DIR,Y S DIR(0)="Y",DIR("B")="N",DIR("A")="Do you want to remap to a different Standard Med Route"
"RTN","PSSDFEE",35,0)
 .S DIR("?")=" ",DIR("?",1)="Enter 'Y' to map to a different Standard Med Route,",DIR("?",2)="enter 'N' or Press <ret> to not change this mapping."
"RTN","PSSDFEE",36,0)
 .K DTOUT,DUOUT D ^DIR K DIR S:$D(DTOUT)!($D(DUOUT)) PSSDMRQT=1 I Y'=1!($D(DTOUT))!($D(DUOUT)) S PSSDMRX=1
"RTN","PSSDFEE",37,0)
 W ! S DA=PSSDMREN,DIE="^PS(51.2,",DR=10 D ^DIE I $D(Y)!($D(DTOUT)) D:'$P($G(^PS(51.2,PSSDMREN,1)),"^") MESSA W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR S:$D(DTOUT)!($D(DUOUT)) PSSDMRQT=1 Q
"RTN","PSSDFEE",38,0)
 S PSSDMRNW=$P($G(^PS(51.2,PSSDMREN,1)),"^")
"RTN","PSSDFEE",39,0)
 I 'PSSDMRNW D MESS Q
"RTN","PSSDFEE",40,0)
 S PSSDMRFL=0 I PSSDMRA,PSSDMRNW,PSSDMRA'=PSSDMRNW S PSSDMRFL=1
"RTN","PSSDFEE",41,0)
 I PSSDMRA,PSSDMRNW,'PSSDMRFL D  W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR S:$D(DTOUT)!($D(DUOUT)) PSSDMRQT=1 K DIR Q
"RTN","PSSDFEE",42,0)
 .W !!,"No mapping changes made.",!
"RTN","PSSDFEE",43,0)
 .W !,"Local Route: '"_$P($G(^PS(51.2,PSSDMREN,0)),"^")_"' remains mapped to",!,"Stnd Route: '"_$P($G(^PS(51.23,PSSDMRNW,0)),"^")_"'   FDB Route: '"_$P($G(^(0)),"^",2)_"'"
"RTN","PSSDFEE",44,0)
 W !!!,"Local Route: '"_$P($G(^PS(51.2,PSSDMREN,0)),"^")_"' has been "_$S(PSSDMRFL:"remapped",1:"mapped")_" to",!,"Stnd Route: '"_$P($G(^PS(51.23,PSSDMRNW,0)),"^")_"'   FDB Route: '"_$P($G(^(0)),"^",2)_"'",!
"RTN","PSSDFEE",45,0)
 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR S:$D(DTOUT)!($D(DUOUT)) PSSDMRQT=1 K DIR
"RTN","PSSDFEE",46,0)
 Q
"RTN","PSSDFEE",47,0)
 ;
"RTN","PSSDFEE",48,0)
MESS ;
"RTN","PSSDFEE",49,0)
 W !!!," *** No dosing checks will be performed on orders containing this local",!,"  medication route until it is mapped to a standard medication route.***",!
"RTN","PSSDFEE",50,0)
 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR S:$D(DTOUT)!($D(DUOUT)) PSSDMRQT=1 K DIR
"RTN","PSSDFEE",51,0)
 Q
"RTN","PSSDFEE",52,0)
MESSA ;
"RTN","PSSDFEE",53,0)
 W !!!," *** No dosing checks will be performed on orders containing this local",!,"  medication route until it is mapped to a standard medication route.***",!
"RTN","PSSDFEE",54,0)
 Q
"RTN","PSSDOS")
0^20^B50760637^B44528066
"RTN","PSSDOS",1,0)
PSSDOS ;BIR/RTR-Dose edit option ;03/10/00
"RTN","PSSDOS",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**38,49,50,47,129**;9/30/97;Build 67
"RTN","PSSDOS",3,0)
 ;Reference to ^PS(50.607 supported by DBIA #2221
"RTN","PSSDOS",4,0)
 ;have an entry point for NDF to call when rematching
"RTN","PSSDOS",5,0)
DOSN ;
"RTN","PSSDOS",6,0)
 N X,Y,PSSNFID,PSSNAT,PSSNAT1,PSSNATND,PSSNATDF,PSSNATUN,PSSNOCON,PSSST,PSSUN,PSSNAME,PSSIND,PSSDOSA,PSSXYZ,PSSNATST,POSDOS,LPDOS
"RTN","PSSDOS",7,0)
 N PSSDIEN,PSSONLYI,PSSONLYO,PSSTALK,PSSIZZ,PSSOZZ,PSSSKIPP
"RTN","PSSDOS",8,0)
 N PSSIEN S PSSIEN=DA
"RTN","PSSDOS",9,0)
DOSNX ;
"RTN","PSSDOS",10,0)
 D STUN
"RTN","PSSDOS",11,0)
 I PSSST="",$O(^PSDRUG(PSSIEN,"DOS1",0)) K ^PSDRUG(PSSIEN,"DOS") K ^PSDRUG(PSSIEN,"DOS1")
"RTN","PSSDOS",12,0)
 S (PSSIZZ,PSSOZZ)=0 S:'$G(PSSSKIPP) PSSSKIPP=0
"RTN","PSSDOS",13,0)
 S PSSXYZ=0 D CHECK
"RTN","PSSDOS",14,0)
 ;Display strength
"RTN","PSSDOS",15,0)
 D:$P($G(^PSDRUG(PSSIEN,"DOS")),"^")'="" XNWS I $P($G(^PSDRUG(PSSIEN,"DOS")),"^")'="",$O(^PSDRUG(PSSIEN,"DOS1",0)) N PSSIENS,PSS11 G DOSA
"RTN","PSSDOS",16,0)
 ;.N PSSDESTP W !!,"Strength from National Drug File match => "_$S($E($G(PSSNATST),1)=".":"0",1:"")_$G(PSSNATST)_"    "_$P($G(^PS(50.607,+$G(PSSUN),0)),"^")
"RTN","PSSDOS",17,0)
 ;.W !,"Strength currently in the Drug File    => "_$S($E($P($G(^PSDRUG(PSSIEN,"DOS")),"^"),1)=".":"0",1:"")_$P($G(^PSDRUG(PSSIEN,"DOS")),"^")_"    "_$S($P($G(^PS(50.607,+$G(PSSUN),0)),"^")'["/":$P($G(^(0)),"^"),1:"") S PSSDESTP=1 D MS^PSSDSPOP
"RTN","PSSDOS",18,0)
 ;.K PSSDESTP
"RTN","PSSDOS",19,0)
 ;
"RTN","PSSDOS",20,0)
 I $G(PSSXYZ),'$O(^PSDRUG(PSSIEN,"DOS1",0)) D  D ^DIR K DIR I Y=1 S PSSSKIPP=1 D EN2^PSSUTIL(PSSIEN,1) G DOSNX
"RTN","PSSDOS",21,0)
 .K DIR S DIR(0)="Y",DIR("B")="N",DIR("A")="Create Possible Dosages for this drug",DIR("?")=" "
"RTN","PSSDOS",22,0)
 .S DIR("?",1)="This drug meets the criteria to have Possible Dosages, but it currently does",DIR("?",2)="not have any. If you answer 'YES', Possible Dosages will be created for this"
"RTN","PSSDOS",23,0)
 .S DIR("?",3)="drug, based on the match to the National Drug File."
"RTN","PSSDOS",24,0)
 .W !!!,"This drug can have Possible Dosages, but currently does not have any.",!
"RTN","PSSDOS",25,0)
 I '$O(^PSDRUG(PSSIEN,"DOS1",0)) D LPD,QUES G:'Y END G LOCX
"RTN","PSSDOS",26,0)
DOSA S PSSST=$P($G(^PSDRUG(PSSIEN,"DOS")),"^")
"RTN","PSSDOS",27,0)
 W !!,"Strength => "_$S($E($G(PSSST),1)=".":"0",1:"")_$G(PSSST)_"   Unit => "_$S($P($G(^PS(50.607,+$G(PSSUN),0)),"^")'["/":$P($G(^(0)),"^"),1:"") W !
"RTN","PSSDOS",28,0)
 ;;;I $D(^PSDRUG(PSSIEN,"DOS1"))
"RTN","PSSDOS",29,0)
 W !,"POSSIBLE DOSAGES:" D
"RTN","PSSDOS",30,0)
 .F PDS=0:0 S PDS=$O(^PSDRUG(PSSIEN,"DOS1",PDS)) Q:'PDS  D
"RTN","PSSDOS",31,0)
 ..S POSDOS=$G(^PSDRUG(PSSIEN,"DOS1",PDS,0))
"RTN","PSSDOS",32,0)
 ..W !,"   DISPENSE UNITS PER DOSE: ",$S($E($P(POSDOS,U),1)=".":"0",1:"")_$P(POSDOS,U) D
"RTN","PSSDOS",33,0)
 ...S X=$P(POSDOS,U) D SET^PSSDOSLZ W ?38,"DOSE: ",X,?60,"PACKAGE: ",$P(POSDOS,U,3)
"RTN","PSSDOS",34,0)
 ;;;I $D(^PSDRUG(PSSIEN,"DOS2"))
"RTN","PSSDOS",35,0)
 W !!,"LOCAL POSSIBLE DOSAGES:" D
"RTN","PSSDOS",36,0)
 .F PDS=0:0 S PDS=$O(^PSDRUG(PSSIEN,"DOS2",PDS)) Q:'PDS  D
"RTN","PSSDOS",37,0)
 ..S LPDOS=$G(^PSDRUG(PSSIEN,"DOS2",PDS,0)) W !,"  LOCAL POSSIBLE DOSAGE: " D
"RTN","PSSDOS",38,0)
 ...I $L($P(LPDOS,U))'>27 W $P(LPDOS,U),?55,"PACKAGE: ",$P(LPDOS,U,2)
"RTN","PSSDOS",39,0)
 ...E   W !,?10,$P(LPDOS,U),!,?55,"PACKAGE: ",$P(LPDOS,U,2)
"RTN","PSSDOS",40,0)
 ;
"RTN","PSSDOS",41,0)
 W !! K DIR S DIR(0)="Y",DIR("A")="Do you want to edit the dosages",DIR("B")="N" D ^DIR K DIR I 'Y W ! D END Q
"RTN","PSSDOS",42,0)
 I $G(PSSST) W !!,"Changing the strength will update all possible dosages for this Drug.",!
"RTN","PSSDOS",43,0)
 ;Edit Strength
"RTN","PSSDOS",44,0)
 I $G(PSSST) W ! K DIE S DIE="^PSDRUG(",DA=PSSIEN,DR=901 D ^DIE W ! K DIE,PSSXYZ I $P($G(^PSDRUG(PSSIEN,"DOS")),"^")="" K ^PSDRUG(PSSIEN,"DOS") K ^PSDRUG(PSSIEN,"DOS1") W !!,"Deleting Strength has deleted all Possible Dosages!",!
"RTN","PSSDOS",45,0)
 I '$P($G(^PSDRUG(PSSIEN,"DOS")),"^") D LPD D QUES G:'Y END G LOC
"RTN","PSSDOS",46,0)
 ;
"RTN","PSSDOS",47,0)
DOSA1 K DIC S DA(1)=PSSIEN,DIC="^PSDRUG("_PSSIEN_",""DOS1"",",DIC(0)="QEAMLZ",DIC("A")="Select DISPENSE UNITS PER DOSE: " D  D ^DIC K DIC I Y<1!($D(DTOUT))!($D(DUOUT)) G DOSLOC
"RTN","PSSDOS",48,0)
 .S DIC("W")="W ""  ""_$S($E($P($G(^PSDRUG(PSSIEN,""DOS1"",+Y,0)),""^"",2),1)=""."":""0"",1:"""")_$P($G(^PSDRUG(PSSIEN,""DOS1"",+Y,0)),""^"",2)_""    ""_$P($G(^PSDRUG(PSSIEN,""DOS1"",+Y,0)),""^"",3)"
"RTN","PSSDOS",49,0)
 S PSSDOSA=+Y
"RTN","PSSDOS",50,0)
 W ! K DIE S DA(1)=PSSIEN,DA=PSSDOSA,DR=".01;2",DIE="^PSDRUG("_PSSIEN_",""DOS1""," D ^DIE K DIE D:'$D(Y)&('$D(DTOUT)) BCMA^PSSDOSER G:$D(Y)!($D(DTOUT)) DOSLOC
"RTN","PSSDOS",51,0)
 W ! G DOSA1
"RTN","PSSDOS",52,0)
DOSLOC ;
"RTN","PSSDOS",53,0)
 S (PSSPCI,PSSPCO)=0
"RTN","PSSDOS",54,0)
 F PSSPCZ=0:0 S PSSPCZ=$O(^PSDRUG(PSSIEN,"DOS1",PSSPCZ)) Q:'PSSPCZ  D
"RTN","PSSDOS",55,0)
 .I $P($G(^PSDRUG(PSSIEN,"DOS1",PSSPCZ,0)),"^",2)'="" S:$P($G(^(0)),"^",3)["I" PSSPCI=1 S:$P($G(^(0)),"^",3)["O" PSSPCO=1
"RTN","PSSDOS",56,0)
 I PSSPCI,PSSPCO W !! K DIR S DIR(0)="Y",DIR("B")="N",DIR("A")="Enter/Edit Local Possible Dosages" D  D ^DIR K DIR I Y'=1 K PSSPCI,PSSPCO,PSSPCZ W ! D END Q
"RTN","PSSDOS",57,0)
 .S DIR("?")=" ",DIR("?",1)="Possible Dosages exist for both Outpatient Pharmacy and Inpatient Medications.",DIR("?",2)="Local Possible Dosages can be added, but will not be displayed for selection"
"RTN","PSSDOS",58,0)
 .S DIR("?",3)="as long as there are Possible Dosages.",DIR("?",4)=" ",DIR("?",5)="Enter 'Y' to Enter/Edit Local Possible Dosages."
"RTN","PSSDOS",59,0)
 K PSSPCI,PSSPCO,PSSPCZ
"RTN","PSSDOS",60,0)
 ;
"RTN","PSSDOS",61,0)
LOCX ;
"RTN","PSSDOS",62,0)
 I $G(PSSSKIPP) G LOC
"RTN","PSSDOS",63,0)
 I $G(PSSIZZ),$G(PSSOZZ) G LOC
"RTN","PSSDOS",64,0)
 K PSSONLYO,PSSONLYI
"RTN","PSSDOS",65,0)
 I $G(PSSIZZ),'$G(PSSOZZ) S PSSONLYO=1
"RTN","PSSDOS",66,0)
 I $G(PSSOZZ),'$G(PSSIZZ) S PSSONLYI=1
"RTN","PSSDOS",67,0)
 S PSSTALK=1,PSSDIEN=PSSIEN D LOC^PSSUTIL K PSSONLYI,PSSONLYO,PSSTALK,PSSDIEN
"RTN","PSSDOS",68,0)
LOC ; Edit local dose
"RTN","PSSDOS",69,0)
 D STUN,NATND,PR
"RTN","PSSDOS",70,0)
 W ! K DIC S DA(1)=PSSIEN,DIC="^PSDRUG("_PSSIEN_",""DOS2"",",DIC(0)="QEAMLZ" D  D ^DIC K DIC I Y<1!($D(DTOUT))!($D(DUOUT)) D END Q
"RTN","PSSDOS",71,0)
 .S DIC("W")="W ""  ""_$P($G(^PSDRUG(PSSIEN,""DOS2"",+Y,0)),""^"",2)"
"RTN","PSSDOS",72,0)
 S PSSDOSA=+Y,PSSOTH=$S($P($G(^PS(59.7,1,40.2)),"^"):1,1:0)
"RTN","PSSDOS",73,0)
 W ! K DIE S DA(1)=PSSIEN,DA=PSSDOSA,DR=".01;S:'$G(PSSOTH) Y=""@1"";3;@1;1",DIE="^PSDRUG("_PSSIEN_",""DOS2"","
"RTN","PSSDOS",74,0)
 D ^DIE K DIE,PSSOTH G:$P($G(^PSDRUG(PSSIEN,"DOS2",PSSDOSA,0)),"^")="" LOC D:'$D(Y)&('$D(DTOUT)) BCMA1^PSSDOSER I $D(Y)!($D(DTOUT)) D END Q
"RTN","PSSDOS",75,0)
 I $$TEST^PSSDSPOP(PSSIEN) K DA,DIE,DR,DIDEL S DA(1)=PSSIEN,DA=PSSDOSA,DR="4;5",DIE="^PSDRUG("_PSSIEN_",""DOS2""," D ^DIE K DIE,DA,DR,DIDEL I $D(Y)!($D(DTOUT)) D END Q
"RTN","PSSDOS",76,0)
 G LOC
"RTN","PSSDOS",77,0)
LPD ; Display local dose before edit
"RTN","PSSDOS",78,0)
 W !!,"LOCAL POSSIBLE DOSAGES:" D
"RTN","PSSDOS",79,0)
 .F PDS=0:0 S PDS=$O(^PSDRUG(PSSIEN,"DOS2",PDS)) Q:'PDS  D
"RTN","PSSDOS",80,0)
 ..S LPDOS=$G(^PSDRUG(PSSIEN,"DOS2",PDS,0)) W !,"  " D
"RTN","PSSDOS",81,0)
 ...I $L($P(LPDOS,U))'>27 W $P(LPDOS,U),?55,"PACKAGE: ",$P(LPDOS,U,2)
"RTN","PSSDOS",82,0)
 ...E   W !,?10,$P(LPDOS,U),!,?55,"PACKAGE: ",$P(LPDOS,U,2)
"RTN","PSSDOS",83,0)
 Q
"RTN","PSSDOS",84,0)
CHECK ;
"RTN","PSSDOS",85,0)
 K PSSNAT,PSSNATND,PSSNATDF,PSSNATUN,PSSNATST,PSSIZZ,PSSOZZ
"RTN","PSSDOS",86,0)
 D NATND
"RTN","PSSDOS",87,0)
 ;I $G(PSSST) S PSSXYZ=1 Q
"RTN","PSSDOS",88,0)
 Q:'PSSNATDF!('PSSNATUN)!($G(PSSNATST)="")
"RTN","PSSDOS",89,0)
 Q:'$D(^PS(50.606,PSSNATDF,0))!('$D(^PS(50.607,PSSNATUN,0)))
"RTN","PSSDOS",90,0)
 I PSSNATST'?.N&(PSSNATST'?.N1".".N) Q
"RTN","PSSDOS",91,0)
 I $D(^PS(50.606,"ACONI",PSSNATDF,PSSNATUN)),$O(^PS(50.606,"ADUPI",PSSNATDF,0)) S (PSSXYZ,PSSIZZ)=1
"RTN","PSSDOS",92,0)
 I $D(^PS(50.606,"ACONO",PSSNATDF,PSSNATUN)),$O(^PS(50.606,"ADUPO",PSSNATDF,0)) S (PSSXYZ,PSSOZZ)=1
"RTN","PSSDOS",93,0)
 Q
"RTN","PSSDOS",94,0)
END K PSSNFID,PSSNAT,PSSNAT1,PSSNATND,PSSNATDF,PSSNATUN,PSSNOCON,PSSST,PSSUN,PSSIEN,PSSNAME,PSSIND,PSSDOSA,PSSXYZ,PSSNATST
"RTN","PSSDOS",95,0)
 Q
"RTN","PSSDOS",96,0)
ULK ;No need to unlock, called from Drug enter/edit
"RTN","PSSDOS",97,0)
 Q:'$G(PSSIEN)
"RTN","PSSDOS",98,0)
 L -^PSDRUG(PSSIEN)
"RTN","PSSDOS",99,0)
 Q
"RTN","PSSDOS",100,0)
QUES ;
"RTN","PSSDOS",101,0)
 W ! K DIR S DIR(0)="Y",DIR("A")="Do you want to edit Local Possible Dosages",DIR("B")="N" D ^DIR K DIR Q
"RTN","PSSDOS",102,0)
 Q
"RTN","PSSDOS",103,0)
STUN S PSSST=$P($G(^PSDRUG(PSSIEN,"DOS")),"^"),PSSUN=$P($G(^("DOS")),"^",2)
"RTN","PSSDOS",104,0)
 Q
"RTN","PSSDOS",105,0)
NATND S PSSNAT=+$P($G(^PSDRUG(PSSIEN,"ND")),"^",3),PSSNAT1=$P($G(^("ND")),"^")
"RTN","PSSDOS",106,0)
 S PSSNATND=$$DFSU^PSNAPIS(PSSNAT1,PSSNAT) S PSSNATDF=$P(PSSNATND,"^"),PSSNATST=$P(PSSNATND,"^",4),PSSNATUN=$P(PSSNATND,"^",5)
"RTN","PSSDOS",107,0)
 Q
"RTN","PSSDOS",108,0)
PR I PSSST'=""!(PSSNATST'=""),(PSSUN!(PSSNATUN)) D
"RTN","PSSDOS",109,0)
 .W !!,"Strength: "_$S($E($S(PSSST'="":PSSST,1:PSSNATST),1)=".":"0",1:"")_$S(PSSST'="":PSSST,1:PSSNATST)
"RTN","PSSDOS",110,0)
 .W ?30,"Unit: "_$P($G(^PS(50.607,+$S(PSSUN:PSSUN,1:PSSNATUN),0)),"^")
"RTN","PSSDOS",111,0)
 E  W !!,"Strength: ",?30,"Unit: "
"RTN","PSSDOS",112,0)
 Q
"RTN","PSSDOS",113,0)
XNWS ;
"RTN","PSSDOS",114,0)
 N PSSDESTP W !!,"Strength from National Drug File match => "_$S($E($G(PSSNATST),1)=".":"0",1:"")_$G(PSSNATST)_"    "_$P($G(^PS(50.607,+$G(PSSUN),0)),"^")
"RTN","PSSDOS",115,0)
 W !,"Strength currently in the Drug File    => "_$S($E($P($G(^PSDRUG(PSSIEN,"DOS")),"^"),1)=".":"0",1:"")_$P($G(^PSDRUG(PSSIEN,"DOS")),"^")_"    "_$S($P($G(^PS(50.607,+$G(PSSUN),0)),"^")'["/":$P($G(^(0)),"^"),1:"") S PSSDESTP=1 D MS^PSSDSPOP
"RTN","PSSDOS",116,0)
 K PSSDESTP
"RTN","PSSDOS",117,0)
 Q
"RTN","PSSDOSER")
0^21^B56570784^B51987793
"RTN","PSSDOSER",1,0)
PSSDOSER ;BIR/RTR-Dose edit option ;03/10/00
"RTN","PSSDOSER",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**34,38,50,57,47,68,82,125,129**;9/30/97;Build 67
"RTN","PSSDOSER",3,0)
 ;Reference to ^PS(50.607 supported by DBIA #2221
"RTN","PSSDOSER",4,0)
 ;Reference to ^PS(59 supported by DBIA #1976
"RTN","PSSDOSER",5,0)
 ;
"RTN","PSSDOSER",6,0)
 ;have an entry point for NDF to call when rematching
"RTN","PSSDOSER",7,0)
DOS ;Edit dosages
"RTN","PSSDOSER",8,0)
 D CHECK^PSSUTLPR I $G(PSSNOCON) K PSSNOCON D END Q
"RTN","PSSDOSER",9,0)
 D END
"RTN","PSSDOSER",10,0)
 W !! S DIC(0)="QEAMZ",DIC("A")="Select Drug: ",DIC="^PSDRUG(" D ^DIC K DIC I Y<1!($D(DTOUT))!($D(DUOUT)) D END W ! Q
"RTN","PSSDOSER",11,0)
 S PSSIEN=+Y,PSSNAME=$P($G(^PSDRUG(PSSIEN,0)),"^"),PSSIND=$P($G(^("I")),"^"),PSSNFID=$P($G(^(0)),"^",9)
"RTN","PSSDOSER",12,0)
 S PSSPKG=$P($G(^PSDRUG(PSSIEN,2)),"^",3)
"RTN","PSSDOSER",13,0)
 W !!,"This entry is marked for the following PHARMACY packages:"
"RTN","PSSDOSER",14,0)
 W:PSSPKG["O" !,"Outpatient" W:PSSPKG["U" !,"Unit Dose"
"RTN","PSSDOSER",15,0)
 W:PSSPKG["I" !,"IV" W:PSSPKG["W" !,"Ward Stock"
"RTN","PSSDOSER",16,0)
 W:PSSPKG["N" !,"Controlled Substances" W:PSSPKG["X" !,"Non-VA Med"
"RTN","PSSDOSER",17,0)
 I PSSPKG'["O",PSSPKG'["U",PSSPKG'["I",PSSPKG'["W",PSSPKG'["N",PSSPKG'["X" W !," (none)"
"RTN","PSSDOSER",18,0)
 K PSSPKG L +^PSDRUG(PSSIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:3) I '$T W !!,$C(7),"Another person is editing this drug.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR G DOS
"RTN","PSSDOSER",19,0)
 W !!,PSSNAME_$S($G(PSSNFID):"    *N/F*",1:"") W ?52,"Inactive Date: "_$S($G(PSSIND):$E(PSSIND,4,5)_"/"_$E(PSSIND,6,7)_"/"_$E(PSSIND,2,3),1:"")
"RTN","PSSDOSER",20,0)
 S (PSSIZZ,PSSOZZ,PSSSKIPP)=0
"RTN","PSSDOSER",21,0)
RES ;
"RTN","PSSDOSER",22,0)
 D STUN
"RTN","PSSDOSER",23,0)
 I PSSST="",$O(^PSDRUG(PSSIEN,"DOS1",0)) K ^PSDRUG(PSSIEN,"DOS") K ^PSDRUG(PSSIEN,"DOS1")
"RTN","PSSDOSER",24,0)
 S PSSXYZ=0 D CHECK
"RTN","PSSDOSER",25,0)
 D:$G(PSSST) XNWS I $G(PSSST),$O(^PSDRUG(PSSIEN,"DOS1",0)) D STR G SKIP
"RTN","PSSDOSER",26,0)
 I PSSXYZ,'$O(^PSDRUG(PSSIEN,"DOS1",0)) D  D ^DIR K DIR I Y=1 S PSSSKIPP=1 D EN2^PSSUTIL(PSSIEN,1) G RES
"RTN","PSSDOSER",27,0)
 .K DIR S DIR(0)="Y",DIR("B")="N",DIR("A")="Create Possible Dosages for this drug",DIR("?")=" "
"RTN","PSSDOSER",28,0)
 .S DIR("?",1)="This drug meets the criteria to have Possible Dosages, but it currently does",DIR("?",2)="not have any. If you answer 'YES', Possible Dosages will be created for this"
"RTN","PSSDOSER",29,0)
 .S DIR("?",3)="drug, based on the match to the National Drug File."
"RTN","PSSDOSER",30,0)
 .W !!!,"This drug can have Possible Dosages, but currently does not have any.",!
"RTN","PSSDOSER",31,0)
SKIP ;
"RTN","PSSDOSER",32,0)
 K PSSXYZ
"RTN","PSSDOSER",33,0)
 I '$O(^PSDRUG(PSSIEN,"DOS1",0)) G LOCX
"RTN","PSSDOSER",34,0)
DOSA S PSSST=$P($G(^PSDRUG(PSSIEN,"DOS")),"^")
"RTN","PSSDOSER",35,0)
 W !!,"Strength => "_$S($E($G(PSSST),1)=".":"0",1:"")_$G(PSSST)_"   Unit => "_$S($P($G(^PS(50.607,+$G(PSSUN),0)),"^")'["/":$P($G(^(0)),"^"),1:"") W !
"RTN","PSSDOSER",36,0)
 K DIC S DA(1)=PSSIEN,DIC="^PSDRUG("_PSSIEN_",""DOS1"",",DIC(0)="QEAMLZ",DLAYGO=50,DIC("A")="Select DISPENSE UNITS PER DOSE: " D  D ^DIC K DIC,DLAYGO I Y<1!($D(DTOUT))!($D(DUOUT)) G DOSLOC
"RTN","PSSDOSER",37,0)
 .S DIC("W")="W ""  ""_$S($E($P($G(^PSDRUG(PSSIEN,""DOS1"",+Y,0)),""^"",2),1)=""."":""0"",1:"""")_$P($G(^PSDRUG(PSSIEN,""DOS1"",+Y,0)),""^"",2)_""    ""_$P($G(^PSDRUG(PSSIEN,""DOS1"",+Y,0)),""^"",3)"
"RTN","PSSDOSER",38,0)
 S PSSDOSA=+Y,PSSOTH=$S($P($G(^PS(59.7,1,40.2)),"^"):1,1:0)
"RTN","PSSDOSER",39,0)
 W ! K DIE S DA(1)=PSSIEN,DA=PSSDOSA,DR=".01;S:'$G(PSSOTH) Y=""@1"";3;@1;2",DIE="^PSDRUG("_PSSIEN_",""DOS1""," D ^DIE K DIE D:'$D(Y)&('$D(DTOUT)) BCMA G:$D(Y)!($D(DTOUT)) DOSLOC
"RTN","PSSDOSER",40,0)
 G DOSA
"RTN","PSSDOSER",41,0)
DOSLOC ;
"RTN","PSSDOSER",42,0)
 S (PSSPCI,PSSPCO)=0
"RTN","PSSDOSER",43,0)
 F PSSPCZ=0:0 S PSSPCZ=$O(^PSDRUG(PSSIEN,"DOS1",PSSPCZ)) Q:'PSSPCZ  D
"RTN","PSSDOSER",44,0)
 .I $P($G(^PSDRUG(PSSIEN,"DOS1",PSSPCZ,0)),"^",2)'="" S:$P($G(^(0)),"^",3)["I" PSSPCI=1 S:$P($G(^(0)),"^",3)["O" PSSPCO=1
"RTN","PSSDOSER",45,0)
 I PSSPCI,PSSPCO W !! K DIR S DIR(0)="Y",DIR("B")="N",DIR("A")="Enter/Edit Local Possible Dosages" D  D ^DIR K DIR I Y'=1 K PSSPCI,PSSPCO,PSSPCZ W ! D ULK G DOS
"RTN","PSSDOSER",46,0)
 .S DIR("?")=" ",DIR("?",1)="Possible Dosages exist for both Outpatient Pharmacy and Inpatient Medications.",DIR("?",2)="Local Possible Dosages can be added, but will not be displayed for selection"
"RTN","PSSDOSER",47,0)
 .S DIR("?",3)="as long as there are Possible Dosages.",DIR("?",4)=" ",DIR("?",5)="Enter 'Y' to Enter/Edit Local Possible Dosages."
"RTN","PSSDOSER",48,0)
 K PSSPCI,PSSPCO,PSSPCZ
"RTN","PSSDOSER",49,0)
LOCX ;
"RTN","PSSDOSER",50,0)
 I $G(PSSSKIPP) G LOC
"RTN","PSSDOSER",51,0)
 I $G(PSSIZZ),$G(PSSOZZ) G LOC
"RTN","PSSDOSER",52,0)
 K PSSONLYI,PSSONLYO
"RTN","PSSDOSER",53,0)
 I $G(PSSIZZ),'$G(PSSOZZ) S PSSONLYO=1
"RTN","PSSDOSER",54,0)
 I $G(PSSOZZ),'$G(PSSIZZ) S PSSONLYI=1
"RTN","PSSDOSER",55,0)
 S PSSTALK=1,PSSDIEN=PSSIEN D LOC^PSSUTIL K PSSONLYO,PSSONLYI,PSSTALK,PSSDIEN
"RTN","PSSDOSER",56,0)
 ;MAKE SURE THOSE ARE THE VARIABLES YOU NEED TO SET
"RTN","PSSDOSER",57,0)
LOC ; Edit local dose
"RTN","PSSDOSER",58,0)
 D STUN,NATND,PR
"RTN","PSSDOSER",59,0)
 W ! K DIC S DA(1)=PSSIEN,DIC="^PSDRUG("_PSSIEN_",""DOS2"",",DLAYGO=50,DIC(0)="QEAMLZ" D  D ^DIC K DIC,DLAYGO I Y<1!($D(DTOUT))!($D(DUOUT)) D ULK G DOS
"RTN","PSSDOSER",60,0)
 .S DIC("W")="W ""  ""_$P($G(^PSDRUG(PSSIEN,""DOS2"",+Y,0)),""^"",2)"
"RTN","PSSDOSER",61,0)
 S PSSDOSA=+Y,PSSOTH=$S($P($G(^PS(59.7,1,40.2)),"^"):1,1:0)
"RTN","PSSDOSER",62,0)
 W ! K DIE S DA(1)=PSSIEN,DA=PSSDOSA,DR=".01;S:'$G(PSSOTH) Y=""@1"";3;@1;1",DIE="^PSDRUG("_PSSIEN_",""DOS2""," D ^DIE K DIE,PSSOTH
"RTN","PSSDOSER",63,0)
 I $P($G(^PSDRUG(PSSIEN,"DOS2",PSSDOSA,0)),"^")="" G LOC
"RTN","PSSDOSER",64,0)
 D:'$D(Y)&('$D(DTOUT)) BCMA1 I $D(Y)!($D(DTOUT)) D ULK G DOS
"RTN","PSSDOSER",65,0)
 I '$D(Y)&('$D(DTOUT)),$$TEST^PSSDSPOP(PSSIEN) K DA,DIE,DR,DIDEL S DA(1)=PSSIEN,DA=PSSDOSA,DR="4;5",DIE="^PSDRUG("_PSSIEN_",""DOS2""," D ^DIE K DIE,DA,DR,DIDEL I $D(Y)!($D(DTOUT)) D ULK G DOS
"RTN","PSSDOSER",66,0)
 G LOC
"RTN","PSSDOSER",67,0)
 Q
"RTN","PSSDOSER",68,0)
STR ;Edit strength
"RTN","PSSDOSER",69,0)
 N PSSIENS,PSS11
"RTN","PSSDOSER",70,0)
 ;W !!,"Strength from National Drug File match => "_$S($E($G(PSSNATST),1)=".":"0",1:"")_$G(PSSNATST)_"    "_$P($G(^PS(50.607,+$G(PSSUN),0)),"^")
"RTN","PSSDOSER",71,0)
 ;W !,"Strength currently in the Drug File    => "_$S($E($P($G(^PSDRUG(PSSIEN,"DOS")),"^"),1)=".":"0",1:"")_$P($G(^PSDRUG(PSSIEN,"DOS")),"^")_"    "_$S($P($G(^PS(50.607,+$G(PSSUN),0)),"^")'["/":$P($G(^(0)),"^"),1:"") D MS^PSSDSPOP
"RTN","PSSDOSER",72,0)
 W ! K DIR S DIR(0)="Y",DIR("?")="Changing the strength will update all possible dosages for this Drug",DIR("B")="N",DIR("A")="Edit Strength" D ^DIR K DIR I 'Y W ! Q
"RTN","PSSDOSER",73,0)
 W ! K DIE S DIE="^PSDRUG(",DA=PSSIEN,DR=901 D ^DIE K DIE W !
"RTN","PSSDOSER",74,0)
 I $P($G(^PSDRUG(PSSIEN,"DOS")),"^")="" K ^PSDRUG(PSSIEN,"DOS") K ^PSDRUG(PSSIEN,"DOS1") W !!,"Deleting Strength has deleted all Possible Dosages!",!
"RTN","PSSDOSER",75,0)
 Q
"RTN","PSSDOSER",76,0)
CHECK ;
"RTN","PSSDOSER",77,0)
 K PSSNAT,PSSNATND,PSSNATDF,PSSNATUN,PSSNATST,PSSIZZ,PSSOZZ
"RTN","PSSDOSER",78,0)
 S PSSNAT=+$P($G(^PSDRUG(PSSIEN,"ND")),"^",3),PSSNAT1=$P($G(^("ND")),"^") I 'PSSNAT!('PSSNAT1) Q
"RTN","PSSDOSER",79,0)
 S PSSNATND=$$DFSU^PSNAPIS(PSSNAT1,PSSNAT) S PSSNATDF=$P(PSSNATND,"^"),PSSNATST=$P(PSSNATND,"^",4),PSSNATUN=$P(PSSNATND,"^",5)
"RTN","PSSDOSER",80,0)
 ;I $G(PSSST) S PSSXYZ=1 Q
"RTN","PSSDOSER",81,0)
 Q:'PSSNATDF!('PSSNATUN)!($G(PSSNATST)="")
"RTN","PSSDOSER",82,0)
 Q:'$D(^PS(50.606,PSSNATDF,0))!('$D(^PS(50.607,PSSNATUN,0)))
"RTN","PSSDOSER",83,0)
 I PSSNATST'?.N&(PSSNATST'?.N1".".N) Q
"RTN","PSSDOSER",84,0)
 I $D(^PS(50.606,"ACONI",PSSNATDF,PSSNATUN)),$O(^PS(50.606,"ADUPI",PSSNATDF,0)) S (PSSXYZ,PSSIZZ)=1
"RTN","PSSDOSER",85,0)
 I $D(^PS(50.606,"ACONO",PSSNATDF,PSSNATUN)),$O(^PS(50.606,"ADUPO",PSSNATDF,0)) S (PSSXYZ,PSSOZZ)=1
"RTN","PSSDOSER",86,0)
 Q
"RTN","PSSDOSER",87,0)
END K PSSIZZ,PSSOZZ,PSSSKIPP,PSSNFID,PSSNAT,PSSNAT1,PSSNATND,PSSNATDF,PSSNATUN,PSSNOCON,PSSST,PSSUN,PSSIEN,PSSNAME,PSSIND,PSSDOSA,PSSXYZ,PSSNATST
"RTN","PSSDOSER",88,0)
 Q
"RTN","PSSDOSER",89,0)
ULK ;
"RTN","PSSDOSER",90,0)
 Q:'$G(PSSIEN)
"RTN","PSSDOSER",91,0)
 N XX,DNSNAM,DNSPORT,DVER,DMFU S XX=""
"RTN","PSSDOSER",92,0)
 I '$G(PSSHUIDG) D DRG^PSSHUIDG(PSSIEN) D
"RTN","PSSDOSER",93,0)
 .F XX=0:0 S XX=$O(^PS(59,XX)) Q:'XX  D
"RTN","PSSDOSER",94,0)
 ..S DVER=$$GET1^DIQ(59,XX_",",105,"I"),DMFU=$$GET1^DIQ(59,XX_",",105.2)
"RTN","PSSDOSER",95,0)
 ..I DVER="2.4" S DNSNAM=$$GET1^DIQ(59,XX_",",2006),DNSPORT=$$GET1^DIQ(59,XX_",",2007) I DNSNAM'=""&(DMFU="YES") D DRG^PSSDGUPD(PSSIEN,"",DNSNAM,DNSPORT)
"RTN","PSSDOSER",96,0)
 L -^PSDRUG(PSSIEN)
"RTN","PSSDOSER",97,0)
 Q
"RTN","PSSDOSER",98,0)
BCMA ;
"RTN","PSSDOSER",99,0)
 I $P($G(^PSDRUG(PSSIEN,2)),"^",3)'["I",$P($G(^(2)),"^",3)'["U" Q
"RTN","PSSDOSER",100,0)
 I $P($G(^PSDRUG(PSSIEN,"DOS1",PSSDOSA,0)),"^",3)'["I" Q
"RTN","PSSDOSER",101,0)
 K DIE S DA(1)=PSSIEN,DA=PSSDOSA,DR=3,DIE="^PSDRUG("_PSSIEN_",""DOS1""," D ^DIE K DIE
"RTN","PSSDOSER",102,0)
 Q
"RTN","PSSDOSER",103,0)
BCMA1 ;
"RTN","PSSDOSER",104,0)
 I $P($G(^PSDRUG(PSSIEN,2)),"^",3)'["I",$P($G(^(2)),"^",3)'["U" Q
"RTN","PSSDOSER",105,0)
 I $P($G(^PSDRUG(PSSIEN,"DOS2",PSSDOSA,0)),"^",2)'["I" Q
"RTN","PSSDOSER",106,0)
 K DIE S DA(1)=PSSIEN,DA=PSSDOSA,DR=2,DIE="^PSDRUG("_PSSIEN_",""DOS2""," D ^DIE K DIE
"RTN","PSSDOSER",107,0)
 Q
"RTN","PSSDOSER",108,0)
STUN S PSSST=$P($G(^PSDRUG(PSSIEN,"DOS")),"^"),PSSUN=$P($G(^("DOS")),"^",2)
"RTN","PSSDOSER",109,0)
 Q
"RTN","PSSDOSER",110,0)
NATND S PSSNAT=+$P($G(^PSDRUG(PSSIEN,"ND")),"^",3),PSSNAT1=$P($G(^("ND")),"^")
"RTN","PSSDOSER",111,0)
 S PSSNATND=$$DFSU^PSNAPIS(PSSNAT1,PSSNAT) S PSSNATDF=$P(PSSNATND,"^"),PSSNATST=$P(PSSNATND,"^",4),PSSNATUN=$P(PSSNATND,"^",5)
"RTN","PSSDOSER",112,0)
 Q
"RTN","PSSDOSER",113,0)
PR I PSSST'=""!(PSSNATST'=""),(PSSUN!(PSSNATUN)) D
"RTN","PSSDOSER",114,0)
 .W !!,"Strength: "_$S($E($S(PSSST'="":PSSST,1:PSSNATST),1)=".":"0",1:"")_$S(PSSST'="":PSSST,1:PSSNATST)
"RTN","PSSDOSER",115,0)
 .W ?30,"Unit: "_$P($G(^PS(50.607,+$S(PSSUN:PSSUN,1:PSSNATUN),0)),"^")
"RTN","PSSDOSER",116,0)
 E  W !!,"Strength: ",?30,"Unit: "
"RTN","PSSDOSER",117,0)
 Q
"RTN","PSSDOSER",118,0)
 ;
"RTN","PSSDOSER",119,0)
 ;
"RTN","PSSDOSER",120,0)
XNWS ;
"RTN","PSSDOSER",121,0)
 N PSSDESTP S PSSDESTP=1
"RTN","PSSDOSER",122,0)
 W !!,"Strength from National Drug File match => "_$S($E($G(PSSNATST),1)=".":"0",1:"")_$G(PSSNATST)_"    "_$P($G(^PS(50.607,+$G(PSSUN),0)),"^")
"RTN","PSSDOSER",123,0)
 W !,"Strength currently in the Drug File    => "_$S($E($P($G(^PSDRUG(PSSIEN,"DOS")),"^"),1)=".":"0",1:"")_$P($G(^PSDRUG(PSSIEN,"DOS")),"^")_"    "_$S($P($G(^PS(50.607,+$G(PSSUN),0)),"^")'["/":$P($G(^(0)),"^"),1:"") D MS^PSSDSPOP
"RTN","PSSDOSER",124,0)
 K PSSDESTP
"RTN","PSSDOSER",125,0)
 Q
"RTN","PSSDOSRP")
0^22^B79525848^B64082951
"RTN","PSSDOSRP",1,0)
PSSDOSRP ;BIR/RTR-Dosage review report ;03/24/00
"RTN","PSSDOSRP",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**34,38,49,129**;9/30/97;Build 67
"RTN","PSSDOSRP",3,0)
 ;Reference to ^PS(50.607 supported by DBIA 2221
"RTN","PSSDOSRP",4,0)
EN ;
"RTN","PSSDOSRP",5,0)
 N ZTRTN,ZTDESC,ZTSAVE,DUOUT,DTOUT,POP,ZTSK
"RTN","PSSDOSRP",6,0)
 K PSSHOW,PSSBEG,PSSEND,PSSSRT
"RTN","PSSDOSRP",7,0)
 K DIR S DIR(0)="S^A:ALL;S:SELECT A RANGE",DIR("B")="S",DIR("A")="Print Report for (A)ll or (S)elect a Range" D  D ^DIR K DIR I Y["^"!($D(DTOUT))!($D(DUOUT)) W !!,"Nothing queued to print.",! G ENDX
"RTN","PSSDOSRP",8,0)
 .S DIR("?")=" ",DIR("?",1)="Enter 'A' to run report for all dispense drugs. Enter 'S' to select a range",DIR("?",2)="(alphabetically) of dispense drugs to print."
"RTN","PSSDOSRP",9,0)
 .S DIR("?",3)="This report displays Possible Dosage and Local Possible Dosage information for",DIR("?",4)="the dispense drugs in the range selected."
"RTN","PSSDOSRP",10,0)
 S PSSHOW=Y I PSSHOW="A" S PSSBEG="A",PSSEND="Z" S PSSSRT="A" G DEV
"RTN","PSSDOSRP",11,0)
 ;W !!,"To see drugs beginning with the letter 'A', enter 'A', or whichever letter you",!,"wish to see. To see drugs in a range, for example drugs starting with the",!,"letters 'G', 'H', 'I' and 'J', enter in the format 'G-J'.",!
"RTN","PSSDOSRP",12,0)
ASK ;
"RTN","PSSDOSRP",13,0)
 K DIR,PSSBEG,PSSEND,PSSNUMBX
"RTN","PSSDOSRP",14,0)
 S PSSNUMB=""
"RTN","PSSDOSRP",15,0)
 F  S PSSNUMB=$O(^PSDRUG("B",PSSNUMB)) Q:'PSSNUMB!($G(PSSNUMBX))  S PSSNUMBX=1
"RTN","PSSDOSRP",16,0)
 I $G(PSSNUMBX) K DIR S DIR(0)="Y",DIR("A")="Print report for drugs with leading numerics",DIR("B")="N" D  D ^DIR K DIR I Y["^"!($D(DUOUT))!($D(DTOUT)) W !!,"Nothing queued to print.",! G ENDX
"RTN","PSSDOSRP",17,0)
 .W !!!,"There are drugs in the Drug file with leading numerics.",!
"RTN","PSSDOSRP",18,0)
 .S DIR("?")=" ",DIR("?",1)="There are some entries in the drug file with leading numerics.",DIR("?",2)="Enter Yes to print the report for those drugs.",DIR("?",3)=" "
"RTN","PSSDOSRP",19,0)
 I $G(PSSNUMBX),$G(Y)=1 S PSSSRT="N" G DEV
"RTN","PSSDOSRP",20,0)
 K PSSNUMB,PSSNUMBX
"RTN","PSSDOSRP",21,0)
ASKA K PSSBEG,PSSEND
"RTN","PSSDOSRP",22,0)
 W !!,"To see drugs beginning with the letter 'A', enter 'A', or whichever letter you",!,"wish to see. To see drugs in a range, for example drugs starting with the",!,"letters 'G', 'H', 'I' and 'J', enter in the format 'G-J'.",!
"RTN","PSSDOSRP",23,0)
 S DIR("?",1)=" ",DIR("?",2)="Enter either 1 letter, 'A', 'B', etc., to see drugs beginning with that letter,",DIR("?",3)="or to see a range of drugs enter in the format 'A-C', 'G-M', 'S-Z', etc.",DIR("?",4)=" ",DIR("?")=" "
"RTN","PSSDOSRP",24,0)
 S DIR("A")="Select a Range",DIR(0)="F^1:3" D ^DIR I Y["^"!($D(DTOUT))!($D(DUOUT)) W !!,"Nothing queued to print.",! G ENDX
"RTN","PSSDOSRP",25,0)
 S X=Y I X'?1U&(X'?1U1"-"1U)&(X'?1L)&(X'?1L1"-"1L) W !!,"Invalid response, enter a letter, 'A', 'B', etc., or a range, 'C-F', 'M-R', etc.",! G ASKA
"RTN","PSSDOSRP",26,0)
 I X["-" S PSSBEG=$P(X,"-"),PSSEND=$P(X,"-",2) I $A(PSSEND)<$A(PSSBEG) W !!,"Invalid response.",! G ASKA
"RTN","PSSDOSRP",27,0)
 I X'["-" S PSSBEG=X,PSSEND=X
"RTN","PSSDOSRP",28,0)
 S PSSSRT="X"
"RTN","PSSDOSRP",29,0)
DEV I PSSSRT="X" W !!,"Report will be for drugs starting with the letter "_$G(PSSBEG)_",",!,"and ending with drugs starting with the letter "_$G(PSSEND)_".",!
"RTN","PSSDOSRP",30,0)
 I PSSSRT="N" W !!,"This report will be for drugs with leading numerics.",!
"RTN","PSSDOSRP",31,0)
 I PSSSRT="A" W !!,"This report will be for all drugs.",!
"RTN","PSSDOSRP",32,0)
 K DIR S DIR(0)="Y",DIR("A")="Is this correct",DIR("B")="Y" D ^DIR K DIR I Y'=1 W ! G EN
"RTN","PSSDOSRP",33,0)
 W $C(7),!!?3,"This report is designed for 132 column format!",!
"RTN","PSSDOSRP",34,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP) W !!,"Nothing queued to print.",! G ENDX
"RTN","PSSDOSRP",35,0)
 I $D(IO("Q")) S ZTRTN="START^PSSDOSRP",ZTDESC="Dosage Review Report",ZTSAVE("PSSHOW")="",ZTSAVE("PSSBEG")="",ZTSAVE("PSSEND")="",ZTSAVE("PSSSRT")="" D ^%ZTLOAD K %ZIS W !,"Report queued to print.",! G ENDX
"RTN","PSSDOSRP",36,0)
START ;
"RTN","PSSDOSRP",37,0)
 U IO
"RTN","PSSDOSRP",38,0)
 I '$G(DT) S DT=$$DT^XLFDT
"RTN","PSSDOSRP",39,0)
 S X1=DT,X2=-365 D C^%DTC S PSSYEAR=$G(X) K X,X1,X2
"RTN","PSSDOSRP",40,0)
 S PSSOUT=0,PSSDV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSCT=1
"RTN","PSSDOSRP",41,0)
 K PSSLINE S $P(PSSLINE,"-",130)=""
"RTN","PSSDOSRP",42,0)
 D HD
"RTN","PSSDOSRP",43,0)
 G:PSSSRT="N" PASS
"RTN","PSSDOSRP",44,0)
 S PSSX=$A(PSSBEG)-1
"RTN","PSSDOSRP",45,0)
 S PSSNAME=$C(PSSX)_"zzzz"
"RTN","PSSDOSRP",46,0)
PASS ;
"RTN","PSSDOSRP",47,0)
 I $G(PSSSRT)="N" S (PSSNAME,PSSEND)=""
"RTN","PSSDOSRP",48,0)
 I $G(PSSSRT)="A" S (PSSNAME,PSSEND)=""
"RTN","PSSDOSRP",49,0)
 F  S PSSNAME=$O(^PSDRUG("B",PSSNAME)) Q:$S(PSSSRT="N"&('PSSNAME):1,PSSSRT="X"&(PSSNAME](PSSEND_"zzzz")):1,1:0)!(PSSNAME=""&(PSSSRT="X"))!(PSSSRT="A"&(PSSNAME=""))!($G(PSSOUT))  D
"RTN","PSSDOSRP",50,0)
 .F PSSIEN=0:0 S PSSIEN=$O(^PSDRUG("B",PSSNAME,PSSIEN)) Q:'PSSIEN!($G(PSSOUT))  D
"RTN","PSSDOSRP",51,0)
 ..Q:'$D(^PSDRUG(PSSIEN,0))
"RTN","PSSDOSRP",52,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",53,0)
 ..K PSSINA,PSSNF,PSSINAD,PSSUNIT,PSSAPU S PSSNF=$S($P($G(^PSDRUG(PSSIEN,0)),"^",9):1,1:0),PSSINA=$P($G(^PSDRUG(PSSIEN,"I")),"^"),PSSNODE=$G(^("DOS"))
"RTN","PSSDOSRP",54,0)
 ..I $G(PSSINA),$G(PSSYEAR),$G(PSSINA)<$G(PSSYEAR) Q
"RTN","PSSDOSRP",55,0)
 ..S PSSMSG=$P($G(^PSDRUG(PSSIEN,0)),"^",10)
"RTN","PSSDOSRP",56,0)
 ..S PSSAPU=$P($G(^PSDRUG(PSSIEN,2)),"^",3)
"RTN","PSSDOSRP",57,0)
 ..I $G(PSSINA) S PSSINAD=$E(PSSINA,4,5)_"/"_$E(PSSINA,6,7)_"/"_$E(PSSINA,2,3)
"RTN","PSSDOSRP",58,0)
 ..I $P(PSSNODE,"^",2) S PSSUNIT=$P($G(^PS(50.607,+$P(PSSNODE,"^",2),0)),"^")
"RTN","PSSDOSRP",59,0)
 ..S PSSSTR=$P(PSSNODE,"^")
"RTN","PSSDOSRP",60,0)
 ..W !!!,"("_$G(PSSIEN)_")",?19,$G(PSSNAME)_$S($G(PSSNF):"    *N/F*",1:"") W ?72,"Inactive Date: "_$G(PSSINAD)
"RTN","PSSDOSRP",61,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",62,0)
 ..I $G(PSSMSG)'="" W !?12,$G(PSSMSG)
"RTN","PSSDOSRP",63,0)
 ..I '$O(^PSDRUG(PSSIEN,"DOS1",0)),'$O(^PSDRUG(PSSIEN,"DOS2",0)) D NEWX Q
"RTN","PSSDOSRP",64,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",65,0)
 ..W !?12,"Strength: "_$S($E($G(PSSSTR),1)=".":"0",1:"")_$G(PSSSTR) W ?43,"Units: " I $G(PSSUNIT)'="",$G(PSSUNIT)'["/" W $G(PSSUNIT)
"RTN","PSSDOSRP",66,0)
 ..I $G(PSSUNIT)'="",$G(PSSUNIT)'["/",$L(PSSUNIT)>15 W !
"RTN","PSSDOSRP",67,0)
 ..W ?66,"Application Package: "_$G(PSSAPU)
"RTN","PSSDOSRP",68,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",69,0)
 ..S PSSA=0 K PSSC,PSSD,PSSE W !?4,"Possible Dosages: " I $G(PSSSTR)'="",$G(PSSUNIT)'="" D
"RTN","PSSDOSRP",70,0)
 ...F PSSB=0:0 S PSSB=$O(^PSDRUG(PSSIEN,"DOS1",PSSB)) Q:'PSSB!($G(PSSOUT))  S PSSC=$P($G(^(PSSB,0)),"^"),PSSD=$P($G(^(0)),"^",2),PSSE=$P($G(^(0)),"^",3) I $G(PSSC),$G(PSSD) S PSSA=1 D
"RTN","PSSDOSRP",71,0)
 ....I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",72,0)
 ....W !?3,"Dispense Units Per Dose: "_$S($E($G(PSSC),1)=".":"0",1:"")_$G(PSSC),?44,"Dose: " D
"RTN","PSSDOSRP",73,0)
 .....I $G(PSSUNIT)'["/" W $S($E($G(PSSD),1)=".":"0",1:"")_$G(PSSD)_$G(PSSUNIT) W ?78,"Package: "_$G(PSSE) D OUT Q
"RTN","PSSDOSRP",74,0)
 .....D SETD D ZERO W $G(PSSCALC),?78,"Package: "_$G(PSSE) D OUT
"RTN","PSSDOSRP",75,0)
 ..Q:$G(PSSOUT)
"RTN","PSSDOSRP",76,0)
 ..I 'PSSA W "(None)"
"RTN","PSSDOSRP",77,0)
 ..S PSSA=0 W !?4,"Local Possible Dosages: " F PSSB=0:0 S PSSB=$O(^PSDRUG(PSSIEN,"DOS2",PSSB)) Q:'PSSB!($G(PSSOUT))  D
"RTN","PSSDOSRP",78,0)
 ...I $P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^")'="" S PSSA=1 D
"RTN","PSSDOSRP",79,0)
 ....I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",80,0)
 ....W !?6,$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^") D NEW
"RTN","PSSDOSRP",81,0)
 ..Q:$G(PSSOUT)
"RTN","PSSDOSRP",82,0)
 ..I 'PSSA W "(None)"
"RTN","PSSDOSRP",83,0)
 ..D NEWX
"RTN","PSSDOSRP",84,0)
END ;
"RTN","PSSDOSRP",85,0)
 I '$G(PSSOUT),$G(PSSDV)="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSDOSRP",86,0)
 I $G(PSSDV)="C" W !
"RTN","PSSDOSRP",87,0)
 E  W @IOF
"RTN","PSSDOSRP",88,0)
ENDX K PSSNODE,PSSNUMB,PSSNUMBX,PSSSRT,PSSCALC,PSSSTR,PSSUNIT,PSSIEN,PSSINAD,PSSINA,PSSNF,PSSNAME,PSSDV,PSSX,PSSOUT,PSSHOW,PSSBEG,PSSLINE,PSSEND,PSSA,PSSB,PSSC,PSSD,PSSE,PSSAPU,PSSMSG,PSSYEAR,PSSDFOI,PSSDFOIN,PSSDF,PSSDZZ,PSSDZ,X,Y,PSSCT
"RTN","PSSDOSRP",89,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSDOSRP",90,0)
 Q
"RTN","PSSDOSRP",91,0)
HD ;
"RTN","PSSDOSRP",92,0)
 I $G(PSSDV)="C",$G(PSSCT)'=1 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSOUT=1 Q
"RTN","PSSDOSRP",93,0)
 W @IOF W !,$S(PSSSRT="N":"Dosage report for drugs with leading numerics",PSSSRT="A":"Dosage report for all drugs",1:"Dosage report for drugs from "_PSSBEG_" through "_PSSEND)
"RTN","PSSDOSRP",94,0)
 W ?94,"Outpatient Expansion",?119,"PAGE: "_$G(PSSCT),!,PSSLINE S PSSCT=PSSCT+1
"RTN","PSSDOSRP",95,0)
 Q
"RTN","PSSDOSRP",96,0)
SETD ;
"RTN","PSSDOSRP",97,0)
 N PSSVA,PSSVA1,PSSVB,PSSVB1,PSSDASH,PSSNDFS,PSSDASH2,PSSDASH3,PSSDASH4,PSSDASH5 K PSSCALC
"RTN","PSSDOSRP",98,0)
 S PSSDASH=0 S PSSNDFS=$$PSJST^PSNAPIS(+$P($G(^PSDRUG(PSSIEN,"ND")),"^"),+$P($G(^PSDRUG(PSSIEN,"ND")),"^",3)) S PSSNDFS=+$P($G(PSSNDFS),"^",2) I $G(PSSNDFS),$G(PSSSTR),+$G(PSSSTR)'=+$G(PSSNDFS) S PSSDASH=1
"RTN","PSSDOSRP",99,0)
 S PSSVA=$P(PSSUNIT,"/"),PSSVB=$P(PSSUNIT,"/",2),PSSVA1=+$G(PSSVA),PSSVB1=+$G(PSSVB)
"RTN","PSSDOSRP",100,0)
 I $G(PSSDASH) S PSSDASH2=PSSSTR/PSSNDFS,PSSDASH3=PSSDASH2*PSSC S PSSDASH4=PSSDASH3*$S($G(PSSVB1):PSSVB1,1:1) S PSSDASH5=$S('$G(PSSVB1):PSSDASH4_$G(PSSVB),1:PSSDASH4_$P(PSSVB,PSSVB1,2))
"RTN","PSSDOSRP",101,0)
 S PSSCALC=$S('$G(PSSVA1):PSSD,1:($G(PSSVA1)*PSSD))_$S($G(PSSVA1):$P(PSSVA,PSSVA1,2),1:PSSVA)_"/"_$S($G(PSSDASH):$G(PSSDASH5),'$G(PSSVB1):+$G(PSSC)_$G(PSSVB),1:(+$G(PSSC)*+PSSVB1)_$P(PSSVB,PSSVB1,2))
"RTN","PSSDOSRP",102,0)
 Q
"RTN","PSSDOSRP",103,0)
OUT ;
"RTN","PSSDOSRP",104,0)
 K PSSDFOI,PSSDFOIN,PSSDF,PSSDZZ
"RTN","PSSDOSRP",105,0)
 Q:$G(PSSE)'["O"
"RTN","PSSDOSRP",106,0)
 S PSSDFOI=$P($G(^PSDRUG(PSSIEN,2)),"^") Q:'PSSDFOI
"RTN","PSSDOSRP",107,0)
 S PSSDF=$P($G(^PS(50.7,+PSSDFOI,0)),"^",2)
"RTN","PSSDOSRP",108,0)
 S PSSDFOIN=$P($G(^PS(50.606,+$G(PSSDF),0)),"^")
"RTN","PSSDOSRP",109,0)
 Q:'PSSDF
"RTN","PSSDOSRP",110,0)
 K PSSDZ F PSSDZZ=0:0 S PSSDZZ=$O(^PS(50.606,PSSDF,"NOUN",PSSDZZ)) Q:'PSSDZZ!($G(PSSDZ)'="")  I $P($G(^(PSSDZZ,0)),"^")'="" S PSSDZ=$P($G(^(0)),"^")
"RTN","PSSDOSRP",111,0)
 I $G(PSSDZ)="" S PSSDZ=$G(PSSDFOIN)
"RTN","PSSDOSRP",112,0)
 I $G(PSSC) D PARN
"RTN","PSSDOSRP",113,0)
 W ?94,$S($E($G(PSSC),1)=".":"0",1:"")_$G(PSSC)_" "_$S($G(PSSDZN)'="":$G(PSSDZN),1:$G(PSSDZ))
"RTN","PSSDOSRP",114,0)
 K PSSDFOI,PSSDF,PSSDZ,PSSDZZ,PSSDZN,PSSDZNX,PSSDFOIN
"RTN","PSSDOSRP",115,0)
 Q
"RTN","PSSDOSRP",116,0)
PARN ;
"RTN","PSSDOSRP",117,0)
 K PSSDZN,PSSDZNX
"RTN","PSSDOSRP",118,0)
 Q:$G(PSSDZ)=""
"RTN","PSSDOSRP",119,0)
 Q:$L(PSSDZ)'>3
"RTN","PSSDOSRP",120,0)
 S PSSDZNX=$E(PSSDZ,($L(PSSDZ)-2),$L(PSSDZ))
"RTN","PSSDOSRP",121,0)
 I $G(PSSDZNX)="(S)"!($G(PSSDZNX)="(s)") D
"RTN","PSSDOSRP",122,0)
 .I $G(PSSC)'>1 S PSSDZN=$E(PSSDZ,1,($L(PSSDZ)-3))
"RTN","PSSDOSRP",123,0)
 .I $G(PSSC)>1 S PSSDZN=$E(PSSDZ,1,($L(PSSDZ)-3))_$E(PSSDZNX,2)
"RTN","PSSDOSRP",124,0)
 Q
"RTN","PSSDOSRP",125,0)
ZERO ;Leading zeros
"RTN","PSSDOSRP",126,0)
 I $E($G(PSSCALC),1)="." S PSSCALC="0"_$G(PSSCALC)
"RTN","PSSDOSRP",127,0)
 N PSSLEZ,PSSLEZ1,PSSLEZD
"RTN","PSSDOSRP",128,0)
 I $G(PSSCALC)["/." S PSSLEZD=$G(PSSCALC) D
"RTN","PSSDOSRP",129,0)
 .S PSSLEZ=$P(PSSLEZD,"/."),PSSLEZ1=$P(PSSLEZD,"/.",2)
"RTN","PSSDOSRP",130,0)
 .S PSSCALC=$G(PSSLEZ)_"/0."_$G(PSSLEZ1)
"RTN","PSSDOSRP",131,0)
 Q
"RTN","PSSDOSRP",132,0)
 ;
"RTN","PSSDOSRP",133,0)
NEW ;new fields added with patch PSS*1*129
"RTN","PSSDOSRP",134,0)
 I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",135,0)
 N PSSYWD,PSSYWN,PSSYWNN
"RTN","PSSDOSRP",136,0)
 S PSSYWD=$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^",5),PSSYWN=$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^",6)
"RTN","PSSDOSRP",137,0)
 S PSSYWNN=$S($E($G(PSSYWN),1)=".":"0"_$G(PSSYWN),1:$G(PSSYWN))
"RTN","PSSDOSRP",138,0)
 W !?6,"Numeric Dose: "_$G(PSSYWNN),?46,"Dose Unit: "_$S($G(PSSYWD):$P($G(^PS(51.24,+PSSYWD,0)),"^"),1:""),?92,"Package: ",$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^",2)
"RTN","PSSDOSRP",139,0)
 I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",140,0)
 Q
"RTN","PSSDOSRP",141,0)
NEWX ;new fields added with patch PSS*1*129
"RTN","PSSDOSRP",142,0)
 I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",143,0)
 N PSSYWND1,PSSYWND3,PSSYWNDN,PSSYWNDS,PSSYWFS,PSSYWFSS
"RTN","PSSDOSRP",144,0)
 S PSSYWFS=$P($G(^PSDRUG(PSSIEN,"DOS")),"^")
"RTN","PSSDOSRP",145,0)
 S PSSYWFSS=$S($E($G(PSSYWFS),1)=".":"0"_$G(PSSYWFS),1:$G(PSSYWFS))
"RTN","PSSDOSRP",146,0)
 I PSSYWFSS="" Q
"RTN","PSSDOSRP",147,0)
 S PSSYWND1=$P($G(^PSDRUG(PSSIEN,"ND")),"^"),PSSYWND3=$P($G(^PSDRUG(PSSIEN,"ND")),"^",3)
"RTN","PSSDOSRP",148,0)
 I 'PSSYWND1!('PSSYWND3) Q
"RTN","PSSDOSRP",149,0)
 S PSSYWNDN=$$PROD0^PSNAPIS(PSSYWND1,PSSYWND3)
"RTN","PSSDOSRP",150,0)
 S PSSYWNDS=$S($E($P(PSSYWNDN,"^",3),1)=".":"0"_$P(PSSYWNDN,"^",3),1:$P(PSSYWNDN,"^",3))
"RTN","PSSDOSRP",151,0)
 I PSSYWNDS="" Q
"RTN","PSSDOSRP",152,0)
 I PSSYWFSS=PSSYWNDS Q
"RTN","PSSDOSRP",153,0)
 W !,?3,"Note: Strength of "_PSSYWFSS_" does not match NDF strength of "_PSSYWNDS_"."
"RTN","PSSDOSRP",154,0)
 I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",155,0)
 W !?3,"VA PRODUCT MATCH: "_$P(PSSYWNDN,"^")
"RTN","PSSDOSRP",156,0)
 I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSDOSRP",157,0)
 Q
"RTN","PSSDSDAT")
0^18^B288325204^n/a
"RTN","PSSDSDAT",1,0)
PSSDSDAT ;BIR/RTR-Data used to populate Dose Unit and Numeric Dose on PSS*1*129 install ;05/03/08
"RTN","PSSDSDAT",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSDSDAT",3,0)
 ;
"RTN","PSSDSDAT",4,0)
 K ^TMP($J,"PSSQVCS2")
"RTN","PSSDSDAT",5,0)
 K ^TMP($J,"PSSQVCS4")
"RTN","PSSDSDAT",6,0)
 K ^TMP($J,"PSSQVCS5")
"RTN","PSSDSDAT",7,0)
 N PSSQVCAA,PSSQVCBB,PSSQVCCC,PSSQVCDD,PSSQVCEE,PSSQVCFF
"RTN","PSSDSDAT",8,0)
 F PSSQVCAA=1:1 S PSSQVCBB=$T(SET4+PSSQVCAA) Q:$P(PSSQVCBB,";;",2)=""  S ^TMP($J,"PSSQVCS4",$P(PSSQVCBB,";;",2))=$P(PSSQVCBB,";;",3)_"^"_$P(PSSQVCBB,";;",4)
"RTN","PSSDSDAT",9,0)
 F PSSQVCCC=1:1 S PSSQVCDD=$T(SET2+PSSQVCCC) Q:$P(PSSQVCDD,";;",2)=""  S ^TMP($J,"PSSQVCS2",$P(PSSQVCDD,";;",2),$P(PSSQVCDD,";;",3))=$P(PSSQVCDD,";;",4)_"^"_$P(PSSQVCDD,";;",5)
"RTN","PSSDSDAT",10,0)
 F PSSQVCEE=1:1 S PSSQVCFF=$T(SET5+PSSQVCEE) Q:$P(PSSQVCFF,";;",2)=""  S ^TMP($J,"PSSQVCS5",$P(PSSQVCFF,";;",2))=$P(PSSQVCFF,";;",3)_"^"_$P(PSSQVCFF,";;",4)
"RTN","PSSDSDAT",11,0)
 Q
"RTN","PSSDSDAT",12,0)
 ;
"RTN","PSSDSDAT",13,0)
SET2 ;
"RTN","PSSDSDAT",14,0)
 ;;ONE TEASPOON;;1;;5;;M
"RTN","PSSDSDAT",15,0)
 ;;ONE TEASPOON;;5;;1;;M
"RTN","PSSDSDAT",16,0)
 ;;ONE TEASPOON;;10;;2;;D
"RTN","PSSDSDAT",17,0)
 ;;ONE TEASPOON;;15;;3;;D
"RTN","PSSDSDAT",18,0)
 ;;1 TEASPOON;;1;;5;;M
"RTN","PSSDSDAT",19,0)
 ;;1 TEASPOON;;5;;1;;M
"RTN","PSSDSDAT",20,0)
 ;;1 TEASPOON;;10;;2;;D
"RTN","PSSDSDAT",21,0)
 ;;1 TEASPOON;;15;;3;;D
"RTN","PSSDSDAT",22,0)
 ;;ONE TEASPOON(S);;1;;5;;M
"RTN","PSSDSDAT",23,0)
 ;;ONE TEASPOON(S);;5;;1;;M
"RTN","PSSDSDAT",24,0)
 ;;ONE TEASPOON(S);;10;;2;;D
"RTN","PSSDSDAT",25,0)
 ;;ONE TEASPOON(S);;15;;3;;D
"RTN","PSSDSDAT",26,0)
 ;;1 TEASPOON(S);;1;;5;;M
"RTN","PSSDSDAT",27,0)
 ;;1 TEASPOON(S);;5;;1;;M
"RTN","PSSDSDAT",28,0)
 ;;1 TEASPOON(S);;10;;2;;D
"RTN","PSSDSDAT",29,0)
 ;;1 TEASPOON(S);;15;;3;;D
"RTN","PSSDSDAT",30,0)
 ;;ONE TEASPOONFUL;;1;;5;;M
"RTN","PSSDSDAT",31,0)
 ;;ONE TEASPOONFUL;;5;;1;;M
"RTN","PSSDSDAT",32,0)
 ;;ONE TEASPOONFUL;;10;;2;;D
"RTN","PSSDSDAT",33,0)
 ;;ONE TEASPOONFUL;;15;;3;;D
"RTN","PSSDSDAT",34,0)
 ;;1 TEASPOONFUL;;1;;5;;M
"RTN","PSSDSDAT",35,0)
 ;;1 TEASPOONFUL;;5;;1;;M
"RTN","PSSDSDAT",36,0)
 ;;1 TEASPOONFUL;;10;;2;;D
"RTN","PSSDSDAT",37,0)
 ;;1 TEASPOONFUL;;15;;3;;D
"RTN","PSSDSDAT",38,0)
 ;;ONE TEASPOONFUL(S);;1;;5;;M
"RTN","PSSDSDAT",39,0)
 ;;ONE TEASPOONFUL(S);;5;;1;;M
"RTN","PSSDSDAT",40,0)
 ;;ONE TEASPOONFUL(S);;10;;2;;D
"RTN","PSSDSDAT",41,0)
 ;;ONE TEASPOONFUL(S);;15;;3;;D
"RTN","PSSDSDAT",42,0)
 ;;1 TEASPOONFUL(S);;1;;5;;M
"RTN","PSSDSDAT",43,0)
 ;;1 TEASPOONFUL(S);;5;;1;;M
"RTN","PSSDSDAT",44,0)
 ;;1 TEASPOONFUL(S);;10;;2;;D
"RTN","PSSDSDAT",45,0)
 ;;1 TEASPOONFUL(S);;15;;3;;D
"RTN","PSSDSDAT",46,0)
 ;;TWO TEASPOONS;;1;;10;;M
"RTN","PSSDSDAT",47,0)
 ;;TWO TEASPOONS;;5;;2;;M
"RTN","PSSDSDAT",48,0)
 ;;TWO TEASPOONS;;10;;1;;M
"RTN","PSSDSDAT",49,0)
 ;;2 TEASPOONS;;1;;10;;M
"RTN","PSSDSDAT",50,0)
 ;;2 TEASPOONS;;5;;2;;M
"RTN","PSSDSDAT",51,0)
 ;;2 TEASPOONS;;10;;1;;M
"RTN","PSSDSDAT",52,0)
 ;;TWO TEASPOON(S);;1;;10;;M
"RTN","PSSDSDAT",53,0)
 ;;TWO TEASPOON(S);;5;;2;;M
"RTN","PSSDSDAT",54,0)
 ;;TWO TEASPOON(S);;10;;1;;M
"RTN","PSSDSDAT",55,0)
 ;;2 TEASPOON(S);;1;;10;;M
"RTN","PSSDSDAT",56,0)
 ;;2 TEASPOON(S);;5;;2;;M
"RTN","PSSDSDAT",57,0)
 ;;2 TEASPOON(S);;10;;1;;M
"RTN","PSSDSDAT",58,0)
 ;;TWO TEASPOONFULS;;1;;10;;M
"RTN","PSSDSDAT",59,0)
 ;;TWO TEASPOONFULS;;5;;2;;M
"RTN","PSSDSDAT",60,0)
 ;;TWO TEASPOONFULS;;10;;1;;M
"RTN","PSSDSDAT",61,0)
 ;;2 TEASPOONFULS;;1;;10;;M
"RTN","PSSDSDAT",62,0)
 ;;2 TEASPOONFULS;;5;;2;;M
"RTN","PSSDSDAT",63,0)
 ;;2 TEASPOONFULS;;10;;1;;M
"RTN","PSSDSDAT",64,0)
 ;;TWO TEASPOONFUL(S);;1;;10;;M
"RTN","PSSDSDAT",65,0)
 ;;TWO TEASPOONFUL(S);;5;;2;;M
"RTN","PSSDSDAT",66,0)
 ;;TWO TEASPOONFUL(S);;10;;1;;M
"RTN","PSSDSDAT",67,0)
 ;;2 TEASPOONFUL(S);;1;;10;;M
"RTN","PSSDSDAT",68,0)
 ;;2 TEASPOONFUL(S);;5;;2;;M
"RTN","PSSDSDAT",69,0)
 ;;2 TEASPOONFUL(S);;10;;1;;M
"RTN","PSSDSDAT",70,0)
 ;;ONE TABLESPOON;;1;;15;;M
"RTN","PSSDSDAT",71,0)
 ;;ONE TABLESPOON;;5;;3;;M
"RTN","PSSDSDAT",72,0)
 ;;ONE TABLESPOON;;15;;1;;M
"RTN","PSSDSDAT",73,0)
 ;;ONE TABLESPOON;;30;;2;;D
"RTN","PSSDSDAT",74,0)
 ;;1 TABLESPOON;;1;;15;;M
"RTN","PSSDSDAT",75,0)
 ;;1 TABLESPOON;;5;;3;;M
"RTN","PSSDSDAT",76,0)
 ;;1 TABLESPOON;;15;;1;;M
"RTN","PSSDSDAT",77,0)
 ;;1 TABLESPOON;;30;;2;;D
"RTN","PSSDSDAT",78,0)
 ;;ONE TABLESPOON(S);;1;;15;;M
"RTN","PSSDSDAT",79,0)
 ;;ONE TABLESPOON(S);;5;;3;;M
"RTN","PSSDSDAT",80,0)
 ;;ONE TABLESPOON(S);;15;;1;;M
"RTN","PSSDSDAT",81,0)
 ;;ONE TABLESPOON(S);;30;;2;;D
"RTN","PSSDSDAT",82,0)
 ;;1 TABLESPOON(S);;1;;15;;M
"RTN","PSSDSDAT",83,0)
 ;;1 TABLESPOON(S);;5;;3;;M
"RTN","PSSDSDAT",84,0)
 ;;1 TABLESPOON(S);;15;;1;;M
"RTN","PSSDSDAT",85,0)
 ;;1 TABLESPOON(S);;30;;2;;D
"RTN","PSSDSDAT",86,0)
 ;;ONE TABLESPOONFUL;;1;;15;;M
"RTN","PSSDSDAT",87,0)
 ;;ONE TABLESPOONFUL;;5;;3;;M
"RTN","PSSDSDAT",88,0)
 ;;ONE TABLESPOONFUL;;15;;1;;M
"RTN","PSSDSDAT",89,0)
 ;;ONE TABLESPOONFUL;;30;;2;;D
"RTN","PSSDSDAT",90,0)
 ;;1 TABLESPOONFUL;;1;;15;;M
"RTN","PSSDSDAT",91,0)
 ;;1 TABLESPOONFUL;;5;;3;;M
"RTN","PSSDSDAT",92,0)
 ;;1 TABLESPOONFUL;;15;;1;;M
"RTN","PSSDSDAT",93,0)
 ;;1 TABLESPOONFUL;;30;;2;;D
"RTN","PSSDSDAT",94,0)
 ;;ONE TABLESPOONFUL(S);;1;;15;;M
"RTN","PSSDSDAT",95,0)
 ;;ONE TABLESPOONFUL(S);;5;;3;;M
"RTN","PSSDSDAT",96,0)
 ;;ONE TABLESPOONFUL(S);;15;;1;;M
"RTN","PSSDSDAT",97,0)
 ;;ONE TABLESPOONFUL(S);;30;;2;;D
"RTN","PSSDSDAT",98,0)
 ;;1 TABLESPOONFUL(S);;1;;15;;M
"RTN","PSSDSDAT",99,0)
 ;;1 TABLESPOONFUL(S);;5;;3;;M
"RTN","PSSDSDAT",100,0)
 ;;1 TABLESPOONFUL(S);;15;;1;;M
"RTN","PSSDSDAT",101,0)
 ;;1 TABLESPOONFUL(S);;30;;2;;D
"RTN","PSSDSDAT",102,0)
 ;;TWO TABLESPOONS;;1;;30;;M
"RTN","PSSDSDAT",103,0)
 ;;TWO TABLESPOONS;;15;;2;;M
"RTN","PSSDSDAT",104,0)
 ;;TWO TABLESPOONS;;30;;1;;M
"RTN","PSSDSDAT",105,0)
 ;;TWO TABLESPOONS;;5;;6;;M
"RTN","PSSDSDAT",106,0)
 ;;2 TABLESPOONS;;1;;30;;M
"RTN","PSSDSDAT",107,0)
 ;;2 TABLESPOONS;;15;;2;;M
"RTN","PSSDSDAT",108,0)
 ;;2 TABLESPOONS;;30;;1;;M
"RTN","PSSDSDAT",109,0)
 ;;2 TABLESPOONS;;5;;6;;M
"RTN","PSSDSDAT",110,0)
 ;;TWO TABLESPOON(S);;1;;30;;M
"RTN","PSSDSDAT",111,0)
 ;;TWO TABLESPOON(S);;15;;2;;M
"RTN","PSSDSDAT",112,0)
 ;;TWO TABLESPOON(S);;30;;1;;M
"RTN","PSSDSDAT",113,0)
 ;;TWO TABLESPOON(S);;5;;6;;M
"RTN","PSSDSDAT",114,0)
 ;;2 TABLESPOON(S);;1;;30;;M
"RTN","PSSDSDAT",115,0)
 ;;2 TABLESPOON(S);;15;;2;;M
"RTN","PSSDSDAT",116,0)
 ;;2 TABLESPOON(S);;30;;1;;M
"RTN","PSSDSDAT",117,0)
 ;;2 TABLESPOON(S);;5;;6;;M
"RTN","PSSDSDAT",118,0)
 ;;TWO TABLESPOONFULS;;1;;30;;M
"RTN","PSSDSDAT",119,0)
 ;;TWO TABLESPOONFULS;;15;;2;;M
"RTN","PSSDSDAT",120,0)
 ;;TWO TABLESPOONFULS;;30;;1;;M
"RTN","PSSDSDAT",121,0)
 ;;TWO TABLESPOONFULS;;5;;6;;M
"RTN","PSSDSDAT",122,0)
 ;;2 TABLESPOONFULS;;1;;30;;M
"RTN","PSSDSDAT",123,0)
 ;;2 TABLESPOONFULS;;15;;2;;M
"RTN","PSSDSDAT",124,0)
 ;;2 TABLESPOONFULS;;30;;1;;M
"RTN","PSSDSDAT",125,0)
 ;;2 TABLESPOONFULS;;5;;6;;M
"RTN","PSSDSDAT",126,0)
 ;;TWO TABLESPOONFUL(S);;1;;30;;M
"RTN","PSSDSDAT",127,0)
 ;;TWO TABLESPOONFUL(S);;15;;2;;M
"RTN","PSSDSDAT",128,0)
 ;;TWO TABLESPOONFUL(S);;30;;1;;M
"RTN","PSSDSDAT",129,0)
 ;;TWO TABLESPOONFUL(S);;5;;6;;M
"RTN","PSSDSDAT",130,0)
 ;;2 TABLESPOONFUL(S);;1;;30;;M
"RTN","PSSDSDAT",131,0)
 ;;2 TABLESPOONFUL(S);;15;;2;;M
"RTN","PSSDSDAT",132,0)
 ;;2 TABLESPOONFUL(S);;30;;1;;M
"RTN","PSSDSDAT",133,0)
 ;;2 TABLESPOONFUL(S);;5;;6;;M
"RTN","PSSDSDAT",134,0)
 ;;1 ML;;1;;1;;M
"RTN","PSSDSDAT",135,0)
 ;;1 ML(S);;1;;1;;M
"RTN","PSSDSDAT",136,0)
 ;;1ML;;1;;1;;M
"RTN","PSSDSDAT",137,0)
 ;;1 MILLILITER;;1;;1;;M
"RTN","PSSDSDAT",138,0)
 ;;1 MILLILITER(S);;1;;1;;M
"RTN","PSSDSDAT",139,0)
 ;;ONE MILLILITER;;1;;1;;M
"RTN","PSSDSDAT",140,0)
 ;;ONE MILLILITER(S);;1;;1;;M
"RTN","PSSDSDAT",141,0)
 ;;2 ML;;1;;2;;M
"RTN","PSSDSDAT",142,0)
 ;;2 ML(S);;1;;2;;M
"RTN","PSSDSDAT",143,0)
 ;;2 MLS;;1;;2;;M
"RTN","PSSDSDAT",144,0)
 ;;2ML;;1;;2;;M
"RTN","PSSDSDAT",145,0)
 ;;2 MILLILITER(S);;1;;2;;M
"RTN","PSSDSDAT",146,0)
 ;;2 MILLILITERS;;1;;2;;M
"RTN","PSSDSDAT",147,0)
 ;;TWO MILLILITERS;;1;;2;;M
"RTN","PSSDSDAT",148,0)
 ;;TWO MILLILITER(S);;1;;2;;M
"RTN","PSSDSDAT",149,0)
 ;;
"RTN","PSSDSDAT",150,0)
SET4 ;
"RTN","PSSDSDAT",151,0)
 ;;ONE DROP;;1;;DROP(S)
"RTN","PSSDSDAT",152,0)
 ;;1 DROP;;1;;DROP(S)
"RTN","PSSDSDAT",153,0)
 ;;ONE DROP(S);;1;;DROP(S)
"RTN","PSSDSDAT",154,0)
 ;;1 DROP(S);;1;;DROP(S)
"RTN","PSSDSDAT",155,0)
 ;;TWO DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",156,0)
 ;;2 DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",157,0)
 ;;TWO DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",158,0)
 ;;2 DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",159,0)
 ;;ONE OR TWO DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",160,0)
 ;;1 OR 2 DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",161,0)
 ;;ONE TO TWO DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",162,0)
 ;;1 TO 2 DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",163,0)
 ;;ONE - TWO DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",164,0)
 ;;ONE-TWO DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",165,0)
 ;;1-2 DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",166,0)
 ;;1 - 2 DROP(S);;2;;DROP(S)
"RTN","PSSDSDAT",167,0)
 ;;ONE OR TWO DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",168,0)
 ;;1 OR 2 DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",169,0)
 ;;ONE TO TWO DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",170,0)
 ;;1 TO 2 DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",171,0)
 ;;ONE - TWO DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",172,0)
 ;;ONE-TWO DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",173,0)
 ;;1-2 DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",174,0)
 ;;1 - 2 DROPS;;2;;DROP(S)
"RTN","PSSDSDAT",175,0)
 ;;ONE PATCH;;1;;PATCH(ES)
"RTN","PSSDSDAT",176,0)
 ;;1 PATCH;;1;;PATCH(ES)
"RTN","PSSDSDAT",177,0)
 ;;ONE PATCH(ES);;1;;PATCH(ES)
"RTN","PSSDSDAT",178,0)
 ;;1 PATCH(ES);;1;;PATCH(ES)
"RTN","PSSDSDAT",179,0)
 ;;TWO PATCHES;;2;;PATCH(ES)
"RTN","PSSDSDAT",180,0)
 ;;2 PATCHES;;2;;PATCH(ES)
"RTN","PSSDSDAT",181,0)
 ;;TWO PATCH(ES);;2;;PATCH(ES)
"RTN","PSSDSDAT",182,0)
 ;;2 PATCH(ES);;2;;PATCH(ES)
"RTN","PSSDSDAT",183,0)
 ;;ONE PUFF;;1;;INHALATION(S)
"RTN","PSSDSDAT",184,0)
 ;;1 PUFF;;1;;INHALATION(S)
"RTN","PSSDSDAT",185,0)
 ;;ONE PUFF(S);;1;;INHALATION(S)
"RTN","PSSDSDAT",186,0)
 ;;1 PUFF(S);;1;;INHALATION(S)
"RTN","PSSDSDAT",187,0)
 ;;TWO PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",188,0)
 ;;2 PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",189,0)
 ;;TWO PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",190,0)
 ;;2 PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",191,0)
 ;;ONE OR TWO PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",192,0)
 ;;1 OR 2 PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",193,0)
 ;;ONE TO TWO PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",194,0)
 ;;1 TO 2 PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",195,0)
 ;;ONE - TWO PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",196,0)
 ;;ONE-TWO PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",197,0)
 ;;1-2 PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",198,0)
 ;;1 - 2 PUFF(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",199,0)
 ;;ONE OR TWO PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",200,0)
 ;;1 OR 2 PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",201,0)
 ;;ONE TO TWO PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",202,0)
 ;;1 TO 2 PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",203,0)
 ;;ONE - TWO PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",204,0)
 ;;ONE-TWO PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",205,0)
 ;;1-2 PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",206,0)
 ;;1 - 2 PUFFS;;2;;INHALATION(S)
"RTN","PSSDSDAT",207,0)
 ;;ONE INHALATION;;1;;INHALATION(S)
"RTN","PSSDSDAT",208,0)
 ;;1 INHALATION;;1;;INHALATION(S)
"RTN","PSSDSDAT",209,0)
 ;;ONE INHALATION(S);;1;;INHALATION(S)
"RTN","PSSDSDAT",210,0)
 ;;1 INHALATION(S);;1;;INHALATION(S)
"RTN","PSSDSDAT",211,0)
 ;;TWO INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",212,0)
 ;;2 INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",213,0)
 ;;TWO INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",214,0)
 ;;2 INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",215,0)
 ;;ONE OR TWO INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",216,0)
 ;;1 OR 2 INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",217,0)
 ;;ONE TO TWO INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",218,0)
 ;;1 TO 2 INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",219,0)
 ;;ONE - TWO INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",220,0)
 ;;ONE-TWO INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",221,0)
 ;;1-2 INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",222,0)
 ;;1 - 2 INHALATIONS;;2;;INHALATION(S)
"RTN","PSSDSDAT",223,0)
 ;;ONE OR TWO INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",224,0)
 ;;1 OR 2 INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",225,0)
 ;;ONE TO TWO INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",226,0)
 ;;1 TO 2 INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",227,0)
 ;;ONE - TWO INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",228,0)
 ;;ONE-TWO INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",229,0)
 ;;1-2 INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",230,0)
 ;;1 - 2 INHALATION(S);;2;;INHALATION(S)
"RTN","PSSDSDAT",231,0)
 ;;ONE SPRAY;;1;;SPRAY(S)
"RTN","PSSDSDAT",232,0)
 ;;1 SPRAY;;1;;SPRAY(S)
"RTN","PSSDSDAT",233,0)
 ;;ONE SPRAY(S);;1;;SPRAY(S)
"RTN","PSSDSDAT",234,0)
 ;;1 SPRAY(S);;1;;SPRAY(S)
"RTN","PSSDSDAT",235,0)
 ;;TWO SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",236,0)
 ;;2 SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",237,0)
 ;;TWO SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",238,0)
 ;;2 SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",239,0)
 ;;ONE OR TWO SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",240,0)
 ;;1 OR 2 SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",241,0)
 ;;ONE TO TWO SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",242,0)
 ;;1 TO 2 SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",243,0)
 ;;ONE - TWO SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",244,0)
 ;;ONE-TWO SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",245,0)
 ;;1-2 SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",246,0)
 ;;1 - 2 SPRAYS;;2;;SPRAY(S)
"RTN","PSSDSDAT",247,0)
 ;;ONE OR TWO SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",248,0)
 ;;1 OR 2 SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",249,0)
 ;;ONE TO TWO SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",250,0)
 ;;1 TO 2 SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",251,0)
 ;;ONE - TWO SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",252,0)
 ;;ONE-TWO SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",253,0)
 ;;1-2 SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",254,0)
 ;;1 - 2 SPRAY(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",255,0)
 ;;ONE SQUIRT;;1;;SPRAY(S)
"RTN","PSSDSDAT",256,0)
 ;;1 SQUIRT;;1;;SPRAY(S)
"RTN","PSSDSDAT",257,0)
 ;;ONE SQUIRT(S);;1;;SPRAY(S)
"RTN","PSSDSDAT",258,0)
 ;;1 SQUIRT(S);;1;;SPRAY(S)
"RTN","PSSDSDAT",259,0)
 ;;TWO SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",260,0)
 ;;2 SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",261,0)
 ;;TWO SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",262,0)
 ;;2 SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",263,0)
 ;;ONE OR TWO SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",264,0)
 ;;1 OR 2 SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",265,0)
 ;;ONE TO TWO SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",266,0)
 ;;1 TO 2 SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",267,0)
 ;;ONE - TWO SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",268,0)
 ;;ONE-TWO SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",269,0)
 ;;1-2 SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",270,0)
 ;;1 - 2 SQUIRTS;;2;;SPRAY(S)
"RTN","PSSDSDAT",271,0)
 ;;ONE OR TWO SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",272,0)
 ;;1 OR 2 SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",273,0)
 ;;ONE TO TWO SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",274,0)
 ;;1 TO 2 SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",275,0)
 ;;ONE - TWO SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",276,0)
 ;;ONE-TWO SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",277,0)
 ;;1-2 SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",278,0)
 ;;1 - 2 SQUIRT(S);;2;;SPRAY(S)
"RTN","PSSDSDAT",279,0)
 ;;ONE WAFER;;1;;WAFER(S)
"RTN","PSSDSDAT",280,0)
 ;;1 WAFER;;1;;WAFER(S)
"RTN","PSSDSDAT",281,0)
 ;;ONE WAFER(S);;1;;WAFER(S)
"RTN","PSSDSDAT",282,0)
 ;;1 WAFER(S);;1;;WAFER(S)
"RTN","PSSDSDAT",283,0)
 ;;TWO WAFERS;;2;;WAFER(S)
"RTN","PSSDSDAT",284,0)
 ;;2 WAFERS;;2;;WAFER(S)
"RTN","PSSDSDAT",285,0)
 ;;TWO WAFER(S);;2;;WAFER(S)
"RTN","PSSDSDAT",286,0)
 ;;2 WAFER(S);;2;;WAFER(S)
"RTN","PSSDSDAT",287,0)
 ;;
"RTN","PSSDSDAT",288,0)
SET5 ;
"RTN","PSSDSDAT",289,0)
 ;;1 ML;;1;;MILLILITER(S)
"RTN","PSSDSDAT",290,0)
 ;;1 ML(S);;1;;MILLILITER(S)
"RTN","PSSDSDAT",291,0)
 ;;1ML;;1;;MILLILITER(S)
"RTN","PSSDSDAT",292,0)
 ;;1 MILLILITER;;1;;MILLILITER(S)
"RTN","PSSDSDAT",293,0)
 ;;ONE MILLILITER;;1;;MILLILITER(S)
"RTN","PSSDSDAT",294,0)
 ;;1 MILLILITER(S);;1;;MILLILITER(S)
"RTN","PSSDSDAT",295,0)
 ;;ONE MILLILITER(S);;1;;MILLILITER(S)
"RTN","PSSDSDAT",296,0)
 ;;2 ML;;2;;MILLILITER(S)
"RTN","PSSDSDAT",297,0)
 ;;2 ML(S);;2;;MILLILITER(S)
"RTN","PSSDSDAT",298,0)
 ;;2 MLS;;2;;MILLILITER(S)
"RTN","PSSDSDAT",299,0)
 ;;2ML;;2;;MILLILITER(S)
"RTN","PSSDSDAT",300,0)
 ;;2 MILLILITER(S);;2;;MILLILITER(S)
"RTN","PSSDSDAT",301,0)
 ;;TWO MILLILITER(S);;2;;MILLILITER(S)
"RTN","PSSDSDAT",302,0)
 ;;2 MILLILITERS;;2;;MILLILITER(S)
"RTN","PSSDSDAT",303,0)
 ;;TWO MILLILITERS;;2;;MILLILITER(S)
"RTN","PSSDSDAT",304,0)
 ;;ONE TABLESPOON;;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",305,0)
 ;;1 TABLESPOON;;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",306,0)
 ;;ONE TABLESPOON(S);;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",307,0)
 ;;1 TABLESPOON(S);;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",308,0)
 ;;ONE TABLESPOONFUL;;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",309,0)
 ;;1 TABLESPOONFUL;;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",310,0)
 ;;ONE TABLESPOONFUL(S);;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",311,0)
 ;;1 TABLESPOONFUL(S);;1;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",312,0)
 ;;TWO TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",313,0)
 ;;2 TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",314,0)
 ;;TWO TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",315,0)
 ;;2 TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",316,0)
 ;;TWO TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",317,0)
 ;;2 TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",318,0)
 ;;TWO TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",319,0)
 ;;2 TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",320,0)
 ;;ONE OR TWO TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",321,0)
 ;;1 OR 2 TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",322,0)
 ;;ONE TO TWO TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",323,0)
 ;;1 TO 2 TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",324,0)
 ;;ONE - TWO TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",325,0)
 ;;ONE-TWO TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",326,0)
 ;;1-2 TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",327,0)
 ;;1 - 2 TABLESPOONS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",328,0)
 ;;ONE OR TWO TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",329,0)
 ;;1 OR 2 TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",330,0)
 ;;ONE TO TWO TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",331,0)
 ;;1 TO 2 TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",332,0)
 ;;ONE - TWO TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",333,0)
 ;;ONE-TWO TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",334,0)
 ;;1-2 TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",335,0)
 ;;1 - 2 TABLESPOON(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",336,0)
 ;;ONE OR TWO TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",337,0)
 ;;1 OR 2 TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",338,0)
 ;;ONE TO TWO TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",339,0)
 ;;1 TO 2 TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",340,0)
 ;;ONE - TWO TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",341,0)
 ;;ONE-TWO TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",342,0)
 ;;1-2 TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",343,0)
 ;;1 - 2 TABLESPOONFULS;;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",344,0)
 ;;ONE OR TWO TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",345,0)
 ;;1 OR 2 TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",346,0)
 ;;ONE TO TWO TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",347,0)
 ;;1 TO 2 TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",348,0)
 ;;ONE - TWO TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",349,0)
 ;;ONE-TWO TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",350,0)
 ;;1-2 TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",351,0)
 ;;1 - 2 TABLESPOONFUL(S);;2;;TABLESPOONFUL(S)
"RTN","PSSDSDAT",352,0)
 ;;ONE TEASPOON;;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",353,0)
 ;;1 TEASPOON;;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",354,0)
 ;;ONE TEASPOON(S);;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",355,0)
 ;;1 TEASPOON(S);;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",356,0)
 ;;ONE TEASPOONFUL;;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",357,0)
 ;;1 TEASPOONFUL;;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",358,0)
 ;;ONE TEASPOONFUL(S);;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",359,0)
 ;;1 TEASPOONFUL(S);;1;;TEASPOONFUL(S)
"RTN","PSSDSDAT",360,0)
 ;;TWO TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",361,0)
 ;;2 TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",362,0)
 ;;TWO TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",363,0)
 ;;2 TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",364,0)
 ;;TWO TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",365,0)
 ;;2 TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",366,0)
 ;;TWO TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",367,0)
 ;;2 TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",368,0)
 ;;ONE OR TWO TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",369,0)
 ;;1 OR 2 TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",370,0)
 ;;ONE TO TWO TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",371,0)
 ;;1 TO 2 TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",372,0)
 ;;ONE - TWO TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",373,0)
 ;;ONE-TWO TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",374,0)
 ;;1-2 TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",375,0)
 ;;1 - 2 TEASPOONS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",376,0)
 ;;ONE OR TWO TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",377,0)
 ;;1 OR 2 TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",378,0)
 ;;ONE TO TWO TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",379,0)
 ;;1 TO 2 TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",380,0)
 ;;ONE - TWO TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",381,0)
 ;;ONE-TWO TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",382,0)
 ;;1-2 TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",383,0)
 ;;1 - 2 TEASPOON(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",384,0)
 ;;ONE OR TWO TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",385,0)
 ;;1 OR 2 TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",386,0)
 ;;ONE TO TWO TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",387,0)
 ;;1 TO 2 TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",388,0)
 ;;ONE - TWO TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",389,0)
 ;;ONE-TWO TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",390,0)
 ;;1-2 TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",391,0)
 ;;1 - 2 TEASPOONFULS;;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",392,0)
 ;;ONE OR TWO TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",393,0)
 ;;1 OR 2 TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",394,0)
 ;;ONE TO TWO TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",395,0)
 ;;1 TO 2 TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",396,0)
 ;;ONE - TWO TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",397,0)
 ;;ONE-TWO TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",398,0)
 ;;1-2 TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",399,0)
 ;;1 - 2 TEASPOONFUL(S);;2;;TEASPOONFUL(S)
"RTN","PSSDSDAT",400,0)
 ;;ONE-HALF TABLET;;.5;;TABLET(S)
"RTN","PSSDSDAT",401,0)
 ;;1/2 TABLET;;.5;;TABLET(S)
"RTN","PSSDSDAT",402,0)
 ;;0.5 TABLET;;.5;;TABLET(S)
"RTN","PSSDSDAT",403,0)
 ;;ONE-HALF TABLET(S);;.5;;TABLET(S)
"RTN","PSSDSDAT",404,0)
 ;;1/2 TABLET(S);;.5;;TABLET(S)
"RTN","PSSDSDAT",405,0)
 ;;0.5 TABLET(S);;.5;;TABLET(S)
"RTN","PSSDSDAT",406,0)
 ;;ONE TABLET;;1;;TABLET(S)
"RTN","PSSDSDAT",407,0)
 ;;1 TABLET;;1;;TABLET(S)
"RTN","PSSDSDAT",408,0)
 ;;ONE TABLET(S);;1;;TABLET(S)
"RTN","PSSDSDAT",409,0)
 ;;1 TABLET(S);;1;;TABLET(S)
"RTN","PSSDSDAT",410,0)
 ;;TWO TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",411,0)
 ;;2 TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",412,0)
 ;;TWO TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",413,0)
 ;;2 TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",414,0)
 ;;ONE OR TWO TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",415,0)
 ;;1 OR 2 TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",416,0)
 ;;ONE TO TWO TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",417,0)
 ;;1 TO 2 TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",418,0)
 ;;ONE - TWO TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",419,0)
 ;;ONE-TWO TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",420,0)
 ;;1-2 TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",421,0)
 ;;1 - 2 TABLETS;;2;;TABLET(S)
"RTN","PSSDSDAT",422,0)
 ;;ONE OR TWO TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",423,0)
 ;;1 OR 2 TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",424,0)
 ;;ONE TO TWO TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",425,0)
 ;;1 TO 2 TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",426,0)
 ;;ONE - TWO TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",427,0)
 ;;ONE-TWO TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",428,0)
 ;;1-2 TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",429,0)
 ;;1 - 2 TABLET(S);;2;;TABLET(S)
"RTN","PSSDSDAT",430,0)
 ;;ONE CAPSULE;;1;;CAPSULE(S)
"RTN","PSSDSDAT",431,0)
 ;;1 CAPSULE;;1;;CAPSULE(S)
"RTN","PSSDSDAT",432,0)
 ;;ONE CAPSULE(S);;1;;CAPSULE(S)
"RTN","PSSDSDAT",433,0)
 ;;1 CAPSULE(S);;1;;CAPSULE(S)
"RTN","PSSDSDAT",434,0)
 ;;TWO CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",435,0)
 ;;2 CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",436,0)
 ;;TWO CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",437,0)
 ;;2 CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",438,0)
 ;;ONE OR TWO CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",439,0)
 ;;1 OR 2 CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",440,0)
 ;;ONE TO TWO CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",441,0)
 ;;1 TO 2 CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",442,0)
 ;;ONE - TWO CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",443,0)
 ;;ONE-TWO CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",444,0)
 ;;1-2 CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",445,0)
 ;;1 - 2 CAPSULES;;2;;CAPSULE(S)
"RTN","PSSDSDAT",446,0)
 ;;ONE OR TWO CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",447,0)
 ;;1 OR 2 CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",448,0)
 ;;ONE TO TWO CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",449,0)
 ;;1 TO 2 CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",450,0)
 ;;ONE - TWO CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",451,0)
 ;;ONE-TWO CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",452,0)
 ;;1-2 CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",453,0)
 ;;1 - 2 CAPSULE(S);;2;;CAPSULE(S)
"RTN","PSSDSDAT",454,0)
 ;;ONE LOZENGE;;1;;LOZENGE(S)
"RTN","PSSDSDAT",455,0)
 ;;1 LOZENGE;;1;;LOZENGE(S)
"RTN","PSSDSDAT",456,0)
 ;;ONE LOZENGE(S);;1;;LOZENGE(S)
"RTN","PSSDSDAT",457,0)
 ;;1 LOZENGE(S);;1;;LOZENGE(S)
"RTN","PSSDSDAT",458,0)
 ;;TWO LOZENGES;;2;;LOZENGE(S)
"RTN","PSSDSDAT",459,0)
 ;;2 LOZENGES;;2;;LOZENGE(S)
"RTN","PSSDSDAT",460,0)
 ;;TWO LOZENGE(S);;2;;LOZENGE(S)
"RTN","PSSDSDAT",461,0)
 ;;2 LOZENGE(S);;2;;LOZENGE(S)
"RTN","PSSDSDAT",462,0)
 ;;ONE PACKET;;1;;PACKET(S)
"RTN","PSSDSDAT",463,0)
 ;;1 PACKET;;1;;PACKET(S)
"RTN","PSSDSDAT",464,0)
 ;;ONE PACKET(S);;1;;PACKET(S)
"RTN","PSSDSDAT",465,0)
 ;;1 PACKET(S);;1;;PACKET(S)
"RTN","PSSDSDAT",466,0)
 ;;TWO PACKETS;;2;;PACKET(S)
"RTN","PSSDSDAT",467,0)
 ;;2 PACKETS;;2;;PACKET(S)
"RTN","PSSDSDAT",468,0)
 ;;TWO PACKET(S);;2;;PACKET(S)
"RTN","PSSDSDAT",469,0)
 ;;2 PACKET(S);;2;;PACKET(S)
"RTN","PSSDSDAT",470,0)
 ;;ONE SUPPOSITORY;;1;;SUPPOSITORY/IES
"RTN","PSSDSDAT",471,0)
 ;;1 SUPPOSITORY;;1;;SUPPOSITORY/IES
"RTN","PSSDSDAT",472,0)
 ;;ONE SUPPOSITOR(IES);;1;;SUPPOSITORY/IES
"RTN","PSSDSDAT",473,0)
 ;;1 SUPPOSITOR(IES);;1;;SUPPOSITORY/IES
"RTN","PSSDSDAT",474,0)
 ;;ONE SUPPOSITORY(IES);;1;;SUPPOSITORY/IES
"RTN","PSSDSDAT",475,0)
 ;;1 SUPPOSITORY(IES);;1;;SUPPOSITORY/IES
"RTN","PSSDSDAT",476,0)
 ;;TWO SUPPOSITORIES;;2;;SUPPOSITORY/IES
"RTN","PSSDSDAT",477,0)
 ;;2 SUPPOSITORIES;;2;;SUPPOSITORY/IES
"RTN","PSSDSDAT",478,0)
 ;;TWO SUPPOSITOR(IES);;2;;SUPPOSITORY/IES
"RTN","PSSDSDAT",479,0)
 ;;2 SUPPOSITOR(IES);;2;;SUPPOSITORY/IES
"RTN","PSSDSDAT",480,0)
 ;;TWO SUPPOSITORY(IES);;2;;SUPPOSITORY/IES
"RTN","PSSDSDAT",481,0)
 ;;2 SUPPOSITORY(IES);;2;;SUPPOSITORY/IES
"RTN","PSSDSDAT",482,0)
 ;;ONE TROCHE;;1;;TROCHE(S)
"RTN","PSSDSDAT",483,0)
 ;;1 TROCHE;;1;;TROCHE(S)
"RTN","PSSDSDAT",484,0)
 ;;ONE TROCHE(S);;1;;TROCHE(S)
"RTN","PSSDSDAT",485,0)
 ;;1 TROCHE(S);;1;;TROCHE(S)
"RTN","PSSDSDAT",486,0)
 ;;TWO TROCHES;;2;;TROCHE(S)
"RTN","PSSDSDAT",487,0)
 ;;2 TROCHES;;2;;TROCHE(S)
"RTN","PSSDSDAT",488,0)
 ;;TWO TROCHE(S);;2;;TROCHE(S)
"RTN","PSSDSDAT",489,0)
 ;;2 TROCHE(S);;2;;TROCHE(S)
"RTN","PSSDSDAT",490,0)
 ;;
"RTN","PSSDSDAT",491,0)
 Q
"RTN","PSSDSPON")
0^24^B136228967^n/a
"RTN","PSSDSPON",1,0)
PSSDSPON ;BIR/RTR-Determine numeric dose multiplier for patch 129 install ;07/10/08
"RTN","PSSDSPON",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSDSPON",3,0)
 ;
"RTN","PSSDSPON",4,0)
 ;
"RTN","PSSDSPON",5,0)
NUM() ;Determine numeric dose multiplier from Local Possible Dosage
"RTN","PSSDSPON",6,0)
 ;
"RTN","PSSDSPON",7,0)
 N PSSQVJ1,PSSQVJ2
"RTN","PSSDSPON",8,0)
 K PSSQVJ1,PSSQVJ2
"RTN","PSSDSPON",9,0)
 I $L($G(PSSQVLCD))'>0 Q 0
"RTN","PSSDSPON",10,0)
 ;
"RTN","PSSDSPON",11,0)
 ;
"RTN","PSSDSPON",12,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="4 AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 4.5
"RTN","PSSDSPON",13,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="FOUR AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 4.5
"RTN","PSSDSPON",14,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="FOUR AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 4.5
"RTN","PSSDSPON",15,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="4 AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 4.5
"RTN","PSSDSPON",16,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="4 AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 4.5
"RTN","PSSDSPON",17,0)
 S PSSQVJ1=$E(PSSQVLCD,1,13) I PSSQVJ1="FOUR AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,14,$L(PSSQVLCD)) I $$6 Q 4.5
"RTN","PSSDSPON",18,0)
 ;
"RTN","PSSDSPON",19,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="3 AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 3.5
"RTN","PSSDSPON",20,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="THREE AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 3.5
"RTN","PSSDSPON",21,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="THREE AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 3.5
"RTN","PSSDSPON",22,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="3 AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 3.5
"RTN","PSSDSPON",23,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="3 AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 3.5
"RTN","PSSDSPON",24,0)
 S PSSQVJ1=$E(PSSQVLCD,1,14) I PSSQVJ1="THREE AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,15,$L(PSSQVLCD)) I $$6 Q 3.5
"RTN","PSSDSPON",25,0)
 ;
"RTN","PSSDSPON",26,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="2 AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 2.5
"RTN","PSSDSPON",27,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="TWO AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 2.5
"RTN","PSSDSPON",28,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="TWO AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 2.5
"RTN","PSSDSPON",29,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="2 AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 2.5
"RTN","PSSDSPON",30,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="2 AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 2.5
"RTN","PSSDSPON",31,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="TWO AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 2.5
"RTN","PSSDSPON",32,0)
 ;
"RTN","PSSDSPON",33,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="1 AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 1.5
"RTN","PSSDSPON",34,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="ONE AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 1.5
"RTN","PSSDSPON",35,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="ONE AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 1.5
"RTN","PSSDSPON",36,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="1 AND ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 1.5
"RTN","PSSDSPON",37,0)
 S PSSQVJ1=$E(PSSQVLCD,1,15) I PSSQVJ1="1 AND ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,16,$L(PSSQVLCD)) I $$6 Q 1.5
"RTN","PSSDSPON",38,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="ONE AND 1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 1.5
"RTN","PSSDSPON",39,0)
 ;
"RTN","PSSDSPON",40,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="4 AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 4.25
"RTN","PSSDSPON",41,0)
 S PSSQVJ1=$E(PSSQVLCD,1,20) I PSSQVJ1="FOUR AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,21,$L(PSSQVLCD)) I $$6 Q 4.25
"RTN","PSSDSPON",42,0)
 S PSSQVJ1=$E(PSSQVLCD,1,20) I PSSQVJ1="FOUR AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,21,$L(PSSQVLCD)) I $$6 Q 4.25
"RTN","PSSDSPON",43,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="4 AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 4.25
"RTN","PSSDSPON",44,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="4 AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 4.25
"RTN","PSSDSPON",45,0)
 S PSSQVJ1=$E(PSSQVLCD,1,13) I PSSQVJ1="FOUR AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,14,$L(PSSQVLCD)) I $$6 Q 4.25
"RTN","PSSDSPON",46,0)
 ;
"RTN","PSSDSPON",47,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="3 AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 3.25
"RTN","PSSDSPON",48,0)
 S PSSQVJ1=$E(PSSQVLCD,1,21) I PSSQVJ1="THREE AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,22,$L(PSSQVLCD)) I $$6 Q 3.25
"RTN","PSSDSPON",49,0)
 S PSSQVJ1=$E(PSSQVLCD,1,21) I PSSQVJ1="THREE AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,22,$L(PSSQVLCD)) I $$6 Q 3.25
"RTN","PSSDSPON",50,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="3 AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 3.25
"RTN","PSSDSPON",51,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="3 AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 3.25
"RTN","PSSDSPON",52,0)
 S PSSQVJ1=$E(PSSQVLCD,1,14) I PSSQVJ1="THREE AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,15,$L(PSSQVLCD)) I $$6 Q 3.25
"RTN","PSSDSPON",53,0)
 ;
"RTN","PSSDSPON",54,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="2 AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 2.25
"RTN","PSSDSPON",55,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="TWO AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 2.25
"RTN","PSSDSPON",56,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="TWO AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 2.25
"RTN","PSSDSPON",57,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="2 AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 2.25
"RTN","PSSDSPON",58,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="2 AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 2.25
"RTN","PSSDSPON",59,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="TWO AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 2.25
"RTN","PSSDSPON",60,0)
 ;
"RTN","PSSDSPON",61,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="1 AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 1.25
"RTN","PSSDSPON",62,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="ONE AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 1.25
"RTN","PSSDSPON",63,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="ONE AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 1.25
"RTN","PSSDSPON",64,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="1 AND ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 1.25
"RTN","PSSDSPON",65,0)
 S PSSQVJ1=$E(PSSQVLCD,1,17) I PSSQVJ1="1 AND ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,18,$L(PSSQVLCD)) I $$6 Q 1.25
"RTN","PSSDSPON",66,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="ONE AND 1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 1.25
"RTN","PSSDSPON",67,0)
 ;
"RTN","PSSDSPON",68,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="4 AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 4.33
"RTN","PSSDSPON",69,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="FOUR AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 4.33
"RTN","PSSDSPON",70,0)
 S PSSQVJ1=$E(PSSQVLCD,1,19) I PSSQVJ1="FOUR AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,20,$L(PSSQVLCD)) I $$6 Q 4.33
"RTN","PSSDSPON",71,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="4 AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 4.33
"RTN","PSSDSPON",72,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="4 AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 4.33
"RTN","PSSDSPON",73,0)
 S PSSQVJ1=$E(PSSQVLCD,1,13) I PSSQVJ1="FOUR AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,14,$L(PSSQVLCD)) I $$6 Q 4.33
"RTN","PSSDSPON",74,0)
 ;
"RTN","PSSDSPON",75,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="3 AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 3.33
"RTN","PSSDSPON",76,0)
 S PSSQVJ1=$E(PSSQVLCD,1,20) I PSSQVJ1="THREE AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,21,$L(PSSQVLCD)) I $$6 Q 3.33
"RTN","PSSDSPON",77,0)
 S PSSQVJ1=$E(PSSQVLCD,1,20) I PSSQVJ1="THREE AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,21,$L(PSSQVLCD)) I $$6 Q 3.33
"RTN","PSSDSPON",78,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="3 AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 3.33
"RTN","PSSDSPON",79,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="3 AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 3.33
"RTN","PSSDSPON",80,0)
 S PSSQVJ1=$E(PSSQVLCD,1,14) I PSSQVJ1="THREE AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,15,$L(PSSQVLCD)) I $$6 Q 3.33
"RTN","PSSDSPON",81,0)
 ;
"RTN","PSSDSPON",82,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="2 AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 2.33
"RTN","PSSDSPON",83,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="TWO AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 2.33
"RTN","PSSDSPON",84,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="TWO AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 2.33
"RTN","PSSDSPON",85,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="2 AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 2.33
"RTN","PSSDSPON",86,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="2 AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 2.33
"RTN","PSSDSPON",87,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="TWO AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 2.33
"RTN","PSSDSPON",88,0)
 ;
"RTN","PSSDSPON",89,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="1 AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 1.33
"RTN","PSSDSPON",90,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="ONE AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 1.33
"RTN","PSSDSPON",91,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="ONE AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 1.33
"RTN","PSSDSPON",92,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="1 AND ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 1.33
"RTN","PSSDSPON",93,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="1 AND ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 1.33
"RTN","PSSDSPON",94,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="ONE AND 1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 1.33
"RTN","PSSDSPON",95,0)
 ;
"RTN","PSSDSPON",96,0)
 S PSSQVJ1=$E(PSSQVLCD,1,6) I PSSQVJ1="0.5-1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,7,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",97,0)
 S PSSQVJ1=$E(PSSQVLCD,1,8) I PSSQVJ1="0.5 - 1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,9,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",98,0)
 S PSSQVJ1=$E(PSSQVLCD,1,9) I PSSQVJ1="0.5 TO 1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,10,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",99,0)
 S PSSQVJ1=$E(PSSQVLCD,1,9) I PSSQVJ1="0.5 OR 1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,10,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",100,0)
 S PSSQVJ1=$E(PSSQVLCD,1,6) I PSSQVJ1="1/2-1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,7,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",101,0)
 S PSSQVJ1=$E(PSSQVLCD,1,8) I PSSQVJ1="1/2 - 1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,9,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",102,0)
 S PSSQVJ1=$E(PSSQVLCD,1,9) I PSSQVJ1="1/2 TO 1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,10,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",103,0)
 S PSSQVJ1=$E(PSSQVLCD,1,9) I PSSQVJ1="1/2 OR 1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,10,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",104,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="ONE-HALF TO ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",105,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="ONE - HALF TO ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",106,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="ONE HALF TO ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",107,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="ONE-HALF OR ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",108,0)
 S PSSQVJ1=$E(PSSQVLCD,1,18) I PSSQVJ1="ONE - HALF OR ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,19,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",109,0)
 S PSSQVJ1=$E(PSSQVLCD,1,16) I PSSQVJ1="ONE HALF OR ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,17,$L(PSSQVLCD)) I $$6 Q 1
"RTN","PSSDSPON",110,0)
 ;
"RTN","PSSDSPON",111,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="1-2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",112,0)
 S PSSQVJ1=$E(PSSQVLCD,1,6) I PSSQVJ1="1 - 2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,7,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",113,0)
 S PSSQVJ1=$E(PSSQVLCD,1,7) I PSSQVJ1="1 TO 2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,8,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",114,0)
 S PSSQVJ1=$E(PSSQVLCD,1,7) I PSSQVJ1="1 OR 2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,8,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",115,0)
 S PSSQVJ1=$E(PSSQVLCD,1,11) I PSSQVJ1="ONE TO TWO " I $$7 S PSSQVJ2=$E(PSSQVLCD,12,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",116,0)
 S PSSQVJ1=$E(PSSQVLCD,1,11) I PSSQVJ1="ONE OR TWO " I $$7 S PSSQVJ2=$E(PSSQVLCD,12,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",117,0)
 S PSSQVJ1=$E(PSSQVLCD,1,8) I PSSQVJ1="ONE-TWO " I $$7 S PSSQVJ2=$E(PSSQVLCD,9,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",118,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="ONE - TWO " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 2
"RTN","PSSDSPON",119,0)
 ;
"RTN","PSSDSPON",120,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="2-3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",121,0)
 S PSSQVJ1=$E(PSSQVLCD,1,6) I PSSQVJ1="2 - 3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,7,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",122,0)
 S PSSQVJ1=$E(PSSQVLCD,1,7) I PSSQVJ1="2 TO 3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,8,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",123,0)
 S PSSQVJ1=$E(PSSQVLCD,1,7) I PSSQVJ1="2 OR 3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,8,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",124,0)
 S PSSQVJ1=$E(PSSQVLCD,1,13) I PSSQVJ1="TWO TO THREE " I $$7 S PSSQVJ2=$E(PSSQVLCD,14,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",125,0)
 S PSSQVJ1=$E(PSSQVLCD,1,13) I PSSQVJ1="TWO OR THREE " I $$7 S PSSQVJ2=$E(PSSQVLCD,14,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",126,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="TWO-THREE " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",127,0)
 S PSSQVJ1=$E(PSSQVLCD,1,12) I PSSQVJ1="TWO - THREE " I $$7 S PSSQVJ2=$E(PSSQVLCD,13,$L(PSSQVLCD)) I $$6 Q 3
"RTN","PSSDSPON",128,0)
 ;
"RTN","PSSDSPON",129,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="3-4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",130,0)
 S PSSQVJ1=$E(PSSQVLCD,1,6) I PSSQVJ1="3 - 4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,7,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",131,0)
 S PSSQVJ1=$E(PSSQVLCD,1,7) I PSSQVJ1="3 TO 4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,8,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",132,0)
 S PSSQVJ1=$E(PSSQVLCD,1,7) I PSSQVJ1="3 OR 4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,8,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",133,0)
 S PSSQVJ1=$E(PSSQVLCD,1,14) I PSSQVJ1="THREE TO FOUR " I $$7 S PSSQVJ2=$E(PSSQVLCD,15,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",134,0)
 S PSSQVJ1=$E(PSSQVLCD,1,14) I PSSQVJ1="THREE OR FOUR " I $$7 S PSSQVJ2=$E(PSSQVLCD,15,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",135,0)
 S PSSQVJ1=$E(PSSQVLCD,1,11) I PSSQVJ1="THREE-FOUR " I $$7 S PSSQVJ2=$E(PSSQVLCD,12,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",136,0)
 S PSSQVJ1=$E(PSSQVLCD,1,13) I PSSQVJ1="THREE - FOUR " I $$7 S PSSQVJ2=$E(PSSQVLCD,14,$L(PSSQVLCD)) I $$6 Q 4
"RTN","PSSDSPON",137,0)
 ;
"RTN","PSSDSPON",138,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="0.5 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q .5
"RTN","PSSDSPON",139,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="1/2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q .5
"RTN","PSSDSPON",140,0)
 S PSSQVJ1=$E(PSSQVLCD,1,9) I PSSQVJ1="ONE HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,10,$L(PSSQVLCD)) I $$6 Q .5
"RTN","PSSDSPON",141,0)
 S PSSQVJ1=$E(PSSQVLCD,1,9) I PSSQVJ1="ONE-HALF " I $$7 S PSSQVJ2=$E(PSSQVLCD,10,$L(PSSQVLCD)) I $$6 Q .5
"RTN","PSSDSPON",142,0)
 ;
"RTN","PSSDSPON",143,0)
 S PSSQVJ1=$E(PSSQVLCD,1,5) I PSSQVJ1="0.33 " I $$7 S PSSQVJ2=$E(PSSQVLCD,6,$L(PSSQVLCD)) I $$6 Q .33
"RTN","PSSDSPON",144,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="1/3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q .33
"RTN","PSSDSPON",145,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="ONE THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q .33
"RTN","PSSDSPON",146,0)
 S PSSQVJ1=$E(PSSQVLCD,1,10) I PSSQVJ1="ONE-THIRD " I $$7 S PSSQVJ2=$E(PSSQVLCD,11,$L(PSSQVLCD)) I $$6 Q .33
"RTN","PSSDSPON",147,0)
 ;
"RTN","PSSDSPON",148,0)
 S PSSQVJ1=$E(PSSQVLCD,1,5) I PSSQVJ1="0.25 " I $$7 S PSSQVJ2=$E(PSSQVLCD,6,$L(PSSQVLCD)) I $$6 Q .25
"RTN","PSSDSPON",149,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="1/4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6 Q .25
"RTN","PSSDSPON",150,0)
 S PSSQVJ1=$E(PSSQVLCD,1,11) I PSSQVJ1="ONE FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,12,$L(PSSQVLCD)) I $$6 Q .25
"RTN","PSSDSPON",151,0)
 S PSSQVJ1=$E(PSSQVLCD,1,11) I PSSQVJ1="ONE-FOURTH " I $$7 S PSSQVJ2=$E(PSSQVLCD,12,$L(PSSQVLCD)) I $$6 Q .25
"RTN","PSSDSPON",152,0)
 ;
"RTN","PSSDSPON",153,0)
 S PSSQVJ1=$E(PSSQVLCD,1,2) I PSSQVJ1="4 " I $$7 S PSSQVJ2=$E(PSSQVLCD,3,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 4
"RTN","PSSDSPON",154,0)
 S PSSQVJ1=$E(PSSQVLCD,1,5) I PSSQVJ1="FOUR " I $$7 S PSSQVJ2=$E(PSSQVLCD,6,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 4
"RTN","PSSDSPON",155,0)
 ;
"RTN","PSSDSPON",156,0)
 S PSSQVJ1=$E(PSSQVLCD,1,2) I PSSQVJ1="3 " I $$7 S PSSQVJ2=$E(PSSQVLCD,3,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 3
"RTN","PSSDSPON",157,0)
 S PSSQVJ1=$E(PSSQVLCD,1,6) I PSSQVJ1="THREE " I $$7 S PSSQVJ2=$E(PSSQVLCD,7,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 3
"RTN","PSSDSPON",158,0)
 ;
"RTN","PSSDSPON",159,0)
 S PSSQVJ1=$E(PSSQVLCD,1,2) I PSSQVJ1="2 " I $$7 S PSSQVJ2=$E(PSSQVLCD,3,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 2
"RTN","PSSDSPON",160,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="TWO " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 2
"RTN","PSSDSPON",161,0)
 ;
"RTN","PSSDSPON",162,0)
 S PSSQVJ1=$E(PSSQVLCD,1,2) I PSSQVJ1="1 " I $$7 S PSSQVJ2=$E(PSSQVLCD,3,$L(PSSQVLCD)) I $$6,PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2",PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF" Q 1
"RTN","PSSDSPON",163,0)
 S PSSQVJ1=$E(PSSQVLCD,1,4) I PSSQVJ1="ONE " I $$7 S PSSQVJ2=$E(PSSQVLCD,5,$L(PSSQVLCD)) I $$6,PSSQVJ2'["FOURTH",PSSQVJ2'["THIRD",PSSQVJ2'["HALF",PSSQVJ2'["4",PSSQVJ2'["3",PSSQVJ2'["2" Q 1
"RTN","PSSDSPON",164,0)
 ;
"RTN","PSSDSPON",165,0)
 Q 0
"RTN","PSSDSPON",166,0)
 ;
"RTN","PSSDSPON",167,0)
 ;
"RTN","PSSDSPON",168,0)
6() ;
"RTN","PSSDSPON",169,0)
 ;Some special characters in a Nouns will pass, (), etc. others like "/" will not
"RTN","PSSDSPON",170,0)
 I PSSQVJ2[" " Q 0
"RTN","PSSDSPON",171,0)
 I PSSQVJ2["-" Q 0
"RTN","PSSDSPON",172,0)
 I PSSQVJ2["&" Q 0
"RTN","PSSDSPON",173,0)
 I PSSQVJ2["\" Q 0
"RTN","PSSDSPON",174,0)
 I PSSQVJ2["/" Q 0
"RTN","PSSDSPON",175,0)
 Q 1
"RTN","PSSDSPON",176,0)
 ;
"RTN","PSSDSPON",177,0)
7() ;
"RTN","PSSDSPON",178,0)
 I $L(PSSQVLCD)'>$L(PSSQVJ1) Q 0
"RTN","PSSDSPON",179,0)
 Q 1
"RTN","PSSDSPOP")
0^17^B157013357^n/a
"RTN","PSSDSPOP",1,0)
PSSDSPOP ;BIR/RTR-Populate Dose Unit and Numeric Dose on PSS*1*129 install ;05/03/08
"RTN","PSSDSPOP",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSDSPOP",3,0)
 ;
"RTN","PSSDSPOP",4,0)
 ;Called from PSSPO129 to auto-populate Dose unit and numeric Dose Fields in File 50
"RTN","PSSDSPOP",5,0)
 ;
"RTN","PSSDSPOP",6,0)
ENX ;
"RTN","PSSDSPOP",7,0)
 Q
"RTN","PSSDSPOP",8,0)
 ;
"RTN","PSSDSPOP",9,0)
 ;
"RTN","PSSDSPOP",10,0)
TEST(PSSVWIEN) ;Test to see if Numeric Dose and Dose Unit should be prompted for
"RTN","PSSDSPOP",11,0)
 ;In Drug Enter/Edit and Dosage Enter/Options
"RTN","PSSDSPOP",12,0)
 N PSSVWND1,PSSVWND3,PSSVWZR,PSSVWDOV,PSSVWNDF,PSSVWDF
"RTN","PSSDSPOP",13,0)
 S PSSVWZR=$G(^PSDRUG(+PSSVWIEN,0))
"RTN","PSSDSPOP",14,0)
 I $P(PSSVWZR,"^",3)["S"!($E($P(PSSVWZR,"^",2),1,2)="XA") Q 0
"RTN","PSSDSPOP",15,0)
 S PSSVWND1=$P($G(^PSDRUG(+PSSVWIEN,"ND")),"^"),PSSVWND3=$P($G(^PSDRUG(+PSSVWIEN,"ND")),"^",3)
"RTN","PSSDSPOP",16,0)
 S PSSVWDOV=""
"RTN","PSSDSPOP",17,0)
 I PSSVWND1,PSSVWND3,$T(OVRIDE^PSNAPIS)]"" S PSSVWDOV=$$OVRIDE^PSNAPIS(PSSVWND1,PSSVWND3)
"RTN","PSSDSPOP",18,0)
 I PSSVWND1,PSSVWND3 S PSSVWNDF=$$DFSU^PSNAPIS(PSSVWND1,PSSVWND3) S PSSVWDF=$P(PSSVWNDF,"^")
"RTN","PSSDSPOP",19,0)
 I $G(PSSVWDF)'>0,$P($G(^PSDRUG(PSSVWIEN,2)),"^") S PSSVWDF=$P($G(^PS(50.7,+$P($G(^PSDRUG(PSSVWIEN,2)),"^"),0)),"^",2)
"RTN","PSSDSPOP",20,0)
 I PSSVWDOV=""!('$G(PSSVWDF))!($P($G(^PS(50.606,+$G(PSSVWDF),1)),"^")="") Q 1
"RTN","PSSDSPOP",21,0)
 I $P($G(^PS(50.606,+$G(PSSVWDF),1)),"^"),'PSSVWDOV Q 0
"RTN","PSSDSPOP",22,0)
 I '$P($G(^PS(50.606,+$G(PSSVWDF),1)),"^"),PSSVWDOV Q 0
"RTN","PSSDSPOP",23,0)
 Q 1
"RTN","PSSDSPOP",24,0)
 ;
"RTN","PSSDSPOP",25,0)
 ;
"RTN","PSSDSPOP",26,0)
MS ;Called from Drug Enter Edit and Dose Enter Edit
"RTN","PSSDSPOP",27,0)
 N PSSVWX,PSSVWXX,X,Y,DIR,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","PSSDSPOP",28,0)
 S PSSVWX=$S($E($G(PSSNATST),1)=".":"0"_$G(PSSNATST),1:$G(PSSNATST))
"RTN","PSSDSPOP",29,0)
 S PSSVWXX=$S($E($P($G(^PSDRUG(PSSIEN,"DOS")),"^"),1)=".":"0"_$P($G(^PSDRUG(PSSIEN,"DOS")),"^"),1:$P($G(^PSDRUG(PSSIEN,"DOS")),"^"))
"RTN","PSSDSPOP",30,0)
 I PSSVWX'="",PSSVWXX'="",PSSVWX'=PSSVWXX W !!,"Please note: Strength of drug does not match strength of VA Product it is",!,"matched to." D
"RTN","PSSDSPOP",31,0)
 .I $G(PSSDESTP) K DIR W ! S DIR(0)="E",DIR("A")="Press Return to Continue" D ^DIR K DIR
"RTN","PSSDSPOP",32,0)
 Q
"RTN","PSSDSPOP",33,0)
 ;
"RTN","PSSDSPOP",34,0)
EN ;
"RTN","PSSDSPOP",35,0)
 ;Finish adding data
"RTN","PSSDSPOP",36,0)
 D ^PSSDSDAT
"RTN","PSSDSPOP",37,0)
 N PSSQVNMX,PSSQVIEN,PSSQVZR,PSSQVND1,PSSQVND3,PSSQVTOT,PSSQVOK,PSSQVLPX,PSSQVLC1,PSSQVLCD,PSSQVDF1,PSSQVDF2,PSSQVDF3,PSSQVFZ,PSSQVMUL
"RTN","PSSDSPOP",38,0)
 N X,Y,DIC,DTOUT,DLAYGO,PSSQVDF4,PSSQVDF5,PSSQVDF6,PSSQVDF7,PSSQVQT,PSSQVDF8,PSSQV9,PSSQVNUM,PSSQVRSL,PSSQVFNC,PSSQVFNX,PSSQVNDF,PSSQVDF
"RTN","PSSDSPOP",39,0)
 N PSSQVXF4,PSSQVXF5,PSSQVXF6,PSSQVXF7,PSSQVXF8,PSSQVXF9,PSSQVFL9,PSSQVFL8,PSSQVFZA
"RTN","PSSDSPOP",40,0)
 S PSSQVTOT=0
"RTN","PSSDSPOP",41,0)
 S PSSQVNMX="" F  S PSSQVNMX=$O(^PSDRUG("B",PSSQVNMX)) Q:PSSQVNMX=""  F PSSQVIEN=0:0 S PSSQVIEN=$O(^PSDRUG("B",PSSQVNMX,PSSQVIEN)) Q:'PSSQVIEN  D
"RTN","PSSDSPOP",42,0)
 .K PSSQVZR,PSSQVND1,PSSQVND3,PSSQVOK,PSSQVLPX,PSSQVLC1,PSSQVLCD,PSSQVDF1,PSSQVDF2,PSSQVDF3
"RTN","PSSDSPOP",43,0)
 .S PSSQVZR=$G(^PSDRUG(PSSQVIEN,0)),PSSQVND1=$P($G(^PSDRUG(PSSQVIEN,"ND")),"^"),PSSQVND3=$P($G(^PSDRUG(PSSQVIEN,"ND")),"^",3)
"RTN","PSSDSPOP",44,0)
 .S PSSQVTOT=PSSQVTOT+1 I '(PSSQVTOT#1000) D BMES^XPDUTL("...still mapping Local Possible Dosages...")
"RTN","PSSDSPOP",45,0)
 .K PSSQVNDF,PSSQVDF,PSSQVFZ
"RTN","PSSDSPOP",46,0)
 .S PSSQVFZ=""
"RTN","PSSDSPOP",47,0)
 .S PSSQVOK=$$TESTX
"RTN","PSSDSPOP",48,0)
 .Q:'PSSQVOK
"RTN","PSSDSPOP",49,0)
 .I $G(PSSQVDF) S PSSQVFZ=$P($G(^PS(50.606,PSSQVDF,0)),"^")
"RTN","PSSDSPOP",50,0)
 .L +^PSDRUG(PSSQVIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:3) I '$T Q
"RTN","PSSDSPOP",51,0)
 .F PSSQVLPX=0:0 S PSSQVLPX=$O(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX)) Q:'PSSQVLPX  S PSSQVLC1=$G(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0)) I $P(PSSQVLC1,"^")'="" I '$P(PSSQVLC1,"^",5),($P(PSSQVLC1,"^",6)="") D
"RTN","PSSDSPOP",52,0)
 ..S PSSQVLCD=$$UP^XLFSTR($P(PSSQVLC1,"^"))
"RTN","PSSDSPOP",53,0)
 ..K PSSQVDF1,PSSQVDF2,PSSQVDF3,PSSQVQT
"RTN","PSSDSPOP",54,0)
 ..S PSSQVQT=0
"RTN","PSSDSPOP",55,0)
 ..;
"RTN","PSSDSPOP",56,0)
 ..;
"RTN","PSSDSPOP",57,0)
 ..;Condition Set 4 (Part 1)
"RTN","PSSDSPOP",58,0)
 ..I $D(^TMP($J,"PSSQVCS4",PSSQVLCD)) D  K Y
"RTN","PSSDSPOP",59,0)
 ...S PSSQVQT=1
"RTN","PSSDSPOP",60,0)
 ...S PSSQVDF1=$P(^TMP($J,"PSSQVCS4",PSSQVLCD),"^"),PSSQVDF2=$P(^TMP($J,"PSSQVCS4",PSSQVLCD),"^",2)
"RTN","PSSDSPOP",61,0)
 ...S PSSQVDF3=$$DFIND(PSSQVDF2) I PSSQVDF3,PSSQVDF1 D
"RTN","PSSDSPOP",62,0)
 ....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVDF3
"RTN","PSSDSPOP",63,0)
 ....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVDF1
"RTN","PSSDSPOP",64,0)
 ..Q:PSSQVQT
"RTN","PSSDSPOP",65,0)
 ..;
"RTN","PSSDSPOP",66,0)
 ..;
"RTN","PSSDSPOP",67,0)
 ..;Condition Set 4 (Part 2)
"RTN","PSSDSPOP",68,0)
 ..D CS4
"RTN","PSSDSPOP",69,0)
 ..Q:PSSQVQT
"RTN","PSSDSPOP",70,0)
 ..;
"RTN","PSSDSPOP",71,0)
 ..;
"RTN","PSSDSPOP",72,0)
 ..;Condition Set 1
"RTN","PSSDSPOP",73,0)
 ..I $P($G(PSSQVNDF),"^",4)'="",$P($G(PSSQVNDF),"^",6)'="" D
"RTN","PSSDSPOP",74,0)
 ...I PSSQVFZ["TAB"!(PSSQVFZ["CAP")!(PSSQVFZ="GUM,CHEWABLE")!(PSSQVFZ="IMPLANT")!(PSSQVFZ="LOZENGE")!(PSSQVFZ="SUPP,RTL")!(PSSQVFZ="TROCHE")!(PSSQVFZ="INJ/IMPLANT") D
"RTN","PSSDSPOP",75,0)
 ....I $P(PSSQVNDF,"^",6)="MG"!($P(PSSQVNDF,"^",6)="MCG")!($P(PSSQVNDF,"^",6)="UNT")!($P(PSSQVNDF,"^",6)="GM")!($P(PSSQVNDF,"^",6)="MEQ") D
"RTN","PSSDSPOP",76,0)
 .....S PSSQVQT=1
"RTN","PSSDSPOP",77,0)
 .....K PSSQVDF4,PSSQVDF5,PSSQVDF6,PSSQVDF7,PSSQVDF8,PSSQVMUL
"RTN","PSSDSPOP",78,0)
 .....S PSSQVDF4=$P($G(^PSDRUG(PSSQVIEN,"DOS")),"^"),PSSQVDF5=$P($G(^PSDRUG(PSSQVIEN,"DOS")),"^",2)
"RTN","PSSDSPOP",79,0)
 .....I PSSQVDF5 K X S X=$P($G(^PS(50.607,PSSQVDF5,0)),"^") I X'="" S PSSQVDF6=$$DFIND(X)
"RTN","PSSDSPOP",80,0)
 .....I '$G(PSSQVDF6) K X S X=$P(PSSQVNDF,"^",6) S PSSQVDF6=$$DFIND(X)
"RTN","PSSDSPOP",81,0)
 .....K Y,X I '$G(PSSQVDF6) Q
"RTN","PSSDSPOP",82,0)
 .....S PSSQVDF7=$S($G(PSSQVDF4)'="":$G(PSSQVDF4),$P(PSSQVNDF,"^",4)'="":$P(PSSQVNDF,"^",4),1:"")
"RTN","PSSDSPOP",83,0)
 .....I PSSQVDF7'?.N&(PSSQVDF7'?.N1".".N) K PSSQVDF7
"RTN","PSSDSPOP",84,0)
 .....Q:$G(PSSQVDF7)=""
"RTN","PSSDSPOP",85,0)
 .....S PSSQVDF8=$$NUM^PSSDSPON
"RTN","PSSDSPOP",86,0)
 .....Q:'PSSQVDF8
"RTN","PSSDSPOP",87,0)
 .....S PSSQVMUL=PSSQVDF8*PSSQVDF7
"RTN","PSSDSPOP",88,0)
 .....K:+PSSQVMUL'=PSSQVMUL!(PSSQVMUL>99999999999999)!(PSSQVMUL<.00001)!(PSSQVMUL?.E1"."6N.N) PSSQVMUL
"RTN","PSSDSPOP",89,0)
 .....I '$G(PSSQVMUL) Q
"RTN","PSSDSPOP",90,0)
 .....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVDF6
"RTN","PSSDSPOP",91,0)
 .....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVMUL
"RTN","PSSDSPOP",92,0)
 ..Q:$G(PSSQVQT)
"RTN","PSSDSPOP",93,0)
 ..;
"RTN","PSSDSPOP",94,0)
 ..;
"RTN","PSSDSPOP",95,0)
 ..;Condition Set 2
"RTN","PSSDSPOP",96,0)
 ..I $P($G(PSSQVNDF),"^",4)'="",$P($G(PSSQVNDF),"^",6)'="" D
"RTN","PSSDSPOP",97,0)
 ...K PSSQV9,PSSQVFL8,PSSQVFZA
"RTN","PSSDSPOP",98,0)
 ...S PSSQV9=$P(PSSQVNDF,"^",6)
"RTN","PSSDSPOP",99,0)
 ...I PSSQVFZ="ELIXIR"!(PSSQVFZ="LIQUID")!(PSSQVFZ="LIQUID,ORAL")!(PSSQVFZ="PWDR,RENST-ORAL")!(PSSQVFZ="SOLN,CONC")!(PSSQVFZ="SOLN,ORAL")!(PSSQVFZ="SUSP")!(PSSQVFZ="SUSP,ORAL")!(PSSQVFZ="SYRUP")!(PSSQVFZ="SYRUP,ORAL") S PSSQVFZA=1
"RTN","PSSDSPOP",100,0)
 ...I PSSQVFZ="INJ"!(PSSQVFZ="INJ,SOLN") S PSSQVFZA=1
"RTN","PSSDSPOP",101,0)
 ...I $G(PSSQVFZA) D
"RTN","PSSDSPOP",102,0)
 ....I PSSQV9="GM/ML"!(PSSQV9="GM/1ML")!(PSSQV9="GM/5ML")!(PSSQV9="GM/10ML")!(PSSQV9="GM/15ML")!(PSSQV9="GM/30ML") S PSSQVFL8=1
"RTN","PSSDSPOP",103,0)
 ....I PSSQV9="MG/ML"!(PSSQV9="MG/1ML")!(PSSQV9="MG/5ML")!(PSSQV9="MG/10ML")!(PSSQV9="MG/15ML")!(PSSQV9="MG/30ML")!(PSSQV9="MEQ/ML")!(PSSQV9="MEQ/1ML")!(PSSQV9="MEQ/5ML")!(PSSQV9="MEQ/10ML")!(PSSQV9="MEQ/15ML")!(PSSQV9="MEQ/30ML") S PSSQVFL8=1
"RTN","PSSDSPOP",104,0)
 ....I $G(PSSQVFL8) D
"RTN","PSSDSPOP",105,0)
 .....S PSSQVQT=1
"RTN","PSSDSPOP",106,0)
 .....K PSSQVXF4,PSSQVXF5,PSSQVXF6,PSSQVXF7,PSSQVXF8,PSSQVXF9,PSSQVNUM,PSSQVFL9
"RTN","PSSDSPOP",107,0)
 .....S PSSQVXF4=$P($G(^PSDRUG(PSSQVIEN,"DOS")),"^"),PSSQVXF5=$P($G(^PSDRUG(PSSQVIEN,"DOS")),"^",2)
"RTN","PSSDSPOP",108,0)
 .....I PSSQVXF5 K X S X=$P($G(^PS(50.607,PSSQVXF5,0)),"^") D
"RTN","PSSDSPOP",109,0)
 ......S PSSQVFL9=0
"RTN","PSSDSPOP",110,0)
 ......I X="GM/ML"!(X="GM/1ML")!(X="GM/5ML")!(X="GM/10ML")!(X="GM/15ML")!(X="GM/30ML") S PSSQVFL9=1
"RTN","PSSDSPOP",111,0)
 ......I X="MG/ML"!(X="MG/1ML")!(X="MG/5ML")!(X="MG/10ML")!(X="MG/15ML")!(X="MG/30ML")!(X="MEQ/ML")!(X="MEQ/1ML")!(X="MEQ/5ML")!(X="MEQ/10ML")!(X="MEQ/15ML")!(X="MEQ/30ML") S PSSQVFL9=1
"RTN","PSSDSPOP",112,0)
 ......Q:'PSSQVFL9
"RTN","PSSDSPOP",113,0)
 ......S PSSQVXF8=$P(X,"/") S PSSQVNUM=+$P(X,"/",2) S PSSQVXF6=$$DFIND(PSSQVXF8)
"RTN","PSSDSPOP",114,0)
 .....I '$G(PSSQVXF6) K PSSQVNUM,PSSQVXF6 K X S X=PSSQV9 S PSSQVXF9=$P(X,"/") S PSSQVXF6=$$DFIND(PSSQVXF9) S PSSQVNUM=+$P(PSSQV9,"/",2)
"RTN","PSSDSPOP",115,0)
 .....I '$G(PSSQVXF6) Q
"RTN","PSSDSPOP",116,0)
 .....I PSSQVNUM'=0,PSSQVNUM'=1,PSSQVNUM'=5,PSSQVNUM'=10,PSSQVNUM'=15,PSSQVNUM'=30 Q
"RTN","PSSDSPOP",117,0)
 .....I PSSQVNUM=0 S PSSQVNUM=1
"RTN","PSSDSPOP",118,0)
 .....S PSSQVXF7=$S($G(PSSQVXF4)'="":$G(PSSQVXF4),$P(PSSQVNDF,"^",4)'="":$P(PSSQVNDF,"^",4),1:"")
"RTN","PSSDSPOP",119,0)
 .....I PSSQVXF7'?.N&(PSSQVXF7'?.N1".".N) K PSSQVXF7
"RTN","PSSDSPOP",120,0)
 .....Q:$G(PSSQVXF7)=""
"RTN","PSSDSPOP",121,0)
 .....I '$D(^TMP($J,"PSSQVCS2",PSSQVLCD,PSSQVNUM)) Q
"RTN","PSSDSPOP",122,0)
 .....K PSSQVFNX,PSSQVRSL,PSSQVFNC
"RTN","PSSDSPOP",123,0)
 .....S PSSQVRSL=$P(^TMP($J,"PSSQVCS2",PSSQVLCD,PSSQVNUM),"^"),PSSQVFNC=$P(^TMP($J,"PSSQVCS2",PSSQVLCD,PSSQVNUM),"^",2)
"RTN","PSSDSPOP",124,0)
 .....I PSSQVFNC="M" S PSSQVFNX=PSSQVXF7*PSSQVRSL
"RTN","PSSDSPOP",125,0)
 .....I PSSQVFNC="D" S PSSQVFNX=PSSQVXF7/PSSQVRSL
"RTN","PSSDSPOP",126,0)
 .....Q:$G(PSSQVFNX)=""
"RTN","PSSDSPOP",127,0)
 .....I +PSSQVFNX'=PSSQVFNX!(PSSQVFNX>99999999999999)!(PSSQVFNX<.00001)!(PSSQVFNX?.E1"."6N.N) Q
"RTN","PSSDSPOP",128,0)
 .....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVXF6
"RTN","PSSDSPOP",129,0)
 .....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVFNX
"RTN","PSSDSPOP",130,0)
 ..Q:$G(PSSQVQT)
"RTN","PSSDSPOP",131,0)
 ..;
"RTN","PSSDSPOP",132,0)
 ..;
"RTN","PSSDSPOP",133,0)
 ..;Condition Set 3
"RTN","PSSDSPOP",134,0)
 ..I $P($G(PSSQVNDF),"^",4)'="",$P($G(PSSQVNDF),"^",6)'="" D
"RTN","PSSDSPOP",135,0)
 ...N PSSQVPK1,PSSQVPK2,PSSQVPK3,PSSQVPK4,PSSQVPK5,PSSQVPK6,PSSQVPK7,PSSQVPK8,PSSQVPK9,PSSQVPKZ,PSSQVPKA,PSSQVPKB
"RTN","PSSDSPOP",136,0)
 ...S PSSQVPK1=$P(PSSQVNDF,"^",6)
"RTN","PSSDSPOP",137,0)
 ...S PSSQVPK3=0 F PSSQVPK2=1:1:$L(PSSQVPK1) I $E(PSSQVPK1,PSSQVPK2)="/" S PSSQVPK3=PSSQVPK3+1
"RTN","PSSDSPOP",138,0)
 ...I PSSQVPK3=1,$P(PSSQVPK1,"/",2)="PKT" D
"RTN","PSSDSPOP",139,0)
 ....S PSSQVQT=1
"RTN","PSSDSPOP",140,0)
 ....S PSSQVPK4=$P($G(^PSDRUG(PSSQVIEN,"DOS")),"^"),PSSQVPK5=$P($G(^PSDRUG(PSSQVIEN,"DOS")),"^",2)
"RTN","PSSDSPOP",141,0)
 ....K PSSQVPK6,PSSQVPK7,PSSQVPK8,PSSQVPK9,PSSQVPKZ,PSSQVPKA,PSSQVPKB
"RTN","PSSDSPOP",142,0)
 ....I PSSQVPK5 S PSSQVPK6=$P($G(^PS(50.607,PSSQVPK5,0)),"^") D
"RTN","PSSDSPOP",143,0)
 .....S PSSQVPK3=0 F PSSQVPK2=1:1:$L(PSSQVPK6) I $E(PSSQVPK6,PSSQVPK2)="/" S PSSQVPK3=PSSQVPK3+1
"RTN","PSSDSPOP",144,0)
 .....I PSSQVPK3=1,$P(PSSQVPK6,"/",2)="PKT" S PSSQVPK7=$P(PSSQVPK6,"/") S PSSQVPK8=$$DFIND(PSSQVPK7)
"RTN","PSSDSPOP",145,0)
 ....I '$G(PSSQVPK8) K PSSQVPK8 S PSSQVPK9=$P(PSSQVPK1,"/") S PSSQVPK8=$$DFIND(PSSQVPK9)
"RTN","PSSDSPOP",146,0)
 ....I '$G(PSSQVPK8) Q
"RTN","PSSDSPOP",147,0)
 ....S PSSQVPKZ=$S($G(PSSQVPK4)'="":$G(PSSQVPK4),$P(PSSQVNDF,"^",4)'="":$P(PSSQVNDF,"^",4),1:"")
"RTN","PSSDSPOP",148,0)
 ....I PSSQVPKZ'?.N&(PSSQVPKZ'?.N1".".N) K PSSQVPKZ
"RTN","PSSDSPOP",149,0)
 ....Q:$G(PSSQVPKZ)=""
"RTN","PSSDSPOP",150,0)
 ....S PSSQVPKB=$$NUM^PSSDSPON
"RTN","PSSDSPOP",151,0)
 ....Q:'PSSQVPKB
"RTN","PSSDSPOP",152,0)
 ....S PSSQVPKA=PSSQVPKZ*PSSQVPKB
"RTN","PSSDSPOP",153,0)
 ....I +PSSQVPKA'=PSSQVPKA!(PSSQVPKA>99999999999999)!(PSSQVPKA<.00001)!(PSSQVPKA?.E1"."6N.N) Q
"RTN","PSSDSPOP",154,0)
 ....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVPK8
"RTN","PSSDSPOP",155,0)
 ....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVPKA
"RTN","PSSDSPOP",156,0)
 ..Q:$G(PSSQVQT)
"RTN","PSSDSPOP",157,0)
 ..;
"RTN","PSSDSPOP",158,0)
 ..;
"RTN","PSSDSPOP",159,0)
 ..;Condition set 5
"RTN","PSSDSPOP",160,0)
 ..I PSSQVND1,PSSQVND3,$P($G(PSSQVNDF),"^",4)="",$P($G(PSSQVNDF),"^",6)="" D
"RTN","PSSDSPOP",161,0)
 ...I $D(^TMP($J,"PSSQVCS5",PSSQVLCD)) D
"RTN","PSSDSPOP",162,0)
 ....N PSSQVF51,PSSQVF52,PSSQVF53
"RTN","PSSDSPOP",163,0)
 ....S PSSQVF51=$P(^TMP($J,"PSSQVCS5",PSSQVLCD),"^"),PSSQVF52=$P(^TMP($J,"PSSQVCS5",PSSQVLCD),"^",2)
"RTN","PSSDSPOP",164,0)
 ....S PSSQVF53=$$DFIND(PSSQVF52) I PSSQVF51,PSSQVF53 D
"RTN","PSSDSPOP",165,0)
 .....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVF53
"RTN","PSSDSPOP",166,0)
 .....S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVF51
"RTN","PSSDSPOP",167,0)
 .D ULK
"RTN","PSSDSPOP",168,0)
 K ^TMP($J,"PSSQVCS2")
"RTN","PSSDSPOP",169,0)
 K ^TMP($J,"PSSQVCS4")
"RTN","PSSDSPOP",170,0)
 K ^TMP($J,"PSSQVCS5")
"RTN","PSSDSPOP",171,0)
 Q
"RTN","PSSDSPOP",172,0)
 ;
"RTN","PSSDSPOP",173,0)
ULK ;
"RTN","PSSDSPOP",174,0)
 L -^PSDRUG(PSSQVIEN)
"RTN","PSSDSPOP",175,0)
 Q
"RTN","PSSDSPOP",176,0)
 ;
"RTN","PSSDSPOP",177,0)
TESTX() ;See if drug needs Dose Unit and Numeric Dose defined
"RTN","PSSDSPOP",178,0)
 I 'PSSQVND3!('PSSQVND1) Q 0
"RTN","PSSDSPOP",179,0)
 I $P($G(^PSDRUG(PSSQVIEN,"I")),"^"),$P($G(^PSDRUG(PSSQVIEN,"I")),"^")<DT Q 0
"RTN","PSSDSPOP",180,0)
 N PSSQVDOV
"RTN","PSSDSPOP",181,0)
 S PSSQVDOV=""
"RTN","PSSDSPOP",182,0)
 I PSSQVND1,PSSQVND3,$T(OVRIDE^PSNAPIS)]"" S PSSQVDOV=$$OVRIDE^PSNAPIS(PSSQVND1,PSSQVND3)
"RTN","PSSDSPOP",183,0)
 I '$O(^PSDRUG(PSSQVIEN,"DOS2",0)) Q 0
"RTN","PSSDSPOP",184,0)
 I $P(PSSQVZR,"^",3)["S"!($E($P(PSSQVZR,"^",2),1,2)="XA") Q 0
"RTN","PSSDSPOP",185,0)
 I PSSQVND1,PSSQVND3 S PSSQVNDF=$$DFSU^PSNAPIS(PSSQVND1,PSSQVND3) S PSSQVDF=$P(PSSQVNDF,"^")
"RTN","PSSDSPOP",186,0)
 I $G(PSSQVDF)'>0,$P($G(^PSDRUG(PSSQVIEN,2)),"^") S PSSQVDF=$P($G(^PS(50.7,+$P($G(^PSDRUG(PSSQVIEN,2)),"^"),0)),"^",2)
"RTN","PSSDSPOP",187,0)
 I PSSQVDOV=""!('$G(PSSQVDF))!($P($G(^PS(50.606,+$G(PSSQVDF),1)),"^")="") Q 1
"RTN","PSSDSPOP",188,0)
 I $P($G(^PS(50.606,+$G(PSSQVDF),1)),"^"),'PSSQVDOV Q 0
"RTN","PSSDSPOP",189,0)
 I '$P($G(^PS(50.606,+$G(PSSQVDF),1)),"^"),PSSQVDOV Q 0
"RTN","PSSDSPOP",190,0)
 Q 1
"RTN","PSSDSPOP",191,0)
 ;
"RTN","PSSDSPOP",192,0)
CS4 ;
"RTN","PSSDSPOP",193,0)
 I PSSQVLCD?.N1" UNITS" D CS4ST Q
"RTN","PSSDSPOP",194,0)
 I PSSQVLCD?.N1" UNIT" D CS4ST Q
"RTN","PSSDSPOP",195,0)
 I PSSQVLCD?.N1" UNIT(S)" D CS4ST Q
"RTN","PSSDSPOP",196,0)
 I PSSQVLCD?.N1" UNT" D CS4ST Q
"RTN","PSSDSPOP",197,0)
 I PSSQVLCD?.N1" UNT(S)" D CS4ST Q
"RTN","PSSDSPOP",198,0)
 I PSSQVLCD?.N1" UNTS" D CS4ST Q
"RTN","PSSDSPOP",199,0)
 I PSSQVLCD?.N1".".N1" UNITS" D CS4ST Q
"RTN","PSSDSPOP",200,0)
 I PSSQVLCD?.N1".".N1" UNIT" D CS4ST Q
"RTN","PSSDSPOP",201,0)
 I PSSQVLCD?.N1".".N1" UNIT(S)" D CS4ST Q
"RTN","PSSDSPOP",202,0)
 I PSSQVLCD?.N1".".N1" UNT" D CS4ST Q
"RTN","PSSDSPOP",203,0)
 I PSSQVLCD?.N1".".N1" UNT(S)" D CS4ST Q
"RTN","PSSDSPOP",204,0)
 I PSSQVLCD?.N1".".N1" UNTS" D CS4ST Q
"RTN","PSSDSPOP",205,0)
 D COMMA
"RTN","PSSDSPOP",206,0)
 Q
"RTN","PSSDSPOP",207,0)
 ;
"RTN","PSSDSPOP",208,0)
CS4ST ;
"RTN","PSSDSPOP",209,0)
 S PSSQVQT=1
"RTN","PSSDSPOP",210,0)
 N PSSQVXXX,PSSQVD11,PSSQVD12
"RTN","PSSDSPOP",211,0)
 S PSSQVXXX=+PSSQVLCD
"RTN","PSSDSPOP",212,0)
 K:+PSSQVXXX'=PSSQVXXX!(PSSQVXXX>99999999999999)!(PSSQVXXX<.00001)!(PSSQVXXX?.E1"."6N.N) PSSQVXXX
"RTN","PSSDSPOP",213,0)
 I '$G(PSSQVXXX) Q
"RTN","PSSDSPOP",214,0)
 S PSSQVD12="UNIT(S)"
"RTN","PSSDSPOP",215,0)
 S PSSQVD11=$$DFIND(PSSQVD12) I PSSQVD11 D
"RTN","PSSDSPOP",216,0)
 .S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVD11
"RTN","PSSDSPOP",217,0)
 .S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVXXX
"RTN","PSSDSPOP",218,0)
 K Y
"RTN","PSSDSPOP",219,0)
 Q
"RTN","PSSDSPOP",220,0)
 ;
"RTN","PSSDSPOP",221,0)
NUM() ;Only checking combinations of "one-half to one" and "one to two"
"RTN","PSSDSPOP",222,0)
 ;** This section of code was only called in test v1, now uses routine PSSDSPON **
"RTN","PSSDSPOP",223,0)
 ;Doing trailing space, because something like 10,000 Units (with comma), would have gotten by condition set 4
"RTN","PSSDSPOP",224,0)
 ;Combinations of "one-half to one"
"RTN","PSSDSPOP",225,0)
 I PSSQVLCD["ONE-HALF ",PSSQVLCD["ONE ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR " Q 1
"RTN","PSSDSPOP",226,0)
 I PSSQVLCD["ONE HALF ",PSSQVLCD["ONE ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR " Q 1
"RTN","PSSDSPOP",227,0)
 ;Removed PSSQVLCD'["2 " because 1/2 space would contain 2 space, is that ok, could probably remove 3 and 4
"RTN","PSSDSPOP",228,0)
 I PSSQVLCD["1/2 ",PSSQVLCD["1 ",PSSQVLCD'["3 ",PSSQVLCD'["4 " Q 1
"RTN","PSSDSPOP",229,0)
 ;Combinations of "one to two"
"RTN","PSSDSPOP",230,0)
 I PSSQVLCD["ONE ",PSSQVLCD["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE-HALF " Q 2
"RTN","PSSDSPOP",231,0)
 I PSSQVLCD["ONE ",PSSQVLCD["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE HALF " Q 2
"RTN","PSSDSPOP",232,0)
 I PSSQVLCD["1 ",PSSQVLCD["2 ",PSSQVLCD'["3 ",PSSQVLCD'["4 ",PSSQVLCD'["1/2 " Q 2
"RTN","PSSDSPOP",233,0)
 ;Checking for 0.5
"RTN","PSSDSPOP",234,0)
 I PSSQVLCD["ONE-HALF ",PSSQVLCD'["ONE ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR " Q .5
"RTN","PSSDSPOP",235,0)
 I PSSQVLCD["ONE HALF ",PSSQVLCD'["ONE ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR " Q .5
"RTN","PSSDSPOP",236,0)
 ;Removed PSSQVLCD'["2 " because 1/2 space would contain 2 space, is that ok, could probably remove 3 and 4
"RTN","PSSDSPOP",237,0)
 I PSSQVLCD["1/2 ",PSSQVLCD'["1 ",PSSQVLCD'["3 ",PSSQVLCD'["4 " Q .5
"RTN","PSSDSPOP",238,0)
 ;Checking for 1
"RTN","PSSDSPOP",239,0)
 I PSSQVLCD["ONE ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE-HALF " Q 1
"RTN","PSSDSPOP",240,0)
 I PSSQVLCD["ONE ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE HALF " Q 1
"RTN","PSSDSPOP",241,0)
 I PSSQVLCD["1 ",PSSQVLCD'["2 ",PSSQVLCD'["3 ",PSSQVLCD'["4 ",PSSQVLCD'["1/2 " Q 1
"RTN","PSSDSPOP",242,0)
 ;Checking for 2
"RTN","PSSDSPOP",243,0)
 I PSSQVLCD["TWO ",PSSQVLCD'["ONE ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE-HALF " Q 2
"RTN","PSSDSPOP",244,0)
 I PSSQVLCD["TWO ",PSSQVLCD'["ONE ",PSSQVLCD'["THREE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE HALF " Q 2
"RTN","PSSDSPOP",245,0)
 I PSSQVLCD["2 ",PSSQVLCD'["1 ",PSSQVLCD'["3 ",PSSQVLCD'["4 ",PSSQVLCD'["1/2 " Q 2
"RTN","PSSDSPOP",246,0)
 ;Checking for 3
"RTN","PSSDSPOP",247,0)
 I PSSQVLCD["THREE ",PSSQVLCD'["TWO ",PSSQVLCD'["ONE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE-HALF " Q 3
"RTN","PSSDSPOP",248,0)
 I PSSQVLCD["THREE ",PSSQVLCD'["TWO ",PSSQVLCD'["ONE ",PSSQVLCD'["FOUR ",PSSQVLCD'["ONE HALF " Q 3
"RTN","PSSDSPOP",249,0)
 I PSSQVLCD["3 ",PSSQVLCD'["2 ",PSSQVLCD'["1 ",PSSQVLCD'["4 ",PSSQVLCD'["1/2 " Q 3
"RTN","PSSDSPOP",250,0)
 ;Checking for 4
"RTN","PSSDSPOP",251,0)
 I PSSQVLCD["FOUR ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["ONE ",PSSQVLCD'["ONE-HALF " Q 4
"RTN","PSSDSPOP",252,0)
 I PSSQVLCD["FOUR ",PSSQVLCD'["TWO ",PSSQVLCD'["THREE ",PSSQVLCD'["ONE ",PSSQVLCD'["ONE HALF " Q 4
"RTN","PSSDSPOP",253,0)
 I PSSQVLCD["4 ",PSSQVLCD'["2 ",PSSQVLCD'["3 ",PSSQVLCD'["1 ",PSSQVLCD'["1/2 " Q 4
"RTN","PSSDSPOP",254,0)
 Q 0
"RTN","PSSDSPOP",255,0)
 ;
"RTN","PSSDSPOP",256,0)
DFIND(PSSQVFND) ;Fine IEN, can't do DIC Lookup because of exact match check
"RTN","PSSDSPOP",257,0)
 N PSSQVFN1
"RTN","PSSDSPOP",258,0)
 S PSSQVFN1=$O(^PS(51.24,"B",PSSQVFND,0)) I PSSQVFN1,'$$SCREEN^XTID(51.24,.01,PSSQVFN1_",") Q PSSQVFN1
"RTN","PSSDSPOP",259,0)
 S PSSQVFN1=$O(^PS(51.24,"C",PSSQVFND,0)) I PSSQVFN1,'$$SCREEN^XTID(51.24,.01,PSSQVFN1_",") Q PSSQVFN1
"RTN","PSSDSPOP",260,0)
 S PSSQVFN1=$O(^PS(51.24,"D",PSSQVFND,0)) I PSSQVFN1,'$$SCREEN^XTID(51.24,.01,PSSQVFN1_",") Q PSSQVFN1
"RTN","PSSDSPOP",261,0)
 Q 0
"RTN","PSSDSPOP",262,0)
 ;
"RTN","PSSDSPOP",263,0)
COMMA ;
"RTN","PSSDSPOP",264,0)
 N PSSQVCM1,PSSQVCM2,PSSQVCM3,PSSQVCM4
"RTN","PSSDSPOP",265,0)
 I PSSQVLCD'[" " Q
"RTN","PSSDSPOP",266,0)
 S PSSQVCM1=$P(PSSQVLCD," ")
"RTN","PSSDSPOP",267,0)
 S PSSQVCM3=$F(PSSQVLCD," ")
"RTN","PSSDSPOP",268,0)
 S PSSQVCM2=$TR(PSSQVCM1,",","")
"RTN","PSSDSPOP",269,0)
 S PSSQVCM4=PSSQVCM2_$E(PSSQVLCD,(PSSQVCM3-1),$L(PSSQVLCD))
"RTN","PSSDSPOP",270,0)
 I PSSQVCM4?.N1" UNITS" D CS4ST1 Q
"RTN","PSSDSPOP",271,0)
 I PSSQVCM4?.N1" UNIT" D CS4ST1 Q
"RTN","PSSDSPOP",272,0)
 I PSSQVCM4?.N1" UNIT(S)" D CS4ST1 Q
"RTN","PSSDSPOP",273,0)
 I PSSQVCM4?.N1" UNT" D CS4ST1 Q
"RTN","PSSDSPOP",274,0)
 I PSSQVCM4?.N1" UNT(S)" D CS4ST1 Q
"RTN","PSSDSPOP",275,0)
 I PSSQVCM4?.N1" UNTS" D CS4ST1 Q
"RTN","PSSDSPOP",276,0)
 Q
"RTN","PSSDSPOP",277,0)
 ;
"RTN","PSSDSPOP",278,0)
CS4ST1 ;
"RTN","PSSDSPOP",279,0)
 S PSSQVQT=1
"RTN","PSSDSPOP",280,0)
 N PSSQVCM5,PSSQVCM6,PSSQVCM7
"RTN","PSSDSPOP",281,0)
 S PSSQVCM5=+PSSQVCM4
"RTN","PSSDSPOP",282,0)
 K:+PSSQVCM5'=PSSQVCM5!(PSSQVCM5>99999999999999)!(PSSQVCM5<.00001)!(PSSQVCM5?.E1"."6N.N) PSSQVCM5
"RTN","PSSDSPOP",283,0)
 I '$G(PSSQVCM5) Q
"RTN","PSSDSPOP",284,0)
 S PSSQVCM7="UNIT(S)"
"RTN","PSSDSPOP",285,0)
 S PSSQVCM6=$$DFIND(PSSQVCM7) I PSSQVCM6 D
"RTN","PSSDSPOP",286,0)
 .S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",5)=PSSQVCM6
"RTN","PSSDSPOP",287,0)
 .S $P(^PSDRUG(PSSQVIEN,"DOS2",PSSQVLPX,0),"^",6)=PSSQVCM5
"RTN","PSSDSPOP",288,0)
 K Y
"RTN","PSSDSPOP",289,0)
 Q
"RTN","PSSLDALL")
0^19^B47765706^n/a
"RTN","PSSLDALL",1,0)
PSSLDALL ;BIR/RTR-Find all Local Possible Dosage to edit ;05/04/08
"RTN","PSSLDALL",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSLDALL",3,0)
 ;
"RTN","PSSLDALL",4,0)
 ;Reference to 50.607 supported by DBIA 2221
"RTN","PSSLDALL",5,0)
EN ;
"RTN","PSSLDALL",6,0)
 W !!,"This option will find all Local Possible Dosages that are eligible for Dosage"
"RTN","PSSLDALL",7,0)
 W !,"Checks that do not have either the Numeric Dosage or Dose Unit entered for the"
"RTN","PSSLDALL",8,0)
 W !,"Local Possible Dosage. This mapping is necessary to perform Dosage checks."
"RTN","PSSLDALL",9,0)
 W !!,"Searching for local Possible Dosages..."
"RTN","PSSLDALL",10,0)
 N DIRUT,DIROUT,DIC,DTOUT,DUOUT,X,Y,DIE,DA,DR,PSSGVNMX,PSSGVIEN,PSSGVTOT,PSSGVLPX,PSSGVLC1,PSSGVLC2,PSSGVOUT,PSSGVZR,PSSGVND1,PSSGVND3
"RTN","PSSLDALL",11,0)
 N PSSGVOK,PSSGVNDF,PSSGVDF,PSSGVSTN,PSSGVUNT,PSSGVUNX,PSSGVSXX,PSSGVSZZ,PSSGVFLG,PSSGVGG1,PSSGVGG2,PSSGVGG3,PSSGVGG4,PSSGVCNT,PSSGVLP
"RTN","PSSLDALL",12,0)
 N PSSGVLOC,PSSGVGG5,PSSGVGG6,PSSGVLCX,PSSGVBF6,PSSGVAF6,DIR,DIDEL
"RTN","PSSLDALL",13,0)
 K PSSGVNMX,PSSGVIEN,PSSGVTOT,PSSGVOUT
"RTN","PSSLDALL",14,0)
 S (PSSGVOUT,PSSGVTOT)=0
"RTN","PSSLDALL",15,0)
 S PSSGVNMX="" F  S PSSGVNMX=$O(^PSDRUG("B",PSSGVNMX)) Q:PSSGVNMX=""!(PSSGVOUT)  F PSSGVIEN=0:0 S PSSGVIEN=$O(^PSDRUG("B",PSSGVNMX,PSSGVIEN)) Q:'PSSGVIEN!(PSSGVOUT)  D
"RTN","PSSLDALL",16,0)
 .K PSSGVZR,PSSGVND1,PSSGVND3,PSSGVOK,PSSGVNDF,PSSGVDF,PSSGVLC2,PSSGVLPX,PSSGVLC1,PSSGVSTN,PSSGVUNT,PSSGVUNX,PSSGVSXX,PSSGVSZZ,PSSGVFLG
"RTN","PSSLDALL",17,0)
 .K PSSGVGG1,PSSGVGG2,PSSGVGG3,PSSGVGG4,PSSGVCNT,PSSGVLP,PSSGVLOC,PSSGVGG5,PSSGVGG6,PSSGVLCX,PSSGVBF6,PSSGVAF6
"RTN","PSSLDALL",18,0)
 .S PSSGVZR=$G(^PSDRUG(PSSGVIEN,0)),PSSGVND1=$P($G(^PSDRUG(PSSGVIEN,"ND")),"^"),PSSGVND3=$P($G(^PSDRUG(PSSGVIEN,"ND")),"^",3)
"RTN","PSSLDALL",19,0)
 .S PSSGVTOT=PSSGVTOT+1 I '(PSSGVTOT#20) W "."
"RTN","PSSLDALL",20,0)
 .S PSSGVOK=$$TEST
"RTN","PSSLDALL",21,0)
 .Q:'PSSGVOK
"RTN","PSSLDALL",22,0)
 .S PSSGVLC2=0 F PSSGVLPX=0:0 S PSSGVLPX=$O(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLPX)) Q:'PSSGVLPX!(PSSGVLC2)  S PSSGVLC1=$G(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLPX,0)) I $P(PSSGVLC1,"^")'="" I '$P(PSSGVLC1,"^",5)!($P(PSSGVLC1,"^",6)="") S PSSGVLC2=1
"RTN","PSSLDALL",23,0)
 .Q:'PSSGVLC2
"RTN","PSSLDALL",24,0)
 .W !!!?5,"Drug: "_$P(PSSGVZR,"^")
"RTN","PSSLDALL",25,0)
 .S PSSGVSTN=$P($G(^PSDRUG(PSSGVIEN,"DOS")),"^"),PSSGVUNT=$P($G(^PSDRUG(PSSGVIEN,"DOS")),"^",2)
"RTN","PSSLDALL",26,0)
 .S PSSGVUNX=$S($G(PSSGVUNT):$P($G(^PS(50.607,+$G(PSSGVUNT),0)),"^"),$P($G(PSSGVNDF),"^",6)'="":$P($G(PSSGVNDF),"^",6),1:"")
"RTN","PSSLDALL",27,0)
 .L +^PSDRUG(PSSGVIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:3) I '$T W !!,"Another person is editing "_$P(PSSGVZR,"^"),! D  Q
"RTN","PSSLDALL",28,0)
 ..K DIR S DIR(0)="E",DIR("A")="Press Return to Continue" D ^DIR K DIR I Y'=1!($D(DTOUT))!($D(DUOUT)) S PSSGVOUT=1
"RTN","PSSLDALL",29,0)
 .I PSSGVND1,PSSGVND3 S PSSGVSXX=$P(PSSGVNDF,"^",4),PSSGVSZZ=$P(PSSGVNDF,"^",6)
"RTN","PSSLDALL",30,0)
 .I PSSGVSTN'="",$E($G(PSSGVSTN),1)="." S PSSGVSTN="0"_PSSGVSTN
"RTN","PSSLDALL",31,0)
 .I $G(PSSGVSXX)'="",$E($G(PSSGVSXX),1)="." S PSSGVSXX="0"_PSSGVSXX
"RTN","PSSLDALL",32,0)
 .S PSSGVFLG=0
"RTN","PSSLDALL",33,0)
 .I $G(PSSGVSXX)'="",($G(PSSGVSTN)'="") I $G(PSSGVSXX)'=$G(PSSGVSTN) D
"RTN","PSSLDALL",34,0)
 ..S PSSGVFLG=1
"RTN","PSSLDALL",35,0)
 ..S PSSGVGG1=$L($G(PSSGVSXX)),PSSGVGG2=$L($G(PSSGVUNX)),PSSGVGG3=$L($G(PSSGVSTN)),PSSGVGG4=$L($S($G(PSSGVUNX)'["/":$G(PSSGVUNX),1:""))
"RTN","PSSLDALL",36,0)
 ..W !!,"Strength from National Drug File match => " D
"RTN","PSSLDALL",37,0)
 ...I PSSGVGG1+PSSGVGG2<34 W $G(PSSGVSXX)_"   "_$G(PSSGVUNX) Q
"RTN","PSSLDALL",38,0)
 ...W !?3,$G(PSSGVSXX) D
"RTN","PSSLDALL",39,0)
 ....I PSSGVGG1+PSSGVGG2<73 W "   "_$G(PSSGVUNX) Q
"RTN","PSSLDALL",40,0)
 ....W !?3,$G(PSSGVUNX)
"RTN","PSSLDALL",41,0)
 ..W !,"Strength currently in the Drug File    => " D
"RTN","PSSLDALL",42,0)
 ...I PSSGVGG3+PSSGVGG4<34 W $G(PSSGVSTN)_"   "_$S($G(PSSGVUNX)'["/":$G(PSSGVUNX),1:"") Q
"RTN","PSSLDALL",43,0)
 ...W !?3,$G(PSSGVSTN) D
"RTN","PSSLDALL",44,0)
 ....I PSSGVGG3+PSSGVGG4<73 W "   "_$S($G(PSSGVUNX)'["/":$G(PSSGVUNX),1:"") Q
"RTN","PSSLDALL",45,0)
 ....W !?3,$S($G(PSSGVUNX)'["/":$G(PSSGVUNX),1:"")
"RTN","PSSLDALL",46,0)
 ..W !!,"Please Note: Strength of drug does not match strength of VA Product it is",!,"matched to."
"RTN","PSSLDALL",47,0)
 .S PSSGVCNT=0
"RTN","PSSLDALL",48,0)
 .F PSSGVLP=0:0 S PSSGVLP=$O(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLP)) Q:'PSSGVLP!(PSSGVOUT)  S PSSGVLOC=$G(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLP,0)) D:$P(PSSGVLOC,"^")'=""
"RTN","PSSLDALL",49,0)
 ..I $P(PSSGVLOC,"^",5),($P(PSSGVLOC,"^",6)'="") Q
"RTN","PSSLDALL",50,0)
 ..I 'PSSGVCNT,'PSSGVFLG I $G(PSSGVSXX)'=""!($G(PSSGVSTN)'="")!($G(PSSGVUNX)'="") D
"RTN","PSSLDALL",51,0)
 ...S PSSGVGG5=$L($S($G(PSSGVSTN)'="":$G(PSSGVSTN),$G(PSSGVSXX)'="":$G(PSSGVSXX),1:"")),PSSGVGG6=$L($G(PSSGVUNX))
"RTN","PSSLDALL",52,0)
 ...W !!,"Strength: "_$S($G(PSSGVSTN)'="":$G(PSSGVSTN),$G(PSSGVSXX)'="":$G(PSSGVSXX),1:"")
"RTN","PSSLDALL",53,0)
 ...I PSSGVGG5+PSSGVGG6<60 W "   Unit: "_$G(PSSGVUNX) Q
"RTN","PSSLDALL",54,0)
 ...W !,"Unit: "_$G(PSSGVUNX)
"RTN","PSSLDALL",55,0)
 ..S PSSGVCNT=1
"RTN","PSSLDALL",56,0)
 ..W !!!,$P(PSSGVLOC,"^") I $P(PSSGVLOC,"^",5)!($P(PSSGVLOC,"^",6)'="") D
"RTN","PSSLDALL",57,0)
 ...W !,"Numeric Dose: "_$S($E($P(PSSGVLOC,"^",6),1)=".":"0"_$P(PSSGVLOC,"^",6),1:$P(PSSGVLOC,"^",6))
"RTN","PSSLDALL",58,0)
 ...W ?37,"Dose Unit: "_$S('$P(PSSGVLOC,"^",5):"",1:$P($G(^PS(51.24,+$P(PSSGVLOC,"^",5),0)),"^"))
"RTN","PSSLDALL",59,0)
 ..W ! K DIE,Y,DTOUT,DR,DA,DIDEL S DA(1)=PSSGVIEN,DIE="^PSDRUG("_PSSGVIEN_",""DOS2"",",DR="4;5",DA=PSSGVLP
"RTN","PSSLDALL",60,0)
 ..D ^DIE K DIE,DR,DA I $D(DTOUT)!($D(Y)) D  Q:PSSGVOUT
"RTN","PSSLDALL",61,0)
 ...W ! K DIR S DIR(0)="Y",DIR("A")="Do you want to continue mapping Local Possible Dosages",DIR("B")="Y",DIR("?")="Enter 'Y' to continue mapping Local Possible Dosages, enter 'N' to exit."
"RTN","PSSLDALL",62,0)
 ...D ^DIR K DIR I $D(DTOUT)!($D(DUOUT))!($G(Y)<1) S PSSGVOUT=1
"RTN","PSSLDALL",63,0)
 ..S PSSGVLCX=$G(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLP,0))
"RTN","PSSLDALL",64,0)
 ..S PSSGVBF6=$S($E($P(PSSGVLOC,"^",6),1)=".":"0"_$P(PSSGVLOC,"^",6),1:$P(PSSGVLOC,"^",6)) S PSSGVAF6=$S($E($P(PSSGVLCX,"^",6),1)=".":"0"_$P(PSSGVLCX,"^",6),1:$P(PSSGVLCX,"^",6))
"RTN","PSSLDALL",65,0)
 ..I $P(PSSGVLCX,"^",5)'=$P(PSSGVLOC,"^",5)!(PSSGVBF6'=PSSGVAF6) D
"RTN","PSSLDALL",66,0)
 ...W !!,$P(PSSGVLCX,"^")
"RTN","PSSLDALL",67,0)
 ...W !,"Numeric Dose: "_$S($E($P(PSSGVLCX,"^",6),1)=".":"0"_$P(PSSGVLCX,"^",6),1:$P(PSSGVLCX,"^",6))
"RTN","PSSLDALL",68,0)
 ...W ?40,"Dose Unit: "_$S('$P(PSSGVLCX,"^",5):"",1:$P($G(^PS(51.24,+$P(PSSGVLCX,"^",5),0)),"^"))
"RTN","PSSLDALL",69,0)
 .W ! D UL
"RTN","PSSLDALL",70,0)
 K PSSGVOUT,PSSGVTOT,PSSGVNMX,PSSGVIEN,PSSGVZR,PSSGVND1,PSSGVND3,PSSGVOK,PSSGVLC2,PSSGVLPX,PSSGVLC1
"RTN","PSSLDALL",71,0)
 S (PSSGVOUT,PSSGVTOT)=0 W !!,"Checking for any remaining unmapped Local Possible Dosages..."
"RTN","PSSLDALL",72,0)
 S PSSGVNMX="" F  S PSSGVNMX=$O(^PSDRUG("B",PSSGVNMX)) Q:PSSGVNMX=""!(PSSGVOUT)  F PSSGVIEN=0:0 S PSSGVIEN=$O(^PSDRUG("B",PSSGVNMX,PSSGVIEN)) Q:'PSSGVIEN!(PSSGVOUT)  D
"RTN","PSSLDALL",73,0)
 .S PSSGVZR=$G(^PSDRUG(PSSGVIEN,0)),PSSGVND1=$P($G(^PSDRUG(PSSGVIEN,"ND")),"^"),PSSGVND3=$P($G(^PSDRUG(PSSGVIEN,"ND")),"^",3)
"RTN","PSSLDALL",74,0)
 .S PSSGVTOT=PSSGVTOT+1 I '(PSSGVTOT#100) W "."
"RTN","PSSLDALL",75,0)
 .K PSSGVDF,PSSGVNDF S PSSGVOK=$$TEST
"RTN","PSSLDALL",76,0)
 .Q:'PSSGVOK
"RTN","PSSLDALL",77,0)
 .S PSSGVLC2=0 F PSSGVLPX=0:0 S PSSGVLPX=$O(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLPX)) Q:'PSSGVLPX!(PSSGVLC2)  S PSSGVLC1=$G(^PSDRUG(PSSGVIEN,"DOS2",PSSGVLPX,0)) I $P(PSSGVLC1,"^")'="" I '$P(PSSGVLC1,"^",5)!($P(PSSGVLC1,"^",6)="") S PSSGVLC2=1
"RTN","PSSLDALL",78,0)
 .Q:'PSSGVLC2
"RTN","PSSLDALL",79,0)
 .S PSSGVOUT=1
"RTN","PSSLDALL",80,0)
 I 'PSSGVOUT W !!,"All Local Possible Dosages are mapped!",! K DIR S DIR(0)="E",DIR("A")="Press Return to Continue" D ^DIR K DIR Q
"RTN","PSSLDALL",81,0)
 W !!,"There are still Local Possible Dosages not yet mapped,",!,"see the 'Local Possible Dosages Report' option for more details.",!
"RTN","PSSLDALL",82,0)
 K DIR S DIR(0)="E",DIR("A")="Press Return to Continue" D ^DIR K DIR
"RTN","PSSLDALL",83,0)
 Q
"RTN","PSSLDALL",84,0)
 ;
"RTN","PSSLDALL",85,0)
UL ;unlock drug
"RTN","PSSLDALL",86,0)
 L -^PSDRUG(PSSGVIEN)
"RTN","PSSLDALL",87,0)
 Q
"RTN","PSSLDALL",88,0)
 ;
"RTN","PSSLDALL",89,0)
TEST() ;See if drug need Dose Unit and Numeric Dose defined
"RTN","PSSLDALL",90,0)
 I 'PSSGVND3!('PSSGVND1) Q 0
"RTN","PSSLDALL",91,0)
 I $P($G(^PSDRUG(PSSGVIEN,"I")),"^"),$P($G(^PSDRUG(PSSGVIEN,"I")),"^")<DT Q 0
"RTN","PSSLDALL",92,0)
 N PSSGVDOV
"RTN","PSSLDALL",93,0)
 S PSSGVDOV=""
"RTN","PSSLDALL",94,0)
 I PSSGVND1,PSSGVND3,$T(OVRIDE^PSNAPIS)]"" S PSSGVDOV=$$OVRIDE^PSNAPIS(PSSGVND1,PSSGVND3)
"RTN","PSSLDALL",95,0)
 I '$O(^PSDRUG(PSSGVIEN,"DOS2",0)) Q 0
"RTN","PSSLDALL",96,0)
 I $P(PSSGVZR,"^",3)["S"!($E($P(PSSGVZR,"^",2),1,2)="XA") Q 0
"RTN","PSSLDALL",97,0)
 I PSSGVND1,PSSGVND3 S PSSGVNDF=$$DFSU^PSNAPIS(PSSGVND1,PSSGVND3) S PSSGVDF=$P(PSSGVNDF,"^")
"RTN","PSSLDALL",98,0)
 I $G(PSSGVDF)'>0,$P($G(^PSDRUG(PSSGVIEN,2)),"^") S PSSGVDF=$P($G(^PS(50.7,+$P($G(^PSDRUG(PSSGVIEN,2)),"^"),0)),"^",2)
"RTN","PSSLDALL",99,0)
 I PSSGVDOV=""!('$G(PSSGVDF))!($P($G(^PS(50.606,+$G(PSSGVDF),1)),"^")="") Q 1
"RTN","PSSLDALL",100,0)
 I $P($G(^PS(50.606,+$G(PSSGVDF),1)),"^"),'PSSGVDOV Q 0
"RTN","PSSLDALL",101,0)
 I '$P($G(^PS(50.606,+$G(PSSGVDF),1)),"^"),PSSGVDOV Q 0
"RTN","PSSLDALL",102,0)
 Q 1
"RTN","PSSLDEDT")
0^5^B35783647^n/a
"RTN","PSSLDEDT",1,0)
PSSLDEDT ;BIR/RTR-Edit Local Possible Dosage Unit/Dosage ;06/23/07
"RTN","PSSLDEDT",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSLDEDT",3,0)
 ;
"RTN","PSSLDEDT",4,0)
 ;Reference to 50.607 supported by DBIA 2221
"RTN","PSSLDEDT",5,0)
 ;
"RTN","PSSLDEDT",6,0)
EDT ;Edit New Local Possible Dosages Fields Numeric Dose and Dose Unit
"RTN","PSSLDEDT",7,0)
 N DIRUT,DIROUT,DIC,DTOUT,DUOUT,X,Y,DIE,DA,DR,PSSLVIEN,PSSLVOK,PSSLVTST,PSSLVZR,PSSLVND1,PSSLVND3,PSSLVDF,PSSLVSTN,PSSLVUNT,PSSLVNDF,PSSLVSXX,PSSLVSZZ,PSSLVUNX,PSSLVLP,PSSLVLPN,PSSLVOUT,PSSLVLOC,PSSLVLCX,PSSLVFLG,PSSLVCNT
"RTN","PSSLDEDT",8,0)
 N PSSLVGG1,PSSLVGG2,PSSLVGG3,PSSLVGG4,PSSLVGG5,PSSLVGG6,PSSLVAF6,PSSLVBF6,DIR,DIDEL
"RTN","PSSLDEDT",9,0)
EDTX ;
"RTN","PSSLDEDT",10,0)
 K PSSLVIEN,PSSLVOK,PSSLVTST,PSSLVZR,PSSLVND1,PSSLVND3,PSSLVDF,PSSLVSTN,PSSLVUNT,PSSLVNDF,PSSLVSXX,PSSLVSZZ,PSSLVUNX,PSSLVLP,PSSLVLPN,PSSLVOUT,PSSLVLOC,PSSLVLCX,PSSLVFLG,PSSLVCNT
"RTN","PSSLDEDT",11,0)
 K PSSLVGG1,PSSLVGG2,PSSLVGG3,PSSLVGG4,PSSLVGG5,PSSLVGG6,PSSLVAF6,PSSLVBF6
"RTN","PSSLDEDT",12,0)
 S PSSLVOUT=0
"RTN","PSSLDEDT",13,0)
 W ! K DIC,DTOUT,DUOUT S DIC=50,DIC(0)="QEAMZ",DIC("A")="Select Drug: " D ^DIC K DIC
"RTN","PSSLDEDT",14,0)
 I $D(DTOUT)!($D(DUOUT))!(+Y'>0) W ! Q
"RTN","PSSLDEDT",15,0)
 S PSSLVIEN=+Y,PSSLVZR=$G(^PSDRUG(PSSLVIEN,0)),PSSLVND1=$P($G(^PSDRUG(PSSLVIEN,"ND")),"^"),PSSLVND3=$P($G(^PSDRUG(PSSLVIEN,"ND")),"^",3)
"RTN","PSSLDEDT",16,0)
 S PSSLVSTN=$P($G(^PSDRUG(PSSLVIEN,"DOS")),"^"),PSSLVUNT=$P($G(^PSDRUG(PSSLVIEN,"DOS")),"^",2)
"RTN","PSSLDEDT",17,0)
 S PSSLVOK=$$TEST(PSSLVIEN)
"RTN","PSSLDEDT",18,0)
 I 'PSSLVOK G EDTX
"RTN","PSSLDEDT",19,0)
 S PSSLVUNX=$S($G(PSSLVUNT):$P($G(^PS(50.607,+$G(PSSLVUNT),0)),"^"),$P($G(PSSLVNDF),"^",6)'="":$P($G(PSSLVNDF),"^",6),1:"")
"RTN","PSSLDEDT",20,0)
 I 'PSSLVND3!('PSSLVND1) W !!,"This drug is not matched to NDF and therefore will be excluded from dosing",!,"checks."
"RTN","PSSLDEDT",21,0)
 L +^PSDRUG(PSSLVIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:3) I '$T W !!,"Another person is editing this drug.",! G EDTX
"RTN","PSSLDEDT",22,0)
 I PSSLVND1,PSSLVND3 S PSSLVSXX=$P(PSSLVNDF,"^",4),PSSLVSZZ=$P(PSSLVNDF,"^",6)
"RTN","PSSLDEDT",23,0)
 I PSSLVSTN'="",$E($G(PSSLVSTN),1)="." S PSSLVSTN="0"_PSSLVSTN
"RTN","PSSLDEDT",24,0)
 I $G(PSSLVSXX)'="",$E($G(PSSLVSXX),1)="." S PSSLVSXX="0"_PSSLVSXX
"RTN","PSSLDEDT",25,0)
 S PSSLVFLG=0
"RTN","PSSLDEDT",26,0)
 I $G(PSSLVSXX)'="",($G(PSSLVSTN)'="") I $G(PSSLVSXX)'=$G(PSSLVSTN) D
"RTN","PSSLDEDT",27,0)
 .S PSSLVFLG=1
"RTN","PSSLDEDT",28,0)
 .S PSSLVGG1=$L($G(PSSLVSXX)),PSSLVGG2=$L($G(PSSLVUNX)),PSSLVGG3=$L($G(PSSLVSTN)),PSSLVGG4=$L($S($G(PSSLVUNX)'["/":$G(PSSLVUNX),1:""))
"RTN","PSSLDEDT",29,0)
 .W !!,"Strength from National Drug File match => " D
"RTN","PSSLDEDT",30,0)
 ..I PSSLVGG1+PSSLVGG2<34 W $G(PSSLVSXX)_"   "_$G(PSSLVUNX) Q
"RTN","PSSLDEDT",31,0)
 ..W !?3,$G(PSSLVSXX) D
"RTN","PSSLDEDT",32,0)
 ...I PSSLVGG1+PSSLVGG2<73 W "   "_$G(PSSLVUNX) Q
"RTN","PSSLDEDT",33,0)
 ...W !?3,$G(PSSLVUNX)
"RTN","PSSLDEDT",34,0)
 .W !,"Strength currently in the Drug File    => " D
"RTN","PSSLDEDT",35,0)
 ..I PSSLVGG3+PSSLVGG4<34 W $G(PSSLVSTN)_"   "_$S($G(PSSLVUNX)'["/":$G(PSSLVUNX),1:"") Q
"RTN","PSSLDEDT",36,0)
 ..W !?3,$G(PSSLVSTN) D
"RTN","PSSLDEDT",37,0)
 ...I PSSLVGG3+PSSLVGG4<73 W "   "_$S($G(PSSLVUNX)'["/":$G(PSSLVUNX),1:"") Q
"RTN","PSSLDEDT",38,0)
 ...W !?3,$S($G(PSSLVUNX)'["/":$G(PSSLVUNX),1:"")
"RTN","PSSLDEDT",39,0)
 .W !!,"Please Note: Strength of drug does not match strength of VA Product it is",!,"matched to."
"RTN","PSSLDEDT",40,0)
 S PSSLVCNT=0
"RTN","PSSLDEDT",41,0)
 F PSSLVLP=0:0 S PSSLVLP=$O(^PSDRUG(PSSLVIEN,"DOS2",PSSLVLP)) Q:'PSSLVLP!(PSSLVOUT)  S PSSLVLOC=$G(^PSDRUG(PSSLVIEN,"DOS2",PSSLVLP,0)) D:$P(PSSLVLOC,"^")'=""
"RTN","PSSLDEDT",42,0)
 .I 'PSSLVCNT,'PSSLVFLG I $G(PSSLVSXX)'=""!($G(PSSLVSTN)'="")!($G(PSSLVUNX)'="") D
"RTN","PSSLDEDT",43,0)
 ..S PSSLVGG5=$L($S($G(PSSLVSTN)'="":$G(PSSLVSTN),$G(PSSLVSXX)'="":$G(PSSLVSXX),1:"")),PSSLVGG6=$L($G(PSSLVUNX))
"RTN","PSSLDEDT",44,0)
 ..W !!,"Strength: "_$S($G(PSSLVSTN)'="":$G(PSSLVSTN),$G(PSSLVSXX)'="":$G(PSSLVSXX),1:"")
"RTN","PSSLDEDT",45,0)
 ..I PSSLVGG5+PSSLVGG6<60 W "   Unit: "_$G(PSSLVUNX) Q
"RTN","PSSLDEDT",46,0)
 ..W !,"Unit: "_$G(PSSLVUNX)
"RTN","PSSLDEDT",47,0)
 .S PSSLVCNT=1
"RTN","PSSLDEDT",48,0)
 .W !!!,$P(PSSLVLOC,"^") I $P(PSSLVLOC,"^",5)!($P(PSSLVLOC,"^",6)'="") D
"RTN","PSSLDEDT",49,0)
 ..W !,"Numeric Dose: "_$S($E($P(PSSLVLOC,"^",6),1)=".":"0"_$P(PSSLVLOC,"^",6),1:$P(PSSLVLOC,"^",6))
"RTN","PSSLDEDT",50,0)
 ..W ?37,"Dose Unit: "_$S('$P(PSSLVLOC,"^",5):"",1:$P($G(^PS(51.24,+$P(PSSLVLOC,"^",5),0)),"^"))
"RTN","PSSLDEDT",51,0)
 .W ! K DIE,Y,DTOUT,DR,DA,DIDEL S DA(1)=PSSLVIEN,DIE="^PSDRUG("_PSSLVIEN_",""DOS2"",",DR="4;5",DA=PSSLVLP
"RTN","PSSLDEDT",52,0)
 .D ^DIE K DIE,DR,DA I $D(DTOUT)!($D(Y)) D  Q:PSSLVOUT
"RTN","PSSLDEDT",53,0)
 ..W ! K DIR S DIR(0)="Y",DIR("A")="Do you want to exit this option",DIR("B")="Y",DIR("?")="Enter 'Y' to exit this option, enter 'N' to continue editing."
"RTN","PSSLDEDT",54,0)
 ..D ^DIR K DIR I $D(DTOUT)!($D(DUOUT))!($G(Y)) S PSSLVOUT=1
"RTN","PSSLDEDT",55,0)
 .S PSSLVLCX=$G(^PSDRUG(PSSLVIEN,"DOS2",PSSLVLP,0))
"RTN","PSSLDEDT",56,0)
 .S PSSLVBF6=$S($E($P(PSSLVLOC,"^",6),1)=".":"0"_$P(PSSLVLOC,"^",6),1:$P(PSSLVLOC,"^",6)) S PSSLVAF6=$S($E($P(PSSLVLCX,"^",6),1)=".":"0"_$P(PSSLVLCX,"^",6),1:$P(PSSLVLCX,"^",6))
"RTN","PSSLDEDT",57,0)
 .I $P(PSSLVLCX,"^",5)'=$P(PSSLVLOC,"^",5)!(PSSLVBF6'=PSSLVAF6) D
"RTN","PSSLDEDT",58,0)
 ..W !!,$P(PSSLVLCX,"^")
"RTN","PSSLDEDT",59,0)
 ..W !,"Numeric Dose: "_$S($E($P(PSSLVLCX,"^",6),1)=".":"0"_$P(PSSLVLCX,"^",6),1:$P(PSSLVLCX,"^",6))
"RTN","PSSLDEDT",60,0)
 ..W ?40,"Dose Unit: "_$S('$P(PSSLVLCX,"^",5):"",1:$P($G(^PS(51.24,+$P(PSSLVLCX,"^",5),0)),"^"))
"RTN","PSSLDEDT",61,0)
 D UL
"RTN","PSSLDEDT",62,0)
 I 'PSSLVOUT G EDTX
"RTN","PSSLDEDT",63,0)
 Q
"RTN","PSSLDEDT",64,0)
 ;
"RTN","PSSLDEDT",65,0)
UL ;unlock drug
"RTN","PSSLDEDT",66,0)
 L -^PSDRUG(PSSLVIEN)
"RTN","PSSLDEDT",67,0)
 Q
"RTN","PSSLDEDT",68,0)
 ;
"RTN","PSSLDEDT",69,0)
TEST(PSSLVTST) ;See if drug need Dose Unit and Numeric Dose defined
"RTN","PSSLDEDT",70,0)
 N PSSLVDOV
"RTN","PSSLDEDT",71,0)
 S PSSLVDOV=""
"RTN","PSSLDEDT",72,0)
 I PSSLVND1,PSSLVND3,$T(OVRIDE^PSNAPIS)]"" S PSSLVDOV=$$OVRIDE^PSNAPIS(PSSLVND1,PSSLVND3)
"RTN","PSSLDEDT",73,0)
 I '$O(^PSDRUG(PSSLVTST,"DOS2",0)) W !!,"No local possible dosages exist for this drug." Q 0
"RTN","PSSLDEDT",74,0)
 I $P(PSSLVZR,"^",3)["S"!($E($P(PSSLVZR,"^",2),1,2)="XA") D  Q 0
"RTN","PSSLDEDT",75,0)
 .W !!,"This drug is marked as a supply and therefore excluded from dosing checks."
"RTN","PSSLDEDT",76,0)
 .W !,"Population of the numeric dose and dose unit for this drug's local possible"
"RTN","PSSLDEDT",77,0)
 .W !,"dosages is not required."
"RTN","PSSLDEDT",78,0)
 I PSSLVND1,PSSLVND3 S PSSLVNDF=$$DFSU^PSNAPIS(PSSLVND1,PSSLVND3) S PSSLVDF=$P(PSSLVNDF,"^")
"RTN","PSSLDEDT",79,0)
 I $G(PSSLVDF)'>0,$P($G(^PSDRUG(PSSLVTST,2)),"^") S PSSLVDF=$P($G(^PS(50.7,+$P($G(^PSDRUG(PSSLVTST,2)),"^"),0)),"^",2)
"RTN","PSSLDEDT",80,0)
 I PSSLVDOV=""!('$G(PSSLVDF))!($P($G(^PS(50.606,+$G(PSSLVDF),1)),"^")="") Q 1
"RTN","PSSLDEDT",81,0)
 I $P($G(^PS(50.606,+$G(PSSLVDF),1)),"^"),'PSSLVDOV D  Q 0
"RTN","PSSLDEDT",82,0)
 .W !!,"The dosage form '"_$P($G(^PS(50.606,+PSSLVDF,0)),"^")_"' associated with the drug has"
"RTN","PSSLDEDT",83,0)
 .W !,"been excluded from dosage checks. Population of the numeric dose and dose"
"RTN","PSSLDEDT",84,0)
 .W !,"unit for this drug's local possible dosages is not required."
"RTN","PSSLDEDT",85,0)
 I '$P($G(^PS(50.606,+$G(PSSLVDF),1)),"^"),PSSLVDOV D  Q 0
"RTN","PSSLDEDT",86,0)
 .W !!,"The VA product that this drug is matched to has been excluded from dosage"
"RTN","PSSLDEDT",87,0)
 .W !,"checks. Population of the numeric dose and dose unit for this drug's local"
"RTN","PSSLDEDT",88,0)
 .W !,"possible dosages is not required."
"RTN","PSSLDEDT",89,0)
 Q 1
"RTN","PSSLDOSE")
0^4^B48702669^n/a
"RTN","PSSLDOSE",1,0)
PSSLDOSE ;BIR/RTR-Local Possible Dosages Report ;06/22/07
"RTN","PSSLDOSE",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSLDOSE",3,0)
 ;
"RTN","PSSLDOSE",4,0)
 ;External reference to PS(50.607 supported by DBIA 2221
"RTN","PSSLDOSE",5,0)
 ;
"RTN","PSSLDOSE",6,0)
EN ;
"RTN","PSSLDOSE",7,0)
 W !!,"This report will print Local Possible Dosage information only for Drugs for"
"RTN","PSSLDOSE",8,0)
 W !,"which Dosage Checks can be performed. Drugs that are inactive, marked and/or"
"RTN","PSSLDOSE",9,0)
 W !,"classed as supply items, not matched to NDF or excluded from dosage checks (due"
"RTN","PSSLDOSE",10,0)
 W !,"to dosage form or VA Product override) will not be included in this report."
"RTN","PSSLDOSE",11,0)
 W !!,"Users will be able to print Local Possible Dosage information for all eligible"
"RTN","PSSLDOSE",12,0)
 W !,"drugs or only for drugs with missing data in the Numeric Dose and Dose Unit"
"RTN","PSSLDOSE",13,0)
 W !,"fields. These two fields must be populated to perform Dosage Checks for a Local"
"RTN","PSSLDOSE",14,0)
 W !,"Possible Dosage selected when placing a Pharmacy order."
"RTN","PSSLDOSE",15,0)
 N DIR,PSSKZTPE,X,Y,DTOUT,DUOUT,DIRUT,DIROUT,IOP,%ZIS,POP,ZTRTN,ZTDESC,ZTSAVE,ZTSK
"RTN","PSSLDOSE",16,0)
 K DIR S DIR(0)="SO^A:ALL LOCAL POSSIBLE DOSAGES;O:ONLY LOCAL POSSIBLE DOSAGE WITH MISSING DATA",DIR("A")="Enter 'A' for All, 'O' for Only",DIR("B")="O"
"RTN","PSSLDOSE",17,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'A' to see All Local Possible Dosages, regardless of whether or not the ",DIR("?",2)="associated Numeric Dose and Dose Unit fields are populated. Enter 'O' to see"
"RTN","PSSLDOSE",18,0)
 S DIR("?",3)="only those Local Possible Dosages with missing data in either the Numeric Dose",DIR("?",4)="or Dose Unit fields. The two fields must be populated if Dosage Checks are"
"RTN","PSSLDOSE",19,0)
 S DIR("?",5)="to be performed when this Local Possible Dosage is selected when placing a",DIR("?",6)="Pharmacy order."
"RTN","PSSLDOSE",20,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSLDOSE",21,0)
 I Y'="A",Y'="O" D MESS K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSLDOSE",22,0)
 S PSSKZTPE=Y
"RTN","PSSLDOSE",23,0)
 W !!,"This report is designed for 132 column format!",!
"RTN","PSSLDOSE",24,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP)>0 D MESS K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR,IOP,%ZIS,POP Q
"RTN","PSSLDOSE",25,0)
 I $D(IO("Q")) S ZTRTN="START^PSSLDOSE",ZTDESC="Local Possible Dosages Report",ZTSAVE("PSSKZTPE")="" D ^%ZTLOAD K %ZIS W !!,"Report queued to print.",! D  Q
"RTN","PSSLDOSE",26,0)
 .K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSLDOSE",27,0)
 ;
"RTN","PSSLDOSE",28,0)
 ;
"RTN","PSSLDOSE",29,0)
START ;Print Local Possible Dosages Report
"RTN","PSSLDOSE",30,0)
 U IO
"RTN","PSSLDOSE",31,0)
 N PSSKZDEV,PSSKZCT,PSSKZOUT,PSSKZLIN,PSSKZNOF,PSSKZNM,PSSKZIEN,PSSKZOK,PSSKZDAT,PSSKZLIP,PSSKZND1,PSSKZND3,PSSKZZR,PSSKZNDF,PSSKZDF,PSSKZDT1,PSSKZLP1
"RTN","PSSLDOSE",32,0)
 N PSSKZNFL,PSSKZMSG,PSSKZSTR,PSSKZUNT,PSSKZUNZ,PSSKZAPU,PSSKZ1,PSSKZ2,PSSKZ3,PSSKZLD5,PSSKZLD6,PSSKZLD7,PSSKZNN1,PSSKZNN2
"RTN","PSSLDOSE",33,0)
 S (PSSKZOUT,PSSKZNOF)=0,PSSKZDEV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSKZCT=1
"RTN","PSSLDOSE",34,0)
 K PSSKZLIN S $P(PSSKZLIN,"-",130)=""
"RTN","PSSLDOSE",35,0)
 D HD
"RTN","PSSLDOSE",36,0)
 S PSSKZNM="" F  S PSSKZNM=$O(^PSDRUG("B",PSSKZNM)) Q:PSSKZNM=""!(PSSKZOUT)  F PSSKZIEN=0:0 S PSSKZIEN=$O(^PSDRUG("B",PSSKZNM,PSSKZIEN)) Q:'PSSKZIEN!(PSSKZOUT)  D
"RTN","PSSLDOSE",37,0)
 .K PSSKZOK,PSSKZDAT,PSSKZLIP,PSSKZZR,PSSKZNDF,PSSKZDF,PSSKZDT1,PSSKZLP1,PSSKZNFL,PSSKZMSG,PSSKZSTR,PSSKZUNT,PSSKZUNZ,PSSKZAPU,PSSKZ1,PSSKZ2,PSSKZ3,PSSKZND1,PSSKZND3
"RTN","PSSLDOSE",38,0)
 .S PSSKZZR=$G(^PSDRUG(PSSKZIEN,0))
"RTN","PSSLDOSE",39,0)
 .S PSSKZSTR=$P($G(^PSDRUG(PSSKZIEN,"DOS")),"^"),PSSKZUNT=$P($G(^PSDRUG(PSSKZIEN,"DOS")),"^",2)
"RTN","PSSLDOSE",40,0)
 .S PSSKZSTR=$S($E(PSSKZSTR,1)=".":"0"_PSSKZSTR,1:PSSKZSTR)
"RTN","PSSLDOSE",41,0)
 .I PSSKZUNT S PSSKZUNZ=$P($G(^PS(50.607,+PSSKZUNT,0)),"^")
"RTN","PSSLDOSE",42,0)
 .S PSSKZNFL=$S($P(PSSKZZR,"^",9):1,1:0),PSSKZMSG=$P(PSSKZZR,"^",10)
"RTN","PSSLDOSE",43,0)
 .S PSSKZAPU=$P($G(^PSDRUG(PSSKZIEN,2)),"^",3)
"RTN","PSSLDOSE",44,0)
 .S PSSKZND1=$P($G(^PSDRUG(PSSKZIEN,"ND")),"^"),PSSKZND3=$P($G(^PSDRUG(PSSKZIEN,"ND")),"^",3)
"RTN","PSSLDOSE",45,0)
 .S PSSKZOK=$$TEST
"RTN","PSSLDOSE",46,0)
 .I 'PSSKZOK Q
"RTN","PSSLDOSE",47,0)
 .S PSSKZDAT=0 F PSSKZLIP=0:0 S PSSKZLIP=$O(^PSDRUG(PSSKZIEN,"DOS2",PSSKZLIP)) Q:'PSSKZLIP!(PSSKZDAT)  I $P($G(^PSDRUG(PSSKZIEN,"DOS2",PSSKZLIP,0)),"^")'="" S PSSKZDAT=1
"RTN","PSSLDOSE",48,0)
 .I 'PSSKZDAT Q
"RTN","PSSLDOSE",49,0)
 .S PSSKZDT1=0 I PSSKZTPE="O" F PSSKZLP1=0:0 S PSSKZLP1=$O(^PSDRUG(PSSKZIEN,"DOS2",PSSKZLP1)) Q:'PSSKZLP1!(PSSKZDT1)  I $P($G(^PSDRUG(PSSKZIEN,"DOS2",PSSKZLP1,0)),"^")'="" D
"RTN","PSSLDOSE",50,0)
 ..I '$P($G(^PSDRUG(PSSKZIEN,"DOS2",PSSKZLP1,0)),"^",5)!($P($G(^PSDRUG(PSSKZIEN,"DOS2",PSSKZLP1,0)),"^",6)="") S PSSKZDT1=1
"RTN","PSSLDOSE",51,0)
 .I PSSKZTPE="O",'PSSKZDT1 Q
"RTN","PSSLDOSE",52,0)
 .S PSSKZNOF=1
"RTN","PSSLDOSE",53,0)
 .W !!!,"("_PSSKZIEN_")",?19,$P(PSSKZZR,"^")_$S(PSSKZNFL:"  *N/F*",1:"")
"RTN","PSSLDOSE",54,0)
 .I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",55,0)
 .I PSSKZMSG'="" W !?12,PSSKZMSG
"RTN","PSSLDOSE",56,0)
 .I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",57,0)
 .W !?12,"Strength: "_PSSKZSTR W ?43,"Units: " I $G(PSSKZUNZ)'="" W $G(PSSKZUNZ)
"RTN","PSSLDOSE",58,0)
 .I $G(PSSKZUNZ)'="",$L(PSSKZUNZ)>15 W !
"RTN","PSSLDOSE",59,0)
 .;I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",60,0)
 .W ?66,"Application Package: "_PSSKZAPU
"RTN","PSSLDOSE",61,0)
 .I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",62,0)
 .S PSSKZ3=0 W !?4,"Local Possible Dosages: " F PSSKZ1=0:0 S PSSKZ1=$O(^PSDRUG(PSSKZIEN,"DOS2",PSSKZ1)) Q:'PSSKZ1!(PSSKZOUT)  D
"RTN","PSSLDOSE",63,0)
 ..S PSSKZ2=$G(^PSDRUG(PSSKZIEN,"DOS2",PSSKZ1,0))
"RTN","PSSLDOSE",64,0)
 ..I $P(PSSKZ2,"^")="" Q
"RTN","PSSLDOSE",65,0)
 ..I $P(PSSKZ2,"^",5),$P(PSSKZ2,"^",6)'="",PSSKZTPE="O" Q
"RTN","PSSLDOSE",66,0)
 ..S PSSKZ3=1
"RTN","PSSLDOSE",67,0)
 ..I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",68,0)
 ..W !?6,$P(PSSKZ2,"^")
"RTN","PSSLDOSE",69,0)
 ..I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",70,0)
 ..K PSSKZLD5,PSSKZLD6,PSSKZLD7
"RTN","PSSLDOSE",71,0)
 ..S PSSKZLD5=$P(PSSKZ2,"^",5),PSSKZLD6=$P(PSSKZ2,"^",6)
"RTN","PSSLDOSE",72,0)
 ..S PSSKZLD7=$S($E(PSSKZLD6,1)=".":"0"_PSSKZLD6,1:PSSKZLD6)
"RTN","PSSLDOSE",73,0)
 ..W !?6,"Numeric Dose: "_PSSKZLD7,?46,"Dose Unit: "_$S($G(PSSKZLD5):$P($G(^PS(51.24,+PSSKZLD5,0)),"^"),1:""),?92,"Package: "_$P(PSSKZ2,"^",2)
"RTN","PSSLDOSE",74,0)
 ..I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",75,0)
 .Q:PSSKZOUT
"RTN","PSSLDOSE",76,0)
 .I 'PSSKZ3 W "(None)"
"RTN","PSSLDOSE",77,0)
 .I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",78,0)
 .K PSSKZNN1,PSSKZNN2
"RTN","PSSLDOSE",79,0)
 .I 'PSSKZND1!('PSSKZND3) Q
"RTN","PSSLDOSE",80,0)
 .S PSSKZNN1=$$PROD0^PSNAPIS(PSSKZND1,PSSKZND3)
"RTN","PSSLDOSE",81,0)
 .S PSSKZNN2=$S($E($P(PSSKZNN1,"^",3),1)=".":"0"_$P(PSSKZNN1,"^",3),1:$P(PSSKZNN1,"^",3))
"RTN","PSSLDOSE",82,0)
 .I PSSKZSTR'="",PSSKZNN2'="",PSSKZNN2'=PSSKZSTR W !?3,"Note: Strength of "_PSSKZSTR_" does not match NDF strength of "_PSSKZNN2_"."
"RTN","PSSLDOSE",83,0)
 .I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",84,0)
 .W !?3,"VA PRODUCT MATCH: "_$P(PSSKZNN1,"^")
"RTN","PSSLDOSE",85,0)
 .I ($Y+5)>IOSL D HD Q:PSSKZOUT
"RTN","PSSLDOSE",86,0)
 ;
"RTN","PSSLDOSE",87,0)
END ;
"RTN","PSSLDOSE",88,0)
 I '$G(PSSKZOUT),PSSKZTPE="O",'$G(PSSKZNOF) W !!,"No local possible dosage missing data found.",!
"RTN","PSSLDOSE",89,0)
 I PSSKZDEV="P" W !!,"End of Report.",!
"RTN","PSSLDOSE",90,0)
 I '$G(PSSKZOUT),PSSKZDEV="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSLDOSE",91,0)
 I PSSKZDEV="C" W !
"RTN","PSSLDOSE",92,0)
 E  W @IOF
"RTN","PSSLDOSE",93,0)
 K PSSKZTPE
"RTN","PSSLDOSE",94,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSLDOSE",95,0)
 Q
"RTN","PSSLDOSE",96,0)
 ;
"RTN","PSSLDOSE",97,0)
 ;
"RTN","PSSLDOSE",98,0)
HD ;Report Header
"RTN","PSSLDOSE",99,0)
 I PSSKZDEV="C",PSSKZCT'=1 W ! K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR I 'Y S PSSKZOUT=1 Q
"RTN","PSSLDOSE",100,0)
 W @IOF
"RTN","PSSLDOSE",101,0)
 I PSSKZTPE="A" W !,"Local Possible Dosages Report (All)"
"RTN","PSSLDOSE",102,0)
 I PSSKZTPE="O" W !,"Local Possible Dosages Report (Missing Data Only)"
"RTN","PSSLDOSE",103,0)
 W ?118,"PAGE: "_PSSKZCT,!,PSSKZLIN,! S PSSKZCT=PSSKZCT+1
"RTN","PSSLDOSE",104,0)
 Q
"RTN","PSSLDOSE",105,0)
 ;
"RTN","PSSLDOSE",106,0)
 ;
"RTN","PSSLDOSE",107,0)
MESS ;
"RTN","PSSLDOSE",108,0)
 W !!,"Nothing queued to print.",!
"RTN","PSSLDOSE",109,0)
 Q
"RTN","PSSLDOSE",110,0)
 ;
"RTN","PSSLDOSE",111,0)
 ;
"RTN","PSSLDOSE",112,0)
TEST() ;Test to see if Drug meets criteria
"RTN","PSSLDOSE",113,0)
 ;No need to have Local Possible Dose check here, you have it right after calling this at top
"RTN","PSSLDOSE",114,0)
 I 'PSSKZND3!('PSSKZND1) Q 0
"RTN","PSSLDOSE",115,0)
 I $P($G(^PSDRUG(PSSKZIEN,"I")),"^"),$P($G(^PSDRUG(PSSKZIEN,"I")),"^")<DT Q 0
"RTN","PSSLDOSE",116,0)
 N PSSKZDOV
"RTN","PSSLDOSE",117,0)
 S PSSKZDOV=""
"RTN","PSSLDOSE",118,0)
 I PSSKZND1,PSSKZND3,$T(OVRIDE^PSNAPIS)]"" S PSSKZDOV=$$OVRIDE^PSNAPIS(PSSKZND1,PSSKZND3)
"RTN","PSSLDOSE",119,0)
 I $P(PSSKZZR,"^",3)["S"!($E($P(PSSKZZR,"^",2),1,2)="XA") Q 0
"RTN","PSSLDOSE",120,0)
 K PSSKZDF
"RTN","PSSLDOSE",121,0)
 I PSSKZND1,PSSKZND3 S PSSKZNDF=$$DFSU^PSNAPIS(PSSKZND1,PSSKZND3) S PSSKZDF=$P(PSSKZNDF,"^")
"RTN","PSSLDOSE",122,0)
 I $G(PSSKZDF)'>0,$P($G(^PSDRUG(PSSKZIEN,2)),"^") S PSSKZDF=$P($G(^PS(50.7,+$P($G(^PSDRUG(PSSKZIEN,2)),"^"),0)),"^",2)
"RTN","PSSLDOSE",123,0)
 I PSSKZDOV=""!('$G(PSSKZDF))!($P($G(^PS(50.606,+$G(PSSKZDF),1)),"^")="") Q 1
"RTN","PSSLDOSE",124,0)
 I $P($G(^PS(50.606,+$G(PSSKZDF),1)),"^"),'PSSKZDOV Q 0
"RTN","PSSLDOSE",125,0)
 I '$P($G(^PS(50.606,+$G(PSSKZDF),1)),"^"),PSSKZDOV Q 0
"RTN","PSSLDOSE",126,0)
 Q 1
"RTN","PSSMEDCH")
0^13^B32518120^n/a
"RTN","PSSMEDCH",1,0)
PSSMEDCH ;BIR/RTR-Med Route Mapping Change Report ;07/03/07
"RTN","PSSMEDCH",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSMEDCH",3,0)
 ;
"RTN","PSSMEDCH",4,0)
DRIVER ;
"RTN","PSSMEDCH",5,0)
 ;Med Route Mapping History Report
"RTN","PSSMEDCH",6,0)
 W !!!,"This report displays changes made to the mapping of Medication Routes in the"
"RTN","PSSMEDCH",7,0)
 W !,"MEDICATION ROUTES (#51.2) File to Medication Routes in the STANDARD"
"RTN","PSSMEDCH",8,0)
 W !,"MEDICATION ROUTES (#51.23) File.",!
"RTN","PSSMEDCH",9,0)
 N DIR,PSSHTYPE,PSSMDONE,DIC,Y,PSSMHRSI,PSSMHRSE,PSSMHREI,PSSMHREE,PSSMHRXX,X,X1,X2,DUOUT,DTOUT,DIRUT,DIROUT,%H,IOP,%ZIS,POP,ZTRTN,ZTSAVE,ZTDESC,ZTSK
"RTN","PSSMEDCH",10,0)
 K DIR S DIR(0)="SO^S:Single Med Route;A:All Med Routes",DIR("A")="Print report for a Single Med Route, or All Med Routes",DIR("B")="S"
"RTN","PSSMEDCH",11,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'S' to see a Standard Medication Route mapping history",DIR("?",2)="of one local Medication Route, enter 'A' to see a Standard Medication"
"RTN","PSSMEDCH",12,0)
 S DIR("?",3)="Route mapping history of all the local Medication Routes."
"RTN","PSSMEDCH",13,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS Q
"RTN","PSSMEDCH",14,0)
 I Y'="S",Y'="A" D MESS Q
"RTN","PSSMEDCH",15,0)
 S PSSHTYPE=Y
"RTN","PSSMEDCH",16,0)
 I PSSHTYPE="A" G DATE
"RTN","PSSMEDCH",17,0)
 K DIC W ! S DIC="^PS(51.2,",DIC(0)="QEAM",DIC("A")="Select Med Route: " D ^DIC K DIC I Y<1!($D(DUOUT))!($D(DTOUT)) D MESS Q
"RTN","PSSMEDCH",18,0)
 S PSSMDONE=+Y
"RTN","PSSMEDCH",19,0)
DATE ;
"RTN","PSSMEDCH",20,0)
 W !
"RTN","PSSMEDCH",21,0)
 K DIR W ! S DIR(0)="DAO^:DT:APEX",DIR("A")="Beginning Date: ",DIR("?")=" ",DIR("?",1)="Enter the date to begin searching for Medication Route mapping changes.",DIR("?",2)="A future date cannot be entered." D ^DIR K DIR
"RTN","PSSMEDCH",22,0)
 I 'Y!($D(DTOUT))!($D(DUOUT)) D MESS Q
"RTN","PSSMEDCH",23,0)
 S (PSSMHRSI,PSSMHRXX)=Y D DD^%DT S PSSMHRSE=Y
"RTN","PSSMEDCH",24,0)
 K X S X1=PSSMHRSI,X2=-1 D C^%DTC S PSSMHRSI=X_".9999"
"RTN","PSSMEDCH",25,0)
 W ! K DIR S DIR(0)="DAO^"_PSSMHRXX_"::APEX",DIR("A")="Ending Date: ",DIR("?")=" ",DIR("?",1)="Enter the ending date of the search for Medication Route mapping changes.",DIR("?",2)="This date cannot be before the beginning date." D ^DIR K DIR
"RTN","PSSMEDCH",26,0)
 I 'Y!($D(DTOUT))!($D(DUOUT)) D MESS Q
"RTN","PSSMEDCH",27,0)
 S PSSMHREI=Y D DD^%DT S PSSMHREE=Y
"RTN","PSSMEDCH",28,0)
 K X S X1=PSSMHREI,X2=+1 D C^%DTC S PSSMHREI=X
"RTN","PSSMEDCH",29,0)
 W ! K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP) D MESS Q
"RTN","PSSMEDCH",30,0)
 I $D(IO("Q")) D  K IOP,%ZIS,POP,DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMEDCH",31,0)
 .S ZTRTN="START^PSSMEDCH",ZTDESC="Medication Route Mapping History report",ZTSAVE("PSSHTYPE")="",ZTSAVE("PSSMDONE")="",ZTSAVE("PSSMHRSI")="",ZTSAVE("PSSMHRSE")="",ZTSAVE("PSSMHREI")="",ZTSAVE("PSSMHREE")="" D ^%ZTLOAD D
"RTN","PSSMEDCH",32,0)
 .W !!,"Report queued to print.",!
"RTN","PSSMEDCH",33,0)
START ;
"RTN","PSSMEDCH",34,0)
 U IO
"RTN","PSSMEDCH",35,0)
 N PSSMHRLN,PSSMHOUT,PSSMHDEV,PSSMHCT,PSSMHLEN,PSSMHNAM
"RTN","PSSMEDCH",36,0)
 N PSSMHRG1,PSSMHRG2,PSSMHRG3,PSSMHRG4,PSSMHRG5,PSSMHRG7,PSSMHRG9
"RTN","PSSMEDCH",37,0)
 S PSSMHRG9=0
"RTN","PSSMEDCH",38,0)
 I PSSHTYPE="S" S PSSMHNAM=$P($G(^PS(51.2,+PSSMDONE,0)),"^"),PSSMHLEN=$L(PSSMHNAM)
"RTN","PSSMEDCH",39,0)
 S PSSMHOUT=0,PSSMHDEV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSMHCT=1
"RTN","PSSMEDCH",40,0)
 K PSSMHRLN S $P(PSSMHRLN,"-",79)=""
"RTN","PSSMEDCH",41,0)
 D HD
"RTN","PSSMEDCH",42,0)
 I PSSHTYPE="S" D  G END
"RTN","PSSMEDCH",43,0)
 .F PSSMHRG1=PSSMHRSI:0 S PSSMHRG1=$O(^PS(51.2,PSSMDONE,2,"B",PSSMHRG1)) Q:'PSSMHRG1!(PSSMHRG1'<PSSMHREI)!(PSSMHOUT)  D
"RTN","PSSMEDCH",44,0)
 ..F PSSMHRG2=0:0 S PSSMHRG2=$O(^PS(51.2,PSSMDONE,2,"B",PSSMHRG1,PSSMHRG2)) Q:'PSSMHRG2!(PSSMHOUT)  D
"RTN","PSSMEDCH",45,0)
 ...S PSSMHRG7=$G(^PS(51.2,PSSMDONE,2,PSSMHRG2,0)) Q:PSSMHRG7=""
"RTN","PSSMEDCH",46,0)
 ...S PSSMHRG4=PSSMHRG2_","_PSSMDONE_","
"RTN","PSSMEDCH",47,0)
 ...D PRINT
"RTN","PSSMEDCH",48,0)
 F PSSMHRG1=PSSMHRSI:0 S PSSMHRG1=$O(^PS(51.2,"D",PSSMHRG1)) Q:'PSSMHRG1!(PSSMHRG1'<PSSMHREI)!(PSSMHOUT)  D
"RTN","PSSMEDCH",49,0)
 .F PSSMHRG2=0:0 S PSSMHRG2=$O(^PS(51.2,"D",PSSMHRG1,PSSMHRG2)) Q:'PSSMHRG2!(PSSMHOUT)  D
"RTN","PSSMEDCH",50,0)
 ..F PSSMHRG3=0:0 S PSSMHRG3=$O(^PS(51.2,"D",PSSMHRG1,PSSMHRG2,PSSMHRG3)) Q:'PSSMHRG3!(PSSMHOUT)  D
"RTN","PSSMEDCH",51,0)
 ...S PSSMHRG7=$G(^PS(51.2,PSSMHRG2,2,PSSMHRG3,0)) Q:PSSMHRG7=""
"RTN","PSSMEDCH",52,0)
 ...S PSSMHRG4=PSSMHRG3_","_PSSMHRG2_","
"RTN","PSSMEDCH",53,0)
 ...S PSSMHNAM=$P($G(^PS(51.2,PSSMHRG2,0)),"^")
"RTN","PSSMEDCH",54,0)
 ...D PRINT
"RTN","PSSMEDCH",55,0)
END ;
"RTN","PSSMEDCH",56,0)
 I '$G(PSSMHOUT),'$G(PSSMHRG9) W !!,?2,"No mapping changes to report.",!
"RTN","PSSMEDCH",57,0)
 I $G(PSSMHDEV)="P" W !!,"End of Report.",!
"RTN","PSSMEDCH",58,0)
 I '$G(PSSMHOUT),$G(PSSMHDEV)="C" W !!,"End of Report.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDCH",59,0)
 I $G(PSSMHDEV)="C" W !
"RTN","PSSMEDCH",60,0)
 E  W @IOF
"RTN","PSSMEDCH",61,0)
 K PSSHTYPE,PSSMDONE,PSSMHRSI,PSSMHRSE,PSSMHREI,PSSMHREE D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSMEDCH",62,0)
 Q
"RTN","PSSMEDCH",63,0)
 ;
"RTN","PSSMEDCH",64,0)
PRINT ;
"RTN","PSSMEDCH",65,0)
 S PSSMHRG9=1
"RTN","PSSMEDCH",66,0)
 K PSSMHRG5 D GETS^DIQ(51.27,PSSMHRG4,".01;1;2;3","E","PSSMHRG5")
"RTN","PSSMEDCH",67,0)
 W !!,?2,"Medication Route: "_$G(PSSMHNAM)
"RTN","PSSMEDCH",68,0)
 W !?9,"Date/Time: "_$G(PSSMHRG5(51.27,PSSMHRG4,.01,"E"))
"RTN","PSSMEDCH",69,0)
 I ($Y+5)>IOSL D HD Q:PSSMHOUT
"RTN","PSSMEDCH",70,0)
 W !?9,"Edited By: "_$S($G(PSSMHRG5(51.27,PSSMHRG4,1,"E"))'="":$G(PSSMHRG5(51.27,PSSMHRG4,1,"E")),1:"AUTOMAPPED")
"RTN","PSSMEDCH",71,0)
 I ($Y+5)>IOSL D HD Q:PSSMHOUT
"RTN","PSSMEDCH",72,0)
 W !?9,"Old Value: "_$S($G(PSSMHRG5(51.27,PSSMHRG4,2,"E"))'="":$G(PSSMHRG5(51.27,PSSMHRG4,2,"E")),1:"<no previous value>")
"RTN","PSSMEDCH",73,0)
 I ($Y+5)>IOSL D HD Q:PSSMHOUT
"RTN","PSSMEDCH",74,0)
 W !?9,"New Value: "_$S($G(PSSMHRG5(51.27,PSSMHRG4,3,"E"))'="":$G(PSSMHRG5(51.27,PSSMHRG4,3,"E")),1:"<no new value>")
"RTN","PSSMEDCH",75,0)
 I ($Y+5)>IOSL D HD Q:PSSMHOUT
"RTN","PSSMEDCH",76,0)
 Q
"RTN","PSSMEDCH",77,0)
 ;
"RTN","PSSMEDCH",78,0)
HD ;
"RTN","PSSMEDCH",79,0)
 I $G(PSSMHDEV)="C",$G(PSSMHCT)'=1 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSMHOUT=1 Q
"RTN","PSSMEDCH",80,0)
 W @IOF
"RTN","PSSMEDCH",81,0)
 I PSSHTYPE="A" W !,"Medication Route mapping changes for ALL Medication Routes"
"RTN","PSSMEDCH",82,0)
 I PSSHTYPE="S" W !,"Medication Route mapping changes for " D
"RTN","PSSMEDCH",83,0)
 .I +PSSMHLEN<43 W PSSMHNAM Q
"RTN","PSSMEDCH",84,0)
 .W !,?34,PSSMHNAM
"RTN","PSSMEDCH",85,0)
 W !,"made between "_PSSMHRSE_" and "_PSSMHREE,?68,"PAGE: "_PSSMHCT,!,PSSMHRLN,! S PSSMHCT=PSSMHCT+1
"RTN","PSSMEDCH",86,0)
 Q
"RTN","PSSMEDCH",87,0)
MESS ;
"RTN","PSSMEDCH",88,0)
 W !!,"Nothing queued to print.",!
"RTN","PSSMEDCH",89,0)
 K DIR W ! S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDCH",90,0)
 Q
"RTN","PSSMEDRQ")
0^9^B93016200^n/a
"RTN","PSSMEDRQ",1,0)
PSSMEDRQ ;BIR/RTR-Request New Standard Medication Route ;10/17/07
"RTN","PSSMEDRQ",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/97;Build 67
"RTN","PSSMEDRQ",3,0)
 ;
"RTN","PSSMEDRQ",4,0)
REQ ;Request Med Route change
"RTN","PSSMEDRQ",5,0)
 N DDWAUTO,DDWTAB,DWDISABL,DIWEPSE,DIWETXT,DDWLMAR,DDWRMAR,DDWRW,DDWC,DDWFLAGS,PSSTACCT
"RTN","PSSMEDRQ",6,0)
 N J,%,D0,D1,D2,DG,DIC,DIR,X,Y,DUOUT,DTOUT,DIRUT,DIROUT,DIWESUB,DWLW,DWPK,PSSMQANS,PSSMQOUT,PSSMQIEN,PSSMQNME,PSSMQNDU,PSSMQFDB,PSSMQMED,PSSMQTXT,PSSMQVIS
"RTN","PSSMEDRQ",7,0)
 K PSSMQANS,PSSMQOUT,PSSMQIEN,PSSMQNME,PSSMQNDU,PSSMQFDB,PSSMQMED,PSSMQTXT,PSSMQVIS
"RTN","PSSMEDRQ",8,0)
 S PSSMQOUT=0
"RTN","PSSMEDRQ",9,0)
 K DIR S DIR(0)="SO^N:New Medication Route;C:Change to Existing Medication Route",DIR("A")="Request New Medication Route or Change existing Medication Route",DIR("B")="N"
"RTN","PSSMEDRQ",10,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'N' to request that a new Medication Route be added to the"
"RTN","PSSMEDRQ",11,0)
 S DIR("?",2)="STANDARD MEDICATION ROUTES (#51.23) File, enter 'C' to request a change",DIR("?",3)="to an existing entry in the STANDARD MEDICATION ROUTES (#51.23) File."
"RTN","PSSMEDRQ",12,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS Q
"RTN","PSSMEDRQ",13,0)
 I Y'="N",Y'="C" D MESS Q
"RTN","PSSMEDRQ",14,0)
 S PSSMQANS=Y
"RTN","PSSMEDRQ",15,0)
 I PSSMQANS="C" W ! K DIC S DIC=51.23,DIC(0)="QEAMZ" D ^DIC K DIC S PSSMQIEN=+Y I Y<0!($D(DUOUT))!($D(DTOUT)) D MESS Q
"RTN","PSSMEDRQ",16,0)
 I PSSMQANS="C" S PSSMQNME=$P($G(^PS(51.23,PSSMQIEN,0)),"^")
"RTN","PSSMEDRQ",17,0)
 I PSSMQANS="N" D NEWMR I PSSMQOUT D MESS Q
"RTN","PSSMEDRQ",18,0)
 W ! K DIR,PSSMQMED S DIR(0)="FO^1:78",DIR("A",1)="Give an example of a medication administered by this route (optional).",DIR("A")="Medication (Free Text)",DIR("?")=" ",DIR("?",1)="Give an example of a medication that would be administered"
"RTN","PSSMEDRQ",19,0)
 S DIR("?",2)=$S(PSSMQANS="N":"by the new Medication Route you are requesting, 1 to 78 characters.",1:"by the Medication Route you are requesting a change to, 1 to 78 characters.")
"RTN","PSSMEDRQ",20,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) S PSSMQOUT=1 D MESS Q
"RTN","PSSMEDRQ",21,0)
 S PSSMQMED=Y
"RTN","PSSMEDRQ",22,0)
 I $G(PSSMQMED)'="" S PSSMQMED=$$UP^XLFSTR(PSSMQMED)
"RTN","PSSMEDRQ",23,0)
 W !!,"You'll now be prompted for a reason or references for this request (optional).",!
"RTN","PSSMEDRQ",24,0)
 K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y D MESS Q
"RTN","PSSMEDRQ",25,0)
 W ! K ^TMP($J,"PSSMQTXT") K DIC S DIWESUB="References/Reason for Request",DWLW=78,DWPK=1,DIC="^TMP($J,""PSSMQTXT""," D EN^DIWE
"RTN","PSSMEDRQ",26,0)
 W ! D TEST K DIR S DIR(0)="Y",DIR("A")="Transmit Medication Route Request",DIR("B")="Y"
"RTN","PSSMEDRQ",27,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Y' to transmit this request for review. (For production accounts only)"
"RTN","PSSMEDRQ",28,0)
 S DIR("?",2)="If you enter 'N', the message will be sent to you only, in Vista mail.",DIR("?",3)="Enter '^' to exit, and not send the message."
"RTN","PSSMEDRQ",29,0)
 D ^DIR
"RTN","PSSMEDRQ",30,0)
 I $D(DUOUT)!($D(DTOUT)) D KLM D MESS Q
"RTN","PSSMEDRQ",31,0)
 S PSSMQVIS=0
"RTN","PSSMEDRQ",32,0)
 I Y'=1 S PSSMQVIS=1 D SENDRT W !!,"Mail message only sent to you in Vista Mail.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMEDRQ",33,0)
 D SENDRT W !!,"Mail message transmitted for review.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDRQ",34,0)
 Q
"RTN","PSSMEDRQ",35,0)
 ;
"RTN","PSSMEDRQ",36,0)
SENDRT ;Send Med Route Mail Message
"RTN","PSSMEDRQ",37,0)
 N XMTEXT,XMY,XMSUB,XMDUZ,XMMG,XMSTRIP,XMROU,DIFROM,XMYBLOB,XMZ,XMDUN,PSSMQLP,PSSMQCNT
"RTN","PSSMEDRQ",38,0)
 K ^TMP($J,"PSSMQSND")
"RTN","PSSMEDRQ",39,0)
 S ^TMP($J,"PSSMQSND",1,0)=$S(PSSMQANS="N":"Request New Medication Route:",PSSMQANS="C":"Request Medication Route Change For:",1:"Medication Route Request:")
"RTN","PSSMEDRQ",40,0)
 S ^TMP($J,"PSSMQSND",2,0)=$S(PSSMQANS="N":$G(PSSMQNDU),PSSMQANS="C":$G(PSSMQNME),1:"Unknown")
"RTN","PSSMEDRQ",41,0)
 S ^TMP($J,"PSSMQSND",3,0)=" "
"RTN","PSSMEDRQ",42,0)
 S ^TMP($J,"PSSMQSND",4,0)="Medication:"
"RTN","PSSMEDRQ",43,0)
 S ^TMP($J,"PSSMQSND",5,0)=$S($G(PSSMQMED)'="":$G(PSSMQMED),1:"<None Entered>")
"RTN","PSSMEDRQ",44,0)
 S PSSMQCNT=7 S ^TMP($J,"PSSMQSND",6,0)=" "
"RTN","PSSMEDRQ",45,0)
 F PSSMQLP=0:0 S PSSMQLP=$O(^TMP($J,"PSSMQTXT",PSSMQLP)) Q:'PSSMQLP  S ^TMP($J,"PSSMQSND",PSSMQCNT,0)=$G(^TMP($J,"PSSMQTXT",PSSMQLP,0)) S PSSMQCNT=PSSMQCNT+1
"RTN","PSSMEDRQ",46,0)
 K ^TMP($J,"PSSMQTXT")
"RTN","PSSMEDRQ",47,0)
 S XMSUB="Medication Route Request"
"RTN","PSSMEDRQ",48,0)
 S XMDUZ=DUZ
"RTN","PSSMEDRQ",49,0)
 S XMTEXT="^TMP($J,""PSSMQSND"","
"RTN","PSSMEDRQ",50,0)
 S XMY(DUZ)=""
"RTN","PSSMEDRQ",51,0)
 I 'PSSMQVIS,PSSTACCT S XMY("VAOITVHITHDSSTSPEPSNTRT@va.gov")=""
"RTN","PSSMEDRQ",52,0)
 D ^XMD
"RTN","PSSMEDRQ",53,0)
 K ^TMP($J,"PSSMQSND")
"RTN","PSSMEDRQ",54,0)
 Q
"RTN","PSSMEDRQ",55,0)
 ;
"RTN","PSSMEDRQ",56,0)
KLM ;Kill Med Route TMP global
"RTN","PSSMEDRQ",57,0)
 K ^TMP($J,"PSSMQTXT")
"RTN","PSSMEDRQ",58,0)
 Q
"RTN","PSSMEDRQ",59,0)
 ;
"RTN","PSSMEDRQ",60,0)
NEWMR ;New Med Route
"RTN","PSSMEDRQ",61,0)
 W ! K DIR,PSSMQNDU S DIR(0)="FO^3:50",DIR("A")="Enter Medication Route name",DIR("?")=" ",DIR("?",1)="Enter the name of the Medication Route you are requesting to be added"
"RTN","PSSMEDRQ",62,0)
 S DIR("?",2)="to the STANDARD MEDICATION ROUTES (#51.23) File, 3 to 50 characters."
"RTN","PSSMEDRQ",63,0)
 D ^DIR K DIR I $D(DIRUT)!($D(DUOUT))!($D(DTOUT)) S PSSMQOUT=1 Q
"RTN","PSSMEDRQ",64,0)
 S PSSMQNDU=Y
"RTN","PSSMEDRQ",65,0)
 S PSSMQNDU=$$UP^XLFSTR(PSSMQNDU)
"RTN","PSSMEDRQ",66,0)
 I $L(PSSMQNDU)>50!($L(PSSMQNDU)<3)!($E(PSSMQNDU,1)=" ")!($E(PSSMQNDU,$L(PSSMQNDU))=" ")!(PSSMQNDU["  ")!(PSSMQNDU'?.UNP)!'(PSSMQNDU'?1P.E) D  G NEWMR
"RTN","PSSMEDRQ",67,0)
 .W !!!,"The Medication Route must be 3-50 characters in length, comprised only of"
"RTN","PSSMEDRQ",68,0)
 .W !,"uppercase letters, numerics, and punctuation, but no leading punctuation,"
"RTN","PSSMEDRQ",69,0)
 .W !,"and contain no leading, trailing, or consecutive spaces.",!
"RTN","PSSMEDRQ",70,0)
 I $O(^PS(51.23,"B",PSSMQNDU,0)) D  S PSSMQOUT=1 Q
"RTN","PSSMEDRQ",71,0)
 .W !!,PSSMQNDU_" is already an entry in the",!,"STANDARD MEDICATION ROUTES (#51.23) File. To request a change to this entry"
"RTN","PSSMEDRQ",72,0)
 .W !,"re-enter this option and select 'Change to Existing Medication Route'."
"RTN","PSSMEDRQ",73,0)
 S PSSMQFDB=$O(^PS(51.23,"C",PSSMQNDU,0)) I PSSMQFDB D  S PSSMQOUT=1 Q
"RTN","PSSMEDRQ",74,0)
 .W !!,PSSMQNDU_" is already a First DataBank Med Route",!,"in the STANDARD MEDICATION ROUTES (#51.23) File for",!
"RTN","PSSMEDRQ",75,0)
 .W $P($G(^PS(51.23,+$G(PSSMQFDB),0)),"^")_". To request a change to this",!,"entry, re-enter this option and select 'Change to Existing Medication Route'."
"RTN","PSSMEDRQ",76,0)
 Q
"RTN","PSSMEDRQ",77,0)
 ;
"RTN","PSSMEDRQ",78,0)
 ;
"RTN","PSSMEDRQ",79,0)
DOSE ;Request Dose Unit change
"RTN","PSSMEDRQ",80,0)
 N DDWAUTO,DDWTAB,DWDISABL,DIWEPSE,DIWETXT,DDWLMAR,DDWRMAR,DDWRW,DDWC,DDWFLAGS,PSSTACCT
"RTN","PSSMEDRQ",81,0)
 N J,%,D0,D1,D2,DG,DIC,DIR,X,Y,DUOUT,DTOUT,DIRUT,DIROUT,PSSRQANS,PSSRQIEN,PSSRQOUT,PSSRQNDU,PSSRQSYN,PSSRQFDB,PSSRQVIS,PSSRQNME,DIWESUB,DWLW,DWPK
"RTN","PSSMEDRQ",82,0)
 K PSSRQANS,PSSRQIEN,PSSRQOUT,PSSRQNDU,PSSRQSYN,PSSRQFDB,PSSRQVIS,PSSRQNME
"RTN","PSSMEDRQ",83,0)
 S PSSRQOUT=0
"RTN","PSSMEDRQ",84,0)
 K DIR S DIR(0)="SO^N:New Dose Unit;C:Change to Existing Dose Unit",DIR("A")="Request New Dose Unit or Change existing Dose Unit",DIR("B")="N"
"RTN","PSSMEDRQ",85,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'N' to request that a new Dose Unit be added to the DOSE UNITS"
"RTN","PSSMEDRQ",86,0)
 S DIR("?",2)="(#51.24) File, enter 'C' to request a change to an existing entry",DIR("?",3)="in the DOSE UNITS (#51.24) File."
"RTN","PSSMEDRQ",87,0)
 D ^DIR I $D(DUOUT)!($D(DTOUT)) D MESS Q
"RTN","PSSMEDRQ",88,0)
 I Y'="N",Y'="C" D MESS Q
"RTN","PSSMEDRQ",89,0)
 S PSSRQANS=Y
"RTN","PSSMEDRQ",90,0)
 I PSSRQANS="C" W ! K DIC S DIC=51.24,DIC(0)="QEAMZ" D ^DIC K DIC S PSSRQIEN=+Y I Y<0!($D(DUOUT))!($D(DTOUT)) D MESS Q
"RTN","PSSMEDRQ",91,0)
 I PSSRQANS="C" S PSSRQNME=$P($G(^PS(51.24,PSSRQIEN,0)),"^")
"RTN","PSSMEDRQ",92,0)
 I PSSRQANS="N" D NEW I PSSRQOUT D MESS Q
"RTN","PSSMEDRQ",93,0)
 W !!,"You must now enter a reason or references for this request.",!
"RTN","PSSMEDRQ",94,0)
 K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y D MESS Q
"RTN","PSSMEDRQ",95,0)
 W ! K ^TMP($J,"PSSRQTXT") K DIC S DIWESUB="References/Reason for Request",DWLW=78,DWPK=1,DIC="^TMP($J,""PSSRQTXT""," D EN^DIWE
"RTN","PSSMEDRQ",96,0)
 I '$D(^TMP($J,"PSSRQTXT")) W !!,"No data was entered." D KL D MESS Q
"RTN","PSSMEDRQ",97,0)
 W ! D TEST K DIR S DIR(0)="Y",DIR("A")="Transmit Dose Unit Request",DIR("B")="Y"
"RTN","PSSMEDRQ",98,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'Y' to transmit this request for review. (For production accounts only)"
"RTN","PSSMEDRQ",99,0)
 S DIR("?",2)="If you enter 'N', the message will sent to you only, in Vista mail.",DIR("?",3)="Enter '^' to exit, and not send the message."
"RTN","PSSMEDRQ",100,0)
 D ^DIR
"RTN","PSSMEDRQ",101,0)
 I $D(DUOUT)!($D(DTOUT)) D KL D MESS Q
"RTN","PSSMEDRQ",102,0)
 S PSSRQVIS=0
"RTN","PSSMEDRQ",103,0)
 I Y'=1 S PSSRQVIS=1 D SEND W !!,"Mail message only sent to you in Vista Mail.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMEDRQ",104,0)
 D SEND W !!,"Mail message transmitted for review.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDRQ",105,0)
 Q
"RTN","PSSMEDRQ",106,0)
 ;
"RTN","PSSMEDRQ",107,0)
KL ;Kill Dose Unit TMP global
"RTN","PSSMEDRQ",108,0)
 K ^TMP($J,"PSSRQTXT")
"RTN","PSSMEDRQ",109,0)
 Q
"RTN","PSSMEDRQ",110,0)
 ;
"RTN","PSSMEDRQ",111,0)
MESS ;Exit Message
"RTN","PSSMEDRQ",112,0)
 W !!,"No Action Taken.",!
"RTN","PSSMEDRQ",113,0)
 K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDRQ",114,0)
 Q
"RTN","PSSMEDRQ",115,0)
 ;
"RTN","PSSMEDRQ",116,0)
NEW ;New Dose Unit
"RTN","PSSMEDRQ",117,0)
 W ! K DIR,PSSRQNDU S DIR(0)="FO^1:30",DIR("A")="Enter Dose Unit name",DIR("?")=" ",DIR("?",1)="Enter the name of the Dose Unit you are requesting"
"RTN","PSSMEDRQ",118,0)
 S DIR("?",2)="to be added to the DOSE UNITS (#51.24) File, 1 to 30 characters."
"RTN","PSSMEDRQ",119,0)
 D ^DIR K DIR I $D(DIRUT)!($D(DUOUT))!($D(DTOUT)) S PSSRQOUT=1 Q
"RTN","PSSMEDRQ",120,0)
 S PSSRQNDU=Y
"RTN","PSSMEDRQ",121,0)
 S PSSRQNDU=$$UP^XLFSTR(PSSRQNDU)
"RTN","PSSMEDRQ",122,0)
 I $L(PSSRQNDU)>30!($L(PSSRQNDU)<1)!($E(PSSRQNDU,1)=" ")!($E(PSSRQNDU,$L(PSSRQNDU))=" ")!(PSSRQNDU["  ")!(PSSRQNDU'?.ANP)!'(PSSRQNDU'?1P.E) D  G NEW
"RTN","PSSMEDRQ",123,0)
 .W !!!,"The Dose Unit must be 1-30 characters in length, comprised of upper and lower-"
"RTN","PSSMEDRQ",124,0)
 .W !,"case letters, numerics, and punctuation, but no leading punctuation, and"
"RTN","PSSMEDRQ",125,0)
 .W !,"contain no leading, trailing, or consecutive spaces.",!
"RTN","PSSMEDRQ",126,0)
 I $O(^PS(51.24,"B",PSSRQNDU,0)) D  S PSSRQOUT=1 Q
"RTN","PSSMEDRQ",127,0)
 .W !!,PSSRQNDU_" is already an entry in the DOSE UNITS (#51.24)"
"RTN","PSSMEDRQ",128,0)
 .W !,"File. To request a change to this entry, re-enter this option and",!,"select 'Change to Existing Dose Unit'."
"RTN","PSSMEDRQ",129,0)
 S PSSRQSYN=$O(^PS(51.24,"D",PSSRQNDU,0)) I PSSRQSYN D  S PSSRQOUT=1 Q
"RTN","PSSMEDRQ",130,0)
 .W !!,PSSRQNDU_" is already a synonym in the DOSE UNITS (#51.24)"
"RTN","PSSMEDRQ",131,0)
 .W !,"File for "_$P($G(^PS(51.24,+$G(PSSRQSYN),0)),"^")_". To request a change to this entry,"
"RTN","PSSMEDRQ",132,0)
 .W !,"re-enter this option and select 'Change to Existing Dose Unit'."
"RTN","PSSMEDRQ",133,0)
 S PSSRQFDB=$O(^PS(51.24,"C",PSSRQNDU,0)) I PSSRQFDB D  S PSSRQOUT=1 Q
"RTN","PSSMEDRQ",134,0)
 .W !!,PSSRQNDU_" is already a First DataBank Dose Unit",!,"in the DOSE UNITS (#51.24) File for "_$P($G(^PS(51.24,+$G(PSSRQFDB),0)),"^")_"."
"RTN","PSSMEDRQ",135,0)
 .W !,"To request a change to this entry, re-enter this option and select",!,"'Change to Existing Dose Unit'."
"RTN","PSSMEDRQ",136,0)
 Q
"RTN","PSSMEDRQ",137,0)
 ;
"RTN","PSSMEDRQ",138,0)
SEND ;Send Dose Unit Mail Message
"RTN","PSSMEDRQ",139,0)
 N XMTEXT,XMY,XMSUB,XMDUZ,XMMG,XMSTRIP,XMROU,XMDUN,DIFROM,XMYBLOB,XMZ,PSSRQLP,PSSRQCNT
"RTN","PSSMEDRQ",140,0)
 K ^TMP($J,"PSSRQSND")
"RTN","PSSMEDRQ",141,0)
 S ^TMP($J,"PSSRQSND",1,0)=$S(PSSRQANS="N":"Request New Dose Unit:",PSSRQANS="C":"Request Dose Unit Change For:",1:"Dose unit Request:")
"RTN","PSSMEDRQ",142,0)
 S ^TMP($J,"PSSRQSND",2,0)=$S(PSSRQANS="N":$G(PSSRQNDU),PSSRQANS="C":$G(PSSRQNME),1:"Unknown")
"RTN","PSSMEDRQ",143,0)
 S ^TMP($J,"PSSRQSND",3,0)=" "
"RTN","PSSMEDRQ",144,0)
 S PSSRQCNT=4
"RTN","PSSMEDRQ",145,0)
 F PSSRQLP=0:0 S PSSRQLP=$O(^TMP($J,"PSSRQTXT",PSSRQLP)) Q:'PSSRQLP  S ^TMP($J,"PSSRQSND",PSSRQCNT,0)=$G(^TMP($J,"PSSRQTXT",PSSRQLP,0)) S PSSRQCNT=PSSRQCNT+1
"RTN","PSSMEDRQ",146,0)
 K ^TMP($J,"PSSRQTXT")
"RTN","PSSMEDRQ",147,0)
 S XMSUB="Dose Unit Request"
"RTN","PSSMEDRQ",148,0)
 S XMDUZ=DUZ
"RTN","PSSMEDRQ",149,0)
 S XMTEXT="^TMP($J,""PSSRQSND"","
"RTN","PSSMEDRQ",150,0)
 S XMY(DUZ)=""
"RTN","PSSMEDRQ",151,0)
 I 'PSSRQVIS,PSSTACCT S XMY("VAOITVHITPSDOSEUNITREQ@va.gov")=""
"RTN","PSSMEDRQ",152,0)
 D ^XMD
"RTN","PSSMEDRQ",153,0)
 K ^TMP($J,"PSSRQSND")
"RTN","PSSMEDRQ",154,0)
 Q
"RTN","PSSMEDRQ",155,0)
 ;
"RTN","PSSMEDRQ",156,0)
TEST ;
"RTN","PSSMEDRQ",157,0)
 S PSSTACCT=1
"RTN","PSSMEDRQ",158,0)
 I '$$PROD^XUPROD S PSSTACCT=0 W !!,"NOTE: This is a test account. Regardless of your response to the 'Transmit'",!,"prompt, this request will NOT be sent forward for national review.",!
"RTN","PSSMEDRQ",159,0)
 Q
"RTN","PSSMEDRT")
0^2^B78713044^n/a
"RTN","PSSMEDRT",1,0)
PSSMEDRT ;BIR/RTR-Medication Route Utilities ;06/14/07
"RTN","PSSMEDRT",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/97;Build 67
"RTN","PSSMEDRT",3,0)
 ;
"RTN","PSSMEDRT",4,0)
MATCH ;Match File 51.2 Med Routes to Standard Med Routes
"RTN","PSSMEDRT",5,0)
 ;Mainly for use only for the initial set up of the 0.5 Order Checks
"RTN","PSSMEDRT",6,0)
 W !!,"This option will find local Medication Routes marked for 'ALL PACKAGES' not",!,"mapped to a Standard Medication Route, and prompt you to map the local route.",!
"RTN","PSSMEDRT",7,0)
 W "This mapping is necessary to perform Dosage checks.",!!,"Searching for unmapped Med Routes..."
"RTN","PSSMEDRT",8,0)
 N PSSMRLP,PSSMRLNN,PSSMRLFL,PSSMRLND,PSSMRLOK,PSSMRLAA,DIC,DIE,DA,DR,DIR,X,Y,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","PSSMEDRT",9,0)
 S PSSMRLFL=0
"RTN","PSSMEDRT",10,0)
 S PSSMRLP="" F  S PSSMRLP=$O(^PS(51.2,"B",PSSMRLP)) Q:PSSMRLP=""!(PSSMRLFL)  F PSSMRLNN=0:0 S PSSMRLNN=$O(^PS(51.2,"B",PSSMRLP,PSSMRLNN)) Q:'PSSMRLNN!(PSSMRLFL)  D
"RTN","PSSMEDRT",11,0)
 .K PSSMRLND,PSSMRLOK,PSSMRLAA,DIC,DIE,DA,DR,DIR,X,Y
"RTN","PSSMEDRT",12,0)
 .S PSSMRLND=$G(^PS(51.2,PSSMRLNN,0))
"RTN","PSSMEDRT",13,0)
 .I '$P(PSSMRLND,"^",4) Q
"RTN","PSSMEDRT",14,0)
 .I $P($G(^PS(51.2,PSSMRLNN,1)),"^") Q
"RTN","PSSMEDRT",15,0)
 .W !!!,"Mapping local Med Route of '"_$P(PSSMRLND,"^")_"'",!
"RTN","PSSMEDRT",16,0)
 .L +^PS(51.2,PSSMRLNN):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","PSSMEDRT",17,0)
 .I '$T W !!,"Another person is editing this Med Route." D  Q
"RTN","PSSMEDRT",18,0)
 ..W ! K DIR,DTOUT,DUOUT S DIR(0)="Y",DIR("B")="Y",DIR("A")="Do you want to continue mapping Med Routes",DIR("?")="Enter 'Y' to continue mapping Med Routes, enter 'N' or '^' to exit"
"RTN","PSSMEDRT",19,0)
 ..D ^DIR K DIR I Y'=1!($D(DTOUT))!($D(DUOUT)) S PSSMRLFL=1
"RTN","PSSMEDRT",20,0)
 .K DIC,DTOUT,DUOUT S DIC=51.23,DIC(0)="AEMQZ",DIC("W")="W ""  FDB Route: ""_$P(^(0),""^"",2)"
"RTN","PSSMEDRT",21,0)
 .S DIC("S")="I '$$SCREEN^XTID(51.23,.01,+Y_"","")"
"RTN","PSSMEDRT",22,0)
 .D ^DIC K DIC
"RTN","PSSMEDRT",23,0)
 .I $D(DTOUT)!($D(DUOUT)) D  D UNL Q
"RTN","PSSMEDRT",24,0)
 ..W !! K DIR,DTOUT,DUOUT S DIR(0)="Y",DIR("B")="Y",DIR("A")="Do you want to continue mapping Med Routes",DIR("?")="Enter 'Y' to continue mapping Med Routes, enter 'N' or '^' to exit"
"RTN","PSSMEDRT",25,0)
 ..D ^DIR K DIR I Y'=1!($D(DTOUT))!($D(DUOUT)) S PSSMRLFL=1
"RTN","PSSMEDRT",26,0)
 .I +Y'>0 D UNL Q
"RTN","PSSMEDRT",27,0)
 .S PSSMRLOK=+Y
"RTN","PSSMEDRT",28,0)
 .K DIE,DA,DR S DIE=51.2,DA=PSSMRLNN,DR="10////^S X=+PSSMRLOK" D ^DIE K DA,DIE,DR
"RTN","PSSMEDRT",29,0)
 .S PSSMRLAA=$P($G(^PS(51.2,PSSMRLNN,1)),"^")
"RTN","PSSMEDRT",30,0)
 .I 'PSSMRLAA W !!!,"Unable to make this match!!" D  D UNL Q
"RTN","PSSMEDRT",31,0)
 ..W ! K DIR,DTOUT,DUOUT S DIR(0)="Y",DIR("B")="Y",DIR("A")="Do you want to continue mapping Med Routes",DIR("?")="Enter 'Y' to continue mapping Med Routes, enter 'N' or '^' to exit"
"RTN","PSSMEDRT",32,0)
 ..D ^DIR K DIR I Y'=1!($D(DTOUT))!($D(DUOUT)) S PSSMRLFL=1
"RTN","PSSMEDRT",33,0)
 .W !!!,"Local Route: '"_$P(PSSMRLND,"^")_"' has been mapped to",!,"Stnd Route: '"_$P($G(^PS(51.23,PSSMRLAA,0)),"^")_"'   FDB Route: '"_$P($G(^(0)),"^",2)_"'"
"RTN","PSSMEDRT",34,0)
 .D UNL
"RTN","PSSMEDRT",35,0)
 W !!!,"Checking for any remaining unmapped Local Med Routes..."
"RTN","PSSMEDRT",36,0)
 S (PSSMRLFL,PSSMRLNN)=0
"RTN","PSSMEDRT",37,0)
 S PSSMRLP="" F  S PSSMRLP=$O(^PS(51.2,"B",PSSMRLP)) Q:PSSMRLP=""!(PSSMRLFL)  F PSSMRLNN=0:0 S PSSMRLNN=$O(^PS(51.2,"B",PSSMRLP,PSSMRLNN)) Q:'PSSMRLNN!(PSSMRLFL)  D
"RTN","PSSMEDRT",38,0)
 .K PSSMRLND
"RTN","PSSMEDRT",39,0)
 .S PSSMRLND=$G(^PS(51.2,PSSMRLNN,0))
"RTN","PSSMEDRT",40,0)
 .I '$P(PSSMRLND,"^",4) Q
"RTN","PSSMEDRT",41,0)
 .I '$P($G(^PS(51.2,PSSMRLNN,1)),"^") S PSSMRLFL=1
"RTN","PSSMEDRT",42,0)
 I PSSMRLFL W !!!,"There are still local Med Routes marked for 'ALL PACKAGES' not yet mapped,",!,"see the 'Medication Route Mapping Report' option for more details.",!
"RTN","PSSMEDRT",43,0)
 I 'PSSMRLFL W !!!,"All Local Med Routes are mapped!",!
"RTN","PSSMEDRT",44,0)
 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDRT",45,0)
 Q
"RTN","PSSMEDRT",46,0)
UNL ;Unlock Med Route
"RTN","PSSMEDRT",47,0)
 Q:'$G(PSSMRLNN)
"RTN","PSSMEDRT",48,0)
 L -^PS(51.2,PSSMRLNN)
"RTN","PSSMEDRT",49,0)
 Q
"RTN","PSSMEDRT",50,0)
 ;
"RTN","PSSMEDRT",51,0)
ONE ;Map one Local Medication Routes to Standard Route
"RTN","PSSMEDRT",52,0)
 N DIC,PSSMRB,PSSMRBA,PSSMRBAX,PSSMRBAZ,DA,DIQ,DIR,DIE,DR,PSSMRB1,PSSMRB2,PSSMRB3,PSSONEXT,X,Y,DTOUT,DUOUT,DIRUT,DIROUT
"RTN","PSSMEDRT",53,0)
ONEX ;
"RTN","PSSMEDRT",54,0)
 K DIC,PSSMRB,PSSMRBA,PSSMRBAX,PSSMRBAZ,DA,DIQ,DIR,DIE,DR,PSSMRB1,PSSMRB2,PSSMRB3,PSSONEXT
"RTN","PSSMEDRT",55,0)
 W ! K DIC,DTOUT,DUOUT S DIC=51.2,DIC(0)="QEAMZ",DIC("S")="I $P($G(^PS(51.2,+Y,0)),""^"",4)" D ^DIC K DIC
"RTN","PSSMEDRT",56,0)
 I $D(DTOUT)!($D(DUOUT))!(+Y'>0) W ! Q
"RTN","PSSMEDRT",57,0)
 S (DA,PSSMRB)=+Y
"RTN","PSSMEDRT",58,0)
 K ^UTILITY("DIQ1",$J) K DIQ,PSSMRBA S DIC=51.2,DR="10",DIQ="PSSMRBA",DIQ(0)="EI" D EN^DIQ1
"RTN","PSSMEDRT",59,0)
 K ^UTILITY("DIQ1",$J) K DIQ
"RTN","PSSMEDRT",60,0)
 W !!!,$P($G(^PS(51.2,PSSMRB,0)),"^")
"RTN","PSSMEDRT",61,0)
 S PSSMRB1=$G(PSSMRBA(51.2,PSSMRB,10,"I"))
"RTN","PSSMEDRT",62,0)
 I $G(PSSMRBA(51.2,PSSMRB,10,"E"))'="" D  I $G(PSSONEXT) G ONEX
"RTN","PSSMEDRT",63,0)
 .W !!,"Already mapped to:",!,"Stnd Route: '"_$G(PSSMRBA(51.2,PSSMRB,10,"E"))_"'  FDB Route: '"_$P($G(^PS(51.23,+$G(PSSMRBA(51.2,PSSMRB,10,"I")),0)),"^",2)_"'"
"RTN","PSSMEDRT",64,0)
 .W ! K DIR,PSSONEXT S DIR(0)="Y",DIR("B")="N",DIR("A")="Do you want to remap to a different Standard Med Route"
"RTN","PSSMEDRT",65,0)
 .S DIR("?")=" ",DIR("?",1)="Enter 'Y' to map to a different Standard Med Route,",DIR("?",2)="enter 'N' or Press <ret> to not change this mapping."
"RTN","PSSMEDRT",66,0)
 .K DTOUT,DUOUT D ^DIR K DIR I Y'=1!($D(DTOUT))!($D(DUOUT)) S PSSONEXT=1
"RTN","PSSMEDRT",67,0)
 L +^PS(51.2,PSSMRB):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","PSSMEDRT",68,0)
 I '$T W !!,"Another person is editing this Med Route." D  G ONEX
"RTN","PSSMEDRT",69,0)
 .W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDRT",70,0)
 W ! K DIC,DTOUT,DUOUT S DIC=51.23,DIC(0)="AEMQZ",DIC("W")="W ""  FDB Route: ""_$P(^(0),""^"",2)"
"RTN","PSSMEDRT",71,0)
 S DIC("S")="I '$$SCREEN^XTID(51.23,.01,+Y_"","")"
"RTN","PSSMEDRT",72,0)
 D ^DIC K DIC
"RTN","PSSMEDRT",73,0)
 I $D(DTOUT)!($D(DUOUT))!(+Y'>0) D  D ONEUL G ONEX
"RTN","PSSMEDRT",74,0)
 .I $G(PSSMRBA(51.2,PSSMRB,10,"E"))'="" W !!,"Mapping remains unchanged.",! Q
"RTN","PSSMEDRT",75,0)
 .W !!,"Nothing mapped - No dosing checks will be performed on orders containing this",!,"local medication route until it is mapped to a standard medication route.",!
"RTN","PSSMEDRT",76,0)
 S (PSSMRBAX,PSSMRB2)=+Y
"RTN","PSSMEDRT",77,0)
 K DIE,DR,DA S DIE=51.2,DA=PSSMRB,DR="10////^S X=+PSSMRBAX" D ^DIE K DA,DIE,DR
"RTN","PSSMEDRT",78,0)
 S PSSMRBAZ=$P($G(^PS(51.2,PSSMRB,1)),"^")
"RTN","PSSMEDRT",79,0)
 I 'PSSMRBAZ W !!!,"Unable to make this match, Med Route is unmatched",! D  D ONEUL G ONEX
"RTN","PSSMEDRT",80,0)
 .W !,"Nothing mapped - No dosing checks will be performed on orders containing this",!,"local medication route until it is mapped to a standard medication route.",!
"RTN","PSSMEDRT",81,0)
 S PSSMRB3=0 I PSSMRB1,PSSMRB2,PSSMRB1'=PSSMRB2 S PSSMRB3=1
"RTN","PSSMEDRT",82,0)
 W !!!,"Local Route: '"_$P($G(^PS(51.2,PSSMRB,0)),"^")_"' has been "_$S(PSSMRB3:"remapped",1:"mapped")_" to",!,"Stnd Route: '"_$P($G(^PS(51.23,PSSMRBAZ,0)),"^")_"'   FDB Route: '"_$P($G(^(0)),"^",2)_"'",!
"RTN","PSSMEDRT",83,0)
 D ONEUL
"RTN","PSSMEDRT",84,0)
 G ONEX
"RTN","PSSMEDRT",85,0)
 Q
"RTN","PSSMEDRT",86,0)
ONEUL ;Unlock Med route
"RTN","PSSMEDRT",87,0)
 Q:'$G(PSSMRB)
"RTN","PSSMEDRT",88,0)
 L -^PS(51.2,PSSMRB)
"RTN","PSSMEDRT",89,0)
 Q
"RTN","PSSMEDRT",90,0)
REP ;Med Route Report
"RTN","PSSMEDRT",91,0)
 W !!!,"This report will print Medication Route mapping information for Medication",!,"Routes marked for ALL PACKAGES in the PACKAGE USE (#3) Field of the MEDICATION"
"RTN","PSSMEDRT",92,0)
 W !,"ROUTES (#51.2) File.",!
"RTN","PSSMEDRT",93,0)
 N DIR,PSSPTYPE,DUOUT,DTOUT,Y,IOP,%ZIS,POP,ZTRTN,ZTDESC,ZTSAVE,X,DIRUT,DIROUT,ZTSK
"RTN","PSSMEDRT",94,0)
 K DIR,DUOUT,DTOUT S DIR(0)="SO^A:ALL MEDICATION ROUTES;O:ONLY UNMAPPED MEDICATION ROUTES",DIR("A")="Enter 'A' for All Routes, 'O' for Only Unmapped Routes",DIR("B")="O"
"RTN","PSSMEDRT",95,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'A' to see All Medication Routes from the Medication Routes (#51.2) File",DIR("?",2)="along with the mapping information for the Routes that are mapped."
"RTN","PSSMEDRT",96,0)
 S DIR("?",3)="Enter 'O' to see a list of Only those Routes that have not yet been mapped."
"RTN","PSSMEDRT",97,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) W !!,"No Action taken.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMEDRT",98,0)
 I Y'="A",Y'="O" W !!,"No Action taken.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMEDRT",99,0)
 S PSSPTYPE=Y
"RTN","PSSMEDRT",100,0)
 W !!?3,"This report is designed for 132 column format!",!
"RTN","PSSMEDRT",101,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP)>0 W !!,"No Action taken.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR,IOP,%ZIS,POP Q
"RTN","PSSMEDRT",102,0)
 I $D(IO("Q")) S ZTRTN="START^PSSMEDRT",ZTDESC="Medication Routes Mapping Report",ZTSAVE("PSSPTYPE")="" D ^%ZTLOAD W !!,"Report queued to print.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR,IOP,%ZIS,POP Q
"RTN","PSSMEDRT",103,0)
 U IO G STARTX
"RTN","PSSMEDRT",104,0)
START ;
"RTN","PSSMEDRT",105,0)
 U IO
"RTN","PSSMEDRT",106,0)
 N DIR,DUOUT,DTOUT,Y,X,DIRUT,DIROUT
"RTN","PSSMEDRT",107,0)
STARTX ;
"RTN","PSSMEDRT",108,0)
 N PSSTLINE,PSSTOUT,PSSTDV,PSSTCT,PSSMT,PSSMTI,PSSMTNAM,PSSMTMAP,PSSMTEXP,PSSMTCTA,PSSMTCTB,DIR,DUOUT,DTOUT,Y,X,DIRUT,DIROUT
"RTN","PSSMEDRT",109,0)
 S (PSSMTCTA,PSSMTCTB)=0
"RTN","PSSMEDRT",110,0)
 S PSSTOUT=0,PSSTDV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSTCT=1
"RTN","PSSMEDRT",111,0)
 K PSSTLINE S $P(PSSTLINE,"-",130)=""
"RTN","PSSMEDRT",112,0)
 D HD
"RTN","PSSMEDRT",113,0)
 S PSSMT="" F  S PSSMT=$O(^PS(51.2,"B",PSSMT)) Q:PSSMT=""!(PSSTOUT)  D
"RTN","PSSMEDRT",114,0)
 .F PSSMTI=0:0 S PSSMTI=$O(^PS(51.2,"B",PSSMT,PSSMTI)) Q:'PSSMTI!(PSSTOUT)  D
"RTN","PSSMEDRT",115,0)
 ..I '$P($G(^PS(51.2,PSSMTI,0)),"^",4) Q
"RTN","PSSMEDRT",116,0)
 ..S PSSMTNAM=$P($G(^PS(51.2,PSSMTI,0)),"^"),PSSMTEXP=$P($G(^PS(51.2,PSSMTI,0)),"^",2),PSSMTMAP=$P($G(^PS(51.2,PSSMTI,1)),"^")
"RTN","PSSMEDRT",117,0)
 ..I PSSPTYPE="O",PSSMTMAP Q
"RTN","PSSMEDRT",118,0)
 ..S PSSMTCTA=PSSMTCTA+1 I 'PSSMTMAP S PSSMTCTB=PSSMTCTB+1
"RTN","PSSMEDRT",119,0)
 ..I PSSPTYPE="O" W !!,PSSMTNAM I PSSMTEXP'="" W !,?4,PSSMTEXP
"RTN","PSSMEDRT",120,0)
 ..I PSSPTYPE'="O" W !!,PSSMTNAM,?47,$P($G(^PS(51.23,+PSSMTMAP,0)),"^"),?100,$P($G(^PS(51.23,+PSSMTMAP,0)),"^",2) I PSSMTEXP'="" W !,?4,PSSMTEXP
"RTN","PSSMEDRT",121,0)
 ..K PSSMTNAM,PSSMTEXP,PSSMTMAP
"RTN","PSSMEDRT",122,0)
 ..I ($Y+5)>IOSL D HD Q:PSSTOUT
"RTN","PSSMEDRT",123,0)
 I 'PSSTOUT D
"RTN","PSSMEDRT",124,0)
 .D HD
"RTN","PSSMEDRT",125,0)
 .I PSSTOUT Q
"RTN","PSSMEDRT",126,0)
 .I PSSPTYPE="O" W !!,"TOTAL UNMAPPED MEDICATION ROUTES = "_$G(PSSMTCTB)
"RTN","PSSMEDRT",127,0)
 .I PSSPTYPE'="O" W !!,"TOTAL LOCAL MEDICATION ROUTES = "_$G(PSSMTCTA),!,"TOTAL UNMAPPED LOCAL MEDICATION ROUTES = "_$G(PSSMTCTB)
"RTN","PSSMEDRT",128,0)
END ;
"RTN","PSSMEDRT",129,0)
 K PSSPTYPE
"RTN","PSSMEDRT",130,0)
 I $G(PSSTDV)="P" W !!,"End of Report."
"RTN","PSSMEDRT",131,0)
 I '$G(PSSTOUT),$G(PSSTDV)="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMEDRT",132,0)
 I $G(PSSTDV)="C" W !
"RTN","PSSMEDRT",133,0)
 E  W @IOF
"RTN","PSSMEDRT",134,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSMEDRT",135,0)
 Q
"RTN","PSSMEDRT",136,0)
HD ;
"RTN","PSSMEDRT",137,0)
 I $G(PSSTDV)="C",$G(PSSTCT)'=1 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSTOUT=1 Q
"RTN","PSSMEDRT",138,0)
 W @IOF W !,$S(PSSPTYPE="O":"MEDICATION ROUTES MAPPING EXCEPTION REPORT",1:"MEDICATION ROUTES MAPPING REPORT"),?114,"Page: "_$G(PSSTCT) S PSSTCT=PSSTCT+1
"RTN","PSSMEDRT",139,0)
 I PSSPTYPE="O" W !!,"MEDICATION ROUTES (File 51.2)"
"RTN","PSSMEDRT",140,0)
 I PSSPTYPE'="O" W !!,"MEDICATION ROUTES (File 51.2)",?47,"STANDARD ROUTE",?100,"FDB ROUTE"
"RTN","PSSMEDRT",141,0)
 W !?4,"OUTPATIENT EXPANSION",!,PSSTLINE
"RTN","PSSMEDRT",142,0)
 Q
"RTN","PSSMEDX")
0^10^B692328^n/a
"RTN","PSSMEDX",1,0)
PSSMEDX ;BIR/TS-CROSS REFERENCE LOGIC FOR STANDARD MEDICATION ROUTE POINTER IN 51.2 ;04/04/08
"RTN","PSSMEDX",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSMEDX",3,0)
 ;
"RTN","PSSMEDX",4,0)
SET ;This routine is called by the AC cross-reference on Field #10 of the Medication Routes (#51.2) File
"RTN","PSSMEDX",5,0)
 I $G(X1(1))=$G(X2(1)) Q
"RTN","PSSMEDX",6,0)
 N PSSHASH
"RTN","PSSMEDX",7,0)
 ;DA represents the current record called by the cross-reference
"RTN","PSSMEDX",8,0)
 S PSSHASH("DA")=DA
"RTN","PSSMEDX",9,0)
 D READ
"RTN","PSSMEDX",10,0)
 Q
"RTN","PSSMEDX",11,0)
 ;
"RTN","PSSMEDX",12,0)
READ ;Set values
"RTN","PSSMEDX",13,0)
 N PSSHASHX,%,%H,%I,X
"RTN","PSSMEDX",14,0)
 D NOW^%DTC S PSSHASHX(51.27,"+1,"_PSSHASH("DA")_",",.01)=%
"RTN","PSSMEDX",15,0)
 S PSSHASHX(51.27,"+1,"_PSSHASH("DA")_",",1)=$G(DUZ)
"RTN","PSSMEDX",16,0)
 S PSSHASHX(51.27,"+1,"_PSSHASH("DA")_",",2)=$G(X1(1))
"RTN","PSSMEDX",17,0)
 S PSSHASHX(51.27,"+1,"_PSSHASH("DA")_",",3)=$G(X2(1))
"RTN","PSSMEDX",18,0)
 D UPDATE^DIE("","PSSHASHX")
"RTN","PSSMEDX",19,0)
 Q
"RTN","PSSMIRPT")
0^14^B30532574^n/a
"RTN","PSSMIRPT",1,0)
PSSMIRPT ;BIR/RTR-Medication Instruction Report ;07/03/07
"RTN","PSSMIRPT",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSMIRPT",3,0)
 ;
"RTN","PSSMIRPT",4,0)
 ;
"RTN","PSSMIRPT",5,0)
EN ;Prompts for Medication Instruction File Report
"RTN","PSSMIRPT",6,0)
 W !!,"This report displays entries from the MEDICATION INSTRUCTION (#51) File. It"
"RTN","PSSMIRPT",7,0)
 W !,"can be run for all Medication Instructions or only Medication Instructions"
"RTN","PSSMIRPT",8,0)
 W !,"without a FREQUENCY (IN MINUTES). If a FREQUENCY (IN MINUTES) cannot be"
"RTN","PSSMIRPT",9,0)
 W !,"determined for an order, the daily dosage check cannot occur for that order."
"RTN","PSSMIRPT",10,0)
 N DIR,PSSMXRP,PSSMXLNG,Y,X,DTOUT,DUOUT,DIRUT,DIROUT,IOP,%ZIS,POP,ZTRTN,ZTDESC,ZTSAVE,ZTSK
"RTN","PSSMIRPT",11,0)
 K DIR,Y S DIR(0)="SO^A:All Medication Instructions;O:Only Medication Instructions with a missing frequency",DIR("A",1)="Print All Medication Instructions, or Only Medication Instructions",DIR("A")="without a frequency",DIR("B")="A"
"RTN","PSSMIRPT",12,0)
 S DIR("?")=" ",DIR("?",1)=" ",DIR("?",2)="Enter 'A' to see all Medication Instructions, enter 'O' to see only",DIR("?",3)="those Medication Instructions without data in the FREQUENCY (IN MINUTES)"
"RTN","PSSMIRPT",13,0)
 S DIR("?",4)="(#31) Field. A FREQUENCY (IN MINUTES) must be derived from a Schedule",DIR("?",5)="for the daily dosage check to occur for an order."
"RTN","PSSMIRPT",14,0)
 W ! D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMIRPT",15,0)
 I Y'="A",Y'="O" D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMIRPT",16,0)
 S PSSMXRP=Y
"RTN","PSSMIRPT",17,0)
 K DIR,Y S DIR(0)="SO^80:80 Column;132:132 Column",DIR("A")="Print report in 80 or 132 column format",DIR("B")="80"
"RTN","PSSMIRPT",18,0)
 S DIR("?")=" ",DIR("?",1)="Enter 80 to print the report in an 80 column format,",DIR("?",2)="Enter 132 to print the report in an 132 column format."
"RTN","PSSMIRPT",19,0)
 W ! D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMIRPT",20,0)
 I Y'="80",Y'="132" D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSMIRPT",21,0)
 S PSSMXLNG=Y W !
"RTN","PSSMIRPT",22,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP)>0 D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR,IOP,%ZIS,POP Q
"RTN","PSSMIRPT",23,0)
 I $D(IO("Q")) S ZTRTN="START^PSSMIRPT",ZTDESC="Medication Instruction File Report",ZTSAVE("PSSMXRP")="",ZTSAVE("PSSMXLNG")="" D ^%ZTLOAD K %ZIS W !!,"Report queued to print.",! D  Q
"RTN","PSSMIRPT",24,0)
 .K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMIRPT",25,0)
 ;
"RTN","PSSMIRPT",26,0)
 ;
"RTN","PSSMIRPT",27,0)
START ;Print Medication Instruction File report
"RTN","PSSMIRPT",28,0)
 U IO
"RTN","PSSMIRPT",29,0)
 N PSSMXOUT,PSSMXNOF,PSSMXDEV,PSSMXCT,PSSMXLIN,PSSMXQ,PSSMXQEN,PSSMXRA,PSSMXRAA,PSSMXREP,PSSMXROO
"RTN","PSSMIRPT",30,0)
 S (PSSMXOUT,PSSMXNOF)=0,PSSMXDEV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSMXCT=1
"RTN","PSSMIRPT",31,0)
 K PSSMXLIN S:PSSMXLNG=132 $P(PSSMXLIN,"-",130)="" S:PSSMXLNG=80 $P(PSSMXLIN,"-",78)=""
"RTN","PSSMIRPT",32,0)
 D HD
"RTN","PSSMIRPT",33,0)
 S PSSMXQ="" F  S PSSMXQ=$O(^PS(51,"B",PSSMXQ)) Q:PSSMXQ=""!(PSSMXOUT)  D
"RTN","PSSMIRPT",34,0)
 .F PSSMXQEN=0:0 S PSSMXQEN=$O(^PS(51,"B",PSSMXQ,PSSMXQEN)) Q:'PSSMXQEN!(PSSMXOUT)  I '$G(^PS(51,"B",PSSMXQ,PSSMXQEN)) D
"RTN","PSSMIRPT",35,0)
 ..K PSSMXRA,PSSMXRAA,PSSMXREP,PSSMXROO
"RTN","PSSMIRPT",36,0)
 ..S PSSMXRA=PSSMXQEN_","
"RTN","PSSMIRPT",37,0)
 ..D GETS^DIQ(51,PSSMXRA,".01;.5;1;1.1;9;30;31","E","PSSMXRAA")
"RTN","PSSMIRPT",38,0)
 ..I PSSMXRP="O",$G(PSSMXRAA(51,PSSMXRA,31,"E"))'="" Q
"RTN","PSSMIRPT",39,0)
 ..S PSSMXNOF=1
"RTN","PSSMIRPT",40,0)
 ..W !!,$G(PSSMXRAA(51,PSSMXRA,.01,"E"))
"RTN","PSSMIRPT",41,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT
"RTN","PSSMIRPT",42,0)
 ..W !?19,"SYNONYM: "_$G(PSSMXRAA(51,PSSMXRA,.5,"E"))
"RTN","PSSMIRPT",43,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT
"RTN","PSSMIRPT",44,0)
 ..W !?17,"EXPANSION: " D
"RTN","PSSMIRPT",45,0)
 ...S PSSMXREP=$G(PSSMXRAA(51,PSSMXRA,1,"E"))
"RTN","PSSMIRPT",46,0)
 ...I PSSMXLNG=132 D  Q
"RTN","PSSMIRPT",47,0)
 ....I $L(PSSMXREP)<104 W PSSMXREP,! Q
"RTN","PSSMIRPT",48,0)
 ....N X,DIWL,DIWR,DIWF S X=PSSMXREP,DIWL=29,DIWR=131,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSMIRPT",49,0)
 ...I $L(PSSMXREP)<52 W PSSMXREP,! Q
"RTN","PSSMIRPT",50,0)
 ...N X,DIWL,DIWR,DIWF S X=PSSMXREP,DIWL=29,DIWR=79,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSMIRPT",51,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT  W !
"RTN","PSSMIRPT",52,0)
 ..W ?2,"OTHER LANGUAGE EXPANSION: " D
"RTN","PSSMIRPT",53,0)
 ...S PSSMXROO=$G(PSSMXRAA(51,PSSMXRA,1.1,"E"))
"RTN","PSSMIRPT",54,0)
 ...I PSSMXLNG=132 D  Q
"RTN","PSSMIRPT",55,0)
 ....I $L(PSSMXROO)<104 W PSSMXROO,! Q
"RTN","PSSMIRPT",56,0)
 ....N X,DIWL,DIWR,DIWF S X=PSSMXROO,DIWL=29,DIWR=131,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSMIRPT",57,0)
 ...I $L(PSSMXROO)<52 W PSSMXROO,! Q
"RTN","PSSMIRPT",58,0)
 ...N X,DIWL,DIWR,DIWF S X=PSSMXROO,DIWL=29,DIWR=79,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSMIRPT",59,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT  W !
"RTN","PSSMIRPT",60,0)
 ..W ?20,"PLURAL: "_$G(PSSMXRAA(51,PSSMXRA,9,"E"))
"RTN","PSSMIRPT",61,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT
"RTN","PSSMIRPT",62,0)
 ..W !?14,"INTENDED USE: "_$G(PSSMXRAA(51,PSSMXRA,30,"E"))
"RTN","PSSMIRPT",63,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT
"RTN","PSSMIRPT",64,0)
 ..W !?4,"FREQUENCY (IN MINUTES): "_$G(PSSMXRAA(51,PSSMXRA,31,"E"))
"RTN","PSSMIRPT",65,0)
 ..I ($Y+5)>IOSL D HD Q:PSSMXOUT
"RTN","PSSMIRPT",66,0)
 ;
"RTN","PSSMIRPT",67,0)
END ;
"RTN","PSSMIRPT",68,0)
 I '$G(PSSMXOUT),PSSMXRP="O",'$G(PSSMXNOF) W !!,"No Medication Instructions found without frequencies.",!
"RTN","PSSMIRPT",69,0)
 I $G(PSSMXDEV)="P"  W !!,"End of Report.",!
"RTN","PSSMIRPT",70,0)
 I '$G(PSSMXOUT),$G(PSSMXDEV)="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSMIRPT",71,0)
 I $G(PSSMXDEV)="C" W !
"RTN","PSSMIRPT",72,0)
 E  W @IOF
"RTN","PSSMIRPT",73,0)
 K PSSMXRP,PSSMXLNG
"RTN","PSSMIRPT",74,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSMIRPT",75,0)
 Q
"RTN","PSSMIRPT",76,0)
 ;
"RTN","PSSMIRPT",77,0)
HD ;Report Header
"RTN","PSSMIRPT",78,0)
 I $G(PSSMXDEV)="C",$G(PSSMXCT)'=1 W ! K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSMXOUT=1 Q
"RTN","PSSMIRPT",79,0)
 W @IOF
"RTN","PSSMIRPT",80,0)
 I PSSMXRP="A" W !,"MEDICATION INSTRUCTION FILE REPORT (All)"
"RTN","PSSMIRPT",81,0)
 I PSSMXRP="O" W !,"MEDICATION INSTRUCTIONS WITHOUT FREQUENCY REPORT"
"RTN","PSSMIRPT",82,0)
 W ?$S(PSSMXLNG=80:68,1:120),"PAGE: "_PSSMXCT,!,PSSMXLIN,! S PSSMXCT=PSSMXCT+1
"RTN","PSSMIRPT",83,0)
 Q
"RTN","PSSMIRPT",84,0)
 ;
"RTN","PSSMIRPT",85,0)
MESS ;
"RTN","PSSMIRPT",86,0)
 W !!,"Nothing queued to print.",!
"RTN","PSSMIRPT",87,0)
 Q
"RTN","PSSPO129")
0^1^B27773243^n/a
"RTN","PSSPO129",1,0)
PSSPO129 ;BIR/RTR-POST INIT FOR PATCH PSS*1*129 ;06/14/07
"RTN","PSSPO129",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/97;Build 67
"RTN","PSSPO129",3,0)
 ;
"RTN","PSSPO129",4,0)
 N PSSFACC,PSSFACCX
"RTN","PSSPO129",5,0)
 K PSSFACC,PSSFACCX
"RTN","PSSPO129",6,0)
 S PSSFACC("RD")="Pp" D FILESEC^DDMOD(51.23,.PSSFACC,"PSSFACCX") K PSSFACC,PSSFACCX
"RTN","PSSPO129",7,0)
 S PSSFACC("RD")="Pp" D FILESEC^DDMOD(51.24,.PSSFACC,"PSSFACCX") K PSSFACC,PSSFACCX
"RTN","PSSPO129",8,0)
 I $T(GETIEN^HDISVF09)]"",$T(EN^HDISVCMR)]"" D BMES^XPDUTL("Initializing standardization of Standard Medication Routes....") D ST D BMES^XPDUTL("Standardization Initialization complete.")
"RTN","PSSPO129",9,0)
 D BMES^XPDUTL("Rebuilding Pharmacy Data Managent Menus....") D BLD D BMES^XPDUTL("Rebuilding menus complete.")
"RTN","PSSPO129",10,0)
 D BMES^XPDUTL("Importing Dosage Form File Data....") D DS D BMES^XPDUTL("Importing data complete.")
"RTN","PSSPO129",11,0)
 D BMES^XPDUTL("Mapping Local Medication Routes....") D MEDRT D BMES^XPDUTL("Mapping Medication Routes complete.")
"RTN","PSSPO129",12,0)
 D BMES^XPDUTL("Mapping Local Possible Dosages....") D EN^PSSDSPOP D BMES^XPDUTL("Mapping Local Possible Dosages complete.")
"RTN","PSSPO129",13,0)
 D BMES^XPDUTL("Generating Mail Message....") D MAIL D BMES^XPDUTL("Mail message sent.")
"RTN","PSSPO129",14,0)
 Q
"RTN","PSSPO129",15,0)
 ;
"RTN","PSSPO129",16,0)
 ;
"RTN","PSSPO129",17,0)
MAIL ;Find IV Solutions with Print Name 2 and Use in IV Fluid Order Entrt, and send mail message
"RTN","PSSPO129",18,0)
 ;N PSSFVNMX,PSSFVNMZ,PSSFDFLG,PSSFDPRI,PSSFDUSE,PSSFDS,PSSFDCNT,PSSFDSOL,PSSFDNAM,XMTEXT,XMY,XMSUB,XMDUZ,XMMG,XMSTRIP,XMROU,XMDUN,XMYBLOB,XMZ
"RTN","PSSPO129",19,0)
 N PSSFDS,XMTEXT,XMY,XMSUB,XMDUZ,XMMG,XMSTRIP,XMROU,XMYBLOB,XMZ
"RTN","PSSPO129",20,0)
 K ^TMP($J,"PSSFDSXX")
"RTN","PSSPO129",21,0)
 ;S ^TMP($J,"PSSFDSXX",1,0)="The following entries in the IV SOLUTIONS (#52.7) File have"
"RTN","PSSPO129",22,0)
 ;S ^TMP($J,"PSSFDSXX",2,0)="data in the PRINT NAME {2} (#.02) Field and also have the USED"
"RTN","PSSPO129",23,0)
 ;S ^TMP($J,"PSSFDSXX",3,0)="IN IV FLUID ORDER ENTRY (#17) Field set to 'YES'. This can"
"RTN","PSSPO129",24,0)
 ;S ^TMP($J,"PSSFDSXX",4,0)="potentially cause confusion, please review and correct."
"RTN","PSSPO129",25,0)
 ;S ^TMP($J,"PSSFDSXX",5,0)=" "
"RTN","PSSPO129",26,0)
 ;S PSSFDCNT=6
"RTN","PSSPO129",27,0)
 ;S PSSFDFLG=0
"RTN","PSSPO129",28,0)
 ;S PSSFDNAM="" F  S PSSFDNAM=$O(^PS(52.7,"B",PSSFDNAM)) Q:PSSFDNAM=""  F PSSFDSOL=0:0 S PSSFDSOL=$O(^PS(52.7,"B",PSSFDNAM,PSSFDSOL)) Q:'PSSFDSOL  D
"RTN","PSSPO129",29,0)
 ;.S PSSFDPRI=$P($G(^PS(52.7,PSSFDSOL,0)),"^",4),PSSFDUSE=$P($G(^PS(52.7,PSSFDSOL,0)),"^",13)
"RTN","PSSPO129",30,0)
 ;.I PSSFDPRI'="",$G(PSSFDUSE) D
"RTN","PSSPO129",31,0)
 ;..S PSSFDFLG=1
"RTN","PSSPO129",32,0)
 ;..S PSSFVNMX=$L($P($G(^PS(52.7,PSSFDSOL,0)),"^")) K PSSFVNMZ S $P(PSSFVNMZ," ",(34-PSSFVNMX))=""
"RTN","PSSPO129",33,0)
 ;..S ^TMP($J,"PSSFDSXX",PSSFDCNT,0)=$P($G(^PS(52.7,PSSFDSOL,0)),"^")_PSSFVNMZ_"Volume: "_$P($G(^PS(52.7,PSSFDSOL,0)),"^",3)
"RTN","PSSPO129",34,0)
 ;..S PSSFDCNT=PSSFDCNT+1
"RTN","PSSPO129",35,0)
 ;I 'PSSFDFLG S ^TMP($J,"PSSFDSXX",PSSFDCNT,0)="No IV Solutions found."
"RTN","PSSPO129",36,0)
 ;S PSSFDCNT=PSSFDCNT+1
"RTN","PSSPO129",37,0)
 ;S ^TMP($J,"PSSFDSXX",PSSFDCNT,0)=" "
"RTN","PSSPO129",38,0)
 ;S PSSFDCNT=PSSFDCNT+1
"RTN","PSSPO129",39,0)
 ;S ^TMP($J,"PSSFDSXX",PSSFDCNT,0)="The Installation of patch PSS*1.0*129 is complete."
"RTN","PSSPO129",40,0)
 S ^TMP($J,"PSSFDSXX",1,0)="The Installation of patch PSS*1.0*129 is complete."
"RTN","PSSPO129",41,0)
 S XMSUB="PSS*1*129 Installation Complete"
"RTN","PSSPO129",42,0)
 S XMDUZ="PSS*1*129 Install"
"RTN","PSSPO129",43,0)
 S XMTEXT="^TMP($J,""PSSFDSXX"","
"RTN","PSSPO129",44,0)
 F PSSFDS=0:0 S PSSFDS=$O(@XPDGREF@("PSSVJARX",PSSFDS)) Q:'PSSFDS  S XMY(PSSFDS)=""
"RTN","PSSPO129",45,0)
 N DIFROM D ^XMD
"RTN","PSSPO129",46,0)
 K ^TMP($J,"PSSFDSXX")
"RTN","PSSPO129",47,0)
 Q
"RTN","PSSPO129",48,0)
 ;
"RTN","PSSPO129",49,0)
 ;
"RTN","PSSPO129",50,0)
ST ;Seed VUID data In Standard Medication Routes File (#51.23)
"RTN","PSSPO129",51,0)
 N PSSDOM,PSSDOMX
"RTN","PSSPO129",52,0)
 S PSSDOMX=$$GETIEN^HDISVF09("PHARMACY DATA MANAGEMENT",.PSSDOM)
"RTN","PSSPO129",53,0)
 I PSSDOMX D EN^HDISVCMR(PSSDOM,51.23)
"RTN","PSSPO129",54,0)
 Q
"RTN","PSSPO129",55,0)
 ;
"RTN","PSSPO129",56,0)
 ;
"RTN","PSSPO129",57,0)
BLD ;Remove menu items from PSS MGR that were placed under other sub-menus
"RTN","PSSPO129",58,0)
 N PSSREMOV,PSSREMRS
"RTN","PSSPO129",59,0)
 F PSSREMOV="PSS MEDICATION ROUTES EDIT","PSS ORDERABLE ITEM REPORT","PSS EDIT TEXT","PSS DRUG TEXT FILE REPORT","PSS SCHEDULE EDIT","PSSJU MI" D
"RTN","PSSPO129",60,0)
 .S PSSREMRS=$$DELETE^XPDMENU("PSS MGR",PSSREMOV)
"RTN","PSSPO129",61,0)
 Q
"RTN","PSSPO129",62,0)
 ;
"RTN","PSSPO129",63,0)
 ;
"RTN","PSSPO129",64,0)
DS ;Import Exclude From Dosage Checks field in Dosage Form File
"RTN","PSSPO129",65,0)
 N PSSFDD,PSSFDX
"RTN","PSSPO129",66,0)
 F PSSFDD=0:0 S PSSFDD=$O(@XPDGREF@("PSSVJDD",PSSFDD)) Q:'PSSFDD  S $P(^PS(50.606,PSSFDD,1),"^")=@XPDGREF@("PSSVJDD",PSSFDD)
"RTN","PSSPO129",67,0)
 Q
"RTN","PSSPO129",68,0)
 ;
"RTN","PSSPO129",69,0)
 ;
"RTN","PSSPO129",70,0)
MEDRT ;Populate FirstDataBank Med Route in File 51.2
"RTN","PSSPO129",71,0)
 ;Will XTID screen work, right after the HD calls. (are the HD calls real-time?)
"RTN","PSSPO129",72,0)
 N PSSRTIEN,PSSRTNAM,PSSRTSTS,PSSRTIX
"RTN","PSSPO129",73,0)
 S PSSRTIX="" F  S PSSRTIX=$O(^PS(51.2,"B",PSSRTIX)) Q:PSSRTIX=""  D
"RTN","PSSPO129",74,0)
 .F PSSRTIEN=0:0 S PSSRTIEN=$O(^PS(51.2,"B",PSSRTIX,PSSRTIEN)) Q:'PSSRTIEN  D
"RTN","PSSPO129",75,0)
 ..I '$D(^PS(51.2,PSSRTIEN,0)) Q
"RTN","PSSPO129",76,0)
 ..I '$P($G(^PS(51.2,PSSRTIEN,0)),"^",4) Q
"RTN","PSSPO129",77,0)
 ..I $P($G(^PS(51.2,PSSRTIEN,1)),"^") Q
"RTN","PSSPO129",78,0)
 ..L +^PS(51.2,PSSRTIEN):$S($G(DILOCKTM)>0:DILOCKTM,1:3) I '$T Q
"RTN","PSSPO129",79,0)
 ..K PSSRTNAM,PSSRTSTS
"RTN","PSSPO129",80,0)
 ..S PSSRTNAM=$P($G(^PS(51.2,PSSRTIEN,0)),"^") S PSSRTNAM=$$UP^XLFSTR(PSSRTNAM)
"RTN","PSSPO129",81,0)
 ..S PSSRTSTS=$O(^PS(51.23,"B",PSSRTNAM,0)) I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",82,0)
 ..K PSSRTSTS S PSSRTSTS=$O(^PS(51.23,"C",PSSRTNAM,0)) I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",83,0)
 ..K PSSRTSTS I PSSRTNAM[" EAR" S PSSRTSTS=$O(^PS(51.23,"B","OTIC",0)) I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",84,0)
 ..K PSSRTSTS I PSSRTNAM[" EYE" S PSSRTSTS=$O(^PS(51.23,"B","OPHTHALMIC",0)) I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",85,0)
 ..K PSSRTSTS I PSSRTNAM="G TUBE"!(PSSRTNAM="G-TUBE")!(PSSRTNAM="J TUBE")!(PSSRTNAM="J-TUBE")!(PSSRTNAM="NG TUBE")!(PSSRTNAM="NG-TUBE")!(PSSRTNAM="BY MOUTH") D  I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",86,0)
 ...S PSSRTSTS=$O(^PS(51.23,"B","ORAL",0))
"RTN","PSSPO129",87,0)
 ..K PSSRTSTS I PSSRTNAM["NOSE"!(PSSRTNAM["NASAL")!(PSSRTNAM["NOSTRIL") S PSSRTSTS=$O(^PS(51.23,"B","NASAL",0)) I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",88,0)
 ..K PSSRTSTS I PSSRTNAM="IVPB"!(PSSRTNAM="IV PUSH")!(PSSRTNAM="IV PIGGYBACK") S PSSRTSTS=$O(^PS(51.23,"B","INTRAVENOUS",0)) I PSSRTSTS,'$$SCREEN^XTID(51.23,.01,PSSRTSTS_",") D SET D UN Q
"RTN","PSSPO129",89,0)
 ..D UN
"RTN","PSSPO129",90,0)
 Q
"RTN","PSSPO129",91,0)
 ;
"RTN","PSSPO129",92,0)
 ;
"RTN","PSSPO129",93,0)
UN ;Unlock Med Route
"RTN","PSSPO129",94,0)
 L -^PS(51.2,PSSRTIEN)
"RTN","PSSPO129",95,0)
 Q
"RTN","PSSPO129",96,0)
 ;
"RTN","PSSPO129",97,0)
 ;
"RTN","PSSPO129",98,0)
SET ;Set Data, leaving USER as null, so the installer is not recorded as the user
"RTN","PSSPO129",99,0)
 N %,PSSHASHP,X,%H,%I
"RTN","PSSPO129",100,0)
 K PSSHASHP
"RTN","PSSPO129",101,0)
 S $P(^PS(51.2,PSSRTIEN,1),"^")=PSSRTSTS
"RTN","PSSPO129",102,0)
 D NOW^%DTC S PSSHASHP(51.27,"+1,"_PSSRTIEN_",",.01)=%
"RTN","PSSPO129",103,0)
 S PSSHASHP(51.27,"+1,"_PSSRTIEN_",",1)=""
"RTN","PSSPO129",104,0)
 S PSSHASHP(51.27,"+1,"_PSSRTIEN_",",2)=""
"RTN","PSSPO129",105,0)
 S PSSHASHP(51.27,"+1,"_PSSRTIEN_",",3)=PSSRTSTS
"RTN","PSSPO129",106,0)
 D UPDATE^DIE("","PSSHASHP")
"RTN","PSSPO129",107,0)
 Q
"RTN","PSSPRMIX")
0^8^B27786751^n/a
"RTN","PSSPRMIX",1,0)
PSSPRMIX ;BIR/RTR-PREMIX REPORT ;07/14/07
"RTN","PSSPRMIX",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSPRMIX",3,0)
 ;
"RTN","PSSPRMIX",4,0)
REP ;IV Solutions report
"RTN","PSSPRMIX",5,0)
 ;
"RTN","PSSPRMIX",6,0)
 W !!,"This report displays only those solutions in the IV Solutions (#52.7) File",!,"that are marked as PreMix IV Solutions, or it displays all Solutions."
"RTN","PSSPRMIX",7,0)
 N DIR,PSSPRTP,Y,DIRUT,DIROUT,DUOUT,DTOUT,IOP,%ZIS,POP,X,ZTRTN,ZTDESC,ZTSAVE,ZTSK
"RTN","PSSPRMIX",8,0)
 K DIR,Y S DIR(0)="SO^P:Print only IV Solutions marked as PreMix;A:Print All IV Solutions",DIR("A")="Print report for PreMix (P), or All IV Solutions (A): (P/A): Premix",DIR("B")="P"
"RTN","PSSPRMIX",9,0)
 S DIR("?")=" ",DIR("?",1)="Enter 'P' to see only those IV Solutions that are marked as PreMix,"
"RTN","PSSPRMIX",10,0)
 S DIR("?",2)="Enter 'A' to see all IV Solutions, regardless of PreMix designation."
"RTN","PSSPRMIX",11,0)
 D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS Q
"RTN","PSSPRMIX",12,0)
 I Y'="P",Y'="A" D MESS Q
"RTN","PSSPRMIX",13,0)
 S PSSPRTP=Y
"RTN","PSSPRMIX",14,0)
 W !!?3,"This report is designed for 80 column format!",!
"RTN","PSSPRMIX",15,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP)>0 W !!,"Nothing queued to print.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR,IOP,%ZIS,POP Q
"RTN","PSSPRMIX",16,0)
 I $D(IO("Q")) S ZTRTN="START^PSSPRMIX",ZTDESC="IV Solutions PreMix Report",ZTSAVE("PSSPRTP")="" D ^%ZTLOAD W !!,"Report queued to print.",! D  K IOP,%ZIS,POP Q
"RTN","PSSPRMIX",17,0)
 .K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSPRMIX",18,0)
 ;
"RTN","PSSPRMIX",19,0)
 U IO G STARTX
"RTN","PSSPRMIX",20,0)
START ;
"RTN","PSSPRMIX",21,0)
 U IO
"RTN","PSSPRMIX",22,0)
 N DIR,Y,DIRUT,DIROUT,DUOUT,DTOUT,X
"RTN","PSSPRMIX",23,0)
STARTX ;
"RTN","PSSPRMIX",24,0)
 N PSSPRM,PSSPRMDV,PSSPRMLN,PSSPROUT,PSSPRMCT,PSSPRMIN,PSSPRMAR,PSSPRML1,PSSPRML2,PSSPRML3,PSSPRMTP,PSSPRMSU,PSSPRMSY,PSSPRMSX,PSSPRMSC,PSSPRMDF,PSSPRMDZ,PSSPRMDQ,PSSPRMFD
"RTN","PSSPRMIX",25,0)
 S (PSSPROUT,PSSPRMFD)=0,PSSPRMDV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSPRMCT=1
"RTN","PSSPRMIX",26,0)
 K PSSPRMLN S $P(PSSPRMLN,"-",79)=""
"RTN","PSSPRMIX",27,0)
 D HD
"RTN","PSSPRMIX",28,0)
 S PSSPRM="" F  S PSSPRM=$O(^PS(52.7,"B",PSSPRM)) Q:PSSPRM=""!(PSSPROUT)  D
"RTN","PSSPRMIX",29,0)
 .F PSSPRMIN=0:0 S PSSPRMIN=$O(^PS(52.7,"B",PSSPRM,PSSPRMIN)) Q:'PSSPRMIN!(PSSPROUT)  D
"RTN","PSSPRMIX",30,0)
 ..K PSSPRMAR,PSSPRML1,PSSPRML2,PSSPRML3,PSSPRMTP,PSSPRMSU,PSSPRMSY,PSSPRMSC
"RTN","PSSPRMIX",31,0)
 ..S PSSPRMTP=PSSPRMIN_","
"RTN","PSSPRMIX",32,0)
 ..D GETS^DIQ(52.7,PSSPRMTP,".01;.02;1;2;8;9;17;18","IE","PSSPRMAR")
"RTN","PSSPRMIX",33,0)
 ..I PSSPRTP="P",'$G(PSSPRMAR(52.7,PSSPRMTP,18,"I")) Q
"RTN","PSSPRMIX",34,0)
 ..S PSSPRMFD=1
"RTN","PSSPRMIX",35,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",36,0)
 ..S PSSPRML1=$L($G(PSSPRMAR(52.7,PSSPRMTP,.01,"E"))),PSSPRML2=$L($G(PSSPRMAR(52.7,PSSPRMTP,2,"E"))),PSSPRML3=0
"RTN","PSSPRMIX",37,0)
 ..S PSSPRML3=PSSPRML1+PSSPRML2
"RTN","PSSPRMIX",38,0)
 ..W !!?18,"Print Name: "_$G(PSSPRMAR(52.7,PSSPRMTP,.01,"E"))
"RTN","PSSPRMIX",39,0)
 ..I PSSPRML3<37 W "    Volume: "_$G(PSSPRMAR(52.7,PSSPRMTP,2,"E"))
"RTN","PSSPRMIX",40,0)
 ..I PSSPRML3'<37 W !?30,"Volume: "_$G(PSSPRMAR(52.7,PSSPRMTP,2,"E"))
"RTN","PSSPRMIX",41,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",42,0)
 ..W !?14,"Print Name {2}: "_$G(PSSPRMAR(52.7,PSSPRMTP,.02,"E"))
"RTN","PSSPRMIX",43,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",44,0)
 ..W !?20,"Synonyms: "
"RTN","PSSPRMIX",45,0)
 ..S PSSPRMSC=0 F PSSPRMSY=0:0 S PSSPRMSY=$O(^PS(52.7,PSSPRMIN,3,PSSPRMSY)) Q:'PSSPRMSY!(PSSPROUT)  D
"RTN","PSSPRMIX",46,0)
 ...K PSSPRMSU,PSSPRMSX
"RTN","PSSPRMIX",47,0)
 ...S PSSPRMSU=PSSPRMSY_","_PSSPRMIN_"," S PSSPRMSX=$$GET1^DIQ(52.703,PSSPRMSU,".01")
"RTN","PSSPRMIX",48,0)
 ...W:PSSPRMSC !?30,$G(PSSPRMSX) W:'PSSPRMSC ?30,$G(PSSPRMSX)
"RTN","PSSPRMIX",49,0)
 ...S PSSPRMSC=1
"RTN","PSSPRMIX",50,0)
 ...I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",51,0)
 ..Q:PSSPROUT
"RTN","PSSPRMIX",52,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",53,0)
 ..W !?16,"Generic Drug: "_$G(PSSPRMAR(52.7,PSSPRMTP,1,"E"))
"RTN","PSSPRMIX",54,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",55,0)
 ..K PSSPRML1,PSSPRML2,PSSPRML3,PSSPRMDF,PSSPRMDZ,PSSPRMDQ
"RTN","PSSPRMIX",56,0)
 ..S PSSPRML1=$L($G(PSSPRMAR(52.7,PSSPRMTP,9,"E"))),PSSPRMDF=$G(PSSPRMAR(52.7,PSSPRMTP,9,"I"))
"RTN","PSSPRMIX",57,0)
 ..S PSSPRML2=0 I PSSPRMDF S PSSPRMDZ=PSSPRMDF_"," S PSSPRMDQ=$$GET1^DIQ(50.7,PSSPRMDZ,".02") S PSSPRML2=$L(PSSPRMDQ)
"RTN","PSSPRMIX",58,0)
 ..S PSSPRML3=PSSPRML1+PSSPRML2
"RTN","PSSPRMIX",59,0)
 ..W !?5,"Pharmacy Orderable Item: "_$G(PSSPRMAR(52.7,PSSPRMTP,9,"E"))
"RTN","PSSPRMIX",60,0)
 ..I PSSPRML3<47 W "  "_$G(PSSPRMDQ)
"RTN","PSSPRMIX",61,0)
 ..I PSSPRML3'<47 W !?30,$G(PSSPRMDQ)
"RTN","PSSPRMIX",62,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",63,0)
 ..W !?11,"Inactivation Date: "_$G(PSSPRMAR(52.7,PSSPRMTP,8,"E"))
"RTN","PSSPRMIX",64,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",65,0)
 ..W !,"Used in IV Fluid Order Entry: "_$G(PSSPRMAR(52.7,PSSPRMTP,17,"E"))
"RTN","PSSPRMIX",66,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",67,0)
 ..W !?22,"PreMix: "_$G(PSSPRMAR(52.7,PSSPRMTP,18,"E"))
"RTN","PSSPRMIX",68,0)
 ..I ($Y+5)>IOSL D HD Q:PSSPROUT
"RTN","PSSPRMIX",69,0)
 ;
"RTN","PSSPRMIX",70,0)
END ;End of report
"RTN","PSSPRMIX",71,0)
 I PSSPRTP="P",'$G(PSSPROUT),'$G(PSSPRMFD) W !!,"No IV Solutions marked as PreMixes found.",!
"RTN","PSSPRMIX",72,0)
 I $G(PSSPRMDV)="P" W !!,"End of Report.",!
"RTN","PSSPRMIX",73,0)
 K PSSPRTP
"RTN","PSSPRMIX",74,0)
 I '$G(PSSPROUT),$G(PSSPRMDV)="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSPRMIX",75,0)
 I $G(PSSPRMDV)="C" W !
"RTN","PSSPRMIX",76,0)
 E  W @IOF
"RTN","PSSPRMIX",77,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSPRMIX",78,0)
 Q
"RTN","PSSPRMIX",79,0)
 ;
"RTN","PSSPRMIX",80,0)
HD ;Report Header
"RTN","PSSPRMIX",81,0)
 I $G(PSSPRMDV)="C",$G(PSSPRMCT)'=1 W ! K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSPROUT=1 Q
"RTN","PSSPRMIX",82,0)
 W @IOF W !,$S(PSSPRTP="P":"Solution PreMix report for IV Solutions marked as PreMix",1:"Solution PreMix report for all IV Solutions"),?69,"Page: "_$G(PSSPRMCT),!,PSSPRMLN,! S PSSPRMCT=PSSPRMCT+1
"RTN","PSSPRMIX",83,0)
 Q
"RTN","PSSPRMIX",84,0)
 ;
"RTN","PSSPRMIX",85,0)
MESS ;
"RTN","PSSPRMIX",86,0)
 W !!,"No Action taken.",!
"RTN","PSSPRMIX",87,0)
 K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSPRMIX",88,0)
 Q
"RTN","PSSPRUTL")
0^15^B7521098^n/a
"RTN","PSSPRUTL",1,0)
PSSPRUTL ;BIR/RTR-Edit IV Solution ;04/19/08
"RTN","PSSPRUTL",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSPRUTL",3,0)
 ;
"RTN","PSSPRUTL",4,0)
 ;
"RTN","PSSPRUTL",5,0)
EDIT ;Edit IV Solution
"RTN","PSSPRUTL",6,0)
 N X,Y,DIR,DTOUT,DUOUT,DIRUT,DIROUT,DIC,DA,DR,DLAYGO,DIDEL,PSSEDSDA,PSSEDSXX,PSSEDSZZ,PSSEDSDR,PSSEDSGG,PSSEDSAR,DRUGEDIT
"RTN","PSSPRUTL",7,0)
 ;Newing D in next line because FileMan is leaving it defined to a zero node upon option exit
"RTN","PSSPRUTL",8,0)
 N %,%DT,D0,I,J,MSG,PSJCLEAR,PSPOINT,PSSIVID,SYNIEN,XX,PSSCROSS,D
"RTN","PSSPRUTL",9,0)
 I '$D(^XUSEC("PSJI MGR",DUZ)) W !!!,"Sorry, you need the 'PSJI MGR' key to access this option.",! D MESS Q
"RTN","PSSPRUTL",10,0)
 L +^PS(52.7):$S($G(DILOCKTM)>0:DILOCKTM,1:3)
"RTN","PSSPRUTL",11,0)
 I '$T W !!!,"Sorry, someone else is editing entries in the IV SOLUTIONS (#52.7) File.",! D MESS Q
"RTN","PSSPRUTL",12,0)
EDITM ;
"RTN","PSSPRUTL",13,0)
 K X,Y,DIR,DTOUT,DUOUT,DIRUT,DIROUT,DIC,DA,DR,DLAYGO,DIDEL,%,%DT,D0,I,J,MSG,PSJCLEAR,PSPOINT,PSSIVID,SYNIEN,XX,PSSCROSS,D
"RTN","PSSPRUTL",14,0)
 ;Setting DRUGEDIT in next line because cross reference on GENERIC DRUG #1 Field of IV SOLUTION (#52.7) File needs it defined
"RTN","PSSPRUTL",15,0)
 K PSSEDSDA,PSSEDSXX,PSSEDSZZ,PSSEDSDR,PSSEDSGG,PSSEDSAR S DRUGEDIT=1
"RTN","PSSPRUTL",16,0)
 W ! K DIC,X,DTOUT,DUOUT S DIC="^PS(52.7,",DIC(0)="AEQMZ" D ^DIC K DIC,X I Y<0!($D(DUOUT))!($D(DTOUT)) D UN Q
"RTN","PSSPRUTL",17,0)
 S PSSEDSDA=+Y,PSSEDSXX=$P($G(^PS(52.7,PSSEDSDA,0)),"^",11)
"RTN","PSSPRUTL",18,0)
 K DIE,DA,DR S DIE="^PS(52.7,",DA=PSSEDSDA,DR=".01;.02;1;D GETD^PSSPRUTL;2;8;17;18" D ^DIE K DIE,DA,DR
"RTN","PSSPRUTL",19,0)
 ;Change the Generic Drug could automatically change the Orderable Item of the IV Solution
"RTN","PSSPRUTL",20,0)
 ;Now doing what MSF^PSSDFEE does, updating Orderable Items, though cross reference on 52.,7,1 should have already done it
"RTN","PSSPRUTL",21,0)
 ;Just as a safeguard, we'll look to update all Orderable Items again, note that PSSEDSZZ and PSSEDSGG should never be different
"RTN","PSSPRUTL",22,0)
 S PSSEDSZZ=$P($G(^PS(52.7,PSSEDSDA,0)),"^",11),PSSEDSDR=$P($G(^PS(52.7,PSSEDSDA,0)),"^",2),PSSEDSGG=$P($G(^PSDRUG(+PSSEDSDR,2)),"^")
"RTN","PSSPRUTL",23,0)
 I PSSEDSZZ K PSSCROSS D EN^PSSPOIDT(PSSEDSZZ),EN2^PSSHL1(PSSEDSZZ,"MUP")
"RTN","PSSPRUTL",24,0)
 I PSSEDSGG,PSSEDSGG'=PSSEDSZZ K PSSCROSS D EN^PSSPOIDT(PSSEDSGG),EN2^PSSHL1(PSSEDSGG,"MUP")
"RTN","PSSPRUTL",25,0)
 ;I PSSEDSXX D EN^PSSPOIDT(PSSEDSXX),EN2^PSSHL1(PSSEDSXX,"MUP") S PSSEDSAR(PSSEDSXX)=""
"RTN","PSSPRUTL",26,0)
 ;I PSSEDSZZ,'$D(PSSEDSAR(PSSEDSZZ)) D EN^PSSPOIDT(PSSEDSZZ),EN2^PSSHL1(PSSEDSZZ,"MUP") S PSSEDSAR(PSSEDSZZ)=""
"RTN","PSSPRUTL",27,0)
 ;I PSSEDSGG,'$D(PSSEDSAR(PSSEDSGG)) D EN^PSSPOIDT(PSSEDSGG),EN2^PSSHL1(PSSEDSGG,"MUP") S PSSEDSAR(PSSEDSGG)=""
"RTN","PSSPRUTL",28,0)
 W ! G EDITM
"RTN","PSSPRUTL",29,0)
 ;D UN
"RTN","PSSPRUTL",30,0)
 Q
"RTN","PSSPRUTL",31,0)
UN ;Unlock File
"RTN","PSSPRUTL",32,0)
 L -^PS(52.7)
"RTN","PSSPRUTL",33,0)
 Q
"RTN","PSSPRUTL",34,0)
 ;
"RTN","PSSPRUTL",35,0)
GETD ;See if generic drug is inactive in file 50, code cloned from line tag GETD Of routine PSSVIDRG
"RTN","PSSPRUTL",36,0)
 I $D(^PSDRUG(X,"I")),^("I"),(DT+1>+^("I")) W $C(7),$C(7),!!,"This drug is inactive and will not be selectable during IV order entry.",! S $P(^PS(52.7,PSSEDSDA,"I"),"^")=$P(^PSDRUG(X,"I"),"^")
"RTN","PSSPRUTL",37,0)
 Q
"RTN","PSSPRUTL",38,0)
 ;
"RTN","PSSPRUTL",39,0)
MESS ;
"RTN","PSSPRUTL",40,0)
 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to Continue" D ^DIR K DIR
"RTN","PSSPRUTL",41,0)
 Q
"RTN","PSSSCHRP")
0^7^B65804563^n/a
"RTN","PSSSCHRP",1,0)
PSSSCHRP ;BIR/RTR-Schedule Report ;07/03/07
"RTN","PSSSCHRP",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/07;Build 67
"RTN","PSSSCHRP",3,0)
 ;Reference to DIC(42 supported by DBIA 10039
"RTN","PSSSCHRP",4,0)
 ;
"RTN","PSSSCHRP",5,0)
 ;
"RTN","PSSSCHRP",6,0)
EN ;Prompts for Administration File Schedule Report
"RTN","PSSSCHRP",7,0)
 W !!,"This report displays entries from the ADMINISTRATION SCHEDULE (#51.1) File."
"RTN","PSSSCHRP",8,0)
 W !,"It can be run for all Schedules, or only Schedules without a FREQUENCY"
"RTN","PSSSCHRP",9,0)
 W !,"(IN MINUTES). Only schedules with a PSJ Package Prefix will be displayed, since"
"RTN","PSSSCHRP",10,0)
 W !,"they are the only schedules the software will look at when deriving a FREQUENCY"
"RTN","PSSSCHRP",11,0)
 W !,"(IN MINUTES) for the daily dosage checks. If a FREQUENCY (IN MINUTES) cannot",!,"be determined for an order, the daily dosage check cannot occur for that order."
"RTN","PSSSCHRP",12,0)
 N DIR,PSSAFRP,PSSALONG,Y,X,DTOUT,DUOUT,DIRUT,DIROUT,IOP,%ZIS,POP,ZTRTN,ZTDESC,ZTSAVE,ZTSK
"RTN","PSSSCHRP",13,0)
 K DIR,Y S DIR(0)="SO^A:All Schedules;O:Only Schedules with a missing frequency",DIR("A")="Print All Schedules, or Only Schedules without a frequency",DIR("B")="A"
"RTN","PSSSCHRP",14,0)
 S DIR("?")=" ",DIR("?",1)=" ",DIR("?",2)="Enter 'A' to see all Administration Schedules, enter 'O' to see only",DIR("?",3)="those Administration Schedules without data in the FREQUENCY (IN MINUTES)"
"RTN","PSSSCHRP",15,0)
 S DIR("?",4)="(#2) Field. A FREQUENCY (IN MINUTES) must be derived from a Schedule",DIR("?",5)="for the daily dosage check to occur for an order."
"RTN","PSSSCHRP",16,0)
 W ! D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSSCHRP",17,0)
 I Y'="A",Y'="O" D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSSCHRP",18,0)
 S PSSAFRP=Y
"RTN","PSSSCHRP",19,0)
 K DIR,Y S DIR(0)="SO^80:80 Column;132:132 Column",DIR("A")="Print report in 80 or 132 column format",DIR("B")="80"
"RTN","PSSSCHRP",20,0)
 S DIR("?")=" ",DIR("?",1)="Enter 80 to print the report in an 80 column format,",DIR("?",2)="Enter 132 to print the report in an 132 column format."
"RTN","PSSSCHRP",21,0)
 W ! D ^DIR K DIR I $D(DUOUT)!($D(DTOUT)) D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSSCHRP",22,0)
 I Y'="80",Y'="132" D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSSCHRP",23,0)
 S PSSALONG=Y W !
"RTN","PSSSCHRP",24,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP)>0 D MESS K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR,IOP,%ZIS,POP Q
"RTN","PSSSCHRP",25,0)
 I $D(IO("Q")) S ZTRTN="START^PSSSCHRP",ZTDESC="Administration Schedule Report",ZTSAVE("PSSAFRP")="",ZTSAVE("PSSALONG")="" D ^%ZTLOAD K %ZIS W !!,"Report queued to print.",! K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSSCHRP",26,0)
 ;
"RTN","PSSSCHRP",27,0)
 ;
"RTN","PSSSCHRP",28,0)
START ;Print Administration Schedule File report
"RTN","PSSSCHRP",29,0)
 U IO
"RTN","PSSSCHRP",30,0)
 N PSSAFCT,PSSAFOUT,PSSAFDEV,PSSAFLIN,PSSAFQ,PSSAFQEN,PSSAFQS,PSSAFQL,PSSAFQQ,PSSAFQC,PSSAFAA,PSSAFAL,PSSWAS,PSSWASEN,PSSWASNM,PSSWASAD,PSSWASLL,PSSTPE
"RTN","PSSSCHRP",31,0)
 N PSSAFRA,PSSAFRAA,PSSAFROP,PSSAFQL,PSSAFROO,PSSAFRFL,PSSWASX,PSSAFZZZ,PSSAFABC,PSSAFNOF
"RTN","PSSSCHRP",32,0)
 S (PSSAFOUT,PSSAFNOF)=0,PSSAFDEV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSAFCT=1
"RTN","PSSSCHRP",33,0)
 K PSSAFLIN S:PSSALONG=132 $P(PSSAFLIN,"-",130)="" S:PSSALONG=80 $P(PSSAFLIN,"-",78)=""
"RTN","PSSSCHRP",34,0)
 D HD
"RTN","PSSSCHRP",35,0)
 S PSSAFQ="" F  S PSSAFQ=$O(^PS(51.1,"B",PSSAFQ)) Q:PSSAFQ=""!(PSSAFOUT)  D
"RTN","PSSSCHRP",36,0)
 .F PSSAFQEN=0:0 S PSSAFQEN=$O(^PS(51.1,"B",PSSAFQ,PSSAFQEN)) Q:'PSSAFQEN!(PSSAFOUT)  D
"RTN","PSSSCHRP",37,0)
 ..K PSSAFRA,PSSAFRAA,PSSAFROP,PSSAFQS,PSSAFROP,PSSAFROO,PSSAFQL,PSSWASX,PSSAFQC,PSSAFQQ
"RTN","PSSSCHRP",38,0)
 ..S PSSAFRA=PSSAFQEN_","
"RTN","PSSSCHRP",39,0)
 ..D GETS^DIQ(51.1,PSSAFRA,".01;1;2;4;8;8.1","E","PSSAFRAA")
"RTN","PSSSCHRP",40,0)
 ..I $G(PSSAFRAA(51.1,PSSAFRA,4,"E"))'="PSJ" Q
"RTN","PSSSCHRP",41,0)
 ..I PSSAFRP="O",$G(PSSAFRAA(51.1,PSSAFRA,2,"E")) Q
"RTN","PSSSCHRP",42,0)
 ..S PSSAFNOF=1
"RTN","PSSSCHRP",43,0)
 ..W !!,$G(PSSAFRAA(51.1,PSSAFRA,.01,"E"))
"RTN","PSSSCHRP",44,0)
 ..I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",45,0)
 ..S PSSAFQS=$G(PSSAFRAA(51.1,PSSAFRA,1,"E"))
"RTN","PSSSCHRP",46,0)
 ..W !?5,"STANDARD ADMINISTRATION TIMES: " D  K PSSAFAA Q:PSSAFOUT
"RTN","PSSSCHRP",47,0)
 ...Q:PSSAFQS=""
"RTN","PSSSCHRP",48,0)
 ...S PSSAFQL=$L(PSSAFQS)
"RTN","PSSSCHRP",49,0)
 ...I PSSALONG=132 D  Q
"RTN","PSSSCHRP",50,0)
 ....I PSSAFQL<96 D  Q
"RTN","PSSSCHRP",51,0)
 .....W PSSAFQS
"RTN","PSSSCHRP",52,0)
 .....I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",53,0)
 ....K PSSAFAA D FORMAT(PSSAFQS,96)
"RTN","PSSSCHRP",54,0)
 ....S PSSAFRFL=0 F PSSAFAL=0:0 S PSSAFAL=$O(PSSAFAA(PSSAFAL)) Q:'PSSAFAL!(PSSAFOUT)  D
"RTN","PSSSCHRP",55,0)
 .....W:'PSSAFRFL ?36,$G(PSSAFAA(PSSAFAL)) W:PSSAFRFL !?36,$G(PSSAFAA(PSSAFAL)) S PSSAFRFL=1
"RTN","PSSSCHRP",56,0)
 .....I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",57,0)
 ...I PSSAFQL<44 D  Q
"RTN","PSSSCHRP",58,0)
 ....W PSSAFQS
"RTN","PSSSCHRP",59,0)
 ....I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",60,0)
 ...K PSSAFAA D FORMAT(PSSAFQS,44)
"RTN","PSSSCHRP",61,0)
 ...S PSSAFRFL=0 F PSSAFAL=0:0 S PSSAFAL=$O(PSSAFAA(PSSAFAL)) Q:'PSSAFAL!(PSSAFOUT)  D
"RTN","PSSSCHRP",62,0)
 ....W:'PSSAFRFL ?36,$G(PSSAFAA(PSSAFAL)) W:PSSAFRFL !?36,$G(PSSAFAA(PSSAFAL)) S PSSAFRFL=1
"RTN","PSSSCHRP",63,0)
 ....I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",64,0)
 ..I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",65,0)
 ..W !?14,"OUTPATIENT EXPANSION: " D
"RTN","PSSSCHRP",66,0)
 ...S PSSAFROP=$G(PSSAFRAA(51.1,PSSAFRA,8,"E"))
"RTN","PSSSCHRP",67,0)
 ...I PSSALONG=132 D  Q
"RTN","PSSSCHRP",68,0)
 ....I $L(PSSAFROP)<96 W PSSAFROP,! Q
"RTN","PSSSCHRP",69,0)
 ....N X,DIWL,DIWR,DIWF S X=PSSAFROP,DIWL=37,DIWR=131,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSSCHRP",70,0)
 ...I $L(PSSAFROP)<44 W PSSAFROP,! Q
"RTN","PSSSCHRP",71,0)
 ...N X,DIWL,DIWR,DIWF S X=PSSAFROP,DIWL=37,DIWR=79,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSSCHRP",72,0)
 ..I ($Y+5)>IOSL D HD Q:PSSAFOUT  W !
"RTN","PSSSCHRP",73,0)
 ..W ?10,"OTHER LANGUAGE EXPANSION: " D
"RTN","PSSSCHRP",74,0)
 ...S PSSAFROO=$G(PSSAFRAA(51.1,PSSAFRA,8.1,"E"))
"RTN","PSSSCHRP",75,0)
 ...I PSSALONG=132 D  Q
"RTN","PSSSCHRP",76,0)
 ....I $L(PSSAFROO)<96 W PSSAFROO,! Q
"RTN","PSSSCHRP",77,0)
 ....N X,DIWL,DIWR,DIWF S X=PSSAFROO,DIWL=37,DIWR=131,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSSCHRP",78,0)
 ...I $L(PSSAFROO)<44 W PSSAFROO,! Q
"RTN","PSSSCHRP",79,0)
 ...N X,DIWL,DIWR,DIWF S X=PSSAFROO,DIWL=37,DIWR=79,DIWF="W" K ^UTILITY($J,"W") D ^DIWP D ^DIWW K ^UTILITY($J,"W")
"RTN","PSSSCHRP",80,0)
 ..;Set PSSAFZZZ=0 if last write had a line feed, PSSAFZZZ=1 if last write did not have a line feed, to use for Schedule Type
"RTN","PSSSCHRP",81,0)
 ..S PSSAFZZZ=0 I ($Y+5)>IOSL D HD S PSSAFZZZ=0 Q:PSSAFOUT
"RTN","PSSSCHRP",82,0)
 ..S PSSAFRFL=0 F PSSWAS=0:0 S PSSWAS=$O(^PS(51.1,PSSAFQEN,1,PSSWAS)) Q:'PSSWAS!(PSSAFOUT)  D
"RTN","PSSSCHRP",83,0)
 ...S PSSWASEN=$P($G(^PS(51.1,PSSAFQEN,1,PSSWAS,0)),"^") Q:'PSSWASEN
"RTN","PSSSCHRP",84,0)
 ...S PSSWASX=PSSWAS_","_PSSAFQEN_"," S PSSWASNM=$$GET1^DIQ(51.11,PSSWASX,".01") Q:PSSWASNM=""
"RTN","PSSSCHRP",85,0)
 ...;PSSARFRL=0 if last Write ended in Line Feed, =1 if Last Write dod not end in line feed, for writing Wards
"RTN","PSSSCHRP",86,0)
 ...W:'PSSAFRFL ?30,"WARD: "_PSSWASNM W:PSSAFRFL !?30,"WARD: "_PSSWASNM S (PSSAFZZZ,PSSAFRFL)=1
"RTN","PSSSCHRP",87,0)
 ...I ($Y+5)>IOSL D HD S (PSSAFZZZ,PSSAFRFL)=0 Q:PSSAFOUT
"RTN","PSSSCHRP",88,0)
 ...W !?9,"WARD ADMINISTRATION TIMES: " S (PSSAFZZZ,PSSAFRFL)=1
"RTN","PSSSCHRP",89,0)
 ...S PSSWASAD=$P($G(^PS(51.1,PSSAFQEN,1,PSSWAS,0)),"^",2)
"RTN","PSSSCHRP",90,0)
 ...Q:PSSWASAD=""
"RTN","PSSSCHRP",91,0)
 ...S (PSSWASLL,PSSAFQL)=$L(PSSWASAD)
"RTN","PSSSCHRP",92,0)
 ...I PSSALONG=132 D  Q
"RTN","PSSSCHRP",93,0)
 ....I PSSWASLL<96 D  Q
"RTN","PSSSCHRP",94,0)
 .....W PSSWASAD S (PSSAFZZZ,PSSAFRFL)=1
"RTN","PSSSCHRP",95,0)
 .....I ($Y+5)>IOSL D HD S (PSSAFZZZ,PSSAFRFL)=0 Q:PSSAFOUT
"RTN","PSSSCHRP",96,0)
 ....K PSSAFAA D FORMAT(PSSWASAD,96)
"RTN","PSSSCHRP",97,0)
 ....S PSSAFABC=0 F PSSAFAL=0:0 S PSSAFAL=$O(PSSAFAA(PSSAFAL)) Q:'PSSAFAL!(PSSAFOUT)  D
"RTN","PSSSCHRP",98,0)
 .....W:'PSSAFABC ?36,$G(PSSAFAA(PSSAFAL)) W:PSSAFABC !?36,$G(PSSAFAA(PSSAFAL)) S PSSAFABC=1 S (PSSAFZZZ,PSSAFRFL)=1
"RTN","PSSSCHRP",99,0)
 .....I ($Y+5)>IOSL D HD S (PSSAFZZZ,PSSAFRFL)=0 Q:PSSAFOUT
"RTN","PSSSCHRP",100,0)
 ...I PSSWASLL<37 D  Q
"RTN","PSSSCHRP",101,0)
 ....W PSSWASAD S (PSSAFZZZ,PSSAFRFL)=1
"RTN","PSSSCHRP",102,0)
 ....I ($Y+5)>IOSL D HD S (PSSAFZZZ,PSSAFRFL)=0 Q:PSSAFOUT
"RTN","PSSSCHRP",103,0)
 ...K PSSAFAA D FORMAT(PSSWASAD,44)
"RTN","PSSSCHRP",104,0)
 ...S PSSAFABC=0 F PSSAFAL=0:0 S PSSAFAL=$O(PSSAFAA(PSSAFAL)) Q:'PSSAFAL!(PSSAFOUT)  D
"RTN","PSSSCHRP",105,0)
 ....W:'PSSAFABC ?36,$G(PSSAFAA(PSSAFAL)) W:PSSAFABC !?36,$G(PSSAFAA(PSSAFAL)) S PSSAFABC=1 S (PSSAFZZZ,PSSAFRFL)=1
"RTN","PSSSCHRP",106,0)
 ....I ($Y+5)>IOSL D HD S (PSSAFZZZ,PSSAFRFL)=0 Q:PSSAFOUT
"RTN","PSSSCHRP",107,0)
 ..Q:PSSAFOUT
"RTN","PSSSCHRP",108,0)
 ..K PSSAFAA
"RTN","PSSSCHRP",109,0)
 ..I ($Y+5)>IOSL D HD S (PSSAFZZZ,PSSAFRFL)=0 Q:PSSAFOUT
"RTN","PSSSCHRP",110,0)
 ..K PSSTPE S PSSTPE=$$GET1^DIQ(51.1,PSSAFQEN_",",5)
"RTN","PSSSCHRP",111,0)
 ..W:'PSSAFZZZ ?21,"SCHEDULE TYPE: "_$G(PSSTPE) W:PSSAFZZZ !?21,"SCHEDULE TYPE: "_$G(PSSTPE)
"RTN","PSSSCHRP",112,0)
 ..I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",113,0)
 ..W !?12,"FREQUENCY (IN MINUTES): "_$G(PSSAFRAA(51.1,PSSAFRA,2,"E"))
"RTN","PSSSCHRP",114,0)
 ..I ($Y+5)>IOSL D HD Q:PSSAFOUT
"RTN","PSSSCHRP",115,0)
 ;
"RTN","PSSSCHRP",116,0)
END ;
"RTN","PSSSCHRP",117,0)
 I '$G(PSSAFOUT),PSSAFRP="O",'$G(PSSAFNOF) W !!,"No schedules found without frequencies.",!
"RTN","PSSSCHRP",118,0)
 I $G(PSSAFDEV)="P"  W !!,"End of Report.",!
"RTN","PSSSCHRP",119,0)
 I '$G(PSSAFOUT),$G(PSSAFDEV)="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSSCHRP",120,0)
 I $G(PSSAFDEV)="C" W !
"RTN","PSSSCHRP",121,0)
 E  W @IOF
"RTN","PSSSCHRP",122,0)
 K PSSAFRP,PSSALONG
"RTN","PSSSCHRP",123,0)
 D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSSCHRP",124,0)
 Q
"RTN","PSSSCHRP",125,0)
 ;
"RTN","PSSSCHRP",126,0)
 ;
"RTN","PSSSCHRP",127,0)
HD ;Report Header
"RTN","PSSSCHRP",128,0)
 I $G(PSSAFDEV)="C",$G(PSSAFCT)'=1 W ! K DIR,Y S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSAFOUT=1 Q
"RTN","PSSSCHRP",129,0)
 W @IOF
"RTN","PSSSCHRP",130,0)
 I PSSAFRP="A" W !,"ADMINISTRATION SCHEDULE FILE REPORT (All)"
"RTN","PSSSCHRP",131,0)
 I PSSAFRP="O" W !,"ADMINISTRATION SCHEDULE WITHOUT FREQUENCY REPORT"
"RTN","PSSSCHRP",132,0)
 W ?$S(PSSALONG=80:68,1:120),"PAGE: "_PSSAFCT,!,PSSAFLIN,! S PSSAFCT=PSSAFCT+1
"RTN","PSSSCHRP",133,0)
 Q
"RTN","PSSSCHRP",134,0)
 ;
"RTN","PSSSCHRP",135,0)
 ;
"RTN","PSSSCHRP",136,0)
MESS ;
"RTN","PSSSCHRP",137,0)
 W !!,"Nothing queued to print.",!
"RTN","PSSSCHRP",138,0)
 Q
"RTN","PSSSCHRP",139,0)
 ;
"RTN","PSSSCHRP",140,0)
 ;
"RTN","PSSSCHRP",141,0)
FORMAT(PSSAFQC,PSSAFQQ) ;Format print arrays, breaking on the "-" character
"RTN","PSSSCHRP",142,0)
 ;PSSAFQC = Administration Times text
"RTN","PSSSCHRP",143,0)
 ;PSSAFQQ = Character at which to break
"RTN","PSSSCHRP",144,0)
 N PSSAFAC,PSSAFAB,PSSAFAZ,PSSAFAD,PSSAFAF,PSSAFAX
"RTN","PSSSCHRP",145,0)
 S PSSAFAC=1,PSSAFAZ=0 K PSSAFAB
"RTN","PSSSCHRP",146,0)
 F PSSAFAD=1:1:PSSAFQL I $E(PSSAFQC,PSSAFAD)="-" S PSSAFAB(PSSAFAC)=$P(PSSAFQC,"-",PSSAFAC)_"-" S PSSAFAC=PSSAFAC+1,PSSAFAZ=PSSAFAD+1
"RTN","PSSSCHRP",147,0)
 I PSSAFAZ<PSSAFAD S:PSSAFAZ=0 PSSAFAZ=1 S PSSAFAB(PSSAFAC)=$E(PSSAFQC,PSSAFAZ,PSSAFQL) S PSSAFAC=PSSAFAC+1
"RTN","PSSSCHRP",148,0)
 S PSSAFAF=1
"RTN","PSSSCHRP",149,0)
 F PSSAFAX=1:1:PSSAFAC D
"RTN","PSSSCHRP",150,0)
 .Q:'$D(PSSAFAB(PSSAFAX))
"RTN","PSSSCHRP",151,0)
 .I '$D(PSSAFAA(PSSAFAF)) S PSSAFAA(PSSAFAF)=PSSAFAB(PSSAFAX) Q
"RTN","PSSSCHRP",152,0)
 .I $L(PSSAFAA(PSSAFAF))+$L(PSSAFAB(PSSAFAX))<PSSAFQQ S PSSAFAA(PSSAFAF)=PSSAFAA(PSSAFAF)_PSSAFAB(PSSAFAX) Q
"RTN","PSSSCHRP",153,0)
 .S PSSAFAF=PSSAFAF+1 S PSSAFAA(PSSAFAF)=PSSAFAB(PSSAFAX)
"RTN","PSSSCHRP",154,0)
 Q
"RTN","PSSTRENG")
0^3^B51868565^n/a
"RTN","PSSTRENG",1,0)
PSSTRENG ;BIR/RTR-Mismatch Strength Report ;06/28/07
"RTN","PSSTRENG",2,0)
 ;;1.0;PHARMACY DATA MANAGEMENT;**129**;9/30/97;Build 67
"RTN","PSSTRENG",3,0)
 ;Reference to ^PS(50.607 supported by DBIA 2221
"RTN","PSSTRENG",4,0)
EN ;
"RTN","PSSTRENG",5,0)
DEV ;
"RTN","PSSTRENG",6,0)
 N IOP,%ZIS,POP,ZTRTN,ZTDESC,ZTSK,DUOUT,DTOUT,DIRUT,DIROUT,X,Y,DIR
"RTN","PSSTRENG",7,0)
 W !!,"This report will print Dosage information for all entries in the DRUG (#50)",!,"File that have a different Strength than what is in the VA PRODUCT (#50.68)"
"RTN","PSSTRENG",8,0)
 W !,"File match. If these drugs have Local Possible Dosages, you need to be careful",!,"when populating the new Dose Unit and Numeric Dose fields to be used for Dosage"
"RTN","PSSTRENG",9,0)
 W !,"checks, because the Dosage check will be based on the VA Product. This report",!,"can only identify Strength mismatches if the Drug qualifies for Possible"
"RTN","PSSTRENG",10,0)
 W !,"Dosages, and a Strength has been defined in the DRUG (#50) File.",!
"RTN","PSSTRENG",11,0)
 W !?3,"This report is designed for 132 column format!",!
"RTN","PSSTRENG",12,0)
 K IOP,%ZIS,POP S %ZIS="QM" D ^%ZIS I $G(POP)>0 K IOP,%ZIS,POP W !!,"Nothing queued to print.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSTRENG",13,0)
 I $D(IO("Q")) S ZTRTN="START^PSSTRENG",ZTDESC="Mismatch Strength Report" D ^%ZTLOAD K %ZIS W !!,"Report queued to print.",! K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR Q
"RTN","PSSTRENG",14,0)
START ;
"RTN","PSSTRENG",15,0)
 U IO
"RTN","PSSTRENG",16,0)
 N PSSLINE,PSSYEAR,X,X1,X2,PSSOUT,PSSNAME,PSSCT,PSSIEN,PSSA,PSSB,PSSC,PSSD,PSSDV,PSSE,PSSINA,PSSINAD,PSSSTND1,PSSSTND3,PSSSTNDS,PSSSTNDZ
"RTN","PSSTRENG",17,0)
 N PSSNF,PSSUNIT,PSSAPU,PSSNODE,PSSMSG,PSSSTR,PSSNWD,PSSNWDN,PSSFOUND,Y,PSSMSXXX,PSSNWDS,PSSNWDSS
"RTN","PSSTRENG",18,0)
 S X1=DT,X2=-365 D C^%DTC S PSSYEAR=$G(X) K X,X1,X2
"RTN","PSSTRENG",19,0)
 S (PSSOUT,PSSFOUND)=0,PSSDV=$S($E(IOST,1,2)'="C-":"P",1:"C"),PSSCT=1
"RTN","PSSTRENG",20,0)
 K PSSLINE S $P(PSSLINE,"-",130)=""
"RTN","PSSTRENG",21,0)
 D HD
"RTN","PSSTRENG",22,0)
PASS ;
"RTN","PSSTRENG",23,0)
 S PSSNAME="" F  S PSSNAME=$O(^PSDRUG("B",PSSNAME)) Q:PSSNAME=""!($G(PSSOUT))  D
"RTN","PSSTRENG",24,0)
 .F PSSIEN=0:0 S PSSIEN=$O(^PSDRUG("B",PSSNAME,PSSIEN)) Q:'PSSIEN!($G(PSSOUT))  D
"RTN","PSSTRENG",25,0)
 ..Q:'$D(^PSDRUG(PSSIEN,0))
"RTN","PSSTRENG",26,0)
 ..K PSSINA,PSSNF,PSSINAD,PSSUNIT,PSSAPU,PSSNODE,PSSMSG,PSSMSXXX,PSSSTNDS,PSSSTNDZ,PSSSTND1,PSSSTND3,PSSSTR S PSSNF=$S($P($G(^PSDRUG(PSSIEN,0)),"^",9):1,1:0),PSSINA=$P($G(^PSDRUG(PSSIEN,"I")),"^"),PSSNODE=$G(^PSDRUG(PSSIEN,"DOS"))
"RTN","PSSTRENG",27,0)
 ..;Quit if no Strength in File 50
"RTN","PSSTRENG",28,0)
 ..S (PSSMSXXX,PSSSTR)=$P(PSSNODE,"^") S PSSMSXXX=$S($E(PSSMSXXX,1)=".":"0"_PSSMSXXX,1:PSSMSXXX)
"RTN","PSSTRENG",29,0)
 ..I PSSMSXXX="" Q
"RTN","PSSTRENG",30,0)
 ..S PSSSTND1=$P($G(^PSDRUG(PSSIEN,"ND")),"^"),PSSSTND3=$P($G(^("ND")),"^",3)
"RTN","PSSTRENG",31,0)
 ..I 'PSSSTND3!('PSSSTND1) Q
"RTN","PSSTRENG",32,0)
 ..S PSSSTNDZ=$$PROD0^PSNAPIS(+PSSSTND1,+PSSSTND3) S PSSSTNDS=$P(PSSSTNDZ,"^",3) S PSSSTNDS=$S($E(PSSSTNDS,1)=".":"0"_PSSSTNDS,1:PSSSTNDS)
"RTN","PSSTRENG",33,0)
 ..I $G(PSSSTNDS)="" Q
"RTN","PSSTRENG",34,0)
 ..I PSSSTNDS=PSSMSXXX Q
"RTN","PSSTRENG",35,0)
 ..;PSS*1*78 Aadding the Space for Dosages, - Depending on work group decision, you may need to chane this!
"RTN","PSSTRENG",36,0)
 ..S PSSFOUND=1
"RTN","PSSTRENG",37,0)
 ..S PSSMSG=$P($G(^PSDRUG(PSSIEN,0)),"^",10)
"RTN","PSSTRENG",38,0)
 ..S PSSAPU=$P($G(^PSDRUG(PSSIEN,2)),"^",3)
"RTN","PSSTRENG",39,0)
 ..I $G(PSSINA) S PSSINAD=$E(PSSINA,4,5)_"/"_$E(PSSINA,6,7)_"/"_$E(PSSINA,2,3)
"RTN","PSSTRENG",40,0)
 ..I $P(PSSNODE,"^",2) S PSSUNIT=$P($G(^PS(50.607,+$P(PSSNODE,"^",2),0)),"^")
"RTN","PSSTRENG",41,0)
 ..;S PSSSTR=PSSMSXXX
"RTN","PSSTRENG",42,0)
 ..W !!!,"("_$G(PSSIEN)_")",?19,$G(PSSNAME)_$S($G(PSSNF):"    *N/F*",1:"") W ?72,"Inactive Date: "_$G(PSSINAD)
"RTN","PSSTRENG",43,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",44,0)
 ..I $G(PSSMSG)'="" W !?12,$G(PSSMSG)
"RTN","PSSTRENG",45,0)
 ..;I '$O(^PSDRUG(PSSIEN,"DOS1",0)),'$O(^PSDRUG(PSSIEN,"DOS2",0)) Q
"RTN","PSSTRENG",46,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",47,0)
 ..W !?12,"Strength: "_$G(PSSMSXXX) W ?43,"Units: " I $G(PSSUNIT)'="" W $G(PSSUNIT)
"RTN","PSSTRENG",48,0)
 ..I $G(PSSUNIT)'="",$L(PSSUNIT)>15 W !
"RTN","PSSTRENG",49,0)
 ..W ?66,"Application Package: "_$G(PSSAPU)
"RTN","PSSTRENG",50,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",51,0)
 ..S PSSA=0 K PSSC,PSSD,PSSE W !?4,"Possible Dosages: " D
"RTN","PSSTRENG",52,0)
 ...F PSSB=0:0 S PSSB=$O(^PSDRUG(PSSIEN,"DOS1",PSSB)) Q:'PSSB!($G(PSSOUT))  S PSSC=$P($G(^(PSSB,0)),"^"),PSSD=$P($G(^(0)),"^",2),PSSE=$P($G(^(0)),"^",3) I $G(PSSC),$G(PSSD) S PSSA=1 D
"RTN","PSSTRENG",53,0)
 ....I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",54,0)
 ....W !?3,"Dispense Units Per Dose: "_$S($E($G(PSSC),1)=".":"0",1:"")_$G(PSSC),?44,"Dose: " D
"RTN","PSSTRENG",55,0)
 .....I $G(PSSUNIT)'["/" W $S($E($G(PSSD),1)=".":"0",1:"")_$G(PSSD)_$G(PSSUNIT) W ?78,"Package: "_$G(PSSE) D OUT Q
"RTN","PSSTRENG",56,0)
 .....D SETD D ZERO W $G(PSSCALC),?78,"Package: "_$G(PSSE) D OUT
"RTN","PSSTRENG",57,0)
 ..Q:$G(PSSOUT)
"RTN","PSSTRENG",58,0)
 ..I 'PSSA W "(None)"
"RTN","PSSTRENG",59,0)
 ..S PSSA=0 W !?4,"Local Possible Dosages: " F PSSB=0:0 S PSSB=$O(^PSDRUG(PSSIEN,"DOS2",PSSB)) Q:'PSSB!($G(PSSOUT))  D
"RTN","PSSTRENG",60,0)
 ...I $P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^")'="" S PSSA=1 D
"RTN","PSSTRENG",61,0)
 ....I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",62,0)
 ....K PSSNWD,PSSNWDN,PSSNWDS,PSSNWDSS
"RTN","PSSTRENG",63,0)
 ....S PSSNWD=$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^",5) I PSSNWD S PSSNWDN=$P($G(^PS(51.24,+$G(PSSNWD),0)),"^")
"RTN","PSSTRENG",64,0)
 ....W !?6,$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^")
"RTN","PSSTRENG",65,0)
 ....I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",66,0)
 ....S PSSNWDS=$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^",6) S PSSNWDSS=$S($E(PSSNWDS,1)=".":"0"_$G(PSSNWDS),1:$G(PSSNWDS))
"RTN","PSSTRENG",67,0)
 ....W !?6,"Numeric Dose: "_$G(PSSNWDSS),?46,"Dose Unit: "_$G(PSSNWDN),?92,"Package: ",$P($G(^PSDRUG(PSSIEN,"DOS2",PSSB,0)),"^",2)
"RTN","PSSTRENG",68,0)
 ....I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",69,0)
 ..Q:$G(PSSOUT)  I 'PSSA W "(None)"
"RTN","PSSTRENG",70,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",71,0)
 ..W !?3,"Note: Strength of "_PSSMSXXX_" does not match NDF strength of "_PSSSTNDS_"."
"RTN","PSSTRENG",72,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",73,0)
 ..W !?3,"VA PRODUCT MATCH: "_$P(PSSSTNDZ,"^")
"RTN","PSSTRENG",74,0)
 ..I ($Y+5)>IOSL D HD Q:$G(PSSOUT)
"RTN","PSSTRENG",75,0)
END ;
"RTN","PSSTRENG",76,0)
 I '$G(PSSOUT),'PSSFOUND W !,"No mismatches found."
"RTN","PSSTRENG",77,0)
 I $G(PSSDV)="P" W !!,"End of Report.",!
"RTN","PSSTRENG",78,0)
 I '$G(PSSOUT),$G(PSSDV)="C" W !!,"End of Report." K DIR S DIR(0)="E",DIR("A")="Press Return to continue" D ^DIR K DIR
"RTN","PSSTRENG",79,0)
 I $G(PSSDV)="C" W !
"RTN","PSSTRENG",80,0)
 E  W @IOF
"RTN","PSSTRENG",81,0)
ENDX K PSSCALC,PSSDFOI,PSSDFOIN,PSSDF,PSSDZZ D ^%ZISC S:$D(ZTQUEUED) ZTREQ="@"
"RTN","PSSTRENG",82,0)
 Q
"RTN","PSSTRENG",83,0)
HD ;
"RTN","PSSTRENG",84,0)
 I $G(PSSDV)="C",$G(PSSCT)'=1 W ! K DIR S DIR(0)="E",DIR("A")="Press Return to continue, '^' to exit" D ^DIR K DIR I 'Y S PSSOUT=1 Q
"RTN","PSSTRENG",85,0)
 W @IOF
"RTN","PSSTRENG",86,0)
 W !,"Mismatched Strength Report",?119,"PAGE: "_$G(PSSCT),!,PSSLINE S PSSCT=PSSCT+1
"RTN","PSSTRENG",87,0)
 Q
"RTN","PSSTRENG",88,0)
SETD ;
"RTN","PSSTRENG",89,0)
 N PSSVA,PSSVA1,PSSVB,PSSVB1,PSSDASH,PSSNDFS,PSSDASH2,PSSDASH3,PSSDASH4,PSSDASH5 K PSSCALC
"RTN","PSSTRENG",90,0)
 S PSSDASH=0 S PSSNDFS=$$PSJST^PSNAPIS(+$P($G(^PSDRUG(PSSIEN,"ND")),"^"),+$P($G(^PSDRUG(PSSIEN,"ND")),"^",3)) S PSSNDFS=+$P($G(PSSNDFS),"^",2) I $G(PSSNDFS),$G(PSSSTR),+$G(PSSSTR)'=+$G(PSSNDFS) S PSSDASH=1
"RTN","PSSTRENG",91,0)
 S PSSVA=$P(PSSUNIT,"/"),PSSVB=$P(PSSUNIT,"/",2),PSSVA1=+$G(PSSVA),PSSVB1=+$G(PSSVB)
"RTN","PSSTRENG",92,0)
 I $G(PSSDASH) S PSSDASH2=PSSSTR/PSSNDFS,PSSDASH3=PSSDASH2*PSSC S PSSDASH4=PSSDASH3*$S($G(PSSVB1):PSSVB1,1:1) S PSSDASH5=$S('$G(PSSVB1):PSSDASH4_$G(PSSVB),1:PSSDASH4_$P(PSSVB,PSSVB1,2))
"RTN","PSSTRENG",93,0)
 S PSSCALC=$S('$G(PSSVA1):PSSD,1:($G(PSSVA1)*PSSD))_$S($G(PSSVA1):$P(PSSVA,PSSVA1,2),1:PSSVA)_"/"_$S($G(PSSDASH):$G(PSSDASH5),'$G(PSSVB1):+$G(PSSC)_$G(PSSVB),1:(+$G(PSSC)*+PSSVB1)_$P(PSSVB,PSSVB1,2))
"RTN","PSSTRENG",94,0)
 Q
"RTN","PSSTRENG",95,0)
OUT ;
"RTN","PSSTRENG",96,0)
 K PSSDFOI,PSSDFOIN,PSSDF,PSSDZZ
"RTN","PSSTRENG",97,0)
 Q:$G(PSSE)'["O"
"RTN","PSSTRENG",98,0)
 S PSSDFOI=$P($G(^PSDRUG(PSSIEN,2)),"^") Q:'PSSDFOI
"RTN","PSSTRENG",99,0)
 S PSSDF=$P($G(^PS(50.7,+PSSDFOI,0)),"^",2)
"RTN","PSSTRENG",100,0)
 S PSSDFOIN=$P($G(^PS(50.606,+$G(PSSDF),0)),"^")
"RTN","PSSTRENG",101,0)
 Q:'PSSDF
"RTN","PSSTRENG",102,0)
 K PSSDZ F PSSDZZ=0:0 S PSSDZZ=$O(^PS(50.606,PSSDF,"NOUN",PSSDZZ)) Q:'PSSDZZ!($G(PSSDZ)'="")  I $P($G(^(PSSDZZ,0)),"^")'="" S PSSDZ=$P($G(^(0)),"^")
"RTN","PSSTRENG",103,0)
 I $G(PSSDZ)="" S PSSDZ=$G(PSSDFOIN)
"RTN","PSSTRENG",104,0)
 I $G(PSSC) D PARN
"RTN","PSSTRENG",105,0)
 W ?94,$S($E($G(PSSC),1)=".":"0",1:"")_$G(PSSC)_" "_$S($G(PSSDZN)'="":$G(PSSDZN),1:$G(PSSDZ))
"RTN","PSSTRENG",106,0)
 K PSSDFOI,PSSDF,PSSDZ,PSSDZZ,PSSDZN,PSSDZNX,PSSDFOIN
"RTN","PSSTRENG",107,0)
 Q
"RTN","PSSTRENG",108,0)
PARN ;
"RTN","PSSTRENG",109,0)
 K PSSDZN,PSSDZNX
"RTN","PSSTRENG",110,0)
 Q:$G(PSSDZ)=""
"RTN","PSSTRENG",111,0)
 Q:$L(PSSDZ)'>3
"RTN","PSSTRENG",112,0)
 S PSSDZNX=$E(PSSDZ,($L(PSSDZ)-2),$L(PSSDZ))
"RTN","PSSTRENG",113,0)
 I $G(PSSDZNX)="(S)"!($G(PSSDZNX)="(s)") D
"RTN","PSSTRENG",114,0)
 .I $G(PSSC)'>1 S PSSDZN=$E(PSSDZ,1,($L(PSSDZ)-3))
"RTN","PSSTRENG",115,0)
 .I $G(PSSC)>1 S PSSDZN=$E(PSSDZ,1,($L(PSSDZ)-3))_$E(PSSDZNX,2)
"RTN","PSSTRENG",116,0)
 Q
"RTN","PSSTRENG",117,0)
ZERO ;Leading zeros
"RTN","PSSTRENG",118,0)
 I $E($G(PSSCALC),1)="." S PSSCALC="0"_$G(PSSCALC)
"RTN","PSSTRENG",119,0)
 N PSSLEZ,PSSLEZ1,PSSLEZD
"RTN","PSSTRENG",120,0)
 I $G(PSSCALC)["/." S PSSLEZD=$G(PSSCALC) D
"RTN","PSSTRENG",121,0)
 .S PSSLEZ=$P(PSSLEZD,"/."),PSSLEZ1=$P(PSSLEZD,"/.",2)
"RTN","PSSTRENG",122,0)
 .S PSSCALC=$G(PSSLEZ)_"/0."_$G(PSSLEZ1)
"RTN","PSSTRENG",123,0)
 Q
"SEC","^DIC",51.23,51.23,0,"AUDIT")
@
"SEC","^DIC",51.23,51.23,0,"DD")
@
"SEC","^DIC",51.23,51.23,0,"DEL")
@
"SEC","^DIC",51.23,51.23,0,"LAYGO")
@
"SEC","^DIC",51.23,51.23,0,"RD")
Pp
"SEC","^DIC",51.23,51.23,0,"WR")
@
"SEC","^DIC",51.24,51.24,0,"AUDIT")
@
"SEC","^DIC",51.24,51.24,0,"DD")
@
"SEC","^DIC",51.24,51.24,0,"DEL")
@
"SEC","^DIC",51.24,51.24,0,"LAYGO")
@
"SEC","^DIC",51.24,51.24,0,"RD")
Pp
"SEC","^DIC",51.24,51.24,0,"WR")
@
"TEMP","PSSVJDD",1)
1
"TEMP","PSSVJDD",2)
0
"TEMP","PSSVJDD",3)
0
"TEMP","PSSVJDD",4)
0
"TEMP","PSSVJDD",5)
1
"TEMP","PSSVJDD",6)
1
"TEMP","PSSVJDD",7)
1
"TEMP","PSSVJDD",8)
1
"TEMP","PSSVJDD",9)
1
"TEMP","PSSVJDD",10)
1
"TEMP","PSSVJDD",11)
1
"TEMP","PSSVJDD",12)
0
"TEMP","PSSVJDD",13)
0
"TEMP","PSSVJDD",14)
0
"TEMP","PSSVJDD",15)
1
"TEMP","PSSVJDD",16)
1
"TEMP","PSSVJDD",17)
1
"TEMP","PSSVJDD",18)
1
"TEMP","PSSVJDD",19)
1
"TEMP","PSSVJDD",20)
0
"TEMP","PSSVJDD",21)
0
"TEMP","PSSVJDD",22)
0
"TEMP","PSSVJDD",23)
0
"TEMP","PSSVJDD",24)
0
"TEMP","PSSVJDD",25)
0
"TEMP","PSSVJDD",26)
0
"TEMP","PSSVJDD",27)
0
"TEMP","PSSVJDD",28)
0
"TEMP","PSSVJDD",29)
1
"TEMP","PSSVJDD",30)
1
"TEMP","PSSVJDD",31)
1
"TEMP","PSSVJDD",32)
1
"TEMP","PSSVJDD",33)
1
"TEMP","PSSVJDD",34)
1
"TEMP","PSSVJDD",35)
0
"TEMP","PSSVJDD",36)
1
"TEMP","PSSVJDD",37)
0
"TEMP","PSSVJDD",38)
1
"TEMP","PSSVJDD",39)
1
"TEMP","PSSVJDD",40)
1
"TEMP","PSSVJDD",41)
1
"TEMP","PSSVJDD",42)
1
"TEMP","PSSVJDD",43)
1
"TEMP","PSSVJDD",44)
0
"TEMP","PSSVJDD",45)
1
"TEMP","PSSVJDD",46)
0
"TEMP","PSSVJDD",47)
0
"TEMP","PSSVJDD",48)
1
"TEMP","PSSVJDD",49)
1
"TEMP","PSSVJDD",50)
0
"TEMP","PSSVJDD",51)
0
"TEMP","PSSVJDD",52)
1
"TEMP","PSSVJDD",53)
1
"TEMP","PSSVJDD",54)
1
"TEMP","PSSVJDD",55)
1
"TEMP","PSSVJDD",56)
1
"TEMP","PSSVJDD",57)
1
"TEMP","PSSVJDD",58)
0
"TEMP","PSSVJDD",59)
0
"TEMP","PSSVJDD",60)
1
"TEMP","PSSVJDD",61)
0
"TEMP","PSSVJDD",62)
0
"TEMP","PSSVJDD",63)
0
"TEMP","PSSVJDD",64)
0
"TEMP","PSSVJDD",65)
0
"TEMP","PSSVJDD",66)
0
"TEMP","PSSVJDD",67)
0
"TEMP","PSSVJDD",68)
0
"TEMP","PSSVJDD",69)
0
"TEMP","PSSVJDD",70)
0
"TEMP","PSSVJDD",71)
0
"TEMP","PSSVJDD",72)
1
"TEMP","PSSVJDD",73)
1
"TEMP","PSSVJDD",74)
1
"TEMP","PSSVJDD",75)
1
"TEMP","PSSVJDD",76)
1
"TEMP","PSSVJDD",77)
0
"TEMP","PSSVJDD",78)
1
"TEMP","PSSVJDD",79)
0
"TEMP","PSSVJDD",80)
1
"TEMP","PSSVJDD",81)
1
"TEMP","PSSVJDD",82)
0
"TEMP","PSSVJDD",83)
1
"TEMP","PSSVJDD",84)
0
"TEMP","PSSVJDD",85)
1
"TEMP","PSSVJDD",86)
1
"TEMP","PSSVJDD",87)
1
"TEMP","PSSVJDD",88)
1
"TEMP","PSSVJDD",89)
1
"TEMP","PSSVJDD",90)
1
"TEMP","PSSVJDD",91)
1
"TEMP","PSSVJDD",92)
1
"TEMP","PSSVJDD",93)
1
"TEMP","PSSVJDD",94)
1
"TEMP","PSSVJDD",95)
0
"TEMP","PSSVJDD",96)
1
"TEMP","PSSVJDD",98)
0
"TEMP","PSSVJDD",99)
0
"TEMP","PSSVJDD",100)
0
"TEMP","PSSVJDD",101)
0
"TEMP","PSSVJDD",102)
0
"TEMP","PSSVJDD",103)
0
"TEMP","PSSVJDD",104)
0
"TEMP","PSSVJDD",105)
0
"TEMP","PSSVJDD",106)
0
"TEMP","PSSVJDD",107)
0
"TEMP","PSSVJDD",108)
1
"TEMP","PSSVJDD",109)
1
"TEMP","PSSVJDD",110)
1
"TEMP","PSSVJDD",111)
1
"TEMP","PSSVJDD",112)
1
"TEMP","PSSVJDD",113)
0
"TEMP","PSSVJDD",114)
1
"TEMP","PSSVJDD",115)
0
"TEMP","PSSVJDD",116)
0
"TEMP","PSSVJDD",117)
0
"TEMP","PSSVJDD",118)
0
"TEMP","PSSVJDD",119)
0
"TEMP","PSSVJDD",120)
1
"TEMP","PSSVJDD",121)
0
"TEMP","PSSVJDD",122)
0
"TEMP","PSSVJDD",123)
0
"TEMP","PSSVJDD",124)
0
"TEMP","PSSVJDD",125)
0
"TEMP","PSSVJDD",126)
0
"TEMP","PSSVJDD",127)
1
"TEMP","PSSVJDD",128)
1
"TEMP","PSSVJDD",129)
1
"TEMP","PSSVJDD",130)
0
"TEMP","PSSVJDD",131)
1
"TEMP","PSSVJDD",132)
1
"TEMP","PSSVJDD",133)
0
"TEMP","PSSVJDD",134)
1
"TEMP","PSSVJDD",135)
1
"TEMP","PSSVJDD",136)
1
"TEMP","PSSVJDD",137)
1
"TEMP","PSSVJDD",138)
1
"TEMP","PSSVJDD",139)
1
"TEMP","PSSVJDD",140)
1
"TEMP","PSSVJDD",141)
1
"TEMP","PSSVJDD",143)
1
"TEMP","PSSVJDD",144)
1
"TEMP","PSSVJDD",145)
1
"TEMP","PSSVJDD",146)
0
"TEMP","PSSVJDD",147)
0
"TEMP","PSSVJDD",148)
1
"TEMP","PSSVJDD",149)
1
"TEMP","PSSVJDD",150)
1
"TEMP","PSSVJDD",151)
1
"TEMP","PSSVJDD",152)
0
"TEMP","PSSVJDD",153)
0
"TEMP","PSSVJDD",154)
1
"TEMP","PSSVJDD",155)
1
"TEMP","PSSVJDD",157)
0
"TEMP","PSSVJDD",158)
1
"TEMP","PSSVJDD",159)
0
"TEMP","PSSVJDD",160)
0
"TEMP","PSSVJDD",161)
0
"TEMP","PSSVJDD",162)
1
"TEMP","PSSVJDD",163)
1
"TEMP","PSSVJDD",164)
1
"TEMP","PSSVJDD",165)
1
"TEMP","PSSVJDD",166)
0
"TEMP","PSSVJDD",167)
0
"TEMP","PSSVJDD",168)
1
"TEMP","PSSVJDD",169)
1
"TEMP","PSSVJDD",170)
1
"TEMP","PSSVJDD",171)
0
"TEMP","PSSVJDD",172)
0
"TEMP","PSSVJDD",173)
0
"TEMP","PSSVJDD",174)
1
"TEMP","PSSVJDD",175)
1
"TEMP","PSSVJDD",176)
0
"TEMP","PSSVJDD",177)
0
"TEMP","PSSVJDD",178)
1
"TEMP","PSSVJDD",179)
1
"TEMP","PSSVJDD",180)
1
"TEMP","PSSVJDD",181)
1
"TEMP","PSSVJDD",182)
0
"TEMP","PSSVJDD",183)
0
"TEMP","PSSVJDD",184)
1
"TEMP","PSSVJDD",185)
1
"TEMP","PSSVJDD",186)
1
"TEMP","PSSVJDD",187)
1
"TEMP","PSSVJDD",188)
0
"TEMP","PSSVJDD",189)
1
"TEMP","PSSVJDD",190)
1
"TEMP","PSSVJDD",191)
0
"TEMP","PSSVJDD",192)
0
"TEMP","PSSVJDD",193)
0
"TEMP","PSSVJDD",194)
1
"TEMP","PSSVJDD",195)
1
"TEMP","PSSVJDD",196)
0
"TEMP","PSSVJDD",197)
0
"TEMP","PSSVJDD",198)
0
"TEMP","PSSVJDD",199)
0
"TEMP","PSSVJDD",200)
1
"TEMP","PSSVJDD",201)
0
"TEMP","PSSVJDD",202)
1
"TEMP","PSSVJDD",203)
1
"TEMP","PSSVJDD",204)
0
"TEMP","PSSVJDD",205)
0
"TEMP","PSSVJDD",206)
0
"TEMP","PSSVJDD",207)
0
"TEMP","PSSVJDD",208)
0
"TEMP","PSSVJDD",209)
1
"TEMP","PSSVJDD",210)
1
"TEMP","PSSVJDD",211)
1
"TEMP","PSSVJDD",212)
1
"TEMP","PSSVJDD",213)
1
"TEMP","PSSVJDD",214)
1
"TEMP","PSSVJDD",215)
1
"TEMP","PSSVJDD",216)
1
"TEMP","PSSVJDD",217)
1
"TEMP","PSSVJDD",218)
1
"TEMP","PSSVJDD",219)
1
"TEMP","PSSVJDD",220)
1
"TEMP","PSSVJDD",221)
1
"TEMP","PSSVJDD",222)
1
"TEMP","PSSVJDD",223)
1
"TEMP","PSSVJDD",224)
1
"TEMP","PSSVJDD",225)
1
"TEMP","PSSVJDD",226)
1
"TEMP","PSSVJDD",227)
1
"TEMP","PSSVJDD",228)
1
"TEMP","PSSVJDD",229)
1
"TEMP","PSSVJDD",230)
1
"TEMP","PSSVJDD",231)
1
"TEMP","PSSVJDD",232)
1
"TEMP","PSSVJDD",233)
1
"TEMP","PSSVJDD",234)
1
"TEMP","PSSVJDD",235)
1
"TEMP","PSSVJDD",236)
1
"TEMP","PSSVJDD",237)
1
"TEMP","PSSVJDD",238)
1
"TEMP","PSSVJDD",239)
1
"TEMP","PSSVJDD",240)
0
"TEMP","PSSVJDD",241)
0
"TEMP","PSSVJDD",242)
0
"TEMP","PSSVJDD",243)
0
"TEMP","PSSVJDD",244)
0
"TEMP","PSSVJDD",245)
1
"TEMP","PSSVJDD",246)
1
"TEMP","PSSVJDD",249)
0
"TEMP","PSSVJDD",250)
1
"TEMP","PSSVJDD",251)
1
"TEMP","PSSVJDD",252)
1
"TEMP","PSSVJDD",253)
1
"TEMP","PSSVJDD",254)
1
"TEMP","PSSVJDD",255)
1
"TEMP","PSSVJDD",256)
1
"TEMP","PSSVJDD",257)
1
"TEMP","PSSVJDD",258)
0
"TEMP","PSSVJDD",259)
1
"TEMP","PSSVJDD",260)
1
"TEMP","PSSVJDD",261)
1
"TEMP","PSSVJDD",262)
0
"TEMP","PSSVJDD",263)
0
"TEMP","PSSVJDD",264)
1
"TEMP","PSSVJDD",265)
1
"TEMP","PSSVJDD",266)
1
"TEMP","PSSVJDD",267)
1
"TEMP","PSSVJDD",268)
0
"TEMP","PSSVJDD",269)
1
"TEMP","PSSVJDD",270)
1
"TEMP","PSSVJDD",271)
1
"TEMP","PSSVJDD",272)
1
"TEMP","PSSVJDD",273)
0
"TEMP","PSSVJDD",274)
1
"TEMP","PSSVJDD",275)
0
"TEMP","PSSVJDD",276)
1
"TEMP","PSSVJDD",277)
0
"TEMP","PSSVJDD",278)
1
"TEMP","PSSVJDD",279)
1
"TEMP","PSSVJDD",280)
1
"TEMP","PSSVJDD",281)
0
"TEMP","PSSVJDD",282)
0
"TEMP","PSSVJDD",283)
0
"TEMP","PSSVJDD",284)
1
"TEMP","PSSVJDD",285)
0
"TEMP","PSSVJDD",286)
1
"TEMP","PSSVJDD",287)
0
"TEMP","PSSVJDD",288)
0
"TEMP","PSSVJDD",289)
1
"TEMP","PSSVJDD",290)
0
"TEMP","PSSVJDD",291)
1
"TEMP","PSSVJDD",292)
0
"TEMP","PSSVJDD",293)
0
"TEMP","PSSVJDD",294)
0
"TEMP","PSSVJDD",295)
0
"TEMP","PSSVJDD",296)
1
"TEMP","PSSVJDD",297)
1
"TEMP","PSSVJDD",298)
1
"TEMP","PSSVJDD",299)
1
"TEMP","PSSVJDD",300)
0
"TEMP","PSSVJDD",301)
0
"TEMP","PSSVJDD",302)
0
"TEMP","PSSVJDD",303)
0
"UP",50,50.0904,-1)
50^DOS2
"UP",50,50.0904,0)
50.0904
"UP",50.606,50.6061,-1)
50.606^MR
"UP",50.606,50.6061,0)
50.6061
"UP",51.2,51.27,-1)
51.2^2
"UP",51.2,51.27,0)
51.27
"VER")
8.0^22.0
"^DD",50,50.0904,4,0)
DOSE UNIT^*P51.24'^PS(51.24,^0;5^S DIC("S")="I '$$SCREEN^XTID(51.24,.01,+Y_"","")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",50,50.0904,4,3)
Enter the Dose Unit to be used with the Numeric Dose for the dosage check on this Local Possible Dosage.
"^DD",50,50.0904,4,12)
Inactive Dose Units will not be selectable.
"^DD",50,50.0904,4,12.1)
S DIC("S")="I '$$SCREEN^XTID(51.24,.01,+Y_"","")"
"^DD",50,50.0904,4,21,0)
^.001^4^4^3080511^^^^
"^DD",50,50.0904,4,21,1,0)
This is the Dose Unit for this Local Possible Dosage. If this Local 
"^DD",50,50.0904,4,21,2,0)
Possible Dosage is used for a medication order, the dosage check will
"^DD",50,50.0904,4,21,3,0)
be performed using this Dose Unit, along with the Numeric Dose
"^DD",50,50.0904,4,21,4,0)
associated with this Local Possible Dosage.
"^DD",50,50.0904,4,"DT")
3080509
"^DD",50,50.0904,5,0)
NUMERIC DOSE^NJ20,5O^^0;6^K:+X'=X!(X>99999999999999)!(X<.00001)!(X?.E1"."6N.N) X
"^DD",50,50.0904,5,2)
S Y(0)=Y S:$E(Y,1)="." Y=0_Y
"^DD",50,50.0904,5,2.1)
S:$E(Y,1)="." Y=0_Y
"^DD",50,50.0904,5,3)
Type a Number between .00001 and 99999999999999, 5 Decimal Digits, to be used with the Dose Unit for the dosage check on this Local Possible Dosage.
"^DD",50,50.0904,5,21,0)
^^4^4^3080310^
"^DD",50,50.0904,5,21,1,0)
This is the Numeric Dose for this Local Possible Dosage. If this Local 
"^DD",50,50.0904,5,21,2,0)
Possible Dosage is used for a medication order, the dosage check will 
"^DD",50,50.0904,5,21,3,0)
be performed using this Numeric Dose, along with the Dose Unit
"^DD",50,50.0904,5,21,4,0)
associated with this Local Possible Dosage.
"^DD",50,50.0904,5,"DT")
3081001
"^DD",50.606,50.606,1,0)
MED ROUTE FOR DOSAGE FORM^50.6061P^^MR;0
"^DD",50.606,50.606,1,"DT")
2960717
"^DD",50.606,50.606,11,0)
EXCLUDE FROM DOSAGE CHECKS^RSa^0:NO;1:YES;^1;1^Q
"^DD",50.606,50.606,11,3)
Enter '1' or 'YES' if drugs with this Dosage Form should be excluded from dosage checks.
"^DD",50.606,50.606,11,8.5)
^
"^DD",50.606,50.606,11,9)
^
"^DD",50.606,50.606,11,21,0)
^.001^13^13^3081006^^^
"^DD",50.606,50.606,11,21,1,0)
If this field is set to '1' or 'YES', then any medication orders 
"^DD",50.606,50.606,11,21,2,0)
containing a drug with this Dosage Form will be excluded from dosage
"^DD",50.606,50.606,11,21,3,0)
checks. However, if the VA PRODUCT (#50.68) File entry that the DRUG (#50)
"^DD",50.606,50.606,11,21,4,0)
File entry is matched to has a '1' or 'Yes' in the OVERRIDE DF DOSE CHK
"^DD",50.606,50.606,11,21,5,0)
EXCLUSION (#31) Field, the Dosage Form exclusion designation would be
"^DD",50.606,50.606,11,21,6,0)
overridden, and dosage checks would be performed for Drug (#50) File
"^DD",50.606,50.606,11,21,7,0)
entries matched to that VA product. If this field is set to '0' or 'No',
"^DD",50.606,50.606,11,21,8,0)
or null, then any medication orders containing a drug with this Dosage
"^DD",50.606,50.606,11,21,9,0)
Form will not be excluded from dosage checks. However, if the VA PRODUCT
"^DD",50.606,50.606,11,21,10,0)
(#50.68) File entry that the Drug (#50) File entry is matched to has a '1'
"^DD",50.606,50.606,11,21,11,0)
or 'Yes' in the OVERRIDE DF DOSE CHK EXCLUSION (#31) Field, the Dosage
"^DD",50.606,50.606,11,21,12,0)
Form exclusion designation would be overridden, and dosage checks would
"^DD",50.606,50.606,11,21,13,0)
not be performed for Drug (#50) File entries matched to that VA product.
"^DD",50.606,50.606,11,23,0)
^.001^2^2^3081006^^^^
"^DD",50.606,50.606,11,23,1,0)
This field is not locally editable. It is controlled at the national 
"^DD",50.606,50.606,11,23,2,0)
level and the data will be exported to the local facilities.
"^DD",50.606,50.606,11,"AUDIT")
y
"^DD",50.606,50.606,11,"DT")
3081006
"^DD",50.606,50.6061,0)
MED ROUTE FOR DOSAGE FORM SUB-FIELD^^.01^1
"^DD",50.606,50.6061,0,"NM","MED ROUTE FOR DOSAGE FORM")

"^DD",50.606,50.6061,.01,0)
MED ROUTE FOR DOSAGE FORM^M*P51.2'X^PS(51.2,^0;1^S DIC("S")="I $P(^(0),U,4)'=0" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",50.606,50.6061,.01,1,0)
^.1^^-1
"^DD",50.606,50.6061,.01,1,1,0)
50.6061^B
"^DD",50.606,50.6061,.01,1,1,1)
S ^PS(50.606,DA(1),"MR","B",$E(X,1,30),DA)=""
"^DD",50.606,50.6061,.01,1,1,2)
K ^PS(50.606,DA(1),"MR","B",$E(X,1,30),DA)
"^DD",50.606,50.6061,.01,12)
Screen prevents selection of any NDF-Only Med Route.
"^DD",50.606,50.6061,.01,12.1)
S DIC("S")="I $P(^(0),U,4)'=0"
"^DD",50.606,50.6061,.01,21,0)
^.001^1^1^3080404^^^^
"^DD",50.606,50.6061,.01,21,1,0)
This is a route of administration for a medication.
"^DD",50.606,50.6061,.01,23,0)
^.001^1^1^3080404^^^^
"^DD",50.606,50.6061,.01,23,1,0)
The medication routes that associate with a dosage form.
"^DD",50.606,50.6061,.01,"DT")
3080404
"^DD",51.2,51.2,7,0)
STANDARD MED ROUTE CHANGE LOG^51.27DA^^2;0
"^DD",51.2,51.2,7,8.5)
^
"^DD",51.2,51.2,7,9)
^
"^DD",51.2,51.2,7,21,0)
^.001^3^3^3080407^^^^
"^DD",51.2,51.2,7,21,1,0)
This multiple will track all changes made to the STANDARD MEDICATION 
"^DD",51.2,51.2,7,21,2,0)
ROUTE (#10) Field, which is the pointer to the STANDARD MEDICATION ROUTES 
"^DD",51.2,51.2,7,21,3,0)
(#51.23) File.
"^DD",51.2,51.2,7,"DT")
3080301
"^DD",51.2,51.2,10,0)
STANDARD MEDICATION ROUTE^*P51.23'^PS(51.23,^1;1^S DIC("S")="I '$$SCREEN^XTID(51.23,.01,+Y_"","")" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",51.2,51.2,10,3)
Select the Standard Med Route that matches to the Local Med Route.
"^DD",51.2,51.2,10,12)
Inactive Standard Medication Routes will not be selectable.
"^DD",51.2,51.2,10,12.1)
S DIC("S")="I '$$SCREEN^XTID(51.23,.01,+Y_"","")"
"^DD",51.2,51.2,10,21,0)
^.001^4^4^3080511^^^^
"^DD",51.2,51.2,10,21,1,0)
This is a pointer to the Standard Medication Routes (#51.23) File. This 
"^DD",51.2,51.2,10,21,2,0)
link will allow standardization of the local Medication Route, to be used 
"^DD",51.2,51.2,10,21,3,0)
for various purposes, such as using a Standard Med Route for Vendor order 
"^DD",51.2,51.2,10,21,4,0)
checks.
"^DD",51.2,51.2,10,"DT")
3080421
"^DD",51.2,51.27,0)
STANDARD MED ROUTE CHANGE LOG SUB-FIELD^^1^4
"^DD",51.2,51.27,0,"DT")
3080301
"^DD",51.2,51.27,0,"IX","B",51.27,.01)

"^DD",51.2,51.27,0,"NM","STANDARD MED ROUTE CHANGE LOG")

"^DD",51.2,51.27,0,"UP")
51.2
"^DD",51.2,51.27,.01,0)
ACTIVITY DATE AND TIME^RD^^0;1^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",51.2,51.27,.01,1,0)
^.1
"^DD",51.2,51.27,.01,1,1,0)
51.27^B
"^DD",51.2,51.27,.01,1,1,1)
S ^PS(51.2,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",51.2,51.27,.01,1,1,2)
K ^PS(51.2,DA(1),2,"B",$E(X,1,30),DA)
"^DD",51.2,51.27,.01,1,1,"%D",0)
^^2^2^3080407^
"^DD",51.2,51.27,.01,1,1,"%D",1,0)
The cross reference is in the form of PS(51.2,DA(1),2,"B", ACTIVITY DATE
"^DD",51.2,51.27,.01,1,1,"%D",2,0)
AND TIME,DA)="".
"^DD",51.2,51.27,.01,1,1,"DT")
3080404
"^DD",51.2,51.27,.01,1,2,0)
51.2^D
"^DD",51.2,51.27,.01,1,2,1)
S ^PS(51.2,"D",$E(X,1,30),DA(1),DA)=""
"^DD",51.2,51.27,.01,1,2,2)
K ^PS(51.2,"D",$E(X,1,30),DA(1),DA)
"^DD",51.2,51.27,.01,1,2,"%D",0)
^^3^3^3080407^
"^DD",51.2,51.27,.01,1,2,"%D",1,0)
This is a whole file cross reference on the ACTIVITY DATE AND TIME (#.01) 
"^DD",51.2,51.27,.01,1,2,"%D",2,0)
Field of the STANDARD MED ROUTE CHANGE LOG (#51.27) Subfile. It sets the
"^DD",51.2,51.27,.01,1,2,"%D",3,0)
global PS(51.2,"D",ACTIVITY DATE AND TIME,DA(1),DA)="".
"^DD",51.2,51.27,.01,1,2,"DT")
3080331
"^DD",51.2,51.27,.01,3)
This is the date and time of the change to the STANDARD MEDICATION ROUTE (#10) Field.
"^DD",51.2,51.27,.01,9)
^
"^DD",51.2,51.27,.01,21,0)
^^4^4^3080407^
"^DD",51.2,51.27,.01,21,1,0)
This is the date and time the change was made to the STANDARD MEDICATION 
"^DD",51.2,51.27,.01,21,2,0)
ROUTE (#10) Field. It is set from the PSSMEDX routine, which is invoked 
"^DD",51.2,51.27,.01,21,3,0)
from the new style cross reference of the STANDARD MEDICATION ROUTE (#10) 
"^DD",51.2,51.27,.01,21,4,0)
Field of the MEDICATION ROUTES (#51.2) File.
"^DD",51.2,51.27,.01,"DT")
3080404
"^DD",51.2,51.27,1,0)
PERSON MAKING CHANGE^P200'^VA(200,^0;2^Q
"^DD",51.2,51.27,1,3)
This is the person making the change to the STANDARD MEDICATION ROUTE (#10) Field.
"^DD",51.2,51.27,1,9)
^
"^DD",51.2,51.27,1,21,0)
^^5^5^3080407^
"^DD",51.2,51.27,1,21,1,0)
This is person who made the change to the STANDARD MEDICATION ROUTE (#10) 
"^DD",51.2,51.27,1,21,2,0)
Field. This field will be null if the change was done by an automated 
"^DD",51.2,51.27,1,21,3,0)
process. It is set from the PSSMEDX routine, which is invoked from the new
"^DD",51.2,51.27,1,21,4,0)
style cross reference of the STANDARD MEDICATION ROUTE (#10) Field of the
"^DD",51.2,51.27,1,21,5,0)
MEDICATION ROUTES (#51.2) File.
"^DD",51.2,51.27,1,"DT")
3080404
"^DD",51.2,51.27,2,0)
OLD VALUE^P51.23'^PS(51.23,^0;3^Q
"^DD",51.2,51.27,2,3)
This is the previous value of the STANDARD MEDICATION ROUTE (#10) Field when a change is made.
"^DD",51.2,51.27,2,9)
^
"^DD",51.2,51.27,2,21,0)
^^5^5^3080407^
"^DD",51.2,51.27,2,21,1,0)
This is the previous value of the STANDARD MEDICATION ROUTE (#10) Field 
"^DD",51.2,51.27,2,21,2,0)
when a change is made. It can be null, if there was no previous value. It 
"^DD",51.2,51.27,2,21,3,0)
is set from the PSSMEDX routine, which is invoked from the new style cross
"^DD",51.2,51.27,2,21,4,0)
reference of the STANDARD MEDICATION ROUTE (#10) Field of the MEDICATION
"^DD",51.2,51.27,2,21,5,0)
ROUTES (#51.2) File.
"^DD",51.2,51.27,2,"DT")
3080404
"^DD",51.2,51.27,3,0)
NEW VALUE^P51.23'^PS(51.23,^0;4^Q
"^DD",51.2,51.27,3,3)
This is the new value of the STANDARD MEDICATION ROUTE (#10) Field when a change is made.
"^DD",51.2,51.27,3,9)
^
"^DD",51.2,51.27,3,21,0)
^^5^5^3080407^
"^DD",51.2,51.27,3,21,1,0)
This is the new value of the STANDARD MEDICATION ROUTE (#10) Field when a
"^DD",51.2,51.27,3,21,2,0)
change is made. It can be null, if there is no new value. It is set from
"^DD",51.2,51.27,3,21,3,0)
the PSSMEDX routine, which is invoked from the new style cross reference
"^DD",51.2,51.27,3,21,4,0)
of the STANDARD MEDICATION ROUTE (#10) Field of the MEDICATION ROUTES
"^DD",51.2,51.27,3,21,5,0)
(#51.2) File.
"^DD",51.2,51.27,3,"DT")
3080404
"^DD",51.23,51.23,0)
FIELD^^99.991^6
"^DD",51.23,51.23,0,"DDA")
N
"^DD",51.23,51.23,0,"DT")
3080130
"^DD",51.23,51.23,0,"ID",1)
W "   ",$P(^(0),U,2)
"^DD",51.23,51.23,0,"IX","AREPLACETERM",51.23,99.97)

"^DD",51.23,51.23,0,"IX","AVUID",51.23,99.99)

"^DD",51.23,51.23,0,"IX","C",51.23,1)

"^DD",51.23,51.23,0,"NM","STANDARD MEDICATION ROUTES")

"^DD",51.23,51.23,0,"PT",51.2,10)

"^DD",51.23,51.23,0,"PT",51.23,99.97)

"^DD",51.23,51.23,0,"PT",51.27,2)

"^DD",51.23,51.23,0,"PT",51.27,3)

"^DD",51.23,51.23,0,"VRPK")
PSS
"^DD",51.23,51.23,.01,0)
NAME^RFX^^0;1^K:$L(X)>50!($L(X)<3)!($E(X,1)=" ")!($E(X,$L(X))=" ")!(X["  ")!(X'?.UNP)!'(X'?1P.E) X
"^DD",51.23,51.23,.01,1,0)
^.1^^0
"^DD",51.23,51.23,.01,3)
Answer must be 3-50 characters in length, comprised only of uppercase letters, numerics, and punctuation, but no leading punctuation, and contain no leading, trailing, or consecutive spaces.
"^DD",51.23,51.23,.01,7.5)
I $G(DIC(0))["L",'$D(XUMF) K X D EN^DDIOL("Entries must be edited via the Master File Server (MFS).","","!?5")
"^DD",51.23,51.23,.01,9)
^
"^DD",51.23,51.23,.01,21,0)
^.001^3^3^3080404^^^
"^DD",51.23,51.23,.01,21,1,0)
This is the name of the Standard Medication Route. It will be used to 
"^DD",51.23,51.23,.01,21,2,0)
allow entries from the MEDICATION ROUTES (#51.2) File to be mapped to a 
"^DD",51.23,51.23,.01,21,3,0)
standard Medication Route.
"^DD",51.23,51.23,.01,"DEL",1,0)
D:'$D(XUMF) EN^DDIOL("Entries must be inactivated via the Master File Server(MFS).","","!?5") I '$D(XUMF)
"^DD",51.23,51.23,.01,"DT")
3080216
"^DD",51.23,51.23,.01,"LAYGO",1,0)
D:'$D(XUMF) EN^DDIOL("Entries must be added via the Master File Server(MFS).","","!?5") I $D(XUMF)
"^DD",51.23,51.23,1,0)
FIRST DATABANK MED ROUTE^FX^^0;2^K:$L(X)>30!($L(X)<3)!($E(X,1)=" ")!($E(X,$L(X))=" ")!(X["  ")!(X'?.UNP) X
"^DD",51.23,51.23,1,1,0)
^.1
"^DD",51.23,51.23,1,1,1,0)
51.23^C
"^DD",51.23,51.23,1,1,1,1)
S ^PS(51.23,"C",$E(X,1,30),DA)=""
"^DD",51.23,51.23,1,1,1,2)
K ^PS(51.23,"C",$E(X,1,30),DA)
"^DD",51.23,51.23,1,1,1,"%D",0)
^.101^3^3^3071126^^
"^DD",51.23,51.23,1,1,1,"%D",1,0)
This cross reference is a regular cross reference on the FIRST DATABANK 
"^DD",51.23,51.23,1,1,1,"%D",2,0)
MED ROUTE field. It sets the global: PS(51.23,"C",FIRST DATABANK MED 
"^DD",51.23,51.23,1,1,1,"%D",3,0)
ROUTE, Internal Entry Number)="".
"^DD",51.23,51.23,1,1,1,"DT")
3070702
"^DD",51.23,51.23,1,3)
Answer must be 3-30 characters in length, comprised only of uppercase letters, numerics, and punctuation, and contain no leading, trailing, or consecutive spaces.
"^DD",51.23,51.23,1,9)
^
"^DD",51.23,51.23,1,21,0)
^.001^4^4^3080331^^^
"^DD",51.23,51.23,1,21,1,0)
This field provides the mapping from the Vista Standard Medication Route 
"^DD",51.23,51.23,1,21,2,0)
to the First DataBank Medication Route. The First DataBank Medication 
"^DD",51.23,51.23,1,21,3,0)
Route will be used when processing the order checks provided by First 
"^DD",51.23,51.23,1,21,4,0)
DataBank.
"^DD",51.23,51.23,1,"DT")
3080107
"^DD",51.23,51.23,99.97,0)
REPLACED BY VHA STANDARD TERM^P51.23'^PS(51.23,^VUID;3^Q
"^DD",51.23,51.23,99.97,1,0)
^.1
"^DD",51.23,51.23,99.97,1,1,0)
51.23^AREPLACETERM
"^DD",51.23,51.23,99.97,1,1,1)
S ^PS(51.23,"AREPLACETERM",$E(X,1,30),DA)=""
"^DD",51.23,51.23,99.97,1,1,2)
K ^PS(51.23,"AREPLACETERM",$E(X,1,30),DA)
"^DD",51.23,51.23,99.97,1,1,"%D",0)
^^2^2^3080103^
"^DD",51.23,51.23,99.97,1,1,"%D",1,0)
This cross-reference can be used to identify the replacement entries 
"^DD",51.23,51.23,99.97,1,1,"%D",2,0)
associated with a Term/Concept.
"^DD",51.23,51.23,99.97,1,1,"DT")
3080103
"^DD",51.23,51.23,99.97,9)
^
"^DD",51.23,51.23,99.97,21,0)
^^4^4^3071227^
"^DD",51.23,51.23,99.97,21,1,0)
This field is populated when one Term/Concept replaces another 
"^DD",51.23,51.23,99.97,21,2,0)
Term/Concept.  This field is controlled by standardization and should 
"^DD",51.23,51.23,99.97,21,3,0)
only be changed by standardization processes.  This field contains a 
"^DD",51.23,51.23,99.97,21,4,0)
pointer to a VHA standard term that replaces this entry.
"^DD",51.23,51.23,99.97,"DT")
3080301
"^DD",51.23,51.23,99.98,0)
MASTER ENTRY FOR VUID^RSI^0:NO;1:YES;^VUID;2^Q
"^DD",51.23,51.23,99.98,9)
^
"^DD",51.23,51.23,99.98,21,0)
^^2^2^3050210^
"^DD",51.23,51.23,99.98,21,1,0)
This field identifies the Master entry for a VUID associated with a 
"^DD",51.23,51.23,99.98,21,2,0)
Term/Concept.
"^DD",51.23,51.23,99.98,"DT")
3080216
"^DD",51.23,51.23,99.99,0)
VUID^RFXI^^VUID;1^S X=+X K:$L(X)>20!($L(X)<1)!'(X?1.20N) X
"^DD",51.23,51.23,99.99,1,0)
^.1
"^DD",51.23,51.23,99.99,1,1,0)
51.23^AVUID
"^DD",51.23,51.23,99.99,1,1,1)
S ^PS(51.23,"AVUID",$E(X,1,30),DA)=""
"^DD",51.23,51.23,99.99,1,1,2)
K ^PS(51.23,"AVUID",$E(X,1,30),DA)
"^DD",51.23,51.23,99.99,1,1,3)
This cross-reference is by VUID.
"^DD",51.23,51.23,99.99,1,1,"%D",0)
^^1^1^3051026^
"^DD",51.23,51.23,99.99,1,1,"%D",1,0)
This cross-reference is by VUID.
"^DD",51.23,51.23,99.99,1,1,"DT")
3041223
"^DD",51.23,51.23,99.99,3)
Answer must be 1-20 digits in length.
"^DD",51.23,51.23,99.99,9)
^
"^DD",51.23,51.23,99.99,21,0)
^.001^2^2^3050210^^
"^DD",51.23,51.23,99.99,21,1,0)
VHA Unique ID (VUID). A unique meaningless integer assigned to reference
"^DD",51.23,51.23,99.99,21,2,0)
terms VHA wide.
"^DD",51.23,51.23,99.99,"DT")
3080216
"^DD",51.23,51.23,99.991,0)
EFFECTIVE DATE/TIME^51.2399DA^^TERMSTATUS;0
"^DD",51.23,51.23,99.991,9)
^
"^DD",51.23,51.23,99.991,21,0)
^^1^1^3050201^
"^DD",51.23,51.23,99.991,21,1,0)
Describes the pair Status and Effective Date/Time for each reference term.
"^DD",51.23,51.23,99.991,"DT")
3080216
"^DD",51.23,51.2399,0)
EFFECTIVE DATE/TIME SUB-FIELD^^.02^2
"^DD",51.23,51.2399,0,"DT")
3050201
"^DD",51.23,51.2399,0,"IX","B",51.2399,.01)

"^DD",51.23,51.2399,0,"NM","EFFECTIVE DATE/TIME")
 
"^DD",51.23,51.2399,0,"UP")
51.23
"^DD",51.23,51.2399,.01,0)
EFFECTIVE DATE/TIME^RDI^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",51.23,51.2399,.01,1,0)
^.1
"^DD",51.23,51.2399,.01,1,1,0)
51.2399^B
"^DD",51.23,51.2399,.01,1,1,1)
S ^PS(51.23,DA(1),"TERMSTATUS","B",$E(X,1,30),DA)=""
"^DD",51.23,51.2399,.01,1,1,2)
K ^PS(51.23,DA(1),"TERMSTATUS","B",$E(X,1,30),DA)
"^DD",51.23,51.2399,.01,1,1,"%D",0)
^^1^1^3050201^
"^DD",51.23,51.2399,.01,1,1,"%D",1,0)
This cross-reference is by Effective Date/Time.
"^DD",51.23,51.2399,.01,9)
^
"^DD",51.23,51.2399,.01,21,0)
^^2^2^3050201^
"^DD",51.23,51.2399,.01,21,1,0)
This is the date/time when the Status of the reference term was 
"^DD",51.23,51.2399,.01,21,2,0)
established.
"^DD",51.23,51.2399,.01,"DT")
3080216
"^DD",51.23,51.2399,.02,0)
STATUS^RSI^1:ACTIVE;0:INACTIVE;^0;2^Q
"^DD",51.23,51.2399,.02,9)
^
"^DD",51.23,51.2399,.02,21,0)
^^4^4^3050201^
"^DD",51.23,51.2399,.02,21,1,0)
The Status of a reference term is either 'ACTIVE' or 'INACTIVE'. If 
"^DD",51.23,51.2399,.02,21,2,0)
'ACTIVE', then the term will be accessible by end-users to document a 
"^DD",51.23,51.2399,.02,21,3,0)
particular patient event. If 'INACTIVE', then the term will only be 
"^DD",51.23,51.2399,.02,21,4,0)
accessible by the application to display legacy data.
"^DD",51.23,51.2399,.02,"DT")
3080216
"^DD",51.24,51.24,0)
FIELD^^3^8
"^DD",51.24,51.24,0,"DDA")
N
"^DD",51.24,51.24,0,"DT")
3081001
"^DD",51.24,51.24,0,"IX","AREPLACETERM",51.24,99.97)

"^DD",51.24,51.24,0,"IX","AVUID",51.24,99.99)

"^DD",51.24,51.24,0,"IX","B",51.24,.01)

"^DD",51.24,51.24,0,"IX","C",51.24,1)

"^DD",51.24,51.24,0,"IX","D",51.242,.01)

"^DD",51.24,51.24,0,"NM","DOSE UNITS")

"^DD",51.24,51.24,0,"PT",50.0904,4)

"^DD",51.24,51.24,0,"PT",51.24,99.97)

"^DD",51.24,51.24,0,"VRPK")
PSS
"^DD",51.24,51.24,.01,0)
NAME^RFX^^0;1^K:$L(X)>30!($L(X)<1)!($E(X,1)=" ")!($E(X,$L(X))=" ")!(X["  ")!(X'?.ANP)!'(X'?1P.E) X
"^DD",51.24,51.24,.01,1,0)
^.1
"^DD",51.24,51.24,.01,1,1,0)
51.24^B
"^DD",51.24,51.24,.01,1,1,1)
S ^PS(51.24,"B",$E(X,1,30),DA)=""
"^DD",51.24,51.24,.01,1,1,2)
K ^PS(51.24,"B",$E(X,1,30),DA)
"^DD",51.24,51.24,.01,3)
Answer must be 1-30 characters in length, comprised of upper and lower case letters, numerics, and punctuation, but no leading punctuation, and contain no leading, trailing, or consecutive spaces.
"^DD",51.24,51.24,.01,7.5)
I $G(DIC(0))["L",'$D(XUMF) K X D EN^DDIOL("Entries must be edited via the Master File Server (MFS).","","!?5")
"^DD",51.24,51.24,.01,9)
^
"^DD",51.24,51.24,.01,21,0)
^.001^5^5^3080404^^
"^DD",51.24,51.24,.01,21,1,0)
This is the name of the Dose Unit. Local Possible Dosages entries in the
"^DD",51.24,51.24,.01,21,2,0)
DRUG (#50) File will be mapped to entries in this file. This mapping will
"^DD",51.24,51.24,.01,21,3,0)
enable the software to derive a First DataBank Dose Unit, also in this
"^DD",51.24,51.24,.01,21,4,0)
file, that can be passed into the Dose API for Dose checks for medication
"^DD",51.24,51.24,.01,21,5,0)
orders.
"^DD",51.24,51.24,.01,"DEL",1,0)
D:'$D(XUMF) EN^DDIOL("Entries must be inactivated via the Master File Server(MFS).","","!?5") I '$D(XUMF)
"^DD",51.24,51.24,.01,"DT")
3080126
"^DD",51.24,51.24,.01,"LAYGO",1,0)
D:'$D(XUMF) EN^DDIOL("Entries must be added via the Master File Server(MFS).","","!?5") I $D(XUMF)
"^DD",51.24,51.24,1,0)
FIRST DATABANK DOSE UNIT^FX^^0;2^K:$L(X)>30!($L(X)<1)!($E(X,1)=" ")!($E(X,$L(X))=" ")!(X["  ")!(X'?.ANP) X
"^DD",51.24,51.24,1,1,0)
^.1
"^DD",51.24,51.24,1,1,1,0)
51.24^C
"^DD",51.24,51.24,1,1,1,1)
S ^PS(51.24,"C",$E(X,1,30),DA)=""
"^DD",51.24,51.24,1,1,1,2)
K ^PS(51.24,"C",$E(X,1,30),DA)
"^DD",51.24,51.24,1,1,1,"%D",0)
^^3^3^3080126^
"^DD",51.24,51.24,1,1,1,"%D",1,0)
This cross reference is a regular cross reference on the FIRST DATABANK 
"^DD",51.24,51.24,1,1,1,"%D",2,0)
DOSE UNIT field. It sets the global: PS(51.24,"C",FIRST DATABANK DOSE 
"^DD",51.24,51.24,1,1,1,"%D",3,0)
UNIT, Internal Entry Number)="".
"^DD",51.24,51.24,1,1,1,"DT")
3080126
"^DD",51.24,51.24,1,3)
Answer must be 1-30 characters in length, comprised of upper and lower case letters, numerics, and punctuation, and contain no leading, trailing, or consecutive spaces.
"^DD",51.24,51.24,1,9)
^
"^DD",51.24,51.24,1,21,0)
^^3^3^3080331^
"^DD",51.24,51.24,1,21,1,0)
This field provides the mapping from the Vista Dose Unit to the First
"^DD",51.24,51.24,1,21,2,0)
DataBank Dose Unit. The First DataBank Dose Unit will be used when
"^DD",51.24,51.24,1,21,3,0)
processing the dosage checks provided by First DataBank.
"^DD",51.24,51.24,1,"DT")
3080126
"^DD",51.24,51.24,2,0)
SYNONYM^51.242^^1;0
"^DD",51.24,51.24,2,9)
^
"^DD",51.24,51.24,3,0)
DOSE FORM INDICATOR^RS^0:NO;1:YES;^0;3^Q
"^DD",51.24,51.24,3,3)
Enter 'Yes' if this Dose Unit should be considered a Dose Form type by First DataBank for the Dosing Check API. This determines the values used to compose the general dosing information message.
"^DD",51.24,51.24,3,9)
^
"^DD",51.24,51.24,3,21,0)
^.001^4^4^3081001^^^^
"^DD",51.24,51.24,3,21,1,0)
This field indicates whether the Dose Unit is considered by First 
"^DD",51.24,51.24,3,21,2,0)
DataBank (FDB) as a Dose Form type of Dose Unit when returning data for 
"^DD",51.24,51.24,3,21,3,0)
the Dosing Check API. It determines what values should be used to compose 
"^DD",51.24,51.24,3,21,4,0)
the general dosing information message.
"^DD",51.24,51.24,3,"DT")
3081001
"^DD",51.24,51.24,99.97,0)
REPLACED BY VHA STANDARD TERM^P51.24'^PS(51.24,^VUID;3^Q
"^DD",51.24,51.24,99.97,1,0)
^.1
"^DD",51.24,51.24,99.97,1,1,0)
51.24^AREPLACETERM
"^DD",51.24,51.24,99.97,1,1,1)
S ^PS(51.24,"AREPLACETERM",$E(X,1,30),DA)=""
"^DD",51.24,51.24,99.97,1,1,2)
K ^PS(51.24,"AREPLACETERM",$E(X,1,30),DA)
"^DD",51.24,51.24,99.97,1,1,"%D",0)
^^2^2^3080103^
"^DD",51.24,51.24,99.97,1,1,"%D",1,0)
This cross-reference can be used to identify the replacement entries 
"^DD",51.24,51.24,99.97,1,1,"%D",2,0)
associated with a Term/Concept.
"^DD",51.24,51.24,99.97,1,1,"DT")
3080103
"^DD",51.24,51.24,99.97,9)
^
"^DD",51.24,51.24,99.97,21,0)
^^4^4^3071227^
"^DD",51.24,51.24,99.97,21,1,0)
This field is populated when one Term/Concept replaces another 
"^DD",51.24,51.24,99.97,21,2,0)
Term/Concept.  This field is controlled by standardization and should 
"^DD",51.24,51.24,99.97,21,3,0)
only be changed by standardization processes.  This field contains a 
"^DD",51.24,51.24,99.97,21,4,0)
pointer to a VHA standard term that replaces this entry.
"^DD",51.24,51.24,99.97,"DT")
3080301
"^DD",51.24,51.24,99.98,0)
MASTER ENTRY FOR VUID^RSI^0:NO;1:YES;^VUID;2^Q
"^DD",51.24,51.24,99.98,9)
^
"^DD",51.24,51.24,99.98,21,0)
^^2^2^3050210^
"^DD",51.24,51.24,99.98,21,1,0)
This field identifies the Master entry for a VUID associated with a 
"^DD",51.24,51.24,99.98,21,2,0)
Term/Concept.
"^DD",51.24,51.24,99.98,"DT")
3080126
"^DD",51.24,51.24,99.99,0)
VUID^RFXI^^VUID;1^S X=+X K:$L(X)>20!($L(X)<1)!'(X?1.20N) X
"^DD",51.24,51.24,99.99,1,0)
^.1
"^DD",51.24,51.24,99.99,1,1,0)
51.24^AVUID
"^DD",51.24,51.24,99.99,1,1,1)
S ^PS(51.24,"AVUID",$E(X,1,30),DA)=""
"^DD",51.24,51.24,99.99,1,1,2)
K ^PS(51.24,"AVUID",$E(X,1,30),DA)
"^DD",51.24,51.24,99.99,1,1,3)
This cross-reference is by VUID.
"^DD",51.24,51.24,99.99,1,1,"%D",0)
^^1^1^3051026^
"^DD",51.24,51.24,99.99,1,1,"%D",1,0)
This cross-reference is by VUID.
"^DD",51.24,51.24,99.99,1,1,"DT")
3041223
"^DD",51.24,51.24,99.99,3)
Answer must be 1-20 digits in length.
"^DD",51.24,51.24,99.99,9)
^
"^DD",51.24,51.24,99.99,21,0)
^.001^2^2^3050210^^
"^DD",51.24,51.24,99.99,21,1,0)
VHA Unique ID (VUID). A unique meaningless integer assigned to reference
"^DD",51.24,51.24,99.99,21,2,0)
terms VHA wide.
"^DD",51.24,51.24,99.99,"DT")
3080126
"^DD",51.24,51.24,99.991,0)
EFFECTIVE DATE/TIME^51.2499DA^^TERMSTATUS;0
"^DD",51.24,51.24,99.991,9)
^
"^DD",51.24,51.24,99.991,21,0)
^^1^1^3050201^
"^DD",51.24,51.24,99.991,21,1,0)
Describes the pair Status and Effective Date/Time for each reference term.
"^DD",51.24,51.24,99.991,"DT")
3080126
"^DD",51.24,51.242,0)
SYNONYM SUB-FIELD^^.01^1
"^DD",51.24,51.242,0,"DT")
3071031
"^DD",51.24,51.242,0,"IX","B",51.242,.01)

"^DD",51.24,51.242,0,"NM","SYNONYM")

"^DD",51.24,51.242,0,"UP")
51.24
"^DD",51.24,51.242,.01,0)
SYNONYM^MFX^^0;1^K:$L(X)>30!($L(X)<1)!($E(X,1)=" ")!($E(X,$L(X))=" ")!(X["  ")!(X'?.ANP) X
"^DD",51.24,51.242,.01,1,0)
^.1
"^DD",51.24,51.242,.01,1,1,0)
51.242^B
"^DD",51.24,51.242,.01,1,1,1)
S ^PS(51.24,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",51.24,51.242,.01,1,1,2)
K ^PS(51.24,DA(1),1,"B",$E(X,1,30),DA)
"^DD",51.24,51.242,.01,1,2,0)
51.24^D
"^DD",51.24,51.242,.01,1,2,1)
S ^PS(51.24,"D",$E(X,1,30),DA(1),DA)=""
"^DD",51.24,51.242,.01,1,2,2)
K ^PS(51.24,"D",$E(X,1,30),DA(1),DA)
"^DD",51.24,51.242,.01,1,2,"%D",0)
^^3^3^3080331^
"^DD",51.24,51.242,.01,1,2,"%D",1,0)
This is a whole file cross reference on the SYNONYM (#.01) Field of the 
"^DD",51.24,51.242,.01,1,2,"%D",2,0)
SYNONYM (#51.242) Subfile. It sets the global
"^DD",51.24,51.242,.01,1,2,"%D",3,0)
PS(51.24,"D",SYNONYM,DA(1),DA)="".
"^DD",51.24,51.242,.01,1,2,"DT")
3080331
"^DD",51.24,51.242,.01,3)
Answer must be 1-30 characters in length, comprised of upper and lower case letters, numerics, and punctuation, and contain no leading, trailing, or consecutive spaces.
"^DD",51.24,51.242,.01,9)
^
"^DD",51.24,51.242,.01,21,0)
^.001^1^1^3080123^^^^
"^DD",51.24,51.242,.01,21,1,0)
This is a synonym for the NAME field, which is the name of the DOSE UNIT.
"^DD",51.24,51.242,.01,"DT")
3080331
"^DD",51.24,51.2499,0)
EFFECTIVE DATE/TIME SUB-FIELD^^.02^2
"^DD",51.24,51.2499,0,"DT")
3050201
"^DD",51.24,51.2499,0,"IX","B",51.2499,.01)

"^DD",51.24,51.2499,0,"NM","EFFECTIVE DATE/TIME")
 
"^DD",51.24,51.2499,0,"UP")
51.24
"^DD",51.24,51.2499,.01,0)
EFFECTIVE DATE/TIME^RDI^^0;1^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",51.24,51.2499,.01,1,0)
^.1
"^DD",51.24,51.2499,.01,1,1,0)
51.2499^B
"^DD",51.24,51.2499,.01,1,1,1)
S ^PS(51.24,DA(1),"TERMSTATUS","B",$E(X,1,30),DA)=""
"^DD",51.24,51.2499,.01,1,1,2)
K ^PS(51.24,DA(1),"TERMSTATUS","B",$E(X,1,30),DA)
"^DD",51.24,51.2499,.01,1,1,"%D",0)
^^1^1^3050201^
"^DD",51.24,51.2499,.01,1,1,"%D",1,0)
This cross-reference is by Effective Date/Time.
"^DD",51.24,51.2499,.01,9)
^
"^DD",51.24,51.2499,.01,21,0)
^^2^2^3050201^
"^DD",51.24,51.2499,.01,21,1,0)
This is the date/time when the Status of the reference term was 
"^DD",51.24,51.2499,.01,21,2,0)
established.
"^DD",51.24,51.2499,.01,"DT")
3080126
"^DD",51.24,51.2499,.02,0)
STATUS^RSI^1:ACTIVE;0:INACTIVE;^0;2^Q
"^DD",51.24,51.2499,.02,9)
^
"^DD",51.24,51.2499,.02,21,0)
^^4^4^3050201^
"^DD",51.24,51.2499,.02,21,1,0)
The Status of a reference term is either 'ACTIVE' or 'INACTIVE'. If 
"^DD",51.24,51.2499,.02,21,2,0)
'ACTIVE', then the term will be accessible by end-users to document a 
"^DD",51.24,51.2499,.02,21,3,0)
particular patient event. If 'INACTIVE', then the term will only be 
"^DD",51.24,51.2499,.02,21,4,0)
accessible by the application to display legacy data.
"^DD",51.24,51.2499,.02,"DT")
3080126
"^DD",52.7,52.7,18,0)
PREMIX^S^1:YES;0:NO;^0;14^Q
"^DD",52.7,52.7,18,3)
Enter 1 if this Solution is a PreMix IV, enter 0 if this Solution is not a PreMix IV.
"^DD",52.7,52.7,18,21,0)
^^3^3^3071129^
"^DD",52.7,52.7,18,21,1,0)
This field is used to identify an IV Solution as a PreMix IV. This 
"^DD",52.7,52.7,18,21,2,0)
indication will be used to identify which entries will have order checks 
"^DD",52.7,52.7,18,21,3,0)
performed against them.
"^DD",52.7,52.7,18,"DT")
3071129
"^DIC",51.23,51.23,0)
STANDARD MEDICATION ROUTES^51.23
"^DIC",51.23,51.23,0,"GL")
^PS(51.23,
"^DIC",51.23,51.23,"%D",0)
^1.001^14^14^3080923^
"^DIC",51.23,51.23,"%D",1,0)
Per VHA Directive 2005-044, this file has been "locked down" by Data 
"^DIC",51.23,51.23,"%D",2,0)
Standardization (DS).  The file definition (i.e. data dictionary) shall 
"^DIC",51.23,51.23,"%D",3,0)
not be modified.  All additions, changes and deletions to entries in the 
"^DIC",51.23,51.23,"%D",4,0)
file shall be done by Enterprise Reference Terminology (ERT) using the 
"^DIC",51.23,51.23,"%D",5,0)
Master File Server (MFS), provided by Common Services (CS).  Creating 
"^DIC",51.23,51.23,"%D",6,0)
and/or editing locally defined fields in the file are not permitted.  Use 
"^DIC",51.23,51.23,"%D",7,0)
of locally defined fields that were created prior to the VHA Directive's 
"^DIC",51.23,51.23,"%D",8,0)
2005-044 effective date shall not be supported.
"^DIC",51.23,51.23,"%D",9,0)

"^DIC",51.23,51.23,"%D",10,0)
This file contains the list of standard Medication Routes for Vista. 
"^DIC",51.23,51.23,"%D",11,0)
Updates will only occur to this file at the national level. Updates 
"^DIC",51.23,51.23,"%D",12,0)
cannot be made at a local facility. This file will be used to link local 
"^DIC",51.23,51.23,"%D",13,0)
Medication Routes from the Medication Routes (#51.2) file to the national 
"^DIC",51.23,51.23,"%D",14,0)
standard.
"^DIC",51.23,"B","STANDARD MEDICATION ROUTES",51.23)

"^DIC",51.24,51.24,0)
DOSE UNITS^51.24
"^DIC",51.24,51.24,0,"GL")
^PS(51.24,
"^DIC",51.24,51.24,"%",0)
^1.005^^0
"^DIC",51.24,51.24,"%D",0)
^1.001^14^14^3081010^^^^
"^DIC",51.24,51.24,"%D",1,0)
Per VHA Directive 2005-044, this file has been "locked down" by Data 
"^DIC",51.24,51.24,"%D",2,0)
Standardization (DS).  The file definition (i.e. data dictionary) shall 
"^DIC",51.24,51.24,"%D",3,0)
not be modified.  All additions, changes and deletions to entries in the 
"^DIC",51.24,51.24,"%D",4,0)
file shall be done by Enterprise Reference Terminology (ERT) using the 
"^DIC",51.24,51.24,"%D",5,0)
Master File Server (MFS), provided by Common Services (CS).  Creating 
"^DIC",51.24,51.24,"%D",6,0)
and/or editing locally defined fields in the file are not permitted.  Use 
"^DIC",51.24,51.24,"%D",7,0)
of locally defined fields that were created prior to the VHA Directive's 
"^DIC",51.24,51.24,"%D",8,0)
2005-044 effective date shall not be supported.
"^DIC",51.24,51.24,"%D",9,0)
 
"^DIC",51.24,51.24,"%D",10,0)
This file contains a list of Standard Dose Units, associated synonyms, and
"^DIC",51.24,51.24,"%D",11,0)
a corresponding FIRST DATABANK Dose Unit for every Standard Dose Unit. 
"^DIC",51.24,51.24,"%D",12,0)
The associated FIRST DATABANK Dose Unit will be used for the Dosage 
"^DIC",51.24,51.24,"%D",13,0)
Checks provided by FIRST DATABANK. Updates cannot be made at a local
"^DIC",51.24,51.24,"%D",14,0)
facility.
"^DIC",51.24,"B","DOSE UNITS",51.24)

"BLD",7078,6)
^127
**END**
**END**
