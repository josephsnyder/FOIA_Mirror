Released ICD*18*32 SEQ #31
Extracted from mail message
**KIDS**:ICD*18.0*32^

**INSTALL NAME**
ICD*18.0*32
"BLD",7403,0)
ICD*18.0*32^DRG GROUPER^0^3080204^y
"BLD",7403,4,0)
^9.64PA^^
"BLD",7403,6)
3^
"BLD",7403,6.3)
9
"BLD",7403,"INID")
^n
"BLD",7403,"INIT")
ICD1832P
"BLD",7403,"KRN",0)
^9.67PA^8989.52^19
"BLD",7403,"KRN",.4,0)
.4
"BLD",7403,"KRN",.401,0)
.401
"BLD",7403,"KRN",.402,0)
.402
"BLD",7403,"KRN",.403,0)
.403
"BLD",7403,"KRN",.5,0)
.5
"BLD",7403,"KRN",.84,0)
.84
"BLD",7403,"KRN",3.6,0)
3.6
"BLD",7403,"KRN",3.8,0)
3.8
"BLD",7403,"KRN",9.2,0)
9.2
"BLD",7403,"KRN",9.8,0)
9.8
"BLD",7403,"KRN",9.8,"NM",0)
^9.68A^7^7
"BLD",7403,"KRN",9.8,"NM",1,0)
ICD1832S^^0^B9455190
"BLD",7403,"KRN",9.8,"NM",2,0)
ICDTBL5^^0^B6322015
"BLD",7403,"KRN",9.8,"NM",3,0)
ICDDRG0^^0^B60142349
"BLD",7403,"KRN",9.8,"NM",4,0)
ICDTBL2^^0^B37828418
"BLD",7403,"KRN",9.8,"NM",5,0)
ICD1832T^^0^B4278997
"BLD",7403,"KRN",9.8,"NM",6,0)
ICD1832P^^0^B134553
"BLD",7403,"KRN",9.8,"NM",7,0)
ICD1832U^^0^B7696423
"BLD",7403,"KRN",9.8,"NM","B","ICD1832P",6)

"BLD",7403,"KRN",9.8,"NM","B","ICD1832S",1)

"BLD",7403,"KRN",9.8,"NM","B","ICD1832T",5)

"BLD",7403,"KRN",9.8,"NM","B","ICD1832U",7)

"BLD",7403,"KRN",9.8,"NM","B","ICDDRG0",3)

"BLD",7403,"KRN",9.8,"NM","B","ICDTBL2",4)

"BLD",7403,"KRN",9.8,"NM","B","ICDTBL5",2)

"BLD",7403,"KRN",19,0)
19
"BLD",7403,"KRN",19.1,0)
19.1
"BLD",7403,"KRN",101,0)
101
"BLD",7403,"KRN",409.61,0)
409.61
"BLD",7403,"KRN",771,0)
771
"BLD",7403,"KRN",870,0)
870
"BLD",7403,"KRN",8989.51,0)
8989.51
"BLD",7403,"KRN",8989.52,0)
8989.52
"BLD",7403,"KRN",8994,0)
8994
"BLD",7403,"KRN","B",.4,.4)

"BLD",7403,"KRN","B",.401,.401)

"BLD",7403,"KRN","B",.402,.402)

"BLD",7403,"KRN","B",.403,.403)

"BLD",7403,"KRN","B",.5,.5)

"BLD",7403,"KRN","B",.84,.84)

"BLD",7403,"KRN","B",3.6,3.6)

"BLD",7403,"KRN","B",3.8,3.8)

"BLD",7403,"KRN","B",9.2,9.2)

"BLD",7403,"KRN","B",9.8,9.8)

"BLD",7403,"KRN","B",19,19)

"BLD",7403,"KRN","B",19.1,19.1)

"BLD",7403,"KRN","B",101,101)

"BLD",7403,"KRN","B",409.61,409.61)

"BLD",7403,"KRN","B",771,771)

"BLD",7403,"KRN","B",870,870)

"BLD",7403,"KRN","B",8989.51,8989.51)

"BLD",7403,"KRN","B",8989.52,8989.52)

"BLD",7403,"KRN","B",8994,8994)

"BLD",7403,"QUES",0)
^9.62^^
"BLD",7403,"REQB",0)
^9.611^1^1
"BLD",7403,"REQB",1,0)
ICD*18.0*31^1
"BLD",7403,"REQB","B","ICD*18.0*31",1)

"INIT")
ICD1832P
"MBREQ")
0
"PKG",152,-1)
1^1
"PKG",152,0)
DRG GROUPER^ICD^DRG GROUPER
"PKG",152,20,0)
^9.402P^^
"PKG",152,22,0)
^9.49I^1^1
"PKG",152,22,1,0)
18.0^3001024^3010130^11721
"PKG",152,22,1,"PAH",1,0)
32^3080204^1000000011
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
7
"RTN","ICD1832P")
0^6^B134553^n/a
"RTN","ICD1832P",1,0)
ICD1832P ;;ALB/EG/DHH - FY 2008 UPDATE ; 11/9/07 1:17pm
"RTN","ICD1832P",2,0)
 ;;18.0;DRG Grouper;**32**;Oct 13,2000;Build 9
"RTN","ICD1832P",3,0)
 ;
"RTN","ICD1832P",4,0)
 D PRO^ICD1832S
"RTN","ICD1832P",5,0)
 D DIAG^ICD1832T
"RTN","ICD1832P",6,0)
 D DIAG^ICD1832U
"RTN","ICD1832P",7,0)
 Q
"RTN","ICD1832P",8,0)
 ;
"RTN","ICD1832S")
0^1^B9455190^n/a
"RTN","ICD1832S",1,0)
ICD1832S ;;ALB/EG/JAT - FY 2008 UPDATE FOLLOW-UP; 6/19/05 4:08pm ; 12/19/07 12:15pm
"RTN","ICD1832S",2,0)
 ;;18.0;DRG Grouper;**32**;Oct 13,2000;Build 9
"RTN","ICD1832S",3,0)
 ;
"RTN","ICD1832S",4,0)
 Q
"RTN","ICD1832S",5,0)
 ;       
"RTN","ICD1832S",6,0)
PRO ;-update operation/procedure codes
"RTN","ICD1832S",7,0)
 ; from Table 6B in Fed Reg - assumes new codes already added by Lexicon
"RTN","ICD1832S",8,0)
 D BMES^XPDUTL(">>>Modifying new op/pro codes - file 80.1")
"RTN","ICD1832S",9,0)
 N LINE,X,ICDPROC,ENTRY,DA,DIE,DR,IDENT,MDC24,SUBLINE,DATA,FDA
"RTN","ICD1832S",10,0)
 F LINE=1:1 S X=$T(REV+LINE) S ICDPROC=$P(X,";;",2) Q:ICDPROC="EXIT"  D
"RTN","ICD1832S",11,0)
 .Q:ICDPROC["+"
"RTN","ICD1832S",12,0)
 .; check if already created in case patch being re-installed
"RTN","ICD1832S",13,0)
 .S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",0))
"RTN","ICD1832S",14,0)
 .I $D(^ICD0(ENTRY,2,"B",3071001)) D
"RTN","ICD1832S",15,0)
 ..;kill existing entry for FY
"RTN","ICD1832S",16,0)
 .. S DA(1)=ENTRY,DA=$O(^ICD0(ENTRY,2,"B",3071001,0))
"RTN","ICD1832S",17,0)
 .. S DIK="^ICD0("_DA(1)_",2," D ^DIK K DIK,DA
"RTN","ICD1832S",18,0)
 .I ENTRY D
"RTN","ICD1832S",19,0)
 ..;check for possible inactive dupe
"RTN","ICD1832S",20,0)
 ..I $P($G(^ICD0(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD0("BA",$P(ICDPROC,U)_" ",ENTRY)) I 'ENTRY Q
"RTN","ICD1832S",21,0)
 ..S DA=ENTRY,DIE="^ICD0("
"RTN","ICD1832S",22,0)
 ..S IDENT=$P(ICDPROC,U,2)
"RTN","ICD1832S",23,0)
 ..S MDC24=$P(ICDPROC,U,3)
"RTN","ICD1832S",24,0)
 ..S DR="2///^S X=IDENT;5///^S X=MDC24"
"RTN","ICD1832S",25,0)
 ..I IDENT=""&(MDC24="") Q
"RTN","ICD1832S",26,0)
 ..D ^DIE
"RTN","ICD1832S",27,0)
 ..;add 80.171, 80.1711 and 80.17111 records
"RTN","ICD1832S",28,0)
 ..F SUBLINE=1:1 S X=$T(REV+LINE+SUBLINE) S DATA=$P(X,";;",2) Q:DATA'["+"  D
"RTN","ICD1832S",29,0)
 ...I SUBLINE=1 D
"RTN","ICD1832S",30,0)
 ....S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1832S",31,0)
 ....S FDA(1820,80.171,"+2,?1,",.01)=3071001
"RTN","ICD1832S",32,0)
 ....D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1832S",33,0)
 ...S DATA=$E(DATA,2,99)
"RTN","ICD1832S",34,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1832S",35,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3071001
"RTN","ICD1832S",36,0)
 ...S FDA(1820,80.1711,"+3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1832S",37,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1832S",38,0)
 ...S FDA(1820,80.1,"?1,",.01)="`"_ENTRY
"RTN","ICD1832S",39,0)
 ...S FDA(1820,80.171,"?2,?1,",.01)=3071001
"RTN","ICD1832S",40,0)
 ...S FDA(1820,80.1711,"?3,?2,?1,",.01)=$P(DATA,U)
"RTN","ICD1832S",41,0)
 ...S FDA(1820,80.17111,"+4,?3,?2,?1,",.01)=$P(DATA,U,2)
"RTN","ICD1832S",42,0)
 ...I $P(DATA,U,3) S FDA(1820,80.17111,"+5,?3,?2,?1,",.01)=$P(DATA,U,3)
"RTN","ICD1832S",43,0)
 ...I $P(DATA,U,4) S FDA(1820,80.17111,"+6,?3,?2,?1,",.01)=$P(DATA,U,4)
"RTN","ICD1832S",44,0)
 ...I $P(DATA,U,5) S FDA(1820,80.17111,"+7,?3,?2,?1,",.01)=$P(DATA,U,5)
"RTN","ICD1832S",45,0)
 ...I $P(DATA,U,6) S FDA(1820,80.17111,"+8,?3,?2,?1,",.01)=$P(DATA,U,6)
"RTN","ICD1832S",46,0)
 ...I $P(DATA,U,7) S FDA(1820,80.17111,"+9,?3,?2,?1,",.01)=$P(DATA,U,7)
"RTN","ICD1832S",47,0)
 ...I $P(DATA,U,8) S FDA(1820,80.17111,"+10,?3,?2,?1,",.01)=$P(DATA,U,8)
"RTN","ICD1832S",48,0)
 ...I $P(DATA,U,9) S FDA(1820,80.17111,"+11,?3,?2,?1,",.01)=$P(DATA,U,9)
"RTN","ICD1832S",49,0)
 ...D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1832S",50,0)
 Q
"RTN","ICD1832S",51,0)
 ; 
"RTN","ICD1832S",52,0)
REV ;PROC/OP^IDENTIFIER^MDC24^DRG...
"RTN","ICD1832S",53,0)
 ;;53.00^OzJ^
"RTN","ICD1832S",54,0)
 ;;+6^350^351^352
"RTN","ICD1832S",55,0)
 ;;53.01^OzJ^
"RTN","ICD1832S",56,0)
 ;;+6^350^351^352
"RTN","ICD1832S",57,0)
 ;;53.02^OzJ^
"RTN","ICD1832S",58,0)
 ;;+6^350^351^352
"RTN","ICD1832S",59,0)
 ;;53.03^OzJ^
"RTN","ICD1832S",60,0)
 ;;+6^350^351^352
"RTN","ICD1832S",61,0)
 ;;53.04^OzJ^
"RTN","ICD1832S",62,0)
 ;;+6^350^351^352
"RTN","ICD1832S",63,0)
 ;;53.05^OzJ^
"RTN","ICD1832S",64,0)
 ;;+6^350^351^352
"RTN","ICD1832S",65,0)
 ;;53.10^OzJ^
"RTN","ICD1832S",66,0)
 ;;+6^350^351^352
"RTN","ICD1832S",67,0)
 ;;53.11^OzJ^
"RTN","ICD1832S",68,0)
 ;;+6^350^351^352
"RTN","ICD1832S",69,0)
 ;;53.12^OzJ^
"RTN","ICD1832S",70,0)
 ;;+6^350^351^352
"RTN","ICD1832S",71,0)
 ;;53.13^OzJ^
"RTN","ICD1832S",72,0)
 ;;+6^350^351^352
"RTN","ICD1832S",73,0)
 ;;53.14^OzJ^
"RTN","ICD1832S",74,0)
 ;;+6^350^351^352
"RTN","ICD1832S",75,0)
 ;;53.15^OzJ^
"RTN","ICD1832S",76,0)
 ;;+6^350^351^352
"RTN","ICD1832S",77,0)
 ;;53.16^OzJ^
"RTN","ICD1832S",78,0)
 ;;+6^350^351^352
"RTN","ICD1832S",79,0)
 ;;53.17^OzJ^
"RTN","ICD1832S",80,0)
 ;;+6^350^351^352
"RTN","ICD1832S",81,0)
 ;;53.21^OzJ^
"RTN","ICD1832S",82,0)
 ;;+6^350^351^352
"RTN","ICD1832S",83,0)
 ;;53.29^OzJ^
"RTN","ICD1832S",84,0)
 ;;+6^350^351^352
"RTN","ICD1832S",85,0)
 ;;53.31^OzJ^
"RTN","ICD1832S",86,0)
 ;;+6^350^351^352
"RTN","ICD1832S",87,0)
 ;;53.39^OzJ^
"RTN","ICD1832S",88,0)
 ;;+6^350^351^352
"RTN","ICD1832S",89,0)
 ;;EXIT
"RTN","ICD1832T")
0^5^B4278997^n/a
"RTN","ICD1832T",1,0)
ICD1832T   ; ALB/JAT - FY 2008 UPDATE; 7/27/05 14:50;
"RTN","ICD1832T",2,0)
 ;;18.0;DRG Grouper;**32**;Oct 13,2000;Build 9
"RTN","ICD1832T",3,0)
 Q
"RTN","ICD1832T",4,0)
 ;
"RTN","ICD1832T",5,0)
DIAG ;
"RTN","ICD1832T",6,0)
 D BMES^XPDUTL(">>>DRG Reclassification changes")
"RTN","ICD1832T",7,0)
 D MES^XPDUTL(">>>Modifying diagnosis codes - file 80")
"RTN","ICD1832T",8,0)
 D MES^XPDUTL(">>>for new DRGs")
"RTN","ICD1832T",9,0)
 N LINE,X,ICDDIAG,ENTRY,FDA
"RTN","ICD1832T",10,0)
 F LINE=1:1 S X=$T(REVD+LINE) S ICDDIAG=$P(X,";;",2) Q:ICDDIAG="EXIT"  D
"RTN","ICD1832T",11,0)
 .S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",0))
"RTN","ICD1832T",12,0)
 .I ENTRY D
"RTN","ICD1832T",13,0)
 ..;check for possible inactive dupe
"RTN","ICD1832T",14,0)
 ..I $P($G(^ICD9(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",ENTRY)) I 'ENTRY Q 
"RTN","ICD1832T",15,0)
 ..;check if already created in case patch being re-installed
"RTN","ICD1832T",16,0)
 ..I $D(^ICD9(ENTRY,3,"B",3071001)) D
"RTN","ICD1832T",17,0)
 ...S DA(1)=ENTRY,DA=$O(^ICD9(ENTRY,3,"B",3071001,0))
"RTN","ICD1832T",18,0)
 ...S DIK="^ICD9("_DA(1)_",3," D ^DIK
"RTN","ICD1832T",19,0)
 ..; add 80.071 and 80.711 records
"RTN","ICD1832T",20,0)
 ..S FDA(1820,80,"?1,",.01)="`"_ENTRY
"RTN","ICD1832T",21,0)
 ..S FDA(1820,80.071,"+2,?1,",.01)=3071001
"RTN","ICD1832T",22,0)
 ..D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1832T",23,0)
 ..S FDA(1820,80,"?1,",.01)="`"_ENTRY
"RTN","ICD1832T",24,0)
 ..S FDA(1820,80.071,"?2,?1,",.01)=3071001
"RTN","ICD1832T",25,0)
 ..S FDA(1820,80.711,"+3,?2,?1,",.01)=$P(ICDDIAG,U,2)
"RTN","ICD1832T",26,0)
 ..I $P(ICDDIAG,U,3) S FDA(1820,80.711,"+4,?2,?1,",.01)=$P(ICDDIAG,U,3)
"RTN","ICD1832T",27,0)
 ..I $P(ICDDIAG,U,4) S FDA(1820,80.711,"+5,?2,?1,",.01)=$P(ICDDIAG,U,4)
"RTN","ICD1832T",28,0)
 ..I $P(ICDDIAG,U,5) S FDA(1820,80.711,"+6,?2,?1,",.01)=$P(ICDDIAG,U,5)
"RTN","ICD1832T",29,0)
 ..I $P(ICDDIAG,U,6) S FDA(1820,80.711,"+7,?2,?1,",.01)=$P(ICDDIAG,U,6)
"RTN","ICD1832T",30,0)
 ..I $P(ICDDIAG,U,7) S FDA(1820,80.711,"+8,?2,?1,",.01)=$P(ICDDIAG,U,7)
"RTN","ICD1832T",31,0)
 ..D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1832T",32,0)
 Q
"RTN","ICD1832T",33,0)
REVD ; DIAG^DRG...
"RTN","ICD1832T",34,0)
 ;;338.21^91^92^93
"RTN","ICD1832T",35,0)
 ;;338.22^91^92^93
"RTN","ICD1832T",36,0)
 ;;338.28^91^92^93
"RTN","ICD1832T",37,0)
 ;;338.29^91^92^93
"RTN","ICD1832T",38,0)
 ;;338.4^91^92^93
"RTN","ICD1832T",39,0)
 ;;403.00^682^683^684
"RTN","ICD1832T",40,0)
 ;;403.10^682^683^684
"RTN","ICD1832T",41,0)
 ;;403.90^682^683^684
"RTN","ICD1832T",42,0)
 ;;EXIT
"RTN","ICD1832U")
0^7^B7696423^n/a
"RTN","ICD1832U",1,0)
ICD1832U   ; ALB/DHH - FY 2008 UPDATE; 7/27/05 14:50;
"RTN","ICD1832U",2,0)
 ;;18.0;DRG Grouper;**32**;Oct 13,2000;Build 9
"RTN","ICD1832U",3,0)
 Q
"RTN","ICD1832U",4,0)
 ;
"RTN","ICD1832U",5,0)
DIAG ; - update diagnosis codes
"RTN","ICD1832U",6,0)
 ; from Table 6A in Fed Reg - assumes new codes already added by Lexicon
"RTN","ICD1832U",7,0)
 D BMES^XPDUTL(">>>Modifying new diagnosis codes - file 80")
"RTN","ICD1832U",8,0)
 N LINE,X,ICDDIAG,ENTRY,DA,DIE,DR,IDENT,MDC,MDC25,FDA
"RTN","ICD1832U",9,0)
 F LINE=1:1 S X=$T(REVD+LINE) S ICDDIAG=$P(X,";;",2) Q:ICDDIAG="EXIT"  D
"RTN","ICD1832U",10,0)
 .S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",0))
"RTN","ICD1832U",11,0)
 .I ENTRY D
"RTN","ICD1832U",12,0)
    ..;check for possible inactive dupe
"RTN","ICD1832U",13,0)
 ..I $P($G(^ICD9(ENTRY,0)),U,9)=1 S ENTRY=+$O(^ICD9("BA",$P(ICDDIAG,U)_" ",ENTRY)) I 'ENTRY Q 
"RTN","ICD1832U",14,0)
 ..S DA=ENTRY,DIE="^ICD9("
"RTN","ICD1832U",15,0)
 ..S IDENT=$P(ICDDIAG,U,2)
"RTN","ICD1832U",16,0)
 ..S MDC=$P(ICDDIAG,U,3)
"RTN","ICD1832U",17,0)
 ..;this would only apply to diagnoses who have no other MDC than a pre-MDC
"RTN","ICD1832U",18,0)
 ..I MDC="PRE" S MDC=98
"RTN","ICD1832U",19,0)
 ..S MDC25=$P(ICDDIAG,U,4)
"RTN","ICD1832U",20,0)
 ..S MDC24=$P(ICDDIAG,U,5)
"RTN","ICD1832U",21,0)
 ..S DR="2///^S X=IDENT;5///^S X=MDC;5.9///^S X=MDC25;5.7///^S X=MDC24"
"RTN","ICD1832U",22,0)
 ..D ^DIE
"RTN","ICD1832U",23,0)
 ..Q:$D(^ICD9(ENTRY,4,"B",3071001))
"RTN","ICD1832U",24,0)
 ..N FDA
"RTN","ICD1832U",25,0)
 ..S FDA(1820,80,"?1,",.01)="`"_ENTRY
"RTN","ICD1832U",26,0)
 ..S FDA(1820,80.072,"+3,?1,",.01)=3071001
"RTN","ICD1832U",27,0)
 ..S FDA(1820,80.072,"+3,?1,",1)=$P(ICDDIAG,U,3)
"RTN","ICD1832U",28,0)
 ..D UPDATE^DIE("","FDA(1820)") K FDA(1820)
"RTN","ICD1832U",29,0)
 Q
"RTN","ICD1832U",30,0)
 ;
"RTN","ICD1832U",31,0)
REVD ;DIAG^IDEN^MDC^MDC25
"RTN","ICD1832U",32,0)
 ;;338.4^^1
"RTN","ICD1832U",33,0)
 ;;040.41^^18
"RTN","ICD1832U",34,0)
 ;;040.42^^18
"RTN","ICD1832U",35,0)
 ;;058.10^^18
"RTN","ICD1832U",36,0)
 ;;058.11^^18
"RTN","ICD1832U",37,0)
 ;;058.12^^18
"RTN","ICD1832U",38,0)
 ;;058.81^^9
"RTN","ICD1832U",39,0)
 ;;058.82^^9
"RTN","ICD1832U",40,0)
 ;;058.89^^9
"RTN","ICD1832U",41,0)
 ;;079.83^^18
"RTN","ICD1832U",42,0)
 ;;233.30^^13
"RTN","ICD1832U",43,0)
 ;;233.31^^13
"RTN","ICD1832U",44,0)
 ;;233.32^^13
"RTN","ICD1832U",45,0)
 ;;233.39^^13
"RTN","ICD1832U",46,0)
 ;;255.41^^10
"RTN","ICD1832U",47,0)
 ;;255.42^^10
"RTN","ICD1832U",48,0)
 ;;258.01^^10
"RTN","ICD1832U",49,0)
 ;;258.02^^10
"RTN","ICD1832U",50,0)
 ;;258.03^^10
"RTN","ICD1832U",51,0)
 ;;288.66^^16
"RTN","ICD1832U",52,0)
 ;;315.34^^19
"RTN","ICD1832U",53,0)
 ;;331.5^^1
"RTN","ICD1832U",54,0)
 ;;359.21^^1
"RTN","ICD1832U",55,0)
 ;;359.22^^1
"RTN","ICD1832U",56,0)
 ;;359.23^^1
"RTN","ICD1832U",57,0)
 ;;359.24^^1
"RTN","ICD1832U",58,0)
 ;;359.29^^1
"RTN","ICD1832U",59,0)
 ;;364.81^^2
"RTN","ICD1832U",60,0)
 ;;364.89^^2
"RTN","ICD1832U",61,0)
 ;;388.45^^19
"RTN","ICD1832U",62,0)
 ;;389.05^^3
"RTN","ICD1832U",63,0)
 ;;389.06^^3
"RTN","ICD1832U",64,0)
 ;;389.13^^3
"RTN","ICD1832U",65,0)
 ;;389.17^^3
"RTN","ICD1832U",66,0)
 ;;389.20^^3
"RTN","ICD1832U",67,0)
 ;;389.21^^3
"RTN","ICD1832U",68,0)
 ;;389.22^^3
"RTN","ICD1832U",69,0)
 ;;414.2^^4
"RTN","ICD1832U",70,0)
 ;;415.12^^4
"RTN","ICD1832U",71,0)
 ;;423.3^^5
"RTN","ICD1832U",72,0)
 ;;440.4^^5
"RTN","ICD1832U",73,0)
 ;;449.^^5
"RTN","ICD1832U",74,0)
 ;;488.^^3
"RTN","ICD1832U",75,0)
 ;;525.71^^3
"RTN","ICD1832U",76,0)
 ;;525.72^^3
"RTN","ICD1832U",77,0)
 ;;525.73^^3
"RTN","ICD1832U",78,0)
 ;;525.79^^3
"RTN","ICD1832U",79,0)
 ;;569.43^^6
"RTN","ICD1832U",80,0)
 ;;624.01^^13
"RTN","ICD1832U",81,0)
 ;;624.02^^13
"RTN","ICD1832U",82,0)
 ;;624.09^^13
"RTN","ICD1832U",83,0)
 ;;664.60^^14
"RTN","ICD1832U",84,0)
 ;;664.61^^14
"RTN","ICD1832U",85,0)
 ;;664.64^^14
"RTN","ICD1832U",86,0)
 ;;733.45^^8
"RTN","ICD1832U",87,0)
 ;;787.20^^6
"RTN","ICD1832U",88,0)
 ;;787.21^^6
"RTN","ICD1832U",89,0)
 ;;787.22^^6
"RTN","ICD1832U",90,0)
 ;;787.23^^6
"RTN","ICD1832U",91,0)
 ;;787.24^^6
"RTN","ICD1832U",92,0)
 ;;787.29^^6
"RTN","ICD1832U",93,0)
 ;;789.51^^23
"RTN","ICD1832U",94,0)
 ;;789.59^^23
"RTN","ICD1832U",95,0)
 ;;999.31^^5
"RTN","ICD1832U",96,0)
 ;;999.39^^18
"RTN","ICD1832U",97,0)
 ;;V12.53^^23
"RTN","ICD1832U",98,0)
 ;;V12.54^^23
"RTN","ICD1832U",99,0)
 ;;V13.22^^17
"RTN","ICD1832U",100,0)
 ;;V16.52^^23
"RTN","ICD1832U",101,0)
 ;;V17.41^^23
"RTN","ICD1832U",102,0)
 ;;V17.49^^23
"RTN","ICD1832U",103,0)
 ;;V18.11^^23
"RTN","ICD1832U",104,0)
 ;;V18.19^^23
"RTN","ICD1832U",105,0)
 ;;V25.04^^23
"RTN","ICD1832U",106,0)
 ;;V26.41^^23
"RTN","ICD1832U",107,0)
 ;;V26.49^^23
"RTN","ICD1832U",108,0)
 ;;V26.81^^23
"RTN","ICD1832U",109,0)
 ;;V26.89^^23
"RTN","ICD1832U",110,0)
 ;;V49.85^^23
"RTN","ICD1832U",111,0)
 ;;V68.01^^23
"RTN","ICD1832U",112,0)
 ;;V68.09^^23
"RTN","ICD1832U",113,0)
 ;;V72.12^^23
"RTN","ICD1832U",114,0)
 ;;V73.81^^23
"RTN","ICD1832U",115,0)
 ;;V84.81^^23
"RTN","ICD1832U",116,0)
 ;;V84.89^^23
"RTN","ICD1832U",117,0)
 ;;EXIT
"RTN","ICDDRG0")
0^3^B60142349^B59783980
"RTN","ICDDRG0",1,0)
ICDDRG0 ;ALB/GRR/EG/ADL - DRG GROUPER PROCESSING BEGINS ; 11/13/07 4:06pm
"RTN","ICDDRG0",2,0)
 ;;18.0;DRG Grouper;**1,2,7,10,14,17,20,24,27,30,31,32**;Oct 20, 2000;Build 9
"RTN","ICDDRG0",3,0)
 ;GROUPING PROCESS BEGINS
"RTN","ICDDRG0",4,0)
 ;
"RTN","ICDDRG0",5,0)
GROUP ;
"RTN","ICDDRG0",6,0)
 I $D(ICDSEX(1))&($D(ICDSEX(2))) S ICDRTC=4,ICDDRG=$S(ICDDATE>3070930.9:999,1:470) G KILL^ICDDRG
"RTN","ICDDRG0",7,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15 D:ICDOPCT<2  I ((ICDDATE'>3070930.9)&("468^476^477"[ICDRG))!((ICDDATE>3070930.9)&("983^986^989"[ICDRG)) G END
"RTN","ICDDRG0",8,0)
 . I $D(ICDF) Q
"RTN","ICDDRG0",9,0)
 . I ICDPD["M",ICDOR'["y" S ICDOPCT=0 Q
"RTN","ICDDRG0",10,0)
 . I ICDDATE>3070930.9 D
"RTN","ICDDRG0",11,0)
 . . I ICDORNI["O",ICDNOR=ICDONR,ICDNOR>0,'$D(ICDPDRG(769)),ICDORNI'["p" S ICDRG=$S($D(ICDORNI("O")):983,ICDORNI["y":986,ICDORNI["z":989,1:983) Q
"RTN","ICDDRG0",12,0)
 . . I ICDOPNR S ICDRG=$S(ICDORNI["y":986,1:983),ICDOPNR=0 Q
"RTN","ICDDRG0",13,0)
 . E  D
"RTN","ICDDRG0",14,0)
 . . I ICDORNI["O",ICDNOR=ICDONR,ICDNOR>0,'$D(ICDPDRG(377)),ICDORNI'["p" S ICDRG=$S($D(ICDORNI("O")):468,ICDORNI["y":476,ICDORNI["z":477,1:468) Q
"RTN","ICDDRG0",15,0)
 . . I ICDOPNR S ICDRG=$S(ICDORNI["y":476,1:468),ICDOPNR=0 Q
"RTN","ICDDRG0",16,0)
 ;
"RTN","ICDDRG0",17,0)
 ;if number of non-extensive ORs eqs # OR, 477
"RTN","ICDDRG0",18,0)
 ;
"RTN","ICDDRG0",19,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15,ICDORNI'["y"&(ICDORNI'="")&(ICDORNI["z") D  I ((ICDDATE'>3070930.9)&(ICDRG=477))!((ICDDATE>3070930.9)&(ICDRG=989)) G END
"RTN","ICDDRG0",20,0)
 . I $D(ICDF) Q
"RTN","ICDDRG0",21,0)
 . NEW K S K=$$ORNI(ICDORNI) I K=ICDOPCT S ICDRG=$S(ICDDATE>3070930.9:989,1:477) Q
"RTN","ICDDRG0",22,0)
 ;
"RTN","ICDDRG0",23,0)
 ;if number of non-extensive ORs+prostatics eqs # OR, 476
"RTN","ICDDRG0",24,0)
 ;
"RTN","ICDDRG0",25,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15,ICDORNI["y"&(ICDORNI'="") D  I ((ICDDATE'>3070930.9)&(ICDRG=476))!((ICDDATE>3070930.9)&(ICDRG=986)) G END
"RTN","ICDDRG0",26,0)
 .N K S K=$$ORNI(ICDORNI) I K=ICDOPCT&(ICDNOR=ICDONR) S ICDRG=$S(ICDDATE>3070930.9:986,1:476) Q
"RTN","ICDDRG0",27,0)
 I ICDMDC'=14,ICDMDC'=17,ICDMDC'=18,ICDMDC'=19,ICDMDC'=20,ICDMDC'=23,ICDMDC'=15,ICDNOR=ICDONR&(ICDOPCT>0) S ICDRG=$S(ICDDATE>3070930.9:983,1:468) G END
"RTN","ICDDRG0",28,0)
 I ICDMDC=5,ICDOR'["O" S ICDRTC=$S(ICDEXP="":5,1:"") S:ICDRTC'="" ICDRG=$S(ICDDATE>3070930.9:999,1:470) D:ICDRTC="" MI G END
"RTN","ICDDRG0",29,0)
 ;I ICDMDC=18,ICDOR["O"!(ICDORNI["O") S ICDRG=415 G END  ;;disabled by ICD*18*24 and new DRGs 578/579 - see ICDTLB6C
"RTN","ICDDRG0",30,0)
 I ICDMDC=19,ICDOCNT>0,ICDOR["O" S (ICDRG,HICDRG)=$S(ICDDATE>3070930.9:876,1:424) D CKDRG
"RTN","ICDDRG0",31,0)
 I ICDMDC=23,ICDOR["O"!(ICDORNI["O") S ICDRG=$S(ICDDATE>3070930.9:941,1:461) G END
"RTN","ICDDRG0",32,0)
 I ICDMDC=14 D ^ICDDRG14 I ICDRG]"" G END
"RTN","ICDDRG0",33,0)
 I ICDMDC=20 S ICDRTC=$S(ICDDMS="":7,1:"") I ICDDMS'=0 D  G END
"RTN","ICDDRG0",34,0)
 . I ICDDATE>3070930.9 S ICDRG=$S(ICDDMS="":999,1:894) Q
"RTN","ICDDRG0",35,0)
 . S ICDRG=$S(ICDDMS="":470,1:433)
"RTN","ICDDRG0",36,0)
 I ICDMDC=22 S ICDRTC=$S(ICDTRS="":6,1:"") S:ICDRTC'="" ICDRG=$S(ICDDATE>3070930.9:999,1:470) D:ICDRTC="" CKBURN G END
"RTN","ICDDRG0",37,0)
 I ICDMDC=15 S ICDRTC=$S(ICDEXP="":5,ICDTRS="":6,1:"") I ICDTRS'=0 D  G END
"RTN","ICDDRG0",38,0)
 . I ICDDATE>3070930.9 S ICDRG=$S(ICDRTC'="":999,1:789) Q
"RTN","ICDDRG0",39,0)
 . S ICDRG=$S(ICDRTC'="":470,1:385)
"RTN","ICDDRG0",40,0)
NEONATE I 'ICDNOR!('$D(ICDODRG)) S ICDRG=$O(ICDPDRG(0)) X "I ICDMDC=15,$D(ICDSDRG),$O(ICDSDRG(0))<ICDRG D NEONATF^ICDDRG0" D  D DODRG G GETMOR:ICDRG="",END
"RTN","ICDDRG0",41,0)
 . N X,X1,X2,%
"RTN","ICDDRG0",42,0)
 . S X1=$S($G(DGADM):$G(DGADM),1:DT),X2=$G(DOB) I X1,X2 D ^%DTC I X<29 D NBCOMP Q
"RTN","ICDDRG0",43,0)
 . I ICDDATE'>3070930.9 I ICDRG<385!(ICDRG>391) Q
"RTN","ICDDRG0",44,0)
 . I ICDDATE>3070930.9 I ICDRG<789!(ICDRG>795) Q
"RTN","ICDDRG0",45,0)
 .; I "^11917^11918^11921^"[("^"_ICDDX(1)_"^") S ICDRG=395 Q
"RTN","ICDDRG0",46,0)
 . I ICDDATE'>3070930.9 I $O(ICDRG(391)) S ICDRG=$O(ICDRG(391)) Q
"RTN","ICDDRG0",47,0)
 . I ICDDATE>3070930.9 I $O(ICDRG(795)) S ICDRG=$O(ICDRG(795)) Q
"RTN","ICDDRG0",48,0)
 . I 'ICDRG S ICDRG=$S(ICDDATE>3070930.9:999,1:470),ICDRTC=8
"RTN","ICDDRG0",49,0)
 I AGE="",ICDMDC=3 S ICDRTC=3 S ICDRG=$S(ICDDATE>3070930.9:999,1:470) G END
"RTN","ICDDRG0",50,0)
 D ^ICDDRG1:ICDMDC=1,^ICDDRG2:ICDMDC=2,^ICDDRG3:ICDMDC=3,^ICDDRG5:ICDMDC=5,^ICDDRG6:ICDMDC=6,^ICDDRG7:ICDMDC=7,^ICDDRG8:ICDMDC=8,^ICDDRG9:ICDMDC=9,^ICDDRG10:ICDMDC=10,^ICDDRG11:ICDMDC=11,^ICDDRG12:ICDMDC=12,^ICDDRG13:ICDMDC=13
"RTN","ICDDRG0",51,0)
 D ^ICDDRG17:ICDMDC=17
"RTN","ICDDRG0",52,0)
CONT G:ICDMDC=15 GETMOR S (ICDRG,HICDRG)=$O(ICDODRG(0)) G:ICDRG'>0 ENTER
"RTN","ICDDRG0",53,0)
 D DODRG
"RTN","ICDDRG0",54,0)
 G:ICDRG'>0 LOOK8:ICDMDC=8,AGAIN G END
"RTN","ICDDRG0",55,0)
ENTER I 'ICDNOR,ICDORNR'=0,ICDMDC'=20,ICDMDC'=15 S ICDRG=$S(ICDDATE>3070930.9:983,1:468) G END
"RTN","ICDDRG0",56,0)
GETMOR S (ICDRG,HICDRG)=$O(ICDPDRG(0)) S:ICDRG'>0 (ICDRG,HICDRG)=$S(ICDDATE>3070930.9:998,1:469)
"RTN","ICDDRG0",57,0)
CKDRG D DODRG
"RTN","ICDDRG0",58,0)
 I ICDRG="" K ICDPDRG(HICDRG) G GETMOR
"RTN","ICDDRG0",59,0)
DODRG ;Go to DRG file and retrieve table entry to use if defined
"RTN","ICDDRG0",60,0)
 N ICDMCV,ICDMCV1,ICDMCV2
"RTN","ICDDRG0",61,0)
 N DRGFY,ICDREF S (DRGFY,ICDREF)=""
"RTN","ICDDRG0",62,0)
 I ICDRG S DRGFY=$O(^ICD(ICDRG,2,"B",$P(+$G(ICDDATE),".")_.01),-1)
"RTN","ICDDRG0",63,0)
 I 'DRGFY S DRGFY=3071001 ;default to current fiscal year
"RTN","ICDDRG0",64,0)
 S ICDREF=$O(^ICD(+ICDRG,2,"B",+DRGFY,ICDREF))
"RTN","ICDDRG0",65,0)
 I ICDREF'="" D
"RTN","ICDDRG0",66,0)
 . S ICDREF=$P($G(^ICD(+ICDRG,2,ICDREF,0)),U,3)
"RTN","ICDDRG0",67,0)
 . S ICDREF="DRG"_ICDRG_"^"_ICDREF D @ICDREF K ICDREF
"RTN","ICDDRG0",68,0)
 I ICDOR["4" D DRG232^ICDTLB3
"RTN","ICDDRG0",69,0)
 Q
"RTN","ICDDRG0",70,0)
ORNI(X) ;
"RTN","ICDDRG0",71,0)
 N I,K
"RTN","ICDDRG0",72,0)
 S K=0 F I=1:1:$L(ICDORNI) I $E(ICDORNI,I,I)="z"!($E(ICDORNI,I,I)="y") S K=K+1
"RTN","ICDDRG0",73,0)
 Q K
"RTN","ICDDRG0",74,0)
END ;
"RTN","ICDDRG0",75,0)
 D:ICDP24'=""!($D(ICDS24)) CKMST^ICDDRGX S ICDDRG=ICDRG
"RTN","ICDDRG0",76,0)
 ;ICD*18*24 check for higher numbered DRG (such as new DRG 561) before checking for 489 in CKHIV^ICDDRGX
"RTN","ICDDRG0",77,0)
 I ICDDATE<3071001 I ICDRG=489!(ICDRG=490)!(ICDRG=543&($G(ICDOR)="")) S ICDRG=$P($G(ICDPDRG),U,2) I ICDRG=543 S ICDRG=561
"RTN","ICDDRG0",78,0)
 I ICDDATE'<3071001 I ICDRG=976!(ICDRG=977)!(ICDRG=24&($G(ICDOR)="")) S ICDRG=$P($G(ICDPDRG),U,2) I ICDRG=24 S ICDRG=99
"RTN","ICDDRG0",79,0)
 D:$G(ICDP25)=1!(($G(ICDP25)>1)&($D(ICDS25(1)))) CKHIV^ICDDRGX S ICDDRG=ICDRG
"RTN","ICDDRG0",80,0)
 ; this will effectively make DRG 103 into a pre-MDC (ICD*18*1)
"RTN","ICDDRG0",81,0)
 I $D(ICDOP(" 33.6"))!$D(ICDOP(" 37.5"))!(ICDDATE>3030930.9&($D(ICDOP(" 37.51"))!$D(ICDOP(" 37.66")))) S ICDRG=$S(ICDDATE>3070930.9:2,1:103),ICDNMDC(1)="" D DODRG
"RTN","ICDDRG0",82,0)
 I (ICDDATE>3050930.9)&($D(ICDOP(" 37.64")))&($D(ICDOP(" 37.65"))) S ICDRG=$S(ICDDATE>3070930.9:2,1:103),ICDNMDC(1)="" D DODRG
"RTN","ICDDRG0",83,0)
 I (ICDDATE>3060930.9)&($D(ICDOP(" 37.63")))&($D(ICDOP(" 37.64"))) S ICDRG=$S(ICDDATE>3070930.9:2,1:103),ICDNMDC(1)="" D DODRG
"RTN","ICDDRG0",84,0)
 I $D(ICDOP(" 39.65")) S ICDRG=$S(ICDDATE>3070930.9:3,1:541),ICDNMDC(1)=""
"RTN","ICDDRG0",85,0)
 I (ICDDATE>3070930.9)&($D(ICDOP(" 46.97"))) S ICDRG=5,ICDNMDC(1)=""
"RTN","ICDDRG0",86,0)
 ; this will create DRGs 512/513 as pre-MDC
"RTN","ICDDRG0",87,0)
 I $D(ICDOP(" 52.80"))!$D(ICDOP(" 52.82")) S ICDRG=$S(ICDDATE>3070930.9:10,1:513),ICDNMDC(1)=""
"RTN","ICDDRG0",88,0)
 I (ICDDATE>3070930.9) D
"RTN","ICDDRG0",89,0)
 . I ICDRG=10 I $D(ICDOP(" 55.69")) S ICDRG=8
"RTN","ICDDRG0",90,0)
 E  I ICDRG=513 I $D(ICDOP(" 55.69")) S ICDRG=512
"RTN","ICDDRG0",91,0)
 ; this will create DRG 481 as pre-MDC - loops thru 41.00 thru .09
"RTN","ICDDRG0",92,0)
 N X S X=0 F  S X=$O(ICDOP(X)) Q:X=""  I X["41.0" S ICDRG=$S(ICDDATE>3070930.9:9,1:481),ICDNMDC(1)=""
"RTN","ICDDRG0",93,0)
 I $D(ICDNMDC(1)) I ICDNMDC(1)="" D CKNMDC^ICDDRGX S ICDDRG=ICDRG K ICDNMDC
"RTN","ICDDRG0",94,0)
 I ICDDATE>3070930.9 D
"RTN","ICDDRG0",95,0)
 . I ICDRG=983 D CHKMDC4^ICDDRGX
"RTN","ICDDRG0",96,0)
 . D DODRG S ICDDRG=ICDRG ;check for MCC/CC
"RTN","ICDDRG0",97,0)
 E  I ICDRG=468 D CHKMDC4^ICDDRGX D DODRG S ICDDRG=ICDRG
"RTN","ICDDRG0",98,0)
 S:ICDRTC="" ICDRTC=0
"RTN","ICDDRG0",99,0)
 S ICDTMP=$$DRG^ICDGTDRG(ICDDRG,ICDDATE) I '$P(ICDTMP,U,14) S ICDDRG=$S(ICDDATE>3070930.9:999,1:470)
"RTN","ICDDRG0",100,0)
 G KILL^ICDDRG
"RTN","ICDDRG0",101,0)
MI ;
"RTN","ICDDRG0",102,0)
 ; if PTCA and not a bypass
"RTN","ICDDRG0",103,0)
 I ICDOR["1"!($D(ICDOP(" 37.90"))) I ICDOR'["b"&(ICDOR'["6") D  Q
"RTN","ICDDRG0",104,0)
 . I ICDDATE>3070930.9 D CMS516^ICDTBL2 Q
"RTN","ICDDRG0",105,0)
 . E  D DRG516^ICDTLB6B
"RTN","ICDDRG0",106,0)
 I ICDPD["A" D EN1^ICDDRG5 I ICDCC3 S ICDRG=$O(ICDODRG(0)) D DODRG Q
"RTN","ICDDRG0",107,0)
 I ICDPD["AI"!(ICDSD["AI") D  Q
"RTN","ICDDRG0",108,0)
 . I ICDDATE>3070930.9 D
"RTN","ICDDRG0",109,0)
 . . S ICDRG=$S($S($D(ICDEXP):ICDEXP,1:0):285,ICDPD["V"!(ICDSD["V"):280,1:282)
"RTN","ICDDRG0",110,0)
 . E  D 
"RTN","ICDDRG0",111,0)
 . . I $D(ICDOP(" 36.07")) I $D(ICDOP(" 37.26"))!($D(ICDOP(" 37.27"))) S ICDRG=526 Q
"RTN","ICDDRG0",112,0)
 . . S ICDRG=$S($S($D(ICDEXP):ICDEXP,1:0):123,ICDPD["V"!(ICDSD["V"):121,1:122)
"RTN","ICDDRG0",113,0)
 I $D(ICDOP(" 37.26"))&($D(ICDOP(" 39.61"))) S ICDRG=$S(ICDDATE>3070930.9:230,1:108) Q
"RTN","ICDDRG0",114,0)
 ;I $D(ICDOP(" 37.26")) S ICDRG=112 Q
"RTN","ICDDRG0",115,0)
 I ICDDATE<3071001 I $D(ICDOP(" 36.07")) I $D(ICDOP(" 37.26"))!($D(ICDOP(" 37.27"))) S ICDRG=527 Q
"RTN","ICDDRG0",116,0)
 I ICDDATE<3071001 I $D(ICDOP(" 36.06")) I $D(ICDOP(" 37.26"))!$D(ICDOP(" 37.27")) S ICDRG=517 Q
"RTN","ICDDRG0",117,0)
 I $D(ICDOP(" 37.26"))!$D(ICDOP(" 37.27")) S ICDRG=$S(ICDDATE>3070930.9:251,1:518) Q
"RTN","ICDDRG0",118,0)
 I ICDOR["H" D  Q
"RTN","ICDDRG0",119,0)
 . I ICDDATE>3070930.9  S ICDRG=$S(ICDPD["X"!(ICDSD["X"):286,1:287) Q
"RTN","ICDDRG0",120,0)
 . E  S ICDRG=$S(ICDPD["X"!(ICDSD["X"):124,1:125) Q
"RTN","ICDDRG0",121,0)
 I ICDDATE>3070930.9 K ICDPDRG(286),ICDPDRG(287)
"RTN","ICDDRG0",122,0)
 E  K ICDPDRG(124)
"RTN","ICDDRG0",123,0)
 I ICDOR["p" S ICDRG=$O(ICDODRG(0)) D DODRG Q
"RTN","ICDDRG0",124,0)
 I ICDOR["F" S ICDRG=$O(ICDODRG(0)) D DODRG Q
"RTN","ICDDRG0",125,0)
 E  D  Q
"RTN","ICDDRG0",126,0)
 . I ICDDATE>3070930.9 K ICDPDRG(280),ICDPDRG(281),ICDPDRG(282) S ICDRG=$O(ICDPDRG(0)) D DODRG Q
"RTN","ICDDRG0",127,0)
 . E  K ICDPDRG(121) S ICDRG=$O(ICDPDRG(0)) D DODRG Q
"RTN","ICDDRG0",128,0)
 ;
"RTN","ICDDRG0",129,0)
CKBURN ; MDC22 - Burns (extensive, full thickness, or non-extensive)
"RTN","ICDDRG0",130,0)
 D
"RTN","ICDDRG0",131,0)
 . I ICDPD["*"!(ICDSD["*") D  Q
"RTN","ICDDRG0",132,0)
 . . I ICDDATE>3070930.9 S ICDRG=$S(ICDOR["k":927,1:933) Q
"RTN","ICDDRG0",133,0)
 . . E  S ICDRG=$S(ICDOR["k":504,1:505) Q
"RTN","ICDDRG0",134,0)
 . I ICDPD["b"!(ICDSD["b") D FTBURN Q
"RTN","ICDDRG0",135,0)
 . I ICDDATE>3070930.9 S ICDRG=$S(ICDCC!(ICDPD["T")!(ICDSD["T"):935,1:935)
"RTN","ICDDRG0",136,0)
 . E  S ICDRG=$S(ICDCC!(ICDPD["T")!(ICDSD["T"):510,1:511)
"RTN","ICDDRG0",137,0)
 Q
"RTN","ICDDRG0",138,0)
 ;
"RTN","ICDDRG0",139,0)
AGAIN G:'$D(ICDODRG) ENTER
"RTN","ICDDRG0",140,0)
 K ICDODRG(HICDRG) I $O(ICDODRG(HICDRG))'>0 K ICDODRG G GROUP
"RTN","ICDDRG0",141,0)
 S ICDRG=$O(ICDODRG(HICDRG)) G GROUP
"RTN","ICDDRG0",142,0)
 ;
"RTN","ICDDRG0",143,0)
 ;
"RTN","ICDDRG0",144,0)
LOOK8 G:'$D(ICDJ) GETMOR
"RTN","ICDDRG0",145,0)
 S ICDJ=$O(ICDJ(0)) G:ICDJ'>0 GETMOR
"RTN","ICDDRG0",146,0)
 K ICDJ(ICDJ),ICDODRG D END^ICDDRG8 G GETMOR:'$D(ICDODRG),CONT
"RTN","ICDDRG0",147,0)
 Q
"RTN","ICDDRG0",148,0)
 ;
"RTN","ICDDRG0",149,0)
NBCOMP ; check for complication related to NB
"RTN","ICDDRG0",150,0)
 I ICDSD'["J"!'$D(ICDSDRG) Q
"RTN","ICDDRG0",151,0)
 N ICDSDXCK
"RTN","ICDDRG0",152,0)
 S ICDSDXCK=$O(ICDSDRG(0))
"RTN","ICDDRG0",153,0)
 I ICDDATE>3070930.9 D
"RTN","ICDDRG0",154,0)
 . I ICDSDXCK<ICDRG,ICDSDXCK>788,ICDSDXCK<796 D
"RTN","ICDDRG0",155,0)
 .. S ICDRG=$S($D(ICDPDRG(795)):795,$D(ICDPDRG(791)):791,1:$O(ICDSDRG(0)))
"RTN","ICDDRG0",156,0)
 E  D
"RTN","ICDDRG0",157,0)
 . I ICDSDXCK<ICDRG,ICDSDXCK>384,ICDSDXCK<392 D
"RTN","ICDDRG0",158,0)
 .. S ICDRG=$S($D(ICDPDRG(391)):391,$D(ICDPDRG(387)):387,1:$O(ICDSDRG(0)))
"RTN","ICDDRG0",159,0)
 Q
"RTN","ICDDRG0",160,0)
 ;
"RTN","ICDDRG0",161,0)
FTBURN ; full thickness burn check
"RTN","ICDDRG0",162,0)
 I ICDSD["j"!(ICDOR["k") D
"RTN","ICDDRG0",163,0)
 . I ICDCC!(ICDPD["T")!(ICDSD["T") S ICDRG=$S(ICDDATE>3070930.9:928,1:506)
"RTN","ICDDRG0",164,0)
 . E  S ICDRG=$S(ICDDATE>3070930.9:929,1:507)
"RTN","ICDDRG0",165,0)
 E  D
"RTN","ICDDRG0",166,0)
 . I ICDCC!(ICDPD["T")!(ICDSD["T") S ICDRG=$S(ICDDATE>3070930.9:934,1:508)
"RTN","ICDDRG0",167,0)
 . E  S ICDRG=$S(ICDDATE>3070930.9:934,1:509)
"RTN","ICDDRG0",168,0)
 Q
"RTN","ICDDRG0",169,0)
 ;
"RTN","ICDDRG0",170,0)
NEONATF ;NEONATE - Continuation of xecute line
"RTN","ICDDRG0",171,0)
 I ICDDATE>3070930.9 S ICDRG=$S($D(ICDPDRG(795)):795,$D(ICDPDRG(791)):791,1:$O(ICDSDRG(0))) Q
"RTN","ICDDRG0",172,0)
 S ICDRG=$S($D(ICDPDRG(391)):391,$D(ICDPDRG(387)):387,1:$O(ICDSDRG(0)))
"RTN","ICDDRG0",173,0)
 Q
"RTN","ICDTBL2")
0^4^B37828418^B36870791
"RTN","ICDTBL2",1,0)
ICDTBL2 ;ALB/EG/MRY - GROUPER UTILITY FUNCTIONS ; 11/13/07 4:13pm
"RTN","ICDTBL2",2,0)
 ;;18.0;DRG Grouper;**31,32**;Oct 20, 2000;Build 9
"RTN","ICDTBL2",3,0)
DRG200 ;
"RTN","ICDTBL2",4,0)
DRG201 S ICDRG=$S(ICDMCC=2:199,ICDMCC=1:200,1:201) Q
"RTN","ICDTBL2",5,0)
DRG202 ;
"RTN","ICDTBL2",6,0)
DRG203 S ICDRG=$S(ICDMCC>0:202,1:203) Q
"RTN","ICDTBL2",7,0)
DRG204 S ICDRG=204 Q
"RTN","ICDTBL2",8,0)
DRG205 ;
"RTN","ICDTBL2",9,0)
DRG206 S ICDRG=$S(ICDMCC=2:205,1:206) Q
"RTN","ICDTBL2",10,0)
DRG207 S ICDRG=207 Q
"RTN","ICDTBL2",11,0)
DRG208 S ICDRG=208 Q
"RTN","ICDTBL2",12,0)
DRG215 S ICDRG=215 Q
"RTN","ICDTBL2",13,0)
DRG216 ;valve procedures
"RTN","ICDTBL2",14,0)
 N ICDE1,ICDE2
"RTN","ICDTBL2",15,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&($D(ICDOP(" 37.96"))):1,1:0),ICDE2=$S($D(ICDOP(" 37.97"))&($D(ICDOP(" 37.98"))):1,1:0)
"RTN","ICDTBL2",16,0)
 S:ICDOR["H" ICDRG=$S(ICDOR["N"&ICDE1:218,ICDOR["N"&ICDE2:218,ICDOR["O":218,1:ICDRG)
"RTN","ICDTBL2",17,0)
 S:ICDOR'["H" ICDRG=$S(ICDOR["N"&ICDE1:221,ICDOR["N"&ICDE2:221,ICDOR["O":221,1:ICDRG)
"RTN","ICDTBL2",18,0)
 I ICDOR["P"&(ICDE1+ICDE2=0) S ICDRG=$S(ICDOR["H":218,1:221)
"RTN","ICDTBL2",19,0)
 S:ICDRG=218 ICDRG=$S(ICDMCC=2:216,ICDMCC=1:217,1:218)
"RTN","ICDTBL2",20,0)
 S:ICDRG=221 ICDRG=$S(ICDMCC=2:219,ICDMCC=1:220,1:221)
"RTN","ICDTBL2",21,0)
 Q
"RTN","ICDTBL2",22,0)
DRG217 D DRG216 Q
"RTN","ICDTBL2",23,0)
DRG218 D DRG216 Q
"RTN","ICDTBL2",24,0)
DRG219 D DRG216 Q
"RTN","ICDTBL2",25,0)
DRG220 D DRG216 Q
"RTN","ICDTBL2",26,0)
DRG221 D DRG216 Q
"RTN","ICDTBL2",27,0)
DRG222 N ICDE1,ICDE2,ICDE3,ICDE4
"RTN","ICDTBL2",28,0)
 S ICDE1=$S($D(ICDOP(" 37.95"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2",29,0)
 S ICDE2=$S($D(ICDOP(" 37.97"))&(($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2",30,0)
 S ICDE3=$S($D(ICDOP(" 00.52"))&($D(ICDOP(" 00.54"))):1,1:0)
"RTN","ICDTBL2",31,0)
 ;S ICDE4=$S($D(ICDOP(" 00.54"))&($D(ICDOP(" 37.95"))):1,1:0)
"RTN","ICDTBL2",32,0)
 S ICDE4=$S($D(ICDOP(" 37.74"))&(($D(ICDOP(" 37.96")))!($D(ICDOP(" 37.98")))!($D(ICDOP(" 00.54")))):1,1:0)
"RTN","ICDTBL2",33,0)
 S ICDRG=999
"RTN","ICDTBL2",34,0)
 I $D(ICDOP(" 37.94"))!$D(ICDOP(" 00.51")) I ICDE1+ICDE2+ICDE3+ICDE4=0 D
"RTN","ICDTBL2",35,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2",36,0)
 I '$D(ICDOP(" 37.94"))&('$D(ICDOP(" 00.51"))) I ICDE1!ICDE2!ICDE3!ICDE4
"RTN","ICDTBL2",37,0)
 D
"RTN","ICDTBL2",38,0)
 . S ICDRG=$S(ICDMCC=2:226,1:227)
"RTN","ICDTBL2",39,0)
 ; "HN" in ICDOR represents OR proc 37.21-.23, 37.26, 88.52-.58
"RTN","ICDTBL2",40,0)
 I (ICDRG=226)!(ICDRG=227) I ICDOR["HN" I '$D(ICDOP(" 37.26")) S ICDRG=$S((ICDPD["A")&(ICDMCC=2):222,ICDPD["A":223,ICDMCC=2:224,1:225)
"RTN","ICDTBL2",41,0)
 I ICDRG=470 D CMS115
"RTN","ICDTBL2",42,0)
 Q
"RTN","ICDTBL2",43,0)
DRG223 D DRG222 Q
"RTN","ICDTBL2",44,0)
DRG224 ;
"RTN","ICDTBL2",45,0)
DRG225 D DRG222 Q
"RTN","ICDTBL2",46,0)
DRG226 ;
"RTN","ICDTBL2",47,0)
DRG227 D DRG222 Q
"RTN","ICDTBL2",48,0)
DRG228 ;
"RTN","ICDTBL2",49,0)
DRG229 ;
"RTN","ICDTBL2",50,0)
DRG230 ;DRGs 228-230 note ICDOR["Oo" = operation and DRG CMS108/MS230 procedure
"RTN","ICDTBL2",51,0)
 I ICDOR["Oo"!($D(ICDOP(" 38.44"))&($D(ICDOP(" 38.45")))) D  Q
"RTN","ICDTBL2",52,0)
 . S ICDRG=$S(ICDMCC=2:228,ICDMCC=1:229,1:230) Q
"RTN","ICDTBL2",53,0)
 G DRG237
"RTN","ICDTBL2",54,0)
DRG231 S ICDRG=999
"RTN","ICDTBL2",55,0)
 I ICDOR["b" D DRG235
"RTN","ICDTBL2",56,0)
 I ICDOR["b" I $D(ICDOP(" 35.96"))!($D(ICDOP(" 00.66"))) D  Q
"RTN","ICDTBL2",57,0)
 . S ICDRG=$S(ICDMCC=2:231,1:232)
"RTN","ICDTBL2",58,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2",59,0)
 I ICDOR["b" I $D(ICDOP(" 37.21"))!($D(ICDOP(" 37.22")))!($D(ICDOP(" 37.23"))) D DRG233 Q
"RTN","ICDTBL2",60,0)
 I ICDRG'=231&(ICDRG'=232)&(ICDRG'=233)&(ICDRG'=234)&(ICDRG'=235)&(ICDRG'=236) S ICDRG=999 D DRG237
"RTN","ICDTBL2",61,0)
 Q
"RTN","ICDTBL2",62,0)
DRG232 D DRG231 Q
"RTN","ICDTBL2",63,0)
DRG233 ; called from DRG231
"RTN","ICDTBL2",64,0)
 D MCV
"RTN","ICDTBL2",65,0)
 S ICDRG=$S(ICDMCV:233,ICDMCV1:233,1:234)
"RTN","ICDTBL2",66,0)
 S ICDRG=$S(ICDMCC=2:233,1:234)
"RTN","ICDTBL2",67,0)
 Q
"RTN","ICDTBL2",68,0)
DRG234 D DRG233 Q
"RTN","ICDTBL2",69,0)
DRG235 ;
"RTN","ICDTBL2",70,0)
DRG236 S ICDRG=$S(ICDMCC=2:235,1:236) Q
"RTN","ICDTBL2",71,0)
DRG237 I ICDOR["Oo" D DRG228
"RTN","ICDTBL2",72,0)
 S ICDRG=$S((ICDMCC=2)&(ICDOR[7):237,ICDOR[7:238,1:ICDRG)
"RTN","ICDTBL2",73,0)
 I $D(ICDOP(" 39.73")) S ICDRG=237
"RTN","ICDTBL2",74,0)
 I "228^229^230^237^238"[ICDRG Q
"RTN","ICDTBL2",75,0)
 ;I $D(ICDJJ(478))&('$D(ICDJJ(110))&'($D(ICDJJ(111)))) D DRG478^ICDTLB6C
"RTN","ICDTBL2",76,0)
 D DRG239 I "239^240^241"[ICDRG Q
"RTN","ICDTBL2",77,0)
 I ICDOR["p" D DRG260
"RTN","ICDTBL2",78,0)
 I ICDOR["1" D CMS516
"RTN","ICDTBL2",79,0)
 Q
"RTN","ICDTBL2",80,0)
DRG238 S ICDRG=$S(ICDMCC=2:237,1:238) D  Q
"RTN","ICDTBL2",81,0)
 . I $D(ICDOP(" 39.73")) S ICDRG=237
"RTN","ICDTBL2",82,0)
DRG239 ;239-241
"RTN","ICDTBL2",83,0)
DRG240 ;
"RTN","ICDTBL2",84,0)
DRG241 S ICDRG=$S($D(ICDJJ(241)):241,1:ICDRG)
"RTN","ICDTBL2",85,0)
 I ICDRG=241 S ICDRG=$S(ICDMCC=2:239,ICDMCC=1:240,1:241)
"RTN","ICDTBL2",86,0)
 Q
"RTN","ICDTBL2",87,0)
DRG242 ; called from CMS115
"RTN","ICDTBL2",88,0)
 D MCV
"RTN","ICDTBL2",89,0)
 I ICDMCV!(ICDMCV1) D
"RTN","ICDTBL2",90,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2",91,0)
 Q
"RTN","ICDTBL2",92,0)
DRG243 D CMS115 Q
"RTN","ICDTBL2",93,0)
DRG244 D CMS115 Q
"RTN","ICDTBL2",94,0)
DRG245 S ICDRG=245 Q
"RTN","ICDTBL2",95,0)
DRG246 ;
"RTN","ICDTBL2",96,0)
 D MCV
"RTN","ICDTBL2",97,0)
 I ICDMCV!ICDMCV1 S ICDRG=246
"RTN","ICDTBL2",98,0)
 E  S ICDRG=247
"RTN","ICDTBL2",99,0)
 S ICDRG=$S(ICDMCC=2:246,1:ICDRG) D  Q
"RTN","ICDTBL2",100,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2",101,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.43")) S ICDRG=246
"RTN","ICDTBL2",102,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2",103,0)
 . I $D(ICDOP(" 36.07")),$D(ICDOP(" 00.48")) S ICDRG=246
"RTN","ICDTBL2",104,0)
 Q
"RTN","ICDTBL2",105,0)
DRG247 D CMS516 Q
"RTN","ICDTBL2",106,0)
DRG248 ;Called from CMS516
"RTN","ICDTBL2",107,0)
 D MCV
"RTN","ICDTBL2",108,0)
 I ICDMCV!(ICDMCV1) S ICDRG=248
"RTN","ICDTBL2",109,0)
 S ICDRG=$S(ICDMCC=2:248,1:ICDRG) D  Q
"RTN","ICDTBL2",110,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2",111,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2",112,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2",113,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2",114,0)
 Q
"RTN","ICDTBL2",115,0)
DRG249 ;Called from CMS516
"RTN","ICDTBL2",116,0)
 D MCV
"RTN","ICDTBL2",117,0)
 I 'ICDMCV&('ICDMCV1) S ICDRG=249
"RTN","ICDTBL2",118,0)
 S ICDRG=$S(ICDMCC=2:248,1:ICDRG) D  Q
"RTN","ICDTBL2",119,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2",120,0)
 . I $D(ICDOP(" 00.66")),$D(ICDOP(" 00.43")) S ICDRG=248
"RTN","ICDTBL2",121,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2",122,0)
 . I $D(ICDOP(" 36.06")),$D(ICDOP(" 00.48")) S ICDRG=248
"RTN","ICDTBL2",123,0)
 Q
"RTN","ICDTBL2",124,0)
DRG250 ;
"RTN","ICDTBL2",125,0)
DRG251 D CMS516 Q  ;S ICDRG=$S(ICDMCC=2:250,1:251) Q
"RTN","ICDTBL2",126,0)
DRG252 ;
"RTN","ICDTBL2",127,0)
DRG253 ;
"RTN","ICDTBL2",128,0)
DRG254 S ICDRG=$S(ICDMCC=2:252,ICDMCC=1:253,1:254) Q
"RTN","ICDTBL2",129,0)
DRG255 ;
"RTN","ICDTBL2",130,0)
DRG256 ;
"RTN","ICDTBL2",131,0)
DRG257 S ICDRG=$S(ICDMCC=2:255,ICDMCC=1:256,1:257) Q
"RTN","ICDTBL2",132,0)
DRG258 ;
"RTN","ICDTBL2",133,0)
DRG259 S ICDRG=$S(ICDMCC=2:258,1:259) Q
"RTN","ICDTBL2",134,0)
DRG260 ;
"RTN","ICDTBL2",135,0)
 D CMS115 I "242^243^244^291^292^293"[ICDRG Q
"RTN","ICDTBL2",136,0)
 D DRG258 I $D(ICDOP(" 00.56")) S ICDRG=264
"RTN","ICDTBL2",137,0)
 I ICDOR["p" S ICDRG=$S(ICDMCC=2:260,ICDMCC=1:261,1:262)
"RTN","ICDTBL2",138,0)
 Q
"RTN","ICDTBL2",139,0)
DRG261 D DRG260 Q
"RTN","ICDTBL2",140,0)
DRG262 D DRG260 Q
"RTN","ICDTBL2",141,0)
DRG263 S ICDRG=263 Q
"RTN","ICDTBL2",142,0)
DRG264 S ICDRG=264 Q
"RTN","ICDTBL2",143,0)
DRG280 ;
"RTN","ICDTBL2",144,0)
DRG281 ;
"RTN","ICDTBL2",145,0)
DRG282 S ICDRG=$S(ICDMCC=2:280,ICDMCC=1:281,1:282) Q
"RTN","ICDTBL2",146,0)
DRG283 ;
"RTN","ICDTBL2",147,0)
DRG284 ;
"RTN","ICDTBL2",148,0)
DRG285 S ICDRG=$S(ICDMCC=2:283,ICDMCC=1:284,1:285) Q
"RTN","ICDTBL2",149,0)
DRG286 ;
"RTN","ICDTBL2",150,0)
DRG287 S ICDRG=$S(ICDMCC=2:286,1:287) Q
"RTN","ICDTBL2",151,0)
DRG288 ;
"RTN","ICDTBL2",152,0)
DRG289 ;
"RTN","ICDTBL2",153,0)
DRG290 S ICDRG=$S(ICDMCC=2:288,ICDMCC=1:289,1:290) Q
"RTN","ICDTBL2",154,0)
DRG291 ;
"RTN","ICDTBL2",155,0)
DRG292 ;
"RTN","ICDTBL2",156,0)
DRG293 I (ICDDX(1)=5458!$D(ICDDXT("785.51"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2",157,0)
 S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293) Q
"RTN","ICDTBL2",158,0)
DRG294 ;
"RTN","ICDTBL2",159,0)
DRG295 S ICDRG=$S(ICDMCC>0:294,1:295) Q
"RTN","ICDTBL2",160,0)
DRG296 ;
"RTN","ICDTBL2",161,0)
DRG297 ;
"RTN","ICDTBL2",162,0)
DRG298 I (ICDDX(1)=2561!$D(ICDDXT(" 427.5"))),'ICDEXP S ICDMCC=2
"RTN","ICDTBL2",163,0)
 S ICDRG=$S(ICDMCC=2:296,ICDMCC=1:297,1:298) Q
"RTN","ICDTBL2",164,0)
DRG299 S ICDRG=$S(ICDMCC=2:299,ICDMCC=1:300,1:301) Q
"RTN","ICDTBL2",165,0)
 Q
"RTN","ICDTBL2",166,0)
CMS115 ;convert DRG115^ICDTLB2C code - no MS-DRG 115 existed
"RTN","ICDTBL2",167,0)
 D EN1^ICDDRG5
"RTN","ICDTBL2",168,0)
 I ICDPD'["I"&(ICDCC2=0)&(ICDCC3=0) D  Q
"RTN","ICDTBL2",169,0)
 . S ICDRG=$S(ICDMCC=2:291,ICDMCC=1:292,1:293)
"RTN","ICDTBL2",170,0)
 I ICDCC2=1!(ICDCC3=1) D DRG242
"RTN","ICDTBL2",171,0)
 I ((ICDRG>241)&(ICDRG<245)) Q
"RTN","ICDTBL2",172,0)
 ; ICDCC2 identifies AICD LEAD OR GNRTR
"RTN","ICDTBL2",173,0)
 I ICDCC2=1!(ICDCC3=1) D  Q
"RTN","ICDTBL2",174,0)
 . S ICDRG=$S(ICDMCC=2:242,ICDMCC=1:243,1:244)
"RTN","ICDTBL2",175,0)
 Q
"RTN","ICDTBL2",176,0)
CMS516 ;convert DRG516^ICDTLB6C code - no MS-DRG 516 exists
"RTN","ICDTBL2",177,0)
  S ICDRG=$S(ICDMCC=2:250,1:251)
"RTN","ICDTBL2",178,0)
 D DRG248
"RTN","ICDTBL2",179,0)
 I $D(ICDOP(" 36.06"))!$D(ICDOP(" 92.27")) D DRG249
"RTN","ICDTBL2",180,0)
 I $D(ICDOP(" 36.07")) D DRG246
"RTN","ICDTBL2",181,0)
 Q
"RTN","ICDTBL2",182,0)
MCV ; checks to see if case qualifies as an MCV (major cardiovascular complications or complex conditions)
"RTN","ICDTBL2",183,0)
 S (ICDMCV,ICDMCV1,ICDMCV2)=0
"RTN","ICDTBL2",184,0)
 ; ICDPD=identifier for prime dx  ICDSD=identifier for any secondary dx
"RTN","ICDTBL2",185,0)
 ; DGDX(1)=prime dx  ICDDX(1)=ien of prime dx ICDDXT=any secondary dx  
"RTN","ICDTBL2",186,0)
 I ICDPD["c"!(ICDSD["c") S ICDMCV=1
"RTN","ICDTBL2",187,0)
 I ICDSD["s" S ICDMCV=1
"RTN","ICDTBL2",188,0)
 ;I DGDX(1)["426.0"!(DGDX(1)["426.53")!(DGDX(1)["426.54") S ICDMCV1=1
"RTN","ICDTBL2",189,0)
 I $G(ICDDX(1))=9056!($G(ICDDX(1))=2548)!($G(ICDDX(1))=2549) S ICDMCV1=1
"RTN","ICDTBL2",190,0)
 I $D(ICDDXT("426.0"))!($D(ICDDXT("426.53")))!($D(ICDDXT("426.54"))) S ICDMCV1=1
"RTN","ICDTBL2",191,0)
 ;I DGDX(1)["411.1"!(DGDX(1)["411.81") S ICDMCV2=1
"RTN","ICDTBL2",192,0)
 I $G(ICDDX(1))=2500!($G(ICDDX(1))=12477) S ICDMCV2=1
"RTN","ICDTBL2",193,0)
 I $D(ICDDXT("411.1"))!($D(ICDDXT("411.81"))) S ICDMCV2=1
"RTN","ICDTBL2",194,0)
 Q
"RTN","ICDTBL5")
0^2^B6322015^B6084560
"RTN","ICDTBL5",1,0)
ICDTBL5 ;ALB/EG/MRY - GROUPER UTILITY FUNCTIONS ; 11/8/07 1:44pm
"RTN","ICDTBL5",2,0)
 ;;18.0;DRG Grouper;**31,32**;Oct 20, 2000;Build 9
"RTN","ICDTBL5",3,0)
DRG500 ;
"RTN","ICDTBL5",4,0)
DRG501 ;
"RTN","ICDTBL5",5,0)
DRG502 S ICDRG=$S(ICDMCC=2:500,ICDMCC=1:501,1:502) Q
"RTN","ICDTBL5",6,0)
DRG503 ;
"RTN","ICDTBL5",7,0)
DRG504 ;
"RTN","ICDTBL5",8,0)
DRG505 S ICDRG=$S(ICDMCC=2:503,ICDMCC=1:504,1:505) Q
"RTN","ICDTBL5",9,0)
DRG506 S ICDRG=506 Q
"RTN","ICDTBL5",10,0)
DRG507 ;
"RTN","ICDTBL5",11,0)
DRG508 S ICDRG=$S(ICDMCC>0:507,1:508) Q
"RTN","ICDTBL5",12,0)
DRG509 S ICDRG=509 Q
"RTN","ICDTBL5",13,0)
DRG510 ;
"RTN","ICDTBL5",14,0)
DRG511 ;
"RTN","ICDTBL5",15,0)
DRG512 S ICDRG=$S(ICDMCC=2:510,ICDMCC=1:511,1:512) Q
"RTN","ICDTBL5",16,0)
DRG513 ;
"RTN","ICDTBL5",17,0)
DRG514 S ICDRG=$S(ICDMCC>0:513,1:514) Q
"RTN","ICDTBL5",18,0)
DRG515 ;
"RTN","ICDTBL5",19,0)
DRG516 ;
"RTN","ICDTBL5",20,0)
DRG517 S ICDRG=$S(ICDMCC=2:515,ICDMCC=1:516,1:517) Q
"RTN","ICDTBL5",21,0)
DRG533 ;
"RTN","ICDTBL5",22,0)
DRG534 S ICDRG=$S(ICDMCC=2:533,1:534) Q
"RTN","ICDTBL5",23,0)
DRG535 ;
"RTN","ICDTBL5",24,0)
DRG536 S ICDRG=$S(ICDMCC=2:535,1:536) Q
"RTN","ICDTBL5",25,0)
DRG537 ;
"RTN","ICDTBL5",26,0)
DRG538 S ICDRG=$S(ICDMCC>0:537,1:538) Q
"RTN","ICDTBL5",27,0)
DRG539 ;
"RTN","ICDTBL5",28,0)
DRG540 ;
"RTN","ICDTBL5",29,0)
DRG541 S ICDRG=$S(ICDMCC=2:539,ICDMCC=1:540,1:541) Q
"RTN","ICDTBL5",30,0)
DRG542 ;
"RTN","ICDTBL5",31,0)
DRG543 ;
"RTN","ICDTBL5",32,0)
DRG544 S ICDRG=$S(ICDMCC=2:542,ICDMCC=1:543,1:544) Q
"RTN","ICDTBL5",33,0)
DRG545 ;
"RTN","ICDTBL5",34,0)
DRG546 ;
"RTN","ICDTBL5",35,0)
DRG547 S ICDRG=$S(ICDMCC=2:545,ICDMCC=1:546,1:547) Q
"RTN","ICDTBL5",36,0)
DRG548 ;
"RTN","ICDTBL5",37,0)
DRG549 ;
"RTN","ICDTBL5",38,0)
DRG550 S ICDRG=$S(ICDMCC=2:548,ICDMCC=1:549,1:550) Q
"RTN","ICDTBL5",39,0)
DRG551 ;
"RTN","ICDTBL5",40,0)
DRG552 S ICDRG=$S(ICDMCC=2:551,1:552) Q
"RTN","ICDTBL5",41,0)
DRG553 ;
"RTN","ICDTBL5",42,0)
DRG554 S ICDRG=$S(ICDMCC=2:553,1:554) Q
"RTN","ICDTBL5",43,0)
DRG555 ;
"RTN","ICDTBL5",44,0)
DRG556 S ICDRG=$S(ICDMCC=2:555,1:556) Q
"RTN","ICDTBL5",45,0)
DRG557 ;
"RTN","ICDTBL5",46,0)
DRG558 S ICDRG=$S(ICDMCC=2:557,1:558) Q
"RTN","ICDTBL5",47,0)
DRG559 ;
"RTN","ICDTBL5",48,0)
DRG560 ;
"RTN","ICDTBL5",49,0)
DRG561 S ICDRG=$S(ICDMCC=2:559,ICDMCC=1:560,1:561) Q
"RTN","ICDTBL5",50,0)
DRG562 ;
"RTN","ICDTBL5",51,0)
DRG563 S ICDRG=$S(ICDMCC=2:562,1:563) Q
"RTN","ICDTBL5",52,0)
DRG564 ;
"RTN","ICDTBL5",53,0)
DRG565 ;
"RTN","ICDTBL5",54,0)
DRG566 S ICDRG=$S(ICDMCC=2:564,ICDMCC=1:565,1:566) Q
"RTN","ICDTBL5",55,0)
DRG573 ;
"RTN","ICDTBL5",56,0)
DRG574 ;
"RTN","ICDTBL5",57,0)
DRG575 I ICDPD["U" S ICDRG=$S(ICDMCC=2:573,ICDMCC=1:574,1:575) Q
"RTN","ICDTBL5",58,0)
DRG576 ;
"RTN","ICDTBL5",59,0)
DRG577 ;
"RTN","ICDTBL5",60,0)
DRG578 S ICDRG=$S(ICDMCC=2:576,ICDMCC=1:577,1:578) Q
"RTN","ICDTBL5",61,0)
DRG579 ;
"RTN","ICDTBL5",62,0)
DRG580 ;
"RTN","ICDTBL5",63,0)
DRG581 S ICDRG=$S(ICDMCC=2:579,ICDMCC=1:580,1:581) Q
"RTN","ICDTBL5",64,0)
DRG582 ;
"RTN","ICDTBL5",65,0)
DRG583 I ICDPD["M"!(ICDSD["M") S ICDRG=$S(ICDMCC>0:582,1:583) Q
"RTN","ICDTBL5",66,0)
 E  G DRG584
"RTN","ICDTBL5",67,0)
DRG584 ;
"RTN","ICDTBL5",68,0)
DRG585 I ICDOR["M"!(ICDOR["m") S ICDRG=$S(ICDMCC>0:584,1:585) Q
"RTN","ICDTBL5",69,0)
 E  S ICDRG="" Q
"RTN","ICDTBL5",70,0)
DRG592 ;
"RTN","ICDTBL5",71,0)
DRG593 ;
"RTN","ICDTBL5",72,0)
DRG594 S ICDRG=$S(ICDMCC=2:592,ICDMCC=1:593,1:594) Q
"RTN","ICDTBL5",73,0)
DRG595 ;
"RTN","ICDTBL5",74,0)
DRG596 S ICDRG=$S(ICDMCC=2:595,1:596) Q
"RTN","ICDTBL5",75,0)
DRG597 ;
"RTN","ICDTBL5",76,0)
DRG598 ;
"RTN","ICDTBL5",77,0)
DRG599 I ICDPD["r" S ICDRG=$S(ICDMCC=2:597,ICDMCC=1:598,1:599) Q
"RTN","ICDTBL5",78,0)
 Q
"VER")
8.0^22.0
"BLD",7403,6)
^31
**END**
**END**
