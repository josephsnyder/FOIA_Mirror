$TXT Created by WYNN,ERIC X at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 05/12/08 at 15:05
=============================================================================
Run Date: JUN 04, 2008                     Designation: PSB*3*37
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #31                      Status: Released
                  Compliance Date: JUL 05, 2008
=============================================================================

Associated patches: (v)PSB*3*8     <<= must be installed BEFORE `PSB*3*37'

Subject: BCMA BACKUP SYSTEM (BCBU) REPORTS

Category: 
  - Routine

Description:
============

  
 This patch corrects issues with the BCMA Contingency backup (BCBU).
  
 In the current release of PSB*3*8, domiciliary (DOM) patients are 
 filtered out of the BCMA Contingency backup and are not transmitted 
 to the workstation(s).  This patch provides a system parameter called 
 PSB BKUP DOM FILTER which allows the patient filter to be turned on
 or off.
  
 Patch also corrects issue where printing a single patient by Ward/Bed 
 using option PSB BCBU PRINT MAR WARD whose name collates before "BCBU" 
 produced a null subscript error.
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 HD139965 -- Patient data not available on clients after PSB*3.0*8
 HD150133 -- Problem with new Contingency set up.
 HD189870 -- Variable needs to be NEW'd
 HD209736 -- <SUBSCRIPT>DQ+41^ALPBPWRD
  
 
 PARTICIPATING TEST SITES:
 =========================
 CLEVELAND, OH
 UPSTATE NEW YORK HCS
 WHITE CITY, OR
 
  
 REMEDY OVERVIEW:
 ================
 HD139965 -- Patient data not available on clients after PSB*3.0*8
  
 Problem
 -------
 After the installation of PSB*3.0*8 site did not receive patient info on
 the client workstations. With patch PSB*3.0*8 DOM patient were screened
 and not being sent to the BCBU workstations.
  
  
 Resolution
 ----------
 Added a system parameter to allow sites to select if DOM patients are
 screened out or not.  The parameter will screen out DOM patients if 
 parameter is set to "Yes".
  
  
 HD150133 -- Problem with new Contingency set up.
  
 Problem
 -------
 New backup plan set up on a ward using an existing node that was no longer
 in use. Changed the node name and IP address.  The new node is not showing
 up in the list of wards and no data can be extracted.  HL7 shows that data
 is being sent and received.
  
 Resolution
 ----------
 Added a system parameter to allow sites to select if DOM patients are
 screened out or not.  The parameter will screen out DOM patients if 
 parameter is set to "Yes". 
  
 HD189870 -- Variable needs to be NEW'd
  
 Problem
 -------
 Ticket HD179391 exposed a missing NEW statement in routine ALPBINP.
  
 Resolution
 ----------
 Add missing NEW statement to routine ALPBINP.
  
  
 HD209736 -- <SUBSCRIPT>DQ+41^ALPBPWRD
  
 Problem
 -------
 Printing a single patient by Ward/Bed whose name collates before "BCBU" 
 produced a null subscript error.
  
 Resolution
 ----------
 Modify routine ALPBPWRD to handle a null subscript.
  
  
 TECHNICAL DESCRIPTION:
 ======================
 HD139965 - Patient data not available on clients after PSB*3.0*8
 --------
 Added a parameter - PSB BKUP DOM FILTER -- to the PARAMETER DEFINITION file
 (#8989.51).  This will be a yes/no parameter with a single instance.  When
 the parameter is set to "Yes", DOM patients will be filtered out of
 the backup.
  
 Modified routines ALPBUTL1 & ALPBINP to examine the parameter and filter 
 DOM patients only if the parameter is set to 1 ("Yes").
 
  
 HD150133 - Problem with new Contingency set up.
 --------
 Added a parameter - PSB BKUP DOM FILTER -- to the PARAMETER DEFINITION file
 (#8989.51).  This will be a yes/no parameter with a single instance.  When
 the parameter is set to "Yes", DOM patients will be filtered out of
 the backup.
  
 Modified routines ALPBUTL1 & ALPBINP to examine the parameter and filter 
 DOM patients only if the parameter is set to 1 ("Yes").
  
  
 HD189870 - Variable needs to be NEW'd
 --------
 Modified routine ALPBINP.  Add N VAIN at line 47.
  
  
 HD209736 - <SUBSCRIPT>DQ+41^ALPBPWRD
 --------
 Modified routine ALPBPWRD to handle a null value from the second $ORDER 
 statement designed to skip the BCBU node
 
 
  
 PATCH RETRIEVAL INSTRUCTIONS
 ============================
 
 Obtain the software from one the following OI Field Offices' 
 ANONYMOUS.SOFTWARE directories and move to the BCBU workstations.
 it can be installed using Load a Distribution from the Kernel Installation 
 & Distribution System menu.  The distribution file is as follows.
 
 PSB_3_37.KID
  
 Sites may retrieve the KIDS build PSB_3_37.KID in one of the following ways:
  
 (1) The preferred method is to FTP the files from download.vista.med.va.gov
     which will transmit the files from the first available FTP server.
  
 (2) Sites may also elect to retrieve the patch directly from a specific
     server as follows:
  
     Albany          ftp.fo-albany.med.va.gov
     Hines           ftp.fo-hines.med.va.gov
     Salt Lake City  ftp.fo-slc.med.va.gov
  
  
 INSTALLATION INSTRUCTIONS
 =========================
 
   **************Installation and Testing Note*********************
 
   If the site is running the BCMA Contingency software, this patch 
   must also be installed on the workstations. Once installed it is 
   suggested that the sites review the Contingency system reports.
  
   ****************************************************************
 
   Installation will take less than 1 minute.
  
   Suggested time to install: non-peak requirement hours.
   BCMA Client users should not be accessing the Client Software.
  
    1. From the Kernel Installation & Distribution System menu, select
       the LOAD DISTRIBUTION option and load PSB_3_37.KID
 
    2. From the Kernel Installation & Distribution System menu, select
       the Installation menu.
 
    3. From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSB*3.0*37):
 
      a. Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch. It will NOT
         backup any other changes such as DDs or templates.
      b. Compare Transport Global to Current System - this option will
         allow you to view all changes that will be made when the patch
         is installed. It compares all components of the patch (routines,
         DDs, templates, etc.).
      c. Verify Checksums in Transport Global - this option will ensure
         the integrity of the routines that are in the transport global.
 
    4. Use the Install Package(s) option and select the package PSB*3.0*37.
 
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install? 
       YES//" respond NO.
 
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//" respond NO.
 
 
    ****************Post-Installation Steps (IMPORTANT)************************
 
    A new parameter, PSB BKUP DOM FILTER, was added to the PARAMETER DEFINITION
    file (#8989.51) as part of PSB*3.0*37 build.  This is a yes/no parameter.  
    When the parameter is set to "Yes", DOM patients will be filtered out and 
    not populated on the BCBU Workstations. Make sure this parameter is set 
    accordingly for your site.
 
    ****************************************************************************
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 10

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: ALPBGEN1
    Before: B21891202   After: B22399656  **8,37**
Routine Name: ALPBINP
    Before: B57216519   After: B61914716  **8,37**
Routine Name: ALPBPWRD
    Before: B48969460   After: B51146671  **8,37**
Routine Name: ALPBUTL1
    Before: B34181309   After: B35747915  **8,37**
 
Routine list of preceding patches: 8

=============================================================================
User Information:
Entered By  : CASTLE,JOHN                   Date Entered  : JAN 22, 2007
Completed By: GOLDSMITH,JAMES H             Date Completed: JUN 02, 2008
Released By : COWNIE,KEVIN                  Date Released : JUN 04, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
