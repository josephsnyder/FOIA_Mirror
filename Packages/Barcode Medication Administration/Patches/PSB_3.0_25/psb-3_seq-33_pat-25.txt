$TXT Created by WYNN,ERIC X at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 09/18/08 at 09:47
=============================================================================
Run Date: DEC 31, 2008                     Designation: PSB*3*25
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #33                      Status: Released
                  Compliance Date: JAN 31, 2009
=============================================================================

Associated patches: (v)PSB*3*2     <<= must be installed BEFORE `PSB*3*25'
                    (v)PSB*3*13    <<= must be installed BEFORE `PSB*3*25'
                    (v)PSB*3*32    <<= must be installed BEFORE `PSB*3*25'

Subject: DUE LIST DISPLAYED MED NOT DUE

Category: 
  - Routine

Description:
============

 1. Problem REMEDY: HD0000000192256
    The Medication Due List displays medications which are not due. If an 
    order has an administration due at the same time the order is set to 
    expire, the Med Due list will display the administration on the report 
    indicating the dose should be administered.
  
    Solution:
    The Medication Due list routine PSBODL was modified to verify the   
    administration times for an order against the order's stop date/time to
    determine which administrations should display on the report.
  
 2. Problem REMEDY: HD0000000102241
    When administering a dose using the BCMA VDL (Virtual Due List), entry 
    of up to 40 characters is allowed in the Quantity/Units dialog box.
    Only the first 20 characters are filed and printed on the Medication
    Log Report.
  
    Solution:
    The routine PSBML has been modified to accept and file up to 40 
    characters entered in the Quantity/Units dialog box within BCMA.
  
 3. Problem REMEDY: HD0000000170166
    If a one time order expires while the VDL is open, it continues to 
    display as active. If the user does not refresh the display the system 
    will allow a dose to be administered for the expired order.
  
    Solution:
    Modifications have been made to the PSB VALIDATE ORDER RPC call to 
    PSBVDLVL. This routine has been updated to verify that a one time 
    order is still active before filing the administration.
  
 4. Problem REMEDY: HD0000000185070
    Issue with code in routine PSBO. There is a need to change the code at 
    SETUP+4. The $$SETUP^PSBO call is an extrinsic function and is
    expecting a result when processing stops within this call. There is a
    Quit command contained in this function call that does not return a
    value, thus causing an error.
  
    Solution:
    Modifications have been made to the function call $$SETUP^PSBO to 
    return the proper value of 0 or 1 when the Quit command is encountered.
  
 5. Problem REMEDY: HD0000000180377
    After a user edits a med log in GUI EDIT MED LOG, then attempts to 
    access the patient using MANUAL MEDICATION ENTRY [PSB MED LOG NEW ENTRY]
    without having the PSB MANAGER key, a message is generated: 
    "This scheduled admin is being modified by another."
   
    Solution:
    The error message in routine PSBML was modified to accurately reflect 
    the condition: "The PSB MANAGER key is required to modify this 
    scheduled admin."
 
 
 Associated NSR(s):
 ==================
  N/A  
 
  
 Associated Remedy Tickets:
 ==========================
 1. HD0000000192256 - Due list displayed med not due
 2. HD0000000102241 - Comments cut off in Quantity/Units field, usually 40
    Duplicate:
    HD0000000229149 - Units of Administration Field Retrieval Problem
 3. HD0000000170166 - Expired order appearing as active
 4. HD0000000185070 - Issue with BCMA code in PSBO
 5. HD0000000180377 - Error Creating Med Log Entry
  
  
 Participating Test Sites:
 =========================
 CENTRAL TEXAS HCS
 PUGET SOUND HCS
 WHITE RIVER JUNCTION, VT
  
  
 Installation Instructions:
 ==========================
 This patch can be loaded with users on the VistA system.  Installation 
 will take less than 1 minute.
  
 Suggested time to install: non-peak requirement hours.
  
 BCMA Client users should not be accessing the Client Software during the
 installation.  Other GUI applications are not affected when this patch is 
 installed.
  
    1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
    2. From the Kernel Installation & Distribution System menu, select
       the Installation menu option.
  
    3. From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSB*3.0*25)
  
      (a) Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      (b) Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch is
          installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      (c) Verify Checksums in Transport Global - this option will allow you
          to ensure the integrity of the routines that are in the transport
          global.
      (d) Print Transport Global - this option will allow you to view the
          components of the KIDS build.
  
    4. Use the Install Package(s) option and select the package PSB*3.0*25.
  
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install?
       YES//" respond NO.
  
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? YES//" respond NO.
 
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 6

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBML
    Before: B78116244   After: B78540880  **6,3,4,9,11,13,25**
Routine Name: PSBO
    Before: B64714477   After: B64731627  **13,32,2,25**
Routine Name: PSBODL
    Before: B72460144   After: B74741447  **5,9,38,32,25**
Routine Name: PSBVDLVL
    Before: B63610275   After: B63495779  **6,3,12,11,13,32,25**
 
Routine list of preceding patches: 2

=============================================================================
User Information:
Entered By  : CASTLE,JOHN                   Date Entered  : DEC 27, 2005
Completed By: GOLDSMITH,JAMES H             Date Completed: NOV 25, 2008
Released By : CAMPBELL,THOMAS               Date Released : DEC 31, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
