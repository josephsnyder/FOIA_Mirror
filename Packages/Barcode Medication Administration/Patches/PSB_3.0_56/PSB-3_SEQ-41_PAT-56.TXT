$TXT Created by RENE,BRIAN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 09/30/10 at 13:09
=============================================================================
Run Date: NOV 29, 2010                     Designation: PSB*3*56
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #41                      Status: Released
                  Compliance Date: DEC 30, 2010
=============================================================================

Associated patches: (v)PSB*3*32    <<= must be installed BEFORE `PSB*3*56'

Subject: ORDER PROBLEM MESSAGE, UNDEFINED IN PSBMLLKU, ON CALL STATUS, PAT DUPLICATING

Category: 
  - Routine

Description:
============

  This Patch Addresses 4 issues:
 
  1.  An invalid MUMPS date (a date prior to 12/31/1840) entered for the
      BCMA Administration Times report creates an infinite loop which sends
      out BCMA Order Problem emails.
  2.  An undefined error occurs at PTLKUP+16^PSBMLLKU when a Nursing Ward
      contains lowercase letters.
  3.  Orders with a Status of On Call do not print on the BCMA Missed Meds 
      Report or the BCMA Administration Times Report.
  4.  Patients names are duplicating on reports for wards with similar names.
 
 
 
  Associated NSR(s):
  ==================
  N/A
 
   
  Associated Remedy ticket(s):
  ============================
  1.    HD0000000293514 - BCMA order problem messages-replicating
             duplicate:  HD0000000300988
  2.    HD0000000331277 - UNDEFINED>PTLKUP+16^PSBMLLKU
  3.    HD0000000282555 - Requesting national remedy for On Call
  4.    HD0000000227166 - Patients duplicated
 
   
  PARTICIPATING TEST SITES:
  =========================
  DUBLIN, GA
  LOMA LINDA, CA
  ST CLOUD, MN
  UPSTATE NEW YORK HCS
 
 
  REMEDY OVERVIEW:
  ================
   
  1.  HD0000000293514 - BCMA order problem messages-replicating
    
  Problem:
  --------
  An invalid MUMPS date (a date prior to 12/31/1840) entered for the
  BCMA Administration Times report creates an infinite loop which continuously
  sends out BCMA Order Problem emails. 
 
  Resolution:
  -----------
  Routine PSBOWA was modified to quit if the Start Date for the BCMA 
  Administration Times Report is not a valid MUMPS date. 
 
  2.  HD00000000331277 - UNDEFINED>PTLKUP+16^PSBMLLKU
 
  Problem:
  --------
  When attempting to select a patient from a Nursing Ward that contains
  a lowercase letter, an undefined error occurs at PTLKUP+16^PSBMLLKU.
 
  Resolution:
  -----------
  Routine PSBMLLKU was modified to translate the returned data from the
  NURSING WARD (#211.4) to uppercase when checking for matches.
 
  3.  HD00000000282555 - Requesting national remedy for On Call
 
  Problem:
  --------
  Orders with a STATUS (#28) in the PHAMACY PATIENT (#55) file of 
  "On Call" do not print on the BCMA Administration Times Report or
  the BCMA Missed Meds Report.
 
  Resolution:
  -----------
  Routines PSBOWA and PSBOMM were modified to print these Orders 
  on the 2 reports. 
 
  4.   HD0000000227166 - Patients duplicated
 
  Problem:
  --------
  Patient names are appearing in duplicate on the Missed Medication Report
  when using Print Selected Patients on Ward option for wards defined with 
  similar names.
 
  Resolution:
  -----------
  Routine PSBMLLKU was modified to include the Flag "O" when looking up 
  patients. This Flag limits the Fileman call to only return exact matches.
 
 
  Installation Instructions:
  ==========================
   
    *************************** NOTE ****************************
    *  IF A USER IS ON THE SYSTEM AND USING THESE PROGRAMS      *
    *  AN EDITED ERROR WILL OCCUR.                              *
    *  The patch should be installed when NO BCMA Client        *
    *  users are on the system.                                 *
    *************************************************************
   
    Installation will take less than 1 minute.
   
    Suggested time to install: Non-peak requirement hours.
   
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
   
   2. From the Kernel Installation & Distribution System menu, select
      the Installation menu.
   
   3. From this menu, you may select to use the following options
      (when prompted for INSTALL NAME, enter PSB*3.0*56):
          a.  Verify Checksums in Transport Global - This option will allow
              you to ensure the integrity of the routines that are in the
              transport global.
          b.  Print Transport Global - This option will allow you to view
              the components of the KIDS build.
          c.  Compare Transport Global to Current System - This option will
              allow you to view all changes that will be made when this 
              patch
              is installed.  It compares all components of this patch
              (routines, DD's, templates, etc.).
          d.  Backup a Transport Global - This option will create a backup
              message of any routines exported with this patch. It will not
              backup any other changes such as DD's or templates.
   
   4. Use the Install Package(s) option and select the package PSB*3*56.
   
   5. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//"
      respond NO.
   6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? NO//" respond NO.
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 10

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBMLLKU
    Before: B78334871   After: B79282842  **3,9,11,20,13,38,32,56**
Routine Name: PSBOMM
    Before: B85940582   After: B87016727  **26,32,56**
Routine Name: PSBOWA
    Before: B50135116   After: B51492255  **9,32,56**
 
Routine list of preceding patches: 32

=============================================================================
User Information:
Entered By  : RENE,BRIAN                    Date Entered  : APR 22, 2010
Completed By: GOLDSMITH,JAMES H             Date Completed: NOV 01, 2010
Released By : LYTTLE,KIM M                  Date Released : NOV 29, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
