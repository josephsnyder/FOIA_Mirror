$TXT Created by MORRISON,JENNIFER ANN at IVBCACHE.FO-BIRM.MED.VA.GOV  (KIDS) on Tuesday, 01/15/08 at 13:32
=============================================================================
Run Date: APR 21, 2008                     Designation: PSB*3*2
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #30                      Status: Released
                  Compliance Date: MAY 22, 2008
=============================================================================

Associated patches: (v)PSB*3*32    <<= must be installed BEFORE `PSB*3*2'

Subject: BARCODE LABEL PRINT OPTION

Category: 
  - Routine
  - Data Dictionary
  - Other
  - Enhancement (Mandatory)

Description:
============

                              I M P O R T A N T
  
 *************************************************************************
  This patch adds a new Barcode Label Print [PSBO BZ] option that requires
  setting up control codes for your printer in the TERMINAL TYPE file 
  (#3.2). Please review the Special Instructions section below, the
  Release Notes, and the Bar Code Medication Administration (BCMA) 
  Technical Manual/Security Guide for guidance.
 
  Before installing into your production system, make sure you test the 
  control codes set up for the barcode printer in your TEST system.
 *************************************************************************
           
  1. Problem: HD000000067837
  The Label Print [PSBO BL] option does not allow sites the flexibility to 
  execute the control codes used by other types of barcode printers to 
  print Barcode Medication Administration (BCMA) barcode labels. The 
  logical framework of the option contains the printer's character control 
  codes for the Zebra barcode printer. Therefore, the option prints barcode
  labels for a Zebra barcode printer only.
  
  Corrective Action: The Barcode Label Print [PSBO BZ] option is added 
  by this patch. This new option allows sites the flexibility to
  execute the character control codes used by other barcode printing
  devices by storing the character control codes in the CONTROL CODES
  field (#55) located in the TERMINAL TYPE file (#3.2) as a centralized
  location for all barcode printing devices. The option prints the
  barcode label by executing the character control codes from the CONTROL
  CODES field (#55). Also, sites could use the automatic character control
  codes update function to update their CONTROL CODES field (#55) with the
  new character control codes for the Zebra and Intermec barcode
  printers. Please review the installation instructions in regards to
  using the automatic character control codes update function. In regards
  to the site's existing barcode printing functions, the user is still
  able to use the Label Print [PSBO BL] option. Please review the
  Special Instructions section for detailed information.
  
  2. Problem: HD000000067935
  When a clinician selects a particular patient to administer medication, 
  an error message appears on the screen and causes the BCMA application to
  exit. The error message appeared as a result of a patient being assigned 
  to a ward where there is more than one entry in the WARD LOCATION file 
  (#42) with the exact description (one active and the one inactive).
  
  Corrective Action: The PSBPOIV routine has been changed so that a patient
  lookup will not cause an error in the BCMA application when an ACTIVE
  entry in the WARD LOCATION file (#42) matches an INACTIVE entry.
  
  3. Problem: HD000000068282
  The Label Print [PSBO BL] option does not display all four digits of the 
  calendar year for the expiration date on the barcode label. 
  
  Corrective Action:  The Barcode Label Print [PSBO BZ] option prints
  the expiration date information at a new print position. This
  modification allows a greater field length to print all four digits
  of the calendar year on the barcode label for the expiration date. The
  print positions for other fields were adjusted to allow for the proper
  display of information on the barcode label.
  
  4. Enhancement: 17539 DRUG FILE & LABEL PRINT
  The Barcode Label Print [PSBO BZ] option allows users to print barcode
  labels for medications that have an unknown or a future drug inactivation
  date.
  
  5. Enhancement: 17530 ADD USER ID TO LABEL PRINT [PSBO BL]
  The Barcode Label Print [PSBO BZ] option allows users to print a
  blank line for the Check By and Filled By fields if the user wants to
  manually record the proper information on the barcode label at a later
  time.
  
  Associated Remedy Tickets:
  ==========================
  HD000000067837 
  HD000000067935 
  HD000000068282
  HD0000000067860
  
  Associated E3Rs:
  ================
  17539 DRUG FILE & LABEL PRINT
  17530 ADD USER ID TO LABEL PRINT [PSBO BL]
  
  Test Sites:
  ===========
  MINNEAPOLIS, MN
  PITTSBURGH HCS, PA
  OKLAHOMA CITY, OK
  UPSTATE NEW YORK HCS
  
 
  Documentation Retrieval:
  ========================
  Sites can retrieve VistA documentation in one of the following ways:
  
  1. The preferred method is to FTP the files from
  download.vista.med.va.gov. This transmits the files from the first
  available FTP server. 
  
  2. Sites may also elect to retrieve documentation directly from one of
  the following specific servers:
  
  OI Field Office    FTP Address                Directory
  Albany             ftp.fo-albany.med.va.gov   anonymous.software
  Hines              ftp.fo-hines.med.va.gov    anonymous.software
  Salt Lake City     ftp.fo-slc.med.va.gov      anonymous.software  
  
  The documentation distribution includes the following.
  
  FILE NAME                                   DESCRIPTION
  ====================================================================
  PSB_3_2_PHARM_CHUI_UM_R0308.PDF BCMA V.3.0 Pharmacy CHUI User Manual 
  PSB_3_P2_CHUI_UM_CP.PDF         BCMA V.3.0 Pharmacy CHUI User Manual 
                                  (Change Pages)
  PSB_3_2_TM_R0308.PDF            BCMA V.3.0 Technical Manual/Security
                                  Guide
  PSB_3_P2_TM_CP.PDF              BCMA V.3.0 Technical Manual/Security
                                  Guide (Change Pages)
  PSB_3_2_RN_R0308.PDF            PSB*3*2 Release Notes
    
  3. Documentation can also be retrieved from the VistA Documentation 
  Library (VDL) on the Internet at the following address: 
  http://www.va.gov/vdl.
  
  Special Instructions:
  =====================
  **Attention**  The Barcode Label Print [PSBO BZ] option should be
  thoroughly tested in a site's TEST account before moving live or into
  production. Specifically, sites should ensure that the control codes 
  set up for the barcode printer works appropriately.
 
  The Barcode Label Print menu option appears at the end of the 
  Medication Administration Menu Pharmacy [PSB PHARMACY] menu, as shown
  below.
  
  Select Medication Administration Menu Pharmacy Option: ?
  
    1      Medication Administration Log
    2      Missed Medications
    3      Due List
    4      Medication Administration History (MAH)
    5      Missing Dose Request
    6      Missing Dose Followup
    7      Missing Dose Report
    8      Label Print
    9      Drug File Inquiry
    10     Barcode Label Print
  
  In regards to the site's existing barcode printing functions, the site
  can use the Label Print [PSBO BL] option until the new character control
  codes are migrated properly to their TERMINAL TYPE file (#3.2). 
  Instructions for updating the character control codes are contained in 
  Steps 1-3 below.
  
  Once this patch is installed, each site can update their TERMINAL TYPE
  file (#3.2) with the proper control codes for either the Zebra or
  Intermec barcode printers by using the automatic control code update
  function illustrated in the three simple steps below. This function
  can eliminate the manual process normally used to enter the coding
  logic associated with each control code stored in the TERMINAL TYPE
  file (#3.2). Sites should use this function to standardize the
  information assigned to each control code that is used in the barcode
  printing process.
  
  Step 1: At the programmer or system prompt, enter D ^PSBOBLU
  
                         ***Important Note***
  Before you execute the automatic control code update function, create a 
  new terminal type entry in your TERMINAL TYPE file (#3.2) to store the 
  new barcode printer control codes. The new terminal type entry needs to
  be connected to the barcode printer device by inserting the new terminal
  type entry name into the SUBTYPE field (#3) for the barcode printer entry
  in your DEVICE file (#3.5). 
                                                                         
  This option allows you to automatically copy the BCMA pre-formatted
  control codes for the Zebra barcode printer or Intermec barcode printer
  to a device. Please select the appropriate BCMA pre-formatted control
  codes, and then select the appropriate device.
  
     Select one of the following:
  
          1         Zebra Control Codes
          2         Intermec Control Codes
  
  Step 2: Select the appropriate barcode printer
  
  Select 1 or 2: 1  Zebra Control Codes
  
  DEVICE: ZEB4$PRT
  
  Checking system status....
  
  Are you sure that you want to copy the 
  BCMA CONTROL CODES to device: ZEB4$PRT
  
  Step 3: Confirm copying process.
  
  Enter Yes or No: NO// YES     Copying Control Codes...
  
  Done...
  
   
  Installation Instructions:
  ==========================
  
  ***  This patch SHOULD NOT BE QUEUED   ***
  
  This patch can be loaded with users on the system. Installation will
  take less than 1 minute.
  
  Suggested time to install: non-peak requirement hours.
  
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
  2. From the Kernel Installation & Distribution System menu, select
     the Installation menu.
  
  3. From this menu, you may select to use the following options
     (when prompted for INSTALL NAME, enter PSB*3.0*2)
     a. Backup a Transport Global - this option will create a backup
        message of any routines exported with the patch. It will NOT
        backup any other changes such as DDs or templates.
     b. Compare Transport Global to Current System - this option will
        allow you to view all changes that will be made when the patch
        is installed. It compares all components of the patch (routines,
        DDs, templates, etc.).
     c. Verify Checksums in Transport Global - this option will ensure
        the integrity of the routines that are in the transport global.
  
  4. Use the Install Package(s) option and select the package PSB*3.0*2.
  
  5. When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of 
     Install? YES//" respond YES. 
  
  6. When prompted "Want KIDS to INHIBIT LOGONs during the install?
     YES//" respond NO.
  
  7. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? YES//" respond YES. When prompted to select the options
     you would like to place out of order, enter the following:
         Medication Administration Menu Pharmacy ...   [PSB PHARMACY]
  
  8. When prompted "Delay Install (Minutes):  (0-60): 0//" respond with a
     value between 0 and 60.
 
  9. When prompted, "Device: HOME//" respond with the correct device and 
     DO NOT queue this to P-Message.
  
  10. Please see the Special Instructions section before the Installation
     Instructions section for detailed instructions on how to use the
     automatic control code functions for setting up the TERMINAL 
     TYPE file (#3.2) with the proper control codes for the Zebra and
     Intermec barcode printers. For more information about setting up the
     control codes, refer to Appendix C: Interfacing with the Bar Code 
     Label Printer in the BCMA V.3.0 Technical Manual/Security Guide.
  
  Example Installation:
  =====================
 Select Installation Option: INstall Package(s)
 
  Select Installation Option: INSTall Package(s)
  Select INSTALL NAME:    PSB*3.0*2     Loaded from Distribution  1/15/08@
 13:43:24  => PSB*3*2
  
  This Distribution was loaded on Jan 15, 2008@13:43:24 with header of 
    PSB*3*2
    It consisted of the following Install(s):
       PSB*3.0*2
  Checking Install for Package PSB*3.0*2
  
  Install Questions for PSB*3.0*2
  
  Incoming Files:
  
    53.69     BCMA REPORT REQUEST  (Partial Definition)
  Note:  You already have the 'BCMA REPORT REQUEST' File.
  
  Want KIDS to Rebuild Menu Trees Upon Completion of Install? YES//
  
  Want KIDS to INHIBIT LOGONs during the install? NO// 
  Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//
   
  Enter options you wish to mark as 'Out Of Order': PSB PHARMACY  Medication 
   Administration Menu Pharmacy
   
  Enter options you wish to mark as 'Out Of Order': 
   
  Enter protocols you wish to mark as 'Out Of Order': 
  
  Delay Install (Minutes):  (0-60): 0// 
 
  Enter the Device you want to print the Install messages.
  You can queue the install by enter a 'Q' at the device prompt.
  Enter a '^' to abort the install.
 
  DEVICE: HOME//   GENERIC INCOMING TELNET
  
    Install Started for PSB*3.0*2 : 
                  Jan 15, 2008@13:54:53
    
    Build Distribution Date: Jan 15, 2008
     
    Installing Routines:
                  Jan 15, 2008@13:54:53
    
    Installing Data Dictionaries: 
                  Jan 15, 2008@13:54:53
  
    Installing PACKAGE COMPONENTS: 
  
    Installing FORM
  
    Installing OPTION
                  Jan 15, 2008@13:54:53
  
    Updating Routine file...
  
    Updating KIDS files...
  
    PSB*3.0*2 Installed. 
                  Jan 15, 2008@13:54:53
 
    Call MENU rebuild
 
    Starting Menu Rebuild:  Jan 15, 2008@13:54:55
 
    Menu Rebuild Complete:  Jan 15, 2008@13:55:17 
 
   -------------------------------------------------------------------------
            +------------------------------------------------------------+
    100%    |             25             50             75               |
  Complete  +------------------------------------------------------------+
  
    
  Install Completed
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 22

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBO
    Before: B64481776   After: B64714477  **13,32,2**
Routine Name: PSBO1
    Before:  B7451298   After:  B7582589  **4,13,32,2**
Routine Name: PSBOBLU
    Before:       n/a   After: B32444120  **2**
Routine Name: PSBOBZ
    Before:       n/a   After: B18129776  **2**
Routine Name: PSBPOIV
    Before: B63173944   After: B63509685  **2**

=============================================================================
User Information:
Entered By  : HOLMES,TIM                    Date Entered  : FEB 23, 2004
Completed By: LEONARD,KEN                   Date Completed: APR 18, 2008
Released By : CAMPBELL,THOMAS               Date Released : APR 21, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
