$TXT Created by RENE,BRIAN at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 04/14/10 at 10:58
=============================================================================
Run Date: NOV 16, 2010                     Designation: PSB*3*51
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3        SEQ #40                      Status: Released
                  Compliance Date: DEC 17, 2010
=============================================================================

Associated patches: (v)PSB*3*28    <<= must be installed BEFORE `PSB*3*51'
                    (v)PSB*3*45    <<= must be installed BEFORE `PSB*3*51'

Subject: MED ADMIN HISTORY, UNKNOWN STATUS AND MISSED MED REPORT ERRORS

Category: 
  - Routine

Description:
============

 
 This patch addresses 4 issues:
 1. The PRN EFFECTIVENESS field (#.22) does not display on the "Medication 
    Admin History" report but does display on the "Medication Log" report.
 
 2. MANUAL MEDICATION ENTRY [PSB MED LOG NEW ENTRY] Issue/Unknown Status 
    Report.
 
 3. "Missed Medications" report in BCMA did not display a missed medication. 
 
 4. Problems with "Missed Medication" report.
  
  
 Associated Remedy ticket(s):
 ============================
 1. HD0000000344244  PRN Effectiveness does not show up on Med Admin
                     History but does on Med Admin Log
 2. HD0000000340272  Manual Med Entry Issue/Unknown Status Report.
       duplicate: HD0000000429379  NO DIVISION ASSIGNED
 3. HD0000000295688  Missed Med Report in BCMA did not display a Missed Med
 4. HD0000000307896  Problems w/Missed Med 
 
 
 Associated NSR(s):
 ==================
 N/A
 
  
 Participating Test Sites:
 =========================
 SALISBURY, NC
 PUGET SOUND HCS
 UPSTATE NEW YORK HCS
 ILIANA HCS
 ST CLOUD, MN
 LOUISVILLE, KY
 
  
 Remedy Ticket Overview:
 =======================
  
 1. HD00000000344244 PRN Effectiveness does not show up on Med Admin
                     History but does on Med Admin Log
  
 Problem:
 --------
  The PRN EFFECTIVENESS field (#.22) of the BCMA MED LOG (#53.79) file does
  not display on the "Medication Admin History" (MAH) report when the comment
  for the PRN Effectiveness entered in BCMA is exactly 12 characters long.
  
 Resolution:
 -----------
  Routine PSBOMH1 was modified to allow for a length of exactly 90 total 
  characters (78 standard + 12 for the comment).  The original code checked 
  for a character length of (less than) <90 and (greater than) >90, but not 
  (equal) =90.
 
  
 2. HD0000000340272 Manual Med Entry Issue/Unknown Status Report.
  
 Problem:
 --------
  When a Vista Session is terminated while using MANUAL MEDICATION ENTRY
  [PSB MED LOG NEW ENTRY], the entry does not show up on the option
  UNKNOWN ACTIONS STATUS REPORT [PSBO XA].
 
  
 Resolution:
 -----------
  This error was occurring because the variable that stored the division
  was being overwritten by a null string.  Routine PSBO was modified to 
  make sure that if a valid division was already set, it would not be
  overwritten.
 
  
 3. HD0000000295688 Missed Med Report in BCMA did not display a Missed Med
  
 Problem:
 --------
  When a new order is created for a drug, given an administration time prior
  to the START DATE (#21) field on the ORDER (#100) file, and the admin time
  is changed to a time after the  START DATE (#21), the drug will display on
  the "Virtual Due List" (VDL), but not on the Missed Medications report.
  
 Resolution:
 -----------
  Routine PSBOMM2 was modified to check to determine if the new administration
  time is after the current time.  If this is true, the drug will display 
  on the Missed Medications report.
 
 
 4. HD0000000307896 Problems w/Missed Med
  
 Problem:
 --------
  When a new order is created for a drug and the administration time is
  revised, the drug will show on the "Missed Medications" report at the 
  original administration time instead of the revised administration time.
  
 Resolution:
 -----------
  Routine PSBOMM2 was modified to check to determine if the new administration
  time is after the current time. If this is true, the drug will display
  on the "Missed Medications" report based on the current administration time
  and not the original admin time.
 
  
 Installation Instructions:
 ==========================
  
   ************************ NOTE ************************
   IF A USER IS ON THE SYSTEM AND USING THESE PROGRAMS 
   AN EDITED ERROR WILL OCCUR.  
   The patch should be installed when NO Barcode Medication
   Administration (BCMA) users are on the system.
   Other VISTA users will not be affected.
   ******************************************************
  
  Installation will take less than 2 minute.
    
   Suggested time to install: non-peak requirement hours.
   
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
     
   2. From the Kernel Installation & Distribution System menu, select
      the Installation menu.
   
   3. From this menu, you may select to use the following options
      (when prompted for INSTALL NAME, enter PSB*3.0*51):
          a.  Verify Checksums in Transport Global - This option will allow
              you to ensure the integrity of the routines that are in the
              transport global.
          b.  Print Transport Global - This option will allow you to view
              the components of the KIDS build.
          c.  Compare Transport Global to Current System - This option will
              allow you to view all changes that will be made when this 
              patch is installed.  It compares all components of this patch
              (routines, DD's, templates, etc.).
          d.  Backup a Transport Global - This option will create a backup
              message of any routines exported with this patch. It will not
              backup any other changes such as DD's or templates.
    
   4. Use the Install Package(s) option and select the package PSB*3.0*51.
  
   5. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//"
      respond NO.
    
   6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? NO//" respond NO. 
 
 
 
 
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 4

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBO
    Before: B72486481   After: B72590688  **13,32,2,25,28,51**
Routine Name: PSBOMH1
    Before: B75284685   After: B75301577  **6,3,9,11,26,38,45,51**
Routine Name: PSBOMM2
    Before: B39563401   After: B39960811  **26,32,51**
 
Routine list of preceding patches: 28, 45

=============================================================================
User Information:
Entered By  : RENE,BRIAN                    Date Entered  : JUL 28, 2009
Completed By: GOLDSMITH,JAMES H             Date Completed: OCT 27, 2010
Released By : LYTTLE,KIM M                  Date Released : NOV 16, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
