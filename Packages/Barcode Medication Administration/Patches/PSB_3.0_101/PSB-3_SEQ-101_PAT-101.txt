$TXT Created by                   CLN1G2.AAC.DOMAIN.EXT  (KIDS) on Thursday, 07/18/19 at 09:14
=============================================================================
Run Date: DEC 10, 2019                     Designation: PSB*3*101
Package : PSB - BAR CODE MED ADMIN            Priority: Mandatory
Version : 3       SEQ #101                      Status: Released
                  Compliance Date: JAN 10, 2020
=============================================================================

Associated patches: (v)PSB*3*118   <<= must be installed BEFORE `PSB*3*101'

Subject: BCMA GUI DEFECT FIXES

Category: 
  - Other
  - Routine

Description:
============

 This patch contains Graphical User Interface (GUI) changes and one MUMPS
 code change, which updates the required version information for the Bar
 Code Medication Administration (BCMA) application. 
  
 This patch will resolve the following issues:
 1)  I13584754FY17 - Northern California (MAC) problem with BCMA
 Computerized Patient Record System (CPRS) Med Order button
 2)  R7364419FY16 - BCMA Sensitive record window defect
 3)  INC5727471 - Font discrepancies in BCMA software
 4)  INC6225763 - BCMA issues-Remove What's This Button
 5)  INC5854036 - Messages in BCMA are confusing to new staff nurses
 6)  INC4007198 - BCMA Application issue WIT Column
 7)  R17393426FY18 - User should not be seeing PRNs when it is unchecked
 8)  I6087257FY16 (INC6277455) - BCMA End User is reporting that the
 Pharmacy changed the dosage
 9)  I9873173FY16 - BCMA Receiving Error Undefined, Null-Subscript
 10) INC5434972 - Cosmetic changes to BCMA Site Parameters
 11) INC5436383 - Cancel button on Edit Item does not undo the changes 
  
 Defect Tracking System Ticket(s) & Overview:
 --------------------------------------------
 1.  I13584754FY17-Northern California (MAC) problem with BCMA CPRS Med 
 Order button 
  
 Problem:
 --------
 Users reported that when clicking the CPRS Meds Order Button in BCMA, 
 they receive an error message "Can't find Library".
   
 Resolution:
 -----------
 In the Parameters for the GUI, there is a setting for CPRS Med Order 
 Button to be ON or OFF for each division.  If the Parameter for a 
 division is set to OFF, it should disable the button, but it doesn't. If 
 a user clicks the button prior to patient selection, they will receive an 
 error message like "can't find library" or "not a nurse role message".
  
 The solution is to check the parameter in the Delphi GUI code, if it is
 set to OFF, disable the button so it cannot be clicked/selected, otherwise
 enable it so it can be clicked/selected.
  
 2.  R7364419FY16-BCMA Sensitive record window defect
    
 Problem:
 --------
 Sensitive record window defect - When working with Sensitive records, 
 the wrong message was displayed, in some cases "Click if you understand 
 the security issues" was displayed when it should have been "Is this the 
 correct patient?". There were also issues with which command buttons were 
 being displayed.
  
 Resolution:
 -----------
 The Delphi GUI code has been restructured so that the appropriate message
 is displayed and correct buttons are enabled/disabled when scanning
 sensitive or non-sensitive patients; as well as when using unable to scan,
 read only or limited access.
  
 3.  INC5727471- Font discrepancies in BCMA software 
  
 Problem:
 --------
 The font in the main form had MS Sans Serif fonts in the IVP/IVPB tab and 
 Tahoma in the rest. 
  
 Resolution:
 -----------
 The Delphi GUI code has been updated so the font Tahoma is used in
 IVP/IVPB and also changed in IV -IV Bag Detail.
  
 4.  INC6225763 - BCMA issues-Remove What's This Button
  
 Problem:
 --------
 A "what's this?" Button appears before the editable options in Default 
 Answers list when the user right clicks in a line.
  
 Resolution:
 -----------
 In the Delphi GUI code, a line was uncommented that turned off the showing
 of "what's this?" Button. The editable options will now show in a pop-up
 directly.
  
 5.  INC5854036-Messages in BCMA are confusing to new staff nurses
  
 Problem:
 --------
 The PRN Medication Log Schedule was not showing information clearly.
  
 Resolution:
 -----------
 The Delphi GUI code has been modified for the Schedule label in the PRN
 Medication Log object to auto size thus allowing full view.
  
 6.  INC4007198 - BCMA Application issue WIT Column
  
 Problem:
 --------
 On the Cover Sheet tab in BCMA, select PRN Overview and Expired/DC'd
 Orders in the grid and there is a column named WIT displayed that
 should not be shown.
  
 Resolution:
 -----------
 The Delphi GUI code has been updated to remove the WIT column from the
 select PRN Overview and Expired/DC'd Orders in the Cover sheet tab.
  
 7.  R17393426FY18 - User should not be seeing PRNs when it is unchecked
  
 Problem:
 --------
 When displaying an Inpatient IV order that has PRN tickets, the medicine 
 is displayed even when the PRN checkbox is not selected/checked.
 The medicine should only be displayed when the PRN checkbox is 
 checked/selected.
  
 Resolution:
 -----------
 The Delphi GUI code has been modified so it checks to see if IV
 meds are PRN so that only PRN orders are displayed when PRN is checked.
  
 8.  I6087257FY16 (INC6277455) - BCMA End User is reporting that the
 Pharmacy changed the dosage
  
 Problem:
 --------
 When an IV order is created in VistA and labels are printed, if the
 strength of an additive is changed later and then new labels are printed
 a subsequent scan of one of the old printed labels does not generate a
 message that there was a modification to the IV. This allows the care
 giver to apply the wrong IV. Problem to watch out for is a medicine can 
 be changed and BCMA not refreshed.
  
 Resolution:
 -----------
 The Delphi GUI code has been modified to show a message if the care giver
 tries to scan an old label where the medicine strength has been changed. 
 If an IV has changed strength and BCMA is not refreshed the program will 
 refresh itself.
  
 9.  I9873173FY16 - BCMA Receiving Error Undefined, NullSubscript
      
 Problem:
 --------
 The CPRS Med Order button in BCMA should only be enabled if the BCMA
 parameter program has the "Enable CPRS Med Order Button" checked/selected.
  
 Resolution:
 -----------
 See the solution for issue I13584754FY17 above, which resolves this issue 
 by checking the parameters along with other situations before enabling the
 button.
  
 10.  INC5434972 - Cosmetic changes to BCMA Site Parameters
  
 Problem:
 --------  
 The BCMA Parameters application had font inconsistencies, varying 
 italicization behaviors, erratic focusing of components, and misspellings.
   
 Resolution:
 -----------  
 The Delphi GUI code has been updated to have more consistent fonts and
 italicization behaviors, correct focus on components, and accurate
 spelling. 
  
 11.  INC5436383 - Cancel button on Edit Item does not undo the changes
  
 Problem:
 --------
 When updating values using the Body Site Editor screen, the user is 
 allowed to cancel the changes from the Edit Item screen.  A row that had 
 been checked (or unchecked) prior to cancelling still retained the state 
 of that checkbox as though the "Cancel" button was not clicked.
   
 Resolution:
 -----------    
 The Delphi GUI code has been updated to more accurately display the
 checked state of the item when the "Cancel" button is clicked.
  
  
 Test Sites:
 -----------
 Minneapolis HCS
 Maine HCS (TOGUS) 
  
 Software and Documentation Retrieval Instructions:
 -------------------------------------------------- 
 Software being released as a host file and/or documentation describing 
 the new functionality introduced by this patch are available.
  
 Files can be obtained from the ANONYMOUS.SOFTWARE directory at one of
 the OI Field Offices. The preferred method is to retrieve the file using
 Secure File Transfer Protocol (SFTP) from DOWNLOAD.VISTA.DOMAIN.EXT, which
 will transmit the file from the first available server. Alternatively,
 sites may elect to retrieve the file from a specific OI Field Office.
   
     OI FIELD OFFICE     FTP ADDRESS                    DIRECTORY 
     Hines               DOMAIN.EXT         
     Salt Lake City      DOMAIN.EXT          
  
  
 Documentation Retrieval Instructions:
 ------------------------------------- 
 Updated documentation describing the new functionality introduced by 
 this patch is available.
  
  
 The documentation will be in the form of Adobe Acrobat files.
  
 Documentation can also be found on the VA Software Documentation 
 Library at: http://www.domain.ext/vdl/
  
 Title               File Name                               FTP Mode
 ---------------------------------------------------------------------
 BCMA V.3.0 Installation Guide
                     psb_3_p101_ig.pdf                       binary
  
  
 Client Retrieval Instructions:
 ------------------------------
 Retrieve one of the below installation files from the ANONYMOUS.SOFTWARE 
 directory mentioned above:
  
      FILE NAME           BYTES        SFTP MODE
      -------------       --------     ---------
      PSB3_0P101.MSI      6,106,000     binary
      PSB3_0P101.EXE      6,690,000     binary
  
 The software installation distribution includes these modified files:
  
 FILE NAME     DESCRIPTION            FILE VERSION   BYTES    FTP MODE
 -----------   ---------------------- ------------  --------  --------
 BCMA.EXE      Client                  3.0.101.5     6,306,000  binary 
 BCMApar.EXE   Parameters Client       3.0.101.5     3,761,000  binary
  
 Patch Installation:
  
 Installation Instructions:
 --------------------------
 It is not necessary to disable any options.  You may install 
 this patch at any time without interruption to users.  It should
 take less than 2 minutes to install this patch.
   
    1. Choose the PackMan message containing this patch.
  
    2. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
    
    3. From the Kernel Installation & Distribution System menu, select
       the Installation menu. From this menu, you may select to use the
       following options (when prompted for INSTALL NAME, enter
       PSB*3.0*101):
          a.  Verify Checksums in Transport Global - This option will allow
              you to ensure the integrity of the routines that are in the
              transport global.
          b.  Print Transport Global - This option will allow you to view
              the components of the KIDS build.
          c.  Compare Transport Global to Current System - This option will
              allow you to view all changes that will be made when this 
              patch is installed.  It compares all components of this
              patch (routines, DD's, templates, etc.).
          
    4.  From the Installation Menu, select the Backup Transport Global 
        and backup the Transport Global. This option will create a backup
        message of any routines exported with this patch. It will not
        backup any other changes such as DDs or templates.
  
    5. Use the Install Package(s) option and select the package 
       PSB*3.0*101.
    
    6. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//"
       respond NO.
    
    7. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO// respond NO.
  
  
 Client Installation Instructions:
 ---------------------------------
 1. Prior client compatible with patch:  NO
 2. Client can be copied instead of installed:  YES
  
 If BCMA is currently running, please exit BCMA. This client
 installation patch file can be used to upgrade an existing version of
 BCMA, or can be used for a brand-new installation.
  
     1. Double Click on PSB3_0P101.EXE or PSB3_0P101.MSI, which will launch
        the InstallShield Wizard.
  
     2. When the InstallShield Wizard Welcome screen is displayed, click
        "Next".
  
     3. On the Choose Destination Location screen, simply click "Next"
        If you would like to change the destination folder to one other
        than default, click "Browse" to navigate to the folder of your
        choice. Click "Next".
  
     4. On the "Setup Type" screen select one of the following options:
              a. Typical - installs only the BCMA client program,
                 which is necessary for medication administration.
              b. Complete - installs the BCMA client and the
                 GUI BCMA site parameters definition program.
              c. Custom - allows you to select which programs to install.
                 Typical is selected by default. Click "Next".
  
     5. The InstallShield Wizard Ready to Install the Program screen
        will display. Click "Install" to proceed with the installation.
  
 Back-out/Rollback Strategy:                 
 --------------------------
 Back-out of this patch will be performed only with the concurrence and
 participation of the appropriate VA site/region personnel. The decision
 to back out the patch will be a joint decision between VA site/region
 personnel and other appropriate VA personnel. 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;BAR CODE MED ADMIN;**[Patch List]**;Mar 2004;Build 2

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSBRPC3
    Before:   B293459   After:   B293220  **6,3,4,16,13,10,32,28,42,58,
                                           68,70,83,97,96,118,101**
 
Routine list of preceding patches: 118

=============================================================================
User Information:
Entered By  :                               Date Entered  : MAY 05, 2017
Completed By:                               Date Completed: DEC 05, 2019
Released By :                               Date Released : DEC 10, 2019
=============================================================================


Packman Mail Message:
=====================

$END TXT
