$TXT Created by ORMSBY,SKIP at FM22-PATCH.FO-OAKLAND.MED.VA.GOV  (KIDS) on Tuesday, 11/06/07 at 05:50
=============================================================================
Run Date: DEC 17, 2007                     Designation: DI*22*152
Package : DI - VA FILEMAN                     Priority: Mandatory
Version : 22       SEQ #138                     Status: Released
                  Compliance Date: JAN 17, 2008
=============================================================================

Associated patches: (v)DI*22*46    <<= must be installed BEFORE `DI*22*152'
                    (v)DI*22*89    <<= must be installed BEFORE `DI*22*152'
                    (v)DI*22*105   <<= must be installed BEFORE `DI*22*152'
                    (v)DI*22*144   <<= must be installed BEFORE `DI*22*152'

Subject: Those Pesky '|'s In WP Fields

Category: 
  - Routine
  - Other

Description:
============

 This patch corrects the following issues:
  
 1.  When creating or editing a WORD-PROCESSING Field, the user will now be
 asked:
  
 SHALL "|" CHARACTERS IN THIS TEXT BE TREATED LIKE ANY OTHER CHARACTERS? 
 Yes//
 Example
 =======
 Select FIELD: WP
   Are you adding 'WP' as a new FIELD (the 2ND)? No// Y  (Yes)
    FIELD NUMBER: 1// .02
  
 DATA TYPE OF WP: WORD-PROCESSING  
  
 SUBSCRIPT: 1// 
 SHALL THIS TEXT NORMALLY APPEAR IN WORD-WRAP MODE? Yes//   (Yes)
 SHALL "|" CHARACTERS IN THIS TEXT BE TREATED LIKE ANY OTHER CHARACTERS? 
 Yes// ?
  
 ANSWER 'YES' IF THE INTERNALLY-STORED 'WP' TEXT MAY HAVE "|" CHARACTERS
    IN IT (SUCH AS HL7 MESSAGES) THAT NEED TO DISPLAY EXACTLY AS THEY ARE 
    STORED.
 ANSWER 'NO' IF THE INTERNAL TEXT SHOULD NORMALLY BE PRINTED OUT WITH 
    ANYTHING THAT IS DELIMITED BY "|" CHARACTERS INTERPRETED AS VARIABLE
    TEXT.
  
 SHALL "|" CHARACTERS IN THIS TEXT BE TREATED LIKE ANY OTHER CHARACTERS? 
 Yes// 
  Note: Current Word Processing fields will have a default of "No".
  
 2.  The VA FileMan FUNCTION INTERNAL(<word processing field>)
 Will now print out the contents of the word-processing field, exactly
 as they are stored, line by line, with no change to the "|" characters.
  
 3. Developers that call the VA FileMan Classic API DIWP, by adding a "X" 
 character to the input parameter DIWF will do what the "|" character was
 supposed to do but did not do well, namely ignore the "|" characters in
 the text.
  
 4.  If a Print Template contains a field that is within a multiple and 
 the multiple or field has been deleted, when the Print Template is used,
 an UNDEFined error will occur at: DOWN+1^DIL11. The deleted field will now
 be ignored.
  
 Form
 ====
  DICATT
  
 Documentation Changes
 =====================
   The updated Advanced User Manual (fm22_0un.pdf/fm22_0um.doc) and the 
 updated Programmer Manual (fm22_0pm.pdf/fm22_0pm.doc) that reflect the 
 changes in issues 1 and 3 can be obtained at:
  
   http://www.va.gov/vdl/application.asp?appid=5
  
 Blood Bank Clearance
 ====================
 Clearance - Jun 12, 2007
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch DI*22*152 contains 
 changes to a package referenced in VHA OI SEPG SOP 192-023 Review of 
 VISTA Patches for Effects on VISTA Blood Bank Software. This patch does 
 not alter or modify any VistA Blood Bank software design safeguards or 
 safety critical elements functions.
  
 RISK ANALYSIS: Changes made by patch DI*22*152 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 Remedy Ticket
 =============
  185121; 185139
  
 Thanks to Test Sites 
 ====================
  BAY PINES, FL
  OIFO-WASHINGTON (FORUM)
  PALO ALTO HCS
  SALISBURY, NC
  
 Installation Instructions: 
 ==========================
 This patch can be installed with VISTA users online.  However, it is 
 recommended that it be Queued for a time of generally least activity.  
  
 TaskMan does not need to be STOPPED or placed in a WAIT state and 
 installation should take less than a minute.
  
      1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu.  
 This option will load the KIDS package onto your system.  
  
      2.  The patch has now been loaded into a transport global on your 
 system. You now need to use KIDS to install the transport global.  
   
      3.  On the KIDS menu, under the 'Installation' menu, use the 
 following options: 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Backup a Transport Global 
  
      4.  On the KIDS menu, under the 'Installation' menu, use the 
 following option: 
             Select Installation Option: Install Package(s) 
             Select INSTALL NAME: DI*22.0*152
                                  ===========
         Answer 'NO' to 'Want KIDS to INHIBIT LOGONs during the install?
         Answer 'NO' to 'Want to DISABLE Scheduled Options, Menu Options,
 and Protocols? 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;22.0;VA FileMan;**[Patch List]**;Mar 30, 1999;Build 10

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DICATT2
    Before: B13806816   After: B17164607  **89,152**
Routine Name: DICOMP0
    Before: B15881964   After: B15729828  **6,76,114,144,152**
Routine Name: DICOMP1
    Before: B12897224   After: B13110629  **6,44,76,152**
Routine Name: DICOMPZ
    Before: B28081242   After: B28747091  **6,76,114,152**
Routine Name: DID1
    Before: B21401139   After: B22350667  **7,76,105,152**
Routine Name: DIL11
    Before:  B6522784   After:  B7236650  **152**
Routine Name: DINIT0F0
    Before: B44055163   After: B44055355  **152**
Routine Name: DINIT0F5
    Before: B64650216   After: B81255234  **76,152**
Routine Name: DIWP
    Before:  B8906401   After: B12144783  **46,152**
Routine Name: DIWW
    Before:  B8555522   After:  B8743804  **64,144,152**
 
Routine list of preceding patches: 46, 89, 105, 144

=============================================================================
User Information:
Entered By  : ORMSBY,SKIP                   Date Entered  : DEC 12, 2006
Completed By: SINGH,GURBIR                  Date Completed: DEC 14, 2007
Released By : TILLIS,LEWIS                  Date Released : DEC 17, 2007
=============================================================================


Packman Mail Message:
=====================

$END TXT
