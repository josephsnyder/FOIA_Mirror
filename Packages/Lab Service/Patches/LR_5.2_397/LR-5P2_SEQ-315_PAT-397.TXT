$TXT Created by CARPENTER,TERRY at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Friday, 05/01/09 at 10:47
=============================================================================
Run Date: DEC 23, 2009                     Designation: LR*5.2*397
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #315                    Status: Released
                  Compliance Date: JAN 23, 2010
=============================================================================

Associated patches: (v)LR*5.2*201  <<= must be installed BEFORE `LR*5.2*397'
                    (v)LR*5.2*317  <<= must be installed BEFORE `LR*5.2*397'
                    (v)LR*5.2*365  <<= must be installed BEFORE `LR*5.2*397'
                    (v)LR*5.2*368  <<= must be installed BEFORE `LR*5.2*397'

Subject: FIX FOR ANATOMIC PATHOLOGY REPORTS;RESULTS ALERTS

Category: 
  - Routine

Description:
============

 This LAB SERVICE patch will addresses the following 3 issues:
  
 1.  The Anatomic Pathology Turnaround Time report yields incorrect
     calculation of days sometimes when a holiday occurs mid-week.
  
 2.  Results alerts are being sent for patients from the REFERRAL PATIENT
     file when they shouldn't be.
  
 3.  Modifying a released Surgical Pathology report can lead to incorrectly
     stored data.
  
  
 ASSOCIATED NSR(S):
 ==================
 N/A
  
  
 ASSOCIATED REMEDY TICKET:
 =========================
 1. HD0000000285016 - Anatomic Pathology Turnaround Time did not recognize
                      Veteran's Day as a holiday
  
 2. HD0000000311482 - Cytology results available. Alert sent 
                      inappropriately
    Duplicate:
    HD0000000323493 - CPRS Alert issue
  
 3. HD0000000210102 - The Last modified date on Surgical Pathology report
                      is incorrect
  
  
 PARTICIPATING TEST SITES:
 =========================
 Augusta VAMC
 Bay Pines VAMC
 North FL/South GA HCS
 Salem VAMC
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1:  HD0000000285016 - Anatomic Pathology Turnaround Time did not recognize
                       Veteran's Day as a holiday.
  
     Problem:
     --------
     The Anatomic Pathology Turnaround Time report (LRAPTT) does not
     accurately calculate turnaround days when there is a holiday weekday
     between the specimen collection date and electronically signed date.  
     The turnaround time is the time between the collection and when the
     report is electronically signed.  The report should not include
     weekends or holidays.  Currently, if there is just 1 day between 
     these 2 dates, and that day is a holiday, the turnaround is including
     the holiday in its calculation.
  
     For example, if the collection occurred on Monday, Nov. 10, the
     E-signing occurred on Wednesday, Nov. 12, and Veteran's Day was
     Tuesday, Nov. 11, the calculation should come up with a turnaround
     time of 1 day but it calculates it to be 2 days.
  
     Solution:
     ---------
     Modify routine LRAPTT to correctly calculate the turnaround days.
  
     Routine:  LRAPTT
  
  
 2:  HD0000000311482 - Cytology results available. Alert sent
                       inappropriately
  
     Problem:
     --------
     Some sites send out their lab orders to be processed at another 
     site (reference site).  In these cases, the processing site should 
     not send out alerts since the patient (reference patient) belongs 
     to the sending site and not the processing site.  When the sending
     site receives the Lab results, it will send out the appropriate alerts
     at its own site.  Currently, not only is the system generating alerts 
     for reference patients, but it is sending the alerts for the wrong 
     patients.
  
     Solution:
     ---------
     Modify routine LRAPRES1 to not generate alerts for reference patients.
  
     Routine:  LRAPRES1
  
  
 3.  HD0000000210102 - Last modified date on Surgical Pathology report is
                       incorrect
     Problem:
     --------
     A variable which is used to pass data between programs is not getting 
     reset between calls, causing the Last Modified Date on one Surgical
     Pathology report to be carried over to the next report.
  
     Solution:
     ---------
     Modify routines LRAPMRL and LRAPMRL1 to clean up this variable so 
     that it does not get carried over to the next report, causing the 
     incorrect date.
  
     Routine:  LRAPMRL   LRAPMRL1
  
  
 BLOOD BANK IMPACT:
 ==================
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*397 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*397 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*397 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
 made, no specific validation requirements exist as a result of 
 installation of this patch.
  
  
 INSTALLATION INSTRUCTIONS:
 =========================
 The install time for this patch is less than 2 minutes. This patch may
 be installed when Laboratory users are on the system.
  
 NOTE: Kernel patches must be current on the target system
       to avoid problems loading and/or installing this patch.
  
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system.  You now need to use KIDS to install the transport global.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
       If you wish to preserve a copy of the routines exported in this 
       patch prior to installation, you should use the 'Backup a Transport
       Global' option at this time.  You may also compare the routines in
       your production account to the routines in the patch by using the
       'Compare a Transport Global to Current System' option.
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*397.
  
       If prompted 'Want KIDS to INHIBIT LOGONs during the install? NO//,
       choose 'NO'.
  
       If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//', choose 'NO'.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.2;LAB SERVICE;**[Patch List]**;Sep 27, 1994;Build 1

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LRAPMRL
    Before: B64848132   After: B65001842  **259,295,317,368,397**
Routine Name: LRAPMRL1
    Before: B21952067   After: B22036774  **259,317,397**
Routine Name: LRAPRES1
    Before: B43214564   After: B44582799  **259,336,369,365,397**
Routine Name: LRAPTT
    Before: B16486213   After: B16486069  **1,72,201,397**
 
Routine list of preceding patches: 201, 365, 368

=============================================================================
User Information:                          Hold Date     : DEC 23, 2009
Entered By  : CARPENTER,TERRY               Date Entered  : MAR 20, 2009
Completed By: WERNER,GARY                   Date Completed: OCT 23, 2009
Released By : MURCH,CLAUDETTE               Date Released : DEC 23, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
