$TXT Created by CARPENTER,TERRY at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Wednesday, 08/29/07 at 14:59
=============================================================================
Run Date: JAN 17, 2008                     Designation: LR*5.2*373
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #292                    Status: Released
                  Compliance Date: FEB 17, 2008
=============================================================================

Associated patches: (v)LR*5.2*259  <<= must be installed BEFORE `LR*5.2*373'
                    (v)LR*5.2*291  <<= must be installed BEFORE `LR*5.2*373'
                    (v)LR*5.2*295  <<= must be installed BEFORE `LR*5.2*373'

Subject: UNDEFINED ERROR WHEN LAB ORDER HAS BEEN PURGED

Category: 
  - Routine

Description:
============

 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*373 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 2004-053 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*373 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*373 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
 made, no specific validation requirements exist as a result of 
 installation of this patch.
  
 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
  
 This patch corrects several issues in the Lab Service package.
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD70054 -  Error when verifying
    Duplicate: HD207565 - UNDEFINED-VER+31^LRVER3A
  
 2. HD71282 -  Patient ID footer in prelim AP report
  
 3. HD149807 - Wrong location on orders
    Duplicate: HD163124 - Ordering location for lab order
  
  
 PARTICIPATING TEST SITES:
 =========================
 Battle Creek VAMC
 Bronx VAMC
 Central Plains HCS
 Minneapolis VAMC
 Salisbury VAMC
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1:  HD70054 - Error when verifying
     
     Problem
     -------  
     Lab personnel verifying a yearly accession whose order had already
     been purged from the LAB ORDER ENTRY file (#69) received an <UNDEF>
     error.
  
     Solution
     --------
     Modify routine LRVER3A to not attempt to retrieve data from the LAB 
     ORDER ENTRY file unless $D function determines that relevant file 69
     entry exists.
  
     Routine:  LRVER3A
  
  
 2:  HD71282 - Patient ID footer in prelim AP report
  
     Problem
     -------
     For Surgical Pathology preliminary reports, no patient ID footer
     prints when report spans 2 or more pages.
  
     Solution
     --------
     Modify routine LRSPT to check page length and print footer when
     reaching the bottom of the page before going to the next page to
     print a header.
  
     Routine:  LRSPT
  
 3:  HD149807 - Wrong location on orders
     
     Problem
     -------
     The same abbreviation can refer to more than 1 location.  This is
     causing CPRS to display the incorrect ordering location sometimes
     because the wrong IEN from the HOSPITAL LOCATION file (#44) is sent to
     CPRS by routine LR7OB69.
  
     Solution
     --------
     Modify routine LR7OB69 to send the correct HOSPITAL LOCATION IEN to
     CPRS.
  
     Routine:  LR7OB69
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 The installation time for this patch is less than 2 minutes. This patch
 can be installed when Laboratory users are on the system.
  
 NOTE: Kernel patches must be current on the target system
       to avoid problems loading and/or installing this patch.
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system.  You now need to use KIDS to install the transport global.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
       If you wish to preserve a copy of the routines exported in this 
       patch prior to installation, you should use the 'Backup a Transport
       Global' option at this time.  You may also compare the routines in
       your production account to the routines in the patch by using the
       'Compare a Transport Global to Current System' option.
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*373'.
  
       If prompted 'Want KIDS to INHIBIT LOGONs during the install? NO//,
       choose 'NO'.
  
       If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//', choose 'NO'.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.2;LAB SERVICE;**[Patch List]**;Sep 27, 1994;Build 1

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LR7OB69
    Before:  B8923375   After:  B8781159  **121,187,224,291,373**
Routine Name: LRSPT
    Before: B12494115   After: B12573002  **1,72,248,259,373**
Routine Name: LRVER3A
    Before: B23874235   After: B23895252  **1,5,42,100,121,153,190,221,
                                           254,263,266,274,295,373**
 
Routine list of preceding patches: 259, 291, 295

=============================================================================
User Information:
Entered By  : CARPENTER,TERRY               Date Entered  : AUG 13, 2007
Completed By: WERNER,GARY                   Date Completed: JAN 16, 2008
Released By : MURCH,CLAUDETTE               Date Released : JAN 17, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
