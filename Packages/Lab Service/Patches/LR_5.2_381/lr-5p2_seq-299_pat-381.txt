$TXT Created by CARPENTER,TERRY at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Friday, 02/22/08 at 11:24
=============================================================================
Run Date: OCT 27, 2008                     Designation: LR*5.2*381
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #299                    Status: Released
                  Compliance Date: NOV 27, 2008
=============================================================================

Associated patches: (v)LR*5.2*153  <<= must be installed BEFORE `LR*5.2*381'

Subject: FIX PROBLEM WITH SHORT ACCESSION LIST ERRORS

Category: 
  - Routine

Description:
============

 This patch corrects an <UNDEF> error which can occur in the SHORT
 ACCESSION LIST [LRACC2] option when sites have common accession areas.
  
  
 ASSOCIATED NSR(s):
 ==================
 N/A
  
  
 ASSOCIATED REMEDY TICKET:
 ========================
 HD0000000071118 - Short Accession List errors out
  
 Duplicates:
 -----------
 HD0000000069963 - <UNDEF>L12+1^LRLSTWRK:1
 HD0000000197421 - <undefined>L12+1^LRLSTWRK
 HD0000000244587 - 5 Error with Short Work List option [LRACC2]
  
  
 PARTICIPATING TEST SITES:
 =========================
 Bay Pines VAMC
 Puget Sound HCS
 Walla Walla VAMC
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 HD0000000071118 - Short Accession List errors out
                
  
   Problem
   -------
   When sites are using the SHORT ACCESSION LIST [LRACC2] option and have
   common accession areas, routine LRLSTWRK goes through the ACCESSION file
   (#68) to identify all the accessions for a given date.  At the end of
   the list of accessions in ACCESSION file, there are some cross-
   references.  In some cases, the code gets to these cross-references and
   errors out because the global structure for these cross-references is
   not the same as the structure for the accessions.
  
   Solution
   --------
   Modify routine LRLSTWRK to recognize when it hits the cross reference
   and stop at that point.
  
   Routine:  LRLSTWRK
  
  
 BLOOD BANK REVIEW:
 ==================
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*381 does not 
 contain any changes to the VISTA BLOOD BANK Software as defined by VHA 
 DIRECTIVE 2004-058 titled VISTA BLOOD BANK SOFTWARE VERSION 5.2.
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*381 does not 
 alter or modify any software design safeguards or safety critical 
 elements functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*381 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
 VALIDATION REQUIREMENTS BY OPTION: Because of the nature of the changes 
 made, no specific validation requirements exist as a result of 
 installation of this patch.
  
  
 INSTALLATION INSTRUCTIONS:
 =========================
 The install time for this patch is less than 2 minutes. This patch can be
 installed when Laboratory users are on the system.
  
 NOTE: Kernel patches must be current on the target system
       to avoid problems loading and/or installing this patch.
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu.  This
       option will load the KIDS patch onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system.  You now need to use KIDS to install the transport global.
  
   3.  On the 'Kernel Installation & Distribution System' Menu (KIDS),
       select the 'Installation' menu.
  
   4.  Use the 'Verify Checksum in Transport Global' option and verify that
       all routines have the correct checksums.
  
   5.  On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
         Print Transport Global
         Compare Transport Global to Current System
         Backup a Transport Global
  
       If you wish to preserve a copy of the routines exported in this 
       patch prior to installation, you should use the 'Backup a Transport
       Global' option at this time.  You may also compare the routines in
       your production account to the routines in the patch by using the
       'Compare a Transport Global to Current System' option.
  
   6.  Use the 'Install Package(s)' option under the 'Installation' menu
       and select the package 'LR*5.2*381'.
  
       If prompted 'Want KIDS to INHIBIT LOGONs during the install? NO//,
       choose 'NO'.
  
       If prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//', choose 'NO'.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.2;LAB SERVICE;**[Patch List]**;Sep 27, 1994;Build 1

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LRLSTWRK
    Before: B19636680   After: B19738735  **153,381**
 
Routine list of preceding patches: 153

=============================================================================
User Information:
Entered By  : CARPENTER,TERRY               Date Entered  : FEB 07, 2008
Completed By: WERNER,GARY                   Date Completed: OCT 23, 2008
Released By : CURTIS,SEAN                   Date Released : OCT 27, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
