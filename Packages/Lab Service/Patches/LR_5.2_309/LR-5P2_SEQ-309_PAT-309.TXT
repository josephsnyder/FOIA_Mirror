$TXT Created by ANZALDUA,CAROL K at CHLVSS.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 01/29/09 at 15:21
=============================================================================
Run Date: JUN 17, 2009                     Designation: LR*5.2*309
Package : LR - LAB SERVICE                    Priority: Mandatory
Version : 5.2       SEQ #309                    Status: Released
                  Compliance Date: JUL 18, 2009
=============================================================================

Associated patches: (v)LR*5.2*121  <<= must be installed BEFORE `LR*5.2*309'

Subject: DELETE FIELD IN CYTOPATHOLOGY SUB-FILE (#63.09)

Category: 
  - Data Dictionary
  - Routine
  - Other

Description:
============

 BLOOD BANK
 ==========
  
 VISTA Laboratory Package patch LR*5.2*309 contains changes to 
 software controlled by VHA DIRECTIVE 2004-058, titled VISTA 
 BLOOD BANK SOFTWARE. Changes include: 
   
  File          Field               Action
    
 63.09,20      DESCRIPTION         Delete
  
 All of the above changes have been reviewed by the VISTA Blood Bank
 Developer and found to have no impact on the VISTA BLOOD BANK SOFTWARE
 control functions.
  
 RISK ANALYSIS: Changes made by patch LR*5.2*309 have no effect on Blood
 Bank software functionality, therefore RISK is none.
   
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch LR*5.2*309 does not
 alter or modify any software design safeguards or safety critical 
 elements functions.
   
 POTENTIAL IMPACT ON SITES: This patch contains changes to 0 routines
 and 1 files identified in Veterans Health Administration (VHA) Directive
 2004-058, group B listing. The changes have no effect on Blood Bank
 functionality or medical device control functions. There is no adverse
 potential to sites.
  
 VALIDATION REQUIREMENTS BY OPTION: 
   
 There are no Validation requirements or options to be validated
 in this patch.
   
 MINIMAL TEST CASE SCENARIOS BY OPTION, INCLUSIVE OF ALL CONTROL 
 FUNCTIONS:
   
 There are no Test Case Scenarios associated with this patch.
    
 DESCRIPTION: 
 ============ 
 This patch removes one field, the DESCRIPTION field (#20), in the
 LAB DATA file (#63) CYTOPATHOLOGY sub-file (#63.09), and a reference to this
 field in routine ^LRAUAW.
  
 Although it is highly unlikely that data exists in the DESCRIPTION 
 field (#20), the patch checks for data that may have been entered in
 the field.  Any data that is found is moved to the ^XTMP("LR309")
 global and stored for 180 days before it is purged. If data is found,
 the installation routine also generates and sends a mail message to the
 holders of security keys LRLIASON and LRAPSUPER to be used as a source
 document to determine how the data should be handled if at all.
 The message contains the LR*5.2*309 Data Report which lists the data 
 found, the accession number, the patient's name, social security number
 and gender.
  
 DATA DICTIONARY CHANGES: 
 ======================== 
  The following is a list of the Data Dictionary entry in LAB DATA file 
 (#63) that will be deleted by this patch:
   
 63.09,20      DESCRIPTION            WP;0    WORD-PROCESSING #63.91
  
               DESCRIPTION:
                                 Word processing field for description
   
  
 MODIFICATION OF THE LRAUAW ROUTINE:
 ===================================
 Patch LR*5.2*309 also makes changes to the LRAUAW routine to remove a
 reference to the DESCRIPTION field (#20) of the CYTOPATHOLOGY sub-file
 (#63.09) in the LAB DATA file (#63).  The change will be transparent to
 the user.
  
 NEW SERVICE REQUEST (NSR): 
 ========================== 
 N/A. 
   
 ASSOCIATED E3R: 
 =============== 
 N/A. 
  
 ASSOCIATED NOIS: 
 ================ 
 N/A. 
   
 ASSOCIATED REMEDY TICKETS: 
 ========================== 
  HD0000000093288 
   
 TEST SITES: 
 =========== 
    Altoona, PA - Small
    Wilmington, DE - Medium
    Biloxi, MS - Large
   
 SOFTWARE RETRIEVAL: 
 ==================== 
  This patch is distributed by KIDS as a Packman message. 
   
 INSTALLATION INSTRUCTIONS: 
 ========================== 
 This patch can be installed with users on the system.  It is recommended 
 to disable the Anatomic Pathology [LRAP] option at the "DISABLE Scheduled
 Options, Menu Options, and Protocols?" prompt.
   
 Install Time - less than 5 minutes. 
   
 1. Use the 'INSTALL/CHECK MESSAGE' option of the PackMan menu. This 
    option will load the KIDS patch onto your system.
   
 2. On the 'Kernel Installation & Distribution System' Menu (KIDS), select 
    the 'Installation' menu.
   
 3. Use the 'Verify Checksum in Transport Global' option and verify that 
    all routines have the correct checksums.
   
 4. On the KIDS menu, under the 'Installation' menu, use the following 
    options: 
         Print Transport Global 
         Compare Transport Global to Current System 
         Backup a Transport Global 
   
 5. Use the 'Install Package(s)' option under the 'Installation' menu and 
    select the package 'LR*5.2*309'.
  
 6. When prompted 'Want KIDS to INHIBIT LOGONs during the install? YES// 
    choose 'NO'.
  
 7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and 
    Protocols? YES//', disable the Anatomic Pathology [LRAP] option. 
  
   
   
 INSTALLATION EXAMPLE: 
 ===================== 
    
 Example #1 without data:
 ========================   
 Select Installation Option: install Package(s)
 Select INSTALL NAME: LR*5.2*309       Loaded from Distribution  
 8/5/08@14:25:46
      => LR*5.2*309
  
 This Distribution was loaded on Aug 05, 2008@14:25:46 with header of 
    LR*5.2*309
    It consisted of the following Install(s):
      LR*5.2*309
 Checking Install for Package LR*5.2*309
 Will first run the Environment Check Routine, LR309
  
  
                Sending install started alert to mail group G.LMI
  
                         --- Environment Check is Ok ---
  
 Install Questions for LR*5.2*309
  
  
  
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
  
 Enter options you wish to mark as 'Out Of Order': LRAP
      1   LRAP       Anatomic pathology
      2   LRAP ADD       Add patient(s) to report print queue
      3   LRAP ALERT       Send an AP Alert
      4   LRAP DELETE       Delete report print queue
      5   LRAP ESIG SWITCH       Turn Electronic Signature On/Off
 Press <RETURN> to see more, '^' to exit this list, OR
 CHOOSE 1-5: 1  LRAP     Anatomic pathology
  
 Enter options you wish to mark as 'Out Of Order': 
  
 Enter protocols you wish to mark as 'Out Of Order': 
  
 Delay Install (Minutes):  (0-60): 0// 
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME// ;;1000  UCX/TELNET
  
  
  Install Started for LR*5.2*309 : 
                Aug 05, 2008@14:26:27
  
 Build Distribution Date: Aug 01, 2008
  
  Installing Routines:
                Aug 05, 2008@14:26:27
  
  Running Post-Install Routine: POST^LR309
  
                           *** Post install started ***
  
 Searching for data in DESCRIPTION field (#20) in CYTOPATHOLOGY sub-file 
 (#63.09) in LAB DATA file (#63).
  
                                    
 LR*5.2*309                                   
 --------------------------------------------------------------------------
                                 Search finished
  
                     No Data found in ^LR(D0,"CY",D1,"WP",0)
  
                          *** Post install completed ***
  
               Sending install completion alert to mail group G.LMI
  
  Updating Routine file...
  
  Updating KIDS files...
  
  LR*5.2*309 Installed. 
                Aug 05, 2008@14:26:27
  
  
 --------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    |             25             50             75               |
 Complete  +------------------------------------------------------------+
  
  
 Install Completed
  
 Example #2 with data:
 =====================
  
 Select Installation Option: install Package(s)
 Select INSTALL NAME:    LR*5.2*309     Loaded from Distribution  
 8/5/08@10:06:42
      => LR*5.2*309
  
 This Distribution was loaded on Aug 05, 2008@10:06:42 with header of 
    LR*5.2*309
    It consisted of the following Install(s):
      LR*5.2*309
 Checking Install for Package LR*5.2*309
 Will first run the Environment Check Routine, LR309
  
  
                Sending install started alert to mail group G.LMI
  
                         --- Environment Check is Ok ---
  
 Install Questions for LR*5.2*309
  
  
  
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES// 
  
 Enter options you wish to mark as 'Out Of Order': LRAP
      1   LRAP       Anatomic pathology
      2   LRAP ADD       Add patient(s) to report print queue
      3   LRAP ALERT       Send an AP Alert
      4   LRAP DELETE       Delete report print queue
      5   LRAP ESIG SWITCH       Turn Electronic Signature On/Off
 Press <RETURN> to see more, '^' to exit this list, OR
 CHOOSE 1-5: 1  LRAP     Anatomic pathology
  
 Enter options you wish to mark as 'Out Of Order': 
  
 Enter protocols you wish to mark as 'Out Of Order': 
  
 Delay Install (Minutes):  (0-60): 0// 
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME// ;;1000  UCX/TELNET
  
  
  Install Started for LR*5.2*309 : 
                Aug 05, 2008@10:07:55
  
 Build Distribution Date: Aug 01, 2008
  
  Installing Routines:
                Aug 05, 2008@10:07:55
  
  Running Post-Install Routine: POST^LR309
  
                           *** Post install started ***
  
 Searching for data in DESCRIPTION field (#20) in CYTOPATHOLOGY sub-file 
 (#63.09) in LAB DATA file (#63).
  
                                 Search finished
  
              Data entries have been found in ^LR(D0,"CY",D1,"WP",0)
  
 The data found is sent in a mail message to all users
 who hold the security keys LRLIASON and LRAPSUPER. 
 The data will automatically be purged from the
 ^XTMP("LR309", global in 180 days. 
  
  
                                    
 LR*5.2*309                                   
 --------------------------------------------------------------------------
  
 Data deleted from DESCRIPTION field (#20) in CYTOPATHOLOGY sub-file 
 (#63.09) in LAB DATA file (#63).
  
                          *** Post install completed ***
  
               Sending install completion alert to mail group G.LMI
  
  Updating Routine file...
  
  Updating KIDS files...
  
  LR*5.2*309 Installed. 
                Aug 05, 2008@10:07:56
  
  
 --------------------------------------------------------------------------
           +------------------------------------------------------------+
   100%    |             25             50             75               |
 Complete  +------------------------------------------------------------+
  
  
 Install Completed
 
 
 
 
 
 
 
 
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.2;LAB SERVICE;**[Patch List]**;Sep 27, 1994;Build 23

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: LR309
    Before:       n/a   After: B56461511  **309**
Routine Name: LRAUAW
    Before:  B5818727   After:  B5111264  **72,115,121,309**
 
Routine list of preceding patches: 121

=============================================================================
User Information:
Entered By  : LYON,KAREN                    Date Entered  : AUG 25, 2003
Completed By: KIRBY,ROSE                    Date Completed: MAR 26, 2009
Released By : MURCH,CLAUDETTE               Date Released : JUN 17, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
