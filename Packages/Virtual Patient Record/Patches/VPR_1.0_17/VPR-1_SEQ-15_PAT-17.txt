$TXT Created by                     FMB.FO-OAKLAND.DOMAIN.EXT  (KIDS) on Thursday, 10/10/19 at 06:17
=============================================================================
Run Date: NOV 04, 2019                     Designation: VPR*1*17
Package : VPR - VIRTUAL PATIENT RECORD        Priority: Mandatory
Version : 1        SEQ #15                      Status: Released
                  Compliance Date: NOV 08, 2019
=============================================================================

Associated patches: (v)VPR*1*16    <<= must be installed BEFORE `VPR*1*17'

Subject: DATA EVENT FIXES

Category: 
  - Routine
  - Other

Description:
============

 This patch to the Virtual Patient Record (VPR) application will correct two
 issues occurring in the HealthShare operational mode updates:
  
 1. The VPR item on the Patient Movement event was attempting to update the 
    related entry in the Diagnosis container before the Principal Diagnosis
    was always defined. It also failed to update the Encounter Number.
  
 2. The Visit and V file data event is invoked by a background task from 
    within TIU and CPRS, so the Encounter container is updated asynchronously; 
    records that point to a visit were being sent to HealthShare before the 
    visit itself, causing the record updates to fail.
  
    VPR*1*17 modifies the VPR event listeners for the Patient Care Encounter 
    (PCE) and Text Integration Utilities (TIU) applications, to ensure that 
    Encounters are sent to HealthShare before any records that point to them 
    are updated. Multiple edits to an encounter during a single session will 
    now update HealthShare only once when completed.
  
  
 Patch Components:
 -----------------
  
 Entities Associated:
  
 Entity Name                        New/Modified/Deleted
 -----------                        --------------------
 VPR PTF                            Modified
 VPR RAD REPORT                     Modified
 VPR REFERRAL                       Modified
  
  
 Files & Fields Associated:         N/A
  
 Forms Associated:                  N/A
  
 Mail Groups Associated:            N/A
  
 Options Associated:                N/A
  
 Protocols Associated:              N/A
  
 Remote Procedure Calls Associated: N/A
  
 Security Keys Associated:          N/A
  
 Templates Associated:              N/A
  
 Blood Bank Team Coordination:      N/A
  
 New Service Requests (NSRs):       N/A
  
 Patient Safety Issues (PSIs):      N/A
  
  
 Defect Tracking System Ticket(s) & Overview:
 --------------------------------------------
 N/A
  
  
 Test Sites:
 -----------
 Tuscaloosa, AL
  
  
 Software and Documentation Retrieval Instructions:
 --------------------------------------------------
 The software for this patch is being released as a KIDS build via a 
 PackMan message.
  
  
 Patch Installation:
  
 Pre-Installation Instructions:
 ------------------------------
 This patch may be installed with users on the system although it is 
 recommended that it be installed during non-peak hours to minimize
 potential disruption to users.  This patch should take less than 1 minute 
 to install.
  
 Installation Instructions:
 --------------------------
 1.  Choose the PackMan message containing this patch.
  
 2.  Choose the INSTALL/CHECK MESSAGE PackMan option.  
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation Menu.  From this menu, you may elect to use the
     following options. When prompted for the INSTALL NAME, enter VPR*1.0*17.
   
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
  
 4.  From the Installation Menu, select the Install Package(s) option and
     choose the patch to install.
  
 5.  When prompted Want KIDS to INHIBIT LOGONs during the install?
     NO// enter NO.
  
 6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
     and Protocols? NO// enter NO.
  
 7.  If prompted Delay Install (Minutes):  (0  60): 0// respond 0.
  
  
 Post-Installation Instructions:
 -------------------------------
 N/A
  
  
 Backout Procedures:
 -------------------
 During the VistA Installation Procedure of the KIDS build, the
 installer should use the 'Backup a Transport Global' action (step 3a
 in the Installations Instructions below). If rollback/backout is 
 required, the installer can use the MailMan message to restore routines 
 that were saved prior to installing the patch.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.0;VIRTUAL PATIENT RECORD;**[Patch List]**;Sep 01, 2011;Build 6

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: VPREVNT
    Before:B123186510   After:B123819975  **8,10,15,17**
Routine Name: VPRHS
    Before: B67709194   After: B80485929  **8,10,15,16,17**
Routine Name: VPRSR
    Before:  B1592543   After:  B1861723  **8,10,15,17**
 
Routine list of preceding patches: 16

=============================================================================
User Information:
Entered By  :                               Date Entered  : AUG 08, 2019
Completed By:                               Date Completed: NOV 04, 2019
Released By :                               Date Released : NOV 04, 2019
=============================================================================


Packman Mail Message:
=====================

$END TXT
