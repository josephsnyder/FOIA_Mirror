$TXT Created by                     FMB.FO-OAKLAND.DOMAIN.EXT  (KIDS) on Thursday, 01/09/20 at 09:44
=============================================================================
Run Date: JAN 09, 2020                     Designation: VPR*1*21
Package : VPR - VIRTUAL PATIENT RECORD        Priority: EMERGENCY
Version : 1        SEQ #17                      Status: Released
                  Compliance Date: JAN 10, 2020
=============================================================================

Associated patches: (v)VPR*1*19    <<= must be installed BEFORE `VPR*1*21'

Subject: VPRVST ERRORS

Category: 
  - Other
  - Routine

Description:
============

 This emergency patch to the Virtual Patient Record (VPR) application 
 corrects an error in the HealthShare update list for PTF diagnosis 
 updates. Two fixes are included:
  1. Routine VPREVNT has been fixed to remove the problem in the 
     HealthShare update list
  2. Entity VPR VISIT now includes a check for the error to quit 
     gracefully instead of creating an error
  
  
 Patch Components:
 -----------------
  
 Entities Associated:
  
 Protocol Name                      New/Modified/Deleted
 -------------                      --------------------
 VPR VISIT                          Modified
  
  
 Files & Fields Associated:         N/A
  
 Forms Associated:                  N/A
  
 Mail Groups Associated:            N/A
  
 Options Associated:                N/A
  
 Protocols Associated:              N/A
  
 Remote Procedure Calls Associated: N/A
  
 Security Keys Associated:          N/A
  
 Templates Associated:              N/A
  
 Blood Bank Team Coordination:      N/A
  
 New Service Requests (NSRs):       N/A
  
 Patient Safety Issues (PSIs):      N/A
  
  
 Defect Tracking System Ticket(s) & Overview:
 --------------------------------------------
 1.  INC9034906: VPR ERRORS FROM HEALTH CONNECT OCCURING AT SEVERAL VA 
     MEDICAL CENTERS
 An extra data piece was being set into the ^VPR("AVPR") HealthShare update 
 list for PTF changes, which caused an error when the data was extracted in 
 Health Connect. This has been fixed, and a check added to the Visit extract 
 to quit gracefully instead of erroring if any bad entries remain in the list.
  
  
 Test Sites:
 -----------
 Columbia, MO
 Kansas City, MO
 Boise, ID
  
  
 Software and Documentation Retrieval Instructions:
 --------------------------------------------------
 The software for this patch is being released as a KIDS build via a 
 PackMan message.
  
  
 Patch Installation:
  
 Pre-Installation Instructions:
 ------------------------------
 This patch may be installed with users on the system although it is 
 recommended that it be installed during non-peak hours to minimize
 potential disruption to users.  This patch should take less than 1 
 minute to install.
  
 Installation Instructions:
 --------------------------
 1.  Choose the PackMan message containing this patch.
  
 2.  Choose the INSTALL/CHECK MESSAGE PackMan option.  
  
 3.  From the Kernel Installation and Distribution System Menu, select
     the Installation Menu.  From this menu, you may elect to use the
     following options. When prompted for the INSTALL NAME, enter 
     VPR*1.0*21.
   
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
  
 4.  From the Installation Menu, select the Install Package(s) option and
     choose the patch to install.
  
 5.  When prompted Want KIDS to INHIBIT LOGONs during the install?
     NO// enter NO.
  
 6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
     and Protocols? NO// enter NO.
  
 7.  If prompted Delay Install (Minutes):  (0  60): 0// respond 0.
  
  
 Post-Installation Instructions:
 -------------------------------
 N/A
  
  
 Backout Procedures:
 -------------------
 During the VistA Installation Procedure of the KIDS build, the
 installer should use the 'Backup a Transport Global' action (step 3a
 in the Installations Instructions below). If rollback/backout is 
 required, the installer can use the MailMan message to restore routines 
 that were saved prior to installing the patch.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.0;VIRTUAL PATIENT RECORD;**[Patch List]**;Sep 01, 2011;Build 1

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: VPREVNT
    Before:B120515239   After:B121267737  **8,10,15,17,19,21**
 
Routine list of preceding patches: 19

=============================================================================
User Information:
Entered By  :                               Date Entered  : JAN 09, 2020
Completed By:                               Date Completed: JAN 09, 2020
Released By :                               Date Released : JAN 09, 2020
=============================================================================


Packman Mail Message:
=====================

$END TXT
