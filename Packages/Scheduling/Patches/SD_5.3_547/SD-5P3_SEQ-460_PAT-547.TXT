$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 09/02/09 at 13:09
=============================================================================
Run Date: MAR 16, 2010                     Designation: SD*5.3*547
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #460                    Status: Released
                  Compliance Date: APR 16, 2010
=============================================================================

Associated patches: (v)SD*5.3*317  <<= must be installed BEFORE `SD*5.3*547'
                    (v)SD*5.3*334  <<= must be installed BEFORE `SD*5.3*547'
                    (v)SD*5.3*446  <<= must be installed BEFORE `SD*5.3*547'

Subject: ADD HELP TEXT AT DATE PROMPTS, FIX ADD NEW DAY & NONCONFORM CL RPT

Category: 
  - Routine

Description:
============

 This patch fixes the following issues:
  
 1. A problem that exists when an appointment date is entered in
 Appointment Management [SDAM APPT MGT] just using the day and month.  If a
 past date is entered in this manner, the system will interpret it as a
 future date.  This is by design.  So, new help text will be added.
  
 2. A problem which exists when a new day is added to a clinic.  Even
 though a start date is entered for the new day being added, appointments
 can be made prior to that date.  
  
 3. A problem that exists with the Non-Conforming Clinics Stop Code report
 [SD CLN STOP CODE REP].
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1) HD0000000285541 - Add new Help text at date prompts
 2) HD0000000196387 - Set up a clinic - availability date earlier than date
                      new day added to clinic.
    DUPLICATE:
    HD0000000204101 - Clinic setup retroactivation.
  
 3) HD0000000289690 - Nonconforming clinic
  
 ASSOCIATED NSR(S):
 ==================
 N/A
  
  
 PARTICIPATING TEST SITES:
 =========================
 Connecticut HCS
 Spokane, WA
 Upstate New York HCS
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1) HD0000000285541 - Add new Help text at date prompts.
  
    Problem:
    --------
    When creating an appointment via Appointment Management [SDAM APPT 
    MGT], if the user enters a past date, entering just the day/month and
    the time (without the year) at the prompt: ENTER THE DATE DESIRED FOR
    THIS APPOINTMENT:, the system will interpret this as a Future date.  
    For example, if today were JAN 27, 2009 and at the prompt, the user
    entered 01/08@0800 or JAN 8@ 0800, the system would interpret this as
    JAN 08, 2010, provided the Maximum Number of Days for Booking for the
    clinic was set to 365 (if set to less than 365, the user will get a
    message that future booking is not allowed beyond the maximum number of
    days set for the clinic).  This is by design to always interpret a
    future date.
  
    This also applies to the prompt - DATE/TIME:.
  
    Resolution:
    -----------
    Routines SDM0 and SDM1 will be modified so that the help text that
    is displayed just prior to the prompt ENTER THE DATE DESIRED FOR THIS
    APPOINTMENT:, will include that past dates must include the year in the
    input.
  
    CURRENT DISPLAY:
  
    Select one of the following:
  
      'F'            for First available following a specified date
      Date           (or date computation such as 'T+2M') for a desired 
                     date
      Date/time      to schedule a specific appointment
      '?'            for detailed help
  
    MODIFIED DISPLAY WITH THIS PATCH:
  
    Select one of the following:
  
      'F'            for First available following a specified date
      Date           (or date computation such as 'T+2M') for a desired 
                     date
      Date/time      to schedule a specific appointment - Note: PAST dates
                     must include the year in the input
      '?'            for detailed help
  
    The help text will also be modified, should a user enter a question 
    mark at this prompt, as follows:
  
    CURRENT HELP TEXT:
  
    Enter the date that is desired for this appointment.
  
    You may enter 'F' to find the first available slot after a specified 
    date.
    You will be prompted for begin and end dates for this search.
  
    A date may be entered to begin the display of clinic availability at
    the requested date.
  
    The entry of a date/time will result in the scheduling of an 
    appointment at that time, if possible.
  
    MODIFIED HELP TEXT WITH THIS PATCH:
  
    Enter the date that is desired for this appointment.
    NOTE: PAST dates must include the year in the input.
  
    You may enter 'F' to find the first available slot after a specified 
    date. You will be prompted for begin and end dates for this search.
  
    A date may be entered to begin the display of clinic availability at
    the requested date.
  
    The entry of a date/time will result in the scheduling of an 
    appointment at that time, if possible.
  
    The help text for the prompt DATE/TIME: will also be modified:
  
    CURRENT HELP TEXT:
  
    Enter a date/time for the appointment.
    You may also select 'M' to display the next month's availability or
    'D' to specify an earlier or later date to begin the availability
    display.
  
    MODIFIED HELP TEXT:
  
    Enter a date/time for the appointment.  PAST dates must include the 
    YEAR.
    You may also select 'M' to display the next month's availability or
    'D' to specify an earlier or later date to begin the availability
    display.
  
 2) HD0000000196387 - Set up a clinic - availability date earlier than date
                      new day added to clinic.
  
    Problem:
    --------
    When a new day is added to an existing clinic's availability, with
    a start date for that new day, appointments can be made for that
    day of the week that are prior to the date established as the
    starting date for that day of the week.  Also, if just the month
    and year are entered at the ENTER DESIRED DATE FOR APPOINTMENT
    prompt, the system will automatically add dates (for the new day
    of the week that was added) that are prior to the start date
    established for that day of the week.  For example, if THURSDAY
    is added to a clinic with a start date of 01/15/2009 and JAN 2009
    is entered at the above prompt, the system will automatically add
    Thursday, JAN 08, 2009, to the availability grid (as long as that
    date is not prior to when the clinic was started).
  
    Resolution:
    -----------
    Routines SDM0 and SDM1 will be modified so that if a user attempts
    to create an appointment for a date that is prior to when a
    particular day of the week was added to the clinic availability
    pattern, they will receive the following warning message and be
    prohibited from making an appointment for that date:
  
      That date is prior to the date (day of the week) was added to the
      availability pattern for this clinic.
  
    The warning message will be displayed and the user will be returned
    to the ENTER DESIRED DATE OF APPOINTMENT prompt.  If a date is input
    at this prompt without the time, the system will display the
    availability grid, which is also being modified to prevent date(s)
    from being added to the availability pattern that are prior to the
    date established for a new day of the week.  After the availability
    grid is displayed, the user is then prompted with DATE/TIME.  This
    code will also be modified to function the same as for the prompt
    described above, at the beginning of this paragraph.
    
 3) HD0000000289690 - Nonconforming clinic
  
    Problem:
    --------
    Currently, the Non-Conforming Clinics Stop Code Report [SD CLN 
    STOP CODE REP] only checks to ensure a clinic has a Primary Stop Code
    on file and that each stop code set for a clinic (Primary and
    Secondary) adheres to the Restriction Type for the stop code.  For
    instance, if the Primary stop code for a clinic has a Restriction Type
    of "S" (secondary only), the clinic will appear on the report
    indicating that stop code cannot be the Primary code.  However, no
    checks are made to see if stop codes have been Inactivated in the 
    CLINIC STOP file (#40.7) and there is currently no means available to
    let sites know that they have clinics set up with Inactivated stop
    codes.
  
    Resolution:
    -----------
    Since Inactivated stop codes essentially render a clinic as
    Non-Conforming and there is no other means available to sites
    to find this out, routine SDSCRP will be modified so that this
    report will now check for Inactivated stop codes and when
    applicable, now include any clinics on the report that are set
    up with Inactivated stop codes (whether Primary or Secondary).
    The Non-Conformance column on the report will print the stop
    code followed by the Inactivation date.  For example:
    
    725 Inactivated 10/01/08.
    
    If both stop codes (Primary and Secondary) for a clinic have been
    Inactivated, the clinic will print two lines indicating when each stop
    code was Inactivated.
  
    The SCHEDULING USER MANUAL - SUPERVISOR MENU Manual has been updated to
    reflect this change to the Non-Conforming Clinics Stop Code Report.
  
  
 DOCUMENTATION RETRIEVAL:
 ========================
 The revised SCHEDULING USER MANUAL - SUPERVISOR MENU manual is available
 on the ANONYMOUS.SOFTWARE directory at one of the following Office of
 Information (OI) Field Offices.  This file should be retrieved in binary
 format.
     
  Sites may retrieve documentation in one of the following ways:
    
  (1) The preferred method is to FTP the file from 
      download.vista.med.va.gov, which will transmit the file from 
      the first available FTP server.
     
  (2) Sites may also elect to retrieve documentation directly from a
      specific server as follows:
     
      Albany                ftp.fo-albany.med.va.gov
      Hines                 ftp.fo-hines.med.va.gov
      Salt Lake City        ftp.fo-slc.med.va.gov
     
      The documentation distribution includes:
  
      File Name:    supv.pdf
  
      Description:  SCHEDULING USER MANUAL - SUPERVISOR MENU Manual
  
      Protocol:     Binary
  
  (3) The manual is also available on the VDL located at:
      http://www4.va.gov/vdl/
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 Users can be on the system during the installation of this patch.
  
 Installation should take less than 5 minutes.
  
 1.  LOAD TRANSPORT GLOBAL
     ---------------------
     Choose the PackMan message containing this patch and invoke the
     INSTALL/CHECK MESSAGE PackMan option.
  
 2.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option:  INStallation
                                                               ---
  
     1     Load a Distribution
     2     Verify Checksums in Transport Global
     3     Print Transport Global
     4     Compare Transport Global to Current System
     5     Backup a Transport Global
     6     Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 3.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter SD*5.3*547):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch.  It will NOT
         backup any other changes such as DDs or templates.
  
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
  
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
     d.  Print Transport Global - This option will allow you to view
         the components of the KIDS build.
  
 4.  Use the Install Package(s) option and select the package SD*5.3*547.
  
     a.  When prompted "Want KIDS to INHIBIT LOGONS during the
         install? NO//", respond NO.
  
     b.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? NO//", respond YES.
  
         1) When prompted "Enter options you wish to mark as "Out of
            Order":" enter the following options:
  
            Appointment Management                  [SDAM APPT MGT]
            Make Appointment                        [SDM]
            Non-Conforming Clinics Stop Code Report [SD CLN STOP CODE REP]
  
         2) When prompted "Enter protocols you wish to mark as "Out of
            Order":" just press <Return>.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Scheduling;**[Patch List]**;Aug 13, 1993;Build 17

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SDM0
    Before: B71919767   After: B88208979  **140,167,206,186,223,237,241,
                                           384,334,547**
Routine Name: SDM1
    Before: B49317350   After: B53130837  **32,167,168,80,223,263,273,
                                           408,327,478,490,446,547**
Routine Name: SDSCRP
    Before: B11792085   After: B12484376  **317,547**
 
Routine list of preceding patches: 317, 334, 446

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : DEC 10, 2008
Completed By: SESSLER,APRIL                 Date Completed: MAR 03, 2010
Released By : BENBOW,PHYLLIS O              Date Released : MAR 16, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
