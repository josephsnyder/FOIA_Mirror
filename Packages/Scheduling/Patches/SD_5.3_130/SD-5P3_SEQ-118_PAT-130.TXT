$TXT Created by RUBIN,ALICE B at MNTVBB.ISC-ALBANY.VA.GOV  (KIDS) on FRIDAY, 08/29/97 at 09:40
=============================================================================
Run Date: OCT 01, 1997                     Designation: SD*5.3*130
Package : SD - SCHEDULING                      Priority: Mandatory
Version : 5.3       SEQ #118                     Status: Released
=============================================================================

Associated patches: (v)SD*5.3*50   <<= must be installed BEFORE `SD*5.3*130'
                    (v)SD*5.3*100  <<= must be installed BEFORE `SD*5.3*130'

Subject: PCMM-DGQUIET & TEAM LIST ISSUES

Category: 
  - Routine

Description: 
============

 This patch addresses 2 PCMM issues.
  
 1.  Some of the PCMM routines are not checking for the DGQUIET variable
 prior to doing a WRITE.  This variable is used if a job is running in the
 background, and WRITEs to the screen should be disabled.  The following
 routines were modified so that calls to EN^DDIOL are executed only if
 '$G(DGQUIET):
  
  SCAPMC18 
  SCMCCON  
  SCMCEV1  
  SCMCPM   
  SCMCPM1  
  SCMCTMM  
  SCMCTPM  
  SCMCTPU  
  SCRPU1   
  
  
 2. With the upcoming CPRS release, the number of Primary Care Teams is
 expected to increase dramatically.  In the event of too many Primary Care
 Teams, an allocation error may occur.  This results from the local array
 becoming too large.  To address this issue, the local variable currently
 used to store this array is being changed to a temporary global.
  
 Routine SCUTBK has been modified to implement this change.
  
 This was reported in NOIS PUG-0897-50937.
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SCAPMC18               2095038              2150341        41,45,50,130
  SCMCCON                2534845              2601586        41,87,100,130
  SCMCEV1                3743870              3885882           41,130
  SCMCPM                 3725451              3783326        41,87,100,130
  SCMCPM1                1942679              2173113           41,130
  SCMCTMM                9521436              9675406      41,45,87,100,130
  SCMCTPM                8813253              8897024       41,45,48,87,100
                                                                  130
  SCMCTPU                5472837              5699467           41,130
  SCRPU1                 8499448              8617448          41,45,130
  SCUTBK                 2384604              2556761           41,130
  
    
  INSTALLATION INSTRUCTIONS:
  ==========================
  This patch should be loaded during non-peak hours to minimize disruption
  to users.  Installation will take less than 2 minutes.
  
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
  2.  Review your mapped set.  If any of the routines listed in the
      ROUTINE SUMMARY section are mapped, they should be removed
      from the mapped set at this time.
  
  3.  From the Kernel Installation and Distribution System Menu, select 
      the Installation menu.  
  
  4.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter SD*5.3*130):
      a.  Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      b.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch (routines,
          DDs, templates, etc.).
      c.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
  
  5.  Use the Install Package(s) option and select the package SD*5.3*130.
  
  6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  When prompted to select the options
      you would like to place out of order, enter the following:
                DG BED CONTROL         Bed Control Menu 
                DG ADMIT PATIENT         Admit a Patient 
                DG DISCHARGE PATIENT         Discharge a Patient 
                DG BED CONTROL EXTENDED         Extended Bed Control 
                DG TRANSFER PATIENT         Transfer a Patient 
                DG TREATING TRANSFER         Treating Specialty Transfer 
                DG DEATH ENTRY         Death Entry 
                DG PTF SCREEN         Load/Edit PTF Data 
                DGPM CHECK-IN         Check-in Lodger 
                DGPM CHECK-OUT         Lodger Check-out 
  
  7.  If routines were unmapped as part of step 2, they should be returned
      to the mapped set once the installation has run to completion.

Routine Information:
====================

Routine Name:
  - SCAPMC18


Routine Checksum:

Routine Name:
  - SCMCCON


Routine Checksum:

Routine Name:
  - SCMCEV1


Routine Checksum:

Routine Name:
  - SCMCPM


Routine Checksum:

Routine Name:
  - SCMCPM1


Routine Checksum:

Routine Name:
  - SCMCTMM


Routine Checksum:

Routine Name:
  - SCMCTPM


Routine Checksum:

Routine Name:
  - SCMCTPU


Routine Checksum:

Routine Name:
  - SCRPU1


Routine Checksum:

Routine Name:
  - SCUTBK


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : RUBIN,ALICE                    Date Entered : AUG 07, 1997
Completed By: PODOLEC,JEFFREY               Date Completed: SEP 05, 1997
Released By : WHELAN,ROBERT E              Date Released : OCT 01, 1997
=============================================================================


Packman Mail Message:
=====================

$END TXT
