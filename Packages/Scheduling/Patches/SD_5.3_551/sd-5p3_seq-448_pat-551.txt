$TXT Created by YORTY,M. ROBERT at DEVVOO.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 03/24/09 at 08:34
=============================================================================
Run Date: MAR 30, 2009                     Designation: SD*5.3*551
Package : SD - SCHEDULING                     Priority: EMERGENCY
Version : 5.3       SEQ #448                    Status: Released
                  Compliance Date: MAR 31, 2009
=============================================================================

Associated patches: (v)SD*5.3*441  <<= must be installed BEFORE `SD*5.3*551'

Subject: SCMSVUT0 UNDEFINED ERROR (SETMAR)

Category: 
  - Routine
  - PATCH FOR A PATCH

Description:
============

 **************************************************************************
 NOTE: The implementation of EVC R2 at all sites is an EMERGENCY RELEASE 
 24-hour compliance and scheduled for installation on Saturday March 28,
 2009. Therefore, the compliance date to have this patch installed at all
 sites is no later than Tuesday March 31, 2009 by 8 am EST. Failure to 
 install this patch within this timeframe may result in PCMM data
 transmission problems at the facilities.
 **************************************************************************
  
 This patch addresses the hard error message, produced when the 'PCMM
 NIGHTLY TASK' [SCMC PCMM NIGHTLY TASK] option or the 'PCMM HL7 
 Transmission' [SCMC PCMM HL7 TRANSMIT] option are run after the
 installation of patch SD*5.3*441.
  
 Problem:
 SD*5.3*441 adds a 4th parameter to the Marital Status call of SCMSVUT0;
 SETMAR(PIDSEG,HLQ,HLFS,HLECH). This HLECH parameter is used by AmbCare and
 its new PID segment builder routine VAFCQRY1. PCMM is also using SCMSVUTO;
 SETMAR^SCMSVUT0(.VAFPID,HL("Q"),HL("FS")) with only three passing
 parameters, an undefined occurs when it executes the HLECH variable:
  
 <UNDEFINED>SETMAR+22^SCMSVUT0 *HLECH
  
 Solution: 
 SD*5.3*551 will check for the existence of the 4th parameter before 
 executing the changes made for the AmbCare PID builder.
  
  
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 There is no NSR associated with this patch.
  
  
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 There are no Remedy tickets associated with this patch.
  
  
  
  
  
 ===================== INSTALLATION INSTRUCTIONS ==========================
   
  Do not install while the scheduled background jobs 'PCMM NIGHTLY TASK'
  [SCMC PCMM NIGHTLY TASK], 'PCMM HL7 Transmission' [SCMC PCMM HL7
  TRANSMIT], or the 'Ambulatory Care Nightly Transmission to NPCDB' [SCDX
  AMBCAR NIGHTLY XMIT] options are running.
  
  Users may remain on the system during the installation.
  
  Install Time - less than 5 minutes
   
   
  1.  LOAD TRANSPORT GLOBAL 
      ---------------------
      Choose the PackMan message containing this patch and invoke the 
      INSTALL/CHECK MESSAGE PackMan option.  
               
  2.  START UP KIDS 
      -------------
      Start up the Kernel Installation and Distribution System Menu 
      [XPD MAIN]: 
     
           Edits and Distribution ...  
           Utilities ...  
           Installation ...  
     
  Select Kernel Installation & Distribution System Option: INStallation 
                                                           ---
           Load a Distribution 
           Print Transport Global 
           Compare Transport Global to Current System 
           Verify Checksums in Transport Global 
           Install Package(s) 
           Restart Install of Package(s) 
           Unload a Distribution 
           Backup a Transport Global 
     
  Select Installation Option: 
     
  3.  Select Installation Option: 
      ---------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
             NAME, enter SD*5.3*551):
        
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
       
  4.  Select Installation Option: Install Package(s) 
                                  ------------------
      **This is the step to start the installation of this KIDS patch: 
     
      a.  Choose the Install Package(s) option to start the patch
          install.
      b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
          YES//' answer NO
      c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
          Options, and Protocols? YES//' answer YES
      d.  When prompted 'Enter options you wish to mark as 'Out Of
          Order':'  Enter the following options:
    
           Appointment Management     [SDAM APPT MGT]
           PCMM NIGHTLY TASK          [SCMC PCMM NIGHTLY TASK]
           PCMM HL7 Transmission      [SCMC PCMM HL7 TRANSMIT]
           Ambulatory Care Nightly Transmission to NPCDB
                                      [SCDX AMBCAR NIGHTLY XMIT] 
  
  
      e.  When prompted 'Enter protocols you wish to mark as 'Out Of
          Order':'  Enter the following protocols:
   
           Appointment Event Driver   [SDAM APPOINTMENT EVENTS]
  
  
 =================== POST-INSTALLATION INSTRUCTIONS =======================
  
 Release of patch SD*5.3*441 instructed the installer to unschedule the 
 following task jobs and make them OUT-OF-ORDER. Follow these instructions
 to reestablish these task jobs:
  
   1.  Schedule the following two scheduled task jobs according to your
       times listed on your screen copies:
         PCMM HL7 Transmission           [SCMC PCMM HL7 TRANSMIT]      
         PCMM NIGHTLY TASK               [SCMC PCMM NIGHTLY TASK]
  
   2.  Remove the following two options from being 'OUT-OF-SERVICE'.  
       Using the Remove Out-Of-Order Messages from a Set of Options [XQOON]
       option, follow these instructions:
  
    Select Out-Of-Order Set Management Option: remove Out-Of-Order Messages
     from a Set of Options
  
    1.   Option set named 'SD*5.3*441 options' created on Mar 24, 2009 
     1:35:10 pm by YORTY
      SD*5.3*441 options's options/protocols appear to be Out-Of-Order.
  
    Return options in SD*5.3*441 options to general use? Y// ES
    Should I remove the option set SD*5.3*441 options from ^XTMP?? Y// ES

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Scheduling;**[Patch List]**;Aug 13, 1993;Build 1

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SCMSVUT0
    Before: B44244521   After: B46967667  **44,55,66,132,245,254,293,345,
                                           472,441,551**
 
Routine list of preceding patches: 441

=============================================================================
User Information:
Entered By  : YORTY,M ROBERT                Date Entered  : MAR 23, 2009
Completed By: BARBER,HAROLDINE              Date Completed: MAR 30, 2009
Released By : BENBOW,PHYLLIS O              Date Released : MAR 30, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
