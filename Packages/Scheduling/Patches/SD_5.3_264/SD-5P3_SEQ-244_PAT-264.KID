Released SD*5.3*264 SEQ #244
Extracted from mail message
**KIDS**:SD*5.3*264^

**INSTALL NAME**
SD*5.3*264
"BLD",3715,0)
SD*5.3*264^SCHEDULING^0^3021031^y
"BLD",3715,1,0)
^9.61A^2^2^3020917^^^
"BLD",3715,1,1,0)
 
"BLD",3715,1,2,0)
^
"BLD",3715,4,0)
^9.64PA^404.43^3
"BLD",3715,4,404.42,0)
404.42
"BLD",3715,4,404.42,222)
y^n^f^^^^n
"BLD",3715,4,404.43,0)
404.43
"BLD",3715,4,404.43,222)
y^n^f^^^^n
"BLD",3715,4,404.52,0)
404.52
"BLD",3715,4,404.52,2,0)
^9.641^404.52^1
"BLD",3715,4,404.52,2,404.52,0)
POSITION ASSIGNMENT HISTORY  (File-top level)
"BLD",3715,4,404.52,2,404.52,1,0)
^9.6411^.09^1
"BLD",3715,4,404.52,2,404.52,1,.09,0)
PRIMARY CARE FTEE EQUIVALENT
"BLD",3715,4,404.52,222)
y^n^p^^^^n
"BLD",3715,4,"APDD",404.52,404.52)

"BLD",3715,4,"APDD",404.52,404.52,.09)

"BLD",3715,4,"B",404.42,404.42)

"BLD",3715,4,"B",404.43,404.43)

"BLD",3715,4,"B",404.52,404.52)

"BLD",3715,10,0)
^9.63^1^1
"BLD",3715,10,1,0)
DG*5.3*273^1
"BLD",3715,10,"B","DG*5.3*273",1)

"BLD",3715,"ABPKG")
n
"BLD",3715,"INIT")
POST^SCMCTSK
"BLD",3715,"KRN",0)
^9.67PA^8989.52^19
"BLD",3715,"KRN",.4,0)
.4
"BLD",3715,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",3715,"KRN",.4,"NM",1,0)
SCMC DIRECT PC FTEE    FILE #404.52^404.52^0
"BLD",3715,"KRN",.4,"NM","B","SCMC DIRECT PC FTEE    FILE #404.52",1)

"BLD",3715,"KRN",.401,0)
.401
"BLD",3715,"KRN",.401,"NM",0)
^9.68A^1^1
"BLD",3715,"KRN",.401,"NM",1,0)
SCMC DIRECT PC FTEE    FILE #404.52^404.52^0
"BLD",3715,"KRN",.401,"NM","B","SCMC DIRECT PC FTEE    FILE #404.52",1)

"BLD",3715,"KRN",.402,0)
.402
"BLD",3715,"KRN",.403,0)
.403
"BLD",3715,"KRN",.5,0)
.5
"BLD",3715,"KRN",.84,0)
.84
"BLD",3715,"KRN",3.6,0)
3.6
"BLD",3715,"KRN",3.8,0)
3.8
"BLD",3715,"KRN",9.2,0)
9.2
"BLD",3715,"KRN",9.8,0)
9.8
"BLD",3715,"KRN",9.8,"NM",0)
^9.68A^9^8
"BLD",3715,"KRN",9.8,"NM",1,0)
SCMCTSK^^0^B21434412
"BLD",3715,"KRN",9.8,"NM",2,0)
SCMCHLX1^^0^B13032284
"BLD",3715,"KRN",9.8,"NM",3,0)
SCMCHLX^^0^B3819243
"BLD",3715,"KRN",9.8,"NM",5,0)
SCMCQK1^^0^B80416562
"BLD",3715,"KRN",9.8,"NM",6,0)
SCMCWAIT^^0^B12216597
"BLD",3715,"KRN",9.8,"NM",7,0)
SCUTBK10^^0^B13713071
"BLD",3715,"KRN",9.8,"NM",8,0)
SCUTBK12^^0^B1728358
"BLD",3715,"KRN",9.8,"NM",9,0)
SCMCPR1^^0^B5800140
"BLD",3715,"KRN",9.8,"NM","B","SCMCHLX",3)

"BLD",3715,"KRN",9.8,"NM","B","SCMCHLX1",2)

"BLD",3715,"KRN",9.8,"NM","B","SCMCPR1",9)

"BLD",3715,"KRN",9.8,"NM","B","SCMCQK1",5)

"BLD",3715,"KRN",9.8,"NM","B","SCMCTSK",1)

"BLD",3715,"KRN",9.8,"NM","B","SCMCWAIT",6)

"BLD",3715,"KRN",9.8,"NM","B","SCUTBK10",7)

"BLD",3715,"KRN",9.8,"NM","B","SCUTBK12",8)

"BLD",3715,"KRN",19,0)
19
"BLD",3715,"KRN",19,"NM",0)
^9.68A^4^3
"BLD",3715,"KRN",19,"NM",2,0)
SC PCMM DIRECT PC FTEE^^0
"BLD",3715,"KRN",19,"NM",3,0)
SC PCMM REPORTS MENU^^2
"BLD",3715,"KRN",19,"NM",4,0)
SCMC PCMM GUI WORKSTATION^^0
"BLD",3715,"KRN",19,"NM","B","SC PCMM DIRECT PC FTEE",2)

"BLD",3715,"KRN",19,"NM","B","SC PCMM REPORTS MENU",3)

"BLD",3715,"KRN",19,"NM","B","SCMC PCMM GUI WORKSTATION",4)

"BLD",3715,"KRN",19.1,0)
19.1
"BLD",3715,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",3715,"KRN",101,0)
101
"BLD",3715,"KRN",101,"NM",0)
^9.68A^2^2
"BLD",3715,"KRN",101,"NM",1,0)
SCMC PCMM INACTIVATE ON DATE OF DEATH^^0
"BLD",3715,"KRN",101,"NM",2,0)
DG FIELD MONITOR^^2
"BLD",3715,"KRN",101,"NM","B","DG FIELD MONITOR",2)

"BLD",3715,"KRN",101,"NM","B","SCMC PCMM INACTIVATE ON DATE OF DEATH",1)

"BLD",3715,"KRN",409.61,0)
409.61
"BLD",3715,"KRN",771,0)
771
"BLD",3715,"KRN",771,"NM",0)
^9.68A^^
"BLD",3715,"KRN",870,0)
870
"BLD",3715,"KRN",8989.51,0)
8989.51
"BLD",3715,"KRN",8989.52,0)
8989.52
"BLD",3715,"KRN",8994,0)
8994
"BLD",3715,"KRN",8994,"NM",0)
^9.68A^5^5
"BLD",3715,"KRN",8994,"NM",1,0)
SCMC WAIT LIST ENTRY^^0
"BLD",3715,"KRN",8994,"NM",2,0)
SC FTEE BUILD LIST^^0
"BLD",3715,"KRN",8994,"NM",3,0)
SC FTEE FILE LIST^^0
"BLD",3715,"KRN",8994,"NM",4,0)
SC PC PROVIDER^^0
"BLD",3715,"KRN",8994,"NM",5,0)
SC SC CONDITION LIST^^0
"BLD",3715,"KRN",8994,"NM","B","SC FTEE BUILD LIST",2)

"BLD",3715,"KRN",8994,"NM","B","SC FTEE FILE LIST",3)

"BLD",3715,"KRN",8994,"NM","B","SC PC PROVIDER",4)

"BLD",3715,"KRN",8994,"NM","B","SC SC CONDITION LIST",5)

"BLD",3715,"KRN",8994,"NM","B","SCMC WAIT LIST ENTRY",1)

"BLD",3715,"KRN","B",.4,.4)

"BLD",3715,"KRN","B",.401,.401)

"BLD",3715,"KRN","B",.402,.402)

"BLD",3715,"KRN","B",.403,.403)

"BLD",3715,"KRN","B",.5,.5)

"BLD",3715,"KRN","B",.84,.84)

"BLD",3715,"KRN","B",3.6,3.6)

"BLD",3715,"KRN","B",3.8,3.8)

"BLD",3715,"KRN","B",9.2,9.2)

"BLD",3715,"KRN","B",9.8,9.8)

"BLD",3715,"KRN","B",19,19)

"BLD",3715,"KRN","B",19.1,19.1)

"BLD",3715,"KRN","B",101,101)

"BLD",3715,"KRN","B",409.61,409.61)

"BLD",3715,"KRN","B",771,771)

"BLD",3715,"KRN","B",870,870)

"BLD",3715,"KRN","B",8989.51,8989.51)

"BLD",3715,"KRN","B",8989.52,8989.52)

"BLD",3715,"KRN","B",8994,8994)

"BLD",3715,"QUES",0)
^9.62^^
"BLD",3715,"REQB",0)
^9.611^3^3
"BLD",3715,"REQB",1,0)
DG*5.3*273^1
"BLD",3715,"REQB",2,0)
SD*5.3*263^1
"BLD",3715,"REQB",3,0)
SD*5.3*231^1
"BLD",3715,"REQB","B","DG*5.3*273",1)

"BLD",3715,"REQB","B","SD*5.3*231",3)

"BLD",3715,"REQB","B","SD*5.3*263",2)

"FIA",404.42)
PATIENT TEAM ASSIGNMENT
"FIA",404.42,0)
^SCPT(404.42,
"FIA",404.42,0,0)
404.42PIA
"FIA",404.42,0,1)
y^n^f^^^^n
"FIA",404.42,0,10)

"FIA",404.42,0,11)

"FIA",404.42,0,"RLRO")

"FIA",404.42,0,"VR")
5.3^SD
"FIA",404.42,404.42)
0
"FIA",404.42,404.421)
0
"FIA",404.43)
PATIENT TEAM POSITION ASSIGNMENT
"FIA",404.43,0)
^SCPT(404.43,
"FIA",404.43,0,0)
404.43PI
"FIA",404.43,0,1)
y^n^f^^^^n
"FIA",404.43,0,10)

"FIA",404.43,0,11)

"FIA",404.43,0,"RLRO")

"FIA",404.43,0,"VR")
5.3^SD
"FIA",404.43,404.43)
0
"FIA",404.52)
POSITION ASSIGNMENT HISTORY
"FIA",404.52,0)
^SCTM(404.52,
"FIA",404.52,0,0)
404.52PIA
"FIA",404.52,0,1)
y^n^p^^^^n
"FIA",404.52,0,10)

"FIA",404.52,0,11)

"FIA",404.52,0,"RLRO")

"FIA",404.52,0,"VR")
5.3^SD
"FIA",404.52,404.52)
1
"FIA",404.52,404.52,.09)

"INIT")
POST^SCMCTSK
"IX",404.42,404.42,"AC",0)
404.42^AC^Disposition from Wait List^MU^^R^IR^I^404.42^^^^^A
"IX",404.42,404.42,"AC",1)
D TEAMRM^SCMCWAIT(X(1),X(2))
"IX",404.42,404.42,"AC",2)
Q
"IX",404.42,404.42,"AC",11.1,0)
^.114IA^2^2
"IX",404.42,404.42,"AC",11.1,1,0)
1^F^404.42^.01^30^1^F
"IX",404.42,404.42,"AC",11.1,1,3)

"IX",404.42,404.42,"AC",11.1,2,0)
2^F^404.42^.03^30^2^F
"IX",404.42,404.42,"AC",11.1,2,3)

"IX",404.43,404.43,"AC",0)
404.43^AC^Disposition Waiting List Entry^MU^^R^IR^I^404.43^^^^^A
"IX",404.43,404.43,"AC",1)
D POSRM^SCMCWAIT(X(1),X(2))
"IX",404.43,404.43,"AC",2)
Q
"IX",404.43,404.43,"AC",11.1,0)
^.114IA^2^2
"IX",404.43,404.43,"AC",11.1,1,0)
1^F^404.43^.01^^1^F
"IX",404.43,404.43,"AC",11.1,1,3)

"IX",404.43,404.43,"AC",11.1,2,0)
2^F^404.43^.02^^2^F
"IX",404.43,404.43,"AC",11.1,2,3)

"IX",404.43,404.43,"ASTAT",0)
404.43^ASTAT^STATUS CROSS REFERENCE^R^^R^IR^I^404.43^^^^^S
"IX",404.43,404.43,"ASTAT",1)
S ^SCPT(404.43,"ASTAT",X(1),X(2),DA)=""
"IX",404.43,404.43,"ASTAT",2)
K ^SCPT(404.43,"ASTAT",X(1),X(2),DA)
"IX",404.43,404.43,"ASTAT",2.5)
K ^SCPT(404.43,"ASTAT")
"IX",404.43,404.43,"ASTAT",11.1,0)
^.114IA^2^2
"IX",404.43,404.43,"ASTAT",11.1,1,0)
1^F^404.43^.01^^1^F
"IX",404.43,404.43,"ASTAT",11.1,2,0)
2^F^404.43^.12^^2^F
"KRN",.4,2380,-1)
0^1
"KRN",.4,2380,0)
SCMC DIRECT PC FTEE^3020828.0849^@^404.52^^@^3021011
"KRN",.4,2380,"DCL","404.52^.09")
&
"KRN",.4,2380,"F",1)
.03;L30~-404.57,^SCTM(404.57,^^S I(0,0)=D0 S DIP(1)=$S($D(^SCTM(404.52,D0,0)):^(0),1:"") S X=$P(DIP(1),U,1),X=X S D(0)=+X;Z;"TEA:"~-404.57,.02;"TEAM";L25~
"KRN",.4,2380,"F",2)
-404.57,.01;"POSITION";L25~-404.57,.09;"CLINIC";L25~.09;"Direct PC FTEE";L4~
"KRN",.4,2380,"H")
Direct PC FTEE
"KRN",.4,2380,"IOM")
132
"KRN",.4,2380,"LAST")

"KRN",.4,2380,"ROU")
^SCMCYPC
"KRN",.4,2380,"ROUOLD")
SCMCYPC
"KRN",.4,2380,"STATS","S",1)
0
"KRN",.4,2380,"T",113)
4^1^0^NJ4,2^
"KRN",.401,1647,-1)
0^1
"KRN",.401,1647,0)
SCMC DIRECT PC FTEE^3020828.0844^@^404.52^^@^3021011
"KRN",.401,1647,2,0)
^.4014^4^4
"KRN",.401,1647,2,1,0)
404.51^^INSTITUTION^""+#".07^^^^^^4
"KRN",.401,1647,2,1,2,0)
^.401418^2^2
"KRN",.401,1647,2,1,2,1,0)
404.52^100^404.57^SCTM(404.57,^0
"KRN",.401,1647,2,1,2,1,"RCOD")
S I(0,0)=D0 S Y(1)=$S($D(^SCTM(404.52,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X S D(0)=+X
"KRN",.401,1647,2,1,2,2,0)
404.57^200^404.51^SCTM(404.51,^0
"KRN",.401,1647,2,1,2,2,"RCOD")
S I(100,0)=D0 S Y(101)=$S($D(^SCTM(404.57,D0,0)):^(0),1:"") S X=$P(Y(101),U,2),X=X S D(0)=+X
"KRN",.401,1647,2,1,2,"B",404.52,1)

"KRN",.401,1647,2,1,2,"B",404.57,2)

"KRN",.401,1647,2,1,"ASK")
1
"KRN",.401,1647,2,1,"CM")
S Y(201)=$S($D(^SCTM(404.51,D0,0)):^(0),1:"") S X=$S('$D(^DIC(4,+$P(Y(201),U,7),0)):"",1:$P(^(0),U,1)) I D0>0 S DISX(1)=X
"KRN",.401,1647,2,1,"GET")
S Y(201)=$S($D(^SCTM(404.51,D0,0)):^(0),1:"") S X=$S('$D(^DIC(4,+$P(Y(201),U,7),0)):"",1:$P(^(0),U,1)) I D0>0 S DISX(1)=X
"KRN",.401,1647,2,1,"QCON")
I DISX(1)'=""
"KRN",.401,1647,2,1,"TXT")
INSTITUTION not null
"KRN",.401,1647,2,2,0)
404.52^^PRACTITIONER^+".03^^^^^^4
"KRN",.401,1647,2,2,"CM")
S Y(1)=$S($D(^SCTM(404.52,D0,0)):^(0),1:"") S X=$S('$D(^VA(200,+$P(Y(1),U,3),0)):"",1:$P(^(0),U,1)) I D0>0 S DISX(2)=X
"KRN",.401,1647,2,2,"GET")
S Y(1)=$S($D(^SCTM(404.52,D0,0)):^(0),1:"") S X=$S('$D(^VA(200,+$P(Y(1),U,3),0)):"",1:$P(^(0),U,1)) I D0>0 S DISX(2)=X
"KRN",.401,1647,2,2,"IX")
^SCTM(404.52,"C",^SCTM(404.52,^2
"KRN",.401,1647,2,2,"PTRIX")
^VA(200,"B",
"KRN",.401,1647,2,2,"QCON")
I DISX(2)'=""
"KRN",.401,1647,2,2,"SER")
0.0000^0.0000
"KRN",.401,1647,2,2,"TXT")
PRACTITIONER not null
"KRN",.401,1647,2,3,0)
404.57^.01^POSITION^"^^^^^^4
"KRN",.401,1647,2,3,2,0)
^.401418^1^1
"KRN",.401,1647,2,3,2,1,0)
404.52^100^404.57^SCTM(404.57,^0
"KRN",.401,1647,2,3,2,1,"RCOD")
S I(0,0)=D0 S Y(1)=$S($D(^SCTM(404.52,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X S D(0)=+X
"KRN",.401,1647,2,3,2,"B",404.52,1)

"KRN",.401,1647,2,3,"GET")
S DISX(3)=$P($G(^SCTM(404.57,D0,0)),U)
"KRN",.401,1647,2,3,"QCON")
I DISX(3)'=""
"KRN",.401,1647,2,3,"TXT")
POSITION not null
"KRN",.401,1647,2,4,0)
404.52^^D @("SCREEN"_U_"SCMCTSK")^@"^^^^^^4
"KRN",.401,1647,2,4,"CM")
D @("SCREEN"_U_"SCMCTSK") I D0>0 S DISX(4)=X
"KRN",.401,1647,2,4,"F")
.999999^1
"KRN",.401,1647,2,4,"GET")
D @("SCREEN"_U_"SCMCTSK") I D0>0 S DISX(4)=X
"KRN",.401,1647,2,4,"QCON")
I DISX(4)=1
"KRN",.401,1647,2,4,"T")
1^1
"KRN",.401,1647,2,4,"TXT")
D @(""SCREEN""_U_""SCMCTSK"") equals 1
"KRN",.401,1647,2,"B",404.51,1)

"KRN",.401,1647,2,"B",404.52,2)

"KRN",.401,1647,2,"B",404.52,4)

"KRN",.401,1647,2,"B",404.57,3)

"KRN",.401,1647,"%D",0)
^.4012^1^1^3020828^^^^
"KRN",.401,1647,"%D",1,0)
Direct Patient FTEE for Active assignments
"KRN",19,9828,-1)
2^3
"KRN",19,9828,0)
SC PCMM REPORTS MENU^PCMM Reports^^M^10000000057^^^^^^^16
"KRN",19,9828,10,0)
^19.01IP^14^14
"KRN",19,9828,10,12,0)
12070^FTEE^99
"KRN",19,9828,10,12,"^")
SC PCMM DIRECT PC FTEE
"KRN",19,9828,"U")
PCMM REPORTS
"KRN",19,9839,-1)
0^4
"KRN",19,9839,0)
SCMC PCMM GUI WORKSTATION^PCMM GUI WORKSTATION^^B^^^^^^^^SCHEDULING^^
"KRN",19,9839,1,0)
^^6^6^3000207^^^^
"KRN",19,9839,1,1,0)
'B' type option for use after installation of PCMM client version
"KRN",19,9839,1,2,0)
1.2.0.0/server version SD*5.3*177.  For users to be able to use the
"KRN",19,9839,1,3,0)
Primary Care Management Module's GUI front-end, this option must be on
"KRN",19,9839,1,4,0)
either their primary or secondary menu options.  Putting this option on a
"KRN",19,9839,1,5,0)
menu will give users who have access to that menu, access to PCMM.  Note:
"KRN",19,9839,1,6,0)
'B' type options are not visible to roll & scroll users.
"KRN",19,9839,20)

"KRN",19,9839,99.1)
59018,59094
"KRN",19,9839,"RPC",0)
^19.05P^90^90
"KRN",19,9839,"RPC",2,0)
SC BLD PAT CLN LIST
"KRN",19,9839,"RPC",3,0)
SC BLD PAT LIST
"KRN",19,9839,"RPC",6,0)
SC CHANGE HISTORY OK
"KRN",19,9839,"RPC",7,0)
SC DELETE ENTRY
"KRN",19,9839,"RPC",8,0)
SC DELETE HISTORY
"KRN",19,9839,"RPC",9,0)
SC FILE NUMBER
"KRN",19,9839,"RPC",10,0)
SC FILE PAT TM ASGN
"KRN",19,9839,"RPC",12,0)
SC FILE SINGLE VALUE
"KRN",19,9839,"RPC",13,0)
SC FILER
"KRN",19,9839,"RPC",14,0)
SC FIND
"KRN",19,9839,"RPC",15,0)
SC GET PAT BLOCK
"KRN",19,9839,"RPC",18,0)
SC GETS ENTRY DATA
"KRN",19,9839,"RPC",19,0)
SC GLOBAL NODE
"KRN",19,9839,"RPC",20,0)
SC GLOBAL NODE COUNT
"KRN",19,9839,"RPC",21,0)
SC HISTORY STATUS OK
"KRN",19,9839,"RPC",22,0)
SC INACTIVATE ENTRY
"KRN",19,9839,"RPC",23,0)
SC LISTER
"KRN",19,9839,"RPC",24,0)
SC LOCK/UNLOCK NODE
"KRN",19,9839,"RPC",25,0)
SC MAILMAN
"KRN",19,9839,"RPC",26,0)
SC MEAN TEST
"KRN",19,9839,"RPC",27,0)
SC NEW HISTORY OK
"KRN",19,9839,"RPC",28,0)
SC PATIENT LOOKUP
"KRN",19,9839,"RPC",29,0)
SC POSITION MEMBERS
"KRN",19,9839,"RPC",30,0)
SC PRIMARY CARE TEAM
"KRN",19,9839,"RPC",31,0)
SC PRTP
"KRN",19,9839,"RPC",32,0)
SC STAFF LOOKUP
"KRN",19,9839,"RPC",33,0)
SC TEAM LIST
"KRN",19,9839,"RPC",34,0)
SC USER CLASS STATUS
"KRN",19,9839,"RPC",35,0)
SC VALIDATOR
"KRN",19,9839,"RPC",36,0)
SCRP DEFINITION GETRECORD
"KRN",19,9839,"RPC",37,0)
SCRP FILE ENTRY GETSELECTION
"KRN",19,9839,"RPC",38,0)
SCRP QUERY CHECK NAME
"KRN",19,9839,"RPC",39,0)
SCRP QUERY DELETE
"KRN",19,9839,"RPC",40,0)
SCRP QUERY GETRECORD
"KRN",19,9839,"RPC",41,0)
SCRP QUERY SAVE
"KRN",19,9839,"RPC",42,0)
SCRP QUERY VALIDATE
"KRN",19,9839,"RPC",43,0)
SCRP REPORT PRINT
"KRN",19,9839,"RPC",44,0)
SCRP SELECTION SOURCE
"KRN",19,9839,"RPC",45,0)
SCTM AUTOLINK GETLINK
"KRN",19,9839,"RPC",46,0)
SCTM AUTOLINK GETRECORD
"KRN",19,9839,"RPC",47,0)
SCTM AUTOLINK SETRECORD
"KRN",19,9839,"RPC",48,0)
SCUT GET USER RECORD
"KRN",19,9839,"RPC",49,0)
SCUT SET USER QUERY DEFAULT
"KRN",19,9839,"RPC",50,0)
SC KEY CHECK
"KRN",19,9839,"RPC",51,0)
SC BLD PAT SCDE LIST
"KRN",19,9839,"RPC",52,0)
SC BLD PAT TM LIST
"KRN",19,9839,"RPC",53,0)
SC FILE PAT POS ASGN
"KRN",19,9839,"RPC",54,0)
SC BLD PAT POS LIST
"KRN",19,9839,"RPC",55,0)
SC PAT ENROLL CLN
"KRN",19,9839,"RPC",56,0)
SC CHECK FOR PC POS
"KRN",19,9839,"RPC",57,0)
SC FILE ALL PAT TM ASGN
"KRN",19,9839,"RPC",58,0)
SC BLD PAT APT LIST
"KRN",19,9839,"RPC",59,0)
SC FILE ALL PAT POS ASGN
"KRN",19,9839,"RPC",60,0)
SC BLD NOPC TM LIST
"KRN",19,9839,"RPC",61,0)
SC PAT ASGN MAILMAN
"KRN",19,9839,"RPC",62,0)
DDR FILER
"KRN",19,9839,"RPC",63,0)
DDR FIND1
"KRN",19,9839,"RPC",64,0)
DDR FINDER
"KRN",19,9839,"RPC",65,0)
DDR GET DD HELP
"KRN",19,9839,"RPC",66,0)
DDR DELETE ENTRY
"KRN",19,9839,"RPC",67,0)
DDR GETS ENTRY DATA
"KRN",19,9839,"RPC",68,0)
DDR LISTER
"KRN",19,9839,"RPC",69,0)
DDR LOCK/UNLOCK NODE
"KRN",19,9839,"RPC",70,0)
DDR VALIDATOR
"KRN",19,9839,"RPC",71,0)
SC ACTIVE POSITION ASSIGNMENTS
"KRN",19,9839,"RPC",72,0)
SCMC DIS TEAM POS
"KRN",19,9839,"RPC",73,0)
SCMC BLD TEAM PAT LIST
"KRN",19,9839,"RPC",75,0)
SCMC BLD REASSIGN PAT LIST
"KRN",19,9839,"RPC",76,0)
SCMC FILE PAT POS REASGN
"KRN",19,9839,"RPC",77,0)
SCMC FILE PAT TM REASGN
"KRN",19,9839,"RPC",78,0)
SCMC BLD POS PAT LIST
"KRN",19,9839,"RPC",79,0)
SCMC POSITION ASSIGN LIST
"KRN",19,9839,"RPC",80,0)
SCMC GET PARAMETER IEN
"KRN",19,9839,"RPC",81,0)
SCMC VERIFY C/S SYNC
"KRN",19,9839,"RPC",82,0)
DG CHK BS5 XREF Y/N
"KRN",19,9839,"RPC",83,0)
DG CHK PAT/DIV MEANS TEST
"KRN",19,9839,"RPC",84,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,9839,"RPC",85,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,9839,"RPC",86,0)
SC FTEE BUILD LIST
"KRN",19,9839,"RPC",87,0)
SC FTEE FILE LIST
"KRN",19,9839,"RPC",88,0)
SC PC PROVIDER
"KRN",19,9839,"RPC",89,0)
SCMC WAIT LIST ENTRY
"KRN",19,9839,"RPC",90,0)
SC SC CONDITION LIST
"KRN",19,9839,"U")
PCMM GUI WORKSTATION
"KRN",19,12070,-1)
0^2
"KRN",19,12070,0)
SC PCMM DIRECT PC FTEE^PCMM Direct Primary Care FTEE^^P^^^^^^^^
"KRN",19,12070,1,0)
^^1^1^3020730^
"KRN",19,12070,1,1,0)
Report of Direct Patient Care FTEE for active assignments
"KRN",19,12070,60)
SCTM(404.52,
"KRN",19,12070,62)
0
"KRN",19,12070,63)
[SCMC DIRECT PC FTEE]
"KRN",19,12070,64)
[SCMC DIRECT PC FTEE]
"KRN",19,12070,99.1)
59023,68723
"KRN",19,12070,"U")
PCMM DIRECT PRIMARY CARE FTEE
"KRN",101,4857,-1)
2^2
"KRN",101,4857,0)
DG FIELD MONITOR^DG Field Monitor^^X^10000000057^^^^^^^114
"KRN",101,4857,10,0)
^101.01PA^1^1
"KRN",101,4857,10,1,0)
4863^^^
"KRN",101,4857,10,1,"^")
SCMC PCMM INACTIVATE ON DATE OF DEATH
"KRN",101,4863,-1)
0^1
"KRN",101,4863,0)
SCMC PCMM INACTIVATE ON DATE OF DEATH^PCCM INACTIVATE ON DATE OF DEATH^^A^^^^^^^^SCHEDULING
"KRN",101,4863,1,0)
^101.06^1^1^3020621^^^
"KRN",101,4863,1,1,0)
Inactiviate Patient Team Assignments in PCMM when date of death is entered
"KRN",101,4863,20)
D DEATH^SCMCTSK
"KRN",101,4863,99)
59108,29086
"KRN",101,4863,775,0)
^101.0775PA
"KRN",8994,1154,-1)
0^1
"KRN",8994,1154,0)
SCMC WAIT LIST ENTRY^WAIT^SCMCWAIT^2^A^0
"KRN",8994,1154,1,0)
^^1^1^3020710^
"KRN",8994,1154,1,1,0)
Place patient on Wait List
"KRN",8994,1155,-1)
0^2
"KRN",8994,1155,0)
SC FTEE BUILD LIST^FTEE^SCMCTSK^2^^0
"KRN",8994,1155,1,0)
^^1^1^3020717^
"KRN",8994,1155,1,1,0)
Return List of Positions and FTEE values for  Active Team
"KRN",8994,1155,2,0)
^8994.02A^1^1
"KRN",8994,1155,2,1,0)
TEAM^1^^1
"KRN",8994,1155,2,1,1,0)
^^1^1^3020717^
"KRN",8994,1155,2,1,1,1,0)
Internal Team Number
"KRN",8994,1155,2,"B","TEAM",1)

"KRN",8994,1177,-1)
0^3
"KRN",8994,1177,0)
SC FTEE FILE LIST^FILE^SCMCTSK^1^^0
"KRN",8994,1177,1,0)
^8994.01^1^1^3020812^
"KRN",8994,1177,1,1,0)
File FTEE value
"KRN",8994,1177,2,0)
^8994.02A^1^1
"KRN",8994,1177,2,1,0)
DATA^2
"KRN",8994,1177,2,"B","DATA",1)

"KRN",8994,1178,-1)
0^4
"KRN",8994,1178,0)
SC PC PROVIDER^PC^SCMCWAIT^2^A^0
"KRN",8994,1178,1,0)
^^1^1^3020815^
"KRN",8994,1178,1,1,0)
Send provider entry return 1 or zero if eligible to be Primary Care
"KRN",8994,1178,2,0)
^8994.02A^1^1
"KRN",8994,1178,2,1,0)
PROV^1
"KRN",8994,1178,2,1,1,0)
^^1^1^3020815^
"KRN",8994,1178,2,1,1,1,0)
Internal file 200 provider entry
"KRN",8994,1178,2,"B","PROV",1)

"KRN",8994,1180,-1)
0^5
"KRN",8994,1180,0)
SC SC CONDITION LIST^SCLI^SCMCWAIT^2^P^0
"KRN",8994,1180,1,0)
^8994.01^1^1^3020826^^^
"KRN",8994,1180,1,1,0)
Return conditions of Patient
"KRN",8994,1180,2,0)
^8994.02A^1^1
"KRN",8994,1180,2,1,0)
SC ^2
"KRN",8994,1180,2,"B","SC ",1)

"KRN",8994,1180,3,0)
^^1^1^3020826^
"KRN",8994,1180,3,1,0)
ARRAY
"MBREQ")
0
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"ORD",15,101)
101;15;;;PRO^XPDTA;PROF1^XPDIA;PROE1^XPDIA;PROF2^XPDIA;;PRODEL^XPDIA
"ORD",15,101,0)
PROTOCOL
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",16,-1)
1^1
"PKG",16,0)
SCHEDULING^SD^APPOINTMENTS,PROFILES,LETTERS,AMIS REPORTS
"PKG",16,20,0)
^9.402P^^
"PKG",16,22,0)
^9.49I^1^1
"PKG",16,22,1,0)
5.3^2930813^2930824^10000000057
"PKG",16,22,1,"PAH",1,0)
264^3021031^10000000057
"PKG",16,22,1,"PAH",1,1,0)
^^2^2^3021031
"PKG",16,22,1,"PAH",1,1,1,0)
 
"PKG",16,22,1,"PAH",1,1,2,0)
^
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
8
"RTN","SCMCHLX")
0^3^B3819243
"RTN","SCMCHLX",1,0)
SCMCHLX ;BP/DJB - PCMM HL7 EVENT File Xref APIs ; 21 Aug 2002  7:47 AM
"RTN","SCMCHLX",2,0)
 ;;5.3;Scheduling;**177,264**;May 01, 1999
"RTN","SCMCHLX",3,0)
 ;
"RTN","SCMCHLX",4,0)
 ;Reference routine: SCDXFX01
"RTN","SCMCHLX",5,0)
AACXMIT(IFN,SET,OLDEVPTR) ;Logic for AACXMIT* xrefs on PCMM HL7 EVENT
"RTN","SCMCHLX",6,0)
 ;                 file (#404.48).
"RTN","SCMCHLX",7,0)
 ;
"RTN","SCMCHLX",8,0)
 ; Input: IFN: Pointer to entry in file
"RTN","SCMCHLX",9,0)
 ;        SET: 1 = Set xref
"RTN","SCMCHLX",10,0)
 ;             0 = Kill xref
"RTN","SCMCHLX",11,0)
 ;            -1 = Check value of TRANSMISSION REQUIRED field (#.04).
"RTN","SCMCHLX",12,0)
 ;                   If "YES"- Set xref
"RTN","SCMCHLX",13,0)
 ;                   If "NO" - Kill xref
"RTN","SCMCHLX",14,0)
 ;   OLDEVPTR: Previous value of EVENT POINTER field (#.07).
"RTN","SCMCHLX",15,0)
 ;             Only valid when KILLing xref is due to data in this
"RTN","SCMCHLX",16,0)
 ;             field changing.
"RTN","SCMCHLX",17,0)
 ;Output: None
"RTN","SCMCHLX",18,0)
 ;
"RTN","SCMCHLX",19,0)
 ;Check input
"RTN","SCMCHLX",20,0)
 Q:'$G(IFN)
"RTN","SCMCHLX",21,0)
 Q:'$D(^SCPT(404.48,IFN))
"RTN","SCMCHLX",22,0)
 S:$G(SET)="" SET=-1
"RTN","SCMCHLX",23,0)
 S OLDEVPTR=+$G(OLDEVPTR)
"RTN","SCMCHLX",24,0)
 ;
"RTN","SCMCHLX",25,0)
 ;Declare variables
"RTN","SCMCHLX",26,0)
 NEW EVPTR,EVENT,ND,XMIT
"RTN","SCMCHLX",27,0)
 ;
"RTN","SCMCHLX",28,0)
 ;Get data
"RTN","SCMCHLX",29,0)
 S ND=$G(^SCPT(404.48,IFN,0)) ;....Get zero node
"RTN","SCMCHLX",30,0)
 S XMIT=+$P(ND,"^",3) ;............Transmission Required field
"RTN","SCMCHLX",31,0)
 S EVPTR=$P(ND,"^",7) ;............Event Pointer field
"RTN","SCMCHLX",32,0)
 I 'SET,OLDEVPTR S EVPTR=OLDEVPTR ;Use old Event Pointer if killing
"RTN","SCMCHLX",33,0)
 ;                                 due to value changing.
"RTN","SCMCHLX",34,0)
 Q:'EVPTR  ;.......................Quit if no Event Pointer
"RTN","SCMCHLX",35,0)
 ;
"RTN","SCMCHLX",36,0)
 ;Set/Kill logic based on value of TRANSMISSION REQUIRED
"RTN","SCMCHLX",37,0)
 I SET=-1 S SET=$S(XMIT=1:1,1:0)
"RTN","SCMCHLX",38,0)
 ;
"RTN","SCMCHLX",39,0)
 ;Set/Kill xref
"RTN","SCMCHLX",40,0)
 I SET S ^SCPT(404.48,"AACXMIT",EVPTR,IFN)="" ;..Set xref
"RTN","SCMCHLX",41,0)
 E  KILL ^SCPT(404.48,"AACXMIT",EVPTR,IFN) ;.....Kill xref
"RTN","SCMCHLX",42,0)
 Q
"RTN","SCMCHLX",43,0)
 ;
"RTN","SCMCHLX",44,0)
TXREF(IFN) ;Logic for AEVENT* xrefs on TEAM file. Create entry in
"RTN","SCMCHLX",45,0)
 ;  PCMM HL7 EVENT file.
"RTN","SCMCHLX",46,0)
 ;
"RTN","SCMCHLX",47,0)
 ;***THIS CALL NOT USED***
"RTN","SCMCHLX",48,0)
 ;bp/djb 6/15/99
"RTN","SCMCHLX",49,0)
 ;No longer sending Primary Care Team data to Austin.
"RTN","SCMCHLX",50,0)
 ;
"RTN","SCMCHLX",51,0)
 D TXREF^SCMCHLX1($G(IFN))
"RTN","SCMCHLX",52,0)
 Q
"RTN","SCMCHLX",53,0)
 ;
"RTN","SCMCHLX",54,0)
PTXREF(IFN,OLDTYPE) ;Logic for AEVENT* xrefs on PATIENT TEAM ASSIGN file.
"RTN","SCMCHLX",55,0)
 ;           Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX",56,0)
 ;
"RTN","SCMCHLX",57,0)
 ;***THIS CALL NOT USED***
"RTN","SCMCHLX",58,0)
 ;bp/djb 6/15/99
"RTN","SCMCHLX",59,0)
 ;No longer sending Primary Care Team data to Austin.
"RTN","SCMCHLX",60,0)
 ;
"RTN","SCMCHLX",61,0)
 D PTXREF^SCMCHLX1($G(IFN),$G(OLDTYPE))
"RTN","SCMCHLX",62,0)
 Q
"RTN","SCMCHLX",63,0)
 ;
"RTN","SCMCHLX",64,0)
PTPXREF(IFN,OLDROLE) ;Logic for AEVENT* xrefs on PATIENT TEAM POSITION
"RTN","SCMCHLX",65,0)
 ;            ASSIGN file. Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX",66,0)
 D PTPXREF^SCMCHLX1($G(IFN),$G(OLDROLE))
"RTN","SCMCHLX",67,0)
 Q
"RTN","SCMCHLX",68,0)
 ;
"RTN","SCMCHLX",69,0)
POSHXREF(IFN) ;Logic for AEVENT* xrefs on POSITION ASSIGNMENT HISTORY file.
"RTN","SCMCHLX",70,0)
 ;     Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX",71,0)
 D POSHXREF^SCMCHLX1($G(IFN))
"RTN","SCMCHLX",72,0)
 Q
"RTN","SCMCHLX",73,0)
 ;
"RTN","SCMCHLX",74,0)
PREHXREF(IFN) ;Logic for AEVENT* xrefs on PRECEPTOR ASSIGNMENT HISTORY file.
"RTN","SCMCHLX",75,0)
 ;     Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX",76,0)
 D PREHXREF^SCMCHLX1($G(IFN))
"RTN","SCMCHLX",77,0)
 Q
"RTN","SCMCHLX",78,0)
POSBXREF(IFN) ;Logic for Bookable Hour Cross reference
"RTN","SCMCHLX",79,0)
 ;Create entry in PCMM HL7 EVENT file
"RTN","SCMCHLX",80,0)
 D POSBXREF^SCMCHLX1(+$G(IFN))
"RTN","SCMCHLX",81,0)
 Q
"RTN","SCMCHLX1")
0^2^B13032284
"RTN","SCMCHLX1",1,0)
SCMCHLX1 ;BP/DJB - PCMM HL7 EVENT File Xref Code ; 10 Sep 2002  3:30 PM
"RTN","SCMCHLX1",2,0)
 ;;5.3;Scheduling;**177,264**;May 01, 1999
"RTN","SCMCHLX1",3,0)
 ;
"RTN","SCMCHLX1",4,0)
TXREF(IFN) ;Logic for AEVENT* xrefs on TEAM file (404.51). Create entry in
"RTN","SCMCHLX1",5,0)
 ;  PCMM HL7 EVENT file.
"RTN","SCMCHLX1",6,0)
 ;
"RTN","SCMCHLX1",7,0)
 ; Input: IFN - Pointer to entry in file
"RTN","SCMCHLX1",8,0)
 ;Output: None
"RTN","SCMCHLX1",9,0)
 ;
"RTN","SCMCHLX1",10,0)
 ;Check input
"RTN","SCMCHLX1",11,0)
 Q:'$G(IFN)
"RTN","SCMCHLX1",12,0)
 ;
"RTN","SCMCHLX1",13,0)
 ;Declare variables
"RTN","SCMCHLX1",14,0)
 NEW DFN,DFNPTR,ND,VARPTR
"RTN","SCMCHLX1",15,0)
 ;
"RTN","SCMCHLX1",16,0)
 ;Store event variable pointer
"RTN","SCMCHLX1",17,0)
 S VARPTR=IFN_";SCTM(404.51,"
"RTN","SCMCHLX1",18,0)
 ;
"RTN","SCMCHLX1",19,0)
 ;Quit if an event entry already exists for this record
"RTN","SCMCHLX1",20,0)
 Q:$D(^SCPT(404.48,"AACXMIT",VARPTR))
"RTN","SCMCHLX1",21,0)
 ;
"RTN","SCMCHLX1",22,0)
 ;Create an entry in PCMM HL7 EVENT file (#404.48)
"RTN","SCMCHLX1",23,0)
 D ADD^SCMCHLE("NOW",VARPTR)
"RTN","SCMCHLX1",24,0)
 Q
"RTN","SCMCHLX1",25,0)
 ;
"RTN","SCMCHLX1",26,0)
PTXREF(IFN,OLDTYPE) ;Logic for AEVENT* xrefs on PATIENT TEAM ASSIGN file
"RTN","SCMCHLX1",27,0)
 ;           (404.42). Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX1",28,0)
 ;
"RTN","SCMCHLX1",29,0)
 ; Input: IFN - Pointer to entry in file
"RTN","SCMCHLX1",30,0)
 ;    OLDTYPE - If OLDTYPE=1 then send a deletion since it's no
"RTN","SCMCHLX1",31,0)
 ;              longer a primary care team.
"RTN","SCMCHLX1",32,0)
 ;Output: None
"RTN","SCMCHLX1",33,0)
 ;
"RTN","SCMCHLX1",34,0)
 ;Check input
"RTN","SCMCHLX1",35,0)
 Q:'$G(IFN)
"RTN","SCMCHLX1",36,0)
 ;
"RTN","SCMCHLX1",37,0)
 ;Declare variables
"RTN","SCMCHLX1",38,0)
 NEW DFN,ND,VARPTR
"RTN","SCMCHLX1",39,0)
 ;
"RTN","SCMCHLX1",40,0)
 ;Get data
"RTN","SCMCHLX1",41,0)
 S ND=$G(^SCPT(404.42,IFN,0)) ;.........Zero node of 404.42
"RTN","SCMCHLX1",42,0)
 Q:ND']""
"RTN","SCMCHLX1",43,0)
 I $P(ND,U,8)'=1,$G(OLDTYPE)'=1 Q  ;....Not Primary Care related
"RTN","SCMCHLX1",44,0)
 S DFN=$P(ND,U,1) ;.....................Get pointer to 404.42
"RTN","SCMCHLX1",45,0)
 Q:'DFN
"RTN","SCMCHLX1",46,0)
 ;
"RTN","SCMCHLX1",47,0)
 ;Store event variable pointer.
"RTN","SCMCHLX1",48,0)
 S VARPTR=IFN_";SCPT(404.42,"
"RTN","SCMCHLX1",49,0)
 ;
"RTN","SCMCHLX1",50,0)
 ;Quit if an event entry for this record is already set to transmit.
"RTN","SCMCHLX1",51,0)
 Q:$D(^SCPT(404.48,"AACXMIT",VARPTR))
"RTN","SCMCHLX1",52,0)
 ;
"RTN","SCMCHLX1",53,0)
 ;If event entry exists, turn on transmission flag.
"RTN","SCMCHLX1",54,0)
 ;I $D(^SCPT(404.48,"AC",VARPTR)) D TRANSMIT^SCMCHLE(VARPTR,1) Q
"RTN","SCMCHLX1",55,0)
 ;
"RTN","SCMCHLX1",56,0)
 ;Create an entry in PCMM HL7 EVENT file (#404.48).
"RTN","SCMCHLX1",57,0)
 D ADD^SCMCHLE("NOW",VARPTR,DFN)
"RTN","SCMCHLX1",58,0)
 Q
"RTN","SCMCHLX1",59,0)
 ;
"RTN","SCMCHLX1",60,0)
PTPXREF(IFN,OLDROLE) ;Logic for AEVENT* xrefs on PATIENT TEAM POSITION ASSIGN
"RTN","SCMCHLX1",61,0)
 ;            file (404.43). Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX1",62,0)
 ;
"RTN","SCMCHLX1",63,0)
 ; Input: IFN - Pointer to entry in file
"RTN","SCMCHLX1",64,0)
 ;    OLDROLE - If OLDROLE=1 then send a deletion since it's no
"RTN","SCMCHLX1",65,0)
 ;              longer a primary care position.
"RTN","SCMCHLX1",66,0)
 ;Output: None
"RTN","SCMCHLX1",67,0)
 ;
"RTN","SCMCHLX1",68,0)
 ;Check input
"RTN","SCMCHLX1",69,0)
 Q:'$G(IFN)
"RTN","SCMCHLX1",70,0)
 ;
"RTN","SCMCHLX1",71,0)
 ;Declare variables
"RTN","SCMCHLX1",72,0)
 NEW DFN,DFNPTR,ND,TP,VARPTR
"RTN","SCMCHLX1",73,0)
 ;
"RTN","SCMCHLX1",74,0)
 ;Get data
"RTN","SCMCHLX1",75,0)
 S ND=$G(^SCPT(404.43,IFN,0)) ;............Zero node of 404.43
"RTN","SCMCHLX1",76,0)
 Q:ND']""
"RTN","SCMCHLX1",77,0)
 I $P(ND,U,5)'=1,$G(OLDROLE)'=1 Q  ;.......Not Primary Care related
"RTN","SCMCHLX1",78,0)
 S DFNPTR=$P(ND,U,1) ;.....................Get pointer to 404.42
"RTN","SCMCHLX1",79,0)
 Q:'DFNPTR
"RTN","SCMCHLX1",80,0)
 S DFN=$P($G(^SCPT(404.42,DFNPTR,0)),U,1) ;Pointer to PATIENT file
"RTN","SCMCHLX1",81,0)
 Q:'DFN
"RTN","SCMCHLX1",82,0)
 S TP=$P(ND,U,2) ;.........................Team Position
"RTN","SCMCHLX1",83,0)
 ;
"RTN","SCMCHLX1",84,0)
 ;Store event variable pointer
"RTN","SCMCHLX1",85,0)
 S VARPTR=IFN_";SCPT(404.43,"
"RTN","SCMCHLX1",86,0)
 ;
"RTN","SCMCHLX1",87,0)
 ;Quit if an event entry already exists for this record
"RTN","SCMCHLX1",88,0)
 Q:$D(^SCPT(404.48,"AACXMIT",VARPTR))
"RTN","SCMCHLX1",89,0)
 ;
"RTN","SCMCHLX1",90,0)
 ;Create an entry in PCMM HL7 EVENT file (#404.48)
"RTN","SCMCHLX1",91,0)
 D ADD^SCMCHLE("NOW",VARPTR,DFN,TP)
"RTN","SCMCHLX1",92,0)
 Q
"RTN","SCMCHLX1",93,0)
 ;
"RTN","SCMCHLX1",94,0)
POSHXREF(IFN) ;Logic for AEVENT* xrefs on POSITION ASSIGNMENT HISTORY file
"RTN","SCMCHLX1",95,0)
 ;     (404.52). Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX1",96,0)
 ;
"RTN","SCMCHLX1",97,0)
 ; Input: IFN - Pointer to entry in file
"RTN","SCMCHLX1",98,0)
 ;Output: None
"RTN","SCMCHLX1",99,0)
 ;
"RTN","SCMCHLX1",100,0)
 ;Check input
"RTN","SCMCHLX1",101,0)
 Q:'$G(IFN)
"RTN","SCMCHLX1",102,0)
 ;
"RTN","SCMCHLX1",103,0)
 ;Declare variables
"RTN","SCMCHLX1",104,0)
 NEW ND,TP,VARPTR
"RTN","SCMCHLX1",105,0)
 ;
"RTN","SCMCHLX1",106,0)
 ;Get data
"RTN","SCMCHLX1",107,0)
 S ND=$G(^SCTM(404.52,IFN,0)) ;..Zero node of 404.52
"RTN","SCMCHLX1",108,0)
 S TP=$P(ND,U,1) ;...............Team Position
"RTN","SCMCHLX1",109,0)
 ;
"RTN","SCMCHLX1",110,0)
 ;Store event variable pointer
"RTN","SCMCHLX1",111,0)
 S VARPTR=IFN_";SCTM(404.52,"
"RTN","SCMCHLX1",112,0)
 ;
"RTN","SCMCHLX1",113,0)
 ;Quit if an event entry already exists for this record
"RTN","SCMCHLX1",114,0)
 Q:$D(^SCPT(404.48,"AACXMIT",VARPTR))
"RTN","SCMCHLX1",115,0)
 ;
"RTN","SCMCHLX1",116,0)
 ;Create an entry in PCMM HL7 EVENT file (#404.48)
"RTN","SCMCHLX1",117,0)
 D ADD^SCMCHLE("NOW",VARPTR,,TP)
"RTN","SCMCHLX1",118,0)
 Q
"RTN","SCMCHLX1",119,0)
 ;
"RTN","SCMCHLX1",120,0)
PREHXREF(IFN) ;Logic for AEVENT* xrefs on PRECEPTOR ASSIGNMENT HISTORY file
"RTN","SCMCHLX1",121,0)
 ;     (404.53). Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX1",122,0)
 ;
"RTN","SCMCHLX1",123,0)
 ; Input: IFN - Pointer to entry in file
"RTN","SCMCHLX1",124,0)
 ;Output: None
"RTN","SCMCHLX1",125,0)
 ;
"RTN","SCMCHLX1",126,0)
 ;Check input
"RTN","SCMCHLX1",127,0)
 Q:'$G(IFN)
"RTN","SCMCHLX1",128,0)
 ;
"RTN","SCMCHLX1",129,0)
 ;Declare variables
"RTN","SCMCHLX1",130,0)
 NEW ND,TP,VARPTR
"RTN","SCMCHLX1",131,0)
 ;
"RTN","SCMCHLX1",132,0)
 ;Store event variable pointer
"RTN","SCMCHLX1",133,0)
 S VARPTR=IFN_";SCTM(404.53,"
"RTN","SCMCHLX1",134,0)
 ;
"RTN","SCMCHLX1",135,0)
 ;Get data
"RTN","SCMCHLX1",136,0)
 S ND=$G(^SCTM(404.53,IFN,0)) ;....Zero node of 404.53
"RTN","SCMCHLX1",137,0)
 S TP=$P(ND,U,1)_"-"_$P(ND,U,6) ;..Team Position: Preceptee-Preceptor
"RTN","SCMCHLX1",138,0)
 ;
"RTN","SCMCHLX1",139,0)
 ;Quit if an event entry already exists for this record
"RTN","SCMCHLX1",140,0)
 Q:$D(^SCPT(404.48,"AACXMIT",VARPTR))
"RTN","SCMCHLX1",141,0)
 ;
"RTN","SCMCHLX1",142,0)
 ;Create an entry in PCMM HL7 EVENT file (#404.48)
"RTN","SCMCHLX1",143,0)
 D ADD^SCMCHLE("NOW",VARPTR,,TP)
"RTN","SCMCHLX1",144,0)
 Q
"RTN","SCMCHLX1",145,0)
POSBXREF(IFN) ;
"RTN","SCMCHLX1",146,0)
 ;     (404.52). Create entry in PCMM HL7 EVENT file.
"RTN","SCMCHLX1",147,0)
 ;
"RTN","SCMCHLX1",148,0)
 ; Input: IFN - Pointer to entry in file
"RTN","SCMCHLX1",149,0)
 ;Output: None
"RTN","SCMCHLX1",150,0)
 ;
"RTN","SCMCHLX1",151,0)
 Q  ;Check input
"RTN","SCMCHLX1",152,0)
 Q:'$G(IFN)
"RTN","SCMCHLX1",153,0)
 ;
"RTN","SCMCHLX1",154,0)
 ;Declare variables
"RTN","SCMCHLX1",155,0)
 NEW ND,TP,VARPTR
"RTN","SCMCHLX1",156,0)
 ;
"RTN","SCMCHLX1",157,0)
 ;Get data
"RTN","SCMCHLX1",158,0)
 S ND=$G(^SCTM(404.52,IFN,0)) ;..Zero node of 404.52
"RTN","SCMCHLX1",159,0)
 S TP=$P(ND,U,1) ;...............Team Position
"RTN","SCMCHLX1",160,0)
 ;
"RTN","SCMCHLX1",161,0)
 ;Store event variable pointer
"RTN","SCMCHLX1",162,0)
 S VARPTR=IFN_";SCTM(404.52,"
"RTN","SCMCHLX1",163,0)
 ;
"RTN","SCMCHLX1",164,0)
 ;Quit if an event entry already exists for this record
"RTN","SCMCHLX1",165,0)
 Q:$D(^SCPT(404.48,"AACXMIT",VARPTR))
"RTN","SCMCHLX1",166,0)
 ;
"RTN","SCMCHLX1",167,0)
 ;Create an entry in PCMM HL7 EVENT file (#404.48)
"RTN","SCMCHLX1",168,0)
 D ADD^SCMCHLE("NOW",VARPTR,,TP)
"RTN","SCMCHLX1",169,0)
 Q
"RTN","SCMCHLX1",170,0)
 ;
"RTN","SCMCPR1")
0^9^B5800140
"RTN","SCMCPR1",1,0)
SCMCPR1 ;ALB/SCK - API FILE FOR STAFF ASSIGNMENTS ; 22 Aug 2002  3:02 PM
"RTN","SCMCPR1",2,0)
 ;;5.3;Scheduling;**41,45,264**;AUG 13, 1993
"RTN","SCMCPR1",3,0)
 ;;1.0
"RTN","SCMCPR1",4,0)
 Q
"RTN","SCMCPR1",5,0)
 ;
"RTN","SCMCPR1",6,0)
URSLKUP(SCDAT,SCUSR,SCVAL,SCREEN,SCINST,SCPC) ;
"RTN","SCMCPR1",7,0)
 ;   Does a lookup in the USR #8930.3 file based on the user class match passed in
"RTN","SCMCPR1",8,0)
 ;
"RTN","SCMCPR1",9,0)
 ;  Input 
"RTN","SCMCPR1",10,0)
 ;      SCUSR  User class to use for lookup
"RTN","SCMCPR1",11,0)
 ;      SCVAL  Partial User name to lookup on
"RTN","SCMCPR1",12,0)
 ;   
"RTN","SCMCPR1",13,0)
 ;   Returns an array of matches found, or an error array.        
"RTN","SCMCPR1",14,0)
 ;   Format for array:        
"RTN","SCMCPR1",15,0)
 ;        SCDATA(1)=[Data]
"RTN","SCMCPR1",16,0)
 ;        SCDATA(x)=IEN^New Users Name^Title
"RTN","SCMCPR1",17,0)
 ;
"RTN","SCMCPR1",18,0)
 ;   Format for Error:
"RTN","SCMCPR1",19,0)
 ;       SCDATA(1)=[Errors]
"RTN","SCMCPR1",20,0)
 ;       SCDATA(x)=" message "
"RTN","SCMCPR1",21,0)
 ;
"RTN","SCMCPR1",22,0)
 N SCI,N,SCRTN,SCTMP,SCTITLE,SCIEN,SCN,SCUERR
"RTN","SCMCPR1",23,0)
 ;
"RTN","SCMCPR1",24,0)
 I SCUSR']""&(SCINST=1) D  G USRQ
"RTN","SCMCPR1",25,0)
 . S N=0
"RTN","SCMCPR1",26,0)
 . D SETF("[Errors]")
"RTN","SCMCPR1",27,0)
 . D SETF("No User Class Defined")
"RTN","SCMCPR1",28,0)
 ;
"RTN","SCMCPR1",29,0)
 IF $L(SCVAL)<3&(SCINST=0) D  G USRQ
"RTN","SCMCPR1",30,0)
 . S N=0
"RTN","SCMCPR1",31,0)
 .D SETF("[Errors]")
"RTN","SCMCPR1",32,0)
 .D SETF("Insufficient characters to match")
"RTN","SCMCPR1",33,0)
 ;
"RTN","SCMCPR1",34,0)
 S N=0
"RTN","SCMCPR1",35,0)
 IF SCINST=1 D
"RTN","SCMCPR1",36,0)
 . D LIST^DIC(200,"",".01;8;28","","","",SCVAL,"","IF $$ISA^USRLM(Y,SCUSR,.SCUERR)","")
"RTN","SCMCPR1",37,0)
 ;
"RTN","SCMCPR1",38,0)
 IF SCINST=0 D
"RTN","SCMCPR1",39,0)
 .D LIST^DIC(200,"",".01;8;28","","","",SCVAL,"",SCREEN,"")
"RTN","SCMCPR1",40,0)
 ;
"RTN","SCMCPR1",41,0)
 S N=0
"RTN","SCMCPR1",42,0)
 D SETF("[Data]")
"RTN","SCMCPR1",43,0)
 S I="" F  S I=$O(^TMP("DILIST",$J,1,I)) Q:'I  D
"RTN","SCMCPR1",44,0)
 . S SCTMP=^TMP("DILIST",$J,2,I)_U
"RTN","SCMCPR1",45,0)
 . I 0 I $G(SCPC) I $O(^SD(403.46,+SCPC,2,0)) N PC S PC=0 D  Q:'PC  ;Put back for provider by role
"RTN","SCMCPR1",46,0)
 .. N J F J=0:0 S J=$O(^VA(200,+SCTMP,"USC1",J)) Q:'J  S A=^(J,0) D  Q:PC
"RTN","SCMCPR1",47,0)
 ... I '$P(A,U,3) I $D(^SD(403.46,+SCPC,2,+A)) S PC=1
"RTN","SCMCPR1",48,0)
 . S:SCINST SCTMP=SCTMP_$$CLNAME^USRLM(+SCUSR)
"RTN","SCMCPR1",49,0)
 . S SCTMP=SCTMP_U_U_U_U_^TMP("DILIST",$J,1,I)
"RTN","SCMCPR1",50,0)
 . S SCTMP=SCTMP_U_^TMP("DILIST",$J,"ID",I,8)
"RTN","SCMCPR1",51,0)
 . S SCTMP=SCTMP_U_^TMP("DILIST",$J,"ID",I,28)
"RTN","SCMCPR1",52,0)
 . D SETF(SCTMP)
"RTN","SCMCPR1",53,0)
 ;
"RTN","SCMCPR1",54,0)
 K ^TMP("DILIST",$J)
"RTN","SCMCPR1",55,0)
USRQ Q
"RTN","SCMCPR1",56,0)
 ;
"RTN","SCMCPR1",57,0)
SETF(X) ;
"RTN","SCMCPR1",58,0)
 S N=N+1
"RTN","SCMCPR1",59,0)
 S SCDAT(N)=X
"RTN","SCMCPR1",60,0)
 Q
"RTN","SCMCPR1",61,0)
 ;
"RTN","SCMCPR1",62,0)
 ;
"RTN","SCMCPR1",63,0)
TEST(CHK) ;
"RTN","SCMCPR1",64,0)
 N SC,SCCHECK
"RTN","SCMCPR1",65,0)
 K SCK
"RTN","SCMCPR1",66,0)
 IF CHK=1 D
"RTN","SCMCPR1",67,0)
 . S DIC="^USR(8930,",DIC("A")="Enter User Class: ",DIC(0)="AEMZ"
"RTN","SCMCPR1",68,0)
 . D ^DIC
"RTN","SCMCPR1",69,0)
 . W !,Y,!
"RTN","SCMCPR1",70,0)
 . R "Lookup: ",X:60
"RTN","SCMCPR1",71,0)
 . Q:'$G(Y)>0
"RTN","SCMCPR1",72,0)
 . D URSLKUP(.SCK,$P(Y,U),X,"",CHK)
"RTN","SCMCPR1",73,0)
 ;
"RTN","SCMCPR1",74,0)
 IF CHK=0 D
"RTN","SCMCPR1",75,0)
 . R "Name: ",X:60
"RTN","SCMCPR1",76,0)
 . D URSLKUP(.SCK,"",X,"",CHK)
"RTN","SCMCPR1",77,0)
 ;
"RTN","SCMCPR1",78,0)
 ;;;W ! ZW SCK
"RTN","SCMCPR1",79,0)
TESTQ Q
"RTN","SCMCQK1")
0^5^B80416562
"RTN","SCMCQK1",1,0)
SCMCQK1 ;ALB/REW - Single Pt Tm/Pt Tm Pos Assign and Discharge ; 07 Oct 2002  12:10 PM
"RTN","SCMCQK1",2,0)
 ;;5.3;Scheduling;**148,177,231,264**;AUG 13, 1993
"RTN","SCMCQK1",3,0)
 ;
"RTN","SCMCQK1",4,0)
UNTP ;unassign patient from pc prac position
"RTN","SCMCQK1",5,0)
 IF '$G(SCTP) W !,"No position defined" Q
"RTN","SCMCQK1",6,0)
 N OK,SCER,SCCL,SCBEGIN,SCN,SCLIST,SCEND,SCINCL,SCLSEQ,SCDATES,SCDTS
"RTN","SCMCQK1",7,0)
 S OK=0
"RTN","SCMCQK1",8,0)
 W !,"About to Unassign "_$$NAME(DFN)_" from: ",!,?8,$$POSITION(SCTP)_" position   ["_$P($$GETPRTP^SCAPMCU2(SCTP,DT),U,2)_"]"
"RTN","SCMCQK1",9,0)
 S SCDISCH=$$DATE("D")
"RTN","SCMCQK1",10,0)
 G:SCDISCH<1 QTUNTP
"RTN","SCMCQK1",11,0)
 G:'$$CONFIRM() QTUNTP
"RTN","SCMCQK1",12,0)
 S OK=$$INPTSCTP^SCAPMC22(DFN,SCTP,SCDISCH,.SCER)
"RTN","SCMCQK1",13,0)
 G:OK'>0 QTUNTP
"RTN","SCMCQK1",14,0)
 S SCCL=$P($G(^SCTM(404.57,+$G(SCTP),0)),U,9)
"RTN","SCMCQK1",15,0)
 IF SCCL D DISCL
"RTN","SCMCQK1",16,0)
QTUNTP W !,"Position Unassignment "_$S(OK:"made.",1:"NOT made.")
"RTN","SCMCQK1",17,0)
 Q
"RTN","SCMCQK1",18,0)
 ;
"RTN","SCMCQK1",19,0)
ENRCL ;
"RTN","SCMCQK1",20,0)
 N SCRESTA,SCREST,SCCLNM,SCTM
"RTN","SCMCQK1",21,0)
 G:$$ACTCL(DFN,SCCL) QTECL
"RTN","SCMCQK1",22,0)
 W !!!,"The "_$$POSITION(SCTP)_" is associated with the ",$$CLINIC(SCCL)_" clinic."
"RTN","SCMCQK1",23,0)
 ; SCRESTA = Array of pt's teams causing restricted consults
"RTN","SCMCQK1",24,0)
 N SCRESTA
"RTN","SCMCQK1",25,0)
 S SCREST=$$RESTPT^SCAPMCU4(DFN,DT,"SCRESTA")
"RTN","SCMCQK1",26,0)
 IF SCREST D
"RTN","SCMCQK1",27,0)
 .N SCTM
"RTN","SCMCQK1",28,0)
 . S SCCLNM=Y
"RTN","SCMCQK1",29,0)
 . W !,?5,"Patient has restricted consults due to team assignment(s):"
"RTN","SCMCQK1",30,0)
 .S SCTM=0
"RTN","SCMCQK1",31,0)
 .F  S SCTM=$O(SCRESTA(SCTM)) Q:'SCTM  W !,?10,SCRESTA(SCTM)
"RTN","SCMCQK1",32,0)
 IF SCREST&'$G(SCOKCONS) D  G QTECL
"RTN","SCMCQK1",33,0)
 .W !,?5,"This patient may only be enrolled in clinics via"
"RTN","SCMCQK1",34,0)
 .W !,?15,"Edit Clinic Enrollment Data option"
"RTN","SCMCQK1",35,0)
 W !,"Do you wish to enroll the patient from this clinic on "
"RTN","SCMCQK1",36,0)
 S Y=SCASSDT X ^DD("DD") W Y,"?"
"RTN","SCMCQK1",37,0)
 IF $$YESNO() D
"RTN","SCMCQK1",38,0)
 .W !,"Clinic Enrollment"
"RTN","SCMCQK1",39,0)
 .IF $$ACPTCL^SCAPMC18(DFN,SCCL,,SCASSDT,"SCENER") W " made"
"RTN","SCMCQK1",40,0)
 .ELSE  W "NOT made"
"RTN","SCMCQK1",41,0)
QTECL Q
"RTN","SCMCQK1",42,0)
 ;
"RTN","SCMCQK1",43,0)
DISCL ;
"RTN","SCMCQK1",44,0)
 G:'$$ACTCL(DFN,SCCL) QTDCL
"RTN","SCMCQK1",45,0)
 W !,$$NAME(DFN)," is enrolled in the associated "_$$CLINIC(SCCL)_" clinic."
"RTN","SCMCQK1",46,0)
 W !,"Do you wish to discharge the patient from this clinic on "
"RTN","SCMCQK1",47,0)
 S Y=SCDISCH X ^DD("DD") W Y,"?"
"RTN","SCMCQK1",48,0)
 G:'$$YESNO() QTDCL
"RTN","SCMCQK1",49,0)
 N SDFN,SDCLN S SDFN=DFN,SDCLN=SCCL
"RTN","SCMCQK1",50,0)
 N DFN D ^SDCD
"RTN","SCMCQK1",51,0)
QTDCL Q
"RTN","SCMCQK1",52,0)
 ;
"RTN","SCMCQK1",53,0)
UNTM ;
"RTN","SCMCQK1",54,0)
 ;assign patient from pc team (and pc position if possible)
"RTN","SCMCQK1",55,0)
 N OK,SCER,SCBEGIN,SCN,SCLIST,SCEND,SCINCL,SCLSEQ,SCDATES,SCDTS,OK2,OK3
"RTN","SCMCQK1",56,0)
 S OK=0
"RTN","SCMCQK1",57,0)
 W !!,"About to Unassign "_$$NAME(DFN)_" from "_$$TEAMNM(SCTM)_" team"
"RTN","SCMCQK1",58,0)
 W:'SCTPSTAT !,?5,"AND from "_$$POSITION(SCTP)_" position  ["_$$WRITETP^SCMCDD1(SCTP)_"]"
"RTN","SCMCQK1",59,0)
 S SCDISCH=$$DATE("D")
"RTN","SCMCQK1",60,0)
 G:SCDISCH<1 QTUNTM
"RTN","SCMCQK1",61,0)
 G:'$$CONFIRM() QTUNTM
"RTN","SCMCQK1",62,0)
 IF 'SCTPSTAT D  G:OK2'>0 QTUNTM
"RTN","SCMCQK1",63,0)
 .W !,"PC assignment unassigned."
"RTN","SCMCQK1",64,0)
 .S OK2=$$INPTSCTP^SCAPMC22(DFN,SCTP,SCDISCH,.SCER)
"RTN","SCMCQK1",65,0)
 .IF OK2>0 D
"RTN","SCMCQK1",66,0)
 ..W "made."
"RTN","SCMCQK1",67,0)
 ..S SCCL=$P(^SCTM(404.57,SCTP,0),U,9)
"RTN","SCMCQK1",68,0)
 ..D:SCCL DISCL
"RTN","SCMCQK1",69,0)
 S OK3=$$ALLPOS()
"RTN","SCMCQK1",70,0)
 IF $$OKINPTTM^SCMCTMU2(DFN,SCTM,SCDISCH) D
"RTN","SCMCQK1",71,0)
 .S OK=$$INPTSCTM^SCAPMC7(DFN,SCTM,SCDISCH,.SCER)
"RTN","SCMCQK1",72,0)
 ELSE  D
"RTN","SCMCQK1",73,0)
 . W !,"Future/Current Patient-Position Assignment exists"
"RTN","SCMCQK1",74,0)
QTUNTM W !,"Team Unassignment "_$S(OK:"made",1:"NOT made.")
"RTN","SCMCQK1",75,0)
 Q
"RTN","SCMCQK1",76,0)
 ;
"RTN","SCMCQK1",77,0)
ALLPOS() ;unassign all patient-positions for team
"RTN","SCMCQK1",78,0)
 ; not stand-alone - needs dfn,sctm
"RTN","SCMCQK1",79,0)
 ;   return 1=No positions left assigned|0=At least 1 position assigned
"RTN","SCMCQK1",80,0)
 N OK,SCDT1,SCPTTPX,SCERRR,SCTP,SCCNT,SCPTTPI,SCLOC,SCNODE,SCPTTP2
"RTN","SCMCQK1",81,0)
 S SCDT1("BEGIN")=SCDISCH+1
"RTN","SCMCQK1",82,0)
 S SCDT1("END")=3990101
"RTN","SCMCQK1",83,0)
 S SCDT1("INCL")=0  ;anytime from now to future
"RTN","SCMCQK1",84,0)
 S OK=$$TPPT^SCAPMC23(DFN,"SCDT1",,,,,,"SCPTTPX",.SCERRR)
"RTN","SCMCQK1",85,0)
 S (SCTP,SCCNT)=0
"RTN","SCMCQK1",86,0)
 W !,"Checking for other position assignments to team..."
"RTN","SCMCQK1",87,0)
 F  S SCTP=$O(SCPTTPX("SCTP",SCTM,SCTP)) Q:'SCTP  S SCCNT=SCCNT+1 D
"RTN","SCMCQK1",88,0)
 .S SCPTTPI=$O(SCPTTPX("SCTP",SCTM,SCTP,9999999),-1)
"RTN","SCMCQK1",89,0)
 .S SCLOC=$O(SCPTTPX("SCTP",SCTM,SCTP,SCPTTPI,0))
"RTN","SCMCQK1",90,0)
 .S SCNODE=SCPTTPX(SCLOC)
"RTN","SCMCQK1",91,0)
 .S SCPTTP2(SCTP)=""
"RTN","SCMCQK1",92,0)
 .W !,?3,$P(SCNODE,U,2),"   ",$P(SCNODE,U,8)
"RTN","SCMCQK1",93,0)
 .IF $P(SCNODE,U,6)!(SCDISCH'>$P(SCNODE,U,5)) D
"RTN","SCMCQK1",94,0)
 ..W !,?5,"Unassignment date already exists or unassignment after assignment date"
"RTN","SCMCQK1",95,0)
 ..W !,?15,"- Correct via PCMM GUI"
"RTN","SCMCQK1",96,0)
 ..S OK=0
"RTN","SCMCQK1",97,0)
 W !,?5,$S(SCCNT:SCCNT,1:"No")_" current/future position assignment(s)"
"RTN","SCMCQK1",98,0)
 G:'OK!('SCCNT) QTALL
"RTN","SCMCQK1",99,0)
 W !!,"About to unassign the above patient-position assignments"
"RTN","SCMCQK1",100,0)
 IF '$$CONFIRM S OK=0 G QTALL
"RTN","SCMCQK1",101,0)
 S SCTP=0
"RTN","SCMCQK1",102,0)
 F  S SCTP=$O(SCPTTP2(SCTP)) Q:'SCTP  D  Q:'OK
"RTN","SCMCQK1",103,0)
 .S OK=$$INPTSCTP^SCAPMC22(DFN,SCTP,SCDISCH,.SCER)
"RTN","SCMCQK1",104,0)
 .W:'OK !,?10,"Problem with unassignment, correct via PCMM GUI"
"RTN","SCMCQK1",105,0)
QTALL Q OK
"RTN","SCMCQK1",106,0)
 ;
"RTN","SCMCQK1",107,0)
ASTM ;assign patient to PC team
"RTN","SCMCQK1",108,0)
 N DIC,Y,OK,SCTM,SCTMFLDS,SCER,SCBEGIN,SCN,SCLIST,SCEND,SCINCL,SCLSEQ,SCDATES,SCDTS
"RTN","SCMCQK1",109,0)
 S OK=0
"RTN","SCMCQK1",110,0)
 W !!,"About to Assign "_$$NAME(DFN)_" to a primary care team"
"RTN","SCMCQK1",111,0)
 I $$SC(DFN) W !!,"********** This patient is 50 percent or greater service-connected ************"
"RTN","SCMCQK1",112,0)
 S DIC="^SCTM(404.51,"
"RTN","SCMCQK1",113,0)
 S DIC(0)="AEMQZ"
"RTN","SCMCQK1",114,0)
 S DIC("S")="IF $$ACTTM^SCMCTMU(Y,DT)&($P($G(^SCTM(404.51,Y,0)),U,5))"
"RTN","SCMCQK1",115,0)
 ;  - select from active teams that can be PC Teams
"RTN","SCMCQK1",116,0)
 D ^DIC
"RTN","SCMCQK1",117,0)
 G:Y<1 QTASTM
"RTN","SCMCQK1",118,0)
 S SCTM=+Y
"RTN","SCMCQK1",119,0)
 S SCASSDT=$$DATE("A")
"RTN","SCMCQK1",120,0)
 G:SCASSDT<1 QTASTM
"RTN","SCMCQK1",121,0)
 S SCTMCT=$$TEAMCNT^SCAPMCU1(SCTM)
"RTN","SCMCQK1",122,0)
 S SCTMMAX=$P($$GETEAM^SCAPMCU3(SCTM),"^",8)
"RTN","SCMCQK1",123,0)
 I SCTMCT'<SCTMMAX  D  G QTASTM:$$WAITYN(),QTASTM:'$$YESNO2()
"RTN","SCMCQK1",124,0)
 .W !,"This assignment will reach or exceeded the maximum set for this team."
"RTN","SCMCQK1",125,0)
 .W !,"Currently assigned: "_SCTMCT
"RTN","SCMCQK1",126,0)
 .W !,"Maximum set for team: "_SCTMMAX
"RTN","SCMCQK1",127,0)
 I SCTMCT<SCTMMAX,'$$CONFIRM() G QTASTM
"RTN","SCMCQK1",128,0)
 S SCTM=+Y
"RTN","SCMCQK1",129,0)
 ;setup fields
"RTN","SCMCQK1",130,0)
 S SCTMFLDS(.08)=1 ;primary care assignment
"RTN","SCMCQK1",131,0)
 S SCTMFLDS(.11)=$G(DUZ,.5)
"RTN","SCMCQK1",132,0)
 D NOW^%DTC S SCTMFLDS(.12)=%
"RTN","SCMCQK1",133,0)
 IF $$ACPTTM^SCAPMC(DFN,SCTM,"SCTMFLDS",SCASSDT,"SCTPTME") D
"RTN","SCMCQK1",134,0)
 .S SCSELECT=$$SELPOS()
"RTN","SCMCQK1",135,0)
 .D:$L(SCSELECT) ASTP ;prompt for position prompt
"RTN","SCMCQK1",136,0)
 .S OK=1
"RTN","SCMCQK1",137,0)
QTASTM W !,"Team Assignment "_$S(OK:"made",1:"NOT made.")
"RTN","SCMCQK1",138,0)
 Q
"RTN","SCMCQK1",139,0)
ASTP ;assign patient to PC practitioner
"RTN","SCMCQK1",140,0)
 N DIC,Y,OK,SCCL,X,SCTPFLDS,SCER,SCBEGIN,SCN,SCLIST,SCEND,SCINCL,SCLSEQ,SCDATES,SCDTS
"RTN","SCMCQK1",141,0)
 S OK=0
"RTN","SCMCQK1",142,0)
 W !!,"About to Assign "_$$NAME(DFN)_" to PC Position Assignment"
"RTN","SCMCQK1",143,0)
 I $$SC(DFN) W !!,"********** This patient is 50 percent or greater service-connected ************"
"RTN","SCMCQK1",144,0)
 ;lookup to display only position and [practitioner]
"RTN","SCMCQK1",145,0)
 IF SCSELECT="PRACT" D
"RTN","SCMCQK1",146,0)
 .S DIC("W")="N SCP1 S SCP1=$G(^SCTM(404.52,Y,0)) W ""    ["",$P($G(^VA(200,+$P(SCP1,U,3),0)),U,1),""]"""
"RTN","SCMCQK1",147,0)
 .S DIC("A")="POSITION's Current PRACTITIONER: "
"RTN","SCMCQK1",148,0)
 .S DIC="^SCTM(404.52,"
"RTN","SCMCQK1",149,0)
 .;Must be from team, must be activation,must not have future inactivation
"RTN","SCMCQK1",150,0)
 .S DIC("S")="I $$PRACSCR^SCMCQK1(Y)"
"RTN","SCMCQK1",151,0)
 .S D="C"
"RTN","SCMCQK1",152,0)
 ELSE  D
"RTN","SCMCQK1",153,0)
 .S DIC="^SCTM(404.57,"
"RTN","SCMCQK1",154,0)
 .S D="B"
"RTN","SCMCQK1",155,0)
 .S DIC("A")="POSITION's Name: "
"RTN","SCMCQK1",156,0)
 .S DIC("S")="I $$POSSCR^SCMCQK1(Y)"
"RTN","SCMCQK1",157,0)
 S DIC(0)="AEMQZ"
"RTN","SCMCQK1",158,0)
 D MIX^DIC1
"RTN","SCMCQK1",159,0)
 G:Y<1 QTASTP
"RTN","SCMCQK1",160,0)
 IF SCSELECT="PRACT" D
"RTN","SCMCQK1",161,0)
 .S SCTP=$P(Y,U,2)
"RTN","SCMCQK1",162,0)
 ELSE  D
"RTN","SCMCQK1",163,0)
 .S SCTP=$P(Y,U,1)
"RTN","SCMCQK1",164,0)
 S SCASSDT=$$DATE("A")
"RTN","SCMCQK1",165,0)
 G:SCASSDT<1 QTASTP
"RTN","SCMCQK1",166,0)
 S SCTMCT=$$PCPOSCNT^SCAPMCU1(SCTP),SCTMMAX=+$P($G(^SCTM(404.57,SCTP,0)),U,8)
"RTN","SCMCQK1",167,0)
 I SCTMCT'<SCTMMAX D  G QTASTP:$$WAITYN,QTASTP:'$$YESNO2
"RTN","SCMCQK1",168,0)
 .W !,"This assignment will reach or exceeded the maximum set for this position."
"RTN","SCMCQK1",169,0)
 .W !,"Currently assigned: "_SCTMCT
"RTN","SCMCQK1",170,0)
 .W !,"Maximum set for position: "_SCTMMAX
"RTN","SCMCQK1",171,0)
 G:'$$CONFIRM() QTASTP
"RTN","SCMCQK1",172,0)
 ;setup fields
"RTN","SCMCQK1",173,0)
 S SCTPFLDS(.03)=SCASSDT
"RTN","SCMCQK1",174,0)
 S SCTPFLDS(.05)=1 ;pc pract role
"RTN","SCMCQK1",175,0)
 S SCTPFLDS(.06)=$G(DUZ,.5)
"RTN","SCMCQK1",176,0)
 D NOW^%DTC S SCTPFLDS(.07)=%
"RTN","SCMCQK1",177,0)
 IF $$ACPTTP^SCAPMC21(DFN,SCTP,"SCTPFLDS",SCASSDT,"SCTPTME",0) D
"RTN","SCMCQK1",178,0)
 .S OK=1
"RTN","SCMCQK1",179,0)
 .S SCCL=$P(^SCTM(404.57,SCTP,0),U,9)
"RTN","SCMCQK1",180,0)
 .D:SCCL ENRCL
"RTN","SCMCQK1",181,0)
QTASTP W !,"Position Assignment "_$S(OK:"made",1:"NOT made.")
"RTN","SCMCQK1",182,0)
 Q
"RTN","SCMCQK1",183,0)
NAME(DFN) ;return patient name
"RTN","SCMCQK1",184,0)
 Q $P($G(^DPT(DFN,0)),U,1)
"RTN","SCMCQK1",185,0)
 ;
"RTN","SCMCQK1",186,0)
POSITION(SCTP) ;return position name
"RTN","SCMCQK1",187,0)
 Q $P($G(^SCTM(404.57,SCTP,0)),U,1)
"RTN","SCMCQK1",188,0)
 ;
"RTN","SCMCQK1",189,0)
TEAMNM(SCTM) ;return team name
"RTN","SCMCQK1",190,0)
 Q $P($G(^SCTM(404.51,SCTM,0)),U,1)
"RTN","SCMCQK1",191,0)
 ;
"RTN","SCMCQK1",192,0)
CLINIC(SCCL) ;return clinic name
"RTN","SCMCQK1",193,0)
 Q $P($G(^SC(+SCCL,0)),U,1)
"RTN","SCMCQK1",194,0)
 ;
"RTN","SCMCQK1",195,0)
YESNO() ;
"RTN","SCMCQK1",196,0)
 N DIR,X,Y
"RTN","SCMCQK1",197,0)
 S DIR(0)="Y",DIR("B")="YES"
"RTN","SCMCQK1",198,0)
 D ^DIR
"RTN","SCMCQK1",199,0)
 Q Y>0
"RTN","SCMCQK1",200,0)
 ;
"RTN","SCMCQK1",201,0)
YESNO2() ;
"RTN","SCMCQK1",202,0)
 N DIR,X,Y
"RTN","SCMCQK1",203,0)
 S DIR(0)="Y",DIR("B")="NO"
"RTN","SCMCQK1",204,0)
 S DIR("A")="Do you wish to continue with the assignment (Yes/No)?"
"RTN","SCMCQK1",205,0)
 D ^DIR
"RTN","SCMCQK1",206,0)
 Q Y>0
"RTN","SCMCQK1",207,0)
CONFIRM() ;confirmation call
"RTN","SCMCQK1",208,0)
 N DIR,X,Y
"RTN","SCMCQK1",209,0)
 S DIR("A")="Are you sure (Yes/No)"
"RTN","SCMCQK1",210,0)
 S DIR(0)="Y"
"RTN","SCMCQK1",211,0)
 D ^DIR
"RTN","SCMCQK1",212,0)
 Q +Y=1
"RTN","SCMCQK1",213,0)
 ;
"RTN","SCMCQK1",214,0)
SELPOS() ;return way to select position: 1=PRACT,2=POSIT,3=NONE
"RTN","SCMCQK1",215,0)
 N DIR,X,Y
"RTN","SCMCQK1",216,0)
 W !,"Choose way to select PC POSITION Assignment: "
"RTN","SCMCQK1",217,0)
 S DIR(0)="SO^0:NONE;1:BY PRACTITIONER ASSIGNMENT;2:BY POSITION ASSIGNMENT"
"RTN","SCMCQK1",218,0)
 S DIR("B")=1
"RTN","SCMCQK1",219,0)
 D ^DIR
"RTN","SCMCQK1",220,0)
 Q $S(Y'>0:"",+Y=1:"PRACT",1:"POSIT")
"RTN","SCMCQK1",221,0)
 ;
"RTN","SCMCQK1",222,0)
DATE(TYPE) ;return date type=A or D
"RTN","SCMCQK1",223,0)
 N DIR,X,Y
"RTN","SCMCQK1",224,0)
 S DIR("A")=$S(TYPE="A":"Assignment",1:"Unassignment")_" date: "
"RTN","SCMCQK1",225,0)
 S DIR(0)="DA^::EXP"
"RTN","SCMCQK1",226,0)
 S Y=$S($D(SCDISCH):SCDISCH,$D(SCASSDT):SCASSDT,(TYPE="A"):"TODAY",1:"TODAY-1")
"RTN","SCMCQK1",227,0)
 X ^DD("DD")
"RTN","SCMCQK1",228,0)
 S DIR("B")=Y
"RTN","SCMCQK1",229,0)
 D ^DIR
"RTN","SCMCQK1",230,0)
 Q Y
"RTN","SCMCQK1",231,0)
ACTCL(DFN,SCCL) ;is patient enrolled in clinic?
"RTN","SCMCQK1",232,0)
 N SCXX
"RTN","SCMCQK1",233,0)
 S SCXX=$O(^DPT(DFN,"DE","B",SCCL,9999),-1)
"RTN","SCMCQK1",234,0)
 Q $S('SCXX:0,($P(^DPT(DFN,"DE",+SCXX,0),U,2)="I"):0,1:1)
"RTN","SCMCQK1",235,0)
 ;
"RTN","SCMCQK1",236,0)
PRACSCR(SC40452) ;screen for for file 404.52
"RTN","SCMCQK1",237,0)
 N SCP,SCNODE,OK
"RTN","SCMCQK1",238,0)
 S SCP=$G(^SCTM(404.52,SC40452,0))
"RTN","SCMCQK1",239,0)
 S OK=0
"RTN","SCMCQK1",240,0)
 G:'SCP QTPP
"RTN","SCMCQK1",241,0)
 S SCNODE=$G(^SCTM(404.57,+SCP,0))
"RTN","SCMCQK1",242,0)
 S OK=$S($P(SCNODE,U,2)'=SCTM:0,'$P(SCNODE,U,4):0,($O(^SCTM(404.52,"AIDT",+SCP,1,""))'=-$P(SCP,U,2)):0,($O(^SCTM(404.52,"AIDT",+SCP,0,-$P(SCP,U,2)),-1)):0,($$ACTTP^SCMCTPU(+SCP)>0):1,1:0)
"RTN","SCMCQK1",243,0)
QTPP Q OK
"RTN","SCMCQK1",244,0)
 ;
"RTN","SCMCQK1",245,0)
POSSCR(SCTP) ;screen for file 404.57
"RTN","SCMCQK1",246,0)
 N SCNODE
"RTN","SCMCQK1",247,0)
 S SCNODE=$G(^SCTM(404.57,SCTP,0))
"RTN","SCMCQK1",248,0)
 Q $S($P(SCNODE,U,2)'=SCTM:0,'$P(SCNODE,U,4):0,($$ACTTP^SCMCTPU(SCTP)>0):1,1:0)
"RTN","SCMCQK1",249,0)
 Q
"RTN","SCMCQK1",250,0)
WAITYN() ;
"RTN","SCMCQK1",251,0)
 N %,OK,Y
"RTN","SCMCQK1",252,0)
 I SCTMCT<SCTMMAX Q 0
"RTN","SCMCQK1",253,0)
 N A,SC S A=$$ONWAIT^SCMCWAIT(DFN) I A W:(+A=3) !,$P(A,";",2) I $S($G(SCTP):A>1,1:1) Q 0
"RTN","SCMCQK1",254,0)
 ;S SC1=$$SC^SCMCWAIT(DFN_U_SCTM) I SC1 S SC="" D  I SC="" Q 0
"RTN","SCMCQK1",255,0)
 ;.S SC1("DFN")=DFN W !,"Service Connected %: "_SC1 D SCLI^SCMCWAIT(.RES,.SC1) I $D(RES(1)) W !,"Condition",?35,"SC%" N I F I=0:0 S I=$O(RES(I)) Q:'I  W !,$P(RES(I),U,1),?35,$P(RES(I),U,2)
"RTN","SCMCQK1",256,0)
 ;.S %=2 W !,"Are you seeking Primary Care panel assignment",!," for your service connected disability"
"RTN","SCMCQK1",257,0)
 ;.D YN^DICN S SC=$S(%=1:"Y",%=2:"N",1:"")
"RTN","SCMCQK1",258,0)
 N DIR,X,Y
"RTN","SCMCQK1",259,0)
 S DIR(0)="Y",DIR("B")="NO"
"RTN","SCMCQK1",260,0)
 S DIR("A")="Do you wish to place the patient on the wait list (Yes/No)?"
"RTN","SCMCQK1",261,0)
 D ^DIR
"RTN","SCMCQK1",262,0)
 I Y=1 S Y=$$WAITS^SCMCWAIT(DFN,SCTM,$G(SCTP),$G(SC)) I Y>0 W !,"Patient Placed on Wait List"
"RTN","SCMCQK1",263,0)
 Q Y>0
"RTN","SCMCQK1",264,0)
SC(DFN) ;Is patient 50 to 100%
"RTN","SCMCQK1",265,0)
 D ELIG^VADPT Q $P($G(VAEL(3)),U,2)>49
"RTN","SCMCTSK")
0^1^B21434412
"RTN","SCMCTSK",1,0)
SCMCTSK ;ALB/JDS - PCMM ; 31 Oct 2002  5:22 PM
"RTN","SCMCTSK",2,0)
 ;;5.3;Scheduling;**264**;AUG 13, 1993
"RTN","SCMCTSK",3,0)
 Q
"RTN","SCMCTSK",4,0)
INACTIVE ;run every night to determine if patient can be inactivated from
"RTN","SCMCTSK",5,0)
 ;team
"RTN","SCMCTSK",6,0)
 ;Inactivation happens for patients without activity for 24 months
"RTN","SCMCTSK",7,0)
 N I
"RTN","SCMCTSK",8,0)
 D DT^DICRW S X="T-12M" D ^%DT S STDT=Y
"RTN","SCMCTSK",9,0)
 S X="T-24M" D ^%DT S TYDT=+Y
"RTN","SCMCTSK",10,0)
 S A="^SCPT(404.43,""ADFN""",L=""""""
"RTN","SCMCTSK",11,0)
 S Q=A_")"
"RTN","SCMCTSK",12,0)
 F  S Q=$Q(@Q) Q:Q'[A  D
"RTN","SCMCTSK",13,0)
 .S ENTRY=+$P(Q,",",6)
"RTN","SCMCTSK",14,0)
 .S TEAM=$P(Q,",",4)
"RTN","SCMCTSK",15,0)
 .I $P($G(^SCTM(404.51,+TEAM,0)),U,16) Q  ;no automatic for this team
"RTN","SCMCTSK",16,0)
 .;I $G(^DPT(DFN,.35)) D DIS Q  ;Patient is deceased
"RTN","SCMCTSK",17,0)
 .I $P(Q,",",5)>STDT Q  ;Later
"RTN","SCMCTSK",18,0)
 .S ZERO=$G(^SCPT(404.43,+ENTRY,0))
"RTN","SCMCTSK",19,0)
 .I $P(ZERO,U,4) Q  ;Already unassigned
"RTN","SCMCTSK",20,0)
 .;I $P(ZERO,U,16) Q  ;No Automatic unassign
"RTN","SCMCTSK",21,0)
 .;Check if any activity
"RTN","SCMCTSK",22,0)
 .S DFN=$P(Q,",",3),DFN=+$G(^SCPT(404.42,+DFN,0))
"RTN","SCMCTSK",23,0)
 .S SEEN=0
"RTN","SCMCTSK",24,0)
 .S TEAM=$P(Q,",",4),TEAMNM=$P($G(^SCTM(404.51,+TEAM,0)),U)
"RTN","SCMCTSK",25,0)
 .F I=TYDT:0 S I=$O(^SCE("ADFN",DFN,I)) Q:'I  D  Q:SEEN
"RTN","SCMCTSK",26,0)
 ..S SEEN=1 Q  ;F J=0:0 S J=$O(^SCE("ADFN",DFN,I,J)) Q:'J  D  Q:SEEN
"RTN","SCMCTSK",27,0)
 ..;S CLINIC=$P($G(^SCE(J,0)),U,4)
"RTN","SCMCTSK",28,0)
 ..;I $D(^SDD(409.44,"AO",J,$G(PRO)) S SEEN=1 ;GET THE PROVIDERJ
"RTN","SCMCTSK",29,0)
 .Q:SEEN
"RTN","SCMCTSK",30,0)
 .;discharge them
"RTN","SCMCTSK",31,0)
 .D DIS
"RTN","SCMCTSK",32,0)
 .;W !,Q
"RTN","SCMCTSK",33,0)
 Q
"RTN","SCMCTSK",34,0)
DIS ;discharge
"RTN","SCMCTSK",35,0)
 N ZERO S ZERO=$G(^SCPT(404.43,+ENTRY,0))
"RTN","SCMCTSK",36,0)
 I $P(ZERO,U,4) Q  ;Already discharged
"RTN","SCMCTSK",37,0)
 ;I $P(ZERO,U,16) Q
"RTN","SCMCTSK",38,0)
 S DA=ENTRY,DIE="^SCPT(404.43,",DR=".04////"_DT_";.12////IU"
"RTN","SCMCTSK",39,0)
 D ^DIE
"RTN","SCMCTSK",40,0)
 W !,DA R XXX:100
"RTN","SCMCTSK",41,0)
 ;
"RTN","SCMCTSK",42,0)
 Q
"RTN","SCMCTSK",43,0)
DEATH ;Called from date of death event
"RTN","SCMCTSK",44,0)
 ;
"RTN","SCMCTSK",45,0)
 I $G(DGFILE)'=2 Q
"RTN","SCMCTSK",46,0)
 I $G(DGFIELD)'=.351 Q
"RTN","SCMCTSK",47,0)
 S DFN=+$G(DGDA)
"RTN","SCMCTSK",48,0)
 ;N DEATH,I,DR
"RTN","SCMCTSK",49,0)
 ;S ^JDS("DGFILE")=DGFILE,^JDS("DFN")=DFN
"RTN","SCMCTSK",50,0)
 D DEM^VADPT S DEATH=$G(VADM(6))
"RTN","SCMCTSK",51,0)
 ;loop through assignments
"RTN","SCMCTSK",52,0)
 F SCJ=0:0 S SCJ=$O(^SCPT(404.42,"B",DFN,SCJ)) Q:'SCJ  D
"RTN","SCMCTSK",53,0)
 .S ZERO=$G(^SCPT(404.42,SCJ,0)) Q:'$L(ZERO)
"RTN","SCMCTSK",54,0)
 .I DEATH,'$P(ZERO,U,9) D
"RTN","SCMCTSK",55,0)
 ..S DA=SCJ,DIE="^SCPT(404.42,",DR=".09////"_DT_";.15////DU" D ^DIE
"RTN","SCMCTSK",56,0)
 .I ('DEATH)&($P(ZERO,U,15)="DU")&($P(ZERO,U,9)) D
"RTN","SCMCTSK",57,0)
 ..S DA=SCJ,DIE="^SCPT(404.42,",DR=".09///@;.15////DD" D ^DIE
"RTN","SCMCTSK",58,0)
 .F SCI=0:0 S SCI=$O(^SCPT(404.43,"B",SCJ,SCI)) Q:'SCI  D
"RTN","SCMCTSK",59,0)
 ..S ZERO=$G(^SCPT(404.43,SCI,0)),SCTP=+$P(ZERO,U,2) Q:'$L(ZERO)
"RTN","SCMCTSK",60,0)
 ..I DEATH,$P(ZERO,U,4) Q
"RTN","SCMCTSK",61,0)
 ..I 'DEATH I (('$P(ZERO,U,4))!($P(ZERO,U,12)'="DU")) Q
"RTN","SCMCTSK",62,0)
 ..I DEATH D  Q
"RTN","SCMCTSK",63,0)
 ...S DA=SCI,DIE="^SCPT(404.43,",DR=".04////"_DT_";.12////DU" D ^DIE
"RTN","SCMCTSK",64,0)
 ..I '+$$ACTHIST^SCAPMCU2(404.52,SCTP,,.SCERR) Q
"RTN","SCMCTSK",65,0)
 ..S DA=SCI,DIE="^SCPT(404.43,",DR=".04///@;.12////DD" D ^DIE
"RTN","SCMCTSK",66,0)
 Q:'DEATH
"RTN","SCMCTSK",67,0)
 ;DISPOSITION WAIT LIST
"RTN","SCMCTSK",68,0)
 F I=0:0 S I=$O(^SDWL(409.3,"B",+$G(DFN),I)) Q:'I  S A=$G(^SDWL(409.3,I,0)) D
"RTN","SCMCTSK",69,0)
 .I $G(^SDWL(409.3,I,"DIS")) Q
"RTN","SCMCTSK",70,0)
 .N FDA S FDA(409.3,I_",",21)="D"
"RTN","SCMCTSK",71,0)
 .S FDA(409.3,I_",",19)=DT,FDA(409.3,I_",",23)="C"
"RTN","SCMCTSK",72,0)
 .S FDA(409.3,I_",",20)=DUZ
"RTN","SCMCTSK",73,0)
 .D UPDATE^DIE("","FDA")
"RTN","SCMCTSK",74,0)
 Q
"RTN","SCMCTSK",75,0)
POST ;create schedule for nightly task
"RTN","SCMCTSK",76,0)
 D MES^XPDUTL("Deleting Traditional ASTAT CROSS REFERENCE from FILE 404.43")
"RTN","SCMCTSK",77,0)
 D DELIX^DDMOD(404.43,.12,1)
"RTN","SCMCTSK",78,0)
 N ENTRY
"RTN","SCMCTSK",79,0)
 K DGLEFDA
"RTN","SCMCTSK",80,0)
 I '$D(^SCTM(404.46,"B","1.2.3.0")) D
"RTN","SCMCTSK",81,0)
 .K DO S DIC(0)="LM",DIC("DR")=".02////1;.03////"_DT,DIC="^SCTM(404.46,",X="1.2.3.0" D FILE^DICN
"RTN","SCMCTSK",82,0)
 I '$D(^SCTM(404.45,"B","SD*5.3*264")) D
"RTN","SCMCTSK",83,0)
 .S ENTRY=$O(^SCTM(404.46,"B","1.2.3.0",0))
"RTN","SCMCTSK",84,0)
 .S DIC("DR")=".02////"_(+ENTRY)_";.03////"_DT_";.04////1",DIC(0)="LM"
"RTN","SCMCTSK",85,0)
 .K DO S X="SD*5.3*264",DIC="^SCTM(404.45," D FILE^DICN
"RTN","SCMCTSK",86,0)
 D MES^XPDUTL("Removing Patients with Date of Death from Team/Position Assignments")
"RTN","SCMCTSK",87,0)
 S YEAR=0
"RTN","SCMCTSK",88,0)
 F DATE=0:0 S DATE=$O(^DPT("AEXP1",DATE)) Q:'DATE  F DGDA=0:0 S DGDA=$O(^DPT("AEXP1",DATE,DGDA)) Q:'DGDA  D
"RTN","SCMCTSK",89,0)
 .S DFN=+DGDA D DEM^VADPT I $G(VADM(6)) S DGFILE=2,DGFIELD=.351 D DEATH
"RTN","SCMCTSK",90,0)
 .I $E(YEAR,1,3)'=$E(DATE,1,3) S YEAR=$E(DATE,1,3) I "05"[$E(YEAR,3) D MES^XPDUTL("Starting with Dates of Death in "_(1700+YEAR))
"RTN","SCMCTSK",91,0)
 Q
"RTN","SCMCTSK",92,0)
FTEE(DATA,SCTEAM) ;return list of posistions for the team
"RTN","SCMCTSK",93,0)
 ;IEN^POSITION^PROVIDER^FTEE
"RTN","SCMCTSK",94,0)
 N CNT,I,J,K,A S CNT=1 S SCTEAM=+$G(SCTEAM),DATA(1)="<DATA>"
"RTN","SCMCTSK",95,0)
 S A=""
"RTN","SCMCTSK",96,0)
 F  S A=$O(^SCTM(404.57,"ATMPOS",SCTEAM,A)) Q:A=""  D
"RTN","SCMCTSK",97,0)
 .F I=0:0 S I=$O(^SCTM(404.57,"ATMPOS",SCTEAM,A,I)) Q:'I  D
"RTN","SCMCTSK",98,0)
 ..I '$P($G(^SCTM(404.57,I,0)),U,4) Q  ;Not PC
"RTN","SCMCTSK",99,0)
 ..S J=-(DT+1) S J=$O(^SCTM(404.52,"AIDT",I,1,J)) Q:J=""
"RTN","SCMCTSK",100,0)
 ..S K=0 S K=$O(^SCTM(404.52,"AIDT",I,1,J,K)) Q:'K
"RTN","SCMCTSK",101,0)
 ..S ZERO=$G(^SCTM(404.52,+K,0)) Q:'$P(ZERO,U,4)
"RTN","SCMCTSK",102,0)
 ..S CNT=CNT+1
"RTN","SCMCTSK",103,0)
 ..S DATA(CNT)=K_U_A_U_$P($G(^VA(200,+$P(ZERO,U,3),0)),U)_U_$P(ZERO,U,9)
"RTN","SCMCTSK",104,0)
 Q
"RTN","SCMCTSK",105,0)
FILE(RES,DATA) ;File data on FTEE
"RTN","SCMCTSK",106,0)
 N I
"RTN","SCMCTSK",107,0)
 F I=1:1 Q:'$D(DATA(I))   D
"RTN","SCMCTSK",108,0)
 .S ZERO=$G(^SCTM(404.52,+DATA(I),0))
"RTN","SCMCTSK",109,0)
 .I $P(ZERO,U,9)=$P(DATA(I),U,5) Q
"RTN","SCMCTSK",110,0)
 .S FLDA(404.52,(+DATA(I))_",",.09)=+$TR($P(DATA(I),U,5)," ")
"RTN","SCMCTSK",111,0)
 I $O(FLDA(0)) D FILE^DIE("E","FLDA","ERR")
"RTN","SCMCTSK",112,0)
 Q
"RTN","SCMCTSK",113,0)
SCREEN ;Screen for active assignments
"RTN","SCMCTSK",114,0)
 N A S A=$G(^SCTM(404.52,D0,0))
"RTN","SCMCTSK",115,0)
 N J S J=-(DT+1),J=$O(^SCTM(404.52,"AIDT",+A,1,J)) I J="" S X=0 Q
"RTN","SCMCTSK",116,0)
 I '$D(^SCTM(404.52,"AIDT",+A,1,J,D0)) S X=0 Q
"RTN","SCMCTSK",117,0)
 S X=1 Q
"RTN","SCMCWAIT")
0^6^B12216597
"RTN","SCMCWAIT",1,0)
SCMCWAIT ;ALB/SCK - Broker Utilities for Placement on Wait List ; 30 Oct 2002  3:42 PM
"RTN","SCMCWAIT",2,0)
 ;;5.3;Scheduling;**264**;AUG 13, 1993
"RTN","SCMCWAIT",3,0)
 ;
"RTN","SCMCWAIT",4,0)
 Q
"RTN","SCMCWAIT",5,0)
 ;
"RTN","SCMCWAIT",6,0)
WAIT(SCOK,SC) ; Place patient on wait list
"RTN","SCMCWAIT",7,0)
 ;  'SC BLD PAT CLN LIST'
"RTN","SCMCWAIT",8,0)
 ;
"RTN","SCMCWAIT",9,0)
 ;M ^JDS=SC
"RTN","SCMCWAIT",10,0)
 S TEAM=$G(SC("TEAM")),POS=$G(SC("POSITION")),DFN=$G(SC("DFN")),COMMENT=$G(SC("COMMENT")),SC=$G(SC("SC"))
"RTN","SCMCWAIT",11,0)
 S INST=+$P($G(^SCTM(404.51,+$G(TEAM),0)),U,7)
"RTN","SCMCWAIT",12,0)
 D INPUT^SDWLRP1(.RES,DFN_U_$S(POS:2,1:1)_U_TEAM_U_$S(POS:POS_U_DUZ,1:U_DUZ)_U_COMMENT_U_SC)
"RTN","SCMCWAIT",13,0)
 Q
"RTN","SCMCWAIT",14,0)
WAITS(DFN,TEAM,POS,SC) ;
"RTN","SCMCWAIT",15,0)
 N DR
"RTN","SCMCWAIT",16,0)
 N Y
"RTN","SCMCWAIT",17,0)
 D INPUT^SDWLRP1(.RES,DFN_U_$S(POS:2,1:1)_U_TEAM_U_$S(POS:POS_U_DUZ,1:U_DUZ)_"^^"_SC)
"RTN","SCMCWAIT",18,0)
 I $G(RES) S OK=0,DA=+$P(RES,U,2),DIE="^SDWL(409.3,",DR="25;S OK=1" D ^DIE  I '$G(OK) S DIK=DIE D ^DIK W !,"Wait list entry deleted" S RES=0
"RTN","SCMCWAIT",19,0)
 Q RES
"RTN","SCMCWAIT",20,0)
TEAMRM(DFN,TEAM) ;
"RTN","SCMCWAIT",21,0)
 N I
"RTN","SCMCWAIT",22,0)
 F I=0:0 S I=$O(^SDWL(409.3,"B",+$G(DFN),I)) Q:'I  S A=$G(^SDWL(409.3,I,0)) D
"RTN","SCMCWAIT",23,0)
 .I 12'[$P(A,U,5) Q
"RTN","SCMCWAIT",24,0)
 .;I $P(A,U,6)'=$G(TEAM) Q
"RTN","SCMCWAIT",25,0)
 .I $G(^SDWL(409.3,I,"DIS")) Q
"RTN","SCMCWAIT",26,0)
 .;INACTIVATE I
"RTN","SCMCWAIT",27,0)
 .N:0 FDA S FDA(409.3,I_",",21)="SA"
"RTN","SCMCWAIT",28,0)
 .S FDA(409.3,I_",",19)=DT,FDA(409.3,I_",",23)="C"
"RTN","SCMCWAIT",29,0)
 .S FDA(409.3,I_",",20)=DUZ
"RTN","SCMCWAIT",30,0)
 .D UPDATE^DIE("","FDA")
"RTN","SCMCWAIT",31,0)
 Q
"RTN","SCMCWAIT",32,0)
POSRM(TEAMP,POS) ;
"RTN","SCMCWAIT",33,0)
 S DFN=+$G(^SCPT(404.42,+$G(TEAMP),0))
"RTN","SCMCWAIT",34,0)
 ;S ^JDS("TEAMP")=TEAMP,^JDS("POS")=POS,^JDS("DFN")=DFN
"RTN","SCMCWAIT",35,0)
 N I
"RTN","SCMCWAIT",36,0)
 F I=0:0 S I=$O(^SDWL(409.3,"B",+$G(DFN),I)) Q:'I  S A=$G(^SDWL(409.3,I,0)) D
"RTN","SCMCWAIT",37,0)
 .I 12'[$P(A,U,5) Q
"RTN","SCMCWAIT",38,0)
 .;I $P(A,U,7)'=$G(POS) Q
"RTN","SCMCWAIT",39,0)
 .I $G(^SDWL(409.3,I,"DIS")) Q
"RTN","SCMCWAIT",40,0)
 .N FDA S FDA(409.3,I_",",21)="SA",FDA(409.3,I_",",23)="C"
"RTN","SCMCWAIT",41,0)
 .S FDA(409.3,I_",",19)=DT
"RTN","SCMCWAIT",42,0)
 .S FDA(409.3,I_",",20)=DUZ
"RTN","SCMCWAIT",43,0)
 .D FILE^DIE("","FDA")
"RTN","SCMCWAIT",44,0)
 .;INACTIVATE
"RTN","SCMCWAIT",45,0)
 Q
"RTN","SCMCWAIT",46,0)
ONWAIT(DFN) ;is patient on wait list
"RTN","SCMCWAIT",47,0)
 D DEM^VADPT I $G(VADM(6)) Q 9  ;Patient is dead
"RTN","SCMCWAIT",48,0)
 N I
"RTN","SCMCWAIT",49,0)
 S X=0
"RTN","SCMCWAIT",50,0)
 F I=0:0 S I=$O(^SDWL(409.3,"B",+$G(DFN),I)) Q:'I  S A=$G(^SDWL(409.3,I,0)) D  Q:X
"RTN","SCMCWAIT",51,0)
 .I 12'[$P(A,U,5) Q
"RTN","SCMCWAIT",52,0)
 .I $G(^SDWL(409.3,I,"DIS")) Q
"RTN","SCMCWAIT",53,0)
 .S X="3;ON WAITLIST TEAM: "_$P($G(^SCTM(404.51,+$P(A,U,6),0)),U)
"RTN","SCMCWAIT",54,0)
 .I $P(A,U,7) S X=X_" POSITION: "_$P($G(^SCTM(404.57,+$P(A,U,7),0)),U)
"RTN","SCMCWAIT",55,0)
 I X Q X
"RTN","SCMCWAIT",56,0)
 ;Q X
"RTN","SCMCWAIT",57,0)
 ;CHECK IF ON TEAM
"RTN","SCMCWAIT",58,0)
 N SCD,SCDT S SCOK=$$TMPT^SCAPMC3(DFN,"SCDT","","SCD","SCER1") I $D(SCD(1)) S X=1
"RTN","SCMCWAIT",59,0)
 N SCPOS S SCOK=$$TPPT^SCAPMC(DFN,.SCDT,"","","","","","SCPOS","SCBKERR") I $D(SCPOS(1)) S X=2
"RTN","SCMCWAIT",60,0)
 Q X
"RTN","SCMCWAIT",61,0)
 ;CHECK IF ON POSITION
"RTN","SCMCWAIT",62,0)
SORT ;From sort template
"RTN","SCMCWAIT",63,0)
 S X=0
"RTN","SCMCWAIT",64,0)
 Q
"RTN","SCMCWAIT",65,0)
PC(RESULT,POS) ;rpc to see if provider can be pc
"RTN","SCMCWAIT",66,0)
 ;S ^JDS("POS")=POS
"RTN","SCMCWAIT",67,0)
 D ROLE(.RES,POS) I RES=1 S RESULT(0)=0 Q
"RTN","SCMCWAIT",68,0)
 S POENT=+$O(^SCTM(404.52,"AIDT",+$G(POS),1,-(DT+.1))),POENT=$O(^(POENT,0))
"RTN","SCMCWAIT",69,0)
 ;S PROV=+$P($G(^SCTM(404.52,+$G(POENT),0)),U,3)
"RTN","SCMCWAIT",70,0)
 I 'POENT S RESULT(0)=1 Q
"RTN","SCMCWAIT",71,0)
 N D0 S D0=+$G(POENT) D SORT S RESULT(0)=X
"RTN","SCMCWAIT",72,0)
 Q
"RTN","SCMCWAIT",73,0)
ROLE(RESULT,POS) ;rpc to see if role of position is resident
"RTN","SCMCWAIT",74,0)
 N ZERO S ZERO=$G(^SCTM(404.57,+$G(POS),0))
"RTN","SCMCWAIT",75,0)
 I $P(ZERO,U,4) S RESULT=0 Q  ;Already pc let them change it.
"RTN","SCMCWAIT",76,0)
 S RESULT=0
"RTN","SCMCWAIT",77,0)
 I $P($G(^SD(403.46,+$P(ZERO,U,3),0)),U)="RESIDENT (PHYSICIAN)" S RESULT=1
"RTN","SCMCWAIT",78,0)
 Q
"RTN","SCMCWAIT",79,0)
SC(DFN) ;Is patient 0-50 sc%
"RTN","SCMCWAIT",80,0)
 N TEAM,INST S TEAM=$P(DFN,U,2),INST=+$P($G(^SCTM(404.51,+TEAM,0)),U,7)
"RTN","SCMCWAIT",81,0)
 S X=0,DFN=+DFN
"RTN","SCMCWAIT",82,0)
 N A D ELIG^VADPT S A=$G(VAEL(3)) I $P(A,U)'="Y" Q 0
"RTN","SCMCWAIT",83,0)
 I $P(A,U,2)<50 Q $P(A,U,2)
"RTN","SCMCWAIT",84,0)
 Q 0
"RTN","SCMCWAIT",85,0)
SCLI(RESULT,SC) ;sc sc list
"RTN","SCMCWAIT",86,0)
 K RESULT
"RTN","SCMCWAIT",87,0)
 S DFN=+$G(SC("DFN"))
"RTN","SCMCWAIT",88,0)
 D SDSC^SDWLRP3(.RES,DFN) I RES=-1 S RESULT(0)=-1 Q
"RTN","SCMCWAIT",89,0)
 S RESULT(0)="<RESULTS>" N CNT,I S CNT=1 F I=0:0 S I=$O(^TMP("SDWLRP3",$J,I)) Q:'I  S RESULT(CNT)=^(I),CNT=CNT+1
"RTN","SCUTBK10")
0^7^B13713071
"RTN","SCUTBK10",1,0)
SCUTBK10 ;ALB/SCK - Scheduling Broker Utilities ; 04 Sep 2002  12:53 PM
"RTN","SCUTBK10",2,0)
 ;;5.3;Scheduling;**41,264**;AUG 13, 1993
"RTN","SCUTBK10",3,0)
 ;
"RTN","SCUTBK10",4,0)
 Q
"RTN","SCUTBK10",5,0)
 ;
"RTN","SCUTBK10",6,0)
PARSE(SC) ;
"RTN","SCUTBK10",7,0)
 S SCFILE=$G(SC("FILE"))
"RTN","SCUTBK10",8,0)
 S SCIEN=$G(SC("IEN"))
"RTN","SCUTBK10",9,0)
 S SCVAL=$G(SC("VALUE"))
"RTN","SCUTBK10",10,0)
 S SCSTATUS=$G(SC("STATUS"))
"RTN","SCUTBK10",11,0)
 S SCSUBJ=$G(SC("SUBJ"),"PCMM NOTIFICATION")
"RTN","SCUTBK10",12,0)
 S SCDATE=$G(SC("DATE"))
"RTN","SCUTBK10",13,0)
 S SCADR=$G(SC("ADDRESS"))
"RTN","SCUTBK10",14,0)
 S SCHIEN=$G(SC("HIEN"))
"RTN","SCUTBK10",15,0)
 Q
"RTN","SCUTBK10",16,0)
 ;
"RTN","SCUTBK10",17,0)
PTASGMM(SCOK,SC) ;  Send MailMan message on single patient assignment to either 
"RTN","SCUTBK10",18,0)
 ; a team or a position.
"RTN","SCUTBK10",19,0)
 ;
"RTN","SCUTBK10",20,0)
 ;   Input:   SC = BT^404.42 Ien   Sets before action for team assign.
"RTN","SCUTBK10",21,0)
 ;            SC = AT^404.42 Ien   Sets after action for team assign.
"RTN","SCUTBK10",22,0)
 ;            SC = BP^404.43 Ien  Sets before action for position assign
"RTN","SCUTBK10",23,0)
 ;            SC = BA^404.43 Ien  Sets after action for position assign 
"RTN","SCUTBK10",24,0)
 ;
"RTN","SCUTBK10",25,0)
 N SCACT,SCIEN
"RTN","SCUTBK10",26,0)
 ;
"RTN","SCUTBK10",27,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",28,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",29,0)
 ;
"RTN","SCUTBK10",30,0)
 S SCOK=0
"RTN","SCUTBK10",31,0)
 S SCACT=$P($G(SC),U,1)
"RTN","SCUTBK10",32,0)
 S SCIEN=$P($G(SC),U,2)
"RTN","SCUTBK10",33,0)
 G:SCACT="" PTASGNQ
"RTN","SCUTBK10",34,0)
 G:SCIEN="" PTASGNQ
"RTN","SCUTBK10",35,0)
 ;
"RTN","SCUTBK10",36,0)
 D @SCACT
"RTN","SCUTBK10",37,0)
 S SCOK=1
"RTN","SCUTBK10",38,0)
PTASGNQ Q
"RTN","SCUTBK10",39,0)
 ;
"RTN","SCUTBK10",40,0)
BT ;
"RTN","SCUTBK10",41,0)
 D BEFORETM^SCMCDD1(SCIEN)
"RTN","SCUTBK10",42,0)
 Q
"RTN","SCUTBK10",43,0)
AT ;
"RTN","SCUTBK10",44,0)
 D AFTERTM^SCMCDD1(SCIEN)
"RTN","SCUTBK10",45,0)
 Q
"RTN","SCUTBK10",46,0)
BP ;
"RTN","SCUTBK10",47,0)
 D BEFORETP^SCMCDD1(SCIEN)
"RTN","SCUTBK10",48,0)
 Q
"RTN","SCUTBK10",49,0)
AP ;
"RTN","SCUTBK10",50,0)
 D AFTERTP^SCMCDD1(SCIEN)
"RTN","SCUTBK10",51,0)
 Q
"RTN","SCUTBK10",52,0)
 ;
"RTN","SCUTBK10",53,0)
MAILC(SCOK,SC) ;   call to invoke broker to send a mailman message from the
"RTN","SCUTBK10",54,0)
 ;           client
"RTN","SCUTBK10",55,0)
 ;
"RTN","SCUTBK10",56,0)
 N SCSUBJ,SCTEXT
"RTN","SCUTBK10",57,0)
 ;
"RTN","SCUTBK10",58,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",59,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",60,0)
 ;
"RTN","SCUTBK10",61,0)
 S SCOK=0
"RTN","SCUTBK10",62,0)
 S SCSUBJ=$G(SC("SUBJ"),"PCMM NOTIFICATION")
"RTN","SCUTBK10",63,0)
 S SCADR=$G(SC("ADDRESS"))
"RTN","SCUTBK10",64,0)
 ;
"RTN","SCUTBK10",65,0)
 S XMDUZ=DUZ
"RTN","SCUTBK10",66,0)
 S XMSUB=SCSUBJ
"RTN","SCUTBK10",67,0)
 D XMZ^XMA2
"RTN","SCUTBK10",68,0)
 G:XMZ<1 MAILQ
"RTN","SCUTBK10",69,0)
 ;
"RTN","SCUTBK10",70,0)
 D BLDTEXT(.SC,.SCTEXT)
"RTN","SCUTBK10",71,0)
 S XMTEXT="SCTEXT("
"RTN","SCUTBK10",72,0)
 ;
"RTN","SCUTBK10",73,0)
 I $P(SCADR,U,2)="TEST" D
"RTN","SCUTBK10",74,0)
 . S XMY("G.PCM MESSAGING@DEVFEX.ISC-ALBANY.VA.GOV")=""
"RTN","SCUTBK10",75,0)
 ;
"RTN","SCUTBK10",76,0)
 I $P(SCADR,U,2)="S" D
"RTN","SCUTBK10",77,0)
 . S XMY($P(SCADR,U,1))=""
"RTN","SCUTBK10",78,0)
 ;
"RTN","SCUTBK10",79,0)
 I $D(XMY)>0 D
"RTN","SCUTBK10",80,0)
 . D ^XMD
"RTN","SCUTBK10",81,0)
 . S SCOK=XMZ
"RTN","SCUTBK10",82,0)
MAILQ Q
"RTN","SCUTBK10",83,0)
 ;
"RTN","SCUTBK10",84,0)
BLDTEXT(SCVAL,SCTXT) ;  Build the message text array from the client
"RTN","SCUTBK10",85,0)
 ;
"RTN","SCUTBK10",86,0)
 N SCLINE,CNT
"RTN","SCUTBK10",87,0)
 S SCLINE=""
"RTN","SCUTBK10",88,0)
 F  S SCLINE=$O(SCVAL(SCLINE)) Q:+SCLINE=0  D
"RTN","SCUTBK10",89,0)
 . S SCTXT(SCLINE)=SCVAL(SCLINE)
"RTN","SCUTBK10",90,0)
 Q
"RTN","SCUTBK10",91,0)
 ;
"RTN","SCUTBK10",92,0)
NEWHIST(SCOK,SC) ;  Call to invoke the broker to determine whether the date for
"RTN","SCUTBK10",93,0)
 ;          the history entry being added is valid.
"RTN","SCUTBK10",94,0)
 ;
"RTN","SCUTBK10",95,0)
 N SCFILE,SCIEN,SCDATE,SCSTATUS,SCVAL,SCERMSG
"RTN","SCUTBK10",96,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",97,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",98,0)
 ;
"RTN","SCUTBK10",99,0)
 S SCOK=0
"RTN","SCUTBK10",100,0)
 D PARSE(.SC)
"RTN","SCUTBK10",101,0)
 ;
"RTN","SCUTBK10",102,0)
 S SCOK=$$NEWHIST^SCMCDD(SCFILE,SCIEN,SCDATE,"SCERMSG",SCSTATUS)
"RTN","SCUTBK10",103,0)
NEWDTQ Q
"RTN","SCUTBK10",104,0)
 ;
"RTN","SCUTBK10",105,0)
NEWSTC(SCOK,SC) ;  Call to invoke the broker to determine whether the status
"RTN","SCUTBK10",106,0)
 ;          entry for the current entry is valid.
"RTN","SCUTBK10",107,0)
 ;
"RTN","SCUTBK10",108,0)
 N SCFILE,SCIEN,SCDATE,SCSTATUS,SCVAL,SCERMSG
"RTN","SCUTBK10",109,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",110,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",111,0)
 ;
"RTN","SCUTBK10",112,0)
 S SCOK=0
"RTN","SCUTBK10",113,0)
 D PARSE(.SC)
"RTN","SCUTBK10",114,0)
 ;
"RTN","SCUTBK10",115,0)
 S SCOK=$$NEWHIST^SCMCDD(SCFILE,SCIEN,SCDATE,"SCERMSG",SCSTATUS)
"RTN","SCUTBK10",116,0)
NEWSTQ Q
"RTN","SCUTBK10",117,0)
 ;
"RTN","SCUTBK10",118,0)
DELDTC(SCOK,SC) ;  Call to invoke the broker to see if the history entry can
"RTN","SCUTBK10",119,0)
 ;          be deleted.
"RTN","SCUTBK10",120,0)
 ;
"RTN","SCUTBK10",121,0)
 N SCFILE,SCHIEN,SCERMSG
"RTN","SCUTBK10",122,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",123,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",124,0)
 ;
"RTN","SCUTBK10",125,0)
 S SCOK=0
"RTN","SCUTBK10",126,0)
 D PARSE(.SC)
"RTN","SCUTBK10",127,0)
 ;
"RTN","SCUTBK10",128,0)
 S SCOK=$$OKDEL^SCMCDD(SCFILE,SCHIEN,"SCERMSG")
"RTN","SCUTBK10",129,0)
DELDTQ Q
"RTN","SCUTBK10",130,0)
 ;
"RTN","SCUTBK10",131,0)
INACTC(SCOK,SC) ;   Call to invoke the broker to see if the history entry can
"RTN","SCUTBK10",132,0)
 ;           be inactivated.
"RTN","SCUTBK10",133,0)
 ;
"RTN","SCUTBK10",134,0)
 N SCFILE,SCIEN,SCDATE
"RTN","SCUTBK10",135,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",136,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",137,0)
 ;
"RTN","SCUTBK10",138,0)
 S SCOK=0
"RTN","SCUTBK10",139,0)
 D PARSE(.SC)
"RTN","SCUTBK10",140,0)
 ;
"RTN","SCUTBK10",141,0)
 S SCOK=$$OKINACT^SCMCDD(SCFILE,SCIEN,SCDATE,"SCERMSG")
"RTN","SCUTBK10",142,0)
INACTQ Q
"RTN","SCUTBK10",143,0)
 ;
"RTN","SCUTBK10",144,0)
CHGDTC(SCOK,SC) ;  Call to see if the date change for the history entry is 
"RTN","SCUTBK10",145,0)
 ;          valid.
"RTN","SCUTBK10",146,0)
 ;
"RTN","SCUTBK10",147,0)
 N SCFILE,SCIEN,SCDATE,SCERMSG
"RTN","SCUTBK10",148,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",149,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",150,0)
 ;
"RTN","SCUTBK10",151,0)
 S SCOK=0
"RTN","SCUTBK10",152,0)
 D PARSE(.SC)
"RTN","SCUTBK10",153,0)
 ;
"RTN","SCUTBK10",154,0)
 S SCOK=$$OKCHGDT^SCMCDD(SCFILE,SCHIEN,SCDATE,"SCERMSG")
"RTN","SCUTBK10",155,0)
CHGDTQ Q
"RTN","SCUTBK10",156,0)
 ;
"RTN","SCUTBK10",157,0)
MNTEST(SCOK,SC) ;
"RTN","SCUTBK10",158,0)
 D CHK^SCUTBK
"RTN","SCUTBK10",159,0)
 D TMP^SCUTBK
"RTN","SCUTBK10",160,0)
 S DFN=+SC
"RTN","SCUTBK10",161,0)
 S SCOK=$$LST^DGMTU(DFN),$P(SCOK,U,10)=$$ONWAIT^SCMCWAIT(DFN),$P(SCOK,U,11)=$$SC^SCMCWAIT(SC)
"RTN","SCUTBK10",162,0)
 Q
"RTN","SCUTBK10",163,0)
 ;
"RTN","SCUTBK12")
0^8^B1728358
"RTN","SCUTBK12",1,0)
SCUTBK12 ;ALB/SCK - Staff Assignment lookup broker call ; 14 Aug 2002  10:03 AM
"RTN","SCUTBK12",2,0)
 ;;5.3;Scheduling;**41,264**;AUG 13, 1993
"RTN","SCUTBK12",3,0)
 ;
"RTN","SCUTBK12",4,0)
 Q
"RTN","SCUTBK12",5,0)
 ;
"RTN","SCUTBK12",6,0)
STAFFLK(SCDATA,SC) ;
"RTN","SCUTBK12",7,0)
 ;
"RTN","SCUTBK12",8,0)
 N SCUSR,SCVAL,SCREEN,SCINST,SCOK
"RTN","SCUTBK12",9,0)
 D CHK^SCUTBK
"RTN","SCUTBK12",10,0)
 D TMP^SCUTBK
"RTN","SCUTBK12",11,0)
 ;
"RTN","SCUTBK12",12,0)
 S SCINST=$G(SC("USRCOK"),"")
"RTN","SCUTBK12",13,0)
 S SCUSR=$G(SC("USRCLASS"),"")
"RTN","SCUTBK12",14,0)
 S SCVAL=$G(SC("VALUE"),"")
"RTN","SCUTBK12",15,0)
 S SCREEN=$G(SC("SCREEN"),"")
"RTN","SCUTBK12",16,0)
 S SCPC=$G(SC("PC"))
"RTN","SCUTBK12",17,0)
 ;
"RTN","SCUTBK12",18,0)
 IF SCVAL="?"&(SCINST) D  G STAFQ
"RTN","SCUTBK12",19,0)
 . D WHOIS2^USRLM("SCRTN",SCUSR)
"RTN","SCUTBK12",20,0)
 . M SCDATA=SCRTN
"RTN","SCUTBK12",21,0)
 . S SCDATA(0)="[Data]"
"RTN","SCUTBK12",22,0)
 ;
"RTN","SCUTBK12",23,0)
 D URSLKUP^SCMCPR1(.SCDATA,SCUSR,SCVAL,SCREEN,SCINST,SCPC)
"RTN","SCUTBK12",24,0)
 ;
"RTN","SCUTBK12",25,0)
STAFQ ;
"RTN","SCUTBK12",26,0)
 Q
"RTN","SCUTBK12",27,0)
 ;
"RTN","SCUTBK12",28,0)
CHKUSR(SCOK,SCVAL) ;
"RTN","SCUTBK12",29,0)
 S SCOK=$G(^SD(404.91,SCVAL,"PCMM"))
"RTN","SCUTBK12",30,0)
 Q
"RTN","SCUTBK12",31,0)
 ;
"RTN","SCUTBK12",32,0)
GETPC(SCDATA,SC) ;
"RTN","SCUTBK12",33,0)
 ;
"RTN","SCUTBK12",34,0)
 N SCDFN,SCDATE,SCROLE,SCAST
"RTN","SCUTBK12",35,0)
 D CHK^SCUTBK
"RTN","SCUTBK12",36,0)
 D TMP^SCUTBK
"RTN","SCUTBK12",37,0)
 ;
"RTN","SCUTBK12",38,0)
 S SCDFN=$G(SC("DFN"),"")
"RTN","SCUTBK12",39,0)
 S SCDATE=$G(SC("DATE"),DT)
"RTN","SCUTBK12",40,0)
 S SCROLE=$G(SC("ROLE"),1)
"RTN","SCUTBK12",41,0)
 S SCAST=$G(SC("AST"),1)
"RTN","SCUTBK12",42,0)
 ;
"RTN","SCUTBK12",43,0)
 S SCDATA=$$GETPC^SCAPMCU2(SCDFN,SCDATE,SCROLE,SCAST)
"RTN","SCUTBK12",44,0)
 Q
"VER")
8.0^22.0
"^DD",404.42,404.42,0)
FIELD^^1^12
"^DD",404.42,404.42,0,"DDA")
N
"^DD",404.42,404.42,0,"DT")
3020818
"^DD",404.42,404.42,0,"ID",.02)
W "   ",$E($P(^(0),U,2),4,5)_"-"_$E($P(^(0),U,2),6,7)_"-"_$E($P(^(0),U,2),2,3)
"^DD",404.42,404.42,0,"ID",.03)
S %I=Y,Y=$S('$D(^(0)):"",$D(^SCTM(404.51,+$P(^(0),U,3),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(404.51,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",404.42,404.42,0,"IX","AB",404.42,.01)

"^DD",404.42,404.42,0,"IX","AIDT",404.42,.01)

"^DD",404.42,404.42,0,"IX","AIDT1",404.42,.03)

"^DD",404.42,404.42,0,"IX","AIDT2",404.42,.02)

"^DD",404.42,404.42,0,"IX","AOUTPT",404.42,.08)

"^DD",404.42,404.42,0,"IX","APCTM",404.42,.01)

"^DD",404.42,404.42,0,"IX","APCTM1",404.42,.08)

"^DD",404.42,404.42,0,"IX","APCTM2",404.42,.02)

"^DD",404.42,404.42,0,"IX","APCTM3",404.42,.03)

"^DD",404.42,404.42,0,"IX","APTTM",404.42,.01)

"^DD",404.42,404.42,0,"IX","APTTM1",404.42,.03)

"^DD",404.42,404.42,0,"IX","ATMPT",404.42,.03)

"^DD",404.42,404.42,0,"IX","ATMPT1",404.42,.01)

"^DD",404.42,404.42,0,"IX","B",404.42,.01)

"^DD",404.42,404.42,0,"IX","C",404.42,.03)

"^DD",404.42,404.42,0,"NM","PATIENT TEAM ASSIGNMENT")

"^DD",404.42,404.42,0,"PT",404.43,.01)

"^DD",404.42,404.42,0,"VRPK")
SD
"^DD",404.42,404.42,.01,0)
PATIENT^RP2'X^DPT(^0;1^N SC1,SCN,SCDA S SCDA=+$G(DA),SCN=$G(^SCPT(404.42,SCDA,0)) S $P(SCN,U,1)=X S SCN1=$$OKPTTM^SCMCTMU(SCN,SCDA) D:'SCN1 EN^DDIOL($P(SCN1,U,2),"","?5") K:'SCN1 X
"^DD",404.42,404.42,.01,1,0)
^.1
"^DD",404.42,404.42,.01,1,1,0)
404.42^B
"^DD",404.42,404.42,.01,1,1,1)
S ^SCPT(404.42,"B",$E(X,1,30),DA)=""
"^DD",404.42,404.42,.01,1,1,2)
K ^SCPT(404.42,"B",$E(X,1,30),DA)
"^DD",404.42,404.42,.01,1,2,0)
404.42^AIDT^MUMPS
"^DD",404.42,404.42,.01,1,2,1)
N SC2,SC3 S SC2=$P($G(^SCPT(404.42,DA,0)),U,3) I SC2 S SC3=$P($G(^(0)),U,2) I SC3]"" S ^SCPT(404.42,"AIDT",X,SC2,-SC3,DA)=""
"^DD",404.42,404.42,.01,1,2,2)
N SC2,SC3 S SC2=$P($G(^SCPT(404.42,DA,0)),U,3) I SC2 S SC3=$P($G(^(0)),U,2) I SC3]"" K ^SCPT(404.42,"AIDT",X,SC2,-SC3,DA)
"^DD",404.42,404.42,.01,1,2,"%D",0)
^^1^1^2950907^
"^DD",404.42,404.42,.01,1,2,"%D",1,0)
This sorts by PATIENT(#.01), then by TEAM ASSIGNMENT(#.03), then by -TEAM ASSIGNED DATE(#.02).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.01,1,2,"DT")
2950907
"^DD",404.42,404.42,.01,1,3,0)
404.42^AB
"^DD",404.42,404.42,.01,1,3,1)
S ^SCPT(404.42,"AB",$E(X,1,30),DA)=""
"^DD",404.42,404.42,.01,1,3,2)
K ^SCPT(404.42,"AB",$E(X,1,30),DA)
"^DD",404.42,404.42,.01,1,3,"DT")
2950120
"^DD",404.42,404.42,.01,1,4,0)
404.42^ATMPT1^MUMPS
"^DD",404.42,404.42,.01,1,4,1)
N SC1 S SC1=$P($G(^SCPT(404.42,DA,0)),U,3) I SC1 S ^SCPT(404.42,"ATMPT",SC1,X,DA)=""
"^DD",404.42,404.42,.01,1,4,2)
N SC1 S SC1=$P($G(^SCPT(404.42,DA,0)),U,3) I SC1 K ^SCPT(404.42,"ATMPT",SC1,X,DA)
"^DD",404.42,404.42,.01,1,4,"%D",0)
^^1^1^2950630^
"^DD",404.42,404.42,.01,1,4,"%D",1,0)
This sorts by TEAM ASSIGNMENT(#.03), then by PATIENT(#.01).  There is an associated cross reference for the TEAM ASSIGNMENT Field (#.03).
"^DD",404.42,404.42,.01,1,4,"DT")
2950630
"^DD",404.42,404.42,.01,1,5,0)
404.42^APTTM^MUMPS
"^DD",404.42,404.42,.01,1,5,1)
N SC2 S SC2=$P($G(^SCPT(404.42,DA,0)),U,3) I SC2 S ^SCPT(404.42,"APTTM",X,SC2,DA)=""
"^DD",404.42,404.42,.01,1,5,2)
N SC2 S SC2=$P($G(^SCPT(404.42,DA,0)),U,3) I SC2 K ^SCPT(404.42,"APTTM",X,SC2,DA)
"^DD",404.42,404.42,.01,1,5,"%D",0)
^^1^1^2950703^
"^DD",404.42,404.42,.01,1,5,"%D",1,0)
This sorts by PATIENT(#.01), then by TEAM ASSIGNMENT(#.03).  There is an associated cross reference for the TEAM ASSIGNMENT Field (#.03).
"^DD",404.42,404.42,.01,1,5,"DT")
2950703
"^DD",404.42,404.42,.01,1,6,0)
404.42^APCTM^MUMPS
"^DD",404.42,404.42,.01,1,6,1)
N SC2,SC3,SC4 S SC2=$P($G(^SCPT(404.42,DA,0)),U,8) I SC2]"" S SC3=$P($G(^(0)),U,2) I SC3]"" S SC4=$P($G(^(0)),U,3) I SC4 S ^SCPT(404.42,"APCTM",X,SC2,SC3,SC4,DA)=""
"^DD",404.42,404.42,.01,1,6,2)
N SC2,SC3,SC4 S SC2=$P($G(^SCPT(404.42,DA,0)),U,8) I SC2]"" S SC3=$P($G(^(0)),U,2) I SC3]"" S SC4=$P($G(^(0)),U,3) I SC4 K ^SCPT(404.42,"APCTM",X,SC2,SC3,SC4,DA)
"^DD",404.42,404.42,.01,1,6,"%D",0)
^^3^3^2960214^^
"^DD",404.42,404.42,.01,1,6,"%D",1,0)
This sorts by PATIENT(#.01), then by ASSIGNMENT TYPE(#.08), then by -TEAM ASSIGN
"^DD",404.42,404.42,.01,1,6,"%D",2,0)
ED DATE(#.02), then by TEAM ASSIGNMENT(#.03).  There are associated cross refere
"^DD",404.42,404.42,.01,1,6,"%D",3,0)
nces for each of these fields.
"^DD",404.42,404.42,.01,1,6,"DT")
2960214
"^DD",404.42,404.42,.01,3)
Select Patient from active team
"^DD",404.42,404.42,.01,"DT")
3020731
"^DD",404.42,404.42,.02,0)
TEAM ASSIGNED DATE^RDX^^0;2^S %DT="ETX" D ^%DT S X=Y K:Y<1 X IF $D(X)&($P(^SCPT(404.42,DA,0),U,9)) D:X>$P(^SCPT(404.42,DA,0),U,9) EN^DDIOL("Discharge must be after Assigned Date","","?5") K:X>$P(^SCPT(404.42,DA,0),U,9) X
"^DD",404.42,404.42,.02,1,0)
^.1
"^DD",404.42,404.42,.02,1,1,0)
404.42^AIDT2^MUMPS
"^DD",404.42,404.42,.02,1,1,1)
N SC1,SC2 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,3) I SC2 S ^SCPT(404.42,"AIDT",SC1,SC2,-X,DA)=""
"^DD",404.42,404.42,.02,1,1,2)
N SC1,SC2 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,3) I SC2 K ^SCPT(404.42,"AIDT",SC1,SC2,-X,DA)
"^DD",404.42,404.42,.02,1,1,"%D",0)
^^1^1^2950907^
"^DD",404.42,404.42,.02,1,1,"%D",1,0)
This sorts by PATIENT(#.01), then by TEAM ASSIGNMENT(#.03), then by -TEAM ASSIGNED DATE(#.02).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.02,1,1,"DT")
2950907
"^DD",404.42,404.42,.02,1,2,0)
404.42^APCTM2^MUMPS
"^DD",404.42,404.42,.02,1,2,1)
N SC1,SC2,SC4 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,8) I SC2]"" S SC4=$P($G(^(0)),U,3) I SC4 S ^SCPT(404.42,"APCTM",SC1,SC2,X,SC4,DA)=""
"^DD",404.42,404.42,.02,1,2,2)
N SC1,SC2,SC4 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,8) I SC2]"" S SC4=$P($G(^(0)),U,3) I SC4 K ^SCPT(404.42,"APCTM",SC1,SC2,X,SC4,DA)
"^DD",404.42,404.42,.02,1,2,"%D",0)
^^1^1^2960214^^
"^DD",404.42,404.42,.02,1,2,"%D",1,0)
This sorts by PATIENT(#.01), then by ASSIGNMENT TYPE(#.08), then by -TEAM ASSIGNED DATE(#.02), then by TEAM ASSIGNMENT(#.03).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.02,1,2,"DT")
2960214
"^DD",404.42,404.42,.02,3)
This is the date the team is assigned to the patient.
"^DD",404.42,404.42,.02,21,0)
^^1^1^2950630^^^
"^DD",404.42,404.42,.02,21,1,0)
This is the date that the patient joins the team's patient panel.
"^DD",404.42,404.42,.02,"DT")
2960214
"^DD",404.42,404.42,.03,0)
TEAM ASSIGNMENT^P404.51'^SCTM(404.51,^0;3^Q
"^DD",404.42,404.42,.03,1,0)
^.1
"^DD",404.42,404.42,.03,1,1,0)
404.42^ATMPT^MUMPS
"^DD",404.42,404.42,.03,1,1,1)
N SC2 S SC2=$P($G(^SCPT(404.42,DA,0)),U,1) I SC2 S ^SCPT(404.42,"ATMPT",X,SC2,DA)=""
"^DD",404.42,404.42,.03,1,1,2)
N SC2 S SC2=$P($G(^SCPT(404.42,DA,0)),U,1) I SC2 K ^SCPT(404.42,"ATMPT",X,SC2,DA)
"^DD",404.42,404.42,.03,1,1,"%D",0)
^^1^1^2950630^
"^DD",404.42,404.42,.03,1,1,"%D",1,0)
This sorts by TEAM ASSIGNMENT(#.03), then by PATIENT(#.01).  There is an associated cross reference for the PATIENT Field (#.01).
"^DD",404.42,404.42,.03,1,1,"DT")
2950630
"^DD",404.42,404.42,.03,1,2,0)
404.42^APTTM1^MUMPS
"^DD",404.42,404.42,.03,1,2,1)
N SC1 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S ^SCPT(404.42,"APTTM",SC1,X,DA)=""
"^DD",404.42,404.42,.03,1,2,2)
N SC1 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 K ^SCPT(404.42,"APTTM",SC1,X,DA)
"^DD",404.42,404.42,.03,1,2,"%D",0)
^^1^1^2950703^
"^DD",404.42,404.42,.03,1,2,"%D",1,0)
This sorts by PATIENT(#.01), then by TEAM ASSIGNMENT(#.03).  There is an associated cross reference for the PATIENT Field (#.01).
"^DD",404.42,404.42,.03,1,2,"DT")
2950703
"^DD",404.42,404.42,.03,1,3,0)
404.42^AIDT1^MUMPS
"^DD",404.42,404.42,.03,1,3,1)
N SC1,SC3 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,2) I SC3]"" S ^SCPT(404.42,"AIDT",SC1,X,-SC3,DA)=""
"^DD",404.42,404.42,.03,1,3,2)
N SC1,SC3 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,2) I SC3]"" K ^SCPT(404.42,"AIDT",SC1,X,-SC3,DA)
"^DD",404.42,404.42,.03,1,3,"%D",0)
^^1^1^2950907^
"^DD",404.42,404.42,.03,1,3,"%D",1,0)
This sorts by PATIENT(#.01), then by TEAM ASSIGNMENT(#.03), then by -TEAM ASSIGNED DATE(#.02).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.03,1,3,"DT")
2950907
"^DD",404.42,404.42,.03,1,4,0)
404.42^APCTM3^MUMPS
"^DD",404.42,404.42,.03,1,4,1)
N SC1,SC2,SC3 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,8) I SC2]"" S SC3=$P($G(^(0)),U,2) I SC3]"" S ^SCPT(404.42,"APCTM",SC1,SC2,SC3,X,DA)=""
"^DD",404.42,404.42,.03,1,4,2)
N SC1,SC2,SC3 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,8) I SC2]"" S SC3=$P($G(^(0)),U,2) I SC3]"" K ^SCPT(404.42,"APCTM",SC1,SC2,-SC3,X,DA)
"^DD",404.42,404.42,.03,1,4,"%D",0)
^^1^1^2960214^^
"^DD",404.42,404.42,.03,1,4,"%D",1,0)
This sorts by PATIENT(#.01), then by ASSIGNMENT TYPE(#.08), then by -TEAM ASSIGNED DATE(#.02), then by TEAM ASSIGNMENT(#.03).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.03,1,4,"DT")
2960214
"^DD",404.42,404.42,.03,1,5,0)
404.42^C
"^DD",404.42,404.42,.03,1,5,1)
S ^SCPT(404.42,"C",$E(X,1,30),DA)=""
"^DD",404.42,404.42,.03,1,5,2)
K ^SCPT(404.42,"C",$E(X,1,30),DA)
"^DD",404.42,404.42,.03,1,5,"%D",0)
^^1^1^2960502^
"^DD",404.42,404.42,.03,1,5,"%D",1,0)
Whole cross-reference, by team.
"^DD",404.42,404.42,.03,1,5,"DT")
2960502
"^DD",404.42,404.42,.03,3)
Name of a team assigned to the patient as of the effective date.
"^DD",404.42,404.42,.03,21,0)
^^1^1^2950905^^^^
"^DD",404.42,404.42,.03,21,1,0)
This is the team assigned to patient as of the effective date.
"^DD",404.42,404.42,.03,"DT")
3020731
"^DD",404.42,404.42,.08,0)
ASSIGNMENT TYPE^S^1:PRIMARY CARE;99:OTHER;^0;8^Q
"^DD",404.42,404.42,.08,1,0)
^.1
"^DD",404.42,404.42,.08,1,1,0)
404.42^APCTM1^MUMPS
"^DD",404.42,404.42,.08,1,1,1)
N SC1,SC3,SC4 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,2) I SC3]"" S SC4=$P($G(^(0)),U,3) I SC4 S ^SCPT(404.42,"APCTM",SC1,X,SC3,SC4,DA)=""
"^DD",404.42,404.42,.08,1,1,2)
N SC1,SC3,SC4 S SC1=$P($G(^SCPT(404.42,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,2) I SC3]"" S SC4=$P($G(^(0)),U,3) I SC4 K ^SCPT(404.42,"APCTM",SC1,X,SC3,SC4,DA)
"^DD",404.42,404.42,.08,1,1,"%D",0)
^^1^1^2960325^^^
"^DD",404.42,404.42,.08,1,1,"%D",1,0)
This sorts by PATIENT(#.01), then by ASSIGNMENT TYPE(#.08), then by -TEAM ASSIGNED DATE(#.02), then by TEAM ASSIGNMENT(#.03).  There are associated cross references for each of these fields.
"^DD",404.42,404.42,.08,1,1,"DT")
2960214
"^DD",404.42,404.42,.08,1,2,0)
404.42^AOUTPT^MUMPS
"^DD",404.42,404.42,.08,1,2,1)
N SCX S SCX=$$MAKEOUT^SCMCDD1(DA)
"^DD",404.42,404.42,.08,1,2,2)
Q
"^DD",404.42,404.42,.08,1,2,"%D",0)
^^2^2^2960325^
"^DD",404.42,404.42,.08,1,2,"%D",1,0)
This makes an entry in the Outpatient Profile File for every patient
"^DD",404.42,404.42,.08,1,2,"%D",2,0)
who ever gets assigned to a primary care team.
"^DD",404.42,404.42,.08,1,2,"DT")
2960325
"^DD",404.42,404.42,.08,3)
The type of care provided by this assignment.
"^DD",404.42,404.42,.08,21,0)
^^1^1^2950309^^
"^DD",404.42,404.42,.08,21,1,0)
This field indicates the type of care provided by this assignment.
"^DD",404.42,404.42,.08,23,0)
^^3^3^2960522^
"^DD",404.42,404.42,.08,23,1,0)
Currently there are only two choices in this set of codes.  If additional
"^DD",404.42,404.42,.08,23,2,0)
choices are permited, the GUI forms will have to be updated from a
"^DD",404.42,404.42,.08,23,3,0)
check-box to another display method.
"^DD",404.42,404.42,.08,"DT")
2960325
"^DD",404.42,404.42,.09,0)
TEAM DISCHARGE DATE^DX^^0;9^S %DT="ETX" D ^%DT S X=Y K:Y<1 X IF $D(X) D:$P(^SCPT(404.42,DA,0),U,2)>X EN^DDIOL("Discharge must be after Assigned Date","","?5") K:$P(^SCPT(404.42,DA,0),U,2)>X X
"^DD",404.42,404.42,.09,3)
Enter the date/time the team was no longer assigned to the patient.
"^DD",404.42,404.42,.09,21,0)
^^1^1^2950717^^
"^DD",404.42,404.42,.09,21,1,0)
This is the date/time that the team ceased to be assigned to the patient.
"^DD",404.42,404.42,.09,"DT")
2950717
"^DD",404.42,404.42,.1,0)
RESTRICT CONSULTS^S^1:YES;0:NO;^0;10^Q
"^DD",404.42,404.42,.1,3)
Are users not allowed to make consult appointments if a patient is not enrolled in a clinic?
"^DD",404.42,404.42,.1,21,0)
^^3^3^2950706^^
"^DD",404.42,404.42,.1,21,1,0)
This attribute prevents users from making consult appointments to clinics
"^DD",404.42,404.42,.1,21,2,0)
in which the patient is not enrolled. This parameter
"^DD",404.42,404.42,.1,21,3,0)
overrides the same parameter at the team level.
"^DD",404.42,404.42,.1,"DT")
2950706
"^DD",404.42,404.42,.11,0)
USER ENTERING^P200'^VA(200,^0;11^Q
"^DD",404.42,404.42,.11,3)
This is the user who entered the record.
"^DD",404.42,404.42,.11,21,0)
^^1^1^2950706^
"^DD",404.42,404.42,.11,21,1,0)
This is the user who entered this record.
"^DD",404.42,404.42,.11,"DT")
2950706
"^DD",404.42,404.42,.12,0)
DATE/TIME ENTERED^D^^0;12^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",404.42,404.42,.12,1,0)
^.1^^0
"^DD",404.42,404.42,.12,3)
This is the date/time that the history of teams and practitioner positions was entered.
"^DD",404.42,404.42,.12,21,0)
^^1^1^2960517^^
"^DD",404.42,404.42,.12,21,1,0)
This is the date/time that the history of teams and practitioner positions was entered.
"^DD",404.42,404.42,.12,"DT")
2960528
"^DD",404.42,404.42,.13,0)
LAST EDITED BY^P200'^VA(200,^0;13^Q
"^DD",404.42,404.42,.13,3)
This is the user who last edited the record.
"^DD",404.42,404.42,.13,21,0)
^^1^1^2950706^
"^DD",404.42,404.42,.13,21,1,0)
This is the user who last edited the record.
"^DD",404.42,404.42,.13,"DT")
2950706
"^DD",404.42,404.42,.14,0)
DATE/TIME LAST EDITED^D^^0;14^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",404.42,404.42,.14,1,0)
^.1^^0
"^DD",404.42,404.42,.14,3)
This is the date/time the record was last edited.
"^DD",404.42,404.42,.14,21,0)
^^1^1^2960517^^
"^DD",404.42,404.42,.14,21,1,0)
This is the date/time the record was last edited.
"^DD",404.42,404.42,.14,"DT")
2960528
"^DD",404.42,404.42,.15,0)
STATUS^S^DU:DEATH UNASSIGNMENT;IU:INACTIVITY UNASSIGNMENT;DD:REASSIGNED AFTER DATE OF DEATH REMOVED;^0;15^Q
"^DD",404.42,404.42,.15,21,0)
^^1^1^3020614^
"^DD",404.42,404.42,.15,21,1,0)
If Inactivity causes this patient to be discharged from this assignment
"^DD",404.42,404.42,.15,"DT")
3020818
"^DD",404.42,404.42,1,0)
PURPOSE^404.421^^1;0
"^DD",404.42,404.421,0)
PURPOSE SUB-FIELD^^.01^1
"^DD",404.42,404.421,0,"DT")
2950309
"^DD",404.42,404.421,0,"NM","PURPOSE")

"^DD",404.42,404.421,0,"UP")
404.42
"^DD",404.42,404.421,.01,0)
PURPOSE^W^^0;1^Q
"^DD",404.42,404.421,.01,21,0)
^^2^2^2950309^
"^DD",404.42,404.421,.01,21,1,0)
This field should contain the purpose of the care this assignment will
"^DD",404.42,404.421,.01,21,2,0)
provide.
"^DD",404.42,404.421,.01,"DT")
2950309
"^DD",404.43,404.43,0)
FIELD^^.12^10
"^DD",404.43,404.43,0,"DT")
3020626
"^DD",404.43,404.43,0,"ID",.02)
S %I=Y,Y=$S('$D(^(0)):"",$D(^SCTM(404.57,+$P(^(0),U,2),0))#2:$P(^(0),U,1),1:""),C=$P(^DD(404.57,.01,0),U,2) D Y^DIQ:Y]"" W "   ",Y,@("$E("_DIC_"%I,0),0)") S Y=%I K %I
"^DD",404.43,404.43,0,"IX","ACTDFN1",404.43,.01)

"^DD",404.43,404.43,0,"IX","ACTDFN2",404.43,.03)

"^DD",404.43,404.43,0,"IX","ACTDFN3",404.43,.04)

"^DD",404.43,404.43,0,"IX","ACTPC1",404.43,.01)

"^DD",404.43,404.43,0,"IX","ACTPC2",404.43,.03)

"^DD",404.43,404.43,0,"IX","ACTPC3",404.43,.05)

"^DD",404.43,404.43,0,"IX","ACTPC4",404.43,.04)

"^DD",404.43,404.43,0,"IX","ADFN",404.43,.01)

"^DD",404.43,404.43,0,"IX","ADFN1",404.43,.02)

"^DD",404.43,404.43,0,"IX","ADFN2",404.43,.03)

"^DD",404.43,404.43,0,"IX","AEVENT1",404.43,.01)

"^DD",404.43,404.43,0,"IX","AEVENT2",404.43,.05)

"^DD",404.43,404.43,0,"IX","AEVENT3",404.43,.02)

"^DD",404.43,404.43,0,"IX","AEVENT4",404.43,.03)

"^DD",404.43,404.43,0,"IX","AEVENT5",404.43,.04)

"^DD",404.43,404.43,0,"IX","APCPOS",404.43,.01)

"^DD",404.43,404.43,0,"IX","APCPOS1",404.43,.05)

"^DD",404.43,404.43,0,"IX","APCPOS2",404.43,.03)

"^DD",404.43,404.43,0,"IX","APCPOS3",404.43,.02)

"^DD",404.43,404.43,0,"IX","APRIMARY",404.43,.01)

"^DD",404.43,404.43,0,"IX","APRIMARY1",404.43,.02)

"^DD",404.43,404.43,0,"IX","APRIMARY2",404.43,.03)

"^DD",404.43,404.43,0,"IX","APTPA",404.43,.02)

"^DD",404.43,404.43,0,"IX","APTPA1",404.43,.01)

"^DD",404.43,404.43,0,"IX","ASTATB",404.43,.12)

"^DD",404.43,404.43,0,"IX","ATEST",404.43,.12)

"^DD",404.43,404.43,0,"IX","B",404.43,.01)

"^DD",404.43,404.43,0,"NM","PATIENT TEAM POSITION ASSIGNMENT")

"^DD",404.43,404.43,0,"PT",404.48,.07)

"^DD",404.43,404.43,0,"VRPK")
SD
"^DD",404.43,404.43,.01,0)
PATIENT TEAM ASSIGNMENT^RP404.42'^SCPT(404.42,^0;1^Q
"^DD",404.43,404.43,.01,1,0)
^.1
"^DD",404.43,404.43,.01,1,1,0)
404.43^B
"^DD",404.43,404.43,.01,1,1,1)
S ^SCPT(404.43,"B",$E(X,1,30),DA)=""
"^DD",404.43,404.43,.01,1,1,2)
K ^SCPT(404.43,"B",$E(X,1,30),DA)
"^DD",404.43,404.43,.01,1,2,0)
404.43^APRIMARY^MUMPS
"^DD",404.43,404.43,.01,1,2,1)
N SC2,SC3 S SC2=$P($G(^SCPT(404.43,DA,0)),U,2) I SC2 S SC3=$P($G(^(0)),U,3) I SC3]"" S ^SCPT(404.43,"APRIMARY",X,SC2,-SC3,DA)=""
"^DD",404.43,404.43,.01,1,2,2)
N SC2,SC3 S SC2=$P($G(^SCPT(404.43,DA,0)),U,2) I SC2 S SC3=$P($G(^(0)),U,3) I SC3]"" K ^SCPT(404.43,"APRIMARY",X,SC2,-SC3,DA)
"^DD",404.43,404.43,.01,1,2,"%D",0)
^^1^1^2950908^
"^DD",404.43,404.43,.01,1,2,"%D",1,0)
This sorts by PATIENT TEAM ASSIGNMENT(#.01), then by TEAM POSITION(#.02), then by -POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.01,1,2,"DT")
2950908
"^DD",404.43,404.43,.01,1,3,0)
404.43^APTPA1^MUMPS
"^DD",404.43,404.43,.01,1,3,1)
N SC1 S SC1=$P($G(^SCPT(404.43,DA,0)),U,2) I SC1 S ^SCPT(404.43,"APTPA",SC1,X,DA)=""
"^DD",404.43,404.43,.01,1,3,2)
N SC1 S SC1=$P($G(^SCPT(404.43,DA,0)),U,2) I SC1 K ^SCPT(404.43,"APTPA",SC1,X,DA)
"^DD",404.43,404.43,.01,1,3,"%D",0)
^^1^1^2951023^
"^DD",404.43,404.43,.01,1,3,"%D",1,0)
This sorts by TEAM POSITION(#.02), then by PATIENT TEAM ASSIGNMENT(#.01).  There is an associated cross reference for the TEAM POSITION Field (#.02).
"^DD",404.43,404.43,.01,1,3,"DT")
2951023
"^DD",404.43,404.43,.01,1,4,0)
404.43^ADFN^MUMPS
"^DD",404.43,404.43,.01,1,4,1)
N SCDFN,SC2,SC3 S SC2=$P($G(^SCPT(404.43,DA,0)),U,2) I SC2 S SC3=$P($G(^(0)),U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,X,0)),U,1) I SCDFN S ^SCPT(404.43,"ADFN",SCDFN,SC2,SC3,DA)=""
"^DD",404.43,404.43,.01,1,4,2)
N SCDFN,SC2,SC3 S SC2=$P($G(^SCPT(404.43,DA,0)),U,2) I SC2 S SC3=$P($G(^(0)),U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,X,0)),U,1) I SCDFN K ^SCPT(404.43,"ADFN",SCDFN,SC2,SC3,DA)
"^DD",404.43,404.43,.01,1,4,"%D",0)
^^1^1^2960319^^^^
"^DD",404.43,404.43,.01,1,4,"%D",1,0)
This sorts by PATIENT File ien (DFN), then by TEAM POSITION(#.02), then by POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.01,1,4,"DT")
2960319
"^DD",404.43,404.43,.01,1,5,0)
404.43^APCPOS^MUMPS
"^DD",404.43,404.43,.01,1,5,1)
N SC2,SC3,SC4 S SC2=$P($G(^SCPT(404.43,DA,0)),U,5) I SC2]"" S SC3=$P($G(^(0)),U,3) I SC3]"" S SC4=$P($G(^(0)),U,2) I SC4 D SETPC^SCMCDD1(X,SC2,SC3,SC4,DA)
"^DD",404.43,404.43,.01,1,5,2)
N SC2,SC3,SC4 S SC2=$P($G(^SCPT(404.43,DA,0)),U,5) I SC2]"" S SC3=$P($G(^(0)),U,3) I SC3]"" S SC4=$P($G(^(0)),U,2) I SC4 D KILLPC^SCMCDD1(X,SC2,SC3,SC4,DA)
"^DD",404.43,404.43,.01,1,5,"%D",0)
^^1^1^2960214^^^^
"^DD",404.43,404.43,.01,1,5,"%D",1,0)
This sorts by PATIENT (via Patient Team Assignement), then by PC ROLE(#.05), then by -POSITION ASSIGNED DATE(#.03), then by TEAM POSITION(#.02).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.01,1,5,"DT")
2960214
"^DD",404.43,404.43,.01,1,6,0)
404.43^AEVENT1^MUMPS
"^DD",404.43,404.43,.01,1,6,1)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.01,1,6,2)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.01,1,6,"%D",0)
^^1^1^2990507^
"^DD",404.43,404.43,.01,1,6,"%D",1,0)
Trigger an entry into PCMM HL7 EVENT file when this field is edited.
"^DD",404.43,404.43,.01,1,6,"DT")
2990507
"^DD",404.43,404.43,.01,1,7,0)
404.43^ACTDFN1^MUMPS
"^DD",404.43,404.43,.01,1,7,1)
N ND,SCDFN,SC3,SC4 S ND=$G(^SCPT(404.43,DA,0)),SC3=$P(ND,U,3) I SC3]"" S SC4=$P(ND,U,4) I SC4']"" S SCDFN=$P($G(^SCPT(404.42,X,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTDFN",SCDFN,DA)=""
"^DD",404.43,404.43,.01,1,7,2)
N ND,SCDFN,SC3,SC4 S ND=$G(^SCPT(404.43,DA,0)),SC3=$P(ND,U,3) I SC3]"" S SC4=$P(ND,U,4) I SC4']"" S SCDFN=$P($G(^SCPT(404.42,X,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTDFN",SCDFN,DA)
"^DD",404.43,404.43,.01,1,7,"%D",0)
^^2^2^2990726^^
"^DD",404.43,404.43,.01,1,7,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN).
"^DD",404.43,404.43,.01,1,7,"%D",2,0)
There are associated xrefs for fields .03 and .04.
"^DD",404.43,404.43,.01,1,7,"DT")
2990723
"^DD",404.43,404.43,.01,1,8,0)
404.43^ACTPC1^MUMPS
"^DD",404.43,404.43,.01,1,8,1)
N ND,SCDFN,SC3,SC4,SC5 S ND=$G(^SCPT(404.43,DA,0)),SC3=$P(ND,U,3) I SC3]"" S SC4=$P(ND,U,4) I SC4']"" S SC5=$P(ND,U,5) I SC5 S SCDFN=$P($G(^SCPT(404.42,X,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTPC",SCDFN,SC5,DA)=""
"^DD",404.43,404.43,.01,1,8,2)
N ND,SCDFN,SC3,SC4,SC5 S ND=$G(^SCPT(404.43,DA,0)),SC3=$P(ND,U,3) I SC3]"" S SC4=$P(ND,U,4) I SC4']"" S SC5=$P(ND,U,5) I SC5 S SCDFN=$P($G(^SCPT(404.42,X,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTPC",SCDFN,SC5,DA)
"^DD",404.43,404.43,.01,1,8,"%D",0)
^^3^3^2990723^
"^DD",404.43,404.43,.01,1,8,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN),
"^DD",404.43,404.43,.01,1,8,"%D",2,0)
then by PC ROLE(#.05). There are associated xrefs for fields
"^DD",404.43,404.43,.01,1,8,"%D",3,0)
.03, .04 and .05.
"^DD",404.43,404.43,.01,1,8,"DT")
2990723
"^DD",404.43,404.43,.01,3)
This is an entry in the team position assignment file.
"^DD",404.43,404.43,.01,21,0)
^^1^1^2950508^^
"^DD",404.43,404.43,.01,21,1,0)
This is an entry in the team position assignment file.
"^DD",404.43,404.43,.01,"DT")
3021007
"^DD",404.43,404.43,.02,0)
TEAM POSITION^RP404.57'X^SCTM(404.57,^0;2^S DIC("S")="I $$OKTP^SCMCTPU(DA,Y)"
"^DD",404.43,404.43,.02,1,0)
^.1
"^DD",404.43,404.43,.02,1,1,0)
404.43^APRIMARY1^MUMPS
"^DD",404.43,404.43,.02,1,1,1)
N SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S ^SCPT(404.43,"APRIMARY",SC1,X,-SC3,DA)=""
"^DD",404.43,404.43,.02,1,1,2)
N SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" K ^SCPT(404.43,"APRIMARY",SC1,X,-SC3,DA)
"^DD",404.43,404.43,.02,1,1,"%D",0)
^^1^1^2950908^
"^DD",404.43,404.43,.02,1,1,"%D",1,0)
This sorts by PATIENT TEAM ASSIGNMENT(#.01), then by TEAM POSITION(#.02), then by -POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.02,1,1,"DT")
2950908
"^DD",404.43,404.43,.02,1,2,0)
404.43^APTPA^MUMPS
"^DD",404.43,404.43,.02,1,2,1)
N SC2 S SC2=$P($G(^SCPT(404.43,DA,0)),U,1) I SC2 S ^SCPT(404.43,"APTPA",X,SC2,DA)=""
"^DD",404.43,404.43,.02,1,2,2)
N SC2 S SC2=$P($G(^SCPT(404.43,DA,0)),U,1) I SC2 K ^SCPT(404.43,"APTPA",X,SC2,DA)
"^DD",404.43,404.43,.02,1,2,"%D",0)
^^1^1^2951023^
"^DD",404.43,404.43,.02,1,2,"%D",1,0)
This sorts by TEAM POSITION(#.02), then by PATIENT TEAM ASSIGNMENT(#.01).  There is an associated cross reference for the PATIENT TEAM ASSIGNMENT Field (#.01).
"^DD",404.43,404.43,.02,1,2,"DT")
2951023
"^DD",404.43,404.43,.02,1,3,0)
404.43^ADFN1^MUMPS
"^DD",404.43,404.43,.02,1,3,1)
N SCDFN,SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ADFN",SCDFN,X,SC3,DA)=""
"^DD",404.43,404.43,.02,1,3,2)
N SCDFN,SC1,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ADFN",SCDFN,X,SC3,DA)
"^DD",404.43,404.43,.02,1,3,"%D",0)
^^1^1^2960319^^^
"^DD",404.43,404.43,.02,1,3,"%D",1,0)
This sorts by PATIENT file ien (DFN), then by TEAM POSITION(#.02), then by POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.02,1,3,"DT")
2960319
"^DD",404.43,404.43,.02,1,4,0)
404.43^APCPOS3^MUMPS
"^DD",404.43,404.43,.02,1,4,1)
N SC1,SC2,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,5) I SC2]"" S SC3=$P($G(^(0)),U,3) I SC3]"" D SETPC^SCMCDD1(SC1,SC2,SC3,X,DA)
"^DD",404.43,404.43,.02,1,4,2)
N SC1,SC2,SC3 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,5) I SC2]"" S SC3=$P($G(^(0)),U,3) I SC3]"" D KILLPC^SCMCDD1(SC1,SC2,SC3,X,DA)
"^DD",404.43,404.43,.02,1,4,"%D",0)
^^2^2^2960214^^^^
"^DD",404.43,404.43,.02,1,4,"%D",1,0)
This sorts by Patient (via PATIENT TEAM ASSIGNMENT(#.01)), then by PC ROLE(#.05), then by -POSITION ASSIGNED DATE(#.03), then by
"^DD",404.43,404.43,.02,1,4,"%D",2,0)
 TEAM POSITION(#.02).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.02,1,4,"DT")
2960214
"^DD",404.43,404.43,.02,1,5,0)
404.43^AEVENT3^MUMPS
"^DD",404.43,404.43,.02,1,5,1)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.02,1,5,2)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.02,1,5,"%D",0)
^^1^1^2990507^
"^DD",404.43,404.43,.02,1,5,"%D",1,0)
Trigger an entry into PCMM HL7 EVENT file when this field is edited.
"^DD",404.43,404.43,.02,1,5,"DT")
2990507
"^DD",404.43,404.43,.02,3)
Enter the position associated with the patient.
"^DD",404.43,404.43,.02,12)
used to assure position is from team
"^DD",404.43,404.43,.02,12.1)
S DIC("S")="I $$OKTP^SCMCTPU(DA,Y)"
"^DD",404.43,404.43,.02,21,0)
^^1^1^2960215^^^^
"^DD",404.43,404.43,.02,21,1,0)
This is the position associated with the patient.
"^DD",404.43,404.43,.02,23,0)
^^1^1^2960215^^^^
"^DD",404.43,404.43,.02,23,1,0)
Position must be from parent team - see screen.
"^DD",404.43,404.43,.02,"DT")
3020731
"^DD",404.43,404.43,.03,0)
POSITION ASSIGNED DATE^RDX^^0;3^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X N SC1,SCNODE S SC1=$G(X),SCNODE=$G(^SCPT(404.43,+$G(DA),0)) K:'$$OKACTTP^SCMCTPU(SCNODE,SC1) X
"^DD",404.43,404.43,.03,1,0)
^.1
"^DD",404.43,404.43,.03,1,1,0)
404.43^APRIMARY2^MUMPS
"^DD",404.43,404.43,.03,1,1,1)
N SC1,SC2 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,2) I SC2 S ^SCPT(404.43,"APRIMARY",SC1,SC2,-X,DA)=""
"^DD",404.43,404.43,.03,1,1,2)
N SC1,SC2 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,2) I SC2 K ^SCPT(404.43,"APRIMARY",SC1,SC2,-X,DA)
"^DD",404.43,404.43,.03,1,1,"%D",0)
^^1^1^2950908^
"^DD",404.43,404.43,.03,1,1,"%D",1,0)
This sorts by PATIENT TEAM ASSIGNMENT(#.01), then by TEAM POSITION(#.02), then by -POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.03,1,1,"DT")
2950908
"^DD",404.43,404.43,.03,1,2,0)
404.43^ADFN2^MUMPS
"^DD",404.43,404.43,.03,1,2,1)
N SCDFN,SC1,SC2 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,2) I SC2 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ADFN",SCDFN,SC2,X,DA)=""
"^DD",404.43,404.43,.03,1,2,2)
N SCDFN,SC1,SC2 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,2) I SC2 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ADFN",SCDFN,SC2,X,DA)
"^DD",404.43,404.43,.03,1,2,"%D",0)
^^1^1^2960319^^
"^DD",404.43,404.43,.03,1,2,"%D",1,0)
This sorts by PATIENT file ien (DFN), then by TEAM POSITION(#.02), then by POSITION ASSIGNED DATE(#.03).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.03,1,2,"DT")
2960319
"^DD",404.43,404.43,.03,1,3,0)
404.43^APCPOS2^MUMPS
"^DD",404.43,404.43,.03,1,3,1)
N SC1,SC2,SC4 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,5) I SC2]"" S SC4=$P($G(^(0)),U,2) I SC4 D SETPC^SCMCDD1(SC1,SC2,X,SC4,DA)
"^DD",404.43,404.43,.03,1,3,2)
N SC1,SC2,SC4 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC2=$P($G(^(0)),U,5) I SC2]"" S SC4=$P($G(^(0)),U,2) I SC4 D KILLPC^SCMCDD1(SC1,SC2,X,SC4,DA)
"^DD",404.43,404.43,.03,1,3,"%D",0)
^^1^1^2960214^^^^
"^DD",404.43,404.43,.03,1,3,"%D",1,0)
This sorts by Patient (via PATIENT TEAM ASSIGNMENT(#.01)), then by PC ROLE(#.05), then by -POSITION ASSIGNED DATE(#.03), then by TEAM POSITION(#.02).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.03,1,3,"DT")
2960214
"^DD",404.43,404.43,.03,1,4,0)
404.43^AEVENT4^MUMPS
"^DD",404.43,404.43,.03,1,4,1)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.03,1,4,2)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.03,1,4,"%D",0)
^^1^1^2990507^
"^DD",404.43,404.43,.03,1,4,"%D",1,0)
Trigger an entry into PCMM HL7 EVENT file when this field is edited.
"^DD",404.43,404.43,.03,1,4,"DT")
2990507
"^DD",404.43,404.43,.03,1,5,0)
404.43^ACTDFN2^MUMPS
"^DD",404.43,404.43,.03,1,5,1)
N ND,SCDFN,SC1,SC4 S ND=$G(^SCPT(404.43,DA,0)),SC4=$P(ND,U,4) I SC4']"" S SC1=$P(ND,U,1) I SC1 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTDFN",SCDFN,DA)=""
"^DD",404.43,404.43,.03,1,5,2)
N ND,SCDFN,SC1,SC4 S ND=$G(^SCPT(404.43,DA,0)),SC4=$P(ND,U,4) I SC4']"" S SC1=$P(ND,U,1) I SC1 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTDFN",SCDFN,DA)
"^DD",404.43,404.43,.03,1,5,"%D",0)
^^2^2^2990723^
"^DD",404.43,404.43,.03,1,5,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN).
"^DD",404.43,404.43,.03,1,5,"%D",2,0)
There are associated xrefs for fields .01 and .04.
"^DD",404.43,404.43,.03,1,5,"DT")
2990723
"^DD",404.43,404.43,.03,1,6,0)
404.43^ACTPC2^MUMPS
"^DD",404.43,404.43,.03,1,6,1)
N ND,SCDFN,SC1,SC4,SC5 S ND=$G(^SCPT(404.43,DA,0)),SC4=$P(ND,U,4) I SC4']"" S SC1=$P(ND,U,1) I SC1 S SC5=$P(ND,U,5) I SC5 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTPC",SCDFN,SC5,DA)=""
"^DD",404.43,404.43,.03,1,6,2)
N ND,SCDFN,SC1,SC4,SC5 S ND=$G(^SCPT(404.43,DA,0)),SC4=$P(ND,U,4) I SC4']"" S SC1=$P(ND,U,1) I SC1 S SC5=$P(ND,U,5) I SC5 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTPC",SCDFN,SC5,DA)
"^DD",404.43,404.43,.03,1,6,"%D",0)
^^3^3^2990723^
"^DD",404.43,404.43,.03,1,6,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN),
"^DD",404.43,404.43,.03,1,6,"%D",2,0)
then by PC ROLE(#.05). There are associated xrefs for fields
"^DD",404.43,404.43,.03,1,6,"%D",3,0)
.01, .04 and .05.
"^DD",404.43,404.43,.03,1,6,"DT")
2990723
"^DD",404.43,404.43,.03,3)
S %DT="ESTX" D ^%DT S X=Y K:Y<1 X N SC1,SCNODE S SC1=$G(X),SCNODE=$G(^SCPT(404.43,D0,0)) K:'$$OKACTTP^SCMCTPU(SCNODE,SC1) X
"^DD",404.43,404.43,.03,21,0)
^^1^1^2960517^^^^
"^DD",404.43,404.43,.03,21,1,0)
This is the date that the team position was assigned to the patient.
"^DD",404.43,404.43,.03,"DT")
2990723
"^DD",404.43,404.43,.04,0)
POSITION UNASSIGNED DATE^DX^^0;4^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X N SC1,SCNODE S SC1=$G(X),SCNODE=$G(^SCPT(404.43,DA,0)) K:'$$OKINTP^SCMCTPU(SCNODE,SC1) X
"^DD",404.43,404.43,.04,1,0)
^.1
"^DD",404.43,404.43,.04,1,1,0)
404.43^AEVENT5^MUMPS
"^DD",404.43,404.43,.04,1,1,1)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.04,1,1,2)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.04,1,1,"%D",0)
^^1^1^2990507^
"^DD",404.43,404.43,.04,1,1,"%D",1,0)
Trigger an entry into PCMM HL7 EVENT file when this field is edited.
"^DD",404.43,404.43,.04,1,1,"DT")
2990507
"^DD",404.43,404.43,.04,1,2,0)
404.43^ACTDFN3^MUMPS
"^DD",404.43,404.43,.04,1,2,1)
N ND,SCDFN,SC1,SC3 S ND=$G(^SCPT(404.43,DA,0)),SC1=$P(ND,U,1) I SC1 S SC3=$P(ND,U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTDFN",SCDFN,DA)
"^DD",404.43,404.43,.04,1,2,2)
N ND,SCDFN,SC1,SC3 S ND=$G(^SCPT(404.43,DA,0)),SC1=$P(ND,U,1) I SC1 S SC3=$P(ND,U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTDFN",SCDFN,DA)=""
"^DD",404.43,404.43,.04,1,2,"%D",0)
^^2^2^2990723^^
"^DD",404.43,404.43,.04,1,2,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN).
"^DD",404.43,404.43,.04,1,2,"%D",2,0)
There are associated xrefs for fields .01 and .03.
"^DD",404.43,404.43,.04,1,2,"DT")
2990723
"^DD",404.43,404.43,.04,1,3,0)
404.43^ACTPC4^MUMPS
"^DD",404.43,404.43,.04,1,3,1)
N ND,SCDFN,SC1,SC3,SC5 S ND=$G(^SCPT(404.43,DA,0)),SC1=$P(ND,U,1) I SC1 S SC3=$P(ND,U,3) I SC3]"" S SC5=$P(ND,U,5) I SC5 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTPC",SCDFN,SC5,DA)
"^DD",404.43,404.43,.04,1,3,2)
N ND,SCDFN,SC1,SC3,SC5 S ND=$G(^SCPT(404.43,DA,0)),SC1=$P(ND,U,1) I SC1 S SC3=$P(ND,U,3) I SC3]"" S SC5=$P(ND,U,5) I SC5 S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTPC",SCDFN,SC5,DA)=""
"^DD",404.43,404.43,.04,1,3,"%D",0)
^^3^3^2990723^
"^DD",404.43,404.43,.04,1,3,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN),
"^DD",404.43,404.43,.04,1,3,"%D",2,0)
then by PC ROLE(#.05). There are associated xrefs for fields
"^DD",404.43,404.43,.04,1,3,"%D",3,0)
.01, .03 and .05.
"^DD",404.43,404.43,.04,1,3,"DT")
2990723
"^DD",404.43,404.43,.04,3)
This is the date that the position is no longer associated with the patient.
"^DD",404.43,404.43,.04,21,0)
^^1^1^2950717^
"^DD",404.43,404.43,.04,21,1,0)
This is the date/time that the position is no longer associated with the patient.
"^DD",404.43,404.43,.04,"DT")
2990723
"^DD",404.43,404.43,.05,0)
PC ROLE^SX^0:NON PC ASSIGNMENT;1:PC ASSIGNMENT;2:PC ATTENDING;^0;5^N SC1 S SC1=$$OKROLE^SCMCTPU(DA,X) K:'SC1 X
"^DD",404.43,404.43,.05,1,0)
^.1
"^DD",404.43,404.43,.05,1,1,0)
404.43^APCPOS1^MUMPS
"^DD",404.43,404.43,.05,1,1,1)
N SC1,SC3,SC4 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S SC4=$P($G(^(0)),U,2) I SC4 D SETPC^SCMCDD1(SC1,X,SC3,SC4,DA)
"^DD",404.43,404.43,.05,1,1,2)
N SC1,SC3,SC4 S SC1=$P($G(^SCPT(404.43,DA,0)),U,1) I SC1 S SC3=$P($G(^(0)),U,3) I SC3]"" S SC4=$P($G(^(0)),U,2) I SC4 D KILLPC^SCMCDD1(SC1,X,SC3,SC4,DA)
"^DD",404.43,404.43,.05,1,1,"%D",0)
^^1^1^2960214^^^^
"^DD",404.43,404.43,.05,1,1,"%D",1,0)
This sorts by Patient (via PATIENT TEAM ASSIGNMENT(#.01)), then by PC ROLE(#.05), then by -POSITION ASSIGNED DATE(#.03), then by TEAM POSITION(#.02).  There are associated cross references for each of these fields.
"^DD",404.43,404.43,.05,1,1,"DT")
2960214
"^DD",404.43,404.43,.05,1,2,0)
404.43^AEVENT2^MUMPS
"^DD",404.43,404.43,.05,1,2,1)
D PTPXREF^SCMCHLX(DA)
"^DD",404.43,404.43,.05,1,2,2)
D PTPXREF^SCMCHLX(DA,X)
"^DD",404.43,404.43,.05,1,2,"%D",0)
^^1^1^2990507^
"^DD",404.43,404.43,.05,1,2,"%D",1,0)
Trigger an entry into PCMM HL7 EVENT file when this field is edited.
"^DD",404.43,404.43,.05,1,2,"DT")
2990507
"^DD",404.43,404.43,.05,1,3,0)
404.43^ACTPC3^MUMPS
"^DD",404.43,404.43,.05,1,3,1)
N ND,SCDFN,SC1,SC4,SC3 S ND=$G(^SCPT(404.43,DA,0)),SC4=$P(ND,U,4) I SC4']"" S SC1=$P(ND,U,1) I SC1 S SC3=$P(ND,U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN S ^SCPT(404.43,"ACTPC",SCDFN,X,DA)=""
"^DD",404.43,404.43,.05,1,3,2)
N ND,SCDFN,SC1,SC4,SC3 S ND=$G(^SCPT(404.43,DA,0)),SC4=$P(ND,U,4) I SC4']"" S SC1=$P(ND,U,1) I SC1 S SC3=$P(ND,U,3) I SC3]"" S SCDFN=$P($G(^SCPT(404.42,SC1,0)),U,1) I SCDFN K ^SCPT(404.43,"ACTPC",SCDFN,X,DA)
"^DD",404.43,404.43,.05,1,3,"%D",0)
^^3^3^2990723^
"^DD",404.43,404.43,.05,1,3,"%D",1,0)
This sorts currently active entries by PATIENT file ien (DFN),
"^DD",404.43,404.43,.05,1,3,"%D",2,0)
then by PC ROLE(#.05). There are associated xrefs for fields
"^DD",404.43,404.43,.05,1,3,"%D",3,0)
.01, .03 and .04.
"^DD",404.43,404.43,.05,1,3,"DT")
2990723
"^DD",404.43,404.43,.05,3)
PC Assignments are only allowed if Patient Team Assignment is for Primary Care
"^DD",404.43,404.43,.05,21,0)
^^2^2^2990802^^^^
"^DD",404.43,404.43,.05,21,1,0)
This is used to indicate if patient - team position assigment is a 
"^DD",404.43,404.43,.05,21,2,0)
special one (e.g. primary care practitioner or primary care attending).
"^DD",404.43,404.43,.05,23,0)
^^1^1^2990802^^^^
"^DD",404.43,404.43,.05,23,1,0)
This is only allowable if the team assignment is a pc team assignment.
"^DD",404.43,404.43,.05,"DT")
2990802
"^DD",404.43,404.43,.06,0)
USER ENTERING^P200'^VA(200,^0;6^Q
"^DD",404.43,404.43,.06,3)
The user who initially created the record
"^DD",404.43,404.43,.06,21,0)
^^1^1^2960312^
"^DD",404.43,404.43,.06,21,1,0)
This is the user who initially created the record.
"^DD",404.43,404.43,.06,"DT")
2960312
"^DD",404.43,404.43,.07,0)
DATE/TIME ENTERED^D^^0;7^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",404.43,404.43,.07,3)
This is the date/time that the history of the position was entered.
"^DD",404.43,404.43,.07,21,0)
^^1^1^2960312^
"^DD",404.43,404.43,.07,21,1,0)
This is the date/time that the history of the position was entered.
"^DD",404.43,404.43,.07,"DT")
2960312
"^DD",404.43,404.43,.08,0)
LAST EDITED BY^P200'^VA(200,^0;8^Q
"^DD",404.43,404.43,.08,3)
This is the user who last edited the record.
"^DD",404.43,404.43,.08,21,0)
^^1^1^2960312^
"^DD",404.43,404.43,.08,21,1,0)
This is the user who last edited the record.
"^DD",404.43,404.43,.08,"DT")
2960312
"^DD",404.43,404.43,.09,0)
DATE/TIME LAST EDITED^D^^0;9^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",404.43,404.43,.09,3)
This is the date/time the record was last edited.
"^DD",404.43,404.43,.09,21,0)
^^1^1^2960312^
"^DD",404.43,404.43,.09,21,1,0)
This is the date/time the record was last edited.
"^DD",404.43,404.43,.09,"DT")
2960312
"^DD",404.43,404.43,.12,0)
STATUS^S^DU:DEATH UNASSIGNMENT;IU:INACTIVITY UNASSIGNMENT;DD:REASIGNED AFTER DATE OF DEATH REMOVED;^0;12^Q
"^DD",404.43,404.43,.12,1,0)
^.1^^-1
"^DD",404.43,404.43,.12,1,2,0)
404.43^ASTATB
"^DD",404.43,404.43,.12,1,2,1)
S ^SCPT(404.43,"ASTATB",$E(X,1,30),DA)=""
"^DD",404.43,404.43,.12,1,2,2)
K ^SCPT(404.43,"ASTATB",$E(X,1,30),DA)
"^DD",404.43,404.43,.12,1,2,"%D",0)
^^1^1^2981120^
"^DD",404.43,404.43,.12,1,2,"%D",1,0)
Sort by Status
"^DD",404.43,404.43,.12,1,2,"DT")
2981120
"^DD",404.43,404.43,.12,"DT")
3021007
"^DD",404.52,404.52,.09,0)
PRIMARY CARE FTEE EQUIVALENT^NJ4,2^^0;9^K:+X'=X!(X>1)!(X<0)!(X?.E1"."3N.N) X
"^DD",404.52,404.52,.09,1,0)
^.1
"^DD",404.52,404.52,.09,1,1,0)
404.52^AEVENT09^MUMPS
"^DD",404.52,404.52,.09,1,1,1)
D POSBXREF^SCMCHLX(DA)
"^DD",404.52,404.52,.09,1,1,2)
D POSBXREF^SCMCHLX(DA)
"^DD",404.52,404.52,.09,1,1,"%D",0)
^^1^1^3020624^
"^DD",404.52,404.52,.09,1,1,"%D",1,0)
Set up HL7 message for Bookable Hours
"^DD",404.52,404.52,.09,1,1,"DT")
3020624
"^DD",404.52,404.52,.09,3)
Type a Number between 0 and 1, 2 Decimal Digits
"^DD",404.52,404.52,.09,"DT")
3020904
"^DIC",404.42,404.42,0)
PATIENT TEAM ASSIGNMENT^404.42P
"^DIC",404.42,404.42,0,"GL")
^SCPT(404.42,
"^DIC",404.42,404.42,"%D",0)
^^12^12^2960415^^^
"^DIC",404.42,404.42,"%D",1,0)
This table contains a history of the teams that
"^DIC",404.42,404.42,"%D",2,0)
have been assigned to the patient over time.
"^DIC",404.42,404.42,"%D",3,0)
Sites are NOT allowed to edit the structure of this file.  Making any 
"^DIC",404.42,404.42,"%D",4,0)
kind of revision to this file may result in a faulty performance of the
"^DIC",404.42,404.42,"%D",5,0)
Primary Care Management Software or other DHCP software that uses this 
"^DIC",404.42,404.42,"%D",6,0)
file.  Updates to this file should only be done as a result of an 
"^DIC",404.42,404.42,"%D",7,0)
official patch to the Scheduling Module.
"^DIC",404.42,404.42,"%D",8,0)
 
"^DIC",404.42,404.42,"%D",9,0)
Sites are NOT allowed to edit this file's fields via FileMan, without 
"^DIC",404.42,404.42,"%D",10,0)
the direction of DHCP Customer Support.  Deleting, changing, or adding 
"^DIC",404.42,404.42,"%D",11,0)
entries to this file may result in faulty performance of the Primary 
"^DIC",404.42,404.42,"%D",12,0)
Care Management Software or other DHCP software that uses this file.
"^DIC",404.42,"B","PATIENT TEAM ASSIGNMENT",404.42)

"^DIC",404.43,404.43,0)
PATIENT TEAM POSITION ASSIGNMENT^404.43
"^DIC",404.43,404.43,0,"GL")
^SCPT(404.43,
"^DIC",404.43,404.43,"%D",0)
^^12^12^2990802^^
"^DIC",404.43,404.43,"%D",1,0)
This file contains a history of positions that have been assigned
"^DIC",404.43,404.43,"%D",2,0)
to the patient.
"^DIC",404.43,404.43,"%D",3,0)
Sites are NOT allowed to edit the structure of this file.  Making any 
"^DIC",404.43,404.43,"%D",4,0)
kind of revision to this file may result in a faulty performance of the
"^DIC",404.43,404.43,"%D",5,0)
Primary Care Management Software or other DHCP software that uses this 
"^DIC",404.43,404.43,"%D",6,0)
file.  Updates to this file should only be done as a result of an 
"^DIC",404.43,404.43,"%D",7,0)
official patch to the Scheduling Module.
"^DIC",404.43,404.43,"%D",8,0)
 
"^DIC",404.43,404.43,"%D",9,0)
Sites are NOT allowed to edit this file's fields via FileMan, without 
"^DIC",404.43,404.43,"%D",10,0)
the direction of DHCP Customer Support.  Deleting, changing, or adding 
"^DIC",404.43,404.43,"%D",11,0)
entries to this file may result in faulty performance of the Primary 
"^DIC",404.43,404.43,"%D",12,0)
Care Management Software or other DHCP software that uses this file.
"^DIC",404.43,"B","PATIENT TEAM POSITION ASSIGNMENT",404.43)

**END**
**END**
