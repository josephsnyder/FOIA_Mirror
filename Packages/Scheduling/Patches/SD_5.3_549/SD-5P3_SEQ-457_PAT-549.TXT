$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 08/20/09 at 13:06
=============================================================================
Run Date: DEC 15, 2009                     Designation: SD*5.3*549
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #457                    Status: Released
                  Compliance Date: JAN 15, 2010
=============================================================================

Associated patches: (v)SD*5.3*165  <<= must be installed BEFORE `SD*5.3*549'
                    (v)SD*5.3*380  <<= must be installed BEFORE `SD*5.3*549'

Subject: NO AUDIT TRAIL FOR CLINIC INACT DATE & NEXT AVAIL APPT BY TEAM

Category: 
  - Routine

Description:
============

 This patch fixes the Audit Trail in the Hospital Location file (#44) for
 the Inactivation date.  The patch will also fix doing a search for next 
 available appointment by Team.
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1) HD0000000295431 - No audit trail for Hospital Location (#44), 
                      Inactivate Date (field 2505)
 2) HD0000000323448 - Unable to search for available appointment by team
  
 ASSOCIATED NSR(S):
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Milwaukee VAMC
 Los Angeles, CA.
 Connecticut HCS
  
 REMEDY TICKET OVERVIEW:
 =======================
 1) HD0000000295431 - No audit trail for Hospital Location (#44), 
                      Inactivate Date (field 2505).
  
    Problem:
    --------
    When trying to determine who incorrectly entered an Inactivation date
    for a clinic, it was discovered that no audit data is being recorded,
    even though the Inactivate Date field (#2505) is suppose to be an
    audited field.
  
    Resolution:
    -----------
    Routine SDNACT will be modified to properly use Fileman to set this
    field.  Currently, a direct Set command is being used to set this
    field, which is why no audit data is being recorded.
  
    To check if Audit Trail is turned on for this field, use Option #7
    (Other Options) via Fileman.  Here's an example:
  
    Select OPTION:  7  Other Options
    Select OTHER OPTION:  AUDITING
    Select AUDIT OPTION: FIELDS BEING AUDITED  
    START WITH WHAT FILE: HOSPITAL LOCATION 
         GO TO WHAT FILE: HOSPITAL LOCATION// 
    DEVICE:   UCX/TELNET    Right Margin: 80// 
    AUDITED FIELDS                        JUN  8,2009  17:28   PAGE 1
    FILE NUMBER     LABEL                   TYPE             AUDIT
 --------------------------------------------------------------------------
    44   2505       INACTIVATE DATE       DATE/TIME        YES, ALWAYS
  
 If you do not see field #2505 - Inactivate Date listed with YES, ALWAYS  
 in the AUDIT column, then you will have to "TURN ON" Auditing via FileMan 
 as follows:
  
 D P^DI
  
 Select OPTION: OTHER OPTIONS  
 Select OTHER OPTION: AUDITING  
 Select AUDIT OPTION: TURN DATA AUDIT ON/OFF  
 AUDIT FROM WHAT FILE: HOSPITAL LOCATION
 Select FIELD: INACTIVATE DATE     
 AUDIT: YES, ALWAYS
  
  
 2) HD0000000323448 - Unable to search for available appointment by team
  
    Problem:
    --------
    Currently, Appointment Menu option, Find Next Available Appointment
    [SDNEXT] allows lookup by PCMM Team.  However, the existing software
    looks for the Associated Clinic in field (#.09) of the Team Position
    file (#404.57).  This field is no longer used to store Associated
    Clinic.  Patch SD*5.3*297 replaced this field by adding Associated
    Clinics Multiple file (#404.575), Associated Clinics field (#.01) to
    the Team Position file (#404.57).
  
    Resolution:
    -----------
    Routine SDNEXT will be modified to search the Associated Clinics
    Multiple file (#404.575), Associated Clinics field (#.01) in the Team
    Position file (#404.57) to find all Associated Clinics for a specified
    team and will no longer use field (#.09) for this purpose.  The report
    will now list the next available appointment (for selected date range)
    for each Associated Clinic for a selected PCMM Team.
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 Users can be on the system during the installation of this patch.
  
 Installation should take less than 5 minutes.
  
 1.  LOAD TRANSPORT GLOBAL
     ---------------------
     Choose the PackMan message containing this patch and invoke the
     INSTALL/CHECK MESSAGE PackMan option.
  
 2.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option:  INStallation
                                                               ---
  
     1     Load a Distribution
     2     Verify Checksums in Transport Global
     3     Print Transport Global
     4     Compare Transport Global to Current System
     5     Backup a Transport Global
     6     Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 3.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter SD*5.3*549):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch.  It will NOT
         backup any other changes such as DDs or templates.
  
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
  
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
     d.  Print Transport Global - This option will allow you to view
         the components of the KIDS build.
  
 4.  Use the Install Package(s) option and select the package SD*5.3*549.
  
     a.  When prompted "Want KIDS to INHIBIT LOGONS during the
         install? NO//", respond No.
  
     b.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? NO//", respond Yes.
  
         1) When prompted "Enter options you wish to mark as "Out of
            Order":" enter the following option:
  
            Find Next Available Appointment [SDNEXT]
  
         2) When prompted "Enter protocols you wish to mark as "Out of
            Order":" just press <Return>.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Scheduling;**[Patch List]**;Aug 13, 1993;Build 2

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SDNACT
    Before: B18897332   After: B19685388  **63,380,549**
Routine Name: SDNEXT
    Before: B19974175   After: B21934086  **41,45,165,549**
 
Routine list of preceding patches: 165, 380

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : JAN 26, 2009
Completed By: DUCKWORTH,TIM                 Date Completed: DEC 14, 2009
Released By : CANNEDY,JOELLEN               Date Released : DEC 15, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
