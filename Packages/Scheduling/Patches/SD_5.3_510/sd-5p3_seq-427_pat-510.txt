$TXT Created by CURTIS,RICHARD L at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 11/21/07 at 18:29
=============================================================================
Run Date: JAN 16, 2008                     Designation: SD*5.3*510
Package : SD - SCHEDULING                     Priority: Mandatory
Version : 5.3       SEQ #427                    Status: Released
                  Compliance Date: FEB 16, 2008
=============================================================================

Associated patches: (v)SD*5.3*351  <<= must be installed BEFORE `SD*5.3*510'
                    (v)SD*5.3*466  <<= must be installed BEFORE `SD*5.3*510'

Subject: ACRP OEWS, TOFU and Ad Hoc Report Corrections 

Category: 
  - Routine

Description:
============

 This patch will correct 2 problems with the Outpatient Encounter Workload 
 Statistics (OEWS) report, and also correct 2 errors which can occur when
 the Trend of Facility Uniques by 12 Month Date Ranges report is spooled or
 queued.  Finally, this patch will correct a problem with the Ambulatory
 Care Reporting Project (ACRP) Ad Hoc report involving patient enrollment
 status as a report limitation factor.
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1)  HD182849 - OEWS Report is reporting non-count clinic encounters under
                the Workload for "no transmission record."
  
 2)  HD204419 - Error - when printing Outpatient Encounter Workload
                Statistics <UNDEFINED>DPRT+4^SCRPW9
  
 3)  HD181450 - <UNDEFINED>OENC1^SCRPW6
     Duplicates:
     HD193976 - Syntax Error at EVAL+4 of rtn %ZTLOAD1
     HD198830 - <SYNTAX>EVAL+4^%ZTLOAD1
     HD211663 - <UNDEFINED>OENC1^SCRPW6
     HD212474 - <UNDEFINED>OENC1^SCRPW6
  
 4)  HD152362 - ACRP Ad Hoc report - current enrollment
  
  
 PARTICIPATING TEST SITES:
 =========================
 Columbus VAOPC
 Salisbury VAMC
 Upstate NY HCS
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1)  HD182849 - OEWS Report is reporting non-count clinic encounters under
                the Workload for "no transmission record."
  
     Problem:
     --------
     With the Outpatient Encounter Workload Statistics (OEWS) report,
     the non-count workload for inpatients are not being captured under the
     Non-Workload section of the report, but rather under the Workload
     section.
  
     Resolution:
     -----------
     Routines SCRPW8 and SCRPW9 are being modified so that inpatient
     encounters for non-count clinics appear under the Non-Workload section
     of the report.  Also, the "Action Required" status has been added for
     inpatients that are not checked out under the Outpatient Encounter
     Workload section of the report.
  
     Additionally, a new selection of "Non-Count (not transmitted)" has 
     been added when selecting ENCOUNTERS as the Type of List and INPATIENT
     APPOINTMENT as the Status.
  
  
 2)  HD204419 - Error - when printing Outpatient Encounter Workload
                Statistics <UNDEFINED>DPRT+4^SCRPW9
  
     Problem:
     --------
     When running a detailed listing of the Outpatient Encounter Workload
     Statistics report for Uniques, it errors for <UNDEFINED>DPRT+4^
     SCRPW9.
  
     Resolution:
     -----------
     The modification being made to routine SCRPW9 to fix the issue
     described in Item #1 above, will also resolve this error.
  
  
 3)  HD181450 - <UNDEFINED>OENC1^SCRPW6
  
     Problem:
     --------
     When you Spool or Queue the Trend of Facility Uniques by 12 Month Date
     Ranges report, one of two errors will be encountered, depending on
     which selection is made from the following:
  
          Select one of the following:
  
           1         Checked Out (Outpatients)
           2         Checked Out (Inpatients)
           3         Checked Out (Out/Inpatients)
  
          Select Status: 1//
  
     If you select 1 or 2, you will receive the <UNDEFINED>OENC1^SCRPW6
     error.  If you select 3, you will receive the following error:
  
      I $S(ZT1'["(":1,1:$E(ZT1,$L(ZT1))=")"),$S($D(@ZT1)#2:1,
      1:ZTSAVE(ZT1)]"") S ^%ZT
      SK(ZTSK,.3,ZT1)=$S(ZTSAVE(ZT1)]"":ZTSAVE(ZT1),1:@ZT1) Q
      <SYNTAX>EVAL+4^%ZTLOAD1
  
     Resolution:
     -----------
     These errors are caused because local array ZTSAVE is not properly
     set up for variable SDSTA (which is the value of the selection made
     from the above sub-menu).  Routine SCRPW6 will be modified to ensure
     local array ZTSAVE is correctly set up when you elect to SPOOL or
     QUEUE this report.
  
  
 4)  HD152362 - ACRP Ad Hoc report - current enrollment
  
     Problem:
     --------
     When running the ACRP Ad Hoc report, if the user selects patient
     enrollment (current) as one of the limitation categories, selects
     an enrollment status of Verified and selects exclude, patients
     with a current enrollment status of Verified are still appearing
     on the report, when they should be excluded.
  
     Resolution:
     -----------
     Routine SCRPW24 will be modified to use the last record entry in the
     Patient Enrollment file (27.11), along with the Effective Date, to
     get the patient's current enrollment status.  Currently, the software
     uses the .01 field (Enrollment Application Date), that is closest to
     the Encounter Date and uses the Enrollment Status from that record
     entry to determine the patient's current enrollment status.  This
     gives an incorrect status when it is not the most recent record entry
     in file 27.11 for a patient.  So, the software will be changed to use
     the Effective Date that is the closest to the Encounter Date.
  
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 Users can be on the system during the installation of this patch.
  
 Installation should take less than 5 minutes.
  
 1.  LOAD TRANSPORT GLOBAL
     ---------------------
     Choose the PackMan message containing this patch and invoke the
     INSTALL/CHECK MESSAGE PackMan option.
  
 2.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu
     [XPD MAIN]
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
  
     Select Kernel Installation & Distribution System Option:  INStallation
                                                               ---
  
     1     Load a Distribution
     2     Verify Checksums in Transport Global
     3     Print Transport Global
     4     Compare Transport Global to Current System
     5     Backup a Transport Global
     6     Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 3.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter SD*5.3*510):
  
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch.  It will NOT
         backup any other changes such as DDs or templates.
  
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when the patch
         is installed.  It compares all components of the patch
         (routines, DDs, templates, etc.).
  
     c.  Verify Checksums in Transport Global - This option will ensure
         the integrity of the routines that are in the transport global.
  
     d.  Print Transport Global - This option will allow you to view
         the components of the KIDS build.
  
 4.  Use the Install Package(s) option and select the package SD*5.3*510.
  
     a.  When prompted "Want KIDS to INHIBIT LOGONS during the
         install? NO//", respond NO.
  
     b.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? NO//", respond YES.
  
         1) When prompted "Enter options you wish to mark as "Out of
            Order":" enter the following option:
  
            SCRPW OUT ENC WORKLOAD STATS
            SCRPW TREND FACILITY UNIQUES
            SCRPW AD HOC REPORT
  
         2) When prompted "Enter protocols you wish to mark as "Out of
            Order":" just press <Return>.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Scheduling;**[Patch List]**;AUG 13, 1993;Build 3

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SCRPW24
    Before: B79231987   After: B81563044  **144,163,180,254,243,295,329,
                                           351,510**
Routine Name: SCRPW6
    Before: B35810056   After: B35815887  **139,144,466,510**
Routine Name: SCRPW8
    Before: B65233961   After: B71377994  **139,145,144,176,339,466,510**
Routine Name: SCRPW9
    Before: B56812091   After: B57569587  **139,144,339,466,510**
 
Routine list of preceding patches: 351, 466

=============================================================================
User Information:
Entered By  : CURTIS,RICHARD                Date Entered  : MAR 27, 2007
Completed By: WERNER,GARY                   Date Completed: JAN 16, 2008
Released By : BENBOW,PHYLLIS O              Date Released : JAN 16, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
