$TXT Created by FLEGEL,CHRIS M at DEVFEX.ISC-ALBANY.VA.GOV  (KIDS) on FRIDAY, 02/18/00 at 10:33
=============================================================================
Run Date: MAR 09, 2000                     Designation: SD*5.3*204
Package : SD - SCHEDULING                      Priority: Mandatory
Version : 5.3       SEQ #190                     Status: Released
=============================================================================

Associated patches: (v)SD*5.3*209  <<= must be installed BEFORE `SD*5.3*204'

Subject: PCMM NOIS FIXES

Category: 
  - Routine
  - Data Dictionary
  - Other

Description: 
============

 Y2K Waiver ID#:  Y2KW0001               Y2K Waiver Status: Approved
        This patch may be installed during the Y2K Moratorium, 
                          AFTER 1/15/2000,
           but NOT during the 2/28/2000 - 3/3/2000 period.
  
  
 1. This patch corrects many PCMM-related NOIS issues.
  
  
 1.1. Errors in Multiple Extracts (Server)
 Other VISTA packages, when calling supported PCMM APIs,
 were experiencing errors in cases where no data existed in required PCMM
 fields. The APIs have been protected against this case.  The API has been
 made more efficient. 
 1.1.1. References [REN-1099-60492, LAS-1199-60150, CHA-1299-30531,
 ISA-1199-12596]
  
  
 1.2. Time out Issues (Client/Server)
 With greater frequency at larger sites, the PCMM client is timing out
 before the VISTA server can return information to it.  This occurs for
 many reasons.  As a near-term fix, the amount of time the client will be
 allowed to wait will become a site-configurable parameter.  Sites
 experiencing time out problems will be able to increment this parameter.
  1.2.1. References [STX-0699-72256, IOW-0899-40854, WPB-0899-31331,
 MWV-0899-20642, CHA-0599-30711, CTX-0699-71754, NCH-0999-42229,
 CIH-1099-41585, ISA-0899-12523, WPB-1298-32690, SLC-0399-52567,
 ELP-0299-72413, ERI-1299-20153]
  
  
 1.3. Cleanup '-1' Entries (Server)
 Versions of PCMM prior to SD*5.3*177 allowed the filing of non-validated
 data in the Practioner field (.03) of the Team Position History file
 (404.52).  A server option will be built to allow a PCMM user to edit the
 practitioner field of entries with invalid data.  Entries are considered
 invalid for two reasons: a) the entry has a bad pointer value ( report
 will display a number or a blank as the practitioner ) or, b) the site is
 enforcing User Class functionality and the practitioner does not have an
 entry in the User Class Membership file ( report will display the
 practitioner name ).  A post-init action will generate a mail message
 informing IRM staff if any action is required.
  1.3.1. References [MAC-0399-61568, ALN-0499-10505, MAC-1298-61502,
 NOP-1198-12590, ALB-0499-50762, BRX-0299-10347, WWW-0199-51323,
 PHO-0499-60392, MAC-0299-60377]
  
  
 1.4. Position Multi-Reassign Form Size Issue (Client)
 The multiple position reassignment form is the only form in PCMM which
 exceeds a 480x640 footprint.  Certain sites are reporting difficulty
 viewing this particular form because of its size.  The form has been
 adjusted to fit within a 480x640 footprint by use of a tab sheet.    
  1.4.1. References [IOW-0899-40854, WPB-1098-30566]
  
  
 1.5. PC Assign/Unassign (Server)
 The API underneath the PC Assign/Unassign VISTA option does not test if
 the selected team position is a member of a Primary Care team.  This has
 been corrected.
  1.5.1. References [NAS-0199-30829]
  
  
 1.6. PCMM REPORTS (Server)
 Invalid results are sometimes reported by the Practitioners Demographics
 and Practitioner's Patients printouts on the PCMM Reports menu.   This has
 been corrected. The problems are:
  1.6.1.  It sometimes returns position assignments that have been
 inactivated.
  1.6.2.  It sometimes returns position assignments that actually
 belong to another practitioner.
  1.6.3. References [NOP-0499-11252, ISA-0899-12551, IND-0799-40875,
 ALB-0699-51715, MAC-0599-61619, ALB-1299-51778, MWV-1299-20601, 
 SPO-1299-50565, SDC-0497-61473, WPB-0499-30694, DAY-0997-42142]
  
  
 1.7. Appointment Management List Manager TI Screen (Server)
 When viewing clinics in Appointment Management, if you select TI (Team
 Information) you are prompted to select a patient. If you hit <RETURN>
 without selecting a patient, you are taken to a blank Team Information
 page instead of being returned back to the calling screen.  This has been
 corrected.
  1.7.1. References [BHS-0999-10014]
  
  
 1.8. Staff Assign \ Incorrect Position Display (Client)
 When Team:Assign Staff is selected, under certain conditions, when the
 user moves to a different team, the position name is not correct and the
 assignment history list is not populated. This has been corrected.
  1.8.1. References [ELP-1298-71470, ALN-0499-10510]
  
  
 1.9. Inactivation issues (Client)
 PCMM allows the inactivation of teams and team positions with active
 and/or future assignments as of the selected inactivation date. This
 inconsistency will no longer be allowed.  If an attempt to inactivate a
 team or team position with this condition is made, the user will be
 presented with a list of the assignments and will not be allowed to
 proceed.  The list will not display more than 200 assignments.
  1.9.1. References [REN-0699-61410]
  
  
 1.10. HL7 Issues(Server) 
  1.10.1 A local array variable was causing a <STORE> error.  The array is
 now stored as a global variable.
  1.10.2 A field, HL7 TRANSMIT LIMIT, has been added to the PCMM PARAMETER
 file. Sites may edit the value of this field to limit the number of PCMM
 HL7 transmissions which will be made to the Austin Automation Center (AAC)
 during any given session.  The default for this field is 999999[all].
  1.10.3. References [BIG-1199-71271]
  
  
 1.11. Allow turning off of HL7 messaging (Server)
 In support of the National Database Integration (NDBI) Team, the
 capability to disable HL7 messaging has been added.  NDBI may accomplish
 this by setting the local variable SCMCOFF=1 prior to database merges.
  1.11.1. References [ISH-1299-40937]
  
  
 1.12. Add site integration field to PCMM HL7 ID file (Server).
 A field, INTEGRATION ID, has been added.  During database merges of the
 PCMM HL7 ID file, NDBI will populate the new field at the integration site
 with the HL7 ID from the legacy site.  This will enable the integration
 site to properly reference data from the legacy site when dealing with the
 AAC.
  1.12.1. References [ISH-1299-40937]
  
  
 1.13. Position Activation Date (Client/Server)
 The client allows position activation dates for date ranges when the team
 is inactive.  This inconsistency will no longer be allowed.  Selection of
 an improper date for a new position will not void creation of the new
 position, but the user will be returned to the history tab where a proper
 date may be entered.
  1.13.1. References [ISA-0899-12295]
  
  
 1.14. Staff Activation Date (Client/Server)
 The client allows staff activation dates for date ranges when the position
 is inactive.  This inconsistency will no longer be allowed.
  1.14.1. References [ISA-0899-12295]
  
  
 1.15. No Calendar for Date Edit Box (Client)
 When date edit boxes become visible for date range entry for the Team
 Members report, a calendar does not appear when the user double clicks the
 edit box.  This is inconsistent with the rest of the application.  A
 calendar will be made available upon double click of the edit box.
  1.15.1. References [ISA-0899-12295]
  
  
 1.16. Discharge Warning Message (Client/Server)
 When discharging patients, in the case where a Discharge Warning message
 is displayed, all discharge attempts which follow display the warning
 message.  This condition persists until the application is closed.  This
 is corrected.
  1.16.1. References [IOW-0899-40854]
  
  
 1.17. Serv: Account: Panel (Client)
 The information displayed in the server and account panel at the bottom of
 the PCMM main form often does not fit within the space provided.  The
 information string has been narrowed to fit within the panel.
  
  
 2. INSTALLATION:
  
 The server portion of this patch is SD*5.3*204.
 The client version of this patch is 1.2.2.0.
  
 The server changes are being distributed through the National Patch
 Module. The client changes are available from the various
 'anonymous/software'  directories at the field office FTP sites.  Sites
 are encouraged to utilize FTP from the following addresses to obtain the
 SD_53_P204.EXE InstallShield file.
  
 Hines                  152.129.1.110 
 Albany                 152.127.1.5 
 Salt Lake City         152.131.2.1
  
 The server changes must be installed first.  The new client requires
 the new server changes.  Be sure to install the server (KIDS) build first.
  
 This patch requires the prior installation of SD*5.3*209.
  
 2.1 Server
 ==========
 Installation of the server software can occur with all users on the system
 except PCMM users.  It is highly recommend that PCMM users not be 
 running PCMM software at the time of this installation.  The PCMM 
 server software (KIDS build) must be installed first.
  
 Installation Steps
  
 2.1.1. The KIDs build is distributed in a Packman message via the
 National Patch Module.
  
 2.1.2. Send the PackMan to the account where you wish to install the
 build.
  
 2.1.3. Review your mapped set. If any of the routines listed in the
 Routine Summary section of this guide are mapped, they should be removed
 from the mapped set at this time.
  
 2.1.4. From within MailMan select the message containing the KIDs build.
  
 2.1.5. Select the PackMan function  'INSTALL/CHECK MESSAGE '.  This will
 load the PackMan KIDS build.
  
 2.1.6. Within the 'Kernel Installation & Distribution System' you may now
 elect to use the following options (when prompted for INSTALL NAME, enter
 SD*5.3*204).
  
   a. Backup a Transport Global - This option will create a backup message
 of any routines exported with the patch. It will NOT backup any changes
 such as DDs or templates.
  
   b. Compare Transport Global to Current System - This option will allow
 you to view all changes that will be made when the patch is installed. It
 compares all components of the patch (routines, DDs, templates, etc
  
   c. Verify Checksums in Transport Global - This option will allow you to
 ensure the integrity of the routines that are in the transport global.
  
 2.1.7. Use the Install Package(s) option and select package SD*5.3*204.
  
 2.1.8. The install will ask if you wish to rebuild menu trees. It is 
 recommended that you answer NO to this prompt. The trees will be rebuilt 
 next time the system does this task.
  
 2.1.9. When prompted "Want KIDS to INHIBIT LOGONs during the install?
 YES//", it is recommended you answer NO. The disabling of the PCMM options
 will help protect PCMM data.
  
 2.1.10. When prompted to select the options you would like to place out of
 order, enter the following.
   SCMC PCMM GUI WORKSTATION PCMM GUI Workstation
   SC PCMM PT LIST W/TEAM ASSIGN Patient Listing for Team Assignments
   SC PCMM PRACT PATIENTS Practitioner's Patients
   SC PCMM REPORTS MENU PCMM Reports
   DG LOAD PATIENT DATA Load/Edit Patient Data
  
 2.1.11. If routines were unmapped as part of Step 2, they should be
 returned to the mapped set once the installation has run to completion.
  
 2.1.12. At any time, Information Management staff may safely utilize FM to
 edit the values of the new fields in file 404.44, PCMM PARAMETER file.
 Unless your site has experience with the described issue(s), it is
 recommended these parameters be left alone.
  2.1.12.1. Field 14, RPC TIME LIMIT [see description section 1.2]. If PCMM
 clients are experiencing frequent timeout errors, this value should be
 incremented.  The initial value of this field is 30 (seconds).
  2.1.12.2. Field 15, HL7 TRANSMIT LIMIT [see description section 1.10].
 If sites wish to limit the amount of HL7 messaging, this value should be
 decremented. The initial value of this field is 999999 (messages).
  
 2.1.13. The post-init will deliver a mail message to the person installing
 the patch [see description section 1.3].  The message subject will be
 'PCMM PRACTITIONER INCONSISTENCY REPORT'.  If this message reports 'No
 inconsistencies found.', ***no further action is required***.  If this
 message lists inconsistencies, it should be forwarded to the PCMM
 Coordinator. The Coordinator, or the person(s) designated by the
 Coordinator, should be given temporary access to the VISTA option 'SCMC
 PCMM EDIT PRACTIT #404.52'.  This option will allow the Coordinator or
 designee to review the position history and enter valid entries in the
 practitioner field.  Only inconsistent entries will be reviewed.  Only the
 Practitioner field of the inconsistent entries can be edited.  The
 Coordinator or designee should utilize this option until there are no
 entries in the list, at which time access to the option should be removed.
  
  
 2.2 Client
 ==========
 The installation of the client software should take less than 5 minutes
 per workstation. The following steps must be taken for each PCMM
 workstation.
  
 Installation Steps
  
 2.2.1. Prior versions of PCMM required the use of certain commercial
 Dynamic Link Library (DLL) files.  This version of PCMM does not require
 the presence of the 'resizer.dll' and 'resizeablecontrol.dll' DLLs on the
 workstation.  These DLLs were included in prior PCMM InstallShield
 builds.  If this version of PCMM is being installed over previous versions
 and if no other applications are using the DLLs, it is recommended
 'Control Panel':'Add/Remove Programs' be utilized to completely
 uninstall prior versions of PCMM.  Performing this action will remove
 the associated DLLs.
  
 2.2.2. Download the SD_53_P204.EXE;1 file from the ANONYMOUS.SOFTWARE
 directory.  Depending on the FTP site, the extension may be other than
 ';1'.
  
   a. Make sure to set transfer as BINARY.
  
   b. Get the SD_53_P204.EXE;1 file. Depending on the FTP software, this
 file might be placed in C:\WINDOWS, C:\, or some other directory. If you
 cannot find it, use Windows File Manager's Search functionality.
  
   c. VMS requires an extension, usually ";1", on the file. It is
 necessary to rename the file to SD_53_P204.EXE (without the ";1").
  
 2.2.3. Copy the SD_53_P204.EXE file into an empty (temporary or scratch)
 directory.
  
 2.2.4. Run the SD_53_P204.EXE file (double click on it). This starts the
 PCMM installation.
  
   a. If all of the default responses are accepted, the PCMM software will
 be installed into the appropriate VISTA directory on the user's
 workstation. This version of the client software can be installed as
 either a patch to the existing client software or as a new installation.
 The first screen is a welcome or introduction screen. After reading and
 following the instructions, click on the NEXT button to continue.
  
   b. The second screen displays the directory into which the software will
 be installed.  This is the default directory used for VISTA software. It
 is recommended that you accept this directory.
  
   c. This next screen allows the installer to define the program icon that
 is created.  Accepting the default is recommended.
  
   d. The next screen displays the type of installation, where the software
 is going to be placed, and who is performing the installation.  Upon
 selecting the NEXT button on this screen, Install Shield will install the
 PCMM software in the target folder and set up the program icon.
  
   e. At the next screen Install Shield asks the installer if they wish to
 run the application. By this screen, PCMM is installed. There are no
 recommended responses at this point. If the YES box is checked, Install
 Shield will start PCMM. If it is not checked, Install Shield will finish
 and close.
  
 2.2.5. Depending on how the user and operations personnel have set up PCMM
 on the workstation it may be necessary to make new shortcuts, etc. to
 PCMM.
  
 3.  Routine Checksums
  
  ROUTINE SUMMARY:
  ================
  The following is a list of the routine(s) included in this patch.  The
  second line of each of these routine(s) will look like:
  
      <tab>;;5.3;Scheduling;**[patch list]**;AUG 13, 1993
  
                             CHECK^XTSUMBLD results
  Routine name      Before Patch          After Patch         Patch List
  ============      ============          ===========         ==========
  SCAPMC12               1461904              1609156          41,204
  SCAPMC8A               2365501              2492739          177,204
  SCAPMCU3               4970759              4744623       41,45,177,204
  SCMCCV5                    N/A              4069844            204
  SCMCDD                12827432             12899387       41,51,177,204
  SCMCDDA                    N/A              1145492            204
  SCMCHL                 3499315              4281586          177,204
  SCMCHLB                2682646              2732193          177,204
  SCMCHLB2               2546291              4120516          177,204
  SCMCHLE                1655433              1843783          177,204
  SCMCLK                 6643624              6665115          177,204
  SCMCTPU2               3339062              3426173        41,148,204
  SCMCUT                 3928388              4780697        177,205,204
  SCMRBK                12141881             10660998        148,157,204
  SCUTBK3                3151906              2675796       41,51,177,204
  SD53A204                   N/A              3411408            204
  SD53B204                   N/A              2786973            204
  SD53P204                   N/A              1185023            204
  
 4.  The following is a list of client workstation files distributed with
 this patch.
  Name                   Size(KB)        Type
  ====                   ========        ====
  SD_53_P204.EXE         1,349           InstallShield 
  PCMM.EXE               1,336           Application
  PCMM.HLP                 117           Help

Routine Information:
====================

Routine Name:
  - SCAPMCU3


Routine Checksum:

Routine Name:
  - SCAPMC8A


Routine Checksum:

Routine Name:
  - SCMCCV5


Routine Checksum:

Routine Name:
  - SCMCTPU2


Routine Checksum:

Routine Name:
  - SCMCLK


Routine Checksum:

Routine Name:
  - SCMCHLB2


Routine Checksum:

Routine Name:
  - SCMCHL


Routine Checksum:

Routine Name:
  - SCMCHLB


Routine Checksum:

Routine Name:
  - SCMCHLE


Routine Checksum:

Routine Name:
  - SCMCUT


Routine Checksum:

Routine Name:
  - SCMCDD


Routine Checksum:

Routine Name:
  - SCMCDDA


Routine Checksum:

Routine Name:
  - SCUTBK3


Routine Checksum:

Routine Name:
  - SCAPMC12


Routine Checksum:

Routine Name:
  - SCMRBK


Routine Checksum:

Routine Name:
  - SD53A204


Routine Checksum:

Routine Name:
  - SD53B204


Routine Checksum:

Routine Name:
  - SD53P204


Routine Checksum:

=============================================================================
User Information:                               
Entered By  : URBANSKI,JOSEPH                Date Entered : OCT 05, 1999
Completed By: FLEGEL,CHRIS M               Date Completed: MAR 02, 2000
Released By : BROCKERT,JUDY                 Date Released : MAR 09, 2000
=============================================================================


Packman Mail Message:
=====================

$END TXT
