$TXT Created by GILMORE,JEREMY at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Tuesday, 04/07/09 at 14:55
=============================================================================
Run Date: SEP 24, 2009                     Designation: XM*8*41
Package : XM - MAILMAN                        Priority: Mandatory
Version : 8        SEQ #38                      Status: Released
                  Compliance Date: OCT 25, 2009
=============================================================================

Associated patches: (v)XM*8*15     <<= must be installed BEFORE `XM*8*41'

Subject: FIX SECURE KIDS BUILD ERROR AND CLEAN UP DIERR

Category: 
  - Routine

Description:
============

 This patch fixes two issues.  The first issue repairs an error 
 the user receives when trying to secure a KIDS build in Packman.
 The second issue occurs whenever Mailman's (XM) Application Programming
 Interface (API) is used.  This API's, XMXAPI, variable DIERR is being 
 "leaked" (not being NEW'd) which could cause other packages to fail and
 will continue to be an issue until it is cleaned up.
  
 ASSOCIATED REMEDY:
 ==================
 HD0000000309797 - Error when securing a build (KIDS) via PackMan
 HD0000000204887 - XMXAPI LEAK DI VARIABLES 
  
  
 ASSOCIATED NSR(s):
 ==================
 N/A
  
 PARTICIPATING TEST SITES:
 =========================
 Central TX HCS
 Montana HCS
 Bronx, NY                                                          
  
 REMEDY OVERVIEW:
 ================
 1. HD0000000309797 Error when securing a build (KIDS) via Packman
  
    Problem:
    --------
    A user is getting an undefined error when they try to secure a
    KIDS build in Packman from the "Transport a Distribution" menu
    option.
     
    Resolution:
    -----------
    The routine XMASEC was modified by setting XMPAKMAN=1 which identifies
    it to the system that it is a Packman message, ensuring all variables
    are set and allows the message to process properly.
  
 2. HD00000000204887  XMXAPI leak DI variables
  
    Problem:
    --------
    When calling the XMXAPI API's the DIERR variable is not being 
    cleaned up properly and this creates issues in other packages.
  
    Resolution:
    -----------
    Each API within XMXAPI was modified to NEW the DIERR variable so when 
    the API is finished the variable is cleaned up and is no longer leaked.
    
  
 INSTALLATION INSTRUCTIONS:
 ==========================
 It is not necessary to disable any options.  You may install 
 these routines at any time without interruption to users.  It should
 take less than 2 minutes to install this patch. 
  
 1.   LOAD TRANSPORT GLOBAL 
      ---------------------
      Choose the PackMan message containing this patch and invoke the
      INSTALL/CHECK MESSAGE PackMan option.  
  
 2.   START UP KIDS
      -------------
      Start up the Kernel Installation and Distribution System Menu
      [XPD MAIN]: 
  
             Edits and Distribution ...  
             Utilities ...  
             Installation ...
  
      Select Kernel Installation & Distribution System Option: INStallation
                                                               ---
             Load a Distribution 
             Print Transport Global 
             Compare Transport Global to Current System 
             Verify Checksums in Transport Global 
             Install Package(s)
             Restart Install of Package(s)
             Unload a Distribution 
             Backup a Transport Global 
  
 3.   Select Installation Option:
      ---------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
             NAME, enter XM*8.0*41):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed.  It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
  
 4.   Select Installation Option: Install Package(s)
  
      **This is the step to start the installation of this KIDS patch:
      a. Choose the Install Package(s) option to start the patch install.
      b. When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
         NO//' answer NO
      c. When prompted 'Want to DISABLE Scheduled Options, Menu Options,
         and Protocols? NO//' answer NO

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;8.0;MailMan;**[Patch List]**;Jun 28, 2002;Build 3

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: XMASEC
    Before:    B63884   After:    B92228  **41**
Routine Name: XMXAPI
    Before: B40492934   After: B50919089  **15,41**
 
Routine list of preceding patches: 15

=============================================================================
User Information:
Entered By  : GILMORE,JEREMY                Date Entered  : MAR 25, 2009
Completed By: TSAIMEUCHONG,BRENDA           Date Completed: SEP 09, 2009
Released By : NOSS,ROD                      Date Released : SEP 24, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
