Released LEX*2*70 SEQ #65
Extracted from mail message
**KIDS**:LEX*2.0*70^

**INSTALL NAME**
LEX*2.0*70
"BLD",7354,0)
LEX*2.0*70^LEXICON UTILITY^0^3100610^y
"BLD",7354,1,0)
^^2^2^3100511^
"BLD",7354,1,1,0)
Please see the National Patch Module for details of the enhancements
"BLD",7354,1,2,0)
included in this patch.
"BLD",7354,4,0)
^9.64PA^^
"BLD",7354,6.3)
2
"BLD",7354,"INIT")
POST^LEX2070P
"BLD",7354,"KRN",0)
^9.67PA^8989.52^19
"BLD",7354,"KRN",.4,0)
.4
"BLD",7354,"KRN",.401,0)
.401
"BLD",7354,"KRN",.402,0)
.402
"BLD",7354,"KRN",.403,0)
.403
"BLD",7354,"KRN",.5,0)
.5
"BLD",7354,"KRN",.84,0)
.84
"BLD",7354,"KRN",3.6,0)
3.6
"BLD",7354,"KRN",3.8,0)
3.8
"BLD",7354,"KRN",9.2,0)
9.2
"BLD",7354,"KRN",9.8,0)
9.8
"BLD",7354,"KRN",9.8,"NM",0)
^9.68A^6^6
"BLD",7354,"KRN",9.8,"NM",1,0)
LEX2070^^0^B106315683
"BLD",7354,"KRN",9.8,"NM",2,0)
LEX2070P^^0^B18927929
"BLD",7354,"KRN",9.8,"NM",3,0)
LEX2070A^^0^B37444381
"BLD",7354,"KRN",9.8,"NM",4,0)
LEX2070B^^0^B45954717
"BLD",7354,"KRN",9.8,"NM",5,0)
LEX2070C^^0^B44709747
"BLD",7354,"KRN",9.8,"NM",6,0)
LEX2070D^^0^B46178239
"BLD",7354,"KRN",9.8,"NM","B","LEX2070",1)

"BLD",7354,"KRN",9.8,"NM","B","LEX2070A",3)

"BLD",7354,"KRN",9.8,"NM","B","LEX2070B",4)

"BLD",7354,"KRN",9.8,"NM","B","LEX2070C",5)

"BLD",7354,"KRN",9.8,"NM","B","LEX2070D",6)

"BLD",7354,"KRN",9.8,"NM","B","LEX2070P",2)

"BLD",7354,"KRN",19,0)
19
"BLD",7354,"KRN",19,"NM",0)
^9.68A^^
"BLD",7354,"KRN",19.1,0)
19.1
"BLD",7354,"KRN",101,0)
101
"BLD",7354,"KRN",409.61,0)
409.61
"BLD",7354,"KRN",771,0)
771
"BLD",7354,"KRN",870,0)
870
"BLD",7354,"KRN",8989.51,0)
8989.51
"BLD",7354,"KRN",8989.52,0)
8989.52
"BLD",7354,"KRN",8994,0)
8994
"BLD",7354,"KRN","B",.4,.4)

"BLD",7354,"KRN","B",.401,.401)

"BLD",7354,"KRN","B",.402,.402)

"BLD",7354,"KRN","B",.403,.403)

"BLD",7354,"KRN","B",.5,.5)

"BLD",7354,"KRN","B",.84,.84)

"BLD",7354,"KRN","B",3.6,3.6)

"BLD",7354,"KRN","B",3.8,3.8)

"BLD",7354,"KRN","B",9.2,9.2)

"BLD",7354,"KRN","B",9.8,9.8)

"BLD",7354,"KRN","B",19,19)

"BLD",7354,"KRN","B",19.1,19.1)

"BLD",7354,"KRN","B",101,101)

"BLD",7354,"KRN","B",409.61,409.61)

"BLD",7354,"KRN","B",771,771)

"BLD",7354,"KRN","B",870,870)

"BLD",7354,"KRN","B",8989.51,8989.51)

"BLD",7354,"KRN","B",8989.52,8989.52)

"BLD",7354,"KRN","B",8994,8994)

"BLD",7354,"PRE")
LEX2070
"BLD",7354,"QDEF")
^^^^NO^^^^^^NO
"BLD",7354,"QUES",0)
^9.62^^
"BLD",7354,"REQB",0)
^9.611^1^1
"BLD",7354,"REQB",1,0)
LEX*2.0*69^2
"BLD",7354,"REQB","B","LEX*2.0*69",1)

"INIT")
POST^LEX2070P
"MBREQ")
0
"PKG",574,-1)
1^1
"PKG",574,0)
LEXICON UTILITY^LEX^Medical and Biomedical Terminology System.
"PKG",574,20,0)
^9.402P^^
"PKG",574,22,0)
^9.49I^1^1
"PKG",574,22,1,0)
2.0^2960915^2970127^520665222
"PKG",574,22,1,"PAH",1,0)
70^3100610
"PKG",574,22,1,"PAH",1,1,0)
^^2^2^3100610
"PKG",574,22,1,"PAH",1,1,1,0)
Please see the National Patch Module for details of the enhancements
"PKG",574,22,1,"PAH",1,1,2,0)
included in this patch.
"PRE")
LEX2070
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
6
"RTN","LEX2070")
0^1^B106315683^n/a
"RTN","LEX2070",1,0)
LEX2070 ;ISL/KER - LEX*2.0*70 Env Check ;06/09/2010
"RTN","LEX2070",2,0)
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
"RTN","LEX2070",3,0)
 ;               
"RTN","LEX2070",4,0)
 ; Global Variables
"RTN","LEX2070",5,0)
 ;    ^LEXM
"RTN","LEX2070",6,0)
 ;               
"RTN","LEX2070",7,0)
 ; External References
"RTN","LEX2070",8,0)
 ;    FIND^DIC            ICR   2051
"RTN","LEX2070",9,0)
 ;    EN^DIQ1             ICR  10015
"RTN","LEX2070",10,0)
 ;    $$FMTE^XLFDT        ICR  10103
"RTN","LEX2070",11,0)
 ;    $$PATCH^XPDUTL      ICR  10141
"RTN","LEX2070",12,0)
 ;    $$VERSION^XPDUTL    ICR  10141
"RTN","LEX2070",13,0)
 ;    BMES^XPDUTL         ICR  10141
"RTN","LEX2070",14,0)
 ;    MES^XPDUTL          ICR  10141
"RTN","LEX2070",15,0)
 ;               
"RTN","LEX2070",16,0)
 ; Local Variables Killed by Kernel after Install
"RTN","LEX2070",17,0)
 ;     XPDABORT,XPDDIQ,XPDQUIT
"RTN","LEX2070",18,0)
 ;     
"RTN","LEX2070",19,0)
 ; see Kernel Developer Guide
"RTN","LEX2070",20,0)
 ;     Chapter 14, KIDS Developer Tools
"RTN","LEX2070",21,0)
 ;     Advanced Build Techniques
"RTN","LEX2070",22,0)
 ;               
"RTN","LEX2070",23,0)
ENV ; Environment Check
"RTN","LEX2070",24,0)
 ;                    
"RTN","LEX2070",25,0)
 ;   General
"RTN","LEX2070",26,0)
 ;
"RTN","LEX2070",27,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR,LEXG,LEXE,LEXSTR D IMP
"RTN","LEX2070",28,0)
 K XPDDIQ("XPZ1","B"),XPDDIQ("XPI1","B") S XPDDIQ("XPZ1","B")="NO",XPDDIQ("XPI1","B")="NO"
"RTN","LEX2070",29,0)
 S LEXSTR=$G(LEXPTYPE) S:$L($G(LEXFY))&($L($G(LEXQTR))) LEXSTR=LEXSTR_" for "_$G(LEXFY)_" "_$G(LEXQTR)_" Quarter"
"RTN","LEX2070",30,0)
 D BM(LEXSTR),M("")
"RTN","LEX2070",31,0)
 S U="^"
"RTN","LEX2070",32,0)
 ;     No user
"RTN","LEX2070",33,0)
 D:+($$UR)'>0 ET("User not defined (DUZ)")
"RTN","LEX2070",34,0)
 ;     No IO
"RTN","LEX2070",35,0)
 D:+($$SY)'>0 ET("Undefined IO variable(s)")
"RTN","LEX2070",36,0)
 I $D(LEXE) D ABRT Q
"RTN","LEX2070",37,0)
 ;                    
"RTN","LEX2070",38,0)
 ;   Load Distribution
"RTN","LEX2070",39,0)
 ;
"RTN","LEX2070",40,0)
 ;     XPDENV = 0 Environment Check during Load
"RTN","LEX2070",41,0)
 ;
"RTN","LEX2070",42,0)
 ;       Check Version (2.0)
"RTN","LEX2070",43,0)
 I $$VERSION^XPDUTL("LEX")'="2.0" D  D ABRT Q
"RTN","LEX2070",44,0)
 . D ET("Version 2.0 not found.  Please install Lexicon Utility v 2.0")
"RTN","LEX2070",45,0)
 ;
"RTN","LEX2070",46,0)
 ;       Check Required Patches
"RTN","LEX2070",47,0)
 D:'$L($G(LEXREQP)) IMP I $L(LEXREQP) D
"RTN","LEX2070",48,0)
 . N LEXPAT,LEXI,LEXPN,LEXP,LEXR,LEXC,LEXO,LEXC1,LEXC2,LEXC3 S (LEXR,LEXC)=0 S LEXC1=5,(LEXC2,LEXC3)=20
"RTN","LEX2070",49,0)
 . F LEXI=1:1 Q:'$L($P(LEXREQP,";",LEXI))  S LEXC=LEXC+1,LEXPAT=$P(LEXREQP,";",LEXI) S:$P(LEXPAT,"^",2)?7N LEXR=LEXR+1,LEXC3=LEXC2+13
"RTN","LEX2070",50,0)
 . F LEXI=1:1 Q:'$L($P(LEXREQP,";",LEXI))  S LEXPAT=$P(LEXREQP,";",LEXI) D
"RTN","LEX2070",51,0)
 . . N LEXREL,LEXINS,LEXINE S LEXREL=$P(LEXPAT,"^",2),LEXPAT=$P(LEXPAT,"^",1)
"RTN","LEX2070",52,0)
 . . S LEXPN=$$PATCH^XPDUTL(LEXPAT),LEXINS=$$INS(LEXPAT),LEXINE=$P(LEXINS,"^",2)
"RTN","LEX2070",53,0)
 . . W:LEXI=1 !,?3,"Checking for ",?LEXC2,$S(+($G(LEXR))>0:"Released",1:"")
"RTN","LEX2070",54,0)
 . . W !,?LEXC1,LEXPAT
"RTN","LEX2070",55,0)
 . . I LEXREL?7N W ?LEXC2,$TR($$FMTE^XLFDT(LEXREL,"5DZ"),"@"," ")
"RTN","LEX2070",56,0)
 . . I +LEXPN>0 H 1 S LEXO=+($G(LEXO))+1 W ?LEXC3,"Installed " W:$L($G(LEXINE)) LEXINE
"RTN","LEX2070",57,0)
 . . I +LEXPN'>0 D ET((" "_LEXPAT_" not found, please install "_LEXPAT_" before continuing"))
"RTN","LEX2070",58,0)
 . W:+($G(LEXO))'=LEXC !
"RTN","LEX2070",59,0)
 I $D(LEXE) D ABRT Q
"RTN","LEX2070",60,0)
 S LEXG=$$RGBL
"RTN","LEX2070",61,0)
 I $D(LEXE)&(+LEXG=0) D ABRT Q
"RTN","LEX2070",62,0)
 I $D(LEXE)&(+LEXG<0) D ABRT Q
"RTN","LEX2070",63,0)
 I '$D(LEXFULL)&(+($G(XPDENV))'=1) D QUIT Q
"RTN","LEX2070",64,0)
 ;                    
"RTN","LEX2070",65,0)
 ;   Install Package(s)
"RTN","LEX2070",66,0)
 ;
"RTN","LEX2070",67,0)
 ;     XPDENV = 1 Environment Check during Install
"RTN","LEX2070",68,0)
 ;
"RTN","LEX2070",69,0)
 ;       Check Data "is installed" or "is translated"
"RTN","LEX2070",70,0)
 N LEXIT S LEXIT=+($$CPD) I '$D(LEXFULL)&(LEXIT) D QUIT Q
"RTN","LEX2070",71,0)
 ;       Checking Global "Write" Protection 
"RTN","LEX2070",72,0)
 D:+($G(XPDENV))=1 GBLS I $D(LEXE) D ABRT Q
"RTN","LEX2070",73,0)
 ;       Check Import Global Checksum 
"RTN","LEX2070",74,0)
 D:+($G(XPDENV))=1 CS I $D(LEXE) D ABRT Q
"RTN","LEX2070",75,0)
 ;                    
"RTN","LEX2070",76,0)
 ;   Quit, Exit or Abort
"RTN","LEX2070",77,0)
 ;
"RTN","LEX2070",78,0)
QUIT ;     Quit   Passed Environment Check
"RTN","LEX2070",79,0)
 K LEXFULL D OK
"RTN","LEX2070",80,0)
 Q
"RTN","LEX2070",81,0)
EXIT ;     Exit   Failed Environment Check
"RTN","LEX2070",82,0)
 D:$D(LEXE) ED S XPDQUIT=2 K LEXE,LEXFULL Q
"RTN","LEX2070",83,0)
ABRT ;     Abort  Failed Environment Check, KILL the distribution
"RTN","LEX2070",84,0)
 D:$D(LEXE) ED S XPDABORT=1,XPDQUIT=1 S:$L($G(LEXBUILD)) XPDQUIT(LEXBUILD)=1
"RTN","LEX2070",85,0)
 K LEXE,LEXFULL
"RTN","LEX2070",86,0)
 Q
"RTN","LEX2070",87,0)
ENV2 ; Environment Check (for testing only)
"RTN","LEX2070",88,0)
 N XPDENV S XPDENV=1 D ENV
"RTN","LEX2070",89,0)
 Q
"RTN","LEX2070",90,0)
 ;               
"RTN","LEX2070",91,0)
 ; Checks
"RTN","LEX2070",92,0)
 ;
"RTN","LEX2070",93,0)
GBLS ;   Check Write access on globals
"RTN","LEX2070",94,0)
 N LEXB1,LEXB2,LEXE,LEXGBL,LEXRT,LEXT,LEXF,LEXI,LEXX,LEXOK,LEXCPD,LEXS,X S LEXOK=1
"RTN","LEX2070",95,0)
 D BM("   I will now check the protection on ^LEX, ^ICPT, ^ICD and ^DIC Globals.")
"RTN","LEX2070",96,0)
 D M("   If you get an ERROR, you will need to change the protection on these")
"RTN","LEX2070",97,0)
 D M("   globals to allow read/write as indicated:")
"RTN","LEX2070",98,0)
 D BM("                        Owner     Group    World   Network")
"RTN","LEX2070",99,0)
 D M("      Cache systems      RWD       RW       RW      RWD")
"RTN","LEX2070",100,0)
 D BM("   Checking:"),M(" ")
"RTN","LEX2070",101,0)
 S LEXCPD=$$CPD,LEXS="",X=1 F LEXI=1:1 D  Q:'$L(LEXX)
"RTN","LEX2070",102,0)
 . S LEXX="" S LEXE="S LEXX=$T(GD+"_LEXI_")" X LEXE S LEXX=$$TRIM(LEXX) Q:'$L(LEXX)  Q:'$L($TR(LEXX,";",""))
"RTN","LEX2070",103,0)
 . S LEXGBL=$P(LEXX,";",3) Q:+LEXCPD>0&(LEXGBL="^LEXM(0)")  S LEXRT=$P(LEXX,";",4),LEXT=$P(LEXX,";",5),LEXF=$P(LEXX,";",6)
"RTN","LEX2070",104,0)
 . S (LEXB1,LEXB2)="",$P(LEXB1," ",(19-$L(LEXRT)))="",$P(LEXB2," ",(28-$L(LEXT)))=""
"RTN","LEX2070",105,0)
 . I '$D(@LEXGBL) D RGNF S LEXOK=0 D M(("      <"_LEXRT_" not found>")) Q
"RTN","LEX2070",106,0)
 . D M(("      "_LEXRT_LEXB1_LEXT_LEXB2_LEXF)) S @LEXGBL=$G(@LEXGBL) H 1
"RTN","LEX2070",107,0)
 D:LEXOK M("    --> ok") D:'LEXOK M("    ??") D M(" ")
"RTN","LEX2070",108,0)
 Q
"RTN","LEX2070",109,0)
RGBL(X) ;   Check Write access on globals
"RTN","LEX2070",110,0)
 N LEXCPD,LEXS,LEXI,LEXX,LEXEC,LEXGBL,LEXRT,LEXT,LEXF,LEXB1,LEXB2
"RTN","LEX2070",111,0)
 S LEXCPD=$$CPD,LEXS="",X=1 F LEXI=1:1 D  Q:'$L(LEXX)
"RTN","LEX2070",112,0)
 . S LEXX="" S LEXEC="S LEXX=$T(GD+"_LEXI_")" X LEXEC S LEXX=$$TRIM(LEXX) Q:'$L(LEXX)  Q:'$L($TR(LEXX,";",""))
"RTN","LEX2070",113,0)
 . S LEXGBL=$P(LEXX,";",3) Q:+LEXCPD>0&(LEXGBL="^LEXM(0)")  S LEXRT=$P(LEXX,";",4),LEXT=$P(LEXX,";",5),LEXF=$P(LEXX,";",6)
"RTN","LEX2070",114,0)
 . S (LEXB1,LEXB2)="",$P(LEXB1," ",(15-$L(LEXRT)))="",$P(LEXB2," ",(28-$L(LEXT)))=""
"RTN","LEX2070",115,0)
 . I '$D(@LEXGBL) S:LEXS'[LEXRT LEXS=LEXS_", "_LEXRT S X=-1 S:LEXGBL["LEXM("&(X=1) X=0
"RTN","LEX2070",116,0)
 I $L(LEXS),X'>0 D
"RTN","LEX2070",117,0)
 . S:LEXS[", " LEXS=$P(LEXS,", ",1,($L(LEXS,", ")-1))_" and "_$P(LEXS,", ",$L(LEXS,", "))
"RTN","LEX2070",118,0)
 . S:$E(LEXS,1,2)=", " LEXS=$E(LEXS,3,$L(LEXS)) S:$E(LEXS,1,7)[" and " LEXS=$P(LEXS," and ",2)
"RTN","LEX2070",119,0)
 . D:X=-1 ET(("Global"_$S(LEXS[", "!(LEXS[" and "):"s",1:"")_" "_LEXS_" either not found or incomplete."))
"RTN","LEX2070",120,0)
 . D:X=0 CM
"RTN","LEX2070",121,0)
 Q X
"RTN","LEX2070",122,0)
RGNF ;   Required global not found
"RTN","LEX2070",123,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP
"RTN","LEX2070",124,0)
 D:$G(LEXGBL)["^LEX"&($G(LEXGBL)'["^LEXM") ET(""),ET("Required global "_$P($G(LEXGBL),"(",1)_" not found.")
"RTN","LEX2070",125,0)
 D:$G(LEXGBL)["^LEX"&($G(LEXGBL)["^LEXM") CM
"RTN","LEX2070",126,0)
 Q
"RTN","LEX2070",127,0)
INS(X) ;   Installed on
"RTN","LEX2070",128,0)
 N DA,LEXDA,LEXE,LEXI,LEXMSG,LEXNS,LEXOUT,LEXPI,LEXPN,LEXSCR,LEXVI,LEXVR S LEXNS=$P(X,"*",1),LEXVR=$P(X,"*",2),LEXPN=$P(X,"*",3)
"RTN","LEX2070",129,0)
 Q:'$L(LEXNS) ""  S LEXVR=+LEXVR Q:LEXVR'>0 ""  S LEXPN=+LEXPN Q:+LEXPN'>0 ""  S:LEXVR'["." LEXVR=LEXVR_".0"
"RTN","LEX2070",130,0)
 S LEXSCR="I $G(^DIC(9.4,+($G(Y)),""VERSION""))="""_LEXVR_""""
"RTN","LEX2070",131,0)
 D FIND^DIC(9.4,,.01,"O",LEXNS,10,"C",LEXSCR,,"LEXOUT","LEXMSG")
"RTN","LEX2070",132,0)
 S LEXPI=$G(LEXOUT("DILIST",2,1)) K LEXOUT,LEXMSG Q:+LEXPI'>0 ""  Q:'$D(@("^DIC(9.4,"_LEXPI_",22)")) ""
"RTN","LEX2070",133,0)
 K DA S DA(1)=LEXPI S LEXDA=$$IENS^DILF(.DA)
"RTN","LEX2070",134,0)
 D FIND^DIC(9.49,LEXDA,.01,"O",LEXVR,10,"B",,,"LEXOUT","LEXMSG")
"RTN","LEX2070",135,0)
 S LEXVI=$G(LEXOUT("DILIST",2,1)) K LEXOUT,LEXMSG Q:+LEXVI'>0 ""  Q:'$D(@("^DIC(9.4,"_LEXPI_",22,"_LEXVI_",""PAH"")")) ""
"RTN","LEX2070",136,0)
 K DA S DA(2)=LEXPI,DA(1)=LEXVI S LEXDA=$$IENS^DILF(.DA)
"RTN","LEX2070",137,0)
 S LEXSCR="I $G(^DIC(9.4,"_LEXPI_",22,"_LEXVI_",""PAH"",+($G(Y)),0))[""SEQ #"""
"RTN","LEX2070",138,0)
 D FIND^DIC(9.4901,LEXDA,".01;.02I",,LEXPN,10,"B",LEXSCR,,"LEXOUT","LEXMSG")
"RTN","LEX2070",139,0)
 S LEXI=$G(LEXOUT("DILIST","ID",1,.02)) Q:'$L(LEXI) ""  Q:$P(LEXI,".",1)'?7N ""
"RTN","LEX2070",140,0)
 S LEXE=$TR($$FMTE^XLFDT(LEXI,"5DZ"),"@"," ") Q:'$L(LEXE) ""  S X=LEXI_"^"_LEXE
"RTN","LEX2070",141,0)
 Q X
"RTN","LEX2070",142,0)
CHK ;   Check the Checksum
"RTN","LEX2070",143,0)
 D CS I $D(LEXE) D ED Q
"RTN","LEX2070",144,0)
 D BM("  OK"),M(" ")
"RTN","LEX2070",145,0)
 Q
"RTN","LEX2070",146,0)
CS ;   Checksum for import global
"RTN","LEX2070",147,0)
 K LEXE D BM("   Running checksum routine on the ^LEXM import global, please wait")
"RTN","LEX2070",148,0)
 N LEXCK,LEXND,LEXV S LEXCK=+($G(^LEXM(0,"CHECKSUM")))
"RTN","LEX2070",149,0)
 S LEXND=+($G(^LEXM(0,"NODES"))),LEXV=+($$VC(LEXCK,LEXND))
"RTN","LEX2070",150,0)
 D M(" ") D:LEXV>0 M("     Checksum is ok"),M(" ")
"RTN","LEX2070",151,0)
 D:LEXV=0 CM D:LEXV=-1 CW D:LEXV=-2 CU D:LEXV=-3 CF
"RTN","LEX2070",152,0)
 Q
"RTN","LEX2070",153,0)
VC(X,Y) ;   Verify Checksum for import global
"RTN","LEX2070",154,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR Q:'$D(^LEXM) 0
"RTN","LEX2070",155,0)
 D IMP I $G(^LEXM(0,"BUILD"))'=$G(LEXBUILD) Q -1
"RTN","LEX2070",156,0)
 N LEXCK,LEXND,LEXCNT,LEXLC,LEXL,LEXS,LEXNC,LEXD,LEXN,LEXC,LEXGCS,LEXP,LEXT
"RTN","LEX2070",157,0)
 S LEXCK=+($G(X)),LEXND=+($G(Y))
"RTN","LEX2070",158,0)
 Q:LEXCK'>0!(LEXND'>0) -2
"RTN","LEX2070",159,0)
 S LEXL=64,(LEXCNT,LEXLC)=0,LEXS=(+(LEXND\LEXL))
"RTN","LEX2070",160,0)
 S:LEXS=0 LEXS=1 D:+($O(^LEXM(0)))>0 M("")
"RTN","LEX2070",161,0)
 S (LEXC,LEXN)="^LEXM",(LEXNC,LEXGCS)=0 W "   "
"RTN","LEX2070",162,0)
 F  S LEXN=$Q(@LEXN) Q:LEXN=""!(LEXN'[LEXC)  D
"RTN","LEX2070",163,0)
 . Q:LEXN="^LEXM(0,""CHECKSUM"")"
"RTN","LEX2070",164,0)
 . Q:LEXN="^LEXM(0,""NODES"")"
"RTN","LEX2070",165,0)
 . S LEXCNT=LEXCNT+1
"RTN","LEX2070",166,0)
 . I LEXCNT'<LEXS S LEXLC=LEXLC+1 W:LEXLC'>LEXL "." S LEXCNT=0
"RTN","LEX2070",167,0)
 . S LEXNC=LEXNC+1,LEXD=@LEXN,LEXT=LEXN_"="_LEXD
"RTN","LEX2070",168,0)
 . F LEXP=1:1:$L(LEXT) S LEXGCS=$A(LEXT,LEXP)*LEXP+LEXGCS
"RTN","LEX2070",169,0)
 Q:LEXNC'=LEXND -3
"RTN","LEX2070",170,0)
 Q:LEXGCS'=LEXCK -3
"RTN","LEX2070",171,0)
 Q 1
"RTN","LEX2070",172,0)
SY(X) ;   Check System variables
"RTN","LEX2070",173,0)
 Q:'$D(IO)!('$D(IOF))!('$D(IOM))!('$D(ION))!('$D(IOSL))!('$D(IOST)) 0
"RTN","LEX2070",174,0)
 Q 1
"RTN","LEX2070",175,0)
UR(X) ;   Check User variables
"RTN","LEX2070",176,0)
 Q:'$L($G(DUZ(0))) 0
"RTN","LEX2070",177,0)
 Q:+($G(DUZ))=0!($$NOTDEF(+$G(DUZ))) 0
"RTN","LEX2070",178,0)
 Q 1
"RTN","LEX2070",179,0)
CPD(X) ;   Check Current Patched Data is installed
"RTN","LEX2070",180,0)
 N INS S INS=1
"RTN","LEX2070",181,0)
 Q 0
"RTN","LEX2070",182,0)
 ;               
"RTN","LEX2070",183,0)
 ; Error messages
"RTN","LEX2070",184,0)
 ;
"RTN","LEX2070",185,0)
CM ;   Missing ^LEXM
"RTN","LEX2070",186,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP D ET(""),ET("Missing import global ^LEXM.") D CO
"RTN","LEX2070",187,0)
 Q
"RTN","LEX2070",188,0)
CW ;   Wrong ^LEXM
"RTN","LEX2070",189,0)
 N LEXB,LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP S LEXB=$G(^LEXM(0,"BUILD")) D ET("")
"RTN","LEX2070",190,0)
 I $L(LEXBUILD),$L(LEXB),LEXBUILD'=LEXB D  Q
"RTN","LEX2070",191,0)
 . D ET(("Incorrect import global ^LEXM found ("_LEXB_" global).")) D CKO
"RTN","LEX2070",192,0)
 D ET("Incorrect import global ^LEXM found.") D CKO
"RTN","LEX2070",193,0)
 Q
"RTN","LEX2070",194,0)
CU ;   Unable to verify
"RTN","LEX2070",195,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP D ET(""),ET("Unable to verify checksum for import global ^LEXM (possibly corrupt).") D CKO
"RTN","LEX2070",196,0)
 Q
"RTN","LEX2070",197,0)
CF ;   Failed checksum
"RTN","LEX2070",198,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP D ET("") D ET("Import global ^LEXM failed checksum.") D CKO
"RTN","LEX2070",199,0)
 Q
"RTN","LEX2070",200,0)
CO ;   Obtain new global
"RTN","LEX2070",201,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP
"RTN","LEX2070",202,0)
 D ET(""),ET("    Please obtain a copy of the import global ^LEXM contained in the ")
"RTN","LEX2070",203,0)
 D ET(("    global host file "_LEXIGHF_" before continuing with the "_LEXBUILD))
"RTN","LEX2070",204,0)
 D ET(("    installation."))
"RTN","LEX2070",205,0)
 Q
"RTN","LEX2070",206,0)
TEST ;
"RTN","LEX2070",207,0)
 D CW,ED
"RTN","LEX2070",208,0)
 Q
"RTN","LEX2070",209,0)
CKO ;   Kill and Obtain new global
"RTN","LEX2070",210,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR D IMP D ET("")
"RTN","LEX2070",211,0)
 D ET(("    Use the entry point KALL^LEXXGI2 to safely KILL the existing "))
"RTN","LEX2070",212,0)
 D ET(("    import global ^LEXM from your system.  Then obtain a new copy"))
"RTN","LEX2070",213,0)
 D ET(("    of ^LEXM contained in the global host file "_LEXIGHF_" before"))
"RTN","LEX2070",214,0)
 D ET(("    continuing with the "_LEXBUILD_" installation."))
"RTN","LEX2070",215,0)
 Q
"RTN","LEX2070",216,0)
ET(X) ;   Error Text
"RTN","LEX2070",217,0)
 N LEXI S LEXI=+($G(LEXE(0))),LEXI=LEXI+1,LEXE(LEXI)="    "_$G(X),LEXE(0)=LEXI
"RTN","LEX2070",218,0)
 Q
"RTN","LEX2070",219,0)
ED ;   Error Display
"RTN","LEX2070",220,0)
 N LEXI S LEXI=0 F  S LEXI=$O(LEXE(LEXI)) Q:+LEXI=0  D M(LEXE(LEXI))
"RTN","LEX2070",221,0)
 D M(" ") K LEXE Q
"RTN","LEX2070",222,0)
 ;                   
"RTN","LEX2070",223,0)
 ; Miscellaneous
"RTN","LEX2070",224,0)
 ;
"RTN","LEX2070",225,0)
NOTDEF(IEN) ;   Check to see if user is defined
"RTN","LEX2070",226,0)
 N DA,DR,DIQ,LEX,DIC S DA=IEN,DR=.01,DIC=200,DIQ="LEX" D EN^DIQ1 Q '$D(LEX)
"RTN","LEX2070",227,0)
OK ;   Environment is OK
"RTN","LEX2070",228,0)
 N LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR,LEXT
"RTN","LEX2070",229,0)
 D IMP S LEXT="  Environment "_$S($L(LEXBUILD):("for patch/build "_LEXBUILD_" "),1:"")_"is ok"
"RTN","LEX2070",230,0)
 D BM(LEXT),M(" ")
"RTN","LEX2070",231,0)
 Q
"RTN","LEX2070",232,0)
BM(X) ;   Blank Line with Message
"RTN","LEX2070",233,0)
 S X=$G(X) S:$E(X,1)'=" " X=" "_X D BMES^XPDUTL(X) Q
"RTN","LEX2070",234,0)
M(X) ;   Message
"RTN","LEX2070",235,0)
 S X=$G(X) S:$E(X,1)'=" " X=" "_X D MES^XPDUTL(X) Q
"RTN","LEX2070",236,0)
TRIM(X) ;   Trim Spaces
"RTN","LEX2070",237,0)
 S X=$G(X) F  Q:$E(X,1)'=" "  S X=$E(X,2,$L(X))
"RTN","LEX2070",238,0)
 F  Q:$E(X,$L(X))'=" "  S X=$E(X,1,($L(X)-1))
"RTN","LEX2070",239,0)
 Q X
"RTN","LEX2070",240,0)
IMP ;   Import names
"RTN","LEX2070",241,0)
 ;     Patch Type
"RTN","LEX2070",242,0)
 S LEXPTYPE="Code Set Remedy Ticket Fixes"
"RTN","LEX2070",243,0)
 S LEXPTYPE="Code Set Update"
"RTN","LEX2070",244,0)
 ;     Revision
"RTN","LEX2070",245,0)
 S LEXLREV=70
"RTN","LEX2070",246,0)
 ;     Required Builds
"RTN","LEX2070",247,0)
 S LEXREQP="LEX*2.0*69^3100426"
"RTN","LEX2070",248,0)
 ;     This Build Name
"RTN","LEX2070",249,0)
 S LEXBUILD="LEX*2.0*70"
"RTN","LEX2070",250,0)
 ;     This Build's Export Global Host Filename
"RTN","LEX2070",251,0)
 S LEXIGHF="LEX_2_70.GBL"
"RTN","LEX2070",252,0)
 ;     Fiscal Year
"RTN","LEX2070",253,0)
 S LEXFY="FY10"
"RTN","LEX2070",254,0)
 ;     Quarter
"RTN","LEX2070",255,0)
 S LEXQTR="4th"
"RTN","LEX2070",256,0)
 Q
"RTN","LEX2070",257,0)
EF ;   Exported Files
"RTN","LEX2070",258,0)
 ;;^LEX(757.01);^LEX(*;Lexicon;757-757.41
"RTN","LEX2070",259,0)
 ;;
"RTN","LEX2070",260,0)
 ;;^LEXT(757.2);^LEXT(757.2);Lexicon Subsets/Defaults;757.2
"RTN","LEX2070",261,0)
 ;;
"RTN","LEX2070",262,0)
 ;;^ICPT(0);^ICPT(;CPT/HCPCS;81
"RTN","LEX2070",263,0)
 ;;^DIC(81.1,0);^DIC(81.1);CPT Category;81.1
"RTN","LEX2070",264,0)
 ;;^DIC(81.2,0);^DIC(81.2);CPT Copyright;81.2
"RTN","LEX2070",265,0)
 ;;^DIC(81.3,0);^DIC(81.3);CPT Modifier;81.3
"RTN","LEX2070",266,0)
 ;;
"RTN","LEX2070",267,0)
 ;;^ICD9(0);^ICD9(;ICD Diagnosis;80
"RTN","LEX2070",268,0)
 ;;^ICD0(0);^ICD0(;ICD Operation/Procedure;80.1
"RTN","LEX2070",269,0)
 ;;^ICD(0);^ICD(;DRG Grouper;80.2
"RTN","LEX2070",270,0)
 ;;^ICM(0);^ICM(;MAJOR DIAGNOSTIC CATEGORY;80.3
"RTN","LEX2070",271,0)
 Q
"RTN","LEX2070",272,0)
GD ;   Global Data
"RTN","LEX2070",273,0)
 ;;^ICPT(0);^ICPT(;CPT/HCPCS;81
"RTN","LEX2070",274,0)
 ;;^DIC(81.3,0);^DIC(81.3);CPT Modifier;81.3
"RTN","LEX2070",275,0)
 ;;^LEX(757.01);^LEX(*;Lexicon;757-757.41
"RTN","LEX2070A")
0^3^B37444381^n/a
"RTN","LEX2070A",1,0)
LEX2070A ;ISL/KER - LEX*2.0*70 Pre/Post Install ;06/09/2010
"RTN","LEX2070A",2,0)
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
"RTN","LEX2070A",3,0)
 ;               
"RTN","LEX2070A",4,0)
 ; Global Variables
"RTN","LEX2070A",5,0)
 ;    ^DIC(81.3,          ICR   4492
"RTN","LEX2070A",6,0)
 ;               
"RTN","LEX2070A",7,0)
 ; External References
"RTN","LEX2070A",8,0)
 ;    BMES^XPDUTL         ICR  10141
"RTN","LEX2070A",9,0)
 ;               
"RTN","LEX2070A",10,0)
 ; Local Variables NEWed or KILLed Elsewhere
"RTN","LEX2070A",11,0)
 ;    None
"RTN","LEX2070A",12,0)
 ;               
"RTN","LEX2070A",13,0)
EN ; Main Entry Point
"RTN","LEX2070A",14,0)
 N LEXLI,LEXRI S LEXLI=$O(^DIC(81.3,"B","LT",0)) Q:+LEXLI'>0  S LEXRI=$O(^DIC(81.3,"B","RT",0)) Q:+LEXRI'>0
"RTN","LEX2070A",15,0)
 D BMES^XPDUTL(" Updating CPT Ranges for Modifiers LT and RT")
"RTN","LEX2070A",16,0)
 D DR^LEX2070C(LEXLI),DR^LEX2070C(LEXRI),EN^LEX2070B,RR^LEX2070D(LEXLI),RR^LEX2070D(LEXRI)
"RTN","LEX2070A",17,0)
 Q 
"RTN","LEX2070A",18,0)
LR ;; Left/Right
"RTN","LEX2070A",19,0)
 ;;LR;;0002T;;0002T;;01/01/2002;;01/01/2004
"RTN","LEX2070A",20,0)
 ;;LR;;0005T;;0006T;;01/01/2002;;01/01/2003
"RTN","LEX2070A",21,0)
 ;;LR;;0005T;;0005T;;01/01/2003;;01/01/2005
"RTN","LEX2070A",22,0)
 ;;LR;;0006T;;0006T;;01/01/2003;;01/01/2005
"RTN","LEX2070A",23,0)
 ;;LR;;0012T;;0013T;;01/01/2002;;01/01/2005
"RTN","LEX2070A",24,0)
 ;;LR;;0014T;;0014T;;01/01/2002;;01/01/2005
"RTN","LEX2070A",25,0)
 ;;LR;;0016T;;0016T;;01/01/2002;;01/01/2005
"RTN","LEX2070A",26,0)
 ;;LR;;0017T;;0017T;;01/01/2002;;01/01/2005
"RTN","LEX2070A",27,0)
 ;;LR;;0019T;;0020T;;01/01/2002;;01/01/2003
"RTN","LEX2070A",28,0)
 ;;LR;;0037T;;0037T;;01/01/2003;;01/01/2005
"RTN","LEX2070A",29,0)
 ;;LR;;0213T;;0214T;;01/01/2010
"RTN","LEX2070A",30,0)
 ;;LR;;0216T;;0218T;;01/01/2010
"RTN","LEX2070A",31,0)
 ;;LR;;11010;;11044;;01/01/1999
"RTN","LEX2070A",32,0)
 ;;LR;;11300;;11463;;01/01/1999
"RTN","LEX2070A",33,0)
 ;;LR;;11600;;11646;;01/01/1999
"RTN","LEX2070A",34,0)
 ;;LR;;11730;;11765;;01/01/2003
"RTN","LEX2070A",35,0)
 ;;LR;;11740;;11765;;01/01/1999;;01/01/2003
"RTN","LEX2070A",36,0)
 ;;LR;;11960;;11971;;01/01/1999
"RTN","LEX2070A",37,0)
 ;;LR;;14020;;14350;;01/01/1999
"RTN","LEX2070A",38,0)
 ;;LR;;15050;;15050;;01/01/1999
"RTN","LEX2070A",39,0)
 ;;LR;;15572;;15580;;01/01/1999;;01/01/2001
"RTN","LEX2070A",40,0)
 ;;LR;;15572;;15576;;01/01/2002
"RTN","LEX2070A",41,0)
 ;;LR;;15610;;15630;;01/01/1999
"RTN","LEX2070A",42,0)
 ;;LR;;15732;;15732;;01/01/1999
"RTN","LEX2070A",43,0)
 ;;LR;;15736;;15738;;01/01/1999
"RTN","LEX2070A",44,0)
 ;;LR;;15820;;15823;;01/01/1999;;01/01/2005
"RTN","LEX2070A",45,0)
 ;;LR;;15820;;15829;;01/01/2005
"RTN","LEX2070A",46,0)
 ;;LR;;15825;;15825;;01/01/1999;;01/01/2005
"RTN","LEX2070A",47,0)
 ;;LR;;15828;;15829;;01/01/1999;;01/01/2005
"RTN","LEX2070A",48,0)
 ;;LR;;15832;;15837;;01/01/1999
"RTN","LEX2070A",49,0)
 ;;LR;;15840;;15845;;01/01/1999
"RTN","LEX2070A",50,0)
 ;;LR;;15878;;15879;;01/01/1999
"RTN","LEX2070A",51,0)
 ;;LR;;15940;;15958;;01/01/1999
"RTN","LEX2070A",52,0)
 ;;LR;;17260;;17286;;01/01/1999
"RTN","LEX2070A",53,0)
 ;;LR;;19000;;19240;;01/01/1999
"RTN","LEX2070A",54,0)
 ;;LR;;19290;;19350;;01/01/1999;;01/01/2005
"RTN","LEX2070A",55,0)
 ;;LR;;19290;;19396;;01/01/2005
"RTN","LEX2070A",56,0)
 ;;LR;;19357;;19368;;01/01/1999;;01/01/2005
"RTN","LEX2070A",57,0)
 ;;LR;;19370;;19396;;01/01/1999;;01/01/2005
"RTN","LEX2070A",58,0)
 ;;LR;;20100;;20100;;01/01/2005
"RTN","LEX2070A",59,0)
 ;;LR;;20103;;20150;;01/01/2005
"RTN","LEX2070A",60,0)
 ;;LR;;2010F;;2014F;;01/01/2005
"RTN","LEX2070A",61,0)
 ;;LR;;20220;;20245;;01/01/2005
"RTN","LEX2070A",62,0)
 ;;LR;;2022F;;2022F;;01/01/2005
"RTN","LEX2070A",63,0)
 ;;LR;;20526;;20610;;01/01/2002;;01/01/2003
"RTN","LEX2070A",64,0)
 ;;LR;;20526;;20551;;01/01/2003
"RTN","LEX2070A",65,0)
 ;;LR;;20550;;20610;;01/01/1999
"RTN","LEX2070A",66,0)
 ;;LR;;20600;;20612;;01/01/2003
"RTN","LEX2070A",67,0)
 ;;LR;;20650;;20650;;01/01/1999
"RTN","LEX2070A",68,0)
 ;;LR;;20663;;20663;;01/01/1999
"RTN","LEX2070A",69,0)
 ;;LR;;20670;;20838;;01/01/1999
"RTN","LEX2070A",70,0)
 ;;LR;;20931;;20931;;01/01/2005
"RTN","LEX2070A",71,0)
 ;;LR;;20937;;20938;;01/01/2005
"RTN","LEX2070A",72,0)
 ;;LR;;20955;;20957;;01/01/2005
"RTN","LEX2070A",73,0)
 ;;LR;;20970;;20973;;01/01/2005
"RTN","LEX2070A",74,0)
 ;;LR;;20982;;21010;;01/01/2005
"RTN","LEX2070A",75,0)
 ;;LR;;21010;;21010;;01/01/1999;;01/01/2005
"RTN","LEX2070A",76,0)
 ;;LR;;21025;;21031;;01/01/1999
"RTN","LEX2070A",77,0)
 ;;LR;;21034;;21070;;01/01/2005
"RTN","LEX2070A",78,0)
 ;;LR;;21034;;21070;;01/01/1999;;01/01/2003
"RTN","LEX2070A",79,0)
 ;;LR;;21034;;21040;;01/01/2003;;01/01/2005
"RTN","LEX2070A",80,0)
 ;;LR;;21044;;21070;;01/01/2003;;01/01/2005
"RTN","LEX2070A",81,0)
 ;;LR;;21077;;21077;;01/01/1999
"RTN","LEX2070A",82,0)
 ;;LR;;21081;;21081;;01/01/1999
"RTN","LEX2070A",83,0)
 ;;LR;;21086;;21086;;01/01/1999
"RTN","LEX2070A",84,0)
 ;;LR;;21116;;21116;;01/01/1999
"RTN","LEX2070A",85,0)
 ;;LR;;21125;;21127;;01/01/1999
"RTN","LEX2070A",86,0)
 ;;LR;;21198;;21198;;01/01/1999
"RTN","LEX2070A",87,0)
 ;;LR;;21208;;21243;;01/01/1999
"RTN","LEX2070A",88,0)
 ;;LR;;21247;;21247;;01/01/1999
"RTN","LEX2070A",89,0)
 ;;LR;;21255;;21270;;01/01/1999
"RTN","LEX2070A",90,0)
 ;;LR;;21280;;21296;;01/01/1999
"RTN","LEX2070A",91,0)
 ;;LR;;21355;;21408;;01/01/1999
"RTN","LEX2070A",92,0)
 ;;LR;;21440;;21490;;01/01/1999
"RTN","LEX2070A",93,0)
 ;;LR;;21501;;21501;;01/01/1999
"RTN","LEX2070A",94,0)
 ;;LR;;21600;;21616;;01/01/1999
"RTN","LEX2070A",95,0)
 ;;LR;;21700;;21725;;01/01/1999
"RTN","LEX2070A",96,0)
 ;;LR;;21800;;21810;;01/01/1999
"RTN","LEX2070A",97,0)
 ;;LR;;22216;;22216;;01/01/2005
"RTN","LEX2070A",98,0)
 ;;LR;;22226;;22226;;01/01/2005
"RTN","LEX2070A",99,0)
 ;;LR;;23000;;23921;;01/01/1999;;01/01/2005
"RTN","LEX2070A",100,0)
 ;;LR;;23000;;26550;;01/01/2005
"RTN","LEX2070A",101,0)
 ;;LR;;23930;;24940;;01/01/1999;;01/01/2005
"RTN","LEX2070A",102,0)
 ;;LR;;25000;;25931;;01/01/1999;;01/01/2005
"RTN","LEX2070A",103,0)
 ;;LR;;26010;;26550;;01/01/1999;;01/01/2005
"RTN","LEX2070A",104,0)
 ;;LR;;26553;;26952;;01/01/1999;;01/01/2003
"RTN","LEX2070A",105,0)
 ;;LR;;26553;;26580;;01/01/2003;;01/01/2005
"RTN","LEX2070A",106,0)
 ;;LR;;26553;;27079;;01/01/2005
"RTN","LEX2070A",107,0)
 ;;LR;;26587;;26596;;01/01/2003;;01/01/2005
"RTN","LEX2070A",108,0)
 ;;LR;;26600;;26952;;01/01/2003;;01/01/2005
"RTN","LEX2070A",109,0)
 ;;LR;;26990;;27079;;01/01/1999;;01/01/2005
"RTN","LEX2070A",110,0)
 ;;LR;;27086;;27156;;01/01/1999
"RTN","LEX2070A",111,0)
 ;;LR;;27161;;27187;;01/01/1999;;01/01/2005
"RTN","LEX2070A",112,0)
 ;;LR;;27161;;27193;;01/01/2005
"RTN","LEX2070A",113,0)
 ;;LR;;27215;;27215;;01/01/1999
"RTN","LEX2070A",114,0)
 ;;LR;;27220;;27280;;01/01/1999
"RTN","LEX2070A",115,0)
 ;;LR;;27284;;27295;;01/01/1999;;01/01/2005
"RTN","LEX2070A",116,0)
 ;;LR;;27284;;27390;;01/01/2005
"RTN","LEX2070A",117,0)
 ;;LR;;27301;;27390;;01/01/1999;;01/01/2005
"RTN","LEX2070A",118,0)
 ;;LR;;27393;;27393;;01/01/1999
"RTN","LEX2070A",119,0)
 ;;LR;;27396;;27598;;01/01/1999;;01/01/2005
"RTN","LEX2070A",120,0)
 ;;LR;;27396;;28825;;01/01/2005
"RTN","LEX2070A",121,0)
 ;;LR;;27600;;27894;;01/01/1999;;01/01/2005
"RTN","LEX2070A",122,0)
 ;;LR;;28001;;28825;;01/01/1999;;01/01/2005
"RTN","LEX2070A",123,0)
 ;;LR;;29065;;29131;;01/01/1999
"RTN","LEX2070A",124,0)
 ;;LR;;29240;;29280;;01/01/1999
"RTN","LEX2070A",125,0)
 ;;LR;;29345;;29515;;01/01/1999
"RTN","LEX2070A",126,0)
 ;;LR;;29530;;29705;;01/01/1999;;01/01/2005
"RTN","LEX2070A",127,0)
 ;;LR;;29530;;29710;;01/01/2005
"RTN","LEX2070A",128,0)
 ;;LR;;29730;;29750;;01/01/1999;;01/01/2005
"RTN","LEX2070A",129,0)
 ;;LR;;29730;;29902;;01/01/2005
"RTN","LEX2070A",130,0)
 ;;LR;;29800;;29898;;01/01/1999
"RTN","LEX2070A",131,0)
 ;;LR;;29800;;29902;;01/01/2002;;01/01/2003
"RTN","LEX2070A",132,0)
 ;;LR;;29800;;29807;;01/01/2003;;01/01/2005
"RTN","LEX2070A",133,0)
 ;;LR;;29819;;29902;;01/01/2003;;01/01/2005
"RTN","LEX2070A",134,0)
 ;;LR;;30100;;30118;;01/01/1999
"RTN","LEX2070A",135,0)
 ;;LR;;30130;;30140;;01/01/1999
"RTN","LEX2070A",136,0)
 ;;LR;;30200;;30210;;01/01/1999
"RTN","LEX2070A",137,0)
 ;;LR;;3020F;;3020F;;01/01/1999
"RTN","LEX2070A",138,0)
 ;;LR;;30300;;30320;;01/01/1999
"RTN","LEX2070A",139,0)
 ;;LR;;30560;;30560;;01/01/1999
"RTN","LEX2070A",140,0)
 ;;LR;;30901;;30930;;01/01/1999;;01/01/2005
"RTN","LEX2070A",141,0)
 ;;LR;;30901;;31230;;01/01/2005
"RTN","LEX2070A",142,0)
 ;;LR;;31000;;31230;;01/01/1999;;01/01/2005
"RTN","LEX2070A",143,0)
 ;;LR;;31233;;31294;;01/01/1999
"RTN","LEX2070A",144,0)
 ;;LR;;31595;;31595;;01/01/1999
"RTN","LEX2070A",145,0)
 ;;LR;;31623;;31631;;01/01/2005
"RTN","LEX2070A",146,0)
 ;;LR;;31635;;31635;;01/01/2005
"RTN","LEX2070A",147,0)
 ;;LR;;31638;;31656;;01/01/2005
"RTN","LEX2070A",148,0)
 ;;LR;;31708;;31715;;01/01/2005
"RTN","LEX2070A",149,0)
 ;;LR;;32000;;32000;;01/01/1999;;01/01/2003
"RTN","LEX2070A",150,0)
 ;;LR;;32000;;32151;;01/01/2003;;01/01/2005
"RTN","LEX2070A",151,0)
 ;;LR;;32000;;32005;;01/01/2005
"RTN","LEX2070A",152,0)
 ;;LR;;32002;;32151;;01/01/1999;;01/01/2003
"RTN","LEX2070A",153,0)
 ;;LR;;32020;;32151;;01/01/2005
"RTN","LEX2070A",154,0)
 ;;LR;;32200;;32420;;01/01/1999
"RTN","LEX2070A",155,0)
 ;;LR;;32491;;32491;;01/01/2005
"RTN","LEX2070A",156,0)
 ;;LR;;32501;;32501;;01/01/2005
"RTN","LEX2070A",157,0)
 ;;LR;;32664;;32664;;01/01/2002
"RTN","LEX2070A",158,0)
 ;;LR;;32900;;32960;;01/01/1999
"RTN","LEX2070A",159,0)
 ;;LR;;33141;;33141;;01/01/2005
"RTN","LEX2070A",160,0)
 ;;LR;;33508;;33508;;01/01/2005
"RTN","LEX2070A",161,0)
 ;;LR;;34001;;34501;;01/01/1999
"RTN","LEX2070A",162,0)
 ;;LR;;34510;;34530;;01/01/2005
"RTN","LEX2070A",163,0)
 ;;LR;;34530;;35045;;01/01/1999;;01/01/2001
"RTN","LEX2070A",164,0)
 ;;LR;;34530;;34530;;01/01/2001;;01/01/2005
"RTN","LEX2070A",165,0)
 ;;LR;;34808;;34812;;01/01/2001
"RTN","LEX2070A",166,0)
 ;;LR;;34820;;34820;;01/01/2001
"RTN","LEX2070A",167,0)
 ;;LR;;34833;;34834;;01/01/2003;;01/01/2004
"RTN","LEX2070A",168,0)
 ;;LR;;35001;;35045;;01/01/2001;;01/01/2004
"RTN","LEX2070A",169,0)
 ;;LR;;34833;;35045;;01/01/2004
"RTN","LEX2070A",170,0)
 ;;LR;;35091;;35152;;01/01/2005
"RTN","LEX2070A",171,0)
 ;;LR;;35121;;35162;;01/01/1999;;01/01/2005
"RTN","LEX2070A",172,0)
 ;;LR;;35184;;35184;;01/01/1999
"RTN","LEX2070A",173,0)
 ;;LR;;35190;;35207;;01/01/1999;;01/01/2005
"RTN","LEX2070A",174,0)
 ;;LR;;35190;;35480;;01/01/2005
"RTN","LEX2070A",175,0)
 ;;LR;;35226;;35236;;01/01/1999;;01/01/2005
"RTN","LEX2070A",176,0)
 ;;LR;;35256;;35266;;01/01/1999;;01/01/2005
"RTN","LEX2070A",177,0)
 ;;LR;;35286;;35321;;01/01/1999;;01/01/2005
"RTN","LEX2070A",178,0)
 ;;LR;;35341;;35355;;01/01/1999;;01/01/2005
"RTN","LEX2070A",179,0)
 ;;LR;;35371;;35450;;01/01/1999;;01/01/2005
"RTN","LEX2070A",180,0)
 ;;LR;;35454;;35471;;01/01/1999;;01/01/2005
"RTN","LEX2070A",181,0)
 ;;;;;;;;;;
"RTN","LEX2070B")
0^4^B45954717^n/a
"RTN","LEX2070B",1,0)
LEX2070B ;ISL/KER - LEX*2.0*70 Pre/Post Install ;06/09/2010
"RTN","LEX2070B",2,0)
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
"RTN","LEX2070B",3,0)
 ;               
"RTN","LEX2070B",4,0)
 ; Global Variables
"RTN","LEX2070B",5,0)
 ;    ^DIC(81.3,          ICR   4492
"RTN","LEX2070B",6,0)
 ;               
"RTN","LEX2070B",7,0)
 ; External References
"RTN","LEX2070B",8,0)
 ;    IX1^DIK             ICR  10013
"RTN","LEX2070B",9,0)
 ;    ^%DT                ICR  10003
"RTN","LEX2070B",10,0)
 ;               
"RTN","LEX2070B",11,0)
EN ; Install CPT Ranges for Modifiers LT/RT
"RTN","LEX2070B",12,0)
 N %DT,DA,DIK,LEX,LEXA,LEXB,LEXD,LEXE,LEXEX,LEXI,LEXLN,LEXM1,LEXM2,LEXN1,LEXN2,LEXND,LEXRIEN,LEXRTN,LEXT,X,Y S (LEXLN,LEXRIEN)=0
"RTN","LEX2070B",13,0)
 S LEXM1=$O(^DIC(81.3,"B","LT",0)),LEXM2=$O(^DIC(81.3,"B","RT",0)) Q:LEXM1'>0  Q:LEXM2'>0
"RTN","LEX2070B",14,0)
 F LEXRTN="LEX2070A","LEX2070B","LEX2070C","LEX2070D" D
"RTN","LEX2070B",15,0)
 . N LEX,LEXT S LEXT="" F LEX=1:1 D  Q:'$L(LEXT)
"RTN","LEX2070B",16,0)
 . . N LEXEX,LEXB,LEXE,LEXD,LEXA,LEXI,DA,DIK S LEXT="",LEXEX="S LEXT=$T(LR+"_LEX_"^"_LEXRTN_")" X LEXEX I $$TM($TR(LEXT,";",""))="" S LEXT="" Q
"RTN","LEX2070B",17,0)
 . . S LEXLN=+($G(LEXLN))+1,LEXB=$$TM($P(LEXT,";;",3)),LEXE=$$TM($P(LEXT,";;",4))
"RTN","LEX2070B",18,0)
 . . S LEXA="",LEXD=$$TM($P(LEXT,";;",5)) S:$L(LEXD) LEXA=$$ID(LEXD) S LEXI="",LEXD=$$TM($P(LEXT,";;",6)) S:$L(LEXD) LEXI=$$ID(LEXD)
"RTN","LEX2070B",19,0)
 . . Q:$L(LEXB)'=5  Q:$L(LEXE)'=5  Q:'$L(LEXA)  Q:LEXA'?7N  Q:$L(LEXI)&(LEXI'?7N)  S LEXRIEN=+($G(LEXRIEN))+1
"RTN","LEX2070B",20,0)
 . . S LEXN1="^DIC(81.3,"_LEXM1_",10,"_LEXRIEN_",0)" S LEXN2="^DIC(81.3,"_LEXM2_",10,"_LEXRIEN_",0)"
"RTN","LEX2070B",21,0)
 . . S LEXND=LEXB_"^"_LEXE_"^"_LEXA S:LEXI?7N LEXND=LEXND_"^"_LEXI
"RTN","LEX2070B",22,0)
 . . S @LEXN1=LEXND,DA(1)=LEXM1,DA=LEXRIEN,DIK="^DIC(81.3,"_DA(1)_",10," D IX1^DIK
"RTN","LEX2070B",23,0)
 . . S @LEXN2=LEXND,DA(1)=LEXM2,DA=LEXRIEN,DIK="^DIC(81.3,"_DA(1)_",10," D IX1^DIK
"RTN","LEX2070B",24,0)
 D CHF^LEX2070D
"RTN","LEX2070B",25,0)
 ;;LR;;63040;;63040;;01/01/2007
"RTN","LEX2070B",26,0)
 ;;LR;;63042;;63044;;01/01/2007
"RTN","LEX2070B",27,0)
 Q
"RTN","LEX2070B",28,0)
ID(X) ; Internal Date
"RTN","LEX2070B",29,0)
 S X=$G(X) Q:X?7N X  N %DT,Y S %DT="P" D ^%DT S X=$P(Y,".",1)
"RTN","LEX2070B",30,0)
 Q X
"RTN","LEX2070B",31,0)
TM(X,Y) ; Trim Character Y - Default " "
"RTN","LEX2070B",32,0)
 S X=$G(X) Q:X="" X  S Y=$G(Y) S:'$L(Y) Y=" " F  Q:$E(X,1)'=Y  S X=$E(X,2,$L(X))
"RTN","LEX2070B",33,0)
 F  Q:$E(X,$L(X))'=Y  S X=$E(X,1,($L(X)-1))
"RTN","LEX2070B",34,0)
 F  Q:X'[(Y_Y)  S X=$P(X,(Y_Y),1)_Y_$P(X,(Y_Y),2,229)
"RTN","LEX2070B",35,0)
 Q X
"RTN","LEX2070B",36,0)
LR ;; Left/Right
"RTN","LEX2070B",37,0)
 ;;LR;;35473;;35480;;01/01/1999;;01/01/2005
"RTN","LEX2070B",38,0)
 ;;LR;;35482;;35490;;01/01/1999
"RTN","LEX2070B",39,0)
 ;;LR;;35492;;35495;;01/01/1999;;01/01/2005
"RTN","LEX2070B",40,0)
 ;;LR;;35492;;35536;;01/01/2005
"RTN","LEX2070B",41,0)
 ;;LR;;35501;;35526;;01/01/1999;;01/01/2005
"RTN","LEX2070B",42,0)
 ;;LR;;35533;;35536;;01/01/1999;;01/01/2005
"RTN","LEX2070B",43,0)
 ;;LR;;35546;;35546;;01/01/2005
"RTN","LEX2070B",44,0)
 ;;LR;;35551;;35606;;01/01/1999;;01/01/2005
"RTN","LEX2070B",45,0)
 ;;LR;;35551;;35636;;01/01/2005
"RTN","LEX2070B",46,0)
 ;;LR;;35616;;35631;;01/01/1999;;01/01/2005
"RTN","LEX2070B",47,0)
 ;;LR;;35642;;35645;;01/01/1999
"RTN","LEX2070B",48,0)
 ;;LR;;35647;;35647;;01/01/2002;;01/01/2003
"RTN","LEX2070B",49,0)
 ;;LR;;35647;;35651;;01/01/2003
"RTN","LEX2070B",50,0)
 ;;LR;;35650;;35651;;01/01/1999;;01/01/2003
"RTN","LEX2070B",51,0)
 ;;LR;;35656;;35671;;01/01/1999;;01/01/2005
"RTN","LEX2070B",52,0)
 ;;LR;;35656;;35681;;01/01/2005
"RTN","LEX2070B",53,0)
 ;;LR;;35685;;35686;;01/01/2002;;01/01/2003
"RTN","LEX2070B",54,0)
 ;;LR;;35685;;35800;;01/01/2003;;01/01/2005
"RTN","LEX2070B",55,0)
 ;;LR;;35685;;35695;;01/01/2005
"RTN","LEX2070B",56,0)
 ;;LR;;35691;;35800;;01/01/1999;;01/01/2003
"RTN","LEX2070B",57,0)
 ;;LR;;35700;;35800;;01/01/2005
"RTN","LEX2070B",58,0)
 ;;LR;;35860;;35860;;01/01/1999
"RTN","LEX2070B",59,0)
 ;;LR;;35879;;35881;;01/01/2000
"RTN","LEX2070B",60,0)
 ;;LR;;36000;;36012;;01/01/2005
"RTN","LEX2070B",61,0)
 ;;LR;;36002;;36002;;01/01/2002;;01/01/2003
"RTN","LEX2070B",62,0)
 ;;LR;;36002;;36005;;01/01/2003;;01/01/2005
"RTN","LEX2070B",63,0)
 ;;LR;;36005;;36005;;01/01/1999;;01/01/2003
"RTN","LEX2070B",64,0)
 ;;LR;;36011;;36012;;01/01/1999;;01/01/2005
"RTN","LEX2070B",65,0)
 ;;LR;;36014;;36140;;01/01/1999
"RTN","LEX2070B",66,0)
 ;;LR;;36200;;36248;;01/01/2005
"RTN","LEX2070B",67,0)
 ;;LR;;36215;;36248;;01/01/1999;;01/01/2005
"RTN","LEX2070B",68,0)
 ;;LR;;36468;;36468;;01/01/1999
"RTN","LEX2070B",69,0)
 ;;LR;;36470;;36471;;01/01/1999;;01/01/2005
"RTN","LEX2070B",70,0)
 ;;LR;;36470;;36479;;01/01/2005
"RTN","LEX2070B",71,0)
 ;;LR;;36555;;36597;;01/01/2005
"RTN","LEX2070B",72,0)
 ;;LR;;36819;;36820;;01/01/2002
"RTN","LEX2070B",73,0)
 ;;LR;;36838;;36838;;01/01/2005
"RTN","LEX2070B",74,0)
 ;;LR;;36870;;36870;;01/01/2005
"RTN","LEX2070B",75,0)
 ;;LR;;37207;;37208;;01/01/2005
"RTN","LEX2070B",76,0)
 ;;LR;;37500;;37500;;01/01/2003
"RTN","LEX2070B",77,0)
 ;;LR;;37609;;37609;;01/01/1999
"RTN","LEX2070B",78,0)
 ;;LR;;37618;;37618;;01/01/1999
"RTN","LEX2070B",79,0)
 ;;LR;;37650;;37785;;01/01/1999
"RTN","LEX2070B",80,0)
 ;;LR;;38220;;38221;;01/01/2005
"RTN","LEX2070B",81,0)
 ;;LR;;38300;;38308;;01/01/1999
"RTN","LEX2070B",82,0)
 ;;LR;;38500;;38555;;01/01/1999
"RTN","LEX2070B",83,0)
 ;;LR;;38700;;38745;;01/01/1999
"RTN","LEX2070B",84,0)
 ;;LR;;38760;;38770;;01/01/1999
"RTN","LEX2070B",85,0)
 ;;LR;;38790;;38792;;01/01/1999
"RTN","LEX2070B",86,0)
 ;;LR;;40720;;40720;;01/01/2005
"RTN","LEX2070B",87,0)
 ;;LR;;42300;;42505;;01/01/1999
"RTN","LEX2070B",88,0)
 ;;LR;;42550;;42665;;01/01/1999;;01/01/2005
"RTN","LEX2070B",89,0)
 ;;LR;;42550;;42804;;01/01/2005
"RTN","LEX2070B",90,0)
 ;;LR;;42700;;42804;;01/01/1999;;01/01/2005
"RTN","LEX2070B",91,0)
 ;;LR;;42810;;42815;;01/01/1999
"RTN","LEX2070B",92,0)
 ;;LR;;47511;;47525;;01/01/2005
"RTN","LEX2070B",93,0)
 ;;LR;;49491;;49525;;01/01/2002;;01/01/2005
"RTN","LEX2070B",94,0)
 ;;LR;;49491;;49572;;01/01/2005
"RTN","LEX2070B",95,0)
 ;;LR;;49495;;49525;;01/01/1999
"RTN","LEX2070B",96,0)
 ;;LR;;49550;;49557;;01/01/1999;;01/01/2005
"RTN","LEX2070B",97,0)
 ;;LR;;49590;;49590;;01/01/2005
"RTN","LEX2070B",98,0)
 ;;LR;;49650;;49651;;01/01/2000
"RTN","LEX2070B",99,0)
 ;;LR;;50010;;50290;;01/01/1999
"RTN","LEX2070B",100,0)
 ;;LR;;50320;;50340;;01/01/2005
"RTN","LEX2070B",101,0)
 ;;LR;;50340;;50340;;01/01/1999;;01/01/2005
"RTN","LEX2070B",102,0)
 ;;LR;;50365;;50365;;01/01/2002
"RTN","LEX2070B",103,0)
 ;;LR;;50390;;50526;;01/01/1999
"RTN","LEX2070B",104,0)
 ;;LR;;50541;;50546;;01/01/2000;;01/01/2005
"RTN","LEX2070B",105,0)
 ;;LR;;50541;;50722;;01/01/2005
"RTN","LEX2070B",106,0)
 ;;LR;;50548;;50548;;01/01/2000;;01/01/2005
"RTN","LEX2070B",107,0)
 ;;LR;;50551;;50722;;01/01/1999;;01/01/2005
"RTN","LEX2070B",108,0)
 ;;LR;;50740;;50760;;01/01/1999
"RTN","LEX2070B",109,0)
 ;;LR;;50780;;50800;;01/01/1999
"RTN","LEX2070B",110,0)
 ;;LR;;50815;;50820;;01/01/1999
"RTN","LEX2070B",111,0)
 ;;LR;;50830;;50840;;01/01/1999
"RTN","LEX2070B",112,0)
 ;;LR;;50860;;50980;;01/01/1999;;01/01/2001
"RTN","LEX2070B",113,0)
 ;;LR;;50860;;50948;;01/01/2001;;01/01/2005
"RTN","LEX2070B",114,0)
 ;;LR;;50860;;50980;;01/01/2005
"RTN","LEX2070B",115,0)
 ;;LR;;50951;;50980;;01/01/2001;;01/01/2005
"RTN","LEX2070B",116,0)
 ;;LR;;51535;;51535;;01/01/1999
"RTN","LEX2070B",117,0)
 ;;LR;;52005;;52005;;01/01/1999
"RTN","LEX2070B",118,0)
 ;;LR;;52005;;52010;;01/01/2002;;01/01/2005
"RTN","LEX2070B",119,0)
 ;;LR;;52005;;52007;;01/01/2005
"RTN","LEX2070B",120,0)
 ;;LR;;52320;;52325;;01/01/1999;;
"RTN","LEX2070B",121,0)
 ;;LR;;52320;;52346;;01/01/2002;;01/01/2004
"RTN","LEX2070B",122,0)
 ;;LR;;52320;;52334;;01/01/2004;;01/01/2005
"RTN","LEX2070B",123,0)
 ;;LR;;52320;;52355;;01/01/2005
"RTN","LEX2070B",124,0)
 ;;LR;;52330;;52332;;01/01/1999;;01/01/2001
"RTN","LEX2070B",125,0)
 ;;LR;;52330;;52355;;01/01/2001
"RTN","LEX2070B",126,0)
 ;;LR;;52341;;52346;;01/01/2004;;01/01/2005
"RTN","LEX2070B",127,0)
 ;;LR;;52351;;52355;;01/01/2002;;01/01/2005
"RTN","LEX2070B",128,0)
 ;;LR;;54500;;54560;;01/01/1999;;01/01/2003
"RTN","LEX2070B",129,0)
 ;;LR;;54500;;54505;;01/01/2003;;01/01/2005
"RTN","LEX2070B",130,0)
 ;;LR;;54500;;54840;;01/01/2005
"RTN","LEX2070B",131,0)
 ;;LR;;54512;;54560;;01/01/2003;;01/01/2005
"RTN","LEX2070B",132,0)
 ;;LR;;54640;;54670;;01/01/1999;;01/01/2005
"RTN","LEX2070B",133,0)
 ;;LR;;54690;;54692;;01/01/2000;;01/01/2005
"RTN","LEX2070B",134,0)
 ;;LR;;54700;;54840;;01/01/1999;;01/01/2005
"RTN","LEX2070B",135,0)
 ;;LR;;55000;;55000;;01/01/1999
"RTN","LEX2070B",136,0)
 ;;LR;;55060;;55060;;01/01/1999
"RTN","LEX2070B",137,0)
 ;;LR;;55400;;55400;;01/01/1999
"RTN","LEX2070B",138,0)
 ;;LR;;55500;;55540;;01/01/1999;;01/01/2005
"RTN","LEX2070B",139,0)
 ;;LR;;55500;;55680;;01/01/2005
"RTN","LEX2070B",140,0)
 ;;LR;;55600;;55680;;01/01/1999;;01/01/2005
"RTN","LEX2070B",141,0)
 ;;LR;;56316;;56318;;01/01/1999;;01/01/2001
"RTN","LEX2070B",142,0)
 ;;LR;;56321;;56321;;01/01/1999;;01/01/2001
"RTN","LEX2070B",143,0)
 ;;LR;;56343;;56344;;01/01/1999;;01/01/2001
"RTN","LEX2070B",144,0)
 ;;LR;;56420;;56440;;01/01/2003
"RTN","LEX2070B",145,0)
 ;;LR;;56640;;56640;;01/01/1999
"RTN","LEX2070B",146,0)
 ;;LR;;57267;;57267;;01/01/2005
"RTN","LEX2070B",147,0)
 ;;LR;;58345;;58345;;01/01/1999
"RTN","LEX2070B",148,0)
 ;;LR;;58353;;58356;;01/01/2005
"RTN","LEX2070B",149,0)
 ;;LR;;58661;;58662;;01/01/2003;;01/01/2004
"RTN","LEX2070B",150,0)
 ;;LR;;58661;;58661;;01/01/2005
"RTN","LEX2070B",151,0)
 ;;LR;;58672;;58673;;01/01/2000
"RTN","LEX2070B",152,0)
 ;;LR;;58750;;58770;;01/01/1999
"RTN","LEX2070B",153,0)
 ;;LR;;60540;;60650;;01/01/2000
"RTN","LEX2070B",154,0)
 ;;LR;;61020;;61026;;01/01/1999
"RTN","LEX2070B",155,0)
 ;;LR;;61106;;61106;;01/01/1999;;01/01/2001
"RTN","LEX2070B",156,0)
 ;;LR;;61130;;61130;;01/01/1999;;01/01/2001
"RTN","LEX2070B",157,0)
 ;;LR;;61154;;61154;;01/01/2002
"RTN","LEX2070B",158,0)
 ;;LR;;61250;;61250;;01/01/2002
"RTN","LEX2070B",159,0)
 ;;LR;;61330;;61340;;01/01/1999
"RTN","LEX2070B",160,0)
 ;;LR;;61490;;61490;;01/01/2002
"RTN","LEX2070B",161,0)
 ;;LR;;61543;;61545;;01/01/1999
"RTN","LEX2070B",162,0)
 ;;LR;;61580;;61581;;01/01/2005
"RTN","LEX2070B",163,0)
 ;;LR;;61584;;61585;;01/01/2005
"RTN","LEX2070B",164,0)
 ;;LR;;61590;;61597;;01/01/2005
"RTN","LEX2070B",165,0)
 ;;LR;;61609;;61613;;01/01/2005
"RTN","LEX2070B",166,0)
 ;;LR;;61623;;61623;;01/01/2003
"RTN","LEX2070B",167,0)
 ;;LR;;61626;;61626;;01/01/1999
"RTN","LEX2070B",168,0)
 ;;LR;;61863;;61868;;01/01/2005
"RTN","LEX2070B",169,0)
 ;;LR;;61880;;61885;;01/01/2005
"RTN","LEX2070B",170,0)
 ;;LR;;61888;;61888;;01/01/2005
"RTN","LEX2070B",171,0)
 ;;LR;;63020;;63042;;01/01/1999;;01/01/2001
"RTN","LEX2070B",172,0)
 ;;LR;;63020;;63044;;01/01/2001
"RTN","LEX2070B",173,0)
 ;;LR;;63048;;63048;;01/01/2005
"RTN","LEX2070B",174,0)
 ;;LR;;63191;;63191;;01/01/1999
"RTN","LEX2070B",175,0)
 ;;LR;;63661;;63664;;01/01/2010
"RTN","LEX2070B",176,0)
 ;;LR;;64400;;64435;;01/01/1999;;01/01/2003
"RTN","LEX2070B",177,0)
 ;;LR;;64400;;64520;;01/01/2003;;01/01/2005
"RTN","LEX2070B",178,0)
 ;;LR;;64400;;64510;;01/01/2005
"RTN","LEX2070B",179,0)
 ;;LR;;64442;;64520;;01/01/1999;;01/01/2001
"RTN","LEX2070B",180,0)
 ;;LR;;64445;;64520;;01/01/2002;;01/01/2003
"RTN","LEX2070B",181,0)
 ;;LR;;64520;;64520;;01/01/2005
"RTN","LEX2070B",182,0)
 ;;LR;;64550;;64585;;01/01/1999
"RTN","LEX2070B",183,0)
 ;;LR;;64612;;64612;;01/01/2004
"RTN","LEX2070B",184,0)
 ;;LR;;64614;;64614;;01/01/2005
"RTN","LEX2070B",185,0)
 ;;LR;;64622;;64627;;01/01/2000
"RTN","LEX2070B",186,0)
 ;;LR;;64640;;64640;;01/01/1999
"RTN","LEX2070B",187,0)
 ;;LR;;64702;;64726;;01/01/1999
"RTN","LEX2070B",188,0)
 ;;LR;;64732;;64744;;01/01/1999
"RTN","LEX2070B",189,0)
 ;;LR;;64761;;64820;;01/01/1999
"RTN","LEX2070B",190,0)
 ;;LR;;64761;;64861;;01/01/2002;;01/01/2003
"RTN","LEX2070B",191,0)
 ;;LR;;64761;;64823;;01/01/2003
"RTN","LEX2070B",192,0)
 ;;LR;;64831;;64861;;01/01/1999
"RTN","LEX2070B",193,0)
 ;;LR;;64832;;64861;;01/01/2003
"RTN","LEX2070B",194,0)
 ;;LR;;64864;;64907;;01/01/1999;;01/01/2005
"RTN","LEX2070B",195,0)
 ;;LR;;64864;;67800;;01/01/2005
"RTN","LEX2070B",196,0)
 ;;;;;;;;;;
"RTN","LEX2070C")
0^5^B44709747^n/a
"RTN","LEX2070C",1,0)
LEX2070C ;ISL/KER - LEX*2.0*70 Pre/Post Install ;06/09/2010
"RTN","LEX2070C",2,0)
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
"RTN","LEX2070C",3,0)
 ;               
"RTN","LEX2070C",4,0)
 ; Global Variables
"RTN","LEX2070C",5,0)
 ;    ^DIC(81.3,          ICR   4492
"RTN","LEX2070C",6,0)
 ;               
"RTN","LEX2070C",7,0)
 ; External References
"RTN","LEX2070C",8,0)
 ;    ^DIK                ICR  10013
"RTN","LEX2070C",9,0)
 ;               
"RTN","LEX2070C",10,0)
DR(X) ; Delete Range Multiple
"RTN","LEX2070C",11,0)
 N DA,DIK,LEX1,LEX2,LEX3,LEXIEN,LEXRIEN S LEXIEN=+($G(X)) Q:+LEXIEN'>0  Q:'$D(^DIC(81.3,+LEXIEN,10))
"RTN","LEX2070C",12,0)
 ; Fileman Delete
"RTN","LEX2070C",13,0)
 S LEXRIEN=0 F  S LEXRIEN=$O(^DIC(81.3,+LEXIEN,10,LEXRIEN)) Q:+LEXRIEN'>0  D
"RTN","LEX2070C",14,0)
 . Q:'$D(^DIC(81.3,+LEXIEN,10,+LEXRIEN,0))  N DA,DIK S DA(1)=LEXIEN,DA=LEXRIEN,DIK="^DIC(81.3,"_DA(1)_",10," D ^DIK
"RTN","LEX2070C",15,0)
 ; Hard Delete (remove erroneous nodes)
"RTN","LEX2070C",16,0)
 K ^DIC(81.3,LEXIEN,10,"B"),^DIC(81.3,LEXIEN,"M"),^DIC(81.3,+LEXIEN,10) S ^DIC(81.3,+LEXIEN,10,0)="^81.32A^^"
"RTN","LEX2070C",17,0)
 S LEX1="" F  S LEX1=$O(^DIC(81.3,"M",LEX1)) Q:'$L(LEX1)  S LEX2="" F  S LEX2=$O(^DIC(81.3,"M",LEX1,LEX2)) Q:'$L(LEX2)  D
"RTN","LEX2070C",18,0)
 . S LEX3="" F  S LEX3=$O(^DIC(81.3,"M",LEX1,LEX2,LEX3)) Q:'$L(LEX3)  D
"RTN","LEX2070C",19,0)
 . . K:$G(^DIC(81.3,"M",LEX1,LEX2,LEX3))>0&(+LEXIEN=+LEX3) ^DIC(81.3,"M",LEX1,LEX2,LEX3)
"RTN","LEX2070C",20,0)
 Q
"RTN","LEX2070C",21,0)
LR ;; Left/Right
"RTN","LEX2070C",22,0)
 ;;LR;;65091;;66986;;01/01/1999;;01/01/2005
"RTN","LEX2070C",23,0)
 ;;LR;;67005;;67255;;01/01/1999;;01/01/2005
"RTN","LEX2070C",24,0)
 ;;LR;;67311;;67350;;01/01/1999;;01/01/2005
"RTN","LEX2070C",25,0)
 ;;LR;;67400;;67570;;01/01/1999;;01/01/2005
"RTN","LEX2070C",26,0)
 ;;LR;;67700;;67800;;01/01/1999;;01/01/2005
"RTN","LEX2070C",27,0)
 ;;LR;;67810;;67975;;01/01/1999;;01/01/2005
"RTN","LEX2070C",28,0)
 ;;LR;;67810;;69205;;01/01/2005
"RTN","LEX2070C",29,0)
 ;;LR;;68020;;68362;;01/01/1999;;01/01/2005
"RTN","LEX2070C",30,0)
 ;;LR;;68400;;68850;;01/01/1999;;01/01/2005
"RTN","LEX2070C",31,0)
 ;;LR;;69000;;69205;;01/01/1999;;01/01/2005
"RTN","LEX2070C",32,0)
 ;;LR;;69220;;69320;;01/01/1999;;01/01/2005
"RTN","LEX2070C",33,0)
 ;;LR;;69220;;69970;;01/01/2005
"RTN","LEX2070C",34,0)
 ;;LR;;69400;;69632;;01/01/1999;;01/01/2005
"RTN","LEX2070C",35,0)
 ;;LR;;69635;;69745;;01/01/1999;;01/01/2005
"RTN","LEX2070C",36,0)
 ;;LR;;69801;;69930;;01/01/1999;;01/01/2005
"RTN","LEX2070C",37,0)
 ;;LR;;69950;;69970;;01/01/1999;;01/01/2005
"RTN","LEX2070C",38,0)
 ;;LR;;70030;;70030;;01/01/1999
"RTN","LEX2070C",39,0)
 ;;LR;;70120;;70130;;01/01/2005
"RTN","LEX2070C",40,0)
 ;;LR;;70170;;70170;;01/01/1999;;01/01/2005
"RTN","LEX2070C",41,0)
 ;;LR;;70170;;70190;;01/01/2005
"RTN","LEX2070C",42,0)
 ;;LR;;70332;;70332;;01/01/1999;;01/01/2005
"RTN","LEX2070C",43,0)
 ;;LR;;70332;;70336;;01/01/2005
"RTN","LEX2070C",44,0)
 ;;LR;;71100;;71100;;01/01/2005
"RTN","LEX2070C",45,0)
 ;;LR;;73000;;73040;;01/01/1999
"RTN","LEX2070C",46,0)
 ;;LR;;73060;;73225;;01/01/1999
"RTN","LEX2070C",47,0)
 ;;LR;;73500;;73510;;01/01/2005
"RTN","LEX2070C",48,0)
 ;;LR;;73525;;73530;;01/01/1999
"RTN","LEX2070C",49,0)
 ;;LR;;73542;;73564;;01/01/2000
"RTN","LEX2070C",50,0)
 ;;LR;;73580;;73725;;01/01/1999
"RTN","LEX2070C",51,0)
 ;;LR;;74425;;74425;;01/01/1999
"RTN","LEX2070C",52,0)
 ;;LR;;74470;;74480;;01/01/1999
"RTN","LEX2070C",53,0)
 ;;LR;;74742;;74742;;01/01/1999
"RTN","LEX2070C",54,0)
 ;;LR;;75658;;75658;;01/01/1999
"RTN","LEX2070C",55,0)
 ;;LR;;75685;;75705;;01/01/1999
"RTN","LEX2070C",56,0)
 ;;LR;;75860;;75860;;01/01/1999
"RTN","LEX2070C",57,0)
 ;;LR;;75880;;75880;;01/01/1999
"RTN","LEX2070C",58,0)
 ;;LR;;75966;;75966;;01/01/1999
"RTN","LEX2070C",59,0)
 ;;LR;;76006;;76006;;01/01/2005
"RTN","LEX2070C",60,0)
 ;;LR;;76086;;76088;;01/01/1999;;01/01/2005
"RTN","LEX2070C",61,0)
 ;;LR;;76086;;76090;;01/01/2005
"RTN","LEX2070C",62,0)
 ;;LR;;76095;;76096;;01/01/1999
"RTN","LEX2070C",63,0)
 ;;LR;;76510;;76529;;01/01/2005
"RTN","LEX2070C",64,0)
 ;;LR;;76511;;76513;;01/01/1999;;01/01/2004
"RTN","LEX2070C",65,0)
 ;;LR;;76511;;76529;;01/01/2004;;01/01/2005
"RTN","LEX2070C",66,0)
 ;;LR;;76519;;76529;;01/01/2003;;01/01/2004
"RTN","LEX2070C",67,0)
 ;;LR;;76529;;76529;;01/01/1999;;01/01/2003
"RTN","LEX2070C",68,0)
 ;;LR;;76645;;76645;;01/01/2005
"RTN","LEX2070C",69,0)
 ;;LR;;76880;;76880;;01/01/1999
"RTN","LEX2070C",70,0)
 ;;LR;;76938;;76938;;01/01/1999;;01/01/2003
"RTN","LEX2070C",71,0)
 ;;LR;;76948;;76948;;01/01/1999
"RTN","LEX2070C",72,0)
 ;;LR;;77055;;77055;;01/01/2007
"RTN","LEX2070C",73,0)
 ;;LR;;92070;;92070;;01/01/1999;;01/01/2005
"RTN","LEX2070C",74,0)
 ;;LR;;92070;;92083;;01/01/2005
"RTN","LEX2070C",75,0)
 ;;LR;;92120;;92226;;01/01/1999;;01/01/2001
"RTN","LEX2070C",76,0)
 ;;LR;;92120;;92140;;01/01/2001
"RTN","LEX2070C",77,0)
 ;;LR;;92120;;92135;;01/01/2002;;01/01/2005
"RTN","LEX2070C",78,0)
 ;;LR;;92120;;92250;;01/01/2005
"RTN","LEX2070C",79,0)
 ;;LR;;92140;;92140;;01/01/2002;;01/01/2003
"RTN","LEX2070C",80,0)
 ;;LR;;92140;;92226;;01/01/2003;;01/01/2005
"RTN","LEX2070C",81,0)
 ;;LR;;92225;;92226;;01/01/2001;;01/01/2003
"RTN","LEX2070C",82,0)
 ;;LR;;92235;;92240;;01/01/1999;;01/01/2002
"RTN","LEX2070C",83,0)
 ;;LR;;92235;;92250;;01/01/2002;;01/01/2003
"RTN","LEX2070C",84,0)
 ;;LR;;92235;;92240;;01/01/2003;;01/01/2005
"RTN","LEX2070C",85,0)
 ;;LR;;92265;;92275;;01/01/2005
"RTN","LEX2070C",86,0)
 ;;LR;;92270;;92275;;01/01/1999;;01/01/2005
"RTN","LEX2070C",87,0)
 ;;LR;;92285;;92287;;01/01/1999
"RTN","LEX2070C",88,0)
 ;;LR;;92313;;92313;;01/01/1999
"RTN","LEX2070C",89,0)
 ;;LR;;92317;;92326;;01/01/1999;;01/01/2005
"RTN","LEX2070C",90,0)
 ;;LR;;92317;;92335;;01/01/2005
"RTN","LEX2070C",91,0)
 ;;LR;;92393;;92393;;01/01/2005
"RTN","LEX2070C",92,0)
 ;;LR;;92601;;92606;;01/01/2003
"RTN","LEX2070C",93,0)
 ;;LR;;95934;;95936;;01/01/1999
"RTN","LEX2070C",94,0)
 ;;LR;;A4262;;A4263;;01/01/1999;;01/01/2005
"RTN","LEX2070C",95,0)
 ;;LR;;A4465;;A4465;;01/01/1999;;01/01/2005
"RTN","LEX2070C",96,0)
 ;;LR;;A4490;;A4510;;01/01/1999;;01/01/2005
"RTN","LEX2070C",97,0)
 ;;LR;;A4565;;A4570;;01/01/1999;;01/01/2005
"RTN","LEX2070C",98,0)
 ;;LR;;A4580;;A4580;;01/01/2004;;01/01/2005
"RTN","LEX2070C",99,0)
 ;;LR;;A5500;;A5508;;01/01/2000
"RTN","LEX2070C",100,0)
 ;;LR;;A5500;;A5511;;01/01/2002;;01/01/2003
"RTN","LEX2070C",101,0)
 ;;LR;;A5500;;A5501;;01/01/2003;;01/01/2005
"RTN","LEX2070C",102,0)
 ;;LR;;A5503;;A5511;;01/01/2003;;01/01/2005
"RTN","LEX2070C",103,0)
 ;;LR;;A6410;;A6412;;01/01/2003;;01/01/2005
"RTN","LEX2070C",104,0)
 ;;LR;;C1079;;C1079;;01/01/2004;;01/01/2005
"RTN","LEX2070C",105,0)
 ;;LR;;C1088;;C1088;;01/01/2004;;01/01/2005
"RTN","LEX2070C",106,0)
 ;;LR;;C1091;;C1092;;01/01/2004;;01/01/2005
"RTN","LEX2070C",107,0)
 ;;LR;;C1122;;C1122;;01/01/2004;;01/01/2005
"RTN","LEX2070C",108,0)
 ;;LR;;C1178;;C1178;;01/01/2004;;01/01/2005
"RTN","LEX2070C",109,0)
 ;;LR;;C1200;;C1201;;01/01/2004;;01/01/2005
"RTN","LEX2070C",110,0)
 ;;LR;;C1300;;C1300;;01/01/2004;;01/01/2005
"RTN","LEX2070C",111,0)
 ;;LR;;C1305;;C1305;;01/01/2004;;01/01/2005
"RTN","LEX2070C",112,0)
 ;;LR;;C1765;;C1765;;01/01/2004;;01/01/2005
"RTN","LEX2070C",113,0)
 ;;LR;;C1775;;C1775;;01/01/2004;;01/01/2005
"RTN","LEX2070C",114,0)
 ;;LR;;C1783;;C1783;;01/01/2004;;01/01/2005
"RTN","LEX2070C",115,0)
 ;;LR;;C1814;;C1814;;01/01/2004;;01/01/2005
"RTN","LEX2070C",116,0)
 ;;LR;;C1884;;C1884;;01/01/2004;;01/01/2005
"RTN","LEX2070C",117,0)
 ;;LR;;C1888;;C1888;;01/01/2004;;01/01/2005
"RTN","LEX2070C",118,0)
 ;;LR;;C1900;;C1900;;01/01/2004;;01/01/2005
"RTN","LEX2070C",119,0)
 ;;LR;;C2614;;C2614;;01/01/2004;;01/01/2005
"RTN","LEX2070C",120,0)
 ;;LR;;C2618;;C2618;;01/01/2004;;01/01/2005
"RTN","LEX2070C",121,0)
 ;;LR;;C2632;;C2632;;01/01/2004;;01/01/2005
"RTN","LEX2070C",122,0)
 ;;LR;;C8900;;C9000;;01/01/2004;;01/01/2005
"RTN","LEX2070C",123,0)
 ;;LR;;C9003;;C9003;;01/01/2004;;01/01/2005
"RTN","LEX2070C",124,0)
 ;;LR;;C9007;;C9009;;01/01/2004;;01/01/2005
"RTN","LEX2070C",125,0)
 ;;LR;;C9013;;C9013;;01/01/2004;;01/01/2005
"RTN","LEX2070C",126,0)
 ;;LR;;C9102;;C9103;;01/01/2004;;01/01/2005
"RTN","LEX2070C",127,0)
 ;;LR;;C9105;;C9105;;01/01/2004;;01/01/2005
"RTN","LEX2070C",128,0)
 ;;LR;;C9109;;C9109;;01/01/2004;;01/01/2005
"RTN","LEX2070C",129,0)
 ;;LR;;C9112;;C9113;;01/01/2004;;01/01/2005
"RTN","LEX2070C",130,0)
 ;;LR;;C9121;;C9203;;01/01/2004;;01/01/2005
"RTN","LEX2070C",131,0)
 ;;LR;;C9701;;C9701;;01/01/2004;;01/01/2005
"RTN","LEX2070C",132,0)
 ;;LR;;C9703;;C9703;;01/01/2004;;01/01/2005
"RTN","LEX2070C",133,0)
 ;;LR;;C9711;;D0480;;01/01/2004;;01/01/2005
"RTN","LEX2070C",134,0)
 ;;LR;;D0502;;D1550;;01/01/2004;;01/01/2005
"RTN","LEX2070C",135,0)
 ;;LR;;D2140;;D2335;;01/01/2004;;01/01/2005
"RTN","LEX2070C",136,0)
 ;;LR;;D2390;;D4211;;01/01/2004;;01/01/2005
"RTN","LEX2070C",137,0)
 ;;LR;;D4240;;D6253;;01/01/2004;;01/01/2005
"RTN","LEX2070C",138,0)
 ;;LR;;D6545;;D6999;;01/01/2004;;01/01/2005
"RTN","LEX2070C",139,0)
 ;;LR;;D7111;;D7111;;01/01/2004;;01/01/2005
"RTN","LEX2070C",140,0)
 ;;LR;;D7140;;D7415;;01/01/2004;;01/01/2005
"RTN","LEX2070C",141,0)
 ;;LR;;D7440;;D7473;;01/01/2004;;01/01/2005
"RTN","LEX2070C",142,0)
 ;;LR;;D7485;;D9974;;01/01/2004;;01/01/2005
"RTN","LEX2070C",143,0)
 ;;LR;;E0175;;E0175;;01/01/1999;;01/01/2005
"RTN","LEX2070C",144,0)
 ;;LR;;E0191;;E0191;;01/01/1999;;01/01/2005
"RTN","LEX2070C",145,0)
 ;;LR;;E0655;;E0669;;01/01/1999;;01/01/2003
"RTN","LEX2070C",146,0)
 ;;LR;;E0655;;E0673;;01/01/2003;;01/01/2005
"RTN","LEX2070C",147,0)
 ;;LR;;E0671;;E0673;;01/01/1999;;01/01/2003
"RTN","LEX2070C",148,0)
 ;;LR;;E0951;;E0952;;01/01/1999;;01/01/2005
"RTN","LEX2070C",149,0)
 ;;LR;;E0990;;E0990;;01/01/1999;;01/01/2005
"RTN","LEX2070C",150,0)
 ;;LR;;E0994;;E0995;;01/01/1999;;01/01/2005
"RTN","LEX2070C",151,0)
 ;;LR;;E1800;;E1830;;01/01/1999
"RTN","LEX2070C",152,0)
 ;;LR;;E1800;;E1840;;01/01/2002;;01/01/2005
"RTN","LEX2070C",153,0)
 ;;LR;;G0185;;G0187;;01/01/2002;;01/01/2003
"RTN","LEX2070C",154,0)
 ;;LR;;G0186;;G0186;;01/01/2003
"RTN","LEX2070C",155,0)
 ;;LR;;G0259;;G0260;;01/01/2003
"RTN","LEX2070C",156,0)
 ;;LR;;G0279;;G0280;;01/01/2003
"RTN","LEX2070C",157,0)
 ;;LR;;G0289;;G0289;;01/01/2005
"RTN","LEX2070C",158,0)
 ;;LR;;G0296;;G0296;;01/01/2005
"RTN","LEX2070C",159,0)
 ;;LR;;H0001;;H2001;;01/01/2004;;01/01/2005
"RTN","LEX2070C",160,0)
 ;;LR;;J1452;;J1452;;01/01/2001;;01/01/2005
"RTN","LEX2070C",161,0)
 ;;LR;;K0015;;K0019;;01/01/1999;;01/01/2005
"RTN","LEX2070C",162,0)
 ;;LR;;K0034;;K0049;;01/01/1999;;01/01/2003
"RTN","LEX2070C",163,0)
 ;;LR;;K0035;;K0049;;01/01/2003;;01/01/2004
"RTN","LEX2070C",164,0)
 ;;LR;;K0037;;K0047;;01/01/2004;;01/01/2005
"RTN","LEX2070C",165,0)
 ;;LR;;K0051;;K0053;;01/01/1999;;01/01/2005
"RTN","LEX2070C",166,0)
 ;;LR;;K0059;;K0063;;01/01/1999;;01/01/2004
"RTN","LEX2070C",167,0)
 ;;LR;;K0059;;K0061;;01/01/2004;;01/01/2005
"RTN","LEX2070C",168,0)
 ;;LR;;K0065;;K0078;;01/01/1999;;01/01/2005
"RTN","LEX2070C",169,0)
 ;;LR;;K0081;;K0081;;01/01/1999;;01/01/2005
"RTN","LEX2070C",170,0)
 ;;LR;;K0090;;K0097;;01/01/1999;;01/01/2005
"RTN","LEX2070C",171,0)
 ;;LR;;K0106;;K0106;;01/01/1999;;01/01/2005
"RTN","LEX2070C",172,0)
 ;;LR;;K0400;;K0401;;01/01/1999;;01/01/2001
"RTN","LEX2070C",173,0)
 ;;LR;;K0442;;K0442;;01/01/1999;;01/01/2003
"RTN","LEX2070C",174,0)
 ;;LR;;K0445;;K0445;;01/01/1999;;01/01/2003
"RTN","LEX2070C",175,0)
 ;;LR;;K0556;;K0559;;01/01/2003;;01/01/2004
"RTN","LEX2070C",176,0)
 ;;LR;;K0606;;K0609;;01/01/2005
"RTN","LEX2070C",177,0)
 ;;LR;;L1685;;L1686;;01/01/1999;;01/01/2005
"RTN","LEX2070C",178,0)
 ;;LR;;L1700;;L2188;;01/01/1999;;01/01/2003
"RTN","LEX2070C",179,0)
 ;;LR;;L1700;;L1834;;01/01/2003;;01/01/2005
"RTN","LEX2070C",180,0)
 ;;LR;;L1831;;L1831;;01/01/2005
"RTN","LEX2070C",181,0)
 ;;LR;;L1840;;L1900;;01/01/2003;;01/01/2005
"RTN","LEX2070C",182,0)
 ;;;;;;;;;;
"RTN","LEX2070D")
0^6^B46178239^n/a
"RTN","LEX2070D",1,0)
LEX2070D ;ISL/KER - LEX*2.0*70 Pre/Post Install ;06/09/2010
"RTN","LEX2070D",2,0)
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
"RTN","LEX2070D",3,0)
 ;               
"RTN","LEX2070D",4,0)
 ; Global Variables
"RTN","LEX2070D",5,0)
 ;    ^DIC(81.3,          ICR   4492
"RTN","LEX2070D",6,0)
 ;               
"RTN","LEX2070D",7,0)
 ; External References
"RTN","LEX2070D",8,0)
 ;    IX1^DIK             ICR  10013
"RTN","LEX2070D",9,0)
 ;    IX2^DIK             ICR  10013
"RTN","LEX2070D",10,0)
 ;               
"RTN","LEX2070D",11,0)
 ; Local Variables NEWed or KILLed Elsewhere
"RTN","LEX2070D",12,0)
 ;    None
"RTN","LEX2070D",13,0)
 ;               
"RTN","LEX2070D",14,0)
RR(X) ; Rebuild Range Multiple
"RTN","LEX2070D",15,0)
 N DA,DIK,LEXIEN,LEXL,LEXRIEN,LEXT S LEXIEN=+($G(X)) Q:+LEXIEN'>0  Q:'$D(^DIC(81.3,+LEXIEN,10))
"RTN","LEX2070D",16,0)
 S DA=LEXIEN,DIK="^DIC(81.3," D IX1^DIK S (LEXL,LEXT)="",LEXRIEN=0 F  S LEXRIEN=$O(^DIC(81.3,+LEXIEN,10,LEXRIEN)) Q:+LEXRIEN'>0  D
"RTN","LEX2070D",17,0)
 . Q:'$D(^DIC(81.3,+LEXIEN,10,+LEXRIEN,0))  N DA,DIK S DA(1)=LEXIEN,DA=LEXRIEN,DIK="^DIC(81.3,"_DA(1)_",10,"
"RTN","LEX2070D",18,0)
 . D IX1^DIK S LEXL=DA,LEXT=+($G(LEXT))+1
"RTN","LEX2070D",19,0)
 S:+LEXL>0&(LEXT>0) ^DIC(81.3,+LEXIEN,10,0)="^81.32A^"_LEXL_"^"_LEXT
"RTN","LEX2070D",20,0)
 Q
"RTN","LEX2070D",21,0)
CHF ; Crimean Hemorrhagic Fever
"RTN","LEX2070D",22,0)
 S DIK="^ICD9(",DA=8329 D IX2^DIK
"RTN","LEX2070D",23,0)
 S:$G(^ICD9(8329,1))="CRIMEAN HEMORRHAGIC FEVER (CHF CONGO VIRUS)" ^ICD9(8329,1)="CRIMEAN HEMORRHAGIC FEVER (CONGO VIRUS)"
"RTN","LEX2070D",24,0)
 S:$G(^ICD9(8329,68,1,1))="CRIMEAN HEMORRHAGIC FEVER (CHF CONGO VIRUS)" ^ICD9(8329,68,1,1)="CRIMEAN HEMORRHAGIC FEVER (CONGO VIRUS)"
"RTN","LEX2070D",25,0)
 S DIK="^ICD9(",DA=8329 D IX1^DIK
"RTN","LEX2070D",26,0)
 Q
"RTN","LEX2070D",27,0)
LR ;; Left/Right
"RTN","LEX2070D",28,0)
 ;;LR;;L1902;;L2188;;01/01/2003;;01/01/2005
"RTN","LEX2070D",29,0)
 ;;LR;;L1907;;L1907;;01/01/2005
"RTN","LEX2070D",30,0)
 ;;LR;;L1930;;L1951;;01/01/2005
"RTN","LEX2070D",31,0)
 ;;LR;;L1971;;L1971;;01/01/2005
"RTN","LEX2070D",32,0)
 ;;LR;;L2192;;L2628;;01/01/1999;;01/01/2005
"RTN","LEX2070D",33,0)
 ;;LR;;L2650;;L2860;;01/01/1999;;01/01/2005
"RTN","LEX2070D",34,0)
 ;;LR;;L3000;;L3211;;01/01/1999;;01/01/2005
"RTN","LEX2070D",35,0)
 ;;LR;;L3000;;L3031;;01/01/2005
"RTN","LEX2070D",36,0)
 ;;LR;;L3218;;L3218;;01/01/1999;;01/01/2003
"RTN","LEX2070D",37,0)
 ;;LR;;L3223;;L3225;;01/01/1999;;01/01/2003
"RTN","LEX2070D",38,0)
 ;;LR;;L3224;;L3225;;01/01/2003;;01/01/2005
"RTN","LEX2070D",39,0)
 ;;LR;;L3250;;L3255;;01/01/1999;;01/01/2005
"RTN","LEX2070D",40,0)
 ;;LR;;L3260;;L3630;;01/01/1999;;01/01/2005
"RTN","LEX2070D",41,0)
 ;;LR;;L3650;;L3670;;01/01/1999;;01/01/2003
"RTN","LEX2070D",42,0)
 ;;LR;;L3650;;L3650;;01/01/2003;;01/01/2005
"RTN","LEX2070D",43,0)
 ;;LR;;L3660;;L3670;;01/01/2003;;01/01/2005
"RTN","LEX2070D",44,0)
 ;;LR;;L3677;;L3677;;01/01/2002;;01/01/2003
"RTN","LEX2070D",45,0)
 ;;LR;;L3677;;L3700;;01/01/2003;;01/01/2005
"RTN","LEX2070D",46,0)
 ;;LR;;L3700;;L3995;;01/01/1999;;01/01/2003
"RTN","LEX2070D",47,0)
 ;;LR;;L3710;;L3760;;01/01/2003;;01/01/2005
"RTN","LEX2070D",48,0)
 ;;LR;;L3800;;L3908;;01/01/2003;;01/01/2005
"RTN","LEX2070D",49,0)
 ;;LR;;L3910;;L3910;;01/01/2003;;01/01/2005
"RTN","LEX2070D",50,0)
 ;;LR;;L3912;;L3995;;01/01/2003;;01/01/2005
"RTN","LEX2070D",51,0)
 ;;LR;;L3917;;L3917;;01/01/2005
"RTN","LEX2070D",52,0)
 ;;LR;;L4010;;L4130;;01/01/1999;;01/01/2005
"RTN","LEX2070D",53,0)
 ;;LR;;L4320;;L5690;;01/01/1999;;01/01/2001
"RTN","LEX2070D",54,0)
 ;;LR;;L4350;;L5690;;01/01/2001;;01/01/2003
"RTN","LEX2070D",55,0)
 ;;LR;;L4350;;L4380;;01/01/2003;;01/01/2005
"RTN","LEX2070D",56,0)
 ;;LR;;L4392;;L5280;;01/01/2003;;01/01/2005
"RTN","LEX2070D",57,0)
 ;;LR;;L5301;;L5301;;01/01/2003;;01/01/2005
"RTN","LEX2070D",58,0)
 ;;LR;;L5311;;L5311;;01/01/2003;;01/01/2005
"RTN","LEX2070D",59,0)
 ;;LR;;L5321;;L5321;;01/01/2003;;01/01/2005
"RTN","LEX2070D",60,0)
 ;;LR;;L5331;;L5331;;01/01/2003;;01/01/2005
"RTN","LEX2070D",61,0)
 ;;LR;;L5341;;L5658;;01/01/2003;;01/01/2005
"RTN","LEX2070D",62,0)
 ;;LR;;L5661;;L5661;;01/01/2003;;01/01/2005
"RTN","LEX2070D",63,0)
 ;;LR;;L5665;;L5666;;01/01/2003;;01/01/2005
"RTN","LEX2070D",64,0)
 ;;LR;;L5668;;L5668;;01/01/2003;;01/01/2005
"RTN","LEX2070D",65,0)
 ;;LR;;L5670;;L5780;;01/01/2003;;01/01/2005
"RTN","LEX2070D",66,0)
 ;;LR;;L5673;;L5673;;01/01/2005
"RTN","LEX2070D",67,0)
 ;;LR;;L5679;;L5679;;01/01/2005
"RTN","LEX2070D",68,0)
 ;;LR;;L5681;;L5681;;01/01/2005
"RTN","LEX2070D",69,0)
 ;;LR;;L5683;;L5683;;01/01/2005
"RTN","LEX2070D",70,0)
 ;;LR;;L5692;;L5990;;01/01/2002;;01/01/2003
"RTN","LEX2070D",71,0)
 ;;LR;;L5694;;L5988;;01/01/1999
"RTN","LEX2070D",72,0)
 ;;LR;;L5700;;L5700;;01/01/2005
"RTN","LEX2070D",73,0)
 ;;LR;;L5785;;L5847;;01/01/2003;;01/01/2005
"RTN","LEX2070D",74,0)
 ;;LR;;L5850;;L5990;;01/01/2003;;01/01/2005
"RTN","LEX2070D",75,0)
 ;;LR;;L6000;;L6650;;01/01/1999;;01/01/2003
"RTN","LEX2070D",76,0)
 ;;LR;;L6000;;L6020;;01/01/2003;;01/01/2005
"RTN","LEX2070D",77,0)
 ;;LR;;L6050;;L6637;;01/01/2003;;01/01/2005
"RTN","LEX2070D",78,0)
 ;;LR;;L6640;;L6645;;01/01/2003;;01/01/2005
"RTN","LEX2070D",79,0)
 ;;LR;;L6650;;L6650;;01/01/2003;;01/01/2005
"RTN","LEX2070D",80,0)
 ;;LR;;L6660;;L7274;;01/01/1999;;01/01/2005
"RTN","LEX2070D",81,0)
 ;;LR;;L6711;;L6722;;01/01/2009
"RTN","LEX2070D",82,0)
 ;;LR;;L6895;;L6895;;01/01/2005
"RTN","LEX2070D",83,0)
 ;;LR;;L8010;;L8035;;01/01/1999;;01/01/2005
"RTN","LEX2070D",84,0)
 ;;LR;;L8040;;L8047;;01/01/2001;;01/01/2005
"RTN","LEX2070D",85,0)
 ;;LR;;L8049;;L8049;;01/01/2001;;01/01/2003
"RTN","LEX2070D",86,0)
 ;;LR;;L8049;;L8180;;01/01/2003;;01/01/2005
"RTN","LEX2070D",87,0)
 ;;LR;;L8100;;L8180;;01/01/1999;;01/01/2003
"RTN","LEX2070D",88,0)
 ;;LR;;L8210;;L8220;;01/01/1999;;01/01/2005
"RTN","LEX2070D",89,0)
 ;;LR;;L8400;;L8490;;01/01/1999;;01/01/2005
"RTN","LEX2070D",90,0)
 ;;LR;;L8600;;L8600;;01/01/1999;;01/01/2005
"RTN","LEX2070D",91,0)
 ;;LR;;L8610;;L8610;;01/01/1999;;01/01/2005
"RTN","LEX2070D",92,0)
 ;;LR;;L8613;;L8658;;01/01/1999;;01/01/2005
"RTN","LEX2070D",93,0)
 ;;LR;;L8613;;L8658;;01/01/2003;;01/01/2005
"RTN","LEX2070D",94,0)
 ;;LR;;L8631;;L8631;;01/01/2005
"RTN","LEX2070D",95,0)
 ;;LR;;L8659;;L8659;;01/01/2005
"RTN","LEX2070D",96,0)
 ;;LR;;Q4003;;Q4049;;01/01/2002;;01/01/2005
"RTN","LEX2070D",97,0)
 ;;LR;;Q4075;;Q4077;;01/01/2005
"RTN","LEX2070D",98,0)
 ;;LR;;S0012;;S0023;;01/01/2004;;01/01/2005
"RTN","LEX2070D",99,0)
 ;;LR;;S0028;;S0028;;01/01/2004;;01/01/2005
"RTN","LEX2070D",100,0)
 ;;LR;;S0030;;S0081;;01/01/2004;;01/01/2005
"RTN","LEX2070D",101,0)
 ;;LR;;S0088;;S0093;;01/01/2004;;01/01/2005
"RTN","LEX2070D",102,0)
 ;;LR;;S0104;;S0108;;01/01/2004;;01/01/2005
"RTN","LEX2070D",103,0)
 ;;LR;;S0114;;S0201;;01/01/2004;;01/01/2005
"RTN","LEX2070D",104,0)
 ;;LR;;S0136;;S0141;;01/01/2005
"RTN","LEX2070D",105,0)
 ;;LR;;S0207;;S1040;;01/01/2004;;01/01/2005
"RTN","LEX2070D",106,0)
 ;;LR;;S0317;;S0317;;01/01/2005
"RTN","LEX2070D",107,0)
 ;;LR;;S2053;;S2107;;01/01/2004;;01/01/2005
"RTN","LEX2070D",108,0)
 ;;LR;;S2070;;S2070;;01/01/2005
"RTN","LEX2070D",109,0)
 ;;LR;;S2090;;S2091;;01/01/2005
"RTN","LEX2070D",110,0)
 ;;LR;;S2112;;S2150;;01/01/2004;;01/01/2005
"RTN","LEX2070D",111,0)
 ;;LR;;S2202;;S2202;;01/01/2004;;01/01/2005
"RTN","LEX2070D",112,0)
 ;;LR;;S2205;;S2209;;01/01/2004;;01/01/2005
"RTN","LEX2070D",113,0)
 ;;LR;;S2211;;S2211;;01/01/2004;;01/01/2005
"RTN","LEX2070D",114,0)
 ;;LR;;S2213;;S2213;;01/01/2005
"RTN","LEX2070D",115,0)
 ;;LR;;S2225;;S2235;;01/01/2005
"RTN","LEX2070D",116,0)
 ;;LR;;S2250;;S3655;;01/01/2004;;01/01/2005
"RTN","LEX2070D",117,0)
 ;;LR;;S2362;;S2363;;01/01/2005
"RTN","LEX2070D",118,0)
 ;;LR;;S3000;;S3000;;01/01/2005
"RTN","LEX2070D",119,0)
 ;;LR;;S3625;;S3625;;01/01/2005
"RTN","LEX2070D",120,0)
 ;;LR;;S3701;;S3904;;01/01/2004;;01/01/2005
"RTN","LEX2070D",121,0)
 ;;LR;;S3820;;S3829;;01/01/2005
"RTN","LEX2070D",122,0)
 ;;LR;;S3833;;S3834;;01/01/2005
"RTN","LEX2070D",123,0)
 ;;LR;;S3840;;S3852;;01/01/2005
"RTN","LEX2070D",124,0)
 ;;LR;;S4005;;S4040;;01/01/2004;;01/01/2005
"RTN","LEX2070D",125,0)
 ;;LR;;S4981;;S5001;;01/01/2004;;01/01/2005
"RTN","LEX2070D",126,0)
 ;;LR;;S5010;;S5014;;01/01/2004;;01/01/2005
"RTN","LEX2070D",127,0)
 ;;LR;;S5035;;S5502;;01/01/2004;;01/01/2005
"RTN","LEX2070D",128,0)
 ;;LR;;S5108;;S5109;;01/01/2005
"RTN","LEX2070D",129,0)
 ;;LR;;S5517;;S5523;;01/01/2004;;01/01/2005
"RTN","LEX2070D",130,0)
 ;;LR;;S5550;;S5571;;01/01/2005
"RTN","LEX2070D",131,0)
 ;;LR;;S8004;;S8042;;01/01/2004;;01/01/2005
"RTN","LEX2070D",132,0)
 ;;LR;;S8049;;S8055;;01/01/2004;;01/01/2005
"RTN","LEX2070D",133,0)
 ;;LR;;S8080;;S8101;;01/01/2004;;01/01/2005
"RTN","LEX2070D",134,0)
 ;;LR;;S8110;;S8190;;01/01/2004;;01/01/2005
"RTN","LEX2070D",135,0)
 ;;LR;;S8120;;S8121;;01/01/2005
"RTN","LEX2070D",136,0)
 ;;LR;;S8210;;S8265;;01/01/2004;;01/01/2005
"RTN","LEX2070D",137,0)
 ;;LR;;S8415;;S8431;;01/01/2004;;01/01/2005
"RTN","LEX2070D",138,0)
 ;;LR;;S8450;;S8490;;01/01/2004;;01/01/2005
"RTN","LEX2070D",139,0)
 ;;LR;;S8460;;S8460;;01/01/2005
"RTN","LEX2070D",140,0)
 ;;LR;;S8950;;S9022;;01/01/2004;;01/01/2005
"RTN","LEX2070D",141,0)
 ;;LR;;S8990;;S8990;;01/01/2005
"RTN","LEX2070D",142,0)
 ;;LR;;S9024;;S9025;;01/01/2004;;01/01/2005
"RTN","LEX2070D",143,0)
 ;;LR;;S9034;;S9034;;01/01/2004;;01/01/2005
"RTN","LEX2070D",144,0)
 ;;LR;;S9055;;S9083;;01/01/2004;;01/01/2005
"RTN","LEX2070D",145,0)
 ;;LR;;S9088;;S9150;;01/01/2004;;01/01/2005
"RTN","LEX2070D",146,0)
 ;;LR;;S9208;;S9209;;01/01/2004;;01/01/2005
"RTN","LEX2070D",147,0)
 ;;LR;;S9211;;S9214;;01/01/2004;;01/01/2005
"RTN","LEX2070D",148,0)
 ;;LR;;S9325;;S9381;;01/01/2004;;01/01/2005
"RTN","LEX2070D",149,0)
 ;;LR;;S9335;;S9335;;01/01/2005
"RTN","LEX2070D",150,0)
 ;;LR;;S9401;;S9401;;01/01/2004;;01/01/2005
"RTN","LEX2070D",151,0)
 ;;LR;;S9430;;S9504;;01/01/2004;;01/01/2005
"RTN","LEX2070D",152,0)
 ;;LR;;S9434;;S9434;;01/01/2005
"RTN","LEX2070D",153,0)
 ;;LR;;S9476;;S9476;;01/01/2005
"RTN","LEX2070D",154,0)
 ;;LR;;S9529;;S9529;;01/01/2004;;01/01/2005
"RTN","LEX2070D",155,0)
 ;;LR;;S9537;;S9538;;01/01/2004;;01/01/2005
"RTN","LEX2070D",156,0)
 ;;LR;;S9542;;S9542;;01/01/2004;;01/01/2005
"RTN","LEX2070D",157,0)
 ;;LR;;S9558;;S9590;;01/01/2004;;01/01/2005
"RTN","LEX2070D",158,0)
 ;;LR;;S9810;;T1007;;01/01/2004;;01/01/2005
"RTN","LEX2070D",159,0)
 ;;LR;;T1009;;T1010;;01/01/2004;;01/01/2005
"RTN","LEX2070D",160,0)
 ;;LR;;T1012;;T2007;;01/01/2004;;01/01/2005
"RTN","LEX2070D",161,0)
 ;;LR;;V2100;;V2314;;01/01/1999;;01/01/2005
"RTN","LEX2070D",162,0)
 ;;LR;;V2121;;V2121;;01/01/2005
"RTN","LEX2070D",163,0)
 ;;LR;;V2221;;V2221;;01/01/2005
"RTN","LEX2070D",164,0)
 ;;LR;;V2316;;V2599;;01/01/1999;;01/01/2004
"RTN","LEX2070D",165,0)
 ;;LR;;V2318;;V2599;;01/01/2004;;01/01/2005
"RTN","LEX2070D",166,0)
 ;;LR;;V2321;;V2321;;01/01/2005
"RTN","LEX2070D",167,0)
 ;;LR;;V2623;;V2781;;01/01/1999;;01/01/2005
"RTN","LEX2070D",168,0)
 ;;LR;;V2745;;V2745;;01/01/2005
"RTN","LEX2070D",169,0)
 ;;LR;;V2761;;V2762;;01/01/2005
"RTN","LEX2070D",170,0)
 ;;LR;;V2782;;V2784;;01/01/2005
"RTN","LEX2070D",171,0)
 ;;LR;;V2786;;V2786;;01/01/2005
"RTN","LEX2070D",172,0)
 ;;LR;;V2790;;V2790;;01/01/2001;;01/01/2005
"RTN","LEX2070D",173,0)
 ;;LR;;V5010;;V5060;;01/01/1999;;01/01/2005
"RTN","LEX2070D",174,0)
 ;;LR;;V5090;;V5090;;01/01/1999;;01/01/2003
"RTN","LEX2070D",175,0)
 ;;LR;;V5090;;V5140;;01/01/2003;;01/01/2005
"RTN","LEX2070D",176,0)
 ;;LR;;V5100;;V5140;;01/01/2002;;01/01/2003
"RTN","LEX2070D",177,0)
 ;;LR;;V5160;;V5180;;01/01/1999;;01/01/2003
"RTN","LEX2070D",178,0)
 ;;LR;;V5160;;V5180;;01/01/2003;;01/01/2005
"RTN","LEX2070D",179,0)
 ;;LR;;V5200;;V5200;;01/01/1999
"RTN","LEX2070D",180,0)
 ;;LR;;V5200;;V5220;;01/01/2002;;01/01/2005
"RTN","LEX2070D",181,0)
 ;;LR;;V5240;;V5267;;01/01/2002;;01/01/2005
"RTN","LEX2070D",182,0)
 ;;LR;;V5273;;V5273;;01/01/2002;;01/01/2005
"RTN","LEX2070D",183,0)
 ;;LR;;V5275;;V5275;;01/01/2002;;01/01/2003
"RTN","LEX2070D",184,0)
 ;;LR;;V5275;;V5298;;01/01/2003;;01/01/2005
"RTN","LEX2070D",185,0)
 ;;;;;;;;;;
"RTN","LEX2070P")
0^2^B18927929^n/a
"RTN","LEX2070P",1,0)
LEX2070P ;ISL/KER - LEX*2.0*70 Pre/Post Install ;06/09/2010
"RTN","LEX2070P",2,0)
 ;;2.0;LEXICON UTILITY;**70**;Sep 23, 1996;Build 2
"RTN","LEX2070P",3,0)
 ;               
"RTN","LEX2070P",4,0)
 ; Global Variables
"RTN","LEX2070P",5,0)
 ;    ^LEXM(              N/A
"RTN","LEX2070P",6,0)
 ;               
"RTN","LEX2070P",7,0)
 ; External References
"RTN","LEX2070P",8,0)
 ;    ^DIC                ICR  10006
"RTN","LEX2070P",9,0)
 ;    $$NOW^XLFDT         ICR  10103
"RTN","LEX2070P",10,0)
 ;    $$PKGPAT^XPDIP      ICR   2067
"RTN","LEX2070P",11,0)
 ;    MES^XPDUTL          ICR  10141
"RTN","LEX2070P",12,0)
 ;               
"RTN","LEX2070P",13,0)
 Q
"RTN","LEX2070P",14,0)
POST ; Post-Install
"RTN","LEX2070P",15,0)
 ;            
"RTN","LEX2070P",16,0)
 ; From IMP in the Environment Check
"RTN","LEX2070P",17,0)
 ;            
"RTN","LEX2070P",18,0)
 ;      LEXBUILD   Build Name - LEX*2.0*nn
"RTN","LEX2070P",19,0)
 ;      LEXPTYPE   Patch Type - Remedy or Quarterly
"RTN","LEX2070P",20,0)
 ;      LEXFY      Fiscal Year - FYnn
"RTN","LEX2070P",21,0)
 ;      LEXQTR     Quarter - 1st, 2nd, 3rd, or 4th
"RTN","LEX2070P",22,0)
 ;      LEXIGHF    Name of Host File - LEX_2_nn.GBL
"RTN","LEX2070P",23,0)
 ;      LEXLREV    Revision - nn
"RTN","LEX2070P",24,0)
 ;      LEXREQP    Required Builds - build;build;build
"RTN","LEX2070P",25,0)
 ;            
"RTN","LEX2070P",26,0)
 N LEXEDT,LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR,LEXB,LEXCD,LEXSTR,LEXLAST,LEXOK,X,Y S LEXOK=0 D IMP
"RTN","LEX2070P",27,0)
 S LEXEDT=$G(^LEXM(0,"CREATED")) D:LEXOK>0 LOAD,CON,IP
"RTN","LEX2070P",28,0)
 Q
"RTN","LEX2070P",29,0)
LOAD ; Load Data
"RTN","LEX2070P",30,0)
 ;             
"RTN","LEX2070P",31,0)
 ;      LEXSHORT   Send Short Message
"RTN","LEX2070P",32,0)
 ;      LEXMSG     Flag to send Message
"RTN","LEX2070P",33,0)
 ;            
"RTN","LEX2070P",34,0)
 N LEXSHORT,LEXMSG S LEXSHORT="",LEXMSG=""
"RTN","LEX2070P",35,0)
 S LEXSTR=$G(LEXPTYPE) S:$L($G(LEXFY))&($L($G(LEXQTR))) LEXSTR=LEXSTR_" for "_$G(LEXFY)_" "_$G(LEXQTR)_" Quarter"
"RTN","LEX2070P",36,0)
 S U="^",LEXB=$G(^LEXM(0,"BUILD")) Q:LEXB=""  Q:$G(LEXBUILD)=""
"RTN","LEX2070P",37,0)
 D:LEXB=LEXBUILD EN^LEXXGI
"RTN","LEX2070P",38,0)
LQ ; Load Quit
"RTN","LEX2070P",39,0)
 D KLEXM
"RTN","LEX2070P",40,0)
 Q
"RTN","LEX2070P",41,0)
 ;             
"RTN","LEX2070P",42,0)
KLEXM ; Subscripted Kill of ^LEXM
"RTN","LEX2070P",43,0)
 H 2 N DA S DA=0 F  S DA=$O(^LEXM(DA)) Q:+DA=0  K ^LEXM(DA)
"RTN","LEX2070P",44,0)
 N LEX S LEX=$G(^LEXM(0,"PRO")) K ^LEXM(0)
"RTN","LEX2070P",45,0)
 Q
"RTN","LEX2070P",46,0)
 ;
"RTN","LEX2070P",47,0)
IP ; Informational Patches
"RTN","LEX2070P",48,0)
 N LEX,LEXP,LEXPS,LEXSQ,LEXT,LEXI,LEXE,LEXX,LEXC,LEXPTYPE,LEXLREV,LEXREQP,LEXBUILD,LEXIGHF,LEXFY,LEXQTR,LEXSUB,LEXOK D IMP S LEXSUB=""
"RTN","LEX2070P",49,0)
 I $G(LEXPTYPE)="Code Set Update",$G(LEXFY)["FY",$L($G(LEXQTR)) S LEXSUB="Code Set "_LEXFY_" "_LEXQTR_" Qtr Update"
"RTN","LEX2070P",50,0)
 S LEXC=0 F LEXI=1:1 D  Q:'$L(LEXX)
"RTN","LEX2070P",51,0)
 . S LEXX="" S LEXE="S LEXX=$T(IPL+"_LEXI_")" X LEXE S:'$L($TR($G(LEXX),";","")) LEXX="" Q:'$L(LEXX)  S LEXPS=$P(LEXX,";;",2) S:$L(LEXPS,"*")=3 LEXC=LEXC+1
"RTN","LEX2070P",52,0)
 I LEXC>0 S LEXT=" Informational Patch"_$S(+($G(LEXC))>1:"es",1:"") S:$L(LEXSUB) LEXT=LEXT_" for the "_LEXSUB S LEXT=LEXT_":" D MES^XPDUTL(LEXT)
"RTN","LEX2070P",53,0)
 S LEXC=0 F LEXI=1:1 D  Q:'$L(LEXX)
"RTN","LEX2070P",54,0)
 . S LEXX="" S LEXE="S LEXX=$T(IPL+"_LEXI_")" X LEXE S:'$L($TR($G(LEXX),";","")) LEXX="" Q:'$L(LEXX)  S LEXPS=$P(LEXX,";;",2) S:'$L(LEXPS) LEXX="" Q:'$L(LEXX)
"RTN","LEX2070P",55,0)
 . S LEXSQ=+($P(LEXX,";;",3)) S:+LEXSQ>0 LEXPS=LEXPS_" SEQ #"_LEXSQ S LEXC=LEXC+1 D:LEXC=1 MES^XPDUTL(" ") D IPU(LEXPS)
"RTN","LEX2070P",56,0)
 D:LEXC>0 MES^XPDUTL(" ")
"RTN","LEX2070P",57,0)
 Q
"RTN","LEX2070P",58,0)
IPU(X) ;   Patch Update
"RTN","LEX2070P",59,0)
 N LEXID,LEXOP,LEXPC,LEXPK,LEXPKI,LEXPN,LEXPTI,LEXSQ,LEXT,LEXVR,LEXVRI,LEXAR
"RTN","LEX2070P",60,0)
 S LEXPC=$G(X),LEXSQ=$P(LEXPC," ",2,299),LEXID=$P(LEXPC," ",1),LEXOP=""
"RTN","LEX2070P",61,0)
 S LEXPK=$S($P(LEXPC,"*",1)="ICD":"DRG GROUPER",$P(LEXPC,"*",1)="ICPT":"CPT/HCPCS CODES",$P(LEXPC,"*",1)="LEX":"LEXICON UTILITY",1:"") Q:'$L(LEXPK)
"RTN","LEX2070P",62,0)
 S LEXPKI=$$PIEN(LEXPK) Q:+LEXPKI'>0  S LEXVR=$P(LEXPC,"*",2) Q:'$L(LEXVR)  Q:LEXVR'["."  S LEXPN=$P(LEXPC,"*",3) Q:'$L(LEXPN)  Q:+LEXPN'>0
"RTN","LEX2070P",63,0)
 S LEXAR=LEXPN_"^"_$$NOW^XLFDT_"^"_$G(DUZ)
"RTN","LEX2070P",64,0)
 I $L($G(LEXBUILD)) S LEXOP=$$PKGPAT^XPDIP(LEXPKI,LEXVR,.LEXAR)
"RTN","LEX2070P",65,0)
 S LEXVRI=$P(LEXOP,"^",1),LEXPTI=$P(LEXOP,"^",2)
"RTN","LEX2070P",66,0)
 S LEXT="   "_LEXID,LEXT=LEXT_$J(" ",(17-$L(LEXT)))_LEXSQ,LEXT=LEXT_$J(" ",(28-$L(LEXT)))_LEXPK
"RTN","LEX2070P",67,0)
 I $L(LEXOP),LEXPTI>0 S LEXT=LEXT_$J(" ",(46-$L(LEXT)))_"Patch History updated" D MES^XPDUTL(LEXT)
"RTN","LEX2070P",68,0)
 I $L(LEXOP),LEXPTI'>0 S LEXT=LEXT_$J(" ",(46-$L(LEXT)))_"Patch History not updated" D MES^XPDUTL(LEXT)
"RTN","LEX2070P",69,0)
 I '$L(LEXOP) D MES^XPDUTL(LEXT)
"RTN","LEX2070P",70,0)
 Q
"RTN","LEX2070P",71,0)
IPL ;   Patch List  ;;Patch;;Sequence #
"RTN","LEX2070P",72,0)
 ;;ICPT*6.0*52;;50
"RTN","LEX2070P",73,0)
 ;;;;
"RTN","LEX2070P",74,0)
 ;            
"RTN","LEX2070P",75,0)
PRE ; Pre-Install              (N/A for this patch)
"RTN","LEX2070P",76,0)
 Q
"RTN","LEX2070P",77,0)
CON ; Conversion of data
"RTN","LEX2070P",78,0)
 D EN^LEX2070A
"RTN","LEX2070P",79,0)
 Q
"RTN","LEX2070P",80,0)
 ;            
"RTN","LEX2070P",81,0)
 ; Miscellaneous
"RTN","LEX2070P",82,0)
PIEN(X) ;   Package IEN
"RTN","LEX2070P",83,0)
 N DIC,DTOUT,DTOUT,Y S X=$G(X),DIC="^DIC(9.4,",DIC(0)="B" D ^DIC S X=+Y
"RTN","LEX2070P",84,0)
 Q X
"RTN","LEX2070P",85,0)
IMP ;   Call IMP in Environment Check
"RTN","LEX2070P",86,0)
 K LEXBUILD,LEXFY,LEXIGHF,LEXLREV,LEXPTYPE,LEXQTR,LEXREQP N LEXF
"RTN","LEX2070P",87,0)
 S LEXF=$P($T(+1)," ",1) S:$E(LEXF,$L(LEXF))="P" LEXF=$E(LEXF,1,($L(LEXF)-1)) Q:'$L(LEXF)
"RTN","LEX2070P",88,0)
 S LEXF="IMP^"_LEXF Q:'$L($T(@LEXF))  D @LEXF S:$L(LEXBUILD) LEXOK=1
"RTN","LEX2070P",89,0)
 Q
"VER")
8.0^22.0
"BLD",7354,6)
^65
**END**
**END**
