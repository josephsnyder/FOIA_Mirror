$TXT Created by HARTLEY,PETER at DEVEVC.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 06/19/09 at 11:35
=============================================================================
Run Date: FEB 25, 2010                     Designation: DG*5.3*805
Package : DG - REGISTRATION                   Priority: Mandatory
Version : 5.3       SEQ #725                    Status: Released
                  Compliance Date: MAR 28, 2010
=============================================================================

Associated patches: (v)DG*5.3*688  <<= must be installed BEFORE `DG*5.3*805'

Subject: XINDEX reporting Lock Missing Timeout errors

Category: 
  - Routine

Description:
============

 When XINDEX is run on the three patches in the Enrollment VistA Changes
 Release 2 (EVC R2) build, Lock Missing Timeout is being reported in
 several routines. 
  
 Patches DG*5.3*805, EAS*1.0*93, and IVM*2.0*139 add timeouts to the reported
 Lock commands so that they are no longer reported by XINDEX.  
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 There is no NSR associated with this patch.
  
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 HD0000000305037 - XINDEX reporting Lock Missing Timeout errors 
  
  
 Test Sites:
 -----------
  
 Alexandria VAMC
 Hudson Valley Healthcare
 Louisville VAMC
  
  
        ================INSTALLATION INSTRUCTIONS =================
 
 You may wish to stop the HL7 filers prior to the install to prevent
 possible 'No Source Errors' from occurring. No transmissions will be
 lost if the filers are not stopped first, they will be picked up once
 the filers are restarted.  
 
 This patch may be installed during normal working hours
  
 Install Time - less than 5 minutes
  
       
 1.  LOAD TRANSPORT GLOBAL 
     ---------------------
     Choose the PackMan message containing this patch and invoke the 
     INSTALL/CHECK MESSAGE PackMan option.  
  
 2.  START UP KIDS  
     -------------
     Start up the Kernel Installation and Distribution System Menu 
     [XPD MAIN]: 
  
          Edits and Distribution ...  
          Utilities ...  
          Installation ...  
  
   Select Kernel Installation & Distribution System Option: INStallation 
                                                            --- 
          Load a Distribution  
          Print Transport Global 
          Compare Transport Global to Current System 
          Verify Checksums in Transport Global 
          Install Package(s) 
          Restart Install of Package(s) 
          Unload a Distribution 
          Backup a Transport Global 
  
  
 3.  Select Installation Option:  
     ---------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
            NAME, enter DG*5.3*805):
       
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DD's, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
      
  
 4.Select Installation Option: Install Package(s)
                               ------------------
     **This is the step to start the installation of this KIDS patch: 
   
     a.  Choose the Install Package(s) option to start the patch
         install.
     b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
         YES//' answer NO
     c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
         Options, and Protocols? YES//' answer YES
     d.  When prompted 'Enter options you wish to mark as 'Out Of
         Order':'  press <return>
          Load/Edit Patient  Data          [DG LOAD PATIENT DATA]
          Register a Patient               [DG REGISTER PATIENT]
          Means Test User Menu             [DG MEANS TEST USER MENU]
          Means Test Supervisor Menu       [DG MEANS TEST SUPERVISOR MENU]
     e.  When prompted 'Enter protocols you wish to mark as 'Out Of
         Order':' press <return>.
 
  5.  When the installation is complete, be sure to re-start the filers
      if you chose to stop them.
 
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.3;Registration;**[Patch List]**;Aug 13, 1993;Build 4

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DGMTU2
    Before: B46628572   After: B45258364  **33,688,805**
 Description of Changes:
  Before:
  
    DGMTU2 ;ALB/RMO - Income Utilities ;28 JAN 1992 11:00 am                      
  2        ;;5.3;Registration;**33,688**;Aug 13, 1993;Build 26
  
  After:
  
    DGMTU2 ;ALB/RMO - Income Utilities ; 6/12/09 11:04am                          
  2        ;;5.3;Registration;**33,688,805**;Aug 13, 1993;Build 29 
  
  Before:
  
  33       N DA,DD,DGINI,DGNOW,DIC,DIK,DINUM,DLAYGO,DO,X,Y,%                      
  34       D NOW^%DTC S DGNOW=%                                                   
  35       S X=DGLY,(DIC,DIK)="^DGMT(408.21,",DIC(0)="L",DLAYGO=408.21            
  36       D FILE^DICN S DGINI=+Y                                                 
  37       I DGINI>0 L +^DGMT(408.21,DGINI) S $P(^DGMT(408.21,DGINI,0),"^",2)=DG  
           PRI,^("USR")=DUZ_"^"_DGNOW,DA=DGINI D IX1^DIK L -^DGMT(408.21,DGINI) 
  
  After:
  
  33       N DA,DD,DGINI,DGNOW,DIC,DIK,DINUM,DLAYGO,DO,X,Y,%                      
  34       D NOW^%DTC S DGNOW=%                                                   
  35       S X=DGLY,(DIC,DIK)="^DGMT(408.21,",DIC(0)="L",DLAYGO=408.21            
  36       S DIC("DR")=".02////"_DGPRI_";101////"_DUZ_";102////"_DGNOW 
  37       D FILE^DICN S DGINI=+Y                                                 
  
  Before:
  
  54       N DA,DD,DGIRI,DIC,DIK,DINUM,DLAYGO,DO,X,Y                              
  55       S X=DFN,(DIC,DIK)="^DGMT(408.22,",DIC(0)="L",DLAYGO=408.22             
  56       D FILE^DICN S DGIRI=+Y                                                 
  57       I DGIRI>0 L +^DGMT(408.22,DGIRI) S $P(^DGMT(408.22,DGIRI,0),"^",2)=DG  
           INI,DA=DGIRI D IX1^DIK L -^DGMT(408.22,DGIRI)
  
  After:
  
  55       N DA,DD,DGIRI,DIC,DIK,DINUM,DLAYGO,DO,X,Y
  56       S X=DFN,(DIC,DIK)="^DGMT(408.22,",DIC(0)="L",DLAYGO=408.22
  57       S DIC("DR")=".02////"_DGINI
  58       D FILE^DICN S DGIRI=+Y
  
  
  
  
  
  
  

Routine Name: DGRPEIS1
    Before: B27428084   After: B29345023  **10,45,108,624,688,805**
 Description of Changes:
  Before:
  
  DGRPEIS1 ;ALB/MIR - CALLS TO ADD NEW PATIENT RELATIONS AND INCOME PERSONS ; 27  
            FEB 92                                                                
  2        ;;5.3;Registration;**10,45,108,624,688**;Aug 13, 1993;Build 26 
  
  After:
  
  DGRPEIS1 ;ALB/MIR - CALLS TO ADD NEW PATIENT RELATIONS AND INCOME PERSONS ; 6/  
           11/09 5:43pm                                                           
  2        ;;5.3;Registration;**10,45,108,624,688,805**;Aug 13, 1993;Build 29 
  
  Before:
  
  23       S (DIK,DIC)="^DGPR(408.13,",DIC(0)="L",DLAYGO=408.13,X=$P(DGRP0ND,"^"  
           ,1) K DD,DO D FILE^DICN S (DGIPI,DA)=+Y K DLAYGO                       
  24       L +^DGPR(408.13,+DGIPI) S ^DGPR(408.13,+DGIPI,0)=DGRP0ND S ^DGPR(408.  
           13,+DGIPI,1)=DGRP1ND D IX1^DIK L -^DGPR(408.13,+DGIPI)                 
  25       S Y=DGIPI,DGRP0ND=DFN_"^"_$S(SPOUSE:2,1:"")_"^"_+Y_";DGPR(408.13,"
  
  After:
  
  24       N CNT S CNT=0                                                          
  25       F I=2,3,9 D                                                            
  26       .S CNT=CNT+1,$P(DIC("DR"),";",CNT)=".0"_I_"////"_$P(DGRP0ND,U,I)       
  27       F I=10,11 D                                                            
  28       .S CNT=CNT+1,$P(DIC("DR"),";",CNT)="."_I_"////"_$P(DGRP0ND,U,I)        
  29       F I=1:1:8 S DIC("DR")=DIC("DR")_";1."_I_"////"_$P(DGRP1ND,U,I)         
  30       S (DIK,DIC)="^DGPR(408.13,",DIC(0)="L",DLAYGO=408.13,X=$P(DGRP0ND,"^"  
           ,1) K DD,DO D FILE^DICN S (DGIPI,DA)=+Y K DLAYGO
  31       S Y=DGIPI,DGRP0ND=DFN_"^"_$S(SPOUSE:2,1:"")_"^"_+Y_";DGPR(408.13,"
  
  Before:
  
  49       S (DIK,DIC)="^DGPR(408.12,",DIC(0)="L",DLAYGO=408.12,X=+DGRP0ND K DD,  
           DO D FILE^DICN S DGPRI=+Y K DLAYGO                                     
  50       S DA=+DGPRI L +^DGPR(408.12,+DGPRI) S ^DGPR(408.12,+DGPRI,0)=DGRP0ND,  
           ^DGPR(408.12,+DGPRI,"E",0)="^408.1275D^1^1",^(1,0)=DGACT_"^"_1 D IX1^  
           DIK L -^DGPR(408.12,+DGPRI)                                            
  51       D RESET^DGMTU11(DFN)
  
  After:
  
  57       S DIC("DR")=".02////"_$P(DGRP0ND,U,2)                                  
  58       N VAR S VAR=$P(DGRP0ND,U,3)
  59       S DIC("DR")=DIC("DR")_";.03////^S X=VAR"
  60       S (DIK,DIC)="^DGPR(408.12,",DIC(0)="L",DLAYGO=408.12,X=+DGRP0ND K DD,
           DO D FILE^DICN S DGPRI=+Y K DLAYGO D
  59       .N DD,D0,DA,DLAYGO,DIC,X
  60       .S DA(1)=DGPRI,DIC(0)="L",DIC="^DGPR(408.12,"_DA(1)_",""E"","
  61       .S DLAYGO=408.1275,DIC("DR")=".02////1",X=DGACT
  62       .D FILE^DICN
  64       D RESET^DGMTU11(DFN)
  
  
  
  

 
Routine list of preceding patches: 688

=============================================================================
User Information:
Entered By  : HARTLEY,PETER                 Date Entered  : FEB 26, 2009
Completed By: SBERRO,SANDRA                 Date Completed: FEB 25, 2010
Released By : FITCH,DONNA                   Date Released : FEB 25, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
