Released DG*5.3*779 SEQ #691
Extracted from mail message
**KIDS**:DG*5.3*779^

**INSTALL NAME**
DG*5.3*779
"BLD",7445,0)
DG*5.3*779^REGISTRATION^0^3080612^y
"BLD",7445,4,0)
^9.64PA^2^1
"BLD",7445,4,2,0)
2
"BLD",7445,4,2,2,0)
^9.641^2^1
"BLD",7445,4,2,2,2,0)
PATIENT  (File-top level)
"BLD",7445,4,2,2,2,1,0)
^9.6411^1010.164^6
"BLD",7445,4,2,2,2,1,1010.1511,0)
APPOINTMENT REQUEST DATE
"BLD",7445,4,2,2,2,1,1010.159,0)
APPOINTMENT REQUEST ON 1010EZ
"BLD",7445,4,2,2,2,1,1010.161,0)
APPOINTMENT REQUEST STATUS
"BLD",7445,4,2,2,2,1,1010.162,0)
DATE STATUS LAST EDITED
"BLD",7445,4,2,2,2,1,1010.163,0)
APPOINTMENT REQUEST COMMENT
"BLD",7445,4,2,2,2,1,1010.164,0)
DATE COMMENT LAST EDITED
"BLD",7445,4,2,222)
y^n^p^^^^n^^n
"BLD",7445,4,2,224)

"BLD",7445,4,"APDD",2,2)

"BLD",7445,4,"APDD",2,2,1010.1511)

"BLD",7445,4,"APDD",2,2,1010.159)

"BLD",7445,4,"APDD",2,2,1010.161)

"BLD",7445,4,"APDD",2,2,1010.162)

"BLD",7445,4,"APDD",2,2,1010.163)

"BLD",7445,4,"APDD",2,2,1010.164)

"BLD",7445,4,"B",2,2)

"BLD",7445,6.3)
11
"BLD",7445,"KRN",0)
^9.67PA^8989.52^19
"BLD",7445,"KRN",.4,0)
.4
"BLD",7445,"KRN",.401,0)
.401
"BLD",7445,"KRN",.402,0)
.402
"BLD",7445,"KRN",.402,"NM",0)
^9.68A^1^1
"BLD",7445,"KRN",.402,"NM",1,0)
DGEN NEACL    FILE #2^2^0
"BLD",7445,"KRN",.402,"NM","B","DGEN NEACL    FILE #2",1)

"BLD",7445,"KRN",.403,0)
.403
"BLD",7445,"KRN",.5,0)
.5
"BLD",7445,"KRN",.84,0)
.84
"BLD",7445,"KRN",3.6,0)
3.6
"BLD",7445,"KRN",3.8,0)
3.8
"BLD",7445,"KRN",9.2,0)
9.2
"BLD",7445,"KRN",9.8,0)
9.8
"BLD",7445,"KRN",9.8,"NM",0)
^9.68A^3^3
"BLD",7445,"KRN",9.8,"NM",1,0)
DGENACL^^0^B29975193
"BLD",7445,"KRN",9.8,"NM",2,0)
DGENACL1^^0^B36626109
"BLD",7445,"KRN",9.8,"NM",3,0)
DGENA2^^0^B30778847
"BLD",7445,"KRN",9.8,"NM","B","DGENA2",3)

"BLD",7445,"KRN",9.8,"NM","B","DGENACL",1)

"BLD",7445,"KRN",9.8,"NM","B","DGENACL1",2)

"BLD",7445,"KRN",19,0)
19
"BLD",7445,"KRN",19,"NM",0)
^9.68A^6^6
"BLD",7445,"KRN",19,"NM",1,0)
DGEN NEACL REQUEST MGT MENU^^0
"BLD",7445,"KRN",19,"NM",2,0)
DGEN NEACL REQUEST MGT EDIT^^0
"BLD",7445,"KRN",19,"NM",3,0)
DGEN NEACL MGT RPT1^^0
"BLD",7445,"KRN",19,"NM",4,0)
DGEN NEACL MGT RPT1BK^^0
"BLD",7445,"KRN",19,"NM",5,0)
DGEN NEACL MGT RPT2^^0
"BLD",7445,"KRN",19,"NM",6,0)
SDAPP^^2
"BLD",7445,"KRN",19,"NM","B","DGEN NEACL MGT RPT1",3)

"BLD",7445,"KRN",19,"NM","B","DGEN NEACL MGT RPT1BK",4)

"BLD",7445,"KRN",19,"NM","B","DGEN NEACL MGT RPT2",5)

"BLD",7445,"KRN",19,"NM","B","DGEN NEACL REQUEST MGT EDIT",2)

"BLD",7445,"KRN",19,"NM","B","DGEN NEACL REQUEST MGT MENU",1)

"BLD",7445,"KRN",19,"NM","B","SDAPP",6)

"BLD",7445,"KRN",19.1,0)
19.1
"BLD",7445,"KRN",101,0)
101
"BLD",7445,"KRN",409.61,0)
409.61
"BLD",7445,"KRN",771,0)
771
"BLD",7445,"KRN",870,0)
870
"BLD",7445,"KRN",8989.51,0)
8989.51
"BLD",7445,"KRN",8989.52,0)
8989.52
"BLD",7445,"KRN",8994,0)
8994
"BLD",7445,"KRN","B",.4,.4)

"BLD",7445,"KRN","B",.401,.401)

"BLD",7445,"KRN","B",.402,.402)

"BLD",7445,"KRN","B",.403,.403)

"BLD",7445,"KRN","B",.5,.5)

"BLD",7445,"KRN","B",.84,.84)

"BLD",7445,"KRN","B",3.6,3.6)

"BLD",7445,"KRN","B",3.8,3.8)

"BLD",7445,"KRN","B",9.2,9.2)

"BLD",7445,"KRN","B",9.8,9.8)

"BLD",7445,"KRN","B",19,19)

"BLD",7445,"KRN","B",19.1,19.1)

"BLD",7445,"KRN","B",101,101)

"BLD",7445,"KRN","B",409.61,409.61)

"BLD",7445,"KRN","B",771,771)

"BLD",7445,"KRN","B",870,870)

"BLD",7445,"KRN","B",8989.51,8989.51)

"BLD",7445,"KRN","B",8989.52,8989.52)

"BLD",7445,"KRN","B",8994,8994)

"BLD",7445,"QUES",0)
^9.62^^
"BLD",7445,"REQB",0)
^9.611^1^1
"BLD",7445,"REQB",1,0)
DG*5.3*491^2
"BLD",7445,"REQB","B","DG*5.3*491",1)

"FIA",2)
PATIENT
"FIA",2,0)
^DPT(
"FIA",2,0,0)
2I
"FIA",2,0,1)
y^n^p^^^^n^^n
"FIA",2,0,10)

"FIA",2,0,11)

"FIA",2,0,"RLRO")

"FIA",2,0,"VR")
5.3^DG
"FIA",2,2)
1
"FIA",2,2,1010.1511)

"FIA",2,2,1010.159)

"FIA",2,2,1010.161)

"FIA",2,2,1010.162)

"FIA",2,2,1010.163)

"FIA",2,2,1010.164)

"IX",2,2,"AEAR",0)
2^AEAR^Contains YES entries^R^^F^IR^I^2^^^^^S
"IX",2,2,"AEAR",.1,0)
^^1^1^3080401^^
"IX",2,2,"AEAR",.1,1,0)
This cross reference contains 'yes' entries
"IX",2,2,"AEAR",1)
S ^DPT("AEAR",X,DA)=""
"IX",2,2,"AEAR",1.4)
S X=X(1)=1
"IX",2,2,"AEAR",2)
K ^DPT("AEAR",X,DA)
"IX",2,2,"AEAR",2.5)
K ^DPT("AEAR")
"IX",2,2,"AEAR",11.1,0)
^.114IA^1^1
"IX",2,2,"AEAR",11.1,1,0)
1^F^2^1010.159^^1^F
"IX",2,2,"AEAR",11.1,1,3)

"KRN",.402,2248,-1)
0^1
"KRN",.402,2248,0)
DGEN NEACL^3080402.1222^^2^^^3080402
"KRN",.402,2248,"DIAB",2,0,2,4)
1010.163;"COMMENT"
"KRN",.402,2248,"DIAB",3,0,2,2)
1010.161;"STATUS"
"KRN",.402,2248,"DR",1,2)
N DGFLAG,DGBD,DGAD,DGBC,DGBS,DGAC,DIERR,ZERR,DFNIEN S DIE("NO^")="";S DFNIEN=DA D APPTCK^DGENACL S DGFLAG=$$GET1^DIQ(2,DA,1010.159,"I",,"ZERR");I DGFLAG'=1 D EN^DDIOL(">>> NO APPOINTMENT REQUEST ON 1010EZ!!","","!!") S Y="@100";
"KRN",.402,2248,"DR",1,2,1)
D EN^DDIOL("APPOINTMENT REQUEST ON 1010EZ:"_$$GET1^DIQ(2,DA,1010.159)) D EN^DDIOL("//  (no editing)","","?0");D EN^DDIOL("APPOINTMENT REQUEST DATE:"_$$GET1^DIQ(2,DA,1010.1511)) D EN^DDIOL("//  (no editing)","","?0");
"KRN",.402,2248,"DR",1,2,2)
S DGFLAG=$$GET1^DIQ(2,DA,1010.161,,,"ZERR"),DGBS=$$GET1^DIQ(2,DA,1010.161,"I",,"ZERR");I DGFLAG'="" D EN^DDIOL("STATUS: "_DGFLAG) D EN^DDIOL("//  (last edited: "_$$GET1^DIQ(2,DA,1010.162)_")","","?0");1010.161STATUS~;@80;
"KRN",.402,2248,"DR",1,2,3)
S DGFLAG=$$GET1^DIQ(2,DA,1010.163,,,"ZERR"),DGBC=DGFLAG,DGSTA=$$GET1^DIQ(2,DA,1010.161,"I",,"ZERR"),DGBD=$$GET1^DIQ(2,DA,1010.164,"I",,"ZERR");
"KRN",.402,2248,"DR",1,2,4)
I DGFLAG'="" D EN^DDIOL("COMMENT: "_DGFLAG) D EN^DDIOL("//  (last edited: "_$$GET1^DIQ(2,DA,1010.164)_")","","?0");1010.163COMMENT~;S DGAC=$$GET1^DIQ(2,DA,1010.163,,,"ZERR"),DGAD=$$GET1^DIQ(2,DA,1010.164,"I",,"ZERR");
"KRN",.402,2248,"DR",1,2,5)
I (DGSTA="C")&(DGAC="") S Y="@80";I (DGSTA="C")&(DGBS'=DGSTA)&(DGBC=DGAC) S Y="@80";@100;
"KRN",19,612,-1)
2^6
"KRN",19,612,0)
SDAPP^Appointment Menu^^M^.5^^^^^^^16^^^1
"KRN",19,612,10,0)
^19.01IP^27^22
"KRN",19,612,10,27,0)
13549
"KRN",19,612,10,27,"^")
DGEN NEACL REQUEST MGT MENU
"KRN",19,612,"U")
APPOINTMENT MENU
"KRN",19,13548,-1)
0^2
"KRN",19,13548,0)
DGEN NEACL REQUEST MGT EDIT^Management Edit^^R^^^^^^^^REGISTRATION
"KRN",19,13548,1,0)
^19.06^3^3^3080326^^^^
"KRN",19,13548,1,1,0)
Option will provide the user a means to remove patients from the call 
"KRN",19,13548,1,2,0)
list (by updating the status to 'Cancelled' or 'Filled'), update the 
"KRN",19,13548,1,3,0)
status to 'In Process' and add comments to the veterans on the Call List.
"KRN",19,13548,25)
EDIT^DGENACL
"KRN",19,13548,"U")
MANAGEMENT EDIT
"KRN",19,13549,-1)
0^1
"KRN",19,13549,0)
DGEN NEACL REQUEST MGT MENU^New Enrollee Appointment Request Management Menu^^M^^^^^^^^REGISTRATION
"KRN",19,13549,1,0)
^^6^6^3080326^
"KRN",19,13549,1,1,0)
This menu assists with tracking of new enrollee's who request an
"KRN",19,13549,1,2,0)
appointment. When an enrollee request is made, the request will stay on
"KRN",19,13549,1,3,0)
the 'Call List' until an appointment is made/'filled' or the request is
"KRN",19,13549,1,4,0)
cancelled. The 'Tracking Report' is a managerial review of requests
"KRN",19,13549,1,5,0)
collected within a date range. The 'Edit' option allows the user to 
"KRN",19,13549,1,6,0)
comment on the request and update the request status.
"KRN",19,13549,10,0)
^19.01IP^3^3
"KRN",19,13549,10,1,0)
13548^ED^1
"KRN",19,13549,10,1,"^")
DGEN NEACL REQUEST MGT EDIT
"KRN",19,13549,10,2,0)
13550^CL^2
"KRN",19,13549,10,2,"^")
DGEN NEACL MGT RPT1
"KRN",19,13549,10,3,0)
13551^TR^3
"KRN",19,13549,10,3,"^")
DGEN NEACL MGT RPT2
"KRN",19,13549,99)
61061,38637
"KRN",19,13549,"U")
NEW ENROLLEE APPOINTMENT REQUE
"KRN",19,13550,-1)
0^3
"KRN",19,13550,0)
DGEN NEACL MGT RPT1^Call List^^R^^^^^^^^REGISTRATION
"KRN",19,13550,1,0)
^19.06^3^3^3080326^^
"KRN",19,13550,1,1,0)
Call List report - lists veterans from the Appointment Requested cross
"KRN",19,13550,1,2,0)
reference with no scheduled appointment.  This list be used to assist in
"KRN",19,13550,1,3,0)
the scheduling of an appointment for new enrollees.
"KRN",19,13550,25)
REPORT^DGENACL(1)
"KRN",19,13550,"U")
CALL LIST
"KRN",19,13551,-1)
0^5
"KRN",19,13551,0)
DGEN NEACL MGT RPT2^Tracking Report^^R^^^^^^^^REGISTRATION
"KRN",19,13551,1,0)
^19.06^2^2^3080326^^
"KRN",19,13551,1,1,0)
This report shows times between enrollment date of veteran requesting an
"KRN",19,13551,1,2,0)
appointment on the 1010EZ and the date appointment was actually made.
"KRN",19,13551,25)
REPORT^DGENACL(2)
"KRN",19,13551,"U")
TRACKING REPORT
"KRN",19,13552,-1)
0^4
"KRN",19,13552,0)
DGEN NEACL MGT RPT1BK^Call List (background job)^^A^^^^^^^^REGISTRATION^^1
"KRN",19,13552,1,0)
^19.06^5^5^3080326^^
"KRN",19,13552,1,1,0)
Background Call List report - lists veterans from the Appointment
"KRN",19,13552,1,2,0)
Requested cross reference with no scheduled appointment.  This list be
"KRN",19,13552,1,3,0)
used to assist in the scheduling of an appointment for new enrollees.
"KRN",19,13552,1,4,0)
 
"KRN",19,13552,1,5,0)
This option should be queued and scheduled to run daily to a printer.
"KRN",19,13552,20)
D BCKJOB^DGENACL(1)
"KRN",19,13552,200.9)
y
"KRN",19,13552,"U")
CALL LIST (BACKGROUND JOB)
"MBREQ")
0
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",114,-1)
1^1
"PKG",114,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",114,20,0)
^9.402P^^
"PKG",114,22,0)
^9.49I^1^1
"PKG",114,22,1,0)
5.3^2930813^2930821
"PKG",114,22,1,"PAH",1,0)
779^3080612
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
3
"RTN","DGENA2")
0^3^B30778847^B15510967
"RTN","DGENA2",1,0)
DGENA2 ;ALB/CJM,RTK,TDM - Enrollment API - Automatic Update; 9/19/2002 ; 1/31/03 11:54am
"RTN","DGENA2",2,0)
 ;;5.3;Registration;**121,122,147,232,327,469,491,779**;Aug 13,1993;Build 11
"RTN","DGENA2",3,0)
 ;
"RTN","DGENA2",4,0)
AUTOUPD(DFN,EVENT) ;
"RTN","DGENA2",5,0)
 ;Description: If the patient meets the criteria for transmission to HEC,
"RTN","DGENA2",6,0)
 ;   he is entered to the IVM PATIENT file for future transmission.
"RTN","DGENA2",7,0)
 ;   This procedure checks for changes in enrollment priority,
"RTN","DGENA2",8,0)
 ;   status and fields in the eligibility sub-record. If any changes are
"RTN","DGENA2",9,0)
 ;   found, the current enrollment record is automatically updated.
"RTN","DGENA2",10,0)
 ;Input:
"RTN","DGENA2",11,0)
 ;  DFN - Patient IEN
"RTN","DGENA2",12,0)
 ;  EVENT - Event Type (optional)
"RTN","DGENA2",13,0)
 ;          EVENT 1 : Date of Death Deleted
"RTN","DGENA2",14,0)
 ;          EVENT 2 : Ineligible Date Deleted
"RTN","DGENA2",15,0)
 ;Output: None
"RTN","DGENA2",16,0)
 ;
"RTN","DGENA2",17,0)
 ;if the eligibility/enrollment upload is in progess, do not do anything
"RTN","DGENA2",18,0)
 Q:($G(DGENUPLD)="ENROLLMENT/ELIGIBILITY UPLOAD IN PROGRESS")
"RTN","DGENA2",19,0)
 ;
"RTN","DGENA2",20,0)
 ; If the INCOME TEST DATA (Z10) upload is in progess, do not do anything
"RTN","DGENA2",21,0)
 Q:($G(IVMZ10)="UPLOAD IN PROGRESS")
"RTN","DGENA2",22,0)
 ;
"RTN","DGENA2",23,0)
 N DGENRIEN,DGENR1,DGENR2,STATUS,EFFDATE,OK,DEATH
"RTN","DGENA2",24,0)
 ;
"RTN","DGENA2",25,0)
 ;try to prevent problems rsulting from calling FM within FM
"RTN","DGENA2",26,0)
 N DS,D0,DO,D1,DA,DD,DS,DG,DIC,DICR,DIE,DIG,DIH,DIV,DIW,DIX,DQ,DR
"RTN","DGENA2",27,0)
 ;
"RTN","DGENA2",28,0)
 S EVENT=+$G(EVENT)
"RTN","DGENA2",29,0)
 ;
"RTN","DGENA2",30,0)
 D EVENT^IVMPLOG(DFN)
"RTN","DGENA2",31,0)
 ;
"RTN","DGENA2",32,0)
 D:$$LOCK^DGENA1($G(DFN))  ;may drop out of block
"RTN","DGENA2",33,0)
 .S DGENRIEN=$$FINDCUR^DGENA(DFN)
"RTN","DGENA2",34,0)
 .Q:'DGENRIEN
"RTN","DGENA2",35,0)
 .Q:'$$GET^DGENA(DGENRIEN,.DGENR1)
"RTN","DGENA2",36,0)
 .S STATUS=$$EXT^DGENU("STATUS",DGENR1("STATUS"))
"RTN","DGENA2",37,0)
 .S (DEATH,EFFDATE)=$$DEATH^DGENPTA(DFN)
"RTN","DGENA2",38,0)
 .I STATUS'="VERIFIED",STATUS'="UNVERIFIED",STATUS'="DECEASED",STATUS'["NOT ELIGIBLE",STATUS'["PENDING",STATUS'["REJECTED" Q
"RTN","DGENA2",39,0)
 .I STATUS="DECEASED",((EVENT'=1)!(DEATH)) Q
"RTN","DGENA2",40,0)
 .I STATUS["NOT ELIGIBLE",((EVENT'=2)!('$$VET^DGENPTA(DFN))) Q
"RTN","DGENA2",41,0)
 .S:'EFFDATE EFFDATE=DT
"RTN","DGENA2",42,0)
 .Q:'$$CREATE^DGENA6(DFN,DGENR1("APP"),EFFDATE,DGENR1("REASON"),DGENR1("REMARKS"),.DGENR2,DGENR1("DATE"),DGENR1("END"))
"RTN","DGENA2",43,0)
 .S OK=1
"RTN","DGENA2",44,0)
 .S:(DGENR1("PRIORITY")'=DGENR2("PRIORITY"))!(DGENR2("STATUS")'=DGENR1("STATUS")) OK=0
"RTN","DGENA2",45,0)
 .I OK D
"RTN","DGENA2",46,0)
 ..N SUB
"RTN","DGENA2",47,0)
 ..S SUB=""
"RTN","DGENA2",48,0)
 ..F  S SUB=$O(DGENR2("ELIG",SUB)) Q:SUB=""  S:(DGENR1("ELIG",SUB)'=DGENR2("ELIG",SUB)) OK=0
"RTN","DGENA2",49,0)
 .I 'OK D
"RTN","DGENA2",50,0)
 ..I (DGENR1("EFFDATE")=DGENR2("EFFDATE")),(DGENR1("SOURCE")=DGENR2("SOURCE")),(DGENR1("USER")=DGENR2("USER")),(DGENR1("DATETIME")\1)=(DGENR2("DATETIME")\1) D
"RTN","DGENA2",51,0)
 ...;in this case it's an overlay
"RTN","DGENA2",52,0)
 ...S DGENR2("PRIORREC")=DGENR1("PRIORREC")
"RTN","DGENA2",53,0)
 ...I $$EDITCUR^DGENA1(.DGENR2)
"RTN","DGENA2",54,0)
 ..E  D
"RTN","DGENA2",55,0)
 ...;in this case create a new record, to preserve the audit trail
"RTN","DGENA2",56,0)
 ...I $$STORECUR^DGENA1(.DGENR2)
"RTN","DGENA2",57,0)
 D UNLOCK^DGENA1($G(DFN))
"RTN","DGENA2",58,0)
 Q
"RTN","DGENA2",59,0)
MTUPD ;
"RTN","DGENA2",60,0)
 ;Description - entry point for Means Test Event Driver for Enrollment
"RTN","DGENA2",61,0)
 ;
"RTN","DGENA2",62,0)
 D AUTOUPD($G(DFN))
"RTN","DGENA2",63,0)
 Q
"RTN","DGENA2",64,0)
 ;
"RTN","DGENA2",65,0)
SDDIS ;Entry point for the DGEN SD DISPLAY CURRENT ENROLLMENT protocol,
"RTN","DGENA2",66,0)
 ;which hangs of the Scheduling Event Driver
"RTN","DGENA2",67,0)
 ;
"RTN","DGENA2",68,0)
 N DFN S DFN=$P($G(SDATA),"^",2)
"RTN","DGENA2",69,0)
 ;
"RTN","DGENA2",70,0)
 ;don't display if running in the background
"RTN","DGENA2",71,0)
 Q:$D(ZTQUEUED)
"RTN","DGENA2",72,0)
 ;
"RTN","DGENA2",73,0)
 ;don't want to display enrollment for non-vets with no enrollment status
"RTN","DGENA2",74,0)
 Q:('$$VET^DGENPTA(DFN))&('$$STATUS^DGENA(DFN))
"RTN","DGENA2",75,0)
 ;
"RTN","DGENA2",76,0)
 ;if making an appt., & in interactive mode, display enrollment status
"RTN","DGENA2",77,0)
 I ($G(SDAMEVT)=1),$G(SDMODE)=0 D
"RTN","DGENA2",78,0)
 .D DISPLAY^DGENU($P($G(SDATA),"^",2))
"RTN","DGENA2",79,0)
 .D PAUSE^VALM1
"RTN","DGENA2",80,0)
 ;
"RTN","DGENA2",81,0)
 ;want to do the same thing for check-in, unless appt just made
"RTN","DGENA2",82,0)
 I ($G(SDAMEVT)=4),$G(SDMODE)=0 D
"RTN","DGENA2",83,0)
 .;want to try avoiding giving display if it was done already
"RTN","DGENA2",84,0)
 .;so, if it is an unscheduled appt made today, skip
"RTN","DGENA2",85,0)
 .N PTNODE,SCNODE
"RTN","DGENA2",86,0)
 .S SCNODE=$G(^TMP("SDAMEVT",$J,"AFTER","SC"))
"RTN","DGENA2",87,0)
 .S PTNODE=$G(^TMP("SDAMEVT",$J,"AFTER","DPT"))
"RTN","DGENA2",88,0)
 .I +$P(SCNODE,"^",7)=$G(DT),$P(PTNODE,"^",7)=4 Q  ;unscheduled appt made today
"RTN","DGENA2",89,0)
 .D DISPLAY^DGENU($P($G(SDATA),"^",2))
"RTN","DGENA2",90,0)
 .D PAUSE^VALM1
"RTN","DGENA2",91,0)
 Q
"RTN","DGENA2",92,0)
 ;
"RTN","DGENA2",93,0)
ENROLL ;Entry point for the DGEN SD ENROLL PATIENT protocol, which hangs of
"RTN","DGENA2",94,0)
 ;the Scheduling Event Driver. This event enrolls patients upon check-out
"RTN","DGENA2",95,0)
 ;if there is no prior enrollment record.
"RTN","DGENA2",96,0)
 ;
"RTN","DGENA2",97,0)
 ; Input  -- SDATA & SDAMEVT defined by the scheduling event driver
"RTN","DGENA2",98,0)
 ; Output -- none
"RTN","DGENA2",99,0)
 ;
"RTN","DGENA2",100,0)
 N DGENR,DFN
"RTN","DGENA2",101,0)
 ;
"RTN","DGENA2",102,0)
 ;NOTE - it appears from testing that means test status REQUIRED is set
"RTN","DGENA2",103,0)
 ;within scheduling, obviating the need to do it here.  This is why
"RTN","DGENA2",104,0)
 ;several lines are commented out.
"RTN","DGENA2",105,0)
 ;
"RTN","DGENA2",106,0)
 ;N DGENR,DGOKF,DGREQF,DFN,DGMSGF,DG,DGMT,DGMTCOR,DGMTE,DGRGAUTO,DGWRT,XMZ,DIG,DIH
"RTN","DGENA2",107,0)
 ;
"RTN","DGENA2",108,0)
 ;appointment made, check if enrollment appointment request needs reset.
"RTN","DGENA2",109,0)
 I $G(SDAMEVT)=1 D REQUST(SDAMEVT,SDATA)
"RTN","DGENA2",110,0)
 ;check-out?
"RTN","DGENA2",111,0)
 Q:($G(SDAMEVT)'=5)
"RTN","DGENA2",112,0)
 ;
"RTN","DGENA2",113,0)
 S DFN=$P($G(SDATA),"^",2)
"RTN","DGENA2",114,0)
 ;
"RTN","DGENA2",115,0)
 ;don't enroll if the patient has an enrollment record
"RTN","DGENA2",116,0)
 I $$FINDCUR^DGENA(DFN) D REQUST(SDAMEVT,SDATA) Q
"RTN","DGENA2",117,0)
 ;
"RTN","DGENA2",118,0)
 ;non-vet?
"RTN","DGENA2",119,0)
 Q:'$$VET^DGENPTA(DFN)
"RTN","DGENA2",120,0)
 ;
"RTN","DGENA2",121,0)
 ;dead?
"RTN","DGENA2",122,0)
 Q:$$DEATH^DGENPTA(DFN)
"RTN","DGENA2",123,0)
 ;
"RTN","DGENA2",124,0)
 ;Does patient require a Means Test?
"RTN","DGENA2",125,0)
 ;S DGMSGF=1
"RTN","DGENA2",126,0)
 ;D EN^DGMTR
"RTN","DGENA2",127,0)
 ;
"RTN","DGENA2",128,0)
 ;Create local enrollment array
"RTN","DGENA2",129,0)
 I $$CREATE^DGENA6(DFN,DT,,,,.DGENR) D
"RTN","DGENA2",130,0)
 . ;
"RTN","DGENA2",131,0)
 . ;Store local enrollment as current
"RTN","DGENA2",132,0)
 . I $$STORECUR^DGENA1(.DGENR) D
"RTN","DGENA2",133,0)
 . . D REQUST(SDAMEVT,SDATA)
"RTN","DGENA2",134,0)
 . . ;
"RTN","DGENA2",135,0)
 . . ;If patient's means test status is required, send bulletin
"RTN","DGENA2",136,0)
 . . ;I $$MTREQ^DGEN(DFN) D MTBULL^DGEN(DFN,.DGENR)
"RTN","DGENA2",137,0)
 Q
"RTN","DGENA2",138,0)
 ;
"RTN","DGENA2",139,0)
REQUST(SDAMEVT,SDATA) ;
"RTN","DGENA2",140,0)
 ;Automatic collection of Appointment Request Date and Appointment
"RTN","DGENA2",141,0)
 ;Request Response
"RTN","DGENA2",142,0)
 ;- Set when Enrollment Application Date >= 8/1/2005 AND
"RTN","DGENA2",143,0)
 ;-     Appointment Request Date is null. 
"RTN","DGENA2",144,0)
 ;
"RTN","DGENA2",145,0)
 ; Input  -- SDATA and SDAMEVT defined by scheduling event driver
"RTN","DGENA2",146,0)
 ; Output -- none
"RTN","DGENA2",147,0)
 ;
"RTN","DGENA2",148,0)
 N DGENRIEN,DGENR,DPTERR,DGCOM
"RTN","DGENA2",149,0)
 ;apointment made or checked out?
"RTN","DGENA2",150,0)
 Q:(($G(SDAMEVT)'=1)&($G(SDAMEVT)'=5))
"RTN","DGENA2",151,0)
 ;
"RTN","DGENA2",152,0)
 S DFN=$P($G(SDATA),"^",2)
"RTN","DGENA2",153,0)
 ;get enrollment ien
"RTN","DGENA2",154,0)
 S DGENRIEN=$$FINDCUR^DGENA(DFN)
"RTN","DGENA2",155,0)
 I DGENRIEN,$$GET^DGENA(DGENRIEN,.DGENR) ;set-up enrollment array
"RTN","DGENA2",156,0)
 I $G(DGENR("APP"))>3050731 D
"RTN","DGENA2",157,0)
 . ;and, no appointment request date. Set request="yes", request date 
"RTN","DGENA2",158,0)
 . I '$$GET1^DIQ(2,DFN,1010.1511,"I") D
"RTN","DGENA2",159,0)
 . . ;set fields
"RTN","DGENA2",160,0)
 . . N FDATA
"RTN","DGENA2",161,0)
 . . S FDATA(2,DFN_",",1010.159)=1
"RTN","DGENA2",162,0)
 . . S FDATA(2,DFN_",",1010.1511)=DT
"RTN","DGENA2",163,0)
 . . D FILE^DIE("","FDATA","DPTERR")
"RTN","DGENA2",164,0)
 . ;if appointment made (or checkout), appt. request="yes", request status'="filled"
"RTN","DGENA2",165,0)
 . ;- set request status='filled' w comment
"RTN","DGENA2",166,0)
 . I ($$GET1^DIQ(2,DFN,1010.159,"I")),($$GET1^DIQ(2,DFN,1010.161,"I")'="F") D
"RTN","DGENA2",167,0)
 . . ;set fields
"RTN","DGENA2",168,0)
 . . N FDATA
"RTN","DGENA2",169,0)
 . . S FDATA(2,DFN_",",1010.161)="F"
"RTN","DGENA2",170,0)
 . . S DGCOM=$$GET1^DIQ(2,DFN,1010.163)
"RTN","DGENA2",171,0)
 . . S DGCOM=DGCOM_$S(DGCOM'="":"<>",1:"")_"AutoComm:"_$S($$GET1^DIQ(2,DFN,1010.161,"I")="":"null",1:$S($$GET1^DIQ(2,DFN,1010.161,"I")="I":"IN PROGRESS",1:$$GET1^DIQ(2,DFN,1010.161)))_"|FILLED by Scheduling"
"RTN","DGENA2",172,0)
 . . S FDATA(2,DFN_",",1010.163)=DGCOM
"RTN","DGENA2",173,0)
 . . D FILE^DIE("","FDATA","DPTERR")
"RTN","DGENA2",174,0)
 Q
"RTN","DGENACL")
0^1^B29975193^n/a
"RTN","DGENACL",1,0)
DGENACL ;ALB/MRY - NEW ENROLLEE APPOINTMENT CALL LIST - UPDATE ;02/15/2008
"RTN","DGENACL",2,0)
 ;;5.3;Registration;**779**;08/13/93;Build 11
"RTN","DGENACL",3,0)
 ;
"RTN","DGENACL",4,0)
EDIT ;-Entry point - Edit Appointment Request Status and Comment option
"RTN","DGENACL",5,0)
 N DIC,DIE,DA,DR,Y,DFN
"RTN","DGENACL",6,0)
 S DIC="^DPT(",DIC(0)="AEQMZ" D ^DIC G Q:Y'>0 S DFN=+Y
"RTN","DGENACL",7,0)
 S DIE=DIC,DA=+Y,DR="[DGEN NEACL]" D ^DIE W !!
"RTN","DGENACL",8,0)
 G EDIT
"RTN","DGENACL",9,0)
Q Q
"RTN","DGENACL",10,0)
 ;
"RTN","DGENACL",11,0)
REPORT(DGRPT) ;-Entry point - Call List/Tracking reports
"RTN","DGENACL",12,0)
 ;
"RTN","DGENACL",13,0)
 ; DGRPT: 1 = Call List: New enrollee appt. request/no appt. assigned.
"RTN","DGENACL",14,0)
 ;        2 = Tracking Report: New enrollee appt. request/by date range
"RTN","DGENACL",15,0)
 ;
"RTN","DGENACL",16,0)
 N DGBEG,DGEND,DTOUT,DUOUT,DIRUT,DGFMT1,DGFMT2
"RTN","DGENACL",17,0)
 S (DGBEG,DGEND)=""
"RTN","DGENACL",18,0)
 I $G(DGRPT)'=1&($G(DGRPT)'=2) G Q
"RTN","DGENACL",19,0)
 I DGRPT=1 D FMT1 I $D(DTOUT)!($D(DUOUT)) G Q
"RTN","DGENACL",20,0)
 I DGRPT=2 D FMT2,DATE I $D(DTOUT)!($D(DUOUT)) G Q
"RTN","DGENACL",21,0)
 N ZTDESC,ZTRTN,ZTSAVE,ZTSK,ZUSR,ZTDTH,POP,X,ERR
"RTN","DGENACL",22,0)
 K IOP,%ZIS
"RTN","DGENACL",23,0)
 S %ZIS="Q" D ^%ZIS G:POP EXIT
"RTN","DGENACL",24,0)
 I $D(IO("Q")) D  Q
"RTN","DGENACL",25,0)
 . S (ZTSAVE("DGRPT"),ZTSAVE("DGFMT1"),ZTSAVE("DGFMT2"),ZTSAVE("DGBEG"),ZTSAVE("DGEND"))=""
"RTN","DGENACL",26,0)
 . S ZTRTN="BUILD^DGENACL",ZTDESC="NEW ENROLLEE APPT. CALL LIST REPORT",ZTDTH=$H
"RTN","DGENACL",27,0)
 . D ^%ZTLOAD
"RTN","DGENACL",28,0)
 . D ^%ZISC,HOME^%ZIS
"RTN","DGENACL",29,0)
 . W !,$S($D(ZTSK):"REQUEST QUEUED!",1:"REQUEST CANCELLED!")
"RTN","DGENACL",30,0)
 D BUILD
"RTN","DGENACL",31,0)
EXIT D ^%ZISC,HOME^%ZIS
"RTN","DGENACL",32,0)
 Q
"RTN","DGENACL",33,0)
 ;
"RTN","DGENACL",34,0)
BUILD ;-Build temp global
"RTN","DGENACL",35,0)
 K ^TMP($J,"DGEN NEACL")
"RTN","DGENACL",36,0)
 N DFNIEN,DGDT,DGEDT
"RTN","DGENACL",37,0)
 I DGRPT=1 S DFNIEN=0 F  S DFNIEN=$O(^DPT("AEAR",1,DFNIEN)) Q:'DFNIEN  D
"RTN","DGENACL",38,0)
 . I $$GET1^DIQ(2,DFNIEN,1010.159,"I") D EXTRACT
"RTN","DGENACL",39,0)
 I DGRPT=2 D
"RTN","DGENACL",40,0)
 . S DGDT=DGBEG-.01,DGEDT=DGEND_.999
"RTN","DGENACL",41,0)
 . F  S DGDT=$O(^DPT("AEACL",DGDT)) Q:'DGDT!(DGDT>DGEDT)  D
"RTN","DGENACL",42,0)
 .. S DFNIEN=0 F  S DFNIEN=$O(^DPT("AEACL",DGDT,DFNIEN)) Q:'DFNIEN  D
"RTN","DGENACL",43,0)
 ... I $$GET1^DIQ(2,DFNIEN,1010.159,"I") D EXTRACT
"RTN","DGENACL",44,0)
 D PRINT^DGENACL1
"RTN","DGENACL",45,0)
 Q
"RTN","DGENACL",46,0)
 ;
"RTN","DGENACL",47,0)
EXTRACT ;
"RTN","DGENACL",48,0)
 N DGNAM,DGSSN,DGRDTI,DGENRIEN,DGENR,DGENCAT,DGENSTA,DGENPRI,DGENCV,DGENCVDT,DGENCVEL,DGSTA,DGCOM
"RTN","DGENACL",49,0)
 N SDCNT,SDADT,SDARRY,SDCL,Y,FDATA
"RTN","DGENACL",50,0)
 ;if call list, don't list if appointment made or request status 
"RTN","DGENACL",51,0)
 ;'filled' or 'completed'.
"RTN","DGENACL",52,0)
 D APPTCK Q:'DGRDTI
"RTN","DGENACL",53,0)
 S SDADT=$G(SDADT) I DGRPT=1 Q:(SDCNT>0)!(DGSTA="C")!(DGSTA="F")
"RTN","DGENACL",54,0)
 S DGNAM=$$GET1^DIQ(2,DFNIEN,.01),DGSSN=$E($$GET1^DIQ(2,DFNIEN,.09),6,9)
"RTN","DGENACL",55,0)
 S DGENRIEN=$$FINDCUR^DGENA(DFNIEN)
"RTN","DGENACL",56,0)
 I DGENRIEN,$$GET^DGENA(DGENRIEN,.DGENR) ;set-up enrollment arry
"RTN","DGENACL",57,0)
 ;I DGENR("APP"))>3050731 D
"RTN","DGENACL",58,0)
 S DGENCAT=$$CATEGORY^DGENA4(,$G(DGENR("STATUS"))) ;enrollment category
"RTN","DGENACL",59,0)
 I DGENCAT'="E" Q
"RTN","DGENACL",60,0)
 S DGENCAT=$$EXTERNAL^DILFD(27.15,.02,"",DGENCAT)
"RTN","DGENACL",61,0)
 S DGENSTA=$S($G(DGENR("STATUS")):$$EXT^DGENU("STATUS",DGENR("STATUS")),1:"")
"RTN","DGENACL",62,0)
 S DGENPRI=$S($G(DGENR("PRIORITY")):DGENR("PRIORITY"),1:"")_$S($G(DGENR("SUBGRP")):$$EXT^DGENU("SUBGRP",DGENR("SUBGRP")),1:"")
"RTN","DGENACL",63,0)
 S DGENCV=$$CVEDT^DGCV(DFNIEN),DGENCVDT=$P($G(DGENCV),"^",2),DGENCVEL=$P($G(DGENCV),"^",3)
"RTN","DGENACL",64,0)
 S ^TMP($J,"DGEN NEACL",$S(DGSTA="":1,DGSTA="I":2,DGSTA="E":3,DGSTA="F":4,1:DGSTA),DGRDTI,DGNAM,DFNIEN)=SDADT
"RTN","DGENACL",65,0)
 I $G(DGENCAT)'=""!($G(DGENSTA)'="")!($G(DGENPRI)'="")!($G(DGENCVEL)'="") D
"RTN","DGENACL",66,0)
 . S ^TMP($J,"DGEN NEACL",$S(DGSTA="":1,DGSTA="I":2,DGSTA="E":3,DGSTA="F":4,1:DGSTA),DGRDTI,DGNAM,DFNIEN,"PRIORITY")=DGENCAT_"^"_DGENSTA_"^"_DGENPRI_"^"_DGENCVEL
"RTN","DGENACL",67,0)
 Q
"RTN","DGENACL",68,0)
 ;
"RTN","DGENACL",69,0)
APPTCK ;If appointment (SDCNT), get appointment date/time (SDADT).
"RTN","DGENACL",70,0)
 K ^TMP($J,"SDAMA301")
"RTN","DGENACL",71,0)
 ;quit, if no 'date appointment questioned asked?'
"RTN","DGENACL",72,0)
 S DGRDTI=$$GET1^DIQ(2,DFNIEN,1010.1511,"I") Q:'DGRDTI
"RTN","DGENACL",73,0)
 S DGSTA=$$GET1^DIQ(2,DFNIEN,1010.161,"I")
"RTN","DGENACL",74,0)
 S SDARRY(1)=DGRDTI_";",SDARRY(4)=DFNIEN,SDARRY("FLDS")=1,SDARRY("MAX")=1
"RTN","DGENACL",75,0)
 S SDCNT=$$SDAPI^SDAMA301(.SDARRY) Q:(SDCNT'>0)
"RTN","DGENACL",76,0)
 S SDCL=0 F  S SDCL=$O(^TMP($J,"SDAMA301",DFNIEN,SDCL)) Q:'SDCL  D
"RTN","DGENACL",77,0)
 . S SDADT=$O(^TMP($J,"SDAMA301",DFNIEN,SDCL,0))
"RTN","DGENACL",78,0)
 ;if appointment and no status or EWL, set status to 'filled'.
"RTN","DGENACL",79,0)
 ;I (DGSTA="")!(DGSTA="E") D
"RTN","DGENACL",80,0)
 ;if appointment and status '="filled", set status to 'filled'
"RTN","DGENACL",81,0)
 I DGSTA'="F" D
"RTN","DGENACL",82,0)
 . S DGCOM=$$GET1^DIQ(2,DFNIEN,1010.163)
"RTN","DGENACL",83,0)
 . S DGCOM=DGCOM_$S(DGCOM'="":"<>",1:"")_"AutoComm:"_$S(DGSTA="":"null",1:$S($$GET1^DIQ(2,DFNIEN,1010.161,"I")="I":"IN PROGRESS",1:$$GET1^DIQ(2,DFNIEN,1010.161)))_"|FILLED"
"RTN","DGENACL",84,0)
 . S FDATA(2,DFNIEN_",",1010.161)="F"
"RTN","DGENACL",85,0)
 . S FDATA(2,DFNIEN_",",1010.163)=DGCOM
"RTN","DGENACL",86,0)
 . D FILE^DIE("","FDATA","DPTERR")
"RTN","DGENACL",87,0)
 . S DGSTA=$$GET1^DIQ(2,DFNIEN,1010.161,"I")
"RTN","DGENACL",88,0)
 Q
"RTN","DGENACL",89,0)
 ;
"RTN","DGENACL",90,0)
DATE N X1,X2,DIROUT
"RTN","DGENACL",91,0)
 S DIR(0)="DAO^,"_DT_",::EX"
"RTN","DGENACL",92,0)
 S X1=DT,X2=-7 D C^%DTC
"RTN","DGENACL",93,0)
 S Y=X D DD^%DT
"RTN","DGENACL",94,0)
 S DIR("A")="APPOINTMENT REQUEST ON 1010EZ START DATE: "
"RTN","DGENACL",95,0)
 S DIR("B")=Y
"RTN","DGENACL",96,0)
 S DIR("?")="Enter a date that an enrollee was asked question."
"RTN","DGENACL",97,0)
 D ^DIR K DIR
"RTN","DGENACL",98,0)
 I $D(DIROUT) S DTOUT=1
"RTN","DGENACL",99,0)
 I $D(DTOUT)!($D(DUOUT)) Q
"RTN","DGENACL",100,0)
 S DGBEG=Y
"RTN","DGENACL",101,0)
 S DIR(0)="DAO^"_DGBEG_","_DT_"::EX"
"RTN","DGENACL",102,0)
 S Y=DT D DD^%DT S DGDT=Y
"RTN","DGENACL",103,0)
 S DIR("B")=DGDT
"RTN","DGENACL",104,0)
 S DIR("A")="APPOINTMENT REQUEST ON 1010EZ END DATE: "
"RTN","DGENACL",105,0)
 S DIR("?")="Enter a date that an enrollee was asked question."
"RTN","DGENACL",106,0)
 D ^DIR K DIR
"RTN","DGENACL",107,0)
 I $D(DIROUT) S DTOUT=1
"RTN","DGENACL",108,0)
 I $D(DTOUT)!($D(DUOUT)) Q
"RTN","DGENACL",109,0)
 S DGEND=Y
"RTN","DGENACL",110,0)
 I $G(DGBEG)']""!($G(DGEND)']"") W !!,"DATE RANGE NOT SET.  EXITING"  S DUOUT=1
"RTN","DGENACL",111,0)
 Q
"RTN","DGENACL",112,0)
FMT1 ;Call List D/S
"RTN","DGENACL",113,0)
 N DIR
"RTN","DGENACL",114,0)
 K DIR S DIR("A")="Select report format",DIR(0)="S^D:DETAILED;S:SHORT"
"RTN","DGENACL",115,0)
 S DIR("?",1)="SHORT format lists enrollee appointment requests w/o an appointment."
"RTN","DGENACL",116,0)
 S DIR("?")="DETAILED format, in addition, lists patient lookup information."
"RTN","DGENACL",117,0)
 S DIR("B")="SHORT" D ^DIR Q:$D(DIRUT)
"RTN","DGENACL",118,0)
 S DGFMT1=Y
"RTN","DGENACL",119,0)
 Q
"RTN","DGENACL",120,0)
FMT2 ;Tracking Report D/S
"RTN","DGENACL",121,0)
 N DIR
"RTN","DGENACL",122,0)
 K DIR S DIR("A")="Select report format",DIR(0)="S^D:DETAILED;S:SUMMARY"
"RTN","DGENACL",123,0)
 S DIR("?",1)="SUMMARY format lists totals of enrollee appointment requests."
"RTN","DGENACL",124,0)
 S DIR("?")="DETAILED format, lists individual enrollee appointment requests."
"RTN","DGENACL",125,0)
 S DIR("B")="SUMMARY" D ^DIR Q:$D(DIRUT)
"RTN","DGENACL",126,0)
 S DGFMT2=Y
"RTN","DGENACL",127,0)
 Q
"RTN","DGENACL",128,0)
BCKJOB(DGRPT) ;Queued entry point
"RTN","DGENACL",129,0)
 S DGRPT=$G(DGRPT) I DGRPT'=1 Q
"RTN","DGENACL",130,0)
 S DGFMT1="D"
"RTN","DGENACL",131,0)
 D BUILD
"RTN","DGENACL",132,0)
 Q
"RTN","DGENACL1")
0^2^B36626109^n/a
"RTN","DGENACL1",1,0)
DGENACL1 ;ALB/MRY - NEW ENROLLEE APPOINTMENT CALL LIST - UPDATE ;02/15/2008
"RTN","DGENACL1",2,0)
 ;;5.3;Registration;**779**;08/13/93;Build 11
"RTN","DGENACL1",3,0)
 ;
"RTN","DGENACL1",4,0)
PRINT N DGLN,PAGE,QUIT,DGTOTAL
"RTN","DGENACL1",5,0)
 S QUIT=""
"RTN","DGENACL1",6,0)
 U IO
"RTN","DGENACL1",7,0)
 I $E(IOST,1,2)="C-" D EN^DDIOL("","","@IOF")
"RTN","DGENACL1",8,0)
 S DGLN=0
"RTN","DGENACL1",9,0)
 S PAGE=1
"RTN","DGENACL1",10,0)
 D HEADER
"RTN","DGENACL1",11,0)
 D DATA
"RTN","DGENACL1",12,0)
 I DGLN=0 D
"RTN","DGENACL1",13,0)
 . D EN^DDIOL("No data to report.","","!!!?30")
"RTN","DGENACL1",14,0)
 . I $E(IOST,1,2)="C-" D PAUSE
"RTN","DGENACL1",15,0)
 I (DGLN>0),('QUIT) D SUMARY
"RTN","DGENACL1",16,0)
 Q
"RTN","DGENACL1",17,0)
 ;
"RTN","DGENACL1",18,0)
HEADER ;
"RTN","DGENACL1",19,0)
 N DG1,DG2,Y
"RTN","DGENACL1",20,0)
 I DGRPT=1 D
"RTN","DGENACL1",21,0)
 . D EN^DDIOL("NEW ENROLLEE APPOINTMENT REQUEST CALL LIST","","!?15")
"RTN","DGENACL1",22,0)
 . S Y=DT D DD^%DT D EN^DDIOL("Date: "_Y,"","?60")
"RTN","DGENACL1",23,0)
 . D EN^DDIOL("Page: "_PAGE,"","!?60"),EN^DDIOL("","","!!!")
"RTN","DGENACL1",24,0)
 . I ($G(DGFMT1)="S") D
"RTN","DGENACL1",25,0)
 . . D EN^DDIOL("1010EZ APPT.","","?30"),EN^DDIOL("REQ","","?45"),EN^DDIOL("RESIDENCE","","?52"),EN^DDIOL("CELLULAR","","?67")
"RTN","DGENACL1",26,0)
 . . D EN^DDIOL("NAME(SSN)"),EN^DDIOL("REQUEST DATE","","?30"),EN^DDIOL("STA","","?45"),EN^DDIOL("PHONE","","?54"),EN^DDIOL("PHONE","","?68")
"RTN","DGENACL1",27,0)
 . . D EN^DDIOL("","","!")
"RTN","DGENACL1",28,0)
 I DGRPT=2 D
"RTN","DGENACL1",29,0)
 . S Y=DGBEG D DD^%DT S DG1=Y
"RTN","DGENACL1",30,0)
 . S Y=DGEND D DD^%DT S DG2=Y
"RTN","DGENACL1",31,0)
 . D EN^DDIOL("NEW ENROLLEE APPOINTMENT REQUEST TRACKING REPORT","","!?10")
"RTN","DGENACL1",32,0)
 . S Y=DT D DD^%DT D EN^DDIOL("Date: "_Y,"","?60")
"RTN","DGENACL1",33,0)
 . D EN^DDIOL(DG1_" TO "_DG2,"","!?20"),EN^DDIOL("Page: "_PAGE,"","?60")
"RTN","DGENACL1",34,0)
 . I ($G(DGFMT2)="D") D
"RTN","DGENACL1",35,0)
 . . D EN^DDIOL("1010EZ APPT.","","!!!?37"),EN^DDIOL("SCHEDULED","","?54"),EN^DDIOL("#","","?71"),EN^DDIOL("REQ","","?76")
"RTN","DGENACL1",36,0)
 . . D EN^DDIOL("NAME"),EN^DDIOL("EP/CV","","?31"),EN^DDIOL("REQUEST DATE","","?37"),EN^DDIOL("APPOINTMENT DATE","","?51"),EN^DDIOL("DAYS","","?70"),EN^DDIOL("STA","","?76")
"RTN","DGENACL1",37,0)
 . . D EN^DDIOL("============================"),EN^DDIOL("=====","","?31"),EN^DDIOL("============","","?37"),EN^DDIOL("==================","","?51"),EN^DDIOL("====","","?70"),EN^DDIOL("===","","?76")
"RTN","DGENACL1",38,0)
 S PAGE=PAGE+1
"RTN","DGENACL1",39,0)
 Q
"RTN","DGENACL1",40,0)
DATA ;
"RTN","DGENACL1",41,0)
 N DFN,DGNAM,DGSSN,DGI,DATAEP,DGFLG,DGRDTI,DGDAYS,DFNIEN,SDADTI,SDADT,DGDAYS,DGENPRI,DGENCVEL,DATA3,DGSTA
"RTN","DGENACL1",42,0)
 F DGI="C","E","F","I","NULL" S DGTOTAL(DGI)=0
"RTN","DGENACL1",43,0)
 S DGI=0
"RTN","DGENACL1",44,0)
 F  S DGI=$O(^TMP($J,"DGEN NEACL",DGI)) Q:(DGI="")  D  Q:QUIT
"RTN","DGENACL1",45,0)
 . S DGRDTI=0 F  S DGRDTI=$O(^TMP($J,"DGEN NEACL",DGI,DGRDTI)) Q:'DGRDTI  D  Q:QUIT
"RTN","DGENACL1",46,0)
 .. S DGNAM="" F  S DGNAM=$O(^TMP($J,"DGEN NEACL",DGI,DGRDTI,DGNAM)) Q:DGNAM=""  D  Q:QUIT
"RTN","DGENACL1",47,0)
 ... S DFNIEN="" F  S DFNIEN=$O(^TMP($J,"DGEN NEACL",DGI,DGRDTI,DGNAM,DFNIEN)) Q:DFNIEN=""  D  Q:QUIT
"RTN","DGENACL1",48,0)
 .... S SDADTI=$G(^TMP($J,"DGEN NEACL",DGI,DGRDTI,DGNAM,DFNIEN))
"RTN","DGENACL1",49,0)
 .... S DGSTA=$$GET1^DIQ(2,DFNIEN,1010.161,"I") I DGSTA="" S DGSTA="NULL"
"RTN","DGENACL1",50,0)
 .... I DGSTA="C" S SDADTI=$$GET1^DIQ(2,DFNIEN,1010.162,"I")
"RTN","DGENACL1",51,0)
 .... S DGDAYS=$$DAYS(SDADTI,DGRDTI) S Y=SDADTI X ^DD("DD") S SDADT=Y
"RTN","DGENACL1",52,0)
 .... S DGFLG=0 I 'SDADTI S DGFLG=1
"RTN","DGENACL1",53,0)
 .... S DATAEP=$G(^TMP($J,"DGEN NEACL",DGI,DGRDTI,DGNAM,DFNIEN,"PRIORITY"))
"RTN","DGENACL1",54,0)
 .... S DGENPRI=$P(DATAEP,"^",3),DGENCVEL=$P(DATAEP,"^",4)
"RTN","DGENACL1",55,0)
 .... S DATA3="/" S:+DGENPRI $P(DATA3,"/")=$E("  ",$L(+DGENPRI)+1,2)_+DGENPRI S:DGENCVEL $P(DATA3,"/",2)="EL" I DATA3="/" S DATA3=""
"RTN","DGENACL1",56,0)
 .... S DGTOTAL(DGSTA)=DGTOTAL(DGSTA)+1
"RTN","DGENACL1",57,0)
 .... D ADD I '(QUIT) D LINE
"RTN","DGENACL1",58,0)
 Q
"RTN","DGENACL1",59,0)
PAUSE ;
"RTN","DGENACL1",60,0)
 N DIR,DIRUT,X,Y
"RTN","DGENACL1",61,0)
 F  Q:$Y>(IOSL-3)  W !
"RTN","DGENACL1",62,0)
 S DIR(0)="E"
"RTN","DGENACL1",63,0)
 D ^DIR
"RTN","DGENACL1",64,0)
 I ('(+Y))!($D(DIRUT)) S QUIT=1
"RTN","DGENACL1",65,0)
 Q
"RTN","DGENACL1",66,0)
TOP ;
"RTN","DGENACL1",67,0)
 D EN^DDIOL("","","@IOF")
"RTN","DGENACL1",68,0)
 D HEADER
"RTN","DGENACL1",69,0)
 Q
"RTN","DGENACL1",70,0)
ADD ;
"RTN","DGENACL1",71,0)
 I $E(IOST,1,2)="C-",($Y>(IOSL-3)) D
"RTN","DGENACL1",72,0)
 . D PAUSE
"RTN","DGENACL1",73,0)
 . Q:QUIT
"RTN","DGENACL1",74,0)
 . D TOP
"RTN","DGENACL1",75,0)
 I $E(IOST,1,2)'="C-",($Y>(IOSL-3)) D TOP
"RTN","DGENACL1",76,0)
 Q
"RTN","DGENACL1",77,0)
LINE ;add a line to the report
"RTN","DGENACL1",78,0)
 N DGNAMX,DPTDFN,DGCMT
"RTN","DGENACL1",79,0)
 I DGRPT=2 S DGNAMX=$P(DGNAM,",")
"RTN","DGENACL1",80,0)
 E  S DGNAMX=DGNAM
"RTN","DGENACL1",81,0)
 S DGNAMX=DGNAMX_"("_$E($$GET1^DIQ(2,DFNIEN,.09),6,9)_")"
"RTN","DGENACL1",82,0)
 I DGRPT=1,($G(DGFMT1)="D") D
"RTN","DGENACL1",83,0)
 . D EN^DDIOL(DGNAMX,"","!") D ADD Q:QUIT
"RTN","DGENACL1",84,0)
 . S (Y,DPTDFN)=DFNIEN
"RTN","DGENACL1",85,0)
 . I $$TESTPAT^VADPT(+Y) D EN^DDIOL("WARNING : You have selected a test patient."),ADD Q:QUIT
"RTN","DGENACL1",86,0)
 . I $$BADADR^DGUTL3(+Y) D EN^DDIOL("WARNING : ** This patient has been flagged with a Bad Address Indicator."),ADD Q:QUIT
"RTN","DGENACL1",87,0)
 . I $D(^DPT("AXFFP",1,+Y)) D FFP^DPTLK5
"RTN","DGENACL1",88,0)
 . D ENR^DPTLK,ADD Q:QUIT
"RTN","DGENACL1",89,0)
 . D CV^DPTLK,ADD Q:QUIT
"RTN","DGENACL1",90,0)
 . D EN^DDIOL("1010EZ APPT. REQUEST DATE: ") D EN^DDIOL($$GET1^DIQ(2,DFNIEN,1010.1511),"","?28") D ADD Q:QUIT
"RTN","DGENACL1",91,0)
 . D EN^DDIOL("REQUEST STATUS: ") D EN^DDIOL($$GET1^DIQ(2,DFNIEN,1010.161),"","?28") D ADD Q:QUIT
"RTN","DGENACL1",92,0)
 . D EN^DDIOL("COMMENT: "_$$GET1^DIQ(2,DFNIEN,1010.163)) D ADD Q:QUIT
"RTN","DGENACL1",93,0)
 . D EN^DDIOL("PHONE [RESIDENCE]: "_$$GET1^DIQ(2,DFNIEN,.131))
"RTN","DGENACL1",94,0)
 . D EN^DDIOL("PHONE [CELLULAR]: "_$$GET1^DIQ(2,DFNIEN,.134),"","?44") D ADD Q:QUIT
"RTN","DGENACL1",95,0)
 . D EN^DDIOL("-------------------------------","","!?4") D ADD Q:QUIT
"RTN","DGENACL1",96,0)
 I DGRPT=1,($G(DGFMT1)="S") D  Q:QUIT
"RTN","DGENACL1",97,0)
 . D EN^DDIOL(DGNAMX) I $L(DGNAMX)>29 D EN^DDIOL("","","!") D ADD Q:QUIT
"RTN","DGENACL1",98,0)
 . D EN^DDIOL($$GET1^DIQ(2,DFNIEN,1010.1511),"","?30")
"RTN","DGENACL1",99,0)
 . D EN^DDIOL($$GET1^DIQ(2,DFNIEN,1010.161,"I"),"","?46")
"RTN","DGENACL1",100,0)
 . D EN^DDIOL($$GET1^DIQ(2,DFNIEN,.131),"","?51")
"RTN","DGENACL1",101,0)
 . D EN^DDIOL($$GET1^DIQ(2,DFNIEN,.134),"","?66")
"RTN","DGENACL1",102,0)
 . D ADD Q:QUIT
"RTN","DGENACL1",103,0)
 I DGRPT=2,($G(DGFMT2)="D") D
"RTN","DGENACL1",104,0)
 . D EN^DDIOL(DGNAMX) I $L(DGNAMX)>29 D EN^DDIOL("","","!") D ADD Q:QUIT
"RTN","DGENACL1",105,0)
 . D EN^DDIOL(DATA3,"","?31"),EN^DDIOL($$GET1^DIQ(2,DFNIEN,1010.1511),"","?37"),EN^DDIOL(SDADT,"","?51"),EN^DDIOL($J(DGDAYS,3)_$S(DGFLG:"*",1:""),"","?71"),EN^DDIOL($$GET1^DIQ(2,DFNIEN,1010.161,"I"),"","?77") D ADD Q:QUIT
"RTN","DGENACL1",106,0)
 . S DGCMT=$$GET1^DIQ(2,DFNIEN,1010.163) I $G(DGCMT)'="" D EN^DDIOL("COMMENT: "_DGCMT,"","!?3") D ADD Q:QUIT
"RTN","DGENACL1",107,0)
 S DGLN=1
"RTN","DGENACL1",108,0)
 Q
"RTN","DGENACL1",109,0)
 ;
"RTN","DGENACL1",110,0)
SUMARY ;display totals
"RTN","DGENACL1",111,0)
 K DGFMT1 S DGFMT2="S"
"RTN","DGENACL1",112,0)
 D ADD2 Q:QUIT
"RTN","DGENACL1",113,0)
 D EN^DDIOL("SUMMARY","","!!!")
"RTN","DGENACL1",114,0)
 D EN^DDIOL("==============================================================================")
"RTN","DGENACL1",115,0)
 S DGI="" F  S DGI=$O(DGTOTAL(DGI)) Q:DGI=""  D
"RTN","DGENACL1",116,0)
 . I (DGRPT=1)&((DGI="C")!(DGI="F")) Q
"RTN","DGENACL1",117,0)
 . D EN^DDIOL("Total number of veteran's "_$S(DGI="NULL":"",1:"with ")_$S(DGI="C":"CANCELLED",DGI="E":"EWL",DGI="F":"FILLED",DGI="I":"CONTACTED - IN PROCESS",1:"PENDING ACTION")_$S(DGI="NULL":"",1:" request status"))
"RTN","DGENACL1",118,0)
 . D EN^DDIOL($J(DGTOTAL(DGI),4),"","?73")
"RTN","DGENACL1",119,0)
 Q
"RTN","DGENACL1",120,0)
 ;
"RTN","DGENACL1",121,0)
ADD2 ;
"RTN","DGENACL1",122,0)
 I $E(IOST,1,2)="C-",($Y>(IOSL-8)) D
"RTN","DGENACL1",123,0)
 . D PAUSE
"RTN","DGENACL1",124,0)
 . Q:QUIT
"RTN","DGENACL1",125,0)
 . D TOP
"RTN","DGENACL1",126,0)
 I $E(IOST,1,2)'="C-",($Y>(IOSL-8)) D TOP
"RTN","DGENACL1",127,0)
 Q
"RTN","DGENACL1",128,0)
DAYS(X1,X2) ;Compute # of days
"RTN","DGENACL1",129,0)
 S X1=$G(X1),X2=$G(X2)
"RTN","DGENACL1",130,0)
 I X1="" S X1=DT
"RTN","DGENACL1",131,0)
 D ^%DTC
"RTN","DGENACL1",132,0)
 Q X
"RTN","DGENACL1",133,0)
Q Q
"VER")
8.0^22.0
"^DD",2,2,1010.1511,0)
APPOINTMENT REQUEST DATE^D^^1010.15;11^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",2,2,1010.1511,1,0)
^.1
"^DD",2,2,1010.1511,1,1,0)
2^AENR10101511^MUMPS
"^DD",2,2,1010.1511,1,1,1)
D EVENT^IVMPLOG(DA)
"^DD",2,2,1010.1511,1,1,2)
D EVENT^IVMPLOG(DA)
"^DD",2,2,1010.1511,1,1,3)
 DO NOT DELETE
"^DD",2,2,1010.1511,1,1,"%D",0)
^.101^2^2^3050913^^^^
"^DD",2,2,1010.1511,1,1,"%D",1,0)
This cross-reference is used to notify HEC of changes that may affect
"^DD",2,2,1010.1511,1,1,"%D",2,0)
enrollment.
"^DD",2,2,1010.1511,1,1,"DT")
3050913
"^DD",2,2,1010.1511,1,2,0)
2^AEACL
"^DD",2,2,1010.1511,1,2,1)
S ^DPT("AEACL",$E(X,1,30),DA)=""
"^DD",2,2,1010.1511,1,2,2)
K ^DPT("AEACL",$E(X,1,30),DA)
"^DD",2,2,1010.1511,1,2,"%D",0)
^^1^1^3080214^
"^DD",2,2,1010.1511,1,2,"%D",1,0)
This cross reference is used for Enrollee Appt. Call List
"^DD",2,2,1010.1511,1,2,"DT")
3080214
"^DD",2,2,1010.1511,3)
Enter date VA was notified the enrolling patient is requesting an appointment.
"^DD",2,2,1010.1511,21,0)
^.001^2^2^3080214^^
"^DD",2,2,1010.1511,21,1,0)
This field contains the date the VA enrolling a patient for the first time
"^DD",2,2,1010.1511,21,2,0)
was notified that the patient requests an appointment with a provider.
"^DD",2,2,1010.1511,"DT")
3080214
"^DD",2,2,1010.159,0)
APPOINTMENT REQUEST ON 1010EZ^S^0:NO;1:YES;^1010.15;9^Q
"^DD",2,2,1010.159,.1)
Do you want an appt. with a VA doctor/provider as soon as available? 
"^DD",2,2,1010.159,1,0)
^.1^^-1
"^DD",2,2,1010.159,1,1,0)
2^AENR1010159^MUMPS
"^DD",2,2,1010.159,1,1,1)
D EVENT^IVMPLOG(DA)
"^DD",2,2,1010.159,1,1,2)
D EVENT^IVMPLOG(DA)
"^DD",2,2,1010.159,1,1,3)
 DO NOT DELETE
"^DD",2,2,1010.159,1,1,"%D",0)
^.101^2^2^3050627^^^^
"^DD",2,2,1010.159,1,1,"%D",1,0)
This cross-reference is used to notify HEC of changes that may affect
"^DD",2,2,1010.159,1,1,"%D",2,0)
enrollment.
"^DD",2,2,1010.159,1,1,"DT")
3050627
"^DD",2,2,1010.159,3)
Enter 'Y' if the veteran applicant has requested an appointment with a VA doctor/provider.
"^DD",2,2,1010.159,4)

"^DD",2,2,1010.159,21,0)
^.001^7^7^3050225^^^^
"^DD",2,2,1010.159,21,1,0)
Enter a 'Y' if the veteran applicant has requested an appointment with a
"^DD",2,2,1010.159,21,2,0)
VA doctor or provider and wants to be seen as soon as one becomes
"^DD",2,2,1010.159,21,3,0)
available.  Enter a 'N' if the veteran applicant has not requested an
"^DD",2,2,1010.159,21,4,0)
appointment.
"^DD",2,2,1010.159,21,5,0)
 
"^DD",2,2,1010.159,21,6,0)
This question may ONLY be entered ONCE for the veteran.  The answer to
"^DD",2,2,1010.159,21,7,0)
this question CANNOT be changed after the initial entry.
"^DD",2,2,1010.159,23,0)
^.001^2^2^3050225^^^^
"^DD",2,2,1010.159,23,1,0)
This field reflects the a request indicated on the patient's initial 
"^DD",2,2,1010.159,23,2,0)
1010EZ.
"^DD",2,2,1010.159,"DT")
3080401
"^DD",2,2,1010.161,0)
APPOINTMENT REQUEST STATUS^S^C:CANCELLED;E:EWL;F:FILLED;I:IN PROCESS/VETERAN CONTACTED;^1010.16;1^Q
"^DD",2,2,1010.161,1,0)
^.1
"^DD",2,2,1010.161,1,1,0)
^^TRIGGER^2^1010.162
"^DD",2,2,1010.161,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DPT(D0,1010.16)):^(1010.16),1:"") S X=$P(Y(1),U,2),X=X S DIU=X K Y S X=DIV S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) X ^DD(2,1010.161,1,1,1.4)
"^DD",2,2,1010.161,1,1,1.4)
S DIH=$G(^DPT(DIV(0),1010.16)),DIV=X S $P(^(1010.16),U,2)=DIV,DIH=2,DIG=1010.162 D ^DICR
"^DD",2,2,1010.161,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DPT(D0,1010.16)):^(1010.16),1:"") S X=$P(Y(1),U,2),X=X S DIU=X K Y S X="" S DIH=$G(^DPT(DIV(0),1010.16)),DIV=X S $P(^(1010.16),U,2)=DIV,DIH=2,DIG=1010.162 D ^DICR
"^DD",2,2,1010.161,1,1,"CREATE VALUE")
NOW
"^DD",2,2,1010.161,1,1,"DELETE VALUE")
@
"^DD",2,2,1010.161,1,1,"FIELD")
DATE STATUS LA
"^DD",2,2,1010.161,3)
Enter status of appointment request.
"^DD",2,2,1010.161,21,0)
^^3^3^3080317^
"^DD",2,2,1010.161,21,1,0)
This field is the status of the veteran's new appointment requested.
"^DD",2,2,1010.161,21,2,0)
This field is entered by the user through the new enrollee appointment
"^DD",2,2,1010.161,21,3,0)
request option.
"^DD",2,2,1010.161,"DT")
3080317
"^DD",2,2,1010.162,0)
DATE STATUS LAST EDITED^D^^1010.16;2^S %DT="ET" D ^%DT S X=Y K:Y<1 X
"^DD",2,2,1010.162,5,1,0)
2^1010.161^1
"^DD",2,2,1010.162,21,0)
^^2^2^3080317^
"^DD",2,2,1010.162,21,1,0)
This is the date appointment request status was last edited. This field is
"^DD",2,2,1010.162,21,2,0)
updated by the computer whenever anyone edits the status information.
"^DD",2,2,1010.162,"DT")
3080317
"^DD",2,2,1010.163,0)
APPOINTMENT REQUEST COMMENT^F^^1010.16;3^K:$L(X)>200!($L(X)<2) X
"^DD",2,2,1010.163,1,0)
^.1
"^DD",2,2,1010.163,1,1,0)
^^TRIGGER^2^1010.164
"^DD",2,2,1010.163,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DPT(D0,1010.16)):^(1010.16),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y S X=DIV S %=$P($H,",",2),X=DT_(%\60#60/100+(%\3600)+(%#60/10000)/100) X ^DD(2,1010.163,1,1,1.4)
"^DD",2,2,1010.163,1,1,1.4)
S DIH=$G(^DPT(DIV(0),1010.16)),DIV=X S $P(^(1010.16),U,4)=DIV,DIH=2,DIG=1010.164 D ^DICR
"^DD",2,2,1010.163,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(1)=$S($D(^DPT(D0,1010.16)):^(1010.16),1:"") S X=$P(Y(1),U,4),X=X S DIU=X K Y S X="" S DIH=$G(^DPT(DIV(0),1010.16)),DIV=X S $P(^(1010.16),U,4)=DIV,DIH=2,DIG=1010.164 D ^DICR
"^DD",2,2,1010.163,1,1,"CREATE VALUE")
NOW
"^DD",2,2,1010.163,1,1,"DELETE VALUE")
@
"^DD",2,2,1010.163,1,1,"FIELD")
DATE COMMENT LAST
"^DD",2,2,1010.163,3)
Answer must be 2-200 characters in length.
"^DD",2,2,1010.163,21,0)
^.001^2^2^3080331^^^
"^DD",2,2,1010.163,21,1,0)
This field is entered by the user through the new enrollee appointment
"^DD",2,2,1010.163,21,2,0)
request option.
"^DD",2,2,1010.163,"DT")
3080331
"^DD",2,2,1010.164,0)
DATE COMMENT LAST EDITED^D^^1010.16;4^S %DT="ET" D ^%DT S X=Y K:Y<1 X
"^DD",2,2,1010.164,5,1,0)
2^1010.163^1
"^DD",2,2,1010.164,21,0)
^^2^2^3080317^
"^DD",2,2,1010.164,21,1,0)
This is the date appointment request comment was last edited. This field
"^DD",2,2,1010.164,21,2,0)
is updated by the computer whenever anyone edits the comment information.
"^DD",2,2,1010.164,"DT")
3080317
"BLD",7445,6)
^691
**END**
**END**
