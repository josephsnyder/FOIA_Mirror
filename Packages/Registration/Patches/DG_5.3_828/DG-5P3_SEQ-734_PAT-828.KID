Released DG*5.3*828 SEQ #734
Extracted from mail message
**KIDS**:DG*5.3*828^

**INSTALL NAME**
DG*5.3*828
"BLD",8360,0)
DG*5.3*828^REGISTRATION^0^3100809^y
"BLD",8360,1,0)
^^1^1^3100809^
"BLD",8360,1,1,0)
Cannot view patient registration data for patient on LINUX OS.
"BLD",8360,4,0)
^9.64PA^^0
"BLD",8360,6.3)
6
"BLD",8360,"ABPKG")
n
"BLD",8360,"INI")

"BLD",8360,"INID")
^n^n
"BLD",8360,"INIT")

"BLD",8360,"KRN",0)
^9.67PA^779.2^20
"BLD",8360,"KRN",.4,0)
.4
"BLD",8360,"KRN",.401,0)
.401
"BLD",8360,"KRN",.402,0)
.402
"BLD",8360,"KRN",.403,0)
.403
"BLD",8360,"KRN",.5,0)
.5
"BLD",8360,"KRN",.84,0)
.84
"BLD",8360,"KRN",3.6,0)
3.6
"BLD",8360,"KRN",3.8,0)
3.8
"BLD",8360,"KRN",9.2,0)
9.2
"BLD",8360,"KRN",9.8,0)
9.8
"BLD",8360,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",8360,"KRN",9.8,"NM",1,0)
DGRPP^^0^B19076912
"BLD",8360,"KRN",9.8,"NM","B","DGRPP",1)

"BLD",8360,"KRN",19,0)
19
"BLD",8360,"KRN",19,"NM",0)
^9.68A^^
"BLD",8360,"KRN",19.1,0)
19.1
"BLD",8360,"KRN",101,0)
101
"BLD",8360,"KRN",409.61,0)
409.61
"BLD",8360,"KRN",771,0)
771
"BLD",8360,"KRN",779.2,0)
779.2
"BLD",8360,"KRN",870,0)
870
"BLD",8360,"KRN",8989.51,0)
8989.51
"BLD",8360,"KRN",8989.52,0)
8989.52
"BLD",8360,"KRN",8994,0)
8994
"BLD",8360,"KRN","B",.4,.4)

"BLD",8360,"KRN","B",.401,.401)

"BLD",8360,"KRN","B",.402,.402)

"BLD",8360,"KRN","B",.403,.403)

"BLD",8360,"KRN","B",.5,.5)

"BLD",8360,"KRN","B",.84,.84)

"BLD",8360,"KRN","B",3.6,3.6)

"BLD",8360,"KRN","B",3.8,3.8)

"BLD",8360,"KRN","B",9.2,9.2)

"BLD",8360,"KRN","B",9.8,9.8)

"BLD",8360,"KRN","B",19,19)

"BLD",8360,"KRN","B",19.1,19.1)

"BLD",8360,"KRN","B",101,101)

"BLD",8360,"KRN","B",409.61,409.61)

"BLD",8360,"KRN","B",771,771)

"BLD",8360,"KRN","B",779.2,779.2)

"BLD",8360,"KRN","B",870,870)

"BLD",8360,"KRN","B",8989.51,8989.51)

"BLD",8360,"KRN","B",8989.52,8989.52)

"BLD",8360,"KRN","B",8994,8994)

"BLD",8360,"QDEF")
^^^^^^^^^^NO
"BLD",8360,"QUES",0)
^9.62^^
"BLD",8360,"REQB",0)
^9.611^1^1
"BLD",8360,"REQB",1,0)
DG*5.3*688^2
"BLD",8360,"REQB","B","DG*5.3*688",1)

"MBREQ")
0
"PKG",5,-1)
1^1
"PKG",5,0)
REGISTRATION^DG^PATIENT REGISTRATION, ADMISSION, DISCHARGE, EMBOSSER 
"PKG",5,20,0)
^9.402P^^
"PKG",5,22,0)
^9.49I^1^1
"PKG",5,22,1,0)
5.3^2930813
"PKG",5,22,1,"PAH",1,0)
828^3100809
"PKG",5,22,1,"PAH",1,1,0)
^^1^1^3100809
"PKG",5,22,1,"PAH",1,1,1,0)
Cannot view patient registration data for patient on LINUX OS.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","DGRPP")
0^1^B19076912^B18355225
"RTN","DGRPP",1,0)
DGRPP ;ALB/MRL,AEG - REGISTRATION SCREEN PROCESSOR ;07/18/06
"RTN","DGRPP",2,0)
 ;;5.3;Registration;**92,147,343,404,397,489,689,688,828**;Aug 13, 1993;Build 6
"RTN","DGRPP",3,0)
 ;
"RTN","DGRPP",4,0)
 ;DGRPS    : Screen to edit
"RTN","DGRPP",5,0)
 ;DGRPSEL  : If screen 9 (income screening) set to allowable selections
"RTN","DGRPP",6,0)
 ;           (V=Veteran, S=Spouse, D=Dependents)
"RTN","DGRPP",7,0)
 ;DGRPSELT : If screen 9, type selected (V, S, or D or all if none specified)
"RTN","DGRPP",8,0)
 ;DGRPAN   : Selectable items on screen for edit (user input)
"RTN","DGRPP",9,0)
 ;DGRPANP  : Selectable items for print on page footer - i.e. 1-3
"RTN","DGRPP",10,0)
 ;DGRPANN  : Selected item(s) extrapolated (screen_item)
"RTN","DGRPP",11,0)
 ;
"RTN","DGRPP",12,0)
 ;
"RTN","DGRPP",13,0)
EN ;
"RTN","DGRPP",14,0)
 D:'$$BEGUPLD^DGENUPL3(DFN)
"RTN","DGRPP",15,0)
 .D UNLOCK^DGENPTA1(DFN)
"RTN","DGRPP",16,0)
 .D CKUPLOAD^DGENUPL3(DFN)
"RTN","DGRPP",17,0)
 .I $$LOCK^DGENPTA1(DFN)
"RTN","DGRPP",18,0)
 D ENDUPLD^DGENUPL3(DFN)
"RTN","DGRPP",19,0)
 D Q1,WHICH^DGRPP1 W ! K DGRP S DGRPAN="" F I=1:1:$L(DGRPVV(DGRPS)) I $S('DGRPV:1,DGRPS=6:I=2!(I=3),1:0) S:'$E(DGRPVV(DGRPS),I) DGRPAN=DGRPAN_I_","
"RTN","DGRPP",20,0)
 D STR^DGRPP1 F I=$Y:1:20 W !
"RTN","DGRPP",21,0)
 ; remove COPY option DG*5.3*688
"RTN","DGRPP",22,0)
 I ("8^9"[DGRPS),($G(DGEFDT)'=DT) S Z="E" D W W "=ENTER new "_(DGISYR+1)_" data,"
"RTN","DGRPP",23,0)
 S Z="<RET>" D W W " to ",$S(DGRPS<DGRPLAST:"CONTINUE",1:"QUIT"),", "
"RTN","DGRPP",24,0)
 I DGRPAN]"" S Z=DGRPANP D W D
"RTN","DGRPP",25,0)
 . I '$G(DGRPV) W " or " S Z="ALL" D W
"RTN","DGRPP",26,0)
 . W " to "_$S('$G(DGRPV):"EDIT, ",DGRPS=6:"EXPAND, ",1:"")
"RTN","DGRPP",27,0)
 S DGRPOUT=0,Z="^N" D W W " for screen N or " S Z="'^'" D W W " to QUIT" I DGRPSEL=""!(DGRPVV(9)'["0")!+$G(DGRPV) W ": "
"RTN","DGRPP",28,0)
 I DGRPSEL]"" D MOREHLP^DGRPP1
"RTN","DGRPP",29,0)
 G:$E(IOST,1,2)="P-" NEXT  ;RGB/VM 4/28/10 Just go to next screen for non-interactive jobs
"RTN","DGRPP",30,0)
 R DGRPANN:DTIME S:'$T DGRPOUT=1 I DGRPANN']"",'DGRPOUT G NEXT
"RTN","DGRPP",31,0)
 I $E(DGRPANN)="E",$G(DGNOBUCK),("8^9"[DGRPS) D
"RTN","DGRPP",32,0)
 .S DGNOCOPY=1
"RTN","DGRPP",33,0)
 . ; remove COPY option DG*5.3*688
"RTN","DGRPP",34,0)
 .S DGRPANN=U_DGRPS,DGRPVV(9)="000",DGRPVV(8)="00",DGIAINEW=1
"RTN","DGRPP",35,0)
JUMP G JUMP^DGRPP1:DGRPANN?1"^"1N.".".1N I DGRPOUT!(DGRPANN?1"^".E) G Q
"RTN","DGRPP",36,0)
 S (DGRPANN,X)=$$UPPER^DGUTL(DGRPANN)
"RTN","DGRPP",37,0)
 I $E(DGRPANN)="A" S X=DGRPANN,Z="^ALL" D IN^DGHELP I %'=-1 S DGRPANN=DGRPANP
"RTN","DGRPP",38,0)
 I DGRPANN]"",(DGRPSEL[$E(DGRPANN)) S DGRPSELT=$E(DGRPANN),DGRPANN=$P(DGRPANN,DGRPSELT,2) ; save off type, run through all other checks
"RTN","DGRPP",39,0)
 I DGRPANN'?1N.E D ^DGRPH G:DGRPS'=1.1 @("^DGRP"_DGRPS) G:DGRPS=1.1 ^DGRPCADD
"RTN","DGRPP",40,0)
 S DGDR="" F I=1:1 S DGCH=$P(DGRPANN,",",I) Q:DGCH']""!($L(DGCH)>5)  D CHOICE
"RTN","DGRPP",41,0)
 I DGDR']"" D ^DGRPH S X=DGRPS G SCRX
"RTN","DGRPP",42,0)
 D ^DGRPE G QQ:'$D(^DPT(DFN,0)) S X=DGRPS G SCRX
"RTN","DGRPP",43,0)
Q I 'DGELVER D:$S(DGRPOUT:0,'$D(DGRPV):0,'DGRPV:1,1:0) LT^DGRPP1
"RTN","DGRPP",44,0)
 K DGDEP,DGINC,DGINR,DGMTC,DGMTED,DGREL,DGTOT,DGSP
"RTN","DGRPP",45,0)
 K DGCH,DGGTOT,DGIRI,DGPRI,DGRPSE1,DGNOCOPY
"RTN","DGRPP",46,0)
 D SENSCHK
"RTN","DGRPP",47,0)
 I 'DGRPV S DGEDCN=1 D ^DGRPC K DGEDCN
"RTN","DGRPP",48,0)
QQ K DGRPNA,DGRPS,DGRPTYPE,DGRPU,DGRPV,DGRPVV,DGRPW,DGVI,DGVO,DGRPCM,DGELVER,DGRPLAST
"RTN","DGRPP",49,0)
Q1 K %DT,C,DGA,DGA1,DGA2,DGAD,DGDR,DGRP,DGRPAG,DGRPAN,DGRPANN,DGRPANP,DGRPD,DGRPSEL,DGRPSELT,DGRPVR,DGRPX,DGAAC
"RTN","DGRPP",50,0)
 K DIRUT,DUOUT,DTOUT
"RTN","DGRPP",51,0)
 K DIC,I,I1,I2,I3,J,X,X1,X2,X3,Y,Z,Z1 I $D(DFN)#2,DFN]"" S:$D(^DPT(DFN,0)) DA=DFN
"RTN","DGRPP",52,0)
 Q
"RTN","DGRPP",53,0)
 ;
"RTN","DGRPP",54,0)
SENSCHK ; check whether patient record should be made sensitive
"RTN","DGRPP",55,0)
 N ELIG,FLAG,X
"RTN","DGRPP",56,0)
 S ELIG=0,FLAG=0
"RTN","DGRPP",57,0)
 I '$D(^DPT($G(DFN),0)) Q  ; patient not defined
"RTN","DGRPP",58,0)
 I $D(^DGSL(38.1,DFN,0)) Q  ; patient already in dg security log file
"RTN","DGRPP",59,0)
 S X=$S($D(^DPT(DFN,"TYPE")):+^("TYPE"),1:"") I $D(^DG(391,+X,0)),$P(^(0),"^",4) D SEC Q:FLAG
"RTN","DGRPP",60,0)
 F  S ELIG=$O(^DPT(DFN,"E",ELIG)) Q:'ELIG  D  Q:FLAG
"RTN","DGRPP",61,0)
 . S X=$G(^DIC(8,ELIG,0))
"RTN","DGRPP",62,0)
 . I $P(X,"^",12) D SEC
"RTN","DGRPP",63,0)
 Q
"RTN","DGRPP",64,0)
 ;
"RTN","DGRPP",65,0)
SEC ;if patient type says make record sensitive, add to security log file
"RTN","DGRPP",66,0)
 K DD,DO S DIC="^DGSL(38.1,",(X,DINUM)=DFN,DIC(0)="L",DIC("DR")="2///1;3////"_DUZ_";4///NOW;" D FILE^DICN
"RTN","DGRPP",67,0)
 I $D(^DGSL(38.1,DFN,0)) W !!,"===> Record has been classified as sensitive." S FLAG=1
"RTN","DGRPP",68,0)
 K DIC,X,DINUM,DA,DD,DO,Y
"RTN","DGRPP",69,0)
 Q
"RTN","DGRPP",70,0)
 ;
"RTN","DGRPP",71,0)
CHOICE ;parse out which items were selected for edit
"RTN","DGRPP",72,0)
 ;
"RTN","DGRPP",73,0)
 ;DGCH=choice to be parsed (either number or number-number)
"RTN","DGRPP",74,0)
 ;
"RTN","DGRPP",75,0)
 N DGFL S DGFL=0
"RTN","DGRPP",76,0)
 I DGCH["-" Q:DGCH'?1.2N1"-"1.2N!($P(DGCH,"-",2)>17)  F J=$P(DGCH,"-",1):1:$P(DGCH,"-",2) I DGRPAN[(J_",") D:(DGRPS=9) SCR9 I 'DGFL S DGDR=DGDR_(DGRPS*100+J)_","
"RTN","DGRPP",77,0)
 I DGCH'["-",DGCH?1.2N,(DGRPAN[(DGCH_",")) S DGDR=DGDR_(DGRPS*100+DGCH)_","
"RTN","DGRPP",78,0)
 Q
"RTN","DGRPP",79,0)
 ;
"RTN","DGRPP",80,0)
NEXT ;find next available screen...goto
"RTN","DGRPP",81,0)
 I DGRPS=DGRPLAST G Q ;last screen and return...quit
"RTN","DGRPP",82,0)
 S X=DGRPLAST
"RTN","DGRPP",83,0)
 F I=DGRPS+1:1 S J=$E(DGRPVV,I) Q:J']""  I 'J S X=I Q
"RTN","DGRPP",84,0)
 I DGRPS=1 S X=1.1
"RTN","DGRPP",85,0)
SCRX ;goto screen X
"RTN","DGRPP",86,0)
 ;I DGRPLAST=DGRPS,DGRPLAST=X G Q
"RTN","DGRPP",87,0)
 I X[".",X'=1.1 S X=$P(X,".",1)
"RTN","DGRPP",88,0)
 G:X=1.1 ^DGRPCADD
"RTN","DGRPP",89,0)
 G:X'=1.1 @("^DGRP"_X) ;goto next available screen
"RTN","DGRPP",90,0)
 ;
"RTN","DGRPP",91,0)
W ;write highlighted text on screen (if parameter on)
"RTN","DGRPP",92,0)
 I IOST="C-QUME",$L(DGVI)'=2 W Z
"RTN","DGRPP",93,0)
 E  W @DGVI,Z,@DGVO
"RTN","DGRPP",94,0)
 Q
"RTN","DGRPP",95,0)
 ;
"RTN","DGRPP",96,0)
SCR9 ; see if MT is completed.  Allow only selective editing if so
"RTN","DGRPP",97,0)
 I 'DGMTC Q
"RTN","DGRPP",98,0)
 I '$D(DGRPSELT) S:DGMTC=1 DGFL=1 Q  ;if no non-mt dependents
"RTN","DGRPP",99,0)
 I DGRPSELT="S",$D(DGMTC("S")) Q
"RTN","DGRPP",100,0)
 I DGRPSELT="D",$D(DGMTC("D")) Q
"RTN","DGRPP",101,0)
 S DGFL=1
"RTN","DGRPP",102,0)
 Q
"VER")
8.0^22.0
"BLD",8360,6)
^734
**END**
**END**
