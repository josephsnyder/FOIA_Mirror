
=============================================================================
Run Date: NOV 20, 2008                     Designation: ECX*3*112
Package : ECX - DSS EXTRACTS                  Priority: EMERGENCY
Version : 3       SEQ #103                      Status: Released
                  Compliance Date: NOV 27, 2008
=============================================================================

Associated patches: (v)ECX*3*105   <<= must be installed BEFORE `ECX*3*112'

Subject: DSS FY 2009 ENHANCEMENTS

Category: 
  - Routine
  - Data Dictionary
  - Enhancement ()

Description:
============

 This patch is an EMERGENCY PATCH.
  
 As part of the DSS EXTRACT CHANGES FOR FY09, patch ECX*3.0*112 has a 7-day
 compliance date for installation.  Since the DSS Extracts are monthly,
 ECX*3.0*112 should be installed by the respective 7-day compliance dates
 so as not to miss the next extract.
  
  
 The DSS FY09 Extract Enhancements shall provide the means of exporting 
 data from selected VistA software modules and transmitting it to a DSS 
 database residing at the AITC (Austin Information Technology Center). This
 transfer is accomplished through a set of extract routines, intermediate
 files, and transmission routines. Data from VistA packages is stored by
 the extract routines in the intermediate files, where it is temporarily
 available for local use and auditing. The data is then transmitted to the
 AITC, where it is formatted and uploaded into commercial software.
  
 Included in the DSS FY09 scope are: 
      o       DSS Extract field additions and modifications
      o       DSS menu additions, modifications and deletions
      o       New DSS reports and report modifications
      o       Implementation of the new or modified APIs
      o       Linking of lab tests by LOINC Code
      o       Ability to recreate purged IVP and UDP data
  
 Not included are the modifications to the AITC DSS software, the AITC 
 legacy extracts, and Vendor software.
  
  
 The following is a list of product features for this release:
 =============================================================
 1.  On the Laboratory (LAB) Extract file and the Laboratory Results (LAR)
     Extract file, add and populate a LOINC Code field.
  
 2.  When creating the Laboratory Results (LAR) Extract file, replace 
     site-specific linking by NLT with selection by LOINC Code based on a
     new DSS LOINC Code (#727.29) file.
  
 3.  Lab Results Extract Untranslatable Results Report replaces 
     site-specific linking by NLT with selection by LOINC Code based on a
     new DSS LOINC Code (#727.29) file.
  
 4.  Create a new Lab Results LOINC Code Report.
  
 5.  On the Clinics and Stop Codes Worksheet, prevent use of inactive Stop
     Codes.
  
 6.  On the Clinics and Stop Codes Report, add options to print Active, or
     Inactive clinics.
  
 7.  On all reports, change the acronym AAC to Austin.  All extracts use a
     common utility to assign this name.
  
 8.  On the Surgery (SUR) Extract file, modify logic used to determine the
     Stop Code included in the Encounter Number.
  
 9.  On the Surgery (SUR) Extract file, add encounter related "mandatory
     questions" fields to track if care is related to exposure to certain
     situations.
  
 10. On the Surgery (SUR) Extract file, add patient status related 
     "mandatory questions" fields to track if the patient was exposed to 
     certain situations.
  
 11. On the Manager's Menu, add an option to recreate purged Pharmacy IV
     Detail (IVP) Extract Holding files.  This is a new capability and 
     program.
  
 12. On the Manager's Menu, add an option to recreate purged Unit Dose 
     Prescription (UDP) Extract Holding/ files.  This is a new capability
     and program.
  
 13. On the Pharmacy extracts, change the value of the Stop Code field on
     outpatient records to "PHA" rather than "160".
  
 14. On the Nutrition (NUT) Extract, return data for Outpatient Standing
     Orders and Outpatient Supplemental Feedings. 
  
 15. On the Nutrition Worksheet, enable deletion of an incorrectly assigned
     diet.
  
 16. In the VistA Data Dictionary, update the Prosthetics Extract "Type of
     Transaction" field to show all possible values.
  
 17. On the Prosthetics (PRO) Extract, update the NPPD Code field logic to
     include Type of Transaction = S (Spare).
  
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 There is no NSR associated with this patch.
  
  
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 HD0000000244401
  
 Problem:  Meal Accumulation problem  (Too many meals recorded for certain 
 patients in a given month).
  
 Resolution: GETDATES module of ECXNUT1 was modified to correct the 
 retrieval of the stop date, admit date and discharge date for Inpatient 
 Standing Orders.
  
  
  
  
  
 Components Sent With Patch
 --------------------------
  
 The following is a list of files included in this patch:
  
                                      UP    SEND  DATA                
                                      DATE  SEC.  COMES  SITE   RSLV  
 FILE #  NAME                         DD    CODE  W/FILE DATA   PTS 
 --------------------------------------------------------------------
 727.29  DSS LOINC FILE               YES   YES   NO
 727.811 SURGERY EXTRACT              YES   YES   NO
 727.813 LABORATORY EXTRACT           YES   YES   NO
 727.824 LAB RESULTS EXTRACT          YES   NO    NO
 727.826 PROSTHETICS EXTRACT          YES   YES   NO
 728.44  CLINICS AND STOP CODES       YES   NO    NO
  
  
 The following is a list of fields included in this patch:
  
 Field Name (Number)                   File Name (Number)
 -------------------                  ------------------
 ENCOUNTER EC  (#97)                  SURGERY EXTRACT (#727.811)
 RADIATION ENCOUNTER INDICATOR (#98)  SURGERY EXTRACT (#727.811) 
 MST ENCOUNTER INDICATOR (#99)        SURGERY EXTRACT (#727.811) 
 ENCOUNTER SC (#100)                  SURGERY EXTRACT (#727.811) 
 AGENT ORANGE STATUS (#101)           SURGERY EXTRACT (#727.811) 
 ENVIRONMENTAL CONTAMINANTS (#102)    SURGERY EXTRACT (#727.811) 
 RADIATION STATUS (#103)              SURGERY EXTRACT (#727.811) 
 MST STATUS (#104)                    SURGERY EXTRACT (#727.811) 
 LOINC CODE (#42)                     LABORATORY EXTRACT (#727.813)
 TEST CODE (#9)                       LAB RESULTS EXTRACT FILE (#727.824)
 LOINC CODE (#31)                     LAB RESULTS EXTRACT FILE (#727.824) 
 TYPE OF TRANSACTION (#29)            PROSTHETICS EXTRACT FILE (#727.826)
 DSS STOP CODE (#3)                   CLINICS AND STOP CODES (728.44)
 DSS CREDIT STOP CODE (#4)            CLINICS AND STOP CODES (728.44)
  
  
 The following is a list of options included in this patch:
  
 Option Name            Type               New/Modified
 ------------------     ----               ------------ 
 ECX LAB MAINTENACE     Menu               Modified        
 ECX LAR LOINC RPT      Option             New          
 ECX TRANSMISSION       Menu               Modified    
 ECXRX IVP RECREATE     Option             New           
 ECXRX UPD RECREATE     Option             New   
 ECXRXHF                Option             New
  
  
 Documentation Retrieval:
 ------------------------ 
 Updated documentation describing the new functionality introduced by this 
 patch is available.
  
 The preferred method is to FTP the files from download.vista.med.va.gov.
 This transmits the files from the first available FTP server. Sites may 
 also elect to retrieve software directly from a specific server as 
 follows:
  
  Albany         ftp.fo-albany.med.va.gov  <ftp://ftp.fo-albany.med.va.gov>
  Hines          ftp.fo-hines.med.va.gov   <ftp://ftp.fo-hines.med.va.gov>
  Salt Lake City ftp.fo-slc.med.va.gov     <ftp://ftp.fo-slc.med.va.gov>
   
  
 The documentation will be in the form of Adobe Acrobat files.
   
 Documentation can also be found on the System Design and Development Web 
 page at:  http://www.va.gov/vdl/application.asp?appid=35
  
 Below is a list of the files related to this patch that will be needed and
 available via the FTP sites listed above.
  
 File Description                    File Name                FTP Mode
 -----------------------------------------------------------------------
 User Manual in PDF Format           DSS_3_FY2009_UM.PDF      (binary)
 Technical Manual in PDF Format      DSS_3_FY2009_TM.PDF      (binary)
 Extract Format Guide in PDF Format  DSS_3_FY2009_EF.PDF      (binary)
  
  
 The software for this patch is being distributed in a host
 file.  The host file will contain three KIDS files.
   
                  Host File Name:  DSSFY09.KID
                          Builds:  ECX*3.0*112
                                   FH*5.5*18
                                   PSJ*5.0*210
                                   LR*5.2*385
  
 Sites may retrieve the software directly using FTP from the 
 ANONYMOUS.SOFTWARE directory at the following OI Field Offices:
                  Albany:         ftp.fo-albany.med.va.gov
                  Hines:          ftp.fo-hines.med.va.gov
                  Salt Lake City: ftp.fo-slc.med.va.gov
   
 First available download:  download.vista.med.va.gov
 **Note:  Use ASCII mode when transferring the .KID file
   
   
  
 Test Sites:
 -----------
 CENTRAL TEXAS
 PALO ALTO
 LITTLE ROCK, AR
  
  
  
        ================INSTALLATION INSTRUCTIONS =================
  
 If installed during the normal workday, it is recommended that the 
 following selection(s) in the OPTION (#19) file, and all of their 
 descendants be disabled to prevent possible conflicts while running the 
 KIDS Install. Other VISTA users will not be affected.
  
                 Extract Manager's Options [ECXMGR]
  
  
 Install Time - less than 5 minutes (unless otherwise indicated)
  
 ***********************************************************  
  
    1.    Retrieve the KIDS host file per software retrieval directions 
          above.
   
    2.    Place the host file into a directory that is accessible from the 
          account into which you are installing.
   
    3.   START UP KIDS 
         -------------
         Start up the Kernel Installation and Distribution System Menu 
         [XPD MAIN]:
   
   
            Edits and Distribution ...
            Utilities ...
            Installation ...
   
  Select Kernel Installation & Distribution System Option: INStallation
   
   
     1      Load a Distribution
     2      Verify Checksums in Transport Global
     3      Print Transport Global
     4      Compare Transport Global to Current System
     5      Backup a Transport Global
     6      Install Package(s)
            Restart Install of Package(s)
            Unload a Distribution
   
  Select Installation Option: 1  Load a Distribution
  Enter a Host File: DSSFY09.KID
   
   
    4.   START UP KIDS 
         -------------
         Start up the Kernel Installation and Distribution System Menu 
         [XPD MAIN]: 
  
              Edits and Distribution ...  
              Utilities ...
              Installation ...  
     
    Select Kernel Installation & Distribution System Option: INStallation 
                                                             ---
              Load a Distribution 
              Print Transport Global 
              Compare Transport Global to Current System 
              Verify Checksums in Transport Global 
              Install Package(s) 
              Restart Install of Package(s) 
              Unload a Distribution 
              Backup a Transport Global 
     
    Select Installation Option:
    5.   Select Installation Option: 
         --------------------------
         NOTE: The following are OPTIONAL (When prompted for the INSTALL
                NAME, enter ECX*3.0*112):
        
         a.  Backup a Transport Global - This option will create a backup
             message of any routines exported with this patch. It will
             not backup any other changes such as DD's or templates.
         b.  Compare Transport Global to Current System - This option 
             will allow you to view all changes that will be made when 
             this patch is installed.  It compares all components of this 
             patch (routines, DD's, templates, etc.).
         c.  Verify Checksums in Transport Global - This option will
             allow you to ensure the integrity of the routines that are 
             in the transport global.
       
    6.   Select Installation Option: Install Package(s) 
                                     ----------------
         **This is the step to start the installation of this KIDS patch: 
     
        a.  Choose the Install Package(s) option to start the patch
            install.  Enter ECX*3.0*112 when prompted for a build name.
        b.  When prompted  Want KIDS to Rebuild Menu Trees Upon Completion
            of the Install?  YES//  answer NO
        c.  When prompted 'Want KIDS to INHIBIT LOGONs during the
            install?  YES//' answer NO (unless otherwise indicated).
        d.  When prompted 'Want to DISABLE Scheduled Options, Menu
            Options, and Protocols? YES//' hit '<return>'. YES (unless
               otherwise indicated).
  
        e.  When prompted 'Enter options you wish to mark as 'Out Of
            Order':'  Enter the following options:
   
                    Extract Manager's Options [ECXMGR]
  
        f.  When prompted 'Enter protocols you wish to mark as 'Out Of
            Order':' press <return>.
  
        g. If prompted 'Delay Install (Minutes):  (0-60):  0//'
           answer "0" (unless otherwise indicated).

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: ECX3112P
    Before:       n/a   After:B161599917  **112**
Routine Name: ECXALAR
    Before: B16231091   After: B16671173  **46,51,112**
Routine Name: ECXALAR2
    Before:  B7694092   After:  B7555415  **46,51,112**
Routine Name: ECXKILL
    Before:  B6793618   After:  B6822218  **9,8,21,24,31,39,49,84,89,105,112**
Routine Name: ECXLABN
    Before: B29839550   After: B38906559  **1,11,8,13,28,24,30,31,32,33,
                                           39,42,46,70,71,80,92,107,105,
                                           112**
Routine Name: ECXLABR
    Before: B22461494   After: B20056057  **8,24,33,37,39,46,71,80,107,
                                           105,112**
Routine Name: ECXLARA
    Before: B27828116   After: B27412499  **105,112**
Routine Name: ECXLARPT
    Before:       n/a   After: B20353284  **112**
Routine Name: ECXNUT
    Before: B31304371   After: B31564547  **92,107,105,112**
Routine Name: ECXNUT1
    Before: B65556381   After:B106014045  **92,107,105,112**
Routine Name: ECXNUTPE
    Before:  B4744677   After:  B5181727  **92,112**
Routine Name: ECXOPRX
    Before: B50701153   After: B51901081  **10,11,8,13,24,30,33,38,39,
                                           46,49,71,81,84,92,105,112**
Routine Name: ECXPIVDN
    Before: B49192647   After: B49199497  **10,11,8,13,24,33,39,46,49,
                                           71,84,96,92,107,105,112**
Routine Name: ECXPRO1
    Before: B20355381   After: B20364237  **9,11,13,15,21,24,33,37,39,
                                           100,105,112**
Routine Name: ECXPURG
    Before: B19455124   After: B23816296  **9,24,33,35,49,102,112**
Routine Name: ECXPURG1
    Before: B37781979   After: B36829694  **2,9,8,24,49,102,112**
Routine Name: ECXSCLD
    Before: B37438531   After: B41231868  **2,8,24,30,71,80,105,112**
Routine Name: ECXSURG
    Before: B47425322   After: B53305760  **1,11,8,13,25,24,33,39,41,42,
                                           46,50,71,84,92,99,105,112**
Routine Name: ECXSURG1
    Before: B12420655   After: B14336843  **105,112**
Routine Name: ECXTREX
    Before: B11391344   After: B11510953  **49,71,84,92,105,112**
Routine Name: ECXUDRF
    Before:       n/a   After:    B82697  **112**
Routine Name: ECXUTL2
    Before: B70446907   After: B70560984  **8,13,23,24,33,35,39,46,71,
                                           84,92,105,112**
Routine Name: ECXUTL4
    Before: B51789740   After: B51787444  **39,41,46,49,78,92,105,112**
Routine Name: ECXUTL6
    Before: B26325386   After: B68731197  **92,105,112**
Routine Name: ECXUTLA
    Before: B52558732   After: B52600854  **8,14,112**
 
Routine list of preceding patches: 14, 51, 102, 105

=============================================================================
User Information:
Entered By  : CORONA,JOSE                   Date Entered  : MAR 20, 2008
Completed By: BARBER,HAROLDINE              Date Completed: NOV 19, 2008
Released By : STRICKLAND,JOAN C             Date Released : NOV 20, 2008
=============================================================================


Packman Mail Message:
=====================

No routines included
