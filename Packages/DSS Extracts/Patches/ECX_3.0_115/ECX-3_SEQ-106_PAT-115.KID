Released ECX*3*115 SEQ #106
Extracted from mail message
**KIDS**:ECX*3.0*115^

**INSTALL NAME**
ECX*3.0*115
"BLD",7878,0)
ECX*3.0*115^DSS EXTRACTS^0^3090224^y
"BLD",7878,1,0)
^^2^2^3090218^
"BLD",7878,1,1,0)
ADD 11 NEW LOINC CODES
"BLD",7878,1,2,0)
REMOVE 3 LOINC CODES
"BLD",7878,4,0)
^9.64PA^^
"BLD",7878,6.3)
3
"BLD",7878,"INIT")
POST^ECX3115P
"BLD",7878,"KRN",0)
^9.67PA^779.2^20
"BLD",7878,"KRN",.4,0)
.4
"BLD",7878,"KRN",.401,0)
.401
"BLD",7878,"KRN",.402,0)
.402
"BLD",7878,"KRN",.403,0)
.403
"BLD",7878,"KRN",.5,0)
.5
"BLD",7878,"KRN",.84,0)
.84
"BLD",7878,"KRN",3.6,0)
3.6
"BLD",7878,"KRN",3.8,0)
3.8
"BLD",7878,"KRN",9.2,0)
9.2
"BLD",7878,"KRN",9.8,0)
9.8
"BLD",7878,"KRN",19,0)
19
"BLD",7878,"KRN",19.1,0)
19.1
"BLD",7878,"KRN",101,0)
101
"BLD",7878,"KRN",409.61,0)
409.61
"BLD",7878,"KRN",771,0)
771
"BLD",7878,"KRN",779.2,0)
779.2
"BLD",7878,"KRN",870,0)
870
"BLD",7878,"KRN",8989.51,0)
8989.51
"BLD",7878,"KRN",8989.52,0)
8989.52
"BLD",7878,"KRN",8994,0)
8994
"BLD",7878,"KRN","B",.4,.4)

"BLD",7878,"KRN","B",.401,.401)

"BLD",7878,"KRN","B",.402,.402)

"BLD",7878,"KRN","B",.403,.403)

"BLD",7878,"KRN","B",.5,.5)

"BLD",7878,"KRN","B",.84,.84)

"BLD",7878,"KRN","B",3.6,3.6)

"BLD",7878,"KRN","B",3.8,3.8)

"BLD",7878,"KRN","B",9.2,9.2)

"BLD",7878,"KRN","B",9.8,9.8)

"BLD",7878,"KRN","B",19,19)

"BLD",7878,"KRN","B",19.1,19.1)

"BLD",7878,"KRN","B",101,101)

"BLD",7878,"KRN","B",409.61,409.61)

"BLD",7878,"KRN","B",771,771)

"BLD",7878,"KRN","B",779.2,779.2)

"BLD",7878,"KRN","B",870,870)

"BLD",7878,"KRN","B",8989.51,8989.51)

"BLD",7878,"KRN","B",8989.52,8989.52)

"BLD",7878,"KRN","B",8994,8994)

"BLD",7878,"PRE")
ECX3115P
"BLD",7878,"QUES",0)
^9.62^^
"BLD",7878,"REQB",0)
^9.611^1^1
"BLD",7878,"REQB",1,0)
ECX*3.0*112^2
"BLD",7878,"REQB","B","ECX*3.0*112",1)

"INIT")
POST^ECX3115P
"MBREQ")
0
"PKG",513,-1)
1^1
"PKG",513,0)
DSS EXTRACTS^ECX^Decision Support System. (DSS)
"PKG",513,20,0)
^9.402P^^
"PKG",513,22,0)
^9.49I^1^1
"PKG",513,22,1,0)
3.0^3010618^2980112^11714
"PKG",513,22,1,"PAH",1,0)
115^3090224^1000000011
"PKG",513,22,1,"PAH",1,1,0)
^^2^2^3090224
"PKG",513,22,1,"PAH",1,1,1,0)
ADD 11 NEW LOINC CODES
"PKG",513,22,1,"PAH",1,1,2,0)
REMOVE 3 LOINC CODES
"PRE")
ECX3115P
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","ECX3115P")
0^^B10752991^n/a
"RTN","ECX3115P",1,0)
ECX3115P ;ALB/MRY -Populate DSS LOINC Code file Post-Init Rtn; 02/10/09
"RTN","ECX3115P",2,0)
 ;;3.0;DSS EXTRACTS;**115**;Dec 22,1997;Build 3
"RTN","ECX3115P",3,0)
 ;
"RTN","ECX3115P",4,0)
ENV ;Main entry point for Environment check point.
"RTN","ECX3115P",5,0)
 ;
"RTN","ECX3115P",6,0)
 S XPDABORT=""
"RTN","ECX3115P",7,0)
 D PROGCHK(.XPDABORT) ;checks programmer variables
"RTN","ECX3115P",8,0)
 I XPDABORT="" K XPDABORT
"RTN","ECX3115P",9,0)
 Q
"RTN","ECX3115P",10,0)
 ;
"RTN","ECX3115P",11,0)
PROGCHK(XPDABORT) ;checks for necessary programmer variables
"RTN","ECX3115P",12,0)
 ;
"RTN","ECX3115P",13,0)
 I '$G(DUZ)!($G(DUZ(0))'="@")!('$G(DT))!($G(U)'="^") DO
"RTN","ECX3115P",14,0)
 .D BMES^XPDUTL("*****")
"RTN","ECX3115P",15,0)
 .D MES^XPDUTL("Your programming variables are not set up properly.")
"RTN","ECX3115P",16,0)
 .D MES^XPDUTL("Installation aborted.")
"RTN","ECX3115P",17,0)
 .D MES^XPDUTL("*****")
"RTN","ECX3115P",18,0)
 .S XPDABORT=2
"RTN","ECX3115P",19,0)
 Q
"RTN","ECX3115P",20,0)
POST ;
"RTN","ECX3115P",21,0)
 ;Seed new LOINC Codes
"RTN","ECX3115P",22,0)
 D ADDLNC
"RTN","ECX3115P",23,0)
 ;Remove LOINC Codes
"RTN","ECX3115P",24,0)
 D DELLNC
"RTN","ECX3115P",25,0)
 Q
"RTN","ECX3115P",26,0)
 ;
"RTN","ECX3115P",27,0)
ADDLNC ;Add LOINC Codes
"RTN","ECX3115P",28,0)
 N ECXLINE,ECXSTR,ECXDA,CNT
"RTN","ECX3115P",29,0)
 D MES^XPDUTL(" ")
"RTN","ECX3115P",30,0)
 D MES^XPDUTL(" ")
"RTN","ECX3115P",31,0)
 D MES^XPDUTL(" Adding entries to DSS LOINC CODES File (#727.29)...")
"RTN","ECX3115P",32,0)
 D MES^XPDUTL(" ")
"RTN","ECX3115P",33,0)
 S CNT=0
"RTN","ECX3115P",34,0)
 N DIC,DIE,DA,DLAYGO,DR,X,Y,ECXLINE,ECXSTR,ECXDN,ECXDTN,ECXLN,ECXDRU
"RTN","ECX3115P",35,0)
 S DIC="^ECX(727.29,",DIC(0)="L",DLAYGO=727.29
"RTN","ECX3115P",36,0)
 F ECXLINE=1:1 S ECXSTR=$P($T(ALOINC+ECXLINE),";;",2) Q:ECXSTR="EXIT"  D
"RTN","ECX3115P",37,0)
 . S X=$P(ECXSTR,"^") ;I $$GET1^DIQ(95.3,X,.01,"I")'=X Q
"RTN","ECX3115P",38,0)
 . D ^DIC I Y<0 D  Q
"RTN","ECX3115P",39,0)
 .. D BMES^XPDUTL("*****")
"RTN","ECX3115P",40,0)
 .. D MES^XPDUTL("Unsuccessful entry of LOINC Code - "_X_".")
"RTN","ECX3115P",41,0)
 .. D MES^XPDUTL("******")
"RTN","ECX3115P",42,0)
 . S CNT=CNT+1
"RTN","ECX3115P",43,0)
 . S ECXDN=$P(ECXSTR,"^",2)
"RTN","ECX3115P",44,0)
 . S ECXDTN=$P(ECXSTR,"^",3)
"RTN","ECX3115P",45,0)
 . S ECXLN=$P(ECXSTR,"^",4)
"RTN","ECX3115P",46,0)
 . S ECXDRU=$P(ECXSTR,"^",5)
"RTN","ECX3115P",47,0)
 . S DA=+Y,DR=".02///"_ECXDN_";.03///"_ECXDTN_";.04///"_ECXDRU_";.05///"_ECXLN
"RTN","ECX3115P",48,0)
 . S DIE=DIC D ^DIE
"RTN","ECX3115P",49,0)
 K DA,DIC,DIE,DLAYGO,X,Y
"RTN","ECX3115P",50,0)
 S DIK="^ECX(727.29,",DIK(1)=".02^AC" D ENALL^DIK
"RTN","ECX3115P",51,0)
 K DIK
"RTN","ECX3115P",52,0)
 Q
"RTN","ECX3115P",53,0)
 ;
"RTN","ECX3115P",54,0)
ALOINC ;LOINC Codes (add)
"RTN","ECX3115P",55,0)
 ;;2947-0^0003^Sodium (Serum)^Sodium Bld-sCnc^MEQ/L or MMOL/L
"RTN","ECX3115P",56,0)
 ;;1558-6^0010^Glucose (Serum)^Glucose p fast SerPl-mCnc^MG/DL
"RTN","ECX3115P",57,0)
 ;;24467-3^0020^CD-4 (Absolute T Cell Count)^CD3+CD4+ Cells # Bld^CELLS/MM3, CELLS/UL
"RTN","ECX3115P",58,0)
 ;;21008-8^0038^HIV Viral Load^HIV1 RNA # SerPl Prb^COPIES/ML
"RTN","ECX3115P",59,0)
 ;;29539-4^0038^HIV Viral Load^HIV Log Viral Load Plas Bdna^COPIES/ML
"RTN","ECX3115P",60,0)
 ;;21333-0^0038^HIV Viral Load^HIV1 RNA # Ser^COPIES/ML
"RTN","ECX3115P",61,0)
 ;;20570-8^0050^Hematocrit^Hct % Bld^%
"RTN","ECX3115P",62,0)
 ;;2340-8^0057^Glucose POC^Glucose Bld Test Str Auto-mCnc^MG/DL
"RTN","ECX3115P",63,0)
 ;;32016-8^0057^Glucose POC^Glucose BldC-mCnc^MG/DL
"RTN","ECX3115P",64,0)
 ;;15152-2^0060^Bilirubin (Direct)^Bilirub Conj SerPl-mCnc^MG/DL
"RTN","ECX3115P",65,0)
 ;;20564-1^0068^O2 Saturation^O2 Saturation^%
"RTN","ECX3115P",66,0)
 ;;EXIT
"RTN","ECX3115P",67,0)
 Q
"RTN","ECX3115P",68,0)
 ;
"RTN","ECX3115P",69,0)
DELLNC ;Remove LOINC Codes
"RTN","ECX3115P",70,0)
 N LOINC,ENTRY,DA,DIK
"RTN","ECX3115P",71,0)
 D MES^XPDUTL(" ")
"RTN","ECX3115P",72,0)
 D MES^XPDUTL(" ")
"RTN","ECX3115P",73,0)
 D MES^XPDUTL(" Removing entries to DSS LOINC CODES File (#727.29)...")
"RTN","ECX3115P",74,0)
 D MES^XPDUTL(" ")
"RTN","ECX3115P",75,0)
 S CNT=0
"RTN","ECX3115P",76,0)
 ;
"RTN","ECX3115P",77,0)
 F LOINC="3719-2","5222-5","14152-3" S ENTRY=+$O(^ECX(727.29,"B",LOINC,0)) I ENTRY D
"RTN","ECX3115P",78,0)
 . S DA=ENTRY,DIK="^ECX(727.29," D ^DIK
"RTN","ECX3115P",79,0)
 Q
"VER")
8.0^22.0
"BLD",7878,6)
^106
**END**
**END**
