$TXT Created by DANG,NINA at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 08/10/09 at 11:02
=============================================================================
Run Date: OCT 06, 2009                     Designation: PSJ*5*207
Package : PSJ - INPATIENT MEDICATIONS         Priority: Mandatory
Version : 5       SEQ #194                      Status: Released
                  Compliance Date: NOV 06, 2009
=============================================================================

Associated patches: (v)PSJ*5*171   <<= must be installed BEFORE `PSJ*5*207'
                    (v)PSJ*5*192   <<= must be installed BEFORE `PSJ*5*207'
                    (v)PSJ*5*213   <<= must be installed BEFORE `PSJ*5*207'

Subject: Order Checks During Order Edits

Category: 
  - Routine

Description:
============

 This patch will correct the following issues:
  
 1.  Drug-Allergy Order Checks during Order Edits are not always displayed.
 2.  Edited "Other Print" information is not saved on renewed IV orders.
 3.  User has to select a schedule when there was an exact match for
     Administration Schedules of one-time.
 4.  Duration field becomes blank when Unit Dose order becomes active.
  
  
 ASSOCIATED NSR(S):
 ==================
 None
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1.  HD0000000236071 - Order Checks during Order Edits
 2.  HD0000000137718 - Edited "Other Print  info is not saved on renewed 
                       IV orders
     Duplicate:        HD0000000203534
 3.  HD0000000175625 - Patch Installation
 4.  HD0000000159788 - Duration of Action perhaps not working properly
  
  
 PARTICIPATING TEST SITES:
 =========================
 Bronx VAMC
 Oklahoma City VAMC
 Upstate New York HCS
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1.  HD0000000236071:  Issue with Order Checks during Order Edits
  
 Problem:
 --------
 For active Unit Dose orders, when the orderable item is changed to an 
 orderable item with only one dosage tied to it, the drug-allergy order
 checks do not occur.
  
 Resolution:
 -----------
 Routine PSGOE9 has been modified to call the drug-allergies reaction logic
 when the orderable item has only one dosage tied to it.
  
                                           
 2.  HD0000000137718:  Edited "Other Print" info is not saved on renewed 
                       IV orders
  
 Problem:
 --------
 When an IV order is renewed, the field OTHER PRINT INFO (#31) of the 
 PHARMACY PATIENT file (#55) is not saved.
  
 Resolution:
 -----------
 Modified routine PSIVOREN to include OTHER PRINT INFO when calling FileMan
 to update the Pharmacy Patient file.
  
  
 3.  HD0000000175625:  Patch Installation.
  
 Problem:
 --------
 Patch PSJ*5.0*174 was created to eliminate the pharmacist from having to 
 select an Administration Schedule when finishing an order if the schedule
 name found an exact match.  This fix didn't include ADMINISTRATION
 SCHEDULES with a TYPE OF SCHEDULE set to ONE-TIME.
  
 Example:  If the order was created with an Administration Schedule Name 
 of ONCE and the TYPE OF SCHEDULE is set to ONE-TIME, and there are
 schedule names defined as ONCE and ONCE 0800, the pharmacist is currently
 prompted to select an Administration Schedule:
  
        1   ONCE    
        2   ONCE 0800    
   CHOOSE 1-2: 
  
 Since there is an exact match on the Administration Schedule Name ONCE, 
 the system should not prompt the pharmacist to select the schedule.
  
 Resolution:
 -----------
 The software has been modified to not prompt the user to select a schedule
 if there is an exact match on the name and the TYPE OF SCHEDULE is set to
 ONE-TIME.
  
  
 4.  HD00000000159788:  Duration of Action not working properly
  
 Problem:
 --------
 For a Unit Dose order, when the order is pending, the Duration field is 
 populated but when the order is verified and becomes active, the Duration
 field is blank.  This is because the DURATION field (#116) of the
 NON-VERIFIED ORDERS file (#53.1) is not being brought over from the
 PHARMACY PATIENT file (#55) REQUESTED DURATION field (#126).
  
 *** Note: Complex orders don't have this issue. ***
  
 Resolution:
 -----------
 Currently, duration is set from variable PSGORDTX in routine PSGOEV if
 this variable is defined.  Routine PSGOEV has been modified to set
 variable PSGRDTX from ^PS(53.1,PSGORDP,2.5) if this variable is not
 defined.
  
  
 INSTALL INSTRUCTIONS:
 =====================
  
   ******************************** NOTE **********************************
   IF A USER IS ON THE SYSTEM AND USING THESE PROGRAMS, AN EDITED ERROR
   WILL OCCUR.  
  
   The patch should be installed when NO Inpatient Pharmacy users are on
   the system.
   ************************************************************************
  
   ******************************  WARNING  *******************************
   Prior to installing this patch, please check for local Class III
   modifications that may be overwritten upon installation. Failure to
   reinstall Class III modifications after installation of this patch may
   prevent the Class III changes from functioning properly.
   ************************************************************************
  
   Installation will take less than 1 minute.
  
   Suggested time to install: non-peak requirement hours.
   
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
     
 2. From the Kernel Installation & Distribution System menu,
    select the Installation menu.
   
 3. From this menu, you may select to use the following
    options (when prompted for INSTALL NAME, enter PSJ*5.0*207):
  
      a) Verify Checksums in Transport Global   This 
         option will allow you to ensure the integrity of the 
         routines that are in the transport global.
      b) Print Transport Global - This option will allow 
         you to view the components of the KIDS build.
      c) Compare Transport Global to Current System - This 
         option will allow you to view all changes that will be made 
         when this patch is installed.  It compares all components of 
         this patch (routines, DD's, templates, etc.).
      d) Backup a Transport Global - This option will 
         create a backup message of any routines exported with this 
         patch. It will not backup any other changes such as DD's or 
         templates.
    
 4. Use the Install Package(s) option and select the package PSJ*5.0*207.
  
 5. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//"
    respond NO.
  
 6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? NO//" respond NO.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.0; INPATIENT MEDICATIONS ;**[Patch List]**;16 DEC 97;Build 31

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSGOE9
    Before: B34942026   After: B34837178  **11,47,50,72,110,111,188,192,207**
Routine Name: PSGOEV
    Before: B63457433   After: B64035774  **5,7,15,28,33,50,64,58,77,78,
                                           80,110,111,133,171,207**
Routine Name: PSGS0
    Before: B50790637   After: B52275248  **12,25,26,50,63,74,83,116,110,
                                           111,133,138,174,134,213,207**
Routine Name: PSIVOREN
    Before: B27138020   After: B27499279  **3,18,69,110,127,133,140,134,207**
 
Routine list of preceding patches: 171, 192, 213

=============================================================================
User Information:
Entered By  : DANG,CHAU                     Date Entered  : APR 09, 2008
Completed By: WERNER,GARY                   Date Completed: OCT 06, 2009
Released By : LYTTLE,KIM M                  Date Released : OCT 06, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
