$TXT Created by THOMPSON,SETH at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 08/20/09 at 16:06
=============================================================================
Run Date: NOV 09, 2009                     Designation: PSJ*5*184
Package : PSJ - INPATIENT MEDICATIONS         Priority: Mandatory
Version : 5       SEQ #196                      Status: Released
                  Compliance Date: DEC 10, 2009
=============================================================================

Associated patches: (v)PSJ*5*154   <<= must be installed BEFORE `PSJ*5*184'
                    (v)PSJ*5*178   <<= must be installed BEFORE `PSJ*5*184'

Subject: IV LABEL, CPRS INFO, REMOVE EXTRA PROMPT, PICK LIST FIXES

Category: 
  - Routine

Description:
============

  1. HD0000000139263 involves multiple additives with values in the MESSAGE 
  field (#14) of the IV ADDITIVES file (#52.6).  When an IV label prints, and 
  the IV order contains multiple additives, if more than one additive has 
  a MESSAGE field value, only the message of the first additive in the IV 
  order will display on the label.  
   
  2. HD0000000139800 The CPRS Unit Dose report shows the status of the unit 
  dose orders for a given patient.  If an order has the status "Discontinued 
  due to Edit", nothing is displaying in the CPRS Unit Dose report's status
  field.  The problem is due to Inpatient Meds not sending CPRS the complete
  information for the status if the order was discontinued due to edit.
   
  3. HD0000000159948 Within Parameters Edit Menu [PSJ PARAM EDIT MENU], the 
  option Clinic Definition [PSJ CD] asks the user for a CLINIC GROUP NAME.  
  This prompt is in error and the option should end if no new clinic is 
  chosen for edit.  This issue has no negative impact on the patient but is 
  an inconvenience to the user of the option.
   
  4. HD0000000168525 When exiting the option by typing an "^" up-arrow at the 
  Report/Label device prompt in Site Parameters (IV) [PSJI SITE PARAMETERS]
  option, the system will default "TELNET" into the field even though a value 
  already exists. The software should retain the existing report/label device
  at this prompt and not change the default device.  This issue has caused
  the user to print reports and labels to unintended devices.
   
  5. HD0000000175185 concerns the Pick List Warning Message.  A user created 
  a pick list with a stop date which was far into the future.  This made the 
  pick list inaccessible, and the list could not be deleted.  A warning 
  message will be displayed to the pharmacist if the pick list stop date is 
  more than 7 days into the future.
   
   
  Associated Remedy Tickets:
  ==========================
  1. HD0000000139263 - Multiple additives each with a MESSAGE only displays 
                       first message on IV label.
  
  2. HD0000000139800 - Status of Discontinued due to Edit does not appear on 
                       CPRS Unit Dose report.
   
  3. HD0000000159948 - Editing a CLINIC DEFINITION improperly prompts for 
                       Clinic Group Name after attempting to exit.
   
  4. HD0000000168525 - While editing IV site parameters the Label Device and 
                       Report Device Fields will default to "TELNET" if you 
                       attempt to exit with an "^".
   
  5. HD0000000175185 - Pick list with future date
   
   
  Associated NSR(s):
  ==================
  N/A
 
 
  Participating Test Sites:
  =========================
  BRONX, NY
  MILWAUKEE, WI
  NEW YORK HCS
   
 
  Overview of Remedy ticket(s):
  =============================
  
  1. HD0000000139263
  Problem
  --------------
  If an IV has multiple additives, and each additive has its own MESSAGE,
  field (#14) of the IV ADDITIVES file (#52.6), only the message of the first
  additive will display on the IV label.  The messages of the other additives
  are not printed on the IV labels and could result in important medication
  information being missed.
   
  Resolution
  --------------
  Display on the IV label all unique MESSAGE field (#14) entries for all 
  additives in the IV order.
   
   
  2. HD0000000139800
  Problem
  --------------
  The CPRS Unit Dose report does not display any status for an order that 
  has been Discontinued Due to Edit.  The current report leaves the field 
  blank.  This issue forces the user to find the status of the order in a
  different location.
   
  Resolution
  --------------
  Modify logic that sends the order status from Inpatient Pharmacy to 
  CPRS so that it includes the status of Discontinued Due to Edit.
 
   
  3. HD0000000159948
  Problem
  --------------
  When using the option Clinic Definition [PSJ CD] in the Parameters Edit 
  Menu [PSJ PARAM EDIT MENU], when the user is finished editing one 
  clinic, the user is prompted for another clinic to edit.  If the user 
  attempts to exit at this point, they are being prompted for a CLINIC 
  GROUP NAME instead of being taken out of the option.
   
  Resolution
  --------------
  Modify the logic such that if the user has completed clinic edits, they 
  are properly taken back to the previous menu prompt, or are taken out 
  of the application as appropriate.
 
   
  4. HD0000000168525
  Problem
  -------------------
  If an Up-Arrow "^" is entered at the LABEL DEVICE or REPORT DEVICE 
  fields in the Site Parameters (IV) option [PSJI SITE PARAMETERS] the 
  system will overwrite the existing value with "TELNET".  Entering an 
  "^" up-arrow at these fields should allow the user to exit the option 
  without modifying this field.
   
  Resolution:
  -----------------------
  The logic was modified to only default "TELNET" into this field if 
  there is no prior value In the LABEL DEVICE or REPORT DEVICE fields.
   
  NOTE: This option currently does NOT allow the user to Up-Arrow out of 
  these fields and if NO value is present, the system will automatically 
  default the value HOME for LABEL and REPORT DEVICE.  If the user does 
  not change the default from HOME, the system will populate "TELNET" 
  into this field.
 
   
  5. HD0000000175185
  Problem
  -------------------
  When the user unintentionally entered a date in the Pick List that was 
  very far into the future.  This made the pick list inaccessible, and the 
  list could not be deleted.
   
  Resolution:
  ----------------------
  A warning message will now be displayed if the date entered in the Pick 
  list is greater than 7 days in the future.  The message will be: 
  "Warning: You are attempting to print a pick list greater than 7 days 
  in the future Are you sure (Y/N): N\\".
 
   
  Technical Description
  =====================
  
  1. HD0000000139263
  When there are multiple additives for an IV order each has its own MESSAGE
  field (#14) defined in the IV ADDITIVE file (#52.6), only the first message
  is displayed on the IV labels.  The variable MESS is only checked once in 
  the label print routines.  The solution to this problem is to change MESS
  from a local variable to a local array, subscripted by the MESSAGE text
  itself.  The KILL of the variable/array is already part of the existing
  code.  This will allow only unique messages to display on the label.
  There will not be subscript length issues, because the MESSAGE (#14) 
  field has a maximum length of 30 characters.  The only unavoidable
  drawback is that if one message is "DO NOT REFRIGERATE" and another is
  "DON'T REFRIGERATE", both messages will appear.  This is unavoidable, as
  they are not identical text.  The site can correct this by making the
  messages identical.
   
   
  2. HD0000000139800
  In UDSET^PSJEEU0, add "DE" and "DISCONTINUED/EDIT" so that a status is
  displayed for such orders in the CPRS/Clinical Reports/Pharmacy/Unit Dose
  report.
   
   
  3. HD0000000159948
  In PSGFILED, add a QUIT so that the code does not fall down through
  to the CLINIC GROUP NAME erroneously if the user is attempting to exit
  the option.
  
  
  4. HD0000000168525
  When typing an "^" up-arrow at the Report/Label device prompt in
  Site Parameters (IV) [PSJI SITE PARAMETERS] option, the system will 
  default "TELNET" into the field even though a value already exists.  
  The change will default "TELNET" only when no value already exists.  
  The change will be to PSJDDUT2.  This program is only called via the DD 
  for file IV ROOM (#59.5) for fields LABEL DEVICE (#13) and REPORT 
  DEVICE (#14).
   
   
  5. HD0000000175185
  Modify the Pick List [PSJU PL] option to "Warn" the pharmacist that the
  date selected is greater than 7 days in the future.  This will reduce
  the occurrences of pick lists being printed too far in the future.
   
   
   
  Install Instructions:
  =====================
  
    ************************ NOTE ************************
    IF A USER IS ON THE SYSTEM AND USING THESE PROGRAMS 
    AN EDITED ERROR WILL OCCUR.  
    The patch should be installed when NO Inpatient Pharmacy 
    users are on the system.
    Suggested time to install: non-peak requirement hours.
    ******************************************************
   
   Installation will take less than 1 minute.
   
    
    1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
      
    2. From the Kernel Installation & Distribution System menu, select
       the Installation menu.
    
    3. From this menu, you may select to use the following options
       (when prompted for INSTALL NAME, enter PSJ*5.0*184):
           a.  Verify Checksums in Transport Global - This option will 
               allow you to ensure the integrity of the routines that are
               in the transport global.
           b.  Print Transport Global - This option will allow you to view
               the components of the KIDS build.
           c.  Compare Transport Global to Current System - This option 
               will allow you to view all changes that will be made when
               this patch is installed.  It compares all components of
               this patch (routines, DD's, templates, etc.).
           d.  Backup a Transport Global - This option will create a backup
               message of any routines exported with this patch. It will 
               not backup any other changes such as DD's or templates.
    4. Use the Install Package(s) option and select the package PSJ*5.0*184.
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install? 
       NO//" respond NO.
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//" respond NO. 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.0; INPATIENT MEDICATIONS ;**[Patch List]**;16 DEC 97;Build 12

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSGFILED
    Before: B24370324   After: B24389200  **20,50,63,119,110,111,112,154,184**
Routine Name: PSGPL
    Before: B20559253   After: B22020514  **50,184**
Routine Name: PSIVHYPL
    Before: B41785116   After: B42608112  **58,96,128,178,184**
Routine Name: PSIVHYPR
    Before: B39015292   After: B39800593  **58,88,96,178,184**
Routine Name: PSIVLABL
    Before: B36555447   After: B37326681  **58,82,104,127,178,184**
Routine Name: PSIVLABR
    Before: B33354776   After: B34113753  **58,82,178,184**
Routine Name: PSIVORLB
    Before: B12692692   After: B13180848  **58,184**
Routine Name: PSJDDUT2
    Before: B30960993   After: B32882229  **184**
Routine Name: PSJEEU0
    Before: B17690359   After: B18332264  **184**
 
Routine list of preceding patches: 154, 178

=============================================================================
User Information:
Entered By  : CASTLE,JOHN                   Date Entered  : AUG 15, 2006
Completed By: GOLDSMITH,JAMES H             Date Completed: OCT 01, 2009
Released By : CONNOLLY,BARBARA              Date Released : NOV 09, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
