$TXT Created by DANG,NINA at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 04/09/09 at 14:11
=============================================================================
Run Date: JUN 23, 2009                     Designation: PSJ*5*208
Package : PSJ - INPATIENT MEDICATIONS         Priority: Mandatory
Version : 5       SEQ #190                      Status: Released
                  Compliance Date: JUL 24, 2009
=============================================================================

Associated patches: (v)PSJ*5*3     <<= must be installed BEFORE `PSJ*5*208'

Subject: LAB ORDERS NOT SHOWING MIDNIGHT DRAW TIMES

Category: 
  - Routine

Description:
============

 This PSI patch addresses the following problem(s):
 
 When a lab order is entered in CPRS with only a date in the Collection 
 Date/Time, the midnight draw times do not display.  Also, for orders with 
 multiple collections some sub orders are calculated with a collection time 
 in the past.
 
  
 Associated Remedy ticket(s):
 ============================
 HD0000000209839 - PSI-07-220 - Lab WC order not showing midnight draw time
 
 
 Associated Patient Safety Issue:
 ================================
 PSI-07-220, PSPO #817
 
 
 Associated NSR(s):
 ==================
  N/A   
 
 
 Participating Test Sites:
 =========================
 BAY PINES, FL
 NORTH FLORIDA/SOUTH GEORGIA
 OKLAHOMA CITY, OK
 WHITE RIVER JUNCTION, VT
  
 
 Overview of Remedy ticket(s):
 =============================
 
 Problem:
 --------
 For CPRS lab orders with only a date such as "T" for today or a specific 
 date and no time entered in the collection date/time box, the time is 
 defaulted to midnight. These midnight draw times are not being displayed 
 on the order details report.  Also, for orders with multiple collections, 
 such as timed tests, some sub orders are calculated with a collection time 
 in the past.  This could cause laboratory tests to either not be collected 
 at the intended times or missed.
  
 Resolution:
 -----------
 The order schedule processor ENSPU^PSJEEU was modified to add the calculation 
 of the start time of a lab order when no time is entered in the collection 
 box in CPRS. The calculation was changed to calculate only future start dates 
 and times.  The stop date/time is also reset based on the new value of the 
 start date/time of the order.
 
 It should be noted that although this is a modification to Inpatient Pharmacy
 software, Laboratory uses the order schedule processor portion of this 
 EXTERNAL ENTRIES UTILITY program to calculate it's collection date and times.
 Therefore the patch will go out under the Inpatient Pharmacy namespace.
 
 It should also be noted that a namespace check is included in the software
 modification to ensure that only Laboratory software uses this calculation
 functionality.  No Inpatient Pharmacy functions are impacted by the fix.  
  
 
 Installation Instructions:
 ==========================
  
   ************************ NOTE ************************
   IF A USER IS ON THE SYSTEM AND USING THESE PROGRAMS 
   AN EDITED ERROR WILL OCCUR.  
   The patch should be installed when NO Inpatient Pharmacy 
   users are on the system.
   ******************************************************
  
  Installation will take less than 1 minute.
  
   
  Suggested time to install: non-peak requirement hours.
   
 1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
     
 2. From the Kernel Installation & Distribution System menu,
    select the Installation menu.
   
 3. From this menu, you may select to use the following
    options (when prompted for INSTALL NAME, enter PSJ*5.0*208):
  
      a) Verify Checksums in Transport Global   This 
         option will allow you to ensure the integrity of the 
         routines that are in the transport global.
      b) Print Transport Global - This option will allow 
         you to view the components of the KIDS build.
      c) Compare Transport Global to Current System - This 
         option will allow you to view all changes that will be made 
         when this patch is installed.  It compares all components of 
         this patch (routines, DD's, templates, etc.).
  
      d) Backup a Transport Global - This option will 
         create a backup message of any routines exported with this 
         patch. It will not backup any other changes such as DD's or 
         templates.
    
 4. Use the Install Package(s) option and select the package PSJ*5.0*208.
  
 5. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//"
    respond NO.
  
 6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? NO//" respond NO. 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.0; INPATIENT MEDICATIONS ;**[Patch List]**;16 DEC 97;Build 10

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSJEEU
    Before:  B8269245   After: B11795573  **3,208**
 
Routine list of preceding patches: 3

=============================================================================
User Information:
Entered By  : DANG,CHAU                     Date Entered  : APR 11, 2008
Completed By: GOLDSMITH,JAMES H             Date Completed: APR 24, 2009
Released By : CAMPBELL,THOMAS               Date Released : JUN 23, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
