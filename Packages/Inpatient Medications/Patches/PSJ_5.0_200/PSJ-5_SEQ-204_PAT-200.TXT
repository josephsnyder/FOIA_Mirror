$TXT Created by THOMPSON,SETH at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Thursday, 03/04/10 at 09:55
=============================================================================
Run Date: NOV 17, 2010                     Designation: PSJ*5*200
Package : PSJ - INPATIENT MEDICATIONS         Priority: Mandatory
Version : 5       SEQ #204                      Status: Released
                  Compliance Date: DEC 18, 2010
=============================================================================

Associated patches: (v)PSJ*5*85    <<= must be installed BEFORE `PSJ*5*200'
                    (v)PSJ*5*133   <<= must be installed BEFORE `PSJ*5*200'

Subject: BARCODE RETURNS, NON VERIFIED ORDER ON PICK LIST

Category: 
  - Routine

Description:
============

 1. Barcode Return and Destroy IV not incrementing Cumulative Totals
 
 2. Order which has not been verified by Pharmacist appears on Pick List 
  
 ********************* WARNING *******************************
 *************************************************************
 If your facility has the Pyxis/Omnicell/McKesson interface 
 from ILC this patch will overwrite any "local" modifications 
 in routine PSJOEA2. This could affect certain orders being 
 sent across this interface.  The modifications will have to 
 be reintroduced following installation of this patch.
 *************************************************************
 *************************************************************
 
 Associated Remedy Tickets:
 ==========================
 
 1. HD0000000178595  (Original) - Returns by Barcode ID not updating Cum. Doses
 
 2. HD0000000317519  (Original) - Non-verified order appears on Pick List
    HD0000000320872  (duplicate)- Inpatient med order verification problem
  
 Associated NSR(s):
 ==================
 N/A
  
   
 Participating Test Sites:
 =========================
 MILWAUKEE, WI
 PITTSBURGH HCS
 RICHMOND, VA
 TAMPA, FL
   
  
 Remedy Ticket Overview:
 =======================
 
 1. HD0000000178595 - Returns by Barcode ID not updating Cum. Doses
 
 Problem
 -------
  The option [PSJI RETURN BY BARCODE ID] Barcode ID - Return and 
  Destroy (IV) does not update cumulative doses after destroying a label.
  If the pharmacist uses the Return and Destroy (IV) (PSJI RETURN BY BARCODE
  ID) to recycle, cancel or destroy IV bags, the cumulative doses are not 
  decremented when viewed in Backdoor Pharmacy.
 
 Resolution
 ----------
  The program PSIVSTAT is called by various label routines to perform 
  updates.  The program PSIVRD (PSJI RETURNS) set's the variable RDFLAG and 
  RDWARD prior to the call to PSIVSTAT and this allows the cumulative doses 
  to be updated when a label has been destroyed.  The option [PSJI RETURN BY 
  BARCODE ID] Barcode ID - Return and Destroy (IV) does not set these flags 
  and the cumulative doses are not updated.  A change was made to routine 
  PSIVRDC to set the RDFLAG and RDWARD variables prior to calling routine 
  PSIVSTAT to ensure the Cumulative Doses are decremented by the number
  of IV bags the Pharmacist has recycled, canceled or destroyed.
 
 
 2. HD0000000317519 - Non-verified order appears on Pick List
 
 Problem
 -------
  When a complex order was not verified by pharmacist, the unit needed for 
  the drug was displayed on the Pick List.  When a complex order was verified 
  by a nurse, and the Pick List for that ward was run, the order appeared on 
  the Pick List report displaying the calculated value for units needed.  The
  Units Needed should not appear on the Pick List until the order is verified 
  by a Pharmacist. 
 
 Resolution
 ----------
  Routine PSJOEA2 sets nurse verify and pharmacist verify flags for complex 
  orders.  Pick List programs will use this flag to set the unit needed to 
  "NV" when the order is verified by a nurse or calculate the unit needed 
  when the order was already verified by a pharmacist.  Currently, the routine
  PSJOEA2  always sets the pharmacist flag regardless of if the user is a 
  Pharmacist or a Nurse.  This routine was modified to set the pharmacy 
  verify flag and nurse verify flag according to the user type.  This change
  will allow display of a Units Needed value of "NV" on the Pick List when 
  the medication has not been verified by a Pharmacist. It will display the 
  calculated value for Units Needed only after the Pharmacist has verified
  the medication.
 
  Note: The patch will not resolve the issue of Units Needed incorrectly 
        displaying on the Pick List for existing complex orders.  
        Because the issue originated in order entry, the fix will be 
        effective for new complex orders only.  After installing the patch,
        the Pharmacist should resolve the issue for existing complex orders
        by verifying the complex order by following their normal verifying
        procedure for the order.
 
  
 INSTALL INSTRUCTIONS
 ====================
  
   ************************ NOTE ************************
   IF A USER IS ON THE SYSTEM AND USING THESE PROGRAMS 
   AN EDITED ERROR WILL OCCUR.  
   The patch should be installed when NO Inpatient Pharmacy 
   users are on the system.
   ******************************************************
  
  Installation will take less than 1 minute.
    
   Suggested time to install: non-peak requirement hours.
   
   1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
     
   2. From the Kernel Installation & Distribution System menu, select
      the Installation menu.
   
   3. From this menu, you may select to use the following options
      (when prompted for INSTALL NAME, enter PSJ*5.0*200):
          a.  Verify Checksums in Transport Global - This option will allow
              you to ensure the integrity of the routines that are in the
              transport global.
          b.  Print Transport Global - This option will allow you to view
              the components of the KIDS build.
          c.  Compare Transport Global to Current System - This option will
              allow you to view all changes that will be made when this 
              patch is installed.  It compares all components of this patch
              (routines, DD's, templates, etc.).
          d.  Backup a Transport Global - This option will create a backup
              message of any routines exported with this patch. It will not
              backup any other changes such as DD's or templates.
    
   4. Use the Install Package(s) option and select the package PSJ*5.0*200.
 
   5. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//"
      respond NO.
    
   6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? NO//" respond NO. 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.0; INPATIENT MEDICATIONS ;**[Patch List]**;16 DEC 97;Build 14

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSIVRDC
    Before:  B9233435   After: B10145252  **85,200**
Routine Name: PSJOEA2
    Before: B27419272   After: B28381449  **127,133,200**
 
Routine list of preceding patches: 85, 133

=============================================================================
User Information:
Entered By  : WILLIAMS,BRIAN                Date Entered  : OCT 23, 2007
Completed By: GOLDSMITH,JAMES H             Date Completed: OCT 29, 2010
Released By : CAMPBELL,THOMAS               Date Released : NOV 17, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
