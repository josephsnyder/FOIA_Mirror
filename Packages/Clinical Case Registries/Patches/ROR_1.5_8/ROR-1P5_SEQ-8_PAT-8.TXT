$TXT Created by SAUNDERS,ANGELA at CHEY132.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 06/08/09 at 13:06
=============================================================================
Run Date: JUL 23, 2009                     Designation: ROR*1.5*8
Package : ROR - CLINICAL CASE REGISTRIES      Priority: Mandatory
Version : 1.5         SEQ #8                    Status: Released
                  Compliance Date: AUG 23, 2009
=============================================================================

Associated patches: (v)ROR*1.5*2   <<= must be installed BEFORE `ROR*1.5*8'
                    (v)ROR*1.5*3   <<= must be installed BEFORE `ROR*1.5*8'
                    (v)ROR*1.5*4   <<= must be installed BEFORE `ROR*1.5*8'
                    (v)ROR*1.5*5   <<= must be installed BEFORE `ROR*1.5*8'
                    (v)ROR*1.5*6   <<= must be installed BEFORE `ROR*1.5*8'
                    (v)ROR*1.5*7   <<= must be installed BEFORE `ROR*1.5*8'

Subject: COMMENT ON PATIENT DATA EDITOR, ADD FILTERS TO REPORTS, OTHER MISC

Category: 
  - Routine
  - Data Dictionary
  - Other

Description:
============

 This patch will resolve the following 10 issues:
  
 1. Access violation when selecting Diagnoses Report(Remedy Tickets
    HD0000000262208 and HD0000000262209).
  
 2. Inserted a Comment Field in the Pending Patient File necessary
    for tracking special conditions for a patient.
  
 3. Added the Comments panel to the Patient Data Editor screen (see
    2 above).
  
 4. Added the Comment field to Processing Pending Patient Screen
    (see 2 above).
  
 5. Refresh the Process Pending Patient screen when comment is added
    or deleted (see 2 above).
  
 6. Added filter to limit reports to patients who have diagnoses
    based on International Classification of Diseases, 9th edition (ICD-9)
    codes in Common Templates or Your Templates.
  
 7. Modified the Combined Meds and Labs Report to require the user to 
    assign a group name.  
  
 8. Modified the Combined Meds and Labs Report by providing the option to 
    limit lab results to most recent.
  
 9. Modified the Combined Meds and Labs Report to "Include ALL" or "Select 
    Only" for lab results.  Remedy Ticket HD0000000232223.
  
 10. Modified the Combined Meds and Labs Report to include a new method of 
     handling Investigational Drugs and Registry Medications on the 
     Medications panel drop-down list.  
  
  
  
 Issue Overview and Resolutions:
 ===============================
  
 Issue 1
 ---------
 Users were experiencing an "Access Violation Error" in the
 ClinicalCaseRegistries.exe module when selecting the Diagnoses Report and
 clicking on Load Parameters and selecting Open Report Parameters.
  
 Resolution 1
 ------------
 Access the text property of the tree control to prevent the access
 violation error.
  
  
 Issue 2, 3, 4, and 5
 ----------------------
 The users needed a comment field for Pending patients to track work done
 before marking a patient as Confirmed.
  
 Resolution 2, 3, 4, and 5
 -------------------------
 A Comment Field was added to the database and GUI screens were modified
 to permit this data to be added, deleted and displayed when the patient
 was flagged as Pending.  When the patient was flagged as Confirmed, this
 field is turned to Null.
  
  
 Issue 6
 ---------
 The users needed to be able to limit the reports to patients who have
 diagnoses based on ICD-9 codes in the Common Templates or Your Templates.
  
 Resolution 6
 ------------
 A filtering panel was installed in each of the reports so that the user
 could elect to "Include", "Exclude" or "Ignore" the ICD-9 selections.  The
 Remote Procedures Calls (RPC's) were modified to filter out patients or
 to include only patients that met the criteria specified.
  
  
 Issue 7
 ---------
 The users were given a default Group name which was not working for the
 specific registries.  They needed a custom named group to identify the
 specific Medications that were to be reported on.
  
 Resolution 7
 ------------
 The default Group Name was eliminated and the user is now required to 
 enter a Group Name prior to selecting any medications for the report.
  
  
 Issue 8
 ---------
 Users were getting results on the Combined Meds and Labs Report for all
 time periods and could not focus on the most recent lab work done for the
 patient.
  
 Resolution 8
 ------------
 A button was added to the panel to select "Most Recent" of the lab tests
 for the patient.  This resulted in only the most recent values for each
 test being displayed on the report.
  
  
 Issue 9
 ---------
 On the Combined Meds and Labs report, the user could not select for or
 against tests for the patients.
  
 Resolution 9
 ------------
 Radio buttons on the Combined Meds and Labs Report request screen were 
 added to "Include ALL" or "Select Only" for lab results to be included on
 the report.
  
  
 Issue 10
 ----------
 On the Combined Meds and Labs Report, Pharmacy Prescription Utilization 
 Report, and the Patient Medication History Report - Medications Panel -
 the medication search did not have categories for Investigational Drugs or
 Registry Medications.
  
 Resolution 10
 -------------
 There is now a new method of handling Investigational Drugs and Registry 
 Medications on the Medications Panel drop-down list.  These two categories
 have been added to the list, and when drugs are selected from these 
 categories, they appear as Generic on the right-hand pane. 
  
  
  
 Global Updates
 ==================
  
 Two entries have been added to the REMOTE PROCEDURE file
 (#8994):
  
         ROR LIST INVESTIGATIONAL DRUGS
         ROR LIST REGISTRY DRUGS
  
  
 A new entry has been added to the PARAMETER DEFINITIONS file (#8989.51):
  
         ROR GUI PARAMETER 
  
  
 A new entry has been added to the OPTION file (#19):
  
         ROR GUI 
  
  
 A new PENDING PATIENT COMMENT field (#12) has been added to the ROR 
 REGISTRY RECORD file (#798):
  
 Name                      Notes
 -----------------------   ----------------------------------
 PENDING PATIENT COMMENT   This field was added to allow 100 characters
                           to be added to a Pending Patient record.
  
  
 A new entry has been added to the ROR REPORT PARAMETERS file (#799.34)
 in PARAMETER PANELS field (#1) for each report.  
  
  
 Created ROR LIST REGISTRY DRUGS inside of RORRP017 that is the home of
 two other RPC's
  
  
 Fields:
 Tag:            RORGEN
 Routine RORRP017
 Return Value    GLOBAL ARRAY
 Availability    RESTRICTED
 Inactive        ACTIVE
 Client Manager
 Word Wrap On    True
 Version 1
 App Proxy
 Description:    The ROR LIST REGISTRY DRUGS RPC returns a list of drugs
 from the ROR GENERIC DRUG file (#799.51) based on input of a beginning 
 name value Input Parameters:
         PART - Partial name of drug to search on
                 Type -  Literal
                 Max length - 30
                 Required - Yes
                 Sequence number - 1
                 Description - The partial match restriction
         FLAGS - Indicates what registry
                 Type - Literal
                 Max Length - 1
                 Required - Yes
                 Sequence Number - 2
                 Description - 1 equals HEPC Registry 2 equals HIV Registry
         FROM -  Deprecated
                 Type - Literal
                 Max length -10
                 Required - NO
                 Sequence number - 3
                 Description - DEPRECATED
         NUMBER - Deprecated
                 Type - Literal
                 Max Length - 10
                 Required - NO
                 Sequence Number - 4
                 Description - Deprecated
  
 RETURN PARAMETER DESCRIPTION
         Description
                 A list of drugs based on the input of PART
                 First item = number of drugs in the returned list
                 Each drug item = $P^ = IEN, second $P^ = NAME of drug
  
  
 Created ROR LIST INVESTIGATIONAL DRUGS inside of RORRP017 that is the
 home of three other RPC's.
  
 Fields:
 Tag:            RORIVN
 Routine RORRP017
 Return Value    GLOBAL ARRAY
 Availability    RESTRICTED
 Inactive        ACTIVE
 Client Manager
 Word Wrap On    True
 Version 1
 App Proxy
 Description:    [ROR LIST INVESTIGATIONAL DRUGS] returns a list of drugs
 that are classified as investigational in ^PS VA DRUG CLASS (#50.605)
 file and have a drug class of IN140 for HEPC or IN150 for HIV
 Input Parameters:
         PART  - Partial name of drug to search on
                 Type -  Literal
                 Max length - 30
                 Required - Yes
                 Sequence number - 1
                 Description - The partial match restriction
         FLAGS - Indicates what registry
                 Type - Literal
                 Max Length - 1
                 Required - Yes
                 Sequence Number - 2
                 Description - 1 equals HEPC Registry 2 equals HIV Registry
         FROM - Deprecated
                 Type - Literal
                 Max length -10
                 Required - NO
                 Sequence number - 3
                 Description - DEPRECATED
         NUMBER - Deprecated
                 Type - Literal
                 Max Length - 10
                 Required - NO
                 Sequence Number - 4
                 Description - Deprecated
  
 RETURN PARAMETER DESCRIPTION
         Description
                 An array that consists of a zero node that holds the
                 count of drugs and subordinate nodes that hold 
                 two pieces of data:
                 $P1 = IEN in the file
                 $P2 = Drug name
  
 ROM - Deprecated
                 Type - Literal
                 Max length -10
                 Required - NO
                 Sequence number - 3
                 Description - DEPRECATED
         NUMBER - Deprecated
                 Type - Literal
                 Max Length - 10
                 Required - NO
                 Sequence Number - 4
                 Description - Deprecated
  
 RETURN PARAMETER DESCRIPTION
         Description
                 An array that consists of a zero node that holds the
                 count of drugs and subordinate nodes that hold
                 two pieces of data:
                 $P1 = IEN in the file
                 $P2 = Drug name
  
  
  
  
 Associated Remedy Tickets:
 ==========================
  
 Issue 1:
   HD0000000262208
   HD0000000262209
 Issue 9:
   HD0000000232223
  
  
  
 Participating Test Sites:
 =========================
  
 PALO ALTO HCS
 San Antonio, TX
 Coatsville, PA
  
  
  
 Installation Files:
 ===================
  
  
 GUI update
 ==========
  
 IMPORTANT NOTE:  This patch includes a revised Graphical User Interface
 (GUI) application which must be distributed to the appropriate
 workstations.  After the patch is installed correctly, and the GUI is
 updated, the version of the GUI will be 1.5.8.
  
  
 File Name        Contents      Transfer Mode  
 ---------        -----------   -------------
 ROR1_5P8GUI.ZIP  Zipped GUI    BINARY
  
  
 The file listed above may be obtained via File Transfer Protocol(FTP).  
 The preferred method is to FTP the file from Download.vista.med.va.gov.
  
 This transmits the file from the first available FTP server.  Sites may
 also elect to retrieve software directly from a specific server as
 follows:
  
   CIO Field Office  FTP Address                Directory
   ----------------  -------------------------  --------------------
   Albany            ftp.fo-albany.med.va.gov   [anonymous.software]
   Hines             ftp.fo-hines.med.va.gov    [anonymous.software]
   Salt Lake City    ftp.fo-slc.med.va.gov      [anonymous.software]
  
  
  
 M Code 
 ================
 Included as a normal packman message
  
  
  
  
 Documentation Files
 ===================
  
 The documentation has been updated and is distributed in the following
 two zipped files. Each zip file contains both the .DOC and .PDF formats.
  
  
 File Name             Description                      Protocol
 --------------------------------------------------------------------- 
 ROR1_5P8DOC1.ZIP      ROR User Manual                    BINARY
                     
  
 ROR1_5P8DOC2.ZIP      Release Notes,                     BINARY
                       Technical Manual/SecurityGuide,
                       Installation/Implementation 
                       Guide.
  
  
  
 Documentation Retrieval:
 ========================
  
 The revised CCR documentation is available on the
 ANONYMOUS.SOFTWARE directory at one of the following
  
  
      OIFO             FTP Address                Directory
      --------------   ------------------------   ------------------
      Albany           ftp.fo-albany.med.va.gov   anonymous.software
      Hines            ftp.fo-hines.med.va.gov    anonymous.software
      Salt Lake City   ftp.fo-slc.med.va.gov      anonymous.software
  
  
 Sites may retrieve documentation in one of the following ways:
  
 1. The preferred method is to FTP the files from
    download.vista.med.va.gov, which will transmit the files from the first
    available FTP server.
 2. Sites may also elect to receive documentation directly from a
    specific server listed above.
  
  
 Documentation may also be retrieved from the VistA Documentation 
 Library (VDL) on the Intranet at the following address:
 http://www.va.gov/vdl
  
  
  
 INSTALLATION
 ===============
  
 IMPORTANT NOTE:  This patch includes a revised Graphical User Interface
 (GUI) application which must be distributed to the appropriate
 workstations.  After the patch is installed correctly, and the GUI is
 updated, the version of the GUI will be 1.5.8.
  
  
  
 M Installation Instructions:
 ----------------------------
  
 Installation of the patch will not take more than 20 minutes.
  
 This patch can be installed with VistA users online, but Registry users
 should be logged out of the CCR Registry Application, as a new GUI is to
 be installed.
  
 NOTE: The nightly task (the [ROR TASK] option) must not be running
       during the installation.
  
 TaskMan does not need to be STOPPED or placed in a WAIT state.
  
  
 1. Make sure you have the ROR VA IRM security key.
  
 2. Use the "INSTALL/CHECK MESSAGE" option on the PackMan menu. This
    option loads the patch into a Transport Global on your system.
  
 3. From the Kernel Installation and Distribution System (KIDS)
    menu, select the Installation menu.
  
 4. From this menu, you may elect to use the following options:
    (when prompted for INSTALL NAME, enter ROR*1.5*8)
  
   a.  Verify Checksums in Transport Global - This option will allow
       you to ensure the integrity of the routines that are in the
       transport global.
   b.  Print Transport Global - This option will allow you to view
       the components of the KIDS build.
   c.  Compare Transport Global to Current System - This option will
       allow you to view all changes that will be made when this
       patch is installed.  It compares all components of this patch
       (routines, Data Dictionaries (DD's), templates, etc.).
   d.  Backup a Transport Global - This option will create a backup
       message of any routines exported with this patch. It will not
       backup any other changes such as DD's or templates.
  
 5. Use the Install Package(s) option and select the package
     ROR*1.5*8.
  
 The following messages display: 
  
 Install Questions for ROR*1.5*8
  
  
 Incoming Files:
  
  
         798       ROR REGISTRY RECORD
 Note:  You already have the 'ROR REGISTRY RECORD' File.
  
  
         799.34    ROR REPORT PARAMETERS  (including data)
 Note:  You already have the 'ROR REPORT PARAMETERS' File.
 I will REPLACE your data with mine.
  
 6. When prompted, 'Want KIDS to Rebuild Menu Trees Upon Completion of 
    Install? NO//', respond "NO"
  
 7. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
    YES//', respond "NO"
  
 8. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? YES//', respond "NO".
  
 9. Enter the Device you want to print the Install message.  
     You can queue the install by enter a 'Q' at the device prompt. 
     Enter a '^' to abort the install.  
  
  
  
  
 Post-installation Instructions:
 -------------------------------
  
 1. Verify that the data dictionary for ROR REGISTRY RECORD file (#798) 
    includes COMMENT field (#12).
  
 2. Verify that the two RPC's have been added to REMOTE PROCEDURE file 
    (#8994)
         ROR LIST REGISTRY DRUGS
         ROR LIST INVESTIGATIONAL DRUGS
  
 3. Verify that the OPTION file(#19) has been changed for Broker Context 
    option [ROR GUI] to include the two new RPC's, ROR LIST REGISTRY DRUGS
    and ROR LIST INVESTIGATIONAL DRUGS.
  
 4. Verify that the ROR REPORT PARAMETERS file (#799.34) includes a value 
    of 180 in PARAMETER PANELS field (#1) for each report (except for the
    Diagnosis report). For example, this is the data for the List of
    Registry Patients Report:
    14,20,32,180,70,100
  
  
  
 GUI Installation Instructions:
 ==============================
     
  1. Unzip the ROR1_5P8GUI.ZIP into a temporary folder.
       
  2. Open the temporary folder and double click the file CCRSetup.exe to
     begin the install.
       
  3. Wait until the InstallShield Wizard prepares the setup 
     procedure. A welcome message displays.
   
  4. Click Next to continue the installation.
       
  5. Select the directory in which to install the CCR GUI. 
     We recommend that you accept the default directory: 
     C:\Program Files\VistA\Clinical Case Registries. To 
     select a different location, click Change and select 
     the directory. Click Next to proceed with installation.
   
  6. Review the installation settings and click Install to 
     proceed. The InstallShield Wizard finishes the installation
     and a confirmation screen displays.
       
  7. Click Finish.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.5;CLINICAL CASE REGISTRIES;**[Patch List]**;Feb 17, 2006;Build 8

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RORRP017
    Before:  B9907674   After: B27131562  **8**
Routine Name: RORRP020
    Before: B26441857   After: B29770622  **1,8**
Routine Name: RORRP034
    Before: B12580586   After: B16836450  **2,8**
Routine Name: RORRP037
    Before: B11518664   After: B15161292  **2,8**
Routine Name: RORTSK13
    Before: B43389000   After: B47863947  **1,8**
Routine Name: RORX001
    Before: B28863901   After: B34927586  **8**
Routine Name: RORX002
    Before: B20071176   After: B23097652  **1,8**
Routine Name: RORX003
    Before: B21537399   After: B26330182  **1,8**
Routine Name: RORX004
    Before: B15147784   After: B17581672  **8**
Routine Name: RORX005A
    Before: B28503229   After: B34579924  **1,8**
Routine Name: RORX006A
    Before: B18261690   After: B23504467  **8**
Routine Name: RORX007A
    Before: B11759892   After: B14789636  **1,8**
Routine Name: RORX008A
    Before: B27604999   After: B31066416  **8**
Routine Name: RORX009A
    Before: B60001463   After: B67206272  **8**
Routine Name: RORX010
    Before: B42705985   After: B47994129  **8**
Routine Name: RORX011
    Before: B55424933   After: B62423011  **1,8**
Routine Name: RORX012
    Before: B14019577   After: B17404871  **8**
Routine Name: RORX012A
    Before: B65824765   After: B73606888  **8**
Routine Name: RORX014A
    Before: B27835424   After: B31289294  **8**
Routine Name: RORX015A
    Before: B62875777   After: B71344884  **1,8**
Routine Name: RORX016A
    Before:  B9199595   After: B11587383  **8**
Routine Name: RORXU001
    Before: B13475252   After: B13481235  **8**
Routine Name: RORXU009
    Before:       n/a   After:  B3569628  **8**
Routine Name: RORXU010
    Before:       n/a   After:  B9497434  **8**
 
Routine list of preceding patches: 1, 2

=============================================================================
User Information:
Entered By  : SAUNDERS,ANGELA C             Date Entered  : MAY 14, 2009
Completed By: RIKARD,KENNETH R II           Date Completed: JUL 23, 2009
Released By : BELSCHWINDER,MICHAEL          Date Released : JUL 23, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
