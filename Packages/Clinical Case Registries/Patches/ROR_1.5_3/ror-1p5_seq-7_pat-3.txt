$TXT Created by MCNEILE,KEN at DEV.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Wednesday, 06/04/08 at 07:06
=============================================================================
Run Date: OCT 28, 2008                     Designation: ROR*1.5*3
Package : ROR - CLINICAL CASE REGISTRIES      Priority: Mandatory
Version : 1.5         SEQ #7                    Status: Released
                  Compliance Date: NOV 28, 2008
=============================================================================

Associated patches: (v)ROR*1.5*2   <<= must be installed BEFORE `ROR*1.5*3'

Subject: CAPTURE REASON FOR STUDY FIELD, ADDITIONAL TASK CONTROL FLAG

Category: 
  - Routine

Description:
============

 This patch will resolve the following issues:
      
 1.  The Radiology Reason for Study data is currently extracted from the
 Radiology Exam text.  In patch RA*5*75, the Radiology package created a
 field that contains the Reason for Study data.  The Clinical Case
 Registries needs to be modified to utilize this new field.
      
 2.  Task control flag, ("M"), must be added and when used will
 signify to the system that the current database/registry will disable HL7
 messaging.
  
 ASSOCIATED NSR:
 ===============
 N/A
                     
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1.  HD0000000233198  Radiology patch issue
 2.  HD0000000232217  PAL - Task Control Flag
  
 PARTICIPATING TEST SITES:
 =========================
 COATESVILLE, PA                                                     
 PALO ALTO HCS                                                       
 SOUTH TEXAS HCS 
   
 REMEDY OVERVIEW:
 ================
 1,  HD0000000233198  Radiology patch issue   
  
 Problem 
 ------- 
 Currently, the reason for study data is embedded into the word processing 
 CLINICAL HISTORY FOR EXAM field (#400) of the RAD/NUC MED PATIENT file 
 (#70). This field is sent in the "CH^Clinical History^VA080" OBX segment.
      
 Resolution  
 ----------
 After patch RA*5*75, the reason for study will be stored in the new 
 REASON FOR STUDY field (1.1) of the RAD/NUC MED ORDERS file (#75.1) 
 instead. So, the CCR code will not crash or break after the RA*5*75 is 
 installed but the reason for study will not be sent to the AAC.
      
 The RORHL04 routine has been amended to extract the reason for study, 
 append the clinical history to it, and send the result in the "CH^Clinical
 History^VA080" OBX segment. The new code emulates the "pre RA*5*75 patch"
 behavior of the software and no changes in the message structure or  
 message parser at the AAC are required.
  
 2.  HD0000000232217   PAL - Task Control Flag
  
 Problem 
 ------- 
 There is an occasional need to disable HL7 messaging for local or testing
 environment registries.  
      
 Resolution  
 ----------
 After this patch, the CCR nightly task (the Registry Update & Data
 Extraction [ROR TASK] option) will recognize the "M" flag (see description
 of the RORFLCLR and RORFLSET variables in CCR documentation or source code
 of the ROR routine). This flag completely disables the HL7 messaging for
 those local (user defined) registries that do not need to send data
 anywhere.
  
 DOCUMENTATION DISTRIBUTION:
 ===========================
 Sites may retrieve the documentation directly via FTP (using BIN mode).  
 The preferred method is to FTP the files from:
  
        download.vista.med.va.gov
  
 This transmits the files from the first available FTP server.  
 Sites may also elect to retrieve the documentation directly from the
 ANONYMOUS.SOFTWARE directory from a specific server as follows:
  
  Albany:                 ftp.fo-albany.med.va.gov    anonymous.software
  Hines:                  ftp.fo-hines.med.va.gov     anonymous.software
  Salt Lake City:         ftp.fo-slc.med.va.gov       anonymous.software
  FIRST AVAILABLE SERVER  download.vista.med.va.gov   anonymous.software
  
 Filename                    Description
 ========                    ===========
 ROR1_5TM.PDF                Technical Manual
  
 The updated manual will be available on the VDL upon the release of
 this patch.
      
 INSTALLATION INSTRUCTIONS:
 ==========================
 This patch can be installed at any time.  Users do not need to be off
 the system. Install time - less than 2 minutes.
      
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu. [Note:
     TEXT PRINT/DISPLAY option in the PackMan menu will display the
     patch text only].
      
  2. From the Kernel Installation and Distribution System (KIDS)
     menu, select the Installation menu.
      
  3. From this menu, you may elect to use the following options:
     (when prompted for INSTALL NAME, enter ROR*1.5*3)
      
     a.  Backup a Transport Global - this option will create a backup
         message of any routines exported with the patch.  It will
         NOT backup any other changes such as DDs or templates.
     b.  Compare Transport Global to Current System  - this option
         will allow you to view all changes that will be made when
         the patch is installed.  It compares all components of the
         patch (routines, DDs, templates, etc.).
     c.  Verify Checksums in Transport Global - this option will
         allow you to ensure the integrity of the routines that are
         in the transport global.
     d.  Print Transport Global - this option will allow you to view
         the components of the KIDS build.
     
  4. Use the Install Package(s) option and select the package
     ROR*1.5*3.
      
  5. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
     NO//', respond NO.
      
  6. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? NO//', respond NO.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.5;CLINICAL CASE REGISTRIES;**[Patch List]**;Feb 17, 2006;Build 7

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: ROR
    Before: B21431367   After: B22153387  **1,3**
Routine Name: ROR01
    Before:    B17051   After:    B18633  **1,3**
Routine Name: RORHL04
    Before: B31631249   After: B33231243  **3**
 
Routine list of preceding patches: 1

=============================================================================
User Information:
Entered By  : MCNEILE,KEN                   Date Entered  : MAY 29, 2007
Completed By: CRICHLOW,SHERRY               Date Completed: OCT 23, 2008
Released By : BELSCHWINDER,MICHAEL          Date Released : OCT 28, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
