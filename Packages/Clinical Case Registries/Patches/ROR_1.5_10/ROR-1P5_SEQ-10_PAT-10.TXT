$TXT Created by SAUNDERS,ANGELA at CHEY132.FO-BAYPINES.MED.VA.GOV  (KIDS) on Tuesday, 03/23/10 at 09:39
=============================================================================
Run Date: APR 29, 2010                     Designation: ROR*1.5*10
Package : ROR - CLINICAL CASE REGISTRIES      Priority: Mandatory
Version : 1.5        SEQ #10                    Status: Released
                  Compliance Date: MAY 30, 2010
=============================================================================

Associated patches: (v)GMRV*5*23   <<= must be installed BEFORE `ROR*1.5*10'
                    (v)ROR*1.5*8   <<= must be installed BEFORE `ROR*1.5*10'

Subject: NEW REPORTS, EXTRACT UPDATES, GUI UPDATES

Category: 
  - Routine
  - Data Dictionary
  - Enhancement (Mandatory)

Description:
============

 The following is a summary of changes included in this patch:
  
 1. Two new diagnosis groups have been added to the common templates:
    HCC (Hepatocellular Carcinoma), and Esophageal Varices.
  
 2. Additional Logical Observation Identifiers Names and Codes (LOINC)
    values have been added to the VA HEPC and VA HIV Lab Search 
    criteria.
  
 3. The Microbiology data extraction is enhanced to pull data based on 
    the 'completion date' and/or 'date collected'.
  
 4. The Problem List Extraction is fixed to pull the 'date resolved' 
    from the correct field.
  
 5. The nightly extract has been enhanced to include Immunization data 
    and Skin Test data for registry patients.
  
 6. The data extraction has been changed to include 'pending' patients.
  
 7. Three new reports have been added:  Body Mass Index (BMI) by Range,
    Model for End-Stage Liver Disease (MELD) Score by Range, and
    Renal Function by Range.
  
 8. All reports using the 'Other Diagnoses' filter have been modified
    to display the selected Diagnoses in the report header.
  
 9. The Medications selection panel has been enhanced to include an 
    'All Registry Meds' button.
  
 10. The "List of Registry Patients" report has been enhanced to 
     include a "Pending Comments" column.
  
 11. Direct global and FileMan reads to the International 
     Classification of Diseases, 9th Revision, Clinical Modification
     (ICD-9-CM) files were replaced with calls using supported 
     Application Program Interfaces (APIs).
  
 12. The "Other Diagnoses" filter has been modified to remove group 
     header from the selected box when the user removes it.
  
 13. The 'Help About' box was modified to conform to VA standards.
  
 14. The Graphical User Interface (GUI) 'Help' was modified to be
     context sensitive.
  
 15. This patch brings the Clinical Case Registries (CCR) application
     into 508 compliance in many areas.
  
 16. Reports have been updated to address a bug introduced in Internet 
     Explorer 7 that was causing page breaks to not work correctly.
  
  
  
 CHANGES IN DETAIL
 =================
  
 Change 1
 ---------
 When diagnosis groups can be selected in the reports, HCC and Esophageal 
 Varices will be available.
  
 The PARAMETERS file (#8989.5) is updated to include 2 new 'instances' in 
 the Case Registries 'entity':
  
 Instance            ICD-9-CM   Description
 ------------------  --------   ----------------------------- 
 HCC                 155.0      MAL NEO LIVER, PRIMARY
  
 Esophageal Varices  456.0      ESOPHAG VARICES W BLEED
                     456.1      ESOPH VARICES W/O BLEED
                     456.20     BLEED ESOPH VAR OTH DIS
                     456.21     ESOPH VARICE OTH DIS NOS
  
  
 Change 2
 ---------
 LOINC values added to the Lab Search criteria in ROR LAB SEARCH file
 (#798.9), sub-file LAB TEST (#2):
  
 VA HEPC
 47365   47441   48576   51655   51657
  
 VA HIV
 34591   34592   43009   43010   43185   43599   44533
 44607   44873   49580   49905   5221    53379   54086
  
  
 Change 3
 ---------
 Prior to this patch, the Microbiology data extraction was pulling
 data based on the 'completion date' (DATE REPORT COMPLETED, #.03 in the 
 MICROBIOLOGY sub-file #63.05 of the LAB DATA file #63) alone.  It was 
 found that many sites do not populate that field, causing microbiology 
 data to be omitted from the nightly extract to the central registry.  The 
 extract will now pull data based on the 'date collected' (DATE/TIME
 SPECIMEN TAKEN, #.01) if the 'completion date' is null.
  
  
 Change 4
 ---------
 Previously, the Problem List Extraction was pulling data from the wrong 
 field (DATE RECORDED, #1.09) to populate the 'date resolved' field in the 
 extract.  Data is now correctly pulled from the DATE RESOLVED field 
 (#1.07) of the PROBLEM file (#9000011).
  
  
 Change 5
 ---------
 The nightly and historical extracts have been enhanced to include OBR and
 OBX segments for Immunization data and Skin Test data for registry
 patients.  Immunization data and Skin Test data will be pulled if the DATE
 LAST MODIFIED (#.13 in the VISIT file (#9000010) is within the extract
 range.  For details of the data included in the segments, please refer to
 the CCR Technical Manual.
  
  
 Change 6
 ---------
 The CCR data extract (both nightly and historical) previously
 included data for 'confirmed' patients only. It will now include data for
 'pending' patients as well. Previously, the DON'T SEND field (#11) in the 
 ROR REGISTRY RECORD file (#798) was set to 'true' when a pending patient
 was added to the registry.  With patch 10, the DON'T SEND field will be
 set to 'true' for test patients only. 
  
  
 Change 7
 ---------
 Reports BMI by Range, MELD Score by Range, and Renal Function by Range 
 have been added to the application.  These reports can be executed from 
 the GUI application.  See the User Manual for additional report 
 information.
  
  
 Change 8
 ---------
 Reports with the 'Other Diagnoses' filter have been modified to display 
 the selected diagnoses in the report header.  One of the 3 formats 
 shown below will be displayed on the report, depending on what the user
 selected.
 Diagnoses: All
 Diagnoses: Include abc, def, etc.
 Diagnoses: Exclude abc, def, etc.
  
  
 Change 9
 ---------
 The Medications selection panel on reports "Combined Meds and Labs", 
 "Patient Medication History", and "Pharmacy Prescription Utilization" 
 has been enhanced to include an 'All Registry Meds' button.
  
  
  
 Change 10
 ----------
 The "List of Registry Patients" report has been enhanced to include a 
 "Pending Comments" column added to the Report Options.  If this option is 
 checked, an additional column called Pending Comments will be added as 
 the right-most column of the report. If the Registry Status' Pending 
 check box is not checked, the Pending Comments option will be disabled.
  
  
 Change 11
 ----------
 To support encapsulation of data in the ICD-9-CM package, direct global
 and FileMan reads previously used in the ROR namespace were replaced with
 calls using supported ICD-9-CM APIs.  These supported APIs retrieve
 Diagnosis information needed by the CCR application for the extracts and
 reports.
  
  
 Change 12
 ----------
 The "Other Diagnoses" filter in the CCR reports has been modified to
 remove the group header from the selected box when the user removes it.  
 If the user highlights the header and presses the delete key, the header
 will be deleted.  In addition, if the user highlights the header and hits
 the left arrow, the header will be deleted.  Previously, the header was
 not being removed from the selected box.
  
  
 Change 13
 ----------
 The 'Help About' box in the CCR GUI application was modified to conform to
 VA standards, including links to reference documents.
  
  
 Change 14
 ----------
 The CCR GUI 'Help' was adjusted to comply with the requirement to provide
 user access to context-sensitive online help documentation.
  
  
 Change 15
 ----------
 The CCR GUI was updated to work towards becoming fully 508 compliant.
  
  
 Change 16
 ---------
 Dialog files with the XML for reports have been updated to page break
 correctly.
  
  
 GLOBAL UPDATES
 ==============
  
 PARAMETERS file (#8989.5)
 -------------------------
 Updated to include 2 new 'instances' in the Clinical Case Registries
 'entity':
 HCC
 Esophageal Varices
  
  
 ROR LAB SEARCH file (#798.9)
 -----------------------
 LOINC values added to the Lab Search criteria in sub-file LAB TEST (#2):
  
 VA HEPC
 47365   47441   48576   51655   51657
  
 VA HIV
 34591   34592   43009   43010   43185   43599   44533
 44607   44873   49580   49905   5221    53379   54086
  
  
 ROR REPORT PARAMETERS file (#799.34)
 -------------------------------------
 Entries added:
 BMI by Range
 MELD Score by Range
 Renal Function by Range
  
 DIALOG file (#.84)
 ------------------
 Entries added:
 7981018.001  BMI Report by Range (HTML)
 7981018.002  BMI Report by Range (CSV)
 7981019.001  MELD Report by Range (HTML)
 7981019.002  MELD Report by Range (CSV)
 7981020.001  Renal Function by Range (HTML) 
 7981020.002  Renal Function by Range (CSV)
  
 Entries modified:
 7981001.001  List of Registry Patients (HTML)
 7981002.001  Current Inpatient List (HTML) 
 7981003.001  General Utilization and Demographics (HTML)
 7981004.001  Clinic Follow-Up (HTML)
 7981005.001  Inpatient Utilization (HTML)
 7981006.001  Lab Utilization (HTML)
 7981007.001  Radiology Utilization (HTML)
 7981008.001  VERA Reimbursement (HTML)
 7981009.001  Pharmacy Prescription Utilization (HTML)
 7981010.001  Lab Tests by Range Report (HTML)
 7981011.001  Patient Medication History (HTML)
 7981012.001  Combined Meds and Labs (HTML)
 7981013.001  Diagnosis Codes (HTML)
 7981014.001  Registry Medications (HTML)
 7981015.001  Procedures (HTML)
 7981016.001  Outpatient Utilization (HTML)
 7981998.001  CSS and Scripts
 7981999.001  Common XSL templates (HTML)
  
  
 ROR LIST ITEM file (#799.1)
 ---------------------------
 Field TYPE (#.02) modified to include new values in the set of codes:
  
 '5' FOR BMI Group
 '6' FOR MELD Group
 '7' FOR Renal Group
  
  
 ASSOCIATED REMEDY TICKETS
 =========================
 None
  
  
 PARTICIPATING TEST SITES
 ========================
 PALO ALTO HCS
 San Antonio, TX
 Coatsville, PA
  
  
 INSTALLATION FILES
 ==================
  
 GUI UPDATE
 ==========
 IMPORTANT NOTE:  This patch includes a revised Graphical User Interface 
 (GUI) application which must be distributed to the appropriate 
 workstations.  After the patch is installed correctly, and the GUI is 
 updated, the version of the GUI will be 1.5.10.
  
  
 File Name         Contents      Transfer Mode  
 ---------         -----------   -------------
 ROR1_5P10GUI.ZIP  Zipped GUI    BINARY
  
  
 The file listed above may be obtained via File Transfer Protocol(FTP).  
 The preferred method is to FTP the file from Download.vista.med.va.gov.
  
 This transmits the file from the first available FTP server.  Sites 
 may also elect to retrieve software directly from a specific server as
 follows:
  
 OIFO              FTP Address                Directory
 ----------------  -------------------------  --------------------
 Albany            ftp.fo-albany.med.va.gov   [anonymous.software]
 Hines             ftp.fo-hines.med.va.gov    [anonymous.software]
 Salt Lake City    ftp.fo-slc.med.va.gov      [anonymous.software]
  
  
  
 M CODE 
 ======
 Included as a standard PackMan message.
  
  
 DOCUMENTATION FILES
 ===================
 The documentation has been updated and is distributed in the following
 two zipped files. Each zip file contains both the .DOC and .PDF formats. 
  
 File Name             Description                        Protocol
 ----------------------------------------------------------------- 
 ROR1_5P10DOC1.ZIP     ROR User Manual                    BINARY
                     
  
 ROR1_5P10DOC2.ZIP     Release Notes,                     BINARY
                       Technical Manual/Security Guide,
                       Installation/Implementation 
                       Guide
  
  
 DOCUMENTATION RETRIEVAL:
 ========================
 The revised CCR documentation is available on the
 ANONYMOUS.SOFTWARE directory at one of the following
  
  
 OIFO             FTP Address                Directory
 --------------   ------------------------   ------------------
 Albany           ftp.fo-albany.med.va.gov   anonymous.software
 Hines            ftp.fo-hines.med.va.gov    anonymous.software
 Salt Lake City   ftp.fo-slc.med.va.gov      anonymous.software
  
  
 Sites may retrieve documentation in one of the following ways:
  
 1. The preferred method is to FTP the files from 
    download.vista.med.va.gov, which will transmit the files from the 
    first available FTP server.
 2. Sites may also elect to retrieve documentation directly from a
    specific server listed above.
  
  
 Documentation may also be retrieved from the VistA Documentation 
 Library (VDL) on the Intranet at the following address:
 http://www.va.gov/vdl
  
  
 INSTALLATION
 ============
  
 IMPORTANT NOTES: 
  
 This patch includes an M patch and a revised Graphical User Interface
 (GUI) application.
  
 Below is a summary of the installation steps required for this patch, with
 section references to the Installation and Implementation Guide as
 necessary.
  
 1. Install M code (see detailed instructions below)
 2. Trigger backpulls (section 4)  <== VERY IMPORTANT!
 3. Update GUI (section 5 or see below) 
  
  
 M Installation Instructions
 ===========================
  
 Installation of the patch will not take more than 5 minutes.
  
 This patch can be installed with VistA users online, but Registry users
 should be logged out of the CCR Registry Application, as a new GUI is to
 be installed.
  
 NOTE: The nightly task (the [ROR TASK] option) must not be running
       during the installation.
  
 TaskMan does not need to be STOPPED or placed in a WAIT state.
  
  
 1. Make sure you have the ROR VA IRM security key.
  
 2. Use the "INSTALL/CHECK MESSAGE" option on the PackMan menu. This
    option loads the patch into a Transport Global on your system.
  
 3. From the Kernel Installation and Distribution System (KIDS)
    menu, select the Installation menu.
  
 4. From this menu, you may elect to use the following options:
    (when prompted for INSTALL NAME, enter ROR*1.5*10)
  
   a.  Verify Checksums in Transport Global - This option will allow
       you to ensure the integrity of the routines that are in the
       transport global.
   b.  Print Transport Global - This option will allow you to view
       the components of the KIDS build.
   c.  Compare Transport Global to Current System - This option will
       allow you to view all changes that will be made when this
       patch is installed.  It compares all components of this patch
       (routines, Data Dictionaries (DD's), templates, etc.).
   d.  Backup a Transport Global - This option will create a backup
       message of any routines exported with this patch. It will not
       backup any other changes such as DD's or templates.
  
 5. Use the Install Package(s) option and select the package
     ROR*1.5*10.
  
    The following messages display: 
  
    Install Questions for ROR*1.5*10
  
    Incoming Files:
  
       798       ROR REGISTRY RECORD  (Partial Definition)
    Note:  You already have the 'ROR REGISTRY RECORD' File.
  
  
       799.1     ROR LIST ITEM  (Partial Definition)
    Note:  You already have the 'ROR LIST ITEM' File.
  
 6. When prompted 'Want KIDS to INHIBIT LOGONs during the install?
    NO//', respond "NO".
  
 7. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
    Protocols? NO//', respond "NO".
  
 8. Enter the Device you want to print the Install message.  
     You can queue the install by enter a 'Q' at the device prompt. 
     Enter a '^' to abort the install.  
  
  
 BACKPULL
 ========
  
 Refer to the Installation/Implementation Guide for backpull 
 instructions.
  
  
  
 GUI INSTALLATION INSTRUCTIONS
 =============================
     
  1. Unzip the ROR1_5P10GUI.ZIP into a temporary folder.
       
  2. Open the temporary folder and double click the file CCRSetup.exe to
     begin the install.
       
  3. Wait until the InstallShield Wizard prepares the setup 
     procedure. A welcome message displays.
   
  4. Click Next to continue the installation.
       
  5. Select the directory in which to install the CCR GUI. 
     We recommend that you accept the default directory: 
     C:\Program Files\VistA\Clinical Case Registries. To 
     select a different location, click Change and select 
     the directory. Click Next to proceed with installation.
   
  6. Review the installation settings and click Install to 
     proceed. The InstallShield Wizard finishes the installation
     and a confirmation screen displays.
       
  7. Click Finish.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.5;CLINICAL CASE REGISTRIES;**[Patch List]**;Feb 17, 2006;Build 32

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RORDD
    Before: B33607447   After: B41565322  **10**
Routine Name: ROREXT01
    Before: B49949802   After: B52017424  **10**
Routine Name: ROREXT02
    Before: B40742469   After: B43142852  **10**
Routine Name: RORHDT04
    Before: B50817494   After: B57779616  **10**
Routine Name: RORHL12
    Before:  B9125680   After: B62261520  **1,10**
Routine Name: RORHL17
    Before: B29166670   After: B29156798  **10**
Routine Name: RORHL18
    Before:       n/a   After: B14567197  **10**
Routine Name: RORHL19
    Before:       n/a   After: B14660598  **10**
Routine Name: RORP010
    Before:       n/a   After: B95576679  **10**
Routine Name: RORRP016
    Before: B43771782   After: B71590151  **1,10**
Routine Name: RORRP030
    Before:  B3261693   After:  B2779702  **10**
Routine Name: RORUPD50
    Before: B14024739   After: B15673892  **10**
Routine Name: RORX001
    Before: B34927586   After: B38212048  **8,10**
Routine Name: RORX005A
    Before: B34579924   After: B34309932  **1,8,10**
Routine Name: RORX018
    Before:       n/a   After:B143613581  **10**
Routine Name: RORX019
    Before:       n/a   After:B207206529  **10**
Routine Name: RORX019A
    Before:       n/a   After:  B8227463  **10**
Routine Name: RORX020
    Before:       n/a   After:B197363387  **10**
Routine Name: RORX020A
    Before:       n/a   After: B38074904  **10**
Routine Name: RORXU002
    Before: B55243922   After: B85745413  **1,10**
 
Routine list of preceding patches: 8

=============================================================================
User Information:
Entered By  : SAUNDERS,ANGELA C             Date Entered  : OCT 08, 2009
Completed By: BERRY,LINDA                   Date Completed: APR 29, 2010
Released By : BELSCHWINDER,MICHAEL          Date Released : APR 29, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
