$TXT Created by HARTLEY,PETER at DEVEVC.FO-ALBANY.MED.VA.GOV  (KIDS) on Friday, 06/12/09 at 12:59
=============================================================================
Run Date: FEB 25, 2010                     Designation: EAS*1*93
Package : EAS - ENROLLMENT APPLICATION SYSTEM Priority: Mandatory
Version : 1        SEQ #79                      Status: Released
                  Compliance Date: MAR 28, 2010
=============================================================================

Associated patches: (v)EAS*1*70    <<= must be installed BEFORE `EAS*1*93'

Subject: XINDEX reporting Lock Missing Timeout errors

Category: 
  - Routine

Description:
============

 When XINDEX is run on the three patches in the Enrollment VistA Changes
 Release 2 (EVC R2) build, Lock Missing Timeout is being reported in
 several routines. 
 
 Patches DG*5.3*805, EAS*1.0*93, and IVM*2.0*139 add timeouts to the reported
 Lock commands so that they are no longer reported by XINDEX.  
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 There is no NSR associated with this patch.
  
  
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 HD0000000305037 - XINDEX reporting Lock Missing Timeout errors 
  
  
 Test Sites:
 -----------
  
 Alexandria VAMC
 Hudson Valley Healthcare
 Louisville VAMC
  
  
        ================INSTALLATION INSTRUCTIONS =================
  
 This patch may be installed during normal working hours
  
 Install Time - less than 5 minutes
  
       
 1.  LOAD TRANSPORT GLOBAL 
     ---------------------
     Choose the PackMan message containing this patch and invoke the 
     INSTALL/CHECK MESSAGE PackMan option.  
  
 2.  START UP KIDS  
     -------------
     Start up the Kernel Installation and Distribution System Menu 
     [XPD MAIN]: 
  
          Edits and Distribution ...  
          Utilities ...  
          Installation ...  
  
   Select Kernel Installation & Distribution System Option: INStallation 
                                                            --- 
          Load a Distribution  
          Print Transport Global 
          Compare Transport Global to Current System 
          Verify Checksums in Transport Global 
          Install Package(s) 
          Restart Install of Package(s) 
          Unload a Distribution 
          Backup a Transport Global 
  
  
 3.  Select Installation Option:  
     ---------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
            NAME, enter EAS*1.0*93):
       
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DD's, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
      
  
 4.Select Installation Option: Install Package(s)
                               ------------------
     **This is the step to start the installation of this KIDS patch: 
   
     a.  Choose the Install Package(s) option to start the patch
         install.
     b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
         YES//' answer NO
     c.  When prompted 'Want to DISABLE Scheduled Options, Menu 
         Options, and Protocols? YES//' answer YES
     d.  When prompted 'Enter options you wish to mark as 'Out Of
         Order':'  press <return>
     e.  When prompted 'Enter protocols you wish to mark as 'Out Of
         Order':' press <return>.
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.0;ENROLLMENT APPLICATION SYSTEM;**[Patch List]**;Mar 15, 2001;Build 2

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: EASEZF1
    Before: B56560994   After: B56432278  **1,51,57,62,70,93**
 Description of Changes:
  Before:
  
   EASEZF1 ;ALB/jap - Filing 1010EZ Data to Patient Database ; 8/11/05 1:50pm     
  2        ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51,57,62,70**;Mar 15, 2001;Bu
  
  After:
  
   EASEZF1 ;ALB/jap,TM - Filing 1010EZ Data to Patient Database ; 3/13/09 4:55pm  
  2        ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,51,57,62,70,93**;Mar 15, 2001
  
  
  Before:
  
  9        L +^DPT(EASDFN)
  
  After:
  
  9        ;L +^DPT(EASDFN) ;Handling locking in EASEZFM - EAS*1*93
  
  
  Before:
  
  99       L -^DPT(EASDFN)   
  
  After:
  
  99       ;L -^DPT(EASDFN) ;Handling locking in EASEZFM - EAS*1*93
  

Routine Name: EASEZFM
    Before:  B8303288   After:  B8780865  **1,93**
 Description of Changes:
  Before:
  
   EASEZFM ;ALB/jap - Filing 1010EZ Data to Patient Database ;10/12/00  13:08     
  2        ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1**;Mar 15, 2001[
  
  After:
  
   EASEZFM ;ALB/jap,TM - Filing 1010EZ Data to Patient Database ; 3/13/09 4:51pm  
  2        ;;1.0;ENROLLMENT APPLICATION SYSTEM;**1,93**;Mar 15, 2001
  
  Before:
  
  12       ;recheck signature status                                              
  13       I ('$P(X,U,1))&('$P(X,U,2)) D  Q                                       
  14       .;remove filing date if can't continue                                 
  15       .S FDT=$P(^EAS(712,EASAPP,2),U,5),$P(^EAS(712,EASAPP,2),U,5)="",$P(^E
           AS(712,EASAPP,2),U,6)="",$P(^EAS(712,EASAPP,2),U,11)=""
  16       .I FDT K ^EAS(712,"FIL",FDT,EASAPP)
  17       .D APPINDEX^EASEZU2(EASAPP)
  18       ;
  19       L +^EAS(712,EASAPP)
  
  After:
  
  12       ;recheck signature status                                              
  13       I ('$P(X,U,1))&('$P(X,U,2)) D RESET Q                                  
  14       ;                                                                      
  15       L +^EAS(712,EASAPP):60 I '$T D RESET Q 
  
  Before:
  
  26       ;store file #2 data                                                    
  27       D F2^EASEZF1(EASAPP,EASDFN)
  
  After:
  
  22       ;store file #2 data                                                    
  23       L +^DPT(EASDFN):60 I '$T D RESET Q                                     
  24       D F2^EASEZF1(EASAPP,EASDFN)                                            
  25       L -^DPT(EASDFN)  
  
  After:
                                                                        
     RESET ;remove filing date if can't continue                                  
  83       S FDT=$P(^EAS(712,EASAPP,2),U,5),$P(^EAS(712,EASAPP,2),U,5)=""         
  84       S $P(^EAS(712,EASAPP,2),U,6)="",$P(^EAS(712,EASAPP,2),U,11)=""         
  85       I FDT K ^EAS(712,"FIL",FDT,EASAPP)                                     
  86       D APPINDEX^EASEZU2(EASAPP)                                             
  87       Q
  
  

 
Routine list of preceding patches: 70

=============================================================================
User Information:
Entered By  : HARTLEY,PETER                 Date Entered  : FEB 26, 2009
Completed By: SBERRO,SANDRA                 Date Completed: FEB 25, 2010
Released By : FITCH,DONNA                   Date Released : FEB 25, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
