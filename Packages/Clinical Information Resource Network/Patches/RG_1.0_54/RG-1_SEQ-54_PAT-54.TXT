$TXT Created by CHESNEY,CHRISTINE M at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 10/28/09 at 08:53
=============================================================================
Run Date: NOV 30, 2009                     Designation: RG*1*54
Package : RG - CLINICAL INFO RESOURCE NETWORK Priority: EMERGENCY
Version : 1        SEQ #54                      Status: Released
                  Compliance Date: DEC 03, 2009
=============================================================================

Associated patches: (v)RG*1*48     <<= must be installed BEFORE `RG*1*54'
                    (v)RG*1*52     <<= must be installed BEFORE `RG*1*54'

Subject: DELETION OF PSEUDO SSN REASON

Category: 
  - Routine

Description:
============

  
  NOTE:  RG* and MPIF* patches should NOT be installed on legacy
  systems to avoid issues with the legacy systems ending up as
  Treating Facilities.
   
  RG*1.0*48 and RG*1.0*52 are required builds for patch RG*1*54.
  
  *************************************************************************
  NOTE:  The compliance date of this patch has been shortened due to
  dependencies which exist with the MPI Austin patch MPI*1.0*71, 
  the Person Service Identity Management (PSIM) and Identity Management 
  (IMDQ) Toolkit software releases.  These releases support the switch to
  Initiate Identity Hub probabilistic algorithm during MPI searches.  It is
  imperative that this patch be installed no later than the compliance date
  to ensure we are ready for the switch over. Your understanding and
  support is appreciated.
  ************************************************************************ 
  
  This patch is related to KERNEL patch XT*7.3*113, Master Patient Index 
  VistA patch MPIF*1.0*52, and Master Patient Index Austin patches
  MPI*1.0*62 and MPI*1.0*71.
     
  Issue #1:
  If the PSEUDO SSN REASON (#.0906) field in the PATIENT (#2) file needed
  to be deleted as a result of processing a Heath Level Seven (HL7) update
  message (ADT-A31) from the Master Patient Index (MPI), but the Social
  Security Number (SSN) in the HL7 message was unchanged, the deletion
  of the PSEUDO SSN REASON (#.0906) field did not take place.  This
  situation happened when a Duplicate Record Merge occurred in VistA,
  with the TO record having a valid SSN and the FROM record having a pseudo
  SSN with a PSEUDO SSN REASON.  At the completion of the merge, an ADT-A31
  update HL7 message was sent to the MPI.  The MPI rejected the PSEUDO SSN
  REASON because there should not be a PSEUDO SSN REASON without having a
  pseudo SSN, and it tried to update VistA.
    
  Additionally, Identity Management Data Quality reported that when they
  update a record via a Heath Level Seven (HL7) update message (ADT-A31),
  and the Social Security Number was previously a pseudo Social Security
  Number and remains as a pseudo Social Security Number (e.g., is not
  changed), then they were receiving a "SSN field failure" exception on the
  Master Patient Index.  This occurred because the code checked for null
  only instead of null and "@".
  Routine RGADTP2 corrects these problems.
   
  Issue #2:
  In order to address Remedy Ticket 23392, Integration Control Registration
  #2969 has been modified to include the SOURCE OF NOTIFICATION (#.353) 
  field to the list of VistA PATIENT (#2) file fields that can be accessed 
  and edited via the MPI/PD Exception Handler.
   
  Currently if a PATIENT (#2) record has a DATE OF DEATH (#.351) and
  a value for the SOURCE OF NOTIFICATION (#.353), if the DATE OF DEATH
  (#.351) is edited through the MPI/PD Exception Handling [RG EXCEPTION
  HANDLING] option, Edit Patient Data action, then the DATE OF DEATH
  (#.351) is updated, but the SOURCE OF NOTIFICATION (#.353), which
  is a required field, is deleted.
   
  By adding the SOURCE OF NOTIFICATION (#.353) field to the Edit Patient
  Data action in the MPI/PD Exception Handling [RG EXCEPTION HANDLING]
  option in routine RGEX03, this has been corrected.  These are the
  possible scenarios, and the outcome of each:
  (1.) User is prompted for DOD, there is already a DOD value and the
  user changes it.  In that case, the SOURCE OF NOTIFICATION (#.353)
  field would be prompted.
  (2.) User is prompted for DOD, there is no previous DOD value and
  the user adds a date.  In that case, the SOURCE OF NOTIFICATION
  (#.353) field would be prompted.
  (3.) User is prompted for DOD, there is already a DOD value and the
  user deletes it.  In that case, the SOURCE OF NOTIFICATION (#.353)
  field would NOT be prompted, but would also be deleted.
  (4.) User is prompted for DOD, there is no previous DOD value and
  the user adds nothing for DOD.  In that case, the SOURCE OF
  NOTIFICATION (#.353) field would NOT be prompted.
   
  Issue #3:
  To address Remedy Ticket HD0000000244806, the Master Patient Index/
  Patient Demographics (MPI/PD) VistA Technical Manual has been revised.
  In the Implementation and Maintenance section, additional information
  has been added entitled, "Troubleshooting the RG QUEUE Resource Device".
   
  Documentation Update:
  =====================
  The following MASTER PATIENT INDEX/PATIENT DEMOGRAPHICS (MPI/PD)
  VISTA documentation is available, updated for patch RG*1.0*54.
  Facilities should download the revised documentation listed
  as follows:
    
      Technical Manual                      RG_1_0_P54TM.PDF
      User Manual                           RG_1_0_P54UM.PDF
      Exception Handling Manual             RG_1_0_P54EH.PDF
      Programmer Manual                     RG_1_0_P54PM.PDF
      Release Notes                         RG_1_0_P54RN.PDF
  
  
   
  The preferred retrieval method is to FTP from the ANONYMOUS.SOFTWARE
  directory at: DOWNLOAD.VISTA.MED.VA.GOV
  This transmits the file from the first available FTP server.
  Sites may also elect to retrieve software directly from one
  of the following servers.
   
  OI Field Office         FTP Address                  Directory
  ------------------------------------------------------------------
  Albany             ftp.fo-albany.med.va.gov     ANONYMOUS.SOFTWARE
  Hines              ftp.fo-hines.med.va.gov      ANONYMOUS.SOFTWARE
  Salt Lake City     ftp.fo-slc.med.va.gov        ANONYMOUS.SOFTWARE
  
  Note:  These files must be transferred in binary or IMAGE,
         not ASCII, mode.
   
  The documents can also be downloaded from the VistA Documentation
  Library (VDL) Web page in both Acrobat PDF and MS-Word DOC formats:
   
      http://www.va.gov/vdl/application.asp?appid=16
     
  Associated Remedy Ticket(s):
  ============================
  HD0000000233992 - Unable to enter Source of Notification
                    for DOD in Exception Handler
  HD0000000244806 - RG Queue issue
   
  Associated New Service Request (NSR):
  =====================================
  There is no associated NSR with the patch.
    
  Test Sites:
  ===========
  Altoona
  North Texas
  Phoenix
     
  Installation Instructions:
  ==========================
  This patch takes less than 2 minutes to install.  This patch should
  be loaded during non-peak hours to minimize disruption to the users.
   
  1.  Users are allowed on the system during patch installation.
  
  2.  The HL7 incoming filers should be stopped.  Use the Monitor,
      Start, Stop Filers [HL FILER MONITOR] option on the Filer and
      Link Management Options [HL MENU FILER LINK MGT] menu on the
      HL7 Main Menu [HL MAIN MENU].
     
  3.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
      Note:  TEXT PRINT/DISPLAY option in the PackMan menu will display
      the patch text only.
     
  4.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
   
  5.  From this menu, you may elect to use the following options:
       (when prompted for INSTALL NAME, enter RG*1.0*54):
       a.  Compare Transport Global to Current System  - this option will
           allow you to view all changes that will be made when the patch
           is installed.  It compares all components of the patch 
           (routines, DDs, templates, etc.).
       b.  Verify Checksums in Transport Global - this option will
           allow you to ensure the integrity of the routines that are in
           the transport global.
       c.  Print Transport Global - this option will allow you to view the
           components of the KIDS build.
       d.  Backup a Transport Global - This option will create a backup
           message of any routines exported with this patch. It will not
           backup any other changes such as DD's or templates.
  
   
  6.  Use the Install Package(s) option and select the package RG*1.0*54.
   
  7.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? NO//',
      respond NO.
   
  8.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? YES//', respond YES.  The following OPTIONS should be
      disabled during the installation.
   
      Register a Patient              [DG REGISTER PATIENT]
      Load/Edit Patient Data          [DG LOAD PATIENT DATA]
      Electronic 10-10EZ Processing   [EAS EZ 1010EZ PROCESSING]
      UPDATE BATCH JOB FOR HL7 v2.3   [VAFC BATCH UPDATE]
      MPI/PD Master Menu              [RGMGR]
      MPI/PD Exception Handling       [RG EXCEPTION HANDLING]
  
  9.  After patch installation has completed, restart the HL7 incoming
      filers.  Use the Monitor, Start, Stop Filers [HL FILER MONITOR]
      option on the Filer and Link Management Options [HL MENU FILER 
      LINK MGT] menu on the HL7 Main Menu [HL MAIN MENU].

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.0;CLINICAL INFO RESOURCE NETWORK;**[Patch List]**;30 Apr 99;Build 4

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RGADTP2
    Before: B48194022   After: B53164737  **27,20,45,44,47,48,49,52,54**
Routine Name: RGEX03
    Before: B69509022   After: B81303188  **3,12,19,23,27,30,38,39,43,
                                           44,48,54**
 
Routine list of preceding patches: 52

=============================================================================
User Information:                          Hold Date     : NOV 30, 2009
Entered By  : DAVIS,PAULETTE                Date Entered  : JUL 10, 2008
Completed By: CHESNEY,CHRISTINE M           Date Completed: NOV 30, 2009
Released By : HEUER,CINDY                   Date Released : NOV 30, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
