$TXT Created by THOMPSON,SETH at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Friday, 01/23/09 at 15:11
=============================================================================
Run Date: JUL 08, 2009                     Designation: PSU*4*15
Package : PSU - PHARMACY BENEFITS MANAGEMENT  Priority: Mandatory
Version : 4        SEQ #12                      Status: Released
                  Compliance Date: AUG 08, 2009
=============================================================================

Associated patches: (v)PSU*4*11    <<= must be installed BEFORE `PSU*4*15'

Subject: EXTRACT ICD9 CODES MISSING

Category: 
  - Routine

Description:
============

 This patch will address the following 5 issues with the Pharmacy Benefits 
 Management extract options PSU PBM AUTO [Automatic Pharmacy Statistics] 
 and PSU PBM MANUAL [Manual Pharmacy Statistics].
  
 1.  The Outpatient Visits extract does not show all ICD9 codes
 2.  The Vitals/Immunization Record extract will crash with an SUBSCRIPT
     error when it encounters a Patient record (file #2) with a missing 
     Social Security Number (field #.09).
 3.  An UNDEFINED error occurs when attempting to exit the PSU PBM MANUAL
     [Manual Pharmacy Statistics] menu.
 4.  The subject line of the AR/WS extract is inconsistent with all of the
     other extract subject lines.
 5.  The Outpatient Visits Extract will crash with an UNDEFINED error due
     to a patient's VISIT file (#9000010) record missing the 150 node
     [VISIT ID (#15001) VISIT ID, PATIENT STATUS IN/OUT (#15002) &
     ENCOUNTER TYPE (#15003)].
  
  
 Associated NSR(s):
 ==================
 N/A
  
  
 Associated Remedy Tickets:
 ==========================
 1.  HD0000000288563 - 6 PBM EXTRACT DOES NOT COLLECT ALL ICD9 CODES
 2.  HD0000000286672 - 8 <SUBSCRIPT>VITALS+55^PSUVIT1
     Duplicate:        
     HD0000000309061
 3.  HD0000000290578 - 5 <UNDEFINED>RPT+9^PSUCP1
 4.  HD0000000293287 - 6 CONSISTENCY IN PBM EXTRACT MAIL MSG SUBJECT
 5.  HD0000000251472 - 2 Undefined error DAT2+11~PSUDEM2 
  
  
 Participating Test Sites:
 =========================
 Charleston VAMC
 Hines VAMC
 Palo Alto HCS
  
  
 Remedy Ticket Overview:
 =======================
  
 1.  HD0000000288563 - 6 PBM EXTRACT DOES NOT COLLECT ALL ICD9 CODES
  
     Problem:
     --------
     The Outpatient Visits extract (Automatic & Manual) does not show all
     ICD9 codes if there are multiple ICD9 codes associated with the
     patient.
  
     Solution:
     ---------
     Modified the routine PSUDEM2 to prevent resetting data before the
     program loop finishes gathering ICD9 codes.  Previously, the variable
     containing the ICD9 codes would get reset after every increment of the
     patient's "Problem of Visit" list (the V POV file #9000010.07).
  
  
 2.  HD0000000286672 - 8 <SUBSCRIPT>VITALS+55^PSUVIT1
  
     Problem:
     --------
     The Vitals/Immunization Record extract will crash with an SUBSCRIPT
     error when it encounters a Patient record (file #2) with a missing 
     Social Security Number (field #.09).
  
     Solution:
     ---------
     Logic in routine PSUVIT1 will be modified to omit records from the 
     extract that do not have a social security number.
  
  
 3.  HD0000000290578 - 5 <UNDEFINED>RPT+9^PSUCP1
  
     Problem:
     --------
     An undefined error occurs when attempting to exit the PSU PBM MANUAL
     [Manual Pharmacy Statistics] menu without running an extract under 
     the option.
  
     Solution:
     ---------
     Modified routine PSUCP1 to exit correctly from the PSU PBM MANUAL
     [Manual Pharmacy Statistics] menu if the user does not run an extract.
  
  
 4.  HD0000000293287 - 6 CONSISTENCY IN PBM EXTRACT MAIL MSG SUBJECT
  
     Problem:
     --------
     The subject line of the AR/WS extract is inconsistent with all of the
     other extract subject lines.
  
     Solution:
     ---------
     Routine PSUAR3 is modified so the offending subject line is corrected.
  
  
 5.  HD0000000251472 - 2 Undefined error DAT2+11~PSUDEM2
  
     Problem:
     --------
     The Outpatient Visits Extract will crash with an UNDEFINED error due
     to a patient's VISIT file (#9000010) record missing the 150 node
     [VISIT ID (#15001) VISIT ID, PATIENT STATUS IN/OUT (#15002) &
     ENCOUNTER TYPE (#15003)].
  
     Solution:
     ---------
     Routine PSUDEM2 has been modified to check for a value in the 150 node
     before using it.
  
  
 Installation Instructions:
 ==========================
 This patch may be installed with users on the system.  Installation will
 take less than 1 minute.
  
 Suggested time to install: non-peak requirement hours.
  
  1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu.
  
  2. From the Kernel Installation & Distribution System menu, select
     the Installation menu.
  
  3. From this menu, you may select to use the following options
     (when prompted for INSTALL NAME, enter PSU*4*15):
    a. Backup a Transport Global - this option will create a backup
       message of any routines exported with the patch. It will NOT
       backup any other changes such as DDs or templates.
    b. Compare Transport Global to Current System - this option will
       allow you to view all changes that will be made when the patch
       is installed. It compares all components of the patch (routines,
       DDs, templates, etc.).
    c. Verify Checksums in Transport Global - this option will ensure
       the integrity of the routines that are in the transport global.
  
  4. Use the Install Package(s) option and select the package PSU*4.0*15.
  
  5. When prompted "Want KIDS to INHIBIT LOGONs during the install? NO//",
     respond NO.
  
  6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
     Protocols? NO//, respond NO.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;4.0;PHARMACY BENEFITS MANAGEMENT;**[Patch List]**;MARCH, 2005;Build 2

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSUAR3
    Before:  B9346593   After:  B9367807  **15**
Routine Name: PSUCP1
    Before: B86988288   After: B88326755  **15**
Routine Name: PSUDEM2
    Before: B20153453   After: B20686228  **15**
Routine Name: PSUVIT1
    Before: B59293955   After: B60282260  **11,15**
 
Routine list of preceding patches: 11

=============================================================================
User Information:
Entered By  : THOMPSON,SETH                 Date Entered  : DEC 15, 2008
Completed By: WERNER,GARY                   Date Completed: MAY 06, 2009
Released By : HEMBREE,SUSAN                 Date Released : JUL 08, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
