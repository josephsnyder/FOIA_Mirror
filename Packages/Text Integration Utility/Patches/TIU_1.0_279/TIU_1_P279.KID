KIDS Distribution saved on Sep 10, 2013@13:22:53
TIU*1*279
**KIDS**:TIU*1.0*279^

**INSTALL NAME**
TIU*1.0*279
"BLD",8911,0)
TIU*1.0*279^TEXT INTEGRATION UTILITIES^0^3130910^y
"BLD",8911,4,0)
^9.64PA^^0
"BLD",8911,6.3)
53
"BLD",8911,"ABPKG")
n
"BLD",8911,"INI")

"BLD",8911,"INID")
n^n^n
"BLD",8911,"INIT")
MAIN^TIUPS279
"BLD",8911,"KRN",0)
^9.67PA^779.2^20
"BLD",8911,"KRN",.4,0)
.4
"BLD",8911,"KRN",.4,"NM",0)
^9.68A^^
"BLD",8911,"KRN",.401,0)
.401
"BLD",8911,"KRN",.402,0)
.402
"BLD",8911,"KRN",.403,0)
.403
"BLD",8911,"KRN",.5,0)
.5
"BLD",8911,"KRN",.84,0)
.84
"BLD",8911,"KRN",3.6,0)
3.6
"BLD",8911,"KRN",3.8,0)
3.8
"BLD",8911,"KRN",9.2,0)
9.2
"BLD",8911,"KRN",9.8,0)
9.8
"BLD",8911,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",8911,"KRN",9.8,"NM",1,0)
TIUPS279^^0^B9625532
"BLD",8911,"KRN",9.8,"NM","B","TIUPS279",1)

"BLD",8911,"KRN",19,0)
19
"BLD",8911,"KRN",19,"NM",0)
^9.68A^^
"BLD",8911,"KRN",19.1,0)
19.1
"BLD",8911,"KRN",19.1,"NM",0)
^9.68A^^
"BLD",8911,"KRN",101,0)
101
"BLD",8911,"KRN",409.61,0)
409.61
"BLD",8911,"KRN",771,0)
771
"BLD",8911,"KRN",779.2,0)
779.2
"BLD",8911,"KRN",870,0)
870
"BLD",8911,"KRN",8989.51,0)
8989.51
"BLD",8911,"KRN",8989.52,0)
8989.52
"BLD",8911,"KRN",8994,0)
8994
"BLD",8911,"KRN","B",.4,.4)

"BLD",8911,"KRN","B",.401,.401)

"BLD",8911,"KRN","B",.402,.402)

"BLD",8911,"KRN","B",.403,.403)

"BLD",8911,"KRN","B",.5,.5)

"BLD",8911,"KRN","B",.84,.84)

"BLD",8911,"KRN","B",3.6,3.6)

"BLD",8911,"KRN","B",3.8,3.8)

"BLD",8911,"KRN","B",9.2,9.2)

"BLD",8911,"KRN","B",9.8,9.8)

"BLD",8911,"KRN","B",19,19)

"BLD",8911,"KRN","B",19.1,19.1)

"BLD",8911,"KRN","B",101,101)

"BLD",8911,"KRN","B",409.61,409.61)

"BLD",8911,"KRN","B",771,771)

"BLD",8911,"KRN","B",779.2,779.2)

"BLD",8911,"KRN","B",870,870)

"BLD",8911,"KRN","B",8989.51,8989.51)

"BLD",8911,"KRN","B",8989.52,8989.52)

"BLD",8911,"KRN","B",8994,8994)

"BLD",8911,"QDEF")
^^^^NO^^^^NO^^NO
"BLD",8911,"QUES",0)
^9.62^^
"BLD",8911,"REQB",0)
^9.611^1^1
"BLD",8911,"REQB",1,0)
TIU*1.0*260^2
"BLD",8911,"REQB","B","TIU*1.0*260",1)

"INIT")
MAIN^TIUPS279
"MBREQ")
0
"PKG",588,-1)
1^1
"PKG",588,0)
TEXT INTEGRATION UTILITIES^TIU^Text Integration Utilities 
"PKG",588,20,0)
^9.402P^^
"PKG",588,22,0)
^9.49I^1^1
"PKG",588,22,1,0)
1.0^2970620^2971202^1
"PKG",588,22,1,"PAH",1,0)
279^3130910^520736419
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","TIUPS279")
0^1^B9625532
"RTN","TIUPS279",1,0)
TIUPS279 ; CHY/TJ - Post-Install for 279 ;03/13/12  15:46
"RTN","TIUPS279",2,0)
 ;;1.0;TEXT INTEGRATION UTILITIES;**279**;Jun 20, 1997;Build 53
"RTN","TIUPS279",3,0)
 ;  Post Installation Routine for patch TIU*1.0*279
"RTN","TIUPS279",4,0)
 ;  Installs Title and maps it to Enterprise Standard Title and Document Class
"RTN","TIUPS279",5,0)
 ;
"RTN","TIUPS279",6,0)
 ;  EXTERNAL REFERENCES
"RTN","TIUPS279",7,0)
 ;    BMES^XPDUTL  10141
"RTN","TIUPS279",8,0)
 ;    $$FIND1^DIC  supported
"RTN","TIUPS279",9,0)
 ;    NOW^%DTC     supported
"RTN","TIUPS279",10,0)
 ;    UPDATE^DIE   2053
"RTN","TIUPS279",11,0)
 ;
"RTN","TIUPS279",12,0)
MAIN ; Control subroutine
"RTN","TIUPS279",13,0)
 N TIUFPRIV,TIUP279X,TIUDNM,TIUSNM,TIUNATL,TIUDC
"RTN","TIUPS279",14,0)
 S TIUFPRIV=1
"RTN","TIUPS279",15,0)
 S TIUDNM="PATIENT RECORD FLAG CATEGORY I - MISSING PATIENT" ; Name
"RTN","TIUPS279",16,0)
 S TIUSNM="PRF Cat I - Missing" ; Short Name
"RTN","TIUPS279",17,0)
 S TIUNATL="MENTAL HEALTH PATIENT RECORD FLAG" ; Enterprise Standard Title
"RTN","TIUPS279",18,0)
 S TIUDC="PATIENT RECORD FLAG CAT I" ; Document Class
"RTN","TIUPS279",19,0)
 S TIUP279X=$$CREATE(TIUDNM,TIUNATL) ; TIUP279X is "Success message" or "Error text"
"RTN","TIUPS279",20,0)
 D BMES^XPDUTL(TIUP279X)
"RTN","TIUPS279",21,0)
 S TIUP279X=$$INSTALL(TIUDNM,TIUDC,TIUSNM) ; TIUP279X is "Success message" or "Error text"
"RTN","TIUPS279",22,0)
 D BMES^XPDUTL(TIUP279X)
"RTN","TIUPS279",23,0)
 Q
"RTN","TIUPS279",24,0)
CREATE(TIUDNM,TIUNATL) ; Create new DDEF entry
"RTN","TIUPS279",25,0)
 N %,TIUERR,TIUFDA,TIUIEN,TIUMSG
"RTN","TIUPS279",26,0)
 S TIUERR="   Title Created: "_TIUDNM
"RTN","TIUPS279",27,0)
 S TIUFDA(8925.1,"?+1,",.01)=TIUDNM ; NAME
"RTN","TIUPS279",28,0)
 S TIUFDA(8925.1,"?+1,",.03)=TIUDNM ; PRINT NAME
"RTN","TIUPS279",29,0)
 S TIUFDA(8925.1,"?+1,",.04)="DOC" ; TYPE: TITLE
"RTN","TIUPS279",30,0)
 S TIUFDA(8925.1,"?+1,",.06)=$$FIND1^DIC(8930,"","X","CLINICAL COORDINATOR","B") ; OWNER
"RTN","TIUPS279",31,0)
 S TIUFDA(8925.1,"?+1,",.07)=11 ; STATUS: ACTIVE
"RTN","TIUPS279",32,0)
 S TIUFDA(8925.1,"?+1,",.13)=1 ; NATIONAL STANDARD: YES
"RTN","TIUPS279",33,0)
 S TIUFDA(8925.1,"?+1,",3.02)=1 ; OK TO DISTRIBUTE: YES
"RTN","TIUPS279",34,0)
 S TIUFDA(8925.1,"?+1,",99)=$H ; TIMESTAMP
"RTN","TIUPS279",35,0)
 S TIUFDA(8925.1,"?+1,",1501)=$$FIND1^DIC(8926.1,"","X",TIUNATL,"B") ; VHA ENTERPRISE STANDARD TITLE
"RTN","TIUPS279",36,0)
 D NOW^%DTC S TIUFDA(8925.1,"?+1,",1502)=% ; MAP ATTEMPTED
"RTN","TIUPS279",37,0)
 S TIUFDA(8925.1,"?+1,",1503)=DUZ ; MAP ATTEMPTED BY
"RTN","TIUPS279",38,0)
 D UPDATE^DIE("","TIUFDA","TIUIEN","TIUMSG")
"RTN","TIUPS279",39,0)
 I $D(TIUMSG) D  Q TIUERR
"RTN","TIUPS279",40,0)
 . S TIUERR="   **ERROR** "_$G(TIUMSG("DIERR",1))_" Unable to create Title "_TIUDNM
"RTN","TIUPS279",41,0)
 Q TIUERR
"RTN","TIUPS279",42,0)
INSTALL(TIUDNM,TIUDC,TIUSNM) ; Install document definition
"RTN","TIUPS279",43,0)
 N TIUERR,TIUFPRIV,TIUTIEN,TIUDIEN,TIUFDA,TIUIEN,TIUMSG
"RTN","TIUPS279",44,0)
 S TIUERR="   Title attached to Document Class "_TIUDC
"RTN","TIUPS279",45,0)
 S TIUFPRIV=1
"RTN","TIUPS279",46,0)
 ; Find the IEN of the Title
"RTN","TIUPS279",47,0)
 S TIUTIEN=$$FIND1^DIC(8925.1,"","X",TIUDNM,"B")
"RTN","TIUPS279",48,0)
 I 'TIUTIEN D  Q TIUERR
"RTN","TIUPS279",49,0)
 . S TIUERR="   **ERROR** Unable to locate Title "_TIUDNM
"RTN","TIUPS279",50,0)
 ; Find the IEN of the Document Class
"RTN","TIUPS279",51,0)
 S TIUDIEN=$$FIND1^DIC(8925.1,"","X",TIUDC,"B")
"RTN","TIUPS279",52,0)
 I 'TIUDIEN D  Q TIUERR
"RTN","TIUPS279",53,0)
 . S TIUERR="   **ERROR** Unable to locate Document Class "_TIUDC
"RTN","TIUPS279",54,0)
 ; Attach the Title to Document Class
"RTN","TIUPS279",55,0)
 S TIUFDA(8925.14,"?+2,"_TIUDIEN_",",.01)=TIUTIEN ; ITEM
"RTN","TIUPS279",56,0)
 S TIUFDA(8925.14,"?+2,"_TIUDIEN_",",2)="" ; MNEMONIC
"RTN","TIUPS279",57,0)
 S TIUFDA(8925.14,"?+2,"_TIUDIEN_",",3)="" ; SEQUENCE
"RTN","TIUPS279",58,0)
 S TIUFDA(8925.14,"?+2,"_TIUDIEN_",",4)=TIUSNM ; MENU TEXT
"RTN","TIUPS279",59,0)
 D UPDATE^DIE("","TIUFDA","TIUIEN","TIUMSG")
"RTN","TIUPS279",60,0)
 I $D(TIUMSG) D  Q TIUERR
"RTN","TIUPS279",61,0)
 . S TIUERR="   **ERROR** Unable to update Document Class "_TIUDC
"RTN","TIUPS279",62,0)
 Q TIUERR
"VER")
8.0^22.0
**END**
**END**
