Released IB*2*373 SEQ #393
Extracted from mail message
**KIDS**:IB*2.0*373^

**INSTALL NAME**
IB*2.0*373
"BLD",7414,0)
IB*2.0*373^INTEGRATED BILLING^0^3080327^y
"BLD",7414,1,0)
^^5^5^3080327^
"BLD",7414,1,1,0)
There are two fixes in this patch: First, in the Enter/Edit Billing
"BLD",7414,1,2,0)
Information [IB EDIT BILLING INFO] option on screen #3, all of the valid 
"BLD",7414,1,3,0)
SUBSCRIBER PRIMARY IDs are now allowed (one that wasn't was the letter 
"BLD",7414,1,4,0)
"A" followed by 6 numbers). Second, there is a fix for a bad
"BLD",7414,1,5,0)
cross-reference in the GROUP INSURANCE PLAN (#355.3) file.
"BLD",7414,4,0)
^9.64PA^355.3^1
"BLD",7414,4,355.3,0)
355.3
"BLD",7414,4,355.3,2,0)
^9.641^355.3^1
"BLD",7414,4,355.3,2,355.3,0)
GROUP INSURANCE PLAN  (File-top level)
"BLD",7414,4,355.3,2,355.3,1,0)
^9.6411^.04^1
"BLD",7414,4,355.3,2,355.3,1,.04,0)
GROUP NUMBER
"BLD",7414,4,355.3,222)
y^n^p^^^^n^^n
"BLD",7414,4,355.3,224)

"BLD",7414,4,"APDD",355.3,355.3)

"BLD",7414,4,"APDD",355.3,355.3,.04)

"BLD",7414,4,"B",355.3,355.3)

"BLD",7414,6.3)
6
"BLD",7414,"KRN",0)
^9.67PA^8989.52^19
"BLD",7414,"KRN",.4,0)
.4
"BLD",7414,"KRN",.401,0)
.401
"BLD",7414,"KRN",.402,0)
.402
"BLD",7414,"KRN",.403,0)
.403
"BLD",7414,"KRN",.5,0)
.5
"BLD",7414,"KRN",.84,0)
.84
"BLD",7414,"KRN",3.6,0)
3.6
"BLD",7414,"KRN",3.8,0)
3.8
"BLD",7414,"KRN",9.2,0)
9.2
"BLD",7414,"KRN",9.8,0)
9.8
"BLD",7414,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",7414,"KRN",9.8,"NM",1,0)
IBCBB8^^0^B4519715
"BLD",7414,"KRN",9.8,"NM","B","IBCBB8",1)

"BLD",7414,"KRN",19,0)
19
"BLD",7414,"KRN",19.1,0)
19.1
"BLD",7414,"KRN",101,0)
101
"BLD",7414,"KRN",409.61,0)
409.61
"BLD",7414,"KRN",771,0)
771
"BLD",7414,"KRN",870,0)
870
"BLD",7414,"KRN",8989.51,0)
8989.51
"BLD",7414,"KRN",8989.52,0)
8989.52
"BLD",7414,"KRN",8994,0)
8994
"BLD",7414,"KRN","B",.4,.4)

"BLD",7414,"KRN","B",.401,.401)

"BLD",7414,"KRN","B",.402,.402)

"BLD",7414,"KRN","B",.403,.403)

"BLD",7414,"KRN","B",.5,.5)

"BLD",7414,"KRN","B",.84,.84)

"BLD",7414,"KRN","B",3.6,3.6)

"BLD",7414,"KRN","B",3.8,3.8)

"BLD",7414,"KRN","B",9.2,9.2)

"BLD",7414,"KRN","B",9.8,9.8)

"BLD",7414,"KRN","B",19,19)

"BLD",7414,"KRN","B",19.1,19.1)

"BLD",7414,"KRN","B",101,101)

"BLD",7414,"KRN","B",409.61,409.61)

"BLD",7414,"KRN","B",771,771)

"BLD",7414,"KRN","B",870,870)

"BLD",7414,"KRN","B",8989.51,8989.51)

"BLD",7414,"KRN","B",8989.52,8989.52)

"BLD",7414,"KRN","B",8994,8994)

"BLD",7414,"QUES",0)
^9.62^^
"BLD",7414,"REQB",0)
^9.611^1^1
"BLD",7414,"REQB",1,0)
IB*2.0*349^2
"BLD",7414,"REQB","B","IB*2.0*349",1)

"FIA",355.3)
GROUP INSURANCE PLAN
"FIA",355.3,0)
^IBA(355.3,
"FIA",355.3,0,0)
355.3IP
"FIA",355.3,0,1)
y^n^p^^^^n^^n
"FIA",355.3,0,10)

"FIA",355.3,0,11)

"FIA",355.3,0,"RLRO")

"FIA",355.3,0,"VR")
2.0^IB
"FIA",355.3,355.3)
1
"FIA",355.3,355.3,.04)

"MBREQ")
0
"PKG",200,-1)
1^1
"PKG",200,0)
INTEGRATED BILLING^IB^INTEGRATED BILLING
"PKG",200,20,0)
^9.402P^1^1
"PKG",200,20,1,0)
2^^IBAXDR
"PKG",200,20,1,1)

"PKG",200,20,"B",2,1)

"PKG",200,22,0)
^9.49I^1^1
"PKG",200,22,1,0)
2.0^2940321^2990406^2447
"PKG",200,22,1,"PAH",1,0)
373^3080327
"PKG",200,22,1,"PAH",1,1,0)
^^5^5^3080327
"PKG",200,22,1,"PAH",1,1,1,0)
There are two fixes in this patch: First, in the Enter/Edit Billing
"PKG",200,22,1,"PAH",1,1,2,0)
Information [IB EDIT BILLING INFO] option on screen #3, all of the valid 
"PKG",200,22,1,"PAH",1,1,3,0)
SUBSCRIBER PRIMARY IDs are now allowed (one that wasn't was the letter 
"PKG",200,22,1,"PAH",1,1,4,0)
"A" followed by 6 numbers). Second, there is a fix for a bad
"PKG",200,22,1,"PAH",1,1,5,0)
cross-reference in the GROUP INSURANCE PLAN (#355.3) file.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","IBCBB8")
0^1^B4519715^B4642279
"RTN","IBCBB8",1,0)
IBCBB8 ;ALB/BGA - CON'T MEDICARE EDIT CHECKS ;08/12/98
"RTN","IBCBB8",2,0)
 ;;2.0;INTEGRATED BILLING;**51,137,210,349,373**;21-MAR-94;Build 6
"RTN","IBCBB8",3,0)
 ;;Per VHA Directive 2004-038, this routine should not be modified.
"RTN","IBCBB8",4,0)
 ;
"RTN","IBCBB8",5,0)
 ; UB-04 CLAIM CERTIFICATE ID NUMBER
"RTN","IBCBB8",6,0)
 I '$$VALID(IBIFN) S IBQUIT=$$IBER^IBCBB3(.IBER,215) Q:IBQUIT
"RTN","IBCBB8",7,0)
 ;
"RTN","IBCBB8",8,0)
 ; Req. on Primary Payor when Medicare is secondary and value 12-15,43
"RTN","IBCBB8",9,0)
 I $$COBN^IBCEF(IBIFN)=2 D  Q:IBQUIT
"RTN","IBCBB8",10,0)
 . I $O(IBVALCD(16),-1)'<12!$D(IBVALCD(43)) D 
"RTN","IBCBB8",11,0)
 . . K IBXDATA D F^IBCEF("N-ALL INSURED EMPLOYER INFO",,,IBIFN)
"RTN","IBCBB8",12,0)
 . . ; employer name^city^state abbreviation^state ien
"RTN","IBCBB8",13,0)
 . . ;I '$O(IBXDATA(0)) S IBQUIT=$$IBER^IBCBB3(.IBER,222) Q
"RTN","IBCBB8",14,0)
 . . ; Employer name missing
"RTN","IBCBB8",15,0)
 . . ;I $P($G(IBXDATA(1)),U)="" S IBQUIT=$$IBER^IBCBB3(.IBER,222)
"RTN","IBCBB8",16,0)
 . . ; Employer address missing
"RTN","IBCBB8",17,0)
 . . ;I $TR($P($G(IBXDATA(1)),U,2,4),U)="" S IBQUIT=$$IBER^IBCBB3(.IBER,223)
"RTN","IBCBB8",18,0)
 . ;
"RTN","IBCBB8",19,0)
 . ; Insured's Group Number 
"RTN","IBCBB8",20,0)
 . ;  if Medicare is secondary, need insurance group number for primary
"RTN","IBCBB8",21,0)
 . K IBXDATA D F^IBCEF("N-ALL INSURANCE GROUP NUMBER",,,IBIFN)
"RTN","IBCBB8",22,0)
 . I $P($G(IBXDATA(1)),U)="" S IBQUIT=$$IBER^IBCBB3(.IBER,225)
"RTN","IBCBB8",23,0)
 ;
"RTN","IBCBB8",24,0)
 ; UB-04 Diagnosis Codes
"RTN","IBCBB8",25,0)
 K IBXDATA D F^IBCEF("N-DIAGNOSES",,,IBIFN)
"RTN","IBCBB8",26,0)
 ;
"RTN","IBCBB8",27,0)
 S IBI=0
"RTN","IBCBB8",28,0)
 F  S IBI=$O(IBXDATA(IBI)) Q:'IBI  D  Q:IBQUIT
"RTN","IBCBB8",29,0)
 . S IBDXC=$P($$ICD9^IBACSV(+$P(IBXDATA(IBI),U)),U)
"RTN","IBCBB8",30,0)
 . ; no duplicate dx
"RTN","IBCBB8",31,0)
 . I IBDXC'="",$D(IBDXARY(IBDXC)) S IBQUIT=$$IBER^IBCBB3(.IBER,227)
"RTN","IBCBB8",32,0)
 . I IBDXC'="",'$D(IBDXARY(IBDXC)) S IBDXARY(IBDXC)=IBXDATA(IBI)
"RTN","IBCBB8",33,0)
 Q:IBQUIT
"RTN","IBCBB8",34,0)
 ;
"RTN","IBCBB8",35,0)
 Q
"RTN","IBCBB8",36,0)
 ;
"RTN","IBCBB8",37,0)
VALID(IBIFN) ; Verify HIC # is valid
"RTN","IBCBB8",38,0)
 N VAL,IBXDATA
"RTN","IBCBB8",39,0)
 S VAL=1
"RTN","IBCBB8",40,0)
 G:'$$MCRWNR^IBEFUNC(+$$CURR^IBCEF2(IBIFN)) VALQ
"RTN","IBCBB8",41,0)
 ;
"RTN","IBCBB8",42,0)
 K IBXDATA D F^IBCEF("N-CURR INSURED ID",,,IBIFN)
"RTN","IBCBB8",43,0)
 ;
"RTN","IBCBB8",44,0)
 I $G(IBXDATA)="" S VAL=0 G VALQ
"RTN","IBCBB8",45,0)
 ;
"RTN","IBCBB8",46,0)
 S IBXDATA=$TR(IBXDATA,"-")
"RTN","IBCBB8",47,0)
 ; HIC # must pass standard MEDICARE edits
"RTN","IBCBB8",48,0)
 I '$$VALHIC^IBCNSMM(IBXDATA) S VAL=0
"RTN","IBCBB8",49,0)
 ;
"RTN","IBCBB8",50,0)
VALQ Q VAL
"RTN","IBCBB8",51,0)
 ;
"VER")
8.0^22.0
"^DD",355.3,355.3,.04,0)
GROUP NUMBER^FX^^0;4^I $D(X) K:$L(X)>17!($L(X)<2) X
"^DD",355.3,355.3,.04,1,0)
^.1
"^DD",355.3,355.3,.04,1,1,0)
355.3^E
"^DD",355.3,355.3,.04,1,1,1)
S ^IBA(355.3,"E",$E(X,1,30),DA)=""
"^DD",355.3,355.3,.04,1,1,2)
K ^IBA(355.3,"E",$E(X,1,30),DA)
"^DD",355.3,355.3,.04,1,1,"DT")
2930525
"^DD",355.3,355.3,.04,1,2,0)
355.3^AGNU^MUMPS
"^DD",355.3,355.3,.04,1,2,1)
S:+^IBA(355.3,DA,0) ^IBA(355.3,"AGNU",+^(0),X,DA)=""
"^DD",355.3,355.3,.04,1,2,2)
K ^IBA(355.3,"AGNU",+^IBA(355.3,DA,0),X,DA)
"^DD",355.3,355.3,.04,1,2,"%D",0)
^^1^1^2930527^
"^DD",355.3,355.3,.04,1,2,"%D",1,0)
Cross reference of insurance companies and group names.
"^DD",355.3,355.3,.04,1,2,"DT")
2930527
"^DD",355.3,355.3,.04,1,3,0)
355.3^ACCP1^MUMPS
"^DD",355.3,355.3,.04,1,3,1)
N Y S Y=$$COMP^IBCNSJ(X) I $L(Y) S ^IBA(355.3,"ACCP",+^IBA(355.3,DA,0),Y,DA)=""
"^DD",355.3,355.3,.04,1,3,2)
N Y S Y=$$COMP^IBCNSJ(X) I $L(Y) K ^IBA(355.3,"ACCP",+^IBA(355.3,DA,0),Y,DA)
"^DD",355.3,355.3,.04,1,3,"%D",0)
^^2^2^2941213^^
"^DD",355.3,355.3,.04,1,3,"%D",1,0)
Compresses entries by eliminating punctuation marks and leading zeroes, and
"^DD",355.3,355.3,.04,1,3,"%D",2,0)
converting lowercase to uppercase.
"^DD",355.3,355.3,.04,1,3,"DT")
2941213
"^DD",355.3,355.3,.04,1,4,0)
355.3^AENR04^MUMPS
"^DD",355.3,355.3,.04,1,4,1)
D EVENT^IVMPLOG($P($G(^IBA(355.3,DA,0)),U,10))
"^DD",355.3,355.3,.04,1,4,2)
D EVENT^IVMPLOG($P($G(^IBA(355.3,DA,0)),U,10))
"^DD",355.3,355.3,.04,1,4,3)
 DO NOT DELETE
"^DD",355.3,355.3,.04,1,4,"%D",0)
^.101^2^2^3070925^^^^
"^DD",355.3,355.3,.04,1,4,"%D",1,0)
This cross-reference is used to notify HEC of changes that may affect
"^DD",355.3,355.3,.04,1,4,"%D",2,0)
enrollment.
"^DD",355.3,355.3,.04,1,4,"DT")
3070925
"^DD",355.3,355.3,.04,3)
Answer must be 2-17 characters in length.
"^DD",355.3,355.3,.04,21,0)
^.001^3^3^3060518^^
"^DD",355.3,355.3,.04,21,1,0)
If this is a group policy enter the number which identifies this policy,
"^DD",355.3,355.3,.04,21,2,0)
i.e. group number/code that the insurance company uses to identify this
"^DD",355.3,355.3,.04,21,3,0)
plan.  Answer must be between 1 and 17 characters.
"^DD",355.3,355.3,.04,"DT")
3070925
"BLD",7414,6)
^393
**END**
**END**
