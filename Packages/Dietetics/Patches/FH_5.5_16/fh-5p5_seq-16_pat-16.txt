$TXT Created by UNDERHILL,GARDNER at DAYT17.FO-BAYPINES.MED.VA.GOV  (KIDS) on Wednesday, 09/24/08 at 13:29
=============================================================================
Run Date: NOV 17, 2008                     Designation: FH*5.5*16
Package : FH - DIETETICS                      Priority: EMERGENCY
Version : 5.5        SEQ #16                    Status: Released
                  Compliance Date: NOV 24, 2008
=============================================================================

Associated patches: (v)FH*5.5*10   <<= must be installed BEFORE `FH*5.5*16'

Subject: NUTRITION EXTRACT RETURNS ERRONEOUS RECORDS FOR DSS

Category: 
  - Routine

Description:
============

 This patch addresses the Nutrition and Food Service DSS extract.  
 Routine FHDSSAPI is returning too many records. The routine FHDSSAPI does
 not properly check the discharge date which can lead to invalid record
 selection. 
 This patch is an EMERGENCY PATCH.
 FH*5.5*16 is required before users can install FH*5.5*18.  
 As part of the DSS EXTRACT CHANGES FOR FY09, patch FH*5.5*18 has a 7-day
 compliance date for installation.  Since the DSS Extracts are monthly,
 FH*5.5*16 and FH*5.5*18 should be installed by their respective 7-day 
 compliance dates so as not to miss the next extract.
  
  
 ASSOCIATED NSR:
 ===============
 N/A
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD0000000226373 - HIGH NUMBERS IN NUTRITION EXTRACT FOR DSS
 Duplicate(s)
 2. HD0000000227287 - VISTA NUT EXtract for OCT FY08 issue
 3. HD0000000227340 - Delivery location problems in DIET
 4. HD0000000227887 - Nutrition Extract for October has numerous entries
                      for patients that were not inpatients.  The sites in
                      VISN 6 use Computrition.
 5. HD229091 - Nutrition Extract  
 6. HD229785 - DSS Nutrition Extract and Audit  
 7. HD230067 - NUT Extract problem for OCT, NOV, and DEC
  
 PARTICIPATING TEST SITES:
 =========================
 CENTRAL TEXAS
 ALEXANDRIA
 MILWAUKEE
 MUSKOGEE
  
 REMEDY OVERVIEW:
 ================
 1. HD0000000226373 - HIGH NUMBERS IN NUTRITION EXTRACT FOR DSS
   
   Problem:
   --------
   The routine FHDSSAPI extracts records in the NUTRITION PERSON file
   (#115) for DSS. Some of the admission records in the NUTRITION PERSON
   file (#115) do not have discharge dates on file. This was causing the
   routine FHDSSAPI to return too many records in the extraction for DSS.
   
   Resolution:
   ------------
   Modification of routine FHDSSAPI to check for a missing discharge date
   in the admission record in the NUTRITION PERSON file (#115). If the
   discharge date is null, the routine will check with the registration
   pacakage for a matching record. If there is no matching record in the
   registration package it is assumed the record is not valid and skipped.
   If a matching record is found, then the last movement record is checked
   in the registration package. If it is determined to be a current
   admission, the admission date is checked to determine if it is in the 
   extraction date range. If it is, the record is included in the extract.
   If it determined to be a previous addmission the discharge date provided
   from the registration package is checked to determine if it is in the
   extraction date range. If it is, the record is included in the extract.
   
 INSTALLATION INSTRUCTIONS:
 ==========================
 Suggested time to install: non-peak requirement hours. The patch should 
 be installed when no Nutrition and Food Service users are on the system. 
 Other VISTA users will not be affected.
  
 Install Time - less than 2 minutes (unless otherwise indicated)
  
 1.  Load Transport Global 
     ---------------------------
  
  Choose the PackMan message containing this patch and invoke the 
     INSTALL/CHECK MESSAGE PackMan option.  
              
 2.  Start Up KIDS 
     -----------------
     Start up the Kernel Installation and Distribution System Menu 
     [XPD MAIN]: 
          Edits and Distribution ...  
          Utilities ...  
          Installation ...  
    
 Select Kernel Installation & Distribution System Option: INStallation 
                                                          ---
          Load a Distribution 
          Print Transport Global 
          Compare Transport Global to Current System 
          Verify Checksums in Transport Global 
          Install Package(s) 
          Restart Install of Package(s) 
          Unload a Distribution 
          Backup a Transport Global 
    
 Select Installation Option: 
    
 3.  Select Installation Option: 
     -------------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
            NAME, enter FH*5.5*16):
       
     a.  Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DD's or templates.
     b.  Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch
         is installed.  It compares all components of this patch
         (routines, DD's, templates, etc.).
     c.  Verify Checksums in Transport Global - This option will allow
         you to ensure the integrity of the routines that are in the
         transport global.
      
 4.  Select Installation Option: Install Package(s) 
      ---------------------------------------------------
     **This is the step to start the installation of this KIDS patch: 
     a. Choose the Install Package(s) option to start the patch
        install.
  
     b. When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
        NO//' answer NO 
  
     c. When prompted 'Want to DISABLE Scheduled Options, Menu 
        Options, and Protocols? NO//' answer NO 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;5.5;DIETETICS;**[Patch List]**;Jan 28, 2005;Build 7

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: FHDSSAPI
    Before: B27566483   After: B38913521  **7,11,10,16**
 
Routine list of preceding patches: 10

=============================================================================
User Information:
Entered By  : UNDERHILL,GARDNER D           Date Entered  : FEB 25, 2008
Completed By: CRICHLOW,SHERRY               Date Completed: NOV 17, 2008
Released By : KREUZ,SHERI B                 Date Released : NOV 17, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
