KIDS Distribution saved on Nov 24, 2010@09:28
PATCH MODULE v2.3
**KIDS**:A1AE 2.3^

**INSTALL NAME**
A1AE 2.3
"BLD",8327,0)
A1AE 2.3^PATCH MODULE^0^3101124^n
"BLD",8327,1,0)
^^1^1^3100812^^^
"BLD",8327,1,1,0)
The PATCH Module from FORUM.va.gov.
"BLD",8327,4,0)
^9.64PA^11006^5
"BLD",8327,4,11005,0)
11005
"BLD",8327,4,11005,222)
y^y^f^^^^n
"BLD",8327,4,11005.1,0)
11005.1
"BLD",8327,4,11005.1,222)
y^y^f^^^^n
"BLD",8327,4,11005.5,0)
11005.5
"BLD",8327,4,11005.5,222)
y^y^f^^^^n
"BLD",8327,4,11006,0)
11006
"BLD",8327,4,11006,222)
y^y^f^^^^n
"BLD",8327,4,11007,0)
11007
"BLD",8327,4,11007,222)
y^y^f^^^^n^^
"BLD",8327,4,11007,224)

"BLD",8327,4,"B",11005,11005)

"BLD",8327,4,"B",11005.1,11005.1)

"BLD",8327,4,"B",11005.5,11005.5)

"BLD",8327,4,"B",11006,11006)

"BLD",8327,4,"B",11007,11007)

"BLD",8327,6.3)
8
"BLD",8327,"KRN",0)
^9.67PA^8989.52^19
"BLD",8327,"KRN",.4,0)
.4
"BLD",8327,"KRN",.4,"NM",0)
^9.68A^16^16
"BLD",8327,"KRN",.4,"NM",1,0)
A1AE FULL SUMMARY BY DATE    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",2,0)
A1AE GT 500    FILE #11007^11007^0
"BLD",8327,"KRN",.4,"NM",3,0)
A1AE PACKAGE USERS    FILE #11007^11007^0
"BLD",8327,"KRN",.4,"NM",4,0)
A1AE PATCH COMPL/COMMENT RPT    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",5,0)
A1AE PATCH COMPLIANCE PRT    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",6,0)
A1AE PATCH OPTS DOC    FILE #19^19^0
"BLD",8327,"KRN",.4,"NM",7,0)
A1AE PATCH SUMMARY    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",8,0)
A1AE PROBLEM DETAILS    FILE #11006^11006^0
"BLD",8327,"KRN",.4,"NM",9,0)
A1AE ROUTINE INQUIRE    FILE #9.8^9.8^0
"BLD",8327,"KRN",.4,"NM",10,0)
A1AE RTN CHECKSUM    FILE #9.8^9.8^0
"BLD",8327,"KRN",.4,"NM",11,0)
A1AE SELECTED USERS    FILE #11007^11007^0
"BLD",8327,"KRN",.4,"NM",12,0)
A1AE STANDARD HEADER    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",13,0)
A1AE STANDARD PRINT    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",14,0)
A1AE TABLED PROBLEM    FILE #11006^11006^0
"BLD",8327,"KRN",.4,"NM",15,0)
A1AE VERIFIED PATCH SUMMARY    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM",16,0)
A1AEZPKE    FILE #11005^11005^0
"BLD",8327,"KRN",.4,"NM","B","A1AE FULL SUMMARY BY DATE    FILE #11005",1)

"BLD",8327,"KRN",.4,"NM","B","A1AE GT 500    FILE #11007",2)

"BLD",8327,"KRN",.4,"NM","B","A1AE PACKAGE USERS    FILE #11007",3)

"BLD",8327,"KRN",.4,"NM","B","A1AE PATCH COMPL/COMMENT RPT    FILE #11005",4)

"BLD",8327,"KRN",.4,"NM","B","A1AE PATCH COMPLIANCE PRT    FILE #11005",5)

"BLD",8327,"KRN",.4,"NM","B","A1AE PATCH OPTS DOC    FILE #19",6)

"BLD",8327,"KRN",.4,"NM","B","A1AE PATCH SUMMARY    FILE #11005",7)

"BLD",8327,"KRN",.4,"NM","B","A1AE PROBLEM DETAILS    FILE #11006",8)

"BLD",8327,"KRN",.4,"NM","B","A1AE ROUTINE INQUIRE    FILE #9.8",9)

"BLD",8327,"KRN",.4,"NM","B","A1AE RTN CHECKSUM    FILE #9.8",10)

"BLD",8327,"KRN",.4,"NM","B","A1AE SELECTED USERS    FILE #11007",11)

"BLD",8327,"KRN",.4,"NM","B","A1AE STANDARD HEADER    FILE #11005",12)

"BLD",8327,"KRN",.4,"NM","B","A1AE STANDARD PRINT    FILE #11005",13)

"BLD",8327,"KRN",.4,"NM","B","A1AE TABLED PROBLEM    FILE #11006",14)

"BLD",8327,"KRN",.4,"NM","B","A1AE VERIFIED PATCH SUMMARY    FILE #11005",15)

"BLD",8327,"KRN",.4,"NM","B","A1AEZPKE    FILE #11005",16)

"BLD",8327,"KRN",.401,0)
.401
"BLD",8327,"KRN",.401,"NM",0)
^9.68A^12^12
"BLD",8327,"KRN",.401,"NM",1,0)
A1AE FULL SUMARY SORT    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",2,0)
A1AE FULL SUMMARY BY DATE    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",3,0)
A1AE GT 500    FILE #11007^11007^0
"BLD",8327,"KRN",.401,"NM",4,0)
A1AE PATCH COMPL/COMM SORT    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",5,0)
A1AE PROBLEM SORT    FILE #11006^11006^0
"BLD",8327,"KRN",.401,"NM",6,0)
A1AE SEQ REV SAVE    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",7,0)
A1AE SEQ REV SUMMARY SORT    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",8,0)
A1AE SEQ SAVE    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",9,0)
A1AE SEQ SUMMARY SORT    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",10,0)
A1AE STANDARD SORT    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",11,0)
A1AE SUMMARY SORT    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM",12,0)
A1AEZPKE    FILE #11005^11005^0
"BLD",8327,"KRN",.401,"NM","B","A1AE FULL SUMARY SORT    FILE #11005",1)

"BLD",8327,"KRN",.401,"NM","B","A1AE FULL SUMMARY BY DATE    FILE #11005",2)

"BLD",8327,"KRN",.401,"NM","B","A1AE GT 500    FILE #11007",3)

"BLD",8327,"KRN",.401,"NM","B","A1AE PATCH COMPL/COMM SORT    FILE #11005",4)

"BLD",8327,"KRN",.401,"NM","B","A1AE PROBLEM SORT    FILE #11006",5)

"BLD",8327,"KRN",.401,"NM","B","A1AE SEQ REV SAVE    FILE #11005",6)

"BLD",8327,"KRN",.401,"NM","B","A1AE SEQ REV SUMMARY SORT    FILE #11005",7)

"BLD",8327,"KRN",.401,"NM","B","A1AE SEQ SAVE    FILE #11005",8)

"BLD",8327,"KRN",.401,"NM","B","A1AE SEQ SUMMARY SORT    FILE #11005",9)

"BLD",8327,"KRN",.401,"NM","B","A1AE STANDARD SORT    FILE #11005",10)

"BLD",8327,"KRN",.401,"NM","B","A1AE SUMMARY SORT    FILE #11005",11)

"BLD",8327,"KRN",.401,"NM","B","A1AEZPKE    FILE #11005",12)

"BLD",8327,"KRN",.402,0)
.402
"BLD",8327,"KRN",.402,"NM",0)
^9.68A^5^5
"BLD",8327,"KRN",.402,"NM",1,0)
A1AE ADD/EDIT PATCHES    FILE #11005^11005^0
"BLD",8327,"KRN",.402,"NM",2,0)
A1AE ADD/EDIT PROBLEMS    FILE #11006^11006^0
"BLD",8327,"KRN",.402,"NM",3,0)
A1AE ADD/EDIT USERS    FILE #11007^11007^0
"BLD",8327,"KRN",.402,"NM",4,0)
A1AE CHANGE PROBLEM STATUS    FILE #11006^11006^0
"BLD",8327,"KRN",.402,"NM",5,0)
A1AE COMP DATE    FILE #11005^11005^0
"BLD",8327,"KRN",.402,"NM","B","A1AE ADD/EDIT PATCHES    FILE #11005",1)

"BLD",8327,"KRN",.402,"NM","B","A1AE ADD/EDIT PROBLEMS    FILE #11006",2)

"BLD",8327,"KRN",.402,"NM","B","A1AE ADD/EDIT USERS    FILE #11007",3)

"BLD",8327,"KRN",.402,"NM","B","A1AE CHANGE PROBLEM STATUS    FILE #11006",4)

"BLD",8327,"KRN",.402,"NM","B","A1AE COMP DATE    FILE #11005",5)

"BLD",8327,"KRN",.403,0)
.403
"BLD",8327,"KRN",.5,0)
.5
"BLD",8327,"KRN",.84,0)
.84
"BLD",8327,"KRN",3.6,0)
3.6
"BLD",8327,"KRN",3.6,"NM",0)
^9.68A^7^7
"BLD",8327,"KRN",3.6,"NM",1,0)
A1AE COMPLETED PATCH^^0
"BLD",8327,"KRN",3.6,"NM",2,0)
A1AE COMPLIANCE DATE EDIT^^0
"BLD",8327,"KRN",3.6,"NM",3,0)
A1AE ENTERED IN ERROR PATCH^^0
"BLD",8327,"KRN",3.6,"NM",4,0)
A1AE PKG^^0
"BLD",8327,"KRN",3.6,"NM",5,0)
A1AE RETIRED PATCH^^0
"BLD",8327,"KRN",3.6,"NM",6,0)
A1AE VERIFIED PACKAGE^^0
"BLD",8327,"KRN",3.6,"NM",7,0)
A1AE VERIFIED PATCH^^0
"BLD",8327,"KRN",3.6,"NM","B","A1AE COMPLETED PATCH",1)

"BLD",8327,"KRN",3.6,"NM","B","A1AE COMPLIANCE DATE EDIT",2)

"BLD",8327,"KRN",3.6,"NM","B","A1AE ENTERED IN ERROR PATCH",3)

"BLD",8327,"KRN",3.6,"NM","B","A1AE PKG",4)

"BLD",8327,"KRN",3.6,"NM","B","A1AE RETIRED PATCH",5)

"BLD",8327,"KRN",3.6,"NM","B","A1AE VERIFIED PACKAGE",6)

"BLD",8327,"KRN",3.6,"NM","B","A1AE VERIFIED PATCH",7)

"BLD",8327,"KRN",3.8,0)
3.8
"BLD",8327,"KRN",3.8,"NM",0)
^9.68A^3^3
"BLD",8327,"KRN",3.8,"NM",1,0)
A1AE HFS MESSAGES^^0
"BLD",8327,"KRN",3.8,"NM",2,0)
A1AE PACKAGE RELEASE^^0
"BLD",8327,"KRN",3.8,"NM",3,0)
A1AE PATCH ERRORS^^0
"BLD",8327,"KRN",3.8,"NM","B","A1AE HFS MESSAGES",1)

"BLD",8327,"KRN",3.8,"NM","B","A1AE PACKAGE RELEASE",2)

"BLD",8327,"KRN",3.8,"NM","B","A1AE PATCH ERRORS",3)

"BLD",8327,"KRN",9.2,0)
9.2
"BLD",8327,"KRN",9.8,0)
9.8
"BLD",8327,"KRN",9.8,"NM",0)
^9.68A^47^44
"BLD",8327,"KRN",9.8,"NM",1,0)
A1AE^^0^B1182477
"BLD",8327,"KRN",9.8,"NM",2,0)
A1AEAU^^0^B22106203
"BLD",8327,"KRN",9.8,"NM",3,0)
A1AECL1^^0^B10769176
"BLD",8327,"KRN",9.8,"NM",4,0)
A1AECOPD^^0^B22592186
"BLD",8327,"KRN",9.8,"NM",5,0)
A1AECOPR^^0^B25294236
"BLD",8327,"KRN",9.8,"NM",6,0)
A1AECOPY^^0^B25072086
"BLD",8327,"KRN",9.8,"NM",7,0)
A1AEHSVR^^0^B8406742
"BLD",8327,"KRN",9.8,"NM",8,0)
A1AEKEY^^0^B21266795
"BLD",8327,"KRN",9.8,"NM",9,0)
A1AEKEY6^^0^B21193544
"BLD",8327,"KRN",9.8,"NM",10,0)
A1AEM^^0^B25481922
"BLD",8327,"KRN",9.8,"NM",11,0)
A1AEM1^^0^B55737658
"BLD",8327,"KRN",9.8,"NM",12,0)
A1AEM2^^0^B9023362
"BLD",8327,"KRN",9.8,"NM",13,0)
A1AEMAL^^0^B25226779
"BLD",8327,"KRN",9.8,"NM",14,0)
A1AEMAL1^^0^B21768452
"BLD",8327,"KRN",9.8,"NM",15,0)
A1AEMGR^^0^B11149395
"BLD",8327,"KRN",9.8,"NM",18,0)
A1AEPB^^0^B970607
"BLD",8327,"KRN",9.8,"NM",19,0)
A1AEPB1^^0^B13048468
"BLD",8327,"KRN",9.8,"NM",20,0)
A1AEPB2^^0^B1246522
"BLD",8327,"KRN",9.8,"NM",21,0)
A1AEPH^^0^B912927
"BLD",8327,"KRN",9.8,"NM",22,0)
A1AEPH1^^0^B32841655
"BLD",8327,"KRN",9.8,"NM",23,0)
A1AEPH2^^0^B43690790
"BLD",8327,"KRN",9.8,"NM",24,0)
A1AEPH3^^0^B8583637
"BLD",8327,"KRN",9.8,"NM",25,0)
A1AEPH4^^0^B12432934
"BLD",8327,"KRN",9.8,"NM",26,0)
A1AEPH5^^0^B8392255
"BLD",8327,"KRN",9.8,"NM",27,0)
A1AEPH6^^0^B21002501
"BLD",8327,"KRN",9.8,"NM",28,0)
A1AEPH7^^0^B143295
"BLD",8327,"KRN",9.8,"NM",29,0)
A1AEPH8^^0^B13651595
"BLD",8327,"KRN",9.8,"NM",30,0)
A1AEPHPK^^0^B34583085
"BLD",8327,"KRN",9.8,"NM",31,0)
A1AEPHS^^0^B66009955
"BLD",8327,"KRN",9.8,"NM",32,0)
A1AEPHSX^^0^B11332371
"BLD",8327,"KRN",9.8,"NM",33,0)
A1AEPHSZ^^0^B13656283
"BLD",8327,"KRN",9.8,"NM",34,0)
A1AEPK^^0^B40427646
"BLD",8327,"KRN",9.8,"NM",35,0)
A1AEPRE^^0^B5253495
"BLD",8327,"KRN",9.8,"NM",36,0)
A1AERCON^^0^B5359981
"BLD",8327,"KRN",9.8,"NM",37,0)
A1AERD^^0^B4000086
"BLD",8327,"KRN",9.8,"NM",38,0)
A1AESP^^0^B24364626
"BLD",8327,"KRN",9.8,"NM",40,0)
A1AEUTL^^0^B30602835
"BLD",8327,"KRN",9.8,"NM",41,0)
A1AEUTL1^^0^B11413247
"BLD",8327,"KRN",9.8,"NM",42,0)
A1AEUTL2^^0^B12885096
"BLD",8327,"KRN",9.8,"NM",43,0)
A1AEUTL3^^0^B7005914
"BLD",8327,"KRN",9.8,"NM",44,0)
A1AEVP^^0^B30091569
"BLD",8327,"KRN",9.8,"NM",45,0)
A1AEVP1^^0^B8362076
"BLD",8327,"KRN",9.8,"NM",46,0)
A1AEZCON^^0^B10452406
"BLD",8327,"KRN",9.8,"NM",47,0)
A1AEZTST^^0^B1905853
"BLD",8327,"KRN",9.8,"NM","B","A1AE",1)

"BLD",8327,"KRN",9.8,"NM","B","A1AEAU",2)

"BLD",8327,"KRN",9.8,"NM","B","A1AECL1",3)

"BLD",8327,"KRN",9.8,"NM","B","A1AECOPD",4)

"BLD",8327,"KRN",9.8,"NM","B","A1AECOPR",5)

"BLD",8327,"KRN",9.8,"NM","B","A1AECOPY",6)

"BLD",8327,"KRN",9.8,"NM","B","A1AEHSVR",7)

"BLD",8327,"KRN",9.8,"NM","B","A1AEKEY",8)

"BLD",8327,"KRN",9.8,"NM","B","A1AEKEY6",9)

"BLD",8327,"KRN",9.8,"NM","B","A1AEM",10)

"BLD",8327,"KRN",9.8,"NM","B","A1AEM1",11)

"BLD",8327,"KRN",9.8,"NM","B","A1AEM2",12)

"BLD",8327,"KRN",9.8,"NM","B","A1AEMAL",13)

"BLD",8327,"KRN",9.8,"NM","B","A1AEMAL1",14)

"BLD",8327,"KRN",9.8,"NM","B","A1AEMGR",15)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPB",18)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPB1",19)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPB2",20)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH",21)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH1",22)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH2",23)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH3",24)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH4",25)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH5",26)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH6",27)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH7",28)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPH8",29)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPHPK",30)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPHS",31)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPHSX",32)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPHSZ",33)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPK",34)

"BLD",8327,"KRN",9.8,"NM","B","A1AEPRE",35)

"BLD",8327,"KRN",9.8,"NM","B","A1AERCON",36)

"BLD",8327,"KRN",9.8,"NM","B","A1AERD",37)

"BLD",8327,"KRN",9.8,"NM","B","A1AESP",38)

"BLD",8327,"KRN",9.8,"NM","B","A1AEUTL",40)

"BLD",8327,"KRN",9.8,"NM","B","A1AEUTL1",41)

"BLD",8327,"KRN",9.8,"NM","B","A1AEUTL2",42)

"BLD",8327,"KRN",9.8,"NM","B","A1AEUTL3",43)

"BLD",8327,"KRN",9.8,"NM","B","A1AEVP",44)

"BLD",8327,"KRN",9.8,"NM","B","A1AEVP1",45)

"BLD",8327,"KRN",9.8,"NM","B","A1AEZCON",46)

"BLD",8327,"KRN",9.8,"NM","B","A1AEZTST",47)

"BLD",8327,"KRN",19,0)
19
"BLD",8327,"KRN",19,"NM",0)
^9.68A^65^65
"BLD",8327,"KRN",19,"NM",1,0)
A1AE AUTHORIZED DOMAINS^^0
"BLD",8327,"KRN",19,"NM",2,0)
A1AE COMPLIANCE COMMENT PRT^^0
"BLD",8327,"KRN",19,"NM",3,0)
A1AE COMPLIANCE DISPLAY^^0
"BLD",8327,"KRN",19,"NM",4,0)
A1AE COMPLIANCE EDIT^^0
"BLD",8327,"KRN",19,"NM",5,0)
A1AE COPY PATCH^^0
"BLD",8327,"KRN",19,"NM",6,0)
A1AE DEV CREATE^^0
"BLD",8327,"KRN",19,"NM",7,0)
A1AE DEV FORWARD^^0
"BLD",8327,"KRN",19,"NM",8,0)
A1AE DEVELOPER^^0
"BLD",8327,"KRN",19,"NM",9,0)
A1AE DISCOMPH^^0
"BLD",8327,"KRN",19,"NM",10,0)
A1AE FORWARD^^0
"BLD",8327,"KRN",19,"NM",11,0)
A1AE FULL SUMMARY BY DATE^^0
"BLD",8327,"KRN",19,"NM",12,0)
A1AE HFS CHKSUM SVR^^0
"BLD",8327,"KRN",19,"NM",13,0)
A1AE MGR^^0
"BLD",8327,"KRN",19,"NM",14,0)
A1AE MGRADD^^0
"BLD",8327,"KRN",19,"NM",15,0)
A1AE PATCHDOC^^0
"BLD",8327,"KRN",19,"NM",16,0)
A1AE PBADD^^0
"BLD",8327,"KRN",19,"NM",17,0)
A1AE PBDEL^^0
"BLD",8327,"KRN",19,"NM",18,0)
A1AE PBEDIT^^0
"BLD",8327,"KRN",19,"NM",19,0)
A1AE PBPROBLEM^^0
"BLD",8327,"KRN",19,"NM",20,0)
A1AE PBPRT^^0
"BLD",8327,"KRN",19,"NM",21,0)
A1AE PBRESREV^^0
"BLD",8327,"KRN",19,"NM",22,0)
A1AE PHADD^^0
"BLD",8327,"KRN",19,"NM",23,0)
A1AE PHDEL^^0
"BLD",8327,"KRN",19,"NM",24,0)
A1AE PHEDIT^^0
"BLD",8327,"KRN",19,"NM",25,0)
A1AE PHEXTEND^^0
"BLD",8327,"KRN",19,"NM",26,0)
A1AE PHVER^^0
"BLD",8327,"KRN",19,"NM",27,0)
A1AE PKADD^^0
"BLD",8327,"KRN",19,"NM",28,0)
A1AE PKDEL^^0
"BLD",8327,"KRN",19,"NM",29,0)
A1AE PKEDIT^^0
"BLD",8327,"KRN",19,"NM",30,0)
A1AE PKGEDIT^^0
"BLD",8327,"KRN",19,"NM",31,0)
A1AE PKGLIST^^0
"BLD",8327,"KRN",19,"NM",32,0)
A1AE PKGMGT^^0
"BLD",8327,"KRN",19,"NM",33,0)
A1AE PKGPRT^^0
"BLD",8327,"KRN",19,"NM",34,0)
A1AE PKGSEL^^0
"BLD",8327,"KRN",19,"NM",35,0)
A1AE PKMENU^^0
"BLD",8327,"KRN",19,"NM",36,0)
A1AE PKVER^^0
"BLD",8327,"KRN",19,"NM",37,0)
A1AE POST VERIFY^^0
"BLD",8327,"KRN",19,"NM",38,0)
A1AE PRT SUM DT ORG^^0
"BLD",8327,"KRN",19,"NM",39,0)
A1AE PRTCNRP^^0
"BLD",8327,"KRN",19,"NM",40,0)
A1AE PRTCOMDETDT^^0
"BLD",8327,"KRN",19,"NM",41,0)
A1AE PRTCOMPH^^0
"BLD",8327,"KRN",19,"NM",42,0)
A1AE PRTCOMPHDTE^^0
"BLD",8327,"KRN",19,"NM",43,0)
A1AE PRTCOMPHVER^^0
"BLD",8327,"KRN",19,"NM",44,0)
A1AE PRTCOMSUMDT^^0
"BLD",8327,"KRN",19,"NM",45,0)
A1AE PRTDETDT ORG^^0
"BLD",8327,"KRN",19,"NM",46,0)
A1AE PRTNEWPH^^0
"BLD",8327,"KRN",19,"NM",47,0)
A1AE PRTNEWPHNUM^^0
"BLD",8327,"KRN",19,"NM",48,0)
A1AE PRTPHA^^0
"BLD",8327,"KRN",19,"NM",49,0)
A1AE PRTPHD^^0
"BLD",8327,"KRN",19,"NM",50,0)
A1AE PRTPHS^^0
"BLD",8327,"KRN",19,"NM",51,0)
A1AE PRTPHS ORG^^0
"BLD",8327,"KRN",19,"NM",52,0)
A1AE PRTUDP^^0
"BLD",8327,"KRN",19,"NM",53,0)
A1AE PRTUDVPH^^0
"BLD",8327,"KRN",19,"NM",54,0)
A1AE PRTUDVPH VER^^0
"BLD",8327,"KRN",19,"NM",55,0)
A1AE PRTVRPH^^0
"BLD",8327,"KRN",19,"NM",56,0)
A1AE RELEASE SUMMARY^^0
"BLD",8327,"KRN",19,"NM",57,0)
A1AE ROUTINE INQUIRE^^0
"BLD",8327,"KRN",19,"NM",58,0)
A1AE ROUTINES IN A PATCH^^0
"BLD",8327,"KRN",19,"NM",59,0)
A1AE ROUTINES THAT OVERLAP^^0
"BLD",8327,"KRN",19,"NM",60,0)
A1AE SERVER VERIFIED^^0
"BLD",8327,"KRN",19,"NM",61,0)
A1AE SUPPORT^^0
"BLD",8327,"KRN",19,"NM",62,0)
A1AE TEST SCANNER^^0
"BLD",8327,"KRN",19,"NM",63,0)
A1AE USER^^0
"BLD",8327,"KRN",19,"NM",64,0)
A1AE VERIFIER^^0
"BLD",8327,"KRN",19,"NM",65,0)
A1AE XUSEC^^0
"BLD",8327,"KRN",19,"NM","B","A1AE AUTHORIZED DOMAINS",1)

"BLD",8327,"KRN",19,"NM","B","A1AE COMPLIANCE COMMENT PRT",2)

"BLD",8327,"KRN",19,"NM","B","A1AE COMPLIANCE DISPLAY",3)

"BLD",8327,"KRN",19,"NM","B","A1AE COMPLIANCE EDIT",4)

"BLD",8327,"KRN",19,"NM","B","A1AE COPY PATCH",5)

"BLD",8327,"KRN",19,"NM","B","A1AE DEV CREATE",6)

"BLD",8327,"KRN",19,"NM","B","A1AE DEV FORWARD",7)

"BLD",8327,"KRN",19,"NM","B","A1AE DEVELOPER",8)

"BLD",8327,"KRN",19,"NM","B","A1AE DISCOMPH",9)

"BLD",8327,"KRN",19,"NM","B","A1AE FORWARD",10)

"BLD",8327,"KRN",19,"NM","B","A1AE FULL SUMMARY BY DATE",11)

"BLD",8327,"KRN",19,"NM","B","A1AE HFS CHKSUM SVR",12)

"BLD",8327,"KRN",19,"NM","B","A1AE MGR",13)

"BLD",8327,"KRN",19,"NM","B","A1AE MGRADD",14)

"BLD",8327,"KRN",19,"NM","B","A1AE PATCHDOC",15)

"BLD",8327,"KRN",19,"NM","B","A1AE PBADD",16)

"BLD",8327,"KRN",19,"NM","B","A1AE PBDEL",17)

"BLD",8327,"KRN",19,"NM","B","A1AE PBEDIT",18)

"BLD",8327,"KRN",19,"NM","B","A1AE PBPROBLEM",19)

"BLD",8327,"KRN",19,"NM","B","A1AE PBPRT",20)

"BLD",8327,"KRN",19,"NM","B","A1AE PBRESREV",21)

"BLD",8327,"KRN",19,"NM","B","A1AE PHADD",22)

"BLD",8327,"KRN",19,"NM","B","A1AE PHDEL",23)

"BLD",8327,"KRN",19,"NM","B","A1AE PHEDIT",24)

"BLD",8327,"KRN",19,"NM","B","A1AE PHEXTEND",25)

"BLD",8327,"KRN",19,"NM","B","A1AE PHVER",26)

"BLD",8327,"KRN",19,"NM","B","A1AE PKADD",27)

"BLD",8327,"KRN",19,"NM","B","A1AE PKDEL",28)

"BLD",8327,"KRN",19,"NM","B","A1AE PKEDIT",29)

"BLD",8327,"KRN",19,"NM","B","A1AE PKGEDIT",30)

"BLD",8327,"KRN",19,"NM","B","A1AE PKGLIST",31)

"BLD",8327,"KRN",19,"NM","B","A1AE PKGMGT",32)

"BLD",8327,"KRN",19,"NM","B","A1AE PKGPRT",33)

"BLD",8327,"KRN",19,"NM","B","A1AE PKGSEL",34)

"BLD",8327,"KRN",19,"NM","B","A1AE PKMENU",35)

"BLD",8327,"KRN",19,"NM","B","A1AE PKVER",36)

"BLD",8327,"KRN",19,"NM","B","A1AE POST VERIFY",37)

"BLD",8327,"KRN",19,"NM","B","A1AE PRT SUM DT ORG",38)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTCNRP",39)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTCOMDETDT",40)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTCOMPH",41)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTCOMPHDTE",42)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTCOMPHVER",43)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTCOMSUMDT",44)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTDETDT ORG",45)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTNEWPH",46)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTNEWPHNUM",47)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTPHA",48)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTPHD",49)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTPHS",50)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTPHS ORG",51)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTUDP",52)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTUDVPH",53)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTUDVPH VER",54)

"BLD",8327,"KRN",19,"NM","B","A1AE PRTVRPH",55)

"BLD",8327,"KRN",19,"NM","B","A1AE RELEASE SUMMARY",56)

"BLD",8327,"KRN",19,"NM","B","A1AE ROUTINE INQUIRE",57)

"BLD",8327,"KRN",19,"NM","B","A1AE ROUTINES IN A PATCH",58)

"BLD",8327,"KRN",19,"NM","B","A1AE ROUTINES THAT OVERLAP",59)

"BLD",8327,"KRN",19,"NM","B","A1AE SERVER VERIFIED",60)

"BLD",8327,"KRN",19,"NM","B","A1AE SUPPORT",61)

"BLD",8327,"KRN",19,"NM","B","A1AE TEST SCANNER",62)

"BLD",8327,"KRN",19,"NM","B","A1AE USER",63)

"BLD",8327,"KRN",19,"NM","B","A1AE VERIFIER",64)

"BLD",8327,"KRN",19,"NM","B","A1AE XUSEC",65)

"BLD",8327,"KRN",19.1,0)
19.1
"BLD",8327,"KRN",19.1,"NM",0)
^9.68A^8^8
"BLD",8327,"KRN",19.1,"NM",1,0)
A1AE COMPDATE^^0
"BLD",8327,"KRN",19.1,"NM",2,0)
A1AE DEVELOPER^^0
"BLD",8327,"KRN",19.1,"NM",3,0)
A1AE MGR^^0
"BLD",8327,"KRN",19.1,"NM",4,0)
A1AE PHVER^^0
"BLD",8327,"KRN",19.1,"NM",5,0)
A1AE PKGEDIT^^0
"BLD",8327,"KRN",19.1,"NM",6,0)
A1AE SCAN MESSAGE^^0
"BLD",8327,"KRN",19.1,"NM",7,0)
A1AE SUPPORT^^0
"BLD",8327,"KRN",19.1,"NM",8,0)
A1AE XUSEC^^0
"BLD",8327,"KRN",19.1,"NM","B","A1AE COMPDATE",1)

"BLD",8327,"KRN",19.1,"NM","B","A1AE DEVELOPER",2)

"BLD",8327,"KRN",19.1,"NM","B","A1AE MGR",3)

"BLD",8327,"KRN",19.1,"NM","B","A1AE PHVER",4)

"BLD",8327,"KRN",19.1,"NM","B","A1AE PKGEDIT",5)

"BLD",8327,"KRN",19.1,"NM","B","A1AE SCAN MESSAGE",6)

"BLD",8327,"KRN",19.1,"NM","B","A1AE SUPPORT",7)

"BLD",8327,"KRN",19.1,"NM","B","A1AE XUSEC",8)

"BLD",8327,"KRN",101,0)
101
"BLD",8327,"KRN",409.61,0)
409.61
"BLD",8327,"KRN",771,0)
771
"BLD",8327,"KRN",870,0)
870
"BLD",8327,"KRN",8989.51,0)
8989.51
"BLD",8327,"KRN",8989.52,0)
8989.52
"BLD",8327,"KRN",8994,0)
8994
"BLD",8327,"KRN","B",.4,.4)

"BLD",8327,"KRN","B",.401,.401)

"BLD",8327,"KRN","B",.402,.402)

"BLD",8327,"KRN","B",.403,.403)

"BLD",8327,"KRN","B",.5,.5)

"BLD",8327,"KRN","B",.84,.84)

"BLD",8327,"KRN","B",3.6,3.6)

"BLD",8327,"KRN","B",3.8,3.8)

"BLD",8327,"KRN","B",9.2,9.2)

"BLD",8327,"KRN","B",9.8,9.8)

"BLD",8327,"KRN","B",19,19)

"BLD",8327,"KRN","B",19.1,19.1)

"BLD",8327,"KRN","B",101,101)

"BLD",8327,"KRN","B",409.61,409.61)

"BLD",8327,"KRN","B",771,771)

"BLD",8327,"KRN","B",870,870)

"BLD",8327,"KRN","B",8989.51,8989.51)

"BLD",8327,"KRN","B",8989.52,8989.52)

"BLD",8327,"KRN","B",8994,8994)

"BLD",8327,"QDEF")
^^^^^^^^YES
"BLD",8327,"QUES",0)
^9.62^^
"FIA",11005)
DHCP PATCHES
"FIA",11005,0)
^A1AE(11005,
"FIA",11005,0,0)
11005I
"FIA",11005,0,1)
y^y^f^^^^n
"FIA",11005,0,10)

"FIA",11005,0,11)

"FIA",11005,0,"RLRO")

"FIA",11005,0,"VR")
2.3^A1AE
"FIA",11005,11005)
0
"FIA",11005,11005.01)
0
"FIA",11005,11005.016)
0
"FIA",11005,11005.019)
0
"FIA",11005,11005.02)
0
"FIA",11005,11005.03)
0
"FIA",11005,11005.04)
0
"FIA",11005,11005.05)
0
"FIA",11005,11005.06)
0
"FIA",11005,11005.07)
0
"FIA",11005,11005.08)
0
"FIA",11005,11005.09)
0
"FIA",11005,11005.32)
0
"FIA",11005.1)
DHCP PATCH MESSAGE
"FIA",11005.1,0)
^A1AE(11005.1,
"FIA",11005.1,0,0)
11005.1P
"FIA",11005.1,0,1)
y^y^f^^^^n
"FIA",11005.1,0,10)

"FIA",11005.1,0,11)

"FIA",11005.1,0,"RLRO")

"FIA",11005.1,0,"VR")
2.3^A1AE
"FIA",11005.1,11005.1)
0
"FIA",11005.1,11005.11)
0
"FIA",11005.5)
DHCP HFS MESSAGE
"FIA",11005.5,0)
^A1AE(11005.5,
"FIA",11005.5,0,0)
11005.5P
"FIA",11005.5,0,1)
y^y^f^^^^n
"FIA",11005.5,0,10)

"FIA",11005.5,0,11)

"FIA",11005.5,0,"RLRO")

"FIA",11005.5,0,"VR")
2.3^A1AE
"FIA",11005.5,11005.5)
0
"FIA",11005.5,11005.511)
0
"FIA",11005.5,11005.521)
0
"FIA",11006)
DHCP PROBLEMS
"FIA",11006,0)
^A1AE(11006,
"FIA",11006,0,0)
11006I
"FIA",11006,0,1)
y^y^f^^^^n
"FIA",11006,0,10)

"FIA",11006,0,11)

"FIA",11006,0,"RLRO")

"FIA",11006,0,"VR")
2.3^A1AE
"FIA",11006,11006)
0
"FIA",11006,11006.01)
0
"FIA",11006,11006.02)
0
"FIA",11006,11006.03)
0
"FIA",11007)
DHCP PATCH/PROBLEM PACKAGE
"FIA",11007,0)
^A1AE(11007,
"FIA",11007,0,0)
11007PI
"FIA",11007,0,1)
y^y^f^^^^n^^
"FIA",11007,0,10)

"FIA",11007,0,11)

"FIA",11007,0,"RLRO")

"FIA",11007,0,"VR")
2.3^A1AE
"FIA",11007,11007)
0
"FIA",11007,11007.01)
0
"FIA",11007,11007.02)
0
"FIA",11007,11007.03)
0
"FIA",11007,11007.04)
0
"FIA",11007,11007.05)
0
"KRN",.4,2461,-1)
0^14
"KRN",.4,2461,0)
A1AE TABLED PROBLEM^2860128^^11006^^^^
"KRN",.4,2461,"F",1)
"Problem Designation:";C1~.01;""~5;C40;""~"Reporting Station:";C1;S1~6;""~"Reported By/Phone:";C1~7;""~"Date Reported:";C1~9;""~
"KRN",.4,2461,"F",2)
"Problem Description:";C1;S1~5.5,.01;""~"Current Status of Problem:";C1;S1~10;""~
"KRN",.4,2461,"F",3)
W !!,"----------------------------TABLED DETAILS-------------------------------------";X;Z;"W !!,"----------------------------TABLED DETAILS-------------------------------------""~
"KRN",.4,2461,"F",4)
"Problem Tabled by:";C1;S1~15;""~"Date Tabled:";C1~11;""~"Tabled Comments:";C1~11.5,.01;""~W ! F I=1:1:79 W "-";X;Z;"W ! F I=1:1:79 W "-""~
"KRN",.4,2461,"H")
TABLED PROBLEMS
"KRN",.4,2462,-1)
0^8
"KRN",.4,2462,0)
A1AE PROBLEM DETAILS^2860128^^11006^^^^
"KRN",.4,2462,"F",1)
"Problem Designation:";C1~.01;""~5;C40;""~"Reporting Station:";C1;S1~6;""~"Reported By/Phone:";C1~7;""~"Date Reported:";C1~9;""~
"KRN",.4,2462,"F",2)
"Problem Description:";C1;S1~5.5,.01;""~"Current Status of Problem:";C1;S1~10;""~W ! F I=1:1:79 W "-";X;Z;"W ! F I=1:1:79 W "-""~
"KRN",.4,2462,"H")
PROBLEM DETAILS
"KRN",.4,2463,-1)
0^7
"KRN",.4,2463,0)
A1AE PATCH SUMMARY^2920929.1347^^11005^^^3060223^
"KRN",.4,2463,"DXS",1,9)
S YY=^(0),YZ=$P(YY,U,8),Y=$S(YZ="v":$P(YY,U,11),YZ="c":$P(YY,U,10),YZ="u":$P(YY,U,12),1:"") I Y]"" D TM^A1AEUTL1 W ?50,Y K YY,YZ
"KRN",.4,2463,"F",1)
.01;"Designation";L13;C1~5;"Subject";L30;C15~8;L1;C48;X~
"KRN",.4,2463,"F",2)
X DXS(1,9);"Status";Z;"S YY=^(0),YZ=$P(YY,U,8),Y=$S(YZ="v":$P(YY,U,11),YZ="c":$P(YY,U,10),YZ="u":$P(YY,U,12),1:"") I Y]"" D TM^A1AEUTL1 W ?50,Y K YY,YZ"~
"KRN",.4,2463,"F",3)
100,.01;"Routine";C64;L8~"-----------------------------------------------------------------------------";C1~
"KRN",.4,2463,"H")
DHCP Patch Summary Report
"KRN",.4,2464,-1)
0^13
"KRN",.4,2464,0)
A1AE STANDARD PRINT^3050929.1649^^11005^^^3070104
"KRN",.4,2464,"DXS",1,9)
I $D(^A1AE(11005,D0,"Q","B")) S A1AEPD=$P(^A1AE(11005,D0,0),"^"),PRINT="" D PCHK^A1AEUTL1 K AZ,PRINT
"KRN",.4,2464,"DXS",2,"d")
DATA DICTIONARY
"KRN",.4,2464,"DXS",2,"db")
DATABASE
"KRN",.4,2464,"DXS",2,"e")
ENHANCEMENT
"KRN",.4,2464,"DXS",2,"i")
INPUT TEMPLATE
"KRN",.4,2464,"DXS",2,"inf")
INFORMATIONAL
"KRN",.4,2464,"DXS",2,"o")
OTHER
"KRN",.4,2464,"DXS",2,"p")
PRINT TEMPLATE
"KRN",.4,2464,"DXS",2,"pp")
PATCH FOR A PATCH
"KRN",.4,2464,"DXS",2,"r")
ROUTINE
"KRN",.4,2464,"DXS",2,"s")
SORT TEMPLATE
"KRN",.4,2464,"F",1)
X DXS(1,9);Z;"I $D(^A1AE(11005,D0,"Q","B")) S A1AEPD=$P(^A1AE(11005,D0,0),"^"),PRINT="" D PCHK^A1AEUTL1 K AZ,PRINT"~"Subject:";C1;S1~5;"";L70~
"KRN",.4,2464,"F",2)
"Category:";C1;S1~6.5,.01;""~"Description:";C1;S1~"===========";C1~" ";C1~5.5,.01;"";C1~"Routine Information:";C1;S2~"====================";C1~
"KRN",.4,2464,"F",3)
D RTNINFO^A1AEUTL2();C1;S1;Z;"D RTNINFO^A1AEUTL2()"~"=============================================================================";C1;S2~
"KRN",.4,2464,"F",4)
"User Information:";C1~
"KRN",.4,2464,"F",5)
S Y=$P(^A1AE(11005,D0,0),"^",17) I Y X ^DD("DD") W ?40,"   Hold Date :   "_Y;Z;"S Y=$P(^A1AE(11005,D0,0),"^",17) I Y X ^DD("DD") W ?40,"   Hold Date :   "_Y"~
"KRN",.4,2464,"F",6)
"Entered By  : ";C3~9;L20;""~"Date Entered  : ";C40~12;L15;""~"Completed By: ";C3~13;L20;""~"Date Completed: ";C40~10;L15;""~"Released By : ";C3~
"KRN",.4,2464,"F",7)
14;L20;""~"Date Released : ";C40~11;L15;""~"=============================================================================";C1~
"KRN",.4,2464,"F",8)
S:'$D(A1AEHD) A1AEHD="Patch Details" D PRT^A1AEUTL:A1AEHD'["Display"&(A1AEOUT'["^");X;Z;"S:'$D(A1AEHD) A1AEHD="Patch Details" D PRT^A1AEUTL:A1AEHD'["Display"&(A1AEOUT'["^")"~
"KRN",.4,2464,"H")
@
"KRN",.4,2464,"IOM")
80
"KRN",.4,2464,"LAST")

"KRN",.4,2464,"ROU")
^A1AEP
"KRN",.4,2464,"ROUOLD")
A1AEP
"KRN",.4,2464,"SUB")
1
"KRN",.4,2465,-1)
0^12
"KRN",.4,2465,0)
A1AE STANDARD HEADER^2920929.1322^^11005^^^^
"KRN",.4,2465,"F",1)
W !,$S($D(A1AEHD):A1AEHD,1:"Patch Details");"";X;Z;"W !,$S($D(A1AEHD):A1AEHD,1:"Patch Details")"~
"KRN",.4,2465,"F",2)
S:'$D(A1AEPGE) A1AEPGE=0 S A1AEPGE=A1AEPGE+1 W ?70,"Page: ",A1AEPGE;"";X;Z;"S:'$D(A1AEPGE) A1AEPGE=0 S A1AEPGE=A1AEPGE+1 W ?70,"Page: ",A1AEPGE"~
"KRN",.4,2465,"F",3)
"=============================================================================";C1~
"KRN",.4,2465,"F",4)
W !,"Run Date:  " S Y=DT D DT^DIQ;"";X;Z;"W !,"Run Date:  " S Y=DT D DT^DIQ"~"Designation:";C44~.01;""~"Package :";C1~2;""~"Status     :";C44~8;""~
"KRN",.4,2465,"F",5)
"=============================================================================";C1~
"KRN",.4,2465,"H")
@
"KRN",.4,2465,"SUB")
1
"KRN",.4,2466,-1)
0^3
"KRN",.4,2466,0)
A1AE PACKAGE USERS^2860311^^11007^^^3100818^
"KRN",.4,2466,"F",1)
"Package:";C3~.01;""~"User Selection Allowed:";C40~2;""~"Developers: ";C3;S2~200,.01;"";C37~
"KRN",.4,2466,"F",2)
"-------------------------------------------------------------------------------";C1~"Support Personnel: ";C3~100,.01;C37;L25;""~100,2;"";C65~
"KRN",.4,2466,"F",3)
"-------------------------------------------------------------------------------";C1~"User Selected For Notification: ";C3~50,.01;C37;""~
"KRN",.4,2466,"H")
Package Users
"KRN",.4,2467,-1)
0^11
"KRN",.4,2467,0)
A1AE SELECTED USERS^2860328^@^11007^^@
"KRN",.4,2467,"DXS",1,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^A1AE(11007,D0,0)):^(0),1:""),D0=$P(DIP(1),U,1) S:'$D(^DIC(9.4,+D0,0)) D0=-1 S DIP(101)=$S($D(^DIC(9.4,D0,0)):^(0),1:"")
"KRN",.4,2467,"DXS",2,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^A1AE(11007,D0,1,D1,0)):^(0),1:""),D0=$P(DIP(1),U,1) S:'$D(^DIC(3,+D0,0)) D0=-1 S DIP(101)=$S($D(^DIC(3,D0,6000)):^(6000),1:"")
"KRN",.4,2467,"F",1)
X DXS(1,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;"Package";Z;".01:PREFIX"~50,.01;"User"~
"KRN",.4,2467,"F",2)
50,X DXS(2,9.2) S X=$P(DIP(101),U,1) S D0=I(0,0) W X K DIP;"";Z;".01:INSTITUTION"~
"KRN",.4,2467,"H")
Selected Users
"KRN",.4,2468,-1)
0^16
"KRN",.4,2468,0)
A1AEZPKE^2920715.1522^@^11005^^@^2920715
"KRN",.4,2468,"F",2)
.01;L12~5;L25~9;L14~12;L12~13;L14~10;L12~14;L14~11;L12~
"KRN",.4,2468,"H")
DHCP PATCHES LIST
"KRN",.4,2469,-1)
0^15
"KRN",.4,2469,0)
A1AE VERIFIED PATCH SUMMARY^3030804.1743^^11005^^^3100819^
"KRN",.4,2469,"DXS")
3
"KRN",.4,2469,"DXS",1,9)
S YY=^(0),YZ=$P(YY,U,8),Y=$S(YZ="v":$P(YY,U,11),YZ="c":$P(YY,U,10),YZ="u":$P(YY,U,12),1:"") I Y]"" D TM^A1AEUTL1 W ?61,Y K YZ
"KRN",.4,2469,"DXS",2,9)
I $D(^A1AE(11005,D0,"Q","B")) S A1AEPD=$P(^A1AE(11005,D0,0),"^"),PRINT="" D PCHK^A1AEUTL1 K AZ,PRINT,A1AEPD
"KRN",.4,2469,"F",1)
.01;"Patch ID";L13;C1~6;"SEQ";C15;R3~5;"Subject";L37;C20~8;L1;C60;X~
"KRN",.4,2469,"F",2)
X DXS(1,9);"Status";Z;"S YY=^(0),YZ=$P(YY,U,8),Y=$S(YZ="v":$P(YY,U,11),YZ="c":$P(YY,U,10),YZ="u":$P(YY,U,12),1:"") I Y]"" D TM^A1AEUTL1 W ?61,Y K YZ"~
"KRN",.4,2469,"F",3)
100,.01;"Routine";C72;L8~
"KRN",.4,2469,"F",4)
S Y=$P(YY,"^",17) I Y]"" D TM^A1AEUTL1 W !,?39,"Hold date  "_Y;X;Z;"S Y=$P(YY,"^",17) I Y]"" D TM^A1AEUTL1 W !,?39,"Hold date  "_Y"~
"KRN",.4,2469,"F",5)
X DXS(2,9);"";X;Z;"I $D(^A1AE(11005,D0,"Q","B")) S A1AEPD=$P(^A1AE(11005,D0,0),"^"),PRINT="" D PCHK^A1AEUTL1 K AZ,PRINT,A1AEPD"~
"KRN",.4,2469,"F",6)
"-------------------------------------------------------------------------------";C1~K YY,YZ;X;Z;"K YY,YZ"~
"KRN",.4,2469,"H")
DHCP Patch Summary Report
"KRN",.4,2470,-1)
0^6
"KRN",.4,2470,0)
A1AE PATCH OPTS DOC^2981106^^19^^^3100818
"KRN",.4,2470,"DXS",1,9.2)
S I(0,0)=$S($D(D0):D0,1:""),DIP(1)=$S($D(^DIC(19,D0,10,D1,0)):^(0),1:""),D0=$P(DIP(1),U,1) S:'$D(^DIC(19,+D0,0)) D0=-1 S DIP(101)=$S($D(^DIC(19,D0,0)):^(0),1:"")
"KRN",.4,2470,"F",1)
"Option Name:";C1~.01;""~"Menu Text:";C1;S1~1;""~":";C1;S1~3.5,.01;C3;S1;""~" ";C1;S1~
"KRN",.4,2470,"F",2)
I $P(^DIC(19,D0,0),U,4)="M" W "Menu Options:";X;Z;"I $P(19,D0,0),U,4)="M" W "Menu Options:""~" ";C1;S1~10,.01;C5;L15;""~
"KRN",.4,2470,"F",3)
10,X DXS(1,9.2) S X=$P(DIP(101),U,2) S D0=I(0,0) W X K DIP;5
"KRN",.4,2470,"F",4)
"-------------------------------------------------------------------------------";C1~
"KRN",.4,2470,"H")
National Patch Module Options
"KRN",.4,2471,-1)
0^1
"KRN",.4,2471,0)
A1AE FULL SUMMARY BY DATE^3020513.105^@^11005^^@^3100818
"KRN",.4,2471,"F",2)
.01;L15~5;L30~11~
"KRN",.4,2471,"H")
DHCP PATCHES SEARCH
"KRN",.4,2472,-1)
0^5
"KRN",.4,2472,0)
A1AE PATCH COMPLIANCE PRT^3030708.1903^^11005^^^3070314
"KRN",.4,2472,"F",2)
.01;C1;S1;""~7;"";C13~18~6.5,.01;C45;"CATEGORY"~2;C65;""~
"KRN",.4,2472,"H")
COMPLIANCE DATE REPORTS
"KRN",.4,2473,-1)
0^4
"KRN",.4,2473,0)
A1AE PATCH COMPL/COMMENT RPT^3070327.1^^11005^^^3100818
"KRN",.4,2473,"F",2)
.01;C1;S1;""~7;"";C13~18~6.5,.01;C45;"CATEGORY"~2;C62;L18~19,.01;"REASON FOR CHANGE"~
"KRN",.4,2473,"H")
PATCH COMPL/COMMENT RPT
"KRN",.4,2474,-1)
0^10
"KRN",.4,2474,0)
A1AE RTN CHECKSUM^3070612.1121^^9.8^^@^3100818
"KRN",.4,2474,"F",1)
.01;"Routine Name";L13~"Current Checksum: ";C2~7.2;X~" Date: ";C35~7.1;X~"Patch List: ";C8~7.3;X~"---Patch-----------Checksum----";C1~8,.01;C4;L15;X~
"KRN",.4,2474,"F",2)
8,2;X;C20~8,3;C4;X~
"KRN",.4,2474,"H")
Routine Checksum List
"KRN",.4,2475,-1)
0^9
"KRN",.4,2475,0)
A1AE ROUTINE INQUIRE^3070612.0933^^9.8^^@^3070612
"KRN",.4,2475,"F",1)
"Routine Name: ";C2~.01;X~"Checksum Report: ";C40~6;X~"Checksum Date: ";C3~7.1;X~"Checksum Value: ";C2~7.2;X~"Patch List: ";C6~7.3;X~8,"Patch: ";C5~
"KRN",.4,2475,"F",2)
8,.01;X~8,"Checksum: ";C40~8,2;X~
"KRN",.4,2475,"H")
ROUTINE LIST
"KRN",.4,2476,-1)
0^2
"KRN",.4,2476,0)
A1AE GT 500^3070614.1209^#^11007^^#^3070614
"KRN",.4,2476,"F",2)
.01~300,.01~300,26~
"KRN",.4,2476,"H")
DHCP PACKAGE'S >500 PATCHES
"KRN",.401,1637,-1)
0^5
"KRN",.401,1637,0)
A1AE PROBLEM SORT^2860128^^11006^^^^
"KRN",.401,1637,2,1)
11006^^PACKAGE^]@"2^
"KRN",.401,1637,2,1,"CM")
S Y(1)=$S($D(^A1AE(11006,D0,0)):^(0),1:"") S X=$S('$D(^DIC(9.4,+$P(Y(1),U,2),0)):"",1:$P(^(0),U,1)) I D0>0 S X(1)=X
"KRN",.401,1637,2,2)
11006^3^VERSION^@^
"KRN",.401,1637,2,3)
11006^10^STATUS OF PROBLEM^@^
"KRN",.401,1637,2,4)
11006^.01^PROBLEM DESIGNATION^@^
"KRN",.401,1637,2,4,"IX")
^A1AE(11006,"B",^A1AE(11006,^2
"KRN",.401,1638,-1)
0^10
"KRN",.401,1638,0)
A1AE STANDARD SORT^2860306^^11005^^^2961010^
"KRN",.401,1638,2,0)
^.4014^1^1
"KRN",.401,1638,2,1,0)
11005^.01^PATCH DESIGNATION^]#^^^^^^4
"KRN",.401,1638,2,1,"ASK")
1
"KRN",.401,1638,2,1,"F")
PRC*5)z^PRC*5*
"KRN",.401,1638,2,1,"GET")
S DISX(1)=$P($G(^A1AE(11005,D0,0)),U,1),Y=DISX(1) S Y(0)=Y S:$P(Y,"*",2)=999 $P(Y,"*",2)="DBA" S DISX(1)=Y
"KRN",.401,1638,2,1,"IX")
^A1AE(11005,"B",^A1AE(11005,^2
"KRN",.401,1638,2,1,"QCON")
I (DISX(1)]]"PRC*5)z")&(DISX(1)']]"PRC*5*999")
"KRN",.401,1638,2,1,"SER")
998^998
"KRN",.401,1638,2,1,"T")
PRC*5*999^PRC*5*999
"KRN",.401,1638,2,1,"TXT")
PATCH DESIGNATION from PRC*5* to PRC*5*999
"KRN",.401,1638,2,"B",11005,1)

"KRN",.401,1639,-1)
0^11
"KRN",.401,1639,0)
A1AE SUMMARY SORT^2961008.1347^^11005^^^3100817
"KRN",.401,1639,2,0)
^.4014^1^1
"KRN",.401,1639,2,1,0)
11005^^INTERNAL(#.01)^'@"^^^^^^4
"KRN",.401,1639,2,1,"ASK")
1
"KRN",.401,1639,2,1,"CM")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X I D0>0 S DISX(1)=X
"KRN",.401,1639,2,1,"F")
DSIR*5.2*  0z^DSIR*5.2*  1
"KRN",.401,1639,2,1,"GET")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X I D0>0 S DISX(1)=X
"KRN",.401,1639,2,1,"QCON")
I (DISX(1)]]"DSIR*5.2*  0z")&(DISX(1)']]"DSIR*999*999")
"KRN",.401,1639,2,1,"T")
DSIR*999*999^DSIR*999*999
"KRN",.401,1639,2,1,"TXT")
INTERNAL(#.01) from DSIR*5.2*  1 to DSIR*999*999
"KRN",.401,1639,2,"B",11005,1)

"KRN",.401,1640,-1)
0^12
"KRN",.401,1640,0)
A1AEZPKE^2920715.1449^@^11005^^@^2920715
"KRN",.401,1640,2,1)
11005^.01^PATCH DESIGNATION^^
"KRN",.401,1640,2,2)
11005^11^DATE PATCH VERIFIED^^
"KRN",.401,1640,2,2,"ASK")

"KRN",.401,1640,2,2,"F")
2920100.99999^1.1.92
"KRN",.401,1640,2,2,"T")
z^
"KRN",.401,1641,-1)
0^9
"KRN",.401,1641,0)
A1AE SEQ SUMMARY SORT^2950413.2038^^11005^^^2980226
"KRN",.401,1641,2,0)
^.4014^2^2
"KRN",.401,1641,2,1,0)
11005^^INTERNAL(#3)^@"^^^^^^4
"KRN",.401,1641,2,1,"ASK")
1
"KRN",.401,1641,2,1,"CM")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X I D0>0 S DISX(1)=X
"KRN",.401,1641,2,1,"F")
REFz^REG
"KRN",.401,1641,2,1,"GET")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X I D0>0 S DISX(1)=X
"KRN",.401,1641,2,1,"QCON")
I DISX(1)]]"REFz"
"KRN",.401,1641,2,1,"T")
z^
"KRN",.401,1641,2,1,"TXT")
INTERNAL(#3) from REG
"KRN",.401,1641,2,2,0)
11005^6^SEQUENTIAL RELEASE NUMBER^^^^^^^2
"KRN",.401,1641,2,2,"ASK")
1
"KRN",.401,1641,2,2,"F")
?z^@
"KRN",.401,1641,2,2,"GET")
S DISX(2)=$P($G(^A1AE(11005,D0,0)),U,6)
"KRN",.401,1641,2,2,"QCON")
I DISX(2)'=""
"KRN",.401,1641,2,2,"SER")
0.2772^0.2772
"KRN",.401,1641,2,2,"T")
99999^99999
"KRN",.401,1641,2,2,"TXT")
SEQUENTIAL RELEASE NUMBER not null
"KRN",.401,1641,2,"B",11005,1)

"KRN",.401,1641,2,"B",11005,2)

"KRN",.401,1642,-1)
0^7
"KRN",.401,1642,0)
A1AE SEQ REV SUMMARY SORT^2950413.2035^^11005^^^2980225
"KRN",.401,1642,2,0)
^.4014^2^2
"KRN",.401,1642,2,1,0)
11005^^INTERNAL(#3)^@"^^^^^^4
"KRN",.401,1642,2,1,"ASK")
1
"KRN",.401,1642,2,1,"CM")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X I D0>0 S DISX(1)=X
"KRN",.401,1642,2,1,"F")
-1^0
"KRN",.401,1642,2,1,"GET")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,3),X=X I D0>0 S DISX(1)=X
"KRN",.401,1642,2,1,"QCON")
I (DISX(1)]]-1)&(DISX(1)']]99999)
"KRN",.401,1642,2,1,"T")
99999^99999
"KRN",.401,1642,2,1,"TXT")
INTERNAL(#3) from 0 to 99999
"KRN",.401,1642,2,2,0)
11005^6^SEQUENTIAL RELEASE NUMBER^-^^^^^^2
"KRN",.401,1642,2,2,"ASK")
1
"KRN",.401,1642,2,2,"F")
?z^@
"KRN",.401,1642,2,2,"GET")
S DISX(2)=$P($G(^A1AE(11005,D0,0)),U,6)
"KRN",.401,1642,2,2,"QCON")
I DISX(2)']]99999
"KRN",.401,1642,2,2,"SER")
0.0000^0.0000
"KRN",.401,1642,2,2,"T")
99999^99999
"KRN",.401,1642,2,2,"TXT")
SEQUENTIAL RELEASE NUMBER to 99999 (includes nulls)
"KRN",.401,1642,2,"B",11005,1)

"KRN",.401,1642,2,"B",11005,2)

"KRN",.401,1643,-1)
0^6
"KRN",.401,1643,0)
A1AE SEQ REV SAVE^2950413.2031^@^11005^^@^2950413
"KRN",.401,1643,2,0)
^.4014^2^2
"KRN",.401,1643,2,1,0)
11005^^INTERNAL(#.01)^'@"^^^^^^4
"KRN",.401,1643,2,1,"CM")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X I D0>0 S DISX(1)=X
"KRN",.401,1643,2,1,"GET")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X I D0>0 S DISX(1)=X
"KRN",.401,1643,2,1,"QCON")
I DISX(1)'=""
"KRN",.401,1643,2,1,"TXT")
INTERNAL(#.01) not null
"KRN",.401,1643,2,2,0)
11005^6^SEQUENTIAL RELEASE NUMBER^-^^^^^^2
"KRN",.401,1643,2,2,"GET")
S DISX(2)=$P($G(^A1AE(11005,D0,0)),U,6)
"KRN",.401,1643,2,2,"QCON")
I DISX(2)'=""
"KRN",.401,1643,2,2,"SER")
0.3267^0.3267
"KRN",.401,1643,2,2,"TXT")
SEQUENTIAL RELEASE NUMBER not null
"KRN",.401,1643,2,"B",11005,1)

"KRN",.401,1643,2,"B",11005,2)

"KRN",.401,1644,-1)
0^8
"KRN",.401,1644,0)
A1AE SEQ SAVE^2950413.2032^@^11005^^@^2950413
"KRN",.401,1644,2,0)
^.4014^2^2
"KRN",.401,1644,2,1,0)
11005^^INTERNAL(#.01)^'@"^^^^^^4
"KRN",.401,1644,2,1,"CM")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X I D0>0 S DISX(1)=X
"KRN",.401,1644,2,1,"GET")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,1),X=X I D0>0 S DISX(1)=X
"KRN",.401,1644,2,1,"QCON")
I DISX(1)'=""
"KRN",.401,1644,2,1,"TXT")
INTERNAL(#.01) not null
"KRN",.401,1644,2,2,0)
11005^6^SEQUENTIAL RELEASE NUMBER^^^^^^^2
"KRN",.401,1644,2,2,"GET")
S DISX(2)=$P($G(^A1AE(11005,D0,0)),U,6)
"KRN",.401,1644,2,2,"QCON")
I DISX(2)'=""
"KRN",.401,1644,2,2,"SER")
0.3267^0.3267
"KRN",.401,1644,2,2,"TXT")
SEQUENTIAL RELEASE NUMBER not null
"KRN",.401,1644,2,"B",11005,1)

"KRN",.401,1644,2,"B",11005,2)

"KRN",.401,1645,-1)
0^2
"KRN",.401,1645,0)
A1AE FULL SUMMARY BY DATE^3020513.0936^@^11005^^@^3070327
"KRN",.401,1645,"DA")
DIS("A1",
"KRN",.401,1645,"DA",1)
X DIS("A1",9.2) S X1=Y(3) S X2=Y(2) S:X<X1 %=X1,X1=X,X=% S X=X2'>X&(X2'<X1)
"KRN",.401,1645,"DC",1)
-1^=1
"KRN",.401,1645,"DIS",0)
X DIS("A1",9.2) S X1=Y(3) S X2=Y(2) S:X<X1 %=X1,X1=X,X=% S X=X2'>X&(X2'<X1) I X=1
"KRN",.401,1645,"DIS","A1",9.2)
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,11),Y(2)=X S X=3020101,Y(3)=X S X=3020331
"KRN",.401,1645,"DL")
1
"KRN",.401,1645,"DL",0)
^1^
"KRN",.401,1645,"O",0)
^
"KRN",.401,1645,"O",1,0)
BETWEEN(DATE PATCH VERIFIED,3020101,3020331) EQUALS 1
"KRN",.401,1645,"QR")
3020513.09384^15
"KRN",.401,1646,-1)
0^1
"KRN",.401,1646,0)
A1AE FULL SUMARY SORT^3020513.1047^@^11005^^@^3100818
"KRN",.401,1646,2,0)
^.4014^2^2
"KRN",.401,1646,2,1,0)
11005^.01^PATCH DESIGNATION^^^^^^^4
"KRN",.401,1646,2,1,"GET")
S DISX(1)=$P($G(^A1AE(11005,D0,0)),U),Y=DISX(1) S Y(0)=Y S:$P(Y,"*",2)=999 $P(Y,"*",2)="DBA" S DISX(1)=Y
"KRN",.401,1646,2,1,"QCON")
I DISX(1)'=""
"KRN",.401,1646,2,1,"SER")
0^0
"KRN",.401,1646,2,1,"TXT")
PATCH DESIGNATION not null
"KRN",.401,1646,2,2,0)
11005^11^DATE PATCH VERIFIED^^^^^^^1
"KRN",.401,1646,2,2,"ASK")
1
"KRN",.401,1646,2,2,"F")
3100800.999999^0801^Aug 1,2010
"KRN",.401,1646,2,2,"GET")
S DISX(2)=$P($G(^A1AE(11005,D0,0)),U,11)
"KRN",.401,1646,2,2,"QCON")
I (DISX(2)]]3100800.999999)&(DISX(2)']]3100816.24)
"KRN",.401,1646,2,2,"SER")
1.0000^1.0000
"KRN",.401,1646,2,2,"T")
3100816.24^Aug 16,2010@2400^Aug 16,2010@24:00
"KRN",.401,1646,2,2,"TXT")
DATE PATCH VERIFIED from Aug 1,2010 to Aug 16,2010@24:00
"KRN",.401,1646,2,"B",11005,1)

"KRN",.401,1646,2,"B",11005,2)

"KRN",.401,1647,-1)
0^4
"KRN",.401,1647,0)
A1AE PATCH COMPL/COMM SORT^3070327.094^@^11005^^@^3100818
"KRN",.401,1647,2,0)
^.4014^2^2
"KRN",.401,1647,2,1,0)
11005^11^DATE PATCH VERIFIED^^^^^^^1
"KRN",.401,1647,2,1,"ASK")
1
"KRN",.401,1647,2,1,"F")
3100600.999999^Jun 1,2010^Jun 1,2010
"KRN",.401,1647,2,1,"GET")
S DISX(1)=$P($G(^A1AE(11005,D0,0)),U,11)
"KRN",.401,1647,2,1,"QCON")
I DISX(1)]]3100600.999999
"KRN",.401,1647,2,1,"SER")
1.0000^1.0000
"KRN",.401,1647,2,1,"T")
z^
"KRN",.401,1647,2,1,"TXT")
DATE PATCH VERIFIED from Jun 1,2010
"KRN",.401,1647,2,2,0)
11005^^PACKAGE^"2^^^^^^4
"KRN",.401,1647,2,2,"CM")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P($G(^DIC(9.4,+$P(Y(1),U,2),0)),U) I D0>0 S DISX(2)=X
"KRN",.401,1647,2,2,"GET")
S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P($G(^DIC(9.4,+$P(Y(1),U,2),0)),U) I D0>0 S DISX(2)=X
"KRN",.401,1647,2,2,"IX")
^A1AE(11005,"D",^A1AE(11005,^2
"KRN",.401,1647,2,2,"PTRIX")
^DIC(9.4,"B",
"KRN",.401,1647,2,2,"QCON")
I DISX(2)'=""
"KRN",.401,1647,2,2,"SER")
0.0100^0.0099
"KRN",.401,1647,2,2,"TXT")
PACKAGE not null
"KRN",.401,1647,2,"B",11005,1)

"KRN",.401,1647,2,"B",11005,2)

"KRN",.401,1648,-1)
0^3
"KRN",.401,1648,0)
A1AE GT 500^3070614.1223^@^11007^^@^3070614
"KRN",.401,1648,"%D",0)
^^1^1^3070614^
"KRN",.401,1648,"%D",1,0)
Find packages with patch numbers > 500.
"KRN",.401,1648,"DC",1)
300,26^>500
"KRN",.401,1648,"DIS",0)
S D1=+$O(^A1AE(11007,D0,"V",0)) X DIS("0A") I $T
"KRN",.401,1648,"DIS","0A")
F  X DIS("0AA") X:D1'>0 "IF 0" Q:$T  S D1=$O(^A1AE(11007,D0,"V",D1)) Q:D1'>0
"KRN",.401,1648,"DIS","0AA")
I $P($G(^A1AE(11007,D0,"V",D1,"PH")),U,1)>500
"KRN",.401,1648,"DL")
1
"KRN",.401,1648,"DL",0)
^1^
"KRN",.401,1648,"O",0)
^
"KRN",.401,1648,"O",1,0)
DHCP PATCH/PROBLEM PACKAGE NEXT PATCH NUMBER GREATER THAN 500
"KRN",.401,1648,"QR")
3070614.12244^2
"KRN",.402,2336,-1)
0^2
"KRN",.402,2336,0)
A1AE ADD/EDIT PROBLEMS^2860121^^11006^^^^
"KRN",.402,2336,"DR",1,11006)
5;5.5;6;7;10;
"KRN",.402,2337,-1)
0^4
"KRN",.402,2337,0)
A1AE CHANGE PROBLEM STATUS^2860211^^11006^^^^
"KRN",.402,2337,"DR",1,11006)
Q;S A1AESTA=$P(^A1AE(11006,DA,0),U,10),DIE("NO^")="";Q;Q;@10;10;S Y=$S(X="T":"@20",X="R":"@30",X="C"!(X="U"):"@99",1:"@40");@20;11.5;S Y="@99";@30;12.5;13;S Y="@99";@40;Q;Q;Q;Q;
"KRN",.402,2337,"DR",1,11006,1)
W !?3,*7,"Please enter 'T'abled, or 'R'esolved, or 'U'nder Review.",!?3,"You can also leave status as 'C'omplete/Release for Review.";Q;10///^S X=A1AESTA;S Y="@10";@99;K A1AESTA,DIE("NO^");
"KRN",.402,2338,-1)
0^1
"KRN",.402,2338,0)
A1AE ADD/EDIT PATCHES^3091216.1709^^11005^^^3100819
"KRN",.402,2338,"DIAB",1,0,11005,2)
DHCP PATCH MESSAGE:
"KRN",.402,2338,"DIAB",1,1,11005.05,0)
ALL
"KRN",.402,2338,"DIAB",1,1,11005.09,0)
ALL
"KRN",.402,2338,"DR",1,11005)
Q;20///NOW;S A1AETVR=$P(^A1AE(11005,DA,0),U,3),A1AEST=$P(^A1AE(11005,DA,0),U,8),A1AEKIDS=0 S:A1AEST'="u" DIE("NO^")="OUTOK" S Y=$S(A1AEST="c":"@3",A1AEST="v":"@10",A1AEST="e":"@20",A1AEST="r":"@30",A1AEST="x":"@10",1:"@5");@3;5;17;
"KRN",.402,2338,"DR",1,11005,1)
I A1AEST="u" S Y="@6";W ! D CONT^A1AEM;8///U;S A1AEST="u" K DIE("NO^");@5;5;17;@6;7;S:A1AETVR=999 Y="@7";6.5;@7;D ^A1AECOPD;5.5;S:A1AETVR=999 Y="@10";
"KRN",.402,2338,"DR",1,11005,2)
^11005.1^A1AE(11005.1,^^S I(0,0)=$G(D0),D0=D0 S:'D0!'$D(^A1AE(11005.1,+D0,0)) D0=-1 S D(0)=D0 S Y(101)=$S($D(^A1AE(11005.1,D0,0)):^(0),1:"") S X=$P($G(^A1AE(11005,+$P(Y(101),U,1),0)),U) S D0=I(0,0) S X=$S(D(0)>0:D(0),1:"");
"KRN",.402,2338,"DR",1,11005,3)
S:A1AEKIDS Y="@8";100;@8;103//Yes;W !,"editing comments only seen by releasers/developers";16;150;W !;@10;8;S Y=$S(X="e":"@20",X="r":"@30",1:"@99");@20;8.5;S Y="@99";@30;15;15.5;@99;K A1AETVR,A1AEST,A1AEKIDS;
"KRN",.402,2338,"DR",2,11005.03)
.01;W !?20,"editing DESCRIPTION OF ROUTINE CHANGES";D ^A1AECOPY;D ^A1AECOPR;2.5;2;
"KRN",.402,2338,"DR",2,11005.05)
.01
"KRN",.402,2338,"DR",2,11005.09)
.01:2
"KRN",.402,2338,"DR",2,11005.1)
W !?20,"editing MESSAGE TEXT";D ^A1AEM1;W !;20;
"KRN",.402,2339,-1)
0^3
"KRN",.402,2339,0)
A1AE ADD/EDIT USERS^3030108.1107^^11007^^^3100818
"KRN",.402,2339,"DIAB",1,1,11007.03,0)
ALL
"KRN",.402,2339,"DR",1,11007)
S A1AE2=$P(^A1AE(11007,DA,0),U,2),A1AE4=$P(^(0),U,4);I A1AE4="y" W !!,"This package is considered a TEST SITE PACKAGE in the Patch Module.",!!;S MASTER=$O(^DIC(9.4,"C","A1AE",0)) I MASTER'=DA K MASTER;
"KRN",.402,2339,"DR",1,11007,1)
W !,"-------------------------------------------------------------------------------";I A1AE4="y" S Y="@5";2//^S X="NO";@5;3//^S X="YES";I '$D(^XUSEC("A1AE MGR",DUZ)) S Y="@10";4//^S X="NO";S A1AE4=X;6;@10;5;I A1AE4'="y" S Y="@20";
"KRN",.402,2339,"DR",1,11007,2)
W !,"-------------------------------------------------------------------------------";50;@20;W !,"-------------------------------------------------------------------------------";100;
"KRN",.402,2339,"DR",1,11007,3)
W !,"-------------------------------------------------------------------------------";200;W !,"-------------------------------------------------------------------------------";I '$D(MASTER) S Y="@99";
"KRN",.402,2339,"DR",1,11007,4)
W !,"-------------------------------------------------------------------------------";400;@99;K A1AE2,A1AE4,MASTER;
"KRN",.402,2339,"DR",2,11007.02)
.01;2;I X'="V" S Y="";3;
"KRN",.402,2339,"DR",2,11007.03)
.01
"KRN",.402,2339,"DR",2,11007.04)
.01;2;I $D(X) W !,"For Verified Patches";3;
"KRN",.402,2339,"DR",2,11007.05)
.01;2///^S X="TODAY";I A1AE4'="y" S Y="@20";3;
"KRN",.402,2340,-1)
0^5
"KRN",.402,2340,0)
A1AE COMP DATE^3070327.1036^@^11005^^@^3100804
"KRN",.402,2340,"DIAB",4,0,11005,0)
19;REQ;"REASON FOR CHANGE"
"KRN",.402,2340,"DR",1,11005)
S A1AEPRE=$P(^A1AE(11005,D0,0),"^",18);18;@1;19REASON FOR CHANGE~R~;S CDC=$$GET1^DIQ(11005,D0,19,"Z","CDC");S (I,CNT,CNT1)=0 I CDC'="" F I=1:1 S I=$O(CDC(I)) Q:'I  S CNT=CNT+$L(CDC(I,0)),CNT1=I;
"KRN",.402,2340,"DR",1,11005,1)
I CNT>256 W !!,"Text is too long. You have ",CNT," characters.  Maximum characters is 256",! K CDC,CNT,I S Y="@1";
"KRN",.402,2340,"DR",1,11005,2)
I CNT1>5 W !!,"Please enter text on less than 5 lines so text will fit in the bulletin message",! K CDC,CNT,CNT1,I S Y="@1";D:$P(^A1AE(11005,D0,0),"^",18)'=A1AEPRE ^A1AECDE;
"KRN",3.6,230,-1)
0^3
"KRN",3.6,230,0)
A1AE ENTERED IN ERROR PATCH^Entered in error patch for |1|
"KRN",3.6,230,1,0)
^^5^5^2870310^^^^
"KRN",3.6,230,1,1,0)
A patch has been entered in error for '|1|'.
"KRN",3.6,230,1,2,0)
 
"KRN",3.6,230,1,3,0)
The patch is '|2|' and the subject is '|3|'.
"KRN",3.6,230,1,4,0)
 
"KRN",3.6,230,1,5,0)
Use the 'Display Patch' option for more details.
"KRN",3.6,230,4,0)
^3.64A^3^3
"KRN",3.6,230,4,1,0)
1
"KRN",3.6,230,4,1,1,0)
^^1^1^2860310^^^^
"KRN",3.6,230,4,1,1,1,0)
Package Name
"KRN",3.6,230,4,2,0)
2
"KRN",3.6,230,4,2,1,0)
^^1^1^2860310^^^^
"KRN",3.6,230,4,2,1,1,0)
Patch Designation
"KRN",3.6,230,4,3,0)
3
"KRN",3.6,230,4,3,1,0)
^^1^1^2860327^^^^
"KRN",3.6,230,4,3,1,1,0)
Subject
"KRN",3.6,231,-1)
0^1
"KRN",3.6,231,0)
A1AE COMPLETED PATCH^New Completed Patch |2|
"KRN",3.6,231,1,0)
^3.61A^12^12^3011003^^^^
"KRN",3.6,231,1,1,0)
A new patch has been completed for '|1|'.
"KRN",3.6,231,1,2,0)
 
"KRN",3.6,231,1,3,0)
The Patch is '|2|' and its status is 'COMPLETED/NOT RELEASED'.
"KRN",3.6,231,1,4,0)
     Patch Subject : |3|
"KRN",3.6,231,1,5,0)
     Patch Priority: |4|
"KRN",3.6,231,1,6,0)
 |7|
"KRN",3.6,231,1,7,0)
 
"KRN",3.6,231,1,8,0)
See 'Display a Completed/NotReleased Patch' for details.
"KRN",3.6,231,1,9,0)
 
"KRN",3.6,231,1,10,0)
A patch message has been sent.
"KRN",3.6,231,1,11,0)
     Number        : |5|
"KRN",3.6,231,1,12,0)
     Subject       : |6|
"KRN",3.6,231,4,0)
^3.64A^7^5
"KRN",3.6,231,4,1,0)
1
"KRN",3.6,231,4,1,1,0)
^3.65^1^1^3000406^^^^
"KRN",3.6,231,4,1,1,1,0)
Package Name
"KRN",3.6,231,4,2,0)
2
"KRN",3.6,231,4,2,1,0)
^^1^1^2871105^^^
"KRN",3.6,231,4,2,1,1,0)
Patch Designation
"KRN",3.6,231,4,3,0)
3
"KRN",3.6,231,4,3,1,0)
^^1^1^2860312^^^^
"KRN",3.6,231,4,3,1,1,0)
Subject
"KRN",3.6,231,4,4,0)
4
"KRN",3.6,231,4,4,1,0)
^^1^1^2920608^^^^
"KRN",3.6,231,4,4,1,1,0)
Priority of the patch
"KRN",3.6,231,4,7,0)
7
"KRN",3.6,231,4,7,1,0)
^3.65^1^1^3011003^^^^
"KRN",3.6,231,4,7,1,1,0)
display category if PATCH FOR A PATCH
"KRN",3.6,232,-1)
0^4
"KRN",3.6,232,0)
A1AE PKG^New DHCP Problem/Patch Package
"KRN",3.6,232,1,0)
^^12^12^2951031^^^^
"KRN",3.6,232,1,1,0)
The |1| package is available for user selection as 
"KRN",3.6,232,1,2,0)
part of the patch module. The package prefix is '|2|' and the
"KRN",3.6,232,1,3,0)
short description of the package is as follows:
"KRN",3.6,232,1,4,0)
 
"KRN",3.6,232,1,5,0)
 |3|
"KRN",3.6,232,1,6,0)
 
"KRN",3.6,232,1,7,0)
If you choose to select this package you will receive automatic
"KRN",3.6,232,1,8,0)
notification of new |1| patches, and automatic
"KRN",3.6,232,1,9,0)
printing of these patches when using the 'New Patch Report' option.
"KRN",3.6,232,1,10,0)
 
"KRN",3.6,232,1,11,0)
To add |1| as a selected package use the 'Select
"KRN",3.6,232,1,12,0)
Packages for Notification' option on the 'Patch User Menu'.
"KRN",3.6,232,3,0)
^^2^2^2951031^^^^
"KRN",3.6,232,3,1,0)
This bulletin notifies users when a package is available
"KRN",3.6,232,3,2,0)
for user selection in the patch module.
"KRN",3.6,232,4,0)
^3.64A^3^3
"KRN",3.6,232,4,1,0)
1
"KRN",3.6,232,4,1,1,0)
^^1^1^2880125^^^^
"KRN",3.6,232,4,1,1,1,0)
Package
"KRN",3.6,232,4,2,0)
2
"KRN",3.6,232,4,2,1,0)
^^1^1^2880125^^
"KRN",3.6,232,4,2,1,1,0)
Prefix
"KRN",3.6,232,4,3,0)
3
"KRN",3.6,232,4,3,1,0)
^^1^1^2951031^^^^
"KRN",3.6,232,4,3,1,1,0)
Short Description
"KRN",3.6,233,-1)
0^7
"KRN",3.6,233,0)
A1AE VERIFIED PATCH^New Released Patch |2|
"KRN",3.6,233,1,0)
^^11^11^3021204^
"KRN",3.6,233,1,1,0)
A new patch has been entered for '|1|'.
"KRN",3.6,233,1,2,0)
 
"KRN",3.6,233,1,3,0)
The Patch is '|2|' and its status is 'RELEASED'.
"KRN",3.6,233,1,4,0)
     Patch Subject : |3|
"KRN",3.6,233,1,5,0)
     Patch Priority: |4|
"KRN",3.6,233,1,6,0)
 |7|
"KRN",3.6,233,1,7,0)
 
"KRN",3.6,233,1,8,0)
 |8|
"KRN",3.6,233,1,9,0)
 |9|
"KRN",3.6,233,1,10,0)
 
"KRN",3.6,233,1,11,0)
See 'New Patch Report' for details.
"KRN",3.6,233,3,0)
^3.63^1^1^3021204^^^^
"KRN",3.6,233,3,1,0)
 
"KRN",3.6,233,4,0)
^3.64A^9^7
"KRN",3.6,233,4,1,0)
1
"KRN",3.6,233,4,1,1,0)
^^1^1^2870925^
"KRN",3.6,233,4,1,1,1,0)
Package Name
"KRN",3.6,233,4,2,0)
2
"KRN",3.6,233,4,2,1,0)
^^1^1^2870925^
"KRN",3.6,233,4,2,1,1,0)
Package Designation
"KRN",3.6,233,4,3,0)
3
"KRN",3.6,233,4,3,1,0)
^^1^1^2921110^^
"KRN",3.6,233,4,3,1,1,0)
Subject
"KRN",3.6,233,4,4,0)
4
"KRN",3.6,233,4,4,1,0)
^^1^1^2870925^^
"KRN",3.6,233,4,4,1,1,0)
Priority of the patch
"KRN",3.6,233,4,7,0)
7
"KRN",3.6,233,4,7,1,0)
^3.65^1^1^3011017^^^^
"KRN",3.6,233,4,7,1,1,0)
Display category when PATCH FOR A PATCH
"KRN",3.6,233,4,8,0)
8
"KRN",3.6,233,4,8,1,0)
^^1^1^3011017^
"KRN",3.6,233,4,8,1,1,0)
Install by Date
"KRN",3.6,233,4,9,0)
9
"KRN",3.6,233,4,9,1,0)
^3.65^1^1^3021204^^
"KRN",3.6,233,4,9,1,1,0)
Compliance Statement
"KRN",3.6,234,-1)
0^5
"KRN",3.6,234,0)
A1AE RETIRED PATCH^Retired Patch for |1|
"KRN",3.6,234,1,0)
^^5^5^2951031^^^
"KRN",3.6,234,1,1,0)
A patch has been retired for '|1|'.
"KRN",3.6,234,1,2,0)
 
"KRN",3.6,234,1,3,0)
The patch is '|2|' and the subject is '|3|'.
"KRN",3.6,234,1,4,0)
 
"KRN",3.6,234,1,5,0)
Use the 'Display Patch' option for more details.
"KRN",3.6,234,4,0)
^3.64A^3^3
"KRN",3.6,234,4,1,0)
1
"KRN",3.6,234,4,1,1,0)
^^1^1^2891211^
"KRN",3.6,234,4,1,1,1,0)
Package Name
"KRN",3.6,234,4,2,0)
2
"KRN",3.6,234,4,2,1,0)
^^1^1^2891211^
"KRN",3.6,234,4,2,1,1,0)
Patch Description
"KRN",3.6,234,4,3,0)
3
"KRN",3.6,234,4,3,1,0)
^^1^1^2951031^^^
"KRN",3.6,234,4,3,1,1,0)
Subject
"KRN",3.6,235,-1)
0^2
"KRN",3.6,235,0)
A1AE COMPLIANCE DATE EDIT^PATCH |2| COMPLIANCE DATE CHANGE
"KRN",3.6,235,1,0)
^^14^14^3070516^
"KRN",3.6,235,1,1,0)
The Compliance Date has been edited for a "|1|" patch.
"KRN",3.6,235,1,2,0)
 
"KRN",3.6,235,1,3,0)
Patch:   |2|
"KRN",3.6,235,1,4,0)
Patch Subject:  |3|
"KRN",3.6,235,1,5,0)
Patch Priority: |4|
"KRN",3.6,235,1,6,0)
|8|
"KRN",3.6,235,1,7,0)
|9|
"KRN",3.6,235,1,8,0)
|10|
"KRN",3.6,235,1,9,0)
|11|
"KRN",3.6,235,1,10,0)
|12|
"KRN",3.6,235,1,11,0)
|13|
"KRN",3.6,235,1,12,0)
|14|
"KRN",3.6,235,1,13,0)
|15|
"KRN",3.6,235,1,14,0)
|16|
"KRN",3.6,235,4,0)
^3.64A^16^13
"KRN",3.6,235,4,1,0)
1
"KRN",3.6,235,4,1,1,0)
^^1^1^3040629^
"KRN",3.6,235,4,1,1,1,0)
Package Name
"KRN",3.6,235,4,2,0)
2
"KRN",3.6,235,4,2,1,0)
^^1^1^3040629^
"KRN",3.6,235,4,2,1,1,0)
Package Designation
"KRN",3.6,235,4,3,0)
3
"KRN",3.6,235,4,3,1,0)
^^1^1^3040629^
"KRN",3.6,235,4,3,1,1,0)
Subject
"KRN",3.6,235,4,4,0)
4
"KRN",3.6,235,4,4,1,0)
^^1^1^3040629^
"KRN",3.6,235,4,4,1,1,0)
Priority of patch
"KRN",3.6,235,4,8,0)
8
"KRN",3.6,235,4,9,0)
9
"KRN",3.6,235,4,9,1,0)
^3.65^1^1^3070516^^^^
"KRN",3.6,235,4,9,1,1,0)
Compliance Statement
"KRN",3.6,235,4,10,0)
10
"KRN",3.6,235,4,11,0)
11
"KRN",3.6,235,4,11,1,0)
^^1^1^3070326^
"KRN",3.6,235,4,11,1,1,0)
Compliance Date comments 11-16
"KRN",3.6,235,4,12,0)
12
"KRN",3.6,235,4,13,0)
13
"KRN",3.6,235,4,14,0)
14
"KRN",3.6,235,4,15,0)
15
"KRN",3.6,235,4,16,0)
16
"KRN",3.6,236,-1)
0^6
"KRN",3.6,236,0)
A1AE VERIFIED PACKAGE^New Released Package |2|
"KRN",3.6,236,1,0)
^^4^4^3060601^
"KRN",3.6,236,1,1,0)
A new package '|1|' has been Released.
"KRN",3.6,236,1,2,0)
 
"KRN",3.6,236,1,3,0)
 |8|
"KRN",3.6,236,1,4,0)
 |9|
"KRN",3.6,236,3,0)
^3.63^1^1^3060601^^^^
"KRN",3.6,236,3,1,0)
 
"KRN",3.6,236,4,0)
^3.64A^6^9
"KRN",3.6,236,4,1,0)
1
"KRN",3.6,236,4,1,1,0)
^3.65^1^1^3060601^^
"KRN",3.6,236,4,1,1,1,0)
Package Name
"KRN",3.6,236,4,2,0)
2
"KRN",3.6,236,4,2,1,0)
^3.65^1^1^3060601^^
"KRN",3.6,236,4,2,1,1,0)
Package Designation
"KRN",3.6,236,4,3,0)
3
"KRN",3.6,236,4,3,1,0)
^3.65^1^1^3060601^^^
"KRN",3.6,236,4,3,1,1,0)
Subject
"KRN",3.6,236,4,4,0)
4
"KRN",3.6,236,4,4,1,0)
^^1^1^3060601^
"KRN",3.6,236,4,4,1,1,0)
Priority of the package
"KRN",3.6,236,4,5,0)
5
"KRN",3.6,236,4,6,0)
6
"KRN",3.6,236,4,7,0)
7
"KRN",3.6,236,4,7,1,0)
^3.65^1^1^3060601^^^^
"KRN",3.6,236,4,7,1,1,0)
Display category when PATCH FOR A PATCH
"KRN",3.6,236,4,8,0)
8
"KRN",3.6,236,4,8,1,0)
^3.65^1^1^3060601^^
"KRN",3.6,236,4,8,1,1,0)
Install by Date
"KRN",3.6,236,4,9,0)
9
"KRN",3.6,236,4,9,1,0)
^3.65^1^1^3060601^^^
"KRN",3.6,236,4,9,1,1,0)
Compliance Statement
"KRN",3.8,348,-1)
0^3
"KRN",3.8,348,0)
A1AE PATCH ERRORS^PU^y^^^^
"KRN",3.8,348,2,0)
^3.801^1^1^3090824^^^
"KRN",3.8,348,2,1,0)
To get alerts when there are problems with the patch module.
"KRN",3.8,348,3)

"KRN",3.8,349,-1)
0^2
"KRN",3.8,349,0)
A1AE PACKAGE RELEASE^PU^n^^^^
"KRN",3.8,349,2,0)
^3.801^2^2^3070110^^^^
"KRN",3.8,349,2,1,0)
This mail group will get a message when a package is released thru the 
"KRN",3.8,349,2,2,0)
NPM.
"KRN",3.8,349,3)

"KRN",3.8,350,-1)
0^1
"KRN",3.8,350,0)
A1AE HFS MESSAGES^PU^y^^^^
"KRN",3.8,350,2,0)
^3.801^2^2^3081009^^^
"KRN",3.8,350,2,1,0)
This mail group gets forwarded messages from the HFS checksum
"KRN",3.8,350,2,2,0)
server in A1AEHSVR so problems can be tracked.
"KRN",3.8,350,3)

"KRN",19,15467,-1)
0^63
"KRN",19,15467,0)
A1AE USER^Patch User Menu^^M^^^^^^^^
"KRN",19,15467,1,0)
^19.06^3^3^3060622^^^^
"KRN",19,15467,1,1,0)
This is the main menu for the Patch/Problem options. All users
"KRN",19,15467,1,2,0)
enter the patch module through this menu. However, depending on
"KRN",19,15467,1,3,0)
what keys the user holds, some options will or will not appear.
"KRN",19,15467,10,0)
^19.01IP^24^24
"KRN",19,15467,10,1,0)
15468^
"KRN",19,15467,10,1,"^")
A1AE PKGSEL
"KRN",19,15467,10,2,0)
15469^
"KRN",19,15467,10,2,"^")
A1AE PRTNEWPH
"KRN",19,15467,10,6,0)
15485^DP
"KRN",19,15467,10,6,"^")
A1AE PRTPHD
"KRN",19,15467,10,7,0)
15487^AD
"KRN",19,15467,10,7,"^")
A1AE PRTPHA
"KRN",19,15467,10,8,0)
15478^E
"KRN",19,15467,10,8,"^")
A1AE DEVELOPER
"KRN",19,15467,10,9,0)
15500^
"KRN",19,15467,10,9,"^")
A1AE VERIFIER
"KRN",19,15467,10,10,0)
15491^
"KRN",19,15467,10,10,"^")
A1AE MGR
"KRN",19,15467,10,11,0)
15495^
"KRN",19,15467,10,11,"^")
A1AE PATCHDOC
"KRN",19,15467,10,12,0)
15501^RPSR
"KRN",19,15467,10,12,"^")
A1AE PRTCOMSUMDT
"KRN",19,15467,10,13,0)
15502^RPDR
"KRN",19,15467,10,13,"^")
A1AE PRTCOMDETDT
"KRN",19,15467,10,14,0)
15504^DNNP
"KRN",19,15467,10,14,"^")
A1AE PRTNEWPHNUM
"KRN",19,15467,10,15,0)
15506^
"KRN",19,15467,10,15,"^")
A1AE FORWARD
"KRN",19,15467,10,16,0)
15508^
"KRN",19,15467,10,16,"^")
A1AE PKGPRT
"KRN",19,15467,10,19,0)
15518^SUMM
"KRN",19,15467,10,19,"^")
A1AE PRTPHS ORG
"KRN",19,15467,10,20,0)
15519^FSBD
"KRN",19,15467,10,20,"^")
A1AE FULL SUMMARY BY DATE
"KRN",19,15467,10,21,0)
15520
"KRN",19,15467,10,21,"^")
A1AE RELEASE SUMMARY
"KRN",19,15467,10,22,0)
15525
"KRN",19,15467,10,22,"^")
A1AE PRTUDP
"KRN",19,15467,10,23,0)
15526
"KRN",19,15467,10,23,"^")
A1AE PRTCNRP
"KRN",19,15467,10,24,0)
15514
"KRN",19,15467,10,24,"^")
A1AE ROUTINE INQUIRE
"KRN",19,15467,15)

"KRN",19,15467,20)

"KRN",19,15467,99)
62054,33819
"KRN",19,15467,99.1)
61956,81227
"KRN",19,15467,"U")
PATCH USER MENU
"KRN",19,15468,-1)
0^34
"KRN",19,15468,0)
A1AE PKGSEL^Select Packages for Notification^^R^^^^^^^^
"KRN",19,15468,1,0)
^19.06^15^15^3011128^^^^
"KRN",19,15468,1,1,0)
This option permits the user to choose which packages they want
"KRN",19,15468,1,2,0)
to receive automatic notification of new patches via mailman.
"KRN",19,15468,1,3,0)
 
"KRN",19,15468,1,4,0)
Once the user selects a package s/he will be shown the number of
"KRN",19,15468,1,5,0)
new patches associated with the package(s) when s/he signs into the
"KRN",19,15468,1,6,0)
patch module and these new patches will automatically be available
"KRN",19,15468,1,7,0)
via the 'New Patch Report' option.
"KRN",19,15468,1,8,0)
 
"KRN",19,15468,1,9,0)
Packages may be entered individually, or the user can enter
"KRN",19,15468,1,10,0)
'ALL' to receive patches for all user selectable packages.
"KRN",19,15468,1,11,0)
 
"KRN",19,15468,1,12,0)
The user may also stop notification of patches for a particular
"KRN",19,15468,1,13,0)
package via this option by selecting the package and responding
"KRN",19,15468,1,14,0)
'Yes' to stop notification. The user can also enter at the package
"KRN",19,15468,1,15,0)
prompt, a '-'PACKAGE NAME to stop notification.
"KRN",19,15468,25)
2^A1AEAU
"KRN",19,15468,99.1)
60575,39996
"KRN",19,15468,"U")
SELECT PACKAGES FOR NOTIFICATI
"KRN",19,15469,-1)
0^46
"KRN",19,15469,0)
A1AE PRTNEWPH^New Patch Report^^R^^^^^^^^
"KRN",19,15469,1,0)
^^13^13^2931208^^^^
"KRN",19,15469,1,1,0)
This print option generates a report of 'new' patches for any selectable
"KRN",19,15469,1,2,0)
package in the patch file, or all your selected packages.
"KRN",19,15469,1,3,0)
 
"KRN",19,15469,1,4,0)
A patch is 'new' if it has not been printed by the user and it has a status
"KRN",19,15469,1,5,0)
of 'verified'. Once a 'new' patch has been printed it is no longer available
"KRN",19,15469,1,6,0)
under this option, but can be viewed via any of the other print options
"KRN",19,15469,1,7,0)
for verified patches.
"KRN",19,15469,1,8,0)
 
"KRN",19,15469,1,9,0)
The report contains detailed information about each patch including
"KRN",19,15469,1,10,0)
the Patch Subject, Description, Category, Priority and Status. The
"KRN",19,15469,1,11,0)
report also contains information about the users who entered the
"KRN",19,15469,1,12,0)
patch, completed the patch and verified the patch. There is also
"KRN",19,15469,1,13,0)
a section for coding changes in the Routine Section of the report.
"KRN",19,15469,25)
PRTNEW^A1AEVP
"KRN",19,15469,99.1)
59214,39995
"KRN",19,15469,"U")
NEW PATCH REPORT
"KRN",19,15470,-1)
0^55
"KRN",19,15470,0)
A1AE PRTVRPH^Released Patch Report^^R^^^^^^^^
"KRN",19,15470,1,0)
^^12^12^2860314^^^^
"KRN",19,15470,1,1,0)
This print option generates a report of all 'verified' patches
"KRN",19,15470,1,2,0)
for a selected package and version. The user must be an authorized
"KRN",19,15470,1,3,0)
developer or support person of the package.
"KRN",19,15470,1,4,0)
 
"KRN",19,15470,1,5,0)
The user has the option of sorting the report by one of the
"KRN",19,15470,1,6,0)
following fields: Patch Designation, Category or Priority.
"KRN",19,15470,1,7,0)
 
"KRN",19,15470,1,8,0)
The report contains detailed information about each patch;
"KRN",19,15470,1,9,0)
including the Patch Subject, Description, Category, Priority
"KRN",19,15470,1,10,0)
and Status. The report also contains information about users
"KRN",19,15470,1,11,0)
who entered the patch and completed and/or verified the patch,
"KRN",19,15470,1,12,0)
and any Routine information.
"KRN",19,15470,25)
4^A1AEPH2
"KRN",19,15470,"U")
RELEASED PATCH REPORT
"KRN",19,15471,-1)
0^61
"KRN",19,15471,0)
A1AE SUPPORT^Support Menu^^M^^A1AE SUPPORT^^^^^^
"KRN",19,15471,1,0)
^^6^6^2860403^^^^
"KRN",19,15471,1,1,0)
This menu provides the holder of the A1AE SUPPORT key with
"KRN",19,15471,1,2,0)
the following print options: Verified Patch Report and
"KRN",19,15471,1,3,0)
Completed/Unverified Patch Report.
"KRN",19,15471,1,4,0)
 
"KRN",19,15471,1,5,0)
This menu also permits the holder of the A1AE PHVER key
"KRN",19,15471,1,6,0)
to see the 'Verifiy a Patch' option.
"KRN",19,15471,10,0)
^19.01PI^8^8
"KRN",19,15471,10,3,0)
15470^
"KRN",19,15471,10,3,"^")
A1AE PRTVRPH
"KRN",19,15471,10,4,0)
15472^
"KRN",19,15471,10,4,"^")
A1AE PRTCOMPH
"KRN",19,15471,10,5,0)
15496^
"KRN",19,15471,10,5,"^")
A1AE PRTUDVPH VER
"KRN",19,15471,10,7,0)
15473^
"KRN",19,15471,10,7,"^")
A1AE PBPROBLEM
"KRN",19,15471,10,8,0)
15488^
"KRN",19,15471,10,8,"^")
A1AE PHVER
"KRN",19,15471,15)

"KRN",19,15471,20)

"KRN",19,15471,99)
62054,33819
"KRN",19,15471,99.1)
61956,81227
"KRN",19,15471,"U")
SUPPORT MENU
"KRN",19,15472,-1)
0^41
"KRN",19,15472,0)
A1AE PRTCOMPH^Completed/NotReleased Patches Report^^R^^^^^^^^
"KRN",19,15472,1,0)
^^12^12^2971027^
"KRN",19,15472,1,1,0)
This print option generates a report of 'completed/unverified'
"KRN",19,15472,1,2,0)
patches for a selected package and version. The user must be an
"KRN",19,15472,1,3,0)
authorized developer or verifier of the package to use this option.
"KRN",19,15472,1,4,0)
 
"KRN",19,15472,1,5,0)
The user has the option of sorting the report by one of the following
"KRN",19,15472,1,6,0)
fields: Patch Designation, Category or Priority.
"KRN",19,15472,1,7,0)
 
"KRN",19,15472,1,8,0)
The report contains detailed information about each patch including the
"KRN",19,15472,1,9,0)
Patch Subject, Description, Category, Priority and Status. The report also
"KRN",19,15472,1,10,0)
contains information about the users who entered the patch and completed
"KRN",19,15472,1,11,0)
the patch. There is also a section for coding changes in the Routine
"KRN",19,15472,1,12,0)
Section of the report.
"KRN",19,15472,25)
1^A1AEPH2
"KRN",19,15472,"U")
COMPLETED/NOTRELEASED PATCHES 
"KRN",19,15473,-1)
0^19
"KRN",19,15473,0)
A1AE PBPROBLEM^Problem Menu^NOT AVAILABLE^M^^OBSOLETE^^^^^^
"KRN",19,15473,10,0)
^19.01PI^4^4
"KRN",19,15473,10,1,0)
15474^
"KRN",19,15473,10,1,"^")
A1AE PBADD
"KRN",19,15473,10,2,0)
15475^
"KRN",19,15473,10,2,"^")
A1AE PBDEL
"KRN",19,15473,10,3,0)
15476^
"KRN",19,15473,10,3,"^")
A1AE PBEDIT
"KRN",19,15473,10,4,0)
15477^
"KRN",19,15473,10,4,"^")
A1AE PBPRT
"KRN",19,15473,99)
62054,33818
"KRN",19,15473,"U")
PROBLEM MENU
"KRN",19,15474,-1)
0^16
"KRN",19,15474,0)
A1AE PBADD^Add a New Problem^^R^^^^^^^^
"KRN",19,15474,25)
1^A1AEPB1
"KRN",19,15474,"U")
ADD A NEW PROBLEM
"KRN",19,15475,-1)
0^17
"KRN",19,15475,0)
A1AE PBDEL^Delete a Problem^^R^^^^^^^^
"KRN",19,15475,25)
2^A1AEPB1
"KRN",19,15475,"U")
DELETE A PROBLEM
"KRN",19,15476,-1)
0^18
"KRN",19,15476,0)
A1AE PBEDIT^Edit a Problem^^R^^^^^^^^
"KRN",19,15476,25)
3^A1AEPB1
"KRN",19,15476,"U")
EDIT A PROBLEM
"KRN",19,15477,-1)
0^20
"KRN",19,15477,0)
A1AE PBPRT^Problem Reports^This option is not Available.^R^^^^^^^^
"KRN",19,15477,25)
A1AEPB2
"KRN",19,15477,"U")
PROBLEM REPORTS
"KRN",19,15478,-1)
0^8
"KRN",19,15478,0)
A1AE DEVELOPER^Developer's Menu^^M^^A1AE DEVELOPER^^^^^^^y^1^1
"KRN",19,15478,1,0)
^19.06^14^14^3090813^^^^
"KRN",19,15478,1,1,0)
This menu permits the holder of the A1AE DEVELOPER key who is an
"KRN",19,15478,1,2,0)
authorized developer, to add/edit patches. Also using the 'Package
"KRN",19,15478,1,3,0)
Management' option developer's can indicate other Development,
"KRN",19,15478,1,4,0)
Support Personnel and Verifiers associated with the package.
"KRN",19,15478,1,5,0)
 
"KRN",19,15478,1,6,0)
Using the 'Delete an Unverified Patch' option, developers can delete
"KRN",19,15478,1,7,0)
patches which have a status of 'Under Development' or 'Completed/
"KRN",19,15478,1,8,0)
unverified'. Using the 'Copy a patch into a new patch' option,
"KRN",19,15478,1,9,0)
developers can copy existing patches into new patches under the
"KRN",19,15478,1,10,0)
same or a different version.
"KRN",19,15478,1,11,0)
 
"KRN",19,15478,1,12,0)
The menu also provides the following print options: Extended Display
"KRN",19,15478,1,13,0)
of a Patch, Display a Completed/Unverified Patch, Completed/
"KRN",19,15478,1,14,0)
Unverified Patch Report and Under Development Patch Report.
"KRN",19,15478,10,0)
^19.01IP^24^24
"KRN",19,15478,10,1,0)
15480^
"KRN",19,15478,10,1,"^")
A1AE PHADD
"KRN",19,15478,10,9,0)
15481^
"KRN",19,15478,10,9,"^")
A1AE PHDEL
"KRN",19,15478,10,11,0)
15494^
"KRN",19,15478,10,11,"^")
A1AE PHEXTEND
"KRN",19,15478,10,12,0)
15482^
"KRN",19,15478,10,12,"^")
A1AE PHEDIT
"KRN",19,15478,10,13,0)
15499^
"KRN",19,15478,10,13,"^")
A1AE DISCOMPH
"KRN",19,15478,10,14,0)
15472^
"KRN",19,15478,10,14,"^")
A1AE PRTCOMPH
"KRN",19,15478,10,15,0)
15483^
"KRN",19,15478,10,15,"^")
A1AE PRTUDVPH
"KRN",19,15478,10,16,0)
15490^
"KRN",19,15478,10,16,"^")
A1AE PKGMGT
"KRN",19,15478,10,17,0)
15497^
"KRN",19,15478,10,17,"^")
A1AE COPY PATCH
"KRN",19,15478,10,18,0)
15505^
"KRN",19,15478,10,18,"^")
A1AE DEV CREATE
"KRN",19,15478,10,19,0)
15507^
"KRN",19,15478,10,19,"^")
A1AE DEV FORWARD
"KRN",19,15478,10,20,0)
15485^DP
"KRN",19,15478,10,20,"^")
A1AE PRTPHD
"KRN",19,15478,10,21,0)
15515^TS
"KRN",19,15478,10,21,"^")
A1AE TEST SCANNER
"KRN",19,15478,10,22,0)
15523
"KRN",19,15478,10,22,"^")
A1AE ROUTINES THAT OVERLAP
"KRN",19,15478,10,23,0)
15531
"KRN",19,15478,10,23,"^")
A1AE PKMENU
"KRN",19,15478,10,24,0)
15514^IN
"KRN",19,15478,10,24,"^")
A1AE ROUTINE INQUIRE
"KRN",19,15478,15)
Q  ;S X=$ZC(%DELLOG,"EDTSYS","PROCESS")
"KRN",19,15478,20)
Q  ;S X=$ZC(%CRELOG,"EDTSYS","SYS$COMMON:[SYSMGR]A1AE.EDT","PROCESS")
"KRN",19,15478,99)
62054,33819
"KRN",19,15478,99.1)
61956,81227
"KRN",19,15478,"U")
DEVELOPER'S MENU
"KRN",19,15479,-1)
0^21
"KRN",19,15479,0)
A1AE PBRESREV^Resolve/Review a Problem^^R^^A1AE DEVELOPER^^^^^^
"KRN",19,15479,25)
4^A1AEPB1
"KRN",19,15479,"U")
RESOLVE/REVIEW A PROBLEM
"KRN",19,15480,-1)
0^22
"KRN",19,15480,0)
A1AE PHADD^Add a Patch^^R^^^^^^^^
"KRN",19,15480,1,0)
13^19.06^30^30^3020319^^^^
"KRN",19,15480,1,1,0)
This function permits authorized developers of a package to
"KRN",19,15480,1,2,0)
add a new patch to a specific version of the package.
"KRN",19,15480,1,3,0)
 
"KRN",19,15480,1,4,0)
Patches are unique by their designation which has the following
"KRN",19,15480,1,5,0)
format:
"KRN",19,15480,1,6,0)
 
"KRN",19,15480,1,7,0)
    Package Namespace*Version Number*System assigned patch Number
"KRN",19,15480,1,8,0)
 
"KRN",19,15480,1,9,0)
An asterisk is used as the delimiter between the field values.
"KRN",19,15480,1,10,0)
 
"KRN",19,15480,1,11,0)
When a new patch is added a 'PATCH SUBJECT' must be entered.
"KRN",19,15480,1,12,0)
This field has two cross-references that can be used for look-up.
"KRN",19,15480,1,13,0)
One is a regular cross-reference and the other is a key word in
"KRN",19,15480,1,14,0)
context cross-reference.
"KRN",19,15480,1,15,0)
 
"KRN",19,15480,1,16,0)
When the patch is added the system assigns it a patch status of
"KRN",19,15480,1,17,0)
'under development', and stores the user entering the patch
"KRN",19,15480,1,18,0)
and the date the patch is entered. Once you have entered
"KRN",19,15480,1,19,0)
the patch another developer must change the status to
"KRN",19,15480,1,20,0)
'completed/unverified'. Once the status is changed to
"KRN",19,15480,1,21,0)
'completed/unverified' a bulletin is sent to the verifiers
"KRN",19,15480,1,22,0)
of the package notifying them a patch is ready for verification.
"KRN",19,15480,1,23,0)
 
"KRN",19,15480,1,24,0)
When a routine name is entered, and if the routine is available,
"KRN",19,15480,1,25,0)
you are able to copy routine lines into the routine description.
"KRN",19,15480,1,26,0)
The system prompts you 'Do you want to copy routine lines into
"KRN",19,15480,1,27,0)
the routine description?'. You then select a range of lines to
"KRN",19,15480,1,28,0)
copy, and if a description already exists, you will be asked
"KRN",19,15480,1,29,0)
where in the description to insert the program lines; otherwise
"KRN",19,15480,1,30,0)
they are automatically inserted.
"KRN",19,15480,25)
1^A1AEPH1
"KRN",19,15480,99.1)
55493,42067
"KRN",19,15480,"U")
ADD A PATCH
"KRN",19,15481,-1)
0^23
"KRN",19,15481,0)
A1AE PHDEL^Delete an NotReleased Patch^^R^^^^^^^^
"KRN",19,15481,1,0)
^^13^13^3030911^
"KRN",19,15481,1,1,0)
This function permits authorized developers of a package to delete
"KRN",19,15481,1,2,0)
an incorrect patch which has a status of 'under development' or
"KRN",19,15481,1,3,0)
'completed/unverified'. Only these types of patches may be deleted
"KRN",19,15481,1,4,0)
since only the developer(s) and verifier(s) are aware of the patch.
"KRN",19,15481,1,5,0)
The system assigned patch number will then be re-assigned to the next
"KRN",19,15481,1,6,0)
patch.
"KRN",19,15481,1,7,0)
 
"KRN",19,15481,1,8,0)
When a patch has a status of 'verified' or 'entered in error'
"KRN",19,15481,1,9,0)
the patch can not be deleted, since users have been notified of the
"KRN",19,15481,1,10,0)
patch. If there is an error to a verified patch then the developer
"KRN",19,15481,1,11,0)
must change the status of the patch to 'entered in error' via
"KRN",19,15481,1,12,0)
the edit function. If the status is changed to 'entered in error'
"KRN",19,15481,1,13,0)
a message is sent to the users who printed the patch.
"KRN",19,15481,25)
2^A1AEPH1
"KRN",19,15481,99.1)
59214,39995
"KRN",19,15481,"U")
DELETE AN NOTRELEASED PATCH
"KRN",19,15482,-1)
0^24
"KRN",19,15482,0)
A1AE PHEDIT^Edit a Patch^^R^^^^^^^^
"KRN",19,15482,1,0)
^19.06^56^56^3041026^^^^
"KRN",19,15482,1,1,0)
This function permits authorized developers of a package to
"KRN",19,15482,1,2,0)
edit a patch.
"KRN",19,15482,1,3,0)
 
"KRN",19,15482,1,4,0)
Which fields may be edited are dependent on the value of the
"KRN",19,15482,1,5,0)
status field:
"KRN",19,15482,1,6,0)
 
"KRN",19,15482,1,7,0)
   Value of Status field    Fields which can be edited
"KRN",19,15482,1,8,0)
   ---------------------    --------------------------
"KRN",19,15482,1,9,0)
   'under development'       PATCH SUBJECT
"KRN",19,15482,1,10,0)
                             PRIORITY
"KRN",19,15482,1,11,0)
                             CATEGORY OF PATCH
"KRN",19,15482,1,12,0)
                             PATCH DESCRIPTION
"KRN",19,15482,1,13,0)
                             ROUTINE NAME
"KRN",19,15482,1,14,0)
                             DESCRIPTION OF ROUTINE CHANGES
"KRN",19,15482,1,15,0)
                             STATUS OF PATCH
"KRN",19,15482,1,16,0)
                             (Valid next status: 'completed/unverified'
"KRN",19,15482,1,17,0)
                               NOTE: When the completed/unverified
"KRN",19,15482,1,18,0)
                                     status is assigned a bulletin
"KRN",19,15482,1,19,0)
                                     is sent to the verifier(s) of
"KRN",19,15482,1,20,0)
                                     the package, notifying them
"KRN",19,15482,1,21,0)
                                     the patch is ready for
"KRN",19,15482,1,22,0)
                                     verification.)
"KRN",19,15482,1,23,0)
 
"KRN",19,15482,1,24,0)
   'completed/unverified'    PATCH SUBJECT
"KRN",19,15482,1,25,0)
                             PRIORITY
"KRN",19,15482,1,26,0)
                             CATEGORY OF PATCH
"KRN",19,15482,1,27,0)
                             PATCH DESCRIPTION
"KRN",19,15482,1,28,0)
                             ROUTINE NAME
"KRN",19,15482,1,29,0)
                             DESCRIPTION OF ROUTINE CHANGES
"KRN",19,15482,1,30,0)
                             STATUS OF PATCH
"KRN",19,15482,1,31,0)
                             (Valid next status: 'verified')
"KRN",19,15482,1,32,0)
                               NOTE: When the verified status
"KRN",19,15482,1,33,0)
                                     is assigned a bulletin is sent
"KRN",19,15482,1,34,0)
                                     to all of the select users of
"KRN",19,15482,1,35,0)
                                     the package, notifying them
"KRN",19,15482,1,36,0)
                                     there is a new patch.)
"KRN",19,15482,1,37,0)
 
"KRN",19,15482,1,38,0)
   'verified'                STATUS OF PATCH
"KRN",19,15482,1,39,0)
                             (Valid status change: 'entered in error')
"KRN",19,15482,1,40,0)
                               NOTE: When the entered in error
"KRN",19,15482,1,41,0)
                                     status is assigned a bulletin
"KRN",19,15482,1,42,0)
                                     is sent users who have printed
"KRN",19,15482,1,43,0)
                                     the patch, notifying them
"KRN",19,15482,1,44,0)
                                     the patch is incorrect.)
"KRN",19,15482,1,45,0)
 
"KRN",19,15482,1,46,0)
   'entered in error'        ENTERED IN ERROR DESCRIPTION; to enter
"KRN",19,15482,1,47,0)
                             why the patch is in error and where the
"KRN",19,15482,1,48,0)
                             correct patch can be found.
"KRN",19,15482,1,49,0)
 
"KRN",19,15482,1,50,0)
When looking up a patch, the values for the following fields can be
"KRN",19,15482,1,51,0)
entered as the look-up value:
"KRN",19,15482,1,52,0)
 
"KRN",19,15482,1,53,0)
   Patch Designation, Package, Patch Subject and Routine Name
"KRN",19,15482,1,54,0)
 
"KRN",19,15482,1,55,0)
There is also a key word in context cross-reference on the subject
"KRN",19,15482,1,56,0)
field that can be used.
"KRN",19,15482,25)
3^A1AEPH1
"KRN",19,15482,99)
57776,56668
"KRN",19,15482,"U")
EDIT A PATCH
"KRN",19,15483,-1)
0^53
"KRN",19,15483,0)
A1AE PRTUDVPH^Under Development Patches Report^^R^^^^^^^^
"KRN",19,15483,1,0)
^^12^12^2871112^^^^
"KRN",19,15483,1,1,0)
This print option generates a report of 'under development' patches
"KRN",19,15483,1,2,0)
for a selected package and version. The user must be an authorized
"KRN",19,15483,1,3,0)
developer of the package to use this option.
"KRN",19,15483,1,4,0)
 
"KRN",19,15483,1,5,0)
The user has the option of sorting the report by one of the following
"KRN",19,15483,1,6,0)
fields: Patch Designation, Category or Priority.
"KRN",19,15483,1,7,0)
 
"KRN",19,15483,1,8,0)
The report contains detailed information about each patch; including
"KRN",19,15483,1,9,0)
the Patch Subject, Description, Category, Priority and Status. The
"KRN",19,15483,1,10,0)
report also contains information about users who entered the patch.
"KRN",19,15483,1,11,0)
There is also a section for coding changes in the Routine Section of
"KRN",19,15483,1,12,0)
the patch.
"KRN",19,15483,25)
3^A1AEPH2
"KRN",19,15483,99.1)
60271,38557
"KRN",19,15483,"U")
UNDER DEVELOPMENT PATCHES REPO
"KRN",19,15484,-1)
0^50
"KRN",19,15484,0)
A1AE PRTPHS^All Released P's for a Package, Summary w/Routines^^R^^^^^^^^
"KRN",19,15484,1,0)
^^4^4^2981203^^^^
"KRN",19,15484,1,1,0)
This option permits the user to display a summary report of
"KRN",19,15484,1,2,0)
all patches for a selected package and version.
"KRN",19,15484,1,3,0)
 
"KRN",19,15484,1,4,0)
The report contains the Patch Designation, Subject, Status, and Routines.
"KRN",19,15484,25)
5^A1AEPH2
"KRN",19,15484,99)
55480,45206
"KRN",19,15484,99.1)
59214,39995
"KRN",19,15484,"U")
ALL RELEASED P'S FOR A PACKAGE
"KRN",19,15485,-1)
0^49
"KRN",19,15485,0)
A1AE PRTPHD^Display a Patch^^R^^^^^^^^
"KRN",19,15485,1,0)
^19.06^23^23^3040615^^^^
"KRN",19,15485,1,1,0)
This option permits the user to display a 'verified' or 'entered in 
"KRN",19,15485,1,2,0)
error' patch for any package in the patch file. A new patch which
"KRN",19,15485,1,3,0)
is displayed, but not printed, will still appear as new until it
"KRN",19,15485,1,4,0)
is printed.
"KRN",19,15485,1,5,0)
 
"KRN",19,15485,1,6,0)
When looking for a patch, the values for the following fields can be
"KRN",19,15485,1,7,0)
entered as the look-up value:
"KRN",19,15485,1,8,0)
 
"KRN",19,15485,1,9,0)
   Patch Designation, Package, Patch Subject and Routine
"KRN",19,15485,1,10,0)
 
"KRN",19,15485,1,11,0)
There is also key word in context cross-reference on the subject field
"KRN",19,15485,1,12,0)
that can be used.
"KRN",19,15485,1,13,0)
 
"KRN",19,15485,1,14,0)
If a patch has the status of 'verified' the display contains
"KRN",19,15485,1,15,0)
the Patch Subject, Description, Category, Priority and Status. The
"KRN",19,15485,1,16,0)
display also contains information about the users who entered the
"KRN",19,15485,1,17,0)
patch, completed the patch and verified the patch. There is also
"KRN",19,15485,1,18,0)
a section for coding changes in the Routine Section of the display.
"KRN",19,15485,1,19,0)
 
"KRN",19,15485,1,20,0)
NOTE:
"KRN",19,15485,1,21,0)
If a patch has the status of 'entered in error' only the Patch
"KRN",19,15485,1,22,0)
Designation, Status, Package, Priority, Subject and Entered in Error
"KRN",19,15485,1,23,0)
Description fields are displayed.
"KRN",19,15485,25)
6^A1AEPH2
"KRN",19,15485,99.1)
61807,40965
"KRN",19,15485,"U")
DISPLAY A PATCH
"KRN",19,15486,-1)
0^30
"KRN",19,15486,0)
A1AE PKGEDIT^Enter/Edit Authorized Users^^R^^^^^^^^
"KRN",19,15486,1,0)
^19.06^25^25^3030108^^^^
"KRN",19,15486,1,1,0)
This function permits authorized developers of a package to
"KRN",19,15486,1,2,0)
add development, support personnel, and verifiers.
"KRN",19,15486,1,3,0)
 
"KRN",19,15486,1,4,0)
When entering users the following three keys are automatically
"KRN",19,15486,1,5,0)
allocated to the user when they are entered as a developer, support
"KRN",19,15486,1,6,0)
person or verifier:
"KRN",19,15486,1,7,0)
    A1AE DEVELOPER, A1AE SUPPORT and A1AE PHVER
"KRN",19,15486,1,8,0)
 
"KRN",19,15486,1,9,0)
These keys may be manually allocated/deallocated using the 'Key
"KRN",19,15486,1,10,0)
Allocation for Patch Functions' option.
"KRN",19,15486,1,11,0)
 
"KRN",19,15486,1,12,0)
For authorized developers to receive the 'Developer's Menu'
"KRN",19,15486,1,13,0)
they must be given the A1AE DEVELOPER key, and for verifiers
"KRN",19,15486,1,14,0)
to receive the 'Verifier Menu' they must be given the
"KRN",19,15486,1,15,0)
A1AE PHVER key.
"KRN",19,15486,1,16,0)
 
"KRN",19,15486,1,17,0)
If the support person is also a verifier of the package, then a  
"KRN",19,15486,1,18,0)
'V' should be entered at the verifier prompt. 
"KRN",19,15486,1,19,0)
 
"KRN",19,15486,1,20,0)
The developer can also specify whether or not user selection
"KRN",19,15486,1,21,0)
of a package is permitted. If selection is permitted any user
"KRN",19,15486,1,22,0)
can select this package via the 'Select Packages for Notification'
"KRN",19,15486,1,23,0)
option. This selection causes 1) automatic notification of patches
"KRN",19,15486,1,24,0)
via mailman, and 2) printing of new patches for this package
"KRN",19,15486,1,25,0)
whenever the user enters the 'New Patch Report' option.
"KRN",19,15486,25)
1^A1AEAU
"KRN",19,15486,"U")
ENTER/EDIT AUTHORIZED USERS
"KRN",19,15487,-1)
0^48
"KRN",19,15487,0)
A1AE PRTPHA^All Released Patches for a Package, Detailed^^R^^^^^^^^
"KRN",19,15487,1,0)
^19.06^11^11^3010601^^^^
"KRN",19,15487,1,1,0)
This print option generates a report of all 'verified' patches for a
"KRN",19,15487,1,2,0)
selected package and version.
"KRN",19,15487,1,3,0)
 
"KRN",19,15487,1,4,0)
The user has the option of sorting the report by one of the following
"KRN",19,15487,1,5,0)
fields: Patch Designation, Status, Category or Priority.
"KRN",19,15487,1,6,0)
 
"KRN",19,15487,1,7,0)
The report contains detailed information about each patch including
"KRN",19,15487,1,8,0)
the Patch Subject, Description, Category, Priority and Status. The
"KRN",19,15487,1,9,0)
report also contains information about users who entered the patch,
"KRN",19,15487,1,10,0)
completed the patch and verified the patch. There is also a section
"KRN",19,15487,1,11,0)
for coding changes in the Routine Section of the report.
"KRN",19,15487,25)
7^A1AEPH2
"KRN",19,15487,"U")
ALL RELEASED PATCHES FOR A PAC
"KRN",19,15488,-1)
0^26
"KRN",19,15488,0)
A1AE PHVER^Release a Patch (and/or edit internal comments)^^R^^A1AE PHVER^^^^^^
"KRN",19,15488,1,0)
^19.06^8^8^3060404^^^^
"KRN",19,15488,1,1,0)
Using this option, authorized verifiers of a package can change
"KRN",19,15488,1,2,0)
the status of a 'completed/unverified' patch to the 'verified'
"KRN",19,15488,1,3,0)
status.
"KRN",19,15488,1,4,0)
 
"KRN",19,15488,1,5,0)
When the verifier changes the status of a patch to verified a
"KRN",19,15488,1,6,0)
bulletin is sent to user(s) who have requested notification of
"KRN",19,15488,1,7,0)
patches for the package. The patch is then available to
"KRN",19,15488,1,8,0)
all patch users.
"KRN",19,15488,25)
4^A1AEPH1
"KRN",19,15488,99.1)
59214,39995
"KRN",19,15488,"U")
RELEASE A PATCH (AND/OR EDIT I
"KRN",19,15489,-1)
0^65
"KRN",19,15489,0)
A1AE XUSEC^Key Allocation for Patch Functions^^R^^A1AE XUSEC^^^^^^
"KRN",19,15489,1,0)
^19.06^37^37^3020903^^^^
"KRN",19,15489,1,1,0)
  This function allows the package developers and the patch module
"KRN",19,15489,1,2,0)
coordinator to allocate patch module keys to other users. When
"KRN",19,15489,1,3,0)
a holder of a patch key is edited, the user is told what other
"KRN",19,15489,1,4,0)
packages the user may need the key for. The user is then asked
"KRN",19,15489,1,5,0)
if s/he wants to delete the holder.
"KRN",19,15489,1,6,0)
 
"KRN",19,15489,1,7,0)
  The keys available are the following:
"KRN",19,15489,1,8,0)
 
"KRN",19,15489,1,9,0)
      1) A1AE PHVER      - This key allows the user to have access to the
"KRN",19,15489,1,10,0)
                           'Verifier Menu' of the 'Patch User Menu'.
"KRN",19,15489,1,11,0)
   
"KRN",19,15489,1,12,0)
      2) A1AE DEVELOPER  - This key allows the user to have access to
"KRN",19,15489,1,13,0)
                           the 'Developer's Menu' of the patch user menu
"KRN",19,15489,1,14,0)
 
"KRN",19,15489,1,15,0)
      3) A1AE XUSEC      - This key allows the user, usually a developer,
"KRN",19,15489,1,16,0)
                           to have access to the 'Key Allocation of Patch
"KRN",19,15489,1,17,0)
                           Functions' option of the 'Package Management'
"KRN",19,15489,1,18,0)
                           menu. If a user has this key then through the
"KRN",19,15489,1,19,0)
                           key allocation option, s/he can give out only
"KRN",19,15489,1,20,0)
                           the following keys:
"KRN",19,15489,1,21,0)
                                       A1AE SUPPORT
"KRN",19,15489,1,22,0)
                                       A1AE DEVELOPER
"KRN",19,15489,1,23,0)
                                       A1AE PHVER
"KRN",19,15489,1,24,0)
 
"KRN",19,15489,1,25,0)
      4) A1AE SUPPORT    - This key use to allow the holder access to the
"KRN",19,15489,1,26,0)
                           'Support Menu' of the 'Patch User Menu'.
"KRN",19,15489,1,27,0)
                           This menu has been removed in Version 2.0
"KRN",19,15489,1,28,0)
                           of the Patch Module. This key is being left
"KRN",19,15489,1,29,0)
                           in the module for future enhancements.
"KRN",19,15489,1,30,0)
 
"KRN",19,15489,1,31,0)
      5) A1AE MGR        - This key allows the user to have access to the 
"KRN",19,15489,1,32,0)
                           'Patch Module Management' menu of the 'Patch
"KRN",19,15489,1,33,0)
                           User Menu'.
"KRN",19,15489,1,34,0)
   
"KRN",19,15489,1,35,0)
                           Also, the user will be able to allocate all
"KRN",19,15489,1,36,0)
                           A1AE keys through the 'Key Allocation for
"KRN",19,15489,1,37,0)
                           Patch Functions'.
"KRN",19,15489,25)
6^A1AEAU
"KRN",19,15489,"U")
KEY ALLOCATION FOR PATCH FUNCT
"KRN",19,15490,-1)
0^32
"KRN",19,15490,0)
A1AE PKGMGT^Package Management^^M^^^^^^^^
"KRN",19,15490,1,0)
^19.06^10^10^3021217^^^^
"KRN",19,15490,1,1,0)
This menu permits a developer of a package to maintain
"KRN",19,15490,1,2,0)
the authorized developers, support personnel and verifiers
"KRN",19,15490,1,3,0)
associated with the package.
"KRN",19,15490,1,4,0)
 
"KRN",19,15490,1,5,0)
This menu also permits holders of the A1AE XUSEC key to allocate
"KRN",19,15490,1,6,0)
other patch keys.
"KRN",19,15490,1,7,0)
 
"KRN",19,15490,1,8,0)
This menu also contains a print option to generate a report
"KRN",19,15490,1,9,0)
of the developers, support personnel, verifiers and any selected 
"KRN",19,15490,1,10,0)
users associated with the package.
"KRN",19,15490,10,0)
^19.01IP^3^3
"KRN",19,15490,10,1,0)
15486^
"KRN",19,15490,10,1,"^")
A1AE PKGEDIT
"KRN",19,15490,10,2,0)
15489^
"KRN",19,15490,10,2,"^")
A1AE XUSEC
"KRN",19,15490,10,3,0)
15493^
"KRN",19,15490,10,3,"^")
A1AE PKGLIST
"KRN",19,15490,99)
62054,33819
"KRN",19,15490,99.1)
61956,81227
"KRN",19,15490,"U")
PACKAGE MANAGEMENT
"KRN",19,15491,-1)
0^13
"KRN",19,15491,0)
A1AE MGR^Patch Module Management^^M^^A1AE MGR^^^^^^
"KRN",19,15491,1,0)
^19.06^4^4^3071010^^^^
"KRN",19,15491,1,1,0)
This menu permits the Holder of the A1AE MGR key to Add/Edit Packages, 
"KRN",19,15491,1,2,0)
developers, support and verify personnel in the DHCP PATCH/PROBLEM
"KRN",19,15491,1,3,0)
file (#11007). It also permits the user to allocate patch function
"KRN",19,15491,1,4,0)
keys.
"KRN",19,15491,10,0)
^19.01IP^4^4
"KRN",19,15491,10,1,0)
15489^
"KRN",19,15491,10,1,"^")
A1AE XUSEC
"KRN",19,15491,10,2,0)
15492^
"KRN",19,15491,10,2,"^")
A1AE MGRADD
"KRN",19,15491,10,3,0)
15467^U
"KRN",19,15491,10,3,"^")
A1AE USER
"KRN",19,15491,10,4,0)
15478^D
"KRN",19,15491,10,4,"^")
A1AE DEVELOPER
"KRN",19,15491,25)

"KRN",19,15491,99)
62054,33819
"KRN",19,15491,99.1)
61956,81227
"KRN",19,15491,"U")
PATCH MODULE MANAGEMENT
"KRN",19,15492,-1)
0^14
"KRN",19,15492,0)
A1AE MGRADD^Add Package to Patch Module^^R^^A1AE MGR^^^^^^
"KRN",19,15492,1,0)
^^8^8^2900428^^^^
"KRN",19,15492,1,1,0)
This function permits holders of the A1AE MGR key to add packages
"KRN",19,15492,1,2,0)
to the DHCP PATCH/PROBLEM PACKAGE file (#11007). When a package is
"KRN",19,15492,1,3,0)
added the USER SELECTION field is set to 'No' by the system. The
"KRN",19,15492,1,4,0)
developer of the package which is being added can then change
"KRN",19,15492,1,5,0)
this field to 'Yes' to permit users to select the package, or the
"KRN",19,15492,1,6,0)
user entering the package can enter 'Yes' to permit users to
"KRN",19,15492,1,7,0)
select this package for automatic notification and printing of
"KRN",19,15492,1,8,0)
patches.
"KRN",19,15492,25)
3^A1AEAU
"KRN",19,15492,99.1)
55442,81811
"KRN",19,15492,"U")
ADD PACKAGE TO PATCH MODULE
"KRN",19,15493,-1)
0^31
"KRN",19,15493,0)
A1AE PKGLIST^List of Package Users^^R^^^^^^^^
"KRN",19,15493,1,0)
^19.06^6^6^3021217^^^^
"KRN",19,15493,1,1,0)
This function generates a report of user information about a
"KRN",19,15493,1,2,0)
selected package. The user must be an authorized developer of the
"KRN",19,15493,1,3,0)
package to use this option.
"KRN",19,15493,1,4,0)
 
"KRN",19,15493,1,5,0)
The report contains the developers, support personnel and any selected
"KRN",19,15493,1,6,0)
users associated with the package.
"KRN",19,15493,25)
4^A1AEAU
"KRN",19,15493,"U")
LIST OF PACKAGE USERS
"KRN",19,15494,-1)
0^25
"KRN",19,15494,0)
A1AE PHEXTEND^Extended (DIQ) Display of a Patch^^R^^^^^^^^^^1
"KRN",19,15494,1,0)
^^8^8^2980923^
"KRN",19,15494,1,1,0)
This option allows the developer to view an extended display of a
"KRN",19,15494,1,2,0)
patch. Information regarding who has printed the patch is available
"KRN",19,15494,1,3,0)
through this option. You may display when a selected user printed
"KRN",19,15494,1,4,0)
or the entire patch and all users who printed it. Note this option
"KRN",19,15494,1,5,0)
prints the fields as they exist in Fileman NOT the way they are
"KRN",19,15494,1,6,0)
displayed in the patch report; the Display a Patch option now can be 
"KRN",19,15494,1,7,0)
used to display Under Development patches for which the user is a 
"KRN",19,15494,1,8,0)
package developer.
"KRN",19,15494,20)
W !!,"The Display a Patch option can now (DIP) print any patch this option can.",!
"KRN",19,15494,25)
8^A1AEPH2
"KRN",19,15494,99.1)
54368,48022
"KRN",19,15494,"U")
EXTENDED (DIQ) DISPLAY OF A PA
"KRN",19,15495,-1)
0^15
"KRN",19,15495,0)
A1AE PATCHDOC^Patch Options Documentation^^R^^^^^^^^
"KRN",19,15495,1,0)
^^2^2^2871112^^^
"KRN",19,15495,1,1,0)
This print option generates a report of all the options available
"KRN",19,15495,1,2,0)
for recording, printing and maintaining patch information.
"KRN",19,15495,25)
5^A1AEAU
"KRN",19,15495,"U")
PATCH OPTIONS DOCUMENTATION
"KRN",19,15496,-1)
0^54
"KRN",19,15496,0)
A1AE PRTUDVPH VER^Under Development Patches Report for Releasers^^R^^A1AE PHVER^^^^^^
"KRN",19,15496,1,0)
^^17^17^2920915^^^^
"KRN",19,15496,1,1,0)
This print option generates a report of 'under development' patches for a
"KRN",19,15496,1,2,0)
selected package and version. The user must be an authorized verifier of
"KRN",19,15496,1,3,0)
the package and must have the A1AE PHVER security key to have the option
"KRN",19,15496,1,4,0)
appear on the the support menu.
"KRN",19,15496,1,5,0)
 
"KRN",19,15496,1,6,0)
The user has the option of sorting the report by one of the following
"KRN",19,15496,1,7,0)
fields: Patch Designation, Category or Priority.
"KRN",19,15496,1,8,0)
 
"KRN",19,15496,1,9,0)
The report contains detailed information about each patch including the
"KRN",19,15496,1,10,0)
Patch Subject, Description, Category, Priority and Status. The report also
"KRN",19,15496,1,11,0)
contains information about users who have entered the patch and completed
"KRN",19,15496,1,12,0)
and/or verified the patch and routine information.
"KRN",19,15496,1,13,0)
 
"KRN",19,15496,1,14,0)
This option is the same as the A1AE PRTUDVPH option except that it requires
"KRN",19,15496,1,15,0)
the A1AE PHVER key. It should be used by the verifier to help the developer
"KRN",19,15496,1,16,0)
to avoid typos before the developer changes the status to
"KRN",19,15496,1,17,0)
'completed/unverified'.
"KRN",19,15496,25)
3^A1AEPH2
"KRN",19,15496,"U")
UNDER DEVELOPMENT PATCHES REPO
"KRN",19,15497,-1)
0^5
"KRN",19,15497,0)
A1AE COPY PATCH^Copy a patch into a new patch^^R^^^^^^^^
"KRN",19,15497,1,0)
^19.06^14^14^3030910^^^^
"KRN",19,15497,1,1,0)
This function permits authorized developers of a package to copy
"KRN",19,15497,1,2,0)
information from an existing patch into a new patch. The new patch
"KRN",19,15497,1,3,0)
which is added must be for the same package, but can be for a different
"KRN",19,15497,1,4,0)
version.
"KRN",19,15497,1,5,0)
 
"KRN",19,15497,1,6,0)
First you will be prompted for a patch to copy, then the version
"KRN",19,15497,1,7,0)
number of the new patch being created. The system assigns a patch
"KRN",19,15497,1,8,0)
designation to the new patch and you are asked if you want to add
"KRN",19,15497,1,9,0)
this patch. If you respond 'Yes' you will be prompted for the
"KRN",19,15497,1,10,0)
Subject of the new patch. The new patch is automatically assigned
"KRN",19,15497,1,11,0)
a status of Under Development and as always the user entering and 
"KRN",19,15497,1,12,0)
date entered is set by the system. The Priority, Category(s), Patch
"KRN",19,15497,1,13,0)
Description and all Routine information is copied over from the
"KRN",19,15497,1,14,0)
existing patch into the new patch.
"KRN",19,15497,25)
5^A1AEPH1
"KRN",19,15497,"U")
COPY A PATCH INTO A NEW PATCH
"KRN",19,15498,-1)
0^42
"KRN",19,15498,0)
A1AE PRTCOMPHDTE^Completed Patch Summary Report by Date^^R^^^^^^^^
"KRN",19,15498,1,0)
^^4^4^2860619^
"KRN",19,15498,1,1,0)
This print option generates a report of completed patches for a
"KRN",19,15498,1,2,0)
select package, or all selected packages for a specified date
"KRN",19,15498,1,3,0)
range. The report contains the Patch Designation, Subject, Date
"KRN",19,15498,1,4,0)
Completed, and Priority.
"KRN",19,15498,25)
9^A1AEPH2
"KRN",19,15498,"U")
COMPLETED PATCH SUMMARY REPORT
"KRN",19,15499,-1)
0^9
"KRN",19,15499,0)
A1AE DISCOMPH^Display a Completed/NotReleased Patch^^R^^^^^^^^
"KRN",19,15499,1,0)
^^16^16^2981125^^^^
"KRN",19,15499,1,1,0)
This option permits display of a 'completed/unverified' patch.
"KRN",19,15499,1,2,0)
The user must be an authorized developer or verifier to use this
"KRN",19,15499,1,3,0)
option.
"KRN",19,15499,1,4,0)
 
"KRN",19,15499,1,5,0)
When looking for a patch, the values for the following fields can be
"KRN",19,15499,1,6,0)
entered as the look-up value:
"KRN",19,15499,1,7,0)
 
"KRN",19,15499,1,8,0)
   Patch Designation, Package, Patch Subject and Routine
"KRN",19,15499,1,9,0)
 
"KRN",19,15499,1,10,0)
There is also a key word in context cross-reference on the subject
"KRN",19,15499,1,11,0)
field that can be used.
"KRN",19,15499,1,12,0)
 
"KRN",19,15499,1,13,0)
The display contains the Patch Subject, Description, Category, Priority
"KRN",19,15499,1,14,0)
and Status. The display also contains information about the users
"KRN",19,15499,1,15,0)
who entered the patch and completed the patch. There is also a section
"KRN",19,15499,1,16,0)
for coding changes in the Routine Section of the display.
"KRN",19,15499,25)
4^A1AEPH2
"KRN",19,15499,"U")
DISPLAY A COMPLETED/NOTRELEASE
"KRN",19,15500,-1)
0^64
"KRN",19,15500,0)
A1AE VERIFIER^Releaser Menu^^M^^A1AE PHVER^^^^^^
"KRN",19,15500,1,0)
^19.06^3^3^3070327^^^^
"KRN",19,15500,1,1,0)
This menu provides the holder of the A1AE PHVER key with
"KRN",19,15500,1,2,0)
the options needed to verify, display and print Completed/
"KRN",19,15500,1,3,0)
unverified patches for packages which s/he is a verifier.
"KRN",19,15500,10,0)
^19.01IP^23^23
"KRN",19,15500,10,15,0)
15530
"KRN",19,15500,10,15,"^")
A1AE PKVER
"KRN",19,15500,10,16,0)
15521^CDE
"KRN",19,15500,10,16,"^")
A1AE COMPLIANCE EDIT
"KRN",19,15500,10,17,0)
15488
"KRN",19,15500,10,17,"^")
A1AE PHVER
"KRN",19,15500,10,18,0)
15523
"KRN",19,15500,10,18,"^")
A1AE ROUTINES THAT OVERLAP
"KRN",19,15500,10,19,0)
15499
"KRN",19,15500,10,19,"^")
A1AE DISCOMPH
"KRN",19,15500,10,20,0)
15472
"KRN",19,15500,10,20,"^")
A1AE PRTCOMPH
"KRN",19,15500,10,21,0)
15507
"KRN",19,15500,10,21,"^")
A1AE DEV FORWARD
"KRN",19,15500,10,22,0)
15509
"KRN",19,15500,10,22,"^")
A1AE PRTCOMPHVER
"KRN",19,15500,10,23,0)
15513^
"KRN",19,15500,10,23,"^")
A1AE COMPLIANCE DISPLAY
"KRN",19,15500,15)

"KRN",19,15500,20)

"KRN",19,15500,99)
62054,33819
"KRN",19,15500,99.1)
61412,81006
"KRN",19,15500,"U")
RELEASER MENU
"KRN",19,15501,-1)
0^44
"KRN",19,15501,0)
A1AE PRTCOMSUMDT^Released Patch Summary Report by Date^^R^^^XQUIT MESSAGE^^^^^
"KRN",19,15501,1,0)
^19.06^4^4^3020513^^^^
"KRN",19,15501,1,1,0)
This print option generates a report of 'verified' patches for a
"KRN",19,15501,1,2,0)
select package, or all selected packages for a specified date
"KRN",19,15501,1,3,0)
range. The report contains the Patch Designation, Subject, Date
"KRN",19,15501,1,4,0)
Completed, and Priority.
"KRN",19,15501,25)
9^A1AEPH2
"KRN",19,15501,"U")
RELEASED PATCH SUMMARY REPORT 
"KRN",19,15502,-1)
0^40
"KRN",19,15502,0)
A1AE PRTCOMDETDT^Released Patches by Date Detailed Report^^R^^^^^^^^
"KRN",19,15502,1,0)
^^8^8^2981203^^^^
"KRN",19,15502,1,1,0)
This print option generates a detailed report of 'verified' patches
"KRN",19,15502,1,2,0)
for a select package, or all selected packages for a specified date
"KRN",19,15502,1,3,0)
range. The report contains detailed information about each patch
"KRN",19,15502,1,4,0)
including the Patch Subject, Description, Category, Priority and
"KRN",19,15502,1,5,0)
Status. The report also contains information about the users who
"KRN",19,15502,1,6,0)
entered the patch, completed the patch and verified the patch. There
"KRN",19,15502,1,7,0)
is also a section for coding changes in the Routine Section of the
"KRN",19,15502,1,8,0)
report.
"KRN",19,15502,25)
10^A1AEPH2
"KRN",19,15502,"U")
RELEASED PATCHES BY DATE DETAI
"KRN",19,15503,-1)
0^37
"KRN",19,15503,0)
A1AE POST VERIFY^Actually Verify Patches Verified by Postmaster^^R^^^^^^^^
"KRN",19,15503,1,0)
^^7^7^2871112^^
"KRN",19,15503,1,1,0)
Using this option, authorized verifiers of a package can change
"KRN",19,15503,1,2,0)
the status of a patch 'verified' by the Postmaster to the status
"KRN",19,15503,1,3,0)
of 'verified' by the verifier. This function is needed for the
"KRN",19,15503,1,4,0)
changes implemented in Version 2.0 of the National Patch Module.
"KRN",19,15503,1,5,0)
It is a temporary option which will be removed once the conversion
"KRN",19,15503,1,6,0)
process is complete and all patches in the module have assigned
"KRN",19,15503,1,7,0)
to them a valid verifier.
"KRN",19,15503,25)
ENVER^A1AEUTL
"KRN",19,15503,"U")
ACTUALLY VERIFY PATCHES VERIFI
"KRN",19,15504,-1)
0^47
"KRN",19,15504,0)
A1AE PRTNEWPHNUM^Display Number of New Patches^^R^^^^^^^^
"KRN",19,15504,1,0)
^^8^8^2891006^^^^
"KRN",19,15504,1,1,0)
This option displays a summary of the number of new
"KRN",19,15504,1,2,0)
patches for your selected packages. This display includes
"KRN",19,15504,1,3,0)
the package name, number of new patches and date any
"KRN",19,15504,1,4,0)
patches were last printed for the package.
"KRN",19,15504,1,5,0)
 
"KRN",19,15504,1,6,0)
A patch is 'new' if it has not been printed by the user and
"KRN",19,15504,1,7,0)
it has a status of 'verified'. Once a 'new' patch has been
"KRN",19,15504,1,8,0)
printed it will no longer be counted on this summary display.
"KRN",19,15504,25)
DSPNEW^A1AEVP
"KRN",19,15504,"U")
DISPLAY NUMBER OF NEW PATCHES
"KRN",19,15505,-1)
0^6
"KRN",19,15505,0)
A1AE DEV CREATE^Create a packman message^^R^^^^^^^^
"KRN",19,15505,1,0)
^^2^2^2900429^
"KRN",19,15505,1,1,0)
This option allows a developer to create a input packman message
"KRN",19,15505,1,2,0)
from the local routine directory if the routines, version are present
"KRN",19,15505,20)

"KRN",19,15505,25)
6^A1AEPH1
"KRN",19,15505,"U")
CREATE A PACKMAN MESSAGE
"KRN",19,15506,-1)
0^10
"KRN",19,15506,0)
A1AE FORWARD^Forward a Released Patch message^^R^^^^^^^^
"KRN",19,15506,1,0)
^19.06^1^1^3100521^^^^
"KRN",19,15506,1,1,0)
This option allows a user to forward a verified patch message.
"KRN",19,15506,20)

"KRN",19,15506,25)
8^A1AEPH1
"KRN",19,15506,"U")
FORWARD A RELEASED PATCH MESSA
"KRN",19,15507,-1)
0^7
"KRN",19,15507,0)
A1AE DEV FORWARD^Forward a Completed/NotReleased Patch Message^^R^^^^^^^^
"KRN",19,15507,1,0)
^^2^2^2921215^^^^
"KRN",19,15507,1,1,0)
This allows a developer or verifier to forward a 'Complete/unverified'
"KRN",19,15507,1,2,0)
Patch Message.
"KRN",19,15507,20)

"KRN",19,15507,25)
7^A1AEPH1
"KRN",19,15507,99.1)
59793,42354
"KRN",19,15507,"U")
FORWARD A COMPLETED/NOTRELEASE
"KRN",19,15508,-1)
0^33
"KRN",19,15508,0)
A1AE PKGPRT^Set All patches for selected Packages as Printed^^R^^^^^^^^
"KRN",19,15508,1,0)
^^6^6^2900604^^
"KRN",19,15508,1,1,0)
This option allows a new user of the Patch Module to update the
"KRN",19,15508,1,2,0)
printed status of all patches for all selected packages.  This 
"KRN",19,15508,1,3,0)
option is used so that patches that were verified previous to 
"KRN",19,15508,1,4,0)
the selection of package by the user no longer appear on 'new'
"KRN",19,15508,1,5,0)
patch displays.  The patches may still be viewed and printed with
"KRN",19,15508,1,6,0)
other options.
"KRN",19,15508,25)
12^A1AEPH2
"KRN",19,15508,"U")
SET ALL PATCHES FOR SELECTED P
"KRN",19,15509,-1)
0^43
"KRN",19,15509,0)
A1AE PRTCOMPHVER^Completed Patch Summary for Assigned Packages^^R^^^^^^^^
"KRN",19,15509,1,0)
^^2^2^2900607^^
"KRN",19,15509,1,1,0)
This prints a summary report for all complete/unverified patches in
"KRN",19,15509,1,2,0)
all assigned Packages.
"KRN",19,15509,25)
13^A1AEPH2
"KRN",19,15509,"U")
COMPLETED PATCH SUMMARY FOR AS
"KRN",19,15510,-1)
0^60
"KRN",19,15510,0)
A1AE SERVER VERIFIED^Serve and preserve verified messages^^S^^^^^^^^
"KRN",19,15510,220)
^Q^^^Y^N
"KRN",19,15510,"U")
SERVE AND PRESERVE VERIFIED ME
"KRN",19,15511,-1)
0^1
"KRN",19,15511,0)
A1AE AUTHORIZED DOMAINS^Authorized Domains^^E^^^^^^^^PATCH MODULE^n
"KRN",19,15511,1,0)
^^2^2^3060425^
"KRN",19,15511,1,1,0)
This option allow the editing of the Authorized Domains multipule in the 
"KRN",19,15511,1,2,0)
package file.
"KRN",19,15511,30)
DIC(9.4,
"KRN",19,15511,31)
AEMQ
"KRN",19,15511,50)
DIC(9.4,
"KRN",19,15511,51)
25
"KRN",19,15511,99.1)
60381,62941
"KRN",19,15511,"U")
AUTHORIZED DOMAINS
"KRN",19,15512,-1)
0^2
"KRN",19,15512,0)
A1AE COMPLIANCE COMMENT PRT^Compliance Date Print^^I^^A1AE COMPDATE^^^^^^PATCH MODULE
"KRN",19,15512,1,0)
^19.06^2^2^3070314^^^^
"KRN",19,15512,1,1,0)
The option is used to display the Compliance Date information including 
"KRN",19,15512,1,2,0)
any Compliance Date comments.
"KRN",19,15512,30)
A1AE(11005,
"KRN",19,15512,31)
AEMQ
"KRN",19,15512,63)
[A1AE PATCH COMPL/COMMENT RPT]
"KRN",19,15512,80)
A1AE(11005,
"KRN",19,15512,99.1)
60705,56451
"KRN",19,15512,"U")
COMPLIANCE DATE PRINT
"KRN",19,15513,-1)
0^3
"KRN",19,15513,0)
A1AE COMPLIANCE DISPLAY^Compliance Date Display^^P^^^^^^^^PATCH MODULE
"KRN",19,15513,1,0)
^19.06^3^3^3070327^^
"KRN",19,15513,1,1,0)
This report will display Compliance Date data sorted by date verified.  If
"KRN",19,15513,1,2,0)
the Compliance Date contains any text in the "Reason for Change: field 
"KRN",19,15513,1,3,0)
this data is also displayed.
"KRN",19,15513,60)
A1AE(11005,
"KRN",19,15513,62)
0
"KRN",19,15513,63)
[A1AE PATCH COMPL/COMMENT RPT]
"KRN",19,15513,64)
[A1AE PATCH COMPL/COMM SORT]
"KRN",19,15513,65)

"KRN",19,15513,66)

"KRN",19,15513,"U")
COMPLIANCE DATE DISPLAY
"KRN",19,15514,-1)
0^57
"KRN",19,15514,0)
A1AE ROUTINE INQUIRE^Routine Inquire^^I^^^^^^^^PATCH MODULE^y
"KRN",19,15514,1,0)
^^2^2^3060621^
"KRN",19,15514,1,1,0)
This option allows a inquire to the routine file to find out the current 
"KRN",19,15514,1,2,0)
and past checksums.
"KRN",19,15514,30)
DIC(9.8,
"KRN",19,15514,31)
AEMQ
"KRN",19,15514,63)
[A1AE RTN CHECKSUM]
"KRN",19,15514,70)
HOME
"KRN",19,15514,80)
DIC(9.8,
"KRN",19,15514,83)
Y
"KRN",19,15514,"U")
ROUTINE INQUIRE
"KRN",19,15515,-1)
0^62
"KRN",19,15515,0)
A1AE TEST SCANNER^Scan Patch for Discrepancies and Contents^^R^^A1AE SCAN MESSAGE^^^^^^PATCH MODULE
"KRN",19,15515,1,0)
^^2^2^2981021^
"KRN",19,15515,1,1,0)
Enables manual running of patch scanner (inventorier and checksum
"KRN",19,15515,1,2,0)
verifier), e.g. for testing prior to general release.
"KRN",19,15515,25)
A1AECOM
"KRN",19,15515,"U")
SCAN PATCH FOR DISCREPANCIES A
"KRN",19,15516,-1)
0^45
"KRN",19,15516,0)
A1AE PRTDETDT ORG^Detailed Report of Released Patches by Date^^R^^^^^^^^
"KRN",19,15516,1,0)
^^8^8^2981203^^^^
"KRN",19,15516,1,1,0)
This print option generates a detailed report of 'verified' patches
"KRN",19,15516,1,2,0)
for a select package, or all selected packages for a specified date
"KRN",19,15516,1,3,0)
range. The report contains detailed information about each patch
"KRN",19,15516,1,4,0)
including the Patch Subject, Description, Category, Priority and
"KRN",19,15516,1,5,0)
Status. The report also contains information about the users who
"KRN",19,15516,1,6,0)
entered the patch, completed the patch and verified the patch. There
"KRN",19,15516,1,7,0)
is also a section for coding changes in the Routine Section of the
"KRN",19,15516,1,8,0)
report.
"KRN",19,15516,25)
10^A1AEPH2
"KRN",19,15516,"U")
DETAILED REPORT OF RELEASED PA
"KRN",19,15517,-1)
0^38
"KRN",19,15517,0)
A1AE PRT SUM DT ORG^Released Patch Summary Report by Date^^R^^^^^^^^
"KRN",19,15517,1,0)
^^4^4^2981203^^^^
"KRN",19,15517,1,1,0)
This print option generates a report of 'verified' patches for a
"KRN",19,15517,1,2,0)
select package, or all selected packages for a specified date
"KRN",19,15517,1,3,0)
range. The report contains the Patch Designation, Subject, Date
"KRN",19,15517,1,4,0)
Completed, and Priority.
"KRN",19,15517,25)
9^A1AEPH2
"KRN",19,15517,"U")
RELEASED PATCH SUMMARY REPORT 
"KRN",19,15518,-1)
0^51
"KRN",19,15518,0)
A1AE PRTPHS ORG^Summary Report of All Patches for a Package^^R^^^^^^^^
"KRN",19,15518,1,0)
^19.06^4^4^3031020^^^^
"KRN",19,15518,1,1,0)
This option permits the user to display a summary report of
"KRN",19,15518,1,2,0)
all patches for a selected package and version.
"KRN",19,15518,1,3,0)
 
"KRN",19,15518,1,4,0)
The report contains the Patch Designation, Subject, Status, and Routines.
"KRN",19,15518,25)
5^A1AEPH2
"KRN",19,15518,99)
55480,45206
"KRN",19,15518,99.1)
55442,81811
"KRN",19,15518,"U")
SUMMARY REPORT OF ALL PATCHES 
"KRN",19,15519,-1)
0^11
"KRN",19,15519,0)
A1AE FULL SUMMARY BY DATE^Full Summary by Date for Every Package^^P^^^^^^^^
"KRN",19,15519,1,0)
^^3^3^3020513^
"KRN",19,15519,1,1,0)
This print option generates a report of 'verified' patches for all 
"KRN",19,15519,1,2,0)
packages, not just for users selected packages, for a specified date
"KRN",19,15519,1,3,0)
range. 
"KRN",19,15519,60)
A1AE(11005,
"KRN",19,15519,62)
0
"KRN",19,15519,63)
[A1AE FULL SUMMARY BY DATE]
"KRN",19,15519,64)
[A1AE FULL SUMARY SORT]
"KRN",19,15519,65)

"KRN",19,15519,66)

"KRN",19,15519,"U")
FULL SUMMARY BY DATE FOR EVERY
"KRN",19,15520,-1)
0^56
"KRN",19,15520,0)
A1AE RELEASE SUMMARY^Release Summary^^P^^^^^^^^PATCH MODULE
"KRN",19,15520,1,0)
^19.06^2^2^3031028^^^^
"KRN",19,15520,1,1,0)
For a selected date range, displays the patch, sequence, date of release,
"KRN",19,15520,1,2,0)
compliance date and status (mandatory, emergency).
"KRN",19,15520,60)
A1AE(11005.1,
"KRN",19,15520,62)
0
"KRN",19,15520,63)
[DBA PATCH RELEASE SUMMARY]
"KRN",19,15520,64)
[DBA PATCH RELEASE SUMMARY]
"KRN",19,15520,65)
?,
"KRN",19,15520,66)
?,
"KRN",19,15520,"U")
RELEASE SUMMARY
"KRN",19,15521,-1)
0^4
"KRN",19,15521,0)
A1AE COMPLIANCE EDIT^Compliance Date Edit^^E^^A1AE COMPDATE^^^^^^PATCH MODULE
"KRN",19,15521,1,0)
^19.06^2^2^3040928^^^^
"KRN",19,15521,1,1,0)
The option is used to edit the Compliance Date on already released 
"KRN",19,15521,1,2,0)
patches.
"KRN",19,15521,30)
A1AE(11005,
"KRN",19,15521,31)
AEMQ
"KRN",19,15521,50)
A1AE(11005,
"KRN",19,15521,51)
[A1AE COMP DATE]
"KRN",19,15521,99.1)
60235,29929
"KRN",19,15521,"U")
COMPLIANCE DATE EDIT
"KRN",19,15522,-1)
0^58
"KRN",19,15522,0)
A1AE ROUTINES IN A PATCH^Routines in a patch^^P^^^^^^^^
"KRN",19,15522,60)
A1AE(11005,
"KRN",19,15522,62)
0
"KRN",19,15522,63)
[ROUTINES IN A PATCH]
"KRN",19,15522,64)
[ROUTINES IN A PATCH]
"KRN",19,15522,65)

"KRN",19,15522,66)

"KRN",19,15522,99.1)
59947,60222
"KRN",19,15522,"U")
ROUTINES IN A PATCH
"KRN",19,15523,-1)
0^59
"KRN",19,15523,0)
A1AE ROUTINES THAT OVERLAP^Routines that overlap in patches^^R^^^^^^^^
"KRN",19,15523,1,0)
^^2^2^3050325^
"KRN",19,15523,1,1,0)
Given a selected patch that is entered or completed but not yet
"KRN",19,15523,1,2,0)
verified/released, routines that overlap with other patches are listed.
"KRN",19,15523,25)
A1AERCON
"KRN",19,15523,"U")
ROUTINES THAT OVERLAP IN PATCH
"KRN",19,15524,-1)
0^12
"KRN",19,15524,0)
A1AE HFS CHKSUM SVR^HFS CHECKSUM MSG SERVER^^S^^^^^^^^PATCH MODULE^y
"KRN",19,15524,1,0)
^19.06^2^2^3050801^^
"KRN",19,15524,1,1,0)
This option is the server to proccess HFS transport messages with the 
"KRN",19,15524,1,2,0)
Routine checksums.
"KRN",19,15524,25)
EN^A1AEHSVR
"KRN",19,15524,220)
^R^^N^Y^N^0^^7
"KRN",19,15524,"U")
HFS CHECKSUM MSG SERVER
"KRN",19,15525,-1)
0^52
"KRN",19,15525,0)
A1AE PRTUDP^Under Development Patch Listing^^R^^^^^^^^
"KRN",19,15525,1,0)
^^8^8^3060223^
"KRN",19,15525,1,1,0)
This option permits the user to display a 'UNDER DEVELOPMENT' patch for 
"KRN",19,15525,1,2,0)
any package in the patch file. 
"KRN",19,15525,1,3,0)
  
"KRN",19,15525,1,4,0)
If a patch has the status of 'under development' the display contains the
"KRN",19,15525,1,5,0)
Patch Subject, Description, Category, Priority and Status. The display
"KRN",19,15525,1,6,0)
also contains information about the users who entered the patch, completed
"KRN",19,15525,1,7,0)
the patch and verified the patch. There is also a section for coding
"KRN",19,15525,1,8,0)
changes in the Routine Section of the display.
"KRN",19,15525,25)
UD^A1AEPH2
"KRN",19,15525,"U")
UNDER DEVELOPMENT PATCH LISTIN
"KRN",19,15526,-1)
0^39
"KRN",19,15526,0)
A1AE PRTCNRP^Completed/Not Released Listing^^R^^^^^^^^
"KRN",19,15526,1,0)
^^8^8^3060223^
"KRN",19,15526,1,1,0)
This option permits the user to display a 'Completed/Not Released" patch 
"KRN",19,15526,1,2,0)
for any package in the patch file. 
"KRN",19,15526,1,3,0)
  
"KRN",19,15526,1,4,0)
If a patch has the status of 'Completed/Not Released' the display contains
"KRN",19,15526,1,5,0)
the Patch Subject, Description, Category, Priority and Status. The display
"KRN",19,15526,1,6,0)
also contains information about the users who entered the patch, completed
"KRN",19,15526,1,7,0)
the patch and verified the patch. There is also a section for coding
"KRN",19,15526,1,8,0)
changes in the Routine Section of the display.
"KRN",19,15526,25)
CNR^A1AEPH2
"KRN",19,15526,"U")
COMPLETED/NOT RELEASED LISTING
"KRN",19,15527,-1)
0^27
"KRN",19,15527,0)
A1AE PKADD^Add a Package Release^^R^^^^^^^^^y
"KRN",19,15527,25)
1^A1AEPK
"KRN",19,15527,"U")
ADD A PACKAGE RELEASE
"KRN",19,15528,-1)
0^28
"KRN",19,15528,0)
A1AE PKDEL^Delete a Package Release^^R^^^^^^^^^y
"KRN",19,15528,25)
2^A1AEPK
"KRN",19,15528,"U")
DELETE A PACKAGE RELEASE
"KRN",19,15529,-1)
0^29
"KRN",19,15529,0)
A1AE PKEDIT^Edit a Package Release^^R^^^^^^^^^y
"KRN",19,15529,25)
3^A1AEPK
"KRN",19,15529,"U")
EDIT A PACKAGE RELEASE
"KRN",19,15530,-1)
0^36
"KRN",19,15530,0)
A1AE PKVER^Package Release (and/or edit internal comments)^^R^^^^^^^^^y
"KRN",19,15530,25)
4^A1AEPK
"KRN",19,15530,"U")
PACKAGE RELEASE (AND/OR EDIT I
"KRN",19,15531,-1)
0^35
"KRN",19,15531,0)
A1AE PKMENU^Package Menu^^M^^^^^^^^^y
"KRN",19,15531,1,0)
^^2^2^3060418^
"KRN",19,15531,1,1,0)
This option holds the option for ADD, EDIT, DELETE and VERIFY a new 
"KRN",19,15531,1,2,0)
package.
"KRN",19,15531,10,0)
^19.01IP^4^4
"KRN",19,15531,10,1,0)
15527^^1
"KRN",19,15531,10,1,"^")
A1AE PKADD
"KRN",19,15531,10,2,0)
15529^^2
"KRN",19,15531,10,2,"^")
A1AE PKEDIT
"KRN",19,15531,10,3,0)
15528^^3
"KRN",19,15531,10,3,"^")
A1AE PKDEL
"KRN",19,15531,10,4,0)
15530^^4
"KRN",19,15531,10,4,"^")
A1AE PKVER
"KRN",19,15531,99)
62054,33819
"KRN",19,15531,"U")
PACKAGE MENU
"KRN",19.1,617,-1)
0^4
"KRN",19.1,617,0)
A1AE PHVER
"KRN",19.1,617,1,0)
^19.11^3^3^3070731^^^^
"KRN",19.1,617,1,1,0)
The package support person who is allowed to verify patches, needs
"KRN",19.1,617,1,2,0)
this this key in order to have the option show up on the support
"KRN",19.1,617,1,3,0)
menu.
"KRN",19.1,617,1,4,0)
 
"KRN",19.1,617,1,5,0)
This keys also allows the 'Under Development Patch Report for Verifiers'
"KRN",19.1,617,1,6,0)
option to appear as part of the 'Support Menu'.
"KRN",19.1,617,2,0)
^19.12PA^^
"KRN",19.1,618,-1)
0^2
"KRN",19.1,618,0)
A1AE DEVELOPER
"KRN",19.1,618,1,0)
1
"KRN",19.1,618,1,1,0)
This key gives the user access to the developer's menu.
"KRN",19.1,618,2,0)
^19.12PA^^
"KRN",19.1,619,-1)
0^7
"KRN",19.1,619,0)
A1AE SUPPORT
"KRN",19.1,619,1,0)
^19.11^1^1^3070731^^^^
"KRN",19.1,619,1,1,0)
This key gives the user access the the support personnel menu.
"KRN",19.1,619,2,0)
^19.12PA^^
"KRN",19.1,620,-1)
0^8
"KRN",19.1,620,0)
A1AE XUSEC
"KRN",19.1,620,2,0)
^19.12PA^^
"KRN",19.1,621,-1)
0^3
"KRN",19.1,621,0)
A1AE MGR
"KRN",19.1,621,1,0)
^19.11^1^1^3081014^^^^
"KRN",19.1,621,1,1,0)
This key gives the user access to the 'Patch Module Management' option.
"KRN",19.1,621,3,0)
^19.13P
"KRN",19.1,622,-1)
0^5
"KRN",19.1,622,0)
A1AE PKGEDIT
"KRN",19.1,623,-1)
0^6
"KRN",19.1,623,0)
A1AE SCAN MESSAGE^Enables option to A1AECOM
"KRN",19.1,623,1,0)
^^2^2^2981021^
"KRN",19.1,623,1,1,0)
This key is for those testing the A1AE*2.2*7 patch's inventorier and
"KRN",19.1,623,1,2,0)
checksum verifier.
"KRN",19.1,624,-1)
0^1
"KRN",19.1,624,0)
A1AE COMPDATE
"KRN",19.1,624,1,0)
^19.11^3^3^3090429^^^^
"KRN",19.1,624,1,1,0)
The NVS Managers will hold this key to change a patch compliance date. 
"KRN",19.1,624,1,2,0)
They will need this this key in order to have the option show up on the
"KRN",19.1,624,1,3,0)
Releaser menu.
"MBREQ")
0
"ORD",2,3.6)
3.6;2;1;;BUL^XPDTA1;;BULE1^XPDIA1;;;BULDEL^XPDIA1
"ORD",2,3.6,0)
BULLETIN
"ORD",3,19.1)
19.1;3;;;KEY^XPDTA1;KEYF1^XPDIA1;KEYE1^XPDIA1;KEYF2^XPDIA1;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",6,.401)
.401;6;;;EDEOUT^DIFROMSO(.401,DA,"",XPDA);FPRE^DIFROMSI(.401,"",XPDA);EPRE^DIFROMSI(.401,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.401,DA,"",XPDA);DEL^DIFROMSK(.401,"",%)
"ORD",6,.401,0)
SORT TEMPLATE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",11,3.8)
3.8;11;;;MAILG^XPDTA1;MAILGF1^XPDIA1;MAILGE1^XPDIA1;MAILGF2^XPDIA1;;MAILGDEL^XPDIA1(%)
"ORD",11,3.8,0)
MAIL GROUP
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",568,-1)
1^1
"PKG",568,0)
PATCH MODULE^A1AE^Record Patches for packages in Patch (/Problem) Package file
"PKG",568,1,0)
^9.41A^6^6^3100111^^^^
"PKG",568,1,1,0)
This package keeps track of patches for any package which is in the Patch/
"PKG",568,1,2,0)
Problem Package file(#11007). Authorized package developers enter the
"PKG",568,1,3,0)
patches, and patch users may select which packages they want to view
"PKG",568,1,4,0)
patches for. When patches reach various development statuses bulletins
"PKG",568,1,5,0)
are sent notifying selected users. The patches are stored in the Patch
"PKG",568,1,6,0)
file(#11005).
"PKG",568,5)
OAKLAND
"PKG",568,7)
^^I
"PKG",568,22,0)
^9.49I^1^1
"PKG",568,22,1,0)
2.3^3101124^3101124^178
"PKG",568,22,1,1,0)
^^1^1^3101124
"PKG",568,22,1,1,1,0)
The PATCH Module from FORUM.va.gov.
"PKG",568,"DEV")
FORT/OAKLAND OIFO
"PKG",568,"VERSION")
2.3
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
44
"RTN","A1AE")
0^1^B1182477
"RTN","A1AE",1,0)
A1AE ;RMO,MJK/ALBANY ; Main Patch/Problem Driver ;24 NOV 87 11:00 am
"RTN","A1AE",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AE",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AE",4,0)
 G:$D(^DOPT("A1AE",3)) A S ^DOPT("A1AE",0)="Region 1 Patch and Problem Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AE",I,0)=$P(X,";;",2,99)
"RTN","A1AE",5,0)
 S DIK="^DOPT(""A1AE""," D IXALL^DIK
"RTN","A1AE",6,0)
A W !! S DIC="^DOPT(""A1AE"",",DIC(0)="AEQM" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AE",7,0)
 ;
"RTN","A1AE",8,0)
1 ;;Authorized Users Menu
"RTN","A1AE",9,0)
 G ^A1AEAU
"RTN","A1AE",10,0)
 ;
"RTN","A1AE",11,0)
2 ;;Patch Menu
"RTN","A1AE",12,0)
 G ^A1AEPH
"RTN","A1AE",13,0)
 ;
"RTN","A1AE",14,0)
3 ;;Problem Menu
"RTN","A1AE",15,0)
 G ^A1AEPB
"RTN","A1AEAU")
0^2^B22106203
"RTN","A1AEAU",1,0)
A1AEAU ; RMO,MJK/ALBANY ; DHCP Problem/Patch File Edits ;24 NOV 87 11:00 am
"RTN","A1AEAU",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEAU",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEAU",4,0)
 G:$D(^DOPT("A1AEAU",6)) A S ^DOPT("A1AEAU",0)="Authorized Users Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEAU",I,0)=$P(X,";;",2,99)
"RTN","A1AEAU",5,0)
 S DIK="^DOPT(""A1AEAU""," D IXALL^DIK
"RTN","A1AEAU",6,0)
A W !! S DIC="^DOPT(""A1AEAU"",",DIC(0)="AEQM" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEAU",7,0)
 ;
"RTN","A1AEAU",8,0)
1 ;;Entry/Edit Authorized Users
"RTN","A1AEAU",9,0)
 S DIC("S")="I $D(^A1AE(11007,+Y,""PH"",DUZ,0))" D PKG^A1AEUTL Q:'$D(A1AEPK)  W !!,"Adding Authorized Users to: ",A1AEPKNM,! S DA=A1AEPKIF,DIE="^A1AE(11007,",DR="[A1AE ADD/EDIT USERS]",DIE("NO^")="" D ^DIE K DIE("NO^"),DE,DQ,DIE D KEY^A1AEKEY
"RTN","A1AEAU",10,0)
 Q
"RTN","A1AEAU",11,0)
 ;
"RTN","A1AEAU",12,0)
2 ;;Select Packages for Notification
"RTN","A1AEAU",13,0)
 G LIST
"RTN","A1AEAU",14,0)
ADDUSR K A1AEDEL S DIC="^A1AE(11007,",DIC(0)="EMQ" R !!,"Select PACKAGE: ",X:DTIME G Q:'$T!(X="^")!(X="") S:$E(X,1)="-" X=$E(X,2,99),A1AEDEL=""  G:"ALLall"[$E(X,1,3)&($L(X)=3) SETUSR
"RTN","A1AEAU",15,0)
 S DIC("S")="I $P(^(0),U,2)=""Y""" D ^DIC K DIC("S") I Y>0 S A1AEPKIF=+Y,A1AEPKNM=$P(^DIC(9.4,+Y,0),"^",1) G SELUSR
"RTN","A1AEAU",16,0)
 W:X'["?" *7 W !!,"Enter 'ALL' or a specific package you want to be included in."
"RTN","A1AEAU",17,0)
LIST I '$D(^A1AE(11007,"AU",DUZ)) W !!?3,"You currently have no packages selected for immediate notification." G ADDUSR
"RTN","A1AEAU",18,0)
 W !!?3,"You currently have the following packages selected:"
"RTN","A1AEAU",19,0)
 F A1AEPKIF=0:0 S A1AEPKIF=$O(^A1AE(11007,"AU",DUZ,A1AEPKIF)) Q:'A1AEPKIF  I $D(^A1AE(11007,A1AEPKIF,0)),$P(^(0),"^",2)="Y",$D(^DIC(9.4,A1AEPKIF,0)) W !?7,$P(^(0),"^",2),?12,"-",?14,$P(^(0),"^",1)
"RTN","A1AEAU",20,0)
 K A1AEPKIF G ADDUSR
"RTN","A1AEAU",21,0)
 ;
"RTN","A1AEAU",22,0)
SETUSR W !
"RTN","A1AEAU",23,0)
 I "ALLall"[$E(X_0,1,3),$L(X)=3
"RTN","A1AEAU",24,0)
 IF  S DIR(0)="YO",DIR("B")="NO"
"RTN","A1AEAU",25,0)
 IF  S DIR("A")="  Are you sure you want to "_$S($D(A1AEDEL):"DE-SELECT",1:"select")_" 'ALL' packages for notification " IF 1
"RTN","A1AEAU",26,0)
 IF  S DIR("?")=" Enter 'Y' to continue" D ^DIR I $D(DUOUT)!($D(DTOUT))!('Y) K DIR G ADDUSR
"RTN","A1AEAU",27,0)
 K DIR
"RTN","A1AEAU",28,0)
 F A1AEPKIF=0:0 S A1AEPKIF=+$O(^A1AE(11007,A1AEPKIF)) Q:'A1AEPKIF  I $P(^(A1AEPKIF,0),"^",2)="Y" S A1AEPKNM=$P(^DIC(9.4,A1AEPKIF,0),"^",1) DO
"RTN","A1AEAU",29,0)
 .IF '$D(A1AEDEL) DO
"RTN","A1AEAU",30,0)
 . .I $D(^A1AE(11007,A1AEPKIF,1,DUZ,0)) W !?3,"...already on ",A1AEPKNM," list" Q
"RTN","A1AEAU",31,0)
 . .D SETNOD
"RTN","A1AEAU",32,0)
 .E  DO
"RTN","A1AEAU",33,0)
 . .I '$D(^A1AE(11007,A1AEPKIF,1,DUZ,0)) Q
"RTN","A1AEAU",34,0)
 . .S DIK="^A1AE(11007,"_A1AEPKIF_",1,",DA(1)=A1AEPKIF,DA=DUZ
"RTN","A1AEAU",35,0)
 . .D ^DIK W !?3,"...deleted from ",A1AEPKNM
"RTN","A1AEAU",36,0)
 . .K DIK,DA
"RTN","A1AEAU",37,0)
 ;
"RTN","A1AEAU",38,0)
 G ADDUSR
"RTN","A1AEAU",39,0)
 ;
"RTN","A1AEAU",40,0)
Q K A1AEPKNM,A1AEPKIF,A1AEPK,DIE,DIC,DIR,DA,DR,D0,DI,D0,D1,DE,DQ Q
"RTN","A1AEAU",41,0)
 ;
"RTN","A1AEAU",42,0)
SELUSR I '$D(^A1AE(11007,A1AEPKIF,1,DUZ,0)),'$D(A1AEDEL) D SETNOD G ADDUSR
"RTN","A1AEAU",43,0)
 ;naked reference to tag SELUSR
"RTN","A1AEAU",44,0)
 I '$D(^(0)),$D(A1AEDEL) W !?3,*7,"...currently not in the ",A1AEPKNM," list" G ADDUSR
"RTN","A1AEAU",45,0)
 I $D(^(0)),$D(A1AEDEL) G DELUSR
"RTN","A1AEAU",46,0)
 W !!,"You already receive automatic notification and printing of ",A1AEPKNM," patches.",!,"Do you want this to stop? No// "
"RTN","A1AEAU",47,0)
 R X:DTIME G Q:'$T!(X="^"),ADDUSR:"Nn"[$E(X,1),DELUSR:"Yy"[$E(X,1) W:X'["?" *7 W !!,"Enter Y to delete, or N to exit." G SELUSR
"RTN","A1AEAU",48,0)
 ;
"RTN","A1AEAU",49,0)
SETNOD S DA=A1AEPKIF,DIE="^A1AE(11007,",DR="50///`"_DUZ,DR(2,11007.05)="2///T" K DE,DQ D ^DIE I '$D(Y) W !?3,"...added to ",A1AEPKNM
"RTN","A1AEAU",50,0)
 Q
"RTN","A1AEAU",51,0)
 ;
"RTN","A1AEAU",52,0)
DELUSR S DIK="^A1AE(11007,"_A1AEPKIF_",1,",DA(1)=A1AEPKIF,DA=DUZ D ^DIK W !?3,"...deleted from ",A1AEPKNM G ADDUSR
"RTN","A1AEAU",53,0)
 ;
"RTN","A1AEAU",54,0)
3 ;;Add Package to Patch Module
"RTN","A1AEAU",55,0)
 Q:'$D(^XUSEC("A1AE MGR",DUZ))  S A1AE(0)="AEMLQ" D PKG^A1AEUTL Q:'$D(A1AEPK)  S DA=A1AEPKIF,DR="[A1AE ADD/EDIT USERS]",DIE="^A1AE(11007," D ^DIE K DQ,DE,A1AEPKIF,A1AEPKNM,A1AEPK Q
"RTN","A1AEAU",56,0)
 ;
"RTN","A1AEAU",57,0)
4 ;;List of Package Users
"RTN","A1AEAU",58,0)
 S DIC("S")="I $D(^A1AE(11007,+Y,""PH"",DUZ,0))" D PKG^A1AEUTL Q:'$D(A1AEPK)
"RTN","A1AEAU",59,0)
 S DIC="^A1AE(11007,",FLDS="[A1AE PACKAGE USERS]",BY=".01",(FR,TO)=A1AEPKNM,L=0 D EN1^DIP K FLDS,TO,FR,BY,A1AEPKIF,A1AEPK,A1AEPKNM Q
"RTN","A1AEAU",60,0)
 ;
"RTN","A1AEAU",61,0)
5 ;;Patch Options Documentation
"RTN","A1AEAU",62,0)
 S DIC="^DIC(19,",FLDS="[A1AE PATCH OPTS DOC]",BY="@.01",FR="A1AE",TO="A1AEZ",DIS(0)="I $P(^DIC(19,D0,0),U,1)'[""PB"",$P(^(0),U,1)'[""A1AE MGR"",$P(^(0),U,1)'[""A1AE XUSEC""",L=0 W ! D EN1^DIP K FLDS,BY,FR,TO,DIS(0) Q
"RTN","A1AEAU",63,0)
 ;
"RTN","A1AEAU",64,0)
6 ;;Key Allocation for Patch Functions
"RTN","A1AEAU",65,0)
 D ASKKEY^A1AEKEY
"RTN","A1AECL1")
0^3^B10769176
"RTN","A1AECL1",1,0)
A1AECL1 ;ISF/RWF - Released Patch ROUTINE file updater ;6/14/07  16:17
"RTN","A1AECL1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AECL1",3,0)
 Q
"RTN","A1AECL1",4,0)
 ;
"RTN","A1AECL1",5,0)
 ;This entry point is called when a patch is released to update the ROUTINE file
"RTN","A1AECL1",6,0)
 ;with the checksums from the patch.
"RTN","A1AECL1",7,0)
PATCH(PIEN) ;Update routine file for one patch.
"RTN","A1AECL1",8,0)
 N RTNL,PATCH
"RTN","A1AECL1",9,0)
 S RTNL=$NA(^TMP("A1AECL1",$J)) K @RTNL
"RTN","A1AECL1",10,0)
 S PATCH=$P(^A1AE(11005,PIEN,0),U)
"RTN","A1AECL1",11,0)
 D RSUM($NA(^A1AE(11005.1,PIEN,2)),.RTNL)
"RTN","A1AECL1",12,0)
 I '$L($O(@RTNL@(" "))) D HFS(RTNL)
"RTN","A1AECL1",13,0)
 D SAVE(PATCH,RTNL)
"RTN","A1AECL1",14,0)
 Q
"RTN","A1AECL1",15,0)
 ;
"RTN","A1AECL1",16,0)
SAVE(PATCH,ROOT) ;
"RTN","A1AECL1",17,0)
 N RN
"RTN","A1AECL1",18,0)
 S RN=""
"RTN","A1AECL1",19,0)
 F  S RN=$O(@ROOT@(RN)) Q:RN=""  D RTNLOG(RN,PATCH,@ROOT@(RN))
"RTN","A1AECL1",20,0)
 Q
"RTN","A1AECL1",21,0)
 ;
"RTN","A1AECL1",22,0)
 ;RSUM=add/delete^nop^checksum^patchlist
"RTN","A1AECL1",23,0)
RTNLOG(RN,PCH,RSUM) ;Enter/Update routine in the Routine File
"RTN","A1AECL1",24,0)
 N Y,FDA,IEN
"RTN","A1AECL1",25,0)
 S Y=$O(^DIC(9.8,"B",RN,0))
"RTN","A1AECL1",26,0)
 I Y'>0 S IEN="?+1,",FDA(9.8,IEN,1)="R",FDA(9.8,IEN,.01)=RN
"RTN","A1AECL1",27,0)
 I Y>0 S IEN=(+Y)_","
"RTN","A1AECL1",28,0)
 S FDA(9.8,IEN,6)=2 ; Always track and report national patches
"RTN","A1AECL1",29,0)
 I +RSUM D
"RTN","A1AECL1",30,0)
 . S FDA(9.8,IEN,6.2)=PCH ;Delete routine
"RTN","A1AECL1",31,0)
 I 'RSUM D
"RTN","A1AECL1",32,0)
 . S FDA(9.8,IEN,7.1)=DT
"RTN","A1AECL1",33,0)
 . S FDA(9.8,IEN,7.2)=$P(RSUM,U,3) ;Checksum
"RTN","A1AECL1",34,0)
 . S FDA(9.8,IEN,7.3)=$P(RSUM,U,4) ;Patch List
"RTN","A1AECL1",35,0)
 . S IEN="?+2,"_IEN,FDA(9.818,IEN,.01)=PCH,FDA(9.818,IEN,2)=$P(RSUM,U,3),FDA(9.818,IEN,3)=$P(RSUM,U,4)
"RTN","A1AECL1",36,0)
 D UPDATE^DIE("","FDA","IEN")
"RTN","A1AECL1",37,0)
 Q
"RTN","A1AECL1",38,0)
 ;
"RTN","A1AECL1",39,0)
HFS(RET) ;Check if HFS Data
"RTN","A1AECL1",40,0)
 I '$D(^A1AE(11005.5,PIEN,0)) Q
"RTN","A1AECL1",41,0)
 N I,X
"RTN","A1AECL1",42,0)
 S I=0
"RTN","A1AECL1",43,0)
 F  S I=$O(^A1AE(11005.5,PIEN,1,I)) Q:'I  S X=^(I,0) D
"RTN","A1AECL1",44,0)
 . S @RET@($P(X,U,1))=$P(X,U,2,5)
"RTN","A1AECL1",45,0)
 . Q
"RTN","A1AECL1",46,0)
 Q
"RTN","A1AECL1",47,0)
 ;
"RTN","A1AECL1",48,0)
RSUM(ROOT,RET) ;
"RTN","A1AECL1",49,0)
 ;ROOT is the root where the message is.
"RTN","A1AECL1",50,0)
 ;RET will return an array of routine names and checksums
"RTN","A1AECL1",51,0)
 N IX
"RTN","A1AECL1",52,0)
 I $$PATFL() Q
"RTN","A1AECL1",53,0)
 D BLDTMP
"RTN","A1AECL1",54,0)
 I $L($O(^TMP($J,"RTN","")))>0 D SUM
"RTN","A1AECL1",55,0)
 K ^TMP($J)
"RTN","A1AECL1",56,0)
 Q
"RTN","A1AECL1",57,0)
 ;
"RTN","A1AECL1",58,0)
PATFL() ;See if data is in the Patch file
"RTN","A1AECL1",59,0)
 N A1,PL,RN,RSUM
"RTN","A1AECL1",60,0)
 S A1=0
"RTN","A1AECL1",61,0)
 F  S A1=$O(^A1AE(11005,PIEN,"P",A1)) Q:A1'>0  S A2=$G(^(A1,0)) D
"RTN","A1AECL1",62,0)
 . Q:'$L($P(A2,U,2))
"RTN","A1AECL1",63,0)
 . S RN=$P(A2,U),RSUM=$P(A2,U,2),PL=$P(A2,U,3)
"RTN","A1AECL1",64,0)
 . S @RET@(RN)="0^0^"_RSUM_U_PL
"RTN","A1AECL1",65,0)
 . Q
"RTN","A1AECL1",66,0)
 Q $L($O(@RET@("")))
"RTN","A1AECL1",67,0)
 ;
"RTN","A1AECL1",68,0)
SUM ;Build the RSUM's, Zero node is add/delete^nop^checksum
"RTN","A1AECL1",69,0)
 ;Add to zero node the patch list as the 4th $P
"RTN","A1AECL1",70,0)
 N RN,PL S RN=""
"RTN","A1AECL1",71,0)
 F  S RN=$O(^TMP($J,"RTN",RN)) Q:RN=""  D
"RTN","A1AECL1",72,0)
 . S PL=$G(^TMP($J,"RTN",RN,2,0))
"RTN","A1AECL1",73,0)
 . S @RET@(RN)=$G(^TMP($J,"RTN",RN))_U_$P(PL,";",5)
"RTN","A1AECL1",74,0)
 . Q
"RTN","A1AECL1",75,0)
 Q
"RTN","A1AECL1",76,0)
 ;
"RTN","A1AECL1",77,0)
BLDTMP ;Build the TMP global to work from.
"RTN","A1AECL1",78,0)
 N IX K ^TMP($J)
"RTN","A1AECL1",79,0)
 S IX=0
"RTN","A1AECL1",80,0)
 ;Skip until we find $KID, then skip 2 more
"RTN","A1AECL1",81,0)
 F  S IX=$O(@ROOT@(IX)) Q:IX'>0  S X=^(IX,0) Q:$E(X,1,4)="$KID"
"RTN","A1AECL1",82,0)
 S IX=$O(@ROOT@(IX)) S IX=$O(@ROOT@(IX))
"RTN","A1AECL1",83,0)
 ;Now the real part
"RTN","A1AECL1",84,0)
 F  S IX=$O(@ROOT@(IX)) Q:IX'>0  D
"RTN","A1AECL1",85,0)
 . S X=^(IX,0),IX=$O(@ROOT@(IX)) Q:$E(X,2,4)'="RTN"
"RTN","A1AECL1",86,0)
 . S Y=$G(^(IX,0))
"RTN","A1AECL1",87,0)
 . S @("^TMP($J,"_X)=Y
"RTN","A1AECL1",88,0)
 . Q
"RTN","A1AECL1",89,0)
 Q
"RTN","A1AECL1",90,0)
 ;
"RTN","A1AECL1",91,0)
 ;Fix database from bad code
"RTN","A1AECL1",92,0)
FIX ;
"RTN","A1AECL1",93,0)
 N DA,X,Y,D1
"RTN","A1AECL1",94,0)
 S DA=0
"RTN","A1AECL1",95,0)
 F  S DA=$O(^DIC(9.8,DA)) Q:'DA  D
"RTN","A1AECL1",96,0)
 . S X=$G(^DIC(9.8,DA,4)) I $L(X) D
"RTN","A1AECL1",97,0)
 . . I X'["~" Q
"RTN","A1AECL1",98,0)
 . . S Y=$P(X,"~",1)_"^"_$P($P(X,"~",2),";",5)
"RTN","A1AECL1",99,0)
 . . W !,DA,?10,Y
"RTN","A1AECL1",100,0)
 . . ;S ^DIC(9.8,DA,4)=Y
"RTN","A1AECL1",101,0)
 . . Q
"RTN","A1AECL1",102,0)
 . S D1=0 F  S D1=$O(^DIC(9.8,DA,8,D1)) Q:'Y  D
"RTN","A1AECL1",103,0)
 . . S X=^DIC(9.8,DA,8,D1,0) Q:X'["~"
"RTN","A1AECL1",104,0)
 . . S Y=$P(X,"~",1)
"RTN","A1AECL1",105,0)
 . . W !,DA,?10,Y
"RTN","A1AECL1",106,0)
 . . S ^DIC(9.8,DA,8,D1,0)=Y
"RTN","A1AECL1",107,0)
 . . Q
"RTN","A1AECL1",108,0)
 Q
"RTN","A1AECL1",109,0)
 ;
"RTN","A1AECL1",110,0)
TEST(D0) ;Update ROUTINE file from the Routine list.
"RTN","A1AECL1",111,0)
 N A1,A2,PH,PHL,RN,RSUM
"RTN","A1AECL1",112,0)
 S A1=0,PH=$P(^A1AE(11005,D0,0),U)
"RTN","A1AECL1",113,0)
 F  S A1=$O(^A1AE(11005,D0,"P",A1)) Q:A1'>0  S A2=$G(^(A1,0)) D
"RTN","A1AECL1",114,0)
 . S RN=$P(A2,U),RSUM=$P(A2,U,2),PHL=$P(A2,U,3) Q:'$L(RSUM)
"RTN","A1AECL1",115,0)
 . D RTNLOG(RN,PH,"0^0^"_RSUM_U_PHL)
"RTN","A1AECL1",116,0)
 . Q
"RTN","A1AECL1",117,0)
 Q
"RTN","A1AECOPD")
0^4^B22592186
"RTN","A1AECOPD",1,0)
A1AECOPD ;ISC-Albany/pke-copy message into patch description ;11/29/06  17:12
"RTN","A1AECOPD",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AECOPD",3,0)
 ;
"RTN","A1AECOPD",4,0)
EN N X,Y
"RTN","A1AECOPD",5,0)
 I $P(^A1AE(11007,$O(^DIC(9.4,"C",$P(A1AEPD,"*"),0)),0),U,5)'="y" Q
"RTN","A1AECOPD",6,0)
ASK S A1AERD("A")="Do you want to copy lines from a message into the Patch Description? "
"RTN","A1AECOPD",7,0)
 S A1AERD(1)="Yes^select a message, subject contains "_$P(A1AEPD,"*",1,2)
"RTN","A1AECOPD",8,0)
 S A1AERD(2)="No^not copy any messages ",A1AERD("B")=2
"RTN","A1AECOPD",9,0)
 S A1AERD(0)="S"
"RTN","A1AECOPD",10,0)
 D SET^A1AERD K A1AERD D ASKS:"Y"[$E(X,1)
"RTN","A1AECOPD",11,0)
 ;
"RTN","A1AECOPD",12,0)
Q W ! K QUE,A1AEROU,^UTILITY($J,"A1AECP"),A1AELINE,A1AEFRLN,A1AETOLN,A1AEOFF,A1AEBLK,A1AEPGLN,A1AELNCT,A1AELNB,A1AELNIN,A1AEBOT,A1AENMSP,A1AEWFLG
"RTN","A1AECOPD",13,0)
 K AFIND
"RTN","A1AECOPD",14,0)
 Q
"RTN","A1AECOPD",15,0)
ASKS ;AXMZ
"RTN","A1AECOPD",16,0)
 I $D(AXMZ) S QMSUB=$P(^XMB(3.9,AXMZ,0),U) D FND Q
"RTN","A1AECOPD",17,0)
 ;this is for axmz
"RTN","A1AECOPD",18,0)
 S SHOW=10 D QUE^A1AEM,LOC^A1AEM I '$D(QUE) Q
"RTN","A1AECOPD",19,0)
 I $D(X)<10 W !!?3,"No message in queue has subject containing ",$P(A1AEPD,"*",1,2) Q
"RTN","A1AECOPD",20,0)
 S A1AERD(0)="S",A1AERD("A")="Select Message to copy : "
"RTN","A1AECOPD",21,0)
 D SET^A1AERD
"RTN","A1AECOPD",22,0)
 I X["^" Q
"RTN","A1AECOPD",23,0)
 S AXMZ=X(X),QMSUB=$P(^XMB(3.9,AXMZ,0),U)
"RTN","A1AECOPD",24,0)
 Q:'$D(AXMZ)
"RTN","A1AECOPD",25,0)
FND K A1AERD D ASKLIN
"RTN","A1AECOPD",26,0)
 Q
"RTN","A1AECOPD",27,0)
 ;
"RTN","A1AECOPD",28,0)
ASKLIN S IOP="HOME" D ^%ZIS K IOP S A1AERD("A")="from" W ! D LINE Q:X="^"!(X="")  S A1AEFRLN=A1AELINE,A1AERD("A")="through",A1AERD("B")=A1AELINE+1 D LINE Q:X="^"  S A1AETOLN=A1AELINE K A1AERD
"RTN","A1AECOPD",29,0)
 ;
"RTN","A1AECOPD",30,0)
 D SETUTI,ASKCOP:$D(^UTILITY($J,"A1AECP")) W:'$D(^UTILITY($J,"A1AECP")) !?3,"...No lines to copy"
"RTN","A1AECOPD",31,0)
 Q
"RTN","A1AECOPD",32,0)
 ;
"RTN","A1AECOPD",33,0)
LINE W !?2,"Copy ",A1AERD("A")," line: " W:$D(A1AERD("B")) A1AERD("B")_"// " R X:DTIME S:'$T X="^" Q:X="^"!(X="")  I X["?" W !?3,"Enter line to copy ",A1AERD("A")_$S(A1AERD("A")'["th":"",1:" or 'ALL'") G LINE
"RTN","A1AECOPD",34,0)
 I 'X,"ALLall"'[$E(X_0,1,3)!(A1AERD("A")["fr") W !?3,*7,"Enter numeric line number" G LINE
"RTN","A1AECOPD",35,0)
 S (AFIND,FIND)=0 F AZ=.9999999:0 S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  S AFIND=AZ I $D(^(AZ,0)),AZ=X!($E(^(0),1,8)="$END TXT") S FIND=AZ,A1AELINE=AZ-1 S:$E(^(0),1,8)="$END TXT" A1AELINE=AZ-2 S AFIND=0 Q
"RTN","A1AECOPD",36,0)
 I "ALLall"[$E(X_0,1,3),'FIND,AFIND S A1AELINE=AFIND-1
"RTN","A1AECOPD",37,0)
 E  I 'FIND,X,AFIND,AFIND<X S A1AELINE=AFIND-1
"RTN","A1AECOPD",38,0)
 E  I 'FIND W !?3,*7,"Line ",X," not found in " K FIND G LINE
"RTN","A1AECOPD",39,0)
 ;
"RTN","A1AECOPD",40,0)
 I $D(A1AEFRLN),A1AELINE<A1AEFRLN W !?3,*7,"Line copying through precedes line copying from" G LINE
"RTN","A1AECOPD",41,0)
 Q
"RTN","A1AECOPD",42,0)
 ;
"RTN","A1AECOPD",43,0)
SETUTI K ^UTILITY($J,"A1AECP") S A1AELNCT=0
"RTN","A1AECOPD",44,0)
 F AZ=$S(A1AEFRLN<1:.99,1:A1AEFRLN):0:A1AETOLN S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)) S A1AELNCT=A1AELNCT+1,^UTILITY($J,"A1AECP",A1AELNCT)=^(0)
"RTN","A1AECOPD",45,0)
 Q
"RTN","A1AECOPD",46,0)
 ;cc
"RTN","A1AECOPD",47,0)
ASKCOP W ! F A1AELNB=1:1:A1AELNCT I $D(^UTILITY($J,"A1AECP",A1AELNB)) W !,A1AELNB,"> ",^(A1AELNB)
"RTN","A1AECOPD",48,0)
 S A1AERD("A")="Do you want to copy "_$S(A1AELNCT=1:"this line",1:"these "_A1AELNCT_" lines")_"? "
"RTN","A1AECOPD",49,0)
 S A1AERD(0)="S",A1AERD(1)="Yes^copy these lines into the patch description",A1AERD(2)="No^not copy these lines",A1AERD("B")=2 D SET^A1AERD K A1AERD Q:X="^"  ;;;!("N"[$E(X,1))
"RTN","A1AECOPD",50,0)
 I "nN"[$E(X,1) G ASKLIN
"RTN","A1AECOPD",51,0)
 S A1AEBOT=$S($D(^A1AE(11005,DA,"D",0)):$P(^(0),"^",3),1:0),A1AELNIN=0 D INSERT:A1AEBOT,COPY:'A1AEBOT
"RTN","A1AECOPD",52,0)
 Q
"RTN","A1AECOPD",53,0)
 ;
"RTN","A1AECOPD",54,0)
INSERT R !!,"Insert code after what description line: ",X:DTIME Q:'$T!(X="^")  I X<0!(X>A1AEBOT)!(X'?1N.N)!(X["?") G HELP
"RTN","A1AECOPD",55,0)
 S A1AELNIN=X I A1AELNIN<A1AEBOT S A1AEFRLN=A1AEBOT+A1AELNCT,A1AETOLN=A1AELNIN+1+A1AELNCT F I=A1AEFRLN:-1:A1AETOLN S ^A1AE(11005,DA,"D",I,0)=^A1AE(11005,DA,"D",(I-A1AELNCT),0)
"RTN","A1AECOPD",56,0)
A D COPY
"RTN","A1AECOPD",57,0)
 Q
"RTN","A1AECOPD",58,0)
 ;
"RTN","A1AECOPD",59,0)
HELP I X["??" W @IOF F I=0:0 S I=+$O(^A1AE(11005,DA,"D",I)) Q:'I  W !,I,"> ",^(I,0) I ($Y+6)>IOSL D CRCHK Q:X1="^"  W @IOF
"RTN","A1AECOPD",60,0)
 I X'["??" W:X'["?" *7 W !!?3,"Enter a line number between 0 and ",A1AEBOT,", or",!?3,"'??' to list current description."
"RTN","A1AECOPD",61,0)
 G INSERT
"RTN","A1AECOPD",62,0)
 ;
"RTN","A1AECOPD",63,0)
COPY S A1AELNB=0,A1AEFRLN=A1AELNIN+1,A1AETOLN=A1AELNIN+A1AELNCT F I=A1AEFRLN:1:A1AETOLN S A1AELNB=A1AELNB+1,^A1AE(11005,DA,"D",I,0)=^UTILITY($J,"A1AECP",A1AELNB) I ^(0)["|" S A1AEWFLG=""
"RTN","A1AECOPD",64,0)
 S:'$D(^A1AE(11005,DA,"D",0)) ^(0)="" S $P(^A1AE(11005,DA,"D",0),"^",3)=A1AEBOT+A1AELNCT
"RTN","A1AECOPD",65,0)
 Q
"RTN","A1AECOPD",66,0)
 ;
"RTN","A1AECOPD",67,0)
CRCHK I $E(IOST,1)="C" W !!,*7,"Press RETURN to continue or '^' to stop " R X1:DTIME
"RTN","A1AECOPD",68,0)
 Q
"RTN","A1AECOPR")
0^5^B25294236
"RTN","A1AECOPR",1,0)
A1AECOPR ;ISC-Albany/pke-copy routines into routine text ;5/1/90
"RTN","A1AECOPR",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AECOPR",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AECOPR",4,0)
 S A1AEROU=X
"RTN","A1AECOPR",5,0)
EN S SAVEX=X
"RTN","A1AECOPR",6,0)
 ;
"RTN","A1AECOPR",7,0)
ASK S A1AERD("A")="Copy routine lines from a packman message into the description? "
"RTN","A1AECOPR",8,0)
 S A1AERD(1)="Yes^select a message, subject contains "_$P(A1AEPD,"*",1,2)
"RTN","A1AECOPR",9,0)
 S A1AERD(2)="No^not copy any messages ",A1AERD("B")=2
"RTN","A1AECOPR",10,0)
 S A1AERD(0)="S"
"RTN","A1AECOPR",11,0)
 D SET^A1AERD K A1AERD D ASKS:"Y"[$E(X,1)
"RTN","A1AECOPR",12,0)
 ;
"RTN","A1AECOPR",13,0)
 D Q^A1AECOPD Q
"RTN","A1AECOPR",14,0)
ASKS ;
"RTN","A1AECOPR",15,0)
 I $D(AXMZ) S QMSUB=$P(^XMB(3.9,AXMZ,0),U) D FND Q
"RTN","A1AECOPR",16,0)
 ;
"RTN","A1AECOPR",17,0)
 S SHOW=10 D QUE^A1AEM,LOC^A1AEM I '$D(QUE) Q
"RTN","A1AECOPR",18,0)
 I $D(X)<10 W !!?3,"No message in queue has subject containing ",$P(A1AEPD,"*",1,2) Q
"RTN","A1AECOPR",19,0)
 S A1AERD(0)="S",A1AERD("A")="Select Message to copy : "
"RTN","A1AECOPR",20,0)
 D SET^A1AERD
"RTN","A1AECOPR",21,0)
 I X["^" Q
"RTN","A1AECOPR",22,0)
 S AXMZ=X(X),QMSUB=$P(^XMB(3.9,AXMZ,0),U)
"RTN","A1AECOPR",23,0)
 Q:'$D(AXMZ)
"RTN","A1AECOPR",24,0)
FND D FCOPY^A1AEM I '$D(RNAM) W !!?3,"Routine '",A1AEROU,"' not found in message '",QMSUB,"'" Q
"RTN","A1AECOPR",25,0)
 K A1AERD D ASKLIN
"RTN","A1AECOPR",26,0)
 Q
"RTN","A1AECOPR",27,0)
 ;
"RTN","A1AECOPR",28,0)
ASKLIN S IOP="HOME" D ^%ZIS K IOP S A1AERD("A")="from" W ! D LINE Q:X="^"!(X="")  S A1AEFRLN=A1AELINE,A1AERD("A")="through",A1AERD("B")=$S(A1AEOFF:X_"+"_A1AEOFF,1:X) D LINE Q:X="^"  S A1AETOLN=$S(X="":A1AEFRLN,1:A1AELINE) K A1AERD
"RTN","A1AECOPR",29,0)
 ;
"RTN","A1AECOPR",30,0)
 D SETUTI,ASKCOP:$D(^UTILITY($J,"A1AECP")) W:'$D(^UTILITY($J,"A1AECP")) !?3,"...No lines to copy"
"RTN","A1AECOPR",31,0)
 Q
"RTN","A1AECOPR",32,0)
 ;
"RTN","A1AECOPR",33,0)
LINE W !?2,"Copy ",A1AERD("A")," line: " W:$D(A1AERD("B")) A1AERD("B")_"// " R X:DTIME S:'$T X="^" Q:X="^"!(X="")  I X["?" W !?3,"Enter line to copy ",A1AERD("A") G LINE
"RTN","A1AECOPR",34,0)
 S A1AEOFF=+$P(X,"+",2) I X["+",'A1AEOFF W !?3,*7,"Line offset should be a numeric value" G LINE
"RTN","A1AECOPR",35,0)
B S X=$P(X,"+",1) I '(X?1U.UN!(X?1"%".UN)!(X?1N.N))!($L(X)>8) W !?3,*7,"Line label should be 1-8 characters" G LINE
"RTN","A1AECOPR",36,0)
 S FIND=0 F AZ=$P(RNAM,U,2):0:$P(RNAM,U,3) S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)),$L($P(^(0)," ")),$P(^(0)," ")=X S FIND=AZ,A1AELINE=AZ+A1AEOFF-1 Q
"RTN","A1AECOPR",37,0)
 I 'FIND W !?3,*7,"Line label ",X," not found in ",A1AEROU K FIND G LINE
"RTN","A1AECOPR",38,0)
 ;
"RTN","A1AECOPR",39,0)
 S FIND1=1 I A1AEOFF F AZ=FIND:0:A1AELINE+A1AEOFF S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)),'$L($P(^(0)," ",2)) S FIND1=0 Q
"RTN","A1AECOPR",40,0)
 I 'FIND1,A1AEOFF W !?3,*7,"Line ",X,"+",A1AEOFF," not found in ",A1AEROU K FIND1 G LINE
"RTN","A1AECOPR",41,0)
 ;
"RTN","A1AECOPR",42,0)
 I $D(A1AEFRLN),A1AELINE<A1AEFRLN W !?3,*7,"Line copying through precedes line copying from" G LINE
"RTN","A1AECOPR",43,0)
 Q
"RTN","A1AECOPR",44,0)
 ;
"RTN","A1AECOPR",45,0)
SETUTI K ^UTILITY($J,"A1AECP") S A1AELNCT=0 F AZ=A1AEFRLN:0:A1AETOLN S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)) S A1AELNCT=A1AELNCT+1,^UTILITY($J,"A1AECP",A1AELNCT)=$S("$TXT$ROU$END"'[$E(^(0),1,4):^(0),1:"xxxx"_$E(^(0),5,245))
"RTN","A1AECOPR",46,0)
 Q
"RTN","A1AECOPR",47,0)
 ;
"RTN","A1AECOPR",48,0)
ASKCOP W ! F A1AELNB=1:1:A1AELNCT I $D(^UTILITY($J,"A1AECP",A1AELNB)) W !,A1AELNB,"> ",^(A1AELNB)
"RTN","A1AECOPR",49,0)
 S A1AERD("A")="Do you want to copy "_$S(A1AELNCT=1:"this line",1:"these "_A1AELNCT_" lines")_"? "
"RTN","A1AECOPR",50,0)
 S A1AERD(0)="S",A1AERD(1)="Yes^copy these lines into the routine description",A1AERD(2)="No^not copy these lines",A1AERD("B")=2 D SET^A1AERD K A1AERD Q:X="^"  ;;;!("N"[$E(X,1))
"RTN","A1AECOPR",51,0)
 I "nN"[$E(X,1) G ASKLIN
"RTN","A1AECOPR",52,0)
 S A1AEBOT=$S($D(^A1AE(11005,DA(1),"P",DA,"D",0)):$P(^(0),"^",3),1:0),A1AELNIN=0 D INSERT:A1AEBOT,COPY:'A1AEBOT
"RTN","A1AECOPR",53,0)
 Q
"RTN","A1AECOPR",54,0)
 ;
"RTN","A1AECOPR",55,0)
INSERT R !!,"Insert code after what description line: ",X:DTIME Q:'$T!(X="^")  I X<0!(X>A1AEBOT)!(X'?1N.N)!(X["?") G HELP
"RTN","A1AECOPR",56,0)
 S A1AELNIN=X I A1AELNIN<A1AEBOT S A1AEFRLN=A1AEBOT+A1AELNCT,A1AETOLN=A1AELNIN+1+A1AELNCT F I=A1AEFRLN:-1:A1AETOLN S ^A1AE(11005,DA(1),"P",DA,"D",I,0)=^A1AE(11005,DA(1),"P",DA,"D",(I-A1AELNCT),0)
"RTN","A1AECOPR",57,0)
A D COPY
"RTN","A1AECOPR",58,0)
 Q
"RTN","A1AECOPR",59,0)
 ;
"RTN","A1AECOPR",60,0)
HELP I X["??" W @IOF F I=0:0 S I=+$O(^A1AE(11005,DA(1),"P",DA,"D",I)) Q:'I  W !,I,"> ",^(I,0) I ($Y+6)>IOSL D CRCHK Q:X1="^"  W @IOF
"RTN","A1AECOPR",61,0)
 I X'["??" W:X'["?" *7 W !!?3,"Enter a line number between 0 and ",A1AEBOT,", or",!?3,"'??' to list current description."
"RTN","A1AECOPR",62,0)
 G INSERT
"RTN","A1AECOPR",63,0)
 ;
"RTN","A1AECOPR",64,0)
COPY S A1AELNB=0,A1AEFRLN=A1AELNIN+1,A1AETOLN=A1AELNIN+A1AELNCT F I=A1AEFRLN:1:A1AETOLN S A1AELNB=A1AELNB+1,^A1AE(11005,DA(1),"P",DA,"D",I,0)=^UTILITY($J,"A1AECP",A1AELNB) I ^(0)["|" S A1AEWFLG=""
"RTN","A1AECOPR",65,0)
 S:'$D(^A1AE(11005,DA(1),"P",DA,"D",0)) ^(0)="" S $P(^A1AE(11005,DA(1),"P",DA,"D",0),"^",3)=A1AEBOT+A1AELNCT
"RTN","A1AECOPR",66,0)
 Q
"RTN","A1AECOPR",67,0)
 ;
"RTN","A1AECOPR",68,0)
CRCHK I $E(IOST,1)="C" W !!,*7,"Press RETURN to continue or '^' to stop " R X1:DTIME
"RTN","A1AECOPR",69,0)
 Q
"RTN","A1AECOPY")
0^6^B25072086
"RTN","A1AECOPY",1,0)
A1AECOPY ;RMO/ALBANY ; Copy Routine Code into Routine Description;24 NOV 87 11:00 am
"RTN","A1AECOPY",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AECOPY",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AECOPY",4,0)
 S A1AEROU=X I $D(^("OS",^DD("OS"),18)) X ^(18)
"RTN","A1AECOPY",5,0)
 I '$T W !!?3,"The routine ",X," does not reside in the routine directory." G Q
"RTN","A1AECOPY",6,0)
ASK S A1AERD("A")="Copy routine lines from the routine directory into the description? ",A1AERD(0)="S",A1AERD(1)="Yes^select lines to copy from the routine "_A1AEROU,A1AERD(2)="No^not copy any lines",A1AERD("B")=2
"RTN","A1AECOPY",7,0)
 D SET^A1AERD K A1AERD D ASKLIN:"Y"[$E(X,1)
"RTN","A1AECOPY",8,0)
 ;
"RTN","A1AECOPY",9,0)
Q W ! S X=A1AEROU K A1AEROU,^UTILITY($J,"A1AECP"),A1AELINE,A1AEFRLN,A1AETOLN,A1AEOFF,A1AEBLK,A1AEPGLN,A1AELNCT,A1AELNB,A1AELNIN,A1AEBOT,A1AENMSP,A1AEWFLG
"RTN","A1AECOPY",10,0)
 Q
"RTN","A1AECOPY",11,0)
 ;
"RTN","A1AECOPY",12,0)
ASKLIN S IOP="HOME" D ^%ZIS K IOP S A1AERD("A")="from" W ! D LINE Q:X="^"!(X="")  S A1AEFRLN=A1AELINE,A1AERD("A")="through",A1AERD("B")=$S(A1AEOFF:X_"+"_A1AEOFF,1:X) D LINE Q:X="^"  S A1AETOLN=$S(X="":A1AEFRLN,1:A1AELINE) K A1AERD
"RTN","A1AECOPY",13,0)
 D SETUTI,ASKCOP:$D(^UTILITY($J,"A1AECP")) W:'$D(^UTILITY($J,"A1AECP")) !?3,"...No lines to copy"
"RTN","A1AECOPY",14,0)
 I $D(A1AEWFLG) W !!,*7,"NOTE: The text which you have just copied contains the word-processing",!?6,"window symbol '|'. To display the symbol as a character in the",!?6,"description, edit the line which contains '|' and put in '||'.",! H 2
"RTN","A1AECOPY",15,0)
 Q
"RTN","A1AECOPY",16,0)
 ;
"RTN","A1AECOPY",17,0)
LINE W !?2,"Copy ",A1AERD("A")," line: " W:$D(A1AERD("B")) A1AERD("B")_"// " R X:DTIME S:'$T X="^" Q:X="^"!(X="")  I X["?" W !?3,"Enter line to copy ",A1AERD("A") G LINE
"RTN","A1AECOPY",18,0)
 S A1AEOFF=+$P(X,"+",2) I X["+",'A1AEOFF W !?3,*7,"Line offset should be a numeric value" G LINE
"RTN","A1AECOPY",19,0)
 S X=$P(X,"+",1) I '(X?1U.UN!(X?1"%".UN)!(X?1N.N))!($L(X)>8) W !?3,*7,"Line label should be 1-8 characters" G LINE
"RTN","A1AECOPY",20,0)
 X "ZL @A1AEROU S A1AEPGLN=$T(@X)" I A1AEPGLN="" W !?3,*7,"Line label ",X," not found in ",A1AEROU G LINE
"RTN","A1AECOPY",21,0)
 S A1AEBLK=" " X "ZL @A1AEROU F A1AELNB=1:1 Q:$P($T(+A1AELNB),A1AEBLK,1)=X" S A1AELINE=A1AELNB+A1AEOFF
"RTN","A1AECOPY",22,0)
 I A1AEOFF X "ZL @A1AEROU S A1AEPGLN=$T(+A1AELINE)" I A1AEPGLN="" W !?3,*7,"Line ",X,"+",A1AEOFF," not found in ",A1AEROU G LINE
"RTN","A1AECOPY",23,0)
 I $D(A1AEFRLN),A1AELINE<A1AEFRLN W !?3,*7,"Line copying through precedes line copying from" G LINE
"RTN","A1AECOPY",24,0)
 Q
"RTN","A1AECOPY",25,0)
 ;
"RTN","A1AECOPY",26,0)
SETUTI K ^UTILITY($J,"A1AECP") X "ZL @A1AEROU S A1AELNCT=0 F A1AELNB=A1AEFRLN:1:A1AETOLN S A1AEPGLN=$T(+A1AELNB) S A1AELNCT=A1AELNCT+1,^UTILITY($J,""A1AECP"",A1AELNCT)=$S(""$TXT$ROU$END""'[$E(A1AEPGLN,1,4):A1AEPGLN,1:""xx""_$E(A1AEPGLN,5,245))"
"RTN","A1AECOPY",27,0)
 Q
"RTN","A1AECOPY",28,0)
 ;
"RTN","A1AECOPY",29,0)
ASKCOP W ! F A1AELNB=1:1:A1AELNCT I $D(^UTILITY($J,"A1AECP",A1AELNB)) W !,A1AELNB,"> ",^(A1AELNB)
"RTN","A1AECOPY",30,0)
 S A1AERD("A")="Do you want to copy "_$S(A1AELNCT=1:"this line",1:"these "_A1AELNCT_" lines")_"? "
"RTN","A1AECOPY",31,0)
 S A1AERD(0)="S",A1AERD(1)="Yes^copy these lines into the routine description",A1AERD(2)="No^not copy these lines",A1AERD("B")=2 D SET^A1AERD K A1AERD Q:X="^"  ;;;!("N"[$E(X,1))
"RTN","A1AECOPY",32,0)
 I "nN"[$E(X,1) G ASKLIN
"RTN","A1AECOPY",33,0)
 S A1AEBOT=$S($D(^A1AE(11005,DA(1),"P",DA,"D",0)):$P(^(0),"^",3),1:0),A1AELNIN=0 D INSERT:A1AEBOT,COPY:'A1AEBOT
"RTN","A1AECOPY",34,0)
 Q
"RTN","A1AECOPY",35,0)
 ;
"RTN","A1AECOPY",36,0)
INSERT R !!,"Insert code after what description line: ",X:DTIME Q:'$T!(X="^")  I X<0!(X>A1AEBOT)!(X'?1N.N)!(X["?") G HELP
"RTN","A1AECOPY",37,0)
 S A1AELNIN=X I A1AELNIN<A1AEBOT S A1AEFRLN=A1AEBOT+A1AELNCT,A1AETOLN=A1AELNIN+1+A1AELNCT F I=A1AEFRLN:-1:A1AETOLN S ^A1AE(11005,DA(1),"P",DA,"D",I,0)=^A1AE(11005,DA(1),"P",DA,"D",(I-A1AELNCT),0)
"RTN","A1AECOPY",38,0)
 D COPY
"RTN","A1AECOPY",39,0)
 Q
"RTN","A1AECOPY",40,0)
 ;
"RTN","A1AECOPY",41,0)
HELP I X["??" W @IOF F I=0:0 S I=+$O(^A1AE(11005,DA(1),"P",DA,"D",I)) Q:'I  W !,I,"> ",^(I,0) I ($Y+6)>IOSL D CRCHK Q:X1="^"  W @IOF
"RTN","A1AECOPY",42,0)
 I X'["??" W:X'["?" *7 W !!?3,"Enter a line number between 0 and ",A1AEBOT,", or",!?3,"'??' to list current description."
"RTN","A1AECOPY",43,0)
 G INSERT
"RTN","A1AECOPY",44,0)
 ;
"RTN","A1AECOPY",45,0)
COPY S A1AELNB=0,A1AEFRLN=A1AELNIN+1,A1AETOLN=A1AELNIN+A1AELNCT F I=A1AEFRLN:1:A1AETOLN S A1AELNB=A1AELNB+1,^A1AE(11005,DA(1),"P",DA,"D",I,0)=^UTILITY($J,"A1AECP",A1AELNB) I ^(0)["|" S A1AEWFLG=""
"RTN","A1AECOPY",46,0)
 S:'$D(^A1AE(11005,DA(1),"P",DA,"D",0)) ^(0)="" S $P(^A1AE(11005,DA(1),"P",DA,"D",0),"^",3)=A1AEBOT+A1AELNCT
"RTN","A1AECOPY",47,0)
 Q
"RTN","A1AECOPY",48,0)
 ;
"RTN","A1AECOPY",49,0)
CRCHK I $E(IOST,1)="C" W !!,*7,"Press RETURN to continue or '^' to stop " R X1:DTIME
"RTN","A1AECOPY",50,0)
 Q
"RTN","A1AEHSVR")
0^7^B8406742
"RTN","A1AEHSVR",1,0)
A1AEHSVR ;ISF/RWF - HFS Checksum Msg server ;10/17/07  15:19
"RTN","A1AEHSVR",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEHSVR",3,0)
EN ;Save the HFS Checksum message for when the patch is released.
"RTN","A1AEHSVR",4,0)
 N IEN,TYPE,DATE,PATCH,PACKAGE,FDA,FIE,Y,X,CNT,EXIT
"RTN","A1AEHSVR",5,0)
 K ^TMP("A1AE",$J)
"RTN","A1AEHSVR",6,0)
 S XMER=0,(PACKAGE,PATCH)="",CNT=0,FDA=$NA(^TMP("A1AE",$J))
"RTN","A1AEHSVR",7,0)
 F  X XMREC Q:XMER  D  Q:'IEN
"RTN","A1AEHSVR",8,0)
 . S TYPE=+$P(XMRG,"~~",2),DATA=$E(XMRG,5,255)
"RTN","A1AEHSVR",9,0)
 . I $T(@TYPE) D @TYPE
"RTN","A1AEHSVR",10,0)
 . Q
"RTN","A1AEHSVR",11,0)
 I PATCH="" D ERR("BAD MESSAGE")
"RTN","A1AEHSVR",12,0)
 D FWD ;Send copy to mail group
"RTN","A1AEHSVR",13,0)
 K ^TMP("A1AE",$J)
"RTN","A1AEHSVR",14,0)
 Q
"RTN","A1AEHSVR",15,0)
 ;
"RTN","A1AEHSVR",16,0)
1 ;Patch name
"RTN","A1AEHSVR",17,0)
 N C,I,%
"RTN","A1AEHSVR",18,0)
 S PATCH=DATA I PATCH="" Q
"RTN","A1AEHSVR",19,0)
 I PATCH[" " S %=$L(PATCH," "),PATCH=$P(PATCH," ",1,%-1)_"*"_$P(PATCH," ",%)_"*0"
"RTN","A1AEHSVR",20,0)
 I $L(PATCH,"*")=3 S $P(PATCH,"*",2)=+$P(PATCH,"*",2)
"RTN","A1AEHSVR",21,0)
 ;
"RTN","A1AEHSVR",22,0)
 S IEN=$$FIND1^DIC(11005,,"M",PATCH,)
"RTN","A1AEHSVR",23,0)
 I 'IEN D:0 ERR("Could not find patch: "_PATCH) Q
"RTN","A1AEHSVR",24,0)
 S C=^A1AE(11005,IEN,0) I $P(C,U,8)'="u" S IEN=0 Q  ;Only save if underdev
"RTN","A1AEHSVR",25,0)
 I '$D(^A1AE(11005.5,IEN,0)) D  I IEN<1 D ERR("COULD NOT ADD: "_PATCH) Q
"RTN","A1AEHSVR",26,0)
 . S DIC(0)="ML",DIC="^A1AE(11005.5,",X=PATCH D ^DIC
"RTN","A1AEHSVR",27,0)
 . S IEN=+Y
"RTN","A1AEHSVR",28,0)
 S PACKAGE=$P(^A1AE(11005,IEN,0),U,2)
"RTN","A1AEHSVR",29,0)
 S @FDA@(11005.5,IEN_",",2)=XMZ,@FDA@(11005.5,IEN_",",3)=$$NOW^XLFDT
"RTN","A1AEHSVR",30,0)
 Q
"RTN","A1AEHSVR",31,0)
 ;
"RTN","A1AEHSVR",32,0)
2 ;Linked Patchs
"RTN","A1AEHSVR",33,0)
 S CNT=CNT+1,FIE="?+"_CNT_","_IEN_",",@FDA@(11005.521,FIE,.01)=DATA
"RTN","A1AEHSVR",34,0)
 Q
"RTN","A1AEHSVR",35,0)
 ;
"RTN","A1AEHSVR",36,0)
3 ;Add Routines. RTN^install/delete^ien_in_build^Checksum~patch list
"RTN","A1AEHSVR",37,0)
 N RN,CS,ID,PL
"RTN","A1AEHSVR",38,0)
 S DATA=$TR(DATA,"~","^") ;Fix bad version
"RTN","A1AEHSVR",39,0)
 S RN=$P(DATA,"^",1),ID=$P(DATA,"^",2),CS=$P(DATA,"^",4),PL=$P(DATA,"^",5)
"RTN","A1AEHSVR",40,0)
 S CNT=CNT+1,FIE="?+"_CNT_","_IEN_","
"RTN","A1AEHSVR",41,0)
 S @FDA@(11005.511,FIE,.01)=RN,@FDA@(11005.511,FIE,2)=ID,@FDA@(11005.511,FIE,3)=CS,@FDA@(11005.511,FIE,5)=PL
"RTN","A1AEHSVR",42,0)
 K FIE
"RTN","A1AEHSVR",43,0)
 Q
"RTN","A1AEHSVR",44,0)
 ;
"RTN","A1AEHSVR",45,0)
8 ;From Domain
"RTN","A1AEHSVR",46,0)
 N X,Y,IX,FD,CD
"RTN","A1AEHSVR",47,0)
 S @FDA@(11005.5,IEN_",",5)=DATA
"RTN","A1AEHSVR",48,0)
 S FD=$RE(DATA)
"RTN","A1AEHSVR",49,0)
 ;See if from a authorized sender
"RTN","A1AEHSVR",50,0)
 I 'PACKAGE K FDA Q
"RTN","A1AEHSVR",51,0)
 S IX=0,CD="",X=0
"RTN","A1AEHSVR",52,0)
 F  S IX=$O(^DIC(9.4,PACKAGE,25,IX)) Q:'IX  S Y=^(IX,0) D  Q:X
"RTN","A1AEHSVR",53,0)
 . S Y=$P(^DIC(4.2,+Y,0),U)
"RTN","A1AEHSVR",54,0)
 . S CD=$RE(Y),X=($E(FD,1,$L(CD))=CD)
"RTN","A1AEHSVR",55,0)
 . Q
"RTN","A1AEHSVR",56,0)
 I 'X K FDA ;Don't accept if not from authorized domain
"RTN","A1AEHSVR",57,0)
 Q
"RTN","A1AEHSVR",58,0)
 ;Save data
"RTN","A1AEHSVR",59,0)
9 ;
"RTN","A1AEHSVR",60,0)
 Q:'$D(FDA)  Q:'IEN
"RTN","A1AEHSVR",61,0)
 D  ;Remove any previous routine info
"RTN","A1AEHSVR",62,0)
 . K ^A1AE(11005.5,IEN,1)
"RTN","A1AEHSVR",63,0)
 . Q
"RTN","A1AEHSVR",64,0)
 D  ;Clear Patch link
"RTN","A1AEHSVR",65,0)
 . N DA,DIK
"RTN","A1AEHSVR",66,0)
 . S DA(1)=IEN,DA=0,DIK="^A1AE(11005.5,"_IEN_",2,"
"RTN","A1AEHSVR",67,0)
 . F  S DA=$O(^A1AE(11005.5,IEN,2,DA)) Q:'DA  D ^DIK
"RTN","A1AEHSVR",68,0)
 . Q
"RTN","A1AEHSVR",69,0)
 K FIE D UPDATE^DIE("",FDA,"FIE")
"RTN","A1AEHSVR",70,0)
 Q
"RTN","A1AEHSVR",71,0)
 ;
"RTN","A1AEHSVR",72,0)
ERR(MSG) ;Report error
"RTN","A1AEHSVR",73,0)
 ;For now just send an alert
"RTN","A1AEHSVR",74,0)
 N XQA,XQAMSG,XQAOPT,XQAROU
"RTN","A1AEHSVR",75,0)
 S XQAMSG="HFS SERVER: "_MSG,XQA("G.A1AE PATCH ERRORS")=""
"RTN","A1AEHSVR",76,0)
 D SETUP^XQALERT
"RTN","A1AEHSVR",77,0)
 Q
"RTN","A1AEHSVR",78,0)
 ;
"RTN","A1AEHSVR",79,0)
FWD ;Forward message
"RTN","A1AEHSVR",80,0)
 Q:'$D(XMZ)
"RTN","A1AEHSVR",81,0)
 N XMDUZ
"RTN","A1AEHSVR",82,0)
 S XMY("G.A1AE HFS MESSAGES")=""
"RTN","A1AEHSVR",83,0)
 D ENT1^XMD
"RTN","A1AEHSVR",84,0)
 Q
"RTN","A1AEHSVR",85,0)
 ;
"RTN","A1AEHSVR",86,0)
TEST ;
"RTN","A1AEHSVR",87,0)
 N XMRG,XMER,XMREC,XMZ
"RTN","A1AEHSVR",88,0)
 W !,"Message number: " R XMZ:300 Q:'XMZ
"RTN","A1AEHSVR",89,0)
 S XMREC="D REC^XMS3"
"RTN","A1AEHSVR",90,0)
 D EN
"RTN","A1AEHSVR",91,0)
 Q
"RTN","A1AEKEY")
0^8^B21266795
"RTN","A1AEKEY",1,0)
A1AEKEY ; RMO,MJK/ALBANY ; Allocate Patch Function Keys ;24 NOV 87 11:00 am
"RTN","A1AEKEY",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEKEY",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEKEY",4,0)
 ;----------------------------------------------------------------
"RTN","A1AEKEY",5,0)
 ; This module has two separate entry points:
"RTN","A1AEKEY",6,0)
 ;      ASKKEY -- is used to prompt the patch user for patch keys
"RTN","A1AEKEY",7,0)
 ;                and to enter/edit holders
"RTN","A1AEKEY",8,0)
 ;      KEY    -- for automatic allocation of patch keys to users
"RTN","A1AEKEY",9,0)
 ;                in a specific package
"RTN","A1AEKEY",10,0)
 ;----------------------------------------------------------------
"RTN","A1AEKEY",11,0)
ASKKEY ;Prompt for patch function key
"RTN","A1AEKEY",12,0)
 I $D(^DD(200,0,"VR")),^("VR")<7 G ^A1AEKEY6
"RTN","A1AEKEY",13,0)
 S DIC("A")="Select PATCH KEY: ",DIC("S")="S A1AEX=^(0) I $E($P(^(0),U,1),1,4)=""A1AE"",$S($D(^XUSEC(""A1AE MGR"",DUZ)):1,($P(A1AEX,U,1)'=""A1AE XUSEC"")&($P(A1AEX,U,1)'=""A1AE MGR""):1,1:0) K A1AEX",DIC="^DIC(19.1,",DIC(0)="AEMQZ"
"RTN","A1AEKEY",14,0)
 W ! D ^DIC K DIC("A"),DIC("S") Q:Y<0  S A1AEKYIF=+Y,A1AEKEY=$P(Y,U,2)
"RTN","A1AEKEY",15,0)
 D ASKHLD K A1AEDUZ0,A1AEPK,A1AEPKIF,A1AEPKNM,A1AEKEY,A1AEUSR,A1AEXRF,A1AEDES,A1AEKYIF,A1AEHDIF,A1AEUSNM Q:X="^"  G ASKKEY
"RTN","A1AEKEY",16,0)
 ;
"RTN","A1AEKEY",17,0)
ASKHLD ;Prompt for key holder
"RTN","A1AEKEY",18,0)
 S A1AEDUZ0=DUZ(0),DUZ(0)="@"
"RTN","A1AEKEY",19,0)
 S DIC="^VA(200,",DIC(0)="AEQ",DIC("A")="Select Patch user: " W ! D ^DIC K DIC Q:Y<0
"RTN","A1AEKEY",20,0)
 S A1AEUSR=+Y,A1AEUSNM=$P(Y,"^",2)
"RTN","A1AEKEY",21,0)
 I '$D(^VA(200,A1AEUSR,51,A1AEKYIF)) DO  G ASKHLD
"RTN","A1AEKEY",22,0)
 .S DIC(0)="NMQ" S:'$D(^VA(200,A1AEUSR,51,0)) ^(0)="^200.051PA^^"
"RTN","A1AEKEY",23,0)
 .S DIC="^VA(200,"_A1AEUSR_",51,",DA(1)=A1AEUSR,X=A1AEKYIF,DINUM=X
"RTN","A1AEKEY",24,0)
 .K DO,DD D FILE^DICN S DUZ(0)=A1AEDUZ0 K A1AEDUZ0,DO,DD,DA,DE,DQ
"RTN","A1AEKEY",25,0)
 .I '$P(Y,"^",3) Q
"RTN","A1AEKEY",26,0)
 .W !?3,"..",A1AEUSNM,"...added as an ",A1AEKEY," key holder"
"RTN","A1AEKEY",27,0)
 .Q
"RTN","A1AEKEY",28,0)
 D LIST:A1AEKEY="A1AE DEVELOPER"!(A1AEKEY="A1AE SUPPORT")!(A1AEKEY="A1AE PHVER"),ASKDEL G ASKHLD
"RTN","A1AEKEY",29,0)
 ;
"RTN","A1AEKEY",30,0)
LIST ;List the packages the selected holder may require this key for
"RTN","A1AEKEY",31,0)
 S A1AEXRF=$S(A1AEKEY="A1AE DEVELOPER":"AD",A1AEKEY="A1AE SUPPORT":"AS",A1AEKEY="A1AE PHVER":"AV",1:""),A1AEDES=$S(A1AEXRF="AD":"developer",A1AEXRF="AS":"support person",A1AEXRF="AV":"verifier",1:"")
"RTN","A1AEKEY",32,0)
 I '$D(^A1AE(11007,A1AEXRF,A1AEUSR)) W !!?3,A1AEUSNM," is not a ",A1AEDES," for any package in the Patch file." Q
"RTN","A1AEKEY",33,0)
 I $D(^A1AE(11007,A1AEXRF,A1AEUSR)) W !!?3,A1AEUSNM," is a ",A1AEDES," for:" F A1AEPKIF=0:0 S A1AEPKIF=+$O(^A1AE(11007,A1AEXRF,A1AEUSR,A1AEPKIF)) Q:'A1AEPKIF  I $D(^DIC(9.4,A1AEPKIF,0)) W !?7,$P(^(0),"^",2),?12,"-",?14,$P(^(0),"^",1)
"RTN","A1AEKEY",34,0)
 Q
"RTN","A1AEKEY",35,0)
ASKDEL ;Prompt for deleting the key holder
"RTN","A1AEKEY",36,0)
 S A1AERD("A")="Do you want to delete "_A1AEUSNM_" as an "_A1AEKEY_" key holder? ",A1AERD(0)="S",A1AERD(1)="Yes^delete key holder",A1AERD(2)="No^not delete",A1AERD("B")=2 D SET^A1AERD K A1AERD Q:X="^"!("N"[$E(X,1))
"RTN","A1AEKEY",37,0)
 S DIK="^VA(200,"_A1AEUSR_",51,",DA(1)=A1AEUSR,DA=A1AEKYIF
"RTN","A1AEKEY",38,0)
 D ^DIK K DIK,DA,D0
"RTN","A1AEKEY",39,0)
 W !?3,"...deleted as an ",A1AEKEY," key holder" Q
"RTN","A1AEKEY",40,0)
 ;
"RTN","A1AEKEY",41,0)
KEY ;Automatic allocation of A1AE SUPPORT, A1AE PHVER, A1AE DEVELOPER keys
"RTN","A1AEKEY",42,0)
 ;for a specific package
"RTN","A1AEKEY",43,0)
 I $D(^DD(200,0,"VR")),^("VR")<7 G ^A1AEKEY6
"RTN","A1AEKEY",44,0)
 W !!?3,"...allocating A1AE SUPPORT, A1AE PHVER, and A1AE DEVELOPER keys" S A1AESKY=+$O(^DIC(19.1,"B","A1AE SUPPORT",0)),A1AEVKY=+$O(^DIC(19.1,"B","A1AE PHVER",0)),A1AEDKY=+$O(^DIC(19.1,"B","A1AE DEVELOPER",0))
"RTN","A1AEKEY",45,0)
 D SUPPORT:A1AESKY,DEVELOP:A1AEDKY W:'A1AESKY !?6,"A1AE SUPPORT key does not exist" W:'A1AEVKY !?6,"A1AE DEVELOPER key does not exist" W:'A1AEDKY !?6,"A1AE DEVELOPER key does not exist"
"RTN","A1AEKEY",46,0)
 K A1AESKY,A1AEVKY,A1AEDKY,A1AEUSR,A1AEVR,A1AEUSNM
"RTN","A1AEKEY",47,0)
 Q
"RTN","A1AEKEY",48,0)
 ;
"RTN","A1AEKEY",49,0)
SUPPORT F A1AEUSR=0:0 S A1AEUSR=+$O(^A1AE(11007,A1AEPKIF,"PB",A1AEUSR)) Q:'A1AEUSR  S A1AEVR=$P(^(A1AEUSR,0),"^",2),DA=A1AESKY D SETKEY:'$D(^XUSEC("A1AE SUPPORT",A1AEUSR)) I A1AEVR="V",A1AEVKY D VERIFY
"RTN","A1AEKEY",50,0)
 Q
"RTN","A1AEKEY",51,0)
 ;
"RTN","A1AEKEY",52,0)
VERIFY S DA=A1AEVKY D SETKEY:'$D(^XUSEC("A1AE PHVER",A1AEUSR))
"RTN","A1AEKEY",53,0)
 Q
"RTN","A1AEKEY",54,0)
 ;
"RTN","A1AEKEY",55,0)
DEVELOP F A1AEUSR=0:0 S A1AEUSR=+$O(^A1AE(11007,A1AEPKIF,"PH",A1AEUSR)) Q:'A1AEUSR  S DA=A1AEDKY D SETKEY:'$D(^XUSEC("A1AE DEVELOPER",A1AEUSR))
"RTN","A1AEKEY",56,0)
 Q
"RTN","A1AEKEY",57,0)
 ;
"RTN","A1AEKEY",58,0)
SETKEY S X=DA K DA
"RTN","A1AEKEY",59,0)
 S A1AEUSNM=$S($D(^VA(200,A1AEUSR,0)):$E($P(^(0),"^"),1,20),1:"UNKNOWN")
"RTN","A1AEKEY",60,0)
 S A1AEDUZ0=DUZ(0),DUZ(0)="@"
"RTN","A1AEKEY",61,0)
 S:'$D(^VA(200,A1AEUSR,51,0)) ^(0)="^200.051PA^0^-1"
"RTN","A1AEKEY",62,0)
 S DIC(0)="NMQ"
"RTN","A1AEKEY",63,0)
 S DIC="^VA(200,"_A1AEUSR_",51,",DA(1)=A1AEUSR,DINUM=X
"RTN","A1AEKEY",64,0)
 K DO,DD D FILE^DICN S DUZ(0)=A1AEDUZ0 K DO,DD,DA,A1AEDUZ0,DE,DQ  I $P(Y,"^",3) W "."
"RTN","A1AEKEY",65,0)
 Q
"RTN","A1AEKEY6")
0^9^B21193544
"RTN","A1AEKEY6",1,0)
A1AEKEY6 ; RMO,MJK/ALBANY ; Allocate Patch Function Keys ;24 NOV 87 11:00 am
"RTN","A1AEKEY6",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEKEY6",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEKEY6",4,0)
 ;----------------------------------------------------------------
"RTN","A1AEKEY6",5,0)
 ; This module has two separate entry points:
"RTN","A1AEKEY6",6,0)
 ;      ASKKEY -- is used to prompt the patch user for patch keys
"RTN","A1AEKEY6",7,0)
 ;                and to enter/edit holders
"RTN","A1AEKEY6",8,0)
 ;      KEY    -- for automatic allocation of patch keys to users
"RTN","A1AEKEY6",9,0)
 ;                in a specific package
"RTN","A1AEKEY6",10,0)
 ; Called if Kernel 7 not installed
"RTN","A1AEKEY6",11,0)
 ;----------------------------------------------------------------
"RTN","A1AEKEY6",12,0)
ASKKEY ;Prompt for patch function key
"RTN","A1AEKEY6",13,0)
 S DIC("A")="Select PATCH KEY: ",DIC("S")="S A1AEX=^(0) I $E($P(^(0),U,1),1,4)=""A1AE"",$S($D(^XUSEC(""A1AE MGR"",DUZ)):1,($P(A1AEX,U,1)'=""A1AE XUSEC"")&($P(A1AEX,U,1)'=""A1AE MGR""):1,1:0) K A1AEX",DIC="^DIC(19.1,",DIC(0)="AEMQZ"
"RTN","A1AEKEY6",14,0)
 W ! D ^DIC K DIC("A"),DIC("S") Q:Y<0  S A1AEKYIF=+Y,A1AEKEY=$P(Y,U,2) S:'$D(^DIC(19.1,A1AEKYIF,2,0)) ^(0)="^19.12PA^^" D ASKHLD K A1AEKEY,A1AEUSR,A1AEXRF,A1AEDES,A1AEKYIF,A1AEHDIF,A1AEUSNM Q:X="^"  G ASKKEY
"RTN","A1AEKEY6",15,0)
 ;
"RTN","A1AEKEY6",16,0)
ASKHLD ;Prompt for key holder
"RTN","A1AEKEY6",17,0)
 S A1AEDUZ0=DUZ(0),DUZ(0)="@",DA(1)=A1AEKYIF,DIC="^DIC(19.1,A1AEKYIF,2,",DIC(0)="AELMQ" W ! D ^DIC S DUZ(0)=A1AEDUZ0 K A1AEDUZ0 Q:Y<0  S A1AEHDIF=+Y,A1AEUSR=$P(Y,U,2) I $P(Y,U,3) W !?3,"...added as an ",A1AEKEY," key holder" G ASKHLD
"RTN","A1AEKEY6",18,0)
 S A1AEUSNM=$S($D(^VA(200,A1AEUSR,0)):$E($P(^(0),U,1),1,20),1:"UNKNOWN")
"RTN","A1AEKEY6",19,0)
 D LIST:A1AEKEY="A1AE DEVELOPER"!(A1AEKEY="A1AE SUPPORT")!(A1AEKEY="A1AE PHVER"),ASKDEL G ASKHLD
"RTN","A1AEKEY6",20,0)
 ;
"RTN","A1AEKEY6",21,0)
LIST ;List the packages the selected holder may require this key for
"RTN","A1AEKEY6",22,0)
 S A1AEXRF=$S(A1AEKEY="A1AE DEVELOPER":"AD",A1AEKEY="A1AE SUPPORT":"AS",A1AEKEY="A1AE PHVER":"AV",1:""),A1AEDES=$S(A1AEXRF="AD":"developer",A1AEXRF="AS":"support person",A1AEXRF="AV":"verifier",1:"")
"RTN","A1AEKEY6",23,0)
 I '$D(^A1AE(11007,A1AEXRF,A1AEUSR)) W !!?3,A1AEUSNM," is not a ",A1AEDES," for any package in the Patch file." Q
"RTN","A1AEKEY6",24,0)
 I $D(^A1AE(11007,A1AEXRF,A1AEUSR)) W !!?3,A1AEUSNM," is a ",A1AEDES," for:" F A1AEPKIF=0:0 S A1AEPKIF=+$O(^A1AE(11007,A1AEXRF,A1AEUSR,A1AEPKIF)) Q:'A1AEPKIF  I $D(^DIC(9.4,A1AEPKIF,0)) W !?7,$P(^(0),"^",2),?12,"-",?14,$P(^(0),"^",1)
"RTN","A1AEKEY6",25,0)
 Q
"RTN","A1AEKEY6",26,0)
 ;
"RTN","A1AEKEY6",27,0)
ASKDEL ;Prompt for deleting the key holder
"RTN","A1AEKEY6",28,0)
 S A1AERD("A")="Do you want to delete "_A1AEUSNM_" as an "_A1AEKEY_" key holder? ",A1AERD(0)="S",A1AERD(1)="Yes^delete key holder",A1AERD(2)="No^not delete",A1AERD("B")=2 D SET^A1AERD K A1AERD Q:X="^"!("N"[$E(X,1))
"RTN","A1AEKEY6",29,0)
 S DIK="^DIC(19.1,A1AEKYIF,2,",DA(1)=A1AEKYIF,DA=A1AEHDIF D ^DIK W !?3,"...deleted as an ",A1AEKEY," key holder"
"RTN","A1AEKEY6",30,0)
 Q
"RTN","A1AEKEY6",31,0)
 ;
"RTN","A1AEKEY6",32,0)
KEY ;Automatic allocation of A1AE SUPPORT, A1AE PHVER, A1AE DEVELOPER keys
"RTN","A1AEKEY6",33,0)
 ;for a specific package
"RTN","A1AEKEY6",34,0)
 W !!?3,"...allocating A1AE SUPPORT, A1AE PHVER, and A1AE DEVELOPER keys" S A1AESKY=+$O(^DIC(19.1,"B","A1AE SUPPORT",0)),A1AEVKY=+$O(^DIC(19.1,"B","A1AE PHVER",0)),A1AEDKY=+$O(^DIC(19.1,"B","A1AE DEVELOPER",0))
"RTN","A1AEKEY6",35,0)
 D SUPPORT:A1AESKY,DEVELOP:A1AEDKY W:'A1AESKY !?6,"A1AE SUPPORT key does not exist" W:'A1AEVKY !?6,"A1AE DEVELOPER key does not exist" W:'A1AEDKY !?6,"A1AE DEVELOPER key does not exist"
"RTN","A1AEKEY6",36,0)
 K A1AESKY,A1AEVKY,A1AEDKY,A1AEUSR,A1AEVR,A1AEUSNM
"RTN","A1AEKEY6",37,0)
 Q
"RTN","A1AEKEY6",38,0)
 ;
"RTN","A1AEKEY6",39,0)
SUPPORT F A1AEUSR=0:0 S A1AEUSR=+$O(^A1AE(11007,A1AEPKIF,"PB",A1AEUSR)) Q:'A1AEUSR  S A1AEVR=$P(^(A1AEUSR,0),"^",2),DA=A1AESKY D SETKEY:'$D(^XUSEC("A1AE SUPPORT",A1AEUSR)) I A1AEVR="V",A1AEVKY D VERIFY
"RTN","A1AEKEY6",40,0)
 Q
"RTN","A1AEKEY6",41,0)
 ;
"RTN","A1AEKEY6",42,0)
VERIFY S DA=A1AEVKY D SETKEY:'$D(^XUSEC("A1AE PHVER",A1AEUSR))
"RTN","A1AEKEY6",43,0)
 Q
"RTN","A1AEKEY6",44,0)
 ;
"RTN","A1AEKEY6",45,0)
DEVELOP F A1AEUSR=0:0 S A1AEUSR=+$O(^A1AE(11007,A1AEPKIF,"PH",A1AEUSR)) Q:'A1AEUSR  S DA=A1AEDKY D SETKEY:'$D(^XUSEC("A1AE DEVELOPER",A1AEUSR))
"RTN","A1AEKEY6",46,0)
 Q
"RTN","A1AEKEY6",47,0)
 ;
"RTN","A1AEKEY6",48,0)
SETKEY S A1AEUSNM=$S($D(^VA(200,A1AEUSR,0)):$E($P(^(0),U,1),1,20),1:"UNKNOWN")
"RTN","A1AEKEY6",49,0)
 W "." S A1AEDUZ0=DUZ(0),DUZ(0)="@",DIE="^DIC(19.1,",DR="2///"_A1AEUSNM,DR(2,19.12)="1///"_DUZ_";2///T" D ^DIE S DUZ(0)=A1AEDUZ0 K DE,DQ,DIE,A1AEDUZ0
"RTN","A1AEKEY6",50,0)
 Q
"RTN","A1AEM")
0^10^B25481922
"RTN","A1AEM",1,0)
A1AEM ;ISC-Albany/pke-called entries for mailing patches ;01/10/2007
"RTN","A1AEM",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEM",3,0)
DD ;
"RTN","A1AEM",4,0)
 I $D(X),X="db",$P(^A1AE(11005,D0,0),"^",3)'=999 W !?3,"The 'DATABASE' category is only for DBA patches." K X Q
"RTN","A1AEM",5,0)
 I $D(X),"Ee"[$E(X_1),"em"'[$E($P(^A1AE(11005,D0,0),"^",7)_1) W !?3,"The 'ENHANCEMENT' category must have PRIORITY of EMERGENCY or MANDATORY." K X Q
"RTN","A1AEM",6,0)
 Q
"RTN","A1AEM",7,0)
 ;I $D(X),"PApp"[$E(X_1,1,2),"em"'[$E($P(^A1AE(11005,D0,0),"^",7)_1) W !?3,"The 'PATCH FOR A PATCH' category must have PRIORITY of EMERGENCY or MANDATORY." K X Q
"RTN","A1AEM",8,0)
 Q
"RTN","A1AEM",9,0)
CREC D NOW^%DTC I $D(^A1AE(11005.1,DA,0)) S $P(^(0),U,4,5)=AXMZ_"^"_%
"RTN","A1AEM",10,0)
 K %
"RTN","A1AEM",11,0)
 Q
"RTN","A1AEM",12,0)
VREC D NOW^%DTC I $D(^A1AE(11005.1,DA,0)) S $P(^(0),U,6,7)=AXMZ_"^"_%
"RTN","A1AEM",13,0)
 K %
"RTN","A1AEM",14,0)
 Q
"RTN","A1AEM",15,0)
CONT S SAVX=X
"RTN","A1AEM",16,0)
 W !?2,"This patch has already been 'Completed', editing will change "
"RTN","A1AEM",17,0)
 S A1AERD("A")="  the status back to 'UNDER DEVELOPMENT' continue ? "
"RTN","A1AEM",18,0)
 S A1AERD(1)="Yes^continue editing with status as 'UNDER DEVELOPMENT'"
"RTN","A1AEM",19,0)
 S A1AERD(2)="No^quit and keep the status as 'COMPLETE/NOT RELEASED'"
"RTN","A1AEM",20,0)
 S A1AERD(0)="S"
"RTN","A1AEM",21,0)
 S A1AERD("B")=2 D ^A1AERD K A1AERD I X'["Y" S Y=""
"RTN","A1AEM",22,0)
 S X=SAVX
"RTN","A1AEM",23,0)
 Q
"RTN","A1AEM",24,0)
 ;
"RTN","A1AEM",25,0)
TRASH ;Remove old message from queue
"RTN","A1AEM",26,0)
 Q:'$D(AXMZ)
"RTN","A1AEM",27,0)
 N QUE,XMDUZ,X
"RTN","A1AEM",28,0)
 D QUE I $D(QUE),QUE S (XMKD,XMK)=QUE,XMZ=AXMZ,XMDUZ=.5 D KLQ
"RTN","A1AEM",29,0)
 K AXMDUZ,XMKD,XMK,XMZ,XMDI
"RTN","A1AEM",30,0)
 Q
"RTN","A1AEM",31,0)
KLQ ;
"RTN","A1AEM",32,0)
 S X="XMA1B" X ^%ZOSF("TEST") I $T D KLQ^XMA1B Q
"RTN","A1AEM",33,0)
 D KLQ^XMA1 Q
"RTN","A1AEM",34,0)
 ;
"RTN","A1AEM",35,0)
TRASHALL(AXMZ) ;Remove other entries in QUE with same start
"RTN","A1AEM",36,0)
 N XMKD,XMK,XMZ,XMDUZ,DA,X1,XMSUB
"RTN","A1AEM",37,0)
 S XMSUB=$P($G(^XMB(3.9,AXMZ,0)),U) Q:'$L(XMSUB)
"RTN","A1AEM",38,0)
 S XMSUB=$P(XMSUB," "),DA=0
"RTN","A1AEM",39,0)
 F  S DA=$O(^XMB(3.7,.5,2,QUE,1,DA)) Q:'DA  S X=^(DA,0) D
"RTN","A1AEM",40,0)
 . S XMZ=+X,X=$G(^XMB(3.9,XMZ,0)),X1=$P($P(X,U)," ")
"RTN","A1AEM",41,0)
 . I XMSUB=X1 D
"RTN","A1AEM",42,0)
 . . N XMKD,XMK S (XMKD,XMK)=QUE,XMDUZ=.5 D KLQ
"RTN","A1AEM",43,0)
 Q 
"RTN","A1AEM",44,0)
 ;
"RTN","A1AEM",45,0)
XM I '$D(XMDUZ) S XMDUZ=DUZ
"RTN","A1AEM",46,0)
 S XMDUN=$P(^VA(200,XMDUZ,0),U),(XMKN,XMLOCK)="",(XMK,XMZ)=0
"RTN","A1AEM",47,0)
 Q
"RTN","A1AEM",48,0)
 ;
"RTN","A1AEM",49,0)
AGN R !?3,"Enter Subject: ",X:DTIME Q:X=""!(X["^")  I X?1"R"1N.N!($L(X)>64)!($L(X)<3) W *7 W:X["?" "      Use namespace*version anything 'AAAA*n.nn ....'" G AGN
"RTN","A1AEM",50,0)
 S XMSUB=X K ^UTILITY($J) X ^%ZOSF("RSEL")
"RTN","A1AEM",51,0)
 S AZ="" F I=0:0 S AZ=$O(^UTILITY($J,AZ)) Q:AZ=""  S XMROU(AZ)=""
"RTN","A1AEM",52,0)
 I $D(XMROU)<10 W !?3,"No routines selected" H 2 Q
"RTN","A1AEM",53,0)
 S XMTEXT="X(",X(1)=""
"RTN","A1AEM",54,0)
 S XMY(XMDUN_"@Q-PATCH.VA.GOV")=""
"RTN","A1AEM",55,0)
 D ^XMD W !?3,"message queued to 'Q-PATCH.VA.GOV' "
"RTN","A1AEM",56,0)
 Q
"RTN","A1AEM",57,0)
 ;
"RTN","A1AEM",58,0)
PACK ;Build a packman message
"RTN","A1AEM",59,0)
 D XM,AGN G QPK
"RTN","A1AEM",60,0)
 ;
"RTN","A1AEM",61,0)
QPK D KILL^XM K AZ,XMROU,^UTILITY($J)
"RTN","A1AEM",62,0)
 Q
"RTN","A1AEM",63,0)
 ;
"RTN","A1AEM",64,0)
MMM ;ov x=val domain, "",x9
"RTN","A1AEM",65,0)
 S DIC="^DIC(4.2,",DIC(0)="",X9="" F Y=0:0 D ^DIC Q:Y>0  S X9=X9_$S($L(X9):".",1:"")_$P(X,"."),X=$P(X,".",2,999) I X="" W !,*7,"Domain not found." Q
"RTN","A1AEM",66,0)
 Q
"RTN","A1AEM",67,0)
DOMAIN ;out xxmy("user or group @ domain")
"RTN","A1AEM",68,0)
 ;
"RTN","A1AEM",69,0)
 ;
"RTN","A1AEM",70,0)
 ;Send to the NETWORK ROUTING list in the 11007 file for A1AE package.
"RTN","A1AEM",71,0)
VER K XMY,AXMY S AN=$O(^DIC(9.4,"C","A1AE",0)) Q:'AN
"RTN","A1AEM",72,0)
 F AZ=0:0 S AZ=$O(^A1AE(11007,AN,"NT",AZ)) Q:'AZ  I $D(^(AZ,0)),'$P(^(0),U,3) S AXMY($TR($P(^(0),U,1,2),"^","@"))=""
"RTN","A1AEM",73,0)
 D XMYCHK
"RTN","A1AEM",74,0)
 Q
"RTN","A1AEM",75,0)
COM K XMY,AXMY
"RTN","A1AEM",76,0)
 F AZ=0:0 S AZ=$O(^A1AE(11007,AN,"PB",AZ)) Q:'AZ  I $D(^(AZ,0)),$P(^(0),U,2)="V" S DOM=$P(^(0),U,3),NAM=$P(^VA(200,AZ,0),U),AXMY(NAM_"@"_DOM)=""
"RTN","A1AEM",77,0)
 D XMYCHK
"RTN","A1AEM",78,0)
 Q
"RTN","A1AEM",79,0)
 ;tst ste
"RTN","A1AEM",80,0)
TST K XMY,AXMY
"RTN","A1AEM",81,0)
 F AZ=0:0 S AZ=$O(^A1AE(11007,AN,1,AZ)) Q:'AZ  I $D(^(AZ,0)),$L($P(^(0),U,3)) S DOM=$P(^(0),U,3),NAM=$P(^VA(200,AZ,0),U),AXMY(NAM_"@"_DOM)=""
"RTN","A1AEM",82,0)
 ;
"RTN","A1AEM",83,0)
XMYCHK S AN="" F  S AN=$O(AXMY(AN)) Q:AN=""  I $E(AN,$L(AN))="@" K AXMY(AN)
"RTN","A1AEM",84,0)
 MERGE XMY=AXMY
"RTN","A1AEM",85,0)
 ;should not be necessary with new mailman
"RTN","A1AEM",86,0)
 ;S (AN,XMN)=0,XMDUZ=DUZ F AZ=0:0 S AN=$O(AXMY(AN)) Q:AN=""  S X=AN D INST^XMA21 I '$D(ZTQUEUED) W "." R ZZ:0
"RTN","A1AEM",87,0)
 I '$D(ZTQUEUED) W "." R ZZ:0
"RTN","A1AEM",88,0)
 K DOM,NAM,AZ,AN,AXMY,XMN,XMDUZ
"RTN","A1AEM",89,0)
 Q
"RTN","A1AEM",90,0)
QUE ;ov xminst, 1st mess
"RTN","A1AEM",91,0)
 N %
"RTN","A1AEM",92,0)
 ;S QUE="Q-PATCH.VA.GOV"
"RTN","A1AEM",93,0)
 S %=$L(^XMB("NETNAME"),"."),%=$P(^XMB("NETNAME"),".",%-1,%),QUE="Q-PATCH."_%
"RTN","A1AEM",94,0)
 S QUE=$O(^XMB(3.7,.5,2,"B",QUE,0)) I 'QUE W !,"No queue 'Q-PATCH'" K QUE Q
"RTN","A1AEM",95,0)
 I '$D(^XMB(3.7,.5,2,QUE,0)) W !,"No queue 'Q-PATCH'" K QUE Q
"RTN","A1AEM",96,0)
 I QUE<1001 W !,"No queue 'Q-PATCH'" K QUE Q
"RTN","A1AEM",97,0)
 S QMES=$O(^XMB(3.7,.5,2,QUE,1,0)) I 'QMES W !,"No messages in Q-PATCH" K QUE,QMES Q
"RTN","A1AEM",98,0)
 Q
"RTN","A1AEM",99,0)
LOC ;ov a1aerd(),x()=axmz,a1aerd(2)=last
"RTN","A1AEM",100,0)
 Q:'$D(QUE)
"RTN","A1AEM",101,0)
 S QMESUB=$P(A1AEPD,"*",1,2)
"RTN","A1AEM",102,0)
 S QMES=0,AN=0,ADD=^DD("DD")
"RTN","A1AEM",103,0)
 F AZ=0:0 S QMES=$O(^XMB(3.7,.5,2,QUE,1,QMES)) Q:'QMES  I $D(^XMB(3.9,QMES,0)),$P(^(0),U)[QMESUB S A0=^(0) D EXTR
"RTN","A1AEM",104,0)
 K ADD,A0,AN,AZ,SHOW,QMES Q
"RTN","A1AEM",105,0)
EXTR S AN=AN+1,A1AERD(AN)=AN_U_"Copy message ' "_$P(A0,U)_" '",X(AN)=QMES,A1AERD("B")=AN
"RTN","A1AEM",106,0)
 I $D(SHOW) W !,?SHOW,"(",AN,")",?SHOW+5,$E($P(A0,U),1,25),?SHOW+32,$E($S('$P(A0,U,2):$P(A0,U,2),1:$P(^VA(200,$P(A0,U,2),0),U,1)),1,25),?SHOW+59 S Y=$P($P(A0,"^",3),".") X ADD W Y
"RTN","A1AEM",107,0)
 Q
"RTN","A1AEM",108,0)
 ;
"RTN","A1AEM",109,0)
FCOPY ;ivAXMZ,A1AEROU,ovRNAM^start^end
"RTN","A1AEM",110,0)
 S AROU=A1AEROU
"RTN","A1AEM",111,0)
 S BEG="$ROU "_AROU,END="$END ROU "_AROU
"RTN","A1AEM",112,0)
 S L1=5+$L(AROU),L2=9+$L(AROU)
"RTN","A1AEM",113,0)
 F AZ=0:0 S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)),$E(^(0),1,L1)=BEG!($E(^(0),1,L2)=END) S AP=$E(^(0),1,20) S:AP=BEG RNAM=AROU_"^"_AZ I AP=END,$D(RNAM) S $P(RNAM,"^",3)=AZ Q
"RTN","A1AEM",114,0)
 K BEG,END,AROU,AZ,AP,AZ
"RTN","A1AEM",115,0)
 Q
"RTN","A1AEM",116,0)
 ;
"RTN","A1AEM",117,0)
44 F XQ=1:1 Q:$P(X,".",XQ,99)=""  I X[$P(X,".",XQ,99) S $P(X,".",1,XQ-1)=XX Q
"RTN","A1AEM",118,0)
 Q
"RTN","A1AEM1")
0^11^B55737658
"RTN","A1AEM1",1,0)
A1AEM1 ;ISC-Albany/pke - copy message ;6/14/07  16:26
"RTN","A1AEM1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEM1",3,0)
MES ;copy mesage into file #11005.1
"RTN","A1AEM1",4,0)
 N X,Y,A1AERD,AN,GLOBAL,GLOBAL0,RTXT,RSTART,RVER,LINE2
"RTN","A1AEM1",5,0)
 S A1AERD("A")="Do you want to copy "_$S($D(QMSUB):"'"_QMSUB_"'",1:"a packman message")_" into the Message Text? "
"RTN","A1AEM1",6,0)
 S A1AERD(1)="Yes^copy a message "_$S($D(QMSUB):"'"_QMSUB_"'",1:" containing "_$P(A1AEPD,"*",1,2))
"RTN","A1AEM1",7,0)
 S A1AERD(2)="No^Do not copy a message"
"RTN","A1AEM1",8,0)
 S A1AERD(0)="S"
"RTN","A1AEM1",9,0)
 S A1AERD("B")=2 D SET^A1AERD K A1AERD
"RTN","A1AEM1",10,0)
 S A1AEKIDS=0 ;Used to jump in the DIE template
"RTN","A1AEM1",11,0)
 I X["Y" D ASKS ;Get KIDS message
"RTN","A1AEM1",12,0)
 I X'["Y" D HFS ;Get HFS message
"RTN","A1AEM1",13,0)
QMES K A1AERD,AN,AXMY,GLOBAL,GLOBAL0,RTXT,RSTART,RVER,REND,RVER,MARK,AXMZ,RNAM,QMSUB,QUE
"RTN","A1AEM1",14,0)
 Q
"RTN","A1AEM1",15,0)
 ;
"RTN","A1AEM1",16,0)
ASKS ;at this point AXMZ defined will avoid the select question
"RTN","A1AEM1",17,0)
 N X
"RTN","A1AEM1",18,0)
 I $D(AXMZ) S QMSUB=$P(^XMB(3.9,AXMZ,0),U) D FND Q
"RTN","A1AEM1",19,0)
 ;this is for AXMZ
"RTN","A1AEM1",20,0)
 S SHOW=10 D QUE^A1AEM,LOC^A1AEM I '$D(QUE) Q
"RTN","A1AEM1",21,0)
 I $D(X)<10 W !!?3,"No message in queue has subject containing ",$P(A1AEPD,"*",1,2) Q
"RTN","A1AEM1",22,0)
 S A1AERD(0)="S",A1AERD("A")="Select Message to copy : "
"RTN","A1AEM1",23,0)
 D SET^A1AERD
"RTN","A1AEM1",24,0)
 I X["^" Q
"RTN","A1AEM1",25,0)
 S AXMZ=X(X),QMSUB=$P(^XMB(3.9,AXMZ,0),U)
"RTN","A1AEM1",26,0)
FND W !?5,"Using message '",QMSUB,"'  "
"RTN","A1AEM1",27,0)
 ;
"RTN","A1AEM1",28,0)
 S RTXT="$TXT Created by",LINE2=""
"RTN","A1AEM1",29,0)
 ;bug in textprint
"RTN","A1AEM1",30,0)
 S RTXTEND="$END TXT"
"RTN","A1AEM1",31,0)
 S RSTART="$ROU "
"RTN","A1AEM1",32,0)
 S REND="$END ROU "
"RTN","A1AEM1",33,0)
 S GLOBAL="^A1AE(11005.1,"_DA_",2,"
"RTN","A1AEM1",34,0)
 ;
"RTN","A1AEM1",35,0)
 W "Checking the input .." ;find $txt in case message was edited
"RTN","A1AEM1",36,0)
 S AZ=0
"RTN","A1AEM1",37,0)
 F  S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)),$E(^(0),1,15)="$TXT Created by" S RTXT(1)=AZ Q
"RTN","A1AEM1",38,0)
 ;
"RTN","A1AEM1",39,0)
 I '$D(RTXT(1)) DO  D KIL QUIT
"RTN","A1AEM1",40,0)
 .W !?5,*7,"Input message missing standard text '",RTXT,"'"
"RTN","A1AEM1",41,0)
 .W !,"           Message NOT copied!!"
"RTN","A1AEM1",42,0)
 ;
"RTN","A1AEM1",43,0)
 ;kids here
"RTN","A1AEM1",44,0)
 I "XK"[$E($P(^XMB(3.9,AXMZ,0),"^",7)_0) DO  QUIT
"RTN","A1AEM1",45,0)
 . S $P(^A1AE(11005.1,DA,0),"^",11)=$P(^XMB(3.9,AXMZ,0),"^",7) ;Copy Message type
"RTN","A1AEM1",46,0)
 . ;
"RTN","A1AEM1",47,0)
 . D TRASH
"RTN","A1AEM1",48,0)
 . W !?3,"Merge KIDS message into patch message text",!
"RTN","A1AEM1",49,0)
 . MERGE ^A1AE(11005.1,DA,2)=^XMB(3.9,AXMZ,2)
"RTN","A1AEM1",50,0)
 . ;get rid of .00n nodes
"RTN","A1AEM1",51,0)
 . S AZ=0 F  S AZ=$O(^A1AE(11005.1,DA,2,AZ)) Q:AZ'<1  DO
"RTN","A1AEM1",52,0)
 . . K ^A1AE(11005.1,DA,2,AZ)
"RTN","A1AEM1",53,0)
 . ;
"RTN","A1AEM1",54,0)
 . S A1AEKIDS=1
"RTN","A1AEM1",55,0)
 . S $P(^A1AE(11005.1,DA,2,0),"^",5)=DT
"RTN","A1AEM1",56,0)
 . S $P(^A1AE(11005.1,DA,2,0),"^",2)=""
"RTN","A1AEM1",57,0)
 . S $P(^A1AE(11005.1,DA,0),"^",2,3)=AXMZ_"^"_DT
"RTN","A1AEM1",58,0)
 . D RTNBLD(DA) ;Build RTN multiple
"RTN","A1AEM1",59,0)
 . ;If we load from a message get rid of the HFS data.
"RTN","A1AEM1",60,0)
 . I $D(^A1AE(11005.5,DA,0)) N DIK S DIK="^A1AE(11005.5," D ^DIK
"RTN","A1AEM1",61,0)
 . Q
"RTN","A1AEM1",62,0)
 ;
"RTN","A1AEM1",63,0)
 ;packman here
"RTN","A1AEM1",64,0)
 E  DO  I '$D(RSTART) QUIT
"RTN","A1AEM1",65,0)
 .S $P(^A1AE(11005.1,DA,0),"^",11)="P" ;message type
"RTN","A1AEM1",66,0)
 .F AZ=RTXT(1):0 S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)),$E(^(0),1,5)="$ROU " S:$E(^(0),1,5)=RSTART RSTART(AZ)=^(0) I $E(^(0),1,5)'=RSTART S RSTART(0)=^(0)
"RTN","A1AEM1",67,0)
 .I $D(RSTART)<10 W *7,"Input message missing '",RSTART,"..'" D KIL Q
"RTN","A1AEM1",68,0)
 .D TRASH
"RTN","A1AEM1",69,0)
 .S AN=1,@(GLOBAL_AN_",0)")=^XMB(3.9,AXMZ,2,RTXT(1),0)
"RTN","A1AEM1",70,0)
 .S AN=2,@(GLOBAL_AN_",0)")=""
"RTN","A1AEM1",71,0)
 .S AN=3,@(GLOBAL_AN_",0)")="$END TXT"
"RTN","A1AEM1",72,0)
 .;$o(rstart(0))=1st az  of $rou line in XMB  , A1AE.1 can get offset
"RTN","A1AEM1",73,0)
 .F AZ=$O(RSTART(0))-1:0 S AZ=$O(^XMB(3.9,AXMZ,2,AZ)) Q:'AZ  I $D(^(AZ,0)) S AN=AN+1,@(GLOBAL_AN_",0)")=^(0)
"RTN","A1AEM1",74,0)
 .;set zero node
"RTN","A1AEM1",75,0)
 .I AN>1 S GLOBAL0=GLOBAL_"0)" S $P(@(GLOBAL0),"^",3,5)=AN_"^"_AN_"^"_DT S $P(^A1AE(11005.1,DA,0),U,2,3)=AXMZ_"^"_DT
"RTN","A1AEM1",76,0)
 .E  W !,?5,*7,"Message not copied "
"RTN","A1AEM1",77,0)
 S MARK=1
"RTN","A1AEM1",78,0)
MARK ;this is entered from above and at mark for release of verified
"RTN","A1AEM1",79,0)
 S AN=1,AP=$P(A1AEPD,"*",3),NV="<<= NOT VERIFIED >"
"RTN","A1AEM1",80,0)
 S RSTART="$ROU "
"RTN","A1AEM1",81,0)
 ;
"RTN","A1AEM1",82,0)
CHANG ;
"RTN","A1AEM1",83,0)
 I "KX"[$E($P($G(^A1AE(11005.1,DA,0)),"^",11)_0) K RVER,FL Q
"RTN","A1AEM1",84,0)
 I MARK W !?10,"Adding  <<= NOT VERIFIED > to the first line"
"RTN","A1AEM1",85,0)
 E  W !?10,"Removing  <<= NOT VERIFIED > from the first line"
"RTN","A1AEM1",86,0)
 ;
"RTN","A1AEM1",87,0)
 F AZ=0:0 S AZ=$O(^A1AE(11005.1,DA,2,AZ)) Q:'AZ  I $D(^(AZ,0)),$E(^(0),1,5)=RSTART S:$D(^A1AE(11005.1,DA,2,AZ+1,0)) FL=^(0) D FL S:$D(FL) ^(0)=FL I MARK S:$D(^A1AE(11005.1,DA,2,AZ+2,0)) RVER=^(0) D CHECK I $D(RVER) S ^(0)=RVER D WR S AZ=AZ+3
"RTN","A1AEM1",88,0)
 ;
"RTN","A1AEM1",89,0)
KIL K RVER,AZ,PC,NV,AP,MARK,RNSPACE,LCASE,Y,Y1,RSTART
"RTN","A1AEM1",90,0)
 Q
"RTN","A1AEM1",91,0)
 ;
"RTN","A1AEM1",92,0)
WR W !,$J("line ("_(AZ+2)_")",20),"  ",RVER
"RTN","A1AEM1",93,0)
 Q
"RTN","A1AEM1",94,0)
 ;
"RTN","A1AEM1",95,0)
CHECK ;fix for RVER ok check+1
"RTN","A1AEM1",96,0)
 I $E($G(FL),1,8)="XPDPINIT" K RVER,FL Q
"RTN","A1AEM1",97,0)
 S ZZN=$S($D(A1AEPD):$P(A1AEPD,"*",3),1:0) I ZZN,$S($F(RVER,"**"_ZZN_"**"):1,$F(RVER,","_ZZN_"**"):1,$F(RVER,","_ZZN_","):1,$F(RVER,"**"_ZZN_","):1,1:0) K RVER Q
"RTN","A1AEM1",98,0)
 I $L(RVER)>240 W !,*7,"Version line too long to modify " H 2 K RVER Q
"RTN","A1AEM1",99,0)
 ; ;v or ;;v
"RTN","A1AEM1",100,0)
 ;S PC=4 I RVER?1" ;;".E S PC=5
"RTN","A1AEM1",101,0)
 S PC=4 I $P(RVER," ",2)?1";;".E S PC=5
"RTN","A1AEM1",102,0)
 I RVER'["**" S $P(RVER,";",PC)="**"_AP_"**" D LST Q
"RTN","A1AEM1",103,0)
 E  S $P(RVER,"**",2)=$P(RVER,"**",2)_","_AP D LST Q
"RTN","A1AEM1",104,0)
 W !,"Unable to mark version line '",RVER,"'" K RVER
"RTN","A1AEM1",105,0)
 Q
"RTN","A1AEM1",106,0)
 ;
"RTN","A1AEM1",107,0)
LST I '$F(RVER,";",$F(RVER,"**")) S RVER=RVER_";" Q
"RTN","A1AEM1",108,0)
 Q
"RTN","A1AEM1",109,0)
 ;
"RTN","A1AEM1",110,0)
LCASE ; cvrts 2 + % if there
"RTN","A1AEM1",111,0)
 S Y=$P(LCASE,"$ROU ",2),Y=$E(Y,1,$S($E(Y)'="%":2,1:3)),Y1=Y
"RTN","A1AEM1",112,0)
 S Y=$TR(Y,"ABCDEFGHIJKLMNOPQRSTUVWXYZ%","abcdefghijklmnopqrstuvwxyz%")
"RTN","A1AEM1",113,0)
 S LCASE="$ROU "_Y_$P(LCASE,Y1,2) K:'$L(LCASE) LCASE Q
"RTN","A1AEM1",114,0)
 Q
"RTN","A1AEM1",115,0)
FL ;1st line
"RTN","A1AEM1",116,0)
 I 'MARK S FL=$P(FL,NV) Q
"RTN","A1AEM1",117,0)
 I $E(FL,1,8)="XPDPINIT" W !?10,"Skipping XPDPINIT" Q
"RTN","A1AEM1",118,0)
 I $L(FL)>240 W !,*7,"First line too long to add '<<= NOT VERIFIED >'" H 2 K FL Q
"RTN","A1AEM1",119,0)
 I FL[NV Q
"RTN","A1AEM1",120,0)
 S FL=FL_NV Q
"RTN","A1AEM1",121,0)
 ;
"RTN","A1AEM1",122,0)
TRASH ;Remove old msg from queue.
"RTN","A1AEM1",123,0)
 I $D(^A1AE(11005.1,DA,0)),$P(^(0),"^",2),$P(^(0),"^",2)'=AXMZ DO
"RTN","A1AEM1",124,0)
 .N AXMZ S AXMZ=$P(^(0),"^",2) D TRASH^A1AEM
"RTN","A1AEM1",125,0)
 .W !?3,"Removing old message from que"
"RTN","A1AEM1",126,0)
 ;
"RTN","A1AEM1",127,0)
 W "   Deleting old text .."
"RTN","A1AEM1",128,0)
 ;S AZ=0 F  S AZ=$O(@(GLOBAL_AZ_")")) Q:'AZ  K ^(AZ)
"RTN","A1AEM1",129,0)
 K ^A1AE(11005.1,DA,2) Q
"RTN","A1AEM1",130,0)
 ;
"RTN","A1AEM1",131,0)
RTNBLD(A1AEDA) ;Build Routine multiple
"RTN","A1AEM1",132,0)
 N FDA,IEN,A1,A2,A3,A4,DIK,DA
"RTN","A1AEM1",133,0)
 ;Load
"RTN","A1AEM1",134,0)
 S A1=1,LINE2=""
"RTN","A1AEM1",135,0)
 F  S A1=$O(^A1AE(11005.1,A1AEDA,2,A1)) Q:'A1  I $E(^(A1,0),1,5)="""RTN""" Q
"RTN","A1AEM1",136,0)
 Q:'A1  ;At start of routines.
"RTN","A1AEM1",137,0)
 K ^TMP("A1AE",$J)
"RTN","A1AEM1",138,0)
 S A1=$O(^A1AE(11005.1,A1AEDA,2,A1))
"RTN","A1AEM1",139,0)
 F  S A1=$O(^A1AE(11005.1,A1AEDA,2,A1)) Q:'A1  D
"RTN","A1AEM1",140,0)
 . S X=^A1AE(11005.1,A1AEDA,2,A1,0) I $E(X,2,4)'="RTN" S A1=" " Q
"RTN","A1AEM1",141,0)
 . S A1=$O(^A1AE(11005.1,A1AEDA,2,A1)),Y=^(A1,0)
"RTN","A1AEM1",142,0)
 . S @("^TMP(""A1AE"",$J,"_X)=Y ;Build global
"RTN","A1AEM1",143,0)
 . Q
"RTN","A1AEM1",144,0)
 S A1="",A3=0
"RTN","A1AEM1",145,0)
 F  S A1=$O(^TMP("A1AE",$J,"RTN",A1)) Q:A1=""  S A2=^(A1) D
"RTN","A1AEM1",146,0)
 . S A4=$G(^TMP("A1AE",$J,"RTN",A1,2,0)) S:'$L(LINE2) LINE2=A4 S A4=$P(A4,";",5)
"RTN","A1AEM1",147,0)
 . ;.01 RTN name, 3 RSUM, 4 Patch List, 5 Old Rsum - set at Release
"RTN","A1AEM1",148,0)
 . S A3=A3+1,IEN="?+"_A3_","_A1AEDA_",",FDA(11005.03,IEN,.01)=A1
"RTN","A1AEM1",149,0)
 . S FDA(11005.03,IEN,3)=$S(+A2:"Delete",1:$P(A2,"^",3)) ;Only set if sending routine
"RTN","A1AEM1",150,0)
 . S FDA(11005.03,IEN,4)=A4
"RTN","A1AEM1",151,0)
 . I A3>99 D UPDATE^DIE("","FDA") S A3=0 K FDA
"RTN","A1AEM1",152,0)
 . Q
"RTN","A1AEM1",153,0)
 I A3 D UPDATE^DIE("","FDA")
"RTN","A1AEM1",154,0)
 I $L(LINE2) S ^A1AE(11005,A1AEDA,"P2")=$P(LINE2,";",1,4)_";**[Patch List]**;"_$P(LINE2,";",6,99)
"RTN","A1AEM1",155,0)
 ;Remove Unused ROUTINE's from multiple
"RTN","A1AEM1",156,0)
 D RTNREM
"RTN","A1AEM1",157,0)
 K ^TMP("A1AE",$J)
"RTN","A1AEM1",158,0)
 Q
"RTN","A1AEM1",159,0)
 ;
"RTN","A1AEM1",160,0)
RTNREM ;Remove routines from the Routine multipule
"RTN","A1AEM1",161,0)
 ;Will not remove a routine name in ^TMP("A1AE",$J,"RTN",name)
"RTN","A1AEM1",162,0)
 N DIK,DA
"RTN","A1AEM1",163,0)
 S DIK="^A1AE(11005,"_A1AEDA_",""P"",",DA(1)=A1AEDA,DA=0
"RTN","A1AEM1",164,0)
 F  S DA=$O(^A1AE(11005,DA(1),"P",DA)) Q:'DA  S A1=$P($G(^(DA,0)),U) I '$D(^TMP("A1AE",$J,"RTN",A1)) D ^DIK
"RTN","A1AEM1",165,0)
 Q
"RTN","A1AEM1",166,0)
HFS ;
"RTN","A1AEM1",167,0)
 N X,MZ
"RTN","A1AEM1",168,0)
 S X=$G(^A1AE(11005.5,DA,0)),MZ=$G(^XMB(3.9,+$P(X,U,2),0))
"RTN","A1AEM1",169,0)
 Q:'$L(X)
"RTN","A1AEM1",170,0)
 I MZ="" S $P(MZ,U,2)=$P(X,U,5),$P(MZ,U,3)=$$FMTE^XLFDT($P(X,U,3))
"RTN","A1AEM1",171,0)
 W !,"Want to copy HFS cache,",!,"  From: ",$P(MZ,U,2),!,"    On: ",$P(MZ,U,3)
"RTN","A1AEM1",172,0)
 S A1AERD("A")="Do you want to copy Routine Names and Checksums from the HFS cache file. "
"RTN","A1AEM1",173,0)
 S A1AERD(1)="Yes^Copy Routine Names and Checksums."
"RTN","A1AEM1",174,0)
 S A1AERD(2)="No^Do not copy Routine data."
"RTN","A1AEM1",175,0)
 S A1AERD(0)="S"
"RTN","A1AEM1",176,0)
 S A1AERD("B")=$S($D(^A1AE(11005.1,DA,0)):2,1:1) D SET^A1AERD
"RTN","A1AEM1",177,0)
 I X["Y" D HFS2(DA)
"RTN","A1AEM1",178,0)
 Q
"RTN","A1AEM1",179,0)
 ;
"RTN","A1AEM1",180,0)
HFS2(A1AEDA) ;Move Routine Info from HFS file to Routine sub-file.
"RTN","A1AEM1",181,0)
 N A1,A2,A3,FDA,DA,IEN,DIK
"RTN","A1AEM1",182,0)
 S A1AEKIDS=1 ;Can skip Routine multiple
"RTN","A1AEM1",183,0)
 ;Remove any Message Text
"RTN","A1AEM1",184,0)
 ;S DA=A1AEDA,DIK="^A1AE(11005.1," D ^DIK
"RTN","A1AEM1",185,0)
 K ^A1AE(11005.1,A1AEDA,2)
"RTN","A1AEM1",186,0)
 ;Clear out any current Routine data
"RTN","A1AEM1",187,0)
 K ^TMP("A1AE",$J)
"RTN","A1AEM1",188,0)
 D RTNREM
"RTN","A1AEM1",189,0)
 ;.01 RTN name, 3 RSUM, 4 Patch List
"RTN","A1AEM1",190,0)
 ;^A1AE(11005.5,DA(1),1,DA,0)= RTN name^Send^^Checksum^Patch List
"RTN","A1AEM1",191,0)
 ;MOVE
"RTN","A1AEM1",192,0)
 S A1=0,A3=0
"RTN","A1AEM1",193,0)
 F  S A1=$O(^A1AE(11005.5,A1AEDA,1,A1)) Q:'A1  S A2=$G(^(A1,0)) D
"RTN","A1AEM1",194,0)
 . S A3=A3+1,IEN="?+"_A1_","_A1AEDA_","
"RTN","A1AEM1",195,0)
 . S FDA(11005.03,IEN,.01)=$P(A2,U),FDA(11005.03,IEN,3)=$S($P(A1,U,2):"Delete",1:$P(A2,U,4))
"RTN","A1AEM1",196,0)
 . S FDA(11005.03,IEN,4)=$P(A2,U,5)
"RTN","A1AEM1",197,0)
 . I A3>99 D UPDATE^DIE("","FDA") S A3=0 K FDA
"RTN","A1AEM1",198,0)
 . Q
"RTN","A1AEM1",199,0)
 I A3 D UPDATE^DIE("","FDA") K FDA
"RTN","A1AEM1",200,0)
 W !,"Routine Name's and Checksums moved."
"RTN","A1AEM1",201,0)
 Q
"RTN","A1AEM2")
0^12^B9023362
"RTN","A1AEM2",1,0)
A1AEM2 ;ISC-Albany/pke-forward a patch message ; 4/15/90
"RTN","A1AEM2",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEM2",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEM2",4,0)
 ;change FCOM,FVER dic 11005.1 ,scrn lookup
"RTN","A1AEM2",5,0)
RCHK ;input transform on routine name x
"RTN","A1AEM2",6,0)
 Q:'$D(A1AEPD)  S:'$D(TAB) TAB=42
"RTN","A1AEM2",7,0)
 N VERS,APD,BEEP,AZ
"RTN","A1AEM2",8,0)
 S APD=A1AEPD,VERS=$P(APD,"*",2) I VERS="DBA" S VERS=999,$P(APD,"*",2)=999
"RTN","A1AEM2",9,0)
 S BEEP=" routine has previous Patches: "_$C(7)
"RTN","A1AEM2",10,0)
 F AZ=0:0 S AZ=$O(^A1AE(11005,"R",X,AZ)) Q:'AZ  I $D(^A1AE(11005,AZ,0)),$P($P(^(0),"^"),"*",2)[VERS,$P(^(0),"^")'=APD DO
"RTN","A1AEM2",11,0)
WR .I $D(BEEP) W !!,"'",X,"'",BEEP,?TAB K BEEP
"RTN","A1AEM2",12,0)
 .I $X>TAB W ", "
"RTN","A1AEM2",13,0)
 .W "(",$TR($P(^(0),"^",8),"ucver","ucver"),")",$P(^(0),"^")
"RTN","A1AEM2",14,0)
 .I $X>65 W !?TAB-1
"RTN","A1AEM2",15,0)
 I '$D(BEEP) W !
"RTN","A1AEM2",16,0)
 Q
"RTN","A1AEM2",17,0)
FCOM ;
"RTN","A1AEM2",18,0)
 S PXMZ=4 D DICC,PAT
"RTN","A1AEM2",19,0)
 G Q
"RTN","A1AEM2",20,0)
FVER ;
"RTN","A1AEM2",21,0)
 S PXMZ=6 D DICV,PAT
"RTN","A1AEM2",22,0)
 G Q
"RTN","A1AEM2",23,0)
Q K PXMZ,XMZ,A1AEIFN,DIC,A1AEPD,Y D KILL^XM
"RTN","A1AEM2",24,0)
 Q
"RTN","A1AEM2",25,0)
 ;duz,xmz,xmy(), xmdun,xmduz ;;;Change lookup to 11005.1 dinum
"RTN","A1AEM2",26,0)
PAT ;
"RTN","A1AEM2",27,0)
 S DIC("A")="Select PATCH to forward: "
"RTN","A1AEM2",28,0)
 S DIC="^A1AE(11005.1,",DIC(0)="AEMQ"
"RTN","A1AEM2",29,0)
 ;S DIC("S")="I $P(^A1AE(11005,+Y,0),U,8)'=""e"""
"RTN","A1AEM2",30,0)
 S DIC("S")="I $P(^A1AE(11005,+Y,0),U,8)=$S(PXMZ=4:""c"",1:""v"")"
"RTN","A1AEM2",31,0)
 D ^DIC K DIC Q:Y<0
"RTN","A1AEM2",32,0)
 S A1AEIFN=+Y,A1AEPD=$P(^A1AE(11005,+Y,0),U,1)
"RTN","A1AEM2",33,0)
 I $P(A1AEPD,"*",2)=999 S $P(A1AEPD,"*",2)="DBA"
"RTN","A1AEM2",34,0)
 S XMZ=$P($G(^A1AE(11005.1,A1AEIFN,0)),U,PXMZ)
"RTN","A1AEM2",35,0)
 I 'XMZ W !?8,"No message available" G PAT
"RTN","A1AEM2",36,0)
 I '$D(^XMB(3.9,XMZ,0)) D  G:'$D(XMZ) PAT
"RTN","A1AEM2",37,0)
 . N A1AERCR8,SAVX,X,A1AENEW,SEQ,D0,DA
"RTN","A1AEM2",38,0)
 . W !,$C(7),"The message no longer exists."
"RTN","A1AEM2",39,0)
 . K XMZ
"RTN","A1AEM2",40,0)
 . I $P(^A1AE(11005,A1AEIFN,0),U,8)'="v" D  Q
"RTN","A1AEM2",41,0)
 . . W !,"That patch is not released."
"RTN","A1AEM2",42,0)
 . . W !,"We only create new messages for released patches."
"RTN","A1AEM2",43,0)
 . W !,"That's OK - we'll create a new one.  This won't take long."
"RTN","A1AEM2",44,0)
 . S A1AERCR8=1 ; Indicates that we are recreating a message.
"RTN","A1AEM2",45,0)
 . S DA=A1AEIFN,(A1AENEW,SAVX)="v"
"RTN","A1AEM2",46,0)
 . D EN^A1AEMAL Q:'$D(XMZ)
"RTN","A1AEM2",47,0)
 . D MES^A1AEMAL
"RTN","A1AEM2",48,0)
 ;Ask Rcpts / XMDF means programmer call MailMan ignores KSP limits
"RTN","A1AEM2",49,0)
 D XM
"RTN","A1AEM2",50,0)
 N XMDF
"RTN","A1AEM2",51,0)
 D DEST^XMA21 Q:$D(XMOUT)  ; Don't forward to closed domains
"RTN","A1AEM2",52,0)
 D ENT1^XMD W !?8,"Message ",XMZ," has been forwarded."
"RTN","A1AEM2",53,0)
 Q
"RTN","A1AEM2",54,0)
XM ;
"RTN","A1AEM2",55,0)
 I '$D(XMDUZ) S XMDUZ=DUZ
"RTN","A1AEM2",56,0)
 S XMDUN=$P(^VA(200,XMDUZ,0),U)
"RTN","A1AEM2",57,0)
 Q
"RTN","A1AEM2",58,0)
DICC ; Completed/Unverified ;;;change screen to 11005.1
"RTN","A1AEM2",59,0)
 ;S DIC("S")="I $P(^(0),U,8)=""c"",$S($D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0)):1,'$D(^A1AE(11007,+$P(^A1AE(11005,+Y,0),U,2),""PB"",DUZ,0)):0,$P(^(0),U,2)=""V"":1,1:0)"
"RTN","A1AEM2",60,0)
 S DIC("S")="I $P(^(0),U,PXMZ),$S($D(^A1AE(11007,+$P(^A1AE(11005,+Y,0),U,2),""PH"",DUZ,0)):1,'$D(^A1AE(11007,+$P(^A1AE(11005,+Y,0),U,2),""PB"",DUZ,0)):0,$P(^(0),U,2)=""V"":1,1:0)"
"RTN","A1AEM2",61,0)
 Q
"RTN","A1AEM2",62,0)
DICV ; Verified Patch ;;; change screen to 11005.1
"RTN","A1AEM2",63,0)
 ;S DIC("S")="I ($P(^(0),U,8)=""v"")&($S('$D(^A1AE(11007,+$P(^(0),U,2),0)):0,$P(^(0),U,2)=""Y"":1,$P(^(0),U,4)=""y""&($D(^A1AE(11007,""AU"",DUZ,+$P(^A1AE(11005,+Y,0),U,2)))):1,1:0))"
"RTN","A1AEM2",64,0)
 S DIC("S")="I $P(^(0),U,PXMZ),$S('$D(^A1AE(11007,+$P(^A1AE(11005,+Y,0),U,2),0)):0,$P(^(0),U,2)=""Y"":1,$P(^(0),U,4)=""y""&($D(^A1AE(11007,""AU"",DUZ,+$P(^A1AE(11005,+Y,0),U,2)))):1,1:0)"
"RTN","A1AEM2",65,0)
 Q
"RTN","A1AEMAL")
0^13^B25226779
"RTN","A1AEMAL",1,0)
A1AEMAL ;ISC-Albany/JLU- creates the mail message when v or c. ; 03/22/2006
"RTN","A1AEMAL",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEMAL",3,0)
GET ;Called from A1AEPHS
"RTN","A1AEMAL",4,0)
 I $D(X) S SAVX=X
"RTN","A1AEMAL",5,0)
 ;verified or test remove <<not verified
"RTN","A1AEMAL",6,0)
 I SAVX="v" S MARK=0 D MARK^A1AEM1
"RTN","A1AEMAL",7,0)
 I SAVX="t" S MARK=0 D MARK^A1AEM1
"RTN","A1AEMAL",8,0)
EN ;
"RTN","A1AEMAL",9,0)
 K A1AEPD2
"RTN","A1AEMAL",10,0)
 S $P(AEQ,"=",78)=""
"RTN","A1AEMAL",11,0)
 S A1AEJH=^A1AE(11005,DA,0)
"RTN","A1AEMAL",12,0)
 S A1AEPD=$P(A1AEJH,U),A1AEVR=$P(A1AEPD,"*",2)
"RTN","A1AEMAL",13,0)
 I '$P(A1AEPD,"*",3) S A1AEPD2=$P($G(^A1AE(11005,DA,4)),U)
"RTN","A1AEMAL",14,0)
 S XMSUB=$S($P(A1AEJH,U,7)="e":"EMERGENCY ",1:"")_$S(A1AENEW="v":"Released",1:"Completed/NotReleased")_" "_$S($D(A1AEPD2):A1AEPD2,1:A1AEPD)
"RTN","A1AEMAL",15,0)
 I A1AEVR=999 S XMSUB=$P(XMSUB,"999")_"DBA"_$P(XMSUB,"999",2)
"RTN","A1AEMAL",16,0)
 I $G(TESTMES) S XMSUB=$S($D(A1AEPD2):A1AEPD2,1:A1AEPD)_" "_TXVER
"RTN","A1AEMAL",17,0)
 ;if not called from a1aephs must have pkif
"RTN","A1AEMAL",18,0)
 S SEQ=$P(A1AEJH,"^",6) I SEQ S SEQ="SEQ #"_SEQ
"RTN","A1AEMAL",19,0)
 ;seq "" till verified when not adding seq to complete
"RTN","A1AEMAL",20,0)
 K XMZ S XMDUZ="National Patch Module",XMSUB=XMSUB_" "_SEQ
"RTN","A1AEMAL",21,0)
 D XMZ^XMA2 K XMDUZ I XMZ=-1 W !?5,"Failed to get get message number",! K SEQ,XMZ
"RTN","A1AEMAL",22,0)
 Q
"RTN","A1AEMAL",23,0)
 ;
"RTN","A1AEMAL",24,0)
ADD(T) ;Inc E, Add text to Message. Also called from A1AEUTL2
"RTN","A1AEMAL",25,0)
 S E=E+1,^XMB(3.9,XMZ,2,E,0)=T
"RTN","A1AEMAL",26,0)
 Q
"RTN","A1AEMAL",27,0)
 ;
"RTN","A1AEMAL",28,0)
MES ;Build message, Called from A1AEPHS
"RTN","A1AEMAL",29,0)
 S JL=A1AENEW,E=1 ;Start E at 1, Line 1 gets $TXT
"RTN","A1AEMAL",30,0)
 D ADD(AEQ)
"RTN","A1AEMAL",31,0)
 D ADD("Run Date: "_$$LJ^XLFSTR($$EDT($S($G(A1AERCR8):$P(A1AEJH,U,11),1:$$DT^XLFDT)),33)_"Designation: "_$S($D(A1AEPD2):A1AEPD2,1:A1AEPD))
"RTN","A1AEMAL",32,0)
 S A1AEJ1=^DIC(9.4,$P(A1AEJH,U,2),0),A1AEJP=$P(A1AEJH,U,7),A1AEJP=$S(A1AEJP="p":"Patch for a Patch",A1AEJP="n":"Not Urgent",A1AEJP="m":"Mandatory",A1AEJP="e":"EMERGENCY",A1AEJP="i":"Informational",1:"")
"RTN","A1AEMAL",33,0)
 S AJL=$P(A1AEJ1,U,2)_" - "_$P(A1AEJ1,U)
"RTN","A1AEMAL",34,0)
 S AJL=$$LJ^XLFSTR($E(AJL,1,35),36)
"RTN","A1AEMAL",35,0)
 D ADD("Package : "_AJL_"Priority: "_A1AEJP)
"RTN","A1AEMAL",36,0)
 S AJL=$$LJ^XLFSTR($P(A1AEJH,U,3)_$J(SEQ,15),38)
"RTN","A1AEMAL",37,0)
 D ADD("Version : "_AJL_"Status: "_$S(JL="c":"Completed/NotReleased",JL="e":"Entered in Error",JL="u":"Under Development",JL="v":"Released",JL="r":"Retired",1:""))
"RTN","A1AEMAL",38,0)
 I $P(A1AEJH,U,18) D ADD("                  Compliance Date: "_$$EDT($P(A1AEJH,U,18)))
"RTN","A1AEMAL",39,0)
 D ADD(AEQ)
"RTN","A1AEMAL",40,0)
 D ADD("")
"RTN","A1AEMAL",41,0)
 I $D(^A1AE(11005,DA,"Q","B")) K AZ S D0=DA D PCHK^A1AEUTL1 ;Returns AZ
"RTN","A1AEMAL",42,0)
 I $D(AZ)=11 D PCHK^A1AEMAL1 K AZ,AN
"RTN","A1AEMAL",43,0)
 D ADD("")
"RTN","A1AEMAL",44,0)
 D ADD("Subject: "_$P(A1AEJH,U,5))
"RTN","A1AEMAL",45,0)
 D ADD("")
"RTN","A1AEMAL",46,0)
 D ADD("Category: ")
"RTN","A1AEMAL",47,0)
 I '$D(ZTQUEUED) W !?3,"." R ZZ:0
"RTN","A1AEMAL",48,0)
 S D1=0,A1B="  - "
"RTN","A1AEMAL",49,0)
 F  S D1=$O(^A1AE(11005,DA,"C",D1)) Q:'D1  D SJ D ADD(A1B_J)
"RTN","A1AEMAL",50,0)
 D ADD("")
"RTN","A1AEMAL",51,0)
 ;
"RTN","A1AEMAL",52,0)
 D ADD("Description:")
"RTN","A1AEMAL",53,0)
 D ADD("============")
"RTN","A1AEMAL",54,0)
 D ADD("")
"RTN","A1AEMAL",55,0)
 S D1=0
"RTN","A1AEMAL",56,0)
 F  S D1=$O(^A1AE(11005,DA,"D",D1)) Q:'D1  D ADD(" "_^(D1,0))
"RTN","A1AEMAL",57,0)
 D ADD("")
"RTN","A1AEMAL",58,0)
 ;
"RTN","A1AEMAL",59,0)
 D ADD("Routine Information:")
"RTN","A1AEMAL",60,0)
 D ADD("====================")
"RTN","A1AEMAL",61,0)
 D RTNINFO
"RTN","A1AEMAL",62,0)
 D ADD("")
"RTN","A1AEMAL",63,0)
 ;
"RTN","A1AEMAL",64,0)
 D ADD(AEQ)
"RTN","A1AEMAL",65,0)
 D ADD("User Information:"_$S($P(A1AEJH,U,17):$$RJ^XLFSTR("Hold Date     : ",42)_$$EDT($P(A1AEJH,U,17)),1:""))
"RTN","A1AEMAL",66,0)
 D ADD($$WHOWHEN("Entered",$P(A1AEJH,U,9),$P(A1AEJH,U,12)))
"RTN","A1AEMAL",67,0)
 D ADD($$WHOWHEN("Completed",$S(JL="c":DUZ,JL="v":$P(A1AEJH,U,13),1:""),$S(JL="c":$P(DT,"."),JL="v":$P(A1AEJH,U,10),1:"")))
"RTN","A1AEMAL",68,0)
 D ADD($$WHOWHEN("Released",$S($G(A1AERCR8):$P(A1AEJH,U,14),JL="v":DUZ,1:""),$S($G(A1AERCR8):$P(A1AEJH,U,11),JL="v":$P(DT,"."),1:"")))
"RTN","A1AEMAL",69,0)
 D ADD(AEQ)
"RTN","A1AEMAL",70,0)
 I '$D(ZTQUEUED) W " ." R ZZ:0
"RTN","A1AEMAL",71,0)
 ;Add the KIDS build to Mail message
"RTN","A1AEMAL",72,0)
 D ^A1AEMAL1
"RTN","A1AEMAL",73,0)
 ;
"RTN","A1AEMAL",74,0)
 I '$G(A1AERCR8) D
"RTN","A1AEMAL",75,0)
 . K XMZ
"RTN","A1AEMAL",76,0)
 . W !,"NOTE: A message has been sent to the",$S(A1AENEW="c":" CS Team",A1AENEW="v":" Network Mail groups",1:" Test Site Users")_$S(A1AENEW="c":" for this package",1:" for distribution.")
"RTN","A1AEMAL",77,0)
 K A1AEPD,A1AEVR,%H,A1AED,A1AEDC,A1AEDV,A1AEJ1,A1AEJH,A1AEJP,A1B,A1CB,A1CV,A1US,AJL,AJL1,E,J,JL,JSP,XMTEXT,XMY,D2,D1,AN,ZZ,AEQ
"RTN","A1AEMAL",78,0)
 I $G(TESTMES) W !,"      Please use mailman if you need to forward this message again."
"RTN","A1AEMAL",79,0)
 W ! I $D(SAVX) S X=SAVX K SAVX
"RTN","A1AEMAL",80,0)
 Q
"RTN","A1AEMAL",81,0)
SJ ;
"RTN","A1AEMAL",82,0)
 S J=^A1AE(11005,DA,"C",D1,0),J=$S(J="d":"Data Dictionary",J="i":"Input Template",J="p":"Print Template",J="r":"Routine",J="s":"Sort Template",J="o":"Other",J="db":"Database",J="e":"e",J="pp":"PATCH FOR A PATCH",J="inf":"Informational",1:"")
"RTN","A1AEMAL",83,0)
 I J="e" S J="Enhancement ("_$S($P(^A1AE(11005,DA,0),"^",7)="m":"Mandatory",$P(^(0),"^",7)="n":"Optional",1:"")_")"
"RTN","A1AEMAL",84,0)
 Q
"RTN","A1AEMAL",85,0)
 ;
"RTN","A1AEMAL",86,0)
EDT(FMDT) ;
"RTN","A1AEMAL",87,0)
 Q $$UP^XLFSTR($$FMTE^XLFDT(FMDT))
"RTN","A1AEMAL",88,0)
 ;
"RTN","A1AEMAL",89,0)
WHOWHEN(WHAT,WHO,WHEN) ;
"RTN","A1AEMAL",90,0)
 N LINE
"RTN","A1AEMAL",91,0)
 S LINE=$$LJ^XLFSTR(WHAT_" By",12)_": "
"RTN","A1AEMAL",92,0)
 S LINE=LINE_$$LJ^XLFSTR($S(+WHO:$E($$NAME^XMXUTIL(WHO),1,29),1:""),30)
"RTN","A1AEMAL",93,0)
 S LINE=LINE_$$LJ^XLFSTR("Date "_WHAT,14)_": "
"RTN","A1AEMAL",94,0)
 Q LINE_$S(+WHEN:$$EDT(WHEN),1:"")
"RTN","A1AEMAL",95,0)
 ;
"RTN","A1AEMAL",96,0)
RTNINFO ;Put the routine info out
"RTN","A1AEMAL",97,0)
 N D0 S D0=DA D RTNINFO^A1AEUTL2(1)
"RTN","A1AEMAL",98,0)
 Q
"RTN","A1AEMAL1")
0^14^B21768452
"RTN","A1AEMAL1",1,0)
A1AEMAL1 ;ISC-Albany/JLU - creates the Patch mail message ;01/10/2007
"RTN","A1AEMAL1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEMAL1",3,0)
 I $G(A1AERCR8) D
"RTN","A1AEMAL1",4,0)
 . S $P(^XMB(3.9,XMZ,0),"^",7)=$S($P(^A1AE(11005.1,DA,0),U,11)="K":"K",1:"X")
"RTN","A1AEMAL1",5,0)
 E  D
"RTN","A1AEMAL1",6,0)
 . ;Address Message
"RTN","A1AEMAL1",7,0)
 . S AN=$P(A1AEJH,U,2),TEST=$P(^A1AE(11007,AN,0),U,4)
"RTN","A1AEMAL1",8,0)
 . I AN D VER^A1AEM:SAVX="v" D:TEST'="y" COM^A1AEM:SAVX="c" D:TEST="y" TST^A1AEM:SAVX="c"
"RTN","A1AEMAL1",9,0)
 . I $G(TESTMES) K XMY
"RTN","A1AEMAL1",10,0)
 . I '$G(TESTMES) S XMY(DUZ)="" ;'? to hid xmy(n)
"RTN","A1AEMAL1",11,0)
 . I '$G(TESTMES) S JL2="" F JL=1:0 S JL2=$O(XMY(JL2)) Q:JL2=""  S A1AETX(JL)="                     "_JL2 S:JL=1 A1AETX(1)="     Recipient     : "_JL2 I JL2'?1N.N S JL=JL+1
"RTN","A1AEMAL1",12,0)
 I '$D(ZTQUEUED) W " ." R ZZ:0
"RTN","A1AEMAL1",13,0)
 ;Load the KIDS Message Text
"RTN","A1AEMAL1",14,0)
 I $D(^A1AE(11005.1,DA,0)) D RO
"RTN","A1AEMAL1",15,0)
 S ^XMB(3.9,XMZ,2,0)="^3.92A^"_E_"^"_E_"^"_DT
"RTN","A1AEMAL1",16,0)
 ;kids patches always difrom
"RTN","A1AEMAL1",17,0)
 I SAVX="v",$D(^DIC(19,"B","A1AE SERVER VERIFIED")) S XMY("S.A1AE SERVER VERIFIED")=""
"RTN","A1AEMAL1",18,0)
 I $P(^XMB(3.9,XMZ,0),"^",2)="National Patch Module",SAVX="c" S $P(^(0),"^",2)="NPM   [#"_XMZ_"]"
"RTN","A1AEMAL1",19,0)
 I $P(^XMB(3.9,XMZ,0),"^",2)="National Patch Module",$G(TESTMES) S $P(^(0),"^",2)="NPM   [#"_XMZ_"]"
"RTN","A1AEMAL1",20,0)
 ;Send Msg
"RTN","A1AEMAL1",21,0)
 I '$G(TESTMES) N XMDF S XMDF=1 S ZTQUEUED="" D ENT1^XMD K ZTQUEUED,XMDF
"RTN","A1AEMAL1",22,0)
 I $G(TESTMES) DO
"RTN","A1AEMAL1",23,0)
 . S (XMDUN,XMDUZ)=$P(^VA(200,DUZ,0),"^"),XMY(DUZ)=""
"RTN","A1AEMAL1",24,0)
 . W !!,"Please add recipients for `",$P(A1AE0,"^"),"' test message"
"RTN","A1AEMAL1",25,0)
 . D ENT2^XMD K XMDUN,XMDUZ
"RTN","A1AEMAL1",26,0)
 . W !,"message number [#",XMZ,"]"
"RTN","A1AEMAL1",27,0)
 . S $P(^A1AE(11005.1,DA,0),"^",12)=TVER
"RTN","A1AEMAL1",28,0)
 ;record message, dt
"RTN","A1AEMAL1",29,0)
 I $G(A1AERCR8) S $P(^A1AE(11005.1,DA,0),U,6)=XMZ Q
"RTN","A1AEMAL1",30,0)
 S A1AESUB=XMSUB
"RTN","A1AEMAL1",31,0)
 S (AXMZ,A1AEXMZ)=XMZ
"RTN","A1AEMAL1",32,0)
 D VREC^A1AEM:SAVX="v",CREC^A1AEM:SAVX="c" K AXMZ
"RTN","A1AEMAL1",33,0)
 ;
"RTN","A1AEMAL1",34,0)
 ;remove input message from que ;do this on Completed ??/release
"RTN","A1AEMAL1",35,0)
 I SAVX="c",$D(^A1AE(11005.1,DA,0)) S AXMZ=$P(^(0),U,2) I AXMZ D TRASH^A1AEM
"RTN","A1AEMAL1",36,0)
 ;test the new kids import logic
"RTN","A1AEMAL1",37,0)
 I $P($G(^A1AE(11005.1,DA,0)),"^",11)="K" D  Q
"RTN","A1AEMAL1",38,0)
 . S $P(^XMB(3.9,A1AEXMZ,0),"^",7)="K"
"RTN","A1AEMAL1",39,0)
 I $P($G(^A1AE(11005.1,DA,0)),"^",11)="X" D  Q
"RTN","A1AEMAL1",40,0)
 . S $P(^XMB(3.9,A1AEXMZ,0),"^",7)="X"
"RTN","A1AEMAL1",41,0)
 Q
"RTN","A1AEMAL1",42,0)
 ;
"RTN","A1AEMAL1",43,0)
 ;Removed code testing for current patches
"RTN","A1AEMAL1",44,0)
ADD(T) ;Inc E, Add text to Message.
"RTN","A1AEMAL1",45,0)
 S E=E+1,^XMB(3.9,XMZ,2,E,0)=T
"RTN","A1AEMAL1",46,0)
 Q
"RTN","A1AEMAL1",47,0)
 ;
"RTN","A1AEMAL1",48,0)
RO ;Add KIDS message
"RTN","A1AEMAL1",49,0)
 ;1st line $txt
"RTN","A1AEMAL1",50,0)
 ;fix for <undef> when 11005.1 stub not getting set
"RTN","A1AEMAL1",51,0)
 S ^XMB(3.9,XMZ,2,1,0)=$G(^A1AE(11005.1,DA,2,1,0))
"RTN","A1AEMAL1",52,0)
 D ADD(""),ADD("")
"RTN","A1AEMAL1",53,0)
 D ADD("Packman Mail Message:")
"RTN","A1AEMAL1",54,0)
 D ADD("=====================")
"RTN","A1AEMAL1",55,0)
 D ADD("")
"RTN","A1AEMAL1",56,0)
 I $G(^A1AE(11005.1,DA,2,1,0))["No routines included" D  Q
"RTN","A1AEMAL1",57,0)
 . D ADD(^(0)) ; naked ref to $G above.
"RTN","A1AEMAL1",58,0)
 . S ^XMB(3.9,XMZ,2,1,0)=""
"RTN","A1AEMAL1",59,0)
 I '$D(^A1AE(11005.1,DA,2,1)),'$D(^(2)),'$D(^(3)),'$D(^(4)),'$D(^(5)) D  Q
"RTN","A1AEMAL1",60,0)
 . D ADD("No routines included")
"RTN","A1AEMAL1",61,0)
 ;
"RTN","A1AEMAL1",62,0)
 N ZA,ZB,ZC,RN,BCS
"RTN","A1AEMAL1",63,0)
 S Z=0,ZA=0,ZB=0,RN="",BCS=""
"RTN","A1AEMAL1",64,0)
 ;skip any txt loaded in with message
"RTN","A1AEMAL1",65,0)
 F  S Z=$O(^A1AE(11005.1,DA,2,Z)) Q:'Z  I $E(^(Z,0),1,8)="$END TXT",^(0)'["KIDS" Q
"RTN","A1AEMAL1",66,0)
 ;
"RTN","A1AEMAL1",67,0)
 I Z D
"RTN","A1AEMAL1",68,0)
 . S Z=$O(^A1AE(11005.1,DA,2,Z),-1) ;backup 1 to get $end txt  
"RTN","A1AEMAL1",69,0)
 . ;Find the build number for later
"RTN","A1AEMAL1",70,0)
 . S ZA=Z F  S ZA=$O(^A1AE(11005.1,DA,2,ZA)) Q:'ZA  I $E(^(ZA,0),1,5)="""BLD""" Q
"RTN","A1AEMAL1",71,0)
 . ;Move Message Text into Message Stop at $END KID
"RTN","A1AEMAL1",72,0)
 . F  S Z=$O(^A1AE(11005.1,DA,2,Z)) Q:'Z  S ZB=^(Z,0) DO  Q:$E(ZB,1,8)="$END KID"
"RTN","A1AEMAL1",73,0)
 . . I $E(ZB,1,5)="""RTN""",RN'=$P(ZB,$C(34),4) S RN=$P(ZB,$C(34),4),BCS=$$BCS^A1AEUTL2(RN)
"RTN","A1AEMAL1",74,0)
 . . D ADD(ZB) ;node
"RTN","A1AEMAL1",75,0)
 . . S Z=$O(^A1AE(11005.1,DA,2,Z)) Q:'Z  S ZC=^(Z,0)
"RTN","A1AEMAL1",76,0)
 . . I $L(BCS) S $P(ZC,U,4)=BCS,BCS=""
"RTN","A1AEMAL1",77,0)
 . . D ADD(ZC) ;value
"RTN","A1AEMAL1",78,0)
 . . I Z#66=0,'$D(ZTQUEUED) W "." R ZZ:0
"RTN","A1AEMAL1",79,0)
 . Q
"RTN","A1AEMAL1",80,0)
 ;Add Test and SEQ to BLD section
"RTN","A1AEMAL1",81,0)
 I '$D(A1AEPKV),ZA D
"RTN","A1AEMAL1",82,0)
 . N ZAA
"RTN","A1AEMAL1",83,0)
 . S ZAA=^A1AE(11005.1,DA,2,ZA,0),ZA(1)=$P(ZAA,",",1),ZA(2)=$P(ZAA,",",2)
"RTN","A1AEMAL1",84,0)
 . S ZZA(1)=ZA(1)_","_ZA(2)_",6)"
"RTN","A1AEMAL1",85,0)
 . S ZZA(9)=^XMB(3.9,XMZ,2,E,0),E=E-1 ;Backup one
"RTN","A1AEMAL1",86,0)
 . D ADD(ZZA(1)) ;Replaces last line
"RTN","A1AEMAL1",87,0)
 . D ADD($G(TVER)_"^"_$P($G(SEQ),"#",2))
"RTN","A1AEMAL1",88,0)
 . D ADD(ZZA(9))
"RTN","A1AEMAL1",89,0)
 Q
"RTN","A1AEMAL1",90,0)
 ;
"RTN","A1AEMAL1",91,0)
PCHK ;Called from A1AEMAL
"RTN","A1AEMAL1",92,0)
 S AN=0
"RTN","A1AEMAL1",93,0)
 S AZ=0 F  S AZ=$O(AZ(AZ)) Q:'AZ  I AZ(AZ)'["<<" DO PSET
"RTN","A1AEMAL1",94,0)
 S AZ=0 F  S AZ=$O(AZ(AZ)) Q:'AZ  I AZ(AZ)["<<" DO PSET
"RTN","A1AEMAL1",95,0)
 Q
"RTN","A1AEMAL1",96,0)
 ;
"RTN","A1AEMAL1",97,0)
PSET ;
"RTN","A1AEMAL1",98,0)
 I $D(AZ("TX",1)) D ADD(AZ("TX",1)_AZ(AZ)) K AZ("TX",1) Q
"RTN","A1AEMAL1",99,0)
 E  D ADD("                    "_AZ(AZ))
"RTN","A1AEMAL1",100,0)
 Q
"RTN","A1AEMAL1",101,0)
 ;
"RTN","A1AEMAL1",102,0)
NOMESS ;from a1aephs write warning that released message already sent
"RTN","A1AEMAL1",103,0)
 W !!?3,"A Released Patch message `",$P(A1AE0,"^"),"' #"
"RTN","A1AEMAL1",104,0)
 W $P(^A1AE(11005.1,DA,0),"^",6),"  " S Y=$P(^(0),"^",7) D DT^DIQ
"RTN","A1AEMAL1",105,0)
 W !?3,"has already been sent."
"RTN","A1AEMAL1",106,0)
 W !!?3,"NO additional message or bulletin will be generated."
"RTN","A1AEMAL1",107,0)
 W !?3,"It is assummed that the previous release was interrupted"
"RTN","A1AEMAL1",108,0)
 W !?3,"by a system disconnect.  PLEASE CHECK this message for "
"RTN","A1AEMAL1",109,0)
 W !?3,"correct SEQ# and content."
"RTN","A1AEMAL1",110,0)
 W !!?3,"If this message does NOT exist the Patch status will have"
"RTN","A1AEMAL1",111,0)
 W !?3,"to be reset manually,  please notify Patch Developers."
"RTN","A1AEMAL1",112,0)
 W !!?3,"The Patch status of `",$P(A1AE0,"^"),"' will now be reset to Released."
"RTN","A1AEMAL1",113,0)
 W !,$C(7) H 3
"RTN","A1AEMAL1",114,0)
 Q
"RTN","A1AEMGR")
0^15^B11149395
"RTN","A1AEMGR",1,0)
A1AEMGR ; RMO/ALBANY ; Patch Module Manager Utilities ;23 MAR 88 9:00 am
"RTN","A1AEMGR",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEMGR",3,0)
 ;*** NOT FOR GENERAL DISTRIBUTION- Sent to Milt on FORUM 3/23/88 ***
"RTN","A1AEMGR",4,0)
 ;
"RTN","A1AEMGR",5,0)
SELUSR ;Update patches as printed for ALL selected packages for a select user
"RTN","A1AEMGR",6,0)
 G Q:'$D(^XUSEC("A1AE MGR",DUZ)) S DIC="^VA(200,",DIC(0)="AEMQ" W ! D ^DIC G Q:Y<0 S A1AEUSR=+Y,A1AEUSNM=$P(Y,"^",2) I '$D(^A1AE(11007,"AU",A1AEUSR)) W !!?3,*7,"This user has no packages currently selected." G SELUSR
"RTN","A1AEMGR",7,0)
 S A1AERD("A")="Are you sure you want to update the print status for "_A1AEUSNM_"? ",A1AERD(0)="S",A1AERD(1)="Yes^update print status of verified patches for user",A1AERD(2)="No^do not update print status for user"
"RTN","A1AEMGR",8,0)
 S A1AERD("B")=2 D SET^A1AERD G SELUSR:"N"[$E(X,1)!(X["^") D UPDATE:"Y"[$E(X,1)
"RTN","A1AEMGR",9,0)
 ;
"RTN","A1AEMGR",10,0)
Q K A1AEUSNM,A1AEDTV,A1AEIFN,A1AEPKIF,A1AEUSR
"RTN","A1AEMGR",11,0)
 Q
"RTN","A1AEMGR",12,0)
 ;
"RTN","A1AEMGR",13,0)
UPDATE W !!,"Overriding patch print status for ",A1AEUSNM,"'s selected packages.",! S %DT="",X="T" D ^%DT S DT=Y
"RTN","A1AEMGR",14,0)
 F A1AEPKIF=0:0 S A1AEPKIF=$O(^A1AE(11007,"AU",A1AEUSR,A1AEPKIF)) Q:'A1AEPKIF  I $D(^A1AE(11007,A1AEPKIF,0)),$P(^(0),"^",2)="Y",$D(^DIC(9.4,A1AEPKIF,0)) W !?3,"Updating print status for ",$P(^(0),"^",2)," patches..." D CHKDTV
"RTN","A1AEMGR",15,0)
 Q
"RTN","A1AEMGR",16,0)
 ;
"RTN","A1AEMGR",17,0)
CHKDTV F A1AEDTV=0:0 S A1AEDTV=+$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV)) Q:'A1AEDTV  F A1AEIFN=0:0 S A1AEIFN=+$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV,A1AEIFN)) Q:'A1AEIFN  I '$D(^A1AE(11005,A1AEIFN,2,A1AEUSR)) D SETPRT
"RTN","A1AEMGR",18,0)
 Q
"RTN","A1AEMGR",19,0)
 ;
"RTN","A1AEMGR",20,0)
SETPRT W !?6,$P(^A1AE(11005,A1AEIFN,0),"^") L ^A1AE(11005,A1AEIFN,2) S:'$D(^A1AE(11005,A1AEIFN,2,0)) ^(0)="^11005.02P^^" S:'$D(^A1AE(11005,A1AEIFN,2,A1AEUSR,0)) $P(^(0),"^",1,2)=A1AEUSR_"^"_DT,$P(^(0),"^",4)=$P(^A1AE(11005,A1AEIFN,2,0),"^",4)+1
"RTN","A1AEMGR",21,0)
 S $P(^A1AE(11005,A1AEIFN,2,A1AEUSR,0),"^",3)=DT,$P(^A1AE(11005,A1AEIFN,2,0),"^",3)=A1AEUSR,^A1AE(11005,"AU",A1AEUSR,+$P(^A1AE(11005,A1AEIFN,0),"^",2),(9999999-DT))="" L
"RTN","A1AEMGR",22,0)
 Q
"RTN","A1AEPB")
0^18^B970607
"RTN","A1AEPB",1,0)
A1AEPB ; RMO,MJK/ALBANY ; Problem Menu ;24 NOV 87 11:00 am
"RTN","A1AEPB",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPB",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPB",4,0)
 S IOP="HOME" D ^%ZIS
"RTN","A1AEPB",5,0)
 G:$D(^DOPT("A1AEPB",2)) A S ^DOPT("A1AEPB",0)="Problem Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPB",I,0)=$P(X,";",2,99)
"RTN","A1AEPB",6,0)
 S DIK="^DOPT(""A1AEPB""," D IXALL^DIK
"RTN","A1AEPB",7,0)
A W !! S DIC="^DOPT(""A1AEPB"",",DIC(0)="AEQM" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPB",8,0)
 ;
"RTN","A1AEPB",9,0)
1 ;Entry/Edit Problem Menu
"RTN","A1AEPB",10,0)
 G ^A1AEPB1
"RTN","A1AEPB",11,0)
 ;
"RTN","A1AEPB",12,0)
2 ;Print Problem Menu
"RTN","A1AEPB",13,0)
 G ^A1AEPB2
"RTN","A1AEPB1")
0^19^B13048468
"RTN","A1AEPB1",1,0)
A1AEPB1 ; RMO,MJK/ALBANY ; Entry/Edit Problem Menu ;24 NOV 87 11:00 am
"RTN","A1AEPB1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPB1",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPB1",4,0)
 G:$D(^DOPT("A1AEPB1",5)) A S ^DOPT("A1AEPB1",0)="Entry/Edit Problem Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPB1",I,0)=$P(X,";;",2,99)
"RTN","A1AEPB1",5,0)
 S DIK="^DOPT(""A1AEPB1""," D IXALL^DIK
"RTN","A1AEPB1",6,0)
A W !! S DIC="^DOPT(""A1AEPB1"",",DIC(0)="AEQM" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPB1",7,0)
 ;
"RTN","A1AEPB1",8,0)
1 ;;Add a New Problem
"RTN","A1AEPB1",9,0)
 S A1AEFL=11006,A1AETY="PB",DIC("S")="I $D(^A1AE(11007,+Y,A1AETY,DUZ,0))" D PKG^A1AEUTL G Q:'($D(A1AEPK)&$D(A1AEVR)) D NUM^A1AEUTL G Q:'$D(A1AEPD)
"RTN","A1AEPB1",10,0)
 W !!,"Adding Problem: ",A1AEPD,! S $P(^A1AE(A1AEFL,DA,0),"^",8)=DUZ,$P(^(0),"^",9)=DT,$P(^(0),"^",10)="n",DIE="^A1AE(A1AEFL,",DR="[A1AE ADD/EDIT PROBLEMS]" D ^DIE
"RTN","A1AEPB1",11,0)
 G Q
"RTN","A1AEPB1",12,0)
 ;
"RTN","A1AEPB1",13,0)
2 ;;Delete an Existing Problem
"RTN","A1AEPB1",14,0)
 S A1AEFL=11006,DIC("A")="Select PROBLEM: ",DIC("S")="I $P(^(0),U,8)=DUZ,($P(^(0),U,10)=""c""!($P(^(0),U,10)=""n""))",DIC="^A1AE(A1AEFL,",DIC(0)="AEMQ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S DA=+Y,A1AEPD=$P(Y,U,2)
"RTN","A1AEPB1",15,0)
PMT2 W !!,"Are you sure you want to delete problem "_A1AEPD_"? N// " R X:DTIME G Q:'$T!(X="^")!("Nn"[$E(X,1)) G DEL2:"Yy"[$E(X,1) W:X'["?" *7 W !!,"Enter Y to delete the selected problem, or N to exit." G PMT2
"RTN","A1AEPB1",16,0)
DEL2 S DIK="^A1AE(A1AEFL," D ^DIK W !!?3,"...deletion of "_A1AEPD_" from 'Problem File completed"
"RTN","A1AEPB1",17,0)
 G Q
"RTN","A1AEPB1",18,0)
 ;
"RTN","A1AEPB1",19,0)
3 ;;Edit an Existing Problem
"RTN","A1AEPB1",20,0)
 S A1AEFL=11006,DIC("A")="Select PROBLEM: ",DIC("S")="I $P(^(0),U,8)=DUZ,($P(^(0),U,10)=""c""!($P(^(0),U,10)=""n""))",DIC="^A1AE(A1AEFL,",DIC(0)="AEQM" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S DA=+Y,A1AEPD=$P(Y,U,2)
"RTN","A1AEPB1",21,0)
 W !!,"Editing Problem: ",A1AEPD,! S DIE="^A1AE(A1AEFL,",DR="[A1AE ADD/EDIT PROBLEMS]" D ^DIE
"RTN","A1AEPB1",22,0)
 G Q
"RTN","A1AEPB1",23,0)
 ;
"RTN","A1AEPB1",24,0)
4 ;;Resolve/Review an Existing Problem
"RTN","A1AEPB1",25,0)
 S A1AEFL=11006,DIC("A")="Select PROBLEM: ",DIC("S")="I $P(^(0),U,10)'=""n"",$D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))",DIC="^A1AE(A1AEFL,",DIC(0)="AEMQ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S A1AEIFN=+Y,A1AEPD=$P(Y,U,2)
"RTN","A1AEPB1",26,0)
 W ! S L=0,DIC="^A1AE(A1AEFL,",FLDS="[A1AE PROBLEM DETAILS]",BY="@.01",FR=A1AEPD,TO=A1AEPD S IOP="HOME" D EN1^DIP K FLDS,BY,L,FR,TO,IOP
"RTN","A1AEPB1",27,0)
 R !!,"Do you want to Change the Status of this Problem? N// ",X:DTIME G Q:'$T!(X="^")!("Nn"[$E(X,1)) S DA=A1AEIFN,DIE="^A1AE(A1AEFL,",DR="[A1AE CHANGE PROBLEM STATUS]" D ^DIE
"RTN","A1AEPB1",28,0)
 ;
"RTN","A1AEPB1",29,0)
Q K A1AEIFN,A1AEPKIF,A1AEPKNM,A1AEONE,A1AEPD,A1AEPK,A1AEVR,A1AENB,A1AEFL,A1AETY
"RTN","A1AEPB2")
0^20^B1246522
"RTN","A1AEPB2",1,0)
A1AEPB2 ; RMO,MJK/ALBANY ; Print Problem Menu ;24 NOV 87 11:00 am
"RTN","A1AEPB2",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPB2",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPB2",4,0)
 G:$D(^DOPT("A1AEPB2",4)) A S ^DOPT("A1AEPB2",0)="Print Problem Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPB2",I,0)=$P(X,";;",2,99)
"RTN","A1AEPB2",5,0)
 S DIK="^DOPT(""A1AEPB2""," D IXALL^DIK
"RTN","A1AEPB2",6,0)
A W !! S DIC="^DOPT(""A1AEPB2"",",DIC(0)="AEQM" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPB2",7,0)
 ;
"RTN","A1AEPB2",8,0)
1 ;;Print a Specific Problem
"RTN","A1AEPB2",9,0)
 G Q
"RTN","A1AEPB2",10,0)
 ;
"RTN","A1AEPB2",11,0)
2 ;;Tabled Problems
"RTN","A1AEPB2",12,0)
 G Q
"RTN","A1AEPB2",13,0)
 ;
"RTN","A1AEPB2",14,0)
3 ;;Unresolved Problems
"RTN","A1AEPB2",15,0)
 G Q
"RTN","A1AEPB2",16,0)
 ;
"RTN","A1AEPB2",17,0)
4 ;;Unprinted Problems
"RTN","A1AEPB2",18,0)
 G Q
"RTN","A1AEPB2",19,0)
 ;
"RTN","A1AEPB2",20,0)
Q Q
"RTN","A1AEPH")
0^21^B912927
"RTN","A1AEPH",1,0)
A1AEPH ; RMO,MJK/ALBANY ; Patch Menu ;24 NOV 87 11:00 am
"RTN","A1AEPH",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPH",4,0)
 G:$D(^DOPT("A1AEPH",2)) A S ^DOPT("A1AEPH",0)="Patch Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPH",I,0)=$P(X,";",2,99)
"RTN","A1AEPH",5,0)
 S DIK="^DOPT(""A1AEPH""," D IXALL^DIK
"RTN","A1AEPH",6,0)
A W !! S DIC="^DOPT(""A1AEPH"",",DIC(0)="AEQM" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPH",7,0)
 ;
"RTN","A1AEPH",8,0)
1 ;Entry/Edit Patch Menu
"RTN","A1AEPH",9,0)
 G ^A1AEPH1
"RTN","A1AEPH",10,0)
 ;
"RTN","A1AEPH",11,0)
2 ;Print Patch Menu
"RTN","A1AEPH",12,0)
 G ^A1AEPH2
"RTN","A1AEPH1")
0^22^B32841655
"RTN","A1AEPH1",1,0)
A1AEPH1 ; RMO,MJK/ALBANY - Patch control ;6/29/07  10:54
"RTN","A1AEPH1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH1",3,0)
 G:$D(^DOPT("A1AEPH1",5)) A S ^DOPT("A1AEPH1",0)="Entry/Edit Patch Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPH1",I,0)=$P(X,";;",2,99)
"RTN","A1AEPH1",4,0)
 S DIK="^DOPT(""A1AEPH1""," D IXALL^DIK
"RTN","A1AEPH1",5,0)
A W !! S DIC="^DOPT(""A1AEPH1"",",DIC(0)="AEMQ" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPH1",6,0)
 ;
"RTN","A1AEPH1",7,0)
1 ;;Add a Patch
"RTN","A1AEPH1",8,0)
 S A1AEFL=11005,A1AETY="PH",DIC("S")="I $D(^A1AE(11007,+Y,A1AETY,DUZ,0))" D PKG^A1AEUTL G Q:'$D(A1AEPK) S A1AE(0)="AEQL" D VER^A1AEUTL G Q:'$D(A1AEVR) D NUM^A1AEUTL G Q:'$D(A1AEPD)
"RTN","A1AEPH1",9,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPH1",10,0)
 W !!,"Patch Added: ",A1AEPD,! S $P(^A1AE(11005,DA,0),"^",8)="u",$P(^(0),"^",9)=DUZ,$P(^(0),"^",12)=DT,^A1AE(11005,"AS",A1AEPKIF,A1AEVR,"u",A1AENB,DA)=""
"RTN","A1AEPH1",11,0)
 S DIE="^A1AE(11005," I $P(A1AEPD,"*",2)="DBA" S DR="6.5///db" D ^DIE K DE,DQ,DR
"RTN","A1AEPH1",12,0)
 ;
"RTN","A1AEPH1",13,0)
 S (X,DINUM)=DA,DIC="^A1AE(11005.1,",DIC("DR")="20///"_"No routines included" K DD,DO D FILE^DICN K DE,DQ,DR,DIC("DR")
"RTN","A1AEPH1",14,0)
 ;
"RTN","A1AEPH1",15,0)
 S DR="[A1AE ADD/EDIT PATCHES]" D ^DIE K DQ,DE,DIE
"RTN","A1AEPH1",16,0)
 D Q G 1
"RTN","A1AEPH1",17,0)
 ;
"RTN","A1AEPH1",18,0)
2 ;;Delete an Unverified Patch
"RTN","A1AEPH1",19,0)
 S DIC("A")="Select PATCH: ",DIC("S")="I ($P(^(0),U,8)=""u""!($P(^(0),U,8)=""c"")),$D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))",DIC="^A1AE(11005,",DIC(0)="AEMQZ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S DA=+Y,A1AEPD=$P(Y,U,2),A1AE0=Y(0)
"RTN","A1AEPH1",20,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPH1",21,0)
PMT2 W !!,"Are you sure you want to delete patch "_A1AEPD_"? N// " R X:DTIME G Q:'$T!(X="^")!("Nn"[$E(X,1)) G DEL2:"Yy"[$E(X,1) W:X'["?" *7 W !!,"Enter Y to delete the selected patch, or N to exit." G PMT2
"RTN","A1AEPH1",22,0)
DEL2 S DIK="^A1AE(11005," D ^DIK W !!?3,"...deletion of "_A1AEPD_" from 'DHCP Patch File' completed"
"RTN","A1AEPH1",23,0)
 L ^A1AE(11007,$P(A1AE0,"^",2),"V",$P(A1AE0,"^",3),"PH") I $D(^A1AE(11007,$P(A1AE0,"^",2),"V",$P(A1AE0,"^",3),"PH")) S:$P(A1AE0,"^",4)<^("PH") ^("PH")=$P(A1AE0,"^",4) L
"RTN","A1AEPH1",24,0)
 ;delete message entry
"RTN","A1AEPH1",25,0)
 S DIK="^A1AE(11005.1," D ^DIK
"RTN","A1AEPH1",26,0)
 G Q
"RTN","A1AEPH1",27,0)
 ;
"RTN","A1AEPH1",28,0)
3 ;;Edit a Patch
"RTN","A1AEPH1",29,0)
 N A1AESTOP
"RTN","A1AEPH1",30,0)
 S A1AESTOP=0
"RTN","A1AEPH1",31,0)
 F  D  D Q Q:A1AESTOP
"RTN","A1AEPH1",32,0)
 . N DIC,X,Y,DA,A1AEPD
"RTN","A1AEPH1",33,0)
 . S DIC("A")="Select PATCH: "
"RTN","A1AEPH1",34,0)
 . S DIC("S")="I $D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))"
"RTN","A1AEPH1",35,0)
 . S DIC="^A1AE(11005,",DIC(0)="AEMQ"
"RTN","A1AEPH1",36,0)
 . W !
"RTN","A1AEPH1",37,0)
 . D ^DIC I Y<0 S A1AESTOP=1 Q
"RTN","A1AEPH1",38,0)
 . S DA=+Y,A1AEPD=$P(Y,U,2) K DIC
"RTN","A1AEPH1",39,0)
 . I $P(A1AEPD,"*",2)=999 S $P(A1AEPD,"*",2)="DBA"
"RTN","A1AEPH1",40,0)
 . I '$D(^A1AE(11005.1,DA,0)) D
"RTN","A1AEPH1",41,0)
 . . N DINUM,DD,DO,DIC
"RTN","A1AEPH1",42,0)
 . . S (X,DINUM)=DA,DIC(0)="LE",DIC="^A1AE(11005.1,"
"RTN","A1AEPH1",43,0)
 . . S DIC("DR")="20///No routines included"
"RTN","A1AEPH1",44,0)
 . . D FILE^DICN
"RTN","A1AEPH1",45,0)
 . W !!,"Editing Patch: ",A1AEPD,!
"RTN","A1AEPH1",46,0)
 . L +^A1AE(11005,DA):5 E  D  Q
"RTN","A1AEPH1",47,0)
 . . W !,$C(7),"This patch is being edited by another user" H 3
"RTN","A1AEPH1",48,0)
 . N A1AEOLD
"RTN","A1AEPH1",49,0)
 . S A1AEOLD=$P($G(^A1AE(11005,DA,0)),U,8)
"RTN","A1AEPH1",50,0)
 . D
"RTN","A1AEPH1",51,0)
 . . N A1AEOLD,DIE,DR ; Preserve A1AEOLD.  It's killed in Q^A1AEPHS
"RTN","A1AEPH1",52,0)
 . . S DIE="^A1AE(11005,",DR="[A1AE ADD/EDIT PATCHES]"
"RTN","A1AEPH1",53,0)
 . . D ^DIE
"RTN","A1AEPH1",54,0)
 . N A1AE0,A1AENEW
"RTN","A1AEPH1",55,0)
 . S A1AE0=$G(^A1AE(11005,DA,0))
"RTN","A1AEPH1",56,0)
 . L -^A1AE(11005,DA)
"RTN","A1AEPH1",57,0)
 . S A1AENEW=$P(A1AE0,U,8)
"RTN","A1AEPH1",58,0)
 . I A1AEOLD'="v"!(A1AENEW'="e") Q
"RTN","A1AEPH1",59,0)
 . ; Send the 'Entered in Error' bulletin
"RTN","A1AEPH1",60,0)
 . N A1AETX,X,A1AEOPT
"RTN","A1AEPH1",61,0)
 . S A1AEOPT="'Entered in Error'"
"RTN","A1AEPH1",62,0)
 . S X=$$GET1^DIQ(11005,DA_",",8.5,"Z","A1AETX")
"RTN","A1AEPH1",63,0)
 . S A1AETX(.1,0)=""
"RTN","A1AEPH1",64,0)
 . S A1AETX(.2,0)="Entered in Error Description:"
"RTN","A1AEPH1",65,0)
 . D BOTH^A1AEPHS
"RTN","A1AEPH1",66,0)
 Q
"RTN","A1AEPH1",67,0)
 ;
"RTN","A1AEPH1",68,0)
4 ;;Verify a Patch
"RTN","A1AEPH1",69,0)
 K A1AEPKV
"RTN","A1AEPH1",70,0)
 S DIC("A")="Select PATCH: ",DIC("S")="I $P(^(0),U,8)=""c"",$D(^A1AE(11007,+$P(^(0),U,2),""PB"",DUZ,0)),$P(^(0),U,2)=""V""",DIC="^A1AE(11005,",DIC(0)="AEMQZ" W ! D ^DIC K DIC G Q:Y<0 S (A1AEIFN,DA)=+Y,A1AEPD=$P(Y,U,2)
"RTN","A1AEPH1",71,0)
 I $L($P($G(^A1AE(11005,DA,4)),U,1)) W !,"This is a Package Release, You need to use the Package Release option." D Q G 4
"RTN","A1AEPH1",72,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPH1",73,0)
 ;
"RTN","A1AEPH1",74,0)
 S Y=$P(Y(0),"^",17) I Y,Y>DT W !!,"Do not release until: " D DT^DIQ
"RTN","A1AEPH1",75,0)
 S A1AEST=$S($P(Y(0),U,7)="e":2,1:31) ;get status
"RTN","A1AEPH1",76,0)
 ;
"RTN","A1AEPH1",77,0)
 W !!,"Internal Comments to developers/releasers for: ",A1AEPD,! K Y S DIE="^A1AE(11005,",DR="16;" D ^DIE K DQ,DE,DIE,DIC,DR,D0,DA
"RTN","A1AEPH1",78,0)
 W ! S DIR(0)="Y",DIR("B")="No",DIR("A")="Continue and Display Patch " D ^DIR K DIR I 'Y D Q G 4
"RTN","A1AEPH1",79,0)
 ;check routine patches
"RTN","A1AEPH1",80,0)
 F AX=0:0 S AX=$O(^A1AE(11005,A1AEIFN,"P",AX)) Q:'AX  I $D(^(AX,0)) S X=^(0) D RCHK^A1AEM2
"RTN","A1AEPH1",81,0)
 W ! S DIR(0)="E" D ^DIR K DIR I 'Y D Q G 4
"RTN","A1AEPH1",82,0)
 ;
"RTN","A1AEPH1",83,0)
 S D0=A1AEIFN,A1AEVPR="",A1AEHD="DHCP Completed/NotReleased Patch Display"
"RTN","A1AEPH1",84,0)
 W ! S %ZIS="",A1AEPGE=0 D ^%ZIS G Q:POP K IOP,%ZIS U IO S ^UTILITY($J,1)="D HD^A1AEPH2",DIWF="B4X" K ^UTILITY($J,"W"),DXS D HD^A1AEPH2,^A1AEP ;SO DI*22*152
"RTN","A1AEPH1",85,0)
 K DN,DXS,DIWF ;;; I A1AEOUT'["^" B  G Q
"RTN","A1AEPH1",86,0)
 K A1AEHD,A1AELNE,A1AEOUT,A1AEPGE,A1AEVPR D CLOSE^A1AEUTL1
"RTN","A1AEPH1",87,0)
 ;S X2=A1AEST,X1=DT D C^%DTC S Y=X D DD^%DT S A1AEST=Y
"RTN","A1AEPH1",88,0)
 S X=$$FMADD^XLFDT(DT,A1AEST),A1AEST=$$FMTE^XLFDT(X) ;Get Compliance date
"RTN","A1AEPH1",89,0)
 W !!,"Releasing Patch: ",A1AEPD,! K Y S DA=A1AEIFN,DIE="^A1AE(11005,",DR="18//^S X=A1AEST;8;S Y=$S(X=""e"":""@10"",1:"""");@10;8.5" ;;;D ^DIE K DQ,DE
"RTN","A1AEPH1",90,0)
 L +@(DIE_DA_")"):5
"RTN","A1AEPH1",91,0)
 I '$T W !,$C(7),"This patch is being released by another user" H 3
"RTN","A1AEPH1",92,0)
 E  D ^DIE K DQ,DE L -@(DIE_DA_")")
"RTN","A1AEPH1",93,0)
 D Q G 4
"RTN","A1AEPH1",94,0)
 ;
"RTN","A1AEPH1",95,0)
5 ;;Copy a patch into a new patch
"RTN","A1AEPH1",96,0)
 G ^A1AEPH8
"RTN","A1AEPH1",97,0)
 ;
"RTN","A1AEPH1",98,0)
6 ;;Create a packman message
"RTN","A1AEPH1",99,0)
 G PACK^A1AEM
"RTN","A1AEPH1",100,0)
 ;
"RTN","A1AEPH1",101,0)
7 ;;Forward a Complete/unverified message
"RTN","A1AEPH1",102,0)
 G FCOM^A1AEM2
"RTN","A1AEPH1",103,0)
 ;
"RTN","A1AEPH1",104,0)
8 ;;Forward a Verified patch message
"RTN","A1AEPH1",105,0)
 G FVER^A1AEM2
"RTN","A1AEPH1",106,0)
 ;
"RTN","A1AEPH1",107,0)
Q K ^UTILITY($J,"A1AECOP"),A1AEOLPD,A1AE0,A1AEPKIF,A1AEPKNM,A1AEPD,A1AEPK,A1AEVR,A1AENB,A1AEFL,A1AETY
"RTN","A1AEPH1",108,0)
 K DIK,A1AEHD,A1AEIFN,A1AELNE,A1AEOUT,A1AEPGE,A1AEVPR
"RTN","A1AEPH1",109,0)
 K AEQ,A1AESUB,A1AETX,A1AEXMZ,A1NAM,A1NAM1,AX,AXMZ,A1AEST,A1AETVR
"RTN","A1AEPH1",110,0)
 K JL2,SAVEX,C,D0,DA,DI,DIG,DIH,DIW,DIV,DR,XMB,XMDT,XMDUZ,XMM,XMSUB Q
"RTN","A1AEPH2")
0^23^B43690790
"RTN","A1AEPH2",1,0)
A1AEPH2 ;  REW/WCIOFO,RMO,MJK/ALBANY ;2/23/06  13:55
"RTN","A1AEPH2",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH2",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPH2",4,0)
 ;
"RTN","A1AEPH2",5,0)
 G:$D(^DOPT("A1AEPH2",11)) A S ^DOPT("A1AEPH2",0)="Print Patch Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPH2",I,0)=$P(X,";",2,99)
"RTN","A1AEPH2",6,0)
 S DIK="^DOPT(""A1AEPH2""," D IXALL^DIK
"RTN","A1AEPH2",7,0)
A W !! S DIC="^DOPT(""A1AEPH2"",",DIC(0)="AEMQ" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPH2",8,0)
 ;
"RTN","A1AEPH2",9,0)
1 ;Completed/unverified Patch Report
"RTN","A1AEPH2",10,0)
 S DIS(0)="I $P(^A1AE(11005,D0,0),U,8)=""c""",A1AEHD="Completed/NotReleased DHCP Patches Report",A1AES=""
"RTN","A1AEPH2",11,0)
 S DIC("S")="I $S($D(^A1AE(11007,+Y,""PH"",DUZ,0)):1,'$D(^A1AE(11007,+Y,""PB"",DUZ,0)):0,$P(^(0),U,2)=""V"":1,1:0)" G DIP^A1AEPH3
"RTN","A1AEPH2",12,0)
 ;
"RTN","A1AEPH2",13,0)
2 ;New Patch Report
"RTN","A1AEPH2",14,0)
 G PRTNEW^A1AEVP
"RTN","A1AEPH2",15,0)
 ;
"RTN","A1AEPH2",16,0)
3 ;Under Development Patch Report
"RTN","A1AEPH2",17,0)
 S DIS(0)="I $P(^A1AE(11005,D0,0),U,8)=""u""",A1AEHD="Under Development DHCP Patches Report",A1AES=""
"RTN","A1AEPH2",18,0)
 S DIC("S")="I $D(^A1AE(11007,+Y,""PH"",DUZ,0))" G DIP^A1AEPH3
"RTN","A1AEPH2",19,0)
 ;
"RTN","A1AEPH2",20,0)
4 ;Display a Completed/NotReleased Patch
"RTN","A1AEPH2",21,0)
 G COMDIS^A1AEPH6
"RTN","A1AEPH2",22,0)
 ;
"RTN","A1AEPH2",23,0)
5 ;Summary Report for a Package
"RTN","A1AEPH2",24,0)
 ;replace .01 sort with 3 in template
"RTN","A1AEPH2",25,0)
 N A1AEPK,A1AEPKIF,A1AEPKNM,A1AEVR,A1AEREV,X,Y,DIR,ZTSK,%ZIS,A1AEDEV
"RTN","A1AEPH2",26,0)
 D PKG^A1AEUTL G Q:'$D(A1AEPK) D VER^A1AEUTL G Q:'$D(A1AEVR)
"RTN","A1AEPH2",27,0)
 S DIR(0)="Y",DIR("B")="No",DIR("A")="Sort by reverse SEQ # "
"RTN","A1AEPH2",28,0)
 D ^DIR Q:$D(DIRUT)
"RTN","A1AEPH2",29,0)
 S A1AEREV=Y
"RTN","A1AEPH2",30,0)
 S %ZIS="QN"
"RTN","A1AEPH2",31,0)
 D ^%ZIS Q:POP
"RTN","A1AEPH2",32,0)
 S A1AEDEV=ION_";"_IOM_";"_IOSL
"RTN","A1AEPH2",33,0)
 I '$D(IO("Q")) D
"RTN","A1AEPH2",34,0)
 . D 5GO
"RTN","A1AEPH2",35,0)
 E  D
"RTN","A1AEPH2",36,0)
 . N ZTRTN,ZTSAVE,ZTDESC,ZTSK,ZTDTH,ZTIO,I
"RTN","A1AEPH2",37,0)
 . S ZTDESC="A1AE Patch Summary"
"RTN","A1AEPH2",38,0)
 . S ZTRTN="5GO^A1AEPH2"
"RTN","A1AEPH2",39,0)
 . F I="A1AEPK","A1AEPKIF","A1AEPKNM","A1AEVR","A1AEREV","A1AEDEV" S ZTSAVE(I)=""
"RTN","A1AEPH2",40,0)
 . S ZTIO=""
"RTN","A1AEPH2",41,0)
 . D ^%ZTLOAD
"RTN","A1AEPH2",42,0)
 . K IO("Q")
"RTN","A1AEPH2",43,0)
 . I $D(ZTSK) W !,"Request queued.  Task number: ",ZTSK
"RTN","A1AEPH2",44,0)
 D HOME^%ZIS
"RTN","A1AEPH2",45,0)
 Q
"RTN","A1AEPH2",46,0)
5GO ;
"RTN","A1AEPH2",47,0)
 N L,DIC,FLDS,BY,TO,FR,TREV,FREV,TMP,A1AEDJDH
"RTN","A1AEPH2",48,0)
 S L=0,DIC="^A1AE(11005,"
"RTN","A1AEPH2",49,0)
 S FLDS="[A1AE VERIFIED PATCH SUMMARY]"
"RTN","A1AEPH2",50,0)
 I '$D(DIS(0)) S DIC("S")="I $P(^(0),U,2)=""Y""!($P(^(0),U,4)=""y""&($D(^A1AE(11007,""AU"",DUZ,+Y))))"
"RTN","A1AEPH2",51,0)
 ;fix for fileman BY restriction -- can't use format BY with BY(0)
"RTN","A1AEPH2",52,0)
 S BY=$S(A1AEREV:"@INTERNAL(#3),-6",1:"@INTERNAL(#3),6")
"RTN","A1AEPH2",53,0)
 S FR="0,@",TO="99999,99999"
"RTN","A1AEPH2",54,0)
 ;use entry# of print driver for namespace
"RTN","A1AEPH2",55,0)
 S A1AEDJDH=$J_"."_$P($H,",",2) K ^TMP("A1AE5",A1AEDJDH) S TMP="" ; REW added seconds in case user tries to run a second listing before the first finishes
"RTN","A1AEPH2",56,0)
 ;
"RTN","A1AEPH2",57,0)
 ;setup the version and dba except for xm
"RTN","A1AEPH2",58,0)
 S TREV=A1AEPK_"*"_A1AEVR_"*" DO  S TREV=A1AEPK_"*999*" DO:A1AEPK'="XM"
"RTN","A1AEPH2",59,0)
 .S FREV=TREV_"  0"
"RTN","A1AEPH2",60,0)
 .S TREV=TREV_"999"
"RTN","A1AEPH2",61,0)
 .F  S FREV=$O(^A1AE(11005,"AB",FREV)) Q:FREV]]TREV  Q:FREV'[A1AEPK  DO
"RTN","A1AEPH2",62,0)
 ..Q:'$L(FREV)
"RTN","A1AEPH2",63,0)
 ..Q:'+$O(^(FREV,0))
"RTN","A1AEPH2",64,0)
 ..DO:$S<6000  Q:'$D(TMP)
"RTN","A1AEPH2",65,0)
 ...S ^TMP("A1AE5",A1AEDJDH,$O(^(0)))=""
"RTN","A1AEPH2",66,0)
 ...I D(TMP) MERGE ^TMP=TMP K TMP
"RTN","A1AEPH2",67,0)
 ..Q:'$D(TMP)
"RTN","A1AEPH2",68,0)
 ..S TMP("A1AE5",A1AEDJDH,$O(^(0)))=""
"RTN","A1AEPH2",69,0)
DIP5 ;
"RTN","A1AEPH2",70,0)
 I $D(TMP)>1 MERGE ^TMP=TMP K TMP
"RTN","A1AEPH2",71,0)
 ;I '$D(^TMP("A1AE5",A1AEDJDH)) W !?10,"No summary available" Q
"RTN","A1AEPH2",72,0)
 K FREV,TREV S BY(0)="^TMP(""A1AE5"","_A1AEDJDH_",",L(0)=1 
"RTN","A1AEPH2",73,0)
 S IOP=A1AEDEV
"RTN","A1AEPH2",74,0)
 D EN1^DIP
"RTN","A1AEPH2",75,0)
 K ^TMP("A1AE5",A1AEDJDH),DIS
"RTN","A1AEPH2",76,0)
 Q
"RTN","A1AEPH2",77,0)
 ;
"RTN","A1AEPH2",78,0)
6 ;Display a Patch
"RTN","A1AEPH2",79,0)
 G PATDIS^A1AEPH6
"RTN","A1AEPH2",80,0)
 ;
"RTN","A1AEPH2",81,0)
7 ;All Verified Patches for a Package
"RTN","A1AEPH2",82,0)
 S DIS(0)="I $P(^(0),U,8)=""v""",A1AEHD="Released DHCP Patches",DIC("S")="I $P(^(0),U,2)=""Y""!($P(^(0),U,4)=""y""&($D(^A1AE(11007,""AU"",DUZ,+Y))))" G DIP^A1AEPH3
"RTN","A1AEPH2",83,0)
 ;
"RTN","A1AEPH2",84,0)
8 ;Extended Display of a Patch
"RTN","A1AEPH2",85,0)
 G EXTDIS^A1AEPH6
"RTN","A1AEPH2",86,0)
 ;
"RTN","A1AEPH2",87,0)
9 ;Verified Patch Summary Report by Date
"RTN","A1AEPH2",88,0)
 G ^A1AEPH4
"RTN","A1AEPH2",89,0)
 ;
"RTN","A1AEPH2",90,0)
10 ;Detailed Report of Verified Patches by Date
"RTN","A1AEPH2",91,0)
 G ^A1AEPH5
"RTN","A1AEPH2",92,0)
 ;
"RTN","A1AEPH2",93,0)
11 ;Display Number of New Patches
"RTN","A1AEPH2",94,0)
 G DSPNEW^A1AEVP
"RTN","A1AEPH2",95,0)
 ;
"RTN","A1AEPH2",96,0)
12 ;Update patches as printed for a User's packages
"RTN","A1AEPH2",97,0)
 G ^A1AEVP1
"RTN","A1AEPH2",98,0)
 ;
"RTN","A1AEPH2",99,0)
13 ;Complete/unverified Summary Report for Assigned Packages
"RTN","A1AEPH2",100,0)
 W ! D ^%ZIS S AIOP=IO G PKG
"RTN","A1AEPH2",101,0)
 ;
"RTN","A1AEPH2",102,0)
14 ;Summary Report (OLD 5)
"RTN","A1AEPH2",103,0)
 ;
"RTN","A1AEPH2",104,0)
PKG K AN S PKG=0
"RTN","A1AEPH2",105,0)
 F  S PKG=$O(^A1AE(11007,"AV",DUZ,PKG)) Q:'PKG  DO
"RTN","A1AEPH2",106,0)
 .I $D(^DIC(9.4,PKG,0)) S (AN(PKG),A1AEPK)=$P(^(0),"^",2) DO
"RTN","A1AEPH2",107,0)
 ..S A1AEVR=0
"RTN","A1AEPH2",108,0)
 ..F  S A1AEVR=$O(^A1AE(11007,PKG,"V",A1AEVR)) Q:'A1AEVR  DO 
"RTN","A1AEPH2",109,0)
 ...S AN(PKG,A1AEVR)=""
"RTN","A1AEPH2",110,0)
 S PKG=0
"RTN","A1AEPH2",111,0)
 F  S PKG=$O(AN(PKG)) Q:'PKG  S A1AEPK=AN(PKG) DO
"RTN","A1AEPH2",112,0)
 .S A1AEVR=0
"RTN","A1AEPH2",113,0)
 .F  S A1AEVR=$O(AN(PKG,A1AEVR)) Q:'A1AEVR  DO
"RTN","A1AEPH2",114,0)
 ..I '$D(^A1AE(11005,"AS",PKG,A1AEVR,"c")) K AN(PKG,A1AEVR) Q
"RTN","A1AEPH2",115,0)
 ..D PRT
"RTN","A1AEPH2",116,0)
 K AN G Q
"RTN","A1AEPH2",117,0)
PRT S DHD="DHCP Patch Summary Report for "_A1AEPK_"*"_A1AEVR_" Complete/NotReleased Patches",FLDS="[A1AE VERIFIED PATCH SUMMARY]",L=0,DIC="^A1AE(11005,",BY="[A1AE SUMMARY SORT]",A1AEPGE=1
"RTN","A1AEPH2",118,0)
 S DIS(0)="I $P(^A1AE(11005,D0,0),""^"",3)=A1AEVR!($P(^(0),""^"",3)=999)&($P(^A1AE(11005,D0,0),""^"",8)=""c"")",TO=A1AEPK_"*"_A1AEVR_"*",FR=TO_"  1",TO=$P(TO,"*")_"*"_999_"*"_999 S IOP=AIOP,AY=$Y D EN1^DIP S A1AEPGE=A1AEPGE+1
"RTN","A1AEPH2",119,0)
 I A1AEPGE,$E(IOST,1)="C",AY'=$Y W *7 R A1AEOUT:DTIME I A1AEOUT["^" K AN Q
"RTN","A1AEPH2",120,0)
 S AY=$Y
"RTN","A1AEPH2",121,0)
 Q
"RTN","A1AEPH2",122,0)
 ;
"RTN","A1AEPH2",123,0)
HD S:'$D(A1AEPGE) A1AEPGE=0 S:'$D(A1AEOUT) A1AEOUT="" D CRCHK Q:A1AEOUT["^"  W @IOF,$S($D(A1AEHD):A1AEHD,1:"Patch Details") K A1AELNE S $P(A1AELNE,"=",78)="",A1AEPGE=A1AEPGE+1 W:$X>68 ! W ?70,"Page: ",A1AEPGE,!,A1AELNE
"RTN","A1AEPH2",124,0)
 Q:'$D(D0)  S A1AE0=$S($D(^A1AE(11005,D0,0)):^(0),1:""),A1AED1=$P(A1AE0,"^") W !,"Run Date: " S Y=DT D DT^DIQ W ?44,"Designation: ",$P(A1AED1,"*")_"*"_$S($P(A1AED1,"*",2)=999:"DBA",1:$P(A1AED1,"*",2))_"*"_$P(A1AED1,"*",3)
"RTN","A1AEPH2",125,0)
 S NOTE=$P(A1AE0,"^",8)
"RTN","A1AEPH2",126,0)
 W:NOTE="u" "  TEST v"_$P($G(^A1AE(11005.1,D0,0)),U,12)
"RTN","A1AEPH2",127,0)
 S P=$P(A1AE0,"^",2) W !,"Package : ",$P($G(^DIC(9.4,+P,0)),"^"),?44,"Priority   : ",$P($P(^DD(11005,7,0),$P(^A1AE(11005,D0,0),"^",7)_":",2),";",1)
"RTN","A1AEPH2",128,0)
 ;
"RTN","A1AEPH2",129,0)
 ;This uses the DD status
"RTN","A1AEPH2",130,0)
 ;W !,"Version : ",$S($P(A1AE0,"^",3)=999:"DBA",1:$P(A1AE0,"^",3))," ",$S($P(A1AE0,"^",6):"SEQ #"_$P(A1AE0,"^",6),1:""),?44,"Status     : ",$P($P(^DD(11005,8,0),$P(^A1AE(11005,D0,0),"^",8)_":",2),";",1),!,A1AELNE,! K A1AE0,A1AED1,SEQT
"RTN","A1AEPH2",131,0)
 W !,"Version : ",$S($P(A1AE0,"^",3)=999:"DBA",1:$P(A1AE0,"^",3))," ",$S($P(A1AE0,"^",6):"SEQ #"_$P(A1AE0,"^",6),1:""),?44,"Status     : "
"RTN","A1AEPH2",132,0)
 ;S NOTE=$P(A1AE0,"^",8)
"RTN","A1AEPH2",133,0)
 W $S(NOTE="v":"RELEASED",NOTE="c":"COMPLETE/NOT RELEASED",NOTE="u":"UNDER DEVELOPMENT",NOTE="e":"ENTERED IN ERROR",NOTE="r":"RETIRED",1:"")
"RTN","A1AEPH2",134,0)
 S Y=$P(A1AE0,"^",18) I +Y>0 W !,?25,"Compliance Date: " D DT^DIQ
"RTN","A1AEPH2",135,0)
 W !,A1AELNE,! K A1AE0,A1AED1,SEQT,NOTE
"RTN","A1AEPH2",136,0)
 Q
"RTN","A1AEPH2",137,0)
 ;
"RTN","A1AEPH2",138,0)
CRCHK I A1AEPGE,$E(IOST,1)="C" W !!,*7,"Press RETURN to continue or '^' to stop " R A1AEOUT:DTIME I A1AEOUT["^" S DN=0 K ^UTILITY($J,"W")
"RTN","A1AEPH2",139,0)
 Q
"RTN","A1AEPH2",140,0)
 ;
"RTN","A1AEPH2",141,0)
Q W ! K AZ,A7,A1AEVR,AIOP,DUOUT,DTOUT,^UTILITY($J),PKG,DN,D0,DXS,DIS(0),A1AES,A1AE0,A1AED1,A1AEIX,A1AEJ,A1AEOUT,A1AEN,A1AEI,A1AEAB,A1AED,A1AEHD,A1AELNE,IOP,FLDS,BY,L,FR,TO,DIS,A1AEPD
"RTN","A1AEPH2",142,0)
 K A1AEIFN,A1AESCN,A1AEVPR,A1AEPKIF,A1AEPKNM,A1AEPK,A1AETY,A1AEVPR,POP,PGM,VAR,A1AEPGE D CLOSE^A1AEUTL1 Q
"RTN","A1AEPH2",143,0)
 ;
"RTN","A1AEPH2",144,0)
UD ;UNDEVELOPMENT EP
"RTN","A1AEPH2",145,0)
 S DIS(0)="I $P(^A1AE(11005,D0,0),U,8)=""u""" G 5 ;Under development only
"RTN","A1AEPH2",146,0)
CNR ;COMPLETED/NOT RELEASED EP
"RTN","A1AEPH2",147,0)
 S DIS(0)="I $P(^A1AE(11005,D0,0),U,8)=""c""" G 5 ;Completed/Not Released only
"RTN","A1AEPH3")
0^24^B8583637
"RTN","A1AEPH3",1,0)
A1AEPH3 ; RMO,MJK/ALBANY ;6/29/07  10:57
"RTN","A1AEPH3",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH3",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92;Build 2
"RTN","A1AEPH3",4,0)
DIP ;
"RTN","A1AEPH3",5,0)
 S %DT="",X="T" D ^%DT S DT=Y
"RTN","A1AEPH3",6,0)
 D PKG^A1AEUTL G Q^A1AEPH2:'$D(A1AEPK) D VER^A1AEUTL G Q^A1AEPH2:'$D(A1AEVR)
"RTN","A1AEPH3",7,0)
 S A1AERD("A")="Select Sort: ",A1AERD(1)="Designation^sort by patch designation",A1AERD(2)="Category^sort by category of patch",A1AERD(3)="Priority^sort by patch priority" S:'$D(A1AES) A1AERD(4)="Status^sort by status of patch"
"RTN","A1AEPH3",8,0)
 S A1AERD("B")=1 W ! D SET^A1AERD K A1AERD S A1AEHD=A1AEHD_" (By "_X_")",X=$E(X,1) G Q^A1AEPH2:X="^"
"RTN","A1AEPH3",9,0)
 S A1AEIX=$S(X="D":"AB",1:"A"_X)
"RTN","A1AEPH3",10,0)
 S PGM="START^A1AEPH3",VAR="A1AEVR^A1AEIX^A1AEPKIF^A1AEHD" W ! D ZIS^A1AEUTL1 G Q^A1AEPH2:POP
"RTN","A1AEPH3",11,0)
START U IO G Q^A1AEPH2:'$D(^DIC(9.4,A1AEPKIF,0)) S A1AEAB=$P(^(0),"^",2),^UTILITY($J,1)="D HD^A1AEPH2",DIWF="B4X",(A1AEOUT,A1AEJ)="" K ^UTILITY($J,"W") ;SO DI*22*152
"RTN","A1AEPH3",12,0)
 G DESG:A1AEIX="AB" F A1AEVR=A1AEVR,999 F A1AEI=0:0 S A1AEJ=$O(^A1AE(11005,A1AEIX,A1AEPKIF,A1AEVR,A1AEJ)) Q:A1AEJ=""!(A1AEOUT["^")  F A1AEN=0:0 S A1AEN=$O(^A1AE(11005,A1AEIX,A1AEPKIF,A1AEVR,A1AEJ,A1AEN)) Q:'A1AEN!(A1AEOUT["^")  D PRT
"RTN","A1AEPH3",13,0)
 G Q^A1AEPH2
"RTN","A1AEPH3",14,0)
 ;
"RTN","A1AEPH3",15,0)
PRT F A1AED0=0:0 S A1AED0=$O(^A1AE(11005,A1AEIX,A1AEPKIF,A1AEVR,A1AEJ,A1AEN,A1AED0)) Q:'A1AED0!(A1AEOUT["^")  S D0=A1AED0 D PRT1
"RTN","A1AEPH3",16,0)
 Q
"RTN","A1AEPH3",17,0)
 ;
"RTN","A1AEPH3",18,0)
PRT1 I $D(^A1AE(11005,D0,0)) X DIS(0) I $T K DXS D HD^A1AEPH2,^A1AEP K DN,DXS,^UTILITY($J,"W")
"RTN","A1AEPH3",19,0)
 Q
"RTN","A1AEPH3",20,0)
DESG F A1AEVR=A1AEVR,999 S (A1AED,A1AED(0))=A1AEAB_"*"_A1AEVR_"*" F A1AEI=0:0 S A1AED=$O(^A1AE(11005,"AB",A1AED)) Q:A1AED=""!(A1AEOUT["^")!(A1AED(0)'=$E(A1AED,1,$L(A1AED(0))))  S D0=+$O(^(A1AED,0)) D PRT1
"RTN","A1AEPH3",21,0)
 G Q^A1AEPH2
"RTN","A1AEPH4")
0^25^B12432934
"RTN","A1AEPH4",1,0)
A1AEPH4 ;RMO/ALBANY ; Verified Patch Summary Report by Date;24 NOV 87 11:00 am
"RTN","A1AEPH4",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH4",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPH4",4,0)
 S %DT="",X="T" D ^%DT S DT=Y D PKGPMT^A1AEVP G Q:X["^"!($D(A1AENOSL)) D DATE^A1AEUTL1 G Q:'$D(BEGDATE)!('$D(ENDDATE)) S BEGDATE=9999999-BEGDATE,ENDDATE=9999999-ENDDATE
"RTN","A1AEPH4",5,0)
 S PGM="START^A1AEPH4",VAR=$S($D(A1AEPKIF):"A1AEPKIF^DUZ^BEGDATE^ENDDATE",1:"DUZ^BEGDATE^ENDDATE") W ! D ZIS^A1AEUTL1 G Q:POP
"RTN","A1AEPH4",6,0)
 ;
"RTN","A1AEPH4",7,0)
START S COUNT=0
"RTN","A1AEPH4",8,0)
 U IO K A1AEPGE,A1AELNE S A1AEHD="DHCP Summary Report of Released Patches",$P(A1AELNE,"-",78)="",Y=9999999-BEGDATE D D^DIQ S A1AEBEG=Y S Y=9999999-ENDDATE D D^DIQ S A1AEND=Y I $D(A1AEPKIF) D GETDTV G Q
"RTN","A1AEPH4",9,0)
 F A1AEPKIF=0:0 S A1AEPKIF=+$O(^A1AE(11007,"AU",DUZ,A1AEPKIF)) Q:'A1AEPKIF  I $D(^A1AE(11007,A1AEPKIF,0)) D GETDTV:$P(^(0),"^",2)="Y"!($P(^(0),"^",4)="y") Q:X["^"
"RTN","A1AEPH4",10,0)
 ;
"RTN","A1AEPH4",11,0)
Q I '$D(A1AEPGE)&$D(A1AEBEG)&$D(A1AEND) W !?3,"There were no patches released ",$S(A1AEBEG=A1AEND:"on "_A1AEBEG,1:"between "_A1AEBEG_" and "_A1AEND),"."
"RTN","A1AEPH4",12,0)
 W ! I $D(COUNT),COUNT W "-----------------",!,"# Patches Listed = "_COUNT
"RTN","A1AEPH4",13,0)
 K COUNT K A1AED0,A1AED1,A1AEPKIF,A1AEPKNM,A1AEDTV,A1AEHD,A1AEIFN,A1AEPGE,BEGDATE,ENDDATE,A1AEBEG,A1AEND,VAR,PGM,POP,A1AENOSL,A1AELNE,A1AEPK D CLOSE^A1AEUTL1 Q
"RTN","A1AEPH4",14,0)
 ;
"RTN","A1AEPH4",15,0)
GETDTV F A1AEDTV=ENDDATE-1:0 S A1AEDTV=$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV)) Q:'A1AEDTV!(BEGDATE<A1AEDTV)!(X["^")  D GETIFN
"RTN","A1AEPH4",16,0)
 Q
"RTN","A1AEPH4",17,0)
 ;
"RTN","A1AEPH4",18,0)
GETIFN F A1AEIFN=0:0 S A1AEIFN=$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV,A1AEIFN)) Q:'A1AEIFN  I $D(^A1AE(11005,A1AEIFN,0)),$P(^(0),"^",8)="v" S A1AED0=^(0),A1AED1=$P(A1AED0,"^") D PRT S COUNT=COUNT+1 Q:X["^"
"RTN","A1AEPH4",19,0)
 Q
"RTN","A1AEPH4",20,0)
 ;
"RTN","A1AEPH4",21,0)
PRT D HD:($Y+6)>IOSL!('$D(A1AEPGE)) Q:X["^"  W !,$P(A1AED1,"*")_"*"_$S($P(A1AED1,"*",2)=999:"DBA",1:$P(A1AED1,"*",2))_"*"_$P(A1AED1,"*",3),?15,$J($P(A1AED0,"^",6),3),?22,$E($P(A1AED0,"^",5),1,24),?49
"RTN","A1AEPH4",22,0)
 S Y=$P(A1AED0,"^",11) D DT^DIQ W ?62,$P($P(^DD(11005,7,0),$P(A1AED0,"^",7)_":",2),";",1)
"RTN","A1AEPH4",23,0)
 S Y=$P(A1AED0,"^",17) I Y W !?38,"Hold date: " D DT^DIQ
"RTN","A1AEPH4",24,0)
 I $D(^A1AE(11005,A1AEIFN,"Q","B")) S PRINT="",D0=A1AEIFN D PCHK^A1AEUTL1 K AZ,PRINT,D0
"RTN","A1AEPH4",25,0)
 Q
"RTN","A1AEPH4",26,0)
 ;
"RTN","A1AEPH4",27,0)
HD S:'$D(A1AEPGE) A1AEPGE=0 D CRCHK Q:X["^"  W @IOF,A1AEHD,?50 S Y=DT D DT^DIQ S A1AEPGE=A1AEPGE+1 W ?70,"Page: ",A1AEPGE W !,"between ",A1AEBEG," and ",A1AEND,!
"RTN","A1AEPH4",28,0)
 W !,"Patch",?15,"SEQ #",?22,"Patch Subject",?49,"Date",?62,"Priority",!,"Designation",?49,"Released",!,A1AELNE Q
"RTN","A1AEPH4",29,0)
 ;
"RTN","A1AEPH4",30,0)
CRCHK I A1AEPGE,$E(IOST,1)="C" W !!,*7,"Press RETURN to continue or '^' to stop " R X:DTIME Q
"RTN","A1AEPH5")
0^26^B8392255
"RTN","A1AEPH5",1,0)
A1AEPH5 ;RMO/ALBANY : Detailed Report of Verified Patches by Date;22 OCT 87 11:00 am;24 NOV 87 11:00 am ;6/29/07  10:59
"RTN","A1AEPH5",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH5",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92;Build 2
"RTN","A1AEPH5",4,0)
 S %DT="",X="T" D ^%DT S DT=Y D PKGPMT^A1AEVP G Q:X["^"!($D(A1AENOSL)) D DATE^A1AEUTL1 G Q:'$D(BEGDATE)!('$D(ENDDATE)) S BEGDATE=9999999-BEGDATE,ENDDATE=9999999-ENDDATE
"RTN","A1AEPH5",5,0)
 S PGM="START^A1AEPH5",VAR=$S($D(A1AEPKIF):"A1AEPKIF^DUZ^BEGDATE^ENDDATE",1:"DUZ^BEGDATE^ENDDATE") W ! D ZIS^A1AEUTL1 G Q:POP
"RTN","A1AEPH5",6,0)
 ;
"RTN","A1AEPH5",7,0)
START U IO K A1AEPGE,A1AELNE,^UTILITY($J,"W") S A1AEHD="DHCP Detailed Report of Released Patches",$P(A1AELNE,"-",78)="",^UTILITY($J,1)="D HD^A1AEPH2",DIWF="B4X",A1AEOUT="" ;SO DI*22*152
"RTN","A1AEPH5",8,0)
 S Y=9999999-BEGDATE D D^DIQ S A1AEBEG=Y S Y=9999999-ENDDATE D D^DIQ S A1AEND=Y I $D(A1AEPKIF) D GETDTV G Q
"RTN","A1AEPH5",9,0)
 F A1AEPKIF=0:0 S A1AEPKIF=+$O(^A1AE(11007,"AU",DUZ,A1AEPKIF)) Q:'A1AEPKIF!(A1AEOUT["^")  I $D(^A1AE(11007,A1AEPKIF,0)) D GETDTV:$P(^(0),"^",2)="Y"!($P(^(0),"^",4)="y")
"RTN","A1AEPH5",10,0)
 ;
"RTN","A1AEPH5",11,0)
Q I '$D(A1AEPGE)&$D(A1AEBEG)&$D(A1AEND) W !?3,"There were no patches released ",$S(A1AEBEG=A1AEND:"on "_A1AEBEG,1:"between "_A1AEBEG_" and "_A1AEND),"."
"RTN","A1AEPH5",12,0)
 W ! K ^UTILITY($J),DN,DXS,A1AEPKIF,A1AEPKNM,A1AEDTV,A1AEHD,A1AEOUT,A1AEIFN,A1AEPGE,BEGDATE,ENDDATE,A1AEBEG,A1AEND,VAR,PGM,POP,A1AENOSL,A1AELNE,A1AEPK D CLOSE^A1AEUTL1 Q
"RTN","A1AEPH5",13,0)
 ;
"RTN","A1AEPH5",14,0)
GETDTV F A1AEDTV=ENDDATE-1:0 S A1AEDTV=$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV)) Q:'A1AEDTV!(BEGDATE<A1AEDTV)!(A1AEOUT["^")  D GETIFN
"RTN","A1AEPH5",15,0)
 Q
"RTN","A1AEPH5",16,0)
 ;
"RTN","A1AEPH5",17,0)
GETIFN F A1AEIFN=0:0 S A1AEIFN=$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV,A1AEIFN)) Q:'A1AEIFN!(A1AEOUT["^")  I $D(^A1AE(11005,A1AEIFN,0)),$P(^(0),"^",8)="v" S D0=A1AEIFN K DXS D HD^A1AEPH2,^A1AEP K DN,DXS,^UTILITY($J,"W")
"RTN","A1AEPH5",18,0)
 Q
"RTN","A1AEPH6")
0^27^B21002501
"RTN","A1AEPH6",1,0)
A1AEPH6 ; RMO/ALBANY ;6/29/07  11:01
"RTN","A1AEPH6",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH6",3,0)
COMDIS ;Display a Completed/NotReleased Patch
"RTN","A1AEPH6",4,0)
 S DIC("A")="Select PATCH: ",DIC("S")="I $P(^(0),U,8)=""c"",$S($D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0)):1,'$D(^A1AE(11007,+$P(^A1AE(11005,+Y,0),U,2),""PB"",DUZ,0)):0,$P(^(0),U,2)=""V"":1,1:0)",DIC="^A1AE(11005,",DIC(0)="AEMQ"
"RTN","A1AEPH6",5,0)
 W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S (A1AEIFN,D0)=+Y,A1AEPD=$P(Y,U,2),A1AEVPR="",A1AEHD="DHCP Completed/NotReleased Patch Display"
"RTN","A1AEPH6",6,0)
 W ! S %ZIS="",A1AEPGE=0 D ^%ZIS G Q:POP K IOP,%ZIS U IO S ^UTILITY($J,1)="D HD^A1AEPH2",DIWF="B4X" K ^UTILITY($J,"W"),DXS D HD^A1AEPH2,^A1AEP K DN,DXS I $D(A1AEOUT),A1AEOUT["^" G Q ;SO DI*22*152
"RTN","A1AEPH6",7,0)
 D Q G COMDIS
"RTN","A1AEPH6",8,0)
 ;
"RTN","A1AEPH6",9,0)
PATDIS ;Display a Patch
"RTN","A1AEPH6",10,0)
 ;                  Verified      !ent.in err!retired    &
"RTN","A1AEPH6",11,0)
 S DIC("S")="I ($P(^(0),U,8)=""v""!($P(^(0),U,8)=""e"")!($P(^(0),U,8)=""r""))&($S('$D(^A1AE(11007,+$P(^(0),U,2),0)):0,$P(^(0),U,2)=""Y"":1,$P(^(0),U,4)=""y""&($D(^A1AE(11007,""AU"",DUZ,+$P(^A1AE(11005,+Y,0),U,2)))):1,1:0))"
"RTN","A1AEPH6",12,0)
 S DIC("S")=DIC("S")_"!$D(^A1AE(11007,""AD"",DUZ,+$P(^A1AE(11005,+Y,0),U,2)))"
"RTN","A1AEPH6",13,0)
 ; ( not no 11007 record for package ! user selection permitted ! ("test site only"& user is [self]"selected" for package )
"RTN","A1AEPH6",14,0)
 S DIC("A")="Select PATCH: ",DIC="^A1AE(11005,",DIC(0)="AEMQ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S (A1AEIFN,D0)=+Y,A1AEPD=$P(Y,U,2),A1AEVPR="",A1AEHD="DHCP Patch Display"
"RTN","A1AEPH6",15,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPH6",16,0)
 ;I $P(^A1AE(11005,A1AEIFN,0),"^",8)="e"!($P(^(0),"^",8)="r") S DHD="@",L=0,DIC="^A1AE(11005," D SETFLDS S BY="'INTERNAL(#.01)",(FR,TO)=A1AEIFN W ! S IOP="HOME" D EN1^DIP
"RTN","A1AEPH6",17,0)
 I $P(^A1AE(11005,A1AEIFN,0),"^",8)="e"!($P(^(0),"^",8)="r") S DHD="@",L=0,DIC="^A1AE(11005," D SETFLDS S BY="",(FR,TO)=A1AEIFN W !  D EN1^DIP G Q
"RTN","A1AEPH6",18,0)
 I $P(^A1AE(11005,A1AEIFN,0),"^",8)="v"!$D(^A1AE(11007,"AD",DUZ,+$P(^A1AE(11005,+A1AEIFN,0),U,2))) W ! S %ZIS="",A1AEPGE=0 D ^%ZIS G Q:POP D  I $D(A1AEOUT),A1AEOUT["^" G Q
"RTN","A1AEPH6",19,0)
 .  K IOP,%ZIS U IO S ^UTILITY($J,1)="D HD^A1AEPH2",DIWF="B4X" K ^UTILITY($J,"W"),DXS D HD^A1AEPH2,^A1AEP K DN,DXS ;SO DI*22*152
"RTN","A1AEPH6",20,0)
 D Q G PATDIS
"RTN","A1AEPH6",21,0)
 ;
"RTN","A1AEPH6",22,0)
SETFLDS I $P(^A1AE(11005,A1AEIFN,0),"^",8)="e" S FLDS="D HD^A1AEPH2;X;"""",""Subject:"";C1;S1,5;"""",""Entered in Error Description:"";C1;S1,8.5;C1;S1;"""""
"RTN","A1AEPH6",23,0)
 I $P(^A1AE(11005,A1AEIFN,0),"^",8)="r" S FLDS="D HD^A1AEPH2;X;"""",""Subject:"";C1;S1,5;"""",""Description:"";C1;S1,5.5;C1;S1;"""",""Retired After Version:"";C1;S1,15;"""",""Retirement Comments:"";C1;S1,15.5;C1;S1;"""""
"RTN","A1AEPH6",24,0)
 Q
"RTN","A1AEPH6",25,0)
 ;
"RTN","A1AEPH6",26,0)
EXTDIS ;Extended Display of a Patch
"RTN","A1AEPH6",27,0)
 S DIC("A")="Select PATCH: ",DIC("S")="I $D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))",DIC="^A1AE(11005,",DIC(0)="AEMQ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S (DA,A1AEIFN)=+Y D USRPMT G Q:X="^"
"RTN","A1AEPH6",28,0)
 D Q G EXTDIS
"RTN","A1AEPH6",29,0)
 ;
"RTN","A1AEPH6",30,0)
USRPMT ;Developer can display when a select user printed a patch, or the
"RTN","A1AEPH6",31,0)
 ;entire patch including all users who printed it.
"RTN","A1AEPH6",32,0)
 S A1AERD("A")="Do you want to know when a specific user printed this patch? ",A1AERD(0)="S",A1AERD(1)="Yes^print when a specific user saw this patch",A1AERD(2)="No^print patch details WITHOUT selected users",A1AERD("B")=2 ; << REW
"RTN","A1AEPH6",33,0)
 W ! D SET^A1AERD K A1AERD Q:X="^"  G USR:"Y"[$E(X,1) I "N"[$E(X,1) S DR="0;C;D;E;P" W ! D EN^DIQ ; ;2 deleted to remove who/when info.  <<  REW
"RTN","A1AEPH6",34,0)
 Q
"RTN","A1AEPH6",35,0)
 ;
"RTN","A1AEPH6",36,0)
USR S DIC="^VA(200,",DIC(0)="AEMQ" W ! D ^DIC Q:Y<0  S A1AEDUZ=+Y
"RTN","A1AEPH6",37,0)
 I $D(^A1AE(11005,A1AEIFN,2,A1AEDUZ,0)) W !!?3,"Printed patch initially on " S Y=$P(^(0),"^",2) D DT^DIQ I $P(^(0),"^",2)'=$P(^(0),"^",3) W " and last on " S Y=$P(^(0),"^",3) D DT^DIQ
"RTN","A1AEPH6",38,0)
 W:'$D(^A1AE(11005,A1AEIFN,2,A1AEDUZ,0)) !!?3,"Never printed patch" K A1AEDUZ G USR
"RTN","A1AEPH6",39,0)
 ;
"RTN","A1AEPH6",40,0)
Q W ! K ^UTILITY($J),DN,D0,DXS,DIS(0),A1AEOUT,A1AES,A1AED0,A1AEIX,A1AEJ,A1AEN,A1AEI,A1AEAB,A1AED,A1AEHD,A1AELNE,IOP,FLDS,BY,L,FR,TO,DIS,A1AEPD
"RTN","A1AEPH6",41,0)
 K A1AEIFN,A1AESCN,A1AEVPR,A1AEPKIF,A1AEPKNM,A1AEPK,A1AEVR,A1AETY,A1AEVPR,POP,PGM,VAR,A1AEPGE D CLOSE^A1AEUTL1 Q
"RTN","A1AEPH6",42,0)
 ;
"RTN","A1AEPH6",43,0)
       
"RTN","A1AEPH7")
0^28^B143295
"RTN","A1AEPH7",1,0)
A1AEPH7 ; RMO/ALBANY ;10/17/07  15:08
"RTN","A1AEPH7",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH7",3,0)
 ;Version 1.1
"RTN","A1AEPH7",4,0)
 D PKG^A1AEUTL G Q:'$D(A1AEPK) D VER^A1AEUTL G Q:'$D(A1AEVR)
"RTN","A1AEPH7",5,0)
 S A1AERD("A")=1
"RTN","A1AEPH7",6,0)
Q Q
"RTN","A1AEPH8")
0^29^B13651595
"RTN","A1AEPH8",1,0)
A1AEPH8 ; RMO/ALBANY ; Copy a Patch into a New Patch ;24 NOV 87 11:00 am
"RTN","A1AEPH8",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPH8",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;11/23/92
"RTN","A1AEPH8",4,0)
 ;added logic to copy 11005.1 if present, PCOPY
"RTN","A1AEPH8",5,0)
COPY S DIC("A")="Select PATCH TO COPY: ",DIC("S")="I $D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))",DIC="^A1AE(11005,",DIC(0)="AEMQZ" W ! D ^DIC K DIC("A"),DIC("S") Q:Y<0  S A1AEIFN=+Y,A1AEOLPD=$P(Y(0),"^",1),A1AEPKIF=$P(Y(0),"^",2)
"RTN","A1AEPH8",6,0)
 K A1AEVR I $P(A1AEOLPD,"*",2)=999 S $P(A1AEOLPD,"*",2)="DBA",A1AEVR=999
"RTN","A1AEPH8",7,0)
 S A1AERD("A")="Do you want to copy patch "_A1AEOLPD_"? ",A1AERD(0)="S",A1AERD(1)="Yes^copy "_A1AEOLPD_" patch information",A1AERD(2)="No^not copy patch information",A1AERD("B")=2 D SET^A1AERD K A1AERD G Q:X="^",COPY:"N"[$E(X,1)
"RTN","A1AEPH8",8,0)
 I $D(^DIC(9.4,A1AEPKIF,0)) S A1AEPKNM=$P(^(0),"^",1),A1AEPK=$P(^(0),"^",2)
"RTN","A1AEPH8",9,0)
 K ^UTILITY($J,"A1AECOP") S %X="^A1AE(11005,A1AEIFN,",%Y="^UTILITY($J,""A1AECOP""," W !!?3,"...copying ",A1AEOLPD," patch into utility global" D %XY^%RCR
"RTN","A1AEPH8",10,0)
NEW G Q:'$D(A1AEPK) S A1AEFL=11005,A1AETY="PH",A1AE(0)="AEQL" W !!,"Copy into a new patch for: ",A1AEPKNM,! I '$D(A1AEVR) D VER^A1AEUTL G Q:'$D(A1AEVR)
"RTN","A1AEPH8",11,0)
 I A1AEVR=999,$P(A1AEOLPD,"*",2)'="DBA" W !!?3,*7,"This version is reserved for 'DBA' type patches!" K A1AEVR G NEW
"RTN","A1AEPH8",12,0)
 D NUM^A1AEUTL G Q:'$D(A1AEPD) W !!?3,"...modifying utility global for new patch "
"RTN","A1AEPH8",13,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPH8",14,0)
 S $P(^UTILITY($J,"A1AECOP",0),"^",1,5)=$P(^A1AE(A1AEFL,DA,0),"^",1,5),$P(^UTILITY($J,"A1AECOP",0),"^",8,14)="u"_"^"_DUZ_"^^^"_DT_"^^" K ^UTILITY($J,"A1AECOP",2),^("E")
"RTN","A1AEPH8",15,0)
 ;
"RTN","A1AEPH8",16,0)
 S %X="^UTILITY($J,""A1AECOP"",",%Y="^A1AE(11005,DA," W !!?3,"...copying modified utility global into new patch ",A1AEPD D %XY^%RCR S DIK="^A1AE(11005," D IX1^DIK K DIK
"RTN","A1AEPH8",17,0)
 ;
"RTN","A1AEPH8",18,0)
PCOPY S (AXMZ,ADT)="" I $P(A1AEOLPD,"*",1,2)'=$P(A1AEPD,"*",1,2) W !!?3,*7,"...different versions!  patch MESSAGE text not copied" D FILE,ADD G Q
"RTN","A1AEPH8",19,0)
 I $D(^A1AE(11005.1,A1AEIFN,0)) S AXMZ=$P(^(0),"^",2),ADT=$P(^(0),"^",3)
"RTN","A1AEPH8",20,0)
 D FILE
"RTN","A1AEPH8",21,0)
 I $D(^A1AE(11005.1,A1AEIFN,2)) S %X="^A1AE(11005.1,A1AEIFN,2,",%Y="^A1AE(11005.1,DA,2," W !!?3,"...copying patch message" D %XY^%RCR S $P(^A1AE(11005.1,DA,2,0),U,5)=DT
"RTN","A1AEPH8",22,0)
ADD W !!,"Patch Added: ",A1AEPD,! S DIE="^A1AE(11005,",DR="[A1AE ADD/EDIT PATCHES]" D ^DIE K DQ,DE,DIE
"RTN","A1AEPH8",23,0)
 ;remove SEQ # and COMPLIANCE DATE if its there.
"RTN","A1AEPH8",24,0)
 I $G(DA) S $P(^A1AE(11005,DA,0),"^",6)="",$P(^A1AE(11005,DA,0),"^",18)=""
"RTN","A1AEPH8",25,0)
 ;
"RTN","A1AEPH8",26,0)
Q K DA,AXMZ,ADT K ^UTILITY($J,"A1AECOP"),A1AEOLPD,A1AE0,A1AEPKIF,A1AEPKNM,A1AEPD,A1AEPK,A1AEVR,A1AENB,A1AEFL,A1AETY Q
"RTN","A1AEPH8",27,0)
 ;added (x,)
"RTN","A1AEPH8",28,0)
FILE S (X,DINUM)=DA,DIC="^A1AE(11005.1,",DIC("DR")="2///"_AXMZ_";3///"_ADT_";20///"_"No routines included" K DD,DO D FILE^DICN K DE,DQ,DR,DIC("DR") Q
"RTN","A1AEPHPK")
0^30^B34583085
"RTN","A1AEPHPK",1,0)
A1AEPK ; ISF/RWF ;6/29/07  11:03
"RTN","A1AEPHPK",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPHPK",3,0)
 ;;Version 2.3;PROBLEM/PATCH REPORTING;**2**;11/23/92;Build 2
"RTN","A1AEPHPK",4,0)
 G:$D(^DOPT("A1AEPK",5)) A S ^DOPT("A1AEPK",0)="Entry/Edit Package Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPK",I,0)=$P(X,";;",2,99)
"RTN","A1AEPHPK",5,0)
 S DIK="^DOPT(""A1AEPK""," D IXALL^DIK
"RTN","A1AEPHPK",6,0)
A W !! S DIC="^DOPT(""A1AEPK"",",DIC(0)="AEMQ" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPHPK",7,0)
 ;
"RTN","A1AEPHPK",8,0)
1 ;;Add a Package
"RTN","A1AEPHPK",9,0)
 ;N A1AEFL,A1AETY,A1AEPKIF,A1AEPK,A1AEVR
"RTN","A1AEPHPK",10,0)
 S A1AEFL=11005,A1AETY="PK",DIC("S")="I $D(^A1AE(11007,+Y,""PH"",DUZ,0))" D PKG^A1AEUTL G Q:'$D(A1AEPK)
"RTN","A1AEPHPK",11,0)
 D VER G Q:'$D(A1AEVR)
"RTN","A1AEPHPK",12,0)
 S A1AENB=0,X=A1AEPK_"*"_A1AEVR_"*0",DIC="^A1AE(11005,",DIC(0)="LE" D ^DIC Q:Y<1
"RTN","A1AEPHPK",13,0)
 S DA=+Y,A1AEPD=$P(Y,U,2),A1AEPD2=$TR($P(A1AEPD,"*",1,2),"*"," "),$P(^A1AE(11005,DA,0),U,2,4)=A1AEPKIF_U_A1AEVR_U_"0"
"RTN","A1AEPHPK",14,0)
 W !!,"Package Added: ",A1AEPD2,!
"RTN","A1AEPHPK",15,0)
 S $P(^A1AE(11005,DA,0),"^",8)="u",$P(^(0),"^",9)=DUZ,$P(^(0),"^",12)=DT,^A1AE(11005,"AS",A1AEPKIF,A1AEVR,"u",A1AENB,DA)=""
"RTN","A1AEPHPK",16,0)
 S DIE="^A1AE(11005,",DR="40///"_A1AEPD2 D ^DIE
"RTN","A1AEPHPK",17,0)
 ;
"RTN","A1AEPHPK",18,0)
 S (X,DINUM)=DA,DIC="^A1AE(11005.1,",DIC("DR")="20///"_"No routines included" K DD,DO D FILE^DICN K DE,DQ,DR,DIC("DR")
"RTN","A1AEPHPK",19,0)
 S (X,DINUM)=DA,DIC="^A1AE(11005.5," K DD,D0 D FILE^DICN K DE,DQ,DR
"RTN","A1AEPHPK",20,0)
 ;
"RTN","A1AEPHPK",21,0)
 S DR="[A1AE ADD/EDIT PATCHES]" D ^DIE K DQ,DE,DIE
"RTN","A1AEPHPK",22,0)
 D Q G 1
"RTN","A1AEPHPK",23,0)
 ;
"RTN","A1AEPHPK",24,0)
2 ;;Delete an Unverified Package
"RTN","A1AEPHPK",25,0)
 S DIC("A")="Select PATCH: ",DIC("S")="I ($P(^(0),U,8)=""u""!($P(^(0),U,8)=""c"")),$D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))",DIC="^A1AE(11005,",DIC(0)="AEMQZ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S DA=+Y,A1AEPD=$P(Y,U,2),A1AE0=Y(0)
"RTN","A1AEPHPK",26,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPHPK",27,0)
 S A1AEPD2=$P($G(^A1AE(11005,DA,4)),U,1)
"RTN","A1AEPHPK",28,0)
PMT2 W !!,"Are you sure you want to delete package "_A1AEPD2_"? N// " R X:DTIME G Q:'$T!(X="^")!("Nn"[$E(X,1)) G DEL2:"Yy"[$E(X,1) W:X'["?" *7 W !!,"Enter Y to delete the selected patch, or N to exit." G PMT2
"RTN","A1AEPHPK",29,0)
DEL2 S DIK="^A1AE(11005," D ^DIK W !!?3,"...deletion of "_A1AEPD_" from 'DHCP Patch File' completed"
"RTN","A1AEPHPK",30,0)
 L ^A1AE(11007,$P(A1AE0,"^",2),"V",$P(A1AE0,"^",3),"PH") I $D(^A1AE(11007,$P(A1AE0,"^",2),"V",$P(A1AE0,"^",3),"PH")) S:$P(A1AE0,"^",4)<^("PH") ^("PH")=$P(A1AE0,"^",4) L
"RTN","A1AEPHPK",31,0)
 ;delete message entry
"RTN","A1AEPHPK",32,0)
 S DIK="^A1AE(11005.1," D ^DIK
"RTN","A1AEPHPK",33,0)
 G Q
"RTN","A1AEPHPK",34,0)
 ;
"RTN","A1AEPHPK",35,0)
3 ;;Edit a Package
"RTN","A1AEPHPK",36,0)
 N A1AESTOP
"RTN","A1AEPHPK",37,0)
 S A1AESTOP=0
"RTN","A1AEPHPK",38,0)
 F  D  D Q Q:A1AESTOP
"RTN","A1AEPHPK",39,0)
 . N DIC,X,Y,DA,A1AEPD
"RTN","A1AEPHPK",40,0)
 . S DIC("A")="Select PACKAGE: "
"RTN","A1AEPHPK",41,0)
 . S DIC("S")="I $D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))"
"RTN","A1AEPHPK",42,0)
 . S DIC="^A1AE(11005,",DIC(0)="AEMQ"
"RTN","A1AEPHPK",43,0)
 . W !
"RTN","A1AEPHPK",44,0)
 . D ^DIC I Y<0 S A1AESTOP=1 Q
"RTN","A1AEPHPK",45,0)
 . S DA=+Y,A1AEPD=$P(Y,U,2),A1AEPD2=$P($G(^A1AE(11005,DA,4)),U) K DIC Q:A1AEPD2=""
"RTN","A1AEPHPK",46,0)
 . ;I $P(A1AEPD,"*",2)=999 S $P(A1AEPD,"*",2)="DBA"
"RTN","A1AEPHPK",47,0)
 . I '$D(^A1AE(11005.1,DA,0)) D
"RTN","A1AEPHPK",48,0)
 . . N DINUM,DD,DO,DIC
"RTN","A1AEPHPK",49,0)
 . . S (X,DINUM)=DA,DIC(0)="LE",DIC="^A1AE(11005.1,"
"RTN","A1AEPHPK",50,0)
 . . S DIC("DR")="20///No routines included"
"RTN","A1AEPHPK",51,0)
 . . D FILE^DICN
"RTN","A1AEPHPK",52,0)
 . W !!,"Editing Package: ",A1AEPD2,!
"RTN","A1AEPHPK",53,0)
 . L +^A1AE(11005,DA):5 E  D  Q
"RTN","A1AEPHPK",54,0)
 . . W !,$C(7),"This package is being edited by another user" H 3
"RTN","A1AEPHPK",55,0)
 . N A1AEOLD
"RTN","A1AEPHPK",56,0)
 . S A1AEOLD=$P($G(^A1AE(11005,DA,0)),U,8)
"RTN","A1AEPHPK",57,0)
 . D
"RTN","A1AEPHPK",58,0)
 . . N A1AEOLD,DIE,DR ; Preserve A1AEOLD.  It's killed in Q^A1AEPHS
"RTN","A1AEPHPK",59,0)
 . . S DIE="^A1AE(11005,",DR="[A1AE ADD/EDIT PATCHES]"
"RTN","A1AEPHPK",60,0)
 . . D ^DIE
"RTN","A1AEPHPK",61,0)
 . N A1AE0,A1AENEW
"RTN","A1AEPHPK",62,0)
 . S A1AE0=$G(^A1AE(11005,DA,0))
"RTN","A1AEPHPK",63,0)
 . L -^A1AE(11005,DA)
"RTN","A1AEPHPK",64,0)
 . S A1AENEW=$P(A1AE0,U,8)
"RTN","A1AEPHPK",65,0)
 . I A1AEOLD'="v"!(A1AENEW'="e") Q
"RTN","A1AEPHPK",66,0)
 . ; Send the 'Entered in Error' bulletin
"RTN","A1AEPHPK",67,0)
 . N A1AETX,X,A1AEOPT
"RTN","A1AEPHPK",68,0)
 . S A1AEOPT="'Entered in Error'"
"RTN","A1AEPHPK",69,0)
 . S X=$$GET1^DIQ(11005,DA_",",8.5,"Z","A1AETX")
"RTN","A1AEPHPK",70,0)
 . S A1AETX(.1,0)=""
"RTN","A1AEPHPK",71,0)
 . S A1AETX(.2,0)="Entered in Error Description:"
"RTN","A1AEPHPK",72,0)
 . D BOTH^A1AEPHS
"RTN","A1AEPHPK",73,0)
 Q
"RTN","A1AEPHPK",74,0)
 ;
"RTN","A1AEPHPK",75,0)
4 ;;Verify a Package
"RTN","A1AEPHPK",76,0)
 S DIC("A")="Select PACKAGE: ",DIC("S")="I $P(^(0),U,8)=""c"",$D(^A1AE(11007,+$P(^(0),U,2),""PB"",DUZ,0)),$P(^(0),U,2)=""V""",DIC="^A1AE(11005,",DIC(0)="AEMQZ"
"RTN","A1AEPHPK",77,0)
 W ! D ^DIC K DIC G Q:Y<0 S (A1AEIFN,DA)=+Y,A1AEPD=$P(Y,U,2),A1AEPD2=$P($G(^A1AE(11005,DA,4)),U) Q:A1AEPD2=""
"RTN","A1AEPHPK",78,0)
 ;S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPHPK",79,0)
 ;
"RTN","A1AEPHPK",80,0)
 S Y=$P(Y(0),"^",17) I Y,Y>DT W !!,"Do not release until: " D DT^DIQ
"RTN","A1AEPHPK",81,0)
 S A1AEST=$S($P(Y(0),U,7)="e":2,1:31) ;get status
"RTN","A1AEPHPK",82,0)
 ;
"RTN","A1AEPHPK",83,0)
 W !!,"Internal Comments to developers/releasers for: ",A1AEPD2,! K Y S DIE="^A1AE(11005,",DR="16;" D ^DIE K DQ,DE,DIE,DIC,DR,D0,DA
"RTN","A1AEPHPK",84,0)
 W ! S DIR(0)="Y",DIR("B")="No",DIR("A")="Continue and Display Patch " D ^DIR K DIR I 'Y D Q G 4
"RTN","A1AEPHPK",85,0)
 ;check routine patches
"RTN","A1AEPHPK",86,0)
 F AX=0:0 S AX=$O(^A1AE(11005,A1AEIFN,"P",AX)) Q:'AX  I $D(^(AX,0)) S X=^(0) D RCHK^A1AEM2
"RTN","A1AEPHPK",87,0)
 W ! S DIR(0)="E" D ^DIR K DIR I 'Y D Q G 4
"RTN","A1AEPHPK",88,0)
 ;
"RTN","A1AEPHPK",89,0)
 S D0=A1AEIFN,A1AEVPR="",A1AEHD="DHCP Completed/NotReleased Patch Display"
"RTN","A1AEPHPK",90,0)
 W ! S %ZIS="",A1AEPGE=0 D ^%ZIS G Q:POP K IOP,%ZIS U IO S ^UTILITY($J,1)="D HD^A1AEPH2",DIWF=B4X" K ^UTILITY($J,"W"),DXS D HD^A1AEPH2,^A1AEP ;SO DI*22*152
"RTN","A1AEPHPK",91,0)
 K DN,DXS,DIWF ;;; I A1AEOUT'["^" B  G Q
"RTN","A1AEPHPK",92,0)
 K A1AEHD,A1AELNE,A1AEOUT,A1AEPGE,A1AEVPR D CLOSE^A1AEUTL1
"RTN","A1AEPHPK",93,0)
 S X2=A1AEST,X1=DT D C^%DTC S Y=X D DD^%DT S A1AEST=Y
"RTN","A1AEPHPK",94,0)
 W !!,"Releasing Package: ",A1AEPD2,! K Y
"RTN","A1AEPHPK",95,0)
 S DA=A1AEIFN,DIE="^A1AE(11005,",DR="18//^S X=A1AEST;8;S Y=$S(X=""e"":""@10"",1:"""");@10;8.5" ;;;D ^DIE K DQ,DE
"RTN","A1AEPHPK",96,0)
 L +@(DIE_DA_")"):5
"RTN","A1AEPHPK",97,0)
 I '$T W !,$C(7),"This package is being released by another user" H 3
"RTN","A1AEPHPK",98,0)
 E  D ^DIE K DQ,DE L -@(DIE_DA_")")
"RTN","A1AEPHPK",99,0)
 D Q G 4
"RTN","A1AEPHPK",100,0)
 ;
"RTN","A1AEPHPK",101,0)
6 ;;Create a packman message
"RTN","A1AEPHPK",102,0)
 G PACK^A1AEM
"RTN","A1AEPHPK",103,0)
 ;
"RTN","A1AEPHPK",104,0)
7 ;;Forward a Complete/unverified message
"RTN","A1AEPHPK",105,0)
 G FCOM^A1AEM2
"RTN","A1AEPHPK",106,0)
 ;
"RTN","A1AEPHPK",107,0)
8 ;;Forward a Verified patch message
"RTN","A1AEPHPK",108,0)
 G FVER^A1AEM2
"RTN","A1AEPHPK",109,0)
 ;
"RTN","A1AEPHPK",110,0)
Q K ^UTILITY($J,"A1AECOP"),A1AEOLPD,A1AE0,A1AEPKIF,A1AEPKNM,A1AEPD,A1AEPD2,A1AEPK,A1AEVR,A1AENB,A1AEFL,A1AETY
"RTN","A1AEPHPK",111,0)
 K DIK,A1AEHD,A1AEIFN,A1AELNE,A1AEOUT,A1AEPGE,A1AEVPR
"RTN","A1AEPHPK",112,0)
 K AEQ,A1AESUB,A1AETX,A1AEXMZ,A1NAM,A1NAM1,AX,AXMZ,A1AEST,A1AETVR
"RTN","A1AEPHPK",113,0)
 K JL2,SAVEX,C,D0,DA,DI,DIG,DIH,DIW,DIV,DR,XMB,XMDT,XMDUZ,XMM,XMSUB Q
"RTN","A1AEPHPK",114,0)
 ;
"RTN","A1AEPHPK",115,0)
VER ;Get a NEW Version #.
"RTN","A1AEPHPK",116,0)
 N VR,CV
"RTN","A1AEPHPK",117,0)
 S CV=$O(^A1AE(11007,A1AEPKIF,"V",""),-1)
"RTN","A1AEPHPK",118,0)
 R !,"New Version Number: ",VR Q:'VR
"RTN","A1AEPHPK",119,0)
 I VR'>CV W !,"The New Package Version must be greater than the current version of ",CV G VER
"RTN","A1AEPHPK",120,0)
 S A1AEVR=VR
"RTN","A1AEPHPK",121,0)
 Q
"RTN","A1AEPHS")
0^31^B66009955
"RTN","A1AEPHS",1,0)
A1AEPHS ; RMO,MJK/ALBANY - Logic from DD, U triggers test Message ;12/17/09  08:09
"RTN","A1AEPHS",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPHS",3,0)
 ;
"RTN","A1AEPHS",4,0)
 ;logic from dd,  U triggers test MESSAGE if underdevlopment
"RTN","A1AEPHS",5,0)
 ;I A1AEOLD="c","Uu"'[$E(X_0,1) Q  ;allow c=>u in template
"RTN","A1AEPHS",6,0)
 K TESTMES
"RTN","A1AEPHS",7,0)
 I "Uu"[$E(X_0,1),A1AEOLD="u" S X="u",TESTMES=1
"RTN","A1AEPHS",8,0)
 I A1AEOLD=$E(X,1),X'="u" Q  ;only allow u=>u if u/U entered
"RTN","A1AEPHS",9,0)
 ;
"RTN","A1AEPHS",10,0)
 I '($D(DUZ)#2) W !?3,"Your user code (DUZ) must be defined to change the status of a patch." K X G Q
"RTN","A1AEPHS",11,0)
 N A1AE0,A1AEDA ;rwf
"RTN","A1AEPHS",12,0)
 S A1AEDA=DA,A1AE0=$S($D(^A1AE(11005,DA,0)):^(0),1:""),A1AENEW=$E(X,1),A1AEOLD=$C($A(A1AEOLD)-32)
"RTN","A1AEPHS",13,0)
 S A1AEOPT=$S(A1AENEW="c":"'Completed/NotReleased'",A1AENEW="v":"'Released'",A1AENEW="e":"'Entered in Error'",A1AENEW="r":"'Retired'",A1AENEW="x":"'Canceled'",1:"")
"RTN","A1AEPHS",14,0)
 ;U, C, V branch here
"RTN","A1AEPHS",15,0)
 I A1AEOLD="U"!(A1AEOLD="C")!(A1AEOLD="V") D @A1AEOLD G Q
"RTN","A1AEPHS",16,0)
 ;E, R branch here
"RTN","A1AEPHS",17,0)
 I A1AEOLD="E"!(A1AEOLD="R") D ER G Q
"RTN","A1AEPHS",18,0)
 ;others fall thru
"RTN","A1AEPHS",19,0)
NEW I A1AENEW'="u" W !?3,"The status of a new patch may only be entered as 'U'nder development!" K X G Q
"RTN","A1AEPHS",20,0)
 I '$D(^A1AE(11007,A1AEPKIF,"PH",DUZ,0)) W !?3,"You are not an authorized developer of this package." K X
"RTN","A1AEPHS",21,0)
 ;
"RTN","A1AEPHS",22,0)
Q K A1AEOLD,A1AENEW,A1AEOPT,A1AEX
"RTN","A1AEPHS",23,0)
 I $G(TESTMES) K TESTMES S X="u"
"RTN","A1AEPHS",24,0)
 Q
"RTN","A1AEPHS",25,0)
U I "cx"'[A1AENEW,'$G(TESTMES) W !?3,"The status may only be changed to 'C'ompleted/not released  or Canceled!" K X Q
"RTN","A1AEPHS",26,0)
 I '$D(^A1AE(11007,A1AEPKIF,"PH",DUZ,0)) W !?3,"You are not an authorized developer of this package." K X Q
"RTN","A1AEPHS",27,0)
 I A1AENEW="c",$P(^A1AE(11005,DA,0),"^",9)=DUZ,'$G(TESTMES) W !?3,"Please have another developer of the package review the patch and change",!?3,"the status to 'C'ompleted/not released." K X Q
"RTN","A1AEPHS",28,0)
 I '$G(TESTMES) D ASKCHG Q:X'=A1AEX  S SEQ="" D GET^A1AEMAL I '$D(XMZ) K X Q
"RTN","A1AEPHS",29,0)
 I $G(TESTMES) D ASKTST Q:$D(DUOUT)!($D(DTOUT))!('Y)  S SEQ="" D GET^A1AEMAL I '$D(XMZ) K X Q
"RTN","A1AEPHS",30,0)
 D MES^A1AEMAL I $G(TESTMES) DO  Q
"RTN","A1AEPHS",31,0)
 .K TESTMES,TVER,TXVER,SAVX,SEQ,XMY S X="u"
"RTN","A1AEPHS",32,0)
 I A1AENEW="x" Q  ;Canceled exit here
"RTN","A1AEPHS",33,0)
 K SEQ,XMY
"RTN","A1AEPHS",34,0)
 F I=0:0 S I=$O(^A1AE(11007,A1AEPKIF,"PB",I)) Q:'I  I $D(^(I,0)),$P(^(0),"^",2)="V" S XMY(I)=""
"RTN","A1AEPHS",35,0)
 S XMY(DUZ)=""
"RTN","A1AEPHS",36,0)
 D BUL
"RTN","A1AEPHS",37,0)
 Q
"RTN","A1AEPHS",38,0)
 ;
"RTN","A1AEPHS",39,0)
C I A1AENEW="u" G NEW
"RTN","A1AEPHS",40,0)
 I A1AENEW'="v" W !?3,"The status may only be changed to 'V' Released!" K X Q
"RTN","A1AEPHS",41,0)
 I '$D(^A1AE(11007,A1AEPKIF,"PB",DUZ,0)) W !?3,"You are not authorized to release patches of this package." K X Q
"RTN","A1AEPHS",42,0)
 I $D(^A1AE(11007,A1AEPKIF,"PB",DUZ,0)),$P(^(0),"^",2)'="V" W !?3,"You are not authorized to release patches of this package." K X Q
"RTN","A1AEPHS",43,0)
 I $P(^A1AE(11005,DA,0),"^",9)=DUZ!($P(^(0),"^",13)=DUZ) W !?3,"Please have an authorized releaser, other than the developer",!?3,"who entered the patch or completed the patch, release the",!?3,"patch." K X Q
"RTN","A1AEPHS",44,0)
 ;naked ref to this patch above .. hold date check
"RTN","A1AEPHS",45,0)
 S A1AEVR=$P(^(0),"^",3),Y=$P(^(0),"^",17) I Y>DT DO
"RTN","A1AEPHS",46,0)
 .W !?3,"This patch cannot be 'V'erified/released until: " D DT^DIQ K X
"RTN","A1AEPHS",47,0)
 ;naked ref to same entry above
"RTN","A1AEPHS",48,0)
 I $D(^("Q","B")) S CHECK="" D PCHK^A1AEUTL1 K CHECK I $D(AZ("STOP")) DO  K AZ,X
"RTN","A1AEPHS",49,0)
 .W !?3,"This patch cannot be 'V'erified/released before patch(s):"
"RTN","A1AEPHS",50,0)
 .S AZ=0 F  S AZ=$O(AZ("STOP",AZ)) Q:'AZ  W:$X>60 !,?62 W ?62,$P(AZ("STOP",AZ),"^")
"RTN","A1AEPHS",51,0)
 I '$D(X) W $C(7) K A1AEVR Q
"RTN","A1AEPHS",52,0)
 ;
"RTN","A1AEPHS",53,0)
 ;check for Patch message sent/but disconnect blew away 'v'status
"RTN","A1AEPHS",54,0)
 I $P($G(^A1AE(11005.1,DA,0)),"^",6),$P($G(^(0)),"^",7),A1AENEW="v" D NOMESS^A1AEMAL1 K A1AEVR Q
"RTN","A1AEPHS",55,0)
 ;
"RTN","A1AEPHS",56,0)
 D ASKCHG I X'=A1AEX K A1AEVR Q
"RTN","A1AEPHS",57,0)
 L +^A1AE(11007,A1AEPKIF,"V",A1AEVR) I '$D(A1AEPKV) D SEQ^A1AEUTL
"RTN","A1AEPHS",58,0)
 ;See if we can get a Mail Message
"RTN","A1AEPHS",59,0)
 K XMZ
"RTN","A1AEPHS",60,0)
 D GET^A1AEMAL I '$D(XMZ) D DELSEQ^A1AEUTL K X
"RTN","A1AEPHS",61,0)
 L -^A1AE(11007,A1AEPKIF,"V",A1AEVR) I '$D(X) K A1AEVR Q
"RTN","A1AEPHS",62,0)
 ;Build Mail Message
"RTN","A1AEPHS",63,0)
 D MES^A1AEMAL
"RTN","A1AEPHS",64,0)
 ;After building message, update version #
"RTN","A1AEPHS",65,0)
 D NEWVER^A1AEUTL(A1AEPKIF,DA)
"RTN","A1AEPHS",66,0)
 ;
"RTN","A1AEPHS",67,0)
BOTH ;Send Bulletin, Called from C and V. Setup address list
"RTN","A1AEPHS",68,0)
 K A1AEVR,SEQ,XMY
"RTN","A1AEPHS",69,0)
 N A1AETO,XMBTMP
"RTN","A1AEPHS",70,0)
 D INIT^XMXADDR
"RTN","A1AEPHS",71,0)
 S A1AETO=0
"RTN","A1AEPHS",72,0)
 I '$D(A1AEPKV) D
"RTN","A1AEPHS",73,0)
 . F  S A1AETO=$O(^A1AE(11007,A1AEPKIF,1,A1AETO)) Q:'A1AETO  D ADDRESS^XMXADDR(DUZ,A1AETO)
"RTN","A1AEPHS",74,0)
 I $D(A1AEPKV) D ADDRESS^XMXADDR(DUZ,"G.A1AE PACKAGE RELEASE")
"RTN","A1AEPHS",75,0)
 S XMBTMP=1,XMY(DUZ)=""
"RTN","A1AEPHS",76,0)
 D BUL
"RTN","A1AEPHS",77,0)
 Q
"RTN","A1AEPHS",78,0)
V ;
"RTN","A1AEPHS",79,0)
 I A1AENEW'="e",A1AENEW'="r"!($P(A1AE0,"^",3)'=999) W !?3,"The status may only be changed to 'E'ntered in error, or",!?3,"if it is a DBA type patch it can be 'R'etired!" K X Q
"RTN","A1AEPHS",80,0)
 I '$D(^A1AE(11007,A1AEPKIF,"PH",DUZ,0)) W !?3,"You are not an authorized developer of this package." K X Q
"RTN","A1AEPHS",81,0)
 D ASKCHG I X'=A1AEX Q
"RTN","A1AEPHS",82,0)
 I A1AENEW'="e" D BOTH Q
"RTN","A1AEPHS",83,0)
 N X
"RTN","A1AEPHS",84,0)
 ; The bulletin for "entered in error" will be sent in 3^A1AEPH1,
"RTN","A1AEPHS",85,0)
 ; after the developer has entered the error description.
"RTN","A1AEPHS",86,0)
 W !!,"Next, you will be asked for the 'Entered in Error Description'."
"RTN","A1AEPHS",87,0)
 W !,"Whatever you write will be included in the bulletin which will be sent"
"RTN","A1AEPHS",88,0)
 W !,"to all patch recipients, so make sure your description is complete.",!
"RTN","A1AEPHS",89,0)
 D WAIT^XMXUTIL
"RTN","A1AEPHS",90,0)
 Q
"RTN","A1AEPHS",91,0)
 ;
"RTN","A1AEPHS",92,0)
ER W !?3,"Once the status has been set to 'E'ntered in error or 'R'etired it can not be changed!" K X Q
"RTN","A1AEPHS",93,0)
 ;
"RTN","A1AEPHS",94,0)
ASKCHG S A1AEX=X,A1AERD("A")="Are you sure you want to change status to "_A1AEOPT_"? ",A1AERD(0)="S",A1AERD(1)="Yes^change status and send a message to users",A1AERD(2)="No^leave the status the same",A1AERD("B")=2
"RTN","A1AEPHS",95,0)
 D SET^A1AERD K A1AERD S X=$S("Y"[$E(X,1):A1AEX,1:$C($A(A1AEOLD)+32)) W !?3,"...status ",$S(A1AEX=X:"",1:"'not' "),"changed to ",A1AEOPT
"RTN","A1AEPHS",96,0)
 Q
"RTN","A1AEPHS",97,0)
 ;
"RTN","A1AEPHS",98,0)
BUL ;
"RTN","A1AEPHS",99,0)
 N X,XMTEXT,A1AEX
"RTN","A1AEPHS",100,0)
 S XMTEXT="A1AETX(",XMB="A1AE "_$S(A1AENEW="c":"COMPLETED",A1AENEW="v":"VERIFIED",A1AENEW="e":"ENTERED IN ERROR",A1AENEW="r":"RETIRED",1:"")_" PATCH"
"RTN","A1AEPHS",101,0)
 S A1AEX=$P($G(^A1AE(11005,DA,4)),U) I $L(A1AEX)>2 S XMB=$P(XMB,"PATCH")_"PACKAGE" ;rwf
"RTN","A1AEPHS",102,0)
 S XMB(1)=$P(^DIC(9.4,+$P(A1AE0,"^",2),0),"^",1),XMB(2)=$P(A1AE0,"^",1),XMB(3)=$P(A1AE0,"^",5)
"RTN","A1AEPHS",103,0)
 I A1AENEW="c"!(A1AENEW="v") S XMB(4)=$P($P(^DD(11005,7,0),$P(A1AE0,"^",7)_":",2),";",1)
"RTN","A1AEPHS",104,0)
 I A1AENEW'="v" S:$D(A1AESUB) XMB(6)=A1AESUB S:$D(A1AEXMZ) XMB(5)=A1AEXMZ
"RTN","A1AEPHS",105,0)
 S $P(XMB(2),"*",2)=$S($P(XMB(2),"*",2)=999:"DBA",1:$P(XMB(2),"*",2))
"RTN","A1AEPHS",106,0)
 S XMB(7)="" I $D(^A1AE(11005,"AC",+$P(A1AE0,"^",2),+$P(A1AE0,"^",3),"pp",+$P(A1AE0,"^",4))) S XMB(7)=" Category of Patch: PATCH FOR A PATCH"
"RTN","A1AEPHS",107,0)
 S (XMB(8),XMB(9))="" I A1AENEW="v" S Y=$O(^A1AE(11005,"B",$P(A1AE0,"^",1),0)),Y=$P(^A1AE(11005,Y,0),"^",18) D DD^%DT S XMB(9)="be installed by "_Y_" in compliance with Directive 2001-23."
"RTN","A1AEPHS",108,0)
 S:XMB(9)'="" XMB(8)="Unless otherwise indicated in the patch description, this patch should"
"RTN","A1AEPHS",109,0)
 I $L(A1AEX)>2 S XMB(2)=$P(A1AEX,U) ;rwf
"RTN","A1AEPHS",110,0)
 D M^A1AEUTL1
"RTN","A1AEPHS",111,0)
 W !!,"NOTE: A bulletin has been sent to ",$S(A1AENEW="c":"the CS Team",A1AENEW="v":"select users",A1AENEW="e"!(A1AENEW="r"):"users who have viewed this patch",1:"")
"RTN","A1AEPHS",112,0)
 ;W:A1AENEW="v" " Team"
"RTN","A1AEPHS",113,0)
 W:A1AENEW="c"!(A1AENEW="v") " for this package" W !?6,"informing them of this ",A1AEOPT," patch.",!
"RTN","A1AEPHS",114,0)
 I "^e^v^"[(U_A1AENEW_U) D ESSMSG
"RTN","A1AEPHS",115,0)
 Q
"RTN","A1AEPHS",116,0)
ESSMSG ; Send message to Remedy to let it know that a patch has been
"RTN","A1AEPHS",117,0)
 ; released or entered-in-error
"RTN","A1AEPHS",118,0)
 N XMTEXT,XMINSTR,STAT,PID,PRI,REL,COMP,I,CAT,%
"RTN","A1AEPHS",119,0)
 S PID=$P(A1AE0,U,1) I $P(PID,"*",2)=999 S $P(PID,"*",2)="DBA" ; Patch ID
"RTN","A1AEPHS",120,0)
 S:$L($G(A1AEX))>2 PID=A1AEX ;rwf
"RTN","A1AEPHS",121,0)
 S REL=$$FMTE^XLFDT(DT,"5Z") ; Release Date
"RTN","A1AEPHS",122,0)
 I A1AENEW="e" D
"RTN","A1AEPHS",123,0)
 . S STAT=2 ; Entered-in-Error
"RTN","A1AEPHS",124,0)
 . S (PRI,COMP,CAT)=""
"RTN","A1AEPHS",125,0)
 E  D
"RTN","A1AEPHS",126,0)
 . S STAT=3 ; Released
"RTN","A1AEPHS",127,0)
 . S COMP=$$FMTE^XLFDT($P(A1AE0,U,18),"5Z") ; Install by Date
"RTN","A1AEPHS",128,0)
 . S PRI=$P(A1AE0,U,7) ; Priority
"RTN","A1AEPHS",129,0)
 . S I=0,CAT=""
"RTN","A1AEPHS",130,0)
 . F  S I=$O(^A1AE(11005,+$G(DA),"C",I)) Q:'I  S CAT=CAT_","_^(I,0) ; Category
"RTN","A1AEPHS",131,0)
 . S CAT=$E(CAT,2,999)
"RTN","A1AEPHS",132,0)
 S XMTEXT(1)=STAT_$$LJ^XLFSTR(PID,30)_$$LJ^XLFSTR("",30)_$$LJ^XLFSTR(REL,22)_$$LJ^XLFSTR(COMP,22)_PRI_$$LJ^XLFSTR(CAT,23)
"RTN","A1AEPHS",133,0)
 S XMINSTR("FROM")="POSTMASTER"
"RTN","A1AEPHS",134,0)
 D SENDMSG^XMXAPI(DUZ,"NPM/ESS Transaction","XMTEXT","ESSRESOURCE@MED.VA.GOV",.XMINSTR)
"RTN","A1AEPHS",135,0)
 Q
"RTN","A1AEPHS",136,0)
 ;
"RTN","A1AEPHS",137,0)
ASKTST Q:'$D(^A1AE(11005.1,DA,0))
"RTN","A1AEPHS",138,0)
 W !!,?3,"Option to create a Patch message to send to test sites."
"RTN","A1AEPHS",139,0)
 S INXMZ=$P(^(0),"^",2)
"RTN","A1AEPHS",140,0)
 ;S XMZ=$P(^(0),"^",8)
"RTN","A1AEPHS",141,0)
 S TVER=$P(^(0),"^",12)+1
"RTN","A1AEPHS",142,0)
 ;
"RTN","A1AEPHS",143,0)
 ;I XMZ DO  I $D(DUOUT)!($D(DTOUT))!('Y) Q
"RTN","A1AEPHS",144,0)
 ;.W ! S DIR(0)="Y",DIR("B")="No"
"RTN","A1AEPHS",145,0)
 ;.S DIR("A")="Add additional recipients "
"RTN","A1AEPHS",146,0)
 ;.D ^DIR K DIR
"RTN","A1AEPHS",147,0)
 ;
"RTN","A1AEPHS",148,0)
 ;develope/test
"RTN","A1AEPHS",149,0)
 I 'INXMZ DO  I $D(DUOUT)!($D(DTOUT))!('Y) Q
"RTN","A1AEPHS",150,0)
 .W ! S DIR(0)="Y",DIR("B")="No"
"RTN","A1AEPHS",151,0)
 .S DIR("A")="This Patch has no routines, do you wish to continue "
"RTN","A1AEPHS",152,0)
 .D ^DIR K DIR
"RTN","A1AEPHS",153,0)
 ;
"RTN","A1AEPHS",154,0)
 ;save ADTM for the timestamp in 11005.1
"RTN","A1AEPHS",155,0)
 D NOW^%DTC S (ADTM,Y)=% D TM^A1AEUTL1
"RTN","A1AEPHS",156,0)
 S TXVER="TEST v"_TVER
"RTN","A1AEPHS",157,0)
 W !?3,TXVER
"RTN","A1AEPHS",158,0)
 W ?$X+3,"will be added to the Patch message subject."
"RTN","A1AEPHS",159,0)
 S DIR(0)="NO^1:99"
"RTN","A1AEPHS",160,0)
 S DIR("B")=TVER
"RTN","A1AEPHS",161,0)
 S DIR("A")="You may change the TEST v[#] if necessary."
"RTN","A1AEPHS",162,0)
 W ! D ^DIR K DIR
"RTN","A1AEPHS",163,0)
 I $D(DUOUT)!($D(DTOUT))!('Y) Q
"RTN","A1AEPHS",164,0)
 ;
"RTN","A1AEPHS",165,0)
 I Y'=TVER DO  I $D(DUOUT)!($D(DTOUT))!('Y) Q
"RTN","A1AEPHS",166,0)
 .;only if they change it if not sure start over
"RTN","A1AEPHS",167,0)
 .S TVER=Y,TXVER="TEST v"_TVER_$P(TXVER," ",3)
"RTN","A1AEPHS",168,0)
 .S DIR(0)="Y",DIR("B")="NO"
"RTN","A1AEPHS",169,0)
 .S DIR("A")="Are you sure you want to change Test version to `TEST V"_TVER_"' "
"RTN","A1AEPHS",170,0)
 .D ^DIR K DIR
"RTN","A1AEPHS",171,0)
 ;
"RTN","A1AEPHS",172,0)
 Q
"RTN","A1AEPHS",173,0)
XM I '$D(XMDUZ) S XMDUZ=DUZ
"RTN","A1AEPHS",174,0)
 S XMDUN=$P(^VA(200,XMDUZ,0),U),(XMKN,XMLOCK)="",XMK=0 Q
"RTN","A1AEPHSX")
0^32^B11332371
"RTN","A1AEPHSX",1,0)
A1AEPHS ; RMO,MJK/ALBANY ; Edit Checks for Status of Patch ; 3/12/85 4pm
"RTN","A1AEPHSX",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPHSX",3,0)
 ; Version 1.00
"RTN","A1AEPHSX",4,0)
 S A1AENEW=$E(X,1),A1AEOLD=$C($A(A1AEOLD)-32) I A1AEOLD="C"!(A1AEOLD="E")!(A1AEOLD="U")!(A1AEOLD="V") D @A1AEOLD G Q
"RTN","A1AEPHSX",5,0)
 ;
"RTN","A1AEPHSX",6,0)
NEW D CHKDEV G Q:'$D(X) I A1AENEW="v" W !?3,"The Status may only be set to 'C'ompleted/not verified, 'E'ntered in error, or 'U'nder development" K X
"RTN","A1AEPHSX",7,0)
 ;
"RTN","A1AEPHSX",8,0)
Q K A1AEOLD,A1AENEW Q
"RTN","A1AEPHSX",9,0)
 ;
"RTN","A1AEPHSX",10,0)
C I A1AENEW="u" W !?3,"The Status may not be changed to 'U'nder development" K X Q
"RTN","A1AEPHSX",11,0)
 I A1AENEW="e" D CHKDEV,CHKERR:$D(X) Q
"RTN","A1AEPHSX",12,0)
 I A1AENEW="v",$D(^A1AE(11007,A1AEPKIF,"PB",DUZ,0)),$P(^(0),"^",2)="V" Q
"RTN","A1AEPHSX",13,0)
 W !?3,"You are not an Authorized Verifier" K X
"RTN","A1AEPHSX",14,0)
 Q
"RTN","A1AEPHSX",15,0)
 ;
"RTN","A1AEPHSX",16,0)
E W !?3,"Once the Status has been set to 'E'ntered in error it can not be changed" K X Q
"RTN","A1AEPHSX",17,0)
 ;
"RTN","A1AEPHSX",18,0)
U I A1AENEW'="c" W !?3,"The Status may only be changed to 'C'ompleted/not verified!" W:A1AENEW="e" !?3,"Use the 'Delete Under Development Patches' option",!?3,"rather than 'Entered in Error' status" K X Q
"RTN","A1AEPHSX",19,0)
 D CHKDEV Q:'$D(X)  S XMB="A1AE COMPLETED PATCH",XMB(1)=$P(^DIC(9.4,$P(^A1AE(11005,DA,0),"^",2),0),"^",1),XMB(2)=$P(^A1AE(11005,DA,0),"^",1),XMB(3)=$P(^(0),"^",5)
"RTN","A1AEPHSX",20,0)
 S XMB(4)=$P($P(^DD(11005,7,0),$P(^A1AE(11005,DA,0),"^",7)_":",2),";",1)
"RTN","A1AEPHSX",21,0)
 S A1AEX=X D M^A1AEUTL1 S X=A1AEX K A1AEX W !!,?3,"...Selected Users have been notified" Q
"RTN","A1AEPHSX",22,0)
 ;
"RTN","A1AEPHSX",23,0)
V I A1AENEW="e" D CHKDEV,CHKERR:$D(X) Q
"RTN","A1AEPHSX",24,0)
 W !?3,"The Status may only be changed to 'E'ntered in error" K X Q
"RTN","A1AEPHSX",25,0)
 Q
"RTN","A1AEPHSX",26,0)
 ;
"RTN","A1AEPHSX",27,0)
CHKDEV I '$D(^A1AE(11007,A1AEPKIF,"PH",DUZ,0)) W !?3,"You are not an Authorized Developer" K X
"RTN","A1AEPHSX",28,0)
 Q
"RTN","A1AEPHSX",29,0)
 ;
"RTN","A1AEPHSX",30,0)
CHKERR R !!,"Are you sure you want to change the status to 'ENTERED IN ERROR'? No// ",X1:DTIME I '$T!(X1="^")!("Nn"[$E(X1,1)) S X=$C($A(A1AEOLD)+32) Q
"RTN","A1AEPHSX",31,0)
 I "Yy"[$E(X1,1) W !?3,"...Status changed to 'E'ntered in error" D SENDER Q
"RTN","A1AEPHSX",32,0)
 W:X1'["?" *7 W !!,"Enter Y to change the Status to 'E'ntered in Error, or N to leave the same." G CHKERR
"RTN","A1AEPHSX",33,0)
 ;
"RTN","A1AEPHSX",34,0)
SENDER S XMB="A1AE ENTERED IN ERROR PATCH",XMB(1)=$P(^DIC(9.4,$P(^A1AE(11005,DA,0),"^",2),0),"^",1),XMB(2)=$P(^A1AE(11005,DA,0),"^",1),XMB(3)=$P(^(0),"^",5) D M^A1AEUTL1 W !!?3,"...Selected Users have been notified",!
"RTN","A1AEPHSX",35,0)
 Q
"RTN","A1AEPHSZ")
0^33^B13656283
"RTN","A1AEPHSZ",1,0)
A1AEPHS ; RMO,MJK/ALBANY ; 20 MAR 86  1:30 PM ; 3/12/85 4pm
"RTN","A1AEPHSZ",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPHSZ",3,0)
 ; Version 1.00
"RTN","A1AEPHSZ",4,0)
 S A1AENEW=$E(X,1),A1AEOLD=$C($A(A1AEOLD)-32),A1AEOPT=$S(A1AENEW="e":"'Entered in Error'",A1AENEW="c":"'Completed/not verified'",1:"") I A1AEOLD="C"!(A1AEOLD="E")!(A1AEOLD="U")!(A1AEOLD="V") D @A1AEOLD G Q
"RTN","A1AEPHSZ",5,0)
 ;
"RTN","A1AEPHSZ",6,0)
NEW D CHKDEV G Q:'$D(X) I A1AENEW="v" W !?3,"The Status may only be set to 'C'ompleted/not verified, 'E'ntered in error, or 'U'nder development" K X
"RTN","A1AEPHSZ",7,0)
 ;
"RTN","A1AEPHSZ",8,0)
Q K A1AEOLD,A1AENEW,A1AEOPT,A1AEX Q
"RTN","A1AEPHSZ",9,0)
 ;
"RTN","A1AEPHSZ",10,0)
C I A1AENEW="u" W !?3,"The Status may not be changed to 'U'nder development" K X Q
"RTN","A1AEPHSZ",11,0)
 I A1AENEW="e" D CHKDEV Q:'$D(X)  D CHKSTA,SENDER:X=A1AEX Q
"RTN","A1AEPHSZ",12,0)
 I A1AENEW="v",$D(^A1AE(11007,A1AEPKIF,"PB",DUZ,0)),$P(^(0),"^",2)="V" Q
"RTN","A1AEPHSZ",13,0)
 W !?3,"You are not an Authorized Verifier" K X
"RTN","A1AEPHSZ",14,0)
 Q
"RTN","A1AEPHSZ",15,0)
 ;
"RTN","A1AEPHSZ",16,0)
E W !?3,"Once the Status has been set to 'E'ntered in error it can not be changed" K X Q
"RTN","A1AEPHSZ",17,0)
 ;
"RTN","A1AEPHSZ",18,0)
U I A1AENEW'="c" W !?3,"The Status may only be changed to 'C'ompleted/not verified!" W:A1AENEW="e" !?3,"Use the 'Delete Under Development Patches' option",!?3,"rather than 'Entered in Error' status" K X Q
"RTN","A1AEPHSZ",19,0)
 D CHKDEV Q:'$D(X)  D CHKSTA Q:X'=A1AEX  S XMB="A1AE COMPLETED PATCH",XMB(1)=$P(^DIC(9.4,$P(^A1AE(11005,DA,0),"^",2),0),"^",1),XMB(2)=$P(^A1AE(11005,DA,0),"^",1),XMB(3)=$P(^(0),"^",5)
"RTN","A1AEPHSZ",20,0)
 S XMB(4)=$P($P(^DD(11005,7,0),$P(^A1AE(11005,DA,0),"^",7)_":",2),";",1)
"RTN","A1AEPHSZ",21,0)
 S A1AEX=X D M^A1AEUTL1 S X=A1AEX K A1AEX W !!,?3,"...Selected Users have been notified" Q
"RTN","A1AEPHSZ",22,0)
 ;
"RTN","A1AEPHSZ",23,0)
V I A1AENEW="e" D CHKDEV Q:'$D(X)  D CHKSTA,SENDER:X=A1AEX Q
"RTN","A1AEPHSZ",24,0)
 W !?3,"The Status may only be changed to 'E'ntered in error" K X Q
"RTN","A1AEPHSZ",25,0)
 Q
"RTN","A1AEPHSZ",26,0)
 ;
"RTN","A1AEPHSZ",27,0)
CHKDEV I '$D(^A1AE(11007,A1AEPKIF,"PH",DUZ,0)) W !?3,"You are not an Authorized Developer" K X
"RTN","A1AEPHSZ",28,0)
 Q
"RTN","A1AEPHSZ",29,0)
 ;
"RTN","A1AEPHSZ",30,0)
CHKSTA S A1AEX=X,A1AERD("A")="Are you sure you want to change status to "_A1AEOPT_"? ",A1AERD(0)="S",A1AERD(1)="Yes^change status and send a message to users",A1AERD(2)="No^leave the status the same",A1AERD("B")=2
"RTN","A1AEPHSZ",31,0)
 W ! D SET^A1AERD K A1AERD S X=$S("Y"[$E(X,1):A1AEX,1:$C($A(A1AEOLD)+32)) W:A1AEX=X !?3,"...status changed to ",A1AEOPT
"RTN","A1AEPHSZ",32,0)
 Q
"RTN","A1AEPHSZ",33,0)
 ;
"RTN","A1AEPHSZ",34,0)
SENDER S XMB="A1AE ENTERED IN ERROR PATCH",XMB(1)=$P(^DIC(9.4,$P(^A1AE(11005,DA,0),"^",2),0),"^",1),XMB(2)=$P(^A1AE(11005,DA,0),"^",1),XMB(3)=$P(^(0),"^",5) D M^A1AEUTL1 W !!?3,"...Selected Users have been notified",!
"RTN","A1AEPHSZ",35,0)
 Q
"RTN","A1AEPK")
0^34^B40427646
"RTN","A1AEPK",1,0)
A1AEPK ; ISF/RWF - Package Module ;11/28/06  14:41
"RTN","A1AEPK",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPK",3,0)
 G:$D(^DOPT("A1AEPK",5)) A S ^DOPT("A1AEPK",0)="Entry/Edit Package Menu Option^1N^" F I=1:1 S X=$T(@I) Q:X=""  S ^DOPT("A1AEPK",I,0)=$P(X,";;",2,99)
"RTN","A1AEPK",4,0)
 S DIK="^DOPT(""A1AEPK""," D IXALL^DIK
"RTN","A1AEPK",5,0)
A W !! S DIC="^DOPT(""A1AEPK"",",DIC(0)="AEMQ" D ^DIC Q:Y<0  D @+Y G A
"RTN","A1AEPK",6,0)
 ;
"RTN","A1AEPK",7,0)
1 ;;Add a Package
"RTN","A1AEPK",8,0)
 N A1AEFL,A1AETY,A1AEPKIF,A1AEPK,A1AEVR
"RTN","A1AEPK",9,0)
 S A1AEFL=11005,A1AETY="PK",DIC("S")="I $D(^A1AE(11007,+Y,""PH"",DUZ,0))" D PKG^A1AEUTL G Q:'$D(A1AEPK)
"RTN","A1AEPK",10,0)
 D VER G Q:'$D(A1AEVR)
"RTN","A1AEPK",11,0)
 S A1AENB=0,X=A1AEPK_"*"_A1AEVR_"*0",DIC="^A1AE(11005,",DIC(0)="LE" D ^DIC Q:Y<1
"RTN","A1AEPK",12,0)
 S DA=+Y,A1AEPD=$P(Y,U,2),A1AEPD2=$TR($P(A1AEPD,"*",1,2),"*"," "),$P(^A1AE(11005,DA,0),U,2,4)=A1AEPKIF_U_A1AEVR_U_"0"
"RTN","A1AEPK",13,0)
 W !!,"Package Added: ",A1AEPD2,!
"RTN","A1AEPK",14,0)
 S $P(^A1AE(11005,DA,0),"^",8)="u",$P(^(0),"^",9)=DUZ,$P(^(0),"^",12)=DT,^A1AE(11005,"AS",A1AEPKIF,A1AEVR,"u",A1AENB,DA)=""
"RTN","A1AEPK",15,0)
 S DIE="^A1AE(11005,",DR="40///"_A1AEPD2 D ^DIE ;New Package Name
"RTN","A1AEPK",16,0)
 ;
"RTN","A1AEPK",17,0)
 S (X,DINUM)=DA,DIC="^A1AE(11005.1,",DIC("DR")="20///"_"No routines included" K DD,DO D FILE^DICN K DE,DQ,DR,DIC("DR")
"RTN","A1AEPK",18,0)
 S (X,DINUM)=DA,DIC="^A1AE(11005.5," K DD,D0 D FILE^DICN K DE,DQ,DR
"RTN","A1AEPK",19,0)
 ;
"RTN","A1AEPK",20,0)
 S DR="[A1AE ADD/EDIT PATCHES]" D ^DIE K DQ,DE,DIE
"RTN","A1AEPK",21,0)
 D Q G 1
"RTN","A1AEPK",22,0)
 ;
"RTN","A1AEPK",23,0)
2 ;;Delete an Unverified Package
"RTN","A1AEPK",24,0)
 N DIC,A1AEPD,A1AEPD2
"RTN","A1AEPK",25,0)
 S DIC("A")="Select Package: ",DIC("S")="I ($P(^(0),U,8)=""u""!($P(^(0),U,8)=""c"")),$D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))",DIC="^A1AE(11005,",DIC(0)="AEMQZ" W ! D ^DIC K DIC("A"),DIC("S") G Q:Y<0 S DA=+Y,A1AEPD=$P(Y,U,2),A1AE0=Y(0)
"RTN","A1AEPK",26,0)
 S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPK",27,0)
 S A1AEPD2=$P($G(^A1AE(11005,DA,4)),U,1)
"RTN","A1AEPK",28,0)
PMT2 W !!,"Are you sure you want to delete package "_A1AEPD2_"? N// " R X:DTIME G Q:'$T!(X="^")!("Nn"[$E(X,1)) G DEL2:"Yy"[$E(X,1) W:X'["?" *7 W !!,"Enter Y to delete the selected patch, or N to exit." G PMT2
"RTN","A1AEPK",29,0)
DEL2 S DIK="^A1AE(11005," D ^DIK W !!?3,"...deletion of "_A1AEPD_" from 'DHCP Patch File' completed"
"RTN","A1AEPK",30,0)
 L ^A1AE(11007,$P(A1AE0,"^",2),"V",$P(A1AE0,"^",3),"PH") I $D(^A1AE(11007,$P(A1AE0,"^",2),"V",$P(A1AE0,"^",3),"PH")) S:$P(A1AE0,"^",4)<^("PH") ^("PH")=$P(A1AE0,"^",4) L
"RTN","A1AEPK",31,0)
 ;delete message entry
"RTN","A1AEPK",32,0)
 S DIK="^A1AE(11005.1," D ^DIK
"RTN","A1AEPK",33,0)
 G Q
"RTN","A1AEPK",34,0)
 ;
"RTN","A1AEPK",35,0)
3 ;;Edit a Package
"RTN","A1AEPK",36,0)
 N A1AESTOP
"RTN","A1AEPK",37,0)
 S A1AESTOP=0
"RTN","A1AEPK",38,0)
 F  D  D Q Q:A1AESTOP
"RTN","A1AEPK",39,0)
 . N DIC,X,Y,DA,A1AEPD
"RTN","A1AEPK",40,0)
 . S DIC("A")="Select Package: "
"RTN","A1AEPK",41,0)
 . S DIC("S")="I $D(^A1AE(11007,+$P(^(0),U,2),""PH"",DUZ,0))"
"RTN","A1AEPK",42,0)
 . S DIC="^A1AE(11005,",DIC(0)="AEMQ"
"RTN","A1AEPK",43,0)
 . W !
"RTN","A1AEPK",44,0)
 . D ^DIC I Y<0 S A1AESTOP=1 Q
"RTN","A1AEPK",45,0)
 . S DA=+Y,A1AEPD=$P(Y,U,2),A1AEPD2=$P($G(^A1AE(11005,DA,4)),U) K DIC Q:A1AEPD2=""
"RTN","A1AEPK",46,0)
 . L +^A1AE(11005,DA):5 E  D  Q
"RTN","A1AEPK",47,0)
 . . W !,$C(7),"This package is being edited by another user" H 3
"RTN","A1AEPK",48,0)
 . ;I $P(A1AEPD,"*",2)=999 S $P(A1AEPD,"*",2)="DBA"
"RTN","A1AEPK",49,0)
 . I '$D(^A1AE(11005.1,DA,0)) D
"RTN","A1AEPK",50,0)
 . . N DINUM,DD,DO,DIC
"RTN","A1AEPK",51,0)
 . . S (X,DINUM)=DA,DIC(0)="LE",DIC="^A1AE(11005.1,"
"RTN","A1AEPK",52,0)
 . . S DIC("DR")="20///No routines included"
"RTN","A1AEPK",53,0)
 . . D FILE^DICN
"RTN","A1AEPK",54,0)
 . W !!,"Editing Package: ",A1AEPD2,!
"RTN","A1AEPK",55,0)
 . N A1AEOLD
"RTN","A1AEPK",56,0)
 . S A1AEOLD=$P($G(^A1AE(11005,DA,0)),U,8)
"RTN","A1AEPK",57,0)
 . D
"RTN","A1AEPK",58,0)
 . . N A1AEOLD,DIE,DR ; Preserve A1AEOLD.  It's killed in Q^A1AEPHS
"RTN","A1AEPK",59,0)
 . . S DIE="^A1AE(11005,",DR="[A1AE ADD/EDIT PATCHES]"
"RTN","A1AEPK",60,0)
 . . D ^DIE
"RTN","A1AEPK",61,0)
 . N A1AE0,A1AENEW
"RTN","A1AEPK",62,0)
 . S A1AE0=$G(^A1AE(11005,DA,0))
"RTN","A1AEPK",63,0)
 . L -^A1AE(11005,DA)
"RTN","A1AEPK",64,0)
 . S A1AENEW=$P(A1AE0,U,8)
"RTN","A1AEPK",65,0)
 . I A1AEOLD'="v"!(A1AENEW'="e") Q
"RTN","A1AEPK",66,0)
 . ; Send the 'Entered in Error' bulletin
"RTN","A1AEPK",67,0)
 . N A1AETX,X,A1AEOPT
"RTN","A1AEPK",68,0)
 . S A1AEOPT="'Entered in Error'"
"RTN","A1AEPK",69,0)
 . S X=$$GET1^DIQ(11005,DA_",",8.5,"Z","A1AETX")
"RTN","A1AEPK",70,0)
 . S A1AETX(.1,0)=""
"RTN","A1AEPK",71,0)
 . S A1AETX(.2,0)="Entered in Error Description:"
"RTN","A1AEPK",72,0)
 . D BOTH^A1AEPHS
"RTN","A1AEPK",73,0)
 Q
"RTN","A1AEPK",74,0)
 ;
"RTN","A1AEPK",75,0)
4 ;;Verify a Package
"RTN","A1AEPK",76,0)
 N A1AEPKV
"RTN","A1AEPK",77,0)
 S A1AEPKV=1
"RTN","A1AEPK",78,0)
 S DIC("A")="Select Package: ",DIC("S")="I $P(^(0),U,8)=""c"",$D(^A1AE(11007,+$P(^(0),U,2),""PB"",DUZ,0)),$P(^(0),U,2)=""V""",DIC="^A1AE(11005,",DIC(0)="AEMQZ"
"RTN","A1AEPK",79,0)
 W ! D ^DIC K DIC G Q:Y<0 S (A1AEIFN,DA)=+Y,A1AEPD=$P(Y,U,2),A1AEPD2=$P($G(^A1AE(11005,DA,4)),U)
"RTN","A1AEPK",80,0)
 I A1AEPD2="" W !,"This is not a Package Entry." Q
"RTN","A1AEPK",81,0)
 ;S $P(A1AEPD,"*",2)=$S($P(A1AEPD,"*",2)=999:"DBA",1:$P(A1AEPD,"*",2))
"RTN","A1AEPK",82,0)
 ;
"RTN","A1AEPK",83,0)
 S Y=$P(Y(0),"^",17) I Y,Y>DT W !!,"Do not release until: ",$$FMTE^XLFDT(Y)
"RTN","A1AEPK",84,0)
 S A1AEST=$S($P(Y(0),U,7)="e":2,1:61) ;Package complience is 60 days.
"RTN","A1AEPK",85,0)
 ;
"RTN","A1AEPK",86,0)
 W !!,"Internal Comments to developers/releasers for: ",A1AEPD2,! K Y S DIE="^A1AE(11005,",DR="16;" D ^DIE K DQ,DE,DIE,DIC,DR,D0,DA
"RTN","A1AEPK",87,0)
 W ! S DIR(0)="Y",DIR("B")="No",DIR("A")="Continue and Display Patch " D ^DIR K DIR I 'Y D Q G 4
"RTN","A1AEPK",88,0)
 ;check routine patches
"RTN","A1AEPK",89,0)
 F AX=0:0 S AX=$O(^A1AE(11005,A1AEIFN,"P",AX)) Q:'AX  I $D(^(AX,0)) S X=^(0) D RCHK^A1AEM2
"RTN","A1AEPK",90,0)
 W ! S DIR(0)="E" D ^DIR K DIR I 'Y D Q G 4
"RTN","A1AEPK",91,0)
 ;
"RTN","A1AEPK",92,0)
 S D0=A1AEIFN,A1AEVPR="",A1AEHD="DHCP Completed/NotReleased Patch Display"
"RTN","A1AEPK",93,0)
 W ! S %ZIS="",A1AEPGE=0 D ^%ZIS G Q:POP K IOP,%ZIS U IO S ^UTILITY($J,1)="D HD^A1AEPH2",DIWF="B4|" K ^UTILITY($J,"W"),DXS D HD^A1AEPH2,^A1AEP
"RTN","A1AEPK",94,0)
 K DN,DXS,DIWF
"RTN","A1AEPK",95,0)
 K A1AEHD,A1AELNE,A1AEOUT,A1AEPGE,A1AEVPR D CLOSE^A1AEUTL1
"RTN","A1AEPK",96,0)
 S A1AEST=$$FMADD^XLFDT(DT,A1AEST)
"RTN","A1AEPK",97,0)
 W !!,"Releasing Package: ",A1AEPD2,! K Y
"RTN","A1AEPK",98,0)
 S DA=A1AEIFN,DIE="^A1AE(11005,",DR="18//^S X=A1AEST;8;S Y=$S(X=""e"":""@10"",1:"""");@10;8.5"
"RTN","A1AEPK",99,0)
 L +@(DIE_DA_")"):5
"RTN","A1AEPK",100,0)
 I '$T W !,$C(7),"This package is being released by another user" H 3
"RTN","A1AEPK",101,0)
 E  D ^DIE,UPVER K DQ,DE L -@(DIE_DA_")")
"RTN","A1AEPK",102,0)
 D Q G 4
"RTN","A1AEPK",103,0)
 ;
"RTN","A1AEPK",104,0)
6 ;;Create a packman message
"RTN","A1AEPK",105,0)
 G PACK^A1AEM
"RTN","A1AEPK",106,0)
 ;
"RTN","A1AEPK",107,0)
7 ;;Forward a Complete/unverified message
"RTN","A1AEPK",108,0)
 G FCOM^A1AEM2
"RTN","A1AEPK",109,0)
 ;
"RTN","A1AEPK",110,0)
8 ;;Forward a Verified patch message
"RTN","A1AEPK",111,0)
 G FVER^A1AEM2
"RTN","A1AEPK",112,0)
 ;
"RTN","A1AEPK",113,0)
Q K ^UTILITY($J,"A1AECOP"),A1AEOLPD,A1AE0,A1AEPKIF,A1AEPKNM,A1AEPD,A1AEPD2,A1AEPK,A1AEVR,A1AENB,A1AEFL,A1AETY
"RTN","A1AEPK",114,0)
 K DIK,A1AEHD,A1AEIFN,A1AELNE,A1AEOUT,A1AEPGE,A1AEVPR
"RTN","A1AEPK",115,0)
 K AEQ,A1AESUB,A1AETX,A1AEXMZ,A1NAM,A1NAM1,AX,AXMZ,A1AEST,A1AETVR
"RTN","A1AEPK",116,0)
 K JL2,SAVEX,C,D0,DA,DI,DIG,DIH,DIW,DIV,DR,XMB,XMDT,XMDUZ,XMM,XMSUB Q
"RTN","A1AEPK",117,0)
 ;
"RTN","A1AEPK",118,0)
VER ;Get a NEW Version #.
"RTN","A1AEPK",119,0)
 N VR,CV K A1AEVR
"RTN","A1AEPK",120,0)
 ;Start at 999 so se don't get the DBA version.
"RTN","A1AEPK",121,0)
 S CV=$O(^A1AE(11007,A1AEPKIF,"V",999),-1) I CV>0 S CV=$G(^A1AE(11007,A1AEPKIF,"V",CV,0))
"RTN","A1AEPK",122,0)
 I CV W !,"The current version number is ",+CV,"  Verified on ",$$FMTE^XLFDT($P(CV,U,2))
"RTN","A1AEPK",123,0)
 S CV=+CV
"RTN","A1AEPK",124,0)
 R !,"New Version Number: ",VR:DTIME Q:'VR
"RTN","A1AEPK",125,0)
 I VR'>CV W !,"The New Package Version must be greater than the current version of ",CV G VER
"RTN","A1AEPK",126,0)
 S A1AEVR=VR
"RTN","A1AEPK",127,0)
 Q
"RTN","A1AEPK",128,0)
 ;
"RTN","A1AEPK",129,0)
UPVER ;Update files 11007 and 120102.
"RTN","A1AEPK",130,0)
 N FDA,VR,IEN,X
"RTN","A1AEPK",131,0)
 S VR=$P(^A1AE(11005,A1AEIFN,4),U),VR=$P(VR," ",$L(VR," "))
"RTN","A1AEPK",132,0)
 S IEN=$P(^A1AE(11005,A1AEIFN,0),U,2)
"RTN","A1AEPK",133,0)
 S ^A1AE(11007,IEN,"V",VR,0)=VR_U_$$DT^XLFDT() ;DINUM entry
"RTN","A1AEPK",134,0)
 S ^A1AE(11007,IEN,"V",VR,"PB")=0,^("PH")=0,^("PR")=0
"RTN","A1AEPK",135,0)
 ;Now for file DHCP APPLICATION (#120102)
"RTN","A1AEPK",136,0)
 K FDA,IEN
"RTN","A1AEPK",137,0)
 S X=$P(^A1AE(11005,A1AEIFN,0),U),X=$P(X,"*")
"RTN","A1AEPK",138,0)
 S IEN=$$FIND1^DIC(120102,,"MX",X) Q:IEN'>0
"RTN","A1AEPK",139,0)
 S FDA(120102,IEN_",",1)=VR D FILE^DIE("K","FDA")
"RTN","A1AEPK",140,0)
 Q
"RTN","A1AEPRE")
0^35^B5253495
"RTN","A1AEPRE",1,0)
A1AEPRE ;RMO/ALBANY ; Pre-Initialization Procedure ;24 NOV 87 11:00 am
"RTN","A1AEPRE",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEPRE",3,0)
 ;;Version 2.1 ;February 23, 1990
"RTN","A1AEPRE",4,0)
 S:'$D(^A1AE("VERSION")) ^A1AE("VERSION")=1.1 Q:^A1AE("VERSION")>1.1  S IOP="HOME" D ^%ZIS K IOP S %DT="",X="T" D ^%DT S DT=Y
"RTN","A1AEPRE",5,0)
 W !!,"...forcing 'Completed/not Verified' Patches to 'Verified' by POSTMASTER"
"RTN","A1AEPRE",6,0)
 F A1AEPKIF=0:0 S A1AEPKIF=$O(^A1AE(11005,"AV",A1AEPKIF)) Q:'A1AEPKIF  D GETDTC
"RTN","A1AEPRE",7,0)
 W !,"...removing the 'AV' cross-reference from DATE PATCH COMPLETED field"
"RTN","A1AEPRE",8,0)
 F A1AEXREF=0:0 S A1AEXREF=$O(^DD(11005,10,1,A1AEXREF)) Q:'A1AEXREF  I $D(^(A1AEXREF,0)),$P(^(0),"^",2)="AV" S DA(2)=11005,DA(1)=10,DA=A1AEXREF,DIK="^DD(11005,10,1," D ^DIK K DA,DIK
"RTN","A1AEPRE",9,0)
 ;
"RTN","A1AEPRE",10,0)
Q K ^DOPT("A1AEPH2"),A1AE0,A1AEDTC,A1AEIFN,A1AEPKIF,A1AEXREF
"RTN","A1AEPRE",11,0)
 Q
"RTN","A1AEPRE",12,0)
 ;
"RTN","A1AEPRE",13,0)
GETDTC F A1AEDTC=0:0 S A1AEDTC=$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTC)) Q:'A1AEDTC  D GETIFN
"RTN","A1AEPRE",14,0)
 Q
"RTN","A1AEPRE",15,0)
 ;
"RTN","A1AEPRE",16,0)
GETIFN F A1AEIFN=0:0 S A1AEIFN=$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTC,A1AEIFN)) Q:'A1AEIFN  I $D(^A1AE(11005,A1AEIFN,0)),$P(^(0),"^",8)="c" S A1AE0=^(0) D SETVER W "."
"RTN","A1AEPRE",17,0)
 Q
"RTN","A1AEPRE",18,0)
 ;
"RTN","A1AEPRE",19,0)
SETVER S $P(^A1AE(11005,A1AEIFN,0),"^",8)="v",$P(^(0),"^",11)=DT,$P(^(0),"^",14)=.5
"RTN","A1AEPRE",20,0)
 K ^A1AE(11005,"AS",A1AEPKIF,+$P(A1AE0,"^",3),"c",+$P(A1AE0,"^",4),A1AEIFN) S ^A1AE(11005,"AS",A1AEPKIF,+$P(A1AE0,"^",3),"v",+$P(A1AE0,"^",4),A1AEIFN)=""
"RTN","A1AEPRE",21,0)
 K ^A1AE(11005,"AV",A1AEPKIF,A1AEDTC,A1AEIFN) S ^A1AE(11005,"AV",A1AEPKIF,9999999-DT,A1AEIFN)=""
"RTN","A1AEPRE",22,0)
 Q
"RTN","A1AERCON")
0^36^B5359981
"RTN","A1AERCON",1,0)
A1AERCON ;CJS/SLC - Check for routie overlap on unreleased patchs ;4/25/05  18:59
"RTN","A1AERCON",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AERCON",3,0)
EN K ^TMP($J) S LINE=0,DIC=11005,DIC(0)="AEMQ",DIC("S")="I ""cu""[$P(^(0),U,8)" D ^DIC S PATCH=+Y G:PATCH'>0 EXIT
"RTN","A1AERCON",4,0)
 S DIR(0)="NO^0:999:0",DIR("A")="Include patches released within how many months? (0 for only active overlaps)",DIR("B")=0 D ^DIR S MONTHS=Y
"RTN","A1AERCON",5,0)
 S VER=$P(^A1AE(11005,PATCH,0),"*",2),RLIST=0 F  S RLIST=$O(^A1AE(11005,PATCH,"P",RLIST)) Q:RLIST'>0  D
"RTN","A1AERCON",6,0)
 . S PROU=$P($G(^A1AE(11005,PATCH,"P",RLIST,0)),U)
"RTN","A1AERCON",7,0)
 . S OTHERP=0 F  S OTHERP=$O(^A1AE(11005,"R",PROU,OTHERP)) Q:OTHERP'>0  D
"RTN","A1AERCON",8,0)
 . . Q:OTHERP=PATCH
"RTN","A1AERCON",9,0)
 . . S LINE0=$G(^A1AE(11005,OTHERP,0)),PNAME=$P(LINE0,U),REL="            " Q:$P(PNAME,"*",2)'=VER
"RTN","A1AERCON",10,0)
 . . I MONTHS=0 Q:"cu"'[$P(LINE0,U,8)
"RTN","A1AERCON",11,0)
 . . I MONTHS Q:"cuv"'[$P(LINE0,U,8)  I $P(LINE0,U,8)="v" S X1=DT,(X2,REL)=$P($G(^A1AE(11005.1,OTHERP,0)),U,7)\1 D ^%DTC Q:%Y=0  Q:X/30>MONTHS  S Y=REL D DD^%DT S REL=Y
"RTN","A1AERCON",12,0)
 . . S LINE=LINE+1,^TMP($J,PROU,LINE)=PROU_$E("          ",$L(PROU),10)_PNAME_$E("              ",$L(PNAME),14)_REL_"  "_$P($G(^VA(200,+$P(LINE0,U,9),0)),U)
"RTN","A1AERCON",13,0)
 . . Q
"RTN","A1AERCON",14,0)
 . Q
"RTN","A1AERCON",15,0)
 W !,"Routines in entered or completed patches that overlap with ",$P(^A1AE(11005,PATCH,0),U)
"RTN","A1AERCON",16,0)
 W !,"Routine    Patch          Release Date  Patch Entered by"
"RTN","A1AERCON",17,0)
 S PROU="" F  S PROU=$O(^TMP($J,PROU)) Q:PROU=""  D
"RTN","A1AERCON",18,0)
 . S LINE=0 F  S LINE=$O(^TMP($J,PROU,LINE)) Q:LINE'>0  D
"RTN","A1AERCON",19,0)
 . . W !,^TMP($J,PROU,LINE)
"RTN","A1AERCON",20,0)
 . . Q
"RTN","A1AERCON",21,0)
 . Q
"RTN","A1AERCON",22,0)
EXIT K ^TMP($J),PATCH,RLIST,PROU,OTHERP,LINE,LINE0,PNAME,MONTHS,REL,VER
"RTN","A1AERCON",23,0)
 Q
"RTN","A1AERD")
0^37^B4000086
"RTN","A1AERD",1,0)
A1AERD ; RMO,MJK/ALBANY ; Read Processor ;24 NOV 87 11:00 am
"RTN","A1AERD",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AERD",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AERD",4,0)
SET S:'$D(A1AERD(0)) A1AERD(0)="" W:A1AERD(0)'["S" !?2,"Choose one of the following:"
"RTN","A1AERD",5,0)
 F I=0:0 S I=$O(A1AERD(I)) Q:'I  W:A1AERD(0)'["S" !?10,$P(A1AERD(I),"^",1) S V=$P(A1AERD(I),"^",1) D UPPER S $P(A1AERD(I),"^",3)=S
"RTN","A1AERD",6,0)
READ K S,I,J,T,L,I W !!,$S($D(A1AERD("A")):A1AERD("A"),1:"Enter Response: ")
"RTN","A1AERD",7,0)
 I $D(A1AERD("B")),$D(A1AERD(A1AERD("B"))) W $P(A1AERD(A1AERD("B")),"^",1),"// "
"RTN","A1AERD",8,0)
 R X:$S($D(A1AERD("DTIME")):+A1AERD("DTIME"),1:DTIME) S X1=X G HELP:X="?" S T=$T,DTOUT='T,L=$L(X) I X["^" S X="^" G Q
"RTN","A1AERD",9,0)
 I 'T,'$D(A1AERD("DTOUT")) S X="^" G Q
"RTN","A1AERD",10,0)
 I 'T,$D(A1AERD("DTOUT")),'$D(A1AERD(+A1AERD("DTOUT"))) S X="^" G Q
"RTN","A1AERD",11,0)
 I 'T S X=$P(A1AERD(+A1AERD("DTOUT")),"^",1) G Q
"RTN","A1AERD",12,0)
 I 'L,'$D(A1AERD("B")) S X="" G Q
"RTN","A1AERD",13,0)
 I 'L,'$D(A1AERD(+A1AERD("B"))) S X="" G Q
"RTN","A1AERD",14,0)
 I 'L S X=$P(A1AERD(+A1AERD("B")),"^",1) G Q
"RTN","A1AERD",15,0)
 S V=X D UPPER
"RTN","A1AERD",16,0)
 F I=0:0 S I=$O(A1AERD(I)) Q:'I  I S=$E($P(A1AERD(I),"^",3),1,L) S X=$P(A1AERD(I),"^",1) W $E(X,L+1,99) G Q
"RTN","A1AERD",17,0)
 W *7
"RTN","A1AERD",18,0)
HELP ;
"RTN","A1AERD",19,0)
 I $D(A1AERD("XQH")) S XQH=A1AERD("XQH") D EN^XQH W ! G SET
"RTN","A1AERD",20,0)
 W !!?2,"Enter one of the following:"
"RTN","A1AERD",21,0)
 F I=0:0 S I=$O(A1AERD(I)) Q:'I  W !?5,"'",$P(A1AERD(I),"^",1),"'",?25,"to ",$E($P(A1AERD(I),"^",2),1,79-$X)
"RTN","A1AERD",22,0)
 W !?5,"^",?25,"to stop." G READ
"RTN","A1AERD",23,0)
 ;
"RTN","A1AERD",24,0)
Q K DTOUT,S,C,I,L Q
"RTN","A1AERD",25,0)
 ;
"RTN","A1AERD",26,0)
UPPER ;
"RTN","A1AERD",27,0)
 S S="" F J=1:1 S C=$E($P(V,"^",1),J) Q:C=""  S:$A(C)>96&($A(C)<123) C=$C($A(C)-32) S S=S_C
"RTN","A1AERD",28,0)
 K C,V Q
"RTN","A1AESP")
0^38^B24364626
"RTN","A1AESP",1,0)
A1AESP ;ISF/RWF - Special load of package releases ;08/19/2010  5079.826506
"RTN","A1AESP",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AESP",3,0)
EN ;Read an HFS Package release.
"RTN","A1AESP",4,0)
 W !,"Use LDINS entry point" Q
"RTN","A1AESP",5,0)
 N PACKAGE,RTN,NOW,RR,X,Y,DONE
"RTN","A1AESP",6,0)
 S NOW=$$NOW^XLFDT
"RTN","A1AESP",7,0)
 S %ZIS="M",%ZIS("A")="Package Build file: " D ^%ZIS I POP W !,"No Device" Q
"RTN","A1AESP",8,0)
 U IO F  R X:1 Q:(X="**INSTALL NAME**")!(X="$$END")
"RTN","A1AESP",9,0)
 U $P I X["END" W !,"END OF FILE" Q
"RTN","A1AESP",10,0)
 U IO R PACKAGE:1
"RTN","A1AESP",11,0)
 U $P W !,"Loading Package: ",PACKAGE
"RTN","A1AESP",12,0)
 ;Now find routines
"RTN","A1AESP",13,0)
 U IO F  R X:2,Y:2 Q:($E(X,1,5)="""RTN""")!(X["**END**")
"RTN","A1AESP",14,0)
 ;Start real work
"RTN","A1AESP",15,0)
 S DONE=0,RR="""RTN""A)"
"RTN","A1AESP",16,0)
 F  D  Q:DONE
"RTN","A1AESP",17,0)
 . U IO R X:2,Y:2
"RTN","A1AESP",18,0)
 . I $E(X,2,4)'="RTN" U $P W !,"Stopping: ",X S DONE=1 Q
"RTN","A1AESP",19,0)
 . I $E(RR,1,$L(RR)-1)'=$E(X,1,$L(RR)-1) D
"RTN","A1AESP",20,0)
 . . S RR=X
"RTN","A1AESP",21,0)
 . . D RTNLOAD2(PACKAGE,RR,Y)
"RTN","A1AESP",22,0)
 . . Q
"RTN","A1AESP",23,0)
 . Q
"RTN","A1AESP",24,0)
 D ^%ZISC
"RTN","A1AESP",25,0)
 U $P W !,"DONE"
"RTN","A1AESP",26,0)
 Q
"RTN","A1AESP",27,0)
 ;
"RTN","A1AESP",28,0)
RTNLOAD2(PKG,REF,Y) ;
"RTN","A1AESP",29,0)
 N RN,CHK
"RTN","A1AESP",30,0)
 S RN=$P($RE(REF),",")
"RTN","A1AESP",31,0)
 S RN=$RE($E(RN,3,$L(RN)-1))
"RTN","A1AESP",32,0)
 S CHK=$P(Y,U,3)
"RTN","A1AESP",33,0)
 D RTNLOAD(PKG,RN,CHK)
"RTN","A1AESP",34,0)
 Q
"RTN","A1AESP",35,0)
 ;
"RTN","A1AESP",36,0)
RTNLOAD(RN,PCH,CHKSUM,PL) ;
"RTN","A1AESP",37,0)
 N FDA,IEN
"RTN","A1AESP",38,0)
 I '$D(NOW) S NOW=$$NOW^XLFDT
"RTN","A1AESP",39,0)
 S IEN=$O(^DIC(9.8,"B",RN,0))
"RTN","A1AESP",40,0)
 ;I IEN K ^DIC(9.8,IEN,8) ;Remove Patch History ???
"RTN","A1AESP",41,0)
 I IEN S IEN=IEN_","
"RTN","A1AESP",42,0)
 E  S IEN="?+1,",FDA(9.8,IEN,.01)=RN
"RTN","A1AESP",43,0)
 S FDA(9.8,IEN,1)="R",FDA(9.8,IEN,6)=2
"RTN","A1AESP",44,0)
 S FDA(9.8,IEN,7.1)=NOW,FDA(9.8,IEN,7.2)=CHKSUM,FDA(9.8,IEN,7.3)=$G(PL)
"RTN","A1AESP",45,0)
 S IEN="?+2,"_IEN
"RTN","A1AESP",46,0)
 S FDA(9.818,IEN,.01)=PCH,FDA(9.818,IEN,2)=CHKSUM S:$L($G(PL)) FDA(9.818,IEN,3)=PL
"RTN","A1AESP",47,0)
 D UPDATE^DIE("","FDA")
"RTN","A1AESP",48,0)
 U $P W !,"Routine ",RN," filed"
"RTN","A1AESP",49,0)
 Q
"RTN","A1AESP",50,0)
 ;
"RTN","A1AESP",51,0)
 ;
"RTN","A1AESP",52,0)
HFS ;Fix ~ in checksum
"RTN","A1AESP",53,0)
 N DA,A1,A2
"RTN","A1AESP",54,0)
 S DA=0
"RTN","A1AESP",55,0)
 F  S DA=$O(^A1AE(11005.5,DA)),A1=0 Q:'DA  D
"RTN","A1AESP",56,0)
 . F  S A1=$O(^A1AE(11005.5,DA,1,A1)) Q:'A1  S X=^(A1,0) D
"RTN","A1AESP",57,0)
 . . I X["~" S ^A1AE(11005.5,DA,1,A1,0)=$TR(X,"~","^")
"RTN","A1AESP",58,0)
 . . Q
"RTN","A1AESP",59,0)
 . Q
"RTN","A1AESP",60,0)
 Q
"RTN","A1AESP",61,0)
 ;
"RTN","A1AESP",62,0)
SEARCH    ;Search Patch file for routines
"RTN","A1AESP",63,0)
 N RN,FDA,IEN,X,A1,A2,DA
"RTN","A1AESP",64,0)
 S DA=0
"RTN","A1AESP",65,0)
 F  S DA=$O(^A1AE(11005,DA)) Q:'DA  I $P(^A1AE(11005,DA,0),U,8)="u" D
"RTN","A1AESP",66,0)
 . S A1=0
"RTN","A1AESP",67,0)
 . F  S A1=$O(^A1AE(11005,DA,"P",A1)) Q:'A1  S X=^(A1,0) D
"RTN","A1AESP",68,0)
 . . S RN=$P(X,U),OLD=$P(X,U,4) D:OLD["~"  ;Look for something
"RTN","A1AESP",69,0)
 . . . S $P(^A1AE(11005,DA,"P",A1,0),U,4)=$P(OLD,"~")
"RTN","A1AESP",70,0)
 . . Q
"RTN","A1AESP",71,0)
 . Q
"RTN","A1AESP",72,0)
 Q
"RTN","A1AESP",73,0)
 ;
"RTN","A1AESP",74,0)
 ;
"RTN","A1AESP",75,0)
 ;Check for DUP routines in patch.
"RTN","A1AESP",76,0)
DUP ;
"RTN","A1AESP",77,0)
 N A1,A2,A3,A4
"RTN","A1AESP",78,0)
 S A1=0
"RTN","A1AESP",79,0)
 F  S A1=$O(^A1AE(11005,A1)) Q:'A1  I "uc"[$P($G(^(A1,0)),U,8) D
"RTN","A1AESP",80,0)
 . S A2=""
"RTN","A1AESP",81,0)
 . F  S A2=$O(^A1AE(11005,A1,"P","B",A2)) Q:A2=""  D
"RTN","A1AESP",82,0)
 . . S A3=$O(^A1AE(11005,A1,"P","B",A2,0)),A4=$O(^(A3))
"RTN","A1AESP",83,0)
 . . I A4 W !,A1,?10,A2,?20,A3,?25,A4
"RTN","A1AESP",84,0)
 . . Q
"RTN","A1AESP",85,0)
 . Q
"RTN","A1AESP",86,0)
 Q
"RTN","A1AESP",87,0)
 ;
"RTN","A1AESP",88,0)
PCHDUP ;Check for dup patchs in routine file.
"RTN","A1AESP",89,0)
 N D0,D1,D2,X,Y,DIK,DA
"RTN","A1AESP",90,0)
 S D0=0
"RTN","A1AESP",91,0)
 F  S D0=$O(^DIC(9.8,D0)),D1="" Q:'D0  D
"RTN","A1AESP",92,0)
 . F  S D1=$O(^DIC(9.8,D0,8,"B",D1)),DA(1)=D0 Q:D1=""  D
"RTN","A1AESP",93,0)
 . . S X=$O(^DIC(9.8,D0,8,"B",D1,0)),Y=$O(^(X))
"RTN","A1AESP",94,0)
 . . I Y>X W !,$P(^DIC(9.8,D0,0),U),?10,D1 S DA=Y,DIK="^DIC(9.8,DA(1),8," D ^DIK
"RTN","A1AESP",95,0)
 . . Q
"RTN","A1AESP",96,0)
 . Q
"RTN","A1AESP",97,0)
 Q
"RTN","A1AESP",98,0)
 ;
"RTN","A1AESP",99,0)
RTNCHK(PCH) ;Check patch routines against Routine file
"RTN","A1AESP",100,0)
 N D0,D1,DA,R1,R2,RN,X,Y
"RTN","A1AESP",101,0)
 S D0=$O(^A1AE(11005,"B",PCH,0)) I 'D0 W !,"Patch not found" Q
"RTN","A1AESP",102,0)
 W !,"Patch ",PCH," ien: ",D0
"RTN","A1AESP",103,0)
 S D1=0
"RTN","A1AESP",104,0)
 F  S D1=$O(^A1AE(11005,D0,"P",D1)) Q:D1'>0  D
"RTN","A1AESP",105,0)
 . S R1=^A1AE(11005,D0,"P",D1,0),RN=$P(R1,U)
"RTN","A1AESP",106,0)
 . S DA=$O(^DIC(9.8,"B",RN,0)) I 'DA D  W ! Q
"RTN","A1AESP",107,0)
 . . W !,"Routine ",RN," not found",!,?5,R1
"RTN","A1AESP",108,0)
 . . R !,"Load? ",X:DTIME Q:$E(X)'="Y"
"RTN","A1AESP",109,0)
 . . D RTNLOAD(RN,PCH,$P(R1,U,2),$P(R1,U,3))
"RTN","A1AESP",110,0)
 . . Q
"RTN","A1AESP",111,0)
 . W !,RN,?10,^DIC(9.8,DA,4)
"RTN","A1AESP",112,0)
 . Q
"RTN","A1AESP",113,0)
 Q
"RTN","A1AESP",114,0)
 ;
"RTN","A1AESP",115,0)
LDINS ;File routines from Install file
"RTN","A1AESP",116,0)
 N DA,D0,D1,IX,X,Y,DIC,FDA,PCH,NOW
"RTN","A1AESP",117,0)
 S NOW=$$NOW^XLFDT()
"RTN","A1AESP",118,0)
 S DIC="^XPD(9.7,",DIC(0)="AEMQ" D ^DIC Q:Y<1
"RTN","A1AESP",119,0)
 S IX=+Y,RN="",PCH=$P(Y,U,2) S:PCH["*" $P(PCH,"*",2)=+$P(PCH,"*",2)
"RTN","A1AESP",120,0)
 F  S RN=$O(^XTMP("XPDI",IX,"RTN",RN)) Q:RN=""  D
"RTN","A1AESP",121,0)
 . S X=^XTMP("XPDI",IX,"RTN",RN),Y=$G(^(RN,2,0))
"RTN","A1AESP",122,0)
 . D RTNLOAD(RN,PCH,$P(X,U,3),$P(Y,";",5))
"RTN","A1AESP",123,0)
 . Q
"RTN","A1AESP",124,0)
 Q
"RTN","A1AESP",125,0)
 ;
"RTN","A1AESP",126,0)
MAKECUR ;Make a patch the current checksum for its routines
"RTN","A1AESP",127,0)
 N RN,PCH,DA,D0,D1,IX,X,Y
"RTN","A1AESP",128,0)
 R !,"Enter Patch Number: ",PCH:600
"RTN","A1AESP",129,0)
 S D0=0
"RTN","A1AESP",130,0)
 F  S D0=$O(^DIC(9.8,D0)),D1=0 Q:'D0  D
"RTN","A1AESP",131,0)
 . S RN=$P(^DIC(9.8,D0,0),U)
"RTN","A1AESP",132,0)
 . S D1=$O(^DIC(9.8,D0,8,"B"),-1) Q:'D1  S X=^DIC(9.8,D0,8,D1,0) Q:$P(X,U)'=PCH
"RTN","A1AESP",133,0)
 . S CHK=$P(X,U,2)
"RTN","A1AESP",134,0)
 . W !,RN,"  ",PCH,"  ",CHK
"RTN","A1AESP",135,0)
 . D RTNLOAD(RN,PCH,CHK,"")
"RTN","A1AESP",136,0)
 . Q
"RTN","A1AESP",137,0)
 Q
"RTN","A1AESP",138,0)
 ;
"RTN","A1AESP",139,0)
DIC ;Look up IEN of a patch.
"RTN","A1AESP",140,0)
 N DIC
"RTN","A1AESP",141,0)
 S DIC=11005,DIC(0)="AEMQ" D ^DIC W !,Y
"RTN","A1AESP",142,0)
 Q
"RTN","A1AESP",143,0)
 ;To load Routines from the Patch message
"RTN","A1AESP",144,0)
 ;DO RTNBLD^A1AEM1(IEN)
"RTN","A1AESP",145,0)
 ;
"RTN","A1AESP",146,0)
BACKOUT ;Backout a patch,  Entered in error
"RTN","A1AESP",147,0)
 N RN,PDA,PCH,DA,DO,D1,IX,OCS,X,Y
"RTN","A1AESP",148,0)
 W !,"Patch to Backout."
"RTN","A1AESP",149,0)
 S DIC=11005,DIC(0)="AEMQ" D ^DIC Q:Y<1
"RTN","A1AESP",150,0)
 S PDA=+Y,PCH=$P(Y,U,2)
"RTN","A1AESP",151,0)
 S IX=0
"RTN","A1AESP",152,0)
 F  S IX=$O(^A1AE(11005,PDA,"P",IX)) Q:'IX  S R1=^(IX,0) D
"RTN","A1AESP",153,0)
 . S RN=$P(R1,U,1),OCS=$P(R1,U,4)
"RTN","A1AESP",154,0)
 . W !,"Routine ",RN
"RTN","A1AESP",155,0)
 . D BKOT(RN,PCH,OCS)
"RTN","A1AESP",156,0)
 . Q
"RTN","A1AESP",157,0)
 W !,"DONE"
"RTN","A1AESP",158,0)
 Q
"RTN","A1AESP",159,0)
 ;
"RTN","A1AESP",160,0)
BKOT(RN,PCH,OCS) ;Backout Checksum from Routine file.
"RTN","A1AESP",161,0)
 N DA,DB,DC,FDA,IEN
"RTN","A1AESP",162,0)
 S DB=$$FIND1^DIC(9.8,,"X",RN) Q:'DB
"RTN","A1AESP",163,0)
 S DC=$$FIND1^DIC(9.818,","_DB_",","X",PCH) Q:'DC
"RTN","A1AESP",164,0)
 S IEN=DB_",",FDA(9.8,IEN,7.1)="@",FDA(9.8,IEN,7.2)=OCS,FDA(9.8,IEN,7.3)="@"
"RTN","A1AESP",165,0)
 S IEN=DC_","_IEN,FDA(9.818,IEN,.01)="@"
"RTN","A1AESP",166,0)
 D FILE^DIE("K","FDA")
"RTN","A1AESP",167,0)
 I $D(^TMP("DIERR",$J)) S %ZT($NA(^TMP("DIERR",$J)))="" D ^%ZTER Q
"RTN","A1AESP",168,0)
 Q
"RTN","A1AEUTL")
0^40^B30602835
"RTN","A1AEUTL",1,0)
A1AEUTL ; RMO,MJK/ALBANY ;1/11/07  11:58
"RTN","A1AEUTL",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEUTL",3,0)
 ;logic to get and set seq#
"RTN","A1AEUTL",4,0)
SEQ L +^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR"):60
"RTN","A1AEUTL",5,0)
 S SEQ=$G(^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR"))+1,^("PR")=SEQ
"RTN","A1AEUTL",6,0)
 I A1AENEW="v" S $P(^A1AE(11005,DA,0),"^",6)=SEQ
"RTN","A1AEUTL",7,0)
 L -^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR") Q
"RTN","A1AEUTL",8,0)
 ;
"RTN","A1AEUTL",9,0)
 ;if mail message generate fails
"RTN","A1AEUTL",10,0)
DELSEQ L +^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR"):60
"RTN","A1AEUTL",11,0)
 I $D(^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR")),^("PR") S ^("PR")=^("PR")-1
"RTN","A1AEUTL",12,0)
 L -^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR") Q
"RTN","A1AEUTL",13,0)
 ;
"RTN","A1AEUTL",14,0)
IN ;Called from the Input transform file 11005, field .01
"RTN","A1AEUTL",15,0)
 N X1,X2
"RTN","A1AEUTL",16,0)
 S X1=$P(X,"*",1) I X1']""!'($P(X,"*",2)=+$P(X,"*",2)) K X Q
"RTN","A1AEUTL",17,0)
 S X2=$O(^DIC(9.4,"C",X1,0)) I 'X2 W !?3,"'",X1,"' is not a valid namespace" K X Q
"RTN","A1AEUTL",18,0)
 I '$D(^A1AE(11007,"B",X2)) W !?3,"'",X1,"' is not a package in the 'DHCP Patch/Problem' file" K X Q
"RTN","A1AEUTL",19,0)
 I '$D(A1AETY) W !?3,"Please use the Edit Template." K X Q
"RTN","A1AEUTL",20,0)
 I A1AETY="PH",'$D(^A1AE(11007,X2,"V",+$P(X,"*",2),0)) W !?3,"'",$P(X,"*",2),"' is not a valid version number for this package" K X Q
"RTN","A1AEUTL",21,0)
 I A1AETY="PK",$D(^A1AE(11007,X2,"V",+$P(X,"*",2))) W !,?3,"'",$P(X,"*",2),"' is not a new package version." K X Q
"RTN","A1AEUTL",22,0)
 I '$D(^A1AE(11007,X2,$S(A1AEX=11005:"PH",1:"PB"),DUZ,0)) W !?3,"You are not an authorized user" K X Q
"RTN","A1AEUTL",23,0)
 I $D(^A1AE(A1AEX,"B",X)) W !?3,"Another error designation with the '",X,"' specification already exists" K X Q
"RTN","A1AEUTL",24,0)
 Q
"RTN","A1AEUTL",25,0)
 ;
"RTN","A1AEUTL",26,0)
PKG K A1AEPKIF,A1AEPK S DIC("A")="Select PACKAGE: ",DIC="^A1AE(11007,",DIC(0)=$S($D(A1AE(0)):A1AE(0),1:"AEMQZ") W ! D ^DIC K DIC,A1AE(0) Q:Y<0  S A1AEPKIF=+Y
"RTN","A1AEUTL",27,0)
 I $D(^DIC(9.4,A1AEPKIF,0)) S A1AEPKNM=$P(^(0),"^",1),A1AEPK=$P(^(0),"^",2)
"RTN","A1AEUTL",28,0)
 Q
"RTN","A1AEUTL",29,0)
 ;
"RTN","A1AEUTL",30,0)
VER F A1AEVR=0:0 S A1AEVR=$O(^A1AE(11007,A1AEPKIF,"V",A1AEVR)) Q:'A1AEVR  S:A1AEVR'=999 DIC("B")=A1AEVR
"RTN","A1AEUTL",31,0)
 S:'$D(^A1AE(11007,A1AEPKIF,"V",0)) ^(0)="^11007.01I^^"
"RTN","A1AEUTL",32,0)
 K A1AEVR S DA=A1AEPKIF,DIC="^A1AE(11007,A1AEPKIF,""V"",",DIC(0)=$S($D(A1AE(0)):A1AE(0),1:"AEQ")
"RTN","A1AEUTL",33,0)
 D ^DIC S:Y>0 A1AEVR=+Y K DIC,A1AE(0)
"RTN","A1AEUTL",34,0)
 Q
"RTN","A1AEUTL",35,0)
 ;
"RTN","A1AEUTL",36,0)
NUM ;
"RTN","A1AEUTL",37,0)
 L +^A1AE(11007,A1AEPKIF,"V",A1AEVR,A1AETY):3 E  D  Q
"RTN","A1AEUTL",38,0)
 . W $C(7),!!,"Someone else is adding a patch at the moment."
"RTN","A1AEUTL",39,0)
 . W !,"Please try again later."
"RTN","A1AEUTL",40,0)
 S:'$D(^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PB")) ^("PB")=1
"RTN","A1AEUTL",41,0)
 S:'$D(^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PH")) ^("PH")=1
"RTN","A1AEUTL",42,0)
 S $P(^A1AE(11007,A1AEPKIF,"V",0),"^",3)=A1AEVR ; Why??
"RTN","A1AEUTL",43,0)
 S A1AENB=^A1AE(11007,A1AEPKIF,"V",A1AEVR,A1AETY)
"RTN","A1AEUTL",44,0)
 ;
"RTN","A1AEUTL",45,0)
SETNUM ;S (X1,X)=A1AEPK_"*"_A1AEVR_"*"_A1AENB F I=1:1 S X1=$O(^A1AE(A1AEFL,"B",X1)) Q:X1'[$P(X,"*",1,2)  S:$P(X1,"*",3)>A1AENB A1AENB=$P(X1,"*",3)
"RTN","A1AEUTL",46,0)
 S X=A1AEPK_"*"_A1AEVR_"*"_A1AENB,XEND=A1AEPK_"*"_A1AEVR_"*999"
"RTN","A1AEUTL",47,0)
 I $O(^A1AE(11005,"AB",A1AEPK_"*"_A1AEVR))[(A1AEPK_"*"_A1AEVR) DO
"RTN","A1AEUTL",48,0)
 .S XEND1=$TR($P($O(^A1AE(11005,"AB",XEND),-1),"*",3)," ","")
"RTN","A1AEUTL",49,0)
 .I XEND1<A1AENB
"RTN","A1AEUTL",50,0)
 .E  S A1AENB=XEND1+1,$P(X,"*",3)=A1AENB
"RTN","A1AEUTL",51,0)
 .K XEND,XEND1
"RTN","A1AEUTL",52,0)
 ;returns x for patch,a1aenb
"RTN","A1AEUTL",53,0)
 S DIC="^A1AE(A1AEFL,",DIC(0)="LE"
"RTN","A1AEUTL",54,0)
 D ^DIC
"RTN","A1AEUTL",55,0)
 I Y>0 S ^A1AE(11007,A1AEPKIF,"V",A1AEVR,A1AETY)=A1AENB
"RTN","A1AEUTL",56,0)
 L -^A1AE(11007,A1AEPKIF,"V",A1AEVR,A1AETY)
"RTN","A1AEUTL",57,0)
 Q:Y<0
"RTN","A1AEUTL",58,0)
 S DA=+Y,A1AEPD=$P(Y,"^",2),$P(^A1AE(A1AEFL,DA,0),"^",2,4)=A1AEPKIF_"^"_A1AEVR_"^"_A1AENB,^A1AE(A1AEFL,"D",A1AEPKIF,DA)=""
"RTN","A1AEUTL",59,0)
 Q
"RTN","A1AEUTL",60,0)
 ;
"RTN","A1AEUTL",61,0)
PRT ;Record Printed by
"RTN","A1AEUTL",62,0)
 L +^A1AE(11005,D0,2):60
"RTN","A1AEUTL",63,0)
 S:'$D(^A1AE(11005,D0,2,0)) ^(0)="^11005.02P^^" S:'$D(^A1AE(11005,D0,2,DUZ,0)) $P(^(0),"^",1,2)=DUZ_"^"_DT,$P(^(0),"^",4)=$P(^A1AE(11005,D0,2,0),"^",4)+1
"RTN","A1AEUTL",64,0)
 S $P(^A1AE(11005,D0,2,DUZ,0),"^",3)=DT,$P(^A1AE(11005,D0,2,0),"^",3)=DUZ,^A1AE(11005,"AU",DUZ,+$P(^A1AE(11005,D0,0),"^",2),(9999999-DT))=""
"RTN","A1AEUTL",65,0)
 L -^A1AE(11005,D0,2)
"RTN","A1AEUTL",66,0)
 Q
"RTN","A1AEUTL",67,0)
 ;
"RTN","A1AEUTL",68,0)
ENVER ;This entry point is for permitting Verifiers to clean-up
"RTN","A1AEUTL",69,0)
 ;patches which had to be verified by the Postmaster for
"RTN","A1AEUTL",70,0)
 ;version 2.0 of the patch module.
"RTN","A1AEUTL",71,0)
 W !!?27,"*** NOTE ***",!!?3,*7,"This option will update the Verified information section of a patch",!?3,"to a valid verifier, yourself, rather than the Postmaster."
"RTN","A1AEUTL",72,0)
 W !!?3,"It will put your name in as the Verifier and assign the current date",!?3,"as the date the patch was verified."
"RTN","A1AEUTL",73,0)
 W !!?3,"Once you have verified the patch it will not appear as new again",!?3,"to the user and the 'New Patch Bulletin' will not be sent since these",!?3,"occurred when the patch was originally completed."
"RTN","A1AEUTL",74,0)
 ;
"RTN","A1AEUTL",75,0)
ASKPAT S DIC("A")="Select PATCH: ",DIC("S")="I $P(^(0),U,8)=""v"",$P(^(0),U,14)=.5,$P(^(0),U,9)'=DUZ,$P(^(0),U,13)'=DUZ,$D(^A1AE(11007,+$P(^(0),U,2),""PB"",DUZ,0)),$P(^(0),U,2)=""V""",DIC="^A1AE(11005,",DIC(0)="AEMQ"
"RTN","A1AEUTL",76,0)
 W ! D ^DIC K DIC("A"),DIC("S") G Q^A1AEPH1:Y<0 S DA=+Y,A1AEPD=$P(Y,U,2) S %DT="",X="T" D ^%DT S DT=Y
"RTN","A1AEUTL",77,0)
 S A1AERD("A")="Are you sure you want to verify patch "_A1AEPD_"? ",A1AERD(0)="S",A1AERD(1)="Yes^assign yourself as the Verifier",A1AERD(2)="No^leave the verifier as the Postmaster",A1AERD("B")=2
"RTN","A1AEUTL",78,0)
 D SET^A1AERD K A1AERD,Y G Q^A1AEPH1:X["^" I $E(X,1)["Y" W !!?3,"...please wait ",A1AEPD," is being verified..." S DIE="^A1AE(11005,",DR="8////v;11////"_DT_";14////"_DUZ D ^DIE K DE,DQ W "done"
"RTN","A1AEUTL",79,0)
 D Q^A1AEPH1
"RTN","A1AEUTL",80,0)
 G ASKPAT
"RTN","A1AEUTL",81,0)
 ;
"RTN","A1AEUTL",82,0)
NEWVER(PKIEN,PCHIEN) ;Setup a new version of package.  Called when a Package is released
"RTN","A1AEUTL",83,0)
 N FDA,IEN,X,Y,NAME,PV
"RTN","A1AEUTL",84,0)
 ;^A1AE(11007,A1AEPKIF,"V",A1AEVR)
"RTN","A1AEUTL",85,0)
 S X=$G(^A1AE(11005,PCHIEN,0))
"RTN","A1AEUTL",86,0)
 S NAME=$P($G(^A1AE(11005,PCHIEN,4)),U) Q:'$L(NAME)  ;Not a package release
"RTN","A1AEUTL",87,0)
 S PV=+$P(NAME," ",$L(NAME," ")),IEN="+1,"_PKIEN_",",IEN(1)=PV
"RTN","A1AEUTL",88,0)
 S FDA(11007.01,IEN,.01)=PV,FDA(11007.01,IEN,2)=$$DT^XLFDT
"RTN","A1AEUTL",89,0)
 K IEN D UPDATE^DIE("","FDA","IEN")
"RTN","A1AEUTL",90,0)
 Q
"RTN","A1AEUTL1")
0^41^B11413247
"RTN","A1AEUTL1",1,0)
A1AEUTL1 ; RMO,MJK/ALBANY ;1/11/07  12:01
"RTN","A1AEUTL1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEUTL1",3,0)
 ;
"RTN","A1AEUTL1",4,0)
PCHK ;call if $d(^(d0,"q","b")), return az(), k az,print
"RTN","A1AEUTL1",5,0)
 S AZ=0 F  S AZ=$O(^A1AE(11005,D0,"Q",AZ)) Q:'AZ  I $D(^(AZ,0)) S AZ0=^(0),AZ(+AZ0)=$S($D(^A1AE(11005,+AZ0,0)):"("_$P(^(0),"^",8)_")"_$P(^(0),"^"),1:"patch not available") DO
"RTN","A1AEUTL1",6,0)
 .F  Q:AZ(+AZ0)'["*999*"  DO
"RTN","A1AEUTL1",7,0)
 . .S AZ(+AZ0)=$P(AZ(+AZ0),"*999*",1)_"*DBA*"_$P(AZ(+AZ0),"*999*",2,99) Q
"RTN","A1AEUTL1",8,0)
 .I $P(AZ0,"^",2)="y" S AZ("STOP",+AZ0)=AZ(+AZ0),AZ(+AZ0)=$E(AZ(+AZ0)_"     ",1,15)_"<<= must be installed BEFORE"_$S($D(A1AEPD):" `"_A1AEPD_"'",1:"") Q
"RTN","A1AEUTL1",9,0)
 .E  S AZ(+AZ0)=$E(AZ(+AZ0)_"          ",1,19)_"install with patch"_$S($D(A1AEPD):"       `"_A1AEPD_"'",1:"") Q
"RTN","A1AEUTL1",10,0)
 K AZ0
"RTN","A1AEUTL1",11,0)
 I $D(AZ)=11 S AZ("TX",1)="Associated patches: "
"RTN","A1AEUTL1",12,0)
 I $D(CHECK) DO
"RTN","A1AEUTL1",13,0)
 .S AZ=0 F  S AZ=$O(AZ("STOP",AZ)) Q:'AZ  I $D(^A1AE(11005,AZ,0)),$P(^(0),"^",8)="v" K AZ("STOP",AZ)
"RTN","A1AEUTL1",14,0)
 .K STP Q
"RTN","A1AEUTL1",15,0)
 Q:'$D(PRINT)  Q:'$O(AZ(0))
"RTN","A1AEUTL1",16,0)
 ;
"RTN","A1AEUTL1",17,0)
 W !,AZ("TX",1)
"RTN","A1AEUTL1",18,0)
 S AZ=0 F  S AZ=$O(AZ(AZ)) Q:'AZ  W:$X>25 !?20 I AZ(AZ)'["<<" W AZ(AZ),!?20
"RTN","A1AEUTL1",19,0)
 S AZ=0 F  S AZ=$O(AZ(AZ)) Q:'AZ  W:$X>25 !?20 I AZ(AZ)["<<" W AZ(AZ),!?20
"RTN","A1AEUTL1",20,0)
 Q
"RTN","A1AEUTL1",21,0)
 ;
"RTN","A1AEUTL1",22,0)
Q K IO("Q") R !,"REQUESTED TIME TO RUN JOB: NOW// ",X:DTIME Q:X["^"  S Y=$H I $P("NOW",X,1)]"" S:X'["@" X="T@"_X S %DT(0)=0,%DT="TXE" D ^%DT K %DT G Q:Y<1 S X=+Y D H^%DTC S Y=Y_"000",Y=%H_","_($E(Y,9,10)*60+$E(Y,11,12)*60)
"RTN","A1AEUTL1",23,0)
Q1 ;Entry point for background jobs
"RTN","A1AEUTL1",24,0)
 ;S X=Y L ^%ZTSK S (^%ZTSK(0),ZTSK)=^%ZTSK(0)+1 L  X ^%ZOSF("UCI")
"RTN","A1AEUTL1",25,0)
 S X=Y X ^%ZOSF("UCI") S ZTUCI=Y
"RTN","A1AEUTL1",26,0)
 ;S ^%ZTSK(ZTSK,0)="DQ^A1AEUTL1^"_$S($D(DUZ)#2:DUZ,1:"")_"^"_Y_"^"_$H,^("ZTSK")=ZTSK,^("VAR")=VAR,^("VAL")=VAL,^("PGM")=PGM S:$D(DIS(0)) ^("DIS(0)")=DIS(0)
"RTN","A1AEUTL1",27,0)
 F J="VAR","VAL","PGM","DIS(0)" S:$D(@J) ZTSAVE(J)=""
"RTN","A1AEUTL1",28,0)
 S ZTRTN="DQ^A1AEUTL1",ZTIO=ION,ZTDTH=X,ZTDESC="Patch Module Task"
"RTN","A1AEUTL1",29,0)
 ;S ^%ZTSCH(X,ZTSK)=ION_$S(ION]"":";"_IOST_";"_IOSL,1:"") K PGM,VAR,VAL,ZTSK W:ION]"" !,"REQUEST QUEUED!",! Q
"RTN","A1AEUTL1",30,0)
 D ^%ZTLOAD W:ION]"" !,"Request queued!",! K PGM,VAR,VAL,ZTSK Q
"RTN","A1AEUTL1",31,0)
 Q
"RTN","A1AEUTL1",32,0)
DQ ;S PGM=^%ZTSK(ZTSK,"PGM"),VAR=^("VAR"),VAL=^("VAL") S:$D(^("DIS(0)")) DIS(0)=^("DIS(0)") S IOP=IO D:IO]"" ^%ZIS K ^%ZTSK(ZTSK)
"RTN","A1AEUTL1",33,0)
 F A1AEI=1:1 Q:$P(VAR,"^",A1AEI)']""  S @($P(VAR,"^",A1AEI))=$P(VAL,"^",A1AEI)
"RTN","A1AEUTL1",34,0)
 S X="T",%DT="" D ^%DT S DT=Y G @PGM
"RTN","A1AEUTL1",35,0)
 ;
"RTN","A1AEUTL1",36,0)
ZIS S %ZIS="QFM" D ^%ZIS K %ZIS K:POP IO("Q") Q:POP  I $D(IO("Q")) X "S VAL="""" F A1AEI=1:1 Q:$P(VAR,""^"",A1AEI)']""""  S VAL=VAL_@($P(VAR,""^"",A1AEI))_""^""" D Q S POP=1 Q
"RTN","A1AEUTL1",37,0)
 ;I $D(IO("C")) W !!,"EXIT",! C IO(0) Q
"RTN","A1AEUTL1",38,0)
 Q
"RTN","A1AEUTL1",39,0)
 ;
"RTN","A1AEUTL1",40,0)
CLOSE ;G H^XUS:$D(IO("C"))
"RTN","A1AEUTL1",41,0)
 D ^%ZISC U IO(0) S IOP="HOME" D ^%ZIS K IOP Q
"RTN","A1AEUTL1",42,0)
 ;
"RTN","A1AEUTL1",43,0)
 ;S PGM="MDQ^A1AEUTL1",VAR="A1AEPKIF^XMB^DUZ" F I=1:1 Q:'$D(XMB(I))  S VAR=VAR_"^XMB("_I_")",ION=""
"RTN","A1AEUTL1",44,0)
 ;X "S VAL="""" F A1AEI=1:1 Q:$P(VAR,""^"",A1AEI)']""""  S VAL=VAL_@($P(VAR,""^"",A1AEI))_""^"""
"RTN","A1AEUTL1",45,0)
 ;S X="NOW",%DT(0)=0,%DT="TXE" D ^%DT K %DT G Q:Y<1 S X=+Y D H^%DTC S Y=Y_"000",Y=%H_","_($E(Y,9,10)*60+$E(Y,11,12)*60) D Q1 K A1AEI Q
"RTN","A1AEUTL1",46,0)
 ;
"RTN","A1AEUTL1",47,0)
M ;Send Bulletins to appropriate users stored in XMY
"RTN","A1AEUTL1",48,0)
 K:$P(^A1AE(11007,A1AEPKIF,0),"^",2)'="Y"&($P(^(0),"^",4)'="y") ^TMP("XMY",$J),XMY
"RTN","A1AEUTL1",49,0)
 Q:'$D(^TMP("XMY",$J))&('$D(XMY))!('$D(DUZ))
"RTN","A1AEUTL1",50,0)
 S XMDUZ=DUZ D EN^XMB K ^TMP("XMY",$J),XMY
"RTN","A1AEUTL1",51,0)
 Q
"RTN","A1AEUTL1",52,0)
 ;
"RTN","A1AEUTL1",53,0)
DATE ;Ask Date Range of Verified patches
"RTN","A1AEUTL1",54,0)
 S POP=0 K BEGDATE,ENDDATE W !!,"**** Date Range of Released Patches ****"
"RTN","A1AEUTL1",55,0)
 W ! S %DT="APEX",%DT("A")="   Beginning DATE : " D ^%DT S:Y<0 POP=1 Q:Y<0  S (%DT(0),BEGDATE)=Y
"RTN","A1AEUTL1",56,0)
 W ! S %DT="APEX",%DT("A")="   Ending    DATE : " D ^%DT K %DT S:Y<0 POP=1 Q:Y<0  W ! S ENDDATE=Y
"RTN","A1AEUTL1",57,0)
 Q
"RTN","A1AEUTL1",58,0)
XTM S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3)_$P("@"_$E(Y_0,9,10)_":"_$E(Y_"000",11,12),"^",Y[".") S:Y="//" Y="" Q
"RTN","A1AEUTL1",59,0)
TM S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_$E(Y,2,3) S:Y="//" Y="" Q
"RTN","A1AEUTL1",60,0)
 Q
"RTN","A1AEUTL2")
0^42^B12885096
"RTN","A1AEUTL2",1,0)
A1AEUTL2 ;ISF/RWF - Utility: Routine Info ;09/04/2008  1075122.654128
"RTN","A1AEUTL2",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEUTL2",3,0)
 Q
"RTN","A1AEUTL2",4,0)
 ;Called from the FM Print template [A1AE STANDARD PRINT]
"RTN","A1AEUTL2",5,0)
 ; and A1AEMAL to show the routine info
"RTN","A1AEUTL2",6,0)
RTNINFO(MAL) ;
"RTN","A1AEUTL2",7,0)
 N A1,A2,A3,AX,OLD,NEW,RN,PL,X,AEQ,DIR,DIRUT,DUOUT,PATCH,NC,L2
"RTN","A1AEUTL2",8,0)
 S MAL=$G(MAL)
"RTN","A1AEUTL2",9,0)
 I '$O(^A1AE(11005,D0,"P",0)) D OUT("No routines included.") Q
"RTN","A1AEUTL2",10,0)
 ;See if New Checksums
"RTN","A1AEUTL2",11,0)
 S D1=0,NC=0
"RTN","A1AEUTL2",12,0)
 F  S D1=$O(^A1AE(11005,D0,"P",D1)) Q:'D1  S AX=^(D1,0) I $L($P(AX,U,2)) S NC=1 Q
"RTN","A1AEUTL2",13,0)
 ;
"RTN","A1AEUTL2",14,0)
 S L2=$G(^A1AE(11005,D0,"P2"))
"RTN","A1AEUTL2",15,0)
 I $L(L2) D OUT("The second line of each of these routines now looks like:"),OUT(L2),OUT("")
"RTN","A1AEUTL2",16,0)
 I NC D OUT("The checksums below are new checksums, and"),OUT(" can be checked with CHECK1^XTSUMBLD."),OUT("")
"RTN","A1AEUTL2",17,0)
 K ^TMP("A1AEPL",$J)
"RTN","A1AEUTL2",18,0)
 S D1=0,$P(AEQ,"=",78)="",PATCH=+$P(^A1AE(11005,D0,0),U,4),RN=""
"RTN","A1AEUTL2",19,0)
 F  S RN=$O(^A1AE(11005,D0,"P","B",RN)) Q:RN=""  D
"RTN","A1AEUTL2",20,0)
 . S D1=$O(^A1AE(11005,D0,"P","B",RN,0)) Q:'D1  S AX=^A1AE(11005,D0,"P",D1,0) D
"RTN","A1AEUTL2",21,0)
 . I 'MAL,$E(IOST,1,2)="C-",$Y+3>IOSL S DIR(0)="E" D ^DIR W:Y @IOF I 'Y S RN="{"  Q
"RTN","A1AEUTL2",22,0)
 . ;See if we have a KIDS checksum
"RTN","A1AEUTL2",23,0)
 . S NEW="",NEW=$P(AX,U,2),PL=$P(AX,U,3),OLD=$P(AX,U,4)
"RTN","A1AEUTL2",24,0)
 . I PATCH D PTLBLD(PL,PATCH)
"RTN","A1AEUTL2",25,0)
 . I '$L(OLD) S OLD=$$BCS(RN) I $G(A1AENEW)="v" S $P(^A1AE(11005,D0,"P",D1,0),U,4)=OLD ;Save the old at the time of release
"RTN","A1AEUTL2",26,0)
 . D OUT("Routine Name: "_RN)
"RTN","A1AEUTL2",27,0)
 . ;S:OLD=""!(OLD=NEW) OLD="n/a"
"RTN","A1AEUTL2",28,0)
 . S:OLD="" OLD="n/a"
"RTN","A1AEUTL2",29,0)
 . I $L(NEW) D
"RTN","A1AEUTL2",30,0)
 . . D WRAP("    Before:"_$J(OLD,10)_"   After:"_$J(NEW,10)_"  ",PL)
"RTN","A1AEUTL2",31,0)
 . S D2=0
"RTN","A1AEUTL2",32,0)
 . ;Display entered checksums if can't find KIDS checksum.
"RTN","A1AEUTL2",33,0)
 . I '$L(NEW),$O(^A1AE(11005,D0,"P",D1,"X",0))>0 D
"RTN","A1AEUTL2",34,0)
 . . D OUT("    Checksum:")
"RTN","A1AEUTL2",35,0)
 . . F  S D2=$O(^A1AE(11005,D0,"P",D1,"X",D2)) Q:'D2  S X=$G(^(D2,0)) D OUT("  "_X)
"RTN","A1AEUTL2",36,0)
 . . Q
"RTN","A1AEUTL2",37,0)
 . ;Show Description if entered.
"RTN","A1AEUTL2",38,0)
 . I $O(^A1AE(11005,D0,"P",D1,"D",0))>0 D
"RTN","A1AEUTL2",39,0)
 . . D OUT(" Description of Changes:")
"RTN","A1AEUTL2",40,0)
 . . S D2=0
"RTN","A1AEUTL2",41,0)
 . . F  S D2=$O(^A1AE(11005,D0,"P",D1,"D",D2)) Q:'D2  S X=$G(^(D2,0)) D OUT("  "_X)
"RTN","A1AEUTL2",42,0)
 . . D OUT("")
"RTN","A1AEUTL2",43,0)
 . Q
"RTN","A1AEUTL2",44,0)
 D DSP(PATCH)
"RTN","A1AEUTL2",45,0)
 K TMP("A1AEPL",$J)
"RTN","A1AEUTL2",46,0)
 Q
"RTN","A1AEUTL2",47,0)
 ;
"RTN","A1AEUTL2",48,0)
BCS(RN) ;Get the Before CheckSum
"RTN","A1AEUTL2",49,0)
 N C,X
"RTN","A1AEUTL2",50,0)
 S C="",RN=$TR(RN,$C(34)) ;Remove any Quotes
"RTN","A1AEUTL2",51,0)
 S X=$O(^DIC(9.8,"B",RN,0)) I X>0 S C=$P($G(^DIC(9.8,X,4)),U,2)
"RTN","A1AEUTL2",52,0)
 S:'$L(C) C="n/a"
"RTN","A1AEUTL2",53,0)
 Q C
"RTN","A1AEUTL2",54,0)
 ;
"RTN","A1AEUTL2",55,0)
OUT(S) ;Write or put in MSG
"RTN","A1AEUTL2",56,0)
 I MAL D ADD^A1AEMAL(S) Q
"RTN","A1AEUTL2",57,0)
 D N^DIO2 W S
"RTN","A1AEUTL2",58,0)
 Q
"RTN","A1AEUTL2",59,0)
 ;
"RTN","A1AEUTL2",60,0)
WRAP(P,S) ;Wrap S starting at length of P.
"RTN","A1AEUTL2",61,0)
 I $L(S)+$L(P)<80 D OUT(P_S) Q
"RTN","A1AEUTL2",62,0)
 N I,T,C,L S C=$L(P),$P(L," ",C+2)=""
"RTN","A1AEUTL2",63,0)
 S I=$F(S,",",70-C) D OUT(P_$E(S,1,I-1)) S S=$E(S,I,999)
"RTN","A1AEUTL2",64,0)
 F  S I=$F(S,",",70-C),I=$S(I>0:I,1:$L(S)+2) D OUT(L_$E(S,1,I-1)) S S=$E(S,I,999) Q:'$L(S)
"RTN","A1AEUTL2",65,0)
 Q
"RTN","A1AEUTL2",66,0)
 ;
"RTN","A1AEUTL2",67,0)
 ;
"RTN","A1AEUTL2",68,0)
DSP(PATCH) ;Display Patch List
"RTN","A1AEUTL2",69,0)
 N PL,I
"RTN","A1AEUTL2",70,0)
 D PTLDSP(.PL,PATCH)
"RTN","A1AEUTL2",71,0)
 F I=1:1 Q:'$D(PL(I))  D OUT(PL(I))
"RTN","A1AEUTL2",72,0)
 Q
"RTN","A1AEUTL2",73,0)
 ;
"RTN","A1AEUTL2",74,0)
 ;Build patch list
"RTN","A1AEUTL2",75,0)
PTLBLD(Z,PATCH) ;Build in ^TMP the patches used
"RTN","A1AEUTL2",76,0)
 ;Z is routine second line, PATCH is patch number
"RTN","A1AEUTL2",77,0)
 N I,J,K,P S Z=$P(Z,"**",2),K=""
"RTN","A1AEUTL2",78,0)
 F I=1:1 S J=+$P(Z,",",I) Q:(J=0)  I (J'=PATCH) S P=$G(^TMP("A1AEPL",$J,J)),^TMP("A1AEPL",$J,J)=P_K S K=K_J_","
"RTN","A1AEUTL2",79,0)
 Q
"RTN","A1AEUTL2",80,0)
PTLSRT ;Sort the list
"RTN","A1AEUTL2",81,0)
 N I,J,K,L S I=0
"RTN","A1AEUTL2",82,0)
 M PTL=^TMP("A1AEPL",$J)
"RTN","A1AEUTL2",83,0)
 F I=0:0 S I=$O(^TMP("A1AEPL",$J,I)) Q:I'>0  S K=^(I) D
"RTN","A1AEUTL2",84,0)
 . F J=1:1 S L=$P(K,",",J) Q:L=""  K PTL(L)
"RTN","A1AEUTL2",85,0)
 . Q
"RTN","A1AEUTL2",86,0)
 Q
"RTN","A1AEUTL2",87,0)
 ;
"RTN","A1AEUTL2",88,0)
PTLDSP(RET,PATCH) ;Display list of patches.
"RTN","A1AEUTL2",89,0)
 ;RET passed by Reference, PATCH is patch number.
"RTN","A1AEUTL2",90,0)
 I '$G(^A1AE(11005,D0,5)) Q  ;See if want to show list.
"RTN","A1AEUTL2",91,0)
 N PTL
"RTN","A1AEUTL2",92,0)
 D PTLSRT
"RTN","A1AEUTL2",93,0)
 N I,J,IX K PTL(PATCH)
"RTN","A1AEUTL2",94,0)
 Q:$O(PTL(0))=""
"RTN","A1AEUTL2",95,0)
 S RET(1)=" ",RET(2)="Routine list of preceding patches: "
"RTN","A1AEUTL2",96,0)
 S (I,J)="",IX=2
"RTN","A1AEUTL2",97,0)
 F  S I=$O(PTL(I)) Q:I=""  D
"RTN","A1AEUTL2",98,0)
 . I $L(RET(IX))>70 S IX=IX+1,J="",RET(IX)="                           "
"RTN","A1AEUTL2",99,0)
 . S RET(IX)=RET(IX)_J_I,J=", "
"RTN","A1AEUTL2",100,0)
 Q
"RTN","A1AEUTL3")
0^43^B7005914
"RTN","A1AEUTL3",1,0)
A1AEUTL3 ; PKE,RMO,MJK/ALBANY ; Utility add SEQ # ;10 OCT 92 11:00 pm
"RTN","A1AEUTL3",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEUTL3",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEUTL3",4,0)
 ;
"RTN","A1AEUTL3",5,0)
 I $D(DIFROM)
"RTN","A1AEUTL3",6,0)
 E  W !?3,$C(7),"This routine should only be after v2.2 inits "
"RTN","A1AEUTL3",7,0)
 E  W !?3,"This routine locks SEQ # by package version" Q
"RTN","A1AEUTL3",8,0)
EN W !?0,"Post initialization running ...  "
"RTN","A1AEUTL3",9,0)
 D NOW^%DTC S Y=% D DD^%DT W Y,!
"RTN","A1AEUTL3",10,0)
 D GET
"RTN","A1AEUTL3",11,0)
 S CT=0,IFN=0
"RTN","A1AEUTL3",12,0)
 W !?3,"Finding verified patches for last 2 versions",!
"RTN","A1AEUTL3",13,0)
 F  S IFN=$O(^A1AE(11005,IFN)) Q:'IFN  I $D(^(IFN,0)) S IF0=^(0) DO
"RTN","A1AEUTL3",14,0)
 .S A1AEPKIF=+$P(IF0,"^",2),A1AEVR=+$P(IF0,"^",3),VDT=+$P(IF0,"^",11)
"RTN","A1AEUTL3",15,0)
 .;I $D(^TMP("A1AEV",A1AEPKIF,A1AEVR)),$P(IF0,"^",8)="v" DO
"RTN","A1AEUTL3",16,0)
 .I $D(^TMP("A1AEV",A1AEPKIF,A1AEVR)),"ver"[$E($P(IF0,"^",8)_0) DO
"RTN","A1AEUTL3",17,0)
 ..S ^TMP("A1AEV",A1AEPKIF,A1AEVR,VDT,IFN)="",CT=CT+1
"RTN","A1AEUTL3",18,0)
 ..W:CT#10=0 "." W:$X>65 !
"RTN","A1AEUTL3",19,0)
 W !
"RTN","A1AEUTL3",20,0)
 ;Q
"RTN","A1AEUTL3",21,0)
SET S A1AEPKIF=0,CT=0,A1AENEW="v",SEQ=0
"RTN","A1AEUTL3",22,0)
 W !?3,"Adding SEQ # to verified patches",!
"RTN","A1AEUTL3",23,0)
 F  S A1AEPKIF=$O(^TMP("A1AEV",A1AEPKIF)) Q:'A1AEPKIF  DO
"RTN","A1AEUTL3",24,0)
 .S A1AEVR=0
"RTN","A1AEUTL3",25,0)
 .F  S A1AEVR=$O(^TMP("A1AEV",A1AEPKIF,A1AEVR)) Q:'A1AEVR  DO
"RTN","A1AEUTL3",26,0)
 ..W !?3,^(A1AEVR),"*",A1AEVR,?15
"RTN","A1AEUTL3",27,0)
 ..L +^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR")
"RTN","A1AEUTL3",28,0)
 ..S VDT=0
"RTN","A1AEUTL3",29,0)
 ..F  S VDT=$O(^TMP("A1AEV",A1AEPKIF,A1AEVR,VDT)) Q:'VDT  DO
"RTN","A1AEUTL3",30,0)
 ...S IFN=0
"RTN","A1AEUTL3",31,0)
 ...F  S IFN=$O(^TMP("A1AEV",A1AEPKIF,A1AEVR,VDT,IFN)) Q:'IFN  DO
"RTN","A1AEUTL3",32,0)
 ....S DA=IFN D SEQ
"RTN","A1AEUTL3",33,0)
 ....S CT=CT+1 W SEQ,"  " W:$X>67 !?15 Q
"RTN","A1AEUTL3",34,0)
 ..L -^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR") Q
"RTN","A1AEUTL3",35,0)
 ;
"RTN","A1AEUTL3",36,0)
 W !
"RTN","A1AEUTL3",37,0)
 W !?0,"... Post initialization complete:  "
"RTN","A1AEUTL3",38,0)
 D NOW^%DTC S Y=% D DD^%DT W Y,!!
"RTN","A1AEUTL3",39,0)
 K AZ,A1AEPKIF,A1AEVR,A1AENEW,VDT,IFN,DA,Y
"RTN","A1AEUTL3",40,0)
 ;K ^TMP("A1AEV")
"RTN","A1AEUTL3",41,0)
 Q
"RTN","A1AEUTL3",42,0)
SEQ S:'$D(^A1AE(11007,A1AEPKIF,"V",A1AEVR,"PR")) ^("PR")=0 S SEQ=^("PR")+1,^("PR")=SEQ
"RTN","A1AEUTL3",43,0)
 I A1AENEW="v" S $P(^A1AE(11005,DA,0),"^",6)=SEQ
"RTN","A1AEUTL3",44,0)
 Q
"RTN","A1AEUTL3",45,0)
 ;
"RTN","A1AEUTL3",46,0)
 ;sets tmp for all packages,versions
"RTN","A1AEUTL3",47,0)
GET S A1AEPKIF=0 K ^TMP("A1AEV")
"RTN","A1AEUTL3",48,0)
 W !?3,"Finding last 2 versions of packages",!
"RTN","A1AEUTL3",49,0)
 F  S A1AEPKIF=$O(^A1AE(11007,A1AEPKIF)) Q:'A1AEPKIF  DO
"RTN","A1AEUTL3",50,0)
 .S A1AEVR=0
"RTN","A1AEUTL3",51,0)
 .F  S A1AEVR=$O(^A1AE(11007,A1AEPKIF,"V",A1AEVR)) Q:'A1AEVR  DO
"RTN","A1AEUTL3",52,0)
 ..S AZ(A1AEPKIF,A1AEVR)=""
"RTN","A1AEUTL3",53,0)
 ..I A1AEVR'=999
"RTN","A1AEUTL3",54,0)
 ..E  S ^TMP("A1AEV",A1AEPKIF,999)=$P(^DIC(9.4,A1AEPKIF,0),"^",2)
"RTN","A1AEUTL3",55,0)
 .;
"RTN","A1AEUTL3",56,0)
 .S A1AEVR=999 ;skip db versions 999
"RTN","A1AEUTL3",57,0)
 .F N=1:1 S A1AEVR=$O(AZ(A1AEPKIF,A1AEVR),-1) Q:'A1AEVR  DO
"RTN","A1AEUTL3",58,0)
 ..I N>2 Q
"RTN","A1AEUTL3",59,0)
 ..S ^TMP("A1AEV",A1AEPKIF,A1AEVR)=$P(^DIC(9.4,A1AEPKIF,0),"^",2) Q
"RTN","A1AEUTL3",60,0)
 Q
"RTN","A1AEVP")
0^44^B30091569
"RTN","A1AEVP",1,0)
A1AEVP ; RMO,MJK/ALBANY ; Screen Display and Print of New Verified Patches ;24 NOV 87 11:00 am
"RTN","A1AEVP",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEVP",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEVP",4,0)
DSPNEW D CHKNEW G Q:'Y
"RTN","A1AEVP",5,0)
 W !!,"..please wait checking number of new patches for your selected package(s).." S IOP="HOME" D ^%ZIS K IOP,^TMP("A1AE",$J,"SCN"),A1AEPKIF D GETPKG G Q:'$D(^TMP("A1AE",$J,"SCN")) S A1AEHD="Number of New DHCP Patches" D HD S A1AEPKNM=""
"RTN","A1AEVP",6,0)
 F A1AEI1=0:0 S A1AEPKNM=$O(^TMP("A1AE",$J,"SCN",A1AEPKNM)) Q:A1AEPKNM=""  I $P(^TMP("A1AE",$J,"SCN",A1AEPKNM),"^",1) S A1AENEW="" D SCNPRT
"RTN","A1AEVP",7,0)
 W:'$D(A1AENEW) !!?3,"...no new patches for your selected package(s)..." D CRCHK:($Y+8)>IOSL G Q
"RTN","A1AEVP",8,0)
 ;
"RTN","A1AEVP",9,0)
SCNPRT D HD:($Y+4)>IOSL W !,$P(A1AEPKNM,"-",1),?$X+(4-$L($P(A1AEPKNM,"-",1))),"-",$E($P(A1AEPKNM,"-",2),1,14),?25,$P(^TMP("A1AE",$J,"SCN",A1AEPKNM),"^",1) S Y=$P(^TMP("A1AE",$J,"SCN",A1AEPKNM),"^",2) W ?35 D DT^DIQ
"RTN","A1AEVP",10,0)
 Q
"RTN","A1AEVP",11,0)
 ;
"RTN","A1AEVP",12,0)
PRTNEW D CHKNEW
"RTN","A1AEVP",13,0)
 S A1AEVPR="" K ^TMP("A1AE",$J,"SCN"),A1AEPKIF D @($S($D(^A1AE(11007,"AU",DUZ)):"PKGPMT",1:"PKGSEL")) G Q:X="^"!($D(A1AENOSL)) S PGM="START^A1AEVP",VAR=$S($D(A1AEPKIF):"A1AEPKIF^DUZ^A1AEVPR",1:"DUZ^A1AEVPR") W ! D ZIS^A1AEUTL1 G Q:POP
"RTN","A1AEVP",14,0)
 ;
"RTN","A1AEVP",15,0)
START U IO D GETPKG G ENDPRT:'$D(^TMP("A1AE",$J,"SCN")) S A1AEHD="New DHCP Patches",(A1AEPKNM,A1AEOUT)="",^UTILITY($J,1)="D HD^A1AEPH2" F A1AEI=0:0 S A1AEPKNM=$O(^TMP("A1AE",$J,"SCN",A1AEPKNM)) Q:A1AEPKNM=""!(A1AEOUT["^")  D PRT
"RTN","A1AEVP",16,0)
ENDPRT W:'$D(^TMP("A1AE",$J,"SCN")) !?3,"...no new patches for your selected package(s)" G Q
"RTN","A1AEVP",17,0)
 ;
"RTN","A1AEVP",18,0)
PKGPMT R !!,"Do you want to Print Patches for a Specific Package? No// ",X:DTIME G Q:'$T!(X="^") S:X="" X="N" G PKGSEL:"Yy"[$E(X,1) Q:"Nn"[$E(X,1)  W:X'["?" *7 D PKGHLP G PKGPMT
"RTN","A1AEVP",19,0)
 ;
"RTN","A1AEVP",20,0)
PKGHLP W !!,"Enter Yes to print patches for any package in the Patch File.",!,"Enter No to print patches for all your selected packages."
"RTN","A1AEVP",21,0)
 Q
"RTN","A1AEVP",22,0)
 ;
"RTN","A1AEVP",23,0)
PKGSEL S DIC("S")="I $P(^(0),U,2)=""Y""!($P(^(0),U,4)=""y""&($D(^A1AE(11007,""AU"",DUZ,+Y))))" D PKG^A1AEUTL S:'$D(A1AEPK) A1AENOSL="" Q:$D(A1AENOSL)  D PKGADD:'$D(^A1AE(11007,"AU",DUZ,A1AEPKIF))
"RTN","A1AEVP",24,0)
 Q
"RTN","A1AEVP",25,0)
 ;
"RTN","A1AEVP",26,0)
PKGADD W !!,"Do you want to receive automatic notification and printing",!,"of ",A1AEPKNM,"? No// " R X:DTIME Q:'$T!(X="^")  S:X="" X="N" I "NYny"'[$E(X,1) W:X'["?" *7 W !!,"Enter Y to Add ",A1AEPKNM,", or N continue." G PKGADD
"RTN","A1AEVP",27,0)
 I "Yy"[$E(X,1) D SETNOD^A1AEAU
"RTN","A1AEVP",28,0)
 Q
"RTN","A1AEVP",29,0)
 ;
"RTN","A1AEVP",30,0)
PRT S A1AEPD="" F A1AEI1=0:0 S A1AEPD=$O(^TMP("A1AE",$J,"SCN",A1AEPKNM,A1AEPD)) Q:A1AEPD=""!(A1AEOUT["^")  D PRT1
"RTN","A1AEVP",31,0)
 Q
"RTN","A1AEVP",32,0)
 ;
"RTN","A1AEVP",33,0)
PRT1 F A1AEIFN=0:0 S A1AEIFN=+$O(^TMP("A1AE",$J,"SCN",A1AEPKNM,A1AEPD,A1AEIFN)) Q:'A1AEIFN!(A1AEOUT["^")  S DIWF="B4|",D0=A1AEIFN K ^UTILITY($J,"W"),DXS D HD^A1AEPH2,^A1AEP K DN,DXS,^UTILITY($J,"W")
"RTN","A1AEVP",34,0)
 Q
"RTN","A1AEVP",35,0)
 ;
"RTN","A1AEVP",36,0)
Q W ! K ^UTILITY($J),DN,DXS,A1AEPD,A1AEPK,A1AEOUT,A1AEIFN,^TMP("A1AE",$J,"SCN"),A1AELTP,A1AEDTV,A1AEPKIF,A1AEPKNM,A1AEPGE,A1AEVPR,A1AEHD,A1AEI,A1AEI1,A1AETOT,A1AENOSL,A1AENEW,A1AEPGE,POP,PGM,VAR D CLOSE^A1AEUTL1
"RTN","A1AEVP",37,0)
 Q
"RTN","A1AEVP",38,0)
 ;
"RTN","A1AEVP",39,0)
GETPKG I $D(A1AEPKIF) D GETDTV Q
"RTN","A1AEVP",40,0)
 F A1AEPKIF=0:0 S A1AEPKIF=+$O(^A1AE(11007,"AU",DUZ,A1AEPKIF)) Q:'A1AEPKIF  I $P(^A1AE(11007,A1AEPKIF,0),"^",2)="Y"!($P(^(0),"^",4)="y") W "." D GETDTV
"RTN","A1AEVP",41,0)
 Q
"RTN","A1AEVP",42,0)
 ;
"RTN","A1AEVP",43,0)
GETDTV Q:'$D(^DIC(9.4,A1AEPKIF,0))  S A1AELTP=+$O(^A1AE(11005,"AU",DUZ,A1AEPKIF,0)) S:'A1AELTP A1AELTP=9999999 S A1AEPKNM=$P(^DIC(9.4,A1AEPKIF,0),"^",2)_"-"_$P(^DIC(9.4,A1AEPKIF,0),"^",1) I '$D(A1AEVPR) S A1AETOT=0
"RTN","A1AEVP",44,0)
 F A1AEDTV=0:0 S A1AEDTV=+$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV)) Q:'A1AEDTV  D GETIFN
"RTN","A1AEVP",45,0)
 I '$D(A1AEVPR) S $P(^TMP("A1AE",$J,"SCN",A1AEPKNM),"^",1)=A1AETOT,$P(^TMP("A1AE",$J,"SCN",A1AEPKNM),"^",2)=$S(A1AELTP=9999999:"Never Printed",1:9999999-A1AELTP)
"RTN","A1AEVP",46,0)
 Q
"RTN","A1AEVP",47,0)
 ;
"RTN","A1AEVP",48,0)
GETIFN F A1AEIFN=0:0 S A1AEIFN=+$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV,A1AEIFN)) Q:'A1AEIFN  I '$D(^A1AE(11005,A1AEIFN,2,DUZ)) S:'$D(A1AEVPR) A1AETOT=A1AETOT+1 D SETLOC:$D(A1AEVPR)
"RTN","A1AEVP",49,0)
 Q
"RTN","A1AEVP",50,0)
 ;
"RTN","A1AEVP",51,0)
SETLOC S ^TMP("A1AE",$J,"SCN",A1AEPKNM,$S($D(^A1AE(11005,A1AEIFN,0)):$P(^(0),"^",1),1:"UNKNOWN"),A1AEIFN)=""
"RTN","A1AEVP",52,0)
 Q
"RTN","A1AEVP",53,0)
 ;
"RTN","A1AEVP",54,0)
HD S:'$D(A1AEPGE) A1AEPGE=0 D CRCHK W @IOF,!,A1AEHD S A1AEPGE=A1AEPGE+1,Y=DT W ?55 D DT^DIQ W ?70,"Page: ",A1AEPGE W ! F I=1:1:78 W "="
"RTN","A1AEVP",55,0)
 W !!,"Package",?25,"Number",?35,"Date Last Printed",!,"-------------------",?25,"------",?35,"-----------------"
"RTN","A1AEVP",56,0)
 Q
"RTN","A1AEVP",57,0)
 ;
"RTN","A1AEVP",58,0)
CRCHK I A1AEPGE,$E(IOST,1)="C" W !!,"Press RETURN to continue " R X:DTIME
"RTN","A1AEVP",59,0)
 Q
"RTN","A1AEVP",60,0)
 ;
"RTN","A1AEVP",61,0)
CHKNEW S %DT="",X="T" D ^%DT S DT=Y,Y=1 I '$D(^A1AE(11007,"AU",DUZ)) W !!?3,*7,"You have not selected any packages for automatic notification and",!?3,"printing of patches." S Y=0
"RTN","A1AEVP",62,0)
 Q
"RTN","A1AEVP1")
0^45^B8362076
"RTN","A1AEVP1",1,0)
A1AEVP1 ; RMO,pke/ALBANY-Update as printed ;23 MAR 88 9:00 am
"RTN","A1AEVP1",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEVP1",3,0)
 ;;Version 2.2;PROBLEM/PATCH REPORTING;;12/02/92
"RTN","A1AEVP1",4,0)
 ;
"RTN","A1AEVP1",5,0)
 S A1AEUSR=DUZ,A1AEUSNM=$P(^VA(200,DUZ,0),U)
"RTN","A1AEVP1",6,0)
 W !?2,"Are you sure you want to update the print status"
"RTN","A1AEVP1",7,0)
 S A1AERD("A")="     for ALL your selected packages ? "
"RTN","A1AEVP1",8,0)
 ;S A1AERD("A")="Are you sure you want to update the print status for ALL your selected packages ? "
"RTN","A1AEVP1",9,0)
 S A1AERD(1)="Yes^update your print status of released patches"
"RTN","A1AEVP1",10,0)
 S A1AERD(2)="No^do not update your print status"
"RTN","A1AEVP1",11,0)
 S A1AERD(0)="S",A1AERD("B")=2 D SET^A1AERD K A1AERD D UPDATE:"Y"[$E(X,1)
"RTN","A1AEVP1",12,0)
 ;
"RTN","A1AEVP1",13,0)
Q K A1AEUSNM,A1AEDTV,A1AEIFN,A1AEPKIF,A1AEUSR
"RTN","A1AEVP1",14,0)
 Q
"RTN","A1AEVP1",15,0)
 ;
"RTN","A1AEVP1",16,0)
UPDATE W !!,"Overriding patch print status for ",A1AEUSNM,"'s selected packages.",! S %DT="",X="T" D ^%DT S DT=Y
"RTN","A1AEVP1",17,0)
 F A1AEPKIF=0:0 S A1AEPKIF=$O(^A1AE(11007,"AU",A1AEUSR,A1AEPKIF)) Q:'A1AEPKIF  I $D(^A1AE(11007,A1AEPKIF,0)),$P(^(0),"^",2)="Y",$D(^DIC(9.4,A1AEPKIF,0)) W !?3,"Updating print status for ",$P(^(0),"^",2)," patches..." D CHKDTV
"RTN","A1AEVP1",18,0)
 Q
"RTN","A1AEVP1",19,0)
 ;
"RTN","A1AEVP1",20,0)
CHKDTV F A1AEDTV=0:0 S A1AEDTV=+$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV)) Q:'A1AEDTV  F A1AEIFN=0:0 S A1AEIFN=+$O(^A1AE(11005,"AV",A1AEPKIF,A1AEDTV,A1AEIFN)) Q:'A1AEIFN  I '$D(^A1AE(11005,A1AEIFN,2,A1AEUSR)) D SETPRT
"RTN","A1AEVP1",21,0)
 Q
"RTN","A1AEVP1",22,0)
 ;
"RTN","A1AEVP1",23,0)
SETPRT W !?6,$P(^A1AE(11005,A1AEIFN,0),"^") L ^A1AE(11005,A1AEIFN,2) S:'$D(^A1AE(11005,A1AEIFN,2,0)) ^(0)="^11005.02P^^" S:'$D(^A1AE(11005,A1AEIFN,2,A1AEUSR,0)) $P(^(0),"^",1,2)=A1AEUSR_"^"_DT,$P(^(0),"^",4)=$P(^A1AE(11005,A1AEIFN,2,0),"^",4)+1
"RTN","A1AEVP1",24,0)
 S $P(^A1AE(11005,A1AEIFN,2,A1AEUSR,0),"^",3)=DT,$P(^A1AE(11005,A1AEIFN,2,0),"^",3)=A1AEUSR,^A1AE(11005,"AU",A1AEUSR,+$P(^A1AE(11005,A1AEIFN,0),"^",2),(9999999-DT))="" L
"RTN","A1AEVP1",25,0)
 Q
"RTN","A1AEZCON")
0^46^B10452406
"RTN","A1AEZCON",1,0)
A1AEZCON ;RMO/ALBANY ; Utility- Prefix Conversion;21 JAN 88 10:00 am
"RTN","A1AEZCON",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEZCON",3,0)
 ;Version 2.0 ; *** NOT FOR GENERAL DISTRIBUTION ***
"RTN","A1AEZCON",4,0)
CONPAT ;Package prefix conversion entry point.
"RTN","A1AEZCON",5,0)
 I '$D(^XUSEC("A1AE MGR",DUZ)) W !,*7,"You must hold the 'A1AE MGR' key to proceed with this option." G Q
"RTN","A1AEZCON",6,0)
 W !!,*7,"WARNING: This routine ASSUMES you are dealing with a prefix change within",!?9,"the same package in the patch module."
"RTN","A1AEZCON",7,0)
 W !!?9,"The routine also ASSUMES you have updated the prefix in the",!?9,"package file to the 'NEW' one for future patches."
"RTN","A1AEZCON",8,0)
 W !!?9,"Do NOT use this routine to transfer patches from one package",!?9,"name to another."
"RTN","A1AEZCON",9,0)
 S DIC("A")="Select PACKAGE: ",DIC="^A1AE(11007,",DIC(0)="AEMQ" W ! D ^DIC K DIC G Q:Y<0 S A1AEPKIF=+Y
"RTN","A1AEZCON",10,0)
 R !!,"'CURRENT' PACKAGE PREFIX IN PATCH FILE: ",X:DTIME G Q:'$T!(X="")!(X["^") S A1AECPRE=X,A1AEIFN=$O(^A1AE(11005,"D",A1AEPKIF,0))
"RTN","A1AEZCON",11,0)
 G Q:'$D(^A1AE(11005,+A1AEIFN,0)) I $P($P(^(0),"^"),"*",1)'=A1AECPRE W !?3,*7,"Invalid Namespace for selected package!" G Q
"RTN","A1AEZCON",12,0)
 R !,"'NEW'     PACKAGE PREFIX IN PACKAGE FILE: ",X:DTIME G Q:'$T!(X="")!(X["^") S A1AENPRE=X I '$D(^DIC(9.4,"C",X,A1AEPKIF)) W !?3,*7,"The 'NEW' prefix must be in the package file to continue!" G Q
"RTN","A1AEZCON",13,0)
 S A1AERD("A")="Are you sure you want to convert all '"_A1AECPRE_"' patches to '"_A1AENPRE_"'? ",A1AERD(0)="S",A1AERD(1)="Yes^convert.",A1AERD(2)="No^not convert.",A1AERD("B")=2 D SET^A1AERD K A1AERD G Q:X'["Yes"
"RTN","A1AEZCON",14,0)
 W !!,"...searching for patches prefixed by ",A1AECPRE,!
"RTN","A1AEZCON",15,0)
 S A1AEPD="" F A1AELP=0:0 S A1AEPD=$O(^A1AE(11005,"B",A1AEPD)) Q:A1AEPD=""  I $P(A1AEPD,"*")=A1AECPRE S A1AEIFN=$O(^(A1AEPD,0)) I A1AEIFN,$D(^A1AE(11005,A1AEIFN,0)) D CHGPAT
"RTN","A1AEZCON",16,0)
Q K A1AEIFN,A1AELP,A1AEPD,A1AEPKIF,A1AECPRE,A1AENPRE,A1AEPAT,X,Y
"RTN","A1AEZCON",17,0)
 Q
"RTN","A1AEZCON",18,0)
 ;
"RTN","A1AEZCON",19,0)
CHGPAT B  S A1AEPAT=A1AENPRE_"*"_$P(A1AEPD,"*",2)_"*"_$P(A1AEPD,"*",3) I $D(^A1AE(11005,"B",A1AEPAT)) W !,"...",A1AEPD," not changed ",A1AEPAT," already exists" Q
"RTN","A1AEZCON",20,0)
 S DA=A1AEIFN,DIE="^A1AE(11005,",DR=".01////"_A1AEPAT D ^DIE K DA,DE,DQ,DIE W !,"...",A1AEPD," changed to ",A1AEPAT
"RTN","A1AEZCON",21,0)
 Q
"RTN","A1AEZTST")
0^47^B1905853
"RTN","A1AEZTST",1,0)
A1AEZTST ;check messages
"RTN","A1AEZTST",2,0)
 ;;2.3;Patch Module;;Oct 17, 2007;Build 8
"RTN","A1AEZTST",3,0)
 ;pke
"RTN","A1AEZTST",4,0)
ENC S (Z,Z1)="Completed/Unverified",Z3="",TOT=0 D SIZE Q
"RTN","A1AEZTST",5,0)
ENV S (Z,Z1)="Verified ",Z3="SEQ #",TOT=0 D SIZE Q
"RTN","A1AEZTST",6,0)
 ;
"RTN","A1AEZTST",7,0)
ENIN W !!?10,"Q-PATCH.VA.GOV input routines",!!
"RTN","A1AEZTST",8,0)
 S TOT=0,QUE=$O(^XMB(3.7,.5,2,"B","Q-PATCH.VA.GOV",0)) I 'QUE Q
"RTN","A1AEZTST",9,0)
 S XMZ=0 F  S XMZ=$O(^XMB(3.7,.5,2,QUE,1,XMZ)) Q:'XMZ  DO
"RTN","A1AEZTST",10,0)
 .I '$D(^XMB(3.9,XMZ,0)) Q
"RTN","A1AEZTST",11,0)
 .W !,$P(^(0),"^")
"RTN","A1AEZTST",12,0)
 .S (I,X,Y)=0
"RTN","A1AEZTST",13,0)
 .F  S X=$O(^XMB(3.9,XMZ,2,X)) Q:X=""  S I=I+1,Y=Y+$L(^(X,0)) I I#100=0 W "." I $X>70 W !
"RTN","A1AEZTST",14,0)
 .S TOT=TOT+Y
"RTN","A1AEZTST",15,0)
 .W !?40,Y,?60,"Total KB = ",$P(TOT/1024,"."),!!
"RTN","A1AEZTST",16,0)
 .R ZZZ:0 I  Q
"RTN","A1AEZTST",17,0)
 Q
"RTN","A1AEZTST",18,0)
 ;
"RTN","A1AEZTST",19,0)
SIZE F Z2=0:1 S Z=$O(^XMB(3.9,"B",Z)) Q:Z'[Z1  S XMZ=$O(^(Z,0)) I XMZ DO
"RTN","A1AEZTST",20,0)
 .I Z'[Z3 Q
"RTN","A1AEZTST",21,0)
 .S (I,X,Y)=0
"RTN","A1AEZTST",22,0)
 .F  S X=$O(^XMB(3.9,XMZ,2,X)) Q:X=""  S I=I+1,Y=Y+$L(^(X,0)) I I#100=0 W "." I $X>70 W !
"RTN","A1AEZTST",23,0)
 .S TOT=TOT+Y
"RTN","A1AEZTST",24,0)
 .W !?3,Y,?20,Z,?60,"Total KB = ",$P(TOT/1024,"."),!
"RTN","A1AEZTST",25,0)
 .R ZZZ:0 I  Q
"RTN","A1AEZTST",26,0)
 Q
"RTN","A1AEZTST",27,0)
 ;
"SEC","^DIC",11005,11005,0,"DD")
#
"SEC","^DIC",11005,11005,0,"DEL")
#
"SEC","^DIC",11005.5,11005.5,0,"AUDIT")
@
"SEC","^DIC",11005.5,11005.5,0,"DD")
@
"SEC","^DIC",11005.5,11005.5,0,"DEL")
@
"SEC","^DIC",11006,11006,0,"DD")
#
"SEC","^DIC",11006,11006,0,"DEL")
#
"SEC","^DIC",11007,11007,0,"DD")
#
"SEC","^DIC",11007,11007,0,"DEL")
#
"VER")
8.0^22.0
"^DD",11005,11005,0)
FIELD^^20^33
"^DD",11005,11005,0,"DT")
3081022
"^DD",11005,11005,0,"ID",5)
W ""
"^DD",11005,11005,0,"ID","WRITE")
N Z,X S Z=^(0),X=$X,X=$S(X<19:18,1:X-1) W ?X,$E($P(Z,U,5),1,70-X),?71," "_$E($P($P(^DD(11005,8,0),$P(Z,U,8)_":",2),";",1),1,3),?75," ",$S($D(^VA(200,+$P(Z,U,9),0)):$E($P(^(0),"^",2),1,3),1:"unk")
"^DD",11005,11005,0,"IX","AB",11005,.01)

"^DD",11005,11005,0,"IX","AC",11005.05,.01)

"^DD",11005,11005,0,"IX","AD",11005,11)

"^DD",11005,11005,0,"IX","AE",11005,8)

"^DD",11005,11005,0,"IX","AP",11005,7)

"^DD",11005,11005,0,"IX","AS",11005,8)

"^DD",11005,11005,0,"IX","AU",11005.02,3)

"^DD",11005,11005,0,"IX","AV",11005,11)

"^DD",11005,11005,0,"IX","B",11005,.01)

"^DD",11005,11005,0,"IX","BA",11005,.01)

"^DD",11005,11005,0,"IX","C",11005,5)

"^DD",11005,11005,0,"IX","CD",11005,18)

"^DD",11005,11005,0,"IX","D",11005,2)

"^DD",11005,11005,0,"IX","PK",11005,40)

"^DD",11005,11005,0,"IX","PS",11005,5)

"^DD",11005,11005,0,"IX","R",11005.03,.01)

"^DD",11005,11005,0,"NM","DHCP PATCHES")

"^DD",11005,11005,0,"PT",2050.2,.01)

"^DD",11005,11005,0,"PT",11005.09,.01)

"^DD",11005,11005,0,"PT",11005.1,.01)

"^DD",11005,11005,0,"PT",11005.5,.01)

"^DD",11005,11005,0,"PT",11006,13)

"^DD",11005,11005,0,"VRPK")
A1AE
"^DD",11005,11005,.001,0)
NUMBER^NJ8,0^^ ^K:+X'=X!(X>99999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005,11005,.001,3)
Type a Number between 1 and 99999999, 0 Decimal Digits
"^DD",11005,11005,.001,"DT")
2990928
"^DD",11005,11005,.01,0)
PATCH DESIGNATION^RFXO^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>15!($L(X)<6)!'(X?1U.UN1"*".2N.1P.2N1"*"1N.N) X S A1AEX=11005 D IN^A1AEUTL:$D(X) K A1AEX
"^DD",11005,11005,.01,1,0)
^.1
"^DD",11005,11005,.01,1,1,0)
11005^B
"^DD",11005,11005,.01,1,1,1)
S ^A1AE(11005,"B",$E(X,1,30),DA)=""
"^DD",11005,11005,.01,1,1,2)
K ^A1AE(11005,"B",$E(X,1,30),DA)
"^DD",11005,11005,.01,1,2,0)
11005^AB^MUMPS
"^DD",11005,11005,.01,1,2,1)
S A1AEX=$L($P(X,"*",3)),^A1AE(11005,"AB",$P(X,"*",1,2)_"*"_$E("  ",A1AEX<3,3-A1AEX)_$P(X,"*",3),DA)="" K A1AEX
"^DD",11005,11005,.01,1,2,2)
S A1AEX=$L($P(X,"*",3)) K ^A1AE(11005,"AB",$P(X,"*",1,2)_"*"_$E("  ",A1AEX<3,3-A1AEX)_$P(X,"*",3),DA),A1AEX
"^DD",11005,11005,.01,1,3,0)
11005^BA^MUMPS
"^DD",11005,11005,.01,1,3,1)
S:$P(X,"*",2)=999 ^A1AE(11005,"B",$P(X,"*")_"*DBA*"_$P(X,"*",3),DA)=""
"^DD",11005,11005,.01,1,3,2)
K:$P(X,"*",2)=999 ^A1AE(11005,"B",$P(X,"*")_"*DBA*"_$P(X,"*",3),DA)
"^DD",11005,11005,.01,2)
S Y(0)=Y S:$P(Y,"*",2)=999 $P(Y,"*",2)="DBA"
"^DD",11005,11005,.01,2.1)
S:$P(Y,"*",2)=999 $P(Y,"*",2)="DBA"
"^DD",11005,11005,.01,3)
ANSWER MUST BE 6-15 CHARACTERS IN LENGTH
"^DD",11005,11005,.01,7.5)
N V S V=$P(X,"*",2) S:+V'=V&(V'="") $P(X,"*",2)=$S("DBAdba"[V:999,1:+V)
"^DD",11005,11005,.01,21,0)
^^1^1^2920928^^^^
"^DD",11005,11005,.01,21,1,0)
Patch Designation has the following format: Package Namespace*Version Number*System Assigned Patch Number.
"^DD",11005,11005,.01,"DT")
2981027
"^DD",11005,11005,2,0)
PACKAGE^RP9.4'I^DIC(9.4,^0;2^Q
"^DD",11005,11005,2,1,0)
^.1
"^DD",11005,11005,2,1,1,0)
11005^D
"^DD",11005,11005,2,1,1,1)
S ^A1AE(11005,"D",$E(X,1,30),DA)=""
"^DD",11005,11005,2,1,1,2)
K ^A1AE(11005,"D",$E(X,1,30),DA)
"^DD",11005,11005,2,9)
^
"^DD",11005,11005,2,21,0)
^^2^2^2871110^^^^
"^DD",11005,11005,2,21,1,0)
The Package must reside in the Package File(#9.4) and in the
"^DD",11005,11005,2,21,2,0)
DHCP Patch/Problem File(#11007) to be used in the Patch Module.
"^DD",11005,11005,2,"DT")
2860205
"^DD",11005,11005,3,0)
VERSION^RFXIO^^0;3^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>10!($L(X)<1) X
"^DD",11005,11005,3,1,0)
^.1^^0
"^DD",11005,11005,3,2)
S Y(0)=Y S Y=$S(Y=999:"DBA",1:Y)
"^DD",11005,11005,3,2.1)
S Y=$S(Y=999:"DBA",1:Y)
"^DD",11005,11005,3,3)
ANSWER MUST BE 1-10 CHARACTERS IN LENGTH
"^DD",11005,11005,3,9)
^
"^DD",11005,11005,3,21,0)
^^3^3^2891206^^^^
"^DD",11005,11005,3,21,1,0)
The most recent Version is used as the default, but other valid
"^DD",11005,11005,3,21,2,0)
Version Numbers may be entered. Version '999' is reserved for DBA
"^DD",11005,11005,3,21,3,0)
type patches.
"^DD",11005,11005,3,"DT")
2891102
"^DD",11005,11005,4,0)
PATCH NUMBER^RNJ5,0I^^0;4^K:+X'=X!(X>99999)!(X<0)!(X?.E1"."1N.N) X
"^DD",11005,11005,4,1,0)
^.1^^0
"^DD",11005,11005,4,3)
TYPE A WHOLE NUMBER BETWEEN 0 AND 99999
"^DD",11005,11005,4,9)
^
"^DD",11005,11005,4,21,0)
^^2^2^2861020^^^
"^DD",11005,11005,4,21,1,0)
The patch number is assigned by the system, a number may be
"^DD",11005,11005,4,21,2,0)
re-assigned if an Unverified Patch is Deleted.
"^DD",11005,11005,4,"DT")
2871104
"^DD",11005,11005,5,0)
PATCH SUBJECT^RF^^0;5^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>80!($L(X)<3) X
"^DD",11005,11005,5,1,0)
^.1
"^DD",11005,11005,5,1,1,0)
11005^PS
"^DD",11005,11005,5,1,1,1)
S ^A1AE(11005,"PS",$E(X,1,30),DA)=""
"^DD",11005,11005,5,1,1,2)
K ^A1AE(11005,"PS",$E(X,1,30),DA)
"^DD",11005,11005,5,1,2,0)
11005^C^KWIC
"^DD",11005,11005,5,1,2,1)
F %=1:1 Q:$P(X," ",%,99)=""  S I=$P(X," ",%) I $L(I)>2,$L(I)<31,^DD("KWIC")'[I S ^A1AE(11005,"C",I,DA)=""
"^DD",11005,11005,5,1,2,2)
F %=1:1 Q:$P(X," ",%,99)=""  S I=$P(X," ",%) I $L(I)>2,$L(I)<31 K ^A1AE(11005,"C",I,DA)
"^DD",11005,11005,5,3)
Answer must be 3-80 characters in length.
"^DD",11005,11005,5,21,0)
^^1^1^2981007^^^^
"^DD",11005,11005,5,21,1,0)
Enter a brief description which will be used to identify the Patch Designation.
"^DD",11005,11005,5,"DT")
2981007
"^DD",11005,11005,5.5,0)
PATCH DESCRIPTION^11005.01^^D;0
"^DD",11005,11005,5.5,21,0)
^^16^16^2971112^^^^
"^DD",11005,11005,5.5,21,1,0)
This field should contain a detailed description of the purpose of
"^DD",11005,11005,5.5,21,2,0)
the patch. If the category of the patch is for a data dictionary,
"^DD",11005,11005,5.5,21,3,0)
input template, print template, sort template or other it should
"^DD",11005,11005,5.5,21,4,0)
be described in this section. Routine type patches have their own
"^DD",11005,11005,5.5,21,5,0)
section under the Routine Name field for coding changes, however,
"^DD",11005,11005,5.5,21,6,0)
a description of the purpose and impacts of the patch should be
"^DD",11005,11005,5.5,21,7,0)
entered in this section for this type of patch as well.
"^DD",11005,11005,5.5,21,8,0)
 
"^DD",11005,11005,5.5,21,9,0)
The patch description should also contain a detailed description of
"^DD",11005,11005,5.5,21,10,0)
procedures or steps required as a result of entering this patch, ie.
"^DD",11005,11005,5.5,21,11,0)
recompiling templates or re-running reports etc...
"^DD",11005,11005,5.5,21,12,0)
 
"^DD",11005,11005,5.5,21,13,0)
If a patch is the result of an 'entered in error' patch it should
"^DD",11005,11005,5.5,21,14,0)
refer to the previous patch which was incorrect, just as the
"^DD",11005,11005,5.5,21,15,0)
incorrect patch should refer to the correct patch in the Entered in
"^DD",11005,11005,5.5,21,16,0)
Error Description field.
"^DD",11005,11005,6,0)
SEQUENTIAL RELEASE NUMBER^NJ5,0^^0;6^K:+X'=X!(X>99999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005,11005,6,3)
Type a Number between 1 and 99999, 0 Decimal Digits
"^DD",11005,11005,6,"DT")
2920917
"^DD",11005,11005,6.5,0)
CATEGORY OF PATCH^11005.05SA^^C;0
"^DD",11005,11005,6.5,21,0)
^^7^7^2920606^^^^
"^DD",11005,11005,6.5,21,1,0)
Since a Patch may fall under more then one Category this
"^DD",11005,11005,6.5,21,2,0)
field has been made a multiple. Enter one or more Category
"^DD",11005,11005,6.5,21,3,0)
code to describe the type of Patch.
"^DD",11005,11005,6.5,21,4,0)
 
"^DD",11005,11005,6.5,21,5,0)
DBA type patches fall under only one type of Category, the
"^DD",11005,11005,6.5,21,6,0)
'database' category. This information is put in by the system
"^DD",11005,11005,6.5,21,7,0)
when a DBA type patch is entered.
"^DD",11005,11005,7,0)
PRIORITY^R*SX^p:PATCH FOR A PATCH;n:NOT URGENT;m:MANDATORY;i:INFORMATIONAL;e:EMERGENCY;^0;7^I "EeMm"'[$E(X_0) K X
"^DD",11005,11005,7,1,0)
^.1
"^DD",11005,11005,7,1,1,0)
11005^AP^MUMPS
"^DD",11005,11005,7,1,1,1)
S ^A1AE(11005,"AP",+$P(^A1AE(11005,DA,0),U,2),+$P(^(0),U,3),X,+$P(^(0),U,4),DA)=""
"^DD",11005,11005,7,1,1,2)
K ^A1AE(11005,"AP",+$P(^A1AE(11005,DA,0),U,2),+$P(^(0),U,3),X,+$P(^(0),U,4),DA)
"^DD",11005,11005,7,3)
Enter E for Emergency, M for Mandatory
"^DD",11005,11005,7,12)
Only Emergency or Mandatory Patches are allowed
"^DD",11005,11005,7,12.1)
I "eEmM"[X
"^DD",11005,11005,7,21,0)
^^8^8^2921201^^^^
"^DD",11005,11005,7,21,1,0)
This field indicates the seriousness of the bug that this patch corrects.
"^DD",11005,11005,7,21,2,0)
There are two priorities allowed:
"^DD",11005,11005,7,21,3,0)
 
"^DD",11005,11005,7,21,4,0)
    EMERGENCY         -- patch must be installed within 1 working day
"^DD",11005,11005,7,21,5,0)
                         of receipt.
"^DD",11005,11005,7,21,6,0)
 
"^DD",11005,11005,7,21,7,0)
    MANDATORY         -- patch must be installed within 5 days of receipt
"^DD",11005,11005,7,21,8,0)
                         because it solves what could be a major problem.
"^DD",11005,11005,7,21,9,0)
 
"^DD",11005,11005,7,21,10,0)
    NOT URGENT        -- patch includes cosmetic type changes that can
"^DD",11005,11005,7,21,11,0)
                         wait for the next release but are offered to
"^DD",11005,11005,7,21,12,0)
                         the site now if they desire it.
"^DD",11005,11005,7,21,13,0)
 
"^DD",11005,11005,7,21,14,0)
    INFORMATIONAL     -- patch provides general or pertinent information
"^DD",11005,11005,7,21,15,0)
                         about the package.
"^DD",11005,11005,7,"DT")
2920606
"^DD",11005,11005,8,0)
STATUS OF PATCH^RSXa^c:COMPLETED/UNVERIFIED;e:ENTERED IN ERROR;u:UNDER DEVELOPMENT;v:VERIFIED;r:RETIRED;x:cancel^0;8^I $D(X) S A1AEOLD=$P(^A1AE(11005,DA,0),U,8),A1AEPKIF=$P(^(0),U,2) D ^A1AEPHS
"^DD",11005,11005,8,1,0)
^.1
"^DD",11005,11005,8,1,1,0)
^^TRIGGER^11005^11
"^DD",11005,11005,8,1,1,1)
Q
"^DD",11005,11005,8,1,1,1.4)
S DIH=$S($D(^A1AE(11005,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,10,99))  S DIH=DIH_U" S %=$P(DIH,U,12,999),DIU=$P(DIH,U,11),^(0)=$P(DIH,U,1,10)_U_DIV_$S(%]"":U_%,1:""),DIH=11005,DIG=11 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11005,11005,8,1,1,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S(X="c"&($P(^A1AE(11005,DA,0),U,8)="v"):1,1:0) I X S X=DIV S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,11),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC X ^DD(11005,8,1,1,2.4)
"^DD",11005,11005,8,1,1,2.4)
S DIH=$S($D(^A1AE(11005,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,10,99))  S DIH=DIH_U" S %=$P(DIH,U,12,999),DIU=$P(DIH,U,11),^(0)=$P(DIH,U,1,10)_U_DIV_$S(%]"":U_%,1:""),DIH=11005,DIG=11 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11005,11005,8,1,1,"CREATE CONDITION")
S X=$S(X="v":1,1:0)
"^DD",11005,11005,8,1,1,"CREATE VALUE")
NO EFFECT
"^DD",11005,11005,8,1,1,"DELETE CONDITION")
S X=$S(X="c"&($P(^A1AE(11005,DA,0),U,8)="v"):1,1:0)
"^DD",11005,11005,8,1,1,"DELETE VALUE")
TODAY
"^DD",11005,11005,8,1,1,"FIELD")
DATE PATCH VERIFIED
"^DD",11005,11005,8,1,2,0)
^^TRIGGER^11005^10
"^DD",11005,11005,8,1,2,1)
Q
"^DD",11005,11005,8,1,2,1.4)
S DIH=$S($D(^A1AE(11005,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,9,99))  S DIH=DIH_U" S %=$P(DIH,U,11,999),DIU=$P(DIH,U,10),^(0)=$P(DIH,U,1,9)_U_DIV_$S(%]"":U_%,1:""),DIH=11005,DIG=10 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11005,11005,8,1,2,2)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S(X="u"&($P(^A1AE(11005,DA,0),U,8)="c"):1,1:0) I X S X=DIV S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,10),X=X S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC X ^DD(11005,8,1,2,2.4)
"^DD",11005,11005,8,1,2,2.4)
S DIH=$S($D(^A1AE(11005,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,9,99))  S DIH=DIH_U" S %=$P(DIH,U,11,999),DIU=$P(DIH,U,10),^(0)=$P(DIH,U,1,9)_U_DIV_$S(%]"":U_%,1:""),DIH=11005,DIG=10 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11005,11005,8,1,2,"CREATE CONDITION")
S X=$S(X="c":1,1:0)
"^DD",11005,11005,8,1,2,"CREATE VALUE")
NO EFFECT
"^DD",11005,11005,8,1,2,"DELETE CONDITION")
S X=$S(X="u"&($P(^A1AE(11005,DA,0),U,8)="c"):1,1:0)
"^DD",11005,11005,8,1,2,"DELETE VALUE")
TODAY
"^DD",11005,11005,8,1,2,"FIELD")
DATE PATCH COMPLETED
"^DD",11005,11005,8,1,3,0)
11005^AE^MUMPS
"^DD",11005,11005,8,1,3,1)
I X="e",$D(^A1AE(11005,"AV",+$P(^A1AE(11005,DA,0),U,2),9999999-$P(^(0),U,11),DA)) K ^(DA) Q
"^DD",11005,11005,8,1,3,2)
Q
"^DD",11005,11005,8,1,4,0)
11005^AS^MUMPS
"^DD",11005,11005,8,1,4,1)
S ^A1AE(11005,"AS",+$P(^A1AE(11005,DA,0),U,2),+$P(^(0),U,3),X,+$P(^(0),U,4),DA)=""
"^DD",11005,11005,8,1,4,2)
K ^A1AE(11005,"AS",+$P(^A1AE(11005,DA,0),U,2),+$P(^(0),U,3),X,+$P(^(0),U,4),DA)
"^DD",11005,11005,8,21,0)
25^^64^64^2920928^^^^
"^DD",11005,11005,8,21,1,0)
A status of 'under development' is assigned to the patch via
"^DD",11005,11005,8,21,2,0)
the option to 'Add a Patch'. It is assigned by the system when
"^DD",11005,11005,8,21,3,0)
the patch is first added.
"^DD",11005,11005,8,21,4,0)
 
"^DD",11005,11005,8,21,5,0)
Once the developer is ready to have the patch verified s/he can
"^DD",11005,11005,8,21,6,0)
change the status of the patch to 'completed/unverified'.
"^DD",11005,11005,8,21,7,0)
When this status is assigned to the patch a bulletin is
"^DD",11005,11005,8,21,8,0)
sent to the verifier(s) of the package notifying this patch
"^DD",11005,11005,8,21,9,0)
is ready for verification.  A patch message is also sent to 
"^DD",11005,11005,8,21,10,0)
the verifiers at this time.
"^DD",11005,11005,8,21,11,0)
 
"^DD",11005,11005,8,21,12,0)
 NOTE: Developer's are permitted to edit patches after they are
"^DD",11005,11005,8,21,13,0)
submitted for Verification but the status will change back to 'U'nder
"^DD",11005,11005,8,21,14,0)
developement.
"^DD",11005,11005,8,21,15,0)
 
"^DD",11005,11005,8,21,16,0)
Once the verifier(s) receive this bulletin they can begin the
"^DD",11005,11005,8,21,17,0)
verification process of this patch. When the verifier is ready to
"^DD",11005,11005,8,21,18,0)
release the patch to the field, s/he can change the status of the patch
"^DD",11005,11005,8,21,19,0)
to 'verified'. When this status is assigned to the patch a bulletin is
"^DD",11005,11005,8,21,20,0)
sent to those users who have elected to be notified of patches for the
"^DD",11005,11005,8,21,21,0)
corresponding package.  A patch message containing Packman routines is
"^DD",11005,11005,8,21,22,0)
sent to support groups at the ISC's also.
"^DD",11005,11005,8,21,23,0)
 
"^DD",11005,11005,8,21,24,0)
The status of a patch determines what information in the patch may be
"^DD",11005,11005,8,21,25,0)
edited, these are outlined as follows:
"^DD",11005,11005,8,21,26,0)
 
"^DD",11005,11005,8,21,27,0)
 Value of Status field  Fields which can be edited  Can set Status to
"^DD",11005,11005,8,21,28,0)
 ---------------------  --------------------------  -----------------
"^DD",11005,11005,8,21,29,0)
 'under development'    PATCH SUBJECT               'completed/unverified'
"^DD",11005,11005,8,21,30,0)
                        PRIORITY
"^DD",11005,11005,8,21,31,0)
                        CATEGORY OF PATCH
"^DD",11005,11005,8,21,32,0)
                        PATCH DESCRIPTION
"^DD",11005,11005,8,21,33,0)
                        ROUTINE NAME
"^DD",11005,11005,8,21,34,0)
                        DESCRIPTION OF ROUTINE CHANGES
"^DD",11005,11005,8,21,35,0)
                        STATUS OF PATCH
"^DD",11005,11005,8,21,36,0)
 
"^DD",11005,11005,8,21,37,0)
 'completed/unverified' PATCH SUBJECT               'verified'
"^DD",11005,11005,8,21,38,0)
                        PRIORITY                    
"^DD",11005,11005,8,21,39,0)
                        CATEGORY OF PATCH
"^DD",11005,11005,8,21,40,0)
                        PATCH DESCRIPTION
"^DD",11005,11005,8,21,41,0)
                        ROUTINE NAME
"^DD",11005,11005,8,21,42,0)
                        DESCRIPTION OF ROUTINE CHANGES
"^DD",11005,11005,8,21,43,0)
                        STATUS OF PATCH
"^DD",11005,11005,8,21,44,0)
 
"^DD",11005,11005,8,21,45,0)
 'verified'             STATUS OF PATCH             'entered in error'
"^DD",11005,11005,8,21,46,0)
 
"^DD",11005,11005,8,21,47,0)
 'entered in error'     ENTERED IN ERROR            Status can NOT be
"^DD",11005,11005,8,21,48,0)
                        DESCRIPTION                 changed
"^DD",11005,11005,8,21,49,0)
 
"^DD",11005,11005,8,21,50,0)
 'retired'              RETIRED AFTER VERSION       Status can NOT be
"^DD",11005,11005,8,21,51,0)
                        RETIREMENT DESCRIPTION      changed
"^DD",11005,11005,8,21,52,0)
 
"^DD",11005,11005,8,21,53,0)
If an error is made, or a developer decides not to release an 'under
"^DD",11005,11005,8,21,54,0)
development' or 'completed/unverified' patch it may be deleted;
"^DD",11005,11005,8,21,55,0)
since only the developer and verifier have viewed them. However,
"^DD",11005,11005,8,21,56,0)
if an error is made in a 'verified' patch the status should be
"^DD",11005,11005,8,21,57,0)
changed to 'entered in error', and an error description should be
"^DD",11005,11005,8,21,58,0)
entered to indicate why the patch is in error, and where the correct 
"^DD",11005,11005,8,21,59,0)
patch can be found.
"^DD",11005,11005,8,21,60,0)
 
"^DD",11005,11005,8,21,61,0)
Certain patches may also be 'retired', specifically the database
"^DD",11005,11005,8,21,62,0)
or DBA type patches may be retired after a specific version.
"^DD",11005,11005,8,21,63,0)
Additional comments about the retired patch can be put in the retirement
"^DD",11005,11005,8,21,64,0)
comment field.
"^DD",11005,11005,8,21,65,0)
comment field.
"^DD",11005,11005,8,"AUDIT")
y
"^DD",11005,11005,8,"DT")
2951031
"^DD",11005,11005,8.5,0)
ENTERED IN ERROR DESCRIPTION^11005.07^^E;0
"^DD",11005,11005,8.5,21,0)
^^12^12^2871110^^^^
"^DD",11005,11005,8.5,21,1,0)
When the status of a patch is changed to 'entered in error' a bulletin
"^DD",11005,11005,8.5,21,2,0)
is sent to users who have viewed the patch. The bulletin then refers
"^DD",11005,11005,8.5,21,3,0)
them to the 'Display a Patch' option which prints out the entered in error
"^DD",11005,11005,8.5,21,4,0)
description field.
"^DD",11005,11005,8.5,21,5,0)
 
"^DD",11005,11005,8.5,21,6,0)
This description field should tell the user why the patch is in error,
"^DD",11005,11005,8.5,21,7,0)
and where the correct patch can be found.
"^DD",11005,11005,8.5,21,8,0)
 
"^DD",11005,11005,8.5,21,9,0)
If a patch is INCORRECT you should create a new one with the correct
"^DD",11005,11005,8.5,21,10,0)
information. The user can ONLY view the 'Entered in Error Description'
"^DD",11005,11005,8.5,21,11,0)
field via the 'Display a Patch' option for any patch which has a status of
"^DD",11005,11005,8.5,21,12,0)
'entered in error'.
"^DD",11005,11005,9,0)
USER ENTERING^P200'^VA(200,^0;9^Q
"^DD",11005,11005,9,21,0)
^^2^2^2871110^^^^
"^DD",11005,11005,9,21,1,0)
This field is set via the option to 'Add a Patch'. It is set by
"^DD",11005,11005,9,21,2,0)
the system when the patch is first added.
"^DD",11005,11005,9,"DT")
2921202
"^DD",11005,11005,10,0)
DATE PATCH COMPLETED^D^^0;10^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005,10,1,0)
^.1
"^DD",11005,11005,10,1,1,0)
^^TRIGGER^11005^13
"^DD",11005,11005,10,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S('$P(^A1AE(11005,DA,0),U,13):1,1:1) I X S X=DIV S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,13),X=X S DIU=X K Y S X=DIV S X=DUZ X ^DD(11005,10,1,1,1.4)
"^DD",11005,11005,10,1,1,1.4)
S DIH=$S($D(^A1AE(11005,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,13)=DIV,DIH=11005,DIG=13 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11005,11005,10,1,1,2)
Q
"^DD",11005,11005,10,1,1,"CREATE CONDITION")
S X=$S('$P(^A1AE(11005,DA,0),U,13):1,1:1)
"^DD",11005,11005,10,1,1,"CREATE VALUE")
S X=DUZ
"^DD",11005,11005,10,1,1,"DELETE VALUE")
NO EFFECT
"^DD",11005,11005,10,1,1,"DT")
2920915
"^DD",11005,11005,10,1,1,"FIELD")
USER COMPLETION
"^DD",11005,11005,10,5,1,0)
11005^8^2
"^DD",11005,11005,10,9)
^
"^DD",11005,11005,10,21,0)
3^^3^3^2880406^^^^
"^DD",11005,11005,10,21,1,0)
This field is triggered by the STATUS field, when the status
"^DD",11005,11005,10,21,2,0)
of the patch is set to 'complete/unverified' the DATE PATCH
"^DD",11005,11005,10,21,3,0)
COMPLETED is set. The patch is now available for Verification.
"^DD",11005,11005,10,"DT")
2920915
"^DD",11005,11005,11,0)
DATE PATCH VERIFIED^D^^0;11^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005,11,1,0)
^.1
"^DD",11005,11005,11,1,1,0)
^^TRIGGER^11005^14
"^DD",11005,11005,11,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S('$P(^A1AE(11005,DA,0),U,14):1,1:0) I X S X=DIV S Y(1)=$S($D(^A1AE(11005,D0,0)):^(0),1:"") S X=$P(Y(1),U,14),X=X S DIU=X K Y S X=DIV S X=DUZ X ^DD(11005,11,1,1,1.4)
"^DD",11005,11005,11,1,1,1.4)
S DIH=$S($D(^A1AE(11005,DIV(0),0)):^(0),1:""),DIV=X S $P(^(0),U,14)=DIV,DIH=11005,DIG=14 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11005,11005,11,1,1,2)
Q
"^DD",11005,11005,11,1,1,"CREATE CONDITION")
S X=$S('$P(^A1AE(11005,DA,0),U,14):1,1:0)
"^DD",11005,11005,11,1,1,"CREATE VALUE")
S X=DUZ
"^DD",11005,11005,11,1,1,"DELETE VALUE")
NO EFFECT
"^DD",11005,11005,11,1,1,"DT")
2920915
"^DD",11005,11005,11,1,1,"FIELD")
USER VERIFY
"^DD",11005,11005,11,1,2,0)
11005^AV^MUMPS
"^DD",11005,11005,11,1,2,1)
S:$P(^A1AE(11005,DA,0),U,8)="v" ^A1AE(11005,"AV",+$P(^A1AE(11005,DA,0),U,2),9999999-X,DA)=""
"^DD",11005,11005,11,1,2,2)
K ^A1AE(11005,"AV",+$P(^A1AE(11005,DA,0),U,2),9999999-X,DA)
"^DD",11005,11005,11,1,3,0)
11005^AD^MUMPS
"^DD",11005,11005,11,1,3,1)
S %="D PATCH^A1AECL1(DA)" X %
"^DD",11005,11005,11,1,3,2)
Q
"^DD",11005,11005,11,1,3,"%D",0)
^^1^1^3041028^
"^DD",11005,11005,11,1,3,"%D",1,0)
Updates the checksums in the ROUTINE file 9.8.
"^DD",11005,11005,11,1,3,"DT")
3041028
"^DD",11005,11005,11,5,1,0)
11005^8^1
"^DD",11005,11005,11,9)
^
"^DD",11005,11005,11,21,0)
^^3^3^2970619^^^^
"^DD",11005,11005,11,21,1,0)
This field is triggered by the STATUS field, when the status is
"^DD",11005,11005,11,21,2,0)
of the patch is set to 'verified' the DATE PATCH VERIFIED is
"^DD",11005,11005,11,21,3,0)
set. The patch is now available to the field.
"^DD",11005,11005,11,"DT")
3041028
"^DD",11005,11005,11.5,0)
DATE PATCH RELEASED^D^^0;16^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005,11.5,"DT")
3020430
"^DD",11005,11005,12,0)
DATE PATCH FIRST ENTERED^D^^0;12^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005,12,9)
^
"^DD",11005,11005,12,21,0)
^^2^2^2871110^^^^
"^DD",11005,11005,12,21,1,0)
This field is set via the option to 'Add a Patch'. It is set by
"^DD",11005,11005,12,21,2,0)
the system when the patch is first entered.
"^DD",11005,11005,12,"DT")
2860108
"^DD",11005,11005,13,0)
USER COMPLETION^P200'^VA(200,^0;13^Q
"^DD",11005,11005,13,5,1,0)
11005^10^1
"^DD",11005,11005,13,9)
^
"^DD",11005,11005,13,21,0)
^^3^3^2860421^^^
"^DD",11005,11005,13,21,1,0)
This field is triggered by the Date Patch Completed, when the
"^DD",11005,11005,13,21,2,0)
Date is set the User Completing the Patch is entered. The User
"^DD",11005,11005,13,21,3,0)
Entering the Patch may or may not be the same User Completing the Patch.
"^DD",11005,11005,13,"DT")
2921202
"^DD",11005,11005,14,0)
USER VERIFY^P200'^VA(200,^0;14^Q
"^DD",11005,11005,14,1,0)
^.1^^0
"^DD",11005,11005,14,5,1,0)
11005^11^1
"^DD",11005,11005,14,9)
^
"^DD",11005,11005,14,21,0)
^^2^2^2860303^
"^DD",11005,11005,14,21,1,0)
This field is triggered by the Date Patch Verified, When the
"^DD",11005,11005,14,21,2,0)
Date is set the User Verifying the Patch is entered.
"^DD",11005,11005,14,"DT")
2921202
"^DD",11005,11005,15,0)
RETIRED AFTER VERSION^F^^0;15^K:$L(X)>10!($L(X)<1) X
"^DD",11005,11005,15,3)
Answer must be 1-10 characters in length.
"^DD",11005,11005,15,21,0)
^.001^6^6^3040614^^^
"^DD",11005,11005,15,21,1,0)
When a DBA patch is no longer applicable to a specific version
"^DD",11005,11005,15,21,2,0)
the status of the patch is changed to 'retired', and the
"^DD",11005,11005,15,21,3,0)
last version the patch does apply to should be put in this
"^DD",11005,11005,15,21,4,0)
field. Once a patch is retired it nolonger prints with the other
"^DD",11005,11005,15,21,5,0)
patches. Also when it is displayed it will show this field and
"^DD",11005,11005,15,21,6,0)
the retirement comments field.
"^DD",11005,11005,15,"DT")
2891106
"^DD",11005,11005,15.5,0)
RETIREMENT COMMENTS^11005.08^^R;0
"^DD",11005,11005,15.5,21,0)
^^2^2^2891206^^
"^DD",11005,11005,15.5,21,1,0)
When a DBA patch is 'retired' any additional information
"^DD",11005,11005,15.5,21,2,0)
about the retirement should be described in this field.
"^DD",11005,11005,16,0)
INTERNAL COMMENTS^11005.016^^X;0
"^DD",11005,11005,16,21,0)
^^3^3^2910212^^^
"^DD",11005,11005,16,21,1,0)
This field is for internal communication between developers 
"^DD",11005,11005,16,21,2,0)
and verifiers.  This field is never printed or displayed with
"^DD",11005,11005,16,21,3,0)
the patch.
"^DD",11005,11005,17,0)
HOLDING DATE^DX^^0;17^S %DT="EXF" D ^%DT S X=Y K:Y<1 X K:Y<DT X
"^DD",11005,11005,17,3)
This patch can not be 'V'erified before this date.
"^DD",11005,11005,17,21,0)
^^2^2^2920928^^
"^DD",11005,11005,17,21,1,0)
If this patch should not be verified/released before a specific
"^DD",11005,11005,17,21,2,0)
date, enter that date here.  Only dates in the future are allowed.
"^DD",11005,11005,17,"DT")
2920928
"^DD",11005,11005,18,0)
COMPLIANCE DATE^DaX^^0;18^S %DT="EF" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005,18,1,0)
^.1
"^DD",11005,11005,18,1,1,0)
11005^CD^MUMPS
"^DD",11005,11005,18,1,1,1)
S ^A1AE(11005,"CD",+$P(^A1AE(11005,DA,0),U,2),9999999-X,DA)=""
"^DD",11005,11005,18,1,1,2)
K ^A1AE(11005,"CD",+$P(^A1AE(11005,DA,0),U,2),9999999-X,DA)
"^DD",11005,11005,18,1,1,"%D",0)
^^1^1^3030122^
"^DD",11005,11005,18,1,1,"%D",1,0)
This is the compliance date cross-reference sorted by package.
"^DD",11005,11005,18,1,1,"DT")
3030122
"^DD",11005,11005,18,21,0)
^.001^10^10^3040603^^^^
"^DD",11005,11005,18,21,1,0)
Each patch will now have a compliance date. The compliance date is  the 
"^DD",11005,11005,18,21,2,0)
deadline date for installation. The compliance date will entered at time 
"^DD",11005,11005,18,21,3,0)
of the patch release by the NVS staff releasing the patch. The software 
"^DD",11005,11005,18,21,4,0)
will present a default to the releaser based on the rules defined in 
"^DD",11005,11005,18,21,5,0)
directive 2001-023: 1 day for emergency patches and 30 days for mandatory 
"^DD",11005,11005,18,21,6,0)
(all other) patches. The default may be changed to a date agreed to by 
"^DD",11005,11005,18,21,7,0)
SD&D, NVS, and the stakeholders for the project. For example, a patch 
"^DD",11005,11005,18,21,8,0)
might have a directive that allows for 45 day window of installation or 
"^DD",11005,11005,18,21,9,0)
an emergency patch might be a 2 day install instead of 1 day installation 
"^DD",11005,11005,18,21,10,0)
deadline. 
"^DD",11005,11005,18,"AUDIT")
y
"^DD",11005,11005,18,"DT")
3030122
"^DD",11005,11005,19,0)
COMPLIANCE DATE COMMENT^11005.019^^3;0
"^DD",11005,11005,20,0)
LAST EDITED^D^^0;19^S %DT="EST" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005,20,21,0)
^^3^3^3081022^
"^DD",11005,11005,20,21,1,0)
This field will get set everytime someone uses the A1AE ADD/EDIT
"^DD",11005,11005,20,21,2,0)
template to edit the patch, it will record the date of the edit.
"^DD",11005,11005,20,21,3,0)

"^DD",11005,11005,20,"DT")
3081022
"^DD",11005,11005,40,0)
NEW PACKAGE^F^^4;1^K:$L(X)>30!($L(X)<4)!'(X?1.AN1" "1.NP) X
"^DD",11005,11005,40,1,0)
^.1
"^DD",11005,11005,40,1,1,0)
11005^PK
"^DD",11005,11005,40,1,1,1)
S ^A1AE(11005,"PK",$E(X,1,30),DA)=""
"^DD",11005,11005,40,1,1,2)
K ^A1AE(11005,"PK",$E(X,1,30),DA)
"^DD",11005,11005,40,1,1,"DT")
3060524
"^DD",11005,11005,40,3)
Answer must be 4-30 characters in length.
"^DD",11005,11005,40,21,0)
^^2^2^3060524^
"^DD",11005,11005,40,21,1,0)
This field holds the new Package name when a patch entry is used to
"^DD",11005,11005,40,21,2,0)
control a new package version.
"^DD",11005,11005,40,"DT")
3060524
"^DD",11005,11005,50,0)
PROBLEMS SOLVED^11005.06PA^^1;0
"^DD",11005,11005,50,21,0)
^^2^2^2860224^^^^
"^DD",11005,11005,50,21,1,0)
This sub-file keeps track of what problems in the Problem File are
"^DD",11005,11005,50,21,2,0)
resolved by this patch.
"^DD",11005,11005,100,0)
ROUTINE NAME^11005.03A^^P;0
"^DD",11005,11005,100,21,0)
^^2^2^2921213^^^^
"^DD",11005,11005,100,21,1,0)
If a programming change has been made to a Routine, enter
"^DD",11005,11005,100,21,2,0)
the name of the Routine.
"^DD",11005,11005,102,0)
SECOND LINE^F^^P2;1^K:$L(X)>200!($L(X)<2) X
"^DD",11005,11005,102,3)
Answer must be 2-200 characters in length.
"^DD",11005,11005,102,21,0)
^^2^2^3070614^
"^DD",11005,11005,102,21,1,0)
This holds a sample of what the second line of each routine should look 
"^DD",11005,11005,102,21,2,0)
like.
"^DD",11005,11005,102,"DT")
3070614
"^DD",11005,11005,103,0)
DISPLAY ROUTINE PATCH LIST^S^0:No;1:Yes;^5;1^Q
"^DD",11005,11005,103,21,0)
^^2^2^3071105^
"^DD",11005,11005,103,21,1,0)
This field is used to control if the routine list of patches is 
"^DD",11005,11005,103,21,2,0)
displayed.
"^DD",11005,11005,103,"DT")
3071106
"^DD",11005,11005,150,0)
PATCH RELEASE CHECK^11005.09IP^^Q;0
"^DD",11005,11005,150,21,0)
^^4^4^2920918^^^
"^DD",11005,11005,150,21,1,0)
Enter a patch which must be verified and installed allong with this patch.
"^DD",11005,11005,150,21,2,0)
 
"^DD",11005,11005,150,21,3,0)
If you use the 'routine name' for lookup make sure the correct patch is
"^DD",11005,11005,150,21,4,0)
selected as routines may appear in more than one patch.
"^DD",11005,11005,200,0)
PRINTED BY^11005.02P^^2;0
"^DD",11005,11005,200,21,0)
^^3^3^2871110^^^^
"^DD",11005,11005,200,21,1,0)
To keep track of when a 'verified' patch is new for a specific  
"^DD",11005,11005,200,21,2,0)
user, the system keeps track of the first and last time  
"^DD",11005,11005,200,21,3,0)
a user printed the patch.
"^DD",11005,11005,200,21,4,0)
Verified Patches.
"^DD",11005,11005.01,0)
PATCH DESCRIPTION SUB-FIELD^NL^.01^1
"^DD",11005,11005.01,0,"DT")
2971112
"^DD",11005,11005.01,0,"NM","PATCH DESCRIPTION")

"^DD",11005,11005.01,0,"UP")
11005
"^DD",11005,11005.01,.01,0)
PATCH DESCRIPTION^WL^^0;1^Q
"^DD",11005,11005.01,.01,"DT")
2971112
"^DD",11005,11005.016,0)
INTERNAL COMMENTS SUB-FIELD^^.01^1
"^DD",11005,11005.016,0,"NM","INTERNAL COMMENTS")

"^DD",11005,11005.016,0,"UP")
11005
"^DD",11005,11005.016,.01,0)
INTERNAL COMMENTS^W^^0;1^Q
"^DD",11005,11005.016,.01,"DT")
2910212
"^DD",11005,11005.019,0)
COMPLIANCE DATE COMMENT SUB-FIELD^^.01^1
"^DD",11005,11005.019,0,"DT")
3030116
"^DD",11005,11005.019,0,"NM","COMPLIANCE DATE COMMENT")

"^DD",11005,11005.019,0,"UP")
11005
"^DD",11005,11005.019,.01,0)
COMPLIANCE DATE COMMENT^W^^0;1^Q
"^DD",11005,11005.019,.01,3)
Enter the reason for editing the Compliance Date
"^DD",11005,11005.019,.01,21,0)
^^1^1^3030116^
"^DD",11005,11005.019,.01,21,1,0)
This is the reason for editing the compliance date
"^DD",11005,11005.019,.01,"DT")
3030116
"^DD",11005,11005.02,0)
PRINTED BY SUB-FIELD^NL^3^3
"^DD",11005,11005.02,0,"DT")
2921202
"^DD",11005,11005.02,0,"NM","PRINTED BY")

"^DD",11005,11005.02,0,"UP")
11005
"^DD",11005,11005.02,.01,0)
USER^P200'X^VA(200,^0;1^S DINUM=X
"^DD",11005,11005.02,.01,1,0)
^.1^^0
"^DD",11005,11005.02,.01,21,0)
^^2^2^2860421^^^
"^DD",11005,11005.02,.01,21,1,0)
This field keeps track of each user who printed the Completed/
"^DD",11005,11005.02,.01,21,2,0)
unverified patch.
"^DD",11005,11005.02,.01,"DT")
2921202
"^DD",11005,11005.02,2,0)
INITIALLY PRINTED^D^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005.02,2,21,0)
^^1^1^2860303^^^
"^DD",11005,11005.02,2,21,1,0)
This field keeps track of the First Time a User Printed the Patch.
"^DD",11005,11005.02,2,"DT")
2860108
"^DD",11005,11005.02,3,0)
LAST TIME PRINTED^D^^0;3^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11005,11005.02,3,1,0)
^.1
"^DD",11005,11005.02,3,1,1,0)
11005^AU^MUMPS
"^DD",11005,11005.02,3,1,1,1)
S ^A1AE(11005,"AU",+$P(^A1AE(11005,DA(1),2,DA,0),U,1),+$P(^A1AE(11005,DA(1),0),U,2),9999999-X)=""
"^DD",11005,11005.02,3,1,1,2)
K ^A1AE(11005,"AU",+$P(^A1AE(11005,DA(1),2,DA,0),U,1),+$P(^A1AE(11005,DA(1),0),U,2),9999999-X)
"^DD",11005,11005.02,3,21,0)
^^1^1^2860303^^^
"^DD",11005,11005.02,3,21,1,0)
This field keeps track of the Last Time a User Printed the Patch.
"^DD",11005,11005.02,3,"DT")
2860203
"^DD",11005,11005.03,0)
ROUTINE NAME SUB-FIELD^NL^5^6
"^DD",11005,11005.03,0,"DT")
3051012
"^DD",11005,11005.03,0,"IX","B",11005.03,.01)

"^DD",11005,11005.03,0,"NM","ROUTINE NAME")

"^DD",11005,11005.03,0,"UP")
11005
"^DD",11005,11005.03,.01,0)
ROUTINE NAME^MFX^^0;1^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>8!($L(X)<2)!'((X?.UN)!(X?1"%".UN)) X I $D(X) S SAVX=X,X="A1AEM2" X ^%ZOSF("TEST") S X=SAVX I $T D RCHK^A1AEM2
"^DD",11005,11005.03,.01,1,0)
^.1
"^DD",11005,11005.03,.01,1,1,0)
11005^R
"^DD",11005,11005.03,.01,1,1,1)
S ^A1AE(11005,"R",$E(X,1,30),DA(1),DA)=""
"^DD",11005,11005.03,.01,1,1,2)
K ^A1AE(11005,"R",$E(X,1,30),DA(1),DA)
"^DD",11005,11005.03,.01,1,1,"DT")
3050927
"^DD",11005,11005.03,.01,1,2,0)
11005.03^B
"^DD",11005,11005.03,.01,1,2,1)
S ^A1AE(11005,DA(1),"P","B",$E(X,1,30),DA)=""
"^DD",11005,11005.03,.01,1,2,2)
K ^A1AE(11005,DA(1),"P","B",$E(X,1,30),DA)
"^DD",11005,11005.03,.01,1,2,"%D",0)
^^1^1^3050927^
"^DD",11005,11005.03,.01,1,2,"%D",1,0)
This is the normal "B" lookup index.
"^DD",11005,11005.03,.01,1,2,"DT")
3050927
"^DD",11005,11005.03,.01,3)
ANSWER MUST BE 2-8 CHARACTERS IN LENGTH
"^DD",11005,11005.03,.01,21,0)
^^10^10^2921213^^^^
"^DD",11005,11005.03,.01,21,1,0)
If a programming change has been made to a Routine, enter
"^DD",11005,11005.03,.01,21,2,0)
the name of the Routine.  Each patched routine should have 
"^DD",11005,11005.03,.01,21,3,0)
a separate entry.
"^DD",11005,11005.03,.01,21,4,0)
If the routine can be found in the routine directory you
"^DD",11005,11005.03,.01,21,5,0)
will have the option of extracting lines from the routine
"^DD",11005,11005.03,.01,21,6,0)
and stuffing them into the Description of Routine Changes
"^DD",11005,11005.03,.01,21,7,0)
field.
"^DD",11005,11005.03,.01,21,8,0)
If the routine is in an input PackMan message you will have
"^DD",11005,11005.03,.01,21,9,0)
the option of extracting lines from the routine and adding
"^DD",11005,11005.03,.01,21,10,0)
them to the Description of Routine Changes field.
"^DD",11005,11005.03,.01,22)

"^DD",11005,11005.03,.01,"DT")
3050927
"^DD",11005,11005.03,2,0)
ROUTINE CHECKSUM^11005.32^^X;0
"^DD",11005,11005.03,2.5,0)
DESCRIPTION OF ROUTINE CHANGES^11005.04^^D;0
"^DD",11005,11005.03,2.5,21,0)
^^21^21^2871110^^^^
"^DD",11005,11005.03,2.5,21,1,0)
When changes are made to routines the description should include
"^DD",11005,11005.03,2.5,21,2,0)
1)  the LINE  2)  the previous code  3)  the new code  and any
"^DD",11005,11005.03,2.5,21,3,0)
other information which would help to clearly explain the fix
"^DD",11005,11005.03,2.5,21,4,0)
that was done. Finally, show the lines of code that were changed
"^DD",11005,11005.03,2.5,21,5,0)
in their entirety.
"^DD",11005,11005.03,2.5,21,6,0)
 
"^DD",11005,11005.03,2.5,21,7,0)
 note: r  means 'replace' and
"^DD",11005,11005.03,2.5,21,8,0)
       w  means 'with'
"^DD",11005,11005.03,2.5,21,9,0)
 
"^DD",11005,11005.03,2.5,21,10,0)
The convention for entering code changes are as follows:
"^DD",11005,11005.03,2.5,21,11,0)
 
"^DD",11005,11005.03,2.5,21,12,0)
LINE: EN
"^DD",11005,11005.03,2.5,21,13,0)
    r  DPT
"^DD",11005,11005.03,2.5,21,14,0)
    w  ^DPT
"^DD",11005,11005.03,2.5,21,15,0)
 
"^DD",11005,11005.03,2.5,21,16,0)
THE LINE SHOULD LOOK LIKE THE FOLLOWING:
"^DD",11005,11005.03,2.5,21,17,0)
---------------------------------------
"^DD",11005,11005.03,2.5,21,18,0)
EN       S DA=DFN,DIE="^DPT(",DR=".01" D ^DIE
"^DD",11005,11005.03,2.5,21,19,0)
 
"^DD",11005,11005.03,2.5,21,20,0)
 
"^DD",11005,11005.03,2.5,21,21,0)
A1AEINTEG= -94
"^DD",11005,11005.03,3,0)
KIDS CHECKSUM^F^^0;2^K:$L(X)>15!($L(X)<3) X
"^DD",11005,11005.03,3,3)
Answer must be 3-15 characters in length.
"^DD",11005,11005.03,3,"DT")
3050912
"^DD",11005,11005.03,4,0)
PATCH LIST^F^^0;3^K:$L(X)>200!($L(X)<5)!'(X?2"*"1.NP2"*") X
"^DD",11005,11005.03,4,3)
Answer must be 5-200 characters in length.
"^DD",11005,11005.03,4,21,0)
^^2^2^3050926^
"^DD",11005,11005.03,4,21,1,0)
This field holds the routine patch list at the time the patch was loaded 
"^DD",11005,11005.03,4,21,2,0)
into FORUM.
"^DD",11005,11005.03,4,"DT")
3050926
"^DD",11005,11005.03,5,0)
OLD CHECKSUM^F^^0;4^K:$L(X)>15!($L(X)<3) X
"^DD",11005,11005.03,5,3)
Answer must be 3-15 characters in length.
"^DD",11005,11005.03,5,21,0)
^^3^3^3051012^
"^DD",11005,11005.03,5,21,1,0)
This field holds the before checksum at the time the patch is loaded into 
"^DD",11005,11005.03,5,21,2,0)
the patch module.  This old checksum value is pulled from the ROUTINE 
"^DD",11005,11005.03,5,21,3,0)
file.
"^DD",11005,11005.03,5,"DT")
3051012
"^DD",11005,11005.04,0)
DESCRIPTION OF ROUTINE CHANGES SUB-FIELD^NL^.01^1
"^DD",11005,11005.04,0,"NM","DESCRIPTION OF ROUTINE CHANGES")

"^DD",11005,11005.04,0,"UP")
11005.03
"^DD",11005,11005.04,.01,0)
DESCRIPTION OF ROUTINE CHANGES^WL^^0;1^Q
"^DD",11005,11005.04,.01,21,0)
^^4^4^2871009^^^^
"^DD",11005,11005.04,.01,21,1,0)
When Changes are made to Routines the Description should include
"^DD",11005,11005.04,.01,21,2,0)
1)  the TAG  2) the previous code  3)  the new code  and any
"^DD",11005,11005.04,.01,21,3,0)
other information which would help to clearly explain the fix
"^DD",11005,11005.04,.01,21,4,0)
that was done.
"^DD",11005,11005.04,.01,"DT")
2860717
"^DD",11005,11005.05,0)
CATEGORY OF PATCH SUB-FIELD^NL^.01^1
"^DD",11005,11005.05,0,"DT")
2921123
"^DD",11005,11005.05,0,"NM","CATEGORY OF PATCH")

"^DD",11005,11005.05,0,"UP")
11005
"^DD",11005,11005.05,.01,0)
CATEGORY OF PATCH^MRSX^d:DATA DICTIONARY;i:INPUT TEMPLATE;p:PRINT TEMPLATE;r:ROUTINE;s:SORT TEMPLATE;o:OTHER;db:DATABASE;e:ENHANCEMENT;pp:PATCH FOR A PATCH;inf:INFORMATIONAL;^0;1^I $T(^A1AEM)'="" D DD^A1AEM
"^DD",11005,11005.05,.01,1,0)
^.1
"^DD",11005,11005.05,.01,1,1,0)
11005^AC^MUMPS
"^DD",11005,11005.05,.01,1,1,1)
S ^A1AE(11005,"AC",+$P(^A1AE(11005,DA(1),0),U,2),+$P(^(0),U,3),X,+$P(^(0),U,4),DA(1),DA)=""
"^DD",11005,11005.05,.01,1,1,2)
K ^A1AE(11005,"AC",+$P(^A1AE(11005,DA(1),0),U,2),+$P(^(0),U,3),X,+$P(^(0),U,4),DA(1),DA)
"^DD",11005,11005.05,.01,21,0)
^^6^6^2921123^^^^
"^DD",11005,11005.05,.01,21,1,0)
Since a Patch may fall under more than one Category this
"^DD",11005,11005.05,.01,21,2,0)
field has been made a multiple. Enter one or more Category
"^DD",11005,11005.05,.01,21,3,0)
code to describe the type of Patch.
"^DD",11005,11005.05,.01,21,4,0)
 
"^DD",11005,11005.05,.01,21,5,0)
The new category Enhancement indicates that the patch contains less than
"^DD",11005,11005.05,.01,21,6,0)
5% of the full package's routines, docuementation, install time, etc.
"^DD",11005,11005.05,.01,23,0)
^^3^3^2920928^
"^DD",11005,11005.05,.01,23,1,0)
 
"^DD",11005,11005.05,.01,23,2,0)
 
"^DD",11005,11005.05,.01,23,3,0)
 
"^DD",11005,11005.05,.01,"DT")
2921123
"^DD",11005,11005.06,0)
PROBLEMS SOLVED SUB-FIELD^NL^.01^1
"^DD",11005,11005.06,0,"NM","PROBLEMS SOLVED")

"^DD",11005,11005.06,0,"UP")
11005
"^DD",11005,11005.06,.01,0)
PROBLEM^M*P11006'^A1AE(11006,^0;1^S DIC("S")="I $P(^(0),U,10)=""c""" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",11005,11005.06,.01,1,0)
^.1^^0
"^DD",11005,11005.06,.01,12)
Patches are only assigned to Completed problems.
"^DD",11005,11005.06,.01,12.1)
S DIC("S")="I $P(^(0),U,10)=""c"""
"^DD",11005,11005.06,.01,21,0)
^^2^2^2860224^^^^
"^DD",11005,11005.06,.01,21,1,0)
This field points to the Region 1 Problems File(#11006) to indicate
"^DD",11005,11005.06,.01,21,2,0)
the problems which are resolved, or associated, with this patch.
"^DD",11005,11005.06,.01,"DT")
2860224
"^DD",11005,11005.07,0)
ENTERED IN ERROR DESCRIPTION SUB-FIELD^^.01^1
"^DD",11005,11005.07,0,"NM","ENTERED IN ERROR DESCRIPTION")

"^DD",11005,11005.07,0,"UP")
11005
"^DD",11005,11005.07,.01,0)
ENTERED IN ERROR DESCRIPTION^W^^0;1^Q
"^DD",11005,11005.07,.01,21,0)
^^2^2^2860421^^^
"^DD",11005,11005.07,.01,21,1,0)
Enter a description of why this patch is in error, and where to
"^DD",11005,11005.07,.01,21,2,0)
go for the corrected patch.
"^DD",11005,11005.07,.01,"DT")
2860417
"^DD",11005,11005.08,0)
RETIREMENT COMMENTS SUB-FIELD^^.01^1
"^DD",11005,11005.08,0,"NM","RETIREMENT COMMENTS")

"^DD",11005,11005.08,0,"UP")
11005
"^DD",11005,11005.08,.01,0)
RETIREMENT COMMENTS^W^^0;1^Q
"^DD",11005,11005.08,.01,"DT")
2891106
"^DD",11005,11005.09,0)
PATCH RELEASE CHECK SUB-FIELD^^2^2
"^DD",11005,11005.09,0,"DT")
2920929
"^DD",11005,11005.09,0,"ID",2)
W "   ",@("$P($P($C(59)_$S($D(^DD(11005.09,2,0)):$P(^(0),U,3),1:0)_$E("_DIC_"Y,0),0),$C(59)_$P(^(0),U,2)_"":"",2),$C(59),1)")
"^DD",11005,11005.09,0,"IX","B",11005.09,.01)

"^DD",11005,11005.09,0,"NM","PATCH RELEASE CHECK")

"^DD",11005,11005.09,0,"UP")
11005
"^DD",11005,11005.09,.01,0)
PATCH RELEASE CHECK^M*P11005'^A1AE(11005,^0;1^S DIC("S")="I ""er""'[$E($P(^(0),""^"",8)_1)" D ^DIC K DIC S DIC=DIE,X=+Y K:Y<0 X
"^DD",11005,11005.09,.01,1,0)
^.1
"^DD",11005,11005.09,.01,1,1,0)
11005.09^B
"^DD",11005,11005.09,.01,1,1,1)
S ^A1AE(11005,DA(1),"Q","B",$E(X,1,30),DA)=""
"^DD",11005,11005.09,.01,1,1,2)
K ^A1AE(11005,DA(1),"Q","B",$E(X,1,30),DA)
"^DD",11005,11005.09,.01,3)
Enter a patch which should be verified and installed with this patch.
"^DD",11005,11005.09,.01,12)
Entered in Error or Retired patches can not be selected
"^DD",11005,11005.09,.01,12.1)
S DIC("S")="I ""er""'[$E($P(^(0),""^"",8)_1)"
"^DD",11005,11005.09,.01,21,0)
^^4^4^2920929^^^^
"^DD",11005,11005.09,.01,21,1,0)
Enter a patch which must be verified and installed with this patch.
"^DD",11005,11005.09,.01,21,2,0)
 
"^DD",11005,11005.09,.01,21,3,0)
If you use the 'routine name' for lookup make sure the correct patch is
"^DD",11005,11005.09,.01,21,4,0)
selected as routines may appear in more than one patch.
"^DD",11005,11005.09,.01,"DT")
2920929
"^DD",11005,11005.09,2,0)
REQUIRED FOR VERIFICATION^S^y:YES;n:NO;^0;2^Q
"^DD",11005,11005.09,2,21,0)
^^7^7^2920929^^
"^DD",11005,11005.09,2,21,1,0)
Enter Yes if the Patch in the 'PATCH RELEASE CHECK' must be verified 
"^DD",11005,11005.09,2,21,2,0)
and installed prior to verification and installation of this Patch.
"^DD",11005,11005.09,2,21,3,0)
 
"^DD",11005,11005.09,2,21,4,0)
Enter No to allow concurrent verification and installation of this
"^DD",11005,11005.09,2,21,5,0)
patch and the patch in the 'PATCH RELEAE CHECK'.
"^DD",11005,11005.09,2,21,6,0)
 
"^DD",11005,11005.09,2,21,7,0)
In both cases the patches will be listed in the patch.
"^DD",11005,11005.09,2,"DT")
2920918
"^DD",11005,11005.32,0)
ROUTINE CHECKSUM SUB-FIELD^^.01^1
"^DD",11005,11005.32,0,"NM","ROUTINE CHECKSUM")

"^DD",11005,11005.32,0,"UP")
11005.03
"^DD",11005,11005.32,.01,0)
ROUTINE CHECKSUM^W^^0;1^Q
"^DD",11005,11005.32,.01,"DT")
2910319
"^DD",11005.1,11005.1,0)
FIELD^^12^10
"^DD",11005.1,11005.1,0,"DT")
3050609
"^DD",11005.1,11005.1,0,"IX","AC",11005.1,7)

"^DD",11005.1,11005.1,0,"IX","B",11005.1,.01)

"^DD",11005.1,11005.1,0,"NM","DHCP PATCH MESSAGE")

"^DD",11005.1,11005.1,0,"VRPK")
A1AE
"^DD",11005.1,11005.1,.01,0)
NAME^RP11005'X^A1AE(11005,^0;1^S DINUM=X
"^DD",11005.1,11005.1,.01,1,0)
^.1
"^DD",11005.1,11005.1,.01,1,1,0)
11005.1^B
"^DD",11005.1,11005.1,.01,1,1,1)
S ^A1AE(11005.1,"B",$E(X,1,30),DA)=""
"^DD",11005.1,11005.1,.01,1,1,2)
K ^A1AE(11005.1,"B",$E(X,1,30),DA)
"^DD",11005.1,11005.1,.01,3)

"^DD",11005.1,11005.1,.01,"DT")
2900429
"^DD",11005.1,11005.1,2,0)
INPUT MESSAGE NUMBER^NJ9,0^^0;2^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005.1,11005.1,2,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",11005.1,11005.1,3,0)
INPUT DATE/TIME^D^^0;3^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",11005.1,11005.1,4,0)
VERIFIER MESSAGE NUMBER^NJ9,0^^0;4^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005.1,11005.1,4,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",11005.1,11005.1,5,0)
VERIFIER DATE/TIME^Da^^0;5^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",11005.1,11005.1,5,"AUDIT")
e
"^DD",11005.1,11005.1,5,"DT")
3020821
"^DD",11005.1,11005.1,6,0)
RELEASED MESSAGE NUMBER^NJ9,0^^0;6^K:+X'=X!(X>999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005.1,11005.1,6,3)
Type a Number between 1 and 999999999, 0 Decimal Digits
"^DD",11005.1,11005.1,7,0)
RELEASED DATE/TIME^D^^0;7^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",11005.1,11005.1,7,1,0)
^.1^^-1
"^DD",11005.1,11005.1,7,1,1,0)
11005.1^AC^MUMPS
"^DD",11005.1,11005.1,7,1,1,1)
S $P(^A1AE(11005,DA,0),U,16)=X
"^DD",11005.1,11005.1,7,1,1,2)
Q
"^DD",11005.1,11005.1,7,1,1,"DT")
3020430
"^DD",11005.1,11005.1,7,"DT")
3041028
"^DD",11005.1,11005.1,11,0)
MESSAGE TYPE^S^K:KIDS;P:PACKMAN;X:DIFROM;^0;11^Q
"^DD",11005.1,11005.1,11,"DT")
2960222
"^DD",11005.1,11005.1,12,0)
TEST#^NJ3,0^^0;12^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005.1,11005.1,12,3)
Type a Number between 1 and 999, 0 Decimal Digits
"^DD",11005.1,11005.1,12,21,0)
^^1^1^3050609^
"^DD",11005.1,11005.1,12,21,1,0)
This field holds the test version number.
"^DD",11005.1,11005.1,12,"DT")
3050609
"^DD",11005.1,11005.1,20,0)
MESSAGE TEXT^11005.11^^2;0
"^DD",11005.1,11005.11,0)
MESSAGE TEXT SUB-FIELD^^.01^1
"^DD",11005.1,11005.11,0,"NM","MESSAGE TEXT")

"^DD",11005.1,11005.11,0,"UP")
11005.1
"^DD",11005.1,11005.11,.01,0)
MESSAGE TEXT^WL^^0;1^Q
"^DD",11005.1,11005.11,.01,.1)
PATCH MESSAGE DESCRIPTION
"^DD",11005.1,11005.11,.01,21,0)
^^2^2^2900821^^^^
"^DD",11005.1,11005.11,.01,21,1,0)
This field contains text (generally Packman routines) which is copied
"^DD",11005.1,11005.11,.01,21,2,0)
exactly into a message for creation of a Patch mail message.
"^DD",11005.5,11005.5,0)
FIELD^^21^7
"^DD",11005.5,11005.5,0,"DDA")
N
"^DD",11005.5,11005.5,0,"DT")
3050926
"^DD",11005.5,11005.5,0,"IX","B",11005.5,.01)

"^DD",11005.5,11005.5,0,"NM","DHCP HFS MESSAGE")

"^DD",11005.5,11005.5,0,"VRPK")
A1AE
"^DD",11005.5,11005.5,.01,0)
NAME^RP11005'X^A1AE(11005,^0;1^S DINUM=X
"^DD",11005.5,11005.5,.01,1,0)
^.1
"^DD",11005.5,11005.5,.01,1,1,0)
11005.5^B
"^DD",11005.5,11005.5,.01,1,1,1)
S ^A1AE(11005.5,"B",$E(X,1,30),DA)=""
"^DD",11005.5,11005.5,.01,1,1,2)
K ^A1AE(11005.5,"B",$E(X,1,30),DA)
"^DD",11005.5,11005.5,.01,3)

"^DD",11005.5,11005.5,.01,"DT")
3050801
"^DD",11005.5,11005.5,2,0)
Input Message Number^NJ10,0^^0;2^K:+X'=X!(X>9999999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11005.5,11005.5,2,3)
Type a Number between 1 and 9999999999, 0 Decimal Digits
"^DD",11005.5,11005.5,2,"DT")
3050816
"^DD",11005.5,11005.5,3,0)
Input Date/Time^D^^0;3^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",11005.5,11005.5,3,"DT")
3050816
"^DD",11005.5,11005.5,4,0)
Release Date/Time^D^^0;4^S %DT="ESTX" D ^%DT S X=Y K:Y<1 X
"^DD",11005.5,11005.5,4,"DT")
3050816
"^DD",11005.5,11005.5,5,0)
From Domain^F^^0;5^K:$L(X)>200!($L(X)<2) X
"^DD",11005.5,11005.5,5,3)
Answer must be 2-200 characters in length.
"^DD",11005.5,11005.5,5,21,0)
^^2^2^3050816^
"^DD",11005.5,11005.5,5,21,1,0)
This field hold the name of the master patch when more that one patch is 
"^DD",11005.5,11005.5,5,21,2,0)
sent out in a HFS file.
"^DD",11005.5,11005.5,5,"DT")
3050822
"^DD",11005.5,11005.5,11,0)
ROUTINE^11005.511A^^1;0
"^DD",11005.5,11005.5,21,0)
Linked Patches^11005.521A^^2;0
"^DD",11005.5,11005.511,0)
ROUTINE SUB-FIELD^^5^5
"^DD",11005.5,11005.511,0,"DT")
3050926
"^DD",11005.5,11005.511,0,"IX","B",11005.511,.01)

"^DD",11005.5,11005.511,0,"NM","ROUTINE")

"^DD",11005.5,11005.511,0,"UP")
11005.5
"^DD",11005.5,11005.511,.01,0)
ROUTINE^MF^^0;1^K:$L(X)>16!($L(X)<2) X
"^DD",11005.5,11005.511,.01,1,0)
^.1
"^DD",11005.5,11005.511,.01,1,1,0)
11005.511^B
"^DD",11005.5,11005.511,.01,1,1,1)
S ^A1AE(11005.5,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",11005.5,11005.511,.01,1,1,2)
K ^A1AE(11005.5,DA(1),1,"B",$E(X,1,30),DA)
"^DD",11005.5,11005.511,.01,3)
Answer must be 2-16 characters in length.
"^DD",11005.5,11005.511,.01,21,0)
^^1^1^3050921^
"^DD",11005.5,11005.511,.01,21,1,0)
This is the routine name.
"^DD",11005.5,11005.511,.01,"DT")
3050801
"^DD",11005.5,11005.511,2,0)
ADD/DELETE^F^^0;2^K:$L(X)>3!($L(X)<1) X
"^DD",11005.5,11005.511,2,3)
Answer must be 1-3 characters in length.
"^DD",11005.5,11005.511,2,21,0)
^^2^2^3050921^
"^DD",11005.5,11005.511,2,21,1,0)
This is from the Build file and tell's if we are adding the routine (0)
"^DD",11005.5,11005.511,2,21,2,0)
or deleteing the routine (1).
"^DD",11005.5,11005.511,2,"DT")
3050921
"^DD",11005.5,11005.511,2.5,0)
NOP^NJ3,0^^0;3^K:+X'=X!(X>999)!(X<0)!(X?.E1"."1N.N) X
"^DD",11005.5,11005.511,2.5,3)
Type a Number between 0 and 999, 0 Decimal Digits
"^DD",11005.5,11005.511,2.5,21,0)
^^1^1^3050926^
"^DD",11005.5,11005.511,2.5,21,1,0)
Place holder.
"^DD",11005.5,11005.511,2.5,"DT")
3050926
"^DD",11005.5,11005.511,3,0)
CHECKSUM^F^^0;4^K:$L(X)>15!($L(X)<3) X
"^DD",11005.5,11005.511,3,3)
Answer must be 3-15 characters in length.
"^DD",11005.5,11005.511,3,21,0)
^^1^1^3050921^
"^DD",11005.5,11005.511,3,21,1,0)
This is the routine Checksum from the transport global.
"^DD",11005.5,11005.511,3,"DT")
3050921
"^DD",11005.5,11005.511,5,0)
PATCH LIST^F^^0;5^K:$L(X)>200!($L(X)<5) X
"^DD",11005.5,11005.511,5,3)
Answer must be 5-200 characters in length.
"^DD",11005.5,11005.511,5,21,0)
^^1^1^3050926^
"^DD",11005.5,11005.511,5,21,1,0)
Hold the patch list from the second line of the routine.
"^DD",11005.5,11005.511,5,"DT")
3050926
"^DD",11005.5,11005.521,0)
Linked Patches SUB-FIELD^^.01^1
"^DD",11005.5,11005.521,0,"DT")
3050816
"^DD",11005.5,11005.521,0,"IX","B",11005.521,.01)

"^DD",11005.5,11005.521,0,"NM","Linked Patches")

"^DD",11005.5,11005.521,0,"UP")
11005.5
"^DD",11005.5,11005.521,.01,0)
Linked Patches^MF^^0;1^K:$L(X)>30!($L(X)<2) X
"^DD",11005.5,11005.521,.01,1,0)
^.1
"^DD",11005.5,11005.521,.01,1,1,0)
11005.521^B
"^DD",11005.5,11005.521,.01,1,1,1)
S ^A1AE(11005.5,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",11005.5,11005.521,.01,1,1,2)
K ^A1AE(11005.5,DA(1),2,"B",$E(X,1,30),DA)
"^DD",11005.5,11005.521,.01,3)
Answer must be 2-30 characters in length.
"^DD",11005.5,11005.521,.01,21,0)
^^2^2^3050816^
"^DD",11005.5,11005.521,.01,21,1,0)
This field holds the linked patches when this patch is the master patch 
"^DD",11005.5,11005.521,.01,21,2,0)
of a set of patches in a HFS release.
"^DD",11005.5,11005.521,.01,"DT")
3050816
"^DD",11006,11006,0)
FIELD^^16^19
"^DD",11006,11006,0,"DT")
3050816
"^DD",11006,11006,0,"ID",5)
W ""
"^DD",11006,11006,0,"ID","WRITE")
S A1AEX1=^(0) W ?20,$E($P(A1AEX1,"^",5),1,30),?55,$E($P($P(^DD(11006,10,0),$P(A1AEX1,"^",10)_":",2),";",1),1,15),?75,$S($D(^DIC(3,+$P(A1AEX1,"^",8),0)):$E($P(^(0),"^",1),1,15),1:"NONE")
"^DD",11006,11006,0,"IX","B",11006,.01)

"^DD",11006,11006,0,"IX","PN",11006,4)

"^DD",11006,11006,0,"IX","PS",11006,5)

"^DD",11006,11006,0,"IX","S",11006,5)

"^DD",11006,11006,0,"NM","DHCP PROBLEMS")

"^DD",11006,11006,0,"PT",11005.06,.01)

"^DD",11006,11006,0,"PT",11007.106,.01)

"^DD",11006,11006,0,"VRPK")
A1AE
"^DD",11006,11006,.01,0)
PROBLEM NUMBER^RFX^^0;1^K:$L(X)>15!($L(X)<3)!'(X?1U.UN1"*"1N.PN1"*"1N.N) X S A1AEX=11006 D IN^A1AEUTL:$D(X) K A1AEX
"^DD",11006,11006,.01,1,0)
^.1^^-1
"^DD",11006,11006,.01,1,1,0)
11006^B
"^DD",11006,11006,.01,1,1,1)
S ^A1AE(11006,"B",$E(X,1,30),DA)=""
"^DD",11006,11006,.01,1,1,2)
K ^A1AE(11006,"B",$E(X,1,30),DA)
"^DD",11006,11006,.01,3)
ANSWER MUST BE 6-15 CHARACTERS IN LENGTH
"^DD",11006,11006,.01,21,0)
^^1^1^2860424^^^
"^DD",11006,11006,.01,21,1,0)
System assigned Problem Number
"^DD",11006,11006,.01,"DT")
2860311
"^DD",11006,11006,2,0)
PACKAGE^RP9.4'I^DIC(9.4,^0;2^Q
"^DD",11006,11006,2,9)
^
"^DD",11006,11006,2,21,0)
^^1^1^2860108^
"^DD",11006,11006,2,21,1,0)
Only the following packages are permitted: RA, DG, SD, A1AG, and A1AE.
"^DD",11006,11006,2,"DT")
2860205
"^DD",11006,11006,3,0)
VERSION^RFI^^0;3^K:$L(X)>10!($L(X)<1) X
"^DD",11006,11006,3,3)
ANSWER MUST BE 1-10 CHARACTERS IN LENGTH
"^DD",11006,11006,3,9)
^
"^DD",11006,11006,3,21,0)
^^2^2^2860108^
"^DD",11006,11006,3,21,1,0)
Enter the version number this problem applies to. The specified version number
"^DD",11006,11006,3,21,2,0)
must exist.
"^DD",11006,11006,3,"DT")
2860205
"^DD",11006,11006,4,0)
PROBLEM NUMBER^RNJ5,0I^^0;4^K:+X'=X!(X>99999)!(X<0)!(X?.E1"."1N.N) X
"^DD",11006,11006,4,1,0)
^.1
"^DD",11006,11006,4,1,1,0)
11006^PN
"^DD",11006,11006,4,1,1,1)
S ^A1AE(11006,"PN",$E(X,1,30),DA)=""
"^DD",11006,11006,4,1,1,2)
K ^A1AE(11006,"PN",$E(X,1,30),DA)
"^DD",11006,11006,4,3)
TYPE A WHOLE NUMBER BETWEEN 0 AND 99999
"^DD",11006,11006,4,9)
^
"^DD",11006,11006,4,21,0)
^^1^1^2860108^
"^DD",11006,11006,4,21,1,0)
The problem number is assigned by the system.
"^DD",11006,11006,4,"DT")
2860205
"^DD",11006,11006,5,0)
PROBLEM SUBJECT^RF^^0;5^K:X[""""!($A(X)=45) X I $D(X) K:$L(X)>40!($L(X)<3) X
"^DD",11006,11006,5,1,0)
^.1
"^DD",11006,11006,5,1,1,0)
11006^PS
"^DD",11006,11006,5,1,1,1)
S ^A1AE(11006,"PS",$E(X,1,30),DA)=""
"^DD",11006,11006,5,1,1,2)
K ^A1AE(11006,"PS",$E(X,1,30),DA)
"^DD",11006,11006,5,1,2,0)
11006^S
"^DD",11006,11006,5,1,2,1)
S ^A1AE(11006,"S",$E(X,1,30),DA)=""
"^DD",11006,11006,5,1,2,2)
K ^A1AE(11006,"S",$E(X,1,30),DA)
"^DD",11006,11006,5,3)
ANSWER MUST BE 3-40 CHARACTERS IN LENGTH
"^DD",11006,11006,5,21,0)
^^2^2^2860108^
"^DD",11006,11006,5,21,1,0)
Enter a brief description which will be used to identify the Problem
"^DD",11006,11006,5,21,2,0)
Designation.
"^DD",11006,11006,5,"DT")
2860116
"^DD",11006,11006,5.5,0)
PROBLEM DESCRIPTION^11006.01^^D;0
"^DD",11006,11006,5.5,21,0)
^^1^1^2860108^^
"^DD",11006,11006,5.5,21,1,0)
Enter a detailed description of the problem encountered.
"^DD",11006,11006,6,0)
REPORTING STATION/ISC^RP4'^DIC(4,^0;6^Q
"^DD",11006,11006,6,3)

"^DD",11006,11006,6,21,0)
^^1^1^2860108^^
"^DD",11006,11006,6,21,1,0)
Enter the station number or name of your facility.
"^DD",11006,11006,7,0)
REPORTED BY/PHONE^RF^^0;7^K:$L(X)>60!($L(X)<3) X
"^DD",11006,11006,7,3)
ANSWER MUST BE 3-60 CHARACTERS IN LENGTH
"^DD",11006,11006,7,21,0)
^^2^2^2860108^
"^DD",11006,11006,7,21,1,0)
Enter your Name/Phone Number in case the developer needs to contact you
"^DD",11006,11006,7,21,2,0)
concerning this problem.
"^DD",11006,11006,8,0)
USER ENTERING PROBLEM^RP200'^VA(200,^0;8^Q
"^DD",11006,11006,8,3)

"^DD",11006,11006,8,21,0)
^^1^1^2860108^^^
"^DD",11006,11006,8,21,1,0)
This field is a pointer to the User File(#3) and indicates the user who entered the problem.
"^DD",11006,11006,8,"DT")
3050816
"^DD",11006,11006,9,0)
DATE PROBLEM ENTERED^RD^^0;9^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11006,11006,9,3)

"^DD",11006,11006,9,21,0)
^^1^1^2860108^^
"^DD",11006,11006,9,21,1,0)
This field contains the date the problem was entered.
"^DD",11006,11006,10,0)
STATUS OF PROBLEM^RSX^u:UNDER REVIEW;r:RESOLVED;t:TABLED;n:NOT RELEASED FOR REVIEW;c:COMPLETE/RELEASE FOR REVIEW;^0;10^I $D(X),X="R"!(X="T")!(X="U"),'$D(^A1AE(11007,+$P(^A1AE(11006,DA,0),U,2),"PH",DUZ,0)) W !?3,"Only Authorized for 'C' or 'N'" K X
"^DD",11006,11006,10,1,0)
^.1
"^DD",11006,11006,10,1,1,0)
^^TRIGGER^11006^11
"^DD",11006,11006,10,1,1,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S(X="t":1,1:0) I X S X=DIV S Y(1)=$S($D(^A1AE(11006,D0,0)):^(0),1:"") S X=$P(Y(1),U,11) S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC X ^DD(11006,10,1,1,1.4)
"^DD",11006,11006,10,1,1,1.4)
S DIH=$S($D(^A1AE(11006,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,10,99))  S DIH=DIH_U" S %=$P(DIH,U,12,999),DIU=$P(DIH,U,11),^(0)=$P(DIH,U,1,10)_U_DIV_$S(%]"":U_%,1:""),DIH=11006,DIG=11 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11006,11006,10,1,1,2)
Q
"^DD",11006,11006,10,1,1,"CREATE CONDITION")
S X=$S(X="t":1,1:0)
"^DD",11006,11006,10,1,1,"CREATE VALUE")
TODAY
"^DD",11006,11006,10,1,1,"DELETE VALUE")
NO EFFECT
"^DD",11006,11006,10,1,1,"FIELD")
TABLED DATE
"^DD",11006,11006,10,1,2,0)
^^TRIGGER^11006^12
"^DD",11006,11006,10,1,2,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S(X="r":1,1:0) I X S X=DIV S Y(1)=$S($D(^A1AE(11006,D0,0)):^(0),1:"") S X=$P(Y(1),U,12) S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC X ^DD(11006,10,1,2,1.4)
"^DD",11006,11006,10,1,2,1.4)
S DIH=$S($D(^A1AE(11006,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,11,99))  S DIH=DIH_U" S %=$P(DIH,U,13,999),DIU=$P(DIH,U,12),^(0)=$P(DIH,U,1,11)_U_DIV_$S(%]"":U_%,1:""),DIH=11006,DIG=12 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11006,11006,10,1,2,2)
Q
"^DD",11006,11006,10,1,2,"CREATE CONDITION")
S X=$S(X="r":1,1:0)
"^DD",11006,11006,10,1,2,"CREATE VALUE")
TODAY
"^DD",11006,11006,10,1,2,"DELETE VALUE")
NO EFFECT
"^DD",11006,11006,10,1,2,"FIELD")
DATE RESOLVED
"^DD",11006,11006,10,1,3,0)
^^TRIGGER^11006^14
"^DD",11006,11006,10,1,3,1)
K DIV S DIV=X,D0=DA,DIV(0)=D0 S Y(0)=X S X=$S(X="c":1,1:0) I X S X=DIV S Y(1)=$S($D(^A1AE(11006,D0,0)):^(0),1:"") S X=$P(Y(1),U,14) S DIU=X K Y S X=DIV N %I,%H,% D NOW^%DTC X ^DD(11006,10,1,3,1.4)
"^DD",11006,11006,10,1,3,1.4)
S DIH=$S($D(^A1AE(11006,DIV(0),0)):^(0),1:""),DIV=X X "F %=0:0 Q:$L($P(DIH,U,13,99))  S DIH=DIH_U" S %=$P(DIH,U,15,999),DIU=$P(DIH,U,14),^(0)=$P(DIH,U,1,13)_U_DIV_$S(%]"":U_%,1:""),DIH=11006,DIG=14 D ^DICR:$N(^DD(DIH,DIG,1,0))>0
"^DD",11006,11006,10,1,3,2)
Q
"^DD",11006,11006,10,1,3,"CREATE CONDITION")
S X=$S(X="c":1,1:0)
"^DD",11006,11006,10,1,3,"CREATE VALUE")
TODAY
"^DD",11006,11006,10,1,3,"DELETE VALUE")
NO EFFECT
"^DD",11006,11006,10,1,3,"FIELD")
DATE RELEASED FOR REVIEW
"^DD",11006,11006,10,3)

"^DD",11006,11006,10,21,0)
^^2^2^2860127^^^^
"^DD",11006,11006,10,21,1,0)
Enter the current status of this problem. When the problem is first
"^DD",11006,11006,10,21,2,0)
entered the status is set to NOT RELEASED FOR REVIEW.
"^DD",11006,11006,10,"DT")
2860224
"^DD",11006,11006,11,0)
TABLED DATE^D^^0;11^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11006,11006,11,1,0)
^.1^^0
"^DD",11006,11006,11,5,1,0)
11006^10^1
"^DD",11006,11006,11,9)
^
"^DD",11006,11006,11,21,0)
^^2^2^2860108^^
"^DD",11006,11006,11,21,1,0)
If the Status indicates the problem has been tabled, or set aside,
"^DD",11006,11006,11,21,2,0)
the date tabled is entered.
"^DD",11006,11006,11,"DT")
2860117
"^DD",11006,11006,11.5,0)
TABLED COMMENTS^11006.02^^T;0
"^DD",11006,11006,11.5,21,0)
^^2^2^2860108^^
"^DD",11006,11006,11.5,21,1,0)
If the Status indicates the problem has been tabled, or set aside, the
"^DD",11006,11006,11.5,21,2,0)
reason for this action should be entered.
"^DD",11006,11006,12,0)
DATE RESOLVED^D^^0;12^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11006,11006,12,1,0)
^.1^^0
"^DD",11006,11006,12,3)

"^DD",11006,11006,12,5,1,0)
11006^10^2
"^DD",11006,11006,12,9)
^
"^DD",11006,11006,12,21,0)
^^1^1^2860108^
"^DD",11006,11006,12,21,1,0)
This field contains the date the problem was resolved.
"^DD",11006,11006,12,"DT")
2860117
"^DD",11006,11006,12.5,0)
RESOLVED COMMENTS^11006.03^^R;0
"^DD",11006,11006,13,0)
PATCH^P11005'^A1AE(11005,^0;13^Q
"^DD",11006,11006,13,21,0)
^^2^2^2860128^^
"^DD",11006,11006,13,21,1,0)
This field points to the Region 1 Patches File (#11005), and indicates
"^DD",11006,11006,13,21,2,0)
any patch related to resolving this problem.
"^DD",11006,11006,14,0)
DATE RELEASED FOR REVIEW^D^^0;14^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11006,11006,14,1,0)
^.1^^0
"^DD",11006,11006,14,5,1,0)
11006^10^3
"^DD",11006,11006,14,9)
^
"^DD",11006,11006,14,21,0)
^^1^1^2860108^
"^DD",11006,11006,14,21,1,0)
This field contains the date the problem was released for review.
"^DD",11006,11006,14,"DT")
2860117
"^DD",11006,11006,15,0)
USER TABLING PROBLEM^P200'^VA(200,^0;15^Q
"^DD",11006,11006,15,21,0)
^^2^2^2860108^^
"^DD",11006,11006,15,21,1,0)
If the problem has been tabled, or set aside, this field keeps track
"^DD",11006,11006,15,21,2,0)
of the Developer who tabled it.
"^DD",11006,11006,15,"DT")
3050816
"^DD",11006,11006,16,0)
USER RESOLVING PROBLEM^P200'^VA(200,^0;16^Q
"^DD",11006,11006,16,21,0)
^^2^2^2860108^^
"^DD",11006,11006,16,21,1,0)
If the problem has been resolved, this field keeps track of the
"^DD",11006,11006,16,21,2,0)
Developer who resolved the problem.
"^DD",11006,11006,16,"DT")
3050816
"^DD",11006,11006.01,0)
PROBLEM DESCRIPTION SUB-FIELD^NL^.01^1
"^DD",11006,11006.01,0,"NM","PROBLEM DESCRIPTION")

"^DD",11006,11006.01,0,"UP")
11006
"^DD",11006,11006.01,.01,0)
PROBLEM DESCRIPTION^W^^0;1^Q
"^DD",11006,11006.01,.01,21,0)
^^1^1^2860108^
"^DD",11006,11006.01,.01,21,1,0)
Enter a detailed description of the problem encountered.
"^DD",11006,11006.01,.01,"DT")
2860108
"^DD",11006,11006.02,0)
TABLED COMMENTS SUB-FIELD^NL^.01^1
"^DD",11006,11006.02,0,"NM","TABLED COMMENTS")

"^DD",11006,11006.02,0,"UP")
11006
"^DD",11006,11006.02,.01,0)
TABLED COMMENTS^W^^0;1^Q
"^DD",11006,11006.02,.01,21,0)
^^2^2^2860108^^
"^DD",11006,11006.02,.01,21,1,0)
If the Status indicates the problem has been tabled, or set aside, the
"^DD",11006,11006.02,.01,21,2,0)
reason for this action should be entered.
"^DD",11006,11006.03,0)
RESOLVED COMMENTS SUB-FIELD^NL^.01^1
"^DD",11006,11006.03,0,"NM","RESOLVED COMMENTS")

"^DD",11006,11006.03,0,"UP")
11006
"^DD",11006,11006.03,.01,0)
RESOLVED COMMENTS^W^^0;1^Q
"^DD",11006,11006.03,.01,"DT")
2860211
"^DD",11007,11007,0)
FIELD^^6^11
"^DD",11007,11007,0,"DT")
3030108
"^DD",11007,11007,0,"ID",2)
W ""
"^DD",11007,11007,0,"IX","AC",11007,6)

"^DD",11007,11007,0,"IX","AD",11007.03,.01)

"^DD",11007,11007,0,"IX","AS",11007.02,.01)

"^DD",11007,11007,0,"IX","AU",11007.05,.01)

"^DD",11007,11007,0,"IX","AV",11007.02,2)

"^DD",11007,11007,0,"IX","B",11007,.01)

"^DD",11007,11007,0,"NM","DHCP PATCH/PROBLEM PACKAGE")

"^DD",11007,11007,0,"VRPK")
A1AE
"^DD",11007,11007,.01,0)
PACKAGE^RP9.4'X^DIC(9.4,^0;1^S DINUM=X
"^DD",11007,11007,.01,1,0)
^.1
"^DD",11007,11007,.01,1,1,0)
11007^B
"^DD",11007,11007,.01,1,1,1)
S ^A1AE(11007,"B",$E(X,1,30),DA)=""
"^DD",11007,11007,.01,1,1,2)
K ^A1AE(11007,"B",$E(X,1,30),DA)
"^DD",11007,11007,.01,3)

"^DD",11007,11007,.01,21,0)
^.001^3^3^3070625^^^^
"^DD",11007,11007,.01,21,1,0)
Enter a Package which resides in the Package File(#9.4).
"^DD",11007,11007,.01,21,2,0)
This Package is now recognized by the DHCP PATCHES and
"^DD",11007,11007,.01,21,3,0)
DHCP PROBLEM files.
"^DD",11007,11007,2,0)
USER SELECTION PERMITTED^RSX^Y:YES;N:NO;^0;2^Q
"^DD",11007,11007,2,1,0)
^.1
"^DD",11007,11007,2,1,1,0)
^^BULLETIN MESSAGE
"^DD",11007,11007,2,1,1,1)
S Y(0)=X,D0=DA S Y(0)=X S X=$S('$D(A1AE2):0,A1AE2=X:0,X="Y":1,1:0) I X X ^DD(11007,2,1,1,1.1) S X=Y(0) S X=$S($D(^DIC(9.4,DA,0)):$P(^(0),U,2),1:"") S XMB(2)=X X ^DD(11007,2,1,1,1.3) K XMY S XMB="A1AE PKG" D EN^XMB:$D(^XMB(3.6,"B",XMB)) K Y,XMB
"^DD",11007,11007,2,1,1,1.1)
S X=Y(0) S Y(1)=$S($D(^A1AE(11007,D0,0)):^(0),1:"") S X=$S('$D(^DIC(9.4,+$P(Y(1),U,1),0)):"",1:$P(^(0),U,1)) S XMB(1)=X
"^DD",11007,11007,2,1,1,1.3)
S X=Y(0) S X=$S($D(^DIC(9.4,DA,0)):$P(^(0),U,3),1:"") S XMB(3)=X
"^DD",11007,11007,2,1,1,2)
Q
"^DD",11007,11007,2,1,1,"CREATE CONDITION")
S X=$S('$D(A1AE2):0,A1AE2=X:0,X="Y":1,1:0)
"^DD",11007,11007,2,1,1,"CREATE PARAMETER #1")
PACKAGE
"^DD",11007,11007,2,1,1,"CREATE PARAMETER #2")
S X=$S($D(^DIC(9.4,DA,0)):$P(^(0),U,2),1:"")
"^DD",11007,11007,2,1,1,"CREATE PARAMETER #3")
S X=$S($D(^DIC(9.4,DA,0)):$P(^(0),U,3),1:"")
"^DD",11007,11007,2,1,1,"CREATE VALUE")
A1AE PKG
"^DD",11007,11007,2,1,1,"DELETE VALUE")
NO EFFECT
"^DD",11007,11007,2,21,0)
^^5^5^2871112^^^^
"^DD",11007,11007,2,21,1,0)
If this field is set to 'YES' user's will be permitted to
"^DD",11007,11007,2,21,2,0)
select to receive notification of patches for this package.
"^DD",11007,11007,2,21,3,0)
They will also be able to print patches for this package.
"^DD",11007,11007,2,21,4,0)
If this field is set to 'NO' then user's can not access the
"^DD",11007,11007,2,21,5,0)
package via any of the Patch Module options.
"^DD",11007,11007,2,"DT")
2880125
"^DD",11007,11007,3,0)
* PERMIT DEVELOPER TO COMPLETE^S^y:YES;n:NO;^0;3^Q
"^DD",11007,11007,3,21,0)
^^19^19^2871112^^^^
"^DD",11007,11007,3,21,1,0)
This field will be phased out with the next version of the patch
"^DD",11007,11007,3,21,2,0)
module, after version 2.0 which will be released fall of 1987.
"^DD",11007,11007,3,21,3,0)
With verison 2.0 of the Patch Module this field became obsolete.
"^DD",11007,11007,3,21,4,0)
It is nolonger an option to force a different developer to
"^DD",11007,11007,3,21,5,0)
complete a patch, it is mandatory. In other words, one developer
"^DD",11007,11007,3,21,6,0)
enters the patch, another developer completes the patch and a
"^DD",11007,11007,3,21,7,0)
verifier, other than the developers who entered and completed
"^DD",11007,11007,3,21,8,0)
the patch, must verifiy the patch. Any valid developer of the
"^DD",11007,11007,3,21,9,0)
package can still change the status of a patch to 'Entered in
"^DD",11007,11007,3,21,10,0)
Error', should the situation arise.
"^DD",11007,11007,3,21,11,0)
 
"^DD",11007,11007,3,21,12,0)
This field use to permit the following:
"^DD",11007,11007,3,21,13,0)
 
"^DD",11007,11007,3,21,14,0)
Enter 'No' to prohibit a package developer who enters an 'Under
"^DD",11007,11007,3,21,15,0)
development' patch to change the status to 'Completed/unverified'.
"^DD",11007,11007,3,21,16,0)
This forces two developers to be involved in signing off on a patch.
"^DD",11007,11007,3,21,17,0)
Enter 'Yes' to permit the same developer to enter and complete a patch.
"^DD",11007,11007,3,21,18,0)
Please contact your supervisor to determine if this flag should be
"^DD",11007,11007,3,21,19,0)
set to 'No'.
"^DD",11007,11007,3,"DT")
2861021
"^DD",11007,11007,4,0)
FOR TEST SITE ONLY?^S^y:YES;n:NO;^0;4^Q
"^DD",11007,11007,4,.1)

"^DD",11007,11007,4,3)
Enter 'YES' if patches for this package are ONLY for test sites, or 'NO' if they are for any site.
"^DD",11007,11007,4,"DT")
2890119
"^DD",11007,11007,5,0)
ASK PATCH DESCRIPTION COPY^S^y:YES;n:NO;^0;5^Q
"^DD",11007,11007,5,3)

"^DD",11007,11007,5,21,0)
^^4^4^2920610^^^^
"^DD",11007,11007,5,21,1,0)
If this is set to Yes the developer will be asked 'Do you wish to copy
"^DD",11007,11007,5,21,2,0)
message text into the Patch Description' when editing a patch.
"^DD",11007,11007,5,21,3,0)
 
"^DD",11007,11007,5,21,4,0)
If set to NO the question will not be asked.
"^DD",11007,11007,5,"DT")
2920610
"^DD",11007,11007,6,0)
PERFORMANCE MEASURE FLAG^S^Y:YES;^0;6^Q
"^DD",11007,11007,6,1,0)
^.1
"^DD",11007,11007,6,1,1,0)
11007^AC
"^DD",11007,11007,6,1,1,1)
S ^A1AE(11007,"AC",$E(X,1,30),DA)=""
"^DD",11007,11007,6,1,1,2)
K ^A1AE(11007,"AC",$E(X,1,30),DA)
"^DD",11007,11007,6,1,1,"%D",0)
^^2^2^3030108^
"^DD",11007,11007,6,1,1,"%D",1,0)
This cross reference is used to get quick selection of packages that are 
"^DD",11007,11007,6,1,1,"%D",2,0)
required for Performance Measures reports.
"^DD",11007,11007,6,1,1,"DT")
3030108
"^DD",11007,11007,6,3)
Enter 'Yes' to include package on Performance Measures reports
"^DD",11007,11007,6,21,0)
^.001^2^2^3030108^^^
"^DD",11007,11007,6,21,1,0)
The field is used to include the package on the Performance 
"^DD",11007,11007,6,21,2,0)
Measures/Compliance Date reports.
"^DD",11007,11007,6,"DT")
3030108
"^DD",11007,11007,50,0)
SELECTED USERS FOR PACKAGE^11007.05PA^^1;0
"^DD",11007,11007,50,21,0)
^^2^2^2900428^^^^
"^DD",11007,11007,50,21,1,0)
This field holds the names of users who have requested to
"^DD",11007,11007,50,21,2,0)
receive automatic notification of patches for this package.
"^DD",11007,11007,100,0)
SUPPORT PERSONNEL^11007.02PA^^PB;0
"^DD",11007,11007,100,21,0)
^^4^4^2910307^^^^
"^DD",11007,11007,100,21,1,0)
This field contains the names of ISC personnel which are
"^DD",11007,11007,100,21,2,0)
regional support personnel for the package. It also holds
"^DD",11007,11007,100,21,3,0)
the names of internal verifiers assigned to verifying patches
"^DD",11007,11007,100,21,4,0)
for this package in the Patch Module.
"^DD",11007,11007,200,0)
DEVELOPMENT PERSONNEL^11007.03PA^^PH;0
"^DD",11007,11007,200,21,0)
^^3^3^2871112^^
"^DD",11007,11007,200,21,1,0)
Development Personnel may add, edit, delete and complete patches
"^DD",11007,11007,200,21,2,0)
for this package in the Patch Module. They may also enter and edit
"^DD",11007,11007,200,21,3,0)
authorized users in the DHCP PATCH/PROBLEM PACKAGE file.
"^DD",11007,11007,200,21,4,0)
Resolve any Problem for which they are an assigned developer. 
"^DD",11007,11007,200,21,5,0)
They may also Print any Patch or Problem for any Package.
"^DD",11007,11007,300,0)
VERSION^11007.01I^^V;0
"^DD",11007,11007,300,21,0)
^^3^3^2921027^^^^
"^DD",11007,11007,300,21,1,0)
In Options which require a Version the System will
"^DD",11007,11007,300,21,2,0)
default to the most recent Version. The Version is
"^DD",11007,11007,300,21,3,0)
used to keep track of assigning Patch Numbers.
"^DD",11007,11007,300,21,4,0)
Numbers.
"^DD",11007,11007,400,0)
NETWORK MAIL GROUP^11007.04I^^NT;0
"^DD",11007,11007.01,0)
VERSION SUB-FIELD^NL^27^5
"^DD",11007,11007.01,0,"DT")
2920917
"^DD",11007,11007.01,0,"ID",2)
W:+^(0)=999 ?18,"for 'DBA'" W:+$P(^(0),U,2) ?30,"   Date Verified: ",$E($P(^(0),U,2),4,5)_"-"_$E($P(^(0),U,2),6,7)_"-"_$E($P(^(0),U,2),2,3)
"^DD",11007,11007.01,0,"NM","VERSION")

"^DD",11007,11007.01,0,"UP")
11007
"^DD",11007,11007.01,.01,0)
VERSION^NJ6,2XO^^0;1^K:+X'=X!(X>999)!(X'>0) X S:$D(X) DINUM=X
"^DD",11007,11007.01,.01,2)
S Y(0)=Y S Y=$S(Y=999:"DBA",1:Y)
"^DD",11007,11007.01,.01,2.1)
S Y=$S(Y=999:"DBA",1:Y)
"^DD",11007,11007.01,.01,3)
TYPE A NUMBER BETWEEN 1 AND 999
"^DD",11007,11007.01,.01,7.5)
S X=$S(X="DBA"!(X="dba"):999,1:X)
"^DD",11007,11007.01,.01,"DT")
2891101
"^DD",11007,11007.01,2,0)
DATE VERIFIED^RD^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11007,11007.01,2,21,0)
^^2^2^2871112^
"^DD",11007,11007.01,2,21,1,0)
This field should hold the date the specified version of the
"^DD",11007,11007.01,2,21,2,0)
package was verified.
"^DD",11007,11007.01,2,"DT")
2860311
"^DD",11007,11007.01,25,0)
NEXT PROBLEM NUMBER^NJ5,0I^^PB;1^K:+X'=X!(X>99999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11007,11007.01,25,3)
TYPE A WHOLE NUMBER BETWEEN 1 AND 99999
"^DD",11007,11007.01,25,9)
^
"^DD",11007,11007.01,25,21,0)
^^3^3^2871112^^
"^DD",11007,11007.01,25,21,1,0)
The System assigns numbers to Problems. The number in
"^DD",11007,11007.01,25,21,2,0)
this field represents the Next Problem Number to be
"^DD",11007,11007.01,25,21,3,0)
assigned by the system to this Version of a Package.
"^DD",11007,11007.01,25,"DT")
2860108
"^DD",11007,11007.01,26,0)
NEXT PATCH NUMBER^NJ5,0I^^PH;1^K:+X'=X!(X>99999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11007,11007.01,26,3)
TYPE A WHOLE NUMBER BETWEEN 1 AND 99999
"^DD",11007,11007.01,26,9)
^
"^DD",11007,11007.01,26,21,0)
^^3^3^2860306^
"^DD",11007,11007.01,26,21,1,0)
The System assigns numbers to Patches. The number in
"^DD",11007,11007.01,26,21,2,0)
this field represents the Next Patch Number to be
"^DD",11007,11007.01,26,21,3,0)
assigned by the system to this Version of a Package.
"^DD",11007,11007.01,26,"DT")
2880122
"^DD",11007,11007.01,27,0)
NEXT SEQUENCE NUMBER^NJ5,0^^PR;1^K:+X'=X!(X>99999)!(X<1)!(X?.E1"."1N.N) X
"^DD",11007,11007.01,27,3)
Type a Number between 1 and 99999, 0 Decimal Digits
"^DD",11007,11007.01,27,"DT")
2921027
"^DD",11007,11007.02,0)
SUPPORT PERSONNEL SUB-FIELD^NL^3^3
"^DD",11007,11007.02,0,"DT")
2980730
"^DD",11007,11007.02,0,"NM","SUPPORT PERSONNEL")

"^DD",11007,11007.02,0,"UP")
11007
"^DD",11007,11007.02,.01,0)
SUPPORT PERSONNEL^MP200'X^VA(200,^0;1^S DINUM=X
"^DD",11007,11007.02,.01,1,0)
^.1
"^DD",11007,11007.02,.01,1,1,0)
11007^AS
"^DD",11007,11007.02,.01,1,1,1)
S ^A1AE(11007,"AS",$E(X,1,30),DA(1),DA)=""
"^DD",11007,11007.02,.01,1,1,2)
K ^A1AE(11007,"AS",$E(X,1,30),DA(1),DA)
"^DD",11007,11007.02,.01,21,0)
^^1^1^2860314^^^
"^DD",11007,11007.02,.01,21,1,0)
ISC personnel that do the regional support of the package.
"^DD",11007,11007.02,.01,"DT")
2921202
"^DD",11007,11007.02,2,0)
VERIFY PERSONNEL^S^V:VERIFIER;N:NOT A VERIFIER;^0;2^Q
"^DD",11007,11007.02,2,1,0)
^.1
"^DD",11007,11007.02,2,1,1,0)
11007^AV^MUMPS
"^DD",11007,11007.02,2,1,1,1)
I X="V" S ^A1AE(11007,"AV",DA,DA(1),DA)=""
"^DD",11007,11007.02,2,1,1,2)
K ^A1AE(11007,"AV",DA,DA(1),DA)
"^DD",11007,11007.02,2,3)

"^DD",11007,11007.02,2,21,0)
^^5^5^2900817^^^
"^DD",11007,11007.02,2,21,1,0)
This field should be set to 'V' if the support person is
"^DD",11007,11007.02,2,21,2,0)
an internal verifier. If this field contains a 'V' this
"^DD",11007,11007.02,2,21,3,0)
individual will have access to the 'Verifier Menu' option
"^DD",11007,11007.02,2,21,4,0)
and be permitted to verify completed patches for this
"^DD",11007,11007.02,2,21,5,0)
package.
"^DD",11007,11007.02,2,"DT")
2860402
"^DD",11007,11007.02,3,0)
VERIFIER'S DOMAIN^FX^^0;3^K:$L(X)>30!($L(X)<3) X I $D(X) S SAVX=X,X="A1AEM" X ^%ZOSF("TEST") S X=SAVX K SAVX I $T D MMM^A1AEM K:X="" X I $D(X),$D(X9) S X=X9_"."_X I $E(X)="." S X=$E(X,2,99)
"^DD",11007,11007.02,3,3)
Answer must contain a valid domain
"^DD",11007,11007.02,3,21,0)
^^5^5^2980730^^^^
"^DD",11007,11007.02,3,21,1,0)
This identifies the Verifiers Network Mail Domain for sending Patch 
"^DD",11007,11007.02,3,21,2,0)
messages to the verifier @ domain.  The domain name must have the format:
"^DD",11007,11007.02,3,21,3,0)
               [subdomain.]DOMAIN
"^DD",11007,11007.02,3,21,4,0)
 ie
"^DD",11007,11007.02,3,21,5,0)
     [optional remote subdomain . ]local domain file entry
"^DD",11007,11007.02,3,"DT")
2980730
"^DD",11007,11007.03,0)
DEVELOPMENT PERSONNEL SUB-FIELD^NL^.01^1
"^DD",11007,11007.03,0,"DT")
2921202
"^DD",11007,11007.03,0,"NM","DEVELOPMENT PERSONNEL")

"^DD",11007,11007.03,0,"UP")
11007
"^DD",11007,11007.03,.01,0)
DEVELOPMENT PERSONNEL^MP200'X^VA(200,^0;1^S DINUM=X
"^DD",11007,11007.03,.01,1,0)
^.1
"^DD",11007,11007.03,.01,1,1,0)
11007^AD
"^DD",11007,11007.03,.01,1,1,1)
S ^A1AE(11007,"AD",$E(X,1,30),DA(1),DA)=""
"^DD",11007,11007.03,.01,1,1,2)
K ^A1AE(11007,"AD",$E(X,1,30),DA(1),DA)
"^DD",11007,11007.03,.01,21,0)
^^5^5^2860306^
"^DD",11007,11007.03,.01,21,1,0)
Development Personnel may Enter/Edit Authorized Users in
"^DD",11007,11007.03,.01,21,2,0)
the DHCP AUTHORIZED USER file for Packages which they are
"^DD",11007,11007.03,.01,21,3,0)
assigned developers. They may also Enter/Edit any Patch or
"^DD",11007,11007.03,.01,21,4,0)
Resolve any Problem for which they are assigned developer.
"^DD",11007,11007.03,.01,21,5,0)
They may also Print any Patch or Problem fro any Package.
"^DD",11007,11007.03,.01,"DT")
2921202
"^DD",11007,11007.04,0)
NETWORK MAIL GROUP SUB-FIELD^^3^3
"^DD",11007,11007.04,0,"ID",2)
W "   ",$P(^(0),U,2)
"^DD",11007,11007.04,0,"IX","B",11007.04,.01)

"^DD",11007,11007.04,0,"NM","NETWORK MAIL GROUP")

"^DD",11007,11007.04,0,"UP")
11007
"^DD",11007,11007.04,.01,0)
NETWORK ROUTING^MF^^0;1^K:$L(X)>30!($L(X)<3) X
"^DD",11007,11007.04,.01,1,0)
^.1
"^DD",11007,11007.04,.01,1,1,0)
11007.04^B
"^DD",11007,11007.04,.01,1,1,1)
S ^A1AE(11007,DA(1),"NT","B",$E(X,1,30),DA)=""
"^DD",11007,11007.04,.01,1,1,2)
K ^A1AE(11007,DA(1),"NT","B",$E(X,1,30),DA)
"^DD",11007,11007.04,.01,3)
Answer must be 3-30 characters in length.
"^DD",11007,11007.04,.01,21,0)
^^6^6^2910612^^
"^DD",11007,11007.04,.01,21,1,0)
This field contains the recipient of verified Patch messages.
"^DD",11007,11007.04,.01,21,2,0)
It is combined with the domain for network addressing.  
"^DD",11007,11007.04,.01,21,3,0)
The value in this field for the A1AE entry in the file is 
"^DD",11007,11007.04,.01,21,4,0)
used for all packages for addressing verified patch messages.
"^DD",11007,11007.04,.01,21,5,0)
 
"^DD",11007,11007.04,.01,21,6,0)
Normally this field will be a 'G.group' mail group
"^DD",11007,11007.04,.01,"DT")
2900428
"^DD",11007,11007.04,2,0)
DOMAIN^FX^^0;2^K:$L(X)>30!($L(X)<3) X I $D(X) S SAVX=X,X="A1AEM" X ^%ZOSF("TEST") S X=SAVX K SAVX I $T D MMM^A1AEM K:X="" X I $D(X),$D(X9) S X=X9_"."_X I $E(X)="." S X=$E(X,2,99)
"^DD",11007,11007.04,2,3)
Answer must contain a valid domain
"^DD",11007,11007.04,2,21,0)
^^3^3^2910612^^
"^DD",11007,11007.04,2,21,1,0)
The value in this field is combined with the network routing 
"^DD",11007,11007.04,2,21,2,0)
to send verified Patch messages to 'network routing @ domain'
"^DD",11007,11007.04,2,21,3,0)
The value in the A1AE entry of the file is used for all packages.
"^DD",11007,11007.04,2,"DT")
2910613
"^DD",11007,11007.04,3,0)
TEST SITE^S^1:YES;0:NO;^0;3^Q
"^DD",11007,11007.04,3,"DT")
2900428
"^DD",11007,11007.05,0)
SELECTED USERS FOR PACKAGE SUB-FIELD^NL^3^3
"^DD",11007,11007.05,0,"DT")
2921202
"^DD",11007,11007.05,0,"NM","SELECTED USERS FOR PACKAGE")

"^DD",11007,11007.05,0,"UP")
11007
"^DD",11007,11007.05,.01,0)
SELECTED USERS FOR PACKAGE^MP200'X^VA(200,^0;1^S DINUM=X
"^DD",11007,11007.05,.01,1,0)
^.1
"^DD",11007,11007.05,.01,1,1,0)
11007^AU
"^DD",11007,11007.05,.01,1,1,1)
S ^A1AE(11007,"AU",$E(X,1,30),DA(1),DA)=""
"^DD",11007,11007.05,.01,1,1,2)
K ^A1AE(11007,"AU",$E(X,1,30),DA(1),DA)
"^DD",11007,11007.05,.01,21,0)
^^2^2^2860306^
"^DD",11007,11007.05,.01,21,1,0)
Enter Your name to request automatic notification of
"^DD",11007,11007.05,.01,21,2,0)
Patches for this Package.
"^DD",11007,11007.05,.01,"DT")
2921202
"^DD",11007,11007.05,2,0)
DATE USER SELECTED^D^^0;2^S %DT="EX" D ^%DT S X=Y K:Y<1 X
"^DD",11007,11007.05,2,21,0)
^^3^3^2871112^^
"^DD",11007,11007.05,2,21,1,0)
This field holds the date this user selected to receive automatic
"^DD",11007,11007.05,2,21,2,0)
notification of patches for this package. It is set by the system
"^DD",11007,11007.05,2,21,3,0)
via the option to 'Select Packages for Notification'.
"^DD",11007,11007.05,2,"DT")
2860204
"^DD",11007,11007.05,3,0)
TEST SITE DOMAIN^FX^^0;3^K:$L(X)>30!($L(X)<3) X I $D(X) S SAVX=X,X="A1AEM" X ^%ZOSF("TEST") S X=SAVX K SAVX I $T D MMM^A1AEM K:X="" X I $D(X),$D(X9) S X=X9_"."_X I $E(X)="." S X=$E(X,2,99)
"^DD",11007,11007.05,3,3)
Answer must be a valid domain
"^DD",11007,11007.05,3,21,0)
^^3^3^2900803^
"^DD",11007,11007.05,3,21,1,0)
This field should contain the a Domain name for sending
"^DD",11007,11007.05,3,21,2,0)
patch messages to the user @ domain.  This field is only
"^DD",11007,11007.05,3,21,3,0)
used if the Package is set as a TEST SITE.
"^DD",11007,11007.05,3,"DT")
2910613
"^DIC",11005,11005,0)
DHCP PATCHES^11005I
"^DIC",11005,11005,0,"GL")
^A1AE(11005,
"^DIC",11005,11005,"%D",0)
^^5^5^2930325^^^^
"^DIC",11005,11005,"%D",1,0)
This file contains patch information for DHCP packages. For patches
"^DIC",11005,11005,"%D",2,0)
to be stored in this file the package must reside in the Package file
"^DIC",11005,11005,"%D",3,0)
(#9.4) and in the DHCP Patch/Problem Package file (#11007). For a user to
"^DIC",11005,11005,"%D",4,0)
enter patches s/he must be an authorized developer of the package in
"^DIC",11005,11005,"%D",5,0)
file (#11007).
"^DIC",11005,"B","DHCP PATCHES",11005)

"^DIC",11005.1,11005.1,0)
DHCP PATCH MESSAGE^11005.1P
"^DIC",11005.1,11005.1,0,"GL")
^A1AE(11005.1,
"^DIC",11005.1,"B","DHCP PATCH MESSAGE",11005.1)

"^DIC",11005.5,11005.5,0)
DHCP HFS MESSAGE^11005.5
"^DIC",11005.5,11005.5,0,"GL")
^A1AE(11005.5,
"^DIC",11005.5,"B","DHCP HFS MESSAGE",11005.5)

"^DIC",11006,11006,0)
DHCP PROBLEMS^11006I
"^DIC",11006,11006,0,"GL")
^A1AE(11006,
"^DIC",11006,"B","DHCP PROBLEMS",11006)

"^DIC",11007,11007,0)
DHCP PATCH/PROBLEM PACKAGE^11007PI
"^DIC",11007,11007,0,"GL")
^A1AE(11007,
"^DIC",11007,11007,"%",0)
^1.005^0^0
"^DIC",11007,11007,"%D",0)
^^5^5^2910612^^^^
"^DIC",11007,11007,"%D",1,0)
This file contains DHCP packages for the DHCP PATCHES file (#11005).
"^DIC",11007,11007,"%D",2,0)
For a package to be added to this file it must reside in the PACKAGE
"^DIC",11007,11007,"%D",3,0)
file (#9.4). This file also contains authorized development, support
"^DIC",11007,11007,"%D",4,0)
and verify personnel for the patch file, the next patch/problem number,
"^DIC",11007,11007,"%D",5,0)
and the package versions.
"^DIC",11007,"B","DHCP PATCH/PROBLEM PACKAGE",11007)

**END**
**END**
