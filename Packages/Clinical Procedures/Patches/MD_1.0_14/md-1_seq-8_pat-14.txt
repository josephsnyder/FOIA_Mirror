$TXT Created by ACKERMAN,NIEN-CHIN at EVL.DEV.FO-HINES.MED.VA.GOV  (KIDS) on Wednesday, 01/23/08 at 11:06
=============================================================================
Run Date: APR 11, 2008                     Designation: MD*1*14
Package : MD - CLINICAL PROCEDURES            Priority: Mandatory
Version : 1         SEQ #8                      Status: Released
                  Compliance Date: MAY 12, 2008
=============================================================================

Associated patches: (v)MD*1*13     <<= must be installed BEFORE `MD*1*14'

Subject: AUTO CP STUDY CHECK-IN

Category: 
  - Routine
  - Data Dictionary
  - Enhancement (Mandatory)
  - Other

Description:
============

 508 Compliance
 --------------
 There is no Graphical User Interface (GUI) application associated with
 this patch.
                                                                        
 Associated E3R
 --------------
 20163
                                                   
 Associated Remedy Ticket
 ------------------------
 N/A
                                                                   
 This patch contains the enhancement of the automated
 Clinical Procedures (CP) Study Check-In.
 
 It will accomplish the following:
 
 1) Receive order activities from Computerized Patient Record System (CPRS)
    through the OR EVSEND GMRC and GMRC EVSEND OR protocols.
 
 2) Automatically check-in CP studies for GMRC Procedures associated
    with a CP Definition.  Designated CP Definitions that will have
    auto check-in are populated through a XPAR Parameter Definition
    MD CHECK-IN PROCEDURE LIST.
                                                                       
 3) Procedures that have multiple results such as Hemodialysis,
    and Respiratory Therapy that require subsequent CP study checked-in
    can be checked-in automatically by using scheduled appointments.  The
    designated clinics that need the subsequent CP studies checked-in can
    be populated in the XPAR Parameter Definition MD CLINIC QUICK LIST.
 
 Refer to the Post-Installation Instruction to populate the two parameters.
                                                                    
 -------------------------------------------------------------------------
                                                                    
 DATA DICTIONARY CHANGES:
 =======================
 1) A new "AS" cross reference has been added to the (.09) field, TRANSACTION
    STATUS, in the CP Transaction file (#702).
  
 702,.09       TRANSACTION STATUS     0;9
  
               CROSS-REFERENCE:  702^AS 
                                 1)= S ^MDD(702,"AS",$E(X,1,30),DA)=""
                                 2)= K ^MDD(702,"AS",$E(X,1,30),DA)
                                 It is a cross reference on the status of the CP
                                 study and it is used for quick look up.  
 
 2) A new field has been added to the CP TRANSACTION file (#702).  Field (#.14)
   is the SCHEDULED DATE/TIME.
 
 702,.14       SCHEDULED DATE/TIME    3;1 DATE
 
               INPUT TRANSFORM:  S %DT="EST" D ^%DT S X=Y K:Y<1 X
               LAST EDITED:      MAY 17, 2007 
               DESCRIPTION:      This field contains the date/time when the HL7
                                 message should be sent by CP to the device for
                                 this CP transaction.  
 
               CROSS-REFERENCE:  702^ASD 
                                 1)= S ^MDD(702,"ASD",$E(X,1,30),DA)=""
                                 2)= K ^MDD(702,"ASD",$E(X,1,30),DA)
                                 3)= This is the scheduled date/time needed for 
                                 sending HL7 message.
                                 This cross reference contains the scheduled
                                 date/time as to when the HL7 message should be
                                 sent to the device for the CP transaction.  It
                                 is used for easy look up to process the study.  
 
 A post installation routine MDPOST14 will run and set the "ASD" cross
 reference for the new field.  This routine will be deleted after the
 installation is ran.
 
 NEW OPTIONS:
 ===========
 MD AUTO CHECK-IN SETUP                                                 
 
  DESCRIPTION:   This option is used to populate the XPAR parameters MD USE
  APPT WITH PROCEDURE, MD CHECK-IN PROCEDURE LIST, MD CLINIC QUICK LIST, and MD
  CLINICS WITH MULT PROC.  The four XPAR parameters are used for the auto study
  check-in.  Users can use the option to indicate whether their site use and
  schedule appointments.  They can populate a list of procedures and associated
  clinics that need a CP study checked-in.                                   
                                                                         
 MD SCHEDULED STUDIES                           
 
  DESCRIPTION:   This option is tasked to run daily.  It will process the HL7
  messages that need to be sent to the device on a daily basis for CP studies.  
 
 MD STUDY CHECK-IN                       
                                                                          
  DESCRIPTION:   This option is tasked to run daily.  It checks-in CP studies 
  for procedures that require multiple encounters such as Hemodialysis,
  Respiratory Therapy, and Sleep Studies.
 
 NEW PROTOCOLS:
 =============
 MD RECEIVE GMRC                               
 MD RECEIVE OR                                  
                                                                    
 Protocols GMRC EVSEND OR and OR EVSEND GMRC are exported as "USE AS LINK
 FOR MENU ITEMS".  MD RECEIVE GMRC will be receiving order activities from
 GMRC EVSEND OR.  MD RECEIVE OR will be receiving order activities from
 OR EVSEND GMRC.
                                                                     
 NEW PARAMETER DEFINITIONS:
 =========================
 MD CHECK-IN PROCEDURE LIST
 
  DESCRIPTION:   
  This parameter contains a list of procedures that will be used
  to auto check-in the CP studies during the procedures request in CPRS.
 
 MD CLINIC QUICK LIST
 
  DESCRIPTION:   
  List of clinics used as a source to get a list of patients
  that need to have CP studies checked-in.  This only applies
  to studies with procedures that have multiple results such
  Hemodialysis, Respiratory Therapy, and sleep studies.
 
 MD CLINICS WITH MULT PROC
                                                   
  DESCRIPTION:   
  If you have a clinic for multiple procedures, populate this
  parameter with the procedure and associate it to a clinic.
                                                                        
 MD USE APPT WITH PROCEDURE
                                                                 
  DESCRIPTION:   
  Enter "Y" or "N" for Yes/No on whether your site selects the appointment
  scheduled for outpatients during the procedure request in CPRS.
 
 MISCELLANEOUS
 =============
 Documentation was updated with information for the released patch 5 and 9.
 
 The Implementation Guide was updated to clarify the CP Gateway section.
                                                                      
 
 TEST SITES:
 ==========
 Boston (Integrated)
 Dayton  (Large)
 Loma Linda (Large)
 Palo Alto (Integrated)
                                                                       
                                                                   
 DOCUMENTATION RETRIEVAL:
 =======================
 Software and the supporting documentation can be retrieved in the
 following steps:
  
  The following files can be retrieved in 
  BINARY format by File Transfer Protocol (FTP):
  MD_1_P14_RN        (Release Notes)
  MD_1_P14_IMPG      (Implementation Guide - change pages) 
  MD_1_P14_TM.PDF    (Technical Manual - change pages)
  MD_1_P14_UM.PDF    (User Manual - change pages)
  CLINPROC1_IMPG.PDF (Implementation Guide - whole manual)
  CLINPROC1_TM.PDF   (Technical Manual- whole manual)
  CLINPROC1_UM.PDF   (User Manual - whole manual)
  
  CPUSER.hlp        (CPUser help file)
  CPUSER.cnt        (CPUser help file)
                                                                              
                                                                    
  The preferred method is to FTP the files from
  
     download.vista.med.va.gov    
  
  which will transmit the files from the first available FTP server.
  
  The files may also be downloaded directly from a particular FTP
  location at the following locations.
  
         Albany                  ftp.fo-albany.med.va.gov
         Hines                   ftp.fo-hines.med.va.gov
         Salt Lake City          ftp.fo-slc.med.va.gov
  
  Files are available in the ANONYMOUS.SOFTWARE directory. 
                                                           
                                                                  
  INSTALLATION INSTRUCTIONS:
  =========================
  Users may remain on the system but this patch should be installed at
  non-peak hours due to the high volume use of the routines included.
  Installation should take less than 3 minutes.
  
     1. Use the INSTALL/CHECK MESSAGE option on the PackMan 
        menu.
     2. From the Kernel Installation and Distribution System Menu, 
        select the Installation menu.
     3. From this menu, you may elect to use the following options 
         (when prompted for INSTALL NAME, enter MD*1.0*14):
              a.  Backup a Transport Global
              b.  Compare Transport Global to Current System
              c.  Verify Checksums in Transport Global
     4. Use the Install Package(s) option and select the patch MD*1.0*14.
     5. When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
        Install? NO//", take the default. 
     6. When prompted "Want KIDS to INHIBIT LOGONs during the 
        install? NO//", take the default.
     7. When prompted "Want to DISABLE Scheduled Options, Menu 
        Options, and Protocols? NO//", take the default.
     8. When prompted 'DEVICE: HOME //', respond with <ENTER> or a device. 
                                                                              
 POST-INSTALLATION INSTRUCTION:
 =============================                    
 1) Replace the existing CPUser help files with CPUSER.hlp and CPUser.cnt.
    The default location of the help files is in the following pathway:
                                                           
      C:\Program Files\VistA\Clinical Procedures\Help
 
    If the CP application was placed elsewhere, the pathway to the help
    files will be within that location.
                                                                     
 2) The two new options MD SCHEDULED STUDIES and MD STUDY CHECK-IN need
    to be scheduled to run daily.  Queue to run MD SCHEDULED STUDIES the
    next day at 4am and the MD STUDY CHECK-IN the next day at 5am.
 
 =================
 BEGIN EXAMPLE 1
 =================
 Select OPTION to schedule or reschedule: MD    
      1   MD SCHEDULED STUDIES       Scheduled Studies
      2   MD STUDY CHECK-IN       Study Check-in
 CHOOSE 1-2: 1  MD SCHEDULED STUDIES     Scheduled Studies      (R)
                           Edit Option Schedule
     Option Name: MD SCHEDULED STUDIES          
     Menu Text: Scheduled Studies                         TASK ID: 2619819
   _________________________________________________________________________
 
   QUEUED TO RUN AT WHAT TIME: MAY 22,2007@04:00             
 
 DEVICE FOR QUEUED JOB OUTPUT:
 
  QUEUED TO RUN ON VOLUME SET: site volume                  
 
       RESCHEDULING FREQUENCY: 1D                            
 
              TASK PARAMETERS:
 
             SPECIAL QUEUEING:
 
 _________________________________________________________________________
 
 
 
 
 
 COMMAND:                                       Press <PF1>H for help    Insert
 -----------------------------------------------------------------------------
 Select OPTION to schedule or reschedule: MD STUDY CHECK-IN       Study Check-in
          ...OK? Yes//   (Yes)
       (R)
                           Edit Option Schedule
     Option Name: MD STUDY CHECK-IN             
     Menu Text: Study Check-in                            TASK ID: 2620037
   __________________________________________________________________________
 
   QUEUED TO RUN AT WHAT TIME: MAY 22,2007@05:00             
 
 DEVICE FOR QUEUED JOB OUTPUT:
 
  QUEUED TO RUN ON VOLUME SET: site volume                  
 
       RESCHEDULING FREQUENCY: 1D                            
 
              TASK PARAMETERS:
 
             SPECIAL QUEUEING:
 
 _________________________________________________________________________
 
 
 
 
 
 COMMAND:                                       Press <PF1>H for help    Insert
 -------------------------------------------------------------------------------
 =================
 END EXAMPLE 1
 =================
                                                                           
 3) Populate the three new XPAR Parameter Definitions using the MD AUTO
    CHECK-IN SETUP option.
 
 The following is the screen capture of the option usage:
  
 =================
 BEGIN EXAMPLE 2
 =================
 Select OPTION NAME:    MD AUTO CHECK-IN SETUP     Auto Study Check-In Setup
 Auto Study Check-In Setup
 Use Appointment with procedure? NO// ?
 
 Default should be 'N' as most sites do not schedule procedures
 before the order is entered.  Select 'Y' if the procedure appointment
 is scheduled before the order is entered and the ordering provider
 selects the appointment for the procedure.
 Enter either 'Y' or 'N'.
 
 Use Appointment with procedure? NO// 
 
 Procedure: ?
 Enter a CP Definition for the procedure to
 have auto CP study check-in.
 
  Answer with CP DEFINITION NAME
  Do you want the entire CP DEFINITION List? N  (No)
 
 Procedure: COLONOSCOPY       
 Schedule Appointment?: ?
 
 
 REQUIRED field for the procedure to have auto CP study check-in.
 Enter a "^" will exit completely.
 
 Enter 0 if you do not schedule appointments.
       1 if you only schedule appointments for outpatients.
       2 if you only schedule appointments for inpatients.
       3 if you schedule appointments for both 1 and 2.
 
      Select one of the following:
 
           0         None
           1         Outpatient
           2         Inpatient
           3         Both
 
 Schedule Appointment?: Both
 Clinic: ? 
 Only required, if appointments are scheduled for the procedure.
 Enter the clinic used for scheduling the procedure.
 
 
  Answer with HOSPITAL LOCATION NAME, or ABBREVIATION, or TEAM
  Do you want the entire 112-Entry HOSPITAL LOCATION List? N  (No)
 Clinic: GI LAB       PIPER,ALPHA
 
 Enter another clinic for the same procedure? NO// ?
 
 Enter either 'Y' or 'N', if you want to assign more than one clinic.
 
 Enter another clinic for the same procedure? NO//YES
 Clinic: TEST
      1   TEST/PROSTHETICS       
      2   TEST1       
      3   TEST1234       
      4   TEST3232       
 CHOOSE 1-4: 2  TEST1     
 
 Enter another clinic for the same procedure? NO// 
 
 Procedure:
 
 ===============
 END EXAMPLE 2
 ===============                                                           
 
  
 ROUTINE SUMMARY
 ===============
 The following is a list of the routine(s) included in this patch.  The 
 second line of each of these routine(s) will look like:
  
 <tab>;;1.0;Clinical Procedures;**[patch list]**;Apr 01, 2004
  
  
                          CHECK^XTSUMBLD results
  
 Routine name     Before Patch     After Patch     Patch List     
 ============     ============     ===========     ==========
 MDKUTL               N/A           2090277          **14**
 MDPOST14             N/A           361076           **14**
 MDWCHK               N/A           7872478          **14**
 MDWOR                N/A           9330452          **14**
 MDWORC               N/A           4974268          **14**
 MDWORSR              N/A          14428964          **14**
 MDWSETUP             N/A          23471421          **14**
 
 (NOTE:Post-Init routine  MDPOST14 is deleted after installation)
 
 
 
 
 
 
 
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;1.0;CLINICAL PROCEDURES;**[Patch List]**;Apr 01, 2004;Build 20

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MDKUTL
    Before:       n/a   After:  B5317629  **14**
Routine Name: MDPOST14
    Before:       n/a   After:   B424736  **14**
Routine Name: MDWCHK
    Before:       n/a   After: B15776924  **14**
Routine Name: MDWOR
    Before:       n/a   After: B34141861  **14**
Routine Name: MDWORC
    Before:       n/a   After: B13681232  **14**
Routine Name: MDWORSR
    Before:       n/a   After: B40172880  **14**
Routine Name: MDWSETUP
    Before:       n/a   After: B67128950  **14**

=============================================================================
User Information:
Entered By  : ACKERMAN,NIEN-CHIN            Date Entered  : SEP 13, 2005
Completed By: REZNIK,CHARMAINE              Date Completed: MAR 25, 2008
Released By : GENTRY,MELINDA                Date Released : APR 11, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
