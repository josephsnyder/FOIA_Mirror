
=============================================================================
Run Date: JUN 26, 2007                     Designation: MAG*3*86
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #48                      Status: Released
                  Compliance Date: JUL 27, 2007
=============================================================================


Subject: CHRONOLOGICAL MESSAGES

Category: 
  - Routine

Description:
============

 This document describes Patch 86, the Chronologic Messages patch. This 
 patch fixes the bug that may cause a DICOM Gateway to cease receiving HL7 
 messages when the header of the PACS MESSAGES table on the VistA system is
 modified in an unexpected fashion.
  
 Terms of Use:
 ============
  
 FDA regulations require that each Imaging software distribution is 
 documented and tracked by the VistA Imaging project.
  
 To receive this patch, sites must have a Site Agreement filed with and 
 approved by the VistA Imaging Group.
  
 For information about the status of a Site Agreement, contact the VistA 
 Imaging Distribution Manager (VHAVISiteFeedback@va.gov).
  
 This patch can be downloaded from:
 =================================
  
 ftp.imaging.med.va.gov/Software/Released_Software/Mag3_0P86
  
 There may be a brief delay between the distribution of this message and 
 the availability of the patch at the FTP site.
  
 Documentation will also be posted at
 http:/vaww.va.gov/Imaging/3.0patches.htm shortly after this patch is
 released.
   
 Patch Contents:
 ==============
   
 This patch includes the following software:
  
 MAG3_0P86.KID - KIDS (Kernel Installation & Distribution System) package
 to be installed on the VistA hospital database
  
 This patch includes the following documentation:
   
 MAG3_0P86_Patch_Description.pdf
   
 Test sites for this patch:
 =========================
  
 * Muskogee (Medium, Remedy # 144324, # 157290, Wanda Nail)
 * Philadelphia (Large, Remedy # 152123, Lisa Harris)
 * Kansas City (Integrated, Remedy # 168117, Bonnie Matlack)
  
 Associated Remedy Calls:
 =======================
  
 * 144324, 152123, 157290, 168117, 175895, 178650, 181401, 182063
     Text Gateway stops working because HL7 messages are entered out
     of sequence.
   
 Associated E3R (Electronic Error and Enhancement Reporting) entries:
 ===================================================================
  
 N/A
  
 Remote Procedure Calls:
 ======================
  
 N/A
  
 Data Dictionaries:
 =================
  
 N/A
  
 Routine Summary:
 ===============
  
 New and modified routines for the VistA Imaging Host are listed below. For
 each routine, the second line will contain the following information. 
 Please note the before checksum may differ if any test software has been
 installed.
  
     <tab>**[patch list]**;20-February-2007
  
 Checksums utilizing the routine CHECK^XTSUMBLD
  
 Routine      Before    After   Patch List
  
 MAGDHL7     7399823  7016595  **11,30,86**
 MAGDHW0     4070033  4187105  **10,86**
 MAGIPS8     new      5183006  **86**
   
 Routine MAGIPS86 is an installation routine that will be automatically
 deleted after the KIDS installation.
  
 Installation Instructions:
 =========================
  
 Detailed patch information and installation instructions can be found in
 the MAG3_0P86 Patch Description. Any late-breaking information will be
 documented in a readme file.
  
 Obtain the software from the Imaging FTP folder; the files to be 
 downloaded are itemized in an earlier section. The time needed to 
 download these files is dependent on the WAN activity; normally it will 
 take a couple of minutes.
  
 The KID file can be installed with users on the system and will take less
 than 5 minutes. All DICOM Gateway activity should be stopped before updating
 the VistA system with this patch.
  
 Note: In general, it is a good idea to schedule the installation of a patch
 for a time when
  
 * Adequate support resources are available
 * System load is expected to be low
  
 This patch is to be installed on the VistA System.
  
 VistA Host (KIDS) Installation
 ------------------------------
  
 1.  Access the Kernel Installation and Distribution System Menu [XPD MAIN].
  
 2.  Run the Installation option.
  
 3.  Load the KIDS file by performing the following steps.
  
     a.  Run the Load a Distribution [XPD LOAD DISTRIBUTION] option to load 
         the KIDS distribution.
  
     b.  When prompted, enter the path and file name (MAG3_0P86.KID) of the
         Patch 86 KIDS file that you downloaded from the Imaging FTP 
         server.
  
     c.  When prompted to continue with the load, enter YES.  A Distribution
         OK! message will be displayed when the load is complete.
        
 4.  After loading the KIDS file, use the following menu options to verify
     the contents of the patch and to back up any affected routines.
  
     Verify Checksums in Transport Global [XPD PRINT CHECKSUM] - run this 
     option if you want to ensure the integrity of the routines in the
     patch.
  
     Compare Transport Global to Current System [XPD COMPARE TO SYSTEM] -
     run this option if you want to view all changes that will be made when
     the patch is installed.  All components (routines, options, and so on)
     in the patch will be compared.
  
     Backup a Transport Global [XPD BACKUP] - run this option if you want to
     create a backup message of any routines exported with the patch.  It 
     will NOT back up any of the other changes.
  
 5.  After performing the load and any optional verification steps, install
     the KIDS file by performing the following steps:
  
     a.  Run the Install Package(s) option.
  
     b.  When prompted for the install name, enter MAG*3.0*86.
  
     c.  Answer NO to the following prompts:
  
     Want KIDS to Rebuild Menu Trees Upon Completion of Install? Yes//NO
     Want KIDS to INHIBIT LOGONs during the install? No//NO
     Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//NO
  
 6.  When installation is finished, an Install Complete message will be
     displayed.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MAGDHL7
    Before: B24648346   After: B23890484  **11,30,86**
Routine Name: MAGDHW0
    Before:  B8889432   After:  B9603861  **10,86**
Routine Name: MAGIPS86
    Before:       n/a   After:  B9658026  **86**
 
Routine list of preceding patches: 10, 30

=============================================================================
User Information:
Entered By  : TROMBETTA,KATHY               Date Entered  : NOV 29, 2006
Completed By: SHOVESTUL,MARYANN             Date Completed: JUN 26, 2007
Released By : BOSAK,GREG                    Date Released : JUN 26, 2007
=============================================================================


Packman Mail Message:
=====================

No routines included
