
=============================================================================
Run Date: JUL 13, 2006                     Designation: MAG*3*50
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #40                      Status: Released
                  Compliance Date: AUG 13, 2006
=============================================================================

Associated patches: (v)MAG*3*30        install with patch       `MAG*3*50'
                    (v)MAG*3*51        install with patch       `MAG*3*50'

Subject: DICOM Export I

Category: 
  - Routine

Description:
============

 VistA Imaging Patch 50 introduces the capability of exporting DICOM
 (Digital Imaging and Communication in Medicine) images to DICOM
 destinations.  These destination can be, but are not limited to, CD
 Burner, commercial PACS (Picture Archiving and Communication System),
 or viewing workstations.  The image files being exported will be 
 compressed using a new imaging executable, MAG_Decompressor_Setup.exe. 
  
 This functionality is part of the DICOM Gateway software.  New menu 
 options have been created that will allow transports of images by either 
 selecting a single Radiology accession number or a batch process that 
 encompasses a date range or all images for a specified patient.  The 
 VistA Imaging DICOM export capability always uses the most recent patient 
 demographics, even though these may have change from the time the DICOM 
 objects were originally acquired.
  
 The regular VistA Imaging Patient Safety rules apply to the DICOM export
 capability.  Should a Patient Safety integrity problem be found while 
 preparing a DICOM object for transmission, the operation will abort and be
 recorded in the log and by email.  This provides immediate notification to
 the site's support personnel.
  
 NOTE: All sites running VISTA Imaging 3.0 that have implemented DICOM 
 Gateways must install both the KIDS portion on their VISTA system and the
 client portions of this patch on all relevant client systems.
  
 Terms of Use
 --------------
 FDA regulations require that each Imaging software distribution is 
 documented and tracked by the VistA Imaging project.
  
 To receive this patch, sites must have a Site Agreement filed with and 
 approved by the VistA Imaging Group.
  
 For information about the status of a Site Agreement, contact the VistA 
 Imaging Distribution Manager (VHAVISiteFeedback@va.gov).
  
  
 This patch can be downloaded from:
 =================================
 This software will be available on the Imaging FTP Server in the following
 directory:
  
 ftp.imaging.med.va.gov/Software/Released_Software/Mag3_0P51.
  
  
 NOTE: Any late-breaking news about this patch will be found in a readme 
 file.  If present, this file will also be located in the MAG3_0P51
 directory.
  
 Patch Contents:
 ==============
 This patch includes the following files:
  
 MAG30P50.ZIP - Download this file from the Imaging FTP site. This file
 contains the entire patch 50 files required for an automatic installation
 on the Imaging DICOM gateways.
  
 MAG30P50.KID - KIDS (Kernel Installation & Distribution System) package 
 to be installed on the VistA hospital database.
  
 MAG3_0P50_Patch_Description.pdf - Patch 50's description and installation 
 instructions. 
  
 MAG3_0P50_DICOMig_AppH.pdf - DICOM Installation Guide change pages with 
 updated TCP/IP Settings notes.
  
 MAG3_0P50_DICOMug_4_16.pdf - DICOM Gateway User Manual change pages with 
 updated Image Gateway notes.
  
 MAG3_0P50_DICOMug_4_16_5thru4_16_6.pdf - DICOM Gateway User Manual change 
 pages with updated Batch Export notes.
  
 MAG3_0P50_TM_7_2_1.pdf - Technical Manual change pages
  
 MAG3_0P50_SG2_9.pdf - Security Guide change pages
  
  
 Test Sites:
 ==========
 The following sites are test sites for this patch:
  
 El Paso, TX
 Fayetteville, NC
 Muskogee, OK
 Charleston, SC
 North Florida HCS
  
 NOIS Entries:
 ============
 This patch addresses the following NOIS (National Online Information
 System) entries.
  
   UNY-0202-12111                        67456
   BIL-1204-31192                        68543
   WAS-0701-20359                        67416
   HWH-0901-42157                        82481
   MUS-0604-71767                        103503
  
 Remote Procedure Calls
 ---------------------
 The following RPC entries will be installed during the KIDS installation:
 RPC MAG DICOM GET ICN
 RPC MAG DICOM GET NEXT QUEUE ENTRY
 RPC MAG DICOM LOOKUP STUDY
 RPC MAG DICOM QUEUE IMAGE
 RPC MAG NEW SOP INSTANCE UID
 RPC MAG RAD GET NEXT RPT BY DATE
 RPC MAG RAD GET NEXT RPT BY PT
  
 Data Dictionaries
 -----------------
 The following new fields will be added.
 IMAGE file (#2005) two new fields:
         NEW SOP INSTANCE UID (#252)
         SERIES UID (#253)
 IMAGE AUDIT (#2005.1) two new fields:
         NEW SOP INSTANCE UID (#252)
         SERIES UID (#253)
  
 New files will be added.
 DICOM GATEWAY PARAMETER (#2006.563)
 EXPORT DICOM RUN  (#2006.565)
 DICOM IMAGE OUTPUT (#2006.574)
 USER APPLICATION   (#2006.585)
  
  
 Routines:
 ========
  
 New and modified routines for the Imaging DICOM Gateway are listed 
 below.  For each routine, the second line will contain the following 
 information.  Please note the before checksum may differ if any test 
 software has been installed.
  
  
 Routine      Before       After           After        Patch List
 Name                      Old Style       New Style
                           =========       =========
  
 MAGDDR3      10064273      10877694        42714987    **1,10,51,50**
 MAGDFCNS     12965667      14207082        73741278    **9,10,11,30,50**
 MAGDFND2     17399475      17525585        82738401    **1,10,30,51,50**
 MAGDFND4      7174636       7159112        20508173    **10,11,30,50**
 MAGDGEX1     16487644      16529907        75064981    **11,30,51,50** 
 MAGDIR71     12607718      12681907        65647127    **11,30,51,50**
 MAGDIR7T     10464570      10736964        38463134    **11,30,51,50**
 MAGDIW2A      8533451      10710589        39247733    **10,11,30,51,50**
 MAGDIW3       6217985       6806486        18859883    **10,30,50**
 MAGDIW3A        new        15371109        85135481    **50**
 MAGDIW3B      8707552      10333254        40272872    **11,30,51,50**
 MAGDIW4       8202326       8323712        20431262    **10,51,50**
 MAGDIWB1     13106994      14955492        68641835    **11,30,51,50**
 MAGDIWB2     16325119      16255407        79791960    **11,30,51,50**
 MAGDIWB5     17324908      17470911        72716500    **11,30,51,50**
 MAGDIWBA     16175274      18929168        79718893    **30,50**
 MAGDIWBB     13852886      13901724        69099862    **30,50**
 MAGDIWBC        new        16141351        89861948    **50**
 MAGDIWBD        new         5755264        10992009    **50**
 MAGDMENO     11592607      11597436        38675689    **11,30,51,50**
 MAGDMFB       7360763       7528731        18837400    **9,21,11,30,50*
 MAGDMFB7      4426396      10095497        39682152    **10,30,50***
 MAGDMFBS     10584696      11266458        36759007 **9,10,11,30,51,50**
 MAGDMMSG     10560026      10564037        43392585    **21,11,30,51,50**
 MAGDRPC0      2734291       2793295         4025550    **11,51,50**
 MAGDUID1      6157333       6152977        17226171    **21,10,11,50**
 MAGDVRSN      7050786       7050786        21032634    **1,7,9,26,21,10,
                                                      36,3,11, 30,5,51,50**
 MAGDWLP2      9093577       9108134        26654065    **11,30,50**
 MAGM2VCU     13820422      13808172        89676900    **11,30,51,50**
  
 'Old style' checksums are calculated using the Kernel utility program 
 CHECK^XTSUMBLD and 'new style' checksums are calculates using the Kernel 
 utility program CHECK1^XTSUMBLD.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MAGBRTUT
    Before: B19709178  After: B19755345  **9,11,30,51,50**
Routine Name: MAGDGMRC
    Before: B32065539  After: B32477984  **10,51,50**
Routine Name: MAGDHWA
    Before: B58804489  After: B58838393  **10,51,50**
Routine Name: MAGDIR81
    Before: B73980751  After: B74717291  **11,30,51,50**
Routine Name: MAGDIR9B
    Before: B17435777  After: B17634090  **11,51,50**
Routine Name: MAGDRPC1
    Before: B59232604  After: B57373178  **11,30,51,50**
Routine Name: MAGDRPC2
    Before: B65141543  After: B66416501  **11,30,51,50**
Routine Name: MAGDRPC3
    Before: B44058911  After: B62468863  **11,30,51,50**
Routine Name: MAGDRPC4
    Before: B72718318  After: B74521195  **11,30,51,50**
Routine Name: MAGDRPC9
    Before:       n/a  After: B29652420  **50**
Routine Name: MAGGTIA2
    Before: B18840525  After: B17645994  **10,50**
Routine Name: MAGIPS50
    Before:       n/a  After: B19093218  **50**

=============================================================================
User Information:
Entered By  : CASUGAY,ELSIE G               Date Entered  : DEC 21, 2004
Completed By: SHOVESTUL,MARYANN             Date Completed: JUL 11, 2006
Released By : CAROZZA,DAN                   Date Released : JUL 13, 2006
=============================================================================


Packman Mail Message:
=====================

No routines included
