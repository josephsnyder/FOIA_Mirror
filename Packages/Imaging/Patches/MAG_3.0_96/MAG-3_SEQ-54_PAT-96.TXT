
=============================================================================
Run Date: JUN 12, 2008                     Designation: MAG*3*96
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #54                      Status: Released
                  Compliance Date: JUL 13, 2008
=============================================================================


Subject: VISTAWEB CCOW FIX

Category: 
  - Routine

Description:
============

 Patch 96 resolves the following Remedy Tickets with potential Patient 
 Safety Issues:
  
   Remedy 192639 PSI-07-098 Patch 46 Telereader Application
   Remedy 198223 PSI-07-162 Clinical Display issue for Sensitive Patients
  
 Patch 96 addresses 2 issues.  The first issue deals with using VistAWeb 
 with the TeleReader application and setting CCOW patient context.  A 
 patient context change initiated by TeleReader does not set a facility 
 identifier that VistAWeb relies on to change context.  The result is that 
 VistAWeb is unable to change to the next patient whenever an unread study 
 is selected from the TeleReader application.  This enhancement will 
 modify TeleReader to set the required CCOW values to allow for a patient 
 context change in VistAWeb.
  
 The second issue addressed by patch 96 is related to displaying sensitive 
 patients at remote sites.  When a sensitive patient is selected using the 
 VistA Imaging Display application, the application checks if the patient 
 is marked sensitive at the remote site(s).  If the patient is marked 
 sensitive at the remote site(s), a special modal dialog is displayed for 
 each site to let the user know that they are about to display data for a 
 sensitive patient and that the action will be logged.  The user then has 
 the option of continuing to display the patient data, canceling the 
 display for that site or canceling the display of remote data at all 
 sites.  In previous versions of the VistA Imaging Display application, 
 the dialog could be hidden behind the CPRS window and not viewable to the 
 user.  This caused the CCOW link to timeout and the VistA Imaging Display 
 application would not synchronize to the same patient as CPRS.
  
  
 This patch available at:
  
 ftp.imaging.med.va.gov/Software/Released_Software/Mag3_0P96
  
 There may be a brief delay between the distribution of this message and 
 the availability of the patch at the FTP site.
  
 Documentation will also be posted
 http://vaww.va.gov/Imaging/IMGnew3_0patches11.htm shortly after this patch
 is released.
  
 This patch requires Imaging's patches MAG*3.0*46 and MAG*3.0*59 be
 installed on the VistA server (hospital) prior to installation.
  
 Patch Contents:
 ==============
  
 This patch includes the following software:
  
 MAG3_0P96.KID - KIDs (Kernel Installation & Distribution System) package 
 to be installed on the VistA system.
  
 MagAUShare.zip - Zip file containing files used by Autoupdate sites.  
 Contains MagASet.exe, MagSetup.exe and magnet.ini.
  
 MagInstall.exe - Installation file for Clinical Display and Capture 
 client software.
  
 MagInstall.msi - Installation file for sites using SMS or similar 
 software.
  
 This patch includes the following documentation:
  
 MAG3_0P96_Patch_description.pdf
  
 Test Sites
 ==========
 Altoona, PA - Small
 Boston HCS - Integrated
 Fayetteville, NC - Medium
 Little Rock, AR - Large
  
 Remedy Calls
 ============
 192639 PSI-07-098 Patch 46 TeleReader Application
 198223 PSI-070-162 Clinical Display Problems
  
 E3R Entries
 ===========
 There are no E3R (Electronic Error and Enhancement Reporting package) 
 entries addressed in this patch.
  
 Data Dictionary
 ===============
 There are no new or modified Data Dictionary changes included in this 
 patch.
  
 Remote Procedure Calls
 ======================
 There are no new or modified Remote Procedure calls included in this 
 patch.
  
 Security Keys
 =============
 There are no new or modified security keys included in this patch.
  
 Menu Options
 ============
 There are no new or modified menu options included in this patch.
  
 Templates
 =========
 There are no new or modified templates included in this patch.
  
 Installation Instructions
 =========================
  
 Installing the KIDS Package
 1. Access the Kernel Installation and Distribution System Menu [XPD MAIN].
 2. Run the Installation option.
 3. Load the KIDS file by performing the following steps.
    a. Run the Load a Distribution [XPD LOAD DISTRIBUTION] option to load
       the KIDS distribution.
    b. When prompted, enter the path and file name (MAG3_0P96.KID) of the
       Patch 96 KIDS file that you downloaded from the Imaging FTP server.
    c. When prompted to continue with the load, enter YES.  A Distribution
       OK! message will be displayed when the load is complete.
 4. After loading the KIDS file, use the following options to verify the
    contents of the patch and to back up any affected routines.
    a. Verify Checksums in Transport Global [XPD PRINT CHECKSUM] - run this
       option if you want to ensure the integrity of the routines in the 
       patch. 
    b. Compare Transport Global to Current System [XPD COMPARE TO SYSTEM] -
       run this option if you want to view all changes that will be made
       when the patch is installed.  All components (routines, options, and
       so on) in the patch will be compared.
    c. Backup a Transport Global [XPD BACKUP] - run this option if you want
       to create a backup message of any routines exported with the patch.
       It will NOT back up any of the other changes.
 5. After performing the load and any optional verification steps, install
    the KIDS file by performing the following steps:
    a. Run the Install Package(s) [XPD INSTALL BUILD] option.
    b. When prompted for the install name, enter MAG*3.0*96.
    c. Answer NO to the following prompts:
       Want KIDS to Rebuild Menu Trees Upon Completion of Install? Yes//NO
       Want KIDS to INHIBIT LOGONs during the install? No//NO
       Want to DISABLE Scheduled Options, Menu Options, and Protocols?
              YES//NO
 6. When installation is finished, an Install Complete message will be
    displayed.
  
 Post Install Instructions:
 ==========================
 This patch includes software to update the Clinical Imaging Client 
 Software.  Detailed instructions are provided in the 
 MAG3_0P96_PATCH_DESCRIPTION.pdf
  
 Sample KIDS Installation
 ========================
 Select Installation Option: INstall Package(s)
 Select INSTALL NAME:    MAG*3.0*96     Loaded from Distribution  
 5/1/08@15:37:20
      => VistA Imaging 3.0 patch 96....  ;Created on Apr 29, 2008@12:15:44
  
 This Distribution was loaded on May 01, 2008@15:37:20 with header of 
    VistA Imaging 3.0 patch 96....  ;Created on Apr 29, 2008@12:15:44
    It consisted of the following Install(s):
      MAG*3.0*96
 Checking Install for Package MAG*3.0*96
  
 Install Questions for MAG*3.0*96
  
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO// 
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   TELNET
  
  Install Started for MAG*3.0*96 : 
                May 01, 2008@15:47:06
  
 Build Distribution Date: Apr 29, 2008
  
  Installing Routines: 
                May 01, 2008@15:47:06
  
  Running Pre-Install Routine: POST^MAGIPS96 
 Patch 96 is turning Version Checking ON...
 Version Checking is already ON, no action taken for Site: 660
 Patch 96 is turning Version Checking ON...
 Version Checking is already ON, no action taken for Site: 589
  
  Updating Routine file... 
  
  Updating KIDS files.. 
  MAG*3.0*96 Installed. 
                May 01, 2008@15:47:07
  
  Install Message sent #27992 
 Install Completed

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MAGGTU4
    Before: B39449032   After: B40765395  **8,48,63,45,46,59,96**
Routine Name: MAGIPS96
    Before:       n/a   After:  B5627154  **96**
 
Routine list of preceding patches: 59

=============================================================================
User Information:
Entered By  : TROMBETTA,KATHY               Date Entered  : JUN 26, 2007
Completed By: SHOVESTUL,MARYANN             Date Completed: JUN 11, 2008
Released By : FOLLENSBEE,DENNIS             Date Released : JUN 12, 2008
=============================================================================


Packman Mail Message:
=====================

No routines included
