
=============================================================================
Run Date: SEP 25, 2008                     Designation: MAG*3*95
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #57                      Status: Released
                  Compliance Date: OCT 26, 2008
=============================================================================

Associated patches: (v)MAG*3*46    <<= must be installed BEFORE `MAG*3*95'

Subject: MUSE EKG MAINTENANCE

Category: 
  - Routine

Description:
============

 This patch implements support of MUSE version 7 for VistA Imaging Clinical
 Display, and ends support for MUSE versions 5a and 5b.  Support for MUSE 
 versions 5c, 5d and 5e are retained.  
  
 When MUSE version 7 was developed, the architecture of the MUSE changed and is 
 no longer backward compatible with older versions of the MUSE API.  This patch
 will update the VistA Imaging Display application to check the version of the 
 MUSE before each connection.  It will load the appropriate MUSE API DLL for 
 the version of the MUSE that it connects to.  MUSE versions 5a and 5b will no 
 longer be supported by GE or the VA.  
  
 In addition to the changes described above, there will be changes to how EKG
 reports are formatted.  The 5a version of the MUSE API used special formatting
 files (fmtopts) to indicate how MUSE reports were to be formatted.  The current
 version of the API uses customizable format settings on the MUSE.  The format
 of the reports can now be configured using the MUSE application software on 
 the MUSE server.
  
 In order to better support terminal servers, the location of the cached EKG 
 reports will change with this patch.
  
 Beginning with patch 95, the duplicate copies of the Display and Capture 
 executables will no longer be sent with the distribution package.  They 
 will also be removed from the application folder if they already exist.  
 Previously, they were included for backwards compatibility.  Sites will 
 need to check their CPRS Tools Menu definition to ensure that the current 
 executables names are referenced.  Updated instructions for displaying and
 changing the CPRS Tools menu are included with this patch.  
  
 In order to assist sites with enabling the MUSE EKG button on the main 
 Clinical Display window, the default setting for the MUSE Enabled field 
 in the mag308.ini file will now be set to TRUE.  The default setting is 
 applied whenever the VistA Imaging application is installed on a PC for 
 the first time.         
  
 Any late-breaking information will be documented in a readme file.
  
 Terms of Use:
 ============
  
 FDA regulations require that each Imaging software distribution is 
 documented and tracked by the VistA Imaging project.
  
 To receive this patch, sites must have a Site Agreement filed with and 
 approved by the VistA Imaging Group.
  
 For information about the status of a Site Agreement, contact the VistA 
 Imaging Distribution Manager (VHAVISiteFeedback@va.gov).
   
 This patch can be downloaded from:
 =================================
  
 ftp.imaging.med.va.gov/Software/Released_Software/Mag3_0P95
  
 There may be a brief delay between the distribution of this message and the 
 availability of the patch at the FTP site.
  
 Documentation will also be posted at
 http:/vaww.va.gov/Imaging/3.0patches.htm shortly after this patch is
 released.
  
 Patch Contents:
 ==============
  
 This patch includes:
   
 MAG3_0P95.KID - KIDS (Kernel Installation & Distribution System) package
                 to be installed on the VistA System.
  
 MagInstall.exe - Installation file for Clinical Display and Capture 
                  client software. 
  
 MagInstall.msi - Installation file for sites using SMS or similar 
                  software.
  
 MagAUShare.zip - Zip file containing files used by Autoupdate sites. 
  
 Documentation:
 ==============
  
 MAG3_0P95_IG_2_7_1_1_Interface_MUSE.pdf - Installation Guide changes for
                                           for this patch
  
 MAG3_0P95_TM_6_3_1_Clin_files.pdf - Technical Manual change pages
                                          for this patch. 
  
 MAG3_0P95_IG_2_7_2_CPRS_GUI.pdf - Updated instructions for modifying the CPRS 
                                          Tools menu.
  
 IMGtechman.pdf - Revised Technical Manual incorporating change pages for
                  this patch, plus minor non-patch related changes described in
                  revision table.
  
 IMGinstallgd.pdf - Revised Installation Guide incorporating change pages
                    for this patch, plus minor non-patch related changes
                    described in revision table.
  
 Test sites for this patch:
 =========================
  
 Denver, CO - Integrated Site
 Phoenix, AZ - Large Site
 VISN 2 - Integrated Site
   
 Associated Remedy Calls:
 =======================
  
 The following Remedy calls are addressed in this patch:
  
 225031 - We will be installing a MUSE v7.1 server and we will need to
          interface it with VistA Imaging.
  
 Associated E3R (Electronic Error and Enhancement Reporting) entries:
 ====================================================================
  
 N/A
  
 Remote Procedure Calls:
 =======================
  
 There are no remote procedures are included in this patch.
  
 Menu Options:
 =============
  
 There are menu options changes in this patch.
  
 Data Dictionaries:
 ==================
  
 There are no data dictionaries changes in this patch.
  
 Installation Instructions:
 ==========================
  
 Any late-breaking information will be documented in a readme file 
  
 This patch is to be installed on the VistA Host and each clinical workstation. 
 This patch must be installed by the compliance date to conform with VHA
 Directive 2001-023.
  
 This patch can be installed while the VistA Imaging System is active.
  
 KIDS installation will take less than one minute. 
  
 Before installing this patch, you will need to download the Patch 95 files
 from the Imaging FTP site to a local storage location.
  
 VistA Host (KIDS) Installation:
 ===============================
  
 1.  Access the Kernel Installation and Distribution System Menu [XPD MAIN].
  
 2.  Run the Installation option.
  
 3.  Load the KIDS file by performing the following steps.
  
     a.  Run the Load a Distribution [XPD LOAD DISTRIBUTION] option to load the
         KIDS distribution.
  
     b.  When prompted, enter the path and file name (MAG3_0P95.KID) of the
         Patch 95 KIDS file that you downloaded from the Imaging FTP server.
  
     c.  When prompted to continue with the load, enter YES.  A Distribution OK!
         message will be displayed when the load is complete.
  
 4.  After loading the KIDS file, use the following menu options to verify the
     contents of the patch and to back up any affected routines.
  
         Verify Checksums in Transport Global [XPD PRINT CHECKSUM] - run this 
         option if you want to ensure the integrity of the routines in the patch.
  
         Compare Transport Global to Current System [XPD COMPARE TO SYSTEM] - run
         this option if you want to view all changes that will be made when the 
         patch is installed.  All components (routines, options, and so on) in 
         the patch will be compared.
  
         Backup a Transport Global [XPD BACKUP] - run this option if you want to
         create a backup message of any routines exported with the patch.  It 
         will NOT back up any of the other changes.
  
 5.  After performing the load and any optional verification steps, install the 
     KIDS file by performing the following steps:
  
     a.  Run the Install Package(s) option.
  
     b.  When prompted for the install name, enter MAG*3.0*95.
  
     c.  Answer NO to the following prompts:
  
      Want KIDS to Rebuild Menu Trees Upon Completion of Install? No//NO
      Want KIDS to INHIBIT LOGONs during the install? No//NO
      Want to DISABLE Scheduled Options, Menu Options, and Protocols?
                                                                 No//NO
  
 6.  When installation is finished, an Install Complete message will be
     displayed.
  
 VistA Host Sample KIDS Installation 
 ===================================
  
 Select OPTION NAME: XPD MAIN       Kernel Installation & Distribution System
  
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
           Patch Monitor Main Menu ...
  
  
 Select Kernel Installation & Distribution System Option: INstallation
  
  
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 Select Installation Option: LOAD a Distribution
 Enter a Host File: MAG3_0p95.kid
   
 KIDS Distribution saved on Jun 13, 2008@14:12:27
 Comment: VistA Imaging 3.0 patch 95......
  
 This Distribution contains Transport Globals for the following Package(s):
    MAG*3.0*95
 Distribution OK!
  
 Want to Continue with Load? YES//
 Loading Distribution...
  
    MAG*3.0*95
 Use INSTALL NAME: MAG*3.0*95 to install this Distribution.
  
  
  
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
  
 Select Installation Option: install Package(s)
 Select INSTALL NAME:    MAG*3.0*95    Loaded from Distribution  6/16/08@16:36:29
      => VistA Imaging 3.0 patch 95......  ;Created on Jun 13, 2008@14:12:27
  
 This Distribution was loaded on Jun 16, 2008@16:36:29 with header of
    VistA Imaging 3.0 patch 95......  ;Created on Jun 13, 2008@14:12:27
    It consisted of the following Install(s):
      MAG*3.0*95
 Checking Install for Package MAG*3.0*95
  
 Install Questions for MAG*3.0*95
  
 Incoming Files:
  
  
    2006.17   MUSE VERSIONS  (including data)
 Note:  You already have the 'MUSE VERSIONS' File.
 I will OVERWRITE your data with mine.
  
  
 Want KIDS to INHIBIT LOGONs during the install? NO//
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO//
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   HERE
  
  
  Install Started for MAG*3.0*95 :
                Jun 16, 2008@16:36:55
  
 Build Distribution Date: Jun 13, 2008
  
  Installing Routines:...
                Jun 16, 2008@16:36:55
  
  Installing Data Dictionaries: ..
                Jun 16, 2008@16:36:55
  
  Installing Data:
                Jun 16, 2008@16:36:56
  
  Running Post-Install Routine: POST^MAGIPS95.
 Patch 95 is turning Version Checking ON...
 Version Checking is already ON, no action taken for Site: 660
 Patch 95 is turning Version Checking ON...
 Version Checking is already ON, no action taken for Site: 589
  
  Updating Routine file......
  
  Updating KIDS files.......
  
  MAG*3.0*95 Installed.
                Jun 16, 2008@16:36:57
  
  Install Message sent #26249
  
  
 Clinical Imaging Client Software Installation:
 =============================================
  
 The clinical Imaging client software (Display, Capture, and the TeleReader) 
 can be updated using on of the methods outlined below.
  
 * Manual Installation
 * Autoupdate Installation 
 * Other Automatic Installation Methods (SMS, PSexec, etc.) 
  
 After client installation is complete, log into an updated workstation and use
 the Help | About menu option to verify that the version number is 3.0.95.2 or
 newer.
  
 Manual Installation:  
 ===================
  
 The magInstall.exe file can be installed manually on workstations as described
 in section 2.5.5.1 in the Clinical Imaging Installation Guide.
  
 VistA Imaging Autoupdate Installation: 
 =====================================
  
 These steps assume Autoupdate has already been implemented. For information
 about setting up Autoupdate,see section 2.5.6 in the Clinical Imaging
 Installation Guide.
  
 1.  Download the MagAUShare.zip and magInstall.exe from the Imaging FTP server
     to a local storage location.
  
 2.  Copy the new magInstall.exe file to the location specified in
     magautoupdate.bat. (This file is in Program Files\VistA
     Imaging\InstallationService on the system where VIIS is installed).
  
 3.  Extract the contents of the MagAUShare.zip file to the UPDATE\TEST folder.
  
 4.  In the UPDATE\TEST folder, open magnet.ini and change the <server>
      placeholder for "InstallService" to reflect the server (or cluster name)
      where VIIS is installed.
          [update_mode]
          ForceUpdateAll=FALSE
          InstallFile=MagSetup.exe
          InstallService=http://<SERVER>/imaging/install.asmx
          <MachineName>=TRUE
  
 5.  Run the Clinical Display and Capture on the test workstations until all
      normal activities at your site have been verified to be functional.
  
 6.  When it is verified that the software is running properly, extract the
     contents of the MagAUShare.zip file to the UPDATE\DISTRIB folder.
  
 7.  In the UPDATE\DISTRIB folder, open magnet.ini and change the <server>
      placeholder for "InstallService" to reflect the server (or cluster name)
      where VIIS is installed.
  
 8.  All workstations will be updated the next time Clinical Display or Capture
     is run.
  
 Other Automatic Installation Methods:
 ==================================== 
  
 SMS - Use the MagInstall.msi file to create an SMS distribution package 
  
 PSexec - create a batch file to push and install the software on remote
          workstations.  This process is described in detail in section 
          2.5.5.3 in the latest Clinical Imaging Installation guide.  

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MAGGTU4
    Before: B40765395   After: B40789937  **8,48,63,45,46,59,96,95**
Routine Name: MAGIPS95
    Before:       n/a   After: B12175146  **95**
 
Routine list of preceding patches: 96

=============================================================================
User Information:
Entered By  : SHOVESTUL,MARYANN             Date Entered  : APR 27, 2007
Completed By: TROMBETTA,KATHY               Date Completed: SEP 24, 2008
Released By : GENTRY,MELINDA                Date Released : SEP 25, 2008
=============================================================================


Packman Mail Message:
=====================

No routines included
