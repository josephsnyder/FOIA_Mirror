
=============================================================================
Run Date: MAY 31, 2005                     Designation: MAG*3*63
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #31                      Status: Released
                  Compliance Date: JUN 30, 2005
=============================================================================

Associated patches: (v)MAG*3*48    <<= must be installed BEFORE `MAG*3*63'

Subject: EKG Patient Safety Fix

Category: 
  - Routine
  - Other

Description:
============

 VistA Imaging patch MAG*3.0*63 corrects a problem that prevents the VistA 
 Imaging EKG window from refreshing properly in certain situations.  This
 issue affects all versions of the Clinical Imaging software released since
 October 12 2003 (MAG*3.0*24 and later).  
  
 NOTE:  IMAGING SITE PARAMETER CHANGE - VERSION CHECKING IMPLEMENTED
  
 During the Post Install, version checking will automatically be turned 
 on.  This will block the use of Display/Capture software versions older 
 than patch MAG*3.0*24.
  
 This patch also incorporates FUT (Field Unit Test) 53.  FUT53 corrects a 
 5008 error experienced by one site while viewing unconfirmed EKGs 
 transferred from an old server.
  
  
 NOTE:  This patch is to be installed at ALL VistA Imaging sites.
  
 All information related to this patch, including installation steps, is
 included in this message. Any additional late-breaking information will be
 documented in a readme file.
  
 Specifically, the EKG window would not refresh when the user switched
 patients in CPRS if:
  
    a) The Imaging Display application was minimized AND
    b) "Show MUSE EKGs" option under Options > View Preferences was 
       disabled.
     
 This problem only occurred when both of the criteria above were met.
  
 Sites that have not yet updated their Clinical Imaging workstations to
 MAG*3.0*48 can install only the KIDS portion of the patch, provided that
 the VistA Host has MAG*3.0*48 installed.
  
 Installing only the MAG*3.0*63 KIDS will cause a warning message to be
 displayed on Clinical workstations not yet updated with the client portion
 of MAG*3.0*63.  The warning message alerts users to the potential patient
 safety issue and explains how the issue can be avoided.  The warning
 message will not be displayed on workstations updated to MAG*3.0*63.
  
 NOTE:  IMAGING SITE PARAMETER CHANGE - VERSION CHECKING IMPLEMENTED
  
 During the Post Install, version checking will automatically be turned 
 on.  This will block the use of Display/Capture software versions older 
 than patch MAG*3.0*24.  Version checking is set in the VERSION CHECKING 
 (#130) field in the IMAGING SITE PARAMETERS file (2006.1).  To review the 
 installation process of this patch use menu option Install File Print 
 [XPD PRINT INSTALL FILE].
  
 Sites should be aware that in a future version of the Display/Client 
 software, Version Checking will be permanently turned on and older 
 versions of the software will not be backwards compatible.  
  
 Imaging sites wishing to turn off version checking may use VA FileMan and 
 edit field #130, VERSION CHECKING in the IMAGING SITE PARAMETERS file 
 (#2006.1).
  
 This patch is available at:
 ftp.imaging.med.va.gov/Software/Released_Software/Mag3_0P63
  
  
 There may be a brief delay between the distribution of this message and
 the availability of the patch at the FTP site.
  
 Documentation will also be posted at
 http:/vaww.va.gov/Imaging/3.0patches.htm shortly after this patch is
 released.
  
  
 Patch Contents:
 ==============
  
 This patch includes the following software:
  
 MAG30P63.KID - KIDS (Kernel Installation & Distribution System) package to
        be installed on the VistA hospital database.
  
 MagInstall.exe - Installation file for Clinical Display and Capture
        client software.
  
 MagInstall.msi - Installation file for sites using SMS or similar 
        software.
  
 MagAUShare.zip - Files required for Autoupdate.
  
 Apart from this NPM message, there is no documentation included in this
 patch. 
  
  
 Test sites for this patch:
 =========================
 Fayetteville, NC
 Huntington, WV
 Mountain Home, TN
 Philadelphia, PA
  
 Installation Instructions:
 ===========================
 This patch is to be installed on the VistA Host and on the Clinical
 Imaging workstations.
  
 This patch can be installed while the VistA Imaging System is active.
  
 KIDS installation will take less than one minute. Client installation time
 will vary based on the method used.
  
 Before installing this patch, you will need to download the Patch 63 files
 from the Imaging FTP site to a local storage location.
  
  
 VistA Host (KIDS) Installation
 ------------------------------
  
 1.  Access the Kernel Installation and Distribution System Menu [XPD 
     MAIN].
  
 2.  Run the Installation option.
  
 3.  Load the KIDS file by performing the following steps.
  
     a.  Run the Load a Distribution [XPD LOAD DISTRIBUTION]
         option to load the KIDS distribution.
  
     b.  When prompted, enter the path and file name (MAG3_0P63.KID) of the
         Patch 63 KIDS file that you downloaded from the Imaging FTP 
         server.
  
     c.  When prompted to continue with the load, enter YES.  A 
         Distribution OK! message will be displayed when the load is
         complete.
        
 4.  After loading the KIDS file, use the following menu options to verify
     the contents of the patch and to back up any affected routines.
  
         Verify Checksums in Transport Global [XPD PRINT CHECKSUM] -
         run this option if you want to ensure the integrity of the
         routines in the patch.
  
         Compare Transport Global to Current System [XPD COMPARE TO 
         SYSTEM] - run this option if you want to view all changes that
         will be made when the patch is installed.  All components
         (routines, options, and so on) in the patch will be compared.
  
         Backup a Transport Global [XPD BACKUP] - run this option if you
         want to create a backup message of any routines exported with the
         patch.  It will NOT back up any of the other changes.
  
 5.  After performing the load and any optional verification steps, install
     the KIDS file by performing the following steps:
     a.  Run the Install Package(s) option.
  
     b.  When prompted for the install name, enter MAG*3.0*63.
  
     c.  Answer NO to the following prompts:
  
      Want KIDS to Rebuild Menu Trees Upon Completion of Install? Yes//NO
      Want KIDS to INHIBIT LOGONs during the install? No//NO
      Want to DISABLE Scheduled Options, Menu Options, and Protocols?
                                                                 YES//NO
  
 6.  When installation is finished, an Install Complete message will be
     displayed.
  
  
 Clinical Imaging Client Software Installation
 ---------------------------------------------
 Clinical Imaging (Display & Capture) client software can be updated using
 one of the methods outlined below.
  
 *  Manual Installation
 *  Autoupdate Installation
 *  Other Automatic Installation Methods (SMS, PSexec, etc.)
  
 After client installation is complete, log into an updated workstation and
 use the Help | About menu option to verify that the version number is
 3.0.63.1.
  
  
 MANUAL INSTALLATION
 The magInstall.exe file can be installed manually on workstations as 
 described in section 2.5.4.1 in the Clinical Imaging Installation Guide.
  
  
 AUTOUPDATE INSTALLATION
 These steps assume Autoupdate has already been implemented.  For 
 information about setting up Autoupdate, see section 2.5.5 in the Clinical
 Imaging Installation Guide.
  
 1.  Download the MagAUShare.zip and magInstall.exe files from the Imaging
     FTP server to a local storage location.
  
 2.  Copy the new magInstall.exe file to the location specified in
     magautoupdate.bat. (Program Files\VistA Imaging\InstallationService on
     the system where VIIS is installed).
  
 3.  Extract the contents of the MagAUShare.zip file to the UPDATE\TEST 
     folder.
  
 4.  In the UPDATE\TEST folder, open magnet.ini and change the <server> 
     placeholder for "InstallService" to reflect the server (or cluster 
     name) where VIIS is installed.
   
       [update_mode]
       ForceUpdateAll=FALSE
       InstallFile=MagSetup.exe
       InstallService=http://<SERVER>/imaging/install.asmx
       <MachineName>=TRUE
  
 5.  Run the Clinical Display and Capture on test workstations for a period
     of time to ensure there are no problems with the software at your
     site.
  
 6.  When it is verified that the software is running properly, extract the
     contents of the MagAUShare.zip file to the UPDATE\DISTRIB folder.
  
 7.  In the UPDATE\DISTRIB folder, open magnet.ini and change the <server>
     placeholder for "InstallService" to reflect the server (or cluster 
     name) where VIIS is installed.
  
 8.  All other workstations will display an option to install the new
     software the next time Clinical Display or Capture is run.  Until the
     users choose to install the new software, they will be prompted to
     update each time they launch the software.
     
  
  
 OTHER AUTOMATIC INSTALLATION METHODS (SMS, PSexec, etc.)
 The following methods are available to push updated software to multiple 
 workstations.
  
 *  Remote push of magInstall.exe using PSexec and an administrator's 
    account.
    This process is documented in detail in section 2.5.4.3 in the current
    Clinical Imaging Installation Guide.
  
 *  Remote push using Microsoft SMS or similar remote installation 
    software.
    Either magInstall.exe or magInstall.msi can be used for this. 
    Installation specifics will vary from site to site.
  
  
 Remedy Calls:
 =============
 68717
   
  
 E3R entries:
 ============
 There are no E3R (Electronic Error and Enhancement Reporting) entries 
 associated with this patch.
  
  
 Routine summary:
 =================
 The following routines are included in the KIDS file.  The second line of
 the routines will look like:
  
  
 <space>;;3.0;IMAGING;**63**;14-September-2004
  
  
 Routine name     Before Patch     After Patch     Patch List
 ============     ============     ===========     ==========
 MAGGTII           8845764            8558917      **8,48,63** 
 MAGGTU4           8466131            12651615     **8,48,63**
 MAGIPS63          N/A                5539441      **63**
  
  
 Routine MAGIPS63 is a post-init routine that is automatically
 deleted after the KIDS application installs.

Routine Information:
====================

=============================================================================
User Information:
Entered By  : BARRIOS,LUCILLE               Date Entered  : APR 04, 2005
Completed By: SHOVESTUL,MARYANN             Date Completed: MAY 12, 2005
Released By : LOVING,MANLEY                 Date Released : MAY 31, 2005
=============================================================================


Packman Mail Message:
=====================

No routines included
