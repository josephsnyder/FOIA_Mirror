
=============================================================================
Run Date: FEB 25, 2004                     Designation: MAG*3*36
Package : MAG - IMAGING                       Priority: EMERGENCY
Version : 3        SEQ #18                      Status: Released
                  Compliance Date: MAR 26, 2004
=============================================================================

Associated patches: (v)XU*8*335    <<= must be installed BEFORE `MAG*3*36'

Subject: DICOM Maintenance for Kernel patch XU*8*335

Category: 
  - Routine

Description:
============

 This patch, MAG*3*36, will correct the <NOPGM> error that occurs on the 
 Digital Imaging and Communication in Medicine (DICOM) Gateways after the 
 Kernel patch XU*8*335 is installed on the VistA server. The error is 
 encountered when the DICOM Gateway performs a FileMan look-up in the 
 Institution file (#4). The Kernel patch, XU*8*335, introduces a new 
 routine (XUMF333) that is used to screen Institution file entries and 
 this routine does not exist on the DICOM Gateway. This patch will move 
 the XUMF333 routine on each of the DICOM Gateways.
  
 The patch consists of the following files:
 MAG_30P36.KID - Kernel Installation & Distribution System (KIDS)
              application to be installed on hospital database.
 MAGDCM.RTN - DICOM Image and Text gateway software.
  
 To receive this patch, a site must have their Site Agreement on file with 
 and approved by the VistA Imaging Group.
  
 Once the required documents are received and approved, software will be 
 available on the Imaging FTP server under 
 Software\Software_Released\Mag3_0p36 folder. For information concerning 
 the status of a site, contact Kathy Trombetta via phone (301-734-0357) or 
 email (Kathy.Trombetta@med.va.gov).
  
 Test Sites:
 ================ 
 Columbia, SC
 Portland, OR
 Mountain Home, TN
 White River Junction, VT
 Fayetteville, NC
                 
  
 NOIS Entries:
 ================  
 PHO-0104-61167
 CAH-0204-30909
  
  
 ROUTINE 
 SUMMARY:                                                                  
             
 =======================================                                   
 The following is a list of the routine(s) included in this patch.  The 
 second line of each of these routine(s) will look like:
                                                                                 
      <tab>;; 3.0;IMAGING;**36**;13 February 2004
  
                            CHECK^XTSUMBLD results
                                                                                 
   Routine name      After Patch         Patch List
   ============      ============        =========== 
    MAGDROUT          5343680              **10,36**
    MAGIPS36          4705155              **36**
    MAGDVRSN          3941242              **1,7,9,26,21,10,36**
  
 Routine MAGIPS36 is a post installation routine that is deleted at the 
 end of the KIDS install.
  
 Routine MAGDROUT was modified to include a reference to routine XUMF333.
  
 Routine MAGDVRSN is located on the DICOM Gateway and is used to display 
 the number of patches installed on the Gateway. 
  
 INSTALLATION INSTRUCTIONS: 
 ==========================
 Note: Patch XU*8*335 is a REQUIRED BUILD for this KIDS distribution.     
 Installation will take less than one minute; verification will take less 
 than 5 minutes.
                                                                                 
  1.  From the Kernel Installation and Distribution System Menu, select
      the Installation menu.
  2.  Use the Kernel Installation and Distribution System Menu option to
      load the MAG_30P36.KID.
  3.  From this menu, you may elect to use the following options (when
      prompted for the INSTALL NAME, enter MAG*3.0*36).
                                                                                 
     a. Backup a Transport Global - this option will create a backup
        message of any routines exported with the patch.  It will NOT
        backup any of the other changes.
     b. Compare Transport Global to Current System - this option will
        allow you to view all changes that will be made when the patch
        is installed.  It compares all components of the patch (routines
        and options).          
     c. Verify Checksums in Transport Global - this option will allow
        you to ensure the integrity of the routines that are in the
        transport global.
                                                                                 
  4.  Use the Install Package(s) option to select the package MAG*3.0*36.
  5.  When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
      Install? Yes// " respond "NO".
  6.  When Prompted to "Want KIDS to INHIBIT LOGONs during the install?
      NO//" respond "NO".
  7.  When prompted "Want to DISABLE Scheduled Options, Menu Options,
      and Protocols? YES//" respond "NO".  
  
  
 DICOM Gateway installation instructions for MAGDCM.RTN file:
 ======================================================                    
 1)      Use a telnet session to 127.0.0.1.
 2)      Provide the access and verify codes as prompted.
 3)      Select the System Maintenance menu option and then select the 
         Programmer's Mode menu option.
 4)      Provide the programmer's access code. (This code was setup during 
         the initial installation of the DICOM software.) 
 5)      The computer prompt should have [DCM,DCM]; this prompt will 
         indicate whether or not you are in the correct UCI.  If you are
         not please exit and go back to step 1.
 6)      In programmers mode execute the Routine Restore program (^%RR) to 
         restore the routines in MAGDCM.RTN. This file contains two 
         routines.
 7)      Provide the correct full path for the MAGDCM.RTN 
 8)      The following is an example:
  
  
 [DCM,DCM]>D ^%RR
  
           MSM - Routine Restore Utility
  
 Enter input device <HFS>:   Host File Server
 File Name >: F:\3_0PATCH36\MAGDCM.RTN
 Routine(s) saved at 07:43 AM 02/13/2004
 Header comment is: DICOM Gateway MUMPS routines Build V3.0p36Build520
 Selective restore? (allows rename) <N>: NO
 Restoring...                                                              
      
                                                                                 
 MAGDROUT  MAGDVRSN                     
                                                                                 
 2 Routines restored.
 [DCM,DCM]>
  
 Verification:
 ===========
 To verify that the correct version has been installed use the menu option 
 on the DICOM Gateways.  The path is the following:
      4- System Maintenance, 
         1 - System Operation,  
             4 - Display the Version of the Software.
  
 This is "IMAGING 3.0" created on 06-November-2003
 Installed patches:
 Patch 1: 28-March-2002
 Patch 7: 03-June-2002
 Patch 9: 12-March-2003
 Patch 21: 31-October-2003
 Patch 10: 06-November-2003
 Patch 36: 13-February-2004
  
  
  
 Download Kernel routine on the DICOM Gateway:
 ============================================== 
 To download the XUMF333 routine on the DICOM Gateway use the following 
 menu option:
          4 - 'System Maintenance' 
              2 - 'Gateway Configuration and DICOM Master File' 
                   9 - 'Download Current Radiology and MAS Routines'
  
 Perform the above procedures on all the DICOM Text and Image Gateways at 
 your site.

Routine Information:
====================

=============================================================================
User Information:
Entered By  : BARRIOS,LUCILLE               Date Entered  : FEB 12, 2004
Completed By: DEMOEL,ED                     Date Completed: FEB 20, 2004
Released By : LOVING,MANLEY                 Date Released : FEB 25, 2004
=============================================================================


Packman Mail Message:
=====================

No routines included
