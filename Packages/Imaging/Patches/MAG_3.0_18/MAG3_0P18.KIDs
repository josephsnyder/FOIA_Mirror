KIDS Distribution saved on Mar 20, 2006@13:50:44
VistARad Patch 18 software.
**KIDS**:MAG*3.0*18^

**INSTALL NAME**
MAG*3.0*18
"BLD",2838,0)
MAG*3.0*18^IMAGING^0^3060320^y
"BLD",2838,1,0)
^^1^1^3060218^^^^
"BLD",2838,1,1,0)
VistARad Patch 18 software.
"BLD",2838,4,0)
^9.64PA^2005.001^10
"BLD",2838,4,2005,0)
2005
"BLD",2838,4,2005,2,0)
^9.641^2005.05^1
"BLD",2838,4,2005,2,2005.05,0)
PRESENTATION STATE  (sub-file)
"BLD",2838,4,2005,2,2005.05,1,0)
^9.6411^^
"BLD",2838,4,2005,222)
y^y^p^^^^n
"BLD",2838,4,2005.001,0)
2005.001
"BLD",2838,4,2005.001,222)
y^y^f^^^^n
"BLD",2838,4,2006.63,0)
2006.63
"BLD",2838,4,2006.63,222)
y^y^f^^n^^y^o^n
"BLD",2838,4,2006.631,0)
2006.631
"BLD",2838,4,2006.631,222)
y^y^f^^n^^y^r^n
"BLD",2838,4,2006.631,224)
I $P(^(0),"^",2)>9000
"BLD",2838,4,2006.634,0)
2006.634
"BLD",2838,4,2006.634,222)
y^y^f^^^^n
"BLD",2838,4,2006.67,0)
2006.67
"BLD",2838,4,2006.67,222)
y^y^f^^n^^y^o^n
"BLD",2838,4,2006.671,0)
2006.671
"BLD",2838,4,2006.671,222)
y^y^f^^n^^y^o^n
"BLD",2838,4,2006.672,0)
2006.672
"BLD",2838,4,2006.672,222)
y^y^f^^n^^y^o^n
"BLD",2838,4,2006.68,0)
2006.68
"BLD",2838,4,2006.68,222)
y^y^f^^n^^y^o^y
"BLD",2838,4,2006.68,224)
I Y=1
"BLD",2838,4,2006.69,0)
2006.69
"BLD",2838,4,2006.69,222)
y^y^f^^^^n
"BLD",2838,4,"APDD",2005,2005.05)

"BLD",2838,4,"B",2005,2005)

"BLD",2838,4,"B",2005.001,2005.001)

"BLD",2838,4,"B",2006.63,2006.63)

"BLD",2838,4,"B",2006.631,2006.631)

"BLD",2838,4,"B",2006.634,2006.634)

"BLD",2838,4,"B",2006.67,2006.67)

"BLD",2838,4,"B",2006.671,2006.671)

"BLD",2838,4,"B",2006.672,2006.672)

"BLD",2838,4,"B",2006.68,2006.68)

"BLD",2838,4,"B",2006.69,2006.69)

"BLD",2838,"ABNS",0)
^9.66A^1^1
"BLD",2838,"ABNS",1,0)
MAG
"BLD",2838,"ABNS",1,1,0)
^9.661A^^
"BLD",2838,"ABNS","B","MAG",1)

"BLD",2838,"ABPKG")
n^n^G.IMGDEV@DOMAIN.EXT
"BLD",2838,"INI")

"BLD",2838,"INIT")
P18^MAGJMN1
"BLD",2838,"KRN",0)
^9.67PA^8989.52^20
"BLD",2838,"KRN",.4,0)
.4
"BLD",2838,"KRN",.4,"NM",0)
^9.68A^1^1
"BLD",2838,"KRN",.4,"NM",1,0)
MAGJ CPT MATCH PRT    FILE #2006.67^2006.67^0
"BLD",2838,"KRN",.4,"NM","B","MAGJ CPT MATCH PRT    FILE #2006.67",1)

"BLD",2838,"KRN",.401,0)
.401
"BLD",2838,"KRN",.401,"NM",0)
^9.68A^^
"BLD",2838,"KRN",.402,0)
.402
"BLD",2838,"KRN",.402,"NM",0)
^9.68A^^0
"BLD",2838,"KRN",.403,0)
.403
"BLD",2838,"KRN",.5,0)
.5
"BLD",2838,"KRN",.84,0)
.84
"BLD",2838,"KRN",3.6,0)
3.6
"BLD",2838,"KRN",3.8,0)
3.8
"BLD",2838,"KRN",9.2,0)
9.2
"BLD",2838,"KRN",9.8,0)
9.8
"BLD",2838,"KRN",9.8,"NM",0)
^9.68A^38^25
"BLD",2838,"KRN",9.8,"NM",2,0)
MAGJLST1^^0^B46531364
"BLD",2838,"KRN",9.8,"NM",4,0)
MAGJLS2^^0^B76144098
"BLD",2838,"KRN",9.8,"NM",5,0)
MAGJLS2B^^0^B71035599
"BLD",2838,"KRN",9.8,"NM",6,0)
MAGJEX1^^0^B73948968
"BLD",2838,"KRN",9.8,"NM",8,0)
MAGJUPD1^^0^B55565770
"BLD",2838,"KRN",9.8,"NM",9,0)
MAGJUTL1^^0^B59555587
"BLD",2838,"KRN",9.8,"NM",10,0)
MAGJUTL2^^0^B44956617
"BLD",2838,"KRN",9.8,"NM",11,0)
MAGJLS3^^0^B75260253
"BLD",2838,"KRN",9.8,"NM",17,0)
MAGJUTL3^^0^B70835558
"BLD",2838,"KRN",9.8,"NM",18,0)
MAGJEX1B^^0^B28311648
"BLD",2838,"KRN",9.8,"NM",19,0)
MAGJRT^^0^B55009854
"BLD",2838,"KRN",9.8,"NM",20,0)
MAGJPRF1^^0^B77283408
"BLD",2838,"KRN",9.8,"NM",21,0)
MAGJUTL4^^0^B43082530
"BLD",2838,"KRN",9.8,"NM",23,0)
MAGJUPD2^^0^B49721468
"BLD",2838,"KRN",9.8,"NM",24,0)
MAGJEX1A^^0^B64602199
"BLD",2838,"KRN",9.8,"NM",27,0)
MAGJLS4^^0^B50218647
"BLD",2838,"KRN",9.8,"NM",28,0)
MAGJRPT^^0^B68077389
"BLD",2838,"KRN",9.8,"NM",29,0)
MAGJEX3^^0^B43539736
"BLD",2838,"KRN",9.8,"NM",30,0)
MAGJEX2^^0^B48062070
"BLD",2838,"KRN",9.8,"NM",32,0)
MAGJLS3A^^0^B7111342
"BLD",2838,"KRN",9.8,"NM",33,0)
MAGJBOFL^^1^
"BLD",2838,"KRN",9.8,"NM",34,0)
MAGSDOFL^^0^B20838310
"BLD",2838,"KRN",9.8,"NM",36,0)
MAGJMN1^^0^B75972704
"BLD",2838,"KRN",9.8,"NM",37,0)
MAGJMN3^^0^B6561616
"BLD",2838,"KRN",9.8,"NM",38,0)
MAGJORD^^0^B15807449
"BLD",2838,"KRN",9.8,"NM","B","MAGJBOFL",33)

"BLD",2838,"KRN",9.8,"NM","B","MAGJEX1",6)

"BLD",2838,"KRN",9.8,"NM","B","MAGJEX1A",24)

"BLD",2838,"KRN",9.8,"NM","B","MAGJEX1B",18)

"BLD",2838,"KRN",9.8,"NM","B","MAGJEX2",30)

"BLD",2838,"KRN",9.8,"NM","B","MAGJEX3",29)

"BLD",2838,"KRN",9.8,"NM","B","MAGJLS2",4)

"BLD",2838,"KRN",9.8,"NM","B","MAGJLS2B",5)

"BLD",2838,"KRN",9.8,"NM","B","MAGJLS3",11)

"BLD",2838,"KRN",9.8,"NM","B","MAGJLS3A",32)

"BLD",2838,"KRN",9.8,"NM","B","MAGJLS4",27)

"BLD",2838,"KRN",9.8,"NM","B","MAGJLST1",2)

"BLD",2838,"KRN",9.8,"NM","B","MAGJMN1",36)

"BLD",2838,"KRN",9.8,"NM","B","MAGJMN3",37)

"BLD",2838,"KRN",9.8,"NM","B","MAGJORD",38)

"BLD",2838,"KRN",9.8,"NM","B","MAGJPRF1",20)

"BLD",2838,"KRN",9.8,"NM","B","MAGJRPT",28)

"BLD",2838,"KRN",9.8,"NM","B","MAGJRT",19)

"BLD",2838,"KRN",9.8,"NM","B","MAGJUPD1",8)

"BLD",2838,"KRN",9.8,"NM","B","MAGJUPD2",23)

"BLD",2838,"KRN",9.8,"NM","B","MAGJUTL1",9)

"BLD",2838,"KRN",9.8,"NM","B","MAGJUTL2",10)

"BLD",2838,"KRN",9.8,"NM","B","MAGJUTL3",17)

"BLD",2838,"KRN",9.8,"NM","B","MAGJUTL4",21)

"BLD",2838,"KRN",9.8,"NM","B","MAGSDOFL",34)

"BLD",2838,"KRN",19,0)
19
"BLD",2838,"KRN",19,"NM",0)
^9.68A^12^12
"BLD",2838,"KRN",19,"NM",1,0)
MAGJ VISTARAD WINDOWS^^0
"BLD",2838,"KRN",19,"NM",2,0)
MAG JB OFFLINE^^0
"BLD",2838,"KRN",19,"NM",3,0)
MAGJ E/E CPT MATCHING SET^^0
"BLD",2838,"KRN",19,"NM",4,0)
MAGJ E/E PREFETCH LOGIC^^0
"BLD",2838,"KRN",19,"NM",5,0)
MAGJ E/E VISTARAD LISTS^^0
"BLD",2838,"KRN",19,"NM",6,0)
MAGJ INQUIRE CPT MATCHING SET^^0
"BLD",2838,"KRN",19,"NM",7,0)
MAGJ INQUIRE PREFETCH LOGIC^^0
"BLD",2838,"KRN",19,"NM",8,0)
MAGJ LIST INQUIRY^^0
"BLD",2838,"KRN",19,"NM",9,0)
MAGJ PREFETCH PRINT^^0
"BLD",2838,"KRN",19,"NM",10,0)
MAGJ PRINT CPT MATCHING LOGIC^^0
"BLD",2838,"KRN",19,"NM",11,0)
MAGJ VISTARAD SITE PARAMETERS^^0
"BLD",2838,"KRN",19,"NM",12,0)
MAGJ MAIN^^2
"BLD",2838,"KRN",19,"NM","B","MAG JB OFFLINE",2)

"BLD",2838,"KRN",19,"NM","B","MAGJ E/E CPT MATCHING SET",3)

"BLD",2838,"KRN",19,"NM","B","MAGJ E/E PREFETCH LOGIC",4)

"BLD",2838,"KRN",19,"NM","B","MAGJ E/E VISTARAD LISTS",5)

"BLD",2838,"KRN",19,"NM","B","MAGJ INQUIRE CPT MATCHING SET",6)

"BLD",2838,"KRN",19,"NM","B","MAGJ INQUIRE PREFETCH LOGIC",7)

"BLD",2838,"KRN",19,"NM","B","MAGJ LIST INQUIRY",8)

"BLD",2838,"KRN",19,"NM","B","MAGJ MAIN",12)

"BLD",2838,"KRN",19,"NM","B","MAGJ PREFETCH PRINT",9)

"BLD",2838,"KRN",19,"NM","B","MAGJ PRINT CPT MATCHING LOGIC",10)

"BLD",2838,"KRN",19,"NM","B","MAGJ VISTARAD SITE PARAMETERS",11)

"BLD",2838,"KRN",19,"NM","B","MAGJ VISTARAD WINDOWS",1)

"BLD",2838,"KRN",19.1,0)
19.1
"BLD",2838,"KRN",19.1,"NM",0)
^9.68A^1^1
"BLD",2838,"KRN",19.1,"NM",1,0)
MAGJ SYSTEM USER^^0
"BLD",2838,"KRN",19.1,"NM","B","MAGJ SYSTEM USER",1)

"BLD",2838,"KRN",101,0)
101
"BLD",2838,"KRN",101,"NM",0)
^9.68A^^0
"BLD",2838,"KRN",409.61,0)
409.61
"BLD",2838,"KRN",771,0)
771
"BLD",2838,"KRN",771,"NM",0)
^9.68A^^0
"BLD",2838,"KRN",869.2,0)
869.2
"BLD",2838,"KRN",870,0)
870
"BLD",2838,"KRN",8989.51,0)
8989.51
"BLD",2838,"KRN",8989.52,0)
8989.52
"BLD",2838,"KRN",8994,0)
8994
"BLD",2838,"KRN",8994,"NM",0)
^9.68A^23^21
"BLD",2838,"KRN",8994,"NM",2,0)
MAGJ HISTORYLIST^^0
"BLD",2838,"KRN",8994,"NM",4,0)
MAGJ RADSTATUSCHECK^^0
"BLD",2838,"KRN",8994,"NM",5,0)
MAGJ RADCASELOCKS^^0
"BLD",2838,"KRN",8994,"NM",6,0)
MAGJ EXAM REPORT^^0
"BLD",2838,"KRN",8994,"NM",7,0)
MAGJ RADORDERDISP^^0
"BLD",2838,"KRN",8994,"NM",8,0)
MAGJ USER DATA^^0
"BLD",2838,"KRN",8994,"NM",9,0)
MAGJ STUDY_DATA^^0
"BLD",2838,"KRN",8994,"NM",10,0)
MAGJ RADSTATUSUPDATE^^0
"BLD",2838,"KRN",8994,"NM",11,0)
MAGJ USER2^^0
"BLD",2838,"KRN",8994,"NM",12,0)
MAGJ CPTMATCH^^0
"BLD",2838,"KRN",8994,"NM",13,0)
MAGJ PT ALL EXAMS^^0
"BLD",2838,"KRN",8994,"NM",14,0)
MAGJ CACHELOCATION^^0
"BLD",2838,"KRN",8994,"NM",15,0)
MAGJ CUSTOM LISTS^^0
"BLD",2838,"KRN",8994,"NM",16,0)
MAGJ PRIOREXAMS^^0
"BLD",2838,"KRN",8994,"NM",17,0)
MAGJ PTRADEXAMS^^0
"BLD",2838,"KRN",8994,"NM",18,0)
MAGJ RADACTIVEEXAMS^^0
"BLD",2838,"KRN",8994,"NM",19,0)
MAGJ RADCASEIMAGES^^0
"BLD",2838,"KRN",8994,"NM",20,0)
MAGJ ROUTE ENABLE^^0
"BLD",2838,"KRN",8994,"NM",21,0)
MAGJ ROUTE EXAMS^^0
"BLD",2838,"KRN",8994,"NM",22,0)
MAGJ ROUTE REQUEST^^0
"BLD",2838,"KRN",8994,"NM",23,0)
MAGJ REMOTESCREEN^^0
"BLD",2838,"KRN",8994,"NM","B","MAGJ CACHELOCATION",14)

"BLD",2838,"KRN",8994,"NM","B","MAGJ CPTMATCH",12)

"BLD",2838,"KRN",8994,"NM","B","MAGJ CUSTOM LISTS",15)

"BLD",2838,"KRN",8994,"NM","B","MAGJ EXAM REPORT",6)

"BLD",2838,"KRN",8994,"NM","B","MAGJ HISTORYLIST",2)

"BLD",2838,"KRN",8994,"NM","B","MAGJ PRIOREXAMS",16)

"BLD",2838,"KRN",8994,"NM","B","MAGJ PT ALL EXAMS",13)

"BLD",2838,"KRN",8994,"NM","B","MAGJ PTRADEXAMS",17)

"BLD",2838,"KRN",8994,"NM","B","MAGJ RADACTIVEEXAMS",18)

"BLD",2838,"KRN",8994,"NM","B","MAGJ RADCASEIMAGES",19)

"BLD",2838,"KRN",8994,"NM","B","MAGJ RADCASELOCKS",5)

"BLD",2838,"KRN",8994,"NM","B","MAGJ RADORDERDISP",7)

"BLD",2838,"KRN",8994,"NM","B","MAGJ RADSTATUSCHECK",4)

"BLD",2838,"KRN",8994,"NM","B","MAGJ RADSTATUSUPDATE",10)

"BLD",2838,"KRN",8994,"NM","B","MAGJ REMOTESCREEN",23)

"BLD",2838,"KRN",8994,"NM","B","MAGJ ROUTE ENABLE",20)

"BLD",2838,"KRN",8994,"NM","B","MAGJ ROUTE EXAMS",21)

"BLD",2838,"KRN",8994,"NM","B","MAGJ ROUTE REQUEST",22)

"BLD",2838,"KRN",8994,"NM","B","MAGJ STUDY_DATA",9)

"BLD",2838,"KRN",8994,"NM","B","MAGJ USER DATA",8)

"BLD",2838,"KRN",8994,"NM","B","MAGJ USER2",11)

"BLD",2838,"KRN","B",.4,.4)

"BLD",2838,"KRN","B",.401,.401)

"BLD",2838,"KRN","B",.402,.402)

"BLD",2838,"KRN","B",.403,.403)

"BLD",2838,"KRN","B",.5,.5)

"BLD",2838,"KRN","B",.84,.84)

"BLD",2838,"KRN","B",3.6,3.6)

"BLD",2838,"KRN","B",3.8,3.8)

"BLD",2838,"KRN","B",9.2,9.2)

"BLD",2838,"KRN","B",9.8,9.8)

"BLD",2838,"KRN","B",19,19)

"BLD",2838,"KRN","B",19.1,19.1)

"BLD",2838,"KRN","B",101,101)

"BLD",2838,"KRN","B",409.61,409.61)

"BLD",2838,"KRN","B",771,771)

"BLD",2838,"KRN","B",869.2,869.2)

"BLD",2838,"KRN","B",870,870)

"BLD",2838,"KRN","B",8989.51,8989.51)

"BLD",2838,"KRN","B",8989.52,8989.52)

"BLD",2838,"KRN","B",8994,8994)

"BLD",2838,"PRE")

"BLD",2838,"QUES",0)
^9.62^^
"BLD",2838,"REQB",0)
^9.611^1^1
"BLD",2838,"REQB",1,0)
MAG*3.0*51^1
"BLD",2838,"REQB","B","MAG*3.0*51",1)

"DATA",2006.63,1,0)
CASE NUMBER^Case #^^^^1^^S3
"DATA",2006.63,2,0)
EXAM LOCK INDICATOR^Lock^^^^2
"DATA",2006.63,3,0)
PATIENT NAME^Patient Name^^^^3
"DATA",2006.63,4,0)
PATIENT ID^ID #^^^^4
"DATA",2006.63,5,0)
PRIORITY^Priority^^^^5^1
"DATA",2006.63,6,0)
PROCEDURE^Procedure^^^^6
"DATA",2006.63,7,0)
IMAGE DATE/TIME^Image Date/Time^^^^7^^S1
"DATA",2006.63,8,0)
STATUS^Status^^^^8
"DATA",2006.63,9,0)
NUMBER OF IMAGES^# Img^# Img^^^9^1^S2
"DATA",2006.63,10,0)
ONLINE STATUS^Onl^^^^10
"DATA",2006.63,11,0)
IMAGING LOCATION^Imaging Loc^^^^13
"DATA",2006.63,12,0)
REMOTE CACHE INDICATOR^RC^RC^^^11
"DATA",2006.63,13,0)
IMAGES EXIST INDICATOR^MAGSRT^^1^^51^1
"DATA",2006.63,14,0)
IMAGE DATE/TIME-SORTABLE^SORT_IMG_DT^^1^^50^1
"DATA",2006.63,15,0)
MODALITY^Mod^^^^12
"DATA",2006.63,16,0)
INTERNAL EXAM STATUS^IntStat^^^1^52
"DATA",2006.63,17,0)
IMAGE TYPE ABBREVIATION^ImgType^^^^15
"DATA",2006.63,18,0)
PATIENT LOCATION ABBREV^Pt Loc'n Abb^^^^14
"DATA",2006.63,19,0)
PATIENT LOCATION NAME^Pt Loc'n Name^^^^14.5
"DATA",2006.63,20,0)
INTERPRETING RADIOLOGISTS^Interp By^^^^14.7
"DATA",2006.63,21,0)
SSN LAST 4^SSN-4^^^^4.3^1^S2
"DATA",2006.63,22,0)
RADIOLOGY DIVISION^Rad Div^Rad Div^^^13.3
"DATA",2006.63,23,0)
SITE CODE^SITE CODE^SITE^^^13.5
"DATA",2006.63,24,0)
INTERP BY LOGON RADIOLOGIST?^Interp By Me?^^^^53
"DATA",2006.63,25,0)
PROCEDURE MODIFIER^Modifier^Modifier^^^6.3
"DATA",2006.63,26,0)
PATIENT LOCATION TYPE^PT LOC TYPE^Loc'n Type^^^14.3
"DATA",2006.63,27,0)
CPT CODE^CPT^CPT^^^16
"DATA",2006.63,28,0)
WARD^WARD^WARD^^^13.8
"DATA",2006.63,29,0)
HISTORY IEN^HISTIEN^IEN^0^1^12.8^1^S2
"DATA",2006.63,30,0)
HISTORY TIME^HIST_TIME^TIMESTAMP^0^1^12.5^1^S1
"DATA",2006.63,31,0)
HISTORY LOCKED^HIST_LOCK^LOCK?^0^1^12.6^1
"DATA",2006.63,32,0)
HISTORY HP^HIST_HP^HP/TP^0^1^12.7
"DATA",2006.631,2,0)
All Examined by Priority, Date/Time^9991^U^ALL^3050804.094807^1^Unread #9991
"DATA",2006.631,2,1,0)
^2006.6311PA^14^14
"DATA",2006.631,2,1,1,0)
1
"DATA",2006.631,2,1,2,0)
2
"DATA",2006.631,2,1,3,0)
3^
"DATA",2006.631,2,1,4,0)
4
"DATA",2006.631,2,1,5,0)
5
"DATA",2006.631,2,1,6,0)
6^25
"DATA",2006.631,2,1,7,0)
7
"DATA",2006.631,2,1,8,0)
8^6
"DATA",2006.631,2,1,9,0)
9
"DATA",2006.631,2,1,10,0)
10
"DATA",2006.631,2,1,11,0)
12^10
"DATA",2006.631,2,1,12,0)
11
"DATA",2006.631,2,1,13,0)
15
"DATA",2006.631,2,1,14,0)
23
"DATA",2006.631,2,2,0)
^2006.6312PA^4^4
"DATA",2006.631,2,2,1,0)
13
"DATA",2006.631,2,2,2,0)
5
"DATA",2006.631,2,2,3,0)
14
"DATA",2006.631,2,2,4,0)
1^0
"DATA",2006.631,2,"DEF",0)
3060316.121918
"DATA",2006.631,2,"DEF",.5)
Case #~S3~1^Lock~~2^Patient Name~~3^ID #~~4^Priority~~5^Procedure~~6^Image Date/Time~S1~7^Status~~8^# Img~S2~9^Onl~~10^RC~~12^Mod~~15^Imaging Loc~~11^SITE~~23
"DATA",2006.631,2,"DEF",1)
1^2^3^4^5^6;25^7^8;6^9^10^12;10^15^11^23
"DATA",2006.631,2,"DEF",2)
13^5^14^1
"DATA",2006.631,5,0)
All Interpreted or Transcribed by Date/Time^9992^R^ALL^3030502.15363^1^Recent #9992
"DATA",2006.631,5,1,0)
^2006.6311PA^17^15
"DATA",2006.631,5,1,1,0)
1
"DATA",2006.631,5,1,2,0)
2
"DATA",2006.631,5,1,3,0)
3^
"DATA",2006.631,5,1,4,0)
4
"DATA",2006.631,5,1,5,0)
5
"DATA",2006.631,5,1,6,0)
6^25
"DATA",2006.631,5,1,7,0)
7
"DATA",2006.631,5,1,8,0)
8^6
"DATA",2006.631,5,1,9,0)
9
"DATA",2006.631,5,1,10,0)
10
"DATA",2006.631,5,1,11,0)
12^10
"DATA",2006.631,5,1,13,0)
15
"DATA",2006.631,5,1,14,0)
20
"DATA",2006.631,5,1,15,0)
23
"DATA",2006.631,5,1,17,0)
11
"DATA",2006.631,5,2,0)
^2006.6312PA^4^3
"DATA",2006.631,5,2,1,0)
13
"DATA",2006.631,5,2,3,0)
14^1
"DATA",2006.631,5,2,4,0)
1^0
"DATA",2006.631,5,"DEF",0)
3060316.121918
"DATA",2006.631,5,"DEF",.5)
Case #~S3~1^Lock~~2^Patient Name~~3^ID #~~4^Priority~~5^Procedure~~6^Image Date/Time~S1~7^Status~~8^# Img~S2~9^Onl~~10^RC~~12^Mod~~15^Imaging Loc~~11^SITE~~23^Interp By~~20
"DATA",2006.631,5,"DEF",1)
1^2^3^4^5^6;25^7^8;6^9^10^12;10^15^11^23^20
"DATA",2006.631,5,"DEF",2)
13^14-^1
"DATA",2006.631,6,0)
All Examined, Interpreted, & Transcribed, by Date/Time^9993^A^ALL^3030502.153506^1^All Active #9993
"DATA",2006.631,6,1,0)
^2006.6311PA^17^15
"DATA",2006.631,6,1,1,0)
1
"DATA",2006.631,6,1,2,0)
2
"DATA",2006.631,6,1,3,0)
3^
"DATA",2006.631,6,1,4,0)
4
"DATA",2006.631,6,1,5,0)
5
"DATA",2006.631,6,1,6,0)
6^25
"DATA",2006.631,6,1,7,0)
7
"DATA",2006.631,6,1,8,0)
8^6
"DATA",2006.631,6,1,9,0)
9
"DATA",2006.631,6,1,10,0)
10
"DATA",2006.631,6,1,11,0)
12^10
"DATA",2006.631,6,1,13,0)
15
"DATA",2006.631,6,1,14,0)
20
"DATA",2006.631,6,1,15,0)
23
"DATA",2006.631,6,1,17,0)
11
"DATA",2006.631,6,2,0)
^2006.6312PA^4^3
"DATA",2006.631,6,2,1,0)
13
"DATA",2006.631,6,2,3,0)
14^1
"DATA",2006.631,6,2,4,0)
1^0
"DATA",2006.631,6,"DEF",0)
3060316.121918
"DATA",2006.631,6,"DEF",.5)
Case #~S3~1^Lock~~2^Patient Name~~3^ID #~~4^Priority~~5^Procedure~~6^Image Date/Time~S1~7^Status~~8^# Img~S2~9^Onl~~10^RC~~12^Mod~~15^Imaging Loc~~11^SITE~~23^Interp By~~20
"DATA",2006.631,6,"DEF",1)
1^2^3^4^5^6;25^7^8;6^9^10^12;10^15^11^23^20
"DATA",2006.631,6,"DEF",2)
13^14-^1
"DATA",2006.631,10,0)
Newly Interpreted Exams for RECENT Compile^9995^N^ALL^3030502.153548^1^9995
"DATA",2006.631,10,1,0)
^2006.6311PA^1^1
"DATA",2006.631,10,1,1,0)
1
"DATA",2006.631,10,"DEF",0)
3060316.121918
"DATA",2006.631,10,"DEF",.5)
Case #~S3~1^Image Date/Time~S1~7
"DATA",2006.631,10,"DEF",1)
1^7
"DATA",2006.631,10,"DEF",2)

"DATA",2006.631,19,0)
History List^9996^H^ALL^3050804.095438^1^9996
"DATA",2006.631,19,1,0)
^2006.6311PA^14^13
"DATA",2006.631,19,1,1,0)
1
"DATA",2006.631,19,1,2,0)
3
"DATA",2006.631,19,1,3,0)
6
"DATA",2006.631,19,1,4,0)
15
"DATA",2006.631,19,1,5,0)
9
"DATA",2006.631,19,1,6,0)
12
"DATA",2006.631,19,1,7,0)
8
"DATA",2006.631,19,1,8,0)
32
"DATA",2006.631,19,1,10,0)
31
"DATA",2006.631,19,1,11,0)
30
"DATA",2006.631,19,1,12,0)
2
"DATA",2006.631,19,1,13,0)
4
"DATA",2006.631,19,1,14,0)
5
"DATA",2006.631,19,2,0)
^2006.6312PA^1^1
"DATA",2006.631,19,2,1,0)
30
"DATA",2006.631,19,"DEF",0)
3060316.121918
"DATA",2006.631,19,"DEF",.5)
Case #~S3~1^Lock~~2^Patient Name~~3^ID #~~4^Priority~~5^Procedure~~6^Image Date/Time~S1~7^Status~~8^# Img~S2~9^RC~~12^Mod~~15^TIMESTAMP~S1~30^LOCK?~~31^HP/TP~~32
"DATA",2006.631,19,"DEF",1)
1^2^3^4^5^6^7^8^9^12^15^30^31^32
"DATA",2006.631,19,"DEF",2)
30
"DATA",2006.67,1,0)
70010^8^^
"DATA",2006.67,1,1,0)
^2006.674P^1^1
"DATA",2006.67,1,1,1,0)
10
"DATA",2006.67,1,2,0)
^2006.675P^3^3
"DATA",2006.67,1,2,1,0)
31
"DATA",2006.67,1,2,2,0)
1
"DATA",2006.67,1,2,3,0)
15
"DATA",2006.67,2,0)
70015^8^^
"DATA",2006.67,2,1,0)
^2006.674P^1^1
"DATA",2006.67,2,1,1,0)
10
"DATA",2006.67,2,2,0)
^2006.675P^3^3
"DATA",2006.67,2,2,1,0)
31
"DATA",2006.67,2,2,2,0)
1
"DATA",2006.67,2,2,3,0)
15
"DATA",2006.67,3,0)
70240^8^^
"DATA",2006.67,3,1,0)
^2006.674P^1^1
"DATA",2006.67,3,1,1,0)
10
"DATA",2006.67,3,2,0)
^2006.675P^2^2
"DATA",2006.67,3,2,1,0)
1
"DATA",2006.67,3,2,2,0)
15
"DATA",2006.67,4,0)
70250^8^^5
"DATA",2006.67,4,1,0)
^2006.674P^2^2
"DATA",2006.67,4,1,1,0)
14
"DATA",2006.67,4,1,2,0)
10
"DATA",2006.67,4,2,0)
^2006.675P^2^2
"DATA",2006.67,4,2,1,0)
1
"DATA",2006.67,4,2,2,0)
15
"DATA",2006.67,5,0)
70260^8^^
"DATA",2006.67,5,1,0)
^2006.674P^2^2
"DATA",2006.67,5,1,1,0)
14
"DATA",2006.67,5,1,2,0)
10
"DATA",2006.67,5,2,0)
^2006.675P^2^2
"DATA",2006.67,5,2,1,0)
1
"DATA",2006.67,5,2,2,0)
15
"DATA",2006.67,6,0)
70470^8^^6
"DATA",2006.67,6,1,0)
^2006.674P^1^1
"DATA",2006.67,6,1,1,0)
10
"DATA",2006.67,6,2,0)
^2006.675P^1^1
"DATA",2006.67,6,2,1,0)
2
"DATA",2006.67,7,0)
70496^8^^6
"DATA",2006.67,7,1,0)
^2006.674P^1^1
"DATA",2006.67,7,1,1,0)
10
"DATA",2006.67,7,2,0)
^2006.675P^1^1
"DATA",2006.67,7,2,1,0)
2
"DATA",2006.67,8,0)
70544^8^^10
"DATA",2006.67,8,1,0)
^2006.674P^1^1
"DATA",2006.67,8,1,1,0)
10
"DATA",2006.67,8,2,0)
^2006.675P^1^1
"DATA",2006.67,8,2,1,0)
3
"DATA",2006.67,9,0)
70545^8^^10
"DATA",2006.67,9,1,0)
^2006.674P^1^1
"DATA",2006.67,9,1,1,0)
10
"DATA",2006.67,9,2,0)
^2006.675P^1^1
"DATA",2006.67,9,2,1,0)
3
"DATA",2006.67,10,0)
70546^8^^
"DATA",2006.67,10,1,0)
^2006.674P^1^1
"DATA",2006.67,10,1,1,0)
10
"DATA",2006.67,10,2,0)
^2006.675P^1^1
"DATA",2006.67,10,2,1,0)
3
"DATA",2006.67,11,0)
70551^8^^13
"DATA",2006.67,11,1,0)
^2006.674P^1^1
"DATA",2006.67,11,1,1,0)
10
"DATA",2006.67,11,2,0)
^2006.675P^1^1
"DATA",2006.67,11,2,1,0)
3
"DATA",2006.67,12,0)
70552^8^^13
"DATA",2006.67,12,1,0)
^2006.674P^1^1
"DATA",2006.67,12,1,1,0)
10
"DATA",2006.67,12,2,0)
^2006.675P^1^1
"DATA",2006.67,12,2,1,0)
3
"DATA",2006.67,13,0)
70553^8^^
"DATA",2006.67,13,1,0)
^2006.674P^1^1
"DATA",2006.67,13,1,1,0)
10
"DATA",2006.67,13,2,0)
^2006.675P^1^1
"DATA",2006.67,13,2,1,0)
3
"DATA",2006.67,14,0)
75650^3^^
"DATA",2006.67,14,1,0)
^2006.674P^1^1
"DATA",2006.67,14,1,1,0)
8
"DATA",2006.67,14,2,0)
^2006.675P^2^2
"DATA",2006.67,14,2,1,0)
31
"DATA",2006.67,14,2,2,0)
30
"DATA",2006.67,15,0)
75658^3^^
"DATA",2006.67,15,1,0)
^2006.674P^1^1
"DATA",2006.67,15,1,1,0)
8
"DATA",2006.67,15,2,0)
^2006.675P^2^2
"DATA",2006.67,15,2,1,0)
31
"DATA",2006.67,15,2,2,0)
30
"DATA",2006.67,16,0)
75660^3^^17
"DATA",2006.67,16,1,0)
^2006.674P^1^1
"DATA",2006.67,16,1,1,0)
8
"DATA",2006.67,16,2,0)
^2006.675P^2^2
"DATA",2006.67,16,2,1,0)
31
"DATA",2006.67,16,2,2,0)
30
"DATA",2006.67,17,0)
75662^3^^
"DATA",2006.67,17,1,0)
^2006.674P^1^1
"DATA",2006.67,17,1,1,0)
8
"DATA",2006.67,17,2,0)
^2006.675P^2^2
"DATA",2006.67,17,2,1,0)
31
"DATA",2006.67,17,2,2,0)
30
"DATA",2006.67,18,0)
75665^3^^
"DATA",2006.67,18,1,0)
^2006.674P^1^1
"DATA",2006.67,18,1,1,0)
8
"DATA",2006.67,18,2,0)
^2006.675P^2^2
"DATA",2006.67,18,2,1,0)
31
"DATA",2006.67,18,2,2,0)
30
"DATA",2006.67,19,0)
75671^3^^
"DATA",2006.67,19,1,0)
^2006.674P^1^1
"DATA",2006.67,19,1,1,0)
8
"DATA",2006.67,19,2,0)
^2006.675P^2^2
"DATA",2006.67,19,2,1,0)
31
"DATA",2006.67,19,2,2,0)
30
"DATA",2006.67,20,0)
75676^3^^
"DATA",2006.67,20,1,0)
^2006.674P^1^1
"DATA",2006.67,20,1,1,0)
8
"DATA",2006.67,20,2,0)
^2006.675P^2^2
"DATA",2006.67,20,2,1,0)
31
"DATA",2006.67,20,2,2,0)
30
"DATA",2006.67,21,0)
75680^3^^
"DATA",2006.67,21,1,0)
^2006.674P^1^1
"DATA",2006.67,21,1,1,0)
8
"DATA",2006.67,21,2,0)
^2006.675P^2^2
"DATA",2006.67,21,2,1,0)
31
"DATA",2006.67,21,2,2,0)
30
"DATA",2006.67,22,0)
75685^3^^
"DATA",2006.67,22,1,0)
^2006.674P^1^1
"DATA",2006.67,22,1,1,0)
52
"DATA",2006.67,22,2,0)
^2006.675P^2^2
"DATA",2006.67,22,2,1,0)
31
"DATA",2006.67,22,2,2,0)
30
"DATA",2006.67,23,0)
75774^3^^
"DATA",2006.67,23,2,0)
^2006.675P^2^2
"DATA",2006.67,23,2,1,0)
31
"DATA",2006.67,23,2,2,0)
30
"DATA",2006.67,24,0)
93875^10^^
"DATA",2006.67,24,1,0)
^2006.674P^1^1
"DATA",2006.67,24,1,1,0)
8
"DATA",2006.67,24,2,0)
^2006.675P^1^1
"DATA",2006.67,24,2,1,0)
5
"DATA",2006.67,25,0)
93880^10^^
"DATA",2006.67,25,1,0)
^2006.674P^1^1
"DATA",2006.67,25,1,1,0)
8
"DATA",2006.67,25,2,0)
^2006.675P^1^1
"DATA",2006.67,25,2,1,0)
5
"DATA",2006.67,26,0)
93882^10^^
"DATA",2006.67,26,1,0)
^2006.674P^1^1
"DATA",2006.67,26,1,1,0)
8
"DATA",2006.67,26,2,0)
^2006.675P^1^1
"DATA",2006.67,26,2,1,0)
5
"DATA",2006.67,27,0)
70030^8^^
"DATA",2006.67,27,1,0)
^2006.674P^1^1
"DATA",2006.67,27,1,1,0)
14
"DATA",2006.67,27,2,0)
^2006.675P^2^2
"DATA",2006.67,27,2,1,0)
1
"DATA",2006.67,27,2,2,0)
15
"DATA",2006.67,28,0)
70100^8^^29
"DATA",2006.67,28,1,0)
^2006.674P^1^1
"DATA",2006.67,28,1,1,0)
14
"DATA",2006.67,28,2,0)
^2006.675P^2^2
"DATA",2006.67,28,2,1,0)
1
"DATA",2006.67,28,2,2,0)
15
"DATA",2006.67,29,0)
70110^8^^
"DATA",2006.67,29,1,0)
^2006.674P^1^1
"DATA",2006.67,29,1,1,0)
14
"DATA",2006.67,29,2,0)
^2006.675P^2^2
"DATA",2006.67,29,2,1,0)
1
"DATA",2006.67,29,2,2,0)
15
"DATA",2006.67,30,0)
70140^8^^31
"DATA",2006.67,30,1,0)
^2006.674P^1^1
"DATA",2006.67,30,1,1,0)
14
"DATA",2006.67,30,2,0)
^2006.675P^2^2
"DATA",2006.67,30,2,1,0)
1
"DATA",2006.67,30,2,2,0)
15
"DATA",2006.67,31,0)
70150^8^^
"DATA",2006.67,31,1,0)
^2006.674P^1^1
"DATA",2006.67,31,1,1,0)
14
"DATA",2006.67,31,2,0)
^2006.675P^2^2
"DATA",2006.67,31,2,1,0)
1
"DATA",2006.67,31,2,2,0)
15
"DATA",2006.67,32,0)
70160^8^^
"DATA",2006.67,32,1,0)
^2006.674P^1^1
"DATA",2006.67,32,1,1,0)
14
"DATA",2006.67,32,2,0)
^2006.675P^2^2
"DATA",2006.67,32,2,1,0)
1
"DATA",2006.67,32,2,2,0)
15
"DATA",2006.67,33,0)
70190^8^^34
"DATA",2006.67,33,1,0)
^2006.674P^1^1
"DATA",2006.67,33,1,1,0)
14
"DATA",2006.67,33,2,0)
^2006.675P^2^2
"DATA",2006.67,33,2,1,0)
1
"DATA",2006.67,33,2,2,0)
15
"DATA",2006.67,34,0)
70200^8^^
"DATA",2006.67,34,1,0)
^2006.674P^1^1
"DATA",2006.67,34,1,1,0)
14
"DATA",2006.67,34,2,0)
^2006.675P^2^2
"DATA",2006.67,34,2,1,0)
1
"DATA",2006.67,34,2,2,0)
15
"DATA",2006.67,35,0)
70300^8^^
"DATA",2006.67,35,1,0)
^2006.674P^1^1
"DATA",2006.67,35,1,1,0)
14
"DATA",2006.67,35,2,0)
^2006.675P^2^2
"DATA",2006.67,35,2,1,0)
1
"DATA",2006.67,35,2,2,0)
15
"DATA",2006.67,36,0)
70310^8^^37
"DATA",2006.67,36,1,0)
^2006.674P^1^1
"DATA",2006.67,36,1,1,0)
14
"DATA",2006.67,36,2,0)
^2006.675P^2^2
"DATA",2006.67,36,2,1,0)
1
"DATA",2006.67,36,2,2,0)
15
"DATA",2006.67,37,0)
70320^8^^
"DATA",2006.67,37,1,0)
^2006.674P^1^1
"DATA",2006.67,37,1,1,0)
14
"DATA",2006.67,37,2,0)
^2006.675P^2^2
"DATA",2006.67,37,2,1,0)
1
"DATA",2006.67,37,2,2,0)
15
"DATA",2006.67,38,0)
70328^8^^39
"DATA",2006.67,38,1,0)
^2006.674P^1^1
"DATA",2006.67,38,1,1,0)
14
"DATA",2006.67,38,2,0)
^2006.675P^2^2
"DATA",2006.67,38,2,1,0)
1
"DATA",2006.67,38,2,2,0)
15
"DATA",2006.67,39,0)
70330^8^^
"DATA",2006.67,39,1,0)
^2006.674P^1^1
"DATA",2006.67,39,1,1,0)
14
"DATA",2006.67,39,2,0)
^2006.675P^2^2
"DATA",2006.67,39,2,1,0)
1
"DATA",2006.67,39,2,2,0)
15
"DATA",2006.67,40,0)
70332^8^^
"DATA",2006.67,40,1,0)
^2006.674P^1^1
"DATA",2006.67,40,1,1,0)
14
"DATA",2006.67,40,2,0)
^2006.675P^2^2
"DATA",2006.67,40,2,1,0)
1
"DATA",2006.67,40,2,2,0)
15
"DATA",2006.67,41,0)
70336^8^^
"DATA",2006.67,41,1,0)
^2006.674P^1^1
"DATA",2006.67,41,1,1,0)
14
"DATA",2006.67,41,2,0)
^2006.675P^1^1
"DATA",2006.67,41,2,1,0)
3
"DATA",2006.67,42,0)
70350^8^^
"DATA",2006.67,42,1,0)
^2006.674P^1^1
"DATA",2006.67,42,1,1,0)
14
"DATA",2006.67,42,2,0)
^2006.675P^3^3
"DATA",2006.67,42,2,1,0)
31
"DATA",2006.67,42,2,2,0)
1
"DATA",2006.67,42,2,3,0)
15
"DATA",2006.67,43,0)
70355^8^^
"DATA",2006.67,43,1,0)
^2006.674P^1^1
"DATA",2006.67,43,1,1,0)
14
"DATA",2006.67,43,2,0)
^2006.675P^3^3
"DATA",2006.67,43,2,1,0)
31
"DATA",2006.67,43,2,2,0)
1
"DATA",2006.67,43,2,3,0)
15
"DATA",2006.67,44,0)
70480^8^^46
"DATA",2006.67,44,1,0)
^2006.674P^1^1
"DATA",2006.67,44,1,1,0)
14
"DATA",2006.67,44,2,0)
^2006.675P^1^1
"DATA",2006.67,44,2,1,0)
2
"DATA",2006.67,45,0)
70481^8^^46
"DATA",2006.67,45,1,0)
^2006.674P^1^1
"DATA",2006.67,45,1,1,0)
14
"DATA",2006.67,45,2,0)
^2006.675P^1^1
"DATA",2006.67,45,2,1,0)
2
"DATA",2006.67,46,0)
70482^8^^
"DATA",2006.67,46,1,0)
^2006.674P^1^1
"DATA",2006.67,46,1,1,0)
14
"DATA",2006.67,46,2,0)
^2006.675P^1^1
"DATA",2006.67,46,2,1,0)
2
"DATA",2006.67,47,0)
70486^8^^49
"DATA",2006.67,47,1,0)
^2006.674P^1^1
"DATA",2006.67,47,1,1,0)
14
"DATA",2006.67,47,2,0)
^2006.675P^1^1
"DATA",2006.67,47,2,1,0)
2
"DATA",2006.67,48,0)
70487^8^^49
"DATA",2006.67,48,1,0)
^2006.674P^1^1
"DATA",2006.67,48,1,1,0)
14
"DATA",2006.67,48,2,0)
^2006.675P^1^1
"DATA",2006.67,48,2,1,0)
2
"DATA",2006.67,49,0)
70488^8^^
"DATA",2006.67,49,1,0)
^2006.674P^1^1
"DATA",2006.67,49,1,1,0)
14
"DATA",2006.67,49,2,0)
^2006.675P^1^1
"DATA",2006.67,49,2,1,0)
2
"DATA",2006.67,50,0)
70540^8^^52
"DATA",2006.67,50,1,0)
^2006.674P^2^2
"DATA",2006.67,50,1,1,0)
14
"DATA",2006.67,50,1,2,0)
31
"DATA",2006.67,50,2,0)
^2006.675P^1^1
"DATA",2006.67,50,2,1,0)
3
"DATA",2006.67,51,0)
70542^8^^52
"DATA",2006.67,51,1,0)
^2006.674P^2^2
"DATA",2006.67,51,1,1,0)
14
"DATA",2006.67,51,1,2,0)
31
"DATA",2006.67,51,2,0)
^2006.675P^1^1
"DATA",2006.67,51,2,1,0)
3
"DATA",2006.67,52,0)
70543^8^^
"DATA",2006.67,52,1,0)
^2006.674P^2^2
"DATA",2006.67,52,1,1,0)
14
"DATA",2006.67,52,1,2,0)
31
"DATA",2006.67,52,2,0)
^2006.675P^1^1
"DATA",2006.67,52,2,1,0)
3
"DATA",2006.67,53,0)
70120^8^^54
"DATA",2006.67,53,1,0)
^2006.674P^1^1
"DATA",2006.67,53,1,1,0)
41
"DATA",2006.67,53,2,0)
^2006.675P^2^2
"DATA",2006.67,53,2,1,0)
1
"DATA",2006.67,53,2,2,0)
15
"DATA",2006.67,54,0)
70130^8^^
"DATA",2006.67,54,1,0)
^2006.674P^1^1
"DATA",2006.67,54,1,1,0)
41
"DATA",2006.67,54,2,0)
^2006.675P^2^2
"DATA",2006.67,54,2,1,0)
1
"DATA",2006.67,54,2,2,0)
15
"DATA",2006.67,55,0)
70134^8^^
"DATA",2006.67,55,1,0)
^2006.674P^1^1
"DATA",2006.67,55,1,1,0)
41
"DATA",2006.67,55,2,0)
^2006.675P^2^2
"DATA",2006.67,55,2,1,0)
1
"DATA",2006.67,55,2,2,0)
15
"DATA",2006.67,56,0)
70170^8^^
"DATA",2006.67,56,1,0)
^2006.674P^1^1
"DATA",2006.67,56,1,1,0)
41
"DATA",2006.67,56,2,0)
^2006.675P^2^2
"DATA",2006.67,56,2,1,0)
1
"DATA",2006.67,56,2,2,0)
15
"DATA",2006.67,57,0)
70210^8^^58
"DATA",2006.67,57,1,0)
^2006.674P^1^1
"DATA",2006.67,57,1,1,0)
41
"DATA",2006.67,57,2,0)
^2006.675P^2^2
"DATA",2006.67,57,2,1,0)
1
"DATA",2006.67,57,2,2,0)
15
"DATA",2006.67,58,0)
70220^8^^
"DATA",2006.67,58,1,0)
^2006.674P^1^1
"DATA",2006.67,58,1,1,0)
41
"DATA",2006.67,58,2,0)
^2006.675P^2^2
"DATA",2006.67,58,2,1,0)
1
"DATA",2006.67,58,2,2,0)
15
"DATA",2006.67,59,0)
70450^8^^6
"DATA",2006.67,59,1,0)
^2006.674P^1^1
"DATA",2006.67,59,1,1,0)
10
"DATA",2006.67,59,2,0)
^2006.675P^1^1
"DATA",2006.67,59,2,1,0)
2
"DATA",2006.67,60,0)
70460^8^^6
"DATA",2006.67,60,1,0)
^2006.674P^1^1
"DATA",2006.67,60,1,1,0)
10
"DATA",2006.67,60,2,0)
^2006.675P^1^1
"DATA",2006.67,60,2,1,0)
2
"DATA",2006.67,61,0)
70360^8^^
"DATA",2006.67,61,1,0)
^2006.674P^2^2
"DATA",2006.67,61,1,1,0)
31
"DATA",2006.67,61,1,2,0)
6
"DATA",2006.67,61,2,0)
^2006.675P^3^3
"DATA",2006.67,61,2,1,0)
31
"DATA",2006.67,61,2,2,0)
1
"DATA",2006.67,61,2,3,0)
15
"DATA",2006.67,62,0)
70370^8^^61
"DATA",2006.67,62,1,0)
^2006.674P^2^2
"DATA",2006.67,62,1,1,0)
31
"DATA",2006.67,62,1,2,0)
6
"DATA",2006.67,62,2,0)
^2006.675P^3^3
"DATA",2006.67,62,2,1,0)
31
"DATA",2006.67,62,2,2,0)
1
"DATA",2006.67,62,2,3,0)
15
"DATA",2006.67,63,0)
70371^8^^61
"DATA",2006.67,63,1,0)
^2006.674P^2^2
"DATA",2006.67,63,1,1,0)
31
"DATA",2006.67,63,1,2,0)
6
"DATA",2006.67,63,2,0)
^2006.675P^3^3
"DATA",2006.67,63,2,1,0)
31
"DATA",2006.67,63,2,2,0)
1
"DATA",2006.67,63,2,3,0)
15
"DATA",2006.67,64,0)
70373^8^^
"DATA",2006.67,64,1,0)
^2006.674P^2^2
"DATA",2006.67,64,1,1,0)
31
"DATA",2006.67,64,1,2,0)
6
"DATA",2006.67,64,2,0)
^2006.675P^3^3
"DATA",2006.67,64,2,1,0)
31
"DATA",2006.67,64,2,2,0)
1
"DATA",2006.67,64,2,3,0)
15
"DATA",2006.67,65,0)
70380^8^^
"DATA",2006.67,65,1,0)
^2006.674P^2^2
"DATA",2006.67,65,1,1,0)
31
"DATA",2006.67,65,1,2,0)
6
"DATA",2006.67,65,2,0)
^2006.675P^3^3
"DATA",2006.67,65,2,1,0)
31
"DATA",2006.67,65,2,2,0)
1
"DATA",2006.67,65,2,3,0)
15
"DATA",2006.67,66,0)
70490^8^^68
"DATA",2006.67,66,1,0)
^2006.674P^2^2
"DATA",2006.67,66,1,1,0)
31
"DATA",2006.67,66,1,2,0)
6
"DATA",2006.67,66,2,0)
^2006.675P^1^1
"DATA",2006.67,66,2,1,0)
2
"DATA",2006.67,67,0)
70491^8^^68
"DATA",2006.67,67,1,0)
^2006.674P^2^2
"DATA",2006.67,67,1,1,0)
31
"DATA",2006.67,67,1,2,0)
6
"DATA",2006.67,67,2,0)
^2006.675P^1^1
"DATA",2006.67,67,2,1,0)
2
"DATA",2006.67,68,0)
70492^8^^
"DATA",2006.67,68,1,0)
^2006.674P^2^2
"DATA",2006.67,68,1,1,0)
31
"DATA",2006.67,68,1,2,0)
6
"DATA",2006.67,68,2,0)
^2006.675P^1^1
"DATA",2006.67,68,2,1,0)
2
"DATA",2006.67,69,0)
70498^8^^
"DATA",2006.67,69,1,0)
^2006.674P^2^2
"DATA",2006.67,69,1,1,0)
31
"DATA",2006.67,69,1,2,0)
6
"DATA",2006.67,69,2,0)
^2006.675P^1^1
"DATA",2006.67,69,2,1,0)
2
"DATA",2006.67,70,0)
72040^15^^72
"DATA",2006.67,70,1,0)
^2006.674P^1^1
"DATA",2006.67,70,1,1,0)
6
"DATA",2006.67,70,2,0)
^2006.675P^2^2
"DATA",2006.67,70,2,1,0)
1
"DATA",2006.67,70,2,2,0)
15
"DATA",2006.67,71,0)
72050^15^^72
"DATA",2006.67,71,1,0)
^2006.674P^1^1
"DATA",2006.67,71,1,1,0)
6
"DATA",2006.67,71,2,0)
^2006.675P^2^2
"DATA",2006.67,71,2,1,0)
1
"DATA",2006.67,71,2,2,0)
15
"DATA",2006.67,72,0)
72052^15^^
"DATA",2006.67,72,1,0)
^2006.674P^1^1
"DATA",2006.67,72,1,1,0)
6
"DATA",2006.67,72,2,0)
^2006.675P^2^2
"DATA",2006.67,72,2,1,0)
1
"DATA",2006.67,72,2,2,0)
15
"DATA",2006.67,73,0)
72125^15^^75
"DATA",2006.67,73,1,0)
^2006.674P^1^1
"DATA",2006.67,73,1,1,0)
6
"DATA",2006.67,73,2,0)
^2006.675P^1^1
"DATA",2006.67,73,2,1,0)
2
"DATA",2006.67,74,0)
72126^15^^75
"DATA",2006.67,74,1,0)
^2006.674P^1^1
"DATA",2006.67,74,1,1,0)
6
"DATA",2006.67,74,2,0)
^2006.675P^1^1
"DATA",2006.67,74,2,1,0)
2
"DATA",2006.67,75,0)
72127^15^^
"DATA",2006.67,75,1,0)
^2006.674P^1^1
"DATA",2006.67,75,1,1,0)
6
"DATA",2006.67,75,2,0)
^2006.675P^1^1
"DATA",2006.67,75,2,1,0)
2
"DATA",2006.67,76,0)
72141^15^^78
"DATA",2006.67,76,1,0)
^2006.674P^1^1
"DATA",2006.67,76,1,1,0)
6
"DATA",2006.67,76,2,0)
^2006.675P^1^1
"DATA",2006.67,76,2,1,0)
3
"DATA",2006.67,77,0)
72142^15^^78
"DATA",2006.67,77,1,0)
^2006.674P^1^1
"DATA",2006.67,77,1,1,0)
6
"DATA",2006.67,77,2,0)
^2006.675P^1^1
"DATA",2006.67,77,2,1,0)
3
"DATA",2006.67,78,0)
72156^15^^
"DATA",2006.67,78,1,0)
^2006.674P^1^1
"DATA",2006.67,78,1,1,0)
6
"DATA",2006.67,78,2,0)
^2006.675P^1^1
"DATA",2006.67,78,2,1,0)
3
"DATA",2006.67,79,0)
72240^15^^80
"DATA",2006.67,79,1,0)
^2006.674P^1^1
"DATA",2006.67,79,1,1,0)
6
"DATA",2006.67,79,2,0)
^2006.675P^3^3
"DATA",2006.67,79,2,1,0)
31
"DATA",2006.67,79,2,2,0)
1
"DATA",2006.67,79,2,3,0)
15
"DATA",2006.67,80,0)
72270^15^^
"DATA",2006.67,80,1,0)
^2006.674P^3^3
"DATA",2006.67,80,1,1,0)
46
"DATA",2006.67,80,1,2,0)
26
"DATA",2006.67,80,1,3,0)
6
"DATA",2006.67,80,2,0)
^2006.675P^3^3
"DATA",2006.67,80,2,1,0)
31
"DATA",2006.67,80,2,2,0)
1
"DATA",2006.67,80,2,3,0)
15
"DATA",2006.67,81,0)
71010^4^^
"DATA",2006.67,81,1,0)
^2006.674P^1^1
"DATA",2006.67,81,1,1,0)
48
"DATA",2006.67,81,2,0)
^2006.675P^2^2
"DATA",2006.67,81,2,1,0)
1
"DATA",2006.67,81,2,2,0)
15
"DATA",2006.67,82,0)
71015^4^^
"DATA",2006.67,82,1,0)
^2006.674P^1^1
"DATA",2006.67,82,1,1,0)
48
"DATA",2006.67,82,2,0)
^2006.675P^2^2
"DATA",2006.67,82,2,1,0)
1
"DATA",2006.67,82,2,2,0)
15
"DATA",2006.67,83,0)
71020^4^^
"DATA",2006.67,83,1,0)
^2006.674P^1^1
"DATA",2006.67,83,1,1,0)
48
"DATA",2006.67,83,2,0)
^2006.675P^2^2
"DATA",2006.67,83,2,1,0)
1
"DATA",2006.67,83,2,2,0)
15
"DATA",2006.67,84,0)
71021^4^^
"DATA",2006.67,84,1,0)
^2006.674P^1^1
"DATA",2006.67,84,1,1,0)
48
"DATA",2006.67,84,2,0)
^2006.675P^2^2
"DATA",2006.67,84,2,1,0)
1
"DATA",2006.67,84,2,2,0)
15
"DATA",2006.67,85,0)
71022^4^^
"DATA",2006.67,85,1,0)
^2006.674P^1^1
"DATA",2006.67,85,1,1,0)
48
"DATA",2006.67,85,2,0)
^2006.675P^2^2
"DATA",2006.67,85,2,1,0)
1
"DATA",2006.67,85,2,2,0)
15
"DATA",2006.67,86,0)
71023^4^^83
"DATA",2006.67,86,1,0)
^2006.674P^1^1
"DATA",2006.67,86,1,1,0)
48
"DATA",2006.67,86,2,0)
^2006.675P^3^3
"DATA",2006.67,86,2,1,0)
31
"DATA",2006.67,86,2,2,0)
1
"DATA",2006.67,86,2,3,0)
15
"DATA",2006.67,87,0)
71030^4^^
"DATA",2006.67,87,1,0)
^2006.674P^1^1
"DATA",2006.67,87,1,1,0)
48
"DATA",2006.67,87,2,0)
^2006.675P^2^2
"DATA",2006.67,87,2,1,0)
1
"DATA",2006.67,87,2,2,0)
15
"DATA",2006.67,88,0)
71034^4^^
"DATA",2006.67,88,1,0)
^2006.674P^1^1
"DATA",2006.67,88,1,1,0)
48
"DATA",2006.67,88,2,0)
^2006.675P^3^3
"DATA",2006.67,88,2,1,0)
31
"DATA",2006.67,88,2,2,0)
1
"DATA",2006.67,88,2,3,0)
15
"DATA",2006.67,89,0)
71035^4^^
"DATA",2006.67,89,1,0)
^2006.674P^1^1
"DATA",2006.67,89,1,1,0)
48
"DATA",2006.67,89,2,0)
^2006.675P^2^2
"DATA",2006.67,89,2,1,0)
1
"DATA",2006.67,89,2,2,0)
15
"DATA",2006.67,90,0)
71040^4^^
"DATA",2006.67,90,1,0)
^2006.674P^1^1
"DATA",2006.67,90,1,1,0)
30
"DATA",2006.67,90,2,0)
^2006.675P^3^3
"DATA",2006.67,90,2,1,0)
31
"DATA",2006.67,90,2,2,0)
1
"DATA",2006.67,90,2,3,0)
15
"DATA",2006.67,91,0)
71060^4^^
"DATA",2006.67,91,1,0)
^2006.674P^1^1
"DATA",2006.67,91,1,1,0)
30
"DATA",2006.67,91,2,0)
^2006.675P^3^3
"DATA",2006.67,91,2,1,0)
31
"DATA",2006.67,91,2,2,0)
1
"DATA",2006.67,91,2,3,0)
15
"DATA",2006.67,92,0)
71090^4^^
"DATA",2006.67,92,1,0)
^2006.674P^1^1
"DATA",2006.67,92,1,1,0)
48
"DATA",2006.67,92,2,0)
^2006.675P^3^3
"DATA",2006.67,92,2,1,0)
31
"DATA",2006.67,92,2,2,0)
1
"DATA",2006.67,92,2,3,0)
15
"DATA",2006.67,93,0)
71100^4^^96
"DATA",2006.67,93,1,0)
^2006.674P^1^1
"DATA",2006.67,93,1,1,0)
36
"DATA",2006.67,93,2,0)
^2006.675P^2^2
"DATA",2006.67,93,2,1,0)
1
"DATA",2006.67,93,2,2,0)
15
"DATA",2006.67,94,0)
71101^4^^96
"DATA",2006.67,94,1,0)
^2006.674P^1^1
"DATA",2006.67,94,1,1,0)
36
"DATA",2006.67,94,2,0)
^2006.675P^2^2
"DATA",2006.67,94,2,1,0)
1
"DATA",2006.67,94,2,2,0)
15
"DATA",2006.67,95,0)
71110^4^^
"DATA",2006.67,95,1,0)
^2006.674P^1^1
"DATA",2006.67,95,1,1,0)
36
"DATA",2006.67,95,2,0)
^2006.675P^2^2
"DATA",2006.67,95,2,1,0)
1
"DATA",2006.67,95,2,2,0)
15
"DATA",2006.67,96,0)
71111^4^^
"DATA",2006.67,96,1,0)
^2006.674P^1^1
"DATA",2006.67,96,1,1,0)
36
"DATA",2006.67,96,2,0)
^2006.675P^2^2
"DATA",2006.67,96,2,1,0)
1
"DATA",2006.67,96,2,2,0)
15
"DATA",2006.67,97,0)
71120^4^^
"DATA",2006.67,97,1,0)
^2006.674P^1^1
"DATA",2006.67,97,1,1,0)
44
"DATA",2006.67,97,2,0)
^2006.675P^2^2
"DATA",2006.67,97,2,1,0)
1
"DATA",2006.67,97,2,2,0)
15
"DATA",2006.67,98,0)
71130^4^^
"DATA",2006.67,98,1,0)
^2006.674P^2^2
"DATA",2006.67,98,1,1,0)
44
"DATA",2006.67,98,1,2,0)
9
"DATA",2006.67,98,2,0)
^2006.675P^2^2
"DATA",2006.67,98,2,1,0)
1
"DATA",2006.67,98,2,2,0)
15
"DATA",2006.67,99,0)
71250^4^^101
"DATA",2006.67,99,1,0)
^2006.674P^1^1
"DATA",2006.67,99,1,1,0)
48
"DATA",2006.67,99,2,0)
^2006.675P^1^1
"DATA",2006.67,99,2,1,0)
2
"DATA",2006.67,100,0)
71260^4^^101
"DATA",2006.67,100,1,0)
^2006.674P^1^1
"DATA",2006.67,100,1,1,0)
48
"DATA",2006.67,100,2,0)
^2006.675P^1^1
"DATA",2006.67,100,2,1,0)
2
"DATA",2006.67,101,0)
71270^4^^
"DATA",2006.67,101,1,0)
^2006.674P^1^1
"DATA",2006.67,101,1,1,0)
48
"DATA",2006.67,101,2,0)
^2006.675P^1^1
"DATA",2006.67,101,2,1,0)
2
"DATA",2006.67,102,0)
71275^4^^
"DATA",2006.67,102,1,0)
^2006.674P^1^1
"DATA",2006.67,102,1,1,0)
48
"DATA",2006.67,102,2,0)
^2006.675P^1^1
"DATA",2006.67,102,2,1,0)
2
"DATA",2006.67,103,0)
71550^4^^105
"DATA",2006.67,103,1,0)
^2006.674P^1^1
"DATA",2006.67,103,1,1,0)
48
"DATA",2006.67,103,2,0)
^2006.675P^1^1
"DATA",2006.67,103,2,1,0)
3
"DATA",2006.67,104,0)
71551^4^^105
"DATA",2006.67,104,1,0)
^2006.674P^1^1
"DATA",2006.67,104,1,1,0)
48
"DATA",2006.67,104,2,0)
^2006.675P^1^1
"DATA",2006.67,104,2,1,0)
3
"DATA",2006.67,105,0)
71552^4^^
"DATA",2006.67,105,1,0)
^2006.674P^1^1
"DATA",2006.67,105,1,1,0)
48
"DATA",2006.67,105,2,0)
^2006.675P^1^1
"DATA",2006.67,105,2,1,0)
3
"DATA",2006.67,106,0)
71555^4^^
"DATA",2006.67,106,1,0)
^2006.674P^1^1
"DATA",2006.67,106,1,1,0)
48
"DATA",2006.67,106,2,0)
^2006.675P^1^1
"DATA",2006.67,106,2,1,0)
3
"DATA",2006.67,107,0)
72069^15^^110
"DATA",2006.67,107,1,0)
^2006.674P^1^1
"DATA",2006.67,107,1,1,0)
46
"DATA",2006.67,107,2,0)
^2006.675P^2^2
"DATA",2006.67,107,2,1,0)
1
"DATA",2006.67,107,2,2,0)
15
"DATA",2006.67,108,0)
72070^15^^110
"DATA",2006.67,108,1,0)
^2006.674P^1^1
"DATA",2006.67,108,1,1,0)
46
"DATA",2006.67,108,2,0)
^2006.675P^2^2
"DATA",2006.67,108,2,1,0)
1
"DATA",2006.67,108,2,2,0)
15
"DATA",2006.67,109,0)
72072^15^^110
"DATA",2006.67,109,1,0)
^2006.674P^1^1
"DATA",2006.67,109,1,1,0)
46
"DATA",2006.67,109,2,0)
^2006.675P^2^2
"DATA",2006.67,109,2,1,0)
1
"DATA",2006.67,109,2,2,0)
15
"DATA",2006.67,110,0)
72074^15^^
"DATA",2006.67,110,1,0)
^2006.674P^1^1
"DATA",2006.67,110,1,1,0)
46
"DATA",2006.67,110,2,0)
^2006.675P^2^2
"DATA",2006.67,110,2,1,0)
1
"DATA",2006.67,110,2,2,0)
15
"DATA",2006.67,111,0)
72080^15^^
"DATA",2006.67,111,1,0)
^2006.674P^2^2
"DATA",2006.67,111,1,1,0)
46
"DATA",2006.67,111,1,2,0)
26
"DATA",2006.67,111,2,0)
^2006.675P^2^2
"DATA",2006.67,111,2,1,0)
1
"DATA",2006.67,111,2,2,0)
15
"DATA",2006.67,112,0)
72090^15^^110
"DATA",2006.67,112,1,0)
^2006.674P^1^1
"DATA",2006.67,112,1,1,0)
46
"DATA",2006.67,112,2,0)
^2006.675P^2^2
"DATA",2006.67,112,2,1,0)
1
"DATA",2006.67,112,2,2,0)
15
"DATA",2006.67,113,0)
72128^15^^115
"DATA",2006.67,113,1,0)
^2006.674P^1^1
"DATA",2006.67,113,1,1,0)
46
"DATA",2006.67,113,2,0)
^2006.675P^1^1
"DATA",2006.67,113,2,1,0)
2
"DATA",2006.67,114,0)
72129^15^^115
"DATA",2006.67,114,1,0)
^2006.674P^1^1
"DATA",2006.67,114,1,1,0)
46
"DATA",2006.67,114,2,0)
^2006.675P^1^1
"DATA",2006.67,114,2,1,0)
2
"DATA",2006.67,115,0)
72130^15^^
"DATA",2006.67,115,1,0)
^2006.674P^1^1
"DATA",2006.67,115,1,1,0)
46
"DATA",2006.67,115,2,0)
^2006.675P^1^1
"DATA",2006.67,115,2,1,0)
2
"DATA",2006.67,116,0)
72146^15^^118
"DATA",2006.67,116,1,0)
^2006.674P^1^1
"DATA",2006.67,116,1,1,0)
46
"DATA",2006.67,116,2,0)
^2006.675P^1^1
"DATA",2006.67,116,2,1,0)
3
"DATA",2006.67,117,0)
72147^15^^118
"DATA",2006.67,117,1,0)
^2006.674P^1^1
"DATA",2006.67,117,1,1,0)
46
"DATA",2006.67,117,2,0)
^2006.675P^1^1
"DATA",2006.67,117,2,1,0)
3
"DATA",2006.67,118,0)
72157^15^^
"DATA",2006.67,118,1,0)
^2006.674P^1^1
"DATA",2006.67,118,1,1,0)
46
"DATA",2006.67,118,2,0)
^2006.675P^1^1
"DATA",2006.67,118,2,1,0)
3
"DATA",2006.67,119,0)
72255^15^^80
"DATA",2006.67,119,1,0)
^2006.674P^1^1
"DATA",2006.67,119,1,1,0)
46
"DATA",2006.67,119,2,0)
^2006.675P^3^3
"DATA",2006.67,119,2,1,0)
31
"DATA",2006.67,119,2,2,0)
1
"DATA",2006.67,119,2,3,0)
15
"DATA",2006.67,120,0)
75741^3^^
"DATA",2006.67,120,1,0)
^2006.674P^1^1
"DATA",2006.67,120,1,1,0)
48
"DATA",2006.67,120,2,0)
^2006.675P^2^2
"DATA",2006.67,120,2,1,0)
31
"DATA",2006.67,120,2,2,0)
30
"DATA",2006.67,121,0)
75743^3^^
"DATA",2006.67,121,1,0)
^2006.674P^1^1
"DATA",2006.67,121,1,1,0)
48
"DATA",2006.67,121,2,0)
^2006.675P^2^2
"DATA",2006.67,121,2,1,0)
31
"DATA",2006.67,121,2,2,0)
30
"DATA",2006.67,122,0)
75746^3^^
"DATA",2006.67,122,1,0)
^2006.674P^1^1
"DATA",2006.67,122,1,1,0)
48
"DATA",2006.67,122,2,0)
^2006.675P^2^2
"DATA",2006.67,122,2,1,0)
31
"DATA",2006.67,122,2,2,0)
30
"DATA",2006.67,123,0)
75756^3^^
"DATA",2006.67,123,1,0)
^2006.674P^1^1
"DATA",2006.67,123,1,1,0)
48
"DATA",2006.67,123,2,0)
^2006.675P^2^2
"DATA",2006.67,123,2,1,0)
31
"DATA",2006.67,123,2,2,0)
30
"DATA",2006.67,124,0)
72010^15^^
"DATA",2006.67,124,1,0)
^2006.674P^1^1
"DATA",2006.67,124,1,1,0)
43
"DATA",2006.67,124,2,0)
^2006.675P^2^2
"DATA",2006.67,124,2,1,0)
1
"DATA",2006.67,124,2,2,0)
15
"DATA",2006.67,125,0)
72020^15^^
"DATA",2006.67,125,1,0)
^2006.674P^1^1
"DATA",2006.67,125,1,1,0)
43
"DATA",2006.67,125,2,0)
^2006.675P^2^2
"DATA",2006.67,125,2,1,0)
1
"DATA",2006.67,125,2,2,0)
15
"DATA",2006.67,126,0)
72100^15^^127
"DATA",2006.67,126,1,0)
^2006.674P^2^2
"DATA",2006.67,126,1,1,0)
26
"DATA",2006.67,126,1,2,0)
37
"DATA",2006.67,126,2,0)
^2006.675P^2^2
"DATA",2006.67,126,2,1,0)
1
"DATA",2006.67,126,2,2,0)
15
"DATA",2006.67,127,0)
72110^15^^
"DATA",2006.67,127,1,0)
^2006.674P^2^2
"DATA",2006.67,127,1,1,0)
26
"DATA",2006.67,127,1,2,0)
37
"DATA",2006.67,127,2,0)
^2006.675P^2^2
"DATA",2006.67,127,2,1,0)
1
"DATA",2006.67,127,2,2,0)
15
"DATA",2006.67,128,0)
72114^15^^
"DATA",2006.67,128,1,0)
^2006.674P^2^2
"DATA",2006.67,128,1,1,0)
26
"DATA",2006.67,128,1,2,0)
37
"DATA",2006.67,128,2,0)
^2006.675P^2^2
"DATA",2006.67,128,2,1,0)
1
"DATA",2006.67,128,2,2,0)
15
"DATA",2006.67,129,0)
72120^15^^128
"DATA",2006.67,129,1,0)
^2006.674P^2^2
"DATA",2006.67,129,1,1,0)
26
"DATA",2006.67,129,1,2,0)
37
"DATA",2006.67,129,2,0)
^2006.675P^2^2
"DATA",2006.67,129,2,1,0)
1
"DATA",2006.67,129,2,2,0)
15
"DATA",2006.67,130,0)
72131^15^^132
"DATA",2006.67,130,1,0)
^2006.674P^2^2
"DATA",2006.67,130,1,1,0)
26
"DATA",2006.67,130,1,2,0)
37
"DATA",2006.67,130,2,0)
^2006.675P^1^1
"DATA",2006.67,130,2,1,0)
2
"DATA",2006.67,131,0)
72132^15^^132
"DATA",2006.67,131,1,0)
^2006.674P^2^2
"DATA",2006.67,131,1,1,0)
26
"DATA",2006.67,131,1,2,0)
37
"DATA",2006.67,131,2,0)
^2006.675P^1^1
"DATA",2006.67,131,2,1,0)
2
"DATA",2006.67,132,0)
72133^15^^
"DATA",2006.67,132,1,0)
^2006.674P^2^2
"DATA",2006.67,132,1,1,0)
26
"DATA",2006.67,132,1,2,0)
37
"DATA",2006.67,132,2,0)
^2006.675P^1^1
"DATA",2006.67,132,2,1,0)
2
"DATA",2006.67,133,0)
72148^15^^135
"DATA",2006.67,133,1,0)
^2006.674P^2^2
"DATA",2006.67,133,1,1,0)
26
"DATA",2006.67,133,1,2,0)
37
"DATA",2006.67,133,2,0)
^2006.675P^1^1
"DATA",2006.67,133,2,1,0)
3
"DATA",2006.67,134,0)
72149^15^^135
"DATA",2006.67,134,1,0)
^2006.674P^2^2
"DATA",2006.67,134,1,1,0)
26
"DATA",2006.67,134,1,2,0)
37
"DATA",2006.67,134,2,0)
^2006.675P^1^1
"DATA",2006.67,134,2,1,0)
3
"DATA",2006.67,135,0)
72158^15^^
"DATA",2006.67,135,1,0)
^2006.674P^2^2
"DATA",2006.67,135,1,1,0)
26
"DATA",2006.67,135,1,2,0)
37
"DATA",2006.67,135,2,0)
^2006.675P^1^1
"DATA",2006.67,135,2,1,0)
3
"DATA",2006.67,136,0)
72170^15^^
"DATA",2006.67,136,1,0)
^2006.674P^1^1
"DATA",2006.67,136,1,1,0)
33
"DATA",2006.67,136,2,0)
^2006.675P^2^2
"DATA",2006.67,136,2,1,0)
1
"DATA",2006.67,136,2,2,0)
15
"DATA",2006.67,137,0)
72190^15^^
"DATA",2006.67,137,1,0)
^2006.674P^1^1
"DATA",2006.67,137,1,1,0)
33
"DATA",2006.67,137,2,0)
^2006.675P^2^2
"DATA",2006.67,137,2,1,0)
1
"DATA",2006.67,137,2,2,0)
15
"DATA",2006.67,138,0)
72191^15^^141
"DATA",2006.67,138,1,0)
^2006.674P^1^1
"DATA",2006.67,138,1,1,0)
33
"DATA",2006.67,138,2,0)
^2006.675P^1^1
"DATA",2006.67,138,2,1,0)
2
"DATA",2006.67,139,0)
72192^15^^138
"DATA",2006.67,139,1,0)
^2006.674P^1^1
"DATA",2006.67,139,1,1,0)
33
"DATA",2006.67,139,2,0)
^2006.675P^1^1
"DATA",2006.67,139,2,1,0)
2
"DATA",2006.67,140,0)
72193^15^^138
"DATA",2006.67,140,1,0)
^2006.674P^1^1
"DATA",2006.67,140,1,1,0)
33
"DATA",2006.67,140,2,0)
^2006.675P^1^1
"DATA",2006.67,140,2,1,0)
2
"DATA",2006.67,141,0)
72194^15^^138
"DATA",2006.67,141,1,0)
^2006.674P^1^1
"DATA",2006.67,141,1,1,0)
33
"DATA",2006.67,141,2,0)
^2006.675P^1^1
"DATA",2006.67,141,2,1,0)
2
"DATA",2006.67,142,0)
72195^15^^
"DATA",2006.67,142,1,0)
^2006.674P^1^1
"DATA",2006.67,142,1,1,0)
33
"DATA",2006.67,142,2,0)
^2006.675P^1^1
"DATA",2006.67,142,2,1,0)
3
"DATA",2006.67,143,0)
72196^15^^
"DATA",2006.67,143,1,0)
^2006.674P^1^1
"DATA",2006.67,143,1,1,0)
33
"DATA",2006.67,143,2,0)
^2006.675P^1^1
"DATA",2006.67,143,2,1,0)
3
"DATA",2006.67,144,0)
72197^15^^
"DATA",2006.67,144,1,0)
^2006.674P^1^1
"DATA",2006.67,144,1,1,0)
33
"DATA",2006.67,144,2,0)
^2006.675P^1^1
"DATA",2006.67,144,2,1,0)
3
"DATA",2006.67,145,0)
72198^15^^
"DATA",2006.67,145,1,0)
^2006.674P^1^1
"DATA",2006.67,145,1,1,0)
33
"DATA",2006.67,145,2,0)
^2006.675P^1^1
"DATA",2006.67,145,2,1,0)
3
"DATA",2006.67,146,0)
72200^15^^
"DATA",2006.67,146,1,0)
^2006.674P^1^1
"DATA",2006.67,146,1,1,0)
33
"DATA",2006.67,146,2,0)
^2006.675P^2^2
"DATA",2006.67,146,2,1,0)
1
"DATA",2006.67,146,2,2,0)
15
"DATA",2006.67,147,0)
72202^15^^
"DATA",2006.67,147,1,0)
^2006.674P^1^1
"DATA",2006.67,147,1,1,0)
33
"DATA",2006.67,147,2,0)
^2006.675P^2^2
"DATA",2006.67,147,2,1,0)
1
"DATA",2006.67,147,2,2,0)
15
"DATA",2006.67,148,0)
72220^15^^
"DATA",2006.67,148,1,0)
^2006.674P^1^1
"DATA",2006.67,148,1,1,0)
33
"DATA",2006.67,148,2,0)
^2006.675P^2^2
"DATA",2006.67,148,2,1,0)
1
"DATA",2006.67,148,2,2,0)
15
"DATA",2006.67,149,0)
72275^15^^
"DATA",2006.67,149,1,0)
^2006.674P^1^1
"DATA",2006.67,149,1,1,0)
26
"DATA",2006.67,149,2,0)
^2006.675P^3^3
"DATA",2006.67,149,2,1,0)
31
"DATA",2006.67,149,2,2,0)
1
"DATA",2006.67,149,2,3,0)
15
"DATA",2006.67,150,0)
72295^15^^
"DATA",2006.67,150,1,0)
^2006.674P^2^2
"DATA",2006.67,150,1,1,0)
26
"DATA",2006.67,150,1,2,0)
37
"DATA",2006.67,150,2,0)
^2006.675P^3^3
"DATA",2006.67,150,2,1,0)
31
"DATA",2006.67,150,2,2,0)
1
"DATA",2006.67,150,2,3,0)
15
"DATA",2006.67,151,0)
74000^1^^154
"DATA",2006.67,151,1,0)
^2006.674P^1^1
"DATA",2006.67,151,1,1,0)
1
"DATA",2006.67,151,2,0)
^2006.675P^2^2
"DATA",2006.67,151,2,1,0)
1
"DATA",2006.67,151,2,2,0)
15
"DATA",2006.67,152,0)
74010^1^^154
"DATA",2006.67,152,1,0)
^2006.674P^1^1
"DATA",2006.67,152,1,1,0)
1
"DATA",2006.67,152,2,0)
^2006.675P^2^2
"DATA",2006.67,152,2,1,0)
1
"DATA",2006.67,152,2,2,0)
15
"DATA",2006.67,153,0)
74020^1^^154
"DATA",2006.67,153,1,0)
^2006.674P^1^1
"DATA",2006.67,153,1,1,0)
1
"DATA",2006.67,153,2,0)
^2006.675P^2^2
"DATA",2006.67,153,2,1,0)
1
"DATA",2006.67,153,2,2,0)
15
"DATA",2006.67,154,0)
74022^1^^
"DATA",2006.67,154,1,0)
^2006.674P^1^1
"DATA",2006.67,154,1,1,0)
1
"DATA",2006.67,154,2,0)
^2006.675P^2^2
"DATA",2006.67,154,2,1,0)
1
"DATA",2006.67,154,2,2,0)
15
"DATA",2006.67,155,0)
74150^1^^157
"DATA",2006.67,155,1,0)
^2006.674P^1^1
"DATA",2006.67,155,1,1,0)
1
"DATA",2006.67,155,2,0)
^2006.675P^1^1
"DATA",2006.67,155,2,1,0)
2
"DATA",2006.67,156,0)
74160^1^^157
"DATA",2006.67,156,1,0)
^2006.674P^1^1
"DATA",2006.67,156,1,1,0)
1
"DATA",2006.67,156,2,0)
^2006.675P^1^1
"DATA",2006.67,156,2,1,0)
2
"DATA",2006.67,157,0)
74170^1^^
"DATA",2006.67,157,1,0)
^2006.674P^1^1
"DATA",2006.67,157,1,1,0)
1
"DATA",2006.67,157,2,0)
^2006.675P^1^1
"DATA",2006.67,157,2,1,0)
2
"DATA",2006.67,158,0)
74175^1^^
"DATA",2006.67,158,1,0)
^2006.674P^1^1
"DATA",2006.67,158,1,1,0)
1
"DATA",2006.67,158,2,0)
^2006.675P^1^1
"DATA",2006.67,158,2,1,0)
2
"DATA",2006.67,159,0)
74181^1^^161
"DATA",2006.67,159,1,0)
^2006.674P^1^1
"DATA",2006.67,159,1,1,0)
1
"DATA",2006.67,159,2,0)
^2006.675P^1^1
"DATA",2006.67,159,2,1,0)
3
"DATA",2006.67,160,0)
74182^1^^161
"DATA",2006.67,160,1,0)
^2006.674P^1^1
"DATA",2006.67,160,1,1,0)
1
"DATA",2006.67,160,2,0)
^2006.675P^1^1
"DATA",2006.67,160,2,1,0)
3
"DATA",2006.67,161,0)
74183^1^^
"DATA",2006.67,161,1,0)
^2006.674P^1^1
"DATA",2006.67,161,1,1,0)
1
"DATA",2006.67,161,2,0)
^2006.675P^1^1
"DATA",2006.67,161,2,1,0)
3
"DATA",2006.67,162,0)
74185^1^^
"DATA",2006.67,162,1,0)
^2006.674P^1^1
"DATA",2006.67,162,1,1,0)
1
"DATA",2006.67,162,2,0)
^2006.675P^1^1
"DATA",2006.67,162,2,1,0)
3
"DATA",2006.67,163,0)
74190^1^^
"DATA",2006.67,163,1,0)
^2006.674P^1^1
"DATA",2006.67,163,1,1,0)
1
"DATA",2006.67,163,2,0)
^2006.675P^3^3
"DATA",2006.67,163,2,1,0)
31
"DATA",2006.67,163,2,2,0)
1
"DATA",2006.67,163,2,3,0)
15
"DATA",2006.67,164,0)
74210^6^^166
"DATA",2006.67,164,1,0)
^2006.674P^1^1
"DATA",2006.67,164,1,1,0)
12
"DATA",2006.67,164,2,0)
^2006.675P^3^3
"DATA",2006.67,164,2,1,0)
31
"DATA",2006.67,164,2,2,0)
1
"DATA",2006.67,164,2,3,0)
15
"DATA",2006.67,165,0)
74220^6^^166
"DATA",2006.67,165,1,0)
^2006.674P^1^1
"DATA",2006.67,165,1,1,0)
12
"DATA",2006.67,165,2,0)
^2006.675P^3^3
"DATA",2006.67,165,2,1,0)
31
"DATA",2006.67,165,2,2,0)
1
"DATA",2006.67,165,2,3,0)
15
"DATA",2006.67,166,0)
74230^6^^
"DATA",2006.67,166,1,0)
^2006.674P^1^1
"DATA",2006.67,166,1,1,0)
12
"DATA",2006.67,166,2,0)
^2006.675P^3^3
"DATA",2006.67,166,2,1,0)
31
"DATA",2006.67,166,2,2,0)
1
"DATA",2006.67,166,2,3,0)
15
"DATA",2006.67,167,0)
74235^6^^
"DATA",2006.67,167,1,0)
^2006.674P^1^1
"DATA",2006.67,167,1,1,0)
12
"DATA",2006.67,167,2,0)
^2006.675P^3^3
"DATA",2006.67,167,2,1,0)
31
"DATA",2006.67,167,2,2,0)
1
"DATA",2006.67,167,2,3,0)
15
"DATA",2006.67,168,0)
74240^6^^171
"DATA",2006.67,168,1,0)
^2006.674P^2^2
"DATA",2006.67,168,1,1,0)
45
"DATA",2006.67,168,1,2,0)
42
"DATA",2006.67,168,2,0)
^2006.675P^3^3
"DATA",2006.67,168,2,1,0)
31
"DATA",2006.67,168,2,2,0)
1
"DATA",2006.67,168,2,3,0)
15
"DATA",2006.67,169,0)
74241^6^^172
"DATA",2006.67,169,1,0)
^2006.674P^2^2
"DATA",2006.67,169,1,1,0)
45
"DATA",2006.67,169,1,2,0)
42
"DATA",2006.67,169,2,0)
^2006.675P^3^3
"DATA",2006.67,169,2,1,0)
31
"DATA",2006.67,169,2,2,0)
1
"DATA",2006.67,169,2,3,0)
15
"DATA",2006.67,170,0)
74245^6^^173
"DATA",2006.67,170,1,0)
^2006.674P^2^2
"DATA",2006.67,170,1,1,0)
45
"DATA",2006.67,170,1,2,0)
42
"DATA",2006.67,170,2,0)
^2006.675P^3^3
"DATA",2006.67,170,2,1,0)
31
"DATA",2006.67,170,2,2,0)
1
"DATA",2006.67,170,2,3,0)
15
"DATA",2006.67,171,0)
74246^6^^168
"DATA",2006.67,171,1,0)
^2006.674P^2^2
"DATA",2006.67,171,1,1,0)
45
"DATA",2006.67,171,1,2,0)
42
"DATA",2006.67,171,2,0)
^2006.675P^3^3
"DATA",2006.67,171,2,1,0)
31
"DATA",2006.67,171,2,2,0)
1
"DATA",2006.67,171,2,3,0)
15
"DATA",2006.67,172,0)
74247^6^^169
"DATA",2006.67,172,1,0)
^2006.674P^2^2
"DATA",2006.67,172,1,1,0)
45
"DATA",2006.67,172,1,2,0)
42
"DATA",2006.67,172,2,0)
^2006.675P^3^3
"DATA",2006.67,172,2,1,0)
31
"DATA",2006.67,172,2,2,0)
1
"DATA",2006.67,172,2,3,0)
15
"DATA",2006.67,173,0)
74249^6^^170
"DATA",2006.67,173,1,0)
^2006.674P^2^2
"DATA",2006.67,173,1,1,0)
45
"DATA",2006.67,173,1,2,0)
42
"DATA",2006.67,173,2,0)
^2006.675P^3^3
"DATA",2006.67,173,2,1,0)
31
"DATA",2006.67,173,2,2,0)
1
"DATA",2006.67,173,2,3,0)
15
"DATA",2006.67,174,0)
74250^6^^
"DATA",2006.67,174,1,0)
^2006.674P^2^2
"DATA",2006.67,174,1,1,0)
45
"DATA",2006.67,174,1,2,0)
42
"DATA",2006.67,174,2,0)
^2006.675P^3^3
"DATA",2006.67,174,2,1,0)
31
"DATA",2006.67,174,2,2,0)
1
"DATA",2006.67,174,2,3,0)
15
"DATA",2006.67,175,0)
74251^6^^
"DATA",2006.67,175,1,0)
^2006.674P^2^2
"DATA",2006.67,175,1,1,0)
45
"DATA",2006.67,175,1,2,0)
42
"DATA",2006.67,175,2,0)
^2006.675P^3^3
"DATA",2006.67,175,2,1,0)
31
"DATA",2006.67,175,2,2,0)
1
"DATA",2006.67,175,2,3,0)
15
"DATA",2006.67,176,0)
74260^6^^
"DATA",2006.67,176,1,0)
^2006.674P^2^2
"DATA",2006.67,176,1,1,0)
45
"DATA",2006.67,176,1,2,0)
42
"DATA",2006.67,176,2,0)
^2006.675P^3^3
"DATA",2006.67,176,2,1,0)
31
"DATA",2006.67,176,2,2,0)
1
"DATA",2006.67,176,2,3,0)
15
"DATA",2006.67,177,0)
74270^6^^178
"DATA",2006.67,177,1,0)
^2006.674P^1^1
"DATA",2006.67,177,1,1,0)
27
"DATA",2006.67,177,2,0)
^2006.675P^3^3
"DATA",2006.67,177,2,1,0)
31
"DATA",2006.67,177,2,2,0)
1
"DATA",2006.67,177,2,3,0)
15
"DATA",2006.67,178,0)
74280^6^^177
"DATA",2006.67,178,1,0)
^2006.674P^1^1
"DATA",2006.67,178,1,1,0)
27
"DATA",2006.67,178,2,0)
^2006.675P^3^3
"DATA",2006.67,178,2,1,0)
31
"DATA",2006.67,178,2,2,0)
1
"DATA",2006.67,178,2,3,0)
15
"DATA",2006.67,179,0)
74283^6^^
"DATA",2006.67,179,1,0)
^2006.674P^1^1
"DATA",2006.67,179,1,1,0)
27
"DATA",2006.67,179,2,0)
^2006.675P^3^3
"DATA",2006.67,179,2,1,0)
31
"DATA",2006.67,179,2,2,0)
1
"DATA",2006.67,179,2,3,0)
15
"DATA",2006.67,180,0)
74290^6^^
"DATA",2006.67,180,1,0)
^2006.674P^1^1
"DATA",2006.67,180,1,1,0)
20
"DATA",2006.67,180,2,0)
^2006.675P^3^3
"DATA",2006.67,180,2,1,0)
31
"DATA",2006.67,180,2,2,0)
1
"DATA",2006.67,180,2,3,0)
15
"DATA",2006.67,181,0)
74291^6^^180
"DATA",2006.67,181,1,0)
^2006.674P^1^1
"DATA",2006.67,181,1,1,0)
20
"DATA",2006.67,181,2,0)
^2006.675P^3^3
"DATA",2006.67,181,2,1,0)
31
"DATA",2006.67,181,2,2,0)
1
"DATA",2006.67,181,2,3,0)
15
"DATA",2006.67,182,0)
74300^6^^180
"DATA",2006.67,182,1,0)
^2006.674P^1^1
"DATA",2006.67,182,1,1,0)
20
"DATA",2006.67,182,2,0)
^2006.675P^3^3
"DATA",2006.67,182,2,1,0)
31
"DATA",2006.67,182,2,2,0)
1
"DATA",2006.67,182,2,3,0)
15
"DATA",2006.67,183,0)
74301^6^^
"DATA",2006.67,183,1,0)
^2006.674P^1^1
"DATA",2006.67,183,1,1,0)
20
"DATA",2006.67,183,2,0)
^2006.675P^3^3
"DATA",2006.67,183,2,1,0)
31
"DATA",2006.67,183,2,2,0)
1
"DATA",2006.67,183,2,3,0)
15
"DATA",2006.67,184,0)
74305^6^^
"DATA",2006.67,184,1,0)
^2006.674P^1^1
"DATA",2006.67,184,1,1,0)
20
"DATA",2006.67,184,2,0)
^2006.675P^3^3
"DATA",2006.67,184,2,1,0)
31
"DATA",2006.67,184,2,2,0)
1
"DATA",2006.67,184,2,3,0)
15
"DATA",2006.67,185,0)
74320^6^^
"DATA",2006.67,185,1,0)
^2006.674P^1^1
"DATA",2006.67,185,1,1,0)
20
"DATA",2006.67,185,2,0)
^2006.675P^3^3
"DATA",2006.67,185,2,1,0)
31
"DATA",2006.67,185,2,2,0)
1
"DATA",2006.67,185,2,3,0)
15
"DATA",2006.67,186,0)
74327^6^^
"DATA",2006.67,186,1,0)
^2006.674P^2^2
"DATA",2006.67,186,1,1,0)
28
"DATA",2006.67,186,1,2,0)
20
"DATA",2006.67,186,2,0)
^2006.675P^3^3
"DATA",2006.67,186,2,1,0)
31
"DATA",2006.67,186,2,2,0)
1
"DATA",2006.67,186,2,3,0)
15
"DATA",2006.67,187,0)
74328^6^^
"DATA",2006.67,187,1,0)
^2006.674P^3^3
"DATA",2006.67,187,1,1,0)
28
"DATA",2006.67,187,1,2,0)
20
"DATA",2006.67,187,1,3,0)
32
"DATA",2006.67,187,2,0)
^2006.675P^3^3
"DATA",2006.67,187,2,1,0)
31
"DATA",2006.67,187,2,2,0)
1
"DATA",2006.67,187,2,3,0)
15
"DATA",2006.67,188,0)
74329^6^^
"DATA",2006.67,188,1,0)
^2006.674P^3^3
"DATA",2006.67,188,1,1,0)
28
"DATA",2006.67,188,1,2,0)
20
"DATA",2006.67,188,1,3,0)
32
"DATA",2006.67,188,2,0)
^2006.675P^3^3
"DATA",2006.67,188,2,1,0)
31
"DATA",2006.67,188,2,2,0)
1
"DATA",2006.67,188,2,3,0)
15
"DATA",2006.67,189,0)
74330^6^^
"DATA",2006.67,189,1,0)
^2006.674P^3^3
"DATA",2006.67,189,1,1,0)
28
"DATA",2006.67,189,1,2,0)
20
"DATA",2006.67,189,1,3,0)
32
"DATA",2006.67,189,2,0)
^2006.675P^3^3
"DATA",2006.67,189,2,1,0)
31
"DATA",2006.67,189,2,2,0)
1
"DATA",2006.67,189,2,3,0)
15
"DATA",2006.67,190,0)
74340^6^^
"DATA",2006.67,190,1,0)
^2006.674P^1^1
"DATA",2006.67,190,1,1,0)
42
"DATA",2006.67,190,2,0)
^2006.675P^3^3
"DATA",2006.67,190,2,1,0)
31
"DATA",2006.67,190,2,2,0)
1
"DATA",2006.67,190,2,3,0)
15
"DATA",2006.67,191,0)
74350^6^^
"DATA",2006.67,191,1,0)
^2006.674P^1^1
"DATA",2006.67,191,1,1,0)
42
"DATA",2006.67,191,2,0)
^2006.675P^3^3
"DATA",2006.67,191,2,1,0)
31
"DATA",2006.67,191,2,2,0)
1
"DATA",2006.67,191,2,3,0)
15
"DATA",2006.67,192,0)
74355^6^^
"DATA",2006.67,192,1,0)
^2006.674P^1^1
"DATA",2006.67,192,1,1,0)
42
"DATA",2006.67,192,2,0)
^2006.675P^3^3
"DATA",2006.67,192,2,1,0)
31
"DATA",2006.67,192,2,2,0)
1
"DATA",2006.67,192,2,3,0)
15
"DATA",2006.67,193,0)
74360^6^^
"DATA",2006.67,193,1,0)
^2006.674P^1^1
"DATA",2006.67,193,1,1,0)
42
"DATA",2006.67,193,2,0)
^2006.675P^3^3
"DATA",2006.67,193,2,1,0)
31
"DATA",2006.67,193,2,2,0)
1
"DATA",2006.67,193,2,3,0)
15
"DATA",2006.67,194,0)
74363^6^^
"DATA",2006.67,194,1,0)
^2006.674P^1^1
"DATA",2006.67,194,1,1,0)
42
"DATA",2006.67,194,2,0)
^2006.675P^3^3
"DATA",2006.67,194,2,1,0)
31
"DATA",2006.67,194,2,2,0)
1
"DATA",2006.67,194,2,3,0)
15
"DATA",2006.67,195,0)
74400^17^^
"DATA",2006.67,195,1,0)
^2006.674P^1^1
"DATA",2006.67,195,1,1,0)
24
"DATA",2006.67,195,2,0)
^2006.675P^3^3
"DATA",2006.67,195,2,1,0)
31
"DATA",2006.67,195,2,2,0)
1
"DATA",2006.67,195,2,3,0)
15
"DATA",2006.67,196,0)
74410^17^^195
"DATA",2006.67,196,1,0)
^2006.674P^1^1
"DATA",2006.67,196,1,1,0)
24
"DATA",2006.67,196,2,0)
^2006.675P^3^3
"DATA",2006.67,196,2,1,0)
31
"DATA",2006.67,196,2,2,0)
1
"DATA",2006.67,196,2,3,0)
15
"DATA",2006.67,197,0)
74415^17^^195
"DATA",2006.67,197,1,0)
^2006.674P^1^1
"DATA",2006.67,197,1,1,0)
24
"DATA",2006.67,197,2,0)
^2006.675P^3^3
"DATA",2006.67,197,2,1,0)
31
"DATA",2006.67,197,2,2,0)
1
"DATA",2006.67,197,2,3,0)
15
"DATA",2006.67,198,0)
74420^17^^195
"DATA",2006.67,198,1,0)
^2006.674P^1^1
"DATA",2006.67,198,1,1,0)
24
"DATA",2006.67,198,2,0)
^2006.675P^3^3
"DATA",2006.67,198,2,1,0)
31
"DATA",2006.67,198,2,2,0)
1
"DATA",2006.67,198,2,3,0)
15
"DATA",2006.67,199,0)
74425^17^^195
"DATA",2006.67,199,1,0)
^2006.674P^1^1
"DATA",2006.67,199,1,1,0)
24
"DATA",2006.67,199,2,0)
^2006.675P^3^3
"DATA",2006.67,199,2,1,0)
31
"DATA",2006.67,199,2,2,0)
1
"DATA",2006.67,199,2,3,0)
15
"DATA",2006.67,200,0)
74430^17^^195
"DATA",2006.67,200,1,0)
^2006.674P^1^1
"DATA",2006.67,200,1,1,0)
5
"DATA",2006.67,200,2,0)
^2006.675P^2^2
"DATA",2006.67,200,2,1,0)
1
"DATA",2006.67,200,2,2,0)
15
"DATA",2006.67,201,0)
74440^17^^
"DATA",2006.67,201,1,0)
^2006.674P^1^1
"DATA",2006.67,201,1,1,0)
47
"DATA",2006.67,201,2,0)
^2006.675P^3^3
"DATA",2006.67,201,2,1,0)
31
"DATA",2006.67,201,2,2,0)
1
"DATA",2006.67,201,2,3,0)
15
"DATA",2006.67,202,0)
74445^17^^
"DATA",2006.67,202,1,0)
^2006.674P^1^1
"DATA",2006.67,202,1,1,0)
47
"DATA",2006.67,202,2,0)
^2006.675P^3^3
"DATA",2006.67,202,2,1,0)
31
"DATA",2006.67,202,2,2,0)
1
"DATA",2006.67,202,2,3,0)
15
"DATA",2006.67,203,0)
74450^17^^
"DATA",2006.67,203,1,0)
^2006.674P^1^1
"DATA",2006.67,203,1,1,0)
5
"DATA",2006.67,203,2,0)
^2006.675P^3^3
"DATA",2006.67,203,2,1,0)
31
"DATA",2006.67,203,2,2,0)
1
"DATA",2006.67,203,2,3,0)
15
"DATA",2006.67,204,0)
74455^17^^
"DATA",2006.67,204,1,0)
^2006.674P^1^1
"DATA",2006.67,204,1,1,0)
5
"DATA",2006.67,204,2,0)
^2006.675P^3^3
"DATA",2006.67,204,2,1,0)
31
"DATA",2006.67,204,2,2,0)
1
"DATA",2006.67,204,2,3,0)
15
"DATA",2006.67,205,0)
74470^17^^
"DATA",2006.67,205,1,0)
^2006.674P^1^1
"DATA",2006.67,205,1,1,0)
24
"DATA",2006.67,205,2,0)
^2006.675P^3^3
"DATA",2006.67,205,2,1,0)
31
"DATA",2006.67,205,2,2,0)
1
"DATA",2006.67,205,2,3,0)
15
"DATA",2006.67,206,0)
74475^17^^
"DATA",2006.67,206,1,0)
^2006.674P^1^1
"DATA",2006.67,206,1,1,0)
24
"DATA",2006.67,206,2,0)
^2006.675P^3^3
"DATA",2006.67,206,2,1,0)
31
"DATA",2006.67,206,2,2,0)
1
"DATA",2006.67,206,2,3,0)
15
"DATA",2006.67,207,0)
74480^17^^
"DATA",2006.67,207,1,0)
^2006.674P^1^1
"DATA",2006.67,207,1,1,0)
24
"DATA",2006.67,207,2,0)
^2006.675P^3^3
"DATA",2006.67,207,2,1,0)
31
"DATA",2006.67,207,2,2,0)
1
"DATA",2006.67,207,2,3,0)
15
"DATA",2006.67,208,0)
74485^17^^
"DATA",2006.67,208,1,0)
^2006.674P^1^1
"DATA",2006.67,208,1,1,0)
24
"DATA",2006.67,208,2,0)
^2006.675P^3^3
"DATA",2006.67,208,2,1,0)
31
"DATA",2006.67,208,2,2,0)
1
"DATA",2006.67,208,2,3,0)
15
"DATA",2006.67,209,0)
74710^7^^
"DATA",2006.67,209,2,0)
^2006.675P^2^2
"DATA",2006.67,209,2,1,0)
1
"DATA",2006.67,209,2,2,0)
15
"DATA",2006.67,210,0)
74740^7^^
"DATA",2006.67,210,1,0)
^2006.674P^2^2
"DATA",2006.67,210,1,1,0)
51
"DATA",2006.67,210,1,2,0)
15
"DATA",2006.67,210,2,0)
^2006.675P^3^3
"DATA",2006.67,210,2,1,0)
31
"DATA",2006.67,210,2,2,0)
1
"DATA",2006.67,210,2,3,0)
15
"DATA",2006.67,211,0)
74742^7^^
"DATA",2006.67,211,1,0)
^2006.674P^1^1
"DATA",2006.67,211,1,1,0)
15
"DATA",2006.67,211,2,0)
^2006.675P^3^3
"DATA",2006.67,211,2,1,0)
31
"DATA",2006.67,211,2,2,0)
1
"DATA",2006.67,211,2,3,0)
15
"DATA",2006.67,212,0)
74775^7^^
"DATA",2006.67,212,2,0)
^2006.675P^3^3
"DATA",2006.67,212,2,1,0)
31
"DATA",2006.67,212,2,2,0)
1
"DATA",2006.67,212,2,3,0)
15
"DATA",2006.67,213,0)
75625^3^^
"DATA",2006.67,213,1,0)
^2006.674P^1^1
"DATA",2006.67,213,1,1,0)
2
"DATA",2006.67,213,2,0)
^2006.675P^2^2
"DATA",2006.67,213,2,1,0)
31
"DATA",2006.67,213,2,2,0)
30
"DATA",2006.67,214,0)
75630^3^^
"DATA",2006.67,214,1,0)
^2006.674P^1^1
"DATA",2006.67,214,1,1,0)
2
"DATA",2006.67,214,2,0)
^2006.675P^2^2
"DATA",2006.67,214,2,1,0)
31
"DATA",2006.67,214,2,2,0)
30
"DATA",2006.67,215,0)
75635^3^^
"DATA",2006.67,215,1,0)
^2006.674P^1^1
"DATA",2006.67,215,1,1,0)
2
"DATA",2006.67,215,2,0)
^2006.675P^1^1
"DATA",2006.67,215,2,1,0)
2
"DATA",2006.67,216,0)
75722^3^^
"DATA",2006.67,216,1,0)
^2006.674P^1^1
"DATA",2006.67,216,1,1,0)
24
"DATA",2006.67,216,2,0)
^2006.675P^2^2
"DATA",2006.67,216,2,1,0)
31
"DATA",2006.67,216,2,2,0)
30
"DATA",2006.67,217,0)
75724^3^^
"DATA",2006.67,217,1,0)
^2006.674P^1^1
"DATA",2006.67,217,1,1,0)
24
"DATA",2006.67,217,2,0)
^2006.675P^2^2
"DATA",2006.67,217,2,1,0)
31
"DATA",2006.67,217,2,2,0)
30
"DATA",2006.67,218,0)
75726^3^^
"DATA",2006.67,218,2,0)
^2006.675P^2^2
"DATA",2006.67,218,2,1,0)
31
"DATA",2006.67,218,2,2,0)
30
"DATA",2006.67,219,0)
75731^3^^220
"DATA",2006.67,219,1,0)
^2006.674P^1^1
"DATA",2006.67,219,1,1,0)
3
"DATA",2006.67,219,2,0)
^2006.675P^2^2
"DATA",2006.67,219,2,1,0)
31
"DATA",2006.67,219,2,2,0)
30
"DATA",2006.67,220,0)
75733^3^^
"DATA",2006.67,220,1,0)
^2006.674P^1^1
"DATA",2006.67,220,1,1,0)
3
"DATA",2006.67,220,2,0)
^2006.675P^2^2
"DATA",2006.67,220,2,1,0)
31
"DATA",2006.67,220,2,2,0)
30
"DATA",2006.67,221,0)
75736^3^^
"DATA",2006.67,221,2,0)
^2006.675P^2^2
"DATA",2006.67,221,2,1,0)
31
"DATA",2006.67,221,2,2,0)
30
"DATA",2006.67,222,0)
75805^18^^
"DATA",2006.67,222,1,0)
^2006.674P^2^2
"DATA",2006.67,222,1,1,0)
1
"DATA",2006.67,222,1,2,0)
33
"DATA",2006.67,222,2,0)
^2006.675P^2^2
"DATA",2006.67,222,2,1,0)
31
"DATA",2006.67,222,2,2,0)
30
"DATA",2006.67,223,0)
75807^18^^
"DATA",2006.67,223,1,0)
^2006.674P^3^3
"DATA",2006.67,223,1,1,0)
1
"DATA",2006.67,223,1,2,0)
33
"DATA",2006.67,223,1,3,0)
29
"DATA",2006.67,223,2,0)
^2006.675P^2^2
"DATA",2006.67,223,2,1,0)
31
"DATA",2006.67,223,2,2,0)
30
"DATA",2006.67,224,0)
75809^18^^
"DATA",2006.67,224,2,0)
^2006.675P^2^2
"DATA",2006.67,224,2,1,0)
31
"DATA",2006.67,224,2,2,0)
30
"DATA",2006.67,225,0)
75810^18^^
"DATA",2006.67,225,2,0)
^2006.675P^2^2
"DATA",2006.67,225,2,1,0)
31
"DATA",2006.67,225,2,2,0)
30
"DATA",2006.67,226,0)
75825^18^^
"DATA",2006.67,226,2,0)
^2006.675P^3^3
"DATA",2006.67,226,2,1,0)
31
"DATA",2006.67,226,2,2,0)
1
"DATA",2006.67,226,2,3,0)
15
"DATA",2006.67,227,0)
75827^18^^
"DATA",2006.67,227,2,0)
^2006.675P^3^3
"DATA",2006.67,227,2,1,0)
31
"DATA",2006.67,227,2,2,0)
1
"DATA",2006.67,227,2,3,0)
15
"DATA",2006.67,228,0)
75831^18^^229
"DATA",2006.67,228,2,0)
^2006.675P^3^3
"DATA",2006.67,228,2,1,0)
31
"DATA",2006.67,228,2,2,0)
1
"DATA",2006.67,228,2,3,0)
15
"DATA",2006.67,229,0)
75833^18^^
"DATA",2006.67,229,2,0)
^2006.675P^3^3
"DATA",2006.67,229,2,1,0)
31
"DATA",2006.67,229,2,2,0)
1
"DATA",2006.67,229,2,3,0)
15
"DATA",2006.67,230,0)
75840^18^^231
"DATA",2006.67,230,2,0)
^2006.675P^3^3
"DATA",2006.67,230,2,1,0)
31
"DATA",2006.67,230,2,2,0)
1
"DATA",2006.67,230,2,3,0)
15
"DATA",2006.67,231,0)
75842^18^^
"DATA",2006.67,231,2,0)
^2006.675P^3^3
"DATA",2006.67,231,2,1,0)
31
"DATA",2006.67,231,2,2,0)
1
"DATA",2006.67,231,2,3,0)
15
"DATA",2006.67,232,0)
75872^18^^
"DATA",2006.67,232,2,0)
^2006.675P^3^3
"DATA",2006.67,232,2,1,0)
31
"DATA",2006.67,232,2,2,0)
1
"DATA",2006.67,232,2,3,0)
15
"DATA",2006.67,233,0)
75885^18^^
"DATA",2006.67,233,2,0)
^2006.675P^3^3
"DATA",2006.67,233,2,1,0)
31
"DATA",2006.67,233,2,2,0)
1
"DATA",2006.67,233,2,3,0)
15
"DATA",2006.67,234,0)
75887^18^^
"DATA",2006.67,234,2,0)
^2006.675P^3^3
"DATA",2006.67,234,2,1,0)
31
"DATA",2006.67,234,2,2,0)
1
"DATA",2006.67,234,2,3,0)
15
"DATA",2006.67,235,0)
75889^18^^
"DATA",2006.67,235,2,0)
^2006.675P^3^3
"DATA",2006.67,235,2,1,0)
31
"DATA",2006.67,235,2,2,0)
1
"DATA",2006.67,235,2,3,0)
15
"DATA",2006.67,236,0)
75891^18^^
"DATA",2006.67,236,2,0)
^2006.675P^3^3
"DATA",2006.67,236,2,1,0)
31
"DATA",2006.67,236,2,2,0)
1
"DATA",2006.67,236,2,3,0)
15
"DATA",2006.67,237,0)
75893^18^^
"DATA",2006.67,237,2,0)
^2006.675P^3^3
"DATA",2006.67,237,2,1,0)
31
"DATA",2006.67,237,2,2,0)
1
"DATA",2006.67,237,2,3,0)
15
"DATA",2006.67,238,0)
76700^2^^
"DATA",2006.67,238,1,0)
^2006.674P^1^1
"DATA",2006.67,238,1,1,0)
1
"DATA",2006.67,238,2,0)
^2006.675P^1^1
"DATA",2006.67,238,2,1,0)
5
"DATA",2006.67,239,0)
76705^2^^238
"DATA",2006.67,239,1,0)
^2006.674P^1^1
"DATA",2006.67,239,1,1,0)
40
"DATA",2006.67,239,2,0)
^2006.675P^1^1
"DATA",2006.67,239,2,1,0)
5
"DATA",2006.67,240,0)
76770^2^^238
"DATA",2006.67,240,1,0)
^2006.674P^2^2
"DATA",2006.67,240,1,1,0)
24
"DATA",2006.67,240,1,2,0)
3
"DATA",2006.67,240,2,0)
^2006.675P^1^1
"DATA",2006.67,240,2,1,0)
5
"DATA",2006.67,241,0)
76775^2^^238
"DATA",2006.67,241,1,0)
^2006.674P^2^2
"DATA",2006.67,241,1,1,0)
24
"DATA",2006.67,241,1,2,0)
3
"DATA",2006.67,241,2,0)
^2006.675P^1^1
"DATA",2006.67,241,2,1,0)
5
"DATA",2006.67,242,0)
76778^2^^
"DATA",2006.67,242,1,0)
^2006.674P^1^1
"DATA",2006.67,242,1,1,0)
49
"DATA",2006.67,242,2,0)
^2006.675P^1^1
"DATA",2006.67,242,2,1,0)
5
"DATA",2006.67,243,0)
76800^14^^
"DATA",2006.67,243,1,0)
^2006.674P^1^1
"DATA",2006.67,243,1,1,0)
43
"DATA",2006.67,243,2,0)
^2006.675P^1^1
"DATA",2006.67,243,2,1,0)
5
"DATA",2006.67,244,0)
76805^13^^
"DATA",2006.67,244,1,0)
^2006.674P^1^1
"DATA",2006.67,244,1,1,0)
34
"DATA",2006.67,244,2,0)
^2006.675P^1^1
"DATA",2006.67,244,2,1,0)
5
"DATA",2006.67,245,0)
76810^13^^244
"DATA",2006.67,245,1,0)
^2006.674P^1^1
"DATA",2006.67,245,1,1,0)
34
"DATA",2006.67,245,2,0)
^2006.675P^1^1
"DATA",2006.67,245,2,1,0)
5
"DATA",2006.67,246,0)
76815^13^^244
"DATA",2006.67,246,1,0)
^2006.674P^1^1
"DATA",2006.67,246,1,1,0)
34
"DATA",2006.67,246,2,0)
^2006.675P^1^1
"DATA",2006.67,246,2,1,0)
5
"DATA",2006.67,247,0)
76816^13^^244
"DATA",2006.67,247,1,0)
^2006.674P^1^1
"DATA",2006.67,247,1,1,0)
34
"DATA",2006.67,247,2,0)
^2006.675P^1^1
"DATA",2006.67,247,2,1,0)
5
"DATA",2006.67,248,0)
76818^13^^
"DATA",2006.67,248,1,0)
^2006.674P^1^1
"DATA",2006.67,248,1,1,0)
34
"DATA",2006.67,248,2,0)
^2006.675P^1^1
"DATA",2006.67,248,2,1,0)
5
"DATA",2006.67,249,0)
76819^13^^
"DATA",2006.67,249,1,0)
^2006.674P^1^1
"DATA",2006.67,249,1,1,0)
34
"DATA",2006.67,249,2,0)
^2006.675P^1^1
"DATA",2006.67,249,2,1,0)
5
"DATA",2006.67,250,0)
76825^13^^
"DATA",2006.67,250,1,0)
^2006.674P^1^1
"DATA",2006.67,250,1,1,0)
17
"DATA",2006.67,250,2,0)
^2006.675P^1^1
"DATA",2006.67,250,2,1,0)
5
"DATA",2006.67,251,0)
76826^13^^250
"DATA",2006.67,251,1,0)
^2006.674P^1^1
"DATA",2006.67,251,1,1,0)
17
"DATA",2006.67,251,2,0)
^2006.675P^1^1
"DATA",2006.67,251,2,1,0)
5
"DATA",2006.67,252,0)
76827^13^^250
"DATA",2006.67,252,1,0)
^2006.674P^1^1
"DATA",2006.67,252,1,1,0)
17
"DATA",2006.67,252,2,0)
^2006.675P^1^1
"DATA",2006.67,252,2,1,0)
5
"DATA",2006.67,253,0)
76828^13^^250
"DATA",2006.67,253,1,0)
^2006.674P^1^1
"DATA",2006.67,253,1,1,0)
17
"DATA",2006.67,253,2,0)
^2006.675P^1^1
"DATA",2006.67,253,2,1,0)
5
"DATA",2006.67,254,0)
76830^12^^
"DATA",2006.67,254,1,0)
^2006.674P^2^2
"DATA",2006.67,254,1,1,0)
51
"DATA",2006.67,254,1,2,0)
15
"DATA",2006.67,254,2,0)
^2006.675P^1^1
"DATA",2006.67,254,2,1,0)
5
"DATA",2006.67,255,0)
76831^12^^
"DATA",2006.67,255,1,0)
^2006.674P^2^2
"DATA",2006.67,255,1,1,0)
51
"DATA",2006.67,255,1,2,0)
15
"DATA",2006.67,255,2,0)
^2006.675P^1^1
"DATA",2006.67,255,2,1,0)
5
"DATA",2006.67,256,0)
76856^12^^
"DATA",2006.67,256,1,0)
^2006.674P^1^1
"DATA",2006.67,256,1,1,0)
33
"DATA",2006.67,256,2,0)
^2006.675P^1^1
"DATA",2006.67,256,2,1,0)
5
"DATA",2006.67,257,0)
76857^12^^256
"DATA",2006.67,257,1,0)
^2006.674P^1^1
"DATA",2006.67,257,1,1,0)
33
"DATA",2006.67,257,2,0)
^2006.675P^1^1
"DATA",2006.67,257,2,1,0)
5
"DATA",2006.67,258,0)
76870^11^^
"DATA",2006.67,258,1,0)
^2006.674P^1^1
"DATA",2006.67,258,1,1,0)
38
"DATA",2006.67,258,2,0)
^2006.675P^1^1
"DATA",2006.67,258,2,1,0)
5
"DATA",2006.67,259,0)
76872^11^^
"DATA",2006.67,259,1,0)
^2006.674P^2^2
"DATA",2006.67,259,1,1,0)
35
"DATA",2006.67,259,1,2,0)
5
"DATA",2006.67,259,2,0)
^2006.675P^1^1
"DATA",2006.67,259,2,1,0)
5
"DATA",2006.67,260,0)
76873^11^^
"DATA",2006.67,260,1,0)
^2006.674P^2^2
"DATA",2006.67,260,1,1,0)
35
"DATA",2006.67,260,1,2,0)
5
"DATA",2006.67,260,2,0)
^2006.675P^1^1
"DATA",2006.67,260,2,1,0)
5
"DATA",2006.67,261,0)
76880^5^^
"DATA",2006.67,261,2,0)
^2006.675P^1^1
"DATA",2006.67,261,2,1,0)
5
"DATA",2006.67,262,0)
76885^5^^
"DATA",2006.67,262,2,0)
^2006.675P^1^1
"DATA",2006.67,262,2,1,0)
5
"DATA",2006.67,263,0)
76886^5^^
"DATA",2006.67,263,2,0)
^2006.675P^1^1
"DATA",2006.67,263,2,1,0)
5
"DATA",2006.67,264,0)
73000^16^^
"DATA",2006.67,264,1,0)
^2006.674P^1^1
"DATA",2006.67,264,1,1,0)
39
"DATA",2006.67,264,2,0)
^2006.675P^2^2
"DATA",2006.67,264,2,1,0)
1
"DATA",2006.67,264,2,2,0)
15
"DATA",2006.67,265,0)
73010^16^^
"DATA",2006.67,265,1,0)
^2006.674P^1^1
"DATA",2006.67,265,1,1,0)
39
"DATA",2006.67,265,2,0)
^2006.675P^2^2
"DATA",2006.67,265,2,1,0)
1
"DATA",2006.67,265,2,2,0)
15
"DATA",2006.67,266,0)
73020^16^^267
"DATA",2006.67,266,1,0)
^2006.674P^1^1
"DATA",2006.67,266,1,1,0)
39
"DATA",2006.67,266,2,0)
^2006.675P^2^2
"DATA",2006.67,266,2,1,0)
1
"DATA",2006.67,266,2,2,0)
15
"DATA",2006.67,267,0)
73030^16^^
"DATA",2006.67,267,1,0)
^2006.674P^1^1
"DATA",2006.67,267,1,1,0)
39
"DATA",2006.67,267,2,0)
^2006.675P^2^2
"DATA",2006.67,267,2,1,0)
1
"DATA",2006.67,267,2,2,0)
15
"DATA",2006.67,268,0)
73040^16^^
"DATA",2006.67,268,1,0)
^2006.674P^1^1
"DATA",2006.67,268,1,1,0)
39
"DATA",2006.67,268,2,0)
^2006.675P^3^3
"DATA",2006.67,268,2,1,0)
31
"DATA",2006.67,268,2,2,0)
1
"DATA",2006.67,268,2,3,0)
15
"DATA",2006.67,269,0)
73050^16^^
"DATA",2006.67,269,1,0)
^2006.674P^1^1
"DATA",2006.67,269,1,1,0)
39
"DATA",2006.67,269,2,0)
^2006.675P^2^2
"DATA",2006.67,269,2,1,0)
1
"DATA",2006.67,269,2,2,0)
15
"DATA",2006.67,270,0)
73060^16^^
"DATA",2006.67,270,1,0)
^2006.674P^2^2
"DATA",2006.67,270,1,1,0)
39
"DATA",2006.67,270,1,2,0)
11
"DATA",2006.67,270,2,0)
^2006.675P^2^2
"DATA",2006.67,270,2,1,0)
1
"DATA",2006.67,270,2,2,0)
15
"DATA",2006.67,271,0)
73070^16^^272
"DATA",2006.67,271,1,0)
^2006.674P^2^2
"DATA",2006.67,271,1,1,0)
23
"DATA",2006.67,271,1,2,0)
19
"DATA",2006.67,271,2,0)
^2006.675P^2^2
"DATA",2006.67,271,2,1,0)
1
"DATA",2006.67,271,2,2,0)
15
"DATA",2006.67,272,0)
73080^16^^
"DATA",2006.67,272,1,0)
^2006.674P^2^2
"DATA",2006.67,272,1,1,0)
23
"DATA",2006.67,272,1,2,0)
19
"DATA",2006.67,272,2,0)
^2006.675P^2^2
"DATA",2006.67,272,2,1,0)
1
"DATA",2006.67,272,2,2,0)
15
"DATA",2006.67,273,0)
73085^16^^
"DATA",2006.67,273,1,0)
^2006.674P^2^2
"DATA",2006.67,273,1,1,0)
23
"DATA",2006.67,273,1,2,0)
19
"DATA",2006.67,273,2,0)
^2006.675P^2^2
"DATA",2006.67,273,2,1,0)
1
"DATA",2006.67,273,2,2,0)
15
"DATA",2006.67,274,0)
73090^16^^
"DATA",2006.67,274,1,0)
^2006.674P^1^1
"DATA",2006.67,274,1,1,0)
19
"DATA",2006.67,274,2,0)
^2006.675P^2^2
"DATA",2006.67,274,2,1,0)
1
"DATA",2006.67,274,2,2,0)
15
"DATA",2006.67,275,0)
73092^16^^
"DATA",2006.67,275,1,0)
^2006.674P^1^1
"DATA",2006.67,275,1,1,0)
50
"DATA",2006.67,275,2,0)
^2006.675P^2^2
"DATA",2006.67,275,2,1,0)
1
"DATA",2006.67,275,2,2,0)
15
"DATA",2006.67,276,0)
73100^16^^277
"DATA",2006.67,276,1,0)
^2006.674P^2^2
"DATA",2006.67,276,1,1,0)
19
"DATA",2006.67,276,1,2,0)
21
"DATA",2006.67,276,2,0)
^2006.675P^2^2
"DATA",2006.67,276,2,1,0)
1
"DATA",2006.67,276,2,2,0)
15
"DATA",2006.67,277,0)
73110^16^^
"DATA",2006.67,277,1,0)
^2006.674P^2^2
"DATA",2006.67,277,1,1,0)
19
"DATA",2006.67,277,1,2,0)
21
"DATA",2006.67,277,2,0)
^2006.675P^2^2
"DATA",2006.67,277,2,1,0)
1
"DATA",2006.67,277,2,2,0)
15
"DATA",2006.67,278,0)
73115^16^^
"DATA",2006.67,278,1,0)
^2006.674P^2^2
"DATA",2006.67,278,1,1,0)
19
"DATA",2006.67,278,1,2,0)
21
"DATA",2006.67,278,2,0)
^2006.675P^2^2
"DATA",2006.67,278,2,1,0)
1
"DATA",2006.67,278,2,2,0)
15
"DATA",2006.67,279,0)
73120^16^^280
"DATA",2006.67,279,1,0)
^2006.674P^1^1
"DATA",2006.67,279,1,1,0)
21
"DATA",2006.67,279,2,0)
^2006.675P^2^2
"DATA",2006.67,279,2,1,0)
1
"DATA",2006.67,279,2,2,0)
15
"DATA",2006.67,280,0)
73130^16^^
"DATA",2006.67,280,1,0)
^2006.674P^1^1
"DATA",2006.67,280,1,1,0)
21
"DATA",2006.67,280,2,0)
^2006.675P^2^2
"DATA",2006.67,280,2,1,0)
1
"DATA",2006.67,280,2,2,0)
15
"DATA",2006.67,281,0)
73140^16^^
"DATA",2006.67,281,1,0)
^2006.674P^1^1
"DATA",2006.67,281,1,1,0)
21
"DATA",2006.67,281,2,0)
^2006.675P^2^2
"DATA",2006.67,281,2,1,0)
1
"DATA",2006.67,281,2,2,0)
15
"DATA",2006.67,282,0)
73200^16^^284
"DATA",2006.67,282,1,0)
^2006.674P^1^1
"DATA",2006.67,282,1,1,0)
50
"DATA",2006.67,282,2,0)
^2006.675P^1^1
"DATA",2006.67,282,2,1,0)
2
"DATA",2006.67,283,0)
73201^16^^284
"DATA",2006.67,283,1,0)
^2006.674P^1^1
"DATA",2006.67,283,1,1,0)
50
"DATA",2006.67,283,2,0)
^2006.675P^1^1
"DATA",2006.67,283,2,1,0)
2
"DATA",2006.67,284,0)
73202^16^^
"DATA",2006.67,284,1,0)
^2006.674P^1^1
"DATA",2006.67,284,1,1,0)
50
"DATA",2006.67,284,2,0)
^2006.675P^1^1
"DATA",2006.67,284,2,1,0)
2
"DATA",2006.67,285,0)
73206^16^^
"DATA",2006.67,285,1,0)
^2006.674P^1^1
"DATA",2006.67,285,1,1,0)
50
"DATA",2006.67,285,2,0)
^2006.675P^1^1
"DATA",2006.67,285,2,1,0)
2
"DATA",2006.67,286,0)
73218^16^^
"DATA",2006.67,286,1,0)
^2006.674P^1^1
"DATA",2006.67,286,1,1,0)
50
"DATA",2006.67,286,2,0)
^2006.675P^1^1
"DATA",2006.67,286,2,1,0)
3
"DATA",2006.67,287,0)
73219^16^^
"DATA",2006.67,287,1,0)
^2006.674P^1^1
"DATA",2006.67,287,1,1,0)
50
"DATA",2006.67,287,2,0)
^2006.675P^1^1
"DATA",2006.67,287,2,1,0)
3
"DATA",2006.67,288,0)
73220^16^^
"DATA",2006.67,288,1,0)
^2006.674P^1^1
"DATA",2006.67,288,1,1,0)
50
"DATA",2006.67,288,2,0)
^2006.675P^1^1
"DATA",2006.67,288,2,1,0)
3
"DATA",2006.67,289,0)
73221^16^^
"DATA",2006.67,289,1,0)
^2006.674P^1^1
"DATA",2006.67,289,1,1,0)
50
"DATA",2006.67,289,2,0)
^2006.675P^1^1
"DATA",2006.67,289,2,1,0)
3
"DATA",2006.67,290,0)
73222^16^^
"DATA",2006.67,290,1,0)
^2006.674P^1^1
"DATA",2006.67,290,1,1,0)
50
"DATA",2006.67,290,2,0)
^2006.675P^1^1
"DATA",2006.67,290,2,1,0)
3
"DATA",2006.67,291,0)
73223^16^^
"DATA",2006.67,291,1,0)
^2006.674P^1^1
"DATA",2006.67,291,1,1,0)
50
"DATA",2006.67,291,2,0)
^2006.675P^1^1
"DATA",2006.67,291,2,1,0)
3
"DATA",2006.67,292,0)
73225^16^^
"DATA",2006.67,292,1,0)
^2006.674P^1^1
"DATA",2006.67,292,1,1,0)
50
"DATA",2006.67,292,2,0)
^2006.675P^1^1
"DATA",2006.67,292,2,1,0)
3
"DATA",2006.67,293,0)
73500^9^^295
"DATA",2006.67,293,1,0)
^2006.674P^1^1
"DATA",2006.67,293,1,1,0)
22
"DATA",2006.67,293,2,0)
^2006.675P^2^2
"DATA",2006.67,293,2,1,0)
1
"DATA",2006.67,293,2,2,0)
15
"DATA",2006.67,294,0)
73510^9^^295
"DATA",2006.67,294,1,0)
^2006.674P^1^1
"DATA",2006.67,294,1,1,0)
22
"DATA",2006.67,294,2,0)
^2006.675P^2^2
"DATA",2006.67,294,2,1,0)
1
"DATA",2006.67,294,2,2,0)
15
"DATA",2006.67,295,0)
73520^9^^
"DATA",2006.67,295,1,0)
^2006.674P^1^1
"DATA",2006.67,295,1,1,0)
22
"DATA",2006.67,295,2,0)
^2006.675P^2^2
"DATA",2006.67,295,2,1,0)
1
"DATA",2006.67,295,2,2,0)
15
"DATA",2006.67,296,0)
73525^9^^
"DATA",2006.67,296,1,0)
^2006.674P^1^1
"DATA",2006.67,296,1,1,0)
22
"DATA",2006.67,296,2,0)
^2006.675P^3^3
"DATA",2006.67,296,2,1,0)
31
"DATA",2006.67,296,2,2,0)
1
"DATA",2006.67,296,2,3,0)
15
"DATA",2006.67,297,0)
73530^9^^
"DATA",2006.67,297,1,0)
^2006.674P^1^1
"DATA",2006.67,297,1,1,0)
22
"DATA",2006.67,297,2,0)
^2006.675P^3^3
"DATA",2006.67,297,2,1,0)
31
"DATA",2006.67,297,2,2,0)
1
"DATA",2006.67,297,2,3,0)
15
"DATA",2006.67,298,0)
73540^9^^
"DATA",2006.67,298,1,0)
^2006.674P^1^1
"DATA",2006.67,298,1,1,0)
22
"DATA",2006.67,298,2,0)
^2006.675P^2^2
"DATA",2006.67,298,2,1,0)
1
"DATA",2006.67,298,2,2,0)
15
"DATA",2006.67,299,0)
73542^9^^
"DATA",2006.67,299,1,0)
^2006.674P^1^1
"DATA",2006.67,299,1,1,0)
33
"DATA",2006.67,299,2,0)
^2006.675P^3^3
"DATA",2006.67,299,2,1,0)
31
"DATA",2006.67,299,2,2,0)
1
"DATA",2006.67,299,2,3,0)
15
"DATA",2006.67,300,0)
73550^9^^
"DATA",2006.67,300,1,0)
^2006.674P^1^1
"DATA",2006.67,300,1,1,0)
16
"DATA",2006.67,300,2,0)
^2006.675P^2^2
"DATA",2006.67,300,2,1,0)
1
"DATA",2006.67,300,2,2,0)
15
"DATA",2006.67,301,0)
73560^9^^303
"DATA",2006.67,301,1,0)
^2006.674P^1^1
"DATA",2006.67,301,1,1,0)
25
"DATA",2006.67,301,2,0)
^2006.675P^2^2
"DATA",2006.67,301,2,1,0)
1
"DATA",2006.67,301,2,2,0)
15
"DATA",2006.67,302,0)
73562^9^^303
"DATA",2006.67,302,1,0)
^2006.674P^1^1
"DATA",2006.67,302,1,1,0)
25
"DATA",2006.67,302,2,0)
^2006.675P^2^2
"DATA",2006.67,302,2,1,0)
1
"DATA",2006.67,302,2,2,0)
15
"DATA",2006.67,303,0)
73564^9^^
"DATA",2006.67,303,1,0)
^2006.674P^1^1
"DATA",2006.67,303,1,1,0)
25
"DATA",2006.67,303,2,0)
^2006.675P^2^2
"DATA",2006.67,303,2,1,0)
1
"DATA",2006.67,303,2,2,0)
15
"DATA",2006.67,304,0)
73565^9^^
"DATA",2006.67,304,1,0)
^2006.674P^1^1
"DATA",2006.67,304,1,1,0)
25
"DATA",2006.67,304,2,0)
^2006.675P^2^2
"DATA",2006.67,304,2,1,0)
1
"DATA",2006.67,304,2,2,0)
15
"DATA",2006.67,305,0)
73580^9^^
"DATA",2006.67,305,1,0)
^2006.674P^1^1
"DATA",2006.67,305,1,1,0)
25
"DATA",2006.67,305,2,0)
^2006.675P^3^3
"DATA",2006.67,305,2,1,0)
31
"DATA",2006.67,305,2,2,0)
1
"DATA",2006.67,305,2,3,0)
15
"DATA",2006.67,306,0)
73590^9^^
"DATA",2006.67,306,1,0)
^2006.674P^1^1
"DATA",2006.67,306,1,1,0)
29
"DATA",2006.67,306,2,0)
^2006.675P^2^2
"DATA",2006.67,306,2,1,0)
1
"DATA",2006.67,306,2,2,0)
15
"DATA",2006.67,307,0)
73592^9^^
"DATA",2006.67,307,1,0)
^2006.674P^1^1
"DATA",2006.67,307,1,1,0)
29
"DATA",2006.67,307,2,0)
^2006.675P^2^2
"DATA",2006.67,307,2,1,0)
1
"DATA",2006.67,307,2,2,0)
15
"DATA",2006.67,308,0)
73600^9^^309
"DATA",2006.67,308,1,0)
^2006.674P^1^1
"DATA",2006.67,308,1,1,0)
4
"DATA",2006.67,308,2,0)
^2006.675P^2^2
"DATA",2006.67,308,2,1,0)
1
"DATA",2006.67,308,2,2,0)
15
"DATA",2006.67,309,0)
73610^9^^
"DATA",2006.67,309,1,0)
^2006.674P^1^1
"DATA",2006.67,309,1,1,0)
4
"DATA",2006.67,309,2,0)
^2006.675P^2^2
"DATA",2006.67,309,2,1,0)
1
"DATA",2006.67,309,2,2,0)
15
"DATA",2006.67,310,0)
73615^9^^
"DATA",2006.67,310,1,0)
^2006.674P^1^1
"DATA",2006.67,310,1,1,0)
4
"DATA",2006.67,310,2,0)
^2006.675P^3^3
"DATA",2006.67,310,2,1,0)
31
"DATA",2006.67,310,2,2,0)
1
"DATA",2006.67,310,2,3,0)
15
"DATA",2006.67,311,0)
73620^9^^312
"DATA",2006.67,311,1,0)
^2006.674P^1^1
"DATA",2006.67,311,1,1,0)
18
"DATA",2006.67,311,2,0)
^2006.675P^2^2
"DATA",2006.67,311,2,1,0)
1
"DATA",2006.67,311,2,2,0)
15
"DATA",2006.67,312,0)
73630^9^^
"DATA",2006.67,312,1,0)
^2006.674P^1^1
"DATA",2006.67,312,1,1,0)
18
"DATA",2006.67,312,2,0)
^2006.675P^2^2
"DATA",2006.67,312,2,1,0)
1
"DATA",2006.67,312,2,2,0)
15
"DATA",2006.67,313,0)
73650^9^^
"DATA",2006.67,313,1,0)
^2006.674P^1^1
"DATA",2006.67,313,1,1,0)
7
"DATA",2006.67,313,2,0)
^2006.675P^2^2
"DATA",2006.67,313,2,1,0)
1
"DATA",2006.67,313,2,2,0)
15
"DATA",2006.67,314,0)
73660^9^^312
"DATA",2006.67,314,1,0)
^2006.674P^1^1
"DATA",2006.67,314,1,1,0)
18
"DATA",2006.67,314,2,0)
^2006.675P^2^2
"DATA",2006.67,314,2,1,0)
1
"DATA",2006.67,314,2,2,0)
15
"DATA",2006.67,315,0)
73700^9^^317
"DATA",2006.67,315,1,0)
^2006.674P^1^1
"DATA",2006.67,315,1,1,0)
29
"DATA",2006.67,315,2,0)
^2006.675P^1^1
"DATA",2006.67,315,2,1,0)
2
"DATA",2006.67,316,0)
73701^9^^317
"DATA",2006.67,316,1,0)
^2006.674P^1^1
"DATA",2006.67,316,1,1,0)
29
"DATA",2006.67,316,2,0)
^2006.675P^1^1
"DATA",2006.67,316,2,1,0)
2
"DATA",2006.67,317,0)
73702^9^^
"DATA",2006.67,317,1,0)
^2006.674P^1^1
"DATA",2006.67,317,1,1,0)
29
"DATA",2006.67,317,2,0)
^2006.675P^1^1
"DATA",2006.67,317,2,1,0)
2
"DATA",2006.67,318,0)
73706^9^^
"DATA",2006.67,318,1,0)
^2006.674P^1^1
"DATA",2006.67,318,1,1,0)
29
"DATA",2006.67,318,2,0)
^2006.675P^1^1
"DATA",2006.67,318,2,1,0)
2
"DATA",2006.67,319,0)
73718^9^^
"DATA",2006.67,319,1,0)
^2006.674P^1^1
"DATA",2006.67,319,1,1,0)
29
"DATA",2006.67,319,2,0)
^2006.675P^1^1
"DATA",2006.67,319,2,1,0)
3
"DATA",2006.67,320,0)
73719^9^^
"DATA",2006.67,320,1,0)
^2006.674P^1^1
"DATA",2006.67,320,1,1,0)
29
"DATA",2006.67,320,2,0)
^2006.675P^1^1
"DATA",2006.67,320,2,1,0)
3
"DATA",2006.67,321,0)
73720^9^^
"DATA",2006.67,321,1,0)
^2006.674P^1^1
"DATA",2006.67,321,1,1,0)
29
"DATA",2006.67,321,2,0)
^2006.675P^1^1
"DATA",2006.67,321,2,1,0)
3
"DATA",2006.67,322,0)
73721^9^^
"DATA",2006.67,322,1,0)
^2006.674P^1^1
"DATA",2006.67,322,1,1,0)
29
"DATA",2006.67,322,2,0)
^2006.675P^1^1
"DATA",2006.67,322,2,1,0)
3
"DATA",2006.67,323,0)
73722^9^^
"DATA",2006.67,323,1,0)
^2006.674P^1^1
"DATA",2006.67,323,1,1,0)
29
"DATA",2006.67,323,2,0)
^2006.675P^1^1
"DATA",2006.67,323,2,1,0)
3
"DATA",2006.67,324,0)
73723^9^^
"DATA",2006.67,324,1,0)
^2006.674P^1^1
"DATA",2006.67,324,1,1,0)
29
"DATA",2006.67,324,2,0)
^2006.675P^1^1
"DATA",2006.67,324,2,1,0)
3
"DATA",2006.67,325,0)
73725^9^^
"DATA",2006.67,325,1,0)
^2006.674P^1^1
"DATA",2006.67,325,1,1,0)
29
"DATA",2006.67,325,2,0)
^2006.675P^1^1
"DATA",2006.67,325,2,1,0)
3
"DATA",2006.67,326,0)
75710^3^^
"DATA",2006.67,326,1,0)
^2006.674P^1^1
"DATA",2006.67,326,1,1,0)
13
"DATA",2006.67,326,2,0)
^2006.675P^2^2
"DATA",2006.67,326,2,1,0)
31
"DATA",2006.67,326,2,2,0)
30
"DATA",2006.67,327,0)
75716^3^^
"DATA",2006.67,327,1,0)
^2006.674P^1^1
"DATA",2006.67,327,1,1,0)
13
"DATA",2006.67,327,2,0)
^2006.675P^2^2
"DATA",2006.67,327,2,1,0)
31
"DATA",2006.67,327,2,2,0)
30
"DATA",2006.67,328,0)
75801^18^^
"DATA",2006.67,328,1,0)
^2006.674P^1^1
"DATA",2006.67,328,1,1,0)
13
"DATA",2006.67,328,2,0)
^2006.675P^2^2
"DATA",2006.67,328,2,1,0)
31
"DATA",2006.67,328,2,2,0)
30
"DATA",2006.67,329,0)
75803^18^^223
"DATA",2006.67,329,2,0)
^2006.675P^2^2
"DATA",2006.67,329,2,1,0)
31
"DATA",2006.67,329,2,2,0)
30
"DATA",2006.67,330,0)
75820^18^^331
"DATA",2006.67,330,2,0)
^2006.675P^3^3
"DATA",2006.67,330,2,1,0)
31
"DATA",2006.67,330,2,2,0)
1
"DATA",2006.67,330,2,3,0)
15
"DATA",2006.67,331,0)
75822^18^^
"DATA",2006.67,331,2,0)
^2006.675P^3^3
"DATA",2006.67,331,2,1,0)
31
"DATA",2006.67,331,2,2,0)
1
"DATA",2006.67,331,2,3,0)
15
"DATA",2006.67,332,0)
77777
"DATA",2006.671,1,0)
Abdomen
"DATA",2006.671,2,0)
Abdominal Aorta
"DATA",2006.671,3,0)
Adrenal
"DATA",2006.671,4,0)
Ankle
"DATA",2006.671,5,0)
Bladder
"DATA",2006.671,6,0)
C-Spine
"DATA",2006.671,7,0)
Calcaneus
"DATA",2006.671,8,0)
Carotid
"DATA",2006.671,9,0)
Clavicle
"DATA",2006.671,10,0)
Cranium
"DATA",2006.671,11,0)
Elbow
"DATA",2006.671,12,0)
Esophagus
"DATA",2006.671,13,0)
Extremity
"DATA",2006.671,14,0)
Face
"DATA",2006.671,15,0)
Fallopian tube
"DATA",2006.671,16,0)
Femur
"DATA",2006.671,17,0)
Fetal Heart
"DATA",2006.671,18,0)
Foot
"DATA",2006.671,19,0)
Forearm
"DATA",2006.671,20,0)
Gallbladder
"DATA",2006.671,21,0)
Hand
"DATA",2006.671,22,0)
Hip
"DATA",2006.671,23,0)
Humerus
"DATA",2006.671,24,0)
Kidney
"DATA",2006.671,25,0)
Knee
"DATA",2006.671,26,0)
L-Spine
"DATA",2006.671,27,0)
Large Bowel
"DATA",2006.671,28,0)
Liver
"DATA",2006.671,29,0)
Lower Extremity
"DATA",2006.671,30,0)
Lung
"DATA",2006.671,31,0)
Neck
"DATA",2006.671,32,0)
Pancreas
"DATA",2006.671,33,0)
Pelvis
"DATA",2006.671,34,0)
Pregnant Uterus
"DATA",2006.671,35,0)
Prostate
"DATA",2006.671,36,0)
Ribs
"DATA",2006.671,37,0)
S-Spine
"DATA",2006.671,38,0)
Scrotum
"DATA",2006.671,39,0)
Shoulder
"DATA",2006.671,40,0)
Single organ
"DATA",2006.671,41,0)
Sinus
"DATA",2006.671,42,0)
Small Bowel
"DATA",2006.671,43,0)
Spine
"DATA",2006.671,44,0)
Sternum
"DATA",2006.671,45,0)
Stomach
"DATA",2006.671,46,0)
T-Spine
"DATA",2006.671,47,0)
Testicle
"DATA",2006.671,48,0)
Thorax
"DATA",2006.671,49,0)
Transplant Kidney
"DATA",2006.671,50,0)
Upper Extremity
"DATA",2006.671,51,0)
Uterus
"DATA",2006.671,52,0)
Vertebrae
"DATA",2006.672,1,0)
Abdomen
"DATA",2006.672,2,0)
Abdomen & Retroperitoneum
"DATA",2006.672,3,0)
Aorta & Arteries
"DATA",2006.672,4,0)
Chest
"DATA",2006.672,5,0)
Extremeties
"DATA",2006.672,6,0)
Gastrointrestinal Tract
"DATA",2006.672,7,0)
Gynecological & Obstetrical
"DATA",2006.672,8,0)
Head & Neck
"DATA",2006.672,9,0)
Lower Extremeties
"DATA",2006.672,10,0)
Neck
"DATA",2006.672,11,0)
Pelvis/Genitalia
"DATA",2006.672,12,0)
Pelvis/Non-Obstetrical
"DATA",2006.672,13,0)
Pelvis/Obstetrical
"DATA",2006.672,14,0)
Spinal Canal
"DATA",2006.672,15,0)
Spine & Pelvis
"DATA",2006.672,16,0)
Upper Extremeties
"DATA",2006.672,17,0)
Urinary Tract
"DATA",2006.672,18,0)
Veins & Lymphatics
"DATA",2006.68,1,0)
POSTMASTER^.5^0
"DATA",2006.68,1,"VR-HP",0)
^2006.683A^111^37
"DATA",2006.68,1,"VR-HP",1,0)
MON1_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",1,1,0)
^2006.6821^4^4
"DATA",2006.68,1,"VR-HP",1,1,1,0)
<TEMPLATE name="MON1_SYS_INT_TP" createdBy=".5" nrOfMonitors="1" MonitorWidth="-1" MonitorHeight="-1">
"DATA",2006.68,1,"VR-HP",1,1,2,0)
<vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",1,1,3,0)
<vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",1,1,4,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",2,0)
MON2_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",2,1,0)
^2006.6821^6^6
"DATA",2006.68,1,"VR-HP",2,1,1,0)
<TEMPLATE name="MON2_SYS_INT_TP" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1">
"DATA",2006.68,1,"VR-HP",2,1,2,0)
<vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="2:50.00,50.00">
"DATA",2006.68,1,"VR-HP",2,1,3,0)
<vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",2,1,4,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport>
"DATA",2006.68,1,"VR-HP",2,1,5,0)
<vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",2,1,6,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",3,0)
MON3_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",3,1,0)
^2006.6821^8^8
"DATA",2006.68,1,"VR-HP",3,1,1,0)
<TEMPLATE name="MON3_SYS_INT_TP" createdBy=".5" nrOfMonitors="3" MonitorWidth="-1" MonitorHeight="-1">
"DATA",2006.68,1,"VR-HP",3,1,2,0)
<vport rowPos="1" colPos="1" rows="1" cols="3" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="3:33.33,33.33,33.33">
"DATA",2006.68,1,"VR-HP",3,1,3,0)
<vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",3,1,4,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport>
"DATA",2006.68,1,"VR-HP",3,1,5,0)
<vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",3,1,6,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport>
"DATA",2006.68,1,"VR-HP",3,1,7,0)
<vport rowPos="1" colPos="3" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",3,1,8,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",4,0)
MON4_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",4,1,0)
^2006.6821^10^10
"DATA",2006.68,1,"VR-HP",4,1,1,0)
<TEMPLATE name="MON4_SYS_INT_TP" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1">
"DATA",2006.68,1,"VR-HP",4,1,2,0)
<vport rowPos="1" colPos="1" rows="1" cols="4" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="4:25.00,25.00,25.00,25.00">
"DATA",2006.68,1,"VR-HP",4,1,3,0)
<vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",4,1,4,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport>
"DATA",2006.68,1,"VR-HP",4,1,5,0)
<vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",4,1,6,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport>
"DATA",2006.68,1,"VR-HP",4,1,7,0)
<vport rowPos="1" colPos="3" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",4,1,8,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport>
"DATA",2006.68,1,"VR-HP",4,1,9,0)
<vport rowPos="1" colPos="4" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00">
"DATA",2006.68,1,"VR-HP",4,1,10,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs=""/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",6,0)
CRSYS_INT_HP
"DATA",2006.68,1,"VR-HP",6,1,0)
^2006.6821^10^10
"DATA",2006.68,1,"VR-HP",6,1,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",6,1,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">CR</SV>
"DATA",2006.68,1,"VR-HP",6,1,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",6,1,4,0)
<HP name="CRSYS_INT_HP" level="SITE_DEFAULT" createdBy=".5"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1">
"DATA",2006.68,1,"VR-HP",6,1,5,0)
<SearchDesc desc=""><ExactMatch>1</ExactMatch><SV attrName="MODALITY" attrTag="fffffff4">CR</SV>
"DATA",2006.68,1,"VR-HP",6,1,6,0)
<SV attrName="MODALITY" attrTag="fffffff4">DX</SV>
"DATA",2006.68,1,"VR-HP",6,1,7,0)
<TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc>
"DATA",2006.68,1,"VR-HP",6,1,8,0)
<Study stdIndex="1" splitToSeriesBySerIUID="0"><StudySplit studySplitIndex="1"><Modality>CR</Modality><Modality>DX</Modality>
"DATA",2006.68,1,"VR-HP",6,1,9,0)
<Selector attrName="SOP IUID" attrTag="00080018"/></StudySplit></Study></ImgSetSeqItem></ImgSetSeq>
"DATA",2006.68,1,"VR-HP",6,1,10,0)
</HPDefinition><HPDisplay><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",6,2,0)
^2006.6823^3^3
"DATA",2006.68,1,"VR-HP",6,2,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",6,2,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">CR</SV>
"DATA",2006.68,1,"VR-HP",6,2,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",7,0)
MODMatchAllSYS_INT_HP
"DATA",2006.68,1,"VR-HP",7,1,0)
^2006.6821^10^10
"DATA",2006.68,1,"VR-HP",7,1,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",7,1,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">Match Any</SV>
"DATA",2006.68,1,"VR-HP",7,1,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",7,1,4,0)
<HP name="MODMatchAllSYS_INT_HP" level="SITE_DEFAULT" createdBy=".5">
"DATA",2006.68,1,"VR-HP",7,1,5,0)
<HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExactMatch>1</ExactMatch>
"DATA",2006.68,1,"VR-HP",7,1,6,0)
<SV attrName="MODALITY" attrTag="fffffff4">Match Any</SV>
"DATA",2006.68,1,"VR-HP",7,1,7,0)
<TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc>
"DATA",2006.68,1,"VR-HP",7,1,8,0)
<Study stdIndex="1" splitToSeriesBySerIUID="1"><StudySplit studySplitIndex="1"><Modality>Match Any</Modality>
"DATA",2006.68,1,"VR-HP",7,1,9,0)
<Selector attrName="Modality" attrTag="00080060"/></StudySplit></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition>
"DATA",2006.68,1,"VR-HP",7,1,10,0)
<HPDisplay><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",7,2,0)
^2006.6823^3^3
"DATA",2006.68,1,"VR-HP",7,2,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",7,2,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">Match Any</SV>
"DATA",2006.68,1,"VR-HP",7,2,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",8,0)
CTSYS_INT_HP
"DATA",2006.68,1,"VR-HP",8,1,0)
^2006.6821^8^8
"DATA",2006.68,1,"VR-HP",8,1,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",8,1,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">CT</SV>
"DATA",2006.68,1,"VR-HP",8,1,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",8,1,4,0)
<HP name="CTSYS_INT_HP" level="SITE_DEFAULT" createdBy=".5"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1">
"DATA",2006.68,1,"VR-HP",8,1,5,0)
<SearchDesc desc=""><ExactMatch>1</ExactMatch><SV attrName="MODALITY" attrTag="fffffff4">CT</SV>
"DATA",2006.68,1,"VR-HP",8,1,6,0)
<TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc>
"DATA",2006.68,1,"VR-HP",8,1,7,0)
<Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"></Study></ImgSetSeqItem></ImgSetSeq>
"DATA",2006.68,1,"VR-HP",8,1,8,0)
</HPDefinition><HPDisplay><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",8,2,0)
^2006.6823^3^3
"DATA",2006.68,1,"VR-HP",8,2,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",8,2,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">CT</SV>
"DATA",2006.68,1,"VR-HP",8,2,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",9,0)
MRSYS_INT_HP
"DATA",2006.68,1,"VR-HP",9,1,0)
^2006.6821^8^8
"DATA",2006.68,1,"VR-HP",9,1,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",9,1,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">MR</SV>
"DATA",2006.68,1,"VR-HP",9,1,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",9,1,4,0)
<HP name="MRSYS_INT_HP" level="SITE_DEFAULT" createdBy=".5"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1">
"DATA",2006.68,1,"VR-HP",9,1,5,0)
<SearchDesc desc=""><ExactMatch>1</ExactMatch><SV attrName="MODALITY" attrTag="fffffff4">MR</SV>
"DATA",2006.68,1,"VR-HP",9,1,6,0)
<TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc>
"DATA",2006.68,1,"VR-HP",9,1,7,0)
<Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"></Study></ImgSetSeqItem></ImgSetSeq>
"DATA",2006.68,1,"VR-HP",9,1,8,0)
</HPDefinition><HPDisplay><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",9,2,0)
^2006.6823^3^3
"DATA",2006.68,1,"VR-HP",9,2,1,0)
*KEY
"DATA",2006.68,1,"VR-HP",9,2,2,0)
<SV attrName="MODALITY" attrTag="fffffff4">MR</SV>
"DATA",2006.68,1,"VR-HP",9,2,3,0)
*END_KEY
"DATA",2006.68,1,"VR-HP",14,0)
1-up_2-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",14,1,0)
^2006.6821^5^5
"DATA",2006.68,1,"VR-HP",14,1,1,0)
<TEMPLATE name="1-up_2-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="2:50.00
"DATA",2006.68,1,"VR-HP",14,1,2,0)
,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" t
"DATA",2006.68,1,"VR-HP",14,1,3,0)
op="0" rowtabs="" coltabs="" MonCount="1"/></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="1" w
"DATA",2006.68,1,"VR-HP",14,1,4,0)
idth="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" col
"DATA",2006.68,1,"VR-HP",14,1,5,0)
Pos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",21,0)
9-up_9-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",21,1,0)
^2006.6821^14^14
"DATA",2006.68,1,"VR-HP",21,1,1,0)
<TEMPLATE name="9-up_9-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="2:50.00
"DATA",2006.68,1,"VR-HP",21,1,2,0)
,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" height="0" left="0" t
"DATA",2006.68,1,"VR-HP",21,1,3,0)
op="0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows=
"DATA",2006.68,1,"VR-HP",21,1,4,0)
"0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1
"DATA",2006.68,1,"VR-HP",21,1,5,0)
" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" co
"DATA",2006.68,1,"VR-HP",21,1,6,0)
lPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos
"DATA",2006.68,1,"VR-HP",21,1,7,0)
="3" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vpor
"DATA",2006.68,1,"VR-HP",21,1,8,0)
t></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" height="0" left="0" top="0" rowt
"DATA",2006.68,1,"VR-HP",21,1,9,0)
abs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0
"DATA",2006.68,1,"VR-HP",21,1,10,0)
" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" 
"DATA",2006.68,1,"VR-HP",21,1,11,0)
cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="3" ro
"DATA",2006.68,1,"VR-HP",21,1,12,0)
ws="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos
"DATA",2006.68,1,"VR-HP",21,1,13,0)
="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport><
"DATA",2006.68,1,"VR-HP",21,1,14,0)
/vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",26,0)
9-up_4-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",26,1,0)
^2006.6821^11^11
"DATA",2006.68,1,"VR-HP",26,1,1,0)
<TEMPLATE name="9-up_4-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="2:
"DATA",2006.68,1,"VR-HP",26,1,2,0)
50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" height="0" left=
"DATA",2006.68,1,"VR-HP",26,1,3,0)
"0" top="0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" 
"DATA",2006.68,1,"VR-HP",26,1,4,0)
rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colP
"DATA",2006.68,1,"VR-HP",26,1,5,0)
os="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="
"DATA",2006.68,1,"VR-HP",26,1,6,0)
2" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport r
"DATA",2006.68,1,"VR-HP",26,1,7,0)
owPos="3" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><
"DATA",2006.68,1,"VR-HP",26,1,8,0)
/vport></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="2" width="0" height="0" left="0" top="0"
"DATA",2006.68,1,"VR-HP",26,1,9,0)
 rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0" width
"DATA",2006.68,1,"VR-HP",26,1,10,0)
="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0
"DATA",2006.68,1,"VR-HP",26,1,11,0)
" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",27,0)
1-up_1-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",27,1,0)
^2006.6821^4^4
"DATA",2006.68,1,"VR-HP",27,1,1,0)
<TEMPLATE name="1-up_1-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="2:
"DATA",2006.68,1,"VR-HP",27,1,2,0)
50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left=
"DATA",2006.68,1,"VR-HP",27,1,3,0)
"0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols=
"DATA",2006.68,1,"VR-HP",27,1,4,0)
"0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",29,0)
4-up_4-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",29,1,0)
^2006.6821^8^8
"DATA",2006.68,1,"VR-HP",29,1,1,0)
<TEMPLATE name="4-up_4-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="2:50.00
"DATA",2006.68,1,"VR-HP",29,1,2,0)
,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="2" width="0" height="0" left="0" t
"DATA",2006.68,1,"VR-HP",29,1,3,0)
op="0" rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0"
"DATA",2006.68,1,"VR-HP",29,1,4,0)
 width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" c
"DATA",2006.68,1,"VR-HP",29,1,5,0)
ols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><
"DATA",2006.68,1,"VR-HP",29,1,6,0)
vport rowPos="1" colPos="1" rows="2" cols="2" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowta
"DATA",2006.68,1,"VR-HP",29,1,7,0)
bs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0
"DATA",2006.68,1,"VR-HP",29,1,8,0)
" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",36,0)
CT_2-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",36,1,0)
^2006.6821^44^44
"DATA",2006.68,1,"VR-HP",36,1,1,0)
<HP name="CT_2-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALITY" attr
"DATA",2006.68,1,"VR-HP",36,1,2,0)
Tag="fffffff4">CT</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality><
"DATA",2006.68,1,"VR-HP",36,1,3,0)
/StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex
"DATA",2006.68,1,"VR-HP",36,1,4,0)
="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplitIndex="1" cloneSrc="2" mImgSet="0"/><Series serIndex="6" localizer="0" 
"DATA",2006.68,1,"VR-HP",36,1,5,0)
serStudySplitIndex="1" cloneSrc="3" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorInde
"DATA",2006.68,1,"VR-HP",36,1,6,0)
x="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" clon
"DATA",2006.68,1,"VR-HP",36,1,7,0)
eSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem ind
"DATA",2006.68,1,"VR-HP",36,1,8,0)
ex="3"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="2" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="
"DATA",2006.68,1,"VR-HP",36,1,9,0)
1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="
"DATA",2006.68,1,"VR-HP",36,1,10,0)
-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="9-up_4-up_SYS_INT_TP^.5"><DispSe
"DATA",2006.68,1,"VR-HP",36,1,11,0)
tSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" la
"DATA",2006.68,1,"VR-HP",36,1,12,0)
rgeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv=
"DATA",2006.68,1,"VR-HP",36,1,13,0)
"0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK
"DATA",2006.68,1,"VR-HP",36,1,14,0)
" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" Fit
"DATA",2006.68,1,"VR-HP",36,1,15,0)
ToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemInd
"DATA",2006.68,1,"VR-HP",36,1,16,0)
ex="1" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|1,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" 
"DATA",2006.68,1,"VR-HP",36,1,17,0)
playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sort
"DATA",2006.68,1,"VR-HP",36,1,18,0)
Type="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERT
"DATA",2006.68,1,"VR-HP",36,1,19,0)
ICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" Ro
"DATA",2006.68,1,"VR-HP",36,1,20,0)
tateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBox
"DATA",2006.68,1,"VR-HP",36,1,21,0)
Property position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpee
"DATA",2006.68,1,"VR-HP",36,1,22,0)
d="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqIt
"DATA",2006.68,1,"VR-HP",36,1,23,0)
em><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|2,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmo
"DATA",2006.68,1,"VR-HP",36,1,24,0)
unt="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Shar
"DATA",2006.68,1,"VR-HP",36,1,25,0)
p="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|3,1" layoutT
"DATA",2006.68,1,"VR-HP",36,1,26,0)
ype="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window
"DATA",2006.68,1,"VR-HP",36,1,27,0)
="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="8"><ImgSetUsed 
"DATA",2006.68,1,"VR-HP",36,1,28,0)
seqItemIndex="3" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|3,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollA
"DATA",2006.68,1,"VR-HP",36,1,29,0)
mount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDi
"DATA",2006.68,1,"VR-HP",36,1,30,0)
r="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="9"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|3,3" layoutType="STACK" tileRows="0" tileCols="0" scrol
"DATA",2006.68,1,"VR-HP",36,1,31,0)
lDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipT
"DATA",2006.68,1,"VR-HP",36,1,32,0)
ype="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="4-up_4-up_SYS_INT_TP^.5"><Dis
"DATA",2006.68,1,"VR-HP",36,1,33,0)
pSetSeqItem dsIndex="10"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0
"DATA",2006.68,1,"VR-HP",36,1,34,0)
" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" 
"DATA",2006.68,1,"VR-HP",36,1,35,0)
Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="11"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="
"DATA",2006.68,1,"VR-HP",36,1,36,0)
STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500
"DATA",2006.68,1,"VR-HP",36,1,37,0)
" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="12"><ImgSetUsed seqI
"DATA",2006.68,1,"VR-HP",36,1,38,0)
temIndex="1" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmoun
"DATA",2006.68,1,"VR-HP",36,1,39,0)
t="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0
"DATA",2006.68,1,"VR-HP",36,1,40,0)
" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups><LinkGroup linkOptions="46" linkType="0" id="1" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="1"/><Stack nPresentGroupIndex="1" nDisplayInde
"DATA",2006.68,1,"VR-HP",36,1,41,0)
x="2"/><Stack nPresentGroupIndex="1" nDisplayIndex="3"/></LinkGroup><LinkGroup linkOptions="46" linkType="0" id="2" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="4"/><Stack nPresentGroupIndex="1" nDisplayIndex="5"/><Stack nP
"DATA",2006.68,1,"VR-HP",36,1,42,0)
resentGroupIndex="1" nDisplayIndex="6"/></LinkGroup><LinkGroup linkOptions="46" linkType="0" id="3" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="7"/><Stack nPresentGroupIndex="1" nDisplayIndex="8"/><Stack nPresentGroupIndex
"DATA",2006.68,1,"VR-HP",36,1,43,0)
="1" nDisplayIndex="9"/></LinkGroup><LinkGroup linkOptions="46" linkType="0" id="4" pgIndex="2"><Stack nPresentGroupIndex="2" nDisplayIndex="10"/><Stack nPresentGroupIndex="2" nDisplayIndex="11"/><Stack nPresentGroupIndex="2" nDisplayI
"DATA",2006.68,1,"VR-HP",36,1,44,0)
ndex="12"/></LinkGroup></LinkGroups></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",77,0)
XA_2-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",77,1,0)
^2006.6821^50^50
"DATA",2006.68,1,"VR-HP",77,1,1,0)
<HP name="XA_2-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><SV attrName="MODALITY" att
"DATA",2006.68,1,"VR-HP",77,1,2,0)
rTag="fffffff4">XA</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="1"><StudySplit studySplitIndex="1"><Modality>XA</Modality>
"DATA",2006.68,1,"VR-HP",77,1,3,0)
</StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitInde
"DATA",2006.68,1,"VR-HP",77,1,4,0)
x="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="6" localizer="0
"DATA",2006.68,1,"VR-HP",77,1,5,0)
" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="7" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="8" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIn
"DATA",2006.68,1,"VR-HP",77,1,6,0)
dex="9" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="10" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="11" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImg
"DATA",2006.68,1,"VR-HP",77,1,7,0)
Set="0"/><Series serIndex="12" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="" label="">
"DATA",2006.68,1,"VR-HP",77,1,8,0)
0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="1"/></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRI
"DATA",2006.68,1,"VR-HP",77,1,9,0)
OR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>XA</Modality></StudySplit><Series serIndex="1" localiz
"DATA",2006.68,1,"VR-HP",77,1,10,0)
er="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series 
"DATA",2006.68,1,"VR-HP",77,1,11,0)
serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="4-up_4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUs
"DATA",2006.68,1,"VR-HP",77,1,12,0)
ed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScro
"DATA",2006.68,1,"VR-HP",77,1,13,0)
llAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sor
"DATA",2006.68,1,"VR-HP",77,1,14,0)
tDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" sc
"DATA",2006.68,1,"VR-HP",77,1,15,0)
rollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" Fl
"DATA",2006.68,1,"VR-HP",77,1,16,0)
ipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="
"DATA",2006.68,1,"VR-HP",77,1,17,0)
3"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORW
"DATA",2006.68,1,"VR-HP",77,1,18,0)
ARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty><
"DATA",2006.68,1,"VR-HP",77,1,19,0)
/DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" s
"DATA",2006.68,1,"VR-HP",77,1,20,0)
mallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLT
"DATA",2006.68,1,"VR-HP",77,1,21,0)
ype="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1
"DATA",2006.68,1,"VR-HP",77,1,22,0)
|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level
"DATA",2006.68,1,"VR-HP",77,1,23,0)
="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"
"DATA",2006.68,1,"VR-HP",77,1,24,0)
><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,2|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE"
"DATA",2006.68,1,"VR-HP",77,1,25,0)
 largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><S
"DATA",2006.68,1,"VR-HP",77,1,26,0)
orting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="1" tileC
"DATA",2006.68,1,"VR-HP",77,1,27,0)
ols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.
"DATA",2006.68,1,"VR-HP",77,1,28,0)
000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="8"><ImgSetUsed seqItemIndex="3" stdIndex="1" 
"DATA",2006.68,1,"VR-HP",77,1,29,0)
serIndex="4"/><ImageBoxProperty position="0,0|1,2|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cin
"DATA",2006.68,1,"VR-HP",77,1,30,0)
eDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBox
"DATA",2006.68,1,"VR-HP",77,1,31,0)
Property></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="4-up_4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="9"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" l
"DATA",2006.68,1,"VR-HP",77,1,32,0)
ayoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" 
"DATA",2006.68,1,"VR-HP",77,1,33,0)
Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="10"><ImgS
"DATA",2006.68,1,"VR-HP",77,1,34,0)
etUsed seqItemIndex="1" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" large
"DATA",2006.68,1,"VR-HP",77,1,35,0)
ScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting
"DATA",2006.68,1,"VR-HP",77,1,36,0)
 sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="11"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="7"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="
"DATA",2006.68,1,"VR-HP",77,1,37,0)
1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.00000
"DATA",2006.68,1,"VR-HP",77,1,38,0)
0" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="12"><ImgSetUsed seqItemIndex="1" stdIndex="1" serI
"DATA",2006.68,1,"VR-HP",77,1,39,0)
ndex="8"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir
"DATA",2006.68,1,"VR-HP",77,1,40,0)
="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProp
"DATA",2006.68,1,"VR-HP",77,1,41,0)
erty></DispSetSeqItem><DispSetSeqItem dsIndex="13"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="9"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="
"DATA",2006.68,1,"VR-HP",77,1,42,0)
PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName
"DATA",2006.68,1,"VR-HP",77,1,43,0)
="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="14"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="10"/><ImageBoxProperty position="0,
"DATA",2006.68,1,"VR-HP",77,1,44,0)
0|1,2|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient
"DATA",2006.68,1,"VR-HP",77,1,45,0)
="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem ds
"DATA",2006.68,1,"VR-HP",77,1,46,0)
Index="15"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="11"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScroll
"DATA",2006.68,1,"VR-HP",77,1,47,0)
Type="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppTo
"DATA",2006.68,1,"VR-HP",77,1,48,0)
All="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="16"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="12"/><ImageBoxProperty position="0,0|1,2|1,1|2,2" layoutType="STACK" tileR
"DATA",2006.68,1,"VR-HP",77,1,49,0)
ows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize=
"DATA",2006.68,1,"VR-HP",77,1,50,0)
"1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",79,0)
GenRad_2-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",79,1,0)
^2006.6821^18^18
"DATA",2006.68,1,"VR-HP",79,1,1,0)
<HP name="GenRad_2-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex
"DATA",2006.68,1,"VR-HP",79,1,2,0)
="1" type="" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"/></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>1</Def><SV attrName="MODALITY" attrTag="ff
"DATA",2006.68,1,"VR-HP",79,1,3,0)
fffff4">CR</SV><SV attrName="MODALITY" attrTag="fffffff4">DX</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIn
"DATA",2006.68,1,"VR-HP",79,1,4,0)
dex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/><Series serIndex="2" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>1
"DATA",2006.68,1,"VR-HP",79,1,5,0)
</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1"
"DATA",2006.68,1,"VR-HP",79,1,6,0)
 localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="4"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" 
"DATA",2006.68,1,"VR-HP",79,1,7,0)
max="2" priorIndex="2" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem></I
"DATA",2006.68,1,"VR-HP",79,1,8,0)
mgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="1-up_2-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="STAC
"DATA",2006.68,1,"VR-HP",79,1,9,0)
K" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" Fi
"DATA",2006.68,1,"VR-HP",79,1,10,0)
tToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIn
"DATA",2006.68,1,"VR-HP",79,1,11,0)
dex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0"
"DATA",2006.68,1,"VR-HP",79,1,12,0)
 playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sor
"DATA",2006.68,1,"VR-HP",79,1,13,0)
tType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="4" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VER
"DATA",2006.68,1,"VR-HP",79,1,14,0)
TICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" R
"DATA",2006.68,1,"VR-HP",79,1,15,0)
otateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="Wide-2_SYS_INT_TP^.5"><DispSetSeqIt
"DATA",2006.68,1,"VR-HP",79,1,16,0)
em dsIndex="4"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollT
"DATA",2006.68,1,"VR-HP",79,1,17,0)
ype="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToA
"DATA",2006.68,1,"VR-HP",79,1,18,0)
ll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",80,0)
MR_2-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",80,1,0)
^2006.6821^106^106
"DATA",2006.68,1,"VR-HP",80,1,1,0)
<HP name="MR_2-hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>1</Def><SV attrName="MODALITY" at
"DATA",2006.68,1,"VR-HP",80,1,2,0)
trTag="fffffff4">MR</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>MR</Modality
"DATA",2006.68,1,"VR-HP",80,1,3,0)
></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitInd
"DATA",2006.68,1,"VR-HP",80,1,4,0)
ex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="6" localizer=
"DATA",2006.68,1,"VR-HP",80,1,5,0)
"0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="7" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="8" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series ser
"DATA",2006.68,1,"VR-HP",80,1,6,0)
Index="9" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="10" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="11" localizer="0" serStudySplitIndex="1" cloneSrc="2" mImg
"DATA",2006.68,1,"VR-HP",80,1,7,0)
Set="0"/><Series serIndex="12" localizer="0" serStudySplitIndex="1" cloneSrc="3" mImgSet="0"/><Series serIndex="13" localizer="0" serStudySplitIndex="1" cloneSrc="4" mImgSet="0"/><Series serIndex="14" localizer="0" serStudySplitIndex="
"DATA",2006.68,1,"VR-HP",80,1,8,0)
1" cloneSrc="5" mImgSet="0"/><Series serIndex="15" localizer="0" serStudySplitIndex="1" cloneSrc="6" mImgSet="0"/><Series serIndex="16" localizer="0" serStudySplitIndex="1" cloneSrc="7" mImgSet="0"/><Series serIndex="17" localizer="0" 
"DATA",2006.68,1,"VR-HP",80,1,9,0)
serStudySplitIndex="1" cloneSrc="8" mImgSet="0"/><Series serIndex="18" localizer="0" serStudySplitIndex="1" cloneSrc="9" mImgSet="0"/><Series serIndex="19" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serInde
"DATA",2006.68,1,"VR-HP",80,1,10,0)
x="20" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="21" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="22" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgS
"DATA",2006.68,1,"VR-HP",80,1,11,0)
et="0"/><Series serIndex="23" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="24" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="25" localizer="0" serStudySplitIndex=
"DATA",2006.68,1,"VR-HP",80,1,12,0)
"1" cloneSrc="-1" mImgSet="0"/><Series serIndex="26" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="27" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetS
"DATA",2006.68,1,"VR-HP",80,1,13,0)
eqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="1" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesB
"DATA",2006.68,1,"VR-HP",80,1,14,0)
ySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>MR</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" 
"DATA",2006.68,1,"VR-HP",80,1,15,0)
cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="5" localizer="0" ser
"DATA",2006.68,1,"VR-HP",80,1,16,0)
StudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="6" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="7" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="
"DATA",2006.68,1,"VR-HP",80,1,17,0)
8" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="9" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>0</ExMa>
"DATA",2006.68,1,"VR-HP",80,1,18,0)
<Def>0</Def><TimeBaseValue stdIndex="1" type="" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"/></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templat
"DATA",2006.68,1,"VR-HP",80,1,19,0)
eUsed="9-up_9-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollTyp
"DATA",2006.68,1,"VR-HP",80,1,20,0)
e="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetN
"DATA",2006.68,1,"VR-HP",80,1,21,0)
ame="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0
"DATA",2006.68,1,"VR-HP",80,1,22,0)
,0|1,1|1,1|1,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrien
"DATA",2006.68,1,"VR-HP",80,1,23,0)
t="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem d
"DATA",2006.68,1,"VR-HP",80,1,24,0)
sIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|1,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollT
"DATA",2006.68,1,"VR-HP",80,1,25,0)
ype="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToA
"DATA",2006.68,1,"VR-HP",80,1,26,0)
ll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows
"DATA",2006.68,1,"VR-HP",80,1,27,0)
="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1"
"DATA",2006.68,1,"VR-HP",80,1,28,0)
 Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="1" std
"DATA",2006.68,1,"VR-HP",80,1,29,0)
Index="1" serIndex="5"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSe
"DATA",2006.68,1,"VR-HP",80,1,30,0)
qu="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/>
"DATA",2006.68,1,"VR-HP",80,1,31,0)
</ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,1|1,1|2,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smal
"DATA",2006.68,1,"VR-HP",80,1,32,0)
lScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="
"DATA",2006.68,1,"VR-HP",80,1,33,0)
0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="7"/><ImageBoxProperty p
"DATA",2006.68,1,"VR-HP",80,1,34,0)
osition="0,0|1,1|1,1|3,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" Pa
"DATA",2006.68,1,"VR-HP",80,1,35,0)
tientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSe
"DATA",2006.68,1,"VR-HP",80,1,36,0)
tSeqItem dsIndex="8"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="8"/><ImageBoxProperty position="0,0|1,1|1,1|3,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" la
"DATA",2006.68,1,"VR-HP",80,1,37,0)
rgeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv=
"DATA",2006.68,1,"VR-HP",80,1,38,0)
"0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="9"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="9"/><ImageBoxProperty position="0,0|1,1|1,1|3,3" layoutType="STACK
"DATA",2006.68,1,"VR-HP",80,1,39,0)
" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" Fit
"DATA",2006.68,1,"VR-HP",80,1,40,0)
ToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="10"><ImgSetUsed seqItemIn
"DATA",2006.68,1,"VR-HP",80,1,41,0)
dex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0"
"DATA",2006.68,1,"VR-HP",80,1,42,0)
 playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sor
"DATA",2006.68,1,"VR-HP",80,1,43,0)
tType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="11"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,2|1,1|1,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VE
"DATA",2006.68,1,"VR-HP",80,1,44,0)
RTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" 
"DATA",2006.68,1,"VR-HP",80,1,45,0)
RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="12"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="3"/><Image
"DATA",2006.68,1,"VR-HP",80,1,46,0)
BoxProperty position="0,0|1,2|1,1|1,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineS
"DATA",2006.68,1,"VR-HP",80,1,47,0)
peed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSe
"DATA",2006.68,1,"VR-HP",80,1,48,0)
qItem><DispSetSeqItem dsIndex="13"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrol
"DATA",2006.68,1,"VR-HP",80,1,49,0)
lAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" 
"DATA",2006.68,1,"VR-HP",80,1,50,0)
Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="14"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,2|1,1|2,2" la
"DATA",2006.68,1,"VR-HP",80,1,51,0)
youtType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" W
"DATA",2006.68,1,"VR-HP",80,1,52,0)
indow="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="15"><ImgSe
"DATA",2006.68,1,"VR-HP",80,1,53,0)
tUsed seqItemIndex="2" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,2|1,1|2,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeS
"DATA",2006.68,1,"VR-HP",80,1,54,0)
crollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting 
"DATA",2006.68,1,"VR-HP",80,1,55,0)
sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="16"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="7"/><ImageBoxProperty position="0,0|1,2|1,1|3,1" layoutType="STACK" tileRows="0" tileCols="0
"DATA",2006.68,1,"VR-HP",80,1,56,0)
" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000
"DATA",2006.68,1,"VR-HP",80,1,57,0)
" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="17"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIn
"DATA",2006.68,1,"VR-HP",80,1,58,0)
dex="8"/><ImageBoxProperty position="0,0|1,2|1,1|3,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir=
"DATA",2006.68,1,"VR-HP",80,1,59,0)
"FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxPrope
"DATA",2006.68,1,"VR-HP",80,1,60,0)
rty></DispSetSeqItem><DispSetSeqItem dsIndex="18"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="9"/><ImageBoxProperty position="0,0|1,2|1,1|3,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="P
"DATA",2006.68,1,"VR-HP",80,1,61,0)
AGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName=
"DATA",2006.68,1,"VR-HP",80,1,62,0)
"" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="9-up_9-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="19"><ImgSetUs
"DATA",2006.68,1,"VR-HP",80,1,63,0)
ed seqItemIndex="1" stdIndex="1" serIndex="10"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScr
"DATA",2006.68,1,"VR-HP",80,1,64,0)
ollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting so
"DATA",2006.68,1,"VR-HP",80,1,65,0)
rtDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="20"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="11"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="0" tileCols="0"
"DATA",2006.68,1,"VR-HP",80,1,66,0)
 scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000"
"DATA",2006.68,1,"VR-HP",80,1,67,0)
 FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="21"><ImgSetUsed seqItemIndex="1" stdIndex="1" serInd
"DATA",2006.68,1,"VR-HP",80,1,68,0)
ex="12"/><ImageBoxProperty position="0,0|1,1|1,1|1,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir=
"DATA",2006.68,1,"VR-HP",80,1,69,0)
"FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxPrope
"DATA",2006.68,1,"VR-HP",80,1,70,0)
rty></DispSetSeqItem><DispSetSeqItem dsIndex="22"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="13"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="
"DATA",2006.68,1,"VR-HP",80,1,71,0)
PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName
"DATA",2006.68,1,"VR-HP",80,1,72,0)
="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="23"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="14"/><ImageBoxProperty position="0,
"DATA",2006.68,1,"VR-HP",80,1,73,0)
0|1,1|1,1|2,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient
"DATA",2006.68,1,"VR-HP",80,1,74,0)
="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem ds
"DATA",2006.68,1,"VR-HP",80,1,75,0)
Index="24"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="15"/><ImageBoxProperty position="0,0|1,1|1,1|2,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScroll
"DATA",2006.68,1,"VR-HP",80,1,76,0)
Type="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppTo
"DATA",2006.68,1,"VR-HP",80,1,77,0)
All="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="25"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="16"/><ImageBoxProperty position="0,0|1,1|1,1|3,1" layoutType="STACK" tileR
"DATA",2006.68,1,"VR-HP",80,1,78,0)
ows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize=
"DATA",2006.68,1,"VR-HP",80,1,79,0)
"1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="26"><ImgSetUsed seqItemIndex="1"
"DATA",2006.68,1,"VR-HP",80,1,80,0)
 stdIndex="1" serIndex="17"/><ImageBoxProperty position="0,0|1,1|1,1|3,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playb
"DATA",2006.68,1,"VR-HP",80,1,81,0)
ackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType=
"DATA",2006.68,1,"VR-HP",80,1,82,0)
"4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="27"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="18"/><ImageBoxProperty position="0,0|1,1|1,1|3,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICA
"DATA",2006.68,1,"VR-HP",80,1,83,0)
L" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" Rotat
"DATA",2006.68,1,"VR-HP",80,1,84,0)
eType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="28"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="19"/><ImageBoxP
"DATA",2006.68,1,"VR-HP",80,1,85,0)
roperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed
"DATA",2006.68,1,"VR-HP",80,1,86,0)
="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqIte
"DATA",2006.68,1,"VR-HP",80,1,87,0)
m><DispSetSeqItem dsIndex="29"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="20"/><ImageBoxProperty position="0,0|1,2|1,1|1,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAm
"DATA",2006.68,1,"VR-HP",80,1,88,0)
ount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sha
"DATA",2006.68,1,"VR-HP",80,1,89,0)
rp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="30"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="21"/><ImageBoxProperty position="0,0|1,2|1,1|1,3" layo
"DATA",2006.68,1,"VR-HP",80,1,90,0)
utType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Win
"DATA",2006.68,1,"VR-HP",80,1,91,0)
dow="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="31"><ImgSetU
"DATA",2006.68,1,"VR-HP",80,1,92,0)
sed seqItemIndex="1" stdIndex="1" serIndex="22"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeSc
"DATA",2006.68,1,"VR-HP",80,1,93,0)
rollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting s
"DATA",2006.68,1,"VR-HP",80,1,94,0)
ortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="32"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="23"/><ImageBoxProperty position="0,0|1,2|1,1|2,2" layoutType="STACK" tileRows="0" tileCols="0
"DATA",2006.68,1,"VR-HP",80,1,95,0)
" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000
"DATA",2006.68,1,"VR-HP",80,1,96,0)
" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="33"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIn
"DATA",2006.68,1,"VR-HP",80,1,97,0)
dex="24"/><ImageBoxProperty position="0,0|1,2|1,1|2,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir
"DATA",2006.68,1,"VR-HP",80,1,98,0)
="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProp
"DATA",2006.68,1,"VR-HP",80,1,99,0)
erty></DispSetSeqItem><DispSetSeqItem dsIndex="34"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="25"/><ImageBoxProperty position="0,0|1,2|1,1|3,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType=
"DATA",2006.68,1,"VR-HP",80,1,100,0)
"PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetNam
"DATA",2006.68,1,"VR-HP",80,1,101,0)
e="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="35"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="26"/><ImageBoxProperty position="0
"DATA",2006.68,1,"VR-HP",80,1,102,0)
,0|1,2|1,1|3,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrien
"DATA",2006.68,1,"VR-HP",80,1,103,0)
t="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem d
"DATA",2006.68,1,"VR-HP",80,1,104,0)
sIndex="36"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="27"/><ImageBoxProperty position="0,0|1,2|1,1|3,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrol
"DATA",2006.68,1,"VR-HP",80,1,105,0)
lType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppT
"DATA",2006.68,1,"VR-HP",80,1,106,0)
oAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",81,0)
US_2-Hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",81,1,0)
^2006.6821^13^13
"DATA",2006.68,1,"VR-HP",81,1,1,0)
<HP name="US_2-Hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>0</ExMa><Def>1</Def><SV attrName="MODALITY" a
"DATA",2006.68,1,"VR-HP",81,1,2,0)
ttrTag="fffffff4">US</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>US</Modalit
"DATA",2006.68,1,"VR-HP",81,1,3,0)
y></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><S
"DATA",2006.68,1,"VR-HP",81,1,4,0)
earchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack
"DATA",2006.68,1,"VR-HP",81,1,5,0)
="1"><StudySplit studySplitIndex="1"><Modality>US</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGr
"DATA",2006.68,1,"VR-HP",81,1,6,0)
oup id="1" templateUsed="1-up_1-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" tileRows="3" tileCols="3" scrollDir="VERTI
"DATA",2006.68,1,"VR-HP",81,1,7,0)
CAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" Rot
"DATA",2006.68,1,"VR-HP",81,1,8,0)
ateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxP
"DATA",2006.68,1,"VR-HP",81,1,9,0)
roperty position="0,0|1,2|1,1" layoutType="TILED" tileRows="3" tileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="10
"DATA",2006.68,1,"VR-HP",81,1,10,0)
0" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></
"DATA",2006.68,1,"VR-HP",81,1,11,0)
PresentationGroup><PresentationGroup id="2" templateUsed="Wide-2_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" tileRows="3" t
"DATA",2006.68,1,"VR-HP",81,1,12,0)
ileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale
"DATA",2006.68,1,"VR-HP",81,1,13,0)
="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",83,0)
Wide-2_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",83,1,0)
^2006.6821^3^3
"DATA",2006.68,1,"VR-HP",83,1,1,0)
<TEMPLATE name="Wide-2_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:10
"DATA",2006.68,1,"VR-HP",83,1,2,0)
0.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="2"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top
"DATA",2006.68,1,"VR-HP",83,1,3,0)
="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",85,0)
2-up_2-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",85,1,0)
^2006.6821^6^6
"DATA",2006.68,1,"VR-HP",85,1,1,0)
<TEMPLATE name="2-up_2-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="2" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="
"DATA",2006.68,1,"VR-HP",85,1,2,0)
2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" lef
"DATA",2006.68,1,"VR-HP",85,1,3,0)
t="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="
"DATA",2006.68,1,"VR-HP",85,1,4,0)
0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport
"DATA",2006.68,1,"VR-HP",85,1,5,0)
 rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" colt
"DATA",2006.68,1,"VR-HP",85,1,6,0)
abs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",87,0)
RF_2-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",87,1,0)
^2006.6821^23^23
"DATA",2006.68,1,"VR-HP",87,1,1,0)
<HP name="RF_2-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALITY" 
"DATA",2006.68,1,"VR-HP",87,1,2,0)
attrTag="fffffff4">RF</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>CR</Modali
"DATA",2006.68,1,"VR-HP",87,1,3,0)
ty><Modality>DX</Modality></StudySplit><StudySplit studySplitIndex="2"><Modality>RF</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudy
"DATA",2006.68,1,"VR-HP",87,1,4,0)
SplitIndex="2" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="2" cloneSrc="2" mImgSet="0"/></Study></ImgSetSeqItem><
"DATA",2006.68,1,"VR-HP",87,1,5,0)
ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitTo
"DATA",2006.68,1,"VR-HP",87,1,6,0)
SeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>CR</Modality><Modality>DX</Modality></StudySplit><StudySplit studySplitIndex="2"><Modality>RF</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySp
"DATA",2006.68,1,"VR-HP",87,1,7,0)
litIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="2" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="2-up_2-u
"DATA",2006.68,1,"VR-HP",87,1,8,0)
p_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE"
"DATA",2006.68,1,"VR-HP",87,1,9,0)
 smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" W
"DATA",2006.68,1,"VR-HP",87,1,10,0)
LType="10" Sharp="5" Inv="0" AppToAll="39"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1
"DATA",2006.68,1,"VR-HP",87,1,11,0)
,1|2,1" layoutType="TILED" tileRows="1" tileCols="2" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Lev
"DATA",2006.68,1,"VR-HP",87,1,12,0)
el="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="
"DATA",2006.68,1,"VR-HP",87,1,13,0)
3"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAG
"DATA",2006.68,1,"VR-HP",87,1,14,0)
E" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="39">
"DATA",2006.68,1,"VR-HP",87,1,15,0)
<Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="TILED" tileRows="1" til
"DATA",2006.68,1,"VR-HP",87,1,16,0)
eCols="2" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="
"DATA",2006.68,1,"VR-HP",87,1,17,0)
1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="1-up_1-u
"DATA",2006.68,1,"VR-HP",87,1,18,0)
p_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smal
"DATA",2006.68,1,"VR-HP",87,1,19,0)
lScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType
"DATA",2006.68,1,"VR-HP",87,1,20,0)
="10" Sharp="5" Inv="0" AppToAll="39"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,2|1,1" l
"DATA",2006.68,1,"VR-HP",87,1,21,0)
ayoutType="TILED" tileRows="2" tileCols="2" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" 
"DATA",2006.68,1,"VR-HP",87,1,22,0)
Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/><
"DATA",2006.68,1,"VR-HP",87,1,23,0)
/HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",88,0)
NM_2hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",88,1,0)
^2006.6821^15^15
"DATA",2006.68,1,"VR-HP",88,1,1,0)
<HP name="NM_2hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="-1"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALITY" 
"DATA",2006.68,1,"VR-HP",88,1,2,0)
attrTag="fffffff4">NM</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitInde
"DATA",2006.68,1,"VR-HP",88,1,3,0)
x="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">
"DATA",2006.68,1,"VR-HP",88,1,4,0)
0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex=
"DATA",2006.68,1,"VR-HP",88,1,5,0)
"-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="2" label="">0\5
"DATA",2006.68,1,"VR-HP",88,1,6,0)
</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1"
"DATA",2006.68,1,"VR-HP",88,1,7,0)
 cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="2-up_2-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="
"DATA",2006.68,1,"VR-HP",88,1,8,0)
1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORW
"DATA",2006.68,1,"VR-HP",88,1,9,0)
ARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty><
"DATA",2006.68,1,"VR-HP",88,1,10,0)
/DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" s
"DATA",2006.68,1,"VR-HP",88,1,11,0)
mallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLT
"DATA",2006.68,1,"VR-HP",88,1,12,0)
ype="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1
"DATA",2006.68,1,"VR-HP",88,1,13,0)
|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level
"DATA",2006.68,1,"VR-HP",88,1,14,0)
="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGr
"DATA",2006.68,1,"VR-HP",88,1,15,0)
oups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",89,0)
Wide-2_Wide-2_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",89,1,0)
^2006.6821^4^4
"DATA",2006.68,1,"VR-HP",89,1,1,0)
<TEMPLATE name="Wide-2_Wide-2_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" colta
"DATA",2006.68,1,"VR-HP",89,1,2,0)
bs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="2"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0"
"DATA",2006.68,1,"VR-HP",89,1,3,0)
 left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="2"><vport rowPos="1" colPos="1" rows="0"
"DATA",2006.68,1,"VR-HP",89,1,4,0)
 cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",90,0)
1-up_Wide-2_1-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",90,1,0)
^2006.6821^5^5
"DATA",2006.68,1,"VR-HP",90,1,1,0)
<TEMPLATE name="1-up_Wide-2_1-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="3" width="0" height="0" left="0" top="0" rowtabs="1:100.00" co
"DATA",2006.68,1,"VR-HP",90,1,2,0)
ltabs="3:25.00,50.00,25.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" h
"DATA",2006.68,1,"VR-HP",90,1,3,0)
eight="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="2"><vport rowPos="1" colPos="1"
"DATA",2006.68,1,"VR-HP",90,1,4,0)
 rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport><vport rowPos="1" colPos="3" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1
"DATA",2006.68,1,"VR-HP",90,1,5,0)
"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",91,0)
Wide-4_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",91,1,0)
^2006.6821^3^3
"DATA",2006.68,1,"VR-HP",91,1,1,0)
<TEMPLATE name="Wide-4_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:1
"DATA",2006.68,1,"VR-HP",91,1,2,0)
00.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="4"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" to
"DATA",2006.68,1,"VR-HP",91,1,3,0)
p="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",92,0)
9-up_9-up_9-up_9-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",92,1,0)
^2006.6821^26^26
"DATA",2006.68,1,"VR-HP",92,1,1,0)
<TEMPLATE name="9-up_9-up_9-up_9-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="4" width="0" height="0" left="0" top="0" rowtabs="1:100.00"
"DATA",2006.68,1,"VR-HP",92,1,2,0)
 coltabs="4:25.00,25.00,25.00,25.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" wi
"DATA",2006.68,1,"VR-HP",92,1,3,0)
dth="0" height="0" left="0" top="0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vpor
"DATA",2006.68,1,"VR-HP",92,1,4,0)
t rowPos="1" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"
"DATA",2006.68,1,"VR-HP",92,1,5,0)
/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCo
"DATA",2006.68,1,"VR-HP",92,1,6,0)
unt="1"/><vport rowPos="2" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="
"DATA",2006.68,1,"VR-HP",92,1,7,0)
" MonCount="1"/><vport rowPos="3" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" co
"DATA",2006.68,1,"VR-HP",92,1,8,0)
ltabs="" MonCount="1"/></vport></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" hei
"DATA",2006.68,1,"VR-HP",92,1,9,0)
ght="0" left="0" top="0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1
"DATA",2006.68,1,"VR-HP",92,1,10,0)
" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport ro
"DATA",2006.68,1,"VR-HP",92,1,11,0)
wPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><v
"DATA",2006.68,1,"VR-HP",92,1,12,0)
port rowPos="2" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount=
"DATA",2006.68,1,"VR-HP",92,1,13,0)
"1"/><vport rowPos="3" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" Mo
"DATA",2006.68,1,"VR-HP",92,1,14,0)
nCount="1"/></vport></vport><vport rowPos="1" colPos="3" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" height="0" lef
"DATA",2006.68,1,"VR-HP",92,1,15,0)
t="0" top="0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2
"DATA",2006.68,1,"VR-HP",92,1,16,0)
" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" co
"DATA",2006.68,1,"VR-HP",92,1,17,0)
lPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos
"DATA",2006.68,1,"VR-HP",92,1,18,0)
="2" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport
"DATA",2006.68,1,"VR-HP",92,1,19,0)
 rowPos="3" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/
"DATA",2006.68,1,"VR-HP",92,1,20,0)
></vport></vport><vport rowPos="1" colPos="4" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" height="0" left="0" top="
"DATA",2006.68,1,"VR-HP",92,1,21,0)
0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" 
"DATA",2006.68,1,"VR-HP",92,1,22,0)
cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" ro
"DATA",2006.68,1,"VR-HP",92,1,23,0)
ws="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos
"DATA",2006.68,1,"VR-HP",92,1,24,0)
="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3"
"DATA",2006.68,1,"VR-HP",92,1,25,0)
 colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></
"DATA",2006.68,1,"VR-HP",92,1,26,0)
vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",94,0)
CT Thorax_2-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",94,1,0)
^2006.6821^24^24
"DATA",2006.68,1,"VR-HP",94,1,1,0)
<HP name="CT Thorax_2-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="-1"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="CPT
"DATA",2006.68,1,"VR-HP",94,1,2,0)
" attrTag="fffffff3">71260</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</M
"DATA",2006.68,1,"VR-HP",94,1,3,0)
odality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySp
"DATA",2006.68,1,"VR-HP",94,1,4,0)
litIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" labe
"DATA",2006.68,1,"VR-HP",94,1,5,0)
l="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" 
"DATA",2006.68,1,"VR-HP",94,1,6,0)
mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HP
"DATA",2006.68,1,"VR-HP",94,1,7,0)
Display><PresentationGroup id="1" templateUsed="4-up_4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" t
"DATA",2006.68,1,"VR-HP",94,1,8,0)
ileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="-700" Window="1000" FitToSize="1" Sca
"DATA",2006.68,1,"VR-HP",94,1,9,0)
le="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="4" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1
"DATA",2006.68,1,"VR-HP",94,1,10,0)
" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playb
"DATA",2006.68,1,"VR-HP",94,1,11,0)
ackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="40" Window="350" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="4" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0
"DATA",2006.68,1,"VR-HP",94,1,12,0)
" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir
"DATA",2006.68,1,"VR-HP",94,1,13,0)
="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="-700" Window="1000" FitToSize="1" Scale="1.000000" FlipTyp
"DATA",2006.68,1,"VR-HP",94,1,14,0)
e="0" RotateType="0" PresetName="" WLType="4" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="2" stdIndex="1" serInd
"DATA",2006.68,1,"VR-HP",94,1,15,0)
ex="2"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="
"DATA",2006.68,1,"VR-HP",94,1,16,0)
FORWARD" cineSpeed="100" PatientOrient="" Level="40" Window="350" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="4" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></Ima
"DATA",2006.68,1,"VR-HP",94,1,17,0)
geBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScro
"DATA",2006.68,1,"VR-HP",94,1,18,0)
llType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="500" Window="2000" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" P
"DATA",2006.68,1,"VR-HP",94,1,19,0)
resetName="" WLType="4" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="3"/><ImageBoxPrope
"DATA",2006.68,1,"VR-HP",94,1,20,0)
rty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="10
"DATA",2006.68,1,"VR-HP",94,1,21,0)
0" PatientOrient="" Level="500" Window="2000" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="4" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSet
"DATA",2006.68,1,"VR-HP",94,1,22,0)
SeqItem></PresentationGroup><LinkGroups><LinkGroup linkOptions="46" linkType="0" id="1" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="1"/><Stack nPresentGroupIndex="1" nDisplayIndex="2"/><Stack nPresentGroupIndex="1" nDispla
"DATA",2006.68,1,"VR-HP",94,1,23,0)
yIndex="5"/></LinkGroup><LinkGroup linkOptions="46" linkType="0" id="2" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="3"/><Stack nPresentGroupIndex="1" nDisplayIndex="4"/><Stack nPresentGroupIndex="1" nDisplayIndex="6"/></Li
"DATA",2006.68,1,"VR-HP",94,1,24,0)
nkGroup></LinkGroups></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",96,0)
1-up_Wide-3_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",96,1,0)
^2006.6821^4^4
"DATA",2006.68,1,"VR-HP",96,1,1,0)
<TEMPLATE name="1-up_Wide-3_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="2" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs
"DATA",2006.68,1,"VR-HP",96,1,2,0)
="2:25.00,75.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" l
"DATA",2006.68,1,"VR-HP",96,1,3,0)
eft="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="3"><vport rowPos="1" colPos="1" rows="0" c
"DATA",2006.68,1,"VR-HP",96,1,4,0)
ols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",102,0)
GenRad_4-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",102,1,0)
^2006.6821^18^18
"DATA",2006.68,1,"VR-HP",102,1,1,0)
<HP name="GenRad_4-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="-1"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODAL
"DATA",2006.68,1,"VR-HP",102,1,2,0)
ITY" attrTag="fffffff4">CR</SV><SV attrName="MODALITY" attrTag="fffffff4">DX</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="
"DATA",2006.68,1,"VR-HP",102,1,3,0)
1"><StudySplit studySplitIndex="1"><Modality>CR</Modality><Modality>DX</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/><Series serIndex="2" localizer="0" serStudySplitIndex="
"DATA",2006.68,1,"VR-HP",102,1,4,0)
1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="3" priorIndex="1" label="">0\5<
"DATA",2006.68,1,"VR-HP",102,1,5,0)
/TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc de
"DATA",2006.68,1,"VR-HP",102,1,6,0)
sc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="3" priorIndex="2" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series
"DATA",2006.68,1,"VR-HP",102,1,7,0)
 serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="1-up_Wide-2_1-up_SYS_INT_TP^.5"><DispSetSeqItem dsInde
"DATA",2006.68,1,"VR-HP",102,1,8,0)
x="1"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE
"DATA",2006.68,1,"VR-HP",102,1,9,0)
" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><
"DATA",2006.68,1,"VR-HP",102,1,10,0)
Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1" layoutType="STACK" tileRows="0" tileCols
"DATA",2006.68,1,"VR-HP",102,1,11,0)
="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000
"DATA",2006.68,1,"VR-HP",102,1,12,0)
000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="3" stdIndex="1" ser
"DATA",2006.68,1,"VR-HP",102,1,13,0)
Index="1"/><ImageBoxProperty position="0,0|1,3|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="F
"DATA",2006.68,1,"VR-HP",102,1,14,0)
ORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxPropert
"DATA",2006.68,1,"VR-HP",102,1,15,0)
y></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="1-up_Wide-3_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,2|1,1" lay
"DATA",2006.68,1,"VR-HP",102,1,16,0)
outType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Wi
"DATA",2006.68,1,"VR-HP",102,1,17,0)
ndow="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></H
"DATA",2006.68,1,"VR-HP",102,1,18,0)
PDisplay></HP>
"DATA",2006.68,1,"VR-HP",104,0)
US_4-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",104,1,0)
^2006.6821^13^13
"DATA",2006.68,1,"VR-HP",104,1,1,0)
<HP name="US_4-hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALIT
"DATA",2006.68,1,"VR-HP",104,1,2,0)
Y" attrTag="fffffff4">US</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>US</Mod
"DATA",2006.68,1,"VR-HP",104,1,3,0)
ality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2
"DATA",2006.68,1,"VR-HP",104,1,4,0)
"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mS
"DATA",2006.68,1,"VR-HP",104,1,5,0)
tack="1"><StudySplit studySplitIndex="1"><Modality>US</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><Presentati
"DATA",2006.68,1,"VR-HP",104,1,6,0)
onGroup id="1" templateUsed="Wide-2_Wide-2_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" tileRows="3" tileCols="3" scroll
"DATA",2006.68,1,"VR-HP",104,1,7,0)
Dir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipTy
"DATA",2006.68,1,"VR-HP",104,1,8,0)
pe="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/>
"DATA",2006.68,1,"VR-HP",104,1,9,0)
<ImageBoxProperty position="0,0|1,2|1,1" layoutType="TILED" tileRows="3" tileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cin
"DATA",2006.68,1,"VR-HP",104,1,10,0)
eSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSet
"DATA",2006.68,1,"VR-HP",104,1,11,0)
SeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="Wide-4_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" 
"DATA",2006.68,1,"VR-HP",104,1,12,0)
tileRows="3" tileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitTo
"DATA",2006.68,1,"VR-HP",104,1,13,0)
Size="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",105,0)
XA_4-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",105,1,0)
^2006.6821^13^13
"DATA",2006.68,1,"VR-HP",105,1,1,0)
<HP name="XA_4-hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><SV attrName="MODALIT
"DATA",2006.68,1,"VR-HP",105,1,2,0)
Y" attrTag="fffffff4">XA</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>XA</Mod
"DATA",2006.68,1,"VR-HP",105,1,3,0)
ality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2
"DATA",2006.68,1,"VR-HP",105,1,4,0)
"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mS
"DATA",2006.68,1,"VR-HP",105,1,5,0)
tack="1"><StudySplit studySplitIndex="1"><Modality>XA</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><Presentati
"DATA",2006.68,1,"VR-HP",105,1,6,0)
onGroup id="1" templateUsed="Wide-2_Wide-2_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" tileRows="2" tileCols="2" scroll
"DATA",2006.68,1,"VR-HP",105,1,7,0)
Dir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipTy
"DATA",2006.68,1,"VR-HP",105,1,8,0)
pe="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/>
"DATA",2006.68,1,"VR-HP",105,1,9,0)
<ImageBoxProperty position="0,0|1,2|1,1" layoutType="TILED" tileRows="2" tileCols="2" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cin
"DATA",2006.68,1,"VR-HP",105,1,10,0)
eSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSet
"DATA",2006.68,1,"VR-HP",105,1,11,0)
SeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="Wide-4_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" 
"DATA",2006.68,1,"VR-HP",105,1,12,0)
tileRows="2" tileCols="2" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitTo
"DATA",2006.68,1,"VR-HP",105,1,13,0)
Size="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",106,0)
NM_4-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",106,1,0)
^2006.6821^14^14
"DATA",2006.68,1,"VR-HP",106,1,1,0)
<HP name="NM_4-hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="-1"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALI
"DATA",2006.68,1,"VR-HP",106,1,2,0)
TY" attrTag="fffffff4">NM</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplit
"DATA",2006.68,1,"VR-HP",106,1,3,0)
Index="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label
"DATA",2006.68,1,"VR-HP",106,1,4,0)
="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="3"><Searc
"DATA",2006.68,1,"VR-HP",106,1,5,0)
hDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="2" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"
"DATA",2006.68,1,"VR-HP",106,1,6,0)
><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="2-up_2-up_2-up_2-up_SYS_INT_TP^.5"><DispSetS
"DATA",2006.68,1,"VR-HP",106,1,7,0)
eqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" larg
"DATA",2006.68,1,"VR-HP",106,1,8,0)
eScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0
"DATA",2006.68,1,"VR-HP",106,1,9,0)
" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" 
"DATA",2006.68,1,"VR-HP",106,1,10,0)
tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitTo
"DATA",2006.68,1,"VR-HP",106,1,11,0)
Size="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex
"DATA",2006.68,1,"VR-HP",106,1,12,0)
="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,3|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" pl
"DATA",2006.68,1,"VR-HP",106,1,13,0)
aybackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortTy
"DATA",2006.68,1,"VR-HP",106,1,14,0)
pe="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",107,0)
2-up_2-up_2-up_2-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",107,1,0)
^^18^18^3060204^
"DATA",2006.68,1,"VR-HP",107,1,1,0)
<TEMPLATE name="2-up_2-up_2-up_2-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1">
"DATA",2006.68,1,"VR-HP",107,1,2,0)
<vport rowPos="1" colPos="1" rows="1" cols="4" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="4:25.00,25.00,25.00,25.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,3,0)
<vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,4,0)
<vport rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,5,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/>
"DATA",2006.68,1,"VR-HP",107,1,6,0)
<vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport>
"DATA",2006.68,1,"VR-HP",107,1,7,0)
<vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,8,0)
<vport rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,9,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/>
"DATA",2006.68,1,"VR-HP",107,1,10,0)
<vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport>
"DATA",2006.68,1,"VR-HP",107,1,11,0)
<vport rowPos="1" colPos="3" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,12,0)
<vport rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,13,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/>
"DATA",2006.68,1,"VR-HP",107,1,14,0)
<vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport>
"DATA",2006.68,1,"VR-HP",107,1,15,0)
<vport rowPos="1" colPos="4" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,16,0)
<vport rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1">
"DATA",2006.68,1,"VR-HP",107,1,17,0)
<vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/>
"DATA",2006.68,1,"VR-HP",107,1,18,0)
<vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",108,0)
4-up_4-up_4-up_4-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",108,1,0)
^2006.6821^15^15
"DATA",2006.68,1,"VR-HP",108,1,1,0)
<TEMPLATE name="4-up_4-up_4-up_4-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="4" MonitorWidth="-1" MonitorHeight="-1" level="HP_SINGLE_USER"><vport rowPos="1" colPos="1" rows="1" cols="4" width="0" height="0" left="0" to
"DATA",2006.68,1,"VR-HP",108,1,2,0)
p="0" rowtabs="1:100.00" coltabs="4:25.00,25.00,25.00,25.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos=
"DATA",2006.68,1,"VR-HP",108,1,3,0)
"1" rows="2" cols="2" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCoun
"DATA",2006.68,1,"VR-HP",108,1,4,0)
t="1"/><vport rowPos="1" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" 
"DATA",2006.68,1,"VR-HP",108,1,5,0)
MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport><vport rowPos="1" colPos="2" rows="1" cols="1" width="0" height="0" left="0" top="0"
"DATA",2006.68,1,"VR-HP",108,1,6,0)
 rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="2" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0"
"DATA",2006.68,1,"VR-HP",108,1,7,0)
 cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" r
"DATA",2006.68,1,"VR-HP",108,1,8,0)
ows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport><vport 
"DATA",2006.68,1,"VR-HP",108,1,9,0)
rowPos="1" colPos="3" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="2" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.0
"DATA",2006.68,1,"VR-HP",108,1,10,0)
0" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0" width="0" height="0" left="
"DATA",2006.68,1,"VR-HP",108,1,11,0)
0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0"
"DATA",2006.68,1,"VR-HP",108,1,12,0)
 left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport><vport rowPos="1" colPos="4" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" 
"DATA",2006.68,1,"VR-HP",108,1,13,0)
rows="2" cols="2" width="0" height="0" left="0" top="0" rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1
"DATA",2006.68,1,"VR-HP",108,1,14,0)
"/><vport rowPos="1" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonC
"DATA",2006.68,1,"VR-HP",108,1,15,0)
ount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",109,0)
MR_4-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",109,1,0)
^2006.6821^106^106
"DATA",2006.68,1,"VR-HP",109,1,1,0)
<HP name="MR_4-hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="-1"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALI
"DATA",2006.68,1,"VR-HP",109,1,2,0)
TY" attrTag="fffffff4">MR</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>MR</Mo
"DATA",2006.68,1,"VR-HP",109,1,3,0)
dality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySp
"DATA",2006.68,1,"VR-HP",109,1,4,0)
litIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="6" loca
"DATA",2006.68,1,"VR-HP",109,1,5,0)
lizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="7" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="8" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Seri
"DATA",2006.68,1,"VR-HP",109,1,6,0)
es serIndex="9" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="10" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="11" localizer="0" serStudySplitIndex="1" cloneSrc="
"DATA",2006.68,1,"VR-HP",109,1,7,0)
-1" mImgSet="0"/><Series serIndex="12" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="13" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="14" localizer="0" serStudySp
"DATA",2006.68,1,"VR-HP",109,1,8,0)
litIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="15" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="16" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="17" l
"DATA",2006.68,1,"VR-HP",109,1,9,0)
ocalizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="18" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><De
"DATA",2006.68,1,"VR-HP",109,1,10,0)
f>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1
"DATA",2006.68,1,"VR-HP",109,1,11,0)
"><Modality>MR</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" locali
"DATA",2006.68,1,"VR-HP",109,1,12,0)
zer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series
"DATA",2006.68,1,"VR-HP",109,1,13,0)
 serIndex="6" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="7" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="8" localizer="0" serStudySplitIndex="1" cloneSrc="-1" 
"DATA",2006.68,1,"VR-HP",109,1,14,0)
mImgSet="0"/><Series serIndex="9" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="10" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="11" localizer="0" serStudySplitIn
"DATA",2006.68,1,"VR-HP",109,1,15,0)
dex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="12" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="13" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="14" locali
"DATA",2006.68,1,"VR-HP",109,1,16,0)
zer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="15" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="16" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Seri
"DATA",2006.68,1,"VR-HP",109,1,17,0)
es serIndex="17" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="18" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><Prese
"DATA",2006.68,1,"VR-HP",109,1,18,0)
ntationGroup id="1" templateUsed="9-up_9-up_9-up_9-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tile
"DATA",2006.68,1,"VR-HP",109,1,19,0)
Cols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1
"DATA",2006.68,1,"VR-HP",109,1,20,0)
.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1"
"DATA",2006.68,1,"VR-HP",109,1,21,0)
 serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" ci
"DATA",2006.68,1,"VR-HP",109,1,22,0)
neDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBo
"DATA",2006.68,1,"VR-HP",109,1,23,0)
xProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|1,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollTy
"DATA",2006.68,1,"VR-HP",109,1,24,0)
pe="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" Preset
"DATA",2006.68,1,"VR-HP",109,1,25,0)
Name="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><ImageBoxProperty position="
"DATA",2006.68,1,"VR-HP",109,1,26,0)
0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrie
"DATA",2006.68,1,"VR-HP",109,1,27,0)
nt="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem 
"DATA",2006.68,1,"VR-HP",109,1,28,0)
dsIndex="5"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScroll
"DATA",2006.68,1,"VR-HP",109,1,29,0)
Type="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppTo
"DATA",2006.68,1,"VR-HP",109,1,30,0)
All="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,1|1,1|2,3" layoutType="STACK" tileRow
"DATA",2006.68,1,"VR-HP",109,1,31,0)
s="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1
"DATA",2006.68,1,"VR-HP",109,1,32,0)
" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="1" st
"DATA",2006.68,1,"VR-HP",109,1,33,0)
dIndex="1" serIndex="7"/><ImageBoxProperty position="0,0|1,1|1,1|3,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackS
"DATA",2006.68,1,"VR-HP",109,1,34,0)
equ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/
"DATA",2006.68,1,"VR-HP",109,1,35,0)
></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="8"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="8"/><ImageBoxProperty position="0,0|1,1|1,1|3,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" sma
"DATA",2006.68,1,"VR-HP",109,1,36,0)
llScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType=
"DATA",2006.68,1,"VR-HP",109,1,37,0)
"0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="9"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="9"/><ImageBoxProperty 
"DATA",2006.68,1,"VR-HP",109,1,38,0)
position="0,0|1,1|1,1|3,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" P
"DATA",2006.68,1,"VR-HP",109,1,39,0)
atientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispS
"DATA",2006.68,1,"VR-HP",109,1,40,0)
etSeqItem dsIndex="10"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="10"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0"
"DATA",2006.68,1,"VR-HP",109,1,41,0)
 largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" I
"DATA",2006.68,1,"VR-HP",109,1,42,0)
nv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="11"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="11"/><ImageBoxProperty position="0,0|1,2|1,1|1,2" layoutType="
"DATA",2006.68,1,"VR-HP",109,1,43,0)
STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500
"DATA",2006.68,1,"VR-HP",109,1,44,0)
" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="12"><ImgSetUsed seqI
"DATA",2006.68,1,"VR-HP",109,1,45,0)
temIndex="1" stdIndex="1" serIndex="12"/><ImageBoxProperty position="0,0|1,2|1,1|1,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmou
"DATA",2006.68,1,"VR-HP",109,1,46,0)
nt="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="
"DATA",2006.68,1,"VR-HP",109,1,47,0)
0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="13"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="13"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scroll
"DATA",2006.68,1,"VR-HP",109,1,48,0)
Dir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipTy
"DATA",2006.68,1,"VR-HP",109,1,49,0)
pe="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="14"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="14"
"DATA",2006.68,1,"VR-HP",109,1,50,0)
/><ImageBoxProperty position="0,0|1,2|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWAR
"DATA",2006.68,1,"VR-HP",109,1,51,0)
D" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></D
"DATA",2006.68,1,"VR-HP",109,1,52,0)
ispSetSeqItem><DispSetSeqItem dsIndex="15"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="15"/><ImageBoxProperty position="0,0|1,2|1,1|2,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" s
"DATA",2006.68,1,"VR-HP",109,1,53,0)
mallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLT
"DATA",2006.68,1,"VR-HP",109,1,54,0)
ype="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="16"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="16"/><ImageBoxProperty position="0,0|1,2|1
"DATA",2006.68,1,"VR-HP",109,1,55,0)
,1|3,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Lev
"DATA",2006.68,1,"VR-HP",109,1,56,0)
el="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="
"DATA",2006.68,1,"VR-HP",109,1,57,0)
17"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="17"/><ImageBoxProperty position="0,0|1,2|1,1|3,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="P
"DATA",2006.68,1,"VR-HP",109,1,58,0)
AGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47
"DATA",2006.68,1,"VR-HP",109,1,59,0)
"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="18"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="18"/><ImageBoxProperty position="0,0|1,2|1,1|3,3" layoutType="STACK" tileRows="1"
"DATA",2006.68,1,"VR-HP",109,1,60,0)
 tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Sca
"DATA",2006.68,1,"VR-HP",109,1,61,0)
le="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="19"><ImgSetUsed seqItemIndex="2" stdInd
"DATA",2006.68,1,"VR-HP",109,1,62,0)
ex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,3|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ=
"DATA",2006.68,1,"VR-HP",109,1,63,0)
"1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></I
"DATA",2006.68,1,"VR-HP",109,1,64,0)
mageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="20"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,3|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallS
"DATA",2006.68,1,"VR-HP",109,1,65,0)
crollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0"
"DATA",2006.68,1,"VR-HP",109,1,66,0)
 PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="21"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="3"/><ImageBoxProperty po
"DATA",2006.68,1,"VR-HP",109,1,67,0)
sition="0,0|1,3|1,1|1,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" Pat
"DATA",2006.68,1,"VR-HP",109,1,68,0)
ientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSet
"DATA",2006.68,1,"VR-HP",109,1,69,0)
SeqItem dsIndex="22"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,3|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" la
"DATA",2006.68,1,"VR-HP",109,1,70,0)
rgeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv=
"DATA",2006.68,1,"VR-HP",109,1,71,0)
"0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="23"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,3|1,1|2,2" layoutType="STAC
"DATA",2006.68,1,"VR-HP",109,1,72,0)
K" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" Fi
"DATA",2006.68,1,"VR-HP",109,1,73,0)
tToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="24"><ImgSetUsed seqItemI
"DATA",2006.68,1,"VR-HP",109,1,74,0)
ndex="2" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,3|1,1|2,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0
"DATA",2006.68,1,"VR-HP",109,1,75,0)
" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" so
"DATA",2006.68,1,"VR-HP",109,1,76,0)
rtType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="25"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="7"/><ImageBoxProperty position="0,0|1,3|1,1|3,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="V
"DATA",2006.68,1,"VR-HP",109,1,77,0)
ERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0"
"DATA",2006.68,1,"VR-HP",109,1,78,0)
 RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="26"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="8"/><Imag
"DATA",2006.68,1,"VR-HP",109,1,79,0)
eBoxProperty position="0,0|1,3|1,1|3,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cine
"DATA",2006.68,1,"VR-HP",109,1,80,0)
Speed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetS
"DATA",2006.68,1,"VR-HP",109,1,81,0)
eqItem><DispSetSeqItem dsIndex="27"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="9"/><ImageBoxProperty position="0,0|1,3|1,1|3,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScro
"DATA",2006.68,1,"VR-HP",109,1,82,0)
llAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10"
"DATA",2006.68,1,"VR-HP",109,1,83,0)
 Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="28"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="10"/><ImageBoxProperty position="0,0|1,4|1,1|1,1" 
"DATA",2006.68,1,"VR-HP",109,1,84,0)
layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100"
"DATA",2006.68,1,"VR-HP",109,1,85,0)
 Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="29"><Img
"DATA",2006.68,1,"VR-HP",109,1,86,0)
SetUsed seqItemIndex="2" stdIndex="1" serIndex="11"/><ImageBoxProperty position="0,0|1,4|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" lar
"DATA",2006.68,1,"VR-HP",109,1,87,0)
geScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorti
"DATA",2006.68,1,"VR-HP",109,1,88,0)
ng sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="30"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="12"/><ImageBoxProperty position="0,0|1,4|1,1|1,3" layoutType="STACK" tileRows="1" tileCol
"DATA",2006.68,1,"VR-HP",109,1,89,0)
s="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.00
"DATA",2006.68,1,"VR-HP",109,1,90,0)
0000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="31"><ImgSetUsed seqItemIndex="2" stdIndex="1" s
"DATA",2006.68,1,"VR-HP",109,1,91,0)
erIndex="13"/><ImageBoxProperty position="0,0|1,4|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cin
"DATA",2006.68,1,"VR-HP",109,1,92,0)
eDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBox
"DATA",2006.68,1,"VR-HP",109,1,93,0)
Property></DispSetSeqItem><DispSetSeqItem dsIndex="32"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="14"/><ImageBoxProperty position="0,0|1,4|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollT
"DATA",2006.68,1,"VR-HP",109,1,94,0)
ype="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" Prese
"DATA",2006.68,1,"VR-HP",109,1,95,0)
tName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="33"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="15"/><ImageBoxProperty positio
"DATA",2006.68,1,"VR-HP",109,1,96,0)
n="0,0|1,4|1,1|2,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientO
"DATA",2006.68,1,"VR-HP",109,1,97,0)
rient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqIt
"DATA",2006.68,1,"VR-HP",109,1,98,0)
em dsIndex="34"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="16"/><ImageBoxProperty position="0,0|1,4|1,1|3,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeS
"DATA",2006.68,1,"VR-HP",109,1,99,0)
crollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" 
"DATA",2006.68,1,"VR-HP",109,1,100,0)
AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="35"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="17"/><ImageBoxProperty position="0,0|1,4|1,1|3,2" layoutType="STACK" 
"DATA",2006.68,1,"VR-HP",109,1,101,0)
tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitTo
"DATA",2006.68,1,"VR-HP",109,1,102,0)
Size="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="36"><ImgSetUsed seqItemInde
"DATA",2006.68,1,"VR-HP",109,1,103,0)
x="2" stdIndex="1" serIndex="18"/><ImageBoxProperty position="0,0|1,4|1,1|3,3" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" 
"DATA",2006.68,1,"VR-HP",109,1,104,0)
playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sort
"DATA",2006.68,1,"VR-HP",109,1,105,0)
Type="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups><LinkGroup linkOptions="63" linkType="0" id="1" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="20"/><Stack nPresentGroupIndex="1" nDisplayIndex="21
"DATA",2006.68,1,"VR-HP",109,1,106,0)
"/></LinkGroup></LinkGroups></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",110,0)
CT_4-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",110,1,0)
^2006.6831^27^27^3060206^
"DATA",2006.68,1,"VR-HP",110,1,1,0)
<HP name="CT_4-hd_SYS_INT_HP" ver="1.0" level="HP_SINGLE_USER" createdBy=".5" oldPTop="0" remote="0" stageOnTop="-1"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALI
"DATA",2006.68,1,"VR-HP",110,1,2,0)
TY" attrTag="fffffff4">CT</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Mo
"DATA",2006.68,1,"VR-HP",110,1,3,0)
dality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySp
"DATA",2006.68,1,"VR-HP",110,1,4,0)
litIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue 
"DATA",2006.68,1,"VR-HP",110,1,5,0)
stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality
"DATA",2006.68,1,"VR-HP",110,1,6,0)
></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitInd
"DATA",2006.68,1,"VR-HP",110,1,7,0)
ex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="4-up_4-up_4-up
"DATA",2006.68,1,"VR-HP",110,1,8,0)
_4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="
"DATA",2006.68,1,"VR-HP",110,1,9,0)
PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName
"DATA",2006.68,1,"VR-HP",110,1,10,0)
="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|
"DATA",2006.68,1,"VR-HP",110,1,11,0)
1,2|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="
"DATA",2006.68,1,"VR-HP",110,1,12,0)
" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIn
"DATA",2006.68,1,"VR-HP",110,1,13,0)
dex="3"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,2|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType
"DATA",2006.68,1,"VR-HP",110,1,14,0)
="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll=
"DATA",2006.68,1,"VR-HP",110,1,15,0)
"47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,2|1,1|2,2" layoutType="STACK" tileRows="1
"DATA",2006.68,1,"VR-HP",110,1,16,0)
" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Sc
"DATA",2006.68,1,"VR-HP",110,1,17,0)
ale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="1" stdInd
"DATA",2006.68,1,"VR-HP",110,1,18,0)
ex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,3|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ=
"DATA",2006.68,1,"VR-HP",110,1,19,0)
"1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></I
"DATA",2006.68,1,"VR-HP",110,1,20,0)
mageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,3|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallSc
"DATA",2006.68,1,"VR-HP",110,1,21,0)
rollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" 
"DATA",2006.68,1,"VR-HP",110,1,22,0)
PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="3"/><ImageBoxProperty posi
"DATA",2006.68,1,"VR-HP",110,1,23,0)
tion="0,0|1,3|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" Patie
"DATA",2006.68,1,"VR-HP",110,1,24,0)
ntOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSe
"DATA",2006.68,1,"VR-HP",110,1,25,0)
qItem dsIndex="8"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,3|1,1|2,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" large
"DATA",2006.68,1,"VR-HP",110,1,26,0)
ScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0"
"DATA",2006.68,1,"VR-HP",110,1,27,0)
 AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",111,0)
4-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",111,1,0)
^2006.6821^5^5
"DATA",2006.68,1,"VR-HP",111,1,1,0)
<TEMPLATE name="4-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="1" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100
"DATA",2006.68,1,"VR-HP",111,1,2,0)
.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="2" width="0" height="0" left="0" top=
"DATA",2006.68,1,"VR-HP",111,1,3,0)
"0" rowtabs="2:50.00,50.00" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols="0" wi
"DATA",2006.68,1,"VR-HP",111,1,4,0)
dth="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols
"DATA",2006.68,1,"VR-HP",111,1,5,0)
="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",112,0)
9-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",112,1,0)
^2006.6821^8^8
"DATA",2006.68,1,"VR-HP",112,1,1,0)
<TEMPLATE name="9-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="1" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100
"DATA",2006.68,1,"VR-HP",112,1,2,0)
.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="3" width="0" height="0" left="0" top=
"DATA",2006.68,1,"VR-HP",112,1,3,0)
"0" rowtabs="3:33.33,33.33,33.33" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0"
"DATA",2006.68,1,"VR-HP",112,1,4,0)
 cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" r
"DATA",2006.68,1,"VR-HP",112,1,5,0)
ows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPo
"DATA",2006.68,1,"VR-HP",112,1,6,0)
s="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3
"DATA",2006.68,1,"VR-HP",112,1,7,0)
" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport><
"DATA",2006.68,1,"VR-HP",112,1,8,0)
/vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",113,0)
2-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",113,1,0)
^2006.6821^4^4
"DATA",2006.68,1,"VR-HP",113,1,1,0)
<TEMPLATE name="2-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="1" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100
"DATA",2006.68,1,"VR-HP",113,1,2,0)
.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="2" cols="1" width="0" height="0" left="0" top=
"DATA",2006.68,1,"VR-HP",113,1,3,0)
"0" rowtabs="2:50.00,50.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="
"DATA",2006.68,1,"VR-HP",113,1,4,0)
0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",114,0)
6-up_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",114,1,0)
^2006.6821^6^6
"DATA",2006.68,1,"VR-HP",114,1,1,0)
<TEMPLATE name="6-up_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="1" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100
"DATA",2006.68,1,"VR-HP",114,1,2,0)
.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="3" cols="2" width="0" height="0" left="0" top=
"DATA",2006.68,1,"VR-HP",114,1,3,0)
"0" rowtabs="3:33.33,33.33,33.33" coltabs="2:50.00,50.00" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="2" rows="0" cols=
"DATA",2006.68,1,"VR-HP",114,1,4,0)
"0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0
"DATA",2006.68,1,"VR-HP",114,1,5,0)
" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="2" 
"DATA",2006.68,1,"VR-HP",114,1,6,0)
rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",118,0)
CT_1-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",118,1,0)
^2006.6821^48^48
"DATA",2006.68,1,"VR-HP",118,1,1,0)
<HP name="CT_1-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex=
"DATA",2006.68,1,"VR-HP",118,1,2,0)
"1" type="" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"/></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="" 
"DATA",2006.68,1,"VR-HP",118,1,3,0)
label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"/></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_
"DATA",2006.68,1,"VR-HP",118,1,4,0)
MATCH_PRIOR" unit="YEARS" max="2" priorIndex="2" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality></StudySplit><Series serIndex="1
"DATA",2006.68,1,"VR-HP",118,1,5,0)
" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/
"DATA",2006.68,1,"VR-HP",118,1,6,0)
></Study></ImgSetSeqItem><ImgSetSeqItem index="4"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><
"DATA",2006.68,1,"VR-HP",118,1,7,0)
Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" loca
"DATA",2006.68,1,"VR-HP",118,1,8,0)
lizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="5"><SearchDesc desc=""><ExMa>1</ExMa><Def>0<
"DATA",2006.68,1,"VR-HP",118,1,9,0)
/Def><SV attrName="MODALITY" attrTag="fffffff4">CT</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitI
"DATA",2006.68,1,"VR-HP",118,1,10,0)
ndex="1"><Modality>CT</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="3"
"DATA",2006.68,1,"VR-HP",118,1,11,0)
 localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplitIndex="1" cloneSrc="2" mImgSet="0"/><S
"DATA",2006.68,1,"VR-HP",118,1,12,0)
eries serIndex="6" localizer="0" serStudySplitIndex="1" cloneSrc="3" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="6"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="" label="">0\0</TimeBase
"DATA",2006.68,1,"VR-HP",118,1,13,0)
Value></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"/></ImgSetSeqItem><ImgSetSeqItem index="7"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="" label="">0\0</TimeBaseValue></Sear
"DATA",2006.68,1,"VR-HP",118,1,14,0)
chDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"/></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="9-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="
"DATA",2006.68,1,"VR-HP",118,1,15,0)
5" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" play
"DATA",2006.68,1,"VR-HP",118,1,16,0)
backSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType
"DATA",2006.68,1,"VR-HP",118,1,17,0)
="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="5" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL
"DATA",2006.68,1,"VR-HP",118,1,18,0)
" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" Rotate
"DATA",2006.68,1,"VR-HP",118,1,19,0)
Type="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="5" stdIndex="1" serIndex="3"/><ImageBoxProp
"DATA",2006.68,1,"VR-HP",118,1,20,0)
erty position="0,0|1,1|1,1|1,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="1
"DATA",2006.68,1,"VR-HP",118,1,21,0)
00" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><
"DATA",2006.68,1,"VR-HP",118,1,22,0)
DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="4" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount=
"DATA",2006.68,1,"VR-HP",118,1,23,0)
"0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5
"DATA",2006.68,1,"VR-HP",118,1,24,0)
" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="4" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType=
"DATA",2006.68,1,"VR-HP",118,1,25,0)
"STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="50
"DATA",2006.68,1,"VR-HP",118,1,26,0)
0" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqI
"DATA",2006.68,1,"VR-HP",118,1,27,0)
temIndex="4" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|2,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmoun
"DATA",2006.68,1,"VR-HP",118,1,28,0)
t="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0
"DATA",2006.68,1,"VR-HP",118,1,29,0)
" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|3,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir
"DATA",2006.68,1,"VR-HP",118,1,30,0)
="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType=
"DATA",2006.68,1,"VR-HP",118,1,31,0)
"0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="8"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="2"/><Im
"DATA",2006.68,1,"VR-HP",118,1,32,0)
ageBoxProperty position="0,0|1,1|1,1|3,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" ci
"DATA",2006.68,1,"VR-HP",118,1,33,0)
neSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSe
"DATA",2006.68,1,"VR-HP",118,1,34,0)
tSeqItem><DispSetSeqItem dsIndex="9"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|3,3" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScr
"DATA",2006.68,1,"VR-HP",118,1,35,0)
ollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10
"DATA",2006.68,1,"VR-HP",118,1,36,0)
" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="10"><ImgSetUsed seqItemI
"DATA",2006.68,1,"VR-HP",118,1,37,0)
ndex="5" stdIndex="1" serIndex="4"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0
"DATA",2006.68,1,"VR-HP",118,1,38,0)
" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" so
"DATA",2006.68,1,"VR-HP",118,1,39,0)
rtType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="11"><ImgSetUsed seqItemIndex="5" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="V
"DATA",2006.68,1,"VR-HP",118,1,40,0)
ERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0"
"DATA",2006.68,1,"VR-HP",118,1,41,0)
 RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="12"><ImgSetUsed seqItemIndex="5" stdIndex="1" serIndex="6"/><Imag
"DATA",2006.68,1,"VR-HP",118,1,42,0)
eBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cine
"DATA",2006.68,1,"VR-HP",118,1,43,0)
Speed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetS
"DATA",2006.68,1,"VR-HP",118,1,44,0)
eqItem></PresentationGroup><LinkGroups><LinkGroup linkOptions="46" linkType="0" id="1" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="1"/><Stack nPresentGroupIndex="1" nDisplayIndex="2"/><Stack nPresentGroupIndex="1" nDisplay
"DATA",2006.68,1,"VR-HP",118,1,45,0)
Index="3"/></LinkGroup><LinkGroup linkOptions="46" linkType="0" id="2" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="4"/><Stack nPresentGroupIndex="1" nDisplayIndex="5"/><Stack nPresentGroupIndex="1" nDisplayIndex="6"/></Lin
"DATA",2006.68,1,"VR-HP",118,1,46,0)
kGroup><LinkGroup linkOptions="46" linkType="0" id="3" pgIndex="1"><Stack nPresentGroupIndex="1" nDisplayIndex="7"/><Stack nPresentGroupIndex="1" nDisplayIndex="8"/><Stack nPresentGroupIndex="1" nDisplayIndex="9"/></LinkGroup><LinkGrou
"DATA",2006.68,1,"VR-HP",118,1,47,0)
p linkOptions="46" linkType="0" id="4" pgIndex="2"><Stack nPresentGroupIndex="2" nDisplayIndex="10"/><Stack nPresentGroupIndex="2" nDisplayIndex="11"/><Stack nPresentGroupIndex="2" nDisplayIndex="12"/></LinkGroup></LinkGroups></HPDispl
"DATA",2006.68,1,"VR-HP",118,1,48,0)
ay></HP>
"DATA",2006.68,1,"VR-HP",119,0)
GenRad_1-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",119,1,0)
^2006.6821^22^22
"DATA",2006.68,1,"VR-HP",119,1,1,0)
<HP name="GenRad_1-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALI
"DATA",2006.68,1,"VR-HP",119,1,2,0)
TY" attrTag="fffffff4">CR</SV><SV attrName="MODALITY" attrTag="fffffff4">DX</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1
"DATA",2006.68,1,"VR-HP",119,1,3,0)
"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/><Series serIndex="2" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc 
"DATA",2006.68,1,"VR-HP",119,1,4,0)
desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"/></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExM
"DATA",2006.68,1,"VR-HP",119,1,5,0)
a>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="3" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex=
"DATA",2006.68,1,"VR-HP",119,1,6,0)
"1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="4"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEAR
"DATA",2006.68,1,"VR-HP",119,1,7,0)
S" max="3" priorIndex="2" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem>
"DATA",2006.68,1,"VR-HP",119,1,8,0)
<ImgSetSeqItem index="5"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="3" priorIndex="3" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitT
"DATA",2006.68,1,"VR-HP",119,1,9,0)
oSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="4-up_SYS_INT_T
"DATA",2006.68,1,"VR-HP",119,1,10,0)
P^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScroll
"DATA",2006.68,1,"VR-HP",119,1,11,0)
Amount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" S
"DATA",2006.68,1,"VR-HP",119,1,12,0)
harp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layo
"DATA",2006.68,1,"VR-HP",119,1,13,0)
utType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Win
"DATA",2006.68,1,"VR-HP",119,1,14,0)
dow="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUs
"DATA",2006.68,1,"VR-HP",119,1,15,0)
ed seqItemIndex="4" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="0" tileCols="0" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScro
"DATA",2006.68,1,"VR-HP",119,1,16,0)
llAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sor
"DATA",2006.68,1,"VR-HP",119,1,17,0)
tDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="5" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" layoutType="STACK" tileRows="0" tileCols="0" sc
"DATA",2006.68,1,"VR-HP",119,1,18,0)
rollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" Fl
"DATA",2006.68,1,"VR-HP",119,1,19,0)
ipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="MON1_SYS_INT_TP^.5">
"DATA",2006.68,1,"VR-HP",119,1,20,0)
<DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0"
"DATA",2006.68,1,"VR-HP",119,1,21,0)
 largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" I
"DATA",2006.68,1,"VR-HP",119,1,22,0)
nv="0" AppToAll="38"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",120,0)
12-up_1-hd_SYS_INT_TP
"DATA",2006.68,1,"VR-HP",120,1,0)
^2006.6821^9^9
"DATA",2006.68,1,"VR-HP",120,1,1,0)
<TEMPLATE name="12-up_1-hd_SYS_INT_TP" ver="1.0" createdBy=".5" nrOfMonitors="1" MonitorWidth="-1" MonitorHeight="-1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs=
"DATA",2006.68,1,"VR-HP",120,1,2,0)
"1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="1" cols="1" width="0" height="0" left="0" top="0" rowtabs="1:100.00" coltabs="1:100.00" MonCount="1"><vport rowPos="1" colPos="1" rows="4" cols="3" width="0" height="0" left="0
"DATA",2006.68,1,"VR-HP",120,1,3,0)
" top="0" rowtabs="4:25.00,25.00,25.00,25.00" coltabs="3:33.33,33.33,33.33" MonCount="1"><vport rowPos="1" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos=
"DATA",2006.68,1,"VR-HP",120,1,4,0)
"2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="1" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" 
"DATA",2006.68,1,"VR-HP",120,1,5,0)
colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="2" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowP
"DATA",2006.68,1,"VR-HP",120,1,6,0)
os="2" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vpo
"DATA",2006.68,1,"VR-HP",120,1,7,0)
rt rowPos="3" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="3" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1
"DATA",2006.68,1,"VR-HP",120,1,8,0)
"/><vport rowPos="4" colPos="1" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/><vport rowPos="4" colPos="2" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonC
"DATA",2006.68,1,"VR-HP",120,1,9,0)
ount="1"/><vport rowPos="4" colPos="3" rows="0" cols="0" width="0" height="0" left="0" top="0" rowtabs="" coltabs="" MonCount="1"/></vport></vport></vport></TEMPLATE>
"DATA",2006.68,1,"VR-HP",121,0)
US_1-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",121,1,0)
^2006.6821^13^13
"DATA",2006.68,1,"VR-HP",121,1,1,0)
<HP name="US_1-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALITY" 
"DATA",2006.68,1,"VR-HP",121,1,2,0)
attrTag="fffffff4">US</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>US</Modali
"DATA",2006.68,1,"VR-HP",121,1,3,0)
ty></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><
"DATA",2006.68,1,"VR-HP",121,1,4,0)
SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStac
"DATA",2006.68,1,"VR-HP",121,1,5,0)
k="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="2-up_SYS_INT_TP^.5"><DispSetSeqItem dsIn
"DATA",2006.68,1,"VR-HP",121,1,6,0)
dex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="TILED" tileRows="2" tileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType
"DATA",2006.68,1,"VR-HP",121,1,7,0)
="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll=
"DATA",2006.68,1,"VR-HP",121,1,8,0)
"47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="2" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="TILED" tileRows="2
"DATA",2006.68,1,"VR-HP",121,1,9,0)
" tileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Sc
"DATA",2006.68,1,"VR-HP",121,1,10,0)
ale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="MON
"DATA",2006.68,1,"VR-HP",121,1,11,0)
1_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1" layoutType="TILED" tileRows="4" tileCols="3" scrollDir="VERTICAL" smallScrollType="PAGE" smal
"DATA",2006.68,1,"VR-HP",121,1,12,0)
lScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType
"DATA",2006.68,1,"VR-HP",121,1,13,0)
="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",122,0)
NM_1-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",122,1,0)
^2006.6821^20^20
"DATA",2006.68,1,"VR-HP",122,1,1,0)
<HP name="NM_1-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex=
"DATA",2006.68,1,"VR-HP",122,1,2,0)
"1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" clon
"DATA",2006.68,1,"VR-HP",122,1,3,0)
eSrc="-1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" type="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="2" label="">0\5</TimeBa
"DATA",2006.68,1,"VR-HP",122,1,4,0)
seValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><Series serIndex="1" localizer="0" serStudySplitIndex="-1" cloneSrc="-1" mImgSet="1"/><Series serIndex="2" localizer="0" serStudySplitIndex="-1" cloneSrc="-
"DATA",2006.68,1,"VR-HP",122,1,5,0)
1" mImgSet="1"/></Study></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>1</ExMa><Def>0</Def><SV attrName="MODALITY" attrTag="fffffff4">NM</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</Ti
"DATA",2006.68,1,"VR-HP",122,1,6,0)
meBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="0" mStack="1"><StudySplit studySplitIndex="1"><Modality>NM</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/
"DATA",2006.68,1,"VR-HP",122,1,7,0)
><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><PresentationGroup id="1" templateUsed="4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"
"DATA",2006.68,1,"VR-HP",122,1,8,0)
><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE"
"DATA",2006.68,1,"VR-HP",122,1,9,0)
 largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><S
"DATA",2006.68,1,"VR-HP",122,1,10,0)
orting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileC
"DATA",2006.68,1,"VR-HP",122,1,11,0)
ols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.
"DATA",2006.68,1,"VR-HP",122,1,12,0)
000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="2" stdIndex="1" 
"DATA",2006.68,1,"VR-HP",122,1,13,0)
serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cin
"DATA",2006.68,1,"VR-HP",122,1,14,0)
eDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBox
"DATA",2006.68,1,"VR-HP",122,1,15,0)
Property></DispSetSeqItem></PresentationGroup><PresentationGroup id="2" templateUsed="2-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|1,1"
"DATA",2006.68,1,"VR-HP",122,1,16,0)
 layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100
"DATA",2006.68,1,"VR-HP",122,1,17,0)
" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="5"><Img
"DATA",2006.68,1,"VR-HP",122,1,18,0)
SetUsed seqItemIndex="2" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" larg
"DATA",2006.68,1,"VR-HP",122,1,19,0)
eScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sortin
"DATA",2006.68,1,"VR-HP",122,1,20,0)
g sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/></HPDisplay></HP>
"DATA",2006.68,1,"VR-HP",123,0)
XA_1-hd_SYS_INT_HP
"DATA",2006.68,1,"VR-HP",123,1,0)
^2006.6821^29^29
"DATA",2006.68,1,"VR-HP",123,1,1,0)
<HP name="XA_1-hd_SYS_INT_HP" ver="1.0" level="SITE_DEFAULT" createdBy=".5" oldPTop="0" remote="0" stageOnTop="2"><HPDefinition><ImgSetSeq><ImgSetSeqItem index="1"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><SV attrName="MODALITY" 
"DATA",2006.68,1,"VR-HP",123,1,2,0)
attrTag="fffffff4">XA</SV><TimeBaseValue stdIndex="1" type="CURRENT" priorIndex="0" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="1"><StudySplit studySplitIndex="1"><Modality>XA</Modali
"DATA",2006.68,1,"VR-HP",123,1,3,0)
ty></StudySplit><StudySplit studySplitIndex="2"><Modality>CT</Modality></StudySplit><Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="2" cloneSrc
"DATA",2006.68,1,"VR-HP",123,1,4,0)
="-1" mImgSet="0"/><Series serIndex="3" localizer="0" serStudySplitIndex="1" cloneSrc="1" mImgSet="0"/><Series serIndex="4" localizer="0" serStudySplitIndex="2" cloneSrc="2" mImgSet="0"/><Series serIndex="5" localizer="0" serStudySplit
"DATA",2006.68,1,"VR-HP",123,1,5,0)
Index="2" cloneSrc="-1" mImgSet="0"/><Series serIndex="6" localizer="0" serStudySplitIndex="2" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem><ImgSetSeqItem index="2"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue std
"DATA",2006.68,1,"VR-HP",123,1,6,0)
Index="1" type="" label="">0\0</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="1"/></ImgSetSeqItem><ImgSetSeqItem index="3"><SearchDesc desc=""><ExMa>0</ExMa><Def>0</Def><TimeBaseValue stdIndex="1" ty
"DATA",2006.68,1,"VR-HP",123,1,7,0)
pe="RELATIVE_TIME_MATCH_PRIOR" unit="YEARS" max="2" priorIndex="1" label="">0\5</TimeBaseValue></SearchDesc><Study stdIndex="1" splitToSeriesBySerIUID="1" mStack="0"><StudySplit studySplitIndex="1"><Modality>CT</Modality></StudySplit><
"DATA",2006.68,1,"VR-HP",123,1,8,0)
Series serIndex="1" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/><Series serIndex="2" localizer="0" serStudySplitIndex="1" cloneSrc="-1" mImgSet="0"/></Study></ImgSetSeqItem></ImgSetSeq></HPDefinition><HPDisplay><Pre
"DATA",2006.68,1,"VR-HP",123,1,9,0)
sentationGroup id="1" templateUsed="4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="1"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scro
"DATA",2006.68,1,"VR-HP",123,1,10,0)
llDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" Flip
"DATA",2006.68,1,"VR-HP",123,1,11,0)
Type="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="2"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="2"
"DATA",2006.68,1,"VR-HP",123,1,12,0)
/><ImageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWAR
"DATA",2006.68,1,"VR-HP",123,1,13,0)
D" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></D
"DATA",2006.68,1,"VR-HP",123,1,14,0)
ispSetSeqItem><DispSetSeqItem dsIndex="3"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="1"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" sma
"DATA",2006.68,1,"VR-HP",123,1,15,0)
llScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLTyp
"DATA",2006.68,1,"VR-HP",123,1,16,0)
e="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="4"><ImgSetUsed seqItemIndex="3" stdIndex="1" serIndex="2"/><ImageBoxProperty position="0,0|1,1|1,1|2
"DATA",2006.68,1,"VR-HP",123,1,17,0)
,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="
"DATA",2006.68,1,"VR-HP",123,1,18,0)
100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><Presenta
"DATA",2006.68,1,"VR-HP",123,1,19,0)
tionGroup id="2" templateUsed="4-up_SYS_INT_TP^.5"><DispSetSeqItem dsIndex="5"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="3"/><ImageBoxProperty position="0,0|1,1|1,1|1,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir
"DATA",2006.68,1,"VR-HP",123,1,20,0)
="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType=
"DATA",2006.68,1,"VR-HP",123,1,21,0)
"0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="6"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="4"/><Im
"DATA",2006.68,1,"VR-HP",123,1,22,0)
ageBoxProperty position="0,0|1,1|1,1|1,2" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" ci
"DATA",2006.68,1,"VR-HP",123,1,23,0)
neSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSe
"DATA",2006.68,1,"VR-HP",123,1,24,0)
tSeqItem><DispSetSeqItem dsIndex="7"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="5"/><ImageBoxProperty position="0,0|1,1|1,1|2,1" layoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScr
"DATA",2006.68,1,"VR-HP",123,1,25,0)
ollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10
"DATA",2006.68,1,"VR-HP",123,1,26,0)
" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem><DispSetSeqItem dsIndex="8"><ImgSetUsed seqItemIndex="1" stdIndex="1" serIndex="6"/><ImageBoxProperty position="0,0|1,1|1,1|2,2" l
"DATA",2006.68,1,"VR-HP",123,1,27,0)
ayoutType="STACK" tileRows="1" tileCols="1" scrollDir="VERTICAL" smallScrollType="PAGE" smallScrollAmount="0" largeScrollType="PAGE" largeScrollAmount="0" playbackSequ="1" cineDir="FORWARD" cineSpeed="100" PatientOrient="" Level="100" 
"DATA",2006.68,1,"VR-HP",123,1,28,0)
Window="500" FitToSize="1" Scale="1.000000" FlipType="0" RotateType="0" PresetName="" WLType="10" Sharp="5" Inv="0" AppToAll="47"><Sorting sortDir="0" sortType="4"/></ImageBoxProperty></DispSetSeqItem></PresentationGroup><LinkGroups/><
"DATA",2006.68,1,"VR-HP",123,1,29,0)
/HPDisplay></HP>
"DATA",2006.68,1,"VR-WS",0)
^2006.682A^1^1
"DATA",2006.68,1,"VR-WS",1,0)
CPT_HP_ASSO_WS_S1280x1024_P1536x2048_P1536x2048
"DATA",2006.68,1,"VR-WS",1,1,0)
^2006.6821^1^1
"DATA",2006.68,1,"VR-WS",1,1,1,0)
<Settings><SharedHPPointerLookup/></Settings>
"FIA",2005)
IMAGE
"FIA",2005,0)
^MAG(2005,
"FIA",2005,0,0)
2005I
"FIA",2005,0,1)
y^y^p^^^^n
"FIA",2005,0,10)

"FIA",2005,0,11)

"FIA",2005,0,"RLRO")

"FIA",2005,0,"VR")
3.0^MAG
"FIA",2005,2005)
1
"FIA",2005,2005,210)

"FIA",2005,2005.05)
0
"FIA",2005,2005.51)
0
"FIA",2005.001)
IMAGING STUDY
"FIA",2005.001,0)
^MAG(2005.001,
"FIA",2005.001,0,0)
2005.001
"FIA",2005.001,0,1)
y^y^f^^^^n
"FIA",2005.001,0,10)

"FIA",2005.001,0,11)

"FIA",2005.001,0,"RLRO")

"FIA",2005.001,0,"VR")
3.0^MAG
"FIA",2005.001,2005.001)
0
"FIA",2005.001,2005.031)
0
"FIA",2005.001,2005.311)
0
"FIA",2006.63)
MAG RAD LIST DATA ELEMENTS
"FIA",2006.63,0)
^MAG(2006.63,
"FIA",2006.63,0,0)
2006.63
"FIA",2006.63,0,1)
y^y^f^^n^^y^o^n
"FIA",2006.63,0,10)

"FIA",2006.63,0,11)

"FIA",2006.63,0,"RLRO")

"FIA",2006.63,0,"VR")
3.0^MAG
"FIA",2006.63,2006.63)
0
"FIA",2006.631)
MAG RAD LISTS DEFINITION
"FIA",2006.631,0)
^MAG(2006.631,
"FIA",2006.631,0,0)
2006.631I
"FIA",2006.631,0,1)
y^y^f^^n^^y^r^n
"FIA",2006.631,0,10)

"FIA",2006.631,0,11)
I $P(^(0),"^",2)>9000
"FIA",2006.631,0,"RLRO")

"FIA",2006.631,0,"VR")
3.0^MAG
"FIA",2006.631,2006.631)
0
"FIA",2006.631,2006.6311)
0
"FIA",2006.631,2006.6312)
0
"FIA",2006.634)
MAGJ ZLIST SEARCH
"FIA",2006.634,0)
^MAG(2006.634,
"FIA",2006.634,0,0)
2006.634
"FIA",2006.634,0,1)
y^y^f^^^^n
"FIA",2006.634,0,10)

"FIA",2006.634,0,11)

"FIA",2006.634,0,"RLRO")

"FIA",2006.634,0,"VR")
3.0^MAG
"FIA",2006.634,2006.634)
0
"FIA",2006.67)
MAG RAD CPT MATCHING
"FIA",2006.67,0)
^MAG(2006.67,
"FIA",2006.67,0,0)
2006.67P
"FIA",2006.67,0,1)
y^y^f^^n^^y^o^n
"FIA",2006.67,0,10)

"FIA",2006.67,0,11)

"FIA",2006.67,0,"RLRO")

"FIA",2006.67,0,"VR")
3.0^MAG
"FIA",2006.67,2006.67)
0
"FIA",2006.67,2006.674)
0
"FIA",2006.67,2006.675)
0
"FIA",2006.671)
MAG RAD BODY PART
"FIA",2006.671,0)
^MAG(2006.671,
"FIA",2006.671,0,0)
2006.671
"FIA",2006.671,0,1)
y^y^f^^n^^y^o^n
"FIA",2006.671,0,10)

"FIA",2006.671,0,11)

"FIA",2006.671,0,"RLRO")

"FIA",2006.671,0,"VR")
3.0^MAG
"FIA",2006.671,2006.671)
0
"FIA",2006.672)
MAG RAD BODY REGION
"FIA",2006.672,0)
^MAG(2006.672,
"FIA",2006.672,0,0)
2006.672
"FIA",2006.672,0,1)
y^y^f^^n^^y^o^n
"FIA",2006.672,0,10)

"FIA",2006.672,0,11)

"FIA",2006.672,0,"RLRO")

"FIA",2006.672,0,"VR")
3.0^MAG
"FIA",2006.672,2006.672)
0
"FIA",2006.68)
MAGJ USER DATA
"FIA",2006.68,0)
^MAG(2006.68,
"FIA",2006.68,0,0)
2006.68O
"FIA",2006.68,0,1)
y^y^f^^n^^y^o^y
"FIA",2006.68,0,10)

"FIA",2006.68,0,11)
I Y=1
"FIA",2006.68,0,"RLRO")

"FIA",2006.68,0,"VR")
3.0^MAG
"FIA",2006.68,2006.68)
0
"FIA",2006.68,2006.682)
0
"FIA",2006.68,2006.6821)
0
"FIA",2006.68,2006.6823)
0
"FIA",2006.68,2006.683)
0
"FIA",2006.68,2006.6831)
0
"FIA",2006.68,2006.6832)
0
"FIA",2006.69)
MAG VISTARAD SITE PARAMETERS
"FIA",2006.69,0)
^MAG(2006.69,
"FIA",2006.69,0,0)
2006.69
"FIA",2006.69,0,1)
y^y^f^^^^n
"FIA",2006.69,0,10)

"FIA",2006.69,0,11)

"FIA",2006.69,0,"RLRO")

"FIA",2006.69,0,"VR")
3.0^MAG
"FIA",2006.69,2006.69)
0
"INIT")
P18^MAGJMN1
"IX",2005.001,2005.001,"ASTUDY",0)
2005.001^ASTUDY^Index by Parent File and Parent Global Root^R^^R^IR^I^2005.001^^^^^S
"IX",2005.001,2005.001,"ASTUDY",1)
S ^MAG(2005.001,"ASTUDY",$E(X(1),1,9),$E(X(2),1,15),DA)=""
"IX",2005.001,2005.001,"ASTUDY",2)
K ^MAG(2005.001,"ASTUDY",$E(X(1),1,9),$E(X(2),1,15),DA)
"IX",2005.001,2005.001,"ASTUDY",2.5)
K ^MAG(2005.001,"ASTUDY")
"IX",2005.001,2005.001,"ASTUDY",11.1,0)
^.114IA^2^2
"IX",2005.001,2005.001,"ASTUDY",11.1,1,0)
1^F^2005.001^1^9^1^F
"IX",2005.001,2005.001,"ASTUDY",11.1,2,0)
2^F^2005.001^.01^15^2^F
"KRN",.4,2625,-1)
0^1
"KRN",.4,2625,0)
MAGJ CPT MATCH PRT^3050706.1612^@^2006.67^^@^3051209
"KRN",.4,2625,"%D",0)
^^1^1^3050607^
"KRN",.4,2625,"%D",1,0)
Print template for VistaRad CPT Matching CPT code set
"KRN",.4,2625,"F",2)
.01~1~3~4,.01~5,.01~
"KRN",.4,2625,"H")
VistaRad CPT Matching Logic
"KRN",19,20776,-1)
0^2
"KRN",19,20776,0)
MAG JB OFFLINE^Track Offline Jukebox Images^^R^^^^^^^^IMAGING
"KRN",19,20776,1,0)
^19.06^3^3^3050509^^
"KRN",19,20776,1,1,0)
Menu option to keep track of images for jukeboxes platters that have been
"KRN",19,20776,1,2,0)
removed.   Use this option when removing full jukebox platters and when
"KRN",19,20776,1,3,0)
those platter are placed back on-line.
"KRN",19,20776,25)
ENTRY^MAGSDOFL
"KRN",19,20776,"U")
TRACK OFFLINE JUKEBOX IMAGES
"KRN",19,20837,-1)
2^12
"KRN",19,20837,0)
MAGJ MAIN^VistARad System Options^^M^126^^^^^^^454
"KRN",19,20837,10,0)
^19.01IP^9^9
"KRN",19,20837,10,1,0)
20838^ELIS^20
"KRN",19,20837,10,1,"^")
MAGJ E/E VISTARAD LISTS
"KRN",19,20837,10,2,0)
20840^PLIS^21
"KRN",19,20837,10,2,"^")
MAGJ LIST INQUIRY
"KRN",19,20837,10,3,0)
20841^SITP^1
"KRN",19,20837,10,3,"^")
MAGJ VISTARAD SITE PARAMETERS
"KRN",19,20837,10,4,0)
20845^PPRF^33
"KRN",19,20837,10,4,"^")
MAGJ PREFETCH PRINT
"KRN",19,20837,10,5,0)
20844^EPRF^30
"KRN",19,20837,10,5,"^")
MAGJ E/E PREFETCH LOGIC
"KRN",19,20837,10,6,0)
20846^IPRF^32
"KRN",19,20837,10,6,"^")
MAGJ INQUIRE PREFETCH LOGIC
"KRN",19,20837,10,7,0)
21832^ECPT^40
"KRN",19,20837,10,7,"^")
MAGJ E/E CPT MATCHING SET
"KRN",19,20837,10,8,0)
21834^PCPT^43
"KRN",19,20837,10,8,"^")
MAGJ PRINT CPT MATCHING LOGIC
"KRN",19,20837,10,9,0)
21833^ICPT^42
"KRN",19,20837,10,9,"^")
MAGJ INQUIRE CPT MATCHING SET
"KRN",19,20837,"U")
VISTARAD SYSTEM OPTIONS
"KRN",19,20838,-1)
0^5
"KRN",19,20838,0)
MAGJ E/E VISTARAD LISTS^E/E VistaRad Exam Lists^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,20838,1,0)
^^3^3^2990507^
"KRN",19,20838,1,1,0)
Use this option to create or edit lists displayed by VistARad's "Vista
"KRN",19,20838,1,2,0)
Functions" window.  You can specify which columns to include, the sorting,
"KRN",19,20838,1,3,0)
and selection logic for screened lists.
"KRN",19,20838,25)
SVRLIST^MAGJMN1
"KRN",19,20838,"U")
E/E VISTARAD EXAM LISTS
"KRN",19,20839,-1)
0^1
"KRN",19,20839,0)
MAGJ VISTARAD WINDOWS^MAGJ VISTARAD RPC'S^^B^^^^^^^^
"KRN",19,20839,1,0)
^19.06^1^1^3010321^^^
"KRN",19,20839,1,1,0)
This option is the Broker entry for holding the Imaging VistaRad RPC's.
"KRN",19,20839,99.1)
58510,33726
"KRN",19,20839,"RPC",0)
^19.05P^38^38
"KRN",19,20839,"RPC",1,0)
MAGJ CACHELOCATION
"KRN",19,20839,"RPC",3,0)
MAGJ PTRADEXAMS
"KRN",19,20839,"RPC",4,0)
MAGJ RADACTIVEEXAMS
"KRN",19,20839,"RPC",5,0)
MAGJ RADCASEIMAGES
"KRN",19,20839,"RPC",6,0)
MAGJ RADSTATUSUPDATE
"KRN",19,20839,"RPC",7,0)
MAGJ CUSTOM LISTS
"KRN",19,20839,"RPC",8,0)
MAGGUSER2
"KRN",19,20839,"RPC",11,0)
MAGGRADREPORT
"KRN",19,20839,"RPC",12,0)
MAGGDGRPD
"KRN",19,20839,"RPC",13,0)
MAGGHSLIST
"KRN",19,20839,"RPC",14,0)
MAGGHS
"KRN",19,20839,"RPC",15,0)
MAGJ RADORDERDISP
"KRN",19,20839,"RPC",16,0)
MAGG PAT FIND
"KRN",19,20839,"RPC",17,0)
MAGG PAT INFO
"KRN",19,20839,"RPC",18,0)
MAGG PAT BS5 CHECK
"KRN",19,20839,"RPC",19,0)
DG CHK PAT/DIV MEANS TEST
"KRN",19,20839,"RPC",20,0)
DG SENSITIVE RECORD ACCESS
"KRN",19,20839,"RPC",21,0)
DG SENSITIVE RECORD BULLETIN
"KRN",19,20839,"RPC",22,0)
MAGJ PT ALL EXAMS
"KRN",19,20839,"RPC",23,0)
MAGJ EXAM REPORT
"KRN",19,20839,"RPC",25,0)
MAGJ ROUTE ENABLE
"KRN",19,20839,"RPC",26,0)
MAGJ ROUTE EXAMS
"KRN",19,20839,"RPC",27,0)
MAGJ ROUTE REQUEST
"KRN",19,20839,"RPC",28,0)
MAGJ LOGOFF
"KRN",19,20839,"RPC",29,0)
MAGJ PT INFO
"KRN",19,20839,"RPC",30,0)
MAGJ USER DATA
"KRN",19,20839,"RPC",31,0)
MAGJ USER2
"KRN",19,20839,"RPC",32,0)
MAGJ STUDY_DATA
"KRN",19,20839,"RPC",33,0)
MAGJ HISTORYLIST
"KRN",19,20839,"RPC",34,0)
MAGJ CPTMATCH
"KRN",19,20839,"RPC",35,0)
MAGJ RADCASELOCKS
"KRN",19,20839,"RPC",36,0)
MAGJ RADSTATUSCHECK
"KRN",19,20839,"RPC",37,0)
MAGJ PRIOREXAMS
"KRN",19,20839,"RPC",38,0)
MAGJ REMOTESCREEN
"KRN",19,20839,"U")
MAGJ VISTARAD RPC'S
"KRN",19,20840,-1)
0^8
"KRN",19,20840,0)
MAGJ LIST INQUIRY^Print VistaRad List Definition^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,20840,1,0)
^^1^1^2990507^^
"KRN",19,20840,1,1,0)
Use this option to display the list definition for the VistARad Lists.
"KRN",19,20840,25)
LSTINQ^MAGJMN1
"KRN",19,20840,"U")
PRINT VISTARAD LIST DEFINITION
"KRN",19,20841,-1)
0^11
"KRN",19,20841,0)
MAGJ VISTARAD SITE PARAMETERS^E/E VistaRad Site Parameters^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,20841,1,0)
^^2^2^2990507^
"KRN",19,20841,1,1,0)
Use this option to define various system settings that control VistaRad
"KRN",19,20841,1,2,0)
functionality.
"KRN",19,20841,25)
VRSIT^MAGJMN1
"KRN",19,20841,"U")
E/E VISTARAD SITE PARAMETERS
"KRN",19,20844,-1)
0^4
"KRN",19,20844,0)
MAGJ E/E PREFETCH LOGIC^E/E VistaRad PreFetch Logic^^R^^^^^^^^IMAGING
"KRN",19,20844,1,0)
^19.06^5^5^3050804^^
"KRN",19,20844,1,1,0)
Use this option to define or edit prefetch logic.  The logic consists of
"KRN",19,20844,1,2,0)
mapping the Current Exam CPT code to Prior exams of interest by their CPT
"KRN",19,20844,1,3,0)
codes.  For each mapping, you will indicate the number of prior exams to
"KRN",19,20844,1,4,0)
prefetch, and optionally also specify an age cutoff (i.e., to ignore exams
"KRN",19,20844,1,5,0)
older than the specified number or days).
"KRN",19,20844,25)
EEPREF^MAGJMN1
"KRN",19,20844,"U")
E/E VISTARAD PREFETCH LOGIC
"KRN",19,20845,-1)
0^9
"KRN",19,20845,0)
MAGJ PREFETCH PRINT^Print VistaRad Prefetch Logic Table^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,20845,25)
PRPREF^MAGJMN1
"KRN",19,20845,"U")
PRINT VISTARAD PREFETCH LOGIC 
"KRN",19,20846,-1)
0^7
"KRN",19,20846,0)
MAGJ INQUIRE PREFETCH LOGIC^Inquire Prefetch Logic^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,20846,25)
INPREF^MAGJMN1
"KRN",19,20846,"U")
INQUIRE PREFETCH LOGIC
"KRN",19,21832,-1)
0^3
"KRN",19,21832,0)
MAGJ E/E CPT MATCHING SET^E/E VistaRad CPT Matching Set^^R^^^^^^^^IMAGING
"KRN",19,21832,1,0)
^19.06^5^5^3050607^^
"KRN",19,21832,1,1,0)
Use this option to define a matched Radiology procedure to other procedures of
"KRN",19,21832,1,2,0)
interest based on grouping of CPT codes, or attributes associated with the CPT
"KRN",19,21832,1,3,0)
code (Modality, Body Part).  This supports logic in the hanging protocols for
"KRN",19,21832,1,4,0)
automatically retrieving and displaying prior exams of interest when
"KRN",19,21832,1,5,0)
interpreting a new exam for a patient.
"KRN",19,21832,10.1)
ECPT
"KRN",19,21832,25)
EECPT^MAGJMN3
"KRN",19,21832,"U")
E/E VISTARAD CPT MATCHING SET
"KRN",19,21833,-1)
0^6
"KRN",19,21833,0)
MAGJ INQUIRE CPT MATCHING SET^Inquire VistaRad CPT Matching Set^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,21833,1,0)
^^5^5^3050607^
"KRN",19,21833,1,1,0)
Use this option to inquire a matched Radiology procedure to other procedures
"KRN",19,21833,1,2,0)
of interest based on grouping of CPT codes, or attributes associated with the CPT
"KRN",19,21833,1,3,0)
code (Modality, Body Part).  This supports logic in the hanging protocols for
"KRN",19,21833,1,4,0)
automatically retrieving and displaying prior exams of interest when
"KRN",19,21833,1,5,0)
interpreting a new exam for a patient.
"KRN",19,21833,10.1)
ICPT
"KRN",19,21833,25)
INCPT^MAGJMN3
"KRN",19,21833,"U")
INQUIRE VISTARAD CPT MATCHING 
"KRN",19,21834,-1)
0^10
"KRN",19,21834,0)
MAGJ PRINT CPT MATCHING LOGIC^Print VistaRad CPT Matching Logic Table^^R^^^^^^^^MAGJ RADIOLOGY
"KRN",19,21834,1,0)
^^5^5^3050607^
"KRN",19,21834,1,1,0)
Use this option to print all matched Radiology procedure to other procedures
"KRN",19,21834,1,2,0)
of interest based on grouping of CPT codes, or attributes associated with the CPT
"KRN",19,21834,1,3,0)
code (Modality, Body Part).  This supports logic in the hanging protocols for
"KRN",19,21834,1,4,0)
automatically retrieving and displaying prior exams of interest when
"KRN",19,21834,1,5,0)
interpreting a new exam for a patient.
"KRN",19,21834,10.1)
PCPT
"KRN",19,21834,25)
PRCPT^MAGJMN3
"KRN",19,21834,"U")
PRINT VISTARAD CPT MATCHING LO
"KRN",19.1,774,-1)
0^1
"KRN",19.1,774,0)
MAGJ SYSTEM USER^Vistarad System Administrator^^n
"KRN",19.1,774,1,0)
^^2^2^3050216^
"KRN",19.1,774,1,1,0)
This key allows the user to perform some Vistarad administration tasks
"KRN",19.1,774,1,2,0)
including add/edit system default Templates and Hanging Protocols.
"KRN",8994,508,-1)
0^18
"KRN",8994,508,0)
MAGJ RADACTIVEEXAMS^ACTIVE^MAGJLS2^4^R^^^1
"KRN",8994,508,1,0)
^8994.01^23^23
"KRN",8994,508,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,508,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,508,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,508,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,508,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,508,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,508,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,508,1,8,0)
 |                                                               |
"KRN",8994,508,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,508,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,508,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,508,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,508,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,508,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,508,1,15,0)
This procedure is used by the Radiology Imaging Workstation to display
"KRN",8994,508,1,16,0)
listings of radiology exams:
"KRN",8994,508,1,17,0)
  1) UNREAD Exams--list all Active exams for selected modalities (Rad
"KRN",8994,508,1,18,0)
     Imaging Types) having an Exam Status of "Examined" (or its
"KRN",8994,508,1,19,0)
     equivalent).
"KRN",8994,508,1,20,0)
  2) RECENT Exams--list all Active exams for selected modalities (Rad
"KRN",8994,508,1,21,0)
     Imaging Types) EXCEPT those having an Exam Status of "Examined" (or
"KRN",8994,508,1,22,0)
     its equivalent).
"KRN",8994,508,1,23,0)
  3) ALL ACTIVE--Lists the union of the above two lists.
"KRN",8994,508,2,0)
^8994.02A^1^1
"KRN",8994,508,2,1,0)
DATA^1^50^1
"KRN",8994,508,2,1,1,0)
^^7^7^2981020^
"KRN",8994,508,2,1,1,1,0)
The input string supplies two parameters: LIST_TYPE ^ MODALITY
"KRN",8994,508,2,1,1,2,0)
  LIST_TYPE:  "U"--UNREAD Exams List; or, 
"KRN",8994,508,2,1,1,3,0)
              "R"--RECENT Exams List
"KRN",8994,508,2,1,1,4,0)
               "ALL"--All Active Exams
"KRN",8994,508,2,1,1,5,0)
  MODALITY:   "ALL"--list for all modalities; or,
"KRN",8994,508,2,1,1,6,0)
              ABB[^ABB^...] where ABB is the Radiology Imaging Type
"KRN",8994,508,2,1,1,7,0)
                Abbreviation (Imaging Types will correspond to modalities)
"KRN",8994,508,2,"B","DATA",1)

"KRN",8994,508,3,0)
^^11^11^2981020^^^
"KRN",8994,508,3,1,0)
ARRAY(0)     = # Exams Found ^ Text for listing title, or error message
"KRN",8994,508,3,2,0)
ARRAY(1)     = List Column Headings, delimited by "^"
"KRN",8994,508,3,3,0)
ARRAY(2..N+1)= Exam data for display, delimited by "^", followed by exam
"KRN",8994,508,3,4,0)
               data as stored by Radiology package routine RAPTLU in ^TMP
"KRN",8994,508,3,5,0)
 
"KRN",8994,508,3,6,0)
  Display data: ^ DAYCASE # ^ PAT. NAME ^ PAT ABB. ^ URGENCY ^ PROCEDURE ^
"KRN",8994,508,3,7,0)
     EXAM DATE ^ EXAM STATUS ^ # IMAGES ^ IMAGES ON MAG DISK? ^ EXAM LOC.
"KRN",8994,508,3,8,0)
     ^ ^TMP($J,"RAEX",
"KRN",8994,508,3,9,0)
      Data from ^TMP (expressed as Rad Pkg variable names):
"KRN",8994,508,3,10,0)
        RADFN ^ RADTI ^ RACNI ^ RANME ^ RASSN ^ RADATE ^ RADTE ^ RACN ^
"KRN",8994,508,3,11,0)
        RAPRC ^ RARPT ^ RAST
"KRN",8994,509,-1)
0^17
"KRN",8994,509,0)
MAGJ PTRADEXAMS^PTLIST^MAGJLST1^4^R^^^1
"KRN",8994,509,1,0)
^8994.01^17^17
"KRN",8994,509,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,509,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,509,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,509,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,509,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,509,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,509,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,509,1,8,0)
 |                                                               |
"KRN",8994,509,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,509,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,509,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,509,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,509,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,509,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,509,1,15,0)
This procedure is used by the Radiology Imaging Workstation to display a
"KRN",8994,509,1,16,0)
listing of all, or a subset of all, radiology exams for a selected
"KRN",8994,509,1,17,0)
patient.
"KRN",8994,509,2,0)
^8994.02A^1^1
"KRN",8994,509,2,1,0)
DATA^1^30^1
"KRN",8994,509,2,1,1,0)
^^7^7^3000215^
"KRN",8994,509,2,1,1,1,0)
Patient DFN ^ #_YRS_LIMIT ^ #_EXAMS_LIMIT
"KRN",8994,509,2,1,1,2,0)
 
"KRN",8994,509,2,1,1,3,0)
#_YRS_LIMIT -- optional; an integer value, used to limit the returned list
"KRN",8994,509,2,1,1,4,0)
to include only exams within the most recent # of years specified
"KRN",8994,509,2,1,1,5,0)
 
"KRN",8994,509,2,1,1,6,0)
#_EXAMS_LIMIT -- optiona; integer value to limit the number of list
"KRN",8994,509,2,1,1,7,0)
entries returned
"KRN",8994,509,2,"B","DATA",1)

"KRN",8994,509,3,0)
^^11^11^3000215^^^^
"KRN",8994,509,3,1,0)
 ARRAY(0)     = # Exams Found ^ Text for listing title, or error message
"KRN",8994,509,3,2,0)
 ARRAY(1)     = List Column Headings, delimited by "^"
"KRN",8994,509,3,3,0)
 ARRAY(2..N+1)= Exam data for display, delimited by "^", followed by exam
"KRN",8994,509,3,4,0)
                data as stored by Radiology package routine RAPTLU in ^TMP
"KRN",8994,509,3,5,0)
 
"KRN",8994,509,3,6,0)
 Display data: 
"KRN",8994,509,3,7,0)
         LIST COUNTER ^ DAY-CASE # ^ PROCEDURE ^ EXAM DATE ^ EXAM STATUS ^
"KRN",8994,509,3,8,0)
         EXAM LOC. ^ ^TMP($J,"RAEX",
"KRN",8994,509,3,9,0)
 Data from ^TMP (expressed as Rad Pkg variable names):
"KRN",8994,509,3,10,0)
         RADFN ^ RADTI ^ RACNI ^ RANME ^ RASSN ^ RADATE ^ RADTE ^ RACN ^
"KRN",8994,509,3,11,0)
         RAPRC ^ RARPT ^ RAST 
"KRN",8994,510,-1)
0^19
"KRN",8994,510,0)
MAGJ RADCASEIMAGES^OPENCASE^MAGJEX1^4^R^^^1
"KRN",8994,510,1,0)
^8994.01^19^19
"KRN",8994,510,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,510,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,510,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,510,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,510,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,510,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,510,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,510,1,8,0)
 |                                                               |
"KRN",8994,510,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,510,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,510,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,510,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,510,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,510,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,510,1,15,0)
This procedure is used by the Radiology Imaging Workstation to fetch image
"KRN",8994,510,1,16,0)
file information for all the images for a selected case.  If the case's
"KRN",8994,510,1,17,0)
images are not on magnetic storage, but are on archive storage (e.g.,
"KRN",8994,510,1,18,0)
jukebox), then the procedure initiates a fetch of the image files from
"KRN",8994,510,1,19,0)
the archive.
"KRN",8994,510,2,0)
^8994.02A^1^1
"KRN",8994,510,2,1,0)
DATA^1^50^1
"KRN",8994,510,2,1,1,0)
^^2^2^2980520^^^^
"KRN",8994,510,2,1,1,1,0)
Input value is the pointer to the RAD/NUC MED REPORTS file for the case;
"KRN",8994,510,2,1,1,2,0)
this pointer is referred to by the Radiology pkg variable RARPT.
"KRN",8994,510,2,"B","DATA",1)

"KRN",8994,510,3,0)
^^7^7^2980520^^^
"KRN",8994,510,3,1,0)
 ARRAY(0)   = # Images Found ^ Text for reply status or error message
"KRN",8994,510,3,2,0)
 ARRAY(1..N)= "B2" ^ Image file data, delimited by "^", as supplied by the
"KRN",8994,510,3,3,0)
              subroutine BOTH^MAGFILEA
"KRN",8994,510,3,4,0)
 
"KRN",8994,510,3,5,0)
 If images are on archive storage (not on magnetic disk), then the return
"KRN",8994,510,3,6,0)
 is :
"KRN",8994,510,3,7,0)
      ARRAY(0) = 0 ^ N images on jukebox have been requested
"KRN",8994,511,-1)
0^10
"KRN",8994,511,0)
MAGJ RADSTATUSUPDATE^STATUS^MAGJUPD1^4^R
"KRN",8994,511,1,0)
^8994.01^20^20^3051209^^^^
"KRN",8994,511,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,511,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,511,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,511,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,511,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,511,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,511,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,511,1,8,0)
 |                                                               |
"KRN",8994,511,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,511,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,511,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,511,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,511,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,511,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,511,1,15,0)
This procedure is used by the Radiology Imaging Workstation to update the
"KRN",8994,511,1,16,0)
Radiology Exam Status code for the current exam to "Interpreted" (or an
"KRN",8994,511,1,17,0)
equivalent value).  Also, the case is closed by this procedure, and
"KRN",8994,511,1,18,0)
Key Image and/or Presentation State data is stored, if required.
"KRN",8994,511,1,19,0)
  Note: This procedure will only update the Exam Status if the current
"KRN",8994,511,1,20,0)
        value is "Examined".
"KRN",8994,511,2,0)
^8994.02A^2^2
"KRN",8994,511,2,1,0)
PARAMS^1^50^1^1
"KRN",8994,511,2,1,1,0)
^8994.021^5^5^3050216^^^^
"KRN",8994,511,2,1,1,1,0)
Input string = UPDFLAG ^ RARPT ^ RADFN ^ RADTI ^ RACNI ^ UPDPSKEY
"KRN",8994,511,2,1,1,2,0)
             UPDFLAG = 1/0 -- 1 to perform update; else no update made
"KRN",8994,511,2,1,1,3,0)
             RARPT = pointer to Rad Exam Report file
"KRN",8994,511,2,1,1,4,0)
             RADFN,RADTI,RACNI = pointers to Rad Patient File for the exam
"KRN",8994,511,2,1,1,5,0)
            UPDPSKEY = 1 if updating Pres State or Key Image data
"KRN",8994,511,2,2,0)
DATA^3^120^0^2
"KRN",8994,511,2,2,1,0)
^8994.021^14^14^3050601^^^^
"KRN",8994,511,2,2,1,1,0)
optional array of text containing Key Image and/or
"KRN",8994,511,2,2,1,2,0)
Image Presentation State data. The format of the message
"KRN",8994,511,2,2,1,3,0)
contained in DATA is:
"KRN",8994,511,2,2,1,4,0)
*IMAGE
"KRN",8994,511,2,2,1,5,0)
Image_IEN ^ KEY
"KRN",8994,511,2,2,1,6,0)
*PS
"KRN",8994,511,2,2,1,7,0)
PS_UID ^ KEY
"KRN",8994,511,2,2,1,8,0)
xml text lines 1
"KRN",8994,511,2,2,1,9,0)
xml text lines 2:N (as needed)
"KRN",8994,511,2,2,1,10,0)
*END_PS
"KRN",8994,511,2,2,1,11,0)
[*PS . . . *END_PS] (as many as for this image)
"KRN",8994,511,2,2,1,12,0)
*END_IMAGE
"KRN",8994,511,2,2,1,13,0)
[*IMAGE . . . *END_IMAGE] (as many as for the exam)
"KRN",8994,511,2,2,1,14,0)
*END
"KRN",8994,511,2,"B","DATA",2)

"KRN",8994,511,2,"B","PARAMS",1)

"KRN",8994,511,2,"PARAMSEQ",1,1)

"KRN",8994,511,2,"PARAMSEQ",2,2)

"KRN",8994,511,3,0)
^8994.03^3^3^3051209^^^^
"KRN",8994,511,3,1,0)
Returns string = 1/0 ^ RESULT
"KRN",8994,511,3,2,0)
                 1--Normal result; 0--Unexpected result
"KRN",8994,511,3,3,0)
                 RESULT--text description of the update results
"KRN",8994,659,-1)
0^14
"KRN",8994,659,0)
MAGJ CACHELOCATION^CACHEQ^MAGJUTL3^4^R^^^1
"KRN",8994,659,1,0)
^8994.01^17^17^3050224^
"KRN",8994,659,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,659,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,659,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,659,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,659,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,659,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,659,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,659,1,8,0)
 |                                                               |
"KRN",8994,659,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,659,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,659,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,659,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,659,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,659,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,659,1,15,0)
This procedure is used by the Radiology Imaging Workstation to obtain from
"KRN",8994,659,1,16,0)
the Imaging Host system the image cache locations for images that have
"KRN",8994,659,1,17,0)
been routed to remote sites/workstations.
"KRN",8994,659,2,0)
^8994.02A^1^1
"KRN",8994,659,2,1,0)
DATA^1^50^1
"KRN",8994,659,2,1,1,0)
^8994.021^2^2^3050224^^^^
"KRN",8994,659,2,1,1,1,0)
This is the Remote Location identifier as defined on the reading
"KRN",8994,659,2,1,1,2,0)
workstation in MAGJ.INI
"KRN",8994,659,2,"B","DATA",1)

"KRN",8994,659,3,0)
^8994.03^9^9^3050224^^^
"KRN",8994,659,3,1,0)
  ARRAY(0)   = # of Cache Locations below (0 to n)
"KRN",8994,659,3,2,0)
  ARRAY(1..n)= Physical Location ^ Subdirectory ^ Hash Indicator
"KRN",8994,659,3,3,0)
             ^ Password ^ Username ^ REMOTE_LOC_IEN
"KRN",8994,659,3,4,0)
    Only defined if ARRAY(0)>0
"KRN",8994,659,3,5,0)
    Physical Location = File Path string
"KRN",8994,659,3,6,0)
    Subdirectory = Directory root on Physical Location
"KRN",8994,659,3,7,0)
    Hash Indicator = Null, or 1 if images stored in hashed directories
"KRN",8994,659,3,8,0)
    Username = Used to establish a connection with the image share
"KRN",8994,659,3,9,0)
    Password = Used to establish a connection with the image share
"KRN",8994,748,-1)
0^15
"KRN",8994,748,0)
MAGJ CUSTOM LISTS^LISTINF^MAGJUTL3^4^R^^^1
"KRN",8994,748,1,0)
^8994.01^19^19
"KRN",8994,748,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,748,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,748,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,748,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,748,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,748,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,748,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,748,1,8,0)
 |                                                               |
"KRN",8994,748,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,748,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,748,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,748,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,748,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,748,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,748,1,15,0)
This procedure is used by the Radiology Imaging Workstation to obtain from
"KRN",8994,748,1,16,0)
 the Imaging Host system information for defined custom exam lists (from
"KRN",8994,748,1,17,0)
the file MAG RAD LISTS DEFINITION).  This information is used to load
"KRN",8994,748,1,18,0)
a workstation menu option with available lists, as well as make these
"KRN",8994,748,1,19,0)
available via buttons on the VistaRad Server window.
"KRN",8994,748,3,0)
^^2^2^2990630^^^
"KRN",8994,748,3,1,0)
ARRAY(0)   = # of List entries below
"KRN",8994,748,3,2,0)
ARRAY(1:n) = Button Label ~ List # ~ Button Hints text ~ List Type
"KRN",8994,749,-1)
0^7
"KRN",8994,749,0)
MAGJ RADORDERDISP^ORD^MAGJRPT^4^R^^^1
"KRN",8994,749,1,0)
^8994.01^15^15
"KRN",8994,749,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,749,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,749,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,749,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,749,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,749,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,749,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,749,1,8,0)
 |                                                               |
"KRN",8994,749,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,749,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,749,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,749,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,749,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,749,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,749,1,15,0)
Returns the Detailed Request Display for the radiology exam.
"KRN",8994,749,2,0)
^8994.02A^1^1
"KRN",8994,749,2,1,0)
DATA^1^40^1
"KRN",8994,749,2,1,1,0)
^^4^4^2991014^^^
"KRN",8994,749,2,1,1,1,0)
Input is pointers to the Radiology exam--
"KRN",8994,749,2,1,1,2,0)
Can be either the RARPT value (pointer to the Rad Reports file), or the
"KRN",8994,749,2,1,1,3,0)
values of RADFN, RADTI, RACNI (pointers to the Rad Patient File).
"KRN",8994,749,2,1,1,4,0)
   Format is:  RADFN^RADTI^RACNI^RARPT
"KRN",8994,749,2,"B","DATA",1)

"KRN",8994,749,3,0)
^^1^1^2991014^^^^
"KRN",8994,749,3,1,0)
Returns info in an array.
"KRN",8994,914,-1)
0^13
"KRN",8994,914,0)
MAGJ PT ALL EXAMS^PTLSTALL^MAGJLST1^4^R^^^1
"KRN",8994,914,1,0)
^8994.01^17^17
"KRN",8994,914,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,914,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,914,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,914,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,914,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,914,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,914,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,914,1,8,0)
 |                                                               |
"KRN",8994,914,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,914,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,914,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,914,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,914,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,914,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,914,1,15,0)
This procedure is used by the Radiology Imaging Workstation to display
"KRN",8994,914,1,16,0)
 a listing of all radiology exams for a selected patient.  Further details
"KRN",8994,914,1,17,0)
may be found in the Remote Procedure MAGJ PTRADEXAMS.
"KRN",8994,914,2,0)
^8994.02A^1^1
"KRN",8994,914,2,1,0)
DATA^1^50^1
"KRN",8994,914,2,1,1,0)
^^1^1^3000215^
"KRN",8994,914,2,1,1,1,0)
Patient DFN
"KRN",8994,914,2,"B","DATA",1)

"KRN",8994,914,3,0)
^^1^1^3000215^
"KRN",8994,914,3,1,0)
See RPC: MAGJ PTRADEXAMS
"KRN",8994,915,-1)
0^6
"KRN",8994,915,0)
MAGJ EXAM REPORT^RADRPT^MAGJRPT^4^R^^^1
"KRN",8994,915,1,0)
^8994.01^15^15
"KRN",8994,915,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,915,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,915,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,915,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,915,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,915,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,915,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,915,1,8,0)
 |                                                               |
"KRN",8994,915,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,915,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,915,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,915,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,915,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,915,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,915,1,15,0)
Imaging VistaRad workstation call to display a Radiology report.
"KRN",8994,915,2,0)
^8994.02A^1^1
"KRN",8994,915,2,1,0)
DATA^1^30^1
"KRN",8994,915,2,1,1,0)
^^1^1^3000216^
"KRN",8994,915,2,1,1,1,0)
This is the pointer to the Radiology report file.
"KRN",8994,915,2,"B","DATA",1)

"KRN",8994,915,3,0)
^^2^2^3000216^
"KRN",8994,915,3,1,0)
Text of the exam report is returned in a global array.  A header line is
"KRN",8994,915,3,2,0)
inserted at the top, to be used for labeling the report display window.
"KRN",8994,1090,-1)
0^16
"KRN",8994,1090,0)
MAGJ PRIOREXAMS^PRIOR1^MAGJEX2^2^R
"KRN",8994,1090,1,0)
^8994.01^24^24
"KRN",8994,1090,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,1090,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,1090,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,1090,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,1090,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1090,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1090,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,1090,1,8,0)
 |                                                               |
"KRN",8994,1090,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,1090,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1090,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,1090,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1090,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,1090,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,1090,1,15,0)
This procedure is used by the Radiology Imaging Workstation to fetch
"KRN",8994,1090,1,16,0)
case pointer information for all the cases/prior exams related to a given
"KRN",8994,1090,1,17,0)
case.  If the images for the prior exams are not on magnetic storage, but
"KRN",8994,1090,1,18,0)
are on archive storage (e.g., jukebox), then the procedure initiates a
"KRN",8994,1090,1,19,0)
fetch of the image files from the archive.  This procedure can be run in
"KRN",8994,1090,1,20,0)
two modes: 1) to Pre-Fetch from the archive exams that are likely to be of
"KRN",8994,1090,1,21,0)
interest to the radiologist--this mode would be invoked some time after
"KRN",8994,1090,1,22,0)
a new exam is ordered (e.g., at Register Patient for Exam);
"KRN",8994,1090,1,23,0)
2) to Auto-Display images for prior cases at
"KRN",8994,1090,1,24,0)
the time the radiologist is reading a new case.
"KRN",8994,1090,2,0)
^8994.02A^1^1
"KRN",8994,1090,2,1,0)
DATA^1^50^1
"KRN",8994,1090,2,1,1,0)
^^8^8^2980821^
"KRN",8994,1090,2,1,1,1,0)
The input string has 5 pieces, delimited by "^":
"KRN",8994,1090,2,1,1,2,0)
  "P" or "A" ^ RADFN ^ RADTI ^ RACNI ^ RARPT
"KRN",8994,1090,2,1,1,3,0)
    P--run Pre-Fetch mode
"KRN",8994,1090,2,1,1,4,0)
    A--run Auto-Display mode
"KRN",8994,1090,2,1,1,5,0)
    RADFN, RADTI, & RACNI are pointers to the Current Case exam in file 70
"KRN",8994,1090,2,1,1,6,0)
    RARPT--pointer to ^RARPT (file 74) for the current case
"KRN",8994,1090,2,1,1,7,0)
Either RARPT or the values RADFN/RADTI/RACNI may be passed for executing
"KRN",8994,1090,2,1,1,8,0)
this function.
"KRN",8994,1090,2,"B","DATA",1)

"KRN",8994,1090,3,0)
^^2^2^2980821^
"KRN",8994,1090,3,1,0)
 ARRAY(0)   = # Cases Found ^ Text for reply status or error message
"KRN",8994,1090,3,2,0)
 ARRAY(1..N)= "M08" ^ RADFN ^ RADTI ^ RACNI ^ RARPT 
"KRN",8994,1091,-1)
0^20
"KRN",8994,1091,0)
MAGJ ROUTE ENABLE^RTENA^MAGJRT^1^R^^^1
"KRN",8994,1091,1,0)
^8994.01^17^17
"KRN",8994,1091,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,1091,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,1091,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,1091,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,1091,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1091,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1091,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,1091,1,8,0)
 |                                                               |
"KRN",8994,1091,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,1091,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1091,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,1091,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1091,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,1091,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,1091,1,15,0)
This procedure is used by the VistARad Workstation to obtain from
"KRN",8994,1091,1,16,0)
 the Imaging Host system user permission to use the Demand Routing
"KRN",8994,1091,1,17,0)
function.
"KRN",8994,1091,2,0)
^8994.02A^^0
"KRN",8994,1091,3,0)
^^1^1^3010227^
"KRN",8994,1091,3,1,0)
Returns "TRUE" or "FALSE", based on user security key.
"KRN",8994,1092,-1)
0^22
"KRN",8994,1092,0)
MAGJ ROUTE REQUEST^RTREQ^MAGJRT^4^R^^^1
"KRN",8994,1092,1,0)
^8994.01^18^18
"KRN",8994,1092,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,1092,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,1092,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,1092,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,1092,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1092,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1092,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,1092,1,8,0)
 |                                                               |
"KRN",8994,1092,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,1092,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1092,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,1092,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1092,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,1092,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,1092,1,15,0)
This rpc processes a list of input exams to configure the dialog by which
"KRN",8994,1092,1,16,0)
the user will request exams to be routed.  The rpc returns the exam list
"KRN",8994,1092,1,17,0)
and information used to prompt the user for routing destination and
"KRN",8994,1092,1,18,0)
priority for each exam.
"KRN",8994,1092,2,0)
^8994.02A^1^1
"KRN",8994,1092,2,1,0)
DATA^2^50^1^1
"KRN",8994,1092,2,1,1,0)
^^3^3^3010227^
"KRN",8994,1092,2,1,1,1,0)
List of Radiology Exam pointers.  Each entry in the list contains:
"KRN",8994,1092,2,1,1,2,0)
 
"KRN",8994,1092,2,1,1,3,0)
   RADFN ^ RADTI ^ RACNI ^ RARPT
"KRN",8994,1092,2,"B","DATA",1)

"KRN",8994,1092,2,"PARAMSEQ",1,1)

"KRN",8994,1093,-1)
0^21
"KRN",8994,1093,0)
MAGJ ROUTE EXAMS^RTEXAM^MAGJRT^4^R^^^1
"KRN",8994,1093,1,0)
^8994.01^16^16
"KRN",8994,1093,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,1093,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,1093,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,1093,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,1093,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1093,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1093,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,1093,1,8,0)
 |                                                               |
"KRN",8994,1093,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,1093,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1093,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,1093,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1093,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,1093,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,1093,1,15,0)
For input list of exams, queue corresponding image files to be routed to
"KRN",8994,1093,1,16,0)
indicated destinations (according to Network Location file entries).
"KRN",8994,1093,2,0)
^8994.02A^1^1
"KRN",8994,1093,2,1,0)
DATA^2^50^1^1
"KRN",8994,1093,2,1,1,0)
^8994.021^7^7^3010227^^
"KRN",8994,1093,2,1,1,1,0)
Each entry in the list contains:
"KRN",8994,1093,2,1,1,2,0)
 
"KRN",8994,1093,2,1,1,3,0)
  Network Location ^ Priority | RADFN ^ RADTI ^ RACNI ^ RARPT
"KRN",8994,1093,2,1,1,4,0)
 
"KRN",8994,1093,2,1,1,5,0)
Network Location is IEN to Network Location file.
"KRN",8994,1093,2,1,1,6,0)
Priority is a number; higher numbers indicate higher priority.  The
"KRN",8994,1093,2,1,1,7,0)
Priority is specific to the Routing Queue Manager.
"KRN",8994,1093,2,"B","DATA",1)

"KRN",8994,1093,2,"PARAMSEQ",1,1)

"KRN",8994,1093,3,0)
^8994.03^1^1^3010227^^^^
"KRN",8994,1093,3,1,0)
Normal reply indicating success/failure of the operation.
"KRN",8994,1280,-1)
0^8
"KRN",8994,1280,0)
MAGJ USER DATA^RPCIN^MAGJPRF1^4^R^^^1
"KRN",8994,1280,1,0)
^8994.01^16^16^3050601^^
"KRN",8994,1280,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1280,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1280,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1280,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1280,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1280,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1280,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1280,1,8,0)
  |                                                               |
"KRN",8994,1280,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1280,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1280,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1280,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1280,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1280,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1280,1,15,0)
 
"KRN",8994,1280,1,16,0)
Store/retrieve Vistarad USer preferences, including hanging protocols, etc.
"KRN",8994,1280,2,0)
^8994.02A^3^2
"KRN",8994,1280,2,2,0)
PARAMS^1^100^1^1
"KRN",8994,1280,2,2,1,0)
^8994.021^5^5^3050216^^^^
"KRN",8994,1280,2,2,1,1,0)
TXID ^ SYSUPDAT ^ TXDUZ ^ TXDIV
"KRN",8994,1280,2,2,1,2,0)
TXID: Transaction ID--identifies the type of transaction being requested;
"KRN",8994,1280,2,2,1,3,0)
TXDUZ: Optional; DUZ value for retrieving another users stored data.
"KRN",8994,1280,2,2,1,4,0)
  E.g., allow User X to see User Y's Hanging Protocols
"KRN",8994,1280,2,2,1,5,0)
TXDIV: Optional; DIVision value for viewing data stored from other divisions.
"KRN",8994,1280,2,3,0)
DATA^3^240^^2
"KRN",8994,1280,2,3,1,0)
^8994.021^6^6^3050216^^
"KRN",8994,1280,2,3,1,1,0)
Optional Block of text sent from the client side; has structure as follows
"KRN",8994,1280,2,3,1,2,0)
 *LABEL
"KRN",8994,1280,2,3,1,3,0)
 Label Value
"KRN",8994,1280,2,3,1,4,0)
 0:N lines of text associated with Label Value
"KRN",8994,1280,2,3,1,5,0)
 *END
"KRN",8994,1280,2,3,1,6,0)
Note: multiple sequences of the above may be included.
"KRN",8994,1280,2,"B","DATA",3)

"KRN",8994,1280,2,"B","PARAMS",2)

"KRN",8994,1280,2,"PARAMSEQ",1,2)

"KRN",8994,1280,2,"PARAMSEQ",2,3)

"KRN",8994,1280,3,0)
^^2^2^3050216^
"KRN",8994,1280,3,1,0)
DATA returned varies according to the TXID, but generally is a block
"KRN",8994,1280,3,2,0)
of text data that was created by the Client application.
"KRN",8994,1281,-1)
0^4
"KRN",8994,1281,0)
MAGJ RADSTATUSCHECK^STATCHK^MAGJUTL4^1^R^^^0
"KRN",8994,1281,1,0)
^8994.01^17^17^3050718^^^^
"KRN",8994,1281,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1281,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1281,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1281,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1281,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1281,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1281,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1281,1,8,0)
  |                                                               |
"KRN",8994,1281,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1281,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1281,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1281,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1281,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1281,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1281,1,15,0)
 
"KRN",8994,1281,1,16,0)
Function to determine if the exam has been Tech-Verified (at least).
"KRN",8994,1281,1,17,0)
Images are assumed to be verified if Exam Status is Examined, or higher status
"KRN",8994,1281,2,0)
^8994.02A^1^1
"KRN",8994,1281,2,1,0)
DATA^1^50^1
"KRN",8994,1281,2,1,1,0)
^8994.021^3^3^3050718^^^
"KRN",8994,1281,2,1,1,1,0)
String consisting: RADFN^RADTI^RACNI^RARPT
"KRN",8994,1281,2,1,1,2,0)
Input is either RADFN, RADTI, and RACNI; or, RARPT only may be input in piece 4
"KRN",8994,1281,2,1,1,3,0)
Patient DFN^Exam Internal Date^Exam Number^Rad Report IEN
"KRN",8994,1281,2,"B","DATA",1)

"KRN",8994,1281,3,0)
^8994.03^1^1^3050718^^^
"KRN",8994,1281,3,1,0)
Code^Description
"KRN",8994,1282,-1)
0^5
"KRN",8994,1282,0)
MAGJ RADCASELOCKS^CASLOCK^MAGJEX1A^4^R
"KRN",8994,1282,1,0)
^^16^16^3050601^
"KRN",8994,1282,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1282,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1282,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1282,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1282,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1282,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1282,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1282,1,8,0)
  |                                                               |
"KRN",8994,1282,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1282,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1282,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1282,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1282,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1282,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1282,1,15,0)
 
"KRN",8994,1282,1,16,0)
Manage Exam Reserve/Lock interactions.
"KRN",8994,1282,2,0)
^8994.02A^1^1
"KRN",8994,1282,2,1,0)
DATA^1^70^1
"KRN",8994,1282,2,1,1,0)
^^3^3^3041012^
"KRN",8994,1282,2,1,1,1,0)
Input string = OPEN FLAG ^ RADFN ^ RADTI ^ RACNI ^ RARPT
"KRN",8994,1282,2,1,1,2,0)
      OPEN_FLAG = 3: Reserve-to-Lock; 4: Lock-to-Reserve; 5: Lock/Take
"KRN",8994,1282,2,1,1,3,0)
      RADFN,RADTI,RACNI,RARPT = pointers to Rad Patient File for the exam
"KRN",8994,1282,2,"B","DATA",1)

"KRN",8994,1282,3,0)
^8994.03^4^4^3041012^^
"KRN",8994,1282,3,1,0)
Returns string = Count ^ CODE ~ RESULT | RADFN ^ RADTI ^ RACNI ^ RARPT
"KRN",8994,1282,3,2,0)
    Count = # lines to follow (always zero)
"KRN",8994,1282,3,3,0)
    CODE - numeric code indicating success/failure
"KRN",8994,1282,3,4,0)
    RESULT--text description of the update results
"KRN",8994,1283,-1)
0^2
"KRN",8994,1283,0)
MAGJ HISTORYLIST^HIST^MAGJLS4^4^R^^^1
"KRN",8994,1283,1,0)
^8994.01^16^16^3050601^^
"KRN",8994,1283,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1283,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1283,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1283,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1283,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1283,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1283,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1283,1,8,0)
  |                                                               |
"KRN",8994,1283,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1283,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1283,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1283,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1283,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1283,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1283,1,15,0)
 
"KRN",8994,1283,1,16,0)
Functions for maintaining and displaying the Vistarad Exam History List
"KRN",8994,1283,2,0)
^8994.02A^2^2
"KRN",8994,1283,2,1,0)
PARAMS^1^1^1^1
"KRN",8994,1283,2,1,1,0)
^^5^5^3050601^
"KRN",8994,1283,2,1,1,1,0)
TXID ^ TXDUZ ^ TXDIV
"KRN",8994,1283,2,1,1,2,0)
TXID: Required; designates action to take:
"KRN",8994,1283,2,1,1,3,0)
 1--Add entries; 2--Update/refresh data; 3--Delete entries
"KRN",8994,1283,2,1,1,4,0)
TXDUZ: Optional; if supplied, get data for another user (Read Only)
"KRN",8994,1283,2,1,1,5,0)
TXDIV: Optional; if supplied, get data for another division (Read Only)
"KRN",8994,1283,2,2,0)
DATA^2^30^^2
"KRN",8994,1283,2,2,1,0)
^^1^1^3050601^
"KRN",8994,1283,2,2,1,1,0)
Exam ID "|" Display data
"KRN",8994,1283,2,"B","DATA",2)

"KRN",8994,1283,2,"B","PARAMS",1)

"KRN",8994,1283,2,"PARAMSEQ",1,1)

"KRN",8994,1283,2,"PARAMSEQ",2,2)

"KRN",8994,1284,-1)
0^9
"KRN",8994,1284,0)
MAGJ STUDY_DATA^RPCIN^MAGJEX3^4^R^^^1
"KRN",8994,1284,1,0)
^8994.01^19^19^3050601^^
"KRN",8994,1284,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1284,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1284,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1284,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1284,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1284,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1284,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1284,1,8,0)
  |                                                               |
"KRN",8994,1284,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1284,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1284,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1284,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1284,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1284,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1284,1,15,0)
 
"KRN",8994,1284,1,16,0)
This rpc is used to obtain various study and/or image data.  The data
"KRN",8994,1284,1,17,0)
is stored in blocks of free-text (word-processing) in XML format created
"KRN",8994,1284,1,18,0)
by the Vistarad Client.
"KRN",8994,1284,1,19,0)
Current data items include: Key Images; Presentation State data.
"KRN",8994,1284,2,0)
^8994.02A^2^2
"KRN",8994,1284,2,1,0)
PARAMS^1^120^1^1
"KRN",8994,1284,2,1,1,0)
^^5^5^3050216^
"KRN",8994,1284,2,1,1,1,0)
TXID ^ DFN ^ DTI ^ CNI ^ RARPT ^ MAGIEN
"KRN",8994,1284,2,1,1,2,0)
TXID: Required; designates action to take
"KRN",8994,1284,2,1,1,3,0)
DFN...RARPT: standard Vistarad Exam Identifier string (keys to
"KRN",8994,1284,2,1,1,4,0)
  RAD Exam file and Report file).
"KRN",8994,1284,2,1,1,5,0)
MAGIEN: Image IEN to identify the exam (Image or Group ien OK)
"KRN",8994,1284,2,2,0)
DATA^2^120^^2
"KRN",8994,1284,2,2,1,0)
^^2^2^3050216^
"KRN",8994,1284,2,2,1,1,0)
List of image identifiers with optional Presentation State UIDs
"KRN",8994,1284,2,2,1,2,0)
in format IMGIEN^PS_UID.
"KRN",8994,1284,2,"B","DATA",2)

"KRN",8994,1284,2,"B","PARAMS",1)

"KRN",8994,1284,2,"PARAMSEQ",1,1)

"KRN",8994,1284,2,"PARAMSEQ",2,2)

"KRN",8994,1284,3,0)
^^13^13^3050216^
"KRN",8994,1284,3,1,0)
Array containing Key Image and/or Image Presentation State data,
"KRN",8994,1284,3,2,0)
according to requesting TXID:
"KRN",8994,1284,3,3,0)
"*IMAGE"
"KRN",8994,1284,3,4,0)
Image_IEN ^ "KEY"
"KRN",8994,1284,3,5,0)
"*PS"
"KRN",8994,1284,3,6,0)
PS_UID ^ "KEY"
"KRN",8994,1284,3,7,0)
xml text lines 1
"KRN",8994,1284,3,8,0)
xml text lines 2:N (as needed)
"KRN",8994,1284,3,9,0)
"*END_PS"
"KRN",8994,1284,3,10,0)
[*PS . . . *END_PS] (as many as for this image)
"KRN",8994,1284,3,11,0)
"*END_IMAGE"
"KRN",8994,1284,3,12,0)
[*IMAGE . . . *END_IMAGE] (as many as for the exam)
"KRN",8994,1284,3,13,0)
"*END"
"KRN",8994,1285,-1)
0^11
"KRN",8994,1285,0)
MAGJ USER2^USERINF2^MAGJUTL3^2^R
"KRN",8994,1285,1,0)
^8994.01^16^16^3050601^^^^
"KRN",8994,1285,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1285,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1285,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1285,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1285,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1285,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1285,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1285,1,8,0)
  |                                                               |
"KRN",8994,1285,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1285,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1285,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1285,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1285,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1285,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1285,1,15,0)
 
"KRN",8994,1285,1,16,0)
Returns info about user, and site settings.
"KRN",8994,1285,2,0)
^8994.02A^1^1
"KRN",8994,1285,2,1,0)
MAGWRKID^1^50^0^1
"KRN",8994,1285,2,1,1,0)
^8994.021^1^1^3050222^^^
"KRN",8994,1285,2,1,1,1,0)
Workstation ID
"KRN",8994,1285,2,"B","MAGWRKID",1)

"KRN",8994,1285,2,"PARAMSEQ",1,1)

"KRN",8994,1285,3,0)
^8994.03^2^2^3050222^^^
"KRN",8994,1285,3,1,0)
 = DUZ ^ FULL NAME  ^ INITIALS ^ REQ_FLAG ^ Network UserName ^ PassWord
"KRN",8994,1285,3,2,0)
REQ_FLAG = 1/0 (Enable/Disable Requisition for non-rad staff)
"KRN",8994,1286,-1)
0^12
"KRN",8994,1286,0)
MAGJ CPTMATCH^CPTGRP^MAGJUTL4^4^R^^^1
"KRN",8994,1286,1,0)
^8994.01^16^16^3050601^^
"KRN",8994,1286,1,1,0)
  +---------------------------------------------------------------+
"KRN",8994,1286,1,2,0)
  | Property of the US Government.                                |
"KRN",8994,1286,1,3,0)
  | No permission to copy or redistribute this software is given. |
"KRN",8994,1286,1,4,0)
  | Use of unreleased versions of this software requires the user |
"KRN",8994,1286,1,5,0)
  | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1286,1,6,0)
  | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1286,1,7,0)
  | telephone (301) 734-0100.                                     |
"KRN",8994,1286,1,8,0)
  |                                                               |
"KRN",8994,1286,1,9,0)
  | The Food and Drug Administration classifies this software as  |
"KRN",8994,1286,1,10,0)
  | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1286,1,11,0)
  | Modifications to this software may result in an adulterated   |
"KRN",8994,1286,1,12,0)
  | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1286,1,13,0)
  | to be a violation of US Federal Statutes.                     |
"KRN",8994,1286,1,14,0)
  +---------------------------------------------------------------+
"KRN",8994,1286,1,15,0)
Imaging Vistarad RPC for finding related procedures based on CPT
"KRN",8994,1286,1,16,0)
matching table (file #2006.67 -- MAG RAD CPT MATCHING FILE).
"KRN",8994,1286,2,0)
^8994.02A^1^1
"KRN",8994,1286,2,1,0)
DATA^1^20^1^1
"KRN",8994,1286,2,1,1,0)
^8994.021^3^3^3050601^^
"KRN",8994,1286,2,1,1,1,0)
CPT Code ^ Matching Criteria
"KRN",8994,1286,2,1,1,2,0)
MAtching Criteria is a number, 1:n, to indicate basis for matching:
"KRN",8994,1286,2,1,1,3,0)
 1--Similar CPT; 2--Body Part; 3--Body Part & Modality
"KRN",8994,1286,2,"B","DATA",1)

"KRN",8994,1286,2,"PARAMSEQ",1,1)

"KRN",8994,1286,3,0)
^8994.03^2^2^3050601^^
"KRN",8994,1286,3,1,0)
List of results; each result consists of:
"KRN",8994,1286,3,2,0)
  CPT ^ Short Procedure Description
"KRN",8994,1287,-1)
0^23
"KRN",8994,1287,0)
MAGJ REMOTESCREEN^REMSCRN^MAGJUTL4^1^R^^^0
"KRN",8994,1287,1,0)
^8994.01^17^17^3051209^^^^
"KRN",8994,1287,1,1,0)
 +---------------------------------------------------------------+
"KRN",8994,1287,1,2,0)
 | Property of the US Government.                                |
"KRN",8994,1287,1,3,0)
 | No permission to copy or redistribute this software is given. |
"KRN",8994,1287,1,4,0)
 | Use of unreleased versions of this software requires the user |
"KRN",8994,1287,1,5,0)
 | to execute a written test agreement with the VistA Imaging    |
"KRN",8994,1287,1,6,0)
 | Development Office of the Department of Veterans Affairs,     |
"KRN",8994,1287,1,7,0)
 | telephone (301) 734-0100.                                     |
"KRN",8994,1287,1,8,0)
 |                                                               |
"KRN",8994,1287,1,9,0)
 | The Food and Drug Administration classifies this software as  |
"KRN",8994,1287,1,10,0)
 | a medical device.  As such, it may not be changed in any way. |
"KRN",8994,1287,1,11,0)
 | Modifications to this software may result in an adulterated   |
"KRN",8994,1287,1,12,0)
 | medical device under 21CFR820, the use of which is considered |
"KRN",8994,1287,1,13,0)
 | to be a violation of US Federal Statutes.                     |
"KRN",8994,1287,1,14,0)
 +---------------------------------------------------------------+
"KRN",8994,1287,1,15,0)
 
"KRN",8994,1287,1,16,0)
VistARad client calls this to set/clear flag to show/not show remote
"KRN",8994,1287,1,17,0)
exams only when displaying exam lists for a routing/remote read user.
"KRN",8994,1287,2,0)
^8994.02A^1^1
"KRN",8994,1287,2,1,0)
DATA^1^20^1
"KRN",8994,1287,2,1,1,0)
^8994.021^1^1^3051209^^^^
"KRN",8994,1287,2,1,1,1,0)
Input is 1 or 0;  1=screen for remote only; 0=no screen applied
"KRN",8994,1287,2,"B","DATA",1)

"KRN",8994,1287,3,0)
^8994.03^4^4^3051209^^^^
"KRN",8994,1287,3,1,0)
Return: Reply^Code~msg
"KRN",8994,1287,3,2,0)
  Reply -- 0=Problem; 1=Success
"KRN",8994,1287,3,3,0)
  Code -- 4=Error; 1=ok
"KRN",8994,1287,3,4,0)
  msg -- display text if error
"MBREQ")
0
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",3,19.1)
19.1;3;1;;KEY^XPDTA1;;;;;KEYDEL^XPDIA1
"ORD",3,19.1,0)
SECURITY KEY
"ORD",5,.4)
.4;5;;;EDEOUT^DIFROMSO(.4,DA,"",XPDA);FPRE^DIFROMSI(.4,"",XPDA);EPRE^DIFROMSI(.4,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.4,DA,"",XPDA);DEL^DIFROMSK(.4,"",%)
"ORD",5,.4,0)
PRINT TEMPLATE
"ORD",16,8994)
8994;16;1;;;;;;;RPCDEL^XPDIA1
"ORD",16,8994,0)
REMOTE PROCEDURE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",454,-1)
1^1
"PKG",454,0)
IMAGING^MAG^Imaging-V1 to release 
"PKG",454,20,0)
^9.402P^^
"PKG",454,22,0)
^9.49I^1^1
"PKG",454,22,1,0)
3.0^3020319^3020402^126
"PKG",454,22,1,"PAH",1,0)
18^3060320
"PKG",454,22,1,"PAH",1,1,0)
^^1^1^3060320
"PKG",454,22,1,"PAH",1,1,1,0)
VistARad Patch 18 software.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
YES
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
YES
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
YES
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
25
"RTN","MAGJBOFL")
1^33^B0
"RTN","MAGJEX1")
0^6^B73948968
"RTN","MAGJEX1",1,0)
MAGJEX1 ;WIRMFO/JHC VistARad RPC calls ; 29 Jul 2003  9:56 AM
"RTN","MAGJEX1",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJEX1",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX1",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJEX1",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJEX1",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJEX1",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJEX1",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJEX1",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJEX1",10,0)
 ;; |                                                               |
"RTN","MAGJEX1",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJEX1",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJEX1",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJEX1",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJEX1",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJEX1",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX1",17,0)
 ;;
"RTN","MAGJEX1",18,0)
 Q
"RTN","MAGJEX1",19,0)
 ; Entry Points:
"RTN","MAGJEX1",20,0)
 ;   OPENCASE--RPC: Open Exam
"RTN","MAGJEX1",21,0)
 ;
"RTN","MAGJEX1",22,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR
"RTN","MAGJEX1",23,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJEX1",24,0)
 Q:$Q 1  Q
"RTN","MAGJEX1",25,0)
 ;
"RTN","MAGJEX1",26,0)
OPENCASE(MAGGRY,DATA) ; RPC Call: MAGJ RADCASEIMAGES
"RTN","MAGJEX1",27,0)
 ; MAGGRY holds $NA reference to ^TMP for rpc return
"RTN","MAGJEX1",28,0)
 ;   all ref's to MAGGRY use subscript indirection
"RTN","MAGJEX1",29,0)
 ; input in DATA:
"RTN","MAGJEX1",30,0)
 ; OPEN_FLAG^RADFN^RADTI^RACNI^RARPT^SERDISA^STK/LAY^USETGA
"RTN","MAGJEX1",31,0)
 ; OPEN_FLAG = 1/0 - 1: OPEN the case for update; else, view-only
"RTN","MAGJEX1",32,0)
 ;           =  /2    2: Reserve for Interp  ; * P18
"RTN","MAGJEX1",33,0)
 ; RADFN^RADTI^RACNI specify case of interest
"RTN","MAGJEX1",34,0)
 ; SERDISA = 1/0 - Disable Mult Series processing if true * n/a for P18
"RTN","MAGJEX1",35,0)
 ; STK/LAY = 1/0 - 1:Open in Stack; 0:Open in Layout * n/a for P18
"RTN","MAGJEX1",36,0)
 ; USETGA  = 1/0 - 1:Open .TGA file; 0:Open .BIG file
"RTN","MAGJEX1",37,0)
 ; 
"RTN","MAGJEX1",38,0)
 ; * In P18, the SERDISA position is re-cycled to pass in PS_Indicator_Type values of interest
"RTN","MAGJEX1",39,0)
 ;       K/I/U for Key Image/ Interpretation/ User PS types; used in IMGLOOP^MAGJEX1B
"RTN","MAGJEX1",40,0)
 ;
"RTN","MAGJEX1",41,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJEX1"
"RTN","MAGJEX1",42,0)
 N RARPT,RADFN,RADTI,RACNI,RADIV
"RTN","MAGJEX1",43,0)
 N DAYCASE,CURCASE,REPLY,CT,MAGS,STARTNOD,LOCKED,DATAOUT,RADATA,RIST,MDL
"RTN","MAGJEX1",44,0)
 N IMAG,MAGXX,MAGFILE,MAGFILE1,MAGFILE2,MAGFILE3,MAGLST,MAGOBJT,MODALITY
"RTN","MAGJEX1",45,0)
 N SERDISA,MAGSTRT,MAGEND,SERLBL,SERBRK,SERLIM,NSERIES,ALTPATH,CURPATHS
"RTN","MAGJEX1",46,0)
 N MIXEDUP,VIEWOK,STKLAY,USETGA,OPENCNT,USELORES,IMGST,REMOTE,DIQUIET
"RTN","MAGJEX1",47,0)
 N LOGDATA,MODIF,EXCAT,RADATA2,PSIND,RASTCAT,RASTORD
"RTN","MAGJEX1",48,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJEX1",49,0)
 S CT=0,MODALITY="",DATAOUT="",DAYCASE="",MAGLST="MAGJOPENCASE",ALTPATH="",MIXEDUP=0,VIEWOK=1,OPENCNT=1
"RTN","MAGJEX1",50,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)),STARTNOD=0 K @MAGGRY  ; assign MAGGRY value
"RTN","MAGJEX1",51,0)
 S CURCASE=$P(DATA,U),RARPT=+$P(DATA,U,5),SERDISA=+$P(DATA,U,6)
"RTN","MAGJEX1",52,0)
 I 'MAGJOB("P32") S PSIND="",X=$P(DATA,U,6) I X]"" F I="K","I","U" I $F(X,I) S PSIND(I)=""
"RTN","MAGJEX1",53,0)
 S STKLAY=+$P(DATA,U,7),USETGA=+$P(DATA,U,8)
"RTN","MAGJEX1",54,0)
 S RADFN=$P(DATA,U,2),RADTI=$P(DATA,U,3),RACNI=$P(DATA,U,4)
"RTN","MAGJEX1",55,0)
 I RADFN,RADTI,RACNI D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,"",.X)
"RTN","MAGJEX1",56,0)
 I 'X S REPLY="4~Request Contains Invalid Case Pointer ("_RADFN_U_RADTI_U_RACNI_U_RARPT_")." G OPENCASZ
"RTN","MAGJEX1",57,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1)),RADATA2=$G(^(2))
"RTN","MAGJEX1",58,0)
 K ^TMP($J,"MAGRAEX")
"RTN","MAGJEX1",59,0)
 S RADIV=$P(RADATA2,U,5),MODIF=$P(RADATA2,U,8),RASTCAT=$P(RADATA2,U,11),RASTORD=$P(RADATA,U,15)
"RTN","MAGJEX1",60,0)
 S RARPT=+$P(RADATA,U,10),DAYCASE=$P(RADATA,U,12)
"RTN","MAGJEX1",61,0)
 I 'RARPT!'$D(^RARPT(RARPT,2005)) S REPLY="4~This exam has no report entry for associating images; no images can be accessed." G OPENCASZ
"RTN","MAGJEX1",62,0)
 D CKINTEG^MAGJRPT(.X,RADFN,RADTI,RACNI,RARPT,RADATA)
"RTN","MAGJEX1",63,0)
 I X]"" S MIXEDUP=1,MIXEDUP("REPLY")=X ; DB corruption
"RTN","MAGJEX1",64,0)
 S REPLY="4~Attempting to open/display case #"_DAYCASE
"RTN","MAGJEX1",65,0)
 S IMGST=$$JBFETCH^MAGJUTL2(RARPT,.MAGS,USETGA)  ; open only if NOT on JB
"RTN","MAGJEX1",66,0)
 I +IMGST D  G OPENCASZ
"RTN","MAGJEX1",67,0)
 . I $D(MAGS("OFFLN")) N T,TT S T="",TT="" D
"RTN","MAGJEX1",68,0)
 .. F  S T=$O(MAGS("OFFLN",T)) Q:T=""  S TT=TT_$S(TT="":"",1:", ")_T
"RTN","MAGJEX1",69,0)
 .. S REPLY="2~Case #"_DAYCASE_"--Images for this exam are stored OFF-LINE.  To view these images, contact your Imaging Coordinator, and request mounting of the following platters: "_TT
"RTN","MAGJEX1",70,0)
 . E  S REPLY="2~Case #"_DAYCASE_"--"_+IMGST_" Images have been requested from Jukebox; try again later."
"RTN","MAGJEX1",71,0)
 I '$P(IMGST,U,2) S REPLY="2~No Images exist for Case #"_DAYCASE_"." G OPENCASZ
"RTN","MAGJEX1",72,0)
 S USELORES=+$P(IMGST,U,3)_U_$P(IMGST,U,2)
"RTN","MAGJEX1",73,0)
 ; set up series info (*back compat for P32)
"RTN","MAGJEX1",74,0)
 I (STKLAY&SERDISA)!'MAGJOB("P32") S STKLAY=3 ; disable series in Stacker or post-patch 32
"RTN","MAGJEX1",75,0)
 N SERHI S SERHI=$G(MAGS("SER",0))
"RTN","MAGJEX1",76,0)
 K SERBRK
"RTN","MAGJEX1",77,0)
 I SERHI>1,$P($G(^MAG(2006.69,1,0)),U,12) D  ;  Process for mult. Series
"RTN","MAGJEX1",78,0)
 . Q:SERDISA  ; user disabled from w/s
"RTN","MAGJEX1",79,0)
 . Q:STKLAY  ; Don't do this for Stacker
"RTN","MAGJEX1",80,0)
 . N SERCT,SERSTR I '$D(SERLIM) S SERLIM=5 ; min size for a series
"RTN","MAGJEX1",81,0)
 . S SERSTR="",SERCT=0,SERBRK(0)=0
"RTN","MAGJEX1",82,0)
 . ; step 1: roll up "small" series at the bottom to next higher ones
"RTN","MAGJEX1",83,0)
 . F  Q:(MAGS("SER",SERHI)'<SERLIM)!(SERHI=1)  D
"RTN","MAGJEX1",84,0)
 .. S X=MAGS("SER",SERHI),Y=MAGS("SER",SERHI-1),Y=Y+X_U_$P(Y,U,2)_", "_$P(X,U,2)
"RTN","MAGJEX1",85,0)
 .. S SERHI=SERHI-1,MAGS("SER",SERHI)=Y
"RTN","MAGJEX1",86,0)
 . I SERHI<2 K SERBRK Q  ; no "real" series to enumerate
"RTN","MAGJEX1",87,0)
 . ; step 2: from top, fold "small" series into next lower ones
"RTN","MAGJEX1",88,0)
 . F I=1:1:SERHI S X=MAGS("SER",I),SERCT=SERCT+X D
"RTN","MAGJEX1",89,0)
 .. I +X'<SERLIM S SERBRK(SERCT)=SERSTR_$S(SERSTR="":"",1:", ")_$P(X,U,2),SERSTR="",SERBRK(0)=SERBRK(0)+1
"RTN","MAGJEX1",90,0)
 .. E  S SERSTR=SERSTR_$S(SERSTR="":"",1:", ")_$P(X,U,2)
"RTN","MAGJEX1",91,0)
 . I '$D(SERBRK(SERCT)) S SERBRK(SERCT)=SERSTR,SERBRK(0)=SERBRK(0)+1
"RTN","MAGJEX1",92,0)
 . I SERBRK(SERCT)<2 K SERBRK  ; only one "series" resulted
"RTN","MAGJEX1",93,0)
 I $D(SERBRK) S SERBRK=0,NSERIES=SERBRK(0) D
"RTN","MAGJEX1",94,0)
 . F  S MAGSTRT=SERBRK+1,SERBRK=$O(SERBRK(SERBRK)) Q:'SERBRK  S MAGEND=SERBRK,SERLBL="*S^Series "_SERBRK(SERBRK) D IMGLOOP^MAGJEX1B
"RTN","MAGJEX1",95,0)
 E  S MAGSTRT=1,MAGEND=MAGS,NSERIES=1 D IMGLOOP^MAGJEX1B
"RTN","MAGJEX1",96,0)
 S REPLY="0~Images for Case #"_DAYCASE
"RTN","MAGJEX1",97,0)
 ;
"RTN","MAGJEX1",98,0)
OPENCASZ I 'CT,(REPLY["Attempting") S REPLY="4~Unable to retrieve images for Case #"_DAYCASE_"."
"RTN","MAGJEX1",99,0)
 ;
"RTN","MAGJEX1",100,0)
 ; Contents of successful reply = 4 pipe ("|") pieces:
"RTN","MAGJEX1",101,0)
 ;1: # nodes below ^ Reply Msg Type ~ Reply Msg display text
"RTN","MAGJEX1",102,0)
 ;2: Exam ID String (= radfn^radti^racni^rarpt)
"RTN","MAGJEX1",103,0)
 ;3: Pt Name ^ CASE # ^ # Images ^ Proc. Name ^ Exam Date ^ Time ^
"RTN","MAGJEX1",104,0)
 ; modality ^ SSN ^ Stack/Layout ^ LOCKED? (1/2/0) [^ if only 1 series]
"RTN","MAGJEX1",105,0)
 ;4: Is Radiologist? ^ # Series ^ Alt_Path Flag ^ Opened Exam Count?
"RTN","MAGJEX1",106,0)
 ;
"RTN","MAGJEX1",107,0)
 I MAGJOB("ALTPATH") S REMOTE=$P(MAGJOB("ALTPATH"),U,2)
"RTN","MAGJEX1",108,0)
 E  S REMOTE=0
"RTN","MAGJEX1",109,0)
 S LOCKED=0
"RTN","MAGJEX1",110,0)
 I MIXEDUP D
"RTN","MAGJEX1",111,0)
 . N IMIX,XDFN,XPTS S VIEWOK=$S($D(MAGJOB("KEYS","MAGJ SEE BAD IMAGES")):1,1:0)
"RTN","MAGJEX1",112,0)
 . I MIXEDUP>1 D
"RTN","MAGJEX1",113,0)
 .. S XPTS="",XDFN=0 F IMIX=0:1 S XDFN=$O(MIXEDUP(XDFN)) Q:'XDFN  S XPTS=XPTS_$S(IMIX:" and ",1:" ")_$$PNAM(XDFN)
"RTN","MAGJEX1",114,0)
 .. S XPTS=$S(IMIX=1:" ",1:"s ")_XPTS
"RTN","MAGJEX1",115,0)
 .. S REPLY=(7-VIEWOK)_"~This exam is registered for "_$$PNAM(RADFN)_"; however, it is linked to images for patient"_XPTS_".  This is a serious problem--immediately report it to Radiology management and Imaging support staff!"
"RTN","MAGJEX1",116,0)
 . E  S REPLY=(7-VIEWOK)_"~"_MIXEDUP("REPLY")
"RTN","MAGJEX1",117,0)
 . I CURCASE S REPLY=REPLY_"  The exam is NOT Locked." S CURCASE=0
"RTN","MAGJEX1",118,0)
 I CT D
"RTN","MAGJEX1",119,0)
 . S RIST=$S(+MAGJOB("USER",1):1,1:0),EXCAT=""
"RTN","MAGJEX1",120,0)
 . S LOGDATA=RADFN_U_+$P(MAGS(1),U,4)_U_+MAGS_U_REMOTE ; for Img Access log
"RTN","MAGJEX1",121,0)
 . I CURCASE D
"RTN","MAGJEX1",122,0)
 . . I $G(MAGJOB("CONSOLIDATED")),'$D(MAGJOB("DIVSCRN",RADIV)) D  S CURCASE=0  Q
"RTN","MAGJEX1",123,0)
 . . . S REPLY="5~Exam is for Station #"_$$STATN(RADIV)_"; you are logged on to #"_$$STATN(DUZ(2))_".  Exam is NOT Locked."
"RTN","MAGJEX1",124,0)
 . . S XX=$P(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0),U,3)
"RTN","MAGJEX1",125,0)
 . . I '$D(^RA(72,"AVC","E",XX)) D  S CURCASE=0  Q
"RTN","MAGJEX1",126,0)
 . . . I 'MAGJOB("P32") D
"RTN","MAGJEX1",127,0)
 . . . . D LOCKACT^MAGJEX1A(RARPT,DAYCASE,100,.RESULT) ; between reserve and now, exam may have been Taken & Updated
"RTN","MAGJEX1",128,0)
 . . . . I +RESULT(1)!+RESULT(2) D LOCKACT^MAGJEX1A(RARPT,DAYCASE,101,.RESULT) ; so, cancel any lock/reserve
"RTN","MAGJEX1",129,0)
 . . . S REPLY="5~For Case #"_DAYCASE_", current Status is "_$P(^RA(72,XX,0),U)_"; Lock or Reserve NOT allowed."
"RTN","MAGJEX1",130,0)
 . . E  S EXCAT="E"
"RTN","MAGJEX1",131,0)
 . . I RIST,'USELORES D  ; lock only for Current Case, Radiologist, & Full Res images
"RTN","MAGJEX1",132,0)
 . . . ;  save data needed to later log Interpreted event
"RTN","MAGJEX1",133,0)
 . . . D LOCKACT^MAGJEX1A(RARPT,DAYCASE,CURCASE,.RESULT,.REPLY,LOGDATA)
"RTN","MAGJEX1",134,0)
 . . . S LOCKED=$S(+RESULT:1,+$P(RESULT,U,2):2,1:0)
"RTN","MAGJEX1",135,0)
 . I EXCAT="" D
"RTN","MAGJEX1",136,0)
 . . I RASTORD=9 S EXCAT="C" Q  ; Complete
"RTN","MAGJEX1",137,0)
 . . E  S EXCAT=RASTCAT
"RTN","MAGJEX1",138,0)
 . . I EXCAT="D"!(EXCAT="T") S EXCAT="I" ; just display one value meaning Interpreted
"RTN","MAGJEX1",139,0)
 . I MAGJOB("P32") S DATAOUT=$P(RADATA,U,4)_U_DAYCASE_" ("_EXCAT_")"_U_$P(RADATA,U,9)
"RTN","MAGJEX1",140,0)
 . E  S DATAOUT=$P(RADATA,U,4)_U_DAYCASE_U_$P(RADATA,U,9)
"RTN","MAGJEX1",141,0)
 . S X=$P(RADATA,U,6),T=$L(X,"  "),X=$P(X,"  ",1,T-1)_U_$P(X,"  ",T)
"RTN","MAGJEX1",142,0)
 . S DATAOUT=DATAOUT_U_X
"RTN","MAGJEX1",143,0)
 . S DATAOUT=DATAOUT_U_MODALITY_U_$P(RADATA,U,5)_U_STKLAY_U_LOCKED
"RTN","MAGJEX1",144,0)
 . I MAGJOB("P32") D
"RTN","MAGJEX1",145,0)
 . . S DATAOUT=DATAOUT_$S(NSERIES>1:"",1:U)
"RTN","MAGJEX1",146,0)
 . . S DATAOUT=DATAOUT_"|"_RIST_U_NSERIES_U_ALTPATH_U_OPENCNT
"RTN","MAGJEX1",147,0)
 . E  S DATAOUT=DATAOUT_U_MODIF_U_EXCAT_U_"|"_RIST_U_ALTPATH
"RTN","MAGJEX1",148,0)
 . I USELORES D
"RTN","MAGJEX1",149,0)
 . . I +USELORES=+$P(USELORES,U,2) S X="All"
"RTN","MAGJEX1",150,0)
 . . E  S X=+USELORES_" of "_+$P(USELORES,U,2)
"RTN","MAGJEX1",151,0)
 . . I $E(REPLY,1,8)="0~Images" S REPLY="3~"
"RTN","MAGJEX1",152,0)
 . . E  S REPLY=REPLY_"  --  "
"RTN","MAGJEX1",153,0)
 . . S REPLY=REPLY_"Note: "_X_" images for Case #"_DAYCASE_" are REDUCED RESOLUTION images, using parameters set by your site Imaging Manager; to view full-resolution images, disable the Reduced Resolution option setting. Exam NOT Locked."
"RTN","MAGJEX1",154,0)
 S @MAGGRY@(STARTNOD)=CT_U_REPLY_"|"_RADFN_U_RADTI_U_RACNI_U_RARPT_"|"_DATAOUT
"RTN","MAGJEX1",155,0)
 ; if mixedup & not have keys to see images, delete image refs
"RTN","MAGJEX1",156,0)
 ;   & send only reply msg
"RTN","MAGJEX1",157,0)
 I MIXEDUP,('VIEWOK) S CT=0 K @MAGGRY S @MAGGRY@(0)=CT_U_REPLY
"RTN","MAGJEX1",158,0)
 E  S $P(@MAGGRY@(0),U)=CT+STARTNOD
"RTN","MAGJEX1",159,0)
 I CT,(LOCKED'=2) D LOG^MAGJUTL3("VR-VW",LOGDATA) ; Image access log
"RTN","MAGJEX1",160,0)
 Q
"RTN","MAGJEX1",161,0)
 ;
"RTN","MAGJEX1",162,0)
PNAM(X) ; return pt name for input DFN
"RTN","MAGJEX1",163,0)
 I X S X=$G(^DPT(+X,0)) I X]"" S X=$P(X,U)
"RTN","MAGJEX1",164,0)
 E  S X="UNKNOWN"
"RTN","MAGJEX1",165,0)
 Q X
"RTN","MAGJEX1",166,0)
 ;
"RTN","MAGJEX1",167,0)
STATN(X) ; get station #, else return input value
"RTN","MAGJEX1",168,0)
 N T
"RTN","MAGJEX1",169,0)
 I X]"" D GETS^DIQ(4,X,99,"","T") S T=$G(T(4,X_",",99,"E")) I T]"" S X=T
"RTN","MAGJEX1",170,0)
 Q X
"RTN","MAGJEX1",171,0)
 ;
"RTN","MAGJEX1",172,0)
END Q  ;
"RTN","MAGJEX1",173,0)
 ;
"RTN","MAGJEX1A")
0^24^B64602199
"RTN","MAGJEX1A",1,0)
MAGJEX1A ;WIRMFO/JHC VistARad RPCs, exam locking ; 15 Sep 2004  10:00 AM
"RTN","MAGJEX1A",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJEX1A",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX1A",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJEX1A",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJEX1A",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJEX1A",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJEX1A",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJEX1A",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJEX1A",10,0)
 ;; |                                                               |
"RTN","MAGJEX1A",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJEX1A",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJEX1A",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJEX1A",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJEX1A",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJEX1A",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX1A",17,0)
 ;;
"RTN","MAGJEX1A",18,0)
 Q
"RTN","MAGJEX1A",19,0)
 ; Entry Points:
"RTN","MAGJEX1A",20,0)
 ;   CASLOCK--RPC: Lock mgt
"RTN","MAGJEX1A",21,0)
 ;   LOCKACT--Subrtn
"RTN","MAGJEX1A",22,0)
 ;   LOCKOUT--Subrtn
"RTN","MAGJEX1A",23,0)
 ;
"RTN","MAGJEX1A",24,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR
"RTN","MAGJEX1A",25,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJEX1A",26,0)
 Q:$Q 1  Q
"RTN","MAGJEX1A",27,0)
 ;
"RTN","MAGJEX1A",28,0)
CASLOCK(MAGGRY,DATA) ; RPC Call: MAGJ RADCASELOCKS
"RTN","MAGJEX1A",29,0)
 ; MAGGRY holds $NA reference to ^TMP for rpc reply; all ref's to MAGGRY use ss indirection
"RTN","MAGJEX1A",30,0)
 ; input in DATA: OPEN_FLAG^RADFN^RADTI^RACNI^RARPT
"RTN","MAGJEX1A",31,0)
 ; OPEN_FLAG = 3: Reserve-to-Lock; 4: Lock-to-Reserve; 5: Lock/Take
"RTN","MAGJEX1A",32,0)
 ; RADFN^, etc--exam id
"RTN","MAGJEX1A",33,0)
 ;
"RTN","MAGJEX1A",34,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJEX1A"
"RTN","MAGJEX1A",35,0)
 N RARPT,RADFN,RADTI,RACNI,DIQUIET,CURCASE,REPLY,CT,DATAOUT,MAGLST
"RTN","MAGJEX1A",36,0)
 N DAYCASE,LOCKED,RACN,RADTE,MAGS,LOGDATA,RESULT,MYLOCK,GOTLOCK
"RTN","MAGJEX1A",37,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJEX1A",38,0)
 S CT=0,DATAOUT="",DAYCASE="",MAGLST="MAGJCASELOCK"
"RTN","MAGJEX1A",39,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY  ; assign MAGGRY
"RTN","MAGJEX1A",40,0)
 S CURCASE=+$P(DATA,U)
"RTN","MAGJEX1A",41,0)
 S RADFN=$P(DATA,U,2),RADTI=$P(DATA,U,3),RACNI=$P(DATA,U,4),RARPT=+$P(DATA,U,5)
"RTN","MAGJEX1A",42,0)
 I "^3^4^5^"[(U_CURCASE_U)
"RTN","MAGJEX1A",43,0)
 E  S REPLY="4~Invalid Caselock request ("_DATA_")." G CASLOCKZ
"RTN","MAGJEX1A",44,0)
 I RADFN,RADTI,RACNI,RARPT
"RTN","MAGJEX1A",45,0)
 E  S REPLY="4~Caselock Request contains invalid Case Pointer ("_DATA_")." G CASLOCKZ
"RTN","MAGJEX1A",46,0)
 S RACN=$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0)),U)
"RTN","MAGJEX1A",47,0)
 S RADTE=9999999.9999-RADTI
"RTN","MAGJEX1A",48,0)
 S DAYCASE=$E(RADTE,4,7)_$E(RADTE,2,3)_"-"_RACN
"RTN","MAGJEX1A",49,0)
 D LOCKACT(RARPT,DAYCASE,CURCASE,.RESULT,.REPLY)
"RTN","MAGJEX1A",50,0)
 S GOTLOCK=+RESULT
"RTN","MAGJEX1A",51,0)
 D LOCKACT(RARPT,DAYCASE,100,.MYLOCK)
"RTN","MAGJEX1A",52,0)
 I GOTLOCK&(CURCASE=3!(CURCASE=5)) D  ; update Image access log if got the lock
"RTN","MAGJEX1A",53,0)
 . I +MYLOCK(1) S LOGDATA=$P(MYLOCK(2),"|",2) D LOG^MAGJUTL3("VR-VW",LOGDATA)
"RTN","MAGJEX1A",54,0)
 S DATAOUT=$S(+MYLOCK(1):1,+MYLOCK(2):2,1:0)
"RTN","MAGJEX1A",55,0)
 ;
"RTN","MAGJEX1A",56,0)
CASLOCKZ ;
"RTN","MAGJEX1A",57,0)
 S @MAGGRY@(0)=CT_U_REPLY_"|"_RADFN_U_RADTI_U_RACNI_U_RARPT_"||"_DATAOUT
"RTN","MAGJEX1A",58,0)
 Q
"RTN","MAGJEX1A",59,0)
 ;
"RTN","MAGJEX1A",60,0)
PNAM(X) ; return pt name for input DFN
"RTN","MAGJEX1A",61,0)
 I X S X=$G(^DPT(+X,0)) I X]"" S X=$P(X,U)
"RTN","MAGJEX1A",62,0)
 E  S X="UNKNOWN"
"RTN","MAGJEX1A",63,0)
 Q X
"RTN","MAGJEX1A",64,0)
 ;
"RTN","MAGJEX1A",65,0)
LOCKACT(RARPT,DAYCASE,REQUEST,RESULT,ACTREPLY,LOGDATA) ; determine if desired lock action is feasible
"RTN","MAGJEX1A",66,0)
 ; Input: RARPT, DAYCASE, REQUEST, LOGDATA
"RTN","MAGJEX1A",67,0)
 ;   REQUESTed Action:
"RTN","MAGJEX1A",68,0)
 ;     1-Lock; 2-Reserve; 3-ResToLock; 4-LockToRes; 5-TakeLock; 100-Status; 101-UNLOCK
"RTN","MAGJEX1A",69,0)
 ;     Note: 100 & 101 are special for internal use only
"RTN","MAGJEX1A",70,0)
 ;   LOGDATA--pass through for Image Access Log
"RTN","MAGJEX1A",71,0)
 ; Output: RESULT, ACTREPLY
"RTN","MAGJEX1A",72,0)
 ;  RESULT: ACTION "allowed" = LOCK^RESERVE^ResToInt^IntToRes^Take^_"|"_ImgLst
"RTN","MAGJEX1A",73,0)
 ;    these are truth values; Imglst true =~ return Image File list to client
"RTN","MAGJEX1A",74,0)
 ;  RESULT is ultimately used at tag LOCKOUT
"RTN","MAGJEX1A",75,0)
 ;  ACTREPLY --reply message for client logic/display
"RTN","MAGJEX1A",76,0)
 ;
"RTN","MAGJEX1A",77,0)
 N ACTION,LOCKLEV,MYLOCK
"RTN","MAGJEX1A",78,0)
 K RESULT S ACTION="",ACTREPLY="",RESULT="" S LOGDATA=$G(LOGDATA,"")
"RTN","MAGJEX1A",79,0)
 I '$P($G(^MAG(2006.69,1,0)),U,4) Q  ;  Status Updates not enabled
"RTN","MAGJEX1A",80,0)
 I REQUEST=100 D LOCKIN^MAGJEX1B(RARPT,.LOCKLEV,.RESULT,"STATUS") G LOCKACTZ ; Lock Status check only
"RTN","MAGJEX1A",81,0)
 S ACTION="0^0^0^0^0|0"
"RTN","MAGJEX1A",82,0)
 D LOCKIN^MAGJEX1B(RARPT,.LOCKLEV,.MYLOCK)
"RTN","MAGJEX1A",83,0)
 I REQUEST=101 D  G LOCKACT1 ; Unlock exam
"RTN","MAGJEX1A",84,0)
 . M ACTREPLY=MYLOCK ; internal use by MAGJUPD1
"RTN","MAGJEX1A",85,0)
 I 'LOCKLEV D  G LOCKACT1
"RTN","MAGJEX1A",86,0)
 . I REQUEST=1!(REQUEST=2) S $P(ACTION,"|",2)=1,ACTREPLY="5~Exam #"_DAYCASE_" is Locked by "_$P(MYLOCK(1),U,4)_"."  ; View/Cancel
"RTN","MAGJEX1A",87,0)
 . E  S ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#0"
"RTN","MAGJEX1A",88,0)
 I LOCKLEV=3 D  ; Is or Can be Reserved or Interp by me
"RTN","MAGJEX1A",89,0)
 . I MYLOCK(1) D  Q  ; Already Locked/TAKEN by me
"RTN","MAGJEX1A",90,0)
 . . I REQUEST=1 D  Q
"RTN","MAGJEX1A",91,0)
 . . . I MAGJOB("P32") S $P(ACTION,U)=1,$P(ACTION,U,2)=1,$P(ACTION,"|",2)=1,ACTREPLY="1~#"_DAYCASE_" ("_$$PNAM(RADFN)_") locked for update by "_$P(MAGJOB("USER",1),U,3)
"RTN","MAGJEX1A",92,0)
 . . . E  S $P(ACTION,U,1)=1,$P(ACTION,U,2)=+MYLOCK(2),ACTREPLY="1~Exam #"_$P(MYLOCK(1),U,6)_" already open/locked--no action taken"
"RTN","MAGJEX1A",93,0)
 . . I REQUEST=4 D  Q  ;  Remove Lock, keep Reserve
"RTN","MAGJEX1A",94,0)
 . . . S $P(ACTION,U,2)=1,$P(ACTION,U,4)=1,ACTREPLY="1~Exam unlocked, reserved"
"RTN","MAGJEX1A",95,0)
 . . E  S $P(ACTION,U,1)=1,$P(ACTION,U,2)=+MYLOCK(2),ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#1"
"RTN","MAGJEX1A",96,0)
 . E  I MYLOCK(2) D  Q  ; Already Reserved by me
"RTN","MAGJEX1A",97,0)
 . . I REQUEST=3 S $P(ACTION,U)=1,$P(ACTION,U,2)=1,$P(ACTION,U,3)=1,ACTREPLY="1~#"_DAYCASE_" ("_$$PNAM(RADFN)_") locked for update (from reserve) by "_$P(MAGJOB("USER",1),U,3)
"RTN","MAGJEX1A",98,0)
 . . E  I REQUEST=2 S $P(ACTION,U,2)=1,ACTREPLY="1~Exam #"_$P(MYLOCK(2),U,6)_" already reserved--no action taken."
"RTN","MAGJEX1A",99,0)
 . . E  S $P(ACTION,U,2)=1,ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#2"
"RTN","MAGJEX1A",100,0)
 . E  D  ; Available
"RTN","MAGJEX1A",101,0)
 . . I REQUEST=1 S $P(ACTION,U)=1,$P(ACTION,U,2)=1,$P(ACTION,"|",2)=1,ACTREPLY="1~#"_DAYCASE_" ("_$$PNAM(RADFN)_") locked for update by "_$P(MAGJOB("USER",1),U,3)
"RTN","MAGJEX1A",102,0)
 . . E  I REQUEST=2 S $P(ACTION,U,2)=1,$P(ACTION,"|",2)=1,ACTREPLY="1~Exam #"_DAYCASE_" reserved."
"RTN","MAGJEX1A",103,0)
 . . E  S ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#3"
"RTN","MAGJEX1A",104,0)
 E  I LOCKLEV=1 D  ; Reserved by other (I can Take, Except View/Take/Cancel)
"RTN","MAGJEX1A",105,0)
 . I MYLOCK(1) D  Q
"RTN","MAGJEX1A",106,0)
 . . I REQUEST=1 D  Q
"RTN","MAGJEX1A",107,0)
 . . . I MAGJOB("P32") S $P(ACTION,U)=1,$P(ACTION,"|",2)=1,ACTREPLY="1~#"_DAYCASE_" ("_$$PNAM(RADFN)_") locked for update by "_$P(MAGJOB("USER",1),U,3) ; should be impossible
"RTN","MAGJEX1A",108,0)
 . . . E  S $P(ACTION,U)=1,ACTREPLY="1~Exam #"_$P(MYLOCK(1),U,6)_" already locked; no action taken."
"RTN","MAGJEX1A",109,0)
 . . E  I REQUEST=2 S $P(ACTION,U,1)=1,ACTREPLY="1~Exam #"_$P(MYLOCK(1),U,6)_" already locked; no action taken."
"RTN","MAGJEX1A",110,0)
 . . ; <*> next line Unlocks ME, and preserves Other User's Reserve
"RTN","MAGJEX1A",111,0)
 . . E  I REQUEST=4 S $P(ACTION,U,4)=1,ACTREPLY="1~Exam unlocked; reserved by "_$P(MYLOCK(2),U,4)_"."
"RTN","MAGJEX1A",112,0)
 . . E  S $P(ACTION,U)=1,ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#5; Lock retained." ; preserve lock
"RTN","MAGJEX1A",113,0)
 . I 'MYLOCK D  Q
"RTN","MAGJEX1A",114,0)
 . . I REQUEST=1 D  Q
"RTN","MAGJEX1A",115,0)
 . . . I MAGJOB("P32") S $P(ACTION,"|",2)=1,ACTREPLY="5~Case #"_DAYCASE_" is Reserved by "_$P(MYLOCK(2),U,4)_"."
"RTN","MAGJEX1A",116,0)
 . . . E  S $P(ACTION,"|",2)=1,ACTREPLY="8~Case #"_DAYCASE_" is Reserved by "_$P(MYLOCK(2),U,4)_"."    ; #8=View/Take/Cancel"
"RTN","MAGJEX1A",117,0)
 . . E  I REQUEST=2 S $P(ACTION,"|",2)=1,ACTREPLY="5~Case #"_DAYCASE_" is Reserved by "_$P(MYLOCK(2),U,4)_"."
"RTN","MAGJEX1A",118,0)
 . . E  I REQUEST=5  S $P(ACTION,U)=1,$P(ACTION,U,5)=1,ACTREPLY="1~#"_DAYCASE_" ("_$$PNAM(RADFN)_") taken/locked for update by "_$P(MAGJOB("USER",1),U,3)
"RTN","MAGJEX1A",119,0)
 . . E  S ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#6"
"RTN","MAGJEX1A",120,0)
 E  I LOCKLEV=2 D  ; Locked by another
"RTN","MAGJEX1A",121,0)
 . I MYLOCK(2) D  Q
"RTN","MAGJEX1A",122,0)
 . . S $P(ACTION,U,3)=1,ACTREPLY="5~Case #"_DAYCASE_" is Locked (taken) by "_$P(MYLOCK(1),U,4)_"; reserve cancelled." ; View/Cancel"
"RTN","MAGJEX1A",123,0)
 . I 'MYLOCK D  Q
"RTN","MAGJEX1A",124,0)
 . . I REQUEST=1!(REQUEST=2) S $P(ACTION,"|",2)=1,ACTREPLY="5~Case #"_DAYCASE_" is Locked by "_$P(MYLOCK(1),U,4)_"."  ; View/Cancel"
"RTN","MAGJEX1A",125,0)
 . . E  S ACTREPLY="3~Invalid exam lock request ("_REQUEST_")--#8"
"RTN","MAGJEX1A",126,0)
 ;
"RTN","MAGJEX1A",127,0)
LOCKACT1 D LOCKOUT(RARPT,DAYCASE,LOCKLEV,.MYLOCK,ACTION,.RESULT,LOGDATA)
"RTN","MAGJEX1A",128,0)
 ;
"RTN","MAGJEX1A",129,0)
LOCKACTZ Q
"RTN","MAGJEX1A",130,0)
 ;
"RTN","MAGJEX1A",131,0)
 ;
"RTN","MAGJEX1A",132,0)
LOCKOUT(RARPT,DAYCASE,LOCKLEV,MYLOCK,ACTION,RESULT,LOGDATA) ; Record Locks and Clear Locks, as required
"RTN","MAGJEX1A",133,0)
 ; Precursors are logic and data from tags LOCKIN^magjex1b and LOCKACT
"RTN","MAGJEX1A",134,0)
 S RESULT="" S LOGDATA=$G(LOGDATA,"")
"RTN","MAGJEX1A",135,0)
 Q:'LOCKLEV  ; nothing to do
"RTN","MAGJEX1A",136,0)
 N ILOCK
"RTN","MAGJEX1A",137,0)
 F ILOCK=1,2 D  ; 1:Lock  2:Reserve
"RTN","MAGJEX1A",138,0)
 . I ILOCK=1&(LOCKLEV=1!(LOCKLEV=3))
"RTN","MAGJEX1A",139,0)
 . E  I ILOCK=2&(LOCKLEV=2!(LOCKLEV=3))
"RTN","MAGJEX1A",140,0)
 . E  Q
"RTN","MAGJEX1A",141,0)
 . I MYLOCK(ILOCK) D  ; NEVER change order of the logic below!
"RTN","MAGJEX1A",142,0)
 . . I '$P(ACTION,U,ILOCK) D
"RTN","MAGJEX1A",143,0)
 . . . K ^XTMP("MAGJ","LOCK",RARPT,ILOCK)
"RTN","MAGJEX1A",144,0)
 . . . S $P(RESULT,U,ILOCK)=0
"RTN","MAGJEX1A",145,0)
 . . L -^XTMP("MAGJ","LOCK",RARPT,ILOCK) ; reset lock
"RTN","MAGJEX1A",146,0)
 . ; index by DayCase manages locks for Printset Exams (>1 DayCase for one RARPT)
"RTN","MAGJEX1A",147,0)
 . ; a lock on any printset member exam effectively locks all related exams
"RTN","MAGJEX1A",148,0)
 . I +$P(ACTION,U,ILOCK),'MYLOCK(ILOCK) D
"RTN","MAGJEX1A",149,0)
 . . S ^XTMP("MAGJ","LOCK",RARPT,ILOCK,DAYCASE)=DUZ_U_$J_U_$H_U_$P(MAGJOB("USER",1),U,2,3)_U_"|"_LOGDATA
"RTN","MAGJEX1A",150,0)
 . . S ^XTMP("MAGJ","LOCK",RARPT,ILOCK)=DAYCASE
"RTN","MAGJEX1A",151,0)
 . . S $P(RESULT,U,ILOCK)=1
"RTN","MAGJEX1A",152,0)
 . I '$P(ACTION,U,ILOCK) L -^XTMP("MAGJ","LOCK",RARPT,ILOCK)  ; reset or clear lock
"RTN","MAGJEX1A",153,0)
 Q
"RTN","MAGJEX1A",154,0)
 ;
"RTN","MAGJEX1A",155,0)
END Q  ;
"RTN","MAGJEX1B")
0^18^B28311648
"RTN","MAGJEX1B",1,0)
MAGJEX1B ;WIRMFO/JHC Rad. Workstation RPC calls ; 29 Jul 2003  9:58 AM
"RTN","MAGJEX1B",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJEX1B",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX1B",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJEX1B",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJEX1B",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJEX1B",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJEX1B",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJEX1B",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJEX1B",10,0)
 ;; |                                                               |
"RTN","MAGJEX1B",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJEX1B",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJEX1B",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJEX1B",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJEX1B",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJEX1B",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX1B",17,0)
 ;;
"RTN","MAGJEX1B",18,0)
 Q
"RTN","MAGJEX1B",19,0)
 ; Subroutines for fetch exam images, exam lock/reserve, remove dangling locks
"RTN","MAGJEX1B",20,0)
 ;
"RTN","MAGJEX1B",21,0)
IMGLOOP ; get data for all the images
"RTN","MAGJEX1B",22,0)
 ; This subroutine is called from MAGJEX1
"RTN","MAGJEX1B",23,0)
 ;       MAGGRY holds $NA reference to ^TMP where Broker return message is assembled;
"RTN","MAGJEX1B",24,0)
 ;   all references to MAGGRY use subscript indirection  
"RTN","MAGJEX1B",25,0)
 N DFN,IMGREC,P18ALTP
"RTN","MAGJEX1B",26,0)
 I '$D(MAGJOB("ALTPATH")) S MAGJOB("ALTPATH")=0 ; facilitates testing
"RTN","MAGJEX1B",27,0)
 F IMAG=MAGSTRT:1:MAGEND S MAGIEN=$P(MAGS(IMAG),U,4) D
"RTN","MAGJEX1B",28,0)
 . S DFN=$P(MAGS(IMAG),U,8)
"RTN","MAGJEX1B",29,0)
 . I DFN=RADFN S MIXEDUP(RADFN)=""  ;ok
"RTN","MAGJEX1B",30,0)
 . E  S:'DFN DFN=0 S MIXEDUP=MIXEDUP+2,MIXEDUP(DFN)="" ; database corruption
"RTN","MAGJEX1B",31,0)
 . S MDL=$P(MAGS(IMAG),U,3)
"RTN","MAGJEX1B",32,0)
 . I MDL="DR" S MDL="CR"  ; for now, hard code cx of non-standard code
"RTN","MAGJEX1B",33,0)
 . I $G(SERBRK),(SERLBL]"") D    ; mark Begin of series
"RTN","MAGJEX1B",34,0)
 . . S CT=CT+1,@MAGGRY@(CT+STARTNOD)=SERLBL,SERLBL=""
"RTN","MAGJEX1B",35,0)
 . S MAGXX=MAGIEN D
"RTN","MAGJEX1B",36,0)
 . . I 'USETGA,($P(MAGS(IMAG),U,2)["BIG") D BIG^MAGFILEB Q
"RTN","MAGJEX1B",37,0)
 . . E  D VST^MAGFILEB
"RTN","MAGJEX1B",38,0)
 . I MAGJOB("ALTPATH") S X=$P(MAGS(IMAG),U,6),P18ALTP="" I X]"" D
"RTN","MAGJEX1B",39,0)
 . . F I=1:1:$L(X,",") S T=$P(X,",",I) I T S CURPATHS(T)="" I 'MAGJOB("P32"),$D(MAGJOB("LOC",T)) S P18ALTP=P18ALTP_$S(P18ALTP="":"",1:",")_T
"RTN","MAGJEX1B",40,0)
 . ;orig S CT=CT+1,@MAGGRY@(CT+STARTNOD)="B2^"_MAGIEN_U_MAGFILE2
"RTN","MAGJEX1B",41,0)
 . S IMGREC="B2^"_MAGIEN_U_MAGFILE2
"RTN","MAGJEX1B",42,0)
 . I 'MAGJOB("P32") D
"RTN","MAGJEX1B",43,0)
 . . S T="",X=$P(MAGS(IMAG),U,11) I X]"" F I="K","I","U" I X[I,$D(PSIND(I)) S T=T_$S(T="":"",1:",")_I ; PS_Indicators
"RTN","MAGJEX1B",44,0)
 . . S IMGREC=IMGREC_U_T_U_$S(MAGJOB("ALTPATH"):P18ALTP,1:"") ; AltPaths for this img
"RTN","MAGJEX1B",45,0)
 . S CT=CT+1,@MAGGRY@(CT+STARTNOD)=IMGREC
"RTN","MAGJEX1B",46,0)
 . I MODALITY="" D
"RTN","MAGJEX1B",47,0)
 . . I 'MAGJOB("P32") S MODALITY=MDL Q
"RTN","MAGJEX1B",48,0)
 . . N T S T=$P("1dummy1^CT^CR^MR^US^AS^CD^CS^DG^EC^FA^LP^MA^PT^ST^XA^NM^OT^BI^CP^DD^DM^ES^FS^LS^MS^RG^TG^RF^RTIMAGE^RTSTRUCT^HC^RTDOSE^RTPLAN^RTRECORD^DX^MG^IO^PX",U_MDL_U,1)
"RTN","MAGJEX1B",49,0)
 . . S MODALITY=$L(T,U)
"RTN","MAGJEX1B",50,0)
 . . I MODALITY>38 S MODALITY=9999  ; 38=TOTAL # modalities defined; else 9999
"RTN","MAGJEX1B",51,0)
 . . I STKLAY S OPENCNT=0 ; no limit on WS for # of exams open in StackVwr
"RTN","MAGJEX1B",52,0)
 ;
"RTN","MAGJEX1B",53,0)
 I 'MAGJOB("ALTPATH") S ALTPATH=-1
"RTN","MAGJEX1B",54,0)
 E  D
"RTN","MAGJEX1B",55,0)
 . S T=0 F  S T=$O(CURPATHS(T)) Q:'T  I $D(MAGJOB("LOC",T)) Q
"RTN","MAGJEX1B",56,0)
 . S ALTPATH=$S('T:0,1:1)
"RTN","MAGJEX1B",57,0)
 . I ALTPATH=$P(MAGJOB("ALTPATH"),U,2) S ALTPATH=-1
"RTN","MAGJEX1B",58,0)
 . E  S $P(MAGJOB("ALTPATH"),U,2)=ALTPATH
"RTN","MAGJEX1B",59,0)
IMGLOOPZ Q
"RTN","MAGJEX1B",60,0)
 ;
"RTN","MAGJEX1B",61,0)
 ;
"RTN","MAGJEX1B",62,0)
LOCKIN(RARPT,LOCKLEV,MYLOCK,LOCKCHK) ; init lock-related info B4 do any lock actions
"RTN","MAGJEX1B",63,0)
 ; called from UTL3 & EX1A
"RTN","MAGJEX1B",64,0)
 ; if LOCKCHK="STATUS", only return current status
"RTN","MAGJEX1B",65,0)
 ; Input RARPT (required) and LOCKCHK (opt)
"RTN","MAGJEX1B",66,0)
 ; Output: LOCKLEV & MYLOCK array; successful LOCKS left intact, unless LOCKCHK="STATUS"
"RTN","MAGJEX1B",67,0)
 ; M LOCKS det. what Actions are possible by calling program modules
"RTN","MAGJEX1B",68,0)
 ; MYLOCK(1/2)= Lock_is_Mine ^ DUZ ^ $J ^ User Name ^ User Init ^ Case #
"RTN","MAGJEX1B",69,0)
 ; LOCKLEV=0:3--is/not 1-Lockable/2-Reservable/3-Both to user
"RTN","MAGJEX1B",70,0)
 ; MYLOCK=0:3--is/not already 1-Locked/2-Reserved/3-Both by user
"RTN","MAGJEX1B",71,0)
 ;
"RTN","MAGJEX1B",72,0)
 N CKMINE,CASENO,XX,XY,ILOCK
"RTN","MAGJEX1B",73,0)
 S LOCKCHK=$G(LOCKCHK)="STATUS"
"RTN","MAGJEX1B",74,0)
 S LOCKLEV=0 K MYLOCK S MYLOCK=0
"RTN","MAGJEX1B",75,0)
 L +^XTMP("MAGJ","LOCK",RARPT):0
"RTN","MAGJEX1B",76,0)
 I  S LOCKLEV=3
"RTN","MAGJEX1B",77,0)
 L +^XTMP("MAGJ","LOCK",RARPT,1):0 ; "1" for Exam "LOCK"
"RTN","MAGJEX1B",78,0)
 I  S:'LOCKLEV LOCKLEV=1
"RTN","MAGJEX1B",79,0)
 L +^XTMP("MAGJ","LOCK",RARPT,2):0 ; "2" for Exam "RESERVE"
"RTN","MAGJEX1B",80,0)
 I  S LOCKLEV=$S('LOCKLEV:2,1:3)
"RTN","MAGJEX1B",81,0)
 L -^XTMP("MAGJ","LOCK",RARPT)
"RTN","MAGJEX1B",82,0)
 S CKMINE=DUZ_U_$J
"RTN","MAGJEX1B",83,0)
 F ILOCK=1,2 D
"RTN","MAGJEX1B",84,0)
 . S XX="",XY="",CASENO=$G(^XTMP("MAGJ","LOCK",RARPT,ILOCK))
"RTN","MAGJEX1B",85,0)
 . I CASENO]"" S XX=$G(^XTMP("MAGJ","LOCK",RARPT,ILOCK,CASENO)),XY=$P(XX,"|",2),XX=$P(XX,"|")
"RTN","MAGJEX1B",86,0)
 . S X=$P(XX,U,1,2),MYLOCK(ILOCK)=(X=CKMINE)
"RTN","MAGJEX1B",87,0)
 . S X=$P(XX,U)_U_$P(XX,U,2)_U_$P(XX,U,4)_U_$P(XX,U,5)_U_CASENO_U_"|"_XY
"RTN","MAGJEX1B",88,0)
 . S MYLOCK(ILOCK)=MYLOCK(ILOCK)_U_X
"RTN","MAGJEX1B",89,0)
 . I MYLOCK(ILOCK) S MYLOCK=MYLOCK+ILOCK
"RTN","MAGJEX1B",90,0)
 I LOCKCHK,LOCKLEV D  ; reset locks for Lock check
"RTN","MAGJEX1B",91,0)
 . I LOCKLEV=1!(LOCKLEV=3) L -^XTMP("MAGJ","LOCK",RARPT,1)
"RTN","MAGJEX1B",92,0)
 . I LOCKLEV=2!(LOCKLEV=3) L -^XTMP("MAGJ","LOCK",RARPT,2)
"RTN","MAGJEX1B",93,0)
 Q
"RTN","MAGJEX1B",94,0)
 ;
"RTN","MAGJEX1B",95,0)
REMLOCK ;  Remove dangling exam locks; this is run only at Logon
"RTN","MAGJEX1B",96,0)
 ; If a recorded lock is found that a new job (logon) can M-Lock
"RTN","MAGJEX1B",97,0)
 ; then that is a dangling lock that must be removed
"RTN","MAGJEX1B",98,0)
 N RARPT,TS,LOCKLEV,MYLOCK,ACTION,DAYCASE,ILOCK,RESULT
"RTN","MAGJEX1B",99,0)
 S RARPT=""
"RTN","MAGJEX1B",100,0)
 F  S RARPT=$O(^XTMP("MAGJ","LOCK",RARPT)) Q:'RARPT  D  ; loop thru recorded locks
"RTN","MAGJEX1B",101,0)
 . D LOCKIN(RARPT,.LOCKLEV,.MYLOCK)
"RTN","MAGJEX1B",102,0)
 . I 'LOCKLEV Q  ;unable to lock--is ok
"RTN","MAGJEX1B",103,0)
 . S ACTION="",DAYCASE=""
"RTN","MAGJEX1B",104,0)
 . F ILOCK=1,2 I $D(^XTMP("MAGJ","LOCK",RARPT,ILOCK)) S XX=^(ILOCK) D
"RTN","MAGJEX1B",105,0)
 . . I DAYCASE="" S DAYCASE=$P(XX,U)
"RTN","MAGJEX1B",106,0)
 . . I ILOCK=1,(LOCKLEV=1!(LOCKLEV=3)) S $P(ACTION,U,1)=1
"RTN","MAGJEX1B",107,0)
 . . I ILOCK=2,(LOCKLEV=2!(LOCKLEV=3)) S $P(ACTION,U,2)=1
"RTN","MAGJEX1B",108,0)
 . I 'ACTION,'+$P(ACTION,U,2),(DAYCASE="") D  Q  ; should never occur, but 
"RTN","MAGJEX1B",109,0)
 . . I LOCKLEV=1!(LOCKLEV=3) L -^XTMP("MAGJ","LOCK",RARPT,1)
"RTN","MAGJEX1B",110,0)
 . . I LOCKLEV=2!(LOCKLEV=3) L -^XTMP("MAGJ","LOCK",RARPT,2)
"RTN","MAGJEX1B",111,0)
 . D LOCKOUT^MAGJEX1A(RARPT,DAYCASE,.LOCKLEV,.MYLOCK,ACTION,.RESULT) ; 1st, lock to me
"RTN","MAGJEX1B",112,0)
 . K LOCKLEV,MYLOCK D LOCKACT^MAGJEX1A(RARPT,DAYCASE,101,.RESULT) ;    then, clear the lock
"RTN","MAGJEX1B",113,0)
 S TS="" F I=2,0 S %H=$H+I D YMD^%DTC S TS=TS_$S(TS="":"",1:U)_X
"RTN","MAGJEX1B",114,0)
 S ^XTMP("MAGJ",0)=TS_U_"VistaRad Locks"
"RTN","MAGJEX1B",115,0)
 Q
"RTN","MAGJEX1B",116,0)
 ;
"RTN","MAGJEX1B",117,0)
 ;
"RTN","MAGJEX1B",118,0)
END ;
"RTN","MAGJEX2")
0^30^B48062070
"RTN","MAGJEX2",1,0)
MAGJEX2 ;;WIRMFO/JHC Rad. Workstation RPC calls;[ 02/25/2000  4:40 PM ] ; 09 Jun 2003  2:58 PM
"RTN","MAGJEX2",2,0)
 ;;3.0;IMAGING;**51,18**;Mar 07, 2006
"RTN","MAGJEX2",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX2",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJEX2",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJEX2",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJEX2",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJEX2",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJEX2",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJEX2",10,0)
 ;; |                                                               |
"RTN","MAGJEX2",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJEX2",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJEX2",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJEX2",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJEX2",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJEX2",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX2",17,0)
 ;;
"RTN","MAGJEX2",18,0)
 Q
"RTN","MAGJEX2",19,0)
 ; Subroutines for pre-fetch/ auto-display prior exams' images
"RTN","MAGJEX2",20,0)
 ; Entry Points:
"RTN","MAGJEX2",21,0)
 ;   PRIOR1  -- Pre-Fetch/Auto-Display images for other related cases;
"RTN","MAGJEX2",22,0)
 ;    RPC Call: MAGJ PRIOREXAMS
"RTN","MAGJEX2",23,0)
 ;   PREFETCH -- Pre-Fetch initiated from 
"RTN","MAGJEX2",24,0)
 ;
"RTN","MAGJEX2",25,0)
 Q
"RTN","MAGJEX2",26,0)
ERR N ERR S ERR=$$EC^%ZOSV S MAGGRY(0)="0^Server Program Error: "_ERR
"RTN","MAGJEX2",27,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJEX2",28,0)
 Q:$Q 1  Q
"RTN","MAGJEX2",29,0)
PREFETCH ; Entry point from HL7 processing, to initiate prefetch at
"RTN","MAGJEX2",30,0)
 ; time of radiology "Register Patient for Exam" function
"RTN","MAGJEX2",31,0)
 ; Do not process if the exam is being Canceled (RACANC true)
"RTN","MAGJEX2",32,0)
 ;
"RTN","MAGJEX2",33,0)
 N RET S RET=""
"RTN","MAGJEX2",34,0)
 I '$P($G(^MAG(2006.69,1,0)),U,5) G PREFQ          ; Prefetch disabled
"RTN","MAGJEX2",35,0)
 I '($G(RADFN)&$G(RADTI)&$G(RACNI)&'$G(RACANC)) G PREFQ ; Required vars
"RTN","MAGJEX2",36,0)
 D PRIOR1(.RET,"P"_U_RADFN_U_RADTI_U_RACNI)
"RTN","MAGJEX2",37,0)
PREFQ ; W !,"End PRE-FETCH RET=" N JHC R JHC ZW RET
"RTN","MAGJEX2",38,0)
 Q
"RTN","MAGJEX2",39,0)
 ;
"RTN","MAGJEX2",40,0)
PRIOR1(MAGGRY,DATA) ; review all exams for a patient to find "related" exams
"RTN","MAGJEX2",41,0)
 ; This ep also called as subroutine from routing software (P51)
"RTN","MAGJEX2",42,0)
 ; MAGGRY - return array of exams to PreFetch, or Auto-send to RAD W/S
"RTN","MAGJEX2",43,0)
 ; DATA:  - input params for the Current Exam
"RTN","MAGJEX2",44,0)
 ;   1) ACTION = P -- Pre-fetch Exams (from Jukebox to Magnetic Disk)
"RTN","MAGJEX2",45,0)
 ;             = A -- Auto-route priors
"RTN","MAGJEX2",46,0)
 ;   2) RADFN  = Case pointers to Rad/Nuc Med Patient file 
"RTN","MAGJEX2",47,0)
 ;   3) RADTI  =  ""        ""         ""          ""
"RTN","MAGJEX2",48,0)
 ;   4) RACNI  =  ""        ""         ""          ""
"RTN","MAGJEX2",49,0)
 ;   5) RARPT  - Case pointer to ^RARPT global
"RTN","MAGJEX2",50,0)
 ;
"RTN","MAGJEX2",51,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJEX2"
"RTN","MAGJEX2",52,0)
 K MAGGRY
"RTN","MAGJEX2",53,0)
 N RADFN,RADTI,RACNI,RARPT,RADATA
"RTN","MAGJEX2",54,0)
 N DAYCASE,DIQUIET,ACTION,CPT,HDR,MAGDFN,MAGDTI,MAGCNI,MAGRET,MAGRACNT
"RTN","MAGJEX2",55,0)
 S ACTION=$P(DATA,U)
"RTN","MAGJEX2",56,0)
 I ACTION="P"!(ACTION="A")
"RTN","MAGJEX2",57,0)
 E  S MAGGRY(0)="0^Invalid Request (Action code="_ACTION_")" G PRIOR1Z
"RTN","MAGJEX2",58,0)
 S MAGDFN=$P(DATA,U,2),MAGDTI=$P(DATA,U,3),MAGCNI=$P(DATA,U,4)
"RTN","MAGJEX2",59,0)
 I MAGDFN,MAGDTI,MAGCNI
"RTN","MAGJEX2",60,0)
 E  S MAGGRY(0)="0^Request Contains Invalid Case Pointer ("_DATA_")" G PRIOR1Z
"RTN","MAGJEX2",61,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJEX2",62,0)
 N MAGJOB D MAGJOBNC^MAGJUTL3
"RTN","MAGJEX2",63,0)
 S HDR=$S(ACTION="P":"Pre-fetch",ACTION="A":"Auto-Display",1:"???")_" Prior Exams for CASE: "
"RTN","MAGJEX2",64,0)
 I '$D(^DPT(MAGDFN,0)) S MAGGRY(0)="0^Request Contains Invalid Patient Pointer ("_MAGDFN_")" G PRIOR1Z
"RTN","MAGJEX2",65,0)
 I $D(^RADPT(MAGDFN,"DT",MAGDTI,"P",MAGCNI))
"RTN","MAGJEX2",66,0)
 E  S MAGGRY(0)="0^Request Contains Invalid Case Pointer ("_MAGCNI_")" G PRIOR1Z
"RTN","MAGJEX2",67,0)
 S MAGRACNT=0
"RTN","MAGJEX2",68,0)
 S MAGGRY(0)="0^Compiling Prior Radiology Exams"
"RTN","MAGJEX2",69,0)
 D GETEXAM2^MAGJUTL1(MAGDFN,MAGDTI,MAGCNI,"",.MAGRET) ; Current Exam only
"RTN","MAGJEX2",70,0)
 S RADFN=MAGDFN,RADTI=MAGDTI,RACNI=MAGCNI
"RTN","MAGJEX2",71,0)
 I 'MAGRET S MAGGRY(0)="0^Current Case is Not Accessible" G PRIOR1Z
"RTN","MAGJEX2",72,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1)) S DAYCASE=$P(RADATA,U,12) D SVMAG2A
"RTN","MAGJEX2",73,0)
 I 'MAGGRY(0) S MAGGRY(0)="0^Current Case either has no CPT code, or has no rules defined for its CPT code." G PRIOR1Z
"RTN","MAGJEX2",74,0)
 S HDR=HDR_DAYCASE
"RTN","MAGJEX2",75,0)
 D SRCH(MAGDFN)  ;  Search prior exams for this patient
"RTN","MAGJEX2",76,0)
PRIOR1Z ;
"RTN","MAGJEX2",77,0)
 I 'MAGGRY(0) S:(MAGGRY(0)["Compiling") MAGGRY(0)="0^No Exams Found"
"RTN","MAGJEX2",78,0)
 E  I +MAGGRY(0)=1 S MAGGRY(0)="0^No Prior Exams Found" K MAGGRY(1)
"RTN","MAGJEX2",79,0)
 E  D SVMAG2B
"RTN","MAGJEX2",80,0)
 K ^TMP($J,"MAGRAEX"),^("RAE1")
"RTN","MAGJEX2",81,0)
 Q
"RTN","MAGJEX2",82,0)
 ;
"RTN","MAGJEX2",83,0)
SRCH(RADFN) ; Traverse all exams for a patient, up to limits of age & total
"RTN","MAGJEX2",84,0)
 ; numbers of exams to consider
"RTN","MAGJEX2",85,0)
 N BEGDT,LIMYRS,LIMEXAMS,X
"RTN","MAGJEX2",86,0)
 S X=$G(^MAG(2006.69,1,0))
"RTN","MAGJEX2",87,0)
 S LIMYRS=+$P(X,U,14),LIMEXAMS=+$P(X,U,15)
"RTN","MAGJEX2",88,0)
 S:'LIMYRS LIMYRS=10 S:'LIMEXAMS LIMEXAMS=100 ; default limit # Exams
"RTN","MAGJEX2",89,0)
 S BEGDT=($E(DT,1,3)-LIMYRS)_$E(DT,4,7)
"RTN","MAGJEX2",90,0)
 I BEGDT<2950101 S BEGDT=2950101 ; 2 yrs prior to earliest VistaPACS
"RTN","MAGJEX2",91,0)
 S MAGRACNT=1 D GETEXAM3^MAGJUTL1(RADFN,BEGDT,"",.MAGRACNT,.MAGRET,"",LIMEXAMS)
"RTN","MAGJEX2",92,0)
 I MAGRET N IDAT S IDAT=1 D
"RTN","MAGJEX2",93,0)
 . F  S IDAT=$O(^TMP($J,"MAGRAEX",IDAT)) Q:'IDAT  S RADATA=^(IDAT,1) D
"RTN","MAGJEX2",94,0)
 .. S RADTI=$P(RADATA,U,2),RACNI=$P(RADATA,U,3)
"RTN","MAGJEX2",95,0)
 .. I RADTI=MAGDTI&(RACNI=MAGCNI) Q  ; skip current case
"RTN","MAGJEX2",96,0)
 .. D SVMAG2A
"RTN","MAGJEX2",97,0)
 Q
"RTN","MAGJEX2",98,0)
 ;
"RTN","MAGJEX2",99,0)
SVMAG2A ; 2A and 2B used by subroutine at tag PRIOR1
"RTN","MAGJEX2",100,0)
 ; Find all the patient's exams whose CPT codes are related to the
"RTN","MAGJEX2",101,0)
 ; Current exam's CPT code, according to dictionary 2006.65
"RTN","MAGJEX2",102,0)
 N RAIMGTYP
"RTN","MAGJEX2",103,0)
 N CPT,CPT3,CPT4,CPT5,CURCPTX,CURCPTS,HIT,MAGMATCH,MAGDTH
"RTN","MAGJEX2",104,0)
 S RARPT=+$P(RADATA,U,10)
"RTN","MAGJEX2",105,0)
 I MAGGRY(0) Q:'$P(MAGGRY(1),U)           ;  Cur Case CPT not in map file
"RTN","MAGJEX2",106,0)
 I  Q:(ACTION="P")&'$D(^RARPT(RARPT,2005))  ; nothing to pre-fetch
"RTN","MAGJEX2",107,0)
 I  Q:$P(RADATA,U,15)<2          ; Cancel or Waiting
"RTN","MAGJEX2",108,0)
 ;   Note: if no images, may still want to do Auto-Disp to get Report;
"RTN","MAGJEX2",109,0)
 ;      also, Current Case should still proceed
"RTN","MAGJEX2",110,0)
 S CPT=$P(RADATA,U,17)
"RTN","MAGJEX2",111,0)
 Q:'CPT  ;  algorithm REQUIRES CPT codes be used
"RTN","MAGJEX2",112,0)
 S CPT5=CPT,CPT4=$E(CPT,1,4),CPT3=$E(CPT,1,3)
"RTN","MAGJEX2",113,0)
 S MAGMATCH="^^"
"RTN","MAGJEX2",114,0)
 I 'MAGGRY(0) D  Q:'MAGMATCH  ; No rules defined for Cur. Case's CPT
"RTN","MAGJEX2",115,0)
 . S Y=""
"RTN","MAGJEX2",116,0)
 .  ;  Order of CPT5/4/3 is important for the algorithm, which
"RTN","MAGJEX2",117,0)
 .  ;  uses the 1st rule found at the LOWEST level of detail defined
"RTN","MAGJEX2",118,0)
 . F X=CPT5,CPT4,CPT3 I $D(^MAG(2006.65,"B",X)) S Y=Y_$S(Y:",",1:"")_X S $P(MAGMATCH,U)=Y
"RTN","MAGJEX2",119,0)
 I CPT,MAGGRY(0) D
"RTN","MAGJEX2",120,0)
 .  ; curcpts has the cpt5/4/3 list generated above for Cur. Case CPT's
"RTN","MAGJEX2",121,0)
 . S HIT=0,CURCPTS=$P(MAGGRY(1),U)
"RTN","MAGJEX2",122,0)
 . F  Q:CURCPTS=""  S CURCPTX=$O(^MAG(2006.65,"B",$P(CURCPTS,","),"")) S CURCPTS=$P(CURCPTS,",",2,9) I CURCPTX]"" D  Q:HIT  ; 1st hit only
"RTN","MAGJEX2",123,0)
 .. ;  This algorithm checks from lowest detail to most general, and acts
"RTN","MAGJEX2",124,0)
 .. ;  on the information found at the FIRST Hit only
"RTN","MAGJEX2",125,0)
 .. F CPT="CPT5","CPT4","CPT3" S CPT=@CPT I CPT]"",$D(^MAG(2006.65,CURCPTX,1,"B",CPT)) S X=$O(^(CPT,"")) D  S HIT=1 Q  ;1st hit only
"RTN","MAGJEX2",126,0)
 ... S X=^MAG(2006.65,CURCPTX,1,X,0) S Y=$S(ACTION="A":2,1:5),X=$P(X,U,Y,Y+2)
"RTN","MAGJEX2",127,0)
 ... I +X S MAGMATCH=CPT F I=2,3 S $P(MAGMATCH,U,I)=$P(X,U,I)
"RTN","MAGJEX2",128,0)
 ;         sample of logic file:
"RTN","MAGJEX2",129,0)
 ; ^MAG(2006.65,1,0) = 730
"RTN","MAGJEX2",130,0)
 ; ^MAG(2006.65,1,1,0) = ^12000011.01^2^2
"RTN","MAGJEX2",131,0)
 ; ^MAG(2006.65,1,1,1,0) = 730^1^40^6^1^120^10
"RTN","MAGJEX2",132,0)
 ; ^MAG(2006.65,1,1,2,0) = 732^1^40^2^1^120^4
"RTN","MAGJEX2",133,0)
 ; ^MAG(2006.65,1,1,"B",730,1) =
"RTN","MAGJEX2",134,0)
 ; ^MAG(2006.65,1,1,"B",732,2) =
"RTN","MAGJEX2",135,0)
 ; ^MAG(2006.65,"B",730,1) =
"RTN","MAGJEX2",136,0)
 ;
"RTN","MAGJEX2",137,0)
 Q:'MAGMATCH
"RTN","MAGJEX2",138,0)
   ; 1  RADFN   RADTI    RACNI   RANME   RASSN    <-- from GETEXAM
"RTN","MAGJEX2",139,0)
   ; 6  RADATE  RADTE    RACN    RAPRC   RARPT
"RTN","MAGJEX2",140,0)
   ; 11 RAST    DAYCASE  RAELOC  RASTP   RASTORD
"RTN","MAGJEX2",141,0)
   ; 16 RADTPRT RACPT    RAIMGTYP
"RTN","MAGJEX2",142,0)
 S X=$P(RADATA,U,7) D H^%DTC S MAGDTH=+%H
"RTN","MAGJEX2",143,0)
 S X=$P(RADATA,U,18)
"RTN","MAGJEX2",144,0)
 S RAIMGTYP=$S(X]"":$O(^RA(79.2,"C",X,"")),1:X)
"RTN","MAGJEX2",145,0)
 S Y=MAGGRY(0)+1,$P(MAGGRY(0),U)=Y,MAGGRY(Y)=MAGMATCH_U_MAGDTH_U_U_$P(RADATA,U,9)_U_RAIMGTYP_U_RADFN_U_RADTI_U_RACNI_U_RARPT_U_$P(RADATA,U,12)_U_$P(RADATA,U,11)
"RTN","MAGJEX2",146,0)
 Q
"RTN","MAGJEX2",147,0)
 ;
"RTN","MAGJEX2",148,0)
SVMAG2B ; For exams whose CPTs match, select a subset that are within defined
"RTN","MAGJEX2",149,0)
 ; limits with respect to time interval & maximum # exams to retrieve
"RTN","MAGJEX2",150,0)
 ; Return MAGGRY(0) =  count ^ message
"RTN","MAGJEX2",151,0)
 ;        MAGGRY(1:N) = "M08" | RADFN ^ RADTI ^ RACNI ^ RARPT
"RTN","MAGJEX2",152,0)
 N CPT,CT,CURDAT,ICPT,IREC,GO
"RTN","MAGJEX2",153,0)
 S CURDAT=$P(MAGGRY(1),U,4)
"RTN","MAGJEX2",154,0)
 F IREC=2:1:MAGGRY(0) S X=MAGGRY(IREC),CPT=+X D  K MAGGRY(IREC)
"RTN","MAGJEX2",155,0)
 . I $P(X,U,2) S Y=CURDAT-$P(X,U,4) S:Y<0 Y=-Y I Y>$P(X,U,2) Q  ;too old
"RTN","MAGJEX2",156,0)
 . S Y=$G(GO(CPT))+1 I CPT,(Y>$P(X,U,3)) Q  ; already have enough cases
"RTN","MAGJEX2",157,0)
 . S GO(CPT)=Y,GO(CPT,Y)=X
"RTN","MAGJEX2",158,0)
 K MAGGRY
"RTN","MAGJEX2",159,0)
 I $D(GO) S CT=0,CPT="" D
"RTN","MAGJEX2",160,0)
 . F  S CPT=$O(GO(CPT)) Q:CPT=""  F ICPT=1:1:GO(CPT) D
"RTN","MAGJEX2",161,0)
 .. S CT=CT+1,X=GO(CPT,ICPT),RARPT=$P(X,U,11)
"RTN","MAGJEX2",162,0)
 .. S MAGGRY(CT)="M08^"_CPT_"|"_$P(X,U,8,11)
"RTN","MAGJEX2",163,0)
 .. I ACTION="P"!(ACTION="A") S Y=$$JBFETCH^MAGJUTL2(RARPT)  ; fetch from jukebox
"RTN","MAGJEX2",164,0)
 . S MAGGRY(0)=CT_"^"_HDR
"RTN","MAGJEX2",165,0)
 E  S MAGGRY(0)="0^No Exams Found for "_HDR
"RTN","MAGJEX2",166,0)
 Q
"RTN","MAGJEX2",167,0)
 ;
"RTN","MAGJEX2",168,0)
END ;
"RTN","MAGJEX3")
0^29^B43539736
"RTN","MAGJEX3",1,0)
MAGJEX3 ;WIRMFO/JHC VistaRad RPCs-Get PS & KEY Img data ; 1 Nov 2004  10:05 AM
"RTN","MAGJEX3",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJEX3",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX3",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJEX3",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJEX3",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJEX3",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJEX3",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJEX3",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJEX3",10,0)
 ;; |                                                               |
"RTN","MAGJEX3",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJEX3",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJEX3",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJEX3",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJEX3",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJEX3",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJEX3",17,0)
 ;;
"RTN","MAGJEX3",18,0)
 Q
"RTN","MAGJEX3",19,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR
"RTN","MAGJEX3",20,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJEX3",21,0)
 Q:$Q 1  Q
"RTN","MAGJEX3",22,0)
 ;
"RTN","MAGJEX3",23,0)
RPCIN(MAGGRY,PARAMS,DATA) ; RPC: MAGJ STUDY_DATA
"RTN","MAGJEX3",24,0)
 ;   Retrieve Key Image and/or Presentation State data for an Exam
"RTN","MAGJEX3",25,0)
 ; PARAMS--TXID ^ DFN ^ DTI ^ CNI ^ RARPT ^ MAGIEN ^ PSDETAIL
"RTN","MAGJEX3",26,0)
 ; TXID: Required; designates action to take:
"RTN","MAGJEX3",27,0)
 ;  1 -- Key Image only
"RTN","MAGJEX3",28,0)
 ;  2 -- Interp Images only
"RTN","MAGJEX3",29,0)
 ;  3 -- Key and Interp Images
"RTN","MAGJEX3",30,0)
 ;  4 -- PS data for input (in DATA): ImgIEN & PS_UID or PS_Indicators
"RTN","MAGJEX3",31,0)
 ;
"RTN","MAGJEX3",32,0)
 ; For TXID 1, 2, 3 either RARPT or MAGIEN is required to identify the exam
"RTN","MAGJEX3",33,0)
 ;        PSDETAIL--1/0;  1=Include PS data for above
"RTN","MAGJEX3",34,0)
 ;   RARPT--Rad report pointer;  IMGIEN--can be Image or Group IEN
"RTN","MAGJEX3",35,0)
 ; DATA--required for TXID=4 --array of input DATA: IMGIEN ^ [PSUID] ^ [PSIND]
"RTN","MAGJEX3",36,0)
 ;       If both PSUID and PSIND appear, the PSIND is IGNORED
"RTN","MAGJEX3",37,0)
 ;
"RTN","MAGJEX3",38,0)
 ; Results returned in @MAGGRY
"RTN","MAGJEX3",39,0)
 ;
"RTN","MAGJEX3",40,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJEX3"
"RTN","MAGJEX3",41,0)
 N REPLY,MAGLST,DIQUIET,TXID,RARPT,MAGIEN,STIEN,IMGIEN,PSUID,PSIND
"RTN","MAGJEX3",42,0)
 N PSDETAIL,COUNTS,IMGCT,KEYCT,PSCT,INTCT,STRPT,KEYINT,PSLS,CT
"RTN","MAGJEX3",43,0)
 S MAGLST="MAGJRPC" K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY
"RTN","MAGJEX3",44,0)
 ; Note--return data is stored with indirection references to MAGGRY
"RTN","MAGJEX3",45,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJEX3",46,0)
 S TXID=+PARAMS,STRPT=""
"RTN","MAGJEX3",47,0)
 I '(TXID>0&(TXID<5)) S REPLY="0~Invalid transaction (TX="_TXID_") requested by MAGJ STUDYDATA rpc call." G RPCINZ
"RTN","MAGJEX3",48,0)
 S RARPT=$P(PARAMS,U,5),MAGIEN=$P(PARAMS,U,6),PSDETAIL=+$P(PARAMS,U,7)
"RTN","MAGJEX3",49,0)
 S CT=0,PSCT=0
"RTN","MAGJEX3",50,0)
 I TXID<4 D  G RPCINZ
"RTN","MAGJEX3",51,0)
 . S STIEN=$$STUDYID^MAGJUPD2(MAGIEN,RARPT,1)
"RTN","MAGJEX3",52,0)
 . S STRPT=$S(RARPT:RARPT,1:$P($$GETRPT^MAGJUPD2(MAGIEN),U))
"RTN","MAGJEX3",53,0)
 . I TXID=3 S KEYINT="KI" ; Key & Interp Images
"RTN","MAGJEX3",54,0)
 . E  I TXID=1 S KEYINT="K" ; Key Images
"RTN","MAGJEX3",55,0)
 . E  I TXID=2 S KEYINT="I" ; Interp Images
"RTN","MAGJEX3",56,0)
 . D GETDAT("PSLS",STIEN,KEYINT)
"RTN","MAGJEX3",57,0)
 . D GETKEY("@MAGGRY",.CT,PSDETAIL,.COUNTS)
"RTN","MAGJEX3",58,0)
 . S IMGCT=+COUNTS,KEYCT=+$P(COUNTS,U,2),INTCT=+$P(COUNTS,U,3),PSCT=+$P(COUNTS,U,4)
"RTN","MAGJEX3",59,0)
 . I 'KEYCT,'INTCT S REPLY="1~No Key/Interpretation Images defined for exam." Q
"RTN","MAGJEX3",60,0)
 . S REPLY=1_"~: "
"RTN","MAGJEX3",61,0)
 . S REPLY=REPLY_PSCT_" PS def"_$S(PSCT-1:"s",1:"")_" for "
"RTN","MAGJEX3",62,0)
 . S REPLY=REPLY_KEYCT_" Key Image"_$S(KEYCT-1:"s",1:"")_"; "_INTCT_" Interpretation Image"_$S(INTCT-1:"s",1:"")_"; "_IMGCT_" Image"_$S(IMGCT-1:"s",1:"")_" checked."
"RTN","MAGJEX3",63,0)
 ;
"RTN","MAGJEX3",64,0)
 I TXID=4 D  ; PS data for input ImgIEN & PS_UID or PS_Inds
"RTN","MAGJEX3",65,0)
 . S IDATA="",IMGCT=0
"RTN","MAGJEX3",66,0)
 . F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  S X=DATA(IDATA) I X]"" D
"RTN","MAGJEX3",67,0)
 . . S IMGIEN=$P(X,U),PSUID=$P(X,U,2),PSIND=$P(X,U,3),IMGCT=IMGCT+1,COUNTS=0
"RTN","MAGJEX3",68,0)
 . . I PSUID]"" S PSIND=""  ; ignore psind if uid is supplied
"RTN","MAGJEX3",69,0)
 . . I 'STRPT S STRPT=$P($$GETRPT^MAGJUPD2(IMGIEN),U)
"RTN","MAGJEX3",70,0)
 . . E  I STRPT'=$P($$GETRPT^MAGJUPD2(IMGIEN),U) Q  ; don't intermix diff. studies, but continue
"RTN","MAGJEX3",71,0)
 . . I '((PSUID]""!(PSIND]""))&IMGIEN) S REPLY="0~For MAGJ STUDYDATA (TX="_TXID_") invalid params passed to rpc call." Q
"RTN","MAGJEX3",72,0)
 . . I PSUID]"" D GETPSID1("@MAGGRY",.CT,IMGIEN,PSUID,.COUNTS)
"RTN","MAGJEX3",73,0)
 . . E  I PSIND]"" D GETPSID2("@MAGGRY",.CT,IMGIEN,PSIND,.COUNTS)
"RTN","MAGJEX3",74,0)
 . . S PSCT=PSCT+COUNTS
"RTN","MAGJEX3",75,0)
 . . S REPLY=1_"~: "_PSCT_" PS def"_$S(PSCT-1:"s",1:"")_" for "_IMGCT_" Image"_$S(IMGCT-1:"s",1:"")_" checked."
"RTN","MAGJEX3",76,0)
RPCINZ S @MAGGRY@(0)=CT_U_REPLY
"RTN","MAGJEX3",77,0)
 Q
"RTN","MAGJEX3",78,0)
 ;
"RTN","MAGJEX3",79,0)
GETKEY(RET,CT,PSFLAG,COUNTS) ; Get Key images for study STIEN w/ PS refs
"RTN","MAGJEX3",80,0)
 ; Results returned by indirection in array @RET, indexed by CT
"RTN","MAGJEX3",81,0)
 ; if PSFLAG is true, return Pres State data
"RTN","MAGJEX3",82,0)
 ; COUNTS contains ^-delim list of various counts (see below)
"RTN","MAGJEX3",83,0)
 ;
"RTN","MAGJEX3",84,0)
 N IMGIEN,UID,IMGCT,KEYCT,PSCT,INTCT,TYPE,IMGTRAK,LASTIMG,QREF
"RTN","MAGJEX3",85,0)
 S CT=+$G(CT),PSFLAG=+$G(PSFLAG),(IMGCT,KEYCT,PSCT,INTCT)=0
"RTN","MAGJEX3",86,0)
 I 'STIEN G GETKEYZ
"RTN","MAGJEX3",87,0)
 S QREF="PSLS",LASTIMG=0
"RTN","MAGJEX3",88,0)
 F  S QREF=$Q(@QREF) Q:QREF=""  S X=@QREF D
"RTN","MAGJEX3",89,0)
 . S IMGIEN=+X,UID=$P(X,U,2),TYPE=$P(X,U,3)
"RTN","MAGJEX3",90,0)
 . I IMGIEN'=LASTIMG D
"RTN","MAGJEX3",91,0)
 . . I LASTIMG S CT=CT+1,@RET@(CT)="*END_IMAGE"
"RTN","MAGJEX3",92,0)
 . . S CT=CT+1,@RET@(CT)="*IMAGE"
"RTN","MAGJEX3",93,0)
 . . S CT=CT+1,@RET@(CT)=IMGIEN_U
"RTN","MAGJEX3",94,0)
 . . S LASTIMG=IMGIEN S IMGCT=IMGCT+'$D(IMGTRAK(IMGIEN)),IMGTRAK(IMGIEN)=""
"RTN","MAGJEX3",95,0)
 . Q:UID=""
"RTN","MAGJEX3",96,0)
 . S CT=CT+1,@RET@(CT)="*PS",PSCT=PSCT+1
"RTN","MAGJEX3",97,0)
 . S CT=CT+1,@RET@(CT)=UID_U_$S(TYPE="K":"KEY",TYPE="I":"INTERP",1:TYPE)
"RTN","MAGJEX3",98,0)
 . I PSFLAG D GETPSDAT(.RET,.CT,IMGIEN,UID)
"RTN","MAGJEX3",99,0)
 . S CT=CT+1,@RET@(CT)="*END_PS"
"RTN","MAGJEX3",100,0)
 . I TYPE="K" S KEYCT=KEYCT+1
"RTN","MAGJEX3",101,0)
 . I TYPE="I" S INTCT=INTCT+1
"RTN","MAGJEX3",102,0)
 I LASTIMG S CT=CT+1,@RET@(CT)="*END_IMAGE"
"RTN","MAGJEX3",103,0)
GETKEYZ S COUNTS=IMGCT_U_KEYCT_U_INTCT_U_PSCT
"RTN","MAGJEX3",104,0)
 Q
"RTN","MAGJEX3",105,0)
 ;
"RTN","MAGJEX3",106,0)
 ;
"RTN","MAGJEX3",107,0)
GETDAT(RET,STIEN,KEYINT) ; Get data for Key Interp images for study STIEN
"RTN","MAGJEX3",108,0)
 ; Results returned by indirection in array @RET
"RTN","MAGJEX3",109,0)
 N IMGIEN,UID,KIEN,PSIEN,STUDYREF,PSCT,TYPE,SEQNUM
"RTN","MAGJEX3",110,0)
 S PSCT=0
"RTN","MAGJEX3",111,0)
 I 'STIEN G GETDATZ
"RTN","MAGJEX3",112,0)
 S STUDYREF=$NA(^MAG(2005.001,STIEN))
"RTN","MAGJEX3",113,0)
 S KIEN=0
"RTN","MAGJEX3",114,0)
 F  S KIEN=$O(@STUDYREF@(1,KIEN)) Q:'KIEN  S IMGIEN=$P($G(^(KIEN,0)),U),PSIEN=0 D
"RTN","MAGJEX3",115,0)
 . F  S PSIEN=$O(@STUDYREF@(1,KIEN,1,PSIEN)) Q:'PSIEN  S X=$G(^(PSIEN,0)) D
"RTN","MAGJEX3",116,0)
 . . S UID=$P(X,U),TYPE=$P(X,U,2),SEQNUM=$P(X,U,3),PSCT=PSCT+1
"RTN","MAGJEX3",117,0)
 . . I UID]"" S:TYPE="" TYPE="I" S:SEQNUM="" SEQNUM=PSCT+10000
"RTN","MAGJEX3",118,0)
 . . E  Q
"RTN","MAGJEX3",119,0)
 . . I TYPE="K",(KEYINT[TYPE) S @RET@(TYPE,SEQNUM,IMGIEN)=IMGIEN_U_UID_U_TYPE
"RTN","MAGJEX3",120,0)
 . . I TYPE="I",(KEYINT[TYPE) S @RET@(TYPE,IMGIEN,SEQNUM)=IMGIEN_U_UID_U_TYPE
"RTN","MAGJEX3",121,0)
GETDATZ Q
"RTN","MAGJEX3",122,0)
 ;
"RTN","MAGJEX3",123,0)
 ;
"RTN","MAGJEX3",124,0)
GETPSDAT(RET,CT,IMGIEN,UID) ; Get PS text lines for input IMGIEN & UID
"RTN","MAGJEX3",125,0)
 ; Results returned by indirection in array @RET, indexed by CT
"RTN","MAGJEX3",126,0)
 ;
"RTN","MAGJEX3",127,0)
 N IMGREF,UIDIEN,IEN
"RTN","MAGJEX3",128,0)
 S CT=+$G(CT),UID=$G(UID)
"RTN","MAGJEX3",129,0)
 I '(UID]""&IMGIEN) G GETPSDAZ
"RTN","MAGJEX3",130,0)
 S IMGREF=$NA(^MAG(2005,IMGIEN))
"RTN","MAGJEX3",131,0)
 S UIDIEN=$O(@IMGREF@(210,"B",UID,"")) Q:'UIDIEN  S IEN=0 D
"RTN","MAGJEX3",132,0)
 . F  S IEN=$O(@IMGREF@(210,UIDIEN,1,IEN)) Q:'IEN  S CT=CT+1,@RET@(CT)=^(IEN,0)
"RTN","MAGJEX3",133,0)
GETPSDAZ Q
"RTN","MAGJEX3",134,0)
 ;
"RTN","MAGJEX3",135,0)
GETPSID1(RET,CT,IMGIEN,PSUID,HIT) ; For input IMGIEN & PSUID, return PS data
"RTN","MAGJEX3",136,0)
 ; Results returned by indirection in array @RET, indexed by CT
"RTN","MAGJEX3",137,0)
 ; HIT=1 if the image has a PS_UID stored
"RTN","MAGJEX3",138,0)
 N X,TYP,IEN
"RTN","MAGJEX3",139,0)
 S CT=+$G(CT),HIT=0
"RTN","MAGJEX3",140,0)
 I '(PSUID]""&IMGIEN) G GETPSI1Z
"RTN","MAGJEX3",141,0)
 S IMGREF=$NA(^MAG(2005,IMGIEN))
"RTN","MAGJEX3",142,0)
 S IEN=$O(@IMGREF@(210,"B",PSUID,"")) I 'IEN G GETPSI1Z
"RTN","MAGJEX3",143,0)
 S TYP=$P(@IMGREF@(210,IEN,0),U,2)
"RTN","MAGJEX3",144,0)
 S CT=CT+1,@RET@(CT)="*IMAGE",HIT=1
"RTN","MAGJEX3",145,0)
 S CT=CT+1,@RET@(CT)=IMGIEN_U
"RTN","MAGJEX3",146,0)
 S CT=CT+1,@RET@(CT)="*PS"
"RTN","MAGJEX3",147,0)
 S CT=CT+1,@RET@(CT)=PSUID_U_$S(TYP="K":"KEY",TYP="I":"INTERP",1:TYP)
"RTN","MAGJEX3",148,0)
 D GETPSDAT(.RET,.CT,IMGIEN,PSUID)
"RTN","MAGJEX3",149,0)
 S CT=CT+1,@RET@(CT)="*END_PS"
"RTN","MAGJEX3",150,0)
 S CT=CT+1,@RET@(CT)="*END_IMAGE"
"RTN","MAGJEX3",151,0)
GETPSI1Z Q
"RTN","MAGJEX3",152,0)
 ;
"RTN","MAGJEX3",153,0)
GETPSID2(RET,CT,IMGIEN,PSIND,HIT) ; For input IMGIEN & PSIND, return PS data
"RTN","MAGJEX3",154,0)
 ; Results returned by indirection in array @RET, indexed by CT
"RTN","MAGJEX3",155,0)
 ; HIT= incremented for each image with a PS stored for input psind
"RTN","MAGJEX3",156,0)
 N X,TYP,IEN
"RTN","MAGJEX3",157,0)
 S CT=+$G(CT),HIT=0
"RTN","MAGJEX3",158,0)
 I '(PSIND]""&IMGIEN) G GETPSI2Z
"RTN","MAGJEX3",159,0)
 S IMGREF=$NA(^MAG(2005,IMGIEN)),IEN=0
"RTN","MAGJEX3",160,0)
 F  S IEN=$O(@IMGREF@(210,IEN)) Q:'IEN  S X=^(IEN,0),PSUID=$P(X,U),TYP=$P(X,U,2) I PSIND[TYP D
"RTN","MAGJEX3",161,0)
 . I 'HIT D
"RTN","MAGJEX3",162,0)
 . . S CT=CT+1,@RET@(CT)="*IMAGE"
"RTN","MAGJEX3",163,0)
 . . S CT=CT+1,@RET@(CT)=IMGIEN_U
"RTN","MAGJEX3",164,0)
 . S CT=CT+1,@RET@(CT)="*PS"
"RTN","MAGJEX3",165,0)
 . S CT=CT+1,@RET@(CT)=PSUID_U_$S(TYP="K":"KEY",TYP="I":"INTERP",1:TYP)
"RTN","MAGJEX3",166,0)
 . S HIT=HIT+1
"RTN","MAGJEX3",167,0)
 . D GETPSDAT(.RET,.CT,IMGIEN,PSUID)
"RTN","MAGJEX3",168,0)
 . S CT=CT+1,@RET@(CT)="*END_PS"
"RTN","MAGJEX3",169,0)
 I HIT S CT=CT+1,@RET@(CT)="*END_IMAGE"
"RTN","MAGJEX3",170,0)
GETPSI2Z Q
"RTN","MAGJEX3",171,0)
 ;
"RTN","MAGJEX3",172,0)
END ;
"RTN","MAGJLS2")
0^4^B76144098
"RTN","MAGJLS2",1,0)
MAGJLS2 ;WIRMFO/JHC Rad. Workstation RPC calls ; 29 Jul 2003  9:58 AM
"RTN","MAGJLS2",2,0)
 ;;3.0;IMAGING;**22,18**;Mar 07, 2006
"RTN","MAGJLS2",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS2",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJLS2",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJLS2",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJLS2",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJLS2",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJLS2",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJLS2",10,0)
 ;; |                                                               |
"RTN","MAGJLS2",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJLS2",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJLS2",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJLS2",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJLS2",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJLS2",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS2",17,0)
 ;;
"RTN","MAGJLS2",18,0)
 Q
"RTN","MAGJLS2",19,0)
 ;  ACTIVE -- list exams (Unread, Recent, &/or Pending) for input Imaging Type(s)
"RTN","MAGJLS2",20,0)
 ;       RPC Call: MAGJ RADACTIVEEXAMS
"RTN","MAGJLS2",21,0)
 ;  BKGND -- EP for Bkgnd Compile of UNREAD list
"RTN","MAGJLS2",22,0)
 ;  BKGND2 -- EP for Bkgnd Compile of RECENT list
"RTN","MAGJLS2",23,0)
 Q
"RTN","MAGJLS2",24,0)
BKGERR S ERRCOUNT=$G(ERRCOUNT)+1 H 3 I ERRCOUNT>2 K ZTQUEUED G ^XUSCLEAN ; prevent bkgnd loop
"RTN","MAGJLS2",25,0)
ERR1 I $G(LSTNAM)]"" L -^XTMP("MAGJ2","BKGND",LSTNAM,"COMPILE")
"RTN","MAGJLS2",26,0)
 L -^XTMP("MAGJ2","BKGND2","RUN")
"RTN","MAGJLS2",27,0)
ERR N ERR S ERR=$$EC^%ZOSV S ^TMP($J,"RET",0)="0^4~"_ERR
"RTN","MAGJLS2",28,0)
 S MAGGRY=$NA(^TMP($J,"RET"))
"RTN","MAGJLS2",29,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJLS2",30,0)
 Q:$Q 1  Q
"RTN","MAGJLS2",31,0)
ACTIVE(MAGGRY,DATA) ; EP--get Active (Unread/Recent/Pend) Exam Lists
"RTN","MAGJLS2",32,0)
 ; MAGGRY holds $NA ref to ^TMP where return msg is assembled
"RTN","MAGJLS2",33,0)
 ;   all refs to MAGGRY use SS indirection
"RTN","MAGJLS2",34,0)
 ; If not use bkgnd, compile in foregnd
"RTN","MAGJLS2",35,0)
 ;
"RTN","MAGJLS2",36,0)
 N BKGND,COMPFAIL,MAGLST,LSTPARAM,LSTREQ,LSTID,LSTNUM,LSTNAM,NEWLIST
"RTN","MAGJLS2",37,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJLS2"
"RTN","MAGJLS2",38,0)
 S X=$P(DATA,U) D PARAMS^MAGJLS2B(X)
"RTN","MAGJLS2",39,0)
 I 'LSTID S MAGGRY=$NA(^TMP($J,"RET")),@MAGGRY@(0)="0^4~Problem with Exams List Compile--"_DATA_"." Q
"RTN","MAGJLS2",40,0)
 I BKGND,LSTREQ="U" D BKREQU Q  ; UNREAD in bkgnd
"RTN","MAGJLS2",41,0)
 I BKGND,LSTREQ="R" D BKREQR Q  ; RECENT in bkgnd
"RTN","MAGJLS2",42,0)
 I BKGND,LSTREQ="A" D BKREQA(DATA) Q  ; ALL Active Exams
"RTN","MAGJLS2",43,0)
 D FOREGND  ; other list types, or bkgnd compile not enabled
"RTN","MAGJLS2",44,0)
ACTIVEZ Q
"RTN","MAGJLS2",45,0)
 ;
"RTN","MAGJLS2",46,0)
FOREGND ; compile in foregnd
"RTN","MAGJLS2",47,0)
 I LSTREQ="H" G HISTORY
"RTN","MAGJLS2",48,0)
 D BLDACTV^MAGJLS3(.MAGLST,LSTPARAM)
"RTN","MAGJLS2",49,0)
 D LSTOUT^MAGJLS2B(.MAGGRY,LSTID,MAGLST) K @MAGLST
"RTN","MAGJLS2",50,0)
 Q
"RTN","MAGJLS2",51,0)
 ;
"RTN","MAGJLS2",52,0)
HISTORY ; compile History list
"RTN","MAGJLS2",53,0)
 D BLDACTV^MAGJLS3(.MAGLST,LSTPARAM)
"RTN","MAGJLS2",54,0)
 D LSTOUT^MAGJLS2B(.MAGGRY,LSTID,MAGLST)
"RTN","MAGJLS2",55,0)
 ; copy data from above compile into History file
"RTN","MAGJLS2",56,0)
 N EXID,HISTIEN,IEN,REC1,REC2,CDAT,TMP,PC
"RTN","MAGJLS2",57,0)
 I +$G(@MAGLST@(0,1)) D
"RTN","MAGJLS2",58,0)
 . S IEN="" F  S IEN=$O(@MAGLST@(IEN)) Q:(IEN="")  S REC1=^(IEN,1),REC2=^(2) D
"RTN","MAGJLS2",59,0)
 . . I IEN=0 S ^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),IEN,1)=REC1,^(2)=REC2 Q  ; header string
"RTN","MAGJLS2",60,0)
 . . S HISTIEN=+$P(REC2,"|",3) Q:'HISTIEN  S EXID=$P(REC2,"|",2)
"RTN","MAGJLS2",61,0)
 . . S X=$G(^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),0,"ADD",HISTIEN))
"RTN","MAGJLS2",62,0)
 . . I X]"" D
"RTN","MAGJLS2",63,0)
 . . . I EXID'=$P(X,"|",2) Q
"RTN","MAGJLS2",64,0)
 . . . ; copy Client data into list column fields 12-15 in node 2
"RTN","MAGJLS2",65,0)
 . . . S CDAT=$P(REC2,"|",3),TMP=$P(REC2,"|")
"RTN","MAGJLS2",66,0)
 . . . F I=1:1:4 S PC=11+I,$P(TMP,U,PC)=$P(CDAT,U,I)
"RTN","MAGJLS2",67,0)
 . . . S TMP=TMP_U ; pad extra nil piece
"RTN","MAGJLS2",68,0)
 . . . S $P(REC2,"|")=TMP,$P(REC2,"|",3)=HISTIEN ; preserve IEN in PP3
"RTN","MAGJLS2",69,0)
 . . . S ^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),HISTIEN,1)=REC1,^(2)=REC2
"RTN","MAGJLS2",70,0)
 . . . K ^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),0,"ADD",HISTIEN) ; Kill input node
"RTN","MAGJLS2",71,0)
 K @MAGLST
"RTN","MAGJLS2",72,0)
 Q
"RTN","MAGJLS2",73,0)
 ;
"RTN","MAGJLS2",74,0)
BKREQU ; UNREAD exams from bkgnd
"RTN","MAGJLS2",75,0)
 L +^XTMP("MAGJ2","BKGND2","RUN"):0
"RTN","MAGJLS2",76,0)
 E  D BKOUT("UNREAD") Q  ; bkgnd process IS running
"RTN","MAGJLS2",77,0)
 ; NOT running, so start it!
"RTN","MAGJLS2",78,0)
 ; 2nd errtrap is to deal with locks if error occurs
"RTN","MAGJLS2",79,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR1^MAGJLS2"
"RTN","MAGJLS2",80,0)
 N ZTDESC,ZTDTH,ZTIO,ZTRTN
"RTN","MAGJLS2",81,0)
 S ZTRTN="BKGND^MAGJLS2",ZTDESC="IMAGING VistaRad UNREAD List Compile"
"RTN","MAGJLS2",82,0)
 S ZTDTH=$H,ZTIO="" D ^%ZTLOAD
"RTN","MAGJLS2",83,0)
 S X=$$CURLIST(LSTNAM),LSTAGE=$P(X,U,2),LSTNUM=+X
"RTN","MAGJLS2",84,0)
 I LSTAGE>(DELTA+300)  S BKGPROC=2 D  ; Foregnd compile if need fresh list
"RTN","MAGJLS2",85,0)
 . D LSTCOMP(.COMPFAIL) K BKGPROC S X=$$CURLIST(LSTNAM),LSTAGE=$P(X,U,2),LSTNUM=+X
"RTN","MAGJLS2",86,0)
 L -^XTMP("MAGJ2","BKGND2","RUN")
"RTN","MAGJLS2",87,0)
 I +$G(COMPFAIL) S MAGGRY=$NA(^TMP($J,"RET")),@MAGGRY@(0)="0^4~Unable to Compile Unread Exams list"
"RTN","MAGJLS2",88,0)
 E  D LSTOUT^MAGJLS2B(.MAGGRY,LSTID,$NA(^XTMP("MAGJ2",LSTNAM,LSTNUM)),LSTAGE)
"RTN","MAGJLS2",89,0)
 Q
"RTN","MAGJLS2",90,0)
 ;
"RTN","MAGJLS2",91,0)
BKREQR ; Recent Exams from bkgnd
"RTN","MAGJLS2",92,0)
 D BKOUT("RECENT")
"RTN","MAGJLS2",93,0)
 Q
"RTN","MAGJLS2",94,0)
 ;
"RTN","MAGJLS2",95,0)
BKOUT(LSTNM) ; output list from the bkgnd process
"RTN","MAGJLS2",96,0)
 S X=$$CURLIST(LSTNAM),LSTAGE=$P(X,U,2),LSTNUM=+X
"RTN","MAGJLS2",97,0)
 I 'LSTNUM S MAGGRY=$NA(^TMP($J,"RET")),@MAGGRY@(0)="0^4~Problem with "_LSTNM_" List Compile program (age="_LSTAGE_" for "_LSTNAM_")"_$S(LSTNAM["9992":"--May need to Schedule RECENT List Compile in TaskMan.",1:"")
"RTN","MAGJLS2",98,0)
 E  D LSTOUT^MAGJLS2B(.MAGGRY,LSTID,$NA(^XTMP("MAGJ2",LSTNAM,LSTNUM)),LSTAGE)
"RTN","MAGJLS2",99,0)
 Q
"RTN","MAGJLS2",100,0)
 ;
"RTN","MAGJLS2",101,0)
BKREQA(DATA) ; ALL Active from Bkgnd
"RTN","MAGJLS2",102,0)
 ; Copy compiles of Unread & Recent to a scratch global, & call lstout
"RTN","MAGJLS2",103,0)
 N ALLGO,CNT,GETLST,ICNT,REPLY
"RTN","MAGJLS2",104,0)
 S ALLGO=1,CNT=0
"RTN","MAGJLS2",105,0)
 F GETLST=9991,9992 D  I 'ALLGO S REPLY="Component List "_GETLST_ALLGO Q
"RTN","MAGJLS2",106,0)
 . D PARAMS^MAGJLS2B(GETLST) I 'LSTID S ALLGO=" not properly defined."  Q
"RTN","MAGJLS2",107,0)
 . S X=$$CURLIST(LSTNAM),LSTAGE=$P(X,U,2),LSTNUM=+X
"RTN","MAGJLS2",108,0)
 . I 'LSTNUM S ALLGO=" needs more time to compile." Q
"RTN","MAGJLS2",109,0)
 . F ICNT=1:1:$G(^XTMP("MAGJ2",LSTNAM,LSTNUM,0,1)) S X=^XTMP("MAGJ2",LSTNAM,LSTNUM,ICNT,1),Y=^(2),CNT=CNT+1,^TMP($J,"MAGJ",CNT,1)=X,^(2)=Y
"RTN","MAGJLS2",110,0)
 I ALLGO D
"RTN","MAGJLS2",111,0)
 . S ^TMP($J,"MAGJ",0,1)=CNT_U_"1~ALL Active Exams",^(2)=""
"RTN","MAGJLS2",112,0)
 . D PARAMS^MAGJLS2B($P(DATA,U))
"RTN","MAGJLS2",113,0)
 . D LSTOUT^MAGJLS2B(.MAGGRY,LSTID,$NA(^TMP($J,"MAGJ")))
"RTN","MAGJLS2",114,0)
 I 'ALLGO S MAGGRY=$NA(^TMP($J,"RET")),@MAGGRY@(0)="0^4~Problem with ALL Exams List Compile "_DATA_". "_REPLY
"RTN","MAGJLS2",115,0)
 Q
"RTN","MAGJLS2",116,0)
 ;
"RTN","MAGJLS2",117,0)
BKGND ; EP for background compile of UNREAD exams
"RTN","MAGJLS2",118,0)
 L +^XTMP("MAGJ2","BKGND2","RUN"):600 ; allow fgnd job to finish compile
"RTN","MAGJLS2",119,0)
 E  Q  ; I must already be running!
"RTN","MAGJLS2",120,0)
 N BKGLSTID S BKGLSTID=9991 G BKGNDA
"RTN","MAGJLS2",121,0)
 Q
"RTN","MAGJLS2",122,0)
BKGND2 ; EP--bkgnd compile RECENT
"RTN","MAGJLS2",123,0)
 N BKGLSTID S BKGLSTID=9992 G BKGNDA
"RTN","MAGJLS2",124,0)
 Q
"RTN","MAGJLS2",125,0)
BKGNDA S BKGPROC=1,U="^"
"RTN","MAGJLS2",126,0)
 N $ETRAP,$ESTACK S $ETRAP="D BKGERR^MAGJLS2"
"RTN","MAGJLS2",127,0)
 D MAGJOBNC^MAGJUTL3
"RTN","MAGJLS2",128,0)
 D PARAMS^MAGJLS2B(BKGLSTID)
"RTN","MAGJLS2",129,0)
BKLOOP ; Loop & compile "master" UNREAD List only
"RTN","MAGJLS2",130,0)
 S BKLOOP=$G(BKLOOP)+1
"RTN","MAGJLS2",131,0)
 I BKLOOP>1 D PARAMS^MAGJLS2B(9991)
"RTN","MAGJLS2",132,0)
 I 'LSTID D  G BKGNDZ
"RTN","MAGJLS2",133,0)
 . S X="0^4~Problem with BACKGROUND Compile of Exams List"
"RTN","MAGJLS2",134,0)
 . F I=1,2 K ^XTMP("MAGJ2",LSTNAM,I)
"RTN","MAGJLS2",135,0)
 . F I=1,2 S ^XTMP("MAGJ2",LSTNAM,I,0,1)=X,^(2)=""  ; get msg to WS user
"RTN","MAGJLS2",136,0)
 I 'BKGND G BKGNDZ  ; need this to cover for excessive time to compile
"RTN","MAGJLS2",137,0)
 S X=$$CURLIST(LSTNAM),LSTAGE=$P(X,U,2),LSTNUM=+X
"RTN","MAGJLS2",138,0)
 I LSTREQ="U",(LSTAGE<DELTA) D  I 'BKGND G BKGNDZ ;bkgnd compile off?
"RTN","MAGJLS2",139,0)
 . N ITEST,TEST,MORE
"RTN","MAGJLS2",140,0)
 . S TEST=(DELTA-LSTAGE)\5,MORE=(DELTA-LSTAGE)-(5*TEST)
"RTN","MAGJLS2",141,0)
 . ; while waiting, periodic chk for stop conditions
"RTN","MAGJLS2",142,0)
 . F ITEST=1:1:TEST H 5 D  Q:'BKGND
"RTN","MAGJLS2",143,0)
 .. S BKGND=+$P($G(^MAG(2006.69,1,0)),U,8) Q:'BKGND
"RTN","MAGJLS2",144,0)
 .. I $D(ZTQUEUED),$$S^%ZTLOAD S BKGND=0 ; Exit bkgnd via TaskMan Req
"RTN","MAGJLS2",145,0)
 . H MORE
"RTN","MAGJLS2",146,0)
 D LSTCOMP()
"RTN","MAGJLS2",147,0)
 I LSTREQ="R" D NEWINT
"RTN","MAGJLS2",148,0)
 I LSTREQ="U" D UPDR G BKLOOP  ;UNREAD loops; RECENT uses TaskMan
"RTN","MAGJLS2",149,0)
BKGNDZ I LSTREQ="U" L -^XTMP("MAGJ2","BKGND2","RUN")
"RTN","MAGJLS2",150,0)
 N ZTREQ S ZTREQ="@"  ;  clean up task entry
"RTN","MAGJLS2",151,0)
 K BKLOOP,DELTA
"RTN","MAGJLS2",152,0)
 Q  ; Exit bkgnd
"RTN","MAGJLS2",153,0)
 ;
"RTN","MAGJLS2",154,0)
UPDR ; Add Newly Interp exams to Recent
"RTN","MAGJLS2",155,0)
 D PARAMS^MAGJLS2B(9995)
"RTN","MAGJLS2",156,0)
 I 'LSTID G UPDRZ
"RTN","MAGJLS2",157,0)
 S X=$$CURLIST(LSTNAM),LSTAGE=$P(X,U,2),LSTNUM=+X
"RTN","MAGJLS2",158,0)
 D LSTCOMP()
"RTN","MAGJLS2",159,0)
UPDRZ Q  ;
"RTN","MAGJLS2",160,0)
 ;
"RTN","MAGJLS2",161,0)
NEWINT ; Exams newly Interp since Recent Compile started
"RTN","MAGJLS2",162,0)
 ; are added to Recent List (add to "RECENT" index)
"RTN","MAGJLS2",163,0)
 ; 1st, get list of all potential candidates:
"RTN","MAGJLS2",164,0)
 N INDX L +^XTMP("MAGJ2","RECENT"):15
"RTN","MAGJLS2",165,0)
 E  Q
"RTN","MAGJLS2",166,0)
 S INDX=+$G(^TMP($J,"NEWINT")) ; counter when Recent Compile started
"RTN","MAGJLS2",167,0)
 I INDX S INDX=INDX-1 F  S INDX=$O(^XTMP("MAGJ2","RECENT",INDX)) Q:'INDX  S X=^(INDX) I X S ^TMP($J,"NEWINT",0,INDX)=X
"RTN","MAGJLS2",168,0)
 K ^XTMP("MAGJ2","RECENT") S ^("RECENT",0)=0 ; init this index
"RTN","MAGJLS2",169,0)
 L -^XTMP("MAGJ2","RECENT")
"RTN","MAGJLS2",170,0)
 ;find those not included in Recent Compile, and add to index
"RTN","MAGJLS2",171,0)
 S INDX=""
"RTN","MAGJLS2",172,0)
 F  S INDX=$O(^TMP($J,"NEWINT",0,INDX)) Q:'INDX  S X=^(INDX) D
"RTN","MAGJLS2",173,0)
 . I $D(^TMP($J,"NEWINT",$P(X,U,1,3))) Q  ; already in the compile
"RTN","MAGJLS2",174,0)
 . L +^XTMP("MAGJ2","RECENT"):15
"RTN","MAGJLS2",175,0)
 . E  Q
"RTN","MAGJLS2",176,0)
 . S I=+$G(^XTMP("MAGJ2","RECENT",0))+1,$P(^(0),U)=I,^(I)=X ; add to indx
"RTN","MAGJLS2",177,0)
 . L -^XTMP("MAGJ2","RECENT")
"RTN","MAGJLS2",178,0)
 K ^TMP($J,"NEWINT")
"RTN","MAGJLS2",179,0)
 Q
"RTN","MAGJLS2",180,0)
 ;
"RTN","MAGJLS2",181,0)
LSTCOMP(COMPFAIL) ; Compile new list; subrtn used by Active and Bkgnd tags
"RTN","MAGJLS2",182,0)
 S COMPFAIL=0 ; Return T/F for "Executed a List Compile?"
"RTN","MAGJLS2",183,0)
 L +^XTMP("MAGJ2","BKGND",LSTNAM,"COMPILE"):60 ; shouldn't need any time
"RTN","MAGJLS2",184,0)
 E  S COMPFAIL=1 G LSTCOMZ
"RTN","MAGJLS2",185,0)
 S NEWLIST=$S(LSTNUM=1:2,1:1) ; toggle node to use for new compile
"RTN","MAGJLS2",186,0)
 N TS,COMTIM
"RTN","MAGJLS2",187,0)
 S TS="" F I=2,0 S %H=$H+I D YMD^%DTC S TS=TS_$S(TS="":"",1:U)_X
"RTN","MAGJLS2",188,0)
 S ^XTMP("MAGJ2",0)=TS_U_"VistaRad List Compile"
"RTN","MAGJLS2",189,0)
 S ^XTMP("MAGJ2",0,LSTNAM,NEWLIST)=$H
"RTN","MAGJLS2",190,0)
 D BLDACTV^MAGJLS3(.MAGGRY,LSTPARAM,$NA(^XTMP("MAGJ2",LSTNAM,NEWLIST)))
"RTN","MAGJLS2",191,0)
 S COMTIM=$$DELTA($P(^XTMP("MAGJ2",0,LSTNAM,NEWLIST),U))
"RTN","MAGJLS2",192,0)
 S ^XTMP("MAGJ2",LSTNAM,NEWLIST)=$H_U_$J_U_COMTIM
"RTN","MAGJLS2",193,0)
 S ^XTMP("MAGJ2","BKGND",LSTNAM,0)=NEWLIST_U_$H
"RTN","MAGJLS2",194,0)
 I $G(^XTMP("MAGJ2",0,"TIME")) D
"RTN","MAGJLS2",195,0)
 . S T1=$P($H,",",2)/3600,T2=$E(100+(T1\1),2,3),T=T2_":"_$E(100+(T1-T2*60),2,3)
"RTN","MAGJLS2",196,0)
 . S ^XTMP("MAGJ2",0,"TIME",LSTNAM,+$H,T)=COMTIM K T,T1,T2
"RTN","MAGJLS2",197,0)
LSTCOMZ L -^XTMP("MAGJ2","BKGND",LSTNAM,"COMPILE")
"RTN","MAGJLS2",198,0)
 Q  ;
"RTN","MAGJLS2",199,0)
 ;
"RTN","MAGJLS2",200,0)
CURLIST(LSTNAM,WAIT) ; return current list & its age in seconds
"RTN","MAGJLS2",201,0)
 ;
"RTN","MAGJLS2",202,0)
 S WAIT=+$G(WAIT)
"RTN","MAGJLS2",203,0)
 N X,RET,AGE,TRY,START,EXTRATIM
"RTN","MAGJLS2",204,0)
 S TRY=0,START=$H,EXTRATIM=$S(LSTREQ="U":600,1:1800)
"RTN","MAGJLS2",205,0)
 S X=$G(^XTMP("MAGJ2","BKGND",LSTNAM,0))  ; Cur # ^ $H created
"RTN","MAGJLS2",206,0)
 I X="" S RET="^86400" G CURLISZ  ; this lstnam not yet compiled!
"RTN","MAGJLS2",207,0)
 S AGE=$$DELTA($P(X,U,2)),RET=$P(X,U)_U_AGE
"RTN","MAGJLS2",208,0)
 I AGE>(DELTA+EXTRATIM) S $P(RET,U)=""  ; Something's wrong w/ compile; force error message
"RTN","MAGJLS2",209,0)
CURLISZ Q RET
"RTN","MAGJLS2",210,0)
 ;
"RTN","MAGJLS2",211,0)
DELTA(X,Y) ; calc # seconds between 2 $h values; default 2nd value = now
"RTN","MAGJLS2",212,0)
 ; useful limit is one day
"RTN","MAGJLS2",213,0)
 I $G(Y)="" S Y=$H
"RTN","MAGJLS2",214,0)
 I +Y=+X
"RTN","MAGJLS2",215,0)
 E  D
"RTN","MAGJLS2",216,0)
 . I Y-X=1 S $P(Y,",",2)=86400+$P(Y,",",2)  ; cross midnight boundary
"RTN","MAGJLS2",217,0)
 . E  S $P(X,",",2)=0,$P(Y,",",2)=86400  ; more than one day
"RTN","MAGJLS2",218,0)
 Q ($P(Y,",",2)-$P(X,",",2))
"RTN","MAGJLS2",219,0)
 ;
"RTN","MAGJLS2",220,0)
END ;
"RTN","MAGJLS2B")
0^5^B71035599
"RTN","MAGJLS2B",1,0)
MAGJLS2B ;WIRMFO/JHC VistARad RPC calls ; 29 Jul 2003  9:59 AM
"RTN","MAGJLS2B",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJLS2B",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS2B",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJLS2B",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJLS2B",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJLS2B",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJLS2B",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJLS2B",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJLS2B",10,0)
 ;; |                                                               |
"RTN","MAGJLS2B",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJLS2B",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJLS2B",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJLS2B",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJLS2B",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJLS2B",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS2B",17,0)
 ;;
"RTN","MAGJLS2B",18,0)
 Q
"RTN","MAGJLS2B",19,0)
 ;
"RTN","MAGJLS2B",20,0)
PARAMS(X) ; Init some vars used for Exam Lists
"RTN","MAGJLS2B",21,0)
 N LASTEDIT
"RTN","MAGJLS2B",22,0)
 S LSTID=+$O(^MAG(2006.631,"C",X,""))
"RTN","MAGJLS2B",23,0)
 I 'LSTID S LSTID="Invalid List ID" Q  ;
"RTN","MAGJLS2B",24,0)
 S X=^MAG(2006.631,LSTID,0)
"RTN","MAGJLS2B",25,0)
 I '$P(X,U,6) S LSTID="LIST NOT ENABLED" Q  ;
"RTN","MAGJLS2B",26,0)
 S LSTTL=$P(X,U),LSTREQ=$P(X,U,3),LSTPARAM=LSTREQ_U_$P(X,U,4),LASTEDIT=$P(X,U,5)
"RTN","MAGJLS2B",27,0)
 S LSTTL=$S(LSTREQ="U":"UNREAD",LSTREQ="R":"RECENT",LSTREQ="A":"ACTIVE",LSTREQ="P":"PENDING",LSTREQ="N":"NEWLY INTERP",LSTREQ="H":"HISTORY",1:"")_" EXAMS: "_LSTTL
"RTN","MAGJLS2B",28,0)
 I $P(LSTPARAM,U,2)="" S $P(LSTPARAM,U,2)="ALL" ; dflt All ImagingTypes
"RTN","MAGJLS2B",29,0)
 S X=$G(^MAG(2006.69,1,0)),BKGND=+$P(X,U,8),DELTA=+$P(X,U,$S(LSTREQ="U":9,1:13))*60
"RTN","MAGJLS2B",30,0)
 I BKGND,'DELTA S DELTA=360 ;dflt Unread List compile cycle time secs
"RTN","MAGJLS2B",31,0)
 S LSTNAM="LS"_LSTID
"RTN","MAGJLS2B",32,0)
 I BKGND S LSTNAM=$S(LSTREQ="U":"LS9991",LSTREQ="R":"LS9992",LSTREQ="N":"LS9995",LSTREQ="H":"LS9996",1:LSTNAM) ; hard-code for "Master" list Bkgnd compile
"RTN","MAGJLS2B",33,0)
 Q
"RTN","MAGJLS2B",34,0)
 ;
"RTN","MAGJLS2B",35,0)
SETVARS(LSTID) ;output control variables
"RTN","MAGJLS2B",36,0)
 D LSTVAR(LSTID),SRTVAR(LSTID),SELVAR(LSTID)
"RTN","MAGJLS2B",37,0)
 Q
"RTN","MAGJLS2B",38,0)
 ;
"RTN","MAGJLS2B",39,0)
LSTVAR(LSTID) ; build output columns string
"RTN","MAGJLS2B",40,0)
 S MDLVAR=^MAG(2006.631,LSTID,"DEF",1),LSTHDR=^(.5)
"RTN","MAGJLS2B",41,0)
 N I,XX,SC,XOUT,XOUT2
"RTN","MAGJLS2B",42,0)
 S SC=";",XOUT="",XOUT2=""
"RTN","MAGJLS2B",43,0)
 F I=1:1:$L(MDLVAR,U) S XX=$P(MDLVAR,U,I) D
"RTN","MAGJLS2B",44,0)
 . I +XX=12 I '$G(SNDREMOT) Q  ; exclude RC ind
"RTN","MAGJLS2B",45,0)
 . I +XX=23 I '$G(SHOWPLAC) Q  ; exclude PLACE
"RTN","MAGJLS2B",46,0)
 . S XOUT=XOUT_$S(XOUT="":"",1:U)_XX
"RTN","MAGJLS2B",47,0)
 . S XOUT2=XOUT2_$S(XOUT2="":"",1:U)_$P(LSTHDR,U,I)
"RTN","MAGJLS2B",48,0)
 S MDLVAR=XOUT,LSTHDR=XOUT2
"RTN","MAGJLS2B",49,0)
 Q
"RTN","MAGJLS2B",50,0)
SRTVAR(LSTID) ; build sort-vars string in SORTSS
"RTN","MAGJLS2B",51,0)
 ; indirection used to ref string at list output (see LSTOUT)
"RTN","MAGJLS2B",52,0)
 S MDSVAR=^MAG(2006.631,LSTID,"DEF",2)
"RTN","MAGJLS2B",53,0)
 N I,XX,XOUT,HAVEONE
"RTN","MAGJLS2B",54,0)
 S SORTSS="",XOUT="",HAVEONE=0
"RTN","MAGJLS2B",55,0)
 F I=1:1:$L(MDSVAR,U) S XX=$P(MDSVAR,U,I) D
"RTN","MAGJLS2B",56,0)
 . I +XX=12 Q:'$G(SNDREMOT)   ; exclude RC ind
"RTN","MAGJLS2B",57,0)
 . I +XX=23 I '$G(SHOWPLAC) Q  ; exclude PLACE
"RTN","MAGJLS2B",58,0)
 . I 'HAVEONE S HAVEONE=(+XX=1)  ; 1 = Case #
"RTN","MAGJLS2B",59,0)
 . S XOUT=XOUT_$S(XOUT="":"",1:U)_XX
"RTN","MAGJLS2B",60,0)
 . S XX=$S(XX?1N.N1"-":"-",1:"")_"MD("_+XX_")"
"RTN","MAGJLS2B",61,0)
 . S SORTSS=SORTSS_","_XX
"RTN","MAGJLS2B",62,0)
 I 'HAVEONE S SORTSS=SORTSS_",MD(1)",XOUT=XOUT_U_1  ; force unique entry each exam
"RTN","MAGJLS2B",63,0)
 I $E(SORTSS)="," S SORTSS=$E(SORTSS,2,999)
"RTN","MAGJLS2B",64,0)
 S MDSVAR=XOUT
"RTN","MAGJLS2B",65,0)
 Q
"RTN","MAGJLS2B",66,0)
 ;
"RTN","MAGJLS2B",67,0)
SELVAR(LSTID) ; build selection logic executes in DIS array
"RTN","MAGJLS2B",68,0)
 N CX,DC,DCX,DL,DLX,EXP,I,IDL,SELVAR,SELVAR2,SS
"RTN","MAGJLS2B",69,0)
 S SS=0 F  S SS=$O(^MAG(2006.631,LSTID,"DEF",3,SS)) Q:'SS  S DC(SS)=^(SS)
"RTN","MAGJLS2B",70,0)
 S SS=0 F I=1:1 S SS=$O(^MAG(2006.631,LSTID,"DEF",4,SS)) Q:'SS  S DL(I)=^(SS)
"RTN","MAGJLS2B",71,0)
 ;  DL(5)="^2^3'^" <DLX     CX=3'    DC(2)="1^>44" <DCX
"RTN","MAGJLS2B",72,0)
 K DIS,MDCVAR S DIS(0)=0
"RTN","MAGJLS2B",73,0)
 F IDL=1:1 S DLX=$G(DL(IDL)) Q:DLX=""  S DIS(0)=DIS(0)+1,DIS(DIS(0))="" D
"RTN","MAGJLS2B",74,0)
 . F I=2:1:$L(DLX,U)-1 S CX=$P(DLX,U,I) S DCX=DC(+CX) D
"RTN","MAGJLS2B",75,0)
 .. S EXP="(MD("_+DCX_")"_$P(DCX,U,2)_")"
"RTN","MAGJLS2B",76,0)
 .. S EXP="I "_$S(CX["'":"'",1:"")_EXP
"RTN","MAGJLS2B",77,0)
 .. S DIS(DIS(0))=DIS(DIS(0))_" "_EXP
"RTN","MAGJLS2B",78,0)
 .. S MDCVAR(+DCX)=""
"RTN","MAGJLS2B",79,0)
 Q
"RTN","MAGJLS2B",80,0)
 ;
"RTN","MAGJLS2B",81,0)
CHKLOCK(RARPT,DAYCASE) ; return ini of locking user & truth flag for locking user = logon user
"RTN","MAGJLS2B",82,0)
 N RESULT,WHO,MYLOCK,X,XX
"RTN","MAGJLS2B",83,0)
 S (MYLOCK,WHO)=""
"RTN","MAGJLS2B",84,0)
 I RARPT,(DAYCASE]"") D
"RTN","MAGJLS2B",85,0)
 . I $D(^XTMP("MAGJ","LOCK",RARPT)) D
"RTN","MAGJLS2B",86,0)
 . . D LOCKACT^MAGJEX1A(RARPT,DAYCASE,100,.RESULT)
"RTN","MAGJLS2B",87,0)
 . . I $D(RESULT)>1 D
"RTN","MAGJLS2B",88,0)
 . . . S X=RESULT(1),WHO=$P(X,U,5)
"RTN","MAGJLS2B",89,0)
 . . . I WHO]"" S MYLOCK=+X
"RTN","MAGJLS2B",90,0)
 . . . E  D
"RTN","MAGJLS2B",91,0)
 . . . . S X=RESULT(2),WHO=$P(X,U,5)
"RTN","MAGJLS2B",92,0)
 . . . . I WHO]"" S WHO=WHO_":R",MYLOCK=+X I MYLOCK S MYLOCK=2
"RTN","MAGJLS2B",93,0)
 S XX=WHO_U_MYLOCK
"RTN","MAGJLS2B",94,0)
 Q:$Q XX Q
"RTN","MAGJLS2B",95,0)
 ;
"RTN","MAGJLS2B",96,0)
SHOWPLAC(X) ; return list of places to show: all defined places NOT equal to user's logon place
"RTN","MAGJLS2B",97,0)
 N IEN,SHOWPLAC S SHOWPLAC=""
"RTN","MAGJLS2B",98,0)
 S IEN=0 F  S IEN=$O(^MAG(2006.1,IEN)) Q:'IEN  I IEN'=+MAGJOB("SITEP") S X=$P(^(IEN,0),U,9) I X]"" S SHOWPLAC=SHOWPLAC_","_X
"RTN","MAGJLS2B",99,0)
 I SHOWPLAC]"" S SHOWPLAC=1_U_SHOWPLAC_"," ; 1 for true
"RTN","MAGJLS2B",100,0)
 Q SHOWPLAC
"RTN","MAGJLS2B",101,0)
 ;
"RTN","MAGJLS2B",102,0)
LSTOUT(MAGGRY,LSTID,MAGLST,LSTAGE) ; Build output list, w/ sort & selection
"RTN","MAGJLS2B",103,0)
 ;  Input: LSTID=List def'n
"RTN","MAGJLS2B",104,0)
 ;         MAGLST=Indirect global ref for input records; all reads use subscript indirection
"RTN","MAGJLS2B",105,0)
 ;       the nodes in @MAGLST contain:
"RTN","MAGJLS2B",106,0)
 ;  
"RTN","MAGJLS2B",107,0)
 ;  Node 1 corresponds to IENs 1:17 from Data Elements dic:
"RTN","MAGJLS2B",108,0)
 ;     Acn# ^ Ex LOCK ^ PtName ^ Pt_ID ^ Priority ^ Proc ^ Img Date/Time ^ Status ^ # Images ^ Online?
"RTN","MAGJLS2B",109,0)
 ;     Img Loc'n ^ Remote Ind. ^ Images Exist? ^ Img Date/Time-sortable ^ Mdl ^ Status/Internal ^ ImgTypABB
"RTN","MAGJLS2B",110,0)
 ;  Node 2-- IEN's 18:28 from Data Elements dic:
"RTN","MAGJLS2B",111,0)
 ;     REQLOCAbb ^ REQLOCNm ^ Interp Rad'ists ^ Last4 SSN ^ Division ^ Site ^ Rist Is Me? ^  ProcMod ^ REQLOCTyp ^ CPT
"RTN","MAGJLS2B",112,0)
 ;     WARD
"RTN","MAGJLS2B",113,0)
 ;   Node 2 then appends 3 pipe-delim pieces that are passed through from list compiler (See svmag2a^magjls3)
"RTN","MAGJLS2B",114,0)
 ;
"RTN","MAGJLS2B",115,0)
 ; Output: MAGGRY=Indirect ref to output file
"RTN","MAGJLS2B",116,0)
 ; 
"RTN","MAGJLS2B",117,0)
 N DIS,MDCVAR,SNDREMOT,ILST,IMD,MAGRACNT
"RTN","MAGJLS2B",118,0)
 N RARPT,RAST,RADFN,RACNI,RADTI,T,WHOLOCK,XX,MYLOCK,DAYCASE,MODALITY
"RTN","MAGJLS2B",119,0)
 N OUT,QX,SORT,SORTSS,LSTHDR,MD,MDLVAR,MDSVAR,REMONLY,REMOTCAS,SHOWPLAC,SORTLEN
"RTN","MAGJLS2B",120,0)
 S LSTAGE=$G(LSTAGE)
"RTN","MAGJLS2B",121,0)
 S SHOWPLAC=$$SHOWPLAC("") ; Show any Place (Site Code) that is NOT the Login Place
"RTN","MAGJLS2B",122,0)
 S REMONLY=0
"RTN","MAGJLS2B",123,0)
 S XX=$G(^MAG(2006.69,1,0)),SNDREMOT=+$P(XX,U,11)
"RTN","MAGJLS2B",124,0)
 I $G(MAGJOB("REMOTE")) D  ; show remote cache only?
"RTN","MAGJLS2B",125,0)
 . I MAGJOB("P32") S REMONLY=+$P(XX,U,10)
"RTN","MAGJLS2B",126,0)
 . E  Q:(LSTREQ="H")  S REMONLY=+$G(MAGJOB("REMOTESCREEN"))  ; Hist list
"RTN","MAGJLS2B",127,0)
 D SETVARS(LSTID)
"RTN","MAGJLS2B",128,0)
 S MAGRACNT=0
"RTN","MAGJLS2B",129,0)
 S SORT="^TMP("_$J_",""MAGJSORT""",SORTLEN=$L(SORT) K ^TMP($J,"MAGJSORT")
"RTN","MAGJLS2B",130,0)
 K ^TMP($J,"RET") S ^TMP($J,"RET",0)="0^4~Getting Exam List"
"RTN","MAGJLS2B",131,0)
 S X=$G(@MAGLST@(0,1)) I +X<1 D  G LSTOUTZ  ; No exams to list!
"RTN","MAGJLS2B",132,0)
 . I X="" S ^TMP($J,"RET",0)="0^4~Problem with Exams List Compile"
"RTN","MAGJLS2B",133,0)
 . E  S ^TMP($J,"RET",0)=X
"RTN","MAGJLS2B",134,0)
 S ILST=0
"RTN","MAGJLS2B",135,0)
 F  S ILST=$O(@MAGLST@(ILST)) Q:'ILST  S XX=^(ILST,1),XX2=^(2) K MD D  ; contents described above
"RTN","MAGJLS2B",136,0)
 . S XX=XX_U_$P(XX2,"|"),$P(XX2,"|")=""
"RTN","MAGJLS2B",137,0)
 . ; Execute Selection logic
"RTN","MAGJLS2B",138,0)
 . S X=0 F  S X=$O(MDCVAR(X)) Q:'X  S MD(X)=$P(XX,U,X) ; load needed data
"RTN","MAGJLS2B",139,0)
 . I 1 F I=1:1:$G(DIS(0)) X DIS(I) I  Q  ; quit if search logic True
"RTN","MAGJLS2B",140,0)
 . E  Q  ; failed selection criteria--skip
"RTN","MAGJLS2B",141,0)
 . S RAST=$P(XX,U,16)
"RTN","MAGJLS2B",142,0)
 . S T=$P(XX2,"|",2),RADFN=$P(T,U),RADTI=$P(T,U,2),RACNI=$P(T,U,3),RARPT=$P(T,U,4)
"RTN","MAGJLS2B",143,0)
 . I LSTREQ="U",'$D(^RADPT("AS",RAST,RADFN,RADTI,RACNI)) Q  ; No longer Unread!
"RTN","MAGJLS2B",144,0)
 . I LSTREQ="U",$G(MAGJOB("CONSOLIDATED")) S RADIV=$P(XX,U,22) I RADIV]"",'$D(MAGJOB("DIVSCRN",RADIV)) Q  ; Screen Unread exams for DIVision
"RTN","MAGJLS2B",145,0)
 . S REMOTCAS=$P(XX,U,12)
"RTN","MAGJLS2B",146,0)
 . I REMONLY,'REMOTCAS Q  ; don't show if not routed
"RTN","MAGJLS2B",147,0)
 . I REMONLY,REMOTCAS D  I 'T Q  ; don't show if not the remote reading site
"RTN","MAGJLS2B",148,0)
 . . F I=1:1:$L(REMOTCAS,",")+1 S T=$P(REMOTCAS,",",I) I T,$D(MAGJOB("LOC",T)) Q
"RTN","MAGJLS2B",149,0)
 . ; set up sort values, creating sort index w/ indirect reference to sort global
"RTN","MAGJLS2B",150,0)
 . F I=1:1:$L(MDSVAR,U) S X=+$P(MDSVAR,U,I) S MD(X)=$P(XX,U,X) I MD(X)="" S MD(X)="~"
"RTN","MAGJLS2B",151,0)
 . I LSTREQ="H" S @(SORT_",ILST,"_SORTSS_")")=ILST_U_RARPT ; P18 adds ILST so History List can allow mult entries of same exam, in fifo order
"RTN","MAGJLS2B",152,0)
 . E  S @(SORT_","_SORTSS_")")=ILST_U_RARPT
"RTN","MAGJLS2B",153,0)
 . S MAGRACNT=MAGRACNT+1
"RTN","MAGJLS2B",154,0)
 I 'MAGRACNT S ^TMP($J,"RET",0)="0^2~No Exams Found"
"RTN","MAGJLS2B",155,0)
 E  D  ; generate output file
"RTN","MAGJLS2B",156,0)
 . S @(SORT_","_-9999999999_")")=0,QX=SORT_")" ; define $Query var.; init beginning w/ dummy entry
"RTN","MAGJLS2B",157,0)
 . ; proceed thru sort index until the string contained in SORT is not present
"RTN","MAGJLS2B",158,0)
 . ; get data w/ indirect refs to the stored data
"RTN","MAGJLS2B",159,0)
 . F ILST=0:1 S QX=$Q(@QX) Q:($E(QX,1,SORTLEN))'=SORT  S XX=@MAGLST@(+(@QX),1),XX2=^(2),OUT="" D
"RTN","MAGJLS2B",160,0)
 .. I 'ILST D  Q       ; Header string
"RTN","MAGJLS2B",161,0)
 ... S T="" I LSTAGE?1N.N S T=LSTAGE\60 S T=" (List age: "_$S(T:T_" min, ",1:"")_(LSTAGE#60)_" sec)"
"RTN","MAGJLS2B",162,0)
 ... I +$P(XX,U,2)=1 S $P(XX,"~",2)=LSTTL_T  ; List Title
"RTN","MAGJLS2B",163,0)
 ... S ^TMP($J,"RET",0)=XX
"RTN","MAGJLS2B",164,0)
 .. S XX=XX_U_$P(XX2,"|"),$P(XX2,"|")=""
"RTN","MAGJLS2B",165,0)
 .. S RARPT=$P(@QX,U,2),DAYCASE=$P(XX,U)
"RTN","MAGJLS2B",166,0)
 .. S T=$$CHKLOCK(RARPT,DAYCASE),WHOLOCK=$P(T,U),MYLOCK=$P(T,U,2)
"RTN","MAGJLS2B",167,0)
 .. S $P(XX,U,2)=WHOLOCK
"RTN","MAGJLS2B",168,0)
 .. S MODALITY=$P(XX,U,15)
"RTN","MAGJLS2B",169,0)
 .. F IMD=1:1:$L(MDLVAR,U) S X=$P(MDLVAR,U,IMD),MD=$P(XX,U,+X) D
"RTN","MAGJLS2B",170,0)
 ... I +X=12,(MD]""),SNDREMOT D
"RTN","MAGJLS2B",171,0)
 .... ; if site routes images, disp Remote Cache ind.
"RTN","MAGJLS2B",172,0)
 .... N I,T S T="" F I=1:1:$L(MD,",") S T=T_$S(T="":"",1:",")_$P($G(^MAG(2005.2,$P(MD,",",I),3)),U,5)
"RTN","MAGJLS2B",173,0)
 .... S MD=T
"RTN","MAGJLS2B",174,0)
 ... I +X=23,(MD]""),SHOWPLAC D
"RTN","MAGJLS2B",175,0)
 .... I SHOWPLAC'[(","_MD_",") S MD=""  ; Don't show user's local place
"RTN","MAGJLS2B",176,0)
 ... I +X=22,(MD]""),$G(MAGJOB("CONSOLIDATED")) D
"RTN","MAGJLS2B",177,0)
 .... I '$D(MAGJOB("DIVSCRN",MD)) S MD=""  ; Don't show user's local Div
"RTN","MAGJLS2B",178,0)
 ... I X[";" S T=+$P(X,";",2) I T S MD=$E(MD,1,T)  ; truncate output col
"RTN","MAGJLS2B",179,0)
 ... S $P(OUT,U,IMD)=MD
"RTN","MAGJLS2B",180,0)
 .. S $P(OUT,U,IMD+1)="",OUT=U_OUT,OUT=OUT_"|"_$P(XX2,"|",2,9)
"RTN","MAGJLS2B",181,0)
 .. I WHOLOCK]"" S T=$P(OUT,"|",4),$P(T,U,2)=WHOLOCK,$P(T,U,3)=MYLOCK,$P(OUT,"|",4)=T ; pass lock info to Client
"RTN","MAGJLS2B",182,0)
 .. ; * Note: Keep Pipe piece 4, above, in sync with svmag2a^magjls3 *
"RTN","MAGJLS2B",183,0)
 .. S ^TMP($J,"RET",ILST+1)=OUT
"RTN","MAGJLS2B",184,0)
 . S ^TMP($J,"RET",1)=U_LSTHDR
"RTN","MAGJLS2B",185,0)
 . S $P(^TMP($J,"RET",0),U)=MAGRACNT
"RTN","MAGJLS2B",186,0)
LSTOUTZ K MAGGRY,^TMP($J,"MAGJSORT") S MAGGRY=$NA(^TMP($J,"RET"))
"RTN","MAGJLS2B",187,0)
 Q
"RTN","MAGJLS2B",188,0)
 ;
"RTN","MAGJLS2B",189,0)
END Q  ;
"RTN","MAGJLS2B",190,0)
 ;
"RTN","MAGJLS3")
0^11^B75260253
"RTN","MAGJLS3",1,0)
MAGJLS3        ;WIRMFO/JHC Rad. Workstation RPC calls ; 29 Jul 2003  10:00 AM
"RTN","MAGJLS3",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJLS3",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS3",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJLS3",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJLS3",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJLS3",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJLS3",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJLS3",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJLS3",10,0)
 ;; |                                                               |
"RTN","MAGJLS3",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJLS3",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJLS3",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJLS3",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJLS3",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJLS3",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS3",17,0)
 ;;
"RTN","MAGJLS3",18,0)
 Q
"RTN","MAGJLS3",19,0)
 ; EPs:
"RTN","MAGJLS3",20,0)
 ; BLDACTV
"RTN","MAGJLS3",21,0)
 ;
"RTN","MAGJLS3",22,0)
BLDACTV(MAGGRY,DATA,MAGLST) ; get subset of Active Exams; called from MAGJLS2
"RTN","MAGJLS3",23,0)
 ;MAGGRY - Indirect Global ref of return array
"RTN","MAGJLS3",24,0)
 ;DATA: Listyp ^ Imaging Types
"RTN","MAGJLS3",25,0)
 ;Listyp = U  -- UNREAD Exams (Status Category=E)
"RTN","MAGJLS3",26,0)
 ;   = R  -- RECENT (Sts Cat's D & T)
"RTN","MAGJLS3",27,0)
 ;   = A  -- ALL Active (Cat's E, D, & T)
"RTN","MAGJLS3",28,0)
 ;   = P  -- PENDING (Cat W)
"RTN","MAGJLS3",29,0)
 ;   = N  -- Newly Interpreted Exams (No Cat.-Internal use only)
"RTN","MAGJLS3",30,0)
 ;ImgTypes = List of Imaging Types to process, or "ALL" for all
"RTN","MAGJLS3",31,0)
 ; MAGLST = $NA ref to return global; references to it use subscript indirection
"RTN","MAGJLS3",32,0)
 ; MAGLST optional: input to specify return global to use
"RTN","MAGJLS3",33,0)
 ; 
"RTN","MAGJLS3",34,0)
 ;* This subrtn can receive U/R/A/P/N (LSTREQ)-- ^_delim list of ImgTypes (IMTYPS)
"RTN","MAGJLS3",35,0)
 N RADFN,RADTI,RACNI,REMX
"RTN","MAGJLS3",36,0)
 N HDR,HDRLST,MAGIMGTY,MAGRACNT,MAGRET,LSTREQ,LISTYP,LISCAT,IMTYPS
"RTN","MAGJLS3",37,0)
 N REPLY,STAT,TYP,SORTMAG,DIQUIET,STATCHK,LASTDT,IMGSONLY,URGORD,REMONLY
"RTN","MAGJLS3",38,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJLS3",39,0)
 I $G(MAGLST)="" S MAGLST=$NA(^TMP($J,"MAGJACTIVE")) ; default loc'n if not passed in
"RTN","MAGJLS3",40,0)
 K ^TMP($J,"MAGRAEX"),@MAGLST
"RTN","MAGJLS3",41,0)
 S LSTREQ=$P(DATA,U),IMTYPS=$P(DATA,U,2,99)
"RTN","MAGJLS3",42,0)
 I LSTREQ="U"!(LSTREQ="R")!(LSTREQ="A")!(LSTREQ="P")!(LSTREQ="N")!(LSTREQ="H")
"RTN","MAGJLS3",43,0)
 E  S REPLY="0^4~Invalid Request (List Type="_LSTREQ_")" G BLDACTVZ
"RTN","MAGJLS3",44,0)
 S MAGRACNT=0
"RTN","MAGJLS3",45,0)
 S X=$G(^MAG(2006.69,1,0)),IMGSONLY=+$P(X,U,7),REMX=+$P(X,U,10) ; show only exams w/ images?
"RTN","MAGJLS3",46,0)
 S REMONLY=0
"RTN","MAGJLS3",47,0)
 I $G(MAGJOB("REMOTE")) D  ; ;show remote cache only?
"RTN","MAGJLS3",48,0)
 . I MAGJOB("P32") S REMONLY=REMX
"RTN","MAGJLS3",49,0)
 . E  Q:(LSTREQ="H")  S REMONLY=+$G(MAGJOB("REMOTESCREEN"))
"RTN","MAGJLS3",50,0)
 S X=$G(^MAG(2006.69,1,1)),URGORD=$P(X,U)
"RTN","MAGJLS3",51,0)
 S:URGORD="" URGORD="S,U,P,R" S URGORD=$TR(URGORD,",") ; "Priority" sort
"RTN","MAGJLS3",52,0)
 S HDR=$S(LSTREQ="U":"UNREAD",LSTREQ="R":"RECENT",LSTREQ="P":"PENDING",LSTREQ="A":"UNREAD and RECENT",LSTREQ="N":"NEWLY INTERP",LSTREQ="H":"HISTORY",1:"")_" Exams"_" for IMAGING TYPES: "
"RTN","MAGJLS3",53,0)
 S LISTYP=$S(LSTREQ="U":"E",LSTREQ="R":"D^T",LSTREQ="A":"E^D^T",LSTREQ="P":"W",LSTREQ="N":"",LSTREQ="H":"",1:"E")
"RTN","MAGJLS3",54,0)
 S REPLY="0^4~Compiling list of Radiology Exams (ACTIVE)."
"RTN","MAGJLS3",55,0)
 I $G(BKGPROC),(LSTREQ="R") K ^TMP($J,"NEWINT") S ^TMP($J,"NEWINT")=+$G(^XTMP("MAGJ2","RECENT",0))
"RTN","MAGJLS3",56,0)
 I LSTREQ="N" D BLDACT2 G BLDACTVZ
"RTN","MAGJLS3",57,0)
 I LSTREQ="H" D HISTBLD^MAGJLS3A G BLDACTVZ
"RTN","MAGJLS3",58,0)
 D BLDACT1
"RTN","MAGJLS3",59,0)
BLDACTVZ ;
"RTN","MAGJLS3",60,0)
 I 'MAGRACNT S:(REPLY["Compiling") REPLY="0^2~No Exams Found"
"RTN","MAGJLS3",61,0)
 E  D
"RTN","MAGJLS3",62,0)
 . I IMTYPS="ALL" S HDR=HDR_" ALL"
"RTN","MAGJLS3",63,0)
 . E  S Y="" F I=0:1 S Y=$O(HDRLST(Y)) Q:Y=""  S HDR=HDR_$S('I:"",1:", ")_Y
"RTN","MAGJLS3",64,0)
 . S REPLY=MAGRACNT_U_"1~"_HDR
"RTN","MAGJLS3",65,0)
 S @MAGLST@(0,1)=REPLY,^(2)=""
"RTN","MAGJLS3",66,0)
 K ^TMP($J,"MAGRAEX"),^("RAE1")
"RTN","MAGJLS3",67,0)
 S MAGGRY=MAGLST
"RTN","MAGJLS3",68,0)
 Q
"RTN","MAGJLS3",69,0)
BLDACT1 ; Compile exams by Status codes
"RTN","MAGJLS3",70,0)
 D BLDSTAT^MAGJLS3A
"RTN","MAGJLS3",71,0)
 F  S LISCAT=$P(LISTYP,U),LISTYP=$P(LISTYP,U,2,9) Q:LISCAT=""  D
"RTN","MAGJLS3",72,0)
 . I IMTYPS="ALL" S TYP="" D  Q
"RTN","MAGJLS3",73,0)
 .. F  S TYP=$O(STAT(LISCAT,TYP)) Q:TYP=""  D IMGTYP(LISCAT,TYP)
"RTN","MAGJLS3",74,0)
 . E  I +IMTYPS D IMGTYLST(LISCAT,IMTYPS) Q
"RTN","MAGJLS3",75,0)
 . E  S REPLY="0^4~Invalid Imaging Type"
"RTN","MAGJLS3",76,0)
 Q
"RTN","MAGJLS3",77,0)
BLDACT2 ; Add recently interpreted exams to the "Recent" compile data
"RTN","MAGJLS3",78,0)
 ; 1st, compile these into their own list
"RTN","MAGJLS3",79,0)
 N CNT,INDX,RAST,STATCHK,RECLIST,REC,X1,X2
"RTN","MAGJLS3",80,0)
 S X=$G(^XTMP("MAGJ2","RECENT",0)),INDX=+$P(X,U,2)
"RTN","MAGJLS3",81,0)
 F  S INDX=$O(^XTMP("MAGJ2","RECENT",INDX)) Q:'INDX  S X=^(INDX) D
"RTN","MAGJLS3",82,0)
 . S RADFN=$P(X,U),RADTI=$P(X,U,2),RACNI=$P(X,U,3),(RAST,STATCHK)=$P(X,U,4)
"RTN","MAGJLS3",83,0)
 . D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,0,.MAGRET)
"RTN","MAGJLS3",84,0)
 . I MAGRET D SVMAG2A()
"RTN","MAGJLS3",85,0)
 . S $P(^XTMP("MAGJ2","RECENT",0),U,2)=INDX
"RTN","MAGJLS3",86,0)
 ; copy the above records to the "RECENT" curlist
"RTN","MAGJLS3",87,0)
 S RECLIST=+$$CURLIST^MAGJLS2("LS9992")
"RTN","MAGJLS3",88,0)
 I 'RECLIST S RECLIST=+$G(^XTMP("MAGJ2","BKGND","LS9992",0))
"RTN","MAGJLS3",89,0)
 I 'RECLIST Q  ; Recent list not being compiled--skip it!
"RTN","MAGJLS3",90,0)
 F CNT=1:1:MAGRACNT S X1=@MAGLST@(CNT,1),X2=^(2) D  ; MAGLST described at BLDACTV
"RTN","MAGJLS3",91,0)
 . S REC=^XTMP("MAGJ2","LS9992",RECLIST,0,1)+1
"RTN","MAGJLS3",92,0)
 . S ^XTMP("MAGJ2","LS9992",RECLIST,REC,1)=X1,^(2)=X2
"RTN","MAGJLS3",93,0)
 . S $P(^XTMP("MAGJ2","LS9992",RECLIST,0,1),U)=REC
"RTN","MAGJLS3",94,0)
 Q
"RTN","MAGJLS3",95,0)
 ;
"RTN","MAGJLS3",96,0)
SVMAG2A(PIPE3) ;used by subroutine at tag BLDACTV
"RTN","MAGJLS3",97,0)
 ; load return array @MAGLST@(n, ...
"RTN","MAGJLS3",98,0)
 ; Note: ^TMP("MAGRAEX" is set by the subroutine Getexam2^Magjutl1
"RTN","MAGJLS3",99,0)
 ; PIPE3 optional; contains data that is passed through the system; e.g.
"RTN","MAGJLS3",100,0)
 ;   the HISTORY List receives data from the client which is augmented
"RTN","MAGJLS3",101,0)
 ;   and passed back to the client
"RTN","MAGJLS3",102,0)
 ;Set outside this subrtn:STATCHK,RAST,LSTREQ,REMONLY,BKGPROC,MAGRACNT,MAGLST
"RTN","MAGJLS3",103,0)
 ;
"RTN","MAGJLS3",104,0)
 N MAGDT,SORTDT,IMGCNT,ONL,XX,XX2,Y,RARPT,KEY,RASTCAT,Y2
"RTN","MAGJLS3",105,0)
 N REMOTE,MODALITY,DAYCASE,EXCAT,ORD,URG,URG1,PREOP,LASTSSN,CURPRIO,STATUS
"RTN","MAGJLS3",106,0)
 N REMOTE2,LRFLAG
"RTN","MAGJLS3",107,0)
 S PIPE3=$G(PIPE3,"")
"RTN","MAGJLS3",108,0)
 S URG="",PREOP=""   ; <*> Need below until RAO7PC1A returns URG
"RTN","MAGJLS3",109,0)
 S X=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))
"RTN","MAGJLS3",110,0)
 S ORD=$P(X,U,11)
"RTN","MAGJLS3",111,0)
 I ORD S Y=$G(^RAO(75.1,ORD,0)),URG=$P(Y,U,6),PREOP=$P(Y,U,12)
"RTN","MAGJLS3",112,0)
 S XX=$G(^TMP($J,"MAGRAEX",1,1)),XX2=$G(^(2))
"RTN","MAGJLS3",113,0)
 I $G(STATCHK),(STATCHK=$P(XX,U,11))
"RTN","MAGJLS3",114,0)
 E  I LSTREQ="H" S RAST=$P(XX,U,11)
"RTN","MAGJLS3",115,0)
 E  Q       ;  index '= stored status
"RTN","MAGJLS3",116,0)
 S RARPT=$P(XX,U,10)
"RTN","MAGJLS3",117,0)
 D IMGINFO^MAGJUTL2(RARPT,.Y)
"RTN","MAGJLS3",118,0)
 S IMGCNT=$P(Y,U),ONL=$P(Y,U,2),MAGDT=$P(Y,U,3),REMOTE=$P(Y,U,4),MODALITY=$P(Y,U,5),PLACE=$P(Y,U,6),KEY=$P(Y,U,7)
"RTN","MAGJLS3",119,0)
 S REMOTE2=REMOTE
"RTN","MAGJLS3",120,0)
 I IMGSONLY,'IMGCNT Q  ;only list exams w/ imgs
"RTN","MAGJLS3",121,0)
 I REMONLY,'REMOTE,'$G(BKGPROC) Q  ; only list remote exams
"RTN","MAGJLS3",122,0)
 S:PLACE PLACE=$P($G(^MAG(2006.1,PLACE,0)),U,9)
"RTN","MAGJLS3",123,0)
 I MAGDT="" S MAGDT=$P(XX,U,7)
"RTN","MAGJLS3",124,0)
 S SORTDT=MAGDT
"RTN","MAGJLS3",125,0)
 S MAGDT=$$FMTE^XLFDT(MAGDT,"5Z")
"RTN","MAGJLS3",126,0)
   ; XX 1 RADFN   RADTI    RACNI   RANME    RASSN  <-- from GETEXAM
"RTN","MAGJLS3",127,0)
   ;    6 RADATE  RADTE    RACN    RAPRC     RARPT
"RTN","MAGJLS3",128,0)
   ;   11 RAST    DAYCASE  RAELOC   RASTP     RASTORD
"RTN","MAGJLS3",129,0)
   ;   16 RADTPRT RACPT    IMTYPABB
"RTN","MAGJLS3",130,0)
   ;XX2 1 REQLOCABB  REQLOCNM  RdRIST  COMPLIC  RAD_DIV
"RTN","MAGJLS3",131,0)
   ;    6 SITE_CODE  RISTISME  PROCMOD  REQLOCT REQWARD
"RTN","MAGJLS3",132,0)
 S:'URG URG=9  ;  request urgency default to Routine
"RTN","MAGJLS3",133,0)
 I URG=9,(PREOP]"") S URG=8  ; dummy val for Pre-Op
"RTN","MAGJLS3",134,0)
 S URG1=$S(URG=1:"Stat",URG=2:"Urg",URG=8:"PreOp",1:"Rout"),X=$E(URG1),URG1=$F(URGORD,X)-1_"-"_URG1
"RTN","MAGJLS3",135,0)
 I PREOP]"",(URG'=8) S URG1=URG1_"/Pre" ; show PreOp & another priority
"RTN","MAGJLS3",136,0)
 S SORTMAG=$S(+IMGCNT:"A",1:"B") ; sort index: has/not images
"RTN","MAGJLS3",137,0)
 S DAYCASE=$P(XX,U,12),RASTORD=$P(XX,U,15),STATUS=$P(XX,U,11),RASTCAT=$P(XX2,U,11),LRFLAG=$P(XX2,U,12)
"RTN","MAGJLS3",138,0)
 S EXCAT="",CURPRIO=0
"RTN","MAGJLS3",139,0)
 I STATUS]"" D
"RTN","MAGJLS3",140,0)
 . S EXCAT=RASTCAT
"RTN","MAGJLS3",141,0)
 . I RASTORD<2!(EXCAT="W")!('IMGCNT) S CURPRIO=0 ; Cancelled/Waiting/No images: Ignore exam
"RTN","MAGJLS3",142,0)
 . E  I EXCAT="E" S CURPRIO=1  ; Examined="Current" exam
"RTN","MAGJLS3",143,0)
 . E  S CURPRIO=2  ; must be a "prior" exam
"RTN","MAGJLS3",144,0)
 . I CURPRIO,'(ONL="Y") S CURPRIO=3 ; images on jukebox
"RTN","MAGJLS3",145,0)
 . I MAGJOB("P32"),'(EXCAT="E") S EXCAT="" Q  ; P32 compat.
"RTN","MAGJLS3",146,0)
 . I RASTORD=9 S EXCAT="C" ; Complete
"RTN","MAGJLS3",147,0)
 . E  I EXCAT="D"!(EXCAT="T") S EXCAT="I" ; just display one value meaning Interpreted
"RTN","MAGJLS3",148,0)
 S LASTSSN=$P($P(XX,U,5),"-",3)
"RTN","MAGJLS3",149,0)
 ; build output string in Y & Y2
"RTN","MAGJLS3",150,0)
 S Y=DAYCASE_U_U_$E($P(XX,U,4),1,30)_U_$E($P(XX,U,4))_LASTSSN
"RTN","MAGJLS3",151,0)
 S Y=Y_U_URG1_U_$E($P(XX,U,9),1,30)_U_MAGDT_U_$E($P(XX,U,14),1,10)_U_IMGCNT
"RTN","MAGJLS3",152,0)
 S Y=Y_U_ONL_U_$E($P(XX,U,13),1,15)_U_REMOTE
"RTN","MAGJLS3",153,0)
 S Y=Y_U_SORTMAG_U_SORTDT_U_MODALITY_U_RAST_U_$$RAIMTYP(RAST)
"RTN","MAGJLS3",154,0)
 S X=$P(XX2,U,7),RISTISME=$S(X:"Y",1:"N")
"RTN","MAGJLS3",155,0)
 S Y2=$P(XX2,U,1,3)_U_LASTSSN_U_$P(XX2,U,5)_U_PLACE_U_RISTISME_U_$P(XX2,U,8,9)_U_$P(XX,U,17)_U_$P(XX2,U,10)
"RTN","MAGJLS3",156,0)
 S Y2=Y2_U_"|"_$P(XX,U,1,3)_U_RARPT
"RTN","MAGJLS3",157,0)
 S Y2=Y2_"|"_PIPE3_"|"_EXCAT_"^^^"_MODALITY_U_$P(XX,U,17)_U_CURPRIO_U_RARPT_U_KEY_U_REMOTE2_U_LRFLAG
"RTN","MAGJLS3",158,0)
 ; * Note: Keep Pipe piece 4, above, in sync with lstout^magjls2b & magjlst1 *
"RTN","MAGJLS3",159,0)
 S MAGRACNT=MAGRACNT+1
"RTN","MAGJLS3",160,0)
 S @MAGLST@(MAGRACNT,1)=Y,^(2)=Y2  ; save output for one exam
"RTN","MAGJLS3",161,0)
 I $G(BKGPROC),(LSTREQ="R") S ^TMP($J,"NEWINT",$P(XX,U,1,3))=""
"RTN","MAGJLS3",162,0)
 Q
"RTN","MAGJLS3",163,0)
 ;
"RTN","MAGJLS3",164,0)
RAIMTYP(RAST)   ; return Imaging Type Abbrev for Status Code
"RTN","MAGJLS3",165,0)
 N X S X="" I RAST]"" D
"RTN","MAGJLS3",166,0)
 . S X=$G(RAIMTYP(RAST)) Q:X]""
"RTN","MAGJLS3",167,0)
 . S X=$P($G(^RA(72,RAST,0)),U,7)
"RTN","MAGJLS3",168,0)
 . I X S X=$P($G(^RA(79.2,X,0)),U,3)_"~"_X  ; abb~ien
"RTN","MAGJLS3",169,0)
 . S RAIMTYP(RAST)=X   ; save for future use
"RTN","MAGJLS3",170,0)
 Q X
"RTN","MAGJLS3",171,0)
 ;
"RTN","MAGJLS3",172,0)
IMGTYLST(LISCAT,LST)       ; get exams for list of image types for input LISCAT
"RTN","MAGJLS3",173,0)
 N TYP
"RTN","MAGJLS3",174,0)
 F  Q:'(LST?1.N.E)  S TYP=+$P(LST,U),LST=$P(LST,U,2,99) D:TYP IMGTYP(LISCAT,TYP)
"RTN","MAGJLS3",175,0)
 Q
"RTN","MAGJLS3",176,0)
 ;
"RTN","MAGJLS3",177,0)
IMGTYP(LISCAT,IMGTY)       ; process statuses for one Image Type for LISCAT
"RTN","MAGJLS3",178,0)
 I '$D(^RA(79.2,IMGTY,0)) S REPLY="0^4~Invalid Imaging Type" Q
"RTN","MAGJLS3",179,0)
 N LST
"RTN","MAGJLS3",180,0)
 I $D(STAT)<10 D BLDSTAT^MAGJLS3A
"RTN","MAGJLS3",181,0)
 S (STAT,LST)=""
"RTN","MAGJLS3",182,0)
 S LASTDT=$P(STAT(LISCAT),U)
"RTN","MAGJLS3",183,0)
 F  S STAT=$O(STAT(LISCAT,IMGTY,STAT)) Q:STAT=""  S LST=LST_$S(LST="":"",1:U)_STAT,HDRLST(STAT(LISCAT,IMGTY))=""
"RTN","MAGJLS3",184,0)
 I LST]"" D STATLST(LST)
"RTN","MAGJLS3",185,0)
 Q
"RTN","MAGJLS3",186,0)
 ;
"RTN","MAGJLS3",187,0)
STATLST(LST)       ; get exams for a list of status codes
"RTN","MAGJLS3",188,0)
 F  Q:'(LST?1.N.E)  S STAT=+$P(LST,U),LST=$P(LST,U,2,99) D:STAT STAT(STAT)
"RTN","MAGJLS3",189,0)
 Q
"RTN","MAGJLS3",190,0)
 ;
"RTN","MAGJLS3",191,0)
STAT(RAST)           ; get exams for one status code
"RTN","MAGJLS3",192,0)
 ; uses File #70) "AS" index of active exams
"RTN","MAGJLS3",193,0)
 ;
"RTN","MAGJLS3",194,0)
 N RASTP
"RTN","MAGJLS3",195,0)
 I $D(^RA(72,RAST)) S RASTP=$P(^(RAST,0),U)
"RTN","MAGJLS3",196,0)
 E  S REPLY="0^4~Invalid Exam Status" Q
"RTN","MAGJLS3",197,0)
 I '$D(^RADPT("AS",RAST)) S REPLY="0^2~No exams on file with Exam Status "_RASTP Q
"RTN","MAGJLS3",198,0)
 S RADFN=0,STATCHK=RAST
"RTN","MAGJLS3",199,0)
 F  S RADFN=$O(^RADPT("AS",RAST,RADFN)) Q:RADFN'>0  S RADTI=0 D
"RTN","MAGJLS3",200,0)
 . F  S RADTI=$O(^RADPT("AS",RAST,RADFN,RADTI)) Q:RADTI'>0!(RADTI>LASTDT)  S RACNI=0 D
"RTN","MAGJLS3",201,0)
 .. F  S RACNI=$O(^RADPT("AS",RAST,RADFN,RADTI,RACNI)) Q:RACNI'>0  D
"RTN","MAGJLS3",202,0)
 ... D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,0,.MAGRET)
"RTN","MAGJLS3",203,0)
 ... Q:'MAGRET  ; no exam returned
"RTN","MAGJLS3",204,0)
 ... D SVMAG2A()
"RTN","MAGJLS3",205,0)
 Q
"RTN","MAGJLS3",206,0)
 ;
"RTN","MAGJLS3",207,0)
END Q  ; 
"RTN","MAGJLS3A")
0^32^B7111342
"RTN","MAGJLS3A",1,0)
MAGJLS3A        ;WIRMFO/JHC VRAD Exam lists ; 29 Apr 2005  10:00 AM
"RTN","MAGJLS3A",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJLS3A",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS3A",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJLS3A",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJLS3A",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJLS3A",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJLS3A",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJLS3A",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJLS3A",10,0)
 ;; |                                                               |
"RTN","MAGJLS3A",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJLS3A",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJLS3A",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJLS3A",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJLS3A",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJLS3A",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS3A",17,0)
 ;;
"RTN","MAGJLS3A",18,0)
 Q
"RTN","MAGJLS3A",19,0)
 ; EPs:
"RTN","MAGJLS3A",20,0)
 ; BLDSTAT--Subrtn for exams list compile
"RTN","MAGJLS3A",21,0)
 ; HISTBLD -- HISTORY List exams
"RTN","MAGJLS3A",22,0)
 ;
"RTN","MAGJLS3A",23,0)
BLDSTAT ; build list of Exam Status codes: STAT(CATEGORY,IMAG_TYP,STAT)=STATNM
"RTN","MAGJLS3A",24,0)
 ; called from magjls3
"RTN","MAGJLS3A",25,0)
 N X,CAT,TYP,STNM K STAT S CAT="",STAT=0
"RTN","MAGJLS3A",26,0)
 F  S CAT=$O(^RA(72,"AVC",CAT)) Q:CAT=""  D
"RTN","MAGJLS3A",27,0)
 . S X=$S(CAT="E":3,1:2),X=$P($G(^MAG(2006.69,1,0)),U,X)
"RTN","MAGJLS3A",28,0)
 . S:'X X=$S(CAT="E":30,1:6) S X=$H-X+1,X=$$HTFM^XLFDT(X),X=9999999.9999-X
"RTN","MAGJLS3A",29,0)
 . S STAT(CAT)=X
"RTN","MAGJLS3A",30,0)
 . F  S STAT=$O(^RA(72,"AVC",CAT,STAT)) Q:'STAT  D
"RTN","MAGJLS3A",31,0)
 .. S TYP=$P($G(^RA(72,STAT,0)),U,7),STNM=$P(^(0),U) S:TYP="" TYP="~"
"RTN","MAGJLS3A",32,0)
 .. S STAT(CAT,TYP)=$P($G(^RA(79.2,TYP,0)),U,3),STAT(CAT,TYP,STAT)=STNM
"RTN","MAGJLS3A",33,0)
 Q
"RTN","MAGJLS3A",34,0)
 ;
"RTN","MAGJLS3A",35,0)
HISTBLD ;Compile HISTORY List
"RTN","MAGJLS3A",36,0)
 ; Adds records to History List file; initiated by RPC call MAGJ HISTORYLIST/txid=1
"RTN","MAGJLS3A",37,0)
 ; called from magjls3
"RTN","MAGJLS3A",38,0)
 N CNT,INDX,RAST,STATCHK,RECLIST,EXID,PIPE3
"RTN","MAGJLS3A",39,0)
 S X=$G(^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),0)),INDX=+$P(X,U,2)   ;  High_IEN ^ Last_Proc_IEN
"RTN","MAGJLS3A",40,0)
 F  S INDX=$O(^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),0,"ADD",INDX)) Q:'INDX  S X=^(INDX) D
"RTN","MAGJLS3A",41,0)
 . S EXID=$P(X,"|",2),PIPE3=$P(X,"|",3)
"RTN","MAGJLS3A",42,0)
 . S RADFN=$P(EXID,U),RADTI=$P(EXID,U,2),RACNI=$P(EXID,U,3),(RAST,STATCHK)=""
"RTN","MAGJLS3A",43,0)
 . D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,0,.MAGRET)
"RTN","MAGJLS3A",44,0)
 . I MAGRET D SVMAG2A^MAGJLS3(PIPE3)
"RTN","MAGJLS3A",45,0)
 . S $P(^XTMP("MAGJ2","HISTORY",DUZ,DUZ(2),0),U,2)=INDX
"RTN","MAGJLS3A",46,0)
 Q
"RTN","MAGJLS3A",47,0)
 ;
"RTN","MAGJLS3A",48,0)
END Q  ; 
"RTN","MAGJLS4")
0^27^B50218647
"RTN","MAGJLS4",1,0)
MAGJLS4 ;WIRMFO/JHC VistARad RPCs--History List ; 29 Jul 2003  10:00 AM
"RTN","MAGJLS4",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJLS4",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS4",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJLS4",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJLS4",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJLS4",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJLS4",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJLS4",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJLS4",10,0)
 ;; |                                                               |
"RTN","MAGJLS4",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJLS4",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJLS4",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJLS4",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJLS4",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJLS4",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLS4",17,0)
 ;;
"RTN","MAGJLS4",18,0)
 Q
"RTN","MAGJLS4",19,0)
ERR N ERR S ERR=$$EC^%ZOSV S ^TMP($J,"RET",0)="0^4~"_ERR
"RTN","MAGJLS4",20,0)
 S MAGGRY=$NA(^TMP($J,"RET"))
"RTN","MAGJLS4",21,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJLS4",22,0)
 Q:$Q 1  Q
"RTN","MAGJLS4",23,0)
 ;
"RTN","MAGJLS4",24,0)
 ; Subroutines for Vistarad History List functions
"RTN","MAGJLS4",25,0)
 ; Entry Points:
"RTN","MAGJLS4",26,0)
 ;   HIST -- All History List rpcs go here
"RTN","MAGJLS4",27,0)
 ;
"RTN","MAGJLS4",28,0)
HIST(MAGGRY,PARAMS,DATA) ; History List RPC: MAGJ HISTORYLIST
"RTN","MAGJLS4",29,0)
 ; PARAMS--TXID ^ TXDUZ ^ TXDIV
"RTN","MAGJLS4",30,0)
 ; TXID: Required; designates action to take; see below
"RTN","MAGJLS4",31,0)
 ; TXDUZ: Optional; if supplied, get data for another user (Read Only)
"RTN","MAGJLS4",32,0)
 ; TXDIV: Optional; if supplied, get data for another division (Read Only)
"RTN","MAGJLS4",33,0)
 ;   Note: for now, TXDIV is forced to the Logon Division
"RTN","MAGJLS4",34,0)
 ; DATA--(optional) array of input data; depends on TXID; see subroutines by TXID
"RTN","MAGJLS4",35,0)
 ;
"RTN","MAGJLS4",36,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJLS4"
"RTN","MAGJLS4",37,0)
 N TXID,TXDUZ,TXDIV,UPDATEOK,DIQUIET,REPLY
"RTN","MAGJLS4",38,0)
 K ^TMP($J,"RET")
"RTN","MAGJLS4",39,0)
 S TXID=+PARAMS,TXDUZ=+$P(PARAMS,U,2),TXDIV=+$P(PARAMS,U,3)
"RTN","MAGJLS4",40,0)
 I 'TXDUZ S TXDUZ=DUZ
"RTN","MAGJLS4",41,0)
 S UPDATEOK=TXDUZ=DUZ
"RTN","MAGJLS4",42,0)
 S TXDIV=DUZ(2) ; Force to Logon Division for now
"RTN","MAGJLS4",43,0)
 S REPLY="0^1~Performing History List operation."
"RTN","MAGJLS4",44,0)
 I 'TXID!'("1,2,3"[TXID) S REPLY="0^4~Invalid History List operation requested." G HISTZ
"RTN","MAGJLS4",45,0)
 I '$D(DATA)&(TXID=1!TXID=3) S REPLY="0^4~No data supplied for History List update/delete." G HISTZ
"RTN","MAGJLS4",46,0)
 I 'UPDATEOK&("1,3"[TXID) S REPLY="0^4~The current History List may not be updated by the current user." G HISTZ
"RTN","MAGJLS4",47,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJLS4",48,0)
 I TXID=1 D HISTADD(.DATA,TXDUZ,TXDIV) G HISTZ
"RTN","MAGJLS4",49,0)
 I TXID=2 D HISTUPD(TXDUZ,TXDIV) D HISTGET(TXDUZ,TXDIV) G HISTZ
"RTN","MAGJLS4",50,0)
 I TXID=3 D HISTDEL(.DATA,TXDUZ,TXDIV) G HISTZ
"RTN","MAGJLS4",51,0)
 ; I TXID=4 D HISTUPD(TXDUZ,TXDIV) G HISTZ ; for now, do this function with txid 2
"RTN","MAGJLS4",52,0)
HISTZ ;
"RTN","MAGJLS4",53,0)
 I 'REPLY S MAGGRY=$NA(^TMP($J,"RET")),@MAGGRY@(0)=REPLY
"RTN","MAGJLS4",54,0)
 E  ; maggry otherwise has been set by called subroutine
"RTN","MAGJLS4",55,0)
 Q
"RTN","MAGJLS4",56,0)
 ;
"RTN","MAGJLS4",57,0)
HISTADD(DATA,TXDUZ,TXDIV) ; add records
"RTN","MAGJLS4",58,0)
 N IDATA,ILOOP,CT,NOGO,EXID,HISDAT,HISTIEN,MAGRACNT
"RTN","MAGJLS4",59,0)
 S IDATA="",CT=0,NOGO=0
"RTN","MAGJLS4",60,0)
 F ILOOP=0:1 S IDATA=$O(DATA(IDATA)) Q:IDATA=""  D
"RTN","MAGJLS4",61,0)
 . S EXID=$P(DATA(IDATA),"|"),HISDAT=$P(DATA(IDATA),"|",2)
"RTN","MAGJLS4",62,0)
 . F I=1:1:4 I '+$P(EXID,U,I) S NOGO=1 Q
"RTN","MAGJLS4",63,0)
 . I NOGO Q
"RTN","MAGJLS4",64,0)
 . L +^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV):2
"RTN","MAGJLS4",65,0)
 . E  Q
"RTN","MAGJLS4",66,0)
 . S X=$G(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,0)),HISTIEN=+$P(X,U)+1,$P(^(0),U)=HISTIEN
"RTN","MAGJLS4",67,0)
 . L -^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV)
"RTN","MAGJLS4",68,0)
 . S ^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,0,"ADD",HISTIEN)="|"_EXID_"|"_HISTIEN_U_HISDAT_"|"
"RTN","MAGJLS4",69,0)
 . S CT=CT+1
"RTN","MAGJLS4",70,0)
 I 'CT S REPLY="0^3~"_$S(ILOOP:"Unable to add records",1:"No records to add")_" to History List." Q
"RTN","MAGJLS4",71,0)
 S MAGRACNT=0 D ACTIVE^MAGJLS2(.MAGGRY,9996)
"RTN","MAGJLS4",72,0)
 S X=@MAGGRY@(0),X=+X_U_"1~"_$$HISTTL(TXDUZ,TXDIV),@MAGGRY@(0)=X
"RTN","MAGJLS4",73,0)
 N TS S TS="" F I=2,0 S %H=$H+I D YMD^%DTC S TS=TS_$S(TS="":"",1:U)_X
"RTN","MAGJLS4",74,0)
 S ^XTMP("MAGJ2",0)=TS_U_"VistaRad List Compile"
"RTN","MAGJLS4",75,0)
 S REPLY=1
"RTN","MAGJLS4",76,0)
 Q
"RTN","MAGJLS4",77,0)
 ;
"RTN","MAGJLS4",78,0)
HISTTL(TXDUZ,TXDIV) ;  Build list title string
"RTN","MAGJLS4",79,0)
 N LSTTL
"RTN","MAGJLS4",80,0)
 S LSTTL="HISTORY LIST for "_$$USERINF^MAGJUTL3(TXDUZ,.01)_" at "_"Station #"_$$STATN^MAGJEX1(TXDIV)
"RTN","MAGJLS4",81,0)
 S LSTTL=LSTTL_"|"_TXDUZ ; provide report's DUZ to client
"RTN","MAGJLS4",82,0)
 Q LSTTL
"RTN","MAGJLS4",83,0)
 ;
"RTN","MAGJLS4",84,0)
HISTGET(TXDUZ,TXDIV) ; Get full History List for input user for division txdiv
"RTN","MAGJLS4",85,0)
 N MAGLST,LSTTL,LSTID,MAGLST
"RTN","MAGJLS4",86,0)
 S TXDUZ=$G(TXDUZ,DUZ)
"RTN","MAGJLS4",87,0)
 S TXDIV=$G(TXDIV,DUZ(2))
"RTN","MAGJLS4",88,0)
 D PARAMS^MAGJLS2B(9996)
"RTN","MAGJLS4",89,0)
 I 'LSTID S REPLY="0^4~Problem with History List Compile." Q
"RTN","MAGJLS4",90,0)
 S LSTTL=$$HISTTL(TXDUZ,DUZ(2))
"RTN","MAGJLS4",91,0)
 S X=$O(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,0))
"RTN","MAGJLS4",92,0)
 I 'X S REPLY="0^1~No exams found for: "_LSTTL Q
"RTN","MAGJLS4",93,0)
 S MAGLST=$NA(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV))
"RTN","MAGJLS4",94,0)
 D LSTOUT^MAGJLS2B(.MAGGRY,LSTID,MAGLST)
"RTN","MAGJLS4",95,0)
 S REPLY=1
"RTN","MAGJLS4",96,0)
 Q
"RTN","MAGJLS4",97,0)
 ;
"RTN","MAGJLS4",98,0)
HISTDEL(DATA,TXDUZ,TXDIV) ; delete records
"RTN","MAGJLS4",99,0)
 N IDATA,CT,HISTIEN,ALLDONE,LAST
"RTN","MAGJLS4",100,0)
 S IDATA="",CT=0,ALLDONE=0
"RTN","MAGJLS4",101,0)
 L +^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV):2
"RTN","MAGJLS4",102,0)
 E  S REPLY="0^2~Unable to access HISTORY File for deleting records; try again later." Q
"RTN","MAGJLS4",103,0)
 S MAGGRY=$NA(^TMP($J,"RET"))
"RTN","MAGJLS4",104,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""!ALLDONE  D
"RTN","MAGJLS4",105,0)
 . S HISTIEN=$P(DATA(IDATA),U)
"RTN","MAGJLS4",106,0)
 . I HISTIEN,$D(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,HISTIEN)) K ^(HISTIEN) S CT=CT+1,@MAGGRY@(CT)=HISTIEN Q
"RTN","MAGJLS4",107,0)
 . E  I HISTIEN="ALL" S HISTIEN=0 D  S ALLDONE=1
"RTN","MAGJLS4",108,0)
 . . F  S HISTIEN=$O(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,HISTIEN)) Q:'HISTIEN  K ^(HISTIEN) S CT=CT+1,@MAGGRY@(CT)=HISTIEN
"RTN","MAGJLS4",109,0)
 I '$D(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,0,"ADD")) S X=$O(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,""),-1),^(0)=X_U_X
"RTN","MAGJLS4",110,0)
 L -^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV)
"RTN","MAGJLS4",111,0)
 I 'CT S REPLY="0^3~No HISTORY List records found to delete."
"RTN","MAGJLS4",112,0)
 E  S REPLY=CT_"^1~"_CT_" HISTORY List records deleted."
"RTN","MAGJLS4",113,0)
 S @MAGGRY@(0)=REPLY
"RTN","MAGJLS4",114,0)
 S REPLY=1
"RTN","MAGJLS4",115,0)
 Q
"RTN","MAGJLS4",116,0)
 ;
"RTN","MAGJLS4",117,0)
HISTUPD(TXDUZ,TXDIV) ; Update selected fields in History List
"RTN","MAGJLS4",118,0)
 N LSTTL,CT,NOHIT,RAST,STATUS,REMOTE,RIST1,RIST2,RIST,RISTISME
"RTN","MAGJLS4",119,0)
 N EXID,HISTIEN,RARPT,RADFN,RADTI,RACNI,XX1,XX2,T,X,DELETED,HDATE
"RTN","MAGJLS4",120,0)
 S CT=0,NOHIT=0
"RTN","MAGJLS4",121,0)
 S TXDUZ=$G(TXDUZ,DUZ)
"RTN","MAGJLS4",122,0)
 S TXDIV=$G(TXDIV,DUZ(2))
"RTN","MAGJLS4",123,0)
 S LSTTL=$$HISTTL(TXDUZ,DUZ(2))
"RTN","MAGJLS4",124,0)
 S X=$O(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,0))
"RTN","MAGJLS4",125,0)
 I 'X S REPLY="0^1~No exams found for: "_LSTTL Q
"RTN","MAGJLS4",126,0)
 L +^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV):2
"RTN","MAGJLS4",127,0)
 E  S REPLY="0^2~Unable to access HISTORY File for updating records; try again later." Q
"RTN","MAGJLS4",128,0)
 S HISTIEN=0
"RTN","MAGJLS4",129,0)
 F  S HISTIEN=$O(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,HISTIEN)) Q:'HISTIEN  S XX1=$G(^(HISTIEN,1)),XX2=$G(^(2)) D
"RTN","MAGJLS4",130,0)
 . S EXID=$P(XX2,"|",2),RARPT=+$P(EXID,U,4),RADFN=+$P(EXID,U),RADTI=+$P(EXID,U,2),RACNI=+$P(EXID,U,3)
"RTN","MAGJLS4",131,0)
 . ; <*> Below is for phase 1 Alpha, til have final user setting for this <*> to be removed
"RTN","MAGJLS4",132,0)
 . ; Age limit parameter to be passed in with txid 2 rpc call; setting is on client <*>
"RTN","MAGJLS4",133,0)
 . S HDATE=$P(XX2,U,13) D  Q:DELETED
"RTN","MAGJLS4",134,0)
 . . S DELETED=0,HDATE=$P(HDATE,"@")
"RTN","MAGJLS4",135,0)
 . . S X=HDATE,%DT="" D ^%DT S X=Y D H^%DTC K %DT
"RTN","MAGJLS4",136,0)
 . . I %H<($H-3) K ^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,HISTIEN) S DELETED=1 Q
"RTN","MAGJLS4",137,0)
 . ; <*> End of temp change
"RTN","MAGJLS4",138,0)
 . I RARPT,RADFN,RADTI,RACNI
"RTN","MAGJLS4",139,0)
 . E  S NOHIT=NOHIT+1 Q
"RTN","MAGJLS4",140,0)
 . D IMGINFO^MAGJUTL2(RARPT,.X) S REMOTE=$P(X,U,4)
"RTN","MAGJLS4",141,0)
 . S X=$G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0))
"RTN","MAGJLS4",142,0)
 . I X="" Q  ; rad exam deleted
"RTN","MAGJLS4",143,0)
 . S RAST=$P(X,U,3),RIST1=$P(X,U,12),RIST2=$P(X,U,15)
"RTN","MAGJLS4",144,0)
 . S STATUS=$S(RAST:$P(^RA(72,RAST,0),U),1:"")
"RTN","MAGJLS4",145,0)
 . S (RIST,RISTISME)=""
"RTN","MAGJLS4",146,0)
 . I RIST1!RIST2 S X=$$RIST^MAGJUTL1(RIST1,RIST2),RIST=$P(X,U),RISTISME=$P(X,U,2)
"RTN","MAGJLS4",147,0)
 . S RISTISME=$S(RISTISME:"Y",1:"N")
"RTN","MAGJLS4",148,0)
 . S $P(XX1,U,16)=RAST,$P(XX1,U,8)=STATUS,$P(XX1,U,12)=REMOTE
"RTN","MAGJLS4",149,0)
 . S T=$P(XX2,"|"),$P(T,U,3)=RIST,$P(T,U,7)=RISTISME,$P(XX2,"|")=T
"RTN","MAGJLS4",150,0)
 . S ^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,HISTIEN,1)=XX1,^(2)=XX2
"RTN","MAGJLS4",151,0)
 . S CT=CT+1
"RTN","MAGJLS4",152,0)
 S X=$O(^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV,""),-1),^(0)=X_U_X ; <*> for phase 1 alpha only?
"RTN","MAGJLS4",153,0)
 L -^XTMP("MAGJ2","HISTORY",TXDUZ,TXDIV)
"RTN","MAGJLS4",154,0)
 S REPLY="0^1~HISTORY File records updated." Q
"RTN","MAGJLS4",155,0)
 Q
"RTN","MAGJLS4",156,0)
 ;
"RTN","MAGJLS4",157,0)
END Q  ; 
"RTN","MAGJLST1")
0^2^B46531364
"RTN","MAGJLST1",1,0)
MAGJLST1 ;WIRMFO/JHC VistARad RPC calls ; 29 Jul 2003  10:01 AM
"RTN","MAGJLST1",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJLST1",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLST1",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJLST1",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJLST1",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJLST1",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJLST1",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJLST1",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJLST1",10,0)
 ;; |                                                               |
"RTN","MAGJLST1",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJLST1",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJLST1",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJLST1",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJLST1",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJLST1",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJLST1",17,0)
 ;;
"RTN","MAGJLST1",18,0)
 Q
"RTN","MAGJLST1",19,0)
 ;
"RTN","MAGJLST1",20,0)
 ; Subroutines for fetching Exam Info for Radiology Workstation
"RTN","MAGJLST1",21,0)
 ; Exam listings:
"RTN","MAGJLST1",22,0)
 ;     PTLIST -- list subset of all exams for a patient
"RTN","MAGJLST1",23,0)
 ;        RPC Call: MAGJ PTRADEXAMS
"RTN","MAGJLST1",24,0)
 ;   PTLSTALL -- list ALL exams for a patient
"RTN","MAGJLST1",25,0)
 ;       RPC Call: MAGJ PT ALL EXAMS
"RTN","MAGJLST1",26,0)
 ;
"RTN","MAGJLST1",27,0)
 Q
"RTN","MAGJLST1",28,0)
ERR N ERR S ERR=$$EC^%ZOSV S ^TMP($J,"RET",0)="0^4~"_ERR
"RTN","MAGJLST1",29,0)
 S MAGGRY=$NA(^TMP($J,"RET"))
"RTN","MAGJLST1",30,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJLST1",31,0)
 Q:$Q 1  Q
"RTN","MAGJLST1",32,0)
 ;
"RTN","MAGJLST1",33,0)
PTLSTALL(MAGGRY,DATA) ; List ALL exams for a patient
"RTN","MAGJLST1",34,0)
 ;  RPC is MAGJ PT ALL EXAMS
"RTN","MAGJLST1",35,0)
 N PARAM
"RTN","MAGJLST1",36,0)
 I MAGJOB("P32") S PARAM="^99^999"
"RTN","MAGJLST1",37,0)
 E  S PARAM="^^^"_$P(DATA,U,2)
"RTN","MAGJLST1",38,0)
 D PTLIST(.MAGGRY,$P(DATA,U)_PARAM)
"RTN","MAGJLST1",39,0)
 Q
"RTN","MAGJLST1",40,0)
 ;
"RTN","MAGJLST1",41,0)
PTLIST(MAGGRY,DATA) ; get list of exams for a patient
"RTN","MAGJLST1",42,0)
 ; 
"RTN","MAGJLST1",43,0)
 ; MAGGRY - indirect reference to return array of exams for a patient
"RTN","MAGJLST1",44,0)
 ; DATA   - DFN ^ LIMYEARS ^ LIMEXAMS ^ BEGDT
"RTN","MAGJLST1",45,0)
 ;   DFN--Patient's DFN
"RTN","MAGJLST1",46,0)
 ;   LIMYRS--Restrict exams up to # Years back
"RTN","MAGJLST1",47,0)
 ;   LIMEXAMS--Restrict exams up to # of exams
"RTN","MAGJLST1",48,0)
 ;   BEGDT--Begin date for exam fetch (Patch 18 addition--see below)
"RTN","MAGJLST1",49,0)
 ; Returns data in ^TMP($J,"MAGRAEX",0:n)
"RTN","MAGJLST1",50,0)
 ; RPC Call: MAGJ PTRADEXAMS
"RTN","MAGJLST1",51,0)
 ;
"RTN","MAGJLST1",52,0)
 ; Patch 18 eliminates "Patient Exams" / "All Patient Exams" distinction.
"RTN","MAGJLST1",53,0)
 ; It always retrieves ALL exams, but uses multiple RPC calls, so the client
"RTN","MAGJLST1",54,0)
 ; incrementally builds the list; this is to provide all the data, but without
"RTN","MAGJLST1",55,0)
 ; incurring any long pauses to provide the info to the user.
"RTN","MAGJLST1",56,0)
 ; Below, the P18 code fetches RAD data in one-year chunks, and repeats
"RTN","MAGJLST1",57,0)
 ;   until over 20 exams have been processed, at which point the RPC reply
"RTN","MAGJLST1",58,0)
 ;   is posted, along with the last date processed; this value is then used for
"RTN","MAGJLST1",59,0)
 ;   a subsequent RPC call to get the next chunk of the record; etc. till all done.
"RTN","MAGJLST1",60,0)
 ;   The P32 code is re-organized, and now exits only for LIMEXAMS (ignore LimYears)
"RTN","MAGJLST1",61,0)
 ;   
"RTN","MAGJLST1",62,0)
 N CNT,DFN,ISS,PATNAME,DIQUIET,MAGRACNT,MAGRET,REPLY,REMOTE,SNDREMOT
"RTN","MAGJLST1",63,0)
 N DAYCASE,DIV,EXCAT,MAGDT,XX,XX2,WHOLOCK,MODALITY,MYLOCK,PLACE,ENDLOOP
"RTN","MAGJLST1",64,0)
 N LIMYRS,LIMEXAMS,BEGDT,SAVBEGDT,ENDDT,MORE,SHOWPLAC,RDRIST,PSSN,CPT,PARAM
"RTN","MAGJLST1",65,0)
 N CURPRIO,STATUS,RARPT,KEY,X1,X2,REMOTE2
"RTN","MAGJLST1",66,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJLST1"
"RTN","MAGJLST1",67,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJLST1",68,0)
 S PARAM=$G(^MAG(2006.69,1,0))
"RTN","MAGJLST1",69,0)
 S SNDREMOT=+$P(PARAM,U,11) ; Site routes images remotely?
"RTN","MAGJLST1",70,0)
 I MAGJOB("P32") D
"RTN","MAGJLST1",71,0)
 . S LIMEXAMS=+$P(PARAM,U,15)
"RTN","MAGJLST1",72,0)
 . S:'LIMEXAMS LIMEXAMS=999 ; default to show ALL Exams
"RTN","MAGJLST1",73,0)
 . I $P(DATA,U,3) S LIMEXAMS=+$P(DATA,U,3)
"RTN","MAGJLST1",74,0)
 . I LIMEXAMS<20 S LIMEXAMS=20
"RTN","MAGJLST1",75,0)
 . S BEGDT=""
"RTN","MAGJLST1",76,0)
 E  S BEGDT=$P(DATA,U,4)  ; P18 input param
"RTN","MAGJLST1",77,0)
 K MAGGRY S DFN=+DATA
"RTN","MAGJLST1",78,0)
 S SHOWPLAC=$$SHOWPLAC^MAGJLS2B("")
"RTN","MAGJLST1",79,0)
 S MAGRACNT=1,CNT=0 K ^TMP($J,"MAGRAEX"),^("MAGRAEX2")
"RTN","MAGJLST1",80,0)
 S REPLY="0^4~Compiling list of Radiology Exams."
"RTN","MAGJLST1",81,0)
 I DFN,$D(^DPT(DFN,0)) S PATNAME=$P(^(0),U),PSSN=$P(^(0),U,9) D
"RTN","MAGJLST1",82,0)
 . S ENDLOOP=0,BEGDT=$S(+BEGDT:BEGDT,1:"")
"RTN","MAGJLST1",83,0)
 . F  D  Q:'MORE  Q:ENDLOOP
"RTN","MAGJLST1",84,0)
 . . I 'BEGDT S BEGDT=DT,X2=0
"RTN","MAGJLST1",85,0)
 . . E  S X2=-1
"RTN","MAGJLST1",86,0)
 . . S X1=BEGDT D C^%DTC S (ENDDT,X1)=X,X2=-365 D C^%DTC S BEGDT=X K %,%H,%T
"RTN","MAGJLST1",87,0)
 . . D GETEXAM3^MAGJUTL1(DFN,BEGDT,ENDDT,.MAGRACNT,.MAGRET,.MORE)
"RTN","MAGJLST1",88,0)
 . . I MAGJOB("P32") S ENDLOOP=(MAGRACNT>LIMEXAMS)
"RTN","MAGJLST1",89,0)
 . . E  S ENDLOOP=(MAGRACNT>20)  ; For testing only, use >8
"RTN","MAGJLST1",90,0)
 . I 'MORE S SAVBEGDT=0
"RTN","MAGJLST1",91,0)
 . E  S SAVBEGDT=MORE+1 ; adding 1 correctly inits value for subseqent call
"RTN","MAGJLST1",92,0)
 . I MAGRACNT>1 D PTLOOP
"RTN","MAGJLST1",93,0)
 E  S REPLY="0^4~Invalid Radiology Patient"
"RTN","MAGJLST1",94,0)
 I MAGRACNT<2 S:(REPLY["Compiling") REPLY="0^2~No Exams Found for "_PATNAME
"RTN","MAGJLST1",95,0)
 I CNT!(REPLY["No Exams Found") D
"RTN","MAGJLST1",96,0)
 . I 'MORE S MSG="ALL exams are listed."
"RTN","MAGJLST1",97,0)
 . E  S MORE=$$FMTE^XLFDT(MORE) S MSG="Patient has more exams on file."
"RTN","MAGJLST1",98,0)
 . ; show SSN only if the user is a radiologist
"RTN","MAGJLST1",99,0)
 . S X=+MAGJOB("USER",1) I '(X=12!(X=15)) S PSSN=""
"RTN","MAGJLST1",100,0)
 . E  S PSSN=" ("_$E(PSSN,1,3)_"-"_$E(PSSN,4,5)_"-"_$E(PSSN,6,9)_")"
"RTN","MAGJLST1",101,0)
 . I CNT S REPLY=CNT_"^1~Radiology Exams for: "_PATNAME_PSSN_" -- "_MSG
"RTN","MAGJLST1",102,0)
 . E  S REPLY=REPLY_" -- "_MSG
"RTN","MAGJLST1",103,0)
 . S ^TMP($J,"MAGRAEX2",1)="^Day/Case~S3~1^Lock~~2^Procedure~~6^Modifier~~25^Image Date/Time~S1~7^Status~~8^# Img~S2~9^Onl~~10"_$S($G(SNDREMOT):"^RC~~12",1:"")_$S(SHOWPLAC:"^Site~~23",1:"")_"^Mod~~15^Interp By~~20^Imaging Loc~~11^CPT~~27"
"RTN","MAGJLST1",104,0)
 I 'MAGJOB("P32") S $P(REPLY,"|",2)=SAVBEGDT
"RTN","MAGJLST1",105,0)
 S ^TMP($J,"MAGRAEX2",0)=REPLY
"RTN","MAGJLST1",106,0)
 S MAGGRY=$NA(^TMP($J,"MAGRAEX2"))
"RTN","MAGJLST1",107,0)
 K ^TMP($J,"RAE1"),^("MAGRAEX")
"RTN","MAGJLST1",108,0)
 Q
"RTN","MAGJLST1",109,0)
 ;
"RTN","MAGJLST1",110,0)
PTLOOP ; loop through exam data & package it for VRAD use
"RTN","MAGJLST1",111,0)
 S ISS=0
"RTN","MAGJLST1",112,0)
 F  S ISS=$O(^TMP($J,"MAGRAEX",ISS)) Q:'ISS  S XX=^(ISS,1),XX2=^(2) D
"RTN","MAGJLST1",113,0)
 . S CNT=CNT+1,RARPT=$P(XX,U,10)
"RTN","MAGJLST1",114,0)
 . D IMGINFO^MAGJUTL2(RARPT,.Y)
"RTN","MAGJLST1",115,0)
 . S IMGCNT=$P(Y,U),ONL=$P(Y,U,2),MAGDT=$P(Y,U,3),REMOTE=$P(Y,U,4),MODALITY=$P(Y,U,5),PLACE=$P(Y,U,6),KEY=$P(Y,U,7)
"RTN","MAGJLST1",116,0)
 . S REMOTE2=REMOTE
"RTN","MAGJLST1",117,0)
 . S:PLACE PLACE=$P($G(^MAG(2006.1,PLACE,0)),U,9)
"RTN","MAGJLST1",118,0)
 . I PLACE]"",SHOWPLAC D
"RTN","MAGJLST1",119,0)
 .. I SHOWPLAC'[(","_PLACE_",") S PLACE="" ; don't show user's logon pl ; <*> chg for p18?
"RTN","MAGJLST1",120,0)
 . I SNDREMOT,REMOTE D
"RTN","MAGJLST1",121,0)
 .. S T="" F I=1:1:$L(REMOTE,",") S T=T_$S(T="":"",1:",")_$P($G(^MAG(2005.2,$P(REMOTE,",",I),3)),U,5)
"RTN","MAGJLST1",122,0)
 .. S REMOTE=T
"RTN","MAGJLST1",123,0)
 . S DIV="",X=$P(XX2,U,5) I X'=DUZ(2) S DIV=$$STATN(X)
"RTN","MAGJLST1",124,0)
 . I MAGDT="" S MAGDT=$P(XX,U,7)
"RTN","MAGJLST1",125,0)
 . S MAGDT=$$FMTE^XLFDT(MAGDT,"5Z")
"RTN","MAGJLST1",126,0)
 . S WHOLOCK=RARPT,MYLOCK="",DAYCASE=$P(XX,U,12)
"RTN","MAGJLST1",127,0)
 . I WHOLOCK]"" S T=$$CHKLOCK^MAGJLS2B(WHOLOCK,DAYCASE),WHOLOCK=$P(T,U),MYLOCK=$P(T,U,2)
"RTN","MAGJLST1",128,0)
 . S RDRIST=$P(XX2,U,3),PROCMOD=$P(XX2,U,8),CPT=$P(XX,U,17),RASTORD=$P(XX,U,15)
"RTN","MAGJLST1",129,0)
 . S Y=U_DAYCASE_U_WHOLOCK_U_$E($P(XX,U,9),1,26)_U_PROCMOD_U_MAGDT_U_$E($P(XX,U,14),1,16)_U_IMGCNT_U_ONL
"RTN","MAGJLST1",130,0)
 . I $G(SNDREMOT) S Y=Y_U_REMOTE
"RTN","MAGJLST1",131,0)
 . S Y=Y_$S(SHOWPLAC:U_PLACE,1:"")_U_MODALITY_U_RDRIST_U_$E($P(XX,U,13),1,11)_U_CPT
"RTN","MAGJLST1",132,0)
 . S STATUS=$P(XX,U,11),EXCAT="",CURPRIO=0,RASTCAT=$P(XX2,U,11),LRFLAG=$P(XX2,U,12)
"RTN","MAGJLST1",133,0)
 . I STATUS]"" D
"RTN","MAGJLST1",134,0)
 . . S EXCAT=RASTCAT
"RTN","MAGJLST1",135,0)
 . . I RASTORD<2!(EXCAT="W")!('IMGCNT) S CURPRIO=0 ; Cancelled/Waiting/No images: Ignore exam
"RTN","MAGJLST1",136,0)
 . . E  I EXCAT="E" S CURPRIO=1  ; Examined="Current" exam
"RTN","MAGJLST1",137,0)
 . . E  S CURPRIO=2  ; must be a "prior" exam
"RTN","MAGJLST1",138,0)
 . . I CURPRIO,'(ONL="Y") S CURPRIO=3 ; images on jukebox
"RTN","MAGJLST1",139,0)
 . . I MAGJOB("P32"),'(EXCAT="E") S EXCAT="" Q  ; P32 compat.
"RTN","MAGJLST1",140,0)
 . . I RASTORD=9 S EXCAT="C" ; Complete
"RTN","MAGJLST1",141,0)
 . . E  I EXCAT="D"!(EXCAT="T") S EXCAT="I" ; just display one value meaning Interpreted
"RTN","MAGJLST1",142,0)
 . S ^TMP($J,"MAGRAEX2",ISS)=Y_"^|"_$P(XX,U,1,3)_U_RARPT_"||"_EXCAT_U_WHOLOCK_U_MYLOCK_U_MODALITY_U_CPT_U_CURPRIO_U_RARPT_U_KEY_U_REMOTE2_U_LRFLAG
"RTN","MAGJLST1",143,0)
 . ; * Note: Keep Pipe-pieces in sync with svmag2a^magjls3 & lstout^magjls2b *
"RTN","MAGJLST1",144,0)
 Q
"RTN","MAGJLST1",145,0)
 ;
"RTN","MAGJLST1",146,0)
STATN(X) ; get station #, else return input value
"RTN","MAGJLST1",147,0)
 N T
"RTN","MAGJLST1",148,0)
 I X]"" D GETS^DIQ(4,X,99,"E","T") S T=$G(T(4,X_",",99,"E")) I T]"" S X=T
"RTN","MAGJLST1",149,0)
 Q X
"RTN","MAGJLST1",150,0)
 ;
"RTN","MAGJLST1",151,0)
END Q  ;
"RTN","MAGJMN1")
0^36^B75972704
"RTN","MAGJMN1",1,0)
MAGJMN1 ;WIRMFO/JHC VRad Maint functions ; 29 Jul 2003  4:02 PM
"RTN","MAGJMN1",2,0)
 ;;3.0;IMAGING;**16,9,22,18**;Mar 07, 2006
"RTN","MAGJMN1",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJMN1",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJMN1",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJMN1",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJMN1",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJMN1",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJMN1",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJMN1",10,0)
 ;; |                                                               |
"RTN","MAGJMN1",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJMN1",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJMN1",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJMN1",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJMN1",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJMN1",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJMN1",17,0)
 ;;
"RTN","MAGJMN1",18,0)
 Q
"RTN","MAGJMN1",19,0)
 ;
"RTN","MAGJMN1",20,0)
SVRLIST ;
"RTN","MAGJMN1",21,0)
 W @IOF,!!?10,"Enter/Edit VistARad Exams List Definition",!!
"RTN","MAGJMN1",22,0)
 N MAGIEN
"RTN","MAGJMN1",23,0)
 K DIC S (DIC,DLAYGO)=2006.631,DIC(0)="ALMEQ"
"RTN","MAGJMN1",24,0)
 D ^DIC I Y=-1 K DIC,DA,DR,DIE,DLAYGO Q
"RTN","MAGJMN1",25,0)
 S X=$P(@(DIC_+Y_",0)"),U,2)
"RTN","MAGJMN1",26,0)
 I X>9000 W !!,$C(7),"You may not edit System-Supplied files!" H 3 G SVRLIST
"RTN","MAGJMN1",27,0)
 S DIE=2006.631,DA=+Y,DR="[MAGJ LIST EDIT]"
"RTN","MAGJMN1",28,0)
 S MAGIEN=DA
"RTN","MAGJMN1",29,0)
 D ^DIE I '$D(DA) G SVRLIST
"RTN","MAGJMN1",30,0)
 D ENSRCH
"RTN","MAGJMN1",31,0)
 D BLDDEF(MAGIEN)
"RTN","MAGJMN1",32,0)
 D NOW^%DTC S $P(^MAG(2006.631,MAGIEN,0),U,5)=%
"RTN","MAGJMN1",33,0)
 W !!,"List Definition complete!" R X:2
"RTN","MAGJMN1",34,0)
 G SVRLIST
"RTN","MAGJMN1",35,0)
 Q
"RTN","MAGJMN1",36,0)
ENSRCH ; Invoke Search for 2006.631 def'n
"RTN","MAGJMN1",37,0)
 N GREF,GLIN,GO,CT,DIARI,DIC,FNOD,TNOD,NCOND,NODE0
"RTN","MAGJMN1",38,0)
 ; GREF holds indirect ref to store search logic data:
"RTN","MAGJMN1",39,0)
 ; @GREF@(3, ff -- conditional elements (fields/logic)
"RTN","MAGJMN1",40,0)
 ; @GREF@(4, ff -- composite elements (ANDed conditions)
"RTN","MAGJMN1",41,0)
 ; @GREF@(5, ff -- Human-readable search text
"RTN","MAGJMN1",42,0)
 ; GLIN holds indirect ref to retrieve search logic data from ^DIBT
"RTN","MAGJMN1",43,0)
 ; @GLIN@("DC", ff -- conditional elements
"RTN","MAGJMN1",44,0)
 ; @GLIN@("DL", ff -- composite elements
"RTN","MAGJMN1",45,0)
 ; @GLIN@("O", ff -- readable text
"RTN","MAGJMN1",46,0)
 S GREF=$NA(^MAG(2006.631,MAGIEN,"DEF"))
"RTN","MAGJMN1",47,0)
 S GO=1 I $D(@GREF@(5,1)) D  ; show current logic
"RTN","MAGJMN1",48,0)
 . W ! D DISPSRCH(GREF)
"RTN","MAGJMN1",49,0)
 . S X=$$YN("Do you want to delete or re-enter the search logic?","NO")
"RTN","MAGJMN1",50,0)
 . I X'="Y" S GO=0 Q
"RTN","MAGJMN1",51,0)
 . W !!?7,"Re-entering the search logic requires first deleting the current",!?7,"definition, then entering the new definition from scratch."
"RTN","MAGJMN1",52,0)
 . S X=$$YN("Are you sure you want to continue?","NO")
"RTN","MAGJMN1",53,0)
 . I X'="Y" S GO=0 Q
"RTN","MAGJMN1",54,0)
 I 'GO Q
"RTN","MAGJMN1",55,0)
 W !!?7,"Now enter search logic for this List.  To do this, the program"
"RTN","MAGJMN1",56,0)
 W !?7,"will prompt you just as if you were going to run a Fileman Search."
"RTN","MAGJMN1",57,0)
 W !?7,"When prompted STORE RESULTS OF SEARCH IN TEMPLATE:, answer with 'TEMP'"
"RTN","MAGJMN1",58,0)
 W !?7,"If prompted ... OK TO PURGE? NO// answer 'YES'; don't bother specifying"
"RTN","MAGJMN1",59,0)
 W !?7,"output print fields, but just RETURN through all the prompts to"
"RTN","MAGJMN1",60,0)
 W !?7,"complete the process.  The search definition will be saved as part"
"RTN","MAGJMN1",61,0)
 W !?7,"of this List definition; you will test it out by running it from "
"RTN","MAGJMN1",62,0)
 W !?7,"the workstation.  If you need to modify the search logic, you will"
"RTN","MAGJMN1",63,0)
 W !?7,"have to re-enter it in its entirety."
"RTN","MAGJMN1",64,0)
 W !!?7,"NOTES: EXAM LOCK INDICATOR will not work for search logic;"
"RTN","MAGJMN1",65,0)
 W !?14,"REMOTE CACHE INDICATOR only works for Null/Not Null logic."
"RTN","MAGJMN1",66,0)
 S DIC=2006.634 D EN^DIS  ; call Fman Search Logic routine. It will store search logic in ^DIBT
"RTN","MAGJMN1",67,0)
 ; 2006.634 is intentional--don't change this!
"RTN","MAGJMN1",68,0)
 I '$G(DIARI) W !!," Search logic NOT updated" D  Q
"RTN","MAGJMN1",69,0)
 . Q:'$D(@GREF@(5,1))  ; if no logic had existed, quit
"RTN","MAGJMN1",70,0)
 . S X=$$YN("Do you want to DELETE the search logic?","NO")
"RTN","MAGJMN1",71,0)
 . I X="Y" K @GREF@(3) K ^(4),^(5) W " -- Deleted!"
"RTN","MAGJMN1",72,0)
 K @GREF@(3) K ^(4),^(5)
"RTN","MAGJMN1",73,0)
 S GLIN=$NA(^DIBT(DIARI))  ; Copy logic to 2006.631 DEF nodes
"RTN","MAGJMN1",74,0)
 S FNOD="DC",TNOD=3,CT=0  ; "DC" data--straight copy
"RTN","MAGJMN1",75,0)
 S T=0 F  S T=$O(@GLIN@(FNOD,T)) Q:T=""  S X=^(T),CT=CT+1,@GREF@(TNOD,T)=X
"RTN","MAGJMN1",76,0)
 S @GREF@(TNOD,0)=CT
"RTN","MAGJMN1",77,0)
 S FNOD="DL",TNOD=4,CT=0  ; "DL" data--copy depends on storage scheme in DIBT:
"RTN","MAGJMN1",78,0)
 ;Zero node null -- straight copy
"RTN","MAGJMN1",79,0)
 ; Else 1) either only one condition is defined;
"RTN","MAGJMN1",80,0)
 ; or, 2) the zero-node condition is ANDed with all defined conditions
"RTN","MAGJMN1",81,0)
 ;  Case 2: Var A -- Pre-pend zero node, then dup zero node
"RTN","MAGJMN1",82,0)
 ;            Var B -- Pre-pend zero node
"RTN","MAGJMN1",83,0)
 S NCOND=+$G(@GLIN@(FNOD))
"RTN","MAGJMN1",84,0)
 I $G(@GLIN@(FNOD,0))]"" S NODE0=^(0) D
"RTN","MAGJMN1",85,0)
 . S T=0 F  S T=$O(@GLIN@(FNOD,T)) Q:T=""  S X=^(T) I X]"" S CT=CT+1,@GREF@(TNOD,CT)=NODE0_X
"RTN","MAGJMN1",86,0)
 . I CT'=NCOND S CT=CT+1,@GREF@(TNOD,CT)=NODE0_$S(CT=1:"",1:"^")
"RTN","MAGJMN1",87,0)
 E  D
"RTN","MAGJMN1",88,0)
 . S T=0 F  S T=$O(@GLIN@(FNOD,T)) Q:T=""  S X=^(T) I X]"" S CT=CT+1,@GREF@(TNOD,CT)=X
"RTN","MAGJMN1",89,0)
 S @GREF@(TNOD,0)=CT
"RTN","MAGJMN1",90,0)
 ; readable text--straight copy
"RTN","MAGJMN1",91,0)
 S TNOD=5,T=0 F  S T=$O(@GLIN@("O",T)) Q:T=""  S @GREF@(TNOD,T)=^(T,0)
"RTN","MAGJMN1",92,0)
 Q
"RTN","MAGJMN1",93,0)
 ;
"RTN","MAGJMN1",94,0)
BLDDEF(LSTID) ; build DEF nodes for Column/Sort defs
"RTN","MAGJMN1",95,0)
 N QX,SS,STR,LSTHDR,T,T0,T8,T6,HASCASE,XT,HASDATE
"RTN","MAGJMN1",96,0)
 S SS=0,HASCASE=0,HASDATE=0
"RTN","MAGJMN1",97,0)
 ; columns/hdrs: Order in T array by the Relative Column Order
"RTN","MAGJMN1",98,0)
 F  S SS=$O(^MAG(2006.631,LSTID,1,SS)) D  Q:'SS
"RTN","MAGJMN1",99,0)
 . I 'SS D  Q
"RTN","MAGJMN1",100,0)
 . . I 'HASCASE S X=1 D BLDDEF2(X)  ; FORCE CASE#
"RTN","MAGJMN1",101,0)
 . . I 'HASDATE S X=7 D BLDDEF2(X)  ; DATE/TIME
"RTN","MAGJMN1",102,0)
 . E  S X=^MAG(2006.631,LSTID,1,SS,0)
"RTN","MAGJMN1",103,0)
 . D BLDDEF2(X)
"RTN","MAGJMN1",104,0)
 ; go thru T to build ordered field sequence for output columns
"RTN","MAGJMN1",105,0)
 S QX="T",STR="",LSTHDR=""
"RTN","MAGJMN1",106,0)
 F  S QX=$Q(@QX) Q:QX=""  S X=@QX D
"RTN","MAGJMN1",107,0)
 . S STR=STR_$S(STR="":"",1:U)_$P(X,U)
"RTN","MAGJMN1",108,0)
 . S LSTHDR=LSTHDR_$S(LSTHDR="":"",1:U)_$P(X,U,2)
"RTN","MAGJMN1",109,0)
 S ^MAG(2006.631,LSTID,"DEF",.5)=LSTHDR,^(1)=STR
"RTN","MAGJMN1",110,0)
 ; Sort values:
"RTN","MAGJMN1",111,0)
 S SS=0,STR=""
"RTN","MAGJMN1",112,0)
 F  S SS=$O(^MAG(2006.631,LSTID,2,SS)) Q:'SS  S X=^(SS,0) D
"RTN","MAGJMN1",113,0)
 . S X=+X_$S($P(X,U,2):"-",1:"")
"RTN","MAGJMN1",114,0)
 . S STR=STR_$S(STR="":"",1:U)_X
"RTN","MAGJMN1",115,0)
 S ^MAG(2006.631,LSTID,"DEF",2)=STR
"RTN","MAGJMN1",116,0)
 D NOW^%DTC S $P(^MAG(2006.631,LSTID,"DEF",0),U)=%
"RTN","MAGJMN1",117,0)
 Q
"RTN","MAGJMN1",118,0)
 ;
"RTN","MAGJMN1",119,0)
BLDDEF2(X) ;
"RTN","MAGJMN1",120,0)
 S X=+X_$S($P(X,U,2):";"_+$P(X,U,2),1:"")
"RTN","MAGJMN1",121,0)
 I 'HASCASE S HASCASE=(+X=1)
"RTN","MAGJMN1",122,0)
 I 'HASDATE S HASDATE=(+X=7)
"RTN","MAGJMN1",123,0)
 S T0=^MAG(2006.63,+X,0),T6=+$P(T0,U,6) S:'T6 T6=99
"RTN","MAGJMN1",124,0)
 S T8=$P(T0,U,8) I T8]"" S T8="~"_T8
"RTN","MAGJMN1",125,0)
 S XT=$S($P(T0,U,3)]"":$P(T0,U,3),1:$P(T0,U,2))_T8
"RTN","MAGJMN1",126,0)
 S $P(XT,"~",3)=+X
"RTN","MAGJMN1",127,0)
 S T(T6,+X)=X_U_XT
"RTN","MAGJMN1",128,0)
 Q
"RTN","MAGJMN1",129,0)
 ;
"RTN","MAGJMN1",130,0)
PRE ; init 2006.63 prior to KIDS install
"RTN","MAGJMN1",131,0)
 N DIK,DA S DIK="^MAG(2006.63,",DA=0 F  S DA=$O(@(DIK_DA_")")) Q:'DA  D ^DIK
"RTN","MAGJMN1",132,0)
 Q
"RTN","MAGJMN1",133,0)
 ;
"RTN","MAGJMN1",134,0)
P18 ; Patch 18 inits
"RTN","MAGJMN1",135,0)
 D BLDALL
"RTN","MAGJMN1",136,0)
 D POST
"RTN","MAGJMN1",137,0)
 Q
"RTN","MAGJMN1",138,0)
 ;
"RTN","MAGJMN1",139,0)
BLDALL ; Create "DEF" nodes, Button labels List Def'ns
"RTN","MAGJMN1",140,0)
 ; Updates all lists after s/w update list defs are installed
"RTN","MAGJMN1",141,0)
 N SS,LSTDAT,LSTNUM,BUTTON,LSTTYP
"RTN","MAGJMN1",142,0)
 S SS=0
"RTN","MAGJMN1",143,0)
 F  S SS=$O(^MAG(2006.631,SS)) Q:'SS  S LSTDAT=$G(^(SS,0)) I LSTDAT]"" D
"RTN","MAGJMN1",144,0)
 . S LSTNUM=$P(LSTDAT,U,2),BUTTON=$P(LSTDAT,U,7),LSTTYP=$P(LSTDAT,U,3)
"RTN","MAGJMN1",145,0)
 . I LSTNUM>9900!$P(LSTDAT,U,6) D BLDDEF(SS)  ; build DEF nodes for System Lists & any Enabled lists
"RTN","MAGJMN1",146,0)
 . I BUTTON="",(LSTTYP]"") D   ; Create Button Labels if needed
"RTN","MAGJMN1",147,0)
 . . S BUTTON=$S(LSTTYP="U":"Unread #",LSTTYP="R":"Recent #",LSTTYP="A":"All Active #",LSTTYP="P":"Pending #",1:"List #")_LSTNUM
"RTN","MAGJMN1",148,0)
 . . S $P(^MAG(2006.631,SS,0),U,7)=BUTTON
"RTN","MAGJMN1",149,0)
 Q
"RTN","MAGJMN1",150,0)
 ;
"RTN","MAGJMN1",151,0)
POST ; Install msg
"RTN","MAGJMN1",152,0)
 I $T(AHOPT^MAGQE5)'=""
"RTN","MAGJMN1",153,0)
 E  Q  ; Mag Ent Rtn not here
"RTN","MAGJMN1",154,0)
 N FIRST,LAST
"RTN","MAGJMN1",155,0)
 D REMTASK^MAGQE4
"RTN","MAGJMN1",156,0)
 D STTASK^MAGQE4
"RTN","MAGJMN1",157,0)
 D INS(XPDNM,DUZ,$$NOW^XLFDT,XPDA)
"RTN","MAGJMN1",158,0)
 Q
"RTN","MAGJMN1",159,0)
INS(XP,DUZ,DATE,IDA) ;
"RTN","MAGJMN1",160,0)
 N CT,T,COM,DDATE,ST,T,XMSUB
"RTN","MAGJMN1",161,0)
 D GETENV^%ZOSV
"RTN","MAGJMN1",162,0)
 K ^TMP($J,"MAGQ")
"RTN","MAGJMN1",163,0)
 S T=0
"RTN","MAGJMN1",164,0)
 S T=T+1,^TMP($J,"MAGQ",T)="PACKAGE INSTALL"
"RTN","MAGJMN1",165,0)
 S T=T+1,^TMP($J,"MAGQ",T)="SITE: "_$$KSP^XUPARAM("WHERE")
"RTN","MAGJMN1",166,0)
 S T=T+1,^TMP($J,"MAGQ",T)="PACKAGE: "_XP
"RTN","MAGJMN1",167,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Version: "_$$VER^XPDUTL(XP)
"RTN","MAGJMN1",168,0)
 S ST=$$GET1^DIQ(9.7,IDA,11,"I")
"RTN","MAGJMN1",169,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Start time: "_$$FMTE^XLFDT(ST)
"RTN","MAGJMN1",170,0)
 S CT=$$GET1^DIQ(9.7,IDA,17,"I") S:+CT'=CT CT=$$NOW^XLFDT
"RTN","MAGJMN1",171,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Completion time: "_$$FMTE^XLFDT(CT)
"RTN","MAGJMN1",172,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Run time: "_$$FMDIFF^XLFDT(CT,ST,3)
"RTN","MAGJMN1",173,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Environment: "_Y
"RTN","MAGJMN1",174,0)
 S COM=$$GET1^DIQ(9.7,IDA,6,"I")
"RTN","MAGJMN1",175,0)
 S T=T+1,^TMP($J,"MAGQ",T)="FILE COMMENT: "_COM
"RTN","MAGJMN1",176,0)
 S T=T+1,^TMP($J,"MAGQ",T)="DATE: "_DATE
"RTN","MAGJMN1",177,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Installed by: "_$$GET1^DIQ(9.7,IDA,9,"E")
"RTN","MAGJMN1",178,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Install Name: "_$$GET1^DIQ(9.7,IDA,.01,"E")
"RTN","MAGJMN1",179,0)
 S DDATE=$$GET1^DIQ(9.7,IDA,51,"I")
"RTN","MAGJMN1",180,0)
 S T=T+1,^TMP($J,"MAGQ",T)="Distribution Date: "_$$FMTE^XLFDT(DDATE)
"RTN","MAGJMN1",181,0)
 S XMSUB=XP_" INSTALLATION"
"RTN","MAGJMN1",182,0)
 D MAILSHR^MAGQE2
"RTN","MAGJMN1",183,0)
 K ^TMP($J,"MAGQ")
"RTN","MAGJMN1",184,0)
 Q
"RTN","MAGJMN1",185,0)
 ;
"RTN","MAGJMN1",186,0)
YN(MSG,DFLT) ; get Yes/No reply
"RTN","MAGJMN1",187,0)
 N X I $G(DFLT)="" S DFLT="N"
"RTN","MAGJMN1",188,0)
 W !
"RTN","MAGJMN1",189,0)
 S DFLT=$E(DFLT),DFLT=$S(DFLT="N":"NO",1:"YES")
"RTN","MAGJMN1",190,0)
YN1 W !,MSG_" "_DFLT_"// "
"RTN","MAGJMN1",191,0)
 R X:DTIME S:X="" X=DFLT S X=$E(X),X=$TR(X,"ynYN","YNYN")
"RTN","MAGJMN1",192,0)
 I "YN"'[X W "  ??? Enter YES or NO",! G YN1
"RTN","MAGJMN1",193,0)
 Q X
"RTN","MAGJMN1",194,0)
 ;
"RTN","MAGJMN1",195,0)
LSTINQ ; Inq/Disp list def'n
"RTN","MAGJMN1",196,0)
 N GREF,MAGIEN
"RTN","MAGJMN1",197,0)
 W !!?15,"Display VistARad Exams List Definition",!!
"RTN","MAGJMN1",198,0)
 N MAGIEN
"RTN","MAGJMN1",199,0)
 S DIC=2006.631,DIC(0)="AMEQ"
"RTN","MAGJMN1",200,0)
 D ^DIC I Y=-1 K DIC,DA,DR Q
"RTN","MAGJMN1",201,0)
 K DR S DA=+Y,MAGIEN=DA
"RTN","MAGJMN1",202,0)
 S GREF=$NA(^MAG(2006.631,MAGIEN,"DEF"))
"RTN","MAGJMN1",203,0)
 W ! D EN^DIQ
"RTN","MAGJMN1",204,0)
 R !,"Enter RETURN to display the Search Logic: ",X:DTIME W !
"RTN","MAGJMN1",205,0)
 D DISPSRCH(GREF)
"RTN","MAGJMN1",206,0)
 G LSTINQ
"RTN","MAGJMN1",207,0)
 Q
"RTN","MAGJMN1",208,0)
 ;
"RTN","MAGJMN1",209,0)
DISPSRCH(GREF) ; GREF holds indirect ref for global holding search logic data
"RTN","MAGJMN1",210,0)
 I $D(@GREF@(5,1)) W !,"List Exams where:",! D
"RTN","MAGJMN1",211,0)
 . F I=1:1 Q:'$D(@GREF@(5,I))  W !?3,^(I)
"RTN","MAGJMN1",212,0)
 E  W !?3,"NO Search Logic defined!"
"RTN","MAGJMN1",213,0)
 Q
"RTN","MAGJMN1",214,0)
 ;
"RTN","MAGJMN1",215,0)
VRSIT ;
"RTN","MAGJMN1",216,0)
 W @IOF,!!?10,"Enter/Edit VistARad Site Parameters",!!
"RTN","MAGJMN1",217,0)
 S DIC=2006.69,DIC(0)="ALMEQ"
"RTN","MAGJMN1",218,0)
 I '$D(^MAG(DIC,1)) S DLAYGO=DIC
"RTN","MAGJMN1",219,0)
 D ^DIC I Y=-1 K DIC,DA,DR,DIE,DLAYGO Q
"RTN","MAGJMN1",220,0)
 S DIE=2006.69,DA=+Y,DR=".01:3.99;4.1:20"
"RTN","MAGJMN1",221,0)
 D ^DIE
"RTN","MAGJMN1",222,0)
 K DIC,DA,DR,DIE,DLAYGO
"RTN","MAGJMN1",223,0)
 Q
"RTN","MAGJMN1",224,0)
 ;
"RTN","MAGJMN1",225,0)
EEPREF ;
"RTN","MAGJMN1",226,0)
 W @IOF,!!?10,"Enter/Edit VistARad Prefetch Logic",!!
"RTN","MAGJMN1",227,0)
 N MAGIEN
"RTN","MAGJMN1",228,0)
 K DIC S (DIC,DLAYGO)=2006.65,DIC(0)="ALMEQ"
"RTN","MAGJMN1",229,0)
 D ^DIC I Y=-1 K DIC,DIE,DR,DLAYGO Q
"RTN","MAGJMN1",230,0)
 S DIE=2006.65,DA=+Y,DR="[MAGJ PRIOR EDIT]"
"RTN","MAGJMN1",231,0)
 S MAGIEN=DA
"RTN","MAGJMN1",232,0)
 D ^DIE I '$D(DA) G EEPREF
"RTN","MAGJMN1",233,0)
 G EEPREF
"RTN","MAGJMN1",234,0)
 Q
"RTN","MAGJMN1",235,0)
INPREF ; Inquire VRad PreFetch
"RTN","MAGJMN1",236,0)
 W @IOF,!!?10,"Inquire VistARad Prefetch Logic",!!
"RTN","MAGJMN1",237,0)
 N MAGIEN,BY,FR,TO
"RTN","MAGJMN1",238,0)
 S DIC=2006.65,DIC(0)="AMEQ"
"RTN","MAGJMN1",239,0)
 D ^DIC I Y=-1 K DIC Q
"RTN","MAGJMN1",240,0)
 S DA=+Y,(FR,TO)=$P(Y,U,2),MAGIEN=DA,L=0
"RTN","MAGJMN1",241,0)
 S BY="[MAGJ PRIOR SORT]",DIS(0)="I D0=MAGIEN"
"RTN","MAGJMN1",242,0)
 D EN^DIP
"RTN","MAGJMN1",243,0)
 R !,"Enter RETURN to continue: ",X:DTIME W !
"RTN","MAGJMN1",244,0)
 G INPREF
"RTN","MAGJMN1",245,0)
 Q
"RTN","MAGJMN1",246,0)
PRPREF ;Print VRad Prefetch
"RTN","MAGJMN1",247,0)
 N BY
"RTN","MAGJMN1",248,0)
 W !! S DIC=2006.65,L=0,BY="[MAGJ PRIOR SORT]"
"RTN","MAGJMN1",249,0)
 D EN1^DIP
"RTN","MAGJMN1",250,0)
 R !,"Enter RETURN to continue: ",X:DTIME W !
"RTN","MAGJMN1",251,0)
 Q
"RTN","MAGJMN1",252,0)
 ;
"RTN","MAGJMN1",253,0)
END ;
"RTN","MAGJMN3")
0^37^B6561616
"RTN","MAGJMN3",1,0)
MAGJMN3 ;WIRMFO/JHC VRad Maint functions ; 10 Jun 2005  2:39 PM
"RTN","MAGJMN3",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJMN3",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJMN3",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJMN3",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJMN3",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJMN3",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJMN3",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJMN3",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJMN3",10,0)
 ;; |                                                               |
"RTN","MAGJMN3",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJMN3",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJMN3",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJMN3",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJMN3",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJMN3",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJMN3",17,0)
 ;;
"RTN","MAGJMN3",18,0)
 Q
"RTN","MAGJMN3",19,0)
 ;
"RTN","MAGJMN3",20,0)
YN(MSG,DFLT) ; get Yes/No reply
"RTN","MAGJMN3",21,0)
 N X I $G(DFLT)="" S DFLT="N"
"RTN","MAGJMN3",22,0)
 W !
"RTN","MAGJMN3",23,0)
 S DFLT=$E(DFLT),DFLT=$S(DFLT="N":"NO",1:"YES")
"RTN","MAGJMN3",24,0)
YN1 W !,MSG_" "_DFLT_"// "
"RTN","MAGJMN3",25,0)
 R X:DTIME S:X="" X=DFLT S X=$E(X),X=$TR(X,"ynYN","YNYN")
"RTN","MAGJMN3",26,0)
 I "YN"'[X W "  ??? Enter YES or NO",! G YN1
"RTN","MAGJMN3",27,0)
 Q X
"RTN","MAGJMN3",28,0)
 ;
"RTN","MAGJMN3",29,0)
EECPT ;Enter/Edit CPT MATCHING SET
"RTN","MAGJMN3",30,0)
 W @IOF,!!?10,"** Enter/Edit VistARad RAD CPT MATCHING CPT CODE **",!!
"RTN","MAGJMN3",31,0)
 N MAGIEN
"RTN","MAGJMN3",32,0)
 K DIC S (DIC,DLAYGO)=2006.67,DIC(0)="ALMEQN"
"RTN","MAGJMN3",33,0)
 D ^DIC I Y=-1 K DIC,DIE,DR,DLAYGO Q
"RTN","MAGJMN3",34,0)
 S DIE=2006.67,DA=+Y,DR="1;3;4;5"
"RTN","MAGJMN3",35,0)
 S MAGIEN=DA
"RTN","MAGJMN3",36,0)
 D ^DIE I '$D(DA) G EECPT
"RTN","MAGJMN3",37,0)
 G EECPT
"RTN","MAGJMN3",38,0)
 Q
"RTN","MAGJMN3",39,0)
INCPT ; Inquire MAG RAD CPT MATCHING
"RTN","MAGJMN3",40,0)
 W @IOF,!!?10,"** Inquire VistARad CPT MATCHING CPT CODE **",!!
"RTN","MAGJMN3",41,0)
 N MAGIEN,BY,FR,TO
"RTN","MAGJMN3",42,0)
 S DIC=2006.67,DIC(0)="AMEQ"
"RTN","MAGJMN3",43,0)
 D ^DIC I Y=-1 K DIC Q
"RTN","MAGJMN3",44,0)
 S DA=+Y,(FR,TO)=$P(Y,U,2),MAGIEN=DA,L=0
"RTN","MAGJMN3",45,0)
 S BY="#.01",DIS(0)="I D0=MAGIEN"
"RTN","MAGJMN3",46,0)
 D EN^DIP
"RTN","MAGJMN3",47,0)
 R !,"Enter RETURN to continue: ",X:DTIME W !
"RTN","MAGJMN3",48,0)
 G INCPT
"RTN","MAGJMN3",49,0)
 Q
"RTN","MAGJMN3",50,0)
PRCPT ;Print MAG RAD CPT MATCHING LOGIC
"RTN","MAGJMN3",51,0)
 N FLDS
"RTN","MAGJMN3",52,0)
 W @IOF,!!?10,"** Print VistARad CPT MATCHING CPT CODE **",!!
"RTN","MAGJMN3",53,0)
 W !! S DIC=2006.67,L=0,FLDS="[MAGJ CPT MATCH PRT]"
"RTN","MAGJMN3",54,0)
 D EN1^DIP
"RTN","MAGJMN3",55,0)
 R !,"Enter RETURN to continue: ",X:DTIME W !
"RTN","MAGJMN3",56,0)
 Q
"RTN","MAGJMN3",57,0)
 ;
"RTN","MAGJMN3",58,0)
END ;
"RTN","MAGJORD")
0^38^B15807449
"RTN","MAGJORD",1,0)
MAGJORD ;WIRMFO/JHC-Display Rad Exam Order info ; 29 Jul 2003  10:02 AM
"RTN","MAGJORD",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJORD",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJORD",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJORD",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJORD",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJORD",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJORD",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJORD",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJORD",10,0)
 ;; |                                                               |
"RTN","MAGJORD",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJORD",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJORD",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJORD",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJORD",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJORD",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJORD",17,0)
 ;;
"RTN","MAGJORD",18,0)
 Q
"RTN","MAGJORD",19,0)
ORD(MAGRPTY,DATA) ; Radiology Order Display
"RTN","MAGJORD",20,0)
 ; RPC Call: MAGJ RADORDERDISP
"RTN","MAGJORD",21,0)
 ; MAGRPTY holds indirect reference to returned data
"RTN","MAGJORD",22,0)
 ; 
"RTN","MAGJORD",23,0)
 S MAGRPTY=$NA(^TMP($J,"WSDAT")) K @MAGRPTY
"RTN","MAGJORD",24,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERRA^MAGJORD"
"RTN","MAGJORD",25,0)
 N RARPT,RADFN,RADTI,RACNI,RAPGE,RAX,RAOIFN
"RTN","MAGJORD",26,0)
 N REPLY,POP,DFN,COMPLIC,XX,HDR,MAGRET,REQONLY
"RTN","MAGJORD",27,0)
 S REPLY="0^4~Attempting to display order info"
"RTN","MAGJORD",28,0)
 D OPENDEV
"RTN","MAGJORD",29,0)
 I POP S REPLY="0^4~Unable to open device 'IMAGING WORKSTATION'" G ORDZ
"RTN","MAGJORD",30,0)
 S RADFN=$P(DATA,U),RADTI=$P(DATA,U,2),RACNI=$P(DATA,U,3)
"RTN","MAGJORD",31,0)
 S RARPT=+$P(DATA,U,4),REQONLY=+$P(DATA,U,1,5)
"RTN","MAGJORD",32,0)
 I RADFN,RADTI,RACNI
"RTN","MAGJORD",33,0)
 E  S REPLY="0^4~Request Contains Invalid Case Pointer ("_RADFN_" "_RADTI_" "_RACNI_" "_RARPT_")." G ORDZ
"RTN","MAGJORD",34,0)
 S RAOIFN=$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0)),U,11)
"RTN","MAGJORD",35,0)
 I RAOIFN,$D(^RAO(75.1,RAOIFN,0))
"RTN","MAGJORD",36,0)
 E  S REPLY="0^2~Order Information is NOT Available for this exam." G ORDZ
"RTN","MAGJORD",37,0)
 ; Check for Database integrity problems ONLY if Req was explicitly
"RTN","MAGJORD",38,0)
 ; requested (No check for Auto_Display of Req, cuz Exam Open does ck)
"RTN","MAGJORD",39,0)
 D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,"",.MAGRET)
"RTN","MAGJORD",40,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1)),XX=$G(^(2)),HDR=""
"RTN","MAGJORD",41,0)
 S COMPLIC=$P(XX,U,4)      ;  Complications text
"RTN","MAGJORD",42,0)
 F I=4,12,9 S HDR=HDR_$P(RADATA,U,I)_"   " ; PtName, Case #, Procedure
"RTN","MAGJORD",43,0)
 I REQONLY D CKINTEG^MAGJRPT(.REPLY,RADFN,RADTI,RACNI,RARPT,RADATA) I REPLY]"" S REPLY="0^7~"_REPLY G ORDZ  ; Database integrity problems
"RTN","MAGJORD",44,0)
 S RAX="",RAPGE=0 D ^RAORD5
"RTN","MAGJORD",45,0)
 D:IO'=IO(0) ^%ZISC
"RTN","MAGJORD",46,0)
 S @MAGRPTY@(1)="REQ: "_HDR
"RTN","MAGJORD",47,0)
 D COMMENTS(RADFN,RADTI,RACNI,MAGRPTY,2,COMPLIC)
"RTN","MAGJORD",48,0)
 S REPLY="1^OK"
"RTN","MAGJORD",49,0)
 K ^TMP($J,"MAGRAEX")
"RTN","MAGJORD",50,0)
ORDZ S @MAGRPTY@(0)=REPLY
"RTN","MAGJORD",51,0)
 Q
"RTN","MAGJORD",52,0)
 ;
"RTN","MAGJORD",53,0)
COMMENTS(RADFN,RADTI,RACNI,MAGRPTY,DNODE,COMPLIC) ; add Complications & Tech Comments to output report
"RTN","MAGJORD",54,0)
 ;  also called by Rad Report display (magjlst1)
"RTN","MAGJORD",55,0)
 ;  RADFN, RADTI, & RACNI identify exam
"RTN","MAGJORD",56,0)
 ;  MAGRPTY is indirect reference wher output lines are to be stored
"RTN","MAGJORD",57,0)
 ;  DNODE holds reference for starting node for lines of output
"RTN","MAGJORD",58,0)
 ;  COMPLIC passes in complications data reference
"RTN","MAGJORD",59,0)
 ;
"RTN","MAGJORD",60,0)
 I +MAGJOB("USER",1)  ; Radiologist
"RTN","MAGJORD",61,0)
 E  I $D(^VA(200,"ARC","T",+DUZ))  ; Rad Tech
"RTN","MAGJORD",62,0)
 E  Q  ; Don't display for any other user type
"RTN","MAGJORD",63,0)
 N QTMP,CT,XX S CT=0
"RTN","MAGJORD",64,0)
 S @MAGRPTY@(DNODE)=" ",CT=CT+.01,@MAGRPTY@(DNODE+CT)="Complications: "_$S(COMPLIC:$P($G(^RA(78.1,+COMPLIC,0)),U),1:"")
"RTN","MAGJORD",65,0)
 S X=$P(COMPLIC,"~",2)
"RTN","MAGJORD",66,0)
 I X S CT=CT+.01,@MAGRPTY@(DNODE+CT)="   "_$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"COMP")),U)
"RTN","MAGJORD",67,0)
 K ^TMP($J,"RAE2") D SVTCOM^RAUTL11(RADFN,RADTI,RACNI)
"RTN","MAGJORD",68,0)
 S QTMP="^TMP($J,""RAE2"")"
"RTN","MAGJORD",69,0)
 F  S QTMP=$Q(@QTMP) Q:QTMP=""  Q:QTMP'["RAE2"  I QTMP["TCOM" D
"RTN","MAGJORD",70,0)
 . S XX=@(QTMP) N HI,TXT,LINE1 S LINE1=0
"RTN","MAGJORD",71,0)
 . F  Q:XX=""  S HI=$L(XX) S:HI>63 HI=63 F I=HI:-1:0 S:'I XX="" I HI<63!($E(XX,I)=" ") D  Q
"RTN","MAGJORD",72,0)
 .. S TXT=$S('LINE1:"Tech Comments: ",1:"               ")_$E(XX,1,I),XX=$E(XX,I+1,999),LINE1=1
"RTN","MAGJORD",73,0)
 .. I XX]"" F I=1:1:999 I $E(XX,I)'=" " S XX=$E(XX,I,999) Q
"RTN","MAGJORD",74,0)
 .. S CT=CT+.01,@MAGRPTY@(DNODE+CT)=TXT
"RTN","MAGJORD",75,0)
 K ^TMP($J,"RAE2")
"RTN","MAGJORD",76,0)
 Q
"RTN","MAGJORD",77,0)
 ;
"RTN","MAGJORD",78,0)
OPENDEV ;
"RTN","MAGJORD",79,0)
 S IOP="IMAGING WORKSTATION",%ZIS=0 D ^%ZIS
"RTN","MAGJORD",80,0)
 I POP
"RTN","MAGJORD",81,0)
 E  U IO
"RTN","MAGJORD",82,0)
 Q
"RTN","MAGJORD",83,0)
ERRA ;
"RTN","MAGJORD",84,0)
 S @MAGRPTY@(0)="0^ERROR "_$$EC^%ZOSV
"RTN","MAGJORD",85,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJORD",86,0)
 Q:$Q 1  Q
"RTN","MAGJORD",87,0)
END ;
"RTN","MAGJPRF1")
0^20^B77283408
"RTN","MAGJPRF1",1,0)
MAGJPRF1 ;WIRMFO/JHC VistaRad RPCs-User Prefs ; 05 May 2004  10:05 AM
"RTN","MAGJPRF1",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJPRF1",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJPRF1",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJPRF1",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJPRF1",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJPRF1",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJPRF1",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJPRF1",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJPRF1",10,0)
 ;; |                                                               |
"RTN","MAGJPRF1",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJPRF1",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJPRF1",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJPRF1",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJPRF1",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJPRF1",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJPRF1",17,0)
 ;;
"RTN","MAGJPRF1",18,0)
 Q
"RTN","MAGJPRF1",19,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR
"RTN","MAGJPRF1",20,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJPRF1",21,0)
 Q:$Q 1  Q
"RTN","MAGJPRF1",22,0)
 ;
"RTN","MAGJPRF1",23,0)
RPCIN(MAGGRY,PARAMS,DATA) ; RPC: MAGJ USER DATA
"RTN","MAGJPRF1",24,0)
 ;PARAMS: TXID ^ SYSUPDAT ^ TXDUZ ^ TXDIV
"RTN","MAGJPRF1",25,0)
 ;TXID: Req'd--action to take; see below
"RTN","MAGJPRF1",26,0)
 ;TXDUZ: Opt; if input, get data for another user
"RTN","MAGJPRF1",27,0)
 ;TXDIV: Opt; if input, get data for another div
"RTN","MAGJPRF1",28,0)
 ;SYSUPDAT: Opt; if input, save Sys Default data; Sec Key Req'd
"RTN","MAGJPRF1",29,0)
 ; DATA--(opt) input array; depends on TXID; see subs by TXID
"RTN","MAGJPRF1",30,0)
 ;Pattern for DATA input & reply is:
"RTN","MAGJPRF1",31,0)
 ;*LABEL ; Start for one label
"RTN","MAGJPRF1",32,0)
 ;Label_Name     ; label name
"RTN","MAGJPRF1",33,0)
 ;(1:N lines of XML text follow)
"RTN","MAGJPRF1",34,0)
 ;*END           ; end for label
"RTN","MAGJPRF1",35,0)
 ;*LABEL ; Start for next label (etc.)
"RTN","MAGJPRF1",36,0)
 ;Label_Name_2
"RTN","MAGJPRF1",37,0)
 ;*KEY           ; index keys to follow (KEY data is opt)
"RTN","MAGJPRF1",38,0)
 ;KeyNam1=nnn     ; 1st key (free-text)
"RTN","MAGJPRF1",39,0)
 ;KeyNam2=jjj    ; 2nd key (etc.)
"RTN","MAGJPRF1",40,0)
 ;*END_KEY       ; end of keys
"RTN","MAGJPRF1",41,0)
 ; (1:N lines of XML text follow)
"RTN","MAGJPRF1",42,0)
 ;*END           ; end for label
"RTN","MAGJPRF1",43,0)
 ;
"RTN","MAGJPRF1",44,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJPRF1"
"RTN","MAGJPRF1",45,0)
 N GPREF,MAGLST,PREFIEN,REPLY,TXTYPE,PDIV,TXDUZ,TXID,TXDIV,READONLY,SYSUPDAT
"RTN","MAGJPRF1",46,0)
 S TXID=+PARAMS,SYSUPDAT=+$P(PARAMS,U,2),TXDUZ=$P(PARAMS,U,3),TXDIV=+$P(PARAMS,U,4)
"RTN","MAGJPRF1",47,0)
 S MAGLST="MAGJRPC" K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY
"RTN","MAGJPRF1",48,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJPRF1",49,0)
 ; no updates allowed if read another user's data, or get data for another logon division
"RTN","MAGJPRF1",50,0)
 I 'TXDUZ,(TXDUZ="sysAdmin") S TXDUZ=$$SYSUSER()
"RTN","MAGJPRF1",51,0)
 I 'TXDUZ S TXDUZ=DUZ
"RTN","MAGJPRF1",52,0)
 I 'TXDIV S TXDIV=DUZ(2)
"RTN","MAGJPRF1",53,0)
 S READONLY=(TXDUZ'=DUZ)
"RTN","MAGJPRF1",54,0)
 ; I 'READONLY S READONLY=(TXDIV'=DUZ(2)) ; <*> ?? Put this check inside Div-sensitive operations <*>
"RTN","MAGJPRF1",55,0)
 I READONLY,$D(MAGJOB("KEYS","MAGJ SYSTEM USER")),SYSUPDAT,(TXDUZ=$$SYSUSER()) S READONLY=0 ; get/update SysDefault data
"RTN","MAGJPRF1",56,0)
 S PREFIEN=$$GETPRIEN(TXDUZ,READONLY)
"RTN","MAGJPRF1",57,0)
 I 'PREFIEN S REPLY="0~Unable to get/update user data ("_$$USER(TXDUZ)_") for MAGJ USER DATA rpc call." G RPCINZ
"RTN","MAGJPRF1",58,0)
 ; set this level based on the TXID
"RTN","MAGJPRF1",59,0)
 S TXID=+$G(TXID)
"RTN","MAGJPRF1",60,0)
 ;
"RTN","MAGJPRF1",61,0)
 S TXTYPE="VR-WS",GPREF=$NA(^MAG(2006.68,PREFIEN,TXTYPE)),PDIV=""
"RTN","MAGJPRF1",62,0)
 ; workstation settings, user preferences, etc.
"RTN","MAGJPRF1",63,0)
 I TXID=1 G:'READONLY SAVE S REPLY="Access for updating preferences denied." G RPCINZ  ; Store prefs by label
"RTN","MAGJPRF1",64,0)
 I TXID=2 G TAGS    ; Get Labels w/ assoc. Keys
"RTN","MAGJPRF1",65,0)
 I TXID=3 G PRFDATA ; Get pref data for labels
"RTN","MAGJPRF1",66,0)
 I TXID=4 G:'READONLY TAGDEL S REPLY="Access for deleting preferences denied." G RPCINZ  ; Delete labels
"RTN","MAGJPRF1",67,0)
 I TXID=6 G USERS  ; Get list of vrad users, including SysAdmin
"RTN","MAGJPRF1",68,0)
 ; 
"RTN","MAGJPRF1",69,0)
 S TXTYPE="VR-HP",GPREF=$NA(^MAG(2006.68,PREFIEN,TXTYPE)),PDIV=""  ; Hanging Protocols
"RTN","MAGJPRF1",70,0)
 I TXID=11 G:'READONLY SAVE S REPLY="Access for updating Hanging Protocols denied." G RPCINZ  ; Store HP by label
"RTN","MAGJPRF1",71,0)
 I TXID=12 G TAGS    ; Get HP Labels
"RTN","MAGJPRF1",72,0)
 I TXID=13 G PRFDATA ; Get data for HP labels
"RTN","MAGJPRF1",73,0)
 I TXID=14 G:'READONLY TAGDEL S REPLY="Access for deleting Hanging Protocol denied." G RPCINZ  ; Delete HP labels
"RTN","MAGJPRF1",74,0)
 ; 
"RTN","MAGJPRF1",75,0)
 E  S REPLY="0~Invalid transaction (TX="_TXID_") requested by MAGJ USER DATA rpc call."
"RTN","MAGJPRF1",76,0)
RPCINZ S @MAGGRY@(0)=0_U_REPLY
"RTN","MAGJPRF1",77,0)
 Q
"RTN","MAGJPRF1",78,0)
 ;
"RTN","MAGJPRF1",79,0)
GETPRIEN(DUZ,READONLY) ; Lookup/create User Pref entry for input DUZ
"RTN","MAGJPRF1",80,0)
 ; READONLY: True for lookup-only (no create)
"RTN","MAGJPRF1",81,0)
 N T,X,PREFIEN
"RTN","MAGJPRF1",82,0)
 S PREFIEN=$O(^MAG(2006.68,"AC",+DUZ,"")) I 'PREFIEN,'READONLY D
"RTN","MAGJPRF1",83,0)
 . L +^MAG(2006.68,0):10
"RTN","MAGJPRF1",84,0)
 . E  Q
"RTN","MAGJPRF1",85,0)
 . S X=$G(^MAG(2006.68,0))
"RTN","MAGJPRF1",86,0)
 . S PREFIEN=+$P(X,U,3)
"RTN","MAGJPRF1",87,0)
 . F  S PREFIEN=PREFIEN+1 I '$D(^MAG(2006.68,PREFIEN)) Q
"RTN","MAGJPRF1",88,0)
 . S T=$P(X,U,4)+1,$P(X,U,3)=PREFIEN,$P(X,U,4)=T
"RTN","MAGJPRF1",89,0)
 . S ^MAG(2006.68,0)=X
"RTN","MAGJPRF1",90,0)
 . S T=$$USER(+DUZ),^MAG(2006.68,PREFIEN,0)=$P(T,U)_U_+DUZ_U_$P(T,U,3)
"RTN","MAGJPRF1",91,0)
 . S ^MAG(2006.68,"B",$P(T,U),PREFIEN)=""
"RTN","MAGJPRF1",92,0)
 . S ^MAG(2006.68,"AC",+DUZ,PREFIEN)=""
"RTN","MAGJPRF1",93,0)
 . L -^MAG(2006.68,0)
"RTN","MAGJPRF1",94,0)
 Q PREFIEN
"RTN","MAGJPRF1",95,0)
 ;
"RTN","MAGJPRF1",96,0)
SAVE ;  Save User Pref data by Label
"RTN","MAGJPRF1",97,0)
 N NEWTAG,STUFF,LINCT,LBLCT,DUMMY,KEYS
"RTN","MAGJPRF1",98,0)
 S NEWTAG=0,STUFF=0,LINCT=0,LBLCT=0,DUMMY=0,KEYS=0
"RTN","MAGJPRF1",99,0)
 S IDATA=""
"RTN","MAGJPRF1",100,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  S LINE=DATA(IDATA) I LINE]"" D
"RTN","MAGJPRF1",101,0)
 . I LINE="*LABEL" S NEWTAG=1,STUFF=0 Q
"RTN","MAGJPRF1",102,0)
 . I LINE="*END" S NEWTAG=0,STUFF=0 Q
"RTN","MAGJPRF1",103,0)
 . I NEWTAG S TAG=LINE D TAGINIT(TAG) Q  ; Init the storage for this tag
"RTN","MAGJPRF1",104,0)
 . I 'STUFF S TAG="*DUM" D TAGINIT(TAG) ; got text line w/out prior label; init dummy tag
"RTN","MAGJPRF1",105,0)
 . S TAGCT=TAGCT+1,@GPREF@(TAGIEN,1,TAGCT,0)=LINE,LINCT=LINCT+1
"RTN","MAGJPRF1",106,0)
 . S $P(@GPREF@(TAGIEN,1,0),U,3,4)=TAGCT_U_TAGCT
"RTN","MAGJPRF1",107,0)
 . I TAG="*DUM" S LINCT=LINCT-1 ; don't count dummy lines/labels
"RTN","MAGJPRF1",108,0)
 . I LINE="*KEY" S KEYS=1
"RTN","MAGJPRF1",109,0)
 . I KEYS D
"RTN","MAGJPRF1",110,0)
 . . S KEYCT=+$P($G(@GPREF@(TAGIEN,2,0)),U,4)+1,^(0)="^2006.6823^"_KEYCT_U_KEYCT
"RTN","MAGJPRF1",111,0)
 . . S @GPREF@(TAGIEN,2,KEYCT,0)=LINE
"RTN","MAGJPRF1",112,0)
 . I LINE="*END_KEY" S KEYS=0
"RTN","MAGJPRF1",113,0)
SAVEZ  I LINCT S REPLY=1_"~"_LINCT_" Text line"_$S(LINCT-1:"s",1:"")_" were stored for "_LBLCT_" label"_$S(LBLCT-1:"s.",1:".")
"RTN","MAGJPRF1",114,0)
 E  S REPLY="0~No data was stored."
"RTN","MAGJPRF1",115,0)
 S @MAGGRY@(0)=0_U_REPLY
"RTN","MAGJPRF1",116,0)
 I DUMMY ; n/a
"RTN","MAGJPRF1",117,0)
 Q
"RTN","MAGJPRF1",118,0)
TAGINIT(TAG) ; Init storage space for a tag; inits some vars for SAVE
"RTN","MAGJPRF1",119,0)
 N TAGCTRL
"RTN","MAGJPRF1",120,0)
 I PDIV,(TAG'="*DUM") S TAG=PDIV_"*DIV*"_TAG ; tags tracked by division
"RTN","MAGJPRF1",121,0)
 S TAGIEN=$O(@GPREF@("B",TAG,"")) I 'TAGIEN D  ; for new tag, create a new LABEL node,
"RTN","MAGJPRF1",122,0)
 . L +@GPREF@(0):10
"RTN","MAGJPRF1",123,0)
 . E  Q
"RTN","MAGJPRF1",124,0)
 . S X=$G(@GPREF@(0)) S:X="" X="^2006.682A^0^0"
"RTN","MAGJPRF1",125,0)
 . S TAGIEN=$P(X,U,3)
"RTN","MAGJPRF1",126,0)
 . F  S TAGIEN=TAGIEN+1 I '$D(@GPREF@(TAGIEN)) Q
"RTN","MAGJPRF1",127,0)
 . S T=$P(X,U,4)+1,$P(X,U,3)=TAGIEN,$P(X,U,4)=T
"RTN","MAGJPRF1",128,0)
 . S @GPREF@(0)=X,@GPREF@("B",TAG,TAGIEN)=""
"RTN","MAGJPRF1",129,0)
 . L -@GPREF@(0)
"RTN","MAGJPRF1",130,0)
 . S $P(@GPREF@(TAGIEN,0),U)=TAG
"RTN","MAGJPRF1",131,0)
 I TAG'="*DUM"!((TAG="*DUM")&'DUMMY) D
"RTN","MAGJPRF1",132,0)
 . S TAGCTRL=$G(@GPREF@(TAGIEN,1,0)) K @GPREF@(TAGIEN,1),^(2) ; init Data & Keys
"RTN","MAGJPRF1",133,0)
 . S $P(TAGCTRL,U,2)=2006.6821,$P(TAGCTRL,U,3,4)=0_U_0
"RTN","MAGJPRF1",134,0)
 . S @GPREF@(TAGIEN,1,0)=TAGCTRL
"RTN","MAGJPRF1",135,0)
 . S TAGCT=0,LBLCT=LBLCT+1
"RTN","MAGJPRF1",136,0)
 I TAG="*DUM" S TAGCT=+$P(@GPREF@(TAGIEN,1,0),U,3),LBLCT=LBLCT-'DUMMY,DUMMY=1 ; don't count dummy label
"RTN","MAGJPRF1",137,0)
 S NEWTAG=0,STUFF=1
"RTN","MAGJPRF1",138,0)
 Q
"RTN","MAGJPRF1",139,0)
 ;
"RTN","MAGJPRF1",140,0)
TAGS ; return list of tags stored
"RTN","MAGJPRF1",141,0)
 ; don't report *DUM tags
"RTN","MAGJPRF1",142,0)
 N TAG,CT,OTAG,TAGCT,TAGIEN
"RTN","MAGJPRF1",143,0)
 S TAG=0,CT=0,TAGCT=0
"RTN","MAGJPRF1",144,0)
 F  S TAG=$O(@GPREF@("B",TAG)) Q:TAG=""  S TAGIEN=$O(^(TAG,"")) I TAG'="*DUM" D
"RTN","MAGJPRF1",145,0)
 . I PDIV Q:PDIV'=+TAG  S OTAG=$P(TAG,"*DIV*",2,99)
"RTN","MAGJPRF1",146,0)
 . E  S OTAG=TAG
"RTN","MAGJPRF1",147,0)
 . S CT=CT+1,@MAGGRY@(CT)=OTAG,TAGCT=TAGCT+1
"RTN","MAGJPRF1",148,0)
 . I $D(@GPREF@(TAGIEN,2)) S KEYCT=0 D
"RTN","MAGJPRF1",149,0)
 . . F  S KEYCT=$O(@GPREF@(TAGIEN,2,KEYCT)) Q:'KEYCT  S X=^(KEYCT,0),CT=CT+1,@MAGGRY@(CT)=X
"RTN","MAGJPRF1",150,0)
 I TAGCT S REPLY=1_"~"_TAGCT_" tag"_$S(TAGCT-1:"s",1:"")_" returned."
"RTN","MAGJPRF1",151,0)
 E  S REPLY="0~No data found."
"RTN","MAGJPRF1",152,0)
TAGSZ S @MAGGRY@(0)=CT_U_REPLY
"RTN","MAGJPRF1",153,0)
 Q
"RTN","MAGJPRF1",154,0)
 ;
"RTN","MAGJPRF1",155,0)
SYSUSER(X) ; get System user DUZ value
"RTN","MAGJPRF1",156,0)
 S X=.5 ; =Postmaster
"RTN","MAGJPRF1",157,0)
 Q:$Q X Q
"RTN","MAGJPRF1",158,0)
 ;
"RTN","MAGJPRF1",159,0)
USER(DUZ) ; get user name, initials & vrad user type
"RTN","MAGJPRF1",160,0)
 N RSL,X S RSL=DUZ
"RTN","MAGJPRF1",161,0)
 I DUZ=$$SYSUSER() S RSL="sysAdmin^SYS^9"
"RTN","MAGJPRF1",162,0)
 E  I DUZ D
"RTN","MAGJPRF1",163,0)
 . S RSL=$$USERINF^MAGJUTL3(DUZ,".01;1")
"RTN","MAGJPRF1",164,0)
 . F X="S","R","T" I $D(^VA(200,"ARC",X,DUZ)) Q
"RTN","MAGJPRF1",165,0)
 . I  S X=$S(X="S":3,X="R":2,X="T":1,1:0)
"RTN","MAGJPRF1",166,0)
 . E  S X=0
"RTN","MAGJPRF1",167,0)
 . S RSL=RSL_U_X
"RTN","MAGJPRF1",168,0)
 Q:$Q RSL Q
"RTN","MAGJPRF1",169,0)
 ;
"RTN","MAGJPRF1",170,0)
USERS ; return list of users stored -- Sort: System User/Radiologists/Non-Rists
"RTN","MAGJPRF1",171,0)
 ; DUZ ^ FULL NAME ^ INITIALS ^ USER TYPE
"RTN","MAGJPRF1",172,0)
 N CT,IEN,INIT,NAME,TOUT,USERTYP
"RTN","MAGJPRF1",173,0)
 S IEN=0,CT=0
"RTN","MAGJPRF1",174,0)
 F  S IEN=$O(^MAG(2006.68,IEN)) Q:'IEN  S X=^(IEN,0) D
"RTN","MAGJPRF1",175,0)
 .  S USERDUZ=$P(X,U,2)
"RTN","MAGJPRF1",176,0)
 .  S X=$$USER(USERDUZ),NAME=$P(X,U),INIT=$P(X,U,2),USERTYP=$P(X,U,3)
"RTN","MAGJPRF1",177,0)
 .  I NAME="" S NAME="~"
"RTN","MAGJPRF1",178,0)
 .  S TOUT(-USERTYP,NAME,USERDUZ)=INIT
"RTN","MAGJPRF1",179,0)
 S USERTYP="" F  S USERTYP=$O(TOUT(USERTYP)) Q:USERTYP=""  S NAME="" D
"RTN","MAGJPRF1",180,0)
 . F  S NAME=$O(TOUT(USERTYP,NAME)) Q:NAME=""  S USERDUZ="" D
"RTN","MAGJPRF1",181,0)
 . . F  S USERDUZ=$O(TOUT(USERTYP,NAME,USERDUZ)) Q:'USERDUZ  D
"RTN","MAGJPRF1",182,0)
 . . . S CT=CT+1,@MAGGRY@(CT)=USERDUZ_U_NAME_U_TOUT(USERTYP,NAME,USERDUZ)_U_-USERTYP
"RTN","MAGJPRF1",183,0)
 I CT S REPLY=1_"~"_CT_" user"_$S(CT-1:"s",1:"")_" returned."
"RTN","MAGJPRF1",184,0)
 E  S REPLY="0~No data found."
"RTN","MAGJPRF1",185,0)
USERSZ ;
"RTN","MAGJPRF1",186,0)
 S @MAGGRY@(0)=CT_U_REPLY
"RTN","MAGJPRF1",187,0)
 Q
"RTN","MAGJPRF1",188,0)
 ; 
"RTN","MAGJPRF1",189,0)
PRFDATA ; RETURN data stored for input Labels
"RTN","MAGJPRF1",190,0)
 N TAGS,IDATA,CT,NTAGS,LINCT,OTAG,TAG,TAGCT,TAGIEN,X
"RTN","MAGJPRF1",191,0)
 S IDATA="",CT=0,NTAGS=0,LINCT=0
"RTN","MAGJPRF1",192,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  S TAG=DATA(IDATA) I TAG]"" D
"RTN","MAGJPRF1",193,0)
 . I PDIV,(TAG'="*DUM") S TAG=PDIV_"*DIV*"_TAG ; tags tracked by div
"RTN","MAGJPRF1",194,0)
 . S TAGS(TAG)=""
"RTN","MAGJPRF1",195,0)
 S TAG=0
"RTN","MAGJPRF1",196,0)
 F  S TAG=$O(TAGS(TAG)) Q:TAG=""  S TAGIEN=$O(@GPREF@("B",TAG,"")),NTAGS=NTAGS+1 D
"RTN","MAGJPRF1",197,0)
 . S OTAG=TAG I PDIV S OTAG=$P(TAG,"*DIV*",2,99)
"RTN","MAGJPRF1",198,0)
 . S CT=CT+1,@MAGGRY@(CT)="*LABEL",CT=CT+1,@MAGGRY@(CT)=OTAG I TAGIEN S TAGCT=0 D
"RTN","MAGJPRF1",199,0)
 . . F  S TAGCT=$O(@GPREF@(TAGIEN,1,TAGCT)) Q:'TAGCT  S X=^(TAGCT,0),CT=CT+1,@MAGGRY@(CT)=X,LINCT=LINCT+1
"RTN","MAGJPRF1",200,0)
 . S CT=CT+1,@MAGGRY@(CT)="*END"
"RTN","MAGJPRF1",201,0)
 I CT S REPLY=1_"~"_LINCT_" Text line"_$S(LINCT-1:"s",1:"")_" returned for "_NTAGS_" tags."
"RTN","MAGJPRF1",202,0)
 E  S REPLY="0~No data found."
"RTN","MAGJPRF1",203,0)
PRFZ S @MAGGRY@(0)=CT_U_REPLY
"RTN","MAGJPRF1",204,0)
 Q
"RTN","MAGJPRF1",205,0)
 ;
"RTN","MAGJPRF1",206,0)
TAGDEL ; Delete tags and assoc data
"RTN","MAGJPRF1",207,0)
 I READONLY S REPLY="0~No tags deleted; read-only access permitted." G TAGDELZ
"RTN","MAGJPRF1",208,0)
 N TAG,CT,IDATA,TAG,TAGIEN,ERR
"RTN","MAGJPRF1",209,0)
 S TAG=0,CT=0,IDATA="",ERR=""
"RTN","MAGJPRF1",210,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  S TAG=DATA(IDATA) I TAG]"" D
"RTN","MAGJPRF1",211,0)
 . I PDIV,(TAG'="*DUM") S TAG=PDIV_"*DIV*"_TAG ; tags tracked by div
"RTN","MAGJPRF1",212,0)
 . S TAGIEN=$O(@GPREF@("B",TAG,"")) I TAGIEN D
"RTN","MAGJPRF1",213,0)
 . . L +@GPREF@(0):10
"RTN","MAGJPRF1",214,0)
 . . E  S ERR="0~Unable to perform Delete operation." Q
"RTN","MAGJPRF1",215,0)
 . . K @GPREF@(TAGIEN),@GPREF@("B",TAG)
"RTN","MAGJPRF1",216,0)
 . . S X=$G(@GPREF@(0),"^2006.682A^0^0") S T=+$P(X,U,4) S:T T=T-1 S $P(X,U,4)=T,^(0)=X
"RTN","MAGJPRF1",217,0)
 . . L -@GPREF@(0)
"RTN","MAGJPRF1",218,0)
 . . S CT=CT+1
"RTN","MAGJPRF1",219,0)
 I CT S REPLY=1_"~"_CT_" label"_$S(CT-1:"s",1:"")_" deleted."
"RTN","MAGJPRF1",220,0)
 E  S REPLY=$S(ERR]"":ERR,1:"0~No label data found.")
"RTN","MAGJPRF1",221,0)
TAGDELZ S @MAGGRY@(0)=0_U_REPLY
"RTN","MAGJPRF1",222,0)
 Q
"RTN","MAGJPRF1",223,0)
 ;
"RTN","MAGJPRF1",224,0)
END ;
"RTN","MAGJRPT")
0^28^B68077389
"RTN","MAGJRPT",1,0)
MAGJRPT ;WIRMFO/JHC-Display Rad reports ; 15 OCT 2004  10:02 AM
"RTN","MAGJRPT",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJRPT",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJRPT",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJRPT",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJRPT",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJRPT",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJRPT",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJRPT",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJRPT",10,0)
 ;; |                                                               |
"RTN","MAGJRPT",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJRPT",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJRPT",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJRPT",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJRPT",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJRPT",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJRPT",17,0)
 ;;
"RTN","MAGJRPT",18,0)
 ; Subroutines for fetching Exam Info for VistaRad Workstation
"RTN","MAGJRPT",19,0)
 ;   RADRPT: Display Radiology Report -- RPC Call: MAGJ EXAM REPORT
"RTN","MAGJRPT",20,0)
 ;        ORD: Display Radiology Requisition -- RPC Call: MAGJ RADORDERDISP
"RTN","MAGJRPT",21,0)
 ;
"RTN","MAGJRPT",22,0)
 Q
"RTN","MAGJRPT",23,0)
ORD(MAGRPTY,DATA) ; Radiology Order Display
"RTN","MAGJRPT",24,0)
 ; RPC Call: MAGJ RADORDERDISP
"RTN","MAGJRPT",25,0)
 ; MAGRPTY holds indirect reference to returned data
"RTN","MAGJRPT",26,0)
 ; 
"RTN","MAGJRPT",27,0)
 S MAGRPTY=$NA(^TMP($J,"WSDAT")) K @MAGRPTY
"RTN","MAGJRPT",28,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJRPT"
"RTN","MAGJRPT",29,0)
 N RARPT,RADFN,RADTI,RACNI,RAPGE,RAX,RAOIFN
"RTN","MAGJRPT",30,0)
 N REPLY,POP,DFN,COMPLIC,XX,HDR,MAGRET,REQONLY
"RTN","MAGJRPT",31,0)
 S REPLY="0^4~Attempting to display order info"
"RTN","MAGJRPT",32,0)
 D OPENDEV
"RTN","MAGJRPT",33,0)
 I POP S REPLY="0^4~Unable to open device 'IMAGING WORKSTATION'" G ORDZ
"RTN","MAGJRPT",34,0)
 S RADFN=$P(DATA,U),RADTI=$P(DATA,U,2),RACNI=$P(DATA,U,3)
"RTN","MAGJRPT",35,0)
 S RARPT=+$P(DATA,U,4),REQONLY=+$P(DATA,U,1,5)
"RTN","MAGJRPT",36,0)
 I RADFN,RADTI,RACNI
"RTN","MAGJRPT",37,0)
 E  S REPLY="0^4~Request Contains Invalid Case Pointer ("_RADFN_" "_RADTI_" "_RACNI_" "_RARPT_")." G ORDZ
"RTN","MAGJRPT",38,0)
 S RAOIFN=$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0)),U,11)
"RTN","MAGJRPT",39,0)
 I RAOIFN,$D(^RAO(75.1,RAOIFN,0))
"RTN","MAGJRPT",40,0)
 E  S REPLY="0^2~Order Information is NOT Available for this exam." G ORDZ
"RTN","MAGJRPT",41,0)
 ; Check for Database integrity problems ONLY if Req was explicitly
"RTN","MAGJRPT",42,0)
 ; requested (No check for Auto_Display of Req, cuz Exam Open does ck)
"RTN","MAGJRPT",43,0)
 D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,"",.MAGRET)
"RTN","MAGJRPT",44,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1)),XX=$G(^(2)),HDR=""
"RTN","MAGJRPT",45,0)
 S COMPLIC=$P(XX,U,4)      ;  Complications text
"RTN","MAGJRPT",46,0)
 F I=4,12,9 S HDR=HDR_$P(RADATA,U,I)_"   " ; PtName, Case #, Procedure
"RTN","MAGJRPT",47,0)
 I REQONLY D CKINTEG(.REPLY,RADFN,RADTI,RACNI,RARPT,RADATA) I REPLY]"" S REPLY="0^7~"_REPLY G ORDZ  ; Database integrity problems
"RTN","MAGJRPT",48,0)
 S RAX="",RAPGE=0 D ^RAORD5
"RTN","MAGJRPT",49,0)
 D:IO'=IO(0) ^%ZISC
"RTN","MAGJRPT",50,0)
 S @MAGRPTY@(1)="REQ: "_HDR
"RTN","MAGJRPT",51,0)
 D COMMENTS(RADFN,RADTI,RACNI,MAGRPTY,2,COMPLIC)
"RTN","MAGJRPT",52,0)
 S REPLY="1^OK"
"RTN","MAGJRPT",53,0)
 K ^TMP($J,"MAGRAEX")
"RTN","MAGJRPT",54,0)
ORDZ S @MAGRPTY@(0)=REPLY
"RTN","MAGJRPT",55,0)
 Q
"RTN","MAGJRPT",56,0)
 ;
"RTN","MAGJRPT",57,0)
COMMENTS(RADFN,RADTI,RACNI,MAGRPTY,DNODE,COMPLIC) ; add Complications & Tech Comments to output report
"RTN","MAGJRPT",58,0)
 ;  RADFN, RADTI, & RACNI identify exam
"RTN","MAGJRPT",59,0)
 ;  MAGRPTY is indirect reference wher output lines are to be stored
"RTN","MAGJRPT",60,0)
 ;  DNODE holds reference for starting node for lines of output
"RTN","MAGJRPT",61,0)
 ;  COMPLIC passes in complications data reference
"RTN","MAGJRPT",62,0)
 ;
"RTN","MAGJRPT",63,0)
 I +MAGJOB("USER",1)  ; Radiologist
"RTN","MAGJRPT",64,0)
 E  I $D(^VA(200,"ARC","T",+DUZ))  ; Rad Tech
"RTN","MAGJRPT",65,0)
 E  Q  ; Don't display for any other user type
"RTN","MAGJRPT",66,0)
 N QTMP,CT,XX S CT=0
"RTN","MAGJRPT",67,0)
 S @MAGRPTY@(DNODE)=" ",CT=CT+.01,@MAGRPTY@(DNODE+CT)="Complications: "_$S(COMPLIC:$P($G(^RA(78.1,+COMPLIC,0)),U),1:"")
"RTN","MAGJRPT",68,0)
 S X=$P(COMPLIC,"~",2)
"RTN","MAGJRPT",69,0)
 I X S CT=CT+.01,@MAGRPTY@(DNODE+CT)="   "_$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"COMP")),U)
"RTN","MAGJRPT",70,0)
 K ^TMP($J,"RAE2") D SVTCOM^RAUTL11(RADFN,RADTI,RACNI)
"RTN","MAGJRPT",71,0)
 S QTMP="^TMP($J,""RAE2"")"
"RTN","MAGJRPT",72,0)
 F  S QTMP=$Q(@QTMP) Q:QTMP=""  Q:QTMP'["RAE2"  I QTMP["TCOM" D
"RTN","MAGJRPT",73,0)
 . S XX=@(QTMP) N HI,TXT,LINE1 S LINE1=0
"RTN","MAGJRPT",74,0)
 . F  Q:XX=""  S HI=$L(XX) S:HI>63 HI=63 F I=HI:-1:0 S:'I XX="" I HI<63!($E(XX,I)=" ") D  Q
"RTN","MAGJRPT",75,0)
 .. S TXT=$S('LINE1:"Tech Comments: ",1:"               ")_$E(XX,1,I),XX=$E(XX,I+1,999),LINE1=1
"RTN","MAGJRPT",76,0)
 .. I XX]"" F I=1:1:999 I $E(XX,I)'=" " S XX=$E(XX,I,999) Q
"RTN","MAGJRPT",77,0)
 .. S CT=CT+.01,@MAGRPTY@(DNODE+CT)=TXT
"RTN","MAGJRPT",78,0)
 K ^TMP($J,"RAE2")
"RTN","MAGJRPT",79,0)
 Q
"RTN","MAGJRPT",80,0)
 ;
"RTN","MAGJRPT",81,0)
OPENDEV ;
"RTN","MAGJRPT",82,0)
 N IOP
"RTN","MAGJRPT",83,0)
 S IOP="IMAGING WORKSTATION",%ZIS=0 D ^%ZIS
"RTN","MAGJRPT",84,0)
 I POP
"RTN","MAGJRPT",85,0)
 E  U IO
"RTN","MAGJRPT",86,0)
 Q
"RTN","MAGJRPT",87,0)
 ;
"RTN","MAGJRPT",88,0)
 ;
"RTN","MAGJRPT",89,0)
RADRPT(MAGRPTY,DATA) ; Display rad report; 1st must pass integrity checks
"RTN","MAGJRPT",90,0)
 ; Note: adds an additional line of output for the Report Window header
"RTN","MAGJRPT",91,0)
 ;  RPC is MAGJ EXAM REPORT
"RTN","MAGJRPT",92,0)
 ;
"RTN","MAGJRPT",93,0)
 ; MAGRPTY holds $NA reference to  return message; references to it use subscript indirection
"RTN","MAGJRPT",94,0)
 ;
"RTN","MAGJRPT",95,0)
 S MAGRPTY=$NA(^TMP($J,"WSDAT")) K @MAGRPTY
"RTN","MAGJRPT",96,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJRPT"
"RTN","MAGJRPT",97,0)
 N RARPT,RADATA,MAGDFN,MAGDTI,MAGCNI,X,MAGRET,HDR,REPLY,POP,MAGPRC,COMPLIC
"RTN","MAGJRPT",98,0)
 S MAGDFN=$P(DATA,U),MAGDTI=$P(DATA,U,2),MAGCNI=$P(DATA,U,3),RARPT=+$P(DATA,U,4)
"RTN","MAGJRPT",99,0)
 I '(MAGDFN&MAGDTI&MAGCNI) D  G RPTZ
"RTN","MAGJRPT",100,0)
 . S REPLY="0^4~Request Contains Invalid Case Pointer ("_MAGDFN_" "_MAGDTI_" "_MAGCNI_")."
"RTN","MAGJRPT",101,0)
 D GETEXAM2^MAGJUTL1(MAGDFN,MAGDTI,MAGCNI,"",.MAGRET)
"RTN","MAGJRPT",102,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1)),XX=$G(^(2)),HDR=""
"RTN","MAGJRPT",103,0)
 S COMPLIC=$P(XX,U,4)  ;  Complications text
"RTN","MAGJRPT",104,0)
 F I=4,12,9 S HDR=HDR_$P(RADATA,U,I)_"   "
"RTN","MAGJRPT",105,0)
 D CKINTEG(.REPLY,MAGDFN,MAGDTI,MAGCNI,RARPT,RADATA)
"RTN","MAGJRPT",106,0)
 I REPLY]"" S REPLY="0^7~"_REPLY G RPTZ  ; DB integ problem
"RTN","MAGJRPT",107,0)
 D OPENDEV
"RTN","MAGJRPT",108,0)
 I POP S REPLY="0^4~Unable to open device 'IMAGING WORKSTATION'" G RPTZ
"RTN","MAGJRPT",109,0)
 D EN3^RAO7PC3(MAGDFN_"^"_MAGDTI_"^"_MAGCNI)
"RTN","MAGJRPT",110,0)
 I '$D(^TMP($J,"RAE3")) S REPLY="0^4~No report on file." G RPTZ
"RTN","MAGJRPT",111,0)
 D COMMENTS(MAGDFN,MAGDTI,MAGCNI,MAGRPTY,2,COMPLIC)
"RTN","MAGJRPT",112,0)
 S MAGPRC=$O(^TMP($J,"RAE3",MAGDFN,MAGCNI,"")),I=0
"RTN","MAGJRPT",113,0)
 F  S I=$O(^TMP($J,"RAE3",MAGDFN,MAGCNI,MAGPRC,I)) Q:'I  W !,$G(^TMP($J,"RAE3",MAGDFN,MAGCNI,MAGPRC,I))
"RTN","MAGJRPT",114,0)
 D:IO'=IO(0) ^%ZISC
"RTN","MAGJRPT",115,0)
 S REPLY="1^1~Radiology Report"
"RTN","MAGJRPT",116,0)
RPTZ S @MAGRPTY@(0)=REPLY
"RTN","MAGJRPT",117,0)
 I +$G(@MAGRPTY@(0)) S @MAGRPTY@(1)="RPT: "_HDR ; if a report exists, add header line to output
"RTN","MAGJRPT",118,0)
 K ^TMP($J,"MAGRAEX"),^("RAE3")
"RTN","MAGJRPT",119,0)
 Q
"RTN","MAGJRPT",120,0)
 ;
"RTN","MAGJRPT",121,0)
CKINTEG(REPLY,RADFN,RADTI,RACNI,RARPT,RADATA) ; check integrity between Exam, Report, and Image Group Headers
"RTN","MAGJRPT",122,0)
 ; This subroutine is used by other vrad programs
"RTN","MAGJRPT",123,0)
 ;
"RTN","MAGJRPT",124,0)
 N IEN,MAGIEN,MIXEDUP,X,CKDFN,CKACN
"RTN","MAGJRPT",125,0)
 S MIXEDUP=0,REPLY=""
"RTN","MAGJRPT",126,0)
 I RARPT D  G CK2:MIXEDUP
"RTN","MAGJRPT",127,0)
 . S X=$G(^RARPT(RARPT,0)),CKDFN=$P(X,U,2),CKACN=$P(X,U,4)
"RTN","MAGJRPT",128,0)
 . I CKDFN'=RADFN S MIXEDUP=1_U_+CKDFN Q
"RTN","MAGJRPT",129,0)
 . I $G(RADATA)]"" D
"RTN","MAGJRPT",130,0)
 .. I $P(RADATA,U,8)'=CKACN D
"RTN","MAGJRPT",131,0)
 ... N MAGPSET,RAPRTSET,ACN,OK S OK=0
"RTN","MAGJRPT",132,0)
 ... S RAPRTSET=0 D EN2^RAUTL20(.MAGPSET) I RAPRTSET D
"RTN","MAGJRPT",133,0)
 .... N I S I=0 F  S I=$O(MAGPSET(I)) Q:'I  I +MAGPSET(I)=CKACN S OK=1 Q
"RTN","MAGJRPT",134,0)
 ... I 'OK S MIXEDUP=5_U_CKACN_U_$P(RADATA,U,8)
"RTN","MAGJRPT",135,0)
 I $D(^RARPT(+RARPT,2005)) S IEN=0 D  G CK2:MIXEDUP
"RTN","MAGJRPT",136,0)
 . F  S IEN=$O(^RARPT(RARPT,2005,IEN)) Q:'IEN  S MAGIEN=+$G(^(IEN,0)) D  Q:MIXEDUP
"RTN","MAGJRPT",137,0)
 .. S X=$P($G(^MAG(2005,MAGIEN,0)),U,7) I X'=RADFN S MIXEDUP=2_U_+X Q
"RTN","MAGJRPT",138,0)
 .. S X=$P($G(^MAG(2005,MAGIEN,2)),U,7) I X'=RARPT S MIXEDUP=3_U_+X Q
"RTN","MAGJRPT",139,0)
CK2 I 'MIXEDUP Q  ; no problems detected
"RTN","MAGJRPT",140,0)
 I +MIXEDUP=1!(+MIXEDUP=2) D  Q
"RTN","MAGJRPT",141,0)
 . S X=$$PNAM^MAGJEX1($P(MIXEDUP,U,2))
"RTN","MAGJRPT",142,0)
 . I +MIXEDUP=1 S REPLY="The Exam file for this exam has patient "_$$PNAM^MAGJEX1(RADFN)_"; the corresponding Report file has patient "_X_".  This is a serious problem--immediately report it to Radiology management and Imaging support!"
"RTN","MAGJRPT",143,0)
 . I +MIXEDUP=2 S REPLY="This exam is registered for "_$$PNAM^MAGJEX1(RADFN)_"; however, it is linked to images for patient "_X_".  This is a serious problem--immediately report it to Radiology management and Imaging support staff!"
"RTN","MAGJRPT",144,0)
 I +MIXEDUP=3 D  Q
"RTN","MAGJRPT",145,0)
 . N T S T=$P(MIXEDUP,U,2) S:'T T="Missing Link"
"RTN","MAGJRPT",146,0)
 . S REPLY="This exam is linked to Report entry #"_RARPT_", but some of its images may be linked to Report entry #"_T_".  This is a potentially serious problem--immediately report it to Radiology management and Imaging support staff!"
"RTN","MAGJRPT",147,0)
 I +MIXEDUP=4 D  Q
"RTN","MAGJRPT",148,0)
 . N T S T=$P(MIXEDUP,U,2) S:'T T="Missing Reference"
"RTN","MAGJRPT",149,0)
 . S X=" ("_RARPT_" and "_T_" )"
"RTN","MAGJRPT",150,0)
 . S REPLY="This exam has problems in the Radiology Report file, with two different report entries referenced"_X_".  This is a potentially serious problem--immediately report it to Radiology management and Imaging support staff!"
"RTN","MAGJRPT",151,0)
 I +MIXEDUP=5 D  Q
"RTN","MAGJRPT",152,0)
 . N T S X=$P(MIXEDUP,U,2) S:X="" X="Missing"
"RTN","MAGJRPT",153,0)
 . S T=$P(MIXEDUP,U,3) S:T="" T="Missing"
"RTN","MAGJRPT",154,0)
 . S X=" ("_X_" and "_T_") "
"RTN","MAGJRPT",155,0)
 . S REPLY="This exam has problems in the Radiology files, with two different Case Numbers referenced"_X_".  This is a potentially serious problem--immediately report it to Radiology management and Imaging support staff!"
"RTN","MAGJRPT",156,0)
 Q
"RTN","MAGJRPT",157,0)
 ;
"RTN","MAGJRPT",158,0)
ERR ;
"RTN","MAGJRPT",159,0)
 S @MAGRPTY@(0)="0^ERROR "_$$EC^%ZOSV
"RTN","MAGJRPT",160,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJRPT",161,0)
 Q:$Q 1  Q
"RTN","MAGJRPT",162,0)
END ;
"RTN","MAGJRT")
0^19^B55009854
"RTN","MAGJRT",1,0)
MAGJRT ;WIRMFO/JHC VistaRad RPC calls for Demand Routing ; 13 Jan 2004  11:00 AM
"RTN","MAGJRT",2,0)
 ;;3.0;IMAGING;**9,22,11,18**;Mar 07, 2006
"RTN","MAGJRT",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJRT",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJRT",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJRT",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJRT",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJRT",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJRT",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJRT",10,0)
 ;; |                                                               |
"RTN","MAGJRT",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJRT",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJRT",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJRT",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJRT",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJRT",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJRT",17,0)
 ;;
"RTN","MAGJRT",18,0)
 Q
"RTN","MAGJRT",19,0)
 ; Entry Points:
"RTN","MAGJRT",20,0)
 ;   RTENA -- Determine whether user has Security Key required to use Demand Routing
"RTN","MAGJRT",21,0)
 ;   RTREQ -- Build message to create Demand Routing Request form on the W/S
"RTN","MAGJRT",22,0)
 ;  RTEXAM -- Queue images to route according to input requests
"RTN","MAGJRT",23,0)
 ;
"RTN","MAGJRT",24,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR
"RTN","MAGJRT",25,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJRT",26,0)
 Q:$Q 1  Q
"RTN","MAGJRT",27,0)
 ;
"RTN","MAGJRT",28,0)
RTENA(MAGGRY,DATA) ; RPC: MAGJ ROUTE ENABLE
"RTN","MAGJRT",29,0)
 ; Enable if: 1) User has applicable security key and, 2) Routing Loc'n has usable entries
"RTN","MAGJRT",30,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJRT"
"RTN","MAGJRT",31,0)
 S MAGGRY="FALSE"
"RTN","MAGJRT",32,0)
 I '$D(MAGJOB("KEYS")) D USERKEYS^MAGJUTL3
"RTN","MAGJRT",33,0)
 F X="MAGJ DEMAND ROUTE","MAGJ DEMAND ROUTE DICOM" I $D(MAGJOB("KEYS",X)) D  Q
"RTN","MAGJRT",34,0)
 . N OK,DUM
"RTN","MAGJRT",35,0)
 . S OK=0 D RTLOCS1(.DUM,.OK) I +OK!+$P(OK,U,2) S MAGGRY="TRUE"
"RTN","MAGJRT",36,0)
 Q
"RTN","MAGJRT",37,0)
 ;
"RTN","MAGJRT",38,0)
RTREQ(MAGGRY,DATA) ; RPC: MAGJ ROUTE REQUEST
"RTN","MAGJRT",39,0)
 ; request to route exams;  info returned in MAGGRY
"RTN","MAGJRT",40,0)
 ; input in DATA(1:n): RADFN ^ RADTI ^ RACNI ^ RARPT
"RTN","MAGJRT",41,0)
 ;  - RADFN^RADTI^RACNI input to specify case of interest
"RTN","MAGJRT",42,0)
 ; Returns: Exam Info for routable exams in ^TMP($J,"MAGJROUTE",1:N)
"RTN","MAGJRT",43,0)
 ;          Followed by Prompts for Routing Locations & Priority
"RTN","MAGJRT",44,0)
 ;          Then error messages, if any
"RTN","MAGJRT",45,0)
 ;          
"RTN","MAGJRT",46,0)
 ; MAGGRY holds $NA reference to ^TMP where Broker return message is assembled;
"RTN","MAGJRT",47,0)
 ;   all references to MAGGRY use subscript indirection
"RTN","MAGJRT",48,0)
 ;
"RTN","MAGJRT",49,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJRT"
"RTN","MAGJRT",50,0)
 N RARPT,RADFN,RADTI,RACNI
"RTN","MAGJRT",51,0)
 N DAYCASE,REPLY,CT,MAGS,STARTNOD,DATAOUT,RADATA,MAGSTRT,MAGEND,NEXAM,DIQUIET
"RTN","MAGJRT",52,0)
 N IDATA,NOGO
"RTN","MAGJRT",53,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJRT",54,0)
 S CT=0,NEXAM=0,DATAOUT="",DAYCASE=""
"RTN","MAGJRT",55,0)
 S NOGO(0)=0  ; array for reply for exams unable to process
"RTN","MAGJRT",56,0)
 S MAGLST="MAGJROUTE",STARTNOD=1
"RTN","MAGJRT",57,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY ; assign MAGGRY value
"RTN","MAGJRT",58,0)
 S IDATA=""
"RTN","MAGJRT",59,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  S DATA=DATA(IDATA) D EXDAT("RTGET")
"RTN","MAGJRT",60,0)
 I NEXAM D  ; have some exams eligible to be routed
"RTN","MAGJRT",61,0)
 . S @MAGGRY@(STARTNOD)="^Case #^Patient^Procedure^Image Date/Time^Status^Modality"
"RTN","MAGJRT",62,0)
 . S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*END"
"RTN","MAGJRT",63,0)
 . S REPLY="1~Route Exams to Selected Locations"
"RTN","MAGJRT",64,0)
 . D RTLOCS(.CT) D RTPRIOR(.CT)
"RTN","MAGJRT",65,0)
 E  D
"RTN","MAGJRT",66,0)
 . S REPLY="0~Unable to Route any Exams"
"RTN","MAGJRT",67,0)
RTREQZ I NOGO(0) D NOGO("Routed",.CT)
"RTN","MAGJRT",68,0)
 S @MAGGRY@(0)=NEXAM_U_REPLY
"RTN","MAGJRT",69,0)
 Q
"RTN","MAGJRT",70,0)
 ;
"RTN","MAGJRT",71,0)
 ;
"RTN","MAGJRT",72,0)
EXDAT(GET) ; Put routable exam info in output file, non-routable in NOGO(n)
"RTN","MAGJRT",73,0)
 S NOGO=0,RARPT=+$P(DATA,U,4)
"RTN","MAGJRT",74,0)
 S RADFN=$P(DATA,U),RADTI=$P(DATA,U,2),RACNI=$P(DATA,U,3),X=0
"RTN","MAGJRT",75,0)
 I RADFN,RADTI,RACNI D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,"",.X)
"RTN","MAGJRT",76,0)
 I 'X S NOGO="1~Request has Invalid Case Pointer ("_RADFN_U_RADTI_U_RACNI_U_RARPT_")." G EXDATZ
"RTN","MAGJRT",77,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1)) K ^TMP($J,"MAGRAEX")
"RTN","MAGJRT",78,0)
 S RARPT=$P(RADATA,U,10),DAYCASE=$P(RADATA,U,12)
"RTN","MAGJRT",79,0)
 S DATAOUT="" D @GET
"RTN","MAGJRT",80,0)
EXDATZ I NOGO D
"RTN","MAGJRT",81,0)
 . S NOGO(0)=NOGO(0)+1,NOGO(NOGO(0))=$P(NOGO,"~",2,99)
"RTN","MAGJRT",82,0)
 E  D
"RTN","MAGJRT",83,0)
 . S DATAOUT=U_DATAOUT_"|"_RADFN_U_RADTI_U_RACNI_U_RARPT_"||"
"RTN","MAGJRT",84,0)
 . S NEXAM=NEXAM+1,CT=CT+1,@MAGGRY@(CT+STARTNOD)=DATAOUT
"RTN","MAGJRT",85,0)
 Q
"RTN","MAGJRT",86,0)
 ;
"RTN","MAGJRT",87,0)
RTGET ;GET code for Demand Routing function
"RTN","MAGJRT",88,0)
 ; get data for exams (DATAOUT), or reason for error (NOGO)
"RTN","MAGJRT",89,0)
 N IMAG,MAGIEN,MDL,MAGS
"RTN","MAGJRT",90,0)
 S X=$$JBFETCH^MAGJUTL2(RARPT,.MAGS)  ; ? route only if NOT on Jukebox
"RTN","MAGJRT",91,0)
 I +X S NOGO="2~Case #"_DAYCASE_"--Images have been requested from Jukebox; try again later." Q
"RTN","MAGJRT",92,0)
 I '$P(X,U,2) S NOGO="3~Case #"_DAYCASE_"--No Images exist for exam." Q
"RTN","MAGJRT",93,0)
 F IMAG=1:1 S MAGIEN=$P($G(MAGS(IMAG)),U,4) Q:MAGIEN=""  D  Q:MDL]""
"RTN","MAGJRT",94,0)
 . S MDL=$P(MAGS(IMAG),U,3)
"RTN","MAGJRT",95,0)
 . I MDL="DR" S MDL="CR"  ; for now, hard code cx of non-standard code
"RTN","MAGJRT",96,0)
 ; Contents of DATAOUT=
"RTN","MAGJRT",97,0)
 ;  DAYCASE ^ Pt Name ^ Proc. Name ^ Exam Date/Time ^ Status ^ MDL
"RTN","MAGJRT",98,0)
 S DATAOUT=DAYCASE_U_$P(RADATA,U,4)_U_$P(RADATA,U,9)
"RTN","MAGJRT",99,0)
 S DATAOUT=DATAOUT_U_$$DTTIM($P(RADATA,U,6))_U_$P(RADATA,U,14)_U_MDL
"RTN","MAGJRT",100,0)
 Q
"RTN","MAGJRT",101,0)
 ;
"RTN","MAGJRT",102,0)
DTTIM(X) ; Format Image Date/Time
"RTN","MAGJRT",103,0)
 N T S T=$L(X,"  "),X=$P(X,"  ",1,T-1)_"@"_$P(X,"  ",T)
"RTN","MAGJRT",104,0)
 Q X
"RTN","MAGJRT",105,0)
 ;
"RTN","MAGJRT",106,0)
RTLOCS(CT) ; define prompts for Routing Locations
"RTN","MAGJRT",107,0)
 ;DROP-Down List, Default=[Do Not Route], Enable Auto-fill (if>1 exam)
"RTN","MAGJRT",108,0)
 N AUTOFILL,T,X,OK,TMP
"RTN","MAGJRT",109,0)
 S AUTOFILL=$S($G(NEXAM)>1:"AUTOFILL",1:"")
"RTN","MAGJRT",110,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*PROMPT"
"RTN","MAGJRT",111,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="DROP^Route To^"_AUTOFILL_"^[Do Not Route]"
"RTN","MAGJRT",112,0)
 S T=0
"RTN","MAGJRT",113,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="0^[Do Not Route]"
"RTN","MAGJRT",114,0)
 K TMP S TMP=0 D RTLOCS1(.TMP,.OK)
"RTN","MAGJRT",115,0)
 F I=1:1:TMP S CT=CT+1,@MAGGRY@(CT+STARTNOD)=TMP(I)
"RTN","MAGJRT",116,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*END"
"RTN","MAGJRT",117,0)
 Q
"RTN","MAGJRT",118,0)
 ;
"RTN","MAGJRT",119,0)
RTLOCS1(RET,OK) ; return:
"RTN","MAGJRT",120,0)
 ;  RET = array of loc'ns screened by sec key
"RTN","MAGJRT",121,0)
 ;  OK  = Non-dcm ^ dcm   Truth value for user may route respective routing types
"RTN","MAGJRT",122,0)
 S RET=0,OK=""
"RTN","MAGJRT",123,0)
 I $D(MAGJOB("KEYS","MAGJ DEMAND ROUTE")) D
"RTN","MAGJRT",124,0)
 . N T S T=0
"RTN","MAGJRT",125,0)
 . F  S T=$O(^MAG(2005.2,T)) Q:'T  S X=$G(^(T,0)) I X]"" D
"RTN","MAGJRT",126,0)
 .. Q:'$P(X,U,9)  ; Not a routable location
"RTN","MAGJRT",127,0)
 .. Q:'$P(X,U,6)  ; OPERATIONAL STATUS not On-Line
"RTN","MAGJRT",128,0)
 .. Q:'($P(X,U,7)="MAG")  ; Storage Type not Magnetic
"RTN","MAGJRT",129,0)
 .. S X=$P(X,U),OK=OK+1
"RTN","MAGJRT",130,0)
 .. S RET=RET+1,RET(RET)=T_U_X
"RTN","MAGJRT",131,0)
 ; dicom destinations: assume that all are "active"
"RTN","MAGJRT",132,0)
 I $D(MAGJOB("KEYS","MAGJ DEMAND ROUTE DICOM")) D
"RTN","MAGJRT",133,0)
 . N DCM
"RTN","MAGJRT",134,0)
 . D DCMLIST^MAGBRTUT(.DCM,DUZ(2))
"RTN","MAGJRT",135,0)
 . I +$G(DCM(1)) S $P(OK,U,2)=+$G(DCM(1))
"RTN","MAGJRT",136,0)
 . I  F I=2:1:DCM(1)+1 S X=DCM(I),RET=RET+1,RET(RET)=$P(X,U,2)_"DCM"_U_"dcm "_$P(X,U)
"RTN","MAGJRT",137,0)
 Q
"RTN","MAGJRT",138,0)
 ;
"RTN","MAGJRT",139,0)
RTPRIOR(CT) ; define prompts for Routing Priorities
"RTN","MAGJRT",140,0)
 ;DROP-Down List, Default=Medium, Enable Auto-fill (if>1 exam)
"RTN","MAGJRT",141,0)
 N AUTOFILL
"RTN","MAGJRT",142,0)
 S AUTOFILL=$S($G(NEXAM)>1:"AUTOFILL",1:"")
"RTN","MAGJRT",143,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*PROMPT"
"RTN","MAGJRT",144,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="DROP^Priority^"_AUTOFILL_"^Medium"
"RTN","MAGJRT",145,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="900^STAT"
"RTN","MAGJRT",146,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="750^High"
"RTN","MAGJRT",147,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="500^Medium"
"RTN","MAGJRT",148,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="250^Low"
"RTN","MAGJRT",149,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*END"
"RTN","MAGJRT",150,0)
 Q
"RTN","MAGJRT",151,0)
 ;
"RTN","MAGJRT",152,0)
NOGO(HDR,CT) ; output error msgs for exams
"RTN","MAGJRT",153,0)
 Q:'NOGO(0)
"RTN","MAGJRT",154,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*ERROR"
"RTN","MAGJRT",155,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)=NOGO(0)_" Exams Not Able to be "_HDR
"RTN","MAGJRT",156,0)
 F I=1:1:NOGO(0) S CT=CT+1,@MAGGRY@(CT+STARTNOD)=NOGO(I)
"RTN","MAGJRT",157,0)
 S CT=CT+1,@MAGGRY@(CT+STARTNOD)="*END"
"RTN","MAGJRT",158,0)
 Q
"RTN","MAGJRT",159,0)
 ;
"RTN","MAGJRT",160,0)
 ; 1  RADFN   RADTI    RACNI   RANME   RASSN    <-- from GETEXAM
"RTN","MAGJRT",161,0)
 ; 6  RADATE  RADTE    RACN    RAPRC   RARPT            (=RADATA)
"RTN","MAGJRT",162,0)
 ; 11 RAST    DAYCASE  RAELOC  RASTP   RASTORD
"RTN","MAGJRT",163,0)
 ; 16 RADTPRT RACPT
"RTN","MAGJRT",164,0)
 ;
"RTN","MAGJRT",165,0)
RTEXAM(MAGGRY,DATA) ; RPC: MAGJ ROUTE EXAMS
"RTN","MAGJRT",166,0)
 ; queue images to route according to input requests
"RTN","MAGJRT",167,0)
 ; input in DATA(1:n), list of exams to route: 
"RTN","MAGJRT",168,0)
 ;    Destination Network Loc'n ^ Priority | RADFN ^ RADTI ^ RACNI ^ RARPT
"RTN","MAGJRT",169,0)
 ; Returns: Reply status in ^TMP($J,"MAGJROUTE",1:N)
"RTN","MAGJRT",170,0)
 ;          Then error messages for each exam if applicable
"RTN","MAGJRT",171,0)
 ;          
"RTN","MAGJRT",172,0)
 ; MAGGRY holds $NA reference to ^TMP where Broker return message is assembled;
"RTN","MAGJRT",173,0)
 ;   all references to MAGGRY use subscript indirection
"RTN","MAGJRT",174,0)
 ;
"RTN","MAGJRT",175,0)
 ;        MAGS = # Images stored for the case
"RTN","MAGJRT",176,0)
 ;  MAGS(1:n) = 1/0 ^ FULL/BIG ^ Mod ^ ien ^ Series ^ Routed-to Locations
"RTN","MAGJRT",177,0)
 ;              (1=Image is on Magnetic Disk)
"RTN","MAGJRT",178,0)
 ;
"RTN","MAGJRT",179,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJRT"
"RTN","MAGJRT",180,0)
 N IEXAM,RTLOC,RTPRI,RARPT,IDATA,REPLY,CT,MAGS,STARTNOD,NEXAM,NOGO
"RTN","MAGJRT",181,0)
 N IMAG,MAGLST,MAGIEN,RTTYP,DIQUIET
"RTN","MAGJRT",182,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJRT",183,0)
 K NOGO S NOGO(0)=0  ; array for reply for exams unable to process
"RTN","MAGJRT",184,0)
 S MAGLST="MAGJROUTE",CT=0,STARTNOD=0,NEXAM=0
"RTN","MAGJRT",185,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY ; assign MAGGRY value
"RTN","MAGJRT",186,0)
 S IDATA=""
"RTN","MAGJRT",187,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  D
"RTN","MAGJRT",188,0)
 . S X=DATA(IDATA),DATA=$P(X,"|",2),X=$P(X,"|"),RTLOC=$P(X,U),RTPRI=$P(X,U,2)
"RTN","MAGJRT",189,0)
 . S RTTYP=$S(RTLOC=+RTLOC:1,1:2),RTLOC=+RTLOC ; 1=DOS; 2=Dicom
"RTN","MAGJRT",190,0)
 . I 'RTLOC Q  ; routing cancelled for this exam
"RTN","MAGJRT",191,0)
 . S RARPT=$P(DATA,U,4)  I 'RARPT D  Q
"RTN","MAGJRT",192,0)
 . . S NOGO(0)=NOGO(0)+1,NOGO(NOGO(0))="Exam not queued: Missing exam pointer information for exam ("_DATA(IDATA)_")"
"RTN","MAGJRT",193,0)
 . S X=$$JBFETCH^MAGJUTL2(RARPT,.MAGS)
"RTN","MAGJRT",194,0)
 . F IMAG=1:1 S MAGIEN=$P($G(MAGS(IMAG)),U,4) Q:MAGIEN=""  D
"RTN","MAGJRT",195,0)
 . . D SEND^MAGBRTUT(MAGIEN,RTLOC,RTPRI,RTTYP)
"RTN","MAGJRT",196,0)
 . I IMAG>1 S NEXAM=NEXAM+1
"RTN","MAGJRT",197,0)
 . E  S NOGO(0)=NOGO(0)+1,NOGO(NOGO(0))="Exam not queued: No images found ("_DATA(IDATA)_")"
"RTN","MAGJRT",198,0)
 I NEXAM S REPLY=1_"~"_NEXAM_" Exam"_$S(NEXAM-1:"s",1:"")_" were queued to be routed."
"RTN","MAGJRT",199,0)
 E  S REPLY="0~Unable to queue any exams for routing."
"RTN","MAGJRT",200,0)
RTEXAMZ I NOGO(0) D NOGO("Queued",.CT)
"RTN","MAGJRT",201,0)
 S @MAGGRY@(0)=$S(NOGO(0):CT,1:0)_U_REPLY
"RTN","MAGJRT",202,0)
 Q
"RTN","MAGJRT",203,0)
 ;
"RTN","MAGJRT",204,0)
END Q
"RTN","MAGJRT",205,0)
 ;
"RTN","MAGJUPD1")
0^8^B55565770
"RTN","MAGJUPD1",1,0)
MAGJUPD1 ;WOIFO/JHC VistARad Update Exam Status ; 29 Jul 2003  10:02 AM
"RTN","MAGJUPD1",2,0)
 ;;3.0;IMAGING;**16,22,18**;Mar 07, 2006
"RTN","MAGJUPD1",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUPD1",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJUPD1",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJUPD1",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJUPD1",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJUPD1",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJUPD1",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJUPD1",10,0)
 ;; |                                                               |
"RTN","MAGJUPD1",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJUPD1",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJUPD1",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJUPD1",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJUPD1",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJUPD1",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUPD1",17,0)
 ;;
"RTN","MAGJUPD1",18,0)
 Q
"RTN","MAGJUPD1",19,0)
 ; Subroutines for RPC's to update Exam Status to "Interpreted", and
"RTN","MAGJUPD1",20,0)
 ;   for "Closing" a case that is open on the DX Workstation
"RTN","MAGJUPD1",21,0)
 ;
"RTN","MAGJUPD1",22,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^Server Program Error: "_ERR
"RTN","MAGJUPD1",23,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJUPD1",24,0)
 Q:$Q 1  Q
"RTN","MAGJUPD1",25,0)
 ;
"RTN","MAGJUPD1",26,0)
STATUS(MAGGRY,PARAMS,DATA) ; rpc: MAGJ RADSTATUSUPDATE
"RTN","MAGJUPD1",27,0)
 ; Update Exam Status to "Interpreted" and/or Close the exam
"RTN","MAGJUPD1",28,0)
 ; Only updates the Status if the current value is "Examined"
"RTN","MAGJUPD1",29,0)
 ; This routine defines variables needed for calling the Radiology
"RTN","MAGJUPD1",30,0)
 ; package routine UP1^RAUTL1, for filing Status updates
"RTN","MAGJUPD1",31,0)
 ;
"RTN","MAGJUPD1",32,0)
 ; PARAMS = UPDFLAG ^ RADFN ^ RADTI ^ RACNI ^ RARPT ^ UPDPSKEY
"RTN","MAGJUPD1",33,0)
 ;   UPDFLAG = 1/0 -- 1 to perform update; else no update made
"RTN","MAGJUPD1",34,0)
 ;   RARPT = ptr to Rad Exam Report file
"RTN","MAGJUPD1",35,0)
 ;   RADFN,RADTI,RACNI = pointers to Rad Patient File for the exam
"RTN","MAGJUPD1",36,0)
 ;   UPDPSKEY = 1/0 -- 1 to update Presentation State &/or Key Image data
"RTN","MAGJUPD1",37,0)
 ;   MAGGRY = return results in @MAGGRY
"RTN","MAGJUPD1",38,0)
 ;
"RTN","MAGJUPD1",39,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJUPD1"
"RTN","MAGJUPD1",40,0)
 N RARPT,RADFN,RADTI,RACNI,RAEXT,RACNE,RADTE,RAINT,RAMDV,DIQUIET
"RTN","MAGJUPD1",41,0)
 N RAONLINE,ZTQUEUED,RAOR,RASN,RASTI,RAPRTSET,LOGDATA,RSL,TIMESTMP
"RTN","MAGJUPD1",42,0)
 N UPDPSKEY,MAGRET,MAGLST,REPLY,UPDFLAG,RADATA,RIST,MAGPSET,RACNILST,ACNLST
"RTN","MAGJUPD1",43,0)
 S MAGLST="MAGJUPDATE"
"RTN","MAGJUPD1",44,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY  ; assign MAGGRY value
"RTN","MAGJUPD1",45,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJUPD1",46,0)
 D NOW^%DTC S TIMESTMP=%
"RTN","MAGJUPD1",47,0)
 S UPDFLAG=$P(PARAMS,U),RADFN=$P(PARAMS,U,2),RADTI=$P(PARAMS,U,3),RACNI=$P(PARAMS,U,4),RARPT=$P(PARAMS,U,5),UPDPSKEY=+$P(PARAMS,U,6)
"RTN","MAGJUPD1",48,0)
 S REPLY="0^4~Closing case with"_$S(UPDFLAG:"",1:" NO")_" Status Update"
"RTN","MAGJUPD1",49,0)
 S RAPRTSET=0
"RTN","MAGJUPD1",50,0)
 I RADFN,RADTI,RACNI
"RTN","MAGJUPD1",51,0)
 E  S REPLY="0^4~Request Contains Invalid Case Pointer ("_RARPT_")" G STATUSZ
"RTN","MAGJUPD1",52,0)
 D GETEXAM2^MAGJUTL1(RADFN,RADTI,RACNI,0,.MAGRET)
"RTN","MAGJUPD1",53,0)
 I 'MAGRET S REPLY="0^4~Current Case Not Accessible for Updating" G STATUSZ
"RTN","MAGJUPD1",54,0)
   ; 1  RADFN   RADTI    RACNI   RANME   RASSN    <--Contents of RADATA,
"RTN","MAGJUPD1",55,0)
   ; 6  RADATE  RADTE    RACN    RAPRC   RARPT         from GETEXAM
"RTN","MAGJUPD1",56,0)
   ;11  RAST    DAYCASE  RAELOC  RASTP   RASTORD
"RTN","MAGJUPD1",57,0)
   ;16  RADTPRT
"RTN","MAGJUPD1",58,0)
 S RADATA=$G(^TMP($J,"MAGRAEX",1,1))
"RTN","MAGJUPD1",59,0)
 S RAEXT=$P(RADATA,U,12),RACNE=$P(RAEXT,"-",2),RADTE=$P(RADATA,U,7)
"RTN","MAGJUPD1",60,0)
 S RAINT=RADTI_"-"_RACNI
"RTN","MAGJUPD1",61,0)
 D CLOSE(.RSL,RADFN_U_RADTI_U_RACNI_U_U_1,.LOGDATA) ; unlock the case
"RTN","MAGJUPD1",62,0)
 ; proceed only if case was locked by this user
"RTN","MAGJUPD1",63,0)
 ;   if it was not Locked, then do NOT update PS, Key Images
"RTN","MAGJUPD1",64,0)
 I 'RSL S REPLY=RSL,UPDPSKEY=0 G STATUSZ
"RTN","MAGJUPD1",65,0)
 I 'UPDFLAG S REPLY="0^1~Case #"_RAEXT_" Closed; No Status Update performed" G STATUSZ
"RTN","MAGJUPD1",66,0)
 S RIST=$P(RSL,U,2) ; CLOSE reports back the type of radiologist
"RTN","MAGJUPD1",67,0)
 ; now we know this user had locked the case, & wants to do Status update
"RTN","MAGJUPD1",68,0)
 D EN2^RAUTL20(.MAGPSET)  ; get info re rad PrintSet
"RTN","MAGJUPD1",69,0)
 ;
"RTN","MAGJUPD1",70,0)
 ; IF exam is not "Examined", and not "Cancelled" and past "Waiting"
"RTN","MAGJUPD1",71,0)
 ;    then assume it has already been updated via another pathway,
"RTN","MAGJUPD1",72,0)
 ;    either as printset member (via code at tag PRTSET, below),
"RTN","MAGJUPD1",73,0)
 ;    or from a voice-dictation or terminal session by the radiologist
"RTN","MAGJUPD1",74,0)
 ;    For these cases, no warning msg is sent
"RTN","MAGJUPD1",75,0)
 ; Else, update not allowed, so give warning msg
"RTN","MAGJUPD1",76,0)
 ; Note that when the Exam was OPENed, it must have had status "Examined"
"RTN","MAGJUPD1",77,0)
 I '$D(^RA(72,"AVC","E",$P(RADATA,U,11))) D  G STATUSX:(+$P(REPLY,U,2)=1),STATUSZ  ; Current Status MUST be "Examined" Category
"RTN","MAGJUPD1",78,0)
 . I $P(RADATA,U,15)>2 D  ; assume update has otherwise been done, eg voice dictation or manual entry in Vista
"RTN","MAGJUPD1",79,0)
 .. S RACNILST=RACNI,RASTI=$P(RADATA,U,11) ; need for code at tag statusx
"RTN","MAGJUPD1",80,0)
 .. I RAPRTSET S REPLY="0^1~Printset Exams with Case #"_RAEXT_" have been updated"
"RTN","MAGJUPD1",81,0)
 .. E  S REPLY="0^1~No Update done for Case #"_RAEXT_"--current status is "_$P(RADATA,U,14)
"RTN","MAGJUPD1",82,0)
 . E  S REPLY="0^3~No Update Allowed for Case #"_RAEXT_"--current status is "_$P(RADATA,U,14)
"RTN","MAGJUPD1",83,0)
 ;
"RTN","MAGJUPD1",84,0)
 ; now ready to update exam status
"RTN","MAGJUPD1",85,0)
 S RAMDV=$P(^RADPT(RADFN,"DT",RADTI,0),U,3)
"RTN","MAGJUPD1",86,0)
 S RAMDV=$TR(^RA(79,RAMDV,.1),"YyNn","1100")
"RTN","MAGJUPD1",87,0)
 ;
"RTN","MAGJUPD1",88,0)
 ; Update interpreting radiologist field in Rad file
"RTN","MAGJUPD1",89,0)
 I RIST D  I RACNILST="" G STATUSZ
"RTN","MAGJUPD1",90,0)
 . N SAVRACNI,RTN S RACNILST=""
"RTN","MAGJUPD1",91,0)
PRTSET . ;  if exam is part of Rad Print-Set, then update all exams of printset
"RTN","MAGJUPD1",92,0)
 . I RAPRTSET D
"RTN","MAGJUPD1",93,0)
 .. S ACNLST="",SAVRACNI=RACNI,X=0
"RTN","MAGJUPD1",94,0)
 .. F I=0:1 S X=$O(MAGPSET(X)) Q:'X  S RACNILST=RACNILST_$S(I:U,1:"")_X S:RACNE'=+MAGPSET(X) ACNLST=ACNLST_", "_"-"_+MAGPSET(X)
"RTN","MAGJUPD1",95,0)
 . E  S RACNILST=RACNI
"RTN","MAGJUPD1",96,0)
 . F I=1:1:$L(RACNILST,U) S RACNI=$P(RACNILST,U,I) I RACNI D  I RACNILST="" Q
"RTN","MAGJUPD1",97,0)
 .. S DA(2)=RADFN,DA(1)=RADTI,DA=RACNI
"RTN","MAGJUPD1",98,0)
 .. D STUFPHY^RARIC1(DUZ,RIST,.RTN)
"RTN","MAGJUPD1",99,0)
 .. I 'RTN S REPLY="0^4~Unable to update Interpreting Radiologist: "_RTN_"." S RACNILST=""
"RTN","MAGJUPD1",100,0)
 . I RAPRTSET S RACNI=SAVRACNI
"RTN","MAGJUPD1",101,0)
 S RAONLINE=1,ZTQUEUED=1 D UP1^RAUTL1   ; Suppress msgs, do Status update
"RTN","MAGJUPD1",102,0)
 ;<*> K RAONLINE,ZTQUEUED D UP1^RAUTL1 ; <*> Testing Only: ENABLE msgs
"RTN","MAGJUPD1",103,0)
 I RAOR<0 S REPLY="0^3~Exam Status for Case #"_RAEXT_" CANNOT be updated; current status remains: "_$S($G(RASN)]"":RASN,1:"Unknown")
"RTN","MAGJUPD1",104,0)
 I  G STATUSZ
"RTN","MAGJUPD1",105,0)
 ;
"RTN","MAGJUPD1",106,0)
 S REPLY="0^1~For Case #"_$S($G(ACNLST)]"":"s ",1:"")_RAEXT_$S(RAPRTSET:ACNLST,1:"")_", Exam Status updated to "_RASN
"RTN","MAGJUPD1",107,0)
 ;
"RTN","MAGJUPD1",108,0)
STATUSX ; Newly Interpreted exam:
"RTN","MAGJUPD1",109,0)
 ; Log the Interpreted event
"RTN","MAGJUPD1",110,0)
 D LOG^MAGJUTL3("VR-INT",LOGDATA)
"RTN","MAGJUPD1",111,0)
 ; Update Recent Exams List
"RTN","MAGJUPD1",112,0)
 G STATUSZ:'$P(^MAG(2006.69,1,0),U,8)  ; no bkgnd compile enabled
"RTN","MAGJUPD1",113,0)
 L +^XTMP("MAGJ2","RECENT"):5
"RTN","MAGJUPD1",114,0)
 E  G STATUSZ
"RTN","MAGJUPD1",115,0)
 N INDX F I=1:1:$L(RACNILST,U) S RACNI=$P(RACNILST,U,I) I RACNI D
"RTN","MAGJUPD1",116,0)
 . S INDX=+$G(^XTMP("MAGJ2","RECENT",0))+1,$P(^(0),U)=INDX,^(INDX)=RADFN_U_RADTI_U_RACNI_U_RASTI
"RTN","MAGJUPD1",117,0)
 L -^XTMP("MAGJ2","RECENT")
"RTN","MAGJUPD1",118,0)
STATUSZ ;
"RTN","MAGJUPD1",119,0)
 ; store PS, Key Image data
"RTN","MAGJUPD1",120,0)
 I UPDPSKEY,($D(DATA)>9) D
"RTN","MAGJUPD1",121,0)
 . D SAVKPS^MAGJUPD2(RARPT,UPDPSKEY,.DATA,.X)
"RTN","MAGJUPD1",122,0)
 . S REPLY=REPLY_$P(X,"~",2,99)
"RTN","MAGJUPD1",123,0)
 S @MAGGRY@(0)=REPLY
"RTN","MAGJUPD1",124,0)
 K ^TMP($J,"MAGRAEX"),^("RAE1")
"RTN","MAGJUPD1",125,0)
 Q
"RTN","MAGJUPD1",126,0)
 ;
"RTN","MAGJUPD1",127,0)
CLOSE(RSL,PARAMS,LOGDATA) ; Close/unlock a case
"RTN","MAGJUPD1",128,0)
 ; Input: PARAMS = DFN ^ DTI ^ CNI ^ RPT ^ UPDFLAG
"RTN","MAGJUPD1",129,0)
 ;
"RTN","MAGJUPD1",130,0)
 ;  DFN,DTI,CNI,RPT = pointers to Rad File for the exam
"RTN","MAGJUPD1",131,0)
 ;   UPDFLAG = 1/0 -- 1 indicates CLOSE was called from subroutine
"RTN","MAGJUPD1",132,0)
 ;                    STATUS, above (which has already called GETEXAM)
"RTN","MAGJUPD1",133,0)
 ;    RSL = return result of the Close
"RTN","MAGJUPD1",134,0)
 ; This subroutine may be called directly (to close a case without
"RTN","MAGJUPD1",135,0)
 ; doing a status update), or is called from tag STATUS, above, when
"RTN","MAGJUPD1",136,0)
 ; also doing a status update
"RTN","MAGJUPD1",137,0)
 ;
"RTN","MAGJUPD1",138,0)
 N $ETRAP,$ESTACK S $ETRAP="D ERR^MAGJUPD1"
"RTN","MAGJUPD1",139,0)
 N RPT,DFN,DTI,CNI,MAGRET,REPLY,RARPT,UPDFLAG,RIST,DAYCASE,NLOCKS,MYLOCK
"RTN","MAGJUPD1",140,0)
 S DFN=$P(PARAMS,U),DTI=$P(PARAMS,U,2),CNI=$P(PARAMS,U,3),RPT=$P(PARAMS,U,4),UPDFLAG=$P(PARAMS,U,5)
"RTN","MAGJUPD1",141,0)
 S LOGDATA=""
"RTN","MAGJUPD1",142,0)
 I $P($G(^MAG(2006.69,1,0)),U,4)
"RTN","MAGJUPD1",143,0)
 E  S REPLY=$S(UPDFLAG:"0^3~Updates not allowed at this site--no action taken",1:"") G CLOSEZ   ;   Status Update NOT Enabled
"RTN","MAGJUPD1",144,0)
 S RIST=+MAGJOB("USER",1) I RIST
"RTN","MAGJUPD1",145,0)
 E  S REPLY=$S(UPDFLAG:"0^3~Update allowed only by a radiologist--no action taken",1:"") G CLOSEZ  ; need only unlock a radiologist
"RTN","MAGJUPD1",146,0)
 I DFN,DTI,CNI
"RTN","MAGJUPD1",147,0)
 E  S REPLY="0^4~Request Contains Invalid Case Pointer ("_RPT_")--no action taken" G CLOSEZ
"RTN","MAGJUPD1",148,0)
 ;
"RTN","MAGJUPD1",149,0)
 I 'UPDFLAG N RADATA D  I 'MAGRET G CLOSEZ
"RTN","MAGJUPD1",150,0)
 . D GETEXAM2^MAGJUTL1(DFN,DTI,CNI,0,.MAGRET)
"RTN","MAGJUPD1",151,0)
 . I 'MAGRET S REPLY="0^4~No Current Case accessible to close--no action taken"
"RTN","MAGJUPD1",152,0)
 . E  S RADATA=$G(^TMP($J,"MAGRAEX",1,1))
"RTN","MAGJUPD1",153,0)
 S RARPT=$P(RADATA,U,10),DAYCASE=$P(RADATA,U,12)
"RTN","MAGJUPD1",154,0)
 I RARPT,DAYCASE
"RTN","MAGJUPD1",155,0)
 E  S REPLY="0^4~Current Case not accessible to close--no action taken" G CLOSEZ
"RTN","MAGJUPD1",156,0)
 ;
"RTN","MAGJUPD1",157,0)
 D LOCKACT^MAGJEX1A(RARPT,DAYCASE,101,,.MYLOCK)
"RTN","MAGJUPD1",158,0)
 S LOGDATA=$P(MYLOCK(1),"|",2)
"RTN","MAGJUPD1",159,0)
 I 'MYLOCK(1) S X=$P(MYLOCK(1),U,4) D  S LOGDATA="" G CLOSEZ
"RTN","MAGJUPD1",160,0)
 . I UPDFLAG S REPLY="0^1~Case #"_DAYCASE_$S(X]"":" locked by "_X,1:" not locked by "_$P(MAGJOB("USER",1),U,2))_"--No Status update performed"
"RTN","MAGJUPD1",161,0)
 . E  S REPLY="0^1~ "  ; case wasn't opened by this R'ist; nothing to do
"RTN","MAGJUPD1",162,0)
 ;
"RTN","MAGJUPD1",163,0)
 I UPDFLAG S REPLY=1_U_RIST
"RTN","MAGJUPD1",164,0)
 E  S REPLY="0^1~Case #"_DAYCASE_$S(+MYLOCK(1):" unlocked",+MYLOCK(2):" reserve cancelled",1:" closed")_"--No Status Update performed."
"RTN","MAGJUPD1",165,0)
CLOSEZ S RSL=REPLY
"RTN","MAGJUPD1",166,0)
 Q
"RTN","MAGJUPD1",167,0)
 ;
"RTN","MAGJUPD1",168,0)
END Q  ;
"RTN","MAGJUPD2")
0^23^B49721468
"RTN","MAGJUPD2",1,0)
MAGJUPD2 ;WIRMFO/JHC VistaRad RPCs-Update PS & KEY Img ; 14 July 2004  10:05 AM
"RTN","MAGJUPD2",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJUPD2",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUPD2",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJUPD2",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJUPD2",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJUPD2",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJUPD2",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJUPD2",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJUPD2",10,0)
 ;; |                                                               |
"RTN","MAGJUPD2",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJUPD2",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJUPD2",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJUPD2",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJUPD2",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJUPD2",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUPD2",17,0)
 ;;
"RTN","MAGJUPD2",18,0)
 Q
"RTN","MAGJUPD2",19,0)
ERR N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR
"RTN","MAGJUPD2",20,0)
 D @^%ZOSF("ERRTN")
"RTN","MAGJUPD2",21,0)
 Q:$Q 1  Q
"RTN","MAGJUPD2",22,0)
 ;
"RTN","MAGJUPD2",23,0)
SAVKPS(RARPT,INTERPFL,DATA,REPLY) ;  Save study data: Key/Interpretation Images & Pres. State
"RTN","MAGJUPD2",24,0)
 ; RARPT--exam pointer
"RTN","MAGJUPD2",25,0)
 ; INTERPFL--1/0; 1=This is associated with a Rad Interpretation; Optional
"RTN","MAGJUPD2",26,0)
 ; DATA--array of input data; see structure at end of routine
"RTN","MAGJUPD2",27,0)
 ; REPLY--return string
"RTN","MAGJUPD2",28,0)
 N PSTRAK,IDATA,IMGCT,PSTOT,PSLINCT,PSKILCT,KEYCT,INTCT,STUDY,LINE,NEWIMG,NEWPS
"RTN","MAGJUPD2",29,0)
 N IMGREF,IMGIEN,PSIEN,SAVOP,STIEN,TYPE,IMG,ICT,NEWIMG,INITSTDY,SEQNUM
"RTN","MAGJUPD2",30,0)
 S INTERPFL=+$G(INTERPFL)
"RTN","MAGJUPD2",31,0)
 S NEWIMG=0,NEWPS=0,IMGIEN="",PSIEN="",SEQNUM=0
"RTN","MAGJUPD2",32,0)
 S (IMGCT,PSTOT,PSLINCT,KEYCT,INTCT,PSKILCT)=0
"RTN","MAGJUPD2",33,0)
 S IMGREF="",SAVOP="NOOP"
"RTN","MAGJUPD2",34,0)
 I '$D(TIMESTMP) N TIMESTMP D NOW^%DTC S TIMESTMP=%
"RTN","MAGJUPD2",35,0)
 ; 1st, process input in DATA
"RTN","MAGJUPD2",36,0)
 S IDATA=""
"RTN","MAGJUPD2",37,0)
 F  S IDATA=$O(DATA(IDATA)) Q:IDATA=""  S LINE=DATA(IDATA) I LINE]"" D
"RTN","MAGJUPD2",38,0)
 . I LINE="*IMAGE" S NEWIMG=1 Q
"RTN","MAGJUPD2",39,0)
 . I LINE="*PS" S NEWPS=1 Q
"RTN","MAGJUPD2",40,0)
 . I $E(LINE,1,4)="*END" S (NEWIMG,NEWPS)=0 Q
"RTN","MAGJUPD2",41,0)
 . I NEWIMG D IMGINIT(LINE) S NEWIMG=0 Q  ; Init storage for this Image
"RTN","MAGJUPD2",42,0)
 . I NEWPS D PSINIT(LINE) S NEWPS=0 Q  ; Init storage for a PS
"RTN","MAGJUPD2",43,0)
 . D @(SAVOP_"(LINE)")
"RTN","MAGJUPD2",44,0)
 ; Now update the Study node info
"RTN","MAGJUPD2",45,0)
 S INITSTDY=$S(INTERPFL:"INIT_STUDY",1:"")
"RTN","MAGJUPD2",46,0)
 S STIEN=$$STUDYID("",RARPT,1,INITSTDY)
"RTN","MAGJUPD2",47,0)
 I $D(PSTRAK) S IMG="" D  ; Update key imgs in Study node
"RTN","MAGJUPD2",48,0)
 . F  S IMG=$O(PSTRAK(IMG)) Q:'IMG  S NEWIMG=1,TYPE="" D
"RTN","MAGJUPD2",49,0)
 . . F  S TYPE=$O(PSTRAK(IMG,TYPE)) Q:TYPE=""  D
"RTN","MAGJUPD2",50,0)
 . . . F ICT=1:1:PSTRAK(IMG,TYPE,0) D SAVKIMG(IMG,PSTRAK(IMG,TYPE,ICT),TYPE,NEWIMG) S NEWIMG=0
"RTN","MAGJUPD2",51,0)
SAVKPSZ ;
"RTN","MAGJUPD2",52,0)
 I IMGCT!PSTOT!PSLINCT!KEYCT!INTCT S REPLY="1~Saved: "_KEYCT_" Key Image"_$S(KEYCT-1:"s",1:"")_"; "_INTCT_" Interp Image"_$S(INTCT-1:"s",1:"")_"; "
"RTN","MAGJUPD2",53,0)
 I  S REPLY=REPLY_PSLINCT_" PS line"_$S(PSLINCT-1:"s",1:"")_" for "_PSTOT_" PS"_$S(PSTOT-1:"s",1:"")_" for "_IMGCT_" Image"_$S(IMGCT-1:"s.",1:".")
"RTN","MAGJUPD2",54,0)
 I  S:PSKILCT REPLY=REPLY_"  Deleted: "_PSKILCT_" PS record"_$S(PSKILCT-1:"s",1:"")_"."
"RTN","MAGJUPD2",55,0)
 E  I PSKILCT S REPLY="1~Deleted: "_PSKILCT_" PS record"_$S(PSKILCT-1:"s",1:"")_"."
"RTN","MAGJUPD2",56,0)
 E  S REPLY="0~No Key Image/PS data was stored or deleted."
"RTN","MAGJUPD2",57,0)
 Q
"RTN","MAGJUPD2",58,0)
 ;
"RTN","MAGJUPD2",59,0)
NOOP(X) Q  ; do nothing/ skip erroneous input
"RTN","MAGJUPD2",60,0)
 ;
"RTN","MAGJUPD2",61,0)
IMGINIT(LINE) ; Init storage space for an image ; inits some vars for the SAVE loop
"RTN","MAGJUPD2",62,0)
 N IEN
"RTN","MAGJUPD2",63,0)
 S IMGIEN="",IMGREF=""
"RTN","MAGJUPD2",64,0)
 S IEN=$P(LINE,U)
"RTN","MAGJUPD2",65,0)
 I IEN,$D(^MAG(2005,IEN,0)),'$D(^(1))
"RTN","MAGJUPD2",66,0)
 E  G IMGINITZ
"RTN","MAGJUPD2",67,0)
 S IMGIEN=IEN
"RTN","MAGJUPD2",68,0)
 S IMGREF=$NA(^MAG(2005,IMGIEN)) ; indirect ref used in psinit & savps
"RTN","MAGJUPD2",69,0)
 S IMGCT=IMGCT+1
"RTN","MAGJUPD2",70,0)
IMGINITZ Q
"RTN","MAGJUPD2",71,0)
 ;
"RTN","MAGJUPD2",72,0)
PSINIT(LINE) ; Init storage space for a Presentation State ; inits some vars for SAVE loop
"RTN","MAGJUPD2",73,0)
 ; input = PS_UID ^ UID Type (KEY, INT) ^ "DELETE"
"RTN","MAGJUPD2",74,0)
 ; if peice 3 ="DELETE" then the PS data is deleted
"RTN","MAGJUPD2",75,0)
 N IEN,UID,TYPE,DELETE
"RTN","MAGJUPD2",76,0)
 S UID=$P(LINE,U),X=$P(LINE,U,2),DELETE=($P(LINE,U,3)="DELETE"),TYPE=$S(X="KEY":"K",X="INTERP":"I",1:"")
"RTN","MAGJUPD2",77,0)
 I UID="" G PSINITZ
"RTN","MAGJUPD2",78,0)
 I INTERPFL,(TYPE'="K"),(TYPE'="U") S TYPE="I" ; just in case...
"RTN","MAGJUPD2",79,0)
 S IEN=$O(@IMGREF@(210,"B",UID,""))
"RTN","MAGJUPD2",80,0)
 L +@IMGREF@(210,0):5
"RTN","MAGJUPD2",81,0)
 E  Q
"RTN","MAGJUPD2",82,0)
 I 'IEN D  ; Allocate node
"RTN","MAGJUPD2",83,0)
 . S X=$G(@IMGREF@(210,0)) I X="" S X="^2005.05A^^",^(0)=X
"RTN","MAGJUPD2",84,0)
 . S IEN=$P(X,U,3)+1,T=$P(X,U,4)+1,$P(X,U,3)=IEN,$P(X,U,4)=T
"RTN","MAGJUPD2",85,0)
 . S @IMGREF@(210,0)=X,@IMGREF@(210,"B",UID,IEN)=""
"RTN","MAGJUPD2",86,0)
 S PSIEN=IEN
"RTN","MAGJUPD2",87,0)
 I DELETE,PSIEN D  ; delete this PS
"RTN","MAGJUPD2",88,0)
 . S PSKILCT=PSKILCT+1
"RTN","MAGJUPD2",89,0)
 . K @IMGREF@(210,PSIEN),@IMGREF@(210,"B",UID,PSIEN)
"RTN","MAGJUPD2",90,0)
 . S T=$O(@IMGREF@(210,9999),-1)
"RTN","MAGJUPD2",91,0)
 . I 'T K @IMGREF@(210) Q  ; no more PSs!
"RTN","MAGJUPD2",92,0)
 . N XD S XD=$G(@IMGREF@(210,0))
"RTN","MAGJUPD2",93,0)
 . S $P(XD,U,3)=T,T=$P(XD,U,4) S:T T=T-1 S $P(XD,U,4)=T
"RTN","MAGJUPD2",94,0)
 . S @IMGREF@(210,0)=XD
"RTN","MAGJUPD2",95,0)
 E  D  ; init PS node for storage; PSTRAK keeps data for later update to STUDY file
"RTN","MAGJUPD2",96,0)
 . S @IMGREF@(210,PSIEN,0)=UID_U_TYPE_U_DUZ_U_TIMESTMP
"RTN","MAGJUPD2",97,0)
 . I "KI"[TYPE S SEQNUM=SEQNUM+1,T=$G(PSTRAK(IMGIEN,TYPE,0))+1,PSTRAK(IMGIEN,TYPE,0)=T,PSTRAK(IMGIEN,TYPE,T)=UID_U_SEQNUM
"RTN","MAGJUPD2",98,0)
 . K @IMGREF@(210,PSIEN,1) ; init Data & Keys
"RTN","MAGJUPD2",99,0)
 . S @IMGREF@(210,PSIEN,1,0)="^2005.51^0_U_0"
"RTN","MAGJUPD2",100,0)
 L -@IMGREF@(210,0)
"RTN","MAGJUPD2",101,0)
 S SAVOP="SAVPS" ; indirect label reference for use in SAVE loop
"RTN","MAGJUPD2",102,0)
 I DELETE S SAVOP="NOOP"
"RTN","MAGJUPD2",103,0)
 S PSTOT=PSTOT+1-DELETE
"RTN","MAGJUPD2",104,0)
PSINITZ Q
"RTN","MAGJUPD2",105,0)
 ;
"RTN","MAGJUPD2",106,0)
SAVPS(LINE) ; Save a line of PS data
"RTN","MAGJUPD2",107,0)
 ; input = line of free-text data
"RTN","MAGJUPD2",108,0)
 N PSCT,PSCTRL
"RTN","MAGJUPD2",109,0)
 L +(@IMGREF@(210,PSIEN))
"RTN","MAGJUPD2",110,0)
 S PSCTRL=$G(@IMGREF@(210,PSIEN,1,0))
"RTN","MAGJUPD2",111,0)
 S PSCT=+$P(PSCTRL,U,4)+1
"RTN","MAGJUPD2",112,0)
 S @IMGREF@(210,PSIEN,1,PSCT,0)=LINE
"RTN","MAGJUPD2",113,0)
 S $P(PSCTRL,U,3,4)=PSCT_U_PSCT
"RTN","MAGJUPD2",114,0)
 S @IMGREF@(210,PSIEN,1,0)=PSCTRL
"RTN","MAGJUPD2",115,0)
 L -(@IMGREF@(210,PSIEN))
"RTN","MAGJUPD2",116,0)
 S PSLINCT=PSLINCT+1
"RTN","MAGJUPD2",117,0)
 Q
"RTN","MAGJUPD2",118,0)
 ;
"RTN","MAGJUPD2",119,0)
SAVKIMG(IMGIEN,UIDSEQ,TYPE,NEWIMG) ; store a Key image & Interp images w/ PS refs in study node
"RTN","MAGJUPD2",120,0)
 ;
"RTN","MAGJUPD2",121,0)
 N STIEN,KIEN,STUDYREF,UID,SEQNUM
"RTN","MAGJUPD2",122,0)
 I 'IMGIEN G SAVKIMGZ
"RTN","MAGJUPD2",123,0)
 S STIEN=$$STUDYID(IMGIEN,"",0)
"RTN","MAGJUPD2",124,0)
 I 'STIEN G SAVKIMGZ ; should never happen
"RTN","MAGJUPD2",125,0)
 S STUDYREF=$NA(^MAG(2005.001,STIEN))
"RTN","MAGJUPD2",126,0)
 S UID=$P(UIDSEQ,U),SEQNUM=$P(UIDSEQ,U,2)
"RTN","MAGJUPD2",127,0)
 S KIEN=$O(@STUDYREF@(1,"B",IMGIEN,""))
"RTN","MAGJUPD2",128,0)
 I 'KIEN D
"RTN","MAGJUPD2",129,0)
 . L +@STUDYREF@(1,0)
"RTN","MAGJUPD2",130,0)
 . S X=$G(@STUDYREF@(1,0)) I X="" S X="^2005.031P^^",^(0)=X
"RTN","MAGJUPD2",131,0)
 . S KIEN=$P(X,U,3)+1,T=$P(X,U,4)+1,$P(X,U,3)=KIEN,$P(X,U,4)=T
"RTN","MAGJUPD2",132,0)
 . S @STUDYREF@(1,0)=X,@STUDYREF@(1,"B",IMGIEN,KIEN)=""
"RTN","MAGJUPD2",133,0)
 . L -@STUDYREF@(1,0)
"RTN","MAGJUPD2",134,0)
 E  D
"RTN","MAGJUPD2",135,0)
 . I 'NEWIMG Q
"RTN","MAGJUPD2",136,0)
 . K @STUDYREF@(1,KIEN,1) ; init ps data if updating existing img
"RTN","MAGJUPD2",137,0)
 . S @STUDYREF@(1,KIEN,1,0)="^2005.311^0_U_0"
"RTN","MAGJUPD2",138,0)
 S $P(@STUDYREF@(1,KIEN,0),U)=IMGIEN
"RTN","MAGJUPD2",139,0)
 ; store the PS UID
"RTN","MAGJUPD2",140,0)
 I UID]"" D
"RTN","MAGJUPD2",141,0)
 . N IEN S IEN=$O(@STUDYREF@(1,KIEN,1,"B",UID,""))
"RTN","MAGJUPD2",142,0)
 . I 'IEN D
"RTN","MAGJUPD2",143,0)
 . . L +@STUDYREF@(1,KIEN,1,0)
"RTN","MAGJUPD2",144,0)
 . . S X=$G(@STUDYREF@(1,KIEN,1,0)) I X="" S X="^2005.311^^",^(0)=X
"RTN","MAGJUPD2",145,0)
 . . S IEN=$P(X,U,3)+1,T=$P(X,U,4)+1,$P(X,U,3)=IEN,$P(X,U,4)=T
"RTN","MAGJUPD2",146,0)
 . . S @STUDYREF@(1,KIEN,1,0)=X,@STUDYREF@(1,KIEN,1,"B",UID,IEN)=""
"RTN","MAGJUPD2",147,0)
 . . L -@STUDYREF@(1,KIEN,1,0)
"RTN","MAGJUPD2",148,0)
 . S @STUDYREF@(1,KIEN,1,IEN,0)=UID_U_TYPE_U_SEQNUM
"RTN","MAGJUPD2",149,0)
 S KEYCT=KEYCT+(TYPE="K"),INTCT=INTCT+(TYPE="I")
"RTN","MAGJUPD2",150,0)
SAVKIMGZ Q
"RTN","MAGJUPD2",151,0)
 ;
"RTN","MAGJUPD2",152,0)
STUDYID(IEN,RARPT,READONLY,INITSTDY) ; return Study_IEN for input ImgIEN or RARPT
"RTN","MAGJUPD2",153,0)
 ; initialize Study node if INITSTDY is indicated (optional)
"RTN","MAGJUPD2",154,0)
 ; Either IEN or RARPT must be supplied; if both supplied, only RARPT is used
"RTN","MAGJUPD2",155,0)
 ; if READONLY is false, then create "STUDY" node if undefined
"RTN","MAGJUPD2",156,0)
 ; <*> Note: this routine is hard-coded for RADIOLOGY image data only (Parent file=74)
"RTN","MAGJUPD2",157,0)
 N STIEN,X,T,STDYINIT
"RTN","MAGJUPD2",158,0)
 S STIEN=""  ; init return value
"RTN","MAGJUPD2",159,0)
 S IEN=$G(IEN),RARPT=$G(RARPT)
"RTN","MAGJUPD2",160,0)
 S:'$D(READONLY) READONLY=1
"RTN","MAGJUPD2",161,0)
 S INITSTDY=$G(INITSTDY)
"RTN","MAGJUPD2",162,0)
 I IEN,'RARPT S RARPT=$$GETRPT(IEN)
"RTN","MAGJUPD2",163,0)
 I 'RARPT G STUDYIDZ
"RTN","MAGJUPD2",164,0)
 I $D(^MAG(2005.001,"ASTUDY",74,RARPT)) S STIEN=$O(^(RARPT,"")) D
"RTN","MAGJUPD2",165,0)
 . I INITSTDY="INIT_STUDY" K ^MAG(2005.001,STIEN,1) ; init for Key/Interp PS updates (full replacement)
"RTN","MAGJUPD2",166,0)
 E  D:'READONLY  ; create Study structure
"RTN","MAGJUPD2",167,0)
 . L +^MAG(2005.001,0)
"RTN","MAGJUPD2",168,0)
 . S X=^MAG(2005.001,0),STIEN=$P(X,U,3)+1,T=$P(X,U,4)+1,$P(X,U,3)=STIEN,$P(X,U,4)=T,^(0)=X
"RTN","MAGJUPD2",169,0)
 . L -^MAG(2005.001,0)
"RTN","MAGJUPD2",170,0)
 . S ^MAG(2005.001,STIEN,0)=RARPT_U_74,^MAG(2005.001,"ASTUDY",74,RARPT,STIEN)="",^MAG(2005.001,"B",RARPT,STIEN)=""
"RTN","MAGJUPD2",171,0)
 ;
"RTN","MAGJUPD2",172,0)
STUDYIDZ Q:$Q STIEN Q
"RTN","MAGJUPD2",173,0)
 ;
"RTN","MAGJUPD2",174,0)
GETRPT(IEN) ; return rarpt for input imgien
"RTN","MAGJUPD2",175,0)
 N IENGRP,X,RARPT
"RTN","MAGJUPD2",176,0)
 S RARPT=""
"RTN","MAGJUPD2",177,0)
 I IEN D
"RTN","MAGJUPD2",178,0)
 . I $D(^MAG(2005,IEN,1)) S IENGRP=IEN
"RTN","MAGJUPD2",179,0)
 . E  S IENGRP=$P(^MAG(2005,IEN,0),U,10)
"RTN","MAGJUPD2",180,0)
 . I IENGRP S X=$G(^MAG(2005,IENGRP,2)) I $P(X,U,6)=74 S RARPT=$P(X,U,7)
"RTN","MAGJUPD2",181,0)
 . I RARPT,$D(^RARPT(RARPT,2005))
"RTN","MAGJUPD2",182,0)
 . E  S RARPT=""  ; no Rad report node!
"RTN","MAGJUPD2",183,0)
 Q:$Q RARPT Q
"RTN","MAGJUPD2",184,0)
 ;
"RTN","MAGJUPD2",185,0)
 ;Structure of PS/PSTRAK data In:
"RTN","MAGJUPD2",186,0)
 ; *IMAGE
"RTN","MAGJUPD2",187,0)
 ; IEN^
"RTN","MAGJUPD2",188,0)
 ; *PS
"RTN","MAGJUPD2",189,0)
 ; UID^[KEY/INTERP/USER]
"RTN","MAGJUPD2",190,0)
 ; 1: N Lines of PS data follow
"RTN","MAGJUPD2",191,0)
 ; *END_PS
"RTN","MAGJUPD2",192,0)
 ; *PS
"RTN","MAGJUPD2",193,0)
 ; UID^[KEY/INTERP/USER]
"RTN","MAGJUPD2",194,0)
 ; 1: N Lines of PS data follow
"RTN","MAGJUPD2",195,0)
 ; *END_PS
"RTN","MAGJUPD2",196,0)
 ; *END_IMAGE
"RTN","MAGJUPD2",197,0)
 ; *IMAGE
"RTN","MAGJUPD2",198,0)
 ;  ... etc.
"RTN","MAGJUPD2",199,0)
 ; *END_IMAGE
"RTN","MAGJUPD2",200,0)
 ; *END
"RTN","MAGJUPD2",201,0)
END ;    
"RTN","MAGJUTL1")
0^9^B59555587
"RTN","MAGJUTL1",1,0)
MAGJUTL1 ;WIRMFO/JHC VistARad subroutines for RPC calls ; 29 Jul 2003  10:03 AM
"RTN","MAGJUTL1",2,0)
 ;;3.0;IMAGING;**22,18**;Mar 07, 2006
"RTN","MAGJUTL1",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL1",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJUTL1",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJUTL1",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJUTL1",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJUTL1",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJUTL1",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJUTL1",10,0)
 ;; |                                                               |
"RTN","MAGJUTL1",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJUTL1",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJUTL1",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJUTL1",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJUTL1",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJUTL1",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL1",17,0)
 ;;
"RTN","MAGJUTL1",18,0)
 Q
"RTN","MAGJUTL1",19,0)
 ;<*>Notes on possible changes to ^RAO7PC1/1A for fetching rad pkg data:
"RTN","MAGJUTL1",20,0)
 ; 1) Return also: Exam Status IEN, Order Request Urgency, & Pre-Op Date
"RTN","MAGJUTL1",21,0)
 ; 2) Allow to retrieve one specific exam; e.g. modify SETDATA^RAO7PC1A
"RTN","MAGJUTL1",22,0)
 ;    to act as a true subrtn, W/ params for RADFN, RADTI, & RACNI--if
"RTN","MAGJUTL1",23,0)
 ;    passed, then only the one exam would be returned
"RTN","MAGJUTL1",24,0)
 ;
"RTN","MAGJUTL1",25,0)
GETEXAM3(DFN,BEGDT,ENDT,MAGRACNT,MAGRET,MORE,LIMEXAMS) ; Get data for all exams for a
"RTN","MAGJUTL1",26,0)
 ; pt within a date range (default all dates); limit returned list to LIMEXAMS
"RTN","MAGJUTL1",27,0)
 ; Input:
"RTN","MAGJUTL1",28,0)
 ;      DFN -- Patient DFN
"RTN","MAGJUTL1",29,0)
 ;    BEGDT -- Opt, earliest date desired
"RTN","MAGJUTL1",30,0)
 ;     ENDT -- Opt, latest date desired
"RTN","MAGJUTL1",31,0)
 ; MAGRACNT -- Opt, pass by ref to init counter to ref return data in ^TMP (see GETEXSET)
"RTN","MAGJUTL1",32,0)
 ; LIMEXAMS -- Opt, limit # exams to return
"RTN","MAGJUTL1",33,0)
 ; Return:
"RTN","MAGJUTL1",34,0)
 ; MAGRACNT -- highest counter for return data
"RTN","MAGJUTL1",35,0)
 ;   MAGRET -- 1/0: exam was/not found
"RTN","MAGJUTL1",36,0)
 ;     MORE -- more exams exist for pt on & B4 this date
"RTN","MAGJUTL1",37,0)
 ;     ^TMP -- data returned (see GETEXSET)
"RTN","MAGJUTL1",38,0)
 ;
"RTN","MAGJUTL1",39,0)
 I '$D(DT) N DIQUIET S DIQUIET=1 D DT^DICRW
"RTN","MAGJUTL1",40,0)
 N MORECHK
"RTN","MAGJUTL1",41,0)
 S LIMEXAMS=+$G(LIMEXAMS)
"RTN","MAGJUTL1",42,0)
 S MORECHK=BEGDT!LIMEXAMS
"RTN","MAGJUTL1",43,0)
 S:$G(BEGDT)="" BEGDT=2010101 S:$G(ENDT)="" ENDT=DT ; default all dates
"RTN","MAGJUTL1",44,0)
 S MAGRACNT=+$G(MAGRACNT),MAGRET=0,MORE=0  ; Init return data
"RTN","MAGJUTL1",45,0)
 I BEGDT>ENDT S X=ENDT,ENDT=BEGDT,BEGDT=X
"RTN","MAGJUTL1",46,0)
 I '(DFN&BEGDT&ENDT) Q
"RTN","MAGJUTL1",47,0)
 K ^TMP($J,"RAE1") D EN1^RAO7PC1(DFN,BEGDT,ENDT,LIMEXAMS)
"RTN","MAGJUTL1",48,0)
 N EXID S EXID=0
"RTN","MAGJUTL1",49,0)
 F MAGRET=0:1 S EXID=$O(^TMP($J,"RAE1",DFN,EXID)) Q:'EXID  D GETEXSET(DFN,EXID,"")
"RTN","MAGJUTL1",50,0)
 K ^TMP($J,"RAE1")
"RTN","MAGJUTL1",51,0)
 I 'MORECHK Q  ; all done; else indicate if pt has more exams
"RTN","MAGJUTL1",52,0)
 N DTI,CNI,STS
"RTN","MAGJUTL1",53,0)
 I 'MAGRET S DTI=9999999.9999-BEGDT,CNI=0 ; no exam found in orig dt range
"RTN","MAGJUTL1",54,0)
 E  S X=^TMP($J,"MAGRAEX",MAGRACNT,1),DTI=$P(X,U,2),CNI=$P(X,U,3) ; last exam processed
"RTN","MAGJUTL1",55,0)
 ; loop thru addl exams til find one that is NOT Cancelled
"RTN","MAGJUTL1",56,0)
MORE1 F  S CNI=$O(^RADPT(DFN,"DT",DTI,"P",CNI)) Q:'CNI  S STS=$P($G(^(CNI,0)),U,3) I STS]"" D  Q:MORE
"RTN","MAGJUTL1",57,0)
 . S MORE='($P($G(^RA(72,STS,0)),U,3)=0) ; True if sts is NOT Canc
"RTN","MAGJUTL1",58,0)
 I 'MORE S DTI=$O(^RADPT(DFN,"DT",DTI)),CNI=0 G MORE1:DTI
"RTN","MAGJUTL1",59,0)
 I MORE S MORE=9999999.9999-DTI\1
"RTN","MAGJUTL1",60,0)
 Q
"RTN","MAGJUTL1",61,0)
 ;
"RTN","MAGJUTL1",62,0)
GETEXAM2(DFN,DTI,CNI,MAGRACNT,MAGRET) ; Fetch data for one exam
"RTN","MAGJUTL1",63,0)
 ;Input:
"RTN","MAGJUTL1",64,0)
 ; DFN -- Pt DFN
"RTN","MAGJUTL1",65,0)
 ; DTI -- Internal Date pointer to Rad exam
"RTN","MAGJUTL1",66,0)
 ; CNI -- Case pointer to Rad exam
"RTN","MAGJUTL1",67,0)
 ; MAGRACNT -- Opt, pass by ref to init counter for return data in ^TMP (see GETEXSET)
"RTN","MAGJUTL1",68,0)
 ; Return:
"RTN","MAGJUTL1",69,0)
 ; MAGRACNT -- highest counter for return data
"RTN","MAGJUTL1",70,0)
 ;   MAGRET -- 1/0: exam was/not found
"RTN","MAGJUTL1",71,0)
 ;     ^TMP -- data returned (see GETEXSET)
"RTN","MAGJUTL1",72,0)
 ;
"RTN","MAGJUTL1",73,0)
 ; This subroutine calls RAO7PC1A directly to fetch exam data
"RTN","MAGJUTL1",74,0)
 ; which is returned in ^TMP($J,"RAE1",DFN,DTI_"-"_CNI).
"RTN","MAGJUTL1",75,0)
 ; RAO7PC1A currently returns ALL exams filed under one DTI,
"RTN","MAGJUTL1",76,0)
 ; but this subroutine returns the single exam for the input DTI, CNI
"RTN","MAGJUTL1",77,0)
 ;
"RTN","MAGJUTL1",78,0)
 N RADFN,RACNT,RAIBDT,RAEXN,RAXIT  ; Vars input to RAO7PC1A
"RTN","MAGJUTL1",79,0)
 S RADFN=DFN,RACNT=0,RAIBDT=DTI,RAEXN=0,RAXIT=0
"RTN","MAGJUTL1",80,0)
 ; other Vars set by RAO7PC1A:
"RTN","MAGJUTL1",81,0)
 N RABNOR,RACSE,RADIAG,RANO,RAPRC,RAREX,RARPT,RARPTST,RASTNM,RAXAM,RAXID
"RTN","MAGJUTL1",82,0)
 N RABNORMR,RACPT
"RTN","MAGJUTL1",83,0)
 S MAGRACNT=+$G(MAGRACNT)
"RTN","MAGJUTL1",84,0)
 K ^TMP($J,"RAE1") D SETDATA^RAO7PC1A
"RTN","MAGJUTL1",85,0)
 S MAGRET=RACNT Q:'RACNT     ; no exams found
"RTN","MAGJUTL1",86,0)
 D GETEXSET(DFN,DTI_"-"_CNI,.X)
"RTN","MAGJUTL1",87,0)
 I 'X S MAGRET=0   ; no exam for this CNI
"RTN","MAGJUTL1",88,0)
 K ^TMP($J,"RAE1")
"RTN","MAGJUTL1",89,0)
 Q
"RTN","MAGJUTL1",90,0)
 ;
"RTN","MAGJUTL1",91,0)
GETEXSET(RADFN,EXID,MAGRET) ; 
"RTN","MAGJUTL1",92,0)
 ; Used by GETEXAM* subroutines above to set up rad data for vrad
"RTN","MAGJUTL1",93,0)
 ; Input:
"RTN","MAGJUTL1",94,0)
 ;  RADFN -- Pt DFN
"RTN","MAGJUTL1",95,0)
 ;  EXID --- RADTI_"-"_RACNI, pointers to Rad exam
"RTN","MAGJUTL1",96,0)
 ; Output:
"RTN","MAGJUTL1",97,0)
 ;  MAGRET- 1/0: an exam was/was not filed
"RTN","MAGJUTL1",98,0)
 ;  ^TMP($J,"MAGRAEX",MAGRACNT)=Data String (see code at end)
"RTN","MAGJUTL1",99,0)
 ;  MAGRACNT described in above subroutines
"RTN","MAGJUTL1",100,0)
 ;
"RTN","MAGJUTL1",101,0)
 N RACN,RACNI,RADATA,RADATE,RADTE,RADTI,RADTPRT,RAELOC,RANME
"RTN","MAGJUTL1",102,0)
 N RAPRC,RARPT,RASSN,RAST,RASTORD,RASTP,RASTNM,RACPT,IMTYPABB,PROCMOD
"RTN","MAGJUTL1",103,0)
 N DAYCASE,REQLOC,REQLOCN,REQLOCA,REQLOCT,RIST,RIST1,RIST2,COMPLIC
"RTN","MAGJUTL1",104,0)
 N RADIV,RISTISME,REQWARD,RASTCAT,CPTMOD,LRFLAG,MODTXT
"RTN","MAGJUTL1",105,0)
 S MAGRET=0,RADTI=$P(EXID,"-"),RACNI=$P(EXID,"-",2)
"RTN","MAGJUTL1",106,0)
 Q:'(RADTI&RACNI)
"RTN","MAGJUTL1",107,0)
 S RADIV=""
"RTN","MAGJUTL1",108,0)
 S RADATA=$G(^TMP($J,"RAE1",RADFN,EXID))
"RTN","MAGJUTL1",109,0)
 Q:RADATA=""        ;  no exam for this EXID
"RTN","MAGJUTL1",110,0)
 S RARPT=$P(RADATA,U,5)
"RTN","MAGJUTL1",111,0)
 S X=$P(RADATA,U,6),RASTORD=$P(X,"~"),RASTNM=$P(X,"~",2)
"RTN","MAGJUTL1",112,0)
 S X=^RADPT(RADFN,"DT",RADTI,"P",RACNI,0),COMPLIC=$D(^("COMP")),PROCMOD=$D(^("M")),CPTMOD=$D(^("CMOD"))
"RTN","MAGJUTL1",113,0)
 S RAST=$P(X,U,3),REQLOC=$P(X,U,22),RIST1=$P(X,U,12),RIST2=$P(X,U,15),COMPLIC=$P(X,U,16)_"~"_COMPLIC
"RTN","MAGJUTL1",114,0)
 S REQWARD=$P(X,U,6)
"RTN","MAGJUTL1",115,0)
 N CT,MODS,IEN,TT  ; Process Proc/CPT Modifier info
"RTN","MAGJUTL1",116,0)
 S CT=0
"RTN","MAGJUTL1",117,0)
 I PROCMOD D
"RTN","MAGJUTL1",118,0)
 . S IEN=0
"RTN","MAGJUTL1",119,0)
 . F  S IEN=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"M",IEN)) Q:'IEN  S X=$P($G(^(IEN,0)),U) I X D
"RTN","MAGJUTL1",120,0)
 . . S X=$P($G(^RAMIS(71.2,X,0)),U) Q:X=""  S X=$$TRIM(X)
"RTN","MAGJUTL1",121,0)
 . . S X=$S(X="BILATERAL EXAM":"BILAT",1:X)
"RTN","MAGJUTL1",122,0)
 . . S CT=CT+1,MODS(CT)=X
"RTN","MAGJUTL1",123,0)
 I CPTMOD D
"RTN","MAGJUTL1",124,0)
 . S IEN=0
"RTN","MAGJUTL1",125,0)
 . F  S IEN=$O(^RADPT(RADFN,"DT",RADTI,"P",RACNI,"CMOD",IEN)) Q:'IEN  S X=$P($G(^(IEN,0)),U) I X D
"RTN","MAGJUTL1",126,0)
 . . S X=$P($G(^DIC(81.3,X,0)),U,2) Q:X=""  S X=$$TRIM(X)
"RTN","MAGJUTL1",127,0)
 . . S X=$S(X="LEFT SIDE":"LEFT",X="RIGHT SIDE":"RIGHT",X="BILATERAL PROCEDURE":"BILAT",1:X)
"RTN","MAGJUTL1",128,0)
 . . S CT=CT+1,MODS(CT)=X
"RTN","MAGJUTL1",129,0)
 S MODTXT="",LRFLAG=0 K TT
"RTN","MAGJUTL1",130,0)
 I CT F I=1:1:CT S X=MODS(I) D
"RTN","MAGJUTL1",131,0)
 . ; eliminate redundant values for L/R/Bilat (TT), & track L/R for prior matching (LRFLAG)
"RTN","MAGJUTL1",132,0)
 . S T=(X="LEFT") I T,$D(TT(1)) Q  ; already got it
"RTN","MAGJUTL1",133,0)
 . I 'T S T=(X="RIGHT") I T S T=2 I T,$D(TT(2)) Q   ; ditto
"RTN","MAGJUTL1",134,0)
 . I 'T S T=(X="BILAT") I T S T=3 I T,$D(TT(3)) Q   ; ditto
"RTN","MAGJUTL1",135,0)
 . I T S TT(T)="",MODTXT=X_$S(MODTXT="":"",1:";")_MODTXT ; force L/R/Bilat to left end of string ..
"RTN","MAGJUTL1",136,0)
 . E  S MODTXT=MODTXT_$S(MODTXT="":"",1:";")_X  ; .. so is easier to spot in displayed column
"RTN","MAGJUTL1",137,0)
 . I 'LRFLAG S:T LRFLAG=T
"RTN","MAGJUTL1",138,0)
 . E  I T  S:(LRFLAG'=T) LRFLAG=3 ; L&R or Bilat--ignore result
"RTN","MAGJUTL1",139,0)
 S LRFLAG=$S(LRFLAG=1:"L",LRFLAG=2:"R",1:"") ; Left/Right indicator
"RTN","MAGJUTL1",140,0)
 S RADIV=$P(^RADPT(RADFN,"DT",RADTI,0),U,3)
"RTN","MAGJUTL1",141,0)
 K DIC,DR,DA,DIQ
"RTN","MAGJUTL1",142,0)
 I 'REQLOC S (REQLOCN,REQLOCT,REQLOCA)=""
"RTN","MAGJUTL1",143,0)
 E  D
"RTN","MAGJUTL1",144,0)
 . S X=$G(^SC(REQLOC,0)),REQLOCN=$P(X,U),REQLOCA=$P(X,U,2)
"RTN","MAGJUTL1",145,0)
 . S:REQLOCA="" REQLOCA=REQLOCN
"RTN","MAGJUTL1",146,0)
 . S DIC="44",DR="2",DA=REQLOC,DIQ="REQLOCT" D EN^DIQ1 K DIC,DR,DA,DIQ
"RTN","MAGJUTL1",147,0)
 . S REQLOCT=REQLOCT(44,REQLOC,2)
"RTN","MAGJUTL1",148,0)
 I REQWARD]"" S DIC="42",DR=".01",DA=REQWARD,DIQ="REQWARD" D EN^DIQ1 K DIC,DR,DA,DIQ S REQWARD=REQWARD(42,REQWARD,.01)
"RTN","MAGJUTL1",149,0)
 S X=$$RIST(RIST1,RIST2),RIST=$P(X,U),RISTISME=$P(X,U,2)
"RTN","MAGJUTL1",150,0)
 S RADTE=9999999.9999-RADTI,(RADTPRT,Y)=RADTE D D^RAUTL S RADATE=Y
"RTN","MAGJUTL1",151,0)
 S RADTPRT=$E(RADTPRT,4,5)_"/"_$E(RADTPRT,6,7)_"/"_$E(RADTPRT,2,3)
"RTN","MAGJUTL1",152,0)
 S RAPRC=$E($P(RADATA,U),1,40),RACN=$P(RADATA,U,2),RAELOC=$P(RADATA,U,7)
"RTN","MAGJUTL1",153,0)
 S IMTYPABB=$P($P(RADATA,U,8),"~"),RACPT=$P(RADATA,U,10)
"RTN","MAGJUTL1",154,0)
 S DAYCASE=$E(RADTE,4,7)_$E(RADTE,2,3)_"-"_RACN
"RTN","MAGJUTL1",155,0)
 S RASTP=RASTNM,RASTCAT=""
"RTN","MAGJUTL1",156,0)
 I RAST S RASTCAT=$P($G(^RA(72,RAST,0)),U,9)
"RTN","MAGJUTL1",157,0)
 S RANME=$P(^DPT(RADFN,0),U)
"RTN","MAGJUTL1",158,0)
 S DFN=RADFN D PID^VADPT6 S RASSN=$S(VAERR:"Unknown",1:VA("PID"))
"RTN","MAGJUTL1",159,0)
 K VA("PID"),VA("BID"),VAERR
"RTN","MAGJUTL1",160,0)
 S MAGRACNT=$G(MAGRACNT)+1
"RTN","MAGJUTL1",161,0)
 I MAGRACNT=1 K ^TMP($J,"MAGRAEX")
"RTN","MAGJUTL1",162,0)
 S ^TMP($J,"MAGRAEX",MAGRACNT,1)=RADFN_U_RADTI_U_RACNI_U_$E(RANME,1,30)_U_RASSN_U_RADATE_U_RADTE_U_RACN_U_$E(RAPRC,1,35)_U_RARPT_U_RAST_U_DAYCASE_U_RAELOC_U_RASTP_U_RASTORD_U_RADTPRT_U_RACPT_U_IMTYPABB
"RTN","MAGJUTL1",163,0)
 S ^TMP($J,"MAGRAEX",MAGRACNT,2)=REQLOCA_U_$E(REQLOCN,1,25)_U_RIST_U_COMPLIC_U_RADIV_U_$P($$IMGSIT(RADIV),U,2)_U_RISTISME_U_MODTXT_U_REQLOCT_U_REQWARD_U_RASTCAT_U_LRFLAG
"RTN","MAGJUTL1",164,0)
 S MAGRET=1
"RTN","MAGJUTL1",165,0)
 Q
"RTN","MAGJUTL1",166,0)
 ;
"RTN","MAGJUTL1",167,0)
RIST(RIST1,RIST2) ; return Interp Radiologist info
"RTN","MAGJUTL1",168,0)
 S RIST1=$G(RIST1),RIST2=$G(RIST2)
"RTN","MAGJUTL1",169,0)
 N RIST,RISTISME
"RTN","MAGJUTL1",170,0)
 S (RIST,RISTISME)=""
"RTN","MAGJUTL1",171,0)
 I RIST1!RIST2 D
"RTN","MAGJUTL1",172,0)
 . I RIST1 S RISTISME=RIST1=DUZ S RIST=$$USERINF^MAGJUTL3(RIST1,1)
"RTN","MAGJUTL1",173,0)
 . I RIST2 S:'RISTISME RISTISME=RIST2=DUZ S RIST2=$$USERINF^MAGJUTL3(RIST2,1)
"RTN","MAGJUTL1",174,0)
 . I RIST]"" S RIST=RIST_$S(RIST2]"":"/"_RIST2,1:"")
"RTN","MAGJUTL1",175,0)
 . E  S RIST=RIST2
"RTN","MAGJUTL1",176,0)
 Q RIST_U_RISTISME
"RTN","MAGJUTL1",177,0)
 ;
"RTN","MAGJUTL1",178,0)
IMGSIT(DIV,DFLT) ; Return Imaging Site code for input Division
"RTN","MAGJUTL1",179,0)
 ; From 2006.1:  IEN ^ Site Code ^ Parent_DIV
"RTN","MAGJUTL1",180,0)
 I DIV]"" D
"RTN","MAGJUTL1",181,0)
 . N IEN I $D(^MAG(2006.1,"B",DIV)) S IEN=$O(^(DIV,"")) I IEN
"RTN","MAGJUTL1",182,0)
 . E  I $G(DFLT) S IEN=$O(^MAG(2006.1,0)) ; Dflt to 1st if requested
"RTN","MAGJUTL1",183,0)
 . E  S X="" Q
"RTN","MAGJUTL1",184,0)
 . S X=^MAG(2006.1,IEN,0),X=IEN_U_$P(X,U,9)_U_$P(X,U)
"RTN","MAGJUTL1",185,0)
 Q X
"RTN","MAGJUTL1",186,0)
 ;
"RTN","MAGJUTL1",187,0)
TRIM(X) ; Trim trailing spaces from X
"RTN","MAGJUTL1",188,0)
 I $G(X)]"" D
"RTN","MAGJUTL1",189,0)
 . F I=$L(X):-1:0 I $E(X,I)'=" " Q
"RTN","MAGJUTL1",190,0)
 . I I S X=$E(X,1,I)
"RTN","MAGJUTL1",191,0)
 . E  S X=""
"RTN","MAGJUTL1",192,0)
 Q:$Q X  Q
"RTN","MAGJUTL1",193,0)
 ;
"RTN","MAGJUTL1",194,0)
END Q  ;
"RTN","MAGJUTL2")
0^10^B44956617
"RTN","MAGJUTL2",1,0)
MAGJUTL2 ;WIRMFO/JHC VistRad subroutines for RPC calls[ 2/21/97  10:53 AM ] ; 22 Mar 2001  2:24 PM
"RTN","MAGJUTL2",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJUTL2",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL2",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJUTL2",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJUTL2",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJUTL2",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJUTL2",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJUTL2",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJUTL2",10,0)
 ;; |                                                               |
"RTN","MAGJUTL2",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJUTL2",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJUTL2",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJUTL2",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJUTL2",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJUTL2",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL2",17,0)
 ;;
"RTN","MAGJUTL2",18,0)
 Q
"RTN","MAGJUTL2",19,0)
IMGINFO(RARPT,RET) ; Fetch info from Image File for input RARPT:
"RTN","MAGJUTL2",20,0)
 ; Input: RARPT: Rad Report pointer
"RTN","MAGJUTL2",21,0)
 ;        RET: see below
"RTN","MAGJUTL2",22,0)
 ; RET contents delimited by ^:
"RTN","MAGJUTL2",23,0)
 ;       CT = # of images for case
"RTN","MAGJUTL2",24,0)
 ;      ONL = Image Storage status (Y=On Magnetic disk, N=Jukebox
"RTN","MAGJUTL2",25,0)
 ;             "n/a"  for not available, e.g., film only)
"RTN","MAGJUTL2",26,0)
 ;        note -- if last image in group is Online, considers ALL online
"RTN","MAGJUTL2",27,0)
 ;    MAGDT = Date/Time of Image Capture
"RTN","MAGJUTL2",28,0)
 ;   REMOTE = 1/0 to Indicate images were remotely cached
"RTN","MAGJUTL2",29,0)
 ;  MODALITY= Modality abbrev
"RTN","MAGJUTL2",30,0)
 ;    PLACE = Image storage PLace (ptr to 2006.1 entry)
"RTN","MAGJUTL2",31,0)
 ;    KEY = 1/0 ind. Key Images exist for this exam
"RTN","MAGJUTL2",32,0)
 ; 
"RTN","MAGJUTL2",33,0)
 N IRPT,MAGIEN,MAGIEN2,ONLCHK,NETLOC,STIEN
"RTN","MAGJUTL2",34,0)
 N CT,ONL,MAGDT,REMOTE,MODALITY,PLACE,REMCHK,KEY
"RTN","MAGJUTL2",35,0)
 S CT="",ONL="",MAGDT="",RET="",REMOTE="",MODALITY="",PLACE="",KEY=0 ; init return vars
"RTN","MAGJUTL2",36,0)
 G IMGINFQ:'RARPT G IMGINFQ:'$D(^RARPT(RARPT,2005,0))
"RTN","MAGJUTL2",37,0)
 I 'MAGJOB("P32") D
"RTN","MAGJUTL2",38,0)
 . S STIEN=$$STUDYID^MAGJUPD2("",RARPT,1)
"RTN","MAGJUTL2",39,0)
 . I STIEN S T=$O(^MAG(2005,STIEN,205,0)) I T S KEY=1
"RTN","MAGJUTL2",40,0)
 S IRPT=0 F  S IRPT=$O(^RARPT(RARPT,2005,IRPT)) Q:'IRPT  S MAGIEN=$P(^(IRPT,0),U) D
"RTN","MAGJUTL2",41,0)
 . Q:'$D(^MAG(2005,MAGIEN,0))  I MAGDT="" S MAGDT=$P($G(^(2)),U)
"RTN","MAGJUTL2",42,0)
 . I $O(^MAG(2005,MAGIEN,1,0)) S CT=CT+$P(^(0),U,4),Y=$P(^(0),U,3),MAGIEN2=$P($G(^(Y,0)),U) S:(MAGIEN2]"") ONLCHK=$$ONLCHK(MAGIEN2),REMCHK=$$REMOTE(MAGIEN2) ; last image in group
"RTN","MAGJUTL2",43,0)
 . E  S CT=CT+1,ONLCHK=$$ONLCHK(MAGIEN),REMCHK=$$REMOTE(MAGIEN)
"RTN","MAGJUTL2",44,0)
 . S ONL=$S(ONL="":+ONLCHK,+ONL:+ONLCHK,1:0) ; NOT Online if ANY img is 0
"RTN","MAGJUTL2",45,0)
 . S REMOTE=$S(REMOTE="":REMCHK,+REMOTE:REMCHK,1:0) ; NOT Remote if ANY img is 0
"RTN","MAGJUTL2",46,0)
 . S X=$P(ONLCHK,U,3)
"RTN","MAGJUTL2",47,0)
 . I MODALITY="" S MODALITY=X
"RTN","MAGJUTL2",48,0)
 . E  I MODALITY'[X S MODALITY=MODALITY_","_X
"RTN","MAGJUTL2",49,0)
 . I PLACE="" S PLACE=$P(ONLCHK,U,4)
"RTN","MAGJUTL2",50,0)
IMGINFQ S ONL=$S(+ONL:"Y",ONL="":"n/a",1:"N")
"RTN","MAGJUTL2",51,0)
 S RET=CT_U_ONL_U_MAGDT_U_REMOTE_U_MODALITY_U_PLACE_U_KEY
"RTN","MAGJUTL2",52,0)
 Q
"RTN","MAGJUTL2",53,0)
 ;
"RTN","MAGJUTL2",54,0)
ONLCHK(MAGIEN,USETGA) ;
"RTN","MAGJUTL2",55,0)
 ; Input: MAGIEN: Image pointer
"RTN","MAGJUTL2",56,0)
 ;        USETGA: 1/0 -- if 1, forces return of TGA (not .big) file
"RTN","MAGJUTL2",57,0)
 ;Return:
"RTN","MAGJUTL2",58,0)
 ;   - T/F for Full-Res image on Mag. Disk that is Online
"RTN","MAGJUTL2",59,0)
 ;   - File type (BIG/FULL)
"RTN","MAGJUTL2",60,0)
 ;   - Modality
"RTN","MAGJUTL2",61,0)
 ;   - Place
"RTN","MAGJUTL2",62,0)
 ;   - DFN
"RTN","MAGJUTL2",63,0)
 ;   - File Name IFF this image is stored Off-Line (else null)
"RTN","MAGJUTL2",64,0)
 ;   - USETGA as calculated in the logic below
"RTN","MAGJUTL2",65,0)
 ;   USETGA is set to False (0) if a low-resolution image (TGA) is
"RTN","MAGJUTL2",66,0)
 ;     requested, but none exists; calling routine would call by ref.
"RTN","MAGJUTL2",67,0)
 ;
"RTN","MAGJUTL2",68,0)
 N BIG,X,NOD,MAG0,MODALITY,RET,PLACE,DFN,FILNAM
"RTN","MAGJUTL2",69,0)
 S USETGA=+$G(USETGA) ; Defaults to Full-Resolution image if not defined
"RTN","MAGJUTL2",70,0)
 S RET="",MODALITY="",PLACE=""
"RTN","MAGJUTL2",71,0)
 S MAG0=^MAG(2005,MAGIEN,0),BIG=$D(^("FBIG")),NOD=$S(BIG:^("FBIG"),1:MAG0)
"RTN","MAGJUTL2",72,0)
 I USETGA D
"RTN","MAGJUTL2",73,0)
 . I 'BIG S USETGA=0 ; reply no low-res image available
"RTN","MAGJUTL2",74,0)
 . I BIG S NOD=MAG0,BIG=0 ; enable correct logic inside this subroutine
"RTN","MAGJUTL2",75,0)
 S MODALITY=$P(MAG0,U,8),DFN=$P(MAG0,U,7)
"RTN","MAGJUTL2",76,0)
 I BIG S X=+$P(NOD,U)  ; $p 1 is Magnetic Disk/Volume (.big)   <*> DCM--add to end: S:'X X=+$P(NOD,U,3)
"RTN","MAGJUTL2",77,0)
 E  S X=+$P(NOD,U,3)   ; $p 3 is Magnetic Disk/Volume (.tga)
"RTN","MAGJUTL2",78,0)
 I X D
"RTN","MAGJUTL2",79,0)
 . I '$D(NETLOC(X)) S NETLOC(X)=+$P(^MAG(2005.2,X,0),U,6)_U_$P(^(0),U,10)
"RTN","MAGJUTL2",80,0)
 . S RET=+NETLOC(X),PLACE=$P(NETLOC(X),U,2) ; NETLOC is global to this subrtn
"RTN","MAGJUTL2",81,0)
 . S FILNAM=""
"RTN","MAGJUTL2",82,0)
 E  D
"RTN","MAGJUTL2",83,0)
 . S RET=0,FILNAM=$P(MAG0,U,2)
"RTN","MAGJUTL2",84,0)
 . S T=$S(BIG:$P(NOD,U,2),1:$P(NOD,U,5))
"RTN","MAGJUTL2",85,0)
 . I T S PLACE=$P(^MAG(2005.2,T,0),U,10) ; <*>DCM--add anything?
"RTN","MAGJUTL2",86,0)
 S RET=RET_U_$S(BIG:"BIG",1:"FULL")_U_MODALITY_U_PLACE_U_DFN_U_FILNAM_U_USETGA
"RTN","MAGJUTL2",87,0)
 Q RET
"RTN","MAGJUTL2",88,0)
 ;
"RTN","MAGJUTL2",89,0)
REMOTE(MAGIEN) ;Return list of remote  Cache Locations
"RTN","MAGJUTL2",90,0)
 ;  else, return "" if none
"RTN","MAGJUTL2",91,0)
 N RET,LOC
"RTN","MAGJUTL2",92,0)
 S RET=""
"RTN","MAGJUTL2",93,0)
 I $D(^MAG(2005,MAGIEN,4,"LOC")) S LOC=0 D
"RTN","MAGJUTL2",94,0)
 . F  S LOC=$O(^MAG(2005,MAGIEN,4,"LOC",LOC)) Q:'LOC  S RET=RET_$S(RET="":"",1:",")_LOC
"RTN","MAGJUTL2",95,0)
 Q RET
"RTN","MAGJUTL2",96,0)
 ;
"RTN","MAGJUTL2",97,0)
IMGINF2(RARPT,RET,USETGA) ; Fetch info from Image File for input RARPT:
"RTN","MAGJUTL2",98,0)
 ; Input: RARPT: Rad Report pointer
"RTN","MAGJUTL2",99,0)
 ;        RET: see below
"RTN","MAGJUTL2",100,0)
 ;        USETGA: 1/0 -- if 1, forces return of TGA (not .big) file
"RTN","MAGJUTL2",101,0)
 ; RET holds array of return values:
"RTN","MAGJUTL2",102,0)
 ;   RET = # Images stored for the case
"RTN","MAGJUTL2",103,0)
 ;   RET(1:n) = 1/0 ^ FULL/BIG ^ Mod ^ ien ^ Series ^ Routed-to Locations ^ PLACE ^ DFN ^ FileName (if OffLine) ^ PS_Indicator
"RTN","MAGJUTL2",104,0)
 ;             (1=Image is on Magnetic Disk)
"RTN","MAGJUTL2",105,0)
 ; * This subroutine may be called by other VistARad routines
"RTN","MAGJUTL2",106,0)
 ;
"RTN","MAGJUTL2",107,0)
 N BIG,IMG,MAGIEN,MAGIEN2,MAGPTR,MAGINDX,MAGREF,NETLOC,SERIES,SERCT,SERPREV
"RTN","MAGJUTL2",108,0)
 K RET S RET=0,SERCT=0,SERPREV=""
"RTN","MAGJUTL2",109,0)
 S USETGA=+$G(USETGA) ; Defaults to Full-Resolution image if not defined
"RTN","MAGJUTL2",110,0)
 G IMGINF2Q:'RARPT S IMG=0
"RTN","MAGJUTL2",111,0)
 S MAGINDX="ADCM"  ; maybe others will exist in the future
"RTN","MAGJUTL2",112,0)
 ; *P18--this index is defunct for P18 & beyond
"RTN","MAGJUTL2",113,0)
 ; however, keep for bkwds-compat P18 to P32; remove later
"RTN","MAGJUTL2",114,0)
 F  S IMG=$O(^RARPT(RARPT,2005,IMG)) Q:'IMG  S MAGIEN=$P(^(IMG,0),U) D
"RTN","MAGJUTL2",115,0)
 . S MAGREF=$NA(^MAG(2005,MAGIEN,1,MAGINDX))
"RTN","MAGJUTL2",116,0)
 . I 'MAGJOB("P32")!'$D(@MAGREF) D  ; use group multiple structure
"RTN","MAGJUTL2",117,0)
 .. Q:'$D(^MAG(2005,MAGIEN,0))  S MAGPTR=0
"RTN","MAGJUTL2",118,0)
 .. I '$O(^MAG(2005,MAGIEN,1,MAGPTR)) D  Q
"RTN","MAGJUTL2",119,0)
 ... S T=$$ONLCHK(MAGIEN,USETGA)
"RTN","MAGJUTL2",120,0)
 ... S RET=RET+1,RET(RET)=$P(T,U,1,3)_U_MAGIEN_U_U_$$REMOTE(MAGIEN)_U_$P(T,U,4,7)_U_$$PSIND(MAGIEN)
"RTN","MAGJUTL2",121,0)
 .. E  F  S MAGPTR=$O(^MAG(2005,MAGIEN,1,MAGPTR)) Q:'MAGPTR  S MAGIEN2=$P(^(MAGPTR,0),U) D
"RTN","MAGJUTL2",122,0)
 ... S T=$$ONLCHK(MAGIEN2,USETGA)
"RTN","MAGJUTL2",123,0)
 ... S RET=RET+1,RET(RET)=$P(T,U,1,3)_U_MAGIEN2_U_U_$$REMOTE(MAGIEN2)_U_$P(T,U,4,7)_U_$$PSIND(MAGIEN2)
"RTN","MAGJUTL2",124,0)
 . E  I $D(@MAGREF) D   ; use exam index, e.g., "ADCM"
"RTN","MAGJUTL2",125,0)
 .. F  S MAGREF=$Q(@MAGREF) Q:($P(MAGREF,",",4)'=(""""_MAGINDX_""""))  D
"RTN","MAGJUTL2",126,0)
 ... S X=$L(MAGREF,","),MAGIEN2=$P(MAGREF,",",X-1),SERIES=$P(MAGREF,",",5)
"RTN","MAGJUTL2",127,0)
 ... S T=$$ONLCHK(MAGIEN2,USETGA),RET=RET+1,RET(RET)=$P(T,U,1,3)_U_MAGIEN2_U_SERIES_U_$$REMOTE(MAGIEN2)_U_$P(T,U,4,7)
"RTN","MAGJUTL2",128,0)
 ... I SERIES'=SERPREV S SERCT=SERCT+1,$P(RET("SER",SERCT),U,2)=SERIES,SERPREV=SERIES,RET("SER",0)=SERCT
"RTN","MAGJUTL2",129,0)
 ... S $P(RET("SER",SERCT),U)=RET("SER",SERCT)+1
"RTN","MAGJUTL2",130,0)
IMGINF2Q ;
"RTN","MAGJUTL2",131,0)
 Q
"RTN","MAGJUTL2",132,0)
 ;
"RTN","MAGJUTL2",133,0)
PSIND(MAGIEN) ; return Presentation State Indicator(s) for image
"RTN","MAGJUTL2",134,0)
 ; K=Key Image PStype; I=Interpretation PStyp; U=User PStyp
"RTN","MAGJUTL2",135,0)
 N RSL,IEN,X
"RTN","MAGJUTL2",136,0)
 S RSL="",IEN=0
"RTN","MAGJUTL2",137,0)
 I $D(^MAG(2005,MAGIEN,210,IEN)) F  S IEN=$O(^MAG(2005,MAGIEN,210,IEN)) Q:'IEN  S X=$P(^(IEN,0),U,2) Q:RSL[X  S RSL=RSL_$S(RSL="":"",1:",")_X
"RTN","MAGJUTL2",138,0)
 Q:$Q RSL Q
"RTN","MAGJUTL2",139,0)
 ;
"RTN","MAGJUTL2",140,0)
JBFETCH(RARPT,MAGS,USETGA) ; fetch this case's images from Jukebox, if necessary
"RTN","MAGJUTL2",141,0)
 ; Input: RARPT: Rad Report pointer
"RTN","MAGJUTL2",142,0)
 ;        MAGS: see below
"RTN","MAGJUTL2",143,0)
 ;        USETGA: 1/0 -- if 1, forces return of TGA (not .big) file
"RTN","MAGJUTL2",144,0)
 ; This is a function that returns a string containing:
"RTN","MAGJUTL2",145,0)
 ;   # Images fetched from JB ^ Total # Images for Case ^ # Low Res Imgs
"RTN","MAGJUTL2",146,0)
 ; The MAGS array will be returned to the calling
"RTN","MAGJUTL2",147,0)
 ; routine if MAGS is provided as an input parameter
"RTN","MAGJUTL2",148,0)
 ;   MAGS is populated by call to IMGINF2.
"RTN","MAGJUTL2",149,0)
 ;   IF any images are stored OffLine, then this node is set here:
"RTN","MAGJUTL2",150,0)
 ;     MAGS("OFFLN",JBOFFLN)=""  JBOFFLN = Platter ID from file 2006.033
"RTN","MAGJUTL2",151,0)
 ;
"RTN","MAGJUTL2",152,0)
 ; * This function may be called by other VistARad routines
"RTN","MAGJUTL2",153,0)
 ;
"RTN","MAGJUTL2",154,0)
 N MAGIEN,FETCH,IMAG,FILNAM,JBOFFLN,LORESCT
"RTN","MAGJUTL2",155,0)
 S USETGA=+$G(USETGA) ; Defaults to Full-Resolution image if not defined
"RTN","MAGJUTL2",156,0)
 S FETCH=0,LORESCT=0
"RTN","MAGJUTL2",157,0)
 D IMGINF2(RARPT,.MAGS,USETGA)
"RTN","MAGJUTL2",158,0)
 I MAGS F IMAG=1:1:MAGS S X=MAGS(IMAG) D
"RTN","MAGJUTL2",159,0)
 . I USETGA S LORESCT=LORESCT+$P(X,U,10)
"RTN","MAGJUTL2",160,0)
 . I '+X D  ; Call params below depend on Consolidated Site status
"RTN","MAGJUTL2",161,0)
 .. S FILNAM=$P(X,U,9)
"RTN","MAGJUTL2",162,0)
 .. I FILNAM]"",$D(^MAGQUEUE(2006.033,"B",FILNAM)) S T=$O(^(FILNAM,"")) S JBOFFLN=$P($G(^MAGQUEUE(2006.033,T,0)),U,2) S FETCH=FETCH+1,MAGS("OFFLN",JBOFFLN)="" Q  ; OffLine Image
"RTN","MAGJUTL2",163,0)
 .. I '$G(MAGJOB("CONSOLIDATED")) S X=$$JBTOHD^MAGBAPI($P(X,U,4)_"^"_$P(X,U,2)),FETCH=FETCH+1 ; pre-consolidation vs
"RTN","MAGJUTL2",164,0)
 .. E  S X=$$JBTOHD^MAGBAPI($P(X,U,4)_"^"_$P(X,U,2),$P(X,U,7)),FETCH=FETCH+1
"RTN","MAGJUTL2",165,0)
 Q FETCH_U_MAGS_U_LORESCT
"RTN","MAGJUTL2",166,0)
 ;
"RTN","MAGJUTL2",167,0)
END Q  ;
"RTN","MAGJUTL3")
0^17^B70835558
"RTN","MAGJUTL3",1,0)
MAGJUTL3 ;WIRMFO/JHC VistARad subrtns & RPCs ; 29 Jul 2003  10:03 AM
"RTN","MAGJUTL3",2,0)
 ;;3.0;IMAGING;**16,9,22,18**;Mar 07, 2006
"RTN","MAGJUTL3",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL3",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJUTL3",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJUTL3",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJUTL3",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJUTL3",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJUTL3",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJUTL3",10,0)
 ;; |                                                               |
"RTN","MAGJUTL3",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJUTL3",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJUTL3",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJUTL3",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJUTL3",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJUTL3",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL3",17,0)
 ;;
"RTN","MAGJUTL3",18,0)
 Q
"RTN","MAGJUTL3",19,0)
 ;RPC Entry points:
"RTN","MAGJUTL3",20,0)
 ; LISTINF--Custom list info
"RTN","MAGJUTL3",21,0)
 ; LOGOFF--update session file
"RTN","MAGJUTL3",22,0)
 ; CACHEQ--init session data
"RTN","MAGJUTL3",23,0)
 ; PINF1--Patient info
"RTN","MAGJUTL3",24,0)
 ; USERINF2--P18 inits for the session
"RTN","MAGJUTL3",25,0)
 ;Subrtn EPs:
"RTN","MAGJUTL3",26,0)
 ; LOG--Upd image access log
"RTN","MAGJUTL3",27,0)
 ; MAGJOBNC--inits for non-client sessions
"RTN","MAGJUTL3",28,0)
 ; USERKEYS--user key info
"RTN","MAGJUTL3",29,0)
 ; USERINF--user info
"RTN","MAGJUTL3",30,0)
 ;
"RTN","MAGJUTL3",31,0)
LISTINF(MAGGRY) ; RPC: MAGJ CUSTOM LISTS
"RTN","MAGJUTL3",32,0)
 ;  get Exam List data
"RTN","MAGJUTL3",33,0)
 ; Return in ^TMP($J,"MAGJLSTINF",0:N)
"RTN","MAGJUTL3",34,0)
 ;     0)= # Entries below (0:n)
"RTN","MAGJUTL3",35,0)
 ;   1:n)= Button Label^List #^Button Hints^List Type
"RTN","MAGJUTL3",36,0)
 ;
"RTN","MAGJUTL3",37,0)
 ; MAGGRY holds $NA ref to ^TMP for return message
"RTN","MAGJUTL3",38,0)
 ;   all refs to MAGGRY use SS indirection
"RTN","MAGJUTL3",39,0)
 ;
"RTN","MAGJUTL3",40,0)
 ; GLB has $NA ref to ^MAG(2006.631), Custom Lists
"RTN","MAGJUTL3",41,0)
 ;   refs to GLB use SS indirection to get data from this file
"RTN","MAGJUTL3",42,0)
 ;
"RTN","MAGJUTL3",43,0)
 S X="ERR1^MAGJUTL3",@^%ZOSF("TRAP")
"RTN","MAGJUTL3",44,0)
 N D0,GLB,INF,MAGLST,NAM,T
"RTN","MAGJUTL3",45,0)
 S MAGLST="MAGJLSTINF"
"RTN","MAGJUTL3",46,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY S @MAGGRY@(0)=0
"RTN","MAGJUTL3",47,0)
 S GLB=$NA(^MAG(2006.631)),NAM=""
"RTN","MAGJUTL3",48,0)
 F  S NAM=$O(@GLB@("B",NAM)) Q:NAM=""  S D0="" D
"RTN","MAGJUTL3",49,0)
 . S D0=$O(@GLB@("B",NAM,D0)) Q:'D0  D
"RTN","MAGJUTL3",50,0)
 . . S X=$G(@GLB@(D0,0)) Q:($P(X,U,2)>9000)!'$P(X,U,6)  ; List Active & User-defined
"RTN","MAGJUTL3",51,0)
 . . S INF="" F I=1:1 S T=$P("7^2^1^3",U,I) Q:T=""  S Y=$P(X,U,T) Q:Y=""  S $P(INF,U,I)=Y
"RTN","MAGJUTL3",52,0)
 . . Q:T'=""  ; req'd fields not all there
"RTN","MAGJUTL3",53,0)
 . . S T=@MAGGRY@(0)+1,^(0)=T,^(T)=INF ; add entry to reply
"RTN","MAGJUTL3",54,0)
 Q
"RTN","MAGJUTL3",55,0)
 ;
"RTN","MAGJUTL3",56,0)
LOG(ACTION,LOGDATA) ; Log exam access
"RTN","MAGJUTL3",57,0)
 N PTCT,TXT,RADFN,MAGIEN,NIMGS,REMOTE
"RTN","MAGJUTL3",58,0)
 S RADFN=$P(LOGDATA,U),MAGIEN=$P(LOGDATA,U,2),NIMGS=$P(LOGDATA,U,3),REMOTE=$P(LOGDATA,U,4)
"RTN","MAGJUTL3",59,0)
 I ACTION="" S ACTION="UNKNOWN"  ; Should never happen
"RTN","MAGJUTL3",60,0)
 S PTCT=RADFN'=$G(MAGJOB("LASTPT",ACTION))
"RTN","MAGJUTL3",61,0)
 I PTCT S MAGJOB("LASTPT",ACTION)=RADFN
"RTN","MAGJUTL3",62,0)
 S TXT=ACTION_U_RADFN_U_MAGIEN_U_U_U_NIMGS
"RTN","MAGJUTL3",63,0)
 S TXT=TXT_U_PTCT_U_$S(+MAGJOB("USER",1):1,1:0)_U_REMOTE
"RTN","MAGJUTL3",64,0)
 ; Session Log
"RTN","MAGJUTL3",65,0)
 D ACTION^MAGGTAU(TXT,1)
"RTN","MAGJUTL3",66,0)
 ; Mag Log
"RTN","MAGJUTL3",67,0)
 I REMOTE S ACTION=ACTION_"/REM"
"RTN","MAGJUTL3",68,0)
 D ENTRY^MAGLOG(ACTION,+DUZ,MAGIEN,"VRAD:"_MAGJOB("VRVERSION"),RADFN,NIMGS)
"RTN","MAGJUTL3",69,0)
 Q
"RTN","MAGJUTL3",70,0)
 ;
"RTN","MAGJUTL3",71,0)
LOGOFF(MAGGRY,DATA) ; RPC: MAGJ LOGOFF
"RTN","MAGJUTL3",72,0)
 ; update session file: logoff time & session entry closed
"RTN","MAGJUTL3",73,0)
 D LOGOFF^MAGGTAU(.MAGGRY)
"RTN","MAGJUTL3",74,0)
 Q
"RTN","MAGJUTL3",75,0)
 ;
"RTN","MAGJUTL3",76,0)
CACHEQ(MAGGRY,DATA) ; RPC: MAGJ CACHELOCATION
"RTN","MAGJUTL3",77,0)
 ; some logon inits & get alternate paths for Remote Reading
"RTN","MAGJUTL3",78,0)
 ; input in DATA:
"RTN","MAGJUTL3",79,0)
 ;  - WSLOC   = WS Loc'n
"RTN","MAGJUTL3",80,0)
 ;  - VRADVER = Client Vs -- p32 ONLY
"RTN","MAGJUTL3",81,0)
 ;  - OSVER   = Client OS Vs -- p32 ONLY
"RTN","MAGJUTL3",82,0)
 ; Return in ^TMP($J,"MAGJCACHE",0:N) (@MAGGRY)
"RTN","MAGJUTL3",83,0)
 ;     0)= # Entries below (0:n)
"RTN","MAGJUTL3",84,0)
 ;   1:n)= PhysName^Subdirectory^HashFlag^Username^Password^AltPath_IEN
"RTN","MAGJUTL3",85,0)
 ;
"RTN","MAGJUTL3",86,0)
 ; MAGGRY holds $NA reference to ^TMP for return message
"RTN","MAGJUTL3",87,0)
 ;   refs to MAGGRY use SS indirection
"RTN","MAGJUTL3",88,0)
 ;
"RTN","MAGJUTL3",89,0)
 ; Also builds local array:  p32/p18 compatibility: Some of this is moved to userinf2 below
"RTN","MAGJUTL3",90,0)
 ;    MAGJOB("LOC",NetworkLocnIEN)=Site Abbrev
"RTN","MAGJUTL3",91,0)
 ;    MAGJOB("REMOTE")=1/0  (T/F for "User is Remote")
"RTN","MAGJUTL3",92,0)
 ;    MAGJOB("REMOTESCREEN")=0/1  (init User-switchable Remote Screening--P18 use only)
"RTN","MAGJUTL3",93,0)
 ;    MAGJOB("WSLOC")=WS Loc'n String
"RTN","MAGJUTL3",94,0)
 ;    MAGJOB("WSLOCTYP")=WS Loc'n Type
"RTN","MAGJUTL3",95,0)
 ;    MAGJOB("WSNAME")=WS ID
"RTN","MAGJUTL3",96,0)
 ;    MAGJOB("VRVERSION")=VRAD Vs
"RTN","MAGJUTL3",97,0)
 ;    MAGJOB("OSVER")=O/S Vs
"RTN","MAGJUTL3",98,0)
 ;    MAGJOB("ALTPATH")=1/0 ^ 1/0 (T/F Alt Paths are defined 
"RTN","MAGJUTL3",99,0)
 ;               ^ Alt Paths Enabled/Disabled for most recent exam)
"RTN","MAGJUTL3",100,0)
 ;
"RTN","MAGJUTL3",101,0)
 S X="ERR1^MAGJUTL3",@^%ZOSF("TRAP")
"RTN","MAGJUTL3",102,0)
 ;
"RTN","MAGJUTL3",103,0)
 N I,MAGLST,REPLY,TMP,WSLOC,XX,VRADVER,OSVER,DIQUIET,ALTIEN
"RTN","MAGJUTL3",104,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJUTL3",105,0)
 S REPLY=0,MAGLST="MAGJCACHE"
"RTN","MAGJUTL3",106,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY
"RTN","MAGJUTL3",107,0)
 S WSLOC=$P(DATA,U),VRADVER=$P(DATA,U,2),OSVER=$P(DATA,U,3)
"RTN","MAGJUTL3",108,0)
 ;
"RTN","MAGJUTL3",109,0)
 I '$D(MAGJOB("OSVER")) D  ; ID p32 initialization
"RTN","MAGJUTL3",110,0)
 . S MAGJOB("OSVER")=$S(OSVER]"":OSVER,1:"UNK")
"RTN","MAGJUTL3",111,0)
 . S MAGJOB("VRVERSION")=$S(VRADVER]"":VRADVER,1:"UNK")
"RTN","MAGJUTL3",112,0)
 . D MAGJOB ; p32 init of VRAD
"RTN","MAGJUTL3",113,0)
 ; get alt paths location info
"RTN","MAGJUTL3",114,0)
 S MAGJOB("WSLOC")=WSLOC,MAGJOB("REMOTE")=0
"RTN","MAGJUTL3",115,0)
 S MAGJOB("REMOTESCREEN")=+$P($G(^MAG(2006.69,1,0)),U,10)
"RTN","MAGJUTL3",116,0)
 I WSLOC]"" D
"RTN","MAGJUTL3",117,0)
 . S X=$P($G(^MAG(2006.1,+MAGJOB("SITEP"),0)),U,9)
"RTN","MAGJUTL3",118,0)
 . I X]"",(X'=WSLOC) S MAGJOB("REMOTE")=1
"RTN","MAGJUTL3",119,0)
 . E  Q
"RTN","MAGJUTL3",120,0)
 . D LIST^MAGBRTLD(WSLOC,.TMP)
"RTN","MAGJUTL3",121,0)
 . I TMP S REPLY=TMP,MAGJOB("ALTPATH")=$G(MAGJOB("ALTPATH"),"1^1") F I=1:1:TMP D
"RTN","MAGJUTL3",122,0)
 . . S ALTIEN=$P(TMP(I),U,7)
"RTN","MAGJUTL3",123,0)
 . . S XX=$P(TMP(I),U,1,5),X=$P(XX,U,3),$P(XX,U,3)=$S(X="Y":1,1:0)
"RTN","MAGJUTL3",124,0)
 . . S X=$P(XX,U,4),$P(XX,U,4)=$P(XX,U,5),$P(XX,U,5)=X,$P(XX,U,6)=ALTIEN
"RTN","MAGJUTL3",125,0)
 . . S @MAGGRY@(I)=XX,MAGJOB("LOC",ALTIEN)=$P(TMP(I),U,6)
"RTN","MAGJUTL3",126,0)
 I '$D(MAGJOB("ALTPATH")) S MAGJOB("ALTPATH")="0^0"
"RTN","MAGJUTL3",127,0)
 S @MAGGRY@(0)=REPLY
"RTN","MAGJUTL3",128,0)
CACHEQZ Q
"RTN","MAGJUTL3",129,0)
 ;
"RTN","MAGJUTL3",130,0)
MAGJOBNC ; EP for Prefetch/Bkgnd calls (NOT a Vrad Client)
"RTN","MAGJUTL3",131,0)
 N NOTCLIEN S NOTCLIEN=1
"RTN","MAGJUTL3",132,0)
 D MAGJOB
"RTN","MAGJUTL3",133,0)
 Q
"RTN","MAGJUTL3",134,0)
 ;
"RTN","MAGJUTL3",135,0)
MAGJOB ; Init magjob array
"RTN","MAGJUTL3",136,0)
 N T,RIST
"RTN","MAGJUTL3",137,0)
 I $G(MAGJOB("VRVERSION")) S X=+$P(MAGJOB("VRVERSION"),".",3,4)
"RTN","MAGJUTL3",138,0)
 E  S X=18.0 ; non-client processes assume post-P32 logic
"RTN","MAGJUTL3",139,0)
 S MAGJOB("P32")=(X>18.999) ; support back-compatible Client for P18/P32 migration
"RTN","MAGJUTL3",140,0)
 D USERKEYS
"RTN","MAGJUTL3",141,0)
 S MAGJOB("CONSOLIDATED")=($G(^MAG(2006.1,"CONSOLIDATED"))="YES")
"RTN","MAGJUTL3",142,0)
 S MAGJOB("SITEP")=$$IMGSIT^MAGJUTL1(DUZ(2),1)  ; Site Param ien
"RTN","MAGJUTL3",143,0)
 S RIST="" F X="S","R" I $D(^VA(200,"ARC",X,DUZ)) S RIST=X Q
"RTN","MAGJUTL3",144,0)
 S RIST=$S(RIST="S":15,RIST="R":12,1:0) ; Staff/Resident/Non rist
"RTN","MAGJUTL3",145,0)
 S MAGJOB("USER",1)=RIST_U_$$USERINF(+DUZ,".01;1") ; RIST_Type^NAME^INI
"RTN","MAGJUTL3",146,0)
 S X=$P($G(IO("CLNM")),"."),MAGJOB("WSNAME")=$S(X]"":X,1:"VistaradWS")
"RTN","MAGJUTL3",147,0)
 K MAGJOB("DIVSCRN") I MAGJOB("CONSOLIDATED") D
"RTN","MAGJUTL3",148,0)
 . ; include logon DIV, other DIVs to screen Unread Lists & Locking
"RTN","MAGJUTL3",149,0)
 . I $G(DUZ(2))]"" S MAGJOB("DIVSCRN",DUZ(2))=""
"RTN","MAGJUTL3",150,0)
 . S DIV=""
"RTN","MAGJUTL3",151,0)
 . I DUZ(2)'=$P(MAGJOB("SITEP"),U,3) D  ; Assoc DIV
"RTN","MAGJUTL3",152,0)
 . . S IEN=$O(^MAG(2006.1,+MAGJOB("SITEP"),"INSTS","B",DUZ(2),0))
"RTN","MAGJUTL3",153,0)
 . . I IEN F  S DIV=$O(^MAG(2006.1,+MAGJOB("SITEP"),"INSTS",IEN,201,"B",DIV)) Q:'DIV  S MAGJOB("DIVSCRN",DIV)=""
"RTN","MAGJUTL3",154,0)
 . E  D  ; Parent DIV
"RTN","MAGJUTL3",155,0)
 . . F  S DIV=$O(^MAG(2006.1,+MAGJOB("SITEP"),201,"B",DIV)) Q:'DIV  S MAGJOB("DIVSCRN",DIV)=""
"RTN","MAGJUTL3",156,0)
 S MAGJOB("WSLOCTYP")=$S(+MAGJOB("USER",1):"RAD",1:"Non-Rad") ; USer is Rist/Not
"RTN","MAGJUTL3",157,0)
 I '$D(MAGJOB("WRKSIEN")) D
"RTN","MAGJUTL3",158,0)
 . Q:+$G(NOTCLIEN)  ; proceed only if Vrad Client is attached
"RTN","MAGJUTL3",159,0)
 . S X=MAGJOB("WSNAME")_"^^^"_MAGJOB("WSLOCTYP")_U_U_U_U_1_U_MAGJOB("OSVER")_U_MAGJOB("VRVERSION")
"RTN","MAGJUTL3",160,0)
 . D UPD^MAGGTAU(.Y,X)
"RTN","MAGJUTL3",161,0)
 . D REMLOCK^MAGJEX1B ; put here to only run 1x/ login
"RTN","MAGJUTL3",162,0)
 Q
"RTN","MAGJUTL3",163,0)
 ;
"RTN","MAGJUTL3",164,0)
USERINF(DUZ,FLDS) ; get data from user file
"RTN","MAGJUTL3",165,0)
 I FLDS=""!'DUZ Q ""
"RTN","MAGJUTL3",166,0)
 N I,RSL,T S RSL=""
"RTN","MAGJUTL3",167,0)
 D GETS^DIQ(200,+DUZ,FLDS,"E","T")
"RTN","MAGJUTL3",168,0)
 S T=+DUZ_","
"RTN","MAGJUTL3",169,0)
 F I=1:1:$L(FLDS,";") S RSL=RSL_$S(RSL="":"",1:U)_T(200,T,$P(FLDS,";",I),"E")
"RTN","MAGJUTL3",170,0)
 Q RSL
"RTN","MAGJUTL3",171,0)
 ;
"RTN","MAGJUTL3",172,0)
USERKEYS ; Store VRad Security Keys in MagJob
"RTN","MAGJUTL3",173,0)
 ;
"RTN","MAGJUTL3",174,0)
 N I,X,Y
"RTN","MAGJUTL3",175,0)
 N MAGKS ; list of keys to send to XUS KEY CHECK
"RTN","MAGJUTL3",176,0)
 N MAGKG ; list returned
"RTN","MAGJUTL3",177,0)
 K MAGJOB("KEYS")
"RTN","MAGJUTL3",178,0)
 S X="MAGJ",I=0
"RTN","MAGJUTL3",179,0)
 F  S X=$O(^XUSEC(X)) Q:$E(X,1,4)'="MAGJ"  D
"RTN","MAGJUTL3",180,0)
 . S I=I+1,MAGKS(I)=X
"RTN","MAGJUTL3",181,0)
 I '$D(MAGKS) Q
"RTN","MAGJUTL3",182,0)
 D OWNSKEY^XUSRB(.MAGKG,.MAGKS)
"RTN","MAGJUTL3",183,0)
 S I=0 F  S I=$O(MAGKG(I)) Q:'I  I MAGKG(I) S MAGJOB("KEYS",MAGKS(I))=""
"RTN","MAGJUTL3",184,0)
 Q
"RTN","MAGJUTL3",185,0)
 ;
"RTN","MAGJUTL3",186,0)
 Q
"RTN","MAGJUTL3",187,0)
PINF1(MAGGRY,MAGDFN) ;RPC Call MAGJ PT INFO -- Get pt info
"RTN","MAGJUTL3",188,0)
 S X="ERR3^MAGJUTL3",@^%ZOSF("TRAP")
"RTN","MAGJUTL3",189,0)
 D INFO^MAGGTPT1(.MAGGRY,MAGDFN_"^1") ; 1=Don't log to session file
"RTN","MAGJUTL3",190,0)
 Q
"RTN","MAGJUTL3",191,0)
 ;
"RTN","MAGJUTL3",192,0)
USERINF2(MAGGRY,DATA) ; rpc: MAGJ USER2 -- Return user info
"RTN","MAGJUTL3",193,0)
 ;  Input = unused ^ Client Vrad Vs ^ Client O/S Vs
"RTN","MAGJUTL3",194,0)
 ;  Reply = 
"RTN","MAGJUTL3",195,0)
 ;  (0) = 1/0^code~Msg |  DUZ ^ NAME ^ INITIALS ^ REQ_FLAG
"RTN","MAGJUTL3",196,0)
 ;  (1)= Net UserName ^ PSW ^ UserType ^ SYSADMIN
"RTN","MAGJUTL3",197,0)
 ;      1/0=Success/Failure flag for vs compatibility
"RTN","MAGJUTL3",198,0)
 ;      code=4 if failure condition
"RTN","MAGJUTL3",199,0)
 ;      Msg=Display msg if failure condition
"RTN","MAGJUTL3",200,0)
 ;      REQ_FLAG = 1/0 (Enable/Disable Requisition for non-rad staff)
"RTN","MAGJUTL3",201,0)
 ;      UserType = 3: Staff R'ist; 2: Resident R'ist; 1: Rad Tech; 0: Non-Rad
"RTN","MAGJUTL3",202,0)
 ;      SYSADMIN = 1/0 1=user has Vrad System User privileges
"RTN","MAGJUTL3",203,0)
 ;
"RTN","MAGJUTL3",204,0)
 S X="ERR2^MAGJUTL3",@^%ZOSF("TRAP")
"RTN","MAGJUTL3",205,0)
 K MAGGRY S MAGGRY(0)="",MAGGRY(1)=""
"RTN","MAGJUTL3",206,0)
 I +$G(DUZ)=0 S MAGGRY(0)="0^4~DUZ Undefined, Null or Zero|" Q
"RTN","MAGJUTL3",207,0)
 N I,J,K,Y,REQ,VRADVER,OSVER,RADTECH,FAIL,MSG
"RTN","MAGJUTL3",208,0)
 S FAIL=0,MSG=""
"RTN","MAGJUTL3",209,0)
 S VRADVER=$P(DATA,U,2),OSVER=$P(DATA,U,3)
"RTN","MAGJUTL3",210,0)
 I $P(VRADVER,".",1,3)'="3.0.18" S FAIL=1,MSG="VistARad Workstation software is not compatible with the VistA server version.  Contact Imaging support." S MAGGRY(0)="0^4~"_MSG_"|" G USERIN2Z
"RTN","MAGJUTL3",211,0)
 S RADTECH=""
"RTN","MAGJUTL3",212,0)
 S MAGJOB("OSVER")=$S(OSVER]"":OSVER,1:"UNK")   ; IDs P18 initialization; cf cacheq ep above
"RTN","MAGJUTL3",213,0)
 S MAGJOB("VRVERSION")=$S(VRADVER]"":VRADVER,1:"UNK")
"RTN","MAGJUTL3",214,0)
 D MAGJOB
"RTN","MAGJUTL3",215,0)
 ; Enable/Disable Requisition if not a radiology user
"RTN","MAGJUTL3",216,0)
 S REQ=1
"RTN","MAGJUTL3",217,0)
 I 'MAGJOB("USER",1) D  ; not a rist
"RTN","MAGJUTL3",218,0)
 . I $D(^VA(200,"ARC","T",+DUZ)) S RADTECH=1 Q  ; Rad Tech OK
"RTN","MAGJUTL3",219,0)
 . S X=+$P($G(^MAG(2006.69,1,0)),U,16)
"RTN","MAGJUTL3",220,0)
 . I X S REQ=0 ; Disable Req
"RTN","MAGJUTL3",221,0)
 S MAGGRY(0)="1^1~|"_DUZ_U_$$GET1^DIQ(200,DUZ_",",.01)_U_$$GET1^DIQ(200,DUZ_",",1)_U_REQ
"RTN","MAGJUTL3",222,0)
 ; Network UserName and PSW
"RTN","MAGJUTL3",223,0)
 S I=$O(^MAG(2006.1,0)) I 'I S FAIL=1,MSG="Unable to determine Network Access authentication.  Contact Imaging support." S MAGGRY(0)="0^4~"_MSG_"|" G USERIN2Z
"RTN","MAGJUTL3",224,0)
 S MAGGRY(1)=$P($G(^MAG(2006.1,I,"NET")),U,1,2)
"RTN","MAGJUTL3",225,0)
 S X=+MAGJOB("USER",1),X=$S(X=15:3,X=12:2,+RADTECH:1,1:0)
"RTN","MAGJUTL3",226,0)
 S MAGGRY(1)=MAGGRY(1)_U_X_U_$D(MAGJOB("KEYS","MAGJ SYSTEM USER"))
"RTN","MAGJUTL3",227,0)
USERIN2Z Q
"RTN","MAGJUTL3",228,0)
 ;
"RTN","MAGJUTL3",229,0)
ERR1 N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR G ERR
"RTN","MAGJUTL3",230,0)
ERR2 N ERR S ERR=$$EC^%ZOSV S MAGGRY(0)="0^4~"_ERR G ERR
"RTN","MAGJUTL3",231,0)
ERR3 N ERR S ERR=$$EC^%ZOSV S MAGGRY="0^4~"_ERR
"RTN","MAGJUTL3",232,0)
ERR D @^%ZOSF("ERRTN")
"RTN","MAGJUTL3",233,0)
 Q:$Q 1  Q
"RTN","MAGJUTL3",234,0)
 ;
"RTN","MAGJUTL3",235,0)
END Q  ; 
"RTN","MAGJUTL4")
0^21^B43082530
"RTN","MAGJUTL4",1,0)
MAGJUTL4 ;WIRMFO/JHC VistARad subroutines for RPC calls ; 15 Jul 2004  4:34 PM
"RTN","MAGJUTL4",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGJUTL4",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL4",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGJUTL4",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGJUTL4",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGJUTL4",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGJUTL4",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGJUTL4",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGJUTL4",10,0)
 ;; |                                                               |
"RTN","MAGJUTL4",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGJUTL4",12,0)
 ;; | a medical device.  As such, it may not be changed in any way. |
"RTN","MAGJUTL4",13,0)
 ;; | Modifications to this software may result in an adulterated   |
"RTN","MAGJUTL4",14,0)
 ;; | medical device under 21CFR820, the use of which is considered |
"RTN","MAGJUTL4",15,0)
 ;; | to be a violation of US Federal Statutes.                     |
"RTN","MAGJUTL4",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGJUTL4",17,0)
 ;;
"RTN","MAGJUTL4",18,0)
 Q
"RTN","MAGJUTL4",19,0)
 ;
"RTN","MAGJUTL4",20,0)
CPTGRP(MAGGRY,DATA) ; RPC: MAGJ CPTMATCH
"RTN","MAGJUTL4",21,0)
 ; FOR INPUT cpt code, return matching cpt's based on grouping criteria:
"RTN","MAGJUTL4",22,0)
 ; INPUT in DATA: CPT Code ^ Criteria
"RTN","MAGJUTL4",23,0)
 ; Criteria:
"RTN","MAGJUTL4",24,0)
 ;   1=Matching cpt
"RTN","MAGJUTL4",25,0)
 ;   2=Body Part
"RTN","MAGJUTL4",26,0)
 ;   3=Body Part & Modality
"RTN","MAGJUTL4",27,0)
 ;  10=Same CPT (used to return short description only)
"RTN","MAGJUTL4",28,0)
 ; Return: List of CPTs with Short Name:  CPT ^ Short Name
"RTN","MAGJUTL4",29,0)
 ; MAGGRY holds $NA reference to ^TMP for rpc return
"RTN","MAGJUTL4",30,0)
 ;   all ref's to MAGGRY use subscript indirection
"RTN","MAGJUTL4",31,0)
 ;
"RTN","MAGJUTL4",32,0)
 N $ETRAP,$ESTACK S $ETRAP="G ERR1^MAGJUTL4"
"RTN","MAGJUTL4",33,0)
 N REPLY,DIQUIET,CPT,CRIT,CT,MAGLST,NOD,NODLST
"RTN","MAGJUTL4",34,0)
 N MATCHGRP,INDXLST,AND,RET,CPTGLB,CPTIN,CPTIEN,TCPT
"RTN","MAGJUTL4",35,0)
 ;
"RTN","MAGJUTL4",36,0)
 ; <*> Issue: Unable get specific body part for some non-specific CPTs (e.g., 75774-ANGIO SELECT EA ADD VESSEL-S)
"RTN","MAGJUTL4",37,0)
 ;         --> For these, could just return matching CPTs (or equivalent CPT?)
"RTN","MAGJUTL4",38,0)
 ; 
"RTN","MAGJUTL4",39,0)
 ; Produce List of cptiens for each INDX of interest
"RTN","MAGJUTL4",40,0)
 ; AND with next list of cptiens; repeat until no more INDXs
"RTN","MAGJUTL4",41,0)
 ; build output list of CPT codes (w/ short names [optional])
"RTN","MAGJUTL4",42,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJUTL4",43,0)
 S CT=0,MAGLST="MAGJCPT"
"RTN","MAGJUTL4",44,0)
 K MAGGRY S MAGGRY=$NA(^TMP($J,MAGLST)) K @MAGGRY  ; assign MAGGRY value
"RTN","MAGJUTL4",45,0)
 S CPTIN=$P(DATA,U),CRIT=$P(DATA,U,2)
"RTN","MAGJUTL4",46,0)
 S REPLY="0^Getting matching CPT info."
"RTN","MAGJUTL4",47,0)
 S:'CRIT CRIT=1 ; default equivalent
"RTN","MAGJUTL4",48,0)
 I CPTIN="" S REPLY="0^Invalid CPT code ("_DATA_")." G CPTGRPZ
"RTN","MAGJUTL4",49,0)
 I '(CRIT=1!(CRIT=2)!(CRIT=3)!(CRIT=10)) S REPLY="0^Invalid criteria ("_DATA_")." G CPTGRPZ
"RTN","MAGJUTL4",50,0)
 S CPTGLB=$NA(^MAG(2006.67))
"RTN","MAGJUTL4",51,0)
 S CPTIEN=$O(@CPTGLB@("B",CPTIN,""))
"RTN","MAGJUTL4",52,0)
 I 'CPTIEN S REPLY="0^Input CPT code ("_CPTIN_") not defined in CPT Match table." G CPTGRPZ
"RTN","MAGJUTL4",53,0)
 S X=@CPTGLB@(CPTIEN,0),MATCHGRP=+$P(X,U,4)
"RTN","MAGJUTL4",54,0)
 ;CPTMATCH^BODYPART^MDL
"RTN","MAGJUTL4",55,0)
 I CRIT=2!(CRIT=3) D
"RTN","MAGJUTL4",56,0)
 . S X=0 F  S X=$O(@CPTGLB@(CPTIEN,1,"B",X)) Q:'X  D GETCPTS("BODYPART",X,"",.RET)
"RTN","MAGJUTL4",57,0)
 . I CRIT=3 D
"RTN","MAGJUTL4",58,0)
 . . M AND=RET K RET S X=0
"RTN","MAGJUTL4",59,0)
 . . F  S X=$O(@CPTGLB@(CPTIEN,2,"B",X)) Q:'X  D GETCPTS("MDL",X,.AND,.RET)
"RTN","MAGJUTL4",60,0)
 I CRIT=1 D
"RTN","MAGJUTL4",61,0)
 . I MATCHGRP,(MATCHGRP'=CPTIEN) S RET(MATCHGRP)="" D GETCPTS("CPTMATCH",MATCHGRP,"",.RET)
"RTN","MAGJUTL4",62,0)
 . D GETCPTS("CPTMATCH",CPTIEN,"",.RET)
"RTN","MAGJUTL4",63,0)
 I CRIT=10 ; fall through answers this!
"RTN","MAGJUTL4",64,0)
 I '$D(RET(CPTIEN)) S RET(CPTIEN)="" ; always report back input cpt
"RTN","MAGJUTL4",65,0)
 S IEN=0 F  S IEN=$O(RET(IEN)) Q:'IEN  D
"RTN","MAGJUTL4",66,0)
 . N LIN S X=$G(@CPTGLB@(IEN,0))
"RTN","MAGJUTL4",67,0)
 . Q:'(X]"")  S TCPT=$P(X,U),LIN=TCPT_U_$P($G(^ICPT(TCPT,0)),U,2) ; _U_$$BODPART(IEN,"~")_U_$$MDLLST(IEN,"~")
"RTN","MAGJUTL4",68,0)
 . S CT=CT+1,@MAGGRY@(CT)=LIN
"RTN","MAGJUTL4",69,0)
 S REPLY=CT_U_"1~ "_CT_" CPT Matches returned for "_CPTIN
"RTN","MAGJUTL4",70,0)
CPTGRPZ ;
"RTN","MAGJUTL4",71,0)
 S @MAGGRY@(0)=REPLY
"RTN","MAGJUTL4",72,0)
 Q
"RTN","MAGJUTL4",73,0)
 ;
"RTN","MAGJUTL4",74,0)
GETCPTS(INDEX,VALUE,AND,OUT) ; return a list of CPTIENS in OUT
"RTN","MAGJUTL4",75,0)
 ; if array AND is defined, reply only values contained in AND &  the index
"RTN","MAGJUTL4",76,0)
 N X,GLBREF,CPTIEN
"RTN","MAGJUTL4",77,0)
 S GLBREF=$NA(@CPTGLB@(INDEX,VALUE))
"RTN","MAGJUTL4",78,0)
 S CPTIEN=0
"RTN","MAGJUTL4",79,0)
 I $D(AND)>9 D
"RTN","MAGJUTL4",80,0)
 . F  S CPTIEN=$O(AND(CPTIEN)) Q:CPTIEN=""  I $D(@GLBREF@(CPTIEN)) S OUT(CPTIEN)=""
"RTN","MAGJUTL4",81,0)
 E  F  S CPTIEN=$O(@GLBREF@(CPTIEN)) Q:'CPTIEN  D
"RTN","MAGJUTL4",82,0)
 . S OUT(CPTIEN)=""
"RTN","MAGJUTL4",83,0)
 Q
"RTN","MAGJUTL4",84,0)
 ;
"RTN","MAGJUTL4",85,0)
BODPART(CPTIEN,DLM) ; return DLM-delimited list of body part values for this CPT
"RTN","MAGJUTL4",86,0)
 I +$G(CPTIEN)
"RTN","MAGJUTL4",87,0)
 E  Q ""
"RTN","MAGJUTL4",88,0)
 N LIST,CPTGLB S LIST=""
"RTN","MAGJUTL4",89,0)
 S DLM=$E($G(DLM))
"RTN","MAGJUTL4",90,0)
 I DLM="" S DLM="^"
"RTN","MAGJUTL4",91,0)
 S CPTGLB=$NA(^MAG(2006.67))
"RTN","MAGJUTL4",92,0)
 S NOD=0
"RTN","MAGJUTL4",93,0)
 F  S NOD=$O(@CPTGLB@(CPTIEN,1,NOD)) Q:'NOD  S X=$P(^(NOD,0),U) I X]"" S LIST=LIST_DLM_X
"RTN","MAGJUTL4",94,0)
 Q:$Q $E(LIST,2,999)  Q
"RTN","MAGJUTL4",95,0)
 ;
"RTN","MAGJUTL4",96,0)
MDLLST(CPTIEN,DLM) ; return DLM-delimited list of modality values for this CPT
"RTN","MAGJUTL4",97,0)
 I +$G(CPTIEN)
"RTN","MAGJUTL4",98,0)
 E  Q ""
"RTN","MAGJUTL4",99,0)
 N LIST,CPTGLB S LIST=""
"RTN","MAGJUTL4",100,0)
 S DLM=$E($G(DLM))
"RTN","MAGJUTL4",101,0)
 I DLM="" S DLM="^"
"RTN","MAGJUTL4",102,0)
 S CPTGLB=$NA(^MAG(2006.67))
"RTN","MAGJUTL4",103,0)
 S NOD=0
"RTN","MAGJUTL4",104,0)
 F  S NOD=$O(@CPTGLB@(CPTIEN,2,NOD)) Q:'NOD  S X=$P(^(NOD,0),U) I X]"" S LIST=LIST_DLM_X
"RTN","MAGJUTL4",105,0)
 Q:$Q $E(LIST,2,999)  Q
"RTN","MAGJUTL4",106,0)
 ;
"RTN","MAGJUTL4",107,0)
STATCHK(MAGGRY,DATA) ;
"RTN","MAGJUTL4",108,0)
 ; RPC: MAGJ RADSTATUSCHECK
"RTN","MAGJUTL4",109,0)
 ; This may also be accessed by subroutine call. <*> do not change name of EP
"RTN","MAGJUTL4",110,0)
 ; Exam Status check RPC and subroutine: determine if the exam has been Tech-Verified (at least).
"RTN","MAGJUTL4",111,0)
 ; Images are assumed to be verified if Exam Status is Examined, or higher status.
"RTN","MAGJUTL4",112,0)
 ;       ; Input in DATA: RADFN^RADTI^RACNI^RARPT
"RTN","MAGJUTL4",113,0)
 ;   Input is either RADFN, RADTI, and RACNI; or, RARPT only may be input in piece 4
"RTN","MAGJUTL4",114,0)
 ;   Return: Code^Text
"RTN","MAGJUTL4",115,0)
 ;    0 = Problem, or exam was cancelled
"RTN","MAGJUTL4",116,0)
 ;    1 = Not yet verified
"RTN","MAGJUTL4",117,0)
 ;    2 = Tech Verified
"RTN","MAGJUTL4",118,0)
 ;    3 = Radiologist Verified
"RTN","MAGJUTL4",119,0)
 ;    4 = User is a Radiology professional--always allow access
"RTN","MAGJUTL4",120,0)
 ;
"RTN","MAGJUTL4",121,0)
 N $ETRAP,$ESTACK S $ETRAP="G ERR3^MAGJUTL4"
"RTN","MAGJUTL4",122,0)
 N REPLY,STATUS,ORDER,VCAT,STOUT
"RTN","MAGJUTL4",123,0)
 N DIQUIET,RARPT,RADFN,RADTI,RACNI
"RTN","MAGJUTL4",124,0)
 S DIQUIET=1 D DT^DICRW
"RTN","MAGJUTL4",125,0)
 S RADFN=$P(DATA,U),RADTI=$P(DATA,U,2),RACNI=$P(DATA,U,3),RARPT=$P(DATA,U,4)
"RTN","MAGJUTL4",126,0)
 S STOUT="",REPLY="0^Getting image verification status."
"RTN","MAGJUTL4",127,0)
 I RADFN,RADTI,RACNI
"RTN","MAGJUTL4",128,0)
 E  I RARPT D RPT2DPT(RARPT,.X) I X S RADFN=+X,RADTI=$P(X,U,2),RACNI=$P(X,U,3) I RADFN,RADTI,RACNI
"RTN","MAGJUTL4",129,0)
 E  S REPLY="0^Image Verification Status request contains invalid case pointer ("_DATA_")" G STATCHKZ
"RTN","MAGJUTL4",130,0)
 S STATUS=$P($G(^RADPT(RADFN,"DT",RADTI,"P",RACNI,0)),U,3)
"RTN","MAGJUTL4",131,0)
 I STATUS="" S REPLY="0^Image Verification Status request error--no Exam Status is defined for ("_DATA_")" G STATCHKZ
"RTN","MAGJUTL4",132,0)
 S VCAT=$P(^RA(72,STATUS,0),U,9),ORDER=$P(^(0),U,3)
"RTN","MAGJUTL4",133,0)
 I VCAT]"" D  G STATCHK2:STOUT
"RTN","MAGJUTL4",134,0)
 . I "EDT"[VCAT S STOUT=$S(VCAT="E":2,1:3) ; Examined or Interpreted
"RTN","MAGJUTL4",135,0)
 . E  I VCAT="W" S STOUT=1 ; Not yet Verified
"RTN","MAGJUTL4",136,0)
 I ORDER=9 S STOUT=3  ; Completed exam
"RTN","MAGJUTL4",137,0)
 E  I ORDER=0 S REPLY="0^Exam Cancelled"
"RTN","MAGJUTL4",138,0)
 E  I ORDER=1 S STOUT=1  ; Waiting for exam
"RTN","MAGJUTL4",139,0)
STATCHK2 ;
"RTN","MAGJUTL4",140,0)
 I STOUT<2 D
"RTN","MAGJUTL4",141,0)
 . F X="S","R","T" I $D(^VA(200,"ARC",X,DUZ)) S STOUT=4 Q  ; Radiologist or Tech -- OK to access
"RTN","MAGJUTL4",142,0)
STATCHKZ ;
"RTN","MAGJUTL4",143,0)
 I STOUT S REPLY=STOUT_U_$S(STOUT=1:"Images not yet verified",STOUT=2:"Images verified by Technologist",STOUT=3:"Images interpreted by Radiologist",STOUT=4:"Radiology professional--OK to view images.",1:"")
"RTN","MAGJUTL4",144,0)
 S MAGGRY=REPLY
"RTN","MAGJUTL4",145,0)
 Q
"RTN","MAGJUTL4",146,0)
 ;
"RTN","MAGJUTL4",147,0)
REMSCRN(MAGGRY,DATA) ; User set/clear flag to show/not show remote exams only
"RTN","MAGJUTL4",148,0)
 ; RPC: MAGJ REMOTESCREEN
"RTN","MAGJUTL4",149,0)
 ;       ; Input in DATA: 1/0 1=show remote only; 0=show all exams
"RTN","MAGJUTL4",150,0)
 ;   Return: Reply^Code~msg
"RTN","MAGJUTL4",151,0)
 ;    Reply -- 0=Problem; 1=Success
"RTN","MAGJUTL4",152,0)
 ;    Code -- 4=Error; 1=ok
"RTN","MAGJUTL4",153,0)
 ;    msg -- display text if error
"RTN","MAGJUTL4",154,0)
 ;
"RTN","MAGJUTL4",155,0)
 N $ETRAP,$ESTACK S $ETRAP="G ERR3^MAGJUTL4"
"RTN","MAGJUTL4",156,0)
 N REPLY
"RTN","MAGJUTL4",157,0)
 N DIQUIET S DIQUIET=1 D DT^DICRW
"RTN","MAGJUTL4",158,0)
 I $D(DATA),(DATA=0!(DATA=1))
"RTN","MAGJUTL4",159,0)
 E  S REPLY="0^4~REMOTESCREEN request has invalid parameter ("_$G(DATA)_")" G REMSCRNZ
"RTN","MAGJUTL4",160,0)
 S MAGJOB("REMOTESCREEN")=DATA,REPLY="1^1~"_DATA
"RTN","MAGJUTL4",161,0)
REMSCRNZ ;
"RTN","MAGJUTL4",162,0)
 S MAGGRY=REPLY
"RTN","MAGJUTL4",163,0)
 Q
"RTN","MAGJUTL4",164,0)
 ;
"RTN","MAGJUTL4",165,0)
RPT2DPT(RARPT,RET) ; Input RARPT. Return RET containing exam ss values for ^RADPT
"RTN","MAGJUTL4",166,0)
 ;
"RTN","MAGJUTL4",167,0)
 N DFN,DTI,CNI S (DFN,DTI,CNI)=""
"RTN","MAGJUTL4",168,0)
 I RARPT?1N.N,$D(^RARPT(RARPT)) S X=$G(^(RARPT,0)) I X]"" D
"RTN","MAGJUTL4",169,0)
 . S X=$P(X,U)
"RTN","MAGJUTL4",170,0)
 . S X=$O(^RADPT("ADC",X,0)) I X S DFN=X,DTI=$O(^(X,0)),CNI=$O(^(DTI,0))
"RTN","MAGJUTL4",171,0)
 . S RET=DFN_U_DTI_U_CNI
"RTN","MAGJUTL4",172,0)
 E  S RET=""
"RTN","MAGJUTL4",173,0)
 Q
"RTN","MAGJUTL4",174,0)
 ;
"RTN","MAGJUTL4",175,0)
ERR1 N ERR S ERR=$$EC^%ZOSV S @MAGGRY@(0)="0^4~"_ERR G ERR
"RTN","MAGJUTL4",176,0)
ERR3 N ERR S ERR=$$EC^%ZOSV S MAGGRY="0^4~"_ERR
"RTN","MAGJUTL4",177,0)
ERR D @^%ZOSF("ERRTN")
"RTN","MAGJUTL4",178,0)
 Q:$Q 1  Q
"RTN","MAGJUTL4",179,0)
 ;
"RTN","MAGJUTL4",180,0)
END Q  ; 
"RTN","MAGSDOFL")
0^34^B20838310
"RTN","MAGSDOFL",1,0)
MAGSDOFL ;WOIFO/SF - Track Offline Images ; [ 12/27/2000 10:49 ]
"RTN","MAGSDOFL",2,0)
 ;;3.0;IMAGING;**18**;Mar 07, 2006
"RTN","MAGSDOFL",3,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGSDOFL",4,0)
 ;; | Property of the US Government.                                |
"RTN","MAGSDOFL",5,0)
 ;; | No permission to copy or redistribute this software is given. |
"RTN","MAGSDOFL",6,0)
 ;; | Use of unreleased versions of this software requires the user |
"RTN","MAGSDOFL",7,0)
 ;; | to execute a written test agreement with the VistA Imaging    |
"RTN","MAGSDOFL",8,0)
 ;; | Development Office of the Department of Veterans Affairs,     |
"RTN","MAGSDOFL",9,0)
 ;; | telephone (301) 734-0100.                                     |
"RTN","MAGSDOFL",10,0)
 ;; |                                                               |
"RTN","MAGSDOFL",11,0)
 ;; | The Food and Drug Administration classifies this software as  |
"RTN","MAGSDOFL",12,0)
 ;; | a Class II medical device.  As such, it may not be changed    |
"RTN","MAGSDOFL",13,0)
 ;; | in any way.  Modifications to this software may result in an  |
"RTN","MAGSDOFL",14,0)
 ;; | adulterated medical device under 21CFR820, the use of which   |
"RTN","MAGSDOFL",15,0)
 ;; | is considered to be a violation of US Federal Statutes.       |
"RTN","MAGSDOFL",16,0)
 ;; +---------------------------------------------------------------+
"RTN","MAGSDOFL",17,0)
 ;;
"RTN","MAGSDOFL",18,0)
 Q
"RTN","MAGSDOFL",19,0)
ENTRY ;Interactive entry here
"RTN","MAGSDOFL",20,0)
 I '$D(DUZ) W !,"Use the MAG JB OFFLINE menu option to run this application" Q
"RTN","MAGSDOFL",21,0)
 N BOLD,NORMAL,N,R
"RTN","MAGSDOFL",22,0)
 D SETUP W @IOF
"RTN","MAGSDOFL",23,0)
LOOP ; main menu loop
"RTN","MAGSDOFL",24,0)
 D SETUP
"RTN","MAGSDOFL",25,0)
 W !!,$P($T(OPTIONS),";",2),!
"RTN","MAGSDOFL",26,0)
 S N=0 F I=1:1 S X=$P($T(OPTIONS+I),";",2,999) Q:X=""  D  ; list options
"RTN","MAGSDOFL",27,0)
 . I $P(X,";")="" Q
"RTN","MAGSDOFL",28,0)
 . S N=N+1 W !,?2,$J(N,2),?6,$P(X,";")
"RTN","MAGSDOFL",29,0)
 . Q
"RTN","MAGSDOFL",30,0)
 ;W BOLD
"RTN","MAGSDOFL",31,0)
 ;
"RTN","MAGSDOFL",32,0)
AGAIN ;
"RTN","MAGSDOFL",33,0)
 W !!,?2,"OPTION: " R " ",R:DTIME Q:R=""!(R="^")
"RTN","MAGSDOFL",34,0)
 I R["?" D HELP2 G AGAIN
"RTN","MAGSDOFL",35,0)
 I R?1N.N,R>0,R'>N D  G LOOP
"RTN","MAGSDOFL",36,0)
 . S N=0 F I=1:1 D  Q:X=""  I R=N D @($P(X,";",2)),RETURN Q
"RTN","MAGSDOFL",37,0)
 . . S X=$P($T(OPTIONS+I),";",2,999) Q:X=""
"RTN","MAGSDOFL",38,0)
 . . S N=N+1
"RTN","MAGSDOFL",39,0)
 . Q
"RTN","MAGSDOFL",40,0)
 W " ??? -- Invalid option.  Try agin." G AGAIN
"RTN","MAGSDOFL",41,0)
 ;
"RTN","MAGSDOFL",42,0)
SETUP ;
"RTN","MAGSDOFL",43,0)
 I ^%ZOSF("OS")?1"MSM".E S IOF="#"
"RTN","MAGSDOFL",44,0)
 E  D HOME^%ZIS
"RTN","MAGSDOFL",45,0)
 S U="^"
"RTN","MAGSDOFL",46,0)
 S NORMAL=$C(27)_"[0;"_"44m" ; normal blue
"RTN","MAGSDOFL",47,0)
 S BOLD=$C(27)_"[1;"_"44m" ; bold blue
"RTN","MAGSDOFL",48,0)
 ;W BOLD
"RTN","MAGSDOFL",49,0)
 Q
"RTN","MAGSDOFL",50,0)
 ;
"RTN","MAGSDOFL",51,0)
RETURN ;
"RTN","MAGSDOFL",52,0)
 D SETUP
"RTN","MAGSDOFL",53,0)
 R !!,"Push <Enter> to continue...",X:DTIME
"RTN","MAGSDOFL",54,0)
 Q
"RTN","MAGSDOFL",55,0)
OFFLINE(MAGIN) ;Set images offline
"RTN","MAGSDOFL",56,0)
 N COUNT
"RTN","MAGSDOFL",57,0)
ASK1 I MAGIN="" R !!,"Enter file to read offline images from: ",X:DTIME
"RTN","MAGSDOFL",58,0)
 I X="" Q
"RTN","MAGSDOFL",59,0)
 I X="^" Q
"RTN","MAGSDOFL",60,0)
 I X["?" D HELP1 G ASK1
"RTN","MAGSDOFL",61,0)
 N IOP,MAGFDA,MAGFL
"RTN","MAGSDOFL",62,0)
 I MAGIN="" S MAGIN=X
"RTN","MAGSDOFL",63,0)
 S %ZIS="",%ZIS("HFSNAME")=MAGIN,%ZIS("HFSMODE")="R",IOP="HFS"
"RTN","MAGSDOFL",64,0)
 S X="ERROR^MAGSDOFL",@^%ZOSF("TRAP")
"RTN","MAGSDOFL",65,0)
 S MAGFL=2006.033
"RTN","MAGSDOFL",66,0)
 S COUNT=0
"RTN","MAGSDOFL",67,0)
 U 0 W !!,"Here goes nothing...",!
"RTN","MAGSDOFL",68,0)
 D ^%ZIS
"RTN","MAGSDOFL",69,0)
 F  U IO R LN:5 D
"RTN","MAGSDOFL",70,0)
 . S COUNT=COUNT+1
"RTN","MAGSDOFL",71,0)
 . S LN=$$TRIM(LN)
"RTN","MAGSDOFL",72,0)
 . I LN["Media """ S MAGPLAT=$P(LN,"""",2) U 0 W !,MAGPLAT
"RTN","MAGSDOFL",73,0)
 . I COUNT#50=0 U 0 W "."
"RTN","MAGSDOFL",74,0)
 . S LN=$$FNAME(LN) Q:LN=""
"RTN","MAGSDOFL",75,0)
 . K MAGIEN S MAGIEN="?+1,"
"RTN","MAGSDOFL",76,0)
 . S MAGFDA(MAGFL,MAGIEN,.01)=LN
"RTN","MAGSDOFL",77,0)
 . S MAGFDA(MAGFL,MAGIEN,1)=MAGPLAT
"RTN","MAGSDOFL",78,0)
 . D UPDATE^DIE("","MAGFDA","MAGIEN","MAGERR")
"RTN","MAGSDOFL",79,0)
 . Q
"RTN","MAGSDOFL",80,0)
 W !,"Done."
"RTN","MAGSDOFL",81,0)
 Q
"RTN","MAGSDOFL",82,0)
FNAME(LN) ;Find img file name
"RTN","MAGSDOFL",83,0)
 ;OTG 4x
"RTN","MAGSDOFL",84,0)
 I LN["\" D  Q XX
"RTN","MAGSDOFL",85,0)
 . F N=1:1 S XX=$P(LN,"\",N) Q:XX=""  I XX?.E1"."3AN S LN=XX Q
"RTN","MAGSDOFL",86,0)
 ;OTG 3x
"RTN","MAGSDOFL",87,0)
 I $P(LN," ",1)'?.E1"."3AN Q ""
"RTN","MAGSDOFL",88,0)
 S LN=$P(LN," ")
"RTN","MAGSDOFL",89,0)
 Q LN
"RTN","MAGSDOFL",90,0)
ONLINE(MAGPLAT) ;Set images back online
"RTN","MAGSDOFL",91,0)
 ;
"RTN","MAGSDOFL",92,0)
ASK I MAGPLAT="" R !!,"Enter the name of the platter being inserted: ",X:DTIME
"RTN","MAGSDOFL",93,0)
 I X="" Q
"RTN","MAGSDOFL",94,0)
 I X="^" Q
"RTN","MAGSDOFL",95,0)
 I X["?" D HELP G ASK
"RTN","MAGSDOFL",96,0)
 N MAGENT
"RTN","MAGSDOFL",97,0)
 S MAGPLAT=X
"RTN","MAGSDOFL",98,0)
 I '$D(^MAGQUEUE(2006.033,"C",MAGPLAT)) W "  Platter not on file..." Q
"RTN","MAGSDOFL",99,0)
 S DIK="^MAGQUEUE(2006.033,"
"RTN","MAGSDOFL",100,0)
 S MAGENT=""
"RTN","MAGSDOFL",101,0)
 F  S MAGENT=$O(^MAGQUEUE(2006.033,"C",MAGPLAT,MAGENT)) Q:'MAGENT  D
"RTN","MAGSDOFL",102,0)
 . S DA=MAGENT
"RTN","MAGSDOFL",103,0)
 . D ^DIK
"RTN","MAGSDOFL",104,0)
 . I $D(Y) W "."
"RTN","MAGSDOFL",105,0)
 . E  W !,"Problem deleting entry# "_MAGENT
"RTN","MAGSDOFL",106,0)
 W !,"Done."
"RTN","MAGSDOFL",107,0)
 Q
"RTN","MAGSDOFL",108,0)
HELP ;List offline platters
"RTN","MAGSDOFL",109,0)
 W !,"Do you want to see a list of all offline platters? " R X:60
"RTN","MAGSDOFL",110,0)
 I "?"[$E(X) W !!,"Answer ""yes"" to see a list of platters currently marked offline"
"RTN","MAGSDOFL",111,0)
 I "?"[$E(X) W !,"Answer ""no"" to return",! G HELP
"RTN","MAGSDOFL",112,0)
 I "Yy"'[$E(X) Q
"RTN","MAGSDOFL",113,0)
 S MAGPLAT=""
"RTN","MAGSDOFL",114,0)
 F  S MAGPLAT=$O(^MAGQUEUE(2006.033,"C",MAGPLAT)) D  Q:MAGPLAT=""
"RTN","MAGSDOFL",115,0)
 . W !,MAGPLAT
"RTN","MAGSDOFL",116,0)
 Q
"RTN","MAGSDOFL",117,0)
HELP1 ;Help for offline
"RTN","MAGSDOFL",118,0)
 W !,"Enter the name of the file created by the jukebox media file report"
"RTN","MAGSDOFL",119,0)
 Q
"RTN","MAGSDOFL",120,0)
HELP2 ;Help for OPTION prompt
"RTN","MAGSDOFL",121,0)
 W !,"Select option 1 if you are marking images offline"
"RTN","MAGSDOFL",122,0)
 W !,"Select option 2 if you are marking images online"
"RTN","MAGSDOFL",123,0)
 W !,"Type ""^"" to quit"
"RTN","MAGSDOFL",124,0)
 Q
"RTN","MAGSDOFL",125,0)
 ;
"RTN","MAGSDOFL",126,0)
TRIM(X) ;
"RTN","MAGSDOFL",127,0)
 N I,J
"RTN","MAGSDOFL",128,0)
 F I=1:1:$L(X) Q:$E(X,I)'=" "
"RTN","MAGSDOFL",129,0)
 F J=$L(X):-1:I Q:$E(X,J)'=" "
"RTN","MAGSDOFL",130,0)
 Q $E(X,I,J)
"RTN","MAGSDOFL",131,0)
ERROR ;Trap Errors Here
"RTN","MAGSDOFL",132,0)
 D ^%ZISC
"RTN","MAGSDOFL",133,0)
 Q
"RTN","MAGSDOFL",134,0)
OPTIONS ; Offline Image Menu
"RTN","MAGSDOFL",135,0)
 ;Take images offline (Remove Jukebox Platter);OFFLINE("")
"RTN","MAGSDOFL",136,0)
 ;Put images back online (Insert Jukebox Platter);ONLINE("")
"SEC","^DIC",2005.001,2005.001,0,"AUDIT")
@
"SEC","^DIC",2005.001,2005.001,0,"DD")
@
"SEC","^DIC",2005.001,2005.001,0,"DEL")
@
"SEC","^DIC",2005.001,2005.001,0,"LAYGO")
@
"SEC","^DIC",2005.001,2005.001,0,"RD")
@
"SEC","^DIC",2005.001,2005.001,0,"WR")
@
"SEC","^DIC",2006.63,2006.63,0,"AUDIT")
@
"SEC","^DIC",2006.63,2006.63,0,"DD")
@
"SEC","^DIC",2006.63,2006.63,0,"DEL")
@
"SEC","^DIC",2006.63,2006.63,0,"LAYGO")
@
"SEC","^DIC",2006.63,2006.63,0,"RD")
@
"SEC","^DIC",2006.63,2006.63,0,"WR")
@
"SEC","^DIC",2006.631,2006.631,0,"AUDIT")
@
"SEC","^DIC",2006.631,2006.631,0,"DD")
@
"SEC","^DIC",2006.631,2006.631,0,"LAYGO")
@
"SEC","^DIC",2006.634,2006.634,0,"AUDIT")
@
"SEC","^DIC",2006.634,2006.634,0,"DD")
@
"SEC","^DIC",2006.634,2006.634,0,"DEL")
@
"SEC","^DIC",2006.634,2006.634,0,"LAYGO")
@
"SEC","^DIC",2006.634,2006.634,0,"RD")
@
"SEC","^DIC",2006.634,2006.634,0,"WR")
@
"SEC","^DIC",2006.67,2006.67,0,"AUDIT")
@
"SEC","^DIC",2006.67,2006.67,0,"DD")
@
"SEC","^DIC",2006.67,2006.67,0,"DEL")
@
"SEC","^DIC",2006.67,2006.67,0,"LAYGO")
@
"SEC","^DIC",2006.67,2006.67,0,"RD")
@
"SEC","^DIC",2006.67,2006.67,0,"WR")
@
"SEC","^DIC",2006.671,2006.671,0,"AUDIT")
@
"SEC","^DIC",2006.671,2006.671,0,"DD")
@
"SEC","^DIC",2006.671,2006.671,0,"DEL")
@
"SEC","^DIC",2006.671,2006.671,0,"LAYGO")
@
"SEC","^DIC",2006.671,2006.671,0,"RD")
@
"SEC","^DIC",2006.671,2006.671,0,"WR")
@
"SEC","^DIC",2006.672,2006.672,0,"AUDIT")
@
"SEC","^DIC",2006.672,2006.672,0,"DD")
@
"SEC","^DIC",2006.672,2006.672,0,"DEL")
@
"SEC","^DIC",2006.672,2006.672,0,"LAYGO")
@
"SEC","^DIC",2006.672,2006.672,0,"RD")
@
"SEC","^DIC",2006.672,2006.672,0,"WR")
@
"SEC","^DIC",2006.68,2006.68,0,"AUDIT")
@
"SEC","^DIC",2006.68,2006.68,0,"DD")
@
"SEC","^DIC",2006.68,2006.68,0,"DEL")
@
"SEC","^DIC",2006.68,2006.68,0,"LAYGO")
@
"SEC","^DIC",2006.68,2006.68,0,"RD")
@
"SEC","^DIC",2006.68,2006.68,0,"WR")
@
"SEC","^DIC",2006.69,2006.69,0,"AUDIT")
@
"SEC","^DIC",2006.69,2006.69,0,"DD")
@
"SEC","^DIC",2006.69,2006.69,0,"DEL")
@
"SEC","^DIC",2006.69,2006.69,0,"LAYGO")
@
"SEC","^DIC",2006.69,2006.69,0,"RD")
@
"SEC","^DIC",2006.69,2006.69,0,"WR")
@
"UP",2005,2005.05,-1)
2005^210
"UP",2005,2005.05,0)
2005.05
"UP",2005,2005.51,-2)
2005^210
"UP",2005,2005.51,-1)
2005.05^1
"UP",2005,2005.51,0)
2005.51
"VER")
8.0^22.0
"^DD",2005,2005,210,0)
PRESENTATION STATE^2005.05A^^210;0
"^DD",2005,2005,210,21,0)
^.001^2^2^3050608^^^^
"^DD",2005,2005,210,21,1,0)
Image Presentation state data stored below; this is free-text in XML format.
"^DD",2005,2005,210,21,2,0)
Annotations are included in this data.
"^DD",2005,2005,210,"DT")
3040707
"^DD",2005,2005.05,0)
PRESENTATION STATE SUB-FIELD^^4^5
"^DD",2005,2005.05,0,"DT")
3040816
"^DD",2005,2005.05,0,"IX","B",2005.05,.01)

"^DD",2005,2005.05,0,"NM","PRESENTATION STATE")

"^DD",2005,2005.05,0,"UP")
2005
"^DD",2005,2005.05,.01,0)
PS UID^MF^^0;1^K:$L(X)>120!($L(X)<3) X
"^DD",2005,2005.05,.01,1,0)
^.1
"^DD",2005,2005.05,.01,1,1,0)
2005.05^B
"^DD",2005,2005.05,.01,1,1,1)
S ^MAG(2005,DA(1),210,"B",$E(X,1,30),DA)=""
"^DD",2005,2005.05,.01,1,1,2)
K ^MAG(2005,DA(1),210,"B",$E(X,1,30),DA)
"^DD",2005,2005.05,.01,3)
Answer must be 3-120 characters in length.
"^DD",2005,2005.05,.01,21,0)
^.001^1^1^3050608^^^
"^DD",2005,2005.05,.01,21,1,0)
This is the presentation state UID for the image.
"^DD",2005,2005.05,.01,"DT")
3050608
"^DD",2005,2005.05,1,0)
PS DATA^2005.51^^1;0
"^DD",2005,2005.05,1,21,0)
^.001^1^1^3050608^^
"^DD",2005,2005.05,1,21,1,0)
Lines of free-text data that describe the presentation state, in XML format.
"^DD",2005,2005.05,1,"DT")
3050608
"^DD",2005,2005.05,2,0)
PS TYPE^S^I:Interpretation;U:User;K:Key Image;^0;2^Q
"^DD",2005,2005.05,2,21,0)
^.001^2^2^3050608^^
"^DD",2005,2005.05,2,21,1,0)
Indicates the type of presentation state data stored here:
"^DD",2005,2005.05,2,21,2,0)
 Key Image; Interpretation-based; User-specific.
"^DD",2005,2005.05,2,"DT")
3050608
"^DD",2005,2005.05,3,0)
WHO^P200'^VA(200,^0;3^Q
"^DD",2005,2005.05,3,21,0)
^^1^1^3050608^
"^DD",2005,2005.05,3,21,1,0)
User who created this presentation state.
"^DD",2005,2005.05,3,"DT")
3040707
"^DD",2005,2005.05,4,0)
TIMESTAMP^D^^0;4^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",2005,2005.05,4,3)
Enter date/time of Presentation State creation.
"^DD",2005,2005.05,4,21,0)
^^1^1^3050608^
"^DD",2005,2005.05,4,21,1,0)
Date/Time when this PS was created.
"^DD",2005,2005.05,4,"DT")
3040816
"^DD",2005,2005.51,0)
PS DATA SUB-FIELD^^.01^1
"^DD",2005,2005.51,0,"DT")
3040707
"^DD",2005,2005.51,0,"NM","PS DATA")

"^DD",2005,2005.51,0,"UP")
2005.05
"^DD",2005,2005.51,.01,0)
PS DATA^WL^^0;1^Q
"^DD",2005,2005.51,.01,21,0)
^^1^1^3050608^
"^DD",2005,2005.51,.01,21,1,0)
Lines of the PS data stored here.
"^DD",2005,2005.51,.01,"DT")
3050608
"^DD",2005.001,2005.001,0)
FIELD^^2^4
"^DD",2005.001,2005.001,0,"DDA")
N
"^DD",2005.001,2005.001,0,"DT")
3050930
"^DD",2005.001,2005.001,0,"IX","B",2005.001,.01)

"^DD",2005.001,2005.001,0,"NM","IMAGING STUDY")

"^DD",2005.001,2005.001,.01,0)
PARENT GLOBAL ROOT D0^RNJ10,0^^0;1^K:+X'=X!(X>9999999999.9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",2005.001,2005.001,.01,1,0)
^.1
"^DD",2005.001,2005.001,.01,1,1,0)
2005.001^B
"^DD",2005.001,2005.001,.01,1,1,1)
S ^MAG(2005.001,"B",$E(X,1,30),DA)=""
"^DD",2005.001,2005.001,.01,1,1,2)
K ^MAG(2005.001,"B",$E(X,1,30),DA)
"^DD",2005.001,2005.001,.01,3)
Type a Number between 1 and 9999999999.9999, 0 Decimal Digits
"^DD",2005.001,2005.001,.01,21,0)
^.001^2^2^3050926^^^^
"^DD",2005.001,2005.001,.01,21,1,0)
This node is where Study level data can be stored, e.g. Key
"^DD",2005.001,2005.001,.01,21,2,0)
Images.
"^DD",2005.001,2005.001,.01,"DT")
3051011
"^DD",2005.001,2005.001,1,0)
PARENT DATA FILE#^RP2005.03'^MAG(2005.03,^0;2^Q
"^DD",2005.001,2005.001,1,1,0)
^.1^^0
"^DD",2005.001,2005.001,1,3)
Enter the Parent Report file (or sub-file) number.
"^DD",2005.001,2005.001,1,21,0)
^.001^1^1^3050926^^^^
"^DD",2005.001,2005.001,1,21,1,0)
The Parent Report file (or sub-file) number.
"^DD",2005.001,2005.001,1,"DT")
3051011
"^DD",2005.001,2005.001,2,0)
PARENT GLOBAL ROOT D1^NJ9,0^^0;3^K:+X'=X!(X>999999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",2005.001,2005.001,2,3)
Type a Number between 0 and 999999999, 0 Decimal Digits
"^DD",2005.001,2005.001,2,"DT")
3050926
"^DD",2005.001,2005.001,5,0)
INTERPRETATION IMAGES^2005.031P^^1;0
"^DD",2005.001,2005.001,5,21,0)
^.001^3^3^3050930^^^^
"^DD",2005.001,2005.001,5,21,1,0)
This node contains a list of images that were referenced during
"^DD",2005.001,2005.001,5,21,2,0)
the Exam Interpretation either by annotations, or by designation
"^DD",2005.001,2005.001,5,21,3,0)
as KEY images.
"^DD",2005.001,2005.001,5,"DT")
3050920
"^DD",2005.001,2005.031,0)
INTERPRETATION IMAGES SUB-FIELD^^1^2
"^DD",2005.001,2005.031,0,"DT")
3050930
"^DD",2005.001,2005.031,0,"IX","B",2005.031,.01)

"^DD",2005.001,2005.031,0,"NM","INTERPRETATION IMAGES")

"^DD",2005.001,2005.031,0,"UP")
2005.001
"^DD",2005.001,2005.031,.01,0)
INTERPRETATION IMAGE^MP2005'^MAG(2005,^0;1^Q
"^DD",2005.001,2005.031,.01,1,0)
^.1
"^DD",2005.001,2005.031,.01,1,1,0)
2005.031^B
"^DD",2005.001,2005.031,.01,1,1,1)
S ^MAG(2005.001,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",2005.001,2005.031,.01,1,1,2)
K ^MAG(2005.001,DA(1),1,"B",$E(X,1,30),DA)
"^DD",2005.001,2005.031,.01,3)
Enter the image IEN for any image that is KEY or has been annotated.
"^DD",2005.001,2005.031,.01,21,0)
^.001^4^4^3050926^^^^
"^DD",2005.001,2005.031,.01,21,1,0)
If an image is designated as KEY, or is annotated during
"^DD",2005.001,2005.031,.01,21,2,0)
the exam interpretation, it's reference IEN is saved here,
"^DD",2005.001,2005.031,.01,21,3,0)
together with any Presentation State references that were
"^DD",2005.001,2005.031,.01,21,4,0)
created during the interpretation.
"^DD",2005.001,2005.031,.01,"DT")
3050920
"^DD",2005.001,2005.031,1,0)
PRESENTATION STATE UID^2005.311^^1;0
"^DD",2005.001,2005.031,1,21,0)
^.001^2^2^3050930^^^^
"^DD",2005.001,2005.031,1,21,1,0)
This node contains a list of Presentation State UIDs associated
"^DD",2005.001,2005.031,1,21,2,0)
with this Image during the Interpretation.
"^DD",2005.001,2005.311,0)
PRESENTATION STATE UID SUB-FIELD^^2^3
"^DD",2005.001,2005.311,0,"DT")
3050930
"^DD",2005.001,2005.311,0,"IX","B",2005.311,.01)

"^DD",2005.001,2005.311,0,"NM","PRESENTATION STATE UID")

"^DD",2005.001,2005.311,0,"UP")
2005.031
"^DD",2005.001,2005.311,.01,0)
PRESENTATION STATE UID^MF^^0;1^K:$L(X)>99!($L(X)<3) X
"^DD",2005.001,2005.311,.01,1,0)
^.1
"^DD",2005.001,2005.311,.01,1,1,0)
2005.311^B
"^DD",2005.001,2005.311,.01,1,1,1)
S ^MAG(2005.001,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",2005.001,2005.311,.01,1,1,2)
K ^MAG(2005.001,DA(2),1,DA(1),1,"B",$E(X,1,30),DA)
"^DD",2005.001,2005.311,.01,3)
Answer must be 3-99 characters in length.
"^DD",2005.001,2005.311,.01,21,0)
^.001^2^2^3050926^^^
"^DD",2005.001,2005.311,.01,21,1,0)
This UID links to the presentation state associated
"^DD",2005.001,2005.311,.01,21,2,0)
with the image record.
"^DD",2005.001,2005.311,.01,"DT")
3050906
"^DD",2005.001,2005.311,1,0)
PS TYPE^S^K:KEY;I:INTERPRETATION;^0;2^Q
"^DD",2005.001,2005.311,1,3)
Enter the type of data this presentation state is for.
"^DD",2005.001,2005.311,1,21,0)
^.001^1^1^3050926^^^^
"^DD",2005.001,2005.311,1,21,1,0)
Indicates the type of presentation state data stored.
"^DD",2005.001,2005.311,1,"DT")
3050920
"^DD",2005.001,2005.311,2,0)
SEQUENCE^NJ4,0^^0;3^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",2005.001,2005.311,2,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",2005.001,2005.311,2,21,0)
^^4^4^3050930^
"^DD",2005.001,2005.311,2,21,1,0)
The sequence value preserves the order in which the
"^DD",2005.001,2005.311,2,21,2,0)
image/presentation states are sent from the client.  For
"^DD",2005.001,2005.311,2,21,3,0)
Key images, this allows that same ordering to be replicated
"^DD",2005.001,2005.311,2,21,4,0)
when the images are retrieved for display.
"^DD",2005.001,2005.311,2,"DT")
3050930
"^DD",2006.63,2006.63,0)
FIELD^^7^8
"^DD",2006.63,2006.63,0,"DDA")
N
"^DD",2006.63,2006.63,0,"DT")
3000107
"^DD",2006.63,2006.63,0,"IX","ASRTREV",2006.63,6)

"^DD",2006.63,2006.63,0,"IX","B",2006.63,.01)

"^DD",2006.63,2006.63,0,"NM","MAG RAD LIST DATA ELEMENTS")

"^DD",2006.63,2006.63,0,"PT",2006.6311,.01)

"^DD",2006.63,2006.63,0,"PT",2006.6312,.01)

"^DD",2006.63,2006.63,0,"VRPK")
IMAGING
"^DD",2006.63,2006.63,.01,0)
NAME^RFI^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",2006.63,2006.63,.01,1,0)
^.1
"^DD",2006.63,2006.63,.01,1,1,0)
2006.63^B
"^DD",2006.63,2006.63,.01,1,1,1)
S ^MAG(2006.63,"B",$E(X,1,30),DA)=""
"^DD",2006.63,2006.63,.01,1,1,2)
K ^MAG(2006.63,"B",$E(X,1,30),DA)
"^DD",2006.63,2006.63,.01,3)
Answer must be 3-30 characters in length.
"^DD",2006.63,2006.63,.01,"DT")
3011106
"^DD",2006.63,2006.63,1,0)
ABBREVIATION^RFI^^0;2^K:$L(X)>15!($L(X)<1)!'('(X["~"!(X["|"))) X
"^DD",2006.63,2006.63,1,3)
Answer must be 1-15 characters in length; no tilde or pipe (~, |).
"^DD",2006.63,2006.63,1,"DT")
3000107
"^DD",2006.63,2006.63,2,0)
COLUMN HEADER^F^^0;3^K:$L(X)>15!($L(X)<1)!'('(X["~"!(X["|"))) X
"^DD",2006.63,2006.63,2,3)
Answer must be 1-15 characters in length; no tilde or pipe (~, |).
"^DD",2006.63,2006.63,2,"DT")
3000107
"^DD",2006.63,2006.63,3,0)
Sort Only?^SI^1:Yes;0:No;^0;4^Q
"^DD",2006.63,2006.63,3,3)
Enter YES only if this field should be used solely for sorting, vs displaying its value.
"^DD",2006.63,2006.63,3,"DT")
2990322
"^DD",2006.63,2006.63,4,0)
Internal Use Only?^SI^1:Yes;^0;5^Q
"^DD",2006.63,2006.63,4,"DT")
2990322
"^DD",2006.63,2006.63,5,0)
RELATIVE ORDER^RNJ4,1I^^0;6^K:+X'=X!(X>99)!(X<0)!(X?.E1"."2N.N) X
"^DD",2006.63,2006.63,5,1,0)
^.1^^0
"^DD",2006.63,2006.63,5,3)
Type a Number between 0 and 99, 1 Decimal Digit
"^DD",2006.63,2006.63,5,21,0)
^^2^2^2990304^
"^DD",2006.63,2006.63,5,21,1,0)
Output columns will always appear in a fixed relative order according to
"^DD",2006.63,2006.63,5,21,2,0)
the value of this field.
"^DD",2006.63,2006.63,5,"DT")
2990322
"^DD",2006.63,2006.63,6,0)
REVERSABLE SORT?^S^1:YES;^0;7^Q
"^DD",2006.63,2006.63,6,1,0)
^.1
"^DD",2006.63,2006.63,6,1,1,0)
2006.63^ASRTREV
"^DD",2006.63,2006.63,6,1,1,1)
S ^MAG(2006.63,"ASRTREV",$E(X,1,30),DA)=""
"^DD",2006.63,2006.63,6,1,1,2)
K ^MAG(2006.63,"ASRTREV",$E(X,1,30),DA)
"^DD",2006.63,2006.63,6,1,1,"DT")
2990507
"^DD",2006.63,2006.63,6,3)
To enable reverse sort by this field, enter YES (Date & Numeric valued fields only!)
"^DD",2006.63,2006.63,6,"DT")
2990507
"^DD",2006.63,2006.63,7,0)
COLUMN TYPE^S^S1:Date/Time;S2:Numeric;S3:Day/Case #;^0;8^Q
"^DD",2006.63,2006.63,7,3)
Answer this ONLY if the data for this field fits a defined Type.
"^DD",2006.63,2006.63,7,21,0)
^^5^5^3000107^
"^DD",2006.63,2006.63,7,21,1,0)
This indicates to the VistsRad Client that the data for this column
"^DD",2006.63,2006.63,7,21,2,0)
requires special handling for either the Sort, or other defined needs.  No
"^DD",2006.63,2006.63,7,21,3,0)
answer, by default, says treat column data as free-text data.  Defined
"^DD",2006.63,2006.63,7,21,4,0)
needs are: Indicate Sort requirements (for Date & Numeric values)
"^DD",2006.63,2006.63,7,21,5,0)
           Indicate Day/Case Number (used for key in Client App)
"^DD",2006.63,2006.63,7,"DT")
3000107
"^DD",2006.631,2006.631,0)
FIELD^^2^9
"^DD",2006.631,2006.631,0,"DDA")
N
"^DD",2006.631,2006.631,0,"DT")
3041021
"^DD",2006.631,2006.631,0,"ID",.02)
W "   ",$P(^(0),U,2)
"^DD",2006.631,2006.631,0,"IX","B",2006.631,.01)

"^DD",2006.631,2006.631,0,"IX","C",2006.631,.02)

"^DD",2006.631,2006.631,0,"NM","MAG RAD LISTS DEFINITION")

"^DD",2006.631,2006.631,0,"VRPK")
IMAGING
"^DD",2006.631,2006.631,.01,0)
NAME^RF^^0;1^K:$L(X)>75!($L(X)<3)!'(X'?1P.E) X
"^DD",2006.631,2006.631,.01,1,0)
^.1
"^DD",2006.631,2006.631,.01,1,1,0)
2006.631^B
"^DD",2006.631,2006.631,.01,1,1,1)
S ^MAG(2006.631,"B",$E(X,1,30),DA)=""
"^DD",2006.631,2006.631,.01,1,1,2)
K ^MAG(2006.631,"B",$E(X,1,30),DA)
"^DD",2006.631,2006.631,.01,3)
Answer must be 3-75 characters in length.
"^DD",2006.631,2006.631,.01,"DT")
2990712
"^DD",2006.631,2006.631,.02,0)
LIST #^RNJ3,0XI^^0;2^K:+X'=X!(X>999)!(X<1)!(X?.E1"."1N.N)!($D(^MAG(2006.631,"C",X))) X
"^DD",2006.631,2006.631,.02,1,0)
^.1^^-1
"^DD",2006.631,2006.631,.02,1,1,0)
2006.631^C
"^DD",2006.631,2006.631,.02,1,1,1)
S ^MAG(2006.631,"C",$E(X,1,30),DA)=""
"^DD",2006.631,2006.631,.02,1,1,2)
K ^MAG(2006.631,"C",$E(X,1,30),DA)
"^DD",2006.631,2006.631,.02,1,1,"DT")
2990226
"^DD",2006.631,2006.631,.02,3)
Type an Integer between 1 and 999; the value must be unique.
"^DD",2006.631,2006.631,.02,4)
N T,L,C,Q S C=2,L(1)="Used values are:",(L(1,"F"),L(2,"F"))="?10",(L(2),T)="" F  S T=$O(^MAG(2006.631,"C",T)),Q=('T!(T>9990)) S:'Q&($L(L(C))>40) C=C+1,L(C)="",L(C,"F")="!?26" S:'Q L(C)=L(C)_"  "_T I Q D EN^DDIOL(.L) Q
"^DD",2006.631,2006.631,.02,21,0)
^^3^3^2990607^^^^
"^DD",2006.631,2006.631,.02,21,1,0)
Enter a number to be used to uniquely identify this list; this number will
"^DD",2006.631,2006.631,.02,21,2,0)
be passed as a parameter from the workstation to cause this list to be
"^DD",2006.631,2006.631,.02,21,3,0)
generated.
"^DD",2006.631,2006.631,.02,"DT")
2990607
"^DD",2006.631,2006.631,.03,0)
LIST TYPE^R*S^U:UNREAD;R:RECENT;A:ALL UNREAD & RECENT;P:PENDING;N:Newly Interpreted;H:History;^0;3^Q
"^DD",2006.631,2006.631,.03,3)
Enter the List Type for this list; enter ?? for more help.
"^DD",2006.631,2006.631,.03,12)
N and H values are for internal use only, and have no use for defining lists.
"^DD",2006.631,2006.631,.03,12.1)
S DIC("S")="I Y'=""N""&(Y'=""H"")"
"^DD",2006.631,2006.631,.03,21,0)
^.001^12^12^3050603^^^
"^DD",2006.631,2006.631,.03,21,1,0)
This determines what subset of the exams to display, based on the Exam
"^DD",2006.631,2006.631,.03,21,2,0)
Status value.  Choices are:
"^DD",2006.631,2006.631,.03,21,3,0)
 
"^DD",2006.631,2006.631,.03,21,4,0)
  U  -- UNREAD Exams only; Exam Status Category= E(xamined)
"^DD",2006.631,2006.631,.03,21,5,0)
  R  -- RECENT Exams; Status Categories D(ictated) & T(ranscribed)
"^DD",2006.631,2006.631,.03,21,6,0)
  A  -- ALL Active Exams; Categories E, D, & T
"^DD",2006.631,2006.631,.03,21,7,0)
  P  -- PENDING Exams; Category= W(aiting for Exam)
"^DD",2006.631,2006.631,.03,21,8,0)
  N  -- Newly-Interpreted; NO Category
"^DD",2006.631,2006.631,.03,21,9,0)
  H -- History List; NO Category
"^DD",2006.631,2006.631,.03,21,10,0)
 
"^DD",2006.631,2006.631,.03,21,11,0)
List Types N and H are for internal use only,
"^DD",2006.631,2006.631,.03,21,12,0)
and are not available for defining reports.
"^DD",2006.631,2006.631,.03,"DT")
3041021
"^DD",2006.631,2006.631,.04,0)
IMAGING TYPES^RS^ALL:ALL;^0;4^Q
"^DD",2006.631,2006.631,.04,3)
Enter ALL; this field may have other values in the future.
"^DD",2006.631,2006.631,.04,"DT")
2990226
"^DD",2006.631,2006.631,.05,0)
LAST EDITED^D^^0;5^S %DT="ESTXR" D ^%DT S X=Y K:Y<1 X
"^DD",2006.631,2006.631,.05,3)
When finished all list definition changes, Enter "NOW" to log time of last edit.
"^DD",2006.631,2006.631,.05,21,0)
^^1^1^2990324^
"^DD",2006.631,2006.631,.05,21,1,0)
Log of last time this report was edited.
"^DD",2006.631,2006.631,.05,23,0)
^^3^3^2990324^
"^DD",2006.631,2006.631,.05,23,1,0)
Whenever the report definition is edited, the compile process must
"^DD",2006.631,2006.631,.05,23,2,0)
re-build some needed internal data structures that support the
"^DD",2006.631,2006.631,.05,23,3,0)
execution of the List compile routines.
"^DD",2006.631,2006.631,.05,"DT")
2990226
"^DD",2006.631,2006.631,.06,0)
ENABLE LIST?^S^1:Y;0:N;^0;6^Q
"^DD",2006.631,2006.631,.06,3)
Enable this LIST only when it is ready for live use.
"^DD",2006.631,2006.631,.06,21,0)
^^5^5^2990324^^
"^DD",2006.631,2006.631,.06,21,1,0)
Until the List definition is Enabled, it will not be available for
"^DD",2006.631,2006.631,.06,21,2,0)
use from the VistARad Workstation; this allows you time to develop and/or
"^DD",2006.631,2006.631,.06,21,3,0)
modify list definitions without worrying about end-users accessing a
"^DD",2006.631,2006.631,.06,21,4,0)
fully-defined list.  Also, you can retire a list that is no longer needed
"^DD",2006.631,2006.631,.06,21,5,0)
by deleting this field's answer.
"^DD",2006.631,2006.631,.06,"DT")
2990324
"^DD",2006.631,2006.631,.07,0)
BUTTON LABEL^RF^^0;7^K:$L(X)>15!($L(X)<3) X
"^DD",2006.631,2006.631,.07,3)
Answer must be 3-15 characters in length.
"^DD",2006.631,2006.631,.07,"DT")
2990630
"^DD",2006.631,2006.631,1,0)
COLUMNS^2006.6311PA^^1;0
"^DD",2006.631,2006.631,1,21,0)
^.001^1^1^3020313^^^
"^DD",2006.631,2006.631,1,21,1,0)
Specify output columns here.
"^DD",2006.631,2006.631,2,0)
SORT^2006.6312PA^^2;0
"^DD",2006.631,2006.631,2,21,0)
^^1^1^2990607^^^^
"^DD",2006.631,2006.631,2,21,1,0)
The sort sequence may be specified here.
"^DD",2006.631,2006.6311,0)
COLUMNS SUB-FIELD^^1^2
"^DD",2006.631,2006.6311,0,"DT")
2990324
"^DD",2006.631,2006.6311,0,"IX","B",2006.6311,.01)

"^DD",2006.631,2006.6311,0,"NM","COLUMNS")

"^DD",2006.631,2006.6311,0,"UP")
2006.631
"^DD",2006.631,2006.6311,.01,0)
COLUMN^MP2006.63'^MAG(2006.63,^0;1^Q
"^DD",2006.631,2006.6311,.01,1,0)
^.1
"^DD",2006.631,2006.6311,.01,1,1,0)
2006.6311^B
"^DD",2006.631,2006.6311,.01,1,1,1)
S ^MAG(2006.631,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",2006.631,2006.6311,.01,1,1,2)
K ^MAG(2006.631,DA(1),1,"B",$E(X,1,30),DA)
"^DD",2006.631,2006.6311,.01,3)
Enter output columns for the list.
"^DD",2006.631,2006.6311,.01,21,0)
^^2^2^3020313^
"^DD",2006.631,2006.6311,.01,21,1,0)
This field is a pointer to MAG RAD LIST DATA ELEMENTS and specifies the 
"^DD",2006.631,2006.6311,.01,21,2,0)
display column in the Exam Lists.
"^DD",2006.631,2006.6311,.01,"DT")
2990302
"^DD",2006.631,2006.6311,1,0)
WIDTH^NJ2,0^^0;2^K:+X'=X!(X>30)!(X<0)!(X?.E1"."1N.N) X
"^DD",2006.631,2006.6311,1,3)
Type a Number between 0 and 30, 0 Decimal Digits
"^DD",2006.631,2006.6311,1,21,0)
^^1^1^2990324^
"^DD",2006.631,2006.6311,1,21,1,0)
Output values may be truncated to the specified width, if desired.
"^DD",2006.631,2006.6311,1,"DT")
2990324
"^DD",2006.631,2006.6312,0)
SORT SUB-FIELD^^1^2
"^DD",2006.631,2006.6312,0,"DT")
2990607
"^DD",2006.631,2006.6312,0,"IX","B",2006.6312,.01)

"^DD",2006.631,2006.6312,0,"NM","SORT")

"^DD",2006.631,2006.6312,0,"UP")
2006.631
"^DD",2006.631,2006.6312,.01,0)
SORT^MP2006.63'^MAG(2006.63,^0;1^Q
"^DD",2006.631,2006.6312,.01,1,0)
^.1^^-1
"^DD",2006.631,2006.6312,.01,1,1,0)
2006.6312^B
"^DD",2006.631,2006.6312,.01,1,1,1)
S ^MAG(2006.631,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",2006.631,2006.6312,.01,1,1,2)
K ^MAG(2006.631,DA(1),2,"B",$E(X,1,30),DA)
"^DD",2006.631,2006.6312,.01,3)
Specify the sort values, in the desired sort order.
"^DD",2006.631,2006.6312,.01,21,0)
^^1^1^2990607^^
"^DD",2006.631,2006.6312,.01,21,1,0)
The order in which fields are entered here determines the sort order.
"^DD",2006.631,2006.6312,.01,"DT")
2990607
"^DD",2006.631,2006.6312,1,0)
REVERSE?^S^1:YES;0:NO;^0;2^Q
"^DD",2006.631,2006.6312,1,3)
If a reverse sort is desired, this should be answered "Y".
"^DD",2006.631,2006.6312,1,21,0)
^^2^2^2990607^^^^
"^DD",2006.631,2006.6312,1,21,1,0)
If a reverse sort is desired, this should be answered "Y"; reverse sort 
"^DD",2006.631,2006.6312,1,21,2,0)
is only valid for date/time and numeric-valued fields.
"^DD",2006.631,2006.6312,1,"DT")
2990607
"^DD",2006.634,2006.634,0)
FIELD^^32^32
"^DD",2006.634,2006.634,0,"DDA")
Y
"^DD",2006.634,2006.634,0,"DT")
3050803
"^DD",2006.634,2006.634,0,"IX","B",2006.634,.01)

"^DD",2006.634,2006.634,0,"NM","MAGJ ZLIST SEARCH")

"^DD",2006.634,2006.634,0,"VRPK")
IMAGING
"^DD",2006.634,2006.634,.01,0)
CASE NUMBER^RF^^0;1^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,.01,1,0)
^.1
"^DD",2006.634,2006.634,.01,1,1,0)
2006.634^B
"^DD",2006.634,2006.634,.01,1,1,1)
S ^MAG(2006.634,"B",$E(X,1,30),DA)=""
"^DD",2006.634,2006.634,.01,1,1,2)
K ^MAG(2006.634,"B",$E(X,1,30),DA)
"^DD",2006.634,2006.634,.01,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,.01,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,.01,21,1,0)
The search entry that corresponds to the Case Number.
"^DD",2006.634,2006.634,.01,"DT")
2990329
"^DD",2006.634,2006.634,2,0)
EXAM LOCK IND^RF^^0;2^K:$L(X)>4!($L(X)<1) X
"^DD",2006.634,2006.634,2,3)
Answer must be 1-4 characters in length.
"^DD",2006.634,2006.634,2,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,2,21,1,0)
The search entry that corresponds to the Exam Lock Indicator.
"^DD",2006.634,2006.634,2,"DT")
2990329
"^DD",2006.634,2006.634,3,0)
PATIENT NAME^RF^^0;3^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,3,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,3,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,3,21,1,0)
The search entry that corresponds to the Patient Name.
"^DD",2006.634,2006.634,3,"DT")
2990329
"^DD",2006.634,2006.634,4,0)
PATIENT ID^RF^^0;4^K:$L(X)>5!($L(X)<1) X
"^DD",2006.634,2006.634,4,3)
Answer must be 1-5 characters in length.
"^DD",2006.634,2006.634,4,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,4,21,1,0)
The search entry that corresponds to the Patient Identification.
"^DD",2006.634,2006.634,4,"DT")
2990329
"^DD",2006.634,2006.634,5,0)
PRIORITY^RF^^0;5^K:$L(X)>5!($L(X)<1) X
"^DD",2006.634,2006.634,5,3)
Answer must be 1-5 characters in length.
"^DD",2006.634,2006.634,5,21,0)
^.001^1^1^3020313^^
"^DD",2006.634,2006.634,5,21,1,0)
The search entry that corresponds to the Priority of the case.
"^DD",2006.634,2006.634,5,"DT")
2990329
"^DD",2006.634,2006.634,6,0)
PROCEDURE^RF^^0;6^K:$L(X)>5!($L(X)<1) X
"^DD",2006.634,2006.634,6,3)
Answer must be 1-5 characters in length.
"^DD",2006.634,2006.634,6,21,0)
^.001^1^1^3020313^^^
"^DD",2006.634,2006.634,6,21,1,0)
The search entry that corresponds to Procedure.
"^DD",2006.634,2006.634,6,"DT")
2990329
"^DD",2006.634,2006.634,7,0)
IMAGE DATE/TIME^F^^0;7^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,7,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,7,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,7,21,1,0)
The search entry that corresponds to the Image Date and Time.
"^DD",2006.634,2006.634,7,"DT")
2990329
"^DD",2006.634,2006.634,8,0)
STATUS^RF^^0;8^K:$L(X)>4!($L(X)<1) X
"^DD",2006.634,2006.634,8,3)
Answer must be 1-4 characters in length.
"^DD",2006.634,2006.634,8,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,8,21,1,0)
The search entry that corresponds to the Status of the case.
"^DD",2006.634,2006.634,8,"DT")
2990329
"^DD",2006.634,2006.634,9,0)
NUMBER OF IMAGES^RF^^0;9^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,9,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,9,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,9,21,1,0)
The search entry that corresponds to Number of Images for the case.
"^DD",2006.634,2006.634,9,"DT")
2990329
"^DD",2006.634,2006.634,10,0)
ONLINE STATUS^RF^^0;10^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,10,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,10,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,10,21,1,0)
The search entry that corresponds to Online Status of the images.
"^DD",2006.634,2006.634,10,"DT")
2990329
"^DD",2006.634,2006.634,11,0)
IMAGING LOCATION^RF^^0;11^K:$L(X)>5!($L(X)<1) X
"^DD",2006.634,2006.634,11,3)
Answer must be 1-5 characters in length.
"^DD",2006.634,2006.634,11,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,11,21,1,0)
The search entry that corresponds to the Imaging Location of the images.
"^DD",2006.634,2006.634,11,"DT")
2990329
"^DD",2006.634,2006.634,12,0)
REMOTE CACHE INDICATOR^RF^^0;12^K:$L(X)>5!($L(X)<1) X
"^DD",2006.634,2006.634,12,3)
Answer must be 1-5 characters in length.
"^DD",2006.634,2006.634,12,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,12,21,1,0)
The search entry that corresponds to Remote Cache Indicator for the images.
"^DD",2006.634,2006.634,12,"DT")
2990329
"^DD",2006.634,2006.634,13,0)
IMAGES EXIST INDICATOR^RF^^0;13^K:$L(X)>1!($L(X)<1) X
"^DD",2006.634,2006.634,13,3)
Answer must be 1 character in length.
"^DD",2006.634,2006.634,13,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,13,21,1,0)
The search entry that corresponds to Images Exist Indicator for the case.
"^DD",2006.634,2006.634,13,"DT")
2990329
"^DD",2006.634,2006.634,14,0)
IMAGE DATE/TIME-SORTABLE^RF^^0;14^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,14,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,14,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,14,21,1,0)
The search entry that corresponds to Image Date & Time Sortable.
"^DD",2006.634,2006.634,14,"DT")
2990329
"^DD",2006.634,2006.634,15,0)
MODALITY^RF^^0;15^K:$L(X)>2!($L(X)<1) X
"^DD",2006.634,2006.634,15,3)
Answer must be 1-2 characters in length.
"^DD",2006.634,2006.634,15,21,0)
^.001^1^1^3020313^^
"^DD",2006.634,2006.634,15,21,1,0)
The search entry that corresponds to Modality.
"^DD",2006.634,2006.634,15,"DT")
2990329
"^DD",2006.634,2006.634,16,0)
INTERNAL EXAM STATUS^RF^^0;16^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,16,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,16,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,16,21,1,0)
The search entry that corresponds to Internal Exam Status.
"^DD",2006.634,2006.634,16,"DT")
2990329
"^DD",2006.634,2006.634,17,0)
IMAGE TYPE ABBREVIATION^RF^^0;17^K:$L(X)>4!($L(X)<1) X
"^DD",2006.634,2006.634,17,3)
Answer must be 1-4 characters in length.
"^DD",2006.634,2006.634,17,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,17,21,1,0)
The search entry that corresponds to Image Type Abbreviation.
"^DD",2006.634,2006.634,17,"DT")
2990329
"^DD",2006.634,2006.634,18,0)
PATIENT LOCATION ABBREV^RF^^0;18^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,18,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,18,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,18,21,1,0)
The search entry that corresponds to Patient Location Abbreviation.
"^DD",2006.634,2006.634,18,"DT")
3010820
"^DD",2006.634,2006.634,19,0)
PATIENT LOCATION NAME^RF^^0;19^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,19,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,19,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,19,21,1,0)
The search entry that corresponds to the Patient Location Name. 
"^DD",2006.634,2006.634,19,"DT")
3010820
"^DD",2006.634,2006.634,20,0)
INTERPRETING RADIOLOGISTS^RF^^0;20^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,20,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,20,21,0)
^.001^1^1^3020313^^
"^DD",2006.634,2006.634,20,21,1,0)
The search entry that corresponds to the Interpreting Radiologist.
"^DD",2006.634,2006.634,20,"DT")
3010820
"^DD",2006.634,2006.634,21,0)
SSN LAST 4^RF^^0;21^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,21,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,21,21,0)
^^2^2^3020313^
"^DD",2006.634,2006.634,21,21,1,0)
The search entry that corresponds to the last 4 digits of the social 
"^DD",2006.634,2006.634,21,21,2,0)
security number for the patient..
"^DD",2006.634,2006.634,21,"DT")
3010820
"^DD",2006.634,2006.634,22,0)
RADIOLOGY DIVISION^RF^^0;22^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,22,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,22,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,22,21,1,0)
The search entry that corresponds to the Radiology division.
"^DD",2006.634,2006.634,22,"DT")
3010820
"^DD",2006.634,2006.634,23,0)
SITE CODE^RF^^0;23^K:$L(X)>3!($L(X)<1) X
"^DD",2006.634,2006.634,23,3)
Answer must be 1-3 characters in length.
"^DD",2006.634,2006.634,23,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,23,21,1,0)
The search entry that corresponds to the Site code.
"^DD",2006.634,2006.634,23,"DT")
3010820
"^DD",2006.634,2006.634,24,0)
INTERP BY LOGON RADIOLOGIST?^S^Y:YES;N:NO;^0;24^Q
"^DD",2006.634,2006.634,24,21,0)
^^1^1^3020313^
"^DD",2006.634,2006.634,24,21,1,0)
The search entry that corresponds to Interpreted By Login Radiologist.
"^DD",2006.634,2006.634,24,"DT")
3011106
"^DD",2006.634,2006.634,25,0)
PROCEDURE MODIFIER^F^^0;25^K:$L(X)>30!($L(X)<2) X
"^DD",2006.634,2006.634,25,3)
Answer must be 2-30 characters in length.
"^DD",2006.634,2006.634,25,21,0)
^^1^1^3030501^
"^DD",2006.634,2006.634,25,21,1,0)
The search entry that corresponds to Procedure Modifier.
"^DD",2006.634,2006.634,25,"DT")
3030501
"^DD",2006.634,2006.634,26,0)
PATIENT LOCATION TYPE^F^^0;26^K:$L(X)>10!($L(X)<1) X
"^DD",2006.634,2006.634,26,3)
Answer must be 1-10 characters in length.
"^DD",2006.634,2006.634,26,21,0)
^^1^1^3030501^
"^DD",2006.634,2006.634,26,21,1,0)
The search entry that corresponds to Patient Location Type.
"^DD",2006.634,2006.634,26,"DT")
3030501
"^DD",2006.634,2006.634,27,0)
CPT CODE^F^^0;27^K:$L(X)>5!($L(X)<3) X
"^DD",2006.634,2006.634,27,3)
Answer must be 3-5 characters in length.
"^DD",2006.634,2006.634,27,21,0)
^^1^1^3041013^
"^DD",2006.634,2006.634,27,21,1,0)
The search entry that corresponds to the Procedure CPT Code
"^DD",2006.634,2006.634,27,"DT")
3041013
"^DD",2006.634,2006.634,28,0)
WARD^F^^0;28^K:$L(X)>10!($L(X)<2) X
"^DD",2006.634,2006.634,28,3)
Answer must be 2-10 characters in length.
"^DD",2006.634,2006.634,28,21,0)
^^1^1^3041013^
"^DD",2006.634,2006.634,28,21,1,0)
The search entry that corresponds to the Patient Ward
"^DD",2006.634,2006.634,28,"DT")
3041013
"^DD",2006.634,2006.634,29,0)
HISTORY IEN^NJ6,0^^0;29^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",2006.634,2006.634,29,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",2006.634,2006.634,29,21,0)
^^1^1^3050803^
"^DD",2006.634,2006.634,29,21,1,0)
The search entry that corresponds to the History List IEN.
"^DD",2006.634,2006.634,29,"DT")
3050803
"^DD",2006.634,2006.634,30,0)
HISTORY TIMESTAMP^F^^0;30^K:$L(X)>10!($L(X)<1) X
"^DD",2006.634,2006.634,30,3)
Answer must be 1-10 characters in length.
"^DD",2006.634,2006.634,30,21,0)
^^1^1^3050803^
"^DD",2006.634,2006.634,30,21,1,0)
The search entry that corresponds to the History List timestamp.
"^DD",2006.634,2006.634,30,"DT")
3050803
"^DD",2006.634,2006.634,31,0)
HISTORY LOCK STATUS^S^N:No;Y:Yes;^0;31^Q
"^DD",2006.634,2006.634,31,3)

"^DD",2006.634,2006.634,31,21,0)
^.001^1^1^3050803^^
"^DD",2006.634,2006.634,31,21,1,0)
The search entry that corresponds to the History List lock status.
"^DD",2006.634,2006.634,31,"DT")
3050803
"^DD",2006.634,2006.634,32,0)
HISTORY HP USED^F^^0;32^K:$L(X)>30!($L(X)<2) X
"^DD",2006.634,2006.634,32,3)
Answer must be 2-30 characters in length.
"^DD",2006.634,2006.634,32,21,0)
^^1^1^3050803^
"^DD",2006.634,2006.634,32,21,1,0)
The search entry that corresponds to the History List HP or TP used.
"^DD",2006.634,2006.634,32,"DT")
3050803
"^DD",2006.67,2006.67,0)
FIELD^^5^6
"^DD",2006.67,2006.67,0,"DDA")
N
"^DD",2006.67,2006.67,0,"DT")
3050527
"^DD",2006.67,2006.67,0,"IX","B",2006.67,.01)

"^DD",2006.67,2006.67,0,"IX","BODYPART",2006.674,.01)

"^DD",2006.67,2006.67,0,"IX","CPTMATCH",2006.67,3)

"^DD",2006.67,2006.67,0,"IX","MDL",2006.675,.01)

"^DD",2006.67,2006.67,0,"NM","MAG RAD CPT MATCHING")

"^DD",2006.67,2006.67,0,"PT",2006.67,3)

"^DD",2006.67,2006.67,.01,0)
CPT CODE^RP81'^ICPT(^0;1^Q
"^DD",2006.67,2006.67,.01,1,0)
^.1
"^DD",2006.67,2006.67,.01,1,1,0)
2006.67^B
"^DD",2006.67,2006.67,.01,1,1,1)
S ^MAG(2006.67,"B",$E(X,1,30),DA)=""
"^DD",2006.67,2006.67,.01,1,1,2)
K ^MAG(2006.67,"B",$E(X,1,30),DA)
"^DD",2006.67,2006.67,.01,3)

"^DD",2006.67,2006.67,.01,21,0)
^.001^1^1^3050614^^
"^DD",2006.67,2006.67,.01,21,1,0)
CPT code for creating an entry in this file.
"^DD",2006.67,2006.67,.01,23,0)
^.001^1^1^3050614^^^^
"^DD",2006.67,2006.67,.01,23,1,0)
Pointer to the CPT file.
"^DD",2006.67,2006.67,.01,"DEL",1,0)
D EN^DDIOL("Deletion is not allowed!") I 1
"^DD",2006.67,2006.67,.01,"DT")
3050301
"^DD",2006.67,2006.67,1,0)
AMA BODY REGION^P2006.672'^MAG(2006.672,^0;2^Q
"^DD",2006.67,2006.67,1,3)

"^DD",2006.67,2006.67,1,21,0)
^.001^4^4^3050606^^
"^DD",2006.67,2006.67,1,21,1,0)
This field contains generic body region descriptive information
"^DD",2006.67,2006.67,1,21,2,0)
derived from the AMA CPT book.  The values used are from the 
"^DD",2006.67,2006.67,1,21,3,0)
Radiology procedures section; it provides a general frame of
"^DD",2006.67,2006.67,1,21,4,0)
reference when assigning Body Part asociations.
"^DD",2006.67,2006.67,1,"DT")
3050526
"^DD",2006.67,2006.67,2,0)
VRAD BODY REGION^F^^0;3^K:$L(X)>30!($L(X)<1) X
"^DD",2006.67,2006.67,2,1,0)
^.1^^0
"^DD",2006.67,2006.67,2,3)
Answer must be 1-30 characters in length.
"^DD",2006.67,2006.67,2,21,0)
^.001^1^1^3050606^^
"^DD",2006.67,2006.67,2,21,1,0)
Provides another means for grouping body part designations.
"^DD",2006.67,2006.67,2,"DT")
3050603
"^DD",2006.67,2006.67,3,0)
MATCH GROUP^P2006.67'^MAG(2006.67,^0;4^Q
"^DD",2006.67,2006.67,3,1,0)
^.1
"^DD",2006.67,2006.67,3,1,1,0)
2006.67^CPTMATCH
"^DD",2006.67,2006.67,3,1,1,1)
S ^MAG(2006.67,"CPTMATCH",$E(X,1,30),DA)=""
"^DD",2006.67,2006.67,3,1,1,2)
K ^MAG(2006.67,"CPTMATCH",$E(X,1,30),DA)
"^DD",2006.67,2006.67,3,1,1,"DT")
3050301
"^DD",2006.67,2006.67,3,3)
Enter cpt code that defines the cpt match group for this code.
"^DD",2006.67,2006.67,3,21,0)
^.001^8^8^3050531^^^
"^DD",2006.67,2006.67,3,21,1,0)
This field points to another CPT entry in this file.  It is used
"^DD",2006.67,2006.67,3,21,2,0)
to identify another procedure that is "similar" to this one for
"^DD",2006.67,2006.67,3,21,3,0)
automatic prior exams matching.  As many CPTs as desired may point
"^DD",2006.67,2006.67,3,21,4,0)
to the same MATCH GROUP CPT value--this will have the effect where
"^DD",2006.67,2006.67,3,21,5,0)
any one of those procedures are thus part of the same group of exams
"^DD",2006.67,2006.67,3,21,6,0)
for matching.  I.e., looking for matching priors for any one of
"^DD",2006.67,2006.67,3,21,7,0)
those values would be able to retrieve exams that correspond to
"^DD",2006.67,2006.67,3,21,8,0)
all of the CPTs so defined.
"^DD",2006.67,2006.67,3,"DT")
3050316
"^DD",2006.67,2006.67,4,0)
BODY PART^2006.674P^^1;0
"^DD",2006.67,2006.67,4,21,0)
^.001^5^5^3050531^^^^
"^DD",2006.67,2006.67,4,21,1,0)
Searching for prior exams may be done by matching the Body Part(s) of
"^DD",2006.67,2006.67,4,21,2,0)
the current exam with prior exams of the same Body Part as defined
"^DD",2006.67,2006.67,4,21,3,0)
in this file.
"^DD",2006.67,2006.67,4,21,4,0)
Note that prior exams matching logic may use Body Part in combination
"^DD",2006.67,2006.67,4,21,5,0)
with Modality to find matching CPT codes.
"^DD",2006.67,2006.67,5,0)
MODALITY^2006.675P^^2;0
"^DD",2006.67,2006.67,5,21,0)
^.001^4^4^3050531^^
"^DD",2006.67,2006.67,5,21,1,0)
Searching for prior exams may be done by matching the Modality(s) of
"^DD",2006.67,2006.67,5,21,2,0)
the current exam with prior exams of the same Modality.  Note that
"^DD",2006.67,2006.67,5,21,3,0)
the matching may optionally be based on Modality and Body Part in 
"^DD",2006.67,2006.67,5,21,4,0)
combination.
"^DD",2006.67,2006.674,0)
BODY PART SUB-FIELD^^.01^1
"^DD",2006.67,2006.674,0,"DT")
3050527
"^DD",2006.67,2006.674,0,"IX","B",2006.674,.01)

"^DD",2006.67,2006.674,0,"NM","BODY PART")

"^DD",2006.67,2006.674,0,"UP")
2006.67
"^DD",2006.67,2006.674,.01,0)
BODY PART^MP2006.671'^MAG(2006.671,^0;1^Q
"^DD",2006.67,2006.674,.01,1,0)
^.1
"^DD",2006.67,2006.674,.01,1,1,0)
2006.674^B
"^DD",2006.67,2006.674,.01,1,1,1)
S ^MAG(2006.67,DA(1),1,"B",$E(X,1,30),DA)=""
"^DD",2006.67,2006.674,.01,1,1,2)
K ^MAG(2006.67,DA(1),1,"B",$E(X,1,30),DA)
"^DD",2006.67,2006.674,.01,1,2,0)
2006.67^BODYPART
"^DD",2006.67,2006.674,.01,1,2,1)
S ^MAG(2006.67,"BODYPART",$E(X,1,30),DA(1),DA)=""
"^DD",2006.67,2006.674,.01,1,2,2)
K ^MAG(2006.67,"BODYPART",$E(X,1,30),DA(1),DA)
"^DD",2006.67,2006.674,.01,1,2,"DT")
3050301
"^DD",2006.67,2006.674,.01,3)
Enter body part for this CPT code.
"^DD",2006.67,2006.674,.01,21,0)
^.001^6^6^3050531^^
"^DD",2006.67,2006.674,.01,21,1,0)
Enter the body part(s) for which this procedure applies.  This will
"^DD",2006.67,2006.674,.01,21,2,0)
allow prior exams logic to include this CPT when trying to match
"^DD",2006.67,2006.674,.01,21,3,0)
other exams for the same Body Part.  Multiple values may be assigned
"^DD",2006.67,2006.674,.01,21,4,0)
for any given CPT code.
"^DD",2006.67,2006.674,.01,21,5,0)
Note that prior exams matching logic may use Body Part in combination
"^DD",2006.67,2006.674,.01,21,6,0)
with Modality to find matching CPT codes.
"^DD",2006.67,2006.674,.01,"DT")
3050527
"^DD",2006.67,2006.675,0)
MODALITY SUB-FIELD^^.01^1
"^DD",2006.67,2006.675,0,"DT")
3050302
"^DD",2006.67,2006.675,0,"IX","B",2006.675,.01)

"^DD",2006.67,2006.675,0,"NM","MODALITY")

"^DD",2006.67,2006.675,0,"UP")
2006.67
"^DD",2006.67,2006.675,.01,0)
MODALITY^MP73.1'^RAMIS(73.1,^0;1^Q
"^DD",2006.67,2006.675,.01,1,0)
^.1
"^DD",2006.67,2006.675,.01,1,1,0)
2006.675^B
"^DD",2006.67,2006.675,.01,1,1,1)
S ^MAG(2006.67,DA(1),2,"B",$E(X,1,30),DA)=""
"^DD",2006.67,2006.675,.01,1,1,2)
K ^MAG(2006.67,DA(1),2,"B",$E(X,1,30),DA)
"^DD",2006.67,2006.675,.01,1,2,0)
2006.67^MDL
"^DD",2006.67,2006.675,.01,1,2,1)
S ^MAG(2006.67,"MDL",$E(X,1,30),DA(1),DA)=""
"^DD",2006.67,2006.675,.01,1,2,2)
K ^MAG(2006.67,"MDL",$E(X,1,30),DA(1),DA)
"^DD",2006.67,2006.675,.01,1,2,"DT")
3050509
"^DD",2006.67,2006.675,.01,3)
Choose a modality from the pre-defined list
"^DD",2006.67,2006.675,.01,21,0)
^^6^6^3050531^
"^DD",2006.67,2006.675,.01,21,1,0)
Enter the Modality(ies) used for this procedure.  This will allow
"^DD",2006.67,2006.675,.01,21,2,0)
prior exams logic to include this Modality when trying to match
"^DD",2006.67,2006.675,.01,21,3,0)
other exams for the same Modality.  Multiple values may be assigned
"^DD",2006.67,2006.675,.01,21,4,0)
for any given CPT code.
"^DD",2006.67,2006.675,.01,21,5,0)
Note that prior exams matching logic may use Modality in combination
"^DD",2006.67,2006.675,.01,21,6,0)
with Body Part to find matching CPT codes.
"^DD",2006.67,2006.675,.01,"DT")
3050509
"^DD",2006.671,2006.671,0)
FIELD^^.01^1
"^DD",2006.671,2006.671,0,"DT")
3050315
"^DD",2006.671,2006.671,0,"IX","B",2006.671,.01)

"^DD",2006.671,2006.671,0,"NM","MAG RAD BODY PART")

"^DD",2006.671,2006.671,0,"PT",2006.674,.01)

"^DD",2006.671,2006.671,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",2006.671,2006.671,.01,1,0)
^.1
"^DD",2006.671,2006.671,.01,1,1,0)
2006.671^B
"^DD",2006.671,2006.671,.01,1,1,1)
S ^MAG(2006.671,"B",$E(X,1,30),DA)=""
"^DD",2006.671,2006.671,.01,1,1,2)
K ^MAG(2006.671,"B",$E(X,1,30),DA)
"^DD",2006.671,2006.671,.01,3)
Answer must be 3-30 characters in length.
"^DD",2006.671,2006.671,.01,21,0)
^.001^2^2^3050527^^
"^DD",2006.671,2006.671,.01,21,1,0)
Body part file for use in assigning body part designations to the
"^DD",2006.671,2006.671,.01,21,2,0)
MAG RAD CPT MATCHING file entries.
"^DD",2006.671,2006.671,.01,"DT")
3050315
"^DD",2006.672,2006.672,0)
FIELD^^.01^1
"^DD",2006.672,2006.672,0,"DDA")
N
"^DD",2006.672,2006.672,0,"DT")
3050316
"^DD",2006.672,2006.672,0,"IX","B",2006.672,.01)

"^DD",2006.672,2006.672,0,"NM","MAG RAD BODY REGION")

"^DD",2006.672,2006.672,0,"PT",2006.67,1)

"^DD",2006.672,2006.672,.01,0)
NAME^RFI^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",2006.672,2006.672,.01,1,0)
^.1
"^DD",2006.672,2006.672,.01,1,1,0)
2006.672^B
"^DD",2006.672,2006.672,.01,1,1,1)
S ^MAG(2006.672,"B",$E(X,1,30),DA)=""
"^DD",2006.672,2006.672,.01,1,1,2)
K ^MAG(2006.672,"B",$E(X,1,30),DA)
"^DD",2006.672,2006.672,.01,3)
Answer must be 3-30 characters in length.
"^DD",2006.672,2006.672,.01,21,0)
^.001^2^2^3050527^^^^
"^DD",2006.672,2006.672,.01,21,1,0)
The values used for this field are derived from the AMA CPT book's
"^DD",2006.672,2006.672,.01,21,2,0)
RADIOLOGY Chapter, and correspond to the subsection "body part" headings.
"^DD",2006.672,2006.672,.01,"DT")
3050527
"^DD",2006.68,2006.68,0)
FIELD^^3^5
"^DD",2006.68,2006.68,0,"DT")
3060307
"^DD",2006.68,2006.68,0,"IX","AC",2006.68,1)

"^DD",2006.68,2006.68,0,"IX","B",2006.68,.01)

"^DD",2006.68,2006.68,0,"NM","MAGJ USER DATA")

"^DD",2006.68,2006.68,.01,0)
DESCRIPTION^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",2006.68,2006.68,.01,1,0)
^.1
"^DD",2006.68,2006.68,.01,1,1,0)
2006.68^B
"^DD",2006.68,2006.68,.01,1,1,1)
S ^MAG(2006.68,"B",$E(X,1,30),DA)=""
"^DD",2006.68,2006.68,.01,1,1,2)
K ^MAG(2006.68,"B",$E(X,1,30),DA)
"^DD",2006.68,2006.68,.01,3)
Answer must be 3-30 characters in length.
"^DD",2006.68,2006.68,.01,21,0)
^.001^1^1^3050606^^
"^DD",2006.68,2006.68,.01,21,1,0)
The User Data entry name.
"^DD",2006.68,2006.68,.01,"DT")
3030115
"^DD",2006.68,2006.68,1,0)
USER^P200'^VA(200,^0;2^Q
"^DD",2006.68,2006.68,1,1,0)
^.1
"^DD",2006.68,2006.68,1,1,1,0)
2006.68^AC
"^DD",2006.68,2006.68,1,1,1,1)
S ^MAG(2006.68,"AC",$E(X,1,30),DA)=""
"^DD",2006.68,2006.68,1,1,1,2)
K ^MAG(2006.68,"AC",$E(X,1,30),DA)
"^DD",2006.68,2006.68,1,1,1,"DT")
3040213
"^DD",2006.68,2006.68,1,21,0)
^^1^1^3050203^
"^DD",2006.68,2006.68,1,21,1,0)
The name of the user;   pointer the New Person file (200)
"^DD",2006.68,2006.68,1,"DT")
3040213
"^DD",2006.68,2006.68,1.5,0)
USER TYPE^RS^0:Non-Radiology;1:Rad Tech;2:Resident Radiologist;3:Staff Radiologist;9:sysAdmin;^0;3^Q
"^DD",2006.68,2006.68,1.5,3)
Enter User Type code
"^DD",2006.68,2006.68,1.5,"DT")
3050404
"^DD",2006.68,2006.68,2,0)
VR-WS^2006.682A^^VR-WS;0
"^DD",2006.68,2006.68,2,21,0)
^.001^1^1^3060307^^^^
"^DD",2006.68,2006.68,2,21,1,0)
Vistarad workstation preferences stored under this node.
"^DD",2006.68,2006.68,2,"DT")
3040218
"^DD",2006.68,2006.68,3,0)
VR-HP^2006.683A^^VR-HP;0
"^DD",2006.68,2006.68,3,21,0)
^.001^1^1^3060307^^^^
"^DD",2006.68,2006.68,3,21,1,0)
Hanging Protocols, templates, and related data stored under this node.
"^DD",2006.68,2006.682,0)
VR-WS SUB-FIELD^^3^3
"^DD",2006.68,2006.682,0,"DT")
3060307
"^DD",2006.68,2006.682,0,"IX","B",2006.682,.01)

"^DD",2006.68,2006.682,0,"NM","VR-WS")

"^DD",2006.68,2006.682,0,"UP")
2006.68
"^DD",2006.68,2006.682,.01,0)
TAG^RF^^0;1^K:$L(X)>80!($L(X)<1) X
"^DD",2006.68,2006.682,.01,1,0)
^.1
"^DD",2006.68,2006.682,.01,1,1,0)
2006.682^B
"^DD",2006.68,2006.682,.01,1,1,1)
S ^MAG(2006.68,DA(1),"VR-WS","B",$E(X,1,30),DA)=""
"^DD",2006.68,2006.682,.01,1,1,2)
K ^MAG(2006.68,DA(1),"VR-WS","B",$E(X,1,30),DA)
"^DD",2006.68,2006.682,.01,3)
Answer must be 1-80 characters in length.
"^DD",2006.68,2006.682,.01,21,0)
^.001^1^1^3060307^^^^
"^DD",2006.68,2006.682,.01,21,1,0)
Tag, or label, that identifies this collection of settings/preferences.
"^DD",2006.68,2006.682,.01,23,0)
^.001^6^6^3060307^^^^
"^DD",2006.68,2006.682,.01,23,1,0)
The details of the data stored are defined by the client software, and
"^DD",2006.68,2006.682,.01,23,2,0)
are aggregated under separate tags for different w/s types.  Each tag's
"^DD",2006.68,2006.682,.01,23,3,0)
data is independently accessible by the client,which can query for:
"^DD",2006.68,2006.682,.01,23,4,0)
  1) Tags stored; or,
"^DD",2006.68,2006.682,.01,23,5,0)
  2) Data for named tags, or
"^DD",2006.68,2006.682,.01,23,6,0)
  3) Tags and associated KEYS (described below)
"^DD",2006.68,2006.682,.01,"DT")
3060307
"^DD",2006.68,2006.682,1,0)
DATA^2006.6821^^1;0
"^DD",2006.68,2006.682,1,21,0)
^.001^1^1^3050606^^^^
"^DD",2006.68,2006.682,1,21,1,0)
Client data is stored here.
"^DD",2006.68,2006.682,1,"DT")
3030404
"^DD",2006.68,2006.682,3,0)
KEYS^2006.6823^^2;0
"^DD",2006.68,2006.682,3,21,0)
^.001^4^4^3050606^^^^
"^DD",2006.68,2006.682,3,21,1,0)
Keys data are strings that are structured by the client for containing
"^DD",2006.68,2006.682,3,21,2,0)
search values for the internal operation of the workstation preferences,
"^DD",2006.68,2006.682,3,21,3,0)
whenever and/or if applicable.  The Vistarad RPCs can provide access to
"^DD",2006.68,2006.682,3,21,4,0)
the Keys data separately from the full set of user preference data.
"^DD",2006.68,2006.6821,0)
DATA SUB-FIELD^^.01^1
"^DD",2006.68,2006.6821,0,"NM","DATA")

"^DD",2006.68,2006.6821,0,"UP")
2006.682
"^DD",2006.68,2006.6821,.01,0)
DATA^WL^^0;1^Q
"^DD",2006.68,2006.6821,.01,"DT")
3030404
"^DD",2006.68,2006.6823,0)
KEYS SUB-FIELD^^.01^1
"^DD",2006.68,2006.6823,0,"NM","KEYS")

"^DD",2006.68,2006.6823,0,"UP")
2006.682
"^DD",2006.68,2006.6823,.01,0)
KEYS^WL^^0;1^Q
"^DD",2006.68,2006.6823,.01,"DT")
3040504
"^DD",2006.68,2006.683,0)
VR-HP SUB-FIELD^^2^3
"^DD",2006.68,2006.683,0,"DT")
3060307
"^DD",2006.68,2006.683,0,"IX","B",2006.683,.01)

"^DD",2006.68,2006.683,0,"NM","VR-HP")

"^DD",2006.68,2006.683,0,"UP")
2006.68
"^DD",2006.68,2006.683,.01,0)
TAG^F^^0;1^K:$L(X)>80!($L(X)<3) X
"^DD",2006.68,2006.683,.01,1,0)
^.1
"^DD",2006.68,2006.683,.01,1,1,0)
2006.683^B
"^DD",2006.68,2006.683,.01,1,1,1)
S ^MAG(2006.68,DA(1),"VR-HP","B",$E(X,1,30),DA)=""
"^DD",2006.68,2006.683,.01,1,1,2)
K ^MAG(2006.68,DA(1),"VR-HP","B",$E(X,1,30),DA)
"^DD",2006.68,2006.683,.01,3)
Answer must be 3-80 characters in length.
"^DD",2006.68,2006.683,.01,21,0)
^.001^1^1^3060307^^^^
"^DD",2006.68,2006.683,.01,21,1,0)
Tag, or label, that identifies the HP or Template.
"^DD",2006.68,2006.683,.01,23,0)
^.001^7^7^3060307^^^
"^DD",2006.68,2006.683,.01,23,1,0)
The details of the data stored are defined by the client software, and
"^DD",2006.68,2006.683,.01,23,2,0)
are aggregated under separate tags for each Hanging protocol or template.
"^DD",2006.68,2006.683,.01,23,3,0)
Each tag's data is independently accessible by the client, which can
"^DD",2006.68,2006.683,.01,23,4,0)
query for:
"^DD",2006.68,2006.683,.01,23,5,0)
  1) Tags stored; or,
"^DD",2006.68,2006.683,.01,23,6,0)
  2) Data for named tags, or
"^DD",2006.68,2006.683,.01,23,7,0)
  3) Tags and associated KEYS (described below)
"^DD",2006.68,2006.683,.01,"DT")
3060307
"^DD",2006.68,2006.683,1,0)
DATA^2006.6831^^1;0
"^DD",2006.68,2006.683,1,21,0)
^.001^1^1^3050606^^
"^DD",2006.68,2006.683,1,21,1,0)
The actual hanging protocol and template data is stored here.
"^DD",2006.68,2006.683,2,0)
KEYS^2006.6832^^2;0
"^DD",2006.68,2006.683,2,21,0)
^^4^4^3050606^
"^DD",2006.68,2006.683,2,21,1,0)
Keys data are strings that are structured by the client for containing
"^DD",2006.68,2006.683,2,21,2,0)
search values for the internal operation of the hanging protocols,
"^DD",2006.68,2006.683,2,21,3,0)
whenever and/or if applicable.  The Vistarad RPCs can provide access to
"^DD",2006.68,2006.683,2,21,4,0)
the Keys data separately from the full HP definition data.
"^DD",2006.68,2006.6831,0)
DATA SUB-FIELD^^.01^1
"^DD",2006.68,2006.6831,0,"DT")
3050404
"^DD",2006.68,2006.6831,0,"NM","DATA")

"^DD",2006.68,2006.6831,0,"UP")
2006.683
"^DD",2006.68,2006.6831,.01,0)
DATA^WL^^0;1^Q
"^DD",2006.68,2006.6831,.01,21,0)
^.001^1^1^3050606^^^
"^DD",2006.68,2006.6831,.01,21,1,0)
HP and Template data, formatted by client in XML format.
"^DD",2006.68,2006.6831,.01,"DT")
3050404
"^DD",2006.68,2006.6832,0)
KEYS SUB-FIELD^^.01^1
"^DD",2006.68,2006.6832,0,"DT")
3050404
"^DD",2006.68,2006.6832,0,"NM","KEYS")

"^DD",2006.68,2006.6832,0,"UP")
2006.683
"^DD",2006.68,2006.6832,.01,0)
KEYS^WL^^0;1^Q
"^DD",2006.68,2006.6832,.01,21,0)
^.001^4^4^3050606^^
"^DD",2006.68,2006.6832,.01,21,1,0)
Keys data are strings that are structured by the client for containing
"^DD",2006.68,2006.6832,.01,21,2,0)
search values for the internal operation of the HP logic.
"^DD",2006.68,2006.6832,.01,21,3,0)
The Keys are exerpted from the XML data to support client operations
"^DD",2006.68,2006.6832,.01,21,4,0)
and/or logic outside the HP which complements logic inside the HP.
"^DD",2006.68,2006.6832,.01,"DT")
3050404
"^DD",2006.69,2006.69,0)
FIELD^^12^17
"^DD",2006.69,2006.69,0,"DDA")
N
"^DD",2006.69,2006.69,0,"DT")
3050217
"^DD",2006.69,2006.69,0,"IX","B",2006.69,.01)

"^DD",2006.69,2006.69,0,"IX","RECENT",2006.69,1)

"^DD",2006.69,2006.69,0,"IX","UNREAD",2006.69,2)

"^DD",2006.69,2006.69,0,"NM","MAG VISTARAD SITE PARAMETERS")

"^DD",2006.69,2006.69,0,"VRPK")
IMAGING
"^DD",2006.69,2006.69,.01,0)
VISTARAD SITE NAME^RFX^^0;1^K:$L(X)>30!($L(X)<3) X S DINUM=1
"^DD",2006.69,2006.69,.01,1,0)
^.1
"^DD",2006.69,2006.69,.01,1,1,0)
2006.69^B
"^DD",2006.69,2006.69,.01,1,1,1)
S ^MAG(2006.69,"B",$E(X,1,30),DA)=""
"^DD",2006.69,2006.69,.01,1,1,2)
K ^MAG(2006.69,"B",$E(X,1,30),DA)
"^DD",2006.69,2006.69,.01,3)
Enter Name of your site, 3 to 30 characters.
"^DD",2006.69,2006.69,.01,21,0)
^^1^1^3020313^
"^DD",2006.69,2006.69,.01,21,1,0)
Field contains the name of the site.
"^DD",2006.69,2006.69,.01,"DT")
2970924
"^DD",2006.69,2006.69,.05,0)
ENABLE STATUS UPDATE?^S^1:YES;0:NO;^0;4^Q
"^DD",2006.69,2006.69,.05,3)
Enter YES to enable VistaRad to update the Radiology Package Exam Status field
"^DD",2006.69,2006.69,.05,21,0)
^^4^4^3000307^
"^DD",2006.69,2006.69,.05,21,1,0)
Answering this question "YES" will enable VistaRad to update the Radiology
"^DD",2006.69,2006.69,.05,21,2,0)
Package Interpreting Radiologist fields (#12 & #15), and the Exam Status
"^DD",2006.69,2006.69,.05,21,3,0)
field (#3).  Otherwise, use of VistaRad provides read-only access to VISTA
"^DD",2006.69,2006.69,.05,21,4,0)
data.
"^DD",2006.69,2006.69,.05,"DT")
2980917
"^DD",2006.69,2006.69,1,0)
RECENT EXAMS DAYS LIMIT^NJ5,0^^0;2^K:+X'=X!(X>99999)!(X<2)!(X?.E1"."1N.N) X
"^DD",2006.69,2006.69,1,1,0)
^.1^^0
"^DD",2006.69,2006.69,1,1,1,0)
2006.69^RECENT^MUMPS
"^DD",2006.69,2006.69,1,1,1,1)
S ^MAG(2006.69,"RECENT")=X
"^DD",2006.69,2006.69,1,1,1,2)
K ^MAG(2006.69,"RECENT")
"^DD",2006.69,2006.69,1,1,1,"DT")
2970924
"^DD",2006.69,2006.69,1,3)
Type a Number between 2 and 99999, 0 Decimal Digits
"^DD",2006.69,2006.69,1,21,0)
^.001^6^6^3020313^^
"^DD",2006.69,2006.69,1,21,1,0)
The RECENT Exams list shows all exams having a Status of Interpreted or
"^DD",2006.69,2006.69,1,21,2,0)
Transcribed.  The list can be further restricted to show only exams up to
"^DD",2006.69,2006.69,1,21,3,0)
'N' days old--use this field to define a value for 'N'.  Note that for
"^DD",2006.69,2006.69,1,21,4,0)
most sites, Exams are likely to be marked Complete within 3 to 4 working
"^DD",2006.69,2006.69,1,21,5,0)
days of being Interpreted, at which point they no longer show up on the
"^DD",2006.69,2006.69,1,21,6,0)
RECENT Exams list.  If NOT defined, the system defaults to  a value of 6.
"^DD",2006.69,2006.69,1,"DT")
3020313
"^DD",2006.69,2006.69,2,0)
UNREAD EXAMS DAYS LIMIT^NJ5,0^^0;3^K:+X'=X!(X>99999)!(X<2)!(X?.E1"."1N.N) X
"^DD",2006.69,2006.69,2,1,0)
^.1^^0
"^DD",2006.69,2006.69,2,1,1,0)
2006.69^UNREAD^MUMPS
"^DD",2006.69,2006.69,2,1,1,1)
S ^MAG(2006.69,"UNREAD")=X
"^DD",2006.69,2006.69,2,1,1,2)
K ^MAG(2006.69,"UNREAD")
"^DD",2006.69,2006.69,2,1,1,"DT")
2970924
"^DD",2006.69,2006.69,2,3)
The Unread Exams list will not display exams older than the number of days you specify.
"^DD",2006.69,2006.69,2,21,0)
^^4^4^3000307^
"^DD",2006.69,2006.69,2,21,1,0)
The UNREAD Exams list shows all exams having a Status of EXAMINED.  The
"^DD",2006.69,2006.69,2,21,2,0)
list can be further restricted to show only exams up to 'N' days old--use
"^DD",2006.69,2006.69,2,21,3,0)
this field to define a value for 'N'.  If NOT defined, the system defaults
"^DD",2006.69,2006.69,2,21,4,0)
to a value of 30.
"^DD",2006.69,2006.69,2,"DT")
3020313
"^DD",2006.69,2006.69,3,0)
PREFETCH ACTIVE?^S^1:YES;0:NO;^0;5^Q
"^DD",2006.69,2006.69,3,3)
To Enable Prefetch of prior exams' images from archive, enter YES.
"^DD",2006.69,2006.69,3,21,0)
^^4^4^2980821^
"^DD",2006.69,2006.69,3,21,1,0)
Exam images that have been archived, e.g. to jukebox storage, may be
"^DD",2006.69,2006.69,3,21,2,0)
retrieved to magnetic disk at the time a new exam is registered for a
"^DD",2006.69,2006.69,3,21,3,0)
patient.  Enabling this allows immediate retrieval of the patient's prior
"^DD",2006.69,2006.69,3,21,4,0)
exams when the radiologist is ready to read the new exam.
"^DD",2006.69,2006.69,3,"DT")
2980821
"^DD",2006.69,2006.69,4,0)
AUTODISPLAY ACTIVE?^S^1:YES;0:NO;^0;6^Q
"^DD",2006.69,2006.69,4,3)
To enable Auto-display of prior exams' images enter YES.
"^DD",2006.69,2006.69,4,21,0)
^^2^2^2980821^
"^DD",2006.69,2006.69,4,21,1,0)
Enabling this turns on automatic retrieval and display of the patient's
"^DD",2006.69,2006.69,4,21,2,0)
prior exams when the radiologist reads a new exam.
"^DD",2006.69,2006.69,4,"DT")
2980821
"^DD",2006.69,2006.69,5,0)
LIST ONLY EXAMS HAVING IMAGES?^S^0:NO;1:YES;^0;7^Q
"^DD",2006.69,2006.69,5,3)
Enter 'NO' to list ALL exams, 'YES' to list only exams that have images.    This applies only to UNREAD, ACTIVE, PENDING, and ALL EXAMS lists.
"^DD",2006.69,2006.69,5,21,0)
^^7^7^3000307^
"^DD",2006.69,2006.69,5,21,1,0)
Some sites may have a mix of exams that do, and do not, have images stored
"^DD",2006.69,2006.69,5,21,2,0)
digitally.  In this case, the UNREAD, ACTIVE and PENDING exams lists may
"^DD",2006.69,2006.69,5,21,3,0)
be optionally configured to either list only the exams that have images
"^DD",2006.69,2006.69,5,21,4,0)
available for display on the VistaRad workstation, or to list all exams,
"^DD",2006.69,2006.69,5,21,5,0)
including those that do not have images available for display.
"^DD",2006.69,2006.69,5,21,6,0)
NOTE that the Patient Exams List always lists ALL exams, regardless of
"^DD",2006.69,2006.69,5,21,7,0)
whether images exist or not.
"^DD",2006.69,2006.69,5,"DT")
2980825
"^DD",2006.69,2006.69,5.5,0)
ENABLE SERIES DISPLAY?^S^1:YES;0:NO;^0;12^Q
"^DD",2006.69,2006.69,5.5,3)
Answer YES to turn on image display of multiple Series within one exam.
"^DD",2006.69,2006.69,5.5,21,0)
^^6^6^2990920^
"^DD",2006.69,2006.69,5.5,21,1,0)
The Vistarad Viewer code is not yet able to distinguish between different
"^DD",2006.69,2006.69,5.5,21,2,0)
image series within one exam.  However, the back-end code often can
"^DD",2006.69,2006.69,5.5,21,3,0)
determine which images in a study may be grouped into separate series, and
"^DD",2006.69,2006.69,5.5,21,4,0)
can feed image information to the viewer that allow it to recognize and
"^DD",2006.69,2006.69,5.5,21,5,0)
display these separate series in separate "exam" windows.  This prompt
"^DD",2006.69,2006.69,5.5,21,6,0)
allows the Vistarad site to turn this processing on or off.
"^DD",2006.69,2006.69,5.5,"DT")
2990920
"^DD",2006.69,2006.69,6,0)
BACKGROUND COMPILE EXAM LISTS?^S^1:YES;0:NO;^0;8^Q
"^DD",2006.69,2006.69,6,3)
To compile Exam Lists in the background, enter desired value.
"^DD",2006.69,2006.69,6,21,0)
^^16^16^3000307^
"^DD",2006.69,2006.69,6,21,1,0)
The process of compiling UNREAD & RECENT exam lists from the radiology
"^DD",2006.69,2006.69,6,21,2,0)
database may be relatively lengthy.  To enable these lists to reach
"^DD",2006.69,2006.69,6,21,3,0)
the radiology workstation rapidly, they can be compiled periodically
"^DD",2006.69,2006.69,6,21,4,0)
in the background on the Vista system.  Enabling this option generally
"^DD",2006.69,2006.69,6,21,5,0)
should provide for very fast retrieval of the exam lists.
"^DD",2006.69,2006.69,6,21,6,0)
Note, however, that on the UNREAD Exams list the most recently completed
"^DD",2006.69,2006.69,6,21,7,0)
("EXAMINED") exams may not appear on the list, up to a time limit defined
"^DD",2006.69,2006.69,6,21,8,0)
below; however, exams that are "INTERPRETED" will be dropped from the
"^DD",2006.69,2006.69,6,21,9,0)
UNREAD list, even in between compiles.
"^DD",2006.69,2006.69,6,21,10,0)
UNREAD compiles are automatically started by requesting an UNREAD Exams
"^DD",2006.69,2006.69,6,21,11,0)
list at the workstation.  The background program is initiated via an
"^DD",2006.69,2006.69,6,21,12,0)
internal TaskMan call, but it will run continuously in the background
"^DD",2006.69,2006.69,6,21,13,0)
after being initiated. The RECENT compile is initiated using the TaskMan
"^DD",2006.69,2006.69,6,21,14,0)
Scheduled Options capability.  The Option to schedule is MAGJ SCHED RECENT
"^DD",2006.69,2006.69,6,21,15,0)
LIST COMPILE; it is recommended that this process be scheduled to run
"^DD",2006.69,2006.69,6,21,16,0)
every 30 to 90 minutes.
"^DD",2006.69,2006.69,6,"DT")
3000223
"^DD",2006.69,2006.69,7,0)
UNREAD BKGND COMPILE INTERVAL^NJ2,0^^0;9^K:+X'=X!(X>15)!(X<2)!(X?.E1"."1N.N) X
"^DD",2006.69,2006.69,7,.1)
BACKGROUND COMPILE INTERVAL--UNREAD LIST
"^DD",2006.69,2006.69,7,3)
Type a Number between 2 and 15, 0 Decimal Digits
"^DD",2006.69,2006.69,7,21,0)
^^7^7^3000313^
"^DD",2006.69,2006.69,7,21,1,0)
If compiling exams lists in the background, this field is used to
"^DD",2006.69,2006.69,7,21,2,0)
define the number of minutes to wait in between each successive compile of
"^DD",2006.69,2006.69,7,21,3,0)
the UNREAD Exams List.  If not specified, the default value used will be 6
"^DD",2006.69,2006.69,7,21,4,0)
minutes.
"^DD",2006.69,2006.69,7,21,5,0)
For sites that tend to have more than 100 Unread exams on average, it is 
"^DD",2006.69,2006.69,7,21,6,0)
recommended to use a value of 3 or 4 minutes; less than 100, use 2 or 3
"^DD",2006.69,2006.69,7,21,7,0)
minutes.
"^DD",2006.69,2006.69,7,"DT")
3000307
"^DD",2006.69,2006.69,7.2,0)
RECENT BKGND COMPILE INTERVAL^NJ3,0^^0;13^K:+X'=X!(X>240)!(X<30)!(X?.E1"."1N.N) X
"^DD",2006.69,2006.69,7.2,.1)

"^DD",2006.69,2006.69,7.2,3)
Type a Number between 30 and 240, 0 Decimal Digits
"^DD",2006.69,2006.69,7.2,21,0)
^.001^8^8^3011003^^
"^DD",2006.69,2006.69,7.2,21,1,0)
The Recent List Background Compile is managed by Taskman, where a
"^DD",2006.69,2006.69,7.2,21,2,0)
Scheduled Option should be defined for periodically compiling this list
"^DD",2006.69,2006.69,7.2,21,3,0)
(recommended to compile every two to three hours).  Use this field to let
"^DD",2006.69,2006.69,7.2,21,4,0)
VistARad know what you have defined in TaskMan as the interval between
"^DD",2006.69,2006.69,7.2,21,5,0)
compiles.  This value is used to provide a warning message to the VistaRad
"^DD",2006.69,2006.69,7.2,21,6,0)
user should it appear that the Background Compile has not run for more
"^DD",2006.69,2006.69,7.2,21,7,0)
than this expected interval of time.  Obviously, this field only is useful
"^DD",2006.69,2006.69,7.2,21,8,0)
if BACKGROUND COMPILE EXAM LISTS has been Enabled.
"^DD",2006.69,2006.69,7.2,"DT")
3000405
"^DD",2006.69,2006.69,8,0)
REMOTE LIST ONLY REMOTE CACHE?^S^1:YES;0:NO;^0;10^Q
"^DD",2006.69,2006.69,8,3)
Enter 'NO' to list ALL exams, 'YES' to list only exams that were routed to the remote site.
"^DD",2006.69,2006.69,8,21,0)
^.001^6^6^3021001^^^
"^DD",2006.69,2006.69,8,21,1,0)
This question only applies to sites that use the Imaging Routing Gateway
"^DD",2006.69,2006.69,8,21,2,0)
to route images to a remote facility for reading.
"^DD",2006.69,2006.69,8,21,3,0)
 
"^DD",2006.69,2006.69,8,21,4,0)
At the remote reading workstation, the Unread & Recent Exams lists may
"^DD",2006.69,2006.69,8,21,5,0)
display either all exams, or only the subset of the exams that have been
"^DD",2006.69,2006.69,8,21,6,0)
routed to the remote site. Enter YES to display only the routed exams.
"^DD",2006.69,2006.69,8,"DT")
2981222
"^DD",2006.69,2006.69,9,0)
SITE SENDS TO REMOTE CACHE^S^1:YES;0:NO;^0;11^Q
"^DD",2006.69,2006.69,9,3)
Enter YES if this site routes images to remote locations.
"^DD",2006.69,2006.69,9,21,0)
^.001^5^5^3021001^^^
"^DD",2006.69,2006.69,9,21,1,0)
This question only applies to sites that use the Imaging Routing Gateway
"^DD",2006.69,2006.69,9,21,2,0)
to route images to a remote facility for reading.
"^DD",2006.69,2006.69,9,21,3,0)
 
"^DD",2006.69,2006.69,9,21,4,0)
Answering this question YES turns on extra processing that is needed
"^DD",2006.69,2006.69,9,21,5,0)
to manage the remote exams properly in VistARad.
"^DD",2006.69,2006.69,9,"DT")
2990319
"^DD",2006.69,2006.69,10,0)
PATIENT LIST LIMIT # YEARS^NJ2,0^^0;14^K:+X'=X!(X>20)!(X<2)!(X?.E1"."1N.N) X
"^DD",2006.69,2006.69,10,3)
Enter Number of Years back to limit the Patient Exams List, from 2 to 20.
"^DD",2006.69,2006.69,10,21,0)
^^9^9^3000313^^
"^DD",2006.69,2006.69,10,21,1,0)
The Patient Exams List can display a subset of all a patient's exams,
"^DD",2006.69,2006.69,10,21,2,0)
limited by how old the exams are.  This field is used to specify how far
"^DD",2006.69,2006.69,10,21,3,0)
back in time the patient list should go before stopping.
"^DD",2006.69,2006.69,10,21,4,0)
NOTE that the user does have a separate option to list ALL the patient's
"^DD",2006.69,2006.69,10,21,5,0)
exams, regardless of the setting of this field.
"^DD",2006.69,2006.69,10,21,6,0)
NOT entering a value will force the Patient Exams List to go back to the
"^DD",2006.69,2006.69,10,21,7,0)
earliest exams on record for a patient.  Greater efficiency in compiling
"^DD",2006.69,2006.69,10,21,8,0)
this list is achieved by limiting the number of years to a "most useful"
"^DD",2006.69,2006.69,10,21,9,0)
value (clinically speaking).
"^DD",2006.69,2006.69,10,"DT")
3000215
"^DD",2006.69,2006.69,11,0)
PATIENT LIST LIMIT # EXAMS^NJ2,0^^0;15^K:+X'=X!(X>75)!(X<15)!(X?.E1"."1N.N) X
"^DD",2006.69,2006.69,11,3)
Enter the maximum number of exams to list for a patient, from 15 to 75.
"^DD",2006.69,2006.69,11,21,0)
^^7^7^3000313^
"^DD",2006.69,2006.69,11,21,1,0)
The Patient Exams List can display a subset of all a patient's exams,
"^DD",2006.69,2006.69,11,21,2,0)
limited by a maximum number of exams to display. This field is used to
"^DD",2006.69,2006.69,11,21,3,0)
specify the maximum to list before stopping.
"^DD",2006.69,2006.69,11,21,4,0)
NOTE that the user does have a separate option to list ALL the patient's
"^DD",2006.69,2006.69,11,21,5,0)
exams, regardless of the setting of this field.
"^DD",2006.69,2006.69,11,21,6,0)
NOT entering a value will force the Patient Exams List to list all exams
"^DD",2006.69,2006.69,11,21,7,0)
in the defined time period for a patient.
"^DD",2006.69,2006.69,11,"DT")
3000215
"^DD",2006.69,2006.69,12,0)
REQUISITION FOR RAD STAFF ONLY^S^1:Y;^0;16^Q
"^DD",2006.69,2006.69,12,3)
Enter YES to restrict access to the Requisition report.
"^DD",2006.69,2006.69,12,21,0)
^^5^5^3050217^
"^DD",2006.69,2006.69,12,21,1,0)
Setting this value to YES will prevent non-radiology personnel from
"^DD",2006.69,2006.69,12,21,2,0)
viewing the Radiology Requisition from Vistarad.
"^DD",2006.69,2006.69,12,21,3,0)
Some sites have data that appears on the requisition which is
"^DD",2006.69,2006.69,12,21,4,0)
strictly for internal radiology staff use.  This prompt provides
"^DD",2006.69,2006.69,12,21,5,0)
a way to restrict access to that report.
"^DD",2006.69,2006.69,12,"DT")
3050217
"^DD",2006.69,2006.69,20,0)
UNREAD LIST PRIORITY SEQ^F^^1;E1,245^S X=$TR(X,"supr;. ","SUPR,,") K:'((X?1U1","1U1","1U1","1U)&($F(X,"R")&$F(X,"S")&$F(X,"P")&$F(X,"U"))) X
"^DD",2006.69,2006.69,20,3)
Answer must be 7 characters in length, using the letters S, U, P & R; enter ?? for more help.
"^DD",2006.69,2006.69,20,9)
@
"^DD",2006.69,2006.69,20,21,0)
^^9^9^2990222^^^
"^DD",2006.69,2006.69,20,21,1,0)
The Unread lists show a column, PRIORITY, that is typically used as a 
"^DD",2006.69,2006.69,20,21,2,0)
sort item for the list.  Four values are possible (from the Radiology Exam
"^DD",2006.69,2006.69,20,21,3,0)
order, file 75.1).  This field allows the site to define the preferred
"^DD",2006.69,2006.69,20,21,4,0)
sort ordering for these 4 values.  The default order is:
"^DD",2006.69,2006.69,20,21,5,0)
   Stat, Urgent, Pre-op, Routine
"^DD",2006.69,2006.69,20,21,6,0)
To achieve this ordering, the value for this field would be specified:
"^DD",2006.69,2006.69,20,21,7,0)
   S,U,P,R
"^DD",2006.69,2006.69,20,21,8,0)
Any sequence of these 4 letters may be defined, and then will be used by
"^DD",2006.69,2006.69,20,21,9,0)
the list program.
"^DD",2006.69,2006.69,20,"DT")
2990222
"^DIC",2005.001,2005.001,0)
IMAGING STUDY^2005.001
"^DIC",2005.001,2005.001,0,"GL")
^MAG(2005.001,
"^DIC",2005.001,2005.001,"%D",0)
^^2^2^3051205^
"^DIC",2005.001,2005.001,"%D",1,0)
This file is where Study level data associated with stored
"^DIC",2005.001,2005.001,"%D",2,0)
images can be managed, e.g., Key Images.
"^DIC",2005.001,"B","IMAGING STUDY",2005.001)

"^DIC",2006.63,2006.63,0)
MAG RAD LIST DATA ELEMENTS^2006.63
"^DIC",2006.63,2006.63,0,"GL")
^MAG(2006.63,
"^DIC",2006.63,2006.63,"%D",0)
^1.001^19^19^3020313^^
"^DIC",2006.63,2006.63,"%D",1,0)
 +---------------------------------------------------------------+
"^DIC",2006.63,2006.63,"%D",2,0)
 |                                                               |
"^DIC",2006.63,2006.63,"%D",3,0)
 | Property of the US Government.                                |
"^DIC",2006.63,2006.63,"%D",4,0)
 | No permission to copy or redistribute this software is given. |
"^DIC",2006.63,2006.63,"%D",5,0)
 | Use of unreleased versions of this software requires the user |
"^DIC",2006.63,2006.63,"%D",6,0)
 | to execute a written test agreement with the VistA Imaging    |
"^DIC",2006.63,2006.63,"%D",7,0)
 | Development Office of the Department of Veterans Affairs,     |
"^DIC",2006.63,2006.63,"%D",8,0)
 | telephone (301) 734-0100.                                     |
"^DIC",2006.63,2006.63,"%D",9,0)
 |                                                               |
"^DIC",2006.63,2006.63,"%D",10,0)
 | The Food and Drug Administration classifies this software as  |
"^DIC",2006.63,2006.63,"%D",11,0)
 | a medical device.  As such, it may not be changed in any way. |
"^DIC",2006.63,2006.63,"%D",12,0)
 | Modifications to this software may result in an adulterated   |
"^DIC",2006.63,2006.63,"%D",13,0)
 | medical device under 21CFR820, the use of which is considered |
"^DIC",2006.63,2006.63,"%D",14,0)
 | to be a violation of US Federal Statutes.                     |
"^DIC",2006.63,2006.63,"%D",15,0)
 |                                                               |
"^DIC",2006.63,2006.63,"%D",16,0)
 +---------------------------------------------------------------+
"^DIC",2006.63,2006.63,"%D",17,0)
 
"^DIC",2006.63,2006.63,"%D",18,0)
This file contains a list of data elements made available for VistARad 
"^DIC",2006.63,2006.63,"%D",19,0)
Exam Lists.
"^DIC",2006.63,"B","MAG RAD LIST DATA ELEMENTS",2006.63)

"^DIC",2006.631,2006.631,0)
MAG RAD LISTS DEFINITION^2006.631
"^DIC",2006.631,2006.631,0,"GL")
^MAG(2006.631,
"^DIC",2006.631,2006.631,"%",0)
^1.005^^0
"^DIC",2006.631,2006.631,"%D",0)
^1.001^19^19^3030416^^^
"^DIC",2006.631,2006.631,"%D",1,0)
 +---------------------------------------------------------------+
"^DIC",2006.631,2006.631,"%D",2,0)
 |                                                               |
"^DIC",2006.631,2006.631,"%D",3,0)
 | Property of the US Government.                                |
"^DIC",2006.631,2006.631,"%D",4,0)
 | No permission to copy or redistribute this software is given. |
"^DIC",2006.631,2006.631,"%D",5,0)
 | Use of unreleased versions of this software requires the user |
"^DIC",2006.631,2006.631,"%D",6,0)
 | to execute a written test agreement with the VistA Imaging    |
"^DIC",2006.631,2006.631,"%D",7,0)
 | Development Office of the Department of Veterans Affairs,     |
"^DIC",2006.631,2006.631,"%D",8,0)
 | telephone (301) 734-0100.                                     |
"^DIC",2006.631,2006.631,"%D",9,0)
 |                                                               |
"^DIC",2006.631,2006.631,"%D",10,0)
 | The Food and Drug Administration classifies this software as  |
"^DIC",2006.631,2006.631,"%D",11,0)
 | a medical device.  As such, it may not be changed in any way. |
"^DIC",2006.631,2006.631,"%D",12,0)
 | Modifications to this software may result in an adulterated   |
"^DIC",2006.631,2006.631,"%D",13,0)
 | medical device under 21CFR820, the use of which is considered |
"^DIC",2006.631,2006.631,"%D",14,0)
 | to be a violation of US Federal Statutes.                     |
"^DIC",2006.631,2006.631,"%D",15,0)
 |                                                               |
"^DIC",2006.631,2006.631,"%D",16,0)
 +---------------------------------------------------------------+
"^DIC",2006.631,2006.631,"%D",17,0)
 
"^DIC",2006.631,2006.631,"%D",18,0)
All exam lists are defined in this file; defines the content and format
"^DIC",2006.631,2006.631,"%D",19,0)
of VistARad Exam Lists.
"^DIC",2006.631,"B","MAG RAD LISTS DEFINITION",2006.631)

"^DIC",2006.634,2006.634,0)
MAGJ ZLIST SEARCH^2006.634
"^DIC",2006.634,2006.634,0,"GL")
^MAG(2006.634,
"^DIC",2006.634,2006.634,"%",0)
^1.005^1^1
"^DIC",2006.634,2006.634,"%",1,0)
MAGJ
"^DIC",2006.634,2006.634,"%","B","MAGJ",1)

"^DIC",2006.634,2006.634,"%D",0)
^^21^21^3000510
"^DIC",2006.634,2006.634,"%D",1,0)
 +---------------------------------------------------------------+
"^DIC",2006.634,2006.634,"%D",2,0)
 |                                                               |
"^DIC",2006.634,2006.634,"%D",3,0)
 | Property of the US Government.                                |
"^DIC",2006.634,2006.634,"%D",4,0)
 | No permission to copy or redistribute this software is given. |
"^DIC",2006.634,2006.634,"%D",5,0)
 | Use of unreleased versions of this software requires the user |
"^DIC",2006.634,2006.634,"%D",6,0)
 | to execute a written test agreement with the VistA Imaging    |
"^DIC",2006.634,2006.634,"%D",7,0)
 | Development Office of the Department of Veterans Affairs,     |
"^DIC",2006.634,2006.634,"%D",8,0)
 | telephone (301) 734-0100.                                     |
"^DIC",2006.634,2006.634,"%D",9,0)
 |                                                               |
"^DIC",2006.634,2006.634,"%D",10,0)
 | The Food and Drug Administration classifies this software as  |
"^DIC",2006.634,2006.634,"%D",11,0)
 | a medical device.  As such, it may not be changed in any way. |
"^DIC",2006.634,2006.634,"%D",12,0)
 | Modifications to this software may result in an adulterated   |
"^DIC",2006.634,2006.634,"%D",13,0)
 | medical device under 21CFR820, the use of which is considered |
"^DIC",2006.634,2006.634,"%D",14,0)
 | to be a violation of US Federal Statutes.                     |
"^DIC",2006.634,2006.634,"%D",15,0)
 |                                                               |
"^DIC",2006.634,2006.634,"%D",16,0)
 +---------------------------------------------------------------+
"^DIC",2006.634,2006.634,"%D",17,0)
 
"^DIC",2006.634,2006.634,"%D",18,0)
This file is used by the  Imaging VistaRad system to define search logic
"^DIC",2006.634,2006.634,"%D",19,0)
in the MAG RAD LISTS DEFINITION file.  No entries exist in this file, as
"^DIC",2006.634,2006.634,"%D",20,0)
the file definition itself is what is used in the data-entry for defining
"^DIC",2006.634,2006.634,"%D",21,0)
the search logic.
"^DIC",2006.634,"B","MAGJ ZLIST SEARCH",2006.634)

"^DIC",2006.67,2006.67,0)
MAG RAD CPT MATCHING^2006.67
"^DIC",2006.67,2006.67,0,"GL")
^MAG(2006.67,
"^DIC",2006.67,2006.67,"%D",0)
^1.001^6^6^3050606^^
"^DIC",2006.67,2006.67,"%D",1,0)
This file allows us to map a given Radiology procedure to other
"^DIC",2006.67,2006.67,"%D",2,0)
procedures of interest based on grouping of CPT codes, or
"^DIC",2006.67,2006.67,"%D",3,0)
attributes associated with the CPT code (Modality, Body Part).
"^DIC",2006.67,2006.67,"%D",4,0)
This supports logic in the hanging protocols for automatically 
"^DIC",2006.67,2006.67,"%D",5,0)
retrieving and displaying prior exams of interest when interpreting
"^DIC",2006.67,2006.67,"%D",6,0)
a new exam for a patient.
"^DIC",2006.67,"B","MAG RAD CPT MATCHING",2006.67)

"^DIC",2006.671,2006.671,0)
MAG RAD BODY PART^2006.671
"^DIC",2006.671,2006.671,0,"GL")
^MAG(2006.671,
"^DIC",2006.671,2006.671,"%D",0)
^1.001^2^2^3050606^^
"^DIC",2006.671,2006.671,"%D",1,0)
This file contains legal values for associating body part information
"^DIC",2006.671,2006.671,"%D",2,0)
with CPT codes in file #2006.67 MAG RAD CPT MATCHING.
"^DIC",2006.671,"B","MAG RAD BODY PART",2006.671)

"^DIC",2006.672,2006.672,0)
MAG RAD BODY REGION^2006.672
"^DIC",2006.672,2006.672,0,"GL")
^MAG(2006.672,
"^DIC",2006.672,2006.672,"%D",0)
^1.001^4^4^3050527^^
"^DIC",2006.672,2006.672,"%D",1,0)
This file is used for assigning body region designations to the
"^DIC",2006.672,2006.672,"%D",2,0)
MAG RAD CPT MATCHING file entries.
"^DIC",2006.672,2006.672,"%D",3,0)
The values in this file are derived from the AMA CPT book's RADIOLOGY
"^DIC",2006.672,2006.672,"%D",4,0)
chapter, and correspond to the subsection "body part" headings.
"^DIC",2006.672,"B","MAG RAD BODY REGION",2006.672)

"^DIC",2006.68,2006.68,0)
MAGJ USER DATA^2006.68
"^DIC",2006.68,2006.68,0,"GL")
^MAG(2006.68,
"^DIC",2006.68,2006.68,"%D",0)
^1.001^2^2^3050203^^^^
"^DIC",2006.68,2006.68,"%D",1,0)
This file stores various Vistarad user settings, preferences, etc.,
"^DIC",2006.68,2006.68,"%D",2,0)
that are created on the Vistarad workstation.
"^DIC",2006.68,"B","MAGJ USER DATA",2006.68)

"^DIC",2006.69,2006.69,0)
MAG VISTARAD SITE PARAMETERS^2006.69
"^DIC",2006.69,2006.69,0,"GL")
^MAG(2006.69,
"^DIC",2006.69,2006.69,"%",0)
^1.005^1^1
"^DIC",2006.69,2006.69,"%",1,0)
MAGJ
"^DIC",2006.69,2006.69,"%","B","MAGJ",1)

"^DIC",2006.69,2006.69,"%D",0)
^1.001^19^19^3020313^
"^DIC",2006.69,2006.69,"%D",1,0)
 +---------------------------------------------------------------+
"^DIC",2006.69,2006.69,"%D",2,0)
 |                                                               |
"^DIC",2006.69,2006.69,"%D",3,0)
 | Property of the US Government.                                |
"^DIC",2006.69,2006.69,"%D",4,0)
 | No permission to copy or redistribute this software is given. |
"^DIC",2006.69,2006.69,"%D",5,0)
 | Use of unreleased versions of this software requires the user |
"^DIC",2006.69,2006.69,"%D",6,0)
 | to execute a written test agreement with the VistA Imaging    |
"^DIC",2006.69,2006.69,"%D",7,0)
 | Development Office of the Department of Veterans Affairs,     |
"^DIC",2006.69,2006.69,"%D",8,0)
 | telephone (301) 734-0100.                                     |
"^DIC",2006.69,2006.69,"%D",9,0)
 |                                                               |
"^DIC",2006.69,2006.69,"%D",10,0)
 | The Food and Drug Administration classifies this software as  |
"^DIC",2006.69,2006.69,"%D",11,0)
 | a medical device.  As such, it may not be changed in any way. |
"^DIC",2006.69,2006.69,"%D",12,0)
 | Modifications to this software may result in an adulterated   |
"^DIC",2006.69,2006.69,"%D",13,0)
 | medical device under 21CFR820, the use of which is considered |
"^DIC",2006.69,2006.69,"%D",14,0)
 | to be a violation of US Federal Statutes.                     |
"^DIC",2006.69,2006.69,"%D",15,0)
 |                                                               |
"^DIC",2006.69,2006.69,"%D",16,0)
 +---------------------------------------------------------------+
"^DIC",2006.69,2006.69,"%D",17,0)
 
"^DIC",2006.69,2006.69,"%D",18,0)
This file contains various site-specific parameters that control the
"^DIC",2006.69,2006.69,"%D",19,0)
behavior of VistaRad.
"^DIC",2006.69,"B","MAG VISTARAD SITE PARAMETERS",2006.69)

**END**
**END**
