
=============================================================================
Run Date: JUN 28, 2010                     Designation: MAG*3*83
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #64                      Status: Released
                  Compliance Date: JUL 28, 2010
=============================================================================

Associated patches: (v)MAG*3*59    <<= must be installed BEFORE `MAG*3*83'

Subject: VA-DOD VistA Imaging Exchange Service

Category: 
  - Enhancement (Mandatory)

Description:
============

 This document describes Imaging Patch 83, the VA-DoD VistA Imaging 
 Exchange Service patch. Patch 83 includes VistA support for remote DoD
 radiology image access and introduces the VistA Imaging Exchange (VIX)
 service. Sites that implement the VIX component in this patch will get the
 following enhancements:
 * Access to DoD radiology images using existing Clinical Display remote 
   image views functions.
 * Performance and compression improvements for VA-to-VA Clinical Display 
   remote image views.
 * New VA-to-VA remote image access and remote exam list monitoring for 
   VistARad (also requires MAG*3.0*90).
 * LAN-speed access of previously requested remote VA and DoD images using 
   the new local VIX cache.
 * Web-accessible logging of remote image access.
 * LAN-speed image access capability for co-located DoD and VA sites.
  
 NOTE    MUSE EKG waveforms, commercial PACS images, and other images not 
         stored in VistA Imaging file shares cannot be retrieved using the
         VIX. In addition to the enhancements listed above, implementing a
         VIX will make VA radiology images stored in your VistA system
         accessible to DoD providers. For detailed information about VIX
         server requirements and VIX installation can be found in
         the Patch Description document.
  
 NOTE    All sites running Imaging 3.0 must install the Kernel 
         Installation & Distribution System (KIDS) portion of this patch.
  
 Distribution of Software
 ========================
  
 Imaging Patch 83 can be downloaded from: 
 ftp.imaging.med.va.gov/Released_Software/Mag3_0p83
  
 Installation instructions are included in this document.
  
 NOTE    Any late-breaking news about this patch will be found in a readme 
         file. If present, this file will also be located in the MAG3_0P83
         directory.
  
 Patch Contents
 ==============
  
 MAG3_0P83.KID                KIDS package to be installed on the 
                              VistA System             
 VixInstallerSetup.msi        Installation file for the VIX software 
 MAG3_0P83_Patch_Desc.pdf     VA-DoD VistA Imaging Exchange Service Patch
                              Description
 MAG3_0_VIX_admin_guide.pdf   New VIX Administrator's Guide
 MAG3_0P83_SG_changes.pdf     Security Guide change pages for this patch
 MAG3_0P83_TM_changes.pdf     Technical Manual change pages for this patch
  
 Associated Patches
 ==================
  
 Before Patch 83 is installed, all released Imaging patches must be 
 installed. For a list of all released Imaging (MAG) patches, refer to the
 patch_list.txt file available on the Imaging FTP server (go to
 ftp://ftp.imaging.med.va.gov, then navigate to the
 \Docs\Imaging_Docs_Latest folder).
  
 Test Sites
 ==========
  
 The following sites are test sites for this patch:
  
 Central Arkansas VA HCS - Little Rock, AR (Large)
 Charleston, SC (Large)
 East Colorado VA HCS (Integrated)
 El Paso,TX (Medium) 
 Fayetteville, NC (Large)
 VA Gulf Coast Veterans HCS Biloxi, MS (Large)
 Jack C. Montgomery VAMC - Muskogee, OK (Medium)
 Louisville, KY (Large) 
 North Chicago, IL (Large) 
 Northern Arizona VA HCS - Prescott, AZ (Large) 
 Phoenix, AZ (Medium)
 Richmond, VA (Large)
 Tucson, AZ (Large)
 VA Maryland HCS (Integrated) 
 Washington, DC (Large)
  
  
 Remedy Calls
 ============
  
 There are no Remedy calls assigned to this patch.
  
 New Service Request 
 ====================
  
 There are no NSR (New Service Request) entries addressed
 in this patch.
  
 VistA System KIDS Summary Changes
 ==================================
  
 Patch 83 includes a KIDS package to be installed on the VistA System.
 These changes support the new VIX service (if one is implemented) and
 facilitate communication with remote VIX services at other VA sites.
  
 Data Dictionaries
 =================
  
 This patch includes the following data dictionaries:
  
 #2006.95
 IMAGE ACCESS LOG: The length of the Additional Data Field (#2006.95,100)
 has been increased to 250 characters to store data about remote VA and 
 DoD image accesses mediated by the VIX.
  
 Security Keys
 =============
  
 This patch contains one new security key:
 MAG VIX ADMIN This key gives the holder access to the Web-based VIX 
 transactions log.
  
 Remote Procedures
 =================
  
 This patch contains the following remote procedure calls:
  
 MAG DOD GET STUDIES IEN  New. 
 When provided with a list of study IENs, this RPC will return the study, 
 series, and instance metadata associated with those IENs.
 MAG DOD GET STUDIES UID  New. 
 When provided with a list of study UIDs, this RPC will return the study,
 series, and instance metadata associated with those UIDs. 
 MAG IMAGE CURRENT INFO  
 Populates DICOM headers of images being sent to remote sites with current
 data from the VistA database.                          
  
 Menu Options
 ============
  
 There are no new menu options in this patch.
  
 However, sites that implement a VIX and that plan to allow DoD access 
 to locally stored radiology images will need to define a special VistA 
 user account and assign it specific menu options. For details, see page 14
 of the Patch Description.
  
 Installation 
 ============
  
  All sites must install the KIDS portion of this patch.
  The KIDS portion of this patch can be loaded while VistA Imaging System 
  is active. KIDS installation will take less than one minute.
  
 Installation Prerequisites
 ==========================
  
 Before installing this patch:
 * Download the Patch 83 files from the Imaging FTP site to a local 
   storage location.
 * Verify that patches that support desired or needed features have been 
   installed. For a summary of associated patches, see page 2
  
 VistA System (KIDS) Installation
 ================================
  
 Installing the KIDS Package
  
 1 Access the Kernel Installation and Distribution System Menu [XPD MAIN].
 2 Run the Installation option [XPD INSTALLATION MENU].
 3 Load the KIDS file by performing the following steps.
  
 a   Run the Load a Distribution option [XPD LOAD DISTRIBUTION] to load 
     the KIDS distribution.
 b   When prompted, enter the path and file name (MAG3_0P83.KID) of the 
     Patch 83 KIDS file that you downloaded from the Imaging FTP server.
 c   When prompted to continue with the load, enter YES. A Distribution OK!
     message will be displayed when the load is complete.
  
 4 After loading the KIDS file, use the following options to verify the 
   contents of the patch and to back up any affected routines.
   Verify Checksums in Transport Global [XPD PRINT CHECKSUM] run this
   option if you want to ensure the integrity of the routines in the patch.
   Compare Transport Global to Current System [XPD COMPARE TO SYSTEM]
   run this option if you want to view all changes that will be made 
   when the patch is installed. All components (routines, options, and so
   on) in the patch will be compared.
   Backup a Transport Global [XPD BACKUP]   run this option if you 
   want to create a backup message of any routines exported with the
   patch. 
   It will NOT back up any of the other changes.
 5 After performing the load and any optional verification steps, perform 
   the following steps to install the KIDS file:
  
 a   Run the Install Package(s) option [XPD INSTALL BUILD].
 b   When prompted for the install name, enter MAG*3.0*83.
 c   Answer NO to the following prompts:
  
  Want KIDS to INHIBIT LOGONs during the install? No//NO
  Want to DISABLE Scheduled Options, Menu Options, and Protocols? YES//NO
  
 6 When installation has finished, an Install Complete message will be 
   displayed
  
  
 Sample KIDS Installation with Post Installation Routine Completed
 =================================================================
  
 Select OPTION NAME: KIDS  Kernel Installation & Distribution System
  
           Edits and Distribution ...
           Utilities ...
           Installation ...
           Patch Monitor Main Menu ...
  
 Select Kernel Installation & Distribution System Option: Installation
  
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
  
 Select Installation Option: 1  Load a Distribution
 Enter a Host File: C:\MAG3_0P83.KID
  
 KIDS Distribution saved on Mar 17, 2010@09:51:11
 Comment: VistA Imaging V3.0 - Patch 83 - 03/17/2010 12:18PM
  
 This Distribution contains Transport Globals for the following Package(s):
    MAG*3.0*83
 Distribution OK!
  
 Want to Continue with Load? YES// YES
 Loading Distribution...
  
    MAG*3.0*83
 Use INSTALL NAME: MAG*3.0*83 to install this Distribution.
  
  
    1      Load a Distribution
    2      Verify Checksums in Transport Global
    3      Print Transport Global
    4      Compare Transport Global to Current System
    5      Backup a Transport Global
    6      Install Package(s)
           Restart Install of Package(s)
           Unload a Distribution
 Select Installation Option: 6  Install Package(s)
 Select INSTALL NAME: MAG*3.0*83    Loaded from Distribution  
 3/17/10@08:34:20
  
      => VistA Imaging V3.0 - Patch 83 - 03/10/2010 12:18PM  ;Created o
  
 This Distribution was loaded on Mar 17, 2010@15:12:02 with header of 
    VistA Imaging V3.0 - Patch 83 - 03/17/2010 12:18PM  ;Created on Mar 1
 0, 2010@12:18:38
  
    It consisted of the following Install(s):
      MAG*3.0*83
 Checking Install for Package MAG*3.0*83
  
 Install Questions for MAG*3.0*83
  
 Incoming Files:
  
  
    2006.95   IMAGE ACCESS LOG  (Partial Definition)
 Note:  You already have the 'IMAGE ACCESS LOG' File.
  
  
 Want KIDS to INHIBIT LOGONs during the install? NO// NO
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO// NO
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME//   HERE
  
 Install Started for MAG*3.0*83 : 
                Mar 17, 2010@15:13:51
  
 Build Distribution Date: Mar 17, 2010
  
  Installing Routines:.....
                Mar 17, 2010@15:13:51
  
  Installing Data Dictionaries: ..
                Mar 17, 2010@15:13:51
  
  Installing PACKAGE COMPONENTS: 
  
  Installing SECURITY KEY..
  
  Installing REMOTE PROCEDURE....
                Mar 17, 2010@15:13:51
  
  Running Post-Install Routine: POST^MAGIPS83.
  
  Updating Routine file......
  
  Updating KIDS files.......
  
  MAG*3.0*83 Installed. 
                Mar 17, 2010@15:13:57
  
 Routine Information:
 ====================
  
 New and modified Imaging routines for the VistA system are listed
 below.  For each routine, the second line will contain the following
 information. Please note that the before checksum may differ if a test
 version of the patch has been installed.
  
 ;;3.0;IMAGING;[Patch List];Mar 19, 2002;Build 1690;Mar 29, 2010 
  
 Checksums are calculated using the KERNEL utility program 
 CHECK1^XTSUMBLD.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MAGDQR21
    Before:       n/a   After:B147169782  **83**
Routine Name: MAGGTII
    Before: B43921962   After: B44233729  **8,48,63,59,83**
Routine Name: MAGIPS83
    Before:       n/a   After: B17244243  **83**
Routine Name: MAGLOG
    Before:  B8166700   After:  B8117581  **17,8,20,59,83**
 
Routine list of preceding patches: 59

=============================================================================
User Information:                          Hold Date     : JUN 25, 2010
Entered By  : SHOVESTUL,MARYANN             Date Entered  : NOV 29, 2006
Completed By: VARDANIAN,VIOLETTA            Date Completed: JUN 04, 2010
Released By : FUGETT,BRENT                  Date Released : JUN 28, 2010
=============================================================================


Packman Mail Message:
=====================

No routines included
