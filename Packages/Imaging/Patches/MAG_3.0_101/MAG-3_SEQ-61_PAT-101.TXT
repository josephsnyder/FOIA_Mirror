
=============================================================================
Run Date: FEB 10, 2010                     Designation: MAG*3*101
Package : MAG - IMAGING                       Priority: Mandatory
Version : 3        SEQ #61                      Status: Released
                  Compliance Date: MAR 13, 2010
=============================================================================

Associated patches: (v)MAG*3*76    <<= must be installed BEFORE `MAG*3*101'

Subject: VISTARAD MAINTENANCE V

Category: 
  - Routine

Description:
============

 This document describes Patch 101, the VistARad Maintenance V patch.
 Enhancements in this patch are based on the results of the VistARad Site
 Survey performed in 2008.
  
 Major changes are summarized below.
  
 * Optimized exam display/loading logic to improve image access times
   and to manage very large studies.
 * Teaching file support.
 * A site-controllable option to make more workstation memory
   accessible to the VistARad software.
 * Improved annotation capabilities, including more flexible tools
   and the ability to amend existing annotations (appropriate user
   privileges required).
 * A new image alert for mammography images.
 * Improved access to image-related data for troubleshooting purposes.
 * Re-display a loaded exam using a different hanging protocol.
 * Workflow optimizations for dictation system integration.
 * New user preferences governing the initial Manager presentation on
   startup, and default format display of Preview window entries
 * Bug fixes based on site feedback.
  
 NOTE All sites running VistA Imaging 3.0 must install the KIDS portion of
 this patch.
  
 NOTE Sites running VistARad must install all software components of this
 patch. The Patch 101 KIDS is backwards-compatible with the Patch 76 client
 software;installation of the client software may be phased in according to
 each sites needs.
  
 Distribution of Software
 ========================
  
 Sites that have implemented VistARad can download this patch from:
 ftp.imaging.med.va.gov/Software/Sites/<yoursite>/Mag3_0p101
 Sites that have not implemented VistARad can download the KIDS-only
 portion of this patch from:
  
 ftp.imaging.med.va.gov/Software/Sites/Mag3_0p101_KIDS_ONLY
  
 For detailed installation instructions refer to the 
 MAG3_0P101_Patch_Desc.pdf document.
  
 NOTE Any late-breaking news about this patch will be found in a readme
 file. If present, this file will also be located in the MAG3_0P101
 directory.
  
 Patch Contents
 ==============
  
 This patch includes the following files:
  
 MAG3_0P101.KID   KIDS (Kernel Installation & Distribution System)
                  package to be installed on the VistA System.
  
 MAG_VistARad_P101_SetUp.exe   Client software to be installed 
                               on VistARad workstations.
  
 MAG3_0P101_Patch_Desc.pdf   This document.
  
 MAG3_0P101_changes_InstallGuide.pdf   Revised Installation Guide
                                       sections for this patch.
  
 MAG3_0P101_changes_TechManual.pdf   Revised Technical Manual
                                     sections for this patch.
  
 MAG3_0P101_changes_SecGuide.pdf   Revised Security Guide pages
                                   for this patch.
  
 MAG_VistARad_User_Guide.pdf   Revised VistARad User Guide.
  
 MAG_Vrad_QSG.pdf   Revised VistARad Quick Start Guide.
  
 Associated Patches
 ==================
  
 Before Patch 101 is installed, the following patch must be installed:
 MAG*3.0*76
  
 Test Sites
 ==========
  
 The following are test sites for this patch:
  
 * Tucson, AZ (Large)
 * N Florida/S Georgia HCS  (Integrated)
 * Cleveland, OH (Large)
 * Fayetteville, NC (Large)
 * Prescott , AZ (Large)
 * Charleston, SC (Large)
  
 Remedy Calls
 ============
  
 The Remedy help desk calls listed below are addressed in this patch.
 Supplementary information is indicated with brackets.
  
  68790  SPO-0205-50519  MRI overlays [Group 6000, Spokane]
 214251  VistARad question  [Measurement not being disabled over
         the Magnifying Glass, Bay Pines]
 220146  Patch65 Close Exams not functioning  [Losing button size
         setting; dialog position lost, Phoenix]
 234667  MR Scout Problem [All scouts not recognized, Cleveland] 
 235730  calibration of measurements tool for Ultrasound will apply
         to the entire image set even when the box has not been
         checked  [Gainesville]
 239697  Incorrect radiology requisition is displayed  [Current
         requisition not on top, Southern Arizona]
 242125  VistARad custom recent list is dysfunctional  
         [new "My Recent exams  list implemented, Tucson]
 242739  Remedy Ticket for Requisition Issue [(HIS) Undef error] 
 243946  Field of View information not available in Patch 65 or 76
         [Huntington]
 245473  Windows disappearing in VistA RAD [Dialog position lost, St Louis]
 254534  Images do not appear until priors are loaded.  
         [Large exam loading, Central Texas]
 264868  Unread list compile error [Columbia]
 267725  GE DX annotation overlays missing in Vista Imaging.  [Phoenix]
 289815  Adding new CPT description  [CPT Description referenced
         when pass to Voxar,  Cleveland]
 347756  ID # column in Patient Manager not showing last 4
         [Phoenix Area Office]
  
 E3Rs and NSRs
 =============
  
 There are no E3R (Electronic Error and Enhancement Reporting package)
 entries or NSRs (National Service Requests).
  
 Patch 101 Changes
 =================
  
 Patch 101 includes changes to the VistARad workstation software and to
 Imaging-related routines on the VistA host.
  
 VistARad Workstation Software Changes
 =====================================
  
 * Large Exam Management Improvements
 * Preview Window Changes
 * Teaching File Support
 * Expanded Virtual Memory Usage Option
 * Saved Annotation Management Improvements
 * Annotation Tool Modifications
 * New Mammography Disclaimer
 * New Data in Image Detail Window
 * New Re-Hang Exam Feature
 * Dictation Interface Modifications
 * New Internal Imaging Data Display Window
 * Exam List Changes and Fixes
 * Miscellaneous Fixes
 * Other Image Display-Related Fixes
  
 For additional details on these changes refer to the 
 MAG3_0P101_Patch_Desc.pdf document distributed with the patch.
  
 VistA System Changes
 ====================
  
 Data Dictionaries
 =================
  
 The following data dictionaries are modified in this patch:
  
 #2006.634 MAGJ ZLIST SEARCH: Added the following fields to support
           the changes in the MAG RAD LIST DATA ELEMENTS (#2006.63) file:
  
           2006.634,33 TECH INITIALS
           2006.634,34 REGISTRATION TIME
           2006.634,35 REGISTRATION TIME-SORTABLE
  
 #2006.69 MAG VISTARAD SITE PARAMETERS: Added a new field, ENA DICT
          PREF-YES ALL LOCKED (#13). When this field is set to YES,
          individual users can set the new Set default YES for 
          Locked Exams preference in the VistARad Settings dialog
          as desired. When ENA DICT PREF-YES ALL LOCKED field is 
          set to NO, the new preference in the Settings dialog
          is disabled and cannot be used. By default, ENA DICT
          PREF-YES ALL LOCKED is set to NO.
  
 The following files have new data exported in this patch:
  
 #2006.63 MAG RAD LIST DATA ELEMENTS: Added additional data entries to
          support changes in custom lists. 
  
 #2006.631 MAG RAD LISTS DEFINITION: New data entries have been added to
           support the new My Recent Exams custom list. 
  
 Security Keys
 =============
  
 One new security key is included in this patch:
  
 MAGJ OVERRIDE ANNOTATIONS: This key gives the holder the ability to edit
 or delete annotations using VistARad after the exams status is "Complete.
  
 NOTE The pre-existing MAGJ SYSTEM USER key, while not modified by this
 patch, is used to control which data is displayed when the new Internal
 Imaging Data window is used. See page 11 for details.
  
 Remote Procedures
 =================
  
 The following RPCs (remote procedure calls) are included in this
 patch:
  
 MAGJ MAGDATADUMP: New. This RPC supports the new Imaging Data Display
 dialog.
  
 VAFCTFU CONVERT ICN TO DFN: This RPC is needed to support Remote Image
 View functionality to be implemented in Patch 90, so that remote accesses
 to sites running either P90 or P101 can succeed.
  
 VAFCTFU CONVERT DFN TO ICN: Ditto the above.
  
 VAFCTFU GET TREATING LIST: Ditto the above.
  
 Menu Options
 ============
 The following menu option is included in this patch:
  
 MAGJ VISTARAD RPC'S [MAGJ VISTARAD WINDOWS] Updated RPC references; no
 other changes.
  
 Templates
 =========
 There are no new or modified templates included in this patch.
  
 Installation
 ============
  
 This patch is to be installed on the VistA System and on VistARad
 workstations.
  
 NOTE All sites running VistA Imaging 3.0 must install the KIDS portion of
 this patch.
  
 NOTE Sites running VistARad must install all software components of this
 patch. The Patch 101 KIDS is backwards-compatible with the Patch 76 client
 software;installation of the client software may be phased in according to
 each sites needs.
  
 All VistARad users must log out before the KIDS portion of this patch is
 loaded. Other VistA Imaging operations may continue. Installation of the
 KIDS will take less than one minute. Installation of the workstation
 software will take about one to three minutes per workstation,depending on
 hardware.
  
 Installation Prerequisites
 ==========================
  
 Before installing this patch, you will need to download the Patch 101
 files from the Imaging FTP site to a local storage location.
  
 Verify that all clients have Adobe Reader 6.0 or higher installed.
  
 Verify that the patches listed in the Patch Sequence section on page
 2 have been installed. 
  
 VistA System (KIDS) Installation
 ================================
  
 The Patch 101 KIDS is backwards-compatible with the Patch 76 VistARad
 workstation software.
  
 NOTE This KIDS file includes an environment check which will automatically
 disable background exam list compiles during the installation process.
 After the KIDS installation is complete, compiles will be automatically
 re-enabled.
  
 Installing the KIDS Package
 ===========================
  
 * Ensure all users log off of all VistARad workstations.
  
 * Access the Kernel Installation and Distribution System Menu
   [XPD MAIN].
  
 * Run the Installation option [XPD INSTALLATION MENU].
  
 * Load the KIDS file by performing the following steps.
   a. Run the Load a Distribution option [XPD LOAD DISTRIBUTION]
      to load the KIDS distribution.
   b. When prompted, enter the path and file name (MAG3_0P101.KID)
      of the Patch 101 KIDS file that you downloaded from the Imaging
      FTP server.
   c. When prompted to continue with the load, enter YES.  A Distribution
      OK! message will be displayed when the load is complete.
  
 * After loading the KIDS file, use the following options to verify
   the contents of the patch and to back up any affected routines.
  
 * Verify Checksums in Transport Global [XPD PRINT CHECKSUM]  
   run this option if you want to ensure the integrity of the routines
   in the patch.
  
 * Compare Transport Global to Current System [XPD COMPARE TO SYSTEM]
   run this option if you want to view all changes that will be made 
   when the patch is installed. All components (routines, options, 
   and so on) in the patch will be compared.
  
 * Backup a Transport Global [XPD BACKUP]   run this option if you 
   want to create a backup message of any routines exported with the
   patch.It will NOT back up any of the other changes.
  
 * After performing the load and any optional verification steps, 
   install  the KIDS file by performing the following steps:
   a. Run the Install Package(s) [XPD INSTALL BUILD] option.
   b. When prompted for the install name, enter MAG*3.0*101.
   c. Answer NO to the following prompts:
  
     Want KIDS to Rebuild Menu Trees Upon Completion of Install? No//NO
     Want KIDS to INHIBIT LOGONs during the install? No//NO
     Want to DISABLE Scheduled Options, Menu Options, and Protocols? //NO
  
 * When installation is finished, an Install Complete message will be 
   displayed.
  
 Sample KIDS Installation
 ========================
  
 Select INSTALL NAME: MAG*3.0*101       Loaded from Distribution  
 12/17/09@09:59:32
      => VistARad patch 101  ;Created on Dec 16, 2009@16:41:06
  
 This Distribution was loaded on Dec 17, 2009@09:59:32 with header of 
    VistARad patch 101  ;Created on Dec 16, 2009@16:41:06
    It consisted of the following Install(s):
     MAG*3.0*101
 Checking Install for Package MAG*3.0*101
 Will first run the Environment Check Routine, MAGJMN1
  
  
 Install Questions for MAG*3.0*101
  
 Incoming Files:
  
  
    2006.63   MAG RAD LIST DATA ELEMENTS  (including data)
 Note:  You already have the 'MAG RAD LIST DATA ELEMENTS' File.
 I will MERGE your data with mine.
  
  
    2006.631  MAG RAD LISTS DEFINITION  (including data)
 Note:  You already have the 'MAG RAD LISTS DEFINITION' File.
 I will MERGE your data with mine.
  
  
    2006.634  MAGJ ZLIST SEARCH
 Note:  You already have the 'MAGJ ZLIST SEARCH' File.
  
  
    2006.69   MAG VISTARAD SITE PARAMETERS  (Partial Definition)
 Note:  You already have the 'MAG VISTARAD SITE PARAMETERS' File.
  
 Want KIDS to Rebuild Menu Trees Upon Completion of Install? NO// 
  
  
 Want KIDS to INHIBIT LOGONs during the install? NO// 
 Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO// 
  
 Enter the Device you want to print the Install messages.
 You can queue the install by enter a 'Q' at the device prompt.
 Enter a '^' to abort the install.
  
 DEVICE: HOME// ;;99999  HERE
  
  
  Install Started for MAG*3.0*101 : 
                Dec 17, 2009@10:01:56
  
 Build Distribution Date: Dec 16, 2009
  
  Installing Routines:................
                Dec 17, 2009@10:01:56
  
  Installing Data Dictionaries: .....
                Dec 17, 2009@10:01:56
  
  Installing Data: 
                Dec 17, 2009@10:01:56
  
  Installing PACKAGE COMPONENTS: 
  
  Installing SECURITY KEY..
  
  Installing REMOTE PROCEDURE..
  
  Installing OPTION..
                Dec 17, 2009@10:01:57
  
  Running Post-Install Routine: POSTINST^MAGJMN1.
 System internal hanging protocol updated: CRSYS_INT_HP
  
 System internal hanging protocol updated: MODMatchAllSYS_INT_HP
  
  
  Updating Routine file......
  
  Updating KIDS files.......
  
  MAG*3.0*101 Installed. 
                Dec 17, 2009@10:01:57
  
  Not a production UCI
  
  Not a production UCI
  
  NO Install Message sent 
  
 VistARad Client Installation
 ============================
  
 For additional details on the VistARad Client Installation refer to
 the MAG3_0P101_Patch_Desc.pdf document distributed with the patch.
  
 The following steps can be used to install VistARad for the first time, or
 to update a workstation that is running VistARad Patch 76 to VistARad
 Patch 101. Installation should take 1-2 minutes.
  
 NOTE If any other versions of VistARad are installed (such as Patch 65),
 use Add/Remove Programs in the Windows Control Panel to remove VistARad
 before using the steps below.
  
 1. Log in to the workstation as an administrator, and ensure that no
    other programs are running.
  
 2.  Double-click MAG_VistARad_P101_Install.exe to start the installation
    wizard. There will be a brief delay as the installation files are 
    extracted.NOTE VistARad will be installed in C:\Program Files
    \Vista\Imaging\.
  
    There are no configurable installation options.
  
 3. If you are updating from Patch 76 to Patch 101, perform the steps: 
    (workstationspecific configuration files will be retained):
    a. When the Welcome page appears, click Next.
    b. When the Ready to Install page displays, click Install.
    c. When you are informed that Patch 76 must be removed, click Yes.
    d. When you are prompted to confirm the removal of VistARad, click Yes.
    e. When you are informed that VistARad has been uninstalled, click OK.
    f. Installation of Patch 101 will start automatically. After 
       installation is complete,click Finish to exit the wizard.
  
 4. If you are installing Patch 101 for the first time, perform the
    steps below:
    a. When the Welcome page appears, click Next.
    b. When the Ready to Install page displays, click Install.
    c. After installation is complete, click Finish to exit the wizard.
  
 5. Use the VistARad shortcut on the desktop or in Windows Start menu
    (Start |Programs | VistA Imaging Programs | MAG_VistARad_Patch101) 
    to start VistARad.
  
 6. After starting VistARad, go to Help | About and verify that the 
    software client version is: 3.0.101.10
  
 Routines
 ========
  
 For each routine, the second line will contain the following information.
 Please note that the "before  checksum may differ if any test software has
 been installed.
  
   <tab>;;3.0;IMAGING;**101**; November 6, 2009
  
 New and modified routines for the VistA System are listed below.
 CHECK1^XTSUMBLD is used to generate the checksums.
  
 NOTE MAGJUTL1 is a VistARad routine that exists in both Patches 101 and
 49, but has version differences between the two patches. The Patch 101
 version is compatible with Patch 49 functionality, but not vice versa. The
 Patch 49 KIDS automatically resolves the issue by not installing MAGJUTL1
 if Patch 101 is detected in the environment. The Patch 101 KIDS overwrites
 the Patch 49 version of the routine (if present). So, regardless of the
 sequence in which these patches are loaded, the KIDS will produce the
 correct result with respect to this routine; this issue is mainly of
 concern for test sites for these two patches.

Routine Information:
====================
The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: MAGJEX1
    Before: B75475644   After: B86728330  **16,22,18,65,101**
Routine Name: MAGJEX1A
    Before: B73622509   After: B74324316  **18,65,101**
Routine Name: MAGJLS2
    Before: B76760621   After: B91361467  **22,18,76,101**
Routine Name: MAGJLS2B
    Before: B73366259   After: B78466929  **16,22,18,76,101**
Routine Name: MAGJLS3
    Before: B75260253   After: B84076756  **16,22,18,101**
Routine Name: MAGJLS4
    Before: B50894093   After: B51027684  **18,76,101**
Routine Name: MAGJLST1
    Before: B53406353   After: B50075739  **16,22,18,65,76,101**
Routine Name: MAGJMN1
    Before: B62146052   After:B140332514  **16,9,22,18,65,76,101**
Routine Name: MAGJRPT
    Before: B68077389   After: B70154037  **18,101**
Routine Name: MAGJUPD1
    Before: B56235053   After: B61185644  **16,22,18,76,101**
Routine Name: MAGJUPD2
    Before: B50382379   After: B50457719  **18,76,101**
Routine Name: MAGJUTL1
    Before: B64551081   After: B69694036  **22,18,65,76,101**
Routine Name: MAGJUTL3
    Before: B68048803   After: B91880385  **16,9,22,18,65,76,101**
Routine Name: MAGJUTL4
    Before: B43697097   After:B150484690  **18,76,101**
Routine Name: MAGJUTL5
    Before: B32992416   After: B32996102  **65,76,101**
 
Routine list of preceding patches: 76

=============================================================================
User Information:                          Hold Date     : FEB 10, 2010
Entered By  : TROMBETTA,KATHY               Date Entered  : AUG 05, 2008
Completed By: CAROZZA,DAN                   Date Completed: FEB 10, 2010
Released By : ANDKHOIE,MOSA                 Date Released : FEB 10, 2010
=============================================================================


Packman Mail Message:
=====================

No routines included
