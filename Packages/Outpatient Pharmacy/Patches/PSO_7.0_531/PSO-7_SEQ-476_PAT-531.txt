$TXT Created by                  MNTVBB.DOMAIN.EXT  (KIDS) on Tuesday, 09/03/19 at 10:35
=============================================================================
Run Date: DEC 17, 2019                     Designation: PSO*7*531
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #476                      Status: Released
                  Compliance Date: JAN 17, 2020
=============================================================================

Associated patches: (v)PSO*7*282   <<= must be installed BEFORE `PSO*7*531'
                    (v)PSO*7*354   <<= must be installed BEFORE `PSO*7*531'

Subject: OPAI PARTIAL RELEASE ISSUE

Category: 
  - Routine

Description:
============

 Correct fill is not being logged as released from Outpatient Automated
 Interface (OPAI) processing.
  
 Associated Ticket(s):
 ---------------------  
 1. INC0196468 - OPAI Release
  
 New Service Requests (NSRs):
 ----------------------------  
 N/A 
  
 Patient Safety Issues (PSIs):
 -----------------------------
 N/A 
  
 Defect Tracking System Ticket(s) & Overview:
 --------------------------------------------
 1. INC0196468 - OPAI Release
  
    Problem:
    --------
    A user creates a new prescription, then requests a partial for that
    same prescription, both are sent to the dispensing machine.  When the
    original fill is processed and released from the dispensing machine,
    the partial fill is marked as processed and released in the
    PRESCRIPTION (#52) file instead of the original fill.
    NOTE: This fix will only work for Partial Fills that were requested
    after the patch has been installed.
  
    Resolution:
    -----------
    Modify routines PSOHLDS and PSOHLDS2 so the correct fill is marked as
    processed and released.
  
  
 Test Sites:
 ----------
 West Palm Beach VA Medical Center
 James J. Peters VA Medical Center (Bronx, NY)
 Charlie Norwood VA Medical Center (Augusta)
 VA Maryland Health Care System
  
 Patch Installation:
 ===================
  
 Pre/Post Installation Overview:
 -------------------------------
 There are no special pre- or post-install instruction. 
  
 Pre-Installation Instructions:
 ------------------------------
 This patch may be installed with users on the system although it is 
 recommended that it be installed during non-peak hours to minimize
 potential disruption to users.  This patch should take less than 5 minutes
 to install.
  
 Installation Instructions:
 --------------------------
 This patch will install two routines (PSOHLDS, PSOHLDS2) to remedy the
 above problems.
  
   1. Choose the PackMan message containing this patch.
  
   2. Choose the INSTALL/CHECK MESSAGE PackMan option.
  
   3. From the Kernel Installation and Distribution System Menu, select the
      Installation Menu.  From this menu, you may elect to use the
      following options. When prompted for the INSTALL NAME enter
      PSO*7.0*531.
  
      a. Backup a Transport Global - This option will create a backup
         message of any routines exported with this patch. It will not
         backup any other changes such as DDs or templates.
  
      b. Compare Transport Global to Current System - This option will
         allow you to view all changes that will be made when this patch is
         installed. It compares all components of this patch routines, DDs,
         templates, etc.
  
      c. Verify Checksums in Transport Global - This option will allow you
         to ensure the integrity of the routines that are in the transport
         global.
  
   4. From the Installation Menu, select the Install Package(s) option and
      choose the patch to install.
  
   5. When prompted 'Want KIDS to INHIBIT LOGONs during the install? NO//',
      Enter NO.
  
   6. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
      Protocols? NO//', Enter NO.
  
  
 Installation Verification
 -------------------------
 Successful installation can be verified by reviewing the first 2 lines of
 the routines contained in the patch. The second line will contain the
 patch number in the [PATCH LIST] section.
  
 ;;7.0;OUTPATIENT PHARMACY;**[PATCH LIST]**;DEC 1997;Build 349 
  
 The Calculate and Show Checksum Values [XTSUMBLD-CHECK] option can be run
 to compare the routine checksums to what is documented in the patch
 description.
  
 Back-out Procedures
 -------------------
 Back-out will be done only with the concurrence and participation of
 development team and appropriate VA site/region personnel. The decision to
 back-out or rollback software will be a joint decision between development
 team, VA site/region personnel and other appropriate VA personnel.
  
 Prior to installing an updated KIDS package, the site/region should have
 saved a backup of the routines in a mail message using the Backup a
 Transport Global [XPD BACKUP] option (this is done at time of install).
 The message containing the backed up routines can be loaded with
 the "Xtract PackMan" function at the Message Action prompt. The Packman
 function "INSTALL/CHECK MESSAGE" is then used to install the backed up
 routines onto the VistA System. 
  
 Validation of Roll Back Procedure
 ---------------------------------
 The Roll Back Procedure can be verified by printing the first 2 lines of
 the PSO Routines contained in this patch using the First Line Routine
 Print [XU FIRST LINE PRINT] option. Once the routines contained in the
 PSO*7.0*531 patch have been rolled back, the first two lines of the
 Routines will no longer contain the designation of patch PSO*7.0*531 in
 the patch list section on line 2.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;7.0;OUTPATIENT PHARMACY;**[Patch List]**;DEC 1997;Build 4

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSOHLDS
    Before: B91277633   After: B97827687  **156,312,354,531**
Routine Name: PSOHLDS2
    Before: B94193549   After: B94236545  **156,198,255,200,268,305,336,
                                           434,282,531**
 
Routine list of preceding patches: 282, 354

=============================================================================
User Information:
Entered By  :                               Date Entered  : JUN 14, 2018
Completed By:                               Date Completed: DEC 13, 2019
Released By :                               Date Released : DEC 17, 2019
=============================================================================


Packman Mail Message:
=====================

$END TXT
