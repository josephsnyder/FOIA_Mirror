$TXT Created by FRANCE,VENESSA at VMPDEV20.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 03/24/08 at 16:31
=============================================================================
Run Date: MAY 06, 2008                     Designation: PSO*7*291
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #254                      Status: Released
                  Compliance Date: JUN 06, 2008
=============================================================================

Associated patches: (v)PSO*7*201   <<= must be installed BEFORE `PSO*7*291'

Subject: PSO RXCOST ISSUE AND DELETE A PRESCRIPTION ERROR

Category: 
  - Routine
  - Data Dictionary

Description:
============

 This patch will correct 2 issues with the Delete a Prescription [PSO RXDL]
 option, one issue with the Prescription Cost Update [PSO RXCOST UPDATE] 
 option, and update the Data Dictionary for the PRESCRIPTION file (#52).
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1. HD212690 - PSO RXDL
 2. HD210092 - PSO RXDL error
 3. HD213587 - Prescription Cost Update [PSO RXCOST UPDATE] not working
 4. HD211759 - Bad Quantity MYHEALTHEVET error
  
  
 PARTICIPATING TEST SITES:
 =========================
 Bronx VAMC
 New York Harbor HCS
 Oklahoma City VAMC
  
  
 REMEDY TICKET OVERVIEW:
 =======================
 1. HD212690 - PSO RXDL
  
    Problem:
    --------
    In the Delete a Prescription [PSO RXDL] option, if entering a
    prescription number that has previously been deleted and then pressing
    <enter> when prompted for a prescription again, an undefined error
    occurs.
  
    Resolution:
    -----------
    Modify routine PSORXDL so an error is not created when hitting return
    without entering a prescription number at the DELETE PRESCRIPTION: 
    prompt.
  
  
 2. HD210092 - PSO RXDL error
  
    Problem:
    --------
    In the Delete a Prescription [PSO RXDL] option, if the user enters a
    character like ! at the prescription prompt, 2 question marks are
    displayed because it is an invalid prescription.  Then at the next
    prompt for prescription, if an @ is entered, an undefined error 
    occurs.
  
    Resolution:
    -----------
    Modify routine PSORXDL so an error is not created when entering @ at
    the DELETE PRESCRIPTION: prompt.
  
  
 3. HD213587 - Prescription Cost Update [PSO RXCOST UPDATE] not working
  
    Problem:
    --------
    In the Prescription Cost Update [PSO RXCOST UPDATE] option, unless the 
    original fill date for the prescription is included in the requested date 
    range, the cost will not be updated in the PRESCRIPTION file (#52) for
    any of the fills.  If the user selects to update refills and partials 
    also, it updates all fills on the prescription regardless of whether 
    they were within the requested date range. 
  
    Resolution:
    -----------
    This patch makes a correction to update fills only within the requested 
    range without having to include the original fill in that range. If the
    user selects an end fill date of today or in the future, this option will 
    update the cost for all existing and suspended fills that have a fill date 
    in the future. 
  
    Note:
    -----
    While reviewing this Remedy ticket, the Outpatient Pharmacy Workgroup
    decided that, in most cases the users will want to include Refill &
    Partials, the following prompt will change.
  
    From:  Do you want to update cost on Refills and Partials too? No//
  
    To:    Do you want to exclude Refills and Partials? No//
  
    With this change, users can just accept the default of 'No' and the 
    cost of Refills and Partials will be updated.
  
  
 4. HD211759 - Bad Quantity MYHEALTHEVET error
  
    Patch PSO*7.0*29 (released 2/17/00) changed the Data Dictionary of the 
    Prescription file to not allow alpha characters in the QTY fields.  
    However, data in the system predating that patch could still exist.
  
    Resolution:
    -----------   
    This patch will add the following note,
  
    "NOTE: QTY values that were on file prior to patch PSO*7*29 (released
    2/17/00) may contain alpha characters. "
  
    to the Technical Description of the Data Dictionary for the following 
    fields:
  
    1. QTY field (#7) in the PRESCRIPTION file (#52)
    2. QTY field (#1) in the PRESCRIPTION file REFILL multiple (#52.1)
    3. QTY field (#.04) in the PRESCRIPTION file PARTIAL multiple (#52.2)
  
  
 =======================INSTALLATION INSTRUCTIONS ========================
 Do not install this patch while Outpatient Pharmacy users are on the
 system or when Outpatient orders are being entered and signed through
 CPRS.  It should take less than 2 minutes to install this patch.
  
    1. Choose the PackMan message containing this patch and invoke the
       INSTALL/CHECK MESSAGE PackMan option.  
   
    2. From the Kernel Installation & Distribution System menu, select 
       the Installation menu.  
   
    3. From this menu, you may select to use the following options: 
       (when prompted for INSTALL NAME, enter PSO*7.0*291)
   
         a.  Verify Checksums in Transport Global - This option will allow
             you to ensure the integrity of the routines that are in the
             transport global.
         b.  Print Transport Global - This option will allow you to view
             the components of the KIDS build.
         c.  Compare Transport Global to Current System - This option will
             allow you to view all changes that will be made when this patch
             is installed.  It compares all components of this patch
             (routines, DD's, templates, etc.).
         d.  Backup a Transport Global - This option will create a backup
             message of any routines exported with this patch. It will not
             backup any other changes such as DD's or templates.
   
    4. Use the Install Package(s) option and select the package 
       PSO*7.0*291.
  
    5. When Prompted "Want KIDS to INHIBIT LOGONs during the install? 
       NO//" respond NO.  
   
    6. When Prompted "Want to DISABLE Scheduled Options, Menu Options, and 
       Protocols? NO//" respond NO.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;7.0;OUTPATIENT PHARMACY;**[Patch List]**;DEC 1997;Build 2

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSOHELP3
    Before: B16266297   After: B22564080  **20,291**
Routine Name: PSORXDL
    Before: B61943911   After: B62315481  **4,17,9,27,117,131,148,201,291**

=============================================================================
User Information:
Entered By  : WHITE,ELAINE                  Date Entered  : NOV 01, 2007
Completed By: WERNER,GARY                   Date Completed: MAY 05, 2008
Released By : CAMPBELL,THOMAS               Date Released : MAY 06, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
