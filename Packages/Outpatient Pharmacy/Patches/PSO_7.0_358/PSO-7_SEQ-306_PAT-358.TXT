
=============================================================================
Run Date: DEC 16, 2010                     Designation: PSO*7*358
Package : PSO - OUTPATIENT PHARMACY           Priority: Mandatory
Version : 7       SEQ #306                      Status: Released
                  Compliance Date: JAN 16, 2011
=============================================================================

Associated patches: (v)PSO*7*225   <<= must be installed BEFORE `PSO*7*358'
                    (v)PSO*7*276   <<= must be installed BEFORE `PSO*7*358'
                    (v)PSO*7*290   <<= must be installed BEFORE `PSO*7*358'
                    (v)PSO*7*298   <<= must be installed BEFORE `PSO*7*358'
                    (v)PSO*7*324   <<= must be installed BEFORE `PSO*7*358'

Subject: ePharmacy Tricare Active Duty

Category: 
  - Data Dictionary
  - Routine
  - Enhancement (Mandatory)

Description:
============

 This patch has enhancements which extend the capabilities of the Veterans
 Health Information Systems and Technology Architecture (VistA) electronic
 pharmacy (ePharmacy) billing system.  Below is a list of all the
 applications involved in this project along with their patch number:
  
    APPLICATION/VERSION                                  PATCH
    --------------------------------------------------------------
    OUTPATIENT PHARMACY (OP) V. 7.0                      PSO*7*358
    INTEGRATED BILLING (IB) V. 2.0                       IB*2*434
    ELECTRONIC CLAIMS MANAGEMENT ENGINE (ECME) V. 1.0    BPS*1*9
  
 The three patches (PSO*7*358, IB*2*434 and BPS*1*9) are being released in
 the Kernel Installation and Distribution System (KIDS) multi-build
 distribution BPS PSO IB BUNDLE 5.0.  For more specific instructions please
 refer to the installation steps provided in each of the patches.
  
 The combined build will allow the processing and release of prescriptions
 for TRICARE active duty patients.
  
 This specific patch contains functionality for the following:
  
  1.  A bypass function has been created to circumvent ePharmacy processing
      for TRICARE eligible inpatients.
  2.  An override function was created to continue processing of
      prescriptions for non-billable products for TRICARE eligible
      outpatients. From the reject notification screen, two new options
      were added. The user is able to [Quit] and send the prescription
      to the worklist or [Ignore] the rejection and continue processing if
      the user has the PSO TRICARE security key.
  3.  Create an override function to process TRICARE eligible
      prescriptions that reject.  From the reject notification screen,
      added two new options. The user is able to [Quit] and send the
      prescription to the worklist or [Ignore] the rejection and continue
      processing if the user has the PSO TRICARE security key.
  4.  Create a new security key, PSO TRICARE, which will be required
      for certain access to the new functionality.
  5.  Create a new file, PSO TRICARE AUDIT LOG, which will capture
      bypass and override audit information.
  6.  Create a new menu option, TRICARE BYPASS/OVERRIDE REPORT,
      which will reside on the ePharmacy Menu.
  7.  Create a new report, TRICARE BYPASS/OVERRIDE REPORT,
      which will be invoked by the new menu option, TRICARE BYPASS/OVERRIDE
      REPORT.
  8.  Modify Local Mail and CMOP to print prescriptions from suspense
      that have been processed through the new bypass or override
      functionality.
  9.  Added the [Ignore] option to the Worklist when a Tricare
      Prescription is selected,  [Ignore] can now be used on released
      prescriptions. The  [Fill] option will now only be available for
      prescriptions that have not been released.
 10.  Created a new security key, PSO TRICARE MGR, which will be required
      to access the new option, TRICARE BYPASS/OVERRIDE REPORT.
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 There are no NSR associated with this patch.
  
  
 This patch addresses the following Remedy Tickets:
 ----------------------------------------------------
  1. HD0000000423742  Error generated in Third Party Payer Rejects -
     Worklist, for a TRICARE prescription that had rejected.
  
  
 Overview of Remedy Tickets:
 ---------------------------
  1. HD0000000423742  Error generated in Third Party Payer Rejects -
     Worklist, for a TRICARE prescription that had rejected.
  
  Problem:
  --------
  VA Eastern Kansas HCS reported they Received a $STACK error when
  they tried to resubmit a claim for a rejected TRICARE prescription.
     $ZE= <UNDEFINED>SEND+22^PSOREJP3 *RFL
  
  8/23/2010 10:57:37 AM
  
      . Q:$$STATUS^PSOBPSUT(RX,RFL)'["PAYABLE"
  
     Last Global Ref: ^DD(52,100,0)
  
  
  Resolution:
  -----------
  Incorrect variable name "RFL" was replaced with "FILL" in
  SEND+22^PSOREJP3.
  
  
 Components Sent With Patch
 --------------------------
  
 The following is a list of files included in this patch:
                                      UP    SEND  DATA
                                      DATE  SEC.  COMES  SITE   RSLV
 FILE #  NAME                         DD    CODE  W/FILE DATA   PTS
 --------------------------------------------------------------------
 52      PRESCRIPTION                 YES   YES   NO
 52.87   PSO TRICARE AUDIT LOG        YES   YES   NO
  
 The PSO TRICARE AUDIT LOG file (#52.87) is a new file being exported with
 this patch.
  
 The following is a list of fields included in this patch:
  
 Field Name (Number)               File Name (Number)
 -------------------               ------------------
 COORDINATION OF BENEFITS (27)     PRESCRIPTION (52)
                                    subfile REJECT INFO (52.25)
  
  
 The following is a list of options included in this patch:
 Option Name                  Type               New/Modified
 -----------                  ----               ------------
 PSO EPHARMACY MENU           MENU               Modified
 PSO IGNORED REJECTS REPORT   RUN ROUTINE        Modified
 PSO NDC VALIDATE             RUN ROUTINE        Modified
 PSO PMP                      ACTION             Modified
 PSO PMP SITE PREFERENCES     ACTION             Modified
 PSO REJECTS VIEW/PROCESS     RUN ROUTINE        Modified
 PSO REJECTS WORKLIST         RUN ROUTINE        Modified
 PSO TRICARE OVERRIDE REPORT  RUN ROUTINE        New
 PSO ePHARM SITE PARAMETERS   ACTION             Modified
  
  
 The following is a list of security keys included in this patch:
  
 PSO TRICARE
 PSO TRICARE MGR
  
 The following is a list of protocols included in this patch:
  
 PSO REJECT DISPLAY IGNORE                      ATTACH TO MENU
 PSO REJECT TRICARE MENU                        USE AS LINK FOR MENU ITEMS
  
 Documentation Retrieval:
 ------------------------
 Sites may retrieve documentation in one of the following ways:
  
  1.  The preferred method is to FTP the files from
      download.vista.med.va.gov, which will transmit the files from the
      first available FTP server.
  
  2.  Sites may also elect to retrieve documentation directly from a
      specific server as follows:
  
      Albany          ftp.fo-albany.med.va.gov
      Hines           ftp.fo-hines.med.va.gov
      Salt Lake City  ftp.fo-slc.med.va.gov
  
  3.  Documentation can also be retrieved from the VistA Documentation
      Library (VDL) on the Internet at the following address,
      http://www.va.gov/vdl.
  
 The documentation distribution includes:
  
     FILE NAME                         DESCRIPTION
     ---------------------------------------------------------------------
     PSO_7_P358_RN.PDF                 Release Notes
     PSO_7_MAN_UM_R1110.PDF            Manager User Manual
     PSO_7_PHAR_UM_R1110.PDF           Pharmacist User Manual
     PSO_7_P358_TM_CP.PDF              Technical Manual Change Pages
     PSO_7_TM_R1110.PDF                Technical Manual
  
  
 Test Sites:
 -----------
 Louisville
 Loma Linda
 Tampa
 Heartland West
 Phoenix
  
  
 Pre/Post Installation Overview
 ------------------------------
 There are no Pre/Post Installation routines associated with this patch.
  
  
        ================INSTALLATION INSTRUCTIONS =================
  
 To avoid disruptions, these patches should be installed when users are
 not on the system and during non-peak hours.  Of particular concern would
 be the items below.
  
     1. Do not queue this installation to run at a later time because you
        will be prompted to enter information during the installation.
     2. Do not install the patch when ECME claims are being generated
        by the BPS Nightly Background Job option [BPS NIGHTLY
        BACKGROUND JOB].  Wait for this job to finish or complete the
        installation before this job starts.
     3. Do not install the patch when prescriptions are being
        transmitted to CMOP.  Wait for the CMOP transmission to finish
        or complete the installation before the transmission starts.
        Check with Pharmacy Service or your pharmacy Automated Data
        Processing Application Coordinator (ADPAC) to find out when
        CMOP transmissions occur.
     4. If installed during the normal workday, it is recommended that the
        following selection(s) in the OPTION (#19) file, and all of their
        descendants be disabled to prevent possible conflicts while running
        the KIDS Install. Other VISTA users will not be affected.
  
        ECME                                 [BPSMENU]
        Potential TRICARE Claims Report      [BPS COB RPT TRICARE CLAIMS]
        Process Secondary/TRICARE Rx         [BPS COB PROCESS SECOND
        to ECME                              TRICARE]
        Third Party Payer Rejects - Worklist [PSO REJECTS WORKLIST]
        Print from Suspense File             [PSO PNDLBL]
        Pull Early from Suspense             [PSO PNDRX]
        Patient Prescription Processing      [PSO LM BACKDOOR ORDERS]
  
  
 Install Time - Less than 5 minutes
  
  
 1.  OBTAIN PATCHES
     --------------
     Obtain the host file BPS_1_9_PSO_IB.KID, which contains the following
     three patch installs:
  
         BPS*1.0*9
         PSO*7.0*358
         IB*2.0*434
  
      Sites can retrieve VistA software from the following FTP addresses.
      The preferred method is to FTP the files from:
  
                     download.vista.med.va.gov
  
      This will transmit the files from the first available FTP server.
      Sites may also elect to retrieve software directly from a specific
      server as follows:
  
        Albany                  ftp.fo-albany.med.va.gov
        Hines                   ftp.fo-hines.med.va.gov
        Salt Lake City          ftp.fo-slc.med.va.gov
  
      The BPS_1_9_PSO_IB.KID host file is located in the anonymous.software
      directory.  Use ASCII Mode when downloading the file.
  
 2.  START UP KIDS
     -------------
     Start up the Kernel Installation and Distribution System Menu option
     [XPD MAIN]:
  
          Edits and Distribution ...
          Utilities ...
          Installation ...
  
     Select Kernel Installation & Distribution System Option: Installation
                                                              ---
          Load a Distribution
          Print Transport Global
          Compare Transport Global to Current System
          Verify Checksums in Transport Global
          Install Package(s)
          Restart Install of Package(s)
          Unload a Distribution
          Backup a Transport Global
  
     Select Installation Option:
  
 3.  LOAD TRANSPORT GLOBAL FOR MULTI-BUILD
     -------------------------------------
     From the Installation menu, select the Load a Distribution option.
  
     When prompted for "Enter a Host File:", enter the full directory path
     where you saved the host file BPS_1_9_PSO_IB.KID (e.g.,
     SYS$SYSDEVICE:[ANONYMOUS]BPS_1_9_PSO_IB.KID).
  
     When prompted for "OK to continue with Load? NO//", enter "YES."
  
     The following will display:
  
      Loading Distribution...
  
         BPS PSO IB BUNDLE 5.0
         BPS*1.0*9
         PSO*7.0*358
         IB*2.0*434
      Use INSTALL NAME: BPS PSO IB BUNDLE 5.0 to install this Distribution.
  
 4.  RUN OPTIONAL INSTALLATION OPTIONS FOR MULTI-BUILD
     -------------------------------------------------
     From the Installation menu, you may select to use the following
     options (when prompted for the INSTALL NAME, enter
     BPS PSO IB BUNDLE 5.0):
  
     a. Backup a Transport Global - This option will create a backup
        message of any routines exported with this patch.  It will not
        backup any other changes such as DD's or templates.
     b. Compare Transport Global to Current System - This option will
        allow you to view all changes that will be made when this patch
        is installed.  It compares all components of this patch
        (routines, DD's, templates, etc.).
     c. Verify Checksums in Transport Global - This option will allow
        you to ensure the integrity of the routines that are in the
        transport global.
  
 5.  INSTALL MULTI-BUILD
     -------------------
     This is the step to start the installation of this KIDS patch.  This
     will need to be run for the BPS PSO IB BUNDLE 5.0.
  
     a. Choose the Install Package(s) option to start the patch
        install.
     b. When prompted for the "Select INSTALL NAME:", enter BPS PSO IB
        BUNDLE 5.0.
     c. For the BPS*1*9 patch, enter the correct name when prompted
        "Enter the Coordinator for Mail Group 'BPS TRICARE':".
  
        Please contact your Medical Care Cost Recovery (MCCR) business
        department prior to installation to determine who will be the
        coordinator for this new mail group. This mail group will be
        used by the BPS Nightly Background Job. Its members will receive
        bulletins about electronic claims.
  
     d. When prompted "Want KIDS to Rebuild Menu Trees Upon Completion of
        Install? NO//"  enter YES unless your system does this in a
        nightly TaskMan process.
     e. When prompted "Want KIDS to INHIBIT LOGONs during the
        install? NO//"  enter NO.
     f. When prompted "Want to DISABLE Scheduled Options, Menu Options,
        and Protocols? NO//" enter YES only if installing this patch
        during the normal workday.
     g. If prompted "Enter options you wish to mark as 'Out of Order':"
        please enter the following options:
  
        ECME                                 [BPSMENU]
        Potential TRICARE Claims Report      [BPS COB RPT TRICARE CLAIMS]
        Process Secondary/TRICARE Rx         [BPS COB PROCESS SECOND
        to ECME                              TRICARE]
        Third Party Payer Rejects - Worklist [PSO REJECTS WORKLIST]
        Print from Suspense File             [PSO PNDLBL]
        Pull Early from Suspense             [PSO PNDRX]
        Patient Prescription Processing      [PSO LM BACKDOOR ORDERS]
  
     h. If prompted "Enter protocols you wish to mark as 'Out of Order':"
        please press <return>.
     i. If prompted "Delay Install (Minutes):  (0-60): 0//" please enter
        an appropriate number of minutes to delay the installation in
        order to give users enough time to exit the disabled options
        before the installation starts.
     j. When prompted "DEVICE: HOME//"  respond with the correct device.

Routine Information:
====================
The second line of each of these routines now looks like:
;;7.0;OUTPATIENT PHARMACY;**[Patch List]**;DEC 1997;Build 35

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSOBORP0
    Before:       n/a   After: B11739758  **358**
Routine Name: PSOBORP1
    Before:       n/a   After:B107834737  **358**
Routine Name: PSOBORP2
    Before:       n/a   After: B20686173  **358**
Routine Name: PSOBORP3
    Before:       n/a   After:B186304557  **358**
Routine Name: PSOBPSU1
    Before: B49118971   After: B53851823  **148,260,281,287,303,289,290,358**
Routine Name: PSOBPSU2
    Before: B47974509   After: B48423091  **260,287,289,341,290,358**
Routine Name: PSOBPSUT
    Before: B54217211   After: B54958775  **148,247,260,281,287,289,358**
Routine Name: PSOCAN4
    Before: B42375050   After: B43086462  **20,24,27,63,88,117,131,259,
                                           268,225,358**
Routine Name: PSOHLD
    Before: B49467898   After: B50785311  **1,16,21,24,27,32,55,82,114,
                                           130,166,148,268,281,298,358**
Routine Name: PSON52
    Before: B62786416   After: B64423774  **1,16,23,27,32,46,71,111,124,
                                           117,131,139,157,143,219,148,
                                           239,201,268,260,225,303,358**
Routine Name: PSOORED2
    Before: B71834106   After: B73436344  **2,51,46,78,102,114,117,133,
                                           159,148,247,260,281,289,276,
                                           358**
Routine Name: PSOORED7
    Before: B22904608   After: B23964642  **148,247,281,289,358**
Routine Name: PSOR52
    Before: B33266390   After: B34697297  **10,22,27,181,148,201,260,281,358**
Routine Name: PSOREJP1
    Before: B70021673   After: B82556492  **148,247,260,281,287,289,290,358**
Routine Name: PSOREJP2
    Before: B71497801   After: B86681161  **148,247,260,287,289,358**
Routine Name: PSOREJP3
    Before: B50535626   After: B79304493  **260,287,289,290,358**
Routine Name: PSOREJU1
    Before: B57825084   After: B72644745  **148,247,260,287,289,358**
Routine Name: PSOREJU2
    Before: B49121705   After: B49455422  **148,260,287,341,290,358**
Routine Name: PSOREJU3
    Before: B42508132   After: B68089605  **287,290,358**
Routine Name: PSOREJU4
    Before: B26048995   After: B31223921  **289,290,358**
Routine Name: PSOREJUT
    Before: B46867326   After: B48633596  **148,247,260,287,289,290,358**
Routine Name: PSORN52
    Before: B46208991   After: B47667744  **1,11,27,37,46,79,71,100,117,
                                           157,143,219,148,239,201,225,
                                           303,358**
Routine Name: PSORXL1
    Before: B50241379   After: B49207569  **36,46,148,260,274,287,289,358**
Routine Name: PSOSUPOE
    Before: B64269285   After: B65674762  **8,21,27,34,130,148,281,287,
                                           289,358**
Routine Name: PSOSUPRX
    Before: B46093260   After: B46405696  **8,36,130,185,148,287,358**
Routine Name: PSOTRI
    Before:       n/a   After: B15159690  **358**
Routine Name: PSOVER1
    Before: B56428439   After: B57808886  **32,46,90,131,202,207,148,243,
                                           268,281,324,358**
 
Routine list of preceding patches: 276, 290, 298, 324

=============================================================================
User Information:
Entered By  : FAWCETT,CYNTHIA               Date Entered  : MAY 28, 2010
Completed By: CONQUEST,KENNETH              Date Completed: DEC 15, 2010
Released By : VECE,VIRGINIA                 Date Released : DEC 16, 2010
=============================================================================


Packman Mail Message:
=====================

No routines included
