$TXT Created by BOWEN,MARY JANE at MNTVBB.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 04/30/09 at 08:55
=============================================================================
Run Date: JUN 10, 2009                     Designation: DVB*4*61
Package : DVB - HINQ                          Priority: Mandatory
Version : 4        SEQ #57                      Status: Released
                  Compliance Date: JUL 11, 2009
=============================================================================

Associated patches: (v)DVB*4*57    <<= must be installed BEFORE `DVB*4*61'

Subject: USERS RECEIVING ALERTS NOT REQUESTED / A&A ELIGIBILITY

Category: 
  - Routine

Description:
============

 This patch addresses the following 2 issues:
  
  1. Fix for HINQ responses showing incorrect requestor.
  2. Fix missing display of Aid & Attendance on screen 5 for option Update
     HINQs to the Patient file[DVB HUPLOAD]
  
  ASSOCIATED REMEDY
  =================
   1) HD0000000120157 - User's name showing on requests not requested 
         DUPLICATE:
        HD0000000130242 - Users receiving HINQ inquiry's back in
                          Mailman/Alerts in CPRS (Computerized Patient 
                          Record system)
   2) HD0000000157532 - A&A ELIGIBILITY
   
  ASSOCIATED NSR(s):
  ==================
  N/A
   
  TEST SITES:
  ===========
  Connecticut HCS
  Richmond, VA.
  Huntington, WV.
   
  REMEDY OVERVIEW:
  ================
   
   1) HD0000000120157 - User's name showing on requests not requested (DUP)
   
    Problem:
    --------
    Users occasionally receive HINQ responses showing them as the 
    requestor for HINQ requests they have not made.
    
    When HINQ requests are made, the users making the request are stored in
    REQUESTOR (#10) sub-file of the HINQ SUSPENSE (#395.5) file. The alert
    uses routine DVBHIQM which goes through this multiple looking for the
    requestor. If the user requesting the HINQ doesn't have the DVBHINQ
    key, they do not show as the requestor. The routine will find the next
    person in the multiple that has the key and list them as the requestor.
    
    Resolution:
    -----------
    There is a  need to have a key check for the messages, but the check
    was not in the right place in routine DVBHIQM and did not set
    up the variable used for the requestor information before the message
    was sent.
    DVBHIQM has been changed so the key check will not be used to get the
    name of the requestor but will be used to send responses to the 
    DVBHINQ mail group and requestors that have the DVBHINQ key.
  
   
    2) HD0000000157532 - A&A ELIGIBILITY
    Problem:
    --------
    The A&A paid is not displayed on screen 5 when processing a HINQ 
    through the option Update HINQs to the Patient file[DVB HUPLOAD]. It is
    only being displayed on a printed HINQ. This has caused the A&A
    Eligibility to be removed for several of our veterans as there was no
    indication that A&A was being paid.
   
    Resolution:
    -----------
    HINQ Option Update HINQs to the Patient file[DVB HUPLOAD] uses routine
    DVBHS5 for screen 5. This routine contains a variable DVBAAHB which
    should hold the A&A Eligibility of the patient. This variable isn't
    set when the code gets to the display for screen 5. Routine DVBHS5 has
    been changed to set the variable correctly so that when it calls
    DVBHQM2 for the display, DVBAAHB will have the correct variable for the
    routine to use.
    
   
    INSTALLATION INSTRUCTIONS:
    ==========================
   
    This patch may be run with users on the system.  Installation will take
    less than 5 minutes.
   
    1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
        the KIDS distribution included with this message.
   
    2.  From the Kernel Installation and Distribution System Menu, select
        the Installation menu.
   
    3.  From this menu, you may elect to use the following options
        (when prompted for INSTALL NAME, enter DVB*4.0*61):
        a.  Backup a Transport Global - This option will create a backup
            message of any routines exported with this patch. It will not
            backup any other changes such as DD's or templates.
        b.  Compare Transport Global to Current System  - this option will
            allow you to view all changes that will be made when the patch
            is installed.  It compares all components of the patch 
            (routines, DDs, templates, etc.).
        c.  Verify Checksums in Transport Global - this option will
            allow you to ensure the integrity of the routines that are in
            the transport global.
        d.  Print Transport Global - this option will allow you to view the
            components of the KIDS build.
   
    4. Use the Install Package(s) option and select the package DVB*4.0*61.
   
    5. When prompted ' Want KIDS to INHIBIT LOGONs during the install?
       NO//', press <Enter>.
   
    6. When prompted 'Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//', press <Enter>.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;4.0;HINQ;**[Patch List]**;03/25/92;Build 19

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: DVBHIQM
    Before: B24918606   After: B24816869  **49,57,61**
Routine Name: DVBHS5
    Before:  B9648917   After: B10403382  **12,11,20,49,61**
 
Routine list of preceding patches: 57

=============================================================================
User Information:
Entered By  : KEHOE,THOMAS C                Date Entered  : JUN 20, 2008
Completed By: DUCKWORTH,TIM                 Date Completed: MAY 14, 2009
Released By : FITCH,DONNA                   Date Released : JUN 10, 2009
=============================================================================


Packman Mail Message:
=====================

$END TXT
