$TXT Created by MOORE,JIM at DAYT42.FO-BAYPINES.MED.VA.GOV  (KIDS) on Monday, 05/10/10 at 10:16
=============================================================================
Run Date: JUL 15, 2010                     Designation: SPN*2*26
Package : SPN - SPINAL CORD DYSFUNCTION       Priority: Mandatory
Version : 2        SEQ #25                      Status: Released
                  Compliance Date: AUG 15, 2010
=============================================================================

Associated patches: (v)SPN*2*24    <<= must be installed BEFORE `SPN*2*26'
                    (v)XM*DBA*174  <<= must be installed BEFORE `SPN*2*26'

Subject: ADD UNIQUE IDENTIFIER TO OUTGOING HL7 FIM MESSAGE

Category: 
  - Routine
  - Enhancement (Mandatory)

Description:
============

 
 Associated Remedy Tickets
 =========================
 HD0000000354716
 HD0000000388162
  
  
 Test Sites
 ==========
 DALLAS
 PUGET SOUND
 TAMPA
 Spokane
 
 Enhancements
 ============
  
 1) There has been a long-existing issue with Spinal Cord Outcomes 
    data being overwritten in the Legacy database when Outcomes 
    records with multiple score types are transferred from VistA to
    Legacy on the same day. There was no unique identifier for these 
    records to be differentiated. This issue was recently realized when 
    data was missing during conversion tests at Puget Sound. This 
    patch will supply a unique identifier field as an OBX record as part 
    of the Outcomes HL7 messages that get sent to Legacy. This new 
    field will prevent these overwrites from occurring.
 
 2) The HL7 messages generated by the Spinal Cord Dysfunction package
    will be routed to a new domain, Q-FMZ.MED.VA.GOV.  This domain needs
    to be created prior to installing this patch, following instructions
    provided by patch XM*DBA*174 .
  
 3) The Spinal Cord Registry located in the Austin Automation Center
    will be refreshed.  All data found in the SCD (SPINAL CORD) REGISTRY
    file (#154) and the OUTCOMES file (#154.1) will be transmitted via
    HL7 messages using Mailman, following the instructions provided below
    in the post-installation procedure. The number of messages will vary
    from site to site, but could amount to as many as several thousand
    messages.  The site should decide when to schedule this job before
    installing the patch. The post-installation procedure can
    be queued to run at a later time. 
 
 
   
 Pre-Installation Instructions
 ===============================
   1. Insure that the new domain Q-FMZ.MED.VA.GOV has been created,
      following instructions provided by patch XM*DBA*174.
  
   2. Decide when to run the post-installation procedure that wil
      refresh the Spinal Cord Registry located in the Austin
      Automation Center. The number of messages generated won't
      be large by Austin's standards, but could amount to several
      thousand messages.  The job can be queued to run after the
      patch is installed at a time of your choosing. 
 
   3. Select a time to install the patch that users of the Spinal
      Cord Dysfunction software are unlikely to be on the system.
      The patch will take several minutes to install, and durring
      that time several of the Spinal Cord Dysfunction options
      will be disabled.
 
 
 Installation Instructions
 =========================
 
   1. Users ARE allowed to be on the system during the installation. 
      However, it is recommended that the patch be installed during
      non-peak time. It will take about a minute to install the
      patch, but you may queue the installation if you wish.
      
  
   2. You DO NOT need to stop TaskMan or the background filers.
  
   3. Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
      option will load the KIDS package onto your system.
  
   4.  This patch is now loaded into a transport global on your system.
       The next step is to use KIDS to install the Transport global.  On
       the KIDS menu, under the 'Installation' menu, use the following
       options:
  
           Verify Checksums in Transport Global
  
           Print Transport Global 
  
           Compare Transport Global to Current System 
  
           Backup a Transport Global
  
           Install Package(s) 
  
    
   5. Accept the defaults for the following install questions:  
 
    a. When prompted 'Want KIDS to Rebuild Menu Trees Upon 
      Completion of Install? YES//' answer NO
   
    b. When prompted 'Want KIDS to INHIBIT LOGONs during the 
       install?  NO//' answer NO 
  
    
  6. When prompted 'Want to DISABLE Scheduled Options, Menu 
     Options, and Protocols? NO//' answer YES
     
     These options should be disabled:
 
    REG    Registration and Health Care Information
           [SPNL INPUT/EDIT SCD REGISTRANT]
    IN     Inpatient Rehabilitation Outcomes [SPNL INPATIENT OUTCOMES]
    OUT    Outpatient Rehabilitation Outcomes [SPNL OUTPATIENT OUTCOMES]
    ANN    Annual Evaluation Outcomes [SPNL ANN EVAL OUTCOMES]
    CON    Continuum of Care Outcomes [SPNL CONT OF CARE OUTCOMES]
 
  7. The post-install routine POST^SPNP26 will run automatically.  It
     will edit the SCD-NAT-DATABASE mail group to: 
       a. Delete the remote member XXX@Q-SCD.MED.VA.GOV
       b. Add the remote member XXX@Q-FMZ.MED.VA.GOV 
  
  Note:  The installation will not delete any routine after it completes.
 
 Post-Installation Steps:
 ========================
 1) You should decide in advance when to queue the post-installation procedure.  
    It may generate as many as several thousand HL7 messages via Mailman. The 
    post-installation procedure is queued to run at a later time by entering
    at the M prompt:
 
 >D RESEED^SPNP26
 
  
  If the procedure is interrupted before completion it can be restarted. It
  keeps track of where it left off by recording its current position
  in the global ^XTMP("SPN*2.0*26 RESEEDING").  Upon completion, a Mailman
  message is generated to the 'G.TESTINGTESTING@PUGET-SOUND.VA.GOV'and
  'G.SPNL SCD COORDINATOR' mail groups.
  
 
 
 
 
 
 
 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;2.0;Spinal Cord Dysfunction;**[Patch List]**;01/02/97;Build 7

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: SPNHL2
    Before: B18092839   After: B21713902  **10,11,12,14,19,20,26**
Routine Name: SPNHL7
    Before:  B8407471   After: B11181819  **10,24,26**
Routine Name: SPNP26
    Before:       n/a   After: B16072798  **26**
 
Routine list of preceding patches: 20, 24

=============================================================================
User Information:
Entered By  : INGRAM,FLORENCE A             Date Entered  : NOV 05, 2009
Completed By: HA,THANH-HUONG HUU            Date Completed: JUN 21, 2010
Released By : COWNIE,KEVIN                  Date Released : JUL 15, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
