$TXT Created by WINN,TAMI at CHEY101.FO-BAYPINES.MED.VA.GOV  (KIDS) on Wednesday, 07/09/08 at 18:21
=============================================================================
Run Date: AUG 12, 2008                     Designation: XU*8*481
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #400                      Status: Released
                  Compliance Date: SEP 12, 2008
=============================================================================


Subject: NPI Phase III - Crosswalk Extract Modifications

Category: 
  - Routine
  - Other
  - Enhancement (Mandatory)

Description:
============

 This patch contains enhancements and modifications relating to the XUS NPI
 EXTRACT REPORT [XUS NPI EXTRACT] option which is already loaded at the
 sites.  The changes contained in this patch address the following:
   
 1. With the installation of this patch, an approved Chief Business Office
    (CBO) staff member (with a valid network user identification and 
    password), shall have the ability to remotely schedule the XUS NPI
    EXTRACT REPORT [XUS NPI EXTRACT] option to run at each selected site 
    on a chosen date or dates. This new functionality will replace the
    currently scheduled Task Manager task (which was set up by site
    Information Resource Management (IRM) staff with the installation of
    patch XU*8.0*453) which automatically runs the extract every three
    months.
    
 2. This patch addresses an issue found with sites that did not choose to
    install the PSO*7.0*273 patch.  Any such sites were receiving a
    <NOROUTINE> error when attempting to run the extract (See Remedy Ticket
    217164 below). A solution has been included which will prevent this 
    error from occurring.
    
 3. This patch also changes both the format of and the number of 
    verification messages that get sent when the XUS NPI EXTRACT REPORT
    option [XUS NPI EXTRACT] is run.  Currently, a verification email
    message is sent to each member of the "NPI EXTRACT VERIFICATION" mail
    group for each extract mail message that is created.  With the
    installation of this patch, only one verification message will be
    created and sent to each member of the "NPI EXTRACT VERIFICATION" mail
    group.
    
  
 This patch addresses the following New Service Request (NSR):
 -------------------------------------------------------------
 There is no NSR associated with this patch.
      
    
 This patch addresses the following Remedy Ticket(s):
 ----------------------------------------------------
 Remedy Ticket 217164 (NPI One-Time Queue Errored Out)
      
    
 Overview of Remedy Ticket(s):
 -----------------------------
 Remedy Ticket 217164 (NPI One-Time Queue Errored Out) - For sites that do 
 not have PSO*7.0*273 software installed, the XUS NPI EXTRACT REPORT [XUS
 NPI EXTRACT] option is erroring out with a <NOROUTINE> error.  A solution
 has been included in this patch which will prevent this error from
 occurring.
    
   
 Components Sent With Patch
 --------------------------
     
 PROTOCOLS:
 ----------
 XUS NPI EXTRACT INPUT                                       New
 XUS NPI EXTRACT RESPONSE                                    New
   
                               
 HL7 APPLICATION PARAMETER:
 --------------------------
 NPI FSC                                                     New
 NPI VISTA                                                   New
   
                                     
 HL LOGICAL LINKS:
 ----------------
 NPI OUT                                                     New
  
  
 Blood Bank Team Coordination
 ----------------------------
 Clearance: 06/10/2008
  
 EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch XU*8*481 contains 
 changes to a package referenced in VHA OI SEPG SOP 192-023 Review of 
 VISTA Patches for Effects on VISTA Blood Bank Software. This patch does 
 not alter or modify any VistA Blood Bank software design safeguards or 
 safety critical elements functions.
  
 RISK ANALYSIS: Changes made by patch XU*8*481 have no effect on Blood 
 Bank software functionality, therefore RISK is none.
  
  
 Test Sites:
 -----------
 BATTLE CREEK, MI
 HEARTLAND WEST, KS
 UPSTATE NEW YORK HCS, NY
  
  
 Documentation Retrieval:
 ========================
 Sites may retrieve documentation in one of the following ways:
  
 1.  The preferred method is to FTP the file from 
     download.vista.med.va.gov, which will transmit the file from the
     first available FTP server.
  
 2.  Sites may also elect to retrieve documentation directly from a 
     specific server as follows:
  
     Albany          ftp.fo-albany.med.va.gov
     Hines           ftp.fo-hines.med.va.gov
     Salt Lake City  ftp.fo-slc.med.va.gov
  
 The documentation distribution includes:
  
    FILE NAME                   DESCRIPTION
    ---------------------------------------------------------------------
    IP's VIE.xls                Spreadsheet containing production VAMC
                                VIE server Cluster IP addresses
  
 *This file should be downloaded in the Binary mode.
  
 3.  Documentation can also be retrieved from the VistA Documentation 
     Library (VDL) on the Internet at the following address,
     http://www.va.gov/vdl.
  
     
 ================INSTALLATION INSTRUCTIONS ================= 
   
 It is recommended that this patch be installed outside of normal working
 hours, however, if installed during the normal workday, other VistA users
 will not be affected.
   
 There are no options that need to be disabled for this patch.
 Install Time - less than 5 minutes.
   
  
 1.  LOAD TRANSPORT GLOBAL 
     ---------------------
     Choose the PackMan message containing this patch and invoke the 
     INSTALL/CHECK MESSAGE PackMan option.  
  
          Enter message action (in IN basket): Ignore// x  Xtract KIDS 
          Select PackMan function: INSTALL/CHECK MESSAGE 
  
 2.  START UP KIDS 
     -------------
     Start up the Kernel Installation and Distribution System Menu 
     [XPD MAIN]: 
  
          Edits and Distribution ...  
          Utilities ...  
          Installation ...  
  
     Select Kernel Installation & Distribution System Option: INStallation
                                                
          Load a Distribution 
          Print Transport Global 
          Compare Transport Global to Current System 
          Verify Checksums in Transport Global 
          Install Package(s) 
          Restart Install of Package(s) 
          Unload a Distribution 
          Backup a Transport Global 
   
     Select Installation Option: 
  
 3.  Select Installation Option: 
     ---------------------------
     NOTE:  The following are OPTIONAL - (When prompted for the INSTALL 
            NAME, enter XU*8.0*481): 
  
      a.  Backup a Transport Global - This option will create a backup 
          message of any routines exported with this patch. It will not 
          backup any other changes such as DD's or templates.  
      b.  Compare Transport Global to Current System - This option will 
          allow you to view all changes that will be made when this patch 
          is installed.  It compares all components of this patch 
          (routines, DD's, templates, etc.).  
      c.  Verify Checksums in Transport Global - This option will allow 
          you to ensure the integrity of the routines that are in the 
          transport global.  
   
 4.  Select Installation Option: Install Package(s) 
                                 ------------------
     **This is the step to start the installation of this KIDS patch: 
  
      a.   Choose the Install Package(s) option to start the patch 
           install.  
  
      b.   When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
           NO//',  answer NO.  
  
      c.   When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
           and Protocols? NO//',  answer NO.  
  
  
 ************** POST-INSTALLATION INSTRUCTIONS **************
 The XU8P481 Kernel post-install routine delivered with XU*8.0*481 will
 loop through the list of scheduled Task Manager tasks and delete the
 existing task which kicks off the XUS NPI EXTRACT REPORT [XUS NPI
 EXTRACT] option every quarter.  The post-install routine will also 
 kick off a one time run of the XUS NPI EXTRACT REPORT option [XUS NPI 
 EXTRACT].   When the post-install process is complete an email will be
 sent to the installer of the package confirming that the process has
 completed.  The XU8P481 Kernel post-install routine will be deleted upon
 completion.
  
 **There are two manual post-installation steps associated with this patch.
  
 1. Upon completing the installation steps above, the installer must edit 
    the new "NPI OUT" logical link TCP/IP address by using the Links Edit
    [HL EDIT LOGICAL LINKS] option under the HL7 Main Menu (see example
    below).  Obtain the address for the "IP for Cluster" (the far right
    column) listed in the VIE spreadsheet for your site (see Documentation
    Retrieval section for instructions on obtaining this document).  
  
    Example:
  
    Hl7 Main Menu
  
    Event monitoring menu ...
    Systems Link Monitor
    Filer and Link Management Options ...
    Message Management Options ...
    Interface Developer Options ...
    Site Parameter Edit
    HLO    HL7 (Optimized) MAIN MENU ...
  
    Select HL7 Main Menu Option: filer and Link Management Options
  
    SM     Systems Link Monitor
    FM     Monitor, Start, Stop Filers
    LM     TCP Link Manager Start/Stop
    SA     Stop All Messaging Background Processes
    RA     Restart/Start All Links and Filers
    DF     Default Filers Startup
    SL     Start/Stop Links
    PI     Ping (TCP Only)
    ED     Link Edit
    ER     Link Errors ...
  
    Select Filer and Link Management Options Option: ED Link Edit
  
    Select HL LOGICAL LINK NODE: NPI OUT
  
    HL7 LOGICAL LINK
    --------------------------------------------------------------------
  
                NODE: NPI OUT                        DESCRIPTION:
  
         INSTITUTION:
  
      MAILMAN DOMAIN:
  
           AUTOSTART:
  
          QUEUE SIZE: 10
  
            LLP TYPE: TCP (Additional screen will open)
  
          DNS DOMAIN:
  
                       HL7 LOGICAL LINK
    --------------------------------------------------------------------
    TCP/IP SERVICE TYPE: CLIENT 
    (SENDER)                                  
    TCP/IP ADDRESS: XX.XX.X.XX  <== INPUT THE "IP for Cluster" specific
    to your site.
    
 2. Once step one has been completed, the "NPI OUT" logical link should be
    enabled.  To turn on the logical link, use the Start/Stop Links [HL
    START] option, which is on the Filer and Link Management Options option
    [HL MENU FILER LINK MGT] submenu of the HL7 Main Menu [HL MAIN MENU]
    option.  When prompted for the HL LOGICAL LINK NODE, enter "NPI OUT"
    and that will enable the logical link.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;8.0;KERNEL;**[Patch List]**;Jul 10, 1995;Build 18

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: XU8P481
    Before:       n/a   After: B10492468  **481**
Routine Name: XUSNPIX1
    Before: B67529099   After: B76017094  **438,452,453,481**
Routine Name: XUSNPIX2
    Before: B96583173   After: B90700763  **438,452,453,481**
Routine Name: XUSNPIX3
    Before: B26144845   After: B20621795  **438,452,453,481**
Routine Name: XUSNPIX4
    Before: B58705689   After: B71596917  **438,452,453,481**
Routine Name: XUSNPIX5
    Before: B14587037   After: B15950901  **453,481**
Routine Name: XUSNPIXI
    Before:       n/a   After: B30394291  **481**
 
Routine list of preceding patches: 453

=============================================================================
User Information:
Entered By  : SCHRAM,JACK D                 Date Entered  : JAN 07, 2008
Completed By: SINGH,GURBIR                  Date Completed: AUG 05, 2008
Released By : TILLIS,LEWIS                  Date Released : AUG 12, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
