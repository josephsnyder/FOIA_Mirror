$TXT Created by FORT,WALLY at KRN.FO-OAKLAND.MED.VA.GOV  (KIDS) on Thursday, 10/14/10 at 13:41
=============================================================================
Run Date: NOV 23, 2010                     Designation: XU*8*546
Package : XU - KERNEL                         Priority: Mandatory
Version : 8       SEQ #442                      Status: Released
                  Compliance Date: DEC 24, 2010
=============================================================================

Associated patches: (v)XU*8*205    <<= must be installed BEFORE `XU*8*546'
                    (v)XU*8*524    <<= must be installed BEFORE `XU*8*546'

Subject: More Mixed OS device fixes.

Category: 
  - Routine
  - Data Dictionary

Description:
============

 Patch Tracking #: 52218839
 Test Sites: Minneapolis VAMC, St. Tucson VAMC, Palo Alto HCS
 Blood Bank Clearance: 06/16/2010
  
 HD 396424, 412135
 On a mixed OS system, when the user enters the name of an HFS path/file and 
 the output is queued. The task fails because the path/file was checked when 
 entered and it is fixed for the current system.
 The fix was to not check the path/file until run time.
  
 From an E-mail,
 The PRINT SIGN-ON LOG [XUSC LIST] option will print negative numbers 
 if there is not a sign-off time.
 Fix: Change the computed field ELAPSED TIME (MINUTES) (#99) to show "on line"
 if there is not a sign-off value.
  
 HD 404415, 405506
 The Windows HFS path check did not account for the server syntax
 of "\\server\folder\file".
 Fixed to allow this syntax.
  
 HD 406897,
 Two parts to this ticket,
 1. The device handler did not enforce the "FORCED QUEUING" flag if the 
 application did not pass in that it was setup to allow queuing (pass in 
 %ZIS containing a "Q").
                              *****
 NOTE: Class 3 routines that are not written to permit queuing will no
 longer output to devices where the QUEUING field is set to FORCED.  Sites
 that have completed the Linux upgrade checklist, should have already
 addressed this issue.  
                              *****
 2. There is no code to supply a SPOOL file name under Linux.
  
 Support for Device Hunt Groups has been removed.
 This is the DEVICE file (#3.5) fields *HUNT GROUP (#29) and HUNT GROUP 
 DEVICE (#30).
 This means that you must remove any HUNT GROUP devices before you install
 this patch. Use FileMan to find if you have any.
  
 VA FileMan 22.0
  
 Select OPTION: PRINT FILE ENTRIES  
  
 OUTPUT FROM WHAT FILE: DEVICE// 
 SORT BY: NAME// TYPE
      1   TYPE  
      2   TYPE-AHEAD  
 CHOOSE 1-2: 1  TYPE
 START WITH TYPE: FIRST// HUNT GROUP    USES INTERNAL CODE: HG
 GO TO TYPE: LAST// HUNT GROUP    USES INTERNAL CODE: HG
   WITHIN TYPE, SORT BY: 
 FIRST PRINT FIELD: .01  NAME
 THEN PRINT FIELD: HUNT GROUP DEVICE    (multiple)
   THEN PRINT HUNT GROUP DEVICE SUB-FIELD: .01  HUNT GROUP DEVICE
   THEN PRINT HUNT GROUP DEVICE SUB-FIELD: 
 THEN PRINT FIELD: 
 Heading (S/C): DEVICE LIST// 
 START AT PAGE: 1// 
 DEVICE:   SYSTEM    Right Margin: 80// 
  
 ...EXCUSE ME, HOLD ON...
  
 DEVICE LIST                                    SEP 29,2010  10:28    PAGE 1
 NAME                            HUNT GROUP DEVICE
 ----------------------------------------------------------------------------
  
         TYPE: HUNT GROUP
 TEST HUNT GROUP                 SDD6
                                 SDD5
 HGTEST2                         UNIT 3 PTR
                                 UNIT 2 PTR
                                 UNIT 1 PTR
  
 OS print queues make the need for hunt groups obsolete.
  
 =========================================================================
 Installation:
  
 >>>Do not allow users to log in to the system during installation.
 >>>TaskMan needs to be in a wait state.
  
   1.  Use the 'INSTALL/CHECK MESSAGE' option on the PackMan menu. This
       option will load the KIDS package onto your system.
  
   2.  The patch has now been loaded into a Transport global on your
       system. You now need to use KIDS to install the Transport global.
       On the KIDS menu, under the 'Installation' menu, use the following
       options:
  
          Verify Checksums in Transport Global
          Print Transport Global
          Compare Transport Global to Current System
          Backup a Transport Global
  
   3.  This patch can not be queued.
       Also place TaskMan in a wait state. (DO WAIT^ZTMKU)
       Inhibit users from login into the system. (If you install when a few
       users are on the system and the possibility of some CLOBER errors is
       acceptable, then users can stay on the system.)
       It updates most of the %ZIS routines.
  
   4.  Installation will take less than 5 minutes.
  
       *If the install reports that you have HUNT GROUP devices
       *please stop and resolve/remove them before continuing.
  
          Install Package(s)  'XU*8.0*546'
                               ==========
       Accept the following defaults.
  
       Want KIDS to INHIBIT LOGONs during the install? YES//
  
       Want to DISABLE Scheduled Options, Menu Options, and Protocols? NO//
  
  
   6.  Enable user's login.
       Remove TaskMan from the wait state. (DO RUN^ZTMKU)
  
 =========================================================================

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;8.0;KERNEL;**[Patch List]**;;Build 9

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: XU8P546
    Before:       n/a   After:  B4830511  **546**
Routine Name: ZIS
    Before: B21144380   After: B19582012  **18,23,69,112,199,191,275,363,
                                           440,499,524,546**
Routine Name: ZIS1
    Before: B26104414   After: B27515391  **18,49,69,104,112,199,391,440,
                                           499,518,546**
Routine Name: ZIS2
    Before: B20845932   After: B17503413  **69,104,112,118,136,241,440,546**
Routine Name: ZIS3
    Before: B14236085   After: B13326333  **18,36,69,104,391,440,499,546**
Routine Name: ZIS4ONT
    Before: B29959546   After: B30953938  **34,59,69,191,278,293,440,499,
                                           524,546**
Routine Name: ZIS5
    Before: B13408571   After: B14306275  **18,24,69,499,518,546**
Routine Name: ZIS6
    Before: B20359601   After: B20915436  **24,49,69,118,127,136,440,546**
Routine Name: ZIS7
    Before:  B4495992   After:  B4664721  **205,546**
Routine Name: ZISFONT
    Before: B10288750   After: B10375505  **34,191,271,385,499,524,546**
Routine Name: ZISHONT
    Before: B59753873   After: B60362647  **34,65,84,104,191,306,385,440,
                                           518,524,546**
 
Routine list of preceding patches: 205, 524

=============================================================================
User Information:
Entered By  : FORT,WALLY                    Date Entered  : APR 14, 2010
Completed By: SINGH,GURBIR                  Date Completed: NOV 22, 2010
Released By : TILLIS,LEWIS                  Date Released : NOV 23, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
