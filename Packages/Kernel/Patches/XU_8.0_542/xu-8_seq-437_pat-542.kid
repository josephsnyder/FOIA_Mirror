KIDS Distribution saved on Nov 03, 2010@09:48:03
XU 542
**KIDS**:XU*8.0*542^

**INSTALL NAME**
XU*8.0*542
"BLD",1280,0)
XU*8.0*542^KERNEL^0^3100517^y
"BLD",1280,4,0)
^9.64PA^^
"BLD",1280,6)
^437
"BLD",1280,6.3)
5
"BLD",1280,"KRN",0)
^9.67PA^9002226^21
"BLD",1280,"KRN",.4,0)
.4
"BLD",1280,"KRN",.401,0)
.401
"BLD",1280,"KRN",.402,0)
.402
"BLD",1280,"KRN",.403,0)
.403
"BLD",1280,"KRN",.403,"NM",0)
^9.68A^1^1
"BLD",1280,"KRN",.403,"NM",1,0)
XUEXISTING USER    FILE #200^200^0
"BLD",1280,"KRN",.403,"NM","B","XUEXISTING USER    FILE #200",1)

"BLD",1280,"KRN",.5,0)
.5
"BLD",1280,"KRN",.84,0)
.84
"BLD",1280,"KRN",3.6,0)
3.6
"BLD",1280,"KRN",3.8,0)
3.8
"BLD",1280,"KRN",9.2,0)
9.2
"BLD",1280,"KRN",9.8,0)
9.8
"BLD",1280,"KRN",9.8,"NM",0)
^9.68A^4^4
"BLD",1280,"KRN",9.8,"NM",1,0)
XUPROD^^0^B7428369
"BLD",1280,"KRN",9.8,"NM",2,0)
XUA4A7^^0^B9747863
"BLD",1280,"KRN",9.8,"NM",3,0)
XUDHGUI^^0^B6047826
"BLD",1280,"KRN",9.8,"NM",4,0)
XQ82^^0^B11169630
"BLD",1280,"KRN",9.8,"NM","B","XQ82",4)

"BLD",1280,"KRN",9.8,"NM","B","XUA4A7",2)

"BLD",1280,"KRN",9.8,"NM","B","XUDHGUI",3)

"BLD",1280,"KRN",9.8,"NM","B","XUPROD",1)

"BLD",1280,"KRN",19,0)
19
"BLD",1280,"KRN",19.1,0)
19.1
"BLD",1280,"KRN",101,0)
101
"BLD",1280,"KRN",409.61,0)
409.61
"BLD",1280,"KRN",771,0)
771
"BLD",1280,"KRN",779.2,0)
779.2
"BLD",1280,"KRN",870,0)
870
"BLD",1280,"KRN",8989.51,0)
8989.51
"BLD",1280,"KRN",8989.52,0)
8989.52
"BLD",1280,"KRN",8994,0)
8994
"BLD",1280,"KRN",9002226,0)
9002226
"BLD",1280,"KRN","B",.4,.4)

"BLD",1280,"KRN","B",.401,.401)

"BLD",1280,"KRN","B",.402,.402)

"BLD",1280,"KRN","B",.403,.403)

"BLD",1280,"KRN","B",.5,.5)

"BLD",1280,"KRN","B",.84,.84)

"BLD",1280,"KRN","B",3.6,3.6)

"BLD",1280,"KRN","B",3.8,3.8)

"BLD",1280,"KRN","B",9.2,9.2)

"BLD",1280,"KRN","B",9.8,9.8)

"BLD",1280,"KRN","B",19,19)

"BLD",1280,"KRN","B",19.1,19.1)

"BLD",1280,"KRN","B",101,101)

"BLD",1280,"KRN","B",409.61,409.61)

"BLD",1280,"KRN","B",771,771)

"BLD",1280,"KRN","B",779.2,779.2)

"BLD",1280,"KRN","B",870,870)

"BLD",1280,"KRN","B",8989.51,8989.51)

"BLD",1280,"KRN","B",8989.52,8989.52)

"BLD",1280,"KRN","B",8994,8994)

"BLD",1280,"KRN","B",9002226,9002226)

"BLD",1280,"QUES",0)
^9.62^^
"BLD",1280,"REQB",0)
^9.611^4^4
"BLD",1280,"REQB",1,0)
XU*8.0*49^0
"BLD",1280,"REQB",2,0)
XU*8.0*220^0
"BLD",1280,"REQB",3,0)
XU*8.0*353^0
"BLD",1280,"REQB",4,0)
XU*8.0*440^2
"BLD",1280,"REQB","B","XU*8.0*220",2)

"BLD",1280,"REQB","B","XU*8.0*353",3)

"BLD",1280,"REQB","B","XU*8.0*440",4)

"BLD",1280,"REQB","B","XU*8.0*49",1)

"KRN",.403,3,-1)
0^1
"KRN",.403,3,0)
XUEXISTING USER^^^^2920804^^^200^0^0^1
"KRN",.403,3,2)
1;33
"KRN",.403,3,11)
S XUNOTRIG=1 D CHKPTR^XLFNAME2,REQ^XUSER2()
"KRN",.403,3,12)
K XUNOTRIG,XUITNAME
"KRN",.403,3,40,0)
^.4031I^11^9
"KRN",.403,3,40,1,0)
1^^1,1^2^5
"KRN",.403,3,40,1,1)
Page 1
"KRN",.403,3,40,1,40,0)
^.4032PI^47^2
"KRN",.403,3,40,1,40,28,0)
XUEXISTING USER 1^2^2,1^e
"KRN",.403,3,40,1,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,2,0)
2^^1,1^3^1
"KRN",.403,3,40,2,1)
Page 2
"KRN",.403,3,40,2,15,0)
^^1^1^2941114^
"KRN",.403,3,40,2,15,1,0)
This is Page 2 of the edit existing user.
"KRN",.403,3,40,2,40,0)
^.4032PI^47^2
"KRN",.403,3,40,2,40,29,0)
XUEXISTING USER 2^2^2,1^e
"KRN",.403,3,40,2,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,3,0)
1.1^^11,9^^^1^17,66^^
"KRN",.403,3,40,3,1)
SECONDARY MENU OPTIONS Subpage
"KRN",.403,3,40,3,40,0)
^.4032PI^30^1
"KRN",.403,3,40,3,40,30,0)
XUEXISTING USER 3^1^2,3^e
"KRN",.403,3,40,4,0)
1.2^^8,16^^^1^13,59^^
"KRN",.403,3,40,4,1)
DIVISION Subpage
"KRN",.403,3,40,4,40,0)
^.4032PI^31^1
"KRN",.403,3,40,4,40,31,0)
XUEXISTING USER 4^1^2,3^e
"KRN",.403,3,40,5,0)
3^^1,1^4^2
"KRN",.403,3,40,5,1)
Page 3
"KRN",.403,3,40,5,40,0)
^.4032PI^63^3
"KRN",.403,3,40,5,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,5,40,50,0)
XUEXISTING USER 5^2^2,1^e
"KRN",.403,3,40,5,40,63,0)
XU-PERSON CLASS 2^3^12,1^e
"KRN",.403,3,40,5,40,63,2)
6^!IEN^n
"KRN",.403,3,40,8,0)
1.3^^8,12^^^1^17,65
"KRN",.403,3,40,8,1)
Page 1.3^
"KRN",.403,3,40,8,11)

"KRN",.403,3,40,8,12)
D:XLFNEW'=XLFNAME PUT^DDSVAL(200,XLFNDA,.01,XLFNEW,"","I") K XLFNDA,XLFNAME,XLFNEW
"KRN",.403,3,40,8,40,0)
^.4032IP^157^1
"KRN",.403,3,40,8,40,157,0)
XUEXISTING USER NAME COMPONENT^1^1,1^e
"KRN",.403,3,40,8,40,157,1)
10.1
"KRN",.403,3,40,9,0)
4^^1,1^5^3
"KRN",.403,3,40,9,1)
Page 4
"KRN",.403,3,40,9,40,0)
^.4032IP^172^3
"KRN",.403,3,40,9,40,47,0)
XUEXISTING USER 0^1^1,1^e
"KRN",.403,3,40,9,40,171,0)
XUEXISTING USER CPRS^2^2,1^e
"KRN",.403,3,40,9,40,172,0)
XUEXISTING USER CPRS TAB^3^8,1^e
"KRN",.403,3,40,9,40,172,2)
10^!IEN^n^^^
"KRN",.403,3,40,10,0)
5^^1,1^1^4
"KRN",.403,3,40,10,1)
Page 5
"KRN",.403,3,40,10,40,0)
^.4032IP^185^2
"KRN",.403,3,40,10,40,47,0)
XUEXISTING USER 0^1^1,1^d
"KRN",.403,3,40,10,40,185,0)
XUEXISTING USER TRAINEE^2^2,1^e
"KRN",.403,3,40,11,0)
6^^9,45^^^1^13,80
"KRN",.403,3,40,11,1)
Termination^11,2,1
"KRN",.403,3,40,11,40,0)
^.4032IP^190^1
"KRN",.403,3,40,11,40,190,0)
Termination^1^1,1^e
"KRN",.404,28,0)
XUEXISTING USER 1^200^^^
"KRN",.404,28,40,0)
^.4044I^21^19
"KRN",.404,28,40,1,0)
2^NAME...^3
"KRN",.404,28,40,1,1)
.01
"KRN",.404,28,40,1,2)
3,12^35^3,4^1
"KRN",.404,28,40,1,10)
S XLFNDA=DA,XLFNAME=X,DDSBR="GIVEN^^1.3"
"KRN",.404,28,40,1,11)
S XUITNAME=1 D:'$D(XLFCOMP) HLP^DDSUTL(" *** Press <RET> to edit the component parts of this name. ***") I $D(XLFCOMP) S XLFNDA=DA,XLFNAME=X,DDSBR="GIVEN^^1.3" K XLFCOMP
"KRN",.404,28,40,1,13)
S XLFNDA=DA,XLFNAME=X,DDSBR="GIVEN^^1.3",XLFNCHG=1
"KRN",.404,28,40,2,0)
4^TITLE^3^^F4
"KRN",.404,28,40,2,1)
8
"KRN",.404,28,40,2,2)
4,12^30^4,5
"KRN",.404,28,40,3,0)
3^INITIAL^3
"KRN",.404,28,40,3,1)
1
"KRN",.404,28,40,3,2)
3,65^5^3,56
"KRN",.404,28,40,4,0)
5^NICK NAME^3
"KRN",.404,28,40,4,1)
13
"KRN",.404,28,40,4,2)
4,65^10^4,54
"KRN",.404,28,40,5,0)
13^PRIMARY MENU OPTION^3^
"KRN",.404,28,40,5,1)
201
"KRN",.404,28,40,5,2)
10,33^30^10,12
"KRN",.404,28,40,6,0)
14^Select SECONDARY MENU OPTIONS^3
"KRN",.404,28,40,6,1)
203
"KRN",.404,28,40,6,2)
11,33^30^11,2
"KRN",.404,28,40,6,7)
^1.1
"KRN",.404,28,40,7,0)
15^Want to edit ACCESS CODE (Y/N)^3
"KRN",.404,28,40,7,1)
2.1
"KRN",.404,28,40,7,2)
12,33^3^12,1
"KRN",.404,28,40,8,0)
17^Want to edit VERIFY CODE (Y/N)^3
"KRN",.404,28,40,8,1)
11.1
"KRN",.404,28,40,8,2)
13,33^3^13,1
"KRN",.404,28,40,8,11)
I $L($$GET^DDSVAL(200,.DA,11,,"I")) D EN^DDIOL("For the user to sign-on they must have a Verify Code.")
"KRN",.404,28,40,9,0)
16^FILE MANAGER ACCESS CODE^3
"KRN",.404,28,40,9,1)
3
"KRN",.404,28,40,9,2)
12,65^15^12,39
"KRN",.404,28,40,12,0)
18^Select DIVISION^3
"KRN",.404,28,40,12,1)
16
"KRN",.404,28,40,12,2)
15,33^30^15,16
"KRN",.404,28,40,12,7)
^1.2
"KRN",.404,28,40,13,0)
19^SERVICE/SECTION^3^^
"KRN",.404,28,40,13,1)
29
"KRN",.404,28,40,13,2)
16,33^30^16,16
"KRN",.404,28,40,14,0)
9^MAIL CODE^3
"KRN",.404,28,40,14,1)
28
"KRN",.404,28,40,14,2)
6,65^10^6,54
"KRN",.404,28,40,15,0)
1^1^1^
"KRN",.404,28,40,15,2)
^^1,74
"KRN",.404,28,40,16,0)
6^SSN^3^^F1
"KRN",.404,28,40,16,1)
9
"KRN",.404,28,40,16,2)
5,12^9^5,7
"KRN",.404,28,40,17,0)
8^DEGREE^3^^F8
"KRN",.404,28,40,17,1)
10.6
"KRN",.404,28,40,17,2)
6,12^10^6,4
"KRN",.404,28,40,18,0)
10^DISUSER^3
"KRN",.404,28,40,18,1)
7
"KRN",.404,28,40,18,2)
7,12^3^7,3
"KRN",.404,28,40,19,0)
11^TERMINATION DATE^3
"KRN",.404,28,40,19,1)
9.2
"KRN",.404,28,40,19,2)
7,66^11^7,48
"KRN",.404,28,40,20,0)
12^Termination Reason^3
"KRN",.404,28,40,20,1)
9.4
"KRN",.404,28,40,20,2)
8,23^45^8,3
"KRN",.404,28,40,21,0)
7^DOB^3^^F2
"KRN",.404,28,40,21,1)
5
"KRN",.404,28,40,21,2)
5,65^11^5,60
"KRN",.404,29,0)
XUEXISTING USER 2^200^^^
"KRN",.404,29,40,0)
^.4044I^19^16
"KRN",.404,29,40,1,0)
3^TIMED READ (# OF SECONDS)^3
"KRN",.404,29,40,1,1)
200.1
"KRN",.404,29,40,1,2)
5,31^5^5,4
"KRN",.404,29,40,2,0)
4^MULTIPLE SIGN-ON^3
"KRN",.404,29,40,2,1)
200.04
"KRN",.404,29,40,2,2)
6,31^11^6,13
"KRN",.404,29,40,2,11)
D EN^DDIOL("If you select 'Only one IP' be sure to put a value into the MULTIPLE SIGN-ON LIMIT field so users can sign-on at least once.")
"KRN",.404,29,40,3,0)
7^AUTO MENU^3
"KRN",.404,29,40,3,1)
200.06
"KRN",.404,29,40,3,2)
7,60^20^7,49
"KRN",.404,29,40,4,0)
6^ASK DEVICE TYPE AT SIGN-ON^3
"KRN",.404,29,40,4,1)
200.05
"KRN",.404,29,40,4,2)
7,31^9^7,3
"KRN",.404,29,40,5,0)
9^TYPE-AHEAD^3
"KRN",.404,29,40,5,1)
200.09
"KRN",.404,29,40,5,2)
8,60^11^8,48
"KRN",.404,29,40,6,0)
8^PROHIBITED TIMES FOR SIGN-ON^3
"KRN",.404,29,40,6,1)
15
"KRN",.404,29,40,6,2)
8,31^9^8,1
"KRN",.404,29,40,7,0)
12^ALLOWED TO USE SPOOLER^3
"KRN",.404,29,40,7,1)
41
"KRN",.404,29,40,7,2)
12,31^3^12,7
"KRN",.404,29,40,8,0)
14^CAN MAKE INTO A MAIL MESSAGE^3
"KRN",.404,29,40,8,1)
41.2
"KRN",.404,29,40,8,2)
13,31^3^13,1
"KRN",.404,29,40,10,0)
15^FILE RANGE^3
"KRN",.404,29,40,10,1)
31.1
"KRN",.404,29,40,10,2)
15,31^30^15,19
"KRN",.404,29,40,12,0)
16^ALWAYS SHOW SECONDARIES^3
"KRN",.404,29,40,12,1)
200.11
"KRN",.404,29,40,12,2)
16,31^3^16,6
"KRN",.404,29,40,13,0)
1^2^1^
"KRN",.404,29,40,13,2)
^^1,74^1
"KRN",.404,29,40,14,0)
13^PAC^3
"KRN",.404,29,40,14,1)
14
"KRN",.404,29,40,14,2)
12,63^8^12,58
"KRN",.404,29,40,16,0)
10^AUTO SIGN-ON^3
"KRN",.404,29,40,16,1)
200.18
"KRN",.404,29,40,16,2)
9,60^3^9,46
"KRN",.404,29,40,17,0)
11^Preferred Editor^3
"KRN",.404,29,40,17,1)
31.3
"KRN",.404,29,40,17,2)
10,31^30^10,13
"KRN",.404,29,40,17,3)
SCREEN EDITOR
"KRN",.404,29,40,18,0)
5^MULTIPLE SIGN-ON LIMIT^3
"KRN",.404,29,40,18,1)
200.19
"KRN",.404,29,40,18,2)
6,70^3^6,46
"KRN",.404,29,40,19,0)
2^NETWORK USERNAME^3
"KRN",.404,29,40,19,1)
501.1
"KRN",.404,29,40,19,2)
4,22^15^4,4
"KRN",.404,30,0)
XUEXISTING USER 3^200.03
"KRN",.404,30,40,0)
^.4044I^3^3
"KRN",.404,30,40,1,0)
1^SECONDARY MENU OPTIONS^1^
"KRN",.404,30,40,1,2)
^^1,33^
"KRN",.404,30,40,2,0)
2^SECONDARY MENU OPTIONS^3
"KRN",.404,30,40,2,1)
.01
"KRN",.404,30,40,2,2)
3,25^30^3,1
"KRN",.404,30,40,3,0)
3^SYNONYM^3
"KRN",.404,30,40,3,1)
2
"KRN",.404,30,40,3,2)
4,25^4^4,16
"KRN",.404,31,0)
XUEXISTING USER 4^200.02
"KRN",.404,31,40,0)
^.4044I^3^3
"KRN",.404,31,40,1,0)
1^DIVISION^1^
"KRN",.404,31,40,1,2)
^^1,33^
"KRN",.404,31,40,2,0)
2^DIVISION^3
"KRN",.404,31,40,2,1)
.01
"KRN",.404,31,40,2,2)
3,11^30^3,1
"KRN",.404,31,40,3,0)
3^DEFAULT^3
"KRN",.404,31,40,3,1)
1
"KRN",.404,31,40,3,2)
4,11^3^4,2
"KRN",.404,47,0)
XUEXISTING USER 0^200^
"KRN",.404,47,40,0)
^.4044I^6^5
"KRN",.404,47,40,1,0)
2^NAME^3
"KRN",.404,47,40,1,1)
.01
"KRN",.404,47,40,1,2)
2,7^30^2,1
"KRN",.404,47,40,1,4)
^^^1
"KRN",.404,47,40,2,0)
1^Edit an Existing User^1^
"KRN",.404,47,40,2,2)
^^1,30^1
"KRN",.404,47,40,3,0)
3^Page^1^
"KRN",.404,47,40,3,2)
^^2,69
"KRN",.404,47,40,5,0)
4^of 5^1^
"KRN",.404,47,40,5,2)
^^2,76
"KRN",.404,47,40,6,0)
5^_______________________________________________________________________________^1
"KRN",.404,47,40,6,2)
^^3,1
"KRN",.404,50,0)
XUEXISTING USER 5^200
"KRN",.404,50,40,0)
^.4044I^10^10
"KRN",.404,50,40,1,0)
1^3^1^
"KRN",.404,50,40,1,2)
^^1,74^
"KRN",.404,50,40,2,0)
2^PROHIBITED TIMES FOR SIGN-ON^3
"KRN",.404,50,40,2,1)
15
"KRN",.404,50,40,2,2)
3,31^21^3,1
"KRN",.404,50,40,3,0)
3^PHONE^3
"KRN",.404,50,40,3,1)
.131
"KRN",.404,50,40,3,2)
5,19^20^5,12
"KRN",.404,50,40,4,0)
4^OFFICE PHONE^3
"KRN",.404,50,40,4,1)
.132
"KRN",.404,50,40,4,2)
5,56^20^5,42
"KRN",.404,50,40,5,0)
7^VOICE PAGER^3
"KRN",.404,50,40,5,1)
.137
"KRN",.404,50,40,5,2)
7,19^20^7,6
"KRN",.404,50,40,6,0)
6^FAX NUMBER^3
"KRN",.404,50,40,6,1)
.136
"KRN",.404,50,40,6,2)
6,56^20^6,44
"KRN",.404,50,40,7,0)
5^COMMERCIAL PHONE^3
"KRN",.404,50,40,7,1)
.135
"KRN",.404,50,40,7,2)
6,19^20^6,1
"KRN",.404,50,40,8,0)
8^DIGITAL PAGER^3
"KRN",.404,50,40,8,1)
.138
"KRN",.404,50,40,8,2)
7,56^20^7,41
"KRN",.404,50,40,9,0)
9^LANGUAGE^3
"KRN",.404,50,40,9,1)
200.07
"KRN",.404,50,40,9,2)
8,19^10^8,9
"KRN",.404,50,40,10,0)
10^Person Class                                         Effective     Expired^1
"KRN",.404,50,40,10,2)
^^10,2
"KRN",.404,63,0)
XU-PERSON CLASS 2^200.05
"KRN",.404,63,40,0)
^.4044I^3^3
"KRN",.404,63,40,1,0)
1^^3
"KRN",.404,63,40,1,1)
.01
"KRN",.404,63,40,1,2)
1,2^40
"KRN",.404,63,40,1,11)
D DDS1^XUA4A72
"KRN",.404,63,40,1,14)
S:$L(DDSOLD)&(X'=DDSOLD) DDSERROR=1
"KRN",.404,63,40,2,0)
2^^3
"KRN",.404,63,40,2,1)
2
"KRN",.404,63,40,2,2)
1,52^12
"KRN",.404,63,40,2,4)
^^^0
"KRN",.404,63,40,2,12)
D DDS2^XUA4A72
"KRN",.404,63,40,2,14)
D DDS3^XUA4A72(2)
"KRN",.404,63,40,3,0)
3^^3
"KRN",.404,63,40,3,1)
3
"KRN",.404,63,40,3,2)
1,67^12
"KRN",.404,63,40,3,14)
D DDS3^XUA4A72(3)
"KRN",.404,157,0)
XUEXISTING USER NAME COMPONENT^20
"KRN",.404,157,11)
I $G(XLFNCHG),$D(XLFNC) N FLD,NC,SUB M NC=XLFNC K XLFNC S (XLFNAME,XLFNEW)=NC K XLFNCHG S FLD=0 F SUB="FAMILY","GIVEN","MIDDLE","","SUFFIX" S FLD=FLD+1 D:SUB]"" PUT^DDSVAL(DIE,DA,FLD,$G(NC(SUB)),"","I")
"KRN",.404,157,40,0)
^.4044I^8^7
"KRN",.404,157,40,1,0)
1^NAME COMPONENTS^1
"KRN",.404,157,40,1,2)
^^2,38
"KRN",.404,157,40,2,0)
5^Family (Last)^3
"KRN",.404,157,40,2,1)
1
"KRN",.404,157,40,2,2)
6,18^35^6,3
"KRN",.404,157,40,3,0)
3^Given (First)^3^^GIVEN
"KRN",.404,157,40,3,1)
2
"KRN",.404,157,40,3,2)
4,18^25^4,3
"KRN",.404,157,40,4,0)
4^Middle^3
"KRN",.404,157,40,4,1)
3
"KRN",.404,157,40,4,2)
5,18^25^5,10
"KRN",.404,157,40,5,0)
2^Prefix^3
"KRN",.404,157,40,5,1)
4
"KRN",.404,157,40,5,2)
3,18^10^3,10
"KRN",.404,157,40,6,0)
6^Suffix^3
"KRN",.404,157,40,6,1)
5
"KRN",.404,157,40,6,2)
7,18^10^7,10
"KRN",.404,157,40,8,0)
8^^4
"KRN",.404,157,40,8,2)
9,3^35
"KRN",.404,157,40,8,30)
N NC S NC("FAMILY")={1},NC("GIVEN")={2},NC("MIDDLE")={3},NC("SUFFIX")={5},(XLFNEW,Y)=$$BLDNAME^XLFNAME8(.NC,35)
"KRN",.404,171,0)
XUEXISTING USER CPRS^200
"KRN",.404,171,40,0)
^.4044I^8^8
"KRN",.404,171,40,1,0)
1^4^1
"KRN",.404,171,40,1,2)
^^1,74
"KRN",.404,171,40,2,0)
2^RESTRICT PATIENT SELECTION^3
"KRN",.404,171,40,2,1)
101.01
"KRN",.404,171,40,2,2)
3,29^3^3,1
"KRN",.404,171,40,3,0)
3^OE/RR LIST^3
"KRN",.404,171,40,3,1)
101.02
"KRN",.404,171,40,3,2)
3,48^30^3,36
"KRN",.404,171,40,4,0)
4^CPRS TAB ACCESS:^1
"KRN",.404,171,40,4,2)
^^5,1
"KRN",.404,171,40,5,0)
5^Effective Date^1
"KRN",.404,171,40,5,2)
^^6,46
"KRN",.404,171,40,6,0)
6^Expiration Date^1
"KRN",.404,171,40,6,2)
^^6,62
"KRN",.404,171,40,7,0)
7^Name^1
"KRN",.404,171,40,7,2)
^^6,3
"KRN",.404,171,40,8,0)
8^Description^1
"KRN",.404,171,40,8,2)
^^6,9
"KRN",.404,172,0)
XUEXISTING USER CPRS TAB^200.010113
"KRN",.404,172,40,0)
^.4044I^4^4
"KRN",.404,172,40,1,0)
1^^3
"KRN",.404,172,40,1,1)
.01
"KRN",.404,172,40,1,2)
1,3^3
"KRN",.404,172,40,2,0)
2^^3
"KRN",.404,172,40,2,1)
.02
"KRN",.404,172,40,2,2)
1,47^11
"KRN",.404,172,40,3,0)
3^^3
"KRN",.404,172,40,3,1)
.03
"KRN",.404,172,40,3,2)
1,64^11
"KRN",.404,172,40,3,14)
I X]"" N XUD,XUM S XUD=$$GET^DDSVAL(DIE,.DA,.02,"","I") S XUM=$S(XUD="":"You must first enter an EFFECTIVE DATE.",X<XUD:"The EXPIRATION DATE must not precede the EFFECTIVE DATE.",1:"") I $G(XUM)]"" S DDSERROR=1 D HLP^DDSUTL(XUM)
"KRN",.404,172,40,4,0)
4^^4
"KRN",.404,172,40,4,2)
1,9^35
"KRN",.404,172,40,4,30)
=$S($D(^DD(101.13,1,0))#2:$$GET^DDSVAL(101.13,{.01;I},1),1:"")
"KRN",.404,185,0)
XUEXISTING USER TRAINEE^200
"KRN",.404,185,40,0)
^.4044I^17^16
"KRN",.404,185,40,1,0)
1^5^1
"KRN",.404,185,40,1,2)
^^1,74
"KRN",.404,185,40,2,0)
2^PERMANENT ADDRESS:^1
"KRN",.404,185,40,2,2)
^^3,1
"KRN",.404,185,40,3,0)
3^Street 1^3^^F3
"KRN",.404,185,40,3,1)
.111
"KRN",.404,185,40,3,2)
4,21^50^4,11
"KRN",.404,185,40,4,0)
4^Street 2^3^^F4
"KRN",.404,185,40,4,1)
.112
"KRN",.404,185,40,4,2)
5,21^50^5,11
"KRN",.404,185,40,5,0)
5^Street 3^3^^F5
"KRN",.404,185,40,5,1)
.113
"KRN",.404,185,40,5,2)
6,21^50^6,11
"KRN",.404,185,40,6,0)
6^City^3^^F6
"KRN",.404,185,40,6,1)
.114
"KRN",.404,185,40,6,2)
7,21^30^7,15
"KRN",.404,185,40,7,0)
7^State^3^^F7
"KRN",.404,185,40,7,1)
.115
"KRN",.404,185,40,7,2)
8,21^30^8,14
"KRN",.404,185,40,8,0)
8^Zip Code^3^^F8
"KRN",.404,185,40,8,1)
.116
"KRN",.404,185,40,8,2)
9,21^10^9,11
"KRN",.404,185,40,9,0)
9^E-Mail Address^3^^F9
"KRN",.404,185,40,9,1)
.151
"KRN",.404,185,40,9,2)
10,21^50^10,5
"KRN",.404,185,40,11,0)
16^Target Degree Lvl^3^^12.1F
"KRN",.404,185,40,11,1)
12.1
"KRN",.404,185,40,11,2)
16,20^59^16,1
"KRN",.404,185,40,11,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,185,40,12,0)
15^Program of Study^3^^12.2F
"KRN",.404,185,40,12,1)
12.2
"KRN",.404,185,40,12,2)
15,19^59^15,1
"KRN",.404,185,40,12,11)
D:X]"" HLP^DDSUTL($P($G(^USC(8932.2,+$G(X),0)),U))
"KRN",.404,185,40,12,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,185,40,13,0)
13^Last Training Month & Year^3^^12.3F
"KRN",.404,185,40,13,1)
12.3
"KRN",.404,185,40,13,2)
13,66^8^13,38
"KRN",.404,185,40,13,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,185,40,14,0)
11^VHA Training Fac.^3^^12.4F
"KRN",.404,185,40,14,1)
12.4
"KRN",.404,185,40,14,2)
12,20^27^12,1
"KRN",.404,185,40,14,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,185,40,15,0)
10^Is this person an active Trainee?^3^^12.6F
"KRN",.404,185,40,15,1)
12.6
"KRN",.404,185,40,15,2)
11,36^3^11,1
"KRN",.404,185,40,15,12)
D REQ^XUSER2("")
"KRN",.404,185,40,15,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,185,40,16,0)
14^Trainee Inactive (Date)^3^^12.7F
"KRN",.404,185,40,16,1)
12.7
"KRN",.404,185,40,16,2)
14,63^11^14,38
"KRN",.404,185,40,16,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,185,40,17,0)
12^Start Date of Training^3^^12.8F
"KRN",.404,185,40,17,1)
12.8
"KRN",.404,185,40,17,2)
13,25^11^13,1
"KRN",.404,185,40,17,14)
I X="" D EN^DDIOL($C(7)_"Deletions are not allowed!") S DDSERROR=1
"KRN",.404,190,0)
Termination^200
"KRN",.404,190,40,0)
^.4044I^2^2
"KRN",.404,190,40,1,0)
1^DELETE ALL MAIL ACCESS^3
"KRN",.404,190,40,1,1)
9.21
"KRN",.404,190,40,1,2)
2,27^3^2,3
"KRN",.404,190,40,1,3)
YES
"KRN",.404,190,40,2,0)
2^DELETE KEYS AT TERMINATION^3
"KRN",.404,190,40,2,1)
9.22
"KRN",.404,190,40,2,2)
4,31^3^4,3
"KRN",.404,190,40,2,3)
YES
"MBREQ")
0
"ORD",8,.403)
.403;8;;;EDEOUT^DIFROMSO(.403,DA,"",XPDA);FPRE^DIFROMSI(.403,"",XPDA);EPRE^DIFROMSI(.403,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.403,DA,"",XPDA);DEL^DIFROMSK(.403,"",%)
"ORD",8,.403,0)
FORM
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^3090706^3090706^6
"PKG",3,22,1,"PAH",1,0)
542^3100517
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
4
"RTN","XQ82")
0^4^B11169630^B10280365
"RTN","XQ82",1,0)
XQ82 ;SF-ISC.SEA/JLI - CLEAN OLD $JOB DATA OUT OF XUTL("XQ", & OTHERS ;02/03/10  15:12
"RTN","XQ82",2,0)
 ;;8.0;KERNEL;**59,67,157,258,312,353,542**;Jul 10, 1995;Build 5
"RTN","XQ82",3,0)
 ;Make sure that can run from a DCL script
"RTN","XQ82",4,0)
 N A,X,%DT,Y,J,K,DDATE,HDATA,HPID3,XQOS
"RTN","XQ82",5,0)
 S U="^",DT=$$DT^XLFDT
"RTN","XQ82",6,0)
 S HDATE=$H-7 ;Get seven days ago in $H days
"RTN","XQ82",7,0)
 S DDATE=$$HTFM^XLFDT(HDATE) ;Get seven days ago in FM format
"RTN","XQ82",8,0)
 S XQOS=^%ZOSF("OS"),HPID3=$E($$CNV^XLFUTL($J,16),1,3)
"RTN","XQ82",9,0)
 S HJOB=$J
"RTN","XQ82",10,0)
 ;Do work as a set of sub routines
"RTN","XQ82",11,0)
 D L0,L1,L2,L3,L4,L5,L6,L7
"RTN","XQ82",12,0)
EXIT ;
"RTN","XQ82",13,0)
 Q
"RTN","XQ82",14,0)
 ;We keep track of jobs by putting data in ^XUTL("XQ",$J).
"RTN","XQ82",15,0)
 ;Sign-on time is in ^($J,0) points to sign-on log.
"RTN","XQ82",16,0)
 ;Holds the Menu stack.
"RTN","XQ82",17,0)
 ;For any entry in user stack w/ date older than 7 days or w/o zero node
"RTN","XQ82",18,0)
 ;kill XUTL("XQ",n) and corresponding UTILITY(n) and TMP(n) nodes.
"RTN","XQ82",19,0)
L0 N %T
"RTN","XQ82",20,0)
 F J=0:0 S J=$O(^XUTL("XQ",J)) Q:J'>0  I $S('$D(^(J,0)):1,1:^(0)<DDATE) D
"RTN","XQ82",21,0)
 . I $G(^XUTL("XQ",J,"KEEPALIVE"))>HDATE Q  ;For long running jobs
"RTN","XQ82",22,0)
 . I $D(^XUTL("XQ",J,"ZTSKNUM")) L +^%ZTSCH("TASK",^XUTL("XQ",J,"ZTSKNUM")):0 Q:'$T  L -^%ZTSCH("TASK",^XUTL("XQ",J,"ZTSKNUM"))
"RTN","XQ82",23,0)
 . K ^XUTL("XQ",J),^UTILITY(J),^TMP(J)
"RTN","XQ82",24,0)
 . Q
"RTN","XQ82",25,0)
 Q:'$$CHECK  ;Check if we should skip pass 2.
"RTN","XQ82",26,0)
 ;Now to check again for DEAD jobs on local node
"RTN","XQ82",27,0)
 F J=0:0 S J=$O(^XUTL("XQ",J)) Q:J'>0  D
"RTN","XQ82",28,0)
 . I $$DEAD(J) K ^XUTL("XQ",J),^UTILITY(J),^TMP(J)
"RTN","XQ82",29,0)
 Q
"RTN","XQ82",30,0)
 ;
"RTN","XQ82",31,0)
 ;Loop thru UTILITY and look for nodes w/o corresponding XUTL("XQ",n)
"RTN","XQ82",32,0)
L1 S A="" F  S A=$O(^UTILITY(A)) Q:A=""  D
"RTN","XQ82",33,0)
 . I A>0,'$D(^XUTL("XQ",A)) K ^UTILITY(A) Q  ;UTILITY($J) w/o XUTL("XQ",$J) node.
"RTN","XQ82",34,0)
 . Q:A>0  Q:"^ROU^GLO^LRLTR^"[("^"_A_"^")
"RTN","XQ82",35,0)
 . F J=0:0 S J=$O(^UTILITY(A,J)) Q:J'>0  I '$D(^XUTL("XQ",J)) K ^UTILITY(A,J) ;Remove UTILITY(namespace,$J) w/o XUTL("XQ",$J)
"RTN","XQ82",36,0)
 . Q
"RTN","XQ82",37,0)
 Q
"RTN","XQ82",38,0)
 ;
"RTN","XQ82",39,0)
 ;Loop thru TMP and look for nodes w/o corresponding XUTL("XQ",n)
"RTN","XQ82",40,0)
L2 S A="" F  S A=$O(^TMP(A)) Q:A=""  D
"RTN","XQ82",41,0)
 . I A>0,'$D(^XUTL("XQ",A)) K ^TMP(A) Q  ;TMP($J) w/o XUTL("XQ",$J) node.
"RTN","XQ82",42,0)
 . Q:A>0  ;Q:"^ROU^GLO^LRLTR^"[("^"_A_"^")
"RTN","XQ82",43,0)
 . F J=0:0 S J=$O(^TMP(A,J)) Q:J'>0  I '$D(^XUTL("XQ",J)) K ^TMP(A,J) ;Remove TMP(namespace,$J) w/o XUTL("XQ",$J)
"RTN","XQ82",44,0)
 . Q
"RTN","XQ82",45,0)
 Q
"RTN","XQ82",46,0)
 ;
"RTN","XQ82",47,0)
L3 ;Now to cleanup the XTMP global w/ XTMP(namespace,0)<DT
"RTN","XQ82",48,0)
 S A="" F  S A=$O(^XTMP(A)) Q:A=""  S J=$G(^XTMP(A,0)) I J<DT K ^XTMP(A)
"RTN","XQ82",49,0)
 Q
"RTN","XQ82",50,0)
 ;
"RTN","XQ82",51,0)
L4 ;Now go thru and clean old ^XUSEC(0,"CUR",duz,sign-on) nodes.
"RTN","XQ82",52,0)
 D L51("CUR")
"RTN","XQ82",53,0)
 Q
"RTN","XQ82",54,0)
 ;
"RTN","XQ82",55,0)
L5 ;Now go through and clean old ^XUSEC(0,"AS*" nodes.
"RTN","XQ82",56,0)
 D L51("AS1"),L51("AS2")
"RTN","XQ82",57,0)
 Q
"RTN","XQ82",58,0)
 ;
"RTN","XQ82",59,0)
L6 ;Clean out old build nodes from ^XUTL
"RTN","XQ82",60,0)
 S K=""
"RTN","XQ82",61,0)
 F  S K=$O(^XUTL("XQO",K)) Q:K=""  D
"RTN","XQ82",62,0)
 . I $D(^XUTL("XQO",K,"^BUILD")),($P($H,",",2)-^("^BUILD")>1800)!(^("^BUILD")>$P($H,",",2)) K ^("^BUILD")
"RTN","XQ82",63,0)
 Q
"RTN","XQ82",64,0)
 ;
"RTN","XQ82",65,0)
L7 ;Kill ^DISV for TERMINATED or DISUSER Users.
"RTN","XQ82",66,0)
 N DA,USER
"RTN","XQ82",67,0)
 S DA="",U="^"
"RTN","XQ82",68,0)
 F  S DA=$O(^DISV(DA)) Q:DA=""  S USER=$$ACTIVE^XUSER(DA) I '(+USER) K ^DISV(DA)
"RTN","XQ82",69,0)
 Q
"RTN","XQ82",70,0)
 ;
"RTN","XQ82",71,0)
L51(NDX) ;Clean old Sign-on log entries from X-ref
"RTN","XQ82",72,0)
 N I,J,FDA,NOW,ERR,IEN
"RTN","XQ82",73,0)
 S I="",NOW=$$NOW^XLFDT
"RTN","XQ82",74,0)
 F  S I=$O(^XUSEC(0,NDX,I)) Q:I=""  F J=0:0 S J=$O(^XUSEC(0,NDX,I,J)) Q:(J'>0)  D
"RTN","XQ82",75,0)
 . ;Look at every entry in the X-ref, check for data record
"RTN","XQ82",76,0)
 . I $D(^XUSEC(0,J,0))[0 K ^XUSEC(0,NDX,I,J) Q  ;No data record.
"RTN","XQ82",77,0)
 . Q:J'<DDATE  ;Keep for now
"RTN","XQ82",78,0)
 . S FDA(3.081,J_",",3)=NOW,FDA(3.081,J_",",16)=1 D UPDATE^DIE("","FDA","IEN","ERR")
"RTN","XQ82",79,0)
 . K FDA,IEN,ERR
"RTN","XQ82",80,0)
 . Q
"RTN","XQ82",81,0)
 Q
"RTN","XQ82",82,0)
 ;
"RTN","XQ82",83,0)
DEAD(X1) ;Check if X1 is a PID and DEAD
"RTN","XQ82",84,0)
 ;Return 1 if should clean, 0 to skip
"RTN","XQ82",85,0)
 I X1\1'=X1 Q 0
"RTN","XQ82",86,0)
 I $E($$CNV^XLFUTL(X1,16),1,3)'=HPID3 Q 0
"RTN","XQ82",87,0)
 ; X1 is a PID on this node, is PID active?..
"RTN","XQ82",88,0)
 I $D(^$JOB(X1))=0 Q 1 ; Job is DEAD
"RTN","XQ82",89,0)
 Q 0
"RTN","XQ82",90,0)
 ;
"RTN","XQ82",91,0)
CHECK() ;Check that we have the right enviroment to do pass 2
"RTN","XQ82",92,0)
 ;Are we on VMS, is ^$JOB supported
"RTN","XQ82",93,0)
 I XQOS["GT.M" Q 0
"RTN","XQ82",94,0)
 I XQOS["DSM" Q 1
"RTN","XQ82",95,0)
 I XQOS["OpenM" X "I $ZV[""VMS""" Q $T
"RTN","XQ82",96,0)
 Q 0
"RTN","XQ82",97,0)
 ;
"RTN","XUA4A7")
0^2^B9747863^B9706649
"RTN","XUA4A7",1,0)
XUA4A7 ;ISCSF/RWF - K7, Give entrys into F6 a Provider key ;03/24/10  07:58
"RTN","XUA4A7",2,0)
 ;;8.0;KERNEL;**49,542**;Jul 10, 1995;Build 5
"RTN","XUA4A7",3,0)
 Q  ;don't enter from top.
"RTN","XUA4A7",4,0)
F6S ;Give provider the key.
"RTN","XUA4A7",5,0)
 N %,X1,X2 S %=$G(^DIC(6,DA,"I")) I %,%<DT Q  ;see if inactive
"RTN","XUA4A7",6,0)
 S X1=+$G(^DIC(16,X,"A3")) I 'X1 Q  ;get pointer
"RTN","XUA4A7",7,0)
 S %=$O(^DIC(19.1,"B","PROVIDER",0)) I '% Q  ;get index
"RTN","XUA4A7",8,0)
F6S7 ;Kernel 7
"RTN","XUA4A7",9,0)
 I $D(^VA(200,X1,51,%,0)) Q  ;allready have it.
"RTN","XUA4A7",10,0)
 N DD,DO,DIC,DS,DA
"RTN","XUA4A7",11,0)
 S DIC="^VA(200,DA(1),51,",DIC(0)="NML",(X,DINUM)=%,DA(1)=X1,DIC("P")=$P(^DD(200,51,0),"^",2) D FILE^DICN ;give it.
"RTN","XUA4A7",12,0)
 Q
"RTN","XUA4A7",13,0)
F6K Q  ;can't delete
"RTN","XUA4A7",14,0)
 ;
"RTN","XUA4A7",15,0)
F200S ;name change V6.5 only
"RTN","XUA4A7",16,0)
 N X1,X2 F X1=0:0 S X1=$O(^DIC(19.1,"D",DA,X1)) Q:X1'>0  S X2=$G(^DIC(19.1,X1,0)) I $P(X2,U,3)="l" S ^VA(200,"AK."_$P(X2,U),X,DA)=""
"RTN","XUA4A7",17,0)
 Q
"RTN","XUA4A7",18,0)
F200K ;name change V6.5 only
"RTN","XUA4A7",19,0)
 N X1,X2 S X1="AK." F X2=0:0 S X1=$O(^VA(200,X1)) Q:$E(X1,1,3)'="AK."  K ^VA(200,X1,X,DA)
"RTN","XUA4A7",20,0)
 Q
"RTN","XUA4A7",21,0)
 ;
"RTN","XUA4A7",22,0)
FE51S ;Key assignment from new person key subfile
"RTN","XUA4A7",23,0)
 N %,X1,X2 S %=$G(^DIC(19.1,X,0)) Q:$P(%,U,3)'="l"  ;see if lookup
"RTN","XUA4A7",24,0)
 S X1=$P($G(^VA(200,DA(1),0)),U) Q:X1=""  ;get name
"RTN","XUA4A7",25,0)
 S ^VA(200,"AK."_$P(%,U),X1,DA(1))="" ;set X-ref
"RTN","XUA4A7",26,0)
 Q:%'["PROVIDER"  Q:'$D(^DD(3,0))
"RTN","XUA4A7",27,0)
 S X2=+$P($G(^DIC(3,DA(1),0)),U,16) Q:$D(^DIC(6,X2,0))  ;see if in provider file
"RTN","XUA4A7",28,0)
 N DIC,DD,DO,DA,DS,X,Y S DIC="^DIC(6,",DIC(0)="L",DLAYGO=6,(X,DINUM)=X2 D FILE^DICN ;add
"RTN","XUA4A7",29,0)
 Q
"RTN","XUA4A7",30,0)
FE51K ;Key removal from new person key subfile
"RTN","XUA4A7",31,0)
 N %,X1 S %=$G(^DIC(19.1,X,0)) ;remove incase lookup flag has been removed.
"RTN","XUA4A7",32,0)
 S X1=$P($G(^VA(200,DA(1),0)),U)
"RTN","XUA4A7",33,0)
 K ^VA(200,"AK."_$P(%,U),X1,DA(1))
"RTN","XUA4A7",34,0)
 Q
"RTN","XUA4A7",35,0)
F19S ;holder subfile assignment V6.5 only
"RTN","XUA4A7",36,0)
 N %,X1,X2 S %=$G(^DIC(19.1,DA(1),0)) Q:$P(%,U,3)'="l"  ;see if lookup
"RTN","XUA4A7",37,0)
 S X1=$P($G(^VA(200,X,0)),U) Q:X1=""  ;get name
"RTN","XUA4A7",38,0)
 S ^VA(200,"AK."_$P(%,U),X1,X)="" ;set X-ref
"RTN","XUA4A7",39,0)
 Q:%'["PROVIDER"
"RTN","XUA4A7",40,0)
 S X2=+$P($G(^DIC(3,X,0)),U,16) Q:$D(^DIC(6,X2,0))  ;see if in provider file
"RTN","XUA4A7",41,0)
 N DIC,DD,DO,DA,DS,X,Y S X=X2,DIC="^DIC(6,",DIC(0)="L",DLAYGO=6,DINUM=X2 D FILE^DICN ;add
"RTN","XUA4A7",42,0)
 Q
"RTN","XUA4A7",43,0)
F19K ;holder subfile V6.5 only
"RTN","XUA4A7",44,0)
 S %=$G(^DIC(19.1,DA(1),0)) Q:$P(%,U,3)'="l"
"RTN","XUA4A7",45,0)
 S X1=$P($G(^DIC(3,X,0)),U)
"RTN","XUA4A7",46,0)
 K ^VA(200,"AK."_$P(%,U),X1,X)
"RTN","XUA4A7",47,0)
 Q
"RTN","XUA4A7",48,0)
LAYGO ;Called from ^DD(200,.01,"LAYGO",1,0)
"RTN","XUA4A7",49,0)
 Q:DIC(0)'["E"
"RTN","XUA4A7",50,0)
 W !,"Checking SOUNDEX for matches."
"RTN","XUA4A7",51,0)
 N DIR,DUOUT,DIRUT,Y,XU1,XU2,XU3 S XU3=X
"RTN","XUA4A7",52,0)
 S X=$$EN^XUA4A71(XU3),XU2=0
"RTN","XUA4A7",53,0)
 F XU1=0:0 S XU1=$O(^VA(200,"ASX",X,XU1)) Q:XU1'>0  D  Q:$D(DIRUT)
"RTN","XUA4A7",54,0)
 . W !?5,$P($G(^VA(200,XU1,0)),"^") S XU2=XU2+1
"RTN","XUA4A7",55,0)
 . I '(XU2#16) N X S DIR(0)="E" D ^DIR
"RTN","XUA4A7",56,0)
 . Q
"RTN","XUA4A7",57,0)
 I 'XU2 W !,"No matches found." S XU2=1 G L3
"RTN","XUA4A7",58,0)
L2 R !,"Do you still want to add this entry: NO//",XU2:DTIME S XU2=$TR($E(XU2_"N"),"NnYy^?","00110?")
"RTN","XUA4A7",59,0)
 I "01"'[XU2 W !?4,"Answer NO to stop the addition of ",XU3," as a new person.",!?4,"Answer YES to add, a '^' will be taken as a NO." G L2
"RTN","XUA4A7",60,0)
L3 I XU2
"RTN","XUA4A7",61,0)
 S X=XU3
"RTN","XUA4A7",62,0)
 Q
"RTN","XUDHGUI")
0^3^B6047826^B5912436
"RTN","XUDHGUI",1,0)
XUDHGUI ;ISF/STAFF,SLC/KCM - Device Utilites for Windows Calls ;03/24/10  10:34
"RTN","XUDHGUI",2,0)
 ;;8.0;KERNEL;**220,542**;Jul 10, 1995;Build 5
"RTN","XUDHGUI",3,0)
 ;
"RTN","XUDHGUI",4,0)
DEVICE(LST,FROM,DIR,RMAR) ; Return a subset of entries from the Device file
"RTN","XUDHGUI",5,0)
 ; Return up to 20 entries.
"RTN","XUDHGUI",6,0)
 ; .LST(n)=IEN^Name^DisplayName^Location^RMar^PLen
"RTN","XUDHGUI",7,0)
 ; FROM=text to $O from. Allow the DisplayName to be used.
"RTN","XUDHGUI",8,0)
 ; Allow "NAME*" to get count limit from that starting point.
"RTN","XUDHGUI",9,0)
 ; DIR=$O direction
"RTN","XUDHGUI",10,0)
 ; [RMAR]=min RM value or min-max value (Default to 80).
"RTN","XUDHGUI",11,0)
 N I,IEN,CNT,FR,SHOW,X,RML,RMH
"RTN","XUDHGUI",12,0)
 S I=0,CNT=$G(CNT,20),RMAR=$G(RMAR,80)
"RTN","XUDHGUI",13,0)
 I '$G(DIR) S DIR=1
"RTN","XUDHGUI",14,0)
 S RML=+RMAR,RMH=$S(RMAR["-":$P(RMAR,"-",2),1:99999)
"RTN","XUDHGUI",15,0)
 ;Allow the DisplayName to be used.
"RTN","XUDHGUI",16,0)
 I FROM["  <" S FROM=$RE($P($RE(FROM),"<  ",2))
"RTN","XUDHGUI",17,0)
 S FR=FROM I FROM["*" S FROM=$P(FROM,"*",1),FR=""
"RTN","XUDHGUI",18,0)
 F  Q:I'<CNT  S FROM=$O(^%ZIS(1,"B",FROM),DIR) Q:(FROM="")  D
"RTN","XUDHGUI",19,0)
 . I $L(FR),($E(FROM,1,$L(FR))'=FR) Q
"RTN","XUDHGUI",20,0)
 . S IEN=0 F  S IEN=$O(^%ZIS(1,"B",FROM,IEN)) Q:'IEN  D
"RTN","XUDHGUI",21,0)
 .. N X0,X1,X90,X91,X95,XTYPE,XSTYPE,XTIME,%A,%C,%H,%L,%X,EXT
"RTN","XUDHGUI",22,0)
 .. Q:'$D(^%ZIS(1,IEN,0))  S X0=^(0),X1=$G(^(1)),X90=$G(^(90)),X91=$G(^(91)),X95=$G(^(95)),XSTYPE=$G(^("SUBTYPE")),XTIME=$G(^("TIME")),XTYPE=$G(^("TYPE"))
"RTN","XUDHGUI",23,0)
 .. I $E($G(^%ZIS(2,+XSTYPE,0)))'="P" Q  ;Printers only
"RTN","XUDHGUI",24,0)
 .. S X=$P(XTYPE,"^") I X'="TRM",X'="HG",X'="HFS",X'="CHAN" Q  ;Device Types
"RTN","XUDHGUI",25,0)
 .. I ($P(X0,U,2)="0")!($P(X0,U,12)=2) Q  ;Queuing allowed
"RTN","XUDHGUI",26,0)
 .. S X=+X90 I X,(X'>DT) Q  ;Out of Service
"RTN","XUDHGUI",27,0)
 .. ;%C is current time, %L is lower limit, %H is upper limit
"RTN","XUDHGUI",28,0)
 .. S %A=$P(XTIME,"^") I $L(%A) S %C=$P($H,",",2),%C=%C\60#60+(%C\3600*100),%H=$P(%A,"-",2),%L=+%A I $S(%H'<%L:(%C'>%H&(%C'<%L)),1:(%C'<%L!(%C'>%H))) Q  ;Prohibited Times
"RTN","XUDHGUI",29,0)
 .. S EXT=0
"RTN","XUDHGUI",30,0)
 .. I X95]"" S %X=$G(DUZ(0)) I %X'="@" S EXT=1 F %A=1:1:$L(%X) I X95[$E(%X,%A) S EXT=0 Q
"RTN","XUDHGUI",31,0)
 .. Q:EXT  ;Security check
"RTN","XUDHGUI",32,0)
 .. I '+X91 S X91=$G(^%ZIS(2,+XSTYPE,1),"80^#^60^") ;Get default width & page length p542
"RTN","XUDHGUI",33,0)
 .. I RML>0,(+X91<RML)!(+X91>RMH) Q
"RTN","XUDHGUI",34,0)
 .. S SHOW=$P(X0,U) I SHOW'=FROM S SHOW=FROM_"  <"_SHOW_">"
"RTN","XUDHGUI",35,0)
 .. S I=I+1,LST(I)=IEN_U_$P(X0,U)_U_SHOW_U_$P(X1,U)_U_$P(X91,U)_U_$P(X91,U,3)
"RTN","XUDHGUI",36,0)
 Q
"RTN","XUPROD")
0^1^B7428369^B5031849
"RTN","XUPROD",1,0)
XUPROD ;ISF/RWF - Is this a PROD account. ;04/12/10  14:04
"RTN","XUPROD",2,0)
 ;;8.0;KERNEL;**284,440,542**;Jul 10, 1995;Build 5
"RTN","XUPROD",3,0)
 ;
"RTN","XUPROD",4,0)
 ;IA# 4440
"RTN","XUPROD",5,0)
PROD(FORCE) ;Return 1 if this is a production account
"RTN","XUPROD",6,0)
 ;A non-zero flag will force a real check
"RTN","XUPROD",7,0)
 ;This call just checks a flag in the KSP, Other code will compair
"RTN","XUPROD",8,0)
 ;with registered ID.
"RTN","XUPROD",9,0)
 N LC,SID
"RTN","XUPROD",10,0)
 S SID=$G(^XTV(8989.3,1,"SID"))
"RTN","XUPROD",11,0)
 I '$L($P(SID,"^",3))!($P(SID,"^",3)'=$G(DT))!$G(FORCE) D
"RTN","XUPROD",12,0)
 . D CHECK S SID=$G(^XTV(8989.3,1,"SID"))
"RTN","XUPROD",13,0)
 Q +$P(SID,"^",1)
"RTN","XUPROD",14,0)
 ;
"RTN","XUPROD",15,0)
CHECK ;Check if SID matched stored value, Set field 501
"RTN","XUPROD",16,0)
 N CSID,SSID,FDA
"RTN","XUPROD",17,0)
 L +^XTV(8989.3,1,"SID"):2
"RTN","XUPROD",18,0)
 S CSID=$$SID^%ZOSV,SSID=$P($G(^XTV(8989.3,1,"SID")),"^",2)
"RTN","XUPROD",19,0)
 S FDA(8989.3,"1,",501)=(CSID=SSID),FDA(8989.3,"1,",503)=$$DT^XLFDT
"RTN","XUPROD",20,0)
 D FILE^DIE("","FDA")
"RTN","XUPROD",21,0)
 L -^XTV(8989.3,1,"SID")
"RTN","XUPROD",22,0)
 Q
"RTN","XUPROD",23,0)
 ;
"RTN","XUPROD",24,0)
SSID(SID) ;Set the SID into KSP.
"RTN","XUPROD",25,0)
 N FDA
"RTN","XUPROD",26,0)
 S FDA(8989.3,"1,",502)=SID,FDA(8989.3,"1,",503)="@"
"RTN","XUPROD",27,0)
 L +^XTV(8989.3,1,"SID"):2
"RTN","XUPROD",28,0)
 D FILE^DIE("","FDA")
"RTN","XUPROD",29,0)
 L -^XTV(8989.3,1,"SID")
"RTN","XUPROD",30,0)
 Q
"RTN","XUPROD",31,0)
ASK ;Ask user if this is prod.
"RTN","XUPROD",32,0)
 N DIR,P,P2,T,Y S P=$$PROD
"RTN","XUPROD",33,0)
 S DIR(0)="YO",DIR("A")="Is this a Production Account",DIR("B")=$S(P:"Yes",1:"No")
"RTN","XUPROD",34,0)
 S DIR("A",1)=""
"RTN","XUPROD",35,0)
 S DIR("A",2)="This is currently a "_$S(P:"PRODUCTION",1:"TEST")_" account."
"RTN","XUPROD",36,0)
 S DIR("A",3)=" "
"RTN","XUPROD",37,0)
 S DIR("A",4)="Only answer YES if this is the full time Production Account."
"RTN","XUPROD",38,0)
 S DIR("A",5)="Answer No for all other accounts.",DIR("A",6)=""
"RTN","XUPROD",39,0)
 D ^DIR S T=Y Q:$D(DIRUT)
"RTN","XUPROD",40,0)
 K DIR
"RTN","XUPROD",41,0)
 S DIR(0)="YO"
"RTN","XUPROD",42,0)
 S DIR("A",1)="",DIR("A",2)="Are you sure you want to change from a "_$S(P:"PRODUCTION",1:"TEST")_" account"
"RTN","XUPROD",43,0)
 S DIR("A")="to a "_$S(Y:"PRODUCTION",1:"TEST")_" account",DIR("B")="No"
"RTN","XUPROD",44,0)
 D:P'=Y ^DIR
"RTN","XUPROD",45,0)
 I Y=1 D SSID($$SID^%ZOSV):T=1,SSID("2~TEST~999"):T=0
"RTN","XUPROD",46,0)
 S P2=$$PROD
"RTN","XUPROD",47,0)
 W !!,"This is "_$S(P=P2:"still",1:"now")_" a "_$S(P2:"PRODUCTION",1:"TEST")_" account.",!
"RTN","XUPROD",48,0)
 Q
"RTN","XUPROD",49,0)
 ;
"RTN","XUPROD",50,0)
EDIT ;Edit Logical - Physical fields
"RTN","XUPROD",51,0)
 N DIE,DA,DR
"RTN","XUPROD",52,0)
 L +^XTV(8989.3,1,"SID"):$G(DILOCKTM,5) E  W !,"Busy, Please try again later.",! Q  ;p542
"RTN","XUPROD",53,0)
 W !!,"This is only valid in a Cache v5.2 client/server configuration."
"RTN","XUPROD",54,0)
 W !,"This lets you edit the fields that support the"
"RTN","XUPROD",55,0)
 W !,"LOGICAL to PHYSICAL translation for the System ID.",!!
"RTN","XUPROD",56,0)
 S DA=1,DIE="^XTV(8989.3,",DR="504;505" D ^DIE
"RTN","XUPROD",57,0)
 L -^XTV(8989.3,1,"SID")
"RTN","XUPROD",58,0)
 Q
"VER")
8.0^22.0
**END**
**END**
