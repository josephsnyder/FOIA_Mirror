Released XU*8*488 SEQ #392
Extracted from mail message
**KIDS**:XU*8.0*488^

**INSTALL NAME**
XU*8.0*488
"BLD",1063,0)
XU*8.0*488^KERNEL^0^3080318^y
"BLD",1063,1,0)
^^2^2^3080206^^^^
"BLD",1063,1,1,0)
Please see the patch description on FORUM, in the National Patch Module.
"BLD",1063,1,2,0)

"BLD",1063,4,0)
^9.64PA^^0
"BLD",1063,6)
2^
"BLD",1063,6.3)
6
"BLD",1063,"KRN",0)
^9.67PA^779.2^20
"BLD",1063,"KRN",.4,0)
.4
"BLD",1063,"KRN",.401,0)
.401
"BLD",1063,"KRN",.402,0)
.402
"BLD",1063,"KRN",.403,0)
.403
"BLD",1063,"KRN",.5,0)
.5
"BLD",1063,"KRN",.84,0)
.84
"BLD",1063,"KRN",3.6,0)
3.6
"BLD",1063,"KRN",3.8,0)
3.8
"BLD",1063,"KRN",9.2,0)
9.2
"BLD",1063,"KRN",9.8,0)
9.8
"BLD",1063,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",1063,"KRN",9.8,"NM",1,0)
XPDDP^^0^B68880073
"BLD",1063,"KRN",9.8,"NM","B","XPDDP",1)

"BLD",1063,"KRN",19,0)
19
"BLD",1063,"KRN",19.1,0)
19.1
"BLD",1063,"KRN",101,0)
101
"BLD",1063,"KRN",409.61,0)
409.61
"BLD",1063,"KRN",771,0)
771
"BLD",1063,"KRN",779.2,0)
779.2
"BLD",1063,"KRN",870,0)
870
"BLD",1063,"KRN",8989.51,0)
8989.51
"BLD",1063,"KRN",8989.52,0)
8989.52
"BLD",1063,"KRN",8994,0)
8994
"BLD",1063,"KRN","B",.4,.4)

"BLD",1063,"KRN","B",.401,.401)

"BLD",1063,"KRN","B",.402,.402)

"BLD",1063,"KRN","B",.403,.403)

"BLD",1063,"KRN","B",.5,.5)

"BLD",1063,"KRN","B",.84,.84)

"BLD",1063,"KRN","B",3.6,3.6)

"BLD",1063,"KRN","B",3.8,3.8)

"BLD",1063,"KRN","B",9.2,9.2)

"BLD",1063,"KRN","B",9.8,9.8)

"BLD",1063,"KRN","B",19,19)

"BLD",1063,"KRN","B",19.1,19.1)

"BLD",1063,"KRN","B",101,101)

"BLD",1063,"KRN","B",409.61,409.61)

"BLD",1063,"KRN","B",771,771)

"BLD",1063,"KRN","B",779.2,779.2)

"BLD",1063,"KRN","B",870,870)

"BLD",1063,"KRN","B",8989.51,8989.51)

"BLD",1063,"KRN","B",8989.52,8989.52)

"BLD",1063,"KRN","B",8994,8994)

"BLD",1063,"QUES",0)
^9.62^^
"BLD",1063,"REQB",0)
^9.611^1^1
"BLD",1063,"REQB",1,0)
XU*8.0*463^1
"BLD",1063,"REQB","B","XU*8.0*463",1)

"MBREQ")
0
"PKG",3,-1)
1^1
"PKG",3,0)
KERNEL^XU^SIGN-ON, SECURITY, MENU DRIVER, DEVICES, TASKMAN^
"PKG",3,20,0)
^9.402P^^0
"PKG",3,22,0)
^9.49I^1^1
"PKG",3,22,1,0)
8.0^3051215^2970507^.5
"PKG",3,22,1,"PAH",1,0)
488^3080318^71
"PKG",3,22,1,"PAH",1,1,0)
^^2^2^3080318
"PKG",3,22,1,"PAH",1,1,1,0)
Please see the patch description on FORUM, in the National Patch Module.
"PKG",3,22,1,"PAH",1,1,2,0)

"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","XPDDP")
0^1^B68880073^B44331291
"RTN","XPDDP",1,0)
XPDDP ;SFISC/RSD - Display a package ;03/18/2008
"RTN","XPDDP",2,0)
 ;;8.0;KERNEL;**21,28,44,68,100,108,229,304,346,463,488**;Jul 10, 1995;Build 6
"RTN","XPDDP",3,0)
 ; Per VHA Directive 2004-038, this routine should not be modified.
"RTN","XPDDP",4,0)
 ; Options: XPD PRINT BUILD calls EN1
"RTN","XPDDP",5,0)
 ;          XPD PRINT INSTALL calls EN2
"RTN","XPDDP",6,0)
EN1 ; Print from Build file
"RTN","XPDDP",7,0)
 N DIC,D0,XPD,XPDT,XPDST,Y
"RTN","XPDDP",8,0)
 S XPDST=$$LOOK^XPDB1 Q:XPDST<0
"RTN","XPDDP",9,0)
 S XPD("XPDT(")=""
"RTN","XPDDP",10,0)
 D EN^XUTMDEVQ("LST1^XPDDP","Build File Print",.XPD)
"RTN","XPDDP",11,0)
 Q
"RTN","XPDDP",12,0)
EN2 ; Print from Distribution
"RTN","XPDDP",13,0)
 N D0,DIC,POP,XPD,XPDA,XPDNM,XPDT,XPDST,Y,Z,%ZIS
"RTN","XPDDP",14,0)
 S XPDST=$$LOOK^XPDI1("I $D(^XTMP(""XPDI"",Y))",1)
"RTN","XPDDP",15,0)
 S D0=$O(^XTMP("XPDI",XPDST,"BLD",0)) Q:'D0
"RTN","XPDDP",16,0)
 S XPD("XPDT(")=""
"RTN","XPDDP",17,0)
 D EN^XUTMDEVQ("LST2^XPDDP","Transport Global Print",.XPD)
"RTN","XPDDP",18,0)
 Q
"RTN","XPDDP",19,0)
LST1 ; Print from Build file
"RTN","XPDDP",20,0)
 K DIRUT N XPDIT,XPDCNT S (XPDIT,XPDCNT)=0
"RTN","XPDDP",21,0)
 F  S XPDIT=$O(XPDT(XPDIT)) Q:$D(DIRUT)!(XPDIT'>0)  D  Q:$D(DIRUT)
"RTN","XPDDP",22,0)
 . I XPDCNT Q:'$$CONT
"RTN","XPDDP",23,0)
 . S XPDCNT=XPDCNT+1
"RTN","XPDDP",24,0)
 . S D0=+XPDT(XPDIT) D PNT("XPD(9.6,D0)")
"RTN","XPDDP",25,0)
 D WAIT
"RTN","XPDDP",26,0)
 Q
"RTN","XPDDP",27,0)
LST2 ; Print from XPDT array
"RTN","XPDDP",28,0)
 K DIRUT N XPDIT,XPDCNT S (XPDIT,XPDCNT)=0
"RTN","XPDDP",29,0)
 F  S XPDIT=$O(XPDT(XPDIT)) Q:$D(DIRUT)!(XPDIT'>0)  D  Q:$D(DIRUT)
"RTN","XPDDP",30,0)
 . I XPDCNT Q:'$$CONT
"RTN","XPDDP",31,0)
 . S XPDCNT=XPDCNT+1
"RTN","XPDDP",32,0)
 . S XPDA=+XPDT(XPDIT),D0=$O(^XTMP("XPDI",XPDA,"BLD",0)) D PNT("XTMP(""XPDI"",XPDA,""BLD"",D0)")
"RTN","XPDDP",33,0)
 D WAIT
"RTN","XPDDP",34,0)
 Q
"RTN","XPDDP",35,0)
WAIT ; Pause on last page or not? It depends on whether there's enough room
"RTN","XPDDP",36,0)
 ; left on the page to display the KIDS menu.
"RTN","XPDDP",37,0)
 Q:$E($G(IOST),1,2)'="C-"
"RTN","XPDDP",38,0)
 Q:$D(DIRUT)
"RTN","XPDDP",39,0)
 ; DUZ("AUTO")=1 means show menu option choices
"RTN","XPDDP",40,0)
 I IOSL-$Y<$S($G(DUZ("AUTO")):14,1:3) D WAIT^XMXUTIL
"RTN","XPDDP",41,0)
 Q
"RTN","XPDDP",42,0)
PNT(XPDGR) ; Print a package, XPDGR=global root
"RTN","XPDDP",43,0)
 ;XPDFL=0 - Build   - ^XPD(9.7 global root
"RTN","XPDDP",44,0)
 ;      1 - Install - ^XTMP global root
"RTN","XPDDP",45,0)
 ;      2 - Packman - ^TMP($J, global root
"RTN","XPDDP",46,0)
 N I,J,K,X,XPD,XPDDT,XPDI,XPD0,XPDFL,XPDPG,XPDUL,XPDTYPE,XPDTRACK,XPDTXT
"RTN","XPDDP",47,0)
 Q:$G(XPDGR)=""  S XPDGR="^"_XPDGR
"RTN","XPDDP",48,0)
 Q:'$D(@XPDGR@(0))
"RTN","XPDDP",49,0)
 D ID                     ; Package Identification
"RTN","XPDDP",50,0)
 D DESCR Q:$D(DIRUT)      ; Description
"RTN","XPDDP",51,0)
 I XPDTYPE=1 D MULT Q     ; Multi-Package
"RTN","XPDDP",52,0)
 D PREPOST Q:$D(DIRUT)    ; Environment check & Pre/Post Routines
"RTN","XPDDP",53,0)
 I XPDTYPE=2 D GLOBAL Q   ; Global Package
"RTN","XPDDP",54,0)
 D FILES Q:$D(DIRUT)      ; Files/DDs
"RTN","XPDDP",55,0)
 D COMP Q:$D(DIRUT)       ; Build Components
"RTN","XPDDP",56,0)
 Q:XPDFL=2  ; Packman message, called from XMP2 - Summarize
"RTN","XPDDP",57,0)
 D QUESTS Q:$D(DIRUT)     ; Install Questions
"RTN","XPDDP",58,0)
 D ALFABETA Q:$D(DIRUT)   ; Alpha/Beta Testing
"RTN","XPDDP",59,0)
 D NAMESP Q:$D(DIRUT)     ; Include/Exclude Namespaces
"RTN","XPDDP",60,0)
 D REQDBLD Q:$D(DIRUT)    ; Required Builds
"RTN","XPDDP",61,0)
 Q
"RTN","XPDDP",62,0)
ID ; Identify the package
"RTN","XPDDP",63,0)
 S XPD0=^(0),XPDPG=1,XPDFL=$S($E(XPDGR,1,5)="^TMP(":2,1:$E(XPDGR,1,5)="^XTMP"),$P(XPDUL,"-",IOM)="",XPDDT=$$HTE^XLFDT($H,"1PM"),XPDTYPE=+$P(XPD0,U,3),XPDTRACK=$P(XPD0,U,5)
"RTN","XPDDP",64,0)
 W:$E(IOST,1,2)="C-" @IOF D HDR W !,XPDUL
"RTN","XPDDP",65,0)
 W !,"TYPE: ",$$EXTERNAL^DILFD(9.6,2,"",XPDTYPE)
"RTN","XPDDP",66,0)
 W ?51,"TRACK NATIONALLY: ",$$EXTERNAL^DILFD(9.6,5,"",XPDTRACK)
"RTN","XPDDP",67,0)
 W !,"NATIONAL PACKAGE: ",$P($G(^DIC(9.4,+$P(XPD0,U,2),0),$P(XPD0,U,2)),U)
"RTN","XPDDP",68,0)
 W ?49,"ALPHA/BETA TESTING: ",$S($P($G(@XPDGR@("ABPKG")),U)="y":"YES",1:"NO")
"RTN","XPDDP",69,0)
 Q
"RTN","XPDDP",70,0)
DESCR ; Show patch description
"RTN","XPDDP",71,0)
 W !!,"DESCRIPTION:"
"RTN","XPDDP",72,0)
 S XPDI=0
"RTN","XPDDP",73,0)
 F  S XPDI=$O(@XPDGR@(1,XPDI)) Q:'XPDI  S XPDTXT=$G(^(XPDI,0)) D  Q:$D(DIRUT)
"RTN","XPDDP",74,0)
 . I $L(XPDTXT)'<IOM,$E(XPDTXT,$L(XPDTXT))=" " F  S XPDTXT=$E(XPDTXT,1,$L(XPDTXT)-1) Q:$E(XPDTXT,$L(XPDTXT))'=" "
"RTN","XPDDP",75,0)
 . F  D  Q:$L(XPDTXT)<IOM!$D(DIRUT)!(IOM<2)  S XPDTXT=$E(XPDTXT,IOM,999)
"RTN","XPDDP",76,0)
 . . Q:$$CHK(2)
"RTN","XPDDP",77,0)
 . . W !,$S(IOM>1:$E(XPDTXT,1,IOM-1),1:XPDTXT)
"RTN","XPDDP",78,0)
 Q
"RTN","XPDDP",79,0)
PREPOST ; Environment check and pre/post routines
"RTN","XPDDP",80,0)
 Q:$$CHK(3)
"RTN","XPDDP",81,0)
 W !!,"ENVIRONMENT CHECK: ",$G(@XPDGR@("PRE"))
"RTN","XPDDP",82,0)
 W ?49,"DELETE ENV ROUTINE: " I $G(@XPDGR@("PRE"))]"" W $S($P($G(@XPDGR@("INID")),U)="y":"Yes",1:"No")
"RTN","XPDDP",83,0)
 I 'XPDTYPE D  Q:$D(DIRUT)
"RTN","XPDDP",84,0)
 . Q:$$CHK(2)
"RTN","XPDDP",85,0)
 . W !," PRE-INIT ROUTINE: ",$G(@XPDGR@("INI"))
"RTN","XPDDP",86,0)
 . W ?44,"DELETE PRE-INIT ROUTINE: " I $G(@XPDGR@("INI"))]"" W $S($P($G(@XPDGR@("INID")),U,3)="y":"Yes",1:"No")
"RTN","XPDDP",87,0)
 Q:$$CHK(2)
"RTN","XPDDP",88,0)
 W !,"POST-INIT ROUTINE: ",$G(@XPDGR@("INIT"))
"RTN","XPDDP",89,0)
 W ?43,"DELETE POST-INIT ROUTINE: " I $G(@XPDGR@("INIT"))]"" W $S($P($G(@XPDGR@("INID")),U,2)="y":"Yes",1:"No")
"RTN","XPDDP",90,0)
 I 'XPDTYPE Q:$$CHK(2)  W !,"PRE-TRANSPORT RTN: ",$G(@XPDGR@("PRET"))
"RTN","XPDDP",91,0)
 Q
"RTN","XPDDP",92,0)
FILES ; Show files/DDs
"RTN","XPDDP",93,0)
 Q:'$O(@XPDGR@(4,0))  ; Quit if no files
"RTN","XPDDP",94,0)
 S I=$$CHK(8,1) Q:I  I '$P(I,"^",2) D HDR1 W !,XPDUL
"RTN","XPDDP",95,0)
 S XPDI=0
"RTN","XPDDP",96,0)
 F  S XPDI=$O(@XPDGR@(4,XPDI)) Q:'XPDI  S XPD=$G(^(XPDI,222)) Q:$$CHK(3,1)  D
"RTN","XPDDP",97,0)
 . ;file number, file name, partial DD
"RTN","XPDDP",98,0)
 . W !!,XPDI,?12,$S('XPDFL:$P($G(^DIC(XPDI,0),"**unknown**"),U),1:$G(^XTMP("XPDI",XPDA,"FIA",XPDI)))
"RTN","XPDDP",99,0)
 . ; update DD, send security code, data comes with file
"RTN","XPDDP",100,0)
 . W ?43,$$EXTERNAL^DILFD(9.64,222.1,"",$P(XPD,U)),?49,$$EXTERNAL^DILFD(9.64,222.2,"",$P(XPD,U,2)),?55,$$EXTERNAL^DILFD(9.64,222.7,"",$P(XPD,U,7))
"RTN","XPDDP",101,0)
 . ; override site data, resolve pointers, user override
"RTN","XPDDP",102,0)
 . W ?63,$E($$EXTERNAL^DILFD(9.64,222.8,"",$P(XPD,U,8)),1,4),?69,$$EXTERNAL^DILFD(9.64,222.5,"",$P(XPD,U,5)),?75,$$EXTERNAL^DILFD(9.64,222.9,"",$P(XPD,U,9))
"RTN","XPDDP",103,0)
 . I $P(XPD,U,3)="p" D  Q:$D(DIRUT)
"RTN","XPDDP",104,0)
 . . ; Print partial DD information
"RTN","XPDDP",105,0)
 . . N XPDSUB,XPDFLD
"RTN","XPDDP",106,0)
 . . Q:$$CHK(2,1)
"RTN","XPDDP",107,0)
 . . W !,"Partial DD:"
"RTN","XPDDP",108,0)
 . . S (J,XPDSUB)=0
"RTN","XPDDP",109,0)
 . . F  S J=$O(@XPDGR@(4,"APDD",XPDI,J)) Q:'J  D  Q:$D(DIRUT)
"RTN","XPDDP",110,0)
 . . . I XPDSUB Q:$$CHK(2,1)  W !
"RTN","XPDDP",111,0)
 . . . W ?12,"subDD: ",J
"RTN","XPDDP",112,0)
 . . . S XPDSUB=1,(I,XPDFLD)=0
"RTN","XPDDP",113,0)
 . . . F  S I=$O(@XPDGR@(4,"APDD",XPDI,J,I)) Q:'I  D  Q:$D(DIRUT)
"RTN","XPDDP",114,0)
 . . . . I XPDFLD Q:$$CHK(2,1)  W !
"RTN","XPDDP",115,0)
 . . . . W ?30,"fld: ",I S XPDFLD=1
"RTN","XPDDP",116,0)
 . I "  "'[$G(@XPDGR@(4,XPDI,223)) Q:$$CHK(2,1)  W !,?2,"DD SCREEN  : ",^(223)
"RTN","XPDDP",117,0)
 . I "  "'[$G(@XPDGR@(4,XPDI,224)) Q:$$CHK(2,1)  W !,?2,"DATA SCREEN: ",^(224)
"RTN","XPDDP",118,0)
 Q
"RTN","XPDDP",119,0)
COMP ; Print Build components
"RTN","XPDDP",120,0)
 S I=0,XPD=$P(^DD(9.68,.03,0),U,3)
"RTN","XPDDP",121,0)
 F  S I=$O(@XPDGR@("KRN",I)) Q:'I  D   Q:$D(DIRUT)
"RTN","XPDDP",122,0)
 . Q:'$D(@XPDGR@("KRN",I,"NM","B"))
"RTN","XPDDP",123,0)
 . Q:$$CHK(4)
"RTN","XPDDP",124,0)
 . W !!,$S($D(^DIC(I,0)):$P(^(0),U),XPDFL:$G(^XTMP("XPDI",XPDA,"FIA",I),"UNKNOWN"),1:"UNKNOWN")_":",?47,"ACTION:"
"RTN","XPDDP",125,0)
 . S J=""
"RTN","XPDDP",126,0)
 . F  S J=$O(@XPDGR@("KRN",I,"NM","B",J)) Q:J=""  S X=$O(^(J,0)) D  Q:$D(DIRUT)
"RTN","XPDDP",127,0)
 . . Q:'X
"RTN","XPDDP",128,0)
 . . S X=$G(@XPDGR@("KRN",I,"NM",X,0)) Q:X=""
"RTN","XPDDP",129,0)
 . . Q:$$CHK(2)
"RTN","XPDDP",130,0)
 . . ;write the entry name and write the action
"RTN","XPDDP",131,0)
 . . W !,?3,$P(X,U),?50,$P($P(XPD,";",$P(X,U,3)+1),":",2)
"RTN","XPDDP",132,0)
 Q
"RTN","XPDDP",133,0)
QUESTS ; Show Install Questions
"RTN","XPDDP",134,0)
 I '$O(@XPDGR@("QUES",0)),'($D(@XPDGR@("QDEF"))#2) Q
"RTN","XPDDP",135,0)
 Q:$$CHK(6)
"RTN","XPDDP",136,0)
 W !!,"INSTALL QUESTIONS: "
"RTN","XPDDP",137,0)
 S I=0
"RTN","XPDDP",138,0)
 F  S I=$O(@XPDGR@("QUES",I)) Q:'I  S X=$P(^(I,0),U),J=$G(^(1)),K=$G(^("A")) D  Q:$D(DIRUT)
"RTN","XPDDP",139,0)
 . Q:$$CHK(4)
"RTN","XPDDP",140,0)
 . W !!?5,"SUBSCRIPT: ",X
"RTN","XPDDP",141,0)
 . W !,"DIR(0)=",J
"RTN","XPDDP",142,0)
 . S J=0
"RTN","XPDDP",143,0)
 . F  S J=$O(@XPDGR@("QUES",I,"A1",J)) Q:'J  Q:$$CHK(2)  W !,"DIR(""A"",",J,")=",^(J,0)
"RTN","XPDDP",144,0)
 . I K]"" Q:$$CHK(2)  W !,"DIR(""A"")=",K
"RTN","XPDDP",145,0)
 . I $G(@XPDGR@("QUES",I,"B"))]"" Q:$$CHK(2)  W !,"DIR(""B"")=",^("B")
"RTN","XPDDP",146,0)
 . S J=0
"RTN","XPDDP",147,0)
 . F  S J=$O(@XPDGR@("QUES",I,"Q1",J)) Q:'J  Q:$$CHK(2)  W !,"DIR(""?"",",J,")=",^(J,0)
"RTN","XPDDP",148,0)
 . I $G(@XPDGR@("QUES",I,"Q"))]"" Q:$$CHK(2)  W !,"DIR(""?"")=",^("Q")
"RTN","XPDDP",149,0)
 . I $G(@XPDGR@("QUES",I,"QQ"))]"" Q:$$CHK(2)  W !,"DIR(""??"")=",^("QQ")
"RTN","XPDDP",150,0)
 . I $G(@XPDGR@("QUES",I,"M"))]"" Q:$$CHK(2)  W !,"M CODE: ",^("M")
"RTN","XPDDP",151,0)
 Q:$D(DIRUT)
"RTN","XPDDP",152,0)
 ;Show new Defaults for KIDS questions. p463
"RTN","XPDDP",153,0)
 S X=$G(@XPDGR@("QDEF")) Q:X=""
"RTN","XPDDP",154,0)
 I '$L($P(X,U,9)),'$L($P(X,U,5)),'$L($P(X,U,11)) Q
"RTN","XPDDP",155,0)
 Q:$$CHK(3)  W !
"RTN","XPDDP",156,0)
 I $L($P(X,U,9)) Q:$$CHK(2)  W !," Default Rebuild Menu Trees Upon Completion of Install: ",$P(X,U,9)
"RTN","XPDDP",157,0)
 I $L($P(X,U,5)) Q:$$CHK(2)  W !," Default INHIBIT LOGONs during the install: ",$P(X,U,5)
"RTN","XPDDP",158,0)
 I $L($P(X,U,11)) Q:$$CHK(2)  W !," Default DISABLE Scheduled Options, Menu Options, and Protocols: ",$P(X,U,11)
"RTN","XPDDP",159,0)
 Q
"RTN","XPDDP",160,0)
ALFABETA ; Alpha/Beta Testing
"RTN","XPDDP",161,0)
 S XPD=$G(@XPDGR@("ABPKG")) Q:XPD=""
"RTN","XPDDP",162,0)
 Q:$P(XPD,U)'="y"
"RTN","XPDDP",163,0)
 Q:$$CHK(4)
"RTN","XPDDP",164,0)
 W !!,"ALPHA/BETA TESTING: ",$$EXTERNAL^DILFD(9.6,20,"",$P(XPD,U)),?47,"INSTALLATION MESSAGE: ",$$EXTERNAL^DILFD(9.6,21,"",$P(XPD,U,2))
"RTN","XPDDP",165,0)
 W !,"ADDRESS: ",$P(XPD,U,3)
"RTN","XPDDP",166,0)
 Q
"RTN","XPDDP",167,0)
NAMESP ; Namespaces
"RTN","XPDDP",168,0)
 Q:'$O(@XPDGR@("ABNS",0))
"RTN","XPDDP",169,0)
 Q:$$CHK(4)
"RTN","XPDDP",170,0)
 W !!,"INCLUDE NAMESPACE:",?47,"EXCLUDE NAMESPACE:"
"RTN","XPDDP",171,0)
 S I=0
"RTN","XPDDP",172,0)
 F  S I=$O(@XPDGR@("ABNS",I)) Q:'I  Q:$$CHK(2)  W !?3,^(I,0) D  Q:$D(DIRUT)
"RTN","XPDDP",173,0)
 . N XPDNMSP,XPDLF
"RTN","XPDDP",174,0)
 . S (J,XPDLF)=0
"RTN","XPDDP",175,0)
 . F  S J=$O(@XPDGR@("ABNS",I,1,J)) Q:'J  S XPDNMSP=^(J,0) D  Q:$D(DIRUT)
"RTN","XPDDP",176,0)
 . . I XPDLF Q:$$CHK(2)  W !
"RTN","XPDDP",177,0)
 . . W ?50,XPDNMSP
"RTN","XPDDP",178,0)
 . . S XPDLF=1
"RTN","XPDDP",179,0)
 Q
"RTN","XPDDP",180,0)
REQDBLD ; Required Builds
"RTN","XPDDP",181,0)
 Q:'$O(@XPDGR@("REQB",0))
"RTN","XPDDP",182,0)
 Q:$$CHK(4)
"RTN","XPDDP",183,0)
 W !!,"REQUIRED BUILDS:",?47,"ACTION:"
"RTN","XPDDP",184,0)
 S XPDI=0
"RTN","XPDDP",185,0)
 F  S XPDI=$O(@XPDGR@("REQB",XPDI)) Q:'XPDI  S XPD=$G(^(XPDI,0)) Q:$$CHK(2)  D
"RTN","XPDDP",186,0)
 . W !?3,$P(XPD,U),?50,$$EXTERNAL^DILFD(9.611,1,"",$P(XPD,U,2))
"RTN","XPDDP",187,0)
 Q
"RTN","XPDDP",188,0)
GLOBAL ; Global Package
"RTN","XPDDP",189,0)
 Q:$$CHK(4)
"RTN","XPDDP",190,0)
 W !!,"GLOBAL:",?47,"KILL GLOBAL BEFORE INSTALL:"
"RTN","XPDDP",191,0)
 S XPDI=0
"RTN","XPDDP",192,0)
 F  S XPDI=$O(@XPDGR@("GLO",XPDI)) Q:'XPDI  S XPD=$G(^(XPDI,0)) Q:$$CHK(2)  D
"RTN","XPDDP",193,0)
 . W !?3,$P(XPD,U),?50,$$EXTERNAL^DILFD(9.65,1,"",$P(XPD,U,2))
"RTN","XPDDP",194,0)
 Q
"RTN","XPDDP",195,0)
MULT ; Multi-Package
"RTN","XPDDP",196,0)
 Q:$$CHK(4)
"RTN","XPDDP",197,0)
 W !!,"SEQUENCE OF BUILDS:"
"RTN","XPDDP",198,0)
 S XPDI=0
"RTN","XPDDP",199,0)
 F  S XPDI=$O(@XPDGR@(10,XPDI)) Q:'XPDI  S XPD=$G(^(XPDI,0)) Q:$$CHK(2)  D
"RTN","XPDDP",200,0)
 . W !?2,XPDI,?8,$E($P(XPD,U),1,44),?54,$S($P(XPD,U,2)=1:"",1:"Not ")_"Required to Continue"
"RTN","XPDDP",201,0)
 Q
"RTN","XPDDP",202,0)
CHK(Y,XPD) ;Y=excess lines XPD=1 print file header, return 1 to exit
"RTN","XPDDP",203,0)
 ;return 0 if header was not written, else "0^1"
"RTN","XPDDP",204,0)
 Q:$Y<(IOSL-Y) 0
"RTN","XPDDP",205,0)
 Q:'$$CONT 1
"RTN","XPDDP",206,0)
 S XPD=$G(XPD),XPDPG=XPDPG+1
"RTN","XPDDP",207,0)
 W @IOF D HDR,HDR1:XPD
"RTN","XPDDP",208,0)
 W !,XPDUL
"RTN","XPDDP",209,0)
 Q "0^1"
"RTN","XPDDP",210,0)
CONT() ; Press Return to continue; ^ to exit.
"RTN","XPDDP",211,0)
 Q:$D(DIRUT) 0
"RTN","XPDDP",212,0)
 Q:$E(IOST,1,2)'="C-" 1
"RTN","XPDDP",213,0)
 N DIR,I,J,K,X,Y
"RTN","XPDDP",214,0)
 S DIR(0)="E" D ^DIR
"RTN","XPDDP",215,0)
 Q Y
"RTN","XPDDP",216,0)
XMP2(X,D0) ;called from ^XMP2
"RTN","XPDDP",217,0)
 N XPDA S XPDA=-1
"RTN","XPDDP",218,0)
 D PNT(X)
"RTN","XPDDP",219,0)
 Q
"RTN","XPDDP",220,0)
HDR ;
"RTN","XPDDP",221,0)
 W "PACKAGE: ",$P(XPD0,U),"     ",XPDDT,?70,$$RJ^XLFSTR("PAGE "_XPDPG,9)
"RTN","XPDDP",222,0)
 Q
"RTN","XPDDP",223,0)
HDR1 ;
"RTN","XPDDP",224,0)
 W !!,?43,"UP    SEND  DATA                USER"
"RTN","XPDDP",225,0)
 W !,?43,"DATE  SEC.  COMES   SITE  RSLV  OVER"
"RTN","XPDDP",226,0)
 W !,"FILE #",?12,"FILE NAME",?43,"DD    CODE  W/FILE  DATA  PTRS  RIDE"
"RTN","XPDDP",227,0)
 Q
"VER")
8.0^22.0
"BLD",1063,6)
^392
**END**
**END**
