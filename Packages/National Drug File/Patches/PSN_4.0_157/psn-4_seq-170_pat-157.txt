$TXT Created by VARGAS,ALBERTO at DMSCACHE.FO-BIRM.MED.VA.GOV  (KIDS) on Tuesday, 02/26/08 at 08:16
=============================================================================
Run Date: OCT 20, 2008                     Designation: PSN*4*157
Package : PSN - NATIONAL DRUG FILE            Priority: Mandatory
Version : 4       SEQ #170                      Status: Released
                  Compliance Date: NOV 20, 2008
=============================================================================

Associated patches: (v)PSN*4*109   <<= must be installed BEFORE `PSN*4*157'

Subject: ENCAPSULATION FOLLOW-UP

Category: 
  - Enhancement (Mandatory)
  - Routine

Description:
============

 This patch enhances the functionality of two components (DIC and IX) in
 the PSNDI routine.
  
 PSNDI is an existing API (Application Programmer Interface) for 
 replicating FileMan calls.  Prior to this patch, these APIs supported
 these files:
  
          DRUG INGREDIENTS (#50.416)
          DRUG INTERACTION (#56)
          VA DRUG CLASS (#50.605)
  
 This patch adds these two files to the supported file list.
  
          NDC/UPN (#50.67)
          VA GENERIC (#50.6)
  
 Inactivation date screening logic for the standardized files (DRUG 
 INGREDIENTS (#50.416), VA GENERIC (#50.6), and VA DRUG CLASS (#50.605))
 will now use the SCREEN^XTID call, which utilizes the VUID (VHA Unique 
 Identifier) inactivation date.  The inactivation date screening for the
 non-standardized files (NDC/UPN (#50.67) and DRUG INTERACTION (#56)) will
 be based on their VistA inactivation date fields. Prior to this patch, the
 screening for the DRUG INGREDIENTS (#50.416) file was based on the VistA
 inactivation date field, and prior to this patch there was no inactivation
 date screening for the VA DRUG CLASS (#50.605) file.
  
 For further information regarding this API, please see FORUM DBIA (Data 
 Base Integration Agreement) 4554.
  
 **NOTE** These APIs kill DIC("S") upon entry. If the calling application
 passes in an inactivation date using the PSNDATE parameter, the API will 
 set DIC("S") by utilizing that date, and DIC("S") will remain defined 
 after exiting this call.
  
  
 Associated Remedy Tickets:                                      
 ==========================
 N/A
     
 Associated E3Rs:
 ================
 N/A
      
 Test Sites:
 ===========
 DURHAM, NC       
 MONTANA HCS      
 OKLAHOMA CITY, OK
                                                              
 Installation Instructions:
 ==========================
 This patch exports a routine that is a supported reference, so any other
 Vista application can make a call to this routine. For that reason, it is
 recommended that this patch be installed when Vista activity is at a
 minimum.
     
 Installation of this patch should take no longer than 5 minutes. 
      
    1. Use the INSTALL/CHECK MESSAGE option on the PackMan menu to load 
       the patch.
      
    2. From the Kernel Installation & Distribution System menu, select the
       Installation menu.
      
    3. From this menu, you may select to use the following options:
       (when prompted for INSTALL NAME, enter PSN*4.0*157)
      
        a. Backup a Transport Global - this option will create a backup
           message of any routines exported with the patch. It will NOT
           backup any other changes such as DDs or templates.
      
        b. Compare Transport Global to Current System - this option will
           allow you to view all changes that will be made when the patch
           is installed. It compares all components of the patch (routines,
           DDs, templates, etc.).
      
        c. Verify Checksums in Transport Global - this option will ensure
           the integrity of the routines that are in the transport global.
     
    4. Use the Install Package(s) option and select the package   
       PSN*4.0*157.
      
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install? 
       NO//" respond NO.
      
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//" respond NO. 
     
 Documentation Retrieval:
 ========================
 Sites may retrieve documentation in one of the following ways:
     
    (1) The preferred method is to FTP the files from
    download.vista.med.va.gov, which will transmit the files from the first
    available FTP server.
     
    (2) Sites may also elect to retrieve documentation directly
    from a specific server as follows:
     Albany          ftp.fo-albany.med.va.gov
     Hines           ftp.fo-hines.med.va.gov
     Salt Lake City  ftp.fo-slc.med.va.gov
     
    The documentation includes:
    
     FILE NAME                        DESCRIPTION
     PHAR_1_API_R1008.PDF             Pharmacy Re-Engineering API Manual
   
    Documentation may be retrieved from VISTA Documentation Library (VDL)
    on the Internet at the following address, http://www.va.gov/vdl

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;4.0; NATIONAL DRUG FILE;**[Patch List]**; 30 Oct 98;Build 9

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: PSNDI
    Before:  B7794023   After:  B9494997  **80,109,157**

=============================================================================
User Information:
Entered By  : VARGAS,ALBERTO                Date Entered  : OCT 16, 2007
Completed By: LEONARD,KEN                   Date Completed: OCT 16, 2008
Released By : CAMPBELL,THOMAS               Date Released : OCT 20, 2008
=============================================================================


Packman Mail Message:
=====================

$END TXT
