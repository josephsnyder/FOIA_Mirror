KIDS Distribution saved on May 29, 2014@14:28:03
Oncology Version 2.2 - ONC*2.2*1
**KIDS**:ONC*2.2*1^

**INSTALL NAME**
ONC*2.2*1
"BLD",8671,0)
ONC*2.2*1^ONCOLOGY^0^3140529^y
"BLD",8671,1,0)
^^1^1^3130805^
"BLD",8671,1,1,0)
Oncology version 2.2 and other fixes.
"BLD",8671,4,0)
^9.64PA^160^5
"BLD",8671,4,160,0)
160
"BLD",8671,4,160,2,0)
^9.641^160^1
"BLD",8671,4,160,2,160,0)
ONCOLOGY PATIENT  (File-top level)
"BLD",8671,4,160,2,160,1,0)
^9.6411^25.9901^10
"BLD",8671,4,160,2,160,1,25.91,0)
SECONDARY DIAGNOSIS #1
"BLD",8671,4,160,2,160,1,25.92,0)
SECONDARY DIAGNOSIS #2
"BLD",8671,4,160,2,160,1,25.93,0)
SECONDARY DIAGNOSIS #3
"BLD",8671,4,160,2,160,1,25.94,0)
SECONDARY DIAGNOSIS #4
"BLD",8671,4,160,2,160,1,25.95,0)
SECONDARY DIAGNOSIS #5
"BLD",8671,4,160,2,160,1,25.96,0)
SECONDARY DIAGNOSIS #6
"BLD",8671,4,160,2,160,1,25.97,0)
SECONDARY DIAGNOSIS #7
"BLD",8671,4,160,2,160,1,25.98,0)
SECONDARY DIAGNOSIS #8
"BLD",8671,4,160,2,160,1,25.99,0)
SECONDARY DIAGNOSIS #9
"BLD",8671,4,160,2,160,1,25.9901,0)
SECONDARY DIAGNOSIS #10
"BLD",8671,4,160,222)
y^y^p^^^^n^^n
"BLD",8671,4,160,224)

"BLD",8671,4,160.1,0)
160.1
"BLD",8671,4,160.1,2,0)
^9.641^160.25^2
"BLD",8671,4,160.1,2,160.24,0)
MAIL SERVER USER  (sub-file)
"BLD",8671,4,160.1,2,160.24,1,0)
^9.6411^^0
"BLD",8671,4,160.1,2,160.25,0)
ABSTRACTOR/REGISTRAR  (sub-file)
"BLD",8671,4,160.1,2,160.25,1,0)
^9.6411^^
"BLD",8671,4,160.1,222)
y^y^p^^^^n^^n
"BLD",8671,4,160.1,224)

"BLD",8671,4,160.16,0)
160.16
"BLD",8671,4,160.16,222)
y^y^f^^n^^y^o^n
"BLD",8671,4,165.3,0)
165.3
"BLD",8671,4,165.3,2,0)
^9.641^165.3^1
"BLD",8671,4,165.3,2,165.3,0)
CLASS OF CASE  (File-top level)
"BLD",8671,4,165.3,2,165.3,1,0)
^9.6411^1^1
"BLD",8671,4,165.3,2,165.3,1,1,0)
DEFINITION
"BLD",8671,4,165.3,222)
y^y^p^^^^n^^n
"BLD",8671,4,165.3,224)

"BLD",8671,4,165.5,0)
165.5
"BLD",8671,4,165.5,2,0)
^9.641^165.51^2
"BLD",8671,4,165.5,2,165.5,0)
ONCOLOGY PRIMARY  (File-top level)
"BLD",8671,4,165.5,2,165.5,1,0)
^9.6411^149^29
"BLD",8671,4,165.5,2,165.5,1,139.6,0)
METS SITE RESECTED
"BLD",8671,4,165.5,2,165.5,1,139.7,0)
METS SITE RESECTED DATE
"BLD",8671,4,165.5,2,165.5,1,149,0)
LYMPH-VASCULAR INVASION (L)
"BLD",8671,4,165.5,2,165.5,1,200,0)
DATE LAST CONTACT
"BLD",8671,4,165.5,2,165.5,1,262,0)
MULTIMODALITY RADIATION TYPE
"BLD",8671,4,165.5,2,165.5,1,435,0)
DATE MOST DEFINITIVE SURG DIS
"BLD",8671,4,165.5,2,165.5,1,999.1,0)
DATE OF DIAGNOSIS FLAG
"BLD",8671,4,165.5,2,165.5,1,999.11,0)
RX DATE SURG DISCH FLAG
"BLD",8671,4,165.5,2,165.5,1,999.12,0)
RX DATE-RADIATION FLAG
"BLD",8671,4,165.5,2,165.5,1,999.13,0)
RX DATE RAD ENDED FLAG
"BLD",8671,4,165.5,2,165.5,1,999.14,0)
RX DATE SYSTEMIC FLAG
"BLD",8671,4,165.5,2,165.5,1,999.15,0)
RX DATE-CHEMO FLAG
"BLD",8671,4,165.5,2,165.5,1,999.16,0)
RX DATE-HORMONE FLAG
"BLD",8671,4,165.5,2,165.5,1,999.17,0)
RX DATE-BRM FLAG
"BLD",8671,4,165.5,2,165.5,1,999.18,0)
RX DATE-OTHER FLAG
"BLD",8671,4,165.5,2,165.5,1,999.19,0)
RX DATE-DX/STG PROC FLAG
"BLD",8671,4,165.5,2,165.5,1,999.2,0)
DATE CONCLUSIVE DX FLAG
"BLD",8671,4,165.5,2,165.5,1,999.21,0)
RECURRENCE DATE-1ST FLAG
"BLD",8671,4,165.5,2,165.5,1,999.22,0)
DATE OF LAST CONTACT FLAG
"BLD",8671,4,165.5,2,165.5,1,999.23,0)
SUBSQ RX 2ND CRS DATE FLAG
"BLD",8671,4,165.5,2,165.5,1,999.24,0)
SUBSQ RX 3RD CRS DATE FLAG
"BLD",8671,4,165.5,2,165.5,1,999.25,0)
SUBSQ RX 4TH CRS DATE FLAG
"BLD",8671,4,165.5,2,165.5,1,999.3,0)
DATE OF MULT TUMORS FLAG
"BLD",8671,4,165.5,2,165.5,1,999.4,0)
DATE OF FIRST CONTACT FLAG
"BLD",8671,4,165.5,2,165.5,1,999.5,0)
DATE OF INPT ADM FLAG
"BLD",8671,4,165.5,2,165.5,1,999.6,0)
DATE OF INPT DISCH FLAG
"BLD",8671,4,165.5,2,165.5,1,999.7,0)
DATE 1ST CRS RX FLAG
"BLD",8671,4,165.5,2,165.5,1,999.8,0)
RX DATE-SURGERY FLAG
"BLD",8671,4,165.5,2,165.5,1,999.9,0)
RX DATE MST DEFN SRG FLAG
"BLD",8671,4,165.5,2,165.51,0)
SUBSEQUENT COURSE OF TREATMENT  (sub-file)
"BLD",8671,4,165.5,2,165.51,1,0)
^9.6411^42^5
"BLD",8671,4,165.5,2,165.51,1,38,0)
SCOPE OF LN SURGERY DATE
"BLD",8671,4,165.5,2,165.51,1,39,0)
SURGICAL PROC/OTHER SITE DATE
"BLD",8671,4,165.5,2,165.51,1,40,0)
METS SITE RESECTED
"BLD",8671,4,165.5,2,165.51,1,41,0)
METS SITE RESECTED DATE
"BLD",8671,4,165.5,2,165.51,1,42,0)
PALLIATIVE CARE
"BLD",8671,4,165.5,222)
y^y^p^^^^n^^n
"BLD",8671,4,165.5,224)

"BLD",8671,4,"APDD",160,160)

"BLD",8671,4,"APDD",160,160,25.91)

"BLD",8671,4,"APDD",160,160,25.92)

"BLD",8671,4,"APDD",160,160,25.93)

"BLD",8671,4,"APDD",160,160,25.94)

"BLD",8671,4,"APDD",160,160,25.95)

"BLD",8671,4,"APDD",160,160,25.96)

"BLD",8671,4,"APDD",160,160,25.97)

"BLD",8671,4,"APDD",160,160,25.98)

"BLD",8671,4,"APDD",160,160,25.99)

"BLD",8671,4,"APDD",160,160,25.9901)

"BLD",8671,4,"APDD",160.1,160.24)

"BLD",8671,4,"APDD",160.1,160.25)

"BLD",8671,4,"APDD",165.3,165.3)

"BLD",8671,4,"APDD",165.3,165.3,1)

"BLD",8671,4,"APDD",165.5,165.5)

"BLD",8671,4,"APDD",165.5,165.5,139.6)

"BLD",8671,4,"APDD",165.5,165.5,139.7)

"BLD",8671,4,"APDD",165.5,165.5,149)

"BLD",8671,4,"APDD",165.5,165.5,200)

"BLD",8671,4,"APDD",165.5,165.5,262)

"BLD",8671,4,"APDD",165.5,165.5,435)

"BLD",8671,4,"APDD",165.5,165.5,999.1)

"BLD",8671,4,"APDD",165.5,165.5,999.11)

"BLD",8671,4,"APDD",165.5,165.5,999.12)

"BLD",8671,4,"APDD",165.5,165.5,999.13)

"BLD",8671,4,"APDD",165.5,165.5,999.14)

"BLD",8671,4,"APDD",165.5,165.5,999.15)

"BLD",8671,4,"APDD",165.5,165.5,999.16)

"BLD",8671,4,"APDD",165.5,165.5,999.17)

"BLD",8671,4,"APDD",165.5,165.5,999.18)

"BLD",8671,4,"APDD",165.5,165.5,999.19)

"BLD",8671,4,"APDD",165.5,165.5,999.2)

"BLD",8671,4,"APDD",165.5,165.5,999.21)

"BLD",8671,4,"APDD",165.5,165.5,999.22)

"BLD",8671,4,"APDD",165.5,165.5,999.23)

"BLD",8671,4,"APDD",165.5,165.5,999.24)

"BLD",8671,4,"APDD",165.5,165.5,999.25)

"BLD",8671,4,"APDD",165.5,165.5,999.3)

"BLD",8671,4,"APDD",165.5,165.5,999.4)

"BLD",8671,4,"APDD",165.5,165.5,999.5)

"BLD",8671,4,"APDD",165.5,165.5,999.6)

"BLD",8671,4,"APDD",165.5,165.5,999.7)

"BLD",8671,4,"APDD",165.5,165.5,999.8)

"BLD",8671,4,"APDD",165.5,165.5,999.9)

"BLD",8671,4,"APDD",165.5,165.51)

"BLD",8671,4,"APDD",165.5,165.51,38)

"BLD",8671,4,"APDD",165.5,165.51,39)

"BLD",8671,4,"APDD",165.5,165.51,40)

"BLD",8671,4,"APDD",165.5,165.51,41)

"BLD",8671,4,"APDD",165.5,165.51,42)

"BLD",8671,4,"B",160,160)

"BLD",8671,4,"B",160.1,160.1)

"BLD",8671,4,"B",160.16,160.16)

"BLD",8671,4,"B",165.3,165.3)

"BLD",8671,4,"B",165.5,165.5)

"BLD",8671,6.3)
8
"BLD",8671,"INI")
PRE1^ONC2PS01
"BLD",8671,"INIT")
ONC2PS01
"BLD",8671,"KRN",0)
^9.67PA^779.2^20
"BLD",8671,"KRN",.4,0)
.4
"BLD",8671,"KRN",.401,0)
.401
"BLD",8671,"KRN",.402,0)
.402
"BLD",8671,"KRN",.402,"NM",0)
^9.68A^2^2
"BLD",8671,"KRN",.402,"NM",1,0)
ONCO ABSTRACT-I    FILE #165.5^165.5^0
"BLD",8671,"KRN",.402,"NM",2,0)
ONCO RECURRENCE FOLLOWUP    FILE #165.5^165.5^0
"BLD",8671,"KRN",.402,"NM","B","ONCO ABSTRACT-I    FILE #165.5",1)

"BLD",8671,"KRN",.402,"NM","B","ONCO RECURRENCE FOLLOWUP    FILE #165.5",2)

"BLD",8671,"KRN",.403,0)
.403
"BLD",8671,"KRN",.5,0)
.5
"BLD",8671,"KRN",.84,0)
.84
"BLD",8671,"KRN",3.6,0)
3.6
"BLD",8671,"KRN",3.8,0)
3.8
"BLD",8671,"KRN",9.2,0)
9.2
"BLD",8671,"KRN",9.8,0)
9.8
"BLD",8671,"KRN",9.8,"NM",0)
^9.68A^432^431
"BLD",8671,"KRN",9.8,"NM",1,0)
ONCACD0^^0^B163524418
"BLD",8671,"KRN",9.8,"NM",2,0)
ONCACD1^^0^B64310335
"BLD",8671,"KRN",9.8,"NM",3,0)
ONCACDU1^^0^B30581185
"BLD",8671,"KRN",9.8,"NM",4,0)
ONCOAI^^0^B28755753
"BLD",8671,"KRN",9.8,"NM",5,0)
ONCOCRF^^0^B14483451
"BLD",8671,"KRN",9.8,"NM",6,0)
ONCOPMB^^0^B23753532
"BLD",8671,"KRN",9.8,"NM",7,0)
ONCOPRT^^0^B41401233
"BLD",8671,"KRN",9.8,"NM",8,0)
ONCOGEN^^0^B44377351
"BLD",8671,"KRN",9.8,"NM",9,0)
ONCOTN^^0^B125200324
"BLD",8671,"KRN",9.8,"NM",10,0)
ONCPMC^^0^B11238104
"BLD",8671,"KRN",9.8,"NM",11,0)
ONCPML^^0^B24254454
"BLD",8671,"KRN",9.8,"NM",12,0)
ONCSG1^^0^B154656243
"BLD",8671,"KRN",9.8,"NM",13,0)
ONCSG1A^^0^B51954616
"BLD",8671,"KRN",9.8,"NM",14,0)
ONCODIS^^0^B773952
"BLD",8671,"KRN",9.8,"NM",15,0)
ONCSRV^^0^B14249551
"BLD",8671,"KRN",9.8,"NM",16,0)
ONCSRV01^^0^B6980964
"BLD",8671,"KRN",9.8,"NM",17,0)
ONCSRVTM^^0^B35307509
"BLD",8671,"KRN",9.8,"NM",18,0)
ONCSRVRP^^0^B16573509
"BLD",8671,"KRN",9.8,"NM",19,0)
ONCACDU2^^0^B99537064
"BLD",8671,"KRN",9.8,"NM",20,0)
ONCASCI^^0^B3659084
"BLD",8671,"KRN",9.8,"NM",21,0)
ONCATF^^0^B47209323
"BLD",8671,"KRN",9.8,"NM",22,0)
ONCATF1^^0^B40406368
"BLD",8671,"KRN",9.8,"NM",23,0)
ONCBPC0^^0^B6901838
"BLD",8671,"KRN",9.8,"NM",24,0)
ONCBPC1^^0^B17284866
"BLD",8671,"KRN",9.8,"NM",25,0)
ONCBPC2^^0^B12764757
"BLD",8671,"KRN",9.8,"NM",26,0)
ONCBPC3^^0^B14635274
"BLD",8671,"KRN",9.8,"NM",27,0)
ONCBPC4^^0^B21169006
"BLD",8671,"KRN",9.8,"NM",28,0)
ONCBPC4A^^0^B38587962
"BLD",8671,"KRN",9.8,"NM",29,0)
ONCBPC5^^0^B4450409
"BLD",8671,"KRN",9.8,"NM",30,0)
ONCBPC6^^0^B4771682
"BLD",8671,"KRN",9.8,"NM",31,0)
ONCBPC8^^0^B47081923
"BLD",8671,"KRN",9.8,"NM",32,0)
ONCBPC8A^^0^B33284452
"BLD",8671,"KRN",9.8,"NM",33,0)
ONCBRP0^^0^B12837473
"BLD",8671,"KRN",9.8,"NM",34,0)
ONCBRP1^^0^B32719907
"BLD",8671,"KRN",9.8,"NM",35,0)
ONCBRP2^^0^B62506484
"BLD",8671,"KRN",9.8,"NM",36,0)
ONCBRP3^^0^B7503561
"BLD",8671,"KRN",9.8,"NM",37,0)
ONCBRP4^^0^B18122984
"BLD",8671,"KRN",9.8,"NM",38,0)
ONCBRP5^^0^B34977273
"BLD",8671,"KRN",9.8,"NM",39,0)
ONCBRP5A^^0^B22871751
"BLD",8671,"KRN",9.8,"NM",40,0)
ONCBRP6^^0^B2557088
"BLD",8671,"KRN",9.8,"NM",41,0)
ONCBRP7^^0^B5546084
"BLD",8671,"KRN",9.8,"NM",42,0)
ONCBRP9^^0^B48248085
"BLD",8671,"KRN",9.8,"NM",43,0)
ONCBRP9A^^0^B41234576
"BLD",8671,"KRN",9.8,"NM",44,0)
ONCBRP9B^^0^B4450430
"BLD",8671,"KRN",9.8,"NM",45,0)
ONCCPC0^^0^B18285534
"BLD",8671,"KRN",9.8,"NM",46,0)
ONCCPC1^^0^B18505199
"BLD",8671,"KRN",9.8,"NM",47,0)
ONCCPC2^^0^B23982785
"BLD",8671,"KRN",9.8,"NM",48,0)
ONCCPC3^^0^B13119883
"BLD",8671,"KRN",9.8,"NM",49,0)
ONCCPC4^^0^B42722216
"BLD",8671,"KRN",9.8,"NM",50,0)
ONCCPC4A^^0^B23893949
"BLD",8671,"KRN",9.8,"NM",51,0)
ONCCPC5^^0^B2440947
"BLD",8671,"KRN",9.8,"NM",52,0)
ONCCPC6^^0^B2131050
"BLD",8671,"KRN",9.8,"NM",53,0)
ONCCPC7^^0^B4963773
"BLD",8671,"KRN",9.8,"NM",54,0)
ONCCPC9^^0^B43467064
"BLD",8671,"KRN",9.8,"NM",55,0)
ONCCPC9A^^0^B36996984
"BLD",8671,"KRN",9.8,"NM",56,0)
ONCCPC9B^^0^B5787445
"BLD",8671,"KRN",9.8,"NM",58,0)
ONCCS^^0^B53941422
"BLD",8671,"KRN",9.8,"NM",59,0)
ONCCS2^^0^B161397128
"BLD",8671,"KRN",9.8,"NM",60,0)
ONCCS3^^0^B165294557
"BLD",8671,"KRN",9.8,"NM",61,0)
ONCCSOT^^0^B39113425
"BLD",8671,"KRN",9.8,"NM",62,0)
ONCCSRS^^0^B44624188
"BLD",8671,"KRN",9.8,"NM",63,0)
ONCCSSTF^^0^B43956602
"BLD",8671,"KRN",9.8,"NM",64,0)
ONCCSV2^^0^B59868741
"BLD",8671,"KRN",9.8,"NM",65,0)
ONCCSV2A^^0^B145990753
"BLD",8671,"KRN",9.8,"NM",66,0)
ONCDTUTL^^0^B5364893
"BLD",8671,"KRN",9.8,"NM",67,0)
ONCDTX^^0^B77514496
"BLD",8671,"KRN",9.8,"NM",68,0)
ONCDTX1^^0^B16707284
"BLD",8671,"KRN",9.8,"NM",69,0)
ONCEDIT^^0^B90474447
"BLD",8671,"KRN",9.8,"NM",70,0)
ONCEDIT2^^0^B36961845
"BLD",8671,"KRN",9.8,"NM",71,0)
ONCEECA^^0^B275860
"BLD",8671,"KRN",9.8,"NM",72,0)
ONCFUNC^^0^B47880653
"BLD",8671,"KRN",9.8,"NM",73,0)
ONCGENED^^0^B26470345
"BLD",8671,"KRN",9.8,"NM",74,0)
ONCGPC0^^0^B10271078
"BLD",8671,"KRN",9.8,"NM",75,0)
ONCGPC1^^0^B26135683
"BLD",8671,"KRN",9.8,"NM",76,0)
ONCGPC2^^0^B34297337
"BLD",8671,"KRN",9.8,"NM",77,0)
ONCGPC3^^0^B37337028
"BLD",8671,"KRN",9.8,"NM",78,0)
ONCGPC4^^0^B2287713
"BLD",8671,"KRN",9.8,"NM",79,0)
ONCGPC5^^0^B711382
"BLD",8671,"KRN",9.8,"NM",80,0)
ONCGPC7^^0^B28612141
"BLD",8671,"KRN",9.8,"NM",81,0)
ONCGPC7A^^0^B52387035
"BLD",8671,"KRN",9.8,"NM",82,0)
ONCGPC7B^^0^B50557081
"BLD",8671,"KRN",9.8,"NM",83,0)
ONCHPC0^^0^B10413880
"BLD",8671,"KRN",9.8,"NM",84,0)
ONCHPC1^^0^B7513074
"BLD",8671,"KRN",9.8,"NM",85,0)
ONCHPC2^^0^B43941036
"BLD",8671,"KRN",9.8,"NM",86,0)
ONCHPC2A^^0^B15386094
"BLD",8671,"KRN",9.8,"NM",87,0)
ONCHPC3^^0^B6912178
"BLD",8671,"KRN",9.8,"NM",88,0)
ONCHPC4^^0^B58420486
"BLD",8671,"KRN",9.8,"NM",89,0)
ONCHPC4A^^0^B25360992
"BLD",8671,"KRN",9.8,"NM",90,0)
ONCHPC5^^0^B2297851
"BLD",8671,"KRN",9.8,"NM",91,0)
ONCHPC6^^0^B3980653
"BLD",8671,"KRN",9.8,"NM",92,0)
ONCHPC8^^0^B60713068
"BLD",8671,"KRN",9.8,"NM",93,0)
ONCHPC8A^^0^B54728029
"BLD",8671,"KRN",9.8,"NM",94,0)
ONCHTWT^^0^B983574
"BLD",8671,"KRN",9.8,"NM",95,0)
ONCIPC0^^0^B8509251
"BLD",8671,"KRN",9.8,"NM",96,0)
ONCIPC1^^0^B21514647
"BLD",8671,"KRN",9.8,"NM",97,0)
ONCIPC2^^0^B39154587
"BLD",8671,"KRN",9.8,"NM",98,0)
ONCIPC2A^^0^B15090103
"BLD",8671,"KRN",9.8,"NM",99,0)
ONCIPC3^^0^B30435995
"BLD",8671,"KRN",9.8,"NM",100,0)
ONCIPC3A^^0^B55646126
"BLD",8671,"KRN",9.8,"NM",101,0)
ONCIPC3B^^0^B19559942
"BLD",8671,"KRN",9.8,"NM",102,0)
ONCIPC3C^^0^B51622848
"BLD",8671,"KRN",9.8,"NM",103,0)
ONCIPC4^^0^B10736683
"BLD",8671,"KRN",9.8,"NM",104,0)
ONCIPC5^^0^B29479405
"BLD",8671,"KRN",9.8,"NM",105,0)
ONCIPC6^^0^B3994103
"BLD",8671,"KRN",9.8,"NM",106,0)
ONCIPC8^^0^B43372549
"BLD",8671,"KRN",9.8,"NM",107,0)
ONCIPC8A^^0^B45475707
"BLD",8671,"KRN",9.8,"NM",108,0)
ONCIPC8B^^0^B37692944
"BLD",8671,"KRN",9.8,"NM",109,0)
ONCIPC8C^^0^B55402593
"BLD",8671,"KRN",9.8,"NM",110,0)
ONCLNG^^0^B16808865
"BLD",8671,"KRN",9.8,"NM",111,0)
ONCLNG1^^0^B99067756
"BLD",8671,"KRN",9.8,"NM",112,0)
ONCLPC0^^0^B10514022
"BLD",8671,"KRN",9.8,"NM",113,0)
ONCLPC1^^0^B19641216
"BLD",8671,"KRN",9.8,"NM",114,0)
ONCLPC2^^0^B3561890
"BLD",8671,"KRN",9.8,"NM",115,0)
ONCLPC3^^0^B40928003
"BLD",8671,"KRN",9.8,"NM",116,0)
ONCLPC4^^0^B2148069
"BLD",8671,"KRN",9.8,"NM",117,0)
ONCLPC5^^0^B21199473
"BLD",8671,"KRN",9.8,"NM",118,0)
ONCLPC6^^0^B4634497
"BLD",8671,"KRN",9.8,"NM",119,0)
ONCLPC7^^0^B706738
"BLD",8671,"KRN",9.8,"NM",120,0)
ONCLPC9^^0^B19952611
"BLD",8671,"KRN",9.8,"NM",121,0)
ONCLPC9A^^0^B51877997
"BLD",8671,"KRN",9.8,"NM",122,0)
ONCLPC9B^^0^B27297739
"BLD",8671,"KRN",9.8,"NM",123,0)
ONCMPC0^^0^B6357751
"BLD",8671,"KRN",9.8,"NM",124,0)
ONCMPC1^^0^B20744246
"BLD",8671,"KRN",9.8,"NM",125,0)
ONCMPC2^^0^B8443615
"BLD",8671,"KRN",9.8,"NM",126,0)
ONCMPC3^^0^B27786106
"BLD",8671,"KRN",9.8,"NM",127,0)
ONCMPC4^^0^B25043669
"BLD",8671,"KRN",9.8,"NM",128,0)
ONCMPC4A^^0^B56547671
"BLD",8671,"KRN",9.8,"NM",129,0)
ONCMPC5^^0^B3224779
"BLD",8671,"KRN",9.8,"NM",130,0)
ONCMPC6^^0^B4105582
"BLD",8671,"KRN",9.8,"NM",131,0)
ONCMPC7^^0^B2403676
"BLD",8671,"KRN",9.8,"NM",132,0)
ONCMPC9^^0^B18150335
"BLD",8671,"KRN",9.8,"NM",133,0)
ONCMPC9A^^0^B40240411
"BLD",8671,"KRN",9.8,"NM",134,0)
ONCMPC9B^^0^B9462793
"BLD",8671,"KRN",9.8,"NM",135,0)
ONCMPH^^0^B2009397
"BLD",8671,"KRN",9.8,"NM",136,0)
ONCNPC0^^0^B6754206
"BLD",8671,"KRN",9.8,"NM",137,0)
ONCNPC1^^0^B24268621
"BLD",8671,"KRN",9.8,"NM",138,0)
ONCNPC2^^0^B21531582
"BLD",8671,"KRN",9.8,"NM",139,0)
ONCNPC3^^0^B6292554
"BLD",8671,"KRN",9.8,"NM",140,0)
ONCNPC4^^0^B24146889
"BLD",8671,"KRN",9.8,"NM",141,0)
ONCNPC4A^^0^B24957911
"BLD",8671,"KRN",9.8,"NM",142,0)
ONCNPC5^^0^B2756999
"BLD",8671,"KRN",9.8,"NM",143,0)
ONCNPC6^^0^B4957274
"BLD",8671,"KRN",9.8,"NM",144,0)
ONCNPC8^^0^B21963914
"BLD",8671,"KRN",9.8,"NM",145,0)
ONCNPC8A^^0^B15586688
"BLD",8671,"KRN",9.8,"NM",146,0)
ONCNPC8B^^0^B33295209
"BLD",8671,"KRN",9.8,"NM",147,0)
ONCNPI^^0^B32186235
"BLD",8671,"KRN",9.8,"NM",148,0)
ONCNTX^^0^B87537325
"BLD",8671,"KRN",9.8,"NM",149,0)
ONCNTX1^^0^B56514658
"BLD",8671,"KRN",9.8,"NM",150,0)
ONCOAIC^^0^B11789159
"BLD",8671,"KRN",9.8,"NM",151,0)
ONCOAID^^0^B8458397
"BLD",8671,"KRN",9.8,"NM",152,0)
ONCOAIF^^0^B51005422
"BLD",8671,"KRN",9.8,"NM",153,0)
ONCOAIM^^0^B22101895
"BLD",8671,"KRN",9.8,"NM",154,0)
ONCOAIM2^^0^B3543064
"BLD",8671,"KRN",9.8,"NM",155,0)
ONCOAIP^^0^B104009853
"BLD",8671,"KRN",9.8,"NM",156,0)
ONCOAIP1^^0^B9531360
"BLD",8671,"KRN",9.8,"NM",157,0)
ONCOAIP2^^0^B3582117
"BLD",8671,"KRN",9.8,"NM",158,0)
ONCOAIQ^^0^B8053621
"BLD",8671,"KRN",9.8,"NM",159,0)
ONCOAIS^^0^B7347538
"BLD",8671,"KRN",9.8,"NM",160,0)
ONCOAIT^^0^B1211393
"BLD",8671,"KRN",9.8,"NM",161,0)
ONCOANC0^^0^B21445335
"BLD",8671,"KRN",9.8,"NM",162,0)
ONCOANC1^^0^B21219299
"BLD",8671,"KRN",9.8,"NM",163,0)
ONCOANC2^^0^B22555664
"BLD",8671,"KRN",9.8,"NM",164,0)
ONCOANC3^^0^B12213347
"BLD",8671,"KRN",9.8,"NM",165,0)
ONCOANC4^^0^B12799880
"BLD",8671,"KRN",9.8,"NM",166,0)
ONCOANC5^^0^B11158795
"BLD",8671,"KRN",9.8,"NM",167,0)
ONCOANC9^^0^B3745064
"BLD",8671,"KRN",9.8,"NM",168,0)
ONCOANCF^^0^B32058874
"BLD",8671,"KRN",9.8,"NM",169,0)
ONCOANCQ^^0^B21563256
"BLD",8671,"KRN",9.8,"NM",170,0)
ONCOAS^^0^B18131224
"BLD",8671,"KRN",9.8,"NM",171,0)
ONCOCC^^0^B44658900
"BLD",8671,"KRN",9.8,"NM",172,0)
ONCOCFL^^0^B4012582
"BLD",8671,"KRN",9.8,"NM",173,0)
ONCOCFL1^^0^B61829784
"BLD",8671,"KRN",9.8,"NM",174,0)
ONCOCFP^^0^B50437593
"BLD",8671,"KRN",9.8,"NM",175,0)
ONCOCFR^^0^B30967942
"BLD",8671,"KRN",9.8,"NM",176,0)
ONCOCKI^^0^B4437393
"BLD",8671,"KRN",9.8,"NM",177,0)
ONCOCOC^^0^B6349998
"BLD",8671,"KRN",9.8,"NM",178,0)
ONCOCOF^^0^B24341196
"BLD",8671,"KRN",9.8,"NM",179,0)
ONCOCOFA^^0^B2437896
"BLD",8671,"KRN",9.8,"NM",180,0)
ONCOCOM^^0^B52166923
"BLD",8671,"KRN",9.8,"NM",181,0)
ONCOCOML^^0^B1365958
"BLD",8671,"KRN",9.8,"NM",182,0)
ONCOCON^^0^B14433965
"BLD",8671,"KRN",9.8,"NM",183,0)
ONCOCOP^^0^B2361671
"BLD",8671,"KRN",9.8,"NM",184,0)
ONCOCOS^^0^B10618905
"BLD",8671,"KRN",9.8,"NM",185,0)
ONCOCRA^^0^B1506094
"BLD",8671,"KRN",9.8,"NM",186,0)
ONCOCRC^^0^B12766110
"BLD",8671,"KRN",9.8,"NM",187,0)
ONCOCRFA^^0^B3817093
"BLD",8671,"KRN",9.8,"NM",188,0)
ONCODEL^^0^B18347782
"BLD",8671,"KRN",9.8,"NM",189,0)
ONCODGR^^0^B2195125
"BLD",8671,"KRN",9.8,"NM",190,0)
ONCODLF^^0^B23576940
"BLD",8671,"KRN",9.8,"NM",191,0)
ONCODSP^^0^B53068263
"BLD",8671,"KRN",9.8,"NM",192,0)
ONCODSP1^^0^B21383416
"BLD",8671,"KRN",9.8,"NM",193,0)
ONCODSR^^0^B90029978
"BLD",8671,"KRN",9.8,"NM",194,0)
ONCODXD^^0^B17370508
"BLD",8671,"KRN",9.8,"NM",195,0)
ONCOEDC^^0^B26708219
"BLD",8671,"KRN",9.8,"NM",196,0)
ONCOEDC1^^0^B42257754
"BLD",8671,"KRN",9.8,"NM",197,0)
ONCOENA^^0^B1937983
"BLD",8671,"KRN",9.8,"NM",198,0)
ONCOENV^^0^B31499844
"BLD",8671,"KRN",9.8,"NM",199,0)
ONCOES^^0^B78691651
"BLD",8671,"KRN",9.8,"NM",200,0)
ONCOFDP^^0^B14855963
"BLD",8671,"KRN",9.8,"NM",201,0)
ONCOFLF^^0^B17881251
"BLD",8671,"KRN",9.8,"NM",202,0)
ONCOFTS^^0^B13151124
"BLD",8671,"KRN",9.8,"NM",203,0)
ONCOFUL^^0^B22246467
"BLD",8671,"KRN",9.8,"NM",204,0)
ONCOFUM^^0^B13605728
"BLD",8671,"KRN",9.8,"NM",205,0)
ONCOFUP^^0^B4216330
"BLD",8671,"KRN",9.8,"NM",206,0)
ONCOHELP^^0^B6721354
"BLD",8671,"KRN",9.8,"NM",207,0)
ONCOHICD^^0^B39778848
"BLD",8671,"KRN",9.8,"NM",208,0)
ONCOIT^^0^B37213574
"BLD",8671,"KRN",9.8,"NM",209,0)
ONCOLRU^^0^B7113449
"BLD",8671,"KRN",9.8,"NM",210,0)
ONCOMNI^^0^B57056639
"BLD",8671,"KRN",9.8,"NM",211,0)
ONCOOT^^0^B71002979
"BLD",8671,"KRN",9.8,"NM",212,0)
ONCOPA1^^0^B58176718
"BLD",8671,"KRN",9.8,"NM",213,0)
ONCOPA1A^^0^B57499640
"BLD",8671,"KRN",9.8,"NM",214,0)
ONCOPA2^^0^B44535183
"BLD",8671,"KRN",9.8,"NM",215,0)
ONCOPA2A^^0^B18422769
"BLD",8671,"KRN",9.8,"NM",216,0)
ONCOPA3^^0^B38378790
"BLD",8671,"KRN",9.8,"NM",217,0)
ONCOPA3A^^0^B27991276
"BLD",8671,"KRN",9.8,"NM",218,0)
ONCOPAR^^0^B13874306
"BLD",8671,"KRN",9.8,"NM",219,0)
ONCOPCE^^0^B70189715
"BLD",8671,"KRN",9.8,"NM",220,0)
ONCOPFX^^0^B4983959
"BLD",8671,"KRN",9.8,"NM",221,0)
ONCOPMA^^0^B23135907
"BLD",8671,"KRN",9.8,"NM",222,0)
ONCOPMP^^0^B3059088
"BLD",8671,"KRN",9.8,"NM",223,0)
ONCOPOS^^1^
"BLD",8671,"KRN",9.8,"NM",224,0)
ONCOPOS1^^1^
"BLD",8671,"KRN",9.8,"NM",225,0)
ONCOPOS2^^1^
"BLD",8671,"KRN",9.8,"NM",226,0)
ONCOPRE^^1^
"BLD",8671,"KRN",9.8,"NM",227,0)
ONCOPRT1^^0^B57470448
"BLD",8671,"KRN",9.8,"NM",228,0)
ONCORF^^0^B4849037
"BLD",8671,"KRN",9.8,"NM",229,0)
ONCOSA^^0^B9399540
"BLD",8671,"KRN",9.8,"NM",230,0)
ONCOSA1^^0^B11411674
"BLD",8671,"KRN",9.8,"NM",231,0)
ONCOSC^^0^B11427074
"BLD",8671,"KRN",9.8,"NM",232,0)
ONCOSC1^^0^B6612674
"BLD",8671,"KRN",9.8,"NM",233,0)
ONCOSCF^^0^B3938618
"BLD",8671,"KRN",9.8,"NM",234,0)
ONCOSCG^^0^B12768439
"BLD",8671,"KRN",9.8,"NM",235,0)
ONCOSCOM^^0^B3316978
"BLD",8671,"KRN",9.8,"NM",236,0)
ONCOSCT^^0^B11821848
"BLD",8671,"KRN",9.8,"NM",237,0)
ONCOSCT0^^0^B8671966
"BLD",8671,"KRN",9.8,"NM",238,0)
ONCOSCT1^^0^B7381828
"BLD",8671,"KRN",9.8,"NM",239,0)
ONCOSCT2^^0^B19240156
"BLD",8671,"KRN",9.8,"NM",240,0)
ONCOSCT3^^0^B2781384
"BLD",8671,"KRN",9.8,"NM",241,0)
ONCOSINP^^0^B9583126
"BLD",8671,"KRN",9.8,"NM",242,0)
ONCOSO^^0^B5178337
"BLD",8671,"KRN",9.8,"NM",243,0)
ONCOSSA^^0^B14757229
"BLD",8671,"KRN",9.8,"NM",244,0)
ONCOSSA1^^0^B15229749
"BLD",8671,"KRN",9.8,"NM",245,0)
ONCOSSA2^^0^B8003035
"BLD",8671,"KRN",9.8,"NM",246,0)
ONCOSSA3^^0^B3095497
"BLD",8671,"KRN",9.8,"NM",247,0)
ONCOSSA4^^0^B4638815
"BLD",8671,"KRN",9.8,"NM",248,0)
ONCOSSAT^^0^B12800639
"BLD",8671,"KRN",9.8,"NM",249,0)
ONCOST^^0^B2142434
"BLD",8671,"KRN",9.8,"NM",250,0)
ONCOST1^^0^B7690763
"BLD",8671,"KRN",9.8,"NM",251,0)
ONCOSUR^^0^B60090941
"BLD",8671,"KRN",9.8,"NM",252,0)
ONCOSUR1^^0^B36834583
"BLD",8671,"KRN",9.8,"NM",253,0)
ONCOSUR2^^0^B46917344
"BLD",8671,"KRN",9.8,"NM",254,0)
ONCOTM^^0^B12379399
"BLD",8671,"KRN",9.8,"NM",255,0)
ONCOTN0^^0^B49148768
"BLD",8671,"KRN",9.8,"NM",256,0)
ONCOTNE^^0^B30270501
"BLD",8671,"KRN",9.8,"NM",257,0)
ONCOTNM^^0^B137993546
"BLD",8671,"KRN",9.8,"NM",258,0)
ONCOTNMB^^0^B648870
"BLD",8671,"KRN",9.8,"NM",259,0)
ONCOTNMC^^0^B8836327
"BLD",8671,"KRN",9.8,"NM",260,0)
ONCOTNMX^^0^B1925096
"BLD",8671,"KRN",9.8,"NM",261,0)
ONCOTNO^^0^B21943756
"BLD",8671,"KRN",9.8,"NM",262,0)
ONCOTNS^^0^B19091763
"BLD",8671,"KRN",9.8,"NM",263,0)
ONCOU^^0^B20220840
"BLD",8671,"KRN",9.8,"NM",264,0)
ONCOU0^^0^B1976486
"BLD",8671,"KRN",9.8,"NM",265,0)
ONCOU0A^^0^B6489600
"BLD",8671,"KRN",9.8,"NM",266,0)
ONCOU55^^0^B29262224
"BLD",8671,"KRN",9.8,"NM",267,0)
ONCOU55A^^0^B9583374
"BLD",8671,"KRN",9.8,"NM",268,0)
ONCOU55B^^0^B2593325
"BLD",8671,"KRN",9.8,"NM",269,0)
ONCOUK^^0^B17650591
"BLD",8671,"KRN",9.8,"NM",270,0)
ONCOUTC^^0^B13598286
"BLD",8671,"KRN",9.8,"NM",271,0)
ONCP2P0^^0^B6652955
"BLD",8671,"KRN",9.8,"NM",272,0)
ONCP2P1^^0^B7499412
"BLD",8671,"KRN",9.8,"NM",273,0)
ONCP2P2^^0^B57787500
"BLD",8671,"KRN",9.8,"NM",274,0)
ONCP2P3^^0^B6759135
"BLD",8671,"KRN",9.8,"NM",275,0)
ONCP2P4^^0^B32183944
"BLD",8671,"KRN",9.8,"NM",276,0)
ONCP2P4A^^0^B62450775
"BLD",8671,"KRN",9.8,"NM",277,0)
ONCP2P5^^0^B2551370
"BLD",8671,"KRN",9.8,"NM",278,0)
ONCP2P6^^0^B5614385
"BLD",8671,"KRN",9.8,"NM",279,0)
ONCP2P8^^0^B37983685
"BLD",8671,"KRN",9.8,"NM",280,0)
ONCP2P8A^^0^B48523761
"BLD",8671,"KRN",9.8,"NM",281,0)
ONCP2P8B^^0^B3539945
"BLD",8671,"KRN",9.8,"NM",282,0)
ONCPAT^^0^B79038942
"BLD",8671,"KRN",9.8,"NM",283,0)
ONCPAT1^^0^B8589668
"BLD",8671,"KRN",9.8,"NM",284,0)
ONCPCDX^^0^B3257923
"BLD",8671,"KRN",9.8,"NM",285,0)
ONCPCI^^0^B24563873
"BLD",8671,"KRN",9.8,"NM",286,0)
ONCPCS^^0^B15624488
"BLD",8671,"KRN",9.8,"NM",287,0)
ONCPDI^^0^B7465905
"BLD",8671,"KRN",9.8,"NM",288,0)
ONCPHC^^0^B4459971
"BLD",8671,"KRN",9.8,"NM",289,0)
ONCPL^^0^B3168179
"BLD",8671,"KRN",9.8,"NM",290,0)
ONCPM^^0^B7795122
"BLD",8671,"KRN",9.8,"NM",291,0)
ONCPMB^^0^B3958592
"BLD",8671,"KRN",9.8,"NM",292,0)
ONCPMP^^0^B5711304
"BLD",8671,"KRN",9.8,"NM",293,0)
ONCPPC0^^0^B4092043
"BLD",8671,"KRN",9.8,"NM",294,0)
ONCPPC1^^0^B6064815
"BLD",8671,"KRN",9.8,"NM",295,0)
ONCPPC2^^0^B9874323
"BLD",8671,"KRN",9.8,"NM",296,0)
ONCPPC3^^0^B4428720
"BLD",8671,"KRN",9.8,"NM",297,0)
ONCPPC4^^0^B17202238
"BLD",8671,"KRN",9.8,"NM",298,0)
ONCPPC5^^0^B4818379
"BLD",8671,"KRN",9.8,"NM",299,0)
ONCPPC6^^0^B18098095
"BLD",8671,"KRN",9.8,"NM",300,0)
ONCPPC7^^0^B5416472
"BLD",8671,"KRN",9.8,"NM",301,0)
ONCPPC9^^0^B28731845
"BLD",8671,"KRN",9.8,"NM",302,0)
ONCPPC9A^^0^B22989622
"BLD",8671,"KRN",9.8,"NM",303,0)
ONCPPC9B^^0^B27659546
"BLD",8671,"KRN",9.8,"NM",304,0)
ONCPSD^^0^B6627917
"BLD",8671,"KRN",9.8,"NM",305,0)
ONCPTHST^^0^B3958786
"BLD",8671,"KRN",9.8,"NM",306,0)
ONCPTX^^0^B84842424
"BLD",8671,"KRN",9.8,"NM",307,0)
ONCRESTG^^0^B5694007
"BLD",8671,"KRN",9.8,"NM",308,0)
ONCRFNR^^0^B2850594
"BLD",8671,"KRN",9.8,"NM",309,0)
ONCRPC^^0^B15093875
"BLD",8671,"KRN",9.8,"NM",310,0)
ONCRR^^0^B7087743
"BLD",8671,"KRN",9.8,"NM",311,0)
ONCSAPI^^0^B5706621
"BLD",8671,"KRN",9.8,"NM",312,0)
ONCSAPI1^^0^B26797085
"BLD",8671,"KRN",9.8,"NM",313,0)
ONCSAPI3^^0^B55610697
"BLD",8671,"KRN",9.8,"NM",314,0)
ONCSAPID^^0^B21859405
"BLD",8671,"KRN",9.8,"NM",315,0)
ONCSAPIE^^0^B58002089
"BLD",8671,"KRN",9.8,"NM",316,0)
ONCSAPIR^^0^B26610695
"BLD",8671,"KRN",9.8,"NM",317,0)
ONCSAPIS^^0^B9309557
"BLD",8671,"KRN",9.8,"NM",318,0)
ONCSAPIT^^0^B77972147
"BLD",8671,"KRN",9.8,"NM",319,0)
ONCSAPIU^^0^B7316141
"BLD",8671,"KRN",9.8,"NM",320,0)
ONCSAPIV^^0^B11259789
"BLD",8671,"KRN",9.8,"NM",321,0)
ONCSAPIX^^0^B9859486
"BLD",8671,"KRN",9.8,"NM",322,0)
ONCSED01^^0^B13507255
"BLD",8671,"KRN",9.8,"NM",323,0)
ONCSED02^^0^B17490289
"BLD",8671,"KRN",9.8,"NM",324,0)
ONCSED03^^0^B44378907
"BLD",8671,"KRN",9.8,"NM",325,0)
ONCSED04^^0^B25577841
"BLD",8671,"KRN",9.8,"NM",326,0)
ONCSEDEM^^0^B3657858
"BLD",8671,"KRN",9.8,"NM",327,0)
ONCSG0^^0^B49166434
"BLD",8671,"KRN",9.8,"NM",328,0)
ONCSG0A^^0^B30426924
"BLD",8671,"KRN",9.8,"NM",329,0)
ONCSG2^^0^B55673512
"BLD",8671,"KRN",9.8,"NM",330,0)
ONCSG3^^0^B70543239
"BLD",8671,"KRN",9.8,"NM",331,0)
ONCSG4^^0^B79706344
"BLD",8671,"KRN",9.8,"NM",332,0)
ONCSG4A^^0^B18136273
"BLD",8671,"KRN",9.8,"NM",333,0)
ONCSG5^^0^B67058899
"BLD",8671,"KRN",9.8,"NM",334,0)
ONCSG5A^^0^B64524003
"BLD",8671,"KRN",9.8,"NM",335,0)
ONCSNACR^^0^B6005907
"BLD",8671,"KRN",9.8,"NM",336,0)
ONCSPC0^^0^B16826730
"BLD",8671,"KRN",9.8,"NM",337,0)
ONCSPC1^^0^B7803234
"BLD",8671,"KRN",9.8,"NM",338,0)
ONCSPC2^^0^B16192359
"BLD",8671,"KRN",9.8,"NM",339,0)
ONCSPC3^^0^B13539346
"BLD",8671,"KRN",9.8,"NM",340,0)
ONCSPC4^^0^B38181307
"BLD",8671,"KRN",9.8,"NM",341,0)
ONCSPC4A^^0^B38376501
"BLD",8671,"KRN",9.8,"NM",342,0)
ONCSPC5^^0^B10166482
"BLD",8671,"KRN",9.8,"NM",343,0)
ONCSPC6^^0^B4640534
"BLD",8671,"KRN",9.8,"NM",344,0)
ONCSPC8^^0^B42929610
"BLD",8671,"KRN",9.8,"NM",345,0)
ONCSPC8A^^0^B39737162
"BLD",8671,"KRN",9.8,"NM",346,0)
ONCSSF1^^0^B36723126
"BLD",8671,"KRN",9.8,"NM",347,0)
ONCSSF2^^0^B21276764
"BLD",8671,"KRN",9.8,"NM",348,0)
ONCSSF25^^0^B13108569
"BLD",8671,"KRN",9.8,"NM",349,0)
ONCSSF3^^0^B23518844
"BLD",8671,"KRN",9.8,"NM",350,0)
ONCSSF4^^0^B20855629
"BLD",8671,"KRN",9.8,"NM",351,0)
ONCSSF5^^0^B21087348
"BLD",8671,"KRN",9.8,"NM",352,0)
ONCSSF6^^0^B22917384
"BLD",8671,"KRN",9.8,"NM",353,0)
ONCSTX^^0^B967309
"BLD",8671,"KRN",9.8,"NM",354,0)
ONCSUBS^^0^B7009875
"BLD",8671,"KRN",9.8,"NM",355,0)
ONCSYMP^^0^B11984863
"BLD",8671,"KRN",9.8,"NM",356,0)
ONCTEXT^^0^B1290050
"BLD",8671,"KRN",9.8,"NM",357,0)
ONCTIME^^0^B14762855
"BLD",8671,"KRN",9.8,"NM",358,0)
ONCTNMC^^0^B9628869
"BLD",8671,"KRN",9.8,"NM",359,0)
ONCTPC0^^0^B9479356
"BLD",8671,"KRN",9.8,"NM",360,0)
ONCTPC1^^0^B14593845
"BLD",8671,"KRN",9.8,"NM",361,0)
ONCTPC2^^0^B14770718
"BLD",8671,"KRN",9.8,"NM",362,0)
ONCTPC3^^0^B10519366
"BLD",8671,"KRN",9.8,"NM",363,0)
ONCTPC4^^0^B32657444
"BLD",8671,"KRN",9.8,"NM",364,0)
ONCTPC5^^0^B10087071
"BLD",8671,"KRN",9.8,"NM",365,0)
ONCTPC6^^0^B5416628
"BLD",8671,"KRN",9.8,"NM",366,0)
ONCTPC8^^0^B44121595
"BLD",8671,"KRN",9.8,"NM",367,0)
ONCTPC8A^^0^B27301984
"BLD",8671,"KRN",9.8,"NM",368,0)
ONCTXSM^^0^B19167802
"BLD",8671,"KRN",9.8,"NM",369,0)
ONCUTX^^0^B37076017
"BLD",8671,"KRN",9.8,"NM",370,0)
ONCUTX1^^0^B32335696
"BLD",8671,"KRN",9.8,"NM",371,0)
ONCX^^0^B59681
"BLD",8671,"KRN",9.8,"NM",372,0)
ONCX10^^0^B13422084
"BLD",8671,"KRN",9.8,"NM",373,0)
ONCX10A^^0^B32534122
"BLD",8671,"KRN",9.8,"NM",374,0)
ONCXDEM^^0^B3540836
"BLD",8671,"KRN",9.8,"NM",375,0)
ONCXERR^^0^B5253465
"BLD",8671,"KRN",9.8,"NM",376,0)
ONCXURL^^0^B3380054
"BLD",8671,"KRN",9.8,"NM",377,0)
ONC2PS01^^0^B134442865
"BLD",8671,"KRN",9.8,"NM",378,0)
ONCENV16^^1^
"BLD",8671,"KRN",9.8,"NM",379,0)
ONCENV21^^1^
"BLD",8671,"KRN",9.8,"NM",380,0)
ONCPOS6^^1^
"BLD",8671,"KRN",9.8,"NM",381,0)
ONCPST11^^1^
"BLD",8671,"KRN",9.8,"NM",382,0)
ONCPST13^^1^
"BLD",8671,"KRN",9.8,"NM",383,0)
ONCPST15^^1^
"BLD",8671,"KRN",9.8,"NM",384,0)
ONCPST19^^1^
"BLD",8671,"KRN",9.8,"NM",385,0)
ONCPST22^^1^
"BLD",8671,"KRN",9.8,"NM",386,0)
ONCPST40^^1^
"BLD",8671,"KRN",9.8,"NM",387,0)
ONCPST51^^1^
"BLD",8671,"KRN",9.8,"NM",388,0)
ONCPST52^^1^
"BLD",8671,"KRN",9.8,"NM",389,0)
ONCPST53^^1^
"BLD",8671,"KRN",9.8,"NM",390,0)
ONCPST54^^1^
"BLD",8671,"KRN",9.8,"NM",391,0)
ONCPST56^^1^
"BLD",8671,"KRN",9.8,"NM",392,0)
ONCPST57^^1^
"BLD",8671,"KRN",9.8,"NM",393,0)
ONCPS53A^^1^
"BLD",8671,"KRN",9.8,"NM",394,0)
ONCPS53B^^1^
"BLD",8671,"KRN",9.8,"NM",395,0)
ONCPS53C^^1^
"BLD",8671,"KRN",9.8,"NM",396,0)
ONCPS54A^^1^
"BLD",8671,"KRN",9.8,"NM",397,0)
ONCPRE6^^1^
"BLD",8671,"KRN",9.8,"NM",398,0)
ONCPRE7^^1^
"BLD",8671,"KRN",9.8,"NM",399,0)
ONCPRE13^^1^
"BLD",8671,"KRN",9.8,"NM",400,0)
ONCPREMR^^1^
"BLD",8671,"KRN",9.8,"NM",401,0)
ONCPRE12^^1^
"BLD",8671,"KRN",9.8,"NM",402,0)
ONCPRE14^^1^
"BLD",8671,"KRN",9.8,"NM",403,0)
ONCPRE15^^1^
"BLD",8671,"KRN",9.8,"NM",404,0)
ONCPRE16^^1^
"BLD",8671,"KRN",9.8,"NM",405,0)
ONCPRE17^^1^
"BLD",8671,"KRN",9.8,"NM",406,0)
ONCPRE18^^1^
"BLD",8671,"KRN",9.8,"NM",407,0)
ONCPRE19^^1^
"BLD",8671,"KRN",9.8,"NM",408,0)
ONCPRE20^^1^
"BLD",8671,"KRN",9.8,"NM",409,0)
ONCPRE21^^1^
"BLD",8671,"KRN",9.8,"NM",410,0)
ONCPRE22^^1^
"BLD",8671,"KRN",9.8,"NM",411,0)
ONCPRE23^^1^
"BLD",8671,"KRN",9.8,"NM",412,0)
ONCPRE51^^1^
"BLD",8671,"KRN",9.8,"NM",413,0)
ONCPRE52^^1^
"BLD",8671,"KRN",9.8,"NM",414,0)
ONCPRE53^^1^
"BLD",8671,"KRN",9.8,"NM",415,0)
ONCPRE54^^1^
"BLD",8671,"KRN",9.8,"NM",416,0)
ONCFIX^^1^
"BLD",8671,"KRN",9.8,"NM",417,0)
ONCP36^^1^
"BLD",8671,"KRN",9.8,"NM",418,0)
ONCP36A^^1^
"BLD",8671,"KRN",9.8,"NM",419,0)
ONCP36A1^^1^
"BLD",8671,"KRN",9.8,"NM",420,0)
ONCP36A2^^1^
"BLD",8671,"KRN",9.8,"NM",421,0)
ONCP36B^^1^
"BLD",8671,"KRN",9.8,"NM",422,0)
ONCP36B1^^1^
"BLD",8671,"KRN",9.8,"NM",423,0)
ONCP36C^^1^
"BLD",8671,"KRN",9.8,"NM",424,0)
ONCP36D^^1^
"BLD",8671,"KRN",9.8,"NM",425,0)
ONCP36E^^1^
"BLD",8671,"KRN",9.8,"NM",426,0)
ONCP36F^^1^
"BLD",8671,"KRN",9.8,"NM",427,0)
ONCOPST^^1^
"BLD",8671,"KRN",9.8,"NM",428,0)
ONCOPST1^^1^
"BLD",8671,"KRN",9.8,"NM",429,0)
ONCOPST2^^1^
"BLD",8671,"KRN",9.8,"NM",430,0)
ONCOPST3^^1^
"BLD",8671,"KRN",9.8,"NM",431,0)
ONCOPST4^^1^
"BLD",8671,"KRN",9.8,"NM",432,0)
ONC2PS1A^^0^B43511605
"BLD",8671,"KRN",9.8,"NM","B","ONC2PS01",377)

"BLD",8671,"KRN",9.8,"NM","B","ONC2PS1A",432)

"BLD",8671,"KRN",9.8,"NM","B","ONCACD0",1)

"BLD",8671,"KRN",9.8,"NM","B","ONCACD1",2)

"BLD",8671,"KRN",9.8,"NM","B","ONCACDU1",3)

"BLD",8671,"KRN",9.8,"NM","B","ONCACDU2",19)

"BLD",8671,"KRN",9.8,"NM","B","ONCASCI",20)

"BLD",8671,"KRN",9.8,"NM","B","ONCATF",21)

"BLD",8671,"KRN",9.8,"NM","B","ONCATF1",22)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC0",23)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC1",24)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC2",25)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC3",26)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC4",27)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC4A",28)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC5",29)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC6",30)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC8",31)

"BLD",8671,"KRN",9.8,"NM","B","ONCBPC8A",32)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP0",33)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP1",34)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP2",35)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP3",36)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP4",37)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP5",38)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP5A",39)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP6",40)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP7",41)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP9",42)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP9A",43)

"BLD",8671,"KRN",9.8,"NM","B","ONCBRP9B",44)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC0",45)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC1",46)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC2",47)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC3",48)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC4",49)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC4A",50)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC5",51)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC6",52)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC7",53)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC9",54)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC9A",55)

"BLD",8671,"KRN",9.8,"NM","B","ONCCPC9B",56)

"BLD",8671,"KRN",9.8,"NM","B","ONCCS",58)

"BLD",8671,"KRN",9.8,"NM","B","ONCCS2",59)

"BLD",8671,"KRN",9.8,"NM","B","ONCCS3",60)

"BLD",8671,"KRN",9.8,"NM","B","ONCCSOT",61)

"BLD",8671,"KRN",9.8,"NM","B","ONCCSRS",62)

"BLD",8671,"KRN",9.8,"NM","B","ONCCSSTF",63)

"BLD",8671,"KRN",9.8,"NM","B","ONCCSV2",64)

"BLD",8671,"KRN",9.8,"NM","B","ONCCSV2A",65)

"BLD",8671,"KRN",9.8,"NM","B","ONCDTUTL",66)

"BLD",8671,"KRN",9.8,"NM","B","ONCDTX",67)

"BLD",8671,"KRN",9.8,"NM","B","ONCDTX1",68)

"BLD",8671,"KRN",9.8,"NM","B","ONCEDIT",69)

"BLD",8671,"KRN",9.8,"NM","B","ONCEDIT2",70)

"BLD",8671,"KRN",9.8,"NM","B","ONCEECA",71)

"BLD",8671,"KRN",9.8,"NM","B","ONCENV16",378)

"BLD",8671,"KRN",9.8,"NM","B","ONCENV21",379)

"BLD",8671,"KRN",9.8,"NM","B","ONCFIX",416)

"BLD",8671,"KRN",9.8,"NM","B","ONCFUNC",72)

"BLD",8671,"KRN",9.8,"NM","B","ONCGENED",73)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC0",74)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC1",75)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC2",76)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC3",77)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC4",78)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC5",79)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC7",80)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC7A",81)

"BLD",8671,"KRN",9.8,"NM","B","ONCGPC7B",82)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC0",83)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC1",84)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC2",85)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC2A",86)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC3",87)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC4",88)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC4A",89)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC5",90)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC6",91)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC8",92)

"BLD",8671,"KRN",9.8,"NM","B","ONCHPC8A",93)

"BLD",8671,"KRN",9.8,"NM","B","ONCHTWT",94)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC0",95)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC1",96)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC2",97)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC2A",98)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC3",99)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC3A",100)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC3B",101)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC3C",102)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC4",103)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC5",104)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC6",105)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC8",106)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC8A",107)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC8B",108)

"BLD",8671,"KRN",9.8,"NM","B","ONCIPC8C",109)

"BLD",8671,"KRN",9.8,"NM","B","ONCLNG",110)

"BLD",8671,"KRN",9.8,"NM","B","ONCLNG1",111)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC0",112)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC1",113)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC2",114)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC3",115)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC4",116)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC5",117)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC6",118)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC7",119)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC9",120)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC9A",121)

"BLD",8671,"KRN",9.8,"NM","B","ONCLPC9B",122)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC0",123)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC1",124)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC2",125)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC3",126)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC4",127)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC4A",128)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC5",129)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC6",130)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC7",131)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC9",132)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC9A",133)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPC9B",134)

"BLD",8671,"KRN",9.8,"NM","B","ONCMPH",135)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC0",136)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC1",137)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC2",138)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC3",139)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC4",140)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC4A",141)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC5",142)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC6",143)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC8",144)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC8A",145)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPC8B",146)

"BLD",8671,"KRN",9.8,"NM","B","ONCNPI",147)

"BLD",8671,"KRN",9.8,"NM","B","ONCNTX",148)

"BLD",8671,"KRN",9.8,"NM","B","ONCNTX1",149)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAI",4)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIC",150)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAID",151)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIF",152)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIM",153)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIM2",154)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIP",155)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIP1",156)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIP2",157)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIQ",158)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIS",159)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAIT",160)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC0",161)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC1",162)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC2",163)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC3",164)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC4",165)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC5",166)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANC9",167)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANCF",168)

"BLD",8671,"KRN",9.8,"NM","B","ONCOANCQ",169)

"BLD",8671,"KRN",9.8,"NM","B","ONCOAS",170)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCC",171)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCFL",172)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCFL1",173)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCFP",174)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCFR",175)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCKI",176)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOC",177)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOF",178)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOFA",179)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOM",180)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOML",181)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCON",182)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOP",183)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCOS",184)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCRA",185)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCRC",186)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCRF",5)

"BLD",8671,"KRN",9.8,"NM","B","ONCOCRFA",187)

"BLD",8671,"KRN",9.8,"NM","B","ONCODEL",188)

"BLD",8671,"KRN",9.8,"NM","B","ONCODGR",189)

"BLD",8671,"KRN",9.8,"NM","B","ONCODIS",14)

"BLD",8671,"KRN",9.8,"NM","B","ONCODLF",190)

"BLD",8671,"KRN",9.8,"NM","B","ONCODSP",191)

"BLD",8671,"KRN",9.8,"NM","B","ONCODSP1",192)

"BLD",8671,"KRN",9.8,"NM","B","ONCODSR",193)

"BLD",8671,"KRN",9.8,"NM","B","ONCODXD",194)

"BLD",8671,"KRN",9.8,"NM","B","ONCOEDC",195)

"BLD",8671,"KRN",9.8,"NM","B","ONCOEDC1",196)

"BLD",8671,"KRN",9.8,"NM","B","ONCOENA",197)

"BLD",8671,"KRN",9.8,"NM","B","ONCOENV",198)

"BLD",8671,"KRN",9.8,"NM","B","ONCOES",199)

"BLD",8671,"KRN",9.8,"NM","B","ONCOFDP",200)

"BLD",8671,"KRN",9.8,"NM","B","ONCOFLF",201)

"BLD",8671,"KRN",9.8,"NM","B","ONCOFTS",202)

"BLD",8671,"KRN",9.8,"NM","B","ONCOFUL",203)

"BLD",8671,"KRN",9.8,"NM","B","ONCOFUM",204)

"BLD",8671,"KRN",9.8,"NM","B","ONCOFUP",205)

"BLD",8671,"KRN",9.8,"NM","B","ONCOGEN",8)

"BLD",8671,"KRN",9.8,"NM","B","ONCOHELP",206)

"BLD",8671,"KRN",9.8,"NM","B","ONCOHICD",207)

"BLD",8671,"KRN",9.8,"NM","B","ONCOIT",208)

"BLD",8671,"KRN",9.8,"NM","B","ONCOLRU",209)

"BLD",8671,"KRN",9.8,"NM","B","ONCOMNI",210)

"BLD",8671,"KRN",9.8,"NM","B","ONCOOT",211)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPA1",212)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPA1A",213)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPA2",214)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPA2A",215)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPA3",216)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPA3A",217)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPAR",218)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPCE",219)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPFX",220)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPMA",221)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPMB",6)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPMP",222)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPOS",223)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPOS1",224)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPOS2",225)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPRE",226)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPRT",7)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPRT1",227)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPST",427)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPST1",428)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPST2",429)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPST3",430)

"BLD",8671,"KRN",9.8,"NM","B","ONCOPST4",431)

"BLD",8671,"KRN",9.8,"NM","B","ONCORF",228)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSA",229)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSA1",230)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSC",231)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSC1",232)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCF",233)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCG",234)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCOM",235)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCT",236)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCT0",237)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCT1",238)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCT2",239)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSCT3",240)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSINP",241)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSO",242)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSSA",243)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSSA1",244)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSSA2",245)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSSA3",246)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSSA4",247)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSSAT",248)

"BLD",8671,"KRN",9.8,"NM","B","ONCOST",249)

"BLD",8671,"KRN",9.8,"NM","B","ONCOST1",250)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSUR",251)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSUR1",252)

"BLD",8671,"KRN",9.8,"NM","B","ONCOSUR2",253)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTM",254)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTN",9)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTN0",255)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNE",256)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNM",257)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNMB",258)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNMC",259)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNMX",260)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNO",261)

"BLD",8671,"KRN",9.8,"NM","B","ONCOTNS",262)

"BLD",8671,"KRN",9.8,"NM","B","ONCOU",263)

"BLD",8671,"KRN",9.8,"NM","B","ONCOU0",264)

"BLD",8671,"KRN",9.8,"NM","B","ONCOU0A",265)

"BLD",8671,"KRN",9.8,"NM","B","ONCOU55",266)

"BLD",8671,"KRN",9.8,"NM","B","ONCOU55A",267)

"BLD",8671,"KRN",9.8,"NM","B","ONCOU55B",268)

"BLD",8671,"KRN",9.8,"NM","B","ONCOUK",269)

"BLD",8671,"KRN",9.8,"NM","B","ONCOUTC",270)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P0",271)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P1",272)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P2",273)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P3",274)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P4",275)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P4A",276)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P5",277)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P6",278)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P8",279)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P8A",280)

"BLD",8671,"KRN",9.8,"NM","B","ONCP2P8B",281)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36",417)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36A",418)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36A1",419)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36A2",420)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36B",421)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36B1",422)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36C",423)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36D",424)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36E",425)

"BLD",8671,"KRN",9.8,"NM","B","ONCP36F",426)

"BLD",8671,"KRN",9.8,"NM","B","ONCPAT",282)

"BLD",8671,"KRN",9.8,"NM","B","ONCPAT1",283)

"BLD",8671,"KRN",9.8,"NM","B","ONCPCDX",284)

"BLD",8671,"KRN",9.8,"NM","B","ONCPCI",285)

"BLD",8671,"KRN",9.8,"NM","B","ONCPCS",286)

"BLD",8671,"KRN",9.8,"NM","B","ONCPDI",287)

"BLD",8671,"KRN",9.8,"NM","B","ONCPHC",288)

"BLD",8671,"KRN",9.8,"NM","B","ONCPL",289)

"BLD",8671,"KRN",9.8,"NM","B","ONCPM",290)

"BLD",8671,"KRN",9.8,"NM","B","ONCPMB",291)

"BLD",8671,"KRN",9.8,"NM","B","ONCPMC",10)

"BLD",8671,"KRN",9.8,"NM","B","ONCPML",11)

"BLD",8671,"KRN",9.8,"NM","B","ONCPMP",292)

"BLD",8671,"KRN",9.8,"NM","B","ONCPOS6",380)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC0",293)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC1",294)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC2",295)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC3",296)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC4",297)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC5",298)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC6",299)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC7",300)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC9",301)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC9A",302)

"BLD",8671,"KRN",9.8,"NM","B","ONCPPC9B",303)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE12",401)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE13",399)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE14",402)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE15",403)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE16",404)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE17",405)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE18",406)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE19",407)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE20",408)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE21",409)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE22",410)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE23",411)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE51",412)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE52",413)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE53",414)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE54",415)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE6",397)

"BLD",8671,"KRN",9.8,"NM","B","ONCPRE7",398)

"BLD",8671,"KRN",9.8,"NM","B","ONCPREMR",400)

"BLD",8671,"KRN",9.8,"NM","B","ONCPS53A",393)

"BLD",8671,"KRN",9.8,"NM","B","ONCPS53B",394)

"BLD",8671,"KRN",9.8,"NM","B","ONCPS53C",395)

"BLD",8671,"KRN",9.8,"NM","B","ONCPS54A",396)

"BLD",8671,"KRN",9.8,"NM","B","ONCPSD",304)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST11",381)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST13",382)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST15",383)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST19",384)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST22",385)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST40",386)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST51",387)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST52",388)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST53",389)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST54",390)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST56",391)

"BLD",8671,"KRN",9.8,"NM","B","ONCPST57",392)

"BLD",8671,"KRN",9.8,"NM","B","ONCPTHST",305)

"BLD",8671,"KRN",9.8,"NM","B","ONCPTX",306)

"BLD",8671,"KRN",9.8,"NM","B","ONCRESTG",307)

"BLD",8671,"KRN",9.8,"NM","B","ONCRFNR",308)

"BLD",8671,"KRN",9.8,"NM","B","ONCRPC",309)

"BLD",8671,"KRN",9.8,"NM","B","ONCRR",310)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPI",311)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPI1",312)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPI3",313)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPID",314)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIE",315)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIR",316)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIS",317)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIT",318)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIU",319)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIV",320)

"BLD",8671,"KRN",9.8,"NM","B","ONCSAPIX",321)

"BLD",8671,"KRN",9.8,"NM","B","ONCSED01",322)

"BLD",8671,"KRN",9.8,"NM","B","ONCSED02",323)

"BLD",8671,"KRN",9.8,"NM","B","ONCSED03",324)

"BLD",8671,"KRN",9.8,"NM","B","ONCSED04",325)

"BLD",8671,"KRN",9.8,"NM","B","ONCSEDEM",326)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG0",327)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG0A",328)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG1",12)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG1A",13)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG2",329)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG3",330)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG4",331)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG4A",332)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG5",333)

"BLD",8671,"KRN",9.8,"NM","B","ONCSG5A",334)

"BLD",8671,"KRN",9.8,"NM","B","ONCSNACR",335)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC0",336)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC1",337)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC2",338)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC3",339)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC4",340)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC4A",341)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC5",342)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC6",343)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC8",344)

"BLD",8671,"KRN",9.8,"NM","B","ONCSPC8A",345)

"BLD",8671,"KRN",9.8,"NM","B","ONCSRV",15)

"BLD",8671,"KRN",9.8,"NM","B","ONCSRV01",16)

"BLD",8671,"KRN",9.8,"NM","B","ONCSRVRP",18)

"BLD",8671,"KRN",9.8,"NM","B","ONCSRVTM",17)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF1",346)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF2",347)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF25",348)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF3",349)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF4",350)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF5",351)

"BLD",8671,"KRN",9.8,"NM","B","ONCSSF6",352)

"BLD",8671,"KRN",9.8,"NM","B","ONCSTX",353)

"BLD",8671,"KRN",9.8,"NM","B","ONCSUBS",354)

"BLD",8671,"KRN",9.8,"NM","B","ONCSYMP",355)

"BLD",8671,"KRN",9.8,"NM","B","ONCTEXT",356)

"BLD",8671,"KRN",9.8,"NM","B","ONCTIME",357)

"BLD",8671,"KRN",9.8,"NM","B","ONCTNMC",358)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC0",359)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC1",360)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC2",361)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC3",362)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC4",363)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC5",364)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC6",365)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC8",366)

"BLD",8671,"KRN",9.8,"NM","B","ONCTPC8A",367)

"BLD",8671,"KRN",9.8,"NM","B","ONCTXSM",368)

"BLD",8671,"KRN",9.8,"NM","B","ONCUTX",369)

"BLD",8671,"KRN",9.8,"NM","B","ONCUTX1",370)

"BLD",8671,"KRN",9.8,"NM","B","ONCX",371)

"BLD",8671,"KRN",9.8,"NM","B","ONCX10",372)

"BLD",8671,"KRN",9.8,"NM","B","ONCX10A",373)

"BLD",8671,"KRN",9.8,"NM","B","ONCXDEM",374)

"BLD",8671,"KRN",9.8,"NM","B","ONCXERR",375)

"BLD",8671,"KRN",9.8,"NM","B","ONCXURL",376)

"BLD",8671,"KRN",19,0)
19
"BLD",8671,"KRN",19,"NM",0)
^9.68A^1^1
"BLD",8671,"KRN",19,"NM",1,0)
ONCSERVER^^0
"BLD",8671,"KRN",19,"NM","B","ONCSERVER",1)

"BLD",8671,"KRN",19.1,0)
19.1
"BLD",8671,"KRN",101,0)
101
"BLD",8671,"KRN",409.61,0)
409.61
"BLD",8671,"KRN",771,0)
771
"BLD",8671,"KRN",779.2,0)
779.2
"BLD",8671,"KRN",870,0)
870
"BLD",8671,"KRN",8989.51,0)
8989.51
"BLD",8671,"KRN",8989.52,0)
8989.52
"BLD",8671,"KRN",8994,0)
8994
"BLD",8671,"KRN","B",.4,.4)

"BLD",8671,"KRN","B",.401,.401)

"BLD",8671,"KRN","B",.402,.402)

"BLD",8671,"KRN","B",.403,.403)

"BLD",8671,"KRN","B",.5,.5)

"BLD",8671,"KRN","B",.84,.84)

"BLD",8671,"KRN","B",3.6,3.6)

"BLD",8671,"KRN","B",3.8,3.8)

"BLD",8671,"KRN","B",9.2,9.2)

"BLD",8671,"KRN","B",9.8,9.8)

"BLD",8671,"KRN","B",19,19)

"BLD",8671,"KRN","B",19.1,19.1)

"BLD",8671,"KRN","B",101,101)

"BLD",8671,"KRN","B",409.61,409.61)

"BLD",8671,"KRN","B",771,771)

"BLD",8671,"KRN","B",779.2,779.2)

"BLD",8671,"KRN","B",870,870)

"BLD",8671,"KRN","B",8989.51,8989.51)

"BLD",8671,"KRN","B",8989.52,8989.52)

"BLD",8671,"KRN","B",8994,8994)

"BLD",8671,"QUES",0)
^9.62^^
"BLD",8671,"REQB",0)
^9.611^1^1
"BLD",8671,"REQB",1,0)
ONC*2.11*57^2
"BLD",8671,"REQB","B","ONC*2.11*57",1)

"DATA",160.16,1,0)
NCDB EXTRACT V14.0
"DATA",160.16,1,"FIELD",0)
^160.161I^753^443
"DATA",160.16,1,"FIELD",1,0)
1^1^1^Record Type
"DATA",160.16,1,"FIELD",1,1)
S ACDANS="I"
"DATA",160.16,1,"FIELD",1,2)
BLANK
"DATA",160.16,1,"FIELD",1,3)
L,BLANK^10
"DATA",160.16,1,"FIELD",1,4)
I = Incidence-only record type (nonconfidential coded data) Length = 3339
"DATA",160.16,1,"FIELD",2,0)
42^8^49^Patient ID Number
"DATA",160.16,1,"FIELD",2,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",2,2)
BLANK
"DATA",160.16,1,"FIELD",2,3)
L,BLANK^20
"DATA",160.16,1,"FIELD",3,0)
2^1^2^Registry Type
"DATA",160.16,1,"FIELD",3,1)
S ACDANS=3
"DATA",160.16,1,"FIELD",3,2)
BLANK
"DATA",160.16,1,"FIELD",3,3)
L,BLANK^30
"DATA",160.16,1,"FIELD",3,4)
3 Single hospital/freestanding center
"DATA",160.16,1,"FIELD",5,0)
17^3^19^NAACCR Record Version
"DATA",160.16,1,"FIELD",5,1)
S ACDANS=140
"DATA",160.16,1,"FIELD",5,2)
BLANK
"DATA",160.16,1,"FIELD",5,3)
L,BLANK^50
"DATA",160.16,1,"FIELD",5,4)
14.0
"DATA",160.16,1,"FIELD",6,0)
30^10^39^Registry Id
"DATA",160.16,1,"FIELD",6,1)
S ACDANS=STAT1
"DATA",160.16,1,"FIELD",6,2)
ZERO
"DATA",160.16,1,"FIELD",6,3)
L,ZERO^40
"DATA",160.16,1,"FIELD",6,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,1,"FIELD",18,0)
147^9^155^Addr at DX--Postal Code
"DATA",160.16,1,"FIELD",18,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,9,"I") D STRIP~ONCACDU2
"DATA",160.16,1,"FIELD",18,2)
BLANK
"DATA",160.16,1,"FIELD",18,3)
R,BLANK^100
"DATA",160.16,1,"FIELD",18,4)
POSTAL CODE AT DX (165.5,9)
"DATA",160.16,1,"FIELD",26,0)
168^6^173^Census Tract 2000
"DATA",160.16,1,"FIELD",26,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,1,"FIELD",26,2)
BLANK
"DATA",160.16,1,"FIELD",26,3)
L,BLANK^130
"DATA",160.16,1,"FIELD",26,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,1,"FIELD",29,0)
175^1^175^Census Tr Certainty 2000
"DATA",160.16,1,"FIELD",29,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",29,2)
BLANK
"DATA",160.16,1,"FIELD",29,3)
L,BLANK^365
"DATA",160.16,1,"FIELD",30,0)
176^1^176^Marital Status at DX
"DATA",160.16,1,"FIELD",30,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,11,"I")
"DATA",160.16,1,"FIELD",30,2)
BLANK
"DATA",160.16,1,"FIELD",30,3)
L,BLANK^150
"DATA",160.16,1,"FIELD",30,4)
MARITAL STATUS AT DX (165.5,11)
"DATA",160.16,1,"FIELD",31,0)
177^2^178^Race 1
"DATA",160.16,1,"FIELD",31,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8,"I")
"DATA",160.16,1,"FIELD",31,2)
BLANK
"DATA",160.16,1,"FIELD",31,3)
L,ZERO^160
"DATA",160.16,1,"FIELD",31,4)
RACE 1 (160,8)
"DATA",160.16,1,"FIELD",32,0)
217^100^316^Text--Usual Occupation
"DATA",160.16,1,"FIELD",32,1)
S ACDANS=$$OCCUP~ONCACDU1(ACD160)
"DATA",160.16,1,"FIELD",32,2)
BLANK
"DATA",160.16,1,"FIELD",32,3)
R,BLANK^310
"DATA",160.16,1,"FIELD",32,4)
USUAL OCCUPATION (160.042,.01)
"DATA",160.16,1,"FIELD",33,0)
317^100^416^Text--Usual Industry
"DATA",160.16,1,"FIELD",33,1)
S ACDANS=$$IND~ONCACDU1(ACD160)
"DATA",160.16,1,"FIELD",33,2)
BLANK
"DATA",160.16,1,"FIELD",33,3)
R,BLANK^320
"DATA",160.16,1,"FIELD",33,4)
USUAL INDUSTRY (160.042,3)
"DATA",160.16,1,"FIELD",41,0)
540^4^543^Primary Site
"DATA",160.16,1,"FIELD",41,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,20,"I") S:ACDANS'="" ACDANS=$TR($$GET1~DIQ(164,ACDANS,1,"I"),".","")
"DATA",160.16,1,"FIELD",41,2)
BLANK
"DATA",160.16,1,"FIELD",41,3)
L,ZERO^400
"DATA",160.16,1,"FIELD",41,4)
PRIMARY SITE (165.5,20)
"DATA",160.16,1,"FIELD",42,0)
544^1^544^Laterality
"DATA",160.16,1,"FIELD",42,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,28,"I")
"DATA",160.16,1,"FIELD",42,2)
BLANK
"DATA",160.16,1,"FIELD",42,3)
L,BLANK^410
"DATA",160.16,1,"FIELD",42,4)
LATERALITY (165.5,28)
"DATA",160.16,1,"FIELD",43,0)
545^4^548^Histology (92-00) ICD-O-2
"DATA",160.16,1,"FIELD",43,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$E($$GET1~DIQ(165.5,IEN,22,"I"),1,4),1:"") K DATEDX
"DATA",160.16,1,"FIELD",43,2)
BLANK
"DATA",160.16,1,"FIELD",43,3)
L,ZERO^420
"DATA",160.16,1,"FIELD",43,4)
HISTOLOGY (ICD-O-2) (165.5,22) First 4 digits
"DATA",160.16,1,"FIELD",45,0)
555^1^555^Grade
"DATA",160.16,1,"FIELD",45,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24,"I")
"DATA",160.16,1,"FIELD",45,2)
BLANK
"DATA",160.16,1,"FIELD",45,3)
L,ZERO^440
"DATA",160.16,1,"FIELD",45,4)
GRADE/DIFFERENTIATION (165.5,24)
"DATA",160.16,1,"FIELD",46,0)
558^1^558^Site Coding Sys--Current
"DATA",160.16,1,"FIELD",46,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,1,"FIELD",46,2)
BLANK
"DATA",160.16,1,"FIELD",46,3)
L,ZERO^450
"DATA",160.16,1,"FIELD",46,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,1,"FIELD",47,0)
559^1^559^Site Coding Sys--Original
"DATA",160.16,1,"FIELD",47,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,1,"FIELD",47,2)
BLANK
"DATA",160.16,1,"FIELD",47,3)
L,ZERO^460
"DATA",160.16,1,"FIELD",47,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,1,"FIELD",48,0)
560^1^560^Morph Coding Sys--Current
"DATA",160.16,1,"FIELD",48,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3091231:8,DATEDX>3001231:7,1:6)
"DATA",160.16,1,"FIELD",48,2)
BLANK
"DATA",160.16,1,"FIELD",48,3)
L,ZERO^470
"DATA",160.16,1,"FIELD",48,4)
6 = ICD-O, 2nd Ed, plus FAB codes effective 1/1/98; 7 = ICD-O, 3rd Ed; 8 = ICD-O, 3rd Ed, plus 2008 WHO hematopoietic/lymphoid new terms
"DATA",160.16,1,"FIELD",49,0)
561^1^561^Morph Coding Sys--Originl
"DATA",160.16,1,"FIELD",49,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3091231:8,DATEDX>3001231:7,1:6)
"DATA",160.16,1,"FIELD",49,2)
BLANK
"DATA",160.16,1,"FIELD",49,3)
L,ZERO^480
"DATA",160.16,1,"FIELD",49,4)
6 = ICD-O, 2nd Ed, plus FAB codes effective 1/1/98; 7 = ICD-O, 3rd Ed; 8 = ICD-O, 3rd Ed, plus 2008 WHO hematopoietic/lymphoid new terms
"DATA",160.16,1,"FIELD",50,0)
562^1^562^Diagnostic Confirmation
"DATA",160.16,1,"FIELD",50,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,26,"I")
"DATA",160.16,1,"FIELD",50,2)
BLANK
"DATA",160.16,1,"FIELD",50,3)
L,ZERO^490
"DATA",160.16,1,"FIELD",50,4)
DIAGNOSTIC CONFIRMATION (165.5,26)
"DATA",160.16,1,"FIELD",51,0)
563^1^563^Type of Reporting Source
"DATA",160.16,1,"FIELD",51,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.2,"I")
"DATA",160.16,1,"FIELD",51,2)
BLANK
"DATA",160.16,1,"FIELD",51,3)
L,BLANK^500
"DATA",160.16,1,"FIELD",51,4)
TYPE OF REPORTING SOURCE (165.5,1.2)
"DATA",160.16,1,"FIELD",54,0)
550^4^553^Histologic Type ICD-O-3
"DATA",160.16,1,"FIELD",54,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,22.3,"I"),1,4)
"DATA",160.16,1,"FIELD",54,2)
BLANK
"DATA",160.16,1,"FIELD",54,3)
L,ZERO^522
"DATA",160.16,1,"FIELD",54,4)
HISTOLOGY (ICD-O-3) (165.5,22.3) First 4 digits
"DATA",160.16,1,"FIELD",57,0)
740^2^741^Sequence Number--Hospital
"DATA",160.16,1,"FIELD",57,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.06,"I")
"DATA",160.16,1,"FIELD",57,2)
BLANK
"DATA",160.16,1,"FIELD",57,3)
L,ZERO^560
"DATA",160.16,1,"FIELD",57,4)
SEQUENCE NUMBER (165.5,.06)
"DATA",160.16,1,"FIELD",58,0)
742^3^744^Abstracted By
"DATA",160.16,1,"FIELD",58,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,92,"I") S:ACDANS'="" ACDANS=$E($$GET1~DIQ(200,ACDANS,1,"I"),1,3)
"DATA",160.16,1,"FIELD",58,2)
NINE
"DATA",160.16,1,"FIELD",58,3)
R,BLANK^570
"DATA",160.16,1,"FIELD",58,4)
ABSTRACTED BY (165.5,92)
"DATA",160.16,1,"FIELD",59,0)
745^8^752^Date of 1st Contact
"DATA",160.16,1,"FIELD",59,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,155,"I") S:ACDANS="" ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,1,"FIELD",59,2)
BLANK
"DATA",160.16,1,"FIELD",59,3)
R,BLANK^580
"DATA",160.16,1,"FIELD",59,4)
DATE OF FIRST CONTACT (165.5,155) or DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,1,"FIELD",60,0)
755^8^762^Date of Inpt Adm
"DATA",160.16,1,"FIELD",60,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,1,"I"))
"DATA",160.16,1,"FIELD",60,2)
BLANK
"DATA",160.16,1,"FIELD",60,3)
R,BLANK^590
"DATA",160.16,1,"FIELD",60,4)
DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,1,"FIELD",61,0)
765^8^772^Date of Inpt Disch
"DATA",160.16,1,"FIELD",61,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,1.1,"I"))
"DATA",160.16,1,"FIELD",61,2)
BLANK
"DATA",160.16,1,"FIELD",61,3)
R,BLANK^600
"DATA",160.16,1,"FIELD",61,4)
DATE OF INPATIENT DISCHARGE (165.5,1.1)
"DATA",160.16,1,"FIELD",62,0)
776^2^777^Class of Case
"DATA",160.16,1,"FIELD",62,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,.04),1,2)
"DATA",160.16,1,"FIELD",62,2)
BLANK
"DATA",160.16,1,"FIELD",62,3)
L,BLANK^610
"DATA",160.16,1,"FIELD",62,4)
CLASS OF CASE (165.5,.04)
"DATA",160.16,1,"FIELD",64,0)
778^2^779^Primary Payer at DX
"DATA",160.16,1,"FIELD",64,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,18,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.3,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",64,2)
NINE
"DATA",160.16,1,"FIELD",64,3)
L,BLANK^630
"DATA",160.16,1,"FIELD",64,4)
PRIMARY PAYER AT DX (165.5,18)
"DATA",160.16,1,"FIELD",65,0)
711^10^720^NPI--Archive FIN
"DATA",160.16,1,"FIELD",65,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") K FACIEN S:$G(STAT1)'="" FACIEN=$O(~ONCO(160.19,"B",STAT1,0)) S ACDANS=$S(DATEDX<3070000:"",$G(FACIEN)'="":$$GET1~DIQ(160.19,FACIEN,101),1:"")
"DATA",160.16,1,"FIELD",65,2)
BLANK
"DATA",160.16,1,"FIELD",65,3)
L,BLANK^3105
"DATA",160.16,1,"FIELD",65,4)
NPI (160.19,101)
"DATA",160.16,1,"FIELD",68,0)
782^2^783^RX Hosp--Surg Prim Site
"DATA",160.16,1,"FIELD",68,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.7,"SPS")
"DATA",160.16,1,"FIELD",68,2)
NINE
"DATA",160.16,1,"FIELD",68,3)
L,ZERO^670
"DATA",160.16,1,"FIELD",68,4)
SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"DATA",160.16,1,"FIELD",69,0)
800^2^801^RX Hosp--Surg Site 98-02
"DATA",160.16,1,"FIELD",69,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,50.2,"SPS")
"DATA",160.16,1,"FIELD",69,2)
BLANK
"DATA",160.16,1,"FIELD",69,3)
L,ZERO^746
"DATA",160.16,1,"FIELD",69,4)
SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"DATA",160.16,1,"FIELD",70,0)
789^1^789^RX Hosp--Radiation
"DATA",160.16,1,"FIELD",70,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.4,"I")
"DATA",160.16,1,"FIELD",70,2)
BLANK
"DATA",160.16,1,"FIELD",70,3)
L,ZERO^690
"DATA",160.16,1,"FIELD",70,4)
RADIATION @FACILITY (165.5,51.4)
"DATA",160.16,1,"FIELD",71,0)
790^2^791^RX Hosp--Chemo
"DATA",160.16,1,"FIELD",71,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.3,"I")
"DATA",160.16,1,"FIELD",71,2)
NINE
"DATA",160.16,1,"FIELD",71,3)
L,BLANK^700
"DATA",160.16,1,"FIELD",71,4)
CHEMOTHERAPY @FAC (165.5,53.3)
"DATA",160.16,1,"FIELD",72,0)
792^2^793^RX Hosp--Hormone
"DATA",160.16,1,"FIELD",72,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.3,"I")
"DATA",160.16,1,"FIELD",72,2)
NINE
"DATA",160.16,1,"FIELD",72,3)
L,BLANK^710
"DATA",160.16,1,"FIELD",72,4)
HORMONE THERAPY @FAC (165.5,54.3)
"DATA",160.16,1,"FIELD",73,0)
794^2^795^RX Hosp--BRM
"DATA",160.16,1,"FIELD",73,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.3,"I")
"DATA",160.16,1,"FIELD",73,2)
NINE
"DATA",160.16,1,"FIELD",73,3)
L,BLANK^720
"DATA",160.16,1,"FIELD",73,4)
IMMUNOTHERAPY @FAC (165.5,55.3)
"DATA",160.16,1,"FIELD",74,0)
796^1^796^RX Hosp--Other
"DATA",160.16,1,"FIELD",74,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.3,"I")
"DATA",160.16,1,"FIELD",74,2)
BLANK
"DATA",160.16,1,"FIELD",74,3)
L,ZERO^730
"DATA",160.16,1,"FIELD",74,4)
OTHER TREATMENT @FAC (165.5,57.3)
"DATA",160.16,1,"FIELD",75,0)
797^2^798^RX Hosp--DX/Stg Proc
"DATA",160.16,1,"FIELD",75,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.4,"I")
"DATA",160.16,1,"FIELD",75,2)
ZNINE
"DATA",160.16,1,"FIELD",75,3)
L,ZERO^740
"DATA",160.16,1,"FIELD",75,4)
SURG DX/STAGING PROC @FAC (165.5,58.4)
"DATA",160.16,1,"FIELD",77,0)
905^1^905^SEER Summary Stage 1977
"DATA",160.16,1,"FIELD",77,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,1,"FIELD",77,2)
BLANK
"DATA",160.16,1,"FIELD",77,3)
L,BLANK^760
"DATA",160.16,1,"FIELD",77,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,1,"FIELD",79,0)
906^3^908^EOD--Tumor Size
"DATA",160.16,1,"FIELD",79,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,29,"I")
"DATA",160.16,1,"FIELD",79,2)
BLANK
"DATA",160.16,1,"FIELD",79,3)
L,ZERO^780
"DATA",160.16,1,"FIELD",79,4)
TUMOR SIZE (165.5,29)
"DATA",160.16,1,"FIELD",80,0)
909^2^910^EOD--Extension
"DATA",160.16,1,"FIELD",80,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30,"I")
"DATA",160.16,1,"FIELD",80,2)
BLANK
"DATA",160.16,1,"FIELD",80,3)
L,ZERO^790
"DATA",160.16,1,"FIELD",80,4)
EXTENSION (165.5,30)
"DATA",160.16,1,"FIELD",81,0)
911^2^912^EOD--Extension Prost Path
"DATA",160.16,1,"FIELD",81,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30.1,"I")
"DATA",160.16,1,"FIELD",81,2)
BLANK
"DATA",160.16,1,"FIELD",81,3)
L,ZERO^800
"DATA",160.16,1,"FIELD",81,4)
PATHOLOGIC EXTENSION (165.5,30.1)
"DATA",160.16,1,"FIELD",82,0)
913^1^913^EOD--Lymph Node Involv
"DATA",160.16,1,"FIELD",82,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,31,"I")
"DATA",160.16,1,"FIELD",82,2)
BLANK
"DATA",160.16,1,"FIELD",82,3)
L,BLANK^810
"DATA",160.16,1,"FIELD",82,4)
LYMPH NODES (165.5,31)
"DATA",160.16,1,"FIELD",83,0)
914^2^915^Regional Nodes Positive
"DATA",160.16,1,"FIELD",83,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,32,"I")
"DATA",160.16,1,"FIELD",83,2)
BLANK
"DATA",160.16,1,"FIELD",83,3)
L,ZERO^820
"DATA",160.16,1,"FIELD",83,4)
REGIONAL LYMPH NODES POSITIVE (165.5,32)
"DATA",160.16,1,"FIELD",84,0)
916^2^917^Regional Nodes Examined
"DATA",160.16,1,"FIELD",84,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,33,"I")
"DATA",160.16,1,"FIELD",84,2)
BLANK
"DATA",160.16,1,"FIELD",84,3)
L,ZERO^830
"DATA",160.16,1,"FIELD",84,4)
REGIONAL LYMPH NODES EXAMINED (165.5,33)
"DATA",160.16,1,"FIELD",85,0)
918^13^930^EOD--Old 13 Digit
"DATA",160.16,1,"FIELD",85,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",85,2)
BLANK
"DATA",160.16,1,"FIELD",85,3)
L,BLANK^840
"DATA",160.16,1,"FIELD",86,0)
931^2^932^EOD--Old 2 Digit
"DATA",160.16,1,"FIELD",86,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",86,2)
BLANK
"DATA",160.16,1,"FIELD",86,3)
L,BLANK^850
"DATA",160.16,1,"FIELD",87,0)
933^4^936^EOD--Old 4 Digit
"DATA",160.16,1,"FIELD",87,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",87,2)
BLANK
"DATA",160.16,1,"FIELD",87,3)
L,BLANK^860
"DATA",160.16,1,"FIELD",88,0)
937^1^937^Coding System for EOD
"DATA",160.16,1,"FIELD",88,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3031231:"",1:4) K DATEDX
"DATA",160.16,1,"FIELD",88,2)
BLANK
"DATA",160.16,1,"FIELD",88,3)
L,BLANK^870
"DATA",160.16,1,"FIELD",88,4)
Blank = DATE DX 2004+; 4 = 10-Digit Extent of Disease, 1988 (1988+)
"DATA",160.16,1,"FIELD",89,0)
940^4^943^TNM Path T
"DATA",160.16,1,"FIELD",89,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,85,"I")
"DATA",160.16,1,"FIELD",89,2)
BLANK
"DATA",160.16,1,"FIELD",89,3)
R,BLANK^880
"DATA",160.16,1,"FIELD",89,4)
PATHOLOGIC T (165.5,85)
"DATA",160.16,1,"FIELD",90,0)
944^4^947^TNM Path N
"DATA",160.16,1,"FIELD",90,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,86,"I") S:ACDANS'="" ACDANS=$S(ACDANS["I+)":"0I+",ACDANS["I-)":"0I-",ACDANS["L+)":"0M+",ACDANS["L-)":"0M-",1:ACDANS)
"DATA",160.16,1,"FIELD",90,2)
BLANK
"DATA",160.16,1,"FIELD",90,3)
R,BLANK^890
"DATA",160.16,1,"FIELD",90,4)
PATHOLOGIC N (165.5,86)
"DATA",160.16,1,"FIELD",91,0)
948^4^951^TNM Path M
"DATA",160.16,1,"FIELD",91,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,87,"I")
"DATA",160.16,1,"FIELD",91,2)
BLANK
"DATA",160.16,1,"FIELD",91,3)
R,BLANK^900
"DATA",160.16,1,"FIELD",91,4)
 PATHOLOGIC M (165.5,87)
"DATA",160.16,1,"FIELD",92,0)
952^4^955^TNM Path Stage Group
"DATA",160.16,1,"FIELD",92,1)
S ACDANS=$$SG~ONCACDU1(IEN,"P")
"DATA",160.16,1,"FIELD",92,2)
BLANK
"DATA",160.16,1,"FIELD",92,3)
R,BLANK^910
"DATA",160.16,1,"FIELD",92,4)
PATHOLOGIC STAGE GROUP (165.5,88)
"DATA",160.16,1,"FIELD",93,0)
956^1^956^TNM Path Descriptor
"DATA",160.16,1,"FIELD",93,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"P")
"DATA",160.16,1,"FIELD",93,2)
ZERO
"DATA",160.16,1,"FIELD",93,3)
L,ZERO^920
"DATA",160.16,1,"FIELD",93,4)
PATHOLOGIC TNM (165.5,89.1)
"DATA",160.16,1,"FIELD",94,0)
957^1^957^TNM Path Staged By
"DATA",160.16,1,"FIELD",94,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,89,"I")
"DATA",160.16,1,"FIELD",94,2)
NINE
"DATA",160.16,1,"FIELD",94,3)
L,BLANK^930
"DATA",160.16,1,"FIELD",94,4)
STAGED BY (PATHOLOGIC STAGE) (165.5,89)
"DATA",160.16,1,"FIELD",95,0)
958^4^961^TNM Clin T
"DATA",160.16,1,"FIELD",95,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.1,"I")
"DATA",160.16,1,"FIELD",95,2)
BLANK
"DATA",160.16,1,"FIELD",95,3)
R,BLANK^940
"DATA",160.16,1,"FIELD",95,4)
CLINICAL T (165.5,37.1)
"DATA",160.16,1,"FIELD",96,0)
962^4^965^TNM Clin N
"DATA",160.16,1,"FIELD",96,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.2,"I")
"DATA",160.16,1,"FIELD",96,2)
BLANK
"DATA",160.16,1,"FIELD",96,3)
R,BLANK^950
"DATA",160.16,1,"FIELD",96,4)
CLINICAL N (165.5,37.2)
"DATA",160.16,1,"FIELD",97,0)
966^4^969^TNM Clin M
"DATA",160.16,1,"FIELD",97,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.3,"I")
"DATA",160.16,1,"FIELD",97,2)
BLANK
"DATA",160.16,1,"FIELD",97,3)
R,BLANK^960
"DATA",160.16,1,"FIELD",97,4)
CLINICAL M (165.5,37.3)
"DATA",160.16,1,"FIELD",98,0)
970^4^973^TNM Clin Stage Group
"DATA",160.16,1,"FIELD",98,1)
S ACDANS=$$SG~ONCACDU1(IEN,"C")
"DATA",160.16,1,"FIELD",98,2)
BLANK
"DATA",160.16,1,"FIELD",98,3)
R,BLANK^970
"DATA",160.16,1,"FIELD",98,4)
CLINICAL STAGE GROUP (165.5,38)
"DATA",160.16,1,"FIELD",99,0)
974^1^974^TNM Clin Descriptor
"DATA",160.16,1,"FIELD",99,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"C")
"DATA",160.16,1,"FIELD",99,2)
ZERO
"DATA",160.16,1,"FIELD",99,3)
L,ZERO^980
"DATA",160.16,1,"FIELD",99,4)
CLINICAL TNM (165.5,37)
"DATA",160.16,1,"FIELD",100,0)
975^1^975^TNM Clin Staged By
"DATA",160.16,1,"FIELD",100,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,19,"I")
"DATA",160.16,1,"FIELD",100,2)
NINE
"DATA",160.16,1,"FIELD",100,3)
L,BLANK^990
"DATA",160.16,1,"FIELD",100,4)
STAGED BY (CLINICAL STAGE) (165.5,19)
"DATA",160.16,1,"FIELD",107,0)
938^2^939^TNM Edition Number
"DATA",160.16,1,"FIELD",107,1)
S ACDANS=$$TNMED~ONCOU55(IEN)
"DATA",160.16,1,"FIELD",107,2)
BLANK
"DATA",160.16,1,"FIELD",107,3)
L,ZERO^1060
"DATA",160.16,1,"FIELD",107,4)
DATE DX (165.5,3)
"DATA",160.16,1,"FIELD",113,0)
976^2^977^Pediatric Stage
"DATA",160.16,1,"FIELD",113,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,850,"I")
"DATA",160.16,1,"FIELD",113,2)
BLANK
"DATA",160.16,1,"FIELD",113,3)
L,BLANK^1120
"DATA",160.16,1,"FIELD",113,4)
PEDIATRIC STAGE (165.5,850)
"DATA",160.16,1,"FIELD",114,0)
978^2^979^Pediatric Staging System
"DATA",160.16,1,"FIELD",114,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,849,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.6,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",114,2)
BLANK
"DATA",160.16,1,"FIELD",114,3)
L,BLANK^1130
"DATA",160.16,1,"FIELD",114,4)
TYPE OF STAGING SYSTEM (PED) (165.5,849)
"DATA",160.16,1,"FIELD",115,0)
980^1^980^Pediatric Staged By
"DATA",160.16,1,"FIELD",115,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,851,"I")
"DATA",160.16,1,"FIELD",115,2)
BLANK
"DATA",160.16,1,"FIELD",115,3)
L,BLANK^1140
"DATA",160.16,1,"FIELD",115,4)
STAGED BY (PEDIATRIC STAGE) (165.5,851)
"DATA",160.16,1,"FIELD",116,0)
981^1^981^Tumor Marker 1
"DATA",160.16,1,"FIELD",116,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",116,2)
BLANK
"DATA",160.16,1,"FIELD",116,3)
L,BLANK^1150
"DATA",160.16,1,"FIELD",116,4)
TUMOR MARKER 1 (165.5,25.1)
"DATA",160.16,1,"FIELD",117,0)
982^1^982^Tumor Marker 2
"DATA",160.16,1,"FIELD",117,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",117,2)
BLANK
"DATA",160.16,1,"FIELD",117,3)
L,BLANK^1160
"DATA",160.16,1,"FIELD",117,4)
TUMOR MARKER 2 (165.5,25.2)
"DATA",160.16,1,"FIELD",118,0)
983^1^983^Tumor Marker 3
"DATA",160.16,1,"FIELD",118,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",118,2)
BLANK
"DATA",160.16,1,"FIELD",118,3)
L,BLANK^1170
"DATA",160.16,1,"FIELD",118,4)
TUMOR MARKER 3 (165.5,25.3)
"DATA",160.16,1,"FIELD",119,0)
1216^5^1220^Comorbid/Complication 7
"DATA",160.16,1,"FIELD",119,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.6,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",119,2)
BLANK
"DATA",160.16,1,"FIELD",119,3)
R,ZERO^3161
"DATA",160.16,1,"FIELD",119,4)
COMORBIDITY/COMPLICATION #7 (160,25.6)
"DATA",160.16,1,"FIELD",121,0)
1456^8^1463^RX Date Surgery
"DATA",160.16,1,"FIELD",121,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"))
"DATA",160.16,1,"FIELD",121,2)
BLANK
"DATA",160.16,1,"FIELD",121,3)
R,BLANK^1200
"DATA",160.16,1,"FIELD",121,4)
DATE FIRST SURGICAL PROCEDURE (165.5,170)
"DATA",160.16,1,"FIELD",122,0)
1486^8^1493^RX Date Radiation
"DATA",160.16,1,"FIELD",122,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"))
"DATA",160.16,1,"FIELD",122,2)
BLANK
"DATA",160.16,1,"FIELD",122,3)
R,BLANK^1210
"DATA",160.16,1,"FIELD",122,4)
DATE RADIATION STARTED (165.5,51)
"DATA",160.16,1,"FIELD",123,0)
1516^8^1523^RX Date Chemo
"DATA",160.16,1,"FIELD",123,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"))
"DATA",160.16,1,"FIELD",123,2)
BLANK
"DATA",160.16,1,"FIELD",123,3)
R,BLANK^1220
"DATA",160.16,1,"FIELD",123,4)
CHEMOTHERAPY DATE (165.5,53)
"DATA",160.16,1,"FIELD",124,0)
1526^8^1533^RX Date Hormone
"DATA",160.16,1,"FIELD",124,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"))
"DATA",160.16,1,"FIELD",124,2)
BLANK
"DATA",160.16,1,"FIELD",124,3)
R,BLANK^1230
"DATA",160.16,1,"FIELD",124,4)
HORMONE THERAPY DATE (165.5,54)
"DATA",160.16,1,"FIELD",125,0)
1536^8^1543^RX Date BRM
"DATA",160.16,1,"FIELD",125,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"))
"DATA",160.16,1,"FIELD",125,2)
BLANK
"DATA",160.16,1,"FIELD",125,3)
R,BLANK^1240
"DATA",160.16,1,"FIELD",125,4)
IMMUNOTHERAPY DATE (165.5,55)
"DATA",160.16,1,"FIELD",126,0)
1546^8^1553^RX Date Other
"DATA",160.16,1,"FIELD",126,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"))
"DATA",160.16,1,"FIELD",126,2)
BLANK
"DATA",160.16,1,"FIELD",126,3)
R,BLANK^1250
"DATA",160.16,1,"FIELD",126,4)
OTHER TREATMENT START DATE (165.5,57)
"DATA",160.16,1,"FIELD",127,0)
1436^8^1443^Date Initial RX SEER
"DATA",160.16,1,"FIELD",127,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",127,2)
BLANK
"DATA",160.16,1,"FIELD",127,3)
L,ZERO^1260
"DATA",160.16,1,"FIELD",128,0)
1446^8^1453^Date 1st Crs RX CoC
"DATA",160.16,1,"FIELD",128,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,49) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DATE~ONCACDU1(ACDDATE) K ACDDATE
"DATA",160.16,1,"FIELD",128,2)
BLANK
"DATA",160.16,1,"FIELD",128,3)
R,BLANK^1270
"DATA",160.16,1,"FIELD",128,4)
FIRST COURSE OF TREATMENT DATE (165.5,49)
"DATA",160.16,1,"FIELD",129,0)
1556^8^1563^RX Date DX/Stg Proc
"DATA",160.16,1,"FIELD",129,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,58.3,"I"))
"DATA",160.16,1,"FIELD",129,2)
BLANK
"DATA",160.16,1,"FIELD",129,3)
R,BLANK^1280
"DATA",160.16,1,"FIELD",129,4)
SURGICAL DX/STAGING PROC DATE (165.5,58.3)
"DATA",160.16,1,"FIELD",130,0)
1567^2^1568^RX Summ--Surg Prim Site
"DATA",160.16,1,"FIELD",130,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.6,"SPS")
"DATA",160.16,1,"FIELD",130,2)
NINE
"DATA",160.16,1,"FIELD",130,3)
L,ZERO^1290
"DATA",160.16,1,"FIELD",130,4)
SURGERY OF PRIMARY (F) (165.5,58.6)
"DATA",160.16,1,"FIELD",132,0)
1573^1^1573^RX Summ--Surgical Approch
"DATA",160.16,1,"FIELD",132,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,74,"SUA"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,1,"FIELD",132,2)
NINE
"DATA",160.16,1,"FIELD",132,3)
L,BLANK^1310
"DATA",160.16,1,"FIELD",132,4)
SURGICAL APPROACH (R) (165.5,74)
"DATA",160.16,1,"FIELD",133,0)
1574^1^1574^RX Summ--Surgical Margins
"DATA",160.16,1,"FIELD",133,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,59,"I")
"DATA",160.16,1,"FIELD",133,2)
BLANK
"DATA",160.16,1,"FIELD",133,3)
L,BLANK^1320
"DATA",160.16,1,"FIELD",133,4)
SURGICAL MARGINS (165.5,59)
"DATA",160.16,1,"FIELD",134,0)
1575^1^1575^RX Summ--Reconstruct 1st
"DATA",160.16,1,"FIELD",134,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,23,"RR5"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,1,"FIELD",134,2)
NINE
"DATA",160.16,1,"FIELD",134,3)
L,BLANK^1330
"DATA",160.16,1,"FIELD",134,4)
RECONSTRUCTION/RESTORATION (165.5,23)
"DATA",160.16,1,"FIELD",135,0)
1576^1^1576^Reason for No Surgery
"DATA",160.16,1,"FIELD",135,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58,"I")
"DATA",160.16,1,"FIELD",135,2)
BLANK
"DATA",160.16,1,"FIELD",135,3)
L,BLANK^1340
"DATA",160.16,1,"FIELD",135,4)
REASON FOR NO SURGERY (165.5,58)
"DATA",160.16,1,"FIELD",136,0)
1577^2^1578^RX Summ--DX/Stg Proc
"DATA",160.16,1,"FIELD",136,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.1,"I")
"DATA",160.16,1,"FIELD",136,2)
ZNINE
"DATA",160.16,1,"FIELD",136,3)
L,ZERO^1350
"DATA",160.16,1,"FIELD",136,4)
SURGICAL DX/STAGING PROC (165.5,58.1)
"DATA",160.16,1,"FIELD",137,0)
1580^1^1580^RX Summ--Radiation
"DATA",160.16,1,"FIELD",137,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.2,"I")
"DATA",160.16,1,"FIELD",137,2)
BLANK
"DATA",160.16,1,"FIELD",137,3)
L,ZERO^1360
"DATA",160.16,1,"FIELD",137,4)
RADIATION (165.5,51.2)
"DATA",160.16,1,"FIELD",138,0)
1581^1^1581^RX Summ--Rad to CNS
"DATA",160.16,1,"FIELD",138,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,52.2,"I")
"DATA",160.16,1,"FIELD",138,2)
BLANK
"DATA",160.16,1,"FIELD",138,3)
L,ZERO^1370
"DATA",160.16,1,"FIELD",138,4)
RADIATION THERAPY TO CNS (165.5,52.2)
"DATA",160.16,1,"FIELD",139,0)
1582^1^1582^RX Summ--Surg/Rad Seq
"DATA",160.16,1,"FIELD",139,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.3,"I")
"DATA",160.16,1,"FIELD",139,2)
BLANK
"DATA",160.16,1,"FIELD",139,3)
L,ZERO^1380
"DATA",160.16,1,"FIELD",139,4)
RADIATION/SURGERY SEQUENCE (165.5,51.3)
"DATA",160.16,1,"FIELD",140,0)
1585^2^1586^RX Summ--Chemo
"DATA",160.16,1,"FIELD",140,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.2,"I")
"DATA",160.16,1,"FIELD",140,2)
NINE
"DATA",160.16,1,"FIELD",140,3)
L,BLANK^1390
"DATA",160.16,1,"FIELD",140,4)
CHEMOTHERAPY (165.5,53.2)
"DATA",160.16,1,"FIELD",141,0)
1587^2^1588^RX Summ--Hormone
"DATA",160.16,1,"FIELD",141,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.2,"I")
"DATA",160.16,1,"FIELD",141,2)
NINE
"DATA",160.16,1,"FIELD",141,3)
L,BLANK^1400
"DATA",160.16,1,"FIELD",141,4)
HORMONE THERAPY (165.5,54.2)
"DATA",160.16,1,"FIELD",142,0)
1589^2^1590^RX Summ--BRM
"DATA",160.16,1,"FIELD",142,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.2,"I")
"DATA",160.16,1,"FIELD",142,2)
NINE
"DATA",160.16,1,"FIELD",142,3)
L,BLANK^1410
"DATA",160.16,1,"FIELD",142,4)
IMMUNOTHERAPY (165.5,55.2)
"DATA",160.16,1,"FIELD",143,0)
1591^1^1591^RX Summ--Other
"DATA",160.16,1,"FIELD",143,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.2,"I")
"DATA",160.16,1,"FIELD",143,2)
BLANK
"DATA",160.16,1,"FIELD",143,3)
L,ZERO^1420
"DATA",160.16,1,"FIELD",143,4)
OTHER TREATMENT (165.5,57.2)
"DATA",160.16,1,"FIELD",144,0)
1592^1^1592^Reason for No Radiation
"DATA",160.16,1,"FIELD",144,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,75,"I")
"DATA",160.16,1,"FIELD",144,2)
NINE
"DATA",160.16,1,"FIELD",144,3)
L,BLANK^1430
"DATA",160.16,1,"FIELD",144,4)
REASON FOR NO RADIATION (165.5,75)
"DATA",160.16,1,"FIELD",147,0)
1593^2^1594^RX Coding System--Current
"DATA",160.16,1,"FIELD",147,1)
S ACDANS="06"
"DATA",160.16,1,"FIELD",147,2)
BLANK
"DATA",160.16,1,"FIELD",147,3)
L,ZERO^1460
"DATA",160.16,1,"FIELD",147,4)
06 Treatment data coded according to FORDS manual
"DATA",160.16,1,"FIELD",152,0)
1596^5^1600^Rad--Regional Dose: cGy
"DATA",160.16,1,"FIELD",152,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,442,"I")
"DATA",160.16,1,"FIELD",152,2)
NINE
"DATA",160.16,1,"FIELD",152,3)
L,ZERO^1510
"DATA",160.16,1,"FIELD",152,4)
REGIONAL DOSE: cGy (165.5,442)
"DATA",160.16,1,"FIELD",153,0)
1601^3^1603^Rad--No of Treatment Vol
"DATA",160.16,1,"FIELD",153,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,56,"I")
"DATA",160.16,1,"FIELD",153,2)
NINE
"DATA",160.16,1,"FIELD",153,3)
L,ZERO^1520
"DATA",160.16,1,"FIELD",153,4)
NUMBER OF TXS TO THIS VOLUME (165.5,56)
"DATA",160.16,1,"FIELD",155,0)
1604^2^1605^Rad--Treatment Volume
"DATA",160.16,1,"FIELD",155,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,125,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.7,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",155,2)
NINE
"DATA",160.16,1,"FIELD",155,3)
L,ZERO^1540
"DATA",160.16,1,"FIELD",155,4)
RADIATION TREATMENT VOLUME (165.5,125)
"DATA",160.16,1,"FIELD",156,0)
1606^1^1606^Rad--Location of RX
"DATA",160.16,1,"FIELD",156,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,126,"I")
"DATA",160.16,1,"FIELD",156,2)
NINE
"DATA",160.16,1,"FIELD",156,3)
L,BLANK^1550
"DATA",160.16,1,"FIELD",156,4)
LOCATION OF RADIATION TX (165.5,126)
"DATA",160.16,1,"FIELD",158,0)
1607^2^1608^Rad--Regional RX Modality
"DATA",160.16,1,"FIELD",158,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",158,2)
BLANK
"DATA",160.16,1,"FIELD",158,3)
L,ZERO^1570
"DATA",160.16,1,"FIELD",158,4)
REGIONAL TREATMENT MODALITY (165.5,363)
"DATA",160.16,1,"FIELD",164,0)
1616^1^1616^RX Summ--Systemic Sur Seq
"DATA",160.16,1,"FIELD",164,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,15,"I")
"DATA",160.16,1,"FIELD",164,2)
BLANK
"DATA",160.16,1,"FIELD",164,3)
L,BLANK^1639
"DATA",160.16,1,"FIELD",164,4)
SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"DATA",160.16,1,"FIELD",165,0)
1617^2^1618^RX Summ--Surgery Type
"DATA",160.16,1,"FIELD",165,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",165,2)
BLANK
"DATA",160.16,1,"FIELD",165,3)
L,BLANK^1640
"DATA",160.16,1,"FIELD",166,0)
1624^100^1723^Reserved 06
"DATA",160.16,1,"FIELD",166,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",166,2)
BLANK
"DATA",160.16,1,"FIELD",166,3)
L,BLANK^1190
"DATA",160.16,1,"FIELD",167,0)
1724^8^1731^Subsq RX 2nd Course Date
"DATA",160.16,1,"FIELD",167,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,1,"FIELD",167,2)
BLANK
"DATA",160.16,1,"FIELD",167,3)
R,BLANK^1660
"DATA",160.16,1,"FIELD",167,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,1,"FIELD",168,0)
1734^2^1735^Subsq RX 2nd Course Surg
"DATA",160.16,1,"FIELD",168,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.04)
"DATA",160.16,1,"FIELD",168,2)
BLANK
"DATA",160.16,1,"FIELD",168,3)
L,ZERO^1671
"DATA",160.16,1,"FIELD",168,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,1,"FIELD",169,0)
1740^1^1740^Subsq RX 2nd Course Rad
"DATA",160.16,1,"FIELD",169,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.05)
"DATA",160.16,1,"FIELD",169,2)
BLANK
"DATA",160.16,1,"FIELD",169,3)
L,BLANK^1672
"DATA",160.16,1,"FIELD",169,4)
RADIATION (165.51,.05)
"DATA",160.16,1,"FIELD",170,0)
1741^1^1741^Subsq RX 2nd Course Chemo
"DATA",160.16,1,"FIELD",170,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.06)
"DATA",160.16,1,"FIELD",170,2)
BLANK
"DATA",160.16,1,"FIELD",170,3)
L,BLANK^1673
"DATA",160.16,1,"FIELD",170,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,1,"FIELD",171,0)
1742^1^1742^Subsq RX 2nd Course Horm
"DATA",160.16,1,"FIELD",171,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.07)
"DATA",160.16,1,"FIELD",171,2)
BLANK
"DATA",160.16,1,"FIELD",171,3)
L,BLANK^1674
"DATA",160.16,1,"FIELD",171,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,1,"FIELD",172,0)
1743^1^1743^Subsq RX 2nd Course BRM
"DATA",160.16,1,"FIELD",172,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.08)
"DATA",160.16,1,"FIELD",172,2)
BLANK
"DATA",160.16,1,"FIELD",172,3)
L,BLANK^1675
"DATA",160.16,1,"FIELD",172,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,1,"FIELD",173,0)
1744^1^1744^Subsq RX 2nd Course Oth
"DATA",160.16,1,"FIELD",173,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.09)
"DATA",160.16,1,"FIELD",173,2)
BLANK
"DATA",160.16,1,"FIELD",173,3)
L,BLANK^1676
"DATA",160.16,1,"FIELD",173,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,1,"FIELD",174,0)
1745^8^1752^Subsq RX 3rd Course Date
"DATA",160.16,1,"FIELD",174,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,1,"FIELD",174,2)
BLANK
"DATA",160.16,1,"FIELD",174,3)
R,BLANK^1680
"DATA",160.16,1,"FIELD",174,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,1,"FIELD",175,0)
1755^2^1756^Subsq RX 3rd Course Surg
"DATA",160.16,1,"FIELD",175,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.04)
"DATA",160.16,1,"FIELD",175,2)
BLANK
"DATA",160.16,1,"FIELD",175,3)
L,ZERO^1691
"DATA",160.16,1,"FIELD",175,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,1,"FIELD",176,0)
1761^1^1761^Subsq RX 3rd Course Rad
"DATA",160.16,1,"FIELD",176,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.05)
"DATA",160.16,1,"FIELD",176,2)
BLANK
"DATA",160.16,1,"FIELD",176,3)
L,BLANK^1692
"DATA",160.16,1,"FIELD",176,4)
RADIATION (165.51,.05)
"DATA",160.16,1,"FIELD",177,0)
1762^1^1762^Subsq RX 3rd Course Chemo
"DATA",160.16,1,"FIELD",177,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.06)
"DATA",160.16,1,"FIELD",177,2)
BLANK
"DATA",160.16,1,"FIELD",177,3)
L,BLANK^1693
"DATA",160.16,1,"FIELD",177,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,1,"FIELD",178,0)
1763^1^1763^Subsq RX 3rd Course Horm
"DATA",160.16,1,"FIELD",178,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.07)
"DATA",160.16,1,"FIELD",178,2)
BLANK
"DATA",160.16,1,"FIELD",178,3)
L,BLANK^1694
"DATA",160.16,1,"FIELD",178,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,1,"FIELD",179,0)
1764^1^1764^Subsq RX 3rd Course BRM
"DATA",160.16,1,"FIELD",179,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.08)
"DATA",160.16,1,"FIELD",179,2)
BLANK
"DATA",160.16,1,"FIELD",179,3)
L,BLANK^1695
"DATA",160.16,1,"FIELD",179,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,1,"FIELD",180,0)
1765^1^1765^Subsq RX 3rd Course Oth
"DATA",160.16,1,"FIELD",180,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.09)
"DATA",160.16,1,"FIELD",180,2)
BLANK
"DATA",160.16,1,"FIELD",180,3)
L,BLANK^1696
"DATA",160.16,1,"FIELD",180,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,1,"FIELD",181,0)
1766^8^1773^Subsq RX 4th Course Date
"DATA",160.16,1,"FIELD",181,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,1,"FIELD",181,2)
BLANK
"DATA",160.16,1,"FIELD",181,3)
R,BLANK^1700
"DATA",160.16,1,"FIELD",181,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,1,"FIELD",182,0)
1776^2^1777^Subsq RX 4th Course Surg
"DATA",160.16,1,"FIELD",182,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.04)
"DATA",160.16,1,"FIELD",182,2)
BLANK
"DATA",160.16,1,"FIELD",182,3)
L,ZERO^1711
"DATA",160.16,1,"FIELD",182,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,1,"FIELD",183,0)
1782^1^1782^Subsq RX 4th Course Rad
"DATA",160.16,1,"FIELD",183,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.05)
"DATA",160.16,1,"FIELD",183,2)
BLANK
"DATA",160.16,1,"FIELD",183,3)
L,BLANK^1712
"DATA",160.16,1,"FIELD",183,4)
RADIATION (165.51,.05)
"DATA",160.16,1,"FIELD",184,0)
1783^1^1783^Subsq RX 4th Course Chemo
"DATA",160.16,1,"FIELD",184,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.06)
"DATA",160.16,1,"FIELD",184,2)
BLANK
"DATA",160.16,1,"FIELD",184,3)
L,BLANK^1713
"DATA",160.16,1,"FIELD",184,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,1,"FIELD",185,0)
1784^1^1784^Subsq RX 4th Course Horm
"DATA",160.16,1,"FIELD",185,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.07)
"DATA",160.16,1,"FIELD",185,2)
BLANK
"DATA",160.16,1,"FIELD",185,3)
L,BLANK^1714
"DATA",160.16,1,"FIELD",185,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,1,"FIELD",186,0)
1785^1^1785^Subsq RX 4th Course BRM
"DATA",160.16,1,"FIELD",186,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.08)
"DATA",160.16,1,"FIELD",186,2)
BLANK
"DATA",160.16,1,"FIELD",186,3)
L,BLANK^1715
"DATA",160.16,1,"FIELD",186,4)
IMMUNOTHERAPY (165.5,.08)
"DATA",160.16,1,"FIELD",187,0)
1786^1^1786^Subsq RX 4th Course Oth
"DATA",160.16,1,"FIELD",187,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.09)
"DATA",160.16,1,"FIELD",187,2)
BLANK
"DATA",160.16,1,"FIELD",187,3)
L,BLANK^1716
"DATA",160.16,1,"FIELD",187,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,1,"FIELD",188,0)
1033^3^1035^CS Site-Specific Factor 11
"DATA",160.16,1,"FIELD",188,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.11,"I")) K DATEDX
"DATA",160.16,1,"FIELD",188,2)
BLANK
"DATA",160.16,1,"FIELD",188,3)
L,BLANK^2865
"DATA",160.16,1,"FIELD",188,4)
SITE-SPECIFIC FACTOR 11 (CS) (165.5,44.11)
"DATA",160.16,1,"FIELD",195,0)
1788^100^1887^Reserved 07
"DATA",160.16,1,"FIELD",195,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",195,2)
BLANK
"DATA",160.16,1,"FIELD",195,3)
L,BLANK^1300
"DATA",160.16,1,"FIELD",196,0)
2116^8^2123^Date of Last Contact
"DATA",160.16,1,"FIELD",196,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,1,"FIELD",196,2)
BLANK
"DATA",160.16,1,"FIELD",196,3)
R,BLANK^1750
"DATA",160.16,1,"FIELD",196,4)
DATE OF LAST CONTACT OR DEATH (160.04,.01)
"DATA",160.16,1,"FIELD",197,0)
2126^1^2126^Vital Status
"DATA",160.16,1,"FIELD",197,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,1),VS=ACDANS
"DATA",160.16,1,"FIELD",197,2)
BLANK
"DATA",160.16,1,"FIELD",197,3)
L,BLANK^1760
"DATA",160.16,1,"FIELD",197,4)
VITAL STATUS (160.04,1)
"DATA",160.16,1,"FIELD",198,0)
2127^1^2127^Cancer Status
"DATA",160.16,1,"FIELD",198,1)
S ACDANS=$$CS~ONCACDU2(IEN)
"DATA",160.16,1,"FIELD",198,2)
BLANK
"DATA",160.16,1,"FIELD",198,3)
L,BLANK^1770
"DATA",160.16,1,"FIELD",198,4)
CANCER STATUS (165.573,.02)
"DATA",160.16,1,"FIELD",199,0)
2128^1^2128^Quality of Survival
"DATA",160.16,1,"FIELD",199,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,4)
"DATA",160.16,1,"FIELD",199,2)
BLANK
"DATA",160.16,1,"FIELD",199,3)
L,BLANK^1780
"DATA",160.16,1,"FIELD",199,4)
QUALITY OF SURVIVAL (160.04,4)
"DATA",160.16,1,"FIELD",200,0)
2129^1^2129^Follow-Up Source
"DATA",160.16,1,"FIELD",200,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,3)
"DATA",160.16,1,"FIELD",200,2)
BLANK
"DATA",160.16,1,"FIELD",200,3)
L,BLANK^1790
"DATA",160.16,1,"FIELD",200,4)
FOLLOW-UP SOURCE (160.04,3)
"DATA",160.16,1,"FIELD",201,0)
2130^1^2130^Next Follow-up Source
"DATA",160.16,1,"FIELD",201,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,6)
"DATA",160.16,1,"FIELD",201,2)
BLANK
"DATA",160.16,1,"FIELD",201,3)
L,BLANK^1800
"DATA",160.16,1,"FIELD",201,4)
NEXT FOLLOW-UP SOURCE (160.04,6)
"DATA",160.16,1,"FIELD",202,0)
2131^50^2180^Addr Current--City
"DATA",160.16,1,"FIELD",202,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160) S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,1,"FIELD",202,2)
BLANK
"DATA",160.16,1,"FIELD",202,3)
R,BLANK^1810
"DATA",160.16,1,"FIELD",202,4)
CITY (2,.114)
"DATA",160.16,1,"FIELD",203,0)
2181^2^2182^Addr Current--State
"DATA",160.16,1,"FIELD",203,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160) S:ACDANS="" ACDANS="ZZ"
"DATA",160.16,1,"FIELD",203,2)
BLANK
"DATA",160.16,1,"FIELD",203,3)
R,BLANK^1820
"DATA",160.16,1,"FIELD",203,4)
STATE (2,.115)
"DATA",160.16,1,"FIELD",204,0)
2183^9^2191^Addr Current--Postal Code
"DATA",160.16,1,"FIELD",204,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.116,"E") S:ACDANS=75999 ACDANS=999999999 D STRIP~ONCACDU2
"DATA",160.16,1,"FIELD",204,2)
NINE
"DATA",160.16,1,"FIELD",204,3)
R,BLANK^1830
"DATA",160.16,1,"FIELD",204,4)
ZIP CODE (160,.116)
"DATA",160.16,1,"FIELD",206,0)
2290^2^2291^Unusual Follow-Up Method
"DATA",160.16,1,"FIELD",206,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,7)
"DATA",160.16,1,"FIELD",206,2)
BLANK
"DATA",160.16,1,"FIELD",206,3)
L,BLANK^1850
"DATA",160.16,1,"FIELD",206,4)
UNUSUAL FOLLOW-UP METHOD (160.04,7)
"DATA",160.16,1,"FIELD",207,0)
2196^8^2203^Recurrence Date--1st
"DATA",160.16,1,"FIELD",207,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,70,"I"))
"DATA",160.16,1,"FIELD",207,2)
BLANK
"DATA",160.16,1,"FIELD",207,3)
R,BLANK^1860
"DATA",160.16,1,"FIELD",207,4)
DATE OF FIRST RECURRENCE (165.5,70)
"DATA",160.16,1,"FIELD",209,0)
2206^2^2207^Recurrence Type--1st
"DATA",160.16,1,"FIELD",209,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.12,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",209,2)
NINE
"DATA",160.16,1,"FIELD",209,3)
L,ZERO^1880
"DATA",160.16,1,"FIELD",209,4)
TYPE OF FIRST RECURRENCE (165.5,71)
"DATA",160.16,1,"FIELD",211,0)
2192^3^2194^County--Current
"DATA",160.16,1,"FIELD",211,1)
S ACDANS=$$CCOUNTY~ONCACDU2(ACD160)
"DATA",160.16,1,"FIELD",211,2)
NINE
"DATA",160.16,1,"FIELD",211,3)
L,BLANK^1840
"DATA",160.16,1,"FIELD",211,4)
COUNTY (2,.117)
"DATA",160.16,1,"FIELD",213,0)
2269^4^2272^Cause of Death
"DATA",160.16,1,"FIELD",213,1)
S ACDANS=$S(VS=0:7777,1:"0000")
"DATA",160.16,1,"FIELD",213,2)
BLANK
"DATA",160.16,1,"FIELD",213,3)
L,ZERO^1910
"DATA",160.16,1,"FIELD",213,4)
7777 if VITAL STATUS = 0.  Else, 0000.
"DATA",160.16,1,"FIELD",214,0)
2273^1^2273^ICD Revision Number
"DATA",160.16,1,"FIELD",214,1)
S XDLC=$$FNODE~ONCACDU2(ACD160,.01),ACDANS=$S(VS=1:0,(VS=0)&(XDLC>2999999):1,1:9) K XDLC
"DATA",160.16,1,"FIELD",214,2)
BLANK
"DATA",160.16,1,"FIELD",214,3)
L,ZERO^1920
"DATA",160.16,1,"FIELD",214,4)
0 if VITAL STATUS = 1, 1 if VITAL STATUS = 0 and DATE OF LAST CONTACT > 1999, 9 if VITAL STATUS = 0 and DATE OF LAST CONTACT < 2000
"DATA",160.16,1,"FIELD",215,0)
2274^1^2274^Autopsy
"DATA",160.16,1,"FIELD",215,1)
S ACDANS=$$GET1~DIQ(160,ACD160,22.9,"I") I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,1,"FIELD",215,2)
BLANK
"DATA",160.16,1,"FIELD",215,3)
L,BLANK^1930
"DATA",160.16,1,"FIELD",215,4)
AUTOPSY (160,22.9)
"DATA",160.16,1,"FIELD",216,0)
2275^3^2277^Place of Death
"DATA",160.16,1,"FIELD",216,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,.02,"I") I ACDANS="",VS=1 S ACDANS=997
"DATA",160.16,1,"FIELD",216,2)
BLANK
"DATA",160.16,1,"FIELD",216,3)
L,BLANK^1940
"DATA",160.16,1,"FIELD",216,4)
PLACE OF DEATH (160,21)
"DATA",160.16,1,"FIELD",218,0)
1909^4^1912^Site (73-91) ICD-O-1
"DATA",160.16,1,"FIELD",218,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",218,2)
BLANK
"DATA",160.16,1,"FIELD",218,3)
L,BLANK^1960
"DATA",160.16,1,"FIELD",219,0)
1913^6^1918^Morph (73-91) ICD-O-1
"DATA",160.16,1,"FIELD",219,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",219,2)
BLANK
"DATA",160.16,1,"FIELD",219,3)
L,BLANK^1970
"DATA",160.16,1,"FIELD",220,0)
1919^1^1919^ICD-O-2 Conversion Flag
"DATA",160.16,1,"FIELD",220,1)
S ACDANS=4
"DATA",160.16,1,"FIELD",220,2)
BLANK
"DATA",160.16,1,"FIELD",220,3)
L,BLANK^1980
"DATA",160.16,1,"FIELD",220,4)
4 Primary site and morphology converted with review
"DATA",160.16,1,"FIELD",221,0)
1896^1^1896^Over-ride Age/Site/Morph
"DATA",160.16,1,"FIELD",221,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,205,"I")
"DATA",160.16,1,"FIELD",221,2)
BLANK
"DATA",160.16,1,"FIELD",221,3)
L,BLANK^1990
"DATA",160.16,1,"FIELD",221,4)
OVERRIDE AGE/SITE/MORPH (165.5,205)
"DATA",160.16,1,"FIELD",222,0)
1897^1^1897^Over-ride SeqNo/DxConf
"DATA",160.16,1,"FIELD",222,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,206,"I")
"DATA",160.16,1,"FIELD",222,2)
BLANK
"DATA",160.16,1,"FIELD",222,3)
L,BLANK^2000
"DATA",160.16,1,"FIELD",222,4)
OVERRIDE SEQNO/DXCONF (165.5,206)
"DATA",160.16,1,"FIELD",223,0)
1898^1^1898^Over-ride Site/Lat/SeqNo
"DATA",160.16,1,"FIELD",223,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,207,"I")
"DATA",160.16,1,"FIELD",223,2)
BLANK
"DATA",160.16,1,"FIELD",223,3)
L,BLANK^2010
"DATA",160.16,1,"FIELD",223,4)
OVERRIDE SITE/LAT/SEQNO (165.5,207)
"DATA",160.16,1,"FIELD",224,0)
1899^1^1899^Over-ride Surg/DxConf
"DATA",160.16,1,"FIELD",224,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,208,"I")
"DATA",160.16,1,"FIELD",224,2)
BLANK
"DATA",160.16,1,"FIELD",224,3)
L,BLANK^2020
"DATA",160.16,1,"FIELD",224,4)
OVERRIDE SURG/DXCONF (165.5,208)
"DATA",160.16,1,"FIELD",225,0)
1900^1^1900^Over-ride Site/Type
"DATA",160.16,1,"FIELD",225,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,209,"I")
"DATA",160.16,1,"FIELD",225,2)
BLANK
"DATA",160.16,1,"FIELD",225,3)
L,BLANK^2030
"DATA",160.16,1,"FIELD",225,4)
OVERRIDE SITE/TYPE (165.5,209)
"DATA",160.16,1,"FIELD",226,0)
1901^1^1901^Over-ride Histology
"DATA",160.16,1,"FIELD",226,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,210,"I")
"DATA",160.16,1,"FIELD",226,2)
BLANK
"DATA",160.16,1,"FIELD",226,3)
L,BLANK^2040
"DATA",160.16,1,"FIELD",226,4)
OVERRIDE HISTOLOGY (165.5,210)
"DATA",160.16,1,"FIELD",227,0)
1902^1^1902^Over-ride Report Source
"DATA",160.16,1,"FIELD",227,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,211,"I")
"DATA",160.16,1,"FIELD",227,2)
BLANK
"DATA",160.16,1,"FIELD",227,3)
L,BLANK^2050
"DATA",160.16,1,"FIELD",227,4)
OVERRIDE REPORT SOURCE (165.5,211)
"DATA",160.16,1,"FIELD",228,0)
1903^1^1903^Over-ride Ill-define Site
"DATA",160.16,1,"FIELD",228,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,212,"I")
"DATA",160.16,1,"FIELD",228,2)
BLANK
"DATA",160.16,1,"FIELD",228,3)
L,BLANK^2060
"DATA",160.16,1,"FIELD",228,4)
OVERRIDE ILL-DEFINE SITE (165.5,212)
"DATA",160.16,1,"FIELD",229,0)
1904^1^1904^Over-ride Leuk, Lymphoma
"DATA",160.16,1,"FIELD",229,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,213,"I")
"DATA",160.16,1,"FIELD",229,2)
BLANK
"DATA",160.16,1,"FIELD",229,3)
L,BLANK^2070
"DATA",160.16,1,"FIELD",229,4)
OVERRIDE LEUK,LYMPHOMA (165.5,213)
"DATA",160.16,1,"FIELD",231,0)
1959^8^1966^Date Case Completed
"DATA",160.16,1,"FIELD",231,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,90,"I"))
"DATA",160.16,1,"FIELD",231,2)
BLANK
"DATA",160.16,1,"FIELD",231,3)
R,BLANK^2090
"DATA",160.16,1,"FIELD",231,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,1,"FIELD",232,0)
1975^8^1982^Date Case Last Changed
"DATA",160.16,1,"FIELD",232,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,198,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,1,"FIELD",232,2)
BLANK
"DATA",160.16,1,"FIELD",232,3)
R,BLANK^2100
"DATA",160.16,1,"FIELD",232,4)
DATE CASE LAST CHANGED (165.5,198)
"DATA",160.16,1,"FIELD",233,0)
1983^8^1990^Date Case Report Exported
"DATA",160.16,1,"FIELD",233,1)
S ACDANS="" Q:$G(EXPORT)'="YES"  S:$G(DT)'="" ACDANS=(1700+$E(DT,1,3))_$E(DT,4,5)_$E(DT,6,7)
"DATA",160.16,1,"FIELD",233,2)
BLANK
"DATA",160.16,1,"FIELD",233,3)
L,BLANK^2110
"DATA",160.16,1,"FIELD",233,4)
Current date
"DATA",160.16,1,"FIELD",234,0)
1930^1^1930^SEER Coding Sys--Current
"DATA",160.16,1,"FIELD",234,1)
S ACDANS=5
"DATA",160.16,1,"FIELD",234,2)
BLANK
"DATA",160.16,1,"FIELD",234,3)
L,BLANK^2120
"DATA",160.16,1,"FIELD",234,4)
1998 SEER Coding Manual
"DATA",160.16,1,"FIELD",235,0)
1931^1^1931^SEER Coding Sys--Original
"DATA",160.16,1,"FIELD",235,1)
S ACDANS=5
"DATA",160.16,1,"FIELD",235,2)
BLANK
"DATA",160.16,1,"FIELD",235,3)
L,BLANK^2130
"DATA",160.16,1,"FIELD",235,4)
1998 SEER Coding Manual
"DATA",160.16,1,"FIELD",236,0)
1932^2^1933^COC Coding Sys--Current
"DATA",160.16,1,"FIELD",236,1)
S ACDANS="08"
"DATA",160.16,1,"FIELD",236,2)
BLANK
"DATA",160.16,1,"FIELD",236,3)
L,BLANK^2140
"DATA",160.16,1,"FIELD",236,4)
08 FORDS (effective with cases diagnosed 2003 are forward)
"DATA",160.16,1,"FIELD",237,0)
1934^2^1935^COC Coding Sys--Original
"DATA",160.16,1,"FIELD",237,1)
S ACDANS=$$COCO~ONCACDU2(IEN)
"DATA",160.16,1,"FIELD",237,2)
BLANK
"DATA",160.16,1,"FIELD",237,3)
L,BLANK^2150
"DATA",160.16,1,"FIELD",237,4)
08, 07, or 05 depending on DATE DX
"DATA",160.16,1,"FIELD",238,0)
2036^80^2115^Reserved 08
"DATA",160.16,1,"FIELD",238,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",238,2)
BLANK
"DATA",160.16,1,"FIELD",238,3)
L,BLANK^1650
"DATA",160.16,1,"FIELD",239,0)
1936^10^1945^Vendor Name
"DATA",160.16,1,"FIELD",239,1)
S ACDANS=$$VENDOR~ONCACDU2
"DATA",160.16,1,"FIELD",239,2)
BLANK
"DATA",160.16,1,"FIELD",239,3)
R,BLANK^2170
"DATA",160.16,1,"FIELD",239,4)
"VA"_NAACCR version_patch #_"A" e.g. VAV11P46A
"DATA",160.16,1,"FIELD",240,0)
1946^1^1946^SEER Type of Follow-Up
"DATA",160.16,1,"FIELD",240,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",240,2)
BLANK
"DATA",160.16,1,"FIELD",240,3)
L,BLANK^2180
"DATA",160.16,1,"FIELD",241,0)
1947^2^1948^SEER Record Number
"DATA",160.16,1,"FIELD",241,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",241,2)
BLANK
"DATA",160.16,1,"FIELD",241,3)
L,BLANK^2190
"DATA",160.16,1,"FIELD",242,0)
1949^2^1950^Diagnostic Proc 73-87
"DATA",160.16,1,"FIELD",242,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",242,2)
BLANK
"DATA",160.16,1,"FIELD",242,3)
L,BLANK^2200
"DATA",160.16,1,"FIELD",243,0)
2015^1^2015^ICD-O-3 Conversion Flag
"DATA",160.16,1,"FIELD",243,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:0,1:1) K DATEDX
"DATA",160.16,1,"FIELD",243,2)
BLANK
"DATA",160.16,1,"FIELD",243,3)
L,BLANK^2116
"DATA",160.16,1,"FIELD",340,0)
784^1^784^RX Hosp--Scope Reg LN Sur
"DATA",160.16,1,"FIELD",340,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.5,"I")
"DATA",160.16,1,"FIELD",340,2)
NINE
"DATA",160.16,1,"FIELD",340,3)
L,BLANK^672
"DATA",160.16,1,"FIELD",340,4)
SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"DATA",160.16,1,"FIELD",341,0)
785^1^785^RX Hosp--Surg Oth Reg/Dis
"DATA",160.16,1,"FIELD",341,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.5,"I")
"DATA",160.16,1,"FIELD",341,2)
NINE
"DATA",160.16,1,"FIELD",341,3)
L,BLANK^674
"DATA",160.16,1,"FIELD",341,4)
SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"DATA",160.16,1,"FIELD",342,0)
786^2^787^RX Hosp--Reg LN Removed
"DATA",160.16,1,"FIELD",342,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140.1,"I")
"DATA",160.16,1,"FIELD",342,2)
BLANK
"DATA",160.16,1,"FIELD",342,3)
L,BLANK^676
"DATA",160.16,1,"FIELD",342,4)
NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"DATA",160.16,1,"FIELD",347,0)
1569^1^1569^RX Summ--Scope Reg LN Sur
"DATA",160.16,1,"FIELD",347,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.4,"I")
"DATA",160.16,1,"FIELD",347,2)
NINE
"DATA",160.16,1,"FIELD",347,3)
L,BLANK^1292
"DATA",160.16,1,"FIELD",347,4)
SCOPE OF LN SURGERY (F) (165.5,138.4)
"DATA",160.16,1,"FIELD",348,0)
1570^1^1570^RX Summ--Surg Oth Reg/Dis
"DATA",160.16,1,"FIELD",348,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.4,"I")
"DATA",160.16,1,"FIELD",348,2)
NINE
"DATA",160.16,1,"FIELD",348,3)
L,BLANK^1294
"DATA",160.16,1,"FIELD",348,4)
SURG PROC/OTHER SITE (F) (165.5,139.4)
"DATA",160.16,1,"FIELD",349,0)
1571^2^1572^RX Summ--Reg LN Examined
"DATA",160.16,1,"FIELD",349,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140,"I")
"DATA",160.16,1,"FIELD",349,2)
BLANK
"DATA",160.16,1,"FIELD",349,3)
L,ZERO^1296
"DATA",160.16,1,"FIELD",349,4)
NUMBER OF LN REMOVED (R) (165.5,140)
"DATA",160.16,1,"FIELD",354,0)
1736^1^1736^Subsq RX 2nd--Scope LN Su
"DATA",160.16,1,"FIELD",354,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,35)
"DATA",160.16,1,"FIELD",354,2)
BLANK
"DATA",160.16,1,"FIELD",354,3)
L,BLANK^1677
"DATA",160.16,1,"FIELD",354,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,1,"FIELD",355,0)
1737^1^1737^Subsq RX 2nd--Surg Oth
"DATA",160.16,1,"FIELD",355,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,36)
"DATA",160.16,1,"FIELD",355,2)
BLANK
"DATA",160.16,1,"FIELD",355,3)
L,BLANK^1678
"DATA",160.16,1,"FIELD",355,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,1,"FIELD",356,0)
1738^2^1739^Subsq RX 2nd--Reg LN Rem
"DATA",160.16,1,"FIELD",356,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,37)
"DATA",160.16,1,"FIELD",356,2)
BLANK
"DATA",160.16,1,"FIELD",356,3)
L,BLANK^1679
"DATA",160.16,1,"FIELD",356,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,1,"FIELD",357,0)
1757^1^1757^Subsq RX 3rd--Scope LN Su
"DATA",160.16,1,"FIELD",357,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,35)
"DATA",160.16,1,"FIELD",357,2)
BLANK
"DATA",160.16,1,"FIELD",357,3)
L,BLANK^1697
"DATA",160.16,1,"FIELD",357,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,1,"FIELD",358,0)
1758^1^1758^Subsq RX 3rd--Surg Oth
"DATA",160.16,1,"FIELD",358,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,36)
"DATA",160.16,1,"FIELD",358,2)
BLANK
"DATA",160.16,1,"FIELD",358,3)
L,BLANK^1698
"DATA",160.16,1,"FIELD",358,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,1,"FIELD",359,0)
1759^2^1760^Subsq RX 3rd--Reg LN Rem
"DATA",160.16,1,"FIELD",359,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,37)
"DATA",160.16,1,"FIELD",359,2)
BLANK
"DATA",160.16,1,"FIELD",359,3)
L,BLANK^1699
"DATA",160.16,1,"FIELD",359,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,1,"FIELD",360,0)
1778^1^1778^Subsq RX 4th--Scope LN Su
"DATA",160.16,1,"FIELD",360,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,35)
"DATA",160.16,1,"FIELD",360,2)
BLANK
"DATA",160.16,1,"FIELD",360,3)
L,BLANK^1717
"DATA",160.16,1,"FIELD",360,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,1,"FIELD",361,0)
1779^1^1779^Subsq RX 4th--Surg Oth
"DATA",160.16,1,"FIELD",361,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,36)
"DATA",160.16,1,"FIELD",361,2)
BLANK
"DATA",160.16,1,"FIELD",361,3)
L,BLANK^1718
"DATA",160.16,1,"FIELD",361,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,1,"FIELD",362,0)
1780^2^1781^Subsq RX 4th--Reg LN Rem
"DATA",160.16,1,"FIELD",362,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,37)
"DATA",160.16,1,"FIELD",362,2)
BLANK
"DATA",160.16,1,"FIELD",362,3)
L,BLANK^1719
"DATA",160.16,1,"FIELD",362,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,1,"FIELD",363,0)
1060^3^1062^CS Site-Specific Factor 20
"DATA",160.16,1,"FIELD",363,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.201,"I")) K DATEDX
"DATA",160.16,1,"FIELD",363,2)
BLANK
"DATA",160.16,1,"FIELD",363,3)
L,BLANK^2874
"DATA",160.16,1,"FIELD",363,4)
SITE-SPECIFIC FACTOR 20 (CS) (165.5,44.201)
"DATA",160.16,1,"FIELD",366,0)
1787^1^1787^Subsq RX--Reconstruct Del
"DATA",160.16,1,"FIELD",366,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,33)
"DATA",160.16,1,"FIELD",366,2)
BLANK
"DATA",160.16,1,"FIELD",366,3)
L,BLANK^1741
"DATA",160.16,1,"FIELD",366,4)
RECON/RESTORE - DELAYED (165.51,33)
"DATA",160.16,1,"FIELD",367,0)
2208^50^2257^Follow-Up Contact--City
"DATA",160.16,1,"FIELD",367,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) ACDANS=$P($G(~VIC(5.11,VICPNT,0)),U,2) K VICPNT
"DATA",160.16,1,"FIELD",367,2)
BLANK
"DATA",160.16,1,"FIELD",367,3)
R,BLANK^1842
"DATA",160.16,1,"FIELD",367,4)
ZIP CODE (165,.119)
"DATA",160.16,1,"FIELD",368,0)
2258^2^2259^Follow-Up Contact--State
"DATA",160.16,1,"FIELD",368,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) STATE=$P($G(~VIC(5.11,VICPNT,0)),U,4) S:$G(STATE) ACDANS=$P(~DIC(5,STATE,0),U,2) K STATE,VICPNT
"DATA",160.16,1,"FIELD",368,2)
BLANK
"DATA",160.16,1,"FIELD",368,3)
R,BLANK^1844
"DATA",160.16,1,"FIELD",368,4)
ZIP CODE (165,.119)
"DATA",160.16,1,"FIELD",369,0)
2260^9^2268^Follow-Up Contact--Postal
"DATA",160.16,1,"FIELD",369,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) ACDANS=$P($G(~VIC(5.11,VICPNT,0)),U,1) K VICPNT
"DATA",160.16,1,"FIELD",369,2)
BLANK
"DATA",160.16,1,"FIELD",369,3)
R,BLANK^1846
"DATA",160.16,1,"FIELD",369,4)
ZIP CODE (165,.119)
"DATA",160.16,1,"FIELD",370,0)
1905^1^1905^Over-ride Site/Behavior
"DATA",160.16,1,"FIELD",370,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,214,"I")
"DATA",160.16,1,"FIELD",370,2)
BLANK
"DATA",160.16,1,"FIELD",370,3)
L,BLANK^2071
"DATA",160.16,1,"FIELD",370,4)
OVERRIDE SITE/BEHAVIOR (165.5,214)
"DATA",160.16,1,"FIELD",371,0)
1906^1^1906^Over-ride Site/EOD/DX Dt
"DATA",160.16,1,"FIELD",371,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,215,"I")
"DATA",160.16,1,"FIELD",371,2)
BLANK
"DATA",160.16,1,"FIELD",371,3)
L,BLANK^2072
"DATA",160.16,1,"FIELD",371,4)
OVERRIDE SITE/EOD/DX DT (165.5,215)
"DATA",160.16,1,"FIELD",372,0)
1907^1^1907^Over-ride Site/Lat/EOD
"DATA",160.16,1,"FIELD",372,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,216,"I")
"DATA",160.16,1,"FIELD",372,2)
BLANK
"DATA",160.16,1,"FIELD",372,3)
L,BLANK^2073
"DATA",160.16,1,"FIELD",372,4)
OVERRIDE SITE/LAT/EOD (165.5,216)
"DATA",160.16,1,"FIELD",373,0)
1908^1^1908^Over-ride Site/Lat/Morph
"DATA",160.16,1,"FIELD",373,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,217,"I")
"DATA",160.16,1,"FIELD",373,2)
BLANK
"DATA",160.16,1,"FIELD",373,3)
L,BLANK^2074
"DATA",160.16,1,"FIELD",373,4)
OVERRIDE SITE/LAT/MORPH (165.5,217)
"DATA",160.16,1,"FIELD",376,0)
1991^8^1998^Date Case Report Received
"DATA",160.16,1,"FIELD",376,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",376,2)
BLANK
"DATA",160.16,1,"FIELD",376,3)
L,BLANK^2111
"DATA",160.16,1,"FIELD",377,0)
1999^8^2006^Date Case Report Loaded
"DATA",160.16,1,"FIELD",377,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",377,2)
BLANK
"DATA",160.16,1,"FIELD",377,3)
L,BLANK^2112
"DATA",160.16,1,"FIELD",378,0)
2007^8^2014^Date Tumor Record Availbl
"DATA",160.16,1,"FIELD",378,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",378,2)
BLANK
"DATA",160.16,1,"FIELD",378,3)
L,BLANK^2113
"DATA",160.16,1,"FIELD",379,0)
1920^10^1929^CRC CHECKSUM
"DATA",160.16,1,"FIELD",379,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",379,2)
BLANK
"DATA",160.16,1,"FIELD",379,3)
L,BLANK^2081
"DATA",160.16,1,"FIELD",380,0)
3^14^16^Reserved 00
"DATA",160.16,1,"FIELD",380,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",380,2)
BLANK
"DATA",160.16,1,"FIELD",380,3)
L,BLANK^37
"DATA",160.16,1,"FIELD",382,0)
701^10^710^Reporting Facility
"DATA",160.16,1,"FIELD",382,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.03,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") I (ACDANS=9999999)&($L(STAT1)=8) S ACDANS=99999999
"DATA",160.16,1,"FIELD",382,2)
ZERO
"DATA",160.16,1,"FIELD",382,3)
L,ZERO^540
"DATA",160.16,1,"FIELD",382,4)
REPORTING FACILITY (165.5,.03)
"DATA",160.16,1,"FIELD",383,0)
731^9^739^Accession Number--Hosp
"DATA",160.16,1,"FIELD",383,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.05,"I")
"DATA",160.16,1,"FIELD",383,2)
BLANK
"DATA",160.16,1,"FIELD",383,3)
L,ZERO^550
"DATA",160.16,1,"FIELD",383,4)
ACCESSION NUMBER (165.5,.05)
"DATA",160.16,1,"FIELD",388,0)
691^10^700^NPI--Reporting Facility
"DATA",160.16,1,"FIELD",388,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,.03,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,1,"FIELD",388,2)
BLANK
"DATA",160.16,1,"FIELD",388,3)
L,BLANK^545
"DATA",160.16,1,"FIELD",388,4)
NPI (160.19,101)
"DATA",160.16,1,"FIELD",390,0)
591^100^690^Reserved 03
"DATA",160.16,1,"FIELD",390,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",390,2)
BLANK
"DATA",160.16,1,"FIELD",390,3)
L,BLANK^680
"DATA",160.16,1,"FIELD",391,0)
904^1^904^SEER Summary Stage 2000
"DATA",160.16,1,"FIELD",391,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,1,"FIELD",391,2)
BLANK
"DATA",160.16,1,"FIELD",391,3)
L,BLANK^759
"DATA",160.16,1,"FIELD",391,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,1,"FIELD",392,0)
1888^1^1888^Over-ride SS/NodesPos
"DATA",160.16,1,"FIELD",392,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,218,"I")
"DATA",160.16,1,"FIELD",392,2)
BLANK
"DATA",160.16,1,"FIELD",392,3)
L,BLANK^1981
"DATA",160.16,1,"FIELD",392,4)
OVERRIDE SS/NODESPOS (165.5,218)
"DATA",160.16,1,"FIELD",393,0)
1889^1^1889^Over-ride SS/TNM-N
"DATA",160.16,1,"FIELD",393,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,219,"I")
"DATA",160.16,1,"FIELD",393,2)
BLANK
"DATA",160.16,1,"FIELD",393,3)
L,BLANK^1982
"DATA",160.16,1,"FIELD",393,4)
OVERRIDE SS/TNM-N (165.5,219)
"DATA",160.16,1,"FIELD",394,0)
1890^1^1890^Over-ride SS/TNM-M
"DATA",160.16,1,"FIELD",394,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,220,"I")
"DATA",160.16,1,"FIELD",394,2)
BLANK
"DATA",160.16,1,"FIELD",394,3)
L,BLANK^1983
"DATA",160.16,1,"FIELD",394,4)
OVERRIDE SS/TNM-M (165.5,220)
"DATA",160.16,1,"FIELD",395,0)
1118^3^1120^Derived AJCC-7 N
"DATA",160.16,1,"FIELD",395,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",395,2)
BLANK
"DATA",160.16,1,"FIELD",395,3)
L,BLANK^3410
"DATA",160.16,1,"FIELD",395,4)
DERIVED AJCC-7 N (165.5,162.7)
"DATA",160.16,1,"FIELD",396,0)
1891^1^1891^Over-ride Acsn/Class/Seq
"DATA",160.16,1,"FIELD",396,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,222,"I")
"DATA",160.16,1,"FIELD",396,2)
BLANK
"DATA",160.16,1,"FIELD",396,3)
L,BLANK^1985
"DATA",160.16,1,"FIELD",396,4)
OVERRIDE ACSN/CLASS/SEQ (165.5,222)
"DATA",160.16,1,"FIELD",397,0)
1892^1^1892^Over-ride HospSeq/DxConf
"DATA",160.16,1,"FIELD",397,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,223,"I")
"DATA",160.16,1,"FIELD",397,2)
BLANK
"DATA",160.16,1,"FIELD",397,3)
L,BLANK^1986
"DATA",160.16,1,"FIELD",397,4)
OVERRIDE HOSPSEQ/DXCONF (165.5,223)
"DATA",160.16,1,"FIELD",398,0)
1893^1^1893^Over-ride CoC-Site/Type
"DATA",160.16,1,"FIELD",398,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,224,"I")
"DATA",160.16,1,"FIELD",398,2)
BLANK
"DATA",160.16,1,"FIELD",398,3)
L,BLANK^1987
"DATA",160.16,1,"FIELD",398,4)
OVERRIDE COC-SITE/TYPE (165.5,224)
"DATA",160.16,1,"FIELD",399,0)
1894^1^1894^Over-ride HospSeq/Site
"DATA",160.16,1,"FIELD",399,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,225,"I")
"DATA",160.16,1,"FIELD",399,2)
BLANK
"DATA",160.16,1,"FIELD",399,3)
L,BLANK^1988
"DATA",160.16,1,"FIELD",399,4)
OVERRIDE HOSPSEQ/SITE (165.5,225)
"DATA",160.16,1,"FIELD",400,0)
1895^1^1895^Over-ride Site/TNM-StgGrp
"DATA",160.16,1,"FIELD",400,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,226,"I")
"DATA",160.16,1,"FIELD",400,2)
BLANK
"DATA",160.16,1,"FIELD",400,3)
L,BLANK^1989
"DATA",160.16,1,"FIELD",400,4)
OVERRIDE SITE/TNM-STAGE GROUP (165.5,226)
"DATA",160.16,1,"FIELD",401,0)
2280^8^2287^Date of Death--Canada
"DATA",160.16,1,"FIELD",401,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",401,2)
BLANK
"DATA",160.16,1,"FIELD",401,3)
L,BLANK^1755
"DATA",160.16,1,"FIELD",402,0)
40^2^41^Tumor Record Number
"DATA",160.16,1,"FIELD",402,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",402,2)
BLANK
"DATA",160.16,1,"FIELD",402,3)
L,BLANK^60
"DATA",160.16,1,"FIELD",403,0)
20^10^29^NPI--Registry ID
"DATA",160.16,1,"FIELD",403,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") K FACIEN S:$G(STAT1)'="" FACIEN=$O(~ONCO(160.19,"B",STAT1,0)) S ACDANS=$S(DATEDX<3070000:"",$G(FACIEN)'="":$$GET1~DIQ(160.19,FACIEN,101),1:"")
"DATA",160.16,1,"FIELD",403,2)
BLANK
"DATA",160.16,1,"FIELD",403,3)
L,BLANK^45
"DATA",160.16,1,"FIELD",403,4)
NPI (160.19,101)
"DATA",160.16,1,"FIELD",404,0)
95^50^144^Addr at DX--City
"DATA",160.16,1,"FIELD",404,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,8.1,"E")'="":$$GET1~DIQ(165.5,IEN,8.1,"E"),1:"UNKNOWN") D STRIP~ONCACDU2
"DATA",160.16,1,"FIELD",404,2)
BLANK
"DATA",160.16,1,"FIELD",404,3)
R,BLANK^70
"DATA",160.16,1,"FIELD",404,4)
CITY/TOWN AT DX (165.5,8.1)
"DATA",160.16,1,"FIELD",405,0)
145^2^146^Addr at DX--State
"DATA",160.16,1,"FIELD",405,1)
S XX=$S($$GET1~DIQ(165.5,IEN,16,"I")'="":$$GET1~DIQ(5,$$GET1~DIQ(165.5,IEN,16,"I"),1,"I"),1:""),XX=$S(XX="CANAD":"CD",XX="EU":"YY",XX="FG":"YY",XX="MX":"XX",XX="NF":"NL",XX="PH":"XX",XX="UN":"ZZ",1:XX),ACDANS=XX
"DATA",160.16,1,"FIELD",405,2)
BLANK
"DATA",160.16,1,"FIELD",405,3)
L,BLANK^80
"DATA",160.16,1,"FIELD",405,4)
STATE AT DX (165.5,16)
"DATA",160.16,1,"FIELD",406,0)
188^1^188^Race Coding Sys--Original
"DATA",160.16,1,"FIELD",406,1)
S ACDANS=7
"DATA",160.16,1,"FIELD",406,2)
BLANK
"DATA",160.16,1,"FIELD",406,3)
L,BLANK^180
"DATA",160.16,1,"FIELD",406,4)
2010+ SEER & CoC (added codes 15, 16, and 17; removed 09)
"DATA",160.16,1,"FIELD",407,0)
156^3^158^County at DX
"DATA",160.16,1,"FIELD",407,1)
S ACDANS=$$CNTY~ONCACDU1(IEN)
"DATA",160.16,1,"FIELD",407,2)
BLANK
"DATA",160.16,1,"FIELD",407,3)
L,ZERO^90
"DATA",160.16,1,"FIELD",407,4)
COUNTY AT DX (165.5,10)
"DATA",160.16,1,"FIELD",408,0)
159^6^164^Census Tract 1970/80/90
"DATA",160.16,1,"FIELD",408,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",408,2)
BLANK
"DATA",160.16,1,"FIELD",408,3)
L,BLANK^110
"DATA",160.16,1,"FIELD",409,0)
166^1^166^Census Cod Sys 1970/80/90
"DATA",160.16,1,"FIELD",409,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",409,2)
BLANK
"DATA",160.16,1,"FIELD",409,3)
L,BLANK^120
"DATA",160.16,1,"FIELD",411,0)
216^1^216^Industry Source
"DATA",160.16,1,"FIELD",411,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",411,2)
BLANK
"DATA",160.16,1,"FIELD",411,3)
L,BLANK^300
"DATA",160.16,1,"FIELD",412,0)
417^1^417^Census Occ/Ind Sys 70-00
"DATA",160.16,1,"FIELD",412,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",412,2)
BLANK
"DATA",160.16,1,"FIELD",412,3)
L,BLANK^330
"DATA",160.16,1,"FIELD",413,0)
187^1^187^Race Coding Sys--Current
"DATA",160.16,1,"FIELD",413,1)
S ACDANS=7
"DATA",160.16,1,"FIELD",413,2)
BLANK
"DATA",160.16,1,"FIELD",413,3)
L,BLANK^170
"DATA",160.16,1,"FIELD",413,4)
2010+ SEER & CoC (added codes 15, 16, and 17; removed 09)
"DATA",160.16,1,"FIELD",414,0)
189^1^189^Spanish/Hispanic Origin
"DATA",160.16,1,"FIELD",414,1)
S ACDANS=$$GET1~DIQ(160,ACD160,9,"I")
"DATA",160.16,1,"FIELD",414,2)
BLANK
"DATA",160.16,1,"FIELD",414,3)
L,BLANK^190
"DATA",160.16,1,"FIELD",414,4)
SPANISH ORIGIN (160,9)
"DATA",160.16,1,"FIELD",415,0)
190^1^190^Computed Ethnicity
"DATA",160.16,1,"FIELD",415,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,1,"FIELD",415,2)
BLANK
"DATA",160.16,1,"FIELD",415,3)
L,BLANK^200
"DATA",160.16,1,"FIELD",415,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,1,"FIELD",416,0)
191^1^191^Computed Ethnicity Source
"DATA",160.16,1,"FIELD",416,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,1,"FIELD",416,2)
BLANK
"DATA",160.16,1,"FIELD",416,3)
L,BLANK^210
"DATA",160.16,1,"FIELD",416,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,1,"FIELD",417,0)
192^1^192^Sex
"DATA",160.16,1,"FIELD",417,1)
S ACDANS=$$GET1~DIQ(160,ACD160,10,"I")
"DATA",160.16,1,"FIELD",417,2)
BLANK
"DATA",160.16,1,"FIELD",417,3)
L,BLANK^220
"DATA",160.16,1,"FIELD",417,4)
SEX (160,10)
"DATA",160.16,1,"FIELD",418,0)
193^3^195^Age at Diagnosis
"DATA",160.16,1,"FIELD",418,1)
S ACDANS=$$AGEDX~ONCACDU1(IEN)
"DATA",160.16,1,"FIELD",418,2)
BLANK
"DATA",160.16,1,"FIELD",418,3)
L,ZERO^230
"DATA",160.16,1,"FIELD",418,4)
AGE~ONCOCOM
"DATA",160.16,1,"FIELD",419,0)
196^8^203^Date of Birth
"DATA",160.16,1,"FIELD",419,1)
S ACDANS=$$DATE~ONCACDU1($$BDATE~ONCACDU1(ACD160))
"DATA",160.16,1,"FIELD",419,2)
BLANK
"DATA",160.16,1,"FIELD",419,3)
R,BLANK^240
"DATA",160.16,1,"FIELD",419,4)
DOB (160,3)
"DATA",160.16,1,"FIELD",420,0)
206^3^208^Birthplace
"DATA",160.16,1,"FIELD",420,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I")
"DATA",160.16,1,"FIELD",420,2)
BLANK
"DATA",160.16,1,"FIELD",420,3)
L,ZERO^250
"DATA",160.16,1,"FIELD",420,4)
PLACE OF BIRTH (160,7)
"DATA",160.16,1,"FIELD",421,0)
174^1^174^Census Block Group 2000
"DATA",160.16,1,"FIELD",421,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",421,2)
BLANK
"DATA",160.16,1,"FIELD",421,3)
L,BLANK^362
"DATA",160.16,1,"FIELD",422,0)
167^1^167^Census Tr Cert 1970/80/90
"DATA",160.16,1,"FIELD",422,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",422,2)
BLANK
"DATA",160.16,1,"FIELD",422,3)
L,BLANK^364
"DATA",160.16,1,"FIELD",423,0)
215^1^215^Occupation Source
"DATA",160.16,1,"FIELD",423,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",423,2)
BLANK
"DATA",160.16,1,"FIELD",423,3)
L,BLANK^290
"DATA",160.16,1,"FIELD",424,0)
179^2^180^Race 2
"DATA",160.16,1,"FIELD",424,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.1,"I")
"DATA",160.16,1,"FIELD",424,2)
8
"DATA",160.16,1,"FIELD",424,3)
L,ZERO^161
"DATA",160.16,1,"FIELD",424,4)
RACE 2 (160,8.1)
"DATA",160.16,1,"FIELD",425,0)
181^2^182^Race 3
"DATA",160.16,1,"FIELD",425,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.2,"I")
"DATA",160.16,1,"FIELD",425,2)
8
"DATA",160.16,1,"FIELD",425,3)
L,ZERO^162
"DATA",160.16,1,"FIELD",425,4)
RACE 3 (160,8.2)
"DATA",160.16,1,"FIELD",426,0)
183^2^184^Race 4
"DATA",160.16,1,"FIELD",426,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.3,"I")
"DATA",160.16,1,"FIELD",426,2)
8
"DATA",160.16,1,"FIELD",426,3)
L,ZERO^163
"DATA",160.16,1,"FIELD",426,4)
RACE 4 (160,8.3)
"DATA",160.16,1,"FIELD",427,0)
185^2^186^Race 5
"DATA",160.16,1,"FIELD",427,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.4,"I")
"DATA",160.16,1,"FIELD",427,2)
8
"DATA",160.16,1,"FIELD",427,3)
L,ZERO^164
"DATA",160.16,1,"FIELD",427,4)
RACE 5 (160,8.4)
"DATA",160.16,1,"FIELD",428,0)
209^3^211^Census Occ Code 1970-2000
"DATA",160.16,1,"FIELD",428,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",428,2)
BLANK
"DATA",160.16,1,"FIELD",428,3)
L,BLANK^270
"DATA",160.16,1,"FIELD",429,0)
212^3^214^Census Ind Code 1970-2000
"DATA",160.16,1,"FIELD",429,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",429,2)
BLANK
"DATA",160.16,1,"FIELD",429,3)
L,BLANK^280
"DATA",160.16,1,"FIELD",433,0)
528^2^529^Sequence Number--Central
"DATA",160.16,1,"FIELD",433,1)
S ACDANS=$$SNCNT~ONCACDU2(IEN)
"DATA",160.16,1,"FIELD",433,2)
BLANK
"DATA",160.16,1,"FIELD",433,3)
L,BLANK^380
"DATA",160.16,1,"FIELD",434,0)
530^8^537^Date of Diagnosis
"DATA",160.16,1,"FIELD",434,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,3,"I"))
"DATA",160.16,1,"FIELD",434,2)
BLANK
"DATA",160.16,1,"FIELD",434,3)
R,BLANK^390
"DATA",160.16,1,"FIELD",434,4)
DATE DX (165.5,3)
"DATA",160.16,1,"FIELD",435,0)
424^2^425^RuralUrban Continuum 1993
"DATA",160.16,1,"FIELD",435,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",435,2)
BLANK
"DATA",160.16,1,"FIELD",435,3)
L,BLANK^3300
"DATA",160.16,1,"FIELD",435,4)
Program not run; record not coded
"DATA",160.16,1,"FIELD",436,0)
426^2^427^RuralUrban Continuum 2003
"DATA",160.16,1,"FIELD",436,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",436,2)
BLANK
"DATA",160.16,1,"FIELD",436,3)
L,BLANK^3310
"DATA",160.16,1,"FIELD",436,4)
Program not run; record not coded
"DATA",160.16,1,"FIELD",437,0)
419^2^420^Race--NAPIIA (derived API)
"DATA",160.16,1,"FIELD",437,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",437,2)
BLANK
"DATA",160.16,1,"FIELD",437,3)
L,BLANK^193
"DATA",160.16,1,"FIELD",438,0)
721^10^730^Archive FIN
"DATA",160.16,1,"FIELD",438,1)
S ACDANS=STAT1
"DATA",160.16,1,"FIELD",438,2)
ZERO
"DATA",160.16,1,"FIELD",438,3)
L,ZERO^3100
"DATA",160.16,1,"FIELD",438,4)
FACILITY ID # (160.1,27)
"DATA",160.16,1,"FIELD",439,0)
799^1^799^RX Hosp--Palliative Proc
"DATA",160.16,1,"FIELD",439,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,13,"I")
"DATA",160.16,1,"FIELD",439,2)
NINE
"DATA",160.16,1,"FIELD",439,3)
L,BLANK^3280
"DATA",160.16,1,"FIELD",439,4)
PALLIATIVE PROCEDURE @FAC (165.5,13)
"DATA",160.16,1,"FIELD",440,0)
985^3^987^CS Tumor Size
"DATA",160.16,1,"FIELD",440,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.2,"I")) K DATEDX
"DATA",160.16,1,"FIELD",440,2)
BLANK
"DATA",160.16,1,"FIELD",440,3)
L,ZERO^2800
"DATA",160.16,1,"FIELD",440,4)
TUMOR SIZE (CS) (165.5,29.2)
"DATA",160.16,1,"FIELD",441,0)
988^3^990^CS Extension
"DATA",160.16,1,"FIELD",441,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,30.2,"I")) K DATEDX
"DATA",160.16,1,"FIELD",441,2)
BLANK
"DATA",160.16,1,"FIELD",441,3)
L,ZERO^2810
"DATA",160.16,1,"FIELD",441,4)
EXTENSION (CS) (165.5,30.2)
"DATA",160.16,1,"FIELD",442,0)
991^1^991^CS Tumor Size/Ext Eval
"DATA",160.16,1,"FIELD",442,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.1,"I")) K DATEDX
"DATA",160.16,1,"FIELD",442,2)
BLANK
"DATA",160.16,1,"FIELD",442,3)
L,ZERO^2820
"DATA",160.16,1,"FIELD",442,4)
TUMOR SIZE/EXT EVAL (CS) (165.5,29.1)
"DATA",160.16,1,"FIELD",443,0)
992^3^994^CS Lymph Nodes
"DATA",160.16,1,"FIELD",443,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,31.1,"I")) K DATEDX
"DATA",160.16,1,"FIELD",443,2)
BLANK
"DATA",160.16,1,"FIELD",443,3)
L,BLANK^2830
"DATA",160.16,1,"FIELD",443,4)
LYMPH NODES (CS) (165.5,31.1)
"DATA",160.16,1,"FIELD",444,0)
995^1^995^CS Lymph Nodes Eval
"DATA",160.16,1,"FIELD",444,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,32.1,"I")) K DATEDX
"DATA",160.16,1,"FIELD",444,2)
BLANK
"DATA",160.16,1,"FIELD",444,3)
L,BLANK^2840
"DATA",160.16,1,"FIELD",444,4)
LYMPH NODES EVAL (CS) (165.5,32.1)
"DATA",160.16,1,"FIELD",445,0)
996^2^997^CS Mets at DX
"DATA",160.16,1,"FIELD",445,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.3,"I")) K DATEDX
"DATA",160.16,1,"FIELD",445,2)
BLANK
"DATA",160.16,1,"FIELD",445,3)
L,BLANK^2850
"DATA",160.16,1,"FIELD",445,4)
METS AT DX (CS) (165.5,34.3)
"DATA",160.16,1,"FIELD",446,0)
998^1^998^CS Mets Eval
"DATA",160.16,1,"FIELD",446,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.4,"I")) K DATEDX
"DATA",160.16,1,"FIELD",446,2)
BLANK
"DATA",160.16,1,"FIELD",446,3)
L,BLANK^2860
"DATA",160.16,1,"FIELD",446,4)
METS EVAL (CS) (165.5,34.4)
"DATA",160.16,1,"FIELD",447,0)
1003^3^1005^CS Site-Specific Factor 1
"DATA",160.16,1,"FIELD",447,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.1,"I")) K DATEDX
"DATA",160.16,1,"FIELD",447,2)
BLANK
"DATA",160.16,1,"FIELD",447,3)
L,BLANK^2880
"DATA",160.16,1,"FIELD",447,4)
SITE-SPECIFIC FACTOR 1 (CS) (165.5,44.1)
"DATA",160.16,1,"FIELD",448,0)
1006^3^1008^CS Site-Specific Factor 2
"DATA",160.16,1,"FIELD",448,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.2,"I")) K DATEDX
"DATA",160.16,1,"FIELD",448,2)
BLANK
"DATA",160.16,1,"FIELD",448,3)
L,BLANK^2890
"DATA",160.16,1,"FIELD",448,4)
SITE-SPECIFIC FACTOR 2 (CS) (165.5,44.2)
"DATA",160.16,1,"FIELD",449,0)
1009^3^1011^CS Site-Specific Factor 3
"DATA",160.16,1,"FIELD",449,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.3,"I")) K DATEDX
"DATA",160.16,1,"FIELD",449,2)
BLANK
"DATA",160.16,1,"FIELD",449,3)
L,BLANK^2900
"DATA",160.16,1,"FIELD",449,4)
SITE-SPECIFIC FACTOR 3 (CS) (165.5,44.3)
"DATA",160.16,1,"FIELD",450,0)
1012^3^1014^CS Site-Specific Factor 4
"DATA",160.16,1,"FIELD",450,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.4,"I")) K DATEDX
"DATA",160.16,1,"FIELD",450,2)
BLANK
"DATA",160.16,1,"FIELD",450,3)
L,BLANK^2910
"DATA",160.16,1,"FIELD",450,4)
SITE-SPECIFIC FACTOR 4 (CS) (165.5,44.4)
"DATA",160.16,1,"FIELD",451,0)
1015^3^1017^CS Site-Specific Factor 5
"DATA",160.16,1,"FIELD",451,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.5,"I")) K DATEDX
"DATA",160.16,1,"FIELD",451,2)
BLANK
"DATA",160.16,1,"FIELD",451,3)
L,BLANK^2920
"DATA",160.16,1,"FIELD",451,4)
SITE-SPECIFIC FACTOR 5 (CS) (165.5,44.5)
"DATA",160.16,1,"FIELD",452,0)
1018^3^1020^CS Site-Specific Factor 6
"DATA",160.16,1,"FIELD",452,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.6,"I")) K DATEDX
"DATA",160.16,1,"FIELD",452,2)
BLANK
"DATA",160.16,1,"FIELD",452,3)
L,BLANK^2930
"DATA",160.16,1,"FIELD",452,4)
SITE-SPECIFIC FACTOR 6 (CS) (165.5,44.6)
"DATA",160.16,1,"FIELD",453,0)
1103^2^1104^Derived AJCC-6 T
"DATA",160.16,1,"FIELD",453,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160,"I")) K DATEDX
"DATA",160.16,1,"FIELD",453,2)
BLANK
"DATA",160.16,1,"FIELD",453,3)
L,BLANK^2940
"DATA",160.16,1,"FIELD",453,4)
DERIVED AJCC T (165.5,160)
"DATA",160.16,1,"FIELD",454,0)
1105^1^1105^Derived AJCC-6 T Descript
"DATA",160.16,1,"FIELD",454,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161,"I")) K DATEDX
"DATA",160.16,1,"FIELD",454,2)
BLANK
"DATA",160.16,1,"FIELD",454,3)
L,BLANK^2950
"DATA",160.16,1,"FIELD",454,4)
DERIVED AJCC T DESCRIPTOR (165.5,161)
"DATA",160.16,1,"FIELD",455,0)
1106^2^1107^Derived AJCC-6 N
"DATA",160.16,1,"FIELD",455,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162,"I")) K DATEDX
"DATA",160.16,1,"FIELD",455,2)
BLANK
"DATA",160.16,1,"FIELD",455,3)
L,BLANK^2960
"DATA",160.16,1,"FIELD",455,4)
DERIVED AJCC N (165.5,162)
"DATA",160.16,1,"FIELD",456,0)
1108^1^1108^Derived AJCC-6 N Descript
"DATA",160.16,1,"FIELD",456,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163,"I")) K DATEDX
"DATA",160.16,1,"FIELD",456,2)
BLANK
"DATA",160.16,1,"FIELD",456,3)
L,BLANK^2970
"DATA",160.16,1,"FIELD",456,4)
DERIVED AJCC N DESCRIPTOR (165.5,163)
"DATA",160.16,1,"FIELD",457,0)
1109^2^1110^Derived AJCC-6 M
"DATA",160.16,1,"FIELD",457,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164,"I")) K DATEDX
"DATA",160.16,1,"FIELD",457,2)
BLANK
"DATA",160.16,1,"FIELD",457,3)
L,BLANK^2980
"DATA",160.16,1,"FIELD",457,4)
DERIVED AJCC M (165.5,164)
"DATA",160.16,1,"FIELD",458,0)
1111^1^1111^Derived AJCC-6 M Descript
"DATA",160.16,1,"FIELD",458,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165,"I")) K DATEDX
"DATA",160.16,1,"FIELD",458,2)
BLANK
"DATA",160.16,1,"FIELD",458,3)
L,BLANK^2990
"DATA",160.16,1,"FIELD",458,4)
DERIVED AJCC M DESCRIPTOR (165.5,165)
"DATA",160.16,1,"FIELD",459,0)
1112^2^1113^Derived AJCC-6 Stage Grp
"DATA",160.16,1,"FIELD",459,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166,"I")) K DATEDX
"DATA",160.16,1,"FIELD",459,2)
BLANK
"DATA",160.16,1,"FIELD",459,3)
L,BLANK^3000
"DATA",160.16,1,"FIELD",459,4)
DERIVED AJCC STAGE GROUP (165.5,166)
"DATA",160.16,1,"FIELD",460,0)
1155^1^1155^Derived SS1977
"DATA",160.16,1,"FIELD",460,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,167,"I")) K DATEDX
"DATA",160.16,1,"FIELD",460,2)
BLANK
"DATA",160.16,1,"FIELD",460,3)
L,BLANK^3010
"DATA",160.16,1,"FIELD",460,4)
DERIVED SS1977 (165.5,670)
"DATA",160.16,1,"FIELD",461,0)
1156^1^1156^Derived SS2000
"DATA",160.16,1,"FIELD",461,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,168,"I")) K DATEDX
"DATA",160.16,1,"FIELD",461,2)
BLANK
"DATA",160.16,1,"FIELD",461,3)
L,BLANK^3020
"DATA",160.16,1,"FIELD",461,4)
DERIVED SS2000 (165.5,168)
"DATA",160.16,1,"FIELD",462,0)
1158^1^1158^Derived AJCC--Flag
"DATA",160.16,1,"FIELD",462,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,166,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,1,"FIELD",462,2)
BLANK
"DATA",160.16,1,"FIELD",462,3)
L,BLANK^3030
"DATA",160.16,1,"FIELD",463,0)
1159^1^1159^Derived SS1977--Flag
"DATA",160.16,1,"FIELD",463,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,167,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,1,"FIELD",463,2)
BLANK
"DATA",160.16,1,"FIELD",463,3)
L,BLANK^3040
"DATA",160.16,1,"FIELD",464,0)
1160^1^1160^Derived SS2000--Flag
"DATA",160.16,1,"FIELD",464,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,168,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,1,"FIELD",464,2)
BLANK
"DATA",160.16,1,"FIELD",464,3)
L,BLANK^3050
"DATA",160.16,1,"FIELD",465,0)
1186^5^1190^Comorbid/Complication 1
"DATA",160.16,1,"FIELD",465,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",465,2)
ZERO
"DATA",160.16,1,"FIELD",465,3)
R,ZERO^3110
"DATA",160.16,1,"FIELD",465,4)
COMORBIDITY/COMPLICATION #1 (160,25)
"DATA",160.16,1,"FIELD",466,0)
1191^5^1195^Comorbid/Complication 2
"DATA",160.16,1,"FIELD",466,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",466,2)
BLANK
"DATA",160.16,1,"FIELD",466,3)
R,ZERO^3120
"DATA",160.16,1,"FIELD",466,4)
COMORBIDITY/COMPLICATION #2 (160,25.1)
"DATA",160.16,1,"FIELD",467,0)
1196^5^1200^Comorbid/Complication 3
"DATA",160.16,1,"FIELD",467,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",467,2)
BLANK
"DATA",160.16,1,"FIELD",467,3)
R,ZERO^3130
"DATA",160.16,1,"FIELD",467,4)
COMORBIDITY/COMPLICATION #3 (160,25.2)
"DATA",160.16,1,"FIELD",468,0)
1201^5^1205^Comorbid/Complication 4
"DATA",160.16,1,"FIELD",468,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",468,2)
BLANK
"DATA",160.16,1,"FIELD",468,3)
R,ZERO^3140
"DATA",160.16,1,"FIELD",468,4)
COMORBIDITY/COMPLICATION #4 (160,25.3)
"DATA",160.16,1,"FIELD",469,0)
1206^5^1210^Comorbid/Complication 5
"DATA",160.16,1,"FIELD",469,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.4,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",469,2)
BLANK
"DATA",160.16,1,"FIELD",469,3)
R,ZERO^3150
"DATA",160.16,1,"FIELD",469,4)
COMORBIDITY/COMPLICATION #5 (160,25.4)
"DATA",160.16,1,"FIELD",470,0)
1211^5^1215^Comorbid/Complication 6
"DATA",160.16,1,"FIELD",470,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.5,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",470,2)
BLANK
"DATA",160.16,1,"FIELD",470,3)
R,ZERO^3160
"DATA",160.16,1,"FIELD",470,4)
COMORBIDITY/COMPLICATION #6 (160,25.5)
"DATA",160.16,1,"FIELD",471,0)
1466^8^1473^RX Date Mst Defn Srg
"DATA",160.16,1,"FIELD",471,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"))
"DATA",160.16,1,"FIELD",471,2)
BLANK
"DATA",160.16,1,"FIELD",471,3)
R,BLANK^3170
"DATA",160.16,1,"FIELD",471,4)
MOST DEFINITIVE SURG DATE (165.5,50)
"DATA",160.16,1,"FIELD",472,0)
1476^8^1483^RX Date Surg Disch
"DATA",160.16,1,"FIELD",472,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"))
"DATA",160.16,1,"FIELD",472,2)
BLANK
"DATA",160.16,1,"FIELD",472,3)
R,BLANK^3180
"DATA",160.16,1,"FIELD",472,4)
DATE OF SURGICAL DISCHARGE (165.5,435)
"DATA",160.16,1,"FIELD",473,0)
1496^8^1503^RX Date Rad Ended
"DATA",160.16,1,"FIELD",473,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"))
"DATA",160.16,1,"FIELD",473,2)
BLANK
"DATA",160.16,1,"FIELD",473,3)
R,BLANK^3220
"DATA",160.16,1,"FIELD",473,4)
DATE RADIATION ENDED (165.5,361)
"DATA",160.16,1,"FIELD",474,0)
1506^8^1513^RX Date Systemic
"DATA",160.16,1,"FIELD",474,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,152) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="88/88/8888":8888888,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DATE~ONCACDU1(ACDDATE) K ACDDATE
"DATA",160.16,1,"FIELD",474,2)
BLANK
"DATA",160.16,1,"FIELD",474,3)
R,BLANK^3230
"DATA",160.16,1,"FIELD",474,4)
DATE SYSTEMIC THERAPY STARTED (165.5,152)
"DATA",160.16,1,"FIELD",477,0)
1579^1^1579^RX Summ--Palliative Proc
"DATA",160.16,1,"FIELD",477,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,12,"I")
"DATA",160.16,1,"FIELD",477,2)
NINE
"DATA",160.16,1,"FIELD",477,3)
L,BLANK^3270
"DATA",160.16,1,"FIELD",477,4)
PALLIATIVE PROCEDURE (165.5,12)
"DATA",160.16,1,"FIELD",479,0)
1583^2^1584^RX Summ--Transplnt/Endocr
"DATA",160.16,1,"FIELD",479,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,153,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(167,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",479,2)
BLANK
"DATA",160.16,1,"FIELD",479,3)
L,BLANK^3250
"DATA",160.16,1,"FIELD",479,4)
HEMA TRANS/ENDOCRINE PROC (165.5,153)
"DATA",160.16,1,"FIELD",480,0)
1609^2^1610^Rad--Boost RX Modality
"DATA",160.16,1,"FIELD",480,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",480,2)
ZERO
"DATA",160.16,1,"FIELD",480,3)
L,BLANK^3200
"DATA",160.16,1,"FIELD",480,4)
BOOST TREATMENT MODALITY (165.5,363.1)
"DATA",160.16,1,"FIELD",481,0)
1611^5^1615^Rad--Boost Dose: cGy
"DATA",160.16,1,"FIELD",481,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,443,"I")
"DATA",160.16,1,"FIELD",481,2)
ZERO
"DATA",160.16,1,"FIELD",481,3)
L,ZERO^3210
"DATA",160.16,1,"FIELD",481,4)
BOOST DOSE: cGy (165.5,443)
"DATA",160.16,1,"FIELD",482,0)
1619^1^1619^Readm Same Hosp 30 Days
"DATA",160.16,1,"FIELD",482,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,14,"I")
"DATA",160.16,1,"FIELD",482,2)
BLANK
"DATA",160.16,1,"FIELD",482,3)
L,BLANK^3190
"DATA",160.16,1,"FIELD",482,4)
READMISSION W/I 30 DAYS/SURG (165.5,14)
"DATA",160.16,1,"FIELD",541,0)
2370^970^3339^State/Requestor Items
"DATA",160.16,1,"FIELD",541,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",541,2)
BLANK
"DATA",160.16,1,"FIELD",541,3)
L,BLANK^2220
"DATA",160.16,1,"FIELD",542,0)
1454^2^1455^Date 1st Crs RX CoC Flag
"DATA",160.16,1,"FIELD",542,1)
S ITEM=1271,ACDANS=$$GET1~DIQ(165.5,IEN,49) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DTFLAG~ONCACDU1(ACDDATE,ITEM) K ACDDATE
"DATA",160.16,1,"FIELD",542,2)
BLANK
"DATA",160.16,1,"FIELD",542,3)
L,BLANK^1271
"DATA",160.16,1,"FIELD",553,0)
802^1^802^RX Hosp--Scope Reg 98-02
"DATA",160.16,1,"FIELD",553,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138.1,"SC5")
"DATA",160.16,1,"FIELD",553,2)
BLANK
"DATA",160.16,1,"FIELD",553,3)
L,BLANK^747
"DATA",160.16,1,"FIELD",553,4)
SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"DATA",160.16,1,"FIELD",554,0)
803^1^803^RX Hosp--Surg Oth 98-02
"DATA",160.16,1,"FIELD",554,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139.1,"SO5")
"DATA",160.16,1,"FIELD",554,2)
BLANK
"DATA",160.16,1,"FIELD",554,3)
L,BLANK^748
"DATA",160.16,1,"FIELD",554,4)
SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"DATA",160.16,1,"FIELD",555,0)
804^100^903^Reserved 04
"DATA",160.16,1,"FIELD",555,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",555,2)
BLANK
"DATA",160.16,1,"FIELD",555,3)
L,BLANK^750
"DATA",160.16,1,"FIELD",556,0)
1620^2^1621^RX Summ--Surg Site 98-02
"DATA",160.16,1,"FIELD",556,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.2,"SPS")
"DATA",160.16,1,"FIELD",556,2)
BLANK
"DATA",160.16,1,"FIELD",556,3)
L,ZERO^1646
"DATA",160.16,1,"FIELD",556,4)
SURGERY OF PRIMARY (R) (165.5,58.2)
"DATA",160.16,1,"FIELD",557,0)
1622^1^1622^RX Summ--Scope Reg 98-02
"DATA",160.16,1,"FIELD",557,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138,"SC5")
"DATA",160.16,1,"FIELD",557,2)
BLANK
"DATA",160.16,1,"FIELD",557,3)
L,BLANK^1647
"DATA",160.16,1,"FIELD",557,4)
SCOPE OF LN SURGERY (R) (165.5,138)
"DATA",160.16,1,"FIELD",558,0)
1623^1^1623^RX Summ--Surg Oth 98-02
"DATA",160.16,1,"FIELD",558,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139,"SO5")
"DATA",160.16,1,"FIELD",558,2)
BLANK
"DATA",160.16,1,"FIELD",558,3)
L,BLANK^1648
"DATA",160.16,1,"FIELD",558,4)
SURG PROC/OTHER SITE (R) (165.5,139)
"DATA",160.16,1,"FIELD",559,0)
1167^6^1172^CS Version Input Original
"DATA",160.16,1,"FIELD",559,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169.1,"I")) K DATEDX
"DATA",160.16,1,"FIELD",559,2)
BLANK
"DATA",160.16,1,"FIELD",559,3)
L,BLANK^2935
"DATA",160.16,1,"FIELD",559,4)
CS VERSION INPUT ORIGINAL (165.5,169.1)
"DATA",160.16,1,"FIELD",560,0)
1173^6^1178^CS Version Derived
"DATA",160.16,1,"FIELD",560,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,1,"FIELD",560,2)
BLANK
"DATA",160.16,1,"FIELD",560,3)
L,BLANK^2936
"DATA",160.16,1,"FIELD",560,4)
CS VERSION DERIVED (165.5,169)
"DATA",160.16,1,"FIELD",562,0)
1221^5^1225^Comorbid/Complication 8
"DATA",160.16,1,"FIELD",562,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",562,2)
BLANK
"DATA",160.16,1,"FIELD",562,3)
R,ZERO^3162
"DATA",160.16,1,"FIELD",562,4)
COMORBIDITY/COMPLICATION #8 (160,25.7)
"DATA",160.16,1,"FIELD",563,0)
1226^5^1230^Comorbid/Complication 9
"DATA",160.16,1,"FIELD",563,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.8,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",563,2)
BLANK
"DATA",160.16,1,"FIELD",563,3)
R,ZERO^3163
"DATA",160.16,1,"FIELD",563,4)
COMORBIDITY/COMPLICATION #9 (160,25.8)
"DATA",160.16,1,"FIELD",564,0)
1231^5^1235^Comorbid/Complication 10
"DATA",160.16,1,"FIELD",564,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.9,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,1,"FIELD",564,2)
BLANK
"DATA",160.16,1,"FIELD",564,3)
R,ZERO^3164
"DATA",160.16,1,"FIELD",564,4)
COMORBIDITY/COMPLICATION #10 (160,25.9)
"DATA",160.16,1,"FIELD",565,0)
1185^1^1185^ICD Revision Comorbid
"DATA",160.16,1,"FIELD",565,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25,"I"),ACDANS=$S(ACDANS="":0,1:9)
"DATA",160.16,1,"FIELD",565,2)
BLANK
"DATA",160.16,1,"FIELD",565,3)
L,BLANK^3165
"DATA",160.16,1,"FIELD",565,4)
0 = No secondary diagnosis reported.  9 = ICD-9.
"DATA",160.16,1,"FIELD",567,0)
50^8^57^Patient System ID-Hosp
"DATA",160.16,1,"FIELD",567,1)
S ACDANS=ACD160
"DATA",160.16,1,"FIELD",567,2)
BLANK
"DATA",160.16,1,"FIELD",567,3)
L,ZERO^21
"DATA",160.16,1,"FIELD",567,4)
ONCOLOGY PATIENT file IEN
"DATA",160.16,1,"FIELD",568,0)
418^1^418^NHIA Derived Hisp Origin
"DATA",160.16,1,"FIELD",568,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",568,2)
BLANK
"DATA",160.16,1,"FIELD",568,3)
L,BLANK^191
"DATA",160.16,1,"FIELD",568,4)
Blank = Algorithm has not been run
"DATA",160.16,1,"FIELD",569,0)
421^1^421^IHS Link
"DATA",160.16,1,"FIELD",569,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",569,2)
BLANK
"DATA",160.16,1,"FIELD",569,3)
L,BLANK^192
"DATA",160.16,1,"FIELD",569,4)
Blank = Record not sent for linkage or linkage result pending
"DATA",160.16,1,"FIELD",570,0)
422^2^423^GIS Coordinate Quality
"DATA",160.16,1,"FIELD",570,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",570,2)
BLANK
"DATA",160.16,1,"FIELD",570,3)
L,BLANK^366
"DATA",160.16,1,"FIELD",570,4)
Blank = Not applicable, coordinate assignment not attempted
"DATA",160.16,1,"FIELD",571,0)
564^2^565^Casefinding Source
"DATA",160.16,1,"FIELD",571,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3061231:$$GET1~DIQ(165.5,IEN,21,"I"),1:"  ") K DATEDX
"DATA",160.16,1,"FIELD",571,2)
NINE
"DATA",160.16,1,"FIELD",571,3)
L,BLANK^501
"DATA",160.16,1,"FIELD",571,4)
CASEFINDING SOURCE (165.5,21)
"DATA",160.16,1,"FIELD",572,0)
566^1^566^Ambiguous Terminology DX
"DATA",160.16,1,"FIELD",572,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,159,"I")
"DATA",160.16,1,"FIELD",572,2)
BLANK
"DATA",160.16,1,"FIELD",572,3)
L,BLANK^442
"DATA",160.16,1,"FIELD",572,4)
AMBIGUOUS TERMINOLOGY (165.5,159)
"DATA",160.16,1,"FIELD",573,0)
567^8^574^Date Conclusive DX
"DATA",160.16,1,"FIELD",573,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"))
"DATA",160.16,1,"FIELD",573,2)
BLANK
"DATA",160.16,1,"FIELD",573,3)
R,BLANK^443
"DATA",160.16,1,"FIELD",573,4)
DATE OF CONCLUSIVE DX (165.5,193)
"DATA",160.16,1,"FIELD",574,0)
577^2^578^Mult Tum Rpt as One Prim
"DATA",160.16,1,"FIELD",574,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,194,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(169,ACDANS,.01,"I")
"DATA",160.16,1,"FIELD",574,2)
BLANK
"DATA",160.16,1,"FIELD",574,3)
L,BLANK^444
"DATA",160.16,1,"FIELD",574,4)
MULT TUM RPT AS ONE PRIM (165.5,194)
"DATA",160.16,1,"FIELD",575,0)
579^8^586^Date of Mult Tumors
"DATA",160.16,1,"FIELD",575,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"))
"DATA",160.16,1,"FIELD",575,2)
BLANK
"DATA",160.16,1,"FIELD",575,3)
R,BLANK^445
"DATA",160.16,1,"FIELD",575,4)
DATE OF MULTIPLE TUMORS (165.5,195)
"DATA",160.16,1,"FIELD",576,0)
589^2^590^Multiplicity Counter
"DATA",160.16,1,"FIELD",576,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,196,"I")
"DATA",160.16,1,"FIELD",576,2)
BLANK
"DATA",160.16,1,"FIELD",576,3)
L,BLANK^446
"DATA",160.16,1,"FIELD",576,4)
MULTIPLICITY COUNTER (165.5,196)
"DATA",160.16,1,"FIELD",582,0)
2278^2^2279^Follow-Up Source Central
"DATA",160.16,1,"FIELD",582,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",582,2)
BLANK
"DATA",160.16,1,"FIELD",582,3)
L,BLANK^1791
"DATA",160.16,1,"FIELD",582,4)
This field is created by the central registry.
"DATA",160.16,1,"FIELD",584,0)
58^37^94^Reserved 01
"DATA",160.16,1,"FIELD",584,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",584,2)
BLANK
"DATA",160.16,1,"FIELD",584,3)
L,BLANK^370
"DATA",160.16,1,"FIELD",592,0)
165^1^165^Census Block Grp 1970-90
"DATA",160.16,1,"FIELD",592,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",592,2)
BLANK
"DATA",160.16,1,"FIELD",592,3)
L,BLANK^368
"DATA",160.16,1,"FIELD",599,0)
428^6^433^Census Tract 2010
"DATA",160.16,1,"FIELD",599,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,1,"FIELD",599,2)
BLANK
"DATA",160.16,1,"FIELD",599,3)
L,BLANK^135
"DATA",160.16,1,"FIELD",599,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,1,"FIELD",600,0)
2292^48^2339^Reserved 09
"DATA",160.16,1,"FIELD",600,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",600,2)
BLANK
"DATA",160.16,1,"FIELD",600,3)
L,BLANK^1740
"DATA",160.16,1,"FIELD",612,0)
204^2^205^Date of Birth Flag
"DATA",160.16,1,"FIELD",612,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",612,2)
BLANK
"DATA",160.16,1,"FIELD",612,3)
L,BLANK^241
"DATA",160.16,1,"FIELD",613,0)
538^2^539^Date of Diagnosis Flag
"DATA",160.16,1,"FIELD",613,1)
S ITEM=391,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,3,"I"),ITEM)
"DATA",160.16,1,"FIELD",613,2)
BLANK
"DATA",160.16,1,"FIELD",613,3)
L,BLANK^391
"DATA",160.16,1,"FIELD",614,0)
556^1^556^Grade Path Value
"DATA",160.16,1,"FIELD",614,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24.2,"I")
"DATA",160.16,1,"FIELD",614,2)
BLANK
"DATA",160.16,1,"FIELD",614,3)
L,BLANK^441
"DATA",160.16,1,"FIELD",614,4)
GRADE PATH VALUE (165.5,24.2)
"DATA",160.16,1,"FIELD",615,0)
557^1^557^Grade Path System
"DATA",160.16,1,"FIELD",615,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24.1,"I")
"DATA",160.16,1,"FIELD",615,2)
BLANK
"DATA",160.16,1,"FIELD",615,3)
L,BLANK^449
"DATA",160.16,1,"FIELD",615,4)
GRADE PATH SYSTEM (165.5,24.1)
"DATA",160.16,1,"FIELD",616,0)
575^2^576^Date of Conclusive DX Flag
"DATA",160.16,1,"FIELD",616,1)
S ITEM=448,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"),ITEM)
"DATA",160.16,1,"FIELD",616,2)
BLANK
"DATA",160.16,1,"FIELD",616,3)
L,BLANK^448
"DATA",160.16,1,"FIELD",617,0)
587^2^588^Date of Mult Tumors Flag
"DATA",160.16,1,"FIELD",617,1)
S ITEM=439,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"),ITEM)
"DATA",160.16,1,"FIELD",617,2)
BLANK
"DATA",160.16,1,"FIELD",617,3)
L,BLANK^439
"DATA",160.16,1,"FIELD",618,0)
753^2^754^Date of 1st Contact Flag
"DATA",160.16,1,"FIELD",618,1)
S ITEM=581,DFC=$$GET1~DIQ(165.5,IEN,155,"I") S:DFC="" DFC=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DTFLAG~ONCACDU1(DFC,ITEM) K DFC
"DATA",160.16,1,"FIELD",618,2)
BLANK
"DATA",160.16,1,"FIELD",618,3)
L,BLANK^581
"DATA",160.16,1,"FIELD",619,0)
763^2^764^Date of Inpt Adm Flag
"DATA",160.16,1,"FIELD",619,1)
S ITEM=591,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,1,"I"),ITEM)
"DATA",160.16,1,"FIELD",619,2)
BLANK
"DATA",160.16,1,"FIELD",619,3)
L,BLANK^591
"DATA",160.16,1,"FIELD",620,0)
773^2^774^Date of Inpt Disch Flag
"DATA",160.16,1,"FIELD",620,1)
S ITEM=601,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,1.1,"I"),ITEM)
"DATA",160.16,1,"FIELD",620,2)
BLANK
"DATA",160.16,1,"FIELD",620,3)
L,BLANK^601
"DATA",160.16,1,"FIELD",621,0)
775^1^775^Inpatient Status
"DATA",160.16,1,"FIELD",621,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,233,"I")
"DATA",160.16,1,"FIELD",621,2)
BLANK
"DATA",160.16,1,"FIELD",621,3)
L,BLANK^605
"DATA",160.16,1,"FIELD",621,4)
INPATIENT STATUS (165.5,233)
"DATA",160.16,1,"FIELD",622,0)
780^1^780^Reserved 15
"DATA",160.16,1,"FIELD",622,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",622,2)
BLANK
"DATA",160.16,1,"FIELD",622,3)
L,BLANK^2400
"DATA",160.16,1,"FIELD",623,0)
781^1^781^RX Hosp--Surg App 2010
"DATA",160.16,1,"FIELD",623,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,234,"I")
"DATA",160.16,1,"FIELD",623,2)
BLANK
"DATA",160.16,1,"FIELD",623,3)
L,BLANK^668
"DATA",160.16,1,"FIELD",623,4)
SURG APP 2010 (165.5,234)
"DATA",160.16,1,"FIELD",624,0)
788^1^788^Reserved 16
"DATA",160.16,1,"FIELD",624,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",624,2)
BLANK
"DATA",160.16,1,"FIELD",624,3)
L,BLANK^2450
"DATA",160.16,1,"FIELD",625,0)
984^1^984^Lymph-vascular Invasion
"DATA",160.16,1,"FIELD",625,1)
S MPH=$$GET1~DIQ(165.5,IEN,22.3,"I"),MPH=$E(MPH,1,4),LV=$$GET1~DIQ(165.5,IEN,149,"I"),ACDANS=$S((MPH>9589)&(MPH<9993):8,LV[0:0,LV[1:1,LV[8:8,1:9) K LV,MPH
"DATA",160.16,1,"FIELD",625,2)
BLANK
"DATA",160.16,1,"FIELD",625,3)
L,BLANK^1182
"DATA",160.16,1,"FIELD",625,4)
LYMPH-VASCULAR INVASION (L) (165.5,149)
"DATA",160.16,1,"FIELD",626,0)
999^1^999^CS Mets at Dx-Bone
"DATA",160.16,1,"FIELD",626,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.31,"I")
"DATA",160.16,1,"FIELD",626,2)
BLANK
"DATA",160.16,1,"FIELD",626,3)
L,BLANK^2851
"DATA",160.16,1,"FIELD",626,4)
METS AT DX-BONE (165.5,34.31)
"DATA",160.16,1,"FIELD",627,0)
1000^1^1000^CS Mets at Dx-Brain
"DATA",160.16,1,"FIELD",627,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.32,"I")
"DATA",160.16,1,"FIELD",627,2)
BLANK
"DATA",160.16,1,"FIELD",627,3)
L,BLANK^2852
"DATA",160.16,1,"FIELD",627,4)
METS AT DX-BRAIN (165.5,34.32)
"DATA",160.16,1,"FIELD",628,0)
1001^1^1001^CS Mets at Dx-Liver
"DATA",160.16,1,"FIELD",628,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.33,"I")
"DATA",160.16,1,"FIELD",628,2)
BLANK
"DATA",160.16,1,"FIELD",628,3)
L,BLANK^2853
"DATA",160.16,1,"FIELD",628,4)
METS AT DX-LIVER (165.5,34.33)
"DATA",160.16,1,"FIELD",629,0)
1002^1^1002^CS Mets at Dx-Lung
"DATA",160.16,1,"FIELD",629,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.34,"I")
"DATA",160.16,1,"FIELD",629,2)
BLANK
"DATA",160.16,1,"FIELD",629,3)
L,BLANK^2854
"DATA",160.16,1,"FIELD",629,4)
METS AT DX-LUNG (165.5,34.34)
"DATA",160.16,1,"FIELD",630,0)
1021^3^1023^CS Site-Specific Factor 7
"DATA",160.16,1,"FIELD",630,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",630,2)
BLANK
"DATA",160.16,1,"FIELD",630,3)
L,BLANK^2861
"DATA",160.16,1,"FIELD",630,4)
SITE-SPECIFIC FACTOR 7 (CS) (165.5,44.7)
"DATA",160.16,1,"FIELD",631,0)
1024^3^1026^CS Site-Specific Factor 8
"DATA",160.16,1,"FIELD",631,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.8,"I")) K DATEDX
"DATA",160.16,1,"FIELD",631,2)
BLANK
"DATA",160.16,1,"FIELD",631,3)
L,BLANK^2862
"DATA",160.16,1,"FIELD",631,4)
SITE-SPECIFIC FACTOR 8 (CS) (165.5,44.8)
"DATA",160.16,1,"FIELD",632,0)
1027^3^1029^CS Site-Specific Factor 9
"DATA",160.16,1,"FIELD",632,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.9,"I")) K DATEDX
"DATA",160.16,1,"FIELD",632,2)
BLANK
"DATA",160.16,1,"FIELD",632,3)
L,BLANK^2863
"DATA",160.16,1,"FIELD",632,4)
SITE-SPECIFIC FACTOR 9 (CS) (165.5,44.9)
"DATA",160.16,1,"FIELD",633,0)
1030^3^1032^CS Site-Specific Factor 10
"DATA",160.16,1,"FIELD",633,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.101,"I")) K DATEDX
"DATA",160.16,1,"FIELD",633,2)
BLANK
"DATA",160.16,1,"FIELD",633,3)
L,BLANK^2864
"DATA",160.16,1,"FIELD",633,4)
SITE-SPECIFIC FACTOR 10 (CS) (165.5,44.101)
"DATA",160.16,1,"FIELD",634,0)
1036^3^1038^CS Site-Specific Factor 12
"DATA",160.16,1,"FIELD",634,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.12,"I")) K DATEDX
"DATA",160.16,1,"FIELD",634,2)
BLANK
"DATA",160.16,1,"FIELD",634,3)
L,BLANK^2866
"DATA",160.16,1,"FIELD",634,4)
SITE-SPECIFIC FACTOR 12 (CS) (165.5,44.12)
"DATA",160.16,1,"FIELD",635,0)
1039^3^1041^CS Site-Specific Factor 13
"DATA",160.16,1,"FIELD",635,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.13,"I")) K DATEDX
"DATA",160.16,1,"FIELD",635,2)
BLANK
"DATA",160.16,1,"FIELD",635,3)
L,BLANK^2867
"DATA",160.16,1,"FIELD",635,4)
SITE-SPECIFIC FACTOR 13 (CS) (165.5,44.13)
"DATA",160.16,1,"FIELD",636,0)
1042^3^1044^CS Site-Specific Factor 14
"DATA",160.16,1,"FIELD",636,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.14,"I")) K DATEDX
"DATA",160.16,1,"FIELD",636,2)
BLANK
"DATA",160.16,1,"FIELD",636,3)
L,BLANK^2868
"DATA",160.16,1,"FIELD",636,4)
SITE-SPECIFIC FACTOR 14 (CS) (165.5,44.14)
"DATA",160.16,1,"FIELD",637,0)
1045^3^1047^CS Site-Specific Factor 15
"DATA",160.16,1,"FIELD",637,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.15,"I")) K DATEDX
"DATA",160.16,1,"FIELD",637,2)
BLANK
"DATA",160.16,1,"FIELD",637,3)
L,BLANK^2869
"DATA",160.16,1,"FIELD",637,4)
SITE-SPECIFIC FACTOR 15 (CS) (165.5,44.15)
"DATA",160.16,1,"FIELD",638,0)
1048^3^1050^CS Site-Specific Factor 16
"DATA",160.16,1,"FIELD",638,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.16,"I")) K DATEDX
"DATA",160.16,1,"FIELD",638,2)
BLANK
"DATA",160.16,1,"FIELD",638,3)
L,BLANK^2870
"DATA",160.16,1,"FIELD",638,4)
SITE-SPECIFIC FACTOR 16 (CS) (165.5,44.16)
"DATA",160.16,1,"FIELD",639,0)
1051^3^1053^CS Site-Specific Factor 17
"DATA",160.16,1,"FIELD",639,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.17,"I")) K DATEDX
"DATA",160.16,1,"FIELD",639,2)
BLANK
"DATA",160.16,1,"FIELD",639,3)
L,BLANK^2871
"DATA",160.16,1,"FIELD",639,4)
SITE-SPECIFIC FACTOR 17 (CS) (165.5,44.17)
"DATA",160.16,1,"FIELD",640,0)
1054^3^1056^CS Site-Specific Factor 18
"DATA",160.16,1,"FIELD",640,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.18,"I")) K DATEDX
"DATA",160.16,1,"FIELD",640,2)
BLANK
"DATA",160.16,1,"FIELD",640,3)
L,BLANK^2872
"DATA",160.16,1,"FIELD",640,4)
SITE-SPECIFIC FACTOR 18 (CS) (165.5,44.18)
"DATA",160.16,1,"FIELD",641,0)
1057^3^1059^CS Site-Specific Factor 19
"DATA",160.16,1,"FIELD",641,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.19,"I")) K DATEDX
"DATA",160.16,1,"FIELD",641,2)
BLANK
"DATA",160.16,1,"FIELD",641,3)
L,BLANK^2873
"DATA",160.16,1,"FIELD",641,4)
SITE-SPECIFIC FACTOR 19 (CS) (165.5,44.19)
"DATA",160.16,1,"FIELD",642,0)
1063^3^1065^CS Site-Specific Factor 21
"DATA",160.16,1,"FIELD",642,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.21,"I")) K DATEDX
"DATA",160.16,1,"FIELD",642,2)
BLANK
"DATA",160.16,1,"FIELD",642,3)
L,BLANK^2875
"DATA",160.16,1,"FIELD",642,4)
SITE-SPECIFIC FACTOR 21 (CS) (165.5,44.21)
"DATA",160.16,1,"FIELD",643,0)
1066^3^1068^CS Site-Specific Factor 22
"DATA",160.16,1,"FIELD",643,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.22,"I")) K DATEDX
"DATA",160.16,1,"FIELD",643,2)
BLANK
"DATA",160.16,1,"FIELD",643,3)
L,BLANK^2876
"DATA",160.16,1,"FIELD",643,4)
SITE-SPECIFIC FACTOR 22 (CS) (165.5,44.22)
"DATA",160.16,1,"FIELD",644,0)
1069^3^1071^CS Site-Specific Factor 23
"DATA",160.16,1,"FIELD",644,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.23,"I")) K DATEDX
"DATA",160.16,1,"FIELD",644,2)
BLANK
"DATA",160.16,1,"FIELD",644,3)
L,BLANK^2877
"DATA",160.16,1,"FIELD",644,4)
SITE-SPECIFIC FACTOR 23 (CS) (165.5,44.23)
"DATA",160.16,1,"FIELD",645,0)
1072^3^1074^CS Site-Specific Factor 24
"DATA",160.16,1,"FIELD",645,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.24,"I")) K DATEDX
"DATA",160.16,1,"FIELD",645,2)
BLANK
"DATA",160.16,1,"FIELD",645,3)
L,BLANK^2878
"DATA",160.16,1,"FIELD",645,4)
SITE-SPECIFIC FACTOR 24 (CS) (165.5,44.24)
"DATA",160.16,1,"FIELD",646,0)
1075^3^1077^CS Site-Specific Factor 25
"DATA",160.16,1,"FIELD",646,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.25,"I")) K DATEDX
"DATA",160.16,1,"FIELD",646,2)
BLANK
"DATA",160.16,1,"FIELD",646,3)
L,BLANK^2879
"DATA",160.16,1,"FIELD",646,4)
SITE-SPECIFIC FACTOR 25 (CS) (165.5,44.25)
"DATA",160.16,1,"FIELD",647,0)
1078^3^1080^CS PreRx Tumor Size
"DATA",160.16,1,"FIELD",647,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",647,2)
BLANK
"DATA",160.16,1,"FIELD",647,3)
L,BLANK^2730
"DATA",160.16,1,"FIELD",648,0)
1081^3^1083^CS PreRx Extension
"DATA",160.16,1,"FIELD",648,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",648,2)
BLANK
"DATA",160.16,1,"FIELD",648,3)
L,BLANK^2735
"DATA",160.16,1,"FIELD",649,0)
1084^1^1084^CS PreRx Tum/Sz/Ext Eval
"DATA",160.16,1,"FIELD",649,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",649,2)
BLANK
"DATA",160.16,1,"FIELD",649,3)
L,BLANK^2740
"DATA",160.16,1,"FIELD",650,0)
1085^3^1087^CS PreRx Lymph Nodes
"DATA",160.16,1,"FIELD",650,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",650,2)
BLANK
"DATA",160.16,1,"FIELD",650,3)
L,BLANK^2750
"DATA",160.16,1,"FIELD",651,0)
1088^1^1088^CS PreRx Reg Nodes Eval
"DATA",160.16,1,"FIELD",651,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",651,2)
BLANK
"DATA",160.16,1,"FIELD",651,3)
L,BLANK^2755
"DATA",160.16,1,"FIELD",652,0)
1089^2^1090^CS PreRx Mets at DX
"DATA",160.16,1,"FIELD",652,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",652,2)
BLANK
"DATA",160.16,1,"FIELD",652,3)
L,BLANK^2760
"DATA",160.16,1,"FIELD",653,0)
1091^1^1091^CS PreRx Mets Eval
"DATA",160.16,1,"FIELD",653,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",653,2)
BLANK
"DATA",160.16,1,"FIELD",653,3)
L,BLANK^2765
"DATA",160.16,1,"FIELD",654,0)
1092^3^1094^CS PostRx Tumor Size
"DATA",160.16,1,"FIELD",654,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",654,2)
BLANK
"DATA",160.16,1,"FIELD",654,3)
L,BLANK^2770
"DATA",160.16,1,"FIELD",655,0)
1095^3^1097^CS PostRx Extension
"DATA",160.16,1,"FIELD",655,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",655,2)
BLANK
"DATA",160.16,1,"FIELD",655,3)
L,BLANK^2775
"DATA",160.16,1,"FIELD",656,0)
1098^3^1100^CS PostRx Lymph Nodes
"DATA",160.16,1,"FIELD",656,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",656,2)
BLANK
"DATA",160.16,1,"FIELD",656,3)
L,BLANK^2780
"DATA",160.16,1,"FIELD",657,0)
1101^2^1102^CS PostRx Mets at DX
"DATA",160.16,1,"FIELD",657,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",657,2)
BLANK
"DATA",160.16,1,"FIELD",657,3)
L,BLANK^2785
"DATA",160.16,1,"FIELD",658,0)
1114^3^1116^Derived AJCC-7 T
"DATA",160.16,1,"FIELD",658,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",658,2)
BLANK
"DATA",160.16,1,"FIELD",658,3)
L,BLANK^3400
"DATA",160.16,1,"FIELD",658,4)
DERIVED AJCC-7 T (165.5,160.7)
"DATA",160.16,1,"FIELD",659,0)
1117^1^1117^Derived AJCC-7 T Descript
"DATA",160.16,1,"FIELD",659,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",659,2)
BLANK
"DATA",160.16,1,"FIELD",659,3)
L,BLANK^3402
"DATA",160.16,1,"FIELD",659,4)
DERIVED AJCC-7 T DESCRIPTOR (165.5,161.7)
"DATA",160.16,1,"FIELD",660,0)
1121^1^1121^Derived AJCC-7 N Descript
"DATA",160.16,1,"FIELD",660,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",660,2)
BLANK
"DATA",160.16,1,"FIELD",660,3)
L,BLANK^3412
"DATA",160.16,1,"FIELD",660,4)
DERIVED AJCC-7 N DESCRIPTOR (165.5,163.7)
"DATA",160.16,1,"FIELD",661,0)
1122^3^1124^Derived AJCC-7 M
"DATA",160.16,1,"FIELD",661,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",661,2)
BLANK
"DATA",160.16,1,"FIELD",661,3)
L,BLANK^3420
"DATA",160.16,1,"FIELD",661,4)
DERIVED AJCC-7 M (165.5,164.7)
"DATA",160.16,1,"FIELD",662,0)
1125^1^1125^Derived AJCC-7 M Descript
"DATA",160.16,1,"FIELD",662,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",662,2)
BLANK
"DATA",160.16,1,"FIELD",662,3)
L,BLANK^3422
"DATA",160.16,1,"FIELD",662,4)
DERIVED AJCC-7 M DESCRIPTOR (165.5,165.7)
"DATA",160.16,1,"FIELD",663,0)
1126^3^1128^Derived AJCC-7 Stage Grp
"DATA",160.16,1,"FIELD",663,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166.7,"I")) K DATEDX
"DATA",160.16,1,"FIELD",663,2)
BLANK
"DATA",160.16,1,"FIELD",663,3)
L,BLANK^3430
"DATA",160.16,1,"FIELD",663,4)
DERIVED AJCC-7 STAGE GROUP (165.5,166.7)
"DATA",160.16,1,"FIELD",664,0)
1129^3^1131^Derived PreRx-7 T
"DATA",160.16,1,"FIELD",664,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",664,2)
BLANK
"DATA",160.16,1,"FIELD",664,3)
L,BLANK^3440
"DATA",160.16,1,"FIELD",665,0)
1132^1^1132^Derived PreRx-7 T Descrip
"DATA",160.16,1,"FIELD",665,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",665,2)
BLANK
"DATA",160.16,1,"FIELD",665,3)
L,BLANK^3442
"DATA",160.16,1,"FIELD",666,0)
1133^3^1135^Derived PreRx-7 N
"DATA",160.16,1,"FIELD",666,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",666,2)
BLANK
"DATA",160.16,1,"FIELD",666,3)
L,BLANK^3450
"DATA",160.16,1,"FIELD",667,0)
1136^1^1136^Derived PreRx-7 N Descrip
"DATA",160.16,1,"FIELD",667,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",667,2)
BLANK
"DATA",160.16,1,"FIELD",667,3)
L,BLANK^3452
"DATA",160.16,1,"FIELD",668,0)
1137^3^1139^Derived PreRx-7 M
"DATA",160.16,1,"FIELD",668,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",668,2)
BLANK
"DATA",160.16,1,"FIELD",668,3)
L,BLANK^3460
"DATA",160.16,1,"FIELD",669,0)
1140^1^1140^Derived PreRx-7 M Descrip
"DATA",160.16,1,"FIELD",669,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",669,2)
BLANK
"DATA",160.16,1,"FIELD",669,3)
L,BLANK^3462
"DATA",160.16,1,"FIELD",670,0)
1141^3^1143^Derived PreRx-7 Stage Grp
"DATA",160.16,1,"FIELD",670,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",670,2)
BLANK
"DATA",160.16,1,"FIELD",670,3)
L,BLANK^3470
"DATA",160.16,1,"FIELD",671,0)
1144^3^1146^Derived PostRx-7 T
"DATA",160.16,1,"FIELD",671,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",671,2)
BLANK
"DATA",160.16,1,"FIELD",671,3)
L,BLANK^3480
"DATA",160.16,1,"FIELD",672,0)
1147^3^1149^Derived PostRx-7 N
"DATA",160.16,1,"FIELD",672,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",672,2)
BLANK
"DATA",160.16,1,"FIELD",672,3)
L,BLANK^3482
"DATA",160.16,1,"FIELD",673,0)
1150^2^1151^Derived PostRx-7 M
"DATA",160.16,1,"FIELD",673,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",673,2)
BLANK
"DATA",160.16,1,"FIELD",673,3)
L,BLANK^3490
"DATA",160.16,1,"FIELD",674,0)
1152^3^1154^Derived PostRx-7 Stge Grp
"DATA",160.16,1,"FIELD",674,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",674,2)
BLANK
"DATA",160.16,1,"FIELD",674,3)
L,BLANK^3492
"DATA",160.16,1,"FIELD",675,0)
1157^1^1157^Derived Neoadjuv Rx Flag
"DATA",160.16,1,"FIELD",675,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",675,2)
BLANK
"DATA",160.16,1,"FIELD",675,3)
L,BLANK^3600
"DATA",160.16,1,"FIELD",676,0)
1161^6^1166^CS Version Input Current
"DATA",160.16,1,"FIELD",676,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,1,"FIELD",676,2)
BLANK
"DATA",160.16,1,"FIELD",676,3)
L,BLANK^2937
"DATA",160.16,1,"FIELD",676,4)
CS VERSION DERIVED (165.5,169)
"DATA",160.16,1,"FIELD",677,0)
1179^1^1179^SEER Site-Specific Fact 1
"DATA",160.16,1,"FIELD",677,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",677,2)
BLANK
"DATA",160.16,1,"FIELD",677,3)
L,BLANK^3700
"DATA",160.16,1,"FIELD",678,0)
1180^1^1180^SEER Site-Specific Fact 2
"DATA",160.16,1,"FIELD",678,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",678,2)
BLANK
"DATA",160.16,1,"FIELD",678,3)
L,BLANK^3702
"DATA",160.16,1,"FIELD",679,0)
1181^1^1181^SEER Site-Specific Fact 3
"DATA",160.16,1,"FIELD",679,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",679,2)
BLANK
"DATA",160.16,1,"FIELD",679,3)
L,BLANK^3704
"DATA",160.16,1,"FIELD",680,0)
1182^1^1182^SEER Site-Specific Fact 4
"DATA",160.16,1,"FIELD",680,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",680,2)
BLANK
"DATA",160.16,1,"FIELD",680,3)
L,BLANK^3706
"DATA",160.16,1,"FIELD",681,0)
1183^1^1183^SEER Site-Specific Fact 5
"DATA",160.16,1,"FIELD",681,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",681,2)
BLANK
"DATA",160.16,1,"FIELD",681,3)
L,BLANK^3708
"DATA",160.16,1,"FIELD",682,0)
1184^1^1184^SEER Site-Specific Fact 6
"DATA",160.16,1,"FIELD",682,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",682,2)
BLANK
"DATA",160.16,1,"FIELD",682,3)
L,BLANK^3710
"DATA",160.16,1,"FIELD",683,0)
1444^2^1445^Date Initial RX SEER Flag
"DATA",160.16,1,"FIELD",683,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",683,2)
BLANK
"DATA",160.16,1,"FIELD",683,3)
L,BLANK^1261
"DATA",160.16,1,"FIELD",684,0)
1464^2^1465^RX Date Surgery Flag
"DATA",160.16,1,"FIELD",684,1)
S ITEM=1201,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"),ITEM)
"DATA",160.16,1,"FIELD",684,2)
BLANK
"DATA",160.16,1,"FIELD",684,3)
L,BLANK^1201
"DATA",160.16,1,"FIELD",685,0)
1474^2^1475^RX Date Mst Defin Srg Flag
"DATA",160.16,1,"FIELD",685,1)
S ITEM=3171,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"),ITEM)
"DATA",160.16,1,"FIELD",685,2)
BLANK
"DATA",160.16,1,"FIELD",685,3)
L,BLANK^3171
"DATA",160.16,1,"FIELD",686,0)
1484^2^1485^RX Date Surg Disch Flag
"DATA",160.16,1,"FIELD",686,1)
S ITEM=3181,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"),ITEM)
"DATA",160.16,1,"FIELD",686,2)
BLANK
"DATA",160.16,1,"FIELD",686,3)
L,BLANK^3181
"DATA",160.16,1,"FIELD",687,0)
1494^2^1495^RX Date Radiation Flag
"DATA",160.16,1,"FIELD",687,1)
S ITEM=1211,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"),ITEM)
"DATA",160.16,1,"FIELD",687,2)
BLANK
"DATA",160.16,1,"FIELD",687,3)
L,BLANK^1211
"DATA",160.16,1,"FIELD",688,0)
1504^2^1505^RX Date Rad Ended Flag
"DATA",160.16,1,"FIELD",688,1)
S ITEM=3221,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"),ITEM)
"DATA",160.16,1,"FIELD",688,2)
BLANK
"DATA",160.16,1,"FIELD",688,3)
L,BLANK^3221
"DATA",160.16,1,"FIELD",689,0)
1514^2^1515^RX Date Systemic Flag
"DATA",160.16,1,"FIELD",689,1)
S ITEM=3231,ACDANS=$$GET1~DIQ(165.5,IEN,152) I ACDANS'="" S SY=ACDANS,ACDDATE=$S(SY="99/99/9999":9999999,SY="88/88/8888":8888888,SY="00/00/0000":"0000000",1:($E(SY,7,10)-1700)_$E(SY,1,2)_$E(SY,4,5)),ACDANS=$$DTFLAG~ONCACDU1(ACDDATE,ITEM)
"DATA",160.16,1,"FIELD",689,2)
BLANK
"DATA",160.16,1,"FIELD",689,3)
L,BLANK^3231
"DATA",160.16,1,"FIELD",690,0)
1524^2^1525^RX Date Chemo Flag
"DATA",160.16,1,"FIELD",690,1)
S ITEM=1221,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"),ITEM)
"DATA",160.16,1,"FIELD",690,2)
BLANK
"DATA",160.16,1,"FIELD",690,3)
L,BLANK^1221
"DATA",160.16,1,"FIELD",691,0)
1534^2^1535^RX Date Hormone Flag
"DATA",160.16,1,"FIELD",691,1)
S ITEM=1231,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"),ITEM)
"DATA",160.16,1,"FIELD",691,2)
BLANK
"DATA",160.16,1,"FIELD",691,3)
L,BLANK^1231
"DATA",160.16,1,"FIELD",692,0)
1544^2^1545^RX Date BRM Flag
"DATA",160.16,1,"FIELD",692,1)
S ITEM=1241,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"),ITEM)
"DATA",160.16,1,"FIELD",692,2)
BLANK
"DATA",160.16,1,"FIELD",692,3)
L,BLANK^1241
"DATA",160.16,1,"FIELD",693,0)
1554^2^1555^RX Date Other Flag
"DATA",160.16,1,"FIELD",693,1)
S ITEM=1251,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"),ITEM)
"DATA",160.16,1,"FIELD",693,2)
BLANK
"DATA",160.16,1,"FIELD",693,3)
L,BLANK^1251
"DATA",160.16,1,"FIELD",694,0)
1564^2^1565^RX Date DX/Stg Proc Flag
"DATA",160.16,1,"FIELD",694,1)
S ITEM=1281,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,58.3,"I"),ITEM)
"DATA",160.16,1,"FIELD",694,2)
BLANK
"DATA",160.16,1,"FIELD",694,3)
L,BLANK^1281
"DATA",160.16,1,"FIELD",695,0)
1566^1^1566^RX Summ--Treatment Status
"DATA",160.16,1,"FIELD",695,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,235,"I")
"DATA",160.16,1,"FIELD",695,2)
BLANK
"DATA",160.16,1,"FIELD",695,3)
L,BLANK^1285
"DATA",160.16,1,"FIELD",695,4)
TREATMENT STATUS (165.5,235)
"DATA",160.16,1,"FIELD",696,0)
1732^2^1733^Subsq RX 2ndCrs Date Flag
"DATA",160.16,1,"FIELD",696,1)
S ITEM=1661,ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,1,"FIELD",696,2)
BLANK
"DATA",160.16,1,"FIELD",696,3)
L,BLANK^1661
"DATA",160.16,1,"FIELD",697,0)
1753^2^1754^Subsq RX 3rdCrs Date Flag
"DATA",160.16,1,"FIELD",697,1)
S ITEM=1681,ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,1,"FIELD",697,2)
BLANK
"DATA",160.16,1,"FIELD",697,3)
L,BLANK^1681
"DATA",160.16,1,"FIELD",698,0)
1774^2^1775^Subsq RX 4thCrs Date Flag
"DATA",160.16,1,"FIELD",698,1)
S ITEM=1701,ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,1,"FIELD",698,2)
BLANK
"DATA",160.16,1,"FIELD",698,3)
L,BLANK^1701
"DATA",160.16,1,"FIELD",699,0)
1951^8^1958^Date Case Initiated
"DATA",160.16,1,"FIELD",699,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,236,"I"))
"DATA",160.16,1,"FIELD",699,2)
BLANK
"DATA",160.16,1,"FIELD",699,3)
R,BLANK^2085
"DATA",160.16,1,"FIELD",699,4)
DATE CASE INITIATED (165.5,236)
"DATA",160.16,1,"FIELD",700,0)
1967^8^1974^Date Case Completed--CoC
"DATA",160.16,1,"FIELD",700,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,90,"I"))
"DATA",160.16,1,"FIELD",700,2)
BLANK
"DATA",160.16,1,"FIELD",700,3)
R,BLANK^2092
"DATA",160.16,1,"FIELD",700,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,1,"FIELD",701,0)
2124^2^2125^Date of Last Contact Flag
"DATA",160.16,1,"FIELD",701,1)
S ITEM=1751,ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,1,"FIELD",701,2)
BLANK
"DATA",160.16,1,"FIELD",701,3)
L,BLANK^1751
"DATA",160.16,1,"FIELD",702,0)
2204^2^2205^Recurrence Date--1st Flag
"DATA",160.16,1,"FIELD",702,1)
S ITEM=1861,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,70,"I"),ITEM)
"DATA",160.16,1,"FIELD",702,2)
BLANK
"DATA",160.16,1,"FIELD",702,3)
L,BLANK^1861
"DATA",160.16,1,"FIELD",703,0)
2288^2^2289^Date of Death--CanadaFlag
"DATA",160.16,1,"FIELD",703,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",703,2)
BLANK
"DATA",160.16,1,"FIELD",703,3)
L,BLANK^1756
"DATA",160.16,1,"FIELD",704,0)
2340^10^2349^NPI-Primary Surgeon
"DATA",160.16,1,"FIELD",704,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,1,"FIELD",704,2)
BLANK
"DATA",160.16,1,"FIELD",704,3)
L,BLANK^2485
"DATA",160.16,1,"FIELD",704,4)
NPI (165,101)
"DATA",160.16,1,"FIELD",705,0)
2350^10^2359^NPI-Radiation Oncologist
"DATA",160.16,1,"FIELD",705,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.3,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,1,"FIELD",705,2)
BLANK
"DATA",160.16,1,"FIELD",705,3)
L,BLANK^2505
"DATA",160.16,1,"FIELD",705,4)
NPI (165,101)
"DATA",160.16,1,"FIELD",706,0)
2360^10^2369^NPI-Medical Oncologist
"DATA",160.16,1,"FIELD",706,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.4,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,1,"FIELD",706,2)
BLANK
"DATA",160.16,1,"FIELD",706,3)
L,BLANK^2495
"DATA",160.16,1,"FIELD",706,4)
NPI (165,101)
"DATA",160.16,1,"FIELD",707,0)
434^1^434^Census Block Group 2010
"DATA",160.16,1,"FIELD",707,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",707,2)
BLANK
"DATA",160.16,1,"FIELD",707,3)
L,BLANK^363
"DATA",160.16,1,"FIELD",708,0)
435^1^435^Census Tr Certainty 2010
"DATA",160.16,1,"FIELD",708,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",708,2)
BLANK
"DATA",160.16,1,"FIELD",708,3)
L,BLANK^367
"DATA",160.16,1,"FIELD",709,0)
455^73^527^Reserved 02
"DATA",160.16,1,"FIELD",709,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",709,2)
BLANK
"DATA",160.16,1,"FIELD",709,3)
L,BLANK^530
"DATA",160.16,1,"FIELD",710,0)
2016^1^2016^Over-ride CS 1
"DATA",160.16,1,"FIELD",710,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",710,2)
BLANK
"DATA",160.16,1,"FIELD",710,3)
L,BLANK^3750
"DATA",160.16,1,"FIELD",711,0)
2017^1^2017^Over-ride CS 2
"DATA",160.16,1,"FIELD",711,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",711,2)
BLANK
"DATA",160.16,1,"FIELD",711,3)
L,BLANK^3751
"DATA",160.16,1,"FIELD",712,0)
2018^1^2018^Over-ride CS 3
"DATA",160.16,1,"FIELD",712,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",712,2)
BLANK
"DATA",160.16,1,"FIELD",712,3)
L,BLANK^3752
"DATA",160.16,1,"FIELD",713,0)
2019^1^2019^Over-ride CS 4
"DATA",160.16,1,"FIELD",713,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",713,2)
BLANK
"DATA",160.16,1,"FIELD",713,3)
L,BLANK^3753
"DATA",160.16,1,"FIELD",714,0)
2020^1^2020^Over-ride CS 5
"DATA",160.16,1,"FIELD",714,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",714,2)
BLANK
"DATA",160.16,1,"FIELD",714,3)
L,BLANK^3754
"DATA",160.16,1,"FIELD",715,0)
2021^1^2021^Over-ride CS 6
"DATA",160.16,1,"FIELD",715,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",715,2)
BLANK
"DATA",160.16,1,"FIELD",715,3)
L,BLANK^3755
"DATA",160.16,1,"FIELD",716,0)
2022^1^2022^Over-ride CS 7
"DATA",160.16,1,"FIELD",716,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",716,2)
BLANK
"DATA",160.16,1,"FIELD",716,3)
L,BLANK^3756
"DATA",160.16,1,"FIELD",717,0)
2023^1^2023^Over-ride CS 8
"DATA",160.16,1,"FIELD",717,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",717,2)
BLANK
"DATA",160.16,1,"FIELD",717,3)
L,BLANK^3757
"DATA",160.16,1,"FIELD",718,0)
2024^1^2024^Over-ride CS 9
"DATA",160.16,1,"FIELD",718,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",718,2)
BLANK
"DATA",160.16,1,"FIELD",718,3)
L,BLANK^3758
"DATA",160.16,1,"FIELD",719,0)
2025^1^2025^Over-ride CS 10
"DATA",160.16,1,"FIELD",719,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",719,2)
BLANK
"DATA",160.16,1,"FIELD",719,3)
L,BLANK^3759
"DATA",160.16,1,"FIELD",720,0)
2026^1^2026^Over-ride CS 11
"DATA",160.16,1,"FIELD",720,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",720,2)
BLANK
"DATA",160.16,1,"FIELD",720,3)
L,BLANK^3760
"DATA",160.16,1,"FIELD",721,0)
2027^1^2027^Over-ride CS 12
"DATA",160.16,1,"FIELD",721,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",721,2)
BLANK
"DATA",160.16,1,"FIELD",721,3)
L,BLANK^3761
"DATA",160.16,1,"FIELD",722,0)
2028^1^2028^Over-ride CS 13
"DATA",160.16,1,"FIELD",722,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",722,2)
BLANK
"DATA",160.16,1,"FIELD",722,3)
L,BLANK^3762
"DATA",160.16,1,"FIELD",723,0)
2029^1^2029^Over-ride CS 14
"DATA",160.16,1,"FIELD",723,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",723,2)
BLANK
"DATA",160.16,1,"FIELD",723,3)
L,BLANK^3763
"DATA",160.16,1,"FIELD",724,0)
2030^1^2030^Over-ride CS 15
"DATA",160.16,1,"FIELD",724,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",724,2)
BLANK
"DATA",160.16,1,"FIELD",724,3)
L,BLANK^3764
"DATA",160.16,1,"FIELD",725,0)
2031^1^2031^Over-ride CS 16
"DATA",160.16,1,"FIELD",725,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",725,2)
BLANK
"DATA",160.16,1,"FIELD",725,3)
L,BLANK^3765
"DATA",160.16,1,"FIELD",726,0)
2032^1^2032^Over-ride CS 17
"DATA",160.16,1,"FIELD",726,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",726,2)
BLANK
"DATA",160.16,1,"FIELD",726,3)
L,BLANK^3766
"DATA",160.16,1,"FIELD",727,0)
2033^1^2033^Over-ride CS 18
"DATA",160.16,1,"FIELD",727,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",727,2)
BLANK
"DATA",160.16,1,"FIELD",727,3)
L,BLANK^3767
"DATA",160.16,1,"FIELD",728,0)
2034^1^2034^Over-ride CS 19
"DATA",160.16,1,"FIELD",728,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",728,2)
BLANK
"DATA",160.16,1,"FIELD",728,3)
L,BLANK^3768
"DATA",160.16,1,"FIELD",729,0)
2035^1^2035^Over-ride CS 20
"DATA",160.16,1,"FIELD",729,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",729,2)
BLANK
"DATA",160.16,1,"FIELD",729,3)
L,BLANK^3769
"DATA",160.16,1,"FIELD",732,0)
1236^7^1242^Secondary Diagnosis 1
"DATA",160.16,1,"FIELD",732,1)
S ONIEN=25.91 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",732,2)
ZERO
"DATA",160.16,1,"FIELD",732,3)
R,ZERO^3780
"DATA",160.16,1,"FIELD",732,4)
SECONDARY DIAGNOSIS 1 (160,25.91)
"DATA",160.16,1,"FIELD",733,0)
1243^7^1249^Secondary Diagnosis 2
"DATA",160.16,1,"FIELD",733,1)
S ONIEN=25.92 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",733,2)
BLANK
"DATA",160.16,1,"FIELD",733,3)
R,ZERO^3782
"DATA",160.16,1,"FIELD",733,4)
SECONDARY DIAGNOSIS 2 (160,25.92)
"DATA",160.16,1,"FIELD",734,0)
1250^7^1256^Secondary Diagnosis 3
"DATA",160.16,1,"FIELD",734,1)
S ONIEN=25.93 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",734,2)
BLANK
"DATA",160.16,1,"FIELD",734,3)
R,ZERO^3784
"DATA",160.16,1,"FIELD",734,4)
SECONDARY DIAGNOSIS 3 (160,25.93)
"DATA",160.16,1,"FIELD",735,0)
1257^7^1263^Secondary Diagnosis 4
"DATA",160.16,1,"FIELD",735,1)
S ONIEN=25.94 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",735,2)
BLANK
"DATA",160.16,1,"FIELD",735,3)
R,ZERO^3786
"DATA",160.16,1,"FIELD",735,4)
SECONDARY DIAGNOSIS 4 (160,25.94)
"DATA",160.16,1,"FIELD",736,0)
1264^7^1270^Secondary Diagnosis 5
"DATA",160.16,1,"FIELD",736,1)
S ONIEN=25.95 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",736,2)
BLANK
"DATA",160.16,1,"FIELD",736,3)
R,ZERO^3788
"DATA",160.16,1,"FIELD",736,4)
SECONDARY DIAGNOSIS 5 (160,25.95)
"DATA",160.16,1,"FIELD",737,0)
1271^7^1277^Secondary Diagnosis 6
"DATA",160.16,1,"FIELD",737,1)
S ONIEN=25.96 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",737,2)
BLANK
"DATA",160.16,1,"FIELD",737,3)
R,ZERO^3790
"DATA",160.16,1,"FIELD",737,4)
SECONDARY DIAGNOSIS 6 (160,25.96)
"DATA",160.16,1,"FIELD",738,0)
1278^7^1284^Secondary Diagnosis 7
"DATA",160.16,1,"FIELD",738,1)
S ONIEN=25.97 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",738,2)
BLANK
"DATA",160.16,1,"FIELD",738,3)
R,ZERO^3792
"DATA",160.16,1,"FIELD",738,4)
SECONDARY DIAGNOSIS 7 (160,25.97)
"DATA",160.16,1,"FIELD",739,0)
1285^7^1291^Secondary Diagnosis 8
"DATA",160.16,1,"FIELD",739,1)
S ONIEN=25.98 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",739,2)
BLANK
"DATA",160.16,1,"FIELD",739,3)
R,ZERO^3794
"DATA",160.16,1,"FIELD",739,4)
SECONDARY DIAGNOSIS 8 (160,25.98)
"DATA",160.16,1,"FIELD",740,0)
1292^7^1298^Secondary Diagnosis 9
"DATA",160.16,1,"FIELD",740,1)
S ONIEN=25.99 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",740,2)
BLANK
"DATA",160.16,1,"FIELD",740,3)
R,ZERO^3796
"DATA",160.16,1,"FIELD",740,4)
SECONDARY DIAGNOSIS 9 (160,25.99)
"DATA",160.16,1,"FIELD",741,0)
1299^7^1305^Secondary Diagnosis 10
"DATA",160.16,1,"FIELD",741,1)
S ONIEN=25.9901 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,1,"FIELD",741,2)
BLANK
"DATA",160.16,1,"FIELD",741,3)
R,ZERO^3798
"DATA",160.16,1,"FIELD",741,4)
SECONDARY DIAGNOSIS 10 (160,25.9901)
"DATA",160.16,1,"FIELD",742,0)
1306^130^1435^Reserved 05
"DATA",160.16,1,"FIELD",742,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",742,2)
BLANK
"DATA",160.16,1,"FIELD",742,3)
L,BLANK^1180
"DATA",160.16,1,"FIELD",743,0)
436^3^438^Addr at DX--Country
"DATA",160.16,1,"FIELD",743,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,102)
"DATA",160.16,1,"FIELD",743,2)
BLANK
"DATA",160.16,1,"FIELD",743,3)
L,BLANK^102
"DATA",160.16,1,"FIELD",743,4)
STATE AT DX (165.5,16)
"DATA",160.16,1,"FIELD",744,0)
439^3^441^Addr Current--Country
"DATA",160.16,1,"FIELD",744,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,1832)
"DATA",160.16,1,"FIELD",744,2)
BLANK
"DATA",160.16,1,"FIELD",744,3)
L,BLANK^1832
"DATA",160.16,1,"FIELD",744,4)
COUNTRY (2,.1173)
"DATA",160.16,1,"FIELD",745,0)
442^2^443^Birthplace--State
"DATA",160.16,1,"FIELD",745,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1.1,"I")
"DATA",160.16,1,"FIELD",745,2)
BLANK
"DATA",160.16,1,"FIELD",745,3)
L,BLANK^252
"DATA",160.16,1,"FIELD",745,4)
PLACE OF BIRTH (160,7) Pointer --> File #165.2, field #1.1 (USPS STATE CODE)
"DATA",160.16,1,"FIELD",746,0)
444^3^446^Birthplace--Country
"DATA",160.16,1,"FIELD",746,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1,"I")
"DATA",160.16,1,"FIELD",746,2)
BLANK
"DATA",160.16,1,"FIELD",746,3)
L,BLANK^254
"DATA",160.16,1,"FIELD",746,4)
PLACE OF BIRTH (160,7) Pointer --> File #165.2, field #1 (ISO COUNTRY CODE)
"DATA",160.16,1,"FIELD",747,0)
447^3^449^Followup Contact--Country
"DATA",160.16,1,"FIELD",747,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,1847)
"DATA",160.16,1,"FIELD",747,2)
BLANK
"DATA",160.16,1,"FIELD",747,3)
L,BLANK^1847
"DATA",160.16,1,"FIELD",747,4)
ZIP CODE (165,.119)
"DATA",160.16,1,"FIELD",748,0)
450^2^451^Place of Death--State
"DATA",160.16,1,"FIELD",748,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1.1,"I")
"DATA",160.16,1,"FIELD",748,2)
BLANK
"DATA",160.16,1,"FIELD",748,3)
L,BLANK^1942
"DATA",160.16,1,"FIELD",748,4)
PLACE OF DEATH (160,21) Pointer --> File #165.2, field #1.1 (USPS STATE CODE)
"DATA",160.16,1,"FIELD",749,0)
452^3^454^Place of Death--Country
"DATA",160.16,1,"FIELD",749,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1,"I")
"DATA",160.16,1,"FIELD",749,2)
BLANK
"DATA",160.16,1,"FIELD",749,3)
L,BLANK^1944
"DATA",160.16,1,"FIELD",749,4)
PLACE OF DEATH (160,21) Pointer --> File #165.2, field #1 (ISO COUNTRY CODE)
"DATA",160.16,1,"FIELD",750,0)
1595^1^1595^Reserved 06a
"DATA",160.16,1,"FIELD",750,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",750,2)
BLANK
"DATA",160.16,1,"FIELD",750,3)
L,BLANK
"DATA",160.16,1,"FIELD",751,0)
2195^1^2195^Reserved 07a
"DATA",160.16,1,"FIELD",751,1)
S ACDANS=""
"DATA",160.16,1,"FIELD",751,2)
BLANK
"DATA",160.16,1,"FIELD",751,3)
L,BLANK
"DATA",160.16,1,"FIELD",752,0)
549^1^549^Behavior (92-00) ICD-O-2
"DATA",160.16,1,"FIELD",752,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$E($$GET1~DIQ(165.5,IEN,22,"I"),5),1:"") K DATEDX
"DATA",160.16,1,"FIELD",752,2)
BLANK
"DATA",160.16,1,"FIELD",752,3)
L,ZERO^430
"DATA",160.16,1,"FIELD",752,4)
HISTOLOGY (ICD-O-2) (165.5,22) Last digit
"DATA",160.16,1,"FIELD",753,0)
554^1^554^Behavior Code ICD-O-3
"DATA",160.16,1,"FIELD",753,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,22.3,"I"),5)
"DATA",160.16,1,"FIELD",753,2)
BLANK
"DATA",160.16,1,"FIELD",753,3)
L,ZERO^523
"DATA",160.16,1,"FIELD",753,4)
HISTOLOGY (ICD-O-3) (165.5,22.3) Last digit
"DATA",160.16,1,"RULES",0)
^160.162^9^9^3130613^
"DATA",160.16,1,"RULES",1,0)
S VALID=1
"DATA",160.16,1,"RULES",2,0)
S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I"),ONC91AS=$$GET1^DIQ(165.5,IEN,91,"I")
"DATA",160.16,1,"RULES",3,0)
S CLASSOFCASE=$E($$GET1^DIQ(165.5,IEN,.04),1,2)
"DATA",160.16,1,"RULES",4,0)
I CLASSOFCASE>22 S VALID=0
"DATA",160.16,1,"RULES",5,0)
S:'$G(RQRS)&(ONC91AS<3) VALID=0 S:$G(RQRS)&((ONC91AS="")!(ONC91AS="A")) VALID=0
"DATA",160.16,1,"RULES",6,0)
S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"DATA",160.16,1,"RULES",7,0)
S:VALID VALID=$S($E(TPG,3,4)=70:1,$E(TPG,3,4)=71:1,$E(TPG,3,4)=72:1,$E(TPG,3,5)=751:1,$E(TPG,3,5)=753:1,$$BEHAV^ONCACDU1(IEN)=2:1,$$BEHAV^ONCACDU1(IEN)=3:1,1:0)
"DATA",160.16,1,"RULES",8,0)
S JUMP=0 
"DATA",160.16,1,"RULES",9,0)
K SCREEN
"DATA",160.16,2,0)
STATE EXTRACT V14.0
"DATA",160.16,2,"FIELD",0)
^160.161I^790^544
"DATA",160.16,2,"FIELD",1,0)
1^1^1^Record Type
"DATA",160.16,2,"FIELD",1,1)
S ACDANS="A"
"DATA",160.16,2,"FIELD",1,2)
BLANK
"DATA",160.16,2,"FIELD",1,3)
L,BLANK^10
"DATA",160.16,2,"FIELD",1,4)
"A" Full case Abstract record type (incidence and confidential data plus text summaries; used for reporting to central registries) Length = 22824
"DATA",160.16,2,"FIELD",2,0)
42^8^49^Patient ID Number
"DATA",160.16,2,"FIELD",2,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",2,2)
BLANK
"DATA",160.16,2,"FIELD",2,3)
L,BLANK^20
"DATA",160.16,2,"FIELD",3,0)
2^1^2^Registry Type
"DATA",160.16,2,"FIELD",3,1)
S ACDANS=3
"DATA",160.16,2,"FIELD",3,2)
BLANK
"DATA",160.16,2,"FIELD",3,3)
L,BLANK^30
"DATA",160.16,2,"FIELD",3,4)
3 Single hospital/freestanding center
"DATA",160.16,2,"FIELD",5,0)
17^3^19^NAACCR Record Version
"DATA",160.16,2,"FIELD",5,1)
S ACDANS=140
"DATA",160.16,2,"FIELD",5,2)
BLANK
"DATA",160.16,2,"FIELD",5,3)
L,BLANK^50
"DATA",160.16,2,"FIELD",5,4)
14.0
"DATA",160.16,2,"FIELD",6,0)
30^10^39^Registry Id
"DATA",160.16,2,"FIELD",6,1)
S ACDANS=STAT1
"DATA",160.16,2,"FIELD",6,2)
ZERO
"DATA",160.16,2,"FIELD",6,3)
L,ZERO^40
"DATA",160.16,2,"FIELD",6,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,2,"FIELD",18,0)
147^9^155^Addr at DX--Postal Code
"DATA",160.16,2,"FIELD",18,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,9,"I") D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",18,2)
BLANK
"DATA",160.16,2,"FIELD",18,3)
R,BLANK^100
"DATA",160.16,2,"FIELD",18,4)
POSTAL CODE AT DX (165.5,9)
"DATA",160.16,2,"FIELD",26,0)
168^6^173^Census Tract 2000
"DATA",160.16,2,"FIELD",26,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,2,"FIELD",26,2)
BLANK
"DATA",160.16,2,"FIELD",26,3)
L,BLANK^130
"DATA",160.16,2,"FIELD",26,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,2,"FIELD",29,0)
175^1^175^Census Tr Certainty 2000
"DATA",160.16,2,"FIELD",29,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",29,2)
BLANK
"DATA",160.16,2,"FIELD",29,3)
L,BLANK^365
"DATA",160.16,2,"FIELD",30,0)
176^1^176^Marital Status at DX
"DATA",160.16,2,"FIELD",30,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,11,"I")
"DATA",160.16,2,"FIELD",30,2)
BLANK
"DATA",160.16,2,"FIELD",30,3)
L,BLANK^150
"DATA",160.16,2,"FIELD",30,4)
MARITAL STATUS AT DX (165.5,11)
"DATA",160.16,2,"FIELD",31,0)
177^2^178^Race 1
"DATA",160.16,2,"FIELD",31,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8,"I")
"DATA",160.16,2,"FIELD",31,2)
BLANK
"DATA",160.16,2,"FIELD",31,3)
L,ZERO^160
"DATA",160.16,2,"FIELD",31,4)
RACE 1 (160,8)
"DATA",160.16,2,"FIELD",32,0)
217^100^316^Text--Usual Occupation
"DATA",160.16,2,"FIELD",32,1)
S ACDANS=$$OCCUP~ONCACDU1(ACD160)
"DATA",160.16,2,"FIELD",32,2)
BLANK
"DATA",160.16,2,"FIELD",32,3)
R,BLANK^310
"DATA",160.16,2,"FIELD",32,4)
USUAL OCCUPATION (160.042,.01)
"DATA",160.16,2,"FIELD",33,0)
317^100^416^Text--Usual Industry
"DATA",160.16,2,"FIELD",33,1)
S ACDANS=$$IND~ONCACDU1(ACD160)
"DATA",160.16,2,"FIELD",33,2)
BLANK
"DATA",160.16,2,"FIELD",33,3)
R,BLANK^320
"DATA",160.16,2,"FIELD",33,4)
USUAL INDUSTRY (160.042,3)
"DATA",160.16,2,"FIELD",41,0)
540^4^543^Primary Site
"DATA",160.16,2,"FIELD",41,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,20,"I") S:ACDANS'="" ACDANS=$TR($$GET1~DIQ(164,ACDANS,1,"I"),".","")
"DATA",160.16,2,"FIELD",41,2)
BLANK
"DATA",160.16,2,"FIELD",41,3)
L,ZERO^400
"DATA",160.16,2,"FIELD",41,4)
PRIMARY SITE (165.5,20)
"DATA",160.16,2,"FIELD",42,0)
544^1^544^Laterality
"DATA",160.16,2,"FIELD",42,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,28,"I")
"DATA",160.16,2,"FIELD",42,2)
BLANK
"DATA",160.16,2,"FIELD",42,3)
L,BLANK^410
"DATA",160.16,2,"FIELD",42,4)
LATERALITY (165.5,28)
"DATA",160.16,2,"FIELD",43,0)
545^4^548^Histology (92-00) ICD-O-2
"DATA",160.16,2,"FIELD",43,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$E($$GET1~DIQ(165.5,IEN,22,"I"),1,4),1:"") K DATEDX
"DATA",160.16,2,"FIELD",43,2)
BLANK
"DATA",160.16,2,"FIELD",43,3)
L,ZERO^420
"DATA",160.16,2,"FIELD",43,4)
HISTOLOGY (ICD-O-2) (165.5,22) First 4 digits
"DATA",160.16,2,"FIELD",45,0)
555^1^555^Grade
"DATA",160.16,2,"FIELD",45,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24,"I")
"DATA",160.16,2,"FIELD",45,2)
BLANK
"DATA",160.16,2,"FIELD",45,3)
L,ZERO^440
"DATA",160.16,2,"FIELD",45,4)
GRADE/DIFFERENTIATION (165.5,24)
"DATA",160.16,2,"FIELD",46,0)
558^1^558^Site Coding Sys--Current
"DATA",160.16,2,"FIELD",46,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,2,"FIELD",46,2)
BLANK
"DATA",160.16,2,"FIELD",46,3)
L,ZERO^450
"DATA",160.16,2,"FIELD",46,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,2,"FIELD",47,0)
559^1^559^Site Coding Sys--Original
"DATA",160.16,2,"FIELD",47,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,2,"FIELD",47,2)
BLANK
"DATA",160.16,2,"FIELD",47,3)
L,ZERO^460
"DATA",160.16,2,"FIELD",47,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,2,"FIELD",48,0)
560^1^560^Morph Coding Sys--Current
"DATA",160.16,2,"FIELD",48,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3091231:8,DATEDX>3001231:7,1:6)
"DATA",160.16,2,"FIELD",48,2)
BLANK
"DATA",160.16,2,"FIELD",48,3)
L,ZERO^470
"DATA",160.16,2,"FIELD",48,4)
6 = ICD-O, 2nd Ed, plus FAB codes effective 1/1/98; 7 = ICD-O, 3rd Ed; 8 = ICD-O, 3rd Ed, plus 2008 WHO hematopoietic/lymphoid new terms
"DATA",160.16,2,"FIELD",49,0)
561^1^561^Morph Coding Sys--Originl
"DATA",160.16,2,"FIELD",49,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3091231:8,DATEDX>3001231:7,1:6)
"DATA",160.16,2,"FIELD",49,2)
BLANK
"DATA",160.16,2,"FIELD",49,3)
L,ZERO^480
"DATA",160.16,2,"FIELD",49,4)
6 = ICD-O, 2nd Ed, plus FAB codes effective 1/1/98; 7 = ICD-O, 3rd Ed; 8 = ICD-O, 3rd Ed, plus 2008 WHO hematopoietic/lymphoid new terms
"DATA",160.16,2,"FIELD",50,0)
562^1^562^Diagnostic Confirmation
"DATA",160.16,2,"FIELD",50,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,26,"I")
"DATA",160.16,2,"FIELD",50,2)
BLANK
"DATA",160.16,2,"FIELD",50,3)
L,ZERO^490
"DATA",160.16,2,"FIELD",50,4)
DIAGNOSTIC CONFIRMATION (165.5,26)
"DATA",160.16,2,"FIELD",51,0)
563^1^563^Type of Reporting Source
"DATA",160.16,2,"FIELD",51,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.2,"I")
"DATA",160.16,2,"FIELD",51,2)
BLANK
"DATA",160.16,2,"FIELD",51,3)
L,BLANK^500
"DATA",160.16,2,"FIELD",51,4)
TYPE OF REPORTING SOURCE (165.5,1.2)
"DATA",160.16,2,"FIELD",54,0)
550^4^553^Histologic Type ICD-O-3
"DATA",160.16,2,"FIELD",54,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,22.3,"I"),1,4)
"DATA",160.16,2,"FIELD",54,2)
BLANK
"DATA",160.16,2,"FIELD",54,3)
L,ZERO^522
"DATA",160.16,2,"FIELD",54,4)
HISTOLOGY (ICD-O-3) (165.5,22.3) First 4 digits
"DATA",160.16,2,"FIELD",57,0)
740^2^741^Sequence Number--Hospital
"DATA",160.16,2,"FIELD",57,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.06,"I")
"DATA",160.16,2,"FIELD",57,2)
BLANK
"DATA",160.16,2,"FIELD",57,3)
L,ZERO^560
"DATA",160.16,2,"FIELD",57,4)
SEQUENCE NUMBER (165.5,.06)
"DATA",160.16,2,"FIELD",58,0)
742^3^744^Abstracted By
"DATA",160.16,2,"FIELD",58,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,92,"I") D:$G(ACDANS) STNUM~ONCACDU2
"DATA",160.16,2,"FIELD",58,2)
NINE
"DATA",160.16,2,"FIELD",58,3)
R,BLANK^570
"DATA",160.16,2,"FIELD",58,4)
ABSTRACTED BY (165.5,92)
"DATA",160.16,2,"FIELD",59,0)
745^8^752^Date of 1st Contact
"DATA",160.16,2,"FIELD",59,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,155,"I") S:ACDANS="" ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,2,"FIELD",59,2)
BLANK
"DATA",160.16,2,"FIELD",59,3)
R,BLANK^580
"DATA",160.16,2,"FIELD",59,4)
DATE OF FIRST CONTACT (165.5,155) or DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,2,"FIELD",60,0)
755^8^762^Date of Inpt Adm
"DATA",160.16,2,"FIELD",60,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,1,"I"))
"DATA",160.16,2,"FIELD",60,2)
BLANK
"DATA",160.16,2,"FIELD",60,3)
R,BLANK^590
"DATA",160.16,2,"FIELD",60,4)
DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,2,"FIELD",61,0)
765^8^772^Date of Inpt Disch
"DATA",160.16,2,"FIELD",61,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,1.1,"I"))
"DATA",160.16,2,"FIELD",61,2)
BLANK
"DATA",160.16,2,"FIELD",61,3)
R,BLANK^600
"DATA",160.16,2,"FIELD",61,4)
DATE OF INPATIENT DISCHARGE (165.5,1.1)
"DATA",160.16,2,"FIELD",62,0)
776^2^777^Class of Case
"DATA",160.16,2,"FIELD",62,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,.04),1,2)
"DATA",160.16,2,"FIELD",62,2)
BLANK
"DATA",160.16,2,"FIELD",62,3)
L,BLANK^610
"DATA",160.16,2,"FIELD",62,4)
CLASS OF CASE (165.5,.04)
"DATA",160.16,2,"FIELD",64,0)
778^2^779^Primary Payer at DX
"DATA",160.16,2,"FIELD",64,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,18,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.3,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",64,2)
NINE
"DATA",160.16,2,"FIELD",64,3)
L,BLANK^630
"DATA",160.16,2,"FIELD",64,4)
PRIMARY PAYER AT DX (165.5,18)
"DATA",160.16,2,"FIELD",65,0)
711^10^720^NPI--Archive FIN
"DATA",160.16,2,"FIELD",65,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") K FACIEN S:$G(STAT1)'="" FACIEN=$O(~ONCO(160.19,"B",STAT1,0)) S ACDANS=$S(DATEDX<3070000:"",$G(FACIEN)'="":$$GET1~DIQ(160.19,FACIEN,101),1:"")
"DATA",160.16,2,"FIELD",65,2)
BLANK
"DATA",160.16,2,"FIELD",65,3)
L,BLANK^3105
"DATA",160.16,2,"FIELD",65,4)
NPI (160.19,101)
"DATA",160.16,2,"FIELD",68,0)
782^2^783^RX Hosp--Surg Prim Site
"DATA",160.16,2,"FIELD",68,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.7,"SPS")
"DATA",160.16,2,"FIELD",68,2)
NINE
"DATA",160.16,2,"FIELD",68,3)
L,ZERO^670
"DATA",160.16,2,"FIELD",68,4)
SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"DATA",160.16,2,"FIELD",69,0)
800^2^801^RX Hosp--Surg Site 98-02
"DATA",160.16,2,"FIELD",69,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,50.2,"SPS")
"DATA",160.16,2,"FIELD",69,2)
BLANK
"DATA",160.16,2,"FIELD",69,3)
L,ZERO^746
"DATA",160.16,2,"FIELD",69,4)
SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"DATA",160.16,2,"FIELD",70,0)
789^1^789^RX Hosp--Radiation
"DATA",160.16,2,"FIELD",70,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.4,"I")
"DATA",160.16,2,"FIELD",70,2)
BLANK
"DATA",160.16,2,"FIELD",70,3)
L,ZERO^690
"DATA",160.16,2,"FIELD",70,4)
RADIATION @FACILITY (165.5,51.4)
"DATA",160.16,2,"FIELD",71,0)
790^2^791^RX Hosp--Chemo
"DATA",160.16,2,"FIELD",71,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.3,"I")
"DATA",160.16,2,"FIELD",71,2)
NINE
"DATA",160.16,2,"FIELD",71,3)
L,BLANK^700
"DATA",160.16,2,"FIELD",71,4)
CHEMOTHERAPY @FAC (165.5,53.3)
"DATA",160.16,2,"FIELD",72,0)
792^2^793^RX Hosp--Hormone
"DATA",160.16,2,"FIELD",72,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.3,"I")
"DATA",160.16,2,"FIELD",72,2)
NINE
"DATA",160.16,2,"FIELD",72,3)
L,BLANK^710
"DATA",160.16,2,"FIELD",72,4)
HORMONE THERAPY @FAC (165.5,54.3)
"DATA",160.16,2,"FIELD",73,0)
794^2^795^RX Hosp--BRM
"DATA",160.16,2,"FIELD",73,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.3,"I")
"DATA",160.16,2,"FIELD",73,2)
NINE
"DATA",160.16,2,"FIELD",73,3)
L,BLANK^720
"DATA",160.16,2,"FIELD",73,4)
IMMUNOTHERAPY @FAC (165.5,55.3)
"DATA",160.16,2,"FIELD",74,0)
796^1^796^RX Hosp--Other
"DATA",160.16,2,"FIELD",74,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.3,"I")
"DATA",160.16,2,"FIELD",74,2)
BLANK
"DATA",160.16,2,"FIELD",74,3)
L,ZERO^730
"DATA",160.16,2,"FIELD",74,4)
OTHER TREATMENT @FAC (165.5,57.3)
"DATA",160.16,2,"FIELD",75,0)
797^2^798^RX Hosp--DX/Stg Proc
"DATA",160.16,2,"FIELD",75,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.4,"I")
"DATA",160.16,2,"FIELD",75,2)
ZNINE
"DATA",160.16,2,"FIELD",75,3)
L,ZERO^740
"DATA",160.16,2,"FIELD",75,4)
SURG DX/STAGING PROC @FAC (165.5,58.4)
"DATA",160.16,2,"FIELD",77,0)
905^1^905^SEER Summary Stage 1977
"DATA",160.16,2,"FIELD",77,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,2,"FIELD",77,2)
BLANK
"DATA",160.16,2,"FIELD",77,3)
L,BLANK^760
"DATA",160.16,2,"FIELD",77,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,2,"FIELD",79,0)
906^3^908^EOD--Tumor Size
"DATA",160.16,2,"FIELD",79,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,29,"I")
"DATA",160.16,2,"FIELD",79,2)
BLANK
"DATA",160.16,2,"FIELD",79,3)
L,ZERO^780
"DATA",160.16,2,"FIELD",79,4)
TUMOR SIZE (165.5,29)
"DATA",160.16,2,"FIELD",80,0)
909^2^910^EOD--Extension
"DATA",160.16,2,"FIELD",80,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30,"I")
"DATA",160.16,2,"FIELD",80,2)
BLANK
"DATA",160.16,2,"FIELD",80,3)
L,ZERO^790
"DATA",160.16,2,"FIELD",80,4)
EXTENSION (165.5,30)
"DATA",160.16,2,"FIELD",81,0)
911^2^912^EOD--Extension Prost Path
"DATA",160.16,2,"FIELD",81,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30.1,"I")
"DATA",160.16,2,"FIELD",81,2)
BLANK
"DATA",160.16,2,"FIELD",81,3)
L,ZERO^800
"DATA",160.16,2,"FIELD",81,4)
PATHOLOGIC EXTENSION (165.5,30.1)
"DATA",160.16,2,"FIELD",82,0)
913^1^913^EOD--Lymph Node Involv
"DATA",160.16,2,"FIELD",82,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,31,"I")
"DATA",160.16,2,"FIELD",82,2)
BLANK
"DATA",160.16,2,"FIELD",82,3)
L,BLANK^810
"DATA",160.16,2,"FIELD",82,4)
LYMPH NODES (165.5,31)
"DATA",160.16,2,"FIELD",83,0)
914^2^915^Regional Nodes Positive
"DATA",160.16,2,"FIELD",83,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,32,"I")
"DATA",160.16,2,"FIELD",83,2)
BLANK
"DATA",160.16,2,"FIELD",83,3)
L,ZERO^820
"DATA",160.16,2,"FIELD",83,4)
REGIONAL LYMPH NODES POSITIVE (165.5,32)
"DATA",160.16,2,"FIELD",84,0)
916^2^917^Regional Nodes Examined
"DATA",160.16,2,"FIELD",84,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,33,"I")
"DATA",160.16,2,"FIELD",84,2)
BLANK
"DATA",160.16,2,"FIELD",84,3)
L,ZERO^830
"DATA",160.16,2,"FIELD",84,4)
REGIONAL LYMPH NODES EXAMINED (165.5,33)
"DATA",160.16,2,"FIELD",85,0)
918^13^930^EOD--Old 13 Digit
"DATA",160.16,2,"FIELD",85,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",85,2)
BLANK
"DATA",160.16,2,"FIELD",85,3)
L,BLANK^840
"DATA",160.16,2,"FIELD",86,0)
931^2^932^EOD--Old 2 Digit
"DATA",160.16,2,"FIELD",86,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",86,2)
BLANK
"DATA",160.16,2,"FIELD",86,3)
L,BLANK^850
"DATA",160.16,2,"FIELD",87,0)
933^4^936^EOD--Old 4 Digit
"DATA",160.16,2,"FIELD",87,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",87,2)
BLANK
"DATA",160.16,2,"FIELD",87,3)
L,BLANK^860
"DATA",160.16,2,"FIELD",88,0)
937^1^937^Coding System for EOD
"DATA",160.16,2,"FIELD",88,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3031231:"",1:4) K DATEDX
"DATA",160.16,2,"FIELD",88,2)
BLANK
"DATA",160.16,2,"FIELD",88,3)
L,BLANK^870
"DATA",160.16,2,"FIELD",88,4)
Blank = DATE DX 2004+; 4 = 10-Digit Extent of Disease, 1988 (1988+)
"DATA",160.16,2,"FIELD",89,0)
940^4^943^TNM Path T
"DATA",160.16,2,"FIELD",89,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,85,"I")
"DATA",160.16,2,"FIELD",89,2)
BLANK
"DATA",160.16,2,"FIELD",89,3)
R,BLANK^880
"DATA",160.16,2,"FIELD",89,4)
PATHOLOGIC T (165.5,85)
"DATA",160.16,2,"FIELD",90,0)
944^4^947^TNM Path N
"DATA",160.16,2,"FIELD",90,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,86,"I") S:ACDANS'="" ACDANS=$S(ACDANS["I+)":"0I+",ACDANS["I-)":"0I-",ACDANS["L+)":"0M+",ACDANS["L-)":"0M-",1:ACDANS)
"DATA",160.16,2,"FIELD",90,2)
BLANK
"DATA",160.16,2,"FIELD",90,3)
R,BLANK^890
"DATA",160.16,2,"FIELD",90,4)
PATHOLOGIC N (165.5,86)
"DATA",160.16,2,"FIELD",91,0)
948^4^951^TNM Path M
"DATA",160.16,2,"FIELD",91,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,87,"I")
"DATA",160.16,2,"FIELD",91,2)
BLANK
"DATA",160.16,2,"FIELD",91,3)
R,BLANK^900
"DATA",160.16,2,"FIELD",91,4)
 PATHOLOGIC M (165.5,87)
"DATA",160.16,2,"FIELD",92,0)
952^4^955^TNM Path Stage Group
"DATA",160.16,2,"FIELD",92,1)
S ACDANS=$$SG~ONCACDU1(IEN,"P")
"DATA",160.16,2,"FIELD",92,2)
BLANK
"DATA",160.16,2,"FIELD",92,3)
R,BLANK^910
"DATA",160.16,2,"FIELD",92,4)
PATHOLOGIC STAGE GROUP (165.5,88)
"DATA",160.16,2,"FIELD",93,0)
956^1^956^TNM Path Descriptor
"DATA",160.16,2,"FIELD",93,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"P")
"DATA",160.16,2,"FIELD",93,2)
ZERO
"DATA",160.16,2,"FIELD",93,3)
L,ZERO^920
"DATA",160.16,2,"FIELD",93,4)
PATHOLOGIC TNM (165.5,89.1)
"DATA",160.16,2,"FIELD",94,0)
957^1^957^TNM Path Staged By
"DATA",160.16,2,"FIELD",94,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,89,"I")
"DATA",160.16,2,"FIELD",94,2)
NINE
"DATA",160.16,2,"FIELD",94,3)
L,BLANK^930
"DATA",160.16,2,"FIELD",94,4)
STAGED BY (PATHOLOGIC STAGE) (165.5,89)
"DATA",160.16,2,"FIELD",95,0)
958^4^961^TNM Clin T
"DATA",160.16,2,"FIELD",95,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.1,"I")
"DATA",160.16,2,"FIELD",95,2)
BLANK
"DATA",160.16,2,"FIELD",95,3)
R,BLANK^940
"DATA",160.16,2,"FIELD",95,4)
CLINICAL T (165.5,37.1)
"DATA",160.16,2,"FIELD",96,0)
962^4^965^TNM Clin N
"DATA",160.16,2,"FIELD",96,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.2,"I")
"DATA",160.16,2,"FIELD",96,2)
BLANK
"DATA",160.16,2,"FIELD",96,3)
R,BLANK^950
"DATA",160.16,2,"FIELD",96,4)
CLINICAL N (165.5,37.2)
"DATA",160.16,2,"FIELD",97,0)
966^4^969^TNM Clin M
"DATA",160.16,2,"FIELD",97,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.3,"I")
"DATA",160.16,2,"FIELD",97,2)
BLANK
"DATA",160.16,2,"FIELD",97,3)
R,BLANK^960
"DATA",160.16,2,"FIELD",97,4)
CLINICAL M (165.5,37.3)
"DATA",160.16,2,"FIELD",98,0)
970^4^973^TNM Clin Stage Group
"DATA",160.16,2,"FIELD",98,1)
S ACDANS=$$SG~ONCACDU1(IEN,"C")
"DATA",160.16,2,"FIELD",98,2)
BLANK
"DATA",160.16,2,"FIELD",98,3)
R,BLANK^970
"DATA",160.16,2,"FIELD",98,4)
CLINICAL STAGE GROUP (165.5,38)
"DATA",160.16,2,"FIELD",99,0)
974^1^974^TNM Clin Descriptor
"DATA",160.16,2,"FIELD",99,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"C")
"DATA",160.16,2,"FIELD",99,2)
ZERO
"DATA",160.16,2,"FIELD",99,3)
L,ZERO^980
"DATA",160.16,2,"FIELD",99,4)
CLINICAL TNM (165.5,37)
"DATA",160.16,2,"FIELD",100,0)
975^1^975^TNM Clin Staged By
"DATA",160.16,2,"FIELD",100,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,19,"I")
"DATA",160.16,2,"FIELD",100,2)
NINE
"DATA",160.16,2,"FIELD",100,3)
L,BLANK^990
"DATA",160.16,2,"FIELD",100,4)
STAGED BY (CLINICAL STAGE) (165.5,19)
"DATA",160.16,2,"FIELD",107,0)
938^2^939^TNM Edition Number
"DATA",160.16,2,"FIELD",107,1)
S ACDANS=$$TNMED~ONCOU55(IEN)
"DATA",160.16,2,"FIELD",107,2)
BLANK
"DATA",160.16,2,"FIELD",107,3)
L,ZERO^1060
"DATA",160.16,2,"FIELD",107,4)
DATE DX (165.5,3)
"DATA",160.16,2,"FIELD",113,0)
976^2^977^Pediatric Stage
"DATA",160.16,2,"FIELD",113,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,850,"I")
"DATA",160.16,2,"FIELD",113,2)
BLANK
"DATA",160.16,2,"FIELD",113,3)
L,BLANK^1120
"DATA",160.16,2,"FIELD",113,4)
PEDIATRIC STAGE (165.5,850)
"DATA",160.16,2,"FIELD",114,0)
978^2^979^Pediatric Staging System
"DATA",160.16,2,"FIELD",114,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,849,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.6,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",114,2)
BLANK
"DATA",160.16,2,"FIELD",114,3)
L,BLANK^1130
"DATA",160.16,2,"FIELD",114,4)
TYPE OF STAGING SYSTEM (PED) (165.5,849)
"DATA",160.16,2,"FIELD",115,0)
980^1^980^Pediatric Staged By
"DATA",160.16,2,"FIELD",115,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,851,"I")
"DATA",160.16,2,"FIELD",115,2)
BLANK
"DATA",160.16,2,"FIELD",115,3)
L,BLANK^1140
"DATA",160.16,2,"FIELD",115,4)
STAGED BY (PEDIATRIC STAGE) (165.5,851)
"DATA",160.16,2,"FIELD",116,0)
981^1^981^Tumor Marker 1
"DATA",160.16,2,"FIELD",116,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",116,2)
BLANK
"DATA",160.16,2,"FIELD",116,3)
L,BLANK^1150
"DATA",160.16,2,"FIELD",116,4)
TUMOR MARKER 1 (165.5,25.1)
"DATA",160.16,2,"FIELD",117,0)
982^1^982^Tumor Marker 2
"DATA",160.16,2,"FIELD",117,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",117,2)
BLANK
"DATA",160.16,2,"FIELD",117,3)
L,BLANK^1160
"DATA",160.16,2,"FIELD",117,4)
TUMOR MARKER 2 (165.5,25.2)
"DATA",160.16,2,"FIELD",118,0)
983^1^983^Tumor Marker 3
"DATA",160.16,2,"FIELD",118,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",118,2)
BLANK
"DATA",160.16,2,"FIELD",118,3)
L,BLANK^1170
"DATA",160.16,2,"FIELD",118,4)
TUMOR MARKER 3 (165.5,25.3)
"DATA",160.16,2,"FIELD",119,0)
1216^5^1220^Comorbid/Complication 7
"DATA",160.16,2,"FIELD",119,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.6,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",119,2)
BLANK
"DATA",160.16,2,"FIELD",119,3)
R,ZERO^3161
"DATA",160.16,2,"FIELD",119,4)
COMORBIDITY/COMPLICATION #7 (160,25.6)
"DATA",160.16,2,"FIELD",121,0)
1456^8^1463^RX Date Surgery
"DATA",160.16,2,"FIELD",121,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"))
"DATA",160.16,2,"FIELD",121,2)
BLANK
"DATA",160.16,2,"FIELD",121,3)
R,BLANK^1200
"DATA",160.16,2,"FIELD",121,4)
DATE FIRST SURGICAL PROCEDURE (165.5,170)
"DATA",160.16,2,"FIELD",122,0)
1486^8^1493^RX Date Radiation
"DATA",160.16,2,"FIELD",122,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"))
"DATA",160.16,2,"FIELD",122,2)
BLANK
"DATA",160.16,2,"FIELD",122,3)
R,BLANK^1210
"DATA",160.16,2,"FIELD",122,4)
DATE RADIATION STARTED (165.5,51)
"DATA",160.16,2,"FIELD",123,0)
1516^8^1523^RX Date Chemo
"DATA",160.16,2,"FIELD",123,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"))
"DATA",160.16,2,"FIELD",123,2)
BLANK
"DATA",160.16,2,"FIELD",123,3)
R,BLANK^1220
"DATA",160.16,2,"FIELD",123,4)
CHEMOTHERAPY DATE (165.5,53)
"DATA",160.16,2,"FIELD",124,0)
1526^8^1533^RX Date Hormone
"DATA",160.16,2,"FIELD",124,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"))
"DATA",160.16,2,"FIELD",124,2)
BLANK
"DATA",160.16,2,"FIELD",124,3)
R,BLANK^1230
"DATA",160.16,2,"FIELD",124,4)
HORMONE THERAPY DATE (165.5,54)
"DATA",160.16,2,"FIELD",125,0)
1536^8^1543^RX Date BRM
"DATA",160.16,2,"FIELD",125,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"))
"DATA",160.16,2,"FIELD",125,2)
BLANK
"DATA",160.16,2,"FIELD",125,3)
R,BLANK^1240
"DATA",160.16,2,"FIELD",125,4)
IMMUNOTHERAPY DATE (165.5,55)
"DATA",160.16,2,"FIELD",126,0)
1546^8^1553^RX Date Other
"DATA",160.16,2,"FIELD",126,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"))
"DATA",160.16,2,"FIELD",126,2)
BLANK
"DATA",160.16,2,"FIELD",126,3)
R,BLANK^1250
"DATA",160.16,2,"FIELD",126,4)
OTHER TREATMENT START DATE (165.5,57)
"DATA",160.16,2,"FIELD",127,0)
1436^8^1443^Date Initial RX SEER
"DATA",160.16,2,"FIELD",127,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",127,2)
BLANK
"DATA",160.16,2,"FIELD",127,3)
L,ZERO^1260
"DATA",160.16,2,"FIELD",128,0)
1446^8^1453^Date 1st Crs RX CoC
"DATA",160.16,2,"FIELD",128,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,49) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DATE~ONCACDU1(ACDDATE) K ACDDATE
"DATA",160.16,2,"FIELD",128,2)
BLANK
"DATA",160.16,2,"FIELD",128,3)
R,BLANK^1270
"DATA",160.16,2,"FIELD",128,4)
FIRST COURSE OF TREATMENT DATE (165.5,49)
"DATA",160.16,2,"FIELD",129,0)
1556^8^1563^RX Date DX/Stg Proc
"DATA",160.16,2,"FIELD",129,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,58.3,"I"))
"DATA",160.16,2,"FIELD",129,2)
BLANK
"DATA",160.16,2,"FIELD",129,3)
R,BLANK^1280
"DATA",160.16,2,"FIELD",129,4)
SURGICAL DX/STAGING PROC DATE (165.5,58.3)
"DATA",160.16,2,"FIELD",130,0)
1567^2^1568^RX Summ--Surg Prim Site
"DATA",160.16,2,"FIELD",130,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.6,"SPS")
"DATA",160.16,2,"FIELD",130,2)
NINE
"DATA",160.16,2,"FIELD",130,3)
L,ZERO^1290
"DATA",160.16,2,"FIELD",130,4)
SURGERY OF PRIMARY (F) (165.5,58.6)
"DATA",160.16,2,"FIELD",132,0)
1573^1^1573^RX Summ--Surgical Approch
"DATA",160.16,2,"FIELD",132,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,74,"SUA"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,2,"FIELD",132,2)
NINE
"DATA",160.16,2,"FIELD",132,3)
L,BLANK^1310
"DATA",160.16,2,"FIELD",132,4)
SURGICAL APPROACH (R) (165.5,74)
"DATA",160.16,2,"FIELD",133,0)
1574^1^1574^RX Summ--Surgical Margins
"DATA",160.16,2,"FIELD",133,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,59,"I")
"DATA",160.16,2,"FIELD",133,2)
BLANK
"DATA",160.16,2,"FIELD",133,3)
L,BLANK^1320
"DATA",160.16,2,"FIELD",133,4)
SURGICAL MARGINS (165.5,59)
"DATA",160.16,2,"FIELD",134,0)
1575^1^1575^RX Summ--Reconstruct 1st
"DATA",160.16,2,"FIELD",134,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,23,"RR5"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,2,"FIELD",134,2)
NINE
"DATA",160.16,2,"FIELD",134,3)
L,BLANK^1330
"DATA",160.16,2,"FIELD",134,4)
RECONSTRUCTION/RESTORATION (165.5,23)
"DATA",160.16,2,"FIELD",135,0)
1576^1^1576^Reason for No Surgery
"DATA",160.16,2,"FIELD",135,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58,"I")
"DATA",160.16,2,"FIELD",135,2)
BLANK
"DATA",160.16,2,"FIELD",135,3)
L,BLANK^1340
"DATA",160.16,2,"FIELD",135,4)
REASON FOR NO SURGERY (165.5,58)
"DATA",160.16,2,"FIELD",136,0)
1577^2^1578^RX Summ--DX/Stg Proc
"DATA",160.16,2,"FIELD",136,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.1,"I")
"DATA",160.16,2,"FIELD",136,2)
ZNINE
"DATA",160.16,2,"FIELD",136,3)
L,ZERO^1350
"DATA",160.16,2,"FIELD",136,4)
SURGICAL DX/STAGING PROC (165.5,58.1)
"DATA",160.16,2,"FIELD",137,0)
1580^1^1580^RX Summ--Radiation
"DATA",160.16,2,"FIELD",137,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.2,"I")
"DATA",160.16,2,"FIELD",137,2)
BLANK
"DATA",160.16,2,"FIELD",137,3)
L,ZERO^1360
"DATA",160.16,2,"FIELD",137,4)
RADIATION (165.5,51.2)
"DATA",160.16,2,"FIELD",138,0)
1581^1^1581^RX Summ--Rad to CNS
"DATA",160.16,2,"FIELD",138,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,52.2,"I")
"DATA",160.16,2,"FIELD",138,2)
BLANK
"DATA",160.16,2,"FIELD",138,3)
L,ZERO^1370
"DATA",160.16,2,"FIELD",138,4)
RADIATION THERAPY TO CNS (165.5,52.2)
"DATA",160.16,2,"FIELD",139,0)
1582^1^1582^RX Summ--Surg/Rad Seq
"DATA",160.16,2,"FIELD",139,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.3,"I")
"DATA",160.16,2,"FIELD",139,2)
BLANK
"DATA",160.16,2,"FIELD",139,3)
L,ZERO^1380
"DATA",160.16,2,"FIELD",139,4)
RADIATION/SURGERY SEQUENCE (165.5,51.3)
"DATA",160.16,2,"FIELD",140,0)
1585^2^1586^RX Summ--Chemo
"DATA",160.16,2,"FIELD",140,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.2,"I")
"DATA",160.16,2,"FIELD",140,2)
NINE
"DATA",160.16,2,"FIELD",140,3)
L,BLANK^1390
"DATA",160.16,2,"FIELD",140,4)
CHEMOTHERAPY (165.5,53.2)
"DATA",160.16,2,"FIELD",141,0)
1587^2^1588^RX Summ--Hormone
"DATA",160.16,2,"FIELD",141,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.2,"I")
"DATA",160.16,2,"FIELD",141,2)
NINE
"DATA",160.16,2,"FIELD",141,3)
L,BLANK^1400
"DATA",160.16,2,"FIELD",141,4)
HORMONE THERAPY (165.5,54.2)
"DATA",160.16,2,"FIELD",142,0)
1589^2^1590^RX Summ--BRM
"DATA",160.16,2,"FIELD",142,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.2,"I")
"DATA",160.16,2,"FIELD",142,2)
NINE
"DATA",160.16,2,"FIELD",142,3)
L,BLANK^1410
"DATA",160.16,2,"FIELD",142,4)
IMMUNOTHERAPY (165.5,55.2)
"DATA",160.16,2,"FIELD",143,0)
1591^1^1591^RX Summ--Other
"DATA",160.16,2,"FIELD",143,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.2,"I")
"DATA",160.16,2,"FIELD",143,2)
BLANK
"DATA",160.16,2,"FIELD",143,3)
L,ZERO^1420
"DATA",160.16,2,"FIELD",143,4)
OTHER TREATMENT (165.5,57.2)
"DATA",160.16,2,"FIELD",144,0)
1592^1^1592^Reason for No Radiation
"DATA",160.16,2,"FIELD",144,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,75,"I")
"DATA",160.16,2,"FIELD",144,2)
NINE
"DATA",160.16,2,"FIELD",144,3)
L,BLANK^1430
"DATA",160.16,2,"FIELD",144,4)
REASON FOR NO RADIATION (165.5,75)
"DATA",160.16,2,"FIELD",147,0)
1593^2^1594^RX Coding System--Current
"DATA",160.16,2,"FIELD",147,1)
S ACDANS="06"
"DATA",160.16,2,"FIELD",147,2)
BLANK
"DATA",160.16,2,"FIELD",147,3)
L,ZERO^1460
"DATA",160.16,2,"FIELD",147,4)
06 Treatment data coded according to FORDS manual
"DATA",160.16,2,"FIELD",152,0)
1596^5^1600^Rad--Regional Dose: cGy
"DATA",160.16,2,"FIELD",152,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,442,"I")
"DATA",160.16,2,"FIELD",152,2)
NINE
"DATA",160.16,2,"FIELD",152,3)
L,ZERO^1510
"DATA",160.16,2,"FIELD",152,4)
REGIONAL DOSE: cGy (165.5,442)
"DATA",160.16,2,"FIELD",153,0)
1601^3^1603^Rad--No of Treatment Vol
"DATA",160.16,2,"FIELD",153,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,56,"I")
"DATA",160.16,2,"FIELD",153,2)
NINE
"DATA",160.16,2,"FIELD",153,3)
L,ZERO^1520
"DATA",160.16,2,"FIELD",153,4)
NUMBER OF TXS TO THIS VOLUME (165.5,56)
"DATA",160.16,2,"FIELD",155,0)
1604^2^1605^Rad--Treatment Volume
"DATA",160.16,2,"FIELD",155,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,125,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.7,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",155,2)
NINE
"DATA",160.16,2,"FIELD",155,3)
L,ZERO^1540
"DATA",160.16,2,"FIELD",155,4)
RADIATION TREATMENT VOLUME (165.5,125)
"DATA",160.16,2,"FIELD",156,0)
1606^1^1606^Rad--Location of RX
"DATA",160.16,2,"FIELD",156,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,126,"I")
"DATA",160.16,2,"FIELD",156,2)
NINE
"DATA",160.16,2,"FIELD",156,3)
L,BLANK^1550
"DATA",160.16,2,"FIELD",156,4)
LOCATION OF RADIATION TX (165.5,126)
"DATA",160.16,2,"FIELD",158,0)
1607^2^1608^Rad--Regional RX Modality
"DATA",160.16,2,"FIELD",158,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",158,2)
BLANK
"DATA",160.16,2,"FIELD",158,3)
L,ZERO^1570
"DATA",160.16,2,"FIELD",158,4)
REGIONAL TREATMENT MODALITY (165.5,363)
"DATA",160.16,2,"FIELD",164,0)
1616^1^1616^RX Summ--Systemic Sur Seq
"DATA",160.16,2,"FIELD",164,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,15,"I")
"DATA",160.16,2,"FIELD",164,2)
BLANK
"DATA",160.16,2,"FIELD",164,3)
L,BLANK^1639
"DATA",160.16,2,"FIELD",164,4)
SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"DATA",160.16,2,"FIELD",165,0)
1617^2^1618^RX Summ--Surgery Type
"DATA",160.16,2,"FIELD",165,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",165,2)
BLANK
"DATA",160.16,2,"FIELD",165,3)
L,BLANK^1640
"DATA",160.16,2,"FIELD",166,0)
1624^100^1723^Reserved 06
"DATA",160.16,2,"FIELD",166,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",166,2)
BLANK
"DATA",160.16,2,"FIELD",166,3)
L,BLANK^1190
"DATA",160.16,2,"FIELD",167,0)
1724^8^1731^Subsq RX 2nd Course Date
"DATA",160.16,2,"FIELD",167,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,2,"FIELD",167,2)
BLANK
"DATA",160.16,2,"FIELD",167,3)
R,BLANK^1660
"DATA",160.16,2,"FIELD",167,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,2,"FIELD",168,0)
1734^2^1735^Subsq RX 2nd Course Surg
"DATA",160.16,2,"FIELD",168,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.04)
"DATA",160.16,2,"FIELD",168,2)
BLANK
"DATA",160.16,2,"FIELD",168,3)
L,ZERO^1671
"DATA",160.16,2,"FIELD",168,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,2,"FIELD",169,0)
1740^1^1740^Subsq RX 2nd Course Rad
"DATA",160.16,2,"FIELD",169,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.05)
"DATA",160.16,2,"FIELD",169,2)
BLANK
"DATA",160.16,2,"FIELD",169,3)
L,BLANK^1672
"DATA",160.16,2,"FIELD",169,4)
RADIATION (165.51,.05)
"DATA",160.16,2,"FIELD",170,0)
1741^1^1741^Subsq RX 2nd Course Chemo
"DATA",160.16,2,"FIELD",170,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.06)
"DATA",160.16,2,"FIELD",170,2)
BLANK
"DATA",160.16,2,"FIELD",170,3)
L,BLANK^1673
"DATA",160.16,2,"FIELD",170,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,2,"FIELD",171,0)
1742^1^1742^Subsq RX 2nd Course Horm
"DATA",160.16,2,"FIELD",171,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.07)
"DATA",160.16,2,"FIELD",171,2)
BLANK
"DATA",160.16,2,"FIELD",171,3)
L,BLANK^1674
"DATA",160.16,2,"FIELD",171,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,2,"FIELD",172,0)
1743^1^1743^Subsq RX 2nd Course BRM
"DATA",160.16,2,"FIELD",172,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.08)
"DATA",160.16,2,"FIELD",172,2)
BLANK
"DATA",160.16,2,"FIELD",172,3)
L,BLANK^1675
"DATA",160.16,2,"FIELD",172,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,2,"FIELD",173,0)
1744^1^1744^Subsq RX 2nd Course Oth
"DATA",160.16,2,"FIELD",173,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.09)
"DATA",160.16,2,"FIELD",173,2)
BLANK
"DATA",160.16,2,"FIELD",173,3)
L,BLANK^1676
"DATA",160.16,2,"FIELD",173,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,2,"FIELD",174,0)
1745^8^1752^Subsq RX 3rd Course Date
"DATA",160.16,2,"FIELD",174,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,2,"FIELD",174,2)
BLANK
"DATA",160.16,2,"FIELD",174,3)
L,BLANK^1680
"DATA",160.16,2,"FIELD",174,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,2,"FIELD",175,0)
1755^2^1756^Subsq RX 3rd Course Surg
"DATA",160.16,2,"FIELD",175,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.04)
"DATA",160.16,2,"FIELD",175,2)
BLANK
"DATA",160.16,2,"FIELD",175,3)
L,ZERO^1691
"DATA",160.16,2,"FIELD",175,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,2,"FIELD",176,0)
1761^1^1761^Subsq RX 3rd Course Rad
"DATA",160.16,2,"FIELD",176,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.05)
"DATA",160.16,2,"FIELD",176,2)
BLANK
"DATA",160.16,2,"FIELD",176,3)
L,BLANK^1692
"DATA",160.16,2,"FIELD",176,4)
RADIATION (165.51,.05)
"DATA",160.16,2,"FIELD",177,0)
1762^1^1762^Subsq RX 3rd Course Chemo
"DATA",160.16,2,"FIELD",177,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.06)
"DATA",160.16,2,"FIELD",177,2)
BLANK
"DATA",160.16,2,"FIELD",177,3)
L,BLANK^1693
"DATA",160.16,2,"FIELD",177,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,2,"FIELD",178,0)
1763^1^1763^Subsq RX 3rd Course Horm
"DATA",160.16,2,"FIELD",178,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.07)
"DATA",160.16,2,"FIELD",178,2)
BLANK
"DATA",160.16,2,"FIELD",178,3)
L,BLANK^1694
"DATA",160.16,2,"FIELD",178,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,2,"FIELD",179,0)
1764^1^1764^Subsq RX 3rd Course BRM
"DATA",160.16,2,"FIELD",179,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.08)
"DATA",160.16,2,"FIELD",179,2)
BLANK
"DATA",160.16,2,"FIELD",179,3)
L,BLANK^1695
"DATA",160.16,2,"FIELD",179,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,2,"FIELD",180,0)
1765^1^1765^Subsq RX 3rd Course Oth
"DATA",160.16,2,"FIELD",180,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.09)
"DATA",160.16,2,"FIELD",180,2)
BLANK
"DATA",160.16,2,"FIELD",180,3)
L,BLANK^1696
"DATA",160.16,2,"FIELD",180,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,2,"FIELD",181,0)
1766^8^1773^Subsq RX 4th Course Date
"DATA",160.16,2,"FIELD",181,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,2,"FIELD",181,2)
BLANK
"DATA",160.16,2,"FIELD",181,3)
R,BLANK^1700
"DATA",160.16,2,"FIELD",181,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,2,"FIELD",182,0)
1776^2^1777^Subsq RX 4th Course Surg
"DATA",160.16,2,"FIELD",182,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.04)
"DATA",160.16,2,"FIELD",182,2)
BLANK
"DATA",160.16,2,"FIELD",182,3)
L,ZERO^1711
"DATA",160.16,2,"FIELD",182,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,2,"FIELD",183,0)
1782^1^1782^Subsq RX 4th Course Rad
"DATA",160.16,2,"FIELD",183,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.05)
"DATA",160.16,2,"FIELD",183,2)
BLANK
"DATA",160.16,2,"FIELD",183,3)
L,BLANK^1712
"DATA",160.16,2,"FIELD",183,4)
RADIATION (165.51,.05)
"DATA",160.16,2,"FIELD",184,0)
1783^1^1783^Subsq RX 4th Course Chemo
"DATA",160.16,2,"FIELD",184,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.06)
"DATA",160.16,2,"FIELD",184,2)
BLANK
"DATA",160.16,2,"FIELD",184,3)
L,BLANK^1713
"DATA",160.16,2,"FIELD",184,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,2,"FIELD",185,0)
1784^1^1784^Subsq RX 4th Course Horm
"DATA",160.16,2,"FIELD",185,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.07)
"DATA",160.16,2,"FIELD",185,2)
BLANK
"DATA",160.16,2,"FIELD",185,3)
L,BLANK^1714
"DATA",160.16,2,"FIELD",185,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,2,"FIELD",186,0)
1785^1^1785^Subsq RX 4th Course BRM
"DATA",160.16,2,"FIELD",186,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.08)
"DATA",160.16,2,"FIELD",186,2)
BLANK
"DATA",160.16,2,"FIELD",186,3)
L,BLANK^1715
"DATA",160.16,2,"FIELD",186,4)
IMMUNOTHERAPY (165.5,.08)
"DATA",160.16,2,"FIELD",187,0)
1786^1^1786^Subsq RX 4th Course Oth
"DATA",160.16,2,"FIELD",187,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.09)
"DATA",160.16,2,"FIELD",187,2)
BLANK
"DATA",160.16,2,"FIELD",187,3)
L,BLANK^1716
"DATA",160.16,2,"FIELD",187,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,2,"FIELD",188,0)
1033^3^1035^CS Site-Specific Factor 11
"DATA",160.16,2,"FIELD",188,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.11,"I")) K DATEDX
"DATA",160.16,2,"FIELD",188,2)
BLANK
"DATA",160.16,2,"FIELD",188,3)
L,BLANK^2865
"DATA",160.16,2,"FIELD",188,4)
SITE-SPECIFIC FACTOR 11 (CS) (165.5,44.11)
"DATA",160.16,2,"FIELD",195,0)
1788^100^1887^Reserved 07
"DATA",160.16,2,"FIELD",195,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",195,2)
BLANK
"DATA",160.16,2,"FIELD",195,3)
L,BLANK^1300
"DATA",160.16,2,"FIELD",196,0)
2116^8^2123^Date of Last Contact
"DATA",160.16,2,"FIELD",196,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,2,"FIELD",196,2)
BLANK
"DATA",160.16,2,"FIELD",196,3)
R,BLANK^1750
"DATA",160.16,2,"FIELD",196,4)
DATE OF LAST CONTACT OR DEATH (160.04,.01)
"DATA",160.16,2,"FIELD",197,0)
2126^1^2126^Vital Status
"DATA",160.16,2,"FIELD",197,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,1),VS=ACDANS
"DATA",160.16,2,"FIELD",197,2)
BLANK
"DATA",160.16,2,"FIELD",197,3)
L,BLANK^1760
"DATA",160.16,2,"FIELD",197,4)
VITAL STATUS (160.04,1)
"DATA",160.16,2,"FIELD",198,0)
2127^1^2127^Cancer Status
"DATA",160.16,2,"FIELD",198,1)
S ACDANS=$$CS~ONCACDU2(IEN)
"DATA",160.16,2,"FIELD",198,2)
BLANK
"DATA",160.16,2,"FIELD",198,3)
L,BLANK^1770
"DATA",160.16,2,"FIELD",198,4)
CANCER STATUS (165.573,.02)
"DATA",160.16,2,"FIELD",199,0)
2128^1^2128^Quality of Survival
"DATA",160.16,2,"FIELD",199,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,4)
"DATA",160.16,2,"FIELD",199,2)
BLANK
"DATA",160.16,2,"FIELD",199,3)
L,BLANK^1780
"DATA",160.16,2,"FIELD",199,4)
QUALITY OF SURVIVAL (160.04,4)
"DATA",160.16,2,"FIELD",200,0)
2129^1^2129^Follow-Up Source
"DATA",160.16,2,"FIELD",200,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,3)
"DATA",160.16,2,"FIELD",200,2)
BLANK
"DATA",160.16,2,"FIELD",200,3)
L,BLANK^1790
"DATA",160.16,2,"FIELD",200,4)
FOLLOW-UP SOURCE (160.04,3)
"DATA",160.16,2,"FIELD",201,0)
2130^1^2130^Next Follow-up Source
"DATA",160.16,2,"FIELD",201,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,6)
"DATA",160.16,2,"FIELD",201,2)
BLANK
"DATA",160.16,2,"FIELD",201,3)
L,BLANK^1800
"DATA",160.16,2,"FIELD",201,4)
NEXT FOLLOW-UP SOURCE (160.04,6)
"DATA",160.16,2,"FIELD",202,0)
2131^50^2180^Addr Current--City
"DATA",160.16,2,"FIELD",202,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160) S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,2,"FIELD",202,2)
BLANK
"DATA",160.16,2,"FIELD",202,3)
R,BLANK^1810
"DATA",160.16,2,"FIELD",202,4)
CITY (2,.114)
"DATA",160.16,2,"FIELD",203,0)
2181^2^2182^Addr Current--State
"DATA",160.16,2,"FIELD",203,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160) S:ACDANS="" ACDANS="ZZ"
"DATA",160.16,2,"FIELD",203,2)
BLANK
"DATA",160.16,2,"FIELD",203,3)
R,BLANK^1820
"DATA",160.16,2,"FIELD",203,4)
STATE (2,.115)
"DATA",160.16,2,"FIELD",204,0)
2183^9^2191^Addr Current--Postal Code
"DATA",160.16,2,"FIELD",204,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.116,"E") S:ACDANS=75999 ACDANS=999999999 D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",204,2)
NINE
"DATA",160.16,2,"FIELD",204,3)
R,BLANK^1830
"DATA",160.16,2,"FIELD",204,4)
ZIP CODE (160,.116)
"DATA",160.16,2,"FIELD",206,0)
2290^2^2291^Unusual Follow-Up Method
"DATA",160.16,2,"FIELD",206,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,7)
"DATA",160.16,2,"FIELD",206,2)
BLANK
"DATA",160.16,2,"FIELD",206,3)
L,BLANK^1850
"DATA",160.16,2,"FIELD",206,4)
UNUSUAL FOLLOW-UP METHOD (160.04,7)
"DATA",160.16,2,"FIELD",207,0)
2196^8^2203^Recurrence Date--1st
"DATA",160.16,2,"FIELD",207,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,70,"I"))
"DATA",160.16,2,"FIELD",207,2)
BLANK
"DATA",160.16,2,"FIELD",207,3)
R,BLANK^1860
"DATA",160.16,2,"FIELD",207,4)
DATE OF FIRST RECURRENCE (165.5,70)
"DATA",160.16,2,"FIELD",209,0)
2206^2^2207^Recurrence Type--1st
"DATA",160.16,2,"FIELD",209,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.12,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",209,2)
NINE
"DATA",160.16,2,"FIELD",209,3)
L,ZERO^1880
"DATA",160.16,2,"FIELD",209,4)
TYPE OF FIRST RECURRENCE (165.5,71)
"DATA",160.16,2,"FIELD",211,0)
2192^3^2194^County--Current
"DATA",160.16,2,"FIELD",211,1)
S ACDANS=$$CCOUNTY~ONCACDU2(ACD160)
"DATA",160.16,2,"FIELD",211,2)
NINE
"DATA",160.16,2,"FIELD",211,3)
L,BLANK^1840
"DATA",160.16,2,"FIELD",211,4)
COUNTY (2,.117)
"DATA",160.16,2,"FIELD",213,0)
2269^4^2272^Cause of Death
"DATA",160.16,2,"FIELD",213,1)
S ACDANS=$S(VS=0:7777,1:"0000")
"DATA",160.16,2,"FIELD",213,2)
BLANK
"DATA",160.16,2,"FIELD",213,3)
L,ZERO^1910
"DATA",160.16,2,"FIELD",213,4)
7777 if VITAL STATUS = 0.  Else, 0000.
"DATA",160.16,2,"FIELD",214,0)
2273^1^2273^ICD Revision Number
"DATA",160.16,2,"FIELD",214,1)
S XDLC=$$FNODE~ONCACDU2(ACD160,.01),ACDANS=$S(VS=1:0,(VS=0)&(XDLC>2999999):1,1:9) K XDLC
"DATA",160.16,2,"FIELD",214,2)
BLANK
"DATA",160.16,2,"FIELD",214,3)
L,ZERO^1920
"DATA",160.16,2,"FIELD",214,4)
0 if VITAL STATUS = 1, 1 if VITAL STATUS = 0 and DATE OF LAST CONTACT > 1999, 9 if VITAL STATUS = 0 and DATE OF LAST CONTACT < 2000
"DATA",160.16,2,"FIELD",215,0)
2274^1^2274^Autopsy
"DATA",160.16,2,"FIELD",215,1)
S ACDANS=$$GET1~DIQ(160,ACD160,22.9,"I") I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,2,"FIELD",215,2)
BLANK
"DATA",160.16,2,"FIELD",215,3)
L,BLANK^1930
"DATA",160.16,2,"FIELD",215,4)
AUTOPSY (160,22.9)
"DATA",160.16,2,"FIELD",216,0)
2275^3^2277^Place of Death
"DATA",160.16,2,"FIELD",216,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,.02,"I") I ACDANS="",VS=1 S ACDANS=997
"DATA",160.16,2,"FIELD",216,2)
BLANK
"DATA",160.16,2,"FIELD",216,3)
L,BLANK^1940
"DATA",160.16,2,"FIELD",216,4)
PLACE OF DEATH (160,21)
"DATA",160.16,2,"FIELD",218,0)
1909^4^1912^Site (73-91) ICD-O-1
"DATA",160.16,2,"FIELD",218,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",218,2)
BLANK
"DATA",160.16,2,"FIELD",218,3)
L,BLANK^1960
"DATA",160.16,2,"FIELD",219,0)
1913^6^1918^Morph (73-91) ICD-O-1
"DATA",160.16,2,"FIELD",219,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",219,2)
BLANK
"DATA",160.16,2,"FIELD",219,3)
L,BLANK^1970
"DATA",160.16,2,"FIELD",220,0)
1919^1^1919^ICD-O-2 Conversion Flag
"DATA",160.16,2,"FIELD",220,1)
S ACDANS=4
"DATA",160.16,2,"FIELD",220,2)
BLANK
"DATA",160.16,2,"FIELD",220,3)
L,BLANK^1980
"DATA",160.16,2,"FIELD",220,4)
4 Primary site and morphology converted with review
"DATA",160.16,2,"FIELD",221,0)
1896^1^1896^Over-ride Age/Site/Morph
"DATA",160.16,2,"FIELD",221,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,205,"I")
"DATA",160.16,2,"FIELD",221,2)
BLANK
"DATA",160.16,2,"FIELD",221,3)
L,BLANK^1990
"DATA",160.16,2,"FIELD",221,4)
OVERRIDE AGE/SITE/MORPH (165.5,205)
"DATA",160.16,2,"FIELD",222,0)
1897^1^1897^Over-ride SeqNo/DxConf
"DATA",160.16,2,"FIELD",222,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,206,"I")
"DATA",160.16,2,"FIELD",222,2)
BLANK
"DATA",160.16,2,"FIELD",222,3)
L,BLANK^2000
"DATA",160.16,2,"FIELD",222,4)
OVERRIDE SEQNO/DXCONF (165.5,206)
"DATA",160.16,2,"FIELD",223,0)
1898^1^1898^Over-ride Site/Lat/SeqNo
"DATA",160.16,2,"FIELD",223,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,207,"I")
"DATA",160.16,2,"FIELD",223,2)
BLANK
"DATA",160.16,2,"FIELD",223,3)
L,BLANK^2010
"DATA",160.16,2,"FIELD",223,4)
OVERRIDE SITE/LAT/SEQNO (165.5,207)
"DATA",160.16,2,"FIELD",224,0)
1899^1^1899^Over-ride Surg/DxConf
"DATA",160.16,2,"FIELD",224,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,208,"I")
"DATA",160.16,2,"FIELD",224,2)
BLANK
"DATA",160.16,2,"FIELD",224,3)
L,BLANK^2020
"DATA",160.16,2,"FIELD",224,4)
OVERRIDE SURG/DXCONF (165.5,208)
"DATA",160.16,2,"FIELD",225,0)
1900^1^1900^Over-ride Site/Type
"DATA",160.16,2,"FIELD",225,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,209,"I")
"DATA",160.16,2,"FIELD",225,2)
BLANK
"DATA",160.16,2,"FIELD",225,3)
L,BLANK^2030
"DATA",160.16,2,"FIELD",225,4)
OVERRIDE SITE/TYPE (165.5,209)
"DATA",160.16,2,"FIELD",226,0)
1901^1^1901^Over-ride Histology
"DATA",160.16,2,"FIELD",226,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,210,"I")
"DATA",160.16,2,"FIELD",226,2)
BLANK
"DATA",160.16,2,"FIELD",226,3)
L,BLANK^2040
"DATA",160.16,2,"FIELD",226,4)
OVERRIDE HISTOLOGY (165.5,210)
"DATA",160.16,2,"FIELD",227,0)
1902^1^1902^Over-ride Report Source
"DATA",160.16,2,"FIELD",227,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,211,"I")
"DATA",160.16,2,"FIELD",227,2)
BLANK
"DATA",160.16,2,"FIELD",227,3)
L,BLANK^2050
"DATA",160.16,2,"FIELD",227,4)
OVERRIDE REPORT SOURCE (165.5,211)
"DATA",160.16,2,"FIELD",228,0)
1903^1^1903^Over-ride Ill-define Site
"DATA",160.16,2,"FIELD",228,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,212,"I")
"DATA",160.16,2,"FIELD",228,2)
BLANK
"DATA",160.16,2,"FIELD",228,3)
L,BLANK^2060
"DATA",160.16,2,"FIELD",228,4)
OVERRIDE ILL-DEFINE SITE (165.5,212)
"DATA",160.16,2,"FIELD",229,0)
1904^1^1904^Over-ride Leuk, Lymphoma
"DATA",160.16,2,"FIELD",229,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,213,"I")
"DATA",160.16,2,"FIELD",229,2)
BLANK
"DATA",160.16,2,"FIELD",229,3)
L,BLANK^2070
"DATA",160.16,2,"FIELD",229,4)
OVERRIDE LEUK,LYMPHOMA (165.5,213)
"DATA",160.16,2,"FIELD",231,0)
1959^8^1966^Date Case Completed
"DATA",160.16,2,"FIELD",231,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,90,"I"))
"DATA",160.16,2,"FIELD",231,2)
BLANK
"DATA",160.16,2,"FIELD",231,3)
R,BLANK^2090
"DATA",160.16,2,"FIELD",231,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,2,"FIELD",232,0)
1975^8^1982^Date Case Last Changed
"DATA",160.16,2,"FIELD",232,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,198,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,2,"FIELD",232,2)
BLANK
"DATA",160.16,2,"FIELD",232,3)
R,BLANK^2100
"DATA",160.16,2,"FIELD",232,4)
DATE CASE LAST CHANGED (165.5,198)
"DATA",160.16,2,"FIELD",233,0)
1983^8^1990^Date Case Report Exported
"DATA",160.16,2,"FIELD",233,1)
S ACDANS="" Q:$G(EXPORT)'="YES"  S:$G(DT)'="" ACDANS=(1700+$E(DT,1,3))_$E(DT,4,5)_$E(DT,6,7)
"DATA",160.16,2,"FIELD",233,2)
BLANK
"DATA",160.16,2,"FIELD",233,3)
L,BLANK^2110
"DATA",160.16,2,"FIELD",233,4)
Current date
"DATA",160.16,2,"FIELD",234,0)
1930^1^1930^SEER Coding Sys--Current
"DATA",160.16,2,"FIELD",234,1)
S ACDANS=5
"DATA",160.16,2,"FIELD",234,2)
BLANK
"DATA",160.16,2,"FIELD",234,3)
L,BLANK^2120
"DATA",160.16,2,"FIELD",234,4)
1998 SEER Coding Manual
"DATA",160.16,2,"FIELD",235,0)
1931^1^1931^SEER Coding Sys--Original
"DATA",160.16,2,"FIELD",235,1)
S ACDANS=5
"DATA",160.16,2,"FIELD",235,2)
BLANK
"DATA",160.16,2,"FIELD",235,3)
L,BLANK^2130
"DATA",160.16,2,"FIELD",235,4)
1998 SEER Coding Manual
"DATA",160.16,2,"FIELD",236,0)
1932^2^1933^COC Coding Sys--Current
"DATA",160.16,2,"FIELD",236,1)
S ACDANS="08"
"DATA",160.16,2,"FIELD",236,2)
BLANK
"DATA",160.16,2,"FIELD",236,3)
L,BLANK^2140
"DATA",160.16,2,"FIELD",236,4)
08 FORDS (effective with cases diagnosed 2003 are forward)
"DATA",160.16,2,"FIELD",237,0)
1934^2^1935^COC Coding Sys--Original
"DATA",160.16,2,"FIELD",237,1)
S ACDANS=$$COCO~ONCACDU2(IEN)
"DATA",160.16,2,"FIELD",237,2)
BLANK
"DATA",160.16,2,"FIELD",237,3)
L,BLANK^2150
"DATA",160.16,2,"FIELD",237,4)
08, 07, or 05 depending on DATE DX
"DATA",160.16,2,"FIELD",238,0)
2036^80^2115^Reserved 08
"DATA",160.16,2,"FIELD",238,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",238,2)
BLANK
"DATA",160.16,2,"FIELD",238,3)
L,BLANK^1650
"DATA",160.16,2,"FIELD",239,0)
1936^10^1945^Vendor Name
"DATA",160.16,2,"FIELD",239,1)
S ACDANS=$$VENDOR~ONCACDU2
"DATA",160.16,2,"FIELD",239,2)
BLANK
"DATA",160.16,2,"FIELD",239,3)
R,BLANK^2170
"DATA",160.16,2,"FIELD",239,4)
"VA"_NAACCR version_patch #_"A" e.g. VAV11P46A
"DATA",160.16,2,"FIELD",240,0)
1946^1^1946^SEER Type of Follow-Up
"DATA",160.16,2,"FIELD",240,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",240,2)
BLANK
"DATA",160.16,2,"FIELD",240,3)
L,BLANK^2180
"DATA",160.16,2,"FIELD",241,0)
1947^2^1948^SEER Record Number
"DATA",160.16,2,"FIELD",241,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",241,2)
BLANK
"DATA",160.16,2,"FIELD",241,3)
L,BLANK^2190
"DATA",160.16,2,"FIELD",242,0)
1949^2^1950^Diagnostic Proc 73-87
"DATA",160.16,2,"FIELD",242,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",242,2)
BLANK
"DATA",160.16,2,"FIELD",242,3)
L,BLANK^2200
"DATA",160.16,2,"FIELD",243,0)
2015^1^2015^ICD-O-3 Conversion Flag
"DATA",160.16,2,"FIELD",243,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:0,1:1) K DATEDX
"DATA",160.16,2,"FIELD",243,2)
BLANK
"DATA",160.16,2,"FIELD",243,3)
L,BLANK^2116
"DATA",160.16,2,"FIELD",340,0)
784^1^784^RX Hosp--Scope Reg LN Sur
"DATA",160.16,2,"FIELD",340,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.5,"I")
"DATA",160.16,2,"FIELD",340,2)
NINE
"DATA",160.16,2,"FIELD",340,3)
L,BLANK^672
"DATA",160.16,2,"FIELD",340,4)
SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"DATA",160.16,2,"FIELD",341,0)
785^1^785^RX Hosp--Surg Oth Reg/Dis
"DATA",160.16,2,"FIELD",341,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.5,"I")
"DATA",160.16,2,"FIELD",341,2)
NINE
"DATA",160.16,2,"FIELD",341,3)
L,BLANK^674
"DATA",160.16,2,"FIELD",341,4)
SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"DATA",160.16,2,"FIELD",342,0)
786^2^787^RX Hosp--Reg LN Removed
"DATA",160.16,2,"FIELD",342,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140.1,"I")
"DATA",160.16,2,"FIELD",342,2)
BLANK
"DATA",160.16,2,"FIELD",342,3)
L,BLANK^676
"DATA",160.16,2,"FIELD",342,4)
NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"DATA",160.16,2,"FIELD",347,0)
1569^1^1569^RX Summ--Scope Reg LN Sur
"DATA",160.16,2,"FIELD",347,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.4,"I")
"DATA",160.16,2,"FIELD",347,2)
NINE
"DATA",160.16,2,"FIELD",347,3)
L,BLANK^1292
"DATA",160.16,2,"FIELD",347,4)
SCOPE OF LN SURGERY (F) (165.5,138.4)
"DATA",160.16,2,"FIELD",348,0)
1570^1^1570^RX Summ--Surg Oth Reg/Dis
"DATA",160.16,2,"FIELD",348,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.4,"I")
"DATA",160.16,2,"FIELD",348,2)
NINE
"DATA",160.16,2,"FIELD",348,3)
L,BLANK^1294
"DATA",160.16,2,"FIELD",348,4)
SURG PROC/OTHER SITE (F) (165.5,139.4)
"DATA",160.16,2,"FIELD",349,0)
1571^2^1572^RX Summ--Reg LN Examined
"DATA",160.16,2,"FIELD",349,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140,"I")
"DATA",160.16,2,"FIELD",349,2)
BLANK
"DATA",160.16,2,"FIELD",349,3)
L,ZERO^1296
"DATA",160.16,2,"FIELD",349,4)
NUMBER OF LN REMOVED (R) (165.5,140)
"DATA",160.16,2,"FIELD",354,0)
1736^1^1736^Subsq RX 2nd--Scope LN Su
"DATA",160.16,2,"FIELD",354,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,35)
"DATA",160.16,2,"FIELD",354,2)
BLANK
"DATA",160.16,2,"FIELD",354,3)
L,BLANK^1677
"DATA",160.16,2,"FIELD",354,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,2,"FIELD",355,0)
1737^1^1737^Subsq RX 2nd--Surg Oth
"DATA",160.16,2,"FIELD",355,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,36)
"DATA",160.16,2,"FIELD",355,2)
BLANK
"DATA",160.16,2,"FIELD",355,3)
L,BLANK^1678
"DATA",160.16,2,"FIELD",355,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,2,"FIELD",356,0)
1738^2^1739^Subsq RX 2nd--Reg LN Rem
"DATA",160.16,2,"FIELD",356,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,37)
"DATA",160.16,2,"FIELD",356,2)
BLANK
"DATA",160.16,2,"FIELD",356,3)
L,BLANK^1679
"DATA",160.16,2,"FIELD",356,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,2,"FIELD",357,0)
1757^1^1757^Subsq RX 3rd--Scope LN Su
"DATA",160.16,2,"FIELD",357,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,35)
"DATA",160.16,2,"FIELD",357,2)
BLANK
"DATA",160.16,2,"FIELD",357,3)
L,BLANK^1697
"DATA",160.16,2,"FIELD",357,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,2,"FIELD",358,0)
1758^1^1758^Subsq RX 3rd--Surg Oth
"DATA",160.16,2,"FIELD",358,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,36)
"DATA",160.16,2,"FIELD",358,2)
BLANK
"DATA",160.16,2,"FIELD",358,3)
L,BLANK^1698
"DATA",160.16,2,"FIELD",358,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,2,"FIELD",359,0)
1759^2^1760^Subsq RX 3rd--Reg LN Rem
"DATA",160.16,2,"FIELD",359,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,37)
"DATA",160.16,2,"FIELD",359,2)
BLANK
"DATA",160.16,2,"FIELD",359,3)
L,BLANK^1699
"DATA",160.16,2,"FIELD",359,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,2,"FIELD",360,0)
1778^1^1778^Subsq RX 4th--Scope LN Su
"DATA",160.16,2,"FIELD",360,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,35)
"DATA",160.16,2,"FIELD",360,2)
BLANK
"DATA",160.16,2,"FIELD",360,3)
L,BLANK^1717
"DATA",160.16,2,"FIELD",360,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,2,"FIELD",361,0)
1779^1^1779^Subsq RX 4th--Surg Oth
"DATA",160.16,2,"FIELD",361,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,36)
"DATA",160.16,2,"FIELD",361,2)
BLANK
"DATA",160.16,2,"FIELD",361,3)
L,BLANK^1718
"DATA",160.16,2,"FIELD",361,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,2,"FIELD",362,0)
1780^2^1781^Subsq RX 4th--Reg LN Rem
"DATA",160.16,2,"FIELD",362,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,37)
"DATA",160.16,2,"FIELD",362,2)
BLANK
"DATA",160.16,2,"FIELD",362,3)
L,BLANK^1719
"DATA",160.16,2,"FIELD",362,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,2,"FIELD",363,0)
1060^3^1062^CS Site-Specific Factor 20
"DATA",160.16,2,"FIELD",363,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.201,"I")) K DATEDX
"DATA",160.16,2,"FIELD",363,2)
BLANK
"DATA",160.16,2,"FIELD",363,3)
L,BLANK^2874
"DATA",160.16,2,"FIELD",363,4)
SITE-SPECIFIC FACTOR 2O (CS) (165.5,44.201)
"DATA",160.16,2,"FIELD",366,0)
1787^1^1787^Subsq RX--Reconstruct Del
"DATA",160.16,2,"FIELD",366,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,33)
"DATA",160.16,2,"FIELD",366,2)
BLANK
"DATA",160.16,2,"FIELD",366,3)
L,BLANK^1741
"DATA",160.16,2,"FIELD",366,4)
RECON/RESTORE - DELAYED (165.51,33)
"DATA",160.16,2,"FIELD",367,0)
2208^50^2257^Follow-Up Contact--City
"DATA",160.16,2,"FIELD",367,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) ACDANS=$P($G(~VIC(5.11,VICPNT,0)),U,2) K VICPNT
"DATA",160.16,2,"FIELD",367,2)
BLANK
"DATA",160.16,2,"FIELD",367,3)
R,BLANK^1842
"DATA",160.16,2,"FIELD",367,4)
ZIP CODE (165,.119)
"DATA",160.16,2,"FIELD",368,0)
2258^2^2259^Follow-Up Contact--State
"DATA",160.16,2,"FIELD",368,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) STATE=$P($G(~VIC(5.11,VICPNT,0)),U,4) S:$G(STATE) ACDANS=$P(~DIC(5,STATE,0),U,2) K STATE,VICPNT
"DATA",160.16,2,"FIELD",368,2)
BLANK
"DATA",160.16,2,"FIELD",368,3)
R,BLANK^1844
"DATA",160.16,2,"FIELD",368,4)
ZIP CODE (165,.119)
"DATA",160.16,2,"FIELD",369,0)
2260^9^2268^Follow-Up Contact--Postal
"DATA",160.16,2,"FIELD",369,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) ACDANS=$P($G(~VIC(5.11,VICPNT,0)),U,1) K VICPNT
"DATA",160.16,2,"FIELD",369,2)
BLANK
"DATA",160.16,2,"FIELD",369,3)
R,BLANK^1846
"DATA",160.16,2,"FIELD",369,4)
ZIP CODE (165,.119)
"DATA",160.16,2,"FIELD",370,0)
1905^1^1905^Over-ride Site/Behavior
"DATA",160.16,2,"FIELD",370,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,214,"I")
"DATA",160.16,2,"FIELD",370,2)
BLANK
"DATA",160.16,2,"FIELD",370,3)
L,BLANK^2071
"DATA",160.16,2,"FIELD",370,4)
OVERRIDE SITE/BEHAVIOR (165.5,214)
"DATA",160.16,2,"FIELD",371,0)
1906^1^1906^Over-ride Site/EOD/DX Dt
"DATA",160.16,2,"FIELD",371,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,215,"I")
"DATA",160.16,2,"FIELD",371,2)
BLANK
"DATA",160.16,2,"FIELD",371,3)
L,BLANK^2072
"DATA",160.16,2,"FIELD",371,4)
OVERRIDE SITE/EOD/DX DT (165.5,215)
"DATA",160.16,2,"FIELD",372,0)
1907^1^1907^Over-ride Site/Lat/EOD
"DATA",160.16,2,"FIELD",372,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,216,"I")
"DATA",160.16,2,"FIELD",372,2)
BLANK
"DATA",160.16,2,"FIELD",372,3)
L,BLANK^2073
"DATA",160.16,2,"FIELD",372,4)
OVERRIDE SITE/LAT/EOD (165.5,216)
"DATA",160.16,2,"FIELD",373,0)
1908^1^1908^Over-ride Site/Lat/Morph
"DATA",160.16,2,"FIELD",373,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,217,"I")
"DATA",160.16,2,"FIELD",373,2)
BLANK
"DATA",160.16,2,"FIELD",373,3)
L,BLANK^2074
"DATA",160.16,2,"FIELD",373,4)
OVERRIDE SITE/LAT/MORPH (165.5,217)
"DATA",160.16,2,"FIELD",376,0)
1991^8^1998^Date Case Report Received
"DATA",160.16,2,"FIELD",376,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",376,2)
BLANK
"DATA",160.16,2,"FIELD",376,3)
L,BLANK^2111
"DATA",160.16,2,"FIELD",377,0)
1999^8^2006^Date Case Report Loaded
"DATA",160.16,2,"FIELD",377,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",377,2)
BLANK
"DATA",160.16,2,"FIELD",377,3)
L,BLANK^2112
"DATA",160.16,2,"FIELD",378,0)
2007^8^2014^Date Tumor Record Availbl
"DATA",160.16,2,"FIELD",378,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",378,2)
BLANK
"DATA",160.16,2,"FIELD",378,3)
L,BLANK^2113
"DATA",160.16,2,"FIELD",379,0)
1920^10^1929^CRC CHECKSUM
"DATA",160.16,2,"FIELD",379,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",379,2)
BLANK
"DATA",160.16,2,"FIELD",379,3)
L,BLANK^2081
"DATA",160.16,2,"FIELD",380,0)
3^14^16^Reserved 00
"DATA",160.16,2,"FIELD",380,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",380,2)
BLANK
"DATA",160.16,2,"FIELD",380,3)
L,BLANK^37
"DATA",160.16,2,"FIELD",382,0)
701^10^710^Reporting Facility
"DATA",160.16,2,"FIELD",382,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.03,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") I (ACDANS=9999999)&($L(STAT1)=8) S ACDANS=99999999
"DATA",160.16,2,"FIELD",382,2)
ZERO
"DATA",160.16,2,"FIELD",382,3)
L,ZERO^540
"DATA",160.16,2,"FIELD",382,4)
REPORTING FACILITY (165.5,.03)
"DATA",160.16,2,"FIELD",383,0)
731^9^739^Accession Number--Hosp
"DATA",160.16,2,"FIELD",383,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.05,"I")
"DATA",160.16,2,"FIELD",383,2)
BLANK
"DATA",160.16,2,"FIELD",383,3)
L,ZERO^550
"DATA",160.16,2,"FIELD",383,4)
ACCESSION NUMBER (165.5,.05)
"DATA",160.16,2,"FIELD",388,0)
691^10^700^NPI--Reporting Facility
"DATA",160.16,2,"FIELD",388,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,.03,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,2,"FIELD",388,2)
BLANK
"DATA",160.16,2,"FIELD",388,3)
L,BLANK^545
"DATA",160.16,2,"FIELD",388,4)
NPI (160.19,101)
"DATA",160.16,2,"FIELD",390,0)
591^100^690^Reserved 03
"DATA",160.16,2,"FIELD",390,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",390,2)
BLANK
"DATA",160.16,2,"FIELD",390,3)
L,BLANK^680
"DATA",160.16,2,"FIELD",391,0)
904^1^904^SEER Summary Stage 2000
"DATA",160.16,2,"FIELD",391,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,2,"FIELD",391,2)
BLANK
"DATA",160.16,2,"FIELD",391,3)
L,BLANK^759
"DATA",160.16,2,"FIELD",391,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,2,"FIELD",392,0)
1888^1^1888^Over-ride SS/NodesPos
"DATA",160.16,2,"FIELD",392,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,218,"I")
"DATA",160.16,2,"FIELD",392,2)
BLANK
"DATA",160.16,2,"FIELD",392,3)
L,BLANK^1981
"DATA",160.16,2,"FIELD",392,4)
OVERRIDE SS/NODESPOS (165.5,218)
"DATA",160.16,2,"FIELD",393,0)
1889^1^1889^Over-ride SS/TNM-N
"DATA",160.16,2,"FIELD",393,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,219,"I")
"DATA",160.16,2,"FIELD",393,2)
BLANK
"DATA",160.16,2,"FIELD",393,3)
L,BLANK^1982
"DATA",160.16,2,"FIELD",393,4)
OVERRIDE SS/TNM-N (165.5,219)
"DATA",160.16,2,"FIELD",394,0)
1890^1^1890^Over-ride SS/TNM-M
"DATA",160.16,2,"FIELD",394,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,220,"I")
"DATA",160.16,2,"FIELD",394,2)
BLANK
"DATA",160.16,2,"FIELD",394,3)
L,BLANK^1983
"DATA",160.16,2,"FIELD",394,4)
OVERRIDE SS/TNM-M (165.5,220)
"DATA",160.16,2,"FIELD",395,0)
1118^3^1120^Derived AJCC-7 N
"DATA",160.16,2,"FIELD",395,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",395,2)
BLANK
"DATA",160.16,2,"FIELD",395,3)
L,BLANK^3410
"DATA",160.16,2,"FIELD",395,4)
DERIVED AJCC-7 N (165.5,162.7)
"DATA",160.16,2,"FIELD",396,0)
1891^1^1891^Over-ride Acsn/Class/Seq
"DATA",160.16,2,"FIELD",396,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,222,"I")
"DATA",160.16,2,"FIELD",396,2)
BLANK
"DATA",160.16,2,"FIELD",396,3)
L,BLANK^1985
"DATA",160.16,2,"FIELD",396,4)
OVERRIDE ACSN/CLASS/SEQ (165.5,222)
"DATA",160.16,2,"FIELD",397,0)
1892^1^1892^Over-ride HospSeq/DxConf
"DATA",160.16,2,"FIELD",397,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,223,"I")
"DATA",160.16,2,"FIELD",397,2)
BLANK
"DATA",160.16,2,"FIELD",397,3)
L,BLANK^1986
"DATA",160.16,2,"FIELD",397,4)
OVERRIDE HOSPSEQ/DXCONF (165.5,223)
"DATA",160.16,2,"FIELD",398,0)
1893^1^1893^Over-ride CoC-Site/Type
"DATA",160.16,2,"FIELD",398,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,224,"I")
"DATA",160.16,2,"FIELD",398,2)
BLANK
"DATA",160.16,2,"FIELD",398,3)
L,BLANK^1987
"DATA",160.16,2,"FIELD",398,4)
OVERRIDE COC-SITE/TYPE (165.5,224)
"DATA",160.16,2,"FIELD",399,0)
1894^1^1894^Over-ride HospSeq/Site
"DATA",160.16,2,"FIELD",399,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,225,"I")
"DATA",160.16,2,"FIELD",399,2)
BLANK
"DATA",160.16,2,"FIELD",399,3)
L,BLANK^1988
"DATA",160.16,2,"FIELD",399,4)
OVERRIDE HOSPSEQ/SITE (165.5,225)
"DATA",160.16,2,"FIELD",400,0)
1895^1^1895^Over-ride Site/TNM-StgGrp
"DATA",160.16,2,"FIELD",400,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,226,"I")
"DATA",160.16,2,"FIELD",400,2)
BLANK
"DATA",160.16,2,"FIELD",400,3)
L,BLANK^1989
"DATA",160.16,2,"FIELD",400,4)
OVERRIDE SITE/TNM-STAGE GROUP (165.5,226)
"DATA",160.16,2,"FIELD",401,0)
2280^8^2287^Date of Death--Canada
"DATA",160.16,2,"FIELD",401,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",401,2)
BLANK
"DATA",160.16,2,"FIELD",401,3)
L,BLANK^1755
"DATA",160.16,2,"FIELD",402,0)
40^2^41^Tumor Record Number
"DATA",160.16,2,"FIELD",402,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",402,2)
BLANK
"DATA",160.16,2,"FIELD",402,3)
L,BLANK^60
"DATA",160.16,2,"FIELD",403,0)
20^10^29^NPI--Registry ID
"DATA",160.16,2,"FIELD",403,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") K FACIEN S:$G(STAT1)'="" FACIEN=$O(~ONCO(160.19,"B",STAT1,0)) S ACDANS=$S(DATEDX<3070000:"",$G(FACIEN)'="":$$GET1~DIQ(160.19,FACIEN,101),1:"")
"DATA",160.16,2,"FIELD",403,2)
BLANK
"DATA",160.16,2,"FIELD",403,3)
L,BLANK^45
"DATA",160.16,2,"FIELD",403,4)
NPI (160.19,101)
"DATA",160.16,2,"FIELD",404,0)
95^50^144^Addr at DX--City
"DATA",160.16,2,"FIELD",404,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,8.1,"E")'="":$$GET1~DIQ(165.5,IEN,8.1,"E"),1:"UNKNOWN") D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",404,2)
BLANK
"DATA",160.16,2,"FIELD",404,3)
R,BLANK^70
"DATA",160.16,2,"FIELD",404,4)
CITY/TOWN AT DX (165.5,8.1)
"DATA",160.16,2,"FIELD",405,0)
145^2^146^Addr at DX--State
"DATA",160.16,2,"FIELD",405,1)
S XX=$S($$GET1~DIQ(165.5,IEN,16,"I")'="":$$GET1~DIQ(5,$$GET1~DIQ(165.5,IEN,16,"I"),1,"I"),1:""),XX=$S(XX="CANAD":"CD",XX="EU":"YY",XX="FG":"YY",XX="MX":"XX",XX="NF":"NL",XX="PH":"XX",XX="UN":"ZZ",1:XX),ACDANS=XX
"DATA",160.16,2,"FIELD",405,2)
BLANK
"DATA",160.16,2,"FIELD",405,3)
L,BLANK^80
"DATA",160.16,2,"FIELD",405,4)
STATE AT DX (165.5,16)
"DATA",160.16,2,"FIELD",406,0)
188^1^188^Race Coding Sys--Original
"DATA",160.16,2,"FIELD",406,1)
S ACDANS=7
"DATA",160.16,2,"FIELD",406,2)
BLANK
"DATA",160.16,2,"FIELD",406,3)
L,BLANK^180
"DATA",160.16,2,"FIELD",406,4)
2010+ SEER & CoC (added codes 15, 16, and 17; removed 09)
"DATA",160.16,2,"FIELD",407,0)
156^3^158^County at DX
"DATA",160.16,2,"FIELD",407,1)
S ACDANS=$$CNTY~ONCACDU1(IEN)
"DATA",160.16,2,"FIELD",407,2)
BLANK
"DATA",160.16,2,"FIELD",407,3)
L,ZERO^90
"DATA",160.16,2,"FIELD",407,4)
COUNTY AT DX (165.5,10)
"DATA",160.16,2,"FIELD",408,0)
159^6^164^Census Tract 1970/80/90
"DATA",160.16,2,"FIELD",408,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",408,2)
BLANK
"DATA",160.16,2,"FIELD",408,3)
L,BLANK^110
"DATA",160.16,2,"FIELD",409,0)
166^1^166^Census Cod Sys 1970/80/90
"DATA",160.16,2,"FIELD",409,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",409,2)
BLANK
"DATA",160.16,2,"FIELD",409,3)
L,BLANK^120
"DATA",160.16,2,"FIELD",411,0)
216^1^216^Industry Source
"DATA",160.16,2,"FIELD",411,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",411,2)
BLANK
"DATA",160.16,2,"FIELD",411,3)
L,BLANK^300
"DATA",160.16,2,"FIELD",412,0)
417^1^417^Census Occ/Ind Sys 70-00
"DATA",160.16,2,"FIELD",412,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",412,2)
BLANK
"DATA",160.16,2,"FIELD",412,3)
L,BLANK^330
"DATA",160.16,2,"FIELD",413,0)
187^1^187^Race Coding Sys--Current
"DATA",160.16,2,"FIELD",413,1)
S ACDANS=7
"DATA",160.16,2,"FIELD",413,2)
BLANK
"DATA",160.16,2,"FIELD",413,3)
L,BLANK^170
"DATA",160.16,2,"FIELD",413,4)
2010+ SEER & CoC (added codes 15, 16, and 17; removed 09)
"DATA",160.16,2,"FIELD",414,0)
189^1^189^Spanish/Hispanic Origin
"DATA",160.16,2,"FIELD",414,1)
S ACDANS=$$GET1~DIQ(160,ACD160,9,"I")
"DATA",160.16,2,"FIELD",414,2)
BLANK
"DATA",160.16,2,"FIELD",414,3)
L,BLANK^190
"DATA",160.16,2,"FIELD",414,4)
SPANISH ORIGIN (160,9)
"DATA",160.16,2,"FIELD",415,0)
190^1^190^Computed Ethnicity
"DATA",160.16,2,"FIELD",415,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,2,"FIELD",415,2)
BLANK
"DATA",160.16,2,"FIELD",415,3)
L,BLANK^200
"DATA",160.16,2,"FIELD",415,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,2,"FIELD",416,0)
191^1^191^Computed Ethnicity Source
"DATA",160.16,2,"FIELD",416,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,2,"FIELD",416,2)
BLANK
"DATA",160.16,2,"FIELD",416,3)
L,BLANK^210
"DATA",160.16,2,"FIELD",416,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,2,"FIELD",417,0)
192^1^192^Sex
"DATA",160.16,2,"FIELD",417,1)
S ACDANS=$$GET1~DIQ(160,ACD160,10,"I")
"DATA",160.16,2,"FIELD",417,2)
BLANK
"DATA",160.16,2,"FIELD",417,3)
L,BLANK^220
"DATA",160.16,2,"FIELD",417,4)
SEX (160,10)
"DATA",160.16,2,"FIELD",418,0)
193^3^195^Age at Diagnosis
"DATA",160.16,2,"FIELD",418,1)
S ACDANS=$$AGEDX~ONCACDU1(IEN)
"DATA",160.16,2,"FIELD",418,2)
BLANK
"DATA",160.16,2,"FIELD",418,3)
L,ZERO^230
"DATA",160.16,2,"FIELD",418,4)
AGE~ONCOCOM
"DATA",160.16,2,"FIELD",419,0)
196^8^203^Date of Birth
"DATA",160.16,2,"FIELD",419,1)
S ACDANS=$$DATE~ONCACDU1($$BDATE~ONCACDU1(ACD160))
"DATA",160.16,2,"FIELD",419,2)
BLANK
"DATA",160.16,2,"FIELD",419,3)
R,BLANK^240
"DATA",160.16,2,"FIELD",419,4)
DOB (160,3)
"DATA",160.16,2,"FIELD",420,0)
206^3^208^Birthplace
"DATA",160.16,2,"FIELD",420,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I")
"DATA",160.16,2,"FIELD",420,2)
BLANK
"DATA",160.16,2,"FIELD",420,3)
L,ZERO^250
"DATA",160.16,2,"FIELD",420,4)
PLACE OF BIRTH (160,7)
"DATA",160.16,2,"FIELD",421,0)
174^1^174^Census Block Group 2000
"DATA",160.16,2,"FIELD",421,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",421,2)
BLANK
"DATA",160.16,2,"FIELD",421,3)
L,BLANK^362
"DATA",160.16,2,"FIELD",422,0)
167^1^167^Census Tr Cert 1970/80/90
"DATA",160.16,2,"FIELD",422,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",422,2)
BLANK
"DATA",160.16,2,"FIELD",422,3)
L,BLANK^364
"DATA",160.16,2,"FIELD",423,0)
215^1^215^Occupation Source
"DATA",160.16,2,"FIELD",423,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",423,2)
BLANK
"DATA",160.16,2,"FIELD",423,3)
L,BLANK^290
"DATA",160.16,2,"FIELD",424,0)
179^2^180^Race 2
"DATA",160.16,2,"FIELD",424,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.1,"I")
"DATA",160.16,2,"FIELD",424,2)
8
"DATA",160.16,2,"FIELD",424,3)
L,ZERO^161
"DATA",160.16,2,"FIELD",424,4)
RACE 2 (160,8.1)
"DATA",160.16,2,"FIELD",425,0)
181^2^182^Race 3
"DATA",160.16,2,"FIELD",425,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.2,"I")
"DATA",160.16,2,"FIELD",425,2)
8
"DATA",160.16,2,"FIELD",425,3)
L,ZERO^162
"DATA",160.16,2,"FIELD",425,4)
RACE 3 (160,8.2)
"DATA",160.16,2,"FIELD",426,0)
183^2^184^Race 4
"DATA",160.16,2,"FIELD",426,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.3,"I")
"DATA",160.16,2,"FIELD",426,2)
8
"DATA",160.16,2,"FIELD",426,3)
L,ZERO^163
"DATA",160.16,2,"FIELD",426,4)
RACE 4 (160,8.3)
"DATA",160.16,2,"FIELD",427,0)
185^2^186^Race 5
"DATA",160.16,2,"FIELD",427,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.4,"I")
"DATA",160.16,2,"FIELD",427,2)
8
"DATA",160.16,2,"FIELD",427,3)
L,ZERO^164
"DATA",160.16,2,"FIELD",427,4)
RACE 5 (160,8.4)
"DATA",160.16,2,"FIELD",428,0)
209^3^211^Census Occ Code 1970-2000
"DATA",160.16,2,"FIELD",428,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",428,2)
BLANK
"DATA",160.16,2,"FIELD",428,3)
L,BLANK^270
"DATA",160.16,2,"FIELD",429,0)
212^3^214^Census Ind Code 1970-2000
"DATA",160.16,2,"FIELD",429,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",429,2)
BLANK
"DATA",160.16,2,"FIELD",429,3)
L,BLANK^280
"DATA",160.16,2,"FIELD",433,0)
528^2^529^Sequence Number--Central
"DATA",160.16,2,"FIELD",433,1)
S ACDANS=$$SNCNT~ONCACDU2(IEN)
"DATA",160.16,2,"FIELD",433,2)
BLANK
"DATA",160.16,2,"FIELD",433,3)
L,BLANK^380
"DATA",160.16,2,"FIELD",434,0)
530^8^537^Date of Diagnosis
"DATA",160.16,2,"FIELD",434,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,3,"I"))
"DATA",160.16,2,"FIELD",434,2)
BLANK
"DATA",160.16,2,"FIELD",434,3)
R,BLANK^390
"DATA",160.16,2,"FIELD",434,4)
DATE DX (165.5,3)
"DATA",160.16,2,"FIELD",435,0)
424^2^425^RuralUrban Continuum 1993
"DATA",160.16,2,"FIELD",435,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",435,2)
BLANK
"DATA",160.16,2,"FIELD",435,3)
L,BLANK^3300
"DATA",160.16,2,"FIELD",435,4)
Program not run; record not coded
"DATA",160.16,2,"FIELD",436,0)
426^2^427^RuralUrban Continuum 2003
"DATA",160.16,2,"FIELD",436,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",436,2)
BLANK
"DATA",160.16,2,"FIELD",436,3)
L,BLANK^3310
"DATA",160.16,2,"FIELD",436,4)
Program not run; record not coded
"DATA",160.16,2,"FIELD",437,0)
419^2^420^Race--NAPIIA (derived API)
"DATA",160.16,2,"FIELD",437,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",437,2)
BLANK
"DATA",160.16,2,"FIELD",437,3)
L,BLANK^193
"DATA",160.16,2,"FIELD",438,0)
721^10^730^Archive FIN
"DATA",160.16,2,"FIELD",438,1)
S ACDANS=STAT1
"DATA",160.16,2,"FIELD",438,2)
ZERO
"DATA",160.16,2,"FIELD",438,3)
L,ZERO^3100
"DATA",160.16,2,"FIELD",438,4)
FACILITY ID # (160.1,27)
"DATA",160.16,2,"FIELD",439,0)
799^1^799^RX Hosp--Palliative Proc
"DATA",160.16,2,"FIELD",439,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,13,"I")
"DATA",160.16,2,"FIELD",439,2)
NINE
"DATA",160.16,2,"FIELD",439,3)
L,BLANK^3280
"DATA",160.16,2,"FIELD",439,4)
PALLIATIVE PROCEDURE @FAC (165.5,13)
"DATA",160.16,2,"FIELD",440,0)
985^3^987^CS Tumor Size
"DATA",160.16,2,"FIELD",440,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.2,"I")) K DATEDX
"DATA",160.16,2,"FIELD",440,2)
BLANK
"DATA",160.16,2,"FIELD",440,3)
L,ZERO^2800
"DATA",160.16,2,"FIELD",440,4)
TUMOR SIZE (CS) (165.5,29.2)
"DATA",160.16,2,"FIELD",441,0)
988^3^990^CS Extension
"DATA",160.16,2,"FIELD",441,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,30.2,"I")) K DATEDX
"DATA",160.16,2,"FIELD",441,2)
BLANK
"DATA",160.16,2,"FIELD",441,3)
L,ZERO^2810
"DATA",160.16,2,"FIELD",441,4)
EXTENSION (CS) (165.5,30.2)
"DATA",160.16,2,"FIELD",442,0)
991^1^991^CS Tumor Size/Ext Eval
"DATA",160.16,2,"FIELD",442,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.1,"I")) K DATEDX
"DATA",160.16,2,"FIELD",442,2)
BLANK
"DATA",160.16,2,"FIELD",442,3)
L,ZERO^2820
"DATA",160.16,2,"FIELD",442,4)
TUMOR SIZE/EXT EVAL (CS) (165.5,29.1)
"DATA",160.16,2,"FIELD",443,0)
992^3^994^CS Lymph Nodes
"DATA",160.16,2,"FIELD",443,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,31.1,"I")) K DATEDX
"DATA",160.16,2,"FIELD",443,2)
BLANK
"DATA",160.16,2,"FIELD",443,3)
L,BLANK^2830
"DATA",160.16,2,"FIELD",443,4)
LYMPH NODES (CS) (165.5,31.1)
"DATA",160.16,2,"FIELD",444,0)
995^1^995^CS Lymph Nodes Eval
"DATA",160.16,2,"FIELD",444,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,32.1,"I")) K DATEDX
"DATA",160.16,2,"FIELD",444,2)
BLANK
"DATA",160.16,2,"FIELD",444,3)
L,BLANK^2840
"DATA",160.16,2,"FIELD",444,4)
LYMPH NODES EVAL (CS) (165.5,32.1)
"DATA",160.16,2,"FIELD",445,0)
996^2^997^CS Mets at DX
"DATA",160.16,2,"FIELD",445,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.3,"I")) K DATEDX
"DATA",160.16,2,"FIELD",445,2)
BLANK
"DATA",160.16,2,"FIELD",445,3)
L,BLANK^2850
"DATA",160.16,2,"FIELD",445,4)
METS AT DX (CS) (165.5,34.3)
"DATA",160.16,2,"FIELD",446,0)
998^1^998^CS Mets Eval
"DATA",160.16,2,"FIELD",446,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.4,"I")) K DATEDX
"DATA",160.16,2,"FIELD",446,2)
BLANK
"DATA",160.16,2,"FIELD",446,3)
L,BLANK^2860
"DATA",160.16,2,"FIELD",446,4)
METS EVAL (CS) (165.5,34.4)
"DATA",160.16,2,"FIELD",447,0)
1003^3^1005^CS Site-Specific Factor 1
"DATA",160.16,2,"FIELD",447,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.1,"I")) K DATEDX
"DATA",160.16,2,"FIELD",447,2)
BLANK
"DATA",160.16,2,"FIELD",447,3)
L,BLANK^2880
"DATA",160.16,2,"FIELD",447,4)
SITE-SPECIFIC FACTOR 1 (CS) (165.5,44.1)
"DATA",160.16,2,"FIELD",448,0)
1006^3^1008^CS Site-Specific Factor 2
"DATA",160.16,2,"FIELD",448,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.2,"I")) K DATEDX
"DATA",160.16,2,"FIELD",448,2)
BLANK
"DATA",160.16,2,"FIELD",448,3)
L,BLANK^2890
"DATA",160.16,2,"FIELD",448,4)
SITE-SPECIFIC FACTOR 2 (CS) (165.5,44.2)
"DATA",160.16,2,"FIELD",449,0)
1009^3^1011^CS Site-Specific Factor 3
"DATA",160.16,2,"FIELD",449,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.3,"I")) K DATEDX
"DATA",160.16,2,"FIELD",449,2)
BLANK
"DATA",160.16,2,"FIELD",449,3)
L,BLANK^2900
"DATA",160.16,2,"FIELD",449,4)
SITE-SPECIFIC FACTOR 3 (CS) (165.5,44.3)
"DATA",160.16,2,"FIELD",450,0)
1012^3^1014^CS Site-Specific Factor 4
"DATA",160.16,2,"FIELD",450,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.4,"I")) K DATEDX
"DATA",160.16,2,"FIELD",450,2)
BLANK
"DATA",160.16,2,"FIELD",450,3)
L,BLANK^2910
"DATA",160.16,2,"FIELD",450,4)
SITE-SPECIFIC FACTOR 4 (CS) (165.5,44.4)
"DATA",160.16,2,"FIELD",451,0)
1015^3^1017^CS Site-Specific Factor 5
"DATA",160.16,2,"FIELD",451,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.5,"I")) K DATEDX
"DATA",160.16,2,"FIELD",451,2)
BLANK
"DATA",160.16,2,"FIELD",451,3)
L,BLANK^2920
"DATA",160.16,2,"FIELD",451,4)
SITE-SPECIFIC FACTOR 5 (CS) (165.5,44.5)
"DATA",160.16,2,"FIELD",452,0)
1018^3^1020^CS Site-Specific Factor 6
"DATA",160.16,2,"FIELD",452,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.6,"I")) K DATEDX
"DATA",160.16,2,"FIELD",452,2)
BLANK
"DATA",160.16,2,"FIELD",452,3)
L,BLANK^2930
"DATA",160.16,2,"FIELD",452,4)
SITE-SPECIFIC FACTOR 6 (CS) (165.5,44.6)
"DATA",160.16,2,"FIELD",453,0)
1103^2^1104^Derived AJCC-6 T
"DATA",160.16,2,"FIELD",453,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160,"I")) K DATEDX
"DATA",160.16,2,"FIELD",453,2)
BLANK
"DATA",160.16,2,"FIELD",453,3)
L,BLANK^2940
"DATA",160.16,2,"FIELD",453,4)
DERIVED AJCC T (165.5,160)
"DATA",160.16,2,"FIELD",454,0)
1105^1^1105^Derived AJCC-6 T Descript
"DATA",160.16,2,"FIELD",454,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161,"I")) K DATEDX
"DATA",160.16,2,"FIELD",454,2)
BLANK
"DATA",160.16,2,"FIELD",454,3)
L,BLANK^2950
"DATA",160.16,2,"FIELD",454,4)
DERIVED AJCC T DESCRIPTOR (165.5,161)
"DATA",160.16,2,"FIELD",455,0)
1106^2^1107^Derived AJCC-6 N
"DATA",160.16,2,"FIELD",455,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162,"I")) K DATEDX
"DATA",160.16,2,"FIELD",455,2)
BLANK
"DATA",160.16,2,"FIELD",455,3)
L,BLANK^2960
"DATA",160.16,2,"FIELD",455,4)
DERIVED AJCC N (165.5,162)
"DATA",160.16,2,"FIELD",456,0)
1108^1^1108^Derived AJCC-6 N Descript
"DATA",160.16,2,"FIELD",456,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163,"I")) K DATEDX
"DATA",160.16,2,"FIELD",456,2)
BLANK
"DATA",160.16,2,"FIELD",456,3)
L,BLANK^2970
"DATA",160.16,2,"FIELD",456,4)
DERIVED AJCC N DESCRIPTOR (165.5,163)
"DATA",160.16,2,"FIELD",457,0)
1109^2^1110^Derived AJCC-6 M
"DATA",160.16,2,"FIELD",457,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164,"I")) K DATEDX
"DATA",160.16,2,"FIELD",457,2)
BLANK
"DATA",160.16,2,"FIELD",457,3)
L,BLANK^2980
"DATA",160.16,2,"FIELD",457,4)
DERIVED AJCC M (165.5,164)
"DATA",160.16,2,"FIELD",458,0)
1111^1^1111^Derived AJCC-6 M Descript
"DATA",160.16,2,"FIELD",458,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165,"I")) K DATEDX
"DATA",160.16,2,"FIELD",458,2)
BLANK
"DATA",160.16,2,"FIELD",458,3)
L,BLANK^2990
"DATA",160.16,2,"FIELD",458,4)
DERIVED AJCC M DESCRIPTOR (165.5,165)
"DATA",160.16,2,"FIELD",459,0)
1112^2^1113^Derived AJCC-6 Stage Grp
"DATA",160.16,2,"FIELD",459,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166,"I")) K DATEDX
"DATA",160.16,2,"FIELD",459,2)
BLANK
"DATA",160.16,2,"FIELD",459,3)
L,BLANK^3000
"DATA",160.16,2,"FIELD",459,4)
DERIVED AJCC STAGE GROUP (165.5,166)
"DATA",160.16,2,"FIELD",460,0)
1155^1^1155^Derived SS1977
"DATA",160.16,2,"FIELD",460,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,167,"I")) K DATEDX
"DATA",160.16,2,"FIELD",460,2)
BLANK
"DATA",160.16,2,"FIELD",460,3)
L,BLANK^3010
"DATA",160.16,2,"FIELD",460,4)
DERIVED SS1977 (165.5,670)
"DATA",160.16,2,"FIELD",461,0)
1156^1^1156^Derived SS2000
"DATA",160.16,2,"FIELD",461,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,168,"I")) K DATEDX
"DATA",160.16,2,"FIELD",461,2)
BLANK
"DATA",160.16,2,"FIELD",461,3)
L,BLANK^3020
"DATA",160.16,2,"FIELD",461,4)
DERIVED SS2000 (165.5,168)
"DATA",160.16,2,"FIELD",462,0)
1158^1^1158^Derived AJCC--Flag
"DATA",160.16,2,"FIELD",462,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,166,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,2,"FIELD",462,2)
BLANK
"DATA",160.16,2,"FIELD",462,3)
L,BLANK^3030
"DATA",160.16,2,"FIELD",463,0)
1159^1^1159^Derived SS1977--Flag
"DATA",160.16,2,"FIELD",463,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,167,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,2,"FIELD",463,2)
BLANK
"DATA",160.16,2,"FIELD",463,3)
L,BLANK^3040
"DATA",160.16,2,"FIELD",464,0)
1160^1^1160^Derived SS2000--Flag
"DATA",160.16,2,"FIELD",464,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,168,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,2,"FIELD",464,2)
BLANK
"DATA",160.16,2,"FIELD",464,3)
L,BLANK^3050
"DATA",160.16,2,"FIELD",465,0)
1186^5^1190^Comorbid/Complication 1
"DATA",160.16,2,"FIELD",465,1)
S ONIEN=25 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",465,2)
ZERO
"DATA",160.16,2,"FIELD",465,3)
R,ZERO^3110
"DATA",160.16,2,"FIELD",465,4)
COMORBIDITY/COMPLICATION #1 (160,25)
"DATA",160.16,2,"FIELD",466,0)
1191^5^1195^Comorbid/Complication 2
"DATA",160.16,2,"FIELD",466,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",466,2)
BLANK
"DATA",160.16,2,"FIELD",466,3)
R,ZERO^3120
"DATA",160.16,2,"FIELD",466,4)
COMORBIDITY/COMPLICATION #2 (160,25.1)
"DATA",160.16,2,"FIELD",467,0)
1196^5^1200^Comorbid/Complication 3
"DATA",160.16,2,"FIELD",467,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",467,2)
BLANK
"DATA",160.16,2,"FIELD",467,3)
R,ZERO^3130
"DATA",160.16,2,"FIELD",467,4)
COMORBIDITY/COMPLICATION #3 (160,25.2)
"DATA",160.16,2,"FIELD",468,0)
1201^5^1205^Comorbid/Complication 4
"DATA",160.16,2,"FIELD",468,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",468,2)
BLANK
"DATA",160.16,2,"FIELD",468,3)
R,ZERO^3140
"DATA",160.16,2,"FIELD",468,4)
COMORBIDITY/COMPLICATION #4 (160,25.3)
"DATA",160.16,2,"FIELD",469,0)
1206^5^1210^Comorbid/Complication 5
"DATA",160.16,2,"FIELD",469,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.4,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",469,2)
BLANK
"DATA",160.16,2,"FIELD",469,3)
R,ZERO^3150
"DATA",160.16,2,"FIELD",469,4)
COMORBIDITY/COMPLICATION #5 (160,25.4)
"DATA",160.16,2,"FIELD",470,0)
1211^5^1215^Comorbid/Complication 6
"DATA",160.16,2,"FIELD",470,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.5,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",470,2)
BLANK
"DATA",160.16,2,"FIELD",470,3)
R,ZERO^3160
"DATA",160.16,2,"FIELD",470,4)
COMORBIDITY/COMPLICATION #6 (160,25.5)
"DATA",160.16,2,"FIELD",471,0)
1466^8^1473^RX Date Mst Defn Srg
"DATA",160.16,2,"FIELD",471,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"))
"DATA",160.16,2,"FIELD",471,2)
BLANK
"DATA",160.16,2,"FIELD",471,3)
R,BLANK^3170
"DATA",160.16,2,"FIELD",471,4)
MOST DEFINITIVE SURG DATE (165.5,50)
"DATA",160.16,2,"FIELD",472,0)
1476^8^1483^RX Date Surg Disch
"DATA",160.16,2,"FIELD",472,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"))
"DATA",160.16,2,"FIELD",472,2)
BLANK
"DATA",160.16,2,"FIELD",472,3)
R,BLANK^3180
"DATA",160.16,2,"FIELD",472,4)
DATE OF SURGICAL DISCHARGE (165.5,435)
"DATA",160.16,2,"FIELD",473,0)
1496^8^1503^RX Date Rad Ended
"DATA",160.16,2,"FIELD",473,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"))
"DATA",160.16,2,"FIELD",473,2)
BLANK
"DATA",160.16,2,"FIELD",473,3)
R,BLANK^3220
"DATA",160.16,2,"FIELD",473,4)
DATE RADIATION ENDED (165.5,361)
"DATA",160.16,2,"FIELD",474,0)
1506^8^1513^RX Date Systemic
"DATA",160.16,2,"FIELD",474,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,152) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="88/88/8888":8888888,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DATE~ONCACDU1(ACDDATE) K ACDDATE
"DATA",160.16,2,"FIELD",474,2)
BLANK
"DATA",160.16,2,"FIELD",474,3)
R,BLANK^3230
"DATA",160.16,2,"FIELD",474,4)
DATE SYSTEMIC THERAPY STARTED (165.5,152)
"DATA",160.16,2,"FIELD",477,0)
1579^1^1579^RX Summ--Palliative Proc
"DATA",160.16,2,"FIELD",477,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,12,"I")
"DATA",160.16,2,"FIELD",477,2)
NINE
"DATA",160.16,2,"FIELD",477,3)
L,BLANK^3270
"DATA",160.16,2,"FIELD",477,4)
PALLIATIVE PROCEDURE (165.5,12)
"DATA",160.16,2,"FIELD",478,0)
5065^500^5564^Reserved 13
"DATA",160.16,2,"FIELD",478,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",478,2)
BLANK
"DATA",160.16,2,"FIELD",478,3)
L,BLANK^2080
"DATA",160.16,2,"FIELD",479,0)
1583^2^1584^RX Summ--Transplnt/Endocr
"DATA",160.16,2,"FIELD",479,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,153,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(167,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",479,2)
BLANK
"DATA",160.16,2,"FIELD",479,3)
L,BLANK^3250
"DATA",160.16,2,"FIELD",479,4)
HEMA TRANS/ENDOCRINE PROC (165.5,153)
"DATA",160.16,2,"FIELD",480,0)
1609^2^1610^Rad--Boost RX Modality
"DATA",160.16,2,"FIELD",480,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",480,2)
ZERO
"DATA",160.16,2,"FIELD",480,3)
L,BLANK^3200
"DATA",160.16,2,"FIELD",480,4)
BOOST TREATMENT MODALITY (165.5,363.1)
"DATA",160.16,2,"FIELD",481,0)
1611^5^1615^Rad--Boost Dose: cGy
"DATA",160.16,2,"FIELD",481,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,443,"I")
"DATA",160.16,2,"FIELD",481,2)
ZERO
"DATA",160.16,2,"FIELD",481,3)
L,ZERO^3210
"DATA",160.16,2,"FIELD",481,4)
BOOST DOSE: cGy (165.5,443)
"DATA",160.16,2,"FIELD",482,0)
1619^1^1619^Readm Same Hosp 30 Days
"DATA",160.16,2,"FIELD",482,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,14,"I")
"DATA",160.16,2,"FIELD",482,2)
BLANK
"DATA",160.16,2,"FIELD",482,3)
L,BLANK^3190
"DATA",160.16,2,"FIELD",482,4)
READMISSION W/I 30 DAYS/SURG (165.5,14)
"DATA",160.16,2,"FIELD",484,0)
3340^40^3379^Name--Last
"DATA",160.16,2,"FIELD",484,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.011,"E") D NL~ONCACDU1
"DATA",160.16,2,"FIELD",484,2)
BLANK
"DATA",160.16,2,"FIELD",484,3)
R,BLANK^2230
"DATA",160.16,2,"FIELD",484,4)
LAST  NAME (160,.011)
"DATA",160.16,2,"FIELD",485,0)
3380^40^3419^Name--First
"DATA",160.16,2,"FIELD",485,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P($P(ACDANS,",",2)," "),ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","") S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,2,"FIELD",485,2)
BLANK
"DATA",160.16,2,"FIELD",485,3)
R,BLANK^2240
"DATA",160.16,2,"FIELD",485,4)
NAME (160,.01)
"DATA",160.16,2,"FIELD",486,0)
3420^40^3459^Name--Middle
"DATA",160.16,2,"FIELD",486,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.015,"E"),ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","")
"DATA",160.16,2,"FIELD",486,2)
BLANK
"DATA",160.16,2,"FIELD",486,3)
R,BLANK^2250
"DATA",160.16,2,"FIELD",486,4)
MIDDLE NAME (160,.015)
"DATA",160.16,2,"FIELD",487,0)
3460^3^3462^Name--Prefix
"DATA",160.16,2,"FIELD",487,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",487,2)
BLANK
"DATA",160.16,2,"FIELD",487,3)
R,BLANK^2260
"DATA",160.16,2,"FIELD",488,0)
3463^3^3465^Name--Suffix
"DATA",160.16,2,"FIELD",488,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P(ACDANS," ",3)
"DATA",160.16,2,"FIELD",488,2)
BLANK
"DATA",160.16,2,"FIELD",488,3)
R,BLANK^2270
"DATA",160.16,2,"FIELD",488,4)
NAME (160,.01)
"DATA",160.16,2,"FIELD",489,0)
3466^40^3505^Name--Alias
"DATA",160.16,2,"FIELD",489,1)
S ACDANS=$$GET1~DIQ(160,ACD160,1,"E") D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",489,2)
BLANK
"DATA",160.16,2,"FIELD",489,3)
R,BLANK^2280
"DATA",160.16,2,"FIELD",489,4)
ALIAS (160,1)
"DATA",160.16,2,"FIELD",490,0)
3506^40^3545^Name--Maiden
"DATA",160.16,2,"FIELD",490,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",490,2)
BLANK
"DATA",160.16,2,"FIELD",490,3)
R,BLANK^2390
"DATA",160.16,2,"FIELD",491,0)
3546^60^3605^Name--Spouse/Parent
"DATA",160.16,2,"FIELD",491,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",491,2)
BLANK
"DATA",160.16,2,"FIELD",491,3)
R,BLANK^2290
"DATA",160.16,2,"FIELD",492,0)
3606^11^3616^Medical Record Number
"DATA",160.16,2,"FIELD",492,1)
S ACDANS=$$GET1~DIQ(160,ACD160,2,"E"),ACDANS=$E(ACDANS,1,3)_$E(ACDANS,5,6)_$E(ACDANS,8,11)
"DATA",160.16,2,"FIELD",492,2)
BLANK
"DATA",160.16,2,"FIELD",492,3)
L,ZERO^2300
"DATA",160.16,2,"FIELD",492,4)
SSN (160,2)
"DATA",160.16,2,"FIELD",493,0)
3617^2^3618^Military Record No Suffix
"DATA",160.16,2,"FIELD",493,1)
S ACDANS=99
"DATA",160.16,2,"FIELD",493,2)
BLANK
"DATA",160.16,2,"FIELD",493,3)
L,ZERO^2310
"DATA",160.16,2,"FIELD",494,0)
3619^9^3627^Social Security Number
"DATA",160.16,2,"FIELD",494,1)
S ACDANS=$P($$GET1~DIQ(160,ACD160,2,"E"),"-")_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",2)_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",3)
"DATA",160.16,2,"FIELD",494,2)
NINE
"DATA",160.16,2,"FIELD",494,3)
L,BLANK^2320
"DATA",160.16,2,"FIELD",494,4)
SSN (160,2)
"DATA",160.16,2,"FIELD",495,0)
3628^60^3687^Addr at DX--No & Street
"DATA",160.16,2,"FIELD",495,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8,"E") D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",495,2)
BLANK
"DATA",160.16,2,"FIELD",495,3)
R,BLANK^2330
"DATA",160.16,2,"FIELD",495,4)
PATIENT ADDRESS AT DX (165.5,8)
"DATA",160.16,2,"FIELD",496,0)
3688^60^3747^Addr at DX--Supplementl
"DATA",160.16,2,"FIELD",496,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8.2,"E") D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",496,2)
BLANK
"DATA",160.16,2,"FIELD",496,3)
R,BLANK^2335
"DATA",160.16,2,"FIELD",496,4)
PATIENT ADDRESS AT DX - SUPP (165.5,8.2)
"DATA",160.16,2,"FIELD",497,0)
3748^60^3807^Addr Current--No & Street
"DATA",160.16,2,"FIELD",497,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.119,"E") D STRIP~ONCACDU2 S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,2,"FIELD",497,2)
BLANK
"DATA",160.16,2,"FIELD",497,3)
R,BLANK^2350
"DATA",160.16,2,"FIELD",497,4)
PATIENT ADDRESS - CURRENT (160,.119)
"DATA",160.16,2,"FIELD",498,0)
3808^60^3867^Addr Current--Supplementl
"DATA",160.16,2,"FIELD",498,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.1191,"E") D STRIP~ONCACDU2
"DATA",160.16,2,"FIELD",498,2)
BLANK
"DATA",160.16,2,"FIELD",498,3)
R,BLANK^2355
"DATA",160.16,2,"FIELD",498,4)
PATIENT ADDRESS - CURRENT SUPP (160,.1191)
"DATA",160.16,2,"FIELD",499,0)
3868^10^3877^Telephone
"DATA",160.16,2,"FIELD",499,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.131,"E") I ACDANS'="" S ACDANS=$TR(ACDANS,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`~!@#$%&*()-_=+[{]}\|;:',<.>/? ","") I ACDANS'?10N S ACDANS=""
"DATA",160.16,2,"FIELD",499,2)
NINE
"DATA",160.16,2,"FIELD",499,3)
R,BLANK^2360
"DATA",160.16,2,"FIELD",499,4)
TELEPHONE (160,.131)
"DATA",160.16,2,"FIELD",500,0)
3878^6^3883^DC State File Number
"DATA",160.16,2,"FIELD",500,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",500,2)
BLANK
"DATA",160.16,2,"FIELD",500,3)
L,BLANK^2380
"DATA",160.16,2,"FIELD",501,0)
3884^60^3943^Follow-Up Contact--Name
"DATA",160.16,2,"FIELD",501,1)
S ACDANS=$$FCNODE~ONCACDU2(ACD160,.01,"E"),ACDANS=$P(ACDANS,",",2)_" "_$P(ACDANS,",",1),ACDANS=$$TRIM~XLFSTR(ACDANS)
"DATA",160.16,2,"FIELD",501,2)
BLANK
"DATA",160.16,2,"FIELD",501,3)
R,BLANK^2394
"DATA",160.16,2,"FIELD",501,4)
CONTACT (165,.01)
"DATA",160.16,2,"FIELD",502,0)
3944^60^4003^Follow-Up Contact--No&St
"DATA",160.16,2,"FIELD",502,1)
S ACDANS=$$FCNODE~ONCACDU2(ACD160,.111,"E")
"DATA",160.16,2,"FIELD",502,2)
BLANK
"DATA",160.16,2,"FIELD",502,3)
R,BLANK^2392
"DATA",160.16,2,"FIELD",502,4)
STREET ADDRESS 1 (165,.111)
"DATA",160.16,2,"FIELD",503,0)
4004^60^4063^Follow-Up Contact--Suppl
"DATA",160.16,2,"FIELD",503,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",503,2)
BLANK
"DATA",160.16,2,"FIELD",503,3)
L,BLANK^2393
"DATA",160.16,2,"FIELD",504,0)
4064^10^4073^Latitude
"DATA",160.16,2,"FIELD",504,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",504,2)
BLANK
"DATA",160.16,2,"FIELD",504,3)
L,BLANK^2352
"DATA",160.16,2,"FIELD",505,0)
4074^11^4084^Longitude
"DATA",160.16,2,"FIELD",505,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",505,2)
BLANK
"DATA",160.16,2,"FIELD",505,3)
L,BLANK^2354
"DATA",160.16,2,"FIELD",506,0)
4085^200^4284^Reserved 10
"DATA",160.16,2,"FIELD",506,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",506,2)
BLANK
"DATA",160.16,2,"FIELD",506,3)
L,BLANK^1835
"DATA",160.16,2,"FIELD",508,0)
4295^10^4304^Following Registry
"DATA",160.16,2,"FIELD",508,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,10) S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",508,2)
ZERO
"DATA",160.16,2,"FIELD",508,3)
L,ZERO^2440
"DATA",160.16,2,"FIELD",508,4)
FOLLOWING REGISTRY (160.04,10)
"DATA",160.16,2,"FIELD",509,0)
4315^10^4324^Institution Referred From
"DATA",160.16,2,"FIELD",509,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,6,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,2,"FIELD",509,2)
ZERO
"DATA",160.16,2,"FIELD",509,3)
L,ZERO^2410
"DATA",160.16,2,"FIELD",509,4)
FACILITY REFERRED FROM (165.5,6)
"DATA",160.16,2,"FIELD",510,0)
4335^10^4344^Institution Referred To
"DATA",160.16,2,"FIELD",510,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,7,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,2,"FIELD",510,2)
ZERO
"DATA",160.16,2,"FIELD",510,3)
L,ZERO^2420
"DATA",160.16,2,"FIELD",510,4)
FACILITY REFERRED TO (165.5,7)
"DATA",160.16,2,"FIELD",511,0)
4305^10^4314^NPI--Inst Referred From
"DATA",160.16,2,"FIELD",511,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,6,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,2,"FIELD",511,2)
BLANK
"DATA",160.16,2,"FIELD",511,3)
L,BLANK^2415
"DATA",160.16,2,"FIELD",511,4)
NPI (160.19,101)
"DATA",160.16,2,"FIELD",512,0)
4405^8^4412^Physician--Managing
"DATA",160.16,2,"FIELD",512,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,2,"FIELD",512,2)
NINE
"DATA",160.16,2,"FIELD",512,3)
R,BLANK^2460
"DATA",160.16,2,"FIELD",512,4)
MANAGING PHYSICIAN (165.5,2.2)
"DATA",160.16,2,"FIELD",513,0)
4423^8^4430^Physician--Follow-Up
"DATA",160.16,2,"FIELD",513,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.1,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,2,"FIELD",513,2)
NINE
"DATA",160.16,2,"FIELD",513,3)
R,BLANK^2470
"DATA",160.16,2,"FIELD",513,4)
FOLLOWING PHYSICIAN (165.5,2.1)
"DATA",160.16,2,"FIELD",514,0)
4441^8^4448^Physician--Primary Surg
"DATA",160.16,2,"FIELD",514,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,2,"FIELD",514,2)
ZERO
"DATA",160.16,2,"FIELD",514,3)
R,BLANK^2480
"DATA",160.16,2,"FIELD",514,4)
PRIMARY SURGEON (165.5,2)
"DATA",160.16,2,"FIELD",515,0)
4459^8^4466^Physician 3
"DATA",160.16,2,"FIELD",515,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.3,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,2,"FIELD",515,2)
ZERO
"DATA",160.16,2,"FIELD",515,3)
R,BLANK^2490
"DATA",160.16,2,"FIELD",515,4)
PHYSICIAN #3 (165.5,2.3)
"DATA",160.16,2,"FIELD",516,0)
4477^8^4484^Physician 4
"DATA",160.16,2,"FIELD",516,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.4,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,2,"FIELD",516,2)
ZERO
"DATA",160.16,2,"FIELD",516,3)
R,BLANK^2500
"DATA",160.16,2,"FIELD",516,4)
PHYSICIAN #4 (165.5,2.4)
"DATA",160.16,2,"FIELD",517,0)
4395^10^4404^NPI--Physician--Managing
"DATA",160.16,2,"FIELD",517,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.2,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,2,"FIELD",517,2)
BLANK
"DATA",160.16,2,"FIELD",517,3)
L,BLANK^2465
"DATA",160.16,2,"FIELD",517,4)
NPI (165,101)
"DATA",160.16,2,"FIELD",518,0)
5565^1000^6564^Text--DX Proc--PE
"DATA",160.16,2,"FIELD",518,1)
S ACDANS=$$WORD~ONCACDU2(IEN,10,1000)
"DATA",160.16,2,"FIELD",518,2)
BLANK
"DATA",160.16,2,"FIELD",518,3)
R,BLANK^2520
"DATA",160.16,2,"FIELD",518,4)
TEXT-DX PROC-PE (165.5,104)
"DATA",160.16,2,"FIELD",519,0)
6565^1000^7564^Text--DX Proc--X-ray/Scan
"DATA",160.16,2,"FIELD",519,1)
S ACDANS=$$WORD~ONCACDU2(IEN,11,1000)
"DATA",160.16,2,"FIELD",519,2)
BLANK
"DATA",160.16,2,"FIELD",519,3)
R,BLANK^2530
"DATA",160.16,2,"FIELD",519,4)
TEXT-DX PROC-X-RAY/SCAN (165.5,105)
"DATA",160.16,2,"FIELD",520,0)
7565^1000^8564^Text--DX Proc--Scopes
"DATA",160.16,2,"FIELD",520,1)
S ACDANS=$$WORD~ONCACDU2(IEN,12,1000)
"DATA",160.16,2,"FIELD",520,2)
BLANK
"DATA",160.16,2,"FIELD",520,3)
R,BLANK^2540
"DATA",160.16,2,"FIELD",520,4)
TEXT-DX PROC-SCOPES (165.5,106)
"DATA",160.16,2,"FIELD",521,0)
8565^1000^9564^Text--DX Proc--Lab Tests
"DATA",160.16,2,"FIELD",521,1)
S ACDANS=$$WORD~ONCACDU2(IEN,22,1000)
"DATA",160.16,2,"FIELD",521,2)
BLANK
"DATA",160.16,2,"FIELD",521,3)
R,BLANK^2550
"DATA",160.16,2,"FIELD",521,4)
TEXT-DX PROC-LAB TESTS (165.5,116)
"DATA",160.16,2,"FIELD",522,0)
9565^1000^10564^Text--DX Proc--Op
"DATA",160.16,2,"FIELD",522,1)
S ACDANS=$$WORD~ONCACDU2(IEN,9,1000)
"DATA",160.16,2,"FIELD",522,2)
BLANK
"DATA",160.16,2,"FIELD",522,3)
R,BLANK^2560
"DATA",160.16,2,"FIELD",522,4)
TEXT-DX PROC-OP (165.5,103)
"DATA",160.16,2,"FIELD",523,0)
10565^1000^11564^Text--DX Proc--Path
"DATA",160.16,2,"FIELD",523,1)
S ACDANS=$$WORD~ONCACDU2(IEN,13,1000)
"DATA",160.16,2,"FIELD",523,2)
BLANK
"DATA",160.16,2,"FIELD",523,3)
R,BLANK^2570
"DATA",160.16,2,"FIELD",523,4)
TEXT-DX PROC-PATH (165.5,107)
"DATA",160.16,2,"FIELD",524,0)
11565^100^11664^Text--Primary Site Title
"DATA",160.16,2,"FIELD",524,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,100,"E")
"DATA",160.16,2,"FIELD",524,2)
BLANK
"DATA",160.16,2,"FIELD",524,3)
R,BLANK^2580
"DATA",160.16,2,"FIELD",524,4)
TEXT-PRIMARY SITE TITLE (165.5,100)
"DATA",160.16,2,"FIELD",525,0)
11665^100^11764^Text--Histology Title
"DATA",160.16,2,"FIELD",525,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,101,"E")
"DATA",160.16,2,"FIELD",525,2)
BLANK
"DATA",160.16,2,"FIELD",525,3)
R,BLANK^2590
"DATA",160.16,2,"FIELD",525,4)
TEXT-HISTOLOGY TITLE (165.5,101)
"DATA",160.16,2,"FIELD",526,0)
11765^1000^12764^Text--Staging
"DATA",160.16,2,"FIELD",526,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",526,2)
BLANK
"DATA",160.16,2,"FIELD",526,3)
R,BLANK^2600
"DATA",160.16,2,"FIELD",527,0)
12765^1000^13764^RX Text--Surgery
"DATA",160.16,2,"FIELD",527,1)
S ACDANS=$$WORD~ONCACDU2(IEN,14,1000)
"DATA",160.16,2,"FIELD",527,2)
BLANK
"DATA",160.16,2,"FIELD",527,3)
R,BLANK^2610
"DATA",160.16,2,"FIELD",527,4)
RX TEXT-SURGERY (165.5,108)
"DATA",160.16,2,"FIELD",528,0)
13765^1000^14764^RX Text--Radiation (Beam)
"DATA",160.16,2,"FIELD",528,1)
S ACDANS=$$WORD~ONCACDU2(IEN,15,1000)
"DATA",160.16,2,"FIELD",528,2)
BLANK
"DATA",160.16,2,"FIELD",528,3)
R,BLANK^2620
"DATA",160.16,2,"FIELD",528,4)
RX TEXT-RADIATION (165.5,109)
"DATA",160.16,2,"FIELD",529,0)
14765^1000^15764^RX Text--Radiation Other
"DATA",160.16,2,"FIELD",529,1)
S ACDANS=$$WORD~ONCACDU2(IEN,16,1000)
"DATA",160.16,2,"FIELD",529,2)
BLANK
"DATA",160.16,2,"FIELD",529,3)
R,BLANK^2630
"DATA",160.16,2,"FIELD",529,4)
RX TEXT-RADIATION OTHER (165.5,110)
"DATA",160.16,2,"FIELD",530,0)
15765^1000^16764^RX Text--Chemo
"DATA",160.16,2,"FIELD",530,1)
S ACDANS=$$WORD~ONCACDU2(IEN,17,1000)
"DATA",160.16,2,"FIELD",530,2)
BLANK
"DATA",160.16,2,"FIELD",530,3)
R,BLANK^2640
"DATA",160.16,2,"FIELD",530,4)
RX TEXT-CHEMO (165.5,111)
"DATA",160.16,2,"FIELD",531,0)
16765^1000^17764^RX Text--Hormone
"DATA",160.16,2,"FIELD",531,1)
S ACDANS=$$WORD~ONCACDU2(IEN,18,1000)
"DATA",160.16,2,"FIELD",531,2)
BLANK
"DATA",160.16,2,"FIELD",531,3)
R,BLANK^2650
"DATA",160.16,2,"FIELD",531,4)
RX TEXT-HORMONE (165.5,112)
"DATA",160.16,2,"FIELD",532,0)
17765^1000^18764^RX Text--BRM
"DATA",160.16,2,"FIELD",532,1)
S ACDANS=$$WORD~ONCACDU2(IEN,20,1000)
"DATA",160.16,2,"FIELD",532,2)
BLANK
"DATA",160.16,2,"FIELD",532,3)
R,BLANK^2660
"DATA",160.16,2,"FIELD",532,4)
RX TEXT-BRM (165.5,114)
"DATA",160.16,2,"FIELD",533,0)
18765^1000^19764^RX Text--Other
"DATA",160.16,2,"FIELD",533,1)
S ACDANS=$$WORD~ONCACDU2(IEN,21,1000)
"DATA",160.16,2,"FIELD",533,2)
BLANK
"DATA",160.16,2,"FIELD",533,3)
R,BLANK^2670
"DATA",160.16,2,"FIELD",533,4)
RX TEXT-OTHER (165.5,115)
"DATA",160.16,2,"FIELD",534,0)
19765^1000^20764^Text--Remarks
"DATA",160.16,2,"FIELD",534,1)
S ACDANS=$$WORD~ONCACDU2(IEN,19,1000)
"DATA",160.16,2,"FIELD",534,2)
BLANK
"DATA",160.16,2,"FIELD",534,3)
R,BLANK^2680
"DATA",160.16,2,"FIELD",534,4)
TEXT-REMARKS (165.5,113)
"DATA",160.16,2,"FIELD",535,0)
20765^60^20824^Text--Place of Diagnosis
"DATA",160.16,2,"FIELD",535,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,5,"E")
"DATA",160.16,2,"FIELD",535,2)
BLANK
"DATA",160.16,2,"FIELD",535,3)
R,BLANK^2690
"DATA",160.16,2,"FIELD",535,4)
DX FACILITY (165.5,5)
"DATA",160.16,2,"FIELD",536,0)
20825^2000^22824^Reserved 14
"DATA",160.16,2,"FIELD",536,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",536,2)
BLANK
"DATA",160.16,2,"FIELD",536,3)
L,BLANK^2210
"DATA",160.16,2,"FIELD",541,0)
2340^1000^3339^State/Requestor Items
"DATA",160.16,2,"FIELD",541,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",541,2)
BLANK
"DATA",160.16,2,"FIELD",541,3)
L,BLANK
"DATA",160.16,2,"FIELD",542,0)
1454^2^1455^Date 1st Crs RX CoC Flag
"DATA",160.16,2,"FIELD",542,1)
S ITEM=1271,ACDANS=$$GET1~DIQ(165.5,IEN,49) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DTFLAG~ONCACDU1(ACDDATE,ITEM) K ACDDATE
"DATA",160.16,2,"FIELD",542,2)
BLANK
"DATA",160.16,2,"FIELD",542,3)
L,BLANK^1271
"DATA",160.16,2,"FIELD",553,0)
802^1^802^RX Hosp--Scope Reg 98-02
"DATA",160.16,2,"FIELD",553,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138.1,"SC5")
"DATA",160.16,2,"FIELD",553,2)
BLANK
"DATA",160.16,2,"FIELD",553,3)
L,BLANK^747
"DATA",160.16,2,"FIELD",553,4)
SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"DATA",160.16,2,"FIELD",554,0)
803^1^803^RX Hosp--Surg Oth 98-02
"DATA",160.16,2,"FIELD",554,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139.1,"SO5")
"DATA",160.16,2,"FIELD",554,2)
BLANK
"DATA",160.16,2,"FIELD",554,3)
L,BLANK^748
"DATA",160.16,2,"FIELD",554,4)
SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"DATA",160.16,2,"FIELD",555,0)
804^100^903^Reserved 04
"DATA",160.16,2,"FIELD",555,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",555,2)
BLANK
"DATA",160.16,2,"FIELD",555,3)
L,BLANK^750
"DATA",160.16,2,"FIELD",556,0)
1620^2^1621^RX Summ--Surg Site 98-02
"DATA",160.16,2,"FIELD",556,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.2,"SPS")
"DATA",160.16,2,"FIELD",556,2)
BLANK
"DATA",160.16,2,"FIELD",556,3)
L,ZERO^1646
"DATA",160.16,2,"FIELD",556,4)
SURGERY OF PRIMARY (R) (165.5,58.2)
"DATA",160.16,2,"FIELD",557,0)
1622^1^1622^RX Summ--Scope Reg 98-02
"DATA",160.16,2,"FIELD",557,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138,"SC5")
"DATA",160.16,2,"FIELD",557,2)
BLANK
"DATA",160.16,2,"FIELD",557,3)
L,BLANK^1647
"DATA",160.16,2,"FIELD",557,4)
SCOPE OF LN SURGERY (R) (165.5,138)
"DATA",160.16,2,"FIELD",558,0)
1623^1^1623^RX Summ--Surg Oth 98-02
"DATA",160.16,2,"FIELD",558,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139,"SO5")
"DATA",160.16,2,"FIELD",558,2)
BLANK
"DATA",160.16,2,"FIELD",558,3)
L,BLANK^1648
"DATA",160.16,2,"FIELD",558,4)
SURG PROC/OTHER SITE (R) (165.5,139)
"DATA",160.16,2,"FIELD",559,0)
1167^6^1172^CS Version Input Original
"DATA",160.16,2,"FIELD",559,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169.1,"I")) K DATEDX
"DATA",160.16,2,"FIELD",559,2)
BLANK
"DATA",160.16,2,"FIELD",559,3)
L,BLANK^2935
"DATA",160.16,2,"FIELD",559,4)
CS VERSION INPUT ORIGINAL (165.5,169.1)
"DATA",160.16,2,"FIELD",560,0)
1173^6^1178^CS Version Derived
"DATA",160.16,2,"FIELD",560,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,2,"FIELD",560,2)
BLANK
"DATA",160.16,2,"FIELD",560,3)
L,BLANK^2936
"DATA",160.16,2,"FIELD",560,4)
CS VERSION DERIVED (165.5,169)
"DATA",160.16,2,"FIELD",562,0)
1221^5^1225^Comorbid/Complication 8
"DATA",160.16,2,"FIELD",562,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",562,2)
BLANK
"DATA",160.16,2,"FIELD",562,3)
R,ZERO^3162
"DATA",160.16,2,"FIELD",562,4)
COMORBIDITY/COMPLICATION #8 (160,25.7)
"DATA",160.16,2,"FIELD",563,0)
1226^5^1230^Comorbid/Complication 9
"DATA",160.16,2,"FIELD",563,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.8,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",563,2)
BLANK
"DATA",160.16,2,"FIELD",563,3)
R,ZERO^3163
"DATA",160.16,2,"FIELD",563,4)
COMORBIDITY/COMPLICATION #9 (160,25.8)
"DATA",160.16,2,"FIELD",564,0)
1231^5^1235^Comorbid/Complication 10
"DATA",160.16,2,"FIELD",564,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.9,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,2,"FIELD",564,2)
BLANK
"DATA",160.16,2,"FIELD",564,3)
R,ZERO^3164
"DATA",160.16,2,"FIELD",564,4)
COMORBIDITY/COMPLICATION #10 (160,25.9)
"DATA",160.16,2,"FIELD",565,0)
1185^1^1185^ICD Revision Comorbid
"DATA",160.16,2,"FIELD",565,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25,"I"),ACDANS=$S(ACDANS="":0,1:9)
"DATA",160.16,2,"FIELD",565,2)
BLANK
"DATA",160.16,2,"FIELD",565,3)
L,BLANK^3165
"DATA",160.16,2,"FIELD",565,4)
0 = No secondary diagnosis reported.  9 = ICD-9.
"DATA",160.16,2,"FIELD",567,0)
50^8^57^Patient System ID-Hosp
"DATA",160.16,2,"FIELD",567,1)
S ACDANS=ACD160
"DATA",160.16,2,"FIELD",567,2)
BLANK
"DATA",160.16,2,"FIELD",567,3)
L,ZERO^21
"DATA",160.16,2,"FIELD",567,4)
ONCOLOGY PATIENT file IEN
"DATA",160.16,2,"FIELD",568,0)
418^1^418^NHIA Derived Hisp Origin
"DATA",160.16,2,"FIELD",568,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",568,2)
BLANK
"DATA",160.16,2,"FIELD",568,3)
L,BLANK^191
"DATA",160.16,2,"FIELD",568,4)
Blank = Algorithm has not been run
"DATA",160.16,2,"FIELD",569,0)
421^1^421^IHS Link
"DATA",160.16,2,"FIELD",569,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",569,2)
BLANK
"DATA",160.16,2,"FIELD",569,3)
L,BLANK^192
"DATA",160.16,2,"FIELD",569,4)
Blank = Record not sent for linkage or linkage result pending
"DATA",160.16,2,"FIELD",570,0)
422^2^423^GIS Coordinate Quality
"DATA",160.16,2,"FIELD",570,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",570,2)
BLANK
"DATA",160.16,2,"FIELD",570,3)
L,BLANK^366
"DATA",160.16,2,"FIELD",570,4)
Blank = Not applicable, coordinate assignment not attempted
"DATA",160.16,2,"FIELD",571,0)
564^2^565^Casefinding Source
"DATA",160.16,2,"FIELD",571,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3061231:$$GET1~DIQ(165.5,IEN,21,"I"),1:"  ") K DATEDX
"DATA",160.16,2,"FIELD",571,2)
NINE
"DATA",160.16,2,"FIELD",571,3)
L,BLANK^501
"DATA",160.16,2,"FIELD",571,4)
CASEFINDING SOURCE (165.5,21)
"DATA",160.16,2,"FIELD",572,0)
566^1^566^Ambiguous Terminology DX
"DATA",160.16,2,"FIELD",572,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,159,"I")
"DATA",160.16,2,"FIELD",572,2)
BLANK
"DATA",160.16,2,"FIELD",572,3)
L,BLANK^442
"DATA",160.16,2,"FIELD",572,4)
AMBIGUOUS TERMINOLOGY (165.5,159)
"DATA",160.16,2,"FIELD",573,0)
567^8^574^Date Conclusive DX
"DATA",160.16,2,"FIELD",573,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"))
"DATA",160.16,2,"FIELD",573,2)
BLANK
"DATA",160.16,2,"FIELD",573,3)
R,BLANK^443
"DATA",160.16,2,"FIELD",573,4)
DATE OF CONCLUSIVE DX (165.5,193)
"DATA",160.16,2,"FIELD",574,0)
577^2^578^Mult Tum Rpt as One Prim
"DATA",160.16,2,"FIELD",574,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,194,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(169,ACDANS,.01,"I")
"DATA",160.16,2,"FIELD",574,2)
BLANK
"DATA",160.16,2,"FIELD",574,3)
L,BLANK^444
"DATA",160.16,2,"FIELD",574,4)
MULT TUM RPT AS ONE PRIM (165.5,194)
"DATA",160.16,2,"FIELD",575,0)
579^8^586^Date of Mult Tumors
"DATA",160.16,2,"FIELD",575,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"))
"DATA",160.16,2,"FIELD",575,2)
BLANK
"DATA",160.16,2,"FIELD",575,3)
R,BLANK^445
"DATA",160.16,2,"FIELD",575,4)
DATE OF MULTIPLE TUMORS (165.5,195)
"DATA",160.16,2,"FIELD",576,0)
589^2^590^Multiplicity Counter
"DATA",160.16,2,"FIELD",576,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,196,"I")
"DATA",160.16,2,"FIELD",576,2)
BLANK
"DATA",160.16,2,"FIELD",576,3)
L,BLANK^446
"DATA",160.16,2,"FIELD",576,4)
MULTIPLICITY COUNTER (165.5,196)
"DATA",160.16,2,"FIELD",582,0)
2278^2^2279^Follow-Up Source Central
"DATA",160.16,2,"FIELD",582,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",582,2)
BLANK
"DATA",160.16,2,"FIELD",582,3)
L,BLANK^1791
"DATA",160.16,2,"FIELD",582,4)
This field is created by the central registry.
"DATA",160.16,2,"FIELD",584,0)
58^37^94^Reserved 01
"DATA",160.16,2,"FIELD",584,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",584,2)
BLANK
"DATA",160.16,2,"FIELD",584,3)
L,BLANK^370
"DATA",160.16,2,"FIELD",585,0)
4325^10^4334^NPI--Inst Referred To
"DATA",160.16,2,"FIELD",585,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,7,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,2,"FIELD",585,2)
BLANK
"DATA",160.16,2,"FIELD",585,3)
L,BLANK^2425
"DATA",160.16,2,"FIELD",585,4)
NPI (160.19,101)
"DATA",160.16,2,"FIELD",586,0)
4285^10^4294^NPI--Following Registry
"DATA",160.16,2,"FIELD",586,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$FNODE~ONCACDU2(ACD160,10) S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,2,"FIELD",586,2)
BLANK
"DATA",160.16,2,"FIELD",586,3)
L,BLANK^2445
"DATA",160.16,2,"FIELD",586,4)
NPI (160.19,101)
"DATA",160.16,2,"FIELD",587,0)
4345^50^4394^Reserved 11
"DATA",160.16,2,"FIELD",587,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",587,2)
BLANK
"DATA",160.16,2,"FIELD",587,3)
L,BLANK^1900
"DATA",160.16,2,"FIELD",588,0)
4413^10^4422^NPI--Physician--Follow-Up
"DATA",160.16,2,"FIELD",588,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.1,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,2,"FIELD",588,2)
BLANK
"DATA",160.16,2,"FIELD",588,3)
L,BLANK^2475
"DATA",160.16,2,"FIELD",588,4)
NPI (165,101)
"DATA",160.16,2,"FIELD",589,0)
4431^10^4440^NPI--Physician--Primary Surg
"DATA",160.16,2,"FIELD",589,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,2,"FIELD",589,2)
BLANK
"DATA",160.16,2,"FIELD",589,3)
L,BLANK^2485
"DATA",160.16,2,"FIELD",589,4)
NPI (165,101)
"DATA",160.16,2,"FIELD",590,0)
4449^10^4458^NPI--Physician 3
"DATA",160.16,2,"FIELD",590,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.3,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,2,"FIELD",590,2)
BLANK
"DATA",160.16,2,"FIELD",590,3)
L,BLANK^2495
"DATA",160.16,2,"FIELD",590,4)
NPI (165,101)
"DATA",160.16,2,"FIELD",591,0)
4467^10^4476^NPI--Physician 4
"DATA",160.16,2,"FIELD",591,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.4,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,2,"FIELD",591,2)
BLANK
"DATA",160.16,2,"FIELD",591,3)
L,BLANK^2505
"DATA",160.16,2,"FIELD",591,4)
NPI (165,101)
"DATA",160.16,2,"FIELD",592,0)
165^1^165^Census Block Grp 1970-90
"DATA",160.16,2,"FIELD",592,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",592,2)
BLANK
"DATA",160.16,2,"FIELD",592,3)
L,BLANK^368
"DATA",160.16,2,"FIELD",599,0)
428^6^433^Census Tract 2010
"DATA",160.16,2,"FIELD",599,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,2,"FIELD",599,2)
BLANK
"DATA",160.16,2,"FIELD",599,3)
L,BLANK^135
"DATA",160.16,2,"FIELD",599,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,2,"FIELD",600,0)
2292^48^2339^Reserved 09
"DATA",160.16,2,"FIELD",600,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",600,2)
BLANK
"DATA",160.16,2,"FIELD",600,3)
L,BLANK^1740
"DATA",160.16,2,"FIELD",612,0)
204^2^205^Date of Birth Flag
"DATA",160.16,2,"FIELD",612,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",612,2)
BLANK
"DATA",160.16,2,"FIELD",612,3)
L,BLANK^241
"DATA",160.16,2,"FIELD",613,0)
538^2^539^Date of Diagnosis Flag
"DATA",160.16,2,"FIELD",613,1)
S ITEM=391,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,3,"I"),ITEM)
"DATA",160.16,2,"FIELD",613,2)
BLANK
"DATA",160.16,2,"FIELD",613,3)
L,BLANK^391
"DATA",160.16,2,"FIELD",614,0)
556^1^556^Grade Path Value
"DATA",160.16,2,"FIELD",614,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24.2,"I")
"DATA",160.16,2,"FIELD",614,2)
BLANK
"DATA",160.16,2,"FIELD",614,3)
L,BLANK^441
"DATA",160.16,2,"FIELD",614,4)
GRADE PATH VALUE (165.5,24.2)
"DATA",160.16,2,"FIELD",615,0)
557^1^557^Grade Path System
"DATA",160.16,2,"FIELD",615,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24.1,"I")
"DATA",160.16,2,"FIELD",615,2)
BLANK
"DATA",160.16,2,"FIELD",615,3)
L,BLANK^449
"DATA",160.16,2,"FIELD",615,4)
GRADE PATH SYSTEM (165.5,24.1)
"DATA",160.16,2,"FIELD",616,0)
575^2^576^Date of Conclusive DX Flag
"DATA",160.16,2,"FIELD",616,1)
S ITEM=448,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"),ITEM)
"DATA",160.16,2,"FIELD",616,2)
BLANK
"DATA",160.16,2,"FIELD",616,3)
L,BLANK^448
"DATA",160.16,2,"FIELD",617,0)
587^2^588^Date of Mult Tumors Flag
"DATA",160.16,2,"FIELD",617,1)
S ITEM=439,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"),ITEM)
"DATA",160.16,2,"FIELD",617,2)
BLANK
"DATA",160.16,2,"FIELD",617,3)
L,BLANK^439
"DATA",160.16,2,"FIELD",618,0)
753^2^754^Date of 1st Contact Flag
"DATA",160.16,2,"FIELD",618,1)
S ITEM=581,DFC=$$GET1~DIQ(165.5,IEN,155,"I") S:DFC="" DFC=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DTFLAG~ONCACDU1(DFC,ITEM) K DFC
"DATA",160.16,2,"FIELD",618,2)
BLANK
"DATA",160.16,2,"FIELD",618,3)
L,BLANK^581
"DATA",160.16,2,"FIELD",619,0)
763^2^764^Date of Inpt Adm Flag
"DATA",160.16,2,"FIELD",619,1)
S ITEM=591,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,1,"I"),ITEM)
"DATA",160.16,2,"FIELD",619,2)
BLANK
"DATA",160.16,2,"FIELD",619,3)
L,BLANK^591
"DATA",160.16,2,"FIELD",620,0)
773^2^774^Date of Inpt Disch Flag
"DATA",160.16,2,"FIELD",620,1)
S ITEM=601,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,1.1,"I"),ITEM)
"DATA",160.16,2,"FIELD",620,2)
BLANK
"DATA",160.16,2,"FIELD",620,3)
L,BLANK^601
"DATA",160.16,2,"FIELD",621,0)
775^1^775^Inpatient Status
"DATA",160.16,2,"FIELD",621,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,233,"I")
"DATA",160.16,2,"FIELD",621,2)
BLANK
"DATA",160.16,2,"FIELD",621,3)
L,BLANK^605
"DATA",160.16,2,"FIELD",621,4)
INPATIENT STATUS (165.5,233)
"DATA",160.16,2,"FIELD",622,0)
780^1^780^Reserved 15
"DATA",160.16,2,"FIELD",622,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",622,2)
BLANK
"DATA",160.16,2,"FIELD",622,3)
L,BLANK^2400
"DATA",160.16,2,"FIELD",623,0)
781^1^781^RX Hosp--Surg App 2010
"DATA",160.16,2,"FIELD",623,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,234,"I")
"DATA",160.16,2,"FIELD",623,2)
BLANK
"DATA",160.16,2,"FIELD",623,3)
L,BLANK^668
"DATA",160.16,2,"FIELD",623,4)
SURG APP 2010 (165.5,234)
"DATA",160.16,2,"FIELD",624,0)
788^1^788^Reserved 16
"DATA",160.16,2,"FIELD",624,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",624,2)
BLANK
"DATA",160.16,2,"FIELD",624,3)
L,BLANK^2450
"DATA",160.16,2,"FIELD",625,0)
984^1^984^Lymph-vascular Invasion
"DATA",160.16,2,"FIELD",625,1)
S MPH=$$GET1~DIQ(165.5,IEN,22.3,"I"),MPH=$E(MPH,1,4),LV=$$GET1~DIQ(165.5,IEN,149,"I"),ACDANS=$S((MPH>9589)&(MPH<9993):8,LV[0:0,LV[1:1,LV[8:8,1:9) K LV,MPH
"DATA",160.16,2,"FIELD",625,2)
BLANK
"DATA",160.16,2,"FIELD",625,3)
L,BLANK^1182
"DATA",160.16,2,"FIELD",625,4)
LYMPH-VASCULAR INVASION (L) (165.5,149)
"DATA",160.16,2,"FIELD",626,0)
999^1^999^CS Mets at Dx-Bone
"DATA",160.16,2,"FIELD",626,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.31,"I")
"DATA",160.16,2,"FIELD",626,2)
BLANK
"DATA",160.16,2,"FIELD",626,3)
L,BLANK^2851
"DATA",160.16,2,"FIELD",626,4)
METS AT DX-BONE (165.5,34.31)
"DATA",160.16,2,"FIELD",627,0)
1000^1^1000^CS Mets at Dx-Brain
"DATA",160.16,2,"FIELD",627,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.32,"I")
"DATA",160.16,2,"FIELD",627,2)
BLANK
"DATA",160.16,2,"FIELD",627,3)
L,BLANK^2852
"DATA",160.16,2,"FIELD",627,4)
METS AT DX-BRAIN (165.5,34.32)
"DATA",160.16,2,"FIELD",628,0)
1001^1^1001^CS Mets at Dx-Liver
"DATA",160.16,2,"FIELD",628,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.33,"I")
"DATA",160.16,2,"FIELD",628,2)
BLANK
"DATA",160.16,2,"FIELD",628,3)
L,BLANK^2853
"DATA",160.16,2,"FIELD",628,4)
METS AT DX-LIVER (165.5,34.33)
"DATA",160.16,2,"FIELD",629,0)
1002^1^1002^CS Mets at Dx-Lung
"DATA",160.16,2,"FIELD",629,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.34,"I")
"DATA",160.16,2,"FIELD",629,2)
BLANK
"DATA",160.16,2,"FIELD",629,3)
L,BLANK^2854
"DATA",160.16,2,"FIELD",629,4)
METS AT DX-LUNG (165.5,34.34)
"DATA",160.16,2,"FIELD",630,0)
1021^3^1023^CS Site-Specific Factor 7
"DATA",160.16,2,"FIELD",630,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",630,2)
BLANK
"DATA",160.16,2,"FIELD",630,3)
L,BLANK^2861
"DATA",160.16,2,"FIELD",630,4)
SITE-SPECIFIC FACTOR 7 (CS) (165.5,44.7)
"DATA",160.16,2,"FIELD",631,0)
1024^3^1026^CS Site-Specific Factor 8
"DATA",160.16,2,"FIELD",631,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.8,"I")) K DATEDX
"DATA",160.16,2,"FIELD",631,2)
BLANK
"DATA",160.16,2,"FIELD",631,3)
L,BLANK^2862
"DATA",160.16,2,"FIELD",631,4)
SITE-SPECIFIC FACTOR 8 (CS) (165.5,44.8)
"DATA",160.16,2,"FIELD",632,0)
1027^3^1029^CS Site-Specific Factor 9
"DATA",160.16,2,"FIELD",632,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.9,"I")) K DATEDX
"DATA",160.16,2,"FIELD",632,2)
BLANK
"DATA",160.16,2,"FIELD",632,3)
L,BLANK^2863
"DATA",160.16,2,"FIELD",632,4)
SITE-SPECIFIC FACTOR 9 (CS) (165.5,44.9)
"DATA",160.16,2,"FIELD",633,0)
1030^3^1032^CS Site-Specific Factor 10
"DATA",160.16,2,"FIELD",633,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.101,"I")) K DATEDX
"DATA",160.16,2,"FIELD",633,2)
BLANK
"DATA",160.16,2,"FIELD",633,3)
L,BLANK^2864
"DATA",160.16,2,"FIELD",633,4)
SITE-SPECIFIC FACTOR 10 (CS) (165.5,44.101)
"DATA",160.16,2,"FIELD",634,0)
1036^3^1038^CS Site-Specific Factor 12
"DATA",160.16,2,"FIELD",634,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.12,"I")) K DATEDX
"DATA",160.16,2,"FIELD",634,2)
BLANK
"DATA",160.16,2,"FIELD",634,3)
L,BLANK^2866
"DATA",160.16,2,"FIELD",634,4)
SITE-SPECIFIC FACTOR 12 (CS) (165.5,44.12)
"DATA",160.16,2,"FIELD",635,0)
1039^3^1041^CS Site-Specific Factor 13
"DATA",160.16,2,"FIELD",635,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.13,"I")) K DATEDX
"DATA",160.16,2,"FIELD",635,2)
BLANK
"DATA",160.16,2,"FIELD",635,3)
L,BLANK^2867
"DATA",160.16,2,"FIELD",635,4)
SITE-SPECIFIC FACTOR 13 (CS) (165.5,44.13)
"DATA",160.16,2,"FIELD",636,0)
1042^3^1044^CS Site-Specific Factor 14
"DATA",160.16,2,"FIELD",636,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.14,"I")) K DATEDX
"DATA",160.16,2,"FIELD",636,2)
BLANK
"DATA",160.16,2,"FIELD",636,3)
L,BLANK^2868
"DATA",160.16,2,"FIELD",636,4)
SITE-SPECFIC FACTOR 14 (CS) (165.5,44.14)
"DATA",160.16,2,"FIELD",637,0)
1045^3^1047^CS Site-Specific Factor 15
"DATA",160.16,2,"FIELD",637,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.15,"I")) K DATEDX
"DATA",160.16,2,"FIELD",637,2)
BLANK
"DATA",160.16,2,"FIELD",637,3)
L,BLANK^2869
"DATA",160.16,2,"FIELD",637,4)
SITE-SPECIFIC FACTOR 15 (CS) (165.5,44.15)
"DATA",160.16,2,"FIELD",638,0)
1048^3^1050^CS Site-Specific Factor 16
"DATA",160.16,2,"FIELD",638,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.16,"I")) K DATEDX
"DATA",160.16,2,"FIELD",638,2)
BLANK
"DATA",160.16,2,"FIELD",638,3)
L,BLANK^2870
"DATA",160.16,2,"FIELD",638,4)
SITE-SPECIFIC FACTOR 16 (CS) (165.5,44.16)
"DATA",160.16,2,"FIELD",639,0)
1051^3^1053^CS Site-Specific Factor 17
"DATA",160.16,2,"FIELD",639,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.17,"I")) K DATEDX
"DATA",160.16,2,"FIELD",639,2)
BLANK
"DATA",160.16,2,"FIELD",639,3)
L,BLANK^2871
"DATA",160.16,2,"FIELD",639,4)
SITE-SPECIFIC FACTOR 17 (CS) (165.5,44.17)
"DATA",160.16,2,"FIELD",640,0)
1054^3^1056^CS Site-Specific Factor 18
"DATA",160.16,2,"FIELD",640,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.18,"I")) K DATEDX
"DATA",160.16,2,"FIELD",640,2)
BLANK
"DATA",160.16,2,"FIELD",640,3)
L,BLANK^2872
"DATA",160.16,2,"FIELD",640,4)
SITE-SPECIFIC FACTOR 18 (CS) (165.5,44.18)
"DATA",160.16,2,"FIELD",641,0)
1057^3^1059^CS Site-Specific Factor 19
"DATA",160.16,2,"FIELD",641,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.19,"I")) K DATEDX
"DATA",160.16,2,"FIELD",641,2)
BLANK
"DATA",160.16,2,"FIELD",641,3)
L,BLANK^2873
"DATA",160.16,2,"FIELD",641,4)
SITE-SPECIFIC FACTOR 19 (CS) (165.5,44.19)
"DATA",160.16,2,"FIELD",642,0)
1063^3^1065^CS Site-Specific Factor 21
"DATA",160.16,2,"FIELD",642,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.21,"I")) K DATEDX
"DATA",160.16,2,"FIELD",642,2)
BLANK
"DATA",160.16,2,"FIELD",642,3)
L,BLANK^2875
"DATA",160.16,2,"FIELD",642,4)
SITE-SPECIFIC FACTOR 21 (CS) (165.5,44.21)
"DATA",160.16,2,"FIELD",643,0)
1066^3^1068^CS Site-Specific Factor 22
"DATA",160.16,2,"FIELD",643,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.22,"I")) K DATEDX
"DATA",160.16,2,"FIELD",643,2)
BLANK
"DATA",160.16,2,"FIELD",643,3)
L,BLANK^2876
"DATA",160.16,2,"FIELD",643,4)
SITE-SPECIFIC FACTOR 22 (CS) (165.5,44.22)
"DATA",160.16,2,"FIELD",644,0)
1069^3^1071^CS Site-Specific Factor 23
"DATA",160.16,2,"FIELD",644,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.23,"I")) K DATEDX
"DATA",160.16,2,"FIELD",644,2)
BLANK
"DATA",160.16,2,"FIELD",644,3)
L,BLANK^2877
"DATA",160.16,2,"FIELD",644,4)
SITE-SPECIFIC FACTOR 23 (CS) (165.5,44.23)
"DATA",160.16,2,"FIELD",645,0)
1072^3^1074^CS Site-Specific Factor 24
"DATA",160.16,2,"FIELD",645,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.24,"I")) K DATEDX
"DATA",160.16,2,"FIELD",645,2)
BLANK
"DATA",160.16,2,"FIELD",645,3)
L,BLANK^2878
"DATA",160.16,2,"FIELD",645,4)
SITE-SPECIFIC FACTOR 24 (CS) (165.5,44.24)
"DATA",160.16,2,"FIELD",646,0)
1075^3^1077^CS Site-Specific Factor 25
"DATA",160.16,2,"FIELD",646,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.25,"I")) K DATEDX
"DATA",160.16,2,"FIELD",646,2)
BLANK
"DATA",160.16,2,"FIELD",646,3)
L,BLANK^2879
"DATA",160.16,2,"FIELD",646,4)
SITE-SPECIFIC FACTOR 25 (CS) (165.5,44.25)
"DATA",160.16,2,"FIELD",647,0)
1078^3^1080^CS PreRx Tumor Size
"DATA",160.16,2,"FIELD",647,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",647,2)
BLANK
"DATA",160.16,2,"FIELD",647,3)
L,BLANK^2730
"DATA",160.16,2,"FIELD",648,0)
1081^3^1083^CS PreRx Extension
"DATA",160.16,2,"FIELD",648,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",648,2)
BLANK
"DATA",160.16,2,"FIELD",648,3)
L,BLANK^2735
"DATA",160.16,2,"FIELD",649,0)
1084^1^1084^CS PreRx Tum/Sz/Ext Eval
"DATA",160.16,2,"FIELD",649,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",649,2)
BLANK
"DATA",160.16,2,"FIELD",649,3)
L,BLANK^2740
"DATA",160.16,2,"FIELD",650,0)
1085^3^1087^CS PreRx Lymph Nodes
"DATA",160.16,2,"FIELD",650,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",650,2)
BLANK
"DATA",160.16,2,"FIELD",650,3)
L,BLANK^2750
"DATA",160.16,2,"FIELD",651,0)
1088^1^1088^CS PreRx Reg Nodes Eval
"DATA",160.16,2,"FIELD",651,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",651,2)
BLANK
"DATA",160.16,2,"FIELD",651,3)
L,BLANK^2755
"DATA",160.16,2,"FIELD",652,0)
1089^2^1090^CS PreRx Mets at DX
"DATA",160.16,2,"FIELD",652,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",652,2)
BLANK
"DATA",160.16,2,"FIELD",652,3)
L,BLANK^2760
"DATA",160.16,2,"FIELD",653,0)
1091^1^1091^CS PreRx Mets Eval
"DATA",160.16,2,"FIELD",653,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",653,2)
BLANK
"DATA",160.16,2,"FIELD",653,3)
L,BLANK^2765
"DATA",160.16,2,"FIELD",654,0)
1092^3^1094^CS PostRx Tumor Size
"DATA",160.16,2,"FIELD",654,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",654,2)
BLANK
"DATA",160.16,2,"FIELD",654,3)
L,BLANK^2770
"DATA",160.16,2,"FIELD",655,0)
1095^3^1097^CS PostRx Extension
"DATA",160.16,2,"FIELD",655,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",655,2)
BLANK
"DATA",160.16,2,"FIELD",655,3)
L,BLANK^2775
"DATA",160.16,2,"FIELD",656,0)
1098^3^1100^CS PostRx Lymph Nodes
"DATA",160.16,2,"FIELD",656,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",656,2)
BLANK
"DATA",160.16,2,"FIELD",656,3)
L,BLANK^2780
"DATA",160.16,2,"FIELD",657,0)
1101^2^1102^CS PostRx Mets at DX
"DATA",160.16,2,"FIELD",657,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",657,2)
BLANK
"DATA",160.16,2,"FIELD",657,3)
L,BLANK^2785
"DATA",160.16,2,"FIELD",658,0)
1114^3^1116^Derived AJCC-7 T
"DATA",160.16,2,"FIELD",658,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",658,2)
BLANK
"DATA",160.16,2,"FIELD",658,3)
L,BLANK^3400
"DATA",160.16,2,"FIELD",658,4)
DERIVED AJCC-7 T (165.5,160.7)
"DATA",160.16,2,"FIELD",659,0)
1117^1^1117^Derived AJCC-7 T Descript
"DATA",160.16,2,"FIELD",659,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",659,2)
BLANK
"DATA",160.16,2,"FIELD",659,3)
L,BLANK^3402
"DATA",160.16,2,"FIELD",659,4)
DERIVED AJCC-7 T DESCRIPTOR (165.5,161.7)
"DATA",160.16,2,"FIELD",660,0)
1121^1^1121^Derived AJCC-7 N Descript
"DATA",160.16,2,"FIELD",660,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",660,2)
BLANK
"DATA",160.16,2,"FIELD",660,3)
L,BLANK^3412
"DATA",160.16,2,"FIELD",660,4)
DERIVED AJCC-7 N DESCRIPTOR (165.5,163.7)
"DATA",160.16,2,"FIELD",661,0)
1122^3^1124^Derived AJCC-7 M
"DATA",160.16,2,"FIELD",661,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",661,2)
BLANK
"DATA",160.16,2,"FIELD",661,3)
L,BLANK^3420
"DATA",160.16,2,"FIELD",661,4)
DERIVED AJCC-7 M (165.5,164.7)
"DATA",160.16,2,"FIELD",662,0)
1125^1^1125^Derived AJCC-7 M Descript
"DATA",160.16,2,"FIELD",662,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",662,2)
BLANK
"DATA",160.16,2,"FIELD",662,3)
L,BLANK^3422
"DATA",160.16,2,"FIELD",662,4)
DERIVED AJCC-7 M DESCRIPTOR (165.5,165.7)
"DATA",160.16,2,"FIELD",663,0)
1126^3^1128^Derived AJCC-7 Stage Grp
"DATA",160.16,2,"FIELD",663,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166.7,"I")) K DATEDX
"DATA",160.16,2,"FIELD",663,2)
BLANK
"DATA",160.16,2,"FIELD",663,3)
L,BLANK^3430
"DATA",160.16,2,"FIELD",663,4)
DERIVED AJCC-7 STAGE GROUP (165.5,166.7)
"DATA",160.16,2,"FIELD",664,0)
1129^3^1131^Derived PreRx-7 T
"DATA",160.16,2,"FIELD",664,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",664,2)
BLANK
"DATA",160.16,2,"FIELD",664,3)
L,BLANK^3440
"DATA",160.16,2,"FIELD",665,0)
1132^1^1132^Derived PreRx-7 T Descrip
"DATA",160.16,2,"FIELD",665,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",665,2)
BLANK
"DATA",160.16,2,"FIELD",665,3)
L,BLANK^3442
"DATA",160.16,2,"FIELD",666,0)
1133^3^1135^Derived PreRx-7 N
"DATA",160.16,2,"FIELD",666,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",666,2)
BLANK
"DATA",160.16,2,"FIELD",666,3)
L,BLANK^3450
"DATA",160.16,2,"FIELD",667,0)
1136^1^1136^Derived PreRx-7 N Descrip
"DATA",160.16,2,"FIELD",667,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",667,2)
BLANK
"DATA",160.16,2,"FIELD",667,3)
L,BLANK^3452
"DATA",160.16,2,"FIELD",668,0)
1137^3^1139^Derived PreRx-7 M
"DATA",160.16,2,"FIELD",668,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",668,2)
BLANK
"DATA",160.16,2,"FIELD",668,3)
L,BLANK^3460
"DATA",160.16,2,"FIELD",669,0)
1140^1^1140^Derived PreRx-7 M Descrip
"DATA",160.16,2,"FIELD",669,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",669,2)
BLANK
"DATA",160.16,2,"FIELD",669,3)
L,BLANK^3462
"DATA",160.16,2,"FIELD",670,0)
1141^3^1143^Derived PreRx-7 Stage Grp
"DATA",160.16,2,"FIELD",670,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",670,2)
BLANK
"DATA",160.16,2,"FIELD",670,3)
L,BLANK^3470
"DATA",160.16,2,"FIELD",671,0)
1144^3^1146^Derived PostRx-7 T
"DATA",160.16,2,"FIELD",671,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",671,2)
BLANK
"DATA",160.16,2,"FIELD",671,3)
L,BLANK^3480
"DATA",160.16,2,"FIELD",672,0)
1147^3^1149^Derived PostRx-7 N
"DATA",160.16,2,"FIELD",672,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",672,2)
BLANK
"DATA",160.16,2,"FIELD",672,3)
L,BLANK^3482
"DATA",160.16,2,"FIELD",673,0)
1150^2^1151^Derived PostRx-7 M
"DATA",160.16,2,"FIELD",673,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",673,2)
BLANK
"DATA",160.16,2,"FIELD",673,3)
L,BLANK^3490
"DATA",160.16,2,"FIELD",674,0)
1152^3^1154^Derived PostRx-7 Stge Grp
"DATA",160.16,2,"FIELD",674,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",674,2)
BLANK
"DATA",160.16,2,"FIELD",674,3)
L,BLANK^3492
"DATA",160.16,2,"FIELD",675,0)
1157^1^1157^Derived Neoadjuv Rx Flag
"DATA",160.16,2,"FIELD",675,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",675,2)
BLANK
"DATA",160.16,2,"FIELD",675,3)
L,BLANK^3600
"DATA",160.16,2,"FIELD",676,0)
1161^6^1166^CS Version Input Current
"DATA",160.16,2,"FIELD",676,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,2,"FIELD",676,2)
BLANK
"DATA",160.16,2,"FIELD",676,3)
L,BLANK^2937
"DATA",160.16,2,"FIELD",676,4)
CS VERSION DERIVED (165.5,169)
"DATA",160.16,2,"FIELD",677,0)
1179^1^1179^SEER Site-Specific Fact 1
"DATA",160.16,2,"FIELD",677,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",677,2)
BLANK
"DATA",160.16,2,"FIELD",677,3)
L,BLANK^3700
"DATA",160.16,2,"FIELD",678,0)
1180^1^1180^SEER Site-Specific Fact 2
"DATA",160.16,2,"FIELD",678,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",678,2)
BLANK
"DATA",160.16,2,"FIELD",678,3)
L,BLANK^3702
"DATA",160.16,2,"FIELD",679,0)
1181^1^1181^SEER Site-Specific Fact 3
"DATA",160.16,2,"FIELD",679,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",679,2)
BLANK
"DATA",160.16,2,"FIELD",679,3)
L,BLANK^3704
"DATA",160.16,2,"FIELD",680,0)
1182^1^1182^SEER Site-Specific Fact 4
"DATA",160.16,2,"FIELD",680,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",680,2)
BLANK
"DATA",160.16,2,"FIELD",680,3)
L,BLANK^3706
"DATA",160.16,2,"FIELD",681,0)
1183^1^1183^SEER Site-Specific Fact 5
"DATA",160.16,2,"FIELD",681,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",681,2)
BLANK
"DATA",160.16,2,"FIELD",681,3)
L,BLANK^3708
"DATA",160.16,2,"FIELD",682,0)
1184^1^1184^SEER Site-Specific Fact 6
"DATA",160.16,2,"FIELD",682,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",682,2)
BLANK
"DATA",160.16,2,"FIELD",682,3)
L,BLANK^3710
"DATA",160.16,2,"FIELD",683,0)
1444^2^1445^Date Initial RX SEER Flag
"DATA",160.16,2,"FIELD",683,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",683,2)
BLANK
"DATA",160.16,2,"FIELD",683,3)
L,BLANK^1261
"DATA",160.16,2,"FIELD",684,0)
1464^2^1465^RX Date Surgery Flag
"DATA",160.16,2,"FIELD",684,1)
S ITEM=1201,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"),ITEM)
"DATA",160.16,2,"FIELD",684,2)
BLANK
"DATA",160.16,2,"FIELD",684,3)
L,BLANK^1201
"DATA",160.16,2,"FIELD",685,0)
1474^2^1475^RX Date Mst Defin Srg Flag
"DATA",160.16,2,"FIELD",685,1)
S ITEM=3171,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"),ITEM)
"DATA",160.16,2,"FIELD",685,2)
BLANK
"DATA",160.16,2,"FIELD",685,3)
L,BLANK^3171
"DATA",160.16,2,"FIELD",686,0)
1484^2^1485^RX Date Surg Disch Flag
"DATA",160.16,2,"FIELD",686,1)
S ITEM=3181,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"),ITEM)
"DATA",160.16,2,"FIELD",686,2)
BLANK
"DATA",160.16,2,"FIELD",686,3)
L,BLANK^3181
"DATA",160.16,2,"FIELD",687,0)
1494^2^1495^RX Date Radiation Flag
"DATA",160.16,2,"FIELD",687,1)
S ITEM=1211,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"),ITEM)
"DATA",160.16,2,"FIELD",687,2)
BLANK
"DATA",160.16,2,"FIELD",687,3)
L,BLANK^1211
"DATA",160.16,2,"FIELD",688,0)
1504^2^1505^RX Date Rad Ended Flag
"DATA",160.16,2,"FIELD",688,1)
S ITEM=3221,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"),ITEM)
"DATA",160.16,2,"FIELD",688,2)
BLANK
"DATA",160.16,2,"FIELD",688,3)
L,BLANK^3221
"DATA",160.16,2,"FIELD",689,0)
1514^2^1515^RX Date Systemic Flag
"DATA",160.16,2,"FIELD",689,1)
S ITEM=3231,ACDANS=$$GET1~DIQ(165.5,IEN,152) I ACDANS'="" S SY=ACDANS,ACDDATE=$S(SY="99/99/9999":9999999,SY="88/88/8888":8888888,SY="00/00/0000":"0000000",1:($E(SY,7,10)-1700)_$E(SY,1,2)_$E(SY,4,5)),ACDANS=$$DTFLAG~ONCACDU1(ACDDATE,ITEM)
"DATA",160.16,2,"FIELD",689,2)
BLANK
"DATA",160.16,2,"FIELD",689,3)
L,BLANK^3231
"DATA",160.16,2,"FIELD",690,0)
1524^2^1525^RX Date Chemo Flag
"DATA",160.16,2,"FIELD",690,1)
S ITEM=1221,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"),ITEM)
"DATA",160.16,2,"FIELD",690,2)
BLANK
"DATA",160.16,2,"FIELD",690,3)
L,BLANK^1221
"DATA",160.16,2,"FIELD",691,0)
1534^2^1535^RX Date Hormone Flag
"DATA",160.16,2,"FIELD",691,1)
S ITEM=1231,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"),ITEM)
"DATA",160.16,2,"FIELD",691,2)
BLANK
"DATA",160.16,2,"FIELD",691,3)
L,BLANK^1231
"DATA",160.16,2,"FIELD",692,0)
1544^2^1545^RX Date BRM Flag
"DATA",160.16,2,"FIELD",692,1)
S ITEM=1241,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"),ITEM)
"DATA",160.16,2,"FIELD",692,2)
BLANK
"DATA",160.16,2,"FIELD",692,3)
L,BLANK^1241
"DATA",160.16,2,"FIELD",693,0)
1554^2^1555^RX Date Other Flag
"DATA",160.16,2,"FIELD",693,1)
S ITEM=1251,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"),ITEM)
"DATA",160.16,2,"FIELD",693,2)
BLANK
"DATA",160.16,2,"FIELD",693,3)
L,BLANK^1251
"DATA",160.16,2,"FIELD",694,0)
1564^2^1565^RX Date DX/Stg Proc Flag
"DATA",160.16,2,"FIELD",694,1)
S ITEM=1281,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,58.3,"I"),ITEM)
"DATA",160.16,2,"FIELD",694,2)
BLANK
"DATA",160.16,2,"FIELD",694,3)
L,BLANK^1281
"DATA",160.16,2,"FIELD",695,0)
1566^1^1566^RX Summ--Treatment Status
"DATA",160.16,2,"FIELD",695,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,235,"I")
"DATA",160.16,2,"FIELD",695,2)
BLANK
"DATA",160.16,2,"FIELD",695,3)
L,BLANK^1285
"DATA",160.16,2,"FIELD",695,4)
TREATMENT STATUS (165.5,235)
"DATA",160.16,2,"FIELD",696,0)
1732^2^1733^Subsq RX 2ndCrs Date Flag
"DATA",160.16,2,"FIELD",696,1)
S ITEM=1661,ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,2,"FIELD",696,2)
BLANK
"DATA",160.16,2,"FIELD",696,3)
L,BLANK^1661
"DATA",160.16,2,"FIELD",697,0)
1753^2^1754^Subsq RX 3rdCrs Date Flag
"DATA",160.16,2,"FIELD",697,1)
S ITEM=1681,ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,2,"FIELD",697,2)
BLANK
"DATA",160.16,2,"FIELD",697,3)
L,BLANK^1681
"DATA",160.16,2,"FIELD",698,0)
1774^2^1775^Subsq RX 4thCrs Date Flag
"DATA",160.16,2,"FIELD",698,1)
S ITEM=1701,ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,2,"FIELD",698,2)
BLANK
"DATA",160.16,2,"FIELD",698,3)
L,BLANK^1701
"DATA",160.16,2,"FIELD",699,0)
1951^8^1958^Date Case Initiated
"DATA",160.16,2,"FIELD",699,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,236,"I"))
"DATA",160.16,2,"FIELD",699,2)
BLANK
"DATA",160.16,2,"FIELD",699,3)
R,BLANK^2085
"DATA",160.16,2,"FIELD",699,4)
DATE CASE INITIATED (165.5,236)
"DATA",160.16,2,"FIELD",700,0)
1967^8^1974^Date Case Completed--CoC
"DATA",160.16,2,"FIELD",700,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,90,"I"))
"DATA",160.16,2,"FIELD",700,2)
BLANK
"DATA",160.16,2,"FIELD",700,3)
R,BLANK^2092
"DATA",160.16,2,"FIELD",700,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,2,"FIELD",701,0)
2124^2^2125^Date of Last Contact Flag
"DATA",160.16,2,"FIELD",701,1)
S ITEM=1751,ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,2,"FIELD",701,2)
BLANK
"DATA",160.16,2,"FIELD",701,3)
L,BLANK^1751
"DATA",160.16,2,"FIELD",702,0)
2204^2^2205^Recurrence Date--1st Flag
"DATA",160.16,2,"FIELD",702,1)
S ITEM=1861,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,70,"I"),ITEM)
"DATA",160.16,2,"FIELD",702,2)
BLANK
"DATA",160.16,2,"FIELD",702,3)
L,BLANK^1861
"DATA",160.16,2,"FIELD",703,0)
2288^2^2289^Date of Death--CanadaFlag
"DATA",160.16,2,"FIELD",703,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",703,2)
BLANK
"DATA",160.16,2,"FIELD",703,3)
L,BLANK^1756
"DATA",160.16,2,"FIELD",704,0)
4485^50^4534^Reserved 12
"DATA",160.16,2,"FIELD",704,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",704,2)
BLANK
"DATA",160.16,2,"FIELD",704,3)
L,BLANK^2510
"DATA",160.16,2,"FIELD",705,0)
4535^25^4559^Path Reporting Fac ID 1
"DATA",160.16,2,"FIELD",705,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",705,2)
BLANK
"DATA",160.16,2,"FIELD",705,3)
L,BLANK^7010
"DATA",160.16,2,"FIELD",706,0)
4560^20^4579^Path Report Number 1
"DATA",160.16,2,"FIELD",706,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",706,2)
BLANK
"DATA",160.16,2,"FIELD",706,3)
L,BLANK^7090
"DATA",160.16,2,"FIELD",707,0)
4580^14^4593^Path Date Spec Collect 1
"DATA",160.16,2,"FIELD",707,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",707,2)
BLANK
"DATA",160.16,2,"FIELD",707,3)
L,BLANK^7320
"DATA",160.16,2,"FIELD",708,0)
4594^2^4595^Path Report Type 1
"DATA",160.16,2,"FIELD",708,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",708,2)
BLANK
"DATA",160.16,2,"FIELD",708,3)
L,BLANK^7480
"DATA",160.16,2,"FIELD",709,0)
4596^25^4620^Path Ordering Fac No 1
"DATA",160.16,2,"FIELD",709,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",709,2)
BLANK
"DATA",160.16,2,"FIELD",709,3)
L,BLANK^7190
"DATA",160.16,2,"FIELD",710,0)
4621^20^4640^Path Order Phys Lic No 1
"DATA",160.16,2,"FIELD",710,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",710,2)
BLANK
"DATA",160.16,2,"FIELD",710,3)
L,BLANK^7100
"DATA",160.16,2,"FIELD",711,0)
4641^25^4665^Path Reporting Fac ID 2
"DATA",160.16,2,"FIELD",711,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",711,2)
BLANK
"DATA",160.16,2,"FIELD",711,3)
L,BLANK^7011
"DATA",160.16,2,"FIELD",712,0)
4666^20^4685^Path Report Number 2
"DATA",160.16,2,"FIELD",712,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",712,2)
BLANK
"DATA",160.16,2,"FIELD",712,3)
L,BLANK^7091
"DATA",160.16,2,"FIELD",713,0)
4686^14^4699^Path Date Spec Collect 2
"DATA",160.16,2,"FIELD",713,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",713,2)
BLANK
"DATA",160.16,2,"FIELD",713,3)
L,BLANK^7321
"DATA",160.16,2,"FIELD",714,0)
4700^2^4701^Path Report Type 2
"DATA",160.16,2,"FIELD",714,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",714,2)
BLANK
"DATA",160.16,2,"FIELD",714,3)
L,BLANK^7481
"DATA",160.16,2,"FIELD",715,0)
4702^25^4726^Path Ordering Fac No 2
"DATA",160.16,2,"FIELD",715,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",715,2)
BLANK
"DATA",160.16,2,"FIELD",715,3)
L,BLANK^7191
"DATA",160.16,2,"FIELD",716,0)
4727^20^4746^Path Order Phys Lic No 2
"DATA",160.16,2,"FIELD",716,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",716,2)
BLANK
"DATA",160.16,2,"FIELD",716,3)
L,BLANK^7101
"DATA",160.16,2,"FIELD",717,0)
4747^25^4771^Path Reporting Fac ID 3
"DATA",160.16,2,"FIELD",717,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",717,2)
BLANK
"DATA",160.16,2,"FIELD",717,3)
L,BLANK^7012
"DATA",160.16,2,"FIELD",718,0)
4772^20^4791^Path Report Number 3
"DATA",160.16,2,"FIELD",718,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",718,2)
BLANK
"DATA",160.16,2,"FIELD",718,3)
L,BLANK^7092
"DATA",160.16,2,"FIELD",719,0)
4792^14^4805^Path Date Spec Collect 3
"DATA",160.16,2,"FIELD",719,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",719,2)
BLANK
"DATA",160.16,2,"FIELD",719,3)
L,BLANK^7322
"DATA",160.16,2,"FIELD",720,0)
4806^2^4807^Path Report Type 3
"DATA",160.16,2,"FIELD",720,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",720,2)
BLANK
"DATA",160.16,2,"FIELD",720,3)
L,BLANK^7482
"DATA",160.16,2,"FIELD",721,0)
4808^25^4832^Path Ordering Fac No 3
"DATA",160.16,2,"FIELD",721,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",721,2)
BLANK
"DATA",160.16,2,"FIELD",721,3)
L,BLANK^7192
"DATA",160.16,2,"FIELD",722,0)
4833^20^4852^Path Order Phys Lic No 3
"DATA",160.16,2,"FIELD",722,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",722,2)
BLANK
"DATA",160.16,2,"FIELD",722,3)
L,BLANK^7102
"DATA",160.16,2,"FIELD",723,0)
4853^25^4877^Path Reporting Fac ID 4
"DATA",160.16,2,"FIELD",723,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",723,2)
BLANK
"DATA",160.16,2,"FIELD",723,3)
L,BLANK^7013
"DATA",160.16,2,"FIELD",724,0)
4878^20^4897^Path Report Number 4
"DATA",160.16,2,"FIELD",724,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",724,2)
BLANK
"DATA",160.16,2,"FIELD",724,3)
L,BLANK^7093
"DATA",160.16,2,"FIELD",725,0)
4898^14^4911^Path Date Spec Collect 4
"DATA",160.16,2,"FIELD",725,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",725,2)
BLANK
"DATA",160.16,2,"FIELD",725,3)
L,BLANK^7323
"DATA",160.16,2,"FIELD",726,0)
4912^2^4913^Path Report Type 4
"DATA",160.16,2,"FIELD",726,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",726,2)
BLANK
"DATA",160.16,2,"FIELD",726,3)
L,BLANK^7483
"DATA",160.16,2,"FIELD",727,0)
4914^25^4938^Path Ordering Fac No 4
"DATA",160.16,2,"FIELD",727,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",727,2)
BLANK
"DATA",160.16,2,"FIELD",727,3)
L,BLANK^7193
"DATA",160.16,2,"FIELD",728,0)
4939^20^4958^Path Order Phys Lic No 4
"DATA",160.16,2,"FIELD",728,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",728,2)
BLANK
"DATA",160.16,2,"FIELD",728,3)
L,BLANK^7103
"DATA",160.16,2,"FIELD",729,0)
4959^25^4983^Path Reporting Fac ID 5
"DATA",160.16,2,"FIELD",729,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",729,2)
BLANK
"DATA",160.16,2,"FIELD",729,3)
L,BLANK^7014
"DATA",160.16,2,"FIELD",730,0)
4984^20^5003^Path Report Number 5
"DATA",160.16,2,"FIELD",730,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",730,2)
BLANK
"DATA",160.16,2,"FIELD",730,3)
L,BLANK^7094
"DATA",160.16,2,"FIELD",731,0)
5004^14^5017^Path Date Spec Collect 5
"DATA",160.16,2,"FIELD",731,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",731,2)
BLANK
"DATA",160.16,2,"FIELD",731,3)
L,BLANK^7324
"DATA",160.16,2,"FIELD",732,0)
5018^2^5019^Path Report Type 5
"DATA",160.16,2,"FIELD",732,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",732,2)
BLANK
"DATA",160.16,2,"FIELD",732,3)
L,BLANK^7484
"DATA",160.16,2,"FIELD",733,0)
5020^25^5044^Path Ordering Fac No 5
"DATA",160.16,2,"FIELD",733,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",733,2)
BLANK
"DATA",160.16,2,"FIELD",733,3)
L,BLANK^7194
"DATA",160.16,2,"FIELD",734,0)
5045^20^5064^Path Order Phys Lic No 5
"DATA",160.16,2,"FIELD",734,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",734,2)
BLANK
"DATA",160.16,2,"FIELD",734,3)
R,BLANK^7104
"DATA",160.16,2,"FIELD",735,0)
434^1^434^Census Block Group 2010
"DATA",160.16,2,"FIELD",735,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",735,2)
BLANK
"DATA",160.16,2,"FIELD",735,3)
L,BLANK^363
"DATA",160.16,2,"FIELD",736,0)
435^1^435^Census Tr Certainty 2010
"DATA",160.16,2,"FIELD",736,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",736,2)
BLANK
"DATA",160.16,2,"FIELD",736,3)
L,BLANK^367
"DATA",160.16,2,"FIELD",737,0)
455^73^527^Reserved 02
"DATA",160.16,2,"FIELD",737,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",737,2)
BLANK
"DATA",160.16,2,"FIELD",737,3)
L,BLANK^530
"DATA",160.16,2,"FIELD",738,0)
2016^1^2016^Over-ride CS 1
"DATA",160.16,2,"FIELD",738,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",738,2)
BLANK
"DATA",160.16,2,"FIELD",738,3)
L,BLANK^2016
"DATA",160.16,2,"FIELD",739,0)
2017^1^2017^Over-ride CS 2
"DATA",160.16,2,"FIELD",739,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",739,2)
BLANK
"DATA",160.16,2,"FIELD",739,3)
L,BLANK^3751
"DATA",160.16,2,"FIELD",740,0)
2018^1^2018^Over-ride CS 3
"DATA",160.16,2,"FIELD",740,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",740,2)
BLANK
"DATA",160.16,2,"FIELD",740,3)
L,BLANK^3752
"DATA",160.16,2,"FIELD",741,0)
2019^1^2019^Over-ride CS 4
"DATA",160.16,2,"FIELD",741,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",741,2)
BLANK
"DATA",160.16,2,"FIELD",741,3)
L,BLANK^3753
"DATA",160.16,2,"FIELD",742,0)
2020^1^2020^Over-ride CS 5
"DATA",160.16,2,"FIELD",742,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",742,2)
BLANK
"DATA",160.16,2,"FIELD",742,3)
L,BLANK^3754
"DATA",160.16,2,"FIELD",743,0)
2021^1^2021^Over-ride CS 6
"DATA",160.16,2,"FIELD",743,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",743,2)
BLANK
"DATA",160.16,2,"FIELD",743,3)
L,BLANK^3755
"DATA",160.16,2,"FIELD",744,0)
2022^1^2022^Over-ride CS 7
"DATA",160.16,2,"FIELD",744,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",744,2)
BLANK
"DATA",160.16,2,"FIELD",744,3)
L,BLANK^3756
"DATA",160.16,2,"FIELD",745,0)
2023^1^2023^Over-ride CS 8
"DATA",160.16,2,"FIELD",745,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",745,2)
BLANK
"DATA",160.16,2,"FIELD",745,3)
L,BLANK^3757
"DATA",160.16,2,"FIELD",746,0)
2024^1^2024^Over-ride CS 9
"DATA",160.16,2,"FIELD",746,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",746,2)
BLANK
"DATA",160.16,2,"FIELD",746,3)
L,BLANK^3758
"DATA",160.16,2,"FIELD",747,0)
2025^1^2025^Over-ride CS 10
"DATA",160.16,2,"FIELD",747,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",747,2)
BLANK
"DATA",160.16,2,"FIELD",747,3)
L,BLANK^3759
"DATA",160.16,2,"FIELD",748,0)
2026^1^2026^Over-ride CS 11
"DATA",160.16,2,"FIELD",748,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",748,2)
BLANK
"DATA",160.16,2,"FIELD",748,3)
L,BLANK^3760
"DATA",160.16,2,"FIELD",749,0)
2027^1^2027^Over-ride CS 12
"DATA",160.16,2,"FIELD",749,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",749,2)
BLANK
"DATA",160.16,2,"FIELD",749,3)
L,BLANK^3761
"DATA",160.16,2,"FIELD",750,0)
2028^1^2028^Over-ride CS 13
"DATA",160.16,2,"FIELD",750,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",750,2)
BLANK
"DATA",160.16,2,"FIELD",750,3)
L,BLANK^3762
"DATA",160.16,2,"FIELD",751,0)
2029^1^2029^Over-ride CS 14
"DATA",160.16,2,"FIELD",751,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",751,2)
BLANK
"DATA",160.16,2,"FIELD",751,3)
L,BLANK^3763
"DATA",160.16,2,"FIELD",752,0)
2030^1^2030^Over-ride CS 15
"DATA",160.16,2,"FIELD",752,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",752,2)
BLANK
"DATA",160.16,2,"FIELD",752,3)
L,BLANK^3764
"DATA",160.16,2,"FIELD",753,0)
2031^1^2031^Over-ride CS 16
"DATA",160.16,2,"FIELD",753,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",753,2)
BLANK
"DATA",160.16,2,"FIELD",753,3)
L,BLANK^3765
"DATA",160.16,2,"FIELD",754,0)
2032^1^2032^Over-ride CS 17
"DATA",160.16,2,"FIELD",754,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",754,2)
BLANK
"DATA",160.16,2,"FIELD",754,3)
L,BLANK^3766
"DATA",160.16,2,"FIELD",755,0)
2033^1^2033^Over-ride CS 18
"DATA",160.16,2,"FIELD",755,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",755,2)
BLANK
"DATA",160.16,2,"FIELD",755,3)
L,BLANK^3767
"DATA",160.16,2,"FIELD",756,0)
2034^1^2034^Over-ride CS 19
"DATA",160.16,2,"FIELD",756,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",756,2)
BLANK
"DATA",160.16,2,"FIELD",756,3)
L,BLANK^3768
"DATA",160.16,2,"FIELD",757,0)
2035^1^2035^Over-ride CS 20
"DATA",160.16,2,"FIELD",757,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",757,2)
BLANK
"DATA",160.16,2,"FIELD",757,3)
L,BLANK^3769
"DATA",160.16,2,"FIELD",766,0)
436^3^438^Addr at DX--Country
"DATA",160.16,2,"FIELD",766,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,102)
"DATA",160.16,2,"FIELD",766,2)
BLANK
"DATA",160.16,2,"FIELD",766,3)
L,BLANK^102
"DATA",160.16,2,"FIELD",766,4)
STATE AT DX (165.5,16)
"DATA",160.16,2,"FIELD",767,0)
439^3^441^Addr Current--Country
"DATA",160.16,2,"FIELD",767,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,1832)
"DATA",160.16,2,"FIELD",767,2)
BLANK
"DATA",160.16,2,"FIELD",767,3)
L,BLANK^1832
"DATA",160.16,2,"FIELD",767,4)
COUNTRY (2,.1173)
"DATA",160.16,2,"FIELD",768,0)
442^2^443^Birthplace--State
"DATA",160.16,2,"FIELD",768,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1.1,"I")
"DATA",160.16,2,"FIELD",768,2)
BLANK
"DATA",160.16,2,"FIELD",768,3)
L,BLANK^252
"DATA",160.16,2,"FIELD",768,4)
PLACE OF BIRTH (160,7) Pointer --> File #165.2, field #1.1 (USPS STATE CODE)
"DATA",160.16,2,"FIELD",769,0)
444^3^446^Birthplace--Country
"DATA",160.16,2,"FIELD",769,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1,"I")
"DATA",160.16,2,"FIELD",769,2)
BLANK
"DATA",160.16,2,"FIELD",769,3)
L,BLANK^254
"DATA",160.16,2,"FIELD",769,4)
PLACE OF BIRTH (160,7) Pointer --> File #165.2, field #1 (ISO COUNTRY CODE)
"DATA",160.16,2,"FIELD",770,0)
447^3^449^Followup Contact--Country
"DATA",160.16,2,"FIELD",770,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,1847)
"DATA",160.16,2,"FIELD",770,2)
BLANK
"DATA",160.16,2,"FIELD",770,3)
L,BLANK^1847
"DATA",160.16,2,"FIELD",770,4)
ZIP CODE (165,.119)
"DATA",160.16,2,"FIELD",771,0)
450^2^451^Place of Death--State
"DATA",160.16,2,"FIELD",771,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1.1,"I")
"DATA",160.16,2,"FIELD",771,2)
BLANK
"DATA",160.16,2,"FIELD",771,3)
L,BLANK^1942
"DATA",160.16,2,"FIELD",771,4)
PLACE OF DEATH (160,21) Pointer --> File #165.2, field #1.1 (USPS STATE CODE)
"DATA",160.16,2,"FIELD",772,0)
452^3^454^Place of Death--Country
"DATA",160.16,2,"FIELD",772,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1,"I")
"DATA",160.16,2,"FIELD",772,2)
BLANK
"DATA",160.16,2,"FIELD",772,3)
L,BLANK^1944
"DATA",160.16,2,"FIELD",772,4)
PLACE OF DEATH (160,21) Pointer --> File #165.2, field #1 (ISO COUNTRY CODE)
"DATA",160.16,2,"FIELD",773,0)
1595^1^1595^Reserved 06a
"DATA",160.16,2,"FIELD",773,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",773,2)
BLANK
"DATA",160.16,2,"FIELD",773,3)
L,BLANK
"DATA",160.16,2,"FIELD",774,0)
2195^1^2195^Reserved 07a
"DATA",160.16,2,"FIELD",774,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",774,2)
BLANK
"DATA",160.16,2,"FIELD",774,3)
L,BLANK
"DATA",160.16,2,"FIELD",775,0)
1315^2^1316^Height
"DATA",160.16,2,"FIELD",775,1)
S ACDANS=+$$GET1~DIQ(160,ACD160,1011)
"DATA",160.16,2,"FIELD",775,2)
BLANK
"DATA",160.16,2,"FIELD",775,3)
L,BLANK^9960
"DATA",160.16,2,"FIELD",775,4)
HEIGHT (160,1011)
"DATA",160.16,2,"FIELD",776,0)
1317^3^1319^Weight
"DATA",160.16,2,"FIELD",776,1)
S ACDANS=+$$GET1~DIQ(160,ACD160,1012)
"DATA",160.16,2,"FIELD",776,2)
BLANK
"DATA",160.16,2,"FIELD",776,3)
L,BLANK^9961
"DATA",160.16,2,"FIELD",776,4)
WEIGHT (160,1012)
"DATA",160.16,2,"FIELD",777,0)
1320^116^1435^Reserved 05d
"DATA",160.16,2,"FIELD",777,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",777,2)
BLANK
"DATA",160.16,2,"FIELD",777,3)
L,BLANK^1180
"DATA",160.16,2,"FIELD",778,0)
1236^7^1242^Secondary Diagnosis 1
"DATA",160.16,2,"FIELD",778,1)
S ONIEN=25.91 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",778,2)
ZERO
"DATA",160.16,2,"FIELD",778,3)
R,ZERO^3780
"DATA",160.16,2,"FIELD",778,4)
SECONDARY DIAGNOSIS 1 (160,25.91)
"DATA",160.16,2,"FIELD",779,0)
1243^7^1249^Secondary Diagnosis 2
"DATA",160.16,2,"FIELD",779,1)
S ONIEN=25.92 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",779,2)
BLANK
"DATA",160.16,2,"FIELD",779,3)
R,ZERO^3782
"DATA",160.16,2,"FIELD",779,4)
SECONDARY DIAGNOSIS 2 (160,25.92)
"DATA",160.16,2,"FIELD",780,0)
1250^7^1256^Secondary Diagnosis 3
"DATA",160.16,2,"FIELD",780,1)
S ONIEN=25.93 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",780,2)
BLANK
"DATA",160.16,2,"FIELD",780,3)
R,ZERO^3784
"DATA",160.16,2,"FIELD",780,4)
SECONDARY DIAGNOSIS 3 (160,25.93)
"DATA",160.16,2,"FIELD",781,0)
1257^7^1263^Secondary Diagnosis 4
"DATA",160.16,2,"FIELD",781,1)
S ONIEN=25.94 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",781,2)
BLANK
"DATA",160.16,2,"FIELD",781,3)
R,ZERO^3786
"DATA",160.16,2,"FIELD",781,4)
SECONDARY DIAGNOSIS 4 (160,25.94)
"DATA",160.16,2,"FIELD",782,0)
1264^7^1270^Secondary Diagnosis 5
"DATA",160.16,2,"FIELD",782,1)
S ONIEN=25.95 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",782,2)
BLANK
"DATA",160.16,2,"FIELD",782,3)
R,ZERO^3788
"DATA",160.16,2,"FIELD",782,4)
SECONDARY DIAGNOSIS 5 (160,25.95)
"DATA",160.16,2,"FIELD",783,0)
1271^7^1277^Secondary Diagnosis 6
"DATA",160.16,2,"FIELD",783,1)
S ONIEN=25.96 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",783,2)
BLANK
"DATA",160.16,2,"FIELD",783,3)
R,ZERO^3790
"DATA",160.16,2,"FIELD",783,4)
SECONDARY DIAGNOSIS 6 (160,25.96)
"DATA",160.16,2,"FIELD",784,0)
1278^7^1284^Secondary Diagnosis 7
"DATA",160.16,2,"FIELD",784,1)
S ONIEN=25.97 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",784,2)
BLANK
"DATA",160.16,2,"FIELD",784,3)
R,ZERO^3792
"DATA",160.16,2,"FIELD",784,4)
SECONDARY DIAGNOSIS 7 (160,25.97)
"DATA",160.16,2,"FIELD",785,0)
1285^7^1291^Secondary Diagnosis 8
"DATA",160.16,2,"FIELD",785,1)
S ONIEN=25.98 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",785,2)
BLANK
"DATA",160.16,2,"FIELD",785,3)
R,ZERO^3794
"DATA",160.16,2,"FIELD",785,4)
SECONDARY DIAGNOSIS 8 (160,25.98)
"DATA",160.16,2,"FIELD",786,0)
1292^7^1298^Secondary Diagnosis 9
"DATA",160.16,2,"FIELD",786,1)
S ONIEN=25.99 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",786,2)
BLANK
"DATA",160.16,2,"FIELD",786,3)
R,ZERO^3796
"DATA",160.16,2,"FIELD",786,4)
SECONDARY DIAGNOSIS 9 (160,25.99)
"DATA",160.16,2,"FIELD",787,0)
1299^7^1305^Secondary Diagnosis 10
"DATA",160.16,2,"FIELD",787,1)
S ONIEN=25.9901 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,2,"FIELD",787,2)
BLANK
"DATA",160.16,2,"FIELD",787,3)
R,ZERO^3798
"DATA",160.16,2,"FIELD",787,4)
SECONDARY DIAGNOSIS 10 (160,25.9901)
"DATA",160.16,2,"FIELD",788,0)
1306^9^1314^Reserved 05
"DATA",160.16,2,"FIELD",788,1)
S ACDANS=""
"DATA",160.16,2,"FIELD",788,2)
BLANK
"DATA",160.16,2,"FIELD",788,3)
L,BLANK^1180
"DATA",160.16,2,"FIELD",789,0)
549^1^549^Behavior (92-00) ICD-O-2
"DATA",160.16,2,"FIELD",789,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$E($$GET1~DIQ(165.5,IEN,22,"I"),5),1:"") K DATEDX
"DATA",160.16,2,"FIELD",789,2)
BLANK
"DATA",160.16,2,"FIELD",789,3)
L,ZERO^430
"DATA",160.16,2,"FIELD",789,4)
HISTOLOGY (ICD-O-2) (165.5,22) Last digit
"DATA",160.16,2,"FIELD",790,0)
554^1^554^Behavior Code ICD-O-3
"DATA",160.16,2,"FIELD",790,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,22.3,"I"),5)
"DATA",160.16,2,"FIELD",790,2)
BLANK
"DATA",160.16,2,"FIELD",790,3)
L,ZERO^523
"DATA",160.16,2,"FIELD",790,4)
HISTOLOGY (ICD-O-3) (165.5,22.3) Last digit
"DATA",160.16,2,"RULES",0)
^160.162^15^15^3131120^^^^
"DATA",160.16,2,"RULES",1,0)
S VALID=1
"DATA",160.16,2,"RULES",2,0)
S CLASSOFCASE=$E($$GET1^DIQ(165.5,IEN,.04),1,2)
"DATA",160.16,2,"RULES",3,0)
S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"DATA",160.16,2,"RULES",4,0)
S TPG=$$GET1^DIQ(165.5,IEN,20,"I")
"DATA",160.16,2,"RULES",5,0)
S ICD3=$$GET1^DIQ(165.5,IEN,22.3,"I")
"DATA",160.16,2,"RULES",6,0)
I $$GET1^DIQ(165.5,IEN,91,"I")<3 S VALID=0
"DATA",160.16,2,"RULES",7,0)
I $G(ACO)=1,CLASSOFCASE>22 S VALID=0
"DATA",160.16,2,"RULES",8,0)
I (ICD3=81482)!(ICD3=80772) S VALID=0
"DATA",160.16,2,"RULES",9,0)
I $E(TPG,3,4)=53,(ICD3=80102)!(80702) S VALID=0
"DATA",160.16,2,"RULES",10,0)
I $E(TPG,3,4)=44,DATEDX>3021231,($E(ICD3,1,4)>7999)&($E(ICD3,1,4)<8111) S VALID=0
"DATA",160.16,2,"RULES",11,0)
S STDX=$S($$GET1^DIQ(165.5,IEN,16,"I")'="":$$GET1^DIQ(5,$$GET1^DIQ(165.5,IEN,16,"I"),1,"I"),1:"")
"DATA",160.16,2,"RULES",12,0)
I STDX'=ACDSTATE S VALID=0
"DATA",160.16,2,"RULES",13,0)
S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"DATA",160.16,2,"RULES",14,0)
S:VALID VALID=$S($E(TPG,3,4)=70:1,$E(TPG,3,4)=71:1,$E(TPG,3,4)=72:1,$E(TPG,3,5)=751:1,$E(TPG,3,5)=753:1,$$BEHAV^ONCACDU1(IEN)=2:1,$$BEHAV^ONCACDU1(IEN)=3:1,1:0)
"DATA",160.16,2,"RULES",15,0)
S JUMP=0
"DATA",160.16,3,0)
VACCR EXTRACT V14.0
"DATA",160.16,3,"FIELD",0)
^160.161I^827^624
"DATA",160.16,3,"FIELD",1,0)
1^1^1^Record Type
"DATA",160.16,3,"FIELD",1,1)
S ACDANS="A"
"DATA",160.16,3,"FIELD",1,2)
BLANK
"DATA",160.16,3,"FIELD",1,3)
L,BLANK^10
"DATA",160.16,3,"FIELD",1,4)
"A" Full case Abstract record type (incidence and confidential data plus text summaries; used for reporting to central registries) Length = 22824
"DATA",160.16,3,"FIELD",2,0)
42^8^49^Patient ID Number
"DATA",160.16,3,"FIELD",2,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",2,2)
BLANK
"DATA",160.16,3,"FIELD",2,3)
L,BLANK^20
"DATA",160.16,3,"FIELD",3,0)
2^1^2^Registry Type
"DATA",160.16,3,"FIELD",3,1)
S ACDANS=3
"DATA",160.16,3,"FIELD",3,2)
BLANK
"DATA",160.16,3,"FIELD",3,3)
L,BLANK^30
"DATA",160.16,3,"FIELD",3,4)
3 Single hospital/freestanding center
"DATA",160.16,3,"FIELD",5,0)
17^3^19^NAACCR Record Version
"DATA",160.16,3,"FIELD",5,1)
S ACDANS=140
"DATA",160.16,3,"FIELD",5,2)
BLANK
"DATA",160.16,3,"FIELD",5,3)
L,BLANK^50
"DATA",160.16,3,"FIELD",5,4)
14.0
"DATA",160.16,3,"FIELD",6,0)
30^10^39^Registry Id
"DATA",160.16,3,"FIELD",6,1)
S ACDANS=STAT1
"DATA",160.16,3,"FIELD",6,2)
ZERO
"DATA",160.16,3,"FIELD",6,3)
L,ZERO^40
"DATA",160.16,3,"FIELD",6,4)
INSTITUTION ID NUMBER (160.1,27)
"DATA",160.16,3,"FIELD",18,0)
147^9^155^Addr at DX--Postal Code
"DATA",160.16,3,"FIELD",18,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,9,"I") D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",18,2)
BLANK
"DATA",160.16,3,"FIELD",18,3)
R,BLANK^100
"DATA",160.16,3,"FIELD",18,4)
POSTAL CODE AT DX (165.5,9)
"DATA",160.16,3,"FIELD",26,0)
168^6^173^Census Tract 2000
"DATA",160.16,3,"FIELD",26,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,3,"FIELD",26,2)
BLANK
"DATA",160.16,3,"FIELD",26,3)
L,BLANK^130
"DATA",160.16,3,"FIELD",26,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,3,"FIELD",29,0)
175^1^175^Census Tr Certainty 2000
"DATA",160.16,3,"FIELD",29,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",29,2)
BLANK
"DATA",160.16,3,"FIELD",29,3)
L,BLANK^365
"DATA",160.16,3,"FIELD",30,0)
176^1^176^Marital Status at DX
"DATA",160.16,3,"FIELD",30,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,11,"I")
"DATA",160.16,3,"FIELD",30,2)
BLANK
"DATA",160.16,3,"FIELD",30,3)
L,BLANK^150
"DATA",160.16,3,"FIELD",30,4)
MARITAL STATUS AT DX (165.5,11)
"DATA",160.16,3,"FIELD",31,0)
177^2^178^Race 1
"DATA",160.16,3,"FIELD",31,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8,"I")
"DATA",160.16,3,"FIELD",31,2)
BLANK
"DATA",160.16,3,"FIELD",31,3)
L,ZERO^160
"DATA",160.16,3,"FIELD",31,4)
RACE 1 (160,8)
"DATA",160.16,3,"FIELD",32,0)
217^100^316^Text--Usual Occupation
"DATA",160.16,3,"FIELD",32,1)
S ACDANS=$$OCCUP~ONCACDU1(ACD160)
"DATA",160.16,3,"FIELD",32,2)
BLANK
"DATA",160.16,3,"FIELD",32,3)
R,BLANK^310
"DATA",160.16,3,"FIELD",32,4)
USUAL OCCUPATION (160.042,.01)
"DATA",160.16,3,"FIELD",33,0)
317^100^416^Text--Usual Industry
"DATA",160.16,3,"FIELD",33,1)
S ACDANS=$$IND~ONCACDU1(ACD160)
"DATA",160.16,3,"FIELD",33,2)
BLANK
"DATA",160.16,3,"FIELD",33,3)
R,BLANK^320
"DATA",160.16,3,"FIELD",33,4)
USUAL INDUSTRY (160.042,3)
"DATA",160.16,3,"FIELD",41,0)
540^4^543^Primary Site
"DATA",160.16,3,"FIELD",41,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,20,"I") S:ACDANS'="" ACDANS=$TR($$GET1~DIQ(164,ACDANS,1,"I"),".","")
"DATA",160.16,3,"FIELD",41,2)
BLANK
"DATA",160.16,3,"FIELD",41,3)
L,ZERO^400
"DATA",160.16,3,"FIELD",41,4)
PRIMARY SITE (165.5,20)
"DATA",160.16,3,"FIELD",42,0)
544^1^544^Laterality
"DATA",160.16,3,"FIELD",42,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,28,"I")
"DATA",160.16,3,"FIELD",42,2)
BLANK
"DATA",160.16,3,"FIELD",42,3)
L,BLANK^410
"DATA",160.16,3,"FIELD",42,4)
LATERALITY (165.5,28)
"DATA",160.16,3,"FIELD",43,0)
545^4^548^Histology (92-00) ICD-O-2
"DATA",160.16,3,"FIELD",43,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$E($$GET1~DIQ(165.5,IEN,22,"I"),1,4),1:"") K DATEDX
"DATA",160.16,3,"FIELD",43,2)
BLANK
"DATA",160.16,3,"FIELD",43,3)
L,ZERO^420
"DATA",160.16,3,"FIELD",43,4)
HISTOLOGY (ICD-O-2) (165.5,22) First 4 digits
"DATA",160.16,3,"FIELD",45,0)
555^1^555^Grade
"DATA",160.16,3,"FIELD",45,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24,"I")
"DATA",160.16,3,"FIELD",45,2)
BLANK
"DATA",160.16,3,"FIELD",45,3)
L,ZERO^440
"DATA",160.16,3,"FIELD",45,4)
GRADE/DIFFERENTIATION (165.5,24)
"DATA",160.16,3,"FIELD",46,0)
558^1^558^Site Coding Sys--Current
"DATA",160.16,3,"FIELD",46,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,3,"FIELD",46,2)
BLANK
"DATA",160.16,3,"FIELD",46,3)
L,ZERO^450
"DATA",160.16,3,"FIELD",46,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,3,"FIELD",47,0)
559^1^559^Site Coding Sys--Original
"DATA",160.16,3,"FIELD",47,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:5,1:4) K DATEDX
"DATA",160.16,3,"FIELD",47,2)
BLANK
"DATA",160.16,3,"FIELD",47,3)
L,ZERO^460
"DATA",160.16,3,"FIELD",47,4)
4 = ICD-O, Second Edition; 5 = ICD-O, Third Edition
"DATA",160.16,3,"FIELD",48,0)
560^1^560^Morph Coding Sys--Current
"DATA",160.16,3,"FIELD",48,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3091231:8,DATEDX>3001231:7,1:6)
"DATA",160.16,3,"FIELD",48,2)
BLANK
"DATA",160.16,3,"FIELD",48,3)
L,ZERO^470
"DATA",160.16,3,"FIELD",48,4)
6 = ICD-O, 2nd Ed, plus FAB codes effective 1/1/98; 7 = ICD-O, 3rd Ed; 8 = ICD-O, 3rd Ed, plus 2008 WHO hematopoietic/lymphoid new terms
"DATA",160.16,3,"FIELD",49,0)
561^1^561^Morph Coding Sys--Originl
"DATA",160.16,3,"FIELD",49,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3091231:8,DATEDX>3001231:7,1:6)
"DATA",160.16,3,"FIELD",49,2)
BLANK
"DATA",160.16,3,"FIELD",49,3)
L,ZERO^480
"DATA",160.16,3,"FIELD",49,4)
6 = ICD-O, 2nd Ed, plus FAB codes effective 1/1/98; 7 = ICD-O, 3rd Ed; 8 = ICD-O, 3rd Ed, plus 2008 WHO hematopoietic/lymphoid new terms
"DATA",160.16,3,"FIELD",50,0)
562^1^562^Diagnostic Confirmation
"DATA",160.16,3,"FIELD",50,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,26,"I")
"DATA",160.16,3,"FIELD",50,2)
BLANK
"DATA",160.16,3,"FIELD",50,3)
L,ZERO^490
"DATA",160.16,3,"FIELD",50,4)
DIAGNOSTIC CONFIRMATION (165.5,26)
"DATA",160.16,3,"FIELD",51,0)
563^1^563^Type of Reporting Source
"DATA",160.16,3,"FIELD",51,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1.2,"I")
"DATA",160.16,3,"FIELD",51,2)
BLANK
"DATA",160.16,3,"FIELD",51,3)
L,BLANK^500
"DATA",160.16,3,"FIELD",51,4)
TYPE OF REPORTING SOURCE (165.5,1.2)
"DATA",160.16,3,"FIELD",54,0)
550^4^553^Histologic Type ICD-O-3
"DATA",160.16,3,"FIELD",54,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,22.3,"I"),1,4)
"DATA",160.16,3,"FIELD",54,2)
BLANK
"DATA",160.16,3,"FIELD",54,3)
L,ZERO^522
"DATA",160.16,3,"FIELD",54,4)
HISTOLOGY (ICD-O-3) (165.5,22.3) First 4 digits
"DATA",160.16,3,"FIELD",57,0)
740^2^741^Sequence Number--Hospital
"DATA",160.16,3,"FIELD",57,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.06,"I")
"DATA",160.16,3,"FIELD",57,2)
BLANK
"DATA",160.16,3,"FIELD",57,3)
L,ZERO^560
"DATA",160.16,3,"FIELD",57,4)
SEQUENCE NUMBER (165.5,.06)
"DATA",160.16,3,"FIELD",58,0)
742^3^744^Abstracted By
"DATA",160.16,3,"FIELD",58,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,92,"I") S:ACDANS'="" ACDANS=$E($$GET1~DIQ(200,ACDANS,1,"I"),1,3)
"DATA",160.16,3,"FIELD",58,2)
NINE
"DATA",160.16,3,"FIELD",58,3)
R,BLANK^570
"DATA",160.16,3,"FIELD",58,4)
ABSTRACTED BY (165.5,92)
"DATA",160.16,3,"FIELD",59,0)
745^8^752^Date of 1st Contact
"DATA",160.16,3,"FIELD",59,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,155,"I") S:ACDANS="" ACDANS=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",59,2)
BLANK
"DATA",160.16,3,"FIELD",59,3)
R,BLANK^580
"DATA",160.16,3,"FIELD",59,4)
DATE OF FIRST CONTACT (165.5,155) or DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,3,"FIELD",60,0)
755^8^762^Date of Inpt Adm
"DATA",160.16,3,"FIELD",60,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,1,"I"))
"DATA",160.16,3,"FIELD",60,2)
BLANK
"DATA",160.16,3,"FIELD",60,3)
R,BLANK^590
"DATA",160.16,3,"FIELD",60,4)
DATE OF INPATIENT ADMISSION (165.5,1)
"DATA",160.16,3,"FIELD",61,0)
765^8^772^Date of Inpt Disch
"DATA",160.16,3,"FIELD",61,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,1.1,"I"))
"DATA",160.16,3,"FIELD",61,2)
BLANK
"DATA",160.16,3,"FIELD",61,3)
R,BLANK^600
"DATA",160.16,3,"FIELD",61,4)
DATE OF INPATIENT DISCHARGE (165.5,1.1)
"DATA",160.16,3,"FIELD",62,0)
776^2^777^Class of Case
"DATA",160.16,3,"FIELD",62,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,.04),1,2)
"DATA",160.16,3,"FIELD",62,2)
BLANK
"DATA",160.16,3,"FIELD",62,3)
L,BLANK^610
"DATA",160.16,3,"FIELD",62,4)
CLASS OF CASE (165.5,.04)
"DATA",160.16,3,"FIELD",64,0)
778^2^779^Primary Payer at DX
"DATA",160.16,3,"FIELD",64,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,18,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.3,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",64,2)
NINE
"DATA",160.16,3,"FIELD",64,3)
L,BLANK^630
"DATA",160.16,3,"FIELD",64,4)
PRIMARY PAYER AT DX (165.5,18)
"DATA",160.16,3,"FIELD",65,0)
711^10^720^NPI--Archive FIN
"DATA",160.16,3,"FIELD",65,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") K FACIEN S:$G(STAT1)'="" FACIEN=$O(~ONCO(160.19,"B",STAT1,0)) S ACDANS=$S(DATEDX<3070000:"",$G(FACIEN)'="":$$GET1~DIQ(160.19,FACIEN,101),1:"")
"DATA",160.16,3,"FIELD",65,2)
BLANK
"DATA",160.16,3,"FIELD",65,3)
L,BLANK^3105
"DATA",160.16,3,"FIELD",65,4)
NPI (160.19,101)
"DATA",160.16,3,"FIELD",68,0)
782^2^783^RX Hosp--Surg Prim Site
"DATA",160.16,3,"FIELD",68,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.7,"SPS")
"DATA",160.16,3,"FIELD",68,2)
NINE
"DATA",160.16,3,"FIELD",68,3)
L,ZERO^670
"DATA",160.16,3,"FIELD",68,4)
SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"DATA",160.16,3,"FIELD",69,0)
800^2^801^RX Hosp--Surg Site 98-02
"DATA",160.16,3,"FIELD",69,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,50.2,"SPS")
"DATA",160.16,3,"FIELD",69,2)
BLANK
"DATA",160.16,3,"FIELD",69,3)
L,ZERO^746
"DATA",160.16,3,"FIELD",69,4)
SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"DATA",160.16,3,"FIELD",70,0)
789^1^789^RX Hosp--Radiation
"DATA",160.16,3,"FIELD",70,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.4,"I")
"DATA",160.16,3,"FIELD",70,2)
BLANK
"DATA",160.16,3,"FIELD",70,3)
L,ZERO^690
"DATA",160.16,3,"FIELD",70,4)
RADIATION @FACILITY (165.5,51.4)
"DATA",160.16,3,"FIELD",71,0)
790^2^791^RX Hosp--Chemo
"DATA",160.16,3,"FIELD",71,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.3,"I")
"DATA",160.16,3,"FIELD",71,2)
NINE
"DATA",160.16,3,"FIELD",71,3)
L,BLANK^700
"DATA",160.16,3,"FIELD",71,4)
CHEMOTHERAPY @FAC (165.5,53.3)
"DATA",160.16,3,"FIELD",72,0)
792^2^793^RX Hosp--Hormone
"DATA",160.16,3,"FIELD",72,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.3,"I")
"DATA",160.16,3,"FIELD",72,2)
NINE
"DATA",160.16,3,"FIELD",72,3)
L,BLANK^710
"DATA",160.16,3,"FIELD",72,4)
HORMONE THERAPY @FAC (165.5,54.3)
"DATA",160.16,3,"FIELD",73,0)
794^2^795^RX Hosp--BRM
"DATA",160.16,3,"FIELD",73,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.3,"I")
"DATA",160.16,3,"FIELD",73,2)
NINE
"DATA",160.16,3,"FIELD",73,3)
L,BLANK^720
"DATA",160.16,3,"FIELD",73,4)
IMMUNOTHERAPY @FAC (165.5,55.3)
"DATA",160.16,3,"FIELD",74,0)
796^1^796^RX Hosp--Other
"DATA",160.16,3,"FIELD",74,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.3,"I")
"DATA",160.16,3,"FIELD",74,2)
BLANK
"DATA",160.16,3,"FIELD",74,3)
L,ZERO^730
"DATA",160.16,3,"FIELD",74,4)
OTHER TREATMENT @FAC (165.5,57.3)
"DATA",160.16,3,"FIELD",75,0)
797^2^798^RX Hosp--DX/Stg Proc
"DATA",160.16,3,"FIELD",75,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.4,"I")
"DATA",160.16,3,"FIELD",75,2)
ZNINE
"DATA",160.16,3,"FIELD",75,3)
L,ZERO^740
"DATA",160.16,3,"FIELD",75,4)
SURG DX/STAGING PROC @FAC (165.5,58.4)
"DATA",160.16,3,"FIELD",77,0)
905^1^905^SEER Summary Stage 1977
"DATA",160.16,3,"FIELD",77,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,3,"FIELD",77,2)
BLANK
"DATA",160.16,3,"FIELD",77,3)
L,BLANK^760
"DATA",160.16,3,"FIELD",77,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,3,"FIELD",79,0)
906^3^908^EOD--Tumor Size
"DATA",160.16,3,"FIELD",79,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,29,"I")
"DATA",160.16,3,"FIELD",79,2)
BLANK
"DATA",160.16,3,"FIELD",79,3)
L,ZERO^780
"DATA",160.16,3,"FIELD",79,4)
TUMOR SIZE (165.5,29)
"DATA",160.16,3,"FIELD",80,0)
909^2^910^EOD--Extension
"DATA",160.16,3,"FIELD",80,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30,"I")
"DATA",160.16,3,"FIELD",80,2)
BLANK
"DATA",160.16,3,"FIELD",80,3)
L,ZERO^790
"DATA",160.16,3,"FIELD",80,4)
EXTENSION (165.5,30)
"DATA",160.16,3,"FIELD",81,0)
911^2^912^EOD--Extension Prost Path
"DATA",160.16,3,"FIELD",81,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,30.1,"I")
"DATA",160.16,3,"FIELD",81,2)
BLANK
"DATA",160.16,3,"FIELD",81,3)
L,ZERO^800
"DATA",160.16,3,"FIELD",81,4)
PATHOLOGIC EXTENSION (165.5,30.1)
"DATA",160.16,3,"FIELD",82,0)
913^1^913^EOD--Lymph Node Involv
"DATA",160.16,3,"FIELD",82,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,31,"I")
"DATA",160.16,3,"FIELD",82,2)
BLANK
"DATA",160.16,3,"FIELD",82,3)
L,BLANK^810
"DATA",160.16,3,"FIELD",82,4)
LYMPH NODES (165.5,31)
"DATA",160.16,3,"FIELD",83,0)
914^2^915^Regional Nodes Positive
"DATA",160.16,3,"FIELD",83,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,32,"I")
"DATA",160.16,3,"FIELD",83,2)
BLANK
"DATA",160.16,3,"FIELD",83,3)
L,ZERO^820
"DATA",160.16,3,"FIELD",83,4)
REGIONAL LYMPH NODES POSITIVE (165.5,32)
"DATA",160.16,3,"FIELD",84,0)
916^2^917^Regional Nodes Examined
"DATA",160.16,3,"FIELD",84,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,33,"I")
"DATA",160.16,3,"FIELD",84,2)
BLANK
"DATA",160.16,3,"FIELD",84,3)
L,ZERO^830
"DATA",160.16,3,"FIELD",84,4)
REGIONAL LYMPH NODES EXAMINED (165.5,33)
"DATA",160.16,3,"FIELD",85,0)
918^13^930^EOD--Old 13 Digit
"DATA",160.16,3,"FIELD",85,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",85,2)
BLANK
"DATA",160.16,3,"FIELD",85,3)
L,BLANK^840
"DATA",160.16,3,"FIELD",86,0)
931^2^932^EOD--Old 2 Digit
"DATA",160.16,3,"FIELD",86,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",86,2)
BLANK
"DATA",160.16,3,"FIELD",86,3)
L,BLANK^850
"DATA",160.16,3,"FIELD",87,0)
933^4^936^EOD--Old 4 Digit
"DATA",160.16,3,"FIELD",87,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",87,2)
BLANK
"DATA",160.16,3,"FIELD",87,3)
L,BLANK^860
"DATA",160.16,3,"FIELD",88,0)
937^1^937^Coding System for EOD
"DATA",160.16,3,"FIELD",88,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3031231:"",1:4) K DATEDX
"DATA",160.16,3,"FIELD",88,2)
BLANK
"DATA",160.16,3,"FIELD",88,3)
L,BLANK^870
"DATA",160.16,3,"FIELD",88,4)
Blank = DATE DX 2004+; 4 = 10-Digit Extent of Disease, 1988 (1988+)
"DATA",160.16,3,"FIELD",89,0)
940^4^943^TNM Path T
"DATA",160.16,3,"FIELD",89,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,85,"I")
"DATA",160.16,3,"FIELD",89,2)
BLANK
"DATA",160.16,3,"FIELD",89,3)
R,BLANK^880
"DATA",160.16,3,"FIELD",89,4)
PATHOLOGIC T (165.5,85)
"DATA",160.16,3,"FIELD",90,0)
944^4^947^TNM Path N
"DATA",160.16,3,"FIELD",90,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,86,"I") S:ACDANS'="" ACDANS=$S(ACDANS["I+)":"0I+",ACDANS["I-)":"0I-",ACDANS["L+)":"0M+",ACDANS["L-)":"0M-",1:ACDANS)
"DATA",160.16,3,"FIELD",90,2)
BLANK
"DATA",160.16,3,"FIELD",90,3)
R,BLANK^890
"DATA",160.16,3,"FIELD",90,4)
PATHOLOGIC N (165.5,86)
"DATA",160.16,3,"FIELD",91,0)
948^4^951^TNM Path M
"DATA",160.16,3,"FIELD",91,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,87,"I")
"DATA",160.16,3,"FIELD",91,2)
BLANK
"DATA",160.16,3,"FIELD",91,3)
R,BLANK^900
"DATA",160.16,3,"FIELD",91,4)
 PATHOLOGIC M (165.5,87)
"DATA",160.16,3,"FIELD",92,0)
952^4^955^TNM Path Stage Group
"DATA",160.16,3,"FIELD",92,1)
S ACDANS=$$SG~ONCACDU1(IEN,"P")
"DATA",160.16,3,"FIELD",92,2)
BLANK
"DATA",160.16,3,"FIELD",92,3)
R,BLANK^910
"DATA",160.16,3,"FIELD",92,4)
PATHOLOGIC STAGE GROUP (165.5,88)
"DATA",160.16,3,"FIELD",93,0)
956^1^956^TNM Path Descriptor
"DATA",160.16,3,"FIELD",93,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"P")
"DATA",160.16,3,"FIELD",93,2)
ZERO
"DATA",160.16,3,"FIELD",93,3)
L,ZERO^920
"DATA",160.16,3,"FIELD",93,4)
PATHOLOGIC TNM (165.5,89.1)
"DATA",160.16,3,"FIELD",94,0)
957^1^957^TNM Path Staged By
"DATA",160.16,3,"FIELD",94,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,89,"I")
"DATA",160.16,3,"FIELD",94,2)
NINE
"DATA",160.16,3,"FIELD",94,3)
L,BLANK^930
"DATA",160.16,3,"FIELD",94,4)
STAGED BY (PATHOLOGIC STAGE) (165.5,89)
"DATA",160.16,3,"FIELD",95,0)
958^4^961^TNM Clin T
"DATA",160.16,3,"FIELD",95,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.1,"I")
"DATA",160.16,3,"FIELD",95,2)
BLANK
"DATA",160.16,3,"FIELD",95,3)
R,BLANK^940
"DATA",160.16,3,"FIELD",95,4)
CLINICAL T (165.5,37.1)
"DATA",160.16,3,"FIELD",96,0)
962^4^965^TNM Clin N
"DATA",160.16,3,"FIELD",96,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.2,"I")
"DATA",160.16,3,"FIELD",96,2)
BLANK
"DATA",160.16,3,"FIELD",96,3)
R,BLANK^950
"DATA",160.16,3,"FIELD",96,4)
CLINICAL N (165.5,37.2)
"DATA",160.16,3,"FIELD",97,0)
966^4^969^TNM Clin M
"DATA",160.16,3,"FIELD",97,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,37.3,"I")
"DATA",160.16,3,"FIELD",97,2)
BLANK
"DATA",160.16,3,"FIELD",97,3)
R,BLANK^960
"DATA",160.16,3,"FIELD",97,4)
CLINICAL M (165.5,37.3)
"DATA",160.16,3,"FIELD",98,0)
970^4^973^TNM Clin Stage Group
"DATA",160.16,3,"FIELD",98,1)
S ACDANS=$$SG~ONCACDU1(IEN,"C")
"DATA",160.16,3,"FIELD",98,2)
BLANK
"DATA",160.16,3,"FIELD",98,3)
R,BLANK^970
"DATA",160.16,3,"FIELD",98,4)
CLINICAL STAGE GROUP (165.5,38)
"DATA",160.16,3,"FIELD",99,0)
974^1^974^TNM Clin Descriptor
"DATA",160.16,3,"FIELD",99,1)
S ACDANS=$$STAGE~ONCACDU2(IEN,"C")
"DATA",160.16,3,"FIELD",99,2)
ZERO
"DATA",160.16,3,"FIELD",99,3)
L,ZERO^980
"DATA",160.16,3,"FIELD",99,4)
CLINICAL TNM (165.5,37)
"DATA",160.16,3,"FIELD",100,0)
975^1^975^TNM Clin Staged By
"DATA",160.16,3,"FIELD",100,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,19,"I")
"DATA",160.16,3,"FIELD",100,2)
NINE
"DATA",160.16,3,"FIELD",100,3)
L,BLANK^990
"DATA",160.16,3,"FIELD",100,4)
STAGED BY (CLINICAL STAGE) (165.5,19)
"DATA",160.16,3,"FIELD",107,0)
938^2^939^TNM Edition Number
"DATA",160.16,3,"FIELD",107,1)
S ACDANS=$$TNMED~ONCOU55(IEN)
"DATA",160.16,3,"FIELD",107,2)
BLANK
"DATA",160.16,3,"FIELD",107,3)
L,ZERO^1060
"DATA",160.16,3,"FIELD",107,4)
DATE DX (165.5,3)
"DATA",160.16,3,"FIELD",110,0)
2534^1^2534^Site of Distant Met 1
"DATA",160.16,3,"FIELD",110,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34,"I")
"DATA",160.16,3,"FIELD",110,2)
BLANK
"DATA",160.16,3,"FIELD",110,3)
L,BLANK^1090
"DATA",160.16,3,"FIELD",110,4)
SITE OF DISTANT METASTASIS #1 (165.5,34)
"DATA",160.16,3,"FIELD",111,0)
2535^1^2535^Site of Distant Met 2
"DATA",160.16,3,"FIELD",111,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.1,"I")
"DATA",160.16,3,"FIELD",111,2)
BLANK
"DATA",160.16,3,"FIELD",111,3)
L,BLANK^1100
"DATA",160.16,3,"FIELD",111,4)
SITE OF DISTANT METASTASIS #2 (165.5,34.1)
"DATA",160.16,3,"FIELD",112,0)
2536^1^2536^Site of Distant Met 3
"DATA",160.16,3,"FIELD",112,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.2,"I")
"DATA",160.16,3,"FIELD",112,2)
BLANK
"DATA",160.16,3,"FIELD",112,3)
L,BLANK^1110
"DATA",160.16,3,"FIELD",112,4)
SITE OF DISTANT METASTASIS #3 (165.5,34.2)
"DATA",160.16,3,"FIELD",113,0)
976^2^977^Pediatric Stage
"DATA",160.16,3,"FIELD",113,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,850,"I")
"DATA",160.16,3,"FIELD",113,2)
BLANK
"DATA",160.16,3,"FIELD",113,3)
L,BLANK^1120
"DATA",160.16,3,"FIELD",113,4)
PEDIATRIC STAGE (165.5,850)
"DATA",160.16,3,"FIELD",114,0)
978^2^979^Pediatric Staging System
"DATA",160.16,3,"FIELD",114,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,849,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.6,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",114,2)
BLANK
"DATA",160.16,3,"FIELD",114,3)
L,BLANK^1130
"DATA",160.16,3,"FIELD",114,4)
TYPE OF STAGING SYSTEM (PED) (165.5,849)
"DATA",160.16,3,"FIELD",115,0)
980^1^980^Pediatric Staged By
"DATA",160.16,3,"FIELD",115,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,851,"I")
"DATA",160.16,3,"FIELD",115,2)
BLANK
"DATA",160.16,3,"FIELD",115,3)
L,BLANK^1140
"DATA",160.16,3,"FIELD",115,4)
STAGED BY (PEDIATRIC STAGE) (165.5,851)
"DATA",160.16,3,"FIELD",116,0)
981^1^981^Tumor Marker 1
"DATA",160.16,3,"FIELD",116,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",116,2)
BLANK
"DATA",160.16,3,"FIELD",116,3)
L,BLANK^1150
"DATA",160.16,3,"FIELD",116,4)
TUMOR MARKER 1 (165.5,25.1)
"DATA",160.16,3,"FIELD",117,0)
982^1^982^Tumor Marker 2
"DATA",160.16,3,"FIELD",117,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",117,2)
BLANK
"DATA",160.16,3,"FIELD",117,3)
L,BLANK^1160
"DATA",160.16,3,"FIELD",117,4)
TUMOR MARKER 2 (165.5,25.2)
"DATA",160.16,3,"FIELD",118,0)
983^1^983^Tumor Marker 3
"DATA",160.16,3,"FIELD",118,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.15,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",118,2)
BLANK
"DATA",160.16,3,"FIELD",118,3)
L,BLANK^1170
"DATA",160.16,3,"FIELD",118,4)
TUMOR MARKER 3 (165.5,25.3)
"DATA",160.16,3,"FIELD",119,0)
1216^5^1220^Comorbid/Complication 7
"DATA",160.16,3,"FIELD",119,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.6,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",119,2)
BLANK
"DATA",160.16,3,"FIELD",119,3)
R,ZERO^3161
"DATA",160.16,3,"FIELD",119,4)
COMORBIDITY/COMPLICATION #7 (160,25.6)
"DATA",160.16,3,"FIELD",121,0)
1456^8^1463^RX Date Surgery
"DATA",160.16,3,"FIELD",121,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"))
"DATA",160.16,3,"FIELD",121,2)
BLANK
"DATA",160.16,3,"FIELD",121,3)
R,BLANK^1200
"DATA",160.16,3,"FIELD",121,4)
DATE FIRST SURGICAL PROCEDURE (165.5,170)
"DATA",160.16,3,"FIELD",122,0)
1486^8^1493^RX Date Radiation
"DATA",160.16,3,"FIELD",122,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"))
"DATA",160.16,3,"FIELD",122,2)
BLANK
"DATA",160.16,3,"FIELD",122,3)
R,BLANK^1210
"DATA",160.16,3,"FIELD",122,4)
DATE RADIATION STARTED (165.5,51)
"DATA",160.16,3,"FIELD",123,0)
1516^8^1523^RX Date Chemo
"DATA",160.16,3,"FIELD",123,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"))
"DATA",160.16,3,"FIELD",123,2)
BLANK
"DATA",160.16,3,"FIELD",123,3)
R,BLANK^1220
"DATA",160.16,3,"FIELD",123,4)
CHEMOTHERAPY DATE (165.5,53)
"DATA",160.16,3,"FIELD",124,0)
1526^8^1533^RX Date Hormone
"DATA",160.16,3,"FIELD",124,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"))
"DATA",160.16,3,"FIELD",124,2)
BLANK
"DATA",160.16,3,"FIELD",124,3)
R,BLANK^1230
"DATA",160.16,3,"FIELD",124,4)
HORMONE THERAPY DATE (165.5,54)
"DATA",160.16,3,"FIELD",125,0)
1536^8^1543^RX Date BRM
"DATA",160.16,3,"FIELD",125,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"))
"DATA",160.16,3,"FIELD",125,2)
BLANK
"DATA",160.16,3,"FIELD",125,3)
R,BLANK^1240
"DATA",160.16,3,"FIELD",125,4)
IMMUNOTHERAPY DATE (165.5,55)
"DATA",160.16,3,"FIELD",126,0)
1546^8^1553^RX Date Other
"DATA",160.16,3,"FIELD",126,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"))
"DATA",160.16,3,"FIELD",126,2)
BLANK
"DATA",160.16,3,"FIELD",126,3)
R,BLANK^1250
"DATA",160.16,3,"FIELD",126,4)
OTHER TREATMENT START DATE (165.5,57)
"DATA",160.16,3,"FIELD",127,0)
1436^8^1443^Date Initial RX SEER
"DATA",160.16,3,"FIELD",127,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",127,2)
BLANK
"DATA",160.16,3,"FIELD",127,3)
L,ZERO^1260
"DATA",160.16,3,"FIELD",128,0)
1446^8^1453^Date 1st Crs RX CoC
"DATA",160.16,3,"FIELD",128,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,49) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DATE~ONCACDU1(ACDDATE) K ACDDATE
"DATA",160.16,3,"FIELD",128,2)
BLANK
"DATA",160.16,3,"FIELD",128,3)
R,BLANK^1270
"DATA",160.16,3,"FIELD",128,4)
FIRST COURSE OF TREATMENT DATE (165.5,49)
"DATA",160.16,3,"FIELD",129,0)
1556^8^1563^RX Date DX/Stg Proc
"DATA",160.16,3,"FIELD",129,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,58.3,"I"))
"DATA",160.16,3,"FIELD",129,2)
BLANK
"DATA",160.16,3,"FIELD",129,3)
R,BLANK^1280
"DATA",160.16,3,"FIELD",129,4)
SURGICAL DX/STAGING PROC DATE (165.5,58.3)
"DATA",160.16,3,"FIELD",130,0)
1567^2^1568^RX Summ--Surg Prim Site
"DATA",160.16,3,"FIELD",130,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.6,"SPS")
"DATA",160.16,3,"FIELD",130,2)
NINE
"DATA",160.16,3,"FIELD",130,3)
L,ZERO^1290
"DATA",160.16,3,"FIELD",130,4)
SURGERY OF PRIMARY (F) (165.5,58.6)
"DATA",160.16,3,"FIELD",132,0)
1573^1^1573^RX Summ--Surgical Approch
"DATA",160.16,3,"FIELD",132,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,74,"SUA"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,3,"FIELD",132,2)
NINE
"DATA",160.16,3,"FIELD",132,3)
L,BLANK^1310
"DATA",160.16,3,"FIELD",132,4)
SURGICAL APPROACH (R) (165.5,74)
"DATA",160.16,3,"FIELD",133,0)
1574^1^1574^RX Summ--Surgical Margins
"DATA",160.16,3,"FIELD",133,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,59,"I")
"DATA",160.16,3,"FIELD",133,2)
BLANK
"DATA",160.16,3,"FIELD",133,3)
L,BLANK^1320
"DATA",160.16,3,"FIELD",133,4)
SURGICAL MARGINS (165.5,59)
"DATA",160.16,3,"FIELD",134,0)
1575^1^1575^RX Summ--Reconstruct 1st
"DATA",160.16,3,"FIELD",134,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,23,"RR5"),DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S((DATEDX<2980000)&(ACDANS=8):9,1:ACDANS) K DATEDX
"DATA",160.16,3,"FIELD",134,2)
NINE
"DATA",160.16,3,"FIELD",134,3)
L,BLANK^1330
"DATA",160.16,3,"FIELD",134,4)
RECONSTRUCTION/RESTORATION (165.5,23)
"DATA",160.16,3,"FIELD",135,0)
1576^1^1576^Reason for No Surgery
"DATA",160.16,3,"FIELD",135,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58,"I")
"DATA",160.16,3,"FIELD",135,2)
BLANK
"DATA",160.16,3,"FIELD",135,3)
L,BLANK^1340
"DATA",160.16,3,"FIELD",135,4)
REASON FOR NO SURGERY (165.5,58)
"DATA",160.16,3,"FIELD",136,0)
1577^2^1578^RX Summ--DX/Stg Proc
"DATA",160.16,3,"FIELD",136,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,58.1,"I")
"DATA",160.16,3,"FIELD",136,2)
ZNINE
"DATA",160.16,3,"FIELD",136,3)
L,ZERO^1350
"DATA",160.16,3,"FIELD",136,4)
SURGICAL DX/STAGING PROC (165.5,58.1)
"DATA",160.16,3,"FIELD",137,0)
1580^1^1580^RX Summ--Radiation
"DATA",160.16,3,"FIELD",137,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.2,"I")
"DATA",160.16,3,"FIELD",137,2)
BLANK
"DATA",160.16,3,"FIELD",137,3)
L,ZERO^1360
"DATA",160.16,3,"FIELD",137,4)
RADIATION (165.5,51.2)
"DATA",160.16,3,"FIELD",138,0)
1581^1^1581^RX Summ--Rad to CNS
"DATA",160.16,3,"FIELD",138,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,52.2,"I")
"DATA",160.16,3,"FIELD",138,2)
BLANK
"DATA",160.16,3,"FIELD",138,3)
L,ZERO^1370
"DATA",160.16,3,"FIELD",138,4)
RADIATION THERAPY TO CNS (165.5,52.2)
"DATA",160.16,3,"FIELD",139,0)
1582^1^1582^RX Summ--Surg/Rad Seq
"DATA",160.16,3,"FIELD",139,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,51.3,"I")
"DATA",160.16,3,"FIELD",139,2)
BLANK
"DATA",160.16,3,"FIELD",139,3)
L,ZERO^1380
"DATA",160.16,3,"FIELD",139,4)
RADIATION/SURGERY SEQUENCE (165.5,51.3)
"DATA",160.16,3,"FIELD",140,0)
1585^2^1586^RX Summ--Chemo
"DATA",160.16,3,"FIELD",140,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,53.2,"I")
"DATA",160.16,3,"FIELD",140,2)
NINE
"DATA",160.16,3,"FIELD",140,3)
L,BLANK^1390
"DATA",160.16,3,"FIELD",140,4)
CHEMOTHERAPY (165.5,53.2)
"DATA",160.16,3,"FIELD",141,0)
1587^2^1588^RX Summ--Hormone
"DATA",160.16,3,"FIELD",141,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,54.2,"I")
"DATA",160.16,3,"FIELD",141,2)
NINE
"DATA",160.16,3,"FIELD",141,3)
L,BLANK^1400
"DATA",160.16,3,"FIELD",141,4)
HORMONE THERAPY (165.5,54.2)
"DATA",160.16,3,"FIELD",142,0)
1589^2^1590^RX Summ--BRM
"DATA",160.16,3,"FIELD",142,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,55.2,"I")
"DATA",160.16,3,"FIELD",142,2)
NINE
"DATA",160.16,3,"FIELD",142,3)
L,BLANK^1410
"DATA",160.16,3,"FIELD",142,4)
IMMUNOTHERAPY (165.5,55.2)
"DATA",160.16,3,"FIELD",143,0)
1591^1^1591^RX Summ--Other
"DATA",160.16,3,"FIELD",143,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,57.2,"I")
"DATA",160.16,3,"FIELD",143,2)
BLANK
"DATA",160.16,3,"FIELD",143,3)
L,ZERO^1420
"DATA",160.16,3,"FIELD",143,4)
OTHER TREATMENT (165.5,57.2)
"DATA",160.16,3,"FIELD",144,0)
1592^1^1592^Reason for No Radiation
"DATA",160.16,3,"FIELD",144,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,75,"I")
"DATA",160.16,3,"FIELD",144,2)
NINE
"DATA",160.16,3,"FIELD",144,3)
L,BLANK^1430
"DATA",160.16,3,"FIELD",144,4)
REASON FOR NO RADIATION (165.5,75)
"DATA",160.16,3,"FIELD",147,0)
1593^2^1594^RX Coding System--Current
"DATA",160.16,3,"FIELD",147,1)
S ACDANS="06"
"DATA",160.16,3,"FIELD",147,2)
BLANK
"DATA",160.16,3,"FIELD",147,3)
L,ZERO^1460
"DATA",160.16,3,"FIELD",147,4)
06 Treatment data coded according to FORDS manual
"DATA",160.16,3,"FIELD",152,0)
1596^5^1600^Rad--Regional Dose: cGy
"DATA",160.16,3,"FIELD",152,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,442,"I")
"DATA",160.16,3,"FIELD",152,2)
NINE
"DATA",160.16,3,"FIELD",152,3)
L,ZERO^1510
"DATA",160.16,3,"FIELD",152,4)
REGIONAL DOSE: cGy (165.5,442)
"DATA",160.16,3,"FIELD",153,0)
1601^3^1603^Rad--No of Treatment Vol
"DATA",160.16,3,"FIELD",153,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,56,"I")
"DATA",160.16,3,"FIELD",153,2)
NINE
"DATA",160.16,3,"FIELD",153,3)
L,ZERO^1520
"DATA",160.16,3,"FIELD",153,4)
NUMBER OF TXS TO THIS VOLUME (165.5,56)
"DATA",160.16,3,"FIELD",155,0)
1604^2^1605^Rad--Treatment Volume
"DATA",160.16,3,"FIELD",155,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,125,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.7,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",155,2)
NINE
"DATA",160.16,3,"FIELD",155,3)
L,ZERO^1540
"DATA",160.16,3,"FIELD",155,4)
RADIATION TREATMENT VOLUME (165.5,125)
"DATA",160.16,3,"FIELD",156,0)
1606^1^1606^Rad--Location of RX
"DATA",160.16,3,"FIELD",156,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,126,"I")
"DATA",160.16,3,"FIELD",156,2)
NINE
"DATA",160.16,3,"FIELD",156,3)
L,BLANK^1550
"DATA",160.16,3,"FIELD",156,4)
LOCATION OF RADIATION TX (165.5,126)
"DATA",160.16,3,"FIELD",158,0)
1607^2^1608^Rad--Regional RX Modality
"DATA",160.16,3,"FIELD",158,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",158,2)
BLANK
"DATA",160.16,3,"FIELD",158,3)
L,ZERO^1570
"DATA",160.16,3,"FIELD",158,4)
REGIONAL TREATMENT MODALITY (165.5,363)
"DATA",160.16,3,"FIELD",164,0)
1616^1^1616^RX Summ--Systemic Sur Seq
"DATA",160.16,3,"FIELD",164,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,15,"I")
"DATA",160.16,3,"FIELD",164,2)
BLANK
"DATA",160.16,3,"FIELD",164,3)
L,BLANK^1639
"DATA",160.16,3,"FIELD",164,4)
SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"DATA",160.16,3,"FIELD",165,0)
1617^2^1618^RX Summ--Surgery Type
"DATA",160.16,3,"FIELD",165,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",165,2)
BLANK
"DATA",160.16,3,"FIELD",165,3)
L,BLANK^1640
"DATA",160.16,3,"FIELD",166,0)
1624^100^1723^Reserved 06
"DATA",160.16,3,"FIELD",166,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",166,2)
BLANK
"DATA",160.16,3,"FIELD",166,3)
L,BLANK^1190
"DATA",160.16,3,"FIELD",167,0)
1724^8^1731^Subsq RX 2nd Course Date
"DATA",160.16,3,"FIELD",167,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",167,2)
BLANK
"DATA",160.16,3,"FIELD",167,3)
R,BLANK^1660
"DATA",160.16,3,"FIELD",167,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,3,"FIELD",168,0)
1734^2^1735^Subsq RX 2nd Course Surg
"DATA",160.16,3,"FIELD",168,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.04)
"DATA",160.16,3,"FIELD",168,2)
BLANK
"DATA",160.16,3,"FIELD",168,3)
L,ZERO^1671
"DATA",160.16,3,"FIELD",168,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,3,"FIELD",169,0)
1740^1^1740^Subsq RX 2nd Course Rad
"DATA",160.16,3,"FIELD",169,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.05)
"DATA",160.16,3,"FIELD",169,2)
BLANK
"DATA",160.16,3,"FIELD",169,3)
L,BLANK^1672
"DATA",160.16,3,"FIELD",169,4)
RADIATION (165.51,.05)
"DATA",160.16,3,"FIELD",170,0)
1741^1^1741^Subsq RX 2nd Course Chemo
"DATA",160.16,3,"FIELD",170,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.06)
"DATA",160.16,3,"FIELD",170,2)
BLANK
"DATA",160.16,3,"FIELD",170,3)
L,BLANK^1673
"DATA",160.16,3,"FIELD",170,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,3,"FIELD",171,0)
1742^1^1742^Subsq RX 2nd Course Horm
"DATA",160.16,3,"FIELD",171,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.07)
"DATA",160.16,3,"FIELD",171,2)
BLANK
"DATA",160.16,3,"FIELD",171,3)
L,BLANK^1674
"DATA",160.16,3,"FIELD",171,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,3,"FIELD",172,0)
1743^1^1743^Subsq RX 2nd Course BRM
"DATA",160.16,3,"FIELD",172,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.08)
"DATA",160.16,3,"FIELD",172,2)
BLANK
"DATA",160.16,3,"FIELD",172,3)
L,BLANK^1675
"DATA",160.16,3,"FIELD",172,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,3,"FIELD",173,0)
1744^1^1744^Subsq RX 2nd Course Oth
"DATA",160.16,3,"FIELD",173,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.09)
"DATA",160.16,3,"FIELD",173,2)
BLANK
"DATA",160.16,3,"FIELD",173,3)
L,BLANK^1676
"DATA",160.16,3,"FIELD",173,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,3,"FIELD",174,0)
1745^8^1752^Subsq RX 3rd Course Date
"DATA",160.16,3,"FIELD",174,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",174,2)
BLANK
"DATA",160.16,3,"FIELD",174,3)
R,BLANK^1680
"DATA",160.16,3,"FIELD",174,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,3,"FIELD",175,0)
1755^2^1756^Subsq RX 3rd Course Surg
"DATA",160.16,3,"FIELD",175,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.04)
"DATA",160.16,3,"FIELD",175,2)
BLANK
"DATA",160.16,3,"FIELD",175,3)
L,ZERO^1691
"DATA",160.16,3,"FIELD",175,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,3,"FIELD",176,0)
1761^1^1761^Subsq RX 3rd Course Rad
"DATA",160.16,3,"FIELD",176,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.05)
"DATA",160.16,3,"FIELD",176,2)
BLANK
"DATA",160.16,3,"FIELD",176,3)
L,BLANK^1692
"DATA",160.16,3,"FIELD",176,4)
RADIATION (165.51,.05)
"DATA",160.16,3,"FIELD",177,0)
1762^1^1762^Subsq RX 3rd Course Chemo
"DATA",160.16,3,"FIELD",177,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.06)
"DATA",160.16,3,"FIELD",177,2)
BLANK
"DATA",160.16,3,"FIELD",177,3)
L,BLANK^1693
"DATA",160.16,3,"FIELD",177,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,3,"FIELD",178,0)
1763^1^1763^Subsq RX 3rd Course Horm
"DATA",160.16,3,"FIELD",178,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.07)
"DATA",160.16,3,"FIELD",178,2)
BLANK
"DATA",160.16,3,"FIELD",178,3)
L,BLANK^1694
"DATA",160.16,3,"FIELD",178,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,3,"FIELD",179,0)
1764^1^1764^Subsq RX 3rd Course BRM
"DATA",160.16,3,"FIELD",179,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.08)
"DATA",160.16,3,"FIELD",179,2)
BLANK
"DATA",160.16,3,"FIELD",179,3)
L,BLANK^1695
"DATA",160.16,3,"FIELD",179,4)
IMMUNOTHERAPY (165.51,.08)
"DATA",160.16,3,"FIELD",180,0)
1765^1^1765^Subsq RX 3rd Course Oth
"DATA",160.16,3,"FIELD",180,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,.09)
"DATA",160.16,3,"FIELD",180,2)
BLANK
"DATA",160.16,3,"FIELD",180,3)
L,BLANK^1696
"DATA",160.16,3,"FIELD",180,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,3,"FIELD",181,0)
1766^8^1773^Subsq RX 4th Course Date
"DATA",160.16,3,"FIELD",181,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",181,2)
BLANK
"DATA",160.16,3,"FIELD",181,3)
R,BLANK^1700
"DATA",160.16,3,"FIELD",181,4)
INITIATION DATE (165.51,.01)
"DATA",160.16,3,"FIELD",182,0)
1776^2^1777^Subsq RX 4th Course Surg
"DATA",160.16,3,"FIELD",182,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.04)
"DATA",160.16,3,"FIELD",182,2)
BLANK
"DATA",160.16,3,"FIELD",182,3)
L,ZERO^1711
"DATA",160.16,3,"FIELD",182,4)
SURGERY OF PRIMARY SITE (165.51,.04)
"DATA",160.16,3,"FIELD",183,0)
1782^1^1782^Subsq RX 4th Course Rad
"DATA",160.16,3,"FIELD",183,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.05)
"DATA",160.16,3,"FIELD",183,2)
BLANK
"DATA",160.16,3,"FIELD",183,3)
L,BLANK^1712
"DATA",160.16,3,"FIELD",183,4)
RADIATION (165.51,.05)
"DATA",160.16,3,"FIELD",184,0)
1783^1^1783^Subsq RX 4th Course Chemo
"DATA",160.16,3,"FIELD",184,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.06)
"DATA",160.16,3,"FIELD",184,2)
BLANK
"DATA",160.16,3,"FIELD",184,3)
L,BLANK^1713
"DATA",160.16,3,"FIELD",184,4)
CHEMOTHERAPY (165.51,.06)
"DATA",160.16,3,"FIELD",185,0)
1784^1^1784^Subsq RX 4th Course Horm
"DATA",160.16,3,"FIELD",185,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.07)
"DATA",160.16,3,"FIELD",185,2)
BLANK
"DATA",160.16,3,"FIELD",185,3)
L,BLANK^1714
"DATA",160.16,3,"FIELD",185,4)
HORMONE THERAPY (165.51,.07)
"DATA",160.16,3,"FIELD",186,0)
1785^1^1785^Subsq RX 4th Course BRM
"DATA",160.16,3,"FIELD",186,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.08)
"DATA",160.16,3,"FIELD",186,2)
BLANK
"DATA",160.16,3,"FIELD",186,3)
L,BLANK^1715
"DATA",160.16,3,"FIELD",186,4)
IMMUNOTHERAPY (165.5,.08)
"DATA",160.16,3,"FIELD",187,0)
1786^1^1786^Subsq RX 4th Course Oth
"DATA",160.16,3,"FIELD",187,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,.09)
"DATA",160.16,3,"FIELD",187,2)
BLANK
"DATA",160.16,3,"FIELD",187,3)
L,BLANK^1716
"DATA",160.16,3,"FIELD",187,4)
OTHER TREATMENT (165.51,.09)
"DATA",160.16,3,"FIELD",188,0)
1033^3^1035^CS Site-Specific Factor 11
"DATA",160.16,3,"FIELD",188,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.11,"I")) K DATEDX
"DATA",160.16,3,"FIELD",188,2)
BLANK
"DATA",160.16,3,"FIELD",188,3)
L,BLANK^2865
"DATA",160.16,3,"FIELD",188,4)
SITE-SPECIFIC FACTOR 11 (CS) (165.5,44.11)
"DATA",160.16,3,"FIELD",195,0)
1788^100^1887^Reserved 07
"DATA",160.16,3,"FIELD",195,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",195,2)
BLANK
"DATA",160.16,3,"FIELD",195,3)
L,BLANK^1300
"DATA",160.16,3,"FIELD",196,0)
2116^8^2123^Date of Last Contact
"DATA",160.16,3,"FIELD",196,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",196,2)
BLANK
"DATA",160.16,3,"FIELD",196,3)
R,BLANK^1750
"DATA",160.16,3,"FIELD",196,4)
DATE OF LAST CONTACT OR DEATH (160.04,.01)
"DATA",160.16,3,"FIELD",197,0)
2126^1^2126^Vital Status
"DATA",160.16,3,"FIELD",197,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,1),VS=ACDANS
"DATA",160.16,3,"FIELD",197,2)
BLANK
"DATA",160.16,3,"FIELD",197,3)
L,BLANK^1760
"DATA",160.16,3,"FIELD",197,4)
VITAL STATUS (160.04,1)
"DATA",160.16,3,"FIELD",198,0)
2127^1^2127^Cancer Status
"DATA",160.16,3,"FIELD",198,1)
S ACDANS=$$CS~ONCACDU2(IEN)
"DATA",160.16,3,"FIELD",198,2)
BLANK
"DATA",160.16,3,"FIELD",198,3)
L,BLANK^1770
"DATA",160.16,3,"FIELD",198,4)
CANCER STATUS (165.573,.02)
"DATA",160.16,3,"FIELD",199,0)
2128^1^2128^Quality of Survival
"DATA",160.16,3,"FIELD",199,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,4)
"DATA",160.16,3,"FIELD",199,2)
BLANK
"DATA",160.16,3,"FIELD",199,3)
L,BLANK^1780
"DATA",160.16,3,"FIELD",199,4)
QUALITY OF SURVIVAL (160.04,4)
"DATA",160.16,3,"FIELD",200,0)
2129^1^2129^Follow-Up Source
"DATA",160.16,3,"FIELD",200,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,3)
"DATA",160.16,3,"FIELD",200,2)
BLANK
"DATA",160.16,3,"FIELD",200,3)
L,BLANK^1790
"DATA",160.16,3,"FIELD",200,4)
FOLLOW-UP SOURCE (160.04,3)
"DATA",160.16,3,"FIELD",201,0)
2130^1^2130^Next Follow-up Source
"DATA",160.16,3,"FIELD",201,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,6)
"DATA",160.16,3,"FIELD",201,2)
BLANK
"DATA",160.16,3,"FIELD",201,3)
L,BLANK^1800
"DATA",160.16,3,"FIELD",201,4)
NEXT FOLLOW-UP SOURCE (160.04,6)
"DATA",160.16,3,"FIELD",202,0)
2131^50^2180^Addr Current--City
"DATA",160.16,3,"FIELD",202,1)
S ACDANS=$$CCTST~ONCACDU2(ACD160) S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,3,"FIELD",202,2)
BLANK
"DATA",160.16,3,"FIELD",202,3)
R,BLANK^1810
"DATA",160.16,3,"FIELD",202,4)
CITY (2,.114)
"DATA",160.16,3,"FIELD",203,0)
2181^2^2182^Addr Current--State
"DATA",160.16,3,"FIELD",203,1)
S ACDANS=$$CSTST~ONCACDU2(ACD160) S:ACDANS="" ACDANS="ZZ"
"DATA",160.16,3,"FIELD",203,2)
BLANK
"DATA",160.16,3,"FIELD",203,3)
R,BLANK^1820
"DATA",160.16,3,"FIELD",203,4)
STATE (2,.115)
"DATA",160.16,3,"FIELD",204,0)
2183^9^2191^Addr Current--Postal Code
"DATA",160.16,3,"FIELD",204,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.116,"E") S:ACDANS=75999 ACDANS=999999999 D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",204,2)
NINE
"DATA",160.16,3,"FIELD",204,3)
R,BLANK^1830
"DATA",160.16,3,"FIELD",204,4)
ZIP CODE (160,.116)
"DATA",160.16,3,"FIELD",206,0)
2290^2^2291^Unusual Follow-Up Method
"DATA",160.16,3,"FIELD",206,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,7)
"DATA",160.16,3,"FIELD",206,2)
BLANK
"DATA",160.16,3,"FIELD",206,3)
L,BLANK^1850
"DATA",160.16,3,"FIELD",206,4)
UNUSUAL FOLLOW-UP METHOD (160.04,7)
"DATA",160.16,3,"FIELD",207,0)
2196^8^2203^Recurrence Date--1st
"DATA",160.16,3,"FIELD",207,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,70,"I"))
"DATA",160.16,3,"FIELD",207,2)
BLANK
"DATA",160.16,3,"FIELD",207,3)
R,BLANK^1860
"DATA",160.16,3,"FIELD",207,4)
DATE OF FIRST RECURRENCE (165.5,70)
"DATA",160.16,3,"FIELD",208,0)
2537^1^2537^Recurrence Distant Site 1
"DATA",160.16,3,"FIELD",208,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.1,"I")
"DATA",160.16,3,"FIELD",208,2)
BLANK
"DATA",160.16,3,"FIELD",208,3)
L,BLANK^1871
"DATA",160.16,3,"FIELD",208,4)
DISTANT SITE 1 (165.5,71.1)
"DATA",160.16,3,"FIELD",209,0)
2206^2^2207^Recurrence Type--1st
"DATA",160.16,3,"FIELD",209,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.12,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",209,2)
NINE
"DATA",160.16,3,"FIELD",209,3)
L,ZERO^1880
"DATA",160.16,3,"FIELD",209,4)
TYPE OF FIRST RECURRENCE (165.5,71)
"DATA",160.16,3,"FIELD",211,0)
2192^3^2194^County--Current
"DATA",160.16,3,"FIELD",211,1)
S ACDANS=$$CCOUNTY~ONCACDU2(ACD160)
"DATA",160.16,3,"FIELD",211,2)
NINE
"DATA",160.16,3,"FIELD",211,3)
L,BLANK^1840
"DATA",160.16,3,"FIELD",211,4)
COUNTY (2,.117)
"DATA",160.16,3,"FIELD",213,0)
2269^4^2272^Cause of Death
"DATA",160.16,3,"FIELD",213,1)
S ACDANS=$S(VS=0:7777,1:"0000")
"DATA",160.16,3,"FIELD",213,2)
BLANK
"DATA",160.16,3,"FIELD",213,3)
L,ZERO^1910
"DATA",160.16,3,"FIELD",213,4)
7777 if VITAL STATUS = 0.  Else, 0000.
"DATA",160.16,3,"FIELD",214,0)
2273^1^2273^ICD Revision Number
"DATA",160.16,3,"FIELD",214,1)
S XDLC=$$FNODE~ONCACDU2(ACD160,.01),ACDANS=$S(VS=1:0,(VS=0)&(XDLC>2999999):1,1:9) K XDLC
"DATA",160.16,3,"FIELD",214,2)
BLANK
"DATA",160.16,3,"FIELD",214,3)
L,ZERO^1920
"DATA",160.16,3,"FIELD",214,4)
0 if VITAL STATUS = 1, 1 if VITAL STATUS = 0 and DATE OF LAST CONTACT > 1999, 9 if VITAL STATUS = 0 and DATE OF LAST CONTACT < 2000
"DATA",160.16,3,"FIELD",215,0)
2274^1^2274^Autopsy
"DATA",160.16,3,"FIELD",215,1)
S ACDANS=$$GET1~DIQ(160,ACD160,22.9,"I") I ACDANS="",VS=1 S ACDANS=0
"DATA",160.16,3,"FIELD",215,2)
BLANK
"DATA",160.16,3,"FIELD",215,3)
L,BLANK^1930
"DATA",160.16,3,"FIELD",215,4)
AUTOPSY (160,22.9)
"DATA",160.16,3,"FIELD",216,0)
2275^3^2277^Place of Death
"DATA",160.16,3,"FIELD",216,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,.02,"I") I ACDANS="",VS=1 S ACDANS=997
"DATA",160.16,3,"FIELD",216,2)
BLANK
"DATA",160.16,3,"FIELD",216,3)
L,BLANK^1940
"DATA",160.16,3,"FIELD",216,4)
PLACE OF DEATH (160,21)
"DATA",160.16,3,"FIELD",218,0)
1909^4^1912^Site (73-91) ICD-O-1
"DATA",160.16,3,"FIELD",218,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",218,2)
BLANK
"DATA",160.16,3,"FIELD",218,3)
L,BLANK^1960
"DATA",160.16,3,"FIELD",219,0)
1913^6^1918^Morph (73-91) ICD-O-1
"DATA",160.16,3,"FIELD",219,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",219,2)
BLANK
"DATA",160.16,3,"FIELD",219,3)
L,BLANK^1970
"DATA",160.16,3,"FIELD",220,0)
1919^1^1919^ICD-O-2 Conversion Flag
"DATA",160.16,3,"FIELD",220,1)
S ACDANS=4
"DATA",160.16,3,"FIELD",220,2)
BLANK
"DATA",160.16,3,"FIELD",220,3)
L,BLANK^1980
"DATA",160.16,3,"FIELD",220,4)
4 Primary site and morphology converted with review
"DATA",160.16,3,"FIELD",221,0)
1896^1^1896^Over-ride Age/Site/Morph
"DATA",160.16,3,"FIELD",221,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,205,"I")
"DATA",160.16,3,"FIELD",221,2)
BLANK
"DATA",160.16,3,"FIELD",221,3)
L,BLANK^1990
"DATA",160.16,3,"FIELD",221,4)
OVERRIDE AGE/SITE/MORPH (165.5,205)
"DATA",160.16,3,"FIELD",222,0)
1897^1^1897^Over-ride SeqNo/DxConf
"DATA",160.16,3,"FIELD",222,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,206,"I")
"DATA",160.16,3,"FIELD",222,2)
BLANK
"DATA",160.16,3,"FIELD",222,3)
L,BLANK^2000
"DATA",160.16,3,"FIELD",222,4)
OVERRIDE SEQNO/DXCONF (165.5,206)
"DATA",160.16,3,"FIELD",223,0)
1898^1^1898^Over-ride Site/Lat/SeqNo
"DATA",160.16,3,"FIELD",223,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,207,"I")
"DATA",160.16,3,"FIELD",223,2)
BLANK
"DATA",160.16,3,"FIELD",223,3)
L,BLANK^2010
"DATA",160.16,3,"FIELD",223,4)
OVERRIDE SITE/LAT/SEQNO (165.5,207)
"DATA",160.16,3,"FIELD",224,0)
1899^1^1899^Over-ride Surg/DxConf
"DATA",160.16,3,"FIELD",224,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,208,"I")
"DATA",160.16,3,"FIELD",224,2)
BLANK
"DATA",160.16,3,"FIELD",224,3)
L,BLANK^2020
"DATA",160.16,3,"FIELD",224,4)
OVERRIDE SURG/DXCONF (165.5,208)
"DATA",160.16,3,"FIELD",225,0)
1900^1^1900^Over-ride Site/Type
"DATA",160.16,3,"FIELD",225,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,209,"I")
"DATA",160.16,3,"FIELD",225,2)
BLANK
"DATA",160.16,3,"FIELD",225,3)
L,BLANK^2030
"DATA",160.16,3,"FIELD",225,4)
OVERRIDE SITE/TYPE (165.5,209)
"DATA",160.16,3,"FIELD",226,0)
1901^1^1901^Over-ride Histology
"DATA",160.16,3,"FIELD",226,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,210,"I")
"DATA",160.16,3,"FIELD",226,2)
BLANK
"DATA",160.16,3,"FIELD",226,3)
L,BLANK^2040
"DATA",160.16,3,"FIELD",226,4)
OVERRIDE HISTOLOGY (165.5,210)
"DATA",160.16,3,"FIELD",227,0)
1902^1^1902^Over-ride Report Source
"DATA",160.16,3,"FIELD",227,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,211,"I")
"DATA",160.16,3,"FIELD",227,2)
BLANK
"DATA",160.16,3,"FIELD",227,3)
L,BLANK^2050
"DATA",160.16,3,"FIELD",227,4)
OVERRIDE REPORT SOURCE (165.5,211)
"DATA",160.16,3,"FIELD",228,0)
1903^1^1903^Over-ride Ill-define Site
"DATA",160.16,3,"FIELD",228,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,212,"I")
"DATA",160.16,3,"FIELD",228,2)
BLANK
"DATA",160.16,3,"FIELD",228,3)
L,BLANK^2060
"DATA",160.16,3,"FIELD",228,4)
OVERRIDE ILL-DEFINE SITE (165.5,212)
"DATA",160.16,3,"FIELD",229,0)
1904^1^1904^Over-ride Leuk, Lymphoma
"DATA",160.16,3,"FIELD",229,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,213,"I")
"DATA",160.16,3,"FIELD",229,2)
BLANK
"DATA",160.16,3,"FIELD",229,3)
L,BLANK^2070
"DATA",160.16,3,"FIELD",229,4)
OVERRIDE LEUK,LYMPHOMA (165.5,213)
"DATA",160.16,3,"FIELD",231,0)
1959^8^1966^Date Case Completed
"DATA",160.16,3,"FIELD",231,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,90,"I"))
"DATA",160.16,3,"FIELD",231,2)
BLANK
"DATA",160.16,3,"FIELD",231,3)
R,BLANK^2090
"DATA",160.16,3,"FIELD",231,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,3,"FIELD",232,0)
1975^8^1982^Date Case Last Changed
"DATA",160.16,3,"FIELD",232,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,198,"I") I ACDANS'="" S ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",232,2)
BLANK
"DATA",160.16,3,"FIELD",232,3)
R,BLANK^2100
"DATA",160.16,3,"FIELD",232,4)
DATE CASE LAST CHANGED (165.5,198)
"DATA",160.16,3,"FIELD",233,0)
1983^8^1990^Date Case Report Exported
"DATA",160.16,3,"FIELD",233,1)
S ACDANS="" Q:$G(EXPORT)'="YES"  S:$G(DT)'="" ACDANS=(1700+$E(DT,1,3))_$E(DT,4,5)_$E(DT,6,7)
"DATA",160.16,3,"FIELD",233,2)
BLANK
"DATA",160.16,3,"FIELD",233,3)
R,BLANK^2110
"DATA",160.16,3,"FIELD",233,4)
Current date
"DATA",160.16,3,"FIELD",234,0)
1930^1^1930^SEER Coding Sys--Current
"DATA",160.16,3,"FIELD",234,1)
S ACDANS=5
"DATA",160.16,3,"FIELD",234,2)
BLANK
"DATA",160.16,3,"FIELD",234,3)
L,BLANK^2120
"DATA",160.16,3,"FIELD",234,4)
1998 SEER Coding Manual
"DATA",160.16,3,"FIELD",235,0)
1931^1^1931^SEER Coding Sys--Original
"DATA",160.16,3,"FIELD",235,1)
S ACDANS=5
"DATA",160.16,3,"FIELD",235,2)
BLANK
"DATA",160.16,3,"FIELD",235,3)
L,BLANK^2130
"DATA",160.16,3,"FIELD",235,4)
1998 SEER Coding Manual
"DATA",160.16,3,"FIELD",236,0)
1932^2^1933^COC Coding Sys--Current
"DATA",160.16,3,"FIELD",236,1)
S ACDANS="08"
"DATA",160.16,3,"FIELD",236,2)
BLANK
"DATA",160.16,3,"FIELD",236,3)
L,BLANK^2140
"DATA",160.16,3,"FIELD",236,4)
08 FORDS (effective with cases diagnosed 2003 are forward)
"DATA",160.16,3,"FIELD",237,0)
1934^2^1935^COC Coding Sys--Original
"DATA",160.16,3,"FIELD",237,1)
S ACDANS=$$COCO~ONCACDU2(IEN)
"DATA",160.16,3,"FIELD",237,2)
BLANK
"DATA",160.16,3,"FIELD",237,3)
L,BLANK^2150
"DATA",160.16,3,"FIELD",237,4)
08, 07, or 05 depending on DATE DX
"DATA",160.16,3,"FIELD",238,0)
2036^80^2115^Reserved 08
"DATA",160.16,3,"FIELD",238,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",238,2)
BLANK
"DATA",160.16,3,"FIELD",238,3)
L,BLANK^1650
"DATA",160.16,3,"FIELD",239,0)
1936^10^1945^Vendor Name
"DATA",160.16,3,"FIELD",239,1)
S ACDANS=$$VENDOR~ONCACDU2
"DATA",160.16,3,"FIELD",239,2)
BLANK
"DATA",160.16,3,"FIELD",239,3)
R,BLANK^2170
"DATA",160.16,3,"FIELD",239,4)
"VA"_NAACCR version_patch #_"A" e.g. VAV11P46A
"DATA",160.16,3,"FIELD",240,0)
1946^1^1946^SEER Type of Follow-Up
"DATA",160.16,3,"FIELD",240,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",240,2)
BLANK
"DATA",160.16,3,"FIELD",240,3)
L,BLANK^2180
"DATA",160.16,3,"FIELD",241,0)
1947^2^1948^SEER Record Number
"DATA",160.16,3,"FIELD",241,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",241,2)
BLANK
"DATA",160.16,3,"FIELD",241,3)
L,BLANK^2190
"DATA",160.16,3,"FIELD",242,0)
1949^2^1950^Diagnostic Proc 73-87
"DATA",160.16,3,"FIELD",242,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",242,2)
BLANK
"DATA",160.16,3,"FIELD",242,3)
L,BLANK^2200
"DATA",160.16,3,"FIELD",243,0)
2015^1^2015^ICD-O-3 Conversion Flag
"DATA",160.16,3,"FIELD",243,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:0,1:1) K DATEDX
"DATA",160.16,3,"FIELD",243,2)
BLANK
"DATA",160.16,3,"FIELD",243,3)
L,BLANK^2116
"DATA",160.16,3,"FIELD",340,0)
784^1^784^RX Hosp--Scope Reg LN Sur
"DATA",160.16,3,"FIELD",340,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.5,"I")
"DATA",160.16,3,"FIELD",340,2)
NINE
"DATA",160.16,3,"FIELD",340,3)
L,BLANK^672
"DATA",160.16,3,"FIELD",340,4)
SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"DATA",160.16,3,"FIELD",341,0)
785^1^785^RX Hosp--Surg Oth Reg/Dis
"DATA",160.16,3,"FIELD",341,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.5,"I")
"DATA",160.16,3,"FIELD",341,2)
NINE
"DATA",160.16,3,"FIELD",341,3)
L,BLANK^674
"DATA",160.16,3,"FIELD",341,4)
SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"DATA",160.16,3,"FIELD",342,0)
786^2^787^RX Hosp--Reg LN Removed
"DATA",160.16,3,"FIELD",342,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140.1,"I")
"DATA",160.16,3,"FIELD",342,2)
BLANK
"DATA",160.16,3,"FIELD",342,3)
L,BLANK^676
"DATA",160.16,3,"FIELD",342,4)
NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"DATA",160.16,3,"FIELD",347,0)
1569^1^1569^RX Summ--Scope Reg LN Sur
"DATA",160.16,3,"FIELD",347,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,138.4,"I")
"DATA",160.16,3,"FIELD",347,2)
NINE
"DATA",160.16,3,"FIELD",347,3)
L,BLANK^1292
"DATA",160.16,3,"FIELD",347,4)
SCOPE OF LN SURGERY (F) (165.5,138.4)
"DATA",160.16,3,"FIELD",348,0)
1570^1^1570^RX Summ--Surg Oth Reg/Dis
"DATA",160.16,3,"FIELD",348,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,139.4,"I")
"DATA",160.16,3,"FIELD",348,2)
NINE
"DATA",160.16,3,"FIELD",348,3)
L,BLANK^1294
"DATA",160.16,3,"FIELD",348,4)
SURG PROC/OTHER SITE (F) (165.5,139.4)
"DATA",160.16,3,"FIELD",349,0)
1571^2^1572^RX Summ--Reg LN Examined
"DATA",160.16,3,"FIELD",349,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,140,"I")
"DATA",160.16,3,"FIELD",349,2)
BLANK
"DATA",160.16,3,"FIELD",349,3)
L,ZERO^1296
"DATA",160.16,3,"FIELD",349,4)
NUMBER OF LN REMOVED (R) (165.5,140)
"DATA",160.16,3,"FIELD",354,0)
1736^1^1736^Subsq RX 2nd--Scope LN Su
"DATA",160.16,3,"FIELD",354,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,35)
"DATA",160.16,3,"FIELD",354,2)
BLANK
"DATA",160.16,3,"FIELD",354,3)
L,BLANK^1677
"DATA",160.16,3,"FIELD",354,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,3,"FIELD",355,0)
1737^1^1737^Subsq RX 2nd--Surg Oth
"DATA",160.16,3,"FIELD",355,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,36)
"DATA",160.16,3,"FIELD",355,2)
BLANK
"DATA",160.16,3,"FIELD",355,3)
L,BLANK^1678
"DATA",160.16,3,"FIELD",355,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,3,"FIELD",356,0)
1738^2^1739^Subsq RX 2nd--Reg LN Rem
"DATA",160.16,3,"FIELD",356,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,37)
"DATA",160.16,3,"FIELD",356,2)
BLANK
"DATA",160.16,3,"FIELD",356,3)
L,BLANK^1679
"DATA",160.16,3,"FIELD",356,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,3,"FIELD",357,0)
1757^1^1757^Subsq RX 3rd--Scope LN Su
"DATA",160.16,3,"FIELD",357,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,35)
"DATA",160.16,3,"FIELD",357,2)
BLANK
"DATA",160.16,3,"FIELD",357,3)
L,BLANK^1697
"DATA",160.16,3,"FIELD",357,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,3,"FIELD",358,0)
1758^1^1758^Subsq RX 3rd--Surg Oth
"DATA",160.16,3,"FIELD",358,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,36)
"DATA",160.16,3,"FIELD",358,2)
BLANK
"DATA",160.16,3,"FIELD",358,3)
L,BLANK^1698
"DATA",160.16,3,"FIELD",358,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,3,"FIELD",359,0)
1759^2^1760^Subsq RX 3rd--Reg LN Rem
"DATA",160.16,3,"FIELD",359,1)
S ACDANS=$$SUB~ONCACDU2(IEN,3,37)
"DATA",160.16,3,"FIELD",359,2)
BLANK
"DATA",160.16,3,"FIELD",359,3)
L,BLANK^1699
"DATA",160.16,3,"FIELD",359,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,3,"FIELD",360,0)
1778^1^1778^Subsq RX 4th--Scope LN Su
"DATA",160.16,3,"FIELD",360,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,35)
"DATA",160.16,3,"FIELD",360,2)
BLANK
"DATA",160.16,3,"FIELD",360,3)
L,BLANK^1717
"DATA",160.16,3,"FIELD",360,4)
SCOPE OF LYMPH NODE SURGERY (165.51,35)
"DATA",160.16,3,"FIELD",361,0)
1779^1^1779^Subsq RX 4th--Surg Oth
"DATA",160.16,3,"FIELD",361,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,36)
"DATA",160.16,3,"FIELD",361,2)
BLANK
"DATA",160.16,3,"FIELD",361,3)
L,BLANK^1718
"DATA",160.16,3,"FIELD",361,4)
SURGICAL PROC/OTHER SITE (165.51,36)
"DATA",160.16,3,"FIELD",362,0)
1780^2^1781^Subsq RX 4th--Reg LN Rem
"DATA",160.16,3,"FIELD",362,1)
S ACDANS=$$SUB~ONCACDU2(IEN,4,37)
"DATA",160.16,3,"FIELD",362,2)
BLANK
"DATA",160.16,3,"FIELD",362,3)
L,BLANK^1719
"DATA",160.16,3,"FIELD",362,4)
NUMBER OF NODES REMOVED (165.51,37)
"DATA",160.16,3,"FIELD",363,0)
1060^3^1062^CS Site-Specific Factor 20
"DATA",160.16,3,"FIELD",363,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.201,"I")) K DATEDX
"DATA",160.16,3,"FIELD",363,2)
BLANK
"DATA",160.16,3,"FIELD",363,3)
L,BLANK^2874
"DATA",160.16,3,"FIELD",363,4)
SITE-SPECIFIC FACTOR 20 (CS) (165.5,44.201)
"DATA",160.16,3,"FIELD",366,0)
1787^1^1787^Subsq RX--Reconstruct Del
"DATA",160.16,3,"FIELD",366,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,33)
"DATA",160.16,3,"FIELD",366,2)
BLANK
"DATA",160.16,3,"FIELD",366,3)
L,BLANK^1741
"DATA",160.16,3,"FIELD",366,4)
RECON/RESTORE - DELAYED (165.51,33)
"DATA",160.16,3,"FIELD",367,0)
2208^50^2257^Follow-Up Contact--City
"DATA",160.16,3,"FIELD",367,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) ACDANS=$P($G(~VIC(5.11,VICPNT,0)),U,2) K VICPNT
"DATA",160.16,3,"FIELD",367,2)
BLANK
"DATA",160.16,3,"FIELD",367,3)
R,BLANK^1842
"DATA",160.16,3,"FIELD",367,4)
ZIP CODE (165,.119)
"DATA",160.16,3,"FIELD",368,0)
2258^2^2259^Follow-Up Contact--State
"DATA",160.16,3,"FIELD",368,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) STATE=$P($G(~VIC(5.11,VICPNT,0)),U,4) S:$G(STATE) ACDANS=$P(~DIC(5,STATE,0),U,2) K STATE,VICPNT
"DATA",160.16,3,"FIELD",368,2)
BLANK
"DATA",160.16,3,"FIELD",368,3)
R,BLANK^1844
"DATA",160.16,3,"FIELD",368,4)
ZIP CODE (165,.119)
"DATA",160.16,3,"FIELD",369,0)
2260^9^2268^Follow-Up Contact--Postal
"DATA",160.16,3,"FIELD",369,1)
S ACDANS="",VICPNT=$$FCNODE~ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) ACDANS=$P($G(~VIC(5.11,VICPNT,0)),U,1) K VICPNT
"DATA",160.16,3,"FIELD",369,2)
BLANK
"DATA",160.16,3,"FIELD",369,3)
R,BLANK^1846
"DATA",160.16,3,"FIELD",369,4)
ZIP CODE (165,.119)
"DATA",160.16,3,"FIELD",370,0)
1905^1^1905^Over-ride Site/Behavior
"DATA",160.16,3,"FIELD",370,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,214,"I")
"DATA",160.16,3,"FIELD",370,2)
BLANK
"DATA",160.16,3,"FIELD",370,3)
L,BLANK^2071
"DATA",160.16,3,"FIELD",370,4)
OVERRIDE SITE/BEHAVIOR (165.5,214)
"DATA",160.16,3,"FIELD",371,0)
1906^1^1906^Over-ride Site/EOD/DX Dt
"DATA",160.16,3,"FIELD",371,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,215,"I")
"DATA",160.16,3,"FIELD",371,2)
BLANK
"DATA",160.16,3,"FIELD",371,3)
L,BLANK^2072
"DATA",160.16,3,"FIELD",371,4)
OVERRIDE SITE/EOD/DX DT (165.5,215)
"DATA",160.16,3,"FIELD",372,0)
1907^1^1907^Over-ride Site/Lat/EOD
"DATA",160.16,3,"FIELD",372,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,216,"I")
"DATA",160.16,3,"FIELD",372,2)
BLANK
"DATA",160.16,3,"FIELD",372,3)
L,BLANK^2073
"DATA",160.16,3,"FIELD",372,4)
OVERRIDE SITE/LAT/EOD (165.5,216)
"DATA",160.16,3,"FIELD",373,0)
1908^1^1908^Over-ride Site/Lat/Morph
"DATA",160.16,3,"FIELD",373,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,217,"I")
"DATA",160.16,3,"FIELD",373,2)
BLANK
"DATA",160.16,3,"FIELD",373,3)
L,BLANK^2074
"DATA",160.16,3,"FIELD",373,4)
OVERRIDE SITE/LAT/MORPH (165.5,217)
"DATA",160.16,3,"FIELD",376,0)
1991^8^1998^Date Case Report Received
"DATA",160.16,3,"FIELD",376,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",376,2)
BLANK
"DATA",160.16,3,"FIELD",376,3)
L,BLANK^2111
"DATA",160.16,3,"FIELD",377,0)
1999^8^2006^Date Case Report Loaded
"DATA",160.16,3,"FIELD",377,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",377,2)
BLANK
"DATA",160.16,3,"FIELD",377,3)
L,BLANK^2112
"DATA",160.16,3,"FIELD",378,0)
2007^8^2014^Date Tumor Record Availbl
"DATA",160.16,3,"FIELD",378,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",378,2)
BLANK
"DATA",160.16,3,"FIELD",378,3)
L,BLANK^2113
"DATA",160.16,3,"FIELD",379,0)
1920^10^1929^CRC CHECKSUM
"DATA",160.16,3,"FIELD",379,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",379,2)
BLANK
"DATA",160.16,3,"FIELD",379,3)
L,BLANK^2081
"DATA",160.16,3,"FIELD",380,0)
3^14^16^Reserved 00
"DATA",160.16,3,"FIELD",380,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",380,2)
BLANK
"DATA",160.16,3,"FIELD",380,3)
L,BLANK^37
"DATA",160.16,3,"FIELD",382,0)
701^10^710^Reporting Facility
"DATA",160.16,3,"FIELD",382,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.03,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") I (ACDANS=9999999)&($L(STAT1)=8) S ACDANS=99999999
"DATA",160.16,3,"FIELD",382,2)
ZERO
"DATA",160.16,3,"FIELD",382,3)
L,ZERO^540
"DATA",160.16,3,"FIELD",382,4)
REPORTING FACILITY (165.5,.03)
"DATA",160.16,3,"FIELD",383,0)
731^9^739^Accession Number--Hosp
"DATA",160.16,3,"FIELD",383,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.05,"I")
"DATA",160.16,3,"FIELD",383,2)
BLANK
"DATA",160.16,3,"FIELD",383,3)
L,ZERO^550
"DATA",160.16,3,"FIELD",383,4)
ACCESSION NUMBER (165.5,.05)
"DATA",160.16,3,"FIELD",388,0)
691^10^700^NPI--Reporting Facility
"DATA",160.16,3,"FIELD",388,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,.03,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,3,"FIELD",388,2)
BLANK
"DATA",160.16,3,"FIELD",388,3)
L,BLANK^545
"DATA",160.16,3,"FIELD",388,4)
NPI (160.19,101)
"DATA",160.16,3,"FIELD",390,0)
591^100^690^Reserved 03
"DATA",160.16,3,"FIELD",390,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",390,2)
BLANK
"DATA",160.16,3,"FIELD",390,3)
L,BLANK^680
"DATA",160.16,3,"FIELD",391,0)
904^1^904^SEER Summary Stage 2000
"DATA",160.16,3,"FIELD",391,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3001231:$$GET1~DIQ(165.5,IEN,35,"I"),1:"") K DATEDX
"DATA",160.16,3,"FIELD",391,2)
BLANK
"DATA",160.16,3,"FIELD",391,3)
L,BLANK^759
"DATA",160.16,3,"FIELD",391,4)
SEER SUMMARY STAGE 2000 (165.5,35)
"DATA",160.16,3,"FIELD",392,0)
1888^1^1888^Over-ride SS/NodesPos
"DATA",160.16,3,"FIELD",392,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,218,"I")
"DATA",160.16,3,"FIELD",392,2)
BLANK
"DATA",160.16,3,"FIELD",392,3)
L,BLANK^1981
"DATA",160.16,3,"FIELD",392,4)
OVERRIDE SS/NODESPOS (165.5,218)
"DATA",160.16,3,"FIELD",393,0)
1889^1^1889^Over-ride SS/TNM-N
"DATA",160.16,3,"FIELD",393,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,219,"I")
"DATA",160.16,3,"FIELD",393,2)
BLANK
"DATA",160.16,3,"FIELD",393,3)
L,BLANK^1982
"DATA",160.16,3,"FIELD",393,4)
OVERRIDE SS/TNM-N (165.5,219)
"DATA",160.16,3,"FIELD",394,0)
1890^1^1890^Over-ride SS/TNM-M
"DATA",160.16,3,"FIELD",394,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,220,"I")
"DATA",160.16,3,"FIELD",394,2)
BLANK
"DATA",160.16,3,"FIELD",394,3)
L,BLANK^1983
"DATA",160.16,3,"FIELD",394,4)
OVERRIDE SS/TNM-M (165.5,220)
"DATA",160.16,3,"FIELD",395,0)
1118^3^1120^Derived AJCC-7 N
"DATA",160.16,3,"FIELD",395,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",395,2)
BLANK
"DATA",160.16,3,"FIELD",395,3)
L,BLANK^3410
"DATA",160.16,3,"FIELD",395,4)
DERIVED AJCC-7 N (165.5,162.7)
"DATA",160.16,3,"FIELD",396,0)
1891^1^1891^Over-ride Acsn/Class/Seq
"DATA",160.16,3,"FIELD",396,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,222,"I")
"DATA",160.16,3,"FIELD",396,2)
BLANK
"DATA",160.16,3,"FIELD",396,3)
L,BLANK^1985
"DATA",160.16,3,"FIELD",396,4)
OVERRIDE ACSN/CLASS/SEQ (165.5,222)
"DATA",160.16,3,"FIELD",397,0)
1892^1^1892^Over-ride HospSeq/DxConf
"DATA",160.16,3,"FIELD",397,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,223,"I")
"DATA",160.16,3,"FIELD",397,2)
BLANK
"DATA",160.16,3,"FIELD",397,3)
L,BLANK^1986
"DATA",160.16,3,"FIELD",397,4)
OVERRIDE HOSPSEQ/DXCONF (165.5,223)
"DATA",160.16,3,"FIELD",398,0)
1893^1^1893^Over-ride CoC-Site/Type
"DATA",160.16,3,"FIELD",398,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,224,"I")
"DATA",160.16,3,"FIELD",398,2)
BLANK
"DATA",160.16,3,"FIELD",398,3)
L,BLANK^1987
"DATA",160.16,3,"FIELD",398,4)
OVERRIDE COC-SITE/TYPE (165.5,224)
"DATA",160.16,3,"FIELD",399,0)
1894^1^1894^Over-ride HospSeq/Site
"DATA",160.16,3,"FIELD",399,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,225,"I")
"DATA",160.16,3,"FIELD",399,2)
BLANK
"DATA",160.16,3,"FIELD",399,3)
L,BLANK^1988
"DATA",160.16,3,"FIELD",399,4)
OVERRIDE HOSPSEQ/SITE (165.5,225)
"DATA",160.16,3,"FIELD",400,0)
1895^1^1895^Over-ride Site/TNM-StgGrp
"DATA",160.16,3,"FIELD",400,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,226,"I")
"DATA",160.16,3,"FIELD",400,2)
BLANK
"DATA",160.16,3,"FIELD",400,3)
L,BLANK^1989
"DATA",160.16,3,"FIELD",400,4)
OVERRIDE SITE/TNM-STAGE GROUP (165.5,226)
"DATA",160.16,3,"FIELD",401,0)
2280^8^2287^Date of Death--Canada
"DATA",160.16,3,"FIELD",401,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",401,2)
BLANK
"DATA",160.16,3,"FIELD",401,3)
L,BLANK^1755
"DATA",160.16,3,"FIELD",402,0)
40^2^41^Tumor Record Number
"DATA",160.16,3,"FIELD",402,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",402,2)
BLANK
"DATA",160.16,3,"FIELD",402,3)
L,BLANK^60
"DATA",160.16,3,"FIELD",403,0)
20^10^29^NPI--Registry ID
"DATA",160.16,3,"FIELD",403,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") K FACIEN S:$G(STAT1)'="" FACIEN=$O(~ONCO(160.19,"B",STAT1,0)) S ACDANS=$S(DATEDX<3070000:"",$G(FACIEN)'="":$$GET1~DIQ(160.19,FACIEN,101),1:"")
"DATA",160.16,3,"FIELD",403,2)
BLANK
"DATA",160.16,3,"FIELD",403,3)
L,BLANK^45
"DATA",160.16,3,"FIELD",403,4)
NPI (160.19,101)
"DATA",160.16,3,"FIELD",404,0)
95^50^144^Addr at DX--City
"DATA",160.16,3,"FIELD",404,1)
S ACDANS=$S($$GET1~DIQ(165.5,IEN,8.1,"E")'="":$$GET1~DIQ(165.5,IEN,8.1,"E"),1:"UNKNOWN") D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",404,2)
BLANK
"DATA",160.16,3,"FIELD",404,3)
R,BLANK^70
"DATA",160.16,3,"FIELD",404,4)
CITY/TOWN AT DX (165.5,8.1)
"DATA",160.16,3,"FIELD",405,0)
145^2^146^Addr at DX--State
"DATA",160.16,3,"FIELD",405,1)
S XX=$S($$GET1~DIQ(165.5,IEN,16,"I")'="":$$GET1~DIQ(5,$$GET1~DIQ(165.5,IEN,16,"I"),1,"I"),1:""),XX=$S(XX="CANAD":"CD",XX="EU":"YY",XX="FG":"YY",XX="MX":"XX",XX="NF":"NL",XX="PH":"XX",XX="UN":"ZZ",1:XX),ACDANS=XX
"DATA",160.16,3,"FIELD",405,2)
BLANK
"DATA",160.16,3,"FIELD",405,3)
L,BLANK^80
"DATA",160.16,3,"FIELD",405,4)
STATE AT DX (165.5,16)
"DATA",160.16,3,"FIELD",406,0)
188^1^188^Race Coding Sys--Original
"DATA",160.16,3,"FIELD",406,1)
S ACDANS=7
"DATA",160.16,3,"FIELD",406,2)
BLANK
"DATA",160.16,3,"FIELD",406,3)
L,BLANK^180
"DATA",160.16,3,"FIELD",406,4)
2010+ SEER & CoC (added codes 15, 16, and 17; removed 09)
"DATA",160.16,3,"FIELD",407,0)
156^3^158^County at DX
"DATA",160.16,3,"FIELD",407,1)
S ACDANS=$$CNTY~ONCACDU1(IEN)
"DATA",160.16,3,"FIELD",407,2)
BLANK
"DATA",160.16,3,"FIELD",407,3)
L,ZERO^90
"DATA",160.16,3,"FIELD",407,4)
COUNTY AT DX (165.5,10)
"DATA",160.16,3,"FIELD",408,0)
159^6^164^Census Tract 1970/80/90
"DATA",160.16,3,"FIELD",408,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",408,2)
BLANK
"DATA",160.16,3,"FIELD",408,3)
L,BLANK^110
"DATA",160.16,3,"FIELD",409,0)
166^1^166^Census Cod Sys 1970/80/90
"DATA",160.16,3,"FIELD",409,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",409,2)
BLANK
"DATA",160.16,3,"FIELD",409,3)
L,BLANK^120
"DATA",160.16,3,"FIELD",411,0)
216^1^216^Industry Source
"DATA",160.16,3,"FIELD",411,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",411,2)
BLANK
"DATA",160.16,3,"FIELD",411,3)
L,BLANK^300
"DATA",160.16,3,"FIELD",412,0)
417^1^417^Census Occ/Ind Sys 70-00
"DATA",160.16,3,"FIELD",412,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",412,2)
BLANK
"DATA",160.16,3,"FIELD",412,3)
L,BLANK^330
"DATA",160.16,3,"FIELD",413,0)
187^1^187^Race Coding Sys--Current
"DATA",160.16,3,"FIELD",413,1)
S ACDANS=7
"DATA",160.16,3,"FIELD",413,2)
BLANK
"DATA",160.16,3,"FIELD",413,3)
L,BLANK^170
"DATA",160.16,3,"FIELD",413,4)
2010+ SEER & CoC (added codes 15, 16, and 17; removed 09)
"DATA",160.16,3,"FIELD",414,0)
189^1^189^Spanish/Hispanic Origin
"DATA",160.16,3,"FIELD",414,1)
S ACDANS=$$GET1~DIQ(160,ACD160,9,"I")
"DATA",160.16,3,"FIELD",414,2)
BLANK
"DATA",160.16,3,"FIELD",414,3)
L,BLANK^190
"DATA",160.16,3,"FIELD",414,4)
SPANISH ORIGIN (160,9)
"DATA",160.16,3,"FIELD",415,0)
190^1^190^Computed Ethnicity
"DATA",160.16,3,"FIELD",415,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,3,"FIELD",415,2)
BLANK
"DATA",160.16,3,"FIELD",415,3)
L,BLANK^200
"DATA",160.16,3,"FIELD",415,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,3,"FIELD",416,0)
191^1^191^Computed Ethnicity Source
"DATA",160.16,3,"FIELD",416,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>2931231:0,1:"") K DATEDX
"DATA",160.16,3,"FIELD",416,2)
BLANK
"DATA",160.16,3,"FIELD",416,3)
L,BLANK^210
"DATA",160.16,3,"FIELD",416,4)
0 = (No match was run, for 1994 and later cases) Blank = (1993 and earlier tumors, no match was run)
"DATA",160.16,3,"FIELD",417,0)
192^1^192^Sex
"DATA",160.16,3,"FIELD",417,1)
S ACDANS=$$GET1~DIQ(160,ACD160,10,"I")
"DATA",160.16,3,"FIELD",417,2)
BLANK
"DATA",160.16,3,"FIELD",417,3)
L,BLANK^220
"DATA",160.16,3,"FIELD",417,4)
SEX (160,10)
"DATA",160.16,3,"FIELD",418,0)
193^3^195^Age at Diagnosis
"DATA",160.16,3,"FIELD",418,1)
S ACDANS=$$AGEDX~ONCACDU1(IEN)
"DATA",160.16,3,"FIELD",418,2)
BLANK
"DATA",160.16,3,"FIELD",418,3)
L,ZERO^230
"DATA",160.16,3,"FIELD",418,4)
AGE~ONCOCOM
"DATA",160.16,3,"FIELD",419,0)
196^8^203^Date of Birth
"DATA",160.16,3,"FIELD",419,1)
S ACDANS=$$DATE~ONCACDU1($$BDATE~ONCACDU1(ACD160))
"DATA",160.16,3,"FIELD",419,2)
BLANK
"DATA",160.16,3,"FIELD",419,3)
R,BLANK^240
"DATA",160.16,3,"FIELD",419,4)
DOB (160,3)
"DATA",160.16,3,"FIELD",420,0)
206^3^208^Birthplace
"DATA",160.16,3,"FIELD",420,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I")
"DATA",160.16,3,"FIELD",420,2)
BLANK
"DATA",160.16,3,"FIELD",420,3)
L,ZERO^250
"DATA",160.16,3,"FIELD",420,4)
PLACE OF BIRTH (160,7)
"DATA",160.16,3,"FIELD",421,0)
174^1^174^Census Block Group 2000
"DATA",160.16,3,"FIELD",421,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",421,2)
BLANK
"DATA",160.16,3,"FIELD",421,3)
L,BLANK^362
"DATA",160.16,3,"FIELD",422,0)
167^1^167^Census Tr Cert 1970/80/90
"DATA",160.16,3,"FIELD",422,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",422,2)
BLANK
"DATA",160.16,3,"FIELD",422,3)
L,BLANK^364
"DATA",160.16,3,"FIELD",423,0)
215^1^215^Occupation Source
"DATA",160.16,3,"FIELD",423,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",423,2)
BLANK
"DATA",160.16,3,"FIELD",423,3)
L,BLANK^290
"DATA",160.16,3,"FIELD",424,0)
179^2^180^Race 2
"DATA",160.16,3,"FIELD",424,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.1,"I")
"DATA",160.16,3,"FIELD",424,2)
8
"DATA",160.16,3,"FIELD",424,3)
L,ZERO^161
"DATA",160.16,3,"FIELD",424,4)
RACE 2 (160,8.1)
"DATA",160.16,3,"FIELD",425,0)
181^2^182^Race 3
"DATA",160.16,3,"FIELD",425,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.2,"I")
"DATA",160.16,3,"FIELD",425,2)
8
"DATA",160.16,3,"FIELD",425,3)
L,ZERO^162
"DATA",160.16,3,"FIELD",425,4)
RACE 3 (160,8.2)
"DATA",160.16,3,"FIELD",426,0)
183^2^184^Race 4
"DATA",160.16,3,"FIELD",426,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.3,"I")
"DATA",160.16,3,"FIELD",426,2)
8
"DATA",160.16,3,"FIELD",426,3)
L,ZERO^163
"DATA",160.16,3,"FIELD",426,4)
RACE 4 (160,8.3)
"DATA",160.16,3,"FIELD",427,0)
185^2^186^Race 5
"DATA",160.16,3,"FIELD",427,1)
S ACDANS=$$GET1~DIQ(160,ACD160,8.4,"I")
"DATA",160.16,3,"FIELD",427,2)
8
"DATA",160.16,3,"FIELD",427,3)
L,ZERO^164
"DATA",160.16,3,"FIELD",427,4)
RACE 5 (160,8.4)
"DATA",160.16,3,"FIELD",428,0)
209^3^211^Census Occ Code 1970-2000
"DATA",160.16,3,"FIELD",428,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",428,2)
BLANK
"DATA",160.16,3,"FIELD",428,3)
L,BLANK^270
"DATA",160.16,3,"FIELD",429,0)
212^3^214^Census Ind Code 1970-2000
"DATA",160.16,3,"FIELD",429,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",429,2)
BLANK
"DATA",160.16,3,"FIELD",429,3)
L,BLANK^280
"DATA",160.16,3,"FIELD",430,0)
2531^1^2531^Tobacco History
"DATA",160.16,3,"FIELD",430,1)
S ACDANS=$$TOB~ONCACDU1(IEN)
"DATA",160.16,3,"FIELD",430,2)
BLANK
"DATA",160.16,3,"FIELD",430,3)
L,BLANK^340
"DATA",160.16,3,"FIELD",430,4)
TOBACCO HISTORY (160,38)
"DATA",160.16,3,"FIELD",431,0)
2532^1^2532^Alcohol History
"DATA",160.16,3,"FIELD",431,1)
S ACDANS=$$ALC~ONCACDU1(IEN)
"DATA",160.16,3,"FIELD",431,2)
BLANK
"DATA",160.16,3,"FIELD",431,3)
L,BLANK^350
"DATA",160.16,3,"FIELD",431,4)
ALCOHOL HISTORY (160,39)
"DATA",160.16,3,"FIELD",432,0)
2533^1^2533^Family History of Cancer
"DATA",160.16,3,"FIELD",432,1)
S ACDANS=$$GET1~DIQ(160,ACD160,43,"I")
"DATA",160.16,3,"FIELD",432,2)
BLANK
"DATA",160.16,3,"FIELD",432,3)
L,BLANK^360
"DATA",160.16,3,"FIELD",432,4)
FAMILY HISTORY OF CANCER (160,43)
"DATA",160.16,3,"FIELD",433,0)
528^2^529^Sequence Number--Central
"DATA",160.16,3,"FIELD",433,1)
S ACDANS=$$SNCNT~ONCACDU2(IEN)
"DATA",160.16,3,"FIELD",433,2)
BLANK
"DATA",160.16,3,"FIELD",433,3)
L,BLANK^380
"DATA",160.16,3,"FIELD",434,0)
530^8^537^Date of Diagnosis
"DATA",160.16,3,"FIELD",434,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,3,"I"))
"DATA",160.16,3,"FIELD",434,2)
BLANK
"DATA",160.16,3,"FIELD",434,3)
R,BLANK^390
"DATA",160.16,3,"FIELD",434,4)
DATE DX (165.5,3)
"DATA",160.16,3,"FIELD",435,0)
424^2^425^RuralUrban Continuum 1993
"DATA",160.16,3,"FIELD",435,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",435,2)
BLANK
"DATA",160.16,3,"FIELD",435,3)
L,BLANK^3300
"DATA",160.16,3,"FIELD",435,4)
Program not run; record not coded
"DATA",160.16,3,"FIELD",436,0)
426^2^427^RuralUrban Continuum 2003
"DATA",160.16,3,"FIELD",436,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",436,2)
BLANK
"DATA",160.16,3,"FIELD",436,3)
L,BLANK^3310
"DATA",160.16,3,"FIELD",436,4)
Program not run; record not coded
"DATA",160.16,3,"FIELD",437,0)
419^2^420^Race--NAPIIA (derived API)
"DATA",160.16,3,"FIELD",437,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",437,2)
BLANK
"DATA",160.16,3,"FIELD",437,3)
L,BLANK^193
"DATA",160.16,3,"FIELD",438,0)
721^10^730^Archive FIN
"DATA",160.16,3,"FIELD",438,1)
S ACDANS=STAT1
"DATA",160.16,3,"FIELD",438,2)
ZERO
"DATA",160.16,3,"FIELD",438,3)
L,ZERO^3100
"DATA",160.16,3,"FIELD",438,4)
FACILITY ID # (160.1,27)
"DATA",160.16,3,"FIELD",439,0)
799^1^799^RX Hosp--Palliative Proc
"DATA",160.16,3,"FIELD",439,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,13,"I")
"DATA",160.16,3,"FIELD",439,2)
NINE
"DATA",160.16,3,"FIELD",439,3)
L,BLANK^3280
"DATA",160.16,3,"FIELD",439,4)
PALLIATIVE PROCEDURE @FAC (165.5,13)
"DATA",160.16,3,"FIELD",440,0)
985^3^987^CS Tumor Size
"DATA",160.16,3,"FIELD",440,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.2,"I")) K DATEDX
"DATA",160.16,3,"FIELD",440,2)
BLANK
"DATA",160.16,3,"FIELD",440,3)
L,ZERO^2800
"DATA",160.16,3,"FIELD",440,4)
TUMOR SIZE (CS) (165.5,29.2)
"DATA",160.16,3,"FIELD",441,0)
988^3^990^CS Extension
"DATA",160.16,3,"FIELD",441,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,30.2,"I")) K DATEDX
"DATA",160.16,3,"FIELD",441,2)
BLANK
"DATA",160.16,3,"FIELD",441,3)
L,ZERO^2810
"DATA",160.16,3,"FIELD",441,4)
EXTENSION (CS) (165.5,30.2)
"DATA",160.16,3,"FIELD",442,0)
991^1^991^CS Tumor Size/Ext Eval
"DATA",160.16,3,"FIELD",442,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,29.1,"I")) K DATEDX
"DATA",160.16,3,"FIELD",442,2)
BLANK
"DATA",160.16,3,"FIELD",442,3)
L,ZERO^2820
"DATA",160.16,3,"FIELD",442,4)
TUMOR SIZE/EXT EVAL (CS) (165.5,29.1)
"DATA",160.16,3,"FIELD",443,0)
992^3^994^CS Lymph Nodes
"DATA",160.16,3,"FIELD",443,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,31.1,"I")) K DATEDX
"DATA",160.16,3,"FIELD",443,2)
BLANK
"DATA",160.16,3,"FIELD",443,3)
L,BLANK^2830
"DATA",160.16,3,"FIELD",443,4)
LYMPH NODES (CS) (165.5,31.1)
"DATA",160.16,3,"FIELD",444,0)
995^1^995^CS Lymph Nodes Eval
"DATA",160.16,3,"FIELD",444,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,32.1,"I")) K DATEDX
"DATA",160.16,3,"FIELD",444,2)
BLANK
"DATA",160.16,3,"FIELD",444,3)
L,BLANK^2840
"DATA",160.16,3,"FIELD",444,4)
LYMPH NODES EVAL (CS) (165.5,32.1)
"DATA",160.16,3,"FIELD",445,0)
996^2^997^CS Mets at DX
"DATA",160.16,3,"FIELD",445,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.3,"I")) K DATEDX
"DATA",160.16,3,"FIELD",445,2)
BLANK
"DATA",160.16,3,"FIELD",445,3)
L,BLANK^2850
"DATA",160.16,3,"FIELD",445,4)
METS AT DX (CS) (165.5,34.3)
"DATA",160.16,3,"FIELD",446,0)
998^1^998^CS Mets Eval
"DATA",160.16,3,"FIELD",446,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,34.4,"I")) K DATEDX
"DATA",160.16,3,"FIELD",446,2)
BLANK
"DATA",160.16,3,"FIELD",446,3)
L,BLANK^2860
"DATA",160.16,3,"FIELD",446,4)
METS EVAL (CS) (165.5,34.4)
"DATA",160.16,3,"FIELD",447,0)
1003^3^1005^CS Site-Specific Factor 1
"DATA",160.16,3,"FIELD",447,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.1,"I")) K DATEDX
"DATA",160.16,3,"FIELD",447,2)
BLANK
"DATA",160.16,3,"FIELD",447,3)
L,BLANK^2880
"DATA",160.16,3,"FIELD",447,4)
SITE-SPECIFIC FACTOR 1 (CS) (165.5,44.1)
"DATA",160.16,3,"FIELD",448,0)
1006^3^1008^CS Site-Specific Factor 2
"DATA",160.16,3,"FIELD",448,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.2,"I")) K DATEDX
"DATA",160.16,3,"FIELD",448,2)
BLANK
"DATA",160.16,3,"FIELD",448,3)
L,BLANK^2890
"DATA",160.16,3,"FIELD",448,4)
SITE-SPECIFIC FACTOR 2 (CS) (165.5,44.2)
"DATA",160.16,3,"FIELD",449,0)
1009^3^1011^CS Site-Specific Factor 3
"DATA",160.16,3,"FIELD",449,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.3,"I")) K DATEDX
"DATA",160.16,3,"FIELD",449,2)
BLANK
"DATA",160.16,3,"FIELD",449,3)
L,BLANK^2900
"DATA",160.16,3,"FIELD",449,4)
SITE-SPECIFIC FACTOR 3 (CS) (165.5,44.3)
"DATA",160.16,3,"FIELD",450,0)
1012^3^1014^CS Site-Specific Factor 4
"DATA",160.16,3,"FIELD",450,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.4,"I")) K DATEDX
"DATA",160.16,3,"FIELD",450,2)
BLANK
"DATA",160.16,3,"FIELD",450,3)
L,BLANK^2910
"DATA",160.16,3,"FIELD",450,4)
SITE-SPECIFIC FACTOR 4 (CS) (165.5,44.4)
"DATA",160.16,3,"FIELD",451,0)
1015^3^1017^CS Site-Specific Factor 5
"DATA",160.16,3,"FIELD",451,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.5,"I")) K DATEDX
"DATA",160.16,3,"FIELD",451,2)
BLANK
"DATA",160.16,3,"FIELD",451,3)
L,BLANK^2920
"DATA",160.16,3,"FIELD",451,4)
SITE-SPECIFIC FACTOR 5 (CS) (165.5,44.5)
"DATA",160.16,3,"FIELD",452,0)
1018^3^1020^CS Site-Specific Factor 6
"DATA",160.16,3,"FIELD",452,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.6,"I")) K DATEDX
"DATA",160.16,3,"FIELD",452,2)
BLANK
"DATA",160.16,3,"FIELD",452,3)
L,BLANK^2930
"DATA",160.16,3,"FIELD",452,4)
SITE-SPECIFIC FACTOR 6 (CS) (165.5,44.6)
"DATA",160.16,3,"FIELD",453,0)
1103^2^1104^Derived AJCC-6 T
"DATA",160.16,3,"FIELD",453,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160,"I")) K DATEDX
"DATA",160.16,3,"FIELD",453,2)
BLANK
"DATA",160.16,3,"FIELD",453,3)
L,BLANK^2940
"DATA",160.16,3,"FIELD",453,4)
DERIVED AJCC T (165.5,160)
"DATA",160.16,3,"FIELD",454,0)
1105^1^1105^Derived AJCC-6 T Descript
"DATA",160.16,3,"FIELD",454,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161,"I")) K DATEDX
"DATA",160.16,3,"FIELD",454,2)
BLANK
"DATA",160.16,3,"FIELD",454,3)
L,BLANK^2950
"DATA",160.16,3,"FIELD",454,4)
DERIVED AJCC T DESCRIPTOR (165.5,161)
"DATA",160.16,3,"FIELD",455,0)
1106^2^1107^Derived AJCC-6 N
"DATA",160.16,3,"FIELD",455,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,162,"I")) K DATEDX
"DATA",160.16,3,"FIELD",455,2)
BLANK
"DATA",160.16,3,"FIELD",455,3)
L,BLANK^2960
"DATA",160.16,3,"FIELD",455,4)
DERIVED AJCC N (165.5,162)
"DATA",160.16,3,"FIELD",456,0)
1108^1^1108^Derived AJCC-6 N Descript
"DATA",160.16,3,"FIELD",456,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163,"I")) K DATEDX
"DATA",160.16,3,"FIELD",456,2)
BLANK
"DATA",160.16,3,"FIELD",456,3)
L,BLANK^2970
"DATA",160.16,3,"FIELD",456,4)
DERIVED AJCC N DESCRIPTOR (165.5,163)
"DATA",160.16,3,"FIELD",457,0)
1109^2^1110^Derived AJCC-6 M
"DATA",160.16,3,"FIELD",457,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164,"I")) K DATEDX
"DATA",160.16,3,"FIELD",457,2)
BLANK
"DATA",160.16,3,"FIELD",457,3)
L,BLANK^2980
"DATA",160.16,3,"FIELD",457,4)
DERIVED AJCC M (165.5,164)
"DATA",160.16,3,"FIELD",458,0)
1111^1^1111^Derived AJCC-6 M Descript
"DATA",160.16,3,"FIELD",458,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165,"I")) K DATEDX
"DATA",160.16,3,"FIELD",458,2)
BLANK
"DATA",160.16,3,"FIELD",458,3)
L,BLANK^2990
"DATA",160.16,3,"FIELD",458,4)
DERIVED AJCC M DESCRIPTOR (165.5,165)
"DATA",160.16,3,"FIELD",459,0)
1112^2^1113^Derived AJCC-6 Stage Grp
"DATA",160.16,3,"FIELD",459,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166,"I")) K DATEDX
"DATA",160.16,3,"FIELD",459,2)
BLANK
"DATA",160.16,3,"FIELD",459,3)
L,BLANK^3000
"DATA",160.16,3,"FIELD",459,4)
DERIVED AJCC STAGE GROUP (165.5,166)
"DATA",160.16,3,"FIELD",460,0)
1155^1^1155^Derived SS1977
"DATA",160.16,3,"FIELD",460,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,167,"I")) K DATEDX
"DATA",160.16,3,"FIELD",460,2)
BLANK
"DATA",160.16,3,"FIELD",460,3)
L,BLANK^3010
"DATA",160.16,3,"FIELD",460,4)
DERIVED SS1977 (165.5,670)
"DATA",160.16,3,"FIELD",461,0)
1156^1^1156^Derived SS2000
"DATA",160.16,3,"FIELD",461,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,168,"I")) K DATEDX
"DATA",160.16,3,"FIELD",461,2)
BLANK
"DATA",160.16,3,"FIELD",461,3)
L,BLANK^3020
"DATA",160.16,3,"FIELD",461,4)
DERIVED SS2000 (165.5,168)
"DATA",160.16,3,"FIELD",462,0)
1158^1^1158^Derived AJCC--Flag
"DATA",160.16,3,"FIELD",462,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,166,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,3,"FIELD",462,2)
BLANK
"DATA",160.16,3,"FIELD",462,3)
L,BLANK^3030
"DATA",160.16,3,"FIELD",463,0)
1159^1^1159^Derived SS1977--Flag
"DATA",160.16,3,"FIELD",463,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,167,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,3,"FIELD",463,2)
BLANK
"DATA",160.16,3,"FIELD",463,3)
L,BLANK^3040
"DATA",160.16,3,"FIELD",464,0)
1160^1^1160^Derived SS2000--Flag
"DATA",160.16,3,"FIELD",464,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),CSX=$$GET1~DIQ(165.5,IEN,168,"I") S ACDANS=$S(DATEDX<3040000:"",CSX'="":1,1:"") K CSX,DATEDX
"DATA",160.16,3,"FIELD",464,2)
BLANK
"DATA",160.16,3,"FIELD",464,3)
L,BLANK^3050
"DATA",160.16,3,"FIELD",465,0)
1186^5^1190^Comorbid/Complication 1
"DATA",160.16,3,"FIELD",465,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",465,2)
ZERO
"DATA",160.16,3,"FIELD",465,3)
R,ZERO^3110
"DATA",160.16,3,"FIELD",465,4)
COMORBIDITY/COMPLICATION #1 (160,25)
"DATA",160.16,3,"FIELD",466,0)
1191^5^1195^Comorbid/Complication 2
"DATA",160.16,3,"FIELD",466,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",466,2)
BLANK
"DATA",160.16,3,"FIELD",466,3)
R,ZERO^3120
"DATA",160.16,3,"FIELD",466,4)
COMORBIDITY/COMPLICATION #2 (160,25.1)
"DATA",160.16,3,"FIELD",467,0)
1196^5^1200^Comorbid/Complication 3
"DATA",160.16,3,"FIELD",467,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",467,2)
BLANK
"DATA",160.16,3,"FIELD",467,3)
R,ZERO^3130
"DATA",160.16,3,"FIELD",467,4)
COMORBIDITY/COMPLICATION #3 (160,25.2)
"DATA",160.16,3,"FIELD",468,0)
1201^5^1205^Comorbid/Complication 4
"DATA",160.16,3,"FIELD",468,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",468,2)
BLANK
"DATA",160.16,3,"FIELD",468,3)
R,ZERO^3140
"DATA",160.16,3,"FIELD",468,4)
COMORBIDITY/COMPLICATION #4 (160,25.3)
"DATA",160.16,3,"FIELD",469,0)
1206^5^1210^Comorbid/Complication 5
"DATA",160.16,3,"FIELD",469,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.4,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",469,2)
BLANK
"DATA",160.16,3,"FIELD",469,3)
R,ZERO^3150
"DATA",160.16,3,"FIELD",469,4)
COMORBIDITY/COMPLICATION #5 (160,25.4)
"DATA",160.16,3,"FIELD",470,0)
1211^5^1215^Comorbid/Complication 6
"DATA",160.16,3,"FIELD",470,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.5,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",470,2)
BLANK
"DATA",160.16,3,"FIELD",470,3)
R,ZERO^3160
"DATA",160.16,3,"FIELD",470,4)
COMORBIDITY/COMPLICATION #6 (160,25.5)
"DATA",160.16,3,"FIELD",471,0)
1466^8^1473^RX Date Mst Defn Srg
"DATA",160.16,3,"FIELD",471,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"))
"DATA",160.16,3,"FIELD",471,2)
BLANK
"DATA",160.16,3,"FIELD",471,3)
R,BLANK^3170
"DATA",160.16,3,"FIELD",471,4)
MOST DEFINITIVE SURG DATE (165.5,50)
"DATA",160.16,3,"FIELD",472,0)
1476^8^1483^RX Date Surg Disch
"DATA",160.16,3,"FIELD",472,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"))
"DATA",160.16,3,"FIELD",472,2)
BLANK
"DATA",160.16,3,"FIELD",472,3)
R,BLANK^3180
"DATA",160.16,3,"FIELD",472,4)
DATE OF SURGICAL DISCHARGE (165.5,435)
"DATA",160.16,3,"FIELD",473,0)
1496^8^1503^RX Date Rad Ended
"DATA",160.16,3,"FIELD",473,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"))
"DATA",160.16,3,"FIELD",473,2)
BLANK
"DATA",160.16,3,"FIELD",473,3)
R,BLANK^3220
"DATA",160.16,3,"FIELD",473,4)
DATE RADIATION ENDED (165.5,361)
"DATA",160.16,3,"FIELD",474,0)
1506^8^1513^RX Date Systemic
"DATA",160.16,3,"FIELD",474,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,152) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="88/88/8888":8888888,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DATE~ONCACDU1(ACDDATE) K ACDDATE
"DATA",160.16,3,"FIELD",474,2)
BLANK
"DATA",160.16,3,"FIELD",474,3)
R,BLANK^3230
"DATA",160.16,3,"FIELD",474,4)
DATE SYSTEMIC THERAPY STARTED (165.5,152)
"DATA",160.16,3,"FIELD",475,0)
2538^1^2538^Recurrence Distant Site 2
"DATA",160.16,3,"FIELD",475,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.2,"I")
"DATA",160.16,3,"FIELD",475,2)
BLANK
"DATA",160.16,3,"FIELD",475,3)
L,BLANK^1872
"DATA",160.16,3,"FIELD",475,4)
DISTANT SITE 2 (165.5,71.2)
"DATA",160.16,3,"FIELD",476,0)
2539^1^2539^Recurrence Distant Site 3
"DATA",160.16,3,"FIELD",476,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,71.3,"I")
"DATA",160.16,3,"FIELD",476,2)
BLANK
"DATA",160.16,3,"FIELD",476,3)
L,BLANK^1873
"DATA",160.16,3,"FIELD",476,4)
DISTANT SITE 3 (165.5,71.3)
"DATA",160.16,3,"FIELD",477,0)
1579^1^1579^RX Summ--Palliative Proc
"DATA",160.16,3,"FIELD",477,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,12,"I")
"DATA",160.16,3,"FIELD",477,2)
NINE
"DATA",160.16,3,"FIELD",477,3)
L,BLANK^3270
"DATA",160.16,3,"FIELD",477,4)
PALLIATIVE PROCEDURE (165.5,12)
"DATA",160.16,3,"FIELD",478,0)
5065^500^5564^Reserved 13
"DATA",160.16,3,"FIELD",478,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",478,2)
BLANK
"DATA",160.16,3,"FIELD",478,3)
L,BLANK^2080
"DATA",160.16,3,"FIELD",479,0)
1583^2^1584^RX Summ--Transplnt/Endocr
"DATA",160.16,3,"FIELD",479,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,153,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(167,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",479,2)
BLANK
"DATA",160.16,3,"FIELD",479,3)
L,BLANK^3250
"DATA",160.16,3,"FIELD",479,4)
HEMA TRANS/ENDOCRINE PROC (165.5,153)
"DATA",160.16,3,"FIELD",480,0)
1609^2^1610^Rad--Boost RX Modality
"DATA",160.16,3,"FIELD",480,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,363.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(166.13,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",480,2)
ZERO
"DATA",160.16,3,"FIELD",480,3)
L,BLANK^3200
"DATA",160.16,3,"FIELD",480,4)
BOOST TREATMENT MODALITY (165.5,363.1)
"DATA",160.16,3,"FIELD",481,0)
1611^5^1615^Rad--Boost Dose: cGy
"DATA",160.16,3,"FIELD",481,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,443,"I")
"DATA",160.16,3,"FIELD",481,2)
ZERO
"DATA",160.16,3,"FIELD",481,3)
L,ZERO^3210
"DATA",160.16,3,"FIELD",481,4)
BOOST DOSE: cGy (165.5,443)
"DATA",160.16,3,"FIELD",482,0)
1619^1^1619^Readm Same Hosp 30 Days
"DATA",160.16,3,"FIELD",482,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,14,"I")
"DATA",160.16,3,"FIELD",482,2)
BLANK
"DATA",160.16,3,"FIELD",482,3)
L,BLANK^3190
"DATA",160.16,3,"FIELD",482,4)
READMISSION W/I 30 DAYS/SURG (165.5,14)
"DATA",160.16,3,"FIELD",483,0)
2342^1^2342^Agent Orange Exposure
"DATA",160.16,3,"FIELD",483,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,48,"I"))
"DATA",160.16,3,"FIELD",483,2)
BLANK
"DATA",160.16,3,"FIELD",483,3)
L,BLANK
"DATA",160.16,3,"FIELD",483,4)
AGENT ORANGE EXPOSURE (160,48)
"DATA",160.16,3,"FIELD",484,0)
3340^40^3379^Name--Last
"DATA",160.16,3,"FIELD",484,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.011,"E") D NL~ONCACDU1
"DATA",160.16,3,"FIELD",484,2)
BLANK
"DATA",160.16,3,"FIELD",484,3)
R,BLANK^2230
"DATA",160.16,3,"FIELD",484,4)
LAST  NAME (160,.011)
"DATA",160.16,3,"FIELD",485,0)
3380^40^3419^Name--First
"DATA",160.16,3,"FIELD",485,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P($P(ACDANS,",",2)," "),ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","") S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,3,"FIELD",485,2)
BLANK
"DATA",160.16,3,"FIELD",485,3)
R,BLANK^2240
"DATA",160.16,3,"FIELD",485,4)
NAME (160,.01)
"DATA",160.16,3,"FIELD",486,0)
3420^40^3459^Name--Middle
"DATA",160.16,3,"FIELD",486,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.015,"E"),ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","")
"DATA",160.16,3,"FIELD",486,2)
BLANK
"DATA",160.16,3,"FIELD",486,3)
R,BLANK^2250
"DATA",160.16,3,"FIELD",486,4)
MIDDLE NAME (160,.015)
"DATA",160.16,3,"FIELD",487,0)
3460^3^3462^Name--Prefix
"DATA",160.16,3,"FIELD",487,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",487,2)
BLANK
"DATA",160.16,3,"FIELD",487,3)
R,BLANK^2260
"DATA",160.16,3,"FIELD",488,0)
3463^3^3465^Name--Suffix
"DATA",160.16,3,"FIELD",488,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.01,"E") S:ACDANS'="" ACDANS=$P(ACDANS," ",3)
"DATA",160.16,3,"FIELD",488,2)
BLANK
"DATA",160.16,3,"FIELD",488,3)
R,BLANK^2270
"DATA",160.16,3,"FIELD",488,4)
NAME (160,.01)
"DATA",160.16,3,"FIELD",489,0)
3466^40^3505^Name--Alias
"DATA",160.16,3,"FIELD",489,1)
S ACDANS=$$GET1~DIQ(160,ACD160,1,"E") D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",489,2)
BLANK
"DATA",160.16,3,"FIELD",489,3)
R,BLANK^2280
"DATA",160.16,3,"FIELD",489,4)
ALIAS (160,1)
"DATA",160.16,3,"FIELD",490,0)
3506^40^3545^Name--Maiden
"DATA",160.16,3,"FIELD",490,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",490,2)
BLANK
"DATA",160.16,3,"FIELD",490,3)
R,BLANK^2390
"DATA",160.16,3,"FIELD",491,0)
3546^60^3605^Name--Spouse/Parent
"DATA",160.16,3,"FIELD",491,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",491,2)
BLANK
"DATA",160.16,3,"FIELD",491,3)
R,BLANK^2290
"DATA",160.16,3,"FIELD",492,0)
3606^11^3616^Medical Record Number
"DATA",160.16,3,"FIELD",492,1)
S ACDANS=$$GET1~DIQ(160,ACD160,2,"E"),ACDANS=$E(ACDANS,1,3)_$E(ACDANS,5,6)_$E(ACDANS,8,11)
"DATA",160.16,3,"FIELD",492,2)
BLANK
"DATA",160.16,3,"FIELD",492,3)
L,ZERO^2300
"DATA",160.16,3,"FIELD",492,4)
SSN (160,2)
"DATA",160.16,3,"FIELD",493,0)
3617^2^3618^Military Record No Suffix
"DATA",160.16,3,"FIELD",493,1)
S ACDANS=99
"DATA",160.16,3,"FIELD",493,2)
BLANK
"DATA",160.16,3,"FIELD",493,3)
L,ZERO^2310
"DATA",160.16,3,"FIELD",494,0)
3619^9^3627^Social Security Number
"DATA",160.16,3,"FIELD",494,1)
S ACDANS=$P($$GET1~DIQ(160,ACD160,2,"E"),"-")_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",2)_$P($$GET1~DIQ(160,ACD160,2,"E"),"-",3)
"DATA",160.16,3,"FIELD",494,2)
NINE
"DATA",160.16,3,"FIELD",494,3)
L,BLANK^2320
"DATA",160.16,3,"FIELD",494,4)
SSN (160,2)
"DATA",160.16,3,"FIELD",495,0)
3628^60^3687^Addr at DX--No & Street
"DATA",160.16,3,"FIELD",495,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8,"E") D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",495,2)
BLANK
"DATA",160.16,3,"FIELD",495,3)
R,BLANK^2330
"DATA",160.16,3,"FIELD",495,4)
PATIENT ADDRESS AT DX (165.5,8)
"DATA",160.16,3,"FIELD",496,0)
3688^60^3747^Addr at DX--Supplementl
"DATA",160.16,3,"FIELD",496,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,8.2,"E") D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",496,2)
BLANK
"DATA",160.16,3,"FIELD",496,3)
R,BLANK^2335
"DATA",160.16,3,"FIELD",496,4)
PATIENT ADDRESS AT DX - SUPP (165.5,8.2)
"DATA",160.16,3,"FIELD",497,0)
3748^60^3807^Addr Current--No & Street
"DATA",160.16,3,"FIELD",497,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.119,"E") D STRIP~ONCACDU2 S:ACDANS="" ACDANS="UNKNOWN"
"DATA",160.16,3,"FIELD",497,2)
BLANK
"DATA",160.16,3,"FIELD",497,3)
R,BLANK^2350
"DATA",160.16,3,"FIELD",497,4)
PATIENT ADDRESS - CURRENT (160,.119)
"DATA",160.16,3,"FIELD",498,0)
3808^60^3867^Addr Current--Supplementl
"DATA",160.16,3,"FIELD",498,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.1191,"E") D STRIP~ONCACDU2
"DATA",160.16,3,"FIELD",498,2)
BLANK
"DATA",160.16,3,"FIELD",498,3)
R,BLANK^2355
"DATA",160.16,3,"FIELD",498,4)
PATIENT ADDRESS - CURRENT SUPP (160,.1191)
"DATA",160.16,3,"FIELD",499,0)
3868^10^3877^Telephone
"DATA",160.16,3,"FIELD",499,1)
S ACDANS=$$GET1~DIQ(160,ACD160,.131,"E") I ACDANS'="" S ACDANS=$TR(ACDANS,"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz`~!@#$%&*()-_=+[{]}\|;:',<.>/? ","") I ACDANS'?10N S ACDANS=""
"DATA",160.16,3,"FIELD",499,2)
NINE
"DATA",160.16,3,"FIELD",499,3)
R,BLANK^2360
"DATA",160.16,3,"FIELD",499,4)
TELEPHONE (160,.131)
"DATA",160.16,3,"FIELD",500,0)
3878^6^3883^DC State File Number
"DATA",160.16,3,"FIELD",500,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",500,2)
BLANK
"DATA",160.16,3,"FIELD",500,3)
L,BLANK^2380
"DATA",160.16,3,"FIELD",501,0)
3884^60^3943^Follow-Up Contact--Name
"DATA",160.16,3,"FIELD",501,1)
S ACDANS=$$FCNODE~ONCACDU2(ACD160,.01,"E"),ACDANS=$P(ACDANS,",",2)_" "_$P(ACDANS,",",1),ACDANS=$$TRIM~XLFSTR(ACDANS)
"DATA",160.16,3,"FIELD",501,2)
BLANK
"DATA",160.16,3,"FIELD",501,3)
R,BLANK^2394
"DATA",160.16,3,"FIELD",501,4)
CONTACT (165,.01)
"DATA",160.16,3,"FIELD",502,0)
3944^60^4003^Follow-Up Contact--No&St
"DATA",160.16,3,"FIELD",502,1)
S ACDANS=$$FCNODE~ONCACDU2(ACD160,.111,"E")
"DATA",160.16,3,"FIELD",502,2)
BLANK
"DATA",160.16,3,"FIELD",502,3)
R,BLANK^2392
"DATA",160.16,3,"FIELD",502,4)
STREET ADDRESS 1 (165,.111)
"DATA",160.16,3,"FIELD",503,0)
4004^60^4063^Follow-Up Contact--Suppl
"DATA",160.16,3,"FIELD",503,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",503,2)
BLANK
"DATA",160.16,3,"FIELD",503,3)
L,BLANK^2393
"DATA",160.16,3,"FIELD",504,0)
4064^10^4073^Latitude
"DATA",160.16,3,"FIELD",504,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",504,2)
BLANK
"DATA",160.16,3,"FIELD",504,3)
L,BLANK^2352
"DATA",160.16,3,"FIELD",505,0)
4074^11^4084^Longitude
"DATA",160.16,3,"FIELD",505,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",505,2)
BLANK
"DATA",160.16,3,"FIELD",505,3)
L,BLANK^2354
"DATA",160.16,3,"FIELD",506,0)
4085^200^4284^Reserved 10
"DATA",160.16,3,"FIELD",506,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",506,2)
BLANK
"DATA",160.16,3,"FIELD",506,3)
L,BLANK^1835
"DATA",160.16,3,"FIELD",508,0)
4295^10^4304^Following Registry
"DATA",160.16,3,"FIELD",508,1)
S ACDANS=$$FNODE~ONCACDU2(ACD160,10) S:ACDANS'="" ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",508,2)
ZERO
"DATA",160.16,3,"FIELD",508,3)
L,ZERO^2440
"DATA",160.16,3,"FIELD",508,4)
FOLLOWING REGISTRY (160.04,10)
"DATA",160.16,3,"FIELD",509,0)
4315^10^4324^Institution Referred From
"DATA",160.16,3,"FIELD",509,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,6,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,3,"FIELD",509,2)
ZERO
"DATA",160.16,3,"FIELD",509,3)
L,ZERO^2410
"DATA",160.16,3,"FIELD",509,4)
FACILITY REFERRED FROM (165.5,6)
"DATA",160.16,3,"FIELD",510,0)
4335^10^4344^Institution Referred To
"DATA",160.16,3,"FIELD",510,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,7,"I") I ACDANS'="" S ACDANS=$$GET1~DIQ(160.19,ACDANS,.01,"I") S ACDANS=$S(+ACDANS=0:ACDANS,1:ACDANS)
"DATA",160.16,3,"FIELD",510,2)
ZERO
"DATA",160.16,3,"FIELD",510,3)
L,ZERO^2420
"DATA",160.16,3,"FIELD",510,4)
FACILITY REFERRED TO (165.5,7)
"DATA",160.16,3,"FIELD",511,0)
4305^10^4314^NPI--Inst Referred From
"DATA",160.16,3,"FIELD",511,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,6,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,3,"FIELD",511,2)
BLANK
"DATA",160.16,3,"FIELD",511,3)
L,BLANK^2415
"DATA",160.16,3,"FIELD",511,4)
NPI (160.19,101)
"DATA",160.16,3,"FIELD",512,0)
4405^8^4412^Physician--Managing
"DATA",160.16,3,"FIELD",512,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,3,"FIELD",512,2)
NINE
"DATA",160.16,3,"FIELD",512,3)
R,BLANK^2460
"DATA",160.16,3,"FIELD",512,4)
MANAGING PHYSICIAN (165.5,2.2)
"DATA",160.16,3,"FIELD",513,0)
4423^8^4430^Physician--Follow-Up
"DATA",160.16,3,"FIELD",513,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.1,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,3,"FIELD",513,2)
NINE
"DATA",160.16,3,"FIELD",513,3)
R,BLANK^2470
"DATA",160.16,3,"FIELD",513,4)
FOLLOWING PHYSICIAN (165.5,2.1)
"DATA",160.16,3,"FIELD",514,0)
4441^8^4448^Physician--Primary Surg
"DATA",160.16,3,"FIELD",514,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,3,"FIELD",514,2)
ZERO
"DATA",160.16,3,"FIELD",514,3)
R,BLANK^2480
"DATA",160.16,3,"FIELD",514,4)
PRIMARY SURGEON (165.5,2)
"DATA",160.16,3,"FIELD",515,0)
4459^8^4466^Physician 3
"DATA",160.16,3,"FIELD",515,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.3,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,3,"FIELD",515,2)
ZERO
"DATA",160.16,3,"FIELD",515,3)
R,BLANK^2490
"DATA",160.16,3,"FIELD",515,4)
PHYSICIAN #3 (165.5,2.3)
"DATA",160.16,3,"FIELD",516,0)
4477^8^4484^Physician 4
"DATA",160.16,3,"FIELD",516,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,2.4,"E") I ACDANS'="",(ACDANS'="00000000")&(ACDANS'=88888888)&(ACDANS'=99999999) S ACDANS=ACDANS_"0",ACDANS=$E(ACDANS,1,4)_"1234",ACDANS=$TR(ACDANS,"!#$%&*()_+-=[]:;'<,>.?/\","000000000000000000000000")
"DATA",160.16,3,"FIELD",516,2)
ZERO
"DATA",160.16,3,"FIELD",516,3)
R,BLANK^2500
"DATA",160.16,3,"FIELD",516,4)
PHYSICIAN #4 (165.5,2.4)
"DATA",160.16,3,"FIELD",517,0)
4395^10^4404^NPI--Physician--Managing
"DATA",160.16,3,"FIELD",517,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.2,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,3,"FIELD",517,2)
BLANK
"DATA",160.16,3,"FIELD",517,3)
L,BLANK^2465
"DATA",160.16,3,"FIELD",517,4)
NPI (165,101)
"DATA",160.16,3,"FIELD",518,0)
5565^1000^6564^Text--DX Proc--PE
"DATA",160.16,3,"FIELD",518,1)
S ACDANS=$$WORD~ONCACDU2(IEN,10,1000)
"DATA",160.16,3,"FIELD",518,2)
BLANK
"DATA",160.16,3,"FIELD",518,3)
R,BLANK^2520
"DATA",160.16,3,"FIELD",518,4)
TEXT-DX PROC-PE (165.5,104)
"DATA",160.16,3,"FIELD",519,0)
6565^1000^7564^Text--DX Proc--X-ray/Scan
"DATA",160.16,3,"FIELD",519,1)
S ACDANS=$$WORD~ONCACDU2(IEN,11,1000)
"DATA",160.16,3,"FIELD",519,2)
BLANK
"DATA",160.16,3,"FIELD",519,3)
R,BLANK^2530
"DATA",160.16,3,"FIELD",519,4)
TEXT-DX PROC-X-RAY/SCAN (165.5,105)
"DATA",160.16,3,"FIELD",520,0)
7565^1000^8564^Text--DX Proc--Scopes
"DATA",160.16,3,"FIELD",520,1)
S ACDANS=$$WORD~ONCACDU2(IEN,12,1000)
"DATA",160.16,3,"FIELD",520,2)
BLANK
"DATA",160.16,3,"FIELD",520,3)
R,BLANK^2540
"DATA",160.16,3,"FIELD",520,4)
TEXT-DX PROC-SCOPES (165.5,106)
"DATA",160.16,3,"FIELD",521,0)
8565^1000^9564^Text--DX Proc--Lab Tests
"DATA",160.16,3,"FIELD",521,1)
S ACDANS=$$WORD~ONCACDU2(IEN,22,1000)
"DATA",160.16,3,"FIELD",521,2)
BLANK
"DATA",160.16,3,"FIELD",521,3)
R,BLANK^2550
"DATA",160.16,3,"FIELD",521,4)
TEXT-DX PROC-LAB TESTS (165.5,116)
"DATA",160.16,3,"FIELD",522,0)
9565^1000^10564^Text--DX Proc--Op
"DATA",160.16,3,"FIELD",522,1)
S ACDANS=$$WORD~ONCACDU2(IEN,9,1000)
"DATA",160.16,3,"FIELD",522,2)
BLANK
"DATA",160.16,3,"FIELD",522,3)
R,BLANK^2560
"DATA",160.16,3,"FIELD",522,4)
TEXT-DX PROC-OP (165.5,103)
"DATA",160.16,3,"FIELD",523,0)
10565^1000^11564^Text--DX Proc--Path
"DATA",160.16,3,"FIELD",523,1)
S ACDANS=$$WORD~ONCACDU2(IEN,13,1000)
"DATA",160.16,3,"FIELD",523,2)
BLANK
"DATA",160.16,3,"FIELD",523,3)
R,BLANK^2570
"DATA",160.16,3,"FIELD",523,4)
TEXT-DX PROC-PATH (165.5,107)
"DATA",160.16,3,"FIELD",524,0)
11565^100^11664^Text--Primary Site Title
"DATA",160.16,3,"FIELD",524,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,100,"E")
"DATA",160.16,3,"FIELD",524,2)
BLANK
"DATA",160.16,3,"FIELD",524,3)
R,BLANK^2580
"DATA",160.16,3,"FIELD",524,4)
TEXT-PRIMARY SITE TITLE (165.5,100)
"DATA",160.16,3,"FIELD",525,0)
11665^100^11764^Text--Histology Title
"DATA",160.16,3,"FIELD",525,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,101,"E")
"DATA",160.16,3,"FIELD",525,2)
BLANK
"DATA",160.16,3,"FIELD",525,3)
R,BLANK^2590
"DATA",160.16,3,"FIELD",525,4)
TEXT-HISTOLOGY TITLE (165.5,101)
"DATA",160.16,3,"FIELD",526,0)
11765^1000^12764^Text--Staging
"DATA",160.16,3,"FIELD",526,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",526,2)
BLANK
"DATA",160.16,3,"FIELD",526,3)
R,BLANK^2600
"DATA",160.16,3,"FIELD",527,0)
12765^1000^13764^RX Text--Surgery
"DATA",160.16,3,"FIELD",527,1)
S ACDANS=$$WORD~ONCACDU2(IEN,14,1000)
"DATA",160.16,3,"FIELD",527,2)
BLANK
"DATA",160.16,3,"FIELD",527,3)
R,BLANK^2610
"DATA",160.16,3,"FIELD",527,4)
RX TEXT-SURGERY (165.5,108)
"DATA",160.16,3,"FIELD",528,0)
13765^1000^14764^RX Text--Radiation (Beam)
"DATA",160.16,3,"FIELD",528,1)
S ACDANS=$$WORD~ONCACDU2(IEN,15,1000)
"DATA",160.16,3,"FIELD",528,2)
BLANK
"DATA",160.16,3,"FIELD",528,3)
R,BLANK^2620
"DATA",160.16,3,"FIELD",528,4)
RX TEXT-RADIATION (165.5,109)
"DATA",160.16,3,"FIELD",529,0)
14765^1000^15764^RX Text--Radiation Other
"DATA",160.16,3,"FIELD",529,1)
S ACDANS=$$WORD~ONCACDU2(IEN,16,1000)
"DATA",160.16,3,"FIELD",529,2)
BLANK
"DATA",160.16,3,"FIELD",529,3)
R,BLANK^2630
"DATA",160.16,3,"FIELD",529,4)
RX TEXT-RADIATION OTHER (165.5,110)
"DATA",160.16,3,"FIELD",530,0)
15765^1000^16764^RX Text--Chemo
"DATA",160.16,3,"FIELD",530,1)
S ACDANS=$$WORD~ONCACDU2(IEN,17,1000)
"DATA",160.16,3,"FIELD",530,2)
BLANK
"DATA",160.16,3,"FIELD",530,3)
R,BLANK^2640
"DATA",160.16,3,"FIELD",530,4)
RX TEXT-CHEMO (165.5,111)
"DATA",160.16,3,"FIELD",531,0)
16765^1000^17764^RX Text--Hormone
"DATA",160.16,3,"FIELD",531,1)
S ACDANS=$$WORD~ONCACDU2(IEN,18,1000)
"DATA",160.16,3,"FIELD",531,2)
BLANK
"DATA",160.16,3,"FIELD",531,3)
R,BLANK^2650
"DATA",160.16,3,"FIELD",531,4)
RX TEXT-HORMONE (165.5,112)
"DATA",160.16,3,"FIELD",532,0)
17765^1000^18764^RX Text--BRM
"DATA",160.16,3,"FIELD",532,1)
S ACDANS=$$WORD~ONCACDU2(IEN,20,1000)
"DATA",160.16,3,"FIELD",532,2)
BLANK
"DATA",160.16,3,"FIELD",532,3)
R,BLANK^2660
"DATA",160.16,3,"FIELD",532,4)
RX TEXT-BRM (165.5,114)
"DATA",160.16,3,"FIELD",533,0)
18765^1000^19764^RX Text--Other
"DATA",160.16,3,"FIELD",533,1)
S ACDANS=$$WORD~ONCACDU2(IEN,21,1000)
"DATA",160.16,3,"FIELD",533,2)
BLANK
"DATA",160.16,3,"FIELD",533,3)
R,BLANK^2670
"DATA",160.16,3,"FIELD",533,4)
RX TEXT-OTHER (165.5,115)
"DATA",160.16,3,"FIELD",534,0)
19765^1000^20764^Text--Remarks
"DATA",160.16,3,"FIELD",534,1)
S ACDANS=$$WORD~ONCACDU2(IEN,19,1000)
"DATA",160.16,3,"FIELD",534,2)
BLANK
"DATA",160.16,3,"FIELD",534,3)
R,BLANK^2680
"DATA",160.16,3,"FIELD",534,4)
TEXT-REMARKS (165.5,113)
"DATA",160.16,3,"FIELD",535,0)
20765^60^20824^Text--Place of Diagnosis
"DATA",160.16,3,"FIELD",535,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,5,"E")
"DATA",160.16,3,"FIELD",535,2)
BLANK
"DATA",160.16,3,"FIELD",535,3)
R,BLANK^2690
"DATA",160.16,3,"FIELD",535,4)
DX FACILITY (165.5,5)
"DATA",160.16,3,"FIELD",536,0)
20825^2000^22824^Reserved 14
"DATA",160.16,3,"FIELD",536,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",536,2)
BLANK
"DATA",160.16,3,"FIELD",536,3)
L,BLANK^2210
"DATA",160.16,3,"FIELD",537,0)
2343^1^2343^Ionizing Radiation Exposure
"DATA",160.16,3,"FIELD",537,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,50,"I"))
"DATA",160.16,3,"FIELD",537,2)
BLANK
"DATA",160.16,3,"FIELD",537,3)
L,BLANK
"DATA",160.16,3,"FIELD",537,4)
IONIZING RADIATION EXPOSURE (160,50)
"DATA",160.16,3,"FIELD",538,0)
2350^1^2350^Persian Gulf Service
"DATA",160.16,3,"FIELD",538,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,51,"I"))
"DATA",160.16,3,"FIELD",538,2)
BLANK
"DATA",160.16,3,"FIELD",538,3)
L,BLANK
"DATA",160.16,3,"FIELD",538,4)
PERSIAN GULF SERVICE (160,51)
"DATA",160.16,3,"FIELD",539,0)
2344^1^2344^Chemical Exposure
"DATA",160.16,3,"FIELD",539,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,52,"I"))
"DATA",160.16,3,"FIELD",539,2)
BLANK
"DATA",160.16,3,"FIELD",539,3)
L,BLANK
"DATA",160.16,3,"FIELD",539,4)
CHEMICAL EXPOSURE (160,52)
"DATA",160.16,3,"FIELD",540,0)
2345^1^2345^Asbestos Exposure
"DATA",160.16,3,"FIELD",540,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,61,"I"))
"DATA",160.16,3,"FIELD",540,2)
BLANK
"DATA",160.16,3,"FIELD",540,3)
L,BLANK
"DATA",160.16,3,"FIELD",540,4)
ASBESTOS EXPOSURE (160,61)
"DATA",160.16,3,"FIELD",541,0)
2340^2^2341^VISN
"DATA",160.16,3,"FIELD",541,1)
S ACDANS=$$VASIT~ONCACDU2
"DATA",160.16,3,"FIELD",541,2)
BLANK
"DATA",160.16,3,"FIELD",541,3)
L,ZERO
"DATA",160.16,3,"FIELD",541,4)
VISN (160.1,7)
"DATA",160.16,3,"FIELD",542,0)
1454^2^1455^Date 1st Crs RX CoC Flag
"DATA",160.16,3,"FIELD",542,1)
S ITEM=1271,ACDANS=$$GET1~DIQ(165.5,IEN,49) I ACDANS'="" S ACDDATE=$S(ACDANS="99/99/9999":9999999,ACDANS="00/00/0000":"0000000",1:($E(ACDANS,7,10)-1700)_$E(ACDANS,1,2)_$E(ACDANS,4,5)),ACDANS=$$DTFLAG~ONCACDU1(ACDDATE,ITEM) K ACDDATE
"DATA",160.16,3,"FIELD",542,2)
BLANK
"DATA",160.16,3,"FIELD",542,3)
L,BLANK^1271
"DATA",160.16,3,"FIELD",543,0)
2357^50^2406^Family History of Cancer Text
"DATA",160.16,3,"FIELD",543,1)
D FHCT~ONCACDU1
"DATA",160.16,3,"FIELD",543,2)
BLANK
"DATA",160.16,3,"FIELD",543,3)
R,BLANK
"DATA",160.16,3,"FIELD",543,4)
FAMILY MEMBER WITH CANCER (160,44)
"DATA",160.16,3,"FIELD",544,0)
2435^15^2449^Other Staging System
"DATA",160.16,3,"FIELD",544,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,39,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.3,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",544,2)
BLANK
"DATA",160.16,3,"FIELD",544,3)
R,BLANK^1070
"DATA",160.16,3,"FIELD",544,4)
OTHER STAGING SYSTEM (165.5,39)
"DATA",160.16,3,"FIELD",545,0)
2432^1^2432^AFIP Submission
"DATA",160.16,3,"FIELD",545,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,83,"I")
"DATA",160.16,3,"FIELD",545,2)
BLANK
"DATA",160.16,3,"FIELD",545,3)
L,BLANK
"DATA",160.16,3,"FIELD",545,4)
AFIP SUBMISSION (165.5,83)
"DATA",160.16,3,"FIELD",546,0)
2412^20^2431^Previous History of Cancer Text
"DATA",160.16,3,"FIELD",546,1)
D PHCT~ONCACDU1
"DATA",160.16,3,"FIELD",546,2)
BLANK
"DATA",160.16,3,"FIELD",546,3)
R,BLANK
"DATA",160.16,3,"FIELD",546,4)
CANCER #1 (165.5,148.1), CANCER #2 (165.5,148.2), CANCER #3 (165.5,148.3), CANCER #4 (165.5,148.4)
"DATA",160.16,3,"FIELD",547,0)
2636^704^3339^Reserved for Expansion
"DATA",160.16,3,"FIELD",547,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",547,2)
BLANK
"DATA",160.16,3,"FIELD",547,3)
L,BLANK
"DATA",160.16,3,"FIELD",548,0)
2411^1^2411^Previous History of Cancer
"DATA",160.16,3,"FIELD",548,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,148,"I")
"DATA",160.16,3,"FIELD",548,2)
BLANK
"DATA",160.16,3,"FIELD",548,3)
L,BLANK
"DATA",160.16,3,"FIELD",548,4)
PREVIOUS HISTORY OF CANCER (165.5,148)
"DATA",160.16,3,"FIELD",549,0)
2351^1^2351^Somalia Service
"DATA",160.16,3,"FIELD",549,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,56,"I"))
"DATA",160.16,3,"FIELD",549,2)
BLANK
"DATA",160.16,3,"FIELD",549,3)
L,BLANK
"DATA",160.16,3,"FIELD",549,4)
SOMALIA SERVICE (160,56)
"DATA",160.16,3,"FIELD",550,0)
2347^1^2347^Lebanon Service
"DATA",160.16,3,"FIELD",550,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,55,"I"))
"DATA",160.16,3,"FIELD",550,2)
BLANK
"DATA",160.16,3,"FIELD",550,3)
L,BLANK
"DATA",160.16,3,"FIELD",550,4)
LEBANON SERVICE (160,55)
"DATA",160.16,3,"FIELD",551,0)
2433^1^2433^Hepatitis C
"DATA",160.16,3,"FIELD",551,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1010,"I")
"DATA",160.16,3,"FIELD",551,2)
BLANK
"DATA",160.16,3,"FIELD",551,3)
L,BLANK
"DATA",160.16,3,"FIELD",551,4)
HEPATITIS C (165.5,1010)
"DATA",160.16,3,"FIELD",553,0)
802^1^802^RX Hosp--Scope Reg 98-02
"DATA",160.16,3,"FIELD",553,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138.1,"SC5")
"DATA",160.16,3,"FIELD",553,2)
BLANK
"DATA",160.16,3,"FIELD",553,3)
L,BLANK^747
"DATA",160.16,3,"FIELD",553,4)
SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"DATA",160.16,3,"FIELD",554,0)
803^1^803^RX Hosp--Surg Oth 98-02
"DATA",160.16,3,"FIELD",554,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139.1,"SO5")
"DATA",160.16,3,"FIELD",554,2)
BLANK
"DATA",160.16,3,"FIELD",554,3)
L,BLANK^748
"DATA",160.16,3,"FIELD",554,4)
SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"DATA",160.16,3,"FIELD",555,0)
804^100^903^Reserved 04
"DATA",160.16,3,"FIELD",555,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",555,2)
BLANK
"DATA",160.16,3,"FIELD",555,3)
L,BLANK^750
"DATA",160.16,3,"FIELD",556,0)
1620^2^1621^RX Summ--Surg Site 98-02
"DATA",160.16,3,"FIELD",556,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,58.2,"SPS")
"DATA",160.16,3,"FIELD",556,2)
BLANK
"DATA",160.16,3,"FIELD",556,3)
L,ZERO^1646
"DATA",160.16,3,"FIELD",556,4)
SURGERY OF PRIMARY (R) (165.5,58.2)
"DATA",160.16,3,"FIELD",557,0)
1622^1^1622^RX Summ--Scope Reg 98-02
"DATA",160.16,3,"FIELD",557,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,138,"SC5")
"DATA",160.16,3,"FIELD",557,2)
BLANK
"DATA",160.16,3,"FIELD",557,3)
L,BLANK^1647
"DATA",160.16,3,"FIELD",557,4)
SCOPE OF LN SURGERY (R) (165.5,138)
"DATA",160.16,3,"FIELD",558,0)
1623^1^1623^RX Summ--Surg Oth 98-02
"DATA",160.16,3,"FIELD",558,1)
S ACDANS=$$RXPRI~ONCACDU2(IEN,139,"SO5")
"DATA",160.16,3,"FIELD",558,2)
BLANK
"DATA",160.16,3,"FIELD",558,3)
L,BLANK^1648
"DATA",160.16,3,"FIELD",558,4)
SURG PROC/OTHER SITE (R) (165.5,139)
"DATA",160.16,3,"FIELD",559,0)
1167^6^1172^CS Version Input Original
"DATA",160.16,3,"FIELD",559,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169.1,"I")) K DATEDX
"DATA",160.16,3,"FIELD",559,2)
BLANK
"DATA",160.16,3,"FIELD",559,3)
L,BLANK^2935
"DATA",160.16,3,"FIELD",559,4)
CS VERSION INPUT ORIGINAL (165.5,169.1)
"DATA",160.16,3,"FIELD",560,0)
1173^6^1178^CS Version Derived
"DATA",160.16,3,"FIELD",560,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,3,"FIELD",560,2)
BLANK
"DATA",160.16,3,"FIELD",560,3)
L,BLANK^2936
"DATA",160.16,3,"FIELD",560,4)
CS VERSION DERIVED (165.5,169)
"DATA",160.16,3,"FIELD",562,0)
1221^5^1225^Comorbid/Complication 8
"DATA",160.16,3,"FIELD",562,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",562,2)
BLANK
"DATA",160.16,3,"FIELD",562,3)
R,ZERO^3162
"DATA",160.16,3,"FIELD",562,4)
COMORBIDITY/COMPLICATION #8 (160,25.7)
"DATA",160.16,3,"FIELD",563,0)
1226^5^1230^Comorbid/Complication 9
"DATA",160.16,3,"FIELD",563,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.8,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",563,2)
BLANK
"DATA",160.16,3,"FIELD",563,3)
R,ZERO^3163
"DATA",160.16,3,"FIELD",563,4)
COMORBIDITY/COMPLICATION #9 (160,25.8)
"DATA",160.16,3,"FIELD",564,0)
1231^5^1235^Comorbid/Complication 10
"DATA",160.16,3,"FIELD",564,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25.9,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(80,ACDANS,.01,"I") S ACDANS=$P(ACDANS,".",1)_$P(ACDANS,".",2)
"DATA",160.16,3,"FIELD",564,2)
BLANK
"DATA",160.16,3,"FIELD",564,3)
R,ZERO^3164
"DATA",160.16,3,"FIELD",564,4)
COMORBIDITY/COMPLICATION #10 (160,25.9)
"DATA",160.16,3,"FIELD",565,0)
1185^1^1185^ICD Revision Comorbid
"DATA",160.16,3,"FIELD",565,1)
S ACDANS=$$GET1~DIQ(160,ACD160,25,"I"),ACDANS=$S(ACDANS="":0,1:9)
"DATA",160.16,3,"FIELD",565,2)
BLANK
"DATA",160.16,3,"FIELD",565,3)
L,BLANK^3165
"DATA",160.16,3,"FIELD",565,4)
0 = No secondary diagnosis reported.  9 = ICD-9.
"DATA",160.16,3,"FIELD",567,0)
50^8^57^Patient System ID-Hosp
"DATA",160.16,3,"FIELD",567,1)
S ACDANS=ACD160
"DATA",160.16,3,"FIELD",567,2)
BLANK
"DATA",160.16,3,"FIELD",567,3)
L,ZERO^21
"DATA",160.16,3,"FIELD",567,4)
ONCOLOGY PATIENT file IEN
"DATA",160.16,3,"FIELD",568,0)
418^1^418^NHIA Derived Hisp Origin
"DATA",160.16,3,"FIELD",568,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",568,2)
BLANK
"DATA",160.16,3,"FIELD",568,3)
L,BLANK^191
"DATA",160.16,3,"FIELD",568,4)
Blank = Algorithm has not been run
"DATA",160.16,3,"FIELD",569,0)
421^1^421^IHS Link
"DATA",160.16,3,"FIELD",569,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",569,2)
BLANK
"DATA",160.16,3,"FIELD",569,3)
L,BLANK^192
"DATA",160.16,3,"FIELD",569,4)
Blank = Record not sent for linkage or linkage result pending
"DATA",160.16,3,"FIELD",570,0)
422^2^423^GIS Coordinate Quality
"DATA",160.16,3,"FIELD",570,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",570,2)
BLANK
"DATA",160.16,3,"FIELD",570,3)
L,BLANK^366
"DATA",160.16,3,"FIELD",570,4)
Blank = Not applicable, coordinate assignment not attempted
"DATA",160.16,3,"FIELD",571,0)
564^2^565^Casefinding Source
"DATA",160.16,3,"FIELD",571,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX>3061231:$$GET1~DIQ(165.5,IEN,21,"I"),1:"  ") K DATEDX
"DATA",160.16,3,"FIELD",571,2)
NINE
"DATA",160.16,3,"FIELD",571,3)
L,BLANK^501
"DATA",160.16,3,"FIELD",571,4)
CASEFINDING SOURCE (165.5,21)
"DATA",160.16,3,"FIELD",572,0)
566^1^566^Ambiguous Terminology DX
"DATA",160.16,3,"FIELD",572,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,159,"I")
"DATA",160.16,3,"FIELD",572,2)
BLANK
"DATA",160.16,3,"FIELD",572,3)
L,BLANK^442
"DATA",160.16,3,"FIELD",572,4)
AMBIGUOUS TERMINOLOGY (165.5,159)
"DATA",160.16,3,"FIELD",573,0)
567^8^574^Date Conclusive DX
"DATA",160.16,3,"FIELD",573,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"))
"DATA",160.16,3,"FIELD",573,2)
BLANK
"DATA",160.16,3,"FIELD",573,3)
R,BLANK^443
"DATA",160.16,3,"FIELD",573,4)
DATE OF CONCLUSIVE DX (165.5,193)
"DATA",160.16,3,"FIELD",574,0)
577^2^578^Mult Tum Rpt as One Prim
"DATA",160.16,3,"FIELD",574,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,194,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(169,ACDANS,.01,"I")
"DATA",160.16,3,"FIELD",574,2)
BLANK
"DATA",160.16,3,"FIELD",574,3)
L,BLANK^444
"DATA",160.16,3,"FIELD",574,4)
MULT TUM RPT AS ONE PRIM (165.5,194)
"DATA",160.16,3,"FIELD",575,0)
579^8^586^Date of Mult Tumors
"DATA",160.16,3,"FIELD",575,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"))
"DATA",160.16,3,"FIELD",575,2)
BLANK
"DATA",160.16,3,"FIELD",575,3)
R,BLANK^445
"DATA",160.16,3,"FIELD",575,4)
DATE OF MULTIPLE TUMORS (165.5,195)
"DATA",160.16,3,"FIELD",576,0)
589^2^590^Multiplicity Counter
"DATA",160.16,3,"FIELD",576,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,196,"I")
"DATA",160.16,3,"FIELD",576,2)
BLANK
"DATA",160.16,3,"FIELD",576,3)
L,BLANK^446
"DATA",160.16,3,"FIELD",576,4)
MULTIPLICITY COUNTER (165.5,196)
"DATA",160.16,3,"FIELD",578,0)
2407^4^2410^Year First Seen This CA
"DATA",160.16,3,"FIELD",578,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,.07,"I")
"DATA",160.16,3,"FIELD",578,2)
BLANK
"DATA",160.16,3,"FIELD",578,3)
L,ZERO^620
"DATA",160.16,3,"FIELD",578,4)
ACCESSION YEAR (165.5,.07)
"DATA",160.16,3,"FIELD",579,0)
2480^1^2480^Protocol Eligibility Stat
"DATA",160.16,3,"FIELD",579,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,346,"I")
"DATA",160.16,3,"FIELD",579,2)
BLANK
"DATA",160.16,3,"FIELD",579,3)
L,BLANK^1470
"DATA",160.16,3,"FIELD",579,4)
PROTOCOL ELIGIBILITY STATUS (165.5,346)
"DATA",160.16,3,"FIELD",580,0)
2481^2^2482^Protocol Participation
"DATA",160.16,3,"FIELD",580,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,560,"I")
"DATA",160.16,3,"FIELD",580,2)
BLANK
"DATA",160.16,3,"FIELD",580,3)
L,BLANK^1480
"DATA",160.16,3,"FIELD",580,4)
PROTOCOL PARTICIPATION (165.5,560)
"DATA",160.16,3,"FIELD",582,0)
2278^2^2279^Follow-Up Source Central
"DATA",160.16,3,"FIELD",582,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",582,2)
BLANK
"DATA",160.16,3,"FIELD",582,3)
L,BLANK^1791
"DATA",160.16,3,"FIELD",582,4)
This field is created by the central registry.
"DATA",160.16,3,"FIELD",583,0)
2434^1^2434^Performance Status at Dx
"DATA",160.16,3,"FIELD",583,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,227,"I")
"DATA",160.16,3,"FIELD",583,2)
BLANK
"DATA",160.16,3,"FIELD",583,3)
L,BLANK
"DATA",160.16,3,"FIELD",583,4)
PERFORMANCE STATUS AT DX (165.5,227)
"DATA",160.16,3,"FIELD",584,0)
58^37^94^Reserved 01
"DATA",160.16,3,"FIELD",584,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",584,2)
BLANK
"DATA",160.16,3,"FIELD",584,3)
L,BLANK^370
"DATA",160.16,3,"FIELD",585,0)
4325^10^4334^NPI--Inst Referred To
"DATA",160.16,3,"FIELD",585,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$GET1~DIQ(165.5,IEN,7,"I") S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,3,"FIELD",585,2)
BLANK
"DATA",160.16,3,"FIELD",585,3)
L,BLANK^2425
"DATA",160.16,3,"FIELD",585,4)
NPI (160.19,101)
"DATA",160.16,3,"FIELD",586,0)
4285^10^4294^NPI--Following Registry
"DATA",160.16,3,"FIELD",586,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),FACPNT=$$FNODE~ONCACDU2(ACD160,10) S ACDANS=$S(DATEDX<3070000:"",$G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"")
"DATA",160.16,3,"FIELD",586,2)
BLANK
"DATA",160.16,3,"FIELD",586,3)
L,BLANK^2445
"DATA",160.16,3,"FIELD",586,4)
NPI (160.19,101)
"DATA",160.16,3,"FIELD",587,0)
4345^50^4394^Reserved 11
"DATA",160.16,3,"FIELD",587,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",587,2)
BLANK
"DATA",160.16,3,"FIELD",587,3)
L,BLANK^1900
"DATA",160.16,3,"FIELD",588,0)
4413^10^4422^NPI--Physician--Follow-Up
"DATA",160.16,3,"FIELD",588,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.1,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,3,"FIELD",588,2)
BLANK
"DATA",160.16,3,"FIELD",588,3)
L,BLANK^2475
"DATA",160.16,3,"FIELD",588,4)
NPI (165,101)
"DATA",160.16,3,"FIELD",589,0)
4431^10^4440^NPI--Physician--Primary Surg
"DATA",160.16,3,"FIELD",589,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,3,"FIELD",589,2)
BLANK
"DATA",160.16,3,"FIELD",589,3)
L,BLANK^2485
"DATA",160.16,3,"FIELD",589,4)
NPI (165,101)
"DATA",160.16,3,"FIELD",590,0)
4449^10^4458^NPI--Physician 3
"DATA",160.16,3,"FIELD",590,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.3,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,3,"FIELD",590,2)
BLANK
"DATA",160.16,3,"FIELD",590,3)
L,BLANK^2495
"DATA",160.16,3,"FIELD",590,4)
NPI (165,101)
"DATA",160.16,3,"FIELD",591,0)
4467^10^4476^NPI--Physician 4
"DATA",160.16,3,"FIELD",591,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I"),PHYPNT=$$GET1~DIQ(165.5,IEN,2.4,"I") S ACDANS=$S(DATEDX<3070000:"",$G(PHYPNT)'="":$$GET1~DIQ(165,PHYPNT,101),1:"")
"DATA",160.16,3,"FIELD",591,2)
BLANK
"DATA",160.16,3,"FIELD",591,3)
L,BLANK^2505
"DATA",160.16,3,"FIELD",591,4)
NPI (165,101)
"DATA",160.16,3,"FIELD",592,0)
165^1^165^Census Block Grp 1970-90
"DATA",160.16,3,"FIELD",592,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",592,2)
BLANK
"DATA",160.16,3,"FIELD",592,3)
L,BLANK^368
"DATA",160.16,3,"FIELD",593,0)
2450^6^2455^Chemotherapeutic agent #1
"DATA",160.16,3,"FIELD",593,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1423,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.18,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",593,2)
BLANK
"DATA",160.16,3,"FIELD",593,3)
L,BLANK
"DATA",160.16,3,"FIELD",593,4)
CHEMOTHERAPEUTIC AGENT #1 (165.5,1423)
"DATA",160.16,3,"FIELD",594,0)
2456^6^2461^Chemotherapeutic agent #2
"DATA",160.16,3,"FIELD",594,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1423.1,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.18,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",594,2)
BLANK
"DATA",160.16,3,"FIELD",594,3)
L,BLANK
"DATA",160.16,3,"FIELD",594,4)
CHEMOTHERAPEUTIC AGENT #2 (165.5,1423.1)
"DATA",160.16,3,"FIELD",595,0)
2462^6^2467^Chemotherapeutic agent #3
"DATA",160.16,3,"FIELD",595,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1423.2,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.18,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",595,2)
BLANK
"DATA",160.16,3,"FIELD",595,3)
L,BLANK
"DATA",160.16,3,"FIELD",595,4)
CHEMOTHERAPEUTIC AGENT #3 (165.5,1423.2)
"DATA",160.16,3,"FIELD",596,0)
2468^6^2473^Chemotherapeutic agent #4
"DATA",160.16,3,"FIELD",596,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1423.3,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.18,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",596,2)
BLANK
"DATA",160.16,3,"FIELD",596,3)
L,BLANK
"DATA",160.16,3,"FIELD",596,4)
CHEMOTHERAPEUTIC AGENT #4 (165.5,1423.3)
"DATA",160.16,3,"FIELD",597,0)
2474^6^2479^Chemotherapeutic agent #5
"DATA",160.16,3,"FIELD",597,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,1423.4,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(164.18,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",597,2)
BLANK
"DATA",160.16,3,"FIELD",597,3)
L,BLANK
"DATA",160.16,3,"FIELD",597,4)
CHEMOTHERAPEUTIC AGENT #5 (165.5,1423.4)
"DATA",160.16,3,"FIELD",598,0)
2483^8^2490^Subsq RX 2nd Surg Date
"DATA",160.16,3,"FIELD",598,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.041) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",598,2)
BLANK
"DATA",160.16,3,"FIELD",598,3)
R,BLANK
"DATA",160.16,3,"FIELD",598,4)
SURGERY OF PRIMARY SITE DATE (165.51,.041)
"DATA",160.16,3,"FIELD",599,0)
428^6^433^Census Tract 2010
"DATA",160.16,3,"FIELD",599,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,147,"I")
"DATA",160.16,3,"FIELD",599,2)
BLANK
"DATA",160.16,3,"FIELD",599,3)
L,BLANK^135
"DATA",160.16,3,"FIELD",599,4)
CENSUS TRACT (165.5,147)
"DATA",160.16,3,"FIELD",600,0)
2292^48^2339^Reserved 09
"DATA",160.16,3,"FIELD",600,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",600,2)
BLANK
"DATA",160.16,3,"FIELD",600,3)
L,BLANK^1740
"DATA",160.16,3,"FIELD",601,0)
2491^8^2498^Subsq RX 2nd Rad Date
"DATA",160.16,3,"FIELD",601,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.051) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",601,2)
BLANK
"DATA",160.16,3,"FIELD",601,3)
R,BLANK
"DATA",160.16,3,"FIELD",601,4)
RADIATION DATE (165.51,.051)
"DATA",160.16,3,"FIELD",602,0)
2499^8^2506^Subsq RX 2nd Chemo Date
"DATA",160.16,3,"FIELD",602,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.061) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",602,2)
BLANK
"DATA",160.16,3,"FIELD",602,3)
R,BLANK
"DATA",160.16,3,"FIELD",602,4)
CHEMOTHERAPY DATE (165.51,.061)
"DATA",160.16,3,"FIELD",603,0)
2507^8^2514^Subsq RX 2nd Horm Date
"DATA",160.16,3,"FIELD",603,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.071) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",603,2)
BLANK
"DATA",160.16,3,"FIELD",603,3)
R,BLANK
"DATA",160.16,3,"FIELD",603,4)
HORMONE THERAPY DATE (165.51,.071)
"DATA",160.16,3,"FIELD",604,0)
2515^8^2522^Subsq RX 2nd BRM Date
"DATA",160.16,3,"FIELD",604,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.081) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",604,2)
BLANK
"DATA",160.16,3,"FIELD",604,3)
R,BLANK
"DATA",160.16,3,"FIELD",604,4)
IMMUNOTHERAPY DATE (165.51,.081)
"DATA",160.16,3,"FIELD",605,0)
2523^8^2530^Subsq RX 2nd Other Date
"DATA",160.16,3,"FIELD",605,1)
S ACDANS=$$SUB~ONCACDU2(IEN,2,.091) S:ACDANS'="" ACDANS=$$DATE~ONCACDU1(ACDANS)
"DATA",160.16,3,"FIELD",605,2)
BLANK
"DATA",160.16,3,"FIELD",605,3)
R,BLANK
"DATA",160.16,3,"FIELD",605,4)
OTHER TREATMENT START DATE (165.51,.091)
"DATA",160.16,3,"FIELD",608,0)
2346^1^2346^Vietnam Service
"DATA",160.16,3,"FIELD",608,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,62,"I"))
"DATA",160.16,3,"FIELD",608,2)
BLANK
"DATA",160.16,3,"FIELD",608,3)
L,BLANK
"DATA",160.16,3,"FIELD",608,4)
VIETNAM SERVICE (160,62)
"DATA",160.16,3,"FIELD",609,0)
2348^1^2348^Grenada Service
"DATA",160.16,3,"FIELD",609,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,63,"I"))
"DATA",160.16,3,"FIELD",609,2)
BLANK
"DATA",160.16,3,"FIELD",609,3)
L,BLANK
"DATA",160.16,3,"FIELD",609,4)
GRENADA SERVICE (160,63)
"DATA",160.16,3,"FIELD",610,0)
2349^1^2349^Panama Service
"DATA",160.16,3,"FIELD",610,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,64,"I"))
"DATA",160.16,3,"FIELD",610,2)
BLANK
"DATA",160.16,3,"FIELD",610,3)
L,BLANK
"DATA",160.16,3,"FIELD",610,4)
PANAMA SERVICE (160,64)
"DATA",160.16,3,"FIELD",611,0)
2352^1^2352^Yugoslavia Service
"DATA",160.16,3,"FIELD",611,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,65,"I"))
"DATA",160.16,3,"FIELD",611,2)
BLANK
"DATA",160.16,3,"FIELD",611,3)
L,BLANK
"DATA",160.16,3,"FIELD",611,4)
YUGOSLAVIA SERVICE (160,65)
"DATA",160.16,3,"FIELD",612,0)
204^2^205^Date of Birth Flag
"DATA",160.16,3,"FIELD",612,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",612,2)
BLANK
"DATA",160.16,3,"FIELD",612,3)
L,BLANK^241
"DATA",160.16,3,"FIELD",613,0)
538^2^539^Date of Diagnosis Flag
"DATA",160.16,3,"FIELD",613,1)
S ITEM=391,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,3,"I"),ITEM)
"DATA",160.16,3,"FIELD",613,2)
BLANK
"DATA",160.16,3,"FIELD",613,3)
L,BLANK^391
"DATA",160.16,3,"FIELD",614,0)
556^1^556^Grade Path Value
"DATA",160.16,3,"FIELD",614,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24.2,"I")
"DATA",160.16,3,"FIELD",614,2)
BLANK
"DATA",160.16,3,"FIELD",614,3)
L,BLANK^441
"DATA",160.16,3,"FIELD",614,4)
GRADE PATH VALUE (165.5,24.2)
"DATA",160.16,3,"FIELD",615,0)
557^1^557^Grade Path System
"DATA",160.16,3,"FIELD",615,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,24.1,"I")
"DATA",160.16,3,"FIELD",615,2)
BLANK
"DATA",160.16,3,"FIELD",615,3)
L,BLANK^449
"DATA",160.16,3,"FIELD",615,4)
GRADE PATH SYSTEM (165.5,24.1)
"DATA",160.16,3,"FIELD",616,0)
575^2^576^Date of Conclusive DX Flag
"DATA",160.16,3,"FIELD",616,1)
S ITEM=448,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,193,"I"),ITEM)
"DATA",160.16,3,"FIELD",616,2)
BLANK
"DATA",160.16,3,"FIELD",616,3)
L,BLANK^448
"DATA",160.16,3,"FIELD",617,0)
587^2^588^Date of Mult Tumors Flag
"DATA",160.16,3,"FIELD",617,1)
S ITEM=439,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,195,"I"),ITEM)
"DATA",160.16,3,"FIELD",617,2)
BLANK
"DATA",160.16,3,"FIELD",617,3)
L,BLANK^439
"DATA",160.16,3,"FIELD",618,0)
753^2^754^Date of 1st Contact Flag
"DATA",160.16,3,"FIELD",618,1)
S ITEM=581,DFC=$$GET1~DIQ(165.5,IEN,155,"I") S:DFC="" DFC=$$GET1~DIQ(165.5,IEN,1,"I") S ACDANS=$$DTFLAG~ONCACDU1(DFC,ITEM) K DFC
"DATA",160.16,3,"FIELD",618,2)
BLANK
"DATA",160.16,3,"FIELD",618,3)
L,BLANK^581
"DATA",160.16,3,"FIELD",619,0)
763^2^764^Date of Inpt Adm Flag
"DATA",160.16,3,"FIELD",619,1)
S ITEM=591,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,1,"I"),ITEM)
"DATA",160.16,3,"FIELD",619,2)
BLANK
"DATA",160.16,3,"FIELD",619,3)
L,BLANK^591
"DATA",160.16,3,"FIELD",620,0)
773^2^774^Date of Inpt Disch Flag
"DATA",160.16,3,"FIELD",620,1)
S ITEM=601,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,1.1,"I"),ITEM)
"DATA",160.16,3,"FIELD",620,2)
BLANK
"DATA",160.16,3,"FIELD",620,3)
L,BLANK^601
"DATA",160.16,3,"FIELD",621,0)
775^1^775^Inpatient Status
"DATA",160.16,3,"FIELD",621,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,233,"I")
"DATA",160.16,3,"FIELD",621,2)
BLANK
"DATA",160.16,3,"FIELD",621,3)
L,BLANK^605
"DATA",160.16,3,"FIELD",621,4)
INPATIENT STATUS (165.5,233)
"DATA",160.16,3,"FIELD",622,0)
780^1^780^Reserved 15
"DATA",160.16,3,"FIELD",622,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",622,2)
BLANK
"DATA",160.16,3,"FIELD",622,3)
L,BLANK^2400
"DATA",160.16,3,"FIELD",623,0)
781^1^781^RX Hosp--Surg App 2010
"DATA",160.16,3,"FIELD",623,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,234,"I")
"DATA",160.16,3,"FIELD",623,2)
BLANK
"DATA",160.16,3,"FIELD",623,3)
L,BLANK^668
"DATA",160.16,3,"FIELD",623,4)
SURG APP 2010 (165.5,234)
"DATA",160.16,3,"FIELD",624,0)
788^1^788^Reserved 16
"DATA",160.16,3,"FIELD",624,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",624,2)
BLANK
"DATA",160.16,3,"FIELD",624,3)
L,BLANK^2450
"DATA",160.16,3,"FIELD",625,0)
984^1^984^Lymph-vascular Invasion
"DATA",160.16,3,"FIELD",625,1)
S MPH=$$GET1~DIQ(165.5,IEN,22.3,"I"),MPH=$E(MPH,1,4),LV=$$GET1~DIQ(165.5,IEN,149,"I"),ACDANS=$S((MPH>9589)&(MPH<9993):8,LV[0:0,LV[1:1,LV[8:8,1:9) K LV,MPH
"DATA",160.16,3,"FIELD",625,2)
BLANK
"DATA",160.16,3,"FIELD",625,3)
L,BLANK^1182
"DATA",160.16,3,"FIELD",625,4)
LYMPH-VASCULAR INVASION (L) (165.5,149)
"DATA",160.16,3,"FIELD",626,0)
999^1^999^CS Mets at Dx-Bone
"DATA",160.16,3,"FIELD",626,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.31,"I")
"DATA",160.16,3,"FIELD",626,2)
BLANK
"DATA",160.16,3,"FIELD",626,3)
L,BLANK^2851
"DATA",160.16,3,"FIELD",626,4)
METS AT DX-BONE (165.5,34.31)
"DATA",160.16,3,"FIELD",627,0)
1000^1^1000^CS Mets at Dx-Brain
"DATA",160.16,3,"FIELD",627,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.32,"I")
"DATA",160.16,3,"FIELD",627,2)
BLANK
"DATA",160.16,3,"FIELD",627,3)
L,BLANK^2852
"DATA",160.16,3,"FIELD",627,4)
METS AT DX-BRAIN (165.5,34.32)
"DATA",160.16,3,"FIELD",628,0)
1001^1^1001^CS Mets at Dx-Liver
"DATA",160.16,3,"FIELD",628,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.33,"I")
"DATA",160.16,3,"FIELD",628,2)
BLANK
"DATA",160.16,3,"FIELD",628,3)
L,BLANK^2853
"DATA",160.16,3,"FIELD",628,4)
METS AT DX-LIVER (165.5,34.33)
"DATA",160.16,3,"FIELD",629,0)
1002^1^1002^CS Mets at Dx-Lung
"DATA",160.16,3,"FIELD",629,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,34.34,"I")
"DATA",160.16,3,"FIELD",629,2)
BLANK
"DATA",160.16,3,"FIELD",629,3)
L,BLANK^2854
"DATA",160.16,3,"FIELD",629,4)
METS AT DX-LING (165.5,34.34)
"DATA",160.16,3,"FIELD",630,0)
1021^3^1023^CS Site-Specific Factor 7
"DATA",160.16,3,"FIELD",630,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",630,2)
BLANK
"DATA",160.16,3,"FIELD",630,3)
L,BLANK^2861
"DATA",160.16,3,"FIELD",630,4)
SITE-SPECIFIC FACTOR 7 (CS) (165.5,44.7)
"DATA",160.16,3,"FIELD",631,0)
1024^3^1026^CS Site-Specific Factor 8
"DATA",160.16,3,"FIELD",631,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.8,"I")) K DATEDX
"DATA",160.16,3,"FIELD",631,2)
BLANK
"DATA",160.16,3,"FIELD",631,3)
L,BLANK^2862
"DATA",160.16,3,"FIELD",631,4)
SITE-SPECIFIC FACTOR 8 (CS) (165.5,44.8)
"DATA",160.16,3,"FIELD",632,0)
1027^3^1029^CS Site-Specific Factor 9
"DATA",160.16,3,"FIELD",632,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.9,"I")) K DATEDX
"DATA",160.16,3,"FIELD",632,2)
BLANK
"DATA",160.16,3,"FIELD",632,3)
L,BLANK^2863
"DATA",160.16,3,"FIELD",632,4)
SITE-SPECIFIC FACTOR 9 (CS) (165.5,44.9)
"DATA",160.16,3,"FIELD",633,0)
1030^3^1032^CS Site-Specific Factor 10
"DATA",160.16,3,"FIELD",633,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.101,"I")) K DATEDX
"DATA",160.16,3,"FIELD",633,2)
BLANK
"DATA",160.16,3,"FIELD",633,3)
L,BLANK^2864
"DATA",160.16,3,"FIELD",633,4)
SITE-SPECIFIC FACTOR 10 (CS) (165.5,44.101)
"DATA",160.16,3,"FIELD",634,0)
1036^3^1038^CS Site-Specific Factor 12
"DATA",160.16,3,"FIELD",634,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.12,"I")) K DATEDX
"DATA",160.16,3,"FIELD",634,2)
BLANK
"DATA",160.16,3,"FIELD",634,3)
L,BLANK^2866
"DATA",160.16,3,"FIELD",634,4)
SITE-SPECIFIC FACTOR 12 (CS) (165.5,44.12)
"DATA",160.16,3,"FIELD",635,0)
1039^3^1041^CS Site-Specific Factor 13
"DATA",160.16,3,"FIELD",635,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.13,"I")) K DATEDX
"DATA",160.16,3,"FIELD",635,2)
BLANK
"DATA",160.16,3,"FIELD",635,3)
L,BLANK^2867
"DATA",160.16,3,"FIELD",635,4)
SITE-SPECIFIC FACTOR 13 (165.5,44.13)
"DATA",160.16,3,"FIELD",636,0)
1042^3^1044^CS Site-Specific Factor 14
"DATA",160.16,3,"FIELD",636,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.14,"I")) K DATEDX
"DATA",160.16,3,"FIELD",636,2)
BLANK
"DATA",160.16,3,"FIELD",636,3)
L,BLANK^2868
"DATA",160.16,3,"FIELD",636,4)
SITE-SPECIFIC FACTOR 14 (CS) (165.5,44.14)
"DATA",160.16,3,"FIELD",637,0)
1045^3^1047^CS Site-Specific Factor 15
"DATA",160.16,3,"FIELD",637,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.15,"I")) K DATEDX
"DATA",160.16,3,"FIELD",637,2)
BLANK
"DATA",160.16,3,"FIELD",637,3)
L,BLANK^2869
"DATA",160.16,3,"FIELD",637,4)
SITE-SPECIFIC FACTOR 15 (CS) (165.5,44.15)
"DATA",160.16,3,"FIELD",638,0)
1048^3^1050^CS Site-Specific Factor 16
"DATA",160.16,3,"FIELD",638,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.16,"I")) K DATEDX
"DATA",160.16,3,"FIELD",638,2)
BLANK
"DATA",160.16,3,"FIELD",638,3)
L,BLANK^2870
"DATA",160.16,3,"FIELD",638,4)
SITE-SPECIFIC FACTOR 16 (CS) (165.5,44.16)
"DATA",160.16,3,"FIELD",639,0)
1051^3^1053^CS Site-Specific Factor 17
"DATA",160.16,3,"FIELD",639,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.17,"I")) K DATEDX
"DATA",160.16,3,"FIELD",639,2)
BLANK
"DATA",160.16,3,"FIELD",639,3)
L,BLANK^2871
"DATA",160.16,3,"FIELD",639,4)
SITE-SPECIFIC FACTOR (CS) (165.5,44.17)
"DATA",160.16,3,"FIELD",640,0)
1054^3^1056^CS Site-Specific Factor 18
"DATA",160.16,3,"FIELD",640,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.18,"I")) K DATEDX
"DATA",160.16,3,"FIELD",640,2)
BLANK
"DATA",160.16,3,"FIELD",640,3)
L,BLANK^2872
"DATA",160.16,3,"FIELD",640,4)
SITE-SPECIFIC FACTOR 18 (CS) (165.5,44.18)
"DATA",160.16,3,"FIELD",641,0)
1057^3^1059^CS Site-Specific Factor 19
"DATA",160.16,3,"FIELD",641,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.19,"I")) K DATEDX
"DATA",160.16,3,"FIELD",641,2)
BLANK
"DATA",160.16,3,"FIELD",641,3)
L,BLANK^2873
"DATA",160.16,3,"FIELD",641,4)
SITE-SPECIFIC FACTOR 19 (CS) (165.5,44.19)
"DATA",160.16,3,"FIELD",642,0)
1063^3^1065^CS Site-Specific Factor 21
"DATA",160.16,3,"FIELD",642,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.21,"I")) K DATEDX
"DATA",160.16,3,"FIELD",642,2)
BLANK
"DATA",160.16,3,"FIELD",642,3)
L,BLANK^2875
"DATA",160.16,3,"FIELD",642,4)
SITE-SPECIFIC FACTOR 21 (165.5,44.21)
"DATA",160.16,3,"FIELD",643,0)
1066^3^1068^CS Site-Specific Factor 22
"DATA",160.16,3,"FIELD",643,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.22,"I")) K DATEDX
"DATA",160.16,3,"FIELD",643,2)
BLANK
"DATA",160.16,3,"FIELD",643,3)
L,BLANK^2876
"DATA",160.16,3,"FIELD",643,4)
SITE-SPECIFIC FACTOR 22 (CS) (165.5,44.22)
"DATA",160.16,3,"FIELD",644,0)
1069^3^1071^CS Site-Specific Factor 23
"DATA",160.16,3,"FIELD",644,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.23,"I")) K DATEDX
"DATA",160.16,3,"FIELD",644,2)
BLANK
"DATA",160.16,3,"FIELD",644,3)
L,BLANK^2877
"DATA",160.16,3,"FIELD",644,4)
SITE-SPECIFIC FACTOR 23 (CS) (165.5,44.23)
"DATA",160.16,3,"FIELD",645,0)
1072^3^1074^CS Site-Specific Factor 24
"DATA",160.16,3,"FIELD",645,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.24,"I")) K DATEDX
"DATA",160.16,3,"FIELD",645,2)
BLANK
"DATA",160.16,3,"FIELD",645,3)
L,BLANK^2878
"DATA",160.16,3,"FIELD",645,4)
SITE-SPECIFIC FACTOR 24 (CS) (165.5,44.24)
"DATA",160.16,3,"FIELD",646,0)
1075^3^1077^CS Site-Specific Factor 25
"DATA",160.16,3,"FIELD",646,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,44.25,"I")) K DATEDX
"DATA",160.16,3,"FIELD",646,2)
BLANK
"DATA",160.16,3,"FIELD",646,3)
L,BLANK^2879
"DATA",160.16,3,"FIELD",646,4)
SITE-SPECIFIC FACTOR 25 (CS) (165.5,44.25)
"DATA",160.16,3,"FIELD",647,0)
1078^3^1080^CS PreRx Tumor Size
"DATA",160.16,3,"FIELD",647,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",647,2)
BLANK
"DATA",160.16,3,"FIELD",647,3)
L,BLANK^2730
"DATA",160.16,3,"FIELD",648,0)
1081^3^1083^CS PreRx Extension
"DATA",160.16,3,"FIELD",648,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",648,2)
BLANK
"DATA",160.16,3,"FIELD",648,3)
L,BLANK^2735
"DATA",160.16,3,"FIELD",649,0)
1084^1^1084^CS PreRx Tum/Sz/Ext Eval
"DATA",160.16,3,"FIELD",649,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",649,2)
BLANK
"DATA",160.16,3,"FIELD",649,3)
L,BLANK^2740
"DATA",160.16,3,"FIELD",650,0)
1085^3^1087^CS PreRx Lymph Nodes
"DATA",160.16,3,"FIELD",650,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",650,2)
BLANK
"DATA",160.16,3,"FIELD",650,3)
L,BLANK^2750
"DATA",160.16,3,"FIELD",651,0)
1088^1^1088^CS PreRx Reg Nodes Eval
"DATA",160.16,3,"FIELD",651,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",651,2)
BLANK
"DATA",160.16,3,"FIELD",651,3)
L,BLANK^2755
"DATA",160.16,3,"FIELD",652,0)
1089^2^1090^CS PreRx Mets at DX
"DATA",160.16,3,"FIELD",652,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",652,2)
BLANK
"DATA",160.16,3,"FIELD",652,3)
L,BLANK^2760
"DATA",160.16,3,"FIELD",653,0)
1091^1^1091^CS PreRx Mets Eval
"DATA",160.16,3,"FIELD",653,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",653,2)
BLANK
"DATA",160.16,3,"FIELD",653,3)
L,BLANK^2765
"DATA",160.16,3,"FIELD",654,0)
1092^3^1094^CS PostRx Tumor Size
"DATA",160.16,3,"FIELD",654,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",654,2)
BLANK
"DATA",160.16,3,"FIELD",654,3)
L,BLANK^2770
"DATA",160.16,3,"FIELD",655,0)
1095^3^1097^CS PostRx Extension
"DATA",160.16,3,"FIELD",655,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",655,2)
BLANK
"DATA",160.16,3,"FIELD",655,3)
L,BLANK^2775
"DATA",160.16,3,"FIELD",656,0)
1098^3^1100^CS PostRx Lymph Nodes
"DATA",160.16,3,"FIELD",656,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",656,2)
BLANK
"DATA",160.16,3,"FIELD",656,3)
L,BLANK^2780
"DATA",160.16,3,"FIELD",657,0)
1101^2^1102^CS PostRx Mets at DX
"DATA",160.16,3,"FIELD",657,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",657,2)
BLANK
"DATA",160.16,3,"FIELD",657,3)
L,BLANK^2785
"DATA",160.16,3,"FIELD",658,0)
1114^3^1116^Derived AJCC-7 T
"DATA",160.16,3,"FIELD",658,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,160.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",658,2)
BLANK
"DATA",160.16,3,"FIELD",658,3)
L,BLANK^3400
"DATA",160.16,3,"FIELD",658,4)
DERIVED AJCC-7 T (165.5,160.7)
"DATA",160.16,3,"FIELD",659,0)
1117^1^1117^Derived AJCC-7 T Descript
"DATA",160.16,3,"FIELD",659,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,161.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",659,2)
BLANK
"DATA",160.16,3,"FIELD",659,3)
L,BLANK^3402
"DATA",160.16,3,"FIELD",659,4)
DERIVED AJCC-7 T DESCRIPTOR (165.5,161.7)
"DATA",160.16,3,"FIELD",660,0)
1121^1^1121^Derived AJCC-7 N Descript
"DATA",160.16,3,"FIELD",660,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,163.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",660,2)
BLANK
"DATA",160.16,3,"FIELD",660,3)
L,BLANK^3412
"DATA",160.16,3,"FIELD",660,4)
DERIVED AJCC-7 N DESCRIPTOR (165.5,163.7)
"DATA",160.16,3,"FIELD",661,0)
1122^3^1124^Derived AJCC-7 M
"DATA",160.16,3,"FIELD",661,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,164.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",661,2)
BLANK
"DATA",160.16,3,"FIELD",661,3)
L,BLANK^3420
"DATA",160.16,3,"FIELD",661,4)
DERIVED AJCC-7 M (165.5,164.7)
"DATA",160.16,3,"FIELD",662,0)
1125^1^1125^Derived AJCC-7 M Descript
"DATA",160.16,3,"FIELD",662,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,165.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",662,2)
BLANK
"DATA",160.16,3,"FIELD",662,3)
L,BLANK^3422
"DATA",160.16,3,"FIELD",662,4)
DERIVED AJCC-7 M DESCRIPTOR (165.5,165.7)
"DATA",160.16,3,"FIELD",663,0)
1126^3^1128^Derived AJCC-7 Stage Grp
"DATA",160.16,3,"FIELD",663,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,166.7,"I")) K DATEDX
"DATA",160.16,3,"FIELD",663,2)
BLANK
"DATA",160.16,3,"FIELD",663,3)
L,BLANK^3430
"DATA",160.16,3,"FIELD",663,4)
DERIVED AJCC-7 STAGE GROUP (165.5,166.7)
"DATA",160.16,3,"FIELD",664,0)
1129^3^1131^Derived PreRx-7 T
"DATA",160.16,3,"FIELD",664,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",664,2)
BLANK
"DATA",160.16,3,"FIELD",664,3)
L,BLANK^3440
"DATA",160.16,3,"FIELD",665,0)
1132^1^1132^Derived PreRx-7 T Descrip
"DATA",160.16,3,"FIELD",665,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",665,2)
BLANK
"DATA",160.16,3,"FIELD",665,3)
L,BLANK^3442
"DATA",160.16,3,"FIELD",666,0)
1133^3^1135^Derived PreRx-7 N
"DATA",160.16,3,"FIELD",666,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",666,2)
BLANK
"DATA",160.16,3,"FIELD",666,3)
L,BLANK^3450
"DATA",160.16,3,"FIELD",667,0)
1136^1^1136^Derived PreRx-7 N Descrip
"DATA",160.16,3,"FIELD",667,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",667,2)
BLANK
"DATA",160.16,3,"FIELD",667,3)
L,BLANK^3452
"DATA",160.16,3,"FIELD",668,0)
1137^3^1139^Derived PreRx-7 M
"DATA",160.16,3,"FIELD",668,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",668,2)
BLANK
"DATA",160.16,3,"FIELD",668,3)
L,BLANK^3460
"DATA",160.16,3,"FIELD",669,0)
1140^1^1140^Derived PreRx-7 M Descrip
"DATA",160.16,3,"FIELD",669,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",669,2)
BLANK
"DATA",160.16,3,"FIELD",669,3)
L,BLANK^3462
"DATA",160.16,3,"FIELD",670,0)
1141^3^1143^Derived PreRx-7 Stage Grp
"DATA",160.16,3,"FIELD",670,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",670,2)
BLANK
"DATA",160.16,3,"FIELD",670,3)
L,BLANK^3470
"DATA",160.16,3,"FIELD",671,0)
1144^3^1146^Derived PostRx-7 T
"DATA",160.16,3,"FIELD",671,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",671,2)
BLANK
"DATA",160.16,3,"FIELD",671,3)
L,BLANK^3480
"DATA",160.16,3,"FIELD",672,0)
1147^3^1149^Derived PostRx-7 N
"DATA",160.16,3,"FIELD",672,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",672,2)
BLANK
"DATA",160.16,3,"FIELD",672,3)
L,BLANK^3482
"DATA",160.16,3,"FIELD",673,0)
1150^2^1151^Derived PostRx-7 M
"DATA",160.16,3,"FIELD",673,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",673,2)
BLANK
"DATA",160.16,3,"FIELD",673,3)
L,BLANK^3490
"DATA",160.16,3,"FIELD",674,0)
1152^3^1154^Derived PostRx-7 Stge Grp
"DATA",160.16,3,"FIELD",674,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",674,2)
BLANK
"DATA",160.16,3,"FIELD",674,3)
L,BLANK^3492
"DATA",160.16,3,"FIELD",675,0)
1157^1^1157^Derived Neoadjuv Rx Flag
"DATA",160.16,3,"FIELD",675,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",675,2)
BLANK
"DATA",160.16,3,"FIELD",675,3)
L,BLANK^3600
"DATA",160.16,3,"FIELD",676,0)
1161^6^1166^CS Version Input Current
"DATA",160.16,3,"FIELD",676,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3040000:"",1:$$GET1~DIQ(165.5,IEN,169,"I")) K DATEDX
"DATA",160.16,3,"FIELD",676,2)
BLANK
"DATA",160.16,3,"FIELD",676,3)
L,BLANK^2937
"DATA",160.16,3,"FIELD",676,4)
CS VERSION DERIVED (165.5,169)
"DATA",160.16,3,"FIELD",677,0)
1179^1^1179^SEER Site-Specific Fact 1
"DATA",160.16,3,"FIELD",677,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",677,2)
BLANK
"DATA",160.16,3,"FIELD",677,3)
L,BLANK^3700
"DATA",160.16,3,"FIELD",678,0)
1180^1^1180^SEER Site-Specific Fact 2
"DATA",160.16,3,"FIELD",678,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",678,2)
BLANK
"DATA",160.16,3,"FIELD",678,3)
L,BLANK^3702
"DATA",160.16,3,"FIELD",679,0)
1181^1^1181^SEER Site-Specific Fact 3
"DATA",160.16,3,"FIELD",679,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",679,2)
BLANK
"DATA",160.16,3,"FIELD",679,3)
L,BLANK^3704
"DATA",160.16,3,"FIELD",680,0)
1182^1^1182^SEER Site-Specific Fact 4
"DATA",160.16,3,"FIELD",680,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",680,2)
BLANK
"DATA",160.16,3,"FIELD",680,3)
L,BLANK^3706
"DATA",160.16,3,"FIELD",681,0)
1183^1^1183^SEER Site-Specific Fact 5
"DATA",160.16,3,"FIELD",681,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",681,2)
BLANK
"DATA",160.16,3,"FIELD",681,3)
L,BLANK^3708
"DATA",160.16,3,"FIELD",682,0)
1184^1^1184^SEER Site-Specific Fact 6
"DATA",160.16,3,"FIELD",682,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",682,2)
BLANK
"DATA",160.16,3,"FIELD",682,3)
L,BLANK^3710
"DATA",160.16,3,"FIELD",683,0)
1444^2^1445^Date Initial RX SEER Flag
"DATA",160.16,3,"FIELD",683,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",683,2)
BLANK
"DATA",160.16,3,"FIELD",683,3)
L,BLANK^1261
"DATA",160.16,3,"FIELD",684,0)
1464^2^1465^RX Date Surgery Flag
"DATA",160.16,3,"FIELD",684,1)
S ITEM=1201,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,170,"I"),ITEM)
"DATA",160.16,3,"FIELD",684,2)
BLANK
"DATA",160.16,3,"FIELD",684,3)
L,BLANK^1201
"DATA",160.16,3,"FIELD",685,0)
1474^2^1475^RX Date Mst Defin Srg Flag
"DATA",160.16,3,"FIELD",685,1)
S ITEM=3171,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,50,"I"),ITEM)
"DATA",160.16,3,"FIELD",685,2)
BLANK
"DATA",160.16,3,"FIELD",685,3)
L,BLANK^3171
"DATA",160.16,3,"FIELD",686,0)
1484^2^1485^RX Date Surg Disch Flag
"DATA",160.16,3,"FIELD",686,1)
S ITEM=3181,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,435,"I"),ITEM)
"DATA",160.16,3,"FIELD",686,2)
BLANK
"DATA",160.16,3,"FIELD",686,3)
L,BLANK^3181
"DATA",160.16,3,"FIELD",687,0)
1494^2^1495^RX Date Radiation Flag
"DATA",160.16,3,"FIELD",687,1)
S ITEM=1211,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,51,"I"),ITEM)
"DATA",160.16,3,"FIELD",687,2)
BLANK
"DATA",160.16,3,"FIELD",687,3)
L,BLANK^1211
"DATA",160.16,3,"FIELD",688,0)
1504^2^1505^RX Date Rad Ended Flag
"DATA",160.16,3,"FIELD",688,1)
S ITEM=3221,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,361,"I"),ITEM)
"DATA",160.16,3,"FIELD",688,2)
BLANK
"DATA",160.16,3,"FIELD",688,3)
L,BLANK^3221
"DATA",160.16,3,"FIELD",689,0)
1514^2^1515^RX Date Systemic Flag
"DATA",160.16,3,"FIELD",689,1)
S ITEM=3231,ACDANS=$$GET1~DIQ(165.5,IEN,152) I ACDANS'="" S SY=ACDANS,ACDDATE=$S(SY="99/99/9999":9999999,SY="88/88/8888":8888888,SY="00/00/0000":"0000000",1:($E(SY,7,10)-1700)_$E(SY,1,2)_$E(SY,4,5)),ACDANS=$$DTFLAG~ONCACDU1(ACDDATE,ITEM)
"DATA",160.16,3,"FIELD",689,2)
BLANK
"DATA",160.16,3,"FIELD",689,3)
L,BLANK^3231
"DATA",160.16,3,"FIELD",690,0)
1524^2^1525^RX Date Chemo Flag
"DATA",160.16,3,"FIELD",690,1)
S ITEM=1221,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,53,"I"),ITEM)
"DATA",160.16,3,"FIELD",690,2)
BLANK
"DATA",160.16,3,"FIELD",690,3)
L,BLANK^1221
"DATA",160.16,3,"FIELD",691,0)
1534^2^1535^RX Date Hormone Flag
"DATA",160.16,3,"FIELD",691,1)
S ITEM=1231,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,54,"I"),ITEM)
"DATA",160.16,3,"FIELD",691,2)
BLANK
"DATA",160.16,3,"FIELD",691,3)
L,BLANK^1231
"DATA",160.16,3,"FIELD",692,0)
1544^2^1545^RX Date BRM Flag
"DATA",160.16,3,"FIELD",692,1)
S ITEM=1241,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,55,"I"),ITEM)
"DATA",160.16,3,"FIELD",692,2)
BLANK
"DATA",160.16,3,"FIELD",692,3)
L,BLANK^1241
"DATA",160.16,3,"FIELD",693,0)
1554^2^1555^RX Date Other Flag
"DATA",160.16,3,"FIELD",693,1)
S ITEM=1251,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,57,"I"),ITEM)
"DATA",160.16,3,"FIELD",693,2)
BLANK
"DATA",160.16,3,"FIELD",693,3)
L,BLANK^1251
"DATA",160.16,3,"FIELD",694,0)
1564^2^1565^RX Date DX/Stg Proc Flag
"DATA",160.16,3,"FIELD",694,1)
S ITEM=1281,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,58.3,"I"),ITEM)
"DATA",160.16,3,"FIELD",694,2)
BLANK
"DATA",160.16,3,"FIELD",694,3)
L,BLANK^1281
"DATA",160.16,3,"FIELD",695,0)
1566^1^1566^RX Summ--Treatment Status
"DATA",160.16,3,"FIELD",695,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,235,"I")
"DATA",160.16,3,"FIELD",695,2)
BLANK
"DATA",160.16,3,"FIELD",695,3)
L,BLANK^1285
"DATA",160.16,3,"FIELD",695,4)
TREATMENT STATUS (165.5,235)
"DATA",160.16,3,"FIELD",696,0)
1732^2^1733^Subsq RX 2ndCrs Date Flag
"DATA",160.16,3,"FIELD",696,1)
S ITEM=1661,ACDANS=$$SUB~ONCACDU2(IEN,2,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,3,"FIELD",696,2)
BLANK
"DATA",160.16,3,"FIELD",696,3)
L,BLANK^1661
"DATA",160.16,3,"FIELD",697,0)
1753^2^1754^Subsq RX 3rdCrs Date Flag
"DATA",160.16,3,"FIELD",697,1)
S ITEM=1681,ACDANS=$$SUB~ONCACDU2(IEN,3,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,3,"FIELD",697,2)
BLANK
"DATA",160.16,3,"FIELD",697,3)
L,BLANK^1681
"DATA",160.16,3,"FIELD",698,0)
1774^2^1775^Subsq RX 4thCrs Date Flag
"DATA",160.16,3,"FIELD",698,1)
S ITEM=1701,ACDANS=$$SUB~ONCACDU2(IEN,4,.01) S:ACDANS'="" ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,3,"FIELD",698,2)
BLANK
"DATA",160.16,3,"FIELD",698,3)
L,BLANK^1701
"DATA",160.16,3,"FIELD",699,0)
1951^8^1958^Date Case Initiated
"DATA",160.16,3,"FIELD",699,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,236,"I"))
"DATA",160.16,3,"FIELD",699,2)
BLANK
"DATA",160.16,3,"FIELD",699,3)
R,BLANK^2085
"DATA",160.16,3,"FIELD",699,4)
DATE CASE INITIATED (165.5,236)
"DATA",160.16,3,"FIELD",700,0)
1967^8^1974^Date Case Completed--CoC
"DATA",160.16,3,"FIELD",700,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,90,"I"))
"DATA",160.16,3,"FIELD",700,2)
BLANK
"DATA",160.16,3,"FIELD",700,3)
R,BLANK^2092
"DATA",160.16,3,"FIELD",700,4)
DATE CASE COMPLETED (165.5,90)
"DATA",160.16,3,"FIELD",701,0)
2124^2^2125^Date of Last Contact Flag
"DATA",160.16,3,"FIELD",701,1)
S ITEM=1751,ACDANS=$$FNODE~ONCACDU2(ACD160,.01) S ACDANS=$$DTFLAG~ONCACDU1(ACDANS,ITEM)
"DATA",160.16,3,"FIELD",701,2)
BLANK
"DATA",160.16,3,"FIELD",701,3)
L,BLANK^1751
"DATA",160.16,3,"FIELD",702,0)
2204^2^2205^Recurrence Date--1st Flag
"DATA",160.16,3,"FIELD",702,1)
S ITEM=1861,ACDANS=$$DTFLAG~ONCACDU1($$GET1~DIQ(165.5,IEN,70,"I"),ITEM)
"DATA",160.16,3,"FIELD",702,2)
BLANK
"DATA",160.16,3,"FIELD",702,3)
L,BLANK^1861
"DATA",160.16,3,"FIELD",703,0)
2288^2^2289^Date of Death--CanadaFlag
"DATA",160.16,3,"FIELD",703,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",703,2)
BLANK
"DATA",160.16,3,"FIELD",703,3)
L,BLANK^1756
"DATA",160.16,3,"FIELD",704,0)
4485^50^4534^Reserved 12
"DATA",160.16,3,"FIELD",704,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",704,2)
BLANK
"DATA",160.16,3,"FIELD",704,3)
L,BLANK^2510
"DATA",160.16,3,"FIELD",705,0)
4535^25^4559^Path Reporting Fac ID 1
"DATA",160.16,3,"FIELD",705,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",705,2)
BLANK
"DATA",160.16,3,"FIELD",705,3)
L,BLANK^7010
"DATA",160.16,3,"FIELD",706,0)
4560^20^4579^Path Report Number 1
"DATA",160.16,3,"FIELD",706,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",706,2)
BLANK
"DATA",160.16,3,"FIELD",706,3)
L,BLANK^7090
"DATA",160.16,3,"FIELD",707,0)
4580^14^4593^Path Date Spec Collect 1
"DATA",160.16,3,"FIELD",707,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",707,2)
BLANK
"DATA",160.16,3,"FIELD",707,3)
L,BLANK^7320
"DATA",160.16,3,"FIELD",708,0)
4594^2^4595^Path Report Type 1
"DATA",160.16,3,"FIELD",708,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",708,2)
BLANK
"DATA",160.16,3,"FIELD",708,3)
L,BLANK^7480
"DATA",160.16,3,"FIELD",709,0)
4596^25^4620^Path Ordering Fac No 1
"DATA",160.16,3,"FIELD",709,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",709,2)
BLANK
"DATA",160.16,3,"FIELD",709,3)
L,BLANK^7190
"DATA",160.16,3,"FIELD",710,0)
4621^20^4640^Path Order Phys Lic No 1
"DATA",160.16,3,"FIELD",710,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",710,2)
BLANK
"DATA",160.16,3,"FIELD",710,3)
L,BLANK^7100
"DATA",160.16,3,"FIELD",711,0)
4641^25^4665^Path Reporting Fac ID 2
"DATA",160.16,3,"FIELD",711,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",711,2)
BLANK
"DATA",160.16,3,"FIELD",711,3)
L,BLANK^7011
"DATA",160.16,3,"FIELD",712,0)
4666^20^4685^Path Report Number 2
"DATA",160.16,3,"FIELD",712,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",712,2)
BLANK
"DATA",160.16,3,"FIELD",712,3)
L,BLANK^7091
"DATA",160.16,3,"FIELD",713,0)
4686^14^4699^Path Date Spec Collect 2
"DATA",160.16,3,"FIELD",713,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",713,2)
BLANK
"DATA",160.16,3,"FIELD",713,3)
L,BLANK^7321
"DATA",160.16,3,"FIELD",714,0)
4700^2^4701^Path Report Type 2
"DATA",160.16,3,"FIELD",714,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",714,2)
BLANK
"DATA",160.16,3,"FIELD",714,3)
L,BLANK^7481
"DATA",160.16,3,"FIELD",715,0)
4702^25^4726^Path Ordering Fac No 2
"DATA",160.16,3,"FIELD",715,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",715,2)
BLANK
"DATA",160.16,3,"FIELD",715,3)
L,BLANK^7191
"DATA",160.16,3,"FIELD",716,0)
4727^20^4746^Path Order Phys Lic No 2
"DATA",160.16,3,"FIELD",716,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",716,2)
BLANK
"DATA",160.16,3,"FIELD",716,3)
L,BLANK^7101
"DATA",160.16,3,"FIELD",717,0)
4747^25^4771^Path Reporting Fac ID 3
"DATA",160.16,3,"FIELD",717,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",717,2)
BLANK
"DATA",160.16,3,"FIELD",717,3)
L,BLANK^7012
"DATA",160.16,3,"FIELD",718,0)
4772^20^4791^Path Report Number 3
"DATA",160.16,3,"FIELD",718,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",718,2)
BLANK
"DATA",160.16,3,"FIELD",718,3)
L,BLANK^7092
"DATA",160.16,3,"FIELD",719,0)
4792^14^4805^Path Date Spec Collect 3
"DATA",160.16,3,"FIELD",719,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",719,2)
BLANK
"DATA",160.16,3,"FIELD",719,3)
L,BLANK^7322
"DATA",160.16,3,"FIELD",720,0)
4806^2^4807^Path Report Type 3
"DATA",160.16,3,"FIELD",720,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",720,2)
BLANK
"DATA",160.16,3,"FIELD",720,3)
L,BLANK^7482
"DATA",160.16,3,"FIELD",721,0)
4808^25^4832^Path Ordering Fac No 3
"DATA",160.16,3,"FIELD",721,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",721,2)
BLANK
"DATA",160.16,3,"FIELD",721,3)
L,BLANK^7192
"DATA",160.16,3,"FIELD",722,0)
4833^20^4852^Path Order Phys Lic No 3
"DATA",160.16,3,"FIELD",722,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",722,2)
BLANK
"DATA",160.16,3,"FIELD",722,3)
L,BLANK^7102
"DATA",160.16,3,"FIELD",723,0)
4853^25^4877^Path Reporting Fac ID 4
"DATA",160.16,3,"FIELD",723,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",723,2)
BLANK
"DATA",160.16,3,"FIELD",723,3)
L,BLANK^7013
"DATA",160.16,3,"FIELD",724,0)
4878^20^4897^Path Report Number 4
"DATA",160.16,3,"FIELD",724,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",724,2)
BLANK
"DATA",160.16,3,"FIELD",724,3)
L,BLANK^7093
"DATA",160.16,3,"FIELD",725,0)
4898^14^4911^Path Date Spec Collect 4
"DATA",160.16,3,"FIELD",725,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",725,2)
BLANK
"DATA",160.16,3,"FIELD",725,3)
L,BLANK^7323
"DATA",160.16,3,"FIELD",726,0)
4912^2^4913^Path Report Type 4
"DATA",160.16,3,"FIELD",726,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",726,2)
BLANK
"DATA",160.16,3,"FIELD",726,3)
L,BLANK^7483
"DATA",160.16,3,"FIELD",727,0)
4914^25^4938^Path Ordering Fac No 4
"DATA",160.16,3,"FIELD",727,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",727,2)
BLANK
"DATA",160.16,3,"FIELD",727,3)
L,BLANK^7193
"DATA",160.16,3,"FIELD",728,0)
4939^20^4958^Path Order Phys Lic No 4
"DATA",160.16,3,"FIELD",728,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",728,2)
BLANK
"DATA",160.16,3,"FIELD",728,3)
L,BLANK^7103
"DATA",160.16,3,"FIELD",729,0)
4959^25^4983^Path Reporting Fac ID 5
"DATA",160.16,3,"FIELD",729,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",729,2)
BLANK
"DATA",160.16,3,"FIELD",729,3)
L,BLANK^7014
"DATA",160.16,3,"FIELD",730,0)
4984^20^5003^Path Report Number 5
"DATA",160.16,3,"FIELD",730,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",730,2)
BLANK
"DATA",160.16,3,"FIELD",730,3)
L,BLANK^7094
"DATA",160.16,3,"FIELD",731,0)
5004^14^5017^Path Date Spec Collect 5
"DATA",160.16,3,"FIELD",731,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",731,2)
BLANK
"DATA",160.16,3,"FIELD",731,3)
L,BLANK^7324
"DATA",160.16,3,"FIELD",732,0)
5018^2^5019^Path Report Type 5
"DATA",160.16,3,"FIELD",732,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",732,2)
BLANK
"DATA",160.16,3,"FIELD",732,3)
L,BLANK^7484
"DATA",160.16,3,"FIELD",733,0)
5020^25^5044^Path Ordering Fac No 5
"DATA",160.16,3,"FIELD",733,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",733,2)
BLANK
"DATA",160.16,3,"FIELD",733,3)
L,BLANK^7194
"DATA",160.16,3,"FIELD",734,0)
5045^20^5064^Path Order Phys Lic No 5
"DATA",160.16,3,"FIELD",734,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",734,2)
BLANK
"DATA",160.16,3,"FIELD",734,3)
L,BLANK^7104
"DATA",160.16,3,"FIELD",735,0)
2355^2^2356^Branch of Service
"DATA",160.16,3,"FIELD",735,1)
S BS=$$GET1~DIQ(160,ACD160,68),ACDANS=$S(BS="ARMY":"AR",BS="AIR FORCE":"AF",BS="NAVY":"NA",BS="MARINE CORPS":"MC",BS="COAST GUARD":"CG",BS="OTHER":"OT",BS="MERCHANT SEAMAN":"MS",BS="USPHS":"PH",BS="NOAA":"NO",1:"") K BS
"DATA",160.16,3,"FIELD",735,2)
BLANK
"DATA",160.16,3,"FIELD",735,3)
L,BLANK
"DATA",160.16,3,"FIELD",735,4)
BRANCH OF SERVICE (160,68)
"DATA",160.16,3,"FIELD",736,0)
2353^1^2353^Iraq (OIF) Service
"DATA",160.16,3,"FIELD",736,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,66,"I"))
"DATA",160.16,3,"FIELD",736,2)
BLANK
"DATA",160.16,3,"FIELD",736,3)
L,BLANK
"DATA",160.16,3,"FIELD",736,4)
IRAQ (OIF) SERVICE (160,66)
"DATA",160.16,3,"FIELD",737,0)
2354^1^2354^Afghanistan (OEF) Service
"DATA",160.16,3,"FIELD",737,1)
S ACDANS=$$VAFLD~ONCACDU2($$GET1~DIQ(160,ACD160,67,"I"))
"DATA",160.16,3,"FIELD",737,2)
BLANK
"DATA",160.16,3,"FIELD",737,3)
L,BLANK
"DATA",160.16,3,"FIELD",737,4)
AFGHANISTAN (OEF) SERVICE (160,67)
"DATA",160.16,3,"FIELD",738,0)
2540^1^2540^Fee Basis
"DATA",160.16,3,"FIELD",738,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,237,"I")
"DATA",160.16,3,"FIELD",738,2)
BLANK
"DATA",160.16,3,"FIELD",738,3)
L,BLANK
"DATA",160.16,3,"FIELD",738,4)
FEE BASIS (165.5,237)
"DATA",160.16,3,"FIELD",739,0)
2541^6^2546^Station Number
"DATA",160.16,3,"FIELD",739,1)
S ACDANS="",FACPNT=$$GET1~DIQ(165.5,IEN,.03,"I"),NPI=$S($G(FACPNT)'="":$$GET1~DIQ(160.19,FACPNT,101),1:"") Q:NPI=""  S INST=$O(~DIC(4,"ANPI",NPI,0)),ACDANS=$S(INST'="":$P($G(~DIC(4,INST,99)),U,1),1:"")
"DATA",160.16,3,"FIELD",739,2)
BLANK
"DATA",160.16,3,"FIELD",739,3)
L,ZERO
"DATA",160.16,3,"FIELD",739,4)
STATION NUMBER (4,99)
"DATA",160.16,3,"FIELD",740,0)
434^1^434^Census Block Group 2010
"DATA",160.16,3,"FIELD",740,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",740,2)
BLANK
"DATA",160.16,3,"FIELD",740,3)
L,BLANK^363
"DATA",160.16,3,"FIELD",741,0)
435^1^435^Census Tr Certainty 2010
"DATA",160.16,3,"FIELD",741,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",741,2)
BLANK
"DATA",160.16,3,"FIELD",741,3)
L,BLANK^367
"DATA",160.16,3,"FIELD",742,0)
455^73^527^Reserved 02
"DATA",160.16,3,"FIELD",742,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",742,2)
BLANK
"DATA",160.16,3,"FIELD",742,3)
L,BLANK^530
"DATA",160.16,3,"FIELD",743,0)
2016^1^2016^Over-ride CS 1
"DATA",160.16,3,"FIELD",743,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",743,2)
BLANK
"DATA",160.16,3,"FIELD",743,3)
L,BLANK^3750
"DATA",160.16,3,"FIELD",744,0)
2017^1^2017^Over-ride CS 2
"DATA",160.16,3,"FIELD",744,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",744,2)
BLANK
"DATA",160.16,3,"FIELD",744,3)
L,BLANK^3751
"DATA",160.16,3,"FIELD",745,0)
2018^1^2018^Over-ride CS 3
"DATA",160.16,3,"FIELD",745,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",745,2)
BLANK
"DATA",160.16,3,"FIELD",745,3)
L,BLANK^3752
"DATA",160.16,3,"FIELD",746,0)
2019^1^2019^Over-ride CS 4
"DATA",160.16,3,"FIELD",746,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",746,2)
BLANK
"DATA",160.16,3,"FIELD",746,3)
L,BLANK^3753
"DATA",160.16,3,"FIELD",747,0)
2020^1^2020^Over-ride CS 5
"DATA",160.16,3,"FIELD",747,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",747,2)
BLANK
"DATA",160.16,3,"FIELD",747,3)
L,BLANK^3754
"DATA",160.16,3,"FIELD",748,0)
2021^1^2021^Over-ride CS 6
"DATA",160.16,3,"FIELD",748,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",748,2)
BLANK
"DATA",160.16,3,"FIELD",748,3)
L,BLANK^3755
"DATA",160.16,3,"FIELD",749,0)
2022^1^2022^Over-ride CS 7
"DATA",160.16,3,"FIELD",749,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",749,2)
BLANK
"DATA",160.16,3,"FIELD",749,3)
L,BLANK^3756
"DATA",160.16,3,"FIELD",750,0)
2023^1^2023^Over-ride CS 8
"DATA",160.16,3,"FIELD",750,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",750,2)
BLANK
"DATA",160.16,3,"FIELD",750,3)
L,BLANK^3757
"DATA",160.16,3,"FIELD",751,0)
2024^1^2024^Over-ride CS 9
"DATA",160.16,3,"FIELD",751,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",751,2)
BLANK
"DATA",160.16,3,"FIELD",751,3)
L,BLANK^3758
"DATA",160.16,3,"FIELD",752,0)
2025^1^2025^Over-ride CS 10
"DATA",160.16,3,"FIELD",752,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",752,2)
BLANK
"DATA",160.16,3,"FIELD",752,3)
L,BLANK^3759
"DATA",160.16,3,"FIELD",753,0)
2026^1^2026^Over-ride CS 11
"DATA",160.16,3,"FIELD",753,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",753,2)
BLANK
"DATA",160.16,3,"FIELD",753,3)
L,BLANK^3760
"DATA",160.16,3,"FIELD",754,0)
2027^1^2027^Over-ride CS 12
"DATA",160.16,3,"FIELD",754,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",754,2)
BLANK
"DATA",160.16,3,"FIELD",754,3)
L,BLANK^3761
"DATA",160.16,3,"FIELD",755,0)
2028^1^2028^Over-ride CS 13
"DATA",160.16,3,"FIELD",755,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",755,2)
BLANK
"DATA",160.16,3,"FIELD",755,3)
L,BLANK^3762
"DATA",160.16,3,"FIELD",756,0)
2029^1^2029^Over-ride CS 14
"DATA",160.16,3,"FIELD",756,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",756,2)
BLANK
"DATA",160.16,3,"FIELD",756,3)
L,BLANK^3763
"DATA",160.16,3,"FIELD",757,0)
2030^1^2030^Over-ride CS 15
"DATA",160.16,3,"FIELD",757,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",757,2)
BLANK
"DATA",160.16,3,"FIELD",757,3)
L,BLANK^3764
"DATA",160.16,3,"FIELD",758,0)
2031^1^2031^Over-ride CS 16
"DATA",160.16,3,"FIELD",758,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",758,2)
BLANK
"DATA",160.16,3,"FIELD",758,3)
L,BLANK^3765
"DATA",160.16,3,"FIELD",759,0)
2032^1^2032^Over-ride CS 17
"DATA",160.16,3,"FIELD",759,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",759,2)
BLANK
"DATA",160.16,3,"FIELD",759,3)
L,BLANK^3766
"DATA",160.16,3,"FIELD",760,0)
2033^1^2033^Over-ride CS 18
"DATA",160.16,3,"FIELD",760,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",760,2)
BLANK
"DATA",160.16,3,"FIELD",760,3)
L,BLANK^3767
"DATA",160.16,3,"FIELD",761,0)
2034^1^2034^Over-ride CS 19
"DATA",160.16,3,"FIELD",761,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",761,2)
BLANK
"DATA",160.16,3,"FIELD",761,3)
L,BLANK^3768
"DATA",160.16,3,"FIELD",762,0)
2035^1^2035^Over-ride CS 20
"DATA",160.16,3,"FIELD",762,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",762,2)
BLANK
"DATA",160.16,3,"FIELD",762,3)
L,BLANK^3769
"DATA",160.16,3,"FIELD",763,0)
2547^2^2548^CoC Accreditation
"DATA",160.16,3,"FIELD",763,1)
S ACDANS=$$COCACC~ONCACDU2
"DATA",160.16,3,"FIELD",763,2)
BLANK
"DATA",160.16,3,"FIELD",763,3)
L,BLANK
"DATA",160.16,3,"FIELD",763,4)
COC ACCREDITATION (160.1,68)
"DATA",160.16,3,"FIELD",764,0)
2549^1^2549^NSLC Stage 1-3 Path LN Staging
"DATA",160.16,3,"FIELD",764,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,251,"I")
"DATA",160.16,3,"FIELD",764,2)
BLANK
"DATA",160.16,3,"FIELD",764,3)
L,BLANK
"DATA",160.16,3,"FIELD",764,4)
NSLC STAGE 1-3 PATH LN STAGING (165.5,251)
"DATA",160.16,3,"FIELD",765,0)
2550^1^2550^Reason for no LN Biopsy
"DATA",160.16,3,"FIELD",765,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,252,"I")
"DATA",160.16,3,"FIELD",765,2)
BLANK
"DATA",160.16,3,"FIELD",765,3)
L,BLANK
"DATA",160.16,3,"FIELD",765,4)
REASON FOR NO LN BIOPSY (165.5,252)
"DATA",160.16,3,"FIELD",766,0)
2551^8^2558^Date of Surgery Consult
"DATA",160.16,3,"FIELD",766,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,253,"I"))
"DATA",160.16,3,"FIELD",766,2)
BLANK
"DATA",160.16,3,"FIELD",766,3)
L,BLANK
"DATA",160.16,3,"FIELD",766,4)
DATE OF SURGERY CONSULT (165.5,253)
"DATA",160.16,3,"FIELD",767,0)
2559^1^2559^Intent of Surgery
"DATA",160.16,3,"FIELD",767,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,254,"I")
"DATA",160.16,3,"FIELD",767,2)
BLANK
"DATA",160.16,3,"FIELD",767,3)
L,BLANK
"DATA",160.16,3,"FIELD",767,4)
INTENT OF SURGERY (165.5,254)
"DATA",160.16,3,"FIELD",768,0)
2560^8^2567^Date Oncology Consult Ordered
"DATA",160.16,3,"FIELD",768,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,255,"I"))
"DATA",160.16,3,"FIELD",768,2)
BLANK
"DATA",160.16,3,"FIELD",768,3)
L,BLANK
"DATA",160.16,3,"FIELD",768,4)
DATE ONCOLOGY CONSULT ORDERED (165.5,255)
"DATA",160.16,3,"FIELD",769,0)
2568^8^2575^Date Oncology Consult Done
"DATA",160.16,3,"FIELD",769,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,256,"I"))
"DATA",160.16,3,"FIELD",769,2)
BLANK
"DATA",160.16,3,"FIELD",769,3)
L,BLANK
"DATA",160.16,3,"FIELD",769,4)
DATE ONCOLOGY CONSULT DONE (165.5,256)
"DATA",160.16,3,"FIELD",770,0)
2576^1^2576^Chemotherapy Recommended
"DATA",160.16,3,"FIELD",770,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,257,"I")
"DATA",160.16,3,"FIELD",770,2)
BLANK
"DATA",160.16,3,"FIELD",770,3)
L,BLANK
"DATA",160.16,3,"FIELD",770,4)
CHEMOTHERAPY RECOMMENDED (165.5,257)
"DATA",160.16,3,"FIELD",771,0)
2577^1^2577^Intent of Chemotherapy
"DATA",160.16,3,"FIELD",771,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,258,"I")
"DATA",160.16,3,"FIELD",771,2)
BLANK
"DATA",160.16,3,"FIELD",771,3)
L,BLANK
"DATA",160.16,3,"FIELD",771,4)
INTENT OF CHEMOTHERAPY (165.5,258)
"DATA",160.16,3,"FIELD",772,0)
2578^1^2578^Type of Chemotherapy
"DATA",160.16,3,"FIELD",772,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,259,"I")
"DATA",160.16,3,"FIELD",772,2)
BLANK
"DATA",160.16,3,"FIELD",772,3)
L,BLANK
"DATA",160.16,3,"FIELD",772,4)
TYPE OF CHEMOTHERAPY (165.5,259)
"DATA",160.16,3,"FIELD",773,0)
2579^1^2579^Doc for no Plat-based Chemo
"DATA",160.16,3,"FIELD",773,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,261,"I")
"DATA",160.16,3,"FIELD",773,2)
BLANK
"DATA",160.16,3,"FIELD",773,3)
L,BLANK
"DATA",160.16,3,"FIELD",773,4)
DOC FOR NO PLAT-BASED CHEMO (165.5,261)
"DATA",160.16,3,"FIELD",774,0)
2580^1^2580^Reason Chemotherapy Stopped
"DATA",160.16,3,"FIELD",774,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,382,"I")
"DATA",160.16,3,"FIELD",774,2)
BLANK
"DATA",160.16,3,"FIELD",774,3)
L,BLANK
"DATA",160.16,3,"FIELD",774,4)
REASON CHEMOTHERAPY STOPPED (165.5,382)
"DATA",160.16,3,"FIELD",775,0)
2581^1^2581^Intent of Radiation
"DATA",160.16,3,"FIELD",775,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,127,"I")
"DATA",160.16,3,"FIELD",775,2)
BLANK
"DATA",160.16,3,"FIELD",775,3)
L,BLANK
"DATA",160.16,3,"FIELD",775,4)
INTENT OF RADIATION (165.5,127)
"DATA",160.16,3,"FIELD",776,0)
2582^1^2582^Type of Radiation
"DATA",160.16,3,"FIELD",776,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,262,"I")
"DATA",160.16,3,"FIELD",776,2)
BLANK
"DATA",160.16,3,"FIELD",776,3)
L,BLANK
"DATA",160.16,3,"FIELD",776,4)
TYPE OF RADIATION (165.5,262)
"DATA",160.16,3,"FIELD",777,0)
2583^1^2583^Reason Radiation Stopped
"DATA",160.16,3,"FIELD",777,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,260,"I")
"DATA",160.16,3,"FIELD",777,2)
BLANK
"DATA",160.16,3,"FIELD",777,3)
L,BLANK
"DATA",160.16,3,"FIELD",777,4)
REASON RADIATION STOPPED (165.5,260)
"DATA",160.16,3,"FIELD",778,0)
2584^8^2591^Date Hospice Consult Initiated
"DATA",160.16,3,"FIELD",778,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,264,"I"))
"DATA",160.16,3,"FIELD",778,2)
BLANK
"DATA",160.16,3,"FIELD",778,3)
L,BLANK
"DATA",160.16,3,"FIELD",778,4)
DATE HOSPICE CONSULT INITIATED (165.5,264)
"DATA",160.16,3,"FIELD",779,0)
2592^8^2599^Date Hospice Consult Completed
"DATA",160.16,3,"FIELD",779,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,265,"I"))
"DATA",160.16,3,"FIELD",779,2)
BLANK
"DATA",160.16,3,"FIELD",779,3)
L,BLANK
"DATA",160.16,3,"FIELD",779,4)
DATE HOSPICE CONSULT COMPLETED (165.5,265)
"DATA",160.16,3,"FIELD",780,0)
2600^8^2607^Date Hospice Care Initiated
"DATA",160.16,3,"FIELD",780,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,266,"I"))
"DATA",160.16,3,"FIELD",780,2)
BLANK
"DATA",160.16,3,"FIELD",780,3)
L,BLANK
"DATA",160.16,3,"FIELD",780,4)
DATE HOSPICE CARE INITIATED (165.5,266)
"DATA",160.16,3,"FIELD",781,0)
2608^1^2608^EGFR Mutation Testing
"DATA",160.16,3,"FIELD",781,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,267,"I")
"DATA",160.16,3,"FIELD",781,2)
BLANK
"DATA",160.16,3,"FIELD",781,3)
L,BLANK
"DATA",160.16,3,"FIELD",781,4)
EGFR MUTATION TESTING (165.5,267)
"DATA",160.16,3,"FIELD",782,0)
2609^1^2609^EGFR Mutation 1
"DATA",160.16,3,"FIELD",782,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,268,"I")
"DATA",160.16,3,"FIELD",782,2)
BLANK
"DATA",160.16,3,"FIELD",782,3)
L,BLANK
"DATA",160.16,3,"FIELD",782,4)
EGFR MUTATION 1 (165.5,268)
"DATA",160.16,3,"FIELD",783,0)
2610^1^2610^EGFR Mutation 2
"DATA",160.16,3,"FIELD",783,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,269,"I")
"DATA",160.16,3,"FIELD",783,2)
BLANK
"DATA",160.16,3,"FIELD",783,3)
L,BLANK
"DATA",160.16,3,"FIELD",783,4)
EGFR MUTATION 2 (165.5,269)
"DATA",160.16,3,"FIELD",784,0)
2611^1^2611^Preop obstructing lesion
"DATA",160.16,3,"FIELD",784,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,270,"I")
"DATA",160.16,3,"FIELD",784,2)
BLANK
"DATA",160.16,3,"FIELD",784,3)
L,BLANK
"DATA",160.16,3,"FIELD",784,4)
PREOP OBSTRUCTING LESION (165.5,270)
"DATA",160.16,3,"FIELD",785,0)
2612^1^2612^Oncology referral
"DATA",160.16,3,"FIELD",785,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,271,"I")
"DATA",160.16,3,"FIELD",785,2)
BLANK
"DATA",160.16,3,"FIELD",785,3)
L,BLANK
"DATA",160.16,3,"FIELD",785,4)
ONCOLOGY REFERRAL (165.5,271)
"DATA",160.16,3,"FIELD",786,0)
2613^8^2620^Date Chemotherapy recommended
"DATA",160.16,3,"FIELD",786,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,272,"I"))
"DATA",160.16,3,"FIELD",786,2)
BLANK
"DATA",160.16,3,"FIELD",786,3)
L,BLANK
"DATA",160.16,3,"FIELD",786,4)
DATE CHEMOTHERAPY RECOMMENDED (165.5,272)
"DATA",160.16,3,"FIELD",787,0)
2621^1^2621^Anti-EGFR MoAB Therapy
"DATA",160.16,3,"FIELD",787,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,273,"I")
"DATA",160.16,3,"FIELD",787,2)
BLANK
"DATA",160.16,3,"FIELD",787,3)
L,BLANK
"DATA",160.16,3,"FIELD",787,4)
ANTI-EGFR MoAB THERAPY (165.5,273)
"DATA",160.16,3,"FIELD",788,0)
2622^1^2622^Perirectal LN Involvement
"DATA",160.16,3,"FIELD",788,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,274,"I")
"DATA",160.16,3,"FIELD",788,2)
BLANK
"DATA",160.16,3,"FIELD",788,3)
L,BLANK
"DATA",160.16,3,"FIELD",788,4)
PERIRECTAL LN INVOLVEMENT (165.5,274)
"DATA",160.16,3,"FIELD",789,0)
2623^1^2623^Risk of recurrence
"DATA",160.16,3,"FIELD",789,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,275,"I")
"DATA",160.16,3,"FIELD",789,2)
BLANK
"DATA",160.16,3,"FIELD",789,3)
L,BLANK
"DATA",160.16,3,"FIELD",789,4)
RISK OF RECURRENCE (165.5,275)
"DATA",160.16,3,"FIELD",790,0)
2624^1^2624^Androgen Deprivation Therapy
"DATA",160.16,3,"FIELD",790,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,276,"I")
"DATA",160.16,3,"FIELD",790,2)
BLANK
"DATA",160.16,3,"FIELD",790,3)
L,BLANK
"DATA",160.16,3,"FIELD",790,4)
ANDROGEN DEPRIVATION THERAPY (165.5,276)
"DATA",160.16,3,"FIELD",791,0)
2625^8^2632^Date ADT initiated
"DATA",160.16,3,"FIELD",791,1)
S ACDANS=$$DATE~ONCACDU1($$GET1~DIQ(165.5,IEN,277,"I"))
"DATA",160.16,3,"FIELD",791,2)
BLANK
"DATA",160.16,3,"FIELD",791,3)
L,BLANK
"DATA",160.16,3,"FIELD",791,4)
DATE ADT INITIATED (165.5,277)
"DATA",160.16,3,"FIELD",792,0)
2633^1^2633^Non-ADT Chemotherapy
"DATA",160.16,3,"FIELD",792,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,278,"I")
"DATA",160.16,3,"FIELD",792,2)
BLANK
"DATA",160.16,3,"FIELD",792,3)
L,BLANK
"DATA",160.16,3,"FIELD",792,4)
NON-ADT CHEMOTHERAPY (165.5,278)
"DATA",160.16,3,"FIELD",793,0)
2634^1^2634^Reason Hormone Therapy Stopped
"DATA",160.16,3,"FIELD",793,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,263,"I")
"DATA",160.16,3,"FIELD",793,2)
BLANK
"DATA",160.16,3,"FIELD",793,3)
L,BLANK
"DATA",160.16,3,"FIELD",793,4)
REASON HORMONE THERAPY STOPPED (165.5,263)
"DATA",160.16,3,"FIELD",802,0)
2635^1^2635^VACCR Extract Indicator
"DATA",160.16,3,"FIELD",802,1)
S ACDANS=$$GET1~DIQ(165.5,IEN,282,"I")
"DATA",160.16,3,"FIELD",802,2)
BLANK
"DATA",160.16,3,"FIELD",802,3)
L,BLANK
"DATA",160.16,3,"FIELD",802,4)
VACCR EXTRACT INDICATOR (165.5,282)
"DATA",160.16,3,"FIELD",803,0)
436^3^438^Addr at DX--Country
"DATA",160.16,3,"FIELD",803,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,102)
"DATA",160.16,3,"FIELD",803,2)
BLANK
"DATA",160.16,3,"FIELD",803,3)
L,BLANK^102
"DATA",160.16,3,"FIELD",803,4)
STATE AT DX (165.5,16)
"DATA",160.16,3,"FIELD",804,0)
439^3^441^Addr Current--Country
"DATA",160.16,3,"FIELD",804,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,1832)
"DATA",160.16,3,"FIELD",804,2)
BLANK
"DATA",160.16,3,"FIELD",804,3)
L,BLANK^1832
"DATA",160.16,3,"FIELD",804,4)
COUNTRY (2,.1173)
"DATA",160.16,3,"FIELD",805,0)
442^2^443^Birthplace--State
"DATA",160.16,3,"FIELD",805,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1.1,"I")
"DATA",160.16,3,"FIELD",805,2)
BLANK
"DATA",160.16,3,"FIELD",805,3)
L,BLANK^252
"DATA",160.16,3,"FIELD",805,4)
PLACE OF BIRTH (160,7) Pointer --> File #165.2, field #1.1 (USPS STATE CODE)
"DATA",160.16,3,"FIELD",806,0)
444^3^446^Birthplace--Country
"DATA",160.16,3,"FIELD",806,1)
S ACDANS=$$GET1~DIQ(160,ACD160,7,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",806,2)
BLANK
"DATA",160.16,3,"FIELD",806,3)
L,BLANK^254
"DATA",160.16,3,"FIELD",806,4)
PLACE OF BIRTH (160,7) Pointer --> File #165.2, field #1 (ISO COUNTRY CODE)
"DATA",160.16,3,"FIELD",807,0)
447^3^449^Followup Contact--Country
"DATA",160.16,3,"FIELD",807,1)
S ACDANS=$$ADDCTRY~ONCACDU2(IEN,1847)
"DATA",160.16,3,"FIELD",807,2)
BLANK
"DATA",160.16,3,"FIELD",807,3)
L,BLANK^1847
"DATA",160.16,3,"FIELD",807,4)
ZIP CODE (165,.119)
"DATA",160.16,3,"FIELD",808,0)
450^2^451^Place of Death--State
"DATA",160.16,3,"FIELD",808,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1.1,"I")
"DATA",160.16,3,"FIELD",808,2)
BLANK
"DATA",160.16,3,"FIELD",808,3)
L,BLANK^1942
"DATA",160.16,3,"FIELD",808,4)
PLACE OF DEATH (160,21) Pointer --> File #165.2, field #1.1 (USPS STATE CODE)
"DATA",160.16,3,"FIELD",809,0)
452^3^454^Place of Death--Country
"DATA",160.16,3,"FIELD",809,1)
S ACDANS=$$GET1~DIQ(160,ACD160,21,"I") S:ACDANS'="" ACDANS=$$GET1~DIQ(165.2,ACDANS,1,"I")
"DATA",160.16,3,"FIELD",809,2)
BLANK
"DATA",160.16,3,"FIELD",809,3)
L,BLANK^1944
"DATA",160.16,3,"FIELD",809,4)
PLACE OF DEATH (160,21) Pointer --> File #165.2, field #1 (ISO COUNTRY CODE)
"DATA",160.16,3,"FIELD",810,0)
1595^1^1595^Reserved 06a
"DATA",160.16,3,"FIELD",810,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",810,2)
BLANK
"DATA",160.16,3,"FIELD",810,3)
L,BLANK
"DATA",160.16,3,"FIELD",811,0)
2195^1^2195^Reserved 07a
"DATA",160.16,3,"FIELD",811,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",811,2)
BLANK
"DATA",160.16,3,"FIELD",811,3)
L,BLANK
"DATA",160.16,3,"FIELD",812,0)
1315^2^1316^HEIGHT
"DATA",160.16,3,"FIELD",812,1)
S ACDANS=+$$GET1~DIQ(160,ACD160,1011)
"DATA",160.16,3,"FIELD",812,2)
BLANK
"DATA",160.16,3,"FIELD",812,3)
L,BLANK^9960
"DATA",160.16,3,"FIELD",812,4)
HEIGHT (160,1011)
"DATA",160.16,3,"FIELD",813,0)
1317^3^1319^WEIGHT
"DATA",160.16,3,"FIELD",813,1)
S ACDANS=+$$GET1~DIQ(160,ACD160,1012)
"DATA",160.16,3,"FIELD",813,2)
BLANK
"DATA",160.16,3,"FIELD",813,3)
L,BLANK^9961
"DATA",160.16,3,"FIELD",813,4)
WEIGHT (160,1012)
"DATA",160.16,3,"FIELD",814,0)
1320^116^1435^Reserved 05d
"DATA",160.16,3,"FIELD",814,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",814,2)
BLANK
"DATA",160.16,3,"FIELD",814,3)
L,BLANK
"DATA",160.16,3,"FIELD",815,0)
549^1^549^Behavior (92-00) ICD-O-2
"DATA",160.16,3,"FIELD",815,1)
S DATEDX=$$GET1~DIQ(165.5,IEN,3,"I") S ACDANS=$S(DATEDX<3010000:$E($$GET1~DIQ(165.5,IEN,22,"I"),5),1:"") K DATEDX
"DATA",160.16,3,"FIELD",815,2)
BLANK
"DATA",160.16,3,"FIELD",815,3)
L,ZERO^430
"DATA",160.16,3,"FIELD",815,4)
HISTOLOGY (ICD-O-2) (165.5,22) Last digit
"DATA",160.16,3,"FIELD",816,0)
554^1^554^Behavior Code ICD-O-3
"DATA",160.16,3,"FIELD",816,1)
S ACDANS=$E($$GET1~DIQ(165.5,IEN,22.3,"I"),5)
"DATA",160.16,3,"FIELD",816,2)
BLANK
"DATA",160.16,3,"FIELD",816,3)
L,ZERO^523
"DATA",160.16,3,"FIELD",816,4)
HISTOLOGY (ICD-O-3) (165.5,22.3) Last digit
"DATA",160.16,3,"FIELD",817,0)
1236^7^1242^Secondary Diagnosis 1
"DATA",160.16,3,"FIELD",817,1)
S ONIEN=25.91 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",817,2)
ZERO
"DATA",160.16,3,"FIELD",817,3)
R,ZERO^3780
"DATA",160.16,3,"FIELD",817,4)
SECONDARY DIAGNOSIS 1 (160,25.91)
"DATA",160.16,3,"FIELD",818,0)
1243^7^1249^Secondary Diagnosis 2
"DATA",160.16,3,"FIELD",818,1)
S ONIEN=25.92 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",818,2)
BLANK
"DATA",160.16,3,"FIELD",818,3)
R,ZERO^3782
"DATA",160.16,3,"FIELD",818,4)
SECONDARY DIAGNOSIS 2 (160,25.92)
"DATA",160.16,3,"FIELD",819,0)
1250^7^1256^Secondary Diagnosis 3
"DATA",160.16,3,"FIELD",819,1)
S ONIEN=25.93 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",819,2)
BLANK
"DATA",160.16,3,"FIELD",819,3)
R,ZERO^3784
"DATA",160.16,3,"FIELD",819,4)
SECONDARY DIAGNOSIS 3 (160,25.93)
"DATA",160.16,3,"FIELD",820,0)
1257^7^1263^Secondary Diagnosis 4
"DATA",160.16,3,"FIELD",820,1)
S ONIEN=25.94 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",820,2)
BLANK
"DATA",160.16,3,"FIELD",820,3)
R,ZERO^3786
"DATA",160.16,3,"FIELD",820,4)
SECONDARY DIAGNOSIS 4 (160,25.94)
"DATA",160.16,3,"FIELD",821,0)
1264^7^1270^Secondary Diagnosis 5
"DATA",160.16,3,"FIELD",821,1)
S ONIEN=25.95 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",821,2)
BLANK
"DATA",160.16,3,"FIELD",821,3)
R,ZERO^3788
"DATA",160.16,3,"FIELD",821,4)
SECONDARY DIAGNOSIS 5 (160,25.95)
"DATA",160.16,3,"FIELD",822,0)
1271^7^1277^Secondary Diagnosis 6
"DATA",160.16,3,"FIELD",822,1)
S ONIEN=25.96 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",822,2)
BLANK
"DATA",160.16,3,"FIELD",822,3)
R,ZERO^3790
"DATA",160.16,3,"FIELD",822,4)
SECONDARY DIAGNOSIS 6 (160,25.96)
"DATA",160.16,3,"FIELD",823,0)
1278^7^1284^Secondary Diagnosis 7
"DATA",160.16,3,"FIELD",823,1)
S ONIEN=25.97 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",823,2)
BLANK
"DATA",160.16,3,"FIELD",823,3)
R,ZERO^3792
"DATA",160.16,3,"FIELD",823,4)
SECONDARY DIAGNOSIS 7 (160,25.97)
"DATA",160.16,3,"FIELD",824,0)
1285^7^1291^Secondary Diagnosis 8
"DATA",160.16,3,"FIELD",824,1)
S ONIEN=25.98 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",824,2)
BLANK
"DATA",160.16,3,"FIELD",824,3)
R,ZERO^3794
"DATA",160.16,3,"FIELD",824,4)
SECONDARY DIAGNOSIS 8 (160,25.98)
"DATA",160.16,3,"FIELD",825,0)
1292^7^1298^Secondary Diagnosis 9
"DATA",160.16,3,"FIELD",825,1)
S ONIEN=25.99 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",825,2)
BLANK
"DATA",160.16,3,"FIELD",825,3)
R,ZERO^3796
"DATA",160.16,3,"FIELD",825,4)
SECONDARY DIAGNOSIS 9 (160,25.99)
"DATA",160.16,3,"FIELD",826,0)
1299^7^1305^Secondary Diagnosis 10
"DATA",160.16,3,"FIELD",826,1)
S ONIEN=25.9901 S ACDANS=$$ICD9~ONCACDU1(ACD160,ONIEN)
"DATA",160.16,3,"FIELD",826,2)
BLANK
"DATA",160.16,3,"FIELD",826,3)
R,ZERO^3798
"DATA",160.16,3,"FIELD",826,4)
SECONDARY DIAGNOSIS 10 (160,25.9901)
"DATA",160.16,3,"FIELD",827,0)
1306^9^1314^Reserved 05
"DATA",160.16,3,"FIELD",827,1)
S ACDANS=""
"DATA",160.16,3,"FIELD",827,2)
BLANK
"DATA",160.16,3,"FIELD",827,3)
L,BLANK^1180
"DATA",160.16,3,"RULES",0)
6^160.162^6^6^3130117^^^^
"DATA",160.16,3,"RULES",1,0)
S VALID=1
"DATA",160.16,3,"RULES",2,0)
S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"DATA",160.16,3,"RULES",3,0)
I $$GET1^DIQ(165.5,IEN,91,"I")<3 S VALID=0
"DATA",160.16,3,"RULES",4,0)
S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"DATA",160.16,3,"RULES",5,0)
S:VALID VALID=$S($E(TPG,3,4)=70:1,$E(TPG,3,4)=71:1,$E(TPG,3,4)=72:1,$E(TPG,3,5)=751:1,$E(TPG,3,5)=753:1,$$BEHAV^ONCACDU1(IEN)=2:1,$$BEHAV^ONCACDU1(IEN)=3:1,1:0)
"DATA",160.16,3,"RULES",6,0)
S JUMP=0
"FIA",160)
ONCOLOGY PATIENT
"FIA",160,0)
^ONCO(160,
"FIA",160,0,0)
160V
"FIA",160,0,1)
y^y^p^^^^n^^n
"FIA",160,0,10)

"FIA",160,0,11)

"FIA",160,0,"RLRO")

"FIA",160,0,"VR")
2.2^ONC
"FIA",160,160)
1
"FIA",160,160,25.91)

"FIA",160,160,25.92)

"FIA",160,160,25.93)

"FIA",160,160,25.94)

"FIA",160,160,25.95)

"FIA",160,160,25.96)

"FIA",160,160,25.97)

"FIA",160,160,25.98)

"FIA",160,160,25.99)

"FIA",160,160,25.9901)

"FIA",160.1)
ONCOLOGY SITE PARAMETERS
"FIA",160.1,0)
^ONCO(160.1,
"FIA",160.1,0,0)
160.1I
"FIA",160.1,0,1)
y^y^p^^^^n^^n
"FIA",160.1,0,10)

"FIA",160.1,0,11)

"FIA",160.1,0,"RLRO")

"FIA",160.1,0,"VR")
2.2^ONC
"FIA",160.1,160.1)
1
"FIA",160.1,160.1,100)

"FIA",160.1,160.1,105)

"FIA",160.1,160.24)
0
"FIA",160.1,160.25)
0
"FIA",160.16)
ONCOLOGY DATA EXTRACT FORMAT
"FIA",160.16,0)
^ONCO(160.16,
"FIA",160.16,0,0)
160.16
"FIA",160.16,0,1)
y^y^f^^n^^y^o^n
"FIA",160.16,0,10)

"FIA",160.16,0,11)

"FIA",160.16,0,"RLRO")

"FIA",160.16,0,"VR")
2.2^ONC
"FIA",160.16,160.16)
0
"FIA",160.16,160.161)
0
"FIA",160.16,160.162)
0
"FIA",165.3)
CLASS OF CASE
"FIA",165.3,0)
^ONCO(165.3,
"FIA",165.3,0,0)
165.3I
"FIA",165.3,0,1)
y^y^p^^^^n^^n
"FIA",165.3,0,10)

"FIA",165.3,0,11)

"FIA",165.3,0,"RLRO")

"FIA",165.3,0,"VR")
2.2^ONC
"FIA",165.3,165.3)
1
"FIA",165.3,165.3,1)

"FIA",165.5)
ONCOLOGY PRIMARY
"FIA",165.5,0)
^ONCO(165.5,
"FIA",165.5,0,0)
165.5IsP
"FIA",165.5,0,1)
y^y^p^^^^n^^n
"FIA",165.5,0,10)

"FIA",165.5,0,11)

"FIA",165.5,0,"RLRO")

"FIA",165.5,0,"VR")
2.2^ONC
"FIA",165.5,165.5)
1
"FIA",165.5,165.5,139.6)

"FIA",165.5,165.5,139.7)

"FIA",165.5,165.5,149)

"FIA",165.5,165.5,200)

"FIA",165.5,165.5,262)

"FIA",165.5,165.5,435)

"FIA",165.5,165.5,999.1)

"FIA",165.5,165.5,999.11)

"FIA",165.5,165.5,999.12)

"FIA",165.5,165.5,999.13)

"FIA",165.5,165.5,999.14)

"FIA",165.5,165.5,999.15)

"FIA",165.5,165.5,999.16)

"FIA",165.5,165.5,999.17)

"FIA",165.5,165.5,999.18)

"FIA",165.5,165.5,999.19)

"FIA",165.5,165.5,999.2)

"FIA",165.5,165.5,999.21)

"FIA",165.5,165.5,999.22)

"FIA",165.5,165.5,999.23)

"FIA",165.5,165.5,999.24)

"FIA",165.5,165.5,999.25)

"FIA",165.5,165.5,999.3)

"FIA",165.5,165.5,999.4)

"FIA",165.5,165.5,999.5)

"FIA",165.5,165.5,999.6)

"FIA",165.5,165.5,999.7)

"FIA",165.5,165.5,999.8)

"FIA",165.5,165.5,999.9)

"FIA",165.5,165.51)
1
"FIA",165.5,165.51,38)

"FIA",165.5,165.51,39)

"FIA",165.5,165.51,40)

"FIA",165.5,165.51,41)

"FIA",165.5,165.51,42)

"INI")
PRE1^ONC2PS01
"INIT")
ONC2PS01
"KRN",.402,1248,-1)
0^2
"KRN",.402,1248,0)
ONCO RECURRENCE FOLLOWUP^3140204.1151^^165.5^^^3140310
"KRN",.402,1248,"DR",1,165.5)
D RE^ONCOAIF;S X=X;71;S:X="" Y="@70";S XR=$P(^ONCO(160.12,X,0),U,1);70;S Y="@11";@70;70////@;S Y="@99";@11;I $P($G(^ONCO(165.5,DA,0)),U,16)>3051231 S Y="@1";71.4;@1;S:(XR<40)!(XR>62) Y="@98";71.1;S:X=0 Y="@96";71.2;S:X=0 Y="@97";
"KRN",.402,1248,"DR",1,165.5,1)
71.3;S Y="@99";@96;71.2////0;W !,"DISTANT SITE 2: None";@97;71.3////0;W !,"DISTANT SITE 3: None";S Y="@99";@98;S $P(^ONCO(165.5,D0,5),U,3,5)="0^0^0";W !,"DISTANT SITE 1: None";W !,"DISTANT SITE 2: None";W !,"DISTANT SITE 3: None";
"KRN",.402,1248,"DR",1,165.5,2)
@99;D STX^ONCOAIF;60;K XR;
"KRN",.402,1248,"DR",2,165.51)
.01;I TX="" W !!,"  **  ICDO-TOPOGRAPHY CODE NOT defined for this primary -- cannot continue  **",! S Y="@999";.04;I X="" S Y=35;S X=X;S SPS=$P($G(^ONCO(165.5,D0,4,DA,0)),"^",4);
"KRN",.402,1248,"DR",2,165.51,1)
I (SPS="00")!(SPS=1) S $P(^ONCO(165.5,D0,4,D1,0),U,11)="0000000",Y=35 W !,"  SURGERY OF PRIMARY SITE DATE..: 00/00/00";S SSTOP=$P($G(^ONCO(164,TX,0)),"^",16);
"KRN",.402,1248,"DR",2,165.51,2)
I SPS'="",$G(^ONCO(164,SSTOP,"SPS",SPS,0))["Unknown" S $P(^ONCO(165.5,D0,4,D1,0),U,11)="9999999",Y=35 W !,"  SURGERY OF PRIMARY SITE DATE..: 99/99/99";.041;35;S:X=0 Y="@38";S:X=9 Y="@389";38;S Y=36;@38;38////0000000;
"KRN",.402,1248,"DR",2,165.51,3)
W !,?2,"SCOPE OF LN SURGERY DATE: 00/00/0000";S Y=36;@389;38////9999999;W !,?2,"SCOPE OF LN SURGERY DATE: 99/99/9999";36;S ONCSPOS=X;S:X=0 Y="@39";S:X=9 Y="@399";39;S Y="@405";@39;39////0000000;
"KRN",.402,1248,"DR",2,165.51,4)
W !,?2,"SURGICAL PROC/OTHER SITE DATE: 00/00/0000";S Y="@405";@399;39////9999999;W !,?2,"SURGICAL PROC/OTHER SITE DATE: 99/99/9999";@405;S:(ONCSPOS=3)!(ONCSPOS=4) Y="@409";40////0;41////0000000;W !,?2,"METS SITE RESECTED: 0";
"KRN",.402,1248,"DR",2,165.51,5)
W !,?2,"METS SITE RESECTED DATE: 00/00/0000";S Y="@35";@409;40;41;S Y=$S(DATEDX<2980101:.05,1:"@35");@35;.05;S:(X=0)!(X=7) Y="@20";S:(X=8)!(X=9) Y="@29";.051;S Y="@03";@20;.051////0000000;W !,?2,"RADIATION DATE: 00/00/0000";
"KRN",.402,1248,"DR",2,165.51,6)
S Y="@03";@29;.051////9999999;W !,?2,"RADIATION DATE: 99/99/9999";@03;I DATEDX>2951231 S Y=.06;.03;S:(X=0)!(X=7) Y="@30";S:(X=8)!(X=9) Y="@39";.031;S Y=.06;@30;.031////0000000;W !,?2,"RADIATION THERAPY TO CNS DATE: 00/00/0000";
"KRN",.402,1248,"DR",2,165.51,7)
S Y=.06;@39;.031////9999999;W !,?2,"RADIATION THERAPY TO CNS DATE: 99/99/9999";.06;S:(X="00")!(X=82)!(X=85)!(X=86)!(X=87) Y="@40";S:(X=88)!(X=99) Y="@49";.061;S Y=.07;@40;.061////0000000;W !,?2,"CHEMOTHERAPY DATE: 00/00/0000";
"KRN",.402,1248,"DR",2,165.51,8)
S Y=.07;@49;.061////9999999;W !,?2,"CHEMOTHERAPY DATE: 99/99/9999";.07;S:(X="00")!(X=82)!(X=85)!(X=86)!(X=87) Y="@50";S:(X=88)!(X=99) Y="@59";.071;S Y=.08;@50;.071////0000000;W !,?2,"HORMONE THERAPY DATE: 00/00/0000";S Y=.08;@59;
"KRN",.402,1248,"DR",2,165.51,9)
.071////9999999;W !,?2,"HORMONE THERAPY DATE: 99/99/9999";.08;I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) S Y="@60";I (X=88)!(X=99) S Y="@69";.081;S Y=.02;@60;.081////0000000;W !,?2,"IMMUNOTHERAPY DATE: 00/00/0000";S Y=.02;@69;
"KRN",.402,1248,"DR",2,165.51,10)
.081////9999999;W !,?2,"IMMUNOTHERAPY DATE: 99/99/9999";.02;I X="" S Y=.021;S HTEP=$P($G(^ONCO(167,X,0)),U,1);I (HTEP="00")!(HTEP=82)!(HTEP=85)!(HTEP=86)!(HTEP=87) S Y="@80";I (HTEP=88)!(HTEP=99) S Y="@89";.021;S Y=.09;@80;
"KRN",.402,1248,"DR",2,165.51,11)
.021////0000000;W !,?2,"HEMA TRANS/ENDOCRINE DATE: 00/00/0000";S Y=.09;@89;.021////9999999;W !,?2,"HEMA TRANS/ENDOCRINE DATE: 99/99/9999";.09;S:(X=0)!(X=7) Y="@70";S:(X=8)!(X=9) Y="@79";.091;S Y=42;@70;.091////0000000;
"KRN",.402,1248,"DR",2,165.51,12)
W !,?2,"OTHER TREATMENT START DATE: 00/00/0000";S Y=42;@79;.091////9999999;W !,?2,"OTHER TREATMENT START DATE: 99/99/9999";42;2;3;@999;
"KRN",.402,1256,-1)
0^1
"KRN",.402,1256,0)
ONCO ABSTRACT-I^3140310.1021^^165.5^^^3140529
"KRN",.402,1256,"%D",0)
^.4021^2^2^3140508^^^^
"KRN",.402,1256,"%D",1,0)
Template for complete abstract for fields in Primary file: data relevant
"KRN",.402,1256,"%D",2,0)
to particular cancer only as opposed to specific to Patient.
"KRN",.402,1256,"DR",1,165.5)
@0;D MEN^ONCOAIP;.01;.05;.06;.07;S Y="@0";@1;D PAT^ONCOAIP;.03//^S X=$P($G(^ONCO(160.19,IIN,0)),U,2);S FACPNT=$P($G(^ONCO(165.5,DA,0)),U,3) D FNPI^ONCNPI;11;8;8.2;9;8.1;16;10;147//^S X="000000";
"KRN",.402,1256,"DR",1,165.5,1)
I $P($G(^ONCO(165.5,DA,0)),U,16)'="",$P($G(^ONCO(165.5,DA,0)),U,16)<3070000 S Y=2.1;2.2;S PHYPNT=$P($G(^ONCO(165.5,DA,0)),U,13) D PNPI^ONCNPI;2.1;S PHYPNT=$P($G(^ONCO(165.5,DA,0)),U,12) D PNPI^ONCNPI;2;
"KRN",.402,1256,"DR",1,165.5,2)
S PHYPNT=$P($G(^ONCO(165.5,DA,0)),U,11) D PNPI^ONCNPI;2.3;S PHYPNT=$P($G(^ONCO(165.5,DA,0)),U,14) D PNPI^ONCNPI;2.4;S PHYPNT=$P($G(^ONCO(165.5,DA,0)),U,15) D PNPI^ONCNPI;18;1.2;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";
"KRN",.402,1256,"DR",1,165.5,3)
D PHCDSP^ONCPHC;148//^S X=PHCDEF;I X=1 S Y="@11";148.1////@;148.2////@;148.3////@;148.4////@;S Y="@12";@11;W !;148.1//^S X=PHCDEF(1);148.2//^S X=PHCDEF(2);148.3//^S X=PHCDEF(3);148.4//^S X=PHCDEF(4);@12;
"KRN",.402,1256,"DR",1,165.5,4)
W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";S Y=$S(ONCOANS="A":"@2",1:"@0");@2;D CAN^ONCOAIP;.04;S COC=$E($$GET1^DIQ(165.5,DA,.04,"E"),1,2);
"KRN",.402,1256,"DR",1,165.5,5)
I (+COC<10)!(+COC>14) S $P(^ONCO(165.5,DA,2.2),U,4)="",$P(^ONCO(165.5,DA,2.2),U,5)="",$P(^ONCO(165.5,DA,2.2),U,6)="",Y="@20";171;172;173;@20;I COC="00" S RFDEF="NONE" S Y=6;
"KRN",.402,1256,"DR",1,165.5,6)
I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14) S RFDEF="NONE",TFDEF="NONE";6//^S X=$G(RFDEF);K RFDEF;S FACPNT=$P($G(^ONCO(165.5,DA,0)),U,18) D FNPI^ONCNPI;I (COC=20)!(COC=21)!(COC=22) S TFDEF="NONE";7//^S X=$G(TFDEF);K TFDEF;
"KRN",.402,1256,"DR",1,165.5,7)
S FACPNT=$P($G(^ONCO(165.5,DA,0)),U,19) D FNPI^ONCNPI;237;S FEEB=$$GET1^DIQ(165.5,DA,237,"I");I FEEB'=1 S Y="@155";237.1;@155;155;3;I $P($G(^ONCO(165.5,DA,0)),U,16)<3100000 S Y="@14";233;@14;
"KRN",.402,1256,"DR",1,165.5,8)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3070000!($P($G(^ONCO(165.5,DA,0)),U,16)>3121231) S Y="@15";159;I X=0 S $P(^ONCO(165.5,DA,24),U,13)="8888888" W !,"DATE OF CONCLUSIVE DX: 88/88/8888" S Y="@15";
"KRN",.402,1256,"DR",1,165.5,9)
I X=1 S $P(^ONCO(165.5,DA,24),U,13)="0000000" W !,"DATE OF CONCLUSIVE DX: 00/00/0000" S Y="@15";I X=9 S $P(^ONCO(165.5,DA,24),U,13)="9999999" W !,"DATE OF CONCLUSIVE DX: 99/99/9999" S Y="@15";193;@15;
"KRN",.402,1256,"DR",1,165.5,10)
I (COC="00")!(COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14) S DFDEF=$E(RH,1,30);5//^S X=$G(DFDEF);K DFDEF;238;20;S PS=X;D PAIR^ONCOAIP;S Y=$$TOP^ONCOAIT;21.5;S Y=100;21.51;S Y=100;21.52;100;28;
"KRN",.402,1256,"DR",1,165.5,11)
I $P($G(^ONCO(165.5,DA,0)),U,16)>3001231 S Y=22.3;22;D DEFH3^ONCOHICD;22.3//^S X=$G(H3DEF);K H3DEF;W !,"HISTOLOGY CODE: ",$$GET1^DIQ(165.5,D0,22.1);D HISTXT^ONCOAIP;S X=X;101;D ^ONCSUBS;240;@623;I $G(TOP)'=67619 S Y=24;
"KRN",.402,1256,"DR",1,165.5,12)
I $G(TOP)=67619,$P($G(^ONCO(165.5,D0,0)),U,16)>3101231 S $P(^ONCO(165.5,D0,"CS"),U,8)=988;623;250;684;96;102;I X=9 S Y="@156";156;S Y=24;@156;156////0000000;W !,"DRE DATE: 00/00/0000";28;24;
"KRN",.402,1256,"DR",1,165.5,13)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3100000 S Y="@157";24.1;24.2;S:($E($$HIST^ONCFUNC(D0),1,4)'=8935)&($E($$HIST^ONCFUNC(D0),1,4)'=8936) Y="@157";239;@157;
"KRN",.402,1256,"DR",1,165.5,14)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3070000!($P($G(^ONCO(165.5,DA,0)),U,16)>3121231) S Y=83;I ($P($G(^ONCO(165.5,D0,2)),U,1)=67809)!($$LEUKEMIA^ONCOAIP2(D0))!($$LYMPHOMA^ONCFUNC(D0)) D NA^ONCMPH;194;D MTRAOP^ONCMPH;195;196;83;26;
"KRN",.402,1256,"DR",1,165.5,15)
I ($$GET1^DIQ(165.5,D0,.01,"E")'="LIVER")&($G(TOP)'=67220) S Y="@251";1010;@251;I $P($G(^ONCO(165.5,DA,0)),U,16)>3021231 S Y="@27";D TMARKER^ONCOU55 I TM1=0 S Y="@21";D TM^ONCOTM(D0,1);@2510;I $G(TM2)=0 S Y="@22";D TM^ONCOTM(D0,2);
"KRN",.402,1256,"DR",1,165.5,16)
@2520;I $G(TM3)=0 S Y="@23";D TM^ONCOTM(D0,3);@2530;S Y="@27";@21;25.1///9;W !,"TUMOR MARKER 1: Unknown or no information";@22;25.2///9;W !,"TUMOR MARKER 2: Unknown or no information";@23;25.3///9;
"KRN",.402,1256,"DR",1,165.5,17)
W !,"TUMOR MARKER 3: Unknown or no information";S Y="@27";25.1;25.2;25.3;@27;120;I X=0 S Y="@1210";I X=9 S Y="@1219";121;S Y="@28";@1210;121////0000000;W !,"DATE OF CANCER CONF: 00/00/0000";S Y="@28";@1219;121////9999999;
"KRN",.402,1256,"DR",1,165.5,18)
W !,"DATE OF CANCER CONF: 99/99/9999";@28;21;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";I (+COC<10)!(+COC>14) S Y="@105";S PS=$P($G(^ONCO(165.5,D0,2)),U,1);I $E($G(PS),3,4)=34 S Y="@174";
"KRN",.402,1256,"DR",1,165.5,19)
I ($E($G(PS),3,4)=18)!($G(PS)=67199)!($G(PS)=67209) S Y="@180";S Y="@105";@174;D ^ONCSYMP;174;I (X=0)!(X=9) S PIECE=18 D STUFF^ONCSYMP S Y=186;174.1;186;I (X=0)!(X=9) S PIECE=33 D STUFF^ONCSYMP S Y=187;186.1;187;
"KRN",.402,1256,"DR",1,165.5,20)
I (X=0)!(X=9) S PIECE=35 D STUFF^ONCSYMP S Y=188;187.1;188;I (X=0)!(X=9) S PIECE=37 D STUFF^ONCSYMP S Y=189;188.1;189;I (X=0)!(X=9) S PIECE=39 D STUFF^ONCSYMP S Y=190;189.1;190;175;I (X=0)!(X=9) S PIECE=19 D STUFF^ONCSYMP S Y=176;
"KRN",.402,1256,"DR",1,165.5,21)
175.1;176;I (X=0)!(X=9) S PIECE=20 D STUFF^ONCSYMP S Y=177;176.1;177;I (X=0)!(X=9) S PIECE=21 D STUFF^ONCSYMP S Y=178;177.1;178;I (X=0)!(X=9) S PIECE=22 D STUFF^ONCSYMP S Y=179;178.1;179;
"KRN",.402,1256,"DR",1,165.5,22)
I (X=0)!(X=9) S PIECE=23 D STUFF^ONCSYMP S Y="@105";179.1;S Y="@105";@180;D COLON^ONCSYMP;191;711;712;809;713;192;180;I (X=0)!(X=9) S PIECE=24 D STUFF^ONCSYMP S Y=181;180.1;181;I (X=0)!(X=9) S PIECE=25 D STUFF^ONCSYMP S Y=182;
"KRN",.402,1256,"DR",1,165.5,23)
181.1;182;I (X=0)!(X=9) S PIECE=27 D STUFF^ONCSYMP S Y=183;182.1;183;I (X=0)!(X=9) S PIECE=28 D STUFF^ONCSYMP S Y=185;183.1;185;I (X=0)!(X=9) S PIECE=30 D STUFF^ONCSYMP S Y=184;185.1;184;
"KRN",.402,1256,"DR",1,165.5,24)
I (X=0)!(X=9) S PIECE=31 D STUFF^ONCSYMP S Y=179;184.1;179;I (X=0)!(X=9) S PIECE=23 D STUFF^ONCSYMP S Y="@105";179.1;@105;S SECTION="Cancer Identification" D SECTION^ONCOAIP;W !;104;S FLDNUM=104,NODE=10,LIMIT=1000 D ^ONCTEXT;W !;
"KRN",.402,1256,"DR",1,165.5,25)
105;S FLDNUM=105,NODE=11,LIMIT=1000 D ^ONCTEXT;W !;106;S FLDNUM=106,NODE=12,LIMIT=1000 D ^ONCTEXT;W !;116;S FLDNUM=116,NODE=22,LIMIT=1000 D ^ONCTEXT;W !;103;S FLDNUM=103,NODE=9,LIMIT=1000 D ^ONCTEXT;W !;107;
"KRN",.402,1256,"DR",1,165.5,26)
S FLDNUM=107,NODE=13,LIMIT=1000 D ^ONCTEXT;W !;S Y=$S(ONCOANS="A":"@3",1:"@0");@3;D EXT^ONCOAIP;@31;D MO^ONCOAIP2;41;I $G(AWHFLG)=0 S Y=30 K AWHFLG;227;29;I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y=30;29.2;30;
"KRN",.402,1256,"DR",1,165.5,27)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y="@305";30.2;29.1;@305;D PGPE^ONCOAIP2;30.1;I X=99,$P($G(^ONCO(165.5,D0,0)),U,16)>3031231 S $P(^ONCO(165.5,D0,"CS"),U,7)=970 F SSF=3,4,5 S $P(^ONCO(165.5,D0,"CS2"),U,SSF)=998;@231;
"KRN",.402,1256,"DR",1,165.5,28)
D LN^ONCOAIP2;31;S L=X;I $$LYMPHOMA^ONCFUNC(D0) S $P(^ONCO(165.5,D0,2),U,12,13)="99^99";S X=X;I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y=33;31.1;32.1;33;I X=0 S Y="@24";I X=99 S Y="@25";32;S Y="@26";@24;32////98;
"KRN",.402,1256,"DR",1,165.5,29)
W !,"REGIONAL LYMPH NODES POSITIVE: No nodes were examined";S Y="@26";@25;32////99;W !,"REGIONAL LYMPH NODES POSITIVE: Unknown if nodes +, NA, not stated";@26;35;I (X'="")&(X'=7) S Y="@310";34;S:X=0 Y="@32";34.1;S:X=0 Y="@33";34.2;
"KRN",.402,1256,"DR",1,165.5,30)
S Y="@34";@310;34////0;W !,"SITE OF DISTANT METASTASIS #1: None";@32;34.1////0;W !,"SITE OF DISTANT METASTASIS #2: None";@33;34.2////0;W !,"SITE OF DISTANT METASTASIS #3: None";@34;
"KRN",.402,1256,"DR",1,165.5,31)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y="@341";34.3;I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,20)=0 W !,"METS AT DX-BONE:  None";I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,20)=8 W !,"METS AT DX-BONE:  NA";
"KRN",.402,1256,"DR",1,165.5,32)
I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,21)=0 W !,"METS AT DX-BRAIN: None";I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,21)=8 W !,"METS AT DX-BRAIN: NA";I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,22)=0 W !,"METS AT DX-LIVER: None";
"KRN",.402,1256,"DR",1,165.5,33)
I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,22)=8 W !,"METS AT DX-LIVER: NA";I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,23)=0 W !,"METS AT DX-LUNG:  None" S Y=34.4;I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,23)=8 W !,"METS AT DX-LUNG:  NA" S Y=34.4;
"KRN",.402,1256,"DR",1,165.5,34)
34.31;34.32;34.33;34.34;34.4;@341;D ^ONCOTN;@69;I $P($G(^ONCO(165.5,DA,0)),U,16)>3069999 S Y="@300";69;@300;D BLOOD^ONCOAIP2;30.5;@301;W !;S:$E($$HIST^ONCFUNC(D0),1,3)'=951 Y=37.1;69.1;37.1;D CN2^ONCOTN;37.2;37.3;
"KRN",.402,1256,"DR",1,165.5,35)
I '$$GTT^ONCOU55(D0) S Y="@38";134;@38;I '$$T^ONCOU55(D0) S Y="@39";136;@39;S STGIND="C" D ES^ONCOTN;S X=X;19;280;280.1;280.2;W !;69.4;85;D CN4^ONCOTN;86;87;I '$$GTT^ONCOU55(D0) S Y="@311";135;@311;I '$$T^ONCOU55(D0) S Y="@312";
"KRN",.402,1256,"DR",1,165.5,36)
136;@312;S STGIND="P" D ES^ONCOTN;S X=X;89;W !;149;S Y="@313";@376;38;I '$$LYMPHOMA^ONCFUNC(D0) S Y="@19";241;@19;19;88;I '$$LYMPHOMA^ONCFUNC(D0) S Y="@89";242;@89;89;@313;39;W !;65;S:X="" Y="@82";66;@82;248;249;W !;25;S X=X;44;
"KRN",.402,1256,"DR",1,165.5,37)
W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";I $P($G(^ONCO(165.5,DA,0)),U,16)<3040000 S Y="@399";@292;D ^ONCCS2;D ^ONCPCS;29.2;30.2;29.1;31.1;32.1;33;I X=0 S Y="@241";I X=99 S Y="@252";32;S Y="@261";@241;32////98;
"KRN",.402,1256,"DR",1,165.5,38)
W !,"REGIONAL LYMPH NODES POSITIVE: No nodes were examined";S Y="@261";@252;32////99;W !,"REGIONAL LYMPH NODES POSITIVE: Unknown if nodes +, NA, not stated";@261;34.3;
"KRN",.402,1256,"DR",1,165.5,39)
I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,20)=0 W !,"METS AT DX-BONE:  None";I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,20)=8 W !,"METS AT DX-BONE:  NA";I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,21)=0 W !,"METS AT DX-BRAIN: None";
"KRN",.402,1256,"DR",1,165.5,40)
I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,21)=8 W !,"METS AT DX-BRAIN: NA";I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,22)=0 W !,"METS AT DX-LIVER: None";I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,22)=8 W !,"METS AT DX-LIVER: NA";
"KRN",.402,1256,"DR",1,165.5,41)
I X="00" S $P(^ONCO(165.5,DA,"CS1"),U,23)=0 W !,"METS AT DX-LUNG:  None" S Y="@344";I X=98 S $P(^ONCO(165.5,DA,"CS1"),U,23)=8 W !,"METS AT DX-LUNG:  NA" S Y="@344";34.31;34.32;34.33;34.34;@344;34.4;44.1;44.2;44.3;44.4;44.5;44.6;
"KRN",.402,1256,"DR",1,165.5,42)
44.7;44.8;44.9;44.101;44.11;44.12;44.13;44.14;44.15;44.16;44.17;44.18;44.19;44.201;44.21;44.22;44.23;44.24;44.25;I $P($G(^ONCO(165.5,DA,"CS3")),U,2)'=1 S Y="@398";247;@398;D ^ONCCS;D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";@399;
"KRN",.402,1256,"DR",1,165.5,43)
S Y=$S(ONCOANS="A":"@4",1:"@0");@4;D NCDS^ONCPTX;S X=X;58.1;D NCDS^ONCATF;I X="" S TXNUL=1,$P(^ONCO(165.5,D0,3),U,31)="",Y="@35";I (X=0)!(X="00") D NCDS^ONCNTX S TXNO=1 S Y="@35";I (X=9)!(X="09") D NCDS^ONCUTX S TXUNK=1 S Y="@35";
"KRN",.402,1256,"DR",1,165.5,44)
58.3;D NCDSDT^ONCATF;@35;D DSPNCDS^ONCATF;W !;58.4;I X="" S $P(^ONCO(165.5,D0,3.1),U,6)="",Y="@36";I (X=0)!(X="00") D NCDSATF^ONCNTX1 S Y="@36";I (X=9)!(X="09") D NCDSATF^ONCUTX1 S Y="@36";58.5;@36;W !;
"KRN",.402,1256,"DR",1,165.5,45)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3100000 S Y="@124";235;I (X=1)!(X=9) D DNTDEL^ONCOCC S Y="@41";@124;124;I (X="0000000")!(X=9999999) S Y="@41";I X="" D CHKTS^ONCODSR;D NTX^ONCOAIP;@41;
"KRN",.402,1256,"DR",1,165.5,46)
I $P($G(^ONCO(165.5,DA,0)),U,16)>3021231 S Y="@429";D ROADS^ONCPTX;58.2;D SPSR^ONCATF;I X="" S TXNUL=1,$P(^ONCO(165.5,D0,3),U,38)="",Y="@426";S X=X;S SPS=$P($G(^ONCO(165.5,D0,3)),U,38);
"KRN",.402,1256,"DR",1,165.5,47)
I SPS=("00")!(SPS=1) D SURR^ONCNTX S TXNO=1,Y="@426";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1);S SGRP=$P($G(^ONCO(164,TPX,0)),U,16);I $E(TPX,3,4)=77 S SGRP=67422;I $G(^ONCO(164,SGRP,"SPS",SPS,0))[99 D SURR^ONCUTX S TXUNK=1 S Y="@426";
"KRN",.402,1256,"DR",1,165.5,48)
D SATFDFR^ONCOCC;74;@426;D DSPSPSR^ONCATF;W !;50.2//^S X=$G(SPSDF);@427;W !;D CHKPRMR^ONCUTX1;138;D SCPR^ONCATF;S X=X;S SCOPE=$P($G(^ONCO(165.5,D0,3)),U,40);I SCOPE="" S $P(^ONCO(165.5,D0,3),U,42)="",TXNUL=1,Y="@1381";
"KRN",.402,1256,"DR",1,165.5,49)
I SCOPE=1 D NODER^ONCNTX S TXNO=1,Y="@1381";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@428";S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@428";
"KRN",.402,1256,"DR",1,165.5,50)
I $G(^ONCO(164,SGRP,"SC5",SCOPE,0))["Unknown" D NODER^ONCUTX S TXUNK=1,Y="@1381";140;D NUMND^ONCATF;@1381;D DSPSCPR^ONCATF;W !;D SCOPER^ONCOCC;138.1//^S X=$G(SCPDF);S X=X;S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,9);
"KRN",.402,1256,"DR",1,165.5,51)
I SCPATF="" S $P(^ONCO(165.5,D0,3.1),U,11)="",Y="@139";I SCPATF=1 D NODATFR^ONCNTX1 S Y="@139";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@428";S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@428";
"KRN",.402,1256,"DR",1,165.5,52)
I $G(^ONCO(164,SGRP,"SC5",SCPATF,0))["Unknown" D NODATFR^ONCUTX1 S Y="@139";D NUMN^ONCOCC;140.1//^S X=$G(NUMDF);@139;W !;139;D SOSNR^ONCATF;S X=X;S SOSN=$P($G(^ONCO(165.5,D0,3)),U,41) I SOSN="" S TXNUL=1,Y="@1391";
"KRN",.402,1256,"DR",1,165.5,53)
I SOSN=1 D SOSNR^ONCNTX S TXNO=1,Y="@1391";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@428";S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@428";I $G(^ONCO(164,SGRP,"SO5",SOSN,0))["Unknown" S TXUNK=1;@1391;
"KRN",.402,1256,"DR",1,165.5,54)
D DSPSOSR^ONCATF;D SOSNR^ONCOCC;139.1//^S X=$G(SOSNDF);S X=X;@428;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";@429;D FORDS^ONCPTX;S X=X;58.6;D SPS^ONCATF;I X="" S TXNUL=1,$P(^ONCO(165.5,D0,3.1),U,29)="",Y="@42";S X=X;
"KRN",.402,1256,"DR",1,165.5,55)
S SPS=$P($G(^ONCO(165.5,D0,3.1)),U,29);I SPS="00"!(SPS=1) D SUR^ONCNTX,SA^ONCNTX,SM^ONCNTX,DSD^ONCNTX S TXNO=1,Y="@42";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1);S SGRP=$P($G(^ONCO(164,TPX,0)),U,16);
"KRN",.402,1256,"DR",1,165.5,56)
I $G(^ONCO(164,SGRP,"SPS",SPS,0))[99 D SUR^ONCUTX S TXUNK=1,Y="@42";50;435;14;D SPSDT^ONCATF;D SATFDEF^ONCOCC;59;@42;D DSPSPS^ONCATF;W !;58.7//^S X=$G(SPSDF);I X="" S $P(^ONCO(165.5,D0,3.1),U,8)="",Y="@43";S X=X;
"KRN",.402,1256,"DR",1,165.5,57)
S SPSATF=$P($G(^ONCO(165.5,D0,3.1)),U,30) I SPSATF="" S $P(^ONCO(165.5,D0,3.1),U,8)="",Y="@43";I SPSATF="00"!(SPSATF=1) D SURATF^ONCNTX1 S Y="@43";S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" S Y="@44";
"KRN",.402,1256,"DR",1,165.5,58)
S SGRP=$P($G(^ONCO(164,TPX,0)),U,16) I SGRP="" S Y="@44";I $G(^ONCO(164,SGRP,"SPS",SPSATF,0))[99 D SURATF^ONCUTX1 S Y="@43";234;50.3//^S X=$G(SPSDTDF);I $P($G(^ONCO(165.5,DA,0)),U,16)<3100000 S Y="@43";@43;W !;D RFNS^ONCATF1;58;
"KRN",.402,1256,"DR",1,165.5,59)
@431;W !;D CHKPRMF^ONCUTX1;138.4;D SCP^ONCATF;S X=X;S SCOPE=$P($G(^ONCO(165.5,D0,3.1)),U,31) I SCOPE="" S $P(^ONCO(165.5,D0,3.1),U,22)="",$P(^ONCO(165.5,D0,3),U,42)="",TXNUL=1,Y="@45";I SCOPE=0 D NODE^ONCNTX S TXNO=1,Y="@45";
"KRN",.402,1256,"DR",1,165.5,60)
I SCOPE=9 D NODE^ONCUTX S TXUNK=1,Y="@45";138.2;D SCPDT^ONCATF;@45;D DSPSCP^ONCATF;W !;D SCOPE^ONCOCC;138.5//^S X=$G(SCPDF);S X=X;
"KRN",.402,1256,"DR",1,165.5,61)
S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,32) I SCPATF="" S $P(^ONCO(165.5,D0,3.1),U,23)="",$P(^ONCO(165.5,D0,3.1),U,11)="",Y="@46";I SCPATF=0 D NODEATF^ONCNTX1 S Y="@46";I SCPATF=9 D NODEATF^ONCUTX1 S Y="@46";138.3//^S X=$G(SCPDTDF);
"KRN",.402,1256,"DR",1,165.5,62)
@46;W !;139.4;D SOSN^ONCATF;S X=X;S SOSN=$P($G(^ONCO(165.5,D0,3.1)),U,33) I SOSN="" S $P(^ONCO(165.5,D0,3.1),U,24)="",TXNUL=1,Y="@47";I SOSN=0 D SOSN^ONCNTX S TXNO=1,Y="@47";I SOSN=9 D SOSN^ONCUTX S TXUNK=1,Y="@47";139.2;
"KRN",.402,1256,"DR",1,165.5,63)
D SOSNDT^ONCATF;@47;S:(SOSN=3)!(SOSN=4) Y="@4725";139.6////0;139.7////0000000;W !!,"METS SITE RESECTED: 0";W !,"METS SITE RESECTED DATE: 00/00/0000";S Y="@475";@4725;139.6;139.7;@475;D DSPSOSN^ONCATF;W !;D SOSN^ONCOCC;
"KRN",.402,1256,"DR",1,165.5,64)
139.5//^S X=$G(SOSNDF);S X=X;S SOSNATF=$P($G(^ONCO(165.5,D0,3.1)),U,34) I SOSNATF="" S $P(^ONCO(165.5,D0,3.1),U,25)="",Y="@48";I SOSNATF=0 D SOSNATF^ONCNTX1 S Y="@48";I SOSNATF=9 D SOSNATF^ONCUTX1 S Y="@48";
"KRN",.402,1256,"DR",1,165.5,65)
139.3//^S X=$G(SOSNDTDF);@48;W !;170;I $P($G(^ONCO(165.5,DA,0)),U,16)>3021231 S Y=108;D DEFAULT^ONCTXSM;23//^S X=$G(RRDF);W !;108;S FLDNUM=108,NODE=14,LIMIT=1000 D ^ONCTEXT;W !;@44;46;
"KRN",.402,1256,"DR",1,165.5,66)
I (X=1)!(X=9) S $P(^ONCO(165.5,DA,7),U,20)="" S Y="@441";47;@441;281;228;229;230;231;232;245;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";D RAD^ONCPTX;51.2;D RAD^ONCATF1;S R=$S(X&(X<7):1,1:0);
"KRN",.402,1256,"DR",1,165.5,67)
I X="" S $P(^ONCO(165.5,D0,3),U,4)="",TXNUL=1,Y="@49";I (X=0)!(X=7) D RAD1^ONCNTX,RAD2^ONCNTX S TXNO=1,Y="@49";I (X=8)!(X=9) D RAD^ONCUTX S TXUNK=1,Y="@49";51;D RADDT^ONCATF1;D RATFDEF^ONCOCC;126;125;363;
"KRN",.402,1256,"DR",1,165.5,68)
I X'="" S RTMCODE=$P($G(^ONCO(166.13,X,0)),U,1) I (RTMCODE>49)&(RTMCODE<63) S $P(^ONCO(165.5,DA,"THY1"),U,43)=88888 W !,"REGIONAL DOSE: cGy: NA, brachytherapy/radioisotopes administered" S Y=363.1;442;363.1;
"KRN",.402,1256,"DR",1,165.5,69)
I X'="" S RTMCODE=$P($G(^ONCO(166.13,X,0)),U,1) I (RTMCODE>49)&(RTMCODE<63) S $P(^ONCO(165.5,DA,"THY1"),U,44)=88888 W !,"BOOST DOSE: cGy: NA, brachytherapy/radioisotopes administered" S Y=56;443;56;361;@49;D DSPRAD^ONCATF1;W !;
"KRN",.402,1256,"DR",1,165.5,70)
51.4//^S X=$G(RADDF);I X="" S $P(^ONCO(165.5,D0,3.1),U,13)="",Y="@411";I (X=0)!(X=7) D RADATF^ONCNTX1 S Y="@411";I (X=8)!(X=9) D RADATF^ONCUTX1 S Y="@411";51.5//^S X=$G(RADDTDF);@411;D RS^ONCOAIP;S X=X;W !;51.3;D RFNR^ONCATF1;W !;
"KRN",.402,1256,"DR",1,165.5,71)
75;S RFNR=X D ^ONCRFNR W:$G(RFNRMSG)'="" !!,RFNRMSG;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";S RVAR=$P($G(^ONCO(165.5,D0,3)),U,6);I RVAR=""!(RVAR=0)!(RVAR=9) S Y="@413";@412;W !;109;S FLDNUM=109,NODE=15,LIMIT=1000 D ^ONCTEXT;@413;
"KRN",.402,1256,"DR",1,165.5,72)
D ST^ONCPTX;53.2;D CHEM^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,11)="",TXNUL=1,Y="@414";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D CHE^ONCNTX S TXNO=1,Y="@414";I (X=88)!(X=99) S XX=X D CHE^ONCUTX S TXUNK=1,Y="@414";53;
"KRN",.402,1256,"DR",1,165.5,73)
D CHEMDT^ONCATF1;D CATFDEF^ONCOCC;@414;D DSPCHEM^ONCATF1;W !;53.3//^S X=$G(CHEMDF);I X="" S $P(^ONCO(165.5,D0,3.1),U,15)="",Y="@415";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D CMATFDT^ONCNTX1 S Y="@415";
"KRN",.402,1256,"DR",1,165.5,74)
I (X=88)!(X=99) D CHEMATF^ONCUTX1 S Y="@415";53.4//^S X=$G(CHMDTDF);@415;S CVAR=$P($G(^ONCO(165.5,D0,3)),U,13);I (CVAR="")!(CVAR="00")!(CVAR=99)!(CVAR=82)!(CVAR=85)!(CVAR=86)!(X=87) S Y="@416";W !;1423;I X="" S Y="@4151";1423.1;
"KRN",.402,1256,"DR",1,165.5,75)
I X="" S Y="@4151";1423.2;I X="" S Y="@4151";1423.3;I X="" S Y="@4151";1423.4;@4151;W !;111;S FLDNUM=111,NODE=17,LIMIT=1000 D ^ONCTEXT;@416;W !;54.2;D HT^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,14)="",TXNUL=1,Y="@417";
"KRN",.402,1256,"DR",1,165.5,76)
I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D HOR^ONCNTX1 S TXNO=1,Y="@417";I (X=88)!(X=99) S XX=X D HOR^ONCUTX S TXUNK=1,Y="@417";54;D HTDT^ONCATF1;D HATFDEF^ONCOCC;@417;D DSPHT^ONCATF1;W !;54.3//^S X=$G(HTDF);
"KRN",.402,1256,"DR",1,165.5,77)
I X="" S $P(^ONCO(165.5,D0,3.1),U,17)="",Y="@418";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D HTATFDT^ONCNTX1 S Y="@418";I (X=88)!(X=99) D HTATF^ONCUTX1 S Y="@418";54.4//^S X=$G(HTDTDF);@418;W !;S HVAR=$P($G(^ONCO(165.5,D0,3)),U,16);
"KRN",.402,1256,"DR",1,165.5,78)
I (HVAR="")!(HVAR="00")!(HVAR=99)!(HVAR=82)!(HVAR=85)!(HVAR=86)!(X=87) S Y="@419";112;S FLDNUM=112,NODE=18,LIMIT=1000 D ^ONCTEXT;@419;W !;55.2;D IMM^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,17)="",TXNUL=1,Y="@420";
"KRN",.402,1256,"DR",1,165.5,79)
I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D IMM^ONCNTX1 S TXNO=1,Y="@420";I (X=88)!(X=99) S XX=X D IMM^ONCUTX S TXUNK=1,Y="@420";55;D IMMDT^ONCATF1;D IATFDEF^ONCOCC;@420;D DSPIMM^ONCATF1;W !;55.3//^S X=$G(IMMDF);
"KRN",.402,1256,"DR",1,165.5,80)
I X="" S $P(^ONCO(165.5,D0,3.1),U,19)="",Y="@421";I (X="00")!(X=82)!(X=85)!(X=86)!(X=87) D IMATFDT^ONCNTX1 S Y="@421";I (X=88)!(X=99) D IMMATF^ONCUTX1 S Y="@421";55.4//^S X=$G(IMMDTDF);@421;W !;
"KRN",.402,1256,"DR",1,165.5,81)
S IVAR=$P($G(^ONCO(165.5,D0,3)),U,19);I (IVAR="")!(IVAR="00")!(IVAR=99)!(IVAR=82)!(IVAR=85)!(IVAR=86)!(X=87) S Y="@422";114;S FLDNUM=114,NODE=20,LIMIT=1000 D ^ONCTEXT;@422;W !;153;
"KRN",.402,1256,"DR",1,165.5,82)
I X="" S $P(^ONCO(165.5,D0,3.1),U,35)="",TXNUL=1,Y="@4201";S HE=$P(^ONCO(167,X,0),U,1);I (HE="00")!(HE=82)!(HE=85)!(HE=86)!(HE=87) D HTEP^ONCNTX1 S TXNO=1,Y="@4201";I (HE=88)!(HE=99) D HTEP^ONCUTX S TXUNK=1,Y="@4201";153.1;@4201;
"KRN",.402,1256,"DR",1,165.5,83)
I $P($G(^ONCO(165.5,DA,0)),U,16)<3060000 S Y="@4202";D SSS^ONCOAIP1;S X=X;W !;15;@4202;W ! D PAUSE^ONCOPA2A I PAUSE=U S Y="@0";D OTH^ONCPTX;57.2;D OTH^ONCATF1;I X="" S $P(^ONCO(165.5,D0,3),U,23)="",TXNUL=1,Y="@423";
"KRN",.402,1256,"DR",1,165.5,84)
I (X=0)!(X=7) D OTH^ONCNTX1 S TXNO=$S(X=0:1,1:""),Y="@423";I (X=8)!(X=9) D OTH^ONCUTX S TXUNK=$S(X=9:1,1:""),Y="@423";57;D OTHDT^ONCATF1;D OATFDEF^ONCOCC;@423;D DSPOTH^ONCATF1;W !;57.3//^S X=$G(OTHDF);
"KRN",.402,1256,"DR",1,165.5,85)
I X="" S $P(^ONCO(165.5,D0,3.1),U,21)="" S Y="@424";I X=0!(X=7) D OTHATF^ONCNTX1 S Y="@424";I X=8!(X=9) D OTHATF^ONCUTX1 S Y="@424";57.4//^S X=$G(OTHDTDF);@424;W !;S OVAR=$P($G(^ONCO(165.5,D0,3)),U,25);
"KRN",.402,1256,"DR",1,165.5,86)
I OVAR=""!(OVAR=0)!(OVAR=9) S Y="@425";115;S FLDNUM=115,NODE=21,LIMIT=1000 D ^ONCTEXT;@425;D PRO^ONCPTX;12;@13;D PP^ONCATF1;D PATFDEF^ONCOCC;13//^S X=$G(PPDF);279;346;I X=9 D PRO^ONCUTX S Y="@113";
"KRN",.402,1256,"DR",1,165.5,87)
I (X=0)!(X=2)!(X=3)!(X=4)!(X=5)!(X=6)!(X=7)!(X=8) D PRO^ONCNTX1 S Y="@113";560;133;@113;W !;113;S FLDNUM=113,NODE=19,LIMIT=1000 D ^ONCTEXT;S Y=$S(ONCOANS="A":"@5",1:"@0");@5;D ^ONCOPCE;S Y=$S(ONCOANS="A":"@7",1:"@0");@6;
"KRN",.402,1256,"DR",1,165.5,88)
D ORF^ONCOAIP;205;206;207;208;209;210;211;212;213;214;215;216;217;218;219;220;221;222;223;224;225;226;S Y="@0";@7;S Y="@8";999.1;999.2;999.3;999.4;999.5;999.6;999.7;999.8;999.9;999.11;999.12;999.13;999.14;999.15;999.16;999.17;
"KRN",.402,1256,"DR",1,165.5,89)
999.18;999.19;999.21;999.22;999.23;999.24;999.25;@8;D AB^ONCOAIP;91;I $G(EDIT)="YES" S Y="@0";S:$P(^ONCO(165.5,D0,7),U,4)="" Y="@83";W !!?5,"Selected for QA=>",!;63;S:X="N" Y="@83";64;64.1;64.2;@83;S Y="";62;@999999;62;
"KRN",19,13545,-1)
0^1
"KRN",19,13545,0)
ONCSERVER^ONCOLOGY SERVER PROCESS^^S^^^^^^^^ONCOLOGY
"KRN",19,13545,1,0)
^19.06^1^1^3130614^^^^
"KRN",19,13545,1,1,0)
A server process for Oncology extracts and updates.
"KRN",19,13545,25)
ONCSRV
"KRN",19,13545,220)
XQSERVER^R^^^Y^N
"KRN",19,13545,"U")
ONCOLOGY SERVER PROCESS
"MBREQ")
0
"ORD",0,9.8)
9.8;;1;RTNF^XPDTA;RTNE^XPDTA
"ORD",0,9.8,0)
ROUTINE
"ORD",7,.402)
.402;7;;;EDEOUT^DIFROMSO(.402,DA,"",XPDA);FPRE^DIFROMSI(.402,"",XPDA);EPRE^DIFROMSI(.402,DA,$E("N",$G(XPDNEW)),XPDA,"",OLDA);;EPOST^DIFROMSI(.402,DA,"",XPDA);DEL^DIFROMSK(.402,"",%)
"ORD",7,.402,0)
INPUT TEMPLATE
"ORD",18,19)
19;18;;;OPT^XPDTA;OPTF1^XPDIA;OPTE1^XPDIA;OPTF2^XPDIA;;OPTDEL^XPDIA
"ORD",18,19,0)
OPTION
"PKG",14,-1)
1^1
"PKG",14,0)
ONCOLOGY^ONC^Oncology treatment tracking & tumor registry package.
"PKG",14,20,0)
^9.402P^^
"PKG",14,22,0)
^9.49I^1^1
"PKG",14,22,1,0)
2.2
"PKG",14,22,1,"PAH",1,0)
1^3140529
"PKG",14,22,1,"PAH",1,1,0)
^^1^1^3140529
"PKG",14,22,1,"PAH",1,1,1,0)
Oncology version 2.2 and other fixes.
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
431
"RTN","ONC2PS01")
0^377^B134442865
"RTN","ONC2PS01",1,0)
ONC2PS01 ;Hines OIFO/RVD - Pre&Post-Install Routine for Patch ONC*2.2*1 ;07/1/13
"RTN","ONC2PS01",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONC2PS01",3,0)
 ;
"RTN","ONC2PS01",4,0)
 N RC
"RTN","ONC2PS01",5,0)
 ;DC production server.
"RTN","ONC2PS01",6,0)
 S RC=$$UPDCSURL^ONCSAPIU("http://127.0.0.1:21/cgi_bin/oncsrv.exe")
"RTN","ONC2PS01",7,0)
 ;DC test server, comment out for final release.
"RTN","ONC2PS01",8,0)
 ;S RC=$$UPDCSURL^ONCSAPIU("http://127.0.0.1:21/cgi_bin/oncsrv.exe")
"RTN","ONC2PS01",9,0)
 ;
"RTN","ONC2PS01",10,0)
 D C3E,CS,COC,LYM,METS,PR6,PR3,EXTCODE,CHEM,OSG,AJSGHLP,HIST,CONN,USS
"RTN","ONC2PS01",11,0)
 Q
"RTN","ONC2PS01",12,0)
 ;
"RTN","ONC2PS01",13,0)
CS ;check if the server is up. If down, instruct IRM to re-run CS conversion.
"RTN","ONC2PS01",14,0)
 S RC=$$CHKVER^ONCSAPIV() I RC'=0 D  Q  ;quit if server is down.
"RTN","ONC2PS01",15,0)
 .D BMES^XPDUTL("OncoTrax server is down...re-run the conversion in programmer mode, type D CS^ONC2PS01")
"RTN","ONC2PS01",16,0)
 ;
"RTN","ONC2PS01",17,0)
 W !!," Converting CS 0204 cases to 0205..."
"RTN","ONC2PS01",18,0)
 S IEN=0 F CNT=1:1 S IEN=$O(^ONCO(165.5,IEN)) Q:IEN'>0  W:CNT#100=0 "." D
"RTN","ONC2PS01",19,0)
 .S DATEDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONC2PS01",20,0)
 .S CSDERIVED=$P($G(^ONCO(165.5,IEN,"CS1")),U,11)
"RTN","ONC2PS01",21,0)
 .I DATEDX>3031231 D
"RTN","ONC2PS01",22,0)
 ..I CSDERIVED="" S $P(^ONCO(165.5,IEN,"CS3"),U,2)="" Q
"RTN","ONC2PS01",23,0)
 ..I $P($G(^ONCO(165.5,IEN,"CS3")),U,2)=0 Q
"RTN","ONC2PS01",24,0)
 ..I $E(CSDERIVED,4)<5 D ^ONC2PS1A S $P(^ONCO(165.5,IEN,"EDITS"),U,2)=14
"RTN","ONC2PS01",25,0)
 K CNT,CSDERIVED,DATEDX,HIST,HIST14,IEN,SITE
"RTN","ONC2PS01",26,0)
 Q
"RTN","ONC2PS01",27,0)
COC ;add 'or persistence'
"RTN","ONC2PS01",28,0)
 N ONCDF
"RTN","ONC2PS01",29,0)
 S ONCDF=$P($G(^ONCO(165.3,12,0)),U,2)
"RTN","ONC2PS01",30,0)
 S:(ONCDF["w recurrence")&($L(ONCDF)<70) $P(^ONCO(165.3,12,0),U,2)=ONCDF_" or persistence"
"RTN","ONC2PS01",31,0)
 Q
"RTN","ONC2PS01",32,0)
 ;
"RTN","ONC2PS01",33,0)
LYM ;convert X to 8 or 9 for Lymphatic vessel invasion
"RTN","ONC2PS01",34,0)
 W !!," Converting Lymphatic Vessel Invasion 'BLANK' or 'X' to 8 or 9..."
"RTN","ONC2PS01",35,0)
 N IEN,ONCH,ONCHIST,ONCX
"RTN","ONC2PS01",36,0)
 F IEN=0:0 S IEN=$O(^ONCO(165.5,IEN)) Q:IEN'>0  D
"RTN","ONC2PS01",37,0)
 .S ONCH=$$HIST^ONCFUNC(IEN),ONCHIST=$E(ONCH,1,4)
"RTN","ONC2PS01",38,0)
 .S ONCX=$P($G(^ONCO(165.5,IEN,2)),U,19)
"RTN","ONC2PS01",39,0)
 .I (ONCX="X")!(ONCX="") D
"RTN","ONC2PS01",40,0)
 ..I (ONCHIST>9589)&(ONCHIST<9993) S $P(^ONCO(165.5,IEN,2),U,19)=8
"RTN","ONC2PS01",41,0)
 ..E  S $P(^ONCO(165.5,IEN,2),U,19)=9
"RTN","ONC2PS01",42,0)
 Q
"RTN","ONC2PS01",43,0)
 ;
"RTN","ONC2PS01",44,0)
METS ;If METS AT DX (CS) (#165.5,34.3) equals "98" then the following
"RTN","ONC2PS01",45,0)
 ;four fields must be set to "8":
"RTN","ONC2PS01",46,0)
 ;   METS AT DX-BONE (#165.5,34.31), METS AT DX-BRAIN (#165.5,34.32)
"RTN","ONC2PS01",47,0)
 ;   METS AT DX-LIVER (#165.5,34.33) METS AT DX-LUNG (#165.5,34.34)
"RTN","ONC2PS01",48,0)
 D BMES^XPDUTL(" Converting METS AT DX-fields...")
"RTN","ONC2PS01",49,0)
 N IEN,ONCMDX
"RTN","ONC2PS01",50,0)
 F IEN=0:0 S IEN=$O(^ONCO(165.5,IEN)) Q:IEN'>0  D
"RTN","ONC2PS01",51,0)
 .S ONCMDX=$P($G(^ONCO(165.5,IEN,"CS")),U,3) I ONCMDX'=98 Q
"RTN","ONC2PS01",52,0)
 .S $P(^ONCO(165.5,IEN,"CS1"),U,20)=8,$P(^ONCO(165.5,IEN,"CS1"),U,21)=8
"RTN","ONC2PS01",53,0)
 .S $P(^ONCO(165.5,IEN,"CS1"),U,22)=8,$P(^ONCO(165.5,IEN,"CS1"),U,23)=8
"RTN","ONC2PS01",54,0)
 Q
"RTN","ONC2PS01",55,0)
 ;
"RTN","ONC2PS01",56,0)
PRE1 ;environment check code, entry point of pre-init
"RTN","ONC2PS01",57,0)
 N ONCVER
"RTN","ONC2PS01",58,0)
 S ONCVER=$$VERSION^XPDUTL("ONC")
"RTN","ONC2PS01",59,0)
 I ONCVER<2.11 D BMES^XPDUTL("Your system must have Oncology v2.11 in order to continue with this installation!!!") S XPDABORT=1 Q
"RTN","ONC2PS01",60,0)
 ;clean-up file 160.16
"RTN","ONC2PS01",61,0)
 N ONCI
"RTN","ONC2PS01",62,0)
 K ^ONCO(160.16) ;delete old entries of file #160.16, to be replaced in p1.
"RTN","ONC2PS01",63,0)
 D BMES^XPDUTL("Done removing old entries in file #160.16")
"RTN","ONC2PS01",64,0)
VER ;update version number to 2.2 from 2.11
"RTN","ONC2PS01",65,0)
 S ONCI=159.999
"RTN","ONC2PS01",66,0)
 F  S ONCI=$O(^DD(ONCI)) Q:(ONCI>160.666)!(ONCI="")  S:$D(^DD(ONCI,0,"VR")) ^DD(ONCI,0,"VR")=2.2
"RTN","ONC2PS01",67,0)
 S ONCI=163.999
"RTN","ONC2PS01",68,0)
 F  S ONCI=$O(^DD(ONCI)) Q:(ONCI>169.999)!(ONCI="")  S:$D(^DD(ONCI,0,"VR")) ^DD(ONCI,0,"VR")=2.2
"RTN","ONC2PS01",69,0)
 S:$D(^DD(5.1,0,"VR")) ^DD(5.1,0,"VR")=2.2
"RTN","ONC2PS01",70,0)
 S:$D(^DD(5.11,0,"VR")) ^DD(5.11,0,"VR")=2.2
"RTN","ONC2PS01",71,0)
VER1 ;update oncology version status and Current Version
"RTN","ONC2PS01",72,0)
 N ONCII,ONCVRNM,ONCVRNO,ONCCVR,DA,DIE,DR
"RTN","ONC2PS01",73,0)
 I '$D(^ONCO(169.99,"B","ONCOLOGY V2.2")) D
"RTN","ONC2PS01",74,0)
 .S ONCII=$O(^ONCO(169.99,999999999),-1)
"RTN","ONC2PS01",75,0)
 .S ONCVRNO=$P($G(^ONCO(169.9,ONCII,0)),U,2)
"RTN","ONC2PS01",76,0)
 .S DIE="^ONCO(169.99,",DA=ONCII+1,ONCVRNM="ONCOLOGY V2.2"
"RTN","ONC2PS01",77,0)
 .S DR=".01///^S X=ONCVRNM;.02///2.2;1///2.11" D ^DIE
"RTN","ONC2PS01",78,0)
 D BMES^XPDUTL("Done setting version # to 2.2 in Oncology files!!!")
"RTN","ONC2PS01",79,0)
 ;update Current Version of the package file
"RTN","ONC2PS01",80,0)
 N ONCPAC,DA
"RTN","ONC2PS01",81,0)
 S DIE="^DIC(9.4,",DA=$O(^DIC(9.4,"B","ONCOLOGY",0)),DR="13///^S X=2.2" D ^DIE
"RTN","ONC2PS01",82,0)
 Q
"RTN","ONC2PS01",83,0)
 ;
"RTN","ONC2PS01",84,0)
PR6 ;process form for FOLLOWUP RATE REPORT
"RTN","ONC2PS01",85,0)
 N ONCIEN,VAL
"RTN","ONC2PS01",86,0)
 S ONCIEN=$O(^ONCO(160.2,"B","FOLLOWUP RATE REPORT",0))
"RTN","ONC2PS01",87,0)
 D BMES^XPDUTL("Updating file #160.2 for followup rate form...")
"RTN","ONC2PS01",88,0)
 I '$G(ONCIEN) D BMES^XPDUTL("No FOLLOWUP RATE REPORT form in your system, please inform your ONCOLOGY Dept...") Q
"RTN","ONC2PS01",89,0)
 F NNN=1:1 S VAL=$P($T(DAT6+NNN),";;",2) Q:VAL=""  S ^ONCO(160.2,ONCIEN,1,NNN,0)=VAL
"RTN","ONC2PS01",90,0)
 D BMES^XPDUTL("Done updating file #160.2 for FOLLOWUP RATE REPORT form!!!")
"RTN","ONC2PS01",91,0)
 Q
"RTN","ONC2PS01",92,0)
PR3 ;process form FOLLOWUP RATE REPORT 1
"RTN","ONC2PS01",93,0)
 N ONCIEN3,VAL
"RTN","ONC2PS01",94,0)
 S ONCIEN3=$O(^ONCO(160.2,"B","FOLLOWUP RATE REPORT 1",0))
"RTN","ONC2PS01",95,0)
 D BMES^XPDUTL("Updating file #160.2 for followup rate report 1 form...")
"RTN","ONC2PS01",96,0)
 I '$G(ONCIEN3) D BMES^XPDUTL("No FOLLOWUP RATE REPORT 1 form in your system, please inform your ONCOLOGY Dept...") Q
"RTN","ONC2PS01",97,0)
 F NNN=1:1 S VAL=$P($T(DAT3+NNN),";;",2) Q:VAL=""  S ^ONCO(160.2,ONCIEN3,1,NNN,0)=VAL
"RTN","ONC2PS01",98,0)
 D BMES^XPDUTL("Done updating file #160.2 for FOLLOWUP RATE REPORT 1 form!!!")
"RTN","ONC2PS01",99,0)
 Q
"RTN","ONC2PS01",100,0)
 ;
"RTN","ONC2PS01",101,0)
EXTCODE ;Correct the extension text for C69.5 in SEER CODE SET (#164.5) file
"RTN","ONC2PS01",102,0)
 ;Code 80 was set to "Adjacent Bone", should be "Further Contiguous Ext"
"RTN","ONC2PS01",103,0)
 S DA=81,DA(1)=173,DIE="^ONCO(164.5,"_DA(1)_",1,"
"RTN","ONC2PS01",104,0)
 S ONCNWTXT="Further contiguous extension",DR=".01///^S X=ONCNWTXT"
"RTN","ONC2PS01",105,0)
 D ^DIE
"RTN","ONC2PS01",106,0)
 K ONCNWTXT
"RTN","ONC2PS01",107,0)
 Q
"RTN","ONC2PS01",108,0)
 ;
"RTN","ONC2PS01",109,0)
CHEM ;Add 4 new & update 2 existing entries for CHEMO DRUGS (#164.18) file
"RTN","ONC2PS01",110,0)
 ;   Add these 4 entries: AXITINIB,PRALATREXATE,RUXOLITINIB,PAZOPANIB
"RTN","ONC2PS01",111,0)
 ;   Modify these 2 entries: RAD001, IMATINIB MESYLATE
"RTN","ONC2PS01",112,0)
 N ONCCMIEN,D0,DA,DD,DIC,X,Y K DD,DO
"RTN","ONC2PS01",113,0)
 D AXIN,PRAL,RUXO,PAZO,AFIN,DESA Q
"RTN","ONC2PS01",114,0)
 K ONCCMIEN Q
"RTN","ONC2PS01",115,0)
AXIN Q:$D(^ONCO(164.18,"B","AXITINIB"))
"RTN","ONC2PS01",116,0)
 S DIC="^ONCO(164.18,",DIC(0)="L",X="AXITINIB",DIC("DR")="1///013736"
"RTN","ONC2PS01",117,0)
 D FILE^DICN I Y=-1 Q
"RTN","ONC2PS01",118,0)
 S ONCCMIEN=+Y,DA(1)=ONCCMIEN,DIC="^ONCO(164.18,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",119,0)
 F X="AG013736","INLYTA" D FILE^DICN
"RTN","ONC2PS01",120,0)
 Q
"RTN","ONC2PS01",121,0)
PRAL Q:$D(^ONCO(164.18,"B","PRALATREXATE"))
"RTN","ONC2PS01",122,0)
 S DIC="^ONCO(164.18,",DIC(0)="L",X="PRALATREXATE",DIC("DR")="1///488180"
"RTN","ONC2PS01",123,0)
 D FILE^DICN I Y=-1 Q
"RTN","ONC2PS01",124,0)
 S ONCCMIEN=+Y,DA(1)=ONCCMIEN,DIC="^ONCO(164.18,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",125,0)
 F X="FOLOTYN" D FILE^DICN
"RTN","ONC2PS01",126,0)
 Q
"RTN","ONC2PS01",127,0)
RUXO Q:$D(^ONCO(164.18,"B","RUXOLITINIB"))
"RTN","ONC2PS01",128,0)
 S DIC="^ONCO(164.18,",DIC(0)="L",X="RUXOLITINIB",DIC("DR")="1///018424"
"RTN","ONC2PS01",129,0)
 D FILE^DICN
"RTN","ONC2PS01",130,0)
 Q
"RTN","ONC2PS01",131,0)
PAZO Q:$D(^ONCO(164.18,"B","PAZOPANIB"))
"RTN","ONC2PS01",132,0)
 S DIC="^ONCO(164.18,",DIC(0)="L",X="PAZOPANIB",DIC("DR")="1///444731"
"RTN","ONC2PS01",133,0)
 D FILE^DICN I Y=-1 Q
"RTN","ONC2PS01",134,0)
 S ONCCMIEN=+Y,DA(1)=ONCCMIEN,DIC="^ONCO(164.18,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",135,0)
 F X="VOTRIENT" D FILE^DICN
"RTN","ONC2PS01",136,0)
 Q
"RTN","ONC2PS01",137,0)
AFIN S ONCCMIEN=$O(^ONCO(164.18,"B","RAD001","")) I ONCCMIEN="" Q
"RTN","ONC2PS01",138,0)
 S DA(1)=ONCCMIEN,DIC="^ONCO(164.18,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",139,0)
 F X="AFINITOR","CERTICAN","EVEROLIMUS" D 
"RTN","ONC2PS01",140,0)
 .Q:$D(^ONCO(164.18,ONCCMIEN,1,"B",X))
"RTN","ONC2PS01",141,0)
 .D FILE^DICN
"RTN","ONC2PS01",142,0)
 Q
"RTN","ONC2PS01",143,0)
DESA S ONCCMIEN=$O(^ONCO(164.18,"B","IMATINIB MESYLATE","")) I ONCCMIEN="" Q
"RTN","ONC2PS01",144,0)
 Q:$D(^ONCO(164.18,ONCCMIEN,1,"B","DESATINIB"))
"RTN","ONC2PS01",145,0)
 S DA(1)=ONCCMIEN,DIC="^ONCO(164.18,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",146,0)
 F X="DESATINIB" D FILE^DICN
"RTN","ONC2PS01",147,0)
 Q
"RTN","ONC2PS01",148,0)
 ;
"RTN","ONC2PS01",149,0)
OSG ;Add 2 new entries for OTHER STAGING GROUPS FOR ONCOLOGY (#164.3) file
"RTN","ONC2PS01",150,0)
 N ONCOSIEN,D0,DA,DD,DIC,X,Y K DD,DO
"RTN","ONC2PS01",151,0)
 D BCLC,MELD
"RTN","ONC2PS01",152,0)
 K ONCOSIEN Q
"RTN","ONC2PS01",153,0)
BCLC Q:$D(^ONCO(164.3,"B","BCLC"))
"RTN","ONC2PS01",154,0)
 S DIC="^ONCO(164.3,",DIC(0)="L",X="BCLC" D FILE^DICN I Y=-1 Q
"RTN","ONC2PS01",155,0)
 S ONCOSIEN=+Y,DA(1)=ONCOSIEN,DIC="^ONCO(164.3,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",156,0)
 F X=20 D FILE^DICN
"RTN","ONC2PS01",157,0)
 Q
"RTN","ONC2PS01",158,0)
MELD Q:$D(^ONCO(164.3,"B","MELD"))
"RTN","ONC2PS01",159,0)
 S DIC="^ONCO(164.3,",DIC(0)="L",X="MELD" D FILE^DICN I Y=-1 Q
"RTN","ONC2PS01",160,0)
 S ONCOSIEN=+Y,DA(1)=ONCOSIEN,DIC="^ONCO(164.3,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",161,0)
 F X=20 D FILE^DICN
"RTN","ONC2PS01",162,0)
 Q
"RTN","ONC2PS01",163,0)
 ;
"RTN","ONC2PS01",164,0)
AJSGHLP ;Correct typos in AJCC STAGING GROUPS (#164.33) 6TH EDITION (N) CODE
"RTN","ONC2PS01",165,0)
 ;  HELP (5 node) for BREAST (entry #23): O's should be 0's (zeroes)
"RTN","ONC2PS01",166,0)
 S ^ONCO(164.33,23,5,8,0)="N0(i+)   No regional lymph node metastasis histologically, positive IHC,"
"RTN","ONC2PS01",167,0)
 S ^ONCO(164.33,23,5,12,0)="N0(mol+) No regional lymph node metastasis histologically, positive"
"RTN","ONC2PS01",168,0)
 Q
"RTN","ONC2PS01",169,0)
HIST ;Edit names and synonyms of two Histology entries in Histology ICD-O-3
"RTN","ONC2PS01",170,0)
 ;file (169.3), entries 97511 and 97513
"RTN","ONC2PS01",171,0)
 S DIC="^ONCO(169.3,",X=97511 D ^DIC
"RTN","ONC2PS01",172,0)
 I Y'=-1 S DIE="^ONCO(169.3,",DA=+Y,DR=".01///LANGERHANS CELL HISTIOCYTOSIS, NOS (<2010 CASES)" D ^DIE
"RTN","ONC2PS01",173,0)
 S DIC="^ONCO(169.3,",X=97513 D ^DIC
"RTN","ONC2PS01",174,0)
 I Y'=-1 S ONCH3IEN=+Y,DIE="^ONCO(169.3,",DA=+Y,DR=".01///LANGERHANS CELL HISTIOCYTOSIS, NOS" D ^DIE
"RTN","ONC2PS01",175,0)
 I $D(^ONCO(169.3,ONCH3IEN,1,1,0)) K DA,DIC,DIE,DR,ONCH3IEN,Y Q
"RTN","ONC2PS01",176,0)
 S DA(1)=ONCH3IEN,DIC="^ONCO(169.3,"_DA(1)_",1,",DIC(0)="L"
"RTN","ONC2PS01",177,0)
 F X="LANGERHANS CELL GRANULOMATOSIS","HISTIOCYTOSIS X, NOS"  D FILE^DICN
"RTN","ONC2PS01",178,0)
 K DA,DIC,DIE,DR,ONCH3IEN,Y
"RTN","ONC2PS01",179,0)
 Q
"RTN","ONC2PS01",180,0)
 ;
"RTN","ONC2PS01",181,0)
CONN ;Change West Haven to Connecticut HCS
"RTN","ONC2PS01",182,0)
 ;Change NAME (160.19,.02) for WEST HAVEN VA MEDICAL CENTER to CONNECTICUT HCS
"RTN","ONC2PS01",183,0)
 S DIC="^ONCO(160.19,",X=6160765 D ^DIC
"RTN","ONC2PS01",184,0)
 I Y'=-1 S DIE="^ONCO(160.19,",DA=+Y,DR=".02///CONNECTICUT HCS" D ^DIE
"RTN","ONC2PS01",185,0)
 K DA,DIC,DIE,DR,Y
"RTN","ONC2PS01",186,0)
 Q
"RTN","ONC2PS01",187,0)
 ;
"RTN","ONC2PS01",188,0)
USS ;Add valid user for server updates
"RTN","ONC2PS01",189,0)
 S IEN=0
"RTN","ONC2PS01",190,0)
 N ONCMAIL,ONCJ,DA,DR,DIC,DIE
"RTN","ONC2PS01",191,0)
 S ONCMAIL("DORN")="rdorn@domain.ext"
"RTN","ONC2PS01",192,0)
 S ONCMAIL("DAYON")="rdayon@domain.ext"
"RTN","ONC2PS01",193,0)
 S ONCMAIL("KNOEPFLE")="rknoepfle@domain.ext"
"RTN","ONC2PS01",194,0)
 S ONCMAIL("WALLER")="kwaller@domain.ext"
"RTN","ONC2PS01",195,0)
 S DIC(0)="L"
"RTN","ONC2PS01",196,0)
 F  S IEN=$O(^ONCO(160.1,IEN))  Q:IEN'>0  F ONCJ="DORN","DAYON","KNOEPFLE","WALLER" D
"RTN","ONC2PS01",197,0)
 .S DA(1)=IEN,(DIE,DIC)="^ONCO(160.1,DA(1),""SEU"","
"RTN","ONC2PS01",198,0)
 .I '$D(^ONCO(160.1,IEN,"SEU","B",ONCJ)) D
"RTN","ONC2PS01",199,0)
 ..S DIC("DR")="2///^S X=ONCMAIL(ONCJ)",X=ONCJ D FILE^DICN
"RTN","ONC2PS01",200,0)
 .I $D(^ONCO(160.1,IEN,"SEU","B",ONCJ)) D
"RTN","ONC2PS01",201,0)
 ..S DA=$O(^ONCO(160.1,IEN,"SEU","B",ONCJ,0))
"RTN","ONC2PS01",202,0)
 ..S DR="2///^S X=ONCMAIL(ONCJ)" D ^DIE
"RTN","ONC2PS01",203,0)
 Q
"RTN","ONC2PS01",204,0)
 ;
"RTN","ONC2PS01",205,0)
C3E ;3e SS1977
"RTN","ONC2PS01",206,0)
 N I55
"RTN","ONC2PS01",207,0)
 F I55=0:0 S I55=$O(^ONCO(165.5,I55)) Q:I55'>0  D
"RTN","ONC2PS01",208,0)
 .I ($P($G(^ONCO(165.5,I55,"CS3")),U,3)["3e SS1977")!($P($G(^ONCO(165.5,I55,"CS3")),U,3)["3d SS1977") D
"RTN","ONC2PS01",209,0)
 ..S $P(^ONCO(165.5,I55,"CS3"),U,2)=""
"RTN","ONC2PS01",210,0)
 ..S $P(^ONCO(165.5,I55,"CS3"),U,3)=""
"RTN","ONC2PS01",211,0)
 Q
"RTN","ONC2PS01",212,0)
 ;
"RTN","ONC2PS01",213,0)
DAT3 ;data for FOLLOWUP RATE REPORT
"RTN","ONC2PS01",214,0)
 ;;|SETTAB(68)|
"RTN","ONC2PS01",215,0)
 ;;|NOW|
"RTN","ONC2PS01",216,0)
 ;; FOLLOW-UP RATE FOR ALL PATIENTS (LIVING AND DEAD)      NUMBER   PERCENT
"RTN","ONC2PS01",217,0)
 ;; 
"RTN","ONC2PS01",218,0)
 ;;        Total patients from registry reference date    |TOTAL#||TAB|100%
"RTN","ONC2PS01",219,0)
 ;; 
"RTN","ONC2PS01",220,0)
 ;;    1.  Less benign/borderline cases                 - |BENIGN|
"RTN","ONC2PS01",221,0)
 ;;    2.  Less Carcinoma in situ cervix cases          - |CERVIX|
"RTN","ONC2PS01",222,0)
 ;;    3.  Less in situ/localized basal and squamous    - |LOCAL BASAL|
"RTN","ONC2PS01",223,0)
 ;;        cell carcinoma of skin cases     "
"RTN","ONC2PS01",224,0)
 ;;    4.  Less foreign residents                       - |FOREIGN|
"RTN","ONC2PS01",225,0)
 ;;    5.  Less non-analytic cases                      - |NONANALYTIC|
"RTN","ONC2PS01",226,0)
 ;;    6.  Less (ALL) Class of Case 00 case             - |CC|
"RTN","ONC2PS01",227,0)
 ;;    7.  Less (ALL) Patient Age 100+ case             - |P100|
"RTN","ONC2PS01",228,0)
 ;; 
"RTN","ONC2PS01",229,0)
 ;;         SUBTOTAL CASES = ANALYTIC CASES           (A) |ANALYTIC||TAB|100%
"RTN","ONC2PS01",230,0)
 ;;         Class of Case 10-22
"RTN","ONC2PS01",231,0)
 ;; 
"RTN","ONC2PS01",232,0)
 ;;    1.  Less number dead                           (B) |DEAD||TAB||%DEAD|%
"RTN","ONC2PS01",233,0)
 ;; 
"RTN","ONC2PS01",234,0)
 ;;         SUBTOTAL CASES (NUMBER LIVING)            (C) |LIVING||TAB||%LIVING|%
"RTN","ONC2PS01",235,0)
 ;; 
"RTN","ONC2PS01",236,0)
 ;;    1.  Less number current (known to be alive
"RTN","ONC2PS01",237,0)
 ;;        in the last 15 months)                     (D) |CURRENT||TAB||%CURRENT-TOTAL|%
"RTN","ONC2PS01",238,0)
 ;; 
"RTN","ONC2PS01",239,0)
 ;;         TOTAL (LOST TO FOLLOW UP OR NOT CURRENT)  (E) |LTF| *|TAB||%LTF-TOTAL|%
"RTN","ONC2PS01",240,0)
 ;;         (* should be less than 20%)
"RTN","ONC2PS01",241,0)
 ;; 
"RTN","ONC2PS01",242,0)
 ;;     Successful follow-up currency (all patients)  (F) |SFC| **|TAB||%SFC|
"RTN","ONC2PS01",243,0)
 ;;         (** should be 80%)
"RTN","ONC2PS01",244,0)
 ;;========================================================================
"RTN","ONC2PS01",245,0)
 ;; 
"RTN","ONC2PS01",246,0)
 ;;     FOLLOW UP RATE FOR LIVING PATIENTS ONLY          NUMBER     PERCENT
"RTN","ONC2PS01",247,0)
 ;; 
"RTN","ONC2PS01",248,0)
 ;;        Enter the total number from Line C          |LIVING||TAB|100%
"RTN","ONC2PS01",249,0)
 ;;        Subtract the total number from Line D     - |CURRENT||TAB||%CURRENT-ALIVE|%
"RTN","ONC2PS01",250,0)
 ;;        Total lost/not current of living patients - |LTF||TAB||%LTF-ALIVE|%
"RTN","ONC2PS01",251,0)
DAT6 ;data for FOLLOWUP RATE REPORT 1
"RTN","ONC2PS01",252,0)
 ;;|SETTAB(68)|
"RTN","ONC2PS01",253,0)
 ;;|NOW|
"RTN","ONC2PS01",254,0)
 ;; FOLLOW-UP RATE FOR ALL PATIENTS (LIVING AND DEAD)      NUMBER   PERCENT 
"RTN","ONC2PS01",255,0)
 ;; 
"RTN","ONC2PS01",256,0)
 ;;        Total patients diagnosed within last 5 years
"RTN","ONC2PS01",257,0)
 ;;        or from registry reference date, whichever is
"RTN","ONC2PS01",258,0)
 ;;        shorter                                        |TOTAL#||TAB|100%
"RTN","ONC2PS01",259,0)
 ;; 
"RTN","ONC2PS01",260,0)
 ;;    1.  Less benign/borderline cases                 - |BENIGN|
"RTN","ONC2PS01",261,0)
 ;;    2.  Less carcinoma in situ cervix cases          - |CERVIX| 
"RTN","ONC2PS01",262,0)
 ;;    3.  Less in situ/localized basal and squamous    - |LOCAL BASAL|
"RTN","ONC2PS01",263,0)
 ;;        cell carcinoma of skin cases              
"RTN","ONC2PS01",264,0)
 ;;    4.  Less foreign residents                       - |FOREIGN| 
"RTN","ONC2PS01",265,0)
 ;;    5.  Less non-analytic                            - |NONANALYTIC|
"RTN","ONC2PS01",266,0)
 ;;    6.  Less (ALL) Class of Case 00 case             - |CC|
"RTN","ONC2PS01",267,0)
 ;;    7.  Less (ALL) Patient Age 100+ case             - |P100|
"RTN","ONC2PS01",268,0)
 ;; 
"RTN","ONC2PS01",269,0)
 ;;         SUBTOTAL CASES = ANALYTIC CASES           (A) |ANALYTIC||TAB|100%
"RTN","ONC2PS01",270,0)
 ;;         Class of Case 10-22 
"RTN","ONC2PS01",271,0)
 ;; 
"RTN","ONC2PS01",272,0)
 ;;    1.  Less number dead                           (B) |DEAD||TAB||%DEAD|%
"RTN","ONC2PS01",273,0)
 ;; 
"RTN","ONC2PS01",274,0)
 ;;         SUBTOTAL CASES (NUMBER LIVING)            (C) |LIVING||TAB||%LIVING|%
"RTN","ONC2PS01",275,0)
 ;; 
"RTN","ONC2PS01",276,0)
 ;;    1.  Less number current (known to be alive 
"RTN","ONC2PS01",277,0)
 ;;        in the last 15 months)                     (D) |CURRENT||TAB||%CURRENT-TOTAL|%
"RTN","ONC2PS01",278,0)
 ;; 
"RTN","ONC2PS01",279,0)
 ;;         TOTAL (LOST TO FOLLOW UP OR NOT CURRENT)  (E) |LTF| *|TAB||%LTF-TOTAL|%
"RTN","ONC2PS01",280,0)
 ;; 
"RTN","ONC2PS01",281,0)
 ;;         (* should be less than 10%) 
"RTN","ONC2PS01",282,0)
 ;; 
"RTN","ONC2PS01",283,0)
 ;;     Successful follow-up currency (all patients)  (F) |SFC| **|TAB||%SFC|%
"RTN","ONC2PS01",284,0)
 ;;         (** should be 90%)
"RTN","ONC2PS01",285,0)
 ;;=========================================================================
"RTN","ONC2PS01",286,0)
 ;; 
"RTN","ONC2PS01",287,0)
 ;;     FOLLOW UP RATE FOR LIVING PATIENTS ONLY          NUMBER     PERCENT
"RTN","ONC2PS01",288,0)
 ;; 
"RTN","ONC2PS01",289,0)
 ;;        Enter the total number from Line C          |LIVING||TAB|100%
"RTN","ONC2PS01",290,0)
 ;;        Subtract the total number from Line D     - |CURRENT||TAB||%CURRENT-ALIVE|%
"RTN","ONC2PS01",291,0)
 ;;        Total lost/not current of living patients - |LTF||TAB||%LTF-ALIVE|%
"RTN","ONC2PS1A")
0^432^B43511605
"RTN","ONC2PS1A",1,0)
ONC2PS1A ;Hines OIFO/RVD - Collaborative Staging v0205 conversion ;01/22/14
"RTN","ONC2PS1A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONC2PS1A",3,0)
 ;
"RTN","ONC2PS1A",4,0)
 N DISCRIM,EXT,HIST,HIST14,LN,LNE,METS,PSITE,SCHNAME,SITE,ONC6DE,ONC6SG
"RTN","ONC2PS1A",5,0)
 N SSF1,SSF2,SSF3,SSF5,ON10,ONC2960,ONC3010,ONC3020,ONC35
"RTN","ONC2PS1A",6,0)
 N SSF10,SSF12,SSF13,SSF19,SSF25
"RTN","ONC2PS1A",7,0)
 S SITE=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONC2PS1A",8,0)
 Q:SITE=""
"RTN","ONC2PS1A",9,0)
 S HIST=$$HIST^ONCFUNC(IEN)
"RTN","ONC2PS1A",10,0)
 S HIST14=$E(HIST,1,4)
"RTN","ONC2PS1A",11,0)
 S PSITE=$TR($$GET1^DIQ(164,SITE,1,"I"),".","")
"RTN","ONC2PS1A",12,0)
 S EXT=$P($G(^ONCO(165.5,IEN,"CS")),U,11)
"RTN","ONC2PS1A",13,0)
 S LN=$P($G(^ONCO(165.5,IEN,"CS")),U,12)
"RTN","ONC2PS1A",14,0)
 S LNE=$P($G(^ONCO(165.5,IEN,"CS")),U,2)
"RTN","ONC2PS1A",15,0)
 S METS=$P($G(^ONCO(165.5,IEN,"CS")),U,3)
"RTN","ONC2PS1A",16,0)
 S ONC2940=$P($G(^ONCO(165.5,IEN,"CS1")),U,1)
"RTN","ONC2PS1A",17,0)
 S ONC2960=$P($G(^ONCO(165.5,IEN,"CS1")),U,3)
"RTN","ONC2PS1A",18,0)
 S ONC2980=$P($G(^ONCO(165.5,IEN,"CS1")),U,5)
"RTN","ONC2PS1A",19,0)
 S ONC35=$P($G(^ONCO(165.5,IEN,"CS1")),U,12)
"RTN","ONC2PS1A",20,0)
 S DISCRIM=$$GET1^DIQ(165.5,IEN,240)
"RTN","ONC2PS1A",21,0)
 S ONC6DE=$$GET1^DIQ(165.5,IEN,162)
"RTN","ONC2PS1A",22,0)
 S ONC6SG=$$GET1^DIQ(165.5,IEN,166)
"RTN","ONC2PS1A",23,0)
 S ONC3010=$$GET1^DIQ(165.5,IEN,167)
"RTN","ONC2PS1A",24,0)
 S ONC3020=$$GET1^DIQ(165.5,IEN,168)
"RTN","ONC2PS1A",25,0)
 S SCHEMA=+$$SCHEMA^ONCSAPIS(.ONCSAPI,PSITE,HIST14,DISCRIM)
"RTN","ONC2PS1A",26,0)
 Q:SCHEMA<0
"RTN","ONC2PS1A",27,0)
 S SCHEMA=SCHNAME
"RTN","ONC2PS1A",28,0)
 S SSF1=$P($G(^ONCO(165.5,IEN,"CS")),U,5)
"RTN","ONC2PS1A",29,0)
 S SSF2=$P($G(^ONCO(165.5,IEN,"CS")),U,6)
"RTN","ONC2PS1A",30,0)
 S SSF3=$P($G(^ONCO(165.5,IEN,"CS")),U,7)
"RTN","ONC2PS1A",31,0)
 S SSF5=$P($G(^ONCO(165.5,IEN,"CS")),U,9)
"RTN","ONC2PS1A",32,0)
 S ON10=$P($G(^ONCO(165.5,IEN,"CS")),U,10)
"RTN","ONC2PS1A",33,0)
 S SSF10=$P($G(^ONCO(165.5,IEN,"CS2")),U,4)
"RTN","ONC2PS1A",34,0)
 S SSF12=$P($G(^ONCO(165.5,IEN,"CS2")),U,6)
"RTN","ONC2PS1A",35,0)
 S SSF13=$P($G(^ONCO(165.5,IEN,"CS2")),U,7)
"RTN","ONC2PS1A",36,0)
 S SSF19=$P($G(^ONCO(165.5,IEN,"CS2")),U,13)
"RTN","ONC2PS1A",37,0)
 S SSF25=$P($G(^ONCO(165.5,IEN,"CS2")),U,19)
"RTN","ONC2PS1A",38,0)
 ;schema list for 3a AJCC 6/7 H&N
"RTN","ONC2PS1A",39,0)
 S ONCSC3A("BuccalMucosa")="",ONCSC3A("EpiglottisAnterior")="",ONCSC3A("GumLower")="",ONCSC3A("GumOther")=""
"RTN","ONC2PS1A",40,0)
 S ONCSC3A("GumUpper")="",ONCSC3A("Hypopharynx")="",ONCSC3A("LarynxGlottic")="",ONCSC3A("LarynxOther")=""
"RTN","ONC2PS1A",41,0)
 S ONCSC3A("LarynxSubglottic")="",ONCSC3A("LarynxSupraglottic")="",ONCSC3A("LipLower")="",ONCSCH3A("LipOther")=""
"RTN","ONC2PS1A",42,0)
 S ONCSC3A("LipUpper")="",ONCSC3A("Nasopharynx")="",ONCSC3A("Oropharynx")="",ONCSC3A("PalateHard")=""
"RTN","ONC2PS1A",43,0)
 S ONCSC3A("PalateSoft")="",ONCSC3A("ParotidGland")="",ONCSC3A("PharayngealTonsil")="",ONCSC3A("SubmandibularGland")=""
"RTN","ONC2PS1A",44,0)
 S ONCAC3A("TongueBase")=""
"RTN","ONC2PS1A",45,0)
 ;
"RTN","ONC2PS1A",46,0)
 ;schema list for 3b AJCC 6 Blank Tis
"RTN","ONC2PS1A",47,0)
 ;S ONCSC3B("Appendix")="",ONCSC3B("CarcinoidAppendix")="",ONCSC3B("NETColon")="",ONCSC3B("NETRectum")=""
"RTN","ONC2PS1A",48,0)
 ;S ONCSC3B("Colon")="",ONCSC3B("Rectum")="",ONCSC3B("Breast")="",ONCSC3B("Bladder")=""
"RTN","ONC2PS1A",49,0)
 ;
"RTN","ONC2PS1A",50,0)
 ;CS version list 2935
"RTN","ONC2PS1A",51,0)
 S ONC35DAT("000937")="",ONC35DAT("010000")="",ONC35DAT("010002")="",ONC35DAT("010003")="",ONC35DAT("010004")=""
"RTN","ONC2PS1A",52,0)
 S ONC35DAT("010005")="",ONC35DAT("010100")="",ONC35DAT("010200")="",ONC35DAT("010300")="",ONC35DAT("010400")=""
"RTN","ONC2PS1A",53,0)
 S ONC35DAT("010401")="",ONC35DAT("020001")="",ONC35DAT("020100")="",ONC35DAT("020200")="",ONC35DAT("020302")=""
"RTN","ONC2PS1A",54,0)
 S ONC35DAT("020440")=""
"RTN","ONC2PS1A",55,0)
 ;
"RTN","ONC2PS1A",56,0)
 ;if dt dx is > 12/31/13
"RTN","ONC2PS1A",57,0)
 I DATEDX>3131231 S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1,$P(^ONCO(165.5,IEN,"CS3"),U,3)="1 2014 DX" Q
"RTN","ONC2PS1A",58,0)
 ;
"RTN","ONC2PS1A",59,0)
 I ($G(SCHEMA)="Nasopharynx"),(LN=130!LN=430!LN=530) D  Q
"RTN","ONC2PS1A",60,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1,$P(^ONCO(165.5,IEN,"CS3"),U,3)="2a Nasopharynx Nodes"
"RTN","ONC2PS1A",61,0)
 ;
"RTN","ONC2PS1A",62,0)
 I $G(SCHEMA)="BileDuctsIntraHepat",(SSF10=000!SSF10=999) D  Q
"RTN","ONC2PS1A",63,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",64,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="2b BileDuctsIntraHepat SSF10"
"RTN","ONC2PS1A",65,0)
 ;
"RTN","ONC2PS1A",66,0)
 I $G(SCHEMA)="Bladder",(LN=400!LN=450) D  Q
"RTN","ONC2PS1A",67,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",68,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="2c Bladder Nodes"
"RTN","ONC2PS1A",69,0)
 ;
"RTN","ONC2PS1A",70,0)
 ;code for 3a AJCC 6 H&N
"RTN","ONC2PS1A",71,0)
 I $D(ONCSC3A(SCHEMA)),DATEDX<310000,SSF1=988,ONC6DE="",ONC6SG="" D  Q
"RTN","ONC2PS1A",72,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",73,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3a AJCC 6 Blank H&N"
"RTN","ONC2PS1A",74,0)
 ;
"RTN","ONC2PS1A",75,0)
 ;code for 3b AJCC 6 Blank Tis
"RTN","ONC2PS1A",76,0)
 I SCHEMA="Appendix"!SCHEMA="CarcinoidAppendix"!SCHEMA="NETColon"!SCHEMA="NETRectum" D  Q
"RTN","ONC2PS1A",77,0)
 .I (ON10="000"!ON10="050"),(LN'="000"!LN'="999"),(METS'="00"!METS'="99"),ONC6SG="" D
"RTN","ONC2PS1A",78,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",79,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3b AJCC 6 Blank Tis"
"RTN","ONC2PS1A",80,0)
 I (SCHEMA="Colon"!SCHEMA="Rectum"),(ON10="000"!ON10="050"!ON10="100"!ON10="110"!ON10="120") D  Q
"RTN","ONC2PS1A",81,0)
 .I (LN'="000"!LN'="999"),(METS'="00"!METS="99"),ONC6SG="" D
"RTN","ONC2PS1A",82,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",83,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3b AJCC 6 Blank Tis"
"RTN","ONC2PS1A",84,0)
 I (SCHEMA="Breast"),(ON10="000"!ON10="050"!ON10="070") D  Q
"RTN","ONC2PS1A",85,0)
 .I (LN'="000"!LN'="999"),(METS'="00"!METS'="99"),ONC6SG="" D
"RTN","ONC2PS1A",86,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",87,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3b AJCC 6 Blank Tis"
"RTN","ONC2PS1A",88,0)
 I (SCHEMA="Bladder"),(ON10="010"!ON10="030"!ON10="060"!ON10="100") D  Q
"RTN","ONC2PS1A",89,0)
 .I (LN'="000"!LN'="999"),(METS'="00"!METS'="99"),ONC6SG="" D
"RTN","ONC2PS1A",90,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",91,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3b AJCC 6 Blank Tis"
"RTN","ONC2PS1A",92,0)
 ;
"RTN","ONC2PS1A",93,0)
 ;for 3c AJCC 6 Blank GI Nodes
"RTN","ONC2PS1A",94,0)
 I (SCHEMA="Esophagus"!SCHEMA="EsophagusGEJunction"!SCHEMA="Stomach"),DATEDX<3100000 D  Q
"RTN","ONC2PS1A",95,0)
 .I ((LN>99)&(LN<501)),(LNE=0!LNE=1!LNE=5!LNE=9),(SSF2="000"!SSF2="988"),ON2960="",ONC6SG="" D
"RTN","ONC2PS1A",96,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",97,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3c AJCC 6 Blank GI Nodes"
"RTN","ONC2PS1A",98,0)
 I (SCHEMA="Appendix"!SCHEMA="Colon"!SCHEMA="Rectum"),DATEDX<3100000 D  Q
"RTN","ONC2PS1A",99,0)
 .I ((LN>99)&(LN<301)),(LNE=0!LNE=1!LNE=5!LNE=9),SSF2="000",ON2960="",ONC6SG="" D
"RTN","ONC2PS1A",100,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",101,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3c AJCC 6 Blank GI Nodes"
"RTN","ONC2PS1A",102,0)
 ;
"RTN","ONC2PS1A",103,0)
 ;code for 3d AJCC 6 Blank Invalid CS Version"
"RTN","ONC2PS1A",104,0)
 I $G(ONC35),'$D(ONC35DAT(ONC35)),(ONC2940=""!ONC2960=""!ONC2980=""!ONC6SG="") D  Q
"RTN","ONC2PS1A",105,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",106,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3d AJCC 6 Blank Invalid CS Version"
"RTN","ONC2PS1A",107,0)
 ;
"RTN","ONC2PS1A",108,0)
 ;code for "3e AJCC 6 Blank Other"
"RTN","ONC2PS1A",109,0)
 I $G(ONC35),$D(ONC35DAT(ONC35)),(ONC2940=""!ONC2960=""!ONC2980=""!ONC6SG="") D  Q
"RTN","ONC2PS1A",110,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",111,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3e AJCC 6 Blank Other"
"RTN","ONC2PS1A",112,0)
 ;
"RTN","ONC2PS1A",113,0)
 ;code for 3a AJCC 7 H&N
"RTN","ONC2PS1A",114,0)
 I $D(ONCSC3A(SCHEMA)),DATEDX>310000,SSF1=988,ONC6DE="",ONC6SG="" D  Q
"RTN","ONC2PS1A",115,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",116,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3a AJCC 7 Blank H&N"
"RTN","ONC2PS1A",117,0)
 ;
"RTN","ONC2PS1A",118,0)
 ;code for 3c AJCC 7 Blank GI Nodes
"RTN","ONC2PS1A",119,0)
 I (SCHEMA="Esophagus"!SCHEMA="EsophagusGEJunction"!SCHEMA="Stomach"),DATEDX>3100000 D  Q
"RTN","ONC2PS1A",120,0)
 .I ((LN>99)&(LN<501)),(LNE=0!LNE=1!LNE=5!LNE=9),(SSF2="000"!SSF2="988"),ON2960="",ONC6SG="" D
"RTN","ONC2PS1A",121,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",122,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3c AJCC 6 Blank GI Nodes"
"RTN","ONC2PS1A",123,0)
 I (SCHEMA="Appendix"!SCHEMA="Colon"!SCHEMA="Rectum"),DATEDX>3100000 D  Q
"RTN","ONC2PS1A",124,0)
 .I ((LN>99)&(LN<301)),(LNE=0!LNE=1!LNE=5!LNE=9),SSF2="000",ON2960="",ONC6SG="" D
"RTN","ONC2PS1A",125,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",126,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3c AJCC 7 Blank GI Nodes"
"RTN","ONC2PS1A",127,0)
 ;
"RTN","ONC2PS1A",128,0)
 ;code for 3e AJCC 7 Blank Other
"RTN","ONC2PS1A",129,0)
 I $G(ONC35),'$D(ONC35DAT(ONC35)),DATEDX>3100000,(ONC2940=""!ONC2960=""!ONC2980=""!ONC6SG="") D  Q
"RTN","ONC2PS1A",130,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",131,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3e AJCC 7 Blank Other"
"RTN","ONC2PS1A",132,0)
 ;
"RTN","ONC2PS1A",133,0)
 ;code for 3d SS1977 Blank Invalid CS Version"
"RTN","ONC2PS1A",134,0)
 I $G(ONC35),'$D(ONC35DAT(ONC35)),ONC3010="" D  Q
"RTN","ONC2PS1A",135,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",136,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3d SS1977 Blank Invalid CS Version"
"RTN","ONC2PS1A",137,0)
 ;
"RTN","ONC2PS1A",138,0)
 ;code for 3e SS1977 Blank Other
"RTN","ONC2PS1A",139,0)
 I $G(ONC35),$D(ONC35DAT(ONC35)),ONC3010="" D  Q
"RTN","ONC2PS1A",140,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",141,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3e SS1977 Blank Other"
"RTN","ONC2PS1A",142,0)
 ;
"RTN","ONC2PS1A",143,0)
 ;code for 3d SS2000 Blank Invalid CS Version
"RTN","ONC2PS1A",144,0)
 I $G(ONC35),'$D(ONC35DAT(ONC35)),ONC3020="" D  Q
"RTN","ONC2PS1A",145,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",146,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3d SS2000 Blank Invalid CS Version"
"RTN","ONC2PS1A",147,0)
 ;
"RTN","ONC2PS1A",148,0)
 ;code for 3e SS2000 Blank Other
"RTN","ONC2PS1A",149,0)
 I $G(ONC35),$D(ONC35DAT(ONC35)),ONC3020="" D
"RTN","ONC2PS1A",150,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,2)=1
"RTN","ONC2PS1A",151,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,3)="3e SS2000 Blank Other"
"RTN","ONC2PS1A",152,0)
 Q
"RTN","ONC2PS1A",153,0)
 ;
"RTN","ONC2PS1A",154,0)
CLEANUP ;Cleanup
"RTN","ONC2PS1A",155,0)
 K EXT,IEN,LN,METS,ONCSAPI,SCHEMA,SITE
"RTN","ONC2PS1A",156,0)
 K SSF1,SSF2,SSF3,SSF5,SSF12,SSF13,SSF25
"RTN","ONCACD0")
0^1^B163524418
"RTN","ONCACD0",1,0)
ONCACD0 ;Hines OIFO/GWB - NAACCR extract driver ;09/22/11
"RTN","ONCACD0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCACD0",3,0)
 ;
"RTN","ONCACD0",4,0)
EN1(DEVICE,STEXT) ;Entry point
"RTN","ONCACD0",5,0)
EN2 N ACO,BDT,DATE,DIAGYR,EDT,EXTRACT,NCDB,ONCSPIEN,QUEUE,SDT,STAT,STAT1,STAT2,YESNO,DATE1,ONCDATE,ONCDT,ONCLDT
"RTN","ONCACD0",6,0)
 N ACCN,ONCDT11,ONCDATE1,SCREEN,CYR,ONC91AS,PTR,CLASSOFCASE
"RTN","ONCACD0",7,0)
 K ^TMP($J),RQRS
"RTN","ONCACD0",8,0)
 S DEVICE=$G(DEVICE,0),STEXT=$G(STEXT,0),EXT=""
"RTN","ONCACD0",9,0)
 S (EDT,EXTRACT,DATE,OUT,QUEUE,SDT,STAT,ONCDT)=0
"RTN","ONCACD0",10,0)
 I (STEXT=0)!(STEXT=2)!(STEXT=3) S EXTRACT=$O(^ONCO(160.16,"B","NCDB EXTRACT V14.0",0))
"RTN","ONCACD0",11,0)
 I STEXT=1 D GETREC(.EXTRACT,.OUT)
"RTN","ONCACD0",12,0)
 I 'OUT S STAT=$$GETHOSP
"RTN","ONCACD0",13,0)
 I 'STAT S OUT=1
"RTN","ONCACD0",14,0)
 I 'OUT S STAT1=$P(STAT,U,1),STAT2=$P(STAT,U,2)
"RTN","ONCACD0",15,0)
 I 'OUT D GETDATE(.DATE,.DATE1,.OUT)
"RTN","ONCACD0",16,0)
 I 'OUT,STEXT=1 D GETDT(.SDT,.EDT,DATE,.OUT)
"RTN","ONCACD0",17,0)
 I 'OUT,STEXT=3 D RQRS(.SDT,.EDT,DATE,.OUT) S RQRS=1
"RTN","ONCACD0",18,0)
 I 'OUT D VERIFY(STAT,DATE,SDT,EDT,STEXT,.YESNO,.OUT)
"RTN","ONCACD0",19,0)
 I 'OUT G:'YESNO EN2
"RTN","ONCACD0",20,0)
 I 'OUT D DEVICE(DEVICE,.OUT)
"RTN","ONCACD0",21,0)
 I 'OUT D:'QUEUE PRINT(DEVICE,.OUT)
"RTN","ONCACD0",22,0)
 D EXIT
"RTN","ONCACD0",23,0)
 Q
"RTN","ONCACD0",24,0)
 ;
"RTN","ONCACD0",25,0)
GETREC(EXTRACT,OUT) ;Select VACCR or STATE record layout
"RTN","ONCACD0",26,0)
 W !!," Available record layouts:",!
"RTN","ONCACD0",27,0)
 W !,"  1) VACCR Record Layout v14.0 (VA Registry)"
"RTN","ONCACD0",28,0)
 W !,"  2) NAACCR State Record Layout v14.0"
"RTN","ONCACD0",29,0)
 W !
"RTN","ONCACD0",30,0)
 N DIR,X,Y
"RTN","ONCACD0",31,0)
 S DIR(0)="SAO^1:VACCR Record Layout v14.0;2:NAACCR State Record Layout v14.0"
"RTN","ONCACD0",32,0)
 S DIR("A")=" Select record layout: "
"RTN","ONCACD0",33,0)
 S DIR("?")="Select the record layout to use"
"RTN","ONCACD0",34,0)
 D ^DIR
"RTN","ONCACD0",35,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",36,0)
 I +Y<1 S OUT=1 Q
"RTN","ONCACD0",37,0)
 I Y=1 S EXT="VACCR",EXTRACT=$O(^ONCO(160.16,"B","VACCR EXTRACT V14.0",0))
"RTN","ONCACD0",38,0)
 I Y=2 S EXT="STATE",EXTRACT=$O(^ONCO(160.16,"B","STATE EXTRACT V14.0",0))
"RTN","ONCACD0",39,0)
 Q
"RTN","ONCACD0",40,0)
 ;
"RTN","ONCACD0",41,0)
GETHOSP() ;Facility Identification Number (FIN)
"RTN","ONCACD0",42,0)
 N STAT,STATI,ALLOK
"RTN","ONCACD0",43,0)
 S STAT=0,ALLOK=$$GETDXH(.STAT)
"RTN","ONCACD0",44,0)
 I STAT S STATI=6_STAT_0,STAT=STAT_"^"_STATI
"RTN","ONCACD0",45,0)
 Q STAT
"RTN","ONCACD0",46,0)
 ;
"RTN","ONCACD0",47,0)
GETDXH(DXH) ;INSTITUTION ID NUMBER (160.1,27)
"RTN","ONCACD0",48,0)
 N OKHERE,DIE,DA,DR,ONCOL
"RTN","ONCACD0",49,0)
 W !
"RTN","ONCACD0",50,0)
 S DIE=160.1
"RTN","ONCACD0",51,0)
 S DA=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCACD0",52,0)
 I DA="" S DA=$O(^ONCO(160.1,0))
"RTN","ONCACD0",53,0)
 S ONCSPIEN=DA
"RTN","ONCACD0",54,0)
 S DR=27_$J("",1)_"Facility Identification Number (FIN)"
"RTN","ONCACD0",55,0)
 S ONCOL=0
"RTN","ONCACD0",56,0)
 L +^ONCO(160.1,DA):0 I $T D ^DIE L -^ONCO(160.1,DA) S ONCOL=1
"RTN","ONCACD0",57,0)
 I 'ONCOL W !,"This ONCOLOGY SITE PARAMETERS record is being edited by another user."
"RTN","ONCACD0",58,0)
 K ONCOL,DIE
"RTN","ONCACD0",59,0)
 I $D(Y)=0 S DXH=$$GET1^DIQ(160.19,X,.01,"I")
"RTN","ONCACD0",60,0)
 I X'="" S ACDSTATE=$P($G(^ONCO(160.19,X,0)),U,4)
"RTN","ONCACD0",61,0)
 S OKHERE=($D(Y)=0)
"RTN","ONCACD0",62,0)
 Q OKHERE
"RTN","ONCACD0",63,0)
 ;
"RTN","ONCACD0",64,0)
RQRS(SDT,EDT,DATE,OUT) ;Process RQRS data
"RTN","ONCACD0",65,0)
 K DIR
"RTN","ONCACD0",66,0)
 S DIR(0)="SAO^1:Date DX;2:Date Case Last Changed;3:Accession Number"
"RTN","ONCACD0",67,0)
 S DIR("A")=" Select date field to be used for Start/End range: "
"RTN","ONCACD0",68,0)
 S DIR("?")="Select the date field you wish to use for this download's Start/End range prompts."
"RTN","ONCACD0",69,0)
 D ^DIR
"RTN","ONCACD0",70,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",71,0)
 I Y<1 S OUT=1 Q
"RTN","ONCACD0",72,0)
 S (NCDB,ONCLDT)=Y
"RTN","ONCACD0",73,0)
 K DIR
"RTN","ONCACD0",74,0)
 S ONCDT11=3000101
"RTN","ONCACD0",75,0)
 I $G(ONCLDT)=3 D ACCN Q
"RTN","ONCACD0",76,0)
 ;S CYR=1700+($E(DT,1,3)),SCREEN="K:X>CYR X"
"RTN","ONCACD0",77,0)
 S DIR(0)="DO^3000101:"_DT_":EP"
"RTN","ONCACD0",78,0)
 ;S DIR("B")=$E(ONCDT11,4,5)_"/"_$E(ONCDT11,6,7)_"/"_$E(ONCDT11,2,3)
"RTN","ONCACD0",79,0)
 I $G(ONCLDT)=1 D
"RTN","ONCACD0",80,0)
 .S DIR("A")=" Start, Date DX: "
"RTN","ONCACD0",81,0)
 .S DIR("?",1)="   Enter the DATE of Diagnosis of the"
"RTN","ONCACD0",82,0)
 .S DIR("?",2)="   FIRST abstract you would like to report."
"RTN","ONCACD0",83,0)
 I $G(ONCLDT)=2 D
"RTN","ONCACD0",84,0)
 .S DIR("A")=" Start, Date Case Last Changed: "
"RTN","ONCACD0",85,0)
 .S DIR("?",1)="   Enter the DATE CASE LAST CHANGED of the"
"RTN","ONCACD0",86,0)
 .S DIR("?",2)="   FIRST abstract you would like to report."
"RTN","ONCACD0",87,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",88,0)
 S SDT=Y
"RTN","ONCACD0",89,0)
 I $E(SDT,4,7)="0000" S SDT=$E(SDT,1,3)_"0101"
"RTN","ONCACD0",90,0)
 K DIR
"RTN","ONCACD0",91,0)
 S CYR=1700+($E(DT,1,3)),SCREEN="K:(X>CYR)!(X<SDT) X"
"RTN","ONCACD0",92,0)
 S DIR(0)="DO^"_SDT_":"_DT_":EP"
"RTN","ONCACD0",93,0)
 S DIR("?")="   End Date must be greater than the Start Date."
"RTN","ONCACD0",94,0)
 I $G(ONCLDT)=1 D
"RTN","ONCACD0",95,0)
 .S DIR("A")="   End, Date DX: "
"RTN","ONCACD0",96,0)
 .S DIR("?",1)="   Enter the DATE of Diagnosis of the"
"RTN","ONCACD0",97,0)
 .S DIR("?",2)="   LAST abstract you would like to report."
"RTN","ONCACD0",98,0)
 I $G(ONCLDT)=2 D
"RTN","ONCACD0",99,0)
 .S DIR("A")="   End, Date Case Last Changed: "
"RTN","ONCACD0",100,0)
 .S DIR("?",1)="   Enter the DATE CASE LAST CHANGED  of the"
"RTN","ONCACD0",101,0)
 .S DIR("?",2)="   LAST abstract you would like to report."
"RTN","ONCACD0",102,0)
 S DIR("B")="TODAY"
"RTN","ONCACD0",103,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",104,0)
 S EDT=Y I $E(EDT,4,7)="0000" S EDT=$E(EDT,1,3)_1231
"RTN","ONCACD0",105,0)
 ;
"RTN","ONCACD0",106,0)
 Q
"RTN","ONCACD0",107,0)
 ;
"RTN","ONCACD0",108,0)
GETDT(SDT,EDT,DATE,OUT) ; Select a date range
"RTN","ONCACD0",109,0)
 K DIR
"RTN","ONCACD0",110,0)
 S DIR(0)="SAO^1:Date Case Completed;2:Date Case Last Changed;3:Accession Number"
"RTN","ONCACD0",111,0)
 S DIR("A")=" Select date field to be used for Start/End range: "
"RTN","ONCACD0",112,0)
 S DIR("?")="Select the date field you wish to use for this download's Start/End range prompts."
"RTN","ONCACD0",113,0)
 D ^DIR
"RTN","ONCACD0",114,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",115,0)
 I Y<1 S OUT=1 Q
"RTN","ONCACD0",116,0)
 S ONCLDT=Y
"RTN","ONCACD0",117,0)
 S ONCDT11=3000101
"RTN","ONCACD0",118,0)
DCLC K DIR
"RTN","ONCACD0",119,0)
 I $G(ONCLDT)=3 D ACCN Q:OUT=1  G ACJ
"RTN","ONCACD0",120,0)
 S CYR=DT,SCREEN="K:(X>CYR)!(X<ONCDT11) X"
"RTN","ONCACD0",121,0)
 S DIR(0)="DO^"_ONCDT11_":"_DT_":EP"
"RTN","ONCACD0",122,0)
 ;S DIR("B")=$E(ONCDT11,4,5)_"/"_$E(ONCDT11,6,7)_"/"_$E(ONCDT11,2,3)
"RTN","ONCACD0",123,0)
 I $G(ONCLDT)=1 D
"RTN","ONCACD0",124,0)
 .S DIR("A")=" Start, Date Case Completed: "
"RTN","ONCACD0",125,0)
 .S DIR("?",1)="   Enter the DATE CASE COMPLETED of the"
"RTN","ONCACD0",126,0)
 .S DIR("?",2)="   FIRST abstract you would like to report."
"RTN","ONCACD0",127,0)
 I ($G(ONCLDT)=2)!($G(NCDB)=2) D
"RTN","ONCACD0",128,0)
 .S DIR("A")=" Start, Date Case Last Changed: "
"RTN","ONCACD0",129,0)
 .S DIR("?",1)="   Enter the DATE CASE LAST CHANGED of the"
"RTN","ONCACD0",130,0)
 .S DIR("?",2)="   FIRST abstract you would like to report."
"RTN","ONCACD0",131,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",132,0)
 S (SDT,BDT)=Y
"RTN","ONCACD0",133,0)
 K DIR
"RTN","ONCACD0",134,0)
 S CYR=DT,SCREEN="K:(X>CYR)!(X<SDT) X"
"RTN","ONCACD0",135,0)
 S DIR(0)="DO^"_SDT_":"_DT_":EP"
"RTN","ONCACD0",136,0)
 S DIR("B")="TODAY"
"RTN","ONCACD0",137,0)
 S DIR("?")="   End Date must be greater than the Start Date."
"RTN","ONCACD0",138,0)
 I $G(ONCLDT)=1 D
"RTN","ONCACD0",139,0)
 .S DIR("A")="   End, Date Case Completed: "
"RTN","ONCACD0",140,0)
 .I EXT="VACCR",$P($G(^ONCO(160.1,ONCSPIEN,0)),U,8)'="" S ONCED89=$$GET1^DIQ(160.1,ONCSPIEN,61)
"RTN","ONCACD0",141,0)
 .I EXT="STATE",$P($G(^ONCO(160.1,ONCSPIEN,0)),U,9)'="" S ONCED89=$$GET1^DIQ(160.1,ONCSPIEN,62)
"RTN","ONCACD0",142,0)
 .S DIR("?",1)="   Enter the DATE CASE COMPLETED of the"
"RTN","ONCACD0",143,0)
 .S DIR("?",2)="   LAST abstract you would like to report."
"RTN","ONCACD0",144,0)
 I ($G(ONCLDT)=2)!($G(NCDB)=2) D
"RTN","ONCACD0",145,0)
 .S DIR("A")="   End, Date Case Last Changed: "
"RTN","ONCACD0",146,0)
 .I EXT="VACCR",$P($G(^ONCO(160.1,ONCSPIEN,0)),U,10)'="" S ONCED89=$$GET1^DIQ(160.1,ONCSPIEN,63)
"RTN","ONCACD0",147,0)
 .I EXT="STATE",$P($G(^ONCO(160.1,ONCSPIEN,0)),U,11)'="" S ONCED89=$$GET1^DIQ(160.1,ONCSPIEN,64)
"RTN","ONCACD0",148,0)
 .S DIR("?",1)="   Enter the DATE CASE LAST CHANGED  of the"
"RTN","ONCACD0",149,0)
 .S DIR("?",2)="   LAST abstract you would like to report."
"RTN","ONCACD0",150,0)
 ;S:$G(ONCED89) DIR("B")=$E(ONCED89,4,5)_"/"_$E(ONCED89,6,7)_"/"_$E(ONCED89,2,3)
"RTN","ONCACD0",151,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",152,0)
 S EDT=Y
"RTN","ONCACD0",153,0)
ACJ I EXT="" Q
"RTN","ONCACD0",154,0)
 I $G(NCDB)=2 Q
"RTN","ONCACD0",155,0)
 I EXT="VACCR" Q
"RTN","ONCACD0",156,0)
 K DIR
"RTN","ONCACD0",157,0)
 S DIR("A")=" Analytic cases only"
"RTN","ONCACD0",158,0)
 S DIR("B")="YES"
"RTN","ONCACD0",159,0)
 S DIR(0)="Y"
"RTN","ONCACD0",160,0)
 S DIR("?")=" "
"RTN","ONCACD0",161,0)
 S DIR("?",1)=" Answer 'YES' if you want only analytic cases (CLASS OF CASE 0-2) extracted."
"RTN","ONCACD0",162,0)
 S DIR("?",2)=" Answer  'NO' if you want all cases (analytic and non-analytic) extracted."
"RTN","ONCACD0",163,0)
 D ^DIR
"RTN","ONCACD0",164,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",165,0)
 S ACO=Y
"RTN","ONCACD0",166,0)
 Q
"RTN","ONCACD0",167,0)
 ;
"RTN","ONCACD0",168,0)
DATEDX(SDT,EDT,DATE,OUT) ;Select DATE DX range
"RTN","ONCACD0",169,0)
 K DIR
"RTN","ONCACD0",170,0)
 S CYR=1700+($E(DT,1,3)),SCREEN="K:X>CYR X"
"RTN","ONCACD0",171,0)
 ;S DIR(0)="DO^3000101:"_DT_":EP"
"RTN","ONCACD0",172,0)
 ;S DIR(0)="D^::X"
"RTN","ONCACD0",173,0)
 S DIR("A")=" Start, Date Dx: "
"RTN","ONCACD0",174,0)
 S DIR("?",1)="   Enter the DATE DX of the FIRST"
"RTN","ONCACD0",175,0)
 S DIR("?",2)="   abstract you would like to report."
"RTN","ONCACD0",176,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",177,0)
 S (SDT,BDT)=Y
"RTN","ONCACD0",178,0)
 K DIR
"RTN","ONCACD0",179,0)
 S CYR=1700+($E(DT,1,3)),SCREEN="K:(X>CYR)!(X<SDT) X"
"RTN","ONCACD0",180,0)
 S DIR(0)="DO^"_SDT_":"_DT_":EP"
"RTN","ONCACD0",181,0)
 ;S DIR(0)="D^::X"
"RTN","ONCACD0",182,0)
 S DIR("A")="   End, Date Dx:"
"RTN","ONCACD0",183,0)
 S DIR("?",1)="   Enter the DATE DX of the LAST abstract you would"
"RTN","ONCACD0",184,0)
 S DIR("?",2)="   like to report and must be greater than Start, Date Dx."
"RTN","ONCACD0",185,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",186,0)
 S EDT=Y
"RTN","ONCACD0",187,0)
 Q
"RTN","ONCACD0",188,0)
 ;
"RTN","ONCACD0",189,0)
PRINT(DEVICE,OUT) ;Capture output data
"RTN","ONCACD0",190,0)
 I 'DEVICE D  Q:OUT
"RTN","ONCACD0",191,0)
 .N X
"RTN","ONCACD0",192,0)
 .W !!
"RTN","ONCACD0",193,0)
 .W !,?6,"--------------------------------------------------------------"
"RTN","ONCACD0",194,0)
 .W !,?6,"|Please activate your PC capture program.  The data will be  |"
"RTN","ONCACD0",195,0)
 .W !,?6,"|sent in 2 minutes or when you press the return key.         |"
"RTN","ONCACD0",196,0)
 .W !,?6,"--------------------------------------------------------------"
"RTN","ONCACD0",197,0)
 .W !!!
"RTN","ONCACD0",198,0)
 .R X:120
"RTN","ONCACD0",199,0)
 .I X="^" S OUT=1
"RTN","ONCACD0",200,0)
 U IO D EN1^ONCACD1
"RTN","ONCACD0",201,0)
 Q
"RTN","ONCACD0",202,0)
 ;
"RTN","ONCACD0",203,0)
EXIT ;Exit
"RTN","ONCACD0",204,0)
 K ACDSTATE,DIC,EXT,OUT,X,Y
"RTN","ONCACD0",205,0)
 I '$D(^TMP($J)) W !?3,"No records extracted." G EX
"RTN","ONCACD0",206,0)
 W !
"RTN","ONCACD0",207,0)
 S DIC="^ONCO(165.5,",L=0,FLDS="[ONC EXTRACT REPORT]",BY(0)="^TMP($J,",L(0)=1
"RTN","ONCACD0",208,0)
 S:DEVICE IOP=ION
"RTN","ONCACD0",209,0)
 I STEXT=0 S DHD=$P(^ONCO(160.16,EXTRACT,0),U,1) W !
"RTN","ONCACD0",210,0)
 I (STEXT=1)!(STEXT=2) S DHD=$P(^ONCO(160.16,EXTRACT,0),U,1)_" "_$$FMTE^XLFDT(BDT,"2D")_" - "_$$FMTE^XLFDT(EDT,"2D")
"RTN","ONCACD0",211,0)
 D EN1^DIP
"RTN","ONCACD0",212,0)
 I $E(IOST,1,2)="C-" K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCACD0",213,0)
 ;
"RTN","ONCACD0",214,0)
EX K ^TMP($J)
"RTN","ONCACD0",215,0)
 K %ZIS
"RTN","ONCACD0",216,0)
 D ^%ZISC
"RTN","ONCACD0",217,0)
 K ACDANS,BY,CCEX,DHD,EXT,FLDS,FR,IOP,L,POP,STEXT,TO
"RTN","ONCACD0",218,0)
 Q
"RTN","ONCACD0",219,0)
 ;
"RTN","ONCACD0",220,0)
DEVICE(DEVICE,OUT) ;Select output device
"RTN","ONCACD0",221,0)
 Q:'DEVICE
"RTN","ONCACD0",222,0)
 S %ZIS="Q"
"RTN","ONCACD0",223,0)
 D ^%ZIS
"RTN","ONCACD0",224,0)
 I POP S OUT=1 Q
"RTN","ONCACD0",225,0)
 I $D(IO("Q")) D
"RTN","ONCACD0",226,0)
 .S ZTRTN="PRINT^ONCACD0(DEVICE,.OUT)"
"RTN","ONCACD0",227,0)
 .S ZTDESC=$S('STEXT:"ONC NCDB Extract",STEXT:"ONC State Extract",1:"")
"RTN","ONCACD0",228,0)
 .S ZTSAVE("STAT1")=""
"RTN","ONCACD0",229,0)
 .S ZTSAVE("DATE")=""
"RTN","ONCACD0",230,0)
 .S ZTSAVE("DATE1")=""
"RTN","ONCACD0",231,0)
 .S ZTSAVE("ONCDT")=""
"RTN","ONCACD0",232,0)
 .S ZTSAVE("ONCLDT")=""
"RTN","ONCACD0",233,0)
 .S ZTSAVE("STEXT")=""
"RTN","ONCACD0",234,0)
 .S ZTSAVE("DEVICE")=""
"RTN","ONCACD0",235,0)
 .S ZTSAVE("OUT")=""
"RTN","ONCACD0",236,0)
 .S ZTSAVE("BDT")=""
"RTN","ONCACD0",237,0)
 .S ZTSAVE("SDT")=""
"RTN","ONCACD0",238,0)
 .S ZTSAVE("EDT")=""
"RTN","ONCACD0",239,0)
 .S ZTSAVE("EXT")=""
"RTN","ONCACD0",240,0)
 .S ZTSAVE("EXTRACT")=""
"RTN","ONCACD0",241,0)
 .S ZTSAVE("NCDB")=""
"RTN","ONCACD0",242,0)
 .D ^%ZTLOAD
"RTN","ONCACD0",243,0)
 .I $D(ZTSK)[0 S OUT=1 W !!,?20,"Report Canceled!"
"RTN","ONCACD0",244,0)
 .E  W !!,?20,"Report Queued!" S QUEUE=1
"RTN","ONCACD0",245,0)
 .D HOME^%ZIS
"RTN","ONCACD0",246,0)
 K ZTDESC,ZTRTN,ZTSAVE,ZTSK
"RTN","ONCACD0",247,0)
 Q
"RTN","ONCACD0",248,0)
 ;
"RTN","ONCACD0",249,0)
VERIFY(STAT,DATE,SDT,EDT,STEXT,YESNO,OUT) ;Verify settings
"RTN","ONCACD0",250,0)
 N DIR,Y,RL
"RTN","ONCACD0",251,0)
 S RL=$P(^ONCO(160.16,EXTRACT,0),U,1)
"RTN","ONCACD0",252,0)
 I STEXT=3 S RL="RQRS EXTRACT"
"RTN","ONCACD0",253,0)
 W !!," These are your current settings:"
"RTN","ONCACD0",254,0)
 W !
"RTN","ONCACD0",255,0)
 W !," Record layout.......................: ",RL
"RTN","ONCACD0",256,0)
 W !," Facility Identification Number (FIN): ",STAT1
"RTN","ONCACD0",257,0)
 I EXT="STATE" D
"RTN","ONCACD0",258,0)
 .W !," State to be extracted...............: ",ACDSTATE
"RTN","ONCACD0",259,0)
 I STEXT=0 D
"RTN","ONCACD0",260,0)
 .W !," Diagnosis Year......................: ",DIAGYR
"RTN","ONCACD0",261,0)
 .W !," Selection criterion.................: ",$S(NCDB=1:"All cases",NCDB=2:"Date Case Last Changed date range",NCDB=3:"Accession Number",1:"")
"RTN","ONCACD0",262,0)
 I STEXT=3 D
"RTN","ONCACD0",263,0)
 .W !," Selection criterion.................: ",$S(NCDB=1:"Date DX",NCDB=2:"Date Case Last Changed date range",NCDB=3:"Accession Number",1:"")
"RTN","ONCACD0",264,0)
 I (STEXT=1)!(STEXT=2)!(STEXT=3),(($G(NCDB)'=3)&($G(ONCLDT)'=3)) D
"RTN","ONCACD0",265,0)
 .W !," Start date..........................: ",$$FMTE^XLFDT(SDT,"2D")
"RTN","ONCACD0",266,0)
 .W !," End date............................: ",$$FMTE^XLFDT(EDT,"2D")
"RTN","ONCACD0",267,0)
 I ($G(ONCLDT)=3)!($G(NCDB)=3) D
"RTN","ONCACD0",268,0)
 .W !," Accession Number Start..........: ",SDT
"RTN","ONCACD0",269,0)
 .W !," Accession Number End............: ",EDT
"RTN","ONCACD0",270,0)
 I EXT="STATE" D
"RTN","ONCACD0",271,0)
 .W !," Analytic cases only.................: ",$S(ACO=1:"YES",1:"NO")
"RTN","ONCACD0",272,0)
 I STEXT=3 D
"RTN","ONCACD0",273,0)
 .W !," Primary Sites.......................: BREAST, COLON and RECTUM"
"RTN","ONCACD0",274,0)
 W !
"RTN","ONCACD0",275,0)
 S DIR("A")=" Are these settings correct"
"RTN","ONCACD0",276,0)
 S DIR("B")="YES"
"RTN","ONCACD0",277,0)
 S DIR(0)="Y"
"RTN","ONCACD0",278,0)
 D ^DIR
"RTN","ONCACD0",279,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",280,0)
 S YESNO=Y
"RTN","ONCACD0",281,0)
 I STEXT=1,EXT="VACCR" S $P(^ONCO(160.1,ONCSPIEN,0),U,8)=EDT
"RTN","ONCACD0",282,0)
 I STEXT=1,EXT="STATE" S $P(^ONCO(160.1,ONCSPIEN,0),U,9)=EDT
"RTN","ONCACD0",283,0)
 I STEXT=2,EXT="VACCR" S $P(^ONCO(160.1,ONCSPIEN,0),U,10)=EDT
"RTN","ONCACD0",284,0)
 I STEXT=2,EXT="STATE" S $P(^ONCO(160.1,ONCSPIEN,0),U,11)=EDT
"RTN","ONCACD0",285,0)
 Q
"RTN","ONCACD0",286,0)
 ;
"RTN","ONCACD0",287,0)
GETDATE(ONCDT,DATE1,OUT) ;Select Diagnosis Year
"RTN","ONCACD0",288,0)
 Q:STEXT>0
"RTN","ONCACD0",289,0)
 N CYR,DIR,SCREEN,Y
"RTN","ONCACD0",290,0)
 S ONCDT=0
"RTN","ONCACD0",291,0)
 S CYR=1700+($E(DT,1,3)),SCREEN="K:X>CYR X"
"RTN","ONCACD0",292,0)
 S DIR(0)="NAO^1900:"_CYR_":0^"_SCREEN
"RTN","ONCACD0",293,0)
 S DIR("A")=" Diagnosis Year Start: "
"RTN","ONCACD0",294,0)
 D ^DIR
"RTN","ONCACD0",295,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",296,0)
 ;S (ONCDT,DIAGYR)=Y
"RTN","ONCACD0",297,0)
 S (ONCDATE,ONCDT)=Y
"RTN","ONCACD0",298,0)
 S ONCDT=ONCDT-1700
"RTN","ONCACD0",299,0)
 S ONCDT11=ONCDT_"0101"
"RTN","ONCACD0",300,0)
 S ONCDT=ONCDT_"0000"
"RTN","ONCACD0",301,0)
 S (ONCDT,ONCLDT)=ONCDT-1
"RTN","ONCACD0",302,0)
 ;Diagnosis Year End
"RTN","ONCACD0",303,0)
 K DIR
"RTN","ONCACD0",304,0)
 S DATE1=ONCDATE
"RTN","ONCACD0",305,0)
 S CYR=1700+($E(DT,1,3)),SCREEN="K:(X>CYR)!(X<ONCDATE) X"
"RTN","ONCACD0",306,0)
 S DIR(0)="NAO^1900:"_CYR_":0^"_SCREEN
"RTN","ONCACD0",307,0)
 S DIR("A")=" Diagnosis Year End: "
"RTN","ONCACD0",308,0)
 S DIR("?")=" Diagnosis Year End must be a number and greater than the Start year."
"RTN","ONCACD0",309,0)
 D ^DIR
"RTN","ONCACD0",310,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",311,0)
 S (ONCDATE1,DATE1)=Y
"RTN","ONCACD0",312,0)
 S DIAGYR=ONCDATE_"-"_Y
"RTN","ONCACD0",313,0)
 S DATE1=DATE1+1
"RTN","ONCACD0",314,0)
 S DATE1=DATE1-1700
"RTN","ONCACD0",315,0)
 S DATE1=DATE1_"0000"
"RTN","ONCACD0",316,0)
 S DATE1=DATE1-1
"RTN","ONCACD0",317,0)
 K DIR
"RTN","ONCACD0",318,0)
 W !," Diagnosis Years: ",DIAGYR
"RTN","ONCACD0",319,0)
 W !
"RTN","ONCACD0",320,0)
 W !,?6,"Select one of the following:"
"RTN","ONCACD0",321,0)
 W !
"RTN","ONCACD0",322,0)
 W !,?11,"1 All eligible cases for this year"
"RTN","ONCACD0",323,0)
 W !,?11,"2 Cases within a 'Date Case Last Changed' date range"
"RTN","ONCACD0",324,0)
 W !,?11,"3 Accession Number"
"RTN","ONCACD0",325,0)
 W !
"RTN","ONCACD0",326,0)
 S DIR(0)="SAO^1:All cases;2:Cases within a date range;3:Accession Number"
"RTN","ONCACD0",327,0)
 S DIR("A")=" Select extraction criterion: "
"RTN","ONCACD0",328,0)
 S DIR("B")="All cases"
"RTN","ONCACD0",329,0)
 S DIR("?")=" "
"RTN","ONCACD0",330,0)
 S DIR("?",1)=" Select 'All cases' if you want to extract all"
"RTN","ONCACD0",331,0)
 S DIR("?",2)=" of the eligible cases for this Diagnosis Year."
"RTN","ONCACD0",332,0)
 S DIR("?",3)=""
"RTN","ONCACD0",333,0)
 S DIR("?",4)=" Select 'Cases within a date range' if you want"
"RTN","ONCACD0",334,0)
 S DIR("?",5)=" to specify a 'Date Case Last Changed' date range"
"RTN","ONCACD0",335,0)
 S DIR("?",6)=" for this Diagnosis Year."
"RTN","ONCACD0",336,0)
 S DIR("?",7)=" "
"RTN","ONCACD0",337,0)
 S DIR("?",8)="Select 'Accession Number-Seq' if you want to specify"
"RTN","ONCACD0",338,0)
 S DIR("?",9)="the extract by Accession Number range."
"RTN","ONCACD0",339,0)
 D ^DIR
"RTN","ONCACD0",340,0)
 I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",341,0)
 I Y<1 S OUT=1 Q
"RTN","ONCACD0",342,0)
 S NCDB=Y
"RTN","ONCACD0",343,0)
 I NCDB=2 W ! D DCLC
"RTN","ONCACD0",344,0)
 I NCDB=3 W ! D ACCN
"RTN","ONCACD0",345,0)
 Q
"RTN","ONCACD0",346,0)
ACCN ;Accession Number
"RTN","ONCACD0",347,0)
 N ONCACST,ONCACEN
"RTN","ONCACD0",348,0)
 S ONCACST=$O(^ONCO(165.5,"AA",0)),ONCACEN=$O(^ONCO(165.5,"AA",""),-1)
"RTN","ONCACD0",349,0)
 S:$D(ONCDATE) ONCACST=ONCDATE_"00000" S:$D(ONCDATE1) ONCACEN=ONCDATE1_"99999"
"RTN","ONCACD0",350,0)
 S ONCACST=$O(^ONCO(165.5,"AA",ONCACST)),ONCACEN=$O(^ONCO(165.5,"AA",ONCACEN),-1)
"RTN","ONCACD0",351,0)
 K DIR
"RTN","ONCACD0",352,0)
 S DIR("B")=ONCACST
"RTN","ONCACD0",353,0)
 S DIR(0)="NO^"_ONCACST_":"_ONCACEN
"RTN","ONCACD0",354,0)
 S DIR("A")="Enter the Accession Number Start "
"RTN","ONCACD0",355,0)
 S DIR("?")="Enter a number from "_ONCACST_" to "_ONCACEN
"RTN","ONCACD0",356,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",357,0)
 S (BDT,SDT)=Y
"RTN","ONCACD0",358,0)
 K DIR
"RTN","ONCACD0",359,0)
 S DIR("B")=ONCACEN
"RTN","ONCACD0",360,0)
 S DIR(0)="NO^"_BDT_":"_ONCACEN
"RTN","ONCACD0",361,0)
 S DIR("A")="Enter the Accession Number End "
"RTN","ONCACD0",362,0)
 S DIR("?")="Enter a number from "_BDT_" to "_ONCACEN
"RTN","ONCACD0",363,0)
 D ^DIR I $D(DIRUT) S OUT=1 K DIRUT Q
"RTN","ONCACD0",364,0)
 S EDT=Y
"RTN","ONCACD0",365,0)
 Q
"RTN","ONCACD1")
0^2^B64310335
"RTN","ONCACD1",1,0)
ONCACD1 ;Hines OIFO/GWB - Extract NAACCR/STATE/VACCR data ;09/06/11
"RTN","ONCACD1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCACD1",3,0)
 ;
"RTN","ONCACD1",4,0)
EN1 ;Entry point
"RTN","ONCACD1",5,0)
 K ^TMP($J)
"RTN","ONCACD1",6,0)
 N EXPORT,PAGE,STOPDT,OIEN,ZTREQ
"RTN","ONCACD1",7,0)
 S PAGE=1,OIEN=0
"RTN","ONCACD1",8,0)
 S EXPORT="YES"
"RTN","ONCACD1",9,0)
 D SETUP
"RTN","ONCACD1",10,0)
 I 'DEVICE W $C(26) H 30
"RTN","ONCACD1",11,0)
 Q
"RTN","ONCACD1",12,0)
 ;
"RTN","ONCACD1",13,0)
SETUP ;Loop through appropriate cross-reference
"RTN","ONCACD1",14,0)
 I 'DEVICE S X=0 X ^%ZOSF("RM") ;Disable autowrap
"RTN","ONCACD1",15,0)
 N BLANK,DCLC,FDNUM,IEN,NC,NINE,TPG,ZERO,ZNINE,X
"RTN","ONCACD1",16,0)
 S BLANK=" "
"RTN","ONCACD1",17,0)
 S (IEN,ZERO)=0
"RTN","ONCACD1",18,0)
 S NINE=9,ZNINE="09"
"RTN","ONCACD1",19,0)
 S OUT=$G(OUT,0)
"RTN","ONCACD1",20,0)
 ;
"RTN","ONCACD1",21,0)
 ;NCDB EXTRACT
"RTN","ONCACD1",22,0)
 ;Loop through DATE DX (165.5,3) "ADX" cross-reference
"RTN","ONCACD1",23,0)
 S ONCDT=DATE
"RTN","ONCACD1",24,0)
 I STEXT=0 F  S ONCDT=$O(^ONCO(165.5,"ADX",ONCDT)) Q:(ONCDT>DATE1)!(ONCDT="")  S IEN=0 F  S IEN=$O(^ONCO(165.5,"ADX",ONCDT,IEN)) Q:IEN=""  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",25,0)
 .I $G(NCDB)=2 S DCLC=$P($G(^ONCO(165.5,IEN,7)),U,21) Q:(DCLC<SDT)!(DCLC>EDT)
"RTN","ONCACD1",26,0)
 .I $G(NCDB)=3 S ACCN=$P($G(^ONCO(165.5,IEN,0)),U,5) Q:(ACCN<SDT)!(ACCN>EDT)
"RTN","ONCACD1",27,0)
 .D LOOP
"RTN","ONCACD1",28,0)
 ;
"RTN","ONCACD1",29,0)
 ;VACCR/STATE EXTRACT
"RTN","ONCACD1",30,0)
 ;Loop through DATE CASE COMPLETED (165.5,90) "AAD" cross-reference
"RTN","ONCACD1",31,0)
 I STEXT=1,($G(ONCLDT)=1) S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAD",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAD",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",32,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",33,0)
 .D LOOP
"RTN","ONCACD1",34,0)
 ;Loop through DATE CASE LAST CHANGED (165.5,198) "AAE" cross-reference
"RTN","ONCACD1",35,0)
 I STEXT=1,($G(ONCLDT)=2) S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAE",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAE",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",36,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",37,0)
 .D LOOP
"RTN","ONCACD1",38,0)
 ;Loop through ACCESSION NUMBER (165.5,.05) "AA" cross-reference
"RTN","ONCACD1",39,0)
 I STEXT=1,($G(ONCLDT)=3) S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AA",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AA",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",40,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",41,0)
 .D LOOP
"RTN","ONCACD1",42,0)
 ;
"RTN","ONCACD1",43,0)
 ;VACCR/STATE EXTRACT
"RTN","ONCACD1",44,0)
 ;Loop through DATE CASE LAST CHANGED (165.5,198) "AAE" cross-reference
"RTN","ONCACD1",45,0)
 I STEXT=2 S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAE",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAE",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",46,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",47,0)
 .D LOOP
"RTN","ONCACD1",48,0)
 ;
"RTN","ONCACD1",49,0)
 ;RQRS EXTRACT
"RTN","ONCACD1",50,0)
 ;Loop through DATE DX (165.5,3) "ADX" cross-reference
"RTN","ONCACD1",51,0)
 I STEXT=3,($G(ONCLDT)=1) S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"ADX",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"ADX",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",52,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",53,0)
 .S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCACD1",54,0)
 .S NC=0
"RTN","ONCACD1",55,0)
 .F FDNUM=.03,.04,.05,.06,3,9,20,22.3,37.1,37.2,37.3,38,58.6,58.7,85,86,88 I $$GET1^DIQ(165.5,IEN,FDNUM,"I")="" S NC=1
"RTN","ONCACD1",56,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<3100000,$$GET1^DIQ(165.5,IEN,87,"I")="" S NC=1
"RTN","ONCACD1",57,0)
 .Q:NC=1
"RTN","ONCACD1",58,0)
 .I ($E(TPG,3,4)=50)!($E(TPG,3,4)=18)!($E(TPG,3,4)=20) D LOOP
"RTN","ONCACD1",59,0)
 ;Loop through DATE CASE LAST CHANGED (165.5,198) "AAE" cross-reference
"RTN","ONCACD1",60,0)
 I STEXT=3,($G(ONCLDT)=2) S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAE",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAE",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",61,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",62,0)
 .S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCACD1",63,0)
 .S NC=0
"RTN","ONCACD1",64,0)
 .F FDNUM=.03,.04,.05,.06,3,9,20,22.3,37.1,37.2,37.3,38,58.6,58.7,85,86,88 I $$GET1^DIQ(165.5,IEN,FDNUM,"I")="" S NC=1
"RTN","ONCACD1",65,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<3100000,$$GET1^DIQ(165.5,IEN,87,"I")="" S NC=1
"RTN","ONCACD1",66,0)
 .Q:NC=1
"RTN","ONCACD1",67,0)
 .I ($E(TPG,3,4)=50)!($E(TPG,3,4)=18)!($E(TPG,3,4)=20) D LOOP
"RTN","ONCACD1",68,0)
 ;Loop through ACCESSION NUMBER (165.5,.05) "AA" cross-reference
"RTN","ONCACD1",69,0)
 I STEXT=3,($G(ONCLDT)=3) S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AA",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AA",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",70,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",71,0)
 .S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCACD1",72,0)
 .S NC=0
"RTN","ONCACD1",73,0)
 .F FDNUM=.03,.04,.05,.06,3,9,20,22.3,37.1,37.2,37.3,38,58.6,58.7,85,86,88 I $$GET1^DIQ(165.5,IEN,FDNUM,"I")="" S NC=1
"RTN","ONCACD1",74,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<3100000,$$GET1^DIQ(165.5,IEN,87,"I")="" S NC=1
"RTN","ONCACD1",75,0)
 .Q:NC=1
"RTN","ONCACD1",76,0)
 .I ($E(TPG,3,4)=50)!($E(TPG,3,4)=18)!($E(TPG,3,4)=20) D LOOP
"RTN","ONCACD1",77,0)
 Q
"RTN","ONCACD1",78,0)
 ;
"RTN","ONCACD1",79,0)
LOOP ;Apply extract selection rules
"RTN","ONCACD1",80,0)
 N LINE,RULES,VALID,JUMP
"RTN","ONCACD1",81,0)
 S RULES=0
"RTN","ONCACD1",82,0)
 F  S RULES=$O(^ONCO(160.16,EXTRACT,"RULES",RULES)) Q:RULES<1  D
"RTN","ONCACD1",83,0)
 .S LINE=^ONCO(160.16,EXTRACT,"RULES",RULES,0)
"RTN","ONCACD1",84,0)
 .X LINE
"RTN","ONCACD1",85,0)
 Q:'VALID
"RTN","ONCACD1",86,0)
 S ^TMP($J,IEN)=""
"RTN","ONCACD1",87,0)
 D OUTPUT(IEN,EXTRACT,JUMP,.OUT)
"RTN","ONCACD1",88,0)
 I 'DEVICE W !
"RTN","ONCACD1",89,0)
 Q
"RTN","ONCACD1",90,0)
 ;
"RTN","ONCACD1",91,0)
OUTPUT(IEN,EXTRACT,JUMP,OUT) ;Output
"RTN","ONCACD1",92,0)
 S ACD160=$P(^ONCO(165.5,IEN,0),U,2)
"RTN","ONCACD1",93,0)
 I DEVICE D HEAD(IEN,.OUT) Q:OUT
"RTN","ONCACD1",94,0)
 N POS S POS=0
"RTN","ONCACD1",95,0)
 F  S POS=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCACD1",96,0)
 .N NODE S NODE=0
"RTN","ONCACD1",97,0)
 .F  S NODE=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCACD1",98,0)
 ..N STRING,DEFAULT,FILL,LEN
"RTN","ONCACD1",99,0)
 ..Q:$G(^ONCO(160.16,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCACD1",100,0)
 ..D DISPLAY(DEVICE,$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCACD1",101,0)
 ..Q:OUT
"RTN","ONCACD1",102,0)
 ..S LEN=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCACD1",103,0)
 ..S STRING=$TR(^ONCO(160.16,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCACD1",104,0)
 ..S DEFAULT=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,2),U,1)
"RTN","ONCACD1",105,0)
 ..S FILL=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,3),U,1)
"RTN","ONCACD1",106,0)
 ..D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCACD1",107,0)
 ..;=========================================================
"RTN","ONCACD1",108,0)
 ..; This Code supports the PCE Extracts (currently disabled)
"RTN","ONCACD1",109,0)
 ..;=========================================================
"RTN","ONCACD1",110,0)
 ..I $G(^ONCO(160.16,EXTRACT,0))["ZZNCDB" D
"RTN","ONCACD1",111,0)
 ...I $O(^ONCO(160.16,EXTRACT,"FIELD","B",POS))>1 Q  ;QUIT if not end
"RTN","ONCACD1",112,0)
 ...N EXTRACT,NODE,POS
"RTN","ONCACD1",113,0)
 ...S EXTRACT=100,JUMP=0
"RTN","ONCACD1",114,0)
 ...;S:$D(^ONCO(165.5,"APCE","BLA",IEN)) EXTRACT=1
"RTN","ONCACD1",115,0)
 ...; ^==== Bladder 95,90,85
"RTN","ONCACD1",116,0)
 ...;S:$D(^ONCO(165.5,"APCE","THY",IEN)) EXTRACT=2
"RTN","ONCACD1",117,0)
 ...; ^==== Thyroid 96,91,86
"RTN","ONCACD1",118,0)
 ...;S:$D(^ONCO(165.5,"APCE","STS",IEN)) EXTRACT=3
"RTN","ONCACD1",119,0)
 ...; ^==== Soft Tissue 96,91,86
"RTN","ONCACD1",120,0)
 ...;S:$D(^ONCO(165.5,"APCE","COL",IEN)) EXTRACT=4
"RTN","ONCACD1",121,0)
 ...; ^==== Colorectal 97,92,87
"RTN","ONCACD1",122,0)
 ...;S:$D(^ONCO(165.5,"APCE","NHL",IEN)) EXTRACT=5
"RTN","ONCACD1",123,0)
 ...; ^==== Non-Hodgkins 97,92,87
"RTN","ONCACD1",124,0)
 ...;S:$D(^ONCO(165.5,"APCE","BRE",IEN)) EXTRACT=6
"RTN","ONCACD1",125,0)
 ...; ^==== Breast 98,93,88
"RTN","ONCACD1",126,0)
 ...;S:$D(^ONCO(165.5,"APCE","PRO2",IEN)) EXTRACT=7
"RTN","ONCACD1",127,0)
 ...; ^==== Prostate 98,93,88
"RTN","ONCACD1",128,0)
 ...;S:$D(^ONCO(165.5,"APCE","MEL",IEN)) EXTRACT=8
"RTN","ONCACD1",129,0)
 ...; ^==== Melanoma 99,94,89
"RTN","ONCACD1",130,0)
 ...;S:$D(^ONCO(165.5,"APCE","HEP",IEN)) EXTRACT=9
"RTN","ONCACD1",131,0)
 ...; ^==== Hepatocellular Cancers 00,95,90
"RTN","ONCACD1",132,0)
 ...;S:$D(^ONCO(165.5,"APCE","CNS",IEN)) EXTRACT=10
"RTN","ONCACD1",133,0)
 ...; ^==== Primary Intracranial/CNS Tumors 00,95,90
"RTN","ONCACD1",134,0)
 ...;S:$D(^ONCO(165.5,"APCE","LNG",IEN)) EXTRACT=11
"RTN","ONCACD1",135,0)
 ...; ^==== Lung (NSCLC) 01,96,91
"RTN","ONCACD1",136,0)
 ...;S:$D(^ONCO(165.5,"APCE","GAS",IEN)) EXTRACT=12
"RTN","ONCACD1",137,0)
 ...; ^==== Gastric Cancers 01,96,91
"RTN","ONCACD1",138,0)
 ...S POS=0
"RTN","ONCACD1",139,0)
 ...F  S POS=$O(^ONCO(160.17,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCACD1",140,0)
 ....N NODE S NODE=0
"RTN","ONCACD1",141,0)
 ....F  S NODE=$O(^ONCO(160.17,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCACD1",142,0)
 .....N DEFAULT,FILL,LEN,STRING
"RTN","ONCACD1",143,0)
 .....Q:$G(^ONCO(160.17,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCACD1",144,0)
 .....D DISPLAY(DEVICE,$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCACD1",145,0)
 .....Q:OUT
"RTN","ONCACD1",146,0)
 .....S STRING=$TR(^ONCO(160.17,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCACD1",147,0)
 .....S DEFAULT=^ONCO(160.17,EXTRACT,"FIELD",NODE,2)
"RTN","ONCACD1",148,0)
 .....S FILL=^ONCO(160.17,EXTRACT,"FIELD",NODE,3)
"RTN","ONCACD1",149,0)
 .....S LEN=$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCACD1",150,0)
 .....D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCACD1",151,0)
 Q
"RTN","ONCACD1",152,0)
 ;
"RTN","ONCACD1",153,0)
HEAD(IEN,OUT) ;Preview End-of-Page
"RTN","ONCACD1",154,0)
 N FLG
"RTN","ONCACD1",155,0)
 I IEN=OIEN S FLG=0
"RTN","ONCACD1",156,0)
 I IEN'=OIEN S OIEN=IEN,FLG=1
"RTN","ONCACD1",157,0)
 I 'FLG Q:$Y+4<IOSL
"RTN","ONCACD1",158,0)
 I PAGE'=1 D  Q:OUT
"RTN","ONCACD1",159,0)
 .Q:$E(IOST,1,2)'="C-"
"RTN","ONCACD1",160,0)
 .N DIR,Y
"RTN","ONCACD1",161,0)
 .S DIR(0)="E" D ^DIR
"RTN","ONCACD1",162,0)
 .I 'Y S OUT=1 Q
"RTN","ONCACD1",163,0)
 D HEADER
"RTN","ONCACD1",164,0)
 Q
"RTN","ONCACD1",165,0)
 ;
"RTN","ONCACD1",166,0)
HEADER ;Preview Header
"RTN","ONCACD1",167,0)
 I PAGE'=1 W @IOF
"RTN","ONCACD1",168,0)
 I PAGE=1,$E(IOST,1,2)="C-" W @IOF
"RTN","ONCACD1",169,0)
 I STEXT=3 W !,"RQRS EXTRACT",?70,"Page: ",PAGE S PAGE=PAGE+1
"RTN","ONCACD1",170,0)
 E  W !,$P(^ONCO(160.16,EXTRACT,0),U),?70,"Page: ",PAGE S PAGE=PAGE+1
"RTN","ONCACD1",171,0)
 W !,"Patient: ",$$GET1^DIQ(160,ACD160,.01,"E")
"RTN","ONCACD1",172,0)
 W ?55,"SSN: ",$$GET1^DIQ(160,ACD160,2,"E")
"RTN","ONCACD1",173,0)
 W !,"Col#",?5,"Item name",?51,"Value",!
"RTN","ONCACD1",174,0)
 F I=1:1:79 W "="
"RTN","ONCACD1",175,0)
 Q
"RTN","ONCACD1",176,0)
 ;
"RTN","ONCACD1",177,0)
DISPLAY(DEVICE,WRITE,OUT) ; Display preview
"RTN","ONCACD1",178,0)
 Q:'DEVICE
"RTN","ONCACD1",179,0)
 N DOTS,COL,ITEM
"RTN","ONCACD1",180,0)
 I DEVICE,($Y+5)>IOSL D HEAD(0,.OUT) Q:OUT
"RTN","ONCACD1",181,0)
 S COL=$P(WRITE,U,1)
"RTN","ONCACD1",182,0)
 S COL=$S($L(COL)=1:"   "_COL,$L(COL)=2:"  "_COL,$L(COL)=3:" "_COL,1:COL)
"RTN","ONCACD1",183,0)
 S ITEM=$P(WRITE,U,2),ITEM=$E(ITEM,1,45)
"RTN","ONCACD1",184,0)
 S DOTS=(46-$L(ITEM))
"RTN","ONCACD1",185,0)
 W !,COL,?5,ITEM
"RTN","ONCACD1",186,0)
 F I=1:1:DOTS W "."
"RTN","ONCACD1",187,0)
 Q
"RTN","ONCACD1",188,0)
 ;
"RTN","ONCACD1",189,0)
DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS) ;Compute extract value
"RTN","ONCACD1",190,0)
 N ACDANS,EXIT S EXIT=0
"RTN","ONCACD1",191,0)
 I JUMP'="0" D
"RTN","ONCACD1",192,0)
 .I POS<$P(JUMP,U) Q
"RTN","ONCACD1",193,0)
 .I POS>$P(JUMP,U,2) Q
"RTN","ONCACD1",194,0)
 .N I
"RTN","ONCACD1",195,0)
 .S EXIT=1
"RTN","ONCACD1",196,0)
 .F I=1:1:LEN W BLANK
"RTN","ONCACD1",197,0)
 Q:EXIT
"RTN","ONCACD1",198,0)
 X STRING
"RTN","ONCACD1",199,0)
 ;
"RTN","ONCACD1",200,0)
 ;If value = "", extract DEFAULT value
"RTN","ONCACD1",201,0)
 I ACDANS="" D  Q
"RTN","ONCACD1",202,0)
 .N I,X S X=""
"RTN","ONCACD1",203,0)
 .I DEFAULT=8 D  Q
"RTN","ONCACD1",204,0)
 ..F I=1:1:LEN W DEFAULT
"RTN","ONCACD1",205,0)
 .I @DEFAULT="09" W @DEFAULT Q
"RTN","ONCACD1",206,0)
 .F I=1:1:LEN W @DEFAULT
"RTN","ONCACD1",207,0)
 ;
"RTN","ONCACD1",208,0)
 ;If value too long, truncate to LENGTH (160.161,1)
"RTN","ONCACD1",209,0)
 ;If value too short, pad with FILL (160.161,6)
"RTN","ONCACD1",210,0)
 I $L(ACDANS)=LEN W ACDANS Q
"RTN","ONCACD1",211,0)
 I $L(ACDANS)>LEN W $E(ACDANS,1,LEN) Q
"RTN","ONCACD1",212,0)
 E  D  Q
"RTN","ONCACD1",213,0)
 .N JUST,STUFF,I,REM,CAL
"RTN","ONCACD1",214,0)
 .S JUST=$P(FILL,","),STUFF=$P(FILL,",",2)
"RTN","ONCACD1",215,0)
 .S REM=LEN-$L(ACDANS)
"RTN","ONCACD1",216,0)
 .I JUST="R" W ACDANS
"RTN","ONCACD1",217,0)
 .F I=1:1:REM W @STUFF
"RTN","ONCACD1",218,0)
 .I JUST="L" W ACDANS
"RTN","ONCACD1",219,0)
 Q
"RTN","ONCACD1",220,0)
 ;
"RTN","ONCACD1",221,0)
CLEANUP ;Cleanup
"RTN","ONCACD1",222,0)
 K DATE,EDT,NCDB,SDT,STEXT
"RTN","ONCACDU1")
0^3^B30581185
"RTN","ONCACDU1",1,0)
ONCACDU1 ;Hines OIFO/GWB - NAACCR extract utilities #1 ;05/08/12
"RTN","ONCACDU1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCACDU1",3,0)
 ;
"RTN","ONCACDU1",4,0)
BDATE(ACD160) ;Date of Birth [240] 196-203
"RTN","ONCACDU1",5,0)
 N D0,X,Y
"RTN","ONCACDU1",6,0)
 S D0=ACD160
"RTN","ONCACDU1",7,0)
 D DOB1^ONCOES
"RTN","ONCACDU1",8,0)
 S X=$G(X)
"RTN","ONCACDU1",9,0)
 Q X
"RTN","ONCACDU1",10,0)
 ;
"RTN","ONCACDU1",11,0)
BEHAV(IEN) ;Behavior Code (called by extract RULES)
"RTN","ONCACDU1",12,0)
 N BEHAV
"RTN","ONCACDU1",13,0)
 S BEHAV=$E($$HIST^ONCFUNC(IEN),5)
"RTN","ONCACDU1",14,0)
 Q BEHAV
"RTN","ONCACDU1",15,0)
 ;
"RTN","ONCACDU1",16,0)
ICD9(ACD160,ONIEN) ;COMOR/COMP 1-10 for ICD9 and Secondary Diagnosis for ICD10
"RTN","ONCACDU1",17,0)
 N ONCDANS
"RTN","ONCACDU1",18,0)
 S ONCDANS=$$GET1^DIQ(160,ACD160,ONIEN,"I")
"RTN","ONCACDU1",19,0)
 S:ONCDANS'="" ONCDANS=$$ICDDX^ICDCODE(ONCDANS)
"RTN","ONCACDU1",20,0)
 S ONCDANS=$P(ONCDANS,U,2)
"RTN","ONCACDU1",21,0)
 ;ICD10 invalid code
"RTN","ONCACDU1",22,0)
 I $E(ONCDANS,1,7)="Invalid" S ONCDANS=""
"RTN","ONCACDU1",23,0)
 S ONCDANS=$P(ONCDANS,".",1)_$P(ONCDANS,".",2)
"RTN","ONCACDU1",24,0)
 Q ONCDANS
"RTN","ONCACDU1",25,0)
 ;
"RTN","ONCACDU1",26,0)
DATE(ACDANS) ;Convert date to NAACCR format CCYYMMDD
"RTN","ONCACDU1",27,0)
 N DATE,X
"RTN","ONCACDU1",28,0)
 S DATE=""
"RTN","ONCACDU1",29,0)
 S X=ACDANS
"RTN","ONCACDU1",30,0)
 D DATEOT^ONCOES
"RTN","ONCACDU1",31,0)
 I X'="" D
"RTN","ONCACDU1",32,0)
 .I X="00/00/0000" S DATE="" Q
"RTN","ONCACDU1",33,0)
 .I X="88/88/8888" S DATE="" Q
"RTN","ONCACDU1",34,0)
 .I X="99/99/9999" S DATE="" Q
"RTN","ONCACDU1",35,0)
 .S DATE=$E(X,7,10)_$E(X,1,2)_$E(X,4,5)
"RTN","ONCACDU1",36,0)
 .S DATE=$S($E(DATE,5,8)=9999:$E(DATE,1,4),$E(DATE,7,8)=99:$E(DATE,1,6),1:DATE)
"RTN","ONCACDU1",37,0)
 Q DATE
"RTN","ONCACDU1",38,0)
 ;
"RTN","ONCACDU1",39,0)
DTFLAG(ACDANS,ITEM) ;Compute Date Flag
"RTN","ONCACDU1",40,0)
 N FLAG,N,REC
"RTN","ONCACDU1",41,0)
 S FLAG=""
"RTN","ONCACDU1",42,0)
 S N=ITEM
"RTN","ONCACDU1",43,0)
 D CHKFLGS  ;first check the Date Flag fields, make sure nothing entered
"RTN","ONCACDU1",44,0)
 I ONCDTFLG'="" S FLAG=ONCDTFLG G FLAG
"RTN","ONCACDU1",45,0)
 I N=1861 I ($$GET1^DIQ(165.5,IEN,71,"I")=4)!($$GET1^DIQ(165.5,IEN,71,"I")=5) S FLAG=11 G FLAG
"RTN","ONCACDU1",46,0)
 I ACDANS="" D
"RTN","ONCACDU1",47,0)
 .S FLAG=$S(N=1751:12,N=1861:10,1:"") Q
"RTN","ONCACDU1",48,0)
 I ACDANS="9999999" D
"RTN","ONCACDU1",49,0)
 .S FLAG=$S((N=391)!(N=439)!(N=581)!(N=1751):12,(N=448)!(N=591)!(N=601)!(N=1201)!(N=1211)!(N=1221)!(N=1231)!(N=1241)!(N=1251)!(N=1271)!(N=1281)!(N=1661)!(N=1681)!(N=1701)!(N=1861)!(N=3171)!(N=3181)!(N=3221)!(N=3231):10,1:"") Q
"RTN","ONCACDU1",50,0)
 I ACDANS="8888888" D
"RTN","ONCACDU1",51,0)
 .S FLAG=$S((N=448)!(N=439):11,N=391:12,(N=1211)!(N=1221)!(N=1231)!(N=1241)!(N=3221)!(N=3231):15,1:"") Q
"RTN","ONCACDU1",52,0)
 I ACDANS="0000000" D
"RTN","ONCACDU1",53,0)
 .S FLAG=$S((N=591)!(N=601)!(N=1201)!(N=1211)!(N=1221)!(N=1231)!(N=1241)!(N=1251)!(N=1271)!(N=1281)!(N=1661)!(N=1681)!(N=1701)!(N=1861)!(N=3171)!(N=3181)!(N=3221)!(N=3231):11,N=391:12,(N=448)!(N=439):15,1:"") Q
"RTN","ONCACDU1",54,0)
FLAG K ONCDTFLG,ZZFLDNUM
"RTN","ONCACDU1",55,0)
 Q FLAG
"RTN","ONCACDU1",56,0)
 ;
"RTN","ONCACDU1",57,0)
CHKFLGS ;CHECK THE DATE FLAG FIELDS IF USER NEEDED TO OVERRIDE VALUE - V2.2
"RTN","ONCACDU1",58,0)
 ; if the DATE FLAG field is not NULL use that value to override the
"RTN","ONCACDU1",59,0)
 ; calculated value from DTFLAG entry point above; added in ONC V2.2
"RTN","ONCACDU1",60,0)
 S ONCDTFLG=""
"RTN","ONCACDU1",61,0)
 S ZZFLDNUM=$S(N=391:999.1,N=448:999.2,N=439:999.3,N=581:999.4,N=591:999.5,N=601:999.6,N=1271:999.7,N=1201:999.8,1:"")
"RTN","ONCACDU1",62,0)
 I ZZFLDNUM="" S ZZFLDNUM=$S(N=3171:999.9,N=3181:999.11,N=1211:999.12,N=3221:999.13,N=3231:999.14,N=1221:999.15,N=1231:999.16,N=1241:999.17,1:"")
"RTN","ONCACDU1",63,0)
 I ZZFLDNUM="" S ZZFLDNUM=$S(N=1251:999.18,N=1281:999.19,N=1861:999.21,N=1751:999.22,N=1661:999.23,N=1681:999.24,N=1701:999.25,1:"")
"RTN","ONCACDU1",64,0)
 I ZZFLDNUM="" Q
"RTN","ONCACDU1",65,0)
 S ONCDTFLG=$$GET1^DIQ(165.5,IEN,ZZFLDNUM,"I")
"RTN","ONCACDU1",66,0)
 Q
"RTN","ONCACDU1",67,0)
 ;
"RTN","ONCACDU1",68,0)
CNTY(IEN) ;COUNTY AT DX [90] 156-158
"RTN","ONCACDU1",69,0)
 N FIPSCODE
"RTN","ONCACDU1",70,0)
 S FIPSCODE=$$GET1^DIQ(165.5,IEN,10,"I")
"RTN","ONCACDU1",71,0)
 I (FIPSCODE=998)!(FIPSCODE=999) G QCNTY
"RTN","ONCACDU1",72,0)
 S FIPSCODE=$E($$GET1^DIQ(165.5,IEN,10,"I"),3,5)
"RTN","ONCACDU1",73,0)
QCNTY Q FIPSCODE
"RTN","ONCACDU1",74,0)
 ;
"RTN","ONCACDU1",75,0)
AGEDX(IEN) ;Age at Diagnosis [230] 119-121
"RTN","ONCACDU1",76,0)
 N ACDAGE,D0,X
"RTN","ONCACDU1",77,0)
 S D0=IEN
"RTN","ONCACDU1",78,0)
 D AGE^ONCOCOM S ACDAGE=$S(X=""!(X<0)!(X>999):"",1:X)
"RTN","ONCACDU1",79,0)
 Q ACDAGE
"RTN","ONCACDU1",80,0)
 ;
"RTN","ONCACDU1",81,0)
OCCUP(ACD160) ;Text--Usual Occupation [310] 143-182
"RTN","ONCACDU1",82,0)
 N X,OCCUP
"RTN","ONCACDU1",83,0)
 S X="UNKNOWN"
"RTN","ONCACDU1",84,0)
 S OCCUP=$O(^ONCO(160,ACD160,7,0))
"RTN","ONCACDU1",85,0)
 I OCCUP'<1 D
"RTN","ONCACDU1",86,0)
 .N OCC
"RTN","ONCACDU1",87,0)
 .S OCC=$P($G(^ONCO(160,ACD160,7,OCCUP,0)),U,1)
"RTN","ONCACDU1",88,0)
 .Q:OCC<1
"RTN","ONCACDU1",89,0)
 .S X=$$GET1^DIQ(61.6,OCC,.01,"I")
"RTN","ONCACDU1",90,0)
 Q X
"RTN","ONCACDU1",91,0)
 ;
"RTN","ONCACDU1",92,0)
IND(ACD160) ;Text--Usual Industry [320] 183-222
"RTN","ONCACDU1",93,0)
 N X,OCCUP
"RTN","ONCACDU1",94,0)
 S X="UNKNOWN"
"RTN","ONCACDU1",95,0)
 S OCCUP=$O(^ONCO(160,ACD160,7,0))
"RTN","ONCACDU1",96,0)
 I OCCUP'<1 D
"RTN","ONCACDU1",97,0)
 .N IND
"RTN","ONCACDU1",98,0)
 .S IND=$P($G(^ONCO(160,ACD160,7,OCCUP,0)),U,4)
"RTN","ONCACDU1",99,0)
 .Q:IND=""
"RTN","ONCACDU1",100,0)
 .S X=IND
"RTN","ONCACDU1",101,0)
 Q X
"RTN","ONCACDU1",102,0)
 ;
"RTN","ONCACDU1",103,0)
TOB(IEN) ;Tobacco History [340] 224-224 VACCR extract only
"RTN","ONCACDU1",104,0)
 N X,AASTOB
"RTN","ONCACDU1",105,0)
 S X=$P($G(^ONCO(160,ACD160,8)),U,2)
"RTN","ONCACDU1",106,0)
 S AASTOB=$S(X="Y":"Y",X="N":0,X="U":9,1:X)
"RTN","ONCACDU1",107,0)
 I AASTOB="Y" D
"RTN","ONCACDU1",108,0)
 .N X S X=""
"RTN","ONCACDU1",109,0)
 .S X=$O(^ONCO(160,ACD160,5,X),-1)
"RTN","ONCACDU1",110,0)
 .I X'<1 I $G(^ONCO(160,ACD160,5,X,0))'="" D
"RTN","ONCACDU1",111,0)
 ..N Y S Y=^ONCO(160,ACD160,5,X,0)
"RTN","ONCACDU1",112,0)
 ..I $P(Y,U,3)'="" S AASTOB=5 Q  ;Previous use
"RTN","ONCACDU1",113,0)
 ..S AASTOB=$S($P(Y,U)=1:1,$P(Y,U)=2:2,$P(Y,U)=3:2,$P(Y,U)=4:3,$P(Y,U)=5:3,$P(Y,U)=7:4,1:9)
"RTN","ONCACDU1",114,0)
 .I AASTOB="Y" S AASTOB=9
"RTN","ONCACDU1",115,0)
 Q AASTOB
"RTN","ONCACDU1",116,0)
 ;
"RTN","ONCACDU1",117,0)
ALC(IEN) ;Alcohol History [350] 225-225 VACCR extract only
"RTN","ONCACDU1",118,0)
 N X,AASALCO
"RTN","ONCACDU1",119,0)
 S X=$P($G(^ONCO(160,ACD160,8)),U,3)
"RTN","ONCACDU1",120,0)
 S AASALCO=$S(X="Y":"Y",X="N":0,X="U":9,1:X)
"RTN","ONCACDU1",121,0)
 I AASALCO="Y" D
"RTN","ONCACDU1",122,0)
 .N X S X=""
"RTN","ONCACDU1",123,0)
 .S X=$O(^ONCO(160,ACD160,6,X),-1)
"RTN","ONCACDU1",124,0)
 .I X'<1 I $G(^ONCO(160,ACD160,6,X,0))'="" D
"RTN","ONCACDU1",125,0)
 ..N Y S Y=^ONCO(160,ACD160,6,X,0)
"RTN","ONCACDU1",126,0)
 ..I $P(Y,U,4)'="" S AASALCO=2 Q  ;Past history of alcohol use
"RTN","ONCACDU1",127,0)
 ..S AASALCO=1
"RTN","ONCACDU1",128,0)
 .I AASALCO="Y" S AASALCO=9
"RTN","ONCACDU1",129,0)
 Q AASALCO
"RTN","ONCACDU1",130,0)
 ;
"RTN","ONCACDU1",131,0)
SG(IEN,TYPE) ;TNM Stage Groups
"RTN","ONCACDU1",132,0)
 ;TNM Path Stage Group  [910]  569-570
"RTN","ONCACDU1",133,0)
 ;TNM Clin Stage Group  [970]  579-580
"RTN","ONCACDU1",134,0)
 N GS
"RTN","ONCACDU1",135,0)
 S GS=""
"RTN","ONCACDU1",136,0)
 I TYPE="" Q GS
"RTN","ONCACDU1",137,0)
 I TYPE="P" S GS=$$GET1^DIQ(165.5,IEN,88,"I")
"RTN","ONCACDU1",138,0)
 I TYPE="C" S GS=$$GET1^DIQ(165.5,IEN,38,"I")
"RTN","ONCACDU1",139,0)
 Q GS
"RTN","ONCACDU1",140,0)
 ;
"RTN","ONCACDU1",141,0)
CC ;Comorbid/Complication 1-10
"RTN","ONCACDU1",142,0)
 ;No longer needed.  Used by NAACCR v11.3.
"RTN","ONCACDU1",143,0)
 ;[3110] 675-679
"RTN","ONCACDU1",144,0)
 ;[3120] 680-684
"RTN","ONCACDU1",145,0)
 ;[3130] 685-689
"RTN","ONCACDU1",146,0)
 ;[3140] 690-694
"RTN","ONCACDU1",147,0)
 ;[3150] 695-699
"RTN","ONCACDU1",148,0)
 ;[3160] 700-704
"RTN","ONCACDU1",149,0)
 ;[3161] 717-721
"RTN","ONCACDU1",150,0)
 ;[3162] 722-726
"RTN","ONCACDU1",151,0)
 ;[3163] 727-731
"RTN","ONCACDU1",152,0)
 ;[3164] 732-736
"RTN","ONCACDU1",153,0)
 ;S CCEX(1)="00000"
"RTN","ONCACDU1",154,0)
 ;F CCSUB=1:1:10 S CC(CCSUB)=""
"RTN","ONCACDU1",155,0)
 ;S CCSUB=0
"RTN","ONCACDU1",156,0)
 ;F FLD=25:.1:25.9 S CC=$$GET1^DIQ(160,ACD160,FLD,"I") S:CC'="" CC=$$GET1^DIQ(80,CC,.01,"I") S CCSUB=CCSUB+1,CC(CCSUB)=$P(CC," ",1)
"RTN","ONCACDU1",157,0)
 ;F CCEXSUB=1:1:10 S CCEX(CCEXSUB)=""
"RTN","ONCACDU1",158,0)
 ;I CC(1)="" Q
"RTN","ONCACDU1",159,0)
 ;I EXT="VACCR" F CCSUB=1:1:10 S CCEX(CCSUB)=$P(CC(CCSUB),".",1)_$P(CC(CCSUB),".",2) G CCEX
"RTN","ONCACDU1",160,0)
 ;S CCEXSUB=0
"RTN","ONCACDU1",161,0)
 ;S CCSUB=0 F  S CCSUB=$O(CC(CCSUB)) Q:CCSUB'>0  D
"RTN","ONCACDU1",162,0)
 ;.I ($E(CC(CCSUB),1)="E")!($E(CC(CCSUB),1)="V")!((+CC(CCSUB)>99.9)&(+CC(CCSUB)<290))!(+CC(CCSUB)>319) S CCEXSUB=CCEXSUB+1,CCEX(CCEXSUB)=$P(CC(CCSUB),".",1)_$P(CC(CCSUB),".",2)
"RTN","ONCACDU1",163,0)
CCEX ;K CC,CCEXSUB,CCSUB,FLD
"RTN","ONCACDU1",164,0)
 Q
"RTN","ONCACDU1",165,0)
 ;
"RTN","ONCACDU1",166,0)
RXCOD(IEN) ;RX Coding System--Current [1460] 888-889
"RTN","ONCACDU1",167,0)
 N OUT
"RTN","ONCACDU1",168,0)
 S OUT="06"
"RTN","ONCACDU1",169,0)
 Q OUT
"RTN","ONCACDU1",170,0)
 ;
"RTN","ONCACDU1",171,0)
FHCT ;Family History of Cancer Text 1456-1505 VACCR extract only
"RTN","ONCACDU1",172,0)
 K ONC S IEN160=ACD160_"," D GETS^DIQ(160,IEN160,"44*","","ONC")
"RTN","ONCACDU1",173,0)
 S (ACDANS,FHCTIEN)=""
"RTN","ONCACDU1",174,0)
 F  S FHCTIEN=$O(ONC(160.044,FHCTIEN)) Q:FHCTIEN'>0  D
"RTN","ONCACDU1",175,0)
 .S FHCT=ONC(160.044,FHCTIEN,.01)_"("_ONC(160.044,FHCTIEN,1)_")"
"RTN","ONCACDU1",176,0)
 .Q:($L(ACDANS)+$L(FHCT))>50
"RTN","ONCACDU1",177,0)
 .S ACDANS=ACDANS_FHCT_"/"
"RTN","ONCACDU1",178,0)
 S ACDANS=$E(ACDANS,1,$L(ACDANS)-1)
"RTN","ONCACDU1",179,0)
 K ONC,IEN160,FHCTIEN,FHCT
"RTN","ONCACDU1",180,0)
 Q
"RTN","ONCACDU1",181,0)
 ;
"RTN","ONCACDU1",182,0)
PHCT ;Patient History of Cancer Text 1785-1804 VACCR extract only
"RTN","ONCACDU1",183,0)
 S ACDANS=""
"RTN","ONCACDU1",184,0)
 F I=148.1,148.2,148.3,148.4 S PHCTPT=$$GET1^DIQ(165.5,IEN,I,"I") D
"RTN","ONCACDU1",185,0)
 .Q:PHCTPT=""
"RTN","ONCACDU1",186,0)
 .S PHCT=$$GET1^DIQ(164.2,PHCTPT,.01,"I")
"RTN","ONCACDU1",187,0)
 .Q:PHCT="NOT APPLICABLE"
"RTN","ONCACDU1",188,0)
 .Q:($L(ACDANS)+$L(PHCT))>20
"RTN","ONCACDU1",189,0)
 .S ACDANS=ACDANS_PHCT_"/"
"RTN","ONCACDU1",190,0)
 S ACDANS=$E(ACDANS,1,$L(ACDANS)-1)
"RTN","ONCACDU1",191,0)
 K I,PHCTPT,PHCT
"RTN","ONCACDU1",192,0)
 Q
"RTN","ONCACDU1",193,0)
 ;
"RTN","ONCACDU1",194,0)
NL ;Name--Last [2230] 1947-1971
"RTN","ONCACDU1",195,0)
 S ACDANS=$$STRIP^XLFSTR(ACDANS," !""""#$%&'()*+,./:;<=>?[>]^_\{|}~`")
"RTN","ONCACDU1",196,0)
 Q
"RTN","ONCACDU2")
0^19^B99537064
"RTN","ONCACDU2",1,0)
ONCACDU2 ;Hines OIFO/GWB - Utility routine ;05/03/12
"RTN","ONCACDU2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCACDU2",3,0)
 ;
"RTN","ONCACDU2",4,0)
 ;
"RTN","ONCACDU2",5,0)
VAFLD(ACDANS) ;Convert data to NAACCR format
"RTN","ONCACDU2",6,0)
 I ACDANS="N" S ACDANS=0
"RTN","ONCACDU2",7,0)
 I ACDANS="Y" S ACDANS=1
"RTN","ONCACDU2",8,0)
 I ACDANS="U" S ACDANS=9
"RTN","ONCACDU2",9,0)
 Q ACDANS
"RTN","ONCACDU2",10,0)
 ;
"RTN","ONCACDU2",11,0)
VASIT() ;VISN (160.1,7) [2340-2341]
"RTN","ONCACDU2",12,0)
 N X
"RTN","ONCACDU2",13,0)
 S OSPIEN=$O(^ONCO(160.1,0))
"RTN","ONCACDU2",14,0)
 S X=$P($G(^ONCO(160.1,OSPIEN,1)),U,7)
"RTN","ONCACDU2",15,0)
 K OSPIEN
"RTN","ONCACDU2",16,0)
 Q X
"RTN","ONCACDU2",17,0)
 ;
"RTN","ONCACDU2",18,0)
COCACC() ;COC ACCREDITATION (160.1,68) [2547-2548]
"RTN","ONCACDU2",19,0)
 N X
"RTN","ONCACDU2",20,0)
 S OSPIEN=$O(^ONCO(160.1,0))
"RTN","ONCACDU2",21,0)
 S X=$P($G(^ONCO(160.1,OSPIEN,7)),U,2)
"RTN","ONCACDU2",22,0)
 K OSPIEN
"RTN","ONCACDU2",23,0)
 Q X
"RTN","ONCACDU2",24,0)
 ;
"RTN","ONCACDU2",25,0)
SNCNT(IEN) ;Sequence Number--Central [380] 281-282
"RTN","ONCACDU2",26,0)
 N BEHAV,DATEDX,HIST,PRIMST,X
"RTN","ONCACDU2",27,0)
 S DATEDX=$E($$GET1^DIQ(165.5,IEN,3,"I"),1,3)
"RTN","ONCACDU2",28,0)
 S PRIMST=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCACDU2",29,0)
 S HIST=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),1,4)
"RTN","ONCACDU2",30,0)
 S BEHAV=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),5)
"RTN","ONCACDU2",31,0)
 S X=""
"RTN","ONCACDU2",32,0)
 I DATEDX>295,DATEDX<303,$E(PRIMST,3,4)=53,HIST<9590,BEHAV=2 S X=98
"RTN","ONCACDU2",33,0)
 Q X
"RTN","ONCACDU2",34,0)
 ;
"RTN","ONCACDU2",35,0)
COCO(IEN) ;COC Coding Sys--Original [2150] 1202-1203
"RTN","ONCACDU2",36,0)
 N X
"RTN","ONCACDU2",37,0)
 S DATEDX=$$GET1^DIQ(165.5,IEN,3,"I")
"RTN","ONCACDU2",38,0)
 S X=$S(DATEDX>3021231:"08",DATEDX>2951231:"07",1:"05")
"RTN","ONCACDU2",39,0)
 Q X
"RTN","ONCACDU2",40,0)
 ;
"RTN","ONCACDU2",41,0)
VENDOR() ;Vendor Name [2170] 1204-1213
"RTN","ONCACDU2",42,0)
 N X,VERSION,EXTR,SUFFIX
"RTN","ONCACDU2",43,0)
 S EXTR=$G(^ONCO(160.16,EXTRACT,0))
"RTN","ONCACDU2",44,0)
 S SUFFIX=$S(EXTR["VACCR":"A",EXTR["STATE":"B",1:"")
"RTN","ONCACDU2",45,0)
 S VERSION=$P($G(^ONCO(160.16,EXTRACT,0))," ",3)
"RTN","ONCACDU2",46,0)
 S X="VA"_VERSION_$E($T(LOGO+3^ONCODIS),62,64)_SUFFIX
"RTN","ONCACDU2",47,0)
 Q X
"RTN","ONCACDU2",48,0)
 ;
"RTN","ONCACDU2",49,0)
WORD(IEN,NODE,LEN) ;Get word processing data
"RTN","ONCACDU2",50,0)
 N X
"RTN","ONCACDU2",51,0)
 S X=""
"RTN","ONCACDU2",52,0)
 I $D(^ONCO(165.5,IEN,NODE,0)) D
"RTN","ONCACDU2",53,0)
 .N CNT,LINE,ONCLINE
"RTN","ONCACDU2",54,0)
 .S CNT=0
"RTN","ONCACDU2",55,0)
 .S (LINE,ONCLINE)=""
"RTN","ONCACDU2",56,0)
 .F  S CNT=$O(^ONCO(165.5,IEN,NODE,CNT)) Q:CNT<1  D  Q:($L(ONCLINE)>LEN)
"RTN","ONCACDU2",57,0)
 ..Q:'$D(^ONCO(165.5,IEN,NODE,CNT,0))
"RTN","ONCACDU2",58,0)
 ..S ONCLINE=LINE_^ONCO(165.5,IEN,NODE,CNT,0)_" "
"RTN","ONCACDU2",59,0)
 ..I ($L(ONCLINE)>LEN) S LINE=$E(ONCLINE,1,LEN) Q
"RTN","ONCACDU2",60,0)
 ..S LINE=LINE_^ONCO(165.5,IEN,NODE,CNT,0)_" "
"RTN","ONCACDU2",61,0)
 .S X=LINE
"RTN","ONCACDU2",62,0)
 S X=$TR(X,$C(10,12,13),"   ")
"RTN","ONCACDU2",63,0)
 Q X
"RTN","ONCACDU2",64,0)
 ;
"RTN","ONCACDU2",65,0)
STAGE(IEN,TYPE) ;TNM Descriptors
"RTN","ONCACDU2",66,0)
 ;TNM Path Descriptor [910] 956-956
"RTN","ONCACDU2",67,0)
 ;TNM Clin Descriptor [980] 974-974
"RTN","ONCACDU2",68,0)
 N CD,LOC,PD,X
"RTN","ONCACDU2",69,0)
 S X=""
"RTN","ONCACDU2",70,0)
 S CD=$$GET1^DIQ(165.5,IEN,241,"I")
"RTN","ONCACDU2",71,0)
 S PD=$$GET1^DIQ(165.5,IEN,242,"I")
"RTN","ONCACDU2",72,0)
 I TYPE="C",CD'="" S X=CD G STAGEEX
"RTN","ONCACDU2",73,0)
 I TYPE="P",PD'="" S X=PD G STAGEEX
"RTN","ONCACDU2",74,0)
 S LOC=$S(TYPE="P":89.1,TYPE="C":37,1:"")
"RTN","ONCACDU2",75,0)
 I TYPE'="" D
"RTN","ONCACDU2",76,0)
 .N STRING
"RTN","ONCACDU2",77,0)
 .S STRING=$$GET1^DIQ(165.5,IEN,LOC,"E")
"RTN","ONCACDU2",78,0)
 .I ($P(STRING," ")["m")&($P(STRING," ")["y") S X=6 Q
"RTN","ONCACDU2",79,0)
 .I $P(STRING," ")["m" S X=3 Q
"RTN","ONCACDU2",80,0)
 .I TYPE="P",$P(STRING," ")["y" S X=4 Q
"RTN","ONCACDU2",81,0)
STAGEEX Q X
"RTN","ONCACDU2",82,0)
 ;
"RTN","ONCACDU2",83,0)
CCOUNTY(ACD160) ;County--Current [1840] 2192-2194
"RTN","ONCACDU2",84,0)
 I $$DPTLRT^ONCOES(ACD160)="LRT" S X="" G CCEX
"RTN","ONCACDU2",85,0)
 N DPT,DPTPNT,X
"RTN","ONCACDU2",86,0)
 S DPT=$$GET1^DIQ(160,ACD160,.01,"I")
"RTN","ONCACDU2",87,0)
 S DPTPNT=$P(DPT,";",1)
"RTN","ONCACDU2",88,0)
 S X=$$GET1^DIQ(2,DPTPNT,.117)
"RTN","ONCACDU2",89,0)
CCEX Q X
"RTN","ONCACDU2",90,0)
 ;
"RTN","ONCACDU2",91,0)
SUB(IEN,CNT,FIELD) ;
"RTN","ONCACDU2",92,0)
 ;Subsq RX 2nd Course Date [1660] 988-995
"RTN","ONCACDU2",93,0)
 N HEMA,HEMAPT,I,X
"RTN","ONCACDU2",94,0)
 S CNT=CNT-1
"RTN","ONCACDU2",95,0)
 S X=""
"RTN","ONCACDU2",96,0)
 I $O(^ONCO(165.5,IEN,4,0)) D
"RTN","ONCACDU2",97,0)
 .N IENS,SUB,SUBFLD,ENTRY,SUBIEN
"RTN","ONCACDU2",98,0)
 .S SUBIEN=0 F I=1:1 S SUBIEN=$O(^ONCO(165.5,IEN,4,SUBIEN)) Q:(I=CNT)!(SUBIEN'>0)
"RTN","ONCACDU2",99,0)
 .I SUBIEN="" S X="" Q
"RTN","ONCACDU2",100,0)
 .S IENS=SUBIEN_","_IEN
"RTN","ONCACDU2",101,0)
 .S ENTRY=$$GET1^DIQ(165.51,IENS,FIELD,"I") I ENTRY="",FIELD'=".07",FIELD'=".08" S X="" Q
"RTN","ONCACDU2",102,0)
 .S HEMA=""
"RTN","ONCACDU2",103,0)
 .S HEMAPT=$$GET1^DIQ(165.51,IENS,.02,"I")
"RTN","ONCACDU2",104,0)
 .S:HEMAPT'="" HEMA=$P($G(^ONCO(167,HEMAPT,0)),U,1)
"RTN","ONCACDU2",105,0)
 .I $S(FIELD=".01":1,FIELD=".05":1,FIELD=".06":1,FIELD=".07":1,FIELD=".08":1,FIELD=".09":1,FIELD="37":1,FIELD=".041":1,FIELD=".051":1,FIELD=".061":1,FIELD=".071":1,FIELD=".081":1,FIELD=".091":1,1:0) D  Q
"RTN","ONCACDU2",106,0)
 ..I FIELD=".06" S X=$S(ENTRY="01":1,ENTRY="02":2,ENTRY="03":3,$E(ENTRY,1)=8:0,1:ENTRY) Q
"RTN","ONCACDU2",107,0)
 ..I FIELD=".07" S X=$S(ENTRY="00":0,ENTRY="01":1,$E(ENTRY,1)=8:0,ENTRY=99:9,1:"") Q:X'=""  S X=$S(HEMA=30:2,HEMA=40:2,1:"") Q
"RTN","ONCACDU2",108,0)
 ..I FIELD=".08" S X=$S(ENTRY="01":1,ENTRY=87:7,ENTRY=88:8,$E(ENTRY,1)=8:0,ENTRY=99:9,1:ENTRY) Q:X'=""  S X=$S(HEMA=10:4,HEMA=11:2,HEMA=12:3,HEMA=20:5,1:"") Q
"RTN","ONCACDU2",109,0)
 ..S X=ENTRY
"RTN","ONCACDU2",110,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<2980000 S X=ENTRY Q
"RTN","ONCACDU2",111,0)
 .S SUBFLD=$S(FIELD=33:"RR5",FIELD=35:"SC5",FIELD=36:"SO5",FIELD=.04:"SPS",1:"") I SUBFLD="" S X="" Q
"RTN","ONCACDU2",112,0)
 .S X=$$SUB164^ONCACDU2(IEN,SUBFLD,ENTRY)
"RTN","ONCACDU2",113,0)
 I FIELD=.04,$L(X)=1 S X="0"_X
"RTN","ONCACDU2",114,0)
 Q X
"RTN","ONCACDU2",115,0)
 ;
"RTN","ONCACDU2",116,0)
SUB164(IEN,SUBFLD,ENTRY) ;ICDO TOPOGRAPHY (164)
"RTN","ONCACDU2",117,0)
 N X,TOP1,TOP2
"RTN","ONCACDU2",118,0)
 S X=""
"RTN","ONCACDU2",119,0)
 S TOP1=$$GET1^DIQ(165.5,IEN,20,"I") D:TOP1'=""
"RTN","ONCACDU2",120,0)
 .S TOP2=$$GET1^DIQ(164,TOP1,107,"I")
"RTN","ONCACDU2",121,0)
 .I (TOP1=67420)!(TOP1=67421)!(TOP1=67423)!(TOP1=67424)!($E(TOP1,3,4)=76)!(TOP1=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) S TOP2=67420
"RTN","ONCACDU2",122,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2)!($G(FIELD)=138)!($G(FIELD)=138.1)!($G(FIELD)=139)!($G(FIELD)=139.1)!($G(FIELD)=74)!($G(FIELD)=23),($E(TOP1,3,4)=76)!(TOP1=67809)!(TOP1=67420)!(TOP1=67421)!(TOP1=67423)!(TOP1=67424) S TOP2=67141
"RTN","ONCACDU2",123,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),TOP1=67422 S TOP2=67770
"RTN","ONCACDU2",124,0)
 .I $G(SUBFLD)="SUA",($E(TOP1,3,4)=77) S TOP2=67141
"RTN","ONCACDU2",125,0)
 .D:TOP2'=""
"RTN","ONCACDU2",126,0)
 ..S X=$P($G(^ONCO(164,TOP2,SUBFLD,ENTRY,0)),U,2)
"RTN","ONCACDU2",127,0)
 Q X
"RTN","ONCACDU2",128,0)
 ;
"RTN","ONCACDU2",129,0)
RXPRI(IEN,FIELD,SUBFLD) ;
"RTN","ONCACDU2",130,0)
 ;RX Hosp--Surg Prim Site    [670] 457-458
"RTN","ONCACDU2",131,0)
 ;RX Hosp--Surg Site 98-02   [746] 478-479
"RTN","ONCACDU2",132,0)
 ;RX Hosp--Scope Reg 98-02   [747] 480-480
"RTN","ONCACDU2",133,0)
 ;RX Hosp--Surg Oth 98-02    [748] 481-481
"RTN","ONCACDU2",134,0)
 ;RX Summ--Surg Prim Site   [1290] 859-860
"RTN","ONCACDU2",135,0)
 ;RX Summ--Surgical Approch [1310] 865-865
"RTN","ONCACDU2",136,0)
 ;RX Summ--Reconstruct 1st  [1330] 867-867
"RTN","ONCACDU2",137,0)
 ;RX Summ--Surg Site 98-02  [1646] 939-940
"RTN","ONCACDU2",138,0)
 ;RX Summ--Scope Reg 98-02  [1647] 941-941
"RTN","ONCACDU2",139,0)
 ;RX Summ--Surg Oth 98-02   [1648] 942-942
"RTN","ONCACDU2",140,0)
 N X,ENTRY
"RTN","ONCACDU2",141,0)
 S X=""
"RTN","ONCACDU2",142,0)
 S TOP1=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCACDU2",143,0)
 S ENTRY=$$GET1^DIQ(165.5,IEN,FIELD,"I") D:ENTRY'=""
"RTN","ONCACDU2",144,0)
 .I (TOP1=67420)!(TOP1=67421)!(TOP1=67423)!(TOP1=67424)!($E(TOP1,3,4)=76)!(TOP1=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) S X=$$SUB164^ONCACDU2(IEN,SUBFLD,ENTRY) Q
"RTN","ONCACDU2",145,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<2980000,(FIELD=23)!(FIELD=74)!(FIELD=50.2)!(FIELD=58.2)!(FIELD=58.6)!(FIELD=58.7) S X=$S(FIELD=23:$$GET1^DIQ(160.4,ENTRY,.01,"I"),FIELD=74:$$GET1^DIQ(160.6,ENTRY,.01,"I"),1:ENTRY) Q
"RTN","ONCACDU2",146,0)
 .S X=$$SUB164^ONCACDU2(IEN,SUBFLD,ENTRY)
"RTN","ONCACDU2",147,0)
 Q X
"RTN","ONCACDU2",148,0)
 ;
"RTN","ONCACDU2",149,0)
FNODE(ACD160,FIELD) ;FOLLOW-UP (160,400)
"RTN","ONCACDU2",150,0)
 ;Date of Last Contact     [1750] 1294-1301
"RTN","ONCACDU2",151,0)
 ;Vital Status             [1760] 1302-1302
"RTN","ONCACDU2",152,0)
 ;Quality of Survival      [1780] 1304-1304
"RTN","ONCACDU2",153,0)
 ;Follow-Up Source         [1790] 1305-1305
"RTN","ONCACDU2",154,0)
 ;Next Follow-Up Source    [1800] 1306-1306
"RTN","ONCACDU2",155,0)
 ;Unusual Follow-Up Method [1850] 1341-1341
"RTN","ONCACDU2",156,0)
 ;Following Registry       [2440] 2475-2484
"RTN","ONCACDU2",157,0)
 N FNODE,X
"RTN","ONCACDU2",158,0)
 S FNODE=$$LAST(ACD160),X=""
"RTN","ONCACDU2",159,0)
 I FNODE'="" D
"RTN","ONCACDU2",160,0)
 .N IENS
"RTN","ONCACDU2",161,0)
 .S IENS=FNODE_","_ACD160_","
"RTN","ONCACDU2",162,0)
 .S X=$$GET1^DIQ(160.04,IENS,FIELD,"I")
"RTN","ONCACDU2",163,0)
 Q X
"RTN","ONCACDU2",164,0)
 ;
"RTN","ONCACDU2",165,0)
LAST(ACD160) ;Get last FOLLOW-UP(160,400)
"RTN","ONCACDU2",166,0)
 N DLC
"RTN","ONCACDU2",167,0)
 S X="",DLC=0
"RTN","ONCACDU2",168,0)
 S DLC=$O(^ONCO(160,ACD160,"F","AA",DLC))
"RTN","ONCACDU2",169,0)
 S:DLC'="" X=$O(^ONCO(160,ACD160,"F","AA",DLC,0))
"RTN","ONCACDU2",170,0)
 I X'>0 S X=""
"RTN","ONCACDU2",171,0)
 Q X
"RTN","ONCACDU2",172,0)
 ;
"RTN","ONCACDU2",173,0)
FCNODE(ACD160,FIELD,IE) ;FOLLOW-UP CONTACT (160,420)
"RTN","ONCACDU2",174,0)
 ;Follow-Up Contact--City  [1842] 1357-1376
"RTN","ONCACDU2",175,0)
 ;Follow-Up Contact--State [1844] 1377-1378
"RTN","ONCACDU2",176,0)
 ;Follow-Up Contact--Postal[1846] 1379-1387
"RTN","ONCACDU2",177,0)
 ;Follow-Up Contact--Name  [2394] 2284-2313
"RTN","ONCACDU2",178,0)
 ;Follow-Up Contact--No&St [2392] 2314-2353
"RTN","ONCACDU2",179,0)
 ;Follow-Up Contact--Suppl [2393] 2354-2393
"RTN","ONCACDU2",180,0)
 N CONTACT,FCNODE,X
"RTN","ONCACDU2",181,0)
 S X=""
"RTN","ONCACDU2",182,0)
 S FCNODE=$O(^ONCO(160,ACD160,"C","B"),-1)
"RTN","ONCACDU2",183,0)
 I FCNODE'="" D
"RTN","ONCACDU2",184,0)
 .N IENS
"RTN","ONCACDU2",185,0)
 .S IENS=FCNODE_","_ACD160_","
"RTN","ONCACDU2",186,0)
 .S CONTACT=$$GET1^DIQ(160.03,IENS,1,"I")
"RTN","ONCACDU2",187,0)
 I $G(CONTACT) S X=$$GET1^DIQ(165,CONTACT,FIELD,IE)
"RTN","ONCACDU2",188,0)
 Q X
"RTN","ONCACDU2",189,0)
 ;
"RTN","ONCACDU2",190,0)
CS(IEN) ;Cancer Status [1770] 1303-1303
"RTN","ONCACDU2",191,0)
 N X,Z,FNODE
"RTN","ONCACDU2",192,0)
 S FNODE=0
"RTN","ONCACDU2",193,0)
 S X=""
"RTN","ONCACDU2",194,0)
 S FNODE=$O(^ONCO(165.5,IEN,"TS",FNODE))
"RTN","ONCACDU2",195,0)
 I FNODE>0 D
"RTN","ONCACDU2",196,0)
 .N IENS,PT
"RTN","ONCACDU2",197,0)
 .S FNODE=$O(^ONCO(165.5,IEN,"TS"," "),-1)
"RTN","ONCACDU2",198,0)
 .Q:FNODE<1
"RTN","ONCACDU2",199,0)
 .S IENS=FNODE_","_IEN_","
"RTN","ONCACDU2",200,0)
 .S PT=$$GET1^DIQ(165.573,IENS,.02,"I")
"RTN","ONCACDU2",201,0)
 .Q:PT<1
"RTN","ONCACDU2",202,0)
 .S X=$$GET1^DIQ(164.42,PT,1,"I")
"RTN","ONCACDU2",203,0)
 Q X
"RTN","ONCACDU2",204,0)
 ;
"RTN","ONCACDU2",205,0)
CCTST(ACD160) ;
"RTN","ONCACDU2",206,0)
 ;Addr Current--City      [1810] 1307-1326
"RTN","ONCACDU2",207,0)
 N D0,PT,X
"RTN","ONCACDU2",208,0)
 S D0=ACD160
"RTN","ONCACDU2",209,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCACDU2",210,0)
 I $$DPTLRT^ONCOES(D0)="LRT" S X=$$GET1^DIQ(67,PT,.114,"E")
"RTN","ONCACDU2",211,0)
 I $$DPTLRT^ONCOES(D0)="DPT" S X=$$GET1^DIQ(2,PT,.114,"E")
"RTN","ONCACDU2",212,0)
 S X=$$STRIP^XLFSTR(X,"!""""#$%&'()*+,-./:;<=>?[>]^_\{|}~`")
"RTN","ONCACDU2",213,0)
 Q X
"RTN","ONCACDU2",214,0)
 ;
"RTN","ONCACDU2",215,0)
CSTST(ACD160) ;
"RTN","ONCACDU2",216,0)
 ;Addr Current--State [1820] 1327-1328
"RTN","ONCACDU2",217,0)
 N X
"RTN","ONCACDU2",218,0)
 S X=$$GET1^DIQ(160,ACD160,.115,"E")
"RTN","ONCACDU2",219,0)
 S X=$S(X="CANAD":"CD",X="EU":"YY",X="MX":"XX",X="NF":"NL",X="PH":"XX",X="UN":"ZZ",1:X)
"RTN","ONCACDU2",220,0)
 Q X
"RTN","ONCACDU2",221,0)
 ;
"RTN","ONCACDU2",222,0)
ADDCTRY(IEN,ITEM) ;
"RTN","ONCACDU2",223,0)
 ;Addr at DX--Country [102] 436-438
"RTN","ONCACDU2",224,0)
 ;Addr Current--Country [1832] 439-441
"RTN","ONCACDU2",225,0)
 ;Followup Contact--Country [1847] 447-449
"RTN","ONCACDU2",226,0)
 ; Value derived from:
"RTN","ONCACDU2",227,0)
 ;    ITEM #102 - STATE AT DX (#165.5,16) pointer to File #5
"RTN","ONCACDU2",228,0)
 ;    ITEM #1832 - COUNTRY FILE (#2,.1173) pointer to File #779.004 or State File (#2,.115) to File #5
"RTN","ONCACDU2",229,0)
 ;    ITEM #1847 - ZIP CODE (#165,.119 --> #5.11,3) pointer to File #5
"RTN","ONCACDU2",230,0)
 ;
"RTN","ONCACDU2",231,0)
 ; IF VALUE IS NOT FILLED IN OR NOT FOUND, DEFAULT TO "ZZU" (UNKNOWN)
"RTN","ONCACDU2",232,0)
 ;
"RTN","ONCACDU2",233,0)
 N XX
"RTN","ONCACDU2",234,0)
 S ACDANS="USA"
"RTN","ONCACDU2",235,0)
 I ITEM=102 S XX=$S($$GET1^DIQ(165.5,IEN,16,"I")'="":$$GET1^DIQ(5,$$GET1^DIQ(165.5,IEN,16,"I"),1,"I"),1:"")
"RTN","ONCACDU2",236,0)
 I ITEM=1832 D
"RTN","ONCACDU2",237,0)
 .S (X,XX)="" S PT=$P($G(^ONCO(160,ACD160,0)),";",1)
"RTN","ONCACDU2",238,0)
 .I $$DPTLRT(ACD160)="LRT" S X=$$GET1^DIQ(67,PT,.115,"I") S:$G(X) XX=$$GET1^DIQ(5,X,1,"E")
"RTN","ONCACDU2",239,0)
 .I $$DPTLRT(ACD160)="DPT" S X=$$GET1^DIQ(2,PT,.1173,"I") S:$G(X) (XX,ACDANS)=$$GET1^DIQ(779.004,X,.01,"E")
"RTN","ONCACDU2",240,0)
 I ITEM=1847 S XX="",VICPNT=$$FCNODE^ONCACDU2(ACD160,.119,"I") S:$G(VICPNT) STATE=$P($G(^VIC(5.11,VICPNT,0)),U,4) S:$G(STATE)'="" XX=$$GET1^DIQ(5,STATE,1,"I") K STATE,VICPNT
"RTN","ONCACDU2",241,0)
 I XX="QC"!(XX="AB")!(XX="ZZMB")!(XX="NB")!(XX="NF")!(XX="NS")!(XX="NT")!(XX="ON")!(XX="PE")!(XX="SK")!(XX="YT")!(XX="CANAD")!(XX="MB")!(XX="NU")!(XX="BC") S ACDANS="CAN"
"RTN","ONCACDU2",242,0)
 I XX="FM" S ACDANS="FSM"
"RTN","ONCACDU2",243,0)
 I XX="GU" S ACDANS="GUM"
"RTN","ONCACDU2",244,0)
 I XX="MH" S ACDANS="MHL"
"RTN","ONCACDU2",245,0)
 I XX="MP" S ACDANS="MNP"
"RTN","ONCACDU2",246,0)
 I XX="PW" S ACDANS="PWL"
"RTN","ONCACDU2",247,0)
 I XX="UM" S ACDANS="UMI"
"RTN","ONCACDU2",248,0)
 I XX="FG" S ACDANS="ZZX"
"RTN","ONCACDU2",249,0)
 I XX="MX" S ACDANS="MEX"
"RTN","ONCACDU2",250,0)
 I XX="EU" S ACDANS="ZZE"
"RTN","ONCACDU2",251,0)
 I XX="PH" S ACDANS="PHL"
"RTN","ONCACDU2",252,0)
 I XX="AS" S ACDANS="ASM"
"RTN","ONCACDU2",253,0)
 I XX="PR" S ACDANS="PRI"
"RTN","ONCACDU2",254,0)
 I XX="VI" S ACDANS="VIR"
"RTN","ONCACDU2",255,0)
 I XX="ZZEQ" S ACDANS="KIR"
"RTN","ONCACDU2",256,0)
 I XX="ZZIQ" S ACDANS="ZZP"
"RTN","ONCACDU2",257,0)
 I XX="ZZYQ" S ACDANS="JPN"
"RTN","ONCACDU2",258,0)
 I XX="UN"!(XX="") S ACDANS="ZZU"
"RTN","ONCACDU2",259,0)
 Q ACDANS
"RTN","ONCACDU2",260,0)
 ;
"RTN","ONCACDU2",261,0)
DPTLRT(ACD160) ;check if pt from Patient or Referral file
"RTN","ONCACDU2",262,0)
 N DPTLRT
"RTN","ONCACDU2",263,0)
 S DPTLRT=""
"RTN","ONCACDU2",264,0)
 I $P($G(^ONCO(160,ACD160,0)),U,1)["LRT" S DPTLRT="LRT"
"RTN","ONCACDU2",265,0)
 I $P($G(^ONCO(160,ACD160,0)),U,1)["DPT" S DPTLRT="DPT"
"RTN","ONCACDU2",266,0)
 Q DPTLRT
"RTN","ONCACDU2",267,0)
 ;
"RTN","ONCACDU2",268,0)
ICD(ICD) ;ICD Code
"RTN","ONCACDU2",269,0)
 ;Use ICD API (IA #3990) instead of direct global read.
"RTN","ONCACDU2",270,0)
 N X
"RTN","ONCACDU2",271,0)
 S ICD=$S(ICD'="":$P($$ICDDX^ICDCODE(ICD),U,2),1:"0000")
"RTN","ONCACDU2",272,0)
 I ICD["." S ICD=$P(ICD,".")_$P(ICD,".",2)
"RTN","ONCACDU2",273,0)
 S:$L(ICD)=3 ICD=ICD_9
"RTN","ONCACDU2",274,0)
 S:$L(ICD)<4 ICD=$E("0000",1,4-$L(ICD))_ICD
"RTN","ONCACDU2",275,0)
 S:$L(ICD)>4 ICD=$E(ICD,1,4)
"RTN","ONCACDU2",276,0)
 I $E(ICD,4)="X"!($E(ICD,4)="-") S ICD=$E(ICD,1,3)_9
"RTN","ONCACDU2",277,0)
 Q ICD
"RTN","ONCACDU2",278,0)
 ;
"RTN","ONCACDU2",279,0)
ICDR(ICD) ;ICD Revision Number [1920] 1392-1392
"RTN","ONCACDU2",280,0)
 N ICDR
"RTN","ONCACDU2",281,0)
 S ICD=$$ICD(ICD)
"RTN","ONCACDU2",282,0)
 S ICDR=$S(ICD="    ":0,1:$$GET1^DIQ(160,ACD160,20,"I"))
"RTN","ONCACDU2",283,0)
 S:ICDR="" ICDR=0
"RTN","ONCACDU2",284,0)
 Q ICDR
"RTN","ONCACDU2",285,0)
 ;
"RTN","ONCACDU2",286,0)
PPAY(IEN) ;PRIMARY PAYER AT DX (165.5,18)
"RTN","ONCACDU2",287,0)
 N X
"RTN","ONCACDU2",288,0)
 S X=$$GET1^DIQ(165.5,IEN,18,"I")
"RTN","ONCACDU2",289,0)
 S X=$$GET1^DIQ(160.3,$S(X'="":X,1:99),.01,"I")
"RTN","ONCACDU2",290,0)
 S X=$S(X<42:X,X>47:X,1:X-1)
"RTN","ONCACDU2",291,0)
 Q X
"RTN","ONCACDU2",292,0)
 ;
"RTN","ONCACDU2",293,0)
DS(IEN) ;RX Date--Surgery [1200] 755-762
"RTN","ONCACDU2",294,0)
 N X
"RTN","ONCACDU2",295,0)
 S X=$$GET1^DIQ(165.5,IEN,50,"I") I X'="" S SURGDT(X)=""
"RTN","ONCACDU2",296,0)
 S X=$$GET1^DIQ(165.5,IEN,138.2,"I") I X'="" S SURGDT(X)=""
"RTN","ONCACDU2",297,0)
 S X=$$GET1^DIQ(165.5,IEN,139.2,"I") I X'="" S SURGDT(X)=""
"RTN","ONCACDU2",298,0)
 S SURGDT=$O(SURGDT(0))
"RTN","ONCACDU2",299,0)
 S X=$$DATE^ONCACDU1(SURGDT)
"RTN","ONCACDU2",300,0)
 K SURGDT
"RTN","ONCACDU2",301,0)
 Q X
"RTN","ONCACDU2",302,0)
STRIP ;Replace punctuation marks with spaces
"RTN","ONCACDU2",303,0)
 S ACDANS=$TR(ACDANS,"!""""@#$%&'()*+,-./:;<=>?[>]^_\{|}~`","                                    ")
"RTN","ONCACDU2",304,0)
 S ACDANS=$$TRIM^XLFSTR(ACDANS)
"RTN","ONCACDU2",305,0)
 Q
"RTN","ONCACDU2",306,0)
 ;
"RTN","ONCACDU2",307,0)
STRIP1 ;Strip out punctuation marks
"RTN","ONCACDU2",308,0)
 S ACDANS=$$STRIP^XLFSTR(ACDANS,"!""""#$%&'()*+,-./:;<=>?[>]^_\{|}~`")
"RTN","ONCACDU2",309,0)
 Q
"RTN","ONCACDU2",310,0)
 ;
"RTN","ONCACDU2",311,0)
STNUM ;get 3-digit state number for state extract. reporting facility must be the same w/ 160.1 entry.
"RTN","ONCACDU2",312,0)
 ;if no 3-digit number, use the initial from file #200
"RTN","ONCACDU2",313,0)
 N ONC3DIG,ONC1601,ONC3IEN,ONC16019
"RTN","ONCACDU2",314,0)
 S ONC3DIG=""
"RTN","ONCACDU2",315,0)
 S ONC16019=$$GET1^DIQ(165.5,IEN,.03,"I"),ONC1601=0
"RTN","ONCACDU2",316,0)
 F  S ONC1601=$O(^ONCO(160.1,"D",ACDANS,ONC1601)) Q:ONC1601'>0  D
"RTN","ONCACDU2",317,0)
 .I $D(^ONCO(160.1,ONC1601,1)),$P(^(1),U,4)'=ONC16019 Q
"RTN","ONCACDU2",318,0)
 .S ONC3IEN=$O(^ONCO(160.1,"D",ACDANS,ONC1601,0)) S:$G(ONC3IEN) ONC3DIG=$P(^ONCO(160.1,ONC1601,"REG",ONC3IEN,0),U,2)
"RTN","ONCACDU2",319,0)
 S:ONC3DIG="" ACDANS=$E($$GET1^DIQ(200,ACDANS,1,"I"),1,3)
"RTN","ONCACDU2",320,0)
 I ONC3DIG'="" S ACDANS=$S($L(ONC3DIG)=1:"00"_ONC3DIG,$L(ONC3DIG)=2:"0"_ONC3DIG,1:ONC3DIG)
"RTN","ONCACDU2",321,0)
 Q
"RTN","ONCACDU2",322,0)
 ;
"RTN","ONCACDU2",323,0)
CLEANUP ;Cleanup
"RTN","ONCACDU2",324,0)
 K EXTRACT
"RTN","ONCASCI")
0^20^B3659084
"RTN","ONCASCI",1,0)
ONCASCI ;Hines OIFO/GWB - Search TEXT fields for illegal ASCII characters ;02/09/11
"RTN","ONCASCI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCASCI",3,0)
 ;
"RTN","ONCASCI",4,0)
 N IEN,NSFLAG,TEXTIEN,TEXTLINE,TEXTNAME,TEXTNODE,TEXTNUM,Y,Z,ZZ
"RTN","ONCASCI",5,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM"
"RTN","ONCASCI",6,0)
 S DIC("A")=" Select primary or patient name: "
"RTN","ONCASCI",7,0)
 D ^DIC K DIC Q:Y<0
"RTN","ONCASCI",8,0)
 S NSFLAG=""
"RTN","ONCASCI",9,0)
 S IEN=+Y
"RTN","ONCASCI",10,0)
 F TEXTNODE=9:1:22 D
"RTN","ONCASCI",11,0)
 .S TEXTNUM=$S(TEXTNODE=9:103,TEXTNODE=10:104,TEXTNODE=11:105,TEXTNODE=12:106,TEXTNODE=13:107,TEXTNODE=14:108,TEXTNODE=15:109,TEXTNODE=16:110,TEXTNODE=17:111,TEXTNODE=18:112,TEXTNODE=19:113,TEXTNODE=20:114,TEXTNODE=21:115,TEXTNODE=22:116,1:"")
"RTN","ONCASCI",12,0)
 .S TEXTNAME=$P(^DD(165.5,TEXTNUM,0),U,1)
"RTN","ONCASCI",13,0)
 .S TEXTIEN=0
"RTN","ONCASCI",14,0)
 .F  S TEXTIEN=$O(^ONCO(165.5,IEN,TEXTNODE,TEXTIEN)) Q:TEXTIEN'>0  D
"RTN","ONCASCI",15,0)
 ..S TEXTLINE=^ONCO(165.5,IEN,TEXTNODE,TEXTIEN,0)
"RTN","ONCASCI",16,0)
 ..F Z=1:1:$L(TEXTLINE) S ZZ=$E(TEXTLINE,Z) I ($A(ZZ)<32)!($A(ZZ)>126) D
"RTN","ONCASCI",17,0)
 ...W !!,TEXTNAME
"RTN","ONCASCI",18,0)
 ...W !,"TEXT line: ",TEXTLINE
"RTN","ONCASCI",19,0)
 ...W !,"Non-standard character: ",ZZ
"RTN","ONCASCI",20,0)
 ...S NSFLAG="Yes"
"RTN","ONCASCI",21,0)
 ;
"RTN","ONCASCI",22,0)
EX ;Exit
"RTN","ONCASCI",23,0)
 I NSFLAG="" W !!," No non-standard characters found."
"RTN","ONCASCI",24,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCASCI",25,0)
 Q
"RTN","ONCATF")
0^21^B47209323
"RTN","ONCATF",1,0)
ONCATF ;Hines OIFO/GWB - Treatment @FAC (at this facility) stuffing ;06/15/11
"RTN","ONCATF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCATF",3,0)
 ;
"RTN","ONCATF",4,0)
NCDS ;SURG DX/STAGING PROC @FAC (165.5,58.4) 
"RTN","ONCATF",5,0)
 N COC D CHKCOC I (COC="00")!(COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=34)!(COC=35) D
"RTN","ONCATF",6,0)
 .S $P(^ONCO(165.5,D0,3.1),U,5)=$P($G(^ONCO(165.5,D0,3)),U,27)
"RTN","ONCATF",7,0)
 Q
"RTN","ONCATF",8,0)
 ;
"RTN","ONCATF",9,0)
NCDSDT ;SURG DX/STAGING PROC @FAC DATE (165.5,58.5)
"RTN","ONCATF",10,0)
 N COC D CHKCOC I (COC="00")!(COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=34)!(COC=35) D
"RTN","ONCATF",11,0)
 .S $P(^ONCO(165.5,D0,3.1),U,6)=$P($G(^ONCO(165.5,D0,3)),U,31)
"RTN","ONCATF",12,0)
 Q
"RTN","ONCATF",13,0)
 ;
"RTN","ONCATF",14,0)
DSPNCDS ;Display SURG DX/STAGING PROC @FAC (165.5,58.4)
"RTN","ONCATF",15,0)
 ;N COC D CHKCOC I (COC=20)!(COC=21)!(COC=22)!(COC=31)!(COC=32)!(COC=33)!(COC=36)!(COC=37) D  K TXNO,TXUNK,TXNUL S Y="@36" Q
"RTN","ONCATF",16,0)
 N COC D CHKCOC I (COC=31)!(COC=32)!(COC=33)!(COC=36)!(COC=37) D  K TXNO,TXUNK,TXNUL S Y="@36" Q   ;Patch 56 change
"RTN","ONCATF",17,0)
 .S NTX=1 W ! D NCDSATF^ONCNTX1 K NTX
"RTN","ONCATF",18,0)
 .I $G(DNCATF)=1 K DNCATF,TXNUL Q
"RTN","ONCATF",19,0)
 I $G(DNCATF)=1 K DNCATF,TXNUL S Y="@36" Q
"RTN","ONCATF",20,0)
 I (COC="00")!(COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=34)!(COC=35) G DIQ1
"RTN","ONCATF",21,0)
 I $G(TXNO)=1 S NTX=1 W ! D NCDSATF^ONCNTX1 K NTX,TXNO S Y="@36" Q
"RTN","ONCATF",22,0)
 I $G(TXUNK)=1 S NTX=1 W ! D NCDSATF^ONCUTX1 K NTX,TXUNK S Y="@36" Q
"RTN","ONCATF",23,0)
 I $G(TXNUL)=1 K TXNUL S Y="@36"
"RTN","ONCATF",24,0)
 Q
"RTN","ONCATF",25,0)
 ;
"RTN","ONCATF",26,0)
DIQ1 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",27,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E",DR="58.4;58.5"
"RTN","ONCATF",28,0)
 D EN^DIQ1
"RTN","ONCATF",29,0)
 W !!,$P(^DD(165.5,58.4,0),U,1),".....: "_$E(ONC(165.5,DA,58.4,"E"),1,47)
"RTN","ONCATF",30,0)
 W !,$P(^DD(165.5,58.5,0),U,1),": "_ONC(165.5,DA,58.5,"E")
"RTN","ONCATF",31,0)
 K TXNO,TXUNK,TXNUL S Y="@36"
"RTN","ONCATF",32,0)
 Q
"RTN","ONCATF",33,0)
 ;
"RTN","ONCATF",34,0)
SPSR ;SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"RTN","ONCATF",35,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",36,0)
 S $P(^ONCO(165.5,D0,3.1),U,7)=$P($G(^ONCO(165.5,D0,3)),U,38)
"RTN","ONCATF",37,0)
 Q
"RTN","ONCATF",38,0)
 ;
"RTN","ONCATF",39,0)
DSPSPSR ;Display SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"RTN","ONCATF",40,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@427" Q
"RTN","ONCATF",41,0)
 .S NTX=1 W ! D SURATFR^ONCNTX1 K NTX
"RTN","ONCATF",42,0)
 .I $G(DSATF)=1 K DSATF,TXNUL Q
"RTN","ONCATF",43,0)
 I $G(DSATF)=1 K DSATF,TXNUL S Y="@427" Q
"RTN","ONCATF",44,0)
 I COC'=37 D  Q
"RTN","ONCATF",45,0)
 .I $G(TXNO)=1 S NTX=1 W ! D SURATFR^ONCNTX1 K NTX,TXNO S Y="@427" Q
"RTN","ONCATF",46,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D SURATFR^ONCUTX1 K NTX,TXUNK S Y="@427" Q
"RTN","ONCATF",47,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@427" Q
"RTN","ONCATF",48,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",49,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E"
"RTN","ONCATF",50,0)
 S DR=50.2
"RTN","ONCATF",51,0)
 D EN^DIQ1
"RTN","ONCATF",52,0)
 I $G(DSATF)'=1 D
"RTN","ONCATF",53,0)
 .W !!,$P(^DD(165.5,50.2,0),U,1),"....: "_$E(ONC(165.5,DA,50.2,"E"),1,48)
"RTN","ONCATF",54,0)
 K DSATF,TXNO,TXUNK,TXNUL S Y="@427"
"RTN","ONCATF",55,0)
 Q
"RTN","ONCATF",56,0)
 ;
"RTN","ONCATF",57,0)
SPS ;SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"RTN","ONCATF",58,0)
 N SUUP
"RTN","ONCATF",59,0)
 S SUUP=1 D RFNS^ONCATF1
"RTN","ONCATF",60,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",61,0)
 S $P(^ONCO(165.5,D0,3.1),U,30)=$P($G(^ONCO(165.5,D0,3.1)),U,29)
"RTN","ONCATF",62,0)
 Q
"RTN","ONCATF",63,0)
 ;
"RTN","ONCATF",64,0)
SPSDT ;MOST DEFINITIVE SURG @FAC DATE (165.5,50.3)
"RTN","ONCATF",65,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",66,0)
 S $P(^ONCO(165.5,D0,3.1),U,8)=$P($G(^ONCO(165.5,D0,3)),U,1)
"RTN","ONCATF",67,0)
 Q
"RTN","ONCATF",68,0)
 ;
"RTN","ONCATF",69,0)
DSPSPS ;Display SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"RTN","ONCATF",70,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@43" Q
"RTN","ONCATF",71,0)
 .S NTX=1 W ! D SURATF^ONCNTX1 K NTX
"RTN","ONCATF",72,0)
 .I $G(DSATF)=1 K DSATF,TXNUL Q
"RTN","ONCATF",73,0)
 I $G(DSATF)=1 K DSATF,TXNUL S Y="@43" Q
"RTN","ONCATF",74,0)
 I COC'=37 D  Q
"RTN","ONCATF",75,0)
 .I $G(TXNO)=1 S NTX=1 W ! D SURATF^ONCNTX1 K NTX,TXNO S Y="@43" Q
"RTN","ONCATF",76,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D SURATF^ONCUTX1 K NTX,TXUNK S Y="@43" Q
"RTN","ONCATF",77,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@43" Q
"RTN","ONCATF",78,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",79,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E"
"RTN","ONCATF",80,0)
 S DR="58.7;50.3"
"RTN","ONCATF",81,0)
 D EN^DIQ1
"RTN","ONCATF",82,0)
 I $G(DSATF)'=1 D
"RTN","ONCATF",83,0)
 .W !!,"SURGERY OF PRIMARY @FAC.....(F): "_$E(ONC(165.5,DA,58.7,"E"),1,48)
"RTN","ONCATF",84,0)
 .W !,"MOST DEFINITIVE SURG @FAC DATE.: "_ONC(165.5,DA,50.3,"E") Q
"RTN","ONCATF",85,0)
 K DSATF,TXNO,TXUNK,TXNUL S Y="@43"
"RTN","ONCATF",86,0)
 Q
"RTN","ONCATF",87,0)
 ;
"RTN","ONCATF",88,0)
SCPR ;SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"RTN","ONCATF",89,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",90,0)
 S $P(^ONCO(165.5,D0,3.1),U,9)=$P($G(^ONCO(165.5,D0,3)),U,40)
"RTN","ONCATF",91,0)
 Q
"RTN","ONCATF",92,0)
 ;
"RTN","ONCATF",93,0)
SCP ;SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"RTN","ONCATF",94,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",95,0)
 S $P(^ONCO(165.5,D0,3.1),U,32)=$P($G(^ONCO(165.5,D0,3.1)),U,31)
"RTN","ONCATF",96,0)
 Q
"RTN","ONCATF",97,0)
 ;
"RTN","ONCATF",98,0)
SCPDT ;SCOPE OF LN SURGERY @FAC DATE (165.5,138.3)
"RTN","ONCATF",99,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",100,0)
 S $P(^ONCO(165.5,D0,3.1),U,23)=$P($G(^ONCO(165.5,D0,3.1)),U,22)
"RTN","ONCATF",101,0)
 Q
"RTN","ONCATF",102,0)
 ;
"RTN","ONCATF",103,0)
NUMND ;NUMBER OF LN REMOVED @FAC (R) (165.5,140.1)
"RTN","ONCATF",104,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",105,0)
 S $P(^ONCO(165.5,D0,3.1),U,11)=$P($G(^ONCO(165.5,D0,3)),U,42)
"RTN","ONCATF",106,0)
 Q
"RTN","ONCATF",107,0)
 ;
"RTN","ONCATF",108,0)
DSPSCPR ;Display SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"RTN","ONCATF",109,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@139" Q
"RTN","ONCATF",110,0)
 .S NTX=1 W ! D NODATFR^ONCNTX1 K NTX
"RTN","ONCATF",111,0)
 .I $G(DSCATF)=1 K DSCATF,TXNUL Q
"RTN","ONCATF",112,0)
 I $G(DSCATF)=1 K DSCATF,TXNUL S Y="@139" Q
"RTN","ONCATF",113,0)
 I COC'=37 D  Q
"RTN","ONCATF",114,0)
 .I $G(TXNO)=1 S NTX=1 W ! D NODATFR^ONCNTX1 K NTX,TXNO S Y="@139" Q
"RTN","ONCATF",115,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D NODATFR^ONCUTX1 K NTX,TXUNK S Y="@139" Q
"RTN","ONCATF",116,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@139" Q
"RTN","ONCATF",117,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",118,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E"
"RTN","ONCATF",119,0)
 S DR="138.1;140.1"
"RTN","ONCATF",120,0)
 D EN^DIQ1
"RTN","ONCATF",121,0)
 I $G(DSCATF)'=1 D
"RTN","ONCATF",122,0)
 .W !!,$P(^DD(165.5,138.1,0),U,1),"...: "_$E(ONC(165.5,DA,138.1,"E"),1,48)
"RTN","ONCATF",123,0)
 .W !,$P(^DD(165.5,140.1,0),U,1),"..: "_ONC(165.5,DA,140.1,"E")
"RTN","ONCATF",124,0)
 K DSCATF,TXNO,TXUNK,TXNUL S Y="@139" Q
"RTN","ONCATF",125,0)
 ;
"RTN","ONCATF",126,0)
DSPSCP ;Display SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"RTN","ONCATF",127,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@46" Q
"RTN","ONCATF",128,0)
 .S NTX=1 W ! D NODEATF^ONCNTX1 K NTX
"RTN","ONCATF",129,0)
 .I $G(DSCATF)=1 K DSCATF,TXNUL Q
"RTN","ONCATF",130,0)
 I $G(DSCATF)=1 K DSCATF,TXNUL S Y="@46" Q
"RTN","ONCATF",131,0)
 I COC'=37 D  Q
"RTN","ONCATF",132,0)
 .I $G(TXNO)=1 S NTX=1 W ! D NODEATF^ONCNTX1 K NTX,TXNO S Y="@46" Q
"RTN","ONCATF",133,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D NODEATF^ONCUTX1 K NTX,TXUNK S Y="@46" Q
"RTN","ONCATF",134,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@46" Q
"RTN","ONCATF",135,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",136,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E"
"RTN","ONCATF",137,0)
 S DR="138.5;138.3"
"RTN","ONCATF",138,0)
 D EN^DIQ1
"RTN","ONCATF",139,0)
 I $G(DSCATF)'=1 D
"RTN","ONCATF",140,0)
 .W !!,$P(^DD(165.5,138.5,0),U,1),"....: "_$E(ONC(165.5,DA,138.5,"E"),1,48)
"RTN","ONCATF",141,0)
 .W !,$P(^DD(165.5,138.3,0),U,1),".: "_ONC(165.5,DA,138.3,"E")
"RTN","ONCATF",142,0)
 K DSCATF,TXNO,TXUNK,TXNUL S Y="@46" Q
"RTN","ONCATF",143,0)
 ;
"RTN","ONCATF",144,0)
SOSNR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139)
"RTN","ONCATF",145,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",146,0)
 S $P(^ONCO(165.5,D0,3.1),U,10)=$P($G(^ONCO(165.5,D0,3)),U,41)
"RTN","ONCATF",147,0)
 Q
"RTN","ONCATF",148,0)
 ;
"RTN","ONCATF",149,0)
SOSN ;SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"RTN","ONCATF",150,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",151,0)
 S $P(^ONCO(165.5,D0,3.1),U,34)=$P($G(^ONCO(165.5,D0,3.1)),U,33)
"RTN","ONCATF",152,0)
 Q
"RTN","ONCATF",153,0)
 ;
"RTN","ONCATF",154,0)
SOSNDT ;SURG PROC/OTHER SITE @FAC DATE (165.5,139.3)
"RTN","ONCATF",155,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF",156,0)
 S $P(^ONCO(165.5,D0,3.1),U,25)=$P($G(^ONCO(165.5,D0,3.1)),U,24)
"RTN","ONCATF",157,0)
 Q
"RTN","ONCATF",158,0)
 ;
"RTN","ONCATF",159,0)
DSPSOSR ;Display SURG PPROC/OTHER SITE @FAC (R) (165.5,139.1)
"RTN","ONCATF",160,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@428" Q
"RTN","ONCATF",161,0)
 .S NTX=1 W ! D SOSATFR^ONCNTX1 K NTX
"RTN","ONCATF",162,0)
 .I $G(DSOATF)=1 K DSOATF,TXNUL Q
"RTN","ONCATF",163,0)
 I $G(DSOATF)=1 K DSOATF,TXNUL S Y="@428" Q
"RTN","ONCATF",164,0)
 I COC'=37 D  Q
"RTN","ONCATF",165,0)
 .I $G(TXNO)=1 S NTX=1 W ! D SOSATFR^ONCNTX1 K NTX,TXNO S Y="@428" Q
"RTN","ONCATF",166,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D SOSATFR^ONCUTX1 K NTX,TXUNK S Y="@428" Q
"RTN","ONCATF",167,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@428" Q
"RTN","ONCATF",168,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",169,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E"
"RTN","ONCATF",170,0)
 S DR=139.1
"RTN","ONCATF",171,0)
 D EN^DIQ1
"RTN","ONCATF",172,0)
 I $G(DSOATF)'=1 D
"RTN","ONCATF",173,0)
 .W !,$P(^DD(165.5,139.1,0),U,1),": "_ONC(165.5,DA,139.1,"E") Q
"RTN","ONCATF",174,0)
 K DSOATF,TXNO,TXUNK,TXNUL S Y="@428" Q
"RTN","ONCATF",175,0)
 ;
"RTN","ONCATF",176,0)
DSPSOSN ;Display SURG PPROC/OTHER SITE @FAC (F) (165.5,139.5)
"RTN","ONCATF",177,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@48" Q
"RTN","ONCATF",178,0)
 .S NTX=1 W ! D SOSNATF^ONCNTX1 K NTX
"RTN","ONCATF",179,0)
 .I $G(DSOATF)=1 K DSOATF,TXNUL Q
"RTN","ONCATF",180,0)
 I $G(DSOATF)=1 K DSOATF,TXNUL S Y="@48" Q
"RTN","ONCATF",181,0)
 I COC'=37 D  Q
"RTN","ONCATF",182,0)
 .I $G(TXNO)=1 S NTX=1 W ! D SOSNATF^ONCNTX1 K NTX,TXNO S Y="@48" Q
"RTN","ONCATF",183,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D SOSNATF^ONCUTX1 K NTX,TXUNK S Y="@48" Q
"RTN","ONCATF",184,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@48" Q
"RTN","ONCATF",185,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF",186,0)
 S DA=D0,DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E"
"RTN","ONCATF",187,0)
 S DR="139.5;139.3"
"RTN","ONCATF",188,0)
 D EN^DIQ1
"RTN","ONCATF",189,0)
 I $G(DSOATF)'=1 D
"RTN","ONCATF",190,0)
 .W !!,$P(^DD(165.5,139.5,0),U,1),": "_$E(ONC(165.5,DA,139.5,"E"),1,48)
"RTN","ONCATF",191,0)
 .W !,$P(^DD(165.5,139.3,0),U,1),": "_ONC(165.5,DA,139.3,"E") Q
"RTN","ONCATF",192,0)
 K DSOATF,TXNO,TXUNK,TXNUL S Y="@48" Q
"RTN","ONCATF",193,0)
 ;
"RTN","ONCATF",194,0)
CHKCOC ;CLASS OF CASE
"RTN","ONCATF",195,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04),1,2)
"RTN","ONCATF",196,0)
 Q
"RTN","ONCATF",197,0)
 ;
"RTN","ONCATF",198,0)
CLEANUP ;Cleanup
"RTN","ONCATF",199,0)
 K D0,Y
"RTN","ONCATF1")
0^22^B40406368
"RTN","ONCATF1",1,0)
ONCATF1 ;Hines OIFO/RTK - Treatment AT THIS FACILITY stuffing (cont.); 06/23/10
"RTN","ONCATF1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCATF1",3,0)
 ;
"RTN","ONCATF1",4,0)
RAD ;Radiation @fac
"RTN","ONCATF1",5,0)
 N COC
"RTN","ONCATF1",6,0)
 S RAUP=1 D RFNR^ONCATF1
"RTN","ONCATF1",7,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",8,0)
 S $P(^ONCO(165.5,D0,3.1),U,12)=$P($G(^ONCO(165.5,D0,3)),U,6)
"RTN","ONCATF1",9,0)
 Q
"RTN","ONCATF1",10,0)
 ;
"RTN","ONCATF1",11,0)
RADDT ;Radiation @fac date
"RTN","ONCATF1",12,0)
 N COC
"RTN","ONCATF1",13,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",14,0)
 S $P(^ONCO(165.5,D0,3.1),U,13)=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCATF1",15,0)
 Q
"RTN","ONCATF1",16,0)
 ;
"RTN","ONCATF1",17,0)
DSPRAD ;Display Radiation @fac fields
"RTN","ONCATF1",18,0)
 N COC
"RTN","ONCATF1",19,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@411" Q
"RTN","ONCATF1",20,0)
 .S NTX=1 W ! D RADATF^ONCNTX1 K NTX
"RTN","ONCATF1",21,0)
 .I $G(DRATF)=1 K DRATF,TXNUL Q
"RTN","ONCATF1",22,0)
 I $G(DRATF)=1 K DRATF,TXNUL S Y="@411" Q
"RTN","ONCATF1",23,0)
 I COC'=37 D  Q
"RTN","ONCATF1",24,0)
 .I $G(TXNO)=1 S NTX=1 W ! D RADATF^ONCNTX1 K NTX,TXNO S Y="@411" Q
"RTN","ONCATF1",25,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D RADATF^ONCUTX1 K NTX,TXUNK S Y="@411" Q
"RTN","ONCATF1",26,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@411" Q
"RTN","ONCATF1",27,0)
 N DI,DIC,DA,DR,DIQ,ONC
"RTN","ONCATF1",28,0)
 S DIC="^ONCO(165.5,",DA=D0,DIQ="ONC(",DIQ(0)="E",DR="51.4;51.5"
"RTN","ONCATF1",29,0)
 D EN^DIQ1
"RTN","ONCATF1",30,0)
 W !!,$P(^DD(165.5,51.4,0),U,1),"............: "_$E(ONC(165.5,DA,51.4,"E"),1,47)
"RTN","ONCATF1",31,0)
 W !,$P(^DD(165.5,51.5,0),U,1),".......: "_ONC(165.5,DA,51.5,"E")
"RTN","ONCATF1",32,0)
 K TXNO,TXUNK,TXNUL S Y="@411" Q
"RTN","ONCATF1",33,0)
 ;
"RTN","ONCATF1",34,0)
CHEM ;Chemotherapy @fac
"RTN","ONCATF1",35,0)
 N COC
"RTN","ONCATF1",36,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",37,0)
 S $P(^ONCO(165.5,D0,3.1),U,14)=$P($G(^ONCO(165.5,D0,3)),U,13)
"RTN","ONCATF1",38,0)
 Q
"RTN","ONCATF1",39,0)
 ;
"RTN","ONCATF1",40,0)
CHEMDT ;Chemotherapy @fac date
"RTN","ONCATF1",41,0)
 N COC
"RTN","ONCATF1",42,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",43,0)
 S $P(^ONCO(165.5,D0,3.1),U,15)=$P($G(^ONCO(165.5,D0,3)),U,11)
"RTN","ONCATF1",44,0)
 Q
"RTN","ONCATF1",45,0)
 ;
"RTN","ONCATF1",46,0)
DSPCHEM ;Display Chemotherapy @fac fields
"RTN","ONCATF1",47,0)
 N COC
"RTN","ONCATF1",48,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@415" Q
"RTN","ONCATF1",49,0)
 .S NTX=1 W ! D CHEMATF^ONCNTX1 K NTX
"RTN","ONCATF1",50,0)
 .I $G(DCATF)=1 K DCATF,TXNUL Q
"RTN","ONCATF1",51,0)
 I $G(DCATF)=1 K DCATF,TXNUL S Y="@415" Q
"RTN","ONCATF1",52,0)
 I COC'=37 D  Q
"RTN","ONCATF1",53,0)
 .I $G(TXNO)=1 S NTX=1 W ! D CHEMATF^ONCNTX1 K NTX,TXNO S Y="@415" Q
"RTN","ONCATF1",54,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D CHEMATF^ONCUTX1 K NTX,TXUNK S Y="@415" Q
"RTN","ONCATF1",55,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@415" Q
"RTN","ONCATF1",56,0)
 K DIQ,ONC
"RTN","ONCATF1",57,0)
 S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E",DR="53.3;53.4"
"RTN","ONCATF1",58,0)
 D EN^DIQ1
"RTN","ONCATF1",59,0)
 W !!,$P(^DD(165.5,53.3,0),U,1),"........: "_$E(ONC(165.5,DA,53.3,"E"),1,47)
"RTN","ONCATF1",60,0)
 W !,$P(^DD(165.5,53.4,0),U,1),"...: "_ONC(165.5,DA,53.4,"E")
"RTN","ONCATF1",61,0)
 K TXNO,TXUNK,TXNUL S Y="@415" Q
"RTN","ONCATF1",62,0)
 ;
"RTN","ONCATF1",63,0)
HT ;Hormone therapy @fac
"RTN","ONCATF1",64,0)
 N COC
"RTN","ONCATF1",65,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",66,0)
 S $P(^ONCO(165.5,D0,3.1),U,16)=$P($G(^ONCO(165.5,D0,3)),U,16)
"RTN","ONCATF1",67,0)
 Q
"RTN","ONCATF1",68,0)
 ;
"RTN","ONCATF1",69,0)
HTDT ;Hormone therapy @fac date
"RTN","ONCATF1",70,0)
 N COC
"RTN","ONCATF1",71,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",72,0)
 S $P(^ONCO(165.5,D0,3.1),U,17)=$P($G(^ONCO(165.5,D0,3)),U,14)
"RTN","ONCATF1",73,0)
 Q
"RTN","ONCATF1",74,0)
 ;
"RTN","ONCATF1",75,0)
DSPHT ;Display Hormone Therapy @fac fields
"RTN","ONCATF1",76,0)
 N COC
"RTN","ONCATF1",77,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@418" Q
"RTN","ONCATF1",78,0)
 .S NTX=1 W ! D HTATF^ONCNTX1 K NTX
"RTN","ONCATF1",79,0)
 .I $G(DHATF)=1 K DHATF,TXNUL Q
"RTN","ONCATF1",80,0)
 I $G(DHATF)=1 K DHATF,TXNUL S Y="@418" Q
"RTN","ONCATF1",81,0)
 I COC'=37 D  Q
"RTN","ONCATF1",82,0)
 .I $G(TXNO)=1 S NTX=1 W ! D HTATF^ONCNTX1 K NTX,TXNO S Y="@418" Q
"RTN","ONCATF1",83,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D HTATF^ONCUTX1 K NTX,TXUNK S Y="@418" Q
"RTN","ONCATF1",84,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@418" Q
"RTN","ONCATF1",85,0)
 K DIQ,ONC
"RTN","ONCATF1",86,0)
 S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E",DR="54.3;54.4"
"RTN","ONCATF1",87,0)
 D EN^DIQ1
"RTN","ONCATF1",88,0)
 W !!,$P(^DD(165.5,54.3,0),U,1),".....: "_$E(ONC(165.5,DA,54.3,"E"),1,47)
"RTN","ONCATF1",89,0)
 W !,$P(^DD(165.5,54.4,0),U,1),": "_ONC(165.5,DA,54.4,"E")
"RTN","ONCATF1",90,0)
 K TXNO,TXUNK,TXNUL S Y="@418"
"RTN","ONCATF1",91,0)
 Q
"RTN","ONCATF1",92,0)
 ;
"RTN","ONCATF1",93,0)
IMM ;Immunotherapy @fac
"RTN","ONCATF1",94,0)
 N COC
"RTN","ONCATF1",95,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",96,0)
 S $P(^ONCO(165.5,D0,3.1),U,18)=$P($G(^ONCO(165.5,D0,3)),U,19)
"RTN","ONCATF1",97,0)
 Q
"RTN","ONCATF1",98,0)
 ;
"RTN","ONCATF1",99,0)
IMMDT ;Immunotherapy @fac date
"RTN","ONCATF1",100,0)
 N COC
"RTN","ONCATF1",101,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",102,0)
 S $P(^ONCO(165.5,D0,3.1),U,19)=$P($G(^ONCO(165.5,D0,3)),U,17)
"RTN","ONCATF1",103,0)
 Q
"RTN","ONCATF1",104,0)
 ;
"RTN","ONCATF1",105,0)
DSPIMM ;Display Immunotherapy @fac fields
"RTN","ONCATF1",106,0)
 N COC
"RTN","ONCATF1",107,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@421" Q
"RTN","ONCATF1",108,0)
 .S NTX=1 W ! D IMMATF^ONCNTX1 K NTX
"RTN","ONCATF1",109,0)
 .I $G(DIATF)=1 K DIATF,TXNUL Q
"RTN","ONCATF1",110,0)
 I $G(DIATF)=1 K DIATF,TXNUL S Y="@421" Q
"RTN","ONCATF1",111,0)
 I COC'=37 D  Q
"RTN","ONCATF1",112,0)
 .I $G(TXNO)=1 S NTX=1 W ! D IMMATF^ONCNTX1 K NTX,TXNO S Y="@421" Q
"RTN","ONCATF1",113,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D IMMATF^ONCUTX1 K NTX,TXUNK S Y="@421" Q
"RTN","ONCATF1",114,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@421" Q
"RTN","ONCATF1",115,0)
 K DIQ,ONC
"RTN","ONCATF1",116,0)
 S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E",DR="55.3;55.4"
"RTN","ONCATF1",117,0)
 D EN^DIQ1
"RTN","ONCATF1",118,0)
 W !!,$P(^DD(165.5,55.3,0),U,1),".......: "_ONC(165.5,DA,55.3,"E")
"RTN","ONCATF1",119,0)
 W !,$P(^DD(165.5,55.4,0),U,1),"..: "_ONC(165.5,DA,55.4,"E")
"RTN","ONCATF1",120,0)
 K TXNO,TXUNK,TXNUL S Y="@421" Q
"RTN","ONCATF1",121,0)
 ;
"RTN","ONCATF1",122,0)
OTH ;Other therapy @fac
"RTN","ONCATF1",123,0)
 N COC
"RTN","ONCATF1",124,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",125,0)
 S $P(^ONCO(165.5,D0,3.1),U,20)=$P($G(^ONCO(165.5,D0,3)),U,25)
"RTN","ONCATF1",126,0)
 Q
"RTN","ONCATF1",127,0)
 ;
"RTN","ONCATF1",128,0)
OTHDT ;Other therapy @fac date
"RTN","ONCATF1",129,0)
 N COC
"RTN","ONCATF1",130,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",131,0)
 S $P(^ONCO(165.5,D0,3.1),U,21)=$P($G(^ONCO(165.5,D0,3)),U,23)
"RTN","ONCATF1",132,0)
 Q
"RTN","ONCATF1",133,0)
 ;
"RTN","ONCATF1",134,0)
DSPOTH ;Display Other Treatment @fac fields
"RTN","ONCATF1",135,0)
 N COC
"RTN","ONCATF1",136,0)
 D CHKCOC I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D  K TXNO,TXUNK,TXNUL S Y="@424" Q
"RTN","ONCATF1",137,0)
 .S NTX=1 W ! D OTHATF^ONCNTX1 K NTX
"RTN","ONCATF1",138,0)
 .I $G(DOATF)=1 K DOATF,TXNUL Q
"RTN","ONCATF1",139,0)
 I $G(DOATF)=1 K DOATF,TXNUL S Y="@424" Q
"RTN","ONCATF1",140,0)
 I COC'=37 D  Q
"RTN","ONCATF1",141,0)
 .I $G(TXNO)=1 S NTX=1 W ! D OTHATF^ONCNTX1 K NTX,TXNO S Y="@424" Q
"RTN","ONCATF1",142,0)
 .I $G(TXUNK)=1 S NTX=1 W ! D OTHATF^ONCUTX1 K NTX,TXUNK S Y="@424" Q
"RTN","ONCATF1",143,0)
 .I $G(TXNUL)=1 K TXNUL S Y="@424" Q
"RTN","ONCATF1",144,0)
 K DIQ,ONC
"RTN","ONCATF1",145,0)
 S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E",DR="57.3;57.4"
"RTN","ONCATF1",146,0)
 D EN^DIQ1
"RTN","ONCATF1",147,0)
 W !!,$P(^DD(165.5,57.3,0),U,1),".....: "_$E(ONC(165.5,DA,57.3,"E"),1,47)
"RTN","ONCATF1",148,0)
 W !,$P(^DD(165.5,57.4,0),U,1),": "_ONC(165.5,DA,57.4,"E")
"RTN","ONCATF1",149,0)
 K TXNO,TXUNK,TXNUL S Y="@424" Q
"RTN","ONCATF1",150,0)
 ;
"RTN","ONCATF1",151,0)
PP ;Palliative Procedure @fac
"RTN","ONCATF1",152,0)
 N COC
"RTN","ONCATF1",153,0)
 D CHKCOC I COC'=37 Q
"RTN","ONCATF1",154,0)
 S $P(^ONCO(165.5,D0,3.1),U,27)=$P($G(^ONCO(165.5,D0,3.1)),U,26)
"RTN","ONCATF1",155,0)
 Q
"RTN","ONCATF1",156,0)
 ;
"RTN","ONCATF1",157,0)
CHKCOC ;CLASS OF CASE
"RTN","ONCATF1",158,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04),1,2)
"RTN","ONCATF1",159,0)
 Q
"RTN","ONCATF1",160,0)
 ;
"RTN","ONCATF1",161,0)
RFNS ;If SURGERY OF PRIMARY (F) (165.5,58.6) and SURGERY OF PRIMARY @FAC (F)
"RTN","ONCATF1",162,0)
 ;(165.5,58.7) are anything but 00 or 99, set REASON NO SURGERY OF
"RTN","ONCATF1",163,0)
 ;PRIMARY (165.5,58) to 0 (Surgery performed)
"RTN","ONCATF1",164,0)
 N FLAG1,FLAG2,SGRP,SPS,SPSATF,TPX
"RTN","ONCATF1",165,0)
 S (FLAG1,FLAG2)=1
"RTN","ONCATF1",166,0)
 S SPS=$P($G(^ONCO(165.5,D0,3.1)),U,29) I SPS="" S FLAG1=0
"RTN","ONCATF1",167,0)
 S SPSATF=$P($G(^ONCO(165.5,D0,3.1)),U,30) I SPSATF="" S FLAG2=0
"RTN","ONCATF1",168,0)
 S TPX=$P($G(^ONCO(165.5,D0,2)),U,1) I TPX="" W !!,"PRIMARY SITE is not defined" H 3 S Y="@0" Q
"RTN","ONCATF1",169,0)
 S SGRP=$P($G(^ONCO(164,TPX,0)),U,16)
"RTN","ONCATF1",170,0)
 I SPS'="" I (SPS=1)!(SPS="00")!($G(^ONCO(164,SGRP,"SPS",SPS,0))[99) S FLAG1=0
"RTN","ONCATF1",171,0)
 I SPSATF'="" I (SPSATF=1)!(SPSATF="00")!($G(^ONCO(164,SGRP,"SPS",SPSATF,0))[99) S FLAG2=0
"RTN","ONCATF1",172,0)
 I FLAG1=0,FLAG2=0 Q
"RTN","ONCATF1",173,0)
 S $P(^ONCO(165.5,D0,3),U,26)=0
"RTN","ONCATF1",174,0)
 I $G(SUUP)=1 K SUUP Q
"RTN","ONCATF1",175,0)
 W !,$P($G(^DD(165.5,58,0)),U,1)_"...: Surgery performed"
"RTN","ONCATF1",176,0)
 S Y="@431" Q
"RTN","ONCATF1",177,0)
 ;
"RTN","ONCATF1",178,0)
RFNR ;If RADIATION, set REASON FOR NO RADIATION = 0 (Radiation administered)
"RTN","ONCATF1",179,0)
 N RDTX,RDTXATF
"RTN","ONCATF1",180,0)
 S RDTX=$P($G(^ONCO(165.5,D0,3)),U,6)
"RTN","ONCATF1",181,0)
 S RDTXATF=$P($G(^ONCO(165.5,D0,3.1)),U,12)
"RTN","ONCATF1",182,0)
 I ((RDTX="")!(RDTX=0)!(RDTX=9))&((RDTXATF="")!(RDTXATF=0)!(RDTXATF=9)) Q
"RTN","ONCATF1",183,0)
 S $P(^ONCO(165.5,D0,3),U,35)=0
"RTN","ONCATF1",184,0)
 I $G(RAUP)=1 K RAUP Q
"RTN","ONCATF1",185,0)
 W !,$P($G(^DD(165.5,75,0)),U,1)_"........: Radiation administered"
"RTN","ONCATF1",186,0)
 S Y="@412" Q
"RTN","ONCATF1",187,0)
 Q
"RTN","ONCATF1",188,0)
 ;
"RTN","ONCATF1",189,0)
CLEANUP ;Cleanup
"RTN","ONCATF1",190,0)
 K D0,Y
"RTN","ONCBPC0")
0^23^B6901838
"RTN","ONCBPC0",1,0)
ONCBPC0 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder;03/18/96
"RTN","ONCBPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCBPC0",4,0)
 ;Check if ACCESSION YEAR = 1995
"RTN","ONCBPC0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1995 S MSG="The Accession Year is not 1995." D ERRMSG G EXIT
"RTN","ONCBPC0",6,0)
 ;Check if histologically confirmed
"RTN","ONCBPC0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I DC'=1 S MSG="The Diagnostic Confirmation code is not 1." D ERRMSG G EXIT
"RTN","ONCBPC0",8,0)
 ;Check if Class of Case is either 0, 1 or 2.
"RTN","ONCBPC0",9,0)
 I $P($G(^ONCO(165.5,ONCONUM,0)),U,4)>2 S MSG="The Class of Case code is not 0, 1 or 2." D ERRMSG G EXIT
"RTN","ONCBPC0",10,0)
 ;Check Date DX and/or Date of First Course Treatment
"RTN","ONCBPC0",11,0)
 ;S ONCODT1=$P($G(^ONCO(165.5,ONCONUM,0)),U,16)
"RTN","ONCBPC0",12,0)
 ;S ONCODT2=0 F  S ONCODT2=$O(^ONCO(165.5,"ATX",ONCONUM,ONCODT2)) Q:ONCODT2'>0  Q:($E(ONCODT2,2,7)'="000000")&($E(ONCODT2,2,7)'=999999)
"RTN","ONCBPC0",13,0)
 ;I $E(ONCODT1,1,3)'=ONCDT,$E(ONCODT2,1,3)'=ONCDT S MSG="Date DX and/or First Treatment Date not in 1995." D ERRMSG G EXIT
"RTN","ONCBPC0",14,0)
MENU ;Bladder PCE menu
"RTN","ONCBPC0",15,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="BLA"
"RTN","ONCBPC0",16,0)
 S ^ONCO(165.5,"APCE","BLA",ONCONUM)=""
"RTN","ONCBPC0",17,0)
 K DIR D HEAD
"RTN","ONCBPC0",18,0)
 S DIR(0)="SO^1:General Information;2:Diagnostic Information;3:Extent of Disease and AJCC Stage;4:First Course of Treatment;5:First Recurrence;6:Status At Last Contact;7:All;8:Print Bladder PCE"
"RTN","ONCBPC0",19,0)
 S DIR("A")="Select table" D ^DIR
"RTN","ONCBPC0",20,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCBPC0",21,0)
 .D ^ONCBPC1 Q:$G(OUT)="Y"
"RTN","ONCBPC0",22,0)
 .D ^ONCBPC2 Q:$G(OUT)="Y"
"RTN","ONCBPC0",23,0)
 .D ^ONCBPC3 Q:$G(OUT)="Y"
"RTN","ONCBPC0",24,0)
 .D ^ONCBPC4 Q:$G(OUT)="Y"
"RTN","ONCBPC0",25,0)
 .D ^ONCBPC5 Q:$G(OUT)="Y"
"RTN","ONCBPC0",26,0)
 .D ^ONCBPC6 Q:$G(OUT)="Y"
"RTN","ONCBPC0",27,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT S SUB="^ONCBPC"_Y D @SUB
"RTN","ONCBPC0",28,0)
 G MENU
"RTN","ONCBPC0",29,0)
ERRMSG ;Error message
"RTN","ONCBPC0",30,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCBPC0",31,0)
 K MSG Q
"RTN","ONCBPC0",32,0)
HEAD ;PCE HEADER
"RTN","ONCBPC0",33,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCBPC0",34,0)
 S HDL=$L("Patient Care Evaluation Study of Cancers of the Urinary Bladder"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCBPC0",35,0)
 W !,?TAB,"Patient Care Evaluation Study of Cancers of the Urinary Bladder",!,DASHES
"RTN","ONCBPC0",36,0)
 Q
"RTN","ONCBPC0",37,0)
EXIT ;Kill variables and exit
"RTN","ONCBPC0",38,0)
 K COC,DC,HDL,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCBPC0",39,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCBPC0",40,0)
 Q
"RTN","ONCBPC1")
0^24^B17284866
"RTN","ONCBPC1",1,0)
ONCBPC1 ;Hines OIFO/GWB - PCE Study of Cancers of the Urinary Bladder ;5/30/00
"RTN","ONCBPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC1",3,0)
 ;Table I
"RTN","ONCBPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCBPC1",5,0)
 S TABLE("ACCESSION/SEQUENCE NUMBER")="ACC"
"RTN","ONCBPC1",6,0)
 S TABLE("CLASS OF CASE")="CLA"
"RTN","ONCBPC1",7,0)
 S TABLE("REFERRED FOR TREATMENT TO")="PATR"
"RTN","ONCBPC1",8,0)
 S TABLE("ZIP AT DIAGNOSIS")="ZIP"
"RTN","ONCBPC1",9,0)
 S TABLE("DATE OF BIRTH")="DAT"
"RTN","ONCBPC1",10,0)
 S TABLE("RACE")="RAC"
"RTN","ONCBPC1",11,0)
 S TABLE("SPANISH ORIGIN")="SPA"
"RTN","ONCBPC1",12,0)
 S TABLE("SEX")="SEX"
"RTN","ONCBPC1",13,0)
 S TABLE("PRIMARY PAYER AT DIAGNOSIS")="PRI"
"RTN","ONCBPC1",14,0)
 S TABLE("LENGTH OF STAY")="LEN"
"RTN","ONCBPC1",15,0)
 S TABLE("PATIENT HISTORY OF OTHER CANCER")="PATH"
"RTN","ONCBPC1",16,0)
 S TABLE("FAMILY HISTORY OF CANCER")="FAM"
"RTN","ONCBPC1",17,0)
 S TABLE("SMOKING HISTORY")="SMO"
"RTN","ONCBPC1",18,0)
 S TABLE("DURATION OF SMOKING HISTORY")="DOSH"
"RTN","ONCBPC1",19,0)
 S TABLE("DURATION OF SMOKE-FREE HISTORY")="DOSFH"
"RTN","ONCBPC1",20,0)
 S HTABLE(1)="ACCESSION/SEQUENCE NUMBER"
"RTN","ONCBPC1",21,0)
 S HTABLE(2)="CLASS OF CASE"
"RTN","ONCBPC1",22,0)
 S HTABLE(3)="REFERRED FOR TREATMENT TO"
"RTN","ONCBPC1",23,0)
 S HTABLE(4)="ZIP AT DIAGNOSIS"
"RTN","ONCBPC1",24,0)
 S HTABLE(5)="DATE OF BIRTH"
"RTN","ONCBPC1",25,0)
 S HTABLE(6)="RACE"
"RTN","ONCBPC1",26,0)
 S HTABLE(7)="SPANISH ORIGIN"
"RTN","ONCBPC1",27,0)
 S HTABLE(8)="SEX"
"RTN","ONCBPC1",28,0)
 S HTABLE(9)="PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCBPC1",29,0)
 S HTABLE(10)="LENGTH OF STAY"
"RTN","ONCBPC1",30,0)
 S HTABLE(11)="PATIENT HISTORY OF OTHER CANCER"
"RTN","ONCBPC1",31,0)
 S HTABLE(12)="FAMILY HISTORY OF CANCER"
"RTN","ONCBPC1",32,0)
 S HTABLE(13)="SMOKING HISTORY"
"RTN","ONCBPC1",33,0)
 S HTABLE(14)="DURATION OF SMOKING HISTORY"
"RTN","ONCBPC1",34,0)
 S HTABLE(15)="DURATION OF SMOKE-FREE HISTORY"
"RTN","ONCBPC1",35,0)
 S CHOICES=15
"RTN","ONCBPC1",36,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCBPC1",37,0)
 S ACCSEQ=$P(PRINODE0,U,5)_"/"_$P(PRINODE0,U,6)
"RTN","ONCBPC1",38,0)
 S COCIN=$P(PRINODE0,U,4),Y=COCIN,C=$P(^DD(165.5,.04,0),U,2) D Y^DIQ
"RTN","ONCBPC1",39,0)
 S COCEX=Y
"RTN","ONCBPC1",40,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCBPC1",41,0)
 W @IOF D HEAD^ONCBPC0 W !?25,"TABLE I - GENERAL INFORMATION",!
"RTN","ONCBPC1",42,0)
ACC W !,"ACCESSION/SEQUENCE NUMBER.....: ",ACCSEQ
"RTN","ONCBPC1",43,0)
CLA W !,"CLASS OF CASE.................: ",COCEX
"RTN","ONCBPC1",44,0)
PATR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",45,0)
 S DR="300REFERRED FOR TREATMENT TO....." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",46,0)
ZIP S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",47,0)
 S DR="9ZIP AT DIAGNOSIS.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",48,0)
DAT W !,"DATE OF BIRTH.................: ",DOB
"RTN","ONCBPC1",49,0)
RAC S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBPC1",50,0)
 S DR="8RACE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",51,0)
SPA S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBPC1",52,0)
 S DR="9SPANISH ORIGIN................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",53,0)
SEX S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBPC1",54,0)
 S DR="10SEX..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",55,0)
PRI S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",56,0)
 S DR="18PRIMARY PAYER AT DIAGNOSIS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",57,0)
LEN S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",58,0)
 S DR="301LENGTH OF STAY................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",59,0)
PATH W !!,"PATIENT HISTORY OF OTHER CANCER:",!
"RTN","ONCBPC1",60,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",61,0)
 S DR="302  CERVIX......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",62,0)
 S DR="303  COLON......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",63,0)
 S DR="304  BLADDER....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",64,0)
 S DR="305  HEAD AND NECK..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",65,0)
 S DR="306  KIDNEY......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",66,0)
 S DR="307  PROSTATE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",67,0)
 S DR="308  OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",68,0)
FAM W !!,"FAMILY HISTORY OF CANCER:",!
"RTN","ONCBPC1",69,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",70,0)
 S DR="309  BLADDER....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",71,0)
 S DR="310  COLON......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",72,0)
 S DR="311  LUNG........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",73,0)
 S DR="312  PROSTATE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",74,0)
 S DR="313  OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",75,0)
 W !
"RTN","ONCBPC1",76,0)
SMO S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",77,0)
 S DR="314SMOKING HISTORY (PACKS/DAY)..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",78,0)
DOSH S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",79,0)
 S DR="315DURATION OF SMOKING HISTORY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",80,0)
DOSFH S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC1",81,0)
 S DR="316DURATION OF SMOKE-FREE HISTORY" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC1",82,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC1",83,0)
 G EXIT
"RTN","ONCBPC1",84,0)
JUMP ;Jump to prompts
"RTN","ONCBPC1",85,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC1",86,0)
 I X["?" D  G JUMP
"RTN","ONCBPC1",87,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC1",88,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC1",89,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC1",90,0)
 S X=TABLE(X)
"RTN","ONCBPC1",91,0)
 G @X
"RTN","ONCBPC1",92,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCBPC1",93,0)
 K ACCSEQ,COCIN,COCEX,C,DOB,PRINODE0
"RTN","ONCBPC1",94,0)
 K DA,DR,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBPC1",95,0)
 Q
"RTN","ONCBPC2")
0^25^B12764757
"RTN","ONCBPC2",1,0)
ONCBPC2 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder Table II;6/19/96
"RTN","ONCBPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCBPC2",4,0)
 S TABLE("CLINICAL DETECTION")="CLI"
"RTN","ONCBPC2",5,0)
 S TABLE("ONSET OF SYMPTOMS")="ONS"
"RTN","ONCBPC2",6,0)
 S TABLE("DURATION OF SYMPTOMS BEFORE DIAGNOSIS")="DUR"
"RTN","ONCBPC2",7,0)
 S TABLE("DIAGNOSTIC PROCEDURES")="DIA"
"RTN","ONCBPC2",8,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DAT"
"RTN","ONCBPC2",9,0)
 S TABLE("SPECIALTY MAKING DIAGNOSIS")="SPE"
"RTN","ONCBPC2",10,0)
 S TABLE("PRIMARY SITE (ICD-O-2)")="PRI"
"RTN","ONCBPC2",11,0)
 S TABLE("HISTOLOGY (ICD-O-2)")="HIS"
"RTN","ONCBPC2",12,0)
 S TABLE("GRADE")="GRA"
"RTN","ONCBPC2",13,0)
 S HTABLE(1)="CLINICAL DETECTION"
"RTN","ONCBPC2",14,0)
 S HTABLE(2)="ONSET OF SYMPTOMS"
"RTN","ONCBPC2",15,0)
 S HTABLE(3)="DURATION OF SYMPTOMS BEFORE DIAGNOSIS"
"RTN","ONCBPC2",16,0)
 S HTABLE(4)="DIAGNOSTIC PROCEDURES"
"RTN","ONCBPC2",17,0)
 S HTABLE(5)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCBPC2",18,0)
 S HTABLE(6)="SPECIALTY MAKING DIAGNOSIS"
"RTN","ONCBPC2",19,0)
 S HTABLE(7)="PRIMARY SITE (ICD-O-2)"
"RTN","ONCBPC2",20,0)
 S HTABLE(8)="HISTOLOGY (ICD-O-2)"
"RTN","ONCBPC2",21,0)
 S HTABLE(9)="GRADE"
"RTN","ONCBPC2",22,0)
 S CHOICES=9
"RTN","ONCBPC2",23,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCBPC2",24,0)
 S PRINODE2=$G(^ONCO(165.5,ONCONUM,2))
"RTN","ONCBPC2",25,0)
 S DATEDIA=$P(PRINODE0,U,16),Y=DATEDIA D DATEOT^ONCOPCE S DATEDIA=Y
"RTN","ONCBPC2",26,0)
 S TOPOG=$P(PRINODE2,U,1),(TOPCD,SITE)=""
"RTN","ONCBPC2",27,0)
 I TOPOG'="" S TOPCD=$P(^ONCO(164,TOPOG,0),U,2),SITE=$P(^ONCO(164,TOPOG,0),U,1)
"RTN","ONCBPC2",28,0)
 S HST=$P(PRINODE2,U,3),(HSTCD,HSTNAM)=""
"RTN","ONCBPC2",29,0)
 I HST'="" S HSTCD=$P(^ONCO(164.1,HST,0),U,2),HSTNAM=$P(^ONCO(164.1,HST,0),U,1)
"RTN","ONCBPC2",30,0)
 W @IOF D HEAD^ONCBPC0 W !?24,"TABLE II- DIAGNOSTIC INFORMATION",!
"RTN","ONCBPC2",31,0)
CLI W !,"CLINICAL DETECTION:",!
"RTN","ONCBPC2",32,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC2",33,0)
 S DR="317  GROSS HEMATURIA................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",34,0)
 S DR="318  MICROSCOPIC HEMATURIA.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",35,0)
 S DR="319  URINARY FREQUENCY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",36,0)
 S DR="320  BLADDER IRRITABILITY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",37,0)
 S DR="321  DYSURIA........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",38,0)
 S DR="322  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",39,0)
 W !
"RTN","ONCBPC2",40,0)
ONS S DR="323ONSET OF SYMPTOMS................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",41,0)
DUR W !!,"DURATION OF SYMPTOMS (months) BEFORE DIAGNOSIS:",!
"RTN","ONCBPC2",42,0)
 S DR="324  GROSS HEMATURIA................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",43,0)
 S DR="325  DYSURIA........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",44,0)
DIA W !!,"DIAGNOSTIC PROCEDURES:",!
"RTN","ONCBPC2",45,0)
 S DR="326  BIMANUAL EXAMINATION OF BLADDER" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",46,0)
 S DR="327  CYSTOSCOPY WITH BIOPSY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",47,0)
 S DR="328  CYSTOSCOPY WITHOUT BIOPSY......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",48,0)
 S DR="329  FLOW CYTOMETRY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",49,0)
 S DR="330  INTRAVENOUS PYELOGRAM.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",50,0)
 S DR="331  URINE CYTOLOGY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",51,0)
 S DR="332  URINALYSIS....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",52,0)
 S DR="333  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",53,0)
 W !
"RTN","ONCBPC2",54,0)
DAT W !,"DATE OF INITIAL DIAGNOSIS........: ",DATEDIA
"RTN","ONCBPC2",55,0)
SPE S DR="334SPECIALTY MAKING DIAGNOSIS......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",56,0)
PRI W !,"PRIMARY SITE (ICD-O-2)...........: ",TOPCD,"  ",SITE
"RTN","ONCBPC2",57,0)
HIS W !,"HISTOLOGY (ICD-O-2)..............: ",HSTCD," ",HSTNAM
"RTN","ONCBPC2",58,0)
GRA S DR="24GRADE............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC2",59,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC2",60,0)
 G EXIT
"RTN","ONCBPC2",61,0)
JUMP ;Jump to prompts
"RTN","ONCBPC2",62,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC2",63,0)
 I X["?" D  G JUMP
"RTN","ONCBPC2",64,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC2",65,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC2",66,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC2",67,0)
 S X=TABLE(X)
"RTN","ONCBPC2",68,0)
 G @X
"RTN","ONCBPC2",69,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCBPC2",70,0)
 K DATEDIA,HST,HSTCD,HSTNAM,PRINODE0,PRINODE2,TOPOG,TOPCD,SITE
"RTN","ONCBPC2",71,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBPC2",72,0)
 Q
"RTN","ONCBPC3")
0^26^B14635274
"RTN","ONCBPC3",1,0)
ONCBPC3 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder Table III;6/19/96
"RTN","ONCBPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCBPC3",4,0)
 S TABLE("STAGING PROCEDURES")="STA"
"RTN","ONCBPC3",5,0)
 S TABLE("PRESENCE OF HYDRONEPHROSIS")="POH"
"RTN","ONCBPC3",6,0)
 S TABLE("TUMOR SIZE (mm)")="TUM"
"RTN","ONCBPC3",7,0)
 S TABLE("PRESENCE OF MULTIPLE TUMORS")="POMT"
"RTN","ONCBPC3",8,0)
 S TABLE("REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCBPC3",9,0)
 S TABLE("REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCBPC3",10,0)
 S TABLE("SITES OF DISTANT METASTASIS")="SODM"
"RTN","ONCBPC3",11,0)
 S TABLE("AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCBPC3",12,0)
 S TABLE("AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCBPC3",13,0)
 S TABLE("STAGED BY")="SB"
"RTN","ONCBPC3",14,0)
 S HTABLE(1)="STAGING PROCEDURES"
"RTN","ONCBPC3",15,0)
 S HTABLE(2)="PRESENCE OF HYDRONEPHROSIS"
"RTN","ONCBPC3",16,0)
 S HTABLE(3)="TUMOR SIZE (mm)"
"RTN","ONCBPC3",17,0)
 S HTABLE(4)="PRESENCE OF MULTIPLE TUMORS"
"RTN","ONCBPC3",18,0)
 S HTABLE(5)="REGIONAL NODES EXAMINED"
"RTN","ONCBPC3",19,0)
 S HTABLE(6)="REGIONAL NODES POSITIVE"
"RTN","ONCBPC3",20,0)
 S HTABLE(7)="SITES OF DISTANT METASTASIS"
"RTN","ONCBPC3",21,0)
 S HTABLE(8)="AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCBPC3",22,0)
 S HTABLE(9)="AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCBPC3",23,0)
 S HTABLE(10)="STAGED BY"
"RTN","ONCBPC3",24,0)
 S CHOICES=10
"RTN","ONCBPC3",25,0)
 W @IOF D HEAD^ONCBPC0
"RTN","ONCBPC3",26,0)
 W !?18,"TABLE III- EXTENT OF DISEASE AND AJCC STAGE",!
"RTN","ONCBPC3",27,0)
STA W !,"STAGING PROCEDURES:",!
"RTN","ONCBPC3",28,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC3",29,0)
 S DR="335  ABDOMINAL ULTRASOUND........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",30,0)
 S DR="336  BONE IMAGING................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",31,0)
 S DR="337  CHEST X-RAY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",32,0)
 S DR="338  CT CHEST/LUNG................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",33,0)
 S DR="339  CT ABDOMEN/PELVIS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",34,0)
 S DR="340  CT OTHER....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",35,0)
 S DR="341  MRI PELVIS/ABDOMEN..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",36,0)
 S DR="342  MRI OTHER...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",37,0)
 S DR="343  OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",38,0)
 W !
"RTN","ONCBPC3",39,0)
POH S DR="344PRESENCE OF HYDRONEPHROSIS....." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",40,0)
TUM S DR="29TUMOR SIZE (mm)................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",41,0)
POMT S DR="345PRESENCE OF MULTIPLE TUMORS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",42,0)
RNE S DR="33REGIONAL NODES EXAMINED........" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",43,0)
RNP S DR="32REGIONAL NODES POSITIVE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",44,0)
SODM W !!,"SITES OF DISTANT METASTASIS:",!
"RTN","ONCBPC3",45,0)
 S DR="34  SITE OF DISTANT METASTASIS #1" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",46,0)
 I X=0 D  G ACS
"RTN","ONCBPC3",47,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,15)=0
"RTN","ONCBPC3",48,0)
 .W !,"  SITE OF DISTANT METASTASIS #2: None"
"RTN","ONCBPC3",49,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,16)=0
"RTN","ONCBPC3",50,0)
 .W !,"  SITE OF DISTANT METASTASIS #3: None"
"RTN","ONCBPC3",51,0)
 S DR="34.1  SITE OF DISTANT METASTASIS #2" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",52,0)
 I X=0 D  G ACS
"RTN","ONCBPC3",53,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,16)=0
"RTN","ONCBPC3",54,0)
 .W !,"  SITE OF DISTANT METASTASIS #3: None"
"RTN","ONCBPC3",55,0)
 S DR="34.2  SITE OF DISTANT METASTASIS #3" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",56,0)
ACS W !!,"AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCBPC3",57,0)
 S DR="37.1  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",58,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCBPC3",59,0)
 S DR="37.2  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",60,0)
 S DR="37.3  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",61,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCBPC3",62,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCBPC3",63,0)
 ;W ! S DR="38AJCC STAGE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",64,0)
APS W !,"AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCBPC3",65,0)
 S DR="85  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",66,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCBPC3",67,0)
 S DR="86  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",68,0)
 S DR="87  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",69,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCBPC3",70,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCBPC3",71,0)
 ;W ! S DR="88AJCC STAGE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",72,0)
SB W !,"STAGED BY:",!
"RTN","ONCBPC3",73,0)
 S DR="19  CLINICAL STAGE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",74,0)
 S DR="89  PATHOLOGIC STAGE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC3",75,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC3",76,0)
 G EXIT
"RTN","ONCBPC3",77,0)
JUMP ;Jump to prompts
"RTN","ONCBPC3",78,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC3",79,0)
 I X["?" D  G JUMP
"RTN","ONCBPC3",80,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC3",81,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC3",82,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC3",83,0)
 S X=TABLE(X)
"RTN","ONCBPC3",84,0)
 G @X
"RTN","ONCBPC3",85,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCBPC3",86,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBPC3",87,0)
 Q
"RTN","ONCBPC4")
0^27^B21169006
"RTN","ONCBPC4",1,0)
ONCBPC4 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder Table IV;6/19/96
"RTN","ONCBPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCBPC4",4,0)
 S TABLE("DATE OF INITIAL TREATMENT")="DOIT^ONCBPC4"
"RTN","ONCBPC4",5,0)
 S TABLE("PROTOCOL ELIGIBILITY STATUS")="PES^ONCBPC4"
"RTN","ONCBPC4",6,0)
 S TABLE("MANAGING PHYSICIANS")="MP^ONCBPC4"
"RTN","ONCBPC4",7,0)
 S TABLE("SURGERY")="SUR^ONCBPC4"
"RTN","ONCBPC4",8,0)
 S TABLE("RADIATION THERAPY")="RAD^ONCBPC4A"
"RTN","ONCBPC4",9,0)
 S TABLE("CHEMOTHERAPY")="CHEMO^ONCBPC4A"
"RTN","ONCBPC4",10,0)
 S TABLE("IMMUNOTHERAPY")="BRM^ONCBPC4A"
"RTN","ONCBPC4",11,0)
 S HTABLE(1)="DATE OF INITIAL TREATMENT"
"RTN","ONCBPC4",12,0)
 S HTABLE(2)="PROTOCOL ELIGIBILITY STATUS"
"RTN","ONCBPC4",13,0)
 S HTABLE(3)="MANAGING PHYSICIANS"
"RTN","ONCBPC4",14,0)
 S HTABLE(4)="SURGERY"
"RTN","ONCBPC4",15,0)
 S HTABLE(5)="RADIATION THERAPY"
"RTN","ONCBPC4",16,0)
 S HTABLE(6)="CHEMOTHERAPY"
"RTN","ONCBPC4",17,0)
 S HTABLE(7)="IMMUNOTHERAPY"
"RTN","ONCBPC4",18,0)
 S CHOICES=7
"RTN","ONCBPC4",19,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCBPC4",20,0)
 S DIC="^ONCO(165.5,",DR="51.2;53.2;55.2;58.1;58.2",DA=ONCONUM,DIQ="ONC"
"RTN","ONCBPC4",21,0)
 S DIQ(0)="IE" D EN^DIQ1
"RTN","ONCBPC4",22,0)
 W @IOF D HEAD^ONCBPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCBPC4",23,0)
DOIT W !,"DATE OF INITIAL TREATMENT...........: ",DOIT
"RTN","ONCBPC4",24,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC4",25,0)
PES S DR="346PROTOCOL ELIGIBILITY STATUS........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",26,0)
MP W !!,"MANAGING PHYSICIANS:",!
"RTN","ONCBPC4",27,0)
 S DR="347  PRIMARY PHYSICIAN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",28,0)
 S DR="348  SECONDARY PHYSICIAN..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",29,0)
SUR W !!,"SURGERY:",!
"RTN","ONCBPC4",30,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"I"),NCDSOT=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCBPC4",31,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"I"),CDSOT=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCBPC4",32,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCBPC4",33,0)
 .S SURG=NCDSOT,SURGDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCBPC4",34,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCBPC4",35,0)
 .S SURG=CDSOT,SURGDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCBPC4",36,0)
 S (SURG1,SURG2)="",LOS=$L(SURG) I LOS<43 S SURG1=SURG G DOS
"RTN","ONCBPC4",37,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCBPC4",38,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCBPC4",39,0)
DOS S Y=SURGDT D DATEOT^ONCOPCE S SURGDT=Y
"RTN","ONCBPC4",40,0)
 W !,"  DATE OF SURGERY...................: ",SURGDT
"RTN","ONCBPC4",41,0)
 W !,"  TYPE OF SURGERY...................: ",SURG1
"RTN","ONCBPC4",42,0)
 W:SURG2'="" !,?41,SURG2
"RTN","ONCBPC4",43,0)
TURB I (SURG="")!($E(SURG,1)=0)!($E(SURG,1,2)'=10)!(TOPCOD="C68.0") D  G TOUD
"RTN","ONCBPC4",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,4)=8
"RTN","ONCBPC4",45,0)
 .W !,"  TUMOR RESECTION DURING TURB.......: Not applicable"
"RTN","ONCBPC4",46,0)
 S DR="349  TUMOR RESECTION DURING TURB......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",47,0)
TOUD I (SURG="")!($E(SURG,1)=0)!($E(SURG,1,2)<20)!($E(SURG,1,2)>70) D  G PLND
"RTN","ONCBPC4",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,5)=8
"RTN","ONCBPC4",49,0)
 .W !,"  TYPE OF URINARY DIVERSION.........: Not applicable"
"RTN","ONCBPC4",50,0)
 S DR="350  TYPE OF URINARY DIVERSION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",51,0)
PLND I (SURG="")!($E(SURG,1)=0)!($E(SURG,1,2)'=70) D  G SC
"RTN","ONCBPC4",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,6)=8
"RTN","ONCBPC4",53,0)
 .W !,"  PELVIC LYMPH NODE DISSECTION......: Not applicable"
"RTN","ONCBPC4",54,0)
 S DR="351  PELVIC LYMPH NODE DISSECTION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",55,0)
SC I (SURG="")!($E(SURG,1)=0) D  G:(Y=0)!(Y="") EXIT W @IOF G RAD^ONCBPC4A
"RTN","ONCBPC4",56,0)
 .W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCBPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,7)=0
"RTN","ONCBPC4",58,0)
 .W !,"    BLEEDING REQUIRING TRANSFUSION..: No"
"RTN","ONCBPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,8)=0
"RTN","ONCBPC4",60,0)
 .W !,"    DEEP VENOUS THROMBOSIS..........: No"
"RTN","ONCBPC4",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,9)=0
"RTN","ONCBPC4",62,0)
 .W !,"    MYOCARDIAL INFARCTION/ARRHYTHMIA: No"
"RTN","ONCBPC4",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,10)=0
"RTN","ONCBPC4",64,0)
 .W !,"    PELVIC ABSCESS..................: No"
"RTN","ONCBPC4",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,11)=0
"RTN","ONCBPC4",66,0)
 .W !,"    PNEUMONIA REQUIRING ANTIBIOTICS.: No"
"RTN","ONCBPC4",67,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,12)=0
"RTN","ONCBPC4",68,0)
 .W !,"    POST-OPERATIVE DEATH (30 DAYS)..: No"
"RTN","ONCBPC4",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,13)=0
"RTN","ONCBPC4",70,0)
 .W !,"    PULMONARY EMBOLISM/THROMBOSIS...: No"
"RTN","ONCBPC4",71,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,14)=0
"RTN","ONCBPC4",72,0)
 .W !,"    REOPERATION.....................: No"
"RTN","ONCBPC4",73,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,15)=0
"RTN","ONCBPC4",74,0)
 .W !,"    OTHER...........................: No"
"RTN","ONCBPC4",75,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4",76,0)
 W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCBPC4",77,0)
 S DR="352    BLEEDING REQUIRING TRANSFUSION.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",78,0)
 S DR="353    DEEP VENOUS THROMBOSIS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",79,0)
 S DR="354    MYOCARDIAL INFARCTION/ARRHYTHMIA" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",80,0)
 S DR="355    PELVIC ABSCESS.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",81,0)
 S DR="356    PNEUMONIA REQUIRING ANTIBIOTICS." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",82,0)
 S DR="357    POST-OPERATIVE DEATH (30 DAYS).." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",83,0)
 S DR="358    PULMONARY EMBOLISM/THROMBOSIS..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",84,0)
 S DR="359    REOPERATION....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",85,0)
 S DR="360    OTHER..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4",86,0)
 G ^ONCBPC4A
"RTN","ONCBPC4",87,0)
JUMP ;Jump to prompts
"RTN","ONCBPC4",88,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC4",89,0)
 I X["?" D  G JUMP
"RTN","ONCBPC4",90,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4",91,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC4",92,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4",93,0)
 S X=TABLE(X)
"RTN","ONCBPC4",94,0)
 G @X
"RTN","ONCBPC4",95,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBPC4",96,0)
 K CDS,CDSOT,CHEDT,CHEMO,DOIT,LOS,NCDS,NCDSOT,NOP,RAD,RADDT,SURG,SURG1
"RTN","ONCBPC4",97,0)
 K SURG2,SURGDT
"RTN","ONCBPC4",98,0)
 K DIC
"RTN","ONCBPC4",99,0)
 Q
"RTN","ONCBPC4A")
0^28^B38587962
"RTN","ONCBPC4A",1,0)
ONCBPC4A ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder Table IV;6/19/96
"RTN","ONCBPC4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC4A",3,0)
RAD W !!,"RADIATION THERAPY:",!
"RTN","ONCBPC4A",4,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I"),RADOT=ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCBPC4A",5,0)
 W !,"  RADIATION THERAPY.................: ",RADOT
"RTN","ONCBPC4A",6,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCBPC4A",7,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCBPC4A",8,0)
 W !,"  DATE RADIATION THERAPY STARTED....: ",RADDT
"RTN","ONCBPC4A",9,0)
 I (RAD=0)!(RAD=7) D  G:(Y=0)!(Y="") EXIT W @IOF G CHEMO
"RTN","ONCBPC4A",10,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000" ; 2/2/98 WAA
"RTN","ONCBPC4A",11,0)
 .W !,"  DATE RADIATION THERAPY ENDED......: 00/00/0000"
"RTN","ONCBPC4A",12,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=0
"RTN","ONCBPC4A",13,0)
 .W !,"  TOTAL RAD (cGy/rad) DOSE..........: 00000"
"RTN","ONCBPC4A",14,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,18)=1
"RTN","ONCBPC4A",15,0)
 .W !,"  REGIONAL TREATMENT MODALITY.......: No radiation therapy"
"RTN","ONCBPC4A",16,0)
 .W !!,"  RADIATION COMPLICATIONS:",!
"RTN","ONCBPC4A",17,0)
 .F PIECE=19:1:21 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=8
"RTN","ONCBPC4A",18,0)
 .W !,"    URINARY INCONTINENCE............: Not applicable"
"RTN","ONCBPC4A",19,0)
 .W !,"    HEMATURIA.......................: Not applicable"
"RTN","ONCBPC4A",20,0)
 .W !,"    RADIATION BOWEL INJURY..........: Not applicable"
"RTN","ONCBPC4A",21,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",22,0)
 I (RAD=8)!(RAD=9) D  G:(Y=0)!(Y="") EXIT W @IOF G CHEMO
"RTN","ONCBPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)=9999999 ; 2/2/98 WAA
"RTN","ONCBPC4A",24,0)
 .W !,"  DATE RADIATION THERAPY ENDED......: 99/99/9999"
"RTN","ONCBPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=99999
"RTN","ONCBPC4A",26,0)
 .W !,"  TOTAL RAD (cGy/rad) DOSE..........: 99999"
"RTN","ONCBPC4A",27,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,18)=19
"RTN","ONCBPC4A",28,0)
 .W !,"  REGIONAL TREATMENT MODALITY.......: Unknown"
"RTN","ONCBPC4A",29,0)
 .W !!,"  RADIATION COMPLICATIONS:",!
"RTN","ONCBPC4A",30,0)
 .F PIECE=19:1:21 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=9
"RTN","ONCBPC4A",31,0)
 .W !,"    URINARY INCONTINENCE............: Unknown"
"RTN","ONCBPC4A",32,0)
 .W !,"    HEMATURIA.......................: Unknown"
"RTN","ONCBPC4A",33,0)
 .W !,"    RADIATION BOWEL INJURY..........: Unknown"
"RTN","ONCBPC4A",34,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",35,0)
 S DR="361  DATE RADIATION THERAPY ENDED......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",36,0)
 S DR="362  TOTAL RAD (cGy/rad) DOSE.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",37,0)
 S DR="363  REGIONAL TREATMENT MODALITY......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",38,0)
 W !!,"  RADIATION COMPLICATIONS:",!
"RTN","ONCBPC4A",39,0)
 S DR="364    URINARY INCONTINENCE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",40,0)
 S DR="365    HEMATURIA......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",41,0)
 S DR="366    RADIATION BOWEL INJURY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",42,0)
CHEMO W !!,"CHEMOTHERAPY:",!
"RTN","ONCBPC4A",43,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCBPC4A",44,0)
 W !,"  CHEMOTHERAPY......................: ",CHEMOT
"RTN","ONCBPC4A",45,0)
 S CHEDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,11)
"RTN","ONCBPC4A",46,0)
 S Y=CHEDT D DATEOT^ONCOPCE S CHEDT=Y
"RTN","ONCBPC4A",47,0)
 W !,"  DATE CHEMOTHERAPY STARTED.........: ",CHEDT
"RTN","ONCBPC4A",48,0)
 I (CHEMO=0)!(CHEMO=7) D  G:(Y=0)!(Y="") EXIT W @IOF G BRM
"RTN","ONCBPC4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,22)="0000000" ; 2/2/98 WAA
"RTN","ONCBPC4A",50,0)
 .W !,"  DATE CHEMOTHERAPY ENDED...........: 00/00/0000"
"RTN","ONCBPC4A",51,0)
 .F PIECE=23:1:36 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=0
"RTN","ONCBPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCBPC4A",53,0)
 .W !,"  ROUTE CHEMOTHERAPY ADMINISTERED...: No chemotherapy"
"RTN","ONCBPC4A",54,0)
 .W !!,"  TYPES OF AGENTS ADMINISTERED:",!
"RTN","ONCBPC4A",55,0)
 .W !,"    ADRIAMYCIN......: None      IFOSFAMIDE......: None"
"RTN","ONCBPC4A",56,0)
 .W !,"    CARBOPLATINUM...: None      METHOTREXATE....: None"
"RTN","ONCBPC4A",57,0)
 .W !,"    CISPLATIN.......: None      TAXOL...........: None"
"RTN","ONCBPC4A",58,0)
 .W !,"    CYCLOPHOSPHAMIDE: None      THIOTEPA........: None"
"RTN","ONCBPC4A",59,0)
 .W !,"    5-FLUOROURACIL..: None      VINBLASTINE.....: None"
"RTN","ONCBPC4A",60,0)
 .W !,"    GALLIUM NITRATE.: None      OTHER...........: None"
"RTN","ONCBPC4A",61,0)
 .W !!,"  INDICATION FOR ADMIN OF AGENTS....: No agents administered, NA"
"RTN","ONCBPC4A",62,0)
 .W !!,"  REASON CHEMOTHERAPY STOPPED.......: Treatment completed, NA"
"RTN","ONCBPC4A",63,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",64,0)
 I (CHEMO=8)!(CHEMO=9) D  G:(Y=0)!(Y="") EXIT W @IOF G BRM
"RTN","ONCBPC4A",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,22)=9999999 ; 2/2/98 WAA
"RTN","ONCBPC4A",66,0)
 .W !,"  DATE CHEMOTHERAPY ENDED...........: 99/99/9999"
"RTN","ONCBPC4A",67,0)
 .F PIECE=23:1:36 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=9
"RTN","ONCBPC4A",68,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=9
"RTN","ONCBPC4A",69,0)
 .W !,"  ROUTE CHEMOTHERAPY ADMINISTERED...: Unknown"
"RTN","ONCBPC4A",70,0)
 .W !!,"  TYPES OF AGENTS ADMINISTERED:",!
"RTN","ONCBPC4A",71,0)
 .W !,"    ADRIAMYCIN......: Unknown   IFOSFAMIDE......: Unknown"
"RTN","ONCBPC4A",72,0)
 .W !,"    CARBOPLATINUM...: Unknown   METHOTREXATE....: Unknown"
"RTN","ONCBPC4A",73,0)
 .W !,"    CISPLATIN.......: Unknown   TAXOL...........: Unknown"
"RTN","ONCBPC4A",74,0)
 .W !,"    CYCLOPHOSPHAMIDE: Unknown   THIOTEPA........: Unknown"
"RTN","ONCBPC4A",75,0)
 .W !,"    5-FLUOROURACIL..: Unknown   VINBLASTINE.....: Unknown"
"RTN","ONCBPC4A",76,0)
 .W !,"    GALLIUM NITRATE.: Unknown   OTHER...........: Unknown"
"RTN","ONCBPC4A",77,0)
 .W !!,"  INDICATION FOR ADMIN OF AGENTS....: Unknown"
"RTN","ONCBPC4A",78,0)
 .W !!,"  REASON CHEMOTHERAPY STOPPED.......: Unknown"
"RTN","ONCBPC4A",79,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",80,0)
 S DR="367  DATE CHEMOTHERAPY ENDED..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",81,0)
 S DR="368  ROUTE CHEMOTHERAPY ADMINISTERED..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",82,0)
 W !!,"  TYPES OF AGENTS ADMINISTERED:",!
"RTN","ONCBPC4A",83,0)
 S DR="369    ADRIAMYCIN......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",84,0)
 S DR="370    CARBOPLATINUM..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",85,0)
 S DR="371    CISPLATIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",86,0)
 S DR="372    CYCLOPHOSPHAMIDE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",87,0)
 S DR="373    5-FLUOROURACIL.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",88,0)
 S DR="374    GALLIUM NITRATE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",89,0)
 S DR="375    IFOSFAMIDE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",90,0)
 S DR="376    METHOTREXATE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",91,0)
 S DR="377    TAXOL..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",92,0)
 S DR="378    THIOTEPA........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",93,0)
 S DR="379    VINBLASTINE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",94,0)
 S DR="380    OTHER AGENT....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",95,0)
 W !
"RTN","ONCBPC4A",96,0)
 S DR="381  INDICATION FOR ADMIN OF AGENTS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",97,0)
 S DR="382  REASON CHEMOTHERAPY STOPPED......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",98,0)
BRM W !!,"IMMUNOTHERAPY:",!
"RTN","ONCBPC4A",99,0)
 S BRM=ONC(165.5,ONCONUM,55.2,"I"),BRMOT=ONC(165.5,ONCONUM,55.2,"E")
"RTN","ONCBPC4A",100,0)
 W !,"  IMMUNOTHERAPY (BRM)...............: ",BRMOT
"RTN","ONCBPC4A",101,0)
 W !!,"  TYPE OF IMMUNOTHERAPY (BRM):",!
"RTN","ONCBPC4A",102,0)
 I (BRM=6)!(BRM=7) D  W ! K DIR S DIR(0)="E" D ^DIR G EXIT
"RTN","ONCBPC4A",103,0)
 .F PIECE=37:1:40 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=0
"RTN","ONCBPC4A",104,0)
 .W !,"    BCG......................: None"
"RTN","ONCBPC4A",105,0)
 .W !,"    INTERFERON...............: None"
"RTN","ONCBPC4A",106,0)
 .W !,"    INTERLEUKIN-II...........: None"
"RTN","ONCBPC4A",107,0)
 .W !,"    OTHER....................: None"
"RTN","ONCBPC4A",108,0)
 I (BRM=8)!(BRM=9) D  W ! K DIR S DIR(0)="E" D ^DIR G EXIT
"RTN","ONCBPC4A",109,0)
 .F PIECE=37:1:40 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,PIECE)=9
"RTN","ONCBPC4A",110,0)
 .W !,"    BCG......................: Unknown"
"RTN","ONCBPC4A",111,0)
 .W !,"    INTERFERON...............: Unknown"
"RTN","ONCBPC4A",112,0)
 .W !,"    INTERLEUKIN-II...........: Unknown"
"RTN","ONCBPC4A",113,0)
 .W !,"    OTHER....................: Unknown"
"RTN","ONCBPC4A",114,0)
 S DR="383    BCG............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",115,0)
 S DR="384    INTERFERON......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",116,0)
 S DR="385    INTERLEUKIN-II.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",117,0)
 S DR="386    OTHER..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC4A",118,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC4A",119,0)
 G EXIT
"RTN","ONCBPC4A",120,0)
JUMP ;Jump to prompts
"RTN","ONCBPC4A",121,0)
 S XX="" R !!,"GO TO: ",X:DTIME G:(X="")!(X[U) EXIT
"RTN","ONCBPC4A",122,0)
 I X["?" D  G JUMP
"RTN","ONCBPC4A",123,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4A",124,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC4A",125,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC4A",126,0)
 S X=TABLE(X)
"RTN","ONCBPC4A",127,0)
 G @X
"RTN","ONCBPC4A",128,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBPC4A",129,0)
 K BRM,CDS,CDSOT,CHEDT,CHEMO,DOIT,LOS,NCDS,NCDSOT,NOP,PIECE,RAD,RADDT
"RTN","ONCBPC4A",130,0)
 K SURG,SURG1,SURG2,SURGDT,Z
"RTN","ONCBPC4A",131,0)
 K DIC
"RTN","ONCBPC4A",132,0)
 Q
"RTN","ONCBPC5")
0^29^B4450409
"RTN","ONCBPC5",1,0)
ONCBPC5 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder - Table V;7/22/96
"RTN","ONCBPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC5",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCBPC5",4,0)
 S TABLE("TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCBPC5",5,0)
 S TABLE("DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCBPC5",6,0)
 S TABLE("DISTANT SITE(S) OF FIRST RECURRENCE")="DSOFR"
"RTN","ONCBPC5",7,0)
 S HTABLE(1)="TYPE OF FIRST RECURRENCE"
"RTN","ONCBPC5",8,0)
 S HTABLE(2)="DATE OF FIRST RECURRENCE"
"RTN","ONCBPC5",9,0)
 S HTABLE(3)="DISTANT SITE(S) OF FIRST RECURRENCE"
"RTN","ONCBPC5",10,0)
 S CHOICES=3
"RTN","ONCBPC5",11,0)
 W @IOF D HEAD^ONCBPC0 W !?27,"TABLE V - FIRST RECURRENCE",!
"RTN","ONCBPC5",12,0)
 S DIC="^ONCO(165.5,",DR="70",DA=ONCONUM,DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCBPC5",13,0)
TOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC5",14,0)
 S DR="387TYPE OF FIRST RECURRENCE/BLADDER.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC5",15,0)
 ;W !,"DATE OF FIRST RECURRENCE..........: ",ONC(165.5,ONCONUM,70,"E")
"RTN","ONCBPC5",16,0)
DOFR S DR="70DATE OF FIRST RECURRENCE......... " D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC5",17,0)
DSOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC5",18,0)
 W !!,"DISTANT SITE(S) OF RECURRENCE:",!
"RTN","ONCBPC5",19,0)
 S DR="71.1  RECURRENCE SITE 1..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC5",20,0)
 I X=0 D  G PRTC
"RTN","ONCBPC5",21,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,4)=0
"RTN","ONCBPC5",22,0)
 .W !,"  RECURRENCE SITE 2...........: None"
"RTN","ONCBPC5",23,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,5)=0
"RTN","ONCBPC5",24,0)
 .W !,"  RECURRENCE SITE 3...........: None"
"RTN","ONCBPC5",25,0)
 S DR="71.2  RECURRENCE SITE 2..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC5",26,0)
 I X=0 D  G PRTC
"RTN","ONCBPC5",27,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,5)=0
"RTN","ONCBPC5",28,0)
 .W !,"  RECURRENCE SITE 3...........: None"
"RTN","ONCBPC5",29,0)
 S DR="71.3  RECURRENCE SITE 3..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC5",30,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC5",31,0)
 G EXIT
"RTN","ONCBPC5",32,0)
JUMP ;Jump to prompts
"RTN","ONCBPC5",33,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC5",34,0)
 I X["?" D  G JUMP
"RTN","ONCBPC5",35,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC5",36,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC5",37,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC5",38,0)
 S X=TABLE(X)
"RTN","ONCBPC5",39,0)
 G @X
"RTN","ONCBPC5",40,0)
EXIT K CHOICES,HTABLE,ONC,TABLE
"RTN","ONCBPC5",41,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBPC5",42,0)
 Q
"RTN","ONCBPC6")
0^30^B4771682
"RTN","ONCBPC6",1,0)
ONCBPC6 ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder - Table VI;7/22/96
"RTN","ONCBPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC6",3,0)
 K TABLE,HTABLE
"RTN","ONCBPC6",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCBPC6",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCBPC6",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCBPC6",7,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCBPC6",8,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCBPC6",9,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCBPC6",10,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCBPC6",11,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCBPC6",12,0)
 S HTABLE(4)="COMPLETED BY"
"RTN","ONCBPC6",13,0)
 S HTABLE(5)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCBPC6",14,0)
 S CHOICES=5
"RTN","ONCBPC6",15,0)
 W @IOF D HEAD^ONCPPC0 W !?23,"TABLE VI - STATUS AT LAST CONTACT",!
"RTN","ONCBPC6",16,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCBPC6",17,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCBPC6",18,0)
 W !,"DATE OF LAST CONTACT OR DEATH.......: ",DLC
"RTN","ONCBPC6",19,0)
VS S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBPC6",20,0)
 S DR="15VITAL STATUS........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC6",21,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCBPC6",22,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCBPC6",23,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCBPC6",24,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCBPC6",25,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCBPC6",26,0)
 W !,"CANCER STATUS.......................: ",CS
"RTN","ONCBPC6",27,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC6",28,0)
 S DR="81COMPLETED BY........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC6",29,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBPC6",30,0)
 S DR="82REVIEWED BY CANCER COMMITTEE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCBPC6",31,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC6",32,0)
 G EXIT
"RTN","ONCBPC6",33,0)
JUMP ;Jump to prompts
"RTN","ONCBPC6",34,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBPC6",35,0)
 I X["?" D  G JUMP
"RTN","ONCBPC6",36,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC6",37,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBPC6",38,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBPC6",39,0)
 S X=TABLE(X)
"RTN","ONCBPC6",40,0)
 G @X
"RTN","ONCBPC6",41,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBPC6",42,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCBPC6",43,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBPC6",44,0)
 Q
"RTN","ONCBPC8")
0^31^B47081923
"RTN","ONCBPC8",1,0)
ONCBPC8 ;Hines OIFO/GWB - PCE Study of Cancers of the Urinary Bladder ;05/30/00
"RTN","ONCBPC8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC8",3,0)
 ;Print
"RTN","ONCBPC8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCBPC8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCBPC8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCBPC8",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6)
"RTN","ONCBPC8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCBPC8",9,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCBPC8",10,0)
 D HDR W !?15,TABLE,!
"RTN","ONCBPC8",11,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCBPC8",12,0)
 S ACCSEQ=$P(PRINODE0,U,5)_"/"_$P(PRINODE0,U,6)
"RTN","ONCBPC8",13,0)
 S IEN=ONCONUM
"RTN","ONCBPC8",14,0)
 K DIQ S DIC="^ONCO(160,",DR="3;9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCBPC8",15,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCBPC8",16,0)
 S DR=".04;.1;.12;3;9;18;19;20;22;24;29;32;33;34;34.1;34.2;37.1;37.2;37.3;38;50;51;51.2;53;53.2;55.2;58.1;58.2;58.3;70;71.1;71.2;71.3;81;82;85;86;87;88;89;300:387"
"RTN","ONCBPC8",17,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCBPC8",18,0)
 W !,"ACCESSION/SEQUENCE NUMBER...........: ",ACCSEQ D P Q:EX=U
"RTN","ONCBPC8",19,0)
 W !,"CLASS OF CASE.......................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCBPC8",20,0)
 W !,"PATIENT REFERRED FOR TREATMENT......: ",ONC(165.5,IEN,300) D P Q:EX=U
"RTN","ONCBPC8",21,0)
 W !,"ZIP CODE AT DIAGNOSIS...............: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCBPC8",22,0)
 W !,"BIRTHDATE...........................: ",ONC(160,ONCOPA,3) D P Q:EX=U
"RTN","ONCBPC8",23,0)
 W !,"RACE................................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCBPC8",24,0)
 W !,"SPANISH ORIGIN......................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCBPC8",25,0)
 W !,"SEX.................................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCBPC8",26,0)
 W !,"PRIMARY PAYER AT DIAGNOSIS..........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCBPC8",27,0)
 W !,"LENGTH OF STAY......................: ",ONC(165.5,IEN,301)
"RTN","ONCBPC8",28,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G PHOOC
"RTN","ONCBPC8",29,0)
 D P Q:EX=U
"RTN","ONCBPC8",30,0)
PHOOC W !!,"PATIENT HISTORY OF OTHER CANCER:",?41,"FAMILY HISTORY OF CANCER:",! D P Q:EX=U
"RTN","ONCBPC8",31,0)
 W !,"  CERVIX.......: ",ONC(165.5,IEN,302),?41,"  BLADDER......: ",ONC(165.5,IEN,309) D P Q:EX=U
"RTN","ONCBPC8",32,0)
 W !,"  COLON........: ",ONC(165.5,IEN,303),?41,"  COLON........: ",ONC(165.5,IEN,310) D P Q:EX=U
"RTN","ONCBPC8",33,0)
 W !,"  BLADDER......: ",ONC(165.5,IEN,304),?41,"  LUNG.........: ",ONC(165.5,IEN,311) D P Q:EX=U
"RTN","ONCBPC8",34,0)
 W !,"  HEAD AND NECK: ",ONC(165.5,IEN,305),?41,"  PROSTATE.....: ",ONC(165.5,IEN,312) D P Q:EX=U
"RTN","ONCBPC8",35,0)
 W !,"  KIDNEY.......: ",ONC(165.5,IEN,306),?41,"  OTHER........: ",ONC(165.5,IEN,313) D P Q:EX=U
"RTN","ONCBPC8",36,0)
 W !,"  PROSTATE.....: ",ONC(165.5,IEN,307) D P Q:EX=U
"RTN","ONCBPC8",37,0)
 W !,"  OTHER........: ",ONC(165.5,IEN,308) D P Q:EX=U
"RTN","ONCBPC8",38,0)
 W !!,"SMOKING HISTORY.....................: ",ONC(165.5,IEN,314) D P Q:EX=U
"RTN","ONCBPC8",39,0)
 W !,"DURATION OF SMOKING HISTORY.........: ",ONC(165.5,IEN,315) D P Q:EX=U
"RTN","ONCBPC8",40,0)
 W !,"DURATION OF SMOKE FREE HISTORY......: ",ONC(165.5,IEN,315)
"RTN","ONCBPC8",41,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCBPC8",42,0)
 D P Q:EX=U
"RTN","ONCBPC8",43,0)
II S TABLE="TABLE II - DIAGNOSTIC INFORMATION"
"RTN","ONCBPC8",44,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCBPC8",45,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8",46,0)
 W !,"CLINICAL DETECTION:",! D P Q:EX=U
"RTN","ONCBPC8",47,0)
 W !,"  GROSS HEMATURIA...................: ",ONC(165.5,IEN,317) D P Q:EX=U
"RTN","ONCBPC8",48,0)
 W !,"  MICROSCOPIC HEMATURIA.............: ",ONC(165.5,IEN,318) D P Q:EX=U
"RTN","ONCBPC8",49,0)
 W !,"  URINARY FREQUENCY.................: ",ONC(165.5,IEN,319) D P Q:EX=U
"RTN","ONCBPC8",50,0)
 W !,"  BLADDER IRRITIBILITY..............: ",ONC(165.5,IEN,320) D P Q:EX=U
"RTN","ONCBPC8",51,0)
 W !,"  DYSURIA...........................: ",ONC(165.5,IEN,321) D P Q:EX=U
"RTN","ONCBPC8",52,0)
 W !,"  OTHER.............................: ",ONC(165.5,IEN,322) D P Q:EX=U
"RTN","ONCBPC8",53,0)
 W !!,"ONSET OF SYMPTOMS...................: ",ONC(165.5,IEN,323)
"RTN","ONCBPC8",54,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DOS
"RTN","ONCBPC8",55,0)
 D P Q:EX=U
"RTN","ONCBPC8",56,0)
DOS W !!,"DURATION OF SYMPTOMS:",! D P Q:EX=U
"RTN","ONCBPC8",57,0)
 W !,"  GROSS HEMTURIA....................: ",ONC(165.5,IEN,324) D P Q:EX=U
"RTN","ONCBPC8",58,0)
 W !,"  DYSURIA...........................: ",ONC(165.5,IEN,325) D P Q:EX=U
"RTN","ONCBPC8",59,0)
 W !!,"DIAGNOSTIC PROCEDURES:" D P Q:EX=U
"RTN","ONCBPC8",60,0)
 W !!,"  BIMANUAL EXAMINATION OF BLADDER...: ",ONC(165.5,IEN,326) D P Q:EX=U
"RTN","ONCBPC8",61,0)
 W !,"  CYSTOSCOPY WITH BIOPSY............: ",ONC(165.5,IEN,327) D P Q:EX=U
"RTN","ONCBPC8",62,0)
 W !,"  CYSTOSCOPY WITHOUT BIOPSY.........: ",ONC(165.5,IEN,328) D P Q:EX=U
"RTN","ONCBPC8",63,0)
 W !,"  FLOW CYTOMETRY....................: ",ONC(165.5,IEN,329) D P Q:EX=U
"RTN","ONCBPC8",64,0)
 W !,"  INTRAVENOUS PYELOGRAM.............: ",ONC(165.5,IEN,330) D P Q:EX=U
"RTN","ONCBPC8",65,0)
 W !,"  URINE CYTOLOGY....................: ",ONC(165.5,IEN,331) D P Q:EX=U
"RTN","ONCBPC8",66,0)
 W !,"  URINALYSIS........................: ",ONC(165.5,IEN,332) D P Q:EX=U
"RTN","ONCBPC8",67,0)
 W !,"  OTHER.............................: ",ONC(165.5,IEN,333)
"RTN","ONCBPC8",68,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DOID
"RTN","ONCBPC8",69,0)
 D P Q:EX=U
"RTN","ONCBPC8",70,0)
DOID W !!,"DATE OF INITIAL DIAGNOSIS...........: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCBPC8",71,0)
 W !,"SPECIALTY MAKING DIAGNOSIS..........: ",ONC(165.5,IEN,334) D P Q:EX=U
"RTN","ONCBPC8",72,0)
 W !,"PRIMARY SITE (ICD-O-2)..............: ",TOPCOD," ",ONC(165.5,IEN,20)
"RTN","ONCBPC8",73,0)
 W !,"HISTOLOGY (ICD-O-2).................: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCBPC8",74,0)
 W !,"GRADE...............................: ",ONC(165.5,IEN,24)
"RTN","ONCBPC8",75,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCBPC8",76,0)
 D P Q:EX=U
"RTN","ONCBPC8",77,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCBPC8",78,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCBPC8",79,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8",80,0)
 W !,"STAGING PROCEDURES:",! D P Q:EX=U
"RTN","ONCBPC8",81,0)
 W !,"  ABDOMINAL ULTRASOUND: ",ONC(165.5,IEN,335),?36,"CT OTHER............: ",ONC(165.5,IEN,340) D P Q:EX=U
"RTN","ONCBPC8",82,0)
 W !,"  BONE IMAGING........: ",ONC(165.5,IEN,336),?36,"MRI PELVIS/ABDOMEN..: ",ONC(165.5,IEN,341) D P Q:EX=U
"RTN","ONCBPC8",83,0)
 W !,"  CHEST X-RAY.........: ",ONC(165.5,IEN,337),?36,"MRI OTHER...........: ",ONC(165.5,IEN,342) D P Q:EX=U
"RTN","ONCBPC8",84,0)
 W !,"  CT CHEST/LUNG.......: ",ONC(165.5,IEN,338),?36,"OTHER...............: ",ONC(165.5,IEN,343) D P Q:EX=U
"RTN","ONCBPC8",85,0)
 W !,"  CT ABDOMEN/PELVIS...: ",ONC(165.5,IEN,339) D P Q:EX=U
"RTN","ONCBPC8",86,0)
 W !!,"PRESENCE OF HYDRONEPHROSIS..........: ",ONC(165.5,IEN,344) D P Q:EX=U
"RTN","ONCBPC8",87,0)
 W !,"TUMOR SIZE (mm).....................: ",ONC(165.5,IEN,29) D P Q:EX=U
"RTN","ONCBPC8",88,0)
 W !,"PRESENCE OF MULTIPLE TUMORS.........: ",ONC(165.5,IEN,345) D P Q:EX=U
"RTN","ONCBPC8",89,0)
 W !,"REGIONAL NODES EXAMINED.............: ",ONC(165.5,IEN,33) D P Q:EX=U
"RTN","ONCBPC8",90,0)
 W !,"REGIONAL NODES POSITIVE.............: ",ONC(165.5,IEN,32)
"RTN","ONCBPC8",91,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)"
"RTN","ONCBPC8",92,0)
SODM W !!,"SITE(S) OF DISTANT METASTASIS:",! D P Q:EX=U
"RTN","ONCBPC8",93,0)
 W !,"  SITE OF DISTANT METASTASIS #1.....: ",ONC(165.5,IEN,34) D P Q:EX=U
"RTN","ONCBPC8",94,0)
 W !,"  SITE OF DISTANT METASTASIS #2.....: ",ONC(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCBPC8",95,0)
 W !,"  SITE OF DISTANT METASTASIS #3.....: ",ONC(165.5,IEN,34.2) D P Q:EX=U
"RTN","ONCBPC8",96,0)
 W !!,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCBPC8",97,0)
 W !,"  T-CODE............................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCBPC8",98,0)
 W !,"  N-CODE............................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCBPC8",99,0)
 W !,"  M-CODE............................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCBPC8",100,0)
 W !,"  AJCC STAGE........................: ",ONC(165.5,IEN,38)
"RTN","ONCBPC8",101,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)"
"RTN","ONCBPC8",102,0)
 W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCBPC8",103,0)
 W !,"  T-CODE............................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCBPC8",104,0)
 W !,"  N-CODE............................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCBPC8",105,0)
 W !,"  M-CODE............................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCBPC8",106,0)
 W !,"  AJCC STAGE........................: ",ONC(165.5,IEN,88) D P Q:EX=U
"RTN","ONCBPC8",107,0)
 W !!,"STAGED BY:" D P Q:EX=U
"RTN","ONCBPC8",108,0)
 W !!,"  CLINICAL STAGE....................: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCBPC8",109,0)
 W !,"  PATHOLOGIC STAGE..................: ",ONC(165.5,IEN,89)
"RTN","ONCBPC8",110,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCBPC8",111,0)
 D P Q:EX=U
"RTN","ONCBPC8",112,0)
IV D ^ONCBPC8A
"RTN","ONCBPC8",113,0)
KILL ;Kill Variables and Exit
"RTN","ONCBPC8",114,0)
 K ACCSEQ,CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCBPC8",115,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCBPC8",116,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCBPC8",117,0)
 Q
"RTN","ONCBPC8",118,0)
P ;Print
"RTN","ONCBPC8",119,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCBPC8",120,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBPC8",121,0)
 .D HDR Q
"RTN","ONCBPC8",122,0)
 Q
"RTN","ONCBPC8",123,0)
TASK ;Queue a task
"RTN","ONCBPC8",124,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCBPC8",125,0)
 S ZTRTN="PRT^ONCBPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCBPC8",126,0)
 S ZTDESC="Print Bladder PCE"
"RTN","ONCBPC8",127,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCBPC8",128,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCBPC8",129,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCBPC8",130,0)
HDR ;Header
"RTN","ONCBPC8",131,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCBPC8",132,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCBPC8",133,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCBPC8",134,0)
 W !," PCE Study of Cancers of the Urinary Bladder"
"RTN","ONCBPC8",135,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCBPC8",136,0)
 Q
"RTN","ONCBPC8A")
0^32^B33284452
"RTN","ONCBPC8A",1,0)
ONCBPC8A ;HIRMFO/GWB - PCE Study of Cancers of the Urinary Bladder -Print (continued) ;8/15/96
"RTN","ONCBPC8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBPC8A",3,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCBPC8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCBPC8
"RTN","ONCBPC8A",5,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8A",6,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCBPC8A",7,0)
 W !,"DATE OF INITIAL TREATMENT...........: ",DOIT D P Q:EX=U
"RTN","ONCBPC8A",8,0)
 W !,"PROTOCOL ELIGIBILITY STATUS.........: ",ONC(165.5,IEN,346) D P Q:EX=U
"RTN","ONCBPC8A",9,0)
 W !!,"MANAGING PHYSICIANS:",! D P Q:EX=U
"RTN","ONCBPC8A",10,0)
 W !,"  PRIMARY PHYSICIAN.................: ",ONC(165.5,IEN,347) D P Q:EX=U
"RTN","ONCBPC8A",11,0)
 W !,"  SECONDARY PHYSICIAN...............: ",ONC(165.5,IEN,348) D P Q:EX=U
"RTN","ONCBPC8A",12,0)
 W !!,"SURGERY:",! D P Q:EX=U
"RTN","ONCBPC8A",13,0)
 S NCDS=$E(ONC(165.5,IEN,58.1),1,2),NCDSOT=ONC(165.5,IEN,58.1)
"RTN","ONCBPC8A",14,0)
 S CDS=$E(ONC(165.5,IEN,58.2),1,2),CDSOT=ONC(165.5,IEN,58.2)
"RTN","ONCBPC8A",15,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCBPC8A",16,0)
 .S SURG=NCDSOT,SURGDT=ONC(165.5,IEN,58.3)
"RTN","ONCBPC8A",17,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCBPC8A",18,0)
 .S SURG=CDSOT,SURGDT=ONC(165.5,IEN,50)
"RTN","ONCBPC8A",19,0)
 S (SURG1,SURG2)=""
"RTN","ONCBPC8A",20,0)
 S LOS=$L(SURG) I LOS<56 S SURG1=SURG G SURG
"RTN","ONCBPC8A",21,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCBPC8A",22,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCBPC8A",23,0)
SURG I (SURG1="")!($E(SURG1,1,2)="00") S SURGDT="00/00/0000"
"RTN","ONCBPC8A",24,0)
 W !,"  DATE OF SURGERY...................: ",SURGDT D P Q:EX=U
"RTN","ONCBPC8A",25,0)
 W !,"  TYPE OF SURGERY...................: ",SURG1 D P Q:EX=U
"RTN","ONCBPC8A",26,0)
 W:SURG2'="" !,?41,SURG2 D P Q:EX=U
"RTN","ONCBPC8A",27,0)
 W !,"  TUMOR RESECTION DURING TURB.......: ",ONC(165.5,IEN,349) D P Q:EX=U
"RTN","ONCBPC8A",28,0)
 W !,"  TYPE OF URINARY DIVERSION.........: ",ONC(165.5,IEN,350) ;D P Q:EX=U
"RTN","ONCBPC8A",29,0)
 W !,"  PELVIC LYMPH NODE DISSECTION......: ",ONC(165.5,IEN,351)
"RTN","ONCBPC8A",30,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 W !?15,TABLE_" (continued)"
"RTN","ONCBPC8A",31,0)
SC W !!,"  SURGICAL COMPLICATIONS:",! D P Q:EX=U
"RTN","ONCBPC8A",32,0)
 W !,"    BLEEDING REQUIRING TRANSFUSION..: ",ONC(165.5,IEN,352) D P Q:EX=U
"RTN","ONCBPC8A",33,0)
 W !,"    DEEP VENOUS THROMBOSIS..........: ",ONC(165.5,IEN,353) D P Q:EX=U
"RTN","ONCBPC8A",34,0)
 W !,"    MYOCARDIAL INFARCTION/ARRHYTHMIA: ",ONC(165.5,IEN,354) D P Q:EX=U
"RTN","ONCBPC8A",35,0)
 W !,"    PELVIC ABSCESS..................: ",ONC(165.5,IEN,355) D P Q:EX=U
"RTN","ONCBPC8A",36,0)
 W !,"    PNEUMONIA REQUIRING ANTIBIOTICS.: ",ONC(165.5,IEN,356) D P Q:EX=U
"RTN","ONCBPC8A",37,0)
 W !,"    POST-OPERATIVE DEATH (30 DAYS)..: ",ONC(165.5,IEN,357) D P Q:EX=U
"RTN","ONCBPC8A",38,0)
 W !,"    PULMONARY EMBOLISM/THROMBOSIS...: ",ONC(165.5,IEN,358) D P Q:EX=U
"RTN","ONCBPC8A",39,0)
 W !,"    REOPERATION.....................: ",ONC(165.5,IEN,359) D P Q:EX=U
"RTN","ONCBPC8A",40,0)
 W !,"    OTHER...........................: ",ONC(165.5,IEN,360)
"RTN","ONCBPC8A",41,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 W !?15,TABLE_" (continued)"
"RTN","ONCBPC8A",42,0)
RT W !!,"RADIATION THERAPY:",! D P Q:EX=U
"RTN","ONCBPC8A",43,0)
 W !,"  RADIATION THERAPY.................: ",ONC(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCBPC8A",44,0)
 W !,"  DATE RADIATION THERAPY STARTED....: ",ONC(165.5,IEN,51) D P Q:EX=U
"RTN","ONCBPC8A",45,0)
 W !,"  DATE RADIATION THERAPY ENDED......: ",ONC(165.5,IEN,361) D P Q:EX=U
"RTN","ONCBPC8A",46,0)
 W !,"  TOTAL RAD (cGy/rad) DOSE..........: ",ONC(165.5,IEN,362) D P Q:EX=U
"RTN","ONCBPC8A",47,0)
 W !,"  REGIONAL TREATMENT MODALITY.......: ",ONC(165.5,IEN,363) D P Q:EX=U
"RTN","ONCBPC8A",48,0)
 W !!,"  RADIATION COMPLICATIONS:",! D P Q:EX=U
"RTN","ONCBPC8A",49,0)
 W !,"    URINARY INCONTINENCE............: ",ONC(165.5,IEN,364) D P Q:EX=U
"RTN","ONCBPC8A",50,0)
 W !,"    HEMATURIA.......................: ",ONC(165.5,IEN,365) D P Q:EX=U
"RTN","ONCBPC8A",51,0)
 W !,"    RADIATION BOWEL INJURY..........: ",ONC(165.5,IEN,366) D P Q:EX=U
"RTN","ONCBPC8A",52,0)
 W ! D P Q:EX=U
"RTN","ONCBPC8A",53,0)
 W !,"CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCBPC8A",54,0)
 W !,"  CHEMOTHERAPY......................: ",ONC(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCBPC8A",55,0)
 W !,"  DATE CHEMOTHERAPY STARTED.........: ",ONC(165.5,IEN,53) D P Q:EX=U
"RTN","ONCBPC8A",56,0)
 W !,"  DATE CHEMOTHERAPY ENDED...........: ",ONC(165.5,IEN,367) D P Q:EX=U
"RTN","ONCBPC8A",57,0)
 W !,"  ROUTE CHEMOTHERAPY ADMINISTERED...: ",ONC(165.5,IEN,368) D P Q:EX=U
"RTN","ONCBPC8A",58,0)
 W !!,"  TYPES OF AGENTS ADMINISTERED:",! D P Q:EX=U
"RTN","ONCBPC8A",59,0)
 W !,"    ADRIAMYCIN......: ",ONC(165.5,IEN,369),?33,"IFOSFAMIDE......: ",ONC(165.5,IEN,375) D P Q:EX=U
"RTN","ONCBPC8A",60,0)
 W !,"    CARBOPLATINUM...: ",ONC(165.5,IEN,370),?33,"METHOTREXATE....: ",ONC(165.5,IEN,376) D P Q:EX=U
"RTN","ONCBPC8A",61,0)
 W !,"    CISPLATIN.......: ",ONC(165.5,IEN,371),?33,"TAXOL...........: ",ONC(165.5,IEN,377) D P Q:EX=U
"RTN","ONCBPC8A",62,0)
 W !,"    CYCLOPHOSPHAMIDE: ",ONC(165.5,IEN,372),?33,"THIOTEPA........: ",ONC(165.5,IEN,378) D P Q:EX=U
"RTN","ONCBPC8A",63,0)
 W !,"    5-FLUOROURACIL..: ",ONC(165.5,IEN,373),?33,"VINBLASTINE.....: ",ONC(165.5,IEN,379) ;D P Q:EX=U
"RTN","ONCBPC8A",64,0)
 W !,"    GALLIUM NITRATE.: ",ONC(165.5,IEN,374),?33,"OTHER...........: ",ONC(165.5,IEN,380)
"RTN","ONCBPC8A",65,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 W !?15,TABLE_" (continued)"
"RTN","ONCBPC8A",66,0)
IFAOA W !!,"  INDICATION FOR ADMIN OF AGENTS...: ",ONC(165.5,IEN,381) D P Q:EX=U
"RTN","ONCBPC8A",67,0)
 W !,"  REASON CHEMOTHERAPY STOPPED......: ",ONC(165.5,IEN,382) D P Q:EX=U
"RTN","ONCBPC8A",68,0)
 W !!,"IMMUNOTHERAPY:",! D P Q:EX=U
"RTN","ONCBPC8A",69,0)
 W !,"  IMMUNOTHERAPY (BRM)...............: ",ONC(165.5,IEN,55.2) D P Q:EX=U
"RTN","ONCBPC8A",70,0)
 W !!,"  TYPE OF IMMUNOTHERAPY (BRM):",! D P Q:EX=U
"RTN","ONCBPC8A",71,0)
 W !,"    BCG.............................: ",ONC(165.5,IEN,383) D P Q:EX=U
"RTN","ONCBPC8A",72,0)
 W !,"    INTERFERON......................: ",ONC(165.5,IEN,384) D P Q:EX=U
"RTN","ONCBPC8A",73,0)
 W !,"    INTERLEUKIN-II..................: ",ONC(165.5,IEN,385) D P Q:EX=U
"RTN","ONCBPC8A",74,0)
 W !,"    OTHER...........................: ",ONC(165.5,IEN,386)
"RTN","ONCBPC8A",75,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 G V
"RTN","ONCBPC8A",76,0)
 D P Q:EX=U
"RTN","ONCBPC8A",77,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCBPC8A",78,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCBPC8
"RTN","ONCBPC8A",79,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8A",80,0)
 W !,"TYPE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,387) D P Q:EX=U
"RTN","ONCBPC8A",81,0)
 W !,"DATE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCBPC8A",82,0)
 W !,"DISTANT SITE OF FIRST RECURRENCE 1..: ",ONC(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCBPC8A",83,0)
 W !,"DISTANT SITE OF FIRST RECURRENCE 2..: ",ONC(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCBPC8A",84,0)
 W !,"DISTANT SITE OF FIRST RECURRENCE 3..: ",ONC(165.5,IEN,71.3) D P Q:EX=U
"RTN","ONCBPC8A",85,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCBPC8 G VI
"RTN","ONCBPC8A",86,0)
 D P Q:EX=U
"RTN","ONCBPC8A",87,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCBPC8A",88,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCBPC8
"RTN","ONCBPC8A",89,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCBPC8A",90,0)
 S DLC=""
"RTN","ONCBPC8A",91,0)
 I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCBPC8A",92,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCBPC8A",93,0)
 W !,"DATE OF LAST CONTACT OR DEATH......: ",DLC
"RTN","ONCBPC8A",94,0)
 W !,"VITAL STATUS.......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCBPC8A",95,0)
 S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCBPC8A",96,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCBPC8A",97,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCBPC8A",98,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCBPC8A",99,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCBPC8A",100,0)
 W !,"CANCER STATUS......................: ",CS
"RTN","ONCBPC8A",101,0)
 W !,"COMPLETED BY.......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCBPC8A",102,0)
 W !,"REVIEWED BY CANCER COMMITTEE.......: ",ONC(165.5,IEN,82)
"RTN","ONCBPC8A",103,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBPC8A",104,0)
KILL ;Kill Variables and Exit
"RTN","ONCBPC8A",105,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,LP,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCBPC8A",106,0)
 Q
"RTN","ONCBPC8A",107,0)
P ;Display Data
"RTN","ONCBPC8A",108,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCBPC8A",109,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBPC8A",110,0)
 .D HDR^ONCBPC8 Q
"RTN","ONCBPC8A",111,0)
 Q
"RTN","ONCBRP0")
0^33^B12837473
"RTN","ONCBRP0",1,0)
ONCBRP0 ;HINES CIOFO/GWB - BREAST PCE 1998 ;6/1/98
"RTN","ONCBRP0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP0",3,0)
CHECK ;Check PCE eligibility
"RTN","ONCBRP0",4,0)
 ;Check if ACCESSION YEAR = 1998
"RTN","ONCBRP0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1998 S MSG="The Accession Year is not 1998." D ERRMSG G EXIT
"RTN","ONCBRP0",6,0)
 ;Check if histologically confirmed
"RTN","ONCBRP0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I DC'=1 S MSG="The Diagnostic Confirmation code is not 1 (Positive histology)." D ERRMSG G EXIT
"RTN","ONCBRP0",8,0)
 ;Check if Class of Case is either 1, 2 or 6.
"RTN","ONCBRP0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2)&(COC'=6) S MSG="The Class of Case code is not 1, 2 or 6." D ERRMSG G EXIT
"RTN","ONCBRP0",10,0)
 ;Check if Behavior is either 2 or 3.
"RTN","ONCBRP0",11,0)
 I (BEH'=2)&(BEH'=3) S MSG="The Behavior Code is not 2 (In situ) or 3 (Malignant)." D ERRMSG G EXIT
"RTN","ONCBRP0",12,0)
 ;Check Sex, T-code, P-code and Histology 
"RTN","ONCBRP0",13,0)
 S HST(82012)=""
"RTN","ONCBRP0",14,0)
 S HST(82112)=""
"RTN","ONCBRP0",15,0)
 S HST(85002)=""
"RTN","ONCBRP0",16,0)
 S HST(85012)=""
"RTN","ONCBRP0",17,0)
 S HST(85032)=""
"RTN","ONCBRP0",18,0)
 S HST(85102)=""
"RTN","ONCBRP0",19,0)
 S HST(85122)=""
"RTN","ONCBRP0",20,0)
 S HST(85222)=""
"RTN","ONCBRP0",21,0)
 S SEX=$P(^ONCO(160,ONCOPA,0),U,8)         ;#10   Sex
"RTN","ONCBRP0",22,0)
 I (SEX'=1)&(SEX'=2) S MSG="Sex is neither 1 (Male) nor 2 (Female)." D ERRMSG G EXIT
"RTN","ONCBRP0",23,0)
 S CT=$P($G(^ONCO(165.5,ONCONUM,2)),U,25)  ;#37.1 Clinical T
"RTN","ONCBRP0",24,0)
 S PT=$P($G(^ONCO(165.5,ONCONUM,2.1)),U,1) ;#85   Pathologic T
"RTN","ONCBRP0",25,0)
 I SEX=1 G MENU
"RTN","ONCBRP0",26,0)
 I SEX=2,(CT="1MIC")!(CT="1A")!(PT="1MIC")!(PT="1A") G MENU
"RTN","ONCBRP0",27,0)
 I SEX=2,$D(HST(HIST)) G MENU
"RTN","ONCBRP0",28,0)
 E  S MSG="Female patient has neither DCIS nor AJCC tumor size of T1mic or T1a." D ERRMSG G EXIT
"RTN","ONCBRP0",29,0)
MENU ;Breast PCE menu
"RTN","ONCBRP0",30,0)
 S SEX=$P($G(^ONCO(160,ONCOPA,0)),U,8)
"RTN","ONCBRP0",31,0)
 K HST
"RTN","ONCBRP0",32,0)
 S HST(82013)=""
"RTN","ONCBRP0",33,0)
 S HST(82113)=""
"RTN","ONCBRP0",34,0)
 S HST(85003)=""
"RTN","ONCBRP0",35,0)
 S HST(85013)=""
"RTN","ONCBRP0",36,0)
 S HST(85033)=""
"RTN","ONCBRP0",37,0)
 S HST(85103)=""
"RTN","ONCBRP0",38,0)
 S HST(85123)=""
"RTN","ONCBRP0",39,0)
 S HST(85223)=""
"RTN","ONCBRP0",40,0)
 S IDC=0 I $D(HST(HIST)) S IDC=1
"RTN","ONCBRP0",41,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="BRE"
"RTN","ONCBRP0",42,0)
 S ^ONCO(165.5,"APCE","BRE",ONCONUM)=""
"RTN","ONCBRP0",43,0)
 K DIR D HEAD
"RTN","ONCBRP0",44,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Tumor Markers and Prognostic Tests;4:Extent of Disease and AJCC Stage;5:First Course of Treatment;6:First Recurrence;7:Status at Last Contact;8:All;9:Print Breast PCE"
"RTN","ONCBRP0",45,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCBRP0",46,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCBRP0",47,0)
 I Y=8 S OUT="" D  G MENU
"RTN","ONCBRP0",48,0)
 .D ^ONCBRP1 Q:$G(OUT)="Y"
"RTN","ONCBRP0",49,0)
 .D ^ONCBRP2 Q:$G(OUT)="Y"
"RTN","ONCBRP0",50,0)
 .D ^ONCBRP3 Q:$G(OUT)="Y"
"RTN","ONCBRP0",51,0)
 .D ^ONCBRP4 Q:$G(OUT)="Y"
"RTN","ONCBRP0",52,0)
 .D ^ONCBRP5 Q:$G(OUT)="Y"
"RTN","ONCBRP0",53,0)
 .D ^ONCBRP6 Q:$G(OUT)="Y"
"RTN","ONCBRP0",54,0)
 .D ^ONCBRP7 Q:$G(OUT)="Y"
"RTN","ONCBRP0",55,0)
 S SUB="^ONCBRP"_Y D @SUB G MENU
"RTN","ONCBRP0",56,0)
ERRMSG ;Error message
"RTN","ONCBRP0",57,0)
 I ONCOANS=5 W !!,?8,"This primary does not satisfy the PCE eligibility criteria:",!,?8,MSG R Z:10
"RTN","ONCBRP0",58,0)
 K MSG Q
"RTN","ONCBRP0",59,0)
HEAD ;PCE HEADER
"RTN","ONCBRP0",60,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCBRP0",61,0)
 S HDL=$L(" 1998 Patient Care Evaluation Study of Breast Cancer"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCBRP0",62,0)
 W !,?TAB,"1998 Patient Care Evaluation Study of Breast Cancer",!,DASHES
"RTN","ONCBRP0",63,0)
 Q
"RTN","ONCBRP0",64,0)
EXIT ;Kill Variables and Exit.
"RTN","ONCBRP0",65,0)
 K HDL,ONCONUM,ONCOPA,OUT,SUB,TAB,SEX,CT,PT,HST,IDC
"RTN","ONCBRP0",66,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCBRP0",67,0)
 Q
"RTN","ONCBRP1")
0^34^B32719907
"RTN","ONCBRP1",1,0)
ONCBRP1 ;Hines OIFO/GWB - 1998 Breast Cancer Study ;6/1/98
"RTN","ONCBRP1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP1",3,0)
 ;Table I
"RTN","ONCBRP1",4,0)
 K TABLE,HTABLE
"RTN","ONCBRP1",5,0)
 S TABLE("1. INSTITUTION ID NUMBER")="IIN"
"RTN","ONCBRP1",6,0)
 S TABLE("2. ACCESSION NUMBER")="ACC"
"RTN","ONCBRP1",7,0)
 S TABLE("3. SEQUENCE NUMBER")="SEQ"
"RTN","ONCBRP1",8,0)
 S TABLE("4. POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCBRP1",9,0)
 S TABLE("5. DATE OF BIRTH")="DOB"
"RTN","ONCBRP1",10,0)
 S TABLE("6. RACE")="RACE"
"RTN","ONCBRP1",11,0)
 S TABLE("7. SPANISH ORIGIN")="SO"
"RTN","ONCBRP1",12,0)
 S TABLE("8. SEX")="SEX"
"RTN","ONCBRP1",13,0)
 S TABLE("9. PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCBRP1",14,0)
 S TABLE("10. FAMILY HISTORY OF BREAST CANCER")="FHOBC"
"RTN","ONCBRP1",15,0)
 S TABLE("11. (F) PERSONAL HISTORY OF BREAST CANCER")="PHOBC"
"RTN","ONCBRP1",16,0)
 S TABLE("12. SYNCHRONOUS BREAST CANCER")="SBC"
"RTN","ONCBRP1",17,0)
 S TABLE("13. PERSONAL HISTORY OF OTHER CANCER")="PHOC"
"RTN","ONCBRP1",18,0)
 S TABLE("14. (F) HORMONE REPLACEMENT THERAPY")="HRT"
"RTN","ONCBRP1",19,0)
 S TABLE("15. (F) HOW MANY YEARS OF HORMONE REPLACEMENT THERAPY")="HMYHRT"
"RTN","ONCBRP1",20,0)
 S HTABLE(1)=" 1. INSTITUTION ID NUMBER"
"RTN","ONCBRP1",21,0)
 S HTABLE(2)=" 2. ACCESSION NUMBER"
"RTN","ONCBRP1",22,0)
 S HTABLE(3)=" 3. SEQUENCE NUMBER"
"RTN","ONCBRP1",23,0)
 S HTABLE(4)=" 4. POSTAL CODE AT DIAGNOSIS"
"RTN","ONCBRP1",24,0)
 S HTABLE(5)=" 5. DATE OF BIRTH"
"RTN","ONCBRP1",25,0)
 S HTABLE(6)=" 6. RACE"
"RTN","ONCBRP1",26,0)
 S HTABLE(7)=" 7. SPANISH ORIGIN"
"RTN","ONCBRP1",27,0)
 S HTABLE(8)=" 8. SEX"
"RTN","ONCBRP1",28,0)
 S HTABLE(9)=" 9. PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCBRP1",29,0)
 S HTABLE(10)="10. FAMILY HISTORY OF BREAST CANCER"
"RTN","ONCBRP1",30,0)
 S HTABLE(11)="11. (F) PERSONAL HISTORY OF BREAST CANCER"
"RTN","ONCBRP1",31,0)
 S HTABLE(12)="12. SYNCHRONOUS BREAST CANCER"
"RTN","ONCBRP1",32,0)
 S HTABLE(13)="13. PERSONAL HISTORY OF OTHER CANCER"
"RTN","ONCBRP1",33,0)
 S HTABLE(14)="14. (F) HORMONE REPLACEMENT THERAPY"
"RTN","ONCBRP1",34,0)
 S HTABLE(15)="15. (F) HOW MANY YEARS OF HORMONE REPLACEMENT THERAPY"
"RTN","ONCBRP1",35,0)
 S CHOICES=15
"RTN","ONCBRP1",36,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;.05;.06",DA=ONCONUM,DIQ="ONC"
"RTN","ONCBRP1",37,0)
 D EN^DIQ1
"RTN","ONCBRP1",38,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCBRP1",39,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP1",40,0)
IIN W !,"  1. INSTITUTION ID NUMBER..........: H6",$$IIN^ONCFUNC
"RTN","ONCBRP1",41,0)
 W !!,"  TABLE I - GENERAL INFORMATION"
"RTN","ONCBRP1",42,0)
 W !,"  -----------------------------"
"RTN","ONCBRP1",43,0)
ACC W !,"  2. ACCESSION NUMBER...............: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCBRP1",44,0)
SEQ W !,"  3. SEQUENCE NUMBER................: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCBRP1",45,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",46,0)
 S DR="9  4. POSTAL CODE AT DIAGNOSIS......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",47,0)
DOB W !,"  5. DATE OF BIRTH..................: ",DOB
"RTN","ONCBRP1",48,0)
RACE S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBRP1",49,0)
 S DR="8  6. RACE..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",50,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBRP1",51,0)
 S DR="9  7. SPANISH ORIGIN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",52,0)
SEX S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCBRP1",53,0)
 S DR="10  8. SEX............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",54,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",55,0)
 S DR="18  9. PRIMARY PAYER AT DIAGNOSIS....." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",56,0)
FHOBC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",57,0)
 W !!," 10. FAMILY HISTORY OF BREAST CANCER:",!
"RTN","ONCBRP1",58,0)
 S DR="900     DAUGHTER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",59,0)
 S DR="901     MATERNAL AUNT.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",60,0)
 S DR="902     MATERNAL GRANDMOTHER..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",61,0)
 S DR="903     MOTHER........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",62,0)
 S DR="904     ONE SISTER ONLY................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",63,0)
 S DR="905     MORE THAN ONE SISTER..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",64,0)
 S DR="906     FATHER........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",65,0)
 S DR="907     BROTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",66,0)
 S DR="908     POSITIVE FAMILY HISTORY, NOS..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",67,0)
 W !
"RTN","ONCBRP1",68,0)
PHOBC I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  W ! G SBC
"RTN","ONCBRP1",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,10)=""
"RTN","ONCBRP1",70,0)
 .W !," 11. (F) PERSONAL HISTORY OF BREAST"
"RTN","ONCBRP1",71,0)
 .W !,"     CANCER.........................: (Data Item for Females Only)"
"RTN","ONCBRP1",72,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",73,0)
 S DR="909 11. (F) PERSONAL HISTORY OF BREAST                                                  CANCER........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",74,0)
 W !
"RTN","ONCBRP1",75,0)
SBC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",76,0)
 S DR="910 12. SYNCHRONOUS BREAST CANCER......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",77,0)
PHOC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",78,0)
 W !!," 13. PERSONAL HISTORY OF OTHER CANCER:",!
"RTN","ONCBRP1",79,0)
 S DR="911     COLON.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",80,0)
 I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  G P
"RTN","ONCBRP1",81,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,13)=""
"RTN","ONCBRP1",82,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,14)=""
"RTN","ONCBRP1",83,0)
 .W !,"     OVARY (F)......................: (Data Item for Females Only)"
"RTN","ONCBRP1",84,0)
 .W !,"     UTERUS (F).....................: (Data Item for Females Only)"
"RTN","ONCBRP1",85,0)
 S DR="912     OVARY (F)......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",86,0)
 S DR="913     UTERUS (F)....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",87,0)
P I $$GET1^DIQ(160,ONCOPA,10,"I")=2 D  G O
"RTN","ONCBRP1",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,15)=""
"RTN","ONCBRP1",89,0)
 .W !,"     PROSTATE (M)...................: (Data Item for Males Only)"
"RTN","ONCBRP1",90,0)
 S DR="914     PROSTATE (M)..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",91,0)
O S DR="915     OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",92,0)
 W !
"RTN","ONCBRP1",93,0)
HRT I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  G HMYHRT
"RTN","ONCBRP1",94,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,17)=""
"RTN","ONCBRP1",95,0)
 .W !," 14. (F) HORMONE REPLACEMENT THERAPY: (Data Item for Females Only)"
"RTN","ONCBRP1",96,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",97,0)
 S DR="916 14. (F) HORMONE REPLACEMENT THERAPY" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",98,0)
 I X=0 D  G PRTC
"RTN","ONCBRP1",99,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,18)=8
"RTN","ONCBRP1",100,0)
 .W !," 15. (F) HOW MANY YEARS OF HORMONE"
"RTN","ONCBRP1",101,0)
 .W !,"     REPLACEMENT THERAPY............: NA"
"RTN","ONCBRP1",102,0)
 I X=9 D  G PRTC
"RTN","ONCBRP1",103,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,18)=9
"RTN","ONCBRP1",104,0)
 .W !," 15. (F) HOW MANY YEARS OF HORMONE"
"RTN","ONCBRP1",105,0)
 .W !,"     REPLACEMENT THERAPY............: Unknown"
"RTN","ONCBRP1",106,0)
HMYHRT I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  G PRTC
"RTN","ONCBRP1",107,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,18)=""
"RTN","ONCBRP1",108,0)
 .W !," 15. (F) HOW MANY YEARS OF HORMONE"
"RTN","ONCBRP1",109,0)
 .W !,"     REPLACEMENT THERAPY............: (Data Item for Females Only)"
"RTN","ONCBRP1",110,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP1",111,0)
 S DR="917 15. (F) HOW MANY YEARS OF HORMONE                                                   REPLACEMENT THERAPY............" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP1",112,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP1",113,0)
 G EXIT
"RTN","ONCBRP1",114,0)
JUMP ;Jump to prompts
"RTN","ONCBRP1",115,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCBRP1",116,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP1",117,0)
 I X["?" D  G JUMP
"RTN","ONCBRP1",118,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP1",119,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP1",120,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP1",121,0)
 S X=TABLE(X)
"RTN","ONCBRP1",122,0)
 G @X
"RTN","ONCBRP1",123,0)
EXIT K HTABLE,TABLE,CHOICES,ONC,DOB,OSP,IIN
"RTN","ONCBRP1",124,0)
 K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCBRP1",125,0)
 Q
"RTN","ONCBRP2")
0^35^B62506484
"RTN","ONCBRP2",1,0)
ONCBRP2 ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table II ;6/1/98
"RTN","ONCBRP2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP2",3,0)
 K TABLE,HTABLE
"RTN","ONCBRP2",4,0)
 S TABLE("16. CLASS OF CASE")="COC"
"RTN","ONCBRP2",5,0)
 S TABLE("17. DIAGNOSTIC EVALUATION")="DE"
"RTN","ONCBRP2",6,0)
 S TABLE("18. (F) TYPE OF MAMMOGRAM")="TM"
"RTN","ONCBRP2",7,0)
 S TABLE("19. (F) PRESENTATION OF MOST DEFINITIVE MAMMOGRAM")="PMDM"
"RTN","ONCBRP2",8,0)
 S TABLE("20. DATE OF INITIAL DIAGNOSIS")="DID"
"RTN","ONCBRP2",9,0)
 S TABLE("21. DATE OF PATHOLOGIC DIAGNOSIS")="DPD"
"RTN","ONCBRP2",10,0)
 S TABLE("22. PRIMARY SITE (ICD-O-2)")="PS"
"RTN","ONCBRP2",11,0)
 S TABLE("23. HISTOLOGY (ICD-O-2)")="HIST"
"RTN","ONCBRP2",12,0)
 S TABLE("24. BEHAVIOR CODE(ICD-O-2)")="BC"
"RTN","ONCBRP2",13,0)
 S TABLE("25. IF INVASIVE DUCTAL CARCINOMA REPORTED, IS DCIS ALSO PRESENT")="IDCR"
"RTN","ONCBRP2",14,0)
 S TABLE("26. GRADE")="GRADE"
"RTN","ONCBRP2",15,0)
 S TABLE("27. ARCHITECTURE PATTERN IF DCIS IS PRESENT")="APIDIP"
"RTN","ONCBRP2",16,0)
 S TABLE("28. NUCLEAR GRADE IF DCIS IS PRESENT")="NGIDIP"
"RTN","ONCBRP2",17,0)
 S TABLE("29. DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCBRP2",18,0)
 S TABLE("30. (M) LEVEL OF INVOLVEMENT")="LI"
"RTN","ONCBRP2",19,0)
 S TABLE("31. BIOPSY PROCEDURE")="BP"
"RTN","ONCBRP2",20,0)
 S TABLE("32. GUIDANCE")="G"
"RTN","ONCBRP2",21,0)
 S TABLE("33. PALPABILITY OF PRIMARY")="PP"
"RTN","ONCBRP2",22,0)
 S TABLE("34. FIRST DETECTED BY")="FDB"
"RTN","ONCBRP2",23,0)
 S HTABLE(1)="16. CLASS OF CASE"
"RTN","ONCBRP2",24,0)
 S HTABLE(2)="17. DIAGNOSTIC EVALUATION"
"RTN","ONCBRP2",25,0)
 S HTABLE(3)="18. (F) TYPE OF MAMMOGRAM"
"RTN","ONCBRP2",26,0)
 S HTABLE(4)="19. (F) PRESENTATION OF MOST DEFINITIVE MAMMOGRAM"
"RTN","ONCBRP2",27,0)
 S HTABLE(5)="20. DATE OF INITIAL DIAGNOSIS"
"RTN","ONCBRP2",28,0)
 S HTABLE(6)="21. DATE OF PATHOLOGIC DIAGNOSIS"
"RTN","ONCBRP2",29,0)
 S HTABLE(7)="22. PRIMARY SITE (ICD-O-2)"
"RTN","ONCBRP2",30,0)
 S HTABLE(8)="23. HISTOLOGY (ICD-O-2)"
"RTN","ONCBRP2",31,0)
 S HTABLE(9)="24. BEHAVIOR CODE (ICD-O-2)"
"RTN","ONCBRP2",32,0)
 S HTABLE(10)="25. IF INVASIVE DUCTAL CARCINOMA REPORTED, IS DCIS ALSO PRESENT"
"RTN","ONCBRP2",33,0)
 S HTABLE(11)="26. GRADE"
"RTN","ONCBRP2",34,0)
 S HTABLE(12)="27. ARCHITECTURE PATTERN IF DCIS IS PRESENT"
"RTN","ONCBRP2",35,0)
 S HTABLE(13)="28. NUCLEAR GRADE IF DCIS IS PRESENT"
"RTN","ONCBRP2",36,0)
 S HTABLE(14)="29. DIAGNOSTIC CONFIRMATION"
"RTN","ONCBRP2",37,0)
 S HTABLE(15)="30. (M) LEVEL OF INVOLVEMENT"
"RTN","ONCBRP2",38,0)
 S HTABLE(16)="31. BIOPSY PROCEDURE"
"RTN","ONCBRP2",39,0)
 S HTABLE(17)="32. GUIDANCE"
"RTN","ONCBRP2",40,0)
 S HTABLE(18)="33. PALPABILITY OF PRIMARY"
"RTN","ONCBRP2",41,0)
 S HTABLE(19)="34. FIRST DETECTED BY"
"RTN","ONCBRP2",42,0)
 S CHOICES=19
"RTN","ONCBRP2",43,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;20.1;22;26",DA=ONCONUM,DIQ="ONC"
"RTN","ONCBRP2",44,0)
 S DIQ(0)="IE" D EN^DIQ1
"RTN","ONCBRP2",45,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP2",46,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP2",47,0)
 W !," TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCBRP2",48,0)
 W !," ----------------------------"
"RTN","ONCBRP2",49,0)
COC W !," 16. CLASS OF CASE.................: ",ONC(165.5,ONCONUM,.04,"E")
"RTN","ONCBRP2",50,0)
DE W !!," 17. DIAGNOSTIC EVALUATION:",!
"RTN","ONCBRP2",51,0)
 I $$GET1^DIQ(160,ONCOPA,10,"I")=2 D  G U
"RTN","ONCBRP2",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,27)=""
"RTN","ONCBRP2",53,0)
 .W !,"     MAMMOGRAM (M).................: (Data Item for Males Only)"
"RTN","ONCBRP2",54,0)
 S DR="926     MAMMOGRAM (M)................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",55,0)
U S DR="927     ULTRASOUND (M)(F)............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",56,0)
 W !
"RTN","ONCBRP2",57,0)
TM W !," 18. (F) TYPE OF MAMMOGRAM:",!
"RTN","ONCBRP2",58,0)
 I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  W ! G PMDM
"RTN","ONCBRP2",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,19)=""
"RTN","ONCBRP2",60,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,20)=""
"RTN","ONCBRP2",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,21)=""
"RTN","ONCBRP2",62,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,22)=""
"RTN","ONCBRP2",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,23)=""
"RTN","ONCBRP2",64,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,24)=""
"RTN","ONCBRP2",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,25)=""
"RTN","ONCBRP2",66,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,26)=""
"RTN","ONCBRP2",67,0)
 .W !,"  A. MAMMOGRAM GIVEN, TYPE UNKNOWN.: (Data Item for Females Only)"
"RTN","ONCBRP2",68,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",69,0)
 .W !,"  B. SCREENING MAMMOGRAM...........: (Data Item for Females Only)"
"RTN","ONCBRP2",70,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",71,0)
 .W !,"  C. DIAGNOSTIC MAMMOGRAM..........: (Data Item for Females Only)"
"RTN","ONCBRP2",72,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",73,0)
 .W !,"  D. MAGNIFICATION MAMMOGRAM.......: (Data Item for Females Only)"
"RTN","ONCBRP2",74,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",75,0)
 S DR="918  A. MAMMOGRAM GIVEN, TYPE UNKNOWN." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",76,0)
 I $G(X)="" D  G SM
"RTN","ONCBRP2",77,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,20)=""
"RTN","ONCBRP2",78,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",79,0)
 I $G(X)=0 D  G SM
"RTN","ONCBRP2",80,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,20)="0000000"
"RTN","ONCBRP2",81,0)
 .W !,"     DATE..........................: 00/00/0000"
"RTN","ONCBRP2",82,0)
 I $G(X)=9 D  G SM
"RTN","ONCBRP2",83,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,20)=9999999
"RTN","ONCBRP2",84,0)
 .W !,"     DATE..........................: 99/99/9999"
"RTN","ONCBRP2",85,0)
 S DR="919     DATE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",86,0)
SM S DR="920  B. SCREENING MAMMOGRAM..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",87,0)
 I $G(X)="" D  G DM
"RTN","ONCBRP2",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,22)=""
"RTN","ONCBRP2",89,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",90,0)
 I $G(X)=0 D  G DM
"RTN","ONCBRP2",91,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,22)="0000000"
"RTN","ONCBRP2",92,0)
 .W !,"     DATE..........................: 00/00/0000"
"RTN","ONCBRP2",93,0)
 I $G(X)=9 D  G DM
"RTN","ONCBRP2",94,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,22)=9999999
"RTN","ONCBRP2",95,0)
 .W !,"     DATE..........................: 99/99/9999"
"RTN","ONCBRP2",96,0)
 S DR="921     DATE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",97,0)
DM S DR="922  C. DIAGNOSTIC MAMMOGRAM.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",98,0)
 I $G(X)="" D  G MM
"RTN","ONCBRP2",99,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,24)=""
"RTN","ONCBRP2",100,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",101,0)
 I $G(X)=0 D  G MM
"RTN","ONCBRP2",102,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,24)="0000000"
"RTN","ONCBRP2",103,0)
 .W !,"     DATE..........................: 00/00/0000"
"RTN","ONCBRP2",104,0)
 I $G(X)=9 D  G MM
"RTN","ONCBRP2",105,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,24)=9999999
"RTN","ONCBRP2",106,0)
 .W !,"     DATE..........................: 99/99/9999"
"RTN","ONCBRP2",107,0)
 S DR="923     DATE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",108,0)
MM S DR="924  D. MAGNIFICATION MAMMOGRAM......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",109,0)
 I $G(X)="" D  W ! G PMDM
"RTN","ONCBRP2",110,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,26)=""
"RTN","ONCBRP2",111,0)
 .W !,"     DATE..........................:"
"RTN","ONCBRP2",112,0)
 I $G(X)=0 D  W ! G PMDM
"RTN","ONCBRP2",113,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,26)="0000000"
"RTN","ONCBRP2",114,0)
 .W !,"     DATE..........................: 00/00/0000"
"RTN","ONCBRP2",115,0)
 I $G(X)=9 D  W ! G PMDM
"RTN","ONCBRP2",116,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,26)=9999999
"RTN","ONCBRP2",117,0)
 .W !,"     DATE..........................: 99/99/9999"
"RTN","ONCBRP2",118,0)
 S DR="925     DATE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",119,0)
 W !
"RTN","ONCBRP2",120,0)
PMDM I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  W ! G DID
"RTN","ONCBRP2",121,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,29)=""
"RTN","ONCBRP2",122,0)
 .W !," 19. (F) PRESENTATION OF MOST"
"RTN","ONCBRP2",123,0)
 .W !,"     DEFINITIVE MAMMOGRAM..........: (Data Item for Females Only)"
"RTN","ONCBRP2",124,0)
 S DR="928 19. (F) PRESENTATION OF MOST                                                        DEFINITIVE MAMMOGRAM.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",125,0)
DID S DID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCBRP2",126,0)
 W !," 20. DATE OF INITIAL DIAGNOSIS.....: ",DID
"RTN","ONCBRP2",127,0)
DPD S DR="929 21. DATE OF PATHOLOGIC DIAGNOSIS.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",128,0)
PS W !," 22. PRIMARY SITE (ICD-O-2)........: ",ONC(165.5,ONCONUM,20.1,"E")
"RTN","ONCBRP2",129,0)
HIST W !," 23. HISTOLOGY (ICD-O-2)...........: ",$E(ONC(165.5,ONCONUM,22,"I"),1,4)
"RTN","ONCBRP2",130,0)
BC W !," 24. BEHAVIOR CODE (ICD-O-2).......: ",$E(ONC(165.5,ONCONUM,22,"I"),5)
"RTN","ONCBRP2",131,0)
IDCR I IDC=0 D  G GRADE
"RTN","ONCBRP2",132,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,31)=8
"RTN","ONCBRP2",133,0)
 .W !," 25. IF INVASIVE DUCTAL CARCINOMA"
"RTN","ONCBRP2",134,0)
 .W !,"     REPORTED, IS DCIS ALSO PRESENT: NA, reported tumor not invasive DC"
"RTN","ONCBRP2",135,0)
 S DR="930 25. IF INVASIVE DUCTAL CARCINOMA                                                    REPORTED, IS DCIS ALSO PRESENT" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",136,0)
GRADE S DR="24 26. GRADE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",137,0)
APIDIP S DR="931 27. ARCHITECTURE PATTERN IF DCIS                                                    IS PRESENT...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",138,0)
NGIDIP S DR="932 28. NUCLEAR GRADE IF DCIS IS                                                        PRESENT......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",139,0)
DC W !," 26. DIAGNOSTIC CONFIRMATION.......: ",ONC(165.5,ONCONUM,26,"E")
"RTN","ONCBRP2",140,0)
LI W !!," 30. (M) LEVEL OF INVOLVEMENT:",!
"RTN","ONCBRP2",141,0)
 I $$GET1^DIQ(160,ONCOPA,10,"I")=2 D  W ! G BP
"RTN","ONCBRP2",142,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,34)=""
"RTN","ONCBRP2",143,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,35)=""
"RTN","ONCBRP2",144,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,36)=""
"RTN","ONCBRP2",145,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,37)=""
"RTN","ONCBRP2",146,0)
 .W !,"     SKIN..........................: (Data Item for Males Only)"
"RTN","ONCBRP2",147,0)
 .W !,"     CHEST WALL....................: (Data Item for Males Only)"
"RTN","ONCBRP2",148,0)
 .W !,"     PECTORAL MUSCLES..............: (Data Item for Males Only)"
"RTN","ONCBRP2",149,0)
 .W !,"     DERMAL/LYMPHATIC..............: (Data Item for Males Only)"
"RTN","ONCBRP2",150,0)
 S DR="933     SKIN.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",151,0)
 S DR="934     CHEST WALL...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",152,0)
 S DR="935     PECTORAL MUSCLES.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",153,0)
 S DR="936     DERMAL/LYMPHATIC.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",154,0)
 W !
"RTN","ONCBRP2",155,0)
BP W !," DIAGNOSTIC AND STAGING PROCEDURES",!
"RTN","ONCBRP2",156,0)
 S DR="141 31. BIOSPY PROCEDURE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",157,0)
 I $G(X)=1 D  G PP
"RTN","ONCBRP2",158,0)
 .S $P(^ONCO(165.5,ONCONUM,2.1),U,15)=1
"RTN","ONCBRP2",159,0)
 .W !," 32. GUIDANCE......................: Not guided, no biopsy"
"RTN","ONCBRP2",160,0)
 I $G(X)=6 D  G PP
"RTN","ONCBRP2",161,0)
 .S $P(^ONCO(165.5,ONCONUM,2.1),U,15)=9
"RTN","ONCBRP2",162,0)
 .W !," 32. GUIDANCE......................: Unknown/death cert only"
"RTN","ONCBRP2",163,0)
GOBTP S DR="142 32. GUIDANCE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",164,0)
PP S DR="143 33. PALPABILITY OF PRIMARY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",165,0)
FDB S DR="144 34. FIRST DETECTED BY............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP2",166,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP2",167,0)
 G EXIT
"RTN","ONCBRP2",168,0)
JUMP ;Jump to prompts
"RTN","ONCBRP2",169,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP2",170,0)
 I X["?" D  G JUMP
"RTN","ONCBRP2",171,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP2",172,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP2",173,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP2",174,0)
 S X=TABLE(X)
"RTN","ONCBRP2",175,0)
 G @X
"RTN","ONCBRP2",176,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBRP2",177,0)
 K DID,NCDS,CDS,PP,LP,GS,PIECE
"RTN","ONCBRP2",178,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP2",179,0)
 Q
"RTN","ONCBRP3")
0^36^B7503561
"RTN","ONCBRP3",1,0)
ONCBRP3 ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table III ;6/1/98
"RTN","ONCBRP3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP3",3,0)
 K TABLE,HTABLE
"RTN","ONCBRP3",4,0)
 S TABLE("35. (M) DNA INDEX/PLOIDY")="DIP"
"RTN","ONCBRP3",5,0)
 S TABLE("36. ESTROGEN RECEPTOR PROTEIN")="ERP"
"RTN","ONCBRP3",6,0)
 S TABLE("37. PROGESTERONE RECEPTOR PROTEIN")="PRP"
"RTN","ONCBRP3",7,0)
 S TABLE("38. (M) ANDROGEN RECEPTOR PROTEIN")="ARP"
"RTN","ONCBRP3",8,0)
 S TABLE("39. TYPE OF TEST")="TT"
"RTN","ONCBRP3",9,0)
 S HTABLE(1)="35. (M) DNA INDEX/PLOIDY"
"RTN","ONCBRP3",10,0)
 S HTABLE(2)="36. ESTROGEN RECEPTOR PROTEIN"
"RTN","ONCBRP3",11,0)
 S HTABLE(3)="37. PROGESTERONE RECEPTOR PROTEIN"
"RTN","ONCBRP3",12,0)
 S HTABLE(4)="38. (M) ANDROGEN RECEPTOR PROTEIN"
"RTN","ONCBRP3",13,0)
 S HTABLE(5)="39. TYPE OF TEST"
"RTN","ONCBRP3",14,0)
 S CHOICES=5
"RTN","ONCBRP3",15,0)
 K DIQ S DIC="^ONCO(165.5,",DR="25.1;25.2",DA=ONCONUM,DIQ="ONC"
"RTN","ONCBRP3",16,0)
 S DIQ(0)="IE" D EN^DIQ1
"RTN","ONCBRP3",17,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP3",18,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP3",19,0)
 W !," TABLE III - TUMOR MARKERS AND PROGNOSTIC TESTS"
"RTN","ONCBRP3",20,0)
 W !," ----------------------------------------------"
"RTN","ONCBRP3",21,0)
DIP I $$GET1^DIQ(160,ONCOPA,10,"I")=2 D  G ERP
"RTN","ONCBRP3",22,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,38)=""
"RTN","ONCBRP3",23,0)
 .W !," 35. (M) DNA INDEX/PLOIDY.........: (Data Item for Males Only)"
"RTN","ONCBRP3",24,0)
 S DR="937 35. (M) DNA INDEX PLOIDY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP3",25,0)
ERP W !," 36. ESTROGEN RECEPTOR PROTEIN....: ",ONC(165.5,ONCONUM,25.1,"E")
"RTN","ONCBRP3",26,0)
PRP W !," 37. PROGESTERONE RECEPTOR PROTEIN: ",ONC(165.5,ONCONUM,25.2,"E")
"RTN","ONCBRP3",27,0)
ARP I $$GET1^DIQ(160,ONCOPA,10,"I")=2 D  G TT
"RTN","ONCBRP3",28,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,41)=""
"RTN","ONCBRP3",29,0)
 .W !," 38. (M) ANDROGEN RECEPTOR PROTEIN: (Data Item for Males Only)"
"RTN","ONCBRP3",30,0)
 S DR="940 38. (M) ANDROGEN RECEPTOR PROTEIN" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP3",31,0)
TT S ERA=$P($G(^ONCO(165.5,ONCONUM,"BRE1")),U,39)
"RTN","ONCBRP3",32,0)
 S PRA=$P($G(^ONCO(165.5,ONCONUM,"BRE1")),U,40)
"RTN","ONCBRP3",33,0)
 I ERA=0,PRA=0 D  G PRTC
"RTN","ONCBRP3",34,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,42)=0
"RTN","ONCBRP3",35,0)
 .W !," 39. TYPE OF TEST.................: Neither ERA nor PRA was done"
"RTN","ONCBRP3",36,0)
 I ERA=9,PRA=9 D  G PRTC
"RTN","ONCBRP3",37,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,42)=9
"RTN","ONCBRP3",38,0)
 .W !," 39. TYPE OF TEST.................: Unknown if ERA/PRA was done"
"RTN","ONCBRP3",39,0)
 S DR="941 39. TYPE OF TEST................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP3",40,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP3",41,0)
 G EXIT
"RTN","ONCBRP3",42,0)
JUMP ;Jump to prompts
"RTN","ONCBRP3",43,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP3",44,0)
 I X["?" D  G JUMP
"RTN","ONCBRP3",45,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP3",46,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP3",47,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP3",48,0)
 S X=TABLE(X)
"RTN","ONCBRP3",49,0)
 G @X
"RTN","ONCBRP3",50,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBRP3",51,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP3",52,0)
 Q
"RTN","ONCBRP4")
0^37^B18122984
"RTN","ONCBRP4",1,0)
ONCBRP4 ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table IV ;6/1/98
"RTN","ONCBRP4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP4",3,0)
 K TABLE,HTABLE
"RTN","ONCBRP4",4,0)
 S TABLE("40. SIZE OF TUMOR (mm)")="ST"
"RTN","ONCBRP4",5,0)
 S TABLE("41. SIZE OF DCIS TUMOR (mm)")="SDCIST"
"RTN","ONCBRP4",6,0)
 S TABLE("42. REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCBRP4",7,0)
 S TABLE("43. REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCBRP4",8,0)
 S TABLE("44. SENTINEL NODE BIOSPY")="SNB"
"RTN","ONCBRP4",9,0)
 S TABLE("45. NUMBER OF SENTINEL NODES EXAMINED")="NSNE"
"RTN","ONCBRP4",10,0)
 S TABLE("46. NUMBER OF SENTINEL NODES POSITIVE")="NSNP"
"RTN","ONCBRP4",11,0)
 S TABLE("47. SENTINEL NODE DETECTED BY")="NSDB"
"RTN","ONCBRP4",12,0)
 S TABLE("48. AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCBRP4",13,0)
 S TABLE("49. AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCBRP4",14,0)
 S TABLE("50. STAGED BY")="SB"
"RTN","ONCBRP4",15,0)
 S HTABLE(1)="40. SIZE OF TUMOR (mm)"
"RTN","ONCBRP4",16,0)
 S HTABLE(2)="41. SIZE OF DCIS TUMOR (mm)"
"RTN","ONCBRP4",17,0)
 S HTABLE(3)="42. REGIONAL NODES EXAMINED"
"RTN","ONCBRP4",18,0)
 S HTABLE(4)="43. REGIONAL NODES POSITIVE"
"RTN","ONCBRP4",19,0)
 S HTABLE(5)="44. SENTINEL NODE BIOSPY"
"RTN","ONCBRP4",20,0)
 S HTABLE(6)="45. NUMBER OF SENTINEL NODES EXAMINED"
"RTN","ONCBRP4",21,0)
 S HTABLE(7)="46. NUMBER OF SENTINEL NODES POSITIVE"
"RTN","ONCBRP4",22,0)
 S HTABLE(8)="47. SENTINEL NODE DETECTED BY"
"RTN","ONCBRP4",23,0)
 S HTABLE(9)="48. AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCBRP4",24,0)
 S HTABLE(10)="49. AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCBRP4",25,0)
 S HTABLE(11)="50. STAGED BY"
"RTN","ONCBRP4",26,0)
 S CHOICES=11
"RTN","ONCBRP4",27,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP4",28,0)
 W !," TABLE IV - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCBRP4",29,0)
 W !," -------------------------------------------"
"RTN","ONCBRP4",30,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP4",31,0)
ST S DR="29 40. SIZE OF TUMOR (mm)......." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",32,0)
SDCIST I IDC=0 D  W ! G RNE
"RTN","ONCBRP4",33,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,43)=888
"RTN","ONCBRP4",34,0)
 .W !," 41. SIZE OF DCIS TUMOR (mm)..: NA, reported tumor not invasive DC"
"RTN","ONCBRP4",35,0)
 S DR="942 41. SIZE OF DCIS TUMOR (mm).." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",36,0)
RNE S DR="33 42. REGIONAL NODES EXAMINED.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",37,0)
RNP S DR="32 43. REGIONAL NODES POSITIVE.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",38,0)
SNB W !!," SENTINEL NODES",!
"RTN","ONCBRP4",39,0)
 S DR="943 44. SENTINEL NODE BIOPSY....." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",40,0)
 I $G(X)=0 D  G ACS
"RTN","ONCBRP4",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,45)=0
"RTN","ONCBRP4",42,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,46)=7
"RTN","ONCBRP4",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,47)=8
"RTN","ONCBRP4",44,0)
 .W !," 45. NUMBER OF SENTINEL NODES"
"RTN","ONCBRP4",45,0)
 .W !,"     EXAMINED.................: None"
"RTN","ONCBRP4",46,0)
 .W !," 46. NUMBER OF SENTINEL NODES"
"RTN","ONCBRP4",47,0)
 .W !,"     POSITIVE.................: None examined"
"RTN","ONCBRP4",48,0)
 .W !," 47. SENTINEL NODE DETECTED BY: NA, not done"
"RTN","ONCBRP4",49,0)
 I $G(X)=9 D  G ACS
"RTN","ONCBRP4",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,45)=9
"RTN","ONCBRP4",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,46)=9
"RTN","ONCBRP4",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,47)=9
"RTN","ONCBRP4",53,0)
 .W !," 45. NUMBER OF SENTINEL NODES"
"RTN","ONCBRP4",54,0)
 .W !,"     EXAMINED.................: Unknown if examined"
"RTN","ONCBRP4",55,0)
 .W !," 46. NUMBER OF SENTINEL NODES"
"RTN","ONCBRP4",56,0)
 .W !,"     POSITIVE.................: Unknown if positive"
"RTN","ONCBRP4",57,0)
 .W !," 47. SENTINEL NODE DETECTED BY: Method unknown"
"RTN","ONCBRP4",58,0)
NSNE S DR="944 45. NUMBER OF SENTINEL NODES                                                        EXAMINED................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",59,0)
NSNP S DR="945 46. NUMBER OF SENTINEL NODES                                                        POSITIVE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",60,0)
 S DR="946 47. SENTINEL NODE DETECTED BY" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",61,0)
ACS W !!," 48. AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCBRP4",62,0)
CTCODE S DR="37.1     T-CODE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",63,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCBRP4",64,0)
CNCODE S DR="37.2     N-CODE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",65,0)
CMCODE S DR="37.3     M-CODE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",66,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCBRP4",67,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCBRP4",68,0)
APS W !," 49. AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCBRP4",69,0)
PTCODE S DR="85     T-CODE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",70,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCBRP4",71,0)
PNCODE S DR="86     N-CODE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",72,0)
PMCODE S DR="87     M-CODE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",73,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCBRP4",74,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCBRP4",75,0)
SB W !," 50. STAGED BY:",!
"RTN","ONCBRP4",76,0)
CSB S DR="19     CLINICAL STAGE..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",77,0)
PSB S DR="89     PATHOLOGIC STAGE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP4",78,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP4",79,0)
 G EXIT
"RTN","ONCBRP4",80,0)
JUMP ;Jump to prompts
"RTN","ONCBRP4",81,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP4",82,0)
 I X["?" D  G JUMP
"RTN","ONCBRP4",83,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP4",84,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP4",85,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP4",86,0)
 S X=TABLE(X)
"RTN","ONCBRP4",87,0)
 G @X
"RTN","ONCBRP4",88,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCBRP4",89,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP4",90,0)
 Q
"RTN","ONCBRP5")
0^38^B34977273
"RTN","ONCBRP5",1,0)
ONCBRP5 ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table V ;6/1/98
"RTN","ONCBRP5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP5",3,0)
 K TABLE,HTABLE
"RTN","ONCBRP5",4,0)
 S TABLE("SURGERY")="S^ONCBRP5"
"RTN","ONCBRP5",5,0)
 S TABLE("NON CANCER-DIRECTED SURGERY")="NCS^ONCBRP5"
"RTN","ONCBRP5",6,0)
 S TABLE("CANCER-DIRECTED SURGERY")="CS^ONCBRP5"
"RTN","ONCBRP5",7,0)
 S TABLE("RADIATION THERAPY")="RT^ONCBRP5A"
"RTN","ONCBRP5",8,0)
 S TABLE("HORMONE THERAPY")="HOT^ONCBRP5A"
"RTN","ONCBRP5",9,0)
 S TABLE("CHEMOTHERAPY")="CT^ONCBRP5A"
"RTN","ONCBRP5",10,0)
 S HTABLE(1)="SURGERY"
"RTN","ONCBRP5",11,0)
 S HTABLE(2)="NON CANCER-DIRECTED SURGERY"
"RTN","ONCBRP5",12,0)
 S HTABLE(3)="CANCER-DIRECTED SURGERY"
"RTN","ONCBRP5",13,0)
 S HTABLE(4)="RADIATION THERAPY"
"RTN","ONCBRP5",14,0)
 S HTABLE(5)="HORMONE THERAPY"
"RTN","ONCBRP5",15,0)
 S HTABLE(6)="CHEMOTHERAPY"
"RTN","ONCBRP5",16,0)
 S CHOICES=6
"RTN","ONCBRP5",17,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP5",18,0)
 W !," TABLE V - FIRST COURSE OF TREATMENT"
"RTN","ONCBRP5",19,0)
 W !," -----------------------------------"
"RTN","ONCBRP5",20,0)
 K DIQ,ONC S DIC="^ONCO(165.5,"
"RTN","ONCBRP5",21,0)
 S DR="23;49;50;51;51.2;53;53.2;54;54.2;58.1;58.2;58.3;58;59;74;75;138;139;140"
"RTN","ONCBRP5",22,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCBRP5",23,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP5",24,0)
 S CDS=ONC(165.5,ONCONUM,58.2)
"RTN","ONCBRP5",25,0)
 S RAD=$P($G(^ONCO(165.5,ONCONUM,3)),U,6)
"RTN","ONCBRP5",26,0)
 S CHE=$P($G(^ONCO(165.5,ONCONUM,3)),U,13)
"RTN","ONCBRP5",27,0)
 S HOR=$P($G(^ONCO(165.5,ONCONUM,3)),U,16)
"RTN","ONCBRP5",28,0)
DFCT W !," 51. DATE OF FIRST COURSE TREATMENT: ",ONC(165.5,ONCONUM,49)
"RTN","ONCBRP5",29,0)
S W !!," SURGERY",!
"RTN","ONCBRP5",30,0)
 W " -------"
"RTN","ONCBRP5",31,0)
NCS W !," NON CANCER-DIRECTED SURGERY",!
"RTN","ONCBRP5",32,0)
DNCDS W !," 52. DATE OF NON CANCER-DIRECTED"
"RTN","ONCBRP5",33,0)
 W !,"     SURGERY.......................: ",ONC(165.5,ONCONUM,58.3)
"RTN","ONCBRP5",34,0)
NCDS S NCDS=ONC(165.5,ONCONUM,58.1)
"RTN","ONCBRP5",35,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<43 S NCDS1=NCDS G NCDS1
"RTN","ONCBRP5",36,0)
 S NOP=$L($E(NCDS,1,43)," ")
"RTN","ONCBRP5",37,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCBRP5",38,0)
NCDS1 W !," 53. NON CANCER-DIRECTED SURGERY...: ",NCDS1 W:NCDS2'="" !,?37,NCDS2
"RTN","ONCBRP5",39,0)
CS W !," CANCER-DIRECTED SURGERY",!
"RTN","ONCBRP5",40,0)
DCDS W !," 54. DATE (FIRST) OF CANCER-"
"RTN","ONCBRP5",41,0)
 W !,"     DIRECTED SURGERY..............: ",ONC(165.5,ONCONUM,50)
"RTN","ONCBRP5",42,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP5",43,0)
SA S SA=ONC(165.5,ONCONUM,74)
"RTN","ONCBRP5",44,0)
 S (SA1,SA2)="",LOS=$L(SA) I LOS<43 S SA1=SA G SA1
"RTN","ONCBRP5",45,0)
 S NOP=$L($E(SA,1,43)," "),SA1=$P(SA," ",1,NOP-1),SA2=$P(SA," ",NOP,999)
"RTN","ONCBRP5",46,0)
SA1 W !," 55. SURGICAL APPROACH.............: ",SA1 W:SA2'="" !,?37,SA2
"RTN","ONCBRP5",47,0)
SPS S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<43 S CDS1=CDS G SPS1
"RTN","ONCBRP5",48,0)
 S NOP=$L($E(CDS,1,43)," "),CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCBRP5",49,0)
SPS1 W !," 56. SURGERY OF PRIMARY SITE.......: ",CDS1 W:CDS2'="" !,?37,CDS2
"RTN","ONCBRP5",50,0)
SR I $E(CDS,1,2)="00" D  G SM
"RTN","ONCBRP5",51,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,48)=8
"RTN","ONCBRP5",52,0)
 .W !," 57. SPECIMEN RADIOGRAPH...........: NA"
"RTN","ONCBRP5",53,0)
 I $E(CDS,1,2)=99 D  G SM
"RTN","ONCBRP5",54,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,48)=9
"RTN","ONCBRP5",55,0)
 .W !," 57. SPECIMEN RADIOGRAPH...........: Unknown"
"RTN","ONCBRP5",56,0)
 S DR="947 57. SPECIMEN RADIOGRAPH..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5",57,0)
SM S SM=ONC(165.5,ONCONUM,59)
"RTN","ONCBRP5",58,0)
 S (SM1,SM2)="",LOS=$L(SM) I LOS<43 S SM1=SM G SM1
"RTN","ONCBRP5",59,0)
 S NOP=$L($E(SM,1,43)," "),SM1=$P(SM," ",1,NOP-1),SM2=$P(SM," ",NOP,999)
"RTN","ONCBRP5",60,0)
SM1 W !," 58. SURGICAL MARGINS..............: ",SM1 W:SM2'="" !,?37,SM2
"RTN","ONCBRP5",61,0)
WESSP I $E(CDS,1,2)="00" D  G SLNS
"RTN","ONCBRP5",62,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,49)=8
"RTN","ONCBRP5",63,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,50)=8
"RTN","ONCBRP5",64,0)
 .W !," 59. WAS ENTIRE SPECIMEN SUBMITTED"
"RTN","ONCBRP5",65,0)
 .W !,"     TO PATHOLOGY..................: NA"
"RTN","ONCBRP5",66,0)
 .W !," 60. IF MARGINS ARE FREE, WHAT IS"
"RTN","ONCBRP5",67,0)
 .W !,"     THE DISTANCE..................: NA"
"RTN","ONCBRP5",68,0)
 I $E(CDS,1,2)=99 D  G SLNS
"RTN","ONCBRP5",69,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,49)=9
"RTN","ONCBRP5",70,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,50)=9
"RTN","ONCBRP5",71,0)
 .W !," 59. WAS ENTIRE SPECIMEN SUBMITTED"
"RTN","ONCBRP5",72,0)
 .W !,"     TO PATHOLOGY..................: Unknown"
"RTN","ONCBRP5",73,0)
 .W !," 60. IF MARGINS ARE FREE, WHAT IS"
"RTN","ONCBRP5",74,0)
 .W !,"     THE DISTANCE..................: Unknown"
"RTN","ONCBRP5",75,0)
 S DR="948 59. WAS ENTIRE SPECIMEN SUBMITTED                                                   TO PATHOLOGY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5",76,0)
 S DR="949 60. IF MARGINS ARE FREE, WHAT IS                                                    THE DISTANCE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5",77,0)
SLNS S SLNS=ONC(165.5,ONCONUM,138)
"RTN","ONCBRP5",78,0)
 S (SLNS1,SLNS2)="",LOS=$L(SLNS) I LOS<43 S SLNS1=SLNS G SLNS1
"RTN","ONCBRP5",79,0)
 S NOP=$L($E(SLNS,1,43)," "),SLNS1=$P(SLNS," ",1,NOP-1),SLNS2=$P(SLNS," ",NOP,999)
"RTN","ONCBRP5",80,0)
SLNS1 W !," 61. SCOPE OF REGIONAL LYMPH NODE"
"RTN","ONCBRP5",81,0)
 W !,"     SURGERY.......................: ",SLNS1 W:SLNS2'="" !,?37,SLNS2
"RTN","ONCBRP5",82,0)
NLNR W !," 62. NUMBER OF REGIONAL LYMPH NODES"
"RTN","ONCBRP5",83,0)
 W !,"     REMOVED.......................: ",ONC(165.5,ONCONUM,140)
"RTN","ONCBRP5",84,0)
SORS S SORS=ONC(165.5,ONCONUM,139)
"RTN","ONCBRP5",85,0)
 S (SORS1,SORS2)="",LOS=$L(SORS) I LOS<43 S SORS1=SORS G SORS1
"RTN","ONCBRP5",86,0)
 S NOP=$L($E(SORS,1,43)," ")
"RTN","ONCBRP5",87,0)
 S SORS1=$P(SORS," ",1,NOP-1),SORS2=$P(SORS," ",NOP,999)
"RTN","ONCBRP5",88,0)
SORS1 W !," 63. SURGERY OF OTHER REGIONAL"
"RTN","ONCBRP5",89,0)
 W !,"     SITE(S), DISTANT SITE(S),"
"RTN","ONCBRP5",90,0)
 W !,"     OR DISTANT LYMPH NODE(S)......: ",SORS1 W:SORS2'="" !,?37,SORS2
"RTN","ONCBRP5",91,0)
RR S RR=ONC(165.5,ONCONUM,23)
"RTN","ONCBRP5",92,0)
 S (RR1,RR2)="",LOS=$L(RR) I LOS<43 S RR1=RR G RR1
"RTN","ONCBRP5",93,0)
 S NOP=$L($E(RR,1,43)," "),RR1=$P(RR," ",1,NOP-1),RR2=$P(RR," ",NOP,999)
"RTN","ONCBRP5",94,0)
RR1 W !," 64. RECONSTRUCTION/RESTORATION....: ",RR1 W:RR2'="" !,?37,RR2
"RTN","ONCBRP5",95,0)
R I $E(CDS,1,2)="00" D  G PRTC
"RTN","ONCBRP5",96,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,51)=8
"RTN","ONCBRP5",97,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,52)=8
"RTN","ONCBRP5",98,0)
 .W !," 65. RE-EXCISION...................: NA"
"RTN","ONCBRP5",99,0)
 .W !," 66. MICROSCOPIC STATUS OF FINAL"
"RTN","ONCBRP5",100,0)
 .W !,"     MARGIN AFTER RESECTION........: NA"
"RTN","ONCBRP5",101,0)
 I $E(CDS,1,2)=99 D  G PRTC
"RTN","ONCBRP5",102,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,51)=9
"RTN","ONCBRP5",103,0)
 .S $P(^ONCO(165.5,D0,"BRE1"),U,52)=9
"RTN","ONCBRP5",104,0)
 .W !," 65. RE-EXCISION...................: Unknown"
"RTN","ONCBRP5",105,0)
 .W !," 66. MICROSCOPIC STATUS OF FINAL"
"RTN","ONCBRP5",106,0)
 .W !,"     MARGIN AFTER RESECTION........: Unknown"
"RTN","ONCBRP5",107,0)
 S DR="950 65. RE-EXCISION..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5",108,0)
 I X=0 D  G PRTC
"RTN","ONCBRP5",109,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,52)=8
"RTN","ONCBRP5",110,0)
 .W !," 66. MICROSCOPIC STATUS OF FINAL"
"RTN","ONCBRP5",111,0)
 .W !,"     MARGIN AFTER RE-EXCISION......: NA"
"RTN","ONCBRP5",112,0)
 I X=9 D  G PRTC
"RTN","ONCBRP5",113,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,52)=9
"RTN","ONCBRP5",114,0)
 .W !," 66. MICROSCOPIC STATUS OF FINAL"
"RTN","ONCBRP5",115,0)
 .W !,"     MARGIN AFTER RE-EXCISION......: Unknown"
"RTN","ONCBRP5",116,0)
 S DR="951 66. MICROSCOPIC STATUS OF FINAL                                                     MARGIN AFTER RE-EXCISION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5",117,0)
PRTC I ($E(CDS,1,2)'="00")&($E(CDS,1,2)'=99) W !
"RTN","ONCBRP5",118,0)
 K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCBRP5",119,0)
 G RT^ONCBRP5A
"RTN","ONCBRP5",120,0)
JUMP ;Jump to prompts
"RTN","ONCBRP5",121,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP5",122,0)
 I X["?" D  G JUMP
"RTN","ONCBRP5",123,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCBRP5",124,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP5",125,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCBRP5",126,0)
 S X=TABLE(X)
"RTN","ONCBRP5",127,0)
 G @X
"RTN","ONCBRP5",128,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP5",129,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCBRP5",130,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT,SA,SA1,SA2
"RTN","ONCBRP5",131,0)
 K SM,SM1,SM2,SOORS,SOORS1,SOORS2,SLNS,SLNS1,SLNS2,RAD,HOR,CHE
"RTN","ONCBRP5",132,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP5",133,0)
 Q
"RTN","ONCBRP5A")
0^39^B22871751
"RTN","ONCBRP5A",1,0)
ONCBRP5A ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table V (continued) ;6/1/98
"RTN","ONCBRP5A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP5A",3,0)
RT W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP5A",4,0)
 W !," RADIATION THERAPY"
"RTN","ONCBRP5A",5,0)
 W !," -----------------"
"RTN","ONCBRP5A",6,0)
RT1 W !," 67. RADIATION THERAPY.............: ",ONC(165.5,ONCONUM,51.2)
"RTN","ONCBRP5A",7,0)
 I RAD=0 D  G DRS
"RTN","ONCBRP5A",8,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,53)=0
"RTN","ONCBRP5A",9,0)
 .W !," 68. PRE-RADIATION THERAPY"
"RTN","ONCBRP5A",10,0)
 .W !,"     MAMMOGRAM OF PATIENT..........: Not done"
"RTN","ONCBRP5A",11,0)
 I RAD=9 D  G DRS
"RTN","ONCBRP5A",12,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,53)=9
"RTN","ONCBRP5A",13,0)
 .W !," 68. PRE-RADIATION THERAPY"
"RTN","ONCBRP5A",14,0)
 .W !,"     MAMMOGRAM OF PATIENT..........: Unknown if done"
"RTN","ONCBRP5A",15,0)
PRTMP S DR="952 68. PRE-RADIATION THERAPY                                                           MAMMOGRAM OF PATIENT.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",16,0)
DRS W !," 69. DATE RADIATION STARTED........: ",ONC(165.5,ONCONUM,51)
"RTN","ONCBRP5A",17,0)
 I RAD=0 D  G RADWRT
"RTN","ONCBRP5A",18,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000"
"RTN","ONCBRP5A",19,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,54)=0
"RTN","ONCBRP5A",20,0)
 .I $$GET1^DIQ(160,ONCOPA,10,"I")=2 S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,55)="00000",$P(^ONCO(165.5,ONCONUM,"THY1"),U,44)="00000"
"RTN","ONCBRP5A",21,0)
 .E  S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,55)="",$P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=""
"RTN","ONCBRP5A",22,0)
 I RAD=9 D  G RADWRT
"RTN","ONCBRP5A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="9999999"
"RTN","ONCBRP5A",24,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,54)=9
"RTN","ONCBRP5A",25,0)
 .I $$GET1^DIQ(160,ONCOPA,10,"I")=2 S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,55)="99999",$P(^ONCO(165.5,ONCONUM,"THY1"),U,44)="99999"
"RTN","ONCBRP5A",26,0)
 .E  S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,55)="",$P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=""
"RTN","ONCBRP5A",27,0)
RADWRT I (RAD=0)!(RAD=9) D  G:$D(DIRUT) EXIT G RFNR
"RTN","ONCBRP5A",28,0)
 .K DIQ S DIC="^ONCO(165.5,",DR="361;953;954;443",DA=ONCONUM,DIQ="ONC"
"RTN","ONCBRP5A",29,0)
 .D EN^DIQ1
"RTN","ONCBRP5A",30,0)
 .W !," 70. DATE RADIATION ENDED..........: ",ONC(165.5,ONCONUM,361)
"RTN","ONCBRP5A",31,0)
 .W !," 71. SITES IRRADIATED..............: ",ONC(165.5,ONCONUM,953)
"RTN","ONCBRP5A",32,0)
 .W !," 72. (F) cGy DOSE TO WHOLE BREAST"
"RTN","ONCBRP5A",33,0)
 .W !,"     OR CHEST WALL.................: ",ONC(165.5,ONCONUM,954)
"RTN","ONCBRP5A",34,0)
 .W !," 73. (F) BOOST RADIATION...........: ",ONC(165.5,ONCONUM,443)
"RTN","ONCBRP5A",35,0)
DRE S DR="361 70. DATE RADIATION ENDED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",36,0)
SI S DR="953 71. SITES IRRADIATED.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",37,0)
DWBCW I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  W ! G RFNR
"RTN","ONCBRP5A",38,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,55)=""
"RTN","ONCBRP5A",39,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=""
"RTN","ONCBRP5A",40,0)
 .W !," 72. (F) cGy DOSE TO WHOLE BREAST"
"RTN","ONCBRP5A",41,0)
 .W !,"     OR CHEST WALL.................: (Data Item for Females Only)"
"RTN","ONCBRP5A",42,0)
 .W !," 73. (F) BOOST RADIATION...........: (Data Item for Females Only)"
"RTN","ONCBRP5A",43,0)
 S DR="954 72. (F) cGy DOSE TO WHOLE BREAST                                                    OR CHEST WALL................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",44,0)
BR S DR="443 73. (F) BOOST RADIATION..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",45,0)
RFNR W !," 74. REASON FOR NO RADIATION ......: ",ONC(165.5,ONCONUM,75)
"RTN","ONCBRP5A",46,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCBRP5A",47,0)
HOT W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP5A",48,0)
 W !," HORMONE THERAPY"
"RTN","ONCBRP5A",49,0)
 W !," ---------------"
"RTN","ONCBRP5A",50,0)
HT W !," 75. HORMONE THERAPY...............: ",ONC(165.5,ONCONUM,54.2)
"RTN","ONCBRP5A",51,0)
DEHTB W !," 76. DATE HORMONE THERAPY STARTED..: ",ONC(165.5,ONCONUM,54)
"RTN","ONCBRP5A",52,0)
SHT I $$GET1^DIQ(160,ONCOPA,10,"I")=2 D  G:$D(DIRUT) EXIT W ! G CT
"RTN","ONCBRP5A",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,56)=""
"RTN","ONCBRP5A",54,0)
 .W !," 77. (M) SPECIFIC HORMONE THERAPY..: (Data Item for Males Only)"
"RTN","ONCBRP5A",55,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  D HEAD^ONCBRP0
"RTN","ONCBRP5A",56,0)
 I HOR=0 D  G:$D(DIRUT) EXIT G CT
"RTN","ONCBRP5A",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,56)=0
"RTN","ONCBRP5A",58,0)
 .W !," 77. (M) SPECIFIC HORMONE THERAPY...: None"
"RTN","ONCBRP5A",59,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  D HEAD^ONCBRP0
"RTN","ONCBRP5A",60,0)
 I HOR=9 D  G:$D(DIRUT) EXIT G CT
"RTN","ONCBRP5A",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,56)=9
"RTN","ONCBRP5A",62,0)
 .W !," 77. (M) SPECIFIC HORMONE THERAPY...: Unknown"
"RTN","ONCBRP5A",63,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  D HEAD^ONCBRP0
"RTN","ONCBRP5A",64,0)
 S DR="955 77. (M) SPECIFIC HORMONE THERAPY.." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",65,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCBRP5A",66,0)
CT W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP5A",67,0)
 W !," CHEMOTHERAPY"
"RTN","ONCBRP5A",68,0)
 W !," ------------"
"RTN","ONCBRP5A",69,0)
C W !," 78. CHEMOTHERAPY..................: ",ONC(165.5,ONCONUM,53.2)
"RTN","ONCBRP5A",70,0)
DCS W !," 79. DATE CHEMOTHERAPY STARTED.....: ",ONC(165.5,ONCONUM,53)
"RTN","ONCBRP5A",71,0)
CRCD I CHE=0 D  G PRTC
"RTN","ONCBRP5A",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,57)=8
"RTN","ONCBRP5A",73,0)
 .W !," 80. CHEMOTHERAPEUTIC REGIME"
"RTN","ONCBRP5A",74,0)
 .W !,"     CONTAINING DOXORUBICIN.......: NA, no chemotherapy"
"RTN","ONCBRP5A",75,0)
 I CHE=9 D  G PRTC
"RTN","ONCBRP5A",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,57)=9
"RTN","ONCBRP5A",77,0)
 .W !," 80. CHEMOTHERAPEUTIC REGIME"
"RTN","ONCBRP5A",78,0)
 .W !,"     CONTAINING DOXORUBICIN.......: Unknown"
"RTN","ONCBRP5A",79,0)
 S DR="956 80. CHEMOTHERAPEUTIC REGIME                                                         CONTAINING DOXORUBICIN........" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP5A",80,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP5A",81,0)
 G EXIT
"RTN","ONCBRP5A",82,0)
JUMP ;Jump to prompts
"RTN","ONCBRP5A",83,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP5A",84,0)
 I X["?" D  G JUMP
"RTN","ONCBRP5A",85,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCBRP5A",86,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP5A",87,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCBRP5A",88,0)
 S X=TABLE(X)
"RTN","ONCBRP5A",89,0)
 G @X
"RTN","ONCBRP5A",90,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP5A",91,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCBRP5A",92,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT,SA,SA1,SA2
"RTN","ONCBRP5A",93,0)
 K SM,SM1,SM2,SOORS,SOORS1,SOORS2,HOR,RAD
"RTN","ONCBRP5A",94,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP5A",95,0)
 Q
"RTN","ONCBRP6")
0^40^B2557088
"RTN","ONCBRP6",1,0)
ONCBRP6 ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table VI ;6/1/98
"RTN","ONCBRP6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP6",3,0)
 K TABLE,HTABLE
"RTN","ONCBRP6",4,0)
 S TABLE("81. DATE OF FIRST RECURRENCE")="DFR"
"RTN","ONCBRP6",5,0)
 S TABLE("82. TYPE OF FIRST RECURRENCE")="TFR"
"RTN","ONCBRP6",6,0)
 S HTABLE(1)="81. TYPE OF FIRST RECURRENCE"
"RTN","ONCBRP6",7,0)
 S HTABLE(2)="82. DATE OF FIRST RECURRENCE"
"RTN","ONCBRP6",8,0)
 S CHOICES=2
"RTN","ONCBRP6",9,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP6",10,0)
 W !," TABLE VI - FIRST RECURRENCE"
"RTN","ONCBRP6",11,0)
 W !," ---------------------------"
"RTN","ONCBRP6",12,0)
 S DIC="^ONCO(165.5,",DR="70",DA=ONCONUM,DIQ="ONCO" D EN^DIQ1
"RTN","ONCBRP6",13,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP6",14,0)
DFR S DR="70 81. DATE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP6",15,0)
TFR S DR="71 82. TYPE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP6",16,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP6",17,0)
 G EXIT
"RTN","ONCBRP6",18,0)
JUMP ;Jump to prompts
"RTN","ONCBRP6",19,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP6",20,0)
 I X["?" D  G JUMP
"RTN","ONCBRP6",21,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP6",22,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP6",23,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP6",24,0)
 S X=TABLE(X)
"RTN","ONCBRP6",25,0)
 G @X
"RTN","ONCBRP6",26,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBRP6",27,0)
 K PIECE
"RTN","ONCBRP6",28,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP6",29,0)
 Q
"RTN","ONCBRP7")
0^41^B5546084
"RTN","ONCBRP7",1,0)
ONCBRP7 ;HINES CIOFO/GWB - 1998 Breast Cancer Study - Table VII ;6/1/98
"RTN","ONCBRP7",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP7",3,0)
 K TABLE,HTABLE
"RTN","ONCBRP7",4,0)
 S TABLE("83. DATE OF LAST CONTACT OR DEATH")="DLCOD"
"RTN","ONCBRP7",5,0)
 S TABLE("84. VITAL STATUS")="VS"
"RTN","ONCBRP7",6,0)
 S TABLE("85. CANCER STATUS")="CS"
"RTN","ONCBRP7",7,0)
 S TABLE("86. COMPLETED BY")="CB"
"RTN","ONCBRP7",8,0)
 S TABLE("87. REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCBRP7",9,0)
 S HTABLE(1)="83. DATE OF LAST CONTACT OR DEATH"
"RTN","ONCBRP7",10,0)
 S HTABLE(2)="84. VITAL STATUS"
"RTN","ONCBRP7",11,0)
 S HTABLE(3)="85. CANCER STATUS"
"RTN","ONCBRP7",12,0)
 S HTABLE(4)="86. COMPLETED BY"
"RTN","ONCBRP7",13,0)
 S HTABLE(5)="87. REVIEWED BY CANCER COMMITTEE"
"RTN","ONCBRP7",14,0)
 S CHOICES=5
"RTN","ONCBRP7",15,0)
 W @IOF D HEAD^ONCBRP0
"RTN","ONCBRP7",16,0)
 W !," TABLE VII - STATUS AT LAST CONTACT"
"RTN","ONCBRP7",17,0)
 W !," ----------------------------------"
"RTN","ONCBRP7",18,0)
DLCOD S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCBRP7",19,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCBRP7",20,0)
 W !," 83. DATE OF LAST CONTACT OR DEATH..: ",DLC
"RTN","ONCBRP7",21,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCBRP7",22,0)
 S DR="15 84. VITAL STATUS..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP7",23,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCBRP7",24,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCBRP7",25,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCBRP7",26,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCBRP7",27,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCBRP7",28,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCBRP7",29,0)
 W !," 85. CANCER STATUS..................: ",CS
"RTN","ONCBRP7",30,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP7",31,0)
 S DR="81 86. COMPLETED BY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP7",32,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCBRP7",33,0)
 S DR="82 87. REVIEWED BY CANCER COMMITTEE..." D ^DIE G:$D(Y) JUMP
"RTN","ONCBRP7",34,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCBRP7",35,0)
 G EXIT
"RTN","ONCBRP7",36,0)
JUMP ;Jump to prompts
"RTN","ONCBRP7",37,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCBRP7",38,0)
 I X["?" D  G JUMP
"RTN","ONCBRP7",39,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP7",40,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCBRP7",41,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCBRP7",42,0)
 S X=TABLE(X)
"RTN","ONCBRP7",43,0)
 G @X
"RTN","ONCBRP7",44,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCBRP7",45,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCBRP7",46,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCBRP7",47,0)
 Q
"RTN","ONCBRP9")
0^42^B48248085
"RTN","ONCBRP9",1,0)
ONCBRP9 ;Hines OIFO/GWB - 1998 Breast Cancer Study ;05/30/00
"RTN","ONCBRP9",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP9",3,0)
 ;Print
"RTN","ONCBRP9",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCBRP9",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCBRP9",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCBRP9",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCBRP9",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCBRP9",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;10;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCBRP9",10,0)
 S DR=".04;.05;.06;.12;1;3;9;18;19;20;23;24;25.1;25.2;26;29;32;33;37.1;37.2;37.3;38;50;51;51.2;53;53.2;54;54.2;58.1;58.2;58.3;59;70;71;74;75;81;82;85;86;87;88;89;138:146;307;361;441;443;900:956"
"RTN","ONCBRP9",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCBRP9",12,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCBRP9",13,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCBRP9",14,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCBRP9",15,0)
 D HEAD^ONCBRP0
"RTN","ONCBRP9",16,0)
 W !," 1. INSTITUTION ID NUMBER............: H6",$$IIN^ONCFUNC D P Q:EX=U
"RTN","ONCBRP9",17,0)
 K LINE S $P(LINE,"-",29)="-"
"RTN","ONCBRP9",18,0)
 W !!?4,TABLE,!?4,LINE
"RTN","ONCBRP9",19,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCBRP9",20,0)
 W !," 2. ACCESSION NUMBER.................: ",ONC(165.5,IE,.05) D P Q:EX=U
"RTN","ONCBRP9",21,0)
 W !," 3. SEQUENCE NUMBER..................: ",ONC(165.5,IE,.06) D P Q:EX=U
"RTN","ONCBRP9",22,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS.........: ",ONC(165.5,IE,9) D P Q:EX=U
"RTN","ONCBRP9",23,0)
 W !," 5. DATE OF BIRTH....................: ",DOB D P Q:EX=U
"RTN","ONCBRP9",24,0)
 W !," 6. RACE.............................: ",ONC(165.5,IE,.12) D P Q:EX=U
"RTN","ONCBRP9",25,0)
 W !," 7. SPANISH ORIGIN...................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCBRP9",26,0)
 W !," 8. SEX..............................: ",ONC(160,ONCOPA,10) D P Q:EX=U
"RTN","ONCBRP9",27,0)
 W !," 9. PRIMARY PAYER AT DIAGNOSIS.......: ",ONC(165.5,IE,18) D P Q:EX=U
"RTN","ONCBRP9",28,0)
 W !!,"10. FAMILY HISTORY OF BREAST CANCER:" D P Q:EX=U
"RTN","ONCBRP9",29,0)
 W !,"     DAUGHTER........................: ",ONC(165.5,IE,900) D P Q:EX=U
"RTN","ONCBRP9",30,0)
 W !,"     MATERNAL AUNT...................: ",ONC(165.5,IE,901) D P Q:EX=U
"RTN","ONCBRP9",31,0)
 W !,"     MATERNAL GRANDMOTHER............: ",ONC(165.5,IE,902) D P Q:EX=U
"RTN","ONCBRP9",32,0)
 W !,"     MOTHER..........................: ",ONC(165.5,IE,903) D P Q:EX=U
"RTN","ONCBRP9",33,0)
 W !,"     ONE SISTER ONLY.................: ",ONC(165.5,IE,904) D P Q:EX=U
"RTN","ONCBRP9",34,0)
 W !,"     MORE THAN ONE SISTER............: ",ONC(165.5,IE,905) D P Q:EX=U
"RTN","ONCBRP9",35,0)
 W !,"     FATHER..........................: ",ONC(165.5,IE,906) D P Q:EX=U
"RTN","ONCBRP9",36,0)
 W !,"     BROTHER.........................: ",ONC(165.5,IE,907) D P Q:EX=U
"RTN","ONCBRP9",37,0)
 W !,"     POSTIVE FAMILY HISTORY, NOS.....: ",ONC(165.5,IE,908) D P Q:EX=U
"RTN","ONCBRP9",38,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9",39,0)
 S FN=909 D FEMALE
"RTN","ONCBRP9",40,0)
 W !,"11. (F) PERSONAL HISTORY OF BREAST"
"RTN","ONCBRP9",41,0)
 W !,"    CANCER...........................: ",ONC(165.5,IE,909) D P Q:EX=U
"RTN","ONCBRP9",42,0)
 W !,"12. SYNCHRONOUS BREAST CANCER........: ",ONC(165.5,IE,910) D P Q:EX=U
"RTN","ONCBRP9",43,0)
 W !!,"13. PERSONAL HISTORY OF OTHER CANCER:" D P Q:EX=U
"RTN","ONCBRP9",44,0)
 W !,"     COLON...........................: ",ONC(165.5,IE,911) D P Q:EX=U
"RTN","ONCBRP9",45,0)
 S FN=912 D FEMALE
"RTN","ONCBRP9",46,0)
 W !,"     OVARY (F).......................: ",ONC(165.5,IE,912) D P Q:EX=U
"RTN","ONCBRP9",47,0)
 S FN=913 D FEMALE
"RTN","ONCBRP9",48,0)
 W !,"     UTERUS (F)......................: ",ONC(165.5,IE,913) D P Q:EX=U
"RTN","ONCBRP9",49,0)
 S FN=914 D MALE
"RTN","ONCBRP9",50,0)
 W !,"     PROSTATE (M)....................: ",ONC(165.5,IE,914) D P Q:EX=U
"RTN","ONCBRP9",51,0)
 W !,"     OTHER...........................: ",ONC(165.5,IE,915) D P Q:EX=U
"RTN","ONCBRP9",52,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9",53,0)
 S FN=916 D FEMALE
"RTN","ONCBRP9",54,0)
 W !,"14. (F) HORMONE REPLACEMENT THERAPY..: ",ONC(165.5,IE,916) D P Q:EX=U
"RTN","ONCBRP9",55,0)
 S FN=917 D FEMALE
"RTN","ONCBRP9",56,0)
 W !,"15. (F) HOW MANY YEARS OF HORMONE"
"RTN","ONCBRP9",57,0)
 W !,"    REPLACEMENT THERAPY..............: ",ONC(165.5,IE,917) D P Q:EX=U
"RTN","ONCBRP9",58,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 G II
"RTN","ONCBRP9",59,0)
 D P Q:EX=U
"RTN","ONCBRP9",60,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCBRP9",61,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCBRP0
"RTN","ONCBRP9",62,0)
 K LINE S $P(LINE,"-",28)="-"
"RTN","ONCBRP9",63,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCBRP9",64,0)
 W !,"16. CLASS OF CASE....................: ",ONC(165.5,IE,.04) D P Q:EX=U
"RTN","ONCBRP9",65,0)
 W !,"17. DIAGNOSTIC EVALUATION:" D P Q:EX=U
"RTN","ONCBRP9",66,0)
 S FN=926 D MALE
"RTN","ONCBRP9",67,0)
 W !,"     MAMMOGRAM (M)...................: ",ONC(165.5,IE,926) D P Q:EX=U
"RTN","ONCBRP9",68,0)
 W !,"     ULTRASOUND (M)(F)...............: ",ONC(165.5,IE,927) D P Q:EX=U
"RTN","ONCBRP9",69,0)
 W !!,"18. (F) TYPE OF MAMMOGRAM:" D P Q:EX=U
"RTN","ONCBRP9",70,0)
 S FN=918 D FEMALE
"RTN","ONCBRP9",71,0)
 W !,"     A. MAMMOGRAM GIVEN, TYPE UNKNOWN: ",ONC(165.5,IE,918) D P Q:EX=U
"RTN","ONCBRP9",72,0)
 W !,"        DATE.........................: ",ONC(165.5,IE,919) D P Q:EX=U
"RTN","ONCBRP9",73,0)
 S FN=920 D FEMALE
"RTN","ONCBRP9",74,0)
 W !,"     B. SCREENING MAMMOGRAM..........: ",ONC(165.5,IE,920) D P Q:EX=U
"RTN","ONCBRP9",75,0)
 W !,"        DATE.........................: ",ONC(165.5,IE,921) D P Q:EX=U
"RTN","ONCBRP9",76,0)
 S FN=922 D FEMALE
"RTN","ONCBRP9",77,0)
 W !,"     C. DIAGNOSTIC MAMMOGRAM.........: ",ONC(165.5,IE,922) D P Q:EX=U
"RTN","ONCBRP9",78,0)
 W !,"        DATE.........................: ",ONC(165.5,IE,923) D P Q:EX=U
"RTN","ONCBRP9",79,0)
 S FN=924 D FEMALE
"RTN","ONCBRP9",80,0)
 W !,"     D. MAGNIFICAITON MAMMOGRAM......: ",ONC(165.5,IE,924) D P Q:EX=U
"RTN","ONCBRP9",81,0)
 W !,"        DATE.........................: ",ONC(165.5,IE,925) D P Q:EX=U
"RTN","ONCBRP9",82,0)
 I IOST'?1"C".E W ! D P Q:EX=U
"RTN","ONCBRP9",83,0)
 S FN=928 D FEMALE
"RTN","ONCBRP9",84,0)
 W !,"19. (F) PRESENTATION OF MOST"
"RTN","ONCBRP9",85,0)
 W !,"    DEFINITIVE MAMMOGRAM.............: ",ONC(165.5,IE,928) D P Q:EX=U
"RTN","ONCBRP9",86,0)
 W !,"20. DATE OF INITIAL DIAGNOSIS........: ",ONC(165.5,IE,3) D P Q:EX=U
"RTN","ONCBRP9",87,0)
 W !,"21. DATE OF PATHOLOGIC DIAGNOSIS.....: ",ONC(165.5,IE,929) D P Q:EX=U
"RTN","ONCBRP9",88,0)
 W !,"22. PRIMARY SITE (ICD-O-2)...........: ",TOPCOD," ",ONC(165.5,IE,20)
"RTN","ONCBRP9",89,0)
 W !,"23. HISTOLOGY (ICD-O-2)..............: ",$E(HIST,1,4) D P Q:EX=U
"RTN","ONCBRP9",90,0)
 W !,"24. BEHAVIOR CODE (ICD-O-2)..........: ",$E(HIST,5) D P Q:EX=U
"RTN","ONCBRP9",91,0)
 W !,"25. IF INVASIVE DUCTUAL CARCINOMA"
"RTN","ONCBRP9",92,0)
 W !,"    REPORTED, IS DCIS ALSO PRESENT...: ",ONC(165.5,IE,930) D P Q:EX=U
"RTN","ONCBRP9",93,0)
 W !,"26. GRADE............................: ",ONC(165.5,IE,24) D P Q:EX=U
"RTN","ONCBRP9",94,0)
 W !,"27. ARCHITECTURE PATTERN IF DCIS"
"RTN","ONCBRP9",95,0)
 W !,"    IS PRESENT.......................: ",ONC(165.5,IE,931) D P Q:EX=U
"RTN","ONCBRP9",96,0)
 W !,"28. NUCLEAR GRADE IF DCIS IS"
"RTN","ONCBRP9",97,0)
 W !,"    PRESENT..........................: ",ONC(165.5,IE,932) D P Q:EX=U
"RTN","ONCBRP9",98,0)
 W !,"29. DIAGNOSTIC CONFIRMATION..........: ",ONC(165.5,IE,26)
"RTN","ONCBRP9",99,0)
 W !,"30. (M) LEVEL OF INVOLVEMENT:" D P Q:EX=U
"RTN","ONCBRP9",100,0)
 S FN=933 D MALE
"RTN","ONCBRP9",101,0)
 W !,"     SKIN............................: ",ONC(165.5,IE,933) D P Q:EX=U
"RTN","ONCBRP9",102,0)
 S FN=934 D MALE
"RTN","ONCBRP9",103,0)
 W !,"     CHEST WALL......................: ",ONC(165.5,IE,934) D P Q:EX=U
"RTN","ONCBRP9",104,0)
 S FN=935 D MALE
"RTN","ONCBRP9",105,0)
 W !,"     PECTORAL MUSCLES................: ",ONC(165.5,IE,935) D P Q:EX=U
"RTN","ONCBRP9",106,0)
 S FN=936 D MALE
"RTN","ONCBRP9",107,0)
 W !,"     DERMAL/LYMPHATIC................: ",ONC(165.5,IE,936) D P Q:EX=U
"RTN","ONCBRP9",108,0)
 W !!,"    DIAGNOSTIC AND STAGING PROCEDURES" D P Q:EX=U
"RTN","ONCBRP9",109,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9",110,0)
 W !,"31. BIOPSY PROCEDURE.................: ",ONC(165.5,IE,141) D P Q:EX=U
"RTN","ONCBRP9",111,0)
 W !,"32. GUIDANCE.........................: ",ONC(165.5,IE,142) D P Q:EX=U
"RTN","ONCBRP9",112,0)
 W !,"33. PALPABILITY OF PRIMARY...........: ",ONC(165.5,IE,143) D P Q:EX=U
"RTN","ONCBRP9",113,0)
 W !,"34. FIRST DETECTED BY................: ",ONC(165.5,IE,144) D P Q:EX=U
"RTN","ONCBRP9",114,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 G III
"RTN","ONCBRP9",115,0)
 D P Q:EX=U
"RTN","ONCBRP9",116,0)
III S TABLE="TABLE III - TUMOR MARKERS AND PROGNOSTIC TESTS"
"RTN","ONCBRP9",117,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCBRP0
"RTN","ONCBRP9",118,0)
 K LINE S $P(LINE,"-",46)="-"
"RTN","ONCBRP9",119,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCBRP9",120,0)
 S FN=937 D MALE
"RTN","ONCBRP9",121,0)
 W !,"35. (M) DNA INDEX/PLOIDY.............: ",ONC(165.5,IE,937) D P Q:EX=U
"RTN","ONCBRP9",122,0)
 W !,"36. ESTROGEN RECEPTOR PROTEIN........: ",ONC(165.5,IE,25.1) D P Q:EX=U
"RTN","ONCBRP9",123,0)
 W !,"37. PROGESTERONE RECEPTOR PROTEIN....: ",ONC(165.5,IE,25.2) D P Q:EX=U
"RTN","ONCBRP9",124,0)
 S FN=940 D MALE
"RTN","ONCBRP9",125,0)
 W !,"38. (M) ANDROGEN RECEPTOR PROTEIN....: ",ONC(165.5,IE,940) D P Q:EX=U
"RTN","ONCBRP9",126,0)
 W !,"39. TYPE OF TEST.....................: ",ONC(165.5,IE,941) D P Q:EX=U
"RTN","ONCBRP9",127,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 G IV
"RTN","ONCBRP9",128,0)
 D P Q:EX=U
"RTN","ONCBRP9",129,0)
IV D ^ONCBRP9A
"RTN","ONCBRP9",130,0)
KILL ;
"RTN","ONCBRP9",131,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCBRP9",132,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCBRP9",133,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y,OSP,IIN
"RTN","ONCBRP9",134,0)
 Q
"RTN","ONCBRP9",135,0)
P ;Print
"RTN","ONCBRP9",136,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCBRP9",137,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBRP9",138,0)
 .D HEAD^ONCBRP0 Q
"RTN","ONCBRP9",139,0)
 Q
"RTN","ONCBRP9",140,0)
TASK ;Queue a task
"RTN","ONCBRP9",141,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCBRP9",142,0)
 S ZTRTN="PRT^ONCBRP9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCBRP9",143,0)
 S ZTDESC="Print Breast Cancer PCE"
"RTN","ONCBRP9",144,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCBRP9",145,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCBRP9",146,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCBRP9",147,0)
FEMALE ;Item for Females Only
"RTN","ONCBRP9",148,0)
 I ONC(165.5,IE,FN)="",$$GET1^DIQ(160,ONCOPA,10,"I")=1 D
"RTN","ONCBRP9",149,0)
 .S ONC(165.5,IE,FN)="(Data Item for Females Only)"
"RTN","ONCBRP9",150,0)
 Q
"RTN","ONCBRP9",151,0)
MALE ;Item for Males Only
"RTN","ONCBRP9",152,0)
 I ONC(165.5,IE,FN)="",$$GET1^DIQ(160,ONCOPA,10,"I")=2 D
"RTN","ONCBRP9",153,0)
 .S ONC(165.5,IE,FN)="(Data Item for Males Only)"
"RTN","ONCBRP9",154,0)
 Q
"RTN","ONCBRP9A")
0^43^B41234576
"RTN","ONCBRP9A",1,0)
ONCBRP9A ;HINES CIOFO/GWB - 1998 Breast Cancer Study - print ;6/1/98
"RTN","ONCBRP9A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP9A",3,0)
IV K LINE S $P(LINE,"-",43)="-"
"RTN","ONCBRP9A",4,0)
 S TABLE="TABLE IV - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCBRP9A",5,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCBRP0
"RTN","ONCBRP9A",6,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCBRP9A",7,0)
 W !,"40. SIZE OF TUMOR (mm)...............: ",ONC(165.5,IE,29) D P Q:EX=U
"RTN","ONCBRP9A",8,0)
 W !,"41. SIZE OF DCIS TUMOR (mm)..........: ",ONC(165.5,IE,942) D P Q:EX=U
"RTN","ONCBRP9A",9,0)
 W !,"42. REGIONAL NODES EXAMINED..........: ",ONC(165.5,IE,33) D P Q:EX=U
"RTN","ONCBRP9A",10,0)
 W !,"43. REGIONAL NODES POSITIVE..........: ",ONC(165.5,IE,32) D P Q:EX=U
"RTN","ONCBRP9A",11,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9A",12,0)
 W !,"    SENTINEL NODES" D P Q:EX=U
"RTN","ONCBRP9A",13,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9A",14,0)
 W !,"44. SENTINEL NODES BIOPSY............: ",ONC(165.5,IE,943) D P Q:EX=U
"RTN","ONCBRP9A",15,0)
 W !,"45. NUMBER OF SENTINEL NODES"
"RTN","ONCBRP9A",16,0)
 W !,"    EXAMINED.........................: ",ONC(165.5,IE,944) D P Q:EX=U
"RTN","ONCBRP9A",17,0)
 W !,"46. NUMBER OF SENTINEL NODES"
"RTN","ONCBRP9A",18,0)
 W !,"    POSITIVE.........................: ",ONC(165.5,IE,945) D P Q:EX=U
"RTN","ONCBRP9A",19,0)
 W !,"47. SENTINEL NODE DETECTED BY........: ",ONC(165.5,IE,946) D P Q:EX=U
"RTN","ONCBRP9A",20,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCBRP9A",21,0)
ACS W !,"48. AJCC CLINICAL STAGE (cTNM):" D P Q:EX=U
"RTN","ONCBRP9A",22,0)
 W !,"     T-CODE..........................: ",ONC(165.5,IE,37.1) D P Q:EX=U
"RTN","ONCBRP9A",23,0)
 W !,"     N-CODE..........................: ",ONC(165.5,IE,37.2) D P Q:EX=U
"RTN","ONCBRP9A",24,0)
 W !,"     M-CODE..........................: ",ONC(165.5,IE,37.3) D P Q:EX=U
"RTN","ONCBRP9A",25,0)
 W !,"     AJCC STAGE......................: ",ONC(165.5,IE,38) D P Q:EX=U
"RTN","ONCBRP9A",26,0)
APS W !!,"49. AJCC PATHOLOGIC STAGE (pTNM):" D P Q:EX=U
"RTN","ONCBRP9A",27,0)
 W !,"     T-CODE..........................: ",ONC(165.5,IE,85) D P Q:EX=U
"RTN","ONCBRP9A",28,0)
 W !,"     N-CODE..........................: ",ONC(165.5,IE,86) D P Q:EX=U
"RTN","ONCBRP9A",29,0)
 W !,"     M-CODE..........................: ",ONC(165.5,IE,87)
"RTN","ONCBRP9A",30,0)
 W !,"     AJCC STAGE......................: ",ONC(165.5,IE,88)
"RTN","ONCBRP9A",31,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9A",32,0)
 W !,"50. STAGED BY:" D P Q:EX=U
"RTN","ONCBRP9A",33,0)
 W !,"     CLINICAL STAGE..................: ",ONC(165.5,IE,19) ;D P Q:EX=U
"RTN","ONCBRP9A",34,0)
 W !,"     PATHOLOGIC STAGE................: ",ONC(165.5,IE,89) ;D P Q:EX=U
"RTN","ONCBRP9A",35,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 G V
"RTN","ONCBRP9A",36,0)
 D P Q:EX=U
"RTN","ONCBRP9A",37,0)
V S TABLE="TABLE V - FIRST COURSE OF TREATMENT"
"RTN","ONCBRP9A",38,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCBRP0
"RTN","ONCBRP9A",39,0)
 K LINE S $P(LINE,"-",35)="-"
"RTN","ONCBRP9A",40,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCBRP9A",41,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCBRP9A",42,0)
 W !,"51. DATE OF FIRST COURSE TREATMENT...: ",DOFCT D P Q:EX=U
"RTN","ONCBRP9A",43,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCBRP9A",44,0)
 W !?4,"NON CANCER-DIRECTED SURGERY",!?4,"---------------------------" D P Q:EX=U
"RTN","ONCBRP9A",45,0)
S W !,"52. DATE OF NON CANCER-DIRECTED"
"RTN","ONCBRP9A",46,0)
 W !,"    SURGERY..........................: ",ONC(165.5,IE,58.3) D P Q:EX=U
"RTN","ONCBRP9A",47,0)
 S DESC=ONC(165.5,IE,58.1)
"RTN","ONCBRP9A",48,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G NCDS
"RTN","ONCBRP9A",49,0)
 S NOP=$L($E(DESC,1,41)," ")
"RTN","ONCBRP9A",50,0)
 S DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",51,0)
NCDS W !,"53. NON CANCER-DIRECTED SURGERY......: ",DESC1 W:DESC2'="" !,?39,DESC2 D P Q:EX=U
"RTN","ONCBRP9A",52,0)
 W !?4,"CANCER-DIRECTED SURGERY",!?4,"-----------------------" D P Q:EX=U
"RTN","ONCBRP9A",53,0)
 W !,"54. DATE OF (FIRST) CANCER-"
"RTN","ONCBRP9A",54,0)
 W !,"    DIRECTED SURGERY.................: ",ONC(165.5,IE,50) D P Q:EX=U
"RTN","ONCBRP9A",55,0)
 S DESC=ONC(165.5,IE,74)
"RTN","ONCBRP9A",56,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G SA
"RTN","ONCBRP9A",57,0)
 S NOP=$L($E(DESC,1,41)," "),DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",58,0)
SA W !,"55. SURGICAL APPROACH................: ",DESC1 W:DESC2'="" !,?39,DESC2 D P Q:EX=U
"RTN","ONCBRP9A",59,0)
CDS S DESC=ONC(165.5,IE,58.2)
"RTN","ONCBRP9A",60,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G SPS
"RTN","ONCBRP9A",61,0)
 S NOP=$L($E(DESC,1,41)," ")
"RTN","ONCBRP9A",62,0)
 S DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",63,0)
SPS W !,"56. SURGERY OF PRIMARY SITE..........: ",DESC1 W:DESC2'="" !,?39,DESC2
"RTN","ONCBRP9A",64,0)
 W !,"57. SPECIMEN RADIOGRAPH..............: ",ONC(165.5,IE,947) D P Q:EX=U
"RTN","ONCBRP9A",65,0)
 S DESC=ONC(165.5,IE,59)
"RTN","ONCBRP9A",66,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G SM
"RTN","ONCBRP9A",67,0)
 S NOP=$L($E(DESC,1,41)," "),DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",68,0)
SM W !,"58. SURGICAL MARGINS.................: ",DESC1 W:DESC2'="" !,?39,DESC2 D P Q:EX=U
"RTN","ONCBRP9A",69,0)
 W !,"59. WAS ENTIRE SPECIMEN SUBMITTED"
"RTN","ONCBRP9A",70,0)
 W !,"    TO PATHOLOGY.....................: ",ONC(165.5,IE,948) D P Q:EX=U
"RTN","ONCBRP9A",71,0)
 W !,"60. IF MARGINS ARE FREE, WHAT IS"
"RTN","ONCBRP9A",72,0)
 W !,"    THE DISTANCE.....................: ",ONC(165.5,IE,949) D P Q:EX=U
"RTN","ONCBRP9A",73,0)
 S DESC=ONC(165.5,IE,138)
"RTN","ONCBRP9A",74,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G SRLNS
"RTN","ONCBRP9A",75,0)
 S NOP=$L($E(DESC,1,41)," "),DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",76,0)
SRLNS W !,"61. SCOPE OF REGIONAL LYMPH NODE"
"RTN","ONCBRP9A",77,0)
 W !,"    SURGERY..........................: ",DESC1 W:DESC2'="" !,?39,DESC2 D P Q:EX=U
"RTN","ONCBRP9A",78,0)
 W !,"62. NUMBER OF REGIONAL LYMPH NODES"
"RTN","ONCBRP9A",79,0)
 W !,"    REMOVED..........................: ",ONC(165.5,IE,140) D P Q:EX=U
"RTN","ONCBRP9A",80,0)
 S DESC=ONC(165.5,ONCONUM,139)
"RTN","ONCBRP9A",81,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G SORS
"RTN","ONCBRP9A",82,0)
 S NOP=$L($E(DESC,1,41)," ")
"RTN","ONCBRP9A",83,0)
 S DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",84,0)
SORS W !,"63. SURGERY OF OTHER REGIONAL"
"RTN","ONCBRP9A",85,0)
 W !,"    SITE(S), DISTANT SITE(S),"
"RTN","ONCBRP9A",86,0)
 W !,"    OR DISTANT LYMPH NODE(S).........: ",DESC1 W:DESC2'="" !,?39,DESC2 D P Q:EX=U
"RTN","ONCBRP9A",87,0)
 S DESC=ONC(165.5,ONCONUM,23)
"RTN","ONCBRP9A",88,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G RR
"RTN","ONCBRP9A",89,0)
 S NOP=$L($E(DESC,1,41)," ")
"RTN","ONCBRP9A",90,0)
 S DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9A",91,0)
RR W !,"64. RECONSTRUCTION/RESTORATION.......: ",DESC1 W:DESC2'="" !,?39,DESC2 D P Q:EX=U
"RTN","ONCBRP9A",92,0)
 W !,"65. RE-EXCISION......................: ",ONC(165.5,IE,950) D P Q:EX=U
"RTN","ONCBRP9A",93,0)
 W !,"66. MICROSCOPIC STATUS OF FINAL"
"RTN","ONCBRP9A",94,0)
 W !,"    MARGIN AFTER RE-EXCISION.........: ",ONC(165.5,IE,951) D P Q:EX=U
"RTN","ONCBRP9A",95,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCBRP9A",96,0)
R W !?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCBRP9A",97,0)
 W !,"67. RADIATION THERAPY................: ",ONC(165.5,IE,51.2) D P Q:EX=U
"RTN","ONCBRP9A",98,0)
 W !,"68. PRE-RADIATION THERAPY"
"RTN","ONCBRP9A",99,0)
 W !,"    MAMMOGRAM OF PATIENT.............: ",ONC(165.5,IE,952) D P Q:EX=U
"RTN","ONCBRP9A",100,0)
 W !,"69. DATE RADIATION STARTED...........: ",ONC(165.5,IE,51) D P Q:EX=U
"RTN","ONCBRP9A",101,0)
 W !,"70. DATE RADIATION ENDED.............: ",ONC(165.5,IE,361) D P Q:EX=U
"RTN","ONCBRP9A",102,0)
 W !,"71. SITES IRRADIATED.................: ",ONC(165.5,IE,953) D P Q:EX=U
"RTN","ONCBRP9A",103,0)
 S FN=954 D FEMALE^ONCBRP9
"RTN","ONCBRP9A",104,0)
 W !,"72. (F) cCy DOSE TO WHOLE BREAST"
"RTN","ONCBRP9A",105,0)
 W !,"    OR CHEST WALL....................: ",ONC(165.5,IE,954) D P Q:EX=U
"RTN","ONCBRP9A",106,0)
 W !,"73. BOOST RADIATION..................: ",ONC(165.5,IE,443) D P Q:EX=U
"RTN","ONCBRP9A",107,0)
 W !,"74. REASON FOR NOT RADIATION.........: ",ONC(165.5,IE,75) D P Q:EX=U
"RTN","ONCBRP9A",108,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 W !?4,TABLE_" (continued)",!?4,LINE_"------------" G H
"RTN","ONCBRP9A",109,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9A",110,0)
H W !,"    HORMONE THERAPY"
"RTN","ONCBRP9A",111,0)
 W !,"    ---------------"
"RTN","ONCBRP9A",112,0)
 W !,"75. HORMONE THERAPY..................: ",ONC(165.5,IE,54.2) D P Q:EX=U
"RTN","ONCBRP9A",113,0)
 W !,"76. DATE HORMONE THERAPY STARTED.....: ",ONC(165.5,IE,54) D P Q:EX=U
"RTN","ONCBRP9A",114,0)
 S FN=955 D MALE^ONCBRP9
"RTN","ONCBRP9A",115,0)
 W !,"77. (M) SPECIFIC HORMONE THERAPY.....: ",ONC(165.5,IE,955) D P Q:EX=U
"RTN","ONCBRP9A",116,0)
 W ! D P Q:EX=U
"RTN","ONCBRP9A",117,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCBRP9A",118,0)
 W !,"78. CHEMOTHERAPY.....................: ",ONC(165.5,IE,53.2) D P Q:EX=U
"RTN","ONCBRP9A",119,0)
 W !,"79. DATE CHEMOTHERAPY STARTED........: ",ONC(165.5,IE,53) D P Q:EX=U
"RTN","ONCBRP9A",120,0)
 W !,"80. CHEMOTHERAPEUTIC REGIME"
"RTN","ONCBRP9A",121,0)
 W !,"    CONTAINING DOXORUBICIN...........: ",ONC(165.5,IE,956) D P Q:EX=U
"RTN","ONCBRP9A",122,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCBRP0 G VI
"RTN","ONCBRP9A",123,0)
 D P Q:EX=U
"RTN","ONCBRP9A",124,0)
VI D ^ONCBRP9B
"RTN","ONCBRP9A",125,0)
KILL ;Kill Variables and Exit
"RTN","ONCBRP9A",126,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,DESC,DESC1,DESC2
"RTN","ONCBRP9A",127,0)
 Q
"RTN","ONCBRP9A",128,0)
P ;Display Data
"RTN","ONCBRP9A",129,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCBRP9A",130,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBRP9A",131,0)
 .D HEAD^ONCBRP0 Q
"RTN","ONCBRP9A",132,0)
 Q
"RTN","ONCBRP9B")
0^44^B4450430
"RTN","ONCBRP9B",1,0)
ONCBRP9B ;HINES CIOFO/GWB - 1998 Breast Cancer Study - print ;6/1/98
"RTN","ONCBRP9B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCBRP9B",3,0)
VI S TABLE="TABLE VI - FIRST RECURRENCE"
"RTN","ONCBRP9B",4,0)
 I IOST'?1"C".E W !
"RTN","ONCBRP9B",5,0)
 W !?4,TABLE,!?4,"---------------------------" D P Q:EX=U
"RTN","ONCBRP9B",6,0)
 W !,"81. DATE OF FIRST RECURRENCE.........: ",ONC(165.5,IE,70) D P Q:EX=U
"RTN","ONCBRP9B",7,0)
 S DESC=ONC(165.5,ONCONUM,71)
"RTN","ONCBRP9B",8,0)
 S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<43 S DESC1=DESC G TFR
"RTN","ONCBRP9B",9,0)
 S NOP=$L($E(DESC,1,41)," ")
"RTN","ONCBRP9B",10,0)
 S DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCBRP9B",11,0)
TFR W !,"82. TYPE OF FIRST RECURRENCE.........: ",DESC1 W:DESC2'="" !,?39,DESC2 S END=1 D P Q:EX=U
"RTN","ONCBRP9B",12,0)
VII S TABLE="TABLE VII - STATUS AT LAST CONTACT"
"RTN","ONCBRP9B",13,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCBRP0
"RTN","ONCBRP9B",14,0)
 W !!?4,TABLE,!?4,"----------------------------------" D P Q:EX=U
"RTN","ONCBRP9B",15,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCBRP9B",16,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCBRP9B",17,0)
 W !,"83. DATE OF LAST CONTACT OR DEATH....: ",DLC
"RTN","ONCBRP9B",18,0)
 W !,"84. VITAL STATUS.....................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCBRP9B",19,0)
 S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCBRP9B",20,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCBRP9B",21,0)
 .S CSI=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCBRP9B",22,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSI,0),U,2)
"RTN","ONCBRP9B",23,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCBRP9B",24,0)
 W !,"85. CANCER STATUS....................: ",CS
"RTN","ONCBRP9B",25,0)
 W !,"86. COMPLETED BY.....................: ",ONC(165.5,IE,81) D P Q:EX=U
"RTN","ONCBRP9B",26,0)
 W !,"87. REVIEWED BY CANCER COMMITTEE.....: ",ONC(165.5,IE,82) D P Q:EX=U
"RTN","ONCBRP9B",27,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCBRP9B",28,0)
KILL ;Kill Variables and Exit
"RTN","ONCBRP9B",29,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTI
"RTN","ONCBRP9B",30,0)
 Q
"RTN","ONCBRP9B",31,0)
P ;Display Data
"RTN","ONCBRP9B",32,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  I IOST?1"C".E,$G(END)'=1 W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCBRP9B",33,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCBRP9B",34,0)
 .D HEAD^ONCBRP0 Q
"RTN","ONCBRP9B",35,0)
 K END Q
"RTN","ONCCPC0")
0^45^B18285534
"RTN","ONCCPC0",1,0)
ONCCPC0 ;HIRMFO/GWB - PCE Study of Colorectal Cancer;2/7/97
"RTN","ONCCPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCCPC0",4,0)
 ;Check if ACCESSION YEAR = 1997
"RTN","ONCCPC0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1997 S MSG="The Accession Year is not 1997." D ERRMSG G EXIT
"RTN","ONCCPC0",6,0)
 ;Check if microscopically confirmed
"RTN","ONCCPC0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCCPC0",8,0)
 ;Check if Class of Case is either 1, 2 or 6.
"RTN","ONCCPC0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2)&(COC'=6) S MSG="The Class of Case code is not 1, 2 or 6." D ERRMSG G EXIT
"RTN","ONCCPC0",10,0)
 ;Check if HISTOLOGY and BEHAVIOR is eligible
"RTN","ONCCPC0",11,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCCPC0",12,0)
 S HIST1234=$E(HIST,1,4),BEH=$E(HIST,5)
"RTN","ONCCPC0",13,0)
 I HIST="" S MSG="There is no HISTOLOGY for this primary." D ERRMSG G EXIT
"RTN","ONCCPC0",14,0)
 I (BEH'=2)&(BEH'=3) S MSG="The BEHAVIOR code is not 2 (in situ) or 3 (malignant)." D ERRMSG G EXIT
"RTN","ONCCPC0",15,0)
 S HIST(8140)=""
"RTN","ONCCPC0",16,0)
 S HIST(8141)=""
"RTN","ONCCPC0",17,0)
 S HIST(8143)=""
"RTN","ONCCPC0",18,0)
 S HIST(8144)=""
"RTN","ONCCPC0",19,0)
 S HIST(8145)=""
"RTN","ONCCPC0",20,0)
 S HIST(8147)=""
"RTN","ONCCPC0",21,0)
 S HIST(8150)=""
"RTN","ONCCPC0",22,0)
 S HIST(8154)=""
"RTN","ONCCPC0",23,0)
 S HIST(8160)=""
"RTN","ONCCPC0",24,0)
 S HIST(8190)=""
"RTN","ONCCPC0",25,0)
 S HIST(8200)=""
"RTN","ONCCPC0",26,0)
 S HIST(8210)=""
"RTN","ONCCPC0",27,0)
 S HIST(8211)=""
"RTN","ONCCPC0",28,0)
 S HIST(8220)=""
"RTN","ONCCPC0",29,0)
 S HIST(8221)=""
"RTN","ONCCPC0",30,0)
 S HIST(8244)=""
"RTN","ONCCPC0",31,0)
 S HIST(8250)=""
"RTN","ONCCPC0",32,0)
 S HIST(8251)=""
"RTN","ONCCPC0",33,0)
 S HIST(8260)=""
"RTN","ONCCPC0",34,0)
 S HIST(8261)=""
"RTN","ONCCPC0",35,0)
 S HIST(8262)=""
"RTN","ONCCPC0",36,0)
 S HIST(8263)=""
"RTN","ONCCPC0",37,0)
 S HIST(8270)=""
"RTN","ONCCPC0",38,0)
 S HIST(8280)=""
"RTN","ONCCPC0",39,0)
 S HIST(8290)=""
"RTN","ONCCPC0",40,0)
 S HIST(8300)=""
"RTN","ONCCPC0",41,0)
 S HIST(8310)=""
"RTN","ONCCPC0",42,0)
 S HIST(8312)=""
"RTN","ONCCPC0",43,0)
 S HIST(8320)=""
"RTN","ONCCPC0",44,0)
 S HIST(8322)=""
"RTN","ONCCPC0",45,0)
 S HIST(8323)=""
"RTN","ONCCPC0",46,0)
 S HIST(8330)=""
"RTN","ONCCPC0",47,0)
 S HIST(8331)=""
"RTN","ONCCPC0",48,0)
 S HIST(8332)=""
"RTN","ONCCPC0",49,0)
 S HIST(8340)=""
"RTN","ONCCPC0",50,0)
 S HIST(8350)=""
"RTN","ONCCPC0",51,0)
 S HIST(8370)=""
"RTN","ONCCPC0",52,0)
 S HIST(8380)=""
"RTN","ONCCPC0",53,0)
 S HIST(8400)=""
"RTN","ONCCPC0",54,0)
 S HIST(8401)=""
"RTN","ONCCPC0",55,0)
 S HIST(8410)=""
"RTN","ONCCPC0",56,0)
 S HIST(8420)=""
"RTN","ONCCPC0",57,0)
 S HIST(8441)=""
"RTN","ONCCPC0",58,0)
 S HIST(8450)=""
"RTN","ONCCPC0",59,0)
 S HIST(8460)=""
"RTN","ONCCPC0",60,0)
 S HIST(8470)=""
"RTN","ONCCPC0",61,0)
 S HIST(8480)=""
"RTN","ONCCPC0",62,0)
 S HIST(8481)=""
"RTN","ONCCPC0",63,0)
 S HIST(8490)=""
"RTN","ONCCPC0",64,0)
 S HIST(8500)=""
"RTN","ONCCPC0",65,0)
 S HIST(8503)=""
"RTN","ONCCPC0",66,0)
 S HIST(8504)=""
"RTN","ONCCPC0",67,0)
 S HIST(8510)=""
"RTN","ONCCPC0",68,0)
 S HIST(8520)=""
"RTN","ONCCPC0",69,0)
 S HIST(8530)=""
"RTN","ONCCPC0",70,0)
 S HIST(8550)=""
"RTN","ONCCPC0",71,0)
 S HIST(8560)=""
"RTN","ONCCPC0",72,0)
 S HIST(8570)=""
"RTN","ONCCPC0",73,0)
 S HIST(8571)=""
"RTN","ONCCPC0",74,0)
 S HIST(8572)=""
"RTN","ONCCPC0",75,0)
 S HIST(8573)=""
"RTN","ONCCPC0",76,0)
 S HIST(9070)=""
"RTN","ONCCPC0",77,0)
 S HIST(9110)=""
"RTN","ONCCPC0",78,0)
 I '$D(HIST(HIST1234)) S MSG="The Histology of "_$E(HIST,1,4)_"/"_$E(HIST,5)_" is not eligible." D ERRMSG G EXIT
"RTN","ONCCPC0",79,0)
MENU ;Colorectal Cancer PCE menu
"RTN","ONCCPC0",80,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="COL"
"RTN","ONCCPC0",81,0)
 S ^ONCO(165.5,"APCE","COL",ONCONUM)=""
"RTN","ONCCPC0",82,0)
 K DIR D HEAD
"RTN","ONCCPC0",83,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis/Cancer Identification;3:Extent of Disease and AJCC Stage;4:First Course of Treatment;5:Quality of Life;6:First Recurrence;7:Status at Last Contact;8:All;"
"RTN","ONCCPC0",84,0)
 S DIR(0)=DIR(0)_"9:Print Colorectal Cancer PCE"
"RTN","ONCCPC0",85,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCCPC0",86,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCCPC0",87,0)
 I Y=8 S OUT="" D  G MENU
"RTN","ONCCPC0",88,0)
 .D ^ONCCPC1 Q:$G(OUT)="Y"
"RTN","ONCCPC0",89,0)
 .D ^ONCCPC2 Q:$G(OUT)="Y"
"RTN","ONCCPC0",90,0)
 .D ^ONCCPC3 Q:$G(OUT)="Y"
"RTN","ONCCPC0",91,0)
 .D ^ONCCPC4 Q:$G(OUT)="Y"
"RTN","ONCCPC0",92,0)
 .D ^ONCCPC5 Q:$G(OUT)="Y"
"RTN","ONCCPC0",93,0)
 .D ^ONCCPC6 Q:$G(OUT)="Y"
"RTN","ONCCPC0",94,0)
 .D ^ONCCPC7 Q:$G(OUT)="Y"
"RTN","ONCCPC0",95,0)
 I Y=9 D ^ONCCPC9 G MENU
"RTN","ONCCPC0",96,0)
 S SUB="^ONCCPC"_Y D @SUB G MENU
"RTN","ONCCPC0",97,0)
ERRMSG ;Error message
"RTN","ONCCPC0",98,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCCPC0",99,0)
 K MSG Q
"RTN","ONCCPC0",100,0)
HEAD ;Colorectal Cancer PCE header
"RTN","ONCCPC0",101,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCCPC0",102,0)
 S HDL=$L("Patient Care Evaluation Study of Colorectal Cancer"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCCPC0",103,0)
 W !,?TAB,"Patient Care Evaluation Study of Colorectal Cancer",!,DASHES
"RTN","ONCCPC0",104,0)
 Q
"RTN","ONCCPC0",105,0)
EXIT ;Kill variables and exit
"RTN","ONCCPC0",106,0)
 K COC,DC,HDL,HIST,HIS1234,BEH,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCCPC0",107,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCCPC0",108,0)
 Q
"RTN","ONCCPC1")
0^46^B18505199
"RTN","ONCCPC1",1,0)
ONCCPC1 ;Hines OIFO/GWB - PCE Study of Colorectal Cancer ;05/30/00
"RTN","ONCCPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC1",3,0)
 ;Table I
"RTN","ONCCPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCCPC1",5,0)
 S TABLE("ACCESSION NUMBER")="AN"
"RTN","ONCCPC1",6,0)
 S TABLE("SEQUENCE NUMBER")="SN"
"RTN","ONCCPC1",7,0)
 S TABLE("POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCCPC1",8,0)
 S TABLE("DATE OF BIRTH")="DOB"
"RTN","ONCCPC1",9,0)
 S TABLE("RACE")="R"
"RTN","ONCCPC1",10,0)
 S TABLE("SPANISH ORIGIN")="SO"
"RTN","ONCCPC1",11,0)
 S TABLE("SEX")="S"
"RTN","ONCCPC1",12,0)
 S TABLE("PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCCPC1",13,0)
 S TABLE("FAMILY HISTORY OF COLORECTAL CANCER")="FHOCC"
"RTN","ONCCPC1",14,0)
 S TABLE("PERSONAL HISTORY OF COLORECTAL CANCER")="PHOCC"
"RTN","ONCCPC1",15,0)
 S TABLE("MULTIPLE COLON/RECTUM PRIMARIES 1997")="MPWCR"
"RTN","ONCCPC1",16,0)
 S TABLE("PERSONAL HISTORY OF NON-COLORECTAL CANCER")="PHONC"
"RTN","ONCCPC1",17,0)
 S TABLE("PREVIOUS TAH/BSO")="PTAHBSO"
"RTN","ONCCPC1",18,0)
 S TABLE("OTHER PRIOR CONDITIONS")="OPC"
"RTN","ONCCPC1",19,0)
 S HTABLE(1)="ACCESSION NUMBER"
"RTN","ONCCPC1",20,0)
 S HTABLE(2)="SEQUENCE NUMBER"
"RTN","ONCCPC1",21,0)
 S HTABLE(3)="POSTAL CODE AT DIAGNOSIS"
"RTN","ONCCPC1",22,0)
 S HTABLE(4)="DATE OF BIRTH"
"RTN","ONCCPC1",23,0)
 S HTABLE(5)="RACE"
"RTN","ONCCPC1",24,0)
 S HTABLE(6)="SPANISH ORIGIN"
"RTN","ONCCPC1",25,0)
 S HTABLE(7)="SEX"
"RTN","ONCCPC1",26,0)
 S HTABLE(8)="PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCCPC1",27,0)
 S HTABLE(9)="FAMILY HISTORY OF COLORECTAL CANCER"
"RTN","ONCCPC1",28,0)
 S HTABLE(10)="PERSONAL HISTORY OF COLORECTAL CANCER"
"RTN","ONCCPC1",29,0)
 S HTABLE(11)="MULTIPLE COLON/RECTUM PRIMARIES 1997"
"RTN","ONCCPC1",30,0)
 S HTABLE(12)="PERSONAL HISTORY OF NON-COLORECTAL CANCER"
"RTN","ONCCPC1",31,0)
 S HTABLE(13)="PREVIOUS TAH/BSO"
"RTN","ONCCPC1",32,0)
 S HTABLE(14)="OTHER PRIOR CONDITIONS"
"RTN","ONCCPC1",33,0)
 S CHOICES=14
"RTN","ONCCPC1",34,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".05;.06",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCCPC1",35,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCCPC1",36,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC1",37,0)
 W !?25,"TABLE I - GENERAL INFORMATION"
"RTN","ONCCPC1",38,0)
 W !?25,"-----------------------------"
"RTN","ONCCPC1",39,0)
AN W !,"ACCESSION NUMBER.....................: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCCPC1",40,0)
SN W !,"SEQUENCE NUMBER......................: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCCPC1",41,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",42,0)
 S DR="9POSTAL CODE AT DIAGNOSIS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",43,0)
DOB W !,"DATE OF BIRTH........................: ",DOB
"RTN","ONCCPC1",44,0)
R S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCCPC1",45,0)
 S DR="8RACE................................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",46,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCCPC1",47,0)
 S DR="9SPANISH ORIGIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",48,0)
S S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCCPC1",49,0)
 S DR="10SEX.................................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",50,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",51,0)
 S DR="18PRIMARY PAYER AT DIAGNOSIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",52,0)
FHOCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",53,0)
 S DR="700FAMILY HISTORY OF COLORECTAL CANCER.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",54,0)
PHOCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",55,0)
 S DR="701PERSONAL HISTORY OF COLORECTAL CANCER" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",56,0)
MPWCR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",57,0)
 S DR="702MULTIPLE COLON/RECTUM PRIMARIES 1997." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",58,0)
PHONC W !!,"PERSONAL HISTORY OF NON-COLORECTAL CANCER:",!
"RTN","ONCCPC1",59,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",60,0)
 S DR="703  BREAST............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",61,0)
 S DR="302  CERVIX............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",62,0)
 S DR="704  LUNG..............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",63,0)
 S DR="705  OVARY.............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",64,0)
 S DR="706  OVARIAN CARCINOMA, PERITONEAL SITE." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",65,0)
 S DR="307  PROSTATE..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",66,0)
 S DR="707  STOMACH............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",67,0)
 S DR="708  THYROID............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",68,0)
 S DR="709  UTERUS............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",69,0)
 S DR="308  OTHER.............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",70,0)
 W !
"RTN","ONCCPC1",71,0)
PTAHBSO S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",72,0)
 S DR="710PREVIOUS TAH/BSO....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",73,0)
OPC W !!,"OTHER PRIOR CONDITIONS:",!
"RTN","ONCCPC1",74,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC1",75,0)
 S DR="711  FAP................................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",76,0)
 S DR="712  HNPCC.............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",77,0)
 S DR="713  IBD................................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",78,0)
 S DR="714  PRIOR POLYPS......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",79,0)
 S DR="715  POLYPS............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC1",80,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCPC1",81,0)
 G EXIT
"RTN","ONCCPC1",82,0)
JUMP ;Jump to prompts
"RTN","ONCCPC1",83,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC1",84,0)
 I X["?" D  G JUMP
"RTN","ONCCPC1",85,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC1",86,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC1",87,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC1",88,0)
 S X=TABLE(X)
"RTN","ONCCPC1",89,0)
 G @X
"RTN","ONCCPC1",90,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCCPC1",91,0)
 K DOB
"RTN","ONCCPC1",92,0)
 K DA,DR,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,XX,Y
"RTN","ONCCPC1",93,0)
 Q
"RTN","ONCCPC2")
0^47^B23982785
"RTN","ONCCPC2",1,0)
ONCCPC2 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table II;2/12/97
"RTN","ONCCPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCCPC2",4,0)
 S TABLE("CLASS OF CASE")="COC"
"RTN","ONCCPC2",5,0)
 S TABLE("DURATION OF SIGNS/SYMPTOMS PRESENT AT INITIAL DIAGNOSIS (months)")="DOS"
"RTN","ONCCPC2",6,0)
 S TABLE("INITIAL METHODS OF DIAGNOSIS")="IMOD"
"RTN","ONCCPC2",7,0)
 S TABLE("REASON LEADING TO EVENTUAL DX")="RLTED"
"RTN","ONCCPC2",8,0)
 S TABLE("DIAGNOSTIC EVALUATION")="DE"
"RTN","ONCCPC2",9,0)
 S TABLE("LEVEL OF TUMOR BY ENDOSCOPIC EXAM")="LOTBEE"
"RTN","ONCCPC2",10,0)
 S TABLE("LEVEL OF RECTAL TUMOR")="LORT"
"RTN","ONCCPC2",11,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DOID"
"RTN","ONCCPC2",12,0)
 S TABLE("PRIMARY SITE")="PS"
"RTN","ONCCPC2",13,0)
 S TABLE("HISTOLOGY/BEHAVIOR CODE")="H"
"RTN","ONCCPC2",14,0)
 S TABLE("GRADE")="G"
"RTN","ONCCPC2",15,0)
 S TABLE("DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCCPC2",16,0)
 S HTABLE(1)="CLASS OF CASE"
"RTN","ONCCPC2",17,0)
 S HTABLE(2)="DURATION OF SIGNS/SYMPTOMS PRESENT AT INITIAL DIAGNOSIS (months)"
"RTN","ONCCPC2",18,0)
 S HTABLE(3)="INITIAL METHODS OF DIAGNOSIS"
"RTN","ONCCPC2",19,0)
 S HTABLE(4)="REASON LEADING TO EVENTUAL DX"
"RTN","ONCCPC2",20,0)
 S HTABLE(5)="DIAGNOSTIC EVALUATION"
"RTN","ONCCPC2",21,0)
 S HTABLE(6)="LEVEL OF TUMOR BY ENDOSCOPIC EXAM"
"RTN","ONCCPC2",22,0)
 S HTABLE(7)="LEVEL OF RECTAL TUMOR"
"RTN","ONCCPC2",23,0)
 S HTABLE(8)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCCPC2",24,0)
 S HTABLE(9)="PRIMARY SITE"
"RTN","ONCCPC2",25,0)
 S HTABLE(10)="HISTOLOGY/BEHAVIOR CODE"
"RTN","ONCCPC2",26,0)
 S HTABLE(11)="GRADE"
"RTN","ONCCPC2",27,0)
 S HTABLE(12)="DIAGNOSTIC CONFIRMATION"
"RTN","ONCCPC2",28,0)
 S CHOICES=12
"RTN","ONCCPC2",29,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;22;24;26",DA=ONCONUM,DIQ="ONC"
"RTN","ONCCPC2",30,0)
 D EN^DIQ1
"RTN","ONCCPC2",31,0)
 S Y=$P(^ONCO(165.5,ONCONUM,0),U,16) D DATEOT^ONCOPCE S DOID=Y
"RTN","ONCCPC2",32,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC2",33,0)
 W !?26,"TABLE II- INITIAL DIAGNOSIS"
"RTN","ONCCPC2",34,0)
 W !?26,"---------------------------"
"RTN","ONCCPC2",35,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC2",36,0)
COC W !,"CLASS OF CLASS...................: ",ONC(165.5,ONCONUM,.04)
"RTN","ONCCPC2",37,0)
DOS W !!,"DURATION OF SIGNS/SYMPTOMS PRESENT AT INITIAL DIAGNOSIS (months):",!
"RTN","ONCCPC2",38,0)
 S DR="716  ANEMIA........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",39,0)
 S DR="717  BOWEL OBSTRUCTION.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",40,0)
 S DR="718  CHANGE IN BOWEL HABIT.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",41,0)
 S DR="719  EMER PRESENTATION-OBSTRUCTION.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",42,0)
 S DR="720  JAUNDICE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",43,0)
 S DR="721  MALAISE........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",44,0)
 S DR="722  OCCULT BLOOD ONLY IN STOOL....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",45,0)
 S DR="723  PAIN (ABDOMINAL)..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",46,0)
 S DR="724  PAIN (PELVIC).................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",47,0)
 S DR="725  RECTAL BLEEDING (MELENA)......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",48,0)
 S DR="726  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",49,0)
IMOD W !!,"INITIAL METHODS OF DIAGNOSIS:",!
"RTN","ONCCPC2",50,0)
 S DR="727  ENDOSCOPIC....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",51,0)
 S DR="728  RADIOGRAPHIC..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",52,0)
 S DR="729  SCREENING DIGITAL RECTAL EXAM.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",53,0)
 S DR="730  SCREENING PHYSICAL EXAM........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",54,0)
 S DR="731  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",55,0)
RLTED W !
"RTN","ONCCPC2",56,0)
 S DR="732REASON LEADING TO EVENTUAL DX...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",57,0)
DE W !!,"DIAGNOSTIC EVALUATION:",!
"RTN","ONCCPC2",58,0)
 S DR="733  BARIUM ENEMA, DOUBLE CONTRAST.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",59,0)
 S DR="734  BARIUM ENEMA, SINGLE CONTRAST.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",60,0)
 S DR="735  BARIUM ENEMA, NOS.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",61,0)
 S DR="736  BIOPSY OF PRIMARY SITE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",62,0)
 S DR="737  BIOPSY OF METASTATIC SITE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",63,0)
 S DR="421  CT SCAN OF CHEST..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",64,0)
 S DR="738  CT SCAN OF LIVER..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",65,0)
 S DR="739  CT SCAN OF PRIMARY SITE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",66,0)
 S DR="740  CEA (PREOPERATIVE)............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",67,0)
 S DR="741  CHEST ROENTGENOGRAM............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",68,0)
 S DR="742  COLONOSCOPY...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",69,0)
 S DR="743  DIGITAL RECTAL EXAM............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",70,0)
 S DR="744  FLEXIBLE SIGMOIDOSCOPY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",71,0)
 S DR="745  INTRAVENOUS PYELOGRAM (IVP)...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",72,0)
 S DR="746  SERUM-LIVER FUNCTION TEST......" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",73,0)
 S DR="747  MRI............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",74,0)
 S DR="748  PROCTOSCOPY (RIGID)............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",75,0)
 S DR="749  STOOL GUAIAC (OCCULT BLOOD)...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",76,0)
 S DR="750  ULTRASOUND, LIVER, ABDOMEN....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",77,0)
 S DR="751  ULTRASOUND, ENDORECTAL........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",78,0)
 S DR="430  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",79,0)
 W !
"RTN","ONCCPC2",80,0)
LOTBEE S DR="752LEVEL OF TUMOR BY ENDOSCOPIC EXAM" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",81,0)
LORT S DR="753LEVEL OF RECTAL TUMOR............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",82,0)
DOID W !,"DATE OF INITIAL DIAGNOSIS........: ",DOID
"RTN","ONCCPC2",83,0)
PS W !,"PRIMARY SITE.....................: ",TOPCOD
"RTN","ONCCPC2",84,0)
H W !,"HISTOLOGY/BEHAVIOR CODE..........: ",ONC(165.5,ONCONUM,22)
"RTN","ONCCPC2",85,0)
G S DR="24GRADE............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",86,0)
DC S DR="26DIAGNOSTIC CONFIRMATION.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC2",87,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCPC2",88,0)
 G EXIT
"RTN","ONCCPC2",89,0)
JUMP ;Jump to prompts
"RTN","ONCCPC2",90,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC2",91,0)
 I X["?" D  G JUMP
"RTN","ONCCPC2",92,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC2",93,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC2",94,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC2",95,0)
 S X=TABLE(X)
"RTN","ONCCPC2",96,0)
 G @X
"RTN","ONCCPC2",97,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCCPC2",98,0)
 K DOID,HST,HSTCD,HSTNAM,PRINODE0,PRINODE2,TOPOG,TOPCD,SITE
"RTN","ONCCPC2",99,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCCPC2",100,0)
 Q
"RTN","ONCCPC3")
0^48^B13119883
"RTN","ONCCPC3",1,0)
ONCCPC3 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table III;2/20/97
"RTN","ONCCPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCCPC3",4,0)
 S TABLE("SIZE OF TUMOR (mm)")="SOT"
"RTN","ONCCPC3",5,0)
 S TABLE("REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCCPC3",6,0)
 S TABLE("REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCCPC3",7,0)
 S TABLE("AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCCPC3",8,0)
 S TABLE("AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCCPC3",9,0)
 S TABLE("CLINICAL STAGED BY")="CSB"
"RTN","ONCCPC3",10,0)
 S TABLE("PATHOLOGIC STAGED BY")="PSB"
"RTN","ONCCPC3",11,0)
 S TABLE("MARGIN OF RESECTION")="MOR"
"RTN","ONCCPC3",12,0)
 S TABLE("DISTANCE TO CLOSEST MUCOSAL MARGIN")="DTCMM"
"RTN","ONCCPC3",13,0)
 S TABLE("DISTANCE TO CLOSEST RADIAL MARGIN")="DTCRM"
"RTN","ONCCPC3",14,0)
 S TABLE("BLOOD VESSEL OR LYMPHATIC INVASION")="BVOLI"
"RTN","ONCCPC3",15,0)
 S TABLE("EXTRAMURAL VENOUS INVASION")="EVI"
"RTN","ONCCPC3",16,0)
 S TABLE("PROMINENT LYMPHOID INFILTRATE")="PLI"
"RTN","ONCCPC3",17,0)
 S HTABLE(1)="SIZE OF TUMOR (mm)"
"RTN","ONCCPC3",18,0)
 S HTABLE(2)="REGIONAL NODES EXAMINED"
"RTN","ONCCPC3",19,0)
 S HTABLE(3)="REGIONAL NODES POSITIVE"
"RTN","ONCCPC3",20,0)
 S HTABLE(4)="AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCCPC3",21,0)
 S HTABLE(5)="AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCCPC3",22,0)
 S HTABLE(6)="CLINICAL STAGED BY"
"RTN","ONCCPC3",23,0)
 S HTABLE(7)="PATHOLOGIC STAGED BY"
"RTN","ONCCPC3",24,0)
 S HTABLE(8)="MARGIN OF RESECTION"
"RTN","ONCCPC3",25,0)
 S HTABLE(9)="DISTANCE TO CLOSEST MUCOSAL MARGIN"
"RTN","ONCCPC3",26,0)
 S HTABLE(10)="DISTANCE TO CLOSEST RADIAL MARGIN"
"RTN","ONCCPC3",27,0)
 S HTABLE(11)="BLOOD VESSEL OR LYMPHATIC INVASION"
"RTN","ONCCPC3",28,0)
 S HTABLE(12)="EXTRAMURAL VENOUS INVASION"
"RTN","ONCCPC3",29,0)
 S HTABLE(13)="PROMINENT LYMPHOID INFILTRATE"
"RTN","ONCCPC3",30,0)
 S CHOICES=13
"RTN","ONCCPC3",31,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC3",32,0)
 W !?18,"TABLE III- EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCCPC3",33,0)
 W !?18,"-------------------------------------------"
"RTN","ONCCPC3",34,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC3",35,0)
SOT S DR="29SIZE OF TUMOR (mm)............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",36,0)
RNE S DR="33REGIONAL NODES EXAMINED........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",37,0)
RNP S DR="32REGIONAL NODES POSITIVE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",38,0)
ACS W !!,"AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCCPC3",39,0)
CTCODE S DR="37.1  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",40,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCCPC3",41,0)
CNCODE S DR="37.2  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",42,0)
CMCODE S DR="37.3  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",43,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCCPC3",44,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCCPC3",45,0)
CSTAGE ;W ! S DR="38  AJCC STAGE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",46,0)
CSB S DR="19  CLINICAL STAGED BY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",47,0)
APS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCCPC3",48,0)
PTCODE S DR="85  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",49,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCCPC3",50,0)
PNCODE S DR="86  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",51,0)
PMCODE S DR="87  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",52,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCCPC3",53,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCCPC3",54,0)
PSTAGE ;W ! S DR="88  AJCC STAGE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",55,0)
PSB S DR="89  PATHOLOGIC STAGED BY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",56,0)
MOR W !!,"MARGIN OF RESECTION:",!
"RTN","ONCCPC3",57,0)
 S DR="754  PROXIMAL MARGIN.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",58,0)
 S DR="755  DISTAL MARGIN................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",59,0)
 S DR="756  RADIAL MARGIN................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",60,0)
 W !
"RTN","ONCCPC3",61,0)
DTCMM S DR="757DISTANCE TO MUCOSAL MARGIN....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",62,0)
DTCRM S DR="758DISTANCE TO RADIAL MARGIN......" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",63,0)
BVOLI S DR="759BLOOD VESSEL/LYMPHATIC INVASION" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",64,0)
EVI S DR="760EXTRAMURAL VENOUS INVASION....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",65,0)
PLI S DR="761PROMINENT LYMPHOID INFILTRATE.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC3",66,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCPC3",67,0)
 G EXIT
"RTN","ONCCPC3",68,0)
JUMP ;Jump to prompts
"RTN","ONCCPC3",69,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC3",70,0)
 I X["?" D  G JUMP
"RTN","ONCCPC3",71,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC3",72,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC3",73,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC3",74,0)
 S X=TABLE(X)
"RTN","ONCCPC3",75,0)
 G @X
"RTN","ONCCPC3",76,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCCPC3",77,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCCPC3",78,0)
 Q
"RTN","ONCCPC4")
0^49^B42722216
"RTN","ONCCPC4",1,0)
ONCCPC4 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table IV;2/20/97
"RTN","ONCCPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCCPC4",4,0)
 S TABLE("PHYSICIAN PROVIDING TREATMENT")="PPT^ONCCPC4"
"RTN","ONCCPC4",5,0)
 S TABLE("DATE OF FIRST COURSE TREATMENT")="DOFCT^ONCCPC4"
"RTN","ONCCPC4",6,0)
 S TABLE("DATE OF INPATIENT ADMISSION")="DOIA^ONCCPC4"
"RTN","ONCCPC4",7,0)
 S TABLE("DATE OF INPATIENT DISCHARGE")="DOID^ONCCPC4"
"RTN","ONCCPC4",8,0)
 S TABLE("SURGERY")="S^ONCCPC4"
"RTN","ONCCPC4",9,0)
 S TABLE("RADIATION THERAPY")="R^ONCCPC4A"
"RTN","ONCCPC4",10,0)
 S TABLE("CHEMOTHERAPY")="C^ONCCPC4A"
"RTN","ONCCPC4",11,0)
 S HTABLE(1)="PHYSICIAN PROVIDING TREATMENT"
"RTN","ONCCPC4",12,0)
 S HTABLE(2)="DATE OF FIRST COURSE TREATMENT"
"RTN","ONCCPC4",13,0)
 S HTABLE(3)="DATE OF INPATIENT ADMISSION"
"RTN","ONCCPC4",14,0)
 S HTABLE(4)="DATE OF INPATIENT DISCHARGE"
"RTN","ONCCPC4",15,0)
 S HTABLE(5)="SURGERY"
"RTN","ONCCPC4",16,0)
 S HTABLE(6)="RADIATION THERAPY"
"RTN","ONCCPC4",17,0)
 S HTABLE(7)="CHEMOTHERAPY"
"RTN","ONCCPC4",18,0)
 S CHOICES=7
"RTN","ONCCPC4",19,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCCPC4",20,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53;53.2;58.1;58.2;58.3",DA=ONCONUM
"RTN","ONCCPC4",21,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCCPC4",22,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E"),RAD=ONC(165.5,ONCONUM,51.2,"I")
"RTN","ONCCPC4",23,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCCPC4",24,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC4",25,0)
 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCCPC4",26,0)
 W !?22,"------------------------------------"
"RTN","ONCCPC4",27,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC4",28,0)
PPT S DR="762PHYSICIAN PROVIDING TREATMENT....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",29,0)
DOFCT W !,"DATE OF FIRST COURSE TREATMENT....: ",DOFCT
"RTN","ONCCPC4",30,0)
DOIA S DR="1DATE OF INPATIENT ADMISSION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",31,0)
DOID S DR="1.1DATE OF INPATIENT DISCHARGE......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",32,0)
S W !!,"SURGERY"
"RTN","ONCCPC4",33,0)
 W !,"-------"
"RTN","ONCCPC4",34,0)
NCDSDT S NCDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCCPC4",35,0)
 S Y=NCDSDT D DATEOT^ONCOPCE S NCDSDT=Y
"RTN","ONCCPC4",36,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCCPC4",37,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<46 S NCDS1=NCDS G CDSDT
"RTN","ONCCPC4",38,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCCPC4",39,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCCPC4",40,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCCPC4",41,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCCPC4",42,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<46 S CDS1=CDS G NCDS
"RTN","ONCCPC4",43,0)
 S NOP=$L($E(CDS,1,46)," ")
"RTN","ONCCPC4",44,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCCPC4",45,0)
NCDS W !,"  NON CANCER-DIRECTED SURGERY DATE: ",NCDSDT
"RTN","ONCCPC4",46,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2
"RTN","ONCCPC4",47,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",CDSDT
"RTN","ONCCPC4",48,0)
CDS W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCCPC4",49,0)
SC I (CDS="")!($E(CDS,1,2)="00") D  G:(Y=0)!(Y="") EXIT G R^ONCCPC4A
"RTN","ONCCPC4",50,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,12)=88
"RTN","ONCCPC4",52,0)
 .W !!,"  ADDITIONAL SURGICAL PROCEDURES..: NA, none performed"
"RTN","ONCCPC4",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,13)=8
"RTN","ONCCPC4",54,0)
 .W !,"  LAPAROSCOPY USED DURING SURGERY.: NA"
"RTN","ONCCPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,14)=0
"RTN","ONCCPC4",56,0)
 .W !,"  METHOD OF ANASTOMOSIS...........: Not done"
"RTN","ONCCPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,15)=0
"RTN","ONCCPC4",58,0)
 .W !,"  DIST OF ANASTOMOSIS FROM DENTATE: 0"
"RTN","ONCCPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,3),U,28)=8
"RTN","ONCCPC4",60,0)
 .W !,"  RESIDUAL PRIMARY TUMOR..........: NA"
"RTN","ONCCPC4",61,0)
 .W !!,"  OTHER SURGERY:",!
"RTN","ONCCPC4",62,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,16)=0
"RTN","ONCCPC4",63,0)
 .W !,"    COLOSTOMY.....................: No"
"RTN","ONCCPC4",64,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,17)=0
"RTN","ONCCPC4",65,0)
 .W !,"    OOPHORECTOMY..................: No"
"RTN","ONCCPC4",66,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,18)=8
"RTN","ONCCPC4",67,0)
 .W !,"    PATHOLOGICAL STATUS...........: NA"
"RTN","ONCCPC4",68,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4",69,0)
 .W !,"  COMPLICATIONS AFTER FIRST COURSE OF TREATMENT:",!
"RTN","ONCCPC4",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,19)=8
"RTN","ONCCPC4",71,0)
 .W !,"    ABDOMINAL INFECTION..............: NA, no treatment"
"RTN","ONCCPC4",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,20)=8
"RTN","ONCCPC4",73,0)
 .W !,"    ABSCESS..........................: NA, no treatment"
"RTN","ONCCPC4",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,21)=8
"RTN","ONCCPC4",75,0)
 .W !,"    ADMISSION FOR NEUTROPENIA........: NA, no treatment"
"RTN","ONCCPC4",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,22)=8
"RTN","ONCCPC4",77,0)
 .W !,"    ANASTOMOTIC DEHISCENCE...........: NA, no treatment"
"RTN","ONCCPC4",78,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,38)=8
"RTN","ONCCPC4",79,0)
 .W !,"    BLEEDING/HEMATOMA................: NA, no treatment"
"RTN","ONCCPC4",80,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,23)=8
"RTN","ONCCPC4",81,0)
 .W !,"    DEHYDRATION......................: NA, no treatment"
"RTN","ONCCPC4",82,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,24)=8
"RTN","ONCCPC4",83,0)
 .W !,"    DIARRHEA.........................: NA, no treatment"
"RTN","ONCCPC4",84,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,25)=8
"RTN","ONCCPC4",85,0)
 .W !,"    EARLY BOWEL OBSTRUCTION..........: NA, no treatment"
"RTN","ONCCPC4",86,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,26)=8
"RTN","ONCCPC4",87,0)
 .W !,"    PERINEAL INFECTION...............: NA, no treatment"
"RTN","ONCCPC4",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,27)=8
"RTN","ONCCPC4",89,0)
 .W !,"    PNEUMONIA........................: NA, no treatment"
"RTN","ONCCPC4",90,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,28)=8
"RTN","ONCCPC4",91,0)
 .W !,"    PROCTITIS........................: NA, no treatment"
"RTN","ONCCPC4",92,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,29)=8
"RTN","ONCCPC4",93,0)
 .W !,"    PULMONARY EMBOLISM...............: NA, no treatment"
"RTN","ONCCPC4",94,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,30)=8
"RTN","ONCCPC4",95,0)
 .W !,"    RADIATION ENTERITIS..............: NA, no treatment"
"RTN","ONCCPC4",96,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,31)=8
"RTN","ONCCPC4",97,0)
 .W !,"    STOMA COMPLICATION...............: NA, no treatment"
"RTN","ONCCPC4",98,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,32)=8
"RTN","ONCCPC4",99,0)
 .W !,"    URINARY TRACT INFECTION..........: NA, no treatment"
"RTN","ONCCPC4",100,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,42)=8
"RTN","ONCCPC4",101,0)
 .K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4",102,0)
 .W !!,"  POSTOPERATIVE DEATH W/I 30 DAYS: NA, no surgery",!
"RTN","ONCCPC4",103,0)
 S DR="763  ADDITIONAL SURGICAL PROCEDURES.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",104,0)
 S DR="764  LAPAROSCOPY USED DURING SURGERY." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",105,0)
 S DR="765  METHOD OF ANASTOMOSIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",106,0)
 S DR="766  DIST OF ANASTOMOSIS FROM DENTATE" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",107,0)
 S DR="59  RESIDUAL PRIMARY TUMOR.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",108,0)
 W !!,"  OTHER SURGERY:",!
"RTN","ONCCPC4",109,0)
 S DR="767    COLOSTOMY....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",110,0)
 S DR="768    OOPHORECTOMY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",111,0)
 S DR="769    PATHOLOGICAL STATUS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",112,0)
 W !!,"  COMPLICATIONS AFTER FIRST COURSE OF TREATMENT:",!
"RTN","ONCCPC4",113,0)
 S DR="770    ABDOMINAL INFECTION..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",114,0)
 S DR="771    ABSCESS......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",115,0)
 S DR="772    ADMISSION FOR NEUTROPENIA....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",116,0)
 S DR="773    ANASTOMOTIC DEHISCENCE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",117,0)
 S DR="437    BLEEDING/HEMATOMA............." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",118,0)
 S DR="774    DEHYDRATION..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",119,0)
 S DR="775    DIARRHEA......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",120,0)
 S DR="776    EARLY BOWEL OBSTRUCTION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",121,0)
 S DR="777    PERINEAL INFECTION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",122,0)
 S DR="778    PNEUMONIA....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",123,0)
 S DR="779    PROCTITIS....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",124,0)
 S DR="780    PULMONARY EMBOLISM............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",125,0)
 S DR="781    RADIATION ENTERITIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",126,0)
 S DR="782    STOMA COMPLICATION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",127,0)
 S DR="783    URINARY TRACT INFECTION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",128,0)
 W !
"RTN","ONCCPC4",129,0)
 S DR="441  POSTOPERATIVE DEATH W/I 30 DAYS." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4",130,0)
 W ! G R^ONCCPC4A
"RTN","ONCCPC4",131,0)
JUMP ;Jump to prompts
"RTN","ONCCPC4",132,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC4",133,0)
 I X["?" D  G JUMP
"RTN","ONCCPC4",134,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4",135,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC4",136,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4",137,0)
 S X=TABLE(X)
"RTN","ONCCPC4",138,0)
 G @X
"RTN","ONCCPC4",139,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC4",140,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCCPC4",141,0)
 K RADDT,DIQ
"RTN","ONCCPC4",142,0)
 Q
"RTN","ONCCPC4A")
0^50^B23893949
"RTN","ONCCPC4A",1,0)
ONCCPC4A ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table IV (continued);2/20/97
"RTN","ONCCPC4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC4A",3,0)
R W !,"RADIATION THERAPY"
"RTN","ONCCPC4A",4,0)
 W !,"-----------------"
"RTN","ONCCPC4A",5,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCCPC4A",6,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCCPC4A",7,0)
 W !,"  DATE RADIATION STARTED..........: ",RADDT
"RTN","ONCCPC4A",8,0)
 I (RAD=0)!(RAD=7) D  G C
"RTN","ONCCPC4A",9,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000"
"RTN","ONCCPC4A",10,0)
 .W !,"  DATE RADIATION THERAPY ENDED....: 00/00/0000"
"RTN","ONCCPC4A",11,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,33)=0
"RTN","ONCCPC4A",12,0)
 .W !,"  ENDOCAVITARY RADIATION..........: None"
"RTN","ONCCPC4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,34)=0
"RTN","ONCCPC4A",14,0)
 .W !,"  INTRA-OPERATIVE RAD THERAPY.....: No"
"RTN","ONCCPC4A",15,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,35)=0
"RTN","ONCCPC4A",16,0)
 .W !,"  PRIMARY TUMOR RAD DOSE W BOOST..: No radiation therapy"
"RTN","ONCCPC4A",17,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,36)=0
"RTN","ONCCPC4A",18,0)
 .W !,"  NUMBER OF RADIATION TREATMENTS..: None"
"RTN","ONCCPC4A",19,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",20,0)
 I (RAD=8)!(RAD=9) D  G C
"RTN","ONCCPC4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)=9999999
"RTN","ONCCPC4A",22,0)
 .W !,"  DATE RADIATION THERAPY ENDED....: 99/99/9999"
"RTN","ONCCPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,33)=9
"RTN","ONCCPC4A",24,0)
 .W !,"  ENDOCAVITARY RADIATION..........: Unknown"
"RTN","ONCCPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,34)=9
"RTN","ONCCPC4A",26,0)
 .W !,"  INTRA-OPERATIVE RAD THERAPY.....: Unknown"
"RTN","ONCCPC4A",27,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,35)=99999
"RTN","ONCCPC4A",28,0)
 .W !,"  PRIMARY TUMOR RAD DOSE W BOOST..: Unknown if received radiation therapy"
"RTN","ONCCPC4A",29,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,36)=99
"RTN","ONCCPC4A",30,0)
 .W !,"  NUMBER OF RADIATION TREATMENTS..: Unknown if radiation given"
"RTN","ONCCPC4A",31,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",32,0)
 S DR="361  DATE RADIATION THERAPY ENDED...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",33,0)
 S DR="784  ENDOCAVITARY RADIATION.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",34,0)
 S DR="785  INTRA-OPERATIVE RAD THERAPY....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",35,0)
 S DR="786  PRIMARY TUMOR RAD DOSE W BOOST.." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",36,0)
 S DR="787  NUMBER OF RADIATION TREATMENTS.." D ^DIE G:$D(Y) JUMP W !
"RTN","ONCCPC4A",37,0)
C W !,"CHEMOTHERAPY"
"RTN","ONCCPC4A",38,0)
 W !,"------------"
"RTN","ONCCPC4A",39,0)
 W !,"  CHEMOTHERAPY....................: ",CHEMOT
"RTN","ONCCPC4A",40,0)
 S CHEDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,11)
"RTN","ONCCPC4A",41,0)
 S Y=CHEDT D DATEOT^ONCOPCE S CHEDT=Y
"RTN","ONCCPC4A",42,0)
 W !,"  DATE CHEMOTHERAPY STARTED.......: ",CHEDT
"RTN","ONCCPC4A",43,0)
 I (CHEMO=0)!(CHEMO=7) D  G EXIT
"RTN","ONCCPC4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,37)=0
"RTN","ONCCPC4A",45,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION.: No concomitant treatment"
"RTN","ONCCPC4A",46,0)
 .W !!,"  ADJUVANT THERAPY:",!
"RTN","ONCCPC4A",47,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,38)=0
"RTN","ONCCPC4A",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,39)=0
"RTN","ONCCPC4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,40)=0
"RTN","ONCCPC4A",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,41)=0
"RTN","ONCCPC4A",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,32)=0
"RTN","ONCCPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,42)=0
"RTN","ONCCPC4A",53,0)
 .W !,"    5 FU (FLUOROCIL)...: No" W "    CPT 11.............: No"
"RTN","ONCCPC4A",54,0)
 .W !,"    LEUCOVORIN.........: No" W "    TAXOL..............: No"
"RTN","ONCCPC4A",55,0)
 .W !,"    LEVAMISOLE.........: No" W "    OTHER..............: No",!
"RTN","ONCCPC4A",56,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,43)=0
"RTN","ONCCPC4A",57,0)
 .W !,"  DURATION OF ADJUVANT THERAPY....: No adjuvant therapy"
"RTN","ONCCPC4A",58,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,44)=0
"RTN","ONCCPC4A",59,0)
 .W !,"  COMPLETED DURATION OF THERAPY...: No (0-1 cycle)"
"RTN","ONCCPC4A",60,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",61,0)
 I (CHEMO=8)!(CHEMO=9) D  G EXIT
"RTN","ONCCPC4A",62,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,37)=9
"RTN","ONCCPC4A",63,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION.: Unknown if therapy concomitant"
"RTN","ONCCPC4A",64,0)
 .W !!,"  ADJUVANT THERAPY:",!
"RTN","ONCCPC4A",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,38)=9
"RTN","ONCCPC4A",66,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,39)=9
"RTN","ONCCPC4A",67,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,40)=9
"RTN","ONCCPC4A",68,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,41)=9
"RTN","ONCCPC4A",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,32)=9
"RTN","ONCCPC4A",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,42)=9
"RTN","ONCCPC4A",71,0)
 .W !,"    5 FU (FLUOROCIL)...: Unknown" W "    CPT 11.............: Unknown"
"RTN","ONCCPC4A",72,0)
 .W !,"    LEUCOVORIN.........: Unknown" W "    TAXOL..............: Unknown"
"RTN","ONCCPC4A",73,0)
 .W !,"    LEVAMISOLE.........: Unknown" W "    OTHER..............: Unknown",!
"RTN","ONCCPC4A",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,43)=9
"RTN","ONCCPC4A",75,0)
 .W !,"  DURATION OF ADJUVANT THERAPY....: Unknown if therapy given"
"RTN","ONCCPC4A",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,44)=9
"RTN","ONCCPC4A",77,0)
 .W !,"  COMPLETED DURATION OF THERAPY...: Unknown if therapy given"
"RTN","ONCCPC4A",78,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCCPC0
"RTN","ONCCPC4A",79,0)
 S DR="788  ADJUVANT CHEMO W BEAM RADIATION." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",80,0)
 W !!,"  ADJUVANT THERAPY:",!
"RTN","ONCCPC4A",81,0)
 S DR="789    5 FU (FLUOROURACIL)..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",82,0)
 S DR="790    LEUCOVORIN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",83,0)
 S DR="791    LEVAMISOLE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",84,0)
 S DR="792    CPT 11........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",85,0)
 S DR="377    TAXOL........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",86,0)
 S DR="793    OTHER........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",87,0)
 W !
"RTN","ONCCPC4A",88,0)
 S DR="794  DURATION OF ADJUVANT THERAPY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",89,0)
 S DR="795  COMPLETED DURATION OF THERAPY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC4A",90,0)
 W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")
"RTN","ONCCPC4A",91,0)
 G EXIT
"RTN","ONCCPC4A",92,0)
JUMP ;Jump to prompts
"RTN","ONCCPC4A",93,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC4A",94,0)
 I X["?" D  G JUMP
"RTN","ONCCPC4A",95,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4A",96,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC4A",97,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC4A",98,0)
 S X=TABLE(X)
"RTN","ONCCPC4A",99,0)
 G @X
"RTN","ONCCPC4A",100,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC4A",101,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCCPC4A",102,0)
 K RADDT,DIQ
"RTN","ONCCPC4A",103,0)
 Q
"RTN","ONCCPC5")
0^51^B2440947
"RTN","ONCCPC5",1,0)
ONCCPC5 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table V;3/28/97
"RTN","ONCCPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC5",3,0)
 K TABLE,HTABLE S OUT=""
"RTN","ONCCPC5",4,0)
 S TABLE("WERE OTHER REFERRALS MADE")="WORM"
"RTN","ONCCPC5",5,0)
 S HTABLE(1)="WERE OTHER REFERRALS MADE"
"RTN","ONCCPC5",6,0)
 S CHOICES=1
"RTN","ONCCPC5",7,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC5",8,0)
 W !?27,"TABLE V - QUALITY OF LIFE"
"RTN","ONCCPC5",9,0)
 W !?27,"-------------------------"
"RTN","ONCCPC5",10,0)
WORM W !,"WERE OTHER REFERRALS MADE:",!
"RTN","ONCCPC5",11,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC5",12,0)
 S DR="796  NUTRITIONAL CONSULTATION" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC5",13,0)
 S DR="797  OCCUPATIONAL THERAPY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC5",14,0)
 S DR="563  PHYSICAL THERAPY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC5",15,0)
 S DR="798  OSTOMY CONSULTATION....." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC5",16,0)
 S DR="799  PSYCHOSOCIAL............" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC5",17,0)
 W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")
"RTN","ONCCPC5",18,0)
 G EXIT
"RTN","ONCCPC5",19,0)
JUMP ;Jump to prompts
"RTN","ONCCPC5",20,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC5",21,0)
 I X["?" D  G JUMP
"RTN","ONCCPC5",22,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC5",23,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC5",24,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC5",25,0)
 S X=TABLE(X)
"RTN","ONCCPC5",26,0)
 G @X
"RTN","ONCCPC5",27,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC5",28,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCCPC5",29,0)
 Q
"RTN","ONCCPC6")
0^52^B2131050
"RTN","ONCCPC6",1,0)
ONCCPC6 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table VI;3/28/97
"RTN","ONCCPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC6",3,0)
 K TABLE,HTABLE S OUT=""
"RTN","ONCCPC6",4,0)
 S TABLE("DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCCPC6",5,0)
 S TABLE("TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCCPC6",6,0)
 S HTABLE(1)="DATE OF FIRST RECURRENCE"
"RTN","ONCCPC6",7,0)
 S HTABLE(2)="TYPE OF FIRST RECURRENCE"
"RTN","ONCCPC6",8,0)
 S CHOICES=2
"RTN","ONCCPC6",9,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC6",10,0)
 W !?27,"TABLE VI - FIRST RECURRENCE"
"RTN","ONCCPC6",11,0)
 W !?27,"---------------------------"
"RTN","ONCCPC6",12,0)
DOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC6",13,0)
 S DR="70DATE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC6",14,0)
TOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC6",15,0)
 S DR="71TYPE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC6",16,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCPC6",17,0)
 G EXIT
"RTN","ONCCPC6",18,0)
JUMP ;Jump to prompts
"RTN","ONCCPC6",19,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC6",20,0)
 I X["?" D  G JUMP
"RTN","ONCCPC6",21,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC6",22,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC6",23,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC6",24,0)
 S X=TABLE(X)
"RTN","ONCCPC6",25,0)
 G @X
"RTN","ONCCPC6",26,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC6",27,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCCPC6",28,0)
 Q
"RTN","ONCCPC7")
0^53^B4963773
"RTN","ONCCPC7",1,0)
ONCCPC7 ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Table VII;3/28/97
"RTN","ONCCPC7",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC7",3,0)
 K TABLE,HTABLE
"RTN","ONCCPC7",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCCPC7",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCCPC7",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCCPC7",7,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCCPC7",8,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCCPC7",9,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCCPC7",10,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCCPC7",11,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCCPC7",12,0)
 S HTABLE(4)="COMPLETED BY"
"RTN","ONCCPC7",13,0)
 S HTABLE(5)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCCPC7",14,0)
 S CHOICES=5
"RTN","ONCCPC7",15,0)
 W @IOF D HEAD^ONCCPC0
"RTN","ONCCPC7",16,0)
 W !?23,"TABLE VII - STATUS AT LAST CONTACT"
"RTN","ONCCPC7",17,0)
 W !?23,"----------------------------------"
"RTN","ONCCPC7",18,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCCPC7",19,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCCPC7",20,0)
 W !,"DATE OF LAST CONTACT OR DEATH: ",DLC
"RTN","ONCCPC7",21,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCCPC7",22,0)
 S DR="15VITAL STATUS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC7",23,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCCPC7",24,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCCPC7",25,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCCPC7",26,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCCPC7",27,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCCPC7",28,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCCPC7",29,0)
 W !,"CANCER STATUS................: ",CS
"RTN","ONCCPC7",30,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC7",31,0)
 S DR="81COMPLETED BY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC7",32,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCCPC7",33,0)
 S DR="82REVIEWED BY CANCER COMMITTEE." D ^DIE G:$D(Y) JUMP
"RTN","ONCCPC7",34,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCPC7",35,0)
 G EXIT
"RTN","ONCCPC7",36,0)
JUMP ;Jump to prompts
"RTN","ONCCPC7",37,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCCPC7",38,0)
 I X["?" D  G JUMP
"RTN","ONCCPC7",39,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC7",40,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCCPC7",41,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCCPC7",42,0)
 S X=TABLE(X)
"RTN","ONCCPC7",43,0)
 G @X
"RTN","ONCCPC7",44,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCCPC7",45,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCCPC7",46,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCCPC7",47,0)
 Q
"RTN","ONCCPC9")
0^54^B43467064
"RTN","ONCCPC9",1,0)
ONCCPC9 ;Hines OIFO/GWB - PCE Study of Colorectal Cancer ;05/30/00
"RTN","ONCCPC9",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC9",3,0)
 ;Print
"RTN","ONCCPC9",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCCPC9",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCCPC9",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCCPC9",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IE=ONCONUM
"RTN","ONCCPC9",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCCPC9",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCCPC9",10,0)
 S DR=".04;.05;.06;.1;.12;1;1.1;3;9;18;20;22;24;26;29;32;33;37.1;37.2;37.3;38;19;50;51;53;53.2;58.1;58.2;58.3;59;70;71;81;82;85;86;87;88;89;302;307;308;361;377;421;430;437;441;563;700:799"
"RTN","ONCCPC9",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCCPC9",12,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCCPC9",13,0)
 D HDR
"RTN","ONCCPC9",14,0)
 W !," 1. INSTITUTION ID NUMBER............: H6",$$IIN^ONCFUNC D P Q:EX=U
"RTN","ONCCPC9",15,0)
 W !!?4,TABLE,!?4,"-----------------------------"
"RTN","ONCCPC9",16,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCCPC9",17,0)
 W !," 2. ACCESSION NUMBER.................: ",ONC(165.5,IE,.05) D P Q:EX=U
"RTN","ONCCPC9",18,0)
 W !," 3. SEQUENCE NUMBER..................: ",ONC(165.5,IE,.06) D P Q:EX=U
"RTN","ONCCPC9",19,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS.........: ",ONC(165.5,IE,9) D P Q:EX=U
"RTN","ONCCPC9",20,0)
 W !," 5. DATE OF BIRTH....................: ",DOB D P Q:EX=U
"RTN","ONCCPC9",21,0)
 W !," 6. RACE.............................: ",ONC(165.5,IE,.12) D P Q:EX=U
"RTN","ONCCPC9",22,0)
 W !," 7. SPANISH ORIGIN...................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCCPC9",23,0)
 W !," 8. SEX..............................: ",ONC(165.5,IE,.1) D P Q:EX=U
"RTN","ONCCPC9",24,0)
 W !," 9. PRIMARY PAYER AT DIAGNOSIS.......: ",ONC(165.5,IE,18) D P Q:EX=U
"RTN","ONCCPC9",25,0)
 W !,"10. FAMILY HISTORY OF COLORECTAL CA..: ",ONC(165.5,IE,700)
"RTN","ONCCPC9",26,0)
 W !,"11. PERSONAL HISTORY OF COLORECTAL CA: ",ONC(165.5,IE,701)
"RTN","ONCCPC9",27,0)
 W !,"12. MULTI 1997 COLON/RECTUM PRIMARIES: ",ONC(165.5,IE,702)
"RTN","ONCCPC9",28,0)
 K LINE S $P(LINE,"-",41)="-"
"RTN","ONCCPC9",29,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G PHNCC
"RTN","ONCCPC9",30,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",31,0)
PHNCC W !,"13. PERSONAL HISTORY OF NON-COLORECTAL CANCER:" D P Q:EX=U
"RTN","ONCCPC9",32,0)
 W !,"      BREAST...........: ",ONC(165.5,IE,703),?39,"PROSTATE.........: ",ONC(165.5,IE,307) D P Q:EX=U
"RTN","ONCCPC9",33,0)
 W !,"      CERVIX...........: ",ONC(165.5,IE,302),?39,"STOMACH..........: ",ONC(165.5,IE,707) D P Q:EX=U
"RTN","ONCCPC9",34,0)
 W !,"      LUNG.............: ",ONC(165.5,IE,704),?39,"THYROID..........: ",ONC(165.5,IE,708) D P Q:EX=U
"RTN","ONCCPC9",35,0)
 W !,"      OVARY............: ",ONC(165.5,IE,705),?39,"UTERUS...........: ",ONC(165.5,IE,709) D P Q:EX=U
"RTN","ONCCPC9",36,0)
 W !,"      OVARIAN CARCINOMA: ",ONC(165.5,IE,706),?39,"OTHER............: ",ONC(165.5,IE,308) D P Q:EX=U
"RTN","ONCCPC9",37,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",38,0)
 W !,"14. PREVIOUS TAH/BSO.................: ",ONC(165.5,IE,710) D P Q:EX=U
"RTN","ONCCPC9",39,0)
 W !!,"15. OTHER PRIOR CONDITIONS:" D P Q:EX=U
"RTN","ONCCPC9",40,0)
 W !,"      FAP..............: ",ONC(165.5,IE,711),?39,"PRIOR POLYPS.....: ",ONC(165.5,IE,714) D P Q:EX=U
"RTN","ONCCPC9",41,0)
 W !,"      HNPCC............: ",ONC(165.5,IE,712),?39,"POLYPS...........: ",ONC(165.5,IE,715) D P Q:EX=U
"RTN","ONCCPC9",42,0)
 W !,"      IBD..............: ",ONC(165.5,IE,713)
"RTN","ONCCPC9",43,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCCPC9",44,0)
 D P Q:EX=U
"RTN","ONCCPC9",45,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCCPC9",46,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCCPC9",47,0)
 W !?4,TABLE,!?4,"----------------------------" D P Q:EX=U
"RTN","ONCCPC9",48,0)
 W !,"16. CLASS OF CASE....................: ",ONC(165.5,IE,.04) D P Q:EX=U
"RTN","ONCCPC9",49,0)
 W !!,"17. DURATION OF SIGNS/SYMPTOMS PRESENT AT INITIAL DIAGNOSIS (months):" D P Q:EX=U
"RTN","ONCCPC9",50,0)
 W !,"      ANEMIA.........................: ",ONC(165.5,IE,716) D P Q:EX=U
"RTN","ONCCPC9",51,0)
 W !,"      BOWEL OBSTRUCTION..............: ",ONC(165.5,IE,717) D P Q:EX=U
"RTN","ONCCPC9",52,0)
 W !,"      CHANGE IN BOWEL HABIT..........: ",ONC(165.5,IE,718) D P Q:EX=U
"RTN","ONCCPC9",53,0)
 W !,"      EMER PRESENTATION-OBSTRUCTION..: ",ONC(165.5,IE,719) D P Q:EX=U
"RTN","ONCCPC9",54,0)
 W !,"      JAUNDICE.......................: ",ONC(165.5,IE,720) D P Q:EX=U
"RTN","ONCCPC9",55,0)
 W !,"      MALAISE........................: ",ONC(165.5,IE,721) D P Q:EX=U
"RTN","ONCCPC9",56,0)
 W !,"      OCCULT BLOOD ONLY IN STOOL.....: ",ONC(165.5,IE,722) D P Q:EX=U
"RTN","ONCCPC9",57,0)
 W !,"      PAIN (ABDOMINAL)...............: ",ONC(165.5,IE,723) D P Q:EX=U
"RTN","ONCCPC9",58,0)
 W !,"      PAIN (PELVIC)..................: ",ONC(165.5,IE,724) D P Q:EX=U
"RTN","ONCCPC9",59,0)
 W !,"      RECTAL BLEEDING (MELENA).......: ",ONC(165.5,IE,725) D P Q:EX=U
"RTN","ONCCPC9",60,0)
 W !,"      OTHER..........................: ",ONC(165.5,IE,726)
"RTN","ONCCPC9",61,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCCPC9",62,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G IMD
"RTN","ONCCPC9",63,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",64,0)
IMD W !,"18. INITIAL METHODS OF DIAGNOSIS:" D P Q:EX=U
"RTN","ONCCPC9",65,0)
 W !,"      ENDOSCOPIC.....................: ",ONC(165.5,IE,727) D P Q:EX=U
"RTN","ONCCPC9",66,0)
 W !,"      RADIOGRAPHIC...................: ",ONC(165.5,IE,728) D P Q:EX=U
"RTN","ONCCPC9",67,0)
 W !,"      SCREENING DIGITAL RECTAL EXAM..: ",ONC(165.5,IE,729) D P Q:EX=U
"RTN","ONCCPC9",68,0)
 W !,"      SCREENING PHYSICAL EXAM........: ",ONC(165.5,IE,730) D P Q:EX=U
"RTN","ONCCPC9",69,0)
 W !,"      OTHER..........................: ",ONC(165.5,IE,731) D P Q:EX=U
"RTN","ONCCPC9",70,0)
 W !!,"19. REASON LEADING TO EVENTUAL DX....: ",ONC(165.5,IE,732) D P Q:EX=U
"RTN","ONCCPC9",71,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",72,0)
 W !,"20. DIAGNOSTIC EVALUATION:" D P Q:EX=U
"RTN","ONCCPC9",73,0)
 W !,"      BARIUM ENEMA, DOUBLE CONTRAST..: ",ONC(165.5,IE,733) D P Q:EX=U
"RTN","ONCCPC9",74,0)
 W !,"      BARIUM ENEMA, SINGLE CONTRAST..: ",ONC(165.5,IE,734) D P Q:EX=U
"RTN","ONCCPC9",75,0)
 W !,"      BARIUM ENEMA, NOS..............: ",ONC(165.5,IE,735) D P Q:EX=U
"RTN","ONCCPC9",76,0)
 W !,"      BIOPSY OF PRIMARY SITE.........: ",ONC(165.5,IE,736) D P Q:EX=U
"RTN","ONCCPC9",77,0)
 W !,"      BIOPSY OF METASTATIC SITE......: ",ONC(165.5,IE,737) D P Q:EX=U
"RTN","ONCCPC9",78,0)
 W !,"      CT SCAN OF CHEST...............: ",ONC(165.5,IE,421) D P Q:EX=U
"RTN","ONCCPC9",79,0)
 W !,"      CT SCAN OF LIVER...............: ",ONC(165.5,IE,738) D P Q:EX=U
"RTN","ONCCPC9",80,0)
 W !,"      CT SCAN OF PRIMARY SITE........: ",ONC(165.5,IE,739) D P Q:EX=U
"RTN","ONCCPC9",81,0)
 W !,"      CEA (PREOPERATIVE).............: ",ONC(165.5,IE,740) D P Q:EX=U
"RTN","ONCCPC9",82,0)
 W !,"      CHEST ROENTGENOGRAM............: ",ONC(165.5,IE,741) D P Q:EX=U
"RTN","ONCCPC9",83,0)
 W !,"      COLONOSCOPY....................: ",ONC(165.5,IE,742) D P Q:EX=U
"RTN","ONCCPC9",84,0)
 W !,"      DIGITAL RECTAL EXAM............: ",ONC(165.5,IE,743) D P Q:EX=U
"RTN","ONCCPC9",85,0)
 W !,"      FLEXIBLE SIGMOIDOSCOPY.........: ",ONC(165.5,IE,744) D P Q:EX=U
"RTN","ONCCPC9",86,0)
 W !,"      INTRAVENOUS PYELOGRAM..........: ",ONC(165.5,IE,745) D P Q:EX=U
"RTN","ONCCPC9",87,0)
 W !,"      SERUM-LIVER FUNCTION TEST......: ",ONC(165.5,IE,746) D P Q:EX=U
"RTN","ONCCPC9",88,0)
 W !,"      MRI............................: ",ONC(165.5,IE,747) D P Q:EX=U
"RTN","ONCCPC9",89,0)
 W !,"      PROCTOSCOPY (RIGID)............: ",ONC(165.5,IE,748) D P Q:EX=U
"RTN","ONCCPC9",90,0)
 W !,"      STOOL GUAIAC (OCCULT BLOOD)....: ",ONC(165.5,IE,749) D P Q:EX=U
"RTN","ONCCPC9",91,0)
 W !,"      ULTRASOUND, LIVER, ABDOMEN.....: ",ONC(165.5,IE,750) D P Q:EX=U
"RTN","ONCCPC9",92,0)
 W !,"      ULTRASOUND, ENDORECTAL.........: ",ONC(165.5,IE,751) D P Q:EX=U
"RTN","ONCCPC9",93,0)
 W !,"      OTHER..........................: ",ONC(165.5,IE,430)
"RTN","ONCCPC9",94,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9",95,0)
 W !,"21. LEVEL OF TUMOR BY ENDOSCOPIC EXAM: ",ONC(165.5,IE,752) D P Q:EX=U
"RTN","ONCCPC9",96,0)
 W !,"22. LEVEL OF RECTAL TUMOR............: ",ONC(165.5,IE,753) D P Q:EX=U
"RTN","ONCCPC9",97,0)
 W !,"23. DATE OF INITIAL DIAGNOSIS........: ",ONC(165.5,IE,3) D P Q:EX=U
"RTN","ONCCPC9",98,0)
 W !,"24. PRIMARY SITE.....................: ",TOPCOD," ",ONC(165.5,IE,20)
"RTN","ONCCPC9",99,0)
 W !,"25. HISTOLOGY/26. BEHAVIOR CODE......: ",ONC(165.5,IE,22) D P Q:EX=U
"RTN","ONCCPC9",100,0)
 W !,"27. GRADE............................: ",ONC(165.5,IE,24) D P Q:EX=U
"RTN","ONCCPC9",101,0)
 W !,"28. DIAGNOSTIC CONFIRMATION..........: ",ONC(165.5,IE,26)
"RTN","ONCCPC9",102,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCCPC9",103,0)
 D P Q:EX=U
"RTN","ONCCPC9",104,0)
III D ^ONCCPC9A
"RTN","ONCCPC9",105,0)
KILL ;
"RTN","ONCCPC9",106,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCCPC9",107,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCCPC9",108,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y,OSP,IIN
"RTN","ONCCPC9",109,0)
 Q
"RTN","ONCCPC9",110,0)
P ;Print
"RTN","ONCCPC9",111,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCCPC9",112,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCCPC9",113,0)
 .D HDR Q
"RTN","ONCCPC9",114,0)
 Q
"RTN","ONCCPC9",115,0)
TASK ;Queue a task
"RTN","ONCCPC9",116,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCCPC9",117,0)
 S ZTRTN="PRT^ONCCPC9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCCPC9",118,0)
 S ZTDESC="Print Colorectal Cancer PCE"
"RTN","ONCCPC9",119,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCCPC9",120,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCCPC9",121,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCCPC9",122,0)
HDR ;
"RTN","ONCCPC9",123,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCCPC9",124,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCCPC9",125,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCCPC9",126,0)
 W !?20," PCE Study of Colorectal Cancer"
"RTN","ONCCPC9",127,0)
 W ?62,ONDATE,!,DASHES
"RTN","ONCCPC9",128,0)
 Q
"RTN","ONCCPC9A")
0^55^B36996984
"RTN","ONCCPC9A",1,0)
ONCCPC9A ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Print (continued);4/1/97
"RTN","ONCCPC9A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC9A",3,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCCPC9A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCCPC9
"RTN","ONCCPC9A",5,0)
 W !?4,TABLE,!?4,"--------------------------------------------" D P Q:EX=U
"RTN","ONCCPC9A",6,0)
 W !,"29. SIZE OF TUMOR (mm)...............: ",ONC(165.5,IE,29) D P Q:EX=U
"RTN","ONCCPC9A",7,0)
 W !,"30. REGIONAL NODES EXAMINED..........: ",ONC(165.5,IE,33) D P Q:EX=U
"RTN","ONCCPC9A",8,0)
 W !,"31. REGIONAL NODES POSITIVE..........: ",ONC(165.5,IE,32) D P Q:EX=U
"RTN","ONCCPC9A",9,0)
ACS W !!,"32. AJCC CLINICAL STAGE (cTNM):" D P Q:EX=U
"RTN","ONCCPC9A",10,0)
 W !,"      T-CODE.........................: ",ONC(165.5,IE,37.1) D P Q:EX=U
"RTN","ONCCPC9A",11,0)
 W !,"      N-CODE.........................: ",ONC(165.5,IE,37.2) D P Q:EX=U
"RTN","ONCCPC9A",12,0)
 W !,"      M-CODE.........................: ",ONC(165.5,IE,37.3) D P Q:EX=U
"RTN","ONCCPC9A",13,0)
 W !,"      AJCC STAGE.....................: ",ONC(165.5,IE,38) D P Q:EX=U
"RTN","ONCCPC9A",14,0)
APS W !!,"33. AJCC PATHOLOGIC STAGE (pTNM):" D P Q:EX=U
"RTN","ONCCPC9A",15,0)
 W !,"      T-CODE.........................: ",ONC(165.5,IE,85) D P Q:EX=U
"RTN","ONCCPC9A",16,0)
 W !,"      N-CODE.........................: ",ONC(165.5,IE,86) D P Q:EX=U
"RTN","ONCCPC9A",17,0)
 W !,"      M-CODE.........................: ",ONC(165.5,IE,87) D P Q:EX=U
"RTN","ONCCPC9A",18,0)
 W !,"      AJCC STAGE.....................: ",ONC(165.5,IE,88)
"RTN","ONCCPC9A",19,0)
 K LINE S $P(LINE,"-",56)="-"
"RTN","ONCCPC9A",20,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 W !?4,TABLE_" (continued)",!?4,LINE G SB
"RTN","ONCCPC9A",21,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9A",22,0)
SB W !,"34. STAGED BY:" D P Q:EX=U
"RTN","ONCCPC9A",23,0)
 W !,"      CLINICAL STAGE.................: ",ONC(165.5,IE,19) D P Q:EX=U
"RTN","ONCCPC9A",24,0)
 W !,"      PATHOLOGIC STAGE...............: ",ONC(165.5,IE,89) D P Q:EX=U
"RTN","ONCCPC9A",25,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9A",26,0)
 W !,"35. MARGIN OF RESECTION:" D P Q:EX=U
"RTN","ONCCPC9A",27,0)
 W !,"      PROXIMAL MARGIN................: ",ONC(165.5,IE,754) D P Q:EX=U
"RTN","ONCCPC9A",28,0)
 W !,"      DISTAL MARGIN..................: ",ONC(165.5,IE,755) D P Q:EX=U
"RTN","ONCCPC9A",29,0)
 W !,"      RADIAL MARGIN..................: ",ONC(165.5,IE,756) D P Q:EX=U
"RTN","ONCCPC9A",30,0)
 W !!,"36. DISTANCE TO MUCOSAL MARGIN.......: ",ONC(165.5,IE,757) D P Q:EX=U
"RTN","ONCCPC9A",31,0)
 W !,"37. DISTANCE TO RADIAL MARGIN........: ",ONC(165.5,IE,758) D P Q:EX=U
"RTN","ONCCPC9A",32,0)
 W !,"38. BLOOD VESSEL/LYMPHATIC INVASION..: ",ONC(165.5,IE,759) D P Q:EX=U
"RTN","ONCCPC9A",33,0)
 W !,"39. EXTRAMURAL VENOUS INVASION.......: ",ONC(165.5,IE,760) D P Q:EX=U
"RTN","ONCCPC9A",34,0)
 W !,"40. PROMINENT LYMPHOID INFILTRATE....: ",ONC(165.5,IE,761) D P Q:EX=U
"RTN","ONCCPC9A",35,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 G IV
"RTN","ONCCPC9A",36,0)
 D P Q:EX=U
"RTN","ONCCPC9A",37,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCCPC9A",38,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCCPC9
"RTN","ONCCPC9A",39,0)
 K LINE S $P(LINE,"-",36)="-"
"RTN","ONCCPC9A",40,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCCPC9A",41,0)
 K LINE S $P(LINE,"-",48)="-"
"RTN","ONCCPC9A",42,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCCPC9A",43,0)
 W !,"41. PHYSICIAN PROVIDING TREATMENT....: ",ONC(165.5,IE,762) D P Q:EX=U
"RTN","ONCCPC9A",44,0)
 W !,"42. FIRST COURSE OF TREATMENT DATE...: ",DOFCT D P Q:EX=U
"RTN","ONCCPC9A",45,0)
 W !,"43. DATE OF INPATIENT ADMISSION......: ",ONC(165.5,IE,1) D P Q:EX=U
"RTN","ONCCPC9A",46,0)
 W !,"44. DATE OF INPATIENT DISCHARGE......: ",ONC(165.5,IE,1.1) D P Q:EX=U
"RTN","ONCCPC9A",47,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCCPC9A",48,0)
 S NCDS=ONC(165.5,IE,58.1)
"RTN","ONCCPC9A",49,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<45 S NCDS1=NCDS G CDS
"RTN","ONCCPC9A",50,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCCPC9A",51,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCCPC9A",52,0)
CDS S CDS=ONC(165.5,IE,58.2)
"RTN","ONCCPC9A",53,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCCPC9A",54,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCCPC9A",55,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCCPC9A",56,0)
S W !,"45. NON CANCER-DIRECTED SURGERY DATE.: ",ONC(165.5,IE,58.3) D P Q:EX=U
"RTN","ONCCPC9A",57,0)
 W !,"46. NON CANCER-DIRECTED SURGERY......: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCCPC9A",58,0)
 W !,"47. SURGERY OF PRIMARY SITE DATE.....: ",ONC(165.5,IE,50) D P Q:EX=U
"RTN","ONCCPC9A",59,0)
 W !,"48. SURGERY OF PRIMARY SITE..........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCCPC9A",60,0)
 W !,"49. ADDITIONAL SURGICAL PROCEDURES...: ",ONC(165.5,IE,763) D P Q:EX=U
"RTN","ONCCPC9A",61,0)
 W !,"50. LAPAROSCOPY USED DURING SURGERY..: ",ONC(165.5,IE,764) D P Q:EX=U
"RTN","ONCCPC9A",62,0)
 W !,"51. METHOD OF ANASTOMOSIS............: ",ONC(165.5,IE,765) D P Q:EX=U
"RTN","ONCCPC9A",63,0)
 W !,"52. DIST OF ANASTOMOSIS FROM DENTATE.: ",ONC(165.5,IE,766) D P Q:EX=U
"RTN","ONCCPC9A",64,0)
 W !,"53. RESIDUAL PRIMARY TUMOR...........: ",ONC(165.5,IE,59) D P Q:EX=U
"RTN","ONCCPC9A",65,0)
 W !!,"54. OTHER SURGERY:" D P Q:EX=U
"RTN","ONCCPC9A",66,0)
 W !,"      COLOSTOMY......................: ",ONC(165.5,IE,767) D P Q:EX=U
"RTN","ONCCPC9A",67,0)
 W !,"      OOPHORECTOMY...................: ",ONC(165.5,IE,768) D P Q:EX=U
"RTN","ONCCPC9A",68,0)
 W !,"      PATHOLOGICAL STATUS............: ",ONC(165.5,IE,769) D P Q:EX=U
"RTN","ONCCPC9A",69,0)
CAFCOT W !!,"55. COMPLICATIONS AFTER FIRST COURSE OF TREATMENT:" D P Q:EX=U
"RTN","ONCCPC9A",70,0)
 W !,"      ABDOMINAL INFECTION......: ",ONC(165.5,IE,770),?44,"PERINEAL INFECTION.......: ",ONC(165.5,IE,777) D P Q:EX=U
"RTN","ONCCPC9A",71,0)
 W !,"      ABSCESS..................: ",ONC(165.5,IE,771),?44,"PNEUMONIA................: ",ONC(165.5,IE,778) D P Q:EX=U
"RTN","ONCCPC9A",72,0)
 W !,"      ADMISSION FOR NEUTROPENIA: ",ONC(165.5,IE,772),?44,"PROCTITIS................: ",ONC(165.5,IE,779) D P Q:EX=U
"RTN","ONCCPC9A",73,0)
 W !,"      ANASTOMOTIC DEHISCENCE...: ",ONC(165.5,IE,773),?44,"PULMONARY EMBOLISM.......: ",ONC(165.5,IE,780) D P Q:EX=U
"RTN","ONCCPC9A",74,0)
 W !,"      BLEEDING/HEMATOMA........: ",ONC(165.5,IE,437),?44,"RADIATION ENTERITIS......: ",ONC(165.5,IE,781) D P Q:EX=U
"RTN","ONCCPC9A",75,0)
 W !,"      DEHYDRATION..............: ",ONC(165.5,IE,774),?44,"STOMA COMPLICATION.......: ",ONC(165.5,IE,782) D P Q:EX=U
"RTN","ONCCPC9A",76,0)
 W !,"      DIARRHEA.................: ",ONC(165.5,IE,775),?44,"URINARY TRACT INFECTION..: ",ONC(165.5,IE,783) D P Q:EX=U
"RTN","ONCCPC9A",77,0)
 W !,"      EARLY BOWEL OBSTRUCTION..: ",ONC(165.5,IE,776)
"RTN","ONCCPC9A",78,0)
 W !!,"56. POSTOPERATIVE DEATH W/I 30 DAYS: ",ONC(165.5,IE,441)
"RTN","ONCCPC9A",79,0)
R W !!?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCCPC9A",80,0)
 W !,"57. DATE RADIATION STARTED...........: ",ONC(165.5,IE,51) D P Q:EX=U
"RTN","ONCCPC9A",81,0)
 W !,"58. DATE RADIATION THERAPY ENDED.....: ",ONC(165.5,IE,361) D P Q:EX=U
"RTN","ONCCPC9A",82,0)
 W !,"59. ENDOCAVITARY RADIATION...........: ",ONC(165.5,IE,784) D P Q:EX=U
"RTN","ONCCPC9A",83,0)
 W !,"60. INTRA-OPERATIVE RAD THERAPY......: ",ONC(165.5,IE,785) D P Q:EX=U
"RTN","ONCCPC9A",84,0)
 W !,"61. PRIMARY TUMOR RAD DOSE W BOOST...: ",ONC(165.5,IE,786) D P Q:EX=U
"RTN","ONCCPC9A",85,0)
 W !,"62. NUMBER OF RADIATION TREATMENTS...: ",ONC(165.5,IE,787) D P Q:EX=U
"RTN","ONCCPC9A",86,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 W !?4,TABLE_" (continued)",!?4,LINE G C
"RTN","ONCCPC9A",87,0)
 W ! D P Q:EX=U
"RTN","ONCCPC9A",88,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCCPC9A",89,0)
 W !,"63. CHEMOTHERAPY.....................: ",ONC(165.5,IE,53.2) D P Q:EX=U
"RTN","ONCCPC9A",90,0)
 W !,"64. DATE CHEMOTHERAPY STARTED........: ",ONC(165.5,IE,53) D P Q:EX=U
"RTN","ONCCPC9A",91,0)
 W !,"65. ADJUVANT CHEMO W BEAM RADIATION..: ",ONC(165.5,IE,788) D P Q:EX=U
"RTN","ONCCPC9A",92,0)
 W !!,"66. ADJUVANT THERAPY:" D P Q:EX=U
"RTN","ONCCPC9A",93,0)
 W !,"      5 FU (FLUOROURACIL): ",ONC(165.5,IE,789),?39,"CPT 11.............: ",ONC(165.5,IE,792) D P Q:EX=U
"RTN","ONCCPC9A",94,0)
 W !,"      LEUCOVORIN.........: ",ONC(165.5,IE,790),?39,"TAXOL..............: ",ONC(165.5,IE,377) D P Q:EX=U
"RTN","ONCCPC9A",95,0)
 W !,"      LEVAMISOLE.........: ",ONC(165.5,IE,791),?39,"OTHER..............: ",ONC(165.5,IE,793) D P Q:EX=U
"RTN","ONCCPC9A",96,0)
 W !!,"67. DURATION OF ADJUVANT THERAPY.....: ",ONC(165.5,IE,794) D P Q:EX=U
"RTN","ONCCPC9A",97,0)
 W !,"68. COMPLETED DURATION OF THERAPY....: ",ONC(165.5,IE,795) D P Q:EX=U
"RTN","ONCCPC9A",98,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 G V
"RTN","ONCCPC9A",99,0)
 D P Q:EX=U
"RTN","ONCCPC9A",100,0)
V D ^ONCCPC9B
"RTN","ONCCPC9A",101,0)
KILL ;Kill Variables and Exit
"RTN","ONCCPC9A",102,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y
"RTN","ONCCPC9A",103,0)
 Q
"RTN","ONCCPC9A",104,0)
P ;Display Data
"RTN","ONCCPC9A",105,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCCPC9A",106,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCCPC9A",107,0)
 .D HDR^ONCCPC9 Q
"RTN","ONCCPC9A",108,0)
 Q
"RTN","ONCCPC9B")
0^56^B5787445
"RTN","ONCCPC9B",1,0)
ONCCPC9B ;HIRMFO/GWB - PCE Study of Colorectal Cancer - Print (continued);4/1/97
"RTN","ONCCPC9B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCPC9B",3,0)
V S TABLE="TABLE V - QUALITY OF LIFE"
"RTN","ONCCPC9B",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCCPC9
"RTN","ONCCPC9B",5,0)
 W !?4,TABLE,!?4,"-------------------------" D P Q:EX=U
"RTN","ONCCPC9B",6,0)
 W !,"69. WERE OTHER REFERRALS MADE:"
"RTN","ONCCPC9B",7,0)
 W !,"      NUTRITIONAL CONSULTATION.......: ",ONC(165.5,IE,796) D P Q:EX=U
"RTN","ONCCPC9B",8,0)
 W !,"      OCCUPATIONAL THERAPY...........: ",ONC(165.5,IE,797) D P Q:EX=U
"RTN","ONCCPC9B",9,0)
 W !,"      PHYSICAL THERAPY...............: ",ONC(165.5,IE,563) D P Q:EX=U
"RTN","ONCCPC9B",10,0)
 W !,"      OSTOMY CONSULTATION............: ",ONC(165.5,IE,798) D P Q:EX=U
"RTN","ONCCPC9B",11,0)
 W !,"      PSYCHOSOCIAL...................: ",ONC(165.5,IE,799) D P Q:EX=U
"RTN","ONCCPC9B",12,0)
VI S TABLE="TABLE VI - FIRST RECURRENCE"
"RTN","ONCCPC9B",13,0)
 W !!?4,TABLE,!?4,"---------------------------" D P Q:EX=U
"RTN","ONCCPC9B",14,0)
 W !,"70. DATE OF FIRST RECURRENCE..........: ",ONC(165.5,IE,70) D P Q:EX=U
"RTN","ONCCPC9B",15,0)
 W !,"71. TYPE OF FIRST RECURRENCE..........: ",ONC(165.5,IE,71) D P Q:EX=U
"RTN","ONCCPC9B",16,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCCPC9 G VII
"RTN","ONCCPC9B",17,0)
 D P Q:EX=U
"RTN","ONCCPC9B",18,0)
VII S TABLE="TABLE VII - STATUS AT LAST CONTACT"
"RTN","ONCCPC9B",19,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCCPC9
"RTN","ONCCPC9B",20,0)
 W !?4,TABLE,!?4,"----------------------------------" D P Q:EX=U
"RTN","ONCCPC9B",21,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCCPC9B",22,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCCPC9B",23,0)
 W !,"72. DATE OF LAST CONTACT OR DEATH....: ",DLC
"RTN","ONCCPC9B",24,0)
 W !,"73. VITAL STATUS.....................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCCPC9B",25,0)
 S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCCPC9B",26,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCCPC9B",27,0)
 .S CSI=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCCPC9B",28,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSI,0),U,2)
"RTN","ONCCPC9B",29,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCCPC9B",30,0)
 W !,"74. CANCER STATUS....................: ",CS
"RTN","ONCCPC9B",31,0)
 W !,"75. COMPLETED BY.....................: ",ONC(165.5,IE,81) D P Q:EX=U
"RTN","ONCCPC9B",32,0)
 W !,"76. REVIEWED BY CANCER COMMITTEE.....: ",ONC(165.5,IE,82) D P Q:EX=U
"RTN","ONCCPC9B",33,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCPC9B",34,0)
KILL ;Kill Variables and Exit
"RTN","ONCCPC9B",35,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTI
"RTN","ONCCPC9B",36,0)
 Q
"RTN","ONCCPC9B",37,0)
P ;Display Data
"RTN","ONCCPC9B",38,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCCPC9B",39,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCCPC9B",40,0)
 .D HDR^ONCCPC9 Q
"RTN","ONCCPC9B",41,0)
 Q
"RTN","ONCCS")
0^58^B53941422
"RTN","ONCCS",1,0)
ONCCS ;Hines OIFO/GWB - Collaborative Staging ;06/23/10
"RTN","ONCCS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCS",3,0)
 ;
"RTN","ONCCS",4,0)
 N DIR,IEN,LV,PS,RC,X
"RTN","ONCCS",5,0)
 W !
"RTN","ONCCS",6,0)
 S DIR("A")=" Compute Collaborative Staging"
"RTN","ONCCS",7,0)
 S DIR(0)="Y",DIR("B")="Yes" D ^DIR
"RTN","ONCCS",8,0)
 I (Y=0)!(Y="")!(Y[U) S Y=$S(ONCOANS="A":"@4",1:"@0") Q
"RTN","ONCCS",9,0)
 ;
"RTN","ONCCS",10,0)
 ;re-initialize if 96703
"RTN","ONCCS",11,0)
 I ($P($G(^ONCO(165.5,D0,2.2)),U,3)=96703),($P($G(^ONCO(165.5,D0,0)),U,16)>3120000) D  Q
"RTN","ONCCS",12,0)
 .D CLNCS
"RTN","ONCCS",13,0)
 .W !!,"96703 is obsolete for primaries starting 2012!!!"
"RTN","ONCCS",14,0)
 ;
"RTN","ONCCS",15,0)
 S IEN=D0
"RTN","ONCCS",16,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,1,9)=U_U_U_U_U_U_U_U
"RTN","ONCCS",17,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,11)=""
"RTN","ONCCS",18,0)
 ;
"RTN","ONCCS",19,0)
 K INPUT,STORE,DISPLAY,STATUS,ONCSAPI
"RTN","ONCCS",20,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCCS",21,0)
 ;
"RTN","ONCCS",22,0)
 S PS=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCCS",23,0)
 S:PS'="" PS=$TR($$GET1^DIQ(164,PS,1,"I"),".","")
"RTN","ONCCS",24,0)
 S INPUT("SITE")=PS
"RTN","ONCCS",25,0)
 ;
"RTN","ONCCS",26,0)
 S INPUT("HIST")=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),1,4)
"RTN","ONCCS",27,0)
 ;
"RTN","ONCCS",28,0)
 S INPUT("DIAGNOSIS_YEAR")=$E($$DATE^ONCACDU1($$GET1^DIQ(165.5,IEN,3,"I")),1,4)
"RTN","ONCCS",29,0)
 ;
"RTN","ONCCS",30,0)
 ;S INPUT("CSVER_ORIGINAL")=$P($$VERSION^ONCSAPIV,U,2)
"RTN","ONCCS",31,0)
 S INPUT("CSVER_ORIGINAL")=$$GET1^DIQ(165.5,IEN,169.1,"I")
"RTN","ONCCS",32,0)
 S:INPUT("CSVER_ORIGINAL")="" INPUT("CSVER_ORIGINAL")=$P($$VERSION^ONCSAPIV,U,2)
"RTN","ONCCS",33,0)
 ;
"RTN","ONCCS",34,0)
 S INPUT("BEHAV")=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),5)
"RTN","ONCCS",35,0)
 ;
"RTN","ONCCS",36,0)
 S INPUT("GRADE")=$$GET1^DIQ(165.5,IEN,24,"I")
"RTN","ONCCS",37,0)
 ;
"RTN","ONCCS",38,0)
 S INPUT("AGE")=$$AGEDX^ONCACDU1(IEN)
"RTN","ONCCS",39,0)
 S:$L(INPUT("AGE"))=1 INPUT("AGE")="00"_INPUT("AGE")
"RTN","ONCCS",40,0)
 S:$L(INPUT("AGE"))=2 INPUT("AGE")=0_INPUT("AGE")
"RTN","ONCCS",41,0)
 ;
"RTN","ONCCS",42,0)
 S LV=$$GET1^DIQ(165.5,IEN,149,"I")_$$GET1^DIQ(165.5,IEN,151,"I")
"RTN","ONCCS",43,0)
 S INPUT("LVI")=$S(LV[1:1,LV[2:1,LV[0:0,LV["X":9,1:8)
"RTN","ONCCS",44,0)
 ;
"RTN","ONCCS",45,0)
 S INPUT("SIZE")=$$GET1^DIQ(165.5,IEN,29.2,"I")
"RTN","ONCCS",46,0)
 ;
"RTN","ONCCS",47,0)
 S INPUT("EXT")=$$GET1^DIQ(165.5,IEN,30.2,"I")
"RTN","ONCCS",48,0)
 ;
"RTN","ONCCS",49,0)
 S INPUT("EXTEVAL")=$$GET1^DIQ(165.5,IEN,29.1,"I")
"RTN","ONCCS",50,0)
 ;
"RTN","ONCCS",51,0)
 S INPUT("NODES")=$$GET1^DIQ(165.5,IEN,31.1,"I")
"RTN","ONCCS",52,0)
 ;
"RTN","ONCCS",53,0)
 S INPUT("LNPOS")=$$GET1^DIQ(165.5,IEN,32,"I")
"RTN","ONCCS",54,0)
 S:$L(INPUT("LNPOS"))=1 INPUT("LNPOS")=0_INPUT("LNPOS")
"RTN","ONCCS",55,0)
 ;
"RTN","ONCCS",56,0)
 S INPUT("LNEXAM")=$$GET1^DIQ(165.5,IEN,33,"I")
"RTN","ONCCS",57,0)
 S:$L(INPUT("LNEXAM"))=1 INPUT("LNEXAM")=0_INPUT("LNEXAM")
"RTN","ONCCS",58,0)
 ;
"RTN","ONCCS",59,0)
 S INPUT("NODESEVAL")=$$GET1^DIQ(165.5,IEN,32.1,"I")
"RTN","ONCCS",60,0)
 ;
"RTN","ONCCS",61,0)
 S INPUT("METS")=$$GET1^DIQ(165.5,IEN,34.3,"I")
"RTN","ONCCS",62,0)
 ;
"RTN","ONCCS",63,0)
 S INPUT("METSEVAL")=$$GET1^DIQ(165.5,IEN,34.4,"I")
"RTN","ONCCS",64,0)
 ;
"RTN","ONCCS",65,0)
 S INPUT("SSF1")=$$GET1^DIQ(165.5,IEN,44.1,"I")
"RTN","ONCCS",66,0)
 S INPUT("SSF2")=$$GET1^DIQ(165.5,IEN,44.2,"I")
"RTN","ONCCS",67,0)
 S INPUT("SSF3")=$$GET1^DIQ(165.5,IEN,44.3,"I")
"RTN","ONCCS",68,0)
 S INPUT("SSF4")=$$GET1^DIQ(165.5,IEN,44.4,"I")
"RTN","ONCCS",69,0)
 S INPUT("SSF5")=$$GET1^DIQ(165.5,IEN,44.5,"I")
"RTN","ONCCS",70,0)
 S INPUT("SSF6")=$$GET1^DIQ(165.5,IEN,44.6,"I")
"RTN","ONCCS",71,0)
 S INPUT("SSF7")=$$GET1^DIQ(165.5,IEN,44.7,"I")
"RTN","ONCCS",72,0)
 S INPUT("SSF8")=$$GET1^DIQ(165.5,IEN,44.8,"I")
"RTN","ONCCS",73,0)
 S INPUT("SSF9")=$$GET1^DIQ(165.5,IEN,44.9,"I")
"RTN","ONCCS",74,0)
 S INPUT("SSF10")=$$GET1^DIQ(165.5,IEN,44.101,"I")
"RTN","ONCCS",75,0)
 S INPUT("SSF11")=$$GET1^DIQ(165.5,IEN,44.11,"I")
"RTN","ONCCS",76,0)
 S INPUT("SSF12")=$$GET1^DIQ(165.5,IEN,44.12,"I")
"RTN","ONCCS",77,0)
 S INPUT("SSF13")=$$GET1^DIQ(165.5,IEN,44.13,"I")
"RTN","ONCCS",78,0)
 S INPUT("SSF14")=$$GET1^DIQ(165.5,IEN,44.14,"I")
"RTN","ONCCS",79,0)
 S INPUT("SSF15")=$$GET1^DIQ(165.5,IEN,44.15,"I")
"RTN","ONCCS",80,0)
 S INPUT("SSF16")=$$GET1^DIQ(165.5,IEN,44.16,"I")
"RTN","ONCCS",81,0)
 S INPUT("SSF17")=$$GET1^DIQ(165.5,IEN,44.17,"I")
"RTN","ONCCS",82,0)
 S INPUT("SSF18")=$$GET1^DIQ(165.5,IEN,44.18,"I")
"RTN","ONCCS",83,0)
 S INPUT("SSF19")=$$GET1^DIQ(165.5,IEN,44.19,"I")
"RTN","ONCCS",84,0)
 S INPUT("SSF20")=$$GET1^DIQ(165.5,IEN,44.201,"I")
"RTN","ONCCS",85,0)
 S INPUT("SSF21")=$$GET1^DIQ(165.5,IEN,44.21,"I")
"RTN","ONCCS",86,0)
 S INPUT("SSF22")=$$GET1^DIQ(165.5,IEN,44.22,"I")
"RTN","ONCCS",87,0)
 S INPUT("SSF23")=$$GET1^DIQ(165.5,IEN,44.23,"I")
"RTN","ONCCS",88,0)
 S INPUT("SSF24")=$$GET1^DIQ(165.5,IEN,44.24,"I")
"RTN","ONCCS",89,0)
 I $P($G(^ONCO(165.5,IEN,"CS3")),U,1)'="" D
"RTN","ONCCS",90,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=$P($G(^ONCO(165.5,IEN,"CS3")),U,1)
"RTN","ONCCS",91,0)
 S INPUT("SSF25")=$$GET1^DIQ(165.5,IEN,44.25,"I")
"RTN","ONCCS",92,0)
 S:INPUT("SSF25")="" INPUT("SSF25")="   "
"RTN","ONCCS",93,0)
 ;
"RTN","ONCCS",94,0)
 S RC=$$CALC^ONCSAPI3(.ONCSAPI,.INPUT,.STORE,.DISPLAY,.STATUS)
"RTN","ONCCS",95,0)
 I RC D PRTERRS^ONCSAPIE() R "Press return to continue",X:DTIME
"RTN","ONCCS",96,0)
 ;
"RTN","ONCCS",97,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,1)=STORE("T")
"RTN","ONCCS",98,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,2)=STORE("TDESCR")
"RTN","ONCCS",99,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,3)=STORE("N")
"RTN","ONCCS",100,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,4)=STORE("NDESCR")
"RTN","ONCCS",101,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,5)=STORE("M")
"RTN","ONCCS",102,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,6)=STORE("MDESCR")
"RTN","ONCCS",103,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,7)=STORE("AJCC")
"RTN","ONCCS",104,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,13)=STORE("AJCC7-T")
"RTN","ONCCS",105,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,14)=STORE("AJCC7-TDESCR")
"RTN","ONCCS",106,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,15)=STORE("AJCC7-N")
"RTN","ONCCS",107,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,16)=STORE("AJCC7-NDESCR")
"RTN","ONCCS",108,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,17)=STORE("AJCC7-M")
"RTN","ONCCS",109,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,18)=STORE("AJCC7-MDESCR")
"RTN","ONCCS",110,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,19)=STORE("AJCC7-STAGE")
"RTN","ONCCS",111,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,8)=STORE("SS1977")
"RTN","ONCCS",112,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,9)=STORE("SS2000")
"RTN","ONCCS",113,0)
 S $P(^ONCO(165.5,IEN,"CS1"),U,11)=$G(STATUS("APIVER"))
"RTN","ONCCS",114,0)
 S:$P(^ONCO(165.5,IEN,"CS1"),U,12)="" $P(^ONCO(165.5,IEN,"CS1"),U,12)=$G(STATUS("APIVER"))
"RTN","ONCCS",115,0)
 D ^ONCPCS
"RTN","ONCCS",116,0)
 I $P(RC,U,1)=0 W !," Collaborative Staging was successful" Q
"RTN","ONCCS",117,0)
 I $P(RC,U,1)=-10 W !," CS server unavailable.  Contact IRM." Q
"RTN","ONCCS",118,0)
 I $P(RC,U,1)=-22 W !," Invalid COLLABORATIVE STAGING URL value in ONCOLOGY SITE PARAMETERS" Q
"RTN","ONCCS",119,0)
 I $P(RC,U,1)<0 W !," You have encountered a CS error" G CSERR
"RTN","ONCCS",120,0)
 I $P(RC,U,1)>0 W !," You have encountered a CS warning" G CSERR
"RTN","ONCCS",121,0)
 ;
"RTN","ONCCS",122,0)
CSERR N DIR,X
"RTN","ONCCS",123,0)
 S DIR("A")="Do you wish to re-enter the CS input values"
"RTN","ONCCS",124,0)
 S DIR(0)="Y",DIR("B")="Yes" D ^DIR
"RTN","ONCCS",125,0)
 I Y=1 S Y="@292" Q
"RTN","ONCCS",126,0)
 I Y[U S Y="@0" Q
"RTN","ONCCS",127,0)
 S Y=$S(ONCOANS="A":"@4",1:"@0")
"RTN","ONCCS",128,0)
 Q
"RTN","ONCCS",129,0)
 ;
"RTN","ONCCS",130,0)
INIT ;Initialize CS fields when HISTOLOGY (ICD-O-3) (165.5,22.3) changes
"RTN","ONCCS",131,0)
 N HISTNAM,HSTFLD,HSTI,LNS,LSC,MEL,OLDHST,SITEGRP,TEXT
"RTN","ONCCS",132,0)
 ;Malignant Lymphoma is obsolete for ADX 2012 and up.
"RTN","ONCCS",133,0)
 I ($P($G(^ONCO(165.5,D0,0)),U,16)>3120000),(X=96703) D  Q
"RTN","ONCCS",134,0)
 .W !!,"96703 is obsolete for primaries starting 2012!!!"
"RTN","ONCCS",135,0)
 .K X
"RTN","ONCCS",136,0)
 I ($P($G(^ONCO(165.5,D0,0)),U,16)>3100000),(X=97511) D  Q
"RTN","ONCCS",137,0)
 .W !!,"97511 is obsolete for primaries starting 2010!!!"
"RTN","ONCCS",138,0)
 .K X
"RTN","ONCCS",139,0)
 S LNS=$O(^ONCO(164.2,"B","LUNG NOS",0))
"RTN","ONCCS",140,0)
 S LSC=$O(^ONCO(164.2,"B","LUNG SMALL CELL",0))
"RTN","ONCCS",141,0)
 S MEL=$O(^ONCO(164.2,"B","MELANOMA",0))
"RTN","ONCCS",142,0)
 S SITEGRP=$P($G(^ONCO(165.5,D0,0)),U,1)
"RTN","ONCCS",143,0)
 S OLDHST=$P($G(^ONCO(165.5,D0,2.2)),U,3)
"RTN","ONCCS",144,0)
 I (OLDHST=96703),($P($G(^ONCO(165.5,D0,0)),U,16)>3120000) D CLNCS  ;re-initialized if 96703, obsolete histology.
"RTN","ONCCS",145,0)
 I X=OLDHST Q
"RTN","ONCCS",146,0)
 I SITEGRP=LNS D
"RTN","ONCCS",147,0)
 .I ($E(X,1,4)=8041)!($E(X,1,4)=8042)!($E(X,1,4)=8043)!($E(X,1,4)=8044)!($E(X,1,4)=8045)!($E(X,1,4)=8246) D  W !!," SITE/GP changed to LUNG SMALL CELL",!
"RTN","ONCCS",148,0)
 ..S $P(^ONCO(165.5,D0,0),U,1)=LSC
"RTN","ONCCS",149,0)
 ..K ^ONCO(165.5,"B",LNS,D0)
"RTN","ONCCS",150,0)
 ..S ^ONCO(165.5,"B",LSC,D0)=""
"RTN","ONCCS",151,0)
 I SITEGRP=LSC D
"RTN","ONCCS",152,0)
 .I ($E(X,1,4)'=8041)&($E(X,1,4)'=8042)&($E(X,1,4)'=8043)&($E(X,1,4)'=8044)&($E(X,1,4)'=8045)&($E(X,1,4)'=8246) D  W !!," SITE/GP changed to LUNG NOS",!
"RTN","ONCCS",153,0)
 ..S $P(^ONCO(165.5,D0,0),U,1)=LNS
"RTN","ONCCS",154,0)
 ..K ^ONCO(165.5,"B",LSC,D0)
"RTN","ONCCS",155,0)
 ..S ^ONCO(165.5,"B",LNS,D0)=""
"RTN","ONCCS",156,0)
 I SITEGRP'=MEL D
"RTN","ONCCS",157,0)
 .I (X'<87200)&(X<87910) D  W !!," SITE/GP changed to MELANOMA",!
"RTN","ONCCS",158,0)
 ..S $P(^ONCO(165.5,D0,0),U,1)=MEL
"RTN","ONCCS",159,0)
 ..K ^ONCO(165.5,"B",SITEGRP,D0)
"RTN","ONCCS",160,0)
 ..S ^ONCO(165.5,"B",MEL,D0)=""
"RTN","ONCCS",161,0)
 I SITEGRP=MEL D
"RTN","ONCCS",162,0)
 .I (X<87200)!(X>87900) D
"RTN","ONCCS",163,0)
 ..W !
"RTN","ONCCS",164,0)
 ..W !," WARNING: SITE/GP and HISTOLOGY discrepancy"
"RTN","ONCCS",165,0)
 ..W !,"          SITE/GP   = MELANOMA"
"RTN","ONCCS",166,0)
 ..W !,"          HISTOLOGY = ",$P(Y,U,1),"  ",$P(Y,U,2)
"RTN","ONCCS",167,0)
 ..W !
"RTN","ONCCS",168,0)
 I OLDHST="" Q
"RTN","ONCCS",169,0)
 S HSTI=$$HIST^ONCFUNC(D0,.HSTFLD,.HISTNAM)
"RTN","ONCCS",170,0)
 S TEXT=HISTNAM
"RTN","ONCCS",171,0)
 S $P(^ONCO(165.5,D0,8),U,2)=$E(TEXT,1,40)
"RTN","ONCCS",172,0)
 I $P($G(^ONCO(165.5,D0,0)),U,16)<3040000 Q
"RTN","ONCCS",173,0)
 W !
"RTN","ONCCS",174,0)
 W !?3,"You have changed the HISTOLOGY (ICD-O-3).  This change may"
"RTN","ONCCS",175,0)
 W !?3,"affect the validity of the COLLABORATIVE STAGING data."
"RTN","ONCCS",176,0)
 W !?3,"Therefore, the CS fields have been initialized and need to"
"RTN","ONCCS",177,0)
 W !?3,"be re-entered."
"RTN","ONCCS",178,0)
 W !
"RTN","ONCCS",179,0)
CLNCS ;re-initialize if Histology 96703
"RTN","ONCCS",180,0)
 F PIECE=1:1:12 S $P(^ONCO(165.5,D0,"CS"),U,PIECE)=""
"RTN","ONCCS",181,0)
 F PIECE=1:1:19 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCCS",182,0)
 F PIECE=1:1:19 S $P(^ONCO(165.5,D0,"CS2"),U,PIECE)=""
"RTN","ONCCS",183,0)
 S $P(^ONCO(165.5,D0,"CS3"),U,1)=""
"RTN","ONCCS",184,0)
 K PIECE
"RTN","ONCCS",185,0)
 Q
"RTN","ONCCS",186,0)
 ;
"RTN","ONCCS",187,0)
CLEANUP ;Cleanup
"RTN","ONCCS",188,0)
 K D0,ONCOANS,Y
"RTN","ONCCS2")
0^59^B161397128
"RTN","ONCCS2",1,0)
ONCCS2 ;Hines OIFO/GWB - Collaborative Staging v2 Stuffing ;06/23/10
"RTN","ONCCS2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCS2",3,0)
 ;
"RTN","ONCCS2",4,0)
 S SCHEMA="Unable to compute schema"
"RTN","ONCCS2",5,0)
 Q:$G(TOP)=""
"RTN","ONCCS2",6,0)
 N DISCRIM,HIST,MO,SCHNAME,SITE
"RTN","ONCCS2",7,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCCS2",8,0)
 S SITE=$TR($$GET1^DIQ(164,TOP,1,"I"),".","")
"RTN","ONCCS2",9,0)
 S HIST=$E(MO,1,4)
"RTN","ONCCS2",10,0)
 S DISCRIM=$$GET1^DIQ(165.5,D0,240)
"RTN","ONCCS2",11,0)
 S SCHEMA=+$$SCHEMA^ONCSAPIS(.ONCSAPI,SITE,HIST,DISCRIM)
"RTN","ONCCS2",12,0)
 Q:SCHEMA<0
"RTN","ONCCS2",13,0)
 S SCHEMA=SCHNAME
"RTN","ONCCS2",14,0)
 ;
"RTN","ONCCS2",15,0)
 I $G(SCHEMA)="AdnexaUterineOther" D  Q
"RTN","ONCCS2",16,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",17,0)
 .D EVAL
"RTN","ONCCS2",18,0)
 ;
"RTN","ONCCS2",19,0)
 I $G(SCHEMA)="AdrenalGland" D  Q
"RTN","ONCCS2",20,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",21,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",22,0)
 .I DATEDX>3131231 D 2,3    ;CS V02.05
"RTN","ONCCS2",23,0)
 ;
"RTN","ONCCS2",24,0)
 I $G(SCHEMA)="AmpullaVater" D  Q
"RTN","ONCCS2",25,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",26,0)
 .I DATEDX>3131231 D 1,2,3    ;CS V02.05
"RTN","ONCCS2",27,0)
 ;
"RTN","ONCCS2",28,0)
 I $G(SCHEMA)="Anus" D  Q
"RTN","ONCCS2",29,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",30,0)
 .I DATEDX>3131231 D 1    ;CS V02.05
"RTN","ONCCS2",31,0)
 ;
"RTN","ONCCS2",32,0)
 I $G(SCHEMA)="Appendix" D  Q
"RTN","ONCCS2",33,0)
 .D 5,6,8,9,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",34,0)
 .I DATEDX>3131231 D 4,7,10,12    ;CS V02.05
"RTN","ONCCS2",35,0)
 ;
"RTN","ONCCS2",36,0)
 I $G(SCHEMA)="BileDuctsDistal" D  Q
"RTN","ONCCS2",37,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",38,0)
 .I DATEDX>3131231 D 12,13,14    ;CS V02.05
"RTN","ONCCS2",39,0)
 ;
"RTN","ONCCS2",40,0)
 I $G(SCHEMA)="BileDuctsIntraHepat" D  Q
"RTN","ONCCS2",41,0)
 .D 4,5,6,7,8,9,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",42,0)
 .I DATEDX>3131231 D 3,12    ;CS V02.05
"RTN","ONCCS2",43,0)
 ;
"RTN","ONCCS2",44,0)
 I $G(SCHEMA)="BileDuctsPerihilar" D  Q
"RTN","ONCCS2",45,0)
 .D 1,2,3,4,5,6,7,8,9,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",46,0)
 .I DATEDX>3131231 D 10,12,13,14    ;CS V02.05
"RTN","ONCCS2",47,0)
 ;
"RTN","ONCCS2",48,0)
 I $G(SCHEMA)="BiliaryOther" D  Q
"RTN","ONCCS2",49,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",50,0)
 ;
"RTN","ONCCS2",51,0)
 I $G(SCHEMA)="Bladder" D  Q
"RTN","ONCCS2",52,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",53,0)
 ;
"RTN","ONCCS2",54,0)
 I $G(SCHEMA)="Bone" D  Q
"RTN","ONCCS2",55,0)
 .D 5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",56,0)
 .I DATEDX>3131231 D 1,2,4    ;CS V02.05
"RTN","ONCCS2",57,0)
 ;
"RTN","ONCCS2",58,0)
 I $G(SCHEMA)="Brain" D  Q
"RTN","ONCCS2",59,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",60,0)
 .D EVAL,LN
"RTN","ONCCS2",61,0)
 .I DATEDX>3131231 D 2,3,7,8    ;CS V02.05
"RTN","ONCCS2",62,0)
 ;
"RTN","ONCCS2",63,0)
 I $G(SCHEMA)="Breast" D  Q
"RTN","ONCCS2",64,0)
 .D 25
"RTN","ONCCS2",65,0)
 .I DATEDX>3131231 D 17,18,19,20,24    ;CS V02.05
"RTN","ONCCS2",66,0)
 ;
"RTN","ONCCS2",67,0)
 I $G(SCHEMA)="BuccalMucosa" D  Q
"RTN","ONCCS2",68,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",69,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",70,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",71,0)
 ;
"RTN","ONCCS2",72,0)
 I $G(SCHEMA)="CarcinoidAppendix" D  Q
"RTN","ONCCS2",73,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",74,0)
 .D 3,4,5,6,7,8,9,10,11,12,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",75,0)
 .I DATEDX>3131231 D 13    ;CS V02.05
"RTN","ONCCS2",76,0)
 ;
"RTN","ONCCS2",77,0)
 I $G(SCHEMA)="Cervix" D  Q
"RTN","ONCCS2",78,0)
 .D 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",79,0)
 .I DATEDX>3131231 D 2,3,4,5,6,7,8,9    ;CS V02.05
"RTN","ONCCS2",80,0)
 ;
"RTN","ONCCS2",81,0)
 I $G(SCHEMA)="CNSOther" D  Q
"RTN","ONCCS2",82,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",83,0)
 .D EVAL,LN
"RTN","ONCCS2",84,0)
 .I DATEDX>3131231 D 2,3,7,8    ;CS V02.05
"RTN","ONCCS2",85,0)
 ;
"RTN","ONCCS2",86,0)
 I $G(SCHEMA)="Colon" D  Q
"RTN","ONCCS2",87,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",88,0)
 .I DATEDX>3131231 D 5,7,10    ;CS V02.05
"RTN","ONCCS2",89,0)
 ;
"RTN","ONCCS2",90,0)
 I $G(SCHEMA)="Conjunctiva" D  Q
"RTN","ONCCS2",91,0)
 .D 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",92,0)
 .D:$P($G(^ONCO(165.5,D0,"CS1")),U,10)="" TS
"RTN","ONCCS2",93,0)
 .I DATEDX>3131231 D 2    ;CS V02.05
"RTN","ONCCS2",94,0)
 ;
"RTN","ONCCS2",95,0)
 I $G(SCHEMA)="CorpusAdenosarcoma" D  Q
"RTN","ONCCS2",96,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",97,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS2",98,0)
 ;
"RTN","ONCCS2",99,0)
 I $G(SCHEMA)="CorpusCarcinoma" D  Q
"RTN","ONCCS2",100,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",101,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS2",102,0)
 ;
"RTN","ONCCS2",103,0)
 I $G(SCHEMA)="CorpusSarcoma" D  Q
"RTN","ONCCS2",104,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",105,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS2",106,0)
 ;
"RTN","ONCCS2",107,0)
 I $G(SCHEMA)="CysticDuct" D  Q
"RTN","ONCCS2",108,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",109,0)
 ;
"RTN","ONCCS2",110,0)
 I $G(SCHEMA)="DigestiveOther" D  Q
"RTN","ONCCS2",111,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",112,0)
 .D EVAL
"RTN","ONCCS2",113,0)
 ;
"RTN","ONCCS2",114,0)
 I $G(SCHEMA)="EndocrineOther" D  Q
"RTN","ONCCS2",115,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",116,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",117,0)
 .D EVAL
"RTN","ONCCS2",118,0)
 ;
"RTN","ONCCS2",119,0)
 I $G(SCHEMA)="EpiglottisAnterior" D  Q
"RTN","ONCCS2",120,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",121,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",122,0)
 ;
"RTN","ONCCS2",123,0)
 I $G(SCHEMA)="Esophagus" D  Q
"RTN","ONCCS2",124,0)
 .D 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",125,0)
 .I DATEDX>3131231 D 2,3,4,5    ;CS V02.05
"RTN","ONCCS2",126,0)
 ;
"RTN","ONCCS2",127,0)
 I $G(SCHEMA)="EsophagusGEJunction" D  Q
"RTN","ONCCS2",128,0)
 .D 2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",129,0)
 .I DATEDX>3131231 D 3,4,5    ;CS V02.05
"RTN","ONCCS2",130,0)
 ;
"RTN","ONCCS2",131,0)
 I $G(SCHEMA)="EyeOther" D  Q
"RTN","ONCCS2",132,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",133,0)
 .D EVAL
"RTN","ONCCS2",134,0)
 ;
"RTN","ONCCS2",135,0)
 I $G(SCHEMA)="FallopianTube" D  Q
"RTN","ONCCS2",136,0)
 .D 8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",137,0)
 .I DATEDX>3131231 D 2,3    ;CS V02.05
"RTN","ONCCS2",138,0)
 ;
"RTN","ONCCS2",139,0)
 I $G(SCHEMA)="FloorMouth" D  Q
"RTN","ONCCS2",140,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",141,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",142,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",143,0)
 ;
"RTN","ONCCS2",144,0)
 I $G(SCHEMA)="Gallbladder" D  Q
"RTN","ONCCS2",145,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",146,0)
 .I DATEDX>3131231 D 15,16    ;CS V02.05
"RTN","ONCCS2",147,0)
 ;
"RTN","ONCCS2",148,0)
 I $G(SCHEMA)="GenitalFemaleOther" D  Q
"RTN","ONCCS2",149,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",150,0)
 .D EVAL
"RTN","ONCCS2",151,0)
 ;
"RTN","ONCCS2",152,0)
 I $G(SCHEMA)="GenitalMaleOther" D  Q
"RTN","ONCCS2",153,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",154,0)
 .D EVAL
"RTN","ONCCS2",155,0)
 ;
"RTN","ONCCS2",156,0)
 I $G(SCHEMA)="GISTAppendix" D  Q
"RTN","ONCCS2",157,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",158,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",159,0)
 .D 3,4,5,6,7,8,9,10,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",160,0)
 .I DATEDX>3131231 D 13,14,15    ;CS V02.05
"RTN","ONCCS2",161,0)
 ;
"RTN","ONCCS2",162,0)
 I $G(SCHEMA)="GISTColon" D  Q
"RTN","ONCCS2",163,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",164,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",165,0)
 .D 3,4,5,6,7,8,9,10,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",166,0)
 .I DATEDX>3131231 D 13,14,15    ;CS V02.05
"RTN","ONCCS2",167,0)
 ;
"RTN","ONCCS2",168,0)
 I $G(SCHEMA)="GISTEsophagus" D  Q
"RTN","ONCCS2",169,0)
 .D 1,2,3,4,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",170,0)
 .I DATEDX>3131231 D 8,9,10    ;CS V02.05
"RTN","ONCCS2",171,0)
 ;
"RTN","ONCCS2",172,0)
 I $G(SCHEMA)="GISTPeritoneum" D  Q
"RTN","ONCCS2",173,0)
 .D 1,2,3,4,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",174,0)
 .I DATEDX>3131231 D 7,8,9    ;CS V02.05
"RTN","ONCCS2",175,0)
 ;
"RTN","ONCCS2",176,0)
 I $G(SCHEMA)="GISTRectum" D  Q
"RTN","ONCCS2",177,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",178,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",179,0)
 .D 3,4,5,6,7,8,9,10,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",180,0)
 .I DATEDX>3131231 D 13,14,15    ;CS V02.05
"RTN","ONCCS2",181,0)
 ;
"RTN","ONCCS2",182,0)
 I $G(SCHEMA)="GISTSmallIntestine" D  Q
"RTN","ONCCS2",183,0)
 .D 1,2,3,4,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",184,0)
 .I DATEDX>3131231 D 8,9,10    ;CS V02.05
"RTN","ONCCS2",185,0)
 ;
"RTN","ONCCS2",186,0)
 I $G(SCHEMA)="GISTStomach" D  Q
"RTN","ONCCS2",187,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",188,0)
 .D 2,3,4,5,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",189,0)
 .I DATEDX>3131231 D 8,9,10    ;CS V02.05
"RTN","ONCCS2",190,0)
 ;
"RTN","ONCCS2",191,0)
 I $G(SCHEMA)="GumLower" D  Q
"RTN","ONCCS2",192,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",193,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",194,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",195,0)
 ;
"RTN","ONCCS2",196,0)
 I $G(SCHEMA)="GumOther" D  Q
"RTN","ONCCS2",197,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",198,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",199,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",200,0)
 ;
"RTN","ONCCS2",201,0)
 I $G(SCHEMA)="GumUpper" D  Q
"RTN","ONCCS2",202,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",203,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",204,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",205,0)
 ;
"RTN","ONCCS2",206,0)
 I $G(SCHEMA)="HeartMediastinum" D  Q
"RTN","ONCCS2",207,0)
 .D 5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",208,0)
 .I DATEDX>3131231 D 2,4    ;CS V02.05
"RTN","ONCCS2",209,0)
 ;
"RTN","ONCCS2",210,0)
 I $G(SCHEMA)="HemeRetic" D  Q
"RTN","ONCCS2",211,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",212,0)
 .D TS,EVAL,LN,METS
"RTN","ONCCS2",213,0)
 ;
"RTN","ONCCS2",214,0)
 I $G(SCHEMA)="Hypopharynx" D  Q
"RTN","ONCCS2",215,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",216,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",217,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS2",218,0)
 ;
"RTN","ONCCS2",219,0)
 I $G(SCHEMA)="IllDefinedOther" D  Q
"RTN","ONCCS2",220,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",221,0)
 .D EXT,EVAL,LN,METS
"RTN","ONCCS2",222,0)
 ;
"RTN","ONCCS2",223,0)
 I $G(SCHEMA)="IntracranialGland" D  Q
"RTN","ONCCS2",224,0)
 .D 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",225,0)
 .D EVAL
"RTN","ONCCS2",226,0)
 .I DATEDX>3131231 D 2    ;CS V02.05
"RTN","ONCCS2",227,0)
 ;
"RTN","ONCCS2",228,0)
 I $G(SCHEMA)="KaposiSarcoma" D  Q
"RTN","ONCCS2",229,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",230,0)
 .D TS,EVAL
"RTN","ONCCS2",231,0)
 .I DATEDX>3131231 D 2,3    ;CS V02.05
"RTN","ONCCS2",232,0)
 ;
"RTN","ONCCS2",233,0)
 I $G(SCHEMA)="KidneyParenchyma" D  Q
"RTN","ONCCS2",234,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",235,0)
 .I DATEDX>3131231 D 2,3    ;CS V02.05
"RTN","ONCCS2",236,0)
 ;
"RTN","ONCCS2",237,0)
 I $G(SCHEMA)="KidneyRenalPelvis" D  Q
"RTN","ONCCS2",238,0)
 .D 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",239,0)
 ;
"RTN","ONCCS2",240,0)
 I $G(SCHEMA)="LacrimalGland" D  Q
"RTN","ONCCS2",241,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",242,0)
 .I DATEDX>3131231 D 1,2,3,5,7    ;CS V02.05
"RTN","ONCCS2",243,0)
 ;
"RTN","ONCCS2",244,0)
 I $G(SCHEMA)="LacrimalSac" D  Q
"RTN","ONCCS2",245,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",246,0)
 ;
"RTN","ONCCS2",247,0)
 I $G(SCHEMA)="LarynxGlottic" D  Q
"RTN","ONCCS2",248,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",249,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",250,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",251,0)
 ;
"RTN","ONCCS2",252,0)
 I $G(SCHEMA)="LarynxOther" D  Q
"RTN","ONCCS2",253,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",254,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",255,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",256,0)
 ;
"RTN","ONCCS2",257,0)
 I $G(SCHEMA)="LarynxSubglottic" D  Q
"RTN","ONCCS2",258,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",259,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",260,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",261,0)
 ;
"RTN","ONCCS2",262,0)
 I $G(SCHEMA)="LarynxSupraglottic" D  Q
"RTN","ONCCS2",263,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",264,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",265,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",266,0)
 ;
"RTN","ONCCS2",267,0)
 I $G(SCHEMA)="LipLower" D  Q
"RTN","ONCCS2",268,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",269,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",270,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",271,0)
 ;
"RTN","ONCCS2",272,0)
 I $G(SCHEMA)="LipOther" D  Q
"RTN","ONCCS2",273,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",274,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",275,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",276,0)
 ;
"RTN","ONCCS2",277,0)
 I $G(SCHEMA)="LipUpper" D  Q
"RTN","ONCCS2",278,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",279,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",280,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",281,0)
 ;
"RTN","ONCCS2",282,0)
 I $G(SCHEMA)="Liver" D  Q
"RTN","ONCCS2",283,0)
 .D 9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",284,0)
 ;
"RTN","ONCCS2",285,0)
 I $G(SCHEMA)="Lung" D  Q
"RTN","ONCCS2",286,0)
 .D 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",287,0)
 ;
"RTN","ONCCS2",288,0)
 I $G(SCHEMA)="Lymphoma" D  Q
"RTN","ONCCS2",289,0)
 .D 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",290,0)
 .D TS,EVAL1,LN,METS
"RTN","ONCCS2",291,0)
 .I DATEDX>3131231 D 4,5    ;CS V02.05
"RTN","ONCCS2",292,0)
 ;
"RTN","ONCCS2",293,0)
 I $G(SCHEMA)="LymphomaOcularAdnexa" D  Q
"RTN","ONCCS2",294,0)
 .D 14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",295,0)
 .I DATEDX>3131231 D 4,5,7,8,9,10,11,12,13    ;CS V02.05
"RTN","ONCCS2",296,0)
 ;
"RTN","ONCCS2",297,0)
 I $G(SCHEMA)="MelanomaBuccalMucosa" D  Q
"RTN","ONCCS2",298,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",299,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",300,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",301,0)
 ;
"RTN","ONCCS2",302,0)
 I $G(SCHEMA)="MelanomaChoroid" D  Q
"RTN","ONCCS2",303,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",304,0)
 .D 15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",305,0)
 .D:$P($G(^ONCO(165.5,D0,"CS1")),U,10)="" TS
"RTN","ONCCS2",306,0)
 .I DATEDX>3131231 D 8,14    ;CS V02.05
"RTN","ONCCS2",307,0)
 ;
"RTN","ONCCS2",308,0)
 I $G(SCHEMA)="MelanomaCiliaryBody" D  Q
"RTN","ONCCS2",309,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS2",310,0)
 .D 15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS2",311,0)
 .D:$P($G(^ONCO(165.5,D0,"CS1")),U,10)="" TS
"RTN","ONCCS2",312,0)
 .I DATEDX>3131231 D 8,14    ;CS V02.05
"RTN","ONCCS2",313,0)
 ;
"RTN","ONCCS2",314,0)
 I $G(SCHEMA)="MelanomaConjunctiva" D  Q
"RTN","ONCCS2",315,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",316,0)
 .I DATEDX>3131231 D 3    ;CS V02.05
"RTN","ONCCS2",317,0)
 ;
"RTN","ONCCS2",318,0)
 I $G(SCHEMA)="MelanomaEpiglottisAnterior" D  Q
"RTN","ONCCS2",319,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",320,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",321,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",322,0)
 ;
"RTN","ONCCS2",323,0)
 I $G(SCHEMA)="MelanomaEyeOther" D  Q
"RTN","ONCCS2",324,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",325,0)
 ;
"RTN","ONCCS2",326,0)
 I $G(SCHEMA)="MelanomaFloorMouth" D  Q
"RTN","ONCCS2",327,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",328,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",329,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",330,0)
 ;
"RTN","ONCCS2",331,0)
 I $G(SCHEMA)="MelanomaGumLower" D  Q
"RTN","ONCCS2",332,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",333,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",334,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",335,0)
 ;
"RTN","ONCCS2",336,0)
 I $G(SCHEMA)="MelanomaGumOther" D  Q
"RTN","ONCCS2",337,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",338,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",339,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",340,0)
 ;
"RTN","ONCCS2",341,0)
 I $G(SCHEMA)="MelanomaGumUpper" D  Q
"RTN","ONCCS2",342,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",343,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",344,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",345,0)
 ;
"RTN","ONCCS2",346,0)
 I $G(SCHEMA)="MelanomaHypopharynx" D  Q
"RTN","ONCCS2",347,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS2",348,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS2",349,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS2",350,0)
 ;
"RTN","ONCCS2",351,0)
 D ^ONCCS3
"RTN","ONCCS2",352,0)
 Q
"RTN","ONCCS2",353,0)
 ;
"RTN","ONCCS2",354,0)
1 ;SSF1 = 988
"RTN","ONCCS2",355,0)
 S $P(^ONCO(165.5,D0,"CS"),U,5)=988
"RTN","ONCCS2",356,0)
 Q
"RTN","ONCCS2",357,0)
 ;
"RTN","ONCCS2",358,0)
2 ;SSF2 = 988
"RTN","ONCCS2",359,0)
 S $P(^ONCO(165.5,D0,"CS"),U,6)=988
"RTN","ONCCS2",360,0)
 Q
"RTN","ONCCS2",361,0)
 ;
"RTN","ONCCS2",362,0)
3 ;SSF3 = 988
"RTN","ONCCS2",363,0)
 S $P(^ONCO(165.5,D0,"CS"),U,7)=988
"RTN","ONCCS2",364,0)
 Q
"RTN","ONCCS2",365,0)
 ;
"RTN","ONCCS2",366,0)
4 ;SSF4 = 988
"RTN","ONCCS2",367,0)
 S $P(^ONCO(165.5,D0,"CS"),U,8)=988
"RTN","ONCCS2",368,0)
 Q
"RTN","ONCCS2",369,0)
 ;
"RTN","ONCCS2",370,0)
5 ;SSF5 = 988
"RTN","ONCCS2",371,0)
 S $P(^ONCO(165.5,D0,"CS"),U,9)=988
"RTN","ONCCS2",372,0)
 Q
"RTN","ONCCS2",373,0)
 ;
"RTN","ONCCS2",374,0)
6 ;SSF6 = 988
"RTN","ONCCS2",375,0)
 S $P(^ONCO(165.5,D0,"CS"),U,10)=988
"RTN","ONCCS2",376,0)
 Q
"RTN","ONCCS2",377,0)
 ;
"RTN","ONCCS2",378,0)
7 ;SSF7 = 988
"RTN","ONCCS2",379,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,1)=988
"RTN","ONCCS2",380,0)
 Q
"RTN","ONCCS2",381,0)
 ;
"RTN","ONCCS2",382,0)
8 ;SSF8 = 988
"RTN","ONCCS2",383,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,2)=988
"RTN","ONCCS2",384,0)
 Q
"RTN","ONCCS2",385,0)
 ;
"RTN","ONCCS2",386,0)
9 ;SSF9 = 988
"RTN","ONCCS2",387,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,3)=988
"RTN","ONCCS2",388,0)
 Q
"RTN","ONCCS2",389,0)
 ;
"RTN","ONCCS2",390,0)
10 ;SSF10 = 988
"RTN","ONCCS2",391,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,4)=988
"RTN","ONCCS2",392,0)
 Q
"RTN","ONCCS2",393,0)
 ;
"RTN","ONCCS2",394,0)
11 ;SSF11 = 988
"RTN","ONCCS2",395,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,5)=988
"RTN","ONCCS2",396,0)
 Q
"RTN","ONCCS2",397,0)
 ;
"RTN","ONCCS2",398,0)
12 ;SSF12 = 988
"RTN","ONCCS2",399,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,6)=988
"RTN","ONCCS2",400,0)
 Q
"RTN","ONCCS2",401,0)
 ;
"RTN","ONCCS2",402,0)
13 ;SSF13 = 988
"RTN","ONCCS2",403,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,7)=988
"RTN","ONCCS2",404,0)
 Q
"RTN","ONCCS2",405,0)
 ;
"RTN","ONCCS2",406,0)
14 ;SSF14 = 988
"RTN","ONCCS2",407,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,8)=988
"RTN","ONCCS2",408,0)
 Q
"RTN","ONCCS2",409,0)
 ;
"RTN","ONCCS2",410,0)
15 ;SSF15 = 988
"RTN","ONCCS2",411,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,9)=988
"RTN","ONCCS2",412,0)
 Q
"RTN","ONCCS2",413,0)
 ;
"RTN","ONCCS2",414,0)
16 ;SSF16 = 988
"RTN","ONCCS2",415,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,10)=988
"RTN","ONCCS2",416,0)
 Q
"RTN","ONCCS2",417,0)
 ;
"RTN","ONCCS2",418,0)
17 ;SSF17 = 988
"RTN","ONCCS2",419,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,11)=988
"RTN","ONCCS2",420,0)
 Q
"RTN","ONCCS2",421,0)
 ;
"RTN","ONCCS2",422,0)
18 ;SSF18 = 988
"RTN","ONCCS2",423,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,12)=988
"RTN","ONCCS2",424,0)
 Q
"RTN","ONCCS2",425,0)
 ;
"RTN","ONCCS2",426,0)
19 ;SSF19 = 988
"RTN","ONCCS2",427,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,13)=988
"RTN","ONCCS2",428,0)
 Q
"RTN","ONCCS2",429,0)
 ;
"RTN","ONCCS2",430,0)
20 ;SSF20 = 988
"RTN","ONCCS2",431,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,14)=988
"RTN","ONCCS2",432,0)
 Q
"RTN","ONCCS2",433,0)
 ;
"RTN","ONCCS2",434,0)
21 ;SSF21 = 988
"RTN","ONCCS2",435,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,15)=988
"RTN","ONCCS2",436,0)
 Q
"RTN","ONCCS2",437,0)
 ;
"RTN","ONCCS2",438,0)
22 ;SSF22 = 988
"RTN","ONCCS2",439,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,16)=988
"RTN","ONCCS2",440,0)
 Q
"RTN","ONCCS2",441,0)
 ;
"RTN","ONCCS2",442,0)
23 ;SSF23 = 988
"RTN","ONCCS2",443,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,17)=988
"RTN","ONCCS2",444,0)
 Q
"RTN","ONCCS2",445,0)
 ;
"RTN","ONCCS2",446,0)
24 ;SSF24 = 988
"RTN","ONCCS2",447,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,18)=988
"RTN","ONCCS2",448,0)
 Q
"RTN","ONCCS2",449,0)
 ;
"RTN","ONCCS2",450,0)
25 ;SSF25 = 988
"RTN","ONCCS2",451,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,19)=988
"RTN","ONCCS2",452,0)
 Q
"RTN","ONCCS2",453,0)
 ;
"RTN","ONCCS2",454,0)
TS ;TUMOR SIZE (CS) = 988
"RTN","ONCCS2",455,0)
 S $P(^ONCO(165.5,D0,"CS1"),U,10)=988
"RTN","ONCCS2",456,0)
 Q
"RTN","ONCCS2",457,0)
 ;
"RTN","ONCCS2",458,0)
EXT ;EXTENSION (CS) = 988
"RTN","ONCCS2",459,0)
 S $P(^ONCO(165.5,D0,"CS"),U,11)=988
"RTN","ONCCS2",460,0)
 Q
"RTN","ONCCS2",461,0)
 ;
"RTN","ONCCS2",462,0)
EVAL ;TUMOR SIZE/EXT EVAL (CS) = 9
"RTN","ONCCS2",463,0)
 ;LYMPH NODES EVAL (CS) = 9
"RTN","ONCCS2",464,0)
 ;METS EVAL (CS) = 9
"RTN","ONCCS2",465,0)
 S $P(^ONCO(165.5,D0,"CS"),U,1)=9
"RTN","ONCCS2",466,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCS2",467,0)
 S $P(^ONCO(165.5,D0,"CS"),U,4)=9
"RTN","ONCCS2",468,0)
 Q
"RTN","ONCCS2",469,0)
 ;
"RTN","ONCCS2",470,0)
EVAL1 ;LYMPH NODES EVAL (CS) = 9
"RTN","ONCCS2",471,0)
 ;METS EVAL (CS) = 9
"RTN","ONCCS2",472,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCS2",473,0)
 S $P(^ONCO(165.5,D0,"CS"),U,4)=9
"RTN","ONCCS2",474,0)
 Q
"RTN","ONCCS2",475,0)
 ;
"RTN","ONCCS2",476,0)
EVAL2 ;LYMPH NODES EVAL (CS) = 9
"RTN","ONCCS2",477,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCS2",478,0)
 Q
"RTN","ONCCS2",479,0)
 ;
"RTN","ONCCS2",480,0)
LN ;LYMPH NODES (CS) = 988
"RTN","ONCCS2",481,0)
 ;REGIONAL LYMPH NODES EXAMINED = 99
"RTN","ONCCS2",482,0)
 ;REGIONAL LYMPH NODES POSITIVE = 99
"RTN","ONCCS2",483,0)
 S $P(^ONCO(165.5,D0,"CS"),U,12)=988
"RTN","ONCCS2",484,0)
 S $P(^ONCO(165.5,D0,2),U,12)=99
"RTN","ONCCS2",485,0)
 S $P(^ONCO(165.5,D0,2),U,13)=99
"RTN","ONCCS2",486,0)
 Q
"RTN","ONCCS2",487,0)
 ;
"RTN","ONCCS2",488,0)
METS ;METS AT DX (CS) = 98
"RTN","ONCCS2",489,0)
 S $P(^ONCO(165.5,D0,"CS"),U,3)=98
"RTN","ONCCS2",490,0)
 Q
"RTN","ONCCS2",491,0)
 ;
"RTN","ONCCS2",492,0)
CLEANUP ;Cleanup
"RTN","ONCCS2",493,0)
 K D0,ONCSAPI,SCHEMA,TOP
"RTN","ONCCS3")
0^60^B165294557
"RTN","ONCCS3",1,0)
ONCCS3 ;Hines OIFO/GWB - Collaborative Staging v2 Stuffing ;06/16/11
"RTN","ONCCS3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCS3",3,0)
 ;
"RTN","ONCCS3",4,0)
 I $G(SCHEMA)="MelanomaIris" D  Q
"RTN","ONCCS3",5,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS3",6,0)
 .D 15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS3",7,0)
 .D:$P($G(^ONCO(165.5,D0,"CS1")),U,10)="" TS
"RTN","ONCCS3",8,0)
 .I DATEDX>3131231 D 2,8,14    ;CS V02.05
"RTN","ONCCS3",9,0)
 ;
"RTN","ONCCS3",10,0)
 I $G(SCHEMA)="MelanomaLarynxGlottic" D  Q
"RTN","ONCCS3",11,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",12,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",13,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",14,0)
 ;
"RTN","ONCCS3",15,0)
 I $G(SCHEMA)="MelanomaLarynxOther" D  Q
"RTN","ONCCS3",16,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",17,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",18,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",19,0)
 ;
"RTN","ONCCS3",20,0)
 I $G(SCHEMA)="MelanomaLarynxSubglottic" D  Q
"RTN","ONCCS3",21,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",22,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",23,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",24,0)
 ;
"RTN","ONCCS3",25,0)
 I $G(SCHEMA)="MelanomaLarynxSupraglottic" D  Q
"RTN","ONCCS3",26,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",27,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",28,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",29,0)
 ;
"RTN","ONCCS3",30,0)
 I $G(SCHEMA)="MelanomaLipLower" D  Q
"RTN","ONCCS3",31,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",32,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",33,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",34,0)
 ;
"RTN","ONCCS3",35,0)
 I $G(SCHEMA)="MelanomaLipOther" D  Q
"RTN","ONCCS3",36,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",37,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",38,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",39,0)
 ;
"RTN","ONCCS3",40,0)
 I $G(SCHEMA)="MelanomaLipUpper" D  Q
"RTN","ONCCS3",41,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",42,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",43,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",44,0)
 ;
"RTN","ONCCS3",45,0)
 I $G(SCHEMA)="MelanomaMouthOther" D  Q
"RTN","ONCCS3",46,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",47,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",48,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",49,0)
 ;
"RTN","ONCCS3",50,0)
 I $G(SCHEMA)="MelanomaNasalCavity" D  Q
"RTN","ONCCS3",51,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",52,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",53,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",54,0)
 ;
"RTN","ONCCS3",55,0)
 I $G(SCHEMA)="MelanomaNasopharynx" D  Q
"RTN","ONCCS3",56,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",57,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",58,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",59,0)
 ;
"RTN","ONCCS3",60,0)
 I $G(SCHEMA)="MelanomaOropharynx" D  Q
"RTN","ONCCS3",61,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",62,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",63,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",64,0)
 ;
"RTN","ONCCS3",65,0)
 I $G(SCHEMA)="MelanomaPalateHard" D  Q
"RTN","ONCCS3",66,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",67,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",68,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",69,0)
 ;
"RTN","ONCCS3",70,0)
 I $G(SCHEMA)="MelanomaPalateSoft" D  Q
"RTN","ONCCS3",71,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",72,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",73,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",74,0)
 ;
"RTN","ONCCS3",75,0)
 I $G(SCHEMA)="MelanomaPharynxOther" D  Q
"RTN","ONCCS3",76,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",77,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",78,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",79,0)
 ;
"RTN","ONCCS3",80,0)
 I $G(SCHEMA)="MelanomaSinusEthmoid" D  Q
"RTN","ONCCS3",81,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",82,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",83,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",84,0)
 ;
"RTN","ONCCS3",85,0)
 I $G(SCHEMA)="MelanomaSinusMaxillary" D  Q
"RTN","ONCCS3",86,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",87,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",88,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",89,0)
 ;
"RTN","ONCCS3",90,0)
 I $G(SCHEMA)="MelanomaSinusOther" D  Q
"RTN","ONCCS3",91,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",92,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",93,0)
 .D EVAL
"RTN","ONCCS3",94,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",95,0)
 ;
"RTN","ONCCS3",96,0)
 I $G(SCHEMA)="MelanomaSkin" D  Q
"RTN","ONCCS3",97,0)
 .D 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",98,0)
 .I DATEDX>3131231 D 8,9    ;CS V02.05
"RTN","ONCCS3",99,0)
 ;
"RTN","ONCCS3",100,0)
 I $G(SCHEMA)="MelanomaTongueAnterior" D  Q
"RTN","ONCCS3",101,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",102,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",103,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",104,0)
 ;
"RTN","ONCCS3",105,0)
 I $G(SCHEMA)="MelanomaTongueBase" D  Q
"RTN","ONCCS3",106,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",107,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",108,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",109,0)
 ;
"RTN","ONCCS3",110,0)
 I $G(SCHEMA)="MerkelCellPenis" D  Q
"RTN","ONCCS3",111,0)
 .D 2,4,5,6,7,8,9,10,11,12,13,14,15,23,24,25
"RTN","ONCCS3",112,0)
 .I DATEDX>3131231 D 19,20,21    ;CS V02.05
"RTN","ONCCS3",113,0)
 ;
"RTN","ONCCS3",114,0)
 I $G(SCHEMA)="MerkelCellScrotum" D  Q
"RTN","ONCCS3",115,0)
 .D 2,4,5,6,7,8,9,10,11,12,13,14,15,23,24,25
"RTN","ONCCS3",116,0)
 .I DATEDX>3131231 D 19,20,21    ;CS V02.05
"RTN","ONCCS3",117,0)
 ;
"RTN","ONCCS3",118,0)
 I $G(SCHEMA)="MerkelCellSkin" D  Q
"RTN","ONCCS3",119,0)
 .D 2,4,5,6,7,8,9,10,11,12,13,14,15,23,24,25
"RTN","ONCCS3",120,0)
 .I DATEDX>3131231 D 19,20,21    ;CS V02.05
"RTN","ONCCS3",121,0)
 ;
"RTN","ONCCS3",122,0)
 I $G(SCHEMA)="MerkelCellVulva" D  Q
"RTN","ONCCS3",123,0)
 .D 2,4,5,6,7,8,9,10,11,12,13,14,15,23,24,25
"RTN","ONCCS3",124,0)
 .I DATEDX>3131231 D 19,20,21    ;CS V02.05
"RTN","ONCCS3",125,0)
 ;
"RTN","ONCCS3",126,0)
 I $G(SCHEMA)="MiddleEar" D  Q
"RTN","ONCCS3",127,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",128,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",129,0)
 .D EVAL
"RTN","ONCCS3",130,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",131,0)
 ;
"RTN","ONCCS3",132,0)
 I $G(SCHEMA)="MouthOther" D  Q
"RTN","ONCCS3",133,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",134,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",135,0)
 .I DATEDX>3131231 D 8,10    ;CS V02.05
"RTN","ONCCS3",136,0)
 ;
"RTN","ONCCS3",137,0)
 I $G(SCHEMA)="MycosisFungoides" D  Q
"RTN","ONCCS3",138,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",139,0)
 ;
"RTN","ONCCS3",140,0)
 I $G(SCHEMA)="MyelomaPlasmaCellDisorder" D  Q
"RTN","ONCCS3",141,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",142,0)
 .D TS
"RTN","ONCCS3",143,0)
 .D EVAL
"RTN","ONCCS3",144,0)
 .S $P(^ONCO(165.5,D0,2),U,12)=99
"RTN","ONCCS3",145,0)
 .S $P(^ONCO(165.5,D0,2),U,13)=99
"RTN","ONCCS3",146,0)
 ;
"RTN","ONCCS3",147,0)
 I $G(SCHEMA)="NasalCavity" D  Q
"RTN","ONCCS3",148,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",149,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",150,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",151,0)
 ;
"RTN","ONCCS3",152,0)
 I $G(SCHEMA)="Nasopharynx" D  Q
"RTN","ONCCS3",153,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",154,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS3",155,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",156,0)
 ;
"RTN","ONCCS3",157,0)
 I $G(SCHEMA)="NETAmpulla" D  Q
"RTN","ONCCS3",158,0)
 .D 1,2,3,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",159,0)
 .I DATEDX>3131231 D 4    ;CS V02.05
"RTN","ONCCS3",160,0)
 ;
"RTN","ONCCS3",161,0)
 I $G(SCHEMA)="NETColon" D  Q
"RTN","ONCCS3",162,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS3",163,0)
 .D 3,4,5,6,7,8,9,10,12,13,14,15,18,19,20,21,22,23,24,25
"RTN","ONCCS3",164,0)
 .I DATEDX>3131231 D 11    ;CS V02.05
"RTN","ONCCS3",165,0)
 ;
"RTN","ONCCS3",166,0)
 I $G(SCHEMA)="NETRectum" D  Q
"RTN","ONCCS3",167,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS3",168,0)
 .D 3,4,5,7,8,9,10,12,13,14,15,18,19,20,21,22,23,24,25
"RTN","ONCCS3",169,0)
 .I DATEDX>3131231 D 11    ;CS V02.05
"RTN","ONCCS3",170,0)
 ;
"RTN","ONCCS3",171,0)
 I $G(SCHEMA)="NETSmallIntestine" D  Q
"RTN","ONCCS3",172,0)
 .D 1,2,3,4,5,7,8,9,10,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",173,0)
 .I DATEDX>3131231 D 6    ;CS V02.05
"RTN","ONCCS3",174,0)
 ;
"RTN","ONCCS3",175,0)
 I $G(SCHEMA)="NETStomach" D  Q
"RTN","ONCCS3",176,0)
 .D 2,3,4,5,7,8,9,10,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",177,0)
 .I DATEDX>3131231 D 6    ;CS V02.05
"RTN","ONCCS3",178,0)
 ;
"RTN","ONCCS3",179,0)
 I $G(SCHEMA)="Orbit" D  Q
"RTN","ONCCS3",180,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",181,0)
 ;
"RTN","ONCCS3",182,0)
 I $G(SCHEMA)="Oropharynx" D  Q
"RTN","ONCCS3",183,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",184,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",185,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",186,0)
 ;
"RTN","ONCCS3",187,0)
 I $G(SCHEMA)="Ovary" D  Q
"RTN","ONCCS3",188,0)
 .D 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",189,0)
 .I DATEDX>3131231 D 4,5    ;CS V02.05
"RTN","ONCCS3",190,0)
 ;
"RTN","ONCCS3",191,0)
 I $G(SCHEMA)="PalateHard" D  Q
"RTN","ONCCS3",192,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",193,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",194,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",195,0)
 ;
"RTN","ONCCS3",196,0)
 I $G(SCHEMA)="PalateSoft" D  Q
"RTN","ONCCS3",197,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",198,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",199,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",200,0)
 ;
"RTN","ONCCS3",201,0)
 I $G(SCHEMA)="PancreasBodyTail" D  Q
"RTN","ONCCS3",202,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",203,0)
 .I DATEDX>3131231 D 1,2,3    ;CS V02.05
"RTN","ONCCS3",204,0)
 ;
"RTN","ONCCS3",205,0)
 I $G(SCHEMA)="PancreasHead" D  Q
"RTN","ONCCS3",206,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",207,0)
 .I DATEDX>3131231 D 1,2,3    ;CS V02.05
"RTN","ONCCS3",208,0)
 ;
"RTN","ONCCS3",209,0)
 I $G(SCHEMA)="PancreasOther" D  Q
"RTN","ONCCS3",210,0)
 .D 4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",211,0)
 .I DATEDX>3131231 D 1,2,3    ;CS V02.05
"RTN","ONCCS3",212,0)
 ;
"RTN","ONCCS3",213,0)
 I $G(SCHEMA)="ParotidGland" D  Q
"RTN","ONCCS3",214,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",215,0)
 .D 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",216,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",217,0)
 ;
"RTN","ONCCS3",218,0)
 I $G(SCHEMA)="Penis" D  Q
"RTN","ONCCS3",219,0)
 .D 1,2,3,4,5,6,7,8,9,13,14,15,18,19,20,21,22,23,24,25
"RTN","ONCCS3",220,0)
 .I DATEDX>3131231 D 11,12,16    ;CS V02.05
"RTN","ONCCS3",221,0)
 ;
"RTN","ONCCS3",222,0)
 I $G(SCHEMA)="Peritoneum" D  Q
"RTN","ONCCS3",223,0)
 .D 5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS3",224,0)
 .D SSF25
"RTN","ONCCS3",225,0)
 .I DATEDX>3131231 D 2,3,4    ;CS V02.05
"RTN","ONCCS3",226,0)
 ;
"RTN","ONCCS3",227,0)
 I $G(SCHEMA)="PeritoneumFemaleGen" D  Q
"RTN","ONCCS3",228,0)
 .D 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS3",229,0)
 .I DATEDX>3131231 D 4,5    ;CS V02.05
"RTN","ONCCS3",230,0)
 ;
"RTN","ONCCS3",231,0)
 I $G(SCHEMA)="PharyngealTonsil" D  Q
"RTN","ONCCS3",232,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",233,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24
"RTN","ONCCS3",234,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",235,0)
 ;
"RTN","ONCCS3",236,0)
 I $G(SCHEMA)="PharynxOther" D  Q
"RTN","ONCCS3",237,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",238,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",239,0)
 .D EVAL
"RTN","ONCCS3",240,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",241,0)
 ;
"RTN","ONCCS3",242,0)
 I $G(SCHEMA)="Placenta" D  Q
"RTN","ONCCS3",243,0)
 .D 3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",244,0)
 .D EVAL2,LN
"RTN","ONCCS3",245,0)
 ;
"RTN","ONCCS3",246,0)
 I $G(SCHEMA)="Pleura" D  Q
"RTN","ONCCS3",247,0)
 .D 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",248,0)
 .I DATEDX>3131231 D 3,4,5    ;CS V02.05
"RTN","ONCCS3",249,0)
 ;
"RTN","ONCCS3",250,0)
 I $G(SCHEMA)="Prostate" D  Q
"RTN","ONCCS3",251,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,9)="" 5
"RTN","ONCCS3",252,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,10)="" 6
"RTN","ONCCS3",253,0)
 .D 16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",254,0)
 .I DATEDX>3131231 D 14,15    ;CS V02.05
"RTN","ONCCS3",255,0)
 ;
"RTN","ONCCS3",256,0)
 I $G(SCHEMA)="Rectum" D  Q
"RTN","ONCCS3",257,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",258,0)
 .I DATEDX>3131231 D 5,7,10    ;CS V02.05
"RTN","ONCCS3",259,0)
 ;
"RTN","ONCCS3",260,0)
 I $G(SCHEMA)="RespiratoryOther" D  Q
"RTN","ONCCS3",261,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",262,0)
 .D EVAL
"RTN","ONCCS3",263,0)
 ;
"RTN","ONCCS3",264,0)
 I $G(SCHEMA)="Retinoblastoma" D  Q
"RTN","ONCCS3",265,0)
 .D 7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",266,0)
 .I DATEDX>3131231 D 2,3,4,5,6    ;CS V02.05
"RTN","ONCCS3",267,0)
 ;
"RTN","ONCCS3",268,0)
 I $G(SCHEMA)="Retroperitoneum" D  Q
"RTN","ONCCS3",269,0)
 .D 5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",270,0)
 .I DATEDX>3131231 D 2,3,4    ;CS V02.05
"RTN","ONCCS3",271,0)
 ;
"RTN","ONCCS3",272,0)
 I $G(SCHEMA)="SalivaryGlandOther" D  Q
"RTN","ONCCS3",273,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",274,0)
 .D 10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",275,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",276,0)
 ;
"RTN","ONCCS3",277,0)
 I $G(SCHEMA)="Scrotum" D  Q
"RTN","ONCCS3",278,0)
 .D 2,3,4,5,6,7,8,9,13,14,15,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",279,0)
 .I DATEDX>3131231 D 10,11    ;CS V02.05
"RTN","ONCCS3",280,0)
 ;
"RTN","ONCCS3",281,0)
 I $G(SCHEMA)="SinusEthmoid" D  Q
"RTN","ONCCS3",282,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",283,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",284,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",285,0)
 ;
"RTN","ONCCS3",286,0)
 I $G(SCHEMA)="SinusMaxillary" D  Q
"RTN","ONCCS3",287,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",288,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",289,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",290,0)
 ;
"RTN","ONCCS3",291,0)
 I $G(SCHEMA)="SinusOther" D  Q
"RTN","ONCCS3",292,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",293,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",294,0)
 .D EVAL
"RTN","ONCCS3",295,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",296,0)
 ;
"RTN","ONCCS3",297,0)
 I $G(SCHEMA)="Skin" D  Q
"RTN","ONCCS3",298,0)
 .D 2,3,4,5,6,7,8,9,13,14,15,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",299,0)
 .I DATEDX>3131231 D 10    ;CS V02.05
"RTN","ONCCS3",300,0)
 ;
"RTN","ONCCS3",301,0)
 I $G(SCHEMA)="SkinEyelid" D  Q
"RTN","ONCCS3",302,0)
 .D 17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",303,0)
 .I DATEDX>3131231 D 1,2,4,5,7,9,11,12,13,14,15,16    ;CS V02.05
"RTN","ONCCS3",304,0)
 ;
"RTN","ONCCS3",305,0)
 I $G(SCHEMA)="SmallIntestine" D  Q
"RTN","ONCCS3",306,0)
 .D 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",307,0)
 .I DATEDX>3131231 D 4,5    ;CS V02.05
"RTN","ONCCS3",308,0)
 ;
"RTN","ONCCS3",309,0)
 I $G(SCHEMA)="SoftTissue" D  Q
"RTN","ONCCS3",310,0)
 .D 5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",311,0)
 .I DATEDX>3131231 D 2,4    ;CS V02.05
"RTN","ONCCS3",312,0)
 ;
"RTN","ONCCS3",313,0)
 I $G(SCHEMA)="Stomach" D  Q
"RTN","ONCCS3",314,0)
 .D 3,4,5,6,7,8,9,10,11,12,16,17,18,19,20,21,22,23,24
"RTN","ONCCS3",315,0)
 .I DATEDX>3131231 D 2,13,14,15    ;CS V02.05
"RTN","ONCCS3",316,0)
 ;
"RTN","ONCCS3",317,0)
 I $G(SCHEMA)="SubmandibularGland" D  Q
"RTN","ONCCS3",318,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",319,0)
 .D 10,11,12,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",320,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",321,0)
 ;
"RTN","ONCCS3",322,0)
 I $G(SCHEMA)="Testis" D  Q
"RTN","ONCCS3",323,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" 1
"RTN","ONCCS3",324,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",325,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,7)="" 3
"RTN","ONCCS3",326,0)
 .;D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",327,0)
 .D 11,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",328,0)
 .I DATEDX>3131231 D 12,14    ;CS V02.05
"RTN","ONCCS3",329,0)
 ;
"RTN","ONCCS3",330,0)
 I $G(SCHEMA)="Thyroid" D  Q
"RTN","ONCCS3",331,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",332,0)
 ;
"RTN","ONCCS3",333,0)
 I $G(SCHEMA)="TongueAnterior" D  Q
"RTN","ONCCS3",334,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",335,0)
 .D 12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",336,0)
 .I DATEDX>3131231 D 7,8,10    ;CS V02.05
"RTN","ONCCS3",337,0)
 ;
"RTN","ONCCS3",338,0)
 I $G(SCHEMA)="TongueBase" D  Q
"RTN","ONCCS3",339,0)
 .D:$P($G(^ONCO(165.5,D0,"CS")),U,6)="" 2
"RTN","ONCCS3",340,0)
 .D 11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",341,0)
 .I DATEDX>3131231 D 7,8    ;CS V02.05
"RTN","ONCCS3",342,0)
 ;
"RTN","ONCCS3",343,0)
 I $G(SCHEMA)="Trachea" D  Q
"RTN","ONCCS3",344,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",345,0)
 .D EVAL
"RTN","ONCCS3",346,0)
 ;
"RTN","ONCCS3",347,0)
 I $G(SCHEMA)="Urethra" D  Q
"RTN","ONCCS3",348,0)
 .D 2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",349,0)
 ;
"RTN","ONCCS3",350,0)
 I $G(SCHEMA)="UrinaryOther" D  Q
"RTN","ONCCS3",351,0)
 .D 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",352,0)
 .D EVAL
"RTN","ONCCS3",353,0)
 ;
"RTN","ONCCS3",354,0)
 I $G(SCHEMA)="Vagina" D  Q
"RTN","ONCCS3",355,0)
 .D 8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",356,0)
 ;
"RTN","ONCCS3",357,0)
 I $G(SCHEMA)="Vulva" D  Q
"RTN","ONCCS3",358,0)
 .D 1,2,3,4,5,6,7,8,9,16,17,18,19,20,21,22,23,24,25
"RTN","ONCCS3",359,0)
 .I DATEDX>3131231 D 12,13,14,15    ;CS V02.05
"RTN","ONCCS3",360,0)
 ;
"RTN","ONCCS3",361,0)
 Q
"RTN","ONCCS3",362,0)
 ;
"RTN","ONCCS3",363,0)
1 ;SSF1 = 988
"RTN","ONCCS3",364,0)
 S $P(^ONCO(165.5,D0,"CS"),U,5)=988
"RTN","ONCCS3",365,0)
 Q
"RTN","ONCCS3",366,0)
 ;
"RTN","ONCCS3",367,0)
2 ;SSF2 = 988
"RTN","ONCCS3",368,0)
 S $P(^ONCO(165.5,D0,"CS"),U,6)=988
"RTN","ONCCS3",369,0)
 Q
"RTN","ONCCS3",370,0)
 ;
"RTN","ONCCS3",371,0)
3 ;SSF3 = 988
"RTN","ONCCS3",372,0)
 S $P(^ONCO(165.5,D0,"CS"),U,7)=988
"RTN","ONCCS3",373,0)
 Q
"RTN","ONCCS3",374,0)
 ;
"RTN","ONCCS3",375,0)
4 ;SSF4 = 988
"RTN","ONCCS3",376,0)
 S $P(^ONCO(165.5,D0,"CS"),U,8)=988
"RTN","ONCCS3",377,0)
 Q
"RTN","ONCCS3",378,0)
 ;
"RTN","ONCCS3",379,0)
5 ;SSF5 = 988
"RTN","ONCCS3",380,0)
 S $P(^ONCO(165.5,D0,"CS"),U,9)=988
"RTN","ONCCS3",381,0)
 Q
"RTN","ONCCS3",382,0)
 ;
"RTN","ONCCS3",383,0)
6 ;SSF6 = 988
"RTN","ONCCS3",384,0)
 S $P(^ONCO(165.5,D0,"CS"),U,10)=988
"RTN","ONCCS3",385,0)
 Q
"RTN","ONCCS3",386,0)
 ;
"RTN","ONCCS3",387,0)
7 ;SSF7 = 988
"RTN","ONCCS3",388,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,1)=988
"RTN","ONCCS3",389,0)
 Q
"RTN","ONCCS3",390,0)
 ;
"RTN","ONCCS3",391,0)
8 ;SSF8 = 988
"RTN","ONCCS3",392,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,2)=988
"RTN","ONCCS3",393,0)
 Q
"RTN","ONCCS3",394,0)
 ;
"RTN","ONCCS3",395,0)
9 ;SSF9 = 988
"RTN","ONCCS3",396,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,3)=988
"RTN","ONCCS3",397,0)
 Q
"RTN","ONCCS3",398,0)
 ;
"RTN","ONCCS3",399,0)
10 ;SSF10 = 988
"RTN","ONCCS3",400,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,4)=988
"RTN","ONCCS3",401,0)
 Q
"RTN","ONCCS3",402,0)
 ;
"RTN","ONCCS3",403,0)
11 ;SSF11 = 988
"RTN","ONCCS3",404,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,5)=988
"RTN","ONCCS3",405,0)
 Q
"RTN","ONCCS3",406,0)
 ;
"RTN","ONCCS3",407,0)
12 ;SSF12 = 988
"RTN","ONCCS3",408,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,6)=988
"RTN","ONCCS3",409,0)
 Q
"RTN","ONCCS3",410,0)
 ;
"RTN","ONCCS3",411,0)
13 ;SSF13 = 988
"RTN","ONCCS3",412,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,7)=988
"RTN","ONCCS3",413,0)
 Q
"RTN","ONCCS3",414,0)
 ;
"RTN","ONCCS3",415,0)
14 ;SSF14 = 988
"RTN","ONCCS3",416,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,8)=988
"RTN","ONCCS3",417,0)
 Q
"RTN","ONCCS3",418,0)
 ;
"RTN","ONCCS3",419,0)
15 ;SSF15 = 988
"RTN","ONCCS3",420,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,9)=988
"RTN","ONCCS3",421,0)
 Q
"RTN","ONCCS3",422,0)
 ;
"RTN","ONCCS3",423,0)
16 ;SSF16 = 988
"RTN","ONCCS3",424,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,10)=988
"RTN","ONCCS3",425,0)
 Q
"RTN","ONCCS3",426,0)
 ;
"RTN","ONCCS3",427,0)
17 ;SSF17 = 988
"RTN","ONCCS3",428,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,11)=988
"RTN","ONCCS3",429,0)
 Q
"RTN","ONCCS3",430,0)
 ;
"RTN","ONCCS3",431,0)
18 ;SSF18 = 988
"RTN","ONCCS3",432,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,12)=988
"RTN","ONCCS3",433,0)
 Q
"RTN","ONCCS3",434,0)
 ;
"RTN","ONCCS3",435,0)
19 ;SSF19 = 988
"RTN","ONCCS3",436,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,13)=988
"RTN","ONCCS3",437,0)
 Q
"RTN","ONCCS3",438,0)
 ;
"RTN","ONCCS3",439,0)
20 ;SSF20 = 988
"RTN","ONCCS3",440,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,14)=988
"RTN","ONCCS3",441,0)
 Q
"RTN","ONCCS3",442,0)
 ;
"RTN","ONCCS3",443,0)
21 ;SSF21 = 988
"RTN","ONCCS3",444,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,15)=988
"RTN","ONCCS3",445,0)
 Q
"RTN","ONCCS3",446,0)
 ;
"RTN","ONCCS3",447,0)
22 ;SSF22 = 988
"RTN","ONCCS3",448,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,16)=988
"RTN","ONCCS3",449,0)
 Q
"RTN","ONCCS3",450,0)
 ;
"RTN","ONCCS3",451,0)
23 ;SSF23 = 988
"RTN","ONCCS3",452,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,17)=988
"RTN","ONCCS3",453,0)
 Q
"RTN","ONCCS3",454,0)
 ;
"RTN","ONCCS3",455,0)
24 ;SSF24 = 988
"RTN","ONCCS3",456,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,18)=988
"RTN","ONCCS3",457,0)
 Q
"RTN","ONCCS3",458,0)
 ;
"RTN","ONCCS3",459,0)
25 ;SSF25 = 988
"RTN","ONCCS3",460,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,19)=988
"RTN","ONCCS3",461,0)
 Q
"RTN","ONCCS3",462,0)
 ;
"RTN","ONCCS3",463,0)
TS ;TUMOR SIZE (CS) = 988
"RTN","ONCCS3",464,0)
 S $P(^ONCO(165.5,D0,"CS1"),U,10)=988
"RTN","ONCCS3",465,0)
 Q
"RTN","ONCCS3",466,0)
 ;
"RTN","ONCCS3",467,0)
EXT ;EXTENSION (CS) = 988
"RTN","ONCCS3",468,0)
 S $P(^ONCO(165.5,D0,"CS"),U,11)=988
"RTN","ONCCS3",469,0)
 Q
"RTN","ONCCS3",470,0)
 ;
"RTN","ONCCS3",471,0)
EVAL ;TUMOR SIZE/EXT EVAL (CS) = 9
"RTN","ONCCS3",472,0)
 ;LYMPH NODES EVAL (CS) = 9
"RTN","ONCCS3",473,0)
 ;METS EVAL (CS) = 9
"RTN","ONCCS3",474,0)
 S $P(^ONCO(165.5,D0,"CS"),U,1)=9
"RTN","ONCCS3",475,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCS3",476,0)
 S $P(^ONCO(165.5,D0,"CS"),U,4)=9
"RTN","ONCCS3",477,0)
 Q
"RTN","ONCCS3",478,0)
 ;
"RTN","ONCCS3",479,0)
EVAL1 ;LYMPH NODES EVAL (CS) = 9
"RTN","ONCCS3",480,0)
 ;METS EVAL (CS) = 9
"RTN","ONCCS3",481,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCS3",482,0)
 S $P(^ONCO(165.5,D0,"CS"),U,4)=9
"RTN","ONCCS3",483,0)
 Q
"RTN","ONCCS3",484,0)
 ;
"RTN","ONCCS3",485,0)
EVAL2 ;LYMPH NODES EVAL (CS) = 9
"RTN","ONCCS3",486,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCS3",487,0)
 Q
"RTN","ONCCS3",488,0)
 ;
"RTN","ONCCS3",489,0)
LN ;LYMPH NODES (CS) = 988
"RTN","ONCCS3",490,0)
 ;REGIONAL LYMPH NODES EXAMINED = 99
"RTN","ONCCS3",491,0)
 ;REGIONAL LYMPH NODES POSITIVE = 99
"RTN","ONCCS3",492,0)
 S $P(^ONCO(165.5,D0,"CS"),U,12)=988
"RTN","ONCCS3",493,0)
 S $P(^ONCO(165.5,D0,2),U,12)=99
"RTN","ONCCS3",494,0)
 S $P(^ONCO(165.5,D0,2),U,13)=99
"RTN","ONCCS3",495,0)
 Q
"RTN","ONCCS3",496,0)
 ;
"RTN","ONCCS3",497,0)
METS ;METS AT DX (CS) = 98
"RTN","ONCCS3",498,0)
 S $P(^ONCO(165.5,D0,"CS"),U,3)=98
"RTN","ONCCS3",499,0)
 Q
"RTN","ONCCS3",500,0)
 ;
"RTN","ONCCS3",501,0)
SSF25 ;SSF25 = CS SCHEMA DISCRIMINATOR (165.5,240)
"RTN","ONCCS3",502,0)
 S $P(^ONCO(165.5,D0,"CS2"),U,19)=$P($G(^ONCO(165.5,D0,"CS3")),U,1)
"RTN","ONCCS3",503,0)
 Q
"RTN","ONCCS3",504,0)
 ;
"RTN","ONCCS3",505,0)
CLEANUP ;Cleanup
"RTN","ONCCS3",506,0)
 K D0,SCHEMA
"RTN","ONCCSOT")
0^61^B39113425
"RTN","ONCCSOT",1,0)
ONCCSOT ;Hines OIFO/GWB - Collaborative Staging OUTPUT TRANSFORMS ;06/23/10
"RTN","ONCCSOT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCSOT",3,0)
 ;
"RTN","ONCCSOT",4,0)
TOT ;DERIVED AJCC-6 T (165.5,160) OUTPUT TRANSFORM
"RTN","ONCCSOT",5,0)
 ;DERIVED AJCC-7 T (165.5,160.7) OUTPUT TRANSFORM
"RTN","ONCCSOT",6,0)
 I (Y=99)!(Y=999) S Y="TX" Q
"RTN","ONCCSOT",7,0)
 I (Y="00")!(Y="000") S Y="T0" Q
"RTN","ONCCSOT",8,0)
 I (Y="01")!(Y="010") S Y="Ta" Q
"RTN","ONCCSOT",9,0)
 I (Y="05")!(Y="050") S Y="Tis" Q
"RTN","ONCCSOT",10,0)
 I (Y="06")!(Y="060") S Y="Tispu (urethra only)" Q
"RTN","ONCCSOT",11,0)
 I (Y="07")!(Y="070") S Y="Tispd (urethra only)" Q
"RTN","ONCCSOT",12,0)
 I (Y=10)!(Y=100) S Y="T1" Q
"RTN","ONCCSOT",13,0)
 I (Y=11)!(Y=110) S Y="T1mic" Q
"RTN","ONCCSOT",14,0)
 I (Y=19)!(Y=199) S Y="T1 NOS" Q
"RTN","ONCCSOT",15,0)
 I Y=191 S Y="T1 NOS(s)" Q
"RTN","ONCCSOT",16,0)
 I Y=192 S Y="T1 NOS(m)" Q
"RTN","ONCCSOT",17,0)
 I (Y=12)!(Y=120) S Y="T1a" Q
"RTN","ONCCSOT",18,0)
 I Y=121 S Y="T1a(s)" Q
"RTN","ONCCSOT",19,0)
 I Y=122 S Y="T1a(m)" Q
"RTN","ONCCSOT",20,0)
 I (Y=13)!(Y=130) S Y="T1a1" Q
"RTN","ONCCSOT",21,0)
 I (Y=14)!(Y=140) S Y="T1a2" Q
"RTN","ONCCSOT",22,0)
 I (Y=15)!(Y=150) S Y="T1b" Q
"RTN","ONCCSOT",23,0)
 I Y=151 S Y="T1b(s)" Q
"RTN","ONCCSOT",24,0)
 I Y=152 S Y="T1b(m)" Q
"RTN","ONCCSOT",25,0)
 I (Y=16)!(Y=160) S Y="T1b1" Q
"RTN","ONCCSOT",26,0)
 I (Y=17)!(Y=170) S Y="T1b2" Q
"RTN","ONCCSOT",27,0)
 I (Y=18)!(Y=180) S Y="T1c" Q
"RTN","ONCCSOT",28,0)
 I Y=181 S Y="T1d" Q
"RTN","ONCCSOT",29,0)
 I (Y=20)!(Y=200) S Y="T2" Q
"RTN","ONCCSOT",30,0)
 I Y=201 S Y="T2(s)" Q
"RTN","ONCCSOT",31,0)
 I Y=202 S Y="T2(m)" Q
"RTN","ONCCSOT",32,0)
 I (Y=29)!(Y=299) S Y="T2 NOS" Q
"RTN","ONCCSOT",33,0)
 I (Y=21)!(Y=210) S Y="T2a" Q
"RTN","ONCCSOT",34,0)
 I Y=211 S Y="T2a1" Q
"RTN","ONCCSOT",35,0)
 I Y=212 S Y="T2a2" Q
"RTN","ONCCSOT",36,0)
 I Y=213 S Y="T2a NOS" Q
"RTN","ONCCSOT",37,0)
 I (Y=22)!(Y=220) S Y="T2b" Q
"RTN","ONCCSOT",38,0)
 I (Y=23)!(Y=230) S Y="T2c" Q
"RTN","ONCCSOT",39,0)
 I Y=240 S Y="T2d" Q
"RTN","ONCCSOT",40,0)
 I (Y=30)!(Y=300) S Y="T3" Q
"RTN","ONCCSOT",41,0)
 I Y=301 S Y="T3(s)" Q
"RTN","ONCCSOT",42,0)
 I Y=302 S Y="T3(m)" Q
"RTN","ONCCSOT",43,0)
 I (Y=39)!(Y=399) S Y="T3 NOS" Q
"RTN","ONCCSOT",44,0)
 I (Y=31)!(Y=310) S Y="T3a" Q
"RTN","ONCCSOT",45,0)
 I (Y=32)!(Y=320) S Y="T3b" Q
"RTN","ONCCSOT",46,0)
 I (Y=33)!(Y=330) S Y="T3c" Q
"RTN","ONCCSOT",47,0)
 I Y=340 S Y="T3d" Q
"RTN","ONCCSOT",48,0)
 I (Y=40)!(Y=400) S Y="T4" Q
"RTN","ONCCSOT",49,0)
 I (Y=49)!(Y=499) S Y="T4 NOS" Q
"RTN","ONCCSOT",50,0)
 I Y=491 S Y="T4 NOS(s)" Q
"RTN","ONCCSOT",51,0)
 I Y=492 S Y="T4 NOS(m)" Q
"RTN","ONCCSOT",52,0)
 I (Y=41)!(Y=410) S Y="T4a" Q
"RTN","ONCCSOT",53,0)
 I Y=411 S Y="T4a(s)" Q
"RTN","ONCCSOT",54,0)
 I Y=412 S Y="T4a(m)" Q
"RTN","ONCCSOT",55,0)
 I (Y=42)!(Y=420) S Y="T4b" Q
"RTN","ONCCSOT",56,0)
 I Y=421 S Y="T4b(s)" Q
"RTN","ONCCSOT",57,0)
 I Y=422 S Y="T4b(m)" Q
"RTN","ONCCSOT",58,0)
 I (Y=43)!(Y=430) S Y="T4c" Q
"RTN","ONCCSOT",59,0)
 I (Y=44)!(Y=440) S Y="T4d" Q
"RTN","ONCCSOT",60,0)
 I Y=450 S Y="T4e" Q
"RTN","ONCCSOT",61,0)
 I (Y=80)!(Y=800) S Y="T1a NOS" Q
"RTN","ONCCSOT",62,0)
 I (Y=81)!(Y=810) S Y="T1b NOS" Q
"RTN","ONCCSOT",63,0)
 I (Y=88)!(Y=888) S Y="Not applicable" Q
"RTN","ONCCSOT",64,0)
 Q
"RTN","ONCCSOT",65,0)
 ;
"RTN","ONCCSOT",66,0)
NOT ;DERIVED AJCC-6 N (165.5,162) OUTPUT TRANSFORM
"RTN","ONCCSOT",67,0)
 ;DERIVED AJCC-7 N (165.5,162.7) OUTPUT TRANSFORM
"RTN","ONCCSOT",68,0)
 I (Y=99)!(Y=999) S Y="NX" Q
"RTN","ONCCSOT",69,0)
 I (Y="00")!(Y="000") S Y="N0" Q
"RTN","ONCCSOT",70,0)
 I (Y="01")!(Y="010") S Y="N0(i-)" Q
"RTN","ONCCSOT",71,0)
 I (Y="02")!(Y="020") S Y="N0(i+)" Q
"RTN","ONCCSOT",72,0)
 I (Y="03")!(Y="030") S Y="N0(mol-)" Q
"RTN","ONCCSOT",73,0)
 I (Y="04")!(Y="040") S Y="N0(mol+)" Q
"RTN","ONCCSOT",74,0)
 ;I Y="09" S Y="N0 NOS" Q ;No longer used
"RTN","ONCCSOT",75,0)
 I (Y=10)!(Y=100) S Y="N1" Q
"RTN","ONCCSOT",76,0)
 I (Y=19)!(Y=199) S Y="N1 NOS" Q
"RTN","ONCCSOT",77,0)
 I (Y=11)!(Y=110) S Y="N1a" Q
"RTN","ONCCSOT",78,0)
 I (Y=12)!(Y=120) S Y="N1b" Q
"RTN","ONCCSOT",79,0)
 I (Y=13)!(Y=130) S Y="N1c" Q
"RTN","ONCCSOT",80,0)
 I (Y=18)!(Y=180) S Y="N1mi" Q
"RTN","ONCCSOT",81,0)
 I (Y=20)!(Y=200) S Y="N2" Q
"RTN","ONCCSOT",82,0)
 I (Y=29)!(Y=299) S Y="N2 NOS" Q
"RTN","ONCCSOT",83,0)
 I (Y=21)!(Y=210) S Y="N2a" Q
"RTN","ONCCSOT",84,0)
 I (Y=22)!(Y=220) S Y="N2b" Q
"RTN","ONCCSOT",85,0)
 I (Y=23)!(Y=230) S Y="N2c" Q
"RTN","ONCCSOT",86,0)
 I (Y=30)!(Y=300) S Y="N3" Q
"RTN","ONCCSOT",87,0)
 I (Y=39)!(Y=399) S Y="N3 NOS" Q
"RTN","ONCCSOT",88,0)
 I (Y=31)!(Y=310) S Y="N3a" Q
"RTN","ONCCSOT",89,0)
 I (Y=32)!(Y=320) S Y="N3b" Q
"RTN","ONCCSOT",90,0)
 I (Y=33)!(Y=330) S Y="N3c" Q
"RTN","ONCCSOT",91,0)
 I Y=400 S Y="N4" Q
"RTN","ONCCSOT",92,0)
 I (Y=88)!(Y=888) S Y="Not applicable" Q
"RTN","ONCCSOT",93,0)
 Q
"RTN","ONCCSOT",94,0)
 ;
"RTN","ONCCSOT",95,0)
MOT ;DERIVED AJCC-6 M (165.5,164) OUTPUT TRANSFORM
"RTN","ONCCSOT",96,0)
 ;DERIVED AJCC-7 M (165.5,164.7) OUTPUT TRANSFORM
"RTN","ONCCSOT",97,0)
 I (Y=99)!(Y=999) S Y="MX" Q
"RTN","ONCCSOT",98,0)
 I (Y="00")!(Y="000") S Y="M0" Q
"RTN","ONCCSOT",99,0)
 I Y="010" S Y="M0(i+)" Q
"RTN","ONCCSOT",100,0)
 I (Y=10)!(Y=100) S Y="M1" Q
"RTN","ONCCSOT",101,0)
 I (Y=11)!(Y=110) S Y="M1a" Q
"RTN","ONCCSOT",102,0)
 I (Y=12)!(Y=120) S Y="M1b" Q
"RTN","ONCCSOT",103,0)
 I (Y=13)!(Y=130) S Y="M1c" Q
"RTN","ONCCSOT",104,0)
 I Y=140 S Y="M1d" Q
"RTN","ONCCSOT",105,0)
 I Y=150 S Y="M1e" Q
"RTN","ONCCSOT",106,0)
 I (Y=19)!(Y=199) S Y="M1 NOS" Q
"RTN","ONCCSOT",107,0)
 I (Y=88)!(Y=888) S Y="Not applicable" Q
"RTN","ONCCSOT",108,0)
 Q
"RTN","ONCCSOT",109,0)
 ;
"RTN","ONCCSOT",110,0)
SGOT ;DERIVED AJCC-6 STAGE GROUP (165.5,166) OUTPUT TRANSFORM
"RTN","ONCCSOT",111,0)
 ;DERIVED AJCC-7 STAGE GROUP (165.5,166.7) OUTPUT TRANSFORM
"RTN","ONCCSOT",112,0)
 I (Y="00")!(Y="000") S Y="Stage 0" Q
"RTN","ONCCSOT",113,0)
 I (Y="01")!(Y="010") S Y="Stage 0a" Q
"RTN","ONCCSOT",114,0)
 I (Y="02")!(Y="020") S Y="Stage 0is" Q
"RTN","ONCCSOT",115,0)
 I (Y=10)!(Y=100) S Y="Stage I" Q
"RTN","ONCCSOT",116,0)
 I (Y=11)!(Y=110) S Y="Stage I NOS" Q
"RTN","ONCCSOT",117,0)
 I (Y=12)!(Y=120) S Y="Stage IA" Q
"RTN","ONCCSOT",118,0)
 I (Y=13)!(Y=130) S Y="Stage IA1" Q
"RTN","ONCCSOT",119,0)
 I (Y=14)!(Y=140) S Y="Stage IA2" Q
"RTN","ONCCSOT",120,0)
 I Y=121 S Y="Stage IA NOS" Q
"RTN","ONCCSOT",121,0)
 I (Y=15)!(Y=150) S Y="Stage IB" Q
"RTN","ONCCSOT",122,0)
 I (Y=16)!(Y=160) S Y="Stage IB1" Q
"RTN","ONCCSOT",123,0)
 I (Y=17)!(Y=170) S Y="Stage IB2" Q
"RTN","ONCCSOT",124,0)
 I Y=151 S Y="Stage IB NOS" Q
"RTN","ONCCSOT",125,0)
 I (Y=18)!(Y=180) S Y="Stage IC" Q
"RTN","ONCCSOT",126,0)
 I (Y=19)!(Y=190) S Y="Stage IS" Q
"RTN","ONCCSOT",127,0)
 I (Y=23)!(Y=230) S Y="Stage ISA (lymphoma only)" Q
"RTN","ONCCSOT",128,0)
 I (Y=24)!(Y=240) S Y="Stage ISB (lymphoma only)" Q
"RTN","ONCCSOT",129,0)
 I (Y=20)!(Y=200) S Y="Stage IEA (lymphoma only)" Q
"RTN","ONCCSOT",130,0)
 I (Y=21)!(Y=210) S Y="Stage IEB (lymphoma only)" Q
"RTN","ONCCSOT",131,0)
 I (Y=22)!(Y=220) S Y="Stage IE (lymphoma only)" Q
"RTN","ONCCSOT",132,0)
 I (Y=30)!(Y=300) S Y="Stage II" Q
"RTN","ONCCSOT",133,0)
 I (Y=31)!(Y=310) S Y="Stage II NOS" Q
"RTN","ONCCSOT",134,0)
 I (Y=32)!(Y=320) S Y="Stage IIA" Q
"RTN","ONCCSOT",135,0)
 I Y=321 S Y="Stage IIA NOS" Q
"RTN","ONCCSOT",136,0)
 I Y=322 S Y="Stage IIA1" Q
"RTN","ONCCSOT",137,0)
 I Y=323 S Y="Stage IIA2" Q
"RTN","ONCCSOT",138,0)
 I (Y=33)!(Y=330) S Y="Stage IIB" Q
"RTN","ONCCSOT",139,0)
 I (Y=34)!(Y=340) S Y="Stage IIC" Q
"RTN","ONCCSOT",140,0)
 I (Y=35)!(Y=350) S Y="Stage IIEA (lymphoma only)" Q
"RTN","ONCCSOT",141,0)
 I (Y=36)!(Y=360) S Y="Stage IIEB (lymphoma only)" Q
"RTN","ONCCSOT",142,0)
 I (Y=37)!(Y=370) S Y="Stage IIE (lymphoma only)" Q
"RTN","ONCCSOT",143,0)
 I (Y=38)!(Y=380) S Y="Stage IISA (lymphoma only)" Q
"RTN","ONCCSOT",144,0)
 I (Y=39)!(Y=390) S Y="Stage IISB (lymphoma only)" Q
"RTN","ONCCSOT",145,0)
 I (Y=40)!(Y=400) S Y="Stage IIS (lymphoma only)" Q
"RTN","ONCCSOT",146,0)
 I (Y=41)!(Y=410) S Y="Stage IIESA (lymphoma only)" Q
"RTN","ONCCSOT",147,0)
 I (Y=42)!(Y=420) S Y="Stage IIESB (lymphoma only)" Q
"RTN","ONCCSOT",148,0)
 I (Y=43)!(Y=430) S Y="Stage IIES (lymphoma only)" Q
"RTN","ONCCSOT",149,0)
 I (Y=50)!(Y=500) S Y="Stage III" Q
"RTN","ONCCSOT",150,0)
 I (Y=51)!(Y=510) S Y="Stage III NOS" Q
"RTN","ONCCSOT",151,0)
 I (Y=52)!(Y=520) S Y="Stage IIIA" Q
"RTN","ONCCSOT",152,0)
 I (Y=53)!(Y=530) S Y="Stage IIIB" Q
"RTN","ONCCSOT",153,0)
 I (Y=54)!(Y=540) S Y="Stage IIIC" Q
"RTN","ONCCSOT",154,0)
 I Y=541 S Y="Stage IIIC1" Q
"RTN","ONCCSOT",155,0)
 I Y=542 S Y="Stage IIIC2" Q
"RTN","ONCCSOT",156,0)
 I (Y=55)!(Y=550) S Y="Stage IIIEA (lymphoma only)" Q
"RTN","ONCCSOT",157,0)
 I (Y=56)!(Y=560) S Y="Stage IIIEB (lymphoma only)" Q
"RTN","ONCCSOT",158,0)
 I (Y=57)!(Y=570) S Y="Stage IIIE (lymphoma only)" Q
"RTN","ONCCSOT",159,0)
 I (Y=58)!(Y=580) S Y="Stage IIISA (lymphoma only)" Q
"RTN","ONCCSOT",160,0)
 I (Y=59)!(Y=590) S Y="Stage IIISB (lymphoma only)" Q
"RTN","ONCCSOT",161,0)
 I (Y=60)!(Y=600) S Y="Stage IIIS (lymphoma only)" Q
"RTN","ONCCSOT",162,0)
 I (Y=61)!(Y=610) S Y="Stage IIIESA (lymphoma only)" Q
"RTN","ONCCSOT",163,0)
 I (Y=62)!(Y=620) S Y="Stage IIIESB (lymphoma only)" Q
"RTN","ONCCSOT",164,0)
 I (Y=63)!(Y=630) S Y="Stage IIIES (lymphoma only)" Q
"RTN","ONCCSOT",165,0)
 I (Y=70)!(Y=700) S Y="Stage IV" Q
"RTN","ONCCSOT",166,0)
 I (Y=71)!(Y=710) S Y="Stage IV NOS" Q
"RTN","ONCCSOT",167,0)
 I (Y=72)!(Y=720) S Y="Stage IVA" Q
"RTN","ONCCSOT",168,0)
 I Y=721 S Y="Stage IVA1" Q
"RTN","ONCCSOT",169,0)
 I Y=722 S Y="Stage IVA2" Q
"RTN","ONCCSOT",170,0)
 I (Y=73)!(Y=730) S Y="Stage IVB" Q
"RTN","ONCCSOT",171,0)
 I (Y=74)!(Y=740) S Y="Stage IVC" Q
"RTN","ONCCSOT",172,0)
 I (Y=88)!(Y=888) S Y="Not applicable" Q
"RTN","ONCCSOT",173,0)
 I (Y=90)!(Y=900) S Y="Stage Occult" Q
"RTN","ONCCSOT",174,0)
 I (Y=99)!(Y=999) S Y="Stage Unknown"
"RTN","ONCCSOT",175,0)
 Q
"RTN","ONCCSOT",176,0)
 ;
"RTN","ONCCSOT",177,0)
CLEANUP ;Cleanup
"RTN","ONCCSOT",178,0)
 K Y
"RTN","ONCCSRS")
0^62^B44624188
"RTN","ONCCSRS",1,0)
ONCCSRS ;Hines OIFO/GWB - Re-stage using current version ;11/04/11
"RTN","ONCCSRS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCSRS",3,0)
 ;
"RTN","ONCCSRS",4,0)
 ;Re-stage 2004+ cases using current CS Version
"RTN","ONCCSRS",5,0)
 K DIRUT
"RTN","ONCCSRS",6,0)
 N ONCZZIS,IOP,POP
"RTN","ONCCSRS",7,0)
 S ONCZZIS="MQ"
"RTN","ONCCSRS",8,0)
 D OPEN^%ZISUTL("ONCCSRS",,.ONCZZIS) Q:$G(POP)
"RTN","ONCCSRS",9,0)
 D USE^%ZISUTL("ONCCSRS")
"RTN","ONCCSRS",10,0)
 I $D(IO("Q")) D TASK G END
"RTN","ONCCSRS",11,0)
 D RS D CLOSE^%ZISUTL("ONCCSRS") G END
"RTN","ONCCSRS",12,0)
 Q
"RTN","ONCCSRS",13,0)
 ;
"RTN","ONCCSRS",14,0)
RS ;Re-stage
"RTN","ONCCSRS",15,0)
 D SAVDEV^%ZISUTL("ONCCSRS")
"RTN","ONCCSRS",16,0)
 S VER=$P($$VERSION^ONCSAPIV,U,2)
"RTN","ONCCSRS",17,0)
 S VERDSP=$E(VER,1,2)_"."_$E(VER,3,4)_"."_$E(VER,5,6)
"RTN","ONCCSRS",18,0)
 S DIVISION=$P(^DIC(4,DUZ(2),0),U,1)
"RTN","ONCCSRS",19,0)
 D USE^%ZISUTL("ONCCSRS")
"RTN","ONCCSRS",20,0)
 W !?3,"Restaging using CS Version ",VERDSP," for ",DIVISION
"RTN","ONCCSRS",21,0)
 S CTR=0,SUCCTR=0,ERRCTR=0
"RTN","ONCCSRS",22,0)
 S XDT=3040000 F  S XDT=$O(^ONCO(165.5,"ADX",XDT)) Q:XDT=""  S IEN=0 F  S IEN=$O(^ONCO(165.5,"ADX",XDT,IEN)) Q:IEN=""  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  G:$G(DIRUT)=1 EXIT
"RTN","ONCCSRS",23,0)
 .;added by p2.2*1; only do cs if status is complete.
"RTN","ONCCSRS",24,0)
 .Q:$$GET1^DIQ(165.5,IEN,91,"I")'=3
"RTN","ONCCSRS",25,0)
 .;added p57 for 96703 histology
"RTN","ONCCSRS",26,0)
 .I (XDT>3120000),($P($G(^ONCO(165.5,IEN,2.2)),U,3)=96703) D  Q
"RTN","ONCCSRS",27,0)
 ..W !!,"Starting 2012, ","Histology 96703 is obsolete for patient: "
"RTN","ONCCSRS",28,0)
 ..W $$GET1^DIQ(165.5,IEN,61),"   ",$$GET1^DIQ(165.5,IEN,.02),"   ",$$GET1^DIQ(165.5,IEN,.05),"/",$$GET1^DIQ(165.5,IEN,.06)
"RTN","ONCCSRS",29,0)
 ..N ONPIC
"RTN","ONCCSRS",30,0)
 ..F ONPIC=1:1:12 S $P(^ONCO(165.5,IEN,"CS"),U,ONPIC)=""
"RTN","ONCCSRS",31,0)
 ..F ONPIC=1:1:19 S $P(^ONCO(165.5,IEN,"CS1"),U,ONPIC)=""
"RTN","ONCCSRS",32,0)
 ..F ONPIC=1:1:19 S $P(^ONCO(165.5,IEN,"CS2"),U,ONPIC)=""
"RTN","ONCCSRS",33,0)
 ..S $P(^ONCO(165.5,IEN,"CS3"),U,1)=""
"RTN","ONCCSRS",34,0)
 ..S ERRCTR=ERRCTR+1
"RTN","ONCCSRS",35,0)
 .I $P($G(^ONCO(165.5,IEN,"CS1")),U,11)="" Q
"RTN","ONCCSRS",36,0)
 .I +$P($G(^ONCO(165.5,IEN,"CS1")),U,11)>+VER Q
"RTN","ONCCSRS",37,0)
 .I $P($G(^ONCO(165.5,IEN,"CS1")),U,11)=VER Q
"RTN","ONCCSRS",38,0)
 .S PN=$$GET1^DIQ(165.5,IEN,.02)
"RTN","ONCCSRS",39,0)
 .S AN=$$GET1^DIQ(165.5,IEN,.05)
"RTN","ONCCSRS",40,0)
 .S SEQ=$$GET1^DIQ(165.5,IEN,.06)
"RTN","ONCCSRS",41,0)
 .S PID=$$GET1^DIQ(165.5,IEN,61)
"RTN","ONCCSRS",42,0)
 .S PSCODE=$$GET1^DIQ(165.5,IEN,20.1)
"RTN","ONCCSRS",43,0)
 .K INPUT,STORE,DISPLAY,STATUS,ONCSAPI
"RTN","ONCCSRS",44,0)
 .D CLEAR^ONCSAPIE(1)
"RTN","ONCCSRS",45,0)
 .S PS=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCCSRS",46,0)
 .S:PS'="" PS=$TR($$GET1^DIQ(164,PS,1,"I"),".","")
"RTN","ONCCSRS",47,0)
 .S INPUT("SITE")=PS
"RTN","ONCCSRS",48,0)
 .S INPUT("HIST")=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),1,4)
"RTN","ONCCSRS",49,0)
 .S INPUT("DIAGNOSIS_YEAR")=$E($$DATE^ONCACDU1($$GET1^DIQ(165.5,IEN,3,"I")),1,4)
"RTN","ONCCSRS",50,0)
 .S INPUT("CSVER_ORIGINAL")=$$GET1^DIQ(165.5,IEN,169.1,"I")
"RTN","ONCCSRS",51,0)
 .S INPUT("BEHAV")=$E($$GET1^DIQ(165.5,IEN,22.3,"I"),5)
"RTN","ONCCSRS",52,0)
 .S INPUT("GRADE")=$$GET1^DIQ(165.5,IEN,24,"I")
"RTN","ONCCSRS",53,0)
 .S INPUT("AGE")=$$AGEDX^ONCACDU1(IEN)
"RTN","ONCCSRS",54,0)
 .S:$L(INPUT("AGE"))=1 INPUT("AGE")="00"_INPUT("AGE")
"RTN","ONCCSRS",55,0)
 .S:$L(INPUT("AGE"))=2 INPUT("AGE")=0_INPUT("AGE")
"RTN","ONCCSRS",56,0)
 .S LV=$$GET1^DIQ(165.5,IEN,149,"I")_$$GET1^DIQ(165.5,IEN,151,"I")
"RTN","ONCCSRS",57,0)
 .S INPUT("LVI")=$S(LV[1:1,LV[2:1,LV[0:0,LV["X":9,1:8)
"RTN","ONCCSRS",58,0)
 .S INPUT("SIZE")=$$GET1^DIQ(165.5,IEN,29.2,"I")
"RTN","ONCCSRS",59,0)
 .S INPUT("EXT")=$$GET1^DIQ(165.5,IEN,30.2,"I")
"RTN","ONCCSRS",60,0)
 .S INPUT("EXTEVAL")=$$GET1^DIQ(165.5,IEN,29.1,"I")
"RTN","ONCCSRS",61,0)
 .S INPUT("LNPOS")=$$GET1^DIQ(165.5,IEN,32,"I")
"RTN","ONCCSRS",62,0)
 .S:$L(INPUT("LNPOS"))=1 INPUT("LNPOS")=0_INPUT("LNPOS")
"RTN","ONCCSRS",63,0)
 .S INPUT("LNEXAM")=$$GET1^DIQ(165.5,IEN,33,"I")
"RTN","ONCCSRS",64,0)
 .S:$L(INPUT("LNEXAM"))=1 INPUT("LNEXAM")=0_INPUT("LNEXAM")
"RTN","ONCCSRS",65,0)
 .S INPUT("METS")=$$GET1^DIQ(165.5,IEN,34.3,"I")
"RTN","ONCCSRS",66,0)
 .S INPUT("METSEVAL")=$$GET1^DIQ(165.5,IEN,34.4,"I")
"RTN","ONCCSRS",67,0)
 .S INPUT("NODES")=$$GET1^DIQ(165.5,IEN,31.1,"I")
"RTN","ONCCSRS",68,0)
 .S INPUT("NODESEVAL")=$$GET1^DIQ(165.5,IEN,32.1,"I")
"RTN","ONCCSRS",69,0)
 .S INPUT("SSF1")=$$GET1^DIQ(165.5,IEN,44.1,"I")
"RTN","ONCCSRS",70,0)
 .S INPUT("SSF2")=$$GET1^DIQ(165.5,IEN,44.2,"I")
"RTN","ONCCSRS",71,0)
 .S INPUT("SSF3")=$$GET1^DIQ(165.5,IEN,44.3,"I")
"RTN","ONCCSRS",72,0)
 .S INPUT("SSF4")=$$GET1^DIQ(165.5,IEN,44.4,"I")
"RTN","ONCCSRS",73,0)
 .S INPUT("SSF5")=$$GET1^DIQ(165.5,IEN,44.5,"I")
"RTN","ONCCSRS",74,0)
 .S INPUT("SSF6")=$$GET1^DIQ(165.5,IEN,44.6,"I")
"RTN","ONCCSRS",75,0)
 .S INPUT("SSF7")=$$GET1^DIQ(165.5,IEN,44.7,"I")
"RTN","ONCCSRS",76,0)
 .S INPUT("SSF8")=$$GET1^DIQ(165.5,IEN,44.8,"I")
"RTN","ONCCSRS",77,0)
 .S INPUT("SSF9")=$$GET1^DIQ(165.5,IEN,44.9,"I")
"RTN","ONCCSRS",78,0)
 .S INPUT("SSF10")=$$GET1^DIQ(165.5,IEN,44.101,"I")
"RTN","ONCCSRS",79,0)
 .S INPUT("SSF11")=$$GET1^DIQ(165.5,IEN,44.11,"I")
"RTN","ONCCSRS",80,0)
 .S INPUT("SSF12")=$$GET1^DIQ(165.5,IEN,44.12,"I")
"RTN","ONCCSRS",81,0)
 .S INPUT("SSF13")=$$GET1^DIQ(165.5,IEN,44.13,"I")
"RTN","ONCCSRS",82,0)
 .S INPUT("SSF14")=$$GET1^DIQ(165.5,IEN,44.14,"I")
"RTN","ONCCSRS",83,0)
 .S INPUT("SSF15")=$$GET1^DIQ(165.5,IEN,44.15,"I")
"RTN","ONCCSRS",84,0)
 .S INPUT("SSF16")=$$GET1^DIQ(165.5,IEN,44.16,"I")
"RTN","ONCCSRS",85,0)
 .S INPUT("SSF17")=$$GET1^DIQ(165.5,IEN,44.17,"I")
"RTN","ONCCSRS",86,0)
 .S INPUT("SSF18")=$$GET1^DIQ(165.5,IEN,44.18,"I")
"RTN","ONCCSRS",87,0)
 .S INPUT("SSF19")=$$GET1^DIQ(165.5,IEN,44.19,"I")
"RTN","ONCCSRS",88,0)
 .S INPUT("SSF20")=$$GET1^DIQ(165.5,IEN,44.201,"I")
"RTN","ONCCSRS",89,0)
 .S INPUT("SSF21")=$$GET1^DIQ(165.5,IEN,44.21,"I")
"RTN","ONCCSRS",90,0)
 .S INPUT("SSF22")=$$GET1^DIQ(165.5,IEN,44.22,"I")
"RTN","ONCCSRS",91,0)
 .S INPUT("SSF23")=$$GET1^DIQ(165.5,IEN,44.23,"I")
"RTN","ONCCSRS",92,0)
 .S INPUT("SSF24")=$$GET1^DIQ(165.5,IEN,44.24,"I")
"RTN","ONCCSRS",93,0)
 .I $P($G(^ONCO(165.5,IEN,"CS3")),U,1)'="" D
"RTN","ONCCSRS",94,0)
 ..S $P(^ONCO(165.5,IEN,"CS2"),U,19)=$P($G(^ONCO(165.5,IEN,"CS3")),U,1)
"RTN","ONCCSRS",95,0)
 .S INPUT("SSF25")=$$GET1^DIQ(165.5,IEN,44.25,"I")
"RTN","ONCCSRS",96,0)
 .S:INPUT("SSF25")="" INPUT("SSF25")="   "
"RTN","ONCCSRS",97,0)
 .K ERRMSG,STATUS
"RTN","ONCCSRS",98,0)
 .S RC=$$CALC^ONCSAPI3(.ONCSAPI,.INPUT,.STORE,.DISPLAY,.STATUS)
"RTN","ONCCSRS",99,0)
 .D USE^%ZISUTL("ONCCSRS")
"RTN","ONCCSRS",100,0)
 .I $P(RC,U,1)<0 D
"RTN","ONCCSRS",101,0)
 ..S ERRMSG=$P($G(STATUS("MSG",1)),".",1)
"RTN","ONCCSRS",102,0)
 ..W !!?3,PID,"  ",PSCODE,"  ",AN,"/",SEQ," encountered a CS error"
"RTN","ONCCSRS",103,0)
 ..W !?3,ERRMSG
"RTN","ONCCSRS",104,0)
 ..S ERRCTR=ERRCTR+1
"RTN","ONCCSRS",105,0)
 .I $P(RC,U,1)>0 D
"RTN","ONCCSRS",106,0)
 ..S ERRMSG=$P($G(STATUS("MSG",1)),".",1)
"RTN","ONCCSRS",107,0)
 ..W !!?3,PID,"  ",PSCODE,"  ",AN,"/",SEQ," encountered a CS warning"
"RTN","ONCCSRS",108,0)
 ..W !?3,ERRMSG
"RTN","ONCCSRS",109,0)
 ..S ERRCTR=ERRCTR+1
"RTN","ONCCSRS",110,0)
 .I $P(RC,U,1)=0 S SUCCTR=SUCCTR+1 D 
"RTN","ONCCSRS",111,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,1)=STORE("T")
"RTN","ONCCSRS",112,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,2)=STORE("TDESCR")
"RTN","ONCCSRS",113,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,3)=STORE("N")
"RTN","ONCCSRS",114,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,4)=STORE("NDESCR")
"RTN","ONCCSRS",115,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,5)=STORE("M")
"RTN","ONCCSRS",116,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,6)=STORE("MDESCR")
"RTN","ONCCSRS",117,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,7)=STORE("AJCC")
"RTN","ONCCSRS",118,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,8)=STORE("SS1977")
"RTN","ONCCSRS",119,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,9)=STORE("SS2000")
"RTN","ONCCSRS",120,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,11)=$G(STATUS("APIVER"))
"RTN","ONCCSRS",121,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,13)=STORE("AJCC7-T")
"RTN","ONCCSRS",122,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,14)=STORE("AJCC7-TDESCR")
"RTN","ONCCSRS",123,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,15)=STORE("AJCC7-N")
"RTN","ONCCSRS",124,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,16)=STORE("AJCC7-NDESCR")
"RTN","ONCCSRS",125,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,17)=STORE("AJCC7-M")
"RTN","ONCCSRS",126,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,18)=STORE("AJCC7-MDESCR")
"RTN","ONCCSRS",127,0)
 ..S $P(^ONCO(165.5,IEN,"CS1"),U,19)=STORE("AJCC7-STAGE")
"RTN","ONCCSRS",128,0)
 .S CTR=CTR+1 W "."
"RTN","ONCCSRS",129,0)
 D RMDEV^%ZISUTL("ONCCSRS")
"RTN","ONCCSRS",130,0)
 ;
"RTN","ONCCSRS",131,0)
EXIT W !
"RTN","ONCCSRS",132,0)
 S TAB=$S($L(CTR)=1:5,$L(CTR)=2:4,$L(CTR)=3:3,1:3)
"RTN","ONCCSRS",133,0)
 S SUCTAB=$S($L(SUCCTR)=1:5,$L(SUCCTR)=2:4,$L(SUCCTR)=3:3,1:3)
"RTN","ONCCSRS",134,0)
 S ERRTAB=$S($L(ERRCTR)=1:5,$L(ERRCTR)=2:4,$L(ERRCTR)=3:3,1:3)
"RTN","ONCCSRS",135,0)
 ;
"RTN","ONCCSRS",136,0)
 W:CTR=1 !?TAB,CTR," primary was re-staged using CS Version ",VERDSP
"RTN","ONCCSRS",137,0)
 W:CTR'=1 !?TAB,CTR," primaries were re-staged using CS Version ",VERDSP
"RTN","ONCCSRS",138,0)
 W !
"RTN","ONCCSRS",139,0)
 W:SUCCTR=1 !?SUCTAB,SUCCTR," primary was successfully restaged"
"RTN","ONCCSRS",140,0)
 W:SUCCTR'=1 !?SUCTAB,SUCCTR," primaries were successfully restaged"
"RTN","ONCCSRS",141,0)
 W:ERRCTR=1 !?ERRTAB,ERRCTR," primary encountered an error or warning"
"RTN","ONCCSRS",142,0)
 W:ERRCTR'=1 !?ERRTAB,ERRCTR," primaries encountered errors or warnings"
"RTN","ONCCSRS",143,0)
 D ^%ZISC
"RTN","ONCCSRS",144,0)
 I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCCSRS",145,0)
 Q
"RTN","ONCCSRS",146,0)
 ;
"RTN","ONCCSRS",147,0)
TASK ;Queue a task
"RTN","ONCCSRS",148,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCCSRS",149,0)
 S ZTRTN="RS^ONCCSRS",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCCSRS",150,0)
 S ZTDESC="ONCOTRAX Restage CS"
"RTN","ONCCSRS",151,0)
 D ^%ZTLOAD D CLOSE^%ZISUTL("ONCCSRS") W !,"Request Queued",!
"RTN","ONCCSRS",152,0)
 K ZTSK
"RTN","ONCCSRS",153,0)
 Q
"RTN","ONCCSRS",154,0)
 ;
"RTN","ONCCSRS",155,0)
END ;Cleanup
"RTN","ONCCSRS",156,0)
 K AN,CHECKSUM,CTR,D0,DIVISION,ERRCTR,ERRTAB,IEN,LV,ONCDST,PID,PN,PS
"RTN","ONCCSRS",157,0)
 K PSCODE,RC,SEQ,SUCCTR,SUCTAB,TAB,VER,VERDSP,XDT,ZTDESC,ZTREQ,ZTRTN
"RTN","ONCCSRS",158,0)
 Q
"RTN","ONCCSSTF")
0^63^B43956602
"RTN","ONCCSSTF",1,0)
ONCCSSTF ;Hines OIFO/GWB - COLLABORATIVE STAGING STUFFING ;01/07/04
"RTN","ONCCSSTF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCSSTF",3,0)
 ;
"RTN","ONCCSSTF",4,0)
 Q:$G(TOP)=""
"RTN","ONCCSSTF",5,0)
 N MM,MO
"RTN","ONCCSSTF",6,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCCSSTF",7,0)
 S MM="NO"
"RTN","ONCCSSTF",8,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCCSSTF",9,0)
 .S:$P($G(^ONCO(165.5,D0,"CS")),U,5)="" $P(^ONCO(165.5,D0,"CS"),U,5)=$P($G(^ONCO(165.5,D0,2)),U,9)
"RTN","ONCCSSTF",10,0)
 E  D
"RTN","ONCCSSTF",11,0)
 .S:$P($G(^ONCO(165.5,D0,"CS1")),U,10)="" $P(^ONCO(165.5,D0,"CS1"),U,10)=$P($G(^ONCO(165.5,D0,2)),U,9)
"RTN","ONCCSSTF",12,0)
 ;
"RTN","ONCCSSTF",13,0)
 ;Pharynx, NOS, Other Ill-Defined Oral Cavity Sites
"RTN","ONCCSSTF",14,0)
 I (TOP=67140)!(TOP=67142)!(TOP=67148) D EVAL9
"RTN","ONCCSSTF",15,0)
 ;Other & Ill-defined Digestive Organs
"RTN","ONCCSSTF",16,0)
 I ($E(TOP,3,4)=26) D EVAL9
"RTN","ONCCSSTF",17,0)
 ;Middle Ear
"RTN","ONCCSSTF",18,0)
 I TOP=67301 D EVAL9
"RTN","ONCCSSTF",19,0)
 ;Accessory (Paranasal) Sinuses
"RTN","ONCCSSTF",20,0)
 I (TOP=67312)!(TOP=67313)!(TOP=67318)!(TOP=67319) D EVAL9
"RTN","ONCCSSTF",21,0)
 ;Trachea
"RTN","ONCCSSTF",22,0)
 I TOP=67339 D EVAL9
"RTN","ONCCSSTF",23,0)
 ;Other & Ill-Defined Respiratory Sites & Intrathoracic Organs
"RTN","ONCCSSTF",24,0)
 I (TOP=67390)!(TOP=67398)!(TOP=67399) D EVAL9
"RTN","ONCCSSTF",25,0)
 ;Broad & Round Ligaments, Parametrium, Uterine Adnexa
"RTN","ONCCSSTF",26,0)
 I (TOP=67571)!(TOP=67572)!(TOP=67573)!(TOP=67574) D EVAL9
"RTN","ONCCSSTF",27,0)
 ;Other & Unspecified Female Genital Organs
"RTN","ONCCSSTF",28,0)
 I (TOP=67577)!(TOP=67578)!(TOP=67579) D EVAL9
"RTN","ONCCSSTF",29,0)
 ;Prostate
"RTN","ONCCSSTF",30,0)
 I TOP=67619 D
"RTN","ONCCSSTF",31,0)
 .S:$P($G(^ONCO(165.5,D0,2.2)),U,2)=99 $P(^ONCO(165.5,D0,"CS"),U,7)="097"
"RTN","ONCCSSTF",32,0)
 .N GS
"RTN","ONCCSSTF",33,0)
 .S GS=$$GET1^DIQ(165.5,D0,623)
"RTN","ONCCSSTF",34,0)
 .I GS'="" S GS=$S(GS="02":"002",GS="03":"003",GS="04":"004",GS="05":"005",GS="06":"006",GS="07":"007",GS="08":"008",GS="09":"009",GS="10":"010",1:"") S $P(^ONCO(165.5,D0,"CS"),U,10)=GS
"RTN","ONCCSSTF",35,0)
 ;Other & Unspecified Male Genital Organs
"RTN","ONCCSSTF",36,0)
 I ($E(TOP,3,4)=63) D EVAL9
"RTN","ONCCSSTF",37,0)
 ;Paraurethral Gland, Overlapping Lesion of Urinary Organs, &
"RTN","ONCCSSTF",38,0)
 ;Unspecified Urinary Organs
"RTN","ONCCSSTF",39,0)
 I (TOP=67681)!(TOP=67688)!(TOP=67689) D EVAL9
"RTN","ONCCSSTF",40,0)
 ;Cornea, Retina, Choroid, Ciliary Body, Eyeball, Overlapping &
"RTN","ONCCSSTF",41,0)
 ;Other Eye
"RTN","ONCCSSTF",42,0)
 I '$$MELANOMA^ONCOU55(D0),(TOP=67691)!(TOP=67692)!(TOP=67693)!(TOP=67694)!(TOP=67698)!(TOP=67699) D EVAL9
"RTN","ONCCSSTF",43,0)
 ;Brain & Cerebral Meninges
"RTN","ONCCSSTF",44,0)
 I (TOP=67700)!($E(TOP,3,4)=71) D EVAL9,LN
"RTN","ONCCSSTF",45,0)
 ;Other Parts of CNS
"RTN","ONCCSSTF",46,0)
 I (TOP=67701)!(TOP=67709)!($E(TOP,3,4)=72) D EVAL9,LN
"RTN","ONCCSSTF",47,0)
 ;Thymus, Adrenal (Suprarenal) Gland, & Other Endocrine Glands
"RTN","ONCCSSTF",48,0)
 I (TOP=67379)!($E(TOP,3,4)=74)!($E(TOP,3,4)=75) D EVAL9
"RTN","ONCCSSTF",49,0)
 ;
"RTN","ONCCSSTF",50,0)
MM ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCCSSTF",51,0)
 I $$MELANOMA^ONCOU55(D0),($E(TOP,3,4)=44)!($E(TOP,3,4)=51)!($E(TOP,3,4)=60)!(TOP=67632) D SSF56 Q
"RTN","ONCCSSTF",52,0)
 ;Malignant Melanoma of Conjunctiva
"RTN","ONCCSSTF",53,0)
 I $$MELANOMA^ONCOU55(D0),TOP=67690 S MM="YES" G SSF26
"RTN","ONCCSSTF",54,0)
 ;Malignant Melanoma of Iris & Ciliary Body
"RTN","ONCCSSTF",55,0)
 I $$MELANOMA^ONCOU55(D0),TOP=67694 S MM="YES" G SSF26
"RTN","ONCCSSTF",56,0)
 ;Malignant Melanoma of Choroid
"RTN","ONCCSSTF",57,0)
 I $$MELANOMA^ONCOU55(D0),TOP=67693 S MM="YES" G SSF26
"RTN","ONCCSSTF",58,0)
 ;Malignant Melanoma of Other Eye
"RTN","ONCCSSTF",59,0)
 I $$MELANOMA^ONCOU55(D0),(TOP=67691)!(TOP=67692)!(TOP=67695)!(TOP=67698)!(TOP=67699) D SSF168 Q
"RTN","ONCCSSTF",60,0)
MFSD ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCCSSTF",61,0)
 I (MO=97003)!(MO=97013),($E(TOP,3,4)=44)!($E(TOP,3,4)=51)!($E(TOP,3,4)=60)!(TOP=67632) D SSF26 Q
"RTN","ONCCSSTF",62,0)
RET ;Retinoblastoma
"RTN","ONCCSSTF",63,0)
 I $E(MO,1,3)=951,($E(TOP,3,4)=69) S MM="YES" G SSF26
"RTN","ONCCSSTF",64,0)
 ;Kaposi Sarcoma of All Sites (9140)
"RTN","ONCCSSTF",65,0)
 I MO=91403 D  D EVAL9 S MM="YES" G SSF26
"RTN","ONCCSSTF",66,0)
 .S $P(^ONCO(165.5,D0,"CS1"),U,10)=888
"RTN","ONCCSSTF",67,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,3)=88
"RTN","ONCCSSTF",68,0)
LYMPH ;Hodgkin & Non-Hodgkin Lymphomas of All Sites
"RTN","ONCCSSTF",69,0)
 ;(excl. Mycosis Fungoides & Sezary Disease)
"RTN","ONCCSSTF",70,0)
 I $$LYMPHOMA^ONCFUNC(D0),MO'=97003,MO'=97013 D LN D  Q
"RTN","ONCCSSTF",71,0)
 .S $P(^ONCO(165.5,D0,"CS1"),U,10)=888
"RTN","ONCCSSTF",72,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCSSTF",73,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,4)=9
"RTN","ONCCSSTF",74,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,3)=88
"RTN","ONCCSSTF",75,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,8)=888
"RTN","ONCCSSTF",76,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,9)=888
"RTN","ONCCSSTF",77,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,10)=888
"RTN","ONCCSSTF",78,0)
HRIMN ;Hematopoietic, Reticuloendothelial, Immunoproliferative, &
"RTN","ONCCSSTF",79,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCCSSTF",80,0)
 I (MO'<97310)&(MO'>99899) D EVAL9,LN,SSF168 D  Q
"RTN","ONCCSSTF",81,0)
 .S $P(^ONCO(165.5,D0,"CS1"),U,10)=888
"RTN","ONCCSSTF",82,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,3)=88
"RTN","ONCCSSTF",83,0)
 .;EXTENSION (CS) (165.5,30.2) stuffing with 80 (Systemic disease)
"RTN","ONCCSSTF",84,0)
 .I (MO'=97313)&($E(MO,1,4)'=9740)&($E(MO,1,4)'=9750)&($E(MO,1,4)'=9755)&($E(MO,1,4)'=9756)&($E(MO,1,4)'=9757)&($E(MO,1,4)'=9758)&($E(MO,1,4)'=9930) D
"RTN","ONCCSSTF",85,0)
 ..S $P(^ONCO(165.5,D0,"CS"),U,11)=80
"RTN","ONCCSSTF",86,0)
 ;
"RTN","ONCCSSTF",87,0)
SSF16 ;SITE-SPECIFIC FACTOR 1-6 = 888 (Not applicable for this site)
"RTN","ONCCSSTF",88,0)
 ;Esophagus
"RTN","ONCCSSTF",89,0)
 I ($E(TOP,3,4)=15) D SSF168 Q
"RTN","ONCCSSTF",90,0)
 ;Small Intestine
"RTN","ONCCSSTF",91,0)
 I ($E(TOP,3,4)=17) D SSF168 Q
"RTN","ONCCSSTF",92,0)
 ;Anus
"RTN","ONCCSSTF",93,0)
 I ($E(TOP,3,4)=21) D SSF168 Q
"RTN","ONCCSSTF",94,0)
 ;Gallbladder
"RTN","ONCCSSTF",95,0)
 I TOP=67239 D SSF168 Q
"RTN","ONCCSSTF",96,0)
 ;Extrahepatic Bile Duct(s)
"RTN","ONCCSSTF",97,0)
 I TOP=67240 D SSF168 Q
"RTN","ONCCSSTF",98,0)
 ;Ampulla of Vater
"RTN","ONCCSSTF",99,0)
 I TOP=67241 D SSF168 Q
"RTN","ONCCSSTF",100,0)
 ;Other Biliary & Biliary, NOS
"RTN","ONCCSSTF",101,0)
 I (TOP=67248)!(TOP=67249) D SSF168 Q
"RTN","ONCCSSTF",102,0)
 ;Pancreas: Head
"RTN","ONCCSSTF",103,0)
 I TOP=67250 D SSF168 Q
"RTN","ONCCSSTF",104,0)
 ;Pancreas: Body & Tail
"RTN","ONCCSSTF",105,0)
 I (TOP=67251)!(TOP=67252) D SSF168 Q
"RTN","ONCCSSTF",106,0)
 ;Pancreas: Other & Unspecified
"RTN","ONCCSSTF",107,0)
 I (TOP=67253)!(TOP=67254)!(TOP=67257)!(TOP=67258)!(TOP=67259) D SSF168 Q
"RTN","ONCCSSTF",108,0)
 ;Other & Ill-defined Digestive Organs
"RTN","ONCCSSTF",109,0)
 I (TOP=67260)!(TOP=6728)!(TOP=67269) D SSF168 Q
"RTN","ONCCSSTF",110,0)
 ;Trachea
"RTN","ONCCSSTF",111,0)
 I TOP=67339 D SSF168 Q
"RTN","ONCCSSTF",112,0)
 ;Lung
"RTN","ONCCSSTF",113,0)
 I ($E(TOP,3,4)=34) D SSF168 Q
"RTN","ONCCSSTF",114,0)
 ;Heart, Mediastinum
"RTN","ONCCSSTF",115,0)
 I (TOP=67380)!(TOP=67381)!(TOP=67382)!(TOP=67383)!(TOP=67388) D SSF168 Q
"RTN","ONCCSSTF",116,0)
 ;Other & Ill-Defined Respiratory Sites & Intrathoracic Organs
"RTN","ONCCSSTF",117,0)
 I (TOP=67390)!(TOP=67398)!(TOP=67399) D SSF168 Q
"RTN","ONCCSSTF",118,0)
 ;Bone
"RTN","ONCCSSTF",119,0)
 I ($E(TOP,3,4)=40)!($E(TOP,3,4)=41) D SSF168 Q
"RTN","ONCCSSTF",120,0)
 ;Skin
"RTN","ONCCSSTF",121,0)
 ;(excl. Mycosis Fungoides & Sezary Disease)
"RTN","ONCCSSTF",122,0)
 I (TOP=67440)!(TOP=67442)!(TOP=67443)!(TOP=67444)!(TOP=67445)!(TOP=67446)!(TOP=67447)!(TOP=67448)!(TOP=67449),MO'=97003,MO'=97013 D SSF168 Q
"RTN","ONCCSSTF",123,0)
 ;Skin of Eyelid
"RTN","ONCCSSTF",124,0)
 I TOP=67441 D SSF168 Q
"RTN","ONCCSSTF",125,0)
 ;Peripheral Nerves & Autonomic Nervous System;
"RTN","ONCCSSTF",126,0)
 ;Connective, Subcutaneous, & Other Soft Tissues
"RTN","ONCCSSTF",127,0)
 I ($E(TOP,3,4)=47)!($E(TOP,3,4)=49) D SSF168 Q
"RTN","ONCCSSTF",128,0)
 ;Retroperitoneum & Peritoneum
"RTN","ONCCSSTF",129,0)
 I ($E(TOP,3,4)=48) D SSF168 Q
"RTN","ONCCSSTF",130,0)
 ;Vulva
"RTN","ONCCSSTF",131,0)
 I ($E(TOP,3,4)=51) D SSF168 Q
"RTN","ONCCSSTF",132,0)
 ;Vagina
"RTN","ONCCSSTF",133,0)
 I TOP=67529 D SSF168 Q
"RTN","ONCCSSTF",134,0)
 ;Cervix Uteri
"RTN","ONCCSSTF",135,0)
 I ($E(TOP,3,4)=53) D SSF168 Q
"RTN","ONCCSSTF",136,0)
 ;Corpus Uteri; Uterus, NOS
"RTN","ONCCSSTF",137,0)
 I ($E(TOP,3,4)=54)!(TOP=67559) D SSF168 Q
"RTN","ONCCSSTF",138,0)
 ;Fallopian Tube
"RTN","ONCCSSTF",139,0)
 I TOP=67570 D SSF168 Q
"RTN","ONCCSSTF",140,0)
 ;Broad & Round Ligaments, Parametrium, Uterine Adnexa
"RTN","ONCCSSTF",141,0)
 I (TOP=67571)!(TOP=67572)!(TOP=67573)!(TOP=67574) D SSF168 Q
"RTN","ONCCSSTF",142,0)
 ;Other & Unspecified Female Genital Organs
"RTN","ONCCSSTF",143,0)
 I (TOP=67577)!(TOP=67578)!(TOP=67579) D SSF168 Q
"RTN","ONCCSSTF",144,0)
 ;Penis
"RTN","ONCCSSTF",145,0)
 I ($E(TOP,3,4)=60) D SSF168 Q
"RTN","ONCCSSTF",146,0)
 ;Other & Unspecified Male Genital Organs
"RTN","ONCCSSTF",147,0)
 I ($E(TOP,3,4)=63) D SSF168 Q
"RTN","ONCCSSTF",148,0)
 ;Scrotum
"RTN","ONCCSSTF",149,0)
 I TOP=67632 D SSF168 Q
"RTN","ONCCSSTF",150,0)
 ;Kidney (Renal Parenchyma)
"RTN","ONCCSSTF",151,0)
 I TOP=67649 D SSF168 Q
"RTN","ONCCSSTF",152,0)
 ;Renal Pelvis & Ureter
"RTN","ONCCSSTF",153,0)
 I (TOP=67659)!(TOP=67669) D SSF168 Q
"RTN","ONCCSSTF",154,0)
 ;Bladder
"RTN","ONCCSSTF",155,0)
 I ($E(TOP,3,4)=67) D SSF168 Q
"RTN","ONCCSSTF",156,0)
 ;Urethra
"RTN","ONCCSSTF",157,0)
 I TOP=67680 D SSF168 Q
"RTN","ONCCSSTF",158,0)
 ;Paraurethral Gland, Overlapping Lesion of Urinary Organs, &
"RTN","ONCCSSTF",159,0)
 ;Unspecified Urinary Organs
"RTN","ONCCSSTF",160,0)
 I (TOP=67681)!(TOP=67688)!(TOP=67689) D SSF168 Q
"RTN","ONCCSSTF",161,0)
 ;Conjunctiva
"RTN","ONCCSSTF",162,0)
 I TOP=67690 D SSF168 Q
"RTN","ONCCSSTF",163,0)
 ;Cornea, Retina, Choroid, Ciliary Body, Eyeball, Overlapping &
"RTN","ONCCSSTF",164,0)
 ;Other Eye
"RTN","ONCCSSTF",165,0)
 I (TOP=67691)!(TOP=67692)!(TOP=67693)!(TOP=67694)!(TOP=67698)!(TOP=67699) D SSF168 Q
"RTN","ONCCSSTF",166,0)
 ;Lacrimal Gland
"RTN","ONCCSSTF",167,0)
 I TOP=67695 D SSF168 Q
"RTN","ONCCSSTF",168,0)
 ;Orbit
"RTN","ONCCSSTF",169,0)
 I TOP=67696 D SSF168 Q
"RTN","ONCCSSTF",170,0)
 ;Other & Ill-Defined Sites, Unknown Primary Site
"RTN","ONCCSSTF",171,0)
 I ($E(TOP,3,4)=42)!($E(TOP,3,4)=76)!($E(TOP,3,4)=77)!(TOP=67809) D EVAL9,LN,SSF168 D  Q
"RTN","ONCCSSTF",172,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,11)=88
"RTN","ONCCSSTF",173,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,3)=88
"RTN","ONCCSSTF",174,0)
 ;
"RTN","ONCCSSTF",175,0)
SSF26 ;SITE-SPECIFIC FACTOR 2-6 = 888 (Not applicable for this site)
"RTN","ONCCSSTF",176,0)
 ;Pleura
"RTN","ONCCSSTF",177,0)
 ;Mycosis Fungoides & Sezary Disease (9700-9701)
"RTN","ONCCSSTF",178,0)
 ;Ovary
"RTN","ONCCSSTF",179,0)
 ;Placenta
"RTN","ONCCSSTF",180,0)
 I TOP=67589 D LN S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCSSTF",181,0)
 ;Brain & Cerebral Meninges
"RTN","ONCCSSTF",182,0)
 ;Other Parts of CNS
"RTN","ONCCSSTF",183,0)
 ;Thyroid
"RTN","ONCCSSTF",184,0)
 ;Thymus, Adrenal (Suprarenal) Gland, & Other Endocrine Glands
"RTN","ONCCSSTF",185,0)
 ;Stomach
"RTN","ONCCSSTF",186,0)
 I (TOP=67384)!(MO=97003)!(MO=97013)!(TOP=67569)!(TOP=67589)!(MM="YES")!(TOP=67700)!($E(TOP,3,4)=71)!(TOP=67701)!(TOP=67709)!($E(TOP,3,4)=72)!(TOP=67739)!(TOP=67379)!($E(TOP,3,4)=74)!($E(TOP,3,4)=75)!($E(TOP,3,4)=16) D  Q
"RTN","ONCCSSTF",187,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,6)=888
"RTN","ONCCSSTF",188,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,7)=888
"RTN","ONCCSSTF",189,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,8)=888
"RTN","ONCCSSTF",190,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,9)=888
"RTN","ONCCSSTF",191,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,10)=888
"RTN","ONCCSSTF",192,0)
 ;
"RTN","ONCCSSTF",193,0)
SSF36 ;SITE-SPECIFIC FACTOR 3-6 = 888 (Not applicable for this site)
"RTN","ONCCSSTF",194,0)
 ;Colon
"RTN","ONCCSSTF",195,0)
 ;Rectosigmoid, Rectum
"RTN","ONCCSSTF",196,0)
 ;Liver & Intrahepatic Bile Ducts
"RTN","ONCCSSTF",197,0)
 I ($E(TOP,3,4)=18)!(TOP=67199)!(TOP=67209)!($E(TOP,3,4)=22) D  Q
"RTN","ONCCSSTF",198,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,7)=888
"RTN","ONCCSSTF",199,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,8)=888
"RTN","ONCCSSTF",200,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,9)=888
"RTN","ONCCSSTF",201,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,10)=888
"RTN","ONCCSSTF",202,0)
 ;
"RTN","ONCCSSTF",203,0)
SSF6 ;SITE-SPECIFIC FACTOR 6 = 888 (Not applicable for this site)
"RTN","ONCCSSTF",204,0)
 ;Testis
"RTN","ONCCSSTF",205,0)
 I ($E(TOP,3,4)=62) D  Q
"RTN","ONCCSSTF",206,0)
 .S $P(^ONCO(165.5,D0,"CS"),U,10)=888
"RTN","ONCCSSTF",207,0)
 ;
"RTN","ONCCSSTF",208,0)
 Q
"RTN","ONCCSSTF",209,0)
 ;
"RTN","ONCCSSTF",210,0)
EVAL9 S $P(^ONCO(165.5,D0,"CS"),U,1)=9
"RTN","ONCCSSTF",211,0)
 S $P(^ONCO(165.5,D0,"CS"),U,2)=9
"RTN","ONCCSSTF",212,0)
 S $P(^ONCO(165.5,D0,"CS"),U,4)=9
"RTN","ONCCSSTF",213,0)
 Q
"RTN","ONCCSSTF",214,0)
 ;
"RTN","ONCCSSTF",215,0)
SSF168 S $P(^ONCO(165.5,D0,"CS"),U,5)=888
"RTN","ONCCSSTF",216,0)
 S $P(^ONCO(165.5,D0,"CS"),U,6)=888
"RTN","ONCCSSTF",217,0)
 S $P(^ONCO(165.5,D0,"CS"),U,7)=888
"RTN","ONCCSSTF",218,0)
 S $P(^ONCO(165.5,D0,"CS"),U,8)=888
"RTN","ONCCSSTF",219,0)
 S $P(^ONCO(165.5,D0,"CS"),U,9)=888
"RTN","ONCCSSTF",220,0)
 S $P(^ONCO(165.5,D0,"CS"),U,10)=888
"RTN","ONCCSSTF",221,0)
 Q
"RTN","ONCCSSTF",222,0)
 ;
"RTN","ONCCSSTF",223,0)
SSF56 ;SITE-SPECIFIC FACTOR 5-6 = 888 (Not applicable for this site)
"RTN","ONCCSSTF",224,0)
 S $P(^ONCO(165.5,D0,"CS"),U,9)=888
"RTN","ONCCSSTF",225,0)
 S $P(^ONCO(165.5,D0,"CS"),U,10)=888
"RTN","ONCCSSTF",226,0)
 Q
"RTN","ONCCSSTF",227,0)
 ;
"RTN","ONCCSSTF",228,0)
LN S $P(^ONCO(165.5,D0,"CS"),U,12)=88
"RTN","ONCCSSTF",229,0)
 S $P(^ONCO(165.5,D0,2),U,12)=99
"RTN","ONCCSSTF",230,0)
 S $P(^ONCO(165.5,D0,2),U,13)=99
"RTN","ONCCSSTF",231,0)
 Q
"RTN","ONCCSV2")
0^64^B59868741
"RTN","ONCCSV2",1,0)
ONCCSV2 ;Hines OIFO/GWB - Collaborative Staging v2 Conversion ;06/23/10
"RTN","ONCCSV2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCSV2",3,0)
 ;
"RTN","ONCCSV2",4,0)
 N EXT,LN,METS,SD,TS,HST,HST14,QUIT,S34,PS
"RTN","ONCCSV2",5,0)
 N SSF1,SSF2,SSF3,SSF4,SSF5,SSF6
"RTN","ONCCSV2",6,0)
 S PS=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCCSV2",7,0)
 S HST=$$HIST^ONCFUNC(IEN)
"RTN","ONCCSV2",8,0)
 S HST14=$E(HST,1,4)
"RTN","ONCCSV2",9,0)
 S TS=$P($G(^ONCO(165.5,IEN,"CS1")),U,10)
"RTN","ONCCSV2",10,0)
 S EXT=$P($G(^ONCO(165.5,IEN,"CS")),U,11)
"RTN","ONCCSV2",11,0)
 S LN=$P($G(^ONCO(165.5,IEN,"CS")),U,12)
"RTN","ONCCSV2",12,0)
 S METS=$P($G(^ONCO(165.5,IEN,"CS")),U,3)
"RTN","ONCCSV2",13,0)
 S SSF1=$P($G(^ONCO(165.5,IEN,"CS")),U,5)
"RTN","ONCCSV2",14,0)
 S SSF2=$P($G(^ONCO(165.5,IEN,"CS")),U,6)
"RTN","ONCCSV2",15,0)
 S SSF3=$P($G(^ONCO(165.5,IEN,"CS")),U,7)
"RTN","ONCCSV2",16,0)
 S SSF4=$P($G(^ONCO(165.5,IEN,"CS")),U,8)
"RTN","ONCCSV2",17,0)
 S SSF5=$P($G(^ONCO(165.5,IEN,"CS")),U,9)
"RTN","ONCCSV2",18,0)
 S SSF6=$P($G(^ONCO(165.5,IEN,"CS")),U,10)
"RTN","ONCCSV2",19,0)
 S SD=$P($G(^ONCO(165.5,IEN,"CS3")),U,1)
"RTN","ONCCSV2",20,0)
 ;
"RTN","ONCCSV2",21,0)
 ;HemeRetic (M-9731-9992)
"RTN","ONCCSV2",22,0)
 S QUIT="YES"
"RTN","ONCCSV2",23,0)
 I ((HST14>9730)&(HST14<9993)) D  I $G(QUIT)="YES" Q
"RTN","ONCCSV2",24,0)
 .I ((HST14=9731)!(HST14=9732)!(HST14=9733)!(HST14=9734)!(HST14=9820)!(HST14=9826)!(HST14=9832)!(HST14=9833)!(HST14=9834)!(HST14=9835)!(HST14=9836))&((PS=67441)!(PS=67690)!(PS=67695)!(PS=67696)) S QUIT="NO" Q
"RTN","ONCCSV2",25,0)
 .I ((HST14=9823)!(HST14=9827)!(HST14=9837))&((PS'=67420)&(PS'=67421)&(PS'=67424)) S QUIT="NO" Q
"RTN","ONCCSV2",26,0)
 .S:TS=888 $P(^ONCO(165.5,IEN,"CS1"),U,10)=988
"RTN","ONCCSV2",27,0)
 .S:LN=888 $P(^ONCO(165.5,IEN,"CS"),U,12)=988
"RTN","ONCCSV2",28,0)
 .S:METS=88 $P(^ONCO(165.5,IEN,"CS"),U,3)=98
"RTN","ONCCSV2",29,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2",30,0)
 ;
"RTN","ONCCSV2",31,0)
 ;KaposiSarcoma (M-9140) 
"RTN","ONCCSV2",32,0)
 I HST14=9140 D  Q
"RTN","ONCCSV2",33,0)
 .S:TS=888 $P(^ONCO(165.5,IEN,"CS1"),U,10)=988
"RTN","ONCCSV2",34,0)
 .S:METS=88 $P(^ONCO(165.5,IEN,"CS"),U,3)=98
"RTN","ONCCSV2",35,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2",36,0)
 ;
"RTN","ONCCSV2",37,0)
 ;LymphomaOcularAdnexa C44.1, C69.0, C69.5-C69.6
"RTN","ONCCSV2",38,0)
 ;(M-9590-9699, 9702-9738, 9811-9818, 9820-9837)
"RTN","ONCCSV2",39,0)
 I ((PS=67441)!(PS=67690)!(PS=67695)!(PS=67696))&((HST14>9589)&(HST14<9700))!((HST14>9701)&(HST14<9739))!((HST14>9810)&(HST14<9819))!((HST14>9819)&(HST14<9838)) D  Q
"RTN","ONCCSV2",40,0)
 .S:TS=888 $P(^ONCO(165.5,IEN,"CS1"),U,10)=988
"RTN","ONCCSV2",41,0)
 .S:LN=888 $P(^ONCO(165.5,IEN,"CS"),U,12)=988
"RTN","ONCCSV2",42,0)
 .S:METS=88 $P(^ONCO(165.5,IEN,"CS"),U,3)=98
"RTN","ONCCSV2",43,0)
 .S:SSF1=888 $P(^ONCO(165.5,IEN,"CS"),U,5)=999
"RTN","ONCCSV2",44,0)
 .S:SSF2=888 $P(^ONCO(165.5,IEN,"CS"),U,6)=999
"RTN","ONCCSV2",45,0)
 .S:SSF3=888 $P(^ONCO(165.5,IEN,"CS"),U,7)=999
"RTN","ONCCSV2",46,0)
 .D 4,5,6
"RTN","ONCCSV2",47,0)
 ;
"RTN","ONCCSV2",48,0)
 ;Lymphoma
"RTN","ONCCSV2",49,0)
 ;(M-9590-9699, 9702-9729, 9735, 9737, 9738, 9811-9818)
"RTN","ONCCSV2",50,0)
 ;(M-9823, 9827, 9837 EXCEPT C42.0, C42.1, C42.4) 
"RTN","ONCCSV2",51,0)
 S QUIT="YES"
"RTN","ONCCSV2",52,0)
 I ((HST14>9589)&(HST14<9700))!((HST14>9701)&(HST14<9730))!(HST14=9735)!(HST14=9737)!(HST14=9738)!((HST14>9810)&(HST14<9819))!(HST14=9823)!(HST14=9827)!(HST14=9837) D  I $G(QUIT)="YES" Q
"RTN","ONCCSV2",53,0)
 .I ((HST14=9823)!(HST14=9827)!(HST14=9837))&((PS=67420)!(PS=67421)!(PS=67424)) S QUIT="NO" Q
"RTN","ONCCSV2",54,0)
 .S:LN=888 $P(^ONCO(165.5,IEN,"CS"),U,12)=988
"RTN","ONCCSV2",55,0)
 .S:METS=88 $P(^ONCO(165.5,IEN,"CS"),U,3)=98
"RTN","ONCCSV2",56,0)
 .S:SSF1=888 $P(^ONCO(165.5,IEN,"CS"),U,5)=999
"RTN","ONCCSV2",57,0)
 .S:SSF2=888 $P(^ONCO(165.5,IEN,"CS"),U,6)=999
"RTN","ONCCSV2",58,0)
 .S:SSF3=888 $P(^ONCO(165.5,IEN,"CS"),U,7)=999
"RTN","ONCCSV2",59,0)
 .D 4,5,6
"RTN","ONCCSV2",60,0)
 ;
"RTN","ONCCSV2",61,0)
 ;MelanomaBuccalMucosa C06.0-C06.1
"RTN","ONCCSV2",62,0)
 ;MelanomaEpiglottisAnterior C10.1
"RTN","ONCCSV2",63,0)
 ;MelanomaFloorMouth C04.0-C04.1, C04.8-C04.9
"RTN","ONCCSV2",64,0)
 ;MelanomaGumLower C03.1, C06.2
"RTN","ONCCSV2",65,0)
 ;MelanomaGumOther C03.9
"RTN","ONCCSV2",66,0)
 ;MelanomaGumUpper C03.0
"RTN","ONCCSV2",67,0)
 ;MelanomaHypopharynx C12.9, C13.0-C13.2, C13.8-C13.9
"RTN","ONCCSV2",68,0)
 ;MelanomaLarynxGlottic C32.0
"RTN","ONCCSV2",69,0)
 ;MelanomaLarynxOther C32.3, C32.8-C32.9
"RTN","ONCCSV2",70,0)
 ;MelanomaLarynxSubglottic C32.2
"RTN","ONCCSV2",71,0)
 ;MelanomaLarynxSupraglottic C32.1
"RTN","ONCCSV2",72,0)
 ;MelanomaLipLower C00.1, C00.4, C00.6
"RTN","ONCCSV2",73,0)
 ;MelanomaLipOther C00.2, C00.5, C00.8-C00.9
"RTN","ONCCSV2",74,0)
 ;MelanomaLipUpper C00.0, C00.3
"RTN","ONCCSV2",75,0)
 ;MelanomaMouthOther C05.8-C05.9, C06.8-C06.9
"RTN","ONCCSV2",76,0)
 ;MelanomaNasalCavity C30.0
"RTN","ONCCSV2",77,0)
 ;MelanomaNasopharynx C11.0-C11.3, C11.8-C11.9
"RTN","ONCCSV2",78,0)
 ;MelanomaOropharynx C09.0-C09.1, C09.8-C09.9, C10.0, C10.2-C10.4, C10.8-C10.9
"RTN","ONCCSV2",79,0)
 ;MelanomaPalateHard C05.0
"RTN","ONCCSV2",80,0)
 ;MelanomaPalateSoft C05.1-C05.2
"RTN","ONCCSV2",81,0)
 ;MelanomaPharynxOther C14.0, C14.2-C14.8
"RTN","ONCCSV2",82,0)
 ;MelanomaSinusEthmoid C31.1
"RTN","ONCCSV2",83,0)
 ;MelanomaSinusMaxillary C31.0
"RTN","ONCCSV2",84,0)
 ;MelanomaSinusOther C31.2-C31.3, C31.8-C31.9
"RTN","ONCCSV2",85,0)
 ;MelanomaTongueAnterior C02.0-C02.3, C02.8-C02.9
"RTN","ONCCSV2",86,0)
 ;MelanomaTongueBase C01.9, C02.4
"RTN","ONCCSV2",87,0)
 S S34=$E(PS,3,4)
"RTN","ONCCSV2",88,0)
 I $$MELANOMA^ONCOU55(IEN),(S34="00")!(S34="01")!(S34="02")!(S34="03")!(S34="04")!(S34="05")!(S34="06")!(S34="09")!(S34=10)!(S34=11)!(S34=12)!(S34=13)!(S34=14)!(S34=31)!(S34=32)!(PS=67300) D  Q
"RTN","ONCCSV2",89,0)
 .I (PS=67060)!(PS=67061) D
"RTN","ONCCSV2",90,0)
 ..S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=610
"RTN","ONCCSV2",91,0)
 ..S:EXT=670 $P(^ONCO(165.5,IEN,"CS"),U,11)=700
"RTN","ONCCSV2",92,0)
 ..S:EXT=730 $P(^ONCO(165.5,IEN,"CS"),U,11)=790
"RTN","ONCCSV2",93,0)
 .;
"RTN","ONCCSV2",94,0)
 .I PS=67101 D
"RTN","ONCCSV2",95,0)
 ..S:EXT=360 $P(^ONCO(165.5,IEN,"CS"),U,11)=365
"RTN","ONCCSV2",96,0)
 .;
"RTN","ONCCSV2",97,0)
 .I $E(PS,3,4)="04" D
"RTN","ONCCSV2",98,0)
 ..S:EXT=640 $P(^ONCO(165.5,IEN,"CS"),U,11)=740
"RTN","ONCCSV2",99,0)
 ..S:EXT=770 $P(^ONCO(165.5,IEN,"CS"),U,11)=700
"RTN","ONCCSV2",100,0)
 .;
"RTN","ONCCSV2",101,0)
 .I (PS=67031)!(PS=67062)!(PS=67039)!(PS=67030) D
"RTN","ONCCSV2",102,0)
 ..S:EXT=790 $P(^ONCO(165.5,IEN,"CS"),U,11)=800
"RTN","ONCCSV2",103,0)
 .;
"RTN","ONCCSV2",104,0)
 .I (PS=67129)!($E(PS,3,4)=13) D  Q
"RTN","ONCCSV2",105,0)
 ..S:EXT=150 $P(^ONCO(165.5,IEN,"CS"),U,11)=420
"RTN","ONCCSV2",106,0)
 ..S:EXT=510 $P(^ONCO(165.5,IEN,"CS"),U,11)=450
"RTN","ONCCSV2",107,0)
 ..S:EXT=660 $P(^ONCO(165.5,IEN,"CS"),U,11)=635
"RTN","ONCCSV2",108,0)
 .;
"RTN","ONCCSV2",109,0)
 .I PS=67321 D
"RTN","ONCCSV2",110,0)
 ..S:EXT=650 $P(^ONCO(165.5,IEN,"CS"),U,11)=605
"RTN","ONCCSV2",111,0)
 ..S:EXT=660 $P(^ONCO(165.5,IEN,"CS"),U,11)=605
"RTN","ONCCSV2",112,0)
 ..S:EXT=680 $P(^ONCO(165.5,IEN,"CS"),U,11)=530
"RTN","ONCCSV2",113,0)
 .;
"RTN","ONCCSV2",114,0)
 .I $E(PS,3,4)="00" D
"RTN","ONCCSV2",115,0)
 ..S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=520
"RTN","ONCCSV2",116,0)
 .;
"RTN","ONCCSV2",117,0)
 .I (PS=67058)!(PS=67059)!(PS=67068)!(PS=67069) D
"RTN","ONCCSV2",118,0)
 ..S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=510
"RTN","ONCCSV2",119,0)
 ..S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=750
"RTN","ONCCSV2",120,0)
 .;
"RTN","ONCCSV2",121,0)
 .I PS=67300 D
"RTN","ONCCSV2",122,0)
 ..S:EXT=650 $P(^ONCO(165.5,IEN,"CS"),U,11)=750
"RTN","ONCCSV2",123,0)
 .;
"RTN","ONCCSV2",124,0)
 .I $E(PS,3,4)=11 D
"RTN","ONCCSV2",125,0)
 ..S:EXT=750 $P(^ONCO(165.5,IEN,"CS"),U,11)=790
"RTN","ONCCSV2",126,0)
 .;
"RTN","ONCCSV2",127,0)
 .I ($E(PS,3,4)="09")!(PS=67100)!(PS=67102)!(PS=67103)!(PS=67104)!(PS=67108)!(PS=67109) D
"RTN","ONCCSV2",128,0)
 ..S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=690
"RTN","ONCCSV2",129,0)
 ..S:EXT=760 $P(^ONCO(165.5,IEN,"CS"),U,11)=690
"RTN","ONCCSV2",130,0)
 .;
"RTN","ONCCSV2",131,0)
 .I PS=67050 D
"RTN","ONCCSV2",132,0)
 ..S:EXT=760 $P(^ONCO(165.5,IEN,"CS"),U,11)=730
"RTN","ONCCSV2",133,0)
 .;
"RTN","ONCCSV2",134,0)
 .I (PS=67051)!(PS=67052) D
"RTN","ONCCSV2",135,0)
 ..S:EXT=770 $P(^ONCO(165.5,IEN,"CS"),U,11)=675
"RTN","ONCCSV2",136,0)
 ..S:EXT=780 $P(^ONCO(165.5,IEN,"CS"),U,11)=680
"RTN","ONCCSV2",137,0)
 .;
"RTN","ONCCSV2",138,0)
 .I PS=67311 D
"RTN","ONCCSV2",139,0)
 ..S:EXT=240 $P(^ONCO(165.5,IEN,"CS"),U,11)=270
"RTN","ONCCSV2",140,0)
 ..S:EXT=300 $P(^ONCO(165.5,IEN,"CS"),U,11)=170
"RTN","ONCCSV2",141,0)
 ..S:EXT=620 $P(^ONCO(165.5,IEN,"CS"),U,11)=750
"RTN","ONCCSV2",142,0)
 ..S:EXT=630 $P(^ONCO(165.5,IEN,"CS"),U,11)=750
"RTN","ONCCSV2",143,0)
 .;
"RTN","ONCCSV2",144,0)
 .I (PS=67020)!(PS=67021)!(PS=67022)!(PS=67023)!(PS=67028)!(PS=67029) D
"RTN","ONCCSV2",145,0)
 ..S:EXT=740 $P(^ONCO(165.5,IEN,"CS"),U,11)=770
"RTN","ONCCSV2",146,0)
 .D SSF12
"RTN","ONCCSV2",147,0)
 ;
"RTN","ONCCSV2",148,0)
 ;MelanomaChoroid C69.3
"RTN","ONCCSV2",149,0)
 ;MelanomaCiliaryBody C69.4
"RTN","ONCCSV2",150,0)
 ;MelanomaIris C69.4
"RTN","ONCCSV2",151,0)
 I $$MELANOMA^ONCOU55(IEN),((PS=67693)!(PS=67694)) D  Q
"RTN","ONCCSV2",152,0)
 .S:(TS>980)&(TS<990) $P(^ONCO(165.5,IEN,"CS1"),U,10)=980
"RTN","ONCCSV2",153,0)
 .S:(SSF1>980)&(SSF1<990) $P(^ONCO(165.5,IEN,"CS"),U,5)=980
"RTN","ONCCSV2",154,0)
 .S:SSF1=990 $P(^ONCO(165.5,IEN,"CS"),U,5)=999
"RTN","ONCCSV2",155,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2",156,0)
 ;
"RTN","ONCCSV2",157,0)
 ;MelanomaConjunctiva C69.0
"RTN","ONCCSV2",158,0)
 I $$MELANOMA^ONCOU55(IEN),PS=67690 D  Q
"RTN","ONCCSV2",159,0)
 .S:EXT=150 $P(^ONCO(165.5,IEN,"CS"),U,11)=330
"RTN","ONCCSV2",160,0)
 .S:(SSF1>980)&(SSF1<990) $P(^ONCO(165.5,IEN,"CS"),U,5)=980
"RTN","ONCCSV2",161,0)
 .S:SSF1=990 $P(^ONCO(165.5,IEN,"CS"),U,5)=999
"RTN","ONCCSV2",162,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2",163,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,5)="" $P(^ONCO(165.5,IEN,"CS"),U,5)=988
"RTN","ONCCSV2",164,0)
 ;
"RTN","ONCCSV2",165,0)
 ;MelanomaEyeOther C69.1, C69.2, C69.5, C69.8-C69.9
"RTN","ONCCSV2",166,0)
 I $$MELANOMA^ONCOU55(IEN),((PS=67691)!(PS=67692)!(PS=67695)!(PS=67698)!(PS=67699)) D  Q
"RTN","ONCCSV2",167,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2",168,0)
 ;
"RTN","ONCCSV2",169,0)
 ;MelanomaSkin C44.0-C44.9, C51.0-C51.2, C51.8-C51.9, C60.0-C60.2, C60.8-C60.9, C63.2
"RTN","ONCCSV2",170,0)
 I $$MELANOMA^ONCOU55(IEN),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632) D  Q
"RTN","ONCCSV2",171,0)
 .S:METS=40 $P(^ONCO(165.5,IEN,"CS"),U,3)=60
"RTN","ONCCSV2",172,0)
 .S:(SSF1>980)&(SSF1<990) $P(^ONCO(165.5,IEN,"CS"),U,5)=980
"RTN","ONCCSV2",173,0)
 .S:SSF1=990 $P(^ONCO(165.5,IEN,"CS"),U,5)=999
"RTN","ONCCSV2",174,0)
 .D 5,6
"RTN","ONCCSV2",175,0)
 ;
"RTN","ONCCSV2",176,0)
 ;MerkelCellPenis C60.0-C60.2, C60.8-C60.9 (M-8247)
"RTN","ONCCSV2",177,0)
 ;MerkelCellScrotum C63.2 (M-8247)
"RTN","ONCCSV2",178,0)
 ;MerkelCellSkin C44.0, C44.2-C44.9 (M-8247) 
"RTN","ONCCSV2",179,0)
 ;MerkelCellVulva C51.0-C51.2, C51.8-C51.9 (M-8247)
"RTN","ONCCSV2",180,0)
 I HST14=8247,($E(PS,3,4)=60)!(PS=67632)!(PS=67440)!(PS=67442)!(PS=67443)!(PS=67444)!(PS=67445)!(PS=67446)!(PS=67447)!(PS=67448)!(PS=67449)!($E(PS,3,4)=51) D  Q
"RTN","ONCCSV2",181,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2",182,0)
 ;
"RTN","ONCCSV2",183,0)
 ;MycosisFungoides 
"RTN","ONCCSV2",184,0)
 ;C44.0-C44.9, C51.0-C51.2, C51.8-C51.9, C60.0-C60.2, C60.8-C60.9, C63.2
"RTN","ONCCSV2",185,0)
 ;(M-9700-9701)
"RTN","ONCCSV2",186,0)
 I (HST14=9700)!(HST14=9701),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632) D  Q
"RTN","ONCCSV2",187,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2",188,0)
 ;
"RTN","ONCCSV2",189,0)
 ;Retinoblastoma C69.0-C69.6, C69.8-C69.9 (M-9510-9514) 
"RTN","ONCCSV2",190,0)
 I (HST14=9510)!(HST14=9511)!(HST14=9512)!(HST14=9513)!(HST14=9514),$E(PS,3,4)=69 D  Q
"RTN","ONCCSV2",191,0)
 .S:METS=40 $P(^ONCO(165.5,IEN,"CS"),U,3)=80
"RTN","ONCCSV2",192,0)
 .S:METS=55 $P(^ONCO(165.5,IEN,"CS"),U,3)=80
"RTN","ONCCSV2",193,0)
 .S:SSF1="000" $P(^ONCO(165.5,IEN,"CS"),U,5)=970
"RTN","ONCCSV2",194,0)
 .S:SSF1="030" $P(^ONCO(165.5,IEN,"CS"),U,5)=300
"RTN","ONCCSV2",195,0)
 .S:SSF1="041" $P(^ONCO(165.5,IEN,"CS"),U,5)=410
"RTN","ONCCSV2",196,0)
 .S:SSF1="043" $P(^ONCO(165.5,IEN,"CS"),U,5)=430
"RTN","ONCCSV2",197,0)
 .S:SSF1="044" $P(^ONCO(165.5,IEN,"CS"),U,5)=440
"RTN","ONCCSV2",198,0)
 .S:SSF1="046" $P(^ONCO(165.5,IEN,"CS"),U,5)=460
"RTN","ONCCSV2",199,0)
 .S:SSF1="047" $P(^ONCO(165.5,IEN,"CS"),U,5)=470
"RTN","ONCCSV2",200,0)
 .S:SSF1="048" $P(^ONCO(165.5,IEN,"CS"),U,5)=440
"RTN","ONCCSV2",201,0)
 .S:SSF1="049" $P(^ONCO(165.5,IEN,"CS"),U,5)=490
"RTN","ONCCSV2",202,0)
 .S:SSF1="054" $P(^ONCO(165.5,IEN,"CS"),U,5)=540
"RTN","ONCCSV2",203,0)
 .S:SSF1="056" $P(^ONCO(165.5,IEN,"CS"),U,5)=560
"RTN","ONCCSV2",204,0)
 .S:SSF1="057" $P(^ONCO(165.5,IEN,"CS"),U,5)=570
"RTN","ONCCSV2",205,0)
 .S:SSF1="059" $P(^ONCO(165.5,IEN,"CS"),U,5)=590
"RTN","ONCCSV2",206,0)
 .S:SSF1="072" $P(^ONCO(165.5,IEN,"CS"),U,5)=765
"RTN","ONCCSV2",207,0)
 .S:SSF1="095" $P(^ONCO(165.5,IEN,"CS"),U,5)=950
"RTN","ONCCSV2",208,0)
 .S:SSF1="096" $P(^ONCO(165.5,IEN,"CS"),U,5)=960
"RTN","ONCCSV2",209,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2",210,0)
 ;
"RTN","ONCCSV2",211,0)
 D ^ONCCSV2A
"RTN","ONCCSV2",212,0)
 ;
"RTN","ONCCSV2",213,0)
 Q
"RTN","ONCCSV2",214,0)
 ;
"RTN","ONCCSV2",215,0)
1 ;SSF1 = 888 to 988
"RTN","ONCCSV2",216,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,5)=888 $P(^ONCO(165.5,IEN,"CS"),U,5)=988
"RTN","ONCCSV2",217,0)
 Q
"RTN","ONCCSV2",218,0)
 ;
"RTN","ONCCSV2",219,0)
2 ;SSF2 = 888 to 988
"RTN","ONCCSV2",220,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,6)=888 $P(^ONCO(165.5,IEN,"CS"),U,6)=988
"RTN","ONCCSV2",221,0)
 Q
"RTN","ONCCSV2",222,0)
 ;
"RTN","ONCCSV2",223,0)
3 ;SSF3 = 888 to 988
"RTN","ONCCSV2",224,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,7)=888 $P(^ONCO(165.5,IEN,"CS"),U,7)=988
"RTN","ONCCSV2",225,0)
 Q
"RTN","ONCCSV2",226,0)
 ;
"RTN","ONCCSV2",227,0)
4 ;SSF4 = 888 to 988
"RTN","ONCCSV2",228,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,8)=888 $P(^ONCO(165.5,IEN,"CS"),U,8)=988
"RTN","ONCCSV2",229,0)
 Q
"RTN","ONCCSV2",230,0)
 ;
"RTN","ONCCSV2",231,0)
5 ;SSF5 = 888 to 988
"RTN","ONCCSV2",232,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,9)=888 $P(^ONCO(165.5,IEN,"CS"),U,9)=988
"RTN","ONCCSV2",233,0)
 Q
"RTN","ONCCSV2",234,0)
 ;
"RTN","ONCCSV2",235,0)
6 ;SSF6 = 888 to 988
"RTN","ONCCSV2",236,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,10)=888 $P(^ONCO(165.5,IEN,"CS"),U,10)=988
"RTN","ONCCSV2",237,0)
 Q
"RTN","ONCCSV2",238,0)
 ;
"RTN","ONCCSV2",239,0)
SSF12 ;SSF1 989 to 980
"RTN","ONCCSV2",240,0)
 ;SSF1 981-988 to 980
"RTN","ONCCSV2",241,0)
 ;SSF2 888 to 987
"RTN","ONCCSV2",242,0)
 S:(SSF1>980)&(SSF1<990) $P(^ONCO(165.5,IEN,"CS"),U,5)=980
"RTN","ONCCSV2",243,0)
 S:SSF2=888 $P(^ONCO(165.5,IEN,"CS"),U,6)=987
"RTN","ONCCSV2",244,0)
 Q
"RTN","ONCCSV2",245,0)
 ;
"RTN","ONCCSV2",246,0)
CLEANUP ;Cleanup
"RTN","ONCCSV2",247,0)
 K IEN
"RTN","ONCCSV2A")
0^65^B145990753
"RTN","ONCCSV2A",1,0)
ONCCSV2A ;Hines OIFO/GWB - Collaborative Staging v2 Conversion ;06/23/10
"RTN","ONCCSV2A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCCSV2A",3,0)
 ;
"RTN","ONCCSV2A",4,0)
 N EXT,LN,METS,SD,TS,HST,HST14,QUIT,S34,PS
"RTN","ONCCSV2A",5,0)
 N SSF1,SSF2,SSF3,SSF4,SSF5,SSF6
"RTN","ONCCSV2A",6,0)
 S PS=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCCSV2A",7,0)
 S HST=$$HIST^ONCFUNC(IEN)
"RTN","ONCCSV2A",8,0)
 S HST14=$E(HST,1,4)
"RTN","ONCCSV2A",9,0)
 S TS=$P($G(^ONCO(165.5,IEN,"CS1")),U,10)
"RTN","ONCCSV2A",10,0)
 S EXT=$P($G(^ONCO(165.5,IEN,"CS")),U,11)
"RTN","ONCCSV2A",11,0)
 S LN=$P($G(^ONCO(165.5,IEN,"CS")),U,12)
"RTN","ONCCSV2A",12,0)
 S METS=$P($G(^ONCO(165.5,IEN,"CS")),U,3)
"RTN","ONCCSV2A",13,0)
 S SSF1=$P($G(^ONCO(165.5,IEN,"CS")),U,5)
"RTN","ONCCSV2A",14,0)
 S SSF2=$P($G(^ONCO(165.5,IEN,"CS")),U,6)
"RTN","ONCCSV2A",15,0)
 S SSF3=$P($G(^ONCO(165.5,IEN,"CS")),U,7)
"RTN","ONCCSV2A",16,0)
 S SSF4=$P($G(^ONCO(165.5,IEN,"CS")),U,8)
"RTN","ONCCSV2A",17,0)
 S SSF5=$P($G(^ONCO(165.5,IEN,"CS")),U,9)
"RTN","ONCCSV2A",18,0)
 S SSF6=$P($G(^ONCO(165.5,IEN,"CS")),U,10)
"RTN","ONCCSV2A",19,0)
 S SD=$P($G(^ONCO(165.5,IEN,"CS3")),U,1)
"RTN","ONCCSV2A",20,0)
 ;
"RTN","ONCCSV2A",21,0)
 ;AdrenalGland C74.0-C74.1, C74.9
"RTN","ONCCSV2A",22,0)
 I $E(PS,3,4)=74 D  Q
"RTN","ONCCSV2A",23,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",24,0)
 ;
"RTN","ONCCSV2A",25,0)
 ;Appendix C18.1
"RTN","ONCCSV2A",26,0)
 ;CarcinoidAppendix C18.1 (M-8153, 8240-8242, 8246, 8249) 
"RTN","ONCCSV2A",27,0)
 ;GISTAppendix C18.1 (M-8935-8936) 
"RTN","ONCCSV2A",28,0)
 I (PS=67181) D  Q
"RTN","ONCCSV2A",29,0)
 .D
"RTN","ONCCSV2A",30,0)
 ..I (HST14=8153)!((HST14>8239)&(HST14<8243))!(HST14=8246)!(HST14=8249) Q
"RTN","ONCCSV2A",31,0)
 ..I (HST14=8935)!(HST14=8936) Q
"RTN","ONCCSV2A",32,0)
 ..S:SSF1="080" $P(^ONCO(165.5,IEN,"CS"),U,5)=997
"RTN","ONCCSV2A",33,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",34,0)
 ;
"RTN","ONCCSV2A",35,0)
 ;BileDuctsIntraHepat C22.0, C22.1
"RTN","ONCCSV2A",36,0)
 ;Liver C22.0, C22.1
"RTN","ONCCSV2A",37,0)
 I (PS=67220)!(PS=67221) D  Q
"RTN","ONCCSV2A",38,0)
 .I (PS=67220)&((HST14>7999)&(HST14<8158)!(HST14>8161)&(HST14<8176)!(HST14>8189)&(HST14<9137)!(HST14>9140)&(HST14<9583)!(HST14=9700)!(HST14=9701)) D
"RTN","ONCCSV2A",39,0)
 ..S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=350
"RTN","ONCCSV2A",40,0)
 ..S:EXT=300 $P(^ONCO(165.5,IEN,"CS"),U,11)=390
"RTN","ONCCSV2A",41,0)
 ..S:EXT=500 $P(^ONCO(165.5,IEN,"CS"),U,11)=170
"RTN","ONCCSV2A",42,0)
 ..S:EXT=510 $P(^ONCO(165.5,IEN,"CS"),U,11)=150
"RTN","ONCCSV2A",43,0)
 ..S:EXT=520 $P(^ONCO(165.5,IEN,"CS"),U,11)=370
"RTN","ONCCSV2A",44,0)
 ..S:EXT=530 $P(^ONCO(165.5,IEN,"CS"),U,11)=250
"RTN","ONCCSV2A",45,0)
 ..S:EXT=540 $P(^ONCO(165.5,IEN,"CS"),U,11)=250
"RTN","ONCCSV2A",46,0)
 ..S:EXT=550 $P(^ONCO(165.5,IEN,"CS"),U,11)=380
"RTN","ONCCSV2A",47,0)
 ..S:EXT=560 $P(^ONCO(165.5,IEN,"CS"),U,11)=420
"RTN","ONCCSV2A",48,0)
 ..S:EXT=580 $P(^ONCO(165.5,IEN,"CS"),U,11)=645
"RTN","ONCCSV2A",49,0)
 ..S:EXT=650 $P(^ONCO(165.5,IEN,"CS"),U,11)=440
"RTN","ONCCSV2A",50,0)
 ..S:EXT=670 $P(^ONCO(165.5,IEN,"CS"),U,11)=635
"RTN","ONCCSV2A",51,0)
 ..S:EXT=760 $P(^ONCO(165.5,IEN,"CS"),U,11)=770
"RTN","ONCCSV2A",52,0)
 .I (PS=67221)&((HST14=8170)!(HST14=8171)!(HST14=8171)!(HST14=8172)!(HST14=8173)!(HST14=8174)!(HST14=8175)) D
"RTN","ONCCSV2A",53,0)
 ..S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=350
"RTN","ONCCSV2A",54,0)
 ..S:EXT=300 $P(^ONCO(165.5,IEN,"CS"),U,11)=390
"RTN","ONCCSV2A",55,0)
 ..S:EXT=500 $P(^ONCO(165.5,IEN,"CS"),U,11)=170
"RTN","ONCCSV2A",56,0)
 ..S:EXT=510 $P(^ONCO(165.5,IEN,"CS"),U,11)=150
"RTN","ONCCSV2A",57,0)
 ..S:EXT=520 $P(^ONCO(165.5,IEN,"CS"),U,11)=370
"RTN","ONCCSV2A",58,0)
 ..S:EXT=530 $P(^ONCO(165.5,IEN,"CS"),U,11)=250
"RTN","ONCCSV2A",59,0)
 ..S:EXT=540 $P(^ONCO(165.5,IEN,"CS"),U,11)=250
"RTN","ONCCSV2A",60,0)
 ..S:EXT=550 $P(^ONCO(165.5,IEN,"CS"),U,11)=380
"RTN","ONCCSV2A",61,0)
 ..S:EXT=560 $P(^ONCO(165.5,IEN,"CS"),U,11)=420
"RTN","ONCCSV2A",62,0)
 ..S:EXT=580 $P(^ONCO(165.5,IEN,"CS"),U,11)=645
"RTN","ONCCSV2A",63,0)
 ..S:EXT=650 $P(^ONCO(165.5,IEN,"CS"),U,11)=440
"RTN","ONCCSV2A",64,0)
 ..S:EXT=670 $P(^ONCO(165.5,IEN,"CS"),U,11)=635
"RTN","ONCCSV2A",65,0)
 ..S:EXT=760 $P(^ONCO(165.5,IEN,"CS"),U,11)=770
"RTN","ONCCSV2A",66,0)
 .D 3,4,5,6
"RTN","ONCCSV2A",67,0)
 ;
"RTN","ONCCSV2A",68,0)
 ;Bladder C67.0-C67.9
"RTN","ONCCSV2A",69,0)
 I $E(PS,3,4)=67 D  Q
"RTN","ONCCSV2A",70,0)
 .S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=240
"RTN","ONCCSV2A",71,0)
 .S:EXT=400 $P(^ONCO(165.5,IEN,"CS"),U,11)=430
"RTN","ONCCSV2A",72,0)
 .S:EXT=450 $P(^ONCO(165.5,IEN,"CS"),U,11)=810
"RTN","ONCCSV2A",73,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",74,0)
 ;
"RTN","ONCCSV2A",75,0)
 ;Bone C40.0-C40.3, C40.8-C40.9, C41.0-C41.4, C41.8-C41.9
"RTN","ONCCSV2A",76,0)
 I ($E(PS,3,4)=40)!($E(PS,3,4)=41) D  Q
"RTN","ONCCSV2A",77,0)
 .S:METS=55 $P(^ONCO(165.5,IEN,"CS"),U,3)=60
"RTN","ONCCSV2A",78,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",79,0)
 ;
"RTN","ONCCSV2A",80,0)
 ;Brain C70.0, C71.0-C71.9
"RTN","ONCCSV2A",81,0)
 I (PS=67700)!($E(PS,3,4)=71) D  Q
"RTN","ONCCSV2A",82,0)
 .S:LN=888 $P(^ONCO(165.5,IEN,"CS"),U,12)=988
"RTN","ONCCSV2A",83,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",84,0)
 ;
"RTN","ONCCSV2A",85,0)
 ;Breast C50.0-C50.6, C50.8-C50.9
"RTN","ONCCSV2A",86,0)
 I $E(PS,3,4)=50 D  Q
"RTN","ONCCSV2A",87,0)
 .S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=710
"RTN","ONCCSV2A",88,0)
 .S:SSF4=888 $P(^ONCO(165.5,IEN,"CS"),U,8)=987
"RTN","ONCCSV2A",89,0)
 .S:SSF5=888 $P(^ONCO(165.5,IEN,"CS"),U,9)=987
"RTN","ONCCSV2A",90,0)
 .S:SSF6=888 $P(^ONCO(165.5,IEN,"CS"),U,10)=987
"RTN","ONCCSV2A",91,0)
 ;
"RTN","ONCCSV2A",92,0)
 ;BuccalMucosa C06.0-C06.1
"RTN","ONCCSV2A",93,0)
 I (PS=67060)!(PS=67061) D  Q
"RTN","ONCCSV2A",94,0)
 .S:EXT=650 $P(^ONCO(165.5,IEN,"CS"),U,11)=550
"RTN","ONCCSV2A",95,0)
 .S:EXT=670 $P(^ONCO(165.5,IEN,"CS"),U,11)=740
"RTN","ONCCSV2A",96,0)
 .S:EXT=730 $P(^ONCO(165.5,IEN,"CS"),U,11)=805
"RTN","ONCCSV2A",97,0)
 .D SSF12
"RTN","ONCCSV2A",98,0)
 ;
"RTN","ONCCSV2A",99,0)
 ;CNSOther C70.1, C70.9, C72.0-C72.5, C72.8-C72.9
"RTN","ONCCSV2A",100,0)
 I (PS=67701)!(PS=67709)!($E(PS,3,4)=72) D  Q
"RTN","ONCCSV2A",101,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",102,0)
 ;
"RTN","ONCCSV2A",103,0)
 ;Colon C18.0, C18.2-C18.9
"RTN","ONCCSV2A",104,0)
 ;GISTColon C18.0, C18.2-C18.9 (M-8935-8936) 
"RTN","ONCCSV2A",105,0)
 ;NETColon C18.0, C18.2-C18.9 (M-8153, 8240-8242, 8246, 8249) 
"RTN","ONCCSV2A",106,0)
 I (PS=67180)!(PS=67182)!(PS=67183)!(PS=67184)!(PS=67185)!(PS=67186)!(PS=67187)!(PS=67188)!(PS=67189) D  Q
"RTN","ONCCSV2A",107,0)
 .D
"RTN","ONCCSV2A",108,0)
 ..I (HST14=8935)!(HST14=8936) Q
"RTN","ONCCSV2A",109,0)
 ..I (HST14=8153)!((HST14>8239)&(HST14<8243))!(HST14=8246)!(HST14=8249) Q
"RTN","ONCCSV2A",110,0)
 ..S:SSF1="080" $P(^ONCO(165.5,IEN,"CS"),U,5)=997
"RTN","ONCCSV2A",111,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",112,0)
 ;
"RTN","ONCCSV2A",113,0)
 ;Conjunctiva C69.0
"RTN","ONCCSV2A",114,0)
 I PS=67690 D  Q
"RTN","ONCCSV2A",115,0)
 .S:(TS>980)&(TS<990) $P(^ONCO(165.5,IEN,"CS1"),U,10)=980
"RTN","ONCCSV2A",116,0)
 .S:EXT=700 $P(^ONCO(165.5,IEN,"CS"),U,11)=730
"RTN","ONCCSV2A",117,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",118,0)
 ;
"RTN","ONCCSV2A",119,0)
 ;CorpusAdenosarcoma C54.0-C54.3, C54.8-C54.9, C55.9
"RTN","ONCCSV2A",120,0)
 ;(M-8933) 
"RTN","ONCCSV2A",121,0)
 I (($E(PS,3,4)=54)!(PS=67559))&(HST14=8933) D  Q
"RTN","ONCCSV2A",122,0)
 .S:EXT=700 $P(^ONCO(165.5,IEN,"CS"),U,11)=710
"RTN","ONCCSV2A",123,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",124,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,6)="" $P(^ONCO(165.5,IEN,"CS"),U,6)=988
"RTN","ONCCSV2A",125,0)
 ;
"RTN","ONCCSV2A",126,0)
 ;CorpusCarcinoma C54.0-C54.3, C54.8-C54.9, C55.9
"RTN","ONCCSV2A",127,0)
 ;(M-8000-8790,8980-8981,9700-9701) 
"RTN","ONCCSV2A",128,0)
 I (($E(PS,3,4)=54)!(PS=67559))&((HST14>7999)&(HST14<8791)!(HST14=8980)!(HST14=8981)!(HST14=9700)!(HST14=9701)) D  Q
"RTN","ONCCSV2A",129,0)
 .S:EXT=620 $P(^ONCO(165.5,IEN,"CS"),U,11)=645
"RTN","ONCCSV2A",130,0)
 .S:EXT=700 $P(^ONCO(165.5,IEN,"CS"),U,11)=710
"RTN","ONCCSV2A",131,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",132,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,6)="" $P(^ONCO(165.5,IEN,"CS"),U,6)=988
"RTN","ONCCSV2A",133,0)
 ;
"RTN","ONCCSV2A",134,0)
 ;CorpusSarcoma C54.0-C54.3, C54.8-C54.9, C55.9
"RTN","ONCCSV2A",135,0)
 ;(M-8800-8932,8934-8974,8982-9136,9141-9582)
"RTN","ONCCSV2A",136,0)
 I (($E(PS,3,4)=54)!(PS=67559))&((HST14>8799)&(HST14<8933)!(HST14>8933)&(HST14<8975)!(HST14>8981)&(HST14<9137)!(HST14>9140)&(HST14<9583)) D  Q
"RTN","ONCCSV2A",137,0)
 .S:EXT=700 $P(^ONCO(165.5,IEN,"CS"),U,11)=710
"RTN","ONCCSV2A",138,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",139,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,6)="" $P(^ONCO(165.5,IEN,"CS"),U,6)=988
"RTN","ONCCSV2A",140,0)
 ;
"RTN","ONCCSV2A",141,0)
 ;EndocrineOther C37.9, C75.0, C75.4-C75.5, C75.8-C75.9
"RTN","ONCCSV2A",142,0)
 I (PS=67379)!(PS=67750)!(PS=67754)!(PS=67755)!(PS=67758)!(PS=67759) D  Q
"RTN","ONCCSV2A",143,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",144,0)
 ;
"RTN","ONCCSV2A",145,0)
 ;EpiglottisAnterior C10.1
"RTN","ONCCSV2A",146,0)
 I PS=67101 D  Q
"RTN","ONCCSV2A",147,0)
 .S:EXT=200 $P(^ONCO(165.5,IEN,"CS"),U,11)=305
"RTN","ONCCSV2A",148,0)
 .D SSF12
"RTN","ONCCSV2A",149,0)
 ;
"RTN","ONCCSV2A",150,0)
 ;Esophagus C15.0-C15.5, C15.8-C15.9
"RTN","ONCCSV2A",151,0)
 ;GISTEsophagus  C15.0-C15.5, C15.8-C15.9 (M-8935-8936) 
"RTN","ONCCSV2A",152,0)
 I $E(PS,3,4)=15 D  Q
"RTN","ONCCSV2A",153,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",154,0)
 ;
"RTN","ONCCSV2A",155,0)
 ;EsophagusGEJunction C16.0, C16.1, C16.2
"RTN","ONCCSV2A",156,0)
 ;GISTStomach C16.0-C16.6, C16.8-C16.9 (M-8935-8936)
"RTN","ONCCSV2A",157,0)
 ;NETStomach C16.0-C16.6, C16.8-C16.9 (M-8153, 8240-8242, 8246, 8249) 
"RTN","ONCCSV2A",158,0)
 ;Stomach C16.1-C16.6, C16.8-C16.9
"RTN","ONCCSV2A",159,0)
 I $E(PS,3,4)=16 D  Q
"RTN","ONCCSV2A",160,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",161,0)
 ;
"RTN","ONCCSV2A",162,0)
 ;EyeOther C69.1-C69.4, C69.8-C69.9
"RTN","ONCCSV2A",163,0)
 I $E(PS,3,4)=69 D  Q
"RTN","ONCCSV2A",164,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",165,0)
 ;
"RTN","ONCCSV2A",166,0)
 ;FallopianTube C57.0
"RTN","ONCCSV2A",167,0)
 I PS=67570 D  Q
"RTN","ONCCSV2A",168,0)
 .S:EXT=700 $P(^ONCO(165.5,IEN,"CS"),U,11)=680
"RTN","ONCCSV2A",169,0)
 .S:EXT=710 $P(^ONCO(165.5,IEN,"CS"),U,11)=660
"RTN","ONCCSV2A",170,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",171,0)
 ;
"RTN","ONCCSV2A",172,0)
 ;FloorMouth C04.0-C04.1, C04.8-C04.9
"RTN","ONCCSV2A",173,0)
 I $E(PS,3,4)="04" D  Q
"RTN","ONCCSV2A",174,0)
 .S:EXT=640 $P(^ONCO(165.5,IEN,"CS"),U,11)=550
"RTN","ONCCSV2A",175,0)
 .D SSF12
"RTN","ONCCSV2A",176,0)
 ;
"RTN","ONCCSV2A",177,0)
 ;Gallbladder C23.9
"RTN","ONCCSV2A",178,0)
 I PS=67239 D  Q
"RTN","ONCCSV2A",179,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",180,0)
 ;
"RTN","ONCCSV2A",181,0)
 ;GenitalFemaleOther C57.7-C57.9
"RTN","ONCCSV2A",182,0)
 I (PS=67577)!(PS=67578)!(PS=67579) D  Q
"RTN","ONCCSV2A",183,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",184,0)
 ;
"RTN","ONCCSV2A",185,0)
 ;GenitalMaleOther C63.0-C63.1, C63.7-C63.9
"RTN","ONCCSV2A",186,0)
 I (PS=67630)!(PS=67631)!(PS=67637)!(PS=67639) D  Q
"RTN","ONCCSV2A",187,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",188,0)
 ;
"RTN","ONCCSV2A",189,0)
 ;GISTPeritoneum C48.0-C48.2, C48.8 (M-8935-8936) 
"RTN","ONCCSV2A",190,0)
 ;Peritoneum C48.1-C48.2, C48.8
"RTN","ONCCSV2A",191,0)
 ;PeritoneumFemaleGen C48.0-C48.2, C48.8
"RTN","ONCCSV2A",192,0)
 I $E(PS,3,4)=48 D  Q
"RTN","ONCCSV2A",193,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",194,0)
 ;
"RTN","ONCCSV2A",195,0)
 ;GISTRectum C19.9, C20.9 (M-8935-8936)
"RTN","ONCCSV2A",196,0)
 ;NETRectum C19.9, C20.9 (M-8153, 8240-8242, 8246, 8249)
"RTN","ONCCSV2A",197,0)
 ;Rectum C19.9, C20.9
"RTN","ONCCSV2A",198,0)
 I (PS=67199)!(PS=67209) D  Q
"RTN","ONCCSV2A",199,0)
 .D
"RTN","ONCCSV2A",200,0)
 ..I (HST14=8935)!(HST14=8936) Q
"RTN","ONCCSV2A",201,0)
 ..I (HST14=8153)!((HST14>8239)&(HST14<8243))!(HST14=8246)!(HST14=8249) Q
"RTN","ONCCSV2A",202,0)
 ..S:SSF1="080" $P(^ONCO(165.5,IEN,"CS"),U,5)=997
"RTN","ONCCSV2A",203,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",204,0)
 ;
"RTN","ONCCSV2A",205,0)
 ;GISTSmallIntestine C17.0-C17.3, C17.8-C17.9 (M-8935-8936)
"RTN","ONCCSV2A",206,0)
 ;NETSmallIntestine C17.0-C17.3, C17.8-C17.9 (M-8153, 8240-8242, 8246,
"RTN","ONCCSV2A",207,0)
 ;8249)
"RTN","ONCCSV2A",208,0)
 ;SmallIntestine C17.0-C17.3, C17.8-C17.9
"RTN","ONCCSV2A",209,0)
 I $E(PS,3,4)=17 D  Q
"RTN","ONCCSV2A",210,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",211,0)
 ;
"RTN","ONCCSV2A",212,0)
 ;GumLower C03.1, C06.2
"RTN","ONCCSV2A",213,0)
 ;GumOther C03.9
"RTN","ONCCSV2A",214,0)
 ;GumUpper C03.0
"RTN","ONCCSV2A",215,0)
 I (PS=67031)!(PS=67062)!(PS=67039)!(PS=67030) D  Q
"RTN","ONCCSV2A",216,0)
 .S:EXT=790 $P(^ONCO(165.5,IEN,"CS"),U,11)=805
"RTN","ONCCSV2A",217,0)
 .D SSF12
"RTN","ONCCSV2A",218,0)
 ;
"RTN","ONCCSV2A",219,0)
 ;HeartMediastinum C38.0-C38.3, C38.8
"RTN","ONCCSV2A",220,0)
 I (PS=67380)!(PS=67381)!(PS=67382)!(PS=67383)!(PS=67388) D  Q
"RTN","ONCCSV2A",221,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",222,0)
 ;
"RTN","ONCCSV2A",223,0)
 ;Hypopharynx C12.9, C13.0-C13.2, C13.8-C13.9
"RTN","ONCCSV2A",224,0)
 I (PS=67129)!($E(PS,3,4)=13) D  Q
"RTN","ONCCSV2A",225,0)
 .S:EXT=150 $P(^ONCO(165.5,IEN,"CS"),U,11)=420
"RTN","ONCCSV2A",226,0)
 .S:EXT=510 $P(^ONCO(165.5,IEN,"CS"),U,11)=450
"RTN","ONCCSV2A",227,0)
 .S:EXT=610 $P(^ONCO(165.5,IEN,"CS"),U,11)=560
"RTN","ONCCSV2A",228,0)
 .S:EXT=660 $P(^ONCO(165.5,IEN,"CS"),U,11)=635
"RTN","ONCCSV2A",229,0)
 .D SSF12
"RTN","ONCCSV2A",230,0)
 ;
"RTN","ONCCSV2A",231,0)
 ;IllDefinedOther
"RTN","ONCCSV2A",232,0)
 ;C42.0-C42.4, C76.0-C76.5, C76.7-C76.8, C77.0-C77.5, C77.8-C77.9, C80.9
"RTN","ONCCSV2A",233,0)
 I ($E(PS,3,4)=42)!($E(PS,3,4)=76)!($E(PS,3,4)=77)!(PS=67809) D  Q
"RTN","ONCCSV2A",234,0)
 .S:EXT=888 $P(^ONCO(165.5,IEN,"CS"),U,11)=988
"RTN","ONCCSV2A",235,0)
 .S:LN=888 $P(^ONCO(165.5,IEN,"CS"),U,12)=988
"RTN","ONCCSV2A",236,0)
 .S:METS=88 $P(^ONCO(165.5,IEN,"CS"),U,3)=98
"RTN","ONCCSV2A",237,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",238,0)
 ;
"RTN","ONCCSV2A",239,0)
 ;IntracranialGland C75.1, C75.2, C75.3
"RTN","ONCCSV2A",240,0)
 I (PS=67751)!(PS=67752)!(PS=67753) D  Q
"RTN","ONCCSV2A",241,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",242,0)
 ;
"RTN","ONCCSV2A",243,0)
 ;KidneyParenchyma C64.9
"RTN","ONCCSV2A",244,0)
 I PS=67649 D  Q
"RTN","ONCCSV2A",245,0)
 .S:EXT=390 $P(^ONCO(165.5,IEN,"CS"),U,11)=625
"RTN","ONCCSV2A",246,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",247,0)
 ;
"RTN","ONCCSV2A",248,0)
 ;KidneyRenalPelvis C65.9, C66.9
"RTN","ONCCSV2A",249,0)
 I (PS=67659)!(PS=67669) D  Q
"RTN","ONCCSV2A",250,0)
 .S:EXT=750 $P(^ONCO(165.5,IEN,"CS"),U,11)=690
"RTN","ONCCSV2A",251,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",252,0)
 ;
"RTN","ONCCSV2A",253,0)
 ;LacrimalGland C69.5
"RTN","ONCCSV2A",254,0)
 ;LacrimalSac C69.5
"RTN","ONCCSV2A",255,0)
 I PS=67695 D  Q
"RTN","ONCCSV2A",256,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",257,0)
 ;
"RTN","ONCCSV2A",258,0)
 ;LarynxGlottic C32.0
"RTN","ONCCSV2A",259,0)
 ;LarynxOther C32.3, C32.8-C32.9
"RTN","ONCCSV2A",260,0)
 ;LarynxSubglottic C32.2
"RTN","ONCCSV2A",261,0)
 ;LarynxSupraglottic C32.1
"RTN","ONCCSV2A",262,0)
 I $E(PS,3,4)=32 D  Q
"RTN","ONCCSV2A",263,0)
 .I PS=67320 S:EXT=100 $P(^ONCO(165.5,IEN,"CS"),U,11)=130
"RTN","ONCCSV2A",264,0)
 .I PS=67322 S:EXT=730 $P(^ONCO(165.5,IEN,"CS"),U,11)=800
"RTN","ONCCSV2A",265,0)
 .I PS=67321 S:EXT=670 $P(^ONCO(165.5,IEN,"CS"),U,11)=690
"RTN","ONCCSV2A",266,0)
 .D SSF12
"RTN","ONCCSV2A",267,0)
 ;
"RTN","ONCCSV2A",268,0)
 ;LipLower C00.1, C00.4, C00.6
"RTN","ONCCSV2A",269,0)
 ;LipOther C00.2, C00.5, C00.8-C00.9
"RTN","ONCCSV2A",270,0)
 ;LipUpper C00.0, C00.3
"RTN","ONCCSV2A",271,0)
 ;MiddleEar C30.1
"RTN","ONCCSV2A",272,0)
 I ($E(PS,3,4)="00")!(PS=67301) D  Q
"RTN","ONCCSV2A",273,0)
 .D SSF12
"RTN","ONCCSV2A",274,0)
 ;
"RTN","ONCCSV2A",275,0)
 ;Lung C34.0-C34.3, C34.8-C34.9
"RTN","ONCCSV2A",276,0)
 I $E(PS,3,4)=34 D  Q
"RTN","ONCCSV2A",277,0)
 .S:METS=10 $P(^ONCO(165.5,IEN,"CS"),U,3)=30
"RTN","ONCCSV2A",278,0)
 .S:METS=39 $P(^ONCO(165.5,IEN,"CS"),U,3)=23
"RTN","ONCCSV2A",279,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",280,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,5)="" $P(^ONCO(165.5,IEN,"CS"),U,5)=988
"RTN","ONCCSV2A",281,0)
 ;
"RTN","ONCCSV2A",282,0)
 ;MouthOther C05.8-C05.9, C06.8-C06.9
"RTN","ONCCSV2A",283,0)
 I (PS=67058)!(PS=67059)!(PS=67068)!(PS=67069) D  Q
"RTN","ONCCSV2A",284,0)
 .S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=800
"RTN","ONCCSV2A",285,0)
 .D SSF12
"RTN","ONCCSV2A",286,0)
 ;
"RTN","ONCCSV2A",287,0)
 ;NasalCavity C30.0
"RTN","ONCCSV2A",288,0)
 I PS=67300 D  Q
"RTN","ONCCSV2A",289,0)
 .S:EXT=710 $P(^ONCO(165.5,IEN,"CS"),U,11)=760
"RTN","ONCCSV2A",290,0)
 .D SSF12
"RTN","ONCCSV2A",291,0)
 ;
"RTN","ONCCSV2A",292,0)
 ;Nasopharynx C11.0-C11.3, C11.8-C11.9
"RTN","ONCCSV2A",293,0)
 I $E(PS,3,4)=11 D  Q
"RTN","ONCCSV2A",294,0)
 .S:EXT=750 $P(^ONCO(165.5,IEN,"CS"),U,11)=710
"RTN","ONCCSV2A",295,0)
 .D SSF12
"RTN","ONCCSV2A",296,0)
 ;
"RTN","ONCCSV2A",297,0)
 ;Orbit C69.6
"RTN","ONCCSV2A",298,0)
 I PS=67696 D  Q
"RTN","ONCCSV2A",299,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",300,0)
 ;
"RTN","ONCCSV2A",301,0)
 ;Oropharynx C09.0-C09.1, C09.8-C09.9, C10.0, C10.2-C10.4, C10.8-C10.9
"RTN","ONCCSV2A",302,0)
 I ($E(PS,3,4)="09")!(PS=67100)!(PS=67102)!(PS=67103)!(PS=67104)!(PS=67108)!(PS=67109) D  Q
"RTN","ONCCSV2A",303,0)
 .S:EXT=410 $P(^ONCO(165.5,IEN,"CS"),U,11)=630
"RTN","ONCCSV2A",304,0)
 .S:EXT=620 $P(^ONCO(165.5,IEN,"CS"),U,11)=710
"RTN","ONCCSV2A",305,0)
 .S:EXT=760 $P(^ONCO(165.5,IEN,"CS"),U,11)=750
"RTN","ONCCSV2A",306,0)
 .D SSF12
"RTN","ONCCSV2A",307,0)
 ;
"RTN","ONCCSV2A",308,0)
 ;Ovary C56.9
"RTN","ONCCSV2A",309,0)
 I PS=67569 D  Q
"RTN","ONCCSV2A",310,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",311,0)
 ;
"RTN","ONCCSV2A",312,0)
 ;PalateHard C05.0
"RTN","ONCCSV2A",313,0)
 ;PalateSoft C05.1-C05.2
"RTN","ONCCSV2A",314,0)
 I (PS=67050)!(PS=67051)!(PS=67052) D  Q
"RTN","ONCCSV2A",315,0)
 .I PS=67050 D
"RTN","ONCCSV2A",316,0)
 ..S:EXT=760 $P(^ONCO(165.5,IEN,"CS"),U,11)=790
"RTN","ONCCSV2A",317,0)
 .I (PS=67051)!(PS=67052) D
"RTN","ONCCSV2A",318,0)
 ..S:EXT=770 $P(^ONCO(165.5,IEN,"CS"),U,11)=670
"RTN","ONCCSV2A",319,0)
 .D SSF12
"RTN","ONCCSV2A",320,0)
 ;
"RTN","ONCCSV2A",321,0)
 ;ParotidGland C07.9
"RTN","ONCCSV2A",322,0)
 I PS=67079 D  Q
"RTN","ONCCSV2A",323,0)
 .S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=405
"RTN","ONCCSV2A",324,0)
 .D SSF12
"RTN","ONCCSV2A",325,0)
 ;
"RTN","ONCCSV2A",326,0)
 ;PharyngealTonsil C11.1
"RTN","ONCCSV2A",327,0)
 I PS=67111 D  Q
"RTN","ONCCSV2A",328,0)
 .S:EXT=570 $P(^ONCO(165.5,IEN,"CS"),U,11)=610
"RTN","ONCCSV2A",329,0)
 .D SSF12
"RTN","ONCCSV2A",330,0)
 ;
"RTN","ONCCSV2A",331,0)
 ;PharynxOther C14.0, C14.2, C14.8
"RTN","ONCCSV2A",332,0)
 I (PS=67140)!(PS=67142)!(PS=67148) D  Q
"RTN","ONCCSV2A",333,0)
 .D SSF12
"RTN","ONCCSV2A",334,0)
 ;
"RTN","ONCCSV2A",335,0)
 ;Placenta C58.9
"RTN","ONCCSV2A",336,0)
 I PS=67589 D  Q
"RTN","ONCCSV2A",337,0)
 .S:LN=888 $P(^ONCO(165.5,IEN,"CS"),U,12)=988
"RTN","ONCCSV2A",338,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",339,0)
 ;
"RTN","ONCCSV2A",340,0)
 ;Pleura C38.4
"RTN","ONCCSV2A",341,0)
 I PS=67384 D  Q
"RTN","ONCCSV2A",342,0)
 .S:EXT=100 $P(^ONCO(165.5,IEN,"CS"),U,11)=160
"RTN","ONCCSV2A",343,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",344,0)
 ;
"RTN","ONCCSV2A",345,0)
 ;Prostate C61.9
"RTN","ONCCSV2A",346,0)
 I PS=67619 D  Q
"RTN","ONCCSV2A",347,0)
 .S:METS=45 $P(^ONCO(165.5,IEN,"CS"),U,3)=60
"RTN","ONCCSV2A",348,0)
 .S:SSF1="000" $P(^ONCO(165.5,IEN,"CS"),U,5)=998
"RTN","ONCCSV2A",349,0)
 .S:(SSF1>980)&(SSF1<990) $P(^ONCO(165.5,IEN,"CS"),U,5)=980
"RTN","ONCCSV2A",350,0)
 .S:SSF2="000" $P(^ONCO(165.5,IEN,"CS"),U,6)=998
"RTN","ONCCSV2A",351,0)
 .S:SSF2="080" $P(^ONCO(165.5,IEN,"CS"),U,6)=997
"RTN","ONCCSV2A",352,0)
 .S:SSF3="020" $P(^ONCO(165.5,IEN,"CS"),U,7)=200
"RTN","ONCCSV2A",353,0)
 .S:SSF3="021" $P(^ONCO(165.5,IEN,"CS"),U,7)=210
"RTN","ONCCSV2A",354,0)
 .S:SSF3="022" $P(^ONCO(165.5,IEN,"CS"),U,7)=220
"RTN","ONCCSV2A",355,0)
 .S:SSF3="023" $P(^ONCO(165.5,IEN,"CS"),U,7)=230
"RTN","ONCCSV2A",356,0)
 .S:SSF3="030" $P(^ONCO(165.5,IEN,"CS"),U,7)=300
"RTN","ONCCSV2A",357,0)
 .S:SSF3="032" $P(^ONCO(165.5,IEN,"CS"),U,7)=320
"RTN","ONCCSV2A",358,0)
 .S:SSF3="040" $P(^ONCO(165.5,IEN,"CS"),U,7)=400
"RTN","ONCCSV2A",359,0)
 .S:SSF3="041" $P(^ONCO(165.5,IEN,"CS"),U,7)=410
"RTN","ONCCSV2A",360,0)
 .S:SSF3="042" $P(^ONCO(165.5,IEN,"CS"),U,7)=420
"RTN","ONCCSV2A",361,0)
 .S:SSF3="043" $P(^ONCO(165.5,IEN,"CS"),U,7)=430
"RTN","ONCCSV2A",362,0)
 .S:SSF3="045" $P(^ONCO(165.5,IEN,"CS"),U,7)=485
"RTN","ONCCSV2A",363,0)
 .S:SSF3="048" $P(^ONCO(165.5,IEN,"CS"),U,7)=480
"RTN","ONCCSV2A",364,0)
 .S:SSF3="050" $P(^ONCO(165.5,IEN,"CS"),U,7)=500
"RTN","ONCCSV2A",365,0)
 .S:SSF3="052" $P(^ONCO(165.5,IEN,"CS"),U,7)=520
"RTN","ONCCSV2A",366,0)
 .S:SSF3="060" $P(^ONCO(165.5,IEN,"CS"),U,7)=600
"RTN","ONCCSV2A",367,0)
 .S:SSF3="070" $P(^ONCO(165.5,IEN,"CS"),U,7)=700
"RTN","ONCCSV2A",368,0)
 .S:SSF3="095" $P(^ONCO(165.5,IEN,"CS"),U,7)=950
"RTN","ONCCSV2A",369,0)
 .S:SSF3="096" $P(^ONCO(165.5,IEN,"CS"),U,7)=960
"RTN","ONCCSV2A",370,0)
 .S:SSF3="097" $P(^ONCO(165.5,IEN,"CS"),U,7)=970
"RTN","ONCCSV2A",371,0)
 .S:SSF3="098" $P(^ONCO(165.5,IEN,"CS"),U,7)=980
"RTN","ONCCSV2A",372,0)
 .S:SSF3="099" $P(^ONCO(165.5,IEN,"CS"),U,7)=990
"RTN","ONCCSV2A",373,0)
 ;
"RTN","ONCCSV2A",374,0)
 ;SalivaryGlandOther C08.1, C08.8-C08.9
"RTN","ONCCSV2A",375,0)
 ;SubmandibularGland C08.0
"RTN","ONCCSV2A",376,0)
 I $E(PS,3,4)="08" D  Q
"RTN","ONCCSV2A",377,0)
 .S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=405
"RTN","ONCCSV2A",378,0)
 .D SSF12
"RTN","ONCCSV2A",379,0)
 ;
"RTN","ONCCSV2A",380,0)
 ;SinusEthmoid C31.1
"RTN","ONCCSV2A",381,0)
 ;SinusMaxillary C31.0
"RTN","ONCCSV2A",382,0)
 ;SinusOther C31.2-C31.3, C31.8-C31.9
"RTN","ONCCSV2A",383,0)
 I $E(PS,3,4)=31 D  Q
"RTN","ONCCSV2A",384,0)
 .I PS=67311 D
"RTN","ONCCSV2A",385,0)
 ..S:EXT=140 $P(^ONCO(165.5,IEN,"CS"),U,11)=320
"RTN","ONCCSV2A",386,0)
 ..S:EXT=240 $P(^ONCO(165.5,IEN,"CS"),U,11)=340
"RTN","ONCCSV2A",387,0)
 .I PS=67310 D
"RTN","ONCCSV2A",388,0)
 ..S:EXT=650 $P(^ONCO(165.5,IEN,"CS"),U,11)=600
"RTN","ONCCSV2A",389,0)
 .D SSF12
"RTN","ONCCSV2A",390,0)
 ;
"RTN","ONCCSV2A",391,0)
 ;Skin C44.0, C44.2-C44.9
"RTN","ONCCSV2A",392,0)
 ;SkinEyelid C44.1
"RTN","ONCCSV2A",393,0)
 I $E(PS,3,4)=44 D  Q
"RTN","ONCCSV2A",394,0)
 .I PS=67441 D
"RTN","ONCCSV2A",395,0)
 ..S:EXT=500 $P(^ONCO(165.5,IEN,"CS"),U,11)=150
"RTN","ONCCSV2A",396,0)
 ..S:EXT=700 $P(^ONCO(165.5,IEN,"CS"),U,11)=620
"RTN","ONCCSV2A",397,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",398,0)
 ;
"RTN","ONCCSV2A",399,0)
 ;Testis C62.0-C62.1, C62.9
"RTN","ONCCSV2A",400,0)
 I $E(PS,3,4)=62 D  Q
"RTN","ONCCSV2A",401,0)
 .S:METS=45 $P(^ONCO(165.5,IEN,"CS"),U,3)=60
"RTN","ONCCSV2A",402,0)
 .S:SSF5="001" $P(^ONCO(165.5,IEN,"CS"),U,9)="010"
"RTN","ONCCSV2A",403,0)
 .S:SSF5="002" $P(^ONCO(165.5,IEN,"CS"),U,9)="020"
"RTN","ONCCSV2A",404,0)
 .S:SSF5="003" $P(^ONCO(165.5,IEN,"CS"),U,9)="030"
"RTN","ONCCSV2A",405,0)
 .S:SSF6=888 $P(^ONCO(165.5,IEN,"CS"),U,10)=988
"RTN","ONCCSV2A",406,0)
 ;
"RTN","ONCCSV2A",407,0)
 ;Thyroid C73.9
"RTN","ONCCSV2A",408,0)
 I PS=67739 D  Q
"RTN","ONCCSV2A",409,0)
 .S:EXT=720 $P(^ONCO(165.5,IEN,"CS"),U,11)=550
"RTN","ONCCSV2A",410,0)
 .S:LN=140 $P(^ONCO(165.5,IEN,"CS"),U,12)=150
"RTN","ONCCSV2A",411,0)
 .D 2,3,4,5,6
"RTN","ONCCSV2A",412,0)
 ;
"RTN","ONCCSV2A",413,0)
 ;TongueAnterior C02.0-C02.3, C02.8-C02.9
"RTN","ONCCSV2A",414,0)
 ;TongueBase C01.9, C02.4
"RTN","ONCCSV2A",415,0)
 I ($E(PS,3,4)="02")!(PS=67019) D  Q
"RTN","ONCCSV2A",416,0)
 .I (PS=67019)!(PS=67024) D
"RTN","ONCCSV2A",417,0)
 ..S:EXT=820 $P(^ONCO(165.5,IEN,"CS"),U,11)=805
"RTN","ONCCSV2A",418,0)
 .D SSF12
"RTN","ONCCSV2A",419,0)
 ;
"RTN","ONCCSV2A",420,0)
 ;AdnexaUterineOther C57.1-C57.4
"RTN","ONCCSV2A",421,0)
 ;AmpullaVater C24.1
"RTN","ONCCSV2A",422,0)
 ;NETAmpulla C24.1 (M-8153, 8240-8242, 8246, 8249)
"RTN","ONCCSV2A",423,0)
 ;Anus C21.0-C21.2, C21.8
"RTN","ONCCSV2A",424,0)
 ;BileDuctsDistal C24.0
"RTN","ONCCSV2A",425,0)
 ;BileDuctsPerihilar C24.0
"RTN","ONCCSV2A",426,0)
 ;BiliaryOther C24.8-C24.9
"RTN","ONCCSV2A",427,0)
 ;CysticDuct" C24.0
"RTN","ONCCSV2A",428,0)
 ;Cervix C53.0-C53.1, C53.8-C53.9
"RTN","ONCCSV2A",429,0)
 ;DigestiveOther C26.0, C26.8-C26.9
"RTN","ONCCSV2A",430,0)
 ;PancreasBodyTail C25.1-C25.2
"RTN","ONCCSV2A",431,0)
 ;PancreasHead C25.0
"RTN","ONCCSV2A",432,0)
 ;PancreasOther C25.3-C25.4, C25.7-C25.9
"RTN","ONCCSV2A",433,0)
 ;Penis C60.0-C60.2, C60.8-C60.9
"RTN","ONCCSV2A",434,0)
 ;RespiratoryOther C39.0, C39.8-C39.9
"RTN","ONCCSV2A",435,0)
 ;Retroperitoneum C48.0
"RTN","ONCCSV2A",436,0)
 ;Scrotum C63.2
"RTN","ONCCSV2A",437,0)
 ;SoftTissue C47.0-C47.6, C47.8-C47.9, C49.0-C49.6, C49.8-C49.9
"RTN","ONCCSV2A",438,0)
 ;Trachea C33.9
"RTN","ONCCSV2A",439,0)
 ;Urethra C68.0
"RTN","ONCCSV2A",440,0)
 ;UrinaryOther C68.1, C68.8-C68.9
"RTN","ONCCSV2A",441,0)
 ;Vagina C52.9
"RTN","ONCCSV2A",442,0)
 ;Vulva C51.0-C51.2, C51.8-C51.9
"RTN","ONCCSV2A",443,0)
 S S34=$E(PS,3,4)
"RTN","ONCCSV2A",444,0)
 I (S34=26)!(S34=53)!(PS=67248)!(PS=67249)!(PS=67240)!(S34=21)!(PS=67241)!(PS=67571)!(PS=6752)!(PS=67573)!(PS=67574)!(S34=25)!(S34=60)!(S34=39)!(PS=67480)!(PS=67632)!(S34=47)!(S34=49)!(PS=67339)!(S34=68)!(PS=67529)!(S34=51) D  Q
"RTN","ONCCSV2A",445,0)
 .D 1,2,3,4,5,6
"RTN","ONCCSV2A",446,0)
 ;
"RTN","ONCCSV2A",447,0)
 Q
"RTN","ONCCSV2A",448,0)
 ;
"RTN","ONCCSV2A",449,0)
1 ;SSF1 = 888 to 988
"RTN","ONCCSV2A",450,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,5)=888 $P(^ONCO(165.5,IEN,"CS"),U,5)=988
"RTN","ONCCSV2A",451,0)
 Q
"RTN","ONCCSV2A",452,0)
 ;
"RTN","ONCCSV2A",453,0)
2 ;SSF2 = 888 to 988
"RTN","ONCCSV2A",454,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,6)=888 $P(^ONCO(165.5,IEN,"CS"),U,6)=988
"RTN","ONCCSV2A",455,0)
 Q
"RTN","ONCCSV2A",456,0)
 ;
"RTN","ONCCSV2A",457,0)
3 ;SSF3 = 888 to 988
"RTN","ONCCSV2A",458,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,7)=888 $P(^ONCO(165.5,IEN,"CS"),U,7)=988
"RTN","ONCCSV2A",459,0)
 Q
"RTN","ONCCSV2A",460,0)
 ;
"RTN","ONCCSV2A",461,0)
4 ;SSF4 = 888 to 988
"RTN","ONCCSV2A",462,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,8)=888 $P(^ONCO(165.5,IEN,"CS"),U,8)=988
"RTN","ONCCSV2A",463,0)
 Q
"RTN","ONCCSV2A",464,0)
 ;
"RTN","ONCCSV2A",465,0)
5 ;SSF5 = 888 to 988
"RTN","ONCCSV2A",466,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,9)=888 $P(^ONCO(165.5,IEN,"CS"),U,9)=988
"RTN","ONCCSV2A",467,0)
 Q
"RTN","ONCCSV2A",468,0)
 ;
"RTN","ONCCSV2A",469,0)
6 ;SSF6 = 888 to 988
"RTN","ONCCSV2A",470,0)
 S:$P($G(^ONCO(165.5,IEN,"CS")),U,10)=888 $P(^ONCO(165.5,IEN,"CS"),U,10)=988
"RTN","ONCCSV2A",471,0)
 Q
"RTN","ONCCSV2A",472,0)
 ;
"RTN","ONCCSV2A",473,0)
SSF12 ;SSF1 989 to 980
"RTN","ONCCSV2A",474,0)
 ;SSF1 981-988 to 980
"RTN","ONCCSV2A",475,0)
 ;SSF2 888 to 987
"RTN","ONCCSV2A",476,0)
 S:(SSF1>980)&(SSF1<990) $P(^ONCO(165.5,IEN,"CS"),U,5)=980
"RTN","ONCCSV2A",477,0)
 S:SSF2=888 $P(^ONCO(165.5,IEN,"CS"),U,6)=987
"RTN","ONCCSV2A",478,0)
 Q
"RTN","ONCCSV2A",479,0)
 ;
"RTN","ONCCSV2A",480,0)
CLEANUP ;Cleanup
"RTN","ONCCSV2A",481,0)
 K IEN
"RTN","ONCDTUTL")
0^66^B5364893
"RTN","ONCDTUTL",1,0)
ONCDTUTL ;Hines OIFO/SG - CALENDAR UTILITIES  ; 9/13/06 2:35pm
"RTN","ONCDTUTL",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCDTUTL",3,0)
 ;
"RTN","ONCDTUTL",4,0)
 ; $$DIM, DTDIFF, and $$ISLEAP are M translations of functions from
"RTN","ONCDTUTL",5,0)
 ; the Orpheus package (http://sourceforge.net/projects/tporpheus/).
"RTN","ONCDTUTL",6,0)
 ;
"RTN","ONCDTUTL",7,0)
 ; ONCDTUTL      OvcDate.pas
"RTN","ONCDTUTL",8,0)
 ; --------      -----------
"RTN","ONCDTUTL",9,0)
 ; DTDIFF        DateDiff
"RTN","ONCDTUTL",10,0)
 ; $$DIM         DaysInMonth
"RTN","ONCDTUTL",11,0)
 ; $$ISLEAP      IsLeapYear
"RTN","ONCDTUTL",12,0)
 ;
"RTN","ONCDTUTL",13,0)
 Q
"RTN","ONCDTUTL",14,0)
 ;
"RTN","ONCDTUTL",15,0)
 ;***** DTDIFF^ONCDTUTL USAGE EXAMPLE
"RTN","ONCDTUTL",16,0)
DEMO ;
"RTN","ONCDTUTL",17,0)
 D DEMO1(3061201,62)
"RTN","ONCDTUTL",18,0)
 D DEMO1(3061231,62)
"RTN","ONCDTUTL",19,0)
 D DEMO1(3000415,-700)
"RTN","ONCDTUTL",20,0)
 D DEMO1(3051020,0)
"RTN","ONCDTUTL",21,0)
 W !
"RTN","ONCDTUTL",22,0)
 Q
"RTN","ONCDTUTL",23,0)
 ;
"RTN","ONCDTUTL",24,0)
DEMO1(DATE1,ND) ;
"RTN","ONCDTUTL",25,0)
 N DATE2,DAYS,MONTHS,YEARS
"RTN","ONCDTUTL",26,0)
 S DATE2=$$FMADD^XLFDT(DATE1,ND)
"RTN","ONCDTUTL",27,0)
 D DTDIFF^ONCDTUTL(DATE1,DATE2,.DAYS,.MONTHS,.YEARS)
"RTN","ONCDTUTL",28,0)
 W !,$$FMTE^XLFDT(DATE1)_" - "_$$FMTE^XLFDT(DATE2)
"RTN","ONCDTUTL",29,0)
 W ?35,"Days: "_$J(DAYS,2),"  Months: "_$J(MONTHS,2),"  Years: "_YEARS
"RTN","ONCDTUTL",30,0)
 Q
"RTN","ONCDTUTL",31,0)
 ;
"RTN","ONCDTUTL",32,0)
 ;***** RETURNS NUMBER OF DAYS IN THE MONTH
"RTN","ONCDTUTL",33,0)
 ;
"RTN","ONCDTUTL",34,0)
 ; M             Month
"RTN","ONCDTUTL",35,0)
 ; Y             Year
"RTN","ONCDTUTL",36,0)
 ;
"RTN","ONCDTUTL",37,0)
DIM(M,Y) ;
"RTN","ONCDTUTL",38,0)
 Q:(M=1)!(M=3)!(M=5)!(M=7)!(M=8)!(M=10)!(M=12) 31
"RTN","ONCDTUTL",39,0)
 Q:(M=4)!(M=6)!(M=9)!(M=11) 30
"RTN","ONCDTUTL",40,0)
 Q:M=2 $S($$ISLEAP(Y):29,1:28)
"RTN","ONCDTUTL",41,0)
 Q 0
"RTN","ONCDTUTL",42,0)
 ;
"RTN","ONCDTUTL",43,0)
 ;***** CALCULATES DIFFERENCE BETWEEN TWO DATES
"RTN","ONCDTUTL",44,0)
 ;
"RTN","ONCDTUTL",45,0)
 ; DATE1         First date  (FileMan)
"RTN","ONCDTUTL",46,0)
 ; DATE2         Second date (FileMan)
"RTN","ONCDTUTL",47,0)
 ;
"RTN","ONCDTUTL",48,0)
 ; .DAYS         Number of days is returned via this parameter
"RTN","ONCDTUTL",49,0)
 ; .MONTHS       Number of months is returned via this parameter
"RTN","ONCDTUTL",50,0)
 ; .YEARS        Number of years is returned via this parameter
"RTN","ONCDTUTL",51,0)
 ;
"RTN","ONCDTUTL",52,0)
DTDIFF(DATE1,DATE2,DAYS,MONTHS,YEARS) ;
"RTN","ONCDTUTL",53,0)
 N DAY1,DAY2,DT1,DT2,MONTH1,MONTH2,TMP,YEAR1,YEAR2
"RTN","ONCDTUTL",54,0)
 ;--- We want DATE2 > DATE1; convert to YYYY/MM/DD
"RTN","ONCDTUTL",55,0)
 I DATE1>DATE2  D
"RTN","ONCDTUTL",56,0)
 . S DT1=$$FMTE^XLFDT(DATE2,"7D")
"RTN","ONCDTUTL",57,0)
 . S DT2=$$FMTE^XLFDT(DATE1,"7D")
"RTN","ONCDTUTL",58,0)
 E  D
"RTN","ONCDTUTL",59,0)
 . S DT1=$$FMTE^XLFDT(DATE1,"7D")
"RTN","ONCDTUTL",60,0)
 . S DT2=$$FMTE^XLFDT(DATE2,"7D")
"RTN","ONCDTUTL",61,0)
 ;--- Convert dates to day, month, year
"RTN","ONCDTUTL",62,0)
 S YEAR1=$P(DT1,"/"),MONTH1=$P(DT1,"/",2),DAY1=$P(DT1,"/",3)
"RTN","ONCDTUTL",63,0)
 S YEAR2=$P(DT2,"/"),MONTH2=$P(DT2,"/",2),DAY2=$P(DT2,"/",3)
"RTN","ONCDTUTL",64,0)
 ;--- Days first
"RTN","ONCDTUTL",65,0)
 S:DAY1=$$DIM(MONTH1,YEAR1) DAY1=0,MONTH1=MONTH1+1
"RTN","ONCDTUTL",66,0)
 S:DAY2=$$DIM(MONTH2,YEAR2) DAY2=0,MONTH2=MONTH2+1
"RTN","ONCDTUTL",67,0)
 I DAY2<DAY1  D
"RTN","ONCDTUTL",68,0)
 . S MONTH2=MONTH2-1
"RTN","ONCDTUTL",69,0)
 . S:'MONTH2 MONTH2=12,YEAR2=YEAR2-1
"RTN","ONCDTUTL",70,0)
 . S DAYS=DAY2+$$DIM(MONTH1,YEAR1)-DAY1
"RTN","ONCDTUTL",71,0)
 E  S DAYS=DAY2-DAY1
"RTN","ONCDTUTL",72,0)
 ;--- Now months and years
"RTN","ONCDTUTL",73,0)
 S:MONTH2<MONTH1 MONTH2=MONTH2+12,YEAR2=YEAR2-1
"RTN","ONCDTUTL",74,0)
 S MONTHS=MONTH2-MONTH1,YEARS=YEAR2-YEAR1
"RTN","ONCDTUTL",75,0)
 Q
"RTN","ONCDTUTL",76,0)
 ;
"RTN","ONCDTUTL",77,0)
 ;***** INDICATES LEAP YEAR
"RTN","ONCDTUTL",78,0)
 ;
"RTN","ONCDTUTL",79,0)
 ; YEAR          Year (4 digits)
"RTN","ONCDTUTL",80,0)
 ;
"RTN","ONCDTUTL",81,0)
 ; Return Values:
"RTN","ONCDTUTL",82,0)
 ;        0  Regular year
"RTN","ONCDTUTL",83,0)
 ;        1  Leap year
"RTN","ONCDTUTL",84,0)
 ;
"RTN","ONCDTUTL",85,0)
ISLEAP(YEAR) ;
"RTN","ONCDTUTL",86,0)
 Q (YEAR#4=0)&(YEAR#4000'=0)&((YEAR#100'=0)!(YEAR#400=0))
"RTN","ONCDTX")
0^67^B77514496
"RTN","ONCDTX",1,0)
ONCDTX ;Hines OIFO/GWB - Delete treatment data ;06/23/10
"RTN","ONCDTX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCDTX",3,0)
 ;
"RTN","ONCDTX",4,0)
DEL ;Delete all First Course of Treatment data
"RTN","ONCDTX",5,0)
 I '$D(DATEDX) Q
"RTN","ONCDTX",6,0)
 ;
"RTN","ONCDTX",7,0)
 ;DATE FIRST SURGICAL PROCEDURE (165.5,170)
"RTN","ONCDTX",8,0)
 N TXDT
"RTN","ONCDTX",9,0)
 S TXDT=$P(^ONCO(165.5,DA,3.1),U,38)_"S0"
"RTN","ONCDTX",10,0)
 S $P(^ONCO(165.5,DA,3.1),U,38)=""
"RTN","ONCDTX",11,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",12,0)
 ;
"RTN","ONCDTX",13,0)
 S $P(^ONCO(165.5,DA,3),U,38)="" D SURR
"RTN","ONCDTX",14,0)
 S $P(^ONCO(165.5,DA,3.1),U,29)="" D SUR
"RTN","ONCDTX",15,0)
 S $P(^ONCO(165.5,DA,3),U,40)="" D SCOPER
"RTN","ONCDTX",16,0)
 S $P(^ONCO(165.5,DA,3.1),U,31)="" D SCOPE
"RTN","ONCDTX",17,0)
 S $P(^ONCO(165.5,DA,3),U,41)="" D SOSNR
"RTN","ONCDTX",18,0)
 S $P(^ONCO(165.5,DA,3.1),U,33)="" D SOSN
"RTN","ONCDTX",19,0)
 S $P(^ONCO(165.5,DA,3),U,33)=""
"RTN","ONCDTX",20,0)
 S $P(^ONCO(165.5,DA,3),U,6)="" D RAD
"RTN","ONCDTX",21,0)
 S $P(^ONCO(165.5,DA,3),U,35)=""
"RTN","ONCDTX",22,0)
 S $P(^ONCO(165.5,DA,3),U,13)="" D CHE
"RTN","ONCDTX",23,0)
 S $P(^ONCO(165.5,DA,3),U,16)="" D HOR
"RTN","ONCDTX",24,0)
 S $P(^ONCO(165.5,DA,3),U,19)="" D IMM
"RTN","ONCDTX",25,0)
 S $P(^ONCO(165.5,DA,3.1),U,36)="" D HTEP
"RTN","ONCDTX",26,0)
 S $P(^ONCO(165.5,DA,3.1),U,39)=""
"RTN","ONCDTX",27,0)
 S $P(^ONCO(165.5,DA,3),U,25)="" D OTH
"RTN","ONCDTX",28,0)
 S $P(^ONCO(165.5,DA,7),U,19)=""
"RTN","ONCDTX",29,0)
 D DELATF^ONCDTX1
"RTN","ONCDTX",30,0)
 K NTDEL
"RTN","ONCDTX",31,0)
 Q
"RTN","ONCDTX",32,0)
 ;
"RTN","ONCDTX",33,0)
SURR ;SURGERY OF PRIMARY (R) (165.5,58.2)
"RTN","ONCDTX",34,0)
 Q:$P(^ONCO(165.5,DA,3),U,38)'=""
"RTN","ONCDTX",35,0)
 S $P(^ONCO(165.5,DA,3),U,34)=""
"RTN","ONCDTX",36,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",37,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",38,0)
 W !,"  SURGERY OF PRIMARY (R)"
"RTN","ONCDTX",39,0)
 W !,"  SURGICAL APPROACH (R)"
"RTN","ONCDTX",40,0)
 N COC,DSATF
"RTN","ONCDTX",41,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",42,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",43,0)
 S DSATF=1,$P(^ONCO(165.5,D0,3.1),U,7)=""
"RTN","ONCDTX",44,0)
 D SPSATFR^ONCDTX1
"RTN","ONCDTX",45,0)
 Q
"RTN","ONCDTX",46,0)
 ;
"RTN","ONCDTX",47,0)
SUR ;SURGERY OF PRIMARY (F) (165.5,58.6)
"RTN","ONCDTX",48,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,29)'=""
"RTN","ONCDTX",49,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,1)_"S1"
"RTN","ONCDTX",50,0)
 S $P(^ONCO(165.5,DA,3),U,1)=""
"RTN","ONCDTX",51,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",52,0)
 K TXDT
"RTN","ONCDTX",53,0)
 S $P(^ONCO(165.5,DA,2.3),U,4)=""
"RTN","ONCDTX",54,0)
 S $P(^ONCO(165.5,DA,3),U,28)=""
"RTN","ONCDTX",55,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)=""
"RTN","ONCDTX",56,0)
 S $P(^ONCO(165.5,DA,3.1),U,28)=""
"RTN","ONCDTX",57,0)
 S $P(^ONCO(165.5,DA,3),U,26)=""
"RTN","ONCDTX",58,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",59,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",60,0)
 W !,"  SURGERY OF PRIMARY (F)"
"RTN","ONCDTX",61,0)
 W !,"  MOST DEFINITIVE SURG DATE"
"RTN","ONCDTX",62,0)
 W !,"  APPROACH"
"RTN","ONCDTX",63,0)
 W !,"  SURGICAL MARGINS"
"RTN","ONCDTX",64,0)
 W !,"  DATE OF SURGICAL DISCHARGE"
"RTN","ONCDTX",65,0)
 W !,"  READMISSION W/I 30 DAYS/SURG"
"RTN","ONCDTX",66,0)
 W !,"  REASON NO SURGERY OF PRIMARY"
"RTN","ONCDTX",67,0)
 N COC,DSATF
"RTN","ONCDTX",68,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",69,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",70,0)
 S DSATF=1,$P(^ONCO(165.5,D0,3.1),U,30)=""
"RTN","ONCDTX",71,0)
 D SPSATF^ONCDTX1
"RTN","ONCDTX",72,0)
 Q
"RTN","ONCDTX",73,0)
 ;
"RTN","ONCDTX",74,0)
SCOPER ;SCOPE OF LN SURGERY (R) (165.5,138)
"RTN","ONCDTX",75,0)
 Q:$P(^ONCO(165.5,DA,3),U,40)'=""
"RTN","ONCDTX",76,0)
 S $P(^ONCO(165.5,DA,3),U,42)=""
"RTN","ONCDTX",77,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",78,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",79,0)
 W !,"  SCOPE OF LN SURGERY (R)"
"RTN","ONCDTX",80,0)
 W !,"  NUMBER OF LN REMOVED (R)"
"RTN","ONCDTX",81,0)
 N COC,DSCATF
"RTN","ONCDTX",82,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",83,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",84,0)
 S DSCATF=1,$P(^ONCO(165.5,D0,3.1),U,9)=""
"RTN","ONCDTX",85,0)
 D SCPATFR^ONCDTX1
"RTN","ONCDTX",86,0)
 Q
"RTN","ONCDTX",87,0)
 ;
"RTN","ONCDTX",88,0)
SCOPE ;SCOPE OF LN SURGERY (F) (165.5,138.4)
"RTN","ONCDTX",89,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,31)'=""
"RTN","ONCDTX",90,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,22)_"S2"
"RTN","ONCDTX",91,0)
 S $P(^ONCO(165.5,DA,3.1),U,22)=""
"RTN","ONCDTX",92,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",93,0)
 K TXDT
"RTN","ONCDTX",94,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",95,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",96,0)
 W !,"  SCOPE OF LN SURGERY (F)"
"RTN","ONCDTX",97,0)
 W !,"  SCOPE OF LN SURGERY DATE"
"RTN","ONCDTX",98,0)
 N COC,DSCATF
"RTN","ONCDTX",99,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",100,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",101,0)
 S DSCATF=1,$P(^ONCO(165.5,D0,3.1),U,32)=""
"RTN","ONCDTX",102,0)
 D SCPATF^ONCDTX1
"RTN","ONCDTX",103,0)
 Q
"RTN","ONCDTX",104,0)
 ;
"RTN","ONCDTX",105,0)
SOSNR ;SURG PROC/OTHER SITE (R) (165.5,139)
"RTN","ONCDTX",106,0)
 Q:$P(^ONCO(165.5,DA,3),U,41)'=""
"RTN","ONCDTX",107,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",108,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",109,0)
 W !,"  SURG PROC/OTHER SITE (R)"
"RTN","ONCDTX",110,0)
 N COC,DSOATF
"RTN","ONCDTX",111,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",112,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",113,0)
 S DSOATF=1,$P(^ONCO(165.5,D0,3.1),U,10)=""
"RTN","ONCDTX",114,0)
 D SOSATFR^ONCDTX1
"RTN","ONCDTX",115,0)
 Q
"RTN","ONCDTX",116,0)
 ;
"RTN","ONCDTX",117,0)
SOSN ;SURG PROC/OTHER SITE (F) (165.5,139.4)
"RTN","ONCDTX",118,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,33)'=""
"RTN","ONCDTX",119,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,24)_"S3"
"RTN","ONCDTX",120,0)
 S $P(^ONCO(165.5,DA,3.1),U,24)=""
"RTN","ONCDTX",121,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",122,0)
 K TXDT
"RTN","ONCDTX",123,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",124,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",125,0)
 W !,"  SURG PROC/OTHER SITE (F)"
"RTN","ONCDTX",126,0)
 W !,"  SURG PROC/OTHER SITE DATE"
"RTN","ONCDTX",127,0)
 N COC,DSOATF
"RTN","ONCDTX",128,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",129,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",130,0)
 S DSOATF=1,$P(^ONCO(165.5,D0,3.1),U,34)=""
"RTN","ONCDTX",131,0)
 D SOSNATF^ONCDTX1
"RTN","ONCDTX",132,0)
 Q
"RTN","ONCDTX",133,0)
 ;
"RTN","ONCDTX",134,0)
RAD ;RADIATON (165.5,51.2)
"RTN","ONCDTX",135,0)
 Q:$P(^ONCO(165.5,DA,3),U,6)'=""
"RTN","ONCDTX",136,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCDTX",137,0)
 S $P(^ONCO(165.5,DA,3),U,4)=""
"RTN","ONCDTX",138,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",139,0)
 K TXDT
"RTN","ONCDTX",140,0)
 S $P(^ONCO(165.5,DA,3),U,22)=""
"RTN","ONCDTX",141,0)
 S $P(^ONCO(165.5,DA,3),U,21)=""
"RTN","ONCDTX",142,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=""
"RTN","ONCDTX",143,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,43)=""
"RTN","ONCDTX",144,0)
 S $P(^ONCO(165.5,DA,24),U,9)=""
"RTN","ONCDTX",145,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,44)=""
"RTN","ONCDTX",146,0)
 S $P(^ONCO(165.5,DA,3),U,20)=""
"RTN","ONCDTX",147,0)
 S $P(^ONCO(165.5,DA,3),U,7)=""
"RTN","ONCDTX",148,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,16)=""
"RTN","ONCDTX",149,0)
 S $P(^ONCO(165.5,DA,3),U,35)=""
"RTN","ONCDTX",150,0)
 K ^ONCO(165.5,DA,15)
"RTN","ONCDTX",151,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",152,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",153,0)
 W !,"  RADIATION"
"RTN","ONCDTX",154,0)
 W !,"  DATE RADIATION STARTED"
"RTN","ONCDTX",155,0)
 W !,"  LOCATION OF RADIATION TX"
"RTN","ONCDTX",156,0)
 W !,"  RADIATION TREATMENT VOLUME"
"RTN","ONCDTX",157,0)
 W !,"  REGIONAL TREATMENT MODALITY"
"RTN","ONCDTX",158,0)
 W !,"  REGIONAL DOSE:cGy"
"RTN","ONCDTX",159,0)
 W !,"  BOOST TREATMENT MODALITY"
"RTN","ONCDTX",160,0)
 W !,"  BOOST DOSE:cGy"
"RTN","ONCDTX",161,0)
 W !,"  NUMBER OF TXS TO THIS VOLUME"
"RTN","ONCDTX",162,0)
 W !,"  RADIATION/SURGERY SEQUENCE"
"RTN","ONCDTX",163,0)
 W !,"  DATE RADIATION ENDED"
"RTN","ONCDTX",164,0)
 W !,"  REASON FOR NO RADIATION"
"RTN","ONCDTX",165,0)
 W !,"  RX TEXT-RADIATION"
"RTN","ONCDTX",166,0)
 N COC,DRATF
"RTN","ONCDTX",167,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",168,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",169,0)
 S DRATF=1,$P(^ONCO(165.5,D0,3.1),U,12)=""
"RTN","ONCDTX",170,0)
 D RADATF^ONCDTX1
"RTN","ONCDTX",171,0)
 Q
"RTN","ONCDTX",172,0)
 ;
"RTN","ONCDTX",173,0)
CHE ;CHEMOTHERAPY (165.5,53.2)
"RTN","ONCDTX",174,0)
 Q:$P(^ONCO(165.5,DA,3),U,13)'=""
"RTN","ONCDTX",175,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,11)_"C"
"RTN","ONCDTX",176,0)
 S $P(^ONCO(165.5,DA,3),U,11)=""
"RTN","ONCDTX",177,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",178,0)
 K TXDT
"RTN","ONCDTX",179,0)
 K ^ONCO(165.5,DA,17)
"RTN","ONCDTX",180,0)
 S $P(^ONCO(165.5,DA,3),U,36)=""
"RTN","ONCDTX",181,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",182,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",183,0)
 W !,"  CHEMOTHERAPY"
"RTN","ONCDTX",184,0)
 W !,"  CHEMOTHERAPY DATE"
"RTN","ONCDTX",185,0)
 W !,"  RX TEXT-CHEMO"
"RTN","ONCDTX",186,0)
 N COC,DCATF
"RTN","ONCDTX",187,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",188,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",189,0)
 S DCATF=1,$P(^ONCO(165.5,D0,3.1),U,14)=""
"RTN","ONCDTX",190,0)
 D CHEMATF^ONCDTX1
"RTN","ONCDTX",191,0)
 Q
"RTN","ONCDTX",192,0)
 ;
"RTN","ONCDTX",193,0)
HOR ;HORMONE THERAPY (165.5,54.2)
"RTN","ONCDTX",194,0)
 Q:$P(^ONCO(165.5,DA,3),U,16)'=""
"RTN","ONCDTX",195,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,14)_"H"
"RTN","ONCDTX",196,0)
 S $P(^ONCO(165.5,DA,3),U,14)=""
"RTN","ONCDTX",197,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",198,0)
 K TXDT
"RTN","ONCDTX",199,0)
 K ^ONCO(165.5,DA,18)
"RTN","ONCDTX",200,0)
 S $P(^ONCO(165.5,DA,3),U,37)=""
"RTN","ONCDTX",201,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",202,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",203,0)
 W !,"  HORMONE THERAPY"
"RTN","ONCDTX",204,0)
 W !,"  HORMONE THERAPY DATE"
"RTN","ONCDTX",205,0)
 W !,"  RX TEXT-HORMONE"
"RTN","ONCDTX",206,0)
 N COC,DHATF
"RTN","ONCDTX",207,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",208,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",209,0)
 S DHATF=1,$P(^ONCO(165.5,D0,3.1),U,16)=""
"RTN","ONCDTX",210,0)
 D HORATF^ONCDTX1
"RTN","ONCDTX",211,0)
 Q
"RTN","ONCDTX",212,0)
 ;
"RTN","ONCDTX",213,0)
IMM ;IMMUNOTHERAPY (165.5,55.2)
"RTN","ONCDTX",214,0)
 Q:$P(^ONCO(165.5,DA,3),U,19)'=""
"RTN","ONCDTX",215,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,17)_"B"
"RTN","ONCDTX",216,0)
 S $P(^ONCO(165.5,DA,3),U,17)=""
"RTN","ONCDTX",217,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",218,0)
 K TXDT
"RTN","ONCDTX",219,0)
 K ^ONCO(165.5,DA,20)
"RTN","ONCDTX",220,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",221,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",222,0)
 W !,"  IMMUNOTHERAPY"
"RTN","ONCDTX",223,0)
 W !,"  IMMUNOTHERAPY DATE"
"RTN","ONCDTX",224,0)
 W !,"  RX TEXT-BRM"
"RTN","ONCDTX",225,0)
 N COC,DIATF
"RTN","ONCDTX",226,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",227,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",228,0)
 S DIATF=1,$P(^ONCO(165.5,D0,3.1),U,18)=""
"RTN","ONCDTX",229,0)
 D IMMATF^ONCDTX1
"RTN","ONCDTX",230,0)
 Q
"RTN","ONCDTX",231,0)
 ;
"RTN","ONCDTX",232,0)
HTEP ;HEMA TRANS/ENDOCRINE PROC (165.5,53)
"RTN","ONCDTX",233,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,36)'=""
"RTN","ONCDTX",234,0)
 S TXDT=$P(^ONCO(165.5,DA,3.1),U,35)_"E"
"RTN","ONCDTX",235,0)
 S $P(^ONCO(165.5,DA,3.1),U,35)=""
"RTN","ONCDTX",236,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",237,0)
 K TXDT
"RTN","ONCDTX",238,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",239,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",240,0)
 W !,"  HEMA TRANS/ENDOCRINE PROC"
"RTN","ONCDTX",241,0)
 W !,"  HEMA TRANS/ENDOCRINE PROC DATE"
"RTN","ONCDTX",242,0)
 Q
"RTN","ONCDTX",243,0)
 ;
"RTN","ONCDTX",244,0)
OTH ;OTHER TREATMENT (165.5,57.2)
"RTN","ONCDTX",245,0)
 Q:$P(^ONCO(165.5,DA,3),U,25)'=""
"RTN","ONCDTX",246,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,23)_"O"
"RTN","ONCDTX",247,0)
 S $P(^ONCO(165.5,DA,3),U,23)=""
"RTN","ONCDTX",248,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCDTX",249,0)
 K TXDT
"RTN","ONCDTX",250,0)
 K ^ONCO(165.5,DA,21)
"RTN","ONCDTX",251,0)
 I $D(NTDEL) Q
"RTN","ONCDTX",252,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",253,0)
 W !,"  OTHER TREATMENT"
"RTN","ONCDTX",254,0)
 W !,"  OTHER TREATMENT START DATE"
"RTN","ONCDTX",255,0)
 W !,"  RX TEXT-OTHER"
"RTN","ONCDTX",256,0)
 N COC,DOATF
"RTN","ONCDTX",257,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",258,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",259,0)
 S DOATF=1,$P(^ONCO(165.5,D0,3.1),U,20)=""
"RTN","ONCDTX",260,0)
 D OTHATF^ONCDTX1
"RTN","ONCDTX",261,0)
 Q
"RTN","ONCDTX",262,0)
 ;
"RTN","ONCDTX",263,0)
PP ;PALLIATIVE CARE (165.5,12)
"RTN","ONCDTX",264,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,26)'=""
"RTN","ONCDTX",265,0)
 N COC
"RTN","ONCDTX",266,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",267,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) Q
"RTN","ONCDTX",268,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",269,0)
 S $P(^ONCO(165.5,DA,3.1),U,27)=""
"RTN","ONCDTX",270,0)
 W !,"  PALLIATIVE CARE @FAC",!
"RTN","ONCDTX",271,0)
 Q
"RTN","ONCDTX",272,0)
 ;
"RTN","ONCDTX",273,0)
NCDS ;SURGICAL DX/STAGING PROC (165.5,58.1)
"RTN","ONCDTX",274,0)
 Q:$P(^ONCO(165.5,DA,3),U,27)'=""
"RTN","ONCDTX",275,0)
 S $P(^ONCO(165.5,DA,3),U,31)=""
"RTN","ONCDTX",276,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",277,0)
 W !," SURGICAL DX/STAGING PROC"
"RTN","ONCDTX",278,0)
 W !," SURGICAL DX/STAGING PROC DATE"
"RTN","ONCDTX",279,0)
 N COC,DNCATF
"RTN","ONCDTX",280,0)
 D CHKCOC^ONCATF
"RTN","ONCDTX",281,0)
 I (COC=20)!(COC=21)!(COC=22)!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=36)!(COC=37) Q
"RTN","ONCDTX",282,0)
 S DNCATF=1,$P(^ONCO(165.5,D0,3.1),U,5)=""
"RTN","ONCDTX",283,0)
 D NCDSATF^ONCDTX1
"RTN","ONCDTX",284,0)
 Q
"RTN","ONCDTX",285,0)
 ;
"RTN","ONCDTX",286,0)
SCT ;SUBSEQUENT COURSE OF TREATMENT (165.5,60)
"RTN","ONCDTX",287,0)
 Q:$P(^ONCO(165.5,DA(1),4,DA,0),U,4)'=""
"RTN","ONCDTX",288,0)
 S $P(^ONCO(165.5,DA(1),4,DA,0),U,11)=""
"RTN","ONCDTX",289,0)
 W !!,"Deleting data from the following fields...",!
"RTN","ONCDTX",290,0)
 W !,"  SURGERY OF PRIMARY SITE"
"RTN","ONCDTX",291,0)
 W !,"  SURGERY OF PRIMARY SITE DATE",!
"RTN","ONCDTX",292,0)
 Q
"RTN","ONCDTX",293,0)
 ;
"RTN","ONCDTX",294,0)
CLEANUP ;Cleanup
"RTN","ONCDTX",295,0)
 K D0,DA,DATEDX
"RTN","ONCDTX1")
0^68^B16707284
"RTN","ONCDTX1",1,0)
ONCDTX1 ;Hines OIFO/RTK;DELETE @FAC TREATMENT FIELDS; 09/25/98
"RTN","ONCDTX1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCDTX1",3,0)
 ;
"RTN","ONCDTX1",4,0)
DELATF ;Delete all treatment @fac
"RTN","ONCDTX1",5,0)
 S $P(^ONCO(165.5,DA,3.1),U,7)="" D SPSATFR    ;50.2
"RTN","ONCDTX1",6,0)
 S $P(^ONCO(165.5,DA,3.1),U,30)="" D SPSATF    ;58.7
"RTN","ONCDTX1",7,0)
 S $P(^ONCO(165.5,DA,3.1),U,9)="" D SCPATFR    ;138.1
"RTN","ONCDTX1",8,0)
 S $P(^ONCO(165.5,DA,3.1),U,32)="" D SCPATF    ;138.5
"RTN","ONCDTX1",9,0)
 S $P(^ONCO(165.5,DA,3.1),U,10)="" D SOSATFR   ;139.1
"RTN","ONCDTX1",10,0)
 S $P(^ONCO(165.5,DA,3.1),U,34)="" D SOSNATF   ;139.5
"RTN","ONCDTX1",11,0)
 S $P(^ONCO(165.5,DA,3.1),U,12)="" D RADATF    ;51.2
"RTN","ONCDTX1",12,0)
 S $P(^ONCO(165.5,DA,3.1),U,14)="" D CHEMATF   ;53.2
"RTN","ONCDTX1",13,0)
 S $P(^ONCO(165.5,DA,3.1),U,16)="" D HORATF    ;54.2
"RTN","ONCDTX1",14,0)
 S $P(^ONCO(165.5,DA,3.1),U,18)="" D IMMATF    ;55.2
"RTN","ONCDTX1",15,0)
 S $P(^ONCO(165.5,DA,3.1),U,20)="" D OTHATF    ;57.2
"RTN","ONCDTX1",16,0)
 K NTDEL Q
"RTN","ONCDTX1",17,0)
 ;
"RTN","ONCDTX1",18,0)
NCDSATF ;SURG DX/STAGING PROC @FAC (165.5,58.4)
"RTN","ONCDTX1",19,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,5)'=""
"RTN","ONCDTX1",20,0)
 S $P(^ONCO(165.5,DA,3.1),U,6)=""
"RTN","ONCDTX1",21,0)
 W:$G(DNCATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",22,0)
 W !," SURG DX/STAGING PROC @FAC"
"RTN","ONCDTX1",23,0)
 W !," SURG DX/STAGING PROC @FAC DATE"
"RTN","ONCDTX1",24,0)
 Q
"RTN","ONCDTX1",25,0)
 ;
"RTN","ONCDTX1",26,0)
SPSATFR ;SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"RTN","ONCDTX1",27,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,7)'=""
"RTN","ONCDTX1",28,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",29,0)
 W:$G(DSATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",30,0)
 W !,"  SURGERY OF PRIMARY @FAC (R)"
"RTN","ONCDTX1",31,0)
 Q
"RTN","ONCDTX1",32,0)
 ;
"RTN","ONCDTX1",33,0)
SPSATF ;SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"RTN","ONCDTX1",34,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,30)'=""
"RTN","ONCDTX1",35,0)
 S $P(^ONCO(165.5,DA,3.1),U,8)=""
"RTN","ONCDTX1",36,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",37,0)
 W:$G(DSATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",38,0)
 W !,"  SURGERY OF PRIMARY @FAC (F)"
"RTN","ONCDTX1",39,0)
 W !,"  MOST DEFINITIVE SURG @FAC DATE"
"RTN","ONCDTX1",40,0)
 Q
"RTN","ONCDTX1",41,0)
 ;
"RTN","ONCDTX1",42,0)
SCPATFR ;SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"RTN","ONCDTX1",43,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,9)'=""
"RTN","ONCDTX1",44,0)
 S $P(^ONCO(165.5,DA,3.1),U,11)=""
"RTN","ONCDTX1",45,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",46,0)
 W:$G(DSCATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",47,0)
 W !,"  SCOPE OF LN SURGERY @FAC (R)"
"RTN","ONCDTX1",48,0)
 W !,"  NUMBER OF LN REMOVED @FAC (R)"
"RTN","ONCDTX1",49,0)
 Q
"RTN","ONCDTX1",50,0)
 ;
"RTN","ONCDTX1",51,0)
SCPATF ;SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"RTN","ONCDTX1",52,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,32)'=""
"RTN","ONCDTX1",53,0)
 S $P(^ONCO(165.5,DA,3.1),U,23)=""
"RTN","ONCDTX1",54,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",55,0)
 W:$G(DSCATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",56,0)
 W !,"  SCOPE OF LN SURGERY @FAC (F)"
"RTN","ONCDTX1",57,0)
 W !,"  SCOPE OF LN SURGERY @FAC DATE"
"RTN","ONCDTX1",58,0)
 Q
"RTN","ONCDTX1",59,0)
 ;
"RTN","ONCDTX1",60,0)
SOSATFR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"RTN","ONCDTX1",61,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,10)'=""
"RTN","ONCDTX1",62,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",63,0)
 W:$G(DSOATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",64,0)
 W !,"  SURG PROC/OTHER SITE @FAC (R)"
"RTN","ONCDTX1",65,0)
 Q
"RTN","ONCDTX1",66,0)
 ;
"RTN","ONCDTX1",67,0)
SOSNATF ;SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"RTN","ONCDTX1",68,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,34)'=""
"RTN","ONCDTX1",69,0)
 S $P(^ONCO(165.5,DA,3.1),U,25)=""
"RTN","ONCDTX1",70,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",71,0)
 W:$G(DSOATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",72,0)
 W !,"  SURG PROC/OTHER SITE @FAC (F)"
"RTN","ONCDTX1",73,0)
 W !,"  SURG PROC/OTHER SITE @FAC DATE"
"RTN","ONCDTX1",74,0)
 Q
"RTN","ONCDTX1",75,0)
 ;
"RTN","ONCDTX1",76,0)
RADATF ;Radiation @fac
"RTN","ONCDTX1",77,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,12)'=""
"RTN","ONCDTX1",78,0)
 S $P(^ONCO(165.5,DA,3.1),U,13)=""
"RTN","ONCDTX1",79,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",80,0)
 W:$G(DRATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",81,0)
 W !,"  RADIATION @FAC"
"RTN","ONCDTX1",82,0)
 I $G(DRATF)=1 W ?40
"RTN","ONCDTX1",83,0)
 I $G(DRATF)'=1 W !,"  "
"RTN","ONCDTX1",84,0)
 W "RADIATION @FAC DATE"
"RTN","ONCDTX1",85,0)
 Q
"RTN","ONCDTX1",86,0)
 ;
"RTN","ONCDTX1",87,0)
CHEMATF ;Chemotherapy @fac
"RTN","ONCDTX1",88,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,14)'=""   ;53.3
"RTN","ONCDTX1",89,0)
 S $P(^ONCO(165.5,DA,3.1),U,15)=""    ;53.4
"RTN","ONCDTX1",90,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",91,0)
 W:$G(DCATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",92,0)
 W !,"  CHEMOTHERAPY @FAC"
"RTN","ONCDTX1",93,0)
 W !,"  CHEMOTHERAPY @FAC DATE"
"RTN","ONCDTX1",94,0)
 Q
"RTN","ONCDTX1",95,0)
 ;
"RTN","ONCDTX1",96,0)
HORATF ;Hormone therapy @fac
"RTN","ONCDTX1",97,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,16)'=""   ;54.3
"RTN","ONCDTX1",98,0)
 S $P(^ONCO(165.5,DA,3.1),U,17)=""    ;54.4
"RTN","ONCDTX1",99,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",100,0)
 W:$G(DHATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",101,0)
 W !,"  HORMONE THERAPY @FAC"
"RTN","ONCDTX1",102,0)
 W !,"  HORMONE THERAPY @FAC DATE"
"RTN","ONCDTX1",103,0)
 Q
"RTN","ONCDTX1",104,0)
 ;
"RTN","ONCDTX1",105,0)
IMMATF ;Immunotherapy @fac
"RTN","ONCDTX1",106,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,18)'=""   ;55.3
"RTN","ONCDTX1",107,0)
 S $P(^ONCO(165.5,DA,3.1),U,19)=""    ;55.4
"RTN","ONCDTX1",108,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",109,0)
 W:$G(DIATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",110,0)
 W !,"  IMMUNOTHERAPY @FAC"
"RTN","ONCDTX1",111,0)
 W !,"  IMMUNOTHERAPY @FAC DATE"
"RTN","ONCDTX1",112,0)
 Q
"RTN","ONCDTX1",113,0)
 ;
"RTN","ONCDTX1",114,0)
OTHATF ;Other treatment @fac
"RTN","ONCDTX1",115,0)
 Q:$P(^ONCO(165.5,DA,3.1),U,20)'=""   ;57.3
"RTN","ONCDTX1",116,0)
 S $P(^ONCO(165.5,DA,3.1),U,21)=""    ;57.4
"RTN","ONCDTX1",117,0)
 I $D(NTDEL) Q
"RTN","ONCDTX1",118,0)
 W:$G(DOATF)'=1 !!,"Deleting data from the following fields...",!
"RTN","ONCDTX1",119,0)
 W !,"  OTHER TREATMENT @FAC"
"RTN","ONCDTX1",120,0)
 W !,"  OTHER TREATMENT @FAC DATE"
"RTN","ONCDTX1",121,0)
 Q
"RTN","ONCEDIT")
0^69^B90474447
"RTN","ONCEDIT",1,0)
ONCEDIT ;Hines OIFO/GWB - Inter-field edits ;03/24/11
"RTN","ONCEDIT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCEDIT",3,0)
 ;
"RTN","ONCEDIT",4,0)
 N BCOD,COCE,COCI,HSTE,HSTFLD,HSTI,SSTE,SSTI,STAT,TOPE,TOPI,TRSE,TRSI,X
"RTN","ONCEDIT",5,0)
 K MSG
"RTN","ONCEDIT",6,0)
 S RHSP=$$GET1^DIQ(165.5,PRM,.03,"I")          ;REPORTING FACILITY
"RTN","ONCEDIT",7,0)
 S COCI=$E($$GET1^DIQ(165.5,PRM,.04,"E"),1,2)  ;CLASS OF CASE
"RTN","ONCEDIT",8,0)
 S COCE=$$GET1^DIQ(165.5,PRM,.04,"E")
"RTN","ONCEDIT",9,0)
 S STAT=$$GET1^DIQ(165.5,PRM,.091)             ;STATUS
"RTN","ONCEDIT",10,0)
 S TRSI=$$GET1^DIQ(165.5,PRM,1.2,"I")          ;TYPE OF REPORTING SOURCE
"RTN","ONCEDIT",11,0)
 S TRSE=$$GET1^DIQ(165.5,PRM,1.2,"E")
"RTN","ONCEDIT",12,0)
 S RFAC=$$GET1^DIQ(165.5,PRM,6,"I")            ;FACILITY REFERRED FROM
"RTN","ONCEDIT",13,0)
 S TFAC=$$GET1^DIQ(165.5,PRM,7,"I")            ;FACILITY REFERRED TO
"RTN","ONCEDIT",14,0)
 S TOPI=$$GET1^DIQ(165.5,PRM,20,"I")           ;PRIMARY SITE
"RTN","ONCEDIT",15,0)
 S TOPE=$$GET1^DIQ(165.5,PRM,20,"E")
"RTN","ONCEDIT",16,0)
 S HSTI=$$HIST^ONCFUNC(PRM,.HSTFLD)            ;HISTOLOGY
"RTN","ONCEDIT",17,0)
 S HSTE=$$GET1^DIQ(165.5,PRM,HSTFLD,"E")
"RTN","ONCEDIT",18,0)
 S BCOD=$E(HSTI,5)                             ;BEHAVIOR CODE
"RTN","ONCEDIT",19,0)
 S SSTI=$$GET1^DIQ(165.5,PRM,35,"I")           ;SUMMARY STAGE
"RTN","ONCEDIT",20,0)
 S SSTE=$$GET1^DIQ(165.5,PRM,35,"E")
"RTN","ONCEDIT",21,0)
 ;
"RTN","ONCEDIT",22,0)
IF02 ;S SDX=""
"RTN","ONCEDIT",23,0)
 ;S SDXI=$$GET1^DIQ(165.5,PRM,16,"I")   ;STATE AT DX
"RTN","ONCEDIT",24,0)
 ;S SDXE=$$GET1^DIQ(165.5,PRM,16,"E")
"RTN","ONCEDIT",25,0)
 ;I SDXI'="" S SDX=$P(^DIC(5,SDXI,0),U,1)
"RTN","ONCEDIT",26,0)
 ;S PCDX=$$GET1^DIQ(165.5,PRM,9,"I")    ;POSTAL CODE AT DX
"RTN","ONCEDIT",27,0)
 ;I SDX="YY",PCDX'=888888888 D  D ERRMSG
"RTN","ONCEDIT",28,0)
 ;.S MSG(1)="STATE AT DX = YY ("_SDXE_")"
"RTN","ONCEDIT",29,0)
 ;.S MSG(2)="POSTAL CODE AT DX must be 888888888"
"RTN","ONCEDIT",30,0)
 ;I SDX="ZZ",PCDX'=999999999 D  D ERRMSG
"RTN","ONCEDIT",31,0)
 ;.S MSG(1)="STATE AT DX = ZZ ("_SDXE_")"
"RTN","ONCEDIT",32,0)
 ;.S MSG(2)="POSTAL CODE AT DX must be 999999999"
"RTN","ONCEDIT",33,0)
 ;K MSG,PCDX,SDX,SDXI,SDXE
"RTN","ONCEDIT",34,0)
 ;
"RTN","ONCEDIT",35,0)
IF03 I RHSP=RFAC D  D ERRMSG
"RTN","ONCEDIT",36,0)
 .S MSG(1)="REPORTING HOSPITAL = FACILITY REFERRED FROM"
"RTN","ONCEDIT",37,0)
 I RHSP=TFAC D  D ERRMSG
"RTN","ONCEDIT",38,0)
 .S MSG(1)="REPORTING HOSPITAL = FACILITY REFERRED TO"
"RTN","ONCEDIT",39,0)
 ;
"RTN","ONCEDIT",40,0)
IF10 I (COCI=20)!(COCI=21)!(COCI=22)!(COCI=30)!(COCI=31)!(COCI=32)!(COCI=33)!(COCI=36)!(COCI=37),RFAC="" D  D ERRMSG
"RTN","ONCEDIT",41,0)
 .S MSG(1)="CLASS OF CASE = "_COCI
"RTN","ONCEDIT",42,0)
 .S MSG(2)="("_$E(COCE,4,99)_")"
"RTN","ONCEDIT",43,0)
 .S MSG(3)="FACILITY REFERRED FROM may not be blank"
"RTN","ONCEDIT",44,0)
 K MSG,RHSP,RFAC,TFAC
"RTN","ONCEDIT",45,0)
 ;
"RTN","ONCEDIT",46,0)
IF06 N DDXE,DDXI
"RTN","ONCEDIT",47,0)
 S DIAI=$$GET1^DIQ(165.5,PRM,155,"I")  ;DATE OF FIRST CONTACT
"RTN","ONCEDIT",48,0)
 S DIAE=$$GET1^DIQ(165.5,PRM,155,"E")
"RTN","ONCEDIT",49,0)
 S DDXI=$$GET1^DIQ(165.5,PRM,3,"I")    ;DATE DX
"RTN","ONCEDIT",50,0)
 S DDXE=$$GET1^DIQ(165.5,PRM,3,"E")
"RTN","ONCEDIT",51,0)
 I DIAE="99/99/9999" G IF06EX
"RTN","ONCEDIT",52,0)
 S MSG(1)="CLASS OF CASE = "_COCE
"RTN","ONCEDIT",53,0)
 S MSG(2)="DATE OF FIRST CONTACT..: "_DIAE
"RTN","ONCEDIT",54,0)
 S MSG(3)=" later than"
"RTN","ONCEDIT",55,0)
 I COCI="00" D
"RTN","ONCEDIT",56,0)
 .S SPSI=$$GET1^DIQ(165.5,PRM,50,"I")  ;MOST DEFINITIVE SURG DATE
"RTN","ONCEDIT",57,0)
 .S SPSE=$$GET1^DIQ(165.5,PRM,50,"E")
"RTN","ONCEDIT",58,0)
 .S RADI=$$GET1^DIQ(165.5,PRM,51,"I")  ;DATE RADIATION STARTED
"RTN","ONCEDIT",59,0)
 .S RADE=$$GET1^DIQ(165.5,PRM,51,"E")
"RTN","ONCEDIT",60,0)
 .S CNSI=$$GET1^DIQ(165.5,PRM,52,"I")  ;RADIATION THERAPY TO CNS DATE
"RTN","ONCEDIT",61,0)
 .S CNSE=$$GET1^DIQ(165.5,PRM,52,"E")
"RTN","ONCEDIT",62,0)
 .S CHMI=$$GET1^DIQ(165.5,PRM,53,"I")  ;CHEMOTHERAPY DATE
"RTN","ONCEDIT",63,0)
 .S CHME=$$GET1^DIQ(165.5,PRM,53,"E")
"RTN","ONCEDIT",64,0)
 .S HORI=$$GET1^DIQ(165.5,PRM,54,"I")  ;HORMONE THERAPY DATE
"RTN","ONCEDIT",65,0)
 .S HORE=$$GET1^DIQ(165.5,PRM,54,"E")
"RTN","ONCEDIT",66,0)
 .S BRMI=$$GET1^DIQ(165.5,PRM,55,"I")  ;IMMUNOTHERAPY DATE
"RTN","ONCEDIT",67,0)
 .S BRME=$$GET1^DIQ(165.5,PRM,55,"E")
"RTN","ONCEDIT",68,0)
 .S OTHI=$$GET1^DIQ(165.5,PRM,57,"I")  ;OTHER TREATMENT START DATE
"RTN","ONCEDIT",69,0)
 .S OTHE=$$GET1^DIQ(165.5,PRM,57,"E")
"RTN","ONCEDIT",70,0)
 .I SPSI'="0000000",DIAI>SPSI D  D ERRMSG
"RTN","ONCEDIT",71,0)
 ..S MSG(4)="MOST DEFINITIVE SURG DATE....: "_SPSE
"RTN","ONCEDIT",72,0)
 .I RADI'="0000000",DIAI>RADI D  D ERRMSG
"RTN","ONCEDIT",73,0)
 ..S MSG(4)="DATE RADIATION STARTED.......: "_RADE
"RTN","ONCEDIT",74,0)
 .I DDXI<2960000,CNSI'="0000000",DIAI>CNSI D  D ERRMSG
"RTN","ONCEDIT",75,0)
 ..S MSG(4)="RADIATION THERAPY TO CNS DATE: "_CNSE
"RTN","ONCEDIT",76,0)
 .I CHMI'="0000000",DIAI>CHMI D  D ERRMSG
"RTN","ONCEDIT",77,0)
 ..S MSG(4)="CHEMOTHERAPY DATE............: "_CHME
"RTN","ONCEDIT",78,0)
 .I HORI'="0000000",DIAI>HORI D  D ERRMSG
"RTN","ONCEDIT",79,0)
 ..S MSG(4)="HORMONE THERAPY DATE.........: "_HORE
"RTN","ONCEDIT",80,0)
 .I BRMI'="0000000",DIAI>BRMI D  D ERRMSG
"RTN","ONCEDIT",81,0)
 ..S MSG(4)="IMMUNOTHERAPY DATE...........: "_BRME
"RTN","ONCEDIT",82,0)
 .I OTHI'="0000000",DIAI>OTHI D  D ERRMSG
"RTN","ONCEDIT",83,0)
 ..S MSG(4)="OTHER TREATMENT START DATE...: "_OTHE
"RTN","ONCEDIT",84,0)
IF06EX K BRME,BRMI,CHME,CHMI,CNSE,CNSI,DIAI,DIAE,HORE,HORI,MSG,OTHE
"RTN","ONCEDIT",85,0)
 K OTHI,RADE,RADI,SPSE,SPSI
"RTN","ONCEDIT",86,0)
 ;
"RTN","ONCEDIT",87,0)
IF0708 S DXCF=$$GET1^DIQ(165.5,PRM,26,"I")   ;DIAGNOSTIC CONFIRMATION
"RTN","ONCEDIT",88,0)
 S SEQ=$$GET1^DIQ(165.5,PRM,.06,"I")   ;SEQUENCE NUMBER
"RTN","ONCEDIT",89,0)
 S SEQN=+$$GET1^DIQ(165.5,PRM,.06,"I")
"RTN","ONCEDIT",90,0)
 S PRIM=$$GET1^DIQ(165.5,PRM,20,"I")   ;PRIMARY SITE
"RTN","ONCEDIT",91,0)
 S OVER=$$GET1^DIQ(165.5,PRM,223,"I")  ;OVER-RIDE HOSPSEQ/DXCONF
"RTN","ONCEDIT",92,0)
 I TRSI=6,COCI'=38 D  D ERRMSG
"RTN","ONCEDIT",93,0)
 .S MSG(1)="TYPE OF REPORTING SOURCE = 6 ("_TRSE_")"
"RTN","ONCEDIT",94,0)
 .S MSG(2)="CLASS OF CASE must be 38"
"RTN","ONCEDIT",95,0)
 .S MSG(3)="(Dx by autopsy at rpt facility)"
"RTN","ONCEDIT",96,0)
 I COCI=38,TRSI'=6 D  D ERRMSG
"RTN","ONCEDIT",97,0)
 .S MSG(1)="CLASS OF CASE = "_COCI
"RTN","ONCEDIT",98,0)
 .S MSG(2)="("_$E(COCE,4,99)_")"
"RTN","ONCEDIT",99,0)
 .S MSG(3)="TYPE OF REPORTING SOURCE must be 6 (Autopsy only)"
"RTN","ONCEDIT",100,0)
 I TRSI=7,DXCF'=9 D  D ERRMSG
"RTN","ONCEDIT",101,0)
 .S MSG(1)="TYPE OF REPORTING SOURCE = 7 ("_TRSE_")"
"RTN","ONCEDIT",102,0)
 .S MSG(2)="DIAGNOSTIC CONFIRMATION must be 9 (Unk if microscopically confirmed)"
"RTN","ONCEDIT",103,0)
 I TRSI=6,((DXCF'=1)&(DXCF'=6)) D  D ERRMSG
"RTN","ONCEDIT",104,0)
 .S MSG(1)="TYPE OF REPORTING SOURCE = 6 ("_TRSE_")"
"RTN","ONCEDIT",105,0)
 .S MSG(2)="DIAGNOSTIC CONFIRMATION must be 1 (Pos histology) or"
"RTN","ONCEDIT",106,0)
 .S MSG(3)="                                6 (Direct visualization)"
"RTN","ONCEDIT",107,0)
 I ($E(PRIM,3,4)=76)!(PRIM=67809) G IF11
"RTN","ONCEDIT",108,0)
 I DXCF>5,((SEQN>0)&(SEQN<60))!(SEQN>88),OVER="" D  D ERRMSG K DIR S DIR(0)="YA",DIR("A")="Do you wish to set the OVER-RIDE HOSPSEQ/DXCONF flag to 'Reviewed'? ",DIR("B")="Y" D ^DIR W ! I Y=1 S $P(^ONCO(165.5,PRM,"OVRD"),U,19)=1,CMPLT=SAVCMPLT
"RTN","ONCEDIT",109,0)
 .S SAVCMPLT=CMPLT
"RTN","ONCEDIT",110,0)
 .S MSG(1)="DIAGNOSTIC CONFIRMATION > 5 ("_DXCF_")"
"RTN","ONCEDIT",111,0)
 .S MSG(2)="SEQUENCE NUMBER > 00 ("_SEQ_")"
"RTN","ONCEDIT",112,0)
 .S MSG(3)="OVER-RIDE HOSPSEQ/DXCONF is required"
"RTN","ONCEDIT",113,0)
 K MSG,DXCF,SEQ,SEQN,PRIM,OVER,SAVCMPLT,DIR,Y
"RTN","ONCEDIT",114,0)
 ;
"RTN","ONCEDIT",115,0)
IF11 G:TOPI="" IF11EX
"RTN","ONCEDIT",116,0)
 S PORG=$$GET1^DIQ(164,TOPI,.07,"I")   ;PAIRED ORGAN
"RTN","ONCEDIT",117,0)
 S LTRL=$$GET1^DIQ(165.5,PRM,28,"I")   ;LATERALITY
"RTN","ONCEDIT",118,0)
 I PORG=1,LTRL=0,DDXI>3031231 D  D ERRMSG
"RTN","ONCEDIT",119,0)
 .S MSG(1)=TOPE_" is a paired site"
"RTN","ONCEDIT",120,0)
 .S MSG(2)="LATERALITY must be provided for specified paired organs/sites"
"RTN","ONCEDIT",121,0)
 .S MSG(3)=""
"RTN","ONCEDIT",122,0)
 .S:TOPI=67300 MSG(4)="NOTE: If NASAL CARTILAGE or NASAL SEPTUM, override this warning."
"RTN","ONCEDIT",123,0)
 .S:TOPI=67340 MSG(4)="NOTE: If CARINA, override this warning."
"RTN","ONCEDIT",124,0)
 .S:TOPI=67413 MSG(4)="NOTE: If STERNUM, override this warning."
"RTN","ONCEDIT",125,0)
 .S:TOPI=67414 MSG(4)="NOTE: If SACRUM, COCCYX or SYMPHYSIS PUBIS, override this warning."
"RTN","ONCEDIT",126,0)
 I PORG=1,LTRL="" D  D ERRMSG
"RTN","ONCEDIT",127,0)
 .S MSG(1)=TOPE_" is a paired site"
"RTN","ONCEDIT",128,0)
 .S MSG(2)="LATERALITY must be provided for specified paired organs/sites"
"RTN","ONCEDIT",129,0)
 I PORG="",LTRL'=0 D  D ERRMSG
"RTN","ONCEDIT",130,0)
 .S MSG(1)=TOPE_" is an unpaired site"
"RTN","ONCEDIT",131,0)
 .S MSG(2)="LATERALITY must be 0 (Not a paired site)"
"RTN","ONCEDIT",132,0)
IF11EX K MSG,PORG,LTRL
"RTN","ONCEDIT",133,0)
 ;
"RTN","ONCEDIT",134,0)
 S RADI=$$GET1^DIQ(165.5,PRM,51.2,"I")   ;RADIATION
"RTN","ONCEDIT",135,0)
 S RADE=$$GET1^DIQ(165.5,PRM,51.2,"E")
"RTN","ONCEDIT",136,0)
 S LRTI=$$GET1^DIQ(165.5,PRM,126,"I")    ;LOCATION OF RADIATION TX
"RTN","ONCEDIT",137,0)
 I RADI'=0,LRTI=0 D  D ERRMSG
"RTN","ONCEDIT",138,0)
 .S MSG(1)="RADIATION = "_RADI_" ("_RADE_")"
"RTN","ONCEDIT",139,0)
 .S MSG(2)="LOCATION OF RADIATION TX cannot be 0 (No radiation tx)"
"RTN","ONCEDIT",140,0)
 K MSG,RADI,RADE,LRTI
"RTN","ONCEDIT",141,0)
 ;
"RTN","ONCEDIT",142,0)
 ;Treatment codes of 88 or dates of 88/88/8888 will prohibit 'Completion'
"RTN","ONCEDIT",143,0)
 S DRS=$$GET1^DIQ(165.5,PRM,51,"E")       ;DATE RADIATION STARTED
"RTN","ONCEDIT",144,0)
 S DRSFAC=$$GET1^DIQ(165.5,PRM,51.5,"E")  ;RADIATION @FACILITY DATE
"RTN","ONCEDIT",145,0)
 S DRE=$$GET1^DIQ(165.5,PRM,361,"E")      ;DATE RADIATION ENDED
"RTN","ONCEDIT",146,0)
 S CI=$$GET1^DIQ(165.5,PRM,53.2,"I")      ;CHEMOTHERAPY
"RTN","ONCEDIT",147,0)
 S CE=$$GET1^DIQ(165.5,PRM,53.2,"E")
"RTN","ONCEDIT",148,0)
 S CFACI=$$GET1^DIQ(165.5,PRM,53.3,"I")   ;CHEMOTHERAPY @FAC
"RTN","ONCEDIT",149,0)
 S CFACE=$$GET1^DIQ(165.5,PRM,53.3,"E")   ;CHEMOTHERAPY @FAC
"RTN","ONCEDIT",150,0)
 S CD=$$GET1^DIQ(165.5,PRM,53,"E")        ;CHEMOTHERAPY DATE
"RTN","ONCEDIT",151,0)
 S CFACD=$$GET1^DIQ(165.5,PRM,53.4,"E")   ;CHEMOTHERAPY @FAC DATE
"RTN","ONCEDIT",152,0)
 S HTI=$$GET1^DIQ(165.5,PRM,54.2,"I")     ;HORMONE THERAPY
"RTN","ONCEDIT",153,0)
 S HTE=$$GET1^DIQ(165.5,PRM,54.2,"E")
"RTN","ONCEDIT",154,0)
 S HTFACI=$$GET1^DIQ(165.5,PRM,54.3,"I")  ;HORMONE THERAPY @FAC
"RTN","ONCEDIT",155,0)
 S HTFACE=$$GET1^DIQ(165.5,PRM,54.3,"E")
"RTN","ONCEDIT",156,0)
 S HTD=$$GET1^DIQ(165.5,PRM,54,"E")       ;HORMONE THERAPY DATE
"RTN","ONCEDIT",157,0)
 S HTFACD=$$GET1^DIQ(165.5,PRM,54.4,"E")  ;HORMONE THERAPY @FAC DATE
"RTN","ONCEDIT",158,0)
 S ITI=$$GET1^DIQ(165.5,PRM,55.2,"I")     ;IMMUNOTHERAPY
"RTN","ONCEDIT",159,0)
 S ITE=$$GET1^DIQ(165.5,PRM,55.2,"E")
"RTN","ONCEDIT",160,0)
 S ITFACI=$$GET1^DIQ(165.5,PRM,55.3,"I")  ;IMMUNOTHERAPY @FAC
"RTN","ONCEDIT",161,0)
 S ITFACE=$$GET1^DIQ(165.5,PRM,55.3,"E")
"RTN","ONCEDIT",162,0)
 S ITD=$$GET1^DIQ(165.5,PRM,55,"E")       ;IMMUNOTHERAPY DATE
"RTN","ONCEDIT",163,0)
 S ITFACD=$$GET1^DIQ(165.5,PRM,55.4,"E")  ;IMMUNOTHERAPY @FAC DATE
"RTN","ONCEDIT",164,0)
 S HTEPI=$$GET1^DIQ(165.5,PRM,153,"I")     ;HEMA TRANS/ENDOCRINE PROC
"RTN","ONCEDIT",165,0)
 S HTEPE=$$GET1^DIQ(165.5,PRM,153,"E")
"RTN","ONCEDIT",166,0)
 S HTEPD=$$GET1^DIQ(165.5,PRM,153.1,"E")  ;HEMA TRANS/ENDOCRINE PROC DATE
"RTN","ONCEDIT",167,0)
 I DRS="88/88/8888" D  D TXDT88,ERRMSG
"RTN","ONCEDIT",168,0)
 .S MSG(1)="DATE RADIATION STARTED = "_DRS
"RTN","ONCEDIT",169,0)
 I DRSFAC="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",170,0)
 .S MSG(1)="RADIATION @FACILITY DATE = "_DRSFAC
"RTN","ONCEDIT",171,0)
 I DRE="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",172,0)
 .S MSG(1)="DATE RADIATION ENDED = "_DRE
"RTN","ONCEDIT",173,0)
 I CI=88 D  D ERRMSG
"RTN","ONCEDIT",174,0)
 .S MSG(1)="CHEMOTHERAPY = "_CI_" ("_CE_")"
"RTN","ONCEDIT",175,0)
 I CD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",176,0)
 .S MSG(1)="CHEMOTHERAPY DATE = "_CD
"RTN","ONCEDIT",177,0)
 I CFACI=88 D  D ERRMSG
"RTN","ONCEDIT",178,0)
 .S MSG(1)="CHEMOTHERAPY @FAC = "_CFACI_" ("_CFACE_")"
"RTN","ONCEDIT",179,0)
 I CFACD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",180,0)
 .S MSG(1)="CHEMOTHERAPY @FAC DATE = "_CFACD
"RTN","ONCEDIT",181,0)
 I HTI=88 D  D ERRMSG
"RTN","ONCEDIT",182,0)
 .S MSG(1)="HORMONE THERAPY = "_HTI_" ("_HTE_")"
"RTN","ONCEDIT",183,0)
 I HTD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",184,0)
 .S MSG(1)="HORMONE THERAPY DATE = "_HTD
"RTN","ONCEDIT",185,0)
 I HTFACI=88 D  D ERRMSG
"RTN","ONCEDIT",186,0)
 .S MSG(1)="HORMONE THERAPY @FAC = "_HTFACI_" ("_HTFACE_")"
"RTN","ONCEDIT",187,0)
 I HTFACD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",188,0)
 .S MSG(1)="HORMONE THERAPY @FAC DATE = "_HTFACD
"RTN","ONCEDIT",189,0)
 I ITI=88 D  D ERRMSG
"RTN","ONCEDIT",190,0)
 .S MSG(1)="IMMUNOTHERAPY = "_ITI_" ("_ITE_")"
"RTN","ONCEDIT",191,0)
 I ITD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",192,0)
 .S MSG(1)="IMMUNOTHERAPY DATE = "_ITD
"RTN","ONCEDIT",193,0)
 I ITFACI=88 D  D ERRMSG
"RTN","ONCEDIT",194,0)
 .S MSG(1)="IMMUNOTHERAPY @FAC = "_ITFACI_" ("_ITFACE_")"
"RTN","ONCEDIT",195,0)
 I ITFACD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",196,0)
 .S MSG(1)="IMMUNOTHERAPY @FAC DATE = "_ITFACD
"RTN","ONCEDIT",197,0)
 I HTEPI=12 D  D ERRMSG
"RTN","ONCEDIT",198,0)
 .S MSG(1)="HEMA TRANS/ENDOCRINE PROC = 88 ("_HTEPE_")"
"RTN","ONCEDIT",199,0)
 I HTEPD="88/88/8888" D  D ERRMSG
"RTN","ONCEDIT",200,0)
 .S MSG(1)="HEMA TRANS/ENDOCRINE PROC DATE = "_HTEPD
"RTN","ONCEDIT",201,0)
 K CD,CE,CFACD,CFACE,CFACI,CI,DRE,DRS,DRSFAC,HTD,HTE,HTEPD,HTEPE,HTEPI
"RTN","ONCEDIT",202,0)
 K HTFACD,HTFACE,HTFACI,HTI,ITD,ITE,ITFACD,ITFACE,ITFACI,ITI
"RTN","ONCEDIT",203,0)
 ;
"RTN","ONCEDIT",204,0)
FCTD N FCTD
"RTN","ONCEDIT",205,0)
 S FCTD=$$GET1^DIQ(165.5,PRM,49)
"RTN","ONCEDIT",206,0)
 I FCTD="00/00/0000",COCI'=38 D  D ERRMSG
"RTN","ONCEDIT",207,0)
 .S MSG(1)="FIRST COURSE OF TREATMENT DATE = 00/00/0000"
"RTN","ONCEDIT",208,0)
 .S MSG(2)="CLASS OF CASE must be 38"
"RTN","ONCEDIT",209,0)
 .S MSG(3)="(Dx by autopsy at rpt facility)"
"RTN","ONCEDIT",210,0)
 I COCI=38,FCTD'="00/00/0000" D  D ERRMSG
"RTN","ONCEDIT",211,0)
 .S MSG(1)="CLASS OF CASE = 38"
"RTN","ONCEDIT",212,0)
 .S MSG(2)="(Dx by autopsy at rpt facility)"
"RTN","ONCEDIT",213,0)
 .S MSG(3)="FIRST COURSE OF TREATMENT DATE must be 00/00/0000"
"RTN","ONCEDIT",214,0)
 ;
"RTN","ONCEDIT",215,0)
PHCSEQ S SEQ=$$GET1^DIQ(165.5,PRM,.06,"I")
"RTN","ONCEDIT",216,0)
 S PHC=$$GET1^DIQ(165.5,PRM,148,"E")
"RTN","ONCEDIT",217,0)
 ;I PHC="Yes",SEQ="00" D  D ERRMSG
"RTN","ONCEDIT",218,0)
 ;.S MSG(1)="OTHER CANCER = Yes"
"RTN","ONCEDIT",219,0)
 ;.S MSG(2)="SEQUENCE NUMBER = "_SEQ
"RTN","ONCEDIT",220,0)
 ;.S MSG(3)="SEQUENCE NUMBER cannot not be 00"
"RTN","ONCEDIT",221,0)
 I PHC="No",(SEQ'="00")&(SEQ'=60) D  D ERRMSG
"RTN","ONCEDIT",222,0)
 .S MSG(1)="OTHER CANCER = No"
"RTN","ONCEDIT",223,0)
 .S MSG(2)="SEQUENCE NUMBER = "_SEQ
"RTN","ONCEDIT",224,0)
 .S MSG(3)="SEQUENCE NUMBER must be 00 or 60"
"RTN","ONCEDIT",225,0)
 K SEQ,PHC,MSG
"RTN","ONCEDIT",226,0)
 ;
"RTN","ONCEDIT",227,0)
 G ^ONCEDIT2
"RTN","ONCEDIT",228,0)
 ;
"RTN","ONCEDIT",229,0)
ERRMSG ;Error message
"RTN","ONCEDIT",230,0)
 S CMPLT=0
"RTN","ONCEDIT",231,0)
 W !," WARNING: "
"RTN","ONCEDIT",232,0)
 S MSGSUB=0 F  S MSGSUB=$O(MSG(MSGSUB)) Q:MSGSUB'>0  W ?10,MSG(MSGSUB),!
"RTN","ONCEDIT",233,0)
 R Z:10
"RTN","ONCEDIT",234,0)
 K MSGSUB,Z
"RTN","ONCEDIT",235,0)
 Q
"RTN","ONCEDIT",236,0)
 ;
"RTN","ONCEDIT",237,0)
TXDT88 ;Treatment date = 88/88/8888 error message
"RTN","ONCEDIT",238,0)
 S MSG(2)="This abstract cannot be 'Complete' without a valid treatment date."
"RTN","ONCEDIT",239,0)
 S MSG(3)="This inter-field edit WARNING may not be overridden."
"RTN","ONCEDIT",240,0)
 S OVERRIDE="NO"
"RTN","ONCEDIT",241,0)
 Q
"RTN","ONCEDIT",242,0)
 ;
"RTN","ONCEDIT",243,0)
CLEANUP ;Cleanup
"RTN","ONCEDIT",244,0)
 K CMPLT,OVERRIDE,PRM
"RTN","ONCEDIT2")
0^70^B36961845
"RTN","ONCEDIT2",1,0)
ONCEDIT2 ;Hines OIFO/GWB - ONCOLOGY INTERFIELD EDITS (continued);11/30/10
"RTN","ONCEDIT2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCEDIT2",3,0)
 ;
"RTN","ONCEDIT2",4,0)
IF1213 I BCOD=2,SSTI'=0 D  D ERRMSG
"RTN","ONCEDIT2",5,0)
 .S MSG(1)="BEHAVIOR CODE = 2 (In situ)"
"RTN","ONCEDIT2",6,0)
 .S MSG(2)="SUMMARY STAGE = "_SSTI_" ("_SSTE_")"
"RTN","ONCEDIT2",7,0)
 .S MSG(3)="BEHAVIOR CODE and SUMMARY STAGE confict"
"RTN","ONCEDIT2",8,0)
 I BCOD=3,SSTI=0 D  D ERRMSG
"RTN","ONCEDIT2",9,0)
 .S MSG(1)="BEHAVIOR CODE = 3 (Malignant)"
"RTN","ONCEDIT2",10,0)
 .S MSG(2)="SUMMARY STAGE = 0 (In situ)"
"RTN","ONCEDIT2",11,0)
 .S MSG(3)="BEHAVIOR CODE and SUMMARY STAGE confict"
"RTN","ONCEDIT2",12,0)
 K MSG
"RTN","ONCEDIT2",13,0)
 ;
"RTN","ONCEDIT2",14,0)
IF14 I $$LEUKEMIA^ONCOAIP2(PRM),TRSI'=7,SSTI'=7 D  D ERRMSG
"RTN","ONCEDIT2",15,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",16,0)
 .S MSG(2)="TYPE OF REPORTING SOURCE = "_TRSI_" ("_TRSE_")"
"RTN","ONCEDIT2",17,0)
 .S MSG(3)="SUMMARY STAGE must be 7 (Distant Mets/systemic disease)"
"RTN","ONCEDIT2",18,0)
 K MSG
"RTN","ONCEDIT2",19,0)
 ;
"RTN","ONCEDIT2",20,0)
IF1718 S HST4=$E(HSTI,1,4)
"RTN","ONCEDIT2",21,0)
 S GRDI=$$GET1^DIQ(165.5,PRM,24,"I") ;GRADE/DIFF/CELL TYPE 
"RTN","ONCEDIT2",22,0)
 S GRDE=$$GET1^DIQ(165.5,PRM,24,"E")
"RTN","ONCEDIT2",23,0)
 I ((HST4=8331)!(HST4=8851)!(HST4=9511)!(HST4=9693)),GRDI'=1 D  D ERRMSG
"RTN","ONCEDIT2",24,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",25,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be 1 (Grade I)"
"RTN","ONCEDIT2",26,0)
 I HST4=9083,GRDI'=2 D  D ERRMSG
"RTN","ONCEDIT2",27,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",28,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be 2 (Grade II)"
"RTN","ONCEDIT2",29,0)
 I ((HST4=8020)!(HST4=8021)!(HST4=9062)!(HST4=9082)!(HST4=9390)!(HST4=9401)!(HST4=9451)!(HST4=9512)),GRDI'=4 D  D ERRMSG
"RTN","ONCEDIT2",30,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",31,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be 4 (Grade IV)"
"RTN","ONCEDIT2",32,0)
 I (((DDXI<3010000)&(HST4=9696))!((DDXI>3001231)&(HST4=9695))),((GRDI'=3)&(GRDI'=5)&(GRDI'=6)&(GRDI'=7)) D  D ERRMSG
"RTN","ONCEDIT2",33,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",34,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be: 3 (Grade III)"
"RTN","ONCEDIT2",35,0)
 .S MSG(3)="                               5 (T-cell)"
"RTN","ONCEDIT2",36,0)
 .S MSG(4)="                               6 (B-cell)"
"RTN","ONCEDIT2",37,0)
 .S MSG(5)="                               7 (Null cell)"
"RTN","ONCEDIT2",38,0)
 I (((DDXI<3010000)&(HST4=9694))!((DDXI>3001231)&(HST4=9591))),((GRDI'=2)&(GRDI'=5)&(GRDI'=6)&(GRDI'=7)&(GRDI'=9)) D  D ERRMSG
"RTN","ONCEDIT2",39,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",40,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be: 2 (Grade II)"
"RTN","ONCEDIT2",41,0)
 .S MSG(3)="                               5 (T-cell)"
"RTN","ONCEDIT2",42,0)
 .S MSG(4)="                               6 (B-cell)"
"RTN","ONCEDIT2",43,0)
 .S MSG(5)="                               7 (Null cell)"
"RTN","ONCEDIT2",44,0)
 .S MSG(6)="                               9 (Unknown)"
"RTN","ONCEDIT2",45,0)
 I (((DDXI<3010000)&(HST4=9683))!((DDXI>3001231)&(HST4=9680))),((GRDI'=4)&(GRDI'=5)&(GRDI'=6)&(GRDI'=7)) D  D ERRMSG
"RTN","ONCEDIT2",46,0)
 .S MSG(1)="HISTOLOGY = "_HSTE
"RTN","ONCEDIT2",47,0)
 .S MSG(2)="GRADE/DIFF/CELL TYPE must be: 4 (Grade IV)"
"RTN","ONCEDIT2",48,0)
 .S MSG(3)="                               5 (T-cell)"
"RTN","ONCEDIT2",49,0)
 .S MSG(4)="                               6 (B-cell)"
"RTN","ONCEDIT2",50,0)
 .S MSG(5)="                               7 (Null cell)"
"RTN","ONCEDIT2",51,0)
IF19 I ((GRDI=5)!(GRDI=6)!(GRDI=7)!(GRDI=8)),((HST4<9590)!(HST4>9948)) D  D ERRMSG
"RTN","ONCEDIT2",52,0)
 .S MSG(1)="GRADE/DIFF/CELL TYPE = "_GRDI_" ("_GRDE_")"
"RTN","ONCEDIT2",53,0)
 .S MSG(2)="HISTOLOGY must be leukemia or lymphoma (9590-9948)"
"RTN","ONCEDIT2",54,0)
 K MSG,HST4,GRDI,GRDE
"RTN","ONCEDIT2",55,0)
 ;
"RTN","ONCEDIT2",56,0)
IF20 I ($E(HSTI,1,3)>958)&($E(HSTI,1,3)<973),SSTI="" D  D ERRMSG
"RTN","ONCEDIT2",57,0)
 .S MSG(1)="No TNM classification is available for LYMPHOMA"
"RTN","ONCEDIT2",58,0)
 .S MSG(2)="SUMMARY STAGE cannot be blank"
"RTN","ONCEDIT2",59,0)
 I HSTI=91403,SSTI="" D  D ERRMSG
"RTN","ONCEDIT2",60,0)
 .S MSG(1)="No TNM classification is available for KAPOSI'S SAROMA"
"RTN","ONCEDIT2",61,0)
 .S MSG(2)="SUMMARY STAGE cannot be blank"
"RTN","ONCEDIT2",62,0)
 K MSG
"RTN","ONCEDIT2",63,0)
 ;
"RTN","ONCEDIT2",64,0)
IF21 S EXTE=$$GET1^DIQ(165.5,PRM,30,"E")   ;EXTENSION
"RTN","ONCEDIT2",65,0)
 I BCOD=3,$E(EXTE,1,2)="00" D  D ERRMSG
"RTN","ONCEDIT2",66,0)
 .S MSG(1)="BEHAVIOR CODE = 3 (Malignant)"
"RTN","ONCEDIT2",67,0)
 .S MSG(2)="EXTENSION may not be 00 (In situ)"
"RTN","ONCEDIT2",68,0)
 K MSG,EXTE
"RTN","ONCEDIT2",69,0)
 ;
"RTN","ONCEDIT2",70,0)
IF22 S PEXI=$$GET1^DIQ(165.5,PRM,30.1,"I") ;PATHOLOGIC EXTENSION
"RTN","ONCEDIT2",71,0)
 S PEXE=$$GET1^DIQ(165.5,PRM,30.1,"E")
"RTN","ONCEDIT2",72,0)
 I PEXI'="",PEXI'=99,TOPI'=67619 D  D ERRMSG
"RTN","ONCEDIT2",73,0)
 .S MSG(1)="PRIMARY SITE = "_TOPE
"RTN","ONCEDIT2",74,0)
 .S MSG(2)="PATHOLGIC EXTENSION = "_PEXE
"RTN","ONCEDIT2",75,0)
 .S MSG(3)="PATHOLOGIC EXTENSION may only be coded for PROSTATE (C61.9) cases"
"RTN","ONCEDIT2",76,0)
 K MSG,PEXI,PEXE
"RTN","ONCEDIT2",77,0)
 ;
"RTN","ONCEDIT2",78,0)
IF24 S LYMP=$$GET1^DIQ(165.5,PRM,31,"I")   ;LYMPH NODES
"RTN","ONCEDIT2",79,0)
 S NPRI=$$GET1^DIQ(165.5,PRM,32,"I")   ;REGIONAL NODES POSITIVE
"RTN","ONCEDIT2",80,0)
 S NPRE=$$GET1^DIQ(165.5,PRM,32,"E")
"RTN","ONCEDIT2",81,0)
 I ((NPRI>0)&(NPRI<98)),LYMP=0 D  D ERRMSG
"RTN","ONCEDIT2",82,0)
 .S MSG(1)="REGIONAL NODES POSITIVE = "_NPRE
"RTN","ONCEDIT2",83,0)
 .S MSG(2)="LYMPH NODES may not be 0 (No lymph nodes)"
"RTN","ONCEDIT2",84,0)
 K MSG,LYMP,NPRI,NPRE
"RTN","ONCEDIT2",85,0)
IF2A S NERI=$$GET1^DIQ(165.5,PRM,33,"I")   ;REGIONAL NODES EXAMINED
"RTN","ONCEDIT2",86,0)
 S NPRI=$$GET1^DIQ(165.5,PRM,32,"I")   ;REGIONAL NODES POSITIVE
"RTN","ONCEDIT2",87,0)
 S NERE=$$GET1^DIQ(165.5,PRM,33,"E")
"RTN","ONCEDIT2",88,0)
 I ((NERI=99)&(NPRI'=99)) D  D ERRMSG
"RTN","ONCEDIT2",89,0)
 .S MSG(1)="REGIONAL NODES EXAMINED = 99 ("_NERE_")"
"RTN","ONCEDIT2",90,0)
 .S MSG(2)="REGIONAL NODES POSITIVE must be 99 (Unk if nodes + or -, NA)"
"RTN","ONCEDIT2",91,0)
 K MSG,NERI,NPRI,NERE
"RTN","ONCEDIT2",92,0)
 ;
"RTN","ONCEDIT2",93,0)
IF25 S HORI=$$GET1^DIQ(165.5,PRM,54.2,"I")  ;HORMONE THERAPY
"RTN","ONCEDIT2",94,0)
 S HORE=$$GET1^DIQ(165.5,PRM,54.2,"E")
"RTN","ONCEDIT2",95,0)
 I ((HORI=2)!(HORI=3)),((TOPI'=67619)&($E(TOPI,3,4)'=50)) D  D ERRMSG
"RTN","ONCEDIT2",96,0)
 .S MSG(1)="PRIMARY SITE = "_TOPE
"RTN","ONCEDIT2",97,0)
 .S MSG(2)="HORMONE THERAPY = "_HORI_" ("_HORE_")"
"RTN","ONCEDIT2",98,0)
 .S MSG(3)="Only BREAST and PROSTATE cases may be coded as receiving"
"RTN","ONCEDIT2",99,0)
 .S MSG(4)="endocrine surgery or endocrine radiation"
"RTN","ONCEDIT2",100,0)
 K MSG,HORI,HORE
"RTN","ONCEDIT2",101,0)
 ;
"RTN","ONCEDIT2",102,0)
IF2627 S PDTH=$$GET1^DIQ(160,PTN,21)         ;PLACE OF DEATH
"RTN","ONCEDIT2",103,0)
 I STAT="Dead",PDTH="" D  D ERRMSG
"RTN","ONCEDIT2",104,0)
 .S MSG(1)="STATUS = "_STAT
"RTN","ONCEDIT2",105,0)
 .S MSG(2)="PLACE OF DEATH may not be blank"
"RTN","ONCEDIT2",106,0)
 K MSG,PDTH
"RTN","ONCEDIT2",107,0)
 ;
"RTN","ONCEDIT2",108,0)
RACE S RACE1=$$GET1^DIQ(160,PTN,8)   ;RACE 1
"RTN","ONCEDIT2",109,0)
 S RACE2=$$GET1^DIQ(160,PTN,8.1) ;RACE 2
"RTN","ONCEDIT2",110,0)
 S RACE3=$$GET1^DIQ(160,PTN,8.2) ;RACE 3
"RTN","ONCEDIT2",111,0)
 S RACE4=$$GET1^DIQ(160,PTN,8.3) ;RACE 4
"RTN","ONCEDIT2",112,0)
 S RACE5=$$GET1^DIQ(160,PTN,8.4) ;RACE 5
"RTN","ONCEDIT2",113,0)
 I RACE1="White",((RACE2'="NA")&(RACE2'="Unknown")&(RACE2'="")) D  D ERRMSG
"RTN","ONCEDIT2",114,0)
 .S MSG(1)="RACE 1 = "_RACE1
"RTN","ONCEDIT2",115,0)
 .S MSG(2)="RACE 2 = "_RACE2
"RTN","ONCEDIT2",116,0)
 .S MSG(3)="RACE 3 = "_RACE3
"RTN","ONCEDIT2",117,0)
 .S MSG(4)="RACE 4 = "_RACE4
"RTN","ONCEDIT2",118,0)
 .S MSG(5)="RACE 5 = "_RACE5
"RTN","ONCEDIT2",119,0)
 .S MSG(6)="For race combinations RACE 1 may not be 'White'"
"RTN","ONCEDIT2",120,0)
 I (RACE1="")!(RACE2="")!(RACE3="")!(RACE4="")!(RACE5="") G RACEX
"RTN","ONCEDIT2",121,0)
 S RACE(RACE1)="" I ((RACE2'="NA")&(RACE2'="Unknown")),$D(RACE(RACE2)) D DUPRACE
"RTN","ONCEDIT2",122,0)
 S RACE(RACE2)="" I ((RACE3'="NA")&(RACE3'="Unknown")),$D(RACE(RACE3)) D DUPRACE
"RTN","ONCEDIT2",123,0)
 S RACE(RACE3)="" I ((RACE4'="NA")&(RACE4'="Unknown")),$D(RACE(RACE4)) D DUPRACE
"RTN","ONCEDIT2",124,0)
 S RACE(RACE4)="" I ((RACE5'="NA")&(RACE5'="Unknown")),$D(RACE(RACE5)) D DUPRACE
"RTN","ONCEDIT2",125,0)
 K MSG,RACE,RACE1,RACE2,RACE3,RACE4,RACE5
"RTN","ONCEDIT2",126,0)
 ;
"RTN","ONCEDIT2",127,0)
RACEX K BCOD,COCI,COCE,DDXI,DDXE,HSTI,HSTE,SSTI,SSTE,STAT,TOPI,TOPE,TRSI,TRSE
"RTN","ONCEDIT2",128,0)
 Q
"RTN","ONCEDIT2",129,0)
 ;
"RTN","ONCEDIT2",130,0)
DUPRACE S MSG(1)="RACE 1 = "_RACE1
"RTN","ONCEDIT2",131,0)
 S MSG(2)="RACE 2 = "_RACE2
"RTN","ONCEDIT2",132,0)
 S MSG(3)="RACE 3 = "_RACE3
"RTN","ONCEDIT2",133,0)
 S MSG(4)="RACE 4 = "_RACE4
"RTN","ONCEDIT2",134,0)
 S MSG(5)="RACE 5 = "_RACE5
"RTN","ONCEDIT2",135,0)
 S MSG(6)="A specific race code may not occur more than once"
"RTN","ONCEDIT2",136,0)
 D ERRMSG
"RTN","ONCEDIT2",137,0)
 Q
"RTN","ONCEDIT2",138,0)
 ;
"RTN","ONCEDIT2",139,0)
ERRMSG ;Error message
"RTN","ONCEDIT2",140,0)
 S CMPLT=0
"RTN","ONCEDIT2",141,0)
 W !," WARNING: "
"RTN","ONCEDIT2",142,0)
 S MSGSUB=0 F  S MSGSUB=$O(MSG(MSGSUB)) Q:MSGSUB'>0  W ?10,MSG(MSGSUB),!
"RTN","ONCEDIT2",143,0)
 R Z:10
"RTN","ONCEDIT2",144,0)
 Q
"RTN","ONCEDIT2",145,0)
 ;
"RTN","ONCEDIT2",146,0)
CLEANUP ;Cleanup
"RTN","ONCEDIT2",147,0)
 K CMPLT,MSGSUB,PRM,PTN,Z
"RTN","ONCEECA")
0^71^B275860
"RTN","ONCEECA",1,0)
ONCEECA ;Hines OIFO/GWB - Enter/edit CHEMOTHERPEUTIC DRUGS (164.18) file ;11/3/08
"RTN","ONCEECA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCEECA",3,0)
 ;
"RTN","ONCEECA",4,0)
EECA W ! S (DIC,DIE)="^ONCO(164.18,",DIC(0)="AELMQZ",DLAYGO=164.18 D ^DIC
"RTN","ONCEECA",5,0)
 I Y=-1 G EXIT
"RTN","ONCEECA",6,0)
 S DA=+Y
"RTN","ONCEECA",7,0)
 W ! S DR=".01;1;2" D ^DIE
"RTN","ONCEECA",8,0)
 G EECA
"RTN","ONCEECA",9,0)
 ;
"RTN","ONCEECA",10,0)
EXIT ;Exit routine
"RTN","ONCEECA",11,0)
 K DA,DIC,DIE,DLAYGO,DR,Y
"RTN","ONCENV16")
1^378
"RTN","ONCENV21")
1^379
"RTN","ONCFIX")
1^416
"RTN","ONCFUNC")
0^72^B47880653
"RTN","ONCFUNC",1,0)
ONCFUNC ;Hines OIFO/GWB - OncoTrax functions ;05/03/12
"RTN","ONCFUNC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCFUNC",3,0)
 ;
"RTN","ONCFUNC",4,0)
 ;
"RTN","ONCFUNC",5,0)
SHN() ;STATE HOSPITAL NUMBER (160.1,1.03)
"RTN","ONCFUNC",6,0)
 N OSP,SHN
"RTN","ONCFUNC",7,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCFUNC",8,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCFUNC",9,0)
 S SHN=$$GET1^DIQ(160.1,OSP,1.03,"I")
"RTN","ONCFUNC",10,0)
 Q SHN
"RTN","ONCFUNC",11,0)
 ;
"RTN","ONCFUNC",12,0)
IIN() ;INSTITUTION ID NUMBER (160.1,27)
"RTN","ONCFUNC",13,0)
 N IIN,OSP
"RTN","ONCFUNC",14,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCFUNC",15,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCFUNC",16,0)
 S IIN=$$GET1^DIQ(160.1,OSP,27,"I")
"RTN","ONCFUNC",17,0)
 S IIN=$$GET1^DIQ(160.19,IIN,.01,"I")
"RTN","ONCFUNC",18,0)
 Q IIN
"RTN","ONCFUNC",19,0)
 ;
"RTN","ONCFUNC",20,0)
FLNAME(NAME) ;COMPUTED EXPRESSION for FIRST-LAST (160,.012)
"RTN","ONCFUNC",21,0)
 N DFN,FIRST,LAST,MIDDLE,PL,SUFFIX,TNAME
"RTN","ONCFUNC",22,0)
 S TNAME=NAME,DFN=D0
"RTN","ONCFUNC",23,0)
 S LAST=$P(TNAME,","),TNAME=$P(TNAME,",",2)
"RTN","ONCFUNC",24,0)
 S FIRST=$P(TNAME," "),MIDDLE=$P(TNAME," ",2)
"RTN","ONCFUNC",25,0)
 S SUFFIX=$P(TNAME," ",3)
"RTN","ONCFUNC",26,0)
 I MIDDLE["""" S MIDDLE=""
"RTN","ONCFUNC",27,0)
 S TNAME=FIRST_" "_MIDDLE_" "_LAST_" "_SUFFIX
"RTN","ONCFUNC",28,0)
SP I $F(TNAME,"  ") S PL=$F(TNAME,"  "),TNAME=$E(TNAME,1,PL-2)_$E(TNAME,PL,$L(TNAME)) G SP
"RTN","ONCFUNC",29,0)
 Q TNAME
"RTN","ONCFUNC",30,0)
 ;
"RTN","ONCFUNC",31,0)
DIV(IEN) ;DIVISION (165.5,2000)
"RTN","ONCFUNC",32,0)
 N DIV
"RTN","ONCFUNC",33,0)
 S DIV=$G(^ONCO(165.5,IEN,"DIV"))
"RTN","ONCFUNC",34,0)
 Q DIV
"RTN","ONCFUNC",35,0)
 ;
"RTN","ONCFUNC",36,0)
SUSDIV(IEN,SUSIEN) ;DIVISION (160,30)
"RTN","ONCFUNC",37,0)
 N DIV
"RTN","ONCFUNC",38,0)
 S DIV=$P($G(^ONCO(160,IEN,"SUS",SUSIEN,0)),U,4)
"RTN","ONCFUNC",39,0)
 Q DIV
"RTN","ONCFUNC",40,0)
 ;
"RTN","ONCFUNC",41,0)
PFTD(IEN) ;Primaries for this division
"RTN","ONCFUNC",42,0)
 N PFTD,PRI
"RTN","ONCFUNC",43,0)
 S PFTD="N"
"RTN","ONCFUNC",44,0)
 S PRI=0 F  S PRI=$O(^ONCO(165.5,"C",IEN,PRI)) Q:PRI'>0  I $P($G(^ONCO(165.5,PRI,"DIV")),U,1)=DUZ(2) S PFTD="Y"
"RTN","ONCFUNC",45,0)
 Q PFTD
"RTN","ONCFUNC",46,0)
 ;
"RTN","ONCFUNC",47,0)
PRICNT ;TOTAL PRIMARIES FOR PATIENT (160,17)
"RTN","ONCFUNC",48,0)
 S PRI=0,PRICNT=0 F  S PRI=$O(^ONCO(165.5,"C",D0,PRI)) Q:PRI'>0  I $P($G(^ONCO(165.5,PRI,"DIV")),U,1)=DUZ(2) D
"RTN","ONCFUNC",49,0)
 .S PRICNT=PRICNT+1
"RTN","ONCFUNC",50,0)
 S X=PRICNT
"RTN","ONCFUNC",51,0)
 K PRI,PRICNT
"RTN","ONCFUNC",52,0)
 Q
"RTN","ONCFUNC",53,0)
 ;
"RTN","ONCFUNC",54,0)
DIDIV(IEN) ;Disease Index DIVISION screen
"RTN","ONCFUNC",55,0)
 ;Supported by IAs #417 and #2028
"RTN","ONCFUNC",56,0)
 N DIVMATCH
"RTN","ONCFUNC",57,0)
 S DIVMATCH="N"
"RTN","ONCFUNC",58,0)
 S VIPNT=$P($G(^AUPNVPOV(D0,0)),U,3) G:VIPNT="" DIDIVEX
"RTN","ONCFUNC",59,0)
 S HLPNT=$P($G(^AUPNVSIT(VIPNT,0)),U,22) G:HLPNT="" DIDIVEX
"RTN","ONCFUNC",60,0)
 S MCPNT=$P($G(^SC(HLPNT,0)),U,15) G:MCPNT="" DIDIVEX
"RTN","ONCFUNC",61,0)
 S INPNT=$P($G(^DG(40.8,MCPNT,0)),U,7)
"RTN","ONCFUNC",62,0)
 I (INPNT=DUZ(2))!(AFLDIV[INPNT) S DIVMATCH="Y"
"RTN","ONCFUNC",63,0)
DIDIVEX K HLPNT,INPNT,MCPNT,VIPNT
"RTN","ONCFUNC",64,0)
 Q DIVMATCH
"RTN","ONCFUNC",65,0)
 ;
"RTN","ONCFUNC",66,0)
HIST(IEN,HSTFLD,HISTNAM,ICDFILE,ICDNUM) ;
"RTN","ONCFUNC",67,0)
 ;Histology ICD-O-2 (165.5,22) or Histology ICD-O-3 (165.5,22.3)
"RTN","ONCFUNC",68,0)
 N HISTICD,HNODE,ONCDTDX
"RTN","ONCFUNC",69,0)
 S ONCDTDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCFUNC",70,0)
 S ICDNUM=3 I ONCDTDX<3010000 S ICDNUM=2
"RTN","ONCFUNC",71,0)
 S HNODE=$S(ICDNUM=3:2.2,1:2),ICDFILE=$S(ICDNUM=3:169.3,1:164.1)
"RTN","ONCFUNC",72,0)
 S HSTFLD=$S(ICDNUM=3:22.3,1:22)
"RTN","ONCFUNC",73,0)
 S HISTICD=$P($G(^ONCO(165.5,IEN,HNODE)),U,3)
"RTN","ONCFUNC",74,0)
 S HISTNAM=""
"RTN","ONCFUNC",75,0)
 I HISTICD'="" S HISTNAM=$P($G(^ONCO(ICDFILE,HISTICD,0)),U,1)
"RTN","ONCFUNC",76,0)
 Q HISTICD
"RTN","ONCFUNC",77,0)
 ;
"RTN","ONCFUNC",78,0)
LYMPHOMA(IEN) ;Hodgkin and non-Hodgkin Lymphomas
"RTN","ONCFUNC",79,0)
 N LYMPHOMA
"RTN","ONCFUNC",80,0)
 S LYMPHOMA=0
"RTN","ONCFUNC",81,0)
 S ONCDTDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCFUNC",82,0)
 S HSTICD=$$HIST^ONCFUNC(IEN)
"RTN","ONCFUNC",83,0)
 S HST123=$E(HSTICD,1,3)
"RTN","ONCFUNC",84,0)
 I ONCDTDX<3010000,(HST123>958)&(HST123<972) S LYMPHOMA=1
"RTN","ONCFUNC",85,0)
 I ONCDTDX>3001231,(HST123>958)&(HST123<973) S LYMPHOMA=1
"RTN","ONCFUNC",86,0)
 I ONCDTDX>3091231,(HSTICD=97353)!(HSTICD=97373)!(HSTICD=97383) S LYMPHOMA=1
"RTN","ONCFUNC",87,0)
 K HST123,HSTICD,ONCDTDX
"RTN","ONCFUNC",88,0)
 Q LYMPHOMA
"RTN","ONCFUNC",89,0)
 ;
"RTN","ONCFUNC",90,0)
LYMPH(IEN) ;Lymphomas
"RTN","ONCFUNC",91,0)
 N LYMPHOMA
"RTN","ONCFUNC",92,0)
 S LYMPHOMA=0
"RTN","ONCFUNC",93,0)
 S ONCDTDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCFUNC",94,0)
 S HSTICD=$$HIST^ONCFUNC(IEN)
"RTN","ONCFUNC",95,0)
 S HST14=$E(HSTICD,1,4)
"RTN","ONCFUNC",96,0)
 I ONCDTDX<3100000 D
"RTN","ONCFUNC",97,0)
 .I ((HST14>9589)&(HST14<9597))!((HST14>9649)&(HST14<9720))!((HST14>9726)&(HST14<9730)) S LYMPHOMA=1
"RTN","ONCFUNC",98,0)
 I ONCDTDX>3091221 D
"RTN","ONCFUNC",99,0)
 .I ((HST14>9589)&(HST14<9727))!((HST14>9727)&(HST14<9733))!((HST14>9733)&(HST14<9741))!((HST14>9749)&(HST14<9763))!((HST14>9810)&(HST14<9832))!(HST14=9940)!(HST14=9980)!(HST14=9971) S LYMPHOMA=1
"RTN","ONCFUNC",100,0)
 K HST14,HSTICD,ONCDTDX
"RTN","ONCFUNC",101,0)
 Q LYMPHOMA
"RTN","ONCFUNC",102,0)
 ;
"RTN","ONCFUNC",103,0)
HEMATO(IEN) ;Hematopoietic, reticuloendothelial, immunoproliferative or
"RTN","ONCFUNC",104,0)
 ; myeloproliferative disease
"RTN","ONCFUNC",105,0)
 N HEMATO
"RTN","ONCFUNC",106,0)
 S HEMATO=0
"RTN","ONCFUNC",107,0)
 S ONCDTDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCFUNC",108,0)
 S HSTICD=$$HIST^ONCFUNC(IEN)
"RTN","ONCFUNC",109,0)
 S HST14=$E(HSTICD,1,4)
"RTN","ONCFUNC",110,0)
 I ONCDTDX<3100000 D
"RTN","ONCFUNC",111,0)
 .I (HST14=9750)!((HST14>9759)&(HST14<9765))!((HST14>9799)&(HST14<9821))!(HST14=9826)!((HST14>9830)&(HST14<9921))!((HST14>9930)&(HST14<9965))!((HST14>9979)&(HST14<9990)) S HEMATO=1
"RTN","ONCFUNC",112,0)
 I ONCDTDX>3091221 D
"RTN","ONCFUNC",113,0)
 .I (HST14=9727)!(HST14=9733)!(HST14=9741)!(HST14=9742)!((HST14>9763)&(HST14<9810))!(HST14=9832)!((HST14>9839)&(HST14<9932))!(HST14=9945)!(HST14=9946)!((HST14>9949)&(HST14<9968))!((HST14>9974)&(HST14<9993)) S HEMATO=1
"RTN","ONCFUNC",114,0)
 K HST14,HSTICD,ONCDTDX
"RTN","ONCFUNC",115,0)
 Q HEMATO
"RTN","ONCFUNC",116,0)
 ;
"RTN","ONCFUNC",117,0)
CC ;COMORBIDITY/COMPLICATION #1-10 (160,25-25.9) screen
"RTN","ONCFUNC",118,0)
 ;
"RTN","ONCFUNC",119,0)
 ;Use ICD API (#3990) instead of direct global read.
"RTN","ONCFUNC",120,0)
 N ONCICDY,ONCFLAG
"RTN","ONCFUNC",121,0)
 S ONCFLAG=0
"RTN","ONCFUNC",122,0)
 S ONCICDY=$$ICDDX^ICDCODE(Y) Q:ONCICDY=-1
"RTN","ONCFUNC",123,0)
 I $E($P(ONCICDY,U,2),1)="V",+($E($P(ONCICDY,U,2),2,9)>7.1)&+($E($P(ONCICDY,U,2),2,9)<7.4) S ONCFLAG=1
"RTN","ONCFUNC",124,0)
 I $E($P(ONCICDY,U,2),1)="V",+($E($P(ONCICDY,U,2),2,9)>9.91)&+($E($P(ONCICDY,U,2),2,9)<16) S ONCFLAG=1
"RTN","ONCFUNC",125,0)
 I $E($P(ONCICDY,U,2),1)="V",+($E($P(ONCICDY,U,2),2,9)>21.9)&+($E($P(ONCICDY,U,2),2,9)<23.2) S ONCFLAG=1
"RTN","ONCFUNC",126,0)
 I $E($P(ONCICDY,U,2),1)="V",+($E($P(ONCICDY,U,2),2,9)>25.3)&+($E($P(ONCICDY,U,2),2,9)<25.5) S ONCFLAG=1
"RTN","ONCFUNC",127,0)
 I $E($P(ONCICDY,U,2),1)="V",+($E($P(ONCICDY,U,2),2,9)>43.89)&+($E($P(ONCICDY,U,2),2,9)<46) S ONCFLAG=1
"RTN","ONCFUNC",128,0)
 I $E($P(ONCICDY,U,2),1)="V",+($E($P(ONCICDY,U,2),2,9)>50.4)&+($E($P(ONCICDY,U,2),2,9)<50.8) S ONCFLAG=1
"RTN","ONCFUNC",129,0)
 I $E($P(ONCICDY,U,2),1)'="V",$E($P(ONCICDY,U,2),1)="E",($E($P(ONCICDY,U,2),2,9)>869.9)&($E($P(ONCICDY,U,2),2,9)<880) S ONCFLAG=1
"RTN","ONCFUNC",130,0)
 I $E($P(ONCICDY,U,2),1)'="V",$E($P(ONCICDY,U,2),1)="E",($E($P(ONCICDY,U,2),2,9)>929.9)&($E($P(ONCICDY,U,2),2,9)<950) S ONCFLAG=1
"RTN","ONCFUNC",131,0)
 I $E($P(ONCICDY,U,2),1)'="V",$E($P(ONCICDY,U,2),1)'="E",($P(ONCICDY,U,2)<140)!($P(ONCICDY,U,2)>239.9) S ONCFLAG=1
"RTN","ONCFUNC",132,0)
 I ($P(ONCICDY,U,1)="-1")!($P(ONCICDY,U,10)=0)!($P(ONCICDY,U,1)>499999) S ONCFLAG=0
"RTN","ONCFUNC",133,0)
 I ONCFLAG=1 Q
"RTN","ONCFUNC",134,0)
 Q
"RTN","ONCFUNC",135,0)
SDIAG ;Secondary Diagnosis 1 - 10
"RTN","ONCFUNC",136,0)
 ;Use ICD API (#3990) instead of direct global read.
"RTN","ONCFUNC",137,0)
 N ONCICDY,ONCFLAG
"RTN","ONCFUNC",138,0)
 S ONCFLAG=0
"RTN","ONCFUNC",139,0)
 S ONCICDY=$$ICDDX^ICDCODE(Y) Q:ONCICDY=-1
"RTN","ONCFUNC",140,0)
 I ($P(ONCICDY,U,1)>499999) S ONCFLAG=1
"RTN","ONCFUNC",141,0)
 I ($P(ONCICDY,U,1)="-1") S ONCFLAG=0
"RTN","ONCFUNC",142,0)
 I ONCFLAG=1 Q
"RTN","ONCFUNC",143,0)
 Q
"RTN","ONCFUNC",144,0)
 ;
"RTN","ONCFUNC",145,0)
DSTS(IEN) ;DATE SYSTEMIC THERAPY STARTED
"RTN","ONCFUNC",146,0)
 N X
"RTN","ONCFUNC",147,0)
 S X=$$GET1^DIQ(165.5,IEN,53,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCFUNC",148,0)
 S X=$$GET1^DIQ(165.5,IEN,54,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCFUNC",149,0)
 S X=$$GET1^DIQ(165.5,IEN,55,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCFUNC",150,0)
 S DSTS=$O(DSTSDT(0))
"RTN","ONCFUNC",151,0)
 S X=$$DATE^ONCACDU1(DSTS)
"RTN","ONCFUNC",152,0)
 K DSTS,DSTSDT
"RTN","ONCFUNC",153,0)
 Q X
"RTN","ONCFUNC",154,0)
 ;
"RTN","ONCFUNC",155,0)
DUPPRI ;Check for duplicate primaries belonging to another DIVISION
"RTN","ONCFUNC",156,0)
 K TMP
"RTN","ONCFUNC",157,0)
 S XD1=0
"RTN","ONCFUNC",158,0)
 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  D
"RTN","ONCFUNC",159,0)
 .S PS=$$GET1^DIQ(165.5,XD1,20,"I")
"RTN","ONCFUNC",160,0)
 .S SN=$$GET1^DIQ(165.5,XD1,.06,"I")
"RTN","ONCFUNC",161,0)
 .S DIV=$$GET1^DIQ(165.5,XD1,2000,"I")
"RTN","ONCFUNC",162,0)
 .S TMP(PS_U_SN,DIV)=XD1
"RTN","ONCFUNC",163,0)
 .S TMP(PS_U_SN)=$G(TMP(PS_U_SN))+1
"RTN","ONCFUNC",164,0)
 S PSSN="" F  S PSSN=$O(TMP(PSSN)) Q:PSSN'>0  I TMP(PSSN)>1 D
"RTN","ONCFUNC",165,0)
 .S DIV="" F  S DIV=$O(TMP(PSSN,DIV)) Q:DIV'>0  I DIV=DUZ(2) D  Q 
"RTN","ONCFUNC",166,0)
 ..W !
"RTN","ONCFUNC",167,0)
 ..W !," NOTE: This patient has more than one primary with the same"
"RTN","ONCFUNC",168,0)
 ..W !,"       SEQUENCE NUMBER and PRIMARY SITE.  These primaries"
"RTN","ONCFUNC",169,0)
 ..W !,"       belong to different divisions.  You may wish to notify"
"RTN","ONCFUNC",170,0)
 ..W !,"       the other division of any significant changes for this patient."
"RTN","ONCFUNC",171,0)
 ..W !
"RTN","ONCFUNC",172,0)
 ..S J=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $D(^ONCO(165.5,XD1,0)) S J=J+1 D ^ONCOCOML
"RTN","ONCFUNC",173,0)
 ..K DIR S DIR(0)="E" D ^DIR
"RTN","ONCFUNC",174,0)
 K DIR,DIV,J,PS,PSSN,SN,TMP,XD0,XD1
"RTN","ONCFUNC",175,0)
 ;
"RTN","ONCFUNC",176,0)
CLEANUP ;Cleanup
"RTN","ONCFUNC",177,0)
 K AFLDIV,D0,Y
"RTN","ONCGENED")
0^73^B26470345
"RTN","ONCGENED",1,0)
ONCGENED ;Hines OIFO/GWB - EDITS API ;10/19/11
"RTN","ONCGENED",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGENED",3,0)
 ;
"RTN","ONCGENED",4,0)
NAACCR D CLEAR^ONCSAPIE(1)
"RTN","ONCGENED",5,0)
 K ^TMP("ONC",$J)
"RTN","ONCGENED",6,0)
 K ^TMP("ONC1",$J)
"RTN","ONCGENED",7,0)
 N BLANK,DEVICE,DXH,EXT,IINPNT,MSGLST,NINE,OIEN,ONCEDLST,OSP
"RTN","ONCGENED",8,0)
 N PAGE,PAGEX,STAT1,ZERO,ZNINE
"RTN","ONCGENED",9,0)
 S BLANK=" "
"RTN","ONCGENED",10,0)
 S ZERO=0
"RTN","ONCGENED",11,0)
 S NINE=9
"RTN","ONCGENED",12,0)
 S ZNINE="09"
"RTN","ONCGENED",13,0)
 ;S EXTRACT=$O(^ONCO(160.16,"B","VACCR EXTRACT V13.0",0))
"RTN","ONCGENED",14,0)
 S EXTRACT=3
"RTN","ONCGENED",15,0)
 S EXT="VACCR"
"RTN","ONCGENED",16,0)
 S EXTVER=$G(^ONCO(160.16,EXTRACT,"FIELD",5,4))
"RTN","ONCGENED",17,0)
 S DEVICE=0,OIEN=0,PAGE=1,OUT=0
"RTN","ONCGENED",18,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCGENED",19,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCGENED",20,0)
 S IINPNT=$P($G(^ONCO(160.1,OSP,1)),U,4)
"RTN","ONCGENED",21,0)
 S DXH=$$GET1^DIQ(160.19,IINPNT,.01,"I")
"RTN","ONCGENED",22,0)
 S STAT1=DXH
"RTN","ONCGENED",23,0)
 S PAGE=1
"RTN","ONCGENED",24,0)
 S IEN=D0
"RTN","ONCGENED",25,0)
 S ONCDST=$NA(^TMP("ONC",$J))
"RTN","ONCGENED",26,0)
 S MSGLST=$NA(^TMP("ONC1",$J))
"RTN","ONCGENED",27,0)
 ;
"RTN","ONCGENED",28,0)
 S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.ONCDST)
"RTN","ONCGENED",29,0)
 ;S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.ONCDST,"DEBUG")
"RTN","ONCGENED",30,0)
 ;S ERRFLG=RC
"RTN","ONCGENED",31,0)
 I RC<0 D PRTERRS^ONCSAPIE() Q
"RTN","ONCGENED",32,0)
 ;
"RTN","ONCGENED",33,0)
 N D0
"RTN","ONCGENED",34,0)
 D OUTPUT(IEN,EXTRACT,.OUT)
"RTN","ONCGENED",35,0)
 I $G(EDITS)="NO" D END^ONCSNACR(.ONCDST) Q
"RTN","ONCGENED",36,0)
 ;
"RTN","ONCGENED",37,0)
EDITS S RC=$$RBQEXEC^ONCSED01(.ONCSAPI,.ONCDST,MSGLST)
"RTN","ONCGENED",38,0)
 S ERRFLG=RC
"RTN","ONCGENED",39,0)
 I RC<0 D PRTERRS^ONCSAPIE()
"RTN","ONCGENED",40,0)
 I RC>0 D  Q:RC<0
"RTN","ONCGENED",41,0)
 . N %ZIS,IOP,POP
"RTN","ONCGENED",42,0)
 . S %ZIS("B")="HOME"
"RTN","ONCGENED",43,0)
 . D ^%ZIS  Q:$G(POP)  U IO
"RTN","ONCGENED",44,0)
 . S RC=$$REPORT^ONCSED01(.ONCSAPI,MSGLST,"MT")
"RTN","ONCGENED",45,0)
 . D ^%ZISC
"RTN","ONCGENED",46,0)
 Q
"RTN","ONCGENED",47,0)
 ;
"RTN","ONCGENED",48,0)
OUTPUT(IEN,EXTRACT,OUT) ;
"RTN","ONCGENED",49,0)
 N POS
"RTN","ONCGENED",50,0)
 S ACD160=$P(^ONCO(165.5,IEN,0),U,2)
"RTN","ONCGENED",51,0)
 S POS=0
"RTN","ONCGENED",52,0)
 F  S POS=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCGENED",53,0)
 .N NODE
"RTN","ONCGENED",54,0)
 .S NODE=0
"RTN","ONCGENED",55,0)
 .F  S NODE=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCGENED",56,0)
 ..N STRING,DEFAULT,FILL,LEN
"RTN","ONCGENED",57,0)
 ..Q:$G(^ONCO(160.16,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCGENED",58,0)
 ..S STRING=$TR(^ONCO(160.16,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCGENED",59,0)
 ..S DEFAULT=^ONCO(160.16,EXTRACT,"FIELD",NODE,2)
"RTN","ONCGENED",60,0)
 ..S FILL=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,3),U,1)
"RTN","ONCGENED",61,0)
 ..S LEN=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCGENED",62,0)
 ..D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,NODE,POS)
"RTN","ONCGENED",63,0)
 Q
"RTN","ONCGENED",64,0)
 ;
"RTN","ONCGENED",65,0)
DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,NODE,POS) ;Data print
"RTN","ONCGENED",66,0)
 N ACDANS
"RTN","ONCGENED",67,0)
 X STRING
"RTN","ONCGENED",68,0)
 I ACDANS="" D  Q
"RTN","ONCGENED",69,0)
 .N X,I
"RTN","ONCGENED",70,0)
 .S X=""
"RTN","ONCGENED",71,0)
 .I DEFAULT=8 D  Q
"RTN","ONCGENED",72,0)
 ..F I=1:1:LEN D WRITE^ONCSNACR(.ONCDST,DEFAULT)
"RTN","ONCGENED",73,0)
 .I @DEFAULT="09" D WRITE^ONCSNACR(.ONCDST,@DEFAULT) Q
"RTN","ONCGENED",74,0)
 .F I=1:1:LEN D WRITE^ONCSNACR(.ONCDST,@DEFAULT)
"RTN","ONCGENED",75,0)
 I $L(ACDANS)=LEN D WRITE^ONCSNACR(.ONCDST,ACDANS) Q
"RTN","ONCGENED",76,0)
 I $L(ACDANS)>LEN D WRITE^ONCSNACR(.ONCDST,$E(ACDANS,1,LEN)) Q
"RTN","ONCGENED",77,0)
 E  D  Q
"RTN","ONCGENED",78,0)
 .N JUST,STUFF,I,REM,CAL
"RTN","ONCGENED",79,0)
 .S JUST=$P(FILL,","),STUFF=$P(FILL,",",2)
"RTN","ONCGENED",80,0)
 .S REM=LEN-$L(ACDANS)
"RTN","ONCGENED",81,0)
 .I JUST="R" D WRITE^ONCSNACR(.ONCDST,ACDANS)
"RTN","ONCGENED",82,0)
 .F I=1:1:REM D WRITE^ONCSNACR(.ONCDST,@STUFF)
"RTN","ONCGENED",83,0)
 .I JUST="L" D WRITE^ONCSNACR(.ONCDST,ACDANS)
"RTN","ONCGENED",84,0)
 Q
"RTN","ONCGENED",85,0)
 ;
"RTN","ONCGENED",86,0)
CHKSUM ;Compute checksum
"RTN","ONCGENED",87,0)
 N CHECKSUM
"RTN","ONCGENED",88,0)
 Q:'$D(ONCDST)
"RTN","ONCGENED",89,0)
 Q:$P($G(^ONCO(165.5,D0,7)),U,2)'=3
"RTN","ONCGENED",90,0)
 W !," Computing checksum value for this abstract..."
"RTN","ONCGENED",91,0)
 S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCGENED",92,0)
 S $P(^ONCO(165.5,D0,"EDITS"),U,1)=CHECKSUM
"RTN","ONCGENED",93,0)
 S $P(^ONCO(165.5,D0,"EDITS"),U,2)=EXTVER
"RTN","ONCGENED",94,0)
 Q
"RTN","ONCGENED",95,0)
 ;
"RTN","ONCGENED",96,0)
CHANGE ;Check for change to ONCOLOGY PRIMARY (165.5) record
"RTN","ONCGENED",97,0)
 ;first check if there are missing required fields.
"RTN","ONCGENED",98,0)
 ;if there are and DTDX>3031231, set abstract status to incomplete - P54
"RTN","ONCGENED",99,0)
 N ONCFILE,DTDX,PRM
"RTN","ONCGENED",100,0)
 S ONCFILE=165.5,PRM=ONCOD0P
"RTN","ONCGENED",101,0)
 S DTDX=$P(^ONCO(165.5,PRM,0),U,16)
"RTN","ONCGENED",102,0)
 D F1655^ONCOEDC1
"RTN","ONCGENED",103,0)
 I $D(LIST),(DTDX>3031231),ABSTAT=3 D  Q
"RTN","ONCGENED",104,0)
 .S ONCTYP="A" D PRINT^ONCOEDC
"RTN","ONCGENED",105,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCGENED",106,0)
 .S DA=ONCOD0P
"RTN","ONCGENED",107,0)
 .S DR="91///^S X=0" D ^DIE
"RTN","ONCGENED",108,0)
 .W !!,"ABSTRACT STATUS changed to 0 (Incomplete).",!
"RTN","ONCGENED",109,0)
 .K DIR S DIR(0)="E" D ^DIR
"RTN","ONCGENED",110,0)
 ;
"RTN","ONCGENED",111,0)
 N CHECKSUM,ERRFLG
"RTN","ONCGENED",112,0)
 S EDITS="NO" D NAACCR K EDITS
"RTN","ONCGENED",113,0)
 S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCGENED",114,0)
 Q:$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,1)=""
"RTN","ONCGENED",115,0)
 I CHECKSUM'=$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,1) D
"RTN","ONCGENED",116,0)
 .W !
"RTN","ONCGENED",117,0)
 .W !," You have made a change to a 'Complete' abstract."
"RTN","ONCGENED",118,0)
 .W !," This abstract needs to be re-run through the EDITS API."
"RTN","ONCGENED",119,0)
 .W !!," Calling EDITS API..."
"RTN","ONCGENED",120,0)
 .S $P(^ONCO(165.5,ONCOD0P,"EDITS"),U,3)="U"
"RTN","ONCGENED",121,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCGENED",122,0)
 .S DA=ONCOD0P
"RTN","ONCGENED",123,0)
 .S DR="198///^S X=DT"
"RTN","ONCGENED",124,0)
 .D ^DIE
"RTN","ONCGENED",125,0)
 .D ^ONCGENED
"RTN","ONCGENED",126,0)
 .I ERRFLG'=0 D  Q
"RTN","ONCGENED",127,0)
 ..W !!," EDITS errors were encountered."
"RTN","ONCGENED",128,0)
 ..W !!," The ABSTRACT STATUS has been changed to 0 (Incomplete)."
"RTN","ONCGENED",129,0)
 ..S DIE="^ONCO(165.5,"
"RTN","ONCGENED",130,0)
 ..S DA=ONCOD0P
"RTN","ONCGENED",131,0)
 ..S DR="91///0;197///@;199////^S X=DUZ"
"RTN","ONCGENED",132,0)
 ..D ^DIE
"RTN","ONCGENED",133,0)
 ..W !
"RTN","ONCGENED",134,0)
 ..Q:$G(EAFLAG)="YES"
"RTN","ONCGENED",135,0)
 ..K DIR S DIR(0)="YA"
"RTN","ONCGENED",136,0)
 ..S DIR("A")=" Do you wish to return to the Primary Menu Options? "
"RTN","ONCGENED",137,0)
 ..S DIR("B")="Yes" D ^DIR K DIR
"RTN","ONCGENED",138,0)
 ..I Y=1 S Y="@0"
"RTN","ONCGENED",139,0)
 .W !!," No EDITS errors or warnings.  ABSTRACT STATUS = 3 (Complete)."
"RTN","ONCGENED",140,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCGENED",141,0)
 .S DA=ONCOD0P
"RTN","ONCGENED",142,0)
 .S DR="197///^S X=CHECKSUM;197.1///^S X=EXTVER;199////^S X=DUZ"
"RTN","ONCGENED",143,0)
 .D ^DIE
"RTN","ONCGENED",144,0)
 .S EDITS="NO" D NAACCR K EDITS
"RTN","ONCGENED",145,0)
 .S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCGENED",146,0)
 .S $P(^ONCO(165.5,D0,"EDITS"),U,1)=CHECKSUM
"RTN","ONCGENED",147,0)
 .S $P(^ONCO(165.5,D0,"EDITS"),U,2)=EXTVER
"RTN","ONCGENED",148,0)
 .W !
"RTN","ONCGENED",149,0)
 .K DIR S DIR(0)="E" D ^DIR
"RTN","ONCGENED",150,0)
 K DA,DIE,DR,RC
"RTN","ONCGENED",151,0)
 Q
"RTN","ONCGENED",152,0)
 ;
"RTN","ONCGENED",153,0)
CLEANUP ;Cleanup
"RTN","ONCGENED",154,0)
 K EAFLAG,EXTVER,ONCDST,ONCOD0P,ONCSAPI,Y
"RTN","ONCGPC0")
0^74^B10271078
"RTN","ONCGPC0",1,0)
ONCGPC0 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;02/27/01
"RTN","ONCGPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCGPC0",4,0)
 ;
"RTN","ONCGPC0",5,0)
 ;ACCESSION YEAR (165.5,.07) = 2001
"RTN","ONCGPC0",6,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=2001 S MSG="The Accession Year is not 2001." D ERRMSG G EXIT
"RTN","ONCGPC0",7,0)
 ;
"RTN","ONCGPC0",8,0)
 ;DIAGNOSTIC CONFIRMATION (165.5,26) = 1, 2, or 4
"RTN","ONCGPC0",9,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6)
"RTN","ONCGPC0",10,0)
 I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCGPC0",11,0)
 ;
"RTN","ONCGPC0",12,0)
 ;CLASS OF CASE (165.5,.04) = 0, 1 or 2
"RTN","ONCGPC0",13,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4)
"RTN","ONCGPC0",14,0)
 I (COC'=0)&(COC'=1)&(COC'=2) S MSG="The Class of Case code is not 0, 1 or 2." D ERRMSG G EXIT
"RTN","ONCGPC0",15,0)
 ;
"RTN","ONCGPC0",16,0)
 ;BEHAVIOR = 3.
"RTN","ONCGPC0",17,0)
 I HIST1234=8936 S MSG="GI stromal sarcomas (8936) are being collected via paper data form." D ERRMSG G EXIT ;GI stromal sarcomas
"RTN","ONCGPC0",18,0)
 I BEH'=3 S MSG="The Behavior Code is not 3 (Malignant)." D ERRMSG G EXIT
"RTN","ONCGPC0",19,0)
 ;
"RTN","ONCGPC0",20,0)
HIST ;HISTOLOGY (165.5,22) 
"RTN","ONCGPC0",21,0)
 S ADENOCA=0,LYMPHOMA=0
"RTN","ONCGPC0",22,0)
 I (HIST1234>8139)&(HIST1234<8577) S ADENOCA=1 G MENU  ;Adenocarcinomas
"RTN","ONCGPC0",23,0)
 I HIST1234=8941 S ADENOCA=1 G MENU                    ;Adenocarcinoma
"RTN","ONCGPC0",24,0)
 I HIST1234=8890 G MENU                                ;Leiomyosarcoma
"RTN","ONCGPC0",25,0)
 ;I HIST1234=8936 G MENU                               ;GIST
"RTN","ONCGPC0",26,0)
 I HIST1234=9140 G MENU                                ;Kaposi sarcoma
"RTN","ONCGPC0",27,0)
 I (HIST1234>9589)&(HIST1234<9730) S LYMPHOMA=1 G MENU ;Lymphomas
"RTN","ONCGPC0",28,0)
 S MSG="Invalid Histology code." D ERRMSG G EXIT
"RTN","ONCGPC0",29,0)
 ;
"RTN","ONCGPC0",30,0)
MENU ;Gastric Cancers PCE menu
"RTN","ONCGPC0",31,0)
 S SEX=$P(^ONCO(160,ONCOPA,0),U,8) ;SEX (160,10)
"RTN","ONCGPC0",32,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="GAS"
"RTN","ONCGPC0",33,0)
 S ^ONCO(165.5,"APCE","GAS",ONCONUM)=""
"RTN","ONCGPC0",34,0)
 K DIR D HEAD
"RTN","ONCGPC0",35,0)
 S DIR(0)="SO^1:Patient Information;2:Tumor Identification and Diagnosis;3:First Course of Treatment;4:Treatment Complications;5:Case Registration;6:All;7:Print Gastric PCE"
"RTN","ONCGPC0",36,0)
 S DIR("A")="Select section" D ^DIR
"RTN","ONCGPC0",37,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCGPC0",38,0)
 I Y=6 S OUT="" D  G MENU
"RTN","ONCGPC0",39,0)
 .D ^ONCGPC1 Q:$G(OUT)="Y"
"RTN","ONCGPC0",40,0)
 .D ^ONCGPC2 Q:$G(OUT)="Y"
"RTN","ONCGPC0",41,0)
 .D ^ONCGPC3 Q:$G(OUT)="Y"
"RTN","ONCGPC0",42,0)
 .D ^ONCGPC4 Q:$G(OUT)="Y"
"RTN","ONCGPC0",43,0)
 .D ^ONCGPC5 Q:$G(OUT)="Y"
"RTN","ONCGPC0",44,0)
 S SUB="^ONCGPC"_Y D @SUB G MENU
"RTN","ONCGPC0",45,0)
 ;
"RTN","ONCGPC0",46,0)
ERRMSG ;Error message
"RTN","ONCGPC0",47,0)
 I ONCOANS=5 W !!,?8,"This primary does not satisfy the PCE eligibility criteria:",!!,?8,MSG R Z:10
"RTN","ONCGPC0",48,0)
 K MSG Q
"RTN","ONCGPC0",49,0)
 ;
"RTN","ONCGPC0",50,0)
HEAD ;PCE header
"RTN","ONCGPC0",51,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCGPC0",52,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCGPC0",53,0)
 W !,DASHES
"RTN","ONCGPC0",54,0)
 S HDL=$L("2001 Patient Care Evaluation Study of Gastric Cancers")
"RTN","ONCGPC0",55,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCGPC0",56,0)
 W !,?TAB,"2001 Patient Care Evaluation Study of Gastric Cancers"
"RTN","ONCGPC0",57,0)
 W !,DASHES
"RTN","ONCGPC0",58,0)
 Q
"RTN","ONCGPC0",59,0)
 ;
"RTN","ONCGPC0",60,0)
EXIT ;Kill variables and exit
"RTN","ONCGPC0",61,0)
 K ADENOCA,HDL,LYMPHOMA,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCGPC0",62,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCGPC0",63,0)
 Q
"RTN","ONCGPC1")
0^75^B26135683
"RTN","ONCGPC1",1,0)
ONCGPC1 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;02/27/01
"RTN","ONCGPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC1",3,0)
 ;Patient Information 
"RTN","ONCGPC1",4,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCGPC1",5,0)
 W @IOF D HEAD^ONCGPC0
"RTN","ONCGPC1",6,0)
 W !," PATIENT INFORMATION"
"RTN","ONCGPC1",7,0)
 W !," -------------------"
"RTN","ONCGPC1",8,0)
 S DR(1,165.5,1)="1400.6  1. CO-MORBID CONDITIONS (YES/NO)."
"RTN","ONCGPC1",9,0)
 S DR(1,165.5,2)="I $G(X)=0 D CC1^ONCGPC1,CC2^ONCGPC1,CC3^ONCGPC1,CC4^ONCGPC1,CC5^ONCGPC1,CC6^ONCGPC1 S Y=1500"
"RTN","ONCGPC1",10,0)
 S DR(1,165.5,3)="1571      CO-MORBID CONDITION #1......."
"RTN","ONCGPC1",11,0)
 S DR(1,165.5,3.1)="I ($G(X)="""")&($P($G(^ONCO(165.5,DA,""LUN1"")),U,76)=1) D ITEM1ED^ONCGPC1 S Y=1571"
"RTN","ONCGPC1",12,0)
 S DR(1,165.5,4)="1571.1      CO-MORBID CONDITION #2......."
"RTN","ONCGPC1",13,0)
 S DR(1,165.5,4.1)="I $G(X)="""" D CC3^ONCGPC1,CC4^ONCGPC1,CC5^ONCGPC1,CC6^ONCGPC1 S Y=1500"
"RTN","ONCGPC1",14,0)
 S DR(1,165.5,5)="1571.2      CO-MORBID CONDITION #3......."
"RTN","ONCGPC1",15,0)
 S DR(1,165.5,5.1)="I $G(X)="""" D CC4^ONCGPC1,CC5^ONCGPC1,CC6^ONCGPC1 S Y=1500"
"RTN","ONCGPC1",16,0)
 S DR(1,165.5,6)="1571.3      CO-MORBID CONDITION #4......."
"RTN","ONCGPC1",17,0)
 S DR(1,165.5,6.1)="I $G(X)="""" D CC5^ONCGPC1,CC6^ONCGPC1 S Y=1500"
"RTN","ONCGPC1",18,0)
 S DR(1,165.5,7)="1571.4      CO-MORBID CONDITION #5......."
"RTN","ONCGPC1",19,0)
 S DR(1,165.5,7.1)="I $G(X)="""" D CC6^ONCGPC1 S Y=1500"
"RTN","ONCGPC1",20,0)
 S DR(1,165.5,8)="1571.5      CO-MORBID CONDITION #6......."
"RTN","ONCGPC1",21,0)
 S DR(1,165.5,9)="W !"
"RTN","ONCGPC1",22,0)
 S DR(1,165.5,10)="1500  2. PRIOR EXPOSURE TO RADIATION..."
"RTN","ONCGPC1",23,0)
 S DR(1,165.5,11)="W !"
"RTN","ONCGPC1",24,0)
 S DR(1,165.5,12)="1501  3. ALCOHOL CONSUMPTION..........."
"RTN","ONCGPC1",25,0)
 S DR(1,165.5,13)="W !"
"RTN","ONCGPC1",26,0)
 S DR(1,165.5,14)="1572  4. DURATION OF TOBACCO USE......."
"RTN","ONCGPC1",27,0)
 S DR(1,165.5,15)="W !"
"RTN","ONCGPC1",28,0)
 S DR(1,165.5,16)="I SEX'=1 S Y=""@5"""
"RTN","ONCGPC1",29,0)
 S DR(1,165.5,17)="1502////8"
"RTN","ONCGPC1",30,0)
 S DR(1,165.5,18)="W !,""  5. MENOPAUSAL STATUS AND HORMONE"""
"RTN","ONCGPC1",31,0)
 S DR(1,165.5,19)="W !,""      REPLACEMENT THERAPY..........: NA, male patient"""
"RTN","ONCGPC1",32,0)
 S DR(1,165.5,20)="W !"
"RTN","ONCGPC1",33,0)
 S DR(1,165.5,21)="S Y=1503"
"RTN","ONCGPC1",34,0)
 S DR(1,165.5,22)="@5"
"RTN","ONCGPC1",35,0)
 S DR(1,165.5,23)="1502  5. MENOPAUSAL STATUS AND HORMONE                                                    REPLACEMENT THERAPY.........."
"RTN","ONCGPC1",36,0)
 S DR(1,165.5,24)="W !"
"RTN","ONCGPC1",37,0)
 S DR(1,165.5,25)="1503  6. H2 BLOCKER/PROTON PUMP                                                           INHIBITOR USE................"
"RTN","ONCGPC1",38,0)
 S DR(1,165.5,26)="W !"
"RTN","ONCGPC1",39,0)
 S DR(1,165.5,27)="1504  7. FAMILY HISTORY OF GASTRIC                                                        CANCER......................."
"RTN","ONCGPC1",40,0)
 S DR(1,165.5,28)="W !"
"RTN","ONCGPC1",41,0)
 S DR(1,165.5,29)="S DEF="""" D ITEM3^ONCLPC1 K DEF"
"RTN","ONCGPC1",42,0)
 S DR(1,165.5,30)="1573  8. PERSONAL HISTORY OF OTHER                                                        INVASIVE MALIGNANCIES PRIOR                                                      TO THIS CANCER DIAGNOSIS....//^S X=PHDEF"
"RTN","ONCGPC1",43,0)
 S DR(1,165.5,31)="W !"
"RTN","ONCGPC1",44,0)
 S DR(1,165.5,32)="W !,""  9. ASSOCIATED BENIGN CONDTIONS:"""
"RTN","ONCGPC1",45,0)
 S DR(1,165.5,33)="1505      H-PYLORI INFECTION..........."
"RTN","ONCGPC1",46,0)
 S DR(1,165.5,34)="1506      DUODENAL ULCER..............."
"RTN","ONCGPC1",47,0)
 S DR(1,165.5,35)="1507      GASTRIC ULCER................"
"RTN","ONCGPC1",48,0)
 S DR(1,165.5,36)="1508      HEARTBURN...................."
"RTN","ONCGPC1",49,0)
 S DR(1,165.5,37)="1509      PERNICIOUS ANEMIA............"
"RTN","ONCGPC1",50,0)
 S DR(1,165.5,38)="1510      POLYPS OF STOMACH............"
"RTN","ONCGPC1",51,0)
 S DR(1,165.5,39)="1511      POLYPOSIS OF SMALL OR LARGE                                                      BOWEL......................."
"RTN","ONCGPC1",52,0)
 S DR(1,165.5,40)="1512      BARRET'S ESOPHAGUS..........."
"RTN","ONCGPC1",53,0)
 S DR(1,165.5,41)="1513      ATROPHIC GASTRITIS..........."
"RTN","ONCGPC1",54,0)
 S DR(1,165.5,42)="1514      GASTRIC METAPLASIA..........."
"RTN","ONCGPC1",55,0)
 S DR(1,165.5,43)="W !"
"RTN","ONCGPC1",56,0)
 S DR(1,165.5,44)="W !,"" 10. H-PYLORI DRUGS GIVEN:"""
"RTN","ONCGPC1",57,0)
 S DR(1,165.5,44.1)="I ($$GET1^DIQ(165.5,D0,1505,""I"")=2)!($$GET1^DIQ(165.5,D0,1505,""I"")=4) D HDG1^ONCGPC1,HDG2^ONCGPC1,HDG3^ONCGPC1,HDG4^ONCGPC1 S Y=1519"
"RTN","ONCGPC1",58,0)
 S DR(1,165.5,45)="1515      ANTIBIOTICS.................."
"RTN","ONCGPC1",59,0)
 S DR(1,165.5,45.1)="I $G(X)=8 D HDG2^ONCGPC1,HDG3^ONCGPC1,HDG4^ONCGPC1 S Y=1519"
"RTN","ONCGPC1",60,0)
 S DR(1,165.5,46)="1516      PROTON PUMP INHIBITORS......."
"RTN","ONCGPC1",61,0)
 S DR(1,165.5,46.1)="I $G(X)=8 D HDG3^ONCGPC1,HDG4^ONCGPC1 S Y=1519"
"RTN","ONCGPC1",62,0)
 S DR(1,165.5,47)="1517      H2 BLOCKERS.................."
"RTN","ONCGPC1",63,0)
 S DR(1,165.5,47.1)="I $G(X)=8 D HDG4^ONCGPC1 S Y=1519"
"RTN","ONCGPC1",64,0)
 S DR(1,165.5,48)="1518      BISMUTH COMPOUNDS............"
"RTN","ONCGPC1",65,0)
 S DR(1,165.5,49)="W !"
"RTN","ONCGPC1",66,0)
 S DR(1,165.5,50)="1519 11. PRIOR INTRA-ABDOMINAL SURGERY."
"RTN","ONCGPC1",67,0)
 S DR(1,165.5,51)="W !"
"RTN","ONCGPC1",68,0)
 S DR(1,165.5,52)="1520 12. YEAR OF PRIOR GASTRIC                                                            RESECTION...................."
"RTN","ONCGPC1",69,0)
 D ^DIE
"RTN","ONCGPC1",70,0)
 W !
"RTN","ONCGPC1",71,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCGPC1",72,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCGPC1",73,0)
 K PHDEF
"RTN","ONCGPC1",74,0)
 Q
"RTN","ONCGPC1",75,0)
ITEM1ED ;ITEM 1 EDIT
"RTN","ONCGPC1",76,0)
 W !
"RTN","ONCGPC1",77,0)
 W !,"     CO-MORBID CONDITIONS (YES/NO) equals ""Yes"""
"RTN","ONCGPC1",78,0)
 W !,"      CO-MORBID CONDITION #1 may not be blank"
"RTN","ONCGPC1",79,0)
 W !
"RTN","ONCGPC1",80,0)
 Q 
"RTN","ONCGPC1",81,0)
CC1 S $P(^ONCO(165.5,D0,"GAS2"),U,33)=""
"RTN","ONCGPC1",82,0)
 W !,"      CO-MORBID CONDITION #1.......: 000.00 No co-morbidities"
"RTN","ONCGPC1",83,0)
 Q
"RTN","ONCGPC1",84,0)
CC2 S $P(^ONCO(165.5,D0,"GAS2"),U,34)=""
"RTN","ONCGPC1",85,0)
 W !,"      CO-MORBID CONDITION #2.......:"
"RTN","ONCGPC1",86,0)
 Q
"RTN","ONCGPC1",87,0)
CC3 S $P(^ONCO(165.5,D0,"GAS2"),U,35)=""
"RTN","ONCGPC1",88,0)
 W !,"      CO-MORBID CONDITION #3.......:"
"RTN","ONCGPC1",89,0)
 Q
"RTN","ONCGPC1",90,0)
CC4 S $P(^ONCO(165.5,D0,"GAS2"),U,36)=""
"RTN","ONCGPC1",91,0)
 W !,"      CO-MORBID CONDITION #4.......:"
"RTN","ONCGPC1",92,0)
 Q
"RTN","ONCGPC1",93,0)
CC5 S $P(^ONCO(165.5,D0,"GAS2"),U,37)=""
"RTN","ONCGPC1",94,0)
 W !,"      CO-MORBID CONDITION #5.......:"
"RTN","ONCGPC1",95,0)
 Q
"RTN","ONCGPC1",96,0)
CC6 S $P(^ONCO(165.5,D0,"GAS2"),U,38)=""
"RTN","ONCGPC1",97,0)
 W !,"      CO-MORBID CONDITION #6.......:"
"RTN","ONCGPC1",98,0)
 W !
"RTN","ONCGPC1",99,0)
 Q
"RTN","ONCGPC1",100,0)
HDG1 S $P(^ONCO(165.5,D0,"GAS1"),U,16)=8
"RTN","ONCGPC1",101,0)
 W !,"      ANTIBIOTICS..................: H-pylori not present"
"RTN","ONCGPC1",102,0)
 Q
"RTN","ONCGPC1",103,0)
HDG2 S $P(^ONCO(165.5,D0,"GAS1"),U,17)=8
"RTN","ONCGPC1",104,0)
 W !,"      PROTON PUMP INHIBITORS.......: H-pylori not present"
"RTN","ONCGPC1",105,0)
 Q
"RTN","ONCGPC1",106,0)
HDG3 S $P(^ONCO(165.5,D0,"GAS1"),U,18)=8
"RTN","ONCGPC1",107,0)
 W !,"      H2 BLOCKERS..................: H-pylori not present"
"RTN","ONCGPC1",108,0)
 Q
"RTN","ONCGPC1",109,0)
HDG4 S $P(^ONCO(165.5,D0,"GAS1"),U,19)=8
"RTN","ONCGPC1",110,0)
 W !,"      BISMUTH COMPOUNDS............: H-pylori not present"
"RTN","ONCGPC1",111,0)
 W !
"RTN","ONCGPC1",112,0)
 Q
"RTN","ONCGPC2")
0^76^B34297337
"RTN","ONCGPC2",1,0)
ONCGPC2 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;02/27/01
"RTN","ONCGPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC2",3,0)
 ;Tumor Identification and Diagnosis 
"RTN","ONCGPC2",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCGPC2",5,0)
 W @IOF D HEAD^ONCGPC0
"RTN","ONCGPC2",6,0)
 W !," TUMOR IDENTIFICATION AND DIAGNOSIS"
"RTN","ONCGPC2",7,0)
 W !," -----------------------------------"
"RTN","ONCGPC2",8,0)
 S DR(1,165.5,1)="1521 13. PERFORMANCE STATUS AT INITIAL                                                    DIAGNOSIS...................."
"RTN","ONCGPC2",9,0)
 S DR(1,165.5,2)="W !"
"RTN","ONCGPC2",10,0)
 S DR(1,165.5,3)="W !,"" 14. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS:"""
"RTN","ONCGPC2",11,0)
 S DR(1,165.5,4)="1522      HEARTBURN...................."
"RTN","ONCGPC2",12,0)
 S DR(1,165.5,5)="1523      FEVER/NIGHT SWEATS..........."
"RTN","ONCGPC2",13,0)
 S DR(1,165.5,6)="1524      ACUTE HEMATEMESIS............"
"RTN","ONCGPC2",14,0)
 S DR(1,165.5,7)="1525      TRANSFUSIONS FOR BLOOD LOSS.."
"RTN","ONCGPC2",15,0)
 S DR(1,165.5,8)="1574      WEIGHT LOSS.................."
"RTN","ONCGPC2",16,0)
 S DR(1,165.5,9)="1526      MELENA......................."
"RTN","ONCGPC2",17,0)
 S DR(1,165.5,10)="1527      PAIN........................."
"RTN","ONCGPC2",18,0)
 S DR(1,165.5,11)="1528      EARLY SATIETY................"
"RTN","ONCGPC2",19,0)
 S DR(1,165.5,12)="W !"
"RTN","ONCGPC2",20,0)
 S DR(1,165.5,13)="W !,"" 15. INITIAL STAGING STUDIES:"""
"RTN","ONCGPC2",21,0)
 S DR(1,165.5,14)="1529      CT SCAN OF ABDOMEN..........."
"RTN","ONCGPC2",22,0)
 S DR(1,165.5,15)="1530      CT SCAN OF CHEST............."
"RTN","ONCGPC2",23,0)
 S DR(1,165.5,16)="1531      CT PELVIS...................."
"RTN","ONCGPC2",24,0)
 S DR(1,165.5,17)="1532      CHEST X-RAY.................."
"RTN","ONCGPC2",25,0)
 S DR(1,165.5,18)="1533      GALLIUM SCAN................."
"RTN","ONCGPC2",26,0)
 S DR(1,165.5,19)="1534      BIPEDAL LYMPHANGIOGRAM (LAG)."
"RTN","ONCGPC2",27,0)
 S DR(1,165.5,20)="1535      MRI.........................."
"RTN","ONCGPC2",28,0)
 S DR(1,165.5,21)="1536      PET SCAN....................."
"RTN","ONCGPC2",29,0)
 S DR(1,165.5,22)="1537      LAPAROSCOPY.................."
"RTN","ONCGPC2",30,0)
 S DR(1,165.5,23)="1538      EUS (ENDOSCOPIC ULTRASOUND).."
"RTN","ONCGPC2",31,0)
 S DR(1,165.5,24)="1539      PERITONEAL LAVAGE............"
"RTN","ONCGPC2",32,0)
 S DR(1,165.5,25)="W !"
"RTN","ONCGPC2",33,0)
 S DR(1,165.5,26)="W !,"" 16. LABORATORY STUDIES:"""
"RTN","ONCGPC2",34,0)
 S DR(1,165.5,27)="1540      LDH (IU/L)..................."
"RTN","ONCGPC2",35,0)
 S DR(1,165.5,28)="1541      CEA (ng/ml).................."
"RTN","ONCGPC2",36,0)
 S DR(1,165.5,29)="1542      CA125 (U/ml)................."
"RTN","ONCGPC2",37,0)
 S DR(1,165.5,30)="1543      BETA2 MICROGLOBULIN (ng/ml).."
"RTN","ONCGPC2",38,0)
 S DR(1,165.5,31)="1544      URINARY 5-HIAA (mg/24hr)....."
"RTN","ONCGPC2",39,0)
 S DR(1,165.5,32)="W !"
"RTN","ONCGPC2",40,0)
 S DR(1,165.5,33)="W !,"" 17. GASTROSCOPIC EXAMINATION RESULTS:"""
"RTN","ONCGPC2",41,0)
 S DR(1,165.5,34)="1545      CLINICAL/VISUAL EXAMINATION.."
"RTN","ONCGPC2",42,0)
 S DR(1,165.5,35)="1545.1      BIOPSY......................."
"RTN","ONCGPC2",43,0)
 S DR(1,165.5,36)="I ($G(TOPCOD)'=""C16.0"")&($G(TOPCOD)'=""C16.1"") D ITEM18^ONCGPC2 S Y=""@19"""
"RTN","ONCGPC2",44,0)
 S DR(1,165.5,37)="W !"
"RTN","ONCGPC2",45,0)
 S DR(1,165.5,38)="1546 18. GASTRO-ESOPHAGEAL JUNCTION                                                       (SIEWART TYPE II/III)........"
"RTN","ONCGPC2",46,0)
 S DR(1,165.5,39)="@19"
"RTN","ONCGPC2",47,0)
 S DR(1,165.5,40)="W !"
"RTN","ONCGPC2",48,0)
 S DR(1,165.5,41)="W !,"" 19. ANATOMIC SITE OF INITIAL HISTOLOGIC DIAGNOSIS:"""
"RTN","ONCGPC2",49,0)
 S DR(1,165.5,42)="1547      STOMACH......................"
"RTN","ONCGPC2",50,0)
 S DR(1,165.5,43)="1547.1      LIVER........................"
"RTN","ONCGPC2",51,0)
 S DR(1,165.5,44)="1547.2      EXTRA-ABDOMINAL.............."
"RTN","ONCGPC2",52,0)
 S DR(1,165.5,45)="1547.3      LYMPH NODES.................."
"RTN","ONCGPC2",53,0)
 S DR(1,165.5,46)="1547.4      PERITONEUM..................."
"RTN","ONCGPC2",54,0)
 S DR(1,165.5,47)="W !"
"RTN","ONCGPC2",55,0)
 S DR(1,165.5,48)="1548 20. DATE OF FIRST TISSUE DIAGNOSIS"
"RTN","ONCGPC2",56,0)
 S DR(1,165.5,49)="I 'ADENOCA D ITEM21^ONCGPC2 S Y=""@23"""
"RTN","ONCGPC2",57,0)
 S DR(1,165.5,50)="W !"
"RTN","ONCGPC2",58,0)
 S DR(1,165.5,51)="1549 21. LAUREN'S CLASSIFICATION......."
"RTN","ONCGPC2",59,0)
 S DR(1,165.5,52)="W !"
"RTN","ONCGPC2",60,0)
 S DR(1,165.5,53)="1550 22. GOSEKI'S CLASSIFICATION......."
"RTN","ONCGPC2",61,0)
 S DR(1,165.5,54)="@23"
"RTN","ONCGPC2",62,0)
 S DR(1,165.5,55)="W !"
"RTN","ONCGPC2",63,0)
 S DR(1,165.5,56)="W !,"" 23. MOLECULAR MARKERS:"""
"RTN","ONCGPC2",64,0)
 S DR(1,165.5,57)="1551      GASTRIN......................"
"RTN","ONCGPC2",65,0)
 S DR(1,165.5,58)="1551.1      5-HIAA......................."
"RTN","ONCGPC2",66,0)
 S DR(1,165.5,59)="1551.2      CEA.........................."
"RTN","ONCGPC2",67,0)
 S DR(1,165.5,60)="1551.3      CA125........................"
"RTN","ONCGPC2",68,0)
 S DR(1,165.5,61)="1551.4      OTHER........................"
"RTN","ONCGPC2",69,0)
 S DR(1,165.5,62)="I HIST1234'=8890 D ITEM24^ONCGPC2 S Y=""@26"""
"RTN","ONCGPC2",70,0)
 S DR(1,165.5,63)="W !"
"RTN","ONCGPC2",71,0)
 S DR(1,165.5,64)="1552 24. MITOTIC RATE.................."
"RTN","ONCGPC2",72,0)
 S DR(1,165.5,65)="W !"
"RTN","ONCGPC2",73,0)
 S DR(1,165.5,66)="1553 25. TUMOR NECROSIS................"
"RTN","ONCGPC2",74,0)
 S DR(1,165.5,67)="@26"
"RTN","ONCGPC2",75,0)
 S DR(1,165.5,68)="W !"
"RTN","ONCGPC2",76,0)
 S DR(1,165.5,69)="W !,"" 26. PHENOTYPE MODALITY USED:"""
"RTN","ONCGPC2",77,0)
 S DR(1,165.5,70)="I 'LYMPHOMA D ITEM26^ONCGPC2 S Y=""@28"""
"RTN","ONCGPC2",78,0)
 S DR(1,165.5,71)="1554      FLOW CYTOMETRY ON FRESH                                                          TISSUE......................"
"RTN","ONCGPC2",79,0)
 S DR(1,165.5,72)="1554.1      IMMUNOHISTOCHEMISTRY ON FROZEN                                                   TISSUE......................"
"RTN","ONCGPC2",80,0)
 S DR(1,165.5,73)="1554.2      IMMUNOHISTOCHEMISTRY ON                                                          PARAFIN EMBEDDED TISSUE....."
"RTN","ONCGPC2",81,0)
 S DR(1,165.5,74)="1554.3      MOLECULAR GENETICS..........."
"RTN","ONCGPC2",82,0)
 S DR(1,165.5,75)="1554.4      POLYMERASE CHAIN REACTION                                                         TECHNIQUE.................."
"RTN","ONCGPC2",83,0)
 S DR(1,165.5,76)="1554.5      SOUTHERN BLOT TECHNIQUE......"
"RTN","ONCGPC2",84,0)
 S DR(1,165.5,77)="W !"
"RTN","ONCGPC2",85,0)
 S DR(1,165.5,78)="1555 27. ANN ARBOR STAGING............."
"RTN","ONCGPC2",86,0)
 S DR(1,165.5,79)="@28"
"RTN","ONCGPC2",87,0)
 D ^DIE
"RTN","ONCGPC2",88,0)
 K DR
"RTN","ONCGPC2",89,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCGPC2",90,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCGPC2",91,0)
 Q
"RTN","ONCGPC2",92,0)
ITEM18 ;GASTRO-ESOPHAGEAL JUNCTION (SIEWART TYPE II/III)
"RTN","ONCGPC2",93,0)
 S $P(^ONCO(165.5,D0,"GAS1"),U,48)=""
"RTN","ONCGPC2",94,0)
 W !!," 18. GASTRO-ESOPHAGEAL JUNCTION                                                       (SIEWART TYPE II/III)........: NA (not C16.0 or C16.1)"
"RTN","ONCGPC2",95,0)
 Q
"RTN","ONCGPC2",96,0)
ITEM21 ;LAUREN'S CLASSIFICATION
"RTN","ONCGPC2",97,0)
ITEM22 ;GOSEKI'S CLASSIFICATION
"RTN","ONCGPC2",98,0)
 S $P(^ONCO(165.5,D0,"GAS1"),U,55)=""
"RTN","ONCGPC2",99,0)
 S $P(^ONCO(165.5,D0,"GAS1"),U,56)=""
"RTN","ONCGPC2",100,0)
 W !!," 21. LAUREN'S CLASSIFICATION.......: NA (not adenocarcinoma)"
"RTN","ONCGPC2",101,0)
 W !!," 22. GOSEKI'S CLASSIFICATION.......: NA (not adenocarcinoma)"
"RTN","ONCGPC2",102,0)
 Q
"RTN","ONCGPC2",103,0)
ITEM24 ;MITOTIC RATE
"RTN","ONCGPC2",104,0)
ITEM25 ;TUMOR NECROSIS
"RTN","ONCGPC2",105,0)
 S $P(^ONCO(165.5,D0,"GAS1"),U,62)=""
"RTN","ONCGPC2",106,0)
 S $P(^ONCO(165.5,D0,"GAS1"),U,63)=""
"RTN","ONCGPC2",107,0)
 W !!," 24. MITOTIC RATE..................: NA (not leimyosarcoma)"
"RTN","ONCGPC2",108,0)
 W !!," 25. TUMOR NECROSIS................: NA (not leimyosarcoma)"
"RTN","ONCGPC2",109,0)
 Q
"RTN","ONCGPC2",110,0)
ITEM26 ;PHENOTYPE MODALITY USED
"RTN","ONCGPC2",111,0)
ITEM27 ;ANN ARBOR STAGING
"RTN","ONCGPC2",112,0)
 F PIECE=64:1:70 S $P(^ONCO(165.5,D0,"GAS1"),U,PIECE)=""
"RTN","ONCGPC2",113,0)
 K PIECE
"RTN","ONCGPC2",114,0)
 W !,"      FLOW CYTOMETRY ON FRESH                                                          TISSUE......................: NA (not lymphoma)"
"RTN","ONCGPC2",115,0)
 W !,"      IMMUNOCHEMISTRY ON FROZEN                                                        TISSUE......................: NA (not lymphoma)"
"RTN","ONCGPC2",116,0)
 W !,"      IMMUNOHISTOCHEMISTRY ON                                                          PARAFIN EMBEDDED TISSUE.....: NA (not lymphoma)"
"RTN","ONCGPC2",117,0)
 W !,"      MOLECULAR GENETICS...........: NA (not lymphoma)"
"RTN","ONCGPC2",118,0)
 W !,"      POLYMERASE CHAIN REACTION                                                        TECHNIQUE...................: NA (not lymphoma)"
"RTN","ONCGPC2",119,0)
 W !,"      SOUTHERN BLOT TECHNIQUE......: NA (not lymphoma)"
"RTN","ONCGPC2",120,0)
 W !
"RTN","ONCGPC2",121,0)
 W !," 27. ANN ARBOR STAGING.............: NA (not lymphoma)"
"RTN","ONCGPC2",122,0)
 Q
"RTN","ONCGPC3")
0^77^B37337028
"RTN","ONCGPC3",1,0)
ONCGPC3 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;03/08/01
"RTN","ONCGPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC3",3,0)
 ;First Course of Treatment 
"RTN","ONCGPC3",4,0)
 S SUR=$$GET1^DIQ(165.5,ONCONUM,58.2)
"RTN","ONCGPC3",5,0)
 S RAD=$$GET1^DIQ(165.5,ONCONUM,51.2,"I")
"RTN","ONCGPC3",6,0)
 S CHE=$$GET1^DIQ(165.5,ONCONUM,53.2,"I")
"RTN","ONCGPC3",7,0)
 S IMM=$$GET1^DIQ(165.5,ONCONUM,55.2,"I")
"RTN","ONCGPC3",8,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCGPC3",9,0)
 W @IOF D HEAD^ONCGPC0
"RTN","ONCGPC3",10,0)
 W !," FIRST COURSE OF TREATMENT - SURGERY"
"RTN","ONCGPC3",11,0)
 W !," -----------------------------------"
"RTN","ONCGPC3",12,0)
 S DR(1,165.5,3)="I (SUR="""")!($E(SUR,1,2)=""00"")!($E(SUR,1,2)=99) D NOSUR^ONCGPC3 S Y=$S($D(DUOUT):""@99"",1:""@38"")"
"RTN","ONCGPC3",13,0)
 S DR(1,165.5,4)="1556 28. ADHERENCE OF RESECTED PRIMARY                                                    SPECIMEN....................."
"RTN","ONCGPC3",14,0)
 S DR(1,165.5,5)="W !"
"RTN","ONCGPC3",15,0)
 S DR(1,165.5,6)="1557 29. MARGIN STATUS OF RESECTED                                                        PRIMARY SPECIMEN............."
"RTN","ONCGPC3",16,0)
 S DR(1,165.5,7)="W !"
"RTN","ONCGPC3",17,0)
 S DR(1,165.5,8)="W !,"" 30. EXTENT OF FREE MARGIN:"""
"RTN","ONCGPC3",18,0)
 S DR(1,165.5,9)="1558      PROXIMAL MARGIN.............."
"RTN","ONCGPC3",19,0)
 S DR(1,165.5,10)="1558.1      DISTAL MARGIN................"
"RTN","ONCGPC3",20,0)
 S DR(1,165.5,11)="W !"
"RTN","ONCGPC3",21,0)
 S DR(1,165.5,12)="W !,"" 31. RESECTION BEYOND STOMACH:"""
"RTN","ONCGPC3",22,0)
 S DR(1,165.5,13)="1559      SPLEEN......................."
"RTN","ONCGPC3",23,0)
 S DR(1,165.5,14)="1559.1      TRANVERSE COLON.............."
"RTN","ONCGPC3",24,0)
 S DR(1,165.5,15)="1559.2      LIVER........................"
"RTN","ONCGPC3",25,0)
 S DR(1,165.5,16)="1559.3      DIAPHRAGM...................."
"RTN","ONCGPC3",26,0)
 S DR(1,165.5,17)="1559.4      PANCREAS....................."
"RTN","ONCGPC3",27,0)
 S DR(1,165.5,18)="1559.5      ABDOMINAL WALL..............."
"RTN","ONCGPC3",28,0)
 S DR(1,165.5,19)="1559.6      ADRENAL GLAND................"
"RTN","ONCGPC3",29,0)
 S DR(1,165.5,20)="1559.7      KIDNEY......................."
"RTN","ONCGPC3",30,0)
 S DR(1,165.5,21)="1559.8      SMALL INTESTINE.............."
"RTN","ONCGPC3",31,0)
 S DR(1,165.5,22)="1559.9      RETROPERITONEUM.............."
"RTN","ONCGPC3",32,0)
 S DR(1,165.5,23)="1560      PERIGASTRIC LYMPH NODES......"
"RTN","ONCGPC3",33,0)
 S DR(1,165.5,24)="1560.1      COMMON HEPATIC LYMPH NODES..."
"RTN","ONCGPC3",34,0)
 S DR(1,165.5,25)="1560.2      CELIAC LYMPH NODES..........."
"RTN","ONCGPC3",35,0)
 S DR(1,165.5,26)="1560.3      SPLENIC LYMPH NODES.........."
"RTN","ONCGPC3",36,0)
 S DR(1,165.5,27)="1560.4      OTHER INTRA-ABDOMINAL NODES.."
"RTN","ONCGPC3",37,0)
 S DR(1,165.5,28)="W !"
"RTN","ONCGPC3",38,0)
 S DR(1,165.5,29)="1561 32. GROSSLY INVOLVED REGIONAL                                                        LYMPH NODES.................."
"RTN","ONCGPC3",39,0)
 S DR(1,165.5,30)="W !"
"RTN","ONCGPC3",40,0)
 S DR(1,165.5,31)="1562 33. HCT (HEMATOCRIT) VALUES BEFORE                                                   TRANSFUSION.................."
"RTN","ONCGPC3",41,0)
 S DR(1,165.5,32)="W !"
"RTN","ONCGPC3",42,0)
 S DR(1,165.5,33)="1563 34. TOTAL OPERATIVE BLOOD                                                            REPLACEMENT.................."
"RTN","ONCGPC3",43,0)
 S DR(1,165.5,34)="W !"
"RTN","ONCGPC3",44,0)
 S DR(1,165.5,35)="1564 35. INTRA/PERI-OPERATIVE DEATH...."
"RTN","ONCGPC3",45,0)
 S DR(1,165.5,36)="W !"
"RTN","ONCGPC3",46,0)
 S DR(1,165.5,37)="W !,"" 36. COMPLICATIONS REQUIRING RE-OPERATION:"""
"RTN","ONCGPC3",47,0)
 S DR(1,165.5,38)="1565      ANASTOMOTIC LEAK............."
"RTN","ONCGPC3",48,0)
 S DR(1,165.5,39)="1565.1      STUMP LEAK..................."
"RTN","ONCGPC3",49,0)
 S DR(1,165.5,40)="1565.2      BLEEDING....................."
"RTN","ONCGPC3",50,0)
 S DR(1,165.5,41)="1565.3      WOUND INFECTION.............."
"RTN","ONCGPC3",51,0)
 S DR(1,165.5,42)="1565.4      SEPSIS......................."
"RTN","ONCGPC3",52,0)
 S DR(1,165.5,43)="1565.5      PANCREATITIS................."
"RTN","ONCGPC3",53,0)
 S DR(1,165.5,44)="1565.6      DEAD BOWEL..................."
"RTN","ONCGPC3",54,0)
 S DR(1,165.5,45)="1565.7      OTHER........................"
"RTN","ONCGPC3",55,0)
 S DR(1,165.5,46)="W !"
"RTN","ONCGPC3",56,0)
 S DR(1,165.5,47)="1566 37. DATE OF SURGICAL DISCHARGE...."
"RTN","ONCGPC3",57,0)
 S DR(1,165.5,48)="W ! K DIR S DIR(0)=""E"" D ^DIR S Y=""@38"" S:$D(DUOUT) Y=""@99"""
"RTN","ONCGPC3",58,0)
 S DR(1,165.5,49)="@38"
"RTN","ONCGPC3",59,0)
 S DR(1,165.5,50)="D HEAD^ONCGPC0"
"RTN","ONCGPC3",60,0)
 S DR(1,165.5,51)="W !,"" FIRST COURSE OF TREATMENT - RADIATION"""
"RTN","ONCGPC3",61,0)
 S DR(1,165.5,52)="W !,"" -------------------------------------"""
"RTN","ONCGPC3",62,0)
 S DR(1,165.5,53)="I (RAD="""")!(RAD=0)!(RAD=9) D NORAD^ONCGPC3 S Y=$S($D(DUOUT):""@99"",1:""@42"")"
"RTN","ONCGPC3",63,0)
 S DR(1,165.5,54)="442 38. REGIONAL DOSE (cGy)..........."
"RTN","ONCGPC3",64,0)
 S DR(1,165.5,55)="W !"
"RTN","ONCGPC3",65,0)
 S DR(1,165.5,56)="1575 39. BOOST DOSE (cGy).............."
"RTN","ONCGPC3",66,0)
 S DR(1,165.5,57)="W !"
"RTN","ONCGPC3",67,0)
 S DR(1,165.5,58)="1567 40. INTRA-OPERATIVE RADIATION                                                        THERAPY, DOSE (cGy).........."
"RTN","ONCGPC3",68,0)
 S DR(1,165.5,59)="W !"
"RTN","ONCGPC3",69,0)
 S DR(1,165.5,60)="1568 41. CONCURRENT CHEMOTHERAPY......."
"RTN","ONCGPC3",70,0)
 S DR(1,165.5,61)="W ! K DIR S DIR(0)=""E"" D ^DIR S Y=""@42"" S:$D(DUOUT) Y=""@99"""
"RTN","ONCGPC3",71,0)
 S DR(1,165.5,62)="@42"
"RTN","ONCGPC3",72,0)
 S DR(1,165.5,63)="D HEAD^ONCGPC0"
"RTN","ONCGPC3",73,0)
 S DR(1,165.5,64)="W !,"" FIRST COURSE OF TREATMENT - CHEMOTHERAPY"""
"RTN","ONCGPC3",74,0)
 S DR(1,165.5,65)="W !,"" ----------------------------------------"""
"RTN","ONCGPC3",75,0)
 S DR(1,165.5,66)="I (CHE="""")!(CHE=0)!(CHE=9) D NOCHE^ONCGPC3 S Y=$S($D(DUOUT):""@99"",1:""@46"")"
"RTN","ONCGPC3",76,0)
 S DR(1,165.5,67)="W !,"" 42. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"""
"RTN","ONCGPC3",77,0)
 S DR(1,165.5,68)="1576      AGENT #1....................."
"RTN","ONCGPC3",78,0)
 S DR(1,165.5,69)="1576.1      AGENT #2....................."
"RTN","ONCGPC3",79,0)
 S DR(1,165.5,70)="1576.2      AGENT #3....................."
"RTN","ONCGPC3",80,0)
 S DR(1,165.5,71)="W !"
"RTN","ONCGPC3",81,0)
 S DR(1,165.5,72)="1569 43. INTRAPERITONEAL CHEMOTHERAPY.."
"RTN","ONCGPC3",82,0)
 S DR(1,165.5,73)="W !"
"RTN","ONCGPC3",83,0)
 S DR(1,165.5,74)="1577 44. CHEMOTHERAPEUTIC TOXICITY....."
"RTN","ONCGPC3",84,0)
 S DR(1,165.5,75)="W !"
"RTN","ONCGPC3",85,0)
 S DR(1,165.5,76)="1578 45. CHEMOTHERAPY/SURGERY SEQUENCE."
"RTN","ONCGPC3",86,0)
 S DR(1,165.5,77)="W ! K DIR S DIR(0)=""E"" D ^DIR S Y=""@46"" S:$D(DUOUT) Y=""@99"""
"RTN","ONCGPC3",87,0)
 S DR(1,165.5,78)="@46"
"RTN","ONCGPC3",88,0)
 S DR(1,165.5,79)="D HEAD^ONCGPC0"
"RTN","ONCGPC3",89,0)
 S DR(1,165.5,80)="W !,"" FIRST COURSE OF TREATMENT - IMMUNOTHERAPY"""
"RTN","ONCGPC3",90,0)
 S DR(1,165.5,81)="W !,"" -----------------------------------------"""
"RTN","ONCGPC3",91,0)
 S DR(1,165.5,82)="I (IMM="""")!(IMM=0)!(IMM=9) D NOIMM^ONCGPC3 S Y=""@99"""
"RTN","ONCGPC3",92,0)
 S DR(1,165.5,83)="1570 46. ADMINSTRATION OF INTERFERON..."
"RTN","ONCGPC3",93,0)
 S DR(1,165.5,84)="@99"
"RTN","ONCGPC3",94,0)
 D ^DIE
"RTN","ONCGPC3",95,0)
 K DR
"RTN","ONCGPC3",96,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCGPC3",97,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCGPC3",98,0)
 K SUR,RAD,CHE,IMM
"RTN","ONCGPC3",99,0)
 Q
"RTN","ONCGPC3",100,0)
NOSUR ;No surgery
"RTN","ONCGPC3",101,0)
 F PIECE=71:1:74 S $P(^ONCO(165.5,D0,"GAS1"),U,PIECE)=""
"RTN","ONCGPC3",102,0)
 F PIECE=1:1:28 S $P(^ONCO(165.5,D0,"GAS2"),U,PIECE)=""
"RTN","ONCGPC3",103,0)
 W !," No surgery of the primary site was performed."
"RTN","ONCGPC3",104,0)
 W !," Proceed to data item 38."
"RTN","ONCGPC3",105,0)
 W !
"RTN","ONCGPC3",106,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DUOUT) Y="@99"
"RTN","ONCGPC3",107,0)
 K PIECE
"RTN","ONCGPC3",108,0)
 Q
"RTN","ONCGPC3",109,0)
NORAD ;No radiation
"RTN","ONCGPC3",110,0)
 S $P(^ONCO(165.5,D0,"THY1"),U,43)=0
"RTN","ONCGPC3",111,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,42)="00000"
"RTN","ONCGPC3",112,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,29)="00000"
"RTN","ONCGPC3",113,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,30)=""
"RTN","ONCGPC3",114,0)
 W !," No radiation therapy was administered."
"RTN","ONCGPC3",115,0)
 W !," Code data items 38-40 to 00000."
"RTN","ONCGPC3",116,0)
 W !," Do not answer data item 41, and proceed to data item 42."
"RTN","ONCGPC3",117,0)
 W !
"RTN","ONCGPC3",118,0)
 W !," 38. REGIONAL DOSE (cGy)...........: 00000"
"RTN","ONCGPC3",119,0)
 W !
"RTN","ONCGPC3",120,0)
 W !," 39. BOOST DOSE (cGy)..............: Not administered"
"RTN","ONCGPC3",121,0)
 W !
"RTN","ONCGPC3",122,0)
 W !," 40. INTRA-OPERATIVE RADIATION"
"RTN","ONCGPC3",123,0)
 W !,"      THERAPY, DOSE (cGy)..........: Not administered"
"RTN","ONCGPC3",124,0)
 W !
"RTN","ONCGPC3",125,0)
 W !," 41. CONCURRENT CHEMOTHERAPY.......:"
"RTN","ONCGPC3",126,0)
 W !
"RTN","ONCGPC3",127,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DUOUT) Y="@99"
"RTN","ONCGPC3",128,0)
 Q
"RTN","ONCGPC3",129,0)
NOCHE ;No chemotherapy
"RTN","ONCGPC3",130,0)
 W !," No chemotherapy was administered."
"RTN","ONCGPC3",131,0)
 W !," Proceed to data item 46."
"RTN","ONCGPC3",132,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,43)=""
"RTN","ONCGPC3",133,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,44)=""
"RTN","ONCGPC3",134,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,45)=""
"RTN","ONCGPC3",135,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,31)=""
"RTN","ONCGPC3",136,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,46)=""
"RTN","ONCGPC3",137,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,47)=""
"RTN","ONCGPC3",138,0)
 W !
"RTN","ONCGPC3",139,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DUOUT) Y="@99"
"RTN","ONCGPC3",140,0)
 Q
"RTN","ONCGPC3",141,0)
NOIMM ;No immunotherapy
"RTN","ONCGPC3",142,0)
 W !," No immunotherapy administered."
"RTN","ONCGPC3",143,0)
 W !," Proceed to Treatment Complications."
"RTN","ONCGPC3",144,0)
 S $P(^ONCO(165.5,D0,"GAS2"),U,32)=""
"RTN","ONCGPC3",145,0)
 Q
"RTN","ONCGPC4")
0^78^B2287713
"RTN","ONCGPC4",1,0)
ONCGPC4 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;03/08/01
"RTN","ONCGPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC4",3,0)
 ;Treatment Complications 
"RTN","ONCGPC4",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCGPC4",5,0)
 W @IOF D HEAD^ONCGPC0
"RTN","ONCGPC4",6,0)
 W !," TREATMENT COMPLICATIONS"
"RTN","ONCGPC4",7,0)
 W !," -----------------------"
"RTN","ONCGPC4",8,0)
 S DR(1,165.5,1)="1426.5 47. COMPLICATIONS (YES/NO)........"
"RTN","ONCGPC4",9,0)
 S DR(1,165.5,2)="I $G(X)=0 D NOCMP^ONCGPC4 S Y=""@99"""
"RTN","ONCGPC4",10,0)
 S DR(1,165.5,3)="1579      COMPLICATION #1.............."
"RTN","ONCGPC4",11,0)
 S DR(1,165.5,4)="1579.1      COMPLICATION #2.............."
"RTN","ONCGPC4",12,0)
 S DR(1,165.5,5)="1579.2      COMPLICATION #3.............."
"RTN","ONCGPC4",13,0)
 S DR(1,165.5,6)="1579.3      COMPLICATION #4.............."
"RTN","ONCGPC4",14,0)
 S DR(1,165.5,7)="1579.4      COMPLICATION #5.............."
"RTN","ONCGPC4",15,0)
 S DR(1,165.5,8)="@99"
"RTN","ONCGPC4",16,0)
 D ^DIE
"RTN","ONCGPC4",17,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCGPC4",18,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCGPC4",19,0)
 Q
"RTN","ONCGPC4",20,0)
NOCMP ;Item 47. COMPLICATIONS
"RTN","ONCGPC4",21,0)
 F PIECE=48:1:52 S $P(^ONCO(165.5,D0,"GAS2"),U,PIECE)=""
"RTN","ONCGPC4",22,0)
 W !,"      COMPLICATION #1..............: 000.00 No complications"
"RTN","ONCGPC4",23,0)
 W !,"      COMPLICATION #2..............:"
"RTN","ONCGPC4",24,0)
 W !,"      COMPLICATION #3..............:"
"RTN","ONCGPC4",25,0)
 W !,"      COMPLICATION #4..............:"
"RTN","ONCGPC4",26,0)
 W !,"      COMPLICATION #5..............:"
"RTN","ONCGPC4",27,0)
 W !
"RTN","ONCGPC4",28,0)
 K PIECE
"RTN","ONCGPC4",29,0)
 Q
"RTN","ONCGPC5")
0^79^B711382
"RTN","ONCGPC5",1,0)
ONCGPC5 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;03/08/01
"RTN","ONCGPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC5",3,0)
 ;Case Registration 
"RTN","ONCGPC5",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCGPC5",5,0)
 W @IOF D HEAD^ONCGPC0
"RTN","ONCGPC5",6,0)
 W !," CASE REGISTRATION"
"RTN","ONCGPC5",7,0)
 W !," -----------------"
"RTN","ONCGPC5",8,0)
 S DR(1,165.5,1)="81 48. INITIALS OF CASE ABSTRACTOR..."
"RTN","ONCGPC5",9,0)
 S DR(1,165.5,2)="W !"
"RTN","ONCGPC5",10,0)
 S DR(1,165.5,3)="90 49. DATE CASE WAS ABSTRACTED......"
"RTN","ONCGPC5",11,0)
 D ^DIE
"RTN","ONCGPC5",12,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCGPC5",13,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCGPC5",14,0)
 Q
"RTN","ONCGPC7")
0^80^B28612141
"RTN","ONCGPC7",1,0)
ONCGPC7 ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;04/16/01
"RTN","ONCGPC7",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC7",3,0)
 ;Print 
"RTN","ONCGPC7",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCGPC7",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP^ADENOCA^HIST1234^LYMPHOMA" D TASK G KILL
"RTN","ONCGPC7",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCGPC7",7,0)
PRT S EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCGPC7",8,0)
 S HIST=$$HIST^ONCFUNC(ONCONUM)
"RTN","ONCGPC7",9,0)
 S HIST1234=$E(HIST,1,4),BEH=$E(HIST,5)
"RTN","ONCGPC7",10,0)
 S ADENOCA=0,LYMPHOMA=0
"RTN","ONCGPC7",11,0)
 I (HIST1234>8139)&(HIST1234<8577) S ADENOCA=1  ;Adenocarcinomas
"RTN","ONCGPC7",12,0)
 I HIST1234=8941 S ADENOCA=1                    ;Adenocarcinoma
"RTN","ONCGPC7",13,0)
 I (HIST1234>9589)&(HIST1234<9730) S LYMPHOMA=1 ;Lymphomas
"RTN","ONCGPC7",14,0)
 S CMC=$$GET1^DIQ(165.5,IE,1400.6) ;GAS CO-MORBID CONDITIONS Y/N
"RTN","ONCGPC7",15,0)
 S TC=$$GET1^DIQ(165.5,IE,1426.5)  ;LNG COMPLICATIONS Y/N
"RTN","ONCGPC7",16,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCGPC7",17,0)
I S TABLE="PATIENT INFORMATION"
"RTN","ONCGPC7",18,0)
 D HEAD^ONCGPC0
"RTN","ONCGPC7",19,0)
 K LINE S $P(LINE,"-",19)="-"
"RTN","ONCGPC7",20,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCGPC7",21,0)
ITEM1 W !," 1. CO-MORBID CONDITIONS:"
"RTN","ONCGPC7",22,0)
 D P Q:EX=U
"RTN","ONCGPC7",23,0)
 I CMC="No" D  G CMC2
"RTN","ONCGPC7",24,0)
 .W !,"     CO-MORBID CONDITION #1.......: 000.00 No co-morbidities"
"RTN","ONCGPC7",25,0)
 W !,"     CO-MORBID CONDITION #1.......: ",$P($$GET1^DIQ(165.5,IE,1571)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1571)," ",2,99)
"RTN","ONCGPC7",26,0)
CMC2 D P Q:EX=U
"RTN","ONCGPC7",27,0)
 W !,"     CO-MORBID CONDITION #2.......: ",$P($$GET1^DIQ(165.5,IE,1571.1)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1571.1)," ",2,99)
"RTN","ONCGPC7",28,0)
 D P Q:EX=U
"RTN","ONCGPC7",29,0)
 W !,"     CO-MORBID CONDITION #3.......: ",$P($$GET1^DIQ(165.5,IE,1571.2)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1571.2)," ",2,99)
"RTN","ONCGPC7",30,0)
 D P Q:EX=U
"RTN","ONCGPC7",31,0)
 W !,"     CO-MORBID CONDITION #4.......: ",$P($$GET1^DIQ(165.5,IE,1571.3)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1571.3)," ",2,99)
"RTN","ONCGPC7",32,0)
 D P Q:EX=U
"RTN","ONCGPC7",33,0)
 W !,"     CO-MORBID CONDITION #5.......: ",$P($$GET1^DIQ(165.5,IE,1571.4)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1571.4)," ",2,99)
"RTN","ONCGPC7",34,0)
 D P Q:EX=U
"RTN","ONCGPC7",35,0)
 W !,"     CO-MORBID CONDITION #6.......: ",$P($$GET1^DIQ(165.5,IE,1571.5)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1571.5)," ",2,99)
"RTN","ONCGPC7",36,0)
 D P Q:EX=U
"RTN","ONCGPC7",37,0)
 W !
"RTN","ONCGPC7",38,0)
 D P Q:EX=U
"RTN","ONCGPC7",39,0)
ITEM2 W !," 2. PRIOR EXPOSURE TO RADIATION...: ",$$GET1^DIQ(165.5,IE,1500)
"RTN","ONCGPC7",40,0)
 W !
"RTN","ONCGPC7",41,0)
 D P Q:EX=U
"RTN","ONCGPC7",42,0)
ITEM3 W !," 3. ALCOHOL CONSUMPTION...........: ",$$GET1^DIQ(165.5,IE,1501)
"RTN","ONCGPC7",43,0)
 D P Q:EX=U
"RTN","ONCGPC7",44,0)
 W !
"RTN","ONCGPC7",45,0)
 D P Q:EX=U
"RTN","ONCGPC7",46,0)
ITEM4 W !," 4. DURATION OF TOBACCO USE.......: ",$$GET1^DIQ(165.5,IE,1572)
"RTN","ONCGPC7",47,0)
 D P Q:EX=U
"RTN","ONCGPC7",48,0)
 W !
"RTN","ONCGPC7",49,0)
 D P Q:EX=U
"RTN","ONCGPC7",50,0)
ITEM5 W !," 5. MENOPAUSAL STATUS AND HORMONE"
"RTN","ONCGPC7",51,0)
 D P Q:EX=U
"RTN","ONCGPC7",52,0)
 W !,"     REPLACEMENT THERAPY..........: ",$$GET1^DIQ(165.5,IE,1502)
"RTN","ONCGPC7",53,0)
 D P Q:EX=U
"RTN","ONCGPC7",54,0)
 W !
"RTN","ONCGPC7",55,0)
 D P Q:EX=U
"RTN","ONCGPC7",56,0)
ITEM6 W !," 6. H2/BLOCKER PROTON PUMP"
"RTN","ONCGPC7",57,0)
 D P Q:EX=U
"RTN","ONCGPC7",58,0)
 W !,"     INHIBITOR....................: ",$$GET1^DIQ(165.5,IE,1503)
"RTN","ONCGPC7",59,0)
 D P Q:EX=U
"RTN","ONCGPC7",60,0)
 W !
"RTN","ONCGPC7",61,0)
 D P Q:EX=U
"RTN","ONCGPC7",62,0)
ITEM7 W !," 7. FAMILY HISTORY OF GASTRIC"
"RTN","ONCGPC7",63,0)
 D P Q:EX=U
"RTN","ONCGPC7",64,0)
 W !,"     CANCER.......................: ",$$GET1^DIQ(165.5,IE,1504)
"RTN","ONCGPC7",65,0)
 W !
"RTN","ONCGPC7",66,0)
 D P Q:EX=U
"RTN","ONCGPC7",67,0)
ITEM8 W !," 8. PERSONAL HISTORY OF OTHER"
"RTN","ONCGPC7",68,0)
 D P Q:EX=U
"RTN","ONCGPC7",69,0)
 W !,"     INVASIVE MALIGNANCIES PRIOR"
"RTN","ONCGPC7",70,0)
 D P Q:EX=U
"RTN","ONCGPC7",71,0)
 W !,"      TO THIS CANCER DIAGNOSIS....: ",$$GET1^DIQ(165.5,IE,1573)
"RTN","ONCGPC7",72,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM9
"RTN","ONCGPC7",73,0)
 W !
"RTN","ONCGPC7",74,0)
 D P Q:EX=U
"RTN","ONCGPC7",75,0)
ITEM9 W !," 9. ASSOCIATED BENIGN CONDITIONS:"
"RTN","ONCGPC7",76,0)
 D P Q:EX=U
"RTN","ONCGPC7",77,0)
 W !,"     H-PYLORI INECTION............: ",$$GET1^DIQ(165.5,IE,1505)
"RTN","ONCGPC7",78,0)
 D P Q:EX=U
"RTN","ONCGPC7",79,0)
 W !,"     DUODENAL ULCER...............: ",$$GET1^DIQ(165.5,IE,1506)
"RTN","ONCGPC7",80,0)
 D P Q:EX=U
"RTN","ONCGPC7",81,0)
 W !,"     GASTRIC ULCER................: ",$$GET1^DIQ(165.5,IE,1507)
"RTN","ONCGPC7",82,0)
 D P Q:EX=U
"RTN","ONCGPC7",83,0)
 W !,"     HEARTBURN....................: ",$$GET1^DIQ(165.5,IE,1508)
"RTN","ONCGPC7",84,0)
 D P Q:EX=U
"RTN","ONCGPC7",85,0)
 W !,"     PERNICIOUS ANEMIA............: ",$$GET1^DIQ(165.5,IE,1509)
"RTN","ONCGPC7",86,0)
 D P Q:EX=U
"RTN","ONCGPC7",87,0)
 W !,"     POLYPS OF STOMACH............: ",$$GET1^DIQ(165.5,IE,1510)
"RTN","ONCGPC7",88,0)
 D P Q:EX=U
"RTN","ONCGPC7",89,0)
 W !,"     POLYPOSIS OF SMALL OR LARGE"
"RTN","ONCGPC7",90,0)
 D P Q:EX=U
"RTN","ONCGPC7",91,0)
 W !,"      BOWEL.......................: ",$$GET1^DIQ(165.5,IE,1511)
"RTN","ONCGPC7",92,0)
 D P Q:EX=U
"RTN","ONCGPC7",93,0)
 W !,"     BARRETT'S ESOPHAGUS..........: ",$$GET1^DIQ(165.5,IE,1512)
"RTN","ONCGPC7",94,0)
 D P Q:EX=U
"RTN","ONCGPC7",95,0)
 W !,"     ATROPHIC GASTRITIS...........: ",$$GET1^DIQ(165.5,IE,1513)
"RTN","ONCGPC7",96,0)
 D P Q:EX=U
"RTN","ONCGPC7",97,0)
 W !,"     GASTRIC METAPLASIA...........: ",$$GET1^DIQ(165.5,IE,1514)
"RTN","ONCGPC7",98,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM10
"RTN","ONCGPC7",99,0)
 W !
"RTN","ONCGPC7",100,0)
 D P Q:EX=U
"RTN","ONCGPC7",101,0)
ITEM10 W !,"10. H-PYLORI DRUGS GIVEN:"
"RTN","ONCGPC7",102,0)
 D P Q:EX=U
"RTN","ONCGPC7",103,0)
 W !,"     ANTIBIOTICS..................: ",$$GET1^DIQ(165.5,IE,1515)
"RTN","ONCGPC7",104,0)
 D P Q:EX=U
"RTN","ONCGPC7",105,0)
 W !,"     PROTON PUMP INHIBITORS.......: ",$$GET1^DIQ(165.5,IE,1516)
"RTN","ONCGPC7",106,0)
 D P Q:EX=U
"RTN","ONCGPC7",107,0)
 W !,"     H2 BLOCKERS..................: ",$$GET1^DIQ(165.5,IE,1517)
"RTN","ONCGPC7",108,0)
 D P Q:EX=U
"RTN","ONCGPC7",109,0)
 W !,"     BISMUTH COMPOUNDS............: ",$$GET1^DIQ(165.5,IE,1518)
"RTN","ONCGPC7",110,0)
 D P Q:EX=U
"RTN","ONCGPC7",111,0)
 W !
"RTN","ONCGPC7",112,0)
 D P Q:EX=U
"RTN","ONCGPC7",113,0)
ITEM11 W !,"11. PRIOR INTRA-ABDOMINAL SURGERY.: ",$$GET1^DIQ(165.5,IE,1519)
"RTN","ONCGPC7",114,0)
 D P Q:EX=U
"RTN","ONCGPC7",115,0)
 W !
"RTN","ONCGPC7",116,0)
 D P Q:EX=U
"RTN","ONCGPC7",117,0)
ITEM12 W !,"12. YEAR OF PRIOR GASTRIC"
"RTN","ONCGPC7",118,0)
 D P Q:EX=U
"RTN","ONCGPC7",119,0)
 W !,"     RESECTION....................: ",$$GET1^DIQ(165.5,IE,1520)
"RTN","ONCGPC7",120,0)
 D P Q:EX=U
"RTN","ONCGPC7",121,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCGPC7",122,0)
 I IOST?1"C".E D HEAD^ONCGPC0
"RTN","ONCGPC7",123,0)
 D ^ONCGPC7A
"RTN","ONCGPC7",124,0)
KILL ;
"RTN","ONCGPC7",125,0)
 K CS,CSDAT,CSI,CSPNT,DESC,DESC1,DESC2,DLC,DOFCT
"RTN","ONCGPC7",126,0)
 K EX,IE,LIN,LINE,LOS,NOP,ONCOLST,TABLE
"RTN","ONCGPC7",127,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCGPC7",128,0)
 Q
"RTN","ONCGPC7",129,0)
P ;Print
"RTN","ONCGPC7",130,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCGPC7",131,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCGPC7",132,0)
 .D HEAD^ONCGPC0 Q
"RTN","ONCGPC7",133,0)
 Q
"RTN","ONCGPC7",134,0)
TASK ;Queue a task
"RTN","ONCGPC7",135,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCGPC7",136,0)
 S ZTRTN="PRT^ONCGPC7",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCGPC7",137,0)
 S ZTDESC="Print Gastric Cancers PCE"
"RTN","ONCGPC7",138,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCGPC7",139,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCGPC7",140,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCGPC7A")
0^81^B52387035
"RTN","ONCGPC7A",1,0)
ONCGPC7A ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;04/16/01
"RTN","ONCGPC7A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC7A",3,0)
 ;Print (continued) 
"RTN","ONCGPC7A",4,0)
II S TABLE="TUMOR IDENTIFICATION AND DIAGNOSIS"
"RTN","ONCGPC7A",5,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCGPC0
"RTN","ONCGPC7A",6,0)
 K LINE S $P(LINE,"-",34)="-"
"RTN","ONCGPC7A",7,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCGPC7A",8,0)
 D P Q:EX=U
"RTN","ONCGPC7A",9,0)
ITEM13 W !,"13. PERFORMANCE STATUS AT INITIAL"
"RTN","ONCGPC7A",10,0)
 D P Q:EX=U
"RTN","ONCGPC7A",11,0)
 W !,"     DIAGNOSIS....................: ",$$GET1^DIQ(165.5,IE,1521)
"RTN","ONCGPC7A",12,0)
 D P Q:EX=U
"RTN","ONCGPC7A",13,0)
 W !
"RTN","ONCGPC7A",14,0)
 D P Q:EX=U
"RTN","ONCGPC7A",15,0)
ITEM14 W !,"14. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS:"
"RTN","ONCGPC7A",16,0)
 D P Q:EX=U
"RTN","ONCGPC7A",17,0)
 W !,"     HEARTBURN....................: ",$$GET1^DIQ(165.5,IE,1522)
"RTN","ONCGPC7A",18,0)
 D P Q:EX=U
"RTN","ONCGPC7A",19,0)
 W !,"     FEVER/NIGHT SWEATS...........: ",$$GET1^DIQ(165.5,IE,1523)
"RTN","ONCGPC7A",20,0)
 D P Q:EX=U
"RTN","ONCGPC7A",21,0)
 W !,"     ACUTE HEMATEMESIS............: ",$$GET1^DIQ(165.5,IE,1524)
"RTN","ONCGPC7A",22,0)
 D P Q:EX=U
"RTN","ONCGPC7A",23,0)
 W !,"     TRANSFUSIONS FOR BLOOD LOSS..: ",$$GET1^DIQ(165.5,IE,1525)
"RTN","ONCGPC7A",24,0)
 D P Q:EX=U
"RTN","ONCGPC7A",25,0)
 W !,"     WEIGHT LOSS..................: ",$$GET1^DIQ(165.5,IE,1574)
"RTN","ONCGPC7A",26,0)
 D P Q:EX=U
"RTN","ONCGPC7A",27,0)
 W !,"     MELENA.......................: ",$$GET1^DIQ(165.5,IE,1526)
"RTN","ONCGPC7A",28,0)
 D P Q:EX=U
"RTN","ONCGPC7A",29,0)
 W !,"     PAIN.........................: ",$$GET1^DIQ(165.5,IE,1527)
"RTN","ONCGPC7A",30,0)
 D P Q:EX=U
"RTN","ONCGPC7A",31,0)
 W !,"     EARLY SATIETY................: ",$$GET1^DIQ(165.5,IE,1528)
"RTN","ONCGPC7A",32,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM15
"RTN","ONCGPC7A",33,0)
 W !
"RTN","ONCGPC7A",34,0)
 D P Q:EX=U
"RTN","ONCGPC7A",35,0)
ITEM15 W !,"15. INITIAL STAGING STUDIES:"
"RTN","ONCGPC7A",36,0)
 D P Q:EX=U
"RTN","ONCGPC7A",37,0)
 W !,"     CT SCAN OF ABDOMEN...........: ",$$GET1^DIQ(165.5,IE,1529)
"RTN","ONCGPC7A",38,0)
 D P Q:EX=U
"RTN","ONCGPC7A",39,0)
 W !,"     CT SCAN OF CHEST.............: ",$$GET1^DIQ(165.5,IE,1530)
"RTN","ONCGPC7A",40,0)
 D P Q:EX=U
"RTN","ONCGPC7A",41,0)
 W !,"     CT PELVIS....................: ",$$GET1^DIQ(165.5,IE,1531)
"RTN","ONCGPC7A",42,0)
 D P Q:EX=U
"RTN","ONCGPC7A",43,0)
 W !,"     CHEST X-RAY..................: ",$$GET1^DIQ(165.5,IE,1532)
"RTN","ONCGPC7A",44,0)
 D P Q:EX=U
"RTN","ONCGPC7A",45,0)
 W !,"     GALLIUM SCAN.................: ",$$GET1^DIQ(165.5,IE,1533)
"RTN","ONCGPC7A",46,0)
 D P Q:EX=U
"RTN","ONCGPC7A",47,0)
 W !,"     BIPEDAL LYMPHANGIOGRAM (LAG).: ",$$GET1^DIQ(165.5,IE,1534)
"RTN","ONCGPC7A",48,0)
 D P Q:EX=U
"RTN","ONCGPC7A",49,0)
 W !,"     MRI..........................: ",$$GET1^DIQ(165.5,IE,1535)
"RTN","ONCGPC7A",50,0)
 D P Q:EX=U
"RTN","ONCGPC7A",51,0)
 W !,"     PET SCAN.....................: ",$$GET1^DIQ(165.5,IE,1536)
"RTN","ONCGPC7A",52,0)
 D P Q:EX=U
"RTN","ONCGPC7A",53,0)
 W !,"     LAPAROSCOPY..................: ",$$GET1^DIQ(165.5,IE,1537)
"RTN","ONCGPC7A",54,0)
 D P Q:EX=U
"RTN","ONCGPC7A",55,0)
 W !,"     EUS (ENDOSCOPIC ULTRASOUND)..: ",$$GET1^DIQ(165.5,IE,1538)
"RTN","ONCGPC7A",56,0)
 D P Q:EX=U
"RTN","ONCGPC7A",57,0)
 W !,"     PERITONEAL LAVAGE............: ",$$GET1^DIQ(165.5,IE,1539)
"RTN","ONCGPC7A",58,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM16
"RTN","ONCGPC7A",59,0)
 W !
"RTN","ONCGPC7A",60,0)
 D P Q:EX=U
"RTN","ONCGPC7A",61,0)
ITEM16 W !,"16. LABORATORY STUDIES:"
"RTN","ONCGPC7A",62,0)
 D P Q:EX=U
"RTN","ONCGPC7A",63,0)
 W !,"     LDH (IU/L)...................: ",$$GET1^DIQ(165.5,IE,1540)
"RTN","ONCGPC7A",64,0)
 D P Q:EX=U
"RTN","ONCGPC7A",65,0)
 W !,"     CEA (ng/ml)..................: ",$$GET1^DIQ(165.5,IE,1541)
"RTN","ONCGPC7A",66,0)
 D P Q:EX=U
"RTN","ONCGPC7A",67,0)
 W !,"     CA125 (U/ml).................: ",$$GET1^DIQ(165.5,IE,1542)
"RTN","ONCGPC7A",68,0)
 D P Q:EX=U
"RTN","ONCGPC7A",69,0)
 W !,"     BETA2 MICROGLOBULIN (ng/ml)..: ",$$GET1^DIQ(165.5,IE,1543)
"RTN","ONCGPC7A",70,0)
 D P Q:EX=U
"RTN","ONCGPC7A",71,0)
 W !,"     URINARY 5-HIAA (mg/24hr).....: ",$$GET1^DIQ(165.5,IE,1544)
"RTN","ONCGPC7A",72,0)
 D P Q:EX=U
"RTN","ONCGPC7A",73,0)
 W !
"RTN","ONCGPC7A",74,0)
 D P Q:EX=U
"RTN","ONCGPC7A",75,0)
ITEM17 W !,"17. GASTROSCOPIC EXAMINATION RESULTS:"
"RTN","ONCGPC7A",76,0)
 D P Q:EX=U
"RTN","ONCGPC7A",77,0)
 W !,"     CLINICAL/VISUAL EXAMINATION..: ",$$GET1^DIQ(165.5,IE,1545)
"RTN","ONCGPC7A",78,0)
 D P Q:EX=U
"RTN","ONCGPC7A",79,0)
 W !,"     BIOPSY.......................: ",$$GET1^DIQ(165.5,IE,1545.1)
"RTN","ONCGPC7A",80,0)
 D P Q:EX=U
"RTN","ONCGPC7A",81,0)
 W !
"RTN","ONCGPC7A",82,0)
 D P Q:EX=U
"RTN","ONCGPC7A",83,0)
ITEM18 W !,"18. GASTRO-ESOPHAGEAL JUNCTION"
"RTN","ONCGPC7A",84,0)
 D P Q:EX=U
"RTN","ONCGPC7A",85,0)
 I ($G(TOPCOD)'="C16.0")&($G(TOPCOD)'="C16.1") D  G PRTC1
"RTN","ONCGPC7A",86,0)
 .W !,"     (SIEWART TYPE II/III)........: NA (not C16.0 or C16.1)"
"RTN","ONCGPC7A",87,0)
 W !,"     (SIEWART TYPE II/III)........: ",$$GET1^DIQ(165.5,IE,1546)
"RTN","ONCGPC7A",88,0)
PRTC1 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM19
"RTN","ONCGPC7A",89,0)
 W !
"RTN","ONCGPC7A",90,0)
 D P Q:EX=U
"RTN","ONCGPC7A",91,0)
ITEM19 W !,"19. ANATOMIC SITE OF INITIAL HISTOLOGIC DIAGNOSIS:"
"RTN","ONCGPC7A",92,0)
 D P Q:EX=U
"RTN","ONCGPC7A",93,0)
 W !,"     STOMACH......................: ",$$GET1^DIQ(165.5,IE,1547)
"RTN","ONCGPC7A",94,0)
 D P Q:EX=U
"RTN","ONCGPC7A",95,0)
 W !,"     LIVER........................: ",$$GET1^DIQ(165.5,IE,1547.1)
"RTN","ONCGPC7A",96,0)
 D P Q:EX=U
"RTN","ONCGPC7A",97,0)
 W !,"     EXTRA-ABDOMINAL..............: ",$$GET1^DIQ(165.5,IE,1547.2)
"RTN","ONCGPC7A",98,0)
 D P Q:EX=U
"RTN","ONCGPC7A",99,0)
 W !,"     LYMPH NODES..................: ",$$GET1^DIQ(165.5,IE,1547.3)
"RTN","ONCGPC7A",100,0)
 D P Q:EX=U
"RTN","ONCGPC7A",101,0)
 W !,"     PERITONEUM...................: ",$$GET1^DIQ(165.5,IE,1547.4)
"RTN","ONCGPC7A",102,0)
 D P Q:EX=U
"RTN","ONCGPC7A",103,0)
 W !
"RTN","ONCGPC7A",104,0)
 D P Q:EX=U
"RTN","ONCGPC7A",105,0)
ITEM20 W !,"20. DATE OF FIRST TISSUE DIAGNOSIS: ",$$GET1^DIQ(165.5,IE,1548)
"RTN","ONCGPC7A",106,0)
 D P Q:EX=U
"RTN","ONCGPC7A",107,0)
 W !
"RTN","ONCGPC7A",108,0)
 D P Q:EX=U
"RTN","ONCGPC7A",109,0)
ITEM21 I 'ADENOCA D  Q:EX=U  G PRTC
"RTN","ONCGPC7A",110,0)
 .W !,"21. LAUREN'S CLASSIFICATION.......: NA (not adenocarcinoma)"
"RTN","ONCGPC7A",111,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",112,0)
 .W !
"RTN","ONCGPC7A",113,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",114,0)
 .W !,"22. GOSEKI'S CLASSIFICATION.......: NA (not adenocarcinoma)"
"RTN","ONCGPC7A",115,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",116,0)
 .W !
"RTN","ONCGPC7A",117,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",118,0)
 W !,"21. LAUREN'S CLASSIFICATION.......: ",$$GET1^DIQ(165.5,IE,1549)
"RTN","ONCGPC7A",119,0)
 D P Q:EX=U
"RTN","ONCGPC7A",120,0)
 W !
"RTN","ONCGPC7A",121,0)
 D P Q:EX=U
"RTN","ONCGPC7A",122,0)
ITEM22 W !,"22. GOSEKI'S CLASSIFICATION.......: ",$$GET1^DIQ(165.5,IE,1550)
"RTN","ONCGPC7A",123,0)
 W !
"RTN","ONCGPC7A",124,0)
 D P Q:EX=U
"RTN","ONCGPC7A",125,0)
PRTC I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM23
"RTN","ONCGPC7A",126,0)
 D P Q:EX=U
"RTN","ONCGPC7A",127,0)
ITEM23 W !,"23. MOLECULAR MARKERS:"
"RTN","ONCGPC7A",128,0)
 D P Q:EX=U
"RTN","ONCGPC7A",129,0)
 W !,"     GASTRIN......................: ",$$GET1^DIQ(165.5,IE,1551)
"RTN","ONCGPC7A",130,0)
 D P Q:EX=U
"RTN","ONCGPC7A",131,0)
 W !,"     5-HIAA.......................: ",$$GET1^DIQ(165.5,IE,1551.1)
"RTN","ONCGPC7A",132,0)
 D P Q:EX=U
"RTN","ONCGPC7A",133,0)
 W !,"     CEA..........................: ",$$GET1^DIQ(165.5,IE,1551.2)
"RTN","ONCGPC7A",134,0)
 D P Q:EX=U
"RTN","ONCGPC7A",135,0)
 W !,"     CA125........................: ",$$GET1^DIQ(165.5,IE,1551.3)
"RTN","ONCGPC7A",136,0)
 D P Q:EX=U
"RTN","ONCGPC7A",137,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1551.4)
"RTN","ONCGPC7A",138,0)
 D P Q:EX=U
"RTN","ONCGPC7A",139,0)
 W !
"RTN","ONCGPC7A",140,0)
 D P Q:EX=U
"RTN","ONCGPC7A",141,0)
ITEM24 I HIST1234'=8890 D  Q:EX=U  G PRTC2
"RTN","ONCGPC7A",142,0)
 .W !,"24. MITOTIC RATE..................: NA (not leimyosarcoma)"
"RTN","ONCGPC7A",143,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",144,0)
 .W !
"RTN","ONCGPC7A",145,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",146,0)
 .W !,"25. TUMOR NECROSIS................: NA (not leimyosarcoma)"
"RTN","ONCGPC7A",147,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",148,0)
 W !,"24. MITOTIC RATE..................: ",$$GET1^DIQ(165.5,IE,1552)
"RTN","ONCGPC7A",149,0)
 D P Q:EX=U
"RTN","ONCGPC7A",150,0)
 W !
"RTN","ONCGPC7A",151,0)
 D P Q:EX=U
"RTN","ONCGPC7A",152,0)
ITEM25 W !,"25. TUMOR NECROSIS................: ",$$GET1^DIQ(165.5,IE,1553)
"RTN","ONCGPC7A",153,0)
PRTC2 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM26
"RTN","ONCGPC7A",154,0)
 W !
"RTN","ONCGPC7A",155,0)
 D P Q:EX=U
"RTN","ONCGPC7A",156,0)
ITEM26 W !,"26. PHENOTYPE MODALITY USED:"
"RTN","ONCGPC7A",157,0)
 D P Q:EX=U
"RTN","ONCGPC7A",158,0)
 I 'LYMPHOMA D  Q:EX=U  G III
"RTN","ONCGPC7A",159,0)
 .W !,"     FLOW CYTOMETRY ON FRESH"
"RTN","ONCGPC7A",160,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",161,0)
 .W !,"      TISSUE......................: NA (not lymphoma)"
"RTN","ONCGPC7A",162,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",163,0)
 .W !,"     IMMUNOCHEMISTRY ON FROZEN"
"RTN","ONCGPC7A",164,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",165,0)
 .W !,"      TISSUE......................: NA (not lymphoma)"
"RTN","ONCGPC7A",166,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",167,0)
 .W !,"     IMMUNOHISTOCHEMISTRY ON"
"RTN","ONCGPC7A",168,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",169,0)
 .W !,"      PARAFIN EMBEDDED TISSUE.....: NA (not lymphoma)"
"RTN","ONCGPC7A",170,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",171,0)
 .W !,"     MOLECULAR GENETICS...........: NA (not lymphoma)"
"RTN","ONCGPC7A",172,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",173,0)
 .W !,"     POLYMERASE CHAIN REACTION"
"RTN","ONCGPC7A",174,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",175,0)
 .W !,"      TECHNIQUE...................: NA (not lymphoma)"
"RTN","ONCGPC7A",176,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",177,0)
 .W !,"     SOUTHERN BLOT TECHNIQUE......: NA (not lymphoma)"
"RTN","ONCGPC7A",178,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",179,0)
 .W !
"RTN","ONCGPC7A",180,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",181,0)
 .W !,"27. ANN ARBOR STAGING.............: NA (not lymphoma)"
"RTN","ONCGPC7A",182,0)
 .D P Q:EX=U
"RTN","ONCGPC7A",183,0)
 W !,"      FLOW CYTOMETRY ON FRESH"
"RTN","ONCGPC7A",184,0)
 W !,"       TISSUE......................: ",$$GET1^DIQ(165.5,IE,1554)
"RTN","ONCGPC7A",185,0)
 W !,"      IMMUNOCHEMISTRY ON FROZEN"
"RTN","ONCGPC7A",186,0)
 W !,"       TISSUE......................: ",$$GET1^DIQ(165.5,IE,1554.1)
"RTN","ONCGPC7A",187,0)
 W !,"      IMMUNOHISTOCHEMISTRY ON"
"RTN","ONCGPC7A",188,0)
 W !,"       PARAFIN EMBEDDED TISSUE.....: ",$$GET1^DIQ(165.5,IE,1554.2)
"RTN","ONCGPC7A",189,0)
 W !,"      MOLECULAR GENETICS...........: ",$$GET1^DIQ(165.5,IE,1554.3)
"RTN","ONCGPC7A",190,0)
 W !,"      POLYMERASE CHAIN REACTION"
"RTN","ONCGPC7A",191,0)
 W !,"       TECHNIQUE...................: ",$$GET1^DIQ(165.5,IE,1554.4)
"RTN","ONCGPC7A",192,0)
 W !,"      SOUTHERN BLOT TECHNIQUE......: ",$$GET1^DIQ(165.5,IE,1554.5)
"RTN","ONCGPC7A",193,0)
 W !
"RTN","ONCGPC7A",194,0)
 D P Q:EX=U
"RTN","ONCGPC7A",195,0)
ITEM27 W !,"27. ANN ARBOR STAGING..............: ",$$GET1^DIQ(165.5,IE,1555)
"RTN","ONCGPC7A",196,0)
 D P Q:EX=U
"RTN","ONCGPC7A",197,0)
III I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCGPC7A",198,0)
 I IOST?1"C".E D HEAD^ONCGPC0
"RTN","ONCGPC7A",199,0)
 D ^ONCGPC7B
"RTN","ONCGPC7A",200,0)
 Q
"RTN","ONCGPC7A",201,0)
P ;Print
"RTN","ONCGPC7A",202,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCGPC7A",203,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCGPC7A",204,0)
 .D HEAD^ONCGPC0 Q
"RTN","ONCGPC7A",205,0)
 Q
"RTN","ONCGPC7B")
0^82^B50557081
"RTN","ONCGPC7B",1,0)
ONCGPC7B ;Hines OIFO/GWB - 2001 Gastric Cancers PCE Study ;05/02/01
"RTN","ONCGPC7B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCGPC7B",3,0)
 ;Print (continued)
"RTN","ONCGPC7B",4,0)
III S TABLE="FIRST COURSE OF TREATMENT - SURGERY"
"RTN","ONCGPC7B",5,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCGPC0
"RTN","ONCGPC7B",6,0)
 K LINE S $P(LINE,"-",35)="-"
"RTN","ONCGPC7B",7,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCGPC7B",8,0)
 D P Q:EX=U
"RTN","ONCGPC7B",9,0)
ITEM28 W !,"28. ADHERENCE OF RESECTED PRIMARY"
"RTN","ONCGPC7B",10,0)
 D P Q:EX=U
"RTN","ONCGPC7B",11,0)
 W !,"     SPECIMEN.....................: ",$$GET1^DIQ(165.5,IE,1556)
"RTN","ONCGPC7B",12,0)
 D P Q:EX=U
"RTN","ONCGPC7B",13,0)
 W !
"RTN","ONCGPC7B",14,0)
 D P Q:EX=U
"RTN","ONCGPC7B",15,0)
ITEM29 W !,"29. MARGIN STATUS OF RESECTED"
"RTN","ONCGPC7B",16,0)
 W !,"     PRIMARY SPECIMAN.............: ",$$GET1^DIQ(165.5,IE,1557)
"RTN","ONCGPC7B",17,0)
 D P Q:EX=U
"RTN","ONCGPC7B",18,0)
 W !
"RTN","ONCGPC7B",19,0)
 D P Q:EX=U
"RTN","ONCGPC7B",20,0)
ITEM30 W !,"30. EXTENT OF FREE MARGIN:"
"RTN","ONCGPC7B",21,0)
 D P Q:EX=U
"RTN","ONCGPC7B",22,0)
 W !,"     PROXIMAL MARGIN..............: ",$$GET1^DIQ(165.5,IE,1558)
"RTN","ONCGPC7B",23,0)
 D P Q:EX=U
"RTN","ONCGPC7B",24,0)
 W !,"     DISTAL MARGIN................: ",$$GET1^DIQ(165.5,IE,1558.1)
"RTN","ONCGPC7B",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM31
"RTN","ONCGPC7B",26,0)
 W !
"RTN","ONCGPC7B",27,0)
 D P Q:EX=U
"RTN","ONCGPC7B",28,0)
ITEM31 W !,"31. RESECTION BEYOND STOMACH:"
"RTN","ONCGPC7B",29,0)
 D P Q:EX=U
"RTN","ONCGPC7B",30,0)
 W !,"     SPLEEN.......................: ",$$GET1^DIQ(165.5,IE,1559)
"RTN","ONCGPC7B",31,0)
 D P Q:EX=U
"RTN","ONCGPC7B",32,0)
 W !,"     TRANVERSE COLON..............: ",$$GET1^DIQ(165.5,IE,1559.1)
"RTN","ONCGPC7B",33,0)
 D P Q:EX=U
"RTN","ONCGPC7B",34,0)
 W !,"     LIVER........................: ",$$GET1^DIQ(165.5,IE,1559.2)
"RTN","ONCGPC7B",35,0)
 D P Q:EX=U
"RTN","ONCGPC7B",36,0)
 W !,"     DIAPHRAGM....................: ",$$GET1^DIQ(165.5,IE,1559.3)
"RTN","ONCGPC7B",37,0)
 D P Q:EX=U
"RTN","ONCGPC7B",38,0)
 W !,"     PANCREAS.....................: ",$$GET1^DIQ(165.5,IE,1559.4)
"RTN","ONCGPC7B",39,0)
 D P Q:EX=U
"RTN","ONCGPC7B",40,0)
 W !,"     ABDOMINAL WALL...............: ",$$GET1^DIQ(165.5,IE,1559.5)
"RTN","ONCGPC7B",41,0)
 D P Q:EX=U
"RTN","ONCGPC7B",42,0)
 W !,"     ADRENAL GLAND................: ",$$GET1^DIQ(165.5,IE,1559.6)
"RTN","ONCGPC7B",43,0)
 D P Q:EX=U
"RTN","ONCGPC7B",44,0)
 W !,"     KIDNEY.......................: ",$$GET1^DIQ(165.5,IE,1559.7)
"RTN","ONCGPC7B",45,0)
 D P Q:EX=U
"RTN","ONCGPC7B",46,0)
 W !,"     SMALL INTESTINE..............: ",$$GET1^DIQ(165.5,IE,1559.8)
"RTN","ONCGPC7B",47,0)
 D P Q:EX=U
"RTN","ONCGPC7B",48,0)
 W !,"     RETROPERITONEUM..............: ",$$GET1^DIQ(165.5,IE,1559.9)
"RTN","ONCGPC7B",49,0)
 D P Q:EX=U
"RTN","ONCGPC7B",50,0)
 W !,"     PERIGASTRIC LYMPH NODES......: ",$$GET1^DIQ(165.5,IE,1560)
"RTN","ONCGPC7B",51,0)
 D P Q:EX=U
"RTN","ONCGPC7B",52,0)
 W !,"     COMMON HEPATIC LYMPH NODES...: ",$$GET1^DIQ(165.5,IE,1560.1)
"RTN","ONCGPC7B",53,0)
 D P Q:EX=U
"RTN","ONCGPC7B",54,0)
 W !,"     CELIAC LYMPH NODES...........: ",$$GET1^DIQ(165.5,IE,1560.2)
"RTN","ONCGPC7B",55,0)
 D P Q:EX=U
"RTN","ONCGPC7B",56,0)
 W !,"     SPLENIC LYMPH NODES..........: ",$$GET1^DIQ(165.5,IE,1560.3)
"RTN","ONCGPC7B",57,0)
 D P Q:EX=U
"RTN","ONCGPC7B",58,0)
 W !,"     OTHER INTRA-ABDOMINAL NODES..: ",$$GET1^DIQ(165.5,IE,1560.4)
"RTN","ONCGPC7B",59,0)
 D P Q:EX=U
"RTN","ONCGPC7B",60,0)
 W !
"RTN","ONCGPC7B",61,0)
 D P Q:EX=U
"RTN","ONCGPC7B",62,0)
ITEM32 W !,"32. GROSSLY INVOLVED REGIONAL"
"RTN","ONCGPC7B",63,0)
 D P Q:EX=U
"RTN","ONCGPC7B",64,0)
 W !,"     LYMPH NODES..................: ",$$GET1^DIQ(165.5,IE,1561)
"RTN","ONCGPC7B",65,0)
 D P Q:EX=U
"RTN","ONCGPC7B",66,0)
 W !
"RTN","ONCGPC7B",67,0)
 D P Q:EX=U
"RTN","ONCGPC7B",68,0)
ITEM33 W !,"33. HCT (HEMATOCRIT) VALUES BEFORE"
"RTN","ONCGPC7B",69,0)
 D P Q:EX=U
"RTN","ONCGPC7B",70,0)
 W !,"     TRANSFUSION..................: ",$$GET1^DIQ(165.5,IE,1562)
"RTN","ONCGPC7B",71,0)
 D P Q:EX=U
"RTN","ONCGPC7B",72,0)
 W !
"RTN","ONCGPC7B",73,0)
 D P Q:EX=U
"RTN","ONCGPC7B",74,0)
ITEM34 W !,"34. TOTAL OPERATIVE BLOOD"
"RTN","ONCGPC7B",75,0)
 D P Q:EX=U
"RTN","ONCGPC7B",76,0)
 W !,"     REPLACEMENT..................: ",$$GET1^DIQ(165.5,IE,1563)
"RTN","ONCGPC7B",77,0)
 D P Q:EX=U
"RTN","ONCGPC7B",78,0)
 W !
"RTN","ONCGPC7B",79,0)
 D P Q:EX=U
"RTN","ONCGPC7B",80,0)
ITEM35 W !,"35. INTRA/PERI-OPERATIVE DEATH....: ",$$GET1^DIQ(165.5,IE,1564)
"RTN","ONCGPC7B",81,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0 G ITEM36
"RTN","ONCGPC7B",82,0)
 W !
"RTN","ONCGPC7B",83,0)
 D P Q:EX=U
"RTN","ONCGPC7B",84,0)
ITEM36 W !,"36. COMPLICATIONS REQUIRING RE-OPERATION:"
"RTN","ONCGPC7B",85,0)
 D P Q:EX=U
"RTN","ONCGPC7B",86,0)
 W !,"     ANASTOMOTIC LEAK.............: ",$$GET1^DIQ(165.5,IE,1565)
"RTN","ONCGPC7B",87,0)
 D P Q:EX=U
"RTN","ONCGPC7B",88,0)
 W !,"     STUMP LEAK...................: ",$$GET1^DIQ(165.5,IE,1565.1)
"RTN","ONCGPC7B",89,0)
 D P Q:EX=U
"RTN","ONCGPC7B",90,0)
 W !,"     BLEEDING.....................: ",$$GET1^DIQ(165.5,IE,1565.2)
"RTN","ONCGPC7B",91,0)
 D P Q:EX=U
"RTN","ONCGPC7B",92,0)
 W !,"     WOUND INFECTION..............: ",$$GET1^DIQ(165.5,IE,1565.3)
"RTN","ONCGPC7B",93,0)
 D P Q:EX=U
"RTN","ONCGPC7B",94,0)
 W !,"     SEPSIS.......................: ",$$GET1^DIQ(165.5,IE,1565.4)
"RTN","ONCGPC7B",95,0)
 D P Q:EX=U
"RTN","ONCGPC7B",96,0)
 W !,"     PANCREATITIS.................: ",$$GET1^DIQ(165.5,IE,1565.5)
"RTN","ONCGPC7B",97,0)
 D P Q:EX=U
"RTN","ONCGPC7B",98,0)
 W !,"     DEAD BOWEL...................: ",$$GET1^DIQ(165.5,IE,1565.6)
"RTN","ONCGPC7B",99,0)
 D P Q:EX=U
"RTN","ONCGPC7B",100,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1565.7)
"RTN","ONCGPC7B",101,0)
 D P Q:EX=U
"RTN","ONCGPC7B",102,0)
 W !
"RTN","ONCGPC7B",103,0)
 D P Q:EX=U
"RTN","ONCGPC7B",104,0)
ITEM37 W !,"37. DATE OF SURGICAL DISCHARGE....: ",$$GET1^DIQ(165.5,IE,1566)
"RTN","ONCGPC7B",105,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0
"RTN","ONCGPC7B",106,0)
 S TABLE="FIRST COURSE OF TREATMENT - RADIATION"
"RTN","ONCGPC7B",107,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCGPC0
"RTN","ONCGPC7B",108,0)
 K LINE S $P(LINE,"-",37)="-"
"RTN","ONCGPC7B",109,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCGPC7B",110,0)
 D P Q:EX=U
"RTN","ONCGPC7B",111,0)
ITEM38 W !,"38. REGIONAL DOSE (cGy)...........: ",$$GET1^DIQ(165.5,IE,442)
"RTN","ONCGPC7B",112,0)
 D P Q:EX=U
"RTN","ONCGPC7B",113,0)
 W !
"RTN","ONCGPC7B",114,0)
 D P Q:EX=U
"RTN","ONCGPC7B",115,0)
ITEM39 W !,"39. BOOST DOSE (cGy)..............: ",$$GET1^DIQ(165.5,IE,1575)
"RTN","ONCGPC7B",116,0)
 D P Q:EX=U
"RTN","ONCGPC7B",117,0)
 W !
"RTN","ONCGPC7B",118,0)
 D P Q:EX=U
"RTN","ONCGPC7B",119,0)
ITEM40 W !,"40. INTRA-OPERATIVE RADIATION"
"RTN","ONCGPC7B",120,0)
 D P Q:EX=U
"RTN","ONCGPC7B",121,0)
 W !,"     THERAPY, DOSE (cGy)..........: ",$$GET1^DIQ(165.5,IE,1567)
"RTN","ONCGPC7B",122,0)
 D P Q:EX=U
"RTN","ONCGPC7B",123,0)
 W !
"RTN","ONCGPC7B",124,0)
 D P Q:EX=U
"RTN","ONCGPC7B",125,0)
ITEM41 W !,"41. CONCURRENT CHEMOTHERAPY.......: ",$$GET1^DIQ(165.5,IE,1568)
"RTN","ONCGPC7B",126,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0
"RTN","ONCGPC7B",127,0)
 S TABLE="FIRST COURSE OF TREATMENT - CHEMOTHERAPY"
"RTN","ONCGPC7B",128,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCGPC0
"RTN","ONCGPC7B",129,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCGPC7B",130,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCGPC7B",131,0)
 D P Q:EX=U
"RTN","ONCGPC7B",132,0)
ITEM42 W !,"42. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"
"RTN","ONCGPC7B",133,0)
 D P Q:EX=U
"RTN","ONCGPC7B",134,0)
 W !,"     AGENT #1.....................: ",$$GET1^DIQ(165.5,IE,1576)
"RTN","ONCGPC7B",135,0)
 D P Q:EX=U
"RTN","ONCGPC7B",136,0)
 W !,"     AGENT #2.....................: ",$$GET1^DIQ(165.5,IE,1576.1)
"RTN","ONCGPC7B",137,0)
 D P Q:EX=U
"RTN","ONCGPC7B",138,0)
 W !,"     AGENT #3.....................: ",$$GET1^DIQ(165.5,IE,1576.2)
"RTN","ONCGPC7B",139,0)
 D P Q:EX=U
"RTN","ONCGPC7B",140,0)
 W !
"RTN","ONCGPC7B",141,0)
 D P Q:EX=U
"RTN","ONCGPC7B",142,0)
ITEM43 W !,"43. INTRAPERITONEAL CHEMOTHERAPY..: ",$$GET1^DIQ(165.5,IE,1569)
"RTN","ONCGPC7B",143,0)
 D P Q:EX=U
"RTN","ONCGPC7B",144,0)
 W !
"RTN","ONCGPC7B",145,0)
 D P Q:EX=U
"RTN","ONCGPC7B",146,0)
ITEM44 W !,"44. CHEMOTHERAPEUTIC TOXICITY.....: ",$$GET1^DIQ(165.5,IE,1577)
"RTN","ONCGPC7B",147,0)
 D P Q:EX=U
"RTN","ONCGPC7B",148,0)
 W !
"RTN","ONCGPC7B",149,0)
 D P Q:EX=U
"RTN","ONCGPC7B",150,0)
ITEM45 W !,"45. CHEMOTHERAPY/SURGERY SEQUENCE.: ",$$GET1^DIQ(165.5,IE,1578)
"RTN","ONCGPC7B",151,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0
"RTN","ONCGPC7B",152,0)
 S TABLE="FIRST COURSE OF TREATMENT - IMMUNOTHERAPY"
"RTN","ONCGPC7B",153,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCGPC0
"RTN","ONCGPC7B",154,0)
 K LINE S $P(LINE,"-",41)="-"
"RTN","ONCGPC7B",155,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCGPC7B",156,0)
 D P Q:EX=U
"RTN","ONCGPC7B",157,0)
ITEM46 W !,"46. ADMINISTRATION OF INTERFERON..: ",$$GET1^DIQ(165.5,IE,1570)
"RTN","ONCGPC7B",158,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0
"RTN","ONCGPC7B",159,0)
IV S TABLE="TREATMENT COMPLICATIONS"
"RTN","ONCGPC7B",160,0)
 I IOST'?1"C".E W !
"RTN","ONCGPC7B",161,0)
 W !?4,TABLE,!?4,"-----------------------"
"RTN","ONCGPC7B",162,0)
ITEM47 W !,"47. COMPLICATIONS:"
"RTN","ONCGPC7B",163,0)
 D P Q:EX=U
"RTN","ONCGPC7B",164,0)
 I TC="No" D  G TC2
"RTN","ONCGPC7B",165,0)
 .W !,"     CO-MORBID CONDITION #1.......: 000.00 No co-morbidities"
"RTN","ONCGPC7B",166,0)
 W !,"     COMPLICATION #1..............: ",$P($$GET1^DIQ(165.5,IE,1579)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1579)," ",2,99)
"RTN","ONCGPC7B",167,0)
TC2 D P Q:EX=U
"RTN","ONCGPC7B",168,0)
 W !,"     COMPLICATION #2..............: ",$P($$GET1^DIQ(165.5,IE,1579.1)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1579.1)," ",2,99)
"RTN","ONCGPC7B",169,0)
 D P Q:EX=U
"RTN","ONCGPC7B",170,0)
 W !,"     COMPLICATION #3..............: ",$P($$GET1^DIQ(165.5,IE,1579.2)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1579.2)," ",2,99)
"RTN","ONCGPC7B",171,0)
 D P Q:EX=U
"RTN","ONCGPC7B",172,0)
 W !,"     COMPLICATION #4..............: ",$P($$GET1^DIQ(165.5,IE,1579.3)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1579.3)," ",2,99)
"RTN","ONCGPC7B",173,0)
 D P Q:EX=U
"RTN","ONCGPC7B",174,0)
 W !,"     COMPLICATION #5..............: ",$P($$GET1^DIQ(165.5,IE,1579.4)," ",1),?43,$P($$GET1^DIQ(165.5,IE,1579.4)," ",2,99)
"RTN","ONCGPC7B",175,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCGPC0
"RTN","ONCGPC7B",176,0)
V S TABLE="CASE REGISTRATION"
"RTN","ONCGPC7B",177,0)
 I IOST'?1"C".E W !
"RTN","ONCGPC7B",178,0)
 W !?4,TABLE,!?4,"-----------------"
"RTN","ONCGPC7B",179,0)
 D P Q:EX=U
"RTN","ONCGPC7B",180,0)
ITEM48 W !,"48. INITIALS OF CASE ABSTRACTOR...: ",$$GET1^DIQ(165.5,IE,81)
"RTN","ONCGPC7B",181,0)
 D P Q:EX=U
"RTN","ONCGPC7B",182,0)
 W !
"RTN","ONCGPC7B",183,0)
 D P Q:EX=U
"RTN","ONCGPC7B",184,0)
ITEM49 W !,"49. DATE CASE WAS ABSTRACTED......: ",$$GET1^DIQ(165.5,IE,90)
"RTN","ONCGPC7B",185,0)
 D P Q:EX=U
"RTN","ONCGPC7B",186,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCGPC7B",187,0)
 Q
"RTN","ONCGPC7B",188,0)
P ;Print
"RTN","ONCGPC7B",189,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCGPC7B",190,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCGPC7B",191,0)
 .D HEAD^ONCGPC0 Q
"RTN","ONCGPC7B",192,0)
 Q
"RTN","ONCHPC0")
0^83^B10413880
"RTN","ONCHPC0",1,0)
ONCHPC0 ;Hines OIFO/GWB - 2000 HEPATOCELLULAR CANCERS PCE STUDY ;01/06/00
"RTN","ONCHPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCHPC0",4,0)
 ;
"RTN","ONCHPC0",5,0)
 ;ACCESSION YEAR (165.5,.07) = 2000
"RTN","ONCHPC0",6,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=2000 S MSG="The Accession Year is not 2000." D ERRMSG G EXIT
"RTN","ONCHPC0",7,0)
 ;
"RTN","ONCHPC0",8,0)
 ;DIAGNOSTIC CONFIRMATION (165.5,26) = 1, 2, 4 or 5
"RTN","ONCHPC0",9,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6)
"RTN","ONCHPC0",10,0)
 I (DC'=1)&(DC'=2)&(DC'=4)&(DC'=5) S MSG="The Diagnostic Confirmation code is not 1, 2, 4 or 5." D ERRMSG G EXIT
"RTN","ONCHPC0",11,0)
 ;
"RTN","ONCHPC0",12,0)
 ;CLASS OF CASE (165.5,.04) = 0, 1 or 2
"RTN","ONCHPC0",13,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4)
"RTN","ONCHPC0",14,0)
 I (COC'=0)&(COC'=1)&(COC'=2) S MSG="The Class of Case code is not 0, 1 or 2." D ERRMSG G EXIT
"RTN","ONCHPC0",15,0)
 ;
"RTN","ONCHPC0",16,0)
 ;BEHAVIOR = 3.
"RTN","ONCHPC0",17,0)
 I BEH'=3 S MSG="The Behavior Code is not 3 (Malignant)." D ERRMSG G EXIT
"RTN","ONCHPC0",18,0)
 ;
"RTN","ONCHPC0",19,0)
 ;HISTOLOGY (165.5,22) 
"RTN","ONCHPC0",20,0)
 S HST(80103)=""
"RTN","ONCHPC0",21,0)
 S HST(81403)=""
"RTN","ONCHPC0",22,0)
 S HST(81603)=""
"RTN","ONCHPC0",23,0)
 S HST(81613)=""
"RTN","ONCHPC0",24,0)
 S HST(81703)=""
"RTN","ONCHPC0",25,0)
 S HST(81713)=""
"RTN","ONCHPC0",26,0)
 S HST(81803)=""
"RTN","ONCHPC0",27,0)
 S HST(84403)=""
"RTN","ONCHPC0",28,0)
 S HST(88003)=""
"RTN","ONCHPC0",29,0)
 S HST(88103)=""
"RTN","ONCHPC0",30,0)
 S HST(88143)=""
"RTN","ONCHPC0",31,0)
 S HST(88503)=""
"RTN","ONCHPC0",32,0)
 S HST(88513)=""
"RTN","ONCHPC0",33,0)
 S HST(88523)=""
"RTN","ONCHPC0",34,0)
 S HST(88533)=""
"RTN","ONCHPC0",35,0)
 S HST(88543)=""
"RTN","ONCHPC0",36,0)
 S HST(88553)=""
"RTN","ONCHPC0",37,0)
 S HST(88583)=""
"RTN","ONCHPC0",38,0)
 S HST(89703)=""
"RTN","ONCHPC0",39,0)
 S HST(89913)=""
"RTN","ONCHPC0",40,0)
 S HST(91203)=""
"RTN","ONCHPC0",41,0)
 S HST(91333)=""
"RTN","ONCHPC0",42,0)
 I $D(HST(HIST)) G MENU
"RTN","ONCHPC0",43,0)
 I (HIST>95902)&(HIST<97174) G MENU
"RTN","ONCHPC0",44,0)
 E  S MSG="Invalid Histology code." D ERRMSG G EXIT
"RTN","ONCHPC0",45,0)
 ;
"RTN","ONCHPC0",46,0)
MENU ;Hepatocellular Cancers PCE menu
"RTN","ONCHPC0",47,0)
 K HST
"RTN","ONCHPC0",48,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="HEP"
"RTN","ONCHPC0",49,0)
 S ^ONCO(165.5,"APCE","HEP",ONCONUM)=""
"RTN","ONCHPC0",50,0)
 K DIR D HEAD
"RTN","ONCHPC0",51,0)
 S DIR(0)="SO^1:Patient Information;2:Tumor Identification;3:Stage of Disease at Diagnosis;4:First Course of Treatment;5:Recurrence;6:Follow-Up;7:All;8:Print Hepatocellular PCE"
"RTN","ONCHPC0",52,0)
 S DIR("A")="Select section" D ^DIR
"RTN","ONCHPC0",53,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCHPC0",54,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCHPC0",55,0)
 .D ^ONCHPC1 Q:$G(OUT)="Y"
"RTN","ONCHPC0",56,0)
 .D ^ONCHPC2 Q:$G(OUT)="Y"
"RTN","ONCHPC0",57,0)
 .D ^ONCHPC3 Q:$G(OUT)="Y"
"RTN","ONCHPC0",58,0)
 .D ^ONCHPC4 Q:$G(OUT)="Y"
"RTN","ONCHPC0",59,0)
 .D ^ONCHPC5 Q:$G(OUT)="Y"
"RTN","ONCHPC0",60,0)
 .D ^ONCHPC6 Q:$G(OUT)="Y"
"RTN","ONCHPC0",61,0)
 S SUB="^ONCHPC"_Y D @SUB G MENU
"RTN","ONCHPC0",62,0)
 ;
"RTN","ONCHPC0",63,0)
ERRMSG ;Error message
"RTN","ONCHPC0",64,0)
 I ONCOANS=5 W !!,?8,"This primary does not satisfy the PCE eligibility criteria:",!!,?8,MSG R Z:10
"RTN","ONCHPC0",65,0)
 K MSG Q
"RTN","ONCHPC0",66,0)
 ;
"RTN","ONCHPC0",67,0)
HEAD ;PCE header
"RTN","ONCHPC0",68,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCHPC0",69,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCHPC0",70,0)
 W !,DASHES
"RTN","ONCHPC0",71,0)
 S HDL=$L("2000 Patient Care Evaluation Study of Hepatocellular Cancers")
"RTN","ONCHPC0",72,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCHPC0",73,0)
 W !,?TAB,"2000 Patient Care Evaluation Study of Hepatocellular Cancers"
"RTN","ONCHPC0",74,0)
 W !,DASHES
"RTN","ONCHPC0",75,0)
 Q
"RTN","ONCHPC0",76,0)
 ;
"RTN","ONCHPC0",77,0)
EXIT ;Kill variables and exit
"RTN","ONCHPC0",78,0)
 K HDL,ONCONUM,ONCOPA,OUT,SUB,TAB,HST
"RTN","ONCHPC0",79,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCHPC0",80,0)
 Q
"RTN","ONCHPC1")
0^84^B7513074
"RTN","ONCHPC1",1,0)
ONCHPC1 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/06/00
"RTN","ONCHPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC1",3,0)
 ;Patient Information 
"RTN","ONCHPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCHPC1",5,0)
 S TABLE("1. FACILITY ID NUMBER (FIN)")="FIN"
"RTN","ONCHPC1",6,0)
 S TABLE("2. ACCESSION NUMBER")="ACC"
"RTN","ONCHPC1",7,0)
 S TABLE("3. SEQUENCE NUMBER")="SEQ"
"RTN","ONCHPC1",8,0)
 S TABLE("4. POSTAL CODE AT DIAGNOSIS")="PCD"
"RTN","ONCHPC1",9,0)
 S TABLE("5. PLACE OF BIRTH")="POB"
"RTN","ONCHPC1",10,0)
 S TABLE("6. DATE OF BIRTH")="DOB"
"RTN","ONCHPC1",11,0)
 S TABLE("7. RACE")="RACE"
"RTN","ONCHPC1",12,0)
 S TABLE("8. SPANISH ORIGIN")="SO"
"RTN","ONCHPC1",13,0)
 S TABLE("9. SEX")="SEX"
"RTN","ONCHPC1",14,0)
 S TABLE("10. PRIMARY PAYER AT DIAGNOSIS")="PPD"
"RTN","ONCHPC1",15,0)
 S HTABLE(1)=" 1. FACILITY ID NUMBER (FIN)"
"RTN","ONCHPC1",16,0)
 S HTABLE(2)=" 2. ACCESSION NUMBER"
"RTN","ONCHPC1",17,0)
 S HTABLE(3)=" 3. SEQUENCE NUMBER"
"RTN","ONCHPC1",18,0)
 S HTABLE(4)=" 4. POSTAL CODE AT DIAGNOSIS"
"RTN","ONCHPC1",19,0)
 S HTABLE(5)=" 5. PLACE OF BIRTH"
"RTN","ONCHPC1",20,0)
 S HTABLE(6)=" 6. DATE OF BIRTH"
"RTN","ONCHPC1",21,0)
 S HTABLE(7)=" 7. RACE"
"RTN","ONCHPC1",22,0)
 S HTABLE(8)=" 8. SPANISH ORIGIN"
"RTN","ONCHPC1",23,0)
 S HTABLE(9)=" 9. SEX"
"RTN","ONCHPC1",24,0)
 S HTABLE(10)="10. PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCHPC1",25,0)
 S CHOICES=10
"RTN","ONCHPC1",26,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCHPC1",27,0)
 S IE=ONCONUM
"RTN","ONCHPC1",28,0)
 W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC1",29,0)
 W !," PATIENT INFORMATION"
"RTN","ONCHPC1",30,0)
 W !," -------------------"
"RTN","ONCHPC1",31,0)
FIN W !,"  1. FACILITY ID NUMBER (FIN)......: ",$$IIN^ONCFUNC
"RTN","ONCHPC1",32,0)
ACC W !,"  2. ACCESSION NUMBER..............: ",$$GET1^DIQ(165.5,IE,.05)
"RTN","ONCHPC1",33,0)
SEQ W !,"  3. SEQUENCE NUMBER...............: ",$$GET1^DIQ(165.5,IE,.06)
"RTN","ONCHPC1",34,0)
PCD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCHPC1",35,0)
 S DR="9  4. POSTAL CODE AT DIAGNOSIS......" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC1",36,0)
POB S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCHPC1",37,0)
 S DR="7  5. PLACE OF BIRTH................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC1",38,0)
DOB W !,"  6. DATE OF BIRTH.................: ",DOB
"RTN","ONCHPC1",39,0)
RACE S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCHPC1",40,0)
 S DR="8  7. RACE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC1",41,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCHPC1",42,0)
 S DR="9  8. SPANISH ORIGIN................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC1",43,0)
SEX S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCHPC1",44,0)
 S DR="10  9. SEX..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC1",45,0)
PPD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCHPC1",46,0)
 S DR="18 10. PRIMARY PAYER AT DIAGNOSIS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC1",47,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC1",48,0)
 G EXIT
"RTN","ONCHPC1",49,0)
JUMP ;Jump to prompts
"RTN","ONCHPC1",50,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCHPC1",51,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC1",52,0)
 I X["?" D  G JUMP
"RTN","ONCHPC1",53,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC1",54,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC1",55,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC1",56,0)
 S X=TABLE(X)
"RTN","ONCHPC1",57,0)
 G @X
"RTN","ONCHPC1",58,0)
EXIT K HTABLE,TABLE,CHOICES,DOB,IE
"RTN","ONCHPC1",59,0)
 K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCHPC1",60,0)
 Q
"RTN","ONCHPC2")
0^85^B43941036
"RTN","ONCHPC2",1,0)
ONCHPC2 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/06/00
"RTN","ONCHPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC2",3,0)
 ;Tumor Identification 
"RTN","ONCHPC2",4,0)
 K TABLE,HTABLE
"RTN","ONCHPC2",5,0)
 S TABLE("11. CLASS OF CASE")="CC"
"RTN","ONCHPC2",6,0)
 S TABLE("12. HORMONES")="HOR"
"RTN","ONCHPC2",7,0)
 S TABLE("13. CONDITIONS PRESENT AT INITIAL DIAGNOSIS")="CPID"
"RTN","ONCHPC2",8,0)
 S TABLE("14. ALCOHOL CONSUMPTION")="AC"
"RTN","ONCHPC2",9,0)
 S TABLE("15. TUMOR MARKERS")="TM"
"RTN","ONCHPC2",10,0)
 S TABLE("16. TESTS RELATED TO LIVER FUNCTION")="TRLF"
"RTN","ONCHPC2",11,0)
 S TABLE("17. RADIOLOGICAL EVALUATION")="RE"
"RTN","ONCHPC2",12,0)
 S TABLE("18. DEFINITIVE DIAGNOSIS")="DD"
"RTN","ONCHPC2",13,0)
 S TABLE("19. DATE OF INITIAL DIAGNOSIS")="DID"
"RTN","ONCHPC2",14,0)
 S TABLE("20. HISTOLOGY (ICD-O-2)")="HIST"
"RTN","ONCHPC2",15,0)
 S TABLE("21. GRADE")="GRADE"
"RTN","ONCHPC2",16,0)
 S TABLE("22. DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCHPC2",17,0)
 S HTABLE(1)="11. CLASS OF CASE"
"RTN","ONCHPC2",18,0)
 S HTABLE(2)="12. HORMONES"
"RTN","ONCHPC2",19,0)
 S HTABLE(3)="13. CONDITIONS PRESENT AT INITIAL DIAGNOSIS"
"RTN","ONCHPC2",20,0)
 S HTABLE(4)="14. ALCOHOL CONSUMPTION"
"RTN","ONCHPC2",21,0)
 S HTABLE(5)="15. TUMOR MARKERS"
"RTN","ONCHPC2",22,0)
 S HTABLE(6)="16. TESTS RELATED TO LIVER FUNCTION"
"RTN","ONCHPC2",23,0)
 S HTABLE(7)="17. RADIOLOGICAL EVALUATION"
"RTN","ONCHPC2",24,0)
 S HTABLE(8)="18. DEFINITIVE DIAGNOSIS"
"RTN","ONCHPC2",25,0)
 S HTABLE(9)="19. DATE OF INITIAL DIAGNOSIS"
"RTN","ONCHPC2",26,0)
 S HTABLE(10)="20. HISTOLOGY (ICD-O-2)"
"RTN","ONCHPC2",27,0)
 S HTABLE(11)="21. GRADE"
"RTN","ONCHPC2",28,0)
 S HTABLE(12)="22. DIAGNOSTIC CONFIRMATION"
"RTN","ONCHPC2",29,0)
 S CHOICES=12
"RTN","ONCHPC2",30,0)
 S IE=ONCONUM
"RTN","ONCHPC2",31,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCHPC2",32,0)
 W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC2",33,0)
 W !," TUMOR IDENTIFICATION"
"RTN","ONCHPC2",34,0)
 W !," --------------------"
"RTN","ONCHPC2",35,0)
CC W !," 11. CLASS OF CASE.................: ",$$GET1^DIQ(165.5,IE,.04,"E")
"RTN","ONCHPC2",36,0)
HOR W !!," 12. HORMONES:"
"RTN","ONCHPC2",37,0)
 S DR="1000      ORAL CONTRACEPTIVES.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",38,0)
 S DR="1001      ESTROGEN REPLACEMENT........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",39,0)
 S DR="1002      TAMOXIFEN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",40,0)
 S DR="1003      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",41,0)
 W !
"RTN","ONCHPC2",42,0)
CPID W !," 13. CONDITIONS PRESENT AT INITIAL DIAGNOSIS:"
"RTN","ONCHPC2",43,0)
 S DR="1004      ASCITES......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",44,0)
 S DR="1005      CIRRHOSIS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",45,0)
 S DR="1006      CHILD'S CLASS A.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",46,0)
 S DR="1007      CHILD'S CLASS B.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",47,0)
 S DR="1008      CHILD'S CLASS C.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",48,0)
 S DR="1009      HEPATITIS B.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",49,0)
 S DR="1010      HEPATITIS C.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",50,0)
 S DR="1011      HEMOCHROMATOSIS.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",51,0)
 W !
"RTN","ONCHPC2",52,0)
AC S DR="1012 14. ALCOHOL CONSUMPTION..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",53,0)
TM W !!," 15. TUMOR MARKERS:"
"RTN","ONCHPC2",54,0)
 S DR="1013      AFP (IU/ml).................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",55,0)
 S DR="1014      CEA (mg/ml).................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",56,0)
 S DR="1015      CA19.9 (U/ml)................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",57,0)
TRLF W !!," 16. TESTS RELATED TO LIVER FUNCTION:"
"RTN","ONCHPC2",58,0)
 S DR="1016      PROTIME (sec)................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",59,0)
 S DR="1017      BILIRUBIN (mg/ml)............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",60,0)
 S DR="1018      ALBUMIN (g/dl)..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",61,0)
 S DR="1019      LDH (U/I)...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",62,0)
RE W !!," 17. RADIOLOGICAL EVALUATION:"
"RTN","ONCHPC2",63,0)
CTAP W !!,"     CT ARTERIAL PORTOGRAPHY:"
"RTN","ONCHPC2",64,0)
 S DR="1020      PERFORMED...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",65,0)
 I $G(X)=0 D CTAP0^ONCHPC2A G SCT
"RTN","ONCHPC2",66,0)
 I $G(X)=9 D CTAP9^ONCHPC2A G SCT
"RTN","ONCHPC2",67,0)
 S DR="1021      CIRRHOSIS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",68,0)
 S DR="1022      VASCULAR INVASION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",69,0)
 S DR="1023      BILOBAR DISEASE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",70,0)
 S DR="1024      LYMPH NODES.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",71,0)
 S DR="1025      SIZE OF DOMINANT TUMOR (mm).." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",72,0)
 S DR="1026      NUMBER OF TUMORS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",73,0)
SCT W !!,"     SPIRAL CT:"
"RTN","ONCHPC2",74,0)
 S DR="1027      PERFORMED...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",75,0)
 I $G(X)=0 D SCT0^ONCHPC2A G ICT
"RTN","ONCHPC2",76,0)
 I $G(X)=9 D SCT9^ONCHPC2A G ICT
"RTN","ONCHPC2",77,0)
 S DR="1028      CIRRHOSIS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",78,0)
 S DR="1029      VASCULAR INVASION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",79,0)
 S DR="1030      BILOBAR DISEASE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",80,0)
 S DR="1031      LYMPH NODES.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",81,0)
 S DR="1032      SIZE OF DOMINANT TUMOR (mm).." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",82,0)
 S DR="1033      NUMBER OF TUMORS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",83,0)
ICT W !!,"     INCREMENTAL CT:"
"RTN","ONCHPC2",84,0)
 S DR="1034      PERFORMED...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",85,0)
 I $G(X)=0 D ICT0^ONCHPC2A G ULTRA
"RTN","ONCHPC2",86,0)
 I $G(X)=9 D ICT9^ONCHPC2A G ULTRA
"RTN","ONCHPC2",87,0)
 S DR="1035      CIRRHOSIS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",88,0)
 S DR="1036      VASCULAR INVASION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",89,0)
 S DR="1037      BILOBAR DISEASE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",90,0)
 S DR="1038      LYMPH NODES.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",91,0)
 S DR="1039      SIZE OF DOMINANT TUMOR (mm).." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",92,0)
 S DR="1040      NUMBER OF TUMORS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",93,0)
ULTRA W !!,"     ULTRASOUND:"
"RTN","ONCHPC2",94,0)
 S DR="1041      PERFORMED...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",95,0)
 I $G(X)=0 D ULTRA0^ONCHPC2A G MRI
"RTN","ONCHPC2",96,0)
 I $G(X)=9 D ULTRA9^ONCHPC2A G MRI
"RTN","ONCHPC2",97,0)
 S DR="1042      CIRRHOSIS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",98,0)
 S DR="1043      VASCULAR INVASION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",99,0)
 S DR="1044      BILOBAR DISEASE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",100,0)
 S DR="1045      LYMPH NODES.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",101,0)
 S DR="1046      SIZE OF DOMINANT TUMOR (mm).." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",102,0)
 S DR="1047      NUMBER OF TUMORS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",103,0)
MRI W !!,"     MRI:"
"RTN","ONCHPC2",104,0)
 S DR="1048      PERFORMED...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",105,0)
 I $G(X)=0 D MRI0^ONCHPC2A G DD
"RTN","ONCHPC2",106,0)
 I $G(X)=9 D MRI9^ONCHPC2A G DD
"RTN","ONCHPC2",107,0)
 S DR="1049      CIRRHOSIS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",108,0)
 S DR="1050      VASCULAR INVASION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",109,0)
 S DR="1051      BILOBAR DISEASE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",110,0)
 S DR="1052      LYMPH NODES.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",111,0)
 S DR="1053      SIZE OF DOMINANT TUMOR (mm).." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",112,0)
 S DR="1054      NUMBER OF TUMORS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",113,0)
DD W !
"RTN","ONCHPC2",114,0)
 S DR="1055 18. DEFINITIVE DIAGNOSIS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",115,0)
DID S DID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCHPC2",116,0)
 W !," 19. DATE OF INITIAL DIAGNOSIS.....: ",DID
"RTN","ONCHPC2",117,0)
HIST W !," 20. HISTOLOGY (ICD-O-2)...........: ",$E($$GET1^DIQ(165.5,IE,22,"I"),1,4)," ",$$GET1^DIQ(165.5,IE,22)
"RTN","ONCHPC2",118,0)
GRADE S DR="24 21. GRADE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC2",119,0)
DC W !," 22. DIAGNOSTIC CONFIRMATON........: ",$$GET1^DIQ(165.5,IE,26,"E")
"RTN","ONCHPC2",120,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC2",121,0)
 G EXIT
"RTN","ONCHPC2",122,0)
RE0 ;Radiological Evaluation not performed (0)
"RTN","ONCHPC2",123,0)
 W !,"      CIRRHOSIS....................: NA"
"RTN","ONCHPC2",124,0)
 W !,"      VASCULAR INVASION............: NA"
"RTN","ONCHPC2",125,0)
 W !,"      BILOBAR DISEASE..............: NA"
"RTN","ONCHPC2",126,0)
 W !,"      LYMPH NODES..................: NA"
"RTN","ONCHPC2",127,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm)..: Not performed"
"RTN","ONCHPC2",128,0)
 W !,"      NUMBER OF TUMORS.............: Not performed"
"RTN","ONCHPC2",129,0)
 Q
"RTN","ONCHPC2",130,0)
RE9 ;Radiological Evaluation unknown (9)
"RTN","ONCHPC2",131,0)
 W !,"      CIRRHOSIS....................: Unknown"
"RTN","ONCHPC2",132,0)
 W !,"      VASCULAR INVASION............: Unknown"
"RTN","ONCHPC2",133,0)
 W !,"      BILOBAR DISEASE..............: Unknown"
"RTN","ONCHPC2",134,0)
 W !,"      LYMPH NODES..................: Unknown"
"RTN","ONCHPC2",135,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm)..: Not performed"
"RTN","ONCHPC2",136,0)
 W !,"      NUMBER OF TUMORS.............: Not performed"
"RTN","ONCHPC2",137,0)
 Q
"RTN","ONCHPC2",138,0)
JUMP ;Jump to prompts
"RTN","ONCHPC2",139,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCHPC2",140,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC2",141,0)
 I X["?" D  G JUMP
"RTN","ONCHPC2",142,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC2",143,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC2",144,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC2",145,0)
 S X=TABLE(X)
"RTN","ONCHPC2",146,0)
 G @X
"RTN","ONCHPC2",147,0)
EXIT K CHOICES,HTABLE,IE,TABLE
"RTN","ONCHPC2",148,0)
 K DA,DID,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCHPC2",149,0)
 Q
"RTN","ONCHPC2A")
0^86^B15386094
"RTN","ONCHPC2A",1,0)
ONCHPC2A ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/06/00
"RTN","ONCHPC2A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC2A",3,0)
CTAP0 ;CT ARTERIAL PORTOGRAPHY not performed (0)
"RTN","ONCHPC2A",4,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,22)=8
"RTN","ONCHPC2A",5,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,23)=8
"RTN","ONCHPC2A",6,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,24)=8
"RTN","ONCHPC2A",7,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,25)=8
"RTN","ONCHPC2A",8,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,26)="000"
"RTN","ONCHPC2A",9,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,27)="00"
"RTN","ONCHPC2A",10,0)
 D RE0
"RTN","ONCHPC2A",11,0)
 Q
"RTN","ONCHPC2A",12,0)
CTAP9 ;CT ARTERIAL PORTOGRAPHY unknown (9)
"RTN","ONCHPC2A",13,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,22)=9
"RTN","ONCHPC2A",14,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,23)=9
"RTN","ONCHPC2A",15,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,24)=9
"RTN","ONCHPC2A",16,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,25)=9
"RTN","ONCHPC2A",17,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,26)="000"
"RTN","ONCHPC2A",18,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,27)="00"
"RTN","ONCHPC2A",19,0)
 D RE9
"RTN","ONCHPC2A",20,0)
 Q
"RTN","ONCHPC2A",21,0)
SCT0 ;SPIRAL CT not performed (0)
"RTN","ONCHPC2A",22,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,29)=8
"RTN","ONCHPC2A",23,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,30)=8
"RTN","ONCHPC2A",24,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,31)=8
"RTN","ONCHPC2A",25,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,32)=8
"RTN","ONCHPC2A",26,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,33)="000"
"RTN","ONCHPC2A",27,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,34)="00"
"RTN","ONCHPC2A",28,0)
 D RE0
"RTN","ONCHPC2A",29,0)
 Q
"RTN","ONCHPC2A",30,0)
SCT9 ;SPIRAL CT unknown (9)
"RTN","ONCHPC2A",31,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,29)=9
"RTN","ONCHPC2A",32,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,30)=9
"RTN","ONCHPC2A",33,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,31)=9
"RTN","ONCHPC2A",34,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,32)=9
"RTN","ONCHPC2A",35,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,33)="000"
"RTN","ONCHPC2A",36,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,34)="00"
"RTN","ONCHPC2A",37,0)
 D RE9
"RTN","ONCHPC2A",38,0)
 Q
"RTN","ONCHPC2A",39,0)
ICT0 ;INCREMENTAL CT not performed (0)
"RTN","ONCHPC2A",40,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,36)=8
"RTN","ONCHPC2A",41,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,37)=8
"RTN","ONCHPC2A",42,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,38)=8
"RTN","ONCHPC2A",43,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,39)=8
"RTN","ONCHPC2A",44,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,40)="000"
"RTN","ONCHPC2A",45,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,41)="00"
"RTN","ONCHPC2A",46,0)
 D RE0
"RTN","ONCHPC2A",47,0)
 Q
"RTN","ONCHPC2A",48,0)
ICT9 ;INCREMENTAL CT unknown (9)
"RTN","ONCHPC2A",49,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,36)=9
"RTN","ONCHPC2A",50,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,37)=9
"RTN","ONCHPC2A",51,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,38)=9
"RTN","ONCHPC2A",52,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,39)=9
"RTN","ONCHPC2A",53,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,40)="000"
"RTN","ONCHPC2A",54,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,41)="00"
"RTN","ONCHPC2A",55,0)
 D RE9
"RTN","ONCHPC2A",56,0)
 Q
"RTN","ONCHPC2A",57,0)
ULTRA0 ;ULTRASOUND not performed (0)
"RTN","ONCHPC2A",58,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,43)=8
"RTN","ONCHPC2A",59,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,44)=8
"RTN","ONCHPC2A",60,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,45)=8
"RTN","ONCHPC2A",61,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,46)=8
"RTN","ONCHPC2A",62,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,47)="000"
"RTN","ONCHPC2A",63,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,48)="00"
"RTN","ONCHPC2A",64,0)
 D RE0
"RTN","ONCHPC2A",65,0)
 Q
"RTN","ONCHPC2A",66,0)
ULTRA9 ;ULTRASOUND not performed (9)
"RTN","ONCHPC2A",67,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,43)=9
"RTN","ONCHPC2A",68,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,44)=9
"RTN","ONCHPC2A",69,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,45)=9
"RTN","ONCHPC2A",70,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,46)=9
"RTN","ONCHPC2A",71,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,47)="000"
"RTN","ONCHPC2A",72,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,48)="00"
"RTN","ONCHPC2A",73,0)
 D RE9
"RTN","ONCHPC2A",74,0)
 Q
"RTN","ONCHPC2A",75,0)
MRI0 ;MRI not performed (0)
"RTN","ONCHPC2A",76,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,50)=8
"RTN","ONCHPC2A",77,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,51)=8
"RTN","ONCHPC2A",78,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,52)=8
"RTN","ONCHPC2A",79,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,53)=8
"RTN","ONCHPC2A",80,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,54)="000"
"RTN","ONCHPC2A",81,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,55)="00"
"RTN","ONCHPC2A",82,0)
 D RE0
"RTN","ONCHPC2A",83,0)
 Q
"RTN","ONCHPC2A",84,0)
MRI9 ;MRI unknown (9)
"RTN","ONCHPC2A",85,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,50)=9
"RTN","ONCHPC2A",86,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,51)=9
"RTN","ONCHPC2A",87,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,52)=9
"RTN","ONCHPC2A",88,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,53)=9
"RTN","ONCHPC2A",89,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,54)="000"
"RTN","ONCHPC2A",90,0)
 S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,55)="00"
"RTN","ONCHPC2A",91,0)
 D RE9
"RTN","ONCHPC2A",92,0)
 Q
"RTN","ONCHPC2A",93,0)
RE0 ;Radiological Evaluation not performed (0)
"RTN","ONCHPC2A",94,0)
 W !,"      CIRRHOSIS....................: NA"
"RTN","ONCHPC2A",95,0)
 W !,"      VASCULAR INVASION............: NA"
"RTN","ONCHPC2A",96,0)
 W !,"      BILOBAR DISEASE..............: NA"
"RTN","ONCHPC2A",97,0)
 W !,"      LYMPH NODES..................: NA"
"RTN","ONCHPC2A",98,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm)..: Not performed"
"RTN","ONCHPC2A",99,0)
 W !,"      NUMBER OF TUMORS.............: Not performed"
"RTN","ONCHPC2A",100,0)
 Q
"RTN","ONCHPC2A",101,0)
RE9 ;Radiological Evaluation unknown (9)
"RTN","ONCHPC2A",102,0)
 W !,"      CIRRHOSIS....................: Unknown"
"RTN","ONCHPC2A",103,0)
 W !,"      VASCULAR INVASION............: Unknown"
"RTN","ONCHPC2A",104,0)
 W !,"      BILOBAR DISEASE..............: Unknown"
"RTN","ONCHPC2A",105,0)
 W !,"      LYMPH NODES..................: Unknown"
"RTN","ONCHPC2A",106,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm)..: Not performed"
"RTN","ONCHPC2A",107,0)
 W !,"      NUMBER OF TUMORS.............: Not performed"
"RTN","ONCHPC2A",108,0)
 Q
"RTN","ONCHPC3")
0^87^B6912178
"RTN","ONCHPC3",1,0)
ONCHPC3 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/10/00
"RTN","ONCHPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC3",3,0)
 ;Stage of Disease at Diagnosis 
"RTN","ONCHPC3",4,0)
 K TABLE,HTABLE
"RTN","ONCHPC3",5,0)
 S TABLE("23. SIZE OF TUMOR")="ST"
"RTN","ONCHPC3",6,0)
 S TABLE("24. REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCHPC3",7,0)
 S TABLE("25. REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCHPC3",8,0)
 S TABLE("26. AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCHPC3",9,0)
 S TABLE("27. AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCHPC3",10,0)
 S TABLE("28. STAGED BY")="SB"
"RTN","ONCHPC3",11,0)
 S HTABLE(1)="23. SIZE OF TUMOR"
"RTN","ONCHPC3",12,0)
 S HTABLE(2)="24. REGIONAL NODES EXAMINED"
"RTN","ONCHPC3",13,0)
 S HTABLE(3)="25. REGIONAL NODES POSITIVE"
"RTN","ONCHPC3",14,0)
 S HTABLE(4)="26. AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCHPC3",15,0)
 S HTABLE(5)="27. AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCHPC3",16,0)
 S HTABLE(6)="28. STAGED BY"
"RTN","ONCHPC3",17,0)
 S CHOICES=6
"RTN","ONCHPC3",18,0)
 W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC3",19,0)
 W !," STAGE OF DISEASE AT DIAGNOSIS"
"RTN","ONCHPC3",20,0)
 W !," -----------------------------"
"RTN","ONCHPC3",21,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCHPC3",22,0)
ST S DR="29 23. SIZE OF TUMOR ................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",23,0)
RNE S DR="33 24. REGIONAL NODES EXAMINED......." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",24,0)
RNP S DR="32 25. REGIONAL NODES POSITIVE......." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",25,0)
ACS W !!," 26. AJCC CLINICAL STAGE (cTNM):"
"RTN","ONCHPC3",26,0)
 S DR="37.1      AJCC CLINICAL T.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",27,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCHPC3",28,0)
 S DR="37.2      AJCC CLINICAL N.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",29,0)
 S DR="37.3      AJCC CLINICAL M.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",30,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCHPC3",31,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCHPC3",32,0)
APS W !," 27. AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCHPC3",33,0)
 S DR="85      AJCC PATHOLOGIC T............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",34,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCHPC3",35,0)
 S DR="86      AJCC PATHOLOGIC N............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",36,0)
 S DR="87      AJCC PATHOLOGIC M............" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",37,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCHPC3",38,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCHPC3",39,0)
SB W !," 28. STAGED BY:"
"RTN","ONCHPC3",40,0)
 S DR="19      CLINICALLY STAGED BY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",41,0)
 S DR="89      PATHOLOGICALLY STAGED BY....." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC3",42,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC3",43,0)
 G EXIT
"RTN","ONCHPC3",44,0)
JUMP ;Jump to prompts
"RTN","ONCHPC3",45,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCHPC3",46,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC3",47,0)
 I X["?" D  G JUMP
"RTN","ONCHPC3",48,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC3",49,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC3",50,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC3",51,0)
 S X=TABLE(X)
"RTN","ONCHPC3",52,0)
 G @X
"RTN","ONCHPC3",53,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCHPC3",54,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCHPC3",55,0)
 Q
"RTN","ONCHPC4")
0^88^B58420486
"RTN","ONCHPC4",1,0)
ONCHPC4 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/10/00
"RTN","ONCHPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC4",3,0)
 ;First Course of Treatment 
"RTN","ONCHPC4",4,0)
 K TABLE,HTABLE
"RTN","ONCHPC4",5,0)
 S TABLE("29. DATE OF FIRST COURSE OF TREATMENT")="DFCT^ONCHPC4"
"RTN","ONCHPC4",6,0)
 S TABLE("30. DATE OF INPATIENT ADMISSION")="DIA^ONCHPC4"
"RTN","ONCHPC4",7,0)
 S TABLE("31. DATE OF INPATIENT DISCHARGE")="DID^ONCHPC4"
"RTN","ONCHPC4",8,0)
 S TABLE("SURGERY")="S^ONCHPC4"
"RTN","ONCHPC4",9,0)
 S TABLE("32. DATE OF NON CANCER-DIRECTED SURGERY")="DNCDS^ONCHPC4"
"RTN","ONCHPC4",10,0)
 S TABLE("33. NON CANCER-DIRECTED SURGERY")="NCDS^ONCHPC4"
"RTN","ONCHPC4",11,0)
 S TABLE("34. DATE OF CANCER-DIRECTED SURGERY")="DCDS^ONCHPC4"
"RTN","ONCHPC4",12,0)
 S TABLE("35. SURGICAL APPROACH")="SA^ONCHPC4"
"RTN","ONCHPC4",13,0)
 S TABLE("36. SURGERY OF PRIMARY SITE")="SPS^ONCHPC4"
"RTN","ONCHPC4",14,0)
 S TABLE("37. RADIO-FREQUENCY DESTRUCTION OF TUMOR")="RFDT^ONCHPC4"
"RTN","ONCHPC4",15,0)
 S TABLE("38. ABLATION & RESECTION")="AR^ONCHPC4"
"RTN","ONCHPC4",16,0)
 S TABLE("39. SURGICAL MARGINS")="SM^ONCHPC4"
"RTN","ONCHPC4",17,0)
 S TABLE("40. DISTANCE OF TUMOR TO CLOSEST MARGIN")="DTCM^ONCHPC4"
"RTN","ONCHPC4",18,0)
 S TABLE("41. SURGERY OF REGIONAL SITE(S), DISTANT SITE(S), OR DISTANT LYMPH NODE(S)")="SORS^ONCHPC4"
"RTN","ONCHPC4",19,0)
 S TABLE("42. SURGICAL TREATMENT OF RESIDUAL PRIMARY TUMOR")="STRPT^ONCHPC4"
"RTN","ONCHPC4",20,0)
 S TABLE("43. RECONSTRUCTION/RESTORATION-FIRST COURSE")="RR^ONCHPC4"
"RTN","ONCHPC4",21,0)
 S TABLE("RADIATION THERAPY")="R^ONCHPC4A"
"RTN","ONCHPC4",22,0)
 S TABLE("44. DATE RADIATION STARTED")="DRS^ONCHPC4A"
"RTN","ONCHPC4",23,0)
 S TABLE("45. RADIATION THERAPY")="RT^ONCHPC4A"
"RTN","ONCHPC4",24,0)
 S TABLE("CHEMOTHERAPY")="C^ONCHPC4A"
"RTN","ONCHPC4",25,0)
 S TABLE("46. DATE CHEMOTHERAPY STARTED")="DCS^ONCHPC4A"
"RTN","ONCHPC4",26,0)
 S TABLE("47. CHEMOTHERAPY")="CT^ONCHPC4A"
"RTN","ONCHPC4",27,0)
 S TABLE("48. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED")="TCAA^ONCHPC4A"
"RTN","ONCHPC4",28,0)
 S TABLE("49. ROUTE CHEMOTHERAPY ADMINISTERED")="RCA^ONCHPC4A"
"RTN","ONCHPC4",29,0)
 S TABLE("50. CHEMOTHERAPY/SURGERY SEQUENCE")="CSS^ONCHPC4A"
"RTN","ONCHPC4",30,0)
 S TABLE("OTHER THERAPY")="O^ONCHPC4A"
"RTN","ONCHPC4",31,0)
 S TABLE("51. DATE OTHER TREATMENT STARTED")="DOTS^ONCHPC4A"
"RTN","ONCHPC4",32,0)
 S TABLE("52. OTHER TREATMENT")="OT^ONCHPC4A"
"RTN","ONCHPC4",33,0)
 S TABLE("53. ARTERIAL EMBOLIZATION")="AE^ONCHPC4A"
"RTN","ONCHPC4",34,0)
 S TABLE("54. DEATH WITHIN30 DAYS OF START OF INTIIAL COURSE OF THERAPY")="DWTD^ONCHPC4A"
"RTN","ONCHPC4",35,0)
 S HTABLE(1)="29. DATE OF FIRST COURSE OF TREATMENT"
"RTN","ONCHPC4",36,0)
 S HTABLE(2)="30. DATE OF INPATIENT ADMISSION"
"RTN","ONCHPC4",37,0)
 S HTABLE(3)="31. DATE OF INPATIENT DISCHARGE"
"RTN","ONCHPC4",38,0)
 S HTABLE(4)=""
"RTN","ONCHPC4",39,0)
 S HTABLE(5)="SURGERY"
"RTN","ONCHPC4",40,0)
 S HTABLE(6)=""
"RTN","ONCHPC4",41,0)
 S HTABLE(7)="32. DATE OF NON CANCER-DIRECTED SURGERY"
"RTN","ONCHPC4",42,0)
 S HTABLE(8)="33. NON CANCER-DIRECTED SURGERY"
"RTN","ONCHPC4",43,0)
 S HTABLE(9)="34. DATE OF CANCER-DIRECTED SURGERY"
"RTN","ONCHPC4",44,0)
 S HTABLE(10)="35. SURGICAL APPROACH"
"RTN","ONCHPC4",45,0)
 S HTABLE(11)="36. SURGERY OF PRIMARY SITE"
"RTN","ONCHPC4",46,0)
 S HTABLE(12)="37. RADIO-FREQUENCY DESTRUCTION OF TUMOR"
"RTN","ONCHPC4",47,0)
 S HTABLE(13)="38. ABLATION & RESECTION"
"RTN","ONCHPC4",48,0)
 S HTABLE(14)="39. SURGICAL MARGINS"
"RTN","ONCHPC4",49,0)
 S HTABLE(15)="40. DISTANCE OF TUMOR TO CLOSEST MARGIN"
"RTN","ONCHPC4",50,0)
 S HTABLE(16)="41. SURGERY OF REGIONAL SITE(S), DISTANT SITE(S), OR DISTANT LYMPH NODE(S)"
"RTN","ONCHPC4",51,0)
 S HTABLE(17)="42. SURGICAL TREATMENT OF RESIDUAL PRIMARY TUMOR"
"RTN","ONCHPC4",52,0)
 S HTABLE(18)="43. RECONSTRUCTION/RESTORATION-FIRST COURSE"
"RTN","ONCHPC4",53,0)
 S HTABLE(19)=""
"RTN","ONCHPC4",54,0)
 S HTABLE(20)="RADIATION THERAPY"
"RTN","ONCHPC4",55,0)
 S HTABLE(21)=""
"RTN","ONCHPC4",56,0)
 S HTABLE(22)="44. DATE RADIATION STARTED"
"RTN","ONCHPC4",57,0)
 S HTABLE(23)="45. RADIATION THERAPY"
"RTN","ONCHPC4",58,0)
 S HTABLE(24)=""
"RTN","ONCHPC4",59,0)
 S HTABLE(25)="CHEMOTHERAPY"
"RTN","ONCHPC4",60,0)
 S HTABLE(26)=""
"RTN","ONCHPC4",61,0)
 S HTABLE(27)="46. DATE CHEMOTHERAPY STARTED"
"RTN","ONCHPC4",62,0)
 S HTABLE(28)="47. CHEMOTHERAPY"
"RTN","ONCHPC4",63,0)
 S HTABLE(29)="48. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED"
"RTN","ONCHPC4",64,0)
 S HTABLE(30)="49. ROUTE CHEMOTHERAPY ADMINISTERED"
"RTN","ONCHPC4",65,0)
 S HTABLE(31)="50. CHEMOTHERAPY/SURGERY SEQUENCE"
"RTN","ONCHPC4",66,0)
 S HTABLE(32)=""
"RTN","ONCHPC4",67,0)
 S HTABLE(33)="OTHER THERAPY"
"RTN","ONCHPC4",68,0)
 S HTABLE(34)=""
"RTN","ONCHPC4",69,0)
 S HTABLE(35)="51. DATE OTHER TREATMENT STARTED"
"RTN","ONCHPC4",70,0)
 S HTABLE(36)="52. OTHER TREATMENT"
"RTN","ONCHPC4",71,0)
 S HTABLE(37)="53. ARTERIAL EMBOLIZATION"
"RTN","ONCHPC4",72,0)
 S HTABLE(38)="54. DEATH WITHIN30 DAYS OF START OF INTIIAL COURSE OF THERAPY"
"RTN","ONCHPC4",73,0)
 S CHOICES=38
"RTN","ONCHPC4",74,0)
 S IE=ONCONUM
"RTN","ONCHPC4",75,0)
 W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC4",76,0)
 W !," FIRST COURSE OF TREATMENT"
"RTN","ONCHPC4",77,0)
 W !," -------------------------"
"RTN","ONCHPC4",78,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCHPC4",79,0)
 S CDS=$$GET1^DIQ(165.5,IE,58.2)
"RTN","ONCHPC4",80,0)
 S RAD=$$GET1^DIQ(165.5,IE,51.2,"I")
"RTN","ONCHPC4",81,0)
 S CHE=$$GET1^DIQ(165.5,IE,53.2,"I")
"RTN","ONCHPC4",82,0)
DFCT W !," 29. DATE OF FIRST COURSE OF"
"RTN","ONCHPC4",83,0)
 W !,"      TREATMENT....................: ",$$GET1^DIQ(165.5,IE,49)
"RTN","ONCHPC4",84,0)
DIA S DR="1 30. DATE OF INPATIENT ADMISSION..." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",85,0)
DID S DR="1.1 31. DATE OF INPATIENT DISCHARGE..." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",86,0)
S W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC4",87,0)
 W !," SURGERY",!
"RTN","ONCHPC4",88,0)
 W " -------"
"RTN","ONCHPC4",89,0)
DNCDS W !," 32. DATE OF NON CANCER-DIRECTED"
"RTN","ONCHPC4",90,0)
 W !,"      SURGERY......................: ",$$GET1^DIQ(165.5,IE,58.3)
"RTN","ONCHPC4",91,0)
NCDS S NCDS=$$GET1^DIQ(165.5,IE,58.1)
"RTN","ONCHPC4",92,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<43 S NCDS1=NCDS G NCDS1
"RTN","ONCHPC4",93,0)
 S NOP=$L($E(NCDS,1,43)," ")
"RTN","ONCHPC4",94,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCHPC4",95,0)
NCDS1 W !," 33. NON CANCER-DIRECTED SURGERY...: ",NCDS1 W:NCDS2'="" !,?37,NCDS2
"RTN","ONCHPC4",96,0)
DCDS W !," 34. DATE OF CANCER-DIRECTED"
"RTN","ONCHPC4",97,0)
 W !,"      SURGERY......................: ",$$GET1^DIQ(165.5,IE,50)
"RTN","ONCHPC4",98,0)
SA S SA=$$GET1^DIQ(165.5,IE,74)
"RTN","ONCHPC4",99,0)
 S (SA1,SA2)="",LOS=$L(SA) I LOS<43 S SA1=SA G SA1
"RTN","ONCHPC4",100,0)
 S NOP=$L($E(SA,1,43)," "),SA1=$P(SA," ",1,NOP-1),SA2=$P(SA," ",NOP,999)
"RTN","ONCHPC4",101,0)
SA1 W !," 35. SURGICAL APPROACH.............: ",SA1 W:SA2'="" !,?37,SA2
"RTN","ONCHPC4",102,0)
SPS S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<43 S CDS1=CDS G SPS1
"RTN","ONCHPC4",103,0)
 S NOP=$L($E(CDS,1,43)," "),CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCHPC4",104,0)
SPS1 W !," 36. SURGERY OF PRIMARY SITE.......: ",CDS1 W:CDS2'="" !,?37,CDS2
"RTN","ONCHPC4",105,0)
RFDT I $E(CDS,1,2)=99 D  G AR
"RTN","ONCHPC4",106,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,57)=9
"RTN","ONCHPC4",107,0)
 .W !," 37. RADIO-FREQUENCY DESTRUCTION OF"
"RTN","ONCHPC4",108,0)
 .W !,"      TUMOR........................: Unknown"
"RTN","ONCHPC4",109,0)
 I $E(CDS,1,2)'=17 D  G AR
"RTN","ONCHPC4",110,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,57)=8
"RTN","ONCHPC4",111,0)
 .W !," 37. RADIO-FREQUENCY DESTRUCTION OF"
"RTN","ONCHPC4",112,0)
 .W !,"      TUMOR........................: NA"
"RTN","ONCHPC4",113,0)
 S DR="1056 37. RADIO-FREQUENCY DESTRUCTION OF                                                   TUMOR........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",114,0)
AR I ($E(CDS,1,2)="00")!($E(CDS,1,2)=99) D  G SM
"RTN","ONCHPC4",115,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,58)=88
"RTN","ONCHPC4",116,0)
 .W !," 38. ABLATION & RESECTION..........: NA"
"RTN","ONCHPC4",117,0)
 I $E(CDS,1,2)<18 D  G SM
"RTN","ONCHPC4",118,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,58)="00"
"RTN","ONCHPC4",119,0)
 .W !," 38. ABLATION & RESECTION..........: Ablation & resection not administered"
"RTN","ONCHPC4",120,0)
 S DR="1057 38. ABLATION & RESECTION.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",121,0)
SM S SM=$$GET1^DIQ(165.5,IE,59)
"RTN","ONCHPC4",122,0)
 S (SM1,SM2)="",LOS=$L(SM) I LOS<43 S SM1=SM G SM1
"RTN","ONCHPC4",123,0)
 S NOP=$L($E(SM,1,43)," "),SM1=$P(SM," ",1,NOP-1),SM2=$P(SM," ",NOP,999)
"RTN","ONCHPC4",124,0)
SM1 W !," 39. SURGICAL MARGINS..............: ",SM1 W:SM2'="" !,?37,SM2
"RTN","ONCHPC4",125,0)
 I ($E(CDS,1,2)=99)!($E(CDS,1,2)<17) K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC4",126,0)
DTCM I ($E(CDS,1,2)<18) D  G SORS
"RTN","ONCHPC4",127,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,59)=8
"RTN","ONCHPC4",128,0)
 .W !," 40. DISTANCE OF TUMOR TO CLOSEST"
"RTN","ONCHPC4",129,0)
 .W !,"      MARGIN.......................: NA"
"RTN","ONCHPC4",130,0)
 I $E(CDS,1,2)=99 D  G SORS
"RTN","ONCHPC4",131,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,59)=9
"RTN","ONCHPC4",132,0)
 .W !," 40. DISTANCE OF TUMOR TO CLOSEST"
"RTN","ONCHPC4",133,0)
 .W !,"      MARGIN.......................: Unknown"
"RTN","ONCHPC4",134,0)
 S DR="1058 40. DISTANCE OF TUMOR TO CLOSEST                                                     MARGIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",135,0)
SORS S SORS=$$GET1^DIQ(165.5,IE,139)
"RTN","ONCHPC4",136,0)
 S (SORS1,SORS2)="",LOS=$L(SORS) I LOS<43 S SORS1=SORS G SORS1
"RTN","ONCHPC4",137,0)
 S NOP=$L($E(SORS,1,43)," ")
"RTN","ONCHPC4",138,0)
 S SORS1=$P(SORS," ",1,NOP-1),SORS2=$P(SORS," ",NOP,999)
"RTN","ONCHPC4",139,0)
SORS1 W !," 41. SURGERY OF OTHER REGIONAL"
"RTN","ONCHPC4",140,0)
 W !,"      SITE(S), DISTANT SITE(S),"
"RTN","ONCHPC4",141,0)
 W !,"      OR DISTANT LYMPH NODE(S).....: ",SORS1 W:SORS2'="" !,?37,SORS2
"RTN","ONCHPC4",142,0)
STRPT W !!," 42. SURGICAL TREATMENT OF RESIDUAL PRIMARY TUMOR:"
"RTN","ONCHPC4",143,0)
 I $E(CDS,1,2)="00" D  G RR
"RTN","ONCHPC4",144,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,60)=8
"RTN","ONCHPC4",145,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,61)=8
"RTN","ONCHPC4",146,0)
 .W !,"      ABLATION.....................: NA"
"RTN","ONCHPC4",147,0)
 .W !,"      RESECTION....................: NA"
"RTN","ONCHPC4",148,0)
 I $E(CDS,1,2)=99 D  G RR
"RTN","ONCHPC4",149,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,60)=9
"RTN","ONCHPC4",150,0)
 .S $P(^ONCO(165.5,D0,"HEP1"),U,61)=9
"RTN","ONCHPC4",151,0)
 .W !,"      ABLATION.....................: Unknown"
"RTN","ONCHPC4",152,0)
 .W !,"      RESECTION....................: Unknown"
"RTN","ONCHPC4",153,0)
 S DR="1059      ABLATION....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",154,0)
 S DR="1060      RESECTION...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4",155,0)
RR S RR=$$GET1^DIQ(165.5,IE,23)
"RTN","ONCHPC4",156,0)
 S (RR1,RR2)="",LOS=$L(RR) I LOS<43 S RR1=RR G RR1
"RTN","ONCHPC4",157,0)
 S NOP=$L($E(RR,1,43)," "),RR1=$P(RR," ",1,NOP-1),RR2=$P(RR," ",NOP,999)
"RTN","ONCHPC4",158,0)
RR1 W !!," 43. RECONSTRUCTION/RESTORATION-"
"RTN","ONCHPC4",159,0)
 W !,"      FIRST COURSE.................: ",RR1 W:RR2'="" !,?37,RR2
"RTN","ONCHPC4",160,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCHPC4",161,0)
 G R^ONCHPC4A
"RTN","ONCHPC4",162,0)
JUMP ;Jump to prompts
"RTN","ONCHPC4",163,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC4",164,0)
 I X["?" D  G:$D(DIRUT) EXIT G JUMP
"RTN","ONCHPC4",165,0)
 .W @IOF,!," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCHPC4",166,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC4",167,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCHPC4",168,0)
 S X=TABLE(X)
"RTN","ONCHPC4",169,0)
 G @X
"RTN","ONCHPC4",170,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC4",171,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCHPC4",172,0)
 K CDS,CHE,IE,LOS,NCDS,NOP,RAD,SA,SA1,SA2,SM,SM1,SM2
"RTN","ONCHPC4",173,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCHPC4",174,0)
 Q
"RTN","ONCHPC4A")
0^89^B25360992
"RTN","ONCHPC4A",1,0)
ONCHPC4A ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/10/00
"RTN","ONCHPC4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC4A",3,0)
 ;First Course of Treatment (continued) 
"RTN","ONCHPC4A",4,0)
R W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC4A",5,0)
 W !," RADIATION THERAPY"
"RTN","ONCHPC4A",6,0)
 W !," -----------------"
"RTN","ONCHPC4A",7,0)
DRS W !," 44. DATE RADIATION STARTED........: ",$$GET1^DIQ(165.5,IE,51)
"RTN","ONCHPC4A",8,0)
RT W !," 45. RADIATION THERAPY.............: ",$$GET1^DIQ(165.5,IE,51.2)
"RTN","ONCHPC4A",9,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCHPC4A",10,0)
C W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC4A",11,0)
 W !," CHEMOTHERAPY"
"RTN","ONCHPC4A",12,0)
 W !," ------------"
"RTN","ONCHPC4A",13,0)
DCS W !," 46. DATE CHEMOTHERAPY STARTED.....: ",$$GET1^DIQ(165.5,IE,53)
"RTN","ONCHPC4A",14,0)
CT W !," 47. CHEMOTHERAPY..................: ",$$GET1^DIQ(165.5,IE,53.2)
"RTN","ONCHPC4A",15,0)
TCAA W !!," 48. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"
"RTN","ONCHPC4A",16,0)
 I CHE=0 D  G RCA
"RTN","ONCHPC4A",17,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,62)=0
"RTN","ONCHPC4A",18,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,63)=0
"RTN","ONCHPC4A",19,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,64)=0
"RTN","ONCHPC4A",20,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,65)=0
"RTN","ONCHPC4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,66)=0
"RTN","ONCHPC4A",22,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,67)=0
"RTN","ONCHPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,68)=0
"RTN","ONCHPC4A",24,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,69)=0
"RTN","ONCHPC4A",25,0)
 .W !,"      CISPLATIN....................: No"
"RTN","ONCHPC4A",26,0)
 .W !,"      FUDR.........................: No"
"RTN","ONCHPC4A",27,0)
 .W !,"      5-FU.........................: No"
"RTN","ONCHPC4A",28,0)
 .W !,"      FU & LEUCOVORIN..............: No"
"RTN","ONCHPC4A",29,0)
 .W !,"      IRINOTECAN (CPT-11)..........: No"
"RTN","ONCHPC4A",30,0)
 .W !,"      MITOMYCIN C..................: No"
"RTN","ONCHPC4A",31,0)
 .W !,"      OXALIPLATIN..................: No"
"RTN","ONCHPC4A",32,0)
 .W !,"      GEMCITABINE..................: No"
"RTN","ONCHPC4A",33,0)
 I CHE=9 D  G RCA
"RTN","ONCHPC4A",34,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,62)=9
"RTN","ONCHPC4A",35,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,63)=9
"RTN","ONCHPC4A",36,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,64)=9
"RTN","ONCHPC4A",37,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,65)=9
"RTN","ONCHPC4A",38,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,66)=9
"RTN","ONCHPC4A",39,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,67)=9
"RTN","ONCHPC4A",40,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,68)=9
"RTN","ONCHPC4A",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,69)=9
"RTN","ONCHPC4A",42,0)
 .W !,"      CISPLATIN....................: Unknown if recommended or administered"
"RTN","ONCHPC4A",43,0)
 .W !,"      FUDR.........................: Unknown if recommended or administered"
"RTN","ONCHPC4A",44,0)
 .W !,"      5-FU.........................: Unknown if recommended or administered"
"RTN","ONCHPC4A",45,0)
 .W !,"      FU & LEUCOVORIN..............: Unknown if recommended or administered"
"RTN","ONCHPC4A",46,0)
 .W !,"      IRINOTECAN (CPT-11)..........: Unknown if recommended or administered"
"RTN","ONCHPC4A",47,0)
 .W !,"      MITOMYCIN C..................: Unknown if recommended or administered"
"RTN","ONCHPC4A",48,0)
 .W !,"      OXALIPLATIN..................: Unknown if recommended or administered"
"RTN","ONCHPC4A",49,0)
 .W !,"      GEMCITABINE..................: Unknown if recommended or administered"
"RTN","ONCHPC4A",50,0)
 S DR="1061      CISPLATIN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",51,0)
 S DR="1062      FUDR........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",52,0)
 S DR="1063      5-FU........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",53,0)
 S DR="1064      FU & LEUCOVORIN.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",54,0)
 S DR="1065      IRINOTECAN (CPT-11).........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",55,0)
 S DR="1066      MITOMYCIN C.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",56,0)
 S DR="1067      OXALIPLATIN.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",57,0)
 S DR="1068      GEMCITABINE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",58,0)
RCA W !
"RTN","ONCHPC4A",59,0)
 I (CHE=0)!(CHE=9) D  G CSS
"RTN","ONCHPC4A",60,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,70)=88
"RTN","ONCHPC4A",61,0)
 .W !," 49. ROUTE CHEMOTHERAPY ADMIN......: NA"
"RTN","ONCHPC4A",62,0)
 S DR="1069 49. ROUTE CHEMOTHERAPY ADMIN" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",63,0)
CSS I (CDS="00")!(CDS=99)!(CHE=0)!(CHE=9) D  G DIR
"RTN","ONCHPC4A",64,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,71)=0
"RTN","ONCHPC4A",65,0)
 .W !," 50. CHEMOTHERAPY/SURGERY SEQUENCE.: No chemotherapy and/or no surgery"
"RTN","ONCHPC4A",66,0)
 S CDSDT=$$GET1^DIQ(165.5,IE,50,"I")
"RTN","ONCHPC4A",67,0)
 S CHEDT=$$GET1^DIQ(165.5,IE,53,"I")
"RTN","ONCHPC4A",68,0)
 I (CDSDT="")!(CHEDT="") G CSS1
"RTN","ONCHPC4A",69,0)
 I CHEDT<CDSDT D  G DIR
"RTN","ONCHPC4A",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,71)=1
"RTN","ONCHPC4A",71,0)
 .W !," 50. CHEMOTHERAPY/SURGERY SEQUENCE.: Chemotherapy before surgery"
"RTN","ONCHPC4A",72,0)
 I CHEDT>CDSDT D  G DIR
"RTN","ONCHPC4A",73,0)
 .S $P(^ONCO(165.5,ONCONUM,"HEP1"),U,71)=2
"RTN","ONCHPC4A",74,0)
 .W !," 50. CHEMOTHERAPY/SURGERY SEQUENCE.: Chemotherapy after surgery"
"RTN","ONCHPC4A",75,0)
CSS1 S DR="1070 50. CHEMOTHERAPY/SURGERY SEQUENCE." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",76,0)
DIR K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCHPC4A",77,0)
O W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC4A",78,0)
 W !," OTHER THERAPY"
"RTN","ONCHPC4A",79,0)
 W !," -------------"
"RTN","ONCHPC4A",80,0)
DOTS W !," 51. DATE OTHER TREATMENT STARTED..: ",$$GET1^DIQ(165.5,IE,57)
"RTN","ONCHPC4A",81,0)
OT W !," 52. OTHER TREATMENT...............: ",$$GET1^DIQ(165.5,IE,57.2)
"RTN","ONCHPC4A",82,0)
AE S DR="1071 53. ARTERIAL EMBOLIZATION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",83,0)
DWTD S DR="1072 54. DEATH WITHIN 30 DAYS OF START                                                    OF INITIAL COURSE OF THERAPY." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC4A",84,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC4A",85,0)
 G EXIT
"RTN","ONCHPC4A",86,0)
JUMP ;Jump to prompts
"RTN","ONCHPC4A",87,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC4A",88,0)
 I X["?" D  G:$D(DIRUT) EXIT G JUMP
"RTN","ONCHPC4A",89,0)
 .W @IOF,!," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCHPC4A",90,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC4A",91,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCHPC4A",92,0)
 S X=TABLE(X)
"RTN","ONCHPC4A",93,0)
 G @X
"RTN","ONCHPC4A",94,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC4A",95,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCHPC4A",96,0)
 K CDS,CHE,LOS,NCDS,NOP,RAD,SA,SA1,SA2,SM,SM1,SM2
"RTN","ONCHPC4A",97,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCHPC4A",98,0)
 Q
"RTN","ONCHPC5")
0^90^B2297851
"RTN","ONCHPC5",1,0)
ONCHPC5 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/12/00
"RTN","ONCHPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC5",3,0)
 ;Recurrence 
"RTN","ONCHPC5",4,0)
 K TABLE,HTABLE
"RTN","ONCHPC5",5,0)
 S TABLE("55. DATE OF FIRST RECURRENCE")="DFR"
"RTN","ONCHPC5",6,0)
 S TABLE("56. TYPE OF FIRST RECURRENCE")="TFR"
"RTN","ONCHPC5",7,0)
 S HTABLE(1)="55. TYPE OF FIRST RECURRENCE"
"RTN","ONCHPC5",8,0)
 S HTABLE(2)="56. DATE OF FIRST RECURRENCE"
"RTN","ONCHPC5",9,0)
 S CHOICES=2
"RTN","ONCHPC5",10,0)
 W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC5",11,0)
 W !," RECURRENCE"
"RTN","ONCHPC5",12,0)
 W !," ----------"
"RTN","ONCHPC5",13,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM,DR=70
"RTN","ONCHPC5",14,0)
DFR S DR="70 55. DATE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC5",15,0)
TFR S DR="71 56. TYPE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC5",16,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC5",17,0)
 G EXIT
"RTN","ONCHPC5",18,0)
JUMP ;Jump to prompts
"RTN","ONCHPC5",19,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCHPC5",20,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC5",21,0)
 I X["?" D  G JUMP
"RTN","ONCHPC5",22,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC5",23,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC5",24,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC5",25,0)
 S X=TABLE(X)
"RTN","ONCHPC5",26,0)
 G @X
"RTN","ONCHPC5",27,0)
EXIT K CHOICES,HTABLE,PIECE,TABLE
"RTN","ONCHPC5",28,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCHPC5",29,0)
 Q
"RTN","ONCHPC6")
0^91^B3980653
"RTN","ONCHPC6",1,0)
ONCHPC6 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/12/00
"RTN","ONCHPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC6",3,0)
 ;Follow-Up
"RTN","ONCHPC6",4,0)
 K TABLE,HTABLE
"RTN","ONCHPC6",5,0)
 S TABLE("57. DATE OF LAST CONTACT OR DEATH")="DLCOD"
"RTN","ONCHPC6",6,0)
 S TABLE("58. VITAL STATUS")="VS"
"RTN","ONCHPC6",7,0)
 S TABLE("59. CANCER STATUS")="CS"
"RTN","ONCHPC6",8,0)
 S HTABLE(1)="57. DATE OF LAST CONTACT OR DEATH"
"RTN","ONCHPC6",9,0)
 S HTABLE(2)="58. VITAL STATUS"
"RTN","ONCHPC6",10,0)
 S HTABLE(3)="59. CANCER STATUS"
"RTN","ONCHPC6",11,0)
 S CHOICES=3
"RTN","ONCHPC6",12,0)
 W @IOF D HEAD^ONCHPC0
"RTN","ONCHPC6",13,0)
 W !," FOLLOW-UP"
"RTN","ONCHPC6",14,0)
 W !," ---------"
"RTN","ONCHPC6",15,0)
DLCOD S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCHPC6",16,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCHPC6",17,0)
 W !," 57. DATE OF LAST CONTACT OR DEATH..: ",DLC
"RTN","ONCHPC6",18,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCHPC6",19,0)
 S DR="15 58. VITAL STATUS..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCHPC6",20,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCHPC6",21,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCHPC6",22,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCHPC6",23,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCHPC6",24,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCHPC6",25,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCHPC6",26,0)
 W !," 59. CANCER STATUS..................: ",CS
"RTN","ONCHPC6",27,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCHPC6",28,0)
 G EXIT
"RTN","ONCHPC6",29,0)
JUMP ;Jump to prompts
"RTN","ONCHPC6",30,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCHPC6",31,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCHPC6",32,0)
 I X["?" D  G JUMP
"RTN","ONCHPC6",33,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC6",34,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCHPC6",35,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCHPC6",36,0)
 S X=TABLE(X)
"RTN","ONCHPC6",37,0)
 G @X
"RTN","ONCHPC6",38,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCHPC6",39,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCHPC6",40,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCHPC6",41,0)
 Q
"RTN","ONCHPC8")
0^92^B60713068
"RTN","ONCHPC8",1,0)
ONCHPC8 ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/12/00
"RTN","ONCHPC8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC8",3,0)
 ;Print 
"RTN","ONCHPC8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCHPC8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCHPC8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCHPC8",7,0)
PRT S EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCHPC8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCHPC8",9,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCHPC8",10,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCHPC8",11,0)
I S TABLE="PATIENT INFORMATION"
"RTN","ONCHPC8",12,0)
 D HEAD^ONCHPC0
"RTN","ONCHPC8",13,0)
 K LINE S $P(LINE,"-",19)="-"
"RTN","ONCHPC8",14,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCHPC8",15,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCHPC8",16,0)
 W !," 1. FACILITY ID NUMBER (FIN)....: ",$$IIN^ONCFUNC
"RTN","ONCHPC8",17,0)
 D P Q:EX=U
"RTN","ONCHPC8",18,0)
 W !," 2. ACCESSION NUMBER............: ",$$GET1^DIQ(165.5,IE,.05)
"RTN","ONCHPC8",19,0)
 D P Q:EX=U
"RTN","ONCHPC8",20,0)
 W !," 3. SEQUENCE NUMBER.............: ",$$GET1^DIQ(165.5,IE,.06)
"RTN","ONCHPC8",21,0)
 D P Q:EX=U
"RTN","ONCHPC8",22,0)
 W !," 4. POSTAL CODE AT DIAGNOIS.....: ",$$GET1^DIQ(165.5,IE,9)
"RTN","ONCHPC8",23,0)
 D P Q:EX=U
"RTN","ONCHPC8",24,0)
 W !," 5. PLACE OF BIRTH..............: ",$$GET1^DIQ(160,ONCOPA,7)
"RTN","ONCHPC8",25,0)
 D P Q:EX=U
"RTN","ONCHPC8",26,0)
 W !," 6. DATE OF BIRTH...............: ",DOB
"RTN","ONCHPC8",27,0)
 D P Q:EX=U
"RTN","ONCHPC8",28,0)
 W !," 7. RACE........................: ",$$GET1^DIQ(165.5,IE,.12)
"RTN","ONCHPC8",29,0)
 D P Q:EX=U
"RTN","ONCHPC8",30,0)
 W !," 8. SPANISH ORIGIN..............: ",$$GET1^DIQ(160,ONCOPA,9)
"RTN","ONCHPC8",31,0)
 D P Q:EX=U
"RTN","ONCHPC8",32,0)
 W !," 9. SEX.........................: ",$$GET1^DIQ(160,ONCOPA,10)
"RTN","ONCHPC8",33,0)
 D P Q:EX=U
"RTN","ONCHPC8",34,0)
 W !,"10. PRIMARY PAYER AT DIAGNOSIS..: ",$$GET1^DIQ(165.5,IE,18)
"RTN","ONCHPC8",35,0)
 D P Q:EX=U
"RTN","ONCHPC8",36,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCHPC0 G II
"RTN","ONCHPC8",37,0)
 D P Q:EX=U
"RTN","ONCHPC8",38,0)
II S TABLE="TUMOR IDENTIFICATION"
"RTN","ONCHPC8",39,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCHPC0
"RTN","ONCHPC8",40,0)
 K LINE S $P(LINE,"-",20)="-"
"RTN","ONCHPC8",41,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCHPC8",42,0)
 D P Q:EX=U
"RTN","ONCHPC8",43,0)
 W !,"11. CLASS OF CASE...............: ",$$GET1^DIQ(165.5,IE,.04)
"RTN","ONCHPC8",44,0)
 D P Q:EX=U
"RTN","ONCHPC8",45,0)
 W !
"RTN","ONCHPC8",46,0)
 D P Q:EX=U
"RTN","ONCHPC8",47,0)
 W !,"12. HORMONES:"
"RTN","ONCHPC8",48,0)
 D P Q:EX=U
"RTN","ONCHPC8",49,0)
 W !,"     ORAL CONTRACEPTIVES........: ",$$GET1^DIQ(165.5,IE,1000)
"RTN","ONCHPC8",50,0)
 D P Q:EX=U
"RTN","ONCHPC8",51,0)
 W !,"     ESTROGEN REPLACEMENT.......: ",$$GET1^DIQ(165.5,IE,1001)
"RTN","ONCHPC8",52,0)
 D P Q:EX=U
"RTN","ONCHPC8",53,0)
 W !,"     TAMOXIFEN..................: ",$$GET1^DIQ(165.5,IE,1002)
"RTN","ONCHPC8",54,0)
 D P Q:EX=U
"RTN","ONCHPC8",55,0)
 W !,"     OTHER......................: ",$$GET1^DIQ(165.5,IE,1003)
"RTN","ONCHPC8",56,0)
 D P Q:EX=U
"RTN","ONCHPC8",57,0)
 W !
"RTN","ONCHPC8",58,0)
 D P Q:EX=U
"RTN","ONCHPC8",59,0)
 W !,"13. CONDITIONS PRESENT AT INITIAL DIAGNOSIS:"
"RTN","ONCHPC8",60,0)
 D P Q:EX=U
"RTN","ONCHPC8",61,0)
 W !,"     ASCITES....................: ",$$GET1^DIQ(165.5,IE,1004)
"RTN","ONCHPC8",62,0)
 D P Q:EX=U
"RTN","ONCHPC8",63,0)
 W !,"     CIRRHOSIS..................: ",$$GET1^DIQ(165.5,IE,1005)
"RTN","ONCHPC8",64,0)
 D P Q:EX=U
"RTN","ONCHPC8",65,0)
 W !,"     CHILD'S CLASS A............: ",$$GET1^DIQ(165.5,IE,1006)
"RTN","ONCHPC8",66,0)
 D P Q:EX=U
"RTN","ONCHPC8",67,0)
 W !,"     CHILD'S CLASS B............: ",$$GET1^DIQ(165.5,IE,1007)
"RTN","ONCHPC8",68,0)
 D P Q:EX=U
"RTN","ONCHPC8",69,0)
 W !,"     CHILD'S CLASS C............: ",$$GET1^DIQ(165.5,IE,1008)
"RTN","ONCHPC8",70,0)
 D P Q:EX=U
"RTN","ONCHPC8",71,0)
 W !,"     HEPATITIS B................: ",$$GET1^DIQ(165.5,IE,1009)
"RTN","ONCHPC8",72,0)
 D P Q:EX=U
"RTN","ONCHPC8",73,0)
 W !,"     HEPATITIS C................: ",$$GET1^DIQ(165.5,IE,1010)
"RTN","ONCHPC8",74,0)
 D P Q:EX=U
"RTN","ONCHPC8",75,0)
 W !,"     HEMOCHROMATOSIS............: ",$$GET1^DIQ(165.5,IE,1011)
"RTN","ONCHPC8",76,0)
 D P Q:EX=U
"RTN","ONCHPC8",77,0)
 W !
"RTN","ONCHPC8",78,0)
 D P Q:EX=U
"RTN","ONCHPC8",79,0)
 W !,"14. ALCOHOL CONSUMPTION.........: ",$$GET1^DIQ(165.5,IE,1012)
"RTN","ONCHPC8",80,0)
 D P Q:EX=U
"RTN","ONCHPC8",81,0)
 W !
"RTN","ONCHPC8",82,0)
 D P Q:EX=U
"RTN","ONCHPC8",83,0)
 W !,"15. TUMOR MARKERS:"
"RTN","ONCHPC8",84,0)
 D P Q:EX=U
"RTN","ONCHPC8",85,0)
 W !,"     AFP (IU/ml)................: ",$$GET1^DIQ(165.5,IE,1013)
"RTN","ONCHPC8",86,0)
 D P Q:EX=U
"RTN","ONCHPC8",87,0)
 W !,"     CEA (mg/ml)................: ",$$GET1^DIQ(165.5,IE,1014)
"RTN","ONCHPC8",88,0)
 D P Q:EX=U
"RTN","ONCHPC8",89,0)
 W !,"     CA 19.9 (U/ml).............: ",$$GET1^DIQ(165.5,IE,1015)
"RTN","ONCHPC8",90,0)
 D P Q:EX=U
"RTN","ONCHPC8",91,0)
 W !
"RTN","ONCHPC8",92,0)
 D P Q:EX=U
"RTN","ONCHPC8",93,0)
 W !,"16. TESTS RELATED TO LIVER FUNCTION:"
"RTN","ONCHPC8",94,0)
 D P Q:EX=U
"RTN","ONCHPC8",95,0)
 W !,"     PROTIME (sec)..............: ",$$GET1^DIQ(165.5,IE,1016)
"RTN","ONCHPC8",96,0)
 D P Q:EX=U
"RTN","ONCHPC8",97,0)
 W !,"     BILIRUBIN (mg/ml)..........: ",$$GET1^DIQ(165.5,IE,1017)
"RTN","ONCHPC8",98,0)
 D P Q:EX=U
"RTN","ONCHPC8",99,0)
 W !,"     ALBUMIN (g/dl).............: ",$$GET1^DIQ(165.5,IE,1018)
"RTN","ONCHPC8",100,0)
 D P Q:EX=U
"RTN","ONCHPC8",101,0)
 W !,"     LDH (U/l)..................: ",$$GET1^DIQ(165.5,IE,1019)
"RTN","ONCHPC8",102,0)
 D P Q:EX=U
"RTN","ONCHPC8",103,0)
 W !
"RTN","ONCHPC8",104,0)
 D P Q:EX=U
"RTN","ONCHPC8",105,0)
 W !,"17. RADIOLOGICAL EVALUATION"
"RTN","ONCHPC8",106,0)
 D P Q:EX=U
"RTN","ONCHPC8",107,0)
 W !
"RTN","ONCHPC8",108,0)
 D P Q:EX=U
"RTN","ONCHPC8",109,0)
 W !,"    CT ARTERIAL PORTOGRAPHY:"
"RTN","ONCHPC8",110,0)
 D P Q:EX=U
"RTN","ONCHPC8",111,0)
 W !,"     PERFORMED..................: ",$$GET1^DIQ(165.5,IE,1020)
"RTN","ONCHPC8",112,0)
 D P Q:EX=U
"RTN","ONCHPC8",113,0)
 W !,"     CIRRHOSIS..................: ",$$GET1^DIQ(165.5,IE,1021)
"RTN","ONCHPC8",114,0)
 D P Q:EX=U
"RTN","ONCHPC8",115,0)
 W !,"     VASCULAR INVASTION.........: ",$$GET1^DIQ(165.5,IE,1022)
"RTN","ONCHPC8",116,0)
 D P Q:EX=U
"RTN","ONCHPC8",117,0)
 W !,"     BILOBAR DISEASE............: ",$$GET1^DIQ(165.5,IE,1023)
"RTN","ONCHPC8",118,0)
 D P Q:EX=U
"RTN","ONCHPC8",119,0)
 W !,"     LYMPH NODES................: ",$$GET1^DIQ(165.5,IE,1024)
"RTN","ONCHPC8",120,0)
 D P Q:EX=U
"RTN","ONCHPC8",121,0)
 W !,"     SIZE OF DOMINANT TUMOR (MM): ",$$GET1^DIQ(165.5,IE,1025)
"RTN","ONCHPC8",122,0)
 D P Q:EX=U
"RTN","ONCHPC8",123,0)
 W !,"     NUMBER OF TUMORS...........: ",$$GET1^DIQ(165.5,IE,1026)
"RTN","ONCHPC8",124,0)
 D P Q:EX=U
"RTN","ONCHPC8",125,0)
 W !
"RTN","ONCHPC8",126,0)
 D P Q:EX=U
"RTN","ONCHPC8",127,0)
 W !,"    SPIRAL CT:"
"RTN","ONCHPC8",128,0)
 D P Q:EX=U
"RTN","ONCHPC8",129,0)
 W !,"     PERFORMED..................: ",$$GET1^DIQ(165.5,IE,1027)
"RTN","ONCHPC8",130,0)
 D P Q:EX=U
"RTN","ONCHPC8",131,0)
 W !,"     CIRRHOSIS..................: ",$$GET1^DIQ(165.5,IE,1028)
"RTN","ONCHPC8",132,0)
 D P Q:EX=U
"RTN","ONCHPC8",133,0)
 W !,"     VASCULAR INVASTION.........: ",$$GET1^DIQ(165.5,IE,1029)
"RTN","ONCHPC8",134,0)
 D P Q:EX=U
"RTN","ONCHPC8",135,0)
 W !,"     BILOBAR DISEASE............: ",$$GET1^DIQ(165.5,IE,1030)
"RTN","ONCHPC8",136,0)
 D P Q:EX=U
"RTN","ONCHPC8",137,0)
 W !,"     LYMPH NODES................: ",$$GET1^DIQ(165.5,IE,1031)
"RTN","ONCHPC8",138,0)
 D P Q:EX=U
"RTN","ONCHPC8",139,0)
 W !,"     SIZE OF DOMINANT TUMOR (MM): ",$$GET1^DIQ(165.5,IE,1032)
"RTN","ONCHPC8",140,0)
 D P Q:EX=U
"RTN","ONCHPC8",141,0)
 W !,"     NUMBER OF TUMORS...........: ",$$GET1^DIQ(165.5,IE,1033)
"RTN","ONCHPC8",142,0)
 D P Q:EX=U
"RTN","ONCHPC8",143,0)
 W !
"RTN","ONCHPC8",144,0)
 D P Q:EX=U
"RTN","ONCHPC8",145,0)
 W !,"    INCREMENTAL CT:"
"RTN","ONCHPC8",146,0)
 D P Q:EX=U
"RTN","ONCHPC8",147,0)
 W !,"     PERFORMED..................: ",$$GET1^DIQ(165.5,IE,1034)
"RTN","ONCHPC8",148,0)
 D P Q:EX=U
"RTN","ONCHPC8",149,0)
 W !,"     CIRRHOSIS..................: ",$$GET1^DIQ(165.5,IE,1035)
"RTN","ONCHPC8",150,0)
 D P Q:EX=U
"RTN","ONCHPC8",151,0)
 W !,"     VASCULAR INVASTION.........: ",$$GET1^DIQ(165.5,IE,1036)
"RTN","ONCHPC8",152,0)
 D P Q:EX=U
"RTN","ONCHPC8",153,0)
 W !,"     BILOBAR DISEASE............: ",$$GET1^DIQ(165.5,IE,1037)
"RTN","ONCHPC8",154,0)
 D P Q:EX=U
"RTN","ONCHPC8",155,0)
 W !,"     LYMPH NODES................: ",$$GET1^DIQ(165.5,IE,1038)
"RTN","ONCHPC8",156,0)
 D P Q:EX=U
"RTN","ONCHPC8",157,0)
 W !,"     SIZE OF DOMINANT TUMOR (MM): ",$$GET1^DIQ(165.5,IE,1039)
"RTN","ONCHPC8",158,0)
 D P Q:EX=U
"RTN","ONCHPC8",159,0)
 W !,"     NUMBER OF TUMORS...........: ",$$GET1^DIQ(165.5,IE,1040)
"RTN","ONCHPC8",160,0)
 D P Q:EX=U
"RTN","ONCHPC8",161,0)
 W !
"RTN","ONCHPC8",162,0)
 D P Q:EX=U
"RTN","ONCHPC8",163,0)
 W !,"    ULTRASOUND:"
"RTN","ONCHPC8",164,0)
  D P Q:EX=U
"RTN","ONCHPC8",165,0)
 W !,"     PERFORMED..................: ",$$GET1^DIQ(165.5,IE,1041)
"RTN","ONCHPC8",166,0)
 D P Q:EX=U
"RTN","ONCHPC8",167,0)
 W !,"     CIRRHOSIS..................: ",$$GET1^DIQ(165.5,IE,1042)
"RTN","ONCHPC8",168,0)
 D P Q:EX=U
"RTN","ONCHPC8",169,0)
 W !,"     VASCULAR INVASTION.........: ",$$GET1^DIQ(165.5,IE,1043)
"RTN","ONCHPC8",170,0)
 D P Q:EX=U
"RTN","ONCHPC8",171,0)
 W !,"     BILOBAR DISEASE............: ",$$GET1^DIQ(165.5,IE,1044)
"RTN","ONCHPC8",172,0)
 D P Q:EX=U
"RTN","ONCHPC8",173,0)
 W !,"     LYMPH NODES................: ",$$GET1^DIQ(165.5,IE,1045)
"RTN","ONCHPC8",174,0)
 D P Q:EX=U
"RTN","ONCHPC8",175,0)
 W !,"     SIZE OF DOMINANT TUMOR (MM): ",$$GET1^DIQ(165.5,IE,1046)
"RTN","ONCHPC8",176,0)
 D P Q:EX=U
"RTN","ONCHPC8",177,0)
 W !,"     NUMBER OF TUMORS...........: ",$$GET1^DIQ(165.5,IE,1047)
"RTN","ONCHPC8",178,0)
 D P Q:EX=U
"RTN","ONCHPC8",179,0)
 W !
"RTN","ONCHPC8",180,0)
 D P Q:EX=U
"RTN","ONCHPC8",181,0)
 W !,"    MRI:"
"RTN","ONCHPC8",182,0)
 D P Q:EX=U
"RTN","ONCHPC8",183,0)
 W !,"     PERFORMED..................: ",$$GET1^DIQ(165.5,IE,1048)
"RTN","ONCHPC8",184,0)
 D P Q:EX=U
"RTN","ONCHPC8",185,0)
 W !,"     CIRRHOSIS..................: ",$$GET1^DIQ(165.5,IE,1049)
"RTN","ONCHPC8",186,0)
 D P Q:EX=U
"RTN","ONCHPC8",187,0)
 W !,"     VASCULAR INVASTION.........: ",$$GET1^DIQ(165.5,IE,1050)
"RTN","ONCHPC8",188,0)
 D P Q:EX=U
"RTN","ONCHPC8",189,0)
 W !,"     BILOBAR DISEASE............: ",$$GET1^DIQ(165.5,IE,1051)
"RTN","ONCHPC8",190,0)
 D P Q:EX=U
"RTN","ONCHPC8",191,0)
 W !,"     LYMPH NODES................: ",$$GET1^DIQ(165.5,IE,1052)
"RTN","ONCHPC8",192,0)
 D P Q:EX=U
"RTN","ONCHPC8",193,0)
 W !,"     SIZE OF DOMINANT TUMOR (MM): ",$$GET1^DIQ(165.5,IE,1053)
"RTN","ONCHPC8",194,0)
 D P Q:EX=U
"RTN","ONCHPC8",195,0)
 W !,"     NUMBER OF TUMORS...........: ",$$GET1^DIQ(165.5,IE,1054)
"RTN","ONCHPC8",196,0)
 D P Q:EX=U
"RTN","ONCHPC8",197,0)
 W !
"RTN","ONCHPC8",198,0)
 D P Q:EX=U
"RTN","ONCHPC8",199,0)
 W !,"18. DEFINITIVE DIAGNOSIS........: ",$$GET1^DIQ(165.5,IE,1055)
"RTN","ONCHPC8",200,0)
 D P Q:EX=U
"RTN","ONCHPC8",201,0)
 W !,"19. DATE OF INITIAL DIAGNOSIS...: ",$$GET1^DIQ(165.5,IE,3)
"RTN","ONCHPC8",202,0)
 D P Q:EX=U
"RTN","ONCHPC8",203,0)
 W !,"20. HISTOLOGY (ICD-O-2).........: ",$E(HIST,1,4)
"RTN","ONCHPC8",204,0)
 D P Q:EX=U
"RTN","ONCHPC8",205,0)
 W !,"21. GRADE.......................: ",$$GET1^DIQ(165.5,IE,24)
"RTN","ONCHPC8",206,0)
 D P Q:EX=U
"RTN","ONCHPC8",207,0)
 W !,"22. DIAGNOSTIC CONFIRMATION.....: ",$$GET1^DIQ(165.5,IE,26)
"RTN","ONCHPC8",208,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR G:'Y KILL
"RTN","ONCHPC8",209,0)
III D HEAD^ONCHPC0,^ONCHPC8A
"RTN","ONCHPC8",210,0)
KILL ;
"RTN","ONCHPC8",211,0)
 K CS,CSDAT,CSI,CSPNT,DESC,DESC1,DESC2,DLC,DOB,DOFCT
"RTN","ONCHPC8",212,0)
 K EX,HIST,IE,LIN,LINE,LOS,NOP,ONDATE,ONCOLST,TABLE
"RTN","ONCHPC8",213,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCHPC8",214,0)
 Q
"RTN","ONCHPC8",215,0)
P ;Print
"RTN","ONCHPC8",216,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCHPC8",217,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCHPC8",218,0)
 .D HEAD^ONCHPC0 Q
"RTN","ONCHPC8",219,0)
 Q
"RTN","ONCHPC8",220,0)
TASK ;Queue a task
"RTN","ONCHPC8",221,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCHPC8",222,0)
 S ZTRTN="PRT^ONCHPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCHPC8",223,0)
 S ZTDESC="Print Hepatocellular Cancer PCE"
"RTN","ONCHPC8",224,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCHPC8",225,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCHPC8",226,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCHPC8A")
0^93^B54728029
"RTN","ONCHPC8A",1,0)
ONCHPC8A ;Hines OIFO/GWB - 2000 Hepatocellular Cancers PCE Study ;01/12/00
"RTN","ONCHPC8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHPC8A",3,0)
 ;Print (continued)
"RTN","ONCHPC8A",4,0)
III K LINE S $P(LINE,"-",29)="-"
"RTN","ONCHPC8A",5,0)
 S TABLE="STAGE OF DISEASE AT DIAGNOSIS"
"RTN","ONCHPC8A",6,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCHPC0
"RTN","ONCHPC8A",7,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCHPC8A",8,0)
 D P Q:EX=U
"RTN","ONCHPC8A",9,0)
 W !,"23. SIZE OF TUMOR...............: ",$$GET1^DIQ(165.5,IE,29)
"RTN","ONCHPC8A",10,0)
 D P Q:EX=U
"RTN","ONCHPC8A",11,0)
 W !,"24. REGIONAL NODES EXAMINED.....: ",$$GET1^DIQ(165.5,IE,33)
"RTN","ONCHPC8A",12,0)
 D P Q:EX=U
"RTN","ONCHPC8A",13,0)
 W !,"25. REGIONAL NODES POSITIVE.....: ",$$GET1^DIQ(165.5,IE,32)
"RTN","ONCHPC8A",14,0)
 D P Q:EX=U
"RTN","ONCHPC8A",15,0)
 W !
"RTN","ONCHPC8A",16,0)
 D P Q:EX=U
"RTN","ONCHPC8A",17,0)
ACS W !,"26. AJCC CLINICAL STAGE (cTNM):"
"RTN","ONCHPC8A",18,0)
 D P Q:EX=U
"RTN","ONCHPC8A",19,0)
 W !,"     AJCC CLINICAL T............: ",$$GET1^DIQ(165.5,IE,37.1)
"RTN","ONCHPC8A",20,0)
 D P Q:EX=U
"RTN","ONCHPC8A",21,0)
 W !,"     AJCC CLINICAL N............: ",$$GET1^DIQ(165.5,IE,37.2)
"RTN","ONCHPC8A",22,0)
 D P Q:EX=U
"RTN","ONCHPC8A",23,0)
 W !,"     AJCC CLINICAL M............: ",$$GET1^DIQ(165.5,IE,37.3)
"RTN","ONCHPC8A",24,0)
 D P Q:EX=U
"RTN","ONCHPC8A",25,0)
 W !,"     AJCC CLINICAL STAGE GROUP..: ",$$GET1^DIQ(165.5,IE,38)
"RTN","ONCHPC8A",26,0)
 D P Q:EX=U
"RTN","ONCHPC8A",27,0)
APS W !
"RTN","ONCHPC8A",28,0)
 D P Q:EX=U
"RTN","ONCHPC8A",29,0)
 W !,"27. AJCC PATHOLOGIC STAGE (pTNM):"
"RTN","ONCHPC8A",30,0)
 D P Q:EX=U
"RTN","ONCHPC8A",31,0)
 W !,"     AJCC PATHOLOGIC T..........: ",$$GET1^DIQ(165.5,IE,85)
"RTN","ONCHPC8A",32,0)
 D P Q:EX=U
"RTN","ONCHPC8A",33,0)
 W !,"     AJCC PATHOLOGIC N..........: ",$$GET1^DIQ(165.5,IE,86)
"RTN","ONCHPC8A",34,0)
 D P Q:EX=U
"RTN","ONCHPC8A",35,0)
 W !,"     AJCC PATHOLOGIC M..........: ",$$GET1^DIQ(165.5,IE,87)
"RTN","ONCHPC8A",36,0)
 D P Q:EX=U
"RTN","ONCHPC8A",37,0)
 W !,"     AJCC PATHOLOGIC STAGE GROUP: ",$$GET1^DIQ(165.5,IE,88)
"RTN","ONCHPC8A",38,0)
 D P Q:EX=U
"RTN","ONCHPC8A",39,0)
 W !
"RTN","ONCHPC8A",40,0)
 D P Q:EX=U
"RTN","ONCHPC8A",41,0)
 W !,"28. STAGED BY:"
"RTN","ONCHPC8A",42,0)
 D P Q:EX=U
"RTN","ONCHPC8A",43,0)
 W !,"     CLINICALLY STAGED BY.......: ",$$GET1^DIQ(165.5,IE,19)
"RTN","ONCHPC8A",44,0)
 D P Q:EX=U
"RTN","ONCHPC8A",45,0)
 W !,"     PATHOLOGICALLY STAGED BY...: ",$$GET1^DIQ(165.5,IE,89)
"RTN","ONCHPC8A",46,0)
 D P Q:EX=U
"RTN","ONCHPC8A",47,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCHPC0 G IV
"RTN","ONCHPC8A",48,0)
 D P Q:EX=U
"RTN","ONCHPC8A",49,0)
IV S TABLE="FIRST COURSE OF TREATMENT"
"RTN","ONCHPC8A",50,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCHPC0
"RTN","ONCHPC8A",51,0)
 K LINE S $P(LINE,"-",25)="-"
"RTN","ONCHPC8A",52,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCHPC8A",53,0)
 D P Q:EX=U
"RTN","ONCHPC8A",54,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCHPC8A",55,0)
 W !,"29. DATE OF FIRST COURSE OF"
"RTN","ONCHPC8A",56,0)
 D P Q:EX=U
"RTN","ONCHPC8A",57,0)
 W !,"     TREATMENT..................: ",DOFCT
"RTN","ONCHPC8A",58,0)
 D P Q:EX=U
"RTN","ONCHPC8A",59,0)
 W !,"30. DATE OF INPATIENT ADMISSION.: ",$$GET1^DIQ(165.5,IE,1)
"RTN","ONCHPC8A",60,0)
 D P Q:EX=U
"RTN","ONCHPC8A",61,0)
 W !,"31. DATE OF INPATIENT DISCHARGE.: ",$$GET1^DIQ(165.5,IE,1.1)
"RTN","ONCHPC8A",62,0)
 D P Q:EX=U
"RTN","ONCHPC8A",63,0)
 W !
"RTN","ONCHPC8A",64,0)
 D P Q:EX=U
"RTN","ONCHPC8A",65,0)
 W !?4,"SURGERY",!?4,"-------"
"RTN","ONCHPC8A",66,0)
 D P Q:EX=U
"RTN","ONCHPC8A",67,0)
 W !?4,"NON CANCER-DIRECTED SURGERY",!?4,"---------------------------"
"RTN","ONCHPC8A",68,0)
 D P Q:EX=U
"RTN","ONCHPC8A",69,0)
S W !,"32. DATE OF NON CANCER-DIRECTED"
"RTN","ONCHPC8A",70,0)
 D P Q:EX=U
"RTN","ONCHPC8A",71,0)
 W !,"     SURGERY....................: ",$$GET1^DIQ(165.5,IE,58.3)
"RTN","ONCHPC8A",72,0)
 D P Q:EX=U
"RTN","ONCHPC8A",73,0)
 S DESC=$$GET1^DIQ(165.5,IE,58.1) D DESC
"RTN","ONCHPC8A",74,0)
NCDS W !,"33. NON CANCER-DIRECTED SURGERY.: ",DESC1 W:DESC2'="" !,?34,DESC2
"RTN","ONCHPC8A",75,0)
 D P Q:EX=U
"RTN","ONCHPC8A",76,0)
 W !?4,"CANCER-DIRECTED SURGERY",!?4,"-----------------------"
"RTN","ONCHPC8A",77,0)
 D P Q:EX=U
"RTN","ONCHPC8A",78,0)
 W !,"34. DATE OF CANCER-DIRECTED"
"RTN","ONCHPC8A",79,0)
 D P Q:EX=U
"RTN","ONCHPC8A",80,0)
 W !,"     SURGERY....................: ",$$GET1^DIQ(165.5,IE,50)
"RTN","ONCHPC8A",81,0)
 D P Q:EX=U
"RTN","ONCHPC8A",82,0)
SA W !,"35. SURGICAL APPROACH...........: ",$$GET1^DIQ(165.5,IE,74)
"RTN","ONCHPC8A",83,0)
 D P Q:EX=U
"RTN","ONCHPC8A",84,0)
CDS S DESC=$$GET1^DIQ(165.5,IE,58.2) D DESC
"RTN","ONCHPC8A",85,0)
SPS W !,"36. SURGERY OF PRIMARY SITE.....: ",DESC1 W:DESC2'="" !,?34,DESC2
"RTN","ONCHPC8A",86,0)
 D P Q:EX=U
"RTN","ONCHPC8A",87,0)
 W !,"37. RADIO-FREQUENCY DESTRUCTION"
"RTN","ONCHPC8A",88,0)
 D P Q:EX=U
"RTN","ONCHPC8A",89,0)
 W !,"     OF TUMOR...................: ",$$GET1^DIQ(165.5,IE,1056)
"RTN","ONCHPC8A",90,0)
 D P Q:EX=U
"RTN","ONCHPC8A",91,0)
 W !,"38. ABLATION & RESECTION........: ",$$GET1^DIQ(165.5,IE,1057)
"RTN","ONCHPC8A",92,0)
 D P Q:EX=U
"RTN","ONCHPC8A",93,0)
 S DESC=$$GET1^DIQ(165.5,IE,59) D DESC
"RTN","ONCHPC8A",94,0)
SM W !,"39. SURGICAL MARGINS............: ",DESC1 W:DESC2'="" !,?34,DESC2
"RTN","ONCHPC8A",95,0)
 D P Q:EX=U
"RTN","ONCHPC8A",96,0)
 W !,"40. DISTANCE OF TUMOR TO CLOSEST"
"RTN","ONCHPC8A",97,0)
 D P Q:EX=U
"RTN","ONCHPC8A",98,0)
 W !,"     MARGIN.....................: ",$$GET1^DIQ(165.5,IE,1058)
"RTN","ONCHPC8A",99,0)
 D P Q:EX=U
"RTN","ONCHPC8A",100,0)
 S DESC=$$GET1^DIQ(165.5,IE,139) D DESC
"RTN","ONCHPC8A",101,0)
SORS W !,"41. SURGERY OF OTHER REGIONAL"
"RTN","ONCHPC8A",102,0)
 D P Q:EX=U
"RTN","ONCHPC8A",103,0)
 W !,"     SITE(S), DISTANT SITE(S),"
"RTN","ONCHPC8A",104,0)
 D P Q:EX=U
"RTN","ONCHPC8A",105,0)
 W !,"     OR DISTANT LYMPH NODE(S)...: ",DESC1 W:DESC2'="" !,?34,DESC2
"RTN","ONCHPC8A",106,0)
 D P Q:EX=U
"RTN","ONCHPC8A",107,0)
 W !
"RTN","ONCHPC8A",108,0)
 D P Q:EX=U
"RTN","ONCHPC8A",109,0)
STRPT W !,"42. SURGICAL TREATMENT OF RESIDUAL PRIMARY TUMOR:"
"RTN","ONCHPC8A",110,0)
 D P Q:EX=U
"RTN","ONCHPC8A",111,0)
 W !,"     ABLATION...................: ",$$GET1^DIQ(165.5,IE,1059)
"RTN","ONCHPC8A",112,0)
 D P Q:EX=U
"RTN","ONCHPC8A",113,0)
 W !,"     RESECTION..................: ",$$GET1^DIQ(165.5,IE,1060)
"RTN","ONCHPC8A",114,0)
 D P Q:EX=U
"RTN","ONCHPC8A",115,0)
 W !
"RTN","ONCHPC8A",116,0)
 D P Q:EX=U
"RTN","ONCHPC8A",117,0)
RR W !,"43. RECONSTRUCTION/RESTORATION-"
"RTN","ONCHPC8A",118,0)
 D P Q:EX=U
"RTN","ONCHPC8A",119,0)
 W !,"     FIRST COURSE...............: ",$$GET1^DIQ(165.5,IE,23)
"RTN","ONCHPC8A",120,0)
 D P Q:EX=U
"RTN","ONCHPC8A",121,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCHPC0 W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCHPC8A",122,0)
R W !?4,"RADIATION THERAPY",!?4,"-----------------"
"RTN","ONCHPC8A",123,0)
 D P Q:EX=U
"RTN","ONCHPC8A",124,0)
 W !,"44. DATE RADIATION STARTED......: ",$$GET1^DIQ(165.5,IE,51)
"RTN","ONCHPC8A",125,0)
 D P Q:EX=U
"RTN","ONCHPC8A",126,0)
 W !,"45. RADIATION THERAPY...........: ",$$GET1^DIQ(165.5,IE,51.2)
"RTN","ONCHPC8A",127,0)
 D P Q:EX=U
"RTN","ONCHPC8A",128,0)
 W !
"RTN","ONCHPC8A",129,0)
 D P Q:EX=U
"RTN","ONCHPC8A",130,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------"
"RTN","ONCHPC8A",131,0)
 D P Q:EX=U
"RTN","ONCHPC8A",132,0)
 W !,"46. DATE CHEMOTHERAPY STARTED...: ",$$GET1^DIQ(165.5,IE,53)
"RTN","ONCHPC8A",133,0)
 D P Q:EX=U
"RTN","ONCHPC8A",134,0)
 W !,"47. CHEMOTHERAPY................: ",$$GET1^DIQ(165.5,IE,53.2)
"RTN","ONCHPC8A",135,0)
 D P Q:EX=U
"RTN","ONCHPC8A",136,0)
 W !
"RTN","ONCHPC8A",137,0)
 D P Q:EX=U
"RTN","ONCHPC8A",138,0)
TCAA W !,"48. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:" D P Q:EX=U
"RTN","ONCHPC8A",139,0)
 W !,"     CISPLATIN..................: ",$$GET1^DIQ(165.5,IE,1061)
"RTN","ONCHPC8A",140,0)
 D P Q:EX=U
"RTN","ONCHPC8A",141,0)
 W !,"     FUDR.......................: ",$$GET1^DIQ(165.5,IE,1062)
"RTN","ONCHPC8A",142,0)
 D P Q:EX=U
"RTN","ONCHPC8A",143,0)
 W !,"     5-FU.......................: ",$$GET1^DIQ(165.5,IE,1063)
"RTN","ONCHPC8A",144,0)
 D P Q:EX=U
"RTN","ONCHPC8A",145,0)
 W !,"     FU & LEUCOVERIN............: ",$$GET1^DIQ(165.5,IE,1064)
"RTN","ONCHPC8A",146,0)
 D P Q:EX=U
"RTN","ONCHPC8A",147,0)
 W !,"     IRINOTECAN (CPT-11)........: ",$$GET1^DIQ(165.5,IE,1065)
"RTN","ONCHPC8A",148,0)
 D P Q:EX=U
"RTN","ONCHPC8A",149,0)
 W !,"     MITOMYCIN C................: ",$$GET1^DIQ(165.5,IE,1066)
"RTN","ONCHPC8A",150,0)
 D P Q:EX=U
"RTN","ONCHPC8A",151,0)
 W !,"     OXALIPLATIN................: ",$$GET1^DIQ(165.5,IE,1067)
"RTN","ONCHPC8A",152,0)
 D P Q:EX=U
"RTN","ONCHPC8A",153,0)
 W !,"     GEMCITABINE................: ",$$GET1^DIQ(165.5,IE,1068)
"RTN","ONCHPC8A",154,0)
 D P Q:EX=U
"RTN","ONCHPC8A",155,0)
 W !
"RTN","ONCHPC8A",156,0)
 D P Q:EX=U
"RTN","ONCHPC8A",157,0)
 W !,"49. ROUTE CHEMOTHERAPY ADMIN....: ",$$GET1^DIQ(165.5,IE,1069)
"RTN","ONCHPC8A",158,0)
 D P Q:EX=U
"RTN","ONCHPC8A",159,0)
 W !,"50. CHEMOTHERAPY/SURGERY SEQ....: ",$$GET1^DIQ(165.5,IE,1070)
"RTN","ONCHPC8A",160,0)
 D P Q:EX=U
"RTN","ONCHPC8A",161,0)
 W !
"RTN","ONCHPC8A",162,0)
 D P Q:EX=U
"RTN","ONCHPC8A",163,0)
OT W !?4,"OTHER THERAPY",!?4,"-------------"
"RTN","ONCHPC8A",164,0)
 D P Q:EX=U
"RTN","ONCHPC8A",165,0)
 W !,"51. DATE OTHER TREATMENT STARTED: ",$$GET1^DIQ(165.5,IE,57)
"RTN","ONCHPC8A",166,0)
 D P Q:EX=U
"RTN","ONCHPC8A",167,0)
 W !,"52. OTHER TREATMENT.............: ",$$GET1^DIQ(165.5,IE,57.2)
"RTN","ONCHPC8A",168,0)
 D P Q:EX=U
"RTN","ONCHPC8A",169,0)
 W !,"53. ARTERIAL EMBOLIZATION.......: ",$$GET1^DIQ(165.5,IE,1071)
"RTN","ONCHPC8A",170,0)
 D P Q:EX=U
"RTN","ONCHPC8A",171,0)
 W !,"54. DEATH WITHIN 30 DAYS OF"
"RTN","ONCHPC8A",172,0)
 D P Q:EX=U
"RTN","ONCHPC8A",173,0)
 W !,"     START OF INITIAL COURSE OF"
"RTN","ONCHPC8A",174,0)
 D P Q:EX=U
"RTN","ONCHPC8A",175,0)
 W !,"     THERAPY....................: ",$$GET1^DIQ(165.5,IE,1072)
"RTN","ONCHPC8A",176,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCHPC0 G V
"RTN","ONCHPC8A",177,0)
 D P Q:EX=U
"RTN","ONCHPC8A",178,0)
V S TABLE="RECURRENCE"
"RTN","ONCHPC8A",179,0)
 I IOST'?1"C".E W !
"RTN","ONCHPC8A",180,0)
 W !?4,TABLE,!?4,"----------"
"RTN","ONCHPC8A",181,0)
 D P Q:EX=U
"RTN","ONCHPC8A",182,0)
 W !,"55. DATE OF FIRST RECURRENCE....: ",$$GET1^DIQ(165.5,IE,70)
"RTN","ONCHPC8A",183,0)
 D P Q:EX=U
"RTN","ONCHPC8A",184,0)
 S DESC=$$GET1^DIQ(165.5,IE,71) D DESC
"RTN","ONCHPC8A",185,0)
TFR W !,"56. TYPE OF FIRST RECURRENCE....: ",DESC1 W:DESC2'="" !,?31,DESC2
"RTN","ONCHPC8A",186,0)
 S END=1
"RTN","ONCHPC8A",187,0)
 D P Q:EX=U
"RTN","ONCHPC8A",188,0)
VI S TABLE="FOLLOW-UP"
"RTN","ONCHPC8A",189,0)
 W !!?4,TABLE,!?4,"---------"
"RTN","ONCHPC8A",190,0)
 D P Q:EX=U
"RTN","ONCHPC8A",191,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCHPC8A",192,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCHPC8A",193,0)
 W !,"57. DATE OF LAST CONTACT/DEATH..: ",DLC
"RTN","ONCHPC8A",194,0)
 D P Q:EX=U
"RTN","ONCHPC8A",195,0)
 W !,"58. VITAL STATUS................: ",$$GET1^DIQ(160,ONCOPA,15)
"RTN","ONCHPC8A",196,0)
 D P Q:EX=U
"RTN","ONCHPC8A",197,0)
 S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCHPC8A",198,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCHPC8A",199,0)
 .S CSI=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCHPC8A",200,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSI,0),U,2)
"RTN","ONCHPC8A",201,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCHPC8A",202,0)
 W !,"59. CANCER STATUS...............: ",CS
"RTN","ONCHPC8A",203,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCHPC8A",204,0)
 Q
"RTN","ONCHPC8A",205,0)
P ;Print
"RTN","ONCHPC8A",206,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  I $G(END)'=1 W !?4,TABLE_" (continued)",!?4,LINE_"------------"
"RTN","ONCHPC8A",207,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCHPC8A",208,0)
 .D HEAD^ONCHPC0 Q
"RTN","ONCHPC8A",209,0)
 Q
"RTN","ONCHPC8A",210,0)
DESC S (DESC1,DESC2)="",LOS=$L(DESC) I LOS<46 S DESC1=DESC Q
"RTN","ONCHPC8A",211,0)
 S NOP=$L($E(DESC,1,46)," ")
"RTN","ONCHPC8A",212,0)
 S DESC1=$P(DESC," ",1,NOP-1),DESC2=$P(DESC," ",NOP,999)
"RTN","ONCHPC8A",213,0)
 Q
"RTN","ONCHTWT")
0^94^B983574
"RTN","ONCHTWT",1,0)
ONCHTWT ;Hines OIFO/GWB - 'COMPUTED-FIELD' expressions ;10/12/11
"RTN","ONCHTWT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCHTWT",3,0)
 ;
"RTN","ONCHTWT",4,0)
HEIGHT ;'COMPUTED-FIELD' EXPRESSION for HEIGHT (160,1011)
"RTN","ONCHTWT",5,0)
 ;Supported by IA #1120 GMRVUTL
"RTN","ONCHTWT",6,0)
 N DFN,GMRVSTR
"RTN","ONCHTWT",7,0)
 I $P(^ONCO(160,D0,0),U,1)["LRT(67," S X="99 (Unknown)" Q 
"RTN","ONCHTWT",8,0)
 S DFN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCHTWT",9,0)
 S GMRVSTR="HT"
"RTN","ONCHTWT",10,0)
 D EN6^GMRVUTL
"RTN","ONCHTWT",11,0)
 S X=+$P(X,U,8)
"RTN","ONCHTWT",12,0)
 S X=$J(X,0,0)
"RTN","ONCHTWT",13,0)
 I X>97 S X="98 inches or greater" Q
"RTN","ONCHTWT",14,0)
 I X=0 S X="99 (Unknown)" Q
"RTN","ONCHTWT",15,0)
 S X=X_" inches"
"RTN","ONCHTWT",16,0)
 Q
"RTN","ONCHTWT",17,0)
 ;
"RTN","ONCHTWT",18,0)
WEIGHT ;'COMPUTED-FIELD' EXPRESSION for WEIGHT (160,1012)
"RTN","ONCHTWT",19,0)
 ;Supported by IA #1120 GMRVUTL
"RTN","ONCHTWT",20,0)
 N DFN,GMRVSTR
"RTN","ONCHTWT",21,0)
 I $P(^ONCO(160,D0,0),U,1)["LRT(67," S X="999 (Unknown)" Q
"RTN","ONCHTWT",22,0)
 S DFN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCHTWT",23,0)
 S GMRVSTR="WT"
"RTN","ONCHTWT",24,0)
 D EN6^GMRVUTL
"RTN","ONCHTWT",25,0)
 S X=+$P(X,U,8)
"RTN","ONCHTWT",26,0)
 S X=$J(X,0,0)
"RTN","ONCHTWT",27,0)
 I X=0 S X="999 (Unknown)" Q
"RTN","ONCHTWT",28,0)
 S X=X_" lbs"
"RTN","ONCHTWT",29,0)
 Q
"RTN","ONCHTWT",30,0)
 ;
"RTN","ONCHTWT",31,0)
CLEANUP ;Cleanup
"RTN","ONCHTWT",32,0)
 K D0,X
"RTN","ONCIPC0")
0^95^B8509251
"RTN","ONCIPC0",1,0)
ONCIPC0 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;01/14/00
"RTN","ONCIPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC0",3,0)
 ;
"RTN","ONCIPC0",4,0)
CHECK ;Check PCE eligibility
"RTN","ONCIPC0",5,0)
 ;ACCESSION YEAR (165.5,.07) = 2000
"RTN","ONCIPC0",6,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=2000 S MSG="The Accession Year is not 2000." D ERRMSG G EXIT
"RTN","ONCIPC0",7,0)
 ;
"RTN","ONCIPC0",8,0)
 ;DIAGNOSTIC CONFIRMATION (165.5,26) = 1, 2, 4 or 5
"RTN","ONCIPC0",9,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6)
"RTN","ONCIPC0",10,0)
 I (DC'=1)&(DC'=2)&(DC'=4)&(DC'=5)&(DC'=7)&(DC'=8) S MSG="The Diagnostic Confirmation code is not 1, 2, 4, 5, 7 or 8." D ERRMSG G EXIT
"RTN","ONCIPC0",11,0)
 ;
"RTN","ONCIPC0",12,0)
 ;CLASS OF CASE (165.5,.04) = 0, 1, 2 or 5
"RTN","ONCIPC0",13,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4)
"RTN","ONCIPC0",14,0)
 I (COC'=0)&(COC'=1)&(COC'=2)&(COC'=5) S MSG="The Class of Case code is not 0, 1, 2 or 5." D ERRMSG G EXIT
"RTN","ONCIPC0",15,0)
 ;
"RTN","ONCIPC0",16,0)
 ;BEHAVIOR = 0, 1 or 3.
"RTN","ONCIPC0",17,0)
 I (BEH'=0)&(BEH'=1)&(BEH'=3) S MSG="The Behavior Code is not 0, 1 or 3." D ERRMSG G EXIT
"RTN","ONCIPC0",18,0)
 ;
"RTN","ONCIPC0",19,0)
MENU ;Primary Intracranial/CNS Tumors PCE menu
"RTN","ONCIPC0",20,0)
 K HST
"RTN","ONCIPC0",21,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="CNS"
"RTN","ONCIPC0",22,0)
 S ^ONCO(165.5,"APCE","CNS",ONCONUM)=""
"RTN","ONCIPC0",23,0)
 K DIR D HEAD
"RTN","ONCIPC0",24,0)
 S DIR(0)="SO^1:Patient Information;2:Tumor Identification;3:First Course of Treatment;4:Recurrence/Progression;5:Subsequent Treatment;6:Status at Last Contact;7:All;8:Print Primary Intracranial/CNS Tumors PCE"
"RTN","ONCIPC0",25,0)
 S DIR("A")="Select section" D ^DIR
"RTN","ONCIPC0",26,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCIPC0",27,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCIPC0",28,0)
 .D ^ONCIPC1 Q:$G(OUT)="Y"
"RTN","ONCIPC0",29,0)
 .D ^ONCIPC2 Q:$G(OUT)="Y"
"RTN","ONCIPC0",30,0)
 .D ^ONCIPC3 Q:$G(OUT)="Y"
"RTN","ONCIPC0",31,0)
 .D ^ONCIPC4 Q:$G(OUT)="Y"
"RTN","ONCIPC0",32,0)
 .D ^ONCIPC5 Q:$G(OUT)="Y"
"RTN","ONCIPC0",33,0)
 .D ^ONCIPC6 Q:$G(OUT)="Y"
"RTN","ONCIPC0",34,0)
 S SUB="^ONCIPC"_Y D @SUB G MENU
"RTN","ONCIPC0",35,0)
ERRMSG ;Error message
"RTN","ONCIPC0",36,0)
 I ONCOANS=5 W !!,?8,"This primary does not satisfy the PCE eligibility criteria:",!!,?8,MSG R Z:10
"RTN","ONCIPC0",37,0)
 K MSG Q
"RTN","ONCIPC0",38,0)
HEAD ;PCE HEADER
"RTN","ONCIPC0",39,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCIPC0",40,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCIPC0",41,0)
 S HDL=$L(" 2000 Patient Care Evaluation Study of Primary Intracranial & CNS Tumors"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCIPC0",42,0)
 W !,?TAB,"2000 Patient Care Evaluation Study of Primary Intracranial & CNS Tumors",!,DASHES
"RTN","ONCIPC0",43,0)
 Q
"RTN","ONCIPC0",44,0)
EXIT ;Kill Variables and Exit.
"RTN","ONCIPC0",45,0)
 K HDL,ONCONUM,ONCOPA,OUT,SUB,TAB,HST
"RTN","ONCIPC0",46,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCIPC0",47,0)
 Q
"RTN","ONCIPC1")
0^96^B21514647
"RTN","ONCIPC1",1,0)
ONCIPC1 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;01/06/00
"RTN","ONCIPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC1",3,0)
 ;Patient Information
"RTN","ONCIPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCIPC1",5,0)
 S TABLE("1. FACILITY ID NUMBER (FIN)")="FIN"
"RTN","ONCIPC1",6,0)
 S TABLE("2. ACCESSION NUMBER")="ACC"
"RTN","ONCIPC1",7,0)
 S TABLE("3. SEQUENCE NUMBER")="SEQ"
"RTN","ONCIPC1",8,0)
 S TABLE("4. POSTAL CODE AT DIAGNOSIS")="PCD"
"RTN","ONCIPC1",9,0)
 S TABLE("5. DATE OF BIRTH")="DOB"
"RTN","ONCIPC1",10,0)
 S TABLE("6. RACE")="RACE"
"RTN","ONCIPC1",11,0)
 S TABLE("7. SPANISH ORIGIN")="SO"
"RTN","ONCIPC1",12,0)
 S TABLE("8. SEX")="SEX"
"RTN","ONCIPC1",13,0)
 S TABLE("9. HANDEDNESS")="HAND"
"RTN","ONCIPC1",14,0)
 S TABLE("10. PRIOR EXPOSURE TO RADIATION")="PER"
"RTN","ONCIPC1",15,0)
 S TABLE("11. PRIMARY PAYER AT DIAGNOSIS")="PPD"
"RTN","ONCIPC1",16,0)
 S TABLE("12. PRIOR MEDICAL CONDITIONS")="PMC"
"RTN","ONCIPC1",17,0)
 S TABLE("13. PERSONAL HISTORY OF OTHER CANCER")="PHC"
"RTN","ONCIPC1",18,0)
 S TABLE("14. GENETIC PREDISPOSITION")="GP"
"RTN","ONCIPC1",19,0)
 S TABLE("15. USUAL OCCUPATION")="UO"
"RTN","ONCIPC1",20,0)
 S TABLE("16. USUAL INDUSTRY")="UI"
"RTN","ONCIPC1",21,0)
 S HTABLE(1)=" 1. FACILITY ID NUMBER (FIN)"
"RTN","ONCIPC1",22,0)
 S HTABLE(2)=" 2. ACCESSION NUMBER"
"RTN","ONCIPC1",23,0)
 S HTABLE(3)=" 3. SEQUENCE NUMBER"
"RTN","ONCIPC1",24,0)
 S HTABLE(4)=" 4. POSTAL CODE AT DIAGNOSIS"
"RTN","ONCIPC1",25,0)
 S HTABLE(5)=" 5. DATE OF BIRTH"
"RTN","ONCIPC1",26,0)
 S HTABLE(6)=" 6. RACE"
"RTN","ONCIPC1",27,0)
 S HTABLE(7)=" 7. SPANISH ORIGIN"
"RTN","ONCIPC1",28,0)
 S HTABLE(8)=" 8. SEX"
"RTN","ONCIPC1",29,0)
 S HTABLE(9)=" 9. HANDEDNESS"
"RTN","ONCIPC1",30,0)
 S HTABLE(10)="10. PRIOR EXPOSURE TO RADIATION"
"RTN","ONCIPC1",31,0)
 S HTABLE(11)="11. PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCIPC1",32,0)
 S HTABLE(12)="12. PRIOR MEDICAL CONDITIONS"
"RTN","ONCIPC1",33,0)
 S HTABLE(13)="13. PERSONAL HISTORY OF OTHER CANCER"
"RTN","ONCIPC1",34,0)
 S HTABLE(14)="14. GENETIC PREDISPOSITION"
"RTN","ONCIPC1",35,0)
 S HTABLE(15)="15. USUAL OCCUPATION"
"RTN","ONCIPC1",36,0)
 S HTABLE(16)="16. USUAL INDUSTRY"
"RTN","ONCIPC1",37,0)
 S CHOICES=16
"RTN","ONCIPC1",38,0)
 S IE=ONCONUM
"RTN","ONCIPC1",39,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCIPC1",40,0)
 W @IOF D HEAD^ONCIPC0
"RTN","ONCIPC1",41,0)
 W !," PATIENT INFORMATION"
"RTN","ONCIPC1",42,0)
 W !," -------------------"
"RTN","ONCIPC1",43,0)
FIN W !,"  1. FACILITY ID NUMBER (FIN)......: ",$$IIN^ONCFUNC
"RTN","ONCIPC1",44,0)
ACC W !,"  2. ACCESSION NUMBER..............: ",$$GET1^DIQ(165.5,IE,.05)
"RTN","ONCIPC1",45,0)
SEQ W !,"  3. SEQUENCE NUMBER...............: ",$$GET1^DIQ(165.5,IE,.06)
"RTN","ONCIPC1",46,0)
PCD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC1",47,0)
 S DR="9  4. POSTAL CODE AT DIAGNOSIS......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",48,0)
DOB W !,"  5. DATE OF BIRTH.................: ",DOB
"RTN","ONCIPC1",49,0)
RACE S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCIPC1",50,0)
 S DR="8  6. RACE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",51,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCIPC1",52,0)
 S DR="9  7. SPANISH ORIGIN................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",53,0)
SEX S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCIPC1",54,0)
 S DR="10  8. SEX..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",55,0)
HAND S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC1",56,0)
 S DR="1200  9. HANDEDNESS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",57,0)
PER S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC1",58,0)
 S DR="403 10. PRIOR EXPOSURE TO RADIATION..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",59,0)
PPD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC1",60,0)
 S DR="18 11. PRIMARY PAYER AT DIAGNOSIS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",61,0)
PMC W !!," 12. PRIOR MEDICAL CONDITIONS:"
"RTN","ONCIPC1",62,0)
 S DR="1201      HYPERTENSION................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",63,0)
 S DR="1202      MULTIPLE SCLEROSIS (MS)......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",64,0)
 S DR="1203      DIABETES....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",65,0)
 S DR="354      MYOCARDIAL INFARCTION (MI)..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",66,0)
 S DR="1204      CEREBROVASCULAR DISEASE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",67,0)
PHC W !!," 13. PERSONAL HISTORY OF OTHER CANCER:"
"RTN","ONCIPC1",68,0)
 S DR="1205      BRAIN........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",69,0)
 S DR="1206      BREAST......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",70,0)
 S DR="1207      PROSTATE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",71,0)
 S DR="1208      MALIGNANT MELANOMA..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",72,0)
 S DR="1209      OTHER SKIN CANCER............" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",73,0)
 S DR="1210      LEUKEMIA....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",74,0)
 S DR="1211      COLON OR OTHER GI CANCERS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",75,0)
 S DR="1212      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",76,0)
GP W !!," 14. GENETIC PREDISPOSITION:"
"RTN","ONCIPC1",77,0)
 S DR="1213      NEUROFIBROMATOSIS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",78,0)
 S DR="1214      VON HIPPEL-LINDAU DISEASE...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",79,0)
 S DR="1215      TUBEROUS SCLEROSIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",80,0)
 S DR="1216      TURCOT SYNDROME.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",81,0)
 S DR="1217      LI-FRAUMENI SYNDROME........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",82,0)
 S DR="1218      KOWDEN DISEASE..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",83,0)
 S DR="1219      NEVOID BASAL CELL CARCINOMA.." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC1",84,0)
UO W !!," 15. USUAL OCCUPATION..............: ",$$OCCUP^ONCACDU1(ONCOPA)
"RTN","ONCIPC1",85,0)
UI W !," 16. USUAL INDUSTRY................: ",$$IND^ONCACDU1(ONCOPA)
"RTN","ONCIPC1",86,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC1",87,0)
 G EXIT
"RTN","ONCIPC1",88,0)
JUMP ;Jump to prompts
"RTN","ONCIPC1",89,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCIPC1",90,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC1",91,0)
 I X["?" D  G JUMP
"RTN","ONCIPC1",92,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC1",93,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC1",94,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC1",95,0)
 S X=TABLE(X)
"RTN","ONCIPC1",96,0)
 G @X
"RTN","ONCIPC1",97,0)
EXIT K DOB,CHOICES,HTABLE,IE,TABLE
"RTN","ONCIPC1",98,0)
 K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCIPC1",99,0)
 Q
"RTN","ONCIPC2")
0^97^B39154587
"RTN","ONCIPC2",1,0)
ONCIPC2 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;01/18/00
"RTN","ONCIPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC2",3,0)
 ;Tumor Identification
"RTN","ONCIPC2",4,0)
 K TABLE,HTABLE
"RTN","ONCIPC2",5,0)
 S TABLE("17. CLASS OF CASE")="CC^ONCIPC2"
"RTN","ONCIPC2",6,0)
 S TABLE("18. SYMPTOMS")="SYM^ONCIPC2"
"RTN","ONCIPC2",7,0)
 S TABLE("19. NEUROLOGICAL FINDINGS")="NF^ONCIPC2"
"RTN","ONCIPC2",8,0)
 S TABLE("20. PRE-THERAPY DIAGNOSTIC STUDIES")="PTDS^ONCIPC2A"
"RTN","ONCIPC2",9,0)
 S TABLE("21. TUMOR LOCATION/INVOLVEMENT")="TLI^ONCIPC2A"
"RTN","ONCIPC2",10,0)
 S TABLE("22. SIDE")="SIDE^ONCIPC2A"
"RTN","ONCIPC2",11,0)
 S TABLE("23. NUMBER OF TUMORS")="NT^ONCIPC2A"
"RTN","ONCIPC2",12,0)
 S TABLE("24. DATE OF FIRST SYMPTOMS")="DFS^ONCIPC2A"
"RTN","ONCIPC2",13,0)
 S TABLE("25. DATE OF INITIAL DIAGNOSIS")="DID^ONCIPC2A"
"RTN","ONCIPC2",14,0)
 S TABLE("26. DATE OF PATHOLOGIC DIAGNOSIS")="DPD^ONCIPC2A"
"RTN","ONCIPC2",15,0)
 S TABLE("27. PRIMARY SITE (ICD-O-2)")="PS^ONCIPC2A"
"RTN","ONCIPC2",16,0)
 S TABLE("28. WHO HISTOLOGICAL CLASSIFICATION OF TUMOR")="WHCT^ONCIPC2A"
"RTN","ONCIPC2",17,0)
 S TABLE("29. BEHAVIOR CODE (ICD-O-2)")="BC^ONCIPC2A"
"RTN","ONCIPC2",18,0)
 S TABLE("30. GRADE")="GRADE^ONCIPC2A"
"RTN","ONCIPC2",19,0)
 S TABLE("31. DIAGNOSTIC CONFIRMATION")="DC^ONCIPC2A"
"RTN","ONCIPC2",20,0)
 S TABLE("32. MOLECULAR MARKERS")="MM^ONCIPC2A"
"RTN","ONCIPC2",21,0)
 S TABLE("33. TUMOR SIZE")="TS^ONCIPC2A"
"RTN","ONCIPC2",22,0)
 S TABLE("34. TUMOR SIZE (SOURCE")="TSS^ONCIPC2A"
"RTN","ONCIPC2",23,0)
 S TABLE("35. KARNOFSKY'S RATING PRIOR TO THERAPY")="KRPT^ONCIPC2A"
"RTN","ONCIPC2",24,0)
 S HTABLE(1)="17. CLASS OF CASE"
"RTN","ONCIPC2",25,0)
 S HTABLE(2)="18. SYMPTOMS"
"RTN","ONCIPC2",26,0)
 S HTABLE(3)="19. NEUROLOGICAL FINDINGS"
"RTN","ONCIPC2",27,0)
 S HTABLE(4)="20. PRE-THERAPY DIAGNOSTIC STUDIES"
"RTN","ONCIPC2",28,0)
 S HTABLE(5)="21. TUMOR LOCATION/INVOLVEMENT"
"RTN","ONCIPC2",29,0)
 S HTABLE(6)="22. SIDE"
"RTN","ONCIPC2",30,0)
 S HTABLE(7)="23. NUMBER OF TUMORS"
"RTN","ONCIPC2",31,0)
 S HTABLE(8)="24. DATE OF FIRST SYMPTOMS"
"RTN","ONCIPC2",32,0)
 S HTABLE(9)="25. DATE OF INITIAL DIAGNOSIS"
"RTN","ONCIPC2",33,0)
 S HTABLE(10)="26. DATE OF PATHOLOGIC DIAGNOSIS"
"RTN","ONCIPC2",34,0)
 S HTABLE(11)="27. PRIMARY SITE (ICD-O-2)"
"RTN","ONCIPC2",35,0)
 S HTABLE(12)="28. WHO HISTOLOGICAL CLASSIFICATION OF TUMOR"
"RTN","ONCIPC2",36,0)
 S HTABLE(13)="29. BEHAVIOR CODE (ICD-O-2)"
"RTN","ONCIPC2",37,0)
 S HTABLE(14)="30. GRADE"
"RTN","ONCIPC2",38,0)
 S HTABLE(15)="31. DIAGNOSTIC CONFIRMATION"
"RTN","ONCIPC2",39,0)
 S HTABLE(16)="32. MOLECULAR MARKERS"
"RTN","ONCIPC2",40,0)
 S HTABLE(17)="33. TUMOR SIZE"
"RTN","ONCIPC2",41,0)
 S HTABLE(18)="34. TUMOR SIZE (SOURCE)"
"RTN","ONCIPC2",42,0)
 S HTABLE(19)="35. KARNOFSKY'S RATING PRIOR TO THERAPY"
"RTN","ONCIPC2",43,0)
 S CHOICES=19
"RTN","ONCIPC2",44,0)
 S IE=ONCONUM
"RTN","ONCIPC2",45,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC2",46,0)
 W @IOF D HEAD^ONCIPC0
"RTN","ONCIPC2",47,0)
 W !," TUMOR IDENTIFICATION"
"RTN","ONCIPC2",48,0)
 W !," --------------------"
"RTN","ONCIPC2",49,0)
CC W !," 17. CLASS OF CASE.................: ",$$GET1^DIQ(165.5,IE,.04)
"RTN","ONCIPC2",50,0)
 W !
"RTN","ONCIPC2",51,0)
SYM W !," 18. SYMPTOMS:"
"RTN","ONCIPC2",52,0)
 S DR="1220      HEADACHE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",53,0)
 S DR="1221      NAUSEA/VOMITING.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",54,0)
 S DR="1222      CHANGE IN SENSE OF SMELL AND/                                                    OR TASTE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",55,0)
 S DR="1223      ALTERED ALERTNESS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",56,0)
 S DR="1224      FATIGUE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",57,0)
 S DR="1225      SPEECH DISTURBANCE..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",58,0)
 S DR="1226      PERSONALITY CHANGES.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",59,0)
 S DR="1227      DEPRESSION..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",60,0)
 S DR="1228      MEMORY LOSS.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",61,0)
 S DR="1229      LACK OF CONCENTRATION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",62,0)
 S DR="1230      DOUBLE VISION................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",63,0)
 S DR="1231      OTHER VISUAL DISTURBANCE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",64,0)
 S DR="1232      DECREASED HEARING............" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",65,0)
 S DR="1233      VERTIGO......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",66,0)
 S DR="1234      TINNITUS....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",67,0)
 S DR="1235      NUMBNESS/TINGLING............" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",68,0)
 S DR="1236      WEAKNESS OR PARALYSIS........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",69,0)
 S DR="1237      DIFFICULTY IN COORDINATION/                                                      BALANCE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",70,0)
 S DR="1238      GENERALIZED SEIZURE.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",71,0)
 S DR="1239      FOOD SEIZURE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",72,0)
 S DR="1240      BLADDER INCONTINENCE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",73,0)
 S DR="1241      BOWEL INCONTINENCE..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",74,0)
 S DR="1242      PAIN (OTHER THAN HEADACHE)..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",75,0)
 S DR="1243      WEIGHT CHANGE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",76,0)
 S DR="1244      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",77,0)
 W !
"RTN","ONCIPC2",78,0)
NF W !," 19. NEUROLOGICAL FINDINGS:"
"RTN","ONCIPC2",79,0)
 S DR="1245      ALERTNESS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",80,0)
 S DR="1246      SPEECH......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",81,0)
 S DR="1247      PERSONALITY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",82,0)
 S DR="1248      MEMORY OR JUDGEMENT.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",83,0)
 S DR="1249      VISUAL ACUITY................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",84,0)
 S DR="1250      VISUAL FIELDS................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",85,0)
 S DR="1251      EYE MOVEMENTS (EOM).........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",86,0)
 S DR="1252      FACIAL SENSATION............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",87,0)
 S DR="1253      FACIAL MOVEMENT.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",88,0)
 S DR="1254      HEARING......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",89,0)
 S DR="1255      GAG REFLEX..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",90,0)
 S DR="1256      STERNOCLEIDOMASTOID/SHOULDER                                                     SHRUG STRENGTH.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",91,0)
 S DR="1257      ARTICULATION OR ENUNCIATION.." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",92,0)
 S DR="1258      PAPILLEDEMA.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",93,0)
 S DR="1259      TONGUE FASCICULATIONS OR                                                         ATROPHY....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",94,0)
 S DR="1260      DECREASE IN SENSATION OF ANY                                                     SITE........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",95,0)
 S DR="1261      CORTICAL SENSORY DEFICIT....." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",96,0)
 S DR="1262      WEAKNESS, ATROPHY OR FASCICULATION                                               OF ANY SITE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",97,0)
 S DR="1263      ATAXIA OF GAIT..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",98,0)
 S DR="1264      TRUNCAL ATAXIA..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",99,0)
 S DR="1265      DYSMETRIA...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",100,0)
 S DR="1266      RAPID ALTERNATING MOVEMENTS.." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",101,0)
 S DR="1267      FINGER TO FINGER NOSE TESTING" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",102,0)
 S DR="1268      HEEL TO KNEE TO SHIN TESTING." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",103,0)
 S DR="1269      DEEP TENDON REFLEXES IN UPPER                                                    EXTREMITIES................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",104,0)
 S DR="1270      DEEP TENDON REFLEXES IN LOWER                                                    EXTREMITIES................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",105,0)
 S DR="1271      BABINSKI SIGN................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",106,0)
 S DR="1272      HOFFMAN REFLEX..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",107,0)
 S DR="1273      OTHER ABNORMAL REFLEXES......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2",108,0)
 W !
"RTN","ONCIPC2",109,0)
 G ^ONCIPC2A
"RTN","ONCIPC2",110,0)
JUMP ;Jump to prompts
"RTN","ONCIPC2",111,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCIPC2",112,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC2",113,0)
 I X["?" D  G JUMP
"RTN","ONCIPC2",114,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC2",115,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC2",116,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC2",117,0)
 S X=TABLE(X)
"RTN","ONCIPC2",118,0)
 G @X
"RTN","ONCIPC2",119,0)
EXIT K CHOICES,HTABLE,IE,TABLE
"RTN","ONCIPC2",120,0)
 K DID,DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCIPC2",121,0)
 Q
"RTN","ONCIPC2A")
0^98^B15090103
"RTN","ONCIPC2A",1,0)
ONCIPC2A ;HINES OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;01/18/00
"RTN","ONCIPC2A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC2A",3,0)
 ;Tumor Identification (continued)
"RTN","ONCIPC2A",4,0)
PTDS W !," 20. PRE-THERAPY DIAGNOSTIC STUDIES:"
"RTN","ONCIPC2A",5,0)
 S DR="1274      ANGIOGRAPHY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",6,0)
 S DR="1275      CT SCAN OF BRAIN............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",7,0)
 S DR="1276      CT SCAN OF SPINE............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",8,0)
 S DR="1277      EEG.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",9,0)
 S DR="1278      ISOTOPE BRAIN SCAN..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",10,0)
 S DR="1279      PET SCAN....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",11,0)
 S DR="1280      SPECT SCAN..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",12,0)
 S DR="1281      MRI OF BRAIN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",13,0)
 S DR="1282      MRI OF SPINE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",14,0)
 S DR="1283      FUNCTIONAL MRI..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",15,0)
 S DR="1284      MYELOGRAPHY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",16,0)
 S DR="1285      MRS.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",17,0)
TLI W !!," 21. TUMOR LOCATION/INVOLVEMENT:"
"RTN","ONCIPC2A",18,0)
 S DR="1286      FRONTAL LOBE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",19,0)
 S DR="1287      TEMPORAL LOBE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",20,0)
 S DR="1288      PARIETAL LOBE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",21,0)
 S DR="1289      OCCIPITAL LOBE..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",22,0)
 S DR="1290      OPTIC NERVES................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",23,0)
 S DR="1291      PITUITARY GLAND.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",24,0)
 S DR="1292      PINEAL GLAND................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",25,0)
 S DR="1293      CEREBELLUM..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",26,0)
 S DR="1294      BRAIN STEM..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",27,0)
 S DR="1295      SKULL BASE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",28,0)
 S DR="1296      OTHER SKULL.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",29,0)
 S DR="1297      SPINAL CORD.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",30,0)
 S DR="1298      CEREBRAL SPINAL FLUID (CSF).." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",31,0)
 S DR="1299      CRANIAL MENINGES............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",32,0)
 S DR="1300      SPINAL MENINGES.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",33,0)
 S DR="1301      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",34,0)
SIDE W !!," 22. SIDE:"
"RTN","ONCIPC2A",35,0)
 S DR="1302      LEFT........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",36,0)
 S DR="1303      RIGHT........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",37,0)
 S DR="1304      MIDLINE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",38,0)
NT W !
"RTN","ONCIPC2A",39,0)
 S DR="1305 23. NUMBER OF TUMORS.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",40,0)
DFS S DR="1306 24. DATE OF FIRST SYMPTOMS........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",41,0)
DID S IDX=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCIPC2A",42,0)
 W !," 25. DATE OF INITIAL DIAGNOSIS.....: ",IDX
"RTN","ONCIPC2A",43,0)
DPD S DR="1307 26. DATE OF PATHOLOGIC DIAGNOSIS.." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",44,0)
PS W !," 27. PRIMARY SITE (ICD-O-2)........: ",$$GET1^DIQ(165.5,IE,20.1)
"RTN","ONCIPC2A",45,0)
WHCT S DR="1308 28. WHO HISTOLOGICAL CLASSIFICATION                                                  OF TUMOR....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",46,0)
BC W !," 29. BEHAVIOR CODE (ICD-O-2).......: ",$E($$GET1^DIQ(165.5,IE,22,"I"),5)
"RTN","ONCIPC2A",47,0)
GRADE S DR="24 30. GRADE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",48,0)
DC W !," 31. DIAGNOSTIC CONFIRMAITON.......: ",$$GET1^DIQ(165.5,IE,26)
"RTN","ONCIPC2A",49,0)
MM S DR="1309 32. MOLECULAR MARKERS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",50,0)
TS S DR="1394 33. TUMOR SIZE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",51,0)
 I X=999 D  G KRPT
"RTN","ONCIPC2A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"CNS2"),U,25)=0
"RTN","ONCIPC2A",53,0)
 .W !," 34. TUMOR SIZE (SOURCE)...........: Size not recorded"
"RTN","ONCIPC2A",54,0)
TSS S DR="1310 34. TUMOR SIZE (SOURCE)..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",55,0)
KRPT S DR="1311 35. KARNOFSKY'S RATING PRIOR TO                                                      THERAPY......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC2A",56,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC2A",57,0)
 G EXIT
"RTN","ONCIPC2A",58,0)
JUMP ;Jump to prompts
"RTN","ONCIPC2A",59,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCIPC2A",60,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC2A",61,0)
 I X["?" D  G JUMP
"RTN","ONCIPC2A",62,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC2A",63,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC2A",64,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC2A",65,0)
 S X=TABLE(X)
"RTN","ONCIPC2A",66,0)
 G @X
"RTN","ONCIPC2A",67,0)
EXIT G EXIT^ONCIPC2
"RTN","ONCIPC3")
0^99^B30435995
"RTN","ONCIPC3",1,0)
ONCIPC3 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;03/10/00
"RTN","ONCIPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC3",3,0)
 ;First Course of Treatment
"RTN","ONCIPC3",4,0)
 K TABLE,HTABLE
"RTN","ONCIPC3",5,0)
 S TABLE("36. PROTOCOL PARTICIPATION")="PP^ONCIPC3"
"RTN","ONCIPC3",6,0)
 S TABLE("37. PROTOCOL PHASE")="PPH^ONCIPC3"
"RTN","ONCIPC3",7,0)
 S TABLE("38. DATE OF FIRST COURSE TREATMENT")="DFCT^ONCIPC3"
"RTN","ONCIPC3",8,0)
 S TABLE("39. DATE OF INPATIENT ADMISSION")="DIA^ONCIPC3"
"RTN","ONCIPC3",9,0)
 S TABLE("40. DATE OF INPATIENT DISCHARGE")="DID^ONCIPC3"
"RTN","ONCIPC3",10,0)
 S TABLE("SURGERY")="S^ONCIPC3A"
"RTN","ONCIPC3",11,0)
 S TABLE("41. DATE OF NON CA-DIRECTED SURGERY")="DNCDS^ONCIPC3A"
"RTN","ONCIPC3",12,0)
 S TABLE("42. DIAGNOSTIC/EVALUATIVE/PALLIATIVE (NON CA-DIRECTED) SURGERY")="DEPS^ONCIPC3A"
"RTN","ONCIPC3",13,0)
 S TABLE("43. DATE OF CA-DIRECTED SURGERY")="DCDS^ONCIPC3A"
"RTN","ONCIPC3",14,0)
 S TABLE("44. SURGICAL APPROACH")="SA^ONCIPC3A"
"RTN","ONCIPC3",15,0)
 S TABLE("45. EXTENT OF SURGICAL RESECTION")="ESR^ONCIPC3A"
"RTN","ONCIPC3",16,0)
 S TABLE("46. SIZE OF RESIDUAL PRIMARY TUMOR FOLLOWING CA-DIRECTED SURGERY")="SRPT^ONCIPC3A"
"RTN","ONCIPC3",17,0)
 S TABLE("47. SIZE OF RESIDUAL PRIMARY TUMOR FOLLOWING CA-DIRECTED SURGERY (SOURCE)")="SRPTS^ONCIPC3A"
"RTN","ONCIPC3",18,0)
 S TABLE("48. SURGICAL COMPLICATIONS/POST SURGICAL EVENTS")="SCPSE^ONCIPC3A"
"RTN","ONCIPC3",19,0)
 S TABLE("49. REASON FOR NO SURGERY")="RFNS^ONCIPC3A"
"RTN","ONCIPC3",20,0)
 S TABLE("RADIATION THERAPY")="RT^ONCIPC3B"
"RTN","ONCIPC3",21,0)
 S TABLE("50. RADIATION THERAPY")="RT^ONCIPC3B"
"RTN","ONCIPC3",22,0)
 S TABLE("51. DATE RADIATION STARTED")="DRS^ONCIPC3B"
"RTN","ONCIPC3",23,0)
 S TABLE("52. DATE RADIATION ENDED")="DRE^ONCIPC3B"
"RTN","ONCIPC3",24,0)
 S TABLE("53. TOTAL RADIATION DOSE (cGy)")="TRD^ONCIPC3B"
"RTN","ONCIPC3",25,0)
 S TABLE("54. NUMBER OF TREATMENTS TO THIS VOLUME")="NTTV^ONCIPC3B"
"RTN","ONCIPC3",26,0)
 S TABLE("55. TYPE OF EXTERNAL BEAM RADIATION")="TEBR^ONCIPC3B"
"RTN","ONCIPC3",27,0)
 S TABLE("56. INTERSTITIAL RADIATION/BRACHYTHERAPY")="IRB^ONCIPC3B"
"RTN","ONCIPC3",28,0)
 S TABLE("57. STEREOTACTIC RADIOSURGERY")="SR^ONCIPC3B"
"RTN","ONCIPC3",29,0)
 S TABLE("58. RADIATION/SURGERY SEQUENCE")="RSS^ONCIPC3B"
"RTN","ONCIPC3",30,0)
 S TABLE("59. RADIATION COMPLICATIONS")="RC^ONCIPC3B"
"RTN","ONCIPC3",31,0)
 S TABLE("60. REASON FOR NO RADIATION")="RFNR^ONCIPC3B"
"RTN","ONCIPC3",32,0)
 S TABLE("CHEMOTHERAPY")="C^ONCIPC3C"
"RTN","ONCIPC3",33,0)
 S TABLE("61. DATE CHEMOTHERAPY STARTED")="DCS^ONCIPC3C"
"RTN","ONCIPC3",34,0)
 S TABLE("62. CHEMOTHERAPY")="CT^ONCIPC3C"
"RTN","ONCIPC3",35,0)
 S TABLE("63. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED")="TCAA^ONCIPC3C"
"RTN","ONCIPC3",36,0)
 S TABLE("64. CHEMOTHERAPEUTIC ROUTE")="CR^ONCIPC3C"
"RTN","ONCIPC3",37,0)
 S TABLE("65. CHEMOTHERAPY COMPLICATIONS")="CC^ONCIPC3C"
"RTN","ONCIPC3",38,0)
 S TABLE("66. REASON FOR NO CHEMOTHERAPY")="RFNC^ONCIPC3C"
"RTN","ONCIPC3",39,0)
 S TABLE("OTHER THERAPY")="O^ONCIPC3C"
"RTN","ONCIPC3",40,0)
 S TABLE("67. DATE OTHER TREATMENT STARTED")="DOTS^ONCIPC3C"
"RTN","ONCIPC3",41,0)
 S TABLE("68. OTHER TREATMENT")="OT^ONCIPC3C"
"RTN","ONCIPC3",42,0)
 S TABLE("69. KARNOFSKY'S RATING AT TIME OF DISCHARGE/TRANSFER")="KRTDT^ONCIPC3C"
"RTN","ONCIPC3",43,0)
 S HTABLE(1)="36. PROTOCOL PARTICIPATION"
"RTN","ONCIPC3",44,0)
 S HTABLE(2)="37. PROTOCOL PHASE"
"RTN","ONCIPC3",45,0)
 S HTABLE(3)="38. DATE OF FIRST COURSE TREATMENT"
"RTN","ONCIPC3",46,0)
 S HTABLE(4)="39. DATE OF INPATIENT ADMISSION"
"RTN","ONCIPC3",47,0)
 S HTABLE(5)="40. DATE OF INPATIENT DISCHARGE"
"RTN","ONCIPC3",48,0)
 S HTABLE(6)=""
"RTN","ONCIPC3",49,0)
 S HTABLE(7)="SURGERY"
"RTN","ONCIPC3",50,0)
 S HTABLE(8)=""
"RTN","ONCIPC3",51,0)
 S HTABLE(9)="41. DATE OF NON CA-DIRECTED SURGERY"
"RTN","ONCIPC3",52,0)
 S HTABLE(10)="42. DIAGNOSTIC/EVALUATIVE/PALLIATIVE (NON CA-DIRECTED) SURGERY"
"RTN","ONCIPC3",53,0)
 S HTABLE(11)="43. DATE OF CA-DIRECTED SURGERY"
"RTN","ONCIPC3",54,0)
 S HTABLE(12)="44. SURGICAL APPROACH"
"RTN","ONCIPC3",55,0)
 S HTABLE(13)="45. EXTENT OF SURGICAL RESECTION"
"RTN","ONCIPC3",56,0)
 S HTABLE(14)="46. SIZE OF RESIDUAL PRIMARY TUMOR FOLLOWING CA-DIRECTED SURGERY"
"RTN","ONCIPC3",57,0)
 S HTABLE(15)="47. SIZE OF RESIDUAL PRIMARY TUMOR FOLLOWING CA-DIRECTED SURGERY (SOURCE)"
"RTN","ONCIPC3",58,0)
 S HTABLE(16)="48. SURGICAL COMPLICATIONS/POST SURGICAL EVENTS"
"RTN","ONCIPC3",59,0)
 S HTABLE(17)="49. REASON FOR NO SURGERY"
"RTN","ONCIPC3",60,0)
 S HTABLE(18)="RADIATION THERAPY"
"RTN","ONCIPC3",61,0)
 S HTABLE(19)=""
"RTN","ONCIPC3",62,0)
 S HTABLE(20)="50. RADIATION THERAPY"
"RTN","ONCIPC3",63,0)
 S HTABLE(21)="51. DATE RADIATION STARTED"
"RTN","ONCIPC3",64,0)
 S HTABLE(22)="52. DATE RADIATION ENDED"
"RTN","ONCIPC3",65,0)
 S HTABLE(23)="53. TOTAL RADIATION DOSE (cGy)"
"RTN","ONCIPC3",66,0)
 S HTABLE(24)="54. NUMBER OF TREATMENTS TO THIS VOLUME"
"RTN","ONCIPC3",67,0)
 S HTABLE(25)="55. TYPE OF EXTERNAL BEAM RADIATION"
"RTN","ONCIPC3",68,0)
 S HTABLE(26)="56. INTERSTITIAL RADIATION/BRACHYTHERAPY"
"RTN","ONCIPC3",69,0)
 S HTABLE(27)="57. STEREOTACTIC RADIOSURGERY"
"RTN","ONCIPC3",70,0)
 S HTABLE(28)="58. RADIATION/SURGERY SEQUENCE"
"RTN","ONCIPC3",71,0)
 S HTABLE(29)="59. RADIATION COMPLICATIONS"
"RTN","ONCIPC3",72,0)
 S HTABLE(30)="60. REASON FOR NO RADIATION"
"RTN","ONCIPC3",73,0)
 S HTABLE(31)=""
"RTN","ONCIPC3",74,0)
 S HTABLE(32)="CHEMOTHERAPY"
"RTN","ONCIPC3",75,0)
 S HTABLE(33)=""
"RTN","ONCIPC3",76,0)
 S HTABLE(34)="61. DATE CHEMOTHERAPY STARTED"
"RTN","ONCIPC3",77,0)
 S HTABLE(35)="62. CHEMOTHERAPY"
"RTN","ONCIPC3",78,0)
 S HTABLE(36)="63. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED"
"RTN","ONCIPC3",79,0)
 S HTABLE(37)="64. CHEMOTHERAPEUTIC ROUTE"
"RTN","ONCIPC3",80,0)
 S HTABLE(38)="65. CHEMOTHERAPY COMPLICATIONS"
"RTN","ONCIPC3",81,0)
 S HTABLE(39)="66. REASON FOR NO CHEMOTHERAPY"
"RTN","ONCIPC3",82,0)
 S HTABLE(40)=""
"RTN","ONCIPC3",83,0)
 S HTABLE(41)="OTHER THERAPY"
"RTN","ONCIPC3",84,0)
 S HTABLE(42)=""
"RTN","ONCIPC3",85,0)
 S HTABLE(43)="67. DATE OTHER TREATMENT STARTED"
"RTN","ONCIPC3",86,0)
 S HTABLE(44)="68. OTHER TREATMENT"
"RTN","ONCIPC3",87,0)
 S HTABLE(45)="69. KARNOFSKY'S RATING AT TIME OF DISCHARGE/TRANSFER"
"RTN","ONCIPC3",88,0)
 S CHOICES=45
"RTN","ONCIPC3",89,0)
 S IE=ONCONUM
"RTN","ONCIPC3",90,0)
 W @IOF D HEAD^ONCIPC0
"RTN","ONCIPC3",91,0)
 W !," FIRST COURSE OF TREATMENT"
"RTN","ONCIPC3",92,0)
 W !," -------------------------"
"RTN","ONCIPC3",93,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC3",94,0)
 S NCDS=$$GET1^DIQ(165.5,IE,58.1)
"RTN","ONCIPC3",95,0)
 S CDS=$$GET1^DIQ(165.5,IE,58.2)
"RTN","ONCIPC3",96,0)
 S RAD=$P($G(^ONCO(165.5,IE,3)),U,6)
"RTN","ONCIPC3",97,0)
 S CHE=$P($G(^ONCO(165.5,IE,3)),U,13)
"RTN","ONCIPC3",98,0)
PP S DR="1312 36. PROTOCOL PARTICIPATION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3",99,0)
 I X="00" D  G DFCT
"RTN","ONCIPC3",100,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,28)=0
"RTN","ONCIPC3",101,0)
 .W !," 37. PROTOCOL PHASE................: Not on"
"RTN","ONCIPC3",102,0)
PPH S DR="1313 37. PROTOCOL PHASE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3",103,0)
DFCT W !," 38. DATE OF FIRST COURSE TREATMENT: ",$$GET1^DIQ(165.5,IE,49)
"RTN","ONCIPC3",104,0)
DIA S DR="1 39. DATE OF INPATIENT ADMISSION..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3",105,0)
DID S DR="1.1 40. DATE OF INPATIENT DISCHARGE..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3",106,0)
 G S^ONCIPC3A
"RTN","ONCIPC3",107,0)
JUMP ;Jump to prompts
"RTN","ONCIPC3",108,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME
"RTN","ONCIPC3",109,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC3",110,0)
 I X["?" D  G JUMP
"RTN","ONCIPC3",111,0)
 .W @IOF,!," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I (I=17)!(I=31) W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCIPC3",112,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC3",113,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I (I=17)!(I=31) W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCIPC3",114,0)
 S X=TABLE(X)
"RTN","ONCIPC3",115,0)
 G @X
"RTN","ONCIPC3",116,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC3",117,0)
 K CHOICES,HTABLE,IE,PIECE,TABLE
"RTN","ONCIPC3",118,0)
 K CDS,NCDS,RAD,CHE
"RTN","ONCIPC3",119,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCIPC3",120,0)
 Q
"RTN","ONCIPC3A")
0^100^B55646126
"RTN","ONCIPC3A",1,0)
ONCIPC3A ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;03/10/00
"RTN","ONCIPC3A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC3A",3,0)
 ;First Course of Treatment (continued)
"RTN","ONCIPC3A",4,0)
S W @IOF
"RTN","ONCIPC3A",5,0)
 W !," SURGERY"
"RTN","ONCIPC3A",6,0)
 W !," -------"
"RTN","ONCIPC3A",7,0)
 W !," NON CANCER-DIRECTED SURGERY"
"RTN","ONCIPC3A",8,0)
DNCDS W !!," 41. DATE OF NON CA-DIR SURGERY...: ",$$GET1^DIQ(165.5,IE,58.3)
"RTN","ONCIPC3A",9,0)
DEPS W !!," 42. DIAGNOSTIC/EVALUATIVE/PALLIATIVE (NON CA-DIRECTED) SURGERY:"
"RTN","ONCIPC3A",10,0)
NCDS00 I $E(NCDS,1,2)="00" D   W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF G CDS
"RTN","ONCIPC3A",11,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,29)=1
"RTN","ONCIPC3A",12,0)
 .F PIECE=30:1:40 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=0
"RTN","ONCIPC3A",13,0)
 .W !,"      NONE, NO NON CA-DIRECTED SURGICAL PROCEDURE...: Yes"
"RTN","ONCIPC3A",14,0)
 .W !,"      VENTRICULOSTOMY, OR EXTERNAL VENTRICULAR DRAIN: No"
"RTN","ONCIPC3A",15,0)
 .W !,"      CSF SHUNT, VENTRICULOPERITONEAL...............: No"
"RTN","ONCIPC3A",16,0)
 .W !,"      CSF SHUNT, THIRD VENTRICULOSTOMY..............: No"
"RTN","ONCIPC3A",17,0)
 .W !,"      CSF SHUNT, OTHER..............................: No"
"RTN","ONCIPC3A",18,0)
 .W !,"      STEREOTACTIC BIOPSY...........................: No"
"RTN","ONCIPC3A",19,0)
 .W !,"      OPEN BRAIN BIOPSY.............................: No"
"RTN","ONCIPC3A",20,0)
 .W !,"      OPEN BIOPSY OF SPINAL CORD TUMOR..............: No"
"RTN","ONCIPC3A",21,0)
 .W !,"      LAMINECTOMY FOR SPINAL CORD TUMOR,                                               W/O TUMOR RESECTION, W/O OPENING DURA........: No"
"RTN","ONCIPC3A",22,0)
 .W !,"      LAMINECTOMY FOR SPINAL CORD TUMOR,                                               W/O TUMOR RESECTION, W OPENING DURA..........: No"
"RTN","ONCIPC3A",23,0)
 .W !,"      SURGERY, NOS..................................: No"
"RTN","ONCIPC3A",24,0)
 .W !,"      UNKNOWN IF SURGERY DONE.......................: No"
"RTN","ONCIPC3A",25,0)
NCDS09 I $E(NCDS,1,2)="09" D  W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF G CDS
"RTN","ONCIPC3A",26,0)
 .F PIECE=29:1:39 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3A",27,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,40)=1
"RTN","ONCIPC3A",28,0)
 .W !,"      NONE, NO NON CA-DIRECTED SURGICAL PROCEDURE...: Unknown"
"RTN","ONCIPC3A",29,0)
 .W !,"      VENTRICULOSTOMY, OR EXTERNAL VENTRICULAR DRAIN: Unknown"
"RTN","ONCIPC3A",30,0)
 .W !,"      CSF SHUNT, VENTRICULOPERITONEAL...............: Unknown"
"RTN","ONCIPC3A",31,0)
 .W !,"      CSF SHUNT, THIRD VENTRICULOSTOMY..............: Unknown"
"RTN","ONCIPC3A",32,0)
 .W !,"      CSF SHUNT, OTHER..............................: Unknown"
"RTN","ONCIPC3A",33,0)
 .W !,"      STEREOTACTIC BIOPSY...........................: Unknown"
"RTN","ONCIPC3A",34,0)
 .W !,"      OPEN BRAIN BIOPSY.............................: Unknown"
"RTN","ONCIPC3A",35,0)
 .W !,"      OPEN BIOPSY OF SPINAL CORD TUMOR..............: Unknown"
"RTN","ONCIPC3A",36,0)
 .W !,"      LAMINECTOMY FOR SPINAL CORD TUMOR,                                               W/O TUMOR RESECTION, W/O OPENING DURA........: Unknown"
"RTN","ONCIPC3A",37,0)
 .W !,"      LAMINECTOMY FOR SPINAL CORD TUMOR,                                               W/O TUMOR RESECTION, W OPENING DURA..........: Unknown"
"RTN","ONCIPC3A",38,0)
 .W !,"      SURGERY, NOS..................................: Unknown"
"RTN","ONCIPC3A",39,0)
 .W !,"      UNKNOWN IF SURGERY DONE.......................: Yes"
"RTN","ONCIPC3A",40,0)
 I NCDS'="" D  G DEPS1
"RTN","ONCIPC3A",41,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,29)=0
"RTN","ONCIPC3A",42,0)
 .W !,"      NONE, NO NON CA-DIRECTED                                                         SURGICAL PROCEDURE..........: No"
"RTN","ONCIPC3A",43,0)
 S DR="1314      NONE, NO NON CA-DIRECTED                                                         SURGICAL PROCEDURE.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",44,0)
 I X=1 S NCDS="00" G NCDS00
"RTN","ONCIPC3A",45,0)
 I X=9 S NCDS="09" G NCDS09
"RTN","ONCIPC3A",46,0)
DEPS1 S DR="1315      VENTRICULOSTOMY, OR EXTERNAL                                                     VENTRICULAR DRAIN..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",47,0)
 S DR="1316      CSF SHUNT,                                                                       VENTRICULOPERITONEAL........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",48,0)
 S DR="1317      CSF SHUNT,                                                                       THIRD VENTRICULOSTOMY......." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",49,0)
 S DR="1318      CSF SHUNT,                                                                       OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",50,0)
 S DR="1319      STEREOTACTIC BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",51,0)
 S DR="1320      OPEN BRAIN BIOPSY............" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",52,0)
 S DR="1321      OPEN BIOPSY OF SPINAL CORD                                                       TUMOR......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",53,0)
 S DR="1322      LAMINECTOMY FOR SPINAL CORD TUMOR,                                               W/O TUMOR RESECTION,                                                             W/O OPENING DURA..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",54,0)
 S DR="1323      LAMINECTOMY FOR SPINAL CORD TUMOR,                                               W/O TUMOR RESECTION,                                                             W OPENING DURA............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",55,0)
 S DR="1324      SURGERY, NOS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",56,0)
 S DR="1325      UNKNOWN IF SURGERY DONE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",57,0)
CDS W !!," CANCER-DIRECTED SURGERY",!
"RTN","ONCIPC3A",58,0)
DCDS W !," 43. DATE OF CA-DIRECTED SURGERY...: ",$$GET1^DIQ(165.5,IE,50)
"RTN","ONCIPC3A",59,0)
 I $E(CDS,1,2)="00" D  G RFNS
"RTN","ONCIPC3A",60,0)
 .F PIECE=41,42,44 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=0
"RTN","ONCIPC3A",61,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,43)=998
"RTN","ONCIPC3A",62,0)
 .F PIECE=45,46,47,48,49,50 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=8
"RTN","ONCIPC3A",63,0)
 .S $P(^ONCO(165.5,IE,"BLA2"),U,15)=8
"RTN","ONCIPC3A",64,0)
 .W !," 44. SURGICAL APPROACH.............: None, no ca-directed surgery"
"RTN","ONCIPC3A",65,0)
 .W !," 45. EXTENT OF SURGICAL RESECTION..: None, no surgery performed"
"RTN","ONCIPC3A",66,0)
 .W !," 46. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY.........: NA, surgical treatment not administered"
"RTN","ONCIPC3A",67,0)
 .W !," 47. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY (SOURCE): Size not recorded"
"RTN","ONCIPC3A",68,0)
 .W !!," 48. SURGICAL COMPLICATIONS/POST SURGICAL EVENTS:"
"RTN","ONCIPC3A",69,0)
 .W !,"      ANESTHETIC PROBLEM...........: NA, surgery not performed"
"RTN","ONCIPC3A",70,0)
 .W !,"      HEMORRHAGE AT OPERATIVE SITE.: NA, surgery not performed"
"RTN","ONCIPC3A",71,0)
 .W !,"      SEIZURE......................: NA, surgery not performed"
"RTN","ONCIPC3A",72,0)
 .W !,"      INFECTION(S).................: NA, surgery not performed"
"RTN","ONCIPC3A",73,0)
 .W !,"      DVT (DEEP VENOUS THROMBOSIS..: NA, surgery not performed"
"RTN","ONCIPC3A",74,0)
 .W !,"      PERSISTENT NEUROLOGICAL WORSENING                                                OVER 4 DAYS POST-OP.........: NA, surgery not performed"
"RTN","ONCIPC3A",75,0)
 .W !,"      OTHER........................: NA, surgery not performed"
"RTN","ONCIPC3A",76,0)
 I $E(CDS,1,2)=99 D  G RFNS
"RTN","ONCIPC3A",77,0)
 .F PIECE=41,42 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3A",78,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,43)=999
"RTN","ONCIPC3A",79,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,44)=0
"RTN","ONCIPC3A",80,0)
 .F PIECE=45,46,47,48,49,50 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3A",81,0)
 .S $P(^ONCO(165.5,IE,"BLA2"),U,15)=9
"RTN","ONCIPC3A",82,0)
 .W !," 44. SURGICAL APPROACH.............: Surgical approach unknown"
"RTN","ONCIPC3A",83,0)
 .W !," 45. EXTENT OF SURGICAL RESECTION..: Unknown if surgery performed"
"RTN","ONCIPC3A",84,0)
 .W !," 46. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY.........: Unknown, tumor not evaluated"
"RTN","ONCIPC3A",85,0)
 .W !," 47. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY (SOURCE): Size not recorded"
"RTN","ONCIPC3A",86,0)
 .W !!," 48. SURGICAL COMPLICATIONS/POST SURGICAL EVENTS:"
"RTN","ONCIPC3A",87,0)
 .W !,"      ANESTHETIC PROBLEM...........: Unknown"
"RTN","ONCIPC3A",88,0)
 .W !,"      HEMORRHAGE AT OPERATIVE SITE.: Unknown"
"RTN","ONCIPC3A",89,0)
 .W !,"      SEIZURE......................: Unknown"
"RTN","ONCIPC3A",90,0)
 .W !,"      INFECTION(S).................: Unknown"
"RTN","ONCIPC3A",91,0)
 .W !,"      DVT (DEEP VENOUS THROMBOSIS..: Unknown"
"RTN","ONCIPC3A",92,0)
 .W !,"      PERSISTENT NEUROLOGICAL WORSENING                                                OVER 4 DAYS POST-OP.........: Unknown"
"RTN","ONCIPC3A",93,0)
 .W !,"      OTHER........................: Unknown"
"RTN","ONCIPC3A",94,0)
SA S DR="1326 44. SURGICAL APPROACH............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",95,0)
ESR S DR="1327 45. EXTENT OF SURGICAL RESECTION.." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",96,0)
SRPT S DR="1328 46. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",97,0)
 I (X<1)!(X>997) D  G SCPSE
"RTN","ONCIPC3A",98,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,44)=0
"RTN","ONCIPC3A",99,0)
 .W !," 47. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY (SOURCE): Size not recorded"
"RTN","ONCIPC3A",100,0)
SRPTS S DR="1329 47. SIZE OF RESIDUAL PRIMARY TUMOR                                                   AFTER CA-DIR SURGERY (SOURCE)" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",101,0)
SCPSE W !!," 48. SURGICAL COMPLICATIONS/POST SURGICAL EVENTS:"
"RTN","ONCIPC3A",102,0)
 S DR="1330      ANESTHETIC PROBLEM..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",103,0)
 S DR="1331      HEMORRHAGE AT OPERATIVE SITE." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",104,0)
 S DR="1332      SEIZURE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",105,0)
 S DR="1333      INFECTION(S)................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",106,0)
 S DR="1334      DVT (DEEP VENOUS THROMBOSIS)." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",107,0)
 S DR="1335      PERSISTENT NEUROLOGICAL WORSENING                                                OVER 4 DAYS POST-OP........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",108,0)
 S DR="360      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",109,0)
RFNS W ! S DR="58 49. REASON FOR NO SURGERY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3A",110,0)
RT G RT^ONCIPC3B
"RTN","ONCIPC3A",111,0)
JUMP ;Jump to prompts
"RTN","ONCIPC3A",112,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC3A",113,0)
 I X["?" D  G JUMP
"RTN","ONCIPC3A",114,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCIPC3A",115,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC3A",116,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCIPC3A",117,0)
 S X=TABLE(X)
"RTN","ONCIPC3A",118,0)
 G @X
"RTN","ONCIPC3A",119,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC3A",120,0)
 G EXIT^ONCIPC3
"RTN","ONCIPC3B")
0^101^B19559942
"RTN","ONCIPC3B",1,0)
ONCIPC3B ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;03/10/00
"RTN","ONCIPC3B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC3B",3,0)
 ;First Course of Treatment (continued)
"RTN","ONCIPC3B",4,0)
RT W @IOF
"RTN","ONCIPC3B",5,0)
 W !," RADIATION THERAPY"
"RTN","ONCIPC3B",6,0)
 W !," -----------------"
"RTN","ONCIPC3B",7,0)
 I RAD=0 D  G RFNR
"RTN","ONCIPC3B",8,0)
 .F PIECE=51,52,53,54,60 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=0
"RTN","ONCIPC3B",9,0)
 .S $P(^ONCO(165.5,IE,"BLA2"),U,16)="0000000"
"RTN","ONCIPC3B",10,0)
 .F PIECE=55,56,57,58,59 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=8
"RTN","ONCIPC3B",11,0)
 .W !," 50. RADIATION THERAPY.............: None"
"RTN","ONCIPC3B",12,0)
 .W !," 51. DATE RADIATION STARTED........: ",$$GET1^DIQ(165.5,IE,51)
"RTN","ONCIPC3B",13,0)
 .W !," 52. DATE RADIATION ENDED..........: 00/00/0000"
"RTN","ONCIPC3B",14,0)
 .W !," 53. TOTAL RADIATION DOSE (cGy)....: No radiation administered"
"RTN","ONCIPC3B",15,0)
 .W !," 54. NUMBER OF TREATMENTS TO THIS                                                     VOLUME.......................: ",$$GET1^DIQ(165.5,IE,56)
"RTN","ONCIPC3B",16,0)
 .W !," 55. TYPE OF EXT BEAM RADIATION....: No radiation therapy"
"RTN","ONCIPC3B",17,0)
 .W !," 56. INTERSTITIAL RAD/BRACHYTHERAPY: None, brachytherapy not given"
"RTN","ONCIPC3B",18,0)
 .W !," 57. STEREOTACTIC RADIOSURGERY.....: None, not administered"
"RTN","ONCIPC3B",19,0)
 .W !," 58. RADIATION/SURGERY SEQUENCE....: ",$$GET1^DIQ(165.5,IE,51.3)
"RTN","ONCIPC3B",20,0)
 .W !
"RTN","ONCIPC3B",21,0)
 .W !," 59. RADIATION COMPLICATIONS:"
"RTN","ONCIPC3B",22,0)
 .W !,"      SKIN REACTIONS...............: NA, radiation tx not administered"
"RTN","ONCIPC3B",23,0)
 .W !,"      ANOREXIA.....................: NA, radiation tx not administered"
"RTN","ONCIPC3B",24,0)
 .W !,"      NAUSEA OR VOMITING...........: NA, radiation tx not administered"
"RTN","ONCIPC3B",25,0)
 .W !,"      FATIGUE......................: NA, radiation tx not administered"
"RTN","ONCIPC3B",26,0)
 .W !,"      NEUROLOGIC WORSENING.........: NA, radiation tx not administered"
"RTN","ONCIPC3B",27,0)
 I RAD=9 D  G RFNR
"RTN","ONCIPC3B",28,0)
 .F PIECE=51,52,53,54,60 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3B",29,0)
 .S $P(^ONCO(165.5,IE,"BLA2"),U,16)="9999999"
"RTN","ONCIPC3B",30,0)
 .F PIECE=55,56,57,58,59 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3B",31,0)
 .W !," 50. RADIATION THERAPY.............: Unk, death cert cases only"
"RTN","ONCIPC3B",32,0)
 .W !," 51. DATE RADIATION STARTED........: ",$$GET1^DIQ(165.5,IE,51)
"RTN","ONCIPC3B",33,0)
 .W !," 52. DATE RADIATION ENDED..........: 99/99/9999"
"RTN","ONCIPC3B",34,0)
 .W !," 53. TOTAL RADIATION DOSE (cGy)....: Dose unknown"
"RTN","ONCIPC3B",35,0)
 .W !," 54. NUMBER OF TREATMENTS TO THIS                                                     VOLUME.......................: ",$$GET1^DIQ(165.5,IE,56)
"RTN","ONCIPC3B",36,0)
 .W !," 55. TYPE OF EXT BEAM RADIATION....: Unknown"
"RTN","ONCIPC3B",37,0)
 .W !," 56. INTERSTITIAL RAD/BRACHYTHERAPY: Unknown"
"RTN","ONCIPC3B",38,0)
 .W !," 57. STEREOTACTIC RADIOSURGERY.....: Unknown"
"RTN","ONCIPC3B",39,0)
 .W !," 58. RADIATION/SURGERY SEQUENCE....: ",$$GET1^DIQ(165.5,IE,51.3)
"RTN","ONCIPC3B",40,0)
 .W !
"RTN","ONCIPC3B",41,0)
 .W !," 59. RADIATION COMPLICATIONS:"
"RTN","ONCIPC3B",42,0)
 .W !,"      SKIN REACTIONS...............: Unknown"
"RTN","ONCIPC3B",43,0)
 .W !,"      ANOREXIA.....................: Unknown"
"RTN","ONCIPC3B",44,0)
 .W !,"      NAUSEA OR VOMITING...........: Unknown"
"RTN","ONCIPC3B",45,0)
 .W !,"      FATIGUE......................: Unknown"
"RTN","ONCIPC3B",46,0)
 .W !,"      NEUROLOGIC WORSENING.........: Unknown"
"RTN","ONCIPC3B",47,0)
 S DR="1345 50. RADIATION THERAPY............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",48,0)
DRS W !," 51. DATE RADIATION STARTED........: ",$$GET1^DIQ(165.5,IE,51)
"RTN","ONCIPC3B",49,0)
DRE S DR="361 52. DATE RADIATION ENDED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",50,0)
TRD S DR="1336 53. TOTAL RADIATION DOSE (cGy)...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",51,0)
NTTV S DR="56 54. NUMBER OF TREATMENTS TO THIS                                                     VOLUME...................... " D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",52,0)
TEBR S DR="1337 55. TYPE OF EXT BEAM RADIATION...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",53,0)
IRB S DR="1338 56. INTERSTITIAL RAD/BRACHYTHERAPY" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",54,0)
SR S DR="1339 57. STEREOTACTIC RADIOSURGERY....." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",55,0)
RSS S DR="51.3 58. RADIATION/SURGERY SEQUENCE...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",56,0)
RC W !!," 59. RADIATION COMPLICATIONS:"
"RTN","ONCIPC3B",57,0)
 S DR="1340      SKIN REACTIONS..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",58,0)
 S DR="1341      ANOREXIA....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",59,0)
 S DR="1342      NAUSEA OR VOMITING..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",60,0)
 S DR="1343      FATIGUE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",61,0)
 S DR="1344      NEUROLOGIC WORSENING........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",62,0)
RFNR W ! S DR="75 60. REASON FOR NO RADIATION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3B",63,0)
C G C^ONCIPC3C
"RTN","ONCIPC3B",64,0)
JUMP ;Jump to prompts
"RTN","ONCIPC3B",65,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC3B",66,0)
 I X["?" D  G:$D(DIRUT) EXIT G JUMP
"RTN","ONCIPC3B",67,0)
 .W @IOF,!," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCIPC3B",68,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC3B",69,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCIPC3B",70,0)
 S X=TABLE(X)
"RTN","ONCIPC3B",71,0)
 G @X
"RTN","ONCIPC3B",72,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC3B",73,0)
 G EXIT^ONCIPC3
"RTN","ONCIPC3C")
0^102^B51622848
"RTN","ONCIPC3C",1,0)
ONCIPC3C ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;03/10/00
"RTN","ONCIPC3C",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC3C",3,0)
 ;First Course of Treatment (continued)
"RTN","ONCIPC3C",4,0)
C W @IOF
"RTN","ONCIPC3C",5,0)
 W !," CHEMOTHERAPY"
"RTN","ONCIPC3C",6,0)
 W !," ------------"
"RTN","ONCIPC3C",7,0)
DCS W !," 61. DATE CHEMOTHERAPY STARTED.....: ",$$GET1^DIQ(165.5,IE,53)
"RTN","ONCIPC3C",8,0)
CT W !," 62. CHEMOTHERAPY..................: ",$$GET1^DIQ(165.5,IE,53.2)
"RTN","ONCIPC3C",9,0)
 I (CHE=0)!(CHE=9) W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF
"RTN","ONCIPC3C",10,0)
TCAA W !!," 63. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"
"RTN","ONCIPC3C",11,0)
 I CHE=0 D  G CR
"RTN","ONCIPC3C",12,0)
 .F PIECE=61:1:72 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=8
"RTN","ONCIPC3C",13,0)
 .F PIECE=26,27,31,35,38 S $P(^ONCO(165.5,IE,"BLA2"),U,PIECE)=8
"RTN","ONCIPC3C",14,0)
 .W !,"      PROCARBAZINE.................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",15,0)
 .W !,"      CCNU.........................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",16,0)
 .W !,"      VINCRISTINE..................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",17,0)
 .W !,"      HYDROXYUREA..................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",18,0)
 .W !,"      METHOTREXATE.................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",19,0)
 .W !,"      CISPLATIN....................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",20,0)
 .W !,"      BCNU.........................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",21,0)
 .W !,"      BCNU WAFER IMPLANT...........: NA, chemotherapy not administered"
"RTN","ONCIPC3C",22,0)
 .W !,"      VP-16........................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",23,0)
 .W !,"      CARBOPLATIN..................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",24,0)
 .W !,"      TEMOZOLOMIDE.................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",25,0)
 .W !,"      CYCLOPHOSPHAMIDE.............: NA, chemotherapy not administered"
"RTN","ONCIPC3C",26,0)
 .W !,"      CPT-11.......................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",27,0)
 .W !,"      TAMOXIFEN....................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",28,0)
 .W !,"      INTERFERON...................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",29,0)
 .W !,"      CYTARABINE (ARA-C)...........: NA, chemotherapy not administered"
"RTN","ONCIPC3C",30,0)
 .W !,"      OTHER........................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",31,0)
 I CHE=9 D  G CR
"RTN","ONCIPC3C",32,0)
 .F PIECE=61:1:72 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3C",33,0)
 .F PIECE=26,27,31,35,38 S $P(^ONCO(165.5,IE,"BLA2"),U,PIECE)=9
"RTN","ONCIPC3C",34,0)
 .W !,"      PROCARBAZINE.................: Unknown"
"RTN","ONCIPC3C",35,0)
 .W !,"      CCNU.........................: Unknown"
"RTN","ONCIPC3C",36,0)
 .W !,"      VINCRISTINE..................: Unknown"
"RTN","ONCIPC3C",37,0)
 .W !,"      HYDROXYUREA..................: Unknown"
"RTN","ONCIPC3C",38,0)
 .W !,"      METHOTREXATE.................: Unknown"
"RTN","ONCIPC3C",39,0)
 .W !,"      CISPLATIN....................: Unknown"
"RTN","ONCIPC3C",40,0)
 .W !,"      BCNU.........................: Unknown"
"RTN","ONCIPC3C",41,0)
 .W !,"      BCNU WAFER IMPLANT...........: Unknown"
"RTN","ONCIPC3C",42,0)
 .W !,"      VP-16........................: Unknown"
"RTN","ONCIPC3C",43,0)
 .W !,"      CARBOPLATIN..................: Unknown"
"RTN","ONCIPC3C",44,0)
 .W !,"      TEMOZOLOMIDE.................: Unknown"
"RTN","ONCIPC3C",45,0)
 .W !,"      CYCLOPHOSPHAMIDE.............: Unknown"
"RTN","ONCIPC3C",46,0)
 .W !,"      CPT-11.......................: Unknown"
"RTN","ONCIPC3C",47,0)
 .W !,"      TAMOXIFEN....................: Unknown"
"RTN","ONCIPC3C",48,0)
 .W !,"      INTERFERON...................: Unknown"
"RTN","ONCIPC3C",49,0)
 .W !,"      CYTARABINE (ARA-C)...........: Unknown"
"RTN","ONCIPC3C",50,0)
 .W !,"      OTHER........................: Unknown"
"RTN","ONCIPC3C",51,0)
 S DR="1346      PROCARBAZINE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",52,0)
 S DR="1347      CCNU........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",53,0)
 S DR="1348      VINCRISTINE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",54,0)
 S DR="1349      HYDROXYUREA.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",55,0)
 S DR="376      METHOTREXATE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",56,0)
 S DR="371      CISPLATIN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",57,0)
 S DR="1350      BCNU........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",58,0)
 S DR="1351      BCNU WAFER IMPLANT..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",59,0)
 S DR="1352      VP-16........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",60,0)
 S DR="1353      CARBOPLATIN.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",61,0)
 S DR="1354      TEMOZOLOMIDE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",62,0)
 S DR="372      CYCLOPHOSPHAMIDE............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",63,0)
 S DR="1355      CPT-11......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",64,0)
 S DR="1356      TAMOXIFEN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",65,0)
 S DR="384      INTERFERON..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",66,0)
 S DR="1357      CYTARABINE (ARA-C)..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",67,0)
 S DR="380      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",68,0)
CR W !
"RTN","ONCIPC3C",69,0)
 I CHE=0 D  W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF G CC
"RTN","ONCIPC3C",70,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,73)=8
"RTN","ONCIPC3C",71,0)
 .W !," 64. CHEMOTHERAPEUTIC ROUTE........: NA, chemotherapy not administered"
"RTN","ONCIPC3C",72,0)
 I CHE=9 D  W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF G CC
"RTN","ONCIPC3C",73,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,73)=9
"RTN","ONCIPC3C",74,0)
 .W !," 64. CHEMOTHERAPEUTIC ROUTE........: Unknown"
"RTN","ONCIPC3C",75,0)
 S DR="1358 64. CHEMOTHERAPEUTIC ROUTE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",76,0)
CC W !!," 65. CHEMOTHERAPY COMPLICATIONS:"
"RTN","ONCIPC3C",77,0)
 I CHE=0 D  G RFNC
"RTN","ONCIPC3C",78,0)
 .F PIECE=74:1:82 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=8
"RTN","ONCIPC3C",79,0)
 .W !,"      HEARING LOSS.................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",80,0)
 .W !,"      INFECTION....................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",81,0)
 .W !,"      NAUSEA AND VOMITING REQUIRING                                                   CESSATION OF CHEMOTHERAPY....: NA, chemotherapy not administered"
"RTN","ONCIPC3C",82,0)
 .W !,"      PERIPHERAL BLOOD COUNT DROP/                                                     BLEEDING/CESSATION OF CHEMO-                                                     THERAPY AND/OR TRANSFUSION.: NA, chemotherapy not administered"
"RTN","ONCIPC3C",83,0)
 .W !,"      PERIPHERAL NEUROPATHY........: NA, chemotherapy not administered"
"RTN","ONCIPC3C",84,0)
 .W !,"      RENAL FAILURE................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",85,0)
 .W !,"      PULMONARY TOXICITY...........: NA, chemotherapy not administered"
"RTN","ONCIPC3C",86,0)
 .W !,"      OTHER........................: NA, chemotherapy not administered"
"RTN","ONCIPC3C",87,0)
 I CHE=9 D  G RFNC
"RTN","ONCIPC3C",88,0)
 .F PIECE=74:1:82 S $P(^ONCO(165.5,IE,"CNS2"),U,PIECE)=9
"RTN","ONCIPC3C",89,0)
 .W !,"      HEARING LOSS.................: Unknown"
"RTN","ONCIPC3C",90,0)
 .W !,"      INFECTION....................: Unknown"
"RTN","ONCIPC3C",91,0)
 .W !,"      NAUSEA AND VOMITING REQUIRING                                                   CESSATION OF CHEMOTHERAPY....: Unknown"
"RTN","ONCIPC3C",92,0)
 .W !,"      PERIPHERAL BLOOD COUNT DROP/                                                     BLEEDING/CESSATION OF CHEMO-                                                     THERAPY AND/OR TRANSFUSION.: Unknown"
"RTN","ONCIPC3C",93,0)
 .W !,"      PERIPHERAL NEUROPATHY........: Unknown"
"RTN","ONCIPC3C",94,0)
 .W !,"      RENAL FAILURE................: Unknown"
"RTN","ONCIPC3C",95,0)
 .W !,"      PULMONARY TOXICITY...........: Unknown"
"RTN","ONCIPC3C",96,0)
 .W !,"      OTHER........................: Unknown"
"RTN","ONCIPC3C",97,0)
 S DR="1359      HEARING LOSS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",98,0)
 S DR="1360      INFECTION...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",99,0)
 S DR="1361      NAUSEA AND VOMITING REQUIRING                                                    CESSATION OF CHEMOTHERAPY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",100,0)
 S DR="1362      PERIPHERAL BLOOD COUNT DROP/                                                     BLEEDING/CESSATION OF CHEMO-                                                     THERAPY AND/OR TRANSFUSION." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",101,0)
 S DR="1363      PERIPHERAL NEUROPATHY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",102,0)
 S DR="1364      RENAL FAILURE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",103,0)
 S DR="1365      PULMONARY TOXICITY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",104,0)
 S DR="1366      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",105,0)
RFNC W !
"RTN","ONCIPC3C",106,0)
 S DR="76 66. REASON FOR NO CHEMOTHERAPY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",107,0)
O W @IOF
"RTN","ONCIPC3C",108,0)
 W !," OTHER THERAPY"
"RTN","ONCIPC3C",109,0)
 W !," -------------"
"RTN","ONCIPC3C",110,0)
DOTS W !," 67. DATE OTHER TREATMENT STARTED..: ",$$GET1^DIQ(165.5,IE,57)
"RTN","ONCIPC3C",111,0)
OT W !," 68. OTHER TREATMENT...............: ",$$GET1^DIQ(165.5,IE,57.2)
"RTN","ONCIPC3C",112,0)
KRTDT S DR="1367 69. KARNOFSKY'S RATING AT TIME OF                                                    DISCHARGE/TRANSFER..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC3C",113,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC3C",114,0)
 G EXIT
"RTN","ONCIPC3C",115,0)
JUMP ;Jump to prompts
"RTN","ONCIPC3C",116,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC3C",117,0)
 I X["?" D  G:$D(DIRUT) EXIT G JUMP
"RTN","ONCIPC3C",118,0)
 .W @IOF,!," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCIPC3C",119,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC3C",120,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I) I I=18 W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF,!," CHOOSE FROM:"
"RTN","ONCIPC3C",121,0)
 S X=TABLE(X)
"RTN","ONCIPC3C",122,0)
 G @X
"RTN","ONCIPC3C",123,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC3C",124,0)
 G EXIT^ONCIPC3
"RTN","ONCIPC4")
0^103^B10736683
"RTN","ONCIPC4",1,0)
ONCIPC4 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;03/10/00
"RTN","ONCIPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC4",3,0)
 ;Recurrence/Progression
"RTN","ONCIPC4",4,0)
 K TABLE,HTABLE
"RTN","ONCIPC4",5,0)
 S TABLE("70. DATE OF FIRST RECURRENCE")="DFR"
"RTN","ONCIPC4",6,0)
 S TABLE("71. TYPE OF FIRST RECURRENCE")="TFR"
"RTN","ONCIPC4",7,0)
 S TABLE("72. DATE OF PROGRESSION")="DP"
"RTN","ONCIPC4",8,0)
 S TABLE("73. TYPE OF PROGRESSION")="TP"
"RTN","ONCIPC4",9,0)
 S TABLE("74. RECURRENCE/PROGRESSION DOCUMENTATION")="RPD"
"RTN","ONCIPC4",10,0)
 S TABLE("75. KARNOFSKY'S RATING AT TIME OF RECURRENCE/PROGRESSION")="KRTRP"
"RTN","ONCIPC4",11,0)
 S HTABLE(1)="70. TYPE OF FIRST RECURRENCE"
"RTN","ONCIPC4",12,0)
 S HTABLE(2)="71. DATE OF FIRST RECURRENCE"
"RTN","ONCIPC4",13,0)
 S HTABLE(3)="72. DATE OF PROGRESSION"
"RTN","ONCIPC4",14,0)
 S HTABLE(4)="73. TYPE OF PROGRESSION"
"RTN","ONCIPC4",15,0)
 S HTABLE(5)="74. RECURRENCE/PROGRESSION DOCUMENTATION"
"RTN","ONCIPC4",16,0)
 S HTABLE(6)="75. KARNOFSKY'S RATING AT TIME OF RECURRENCE/PROGRESSION"
"RTN","ONCIPC4",17,0)
 S CHOICES=6
"RTN","ONCIPC4",18,0)
 S IE=ONCONUM
"RTN","ONCIPC4",19,0)
 S TFR=$$GET1^DIQ(165.5,IE,1372,"I")
"RTN","ONCIPC4",20,0)
 S TP=$$GET1^DIQ(165.5,IE,1369,"I")
"RTN","ONCIPC4",21,0)
 W @IOF D HEAD^ONCIPC0
"RTN","ONCIPC4",22,0)
 W !," RECURRENCE/PROGRESSION"
"RTN","ONCIPC4",23,0)
 W !," ---------------------"
"RTN","ONCIPC4",24,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC4",25,0)
DFR S DR="70 70. DATE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC4",26,0)
TFR S DR="1372 71. TYPE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC4",27,0)
DP S DR="1368 72. DATE OF PROGRESSION..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC4",28,0)
TP S DR="1369 73. TYPE OF PROGRESSION..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC4",29,0)
RPD I (TFR=0)&((TP=0)!(TP=8)) D  G KRTRP
"RTN","ONCIPC4",30,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,85)=0
"RTN","ONCIPC4",31,0)
 .W !," 74. RECURRENCE/PROGRESSION                                                           DOCUMENTATION................: No recurrence/progression"
"RTN","ONCIPC4",32,0)
 I (TFR=9)&(TP=9) D  G KRTRP
"RTN","ONCIPC4",33,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,85)=9
"RTN","ONCIPC4",34,0)
 .W !," 74. RECURRENCE/PROGRESSION                                                           DOCUMENTATION................: Unknown"
"RTN","ONCIPC4",35,0)
 S DR="1370 74. RECURRENCE/PROGRESSION                                                           DOCUMENTATION................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC4",36,0)
KRTRP I (TFR=0)&((TP=0)!(TP=8)) D  G PRTC
"RTN","ONCIPC4",37,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,86)=13
"RTN","ONCIPC4",38,0)
 .W !," 75. KARNOFSKY'S RATING AT TIME OF                                                    RECURRENCE/PROGRESSION.......: 888"
"RTN","ONCIPC4",39,0)
 I (TFR=9)&(TP=9) D  G PRTC
"RTN","ONCIPC4",40,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,86)=12
"RTN","ONCIPC4",41,0)
 .W !," 75. KARNOFSKY'S RATING AT TIME OF                                                    RECURRENCE/PROGRESSION.......: 999"
"RTN","ONCIPC4",42,0)
 S DR="1371 75. KARNOFSKY'S RATING AT TIME OF                                                    RECURRENCE/PROGRESSION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC4",43,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC4",44,0)
 G EXIT
"RTN","ONCIPC4",45,0)
JUMP ;Jump to prompts
"RTN","ONCIPC4",46,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCIPC4",47,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC4",48,0)
 I X["?" D  G JUMP
"RTN","ONCIPC4",49,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC4",50,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC4",51,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC4",52,0)
 S X=TABLE(X)
"RTN","ONCIPC4",53,0)
 G @X
"RTN","ONCIPC4",54,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCIPC4",55,0)
 K TFR,TP
"RTN","ONCIPC4",56,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCIPC4",57,0)
 Q
"RTN","ONCIPC5")
0^104^B29479405
"RTN","ONCIPC5",1,0)
ONCIPC5 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;04/26/00
"RTN","ONCIPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC5",3,0)
 ;Subsequent Treatment
"RTN","ONCIPC5",4,0)
 K TABLE,HTABLE
"RTN","ONCIPC5",5,0)
 S TABLE("76. DATE OF SUBSEQUENT TREATMENT FOR RECURRENCE/PROGRESSION")="DSTRP"
"RTN","ONCIPC5",6,0)
 S TABLE("77. PROTOCOL PARTICIPATION (SUBSEQUENT TREATMENT)")="PPST"
"RTN","ONCIPC5",7,0)
 S TABLE("78. TYPE OF SUBSEQUENT SURGICAL TREATMENT FOR RECURRENCE/PROGRESSION")="TSSTRP"
"RTN","ONCIPC5",8,0)
 S TABLE("79. TYPE OF SUBSEQUENT RADIATION TREATMENT FOR RECURRENCE/PROGRESSION")="TSRTRP"
"RTN","ONCIPC5",9,0)
 S TABLE("80. TYPE OF SUBSEQUENT CHEMOTHERAPY FOR RECURRENCE/PROGRESSION")="TSCRP"
"RTN","ONCIPC5",10,0)
 S TABLE("81. OTHER TYPE OF SUBSEQUENT TREATMENT FOR RECURRENCE/PROGRESSION")="OTSRP"
"RTN","ONCIPC5",11,0)
 S HTABLE(1)="76. DATE OF SUBSEQUENT TREATMENT FOR RECURRENCE/PROGRESSION"
"RTN","ONCIPC5",12,0)
 S HTABLE(2)="77. PROTOCOL PARTICIPATION (SUBSEQUENT TREATMENT)"
"RTN","ONCIPC5",13,0)
 S HTABLE(3)="78. TYPE OF SUBSEQUENT SURGICAL TREATMENT FOR RECURRENCE/PROGRESSION"
"RTN","ONCIPC5",14,0)
 S HTABLE(4)="79. TYPE OF SUBSEQUENT RADIATION TREATMENT FOR RECURRENCE/PROGRESSION"
"RTN","ONCIPC5",15,0)
 S HTABLE(5)="80. TYPE OF SUBSEQUENT CHEMOTHERAPY FOR RECURRENCE/PROGRESSION"
"RTN","ONCIPC5",16,0)
 S HTABLE(6)="81. OTHER TYPE OF SUBSEQUENT TREATMENT FOR RECURRENCE/PROGRESSION"
"RTN","ONCIPC5",17,0)
 S CHOICES=6
"RTN","ONCIPC5",18,0)
 S IE=ONCONUM
"RTN","ONCIPC5",19,0)
 S DSTRP="00/00/0000"
"RTN","ONCIPC5",20,0)
 S (SUBSUR,SUBRAD,SUBCHE,SUBOTH)=""
"RTN","ONCIPC5",21,0)
 I $D(^ONCO(165.5,IE,4,0)) S SCTIEN=$O(^ONCO(165.5,IE,4,0))
"RTN","ONCIPC5",22,0)
 I $G(SCTIEN) D
"RTN","ONCIPC5",23,0)
 .S DSTRP=$P(^ONCO(165.5,IE,4,SCTIEN,0),U,1)
"RTN","ONCIPC5",24,0)
 .S Y=DSTRP D DATEOT^ONCOPCE S DSTRP=Y
"RTN","ONCIPC5",25,0)
 .S IENS=SCTIEN_","_IE
"RTN","ONCIPC5",26,0)
 .S SUBSUR=$$GET1^DIQ(165.51,IENS,.04)
"RTN","ONCIPC5",27,0)
 .S SUBRAD=$$GET1^DIQ(165.51,IENS,.05)
"RTN","ONCIPC5",28,0)
 .S SUBCHE=$$GET1^DIQ(165.51,IENS,.06)
"RTN","ONCIPC5",29,0)
 .S SUBOTH=$$GET1^DIQ(165.51,IENS,.09)
"RTN","ONCIPC5",30,0)
 W @IOF D HEAD^ONCIPC0
"RTN","ONCIPC5",31,0)
 W !," SUBSEQUENT TREATMENT"
"RTN","ONCIPC5",32,0)
 W !," --------------------"
"RTN","ONCIPC5",33,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCIPC5",34,0)
DSTRP W !," 76. DATE OF SUBSEQUENT TREATMENT                                                     FOR RECURRENCE/PROGRESSION...: ",DSTRP
"RTN","ONCIPC5",35,0)
PPST I DSTRP="00/00/0000" D  G TSSTRP
"RTN","ONCIPC5",36,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,88)="00"
"RTN","ONCIPC5",37,0)
 .W !," 77. PROTOCOL PARTICIPATION                                                           (SUBSEQUENT TREATMENT).......: Not on"
"RTN","ONCIPC5",38,0)
 S DR="1373 77. PROTOCOL PARTICIPATION                                                           (SUBSEQUENT TREATMENT)......." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",39,0)
TSSTRP I (DSTRP="00/00/0000")!(SUBSUR["None") D  G TSRTRP
"RTN","ONCIPC5",40,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,89)=0
"RTN","ONCIPC5",41,0)
 .W !," 78. TYPE OF SUBSEQUENT SURGICAL TX                                                   FOR RECURRENCE/PROGRESSION...: None, no subsequent surgery"
"RTN","ONCIPC5",42,0)
 S DR="1374 78. TYPE OF SUBSEQUENT SURGICAL TX                                                   FOR RECURRENCE/PROGRESSION..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",43,0)
TSRTRP I (DSTRP="00/00/0000")!(SUBRAD["None") D  W ! K DIR S DIR(0)="E" D ^DIR G:Y=0 EXIT W @IOF D HEAD^ONCIPC0 G TSCRP
"RTN","ONCIPC5",44,0)
 .S $P(^ONCO(165.5,IE,"CNS2"),U,90)=0
"RTN","ONCIPC5",45,0)
 .W !," 79. TYPE OF SUBSEQUENT RADIATION TX                                                  FOR RECURRENCE/PROGRESSION...: None"
"RTN","ONCIPC5",46,0)
 S DR="1375 79. TYPE OF SUBSEQUENT RADIAITON TX                                                  FOR RECURRENCE/PROGRESSION..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",47,0)
 W !
"RTN","ONCIPC5",48,0)
TSCRP W !," 80. TYPE OF SUBSEQUENT CHEMOTHERAPY FOR RECURRENCE/PROGRESSION:"
"RTN","ONCIPC5",49,0)
 I (DSTRP="00/00/0000")!(SUBCHE["None") D  W ! G OTSRP
"RTN","ONCIPC5",50,0)
 .F PIECE=1:1:17 S $P(^ONCO(165.5,IE,"CNS3"),U,PIECE)=8
"RTN","ONCIPC5",51,0)
 .W !
"RTN","ONCIPC5",52,0)
 .W !,"      Chemotherapy not administered"
"RTN","ONCIPC5",53,0)
 .W !
"RTN","ONCIPC5",54,0)
 .W !,"      PROCARBAZINE.......: NA        CARBOPLATIN........: NA"
"RTN","ONCIPC5",55,0)
 .W !,"      CCNU...............: NA        TEMOZOLOMIDE.......: NA"
"RTN","ONCIPC5",56,0)
 .W !,"      VINCRISTINE........: NA        CYCLOPHOSPHAMIDE...: NA"
"RTN","ONCIPC5",57,0)
 .W !,"      HYDROXYUREA........: NA        CPT-11.............: NA"
"RTN","ONCIPC5",58,0)
 .W !,"      METHOTREXATE.......: NA        TAMOXIFEN..........: NA"
"RTN","ONCIPC5",59,0)
 .W !,"      CISPLATIN..........: NA        INTERFERON.........: NA"
"RTN","ONCIPC5",60,0)
 .W !,"      BCNU...............: NA        CYTARABINE (ARA-C).: NA"
"RTN","ONCIPC5",61,0)
 .W !,"      BCNU WAFER IMPLANT.: NA        OTHER..............: NA"
"RTN","ONCIPC5",62,0)
 .W !,"      VP-16..............: NA"
"RTN","ONCIPC5",63,0)
 S DR="1376      PROCARBAZINE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",64,0)
 S DR="1377      CCNU........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",65,0)
 S DR="1378      VINCRISTINE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",66,0)
 S DR="1379      HYDROXYUREA.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",67,0)
 S DR="1380      METHOTREXATE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",68,0)
 S DR="1381      CISPLATIN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",69,0)
 S DR="1382      BCNU........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",70,0)
 S DR="1383      BCNU WAFER IMPLANT..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",71,0)
 S DR="1384      VP-16........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",72,0)
 S DR="1385      CARBOPLATIN.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",73,0)
 S DR="1386      TEMOZOLOMIDE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",74,0)
 S DR="1387      CYCLOPHOSPHAMIDE............." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",75,0)
 S DR="1388      CPT-11......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",76,0)
 S DR="1389      TAMOXIFEN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",77,0)
 S DR="1390      INTERFERON..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",78,0)
 S DR="1391      CYTARABINE (ARA-C)..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",79,0)
 S DR="1392      OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",80,0)
 W !
"RTN","ONCIPC5",81,0)
OTSRP I (DSTRP="00/00/0000")!(SUBOTH["None") D  G PRTC
"RTN","ONCIPC5",82,0)
 .S $P(^ONCO(165.5,IE,"CNS3"),U,18)=0
"RTN","ONCIPC5",83,0)
 .W !," 81. OTHER TYPE OF SUBSEQUENT TX                                                      FOR RECURRENCE/PROGRESSION...: None"
"RTN","ONCIPC5",84,0)
 S DR="1393 81. OTHER TYPE OF SUBSEQUENT TX                                                      FOR RECURRENCE/PROGRESSION..." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC5",85,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCIPC5",86,0)
 G EXIT
"RTN","ONCIPC5",87,0)
JUMP ;Jump to prompts
"RTN","ONCIPC5",88,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCIPC5",89,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC5",90,0)
 I X["?" D  G JUMP
"RTN","ONCIPC5",91,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC5",92,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC5",93,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC5",94,0)
 S X=TABLE(X)
"RTN","ONCIPC5",95,0)
 G @X
"RTN","ONCIPC5",96,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCIPC5",97,0)
 K DSTRP,IENS,PIECE,SUBSUR,SUBRAD,SUBCHE,SUBOTH
"RTN","ONCIPC5",98,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCIPC5",99,0)
 Q
"RTN","ONCIPC6")
0^105^B3994103
"RTN","ONCIPC6",1,0)
ONCIPC6 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;04/28/00
"RTN","ONCIPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC6",3,0)
 ;Status at Last Contact
"RTN","ONCIPC6",4,0)
 K TABLE,HTABLE
"RTN","ONCIPC6",5,0)
 S TABLE("82. DATE OF LAST CONTACT OR DEATH")="DLCOD"
"RTN","ONCIPC6",6,0)
 S TABLE("83. VITAL STATUS")="VS"
"RTN","ONCIPC6",7,0)
 S TABLE("84. CANCER STATUS")="CS"
"RTN","ONCIPC6",8,0)
 S HTABLE(1)="82. DATE OF LAST CONTACT OR DEATH"
"RTN","ONCIPC6",9,0)
 S HTABLE(2)="83. VITAL STATUS"
"RTN","ONCIPC6",10,0)
 S HTABLE(3)="84. CANCER STATUS"
"RTN","ONCIPC6",11,0)
 S CHOICES=3
"RTN","ONCIPC6",12,0)
 S IE=ONCONUM
"RTN","ONCIPC6",13,0)
 W @IOF D HEAD^ONCIPC0
"RTN","ONCIPC6",14,0)
 W !," STATUS AT LAST CONTACT"
"RTN","ONCIPC6",15,0)
 W !," ----------------------"
"RTN","ONCIPC6",16,0)
DLCOD S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCIPC6",17,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCIPC6",18,0)
 W !," 82. DATE OF LAST CONTACT OR DEATH..: ",DLC
"RTN","ONCIPC6",19,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCIPC6",20,0)
 S DR="15 83. VITAL STATUS..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCIPC6",21,0)
 I X=1 S $P(^ONCO(165.5,IE,7),U,14)=0
"RTN","ONCIPC6",22,0)
CS S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCIPC6",23,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCIPC6",24,0)
 .S CSIEN=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCIPC6",25,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSIEN,0),U,2)
"RTN","ONCIPC6",26,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCIPC6",27,0)
 W !," 84. CANCER STATUS..................: ",CS
"RTN","ONCIPC6",28,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCIPC6",29,0)
 G EXIT
"RTN","ONCIPC6",30,0)
JUMP ;Jump to prompts
"RTN","ONCIPC6",31,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCIPC6",32,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCIPC6",33,0)
 I X["?" D  G JUMP
"RTN","ONCIPC6",34,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC6",35,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCIPC6",36,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCIPC6",37,0)
 S X=TABLE(X)
"RTN","ONCIPC6",38,0)
 G @X
"RTN","ONCIPC6",39,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCIPC6",40,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCIPC6",41,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCIPC6",42,0)
 Q
"RTN","ONCIPC8")
0^106^B43372549
"RTN","ONCIPC8",1,0)
ONCIPC8 ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;05/01/00
"RTN","ONCIPC8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC8",3,0)
 ;Print 
"RTN","ONCIPC8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCIPC8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCIPC8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCIPC8",7,0)
PRT S EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCIPC8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCIPC8",9,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCIPC8",10,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCIPC8",11,0)
I D HEAD^ONCIPC0
"RTN","ONCIPC8",12,0)
 S TABLE="PATIENT INFORMATION"
"RTN","ONCIPC8",13,0)
 K LINE S $P(LINE,"-",19)="-"
"RTN","ONCIPC8",14,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCIPC8",15,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCIPC8",16,0)
 W !," 1. FACILITY ID NUMBER (FIN)......: ",$$IIN^ONCFUNC
"RTN","ONCIPC8",17,0)
 D P Q:EX=U
"RTN","ONCIPC8",18,0)
 W !," 2. ACCESSION NUMBER..............: ",$$GET1^DIQ(165.5,IE,.05)
"RTN","ONCIPC8",19,0)
 D P Q:EX=U
"RTN","ONCIPC8",20,0)
 W !," 3. SEQUENCE NUMBER...............: ",$$GET1^DIQ(165.5,IE,.06)
"RTN","ONCIPC8",21,0)
 D P Q:EX=U
"RTN","ONCIPC8",22,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS......: ",$$GET1^DIQ(165.5,IE,9)
"RTN","ONCIPC8",23,0)
 D P Q:EX=U
"RTN","ONCIPC8",24,0)
 W !," 5. DATE OF BIRTH.................: ",DOB
"RTN","ONCIPC8",25,0)
 D P Q:EX=U
"RTN","ONCIPC8",26,0)
 W !," 6. RACE..........................: ",$$GET1^DIQ(165.5,IE,.12)
"RTN","ONCIPC8",27,0)
 D P Q:EX=U
"RTN","ONCIPC8",28,0)
 W !," 7. SPANISH ORIGIN................: ",$$GET1^DIQ(160,ONCOPA,9)
"RTN","ONCIPC8",29,0)
 D P Q:EX=U
"RTN","ONCIPC8",30,0)
 W !," 8. SEX...........................: ",$$GET1^DIQ(160,ONCOPA,10)
"RTN","ONCIPC8",31,0)
 D P Q:EX=U
"RTN","ONCIPC8",32,0)
 W !," 9. HANDEDNESS....................: ",$$GET1^DIQ(165.5,IE,1200)
"RTN","ONCIPC8",33,0)
 D P Q:EX=U
"RTN","ONCIPC8",34,0)
 W !,"10. PRIOR EXPOSURE TO RADIATION...: ",$$GET1^DIQ(165.5,IE,403)
"RTN","ONCIPC8",35,0)
 D P Q:EX=U
"RTN","ONCIPC8",36,0)
 W !,"11. PRIMARY PAYER AT DIAGNOSIS....: ",$$GET1^DIQ(165.5,IE,18)
"RTN","ONCIPC8",37,0)
 D P Q:EX=U
"RTN","ONCIPC8",38,0)
 W !
"RTN","ONCIPC8",39,0)
 D P Q:EX=U
"RTN","ONCIPC8",40,0)
 W !,"12. PRIOR MEDICAL CONDITIONS:"
"RTN","ONCIPC8",41,0)
 D P Q:EX=U
"RTN","ONCIPC8",42,0)
 W !,"     HYPERTENSION.................: ",$$GET1^DIQ(165.5,IE,1201)
"RTN","ONCIPC8",43,0)
 D P Q:EX=U
"RTN","ONCIPC8",44,0)
 W !,"     MULTIPLE SCLEROSIS (MS)......: ",$$GET1^DIQ(165.5,IE,1202)
"RTN","ONCIPC8",45,0)
 D P Q:EX=U
"RTN","ONCIPC8",46,0)
 W !,"     DIABETES.....................: ",$$GET1^DIQ(165.5,IE,1203)
"RTN","ONCIPC8",47,0)
 D P Q:EX=U
"RTN","ONCIPC8",48,0)
 W !,"     MYOCARDIAL INFARCTION (MI)...: ",$$GET1^DIQ(165.5,IE,354)
"RTN","ONCIPC8",49,0)
 D P Q:EX=U
"RTN","ONCIPC8",50,0)
 W !,"     CEREBROVASCULAR DISEASE......: ",$$GET1^DIQ(165.5,IE,1204)
"RTN","ONCIPC8",51,0)
 D P Q:EX=U
"RTN","ONCIPC8",52,0)
 W !
"RTN","ONCIPC8",53,0)
 D P Q:EX=U
"RTN","ONCIPC8",54,0)
 W !,"13. PERSONAL HISTORY OF OTHER CANCER:"
"RTN","ONCIPC8",55,0)
 D P Q:EX=U
"RTN","ONCIPC8",56,0)
 W !,"     BRAIN........................: ",$$GET1^DIQ(165.5,IE,1205)
"RTN","ONCIPC8",57,0)
 D P Q:EX=U
"RTN","ONCIPC8",58,0)
 W !,"     BREAST.......................: ",$$GET1^DIQ(165.5,IE,1206)
"RTN","ONCIPC8",59,0)
 D P Q:EX=U
"RTN","ONCIPC8",60,0)
 W !,"     PROSTATE.....................: ",$$GET1^DIQ(165.5,IE,1207)
"RTN","ONCIPC8",61,0)
 D P Q:EX=U
"RTN","ONCIPC8",62,0)
 W !,"     MALIGNANT MELANOMA...........: ",$$GET1^DIQ(165.5,IE,1208)
"RTN","ONCIPC8",63,0)
 D P Q:EX=U
"RTN","ONCIPC8",64,0)
 W !,"     OTHER SKIN CANCER............: ",$$GET1^DIQ(165.5,IE,1209)
"RTN","ONCIPC8",65,0)
 D P Q:EX=U
"RTN","ONCIPC8",66,0)
 W !,"     LEUKEMIA.....................: ",$$GET1^DIQ(165.5,IE,1210)
"RTN","ONCIPC8",67,0)
 D P Q:EX=U
"RTN","ONCIPC8",68,0)
 W !,"     COLON OR OTHER GI CANCERS....: ",$$GET1^DIQ(165.5,IE,1211)
"RTN","ONCIPC8",69,0)
 D P Q:EX=U
"RTN","ONCIPC8",70,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1212)
"RTN","ONCIPC8",71,0)
 D P Q:EX=U
"RTN","ONCIPC8",72,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G GP
"RTN","ONCIPC8",73,0)
 W !
"RTN","ONCIPC8",74,0)
 D P Q:EX=U
"RTN","ONCIPC8",75,0)
GP W !,"14. GENETIC PREDISPOSITION:"
"RTN","ONCIPC8",76,0)
 D P Q:EX=U
"RTN","ONCIPC8",77,0)
 W !,"     NEUROFIBROMATOSIS............: ",$$GET1^DIQ(165.5,IE,1213)
"RTN","ONCIPC8",78,0)
 D P Q:EX=U
"RTN","ONCIPC8",79,0)
 W !,"     VON HIPPEL-LINDAU DISEASE....: ",$$GET1^DIQ(165.5,IE,1214)
"RTN","ONCIPC8",80,0)
 D P Q:EX=U
"RTN","ONCIPC8",81,0)
 W !,"     TUBEROUS SCLEROSIS...........: ",$$GET1^DIQ(165.5,IE,1215)
"RTN","ONCIPC8",82,0)
 D P Q:EX=U
"RTN","ONCIPC8",83,0)
 W !,"     TURCOT SYNDROME..............: ",$$GET1^DIQ(165.5,IE,1216)
"RTN","ONCIPC8",84,0)
 D P Q:EX=U
"RTN","ONCIPC8",85,0)
 W !,"     LI-FRAUMENI SYNDROME.........: ",$$GET1^DIQ(165.5,IE,1217)
"RTN","ONCIPC8",86,0)
 D P Q:EX=U
"RTN","ONCIPC8",87,0)
 W !,"     KOWDEN DISEASE...............: ",$$GET1^DIQ(165.5,IE,1218)
"RTN","ONCIPC8",88,0)
 D P Q:EX=U
"RTN","ONCIPC8",89,0)
 W !,"     NEVOID BASAL CELL CARCINOMA"
"RTN","ONCIPC8",90,0)
 D P Q:EX=U
"RTN","ONCIPC8",91,0)
 W !,"      SYNDROME....................: ",$$GET1^DIQ(165.5,IE,1219)
"RTN","ONCIPC8",92,0)
 D P Q:EX=U
"RTN","ONCIPC8",93,0)
 W !
"RTN","ONCIPC8",94,0)
 D P Q:EX=U
"RTN","ONCIPC8",95,0)
 W !," 15. USUAL OCCUPATION.............: ",$$OCCUP^ONCACDU1(ONCOPA)
"RTN","ONCIPC8",96,0)
 D P Q:EX=U
"RTN","ONCIPC8",97,0)
 W !," 16. USUAL INDUSTRY...............: ",$$OCCUP^ONCACDU1(ONCOPA)
"RTN","ONCIPC8",98,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR G:'Y KILL D HEAD^ONCIPC0 G II
"RTN","ONCIPC8",99,0)
 D P Q:EX=U
"RTN","ONCIPC8",100,0)
II S TABLE="TUMOR IDENTIFICATION"
"RTN","ONCIPC8",101,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCIPC0
"RTN","ONCIPC8",102,0)
 K LINE S $P(LINE,"-",20)="-"
"RTN","ONCIPC8",103,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCIPC8",104,0)
 D P Q:EX=U
"RTN","ONCIPC8",105,0)
 W !,"17. CLASS OF CASE.................: ",$$GET1^DIQ(165.5,IE,.04)
"RTN","ONCIPC8",106,0)
 D P Q:EX=U
"RTN","ONCIPC8",107,0)
 W !
"RTN","ONCIPC8",108,0)
 D P Q:EX=U
"RTN","ONCIPC8",109,0)
 W !,"18. SYMPTOMS:"
"RTN","ONCIPC8",110,0)
 D P Q:EX=U
"RTN","ONCIPC8",111,0)
 W !,"     HEADACHE.....................: ",$$GET1^DIQ(165.5,IE,1220)
"RTN","ONCIPC8",112,0)
 D P Q:EX=U
"RTN","ONCIPC8",113,0)
 W !,"     NAUSEA/VOMITING..............: ",$$GET1^DIQ(165.5,IE,1221)
"RTN","ONCIPC8",114,0)
 D P Q:EX=U
"RTN","ONCIPC8",115,0)
 W !,"     CHANGE IN SENSE OF SMELL AND/"
"RTN","ONCIPC8",116,0)
 D P Q:EX=U
"RTN","ONCIPC8",117,0)
 W !,"      OR TASTE....................: ",$$GET1^DIQ(165.5,IE,1222)
"RTN","ONCIPC8",118,0)
 D P Q:EX=U
"RTN","ONCIPC8",119,0)
 W !,"     ALTERED ALERTNESS............: ",$$GET1^DIQ(165.5,IE,1223)
"RTN","ONCIPC8",120,0)
 D P Q:EX=U
"RTN","ONCIPC8",121,0)
 W !,"     FATIGUE......................: ",$$GET1^DIQ(165.5,IE,1224)
"RTN","ONCIPC8",122,0)
 D P Q:EX=U
"RTN","ONCIPC8",123,0)
 W !,"     SPEECH DISTURBANCE...........: ",$$GET1^DIQ(165.5,IE,1225)
"RTN","ONCIPC8",124,0)
 D P Q:EX=U
"RTN","ONCIPC8",125,0)
 W !,"     PERSONALITY CHANGES..........: ",$$GET1^DIQ(165.5,IE,1226)
"RTN","ONCIPC8",126,0)
 D P Q:EX=U
"RTN","ONCIPC8",127,0)
 W !,"     DEPRESSION...................: ",$$GET1^DIQ(165.5,IE,1227)
"RTN","ONCIPC8",128,0)
 D P Q:EX=U
"RTN","ONCIPC8",129,0)
 W !,"     MEMORY LOSS..................: ",$$GET1^DIQ(165.5,IE,1228)
"RTN","ONCIPC8",130,0)
 D P Q:EX=U
"RTN","ONCIPC8",131,0)
 W !,"     LACK OF CONCENTRATION........: ",$$GET1^DIQ(165.5,IE,1229)
"RTN","ONCIPC8",132,0)
 D P Q:EX=U
"RTN","ONCIPC8",133,0)
 W !,"     DOUBLE VISION................: ",$$GET1^DIQ(165.5,IE,1230)
"RTN","ONCIPC8",134,0)
 D P Q:EX=U
"RTN","ONCIPC8",135,0)
 W !,"     OTHER VISUAL DISTURBANCE.....: ",$$GET1^DIQ(165.5,IE,1231)
"RTN","ONCIPC8",136,0)
 D P Q:EX=U
"RTN","ONCIPC8",137,0)
 W !,"     DECREASED HEARING............: ",$$GET1^DIQ(165.5,IE,1232)
"RTN","ONCIPC8",138,0)
 D P Q:EX=U
"RTN","ONCIPC8",139,0)
 W !,"     VERTIGO......................: ",$$GET1^DIQ(165.5,IE,1233)
"RTN","ONCIPC8",140,0)
 D P Q:EX=U
"RTN","ONCIPC8",141,0)
 W !,"     TINNITUS.....................: ",$$GET1^DIQ(165.5,IE,1234)
"RTN","ONCIPC8",142,0)
 D P Q:EX=U
"RTN","ONCIPC8",143,0)
 W !,"     NUMBNESS/TINGLING............: ",$$GET1^DIQ(165.5,IE,1235)
"RTN","ONCIPC8",144,0)
 D P Q:EX=U
"RTN","ONCIPC8",145,0)
 W !,"     WEAKNESS OR PARALYSIS........: ",$$GET1^DIQ(165.5,IE,1236)
"RTN","ONCIPC8",146,0)
 D P Q:EX=U
"RTN","ONCIPC8",147,0)
 W !,"     DIFFICULTY IN COORDINATION/"
"RTN","ONCIPC8",148,0)
 D P Q:EX=U
"RTN","ONCIPC8",149,0)
 W !,"      BALANCE.....................: ",$$GET1^DIQ(165.5,IE,1237)
"RTN","ONCIPC8",150,0)
 D P Q:EX=U
"RTN","ONCIPC8",151,0)
 W !,"     GENERALIZED SEIZURE..........: ",$$GET1^DIQ(165.5,IE,1238)
"RTN","ONCIPC8",152,0)
 D P Q:EX=U
"RTN","ONCIPC8",153,0)
 W !,"     FOCAL SEIZURE................: ",$$GET1^DIQ(165.5,IE,1239)
"RTN","ONCIPC8",154,0)
 D P Q:EX=U
"RTN","ONCIPC8",155,0)
 W !,"     BLADDER INCONTINENCE.........: ",$$GET1^DIQ(165.5,IE,1240)
"RTN","ONCIPC8",156,0)
 D P Q:EX=U
"RTN","ONCIPC8",157,0)
 W !,"     BOWEL INCONTINENCE...........: ",$$GET1^DIQ(165.5,IE,1241)
"RTN","ONCIPC8",158,0)
 D P Q:EX=U
"RTN","ONCIPC8",159,0)
 W !,"     PAIN (OTHER THAN HEADACHE)...: ",$$GET1^DIQ(165.5,IE,1242)
"RTN","ONCIPC8",160,0)
 D P Q:EX=U
"RTN","ONCIPC8",161,0)
 W !,"     WEIGHT CHANGE................: ",$$GET1^DIQ(165.5,IE,1243)
"RTN","ONCIPC8",162,0)
 D P Q:EX=U
"RTN","ONCIPC8",163,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1244)
"RTN","ONCIPC8",164,0)
 D P Q:EX=U
"RTN","ONCIPC8",165,0)
 W !
"RTN","ONCIPC8",166,0)
 D P Q:EX=U
"RTN","ONCIPC8",167,0)
 D:IOST?1"C".E HEAD^ONCIPC0 D ^ONCIPC8A
"RTN","ONCIPC8",168,0)
KILL ;Kill variables
"RTN","ONCIPC8",169,0)
 K EX,IE,LIN,ONDATE,X,Y
"RTN","ONCIPC8",170,0)
 Q
"RTN","ONCIPC8",171,0)
P ;Print
"RTN","ONCIPC8",172,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCIPC8",173,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCIPC8",174,0)
 .D HEAD^ONCIPC0 Q
"RTN","ONCIPC8",175,0)
 Q
"RTN","ONCIPC8",176,0)
TASK ;Queue a task
"RTN","ONCIPC8",177,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCIPC8",178,0)
 S ZTRTN="PRT^ONCIPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCIPC8",179,0)
 S ZTDESC="Print Intracranial & CNS PCE"
"RTN","ONCIPC8",180,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCIPC8",181,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCIPC8",182,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCIPC8A")
0^107^B45475707
"RTN","ONCIPC8A",1,0)
ONCIPC8A ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;05/01/00
"RTN","ONCIPC8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC8A",3,0)
 ;Print (continued) 
"RTN","ONCIPC8A",4,0)
 W !,"19. NEUROLOGICAL FINDINGS:"
"RTN","ONCIPC8A",5,0)
 D P Q:EX=U
"RTN","ONCIPC8A",6,0)
 W !,"     ALERTNESS....................: ",$$GET1^DIQ(165.5,IE,1245)
"RTN","ONCIPC8A",7,0)
 D P Q:EX=U
"RTN","ONCIPC8A",8,0)
 W !,"     SPEECH.......................: ",$$GET1^DIQ(165.5,IE,1246)
"RTN","ONCIPC8A",9,0)
 D P Q:EX=U
"RTN","ONCIPC8A",10,0)
 W !,"     PERSONALITY..................: ",$$GET1^DIQ(165.5,IE,1247)
"RTN","ONCIPC8A",11,0)
 D P Q:EX=U
"RTN","ONCIPC8A",12,0)
 W !,"     MEMORY OR JUDGEMENT..........: ",$$GET1^DIQ(165.5,IE,1248)
"RTN","ONCIPC8A",13,0)
 D P Q:EX=U
"RTN","ONCIPC8A",14,0)
 W !,"     VISUAL ACUITY................: ",$$GET1^DIQ(165.5,IE,1249)
"RTN","ONCIPC8A",15,0)
 D P Q:EX=U
"RTN","ONCIPC8A",16,0)
 W !,"     VISUAL FIELDS................: ",$$GET1^DIQ(165.5,IE,1250)
"RTN","ONCIPC8A",17,0)
 D P Q:EX=U
"RTN","ONCIPC8A",18,0)
 W !,"     EYE MOVEMENTS (EOM)..........: ",$$GET1^DIQ(165.5,IE,1251)
"RTN","ONCIPC8A",19,0)
 D P Q:EX=U
"RTN","ONCIPC8A",20,0)
 W !,"     FACIAL SENSATION.............: ",$$GET1^DIQ(165.5,IE,1252)
"RTN","ONCIPC8A",21,0)
 D P Q:EX=U
"RTN","ONCIPC8A",22,0)
 W !,"     FACIAL MOVEMENT..............: ",$$GET1^DIQ(165.5,IE,1253)
"RTN","ONCIPC8A",23,0)
 D P Q:EX=U
"RTN","ONCIPC8A",24,0)
 W !,"     HEARING......................: ",$$GET1^DIQ(165.5,IE,1254)
"RTN","ONCIPC8A",25,0)
 D P Q:EX=U
"RTN","ONCIPC8A",26,0)
 W !,"     GAG REFLEX...................: ",$$GET1^DIQ(165.5,IE,1255)
"RTN","ONCIPC8A",27,0)
 D P Q:EX=U
"RTN","ONCIPC8A",28,0)
 W !,"     STERNOCLEIDOMASTOID/SHOULDER"
"RTN","ONCIPC8A",29,0)
 D P Q:EX=U
"RTN","ONCIPC8A",30,0)
 W !,"      SHRUG STRENGTH..............: ",$$GET1^DIQ(165.5,IE,1256)
"RTN","ONCIPC8A",31,0)
 D P Q:EX=U
"RTN","ONCIPC8A",32,0)
 W !,"     ARTICULATION OR ENUNCIATION..: ",$$GET1^DIQ(165.5,IE,1257)
"RTN","ONCIPC8A",33,0)
 D P Q:EX=U
"RTN","ONCIPC8A",34,0)
 W !,"     PAPILLEDEMA..................: ",$$GET1^DIQ(165.5,IE,1258)
"RTN","ONCIPC8A",35,0)
 D P Q:EX=U
"RTN","ONCIPC8A",36,0)
 W !,"     TONGUE FASCICULATIONS OR"
"RTN","ONCIPC8A",37,0)
 D P Q:EX=U
"RTN","ONCIPC8A",38,0)
 W !,"      ATROPHY.....................: ",$$GET1^DIQ(165.5,IE,1259)
"RTN","ONCIPC8A",39,0)
 D P Q:EX=U
"RTN","ONCIPC8A",40,0)
 W !,"     DECREASE IN SENSATION OF ANY"
"RTN","ONCIPC8A",41,0)
 D P Q:EX=U
"RTN","ONCIPC8A",42,0)
 W !,"      SITE........................: ",$$GET1^DIQ(165.5,IE,1260)
"RTN","ONCIPC8A",43,0)
 D P Q:EX=U
"RTN","ONCIPC8A",44,0)
 W !,"     CORTICAL SENSORY DEFICIT.....: ",$$GET1^DIQ(165.5,IE,1261)
"RTN","ONCIPC8A",45,0)
 D P Q:EX=U
"RTN","ONCIPC8A",46,0)
 W !,"     WEAKNESS, ATROPHY OR"
"RTN","ONCIPC8A",47,0)
 D P Q:EX=U
"RTN","ONCIPC8A",48,0)
 W !,"      FASCICULATION OF ANY SITE...: ",$$GET1^DIQ(165.5,IE,1262)
"RTN","ONCIPC8A",49,0)
 D P Q:EX=U
"RTN","ONCIPC8A",50,0)
 W !,"     ATAXIA OF GAIT...............: ",$$GET1^DIQ(165.5,IE,1263)
"RTN","ONCIPC8A",51,0)
 D P Q:EX=U
"RTN","ONCIPC8A",52,0)
 W !,"     TRUNCAL ATAXIA...............: ",$$GET1^DIQ(165.5,IE,1264)
"RTN","ONCIPC8A",53,0)
 D P Q:EX=U
"RTN","ONCIPC8A",54,0)
 W !,"     DYSMETRIA....................: ",$$GET1^DIQ(165.5,IE,1265)
"RTN","ONCIPC8A",55,0)
 D P Q:EX=U
"RTN","ONCIPC8A",56,0)
 W !,"     RAPID ALTERNATING MOVEMENTS..: ",$$GET1^DIQ(165.5,IE,1266)
"RTN","ONCIPC8A",57,0)
 D P Q:EX=U
"RTN","ONCIPC8A",58,0)
 W !,"     FINGER TO FINGER NOSE TESTING: ",$$GET1^DIQ(165.5,IE,1267)
"RTN","ONCIPC8A",59,0)
 D P Q:EX=U
"RTN","ONCIPC8A",60,0)
 W !,"     HEEL TO KNEE TO SHIN TESTING.: ",$$GET1^DIQ(165.5,IE,1268)
"RTN","ONCIPC8A",61,0)
 D P Q:EX=U
"RTN","ONCIPC8A",62,0)
 W !,"     DEEP TENDON REFLEXES IN UPPER"
"RTN","ONCIPC8A",63,0)
 D P Q:EX=U
"RTN","ONCIPC8A",64,0)
 W !,"      EXTREMITIES.................: ",$$GET1^DIQ(165.5,IE,1269)
"RTN","ONCIPC8A",65,0)
 D P Q:EX=U
"RTN","ONCIPC8A",66,0)
 W !,"     DEEP TENDON REFLEXES IN LOWER"
"RTN","ONCIPC8A",67,0)
 D P Q:EX=U
"RTN","ONCIPC8A",68,0)
 W !,"      EXTREMITIES.................: ",$$GET1^DIQ(165.5,IE,1270)
"RTN","ONCIPC8A",69,0)
 D P Q:EX=U
"RTN","ONCIPC8A",70,0)
 W !,"     BABINSKI SIGN................: ",$$GET1^DIQ(165.5,IE,1271)
"RTN","ONCIPC8A",71,0)
 D P Q:EX=U
"RTN","ONCIPC8A",72,0)
 W !,"     HOFFMAN REFLEX...............: ",$$GET1^DIQ(165.5,IE,1272)
"RTN","ONCIPC8A",73,0)
 D P Q:EX=U
"RTN","ONCIPC8A",74,0)
 W !,"     OTHER ABNORMAL REFLEXES......: ",$$GET1^DIQ(165.5,IE,1273)
"RTN","ONCIPC8A",75,0)
 D P Q:EX=U
"RTN","ONCIPC8A",76,0)
 W !
"RTN","ONCIPC8A",77,0)
 D P Q:EX=U
"RTN","ONCIPC8A",78,0)
 W !,"20. PRE-THERAPY DIAGNOSTIC STUDIES:"
"RTN","ONCIPC8A",79,0)
 D P Q:EX=U
"RTN","ONCIPC8A",80,0)
 W !,"     ANGIOGRAPHY..................: ",$$GET1^DIQ(165.5,IE,1274)
"RTN","ONCIPC8A",81,0)
 D P Q:EX=U
"RTN","ONCIPC8A",82,0)
 W !,"     CT SCAN OF BRAIN.............: ",$$GET1^DIQ(165.5,IE,1275)
"RTN","ONCIPC8A",83,0)
 D P Q:EX=U
"RTN","ONCIPC8A",84,0)
 W !,"     CT SCAN OF SPINE.............: ",$$GET1^DIQ(165.5,IE,1276)
"RTN","ONCIPC8A",85,0)
 D P Q:EX=U
"RTN","ONCIPC8A",86,0)
 W !,"     EEG..........................: ",$$GET1^DIQ(165.5,IE,1277)
"RTN","ONCIPC8A",87,0)
 D P Q:EX=U
"RTN","ONCIPC8A",88,0)
 W !,"     ISOTOPE BRAIN SCAN...........: ",$$GET1^DIQ(165.5,IE,1278)
"RTN","ONCIPC8A",89,0)
 D P Q:EX=U
"RTN","ONCIPC8A",90,0)
 W !,"     PET SCAN.....................: ",$$GET1^DIQ(165.5,IE,1279)
"RTN","ONCIPC8A",91,0)
 D P Q:EX=U
"RTN","ONCIPC8A",92,0)
 W !,"     SPECT SCAN...................: ",$$GET1^DIQ(165.5,IE,1280)
"RTN","ONCIPC8A",93,0)
 D P Q:EX=U
"RTN","ONCIPC8A",94,0)
 W !,"     MRI OF BRAIN.................: ",$$GET1^DIQ(165.5,IE,1281)
"RTN","ONCIPC8A",95,0)
 D P Q:EX=U
"RTN","ONCIPC8A",96,0)
 W !,"     MRI OF SPINE.................: ",$$GET1^DIQ(165.5,IE,1282)
"RTN","ONCIPC8A",97,0)
 D P Q:EX=U
"RTN","ONCIPC8A",98,0)
 W !,"     FUNCTIONAL MRI...............: ",$$GET1^DIQ(165.5,IE,1283)
"RTN","ONCIPC8A",99,0)
 D P Q:EX=U
"RTN","ONCIPC8A",100,0)
 W !,"     MYELOGRAPHY..................: ",$$GET1^DIQ(165.5,IE,1284)
"RTN","ONCIPC8A",101,0)
 D P Q:EX=U
"RTN","ONCIPC8A",102,0)
 W !,"     MRS..........................: ",$$GET1^DIQ(165.5,IE,1285)
"RTN","ONCIPC8A",103,0)
 D P Q:EX=U
"RTN","ONCIPC8A",104,0)
 W !
"RTN","ONCIPC8A",105,0)
 D P Q:EX=U
"RTN","ONCIPC8A",106,0)
 W !,"21. TUMOR LOCATION/INVOLVEMENT:"
"RTN","ONCIPC8A",107,0)
 D P Q:EX=U
"RTN","ONCIPC8A",108,0)
 W !,"     FRONTAL LOBE.................: ",$$GET1^DIQ(165.5,IE,1286)
"RTN","ONCIPC8A",109,0)
 D P Q:EX=U
"RTN","ONCIPC8A",110,0)
 W !,"     TEMPORAL LOBE................: ",$$GET1^DIQ(165.5,IE,1287)
"RTN","ONCIPC8A",111,0)
 D P Q:EX=U
"RTN","ONCIPC8A",112,0)
 W !,"     PARIETAL LOBE................: ",$$GET1^DIQ(165.5,IE,1288)
"RTN","ONCIPC8A",113,0)
 D P Q:EX=U
"RTN","ONCIPC8A",114,0)
 W !,"     OCCIPITAL LOBE...............: ",$$GET1^DIQ(165.5,IE,1289)
"RTN","ONCIPC8A",115,0)
 D P Q:EX=U
"RTN","ONCIPC8A",116,0)
 W !,"     OPTIC NERVES.................: ",$$GET1^DIQ(165.5,IE,1290)
"RTN","ONCIPC8A",117,0)
 D P Q:EX=U
"RTN","ONCIPC8A",118,0)
 W !,"     PITUITARY GLAND..............: ",$$GET1^DIQ(165.5,IE,1291)
"RTN","ONCIPC8A",119,0)
 D P Q:EX=U
"RTN","ONCIPC8A",120,0)
 W !,"     PINEAL GLAND.................: ",$$GET1^DIQ(165.5,IE,1292)
"RTN","ONCIPC8A",121,0)
 D P Q:EX=U
"RTN","ONCIPC8A",122,0)
 W !,"     CEREBELLUM...................: ",$$GET1^DIQ(165.5,IE,1293)
"RTN","ONCIPC8A",123,0)
 D P Q:EX=U
"RTN","ONCIPC8A",124,0)
 W !,"     BRAIN STEM...................: ",$$GET1^DIQ(165.5,IE,1294)
"RTN","ONCIPC8A",125,0)
 D P Q:EX=U
"RTN","ONCIPC8A",126,0)
 W !,"     SKULL BASE...................: ",$$GET1^DIQ(165.5,IE,1295)
"RTN","ONCIPC8A",127,0)
 D P Q:EX=U
"RTN","ONCIPC8A",128,0)
 W !,"     OTHER SKULL..................: ",$$GET1^DIQ(165.5,IE,1296)
"RTN","ONCIPC8A",129,0)
 D P Q:EX=U
"RTN","ONCIPC8A",130,0)
 W !,"     SPINAL CORD..................: ",$$GET1^DIQ(165.5,IE,1297)
"RTN","ONCIPC8A",131,0)
 D P Q:EX=U
"RTN","ONCIPC8A",132,0)
 W !,"     CEREBRAL SPINAL FLUID........: ",$$GET1^DIQ(165.5,IE,1298)
"RTN","ONCIPC8A",133,0)
 D P Q:EX=U
"RTN","ONCIPC8A",134,0)
 W !,"     CRANIAL MENINGES.............: ",$$GET1^DIQ(165.5,IE,1299)
"RTN","ONCIPC8A",135,0)
 D P Q:EX=U
"RTN","ONCIPC8A",136,0)
 W !,"     SPINAL MENINGES..............: ",$$GET1^DIQ(165.5,IE,1300)
"RTN","ONCIPC8A",137,0)
 D P Q:EX=U
"RTN","ONCIPC8A",138,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1301)
"RTN","ONCIPC8A",139,0)
 D P Q:EX=U
"RTN","ONCIPC8A",140,0)
 W !
"RTN","ONCIPC8A",141,0)
 D P Q:EX=U
"RTN","ONCIPC8A",142,0)
 W !,"22. SIDE:"
"RTN","ONCIPC8A",143,0)
 D P Q:EX=U
"RTN","ONCIPC8A",144,0)
 W !,"     LEFT.........................: ",$$GET1^DIQ(165.5,IE,1302)
"RTN","ONCIPC8A",145,0)
 D P Q:EX=U
"RTN","ONCIPC8A",146,0)
 W !,"     RIGHT........................: ",$$GET1^DIQ(165.5,IE,1303)
"RTN","ONCIPC8A",147,0)
 D P Q:EX=U
"RTN","ONCIPC8A",148,0)
 W !,"     MIDLINE......................: ",$$GET1^DIQ(165.5,IE,1304)
"RTN","ONCIPC8A",149,0)
 D P Q:EX=U
"RTN","ONCIPC8A",150,0)
 W !
"RTN","ONCIPC8A",151,0)
 D P Q:EX=U
"RTN","ONCIPC8A",152,0)
 W !,"23. NUMBER OF TUMORS..............: ",$$GET1^DIQ(165.5,IE,1305)
"RTN","ONCIPC8A",153,0)
 D P Q:EX=U
"RTN","ONCIPC8A",154,0)
 W !,"24. DATE OF FIRST SYMPTOMS........: ",$$GET1^DIQ(165.5,IE,1306)
"RTN","ONCIPC8A",155,0)
 D P Q:EX=U
"RTN","ONCIPC8A",156,0)
 W !,"25. DATE OF INITIAL DIAGNOSIS.....: ",$$GET1^DIQ(165.5,IE,3)
"RTN","ONCIPC8A",157,0)
 D P Q:EX=U
"RTN","ONCIPC8A",158,0)
 W !,"26. DATE OF PATHOLOGIC DIAGNOSIS..: ",$$GET1^DIQ(165.5,IE,1307)
"RTN","ONCIPC8A",159,0)
 D P Q:EX=U
"RTN","ONCIPC8A",160,0)
 W !,"27. PRIMARY SITE (ICD-O-2)........: ",$$GET1^DIQ(165.5,IE,20.1)
"RTN","ONCIPC8A",161,0)
 D P Q:EX=U
"RTN","ONCIPC8A",162,0)
 W !,"28. WHO HISTOLOGICAL CLASSIFI-    "
"RTN","ONCIPC8A",163,0)
 D P Q:EX=U
"RTN","ONCIPC8A",164,0)
 W !,"     CATION OF TUMOR..............: ",$$GET1^DIQ(165.5,IE,1308)
"RTN","ONCIPC8A",165,0)
 D P Q:EX=U
"RTN","ONCIPC8A",166,0)
 W !,"29. BEHAVIOR CODE (ICD-O-2).......: ",$E($$GET1^DIQ(165.5,IE,22,"I"),5)
"RTN","ONCIPC8A",167,0)
 D P Q:EX=U
"RTN","ONCIPC8A",168,0)
 W !,"30. GRADE.........................: ",$$GET1^DIQ(165.5,IE,24)
"RTN","ONCIPC8A",169,0)
 D P Q:EX=U
"RTN","ONCIPC8A",170,0)
 W !,"31. DIAGNOSTIC CONFIRMATION.......: ",$$GET1^DIQ(165.5,IE,26)
"RTN","ONCIPC8A",171,0)
 D P Q:EX=U
"RTN","ONCIPC8A",172,0)
 W !,"32. MOLECULAR MARKERS.............: ",$$GET1^DIQ(165.5,IE,1309)
"RTN","ONCIPC8A",173,0)
 D P Q:EX=U
"RTN","ONCIPC8A",174,0)
 W !,"33. TUMOR SIZE....................: ",$$GET1^DIQ(165.5,IE,1394)
"RTN","ONCIPC8A",175,0)
 D P Q:EX=U
"RTN","ONCIPC8A",176,0)
 W !,"34. TUMOR SIZE (SOURCE)...........: ",$$GET1^DIQ(165.5,IE,1310)
"RTN","ONCIPC8A",177,0)
 D P Q:EX=U
"RTN","ONCIPC8A",178,0)
 W !,"35. KARNOFSKY'S RATING PRIOR TO TX: ",$$GET1^DIQ(165.5,IE,1311)
"RTN","ONCIPC8A",179,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCIPC8A",180,0)
III D:IOST?1"C".E HEAD^ONCIPC0 D ^ONCIPC8B
"RTN","ONCIPC8A",181,0)
 Q
"RTN","ONCIPC8A",182,0)
P ;Print
"RTN","ONCIPC8A",183,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCIPC8A",184,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCIPC8A",185,0)
 .D HEAD^ONCIPC0 Q
"RTN","ONCIPC8A",186,0)
 Q
"RTN","ONCIPC8B")
0^108^B37692944
"RTN","ONCIPC8B",1,0)
ONCIPC8B ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;05/01/00
"RTN","ONCIPC8B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC8B",3,0)
 ;Print (continued)
"RTN","ONCIPC8B",4,0)
III S TABLE="FIRST COURSE OF TREATMENT"
"RTN","ONCIPC8B",5,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCIPC0
"RTN","ONCIPC8B",6,0)
 K LINE S $P(LINE,"-",25)="-"
"RTN","ONCIPC8B",7,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCIPC8B",8,0)
 D P Q:EX=U
"RTN","ONCIPC8B",9,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCIPC8B",10,0)
 W !,"36. PROTOCOL PARTICIPATION........: ",$$GET1^DIQ(165.5,IE,1312)
"RTN","ONCIPC8B",11,0)
 D P Q:EX=U
"RTN","ONCIPC8B",12,0)
 W !,"37. PROTOCOL PHASE................: ",$$GET1^DIQ(165.5,IE,1313)
"RTN","ONCIPC8B",13,0)
 D P Q:EX=U
"RTN","ONCIPC8B",14,0)
 W !,"38. DATE OF FIRST COURSE TREATMENT: ",DOFCT
"RTN","ONCIPC8B",15,0)
 D P Q:EX=U
"RTN","ONCIPC8B",16,0)
 W !,"39. DATE OF INPATIENT ADMISSION...: ",$$GET1^DIQ(165.5,IE,1)
"RTN","ONCIPC8B",17,0)
 D P Q:EX=U
"RTN","ONCIPC8B",18,0)
 W !,"40. DATE OF INPATIENT DISCHARGE...: ",$$GET1^DIQ(165.5,IE,1.1)
"RTN","ONCIPC8B",19,0)
 D P Q:EX=U
"RTN","ONCIPC8B",20,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G S
"RTN","ONCIPC8B",21,0)
 W !
"RTN","ONCIPC8B",22,0)
 D P Q:EX=U
"RTN","ONCIPC8B",23,0)
S W !?4,"SURGERY",!?4,"-------"
"RTN","ONCIPC8B",24,0)
 D P Q:EX=U
"RTN","ONCIPC8B",25,0)
 W !?4,"NON CANCER-DIRECTED SURGERY"
"RTN","ONCIPC8B",26,0)
 D P Q:EX=U
"RTN","ONCIPC8B",27,0)
 W !?4,"---------------------------"
"RTN","ONCIPC8B",28,0)
 D P Q:EX=U
"RTN","ONCIPC8B",29,0)
 W !,"41. DATE OF NON CANCER-DIRECTED"
"RTN","ONCIPC8B",30,0)
 D P Q:EX=U
"RTN","ONCIPC8B",31,0)
 W !,"     SURGERY......................: ",$$GET1^DIQ(165.5,IE,58.3)
"RTN","ONCIPC8B",32,0)
 D P Q:EX=U
"RTN","ONCIPC8B",33,0)
 W !
"RTN","ONCIPC8B",34,0)
 D P Q:EX=U
"RTN","ONCIPC8B",35,0)
 W !,"42. DIAGNOSTIC/EVALUATIVE/PALLIATIVE (NON CANCER-DIRECTED) SURGERY:"
"RTN","ONCIPC8B",36,0)
 D P Q:EX=U
"RTN","ONCIPC8B",37,0)
 W !,"     NONE, NO NON CA-DIRECTED"
"RTN","ONCIPC8B",38,0)
 D P Q:EX=U
"RTN","ONCIPC8B",39,0)
 W !,"      SURGICAL PROCEDURE..........: ",$$GET1^DIQ(165.5,IE,1314)
"RTN","ONCIPC8B",40,0)
 D P Q:EX=U
"RTN","ONCIPC8B",41,0)
 W !,"     VENTRICULOSTOMY, OR EXTERNAL"
"RTN","ONCIPC8B",42,0)
 D P Q:EX=U
"RTN","ONCIPC8B",43,0)
 W !,"      VENTRICULAR DRAIN...........: ",$$GET1^DIQ(165.5,IE,1315)
"RTN","ONCIPC8B",44,0)
 D P Q:EX=U
"RTN","ONCIPC8B",45,0)
 W !,"     CSF SHUNT,"
"RTN","ONCIPC8B",46,0)
 D P Q:EX=U
"RTN","ONCIPC8B",47,0)
 W !,"      VENTRICULOPERITONEAL........: ",$$GET1^DIQ(165.5,IE,1316)
"RTN","ONCIPC8B",48,0)
 D P Q:EX=U
"RTN","ONCIPC8B",49,0)
 W !,"     CSF SHUNT,"
"RTN","ONCIPC8B",50,0)
 D P Q:EX=U
"RTN","ONCIPC8B",51,0)
 W !,"      THIRD VENTRICULOSTOMY.......: ",$$GET1^DIQ(165.5,IE,1317)
"RTN","ONCIPC8B",52,0)
 D P Q:EX=U
"RTN","ONCIPC8B",53,0)
 W !,"     CSF SHUNT,"
"RTN","ONCIPC8B",54,0)
 D P Q:EX=U
"RTN","ONCIPC8B",55,0)
 W !,"      OTHER.......................: ",$$GET1^DIQ(165.5,IE,1318)
"RTN","ONCIPC8B",56,0)
 D P Q:EX=U
"RTN","ONCIPC8B",57,0)
 W !,"     STEREOTACTIC BIOPSY..........: ",$$GET1^DIQ(165.5,IE,1319)
"RTN","ONCIPC8B",58,0)
 D P Q:EX=U
"RTN","ONCIPC8B",59,0)
 W !,"     OPEN BRAIN BIOPSY............: ",$$GET1^DIQ(165.5,IE,1320)
"RTN","ONCIPC8B",60,0)
 D P Q:EX=U
"RTN","ONCIPC8B",61,0)
 W !,"     OPEN BIOPSY OF SPINAL CORD"
"RTN","ONCIPC8B",62,0)
 D P Q:EX=U
"RTN","ONCIPC8B",63,0)
 W !,"      TUMOR.......................: ",$$GET1^DIQ(165.5,IE,1321)
"RTN","ONCIPC8B",64,0)
 D P Q:EX=U
"RTN","ONCIPC8B",65,0)
 W !,"     LAMINECTOMY FOR SPINAL CORD"
"RTN","ONCIPC8B",66,0)
 D P Q:EX=U
"RTN","ONCIPC8B",67,0)
 W !,"      TUMOR, W/O TUMOR RESECTION,"
"RTN","ONCIPC8B",68,0)
 D P Q:EX=U
"RTN","ONCIPC8B",69,0)
 W !,"       W/O OPENING DURA...........: ",$$GET1^DIQ(165.5,IE,1322)
"RTN","ONCIPC8B",70,0)
 D P Q:EX=U
"RTN","ONCIPC8B",71,0)
 W !,"     LAMINECTOMY FOR SPINAL CORD"
"RTN","ONCIPC8B",72,0)
 D P Q:EX=U
"RTN","ONCIPC8B",73,0)
 W !,"      TUMOR, W/O TUMOR RESECTION,"
"RTN","ONCIPC8B",74,0)
 D P Q:EX=U
"RTN","ONCIPC8B",75,0)
 W !,"       W OPENING DURA.............: ",$$GET1^DIQ(165.5,IE,1323)
"RTN","ONCIPC8B",76,0)
 D P Q:EX=U
"RTN","ONCIPC8B",77,0)
 W !,"     SURGERY, NOS.................: ",$$GET1^DIQ(165.5,IE,1324)
"RTN","ONCIPC8B",78,0)
 D P Q:EX=U
"RTN","ONCIPC8B",79,0)
 W !,"     UNKNOWN IF SURGERY DONE......: ",$$GET1^DIQ(165.5,IE,1325)
"RTN","ONCIPC8B",80,0)
 D P Q:EX=U
"RTN","ONCIPC8B",81,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G CDS
"RTN","ONCIPC8B",82,0)
 W !
"RTN","ONCIPC8B",83,0)
 D P Q:EX=U
"RTN","ONCIPC8B",84,0)
CDS W !?4,"CANCER-DIRECTED SURGERY"
"RTN","ONCIPC8B",85,0)
 D P Q:EX=U
"RTN","ONCIPC8B",86,0)
 W !?4,"-----------------------"
"RTN","ONCIPC8B",87,0)
 D P Q:EX=U
"RTN","ONCIPC8B",88,0)
 W !,"43. DATE OF CA-DIRECTED SURGERY...: ",$$GET1^DIQ(165.5,IE,50)
"RTN","ONCIPC8B",89,0)
 D P Q:EX=U
"RTN","ONCIPC8B",90,0)
 W !,"44. SURGICAL APPROACH.............: ",$$GET1^DIQ(165.5,IE,1326)
"RTN","ONCIPC8B",91,0)
 D P Q:EX=U
"RTN","ONCIPC8B",92,0)
 W !,"45. EXTENT OF SURGICAL RESECTION..: ",$$GET1^DIQ(165.5,IE,1327)
"RTN","ONCIPC8B",93,0)
 D P Q:EX=U
"RTN","ONCIPC8B",94,0)
 W !,"46. SIZE OF RESIDUAL PRIMARY TUMOR"
"RTN","ONCIPC8B",95,0)
 D P Q:EX=U
"RTN","ONCIPC8B",96,0)
 W !,"     AFTER CA-DIR SURGERY.........: ",$$GET1^DIQ(165.5,IE,1328)
"RTN","ONCIPC8B",97,0)
 D P Q:EX=U
"RTN","ONCIPC8B",98,0)
 W !,"47. SIZE OF RESIDUAL PRIMARY TUMOR"
"RTN","ONCIPC8B",99,0)
 D P Q:EX=U
"RTN","ONCIPC8B",100,0)
 W !,"     AFTER CA-DIR SURGERY (SOURCE): ",$$GET1^DIQ(165.5,IE,1329)
"RTN","ONCIPC8B",101,0)
 D P Q:EX=U
"RTN","ONCIPC8B",102,0)
 W !
"RTN","ONCIPC8B",103,0)
 D P Q:EX=U
"RTN","ONCIPC8B",104,0)
 W !,"48. SURGICAL COMPLICATIONS/POST SURGICAL EVENTS:"
"RTN","ONCIPC8B",105,0)
 D P Q:EX=U
"RTN","ONCIPC8B",106,0)
 W !,"     ANESTHETIC PROBLEM...........: ",$$GET1^DIQ(165.5,IE,1330)
"RTN","ONCIPC8B",107,0)
 D P Q:EX=U
"RTN","ONCIPC8B",108,0)
 W !,"     HEMORRHAGE AT OPERATIVE SITE.: ",$$GET1^DIQ(165.5,IE,1331)
"RTN","ONCIPC8B",109,0)
 D P Q:EX=U
"RTN","ONCIPC8B",110,0)
 W !,"     SEIZURE......................: ",$$GET1^DIQ(165.5,IE,1332)
"RTN","ONCIPC8B",111,0)
 D P Q:EX=U
"RTN","ONCIPC8B",112,0)
 W !,"     INFECTION(S).................: ",$$GET1^DIQ(165.5,IE,1333)
"RTN","ONCIPC8B",113,0)
 D P Q:EX=U
"RTN","ONCIPC8B",114,0)
 W !,"     DVT (DEEP VENOUS THROMBOSIS).: ",$$GET1^DIQ(165.5,IE,1334)
"RTN","ONCIPC8B",115,0)
 D P Q:EX=U
"RTN","ONCIPC8B",116,0)
 W !,"     PERSISTENT NEUROLOGICAL"
"RTN","ONCIPC8B",117,0)
 D P Q:EX=U
"RTN","ONCIPC8B",118,0)
 W !,"      WORSENING > 4 DAYS POST-OP..: ",$$GET1^DIQ(165.5,IE,1335)
"RTN","ONCIPC8B",119,0)
 D P Q:EX=U
"RTN","ONCIPC8B",120,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,360)
"RTN","ONCIPC8B",121,0)
 D P Q:EX=U
"RTN","ONCIPC8B",122,0)
 W !
"RTN","ONCIPC8B",123,0)
 D P Q:EX=U
"RTN","ONCIPC8B",124,0)
 W !,"49. REASON FOR NO SURGERY.........: ",$$GET1^DIQ(165.5,IE,58)
"RTN","ONCIPC8B",125,0)
 D P Q:EX=U
"RTN","ONCIPC8B",126,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G R
"RTN","ONCIPC8B",127,0)
 W !
"RTN","ONCIPC8B",128,0)
 D P Q:EX=U
"RTN","ONCIPC8B",129,0)
R W !?4,"RADIATION THERAPY",!?4,"-----------------"
"RTN","ONCIPC8B",130,0)
 D P Q:EX=U
"RTN","ONCIPC8B",131,0)
 W !,"50. RADIATION THERAPY.............: ",$$GET1^DIQ(165.5,IE,1345)
"RTN","ONCIPC8B",132,0)
 D P Q:EX=U
"RTN","ONCIPC8B",133,0)
 W !,"51. DATE RADIATION STARTED........: ",$$GET1^DIQ(165.5,IE,51)
"RTN","ONCIPC8B",134,0)
 D P Q:EX=U
"RTN","ONCIPC8B",135,0)
 W !,"52. DATE RADIATION ENDED..........: ",$$GET1^DIQ(165.5,IE,361)
"RTN","ONCIPC8B",136,0)
 D P Q:EX=U
"RTN","ONCIPC8B",137,0)
 W !,"53. TOTAL RADIATION DOSE (cGy)....: ",$$GET1^DIQ(165.5,IE,1336)
"RTN","ONCIPC8B",138,0)
 D P Q:EX=U
"RTN","ONCIPC8B",139,0)
 W !,"54. NUMBER OF TREATMENTS TO THIS"
"RTN","ONCIPC8B",140,0)
 D P Q:EX=U
"RTN","ONCIPC8B",141,0)
 W !,"     VOLUME.......................: ",$$GET1^DIQ(165.5,IE,56)
"RTN","ONCIPC8B",142,0)
 D P Q:EX=U
"RTN","ONCIPC8B",143,0)
 W !,"55. TYPE OF EXT BEAM RADIATION....: ",$$GET1^DIQ(165.5,IE,1337)
"RTN","ONCIPC8B",144,0)
 D P Q:EX=U
"RTN","ONCIPC8B",145,0)
 W !,"56. INTERSTITIAL RAD/BRACHYTHERAPY: ",$$GET1^DIQ(165.5,IE,1338)
"RTN","ONCIPC8B",146,0)
 D P Q:EX=U
"RTN","ONCIPC8B",147,0)
 W !,"57. STEREOTACTIC RADIOSURGERY.....: ",$$GET1^DIQ(165.5,IE,1339)
"RTN","ONCIPC8B",148,0)
 D P Q:EX=U
"RTN","ONCIPC8B",149,0)
 W !,"58. RADIATION/SURGERY SEQUENCE....: ",$$GET1^DIQ(165.5,IE,51.3)
"RTN","ONCIPC8B",150,0)
 D P Q:EX=U
"RTN","ONCIPC8B",151,0)
 W !
"RTN","ONCIPC8B",152,0)
 D P Q:EX=U
"RTN","ONCIPC8B",153,0)
 W !,"59. RADIATION COMPLICATIONS:"
"RTN","ONCIPC8B",154,0)
 D P Q:EX=U
"RTN","ONCIPC8B",155,0)
 W !,"     SKIN REACTIONS...............: ",$$GET1^DIQ(165.5,IE,1340)
"RTN","ONCIPC8B",156,0)
 D P Q:EX=U
"RTN","ONCIPC8B",157,0)
 W !,"     ANOREXIA.....................: ",$$GET1^DIQ(165.5,IE,1341)
"RTN","ONCIPC8B",158,0)
 D P Q:EX=U
"RTN","ONCIPC8B",159,0)
 W !,"     NAUSEA OR VOMITING...........: ",$$GET1^DIQ(165.5,IE,1342)
"RTN","ONCIPC8B",160,0)
 D P Q:EX=U
"RTN","ONCIPC8B",161,0)
 W !,"     FATIGUE......................: ",$$GET1^DIQ(165.5,IE,1343)
"RTN","ONCIPC8B",162,0)
 D P Q:EX=U
"RTN","ONCIPC8B",163,0)
 W !,"     NEUROLOGIC WORSENING.........: ",$$GET1^DIQ(165.5,IE,1344)
"RTN","ONCIPC8B",164,0)
 D P Q:EX=U
"RTN","ONCIPC8B",165,0)
 W !
"RTN","ONCIPC8B",166,0)
 D P Q:EX=U
"RTN","ONCIPC8B",167,0)
 W !,"60. REASON FOR NO RADIATION.......: ",$$GET1^DIQ(165.5,IE,75)
"RTN","ONCIPC8B",168,0)
 D P Q:EX=U
"RTN","ONCIPC8B",169,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G C
"RTN","ONCIPC8B",170,0)
 W !
"RTN","ONCIPC8B",171,0)
 D P Q:EX=U
"RTN","ONCIPC8B",172,0)
C D ^ONCIPC8C
"RTN","ONCIPC8B",173,0)
 Q
"RTN","ONCIPC8B",174,0)
P ;Print
"RTN","ONCIPC8B",175,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCIPC8B",176,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCIPC8B",177,0)
 .D HEAD^ONCIPC0 Q
"RTN","ONCIPC8B",178,0)
 Q
"RTN","ONCIPC8C")
0^109^B55402593
"RTN","ONCIPC8C",1,0)
ONCIPC8C ;Hines OIFO/GWB - Primary Intracranial/CNS Tumors PCE Study ;05/01/00
"RTN","ONCIPC8C",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCIPC8C",3,0)
 ;Print (continued)
"RTN","ONCIPC8C",4,0)
 W !?4,"CHEMOTHERAPY",!?4,"------------"
"RTN","ONCIPC8C",5,0)
 D P Q:EX=U
"RTN","ONCIPC8C",6,0)
 W !,"61. DATE CHEMOTHERAPY STARTED.....: ",$$GET1^DIQ(165.5,IE,53)
"RTN","ONCIPC8C",7,0)
 D P Q:EX=U
"RTN","ONCIPC8C",8,0)
 W !,"62. CHEMOTHERAPY..................: ",$$GET1^DIQ(165.5,IE,53.2)
"RTN","ONCIPC8C",9,0)
 D P Q:EX=U
"RTN","ONCIPC8C",10,0)
 W !
"RTN","ONCIPC8C",11,0)
 D P Q:EX=U
"RTN","ONCIPC8C",12,0)
 W !,"63. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"
"RTN","ONCIPC8C",13,0)
 D P Q:EX=U
"RTN","ONCIPC8C",14,0)
 W !,"     PROCARBAZINE.................: ",$$GET1^DIQ(165.5,IE,1346)
"RTN","ONCIPC8C",15,0)
 D P Q:EX=U
"RTN","ONCIPC8C",16,0)
 W !,"     CCNU.........................: ",$$GET1^DIQ(165.5,IE,1347)
"RTN","ONCIPC8C",17,0)
 D P Q:EX=U
"RTN","ONCIPC8C",18,0)
 W !,"     VINCRISTINE..................: ",$$GET1^DIQ(165.5,IE,1348)
"RTN","ONCIPC8C",19,0)
 D P Q:EX=U
"RTN","ONCIPC8C",20,0)
 W !,"     HYDROXYUREA..................: ",$$GET1^DIQ(165.5,IE,1349)
"RTN","ONCIPC8C",21,0)
 D P Q:EX=U
"RTN","ONCIPC8C",22,0)
 W !,"     METHOTREXATE.................: ",$$GET1^DIQ(165.5,IE,376)
"RTN","ONCIPC8C",23,0)
 D P Q:EX=U
"RTN","ONCIPC8C",24,0)
 W !,"     CISPLATIN....................: ",$$GET1^DIQ(165.5,IE,371)
"RTN","ONCIPC8C",25,0)
 D P Q:EX=U
"RTN","ONCIPC8C",26,0)
 W !,"     BCNU.........................: ",$$GET1^DIQ(165.5,IE,1350)
"RTN","ONCIPC8C",27,0)
 D P Q:EX=U
"RTN","ONCIPC8C",28,0)
 W !,"     BCNU, WAFER IMPLANT..........: ",$$GET1^DIQ(165.5,IE,1351)
"RTN","ONCIPC8C",29,0)
 D P Q:EX=U
"RTN","ONCIPC8C",30,0)
 W !,"     VP-16........................: ",$$GET1^DIQ(165.5,IE,1352)
"RTN","ONCIPC8C",31,0)
 D P Q:EX=U
"RTN","ONCIPC8C",32,0)
 W !,"     CARBOPLATIN..................: ",$$GET1^DIQ(165.5,IE,1353)
"RTN","ONCIPC8C",33,0)
 D P Q:EX=U
"RTN","ONCIPC8C",34,0)
 W !,"     TEMOZOLOMIDE.................: ",$$GET1^DIQ(165.5,IE,1354)
"RTN","ONCIPC8C",35,0)
 D P Q:EX=U
"RTN","ONCIPC8C",36,0)
 W !,"     CYCLOPHOSPHAMIDE.............: ",$$GET1^DIQ(165.5,IE,372)
"RTN","ONCIPC8C",37,0)
 D P Q:EX=U
"RTN","ONCIPC8C",38,0)
 W !,"     CPT-11.......................: ",$$GET1^DIQ(165.5,IE,1355)
"RTN","ONCIPC8C",39,0)
 D P Q:EX=U
"RTN","ONCIPC8C",40,0)
 W !,"     TAMOXIFEN....................: ",$$GET1^DIQ(165.5,IE,1356)
"RTN","ONCIPC8C",41,0)
 D P Q:EX=U
"RTN","ONCIPC8C",42,0)
 W !,"     INTERFERON...................: ",$$GET1^DIQ(165.5,IE,384)
"RTN","ONCIPC8C",43,0)
 D P Q:EX=U
"RTN","ONCIPC8C",44,0)
 W !,"     CYTARABINE (ARA-C)...........: ",$$GET1^DIQ(165.5,IE,1357)
"RTN","ONCIPC8C",45,0)
 D P Q:EX=U
"RTN","ONCIPC8C",46,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,380)
"RTN","ONCIPC8C",47,0)
 D P Q:EX=U
"RTN","ONCIPC8C",48,0)
 W !
"RTN","ONCIPC8C",49,0)
 D P Q:EX=U
"RTN","ONCIPC8C",50,0)
 W !,"64. CHEMOTHERAPEUTIC ROUTE........: ",$$GET1^DIQ(165.5,IE,1358)
"RTN","ONCIPC8C",51,0)
 D P Q:EX=U
"RTN","ONCIPC8C",52,0)
 W !
"RTN","ONCIPC8C",53,0)
 D P Q:EX=U
"RTN","ONCIPC8C",54,0)
 W !,"65. CHEMOTHERAPY COMPLICATIONS:"
"RTN","ONCIPC8C",55,0)
 D P Q:EX=U
"RTN","ONCIPC8C",56,0)
 W !,"     HEARING LOSS.................: ",$$GET1^DIQ(165.5,IE,1359)
"RTN","ONCIPC8C",57,0)
 D P Q:EX=U
"RTN","ONCIPC8C",58,0)
 W !,"     INFECTION....................: ",$$GET1^DIQ(165.5,IE,1360)
"RTN","ONCIPC8C",59,0)
 D P Q:EX=U
"RTN","ONCIPC8C",60,0)
 W !,"     NAUSEA AND VOMITING REQUIRING"
"RTN","ONCIPC8C",61,0)
 D P Q:EX=U
"RTN","ONCIPC8C",62,0)
 W !,"      CESSATION OF CHEMOTHERAPY...: ",$$GET1^DIQ(165.5,IE,1361)
"RTN","ONCIPC8C",63,0)
 D P Q:EX=U
"RTN","ONCIPC8C",64,0)
 W !,"     PERIPHERAL BLOOD COUNT DROP/"
"RTN","ONCIPC8C",65,0)
 D P Q:EX=U
"RTN","ONCIPC8C",66,0)
 W !,"      /BLEEDING/CESSATION OF CHEMO"
"RTN","ONCIPC8C",67,0)
 D P Q:EX=U
"RTN","ONCIPC8C",68,0)
 W !,"      AND/OR TRANSFUSION..........: ",$$GET1^DIQ(165.5,IE,1362)
"RTN","ONCIPC8C",69,0)
 D P Q:EX=U
"RTN","ONCIPC8C",70,0)
 W !,"     PERIPHERAL NEUROPATHY........: ",$$GET1^DIQ(165.5,IE,1363)
"RTN","ONCIPC8C",71,0)
 D P Q:EX=U
"RTN","ONCIPC8C",72,0)
 W !,"     RENAL FAILURE................: ",$$GET1^DIQ(165.5,IE,1364)
"RTN","ONCIPC8C",73,0)
 D P Q:EX=U
"RTN","ONCIPC8C",74,0)
 W !,"     PULMONARY TOXICITY...........: ",$$GET1^DIQ(165.5,IE,1365)
"RTN","ONCIPC8C",75,0)
 D P Q:EX=U
"RTN","ONCIPC8C",76,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1366)
"RTN","ONCIPC8C",77,0)
 D P Q:EX=U
"RTN","ONCIPC8C",78,0)
 W !
"RTN","ONCIPC8C",79,0)
 D P Q:EX=U
"RTN","ONCIPC8C",80,0)
 W !,"66. REASON FOR NO CHEMOTHERAPY....: ",$$GET1^DIQ(165.5,IE,76)
"RTN","ONCIPC8C",81,0)
 D P Q:EX=U
"RTN","ONCIPC8C",82,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G OT
"RTN","ONCIPC8C",83,0)
 W !
"RTN","ONCIPC8C",84,0)
 D P Q:EX=U
"RTN","ONCIPC8C",85,0)
OT W !?4,"OTHER THERAPY",!?4,"-------------"
"RTN","ONCIPC8C",86,0)
 D P Q:EX=U
"RTN","ONCIPC8C",87,0)
 W !,"67. DATE OTHER TREATMENT STARTED..: ",$$GET1^DIQ(165.5,IE,57)
"RTN","ONCIPC8C",88,0)
 D P Q:EX=U
"RTN","ONCIPC8C",89,0)
 W !,"68. OTHER TREATMENT...............: ",$$GET1^DIQ(165.5,IE,57.2)
"RTN","ONCIPC8C",90,0)
 D P Q:EX=U
"RTN","ONCIPC8C",91,0)
 W !,"69. KARNOFSKY'S RATING AT TIME OF"
"RTN","ONCIPC8C",92,0)
 D P Q:EX=U
"RTN","ONCIPC8C",93,0)
 W !,"     DISCHARGE/TRANSFER...........: ",$$GET1^DIQ(165.5,IE,1367)
"RTN","ONCIPC8C",94,0)
 D P Q:EX=U
"RTN","ONCIPC8C",95,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G IV
"RTN","ONCIPC8C",96,0)
 D P Q:EX=U
"RTN","ONCIPC8C",97,0)
IV S TABLE="RECURRENCE/PROGRESSION"
"RTN","ONCIPC8C",98,0)
 I IOST'?1"C".E W !
"RTN","ONCIPC8C",99,0)
 W !?4,TABLE,!?4,"----------------------"
"RTN","ONCIPC8C",100,0)
 D P Q:EX=U
"RTN","ONCIPC8C",101,0)
 W !,"70. DATE OF FIRST RECURRENCE......: ",$$GET1^DIQ(165.5,IE,70)
"RTN","ONCIPC8C",102,0)
 D P Q:EX=U
"RTN","ONCIPC8C",103,0)
 W !,"71. TYPE OF FIRST RECURRENCE......: ",$$GET1^DIQ(165.5,IE,1372)
"RTN","ONCIPC8C",104,0)
 D P Q:EX=U
"RTN","ONCIPC8C",105,0)
 W !,"72. DATE OF PROGRESSION...........: ",$$GET1^DIQ(165.5,IE,1368)
"RTN","ONCIPC8C",106,0)
 D P Q:EX=U
"RTN","ONCIPC8C",107,0)
 W !,"73. TYPE OF PROGRESSION...........: ",$$GET1^DIQ(165.5,IE,1369)
"RTN","ONCIPC8C",108,0)
 D P Q:EX=U
"RTN","ONCIPC8C",109,0)
 W !,"74. RECURRENCE/PROGRESSION"
"RTN","ONCIPC8C",110,0)
 D P Q:EX=U
"RTN","ONCIPC8C",111,0)
 W !,"     DOCUMENTATION................: ",$$GET1^DIQ(165.5,IE,1370)
"RTN","ONCIPC8C",112,0)
 D P Q:EX=U
"RTN","ONCIPC8C",113,0)
 W !,"75. KARNOFSKY'S RATING AT TIME OF"
"RTN","ONCIPC8C",114,0)
 D P Q:EX=U
"RTN","ONCIPC8C",115,0)
 W !,"     RECURRENCE/PROGRESSION.......: ",$$GET1^DIQ(165.5,IE,1371)
"RTN","ONCIPC8C",116,0)
 D P Q:EX=U
"RTN","ONCIPC8C",117,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G V
"RTN","ONCIPC8C",118,0)
 W !
"RTN","ONCIPC8C",119,0)
 D P Q:EX=U
"RTN","ONCIPC8C",120,0)
V S TABLE="SUBSEQUENT TREATMENT"
"RTN","ONCIPC8C",121,0)
 W !?4,TABLE,!?4,"--------------------"
"RTN","ONCIPC8C",122,0)
 D P Q:EX=U
"RTN","ONCIPC8C",123,0)
 S DSTRP=""
"RTN","ONCIPC8C",124,0)
 I $D(^ONCO(165.5,IE,4,0)) D
"RTN","ONCIPC8C",125,0)
 .S SCTIEN=$O(^ONCO(165.5,IE,4,0))
"RTN","ONCIPC8C",126,0)
 .Q:SCTIEN=""
"RTN","ONCIPC8C",127,0)
 .S DSTRP=$P(^ONCO(165.5,ONCONUM,4,SCTIEN,0),U,1)
"RTN","ONCIPC8C",128,0)
 .S Y=DSTRP D DATEOT^ONCOPCE S DSTRP=Y
"RTN","ONCIPC8C",129,0)
 W !,"76. DATE OF SUBSEQUENT TREATMENT"
"RTN","ONCIPC8C",130,0)
 D P Q:EX=U
"RTN","ONCIPC8C",131,0)
 W !,"     FOR RECURRENCE/PROGRESSION...: ",DSTRP
"RTN","ONCIPC8C",132,0)
 D P Q:EX=U
"RTN","ONCIPC8C",133,0)
 W !,"77. PROTOCOL PARTCIPATION"
"RTN","ONCIPC8C",134,0)
 D P Q:EX=U
"RTN","ONCIPC8C",135,0)
 W !,"     (SUBSEQUENT TREATMENT).......: ",$$GET1^DIQ(165.5,IE,1373)
"RTN","ONCIPC8C",136,0)
 D P Q:EX=U
"RTN","ONCIPC8C",137,0)
 W !,"78. TYPE OF SUBSEQUENT SURGICAL TX"
"RTN","ONCIPC8C",138,0)
 D P Q:EX=U
"RTN","ONCIPC8C",139,0)
 W !,"     FOR RECURRENCE/PROGRESSION...: ",$$GET1^DIQ(165.5,IE,1374)
"RTN","ONCIPC8C",140,0)
 D P Q:EX=U
"RTN","ONCIPC8C",141,0)
 W !,"79. TYPE OF SUBSEQUENT RADIATION"
"RTN","ONCIPC8C",142,0)
 D P Q:EX=U
"RTN","ONCIPC8C",143,0)
 W !,"     TX FOR RECURRENCE/PROGRESSION: ",$$GET1^DIQ(165.5,IE,1375)
"RTN","ONCIPC8C",144,0)
 D P Q:EX=U
"RTN","ONCIPC8C",145,0)
 W !
"RTN","ONCIPC8C",146,0)
 D P Q:EX=U
"RTN","ONCIPC8C",147,0)
 W !,"80. TYPE OF SUBSEQUENT CHEMOTHERAPY FOR RECURRENCE/PROGRESSION:"
"RTN","ONCIPC8C",148,0)
 D P Q:EX=U
"RTN","ONCIPC8C",149,0)
 W !,"     PROCARBAZINE.................: ",$$GET1^DIQ(165.5,IE,1376)
"RTN","ONCIPC8C",150,0)
 D P Q:EX=U
"RTN","ONCIPC8C",151,0)
 W !,"     CCNU.........................: ",$$GET1^DIQ(165.5,IE,1377)
"RTN","ONCIPC8C",152,0)
 D P Q:EX=U
"RTN","ONCIPC8C",153,0)
 W !,"     VINCRISTINE..................: ",$$GET1^DIQ(165.5,IE,1378)
"RTN","ONCIPC8C",154,0)
 D P Q:EX=U
"RTN","ONCIPC8C",155,0)
 W !,"     HYDROXYUREA..................: ",$$GET1^DIQ(165.5,IE,1379)
"RTN","ONCIPC8C",156,0)
 D P Q:EX=U
"RTN","ONCIPC8C",157,0)
 W !,"     METHOTREXATE.................: ",$$GET1^DIQ(165.5,IE,1380)
"RTN","ONCIPC8C",158,0)
 D P Q:EX=U
"RTN","ONCIPC8C",159,0)
 W !,"     CISPLATIN....................: ",$$GET1^DIQ(165.5,IE,1381)
"RTN","ONCIPC8C",160,0)
 D P Q:EX=U
"RTN","ONCIPC8C",161,0)
 W !,"     BCNU.........................: ",$$GET1^DIQ(165.5,IE,1382)
"RTN","ONCIPC8C",162,0)
 D P Q:EX=U
"RTN","ONCIPC8C",163,0)
 W !,"     BCNU, WAFER IMPLANT..........: ",$$GET1^DIQ(165.5,IE,1383)
"RTN","ONCIPC8C",164,0)
 D P Q:EX=U
"RTN","ONCIPC8C",165,0)
 W !,"     VP-16........................: ",$$GET1^DIQ(165.5,IE,1384)
"RTN","ONCIPC8C",166,0)
 D P Q:EX=U
"RTN","ONCIPC8C",167,0)
 W !,"     CARBOPLATIN..................: ",$$GET1^DIQ(165.5,IE,1385)
"RTN","ONCIPC8C",168,0)
 D P Q:EX=U
"RTN","ONCIPC8C",169,0)
 W !,"     TEMOZOLOMIDE.................: ",$$GET1^DIQ(165.5,IE,1386)
"RTN","ONCIPC8C",170,0)
 D P Q:EX=U
"RTN","ONCIPC8C",171,0)
 W !,"     CYCLOPHOSPHAMIDE.............: ",$$GET1^DIQ(165.5,IE,1387)
"RTN","ONCIPC8C",172,0)
 D P Q:EX=U
"RTN","ONCIPC8C",173,0)
 W !,"     CPT-11.......................: ",$$GET1^DIQ(165.5,IE,1388)
"RTN","ONCIPC8C",174,0)
 D P Q:EX=U
"RTN","ONCIPC8C",175,0)
 W !,"     TAMOXIFEN....................: ",$$GET1^DIQ(165.5,IE,1389)
"RTN","ONCIPC8C",176,0)
 D P Q:EX=U
"RTN","ONCIPC8C",177,0)
 W !,"     INTERFERON...................: ",$$GET1^DIQ(165.5,IE,1390)
"RTN","ONCIPC8C",178,0)
 D P Q:EX=U
"RTN","ONCIPC8C",179,0)
 W !,"     CYTARABINE (ARA-C)...........: ",$$GET1^DIQ(165.5,IE,1391)
"RTN","ONCIPC8C",180,0)
 D P Q:EX=U
"RTN","ONCIPC8C",181,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1392)
"RTN","ONCIPC8C",182,0)
 D P Q:EX=U
"RTN","ONCIPC8C",183,0)
 W !
"RTN","ONCIPC8C",184,0)
 D P Q:EX=U
"RTN","ONCIPC8C",185,0)
 W !,"81. OTHER TYPE OF SUBSEQUENT TX"
"RTN","ONCIPC8C",186,0)
 D P Q:EX=U
"RTN","ONCIPC8C",187,0)
 W !,"     FOR RECURRENCE/PROGRESSION...: ",$$GET1^DIQ(165.5,IE,1393)
"RTN","ONCIPC8C",188,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCIPC0 G VI
"RTN","ONCIPC8C",189,0)
 W !
"RTN","ONCIPC8C",190,0)
 D P Q:EX=U
"RTN","ONCIPC8C",191,0)
VI S TABLE="STATUS AT LAST CONTACT"
"RTN","ONCIPC8C",192,0)
 W !?4,TABLE,!?4,"----------------------"
"RTN","ONCIPC8C",193,0)
 D P Q:EX=U
"RTN","ONCIPC8C",194,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCIPC8C",195,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCIPC8C",196,0)
 W !,"82. DATE OF LAST CONTACT OR DEATH.: ",DLC
"RTN","ONCIPC8C",197,0)
 D P Q:EX=U
"RTN","ONCIPC8C",198,0)
 W !,"83. VITAL STATUS..................: ",$$GET1^DIQ(160,ONCOPA,15)
"RTN","ONCIPC8C",199,0)
 D P Q:EX=U
"RTN","ONCIPC8C",200,0)
 S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCIPC8C",201,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCIPC8C",202,0)
 .S CSI=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCIPC8C",203,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSI,0),U,2)
"RTN","ONCIPC8C",204,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCIPC8C",205,0)
 W !,"84. CANCER STATUS.................: ",CS
"RTN","ONCIPC8C",206,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCIPC8C",207,0)
 Q
"RTN","ONCIPC8C",208,0)
P ;Print
"RTN","ONCIPC8C",209,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCIPC8C",210,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCIPC8C",211,0)
 .D HEAD^ONCIPC0 Q
"RTN","ONCIPC8C",212,0)
 Q
"RTN","ONCLNG")
0^110^B16808865
"RTN","ONCLNG",1,0)
ONCLNG ;Hines OIFO/GWB - Lung histology exclusion table ;03/09/11
"RTN","ONCLNG",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLNG",3,0)
 ;
"RTN","ONCLNG",4,0)
 K ONCLUNG
"RTN","ONCLNG",5,0)
 S:ONCED<7 ONCLUNG(82401)=""
"RTN","ONCLNG",6,0)
 S:ONCED<7 ONCLUNG(82403)=""
"RTN","ONCLNG",7,0)
 S:ONCED<7 ONCLUNG(82413)=""
"RTN","ONCLNG",8,0)
 S:ONCED<7 ONCLUNG(82421)=""
"RTN","ONCLNG",9,0)
 S:ONCED<7 ONCLUNG(82423)=""
"RTN","ONCLNG",10,0)
 S:ONCED<7 ONCLUNG(82433)=""
"RTN","ONCLNG",11,0)
 S ONCLUNG(82481)=""
"RTN","ONCLNG",12,0)
 S ONCLUNG(86800)=""
"RTN","ONCLNG",13,0)
 S ONCLUNG(86801)=""
"RTN","ONCLNG",14,0)
 S ONCLUNG(86803)=""
"RTN","ONCLNG",15,0)
 S ONCLUNG(86811)=""
"RTN","ONCLNG",16,0)
 S ONCLUNG(86821)=""
"RTN","ONCLNG",17,0)
 S ONCLUNG(86830)=""
"RTN","ONCLNG",18,0)
 S ONCLUNG(86901)=""
"RTN","ONCLNG",19,0)
 S ONCLUNG(86911)=""
"RTN","ONCLNG",20,0)
 S ONCLUNG(86921)=""
"RTN","ONCLNG",21,0)
 S ONCLUNG(86931)=""
"RTN","ONCLNG",22,0)
 S ONCLUNG(86933)=""
"RTN","ONCLNG",23,0)
 S ONCLUNG(87000)=""
"RTN","ONCLNG",24,0)
 S ONCLUNG(87003)=""
"RTN","ONCLNG",25,0)
 S ONCLUNG(87103)=""
"RTN","ONCLNG",26,0)
 S ONCLUNG(87110)=""
"RTN","ONCLNG",27,0)
 S ONCLUNG(87113)=""
"RTN","ONCLNG",28,0)
 S ONCLUNG(87120)=""
"RTN","ONCLNG",29,0)
 S ONCLUNG(87130)=""
"RTN","ONCLNG",30,0)
 S ONCLUNG(88000)=""
"RTN","ONCLNG",31,0)
 S ONCLUNG(88003)=""
"RTN","ONCLNG",32,0)
 S ONCLUNG(88009)=""
"RTN","ONCLNG",33,0)
 S ONCLUNG(88013)=""
"RTN","ONCLNG",34,0)
 S ONCLUNG(88023)=""
"RTN","ONCLNG",35,0)
 S ONCLUNG(88033)=""
"RTN","ONCLNG",36,0)
 S ONCLUNG(88043)=""
"RTN","ONCLNG",37,0)
 S ONCLUNG(88053)=""
"RTN","ONCLNG",38,0)
 S ONCLUNG(88063)=""
"RTN","ONCLNG",39,0)
 S ONCLUNG(88100)=""
"RTN","ONCLNG",40,0)
 S ONCLUNG(88101)=""
"RTN","ONCLNG",41,0)
 S ONCLUNG(88103)=""
"RTN","ONCLNG",42,0)
 S ONCLUNG(88110)=""
"RTN","ONCLNG",43,0)
 S ONCLUNG(88113)=""
"RTN","ONCLNG",44,0)
 S ONCLUNG(88120)=""
"RTN","ONCLNG",45,0)
 S ONCLUNG(88123)=""
"RTN","ONCLNG",46,0)
 S ONCLUNG(88130)=""
"RTN","ONCLNG",47,0)
 S ONCLUNG(88133)=""
"RTN","ONCLNG",48,0)
 S ONCLUNG(88143)=""
"RTN","ONCLNG",49,0)
 S ONCLUNG(88150)=""
"RTN","ONCLNG",50,0)
 S ONCLUNG(88153)=""
"RTN","ONCLNG",51,0)
 S ONCLUNG(88200)=""
"RTN","ONCLNG",52,0)
 S ONCLUNG(88211)=""
"RTN","ONCLNG",53,0)
 S ONCLUNG(88221)=""
"RTN","ONCLNG",54,0)
 S ONCLUNG(88230)=""
"RTN","ONCLNG",55,0)
 S ONCLUNG(88240)=""
"RTN","ONCLNG",56,0)
 S ONCLUNG(88241)=""
"RTN","ONCLNG",57,0)
 S ONCLUNG(88250)=""
"RTN","ONCLNG",58,0)
 S ONCLUNG(88251)=""
"RTN","ONCLNG",59,0)
 S ONCLUNG(88260)=""
"RTN","ONCLNG",60,0)
 S ONCLUNG(88271)=""
"RTN","ONCLNG",61,0)
 S ONCLUNG(88300)=""
"RTN","ONCLNG",62,0)
 S ONCLUNG(88301)=""
"RTN","ONCLNG",63,0)
 S ONCLUNG(88303)=""
"RTN","ONCLNG",64,0)
 S ONCLUNG(88310)=""
"RTN","ONCLNG",65,0)
 S ONCLUNG(88320)=""
"RTN","ONCLNG",66,0)
 S ONCLUNG(88323)=""
"RTN","ONCLNG",67,0)
 S ONCLUNG(88333)=""
"RTN","ONCLNG",68,0)
 S ONCLUNG(88341)=""
"RTN","ONCLNG",69,0)
 S ONCLUNG(88351)=""
"RTN","ONCLNG",70,0)
 S ONCLUNG(88361)=""
"RTN","ONCLNG",71,0)
 S ONCLUNG(88400)=""
"RTN","ONCLNG",72,0)
 S ONCLUNG(88403)=""
"RTN","ONCLNG",73,0)
 S ONCLUNG(88411)=""
"RTN","ONCLNG",74,0)
 S ONCLUNG(88420)=""
"RTN","ONCLNG",75,0)
 S ONCLUNG(88500)=""
"RTN","ONCLNG",76,0)
 S ONCLUNG(88501)=""
"RTN","ONCLNG",77,0)
 S ONCLUNG(88503)=""
"RTN","ONCLNG",78,0)
 S ONCLUNG(88510)=""
"RTN","ONCLNG",79,0)
 S ONCLUNG(88513)=""
"RTN","ONCLNG",80,0)
 S ONCLUNG(88520)=""
"RTN","ONCLNG",81,0)
 S ONCLUNG(88523)=""
"RTN","ONCLNG",82,0)
 S ONCLUNG(88533)=""
"RTN","ONCLNG",83,0)
 S ONCLUNG(88540)=""
"RTN","ONCLNG",84,0)
 S ONCLUNG(88543)=""
"RTN","ONCLNG",85,0)
 S ONCLUNG(88553)=""
"RTN","ONCLNG",86,0)
 S ONCLUNG(88560)=""
"RTN","ONCLNG",87,0)
 S ONCLUNG(88570)=""
"RTN","ONCLNG",88,0)
 S ONCLUNG(88573)=""
"RTN","ONCLNG",89,0)
 S ONCLUNG(88583)=""
"RTN","ONCLNG",90,0)
 S ONCLUNG(88600)=""
"RTN","ONCLNG",91,0)
 S ONCLUNG(88610)=""
"RTN","ONCLNG",92,0)
 S ONCLUNG(88620)=""
"RTN","ONCLNG",93,0)
 S ONCLUNG(88700)=""
"RTN","ONCLNG",94,0)
 S ONCLUNG(88800)=""
"RTN","ONCLNG",95,0)
 S ONCLUNG(88810)=""
"RTN","ONCLNG",96,0)
 S ONCLUNG(88900)=""
"RTN","ONCLNG",97,0)
 S ONCLUNG(88901)=""
"RTN","ONCLNG",98,0)
 S ONCLUNG(88903)=""
"RTN","ONCLNG",99,0)
 S ONCLUNG(88910)=""
"RTN","ONCLNG",100,0)
 S ONCLUNG(88913)=""
"RTN","ONCLNG",101,0)
 S ONCLUNG(88920)=""
"RTN","ONCLNG",102,0)
 S ONCLUNG(88930)=""
"RTN","ONCLNG",103,0)
 S ONCLUNG(88940)=""
"RTN","ONCLNG",104,0)
 S ONCLUNG(88943)=""
"RTN","ONCLNG",105,0)
 S ONCLUNG(88950)=""
"RTN","ONCLNG",106,0)
 S ONCLUNG(88953)=""
"RTN","ONCLNG",107,0)
 S ONCLUNG(88963)=""
"RTN","ONCLNG",108,0)
 S ONCLUNG(88971)=""
"RTN","ONCLNG",109,0)
 S ONCLUNG(88981)=""
"RTN","ONCLNG",110,0)
 S ONCLUNG(89000)=""
"RTN","ONCLNG",111,0)
 S ONCLUNG(89003)=""
"RTN","ONCLNG",112,0)
 S ONCLUNG(89013)=""
"RTN","ONCLNG",113,0)
 S ONCLUNG(89023)=""
"RTN","ONCLNG",114,0)
 S ONCLUNG(89030)=""
"RTN","ONCLNG",115,0)
 S ONCLUNG(89040)=""
"RTN","ONCLNG",116,0)
 S ONCLUNG(89050)=""
"RTN","ONCLNG",117,0)
 S ONCLUNG(89103)=""
"RTN","ONCLNG",118,0)
 S ONCLUNG(89123)=""
"RTN","ONCLNG",119,0)
 S ONCLUNG(89203)=""
"RTN","ONCLNG",120,0)
 S ONCLUNG(89213)=""
"RTN","ONCLNG",121,0)
 S ONCLUNG(89300)=""
"RTN","ONCLNG",122,0)
 S ONCLUNG(89303)=""
"RTN","ONCLNG",123,0)
 S ONCLUNG(89313)=""
"RTN","ONCLNG",124,0)
 S ONCLUNG(89320)=""
"RTN","ONCLNG",125,0)
 S ONCLUNG(89333)=""
"RTN","ONCLNG",126,0)
 S ONCLUNG(89343)=""
"RTN","ONCLNG",127,0)
 S ONCLUNG(89350)=""
"RTN","ONCLNG",128,0)
 S ONCLUNG(89351)=""
"RTN","ONCLNG",129,0)
 S ONCLUNG(89353)=""
"RTN","ONCLNG",130,0)
 S ONCLUNG(89360)=""
"RTN","ONCLNG",131,0)
 S ONCLUNG(89361)=""
"RTN","ONCLNG",132,0)
 S ONCLUNG(89363)=""
"RTN","ONCLNG",133,0)
 S:ONCED<7 ONCLUNG(89503)=""
"RTN","ONCLNG",134,0)
 S ONCLUNG(89513)=""
"RTN","ONCLNG",135,0)
 S ONCLUNG(89590)=""
"RTN","ONCLNG",136,0)
 S ONCLUNG(89591)=""
"RTN","ONCLNG",137,0)
 S ONCLUNG(89593)=""
"RTN","ONCLNG",138,0)
 S ONCLUNG(89601)=""
"RTN","ONCLNG",139,0)
 S ONCLUNG(89603)=""
"RTN","ONCLNG",140,0)
 S ONCLUNG(89633)=""
"RTN","ONCLNG",141,0)
 S ONCLUNG(89643)=""
"RTN","ONCLNG",142,0)
 S ONCLUNG(89650)=""
"RTN","ONCLNG",143,0)
 S ONCLUNG(89660)=""
"RTN","ONCLNG",144,0)
 S ONCLUNG(89670)=""
"RTN","ONCLNG",145,0)
 S ONCLUNG(89703)=""
"RTN","ONCLNG",146,0)
 S ONCLUNG(89713)=""
"RTN","ONCLNG",147,0)
 S ONCLUNG(89723)=""
"RTN","ONCLNG",148,0)
 S ONCLUNG(89733)=""
"RTN","ONCLNG",149,0)
 S ONCLUNG(89741)=""
"RTN","ONCLNG",150,0)
 S:ONCED<7 ONCLUNG(89803)=""
"RTN","ONCLNG",151,0)
 S:ONCED<7 ONCLUNG(89813)=""
"RTN","ONCLNG",152,0)
 S ONCLUNG(89820)=""
"RTN","ONCLNG",153,0)
 S ONCLUNG(89823)=""
"RTN","ONCLNG",154,0)
 S ONCLUNG(89830)=""
"RTN","ONCLNG",155,0)
 S ONCLUNG(89900)=""
"RTN","ONCLNG",156,0)
 S ONCLUNG(89901)=""
"RTN","ONCLNG",157,0)
 S ONCLUNG(89903)=""
"RTN","ONCLNG",158,0)
 S ONCLUNG(89913)=""
"RTN","ONCLNG",159,0)
 Q
"RTN","ONCLNG",160,0)
 ;
"RTN","ONCLNG",161,0)
CLEANUP ;Cleanup
"RTN","ONCLNG",162,0)
 K ONCED
"RTN","ONCLNG1")
0^111^B99067756
"RTN","ONCLNG1",1,0)
ONCLNG1 ;Hines OIFO/GWB - Lung histology exclusion table (continued); 061406
"RTN","ONCLNG1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLNG1",3,0)
 ;
"RTN","ONCLNG1",4,0)
 S ONCLUNG(90000)=""
"RTN","ONCLNG1",5,0)
 S ONCLUNG(90001)=""
"RTN","ONCLNG1",6,0)
 S ONCLUNG(90003)=""
"RTN","ONCLNG1",7,0)
 S ONCLUNG(90100)=""
"RTN","ONCLNG1",8,0)
 S ONCLUNG(90110)=""
"RTN","ONCLNG1",9,0)
 S ONCLUNG(90120)=""
"RTN","ONCLNG1",10,0)
 S ONCLUNG(90130)=""
"RTN","ONCLNG1",11,0)
 S ONCLUNG(90140)=""
"RTN","ONCLNG1",12,0)
 S ONCLUNG(90141)=""
"RTN","ONCLNG1",13,0)
 S ONCLUNG(90143)=""
"RTN","ONCLNG1",14,0)
 S ONCLUNG(90150)=""
"RTN","ONCLNG1",15,0)
 S ONCLUNG(90151)=""
"RTN","ONCLNG1",16,0)
 S ONCLUNG(90153)=""
"RTN","ONCLNG1",17,0)
 S ONCLUNG(90160)=""
"RTN","ONCLNG1",18,0)
 S ONCLUNG(90200)=""
"RTN","ONCLNG1",19,0)
 S ONCLUNG(90201)=""
"RTN","ONCLNG1",20,0)
 S ONCLUNG(90203)=""
"RTN","ONCLNG1",21,0)
 S ONCLUNG(90300)=""
"RTN","ONCLNG1",22,0)
 S ONCLUNG(90400)=""
"RTN","ONCLNG1",23,0)
 S ONCLUNG(90403)=""
"RTN","ONCLNG1",24,0)
 S ONCLUNG(90413)=""
"RTN","ONCLNG1",25,0)
 S ONCLUNG(90423)=""
"RTN","ONCLNG1",26,0)
 S ONCLUNG(90433)=""
"RTN","ONCLNG1",27,0)
 S ONCLUNG(90443)=""
"RTN","ONCLNG1",28,0)
 S ONCLUNG(90500)=""
"RTN","ONCLNG1",29,0)
 S ONCLUNG(90503)=""
"RTN","ONCLNG1",30,0)
 S ONCLUNG(90510)=""
"RTN","ONCLNG1",31,0)
 S ONCLUNG(90513)=""
"RTN","ONCLNG1",32,0)
 S ONCLUNG(90520)=""
"RTN","ONCLNG1",33,0)
 S ONCLUNG(90523)=""
"RTN","ONCLNG1",34,0)
 S ONCLUNG(90533)=""
"RTN","ONCLNG1",35,0)
 S ONCLUNG(90540)=""
"RTN","ONCLNG1",36,0)
 S ONCLUNG(90550)=""
"RTN","ONCLNG1",37,0)
 S ONCLUNG(90551)=""
"RTN","ONCLNG1",38,0)
 S ONCLUNG(90603)=""
"RTN","ONCLNG1",39,0)
 S ONCLUNG(90613)=""
"RTN","ONCLNG1",40,0)
 S ONCLUNG(90623)=""
"RTN","ONCLNG1",41,0)
 S ONCLUNG(90633)=""
"RTN","ONCLNG1",42,0)
 S ONCLUNG(90642)=""
"RTN","ONCLNG1",43,0)
 S ONCLUNG(90643)=""
"RTN","ONCLNG1",44,0)
 S ONCLUNG(90653)=""
"RTN","ONCLNG1",45,0)
 S ONCLUNG(90703)=""
"RTN","ONCLNG1",46,0)
 S ONCLUNG(90713)=""
"RTN","ONCLNG1",47,0)
 S ONCLUNG(90723)=""
"RTN","ONCLNG1",48,0)
 S ONCLUNG(90731)=""
"RTN","ONCLNG1",49,0)
 S ONCLUNG(90800)=""
"RTN","ONCLNG1",50,0)
 S ONCLUNG(90801)=""
"RTN","ONCLNG1",51,0)
 S ONCLUNG(90803)=""
"RTN","ONCLNG1",52,0)
 S ONCLUNG(90813)=""
"RTN","ONCLNG1",53,0)
 S ONCLUNG(90823)=""
"RTN","ONCLNG1",54,0)
 S ONCLUNG(90833)=""
"RTN","ONCLNG1",55,0)
 S ONCLUNG(90840)=""
"RTN","ONCLNG1",56,0)
 S ONCLUNG(90843)=""
"RTN","ONCLNG1",57,0)
 S ONCLUNG(90853)=""
"RTN","ONCLNG1",58,0)
 S ONCLUNG(90900)=""
"RTN","ONCLNG1",59,0)
 S ONCLUNG(90903)=""
"RTN","ONCLNG1",60,0)
 S ONCLUNG(90911)=""
"RTN","ONCLNG1",61,0)
 S ONCLUNG(91000)=""
"RTN","ONCLNG1",62,0)
 S ONCLUNG(91001)=""
"RTN","ONCLNG1",63,0)
 S ONCLUNG(91003)=""
"RTN","ONCLNG1",64,0)
 S ONCLUNG(91013)=""
"RTN","ONCLNG1",65,0)
 S ONCLUNG(91023)=""
"RTN","ONCLNG1",66,0)
 S ONCLUNG(91030)=""
"RTN","ONCLNG1",67,0)
 S ONCLUNG(91041)=""
"RTN","ONCLNG1",68,0)
 S ONCLUNG(91053)=""
"RTN","ONCLNG1",69,0)
 S ONCLUNG(91100)=""
"RTN","ONCLNG1",70,0)
 S ONCLUNG(91101)=""
"RTN","ONCLNG1",71,0)
 S ONCLUNG(91103)=""
"RTN","ONCLNG1",72,0)
 S ONCLUNG(91200)=""
"RTN","ONCLNG1",73,0)
 S ONCLUNG(91203)=""
"RTN","ONCLNG1",74,0)
 S ONCLUNG(91210)=""
"RTN","ONCLNG1",75,0)
 S ONCLUNG(91220)=""
"RTN","ONCLNG1",76,0)
 S ONCLUNG(91230)=""
"RTN","ONCLNG1",77,0)
 S ONCLUNG(91243)=""
"RTN","ONCLNG1",78,0)
 S ONCLUNG(91250)=""
"RTN","ONCLNG1",79,0)
 S ONCLUNG(91300)=""
"RTN","ONCLNG1",80,0)
 S ONCLUNG(91301)=""
"RTN","ONCLNG1",81,0)
 S ONCLUNG(91303)=""
"RTN","ONCLNG1",82,0)
 S ONCLUNG(91310)=""
"RTN","ONCLNG1",83,0)
 S ONCLUNG(91320)=""
"RTN","ONCLNG1",84,0)
 S ONCLUNG(91331)=""
"RTN","ONCLNG1",85,0)
 S ONCLUNG(91333)=""
"RTN","ONCLNG1",86,0)
 S ONCLUNG(91351)=""
"RTN","ONCLNG1",87,0)
 S ONCLUNG(91361)=""
"RTN","ONCLNG1",88,0)
 S ONCLUNG(91403)=""
"RTN","ONCLNG1",89,0)
 S ONCLUNG(91410)=""
"RTN","ONCLNG1",90,0)
 S ONCLUNG(91420)=""
"RTN","ONCLNG1",91,0)
 S ONCLUNG(91500)=""
"RTN","ONCLNG1",92,0)
 S ONCLUNG(91501)=""
"RTN","ONCLNG1",93,0)
 S ONCLUNG(91503)=""
"RTN","ONCLNG1",94,0)
 S ONCLUNG(91600)=""
"RTN","ONCLNG1",95,0)
 S ONCLUNG(91610)=""
"RTN","ONCLNG1",96,0)
 S ONCLUNG(91611)=""
"RTN","ONCLNG1",97,0)
 S ONCLUNG(91700)=""
"RTN","ONCLNG1",98,0)
 S ONCLUNG(91703)=""
"RTN","ONCLNG1",99,0)
 S ONCLUNG(91710)=""
"RTN","ONCLNG1",100,0)
 S ONCLUNG(91720)=""
"RTN","ONCLNG1",101,0)
 S ONCLUNG(91730)=""
"RTN","ONCLNG1",102,0)
 S ONCLUNG(91740)=""
"RTN","ONCLNG1",103,0)
 S ONCLUNG(91741)=""
"RTN","ONCLNG1",104,0)
 S ONCLUNG(91750)=""
"RTN","ONCLNG1",105,0)
 S ONCLUNG(91800)=""
"RTN","ONCLNG1",106,0)
 S ONCLUNG(91803)=""
"RTN","ONCLNG1",107,0)
 S ONCLUNG(91813)=""
"RTN","ONCLNG1",108,0)
 S ONCLUNG(91823)=""
"RTN","ONCLNG1",109,0)
 S ONCLUNG(91833)=""
"RTN","ONCLNG1",110,0)
 S ONCLUNG(91843)=""
"RTN","ONCLNG1",111,0)
 S ONCLUNG(91853)=""
"RTN","ONCLNG1",112,0)
 S ONCLUNG(91863)=""
"RTN","ONCLNG1",113,0)
 S ONCLUNG(91873)=""
"RTN","ONCLNG1",114,0)
 S ONCLUNG(91910)=""
"RTN","ONCLNG1",115,0)
 S ONCLUNG(91923)=""
"RTN","ONCLNG1",116,0)
 S ONCLUNG(91933)=""
"RTN","ONCLNG1",117,0)
 S ONCLUNG(91943)=""
"RTN","ONCLNG1",118,0)
 S ONCLUNG(91953)=""
"RTN","ONCLNG1",119,0)
 S ONCLUNG(92000)=""
"RTN","ONCLNG1",120,0)
 S ONCLUNG(92001)=""
"RTN","ONCLNG1",121,0)
 S ONCLUNG(92100)=""
"RTN","ONCLNG1",122,0)
 S ONCLUNG(92101)=""
"RTN","ONCLNG1",123,0)
 S ONCLUNG(92200)=""
"RTN","ONCLNG1",124,0)
 S ONCLUNG(92201)=""
"RTN","ONCLNG1",125,0)
 S ONCLUNG(92203)=""
"RTN","ONCLNG1",126,0)
 S ONCLUNG(92210)=""
"RTN","ONCLNG1",127,0)
 S ONCLUNG(92213)=""
"RTN","ONCLNG1",128,0)
 S ONCLUNG(92300)=""
"RTN","ONCLNG1",129,0)
 S ONCLUNG(92303)=""
"RTN","ONCLNG1",130,0)
 S ONCLUNG(92313)=""
"RTN","ONCLNG1",131,0)
 S ONCLUNG(92403)=""
"RTN","ONCLNG1",132,0)
 S ONCLUNG(92410)=""
"RTN","ONCLNG1",133,0)
 S ONCLUNG(92423)=""
"RTN","ONCLNG1",134,0)
 S ONCLUNG(92433)=""
"RTN","ONCLNG1",135,0)
 S ONCLUNG(92501)=""
"RTN","ONCLNG1",136,0)
 S ONCLUNG(92503)=""
"RTN","ONCLNG1",137,0)
 S ONCLUNG(92511)=""
"RTN","ONCLNG1",138,0)
 S ONCLUNG(92513)=""
"RTN","ONCLNG1",139,0)
 S ONCLUNG(92520)=""
"RTN","ONCLNG1",140,0)
 S ONCLUNG(92523)=""
"RTN","ONCLNG1",141,0)
 S ONCLUNG(92603)=""
"RTN","ONCLNG1",142,0)
 S ONCLUNG(92613)=""
"RTN","ONCLNG1",143,0)
 S ONCLUNG(92620)=""
"RTN","ONCLNG1",144,0)
 S ONCLUNG(92700)=""
"RTN","ONCLNG1",145,0)
 S ONCLUNG(92701)=""
"RTN","ONCLNG1",146,0)
 S ONCLUNG(92703)=""
"RTN","ONCLNG1",147,0)
 S ONCLUNG(92710)=""
"RTN","ONCLNG1",148,0)
 S ONCLUNG(92720)=""
"RTN","ONCLNG1",149,0)
 S ONCLUNG(92730)=""
"RTN","ONCLNG1",150,0)
 S ONCLUNG(92740)=""
"RTN","ONCLNG1",151,0)
 S ONCLUNG(92750)=""
"RTN","ONCLNG1",152,0)
 S ONCLUNG(92800)=""
"RTN","ONCLNG1",153,0)
 S ONCLUNG(92810)=""
"RTN","ONCLNG1",154,0)
 S ONCLUNG(92820)=""
"RTN","ONCLNG1",155,0)
 S ONCLUNG(92900)=""
"RTN","ONCLNG1",156,0)
 S ONCLUNG(92903)=""
"RTN","ONCLNG1",157,0)
 S ONCLUNG(93000)=""
"RTN","ONCLNG1",158,0)
 S ONCLUNG(93010)=""
"RTN","ONCLNG1",159,0)
 S ONCLUNG(93020)=""
"RTN","ONCLNG1",160,0)
 S ONCLUNG(93100)=""
"RTN","ONCLNG1",161,0)
 S ONCLUNG(93103)=""
"RTN","ONCLNG1",162,0)
 S ONCLUNG(93110)=""
"RTN","ONCLNG1",163,0)
 S ONCLUNG(93120)=""
"RTN","ONCLNG1",164,0)
 S ONCLUNG(93200)=""
"RTN","ONCLNG1",165,0)
 S ONCLUNG(93210)=""
"RTN","ONCLNG1",166,0)
 S ONCLUNG(93220)=""
"RTN","ONCLNG1",167,0)
 S ONCLUNG(93300)=""
"RTN","ONCLNG1",168,0)
 S ONCLUNG(93303)=""
"RTN","ONCLNG1",169,0)
 S ONCLUNG(93400)=""
"RTN","ONCLNG1",170,0)
 S ONCLUNG(93411)=""
"RTN","ONCLNG1",171,0)
 S ONCLUNG(93423)=""
"RTN","ONCLNG1",172,0)
 S ONCLUNG(93501)=""
"RTN","ONCLNG1",173,0)
 S ONCLUNG(93511)=""
"RTN","ONCLNG1",174,0)
 S ONCLUNG(93521)=""
"RTN","ONCLNG1",175,0)
 S ONCLUNG(93601)=""
"RTN","ONCLNG1",176,0)
 S ONCLUNG(93611)=""
"RTN","ONCLNG1",177,0)
 S ONCLUNG(93623)=""
"RTN","ONCLNG1",178,0)
 S ONCLUNG(93630)=""
"RTN","ONCLNG1",179,0)
 S ONCLUNG(93643)=""
"RTN","ONCLNG1",180,0)
 S ONCLUNG(93653)=""
"RTN","ONCLNG1",181,0)
 S ONCLUNG(93703)=""
"RTN","ONCLNG1",182,0)
 S ONCLUNG(93713)=""
"RTN","ONCLNG1",183,0)
 S ONCLUNG(93723)=""
"RTN","ONCLNG1",184,0)
 S ONCLUNG(93730)=""
"RTN","ONCLNG1",185,0)
 S ONCLUNG(93803)=""
"RTN","ONCLNG1",186,0)
 S ONCLUNG(93813)=""
"RTN","ONCLNG1",187,0)
 S ONCLUNG(93823)=""
"RTN","ONCLNG1",188,0)
 S ONCLUNG(93831)=""
"RTN","ONCLNG1",189,0)
 S ONCLUNG(93841)=""
"RTN","ONCLNG1",190,0)
 S ONCLUNG(93900)=""
"RTN","ONCLNG1",191,0)
 S ONCLUNG(93901)=""
"RTN","ONCLNG1",192,0)
 S ONCLUNG(93903)=""
"RTN","ONCLNG1",193,0)
 S ONCLUNG(93913)=""
"RTN","ONCLNG1",194,0)
 S ONCLUNG(93923)=""
"RTN","ONCLNG1",195,0)
 S ONCLUNG(93933)=""
"RTN","ONCLNG1",196,0)
 S ONCLUNG(93941)=""
"RTN","ONCLNG1",197,0)
 S ONCLUNG(94003)=""
"RTN","ONCLNG1",198,0)
 S ONCLUNG(94013)=""
"RTN","ONCLNG1",199,0)
 S ONCLUNG(94103)=""
"RTN","ONCLNG1",200,0)
 S ONCLUNG(94113)=""
"RTN","ONCLNG1",201,0)
 S ONCLUNG(94121)=""
"RTN","ONCLNG1",202,0)
 S ONCLUNG(94130)=""
"RTN","ONCLNG1",203,0)
 S ONCLUNG(94203)=""
"RTN","ONCLNG1",204,0)
 S ONCLUNG(94211)=""
"RTN","ONCLNG1",205,0)
 S ONCLUNG(94233)=""
"RTN","ONCLNG1",206,0)
 S ONCLUNG(94243)=""
"RTN","ONCLNG1",207,0)
 S ONCLUNG(94303)=""
"RTN","ONCLNG1",208,0)
 S ONCLUNG(94403)=""
"RTN","ONCLNG1",209,0)
 S ONCLUNG(94413)=""
"RTN","ONCLNG1",210,0)
 S ONCLUNG(94421)=""
"RTN","ONCLNG1",211,0)
 S ONCLUNG(94423)=""
"RTN","ONCLNG1",212,0)
 S ONCLUNG(94441)=""
"RTN","ONCLNG1",213,0)
 S ONCLUNG(94503)=""
"RTN","ONCLNG1",214,0)
 S ONCLUNG(94513)=""
"RTN","ONCLNG1",215,0)
 S ONCLUNG(94603)=""
"RTN","ONCLNG1",216,0)
 S ONCLUNG(94703)=""
"RTN","ONCLNG1",217,0)
 S ONCLUNG(94713)=""
"RTN","ONCLNG1",218,0)
 S ONCLUNG(94723)=""
"RTN","ONCLNG1",219,0)
 S ONCLUNG(94733)=""
"RTN","ONCLNG1",220,0)
 S ONCLUNG(94743)=""
"RTN","ONCLNG1",221,0)
 S ONCLUNG(94803)=""
"RTN","ONCLNG1",222,0)
 S ONCLUNG(94900)=""
"RTN","ONCLNG1",223,0)
 S ONCLUNG(94903)=""
"RTN","ONCLNG1",224,0)
 S ONCLUNG(94910)=""
"RTN","ONCLNG1",225,0)
 S ONCLUNG(94920)=""
"RTN","ONCLNG1",226,0)
 S ONCLUNG(94930)=""
"RTN","ONCLNG1",227,0)
 S ONCLUNG(95003)=""
"RTN","ONCLNG1",228,0)
 S ONCLUNG(95010)=""
"RTN","ONCLNG1",229,0)
 S ONCLUNG(95013)=""
"RTN","ONCLNG1",230,0)
 S ONCLUNG(95020)=""
"RTN","ONCLNG1",231,0)
 S ONCLUNG(95023)=""
"RTN","ONCLNG1",232,0)
 S ONCLUNG(95033)=""
"RTN","ONCLNG1",233,0)
 S ONCLUNG(95043)=""
"RTN","ONCLNG1",234,0)
 S ONCLUNG(95051)=""
"RTN","ONCLNG1",235,0)
 S ONCLUNG(95053)=""
"RTN","ONCLNG1",236,0)
 S ONCLUNG(95061)=""
"RTN","ONCLNG1",237,0)
 S ONCLUNG(95070)=""
"RTN","ONCLNG1",238,0)
 S ONCLUNG(95083)=""
"RTN","ONCLNG1",239,0)
 S ONCLUNG(95100)=""
"RTN","ONCLNG1",240,0)
 S ONCLUNG(95103)=""
"RTN","ONCLNG1",241,0)
 S ONCLUNG(95113)=""
"RTN","ONCLNG1",242,0)
 S ONCLUNG(95123)=""
"RTN","ONCLNG1",243,0)
 S ONCLUNG(95133)=""
"RTN","ONCLNG1",244,0)
 S ONCLUNG(95141)=""
"RTN","ONCLNG1",245,0)
 S ONCLUNG(95203)=""
"RTN","ONCLNG1",246,0)
 S ONCLUNG(95213)=""
"RTN","ONCLNG1",247,0)
 S ONCLUNG(95223)=""
"RTN","ONCLNG1",248,0)
 S ONCLUNG(95233)=""
"RTN","ONCLNG1",249,0)
 S ONCLUNG(95300)=""
"RTN","ONCLNG1",250,0)
 S ONCLUNG(95301)=""
"RTN","ONCLNG1",251,0)
 S ONCLUNG(95303)=""
"RTN","ONCLNG1",252,0)
 S ONCLUNG(95310)=""
"RTN","ONCLNG1",253,0)
 S ONCLUNG(95320)=""
"RTN","ONCLNG1",254,0)
 S ONCLUNG(95330)=""
"RTN","ONCLNG1",255,0)
 S ONCLUNG(95340)=""
"RTN","ONCLNG1",256,0)
 S ONCLUNG(95350)=""
"RTN","ONCLNG1",257,0)
 S ONCLUNG(95370)=""
"RTN","ONCLNG1",258,0)
 S ONCLUNG(95381)=""
"RTN","ONCLNG1",259,0)
 S ONCLUNG(95383)=""
"RTN","ONCLNG1",260,0)
 S ONCLUNG(95391)=""
"RTN","ONCLNG1",261,0)
 S ONCLUNG(95393)=""
"RTN","ONCLNG1",262,0)
 S ONCLUNG(95400)=""
"RTN","ONCLNG1",263,0)
 S ONCLUNG(95401)=""
"RTN","ONCLNG1",264,0)
 S ONCLUNG(95403)=""
"RTN","ONCLNG1",265,0)
 S ONCLUNG(95410)=""
"RTN","ONCLNG1",266,0)
 S ONCLUNG(95500)=""
"RTN","ONCLNG1",267,0)
 S ONCLUNG(95600)=""
"RTN","ONCLNG1",268,0)
 S ONCLUNG(95601)=""
"RTN","ONCLNG1",269,0)
 S ONCLUNG(95603)=""
"RTN","ONCLNG1",270,0)
 S ONCLUNG(95613)=""
"RTN","ONCLNG1",271,0)
 S ONCLUNG(95620)=""
"RTN","ONCLNG1",272,0)
 S ONCLUNG(95700)=""
"RTN","ONCLNG1",273,0)
 S ONCLUNG(95710)=""
"RTN","ONCLNG1",274,0)
 S ONCLUNG(95713)=""
"RTN","ONCLNG1",275,0)
 S ONCLUNG(95800)=""
"RTN","ONCLNG1",276,0)
 S ONCLUNG(95803)=""
"RTN","ONCLNG1",277,0)
 S ONCLUNG(95813)=""
"RTN","ONCLNG1",278,0)
 S ONCLUNG(95820)=""
"RTN","ONCLNG1",279,0)
 S ONCLUNG(95903)=""
"RTN","ONCLNG1",280,0)
 S ONCLUNG(95913)=""
"RTN","ONCLNG1",281,0)
 S ONCLUNG(95963)=""
"RTN","ONCLNG1",282,0)
 S ONCLUNG(96503)=""
"RTN","ONCLNG1",283,0)
 S ONCLUNG(96513)=""
"RTN","ONCLNG1",284,0)
 S ONCLUNG(96523)=""
"RTN","ONCLNG1",285,0)
 S ONCLUNG(96533)=""
"RTN","ONCLNG1",286,0)
 S ONCLUNG(96543)=""
"RTN","ONCLNG1",287,0)
 S ONCLUNG(96553)=""
"RTN","ONCLNG1",288,0)
 S ONCLUNG(96593)=""
"RTN","ONCLNG1",289,0)
 S ONCLUNG(96613)=""
"RTN","ONCLNG1",290,0)
 S ONCLUNG(96623)=""
"RTN","ONCLNG1",291,0)
 S ONCLUNG(96633)=""
"RTN","ONCLNG1",292,0)
 S ONCLUNG(96643)=""
"RTN","ONCLNG1",293,0)
 S ONCLUNG(96653)=""
"RTN","ONCLNG1",294,0)
 S ONCLUNG(96673)=""
"RTN","ONCLNG1",295,0)
 S ONCLUNG(96703)=""
"RTN","ONCLNG1",296,0)
 S ONCLUNG(96713)=""
"RTN","ONCLNG1",297,0)
 S ONCLUNG(96733)=""
"RTN","ONCLNG1",298,0)
 S ONCLUNG(96753)=""
"RTN","ONCLNG1",299,0)
 S ONCLUNG(96783)=""
"RTN","ONCLNG1",300,0)
 S ONCLUNG(96793)=""
"RTN","ONCLNG1",301,0)
 S ONCLUNG(96803)=""
"RTN","ONCLNG1",302,0)
 S ONCLUNG(96843)=""
"RTN","ONCLNG1",303,0)
 S ONCLUNG(96873)=""
"RTN","ONCLNG1",304,0)
 S ONCLUNG(96893)=""
"RTN","ONCLNG1",305,0)
 S ONCLUNG(96903)=""
"RTN","ONCLNG1",306,0)
 S ONCLUNG(96913)=""
"RTN","ONCLNG1",307,0)
 S ONCLUNG(96953)=""
"RTN","ONCLNG1",308,0)
 S ONCLUNG(96983)=""
"RTN","ONCLNG1",309,0)
 S ONCLUNG(96993)=""
"RTN","ONCLNG1",310,0)
 S ONCLUNG(97003)=""
"RTN","ONCLNG1",311,0)
 S ONCLUNG(97013)=""
"RTN","ONCLNG1",312,0)
 S ONCLUNG(97023)=""
"RTN","ONCLNG1",313,0)
 S ONCLUNG(97053)=""
"RTN","ONCLNG1",314,0)
 S ONCLUNG(97083)=""
"RTN","ONCLNG1",315,0)
 S ONCLUNG(97093)=""
"RTN","ONCLNG1",316,0)
 S ONCLUNG(97143)=""
"RTN","ONCLNG1",317,0)
 S ONCLUNG(97163)=""
"RTN","ONCLNG1",318,0)
 S ONCLUNG(97173)=""
"RTN","ONCLNG1",319,0)
 S ONCLUNG(97183)=""
"RTN","ONCLNG1",320,0)
 S ONCLUNG(97193)=""
"RTN","ONCLNG1",321,0)
 S ONCLUNG(97273)=""
"RTN","ONCLNG1",322,0)
 S ONCLUNG(97283)=""
"RTN","ONCLNG1",323,0)
 S ONCLUNG(97293)=""
"RTN","ONCLNG1",324,0)
 S ONCLUNG(97313)=""
"RTN","ONCLNG1",325,0)
 S ONCLUNG(97323)=""
"RTN","ONCLNG1",326,0)
 S ONCLUNG(97333)=""
"RTN","ONCLNG1",327,0)
 S ONCLUNG(97343)=""
"RTN","ONCLNG1",328,0)
 S ONCLUNG(97401)=""
"RTN","ONCLNG1",329,0)
 S ONCLUNG(97403)=""
"RTN","ONCLNG1",330,0)
 S ONCLUNG(97413)=""
"RTN","ONCLNG1",331,0)
 S ONCLUNG(97423)=""
"RTN","ONCLNG1",332,0)
 S ONCLUNG(97503)=""
"RTN","ONCLNG1",333,0)
 S ONCLUNG(97511)=""
"RTN","ONCLNG1",334,0)
 S ONCLUNG(97521)=""
"RTN","ONCLNG1",335,0)
 S ONCLUNG(97531)=""
"RTN","ONCLNG1",336,0)
 S ONCLUNG(97543)=""
"RTN","ONCLNG1",337,0)
 S ONCLUNG(97553)=""
"RTN","ONCLNG1",338,0)
 S ONCLUNG(97563)=""
"RTN","ONCLNG1",339,0)
 S ONCLUNG(97573)=""
"RTN","ONCLNG1",340,0)
 S ONCLUNG(97583)=""
"RTN","ONCLNG1",341,0)
 S ONCLUNG(97603)=""
"RTN","ONCLNG1",342,0)
 S ONCLUNG(97613)=""
"RTN","ONCLNG1",343,0)
 S ONCLUNG(97623)=""
"RTN","ONCLNG1",344,0)
 S ONCLUNG(97643)=""
"RTN","ONCLNG1",345,0)
 S ONCLUNG(97651)=""
"RTN","ONCLNG1",346,0)
 S ONCLUNG(97661)=""
"RTN","ONCLNG1",347,0)
 S ONCLUNG(97671)=""
"RTN","ONCLNG1",348,0)
 S ONCLUNG(97681)=""
"RTN","ONCLNG1",349,0)
 S ONCLUNG(97691)=""
"RTN","ONCLNG1",350,0)
 S ONCLUNG(98003)=""
"RTN","ONCLNG1",351,0)
 S ONCLUNG(98013)=""
"RTN","ONCLNG1",352,0)
 S ONCLUNG(98053)=""
"RTN","ONCLNG1",353,0)
 S ONCLUNG(98203)=""
"RTN","ONCLNG1",354,0)
 S ONCLUNG(98233)=""
"RTN","ONCLNG1",355,0)
 S ONCLUNG(98263)=""
"RTN","ONCLNG1",356,0)
 S ONCLUNG(98273)=""
"RTN","ONCLNG1",357,0)
 S ONCLUNG(98311)=""
"RTN","ONCLNG1",358,0)
 S ONCLUNG(98323)=""
"RTN","ONCLNG1",359,0)
 S ONCLUNG(98333)=""
"RTN","ONCLNG1",360,0)
 S ONCLUNG(98343)=""
"RTN","ONCLNG1",361,0)
 S ONCLUNG(98353)=""
"RTN","ONCLNG1",362,0)
 S ONCLUNG(98363)=""
"RTN","ONCLNG1",363,0)
 S ONCLUNG(98373)=""
"RTN","ONCLNG1",364,0)
 S ONCLUNG(98403)=""
"RTN","ONCLNG1",365,0)
 S ONCLUNG(98603)=""
"RTN","ONCLNG1",366,0)
 S ONCLUNG(98613)=""
"RTN","ONCLNG1",367,0)
 S ONCLUNG(98633)=""
"RTN","ONCLNG1",368,0)
 S ONCLUNG(98663)=""
"RTN","ONCLNG1",369,0)
 S ONCLUNG(98673)=""
"RTN","ONCLNG1",370,0)
 S ONCLUNG(98703)=""
"RTN","ONCLNG1",371,0)
 S ONCLUNG(98713)=""
"RTN","ONCLNG1",372,0)
 S ONCLUNG(98723)=""
"RTN","ONCLNG1",373,0)
 S ONCLUNG(98733)=""
"RTN","ONCLNG1",374,0)
 S ONCLUNG(98743)=""
"RTN","ONCLNG1",375,0)
 S ONCLUNG(98753)=""
"RTN","ONCLNG1",376,0)
 S ONCLUNG(98763)=""
"RTN","ONCLNG1",377,0)
 S ONCLUNG(98913)=""
"RTN","ONCLNG1",378,0)
 S ONCLUNG(98953)=""
"RTN","ONCLNG1",379,0)
 S ONCLUNG(98963)=""
"RTN","ONCLNG1",380,0)
 S ONCLUNG(98973)=""
"RTN","ONCLNG1",381,0)
 S ONCLUNG(99103)=""
"RTN","ONCLNG1",382,0)
 S ONCLUNG(99203)=""
"RTN","ONCLNG1",383,0)
 S ONCLUNG(99303)=""
"RTN","ONCLNG1",384,0)
 S ONCLUNG(99313)=""
"RTN","ONCLNG1",385,0)
 S ONCLUNG(99403)=""
"RTN","ONCLNG1",386,0)
 S ONCLUNG(99453)=""
"RTN","ONCLNG1",387,0)
 S ONCLUNG(99463)=""
"RTN","ONCLNG1",388,0)
 S ONCLUNG(99483)=""
"RTN","ONCLNG1",389,0)
 S ONCLUNG(99503)=""
"RTN","ONCLNG1",390,0)
 S ONCLUNG(99603)=""
"RTN","ONCLNG1",391,0)
 S ONCLUNG(99613)=""
"RTN","ONCLNG1",392,0)
 S ONCLUNG(99623)=""
"RTN","ONCLNG1",393,0)
 S ONCLUNG(99633)=""
"RTN","ONCLNG1",394,0)
 S ONCLUNG(99643)=""
"RTN","ONCLNG1",395,0)
 S ONCLUNG(99701)=""
"RTN","ONCLNG1",396,0)
 S ONCLUNG(99751)=""
"RTN","ONCLNG1",397,0)
 S ONCLUNG(99803)=""
"RTN","ONCLNG1",398,0)
 S ONCLUNG(99823)=""
"RTN","ONCLNG1",399,0)
 S ONCLUNG(99833)=""
"RTN","ONCLNG1",400,0)
 S ONCLUNG(99843)=""
"RTN","ONCLNG1",401,0)
 S ONCLUNG(99853)=""
"RTN","ONCLNG1",402,0)
 S ONCLUNG(99863)=""
"RTN","ONCLNG1",403,0)
 S ONCLUNG(99873)=""
"RTN","ONCLNG1",404,0)
 S ONCLUNG(99893)=""
"RTN","ONCLNG1",405,0)
 Q
"RTN","ONCLPC0")
0^112^B10514022
"RTN","ONCLPC0",1,0)
ONCLPC0 ;Hines OIFO/GWB - 2001 2001 Lung (NSCLC) PCE Study ;05/04/01
"RTN","ONCLPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCLPC0",4,0)
 ;
"RTN","ONCLPC0",5,0)
 ;ACCESSION YEAR (165.5,.07) = 2001
"RTN","ONCLPC0",6,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=2001 S MSG="The Accession Year is not 2001." D ERRMSG G EXIT
"RTN","ONCLPC0",7,0)
 ;
"RTN","ONCLPC0",8,0)
 ;DIAGNOSTIC CONFIRMATION (165.5,26) = 1, 2, or 4
"RTN","ONCLPC0",9,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6)
"RTN","ONCLPC0",10,0)
 I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCLPC0",11,0)
 ;
"RTN","ONCLPC0",12,0)
 ;CLASS OF CASE (165.5,.04) = 0, 1 or 2
"RTN","ONCLPC0",13,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4)
"RTN","ONCLPC0",14,0)
 I (COC'=0)&(COC'=1)&(COC'=2) S MSG="The Class of Case code is not 0, 1 or 2." D ERRMSG G EXIT
"RTN","ONCLPC0",15,0)
 ;
"RTN","ONCLPC0",16,0)
 ;BEHAVIOR = 3.
"RTN","ONCLPC0",17,0)
 I HIST1234=8936 S MSG="GI stromal sarcomas (8936) are being collected via paper data form." D ERRMSG G EXIT ;GI stromal sarcomas
"RTN","ONCLPC0",18,0)
 I BEH'=3 S MSG="The Behavior Code is not 3 (Malignant)." D ERRMSG G EXIT
"RTN","ONCLPC0",19,0)
 ;
"RTN","ONCLPC0",20,0)
HIST ;HISTOLOGY (165.5,22) 
"RTN","ONCLPC0",21,0)
 I (HIST1234=8041)!(HIST1234=8042)!(HIST1234=8043)!(HIST1234=8044)!(HIST1234=8045) G MSG             ;exclude Small cell Carcinoma
"RTN","ONCLPC0",22,0)
 I HIST1234=8240 G MSG ;exclude Carcinoid tumor
"RTN","ONCLPC0",23,0)
 I (HIST1234>8011)&(HIST1234<8577) G MENU
"RTN","ONCLPC0",24,0)
MSG S MSG="Invalid Histology code." D ERRMSG G EXIT
"RTN","ONCLPC0",25,0)
 ;
"RTN","ONCLPC0",26,0)
MENU ;Lung (NSCLC) Cancers PCE menu
"RTN","ONCLPC0",27,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="LNG"
"RTN","ONCLPC0",28,0)
 S ^ONCO(165.5,"APCE","LNG",ONCONUM)=""
"RTN","ONCLPC0",29,0)
 K DIR D HEAD
"RTN","ONCLPC0",30,0)
 S DIR(0)="SO^1:Patient Information;2:Tumor Identification and Diagnosis;3:Tumor Evaluation;4:Pathology;5:First Course of Treatment;6:Treatment Complications;7:Case Registration;8:All;9:Print Lung (NSCLC) PCE"
"RTN","ONCLPC0",31,0)
 S DIR("A")="Select section" D ^DIR
"RTN","ONCLPC0",32,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCLPC0",33,0)
 I Y=8 S OUT="" D  G MENU
"RTN","ONCLPC0",34,0)
 .D ^ONCLPC1 Q:$G(OUT)="Y"
"RTN","ONCLPC0",35,0)
 .D ^ONCLPC2 Q:$G(OUT)="Y"
"RTN","ONCLPC0",36,0)
 .D ^ONCLPC3 Q:$G(OUT)="Y"
"RTN","ONCLPC0",37,0)
 .D ^ONCLPC4 Q:$G(OUT)="Y"
"RTN","ONCLPC0",38,0)
 .D ^ONCLPC5 Q:$G(OUT)="Y"
"RTN","ONCLPC0",39,0)
 .D ^ONCLPC6 Q:$G(OUT)="Y"
"RTN","ONCLPC0",40,0)
 .D ^ONCLPC7 Q:$G(OUT)="Y"
"RTN","ONCLPC0",41,0)
 S SUB="^ONCLPC"_Y D @SUB G MENU
"RTN","ONCLPC0",42,0)
 ;
"RTN","ONCLPC0",43,0)
ERRMSG ;Error message
"RTN","ONCLPC0",44,0)
 I ONCOANS=5 W !!,?8,"This primary does not satisfy the PCE eligibility criteria:",!!,?8,MSG R Z:10
"RTN","ONCLPC0",45,0)
 K MSG Q
"RTN","ONCLPC0",46,0)
 ;
"RTN","ONCLPC0",47,0)
HEAD ;PCE header
"RTN","ONCLPC0",48,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCLPC0",49,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCLPC0",50,0)
 W !,DASHES
"RTN","ONCLPC0",51,0)
 S HDL=$L("2001 Patient Care Evaluation Study of Non-Small Cell Lung Carcinoma")
"RTN","ONCLPC0",52,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCLPC0",53,0)
 W !,?TAB,"2001 Patient Care Evaluation Study of Non-Small Cell Lung Carcinoma"
"RTN","ONCLPC0",54,0)
 W !,DASHES
"RTN","ONCLPC0",55,0)
 Q
"RTN","ONCLPC0",56,0)
 ;
"RTN","ONCLPC0",57,0)
EXIT ;Kill variables and exit
"RTN","ONCLPC0",58,0)
 K HDL,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCLPC0",59,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCLPC0",60,0)
 Q
"RTN","ONCLPC1")
0^113^B19641216
"RTN","ONCLPC1",1,0)
ONCLPC1 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;05/04/01
"RTN","ONCLPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC1",3,0)
 ;Patient Information 
"RTN","ONCLPC1",4,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC1",5,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC1",6,0)
 W !," PATIENT INFORMATION"
"RTN","ONCLPC1",7,0)
 W !," -------------------"
"RTN","ONCLPC1",8,0)
 S DR(1,165.5,1)="1400.6  1. CO-MORBID CONDITIONS (YES/NO)."
"RTN","ONCLPC1",9,0)
 S DR(1,165.5,2)="I $G(X)=0 D CC1^ONCLPC1,CC2^ONCLPC1,CC3^ONCLPC1,CC4^ONCLPC1,CC5^ONCLPC1,CC6^ONCLPC1 S Y=1401"
"RTN","ONCLPC1",10,0)
 S DR(1,165.5,3)="1400      CO-MORBID CONDITION #1......."
"RTN","ONCLPC1",11,0)
 S DR(1,165.5,4)="I ($G(X)="""")&($P($G(^ONCO(165.5,DA,""LUN1"")),U,76)=1) D ITEM1ED^ONCLPC1 S Y=1400"
"RTN","ONCLPC1",12,0)
 S DR(1,165.5,5)="1400.1      CO-MORBID CONDITION #2......."
"RTN","ONCLPC1",13,0)
 S DR(1,165.5,6)="I $G(X)="""" D CC3^ONCLPC1,CC4^ONCLPC1,CC5^ONCLPC1,CC6^ONCLPC1 S Y=1401"
"RTN","ONCLPC1",14,0)
 S DR(1,165.5,7)="1400.2      CO-MORBID CONDITION #3......."
"RTN","ONCLPC1",15,0)
 S DR(1,165.5,8)="I $G(X)="""" D CC4^ONCLPC1,CC5^ONCLPC1,CC6^ONCLPC1 S Y=1401"
"RTN","ONCLPC1",16,0)
 S DR(1,165.5,9)="1400.3      CO-MORBID CONDITION #4......."
"RTN","ONCLPC1",17,0)
 S DR(1,165.5,10)="I $G(X)="""" D CC5^ONCLPC1,CC6^ONCLPC1 S Y=1401"
"RTN","ONCLPC1",18,0)
 S DR(1,165.5,11)="1400.4      CO-MORBID CONDITION #5......."
"RTN","ONCLPC1",19,0)
 S DR(1,165.5,12)="I $G(X)="""" D CC6^ONCLPC1 S Y=1401"
"RTN","ONCLPC1",20,0)
 S DR(1,165.5,13)="1400.5      CO-MORBID CONDITION #6......."
"RTN","ONCLPC1",21,0)
 S DR(1,165.5,14)="W !"
"RTN","ONCLPC1",22,0)
 S DR(1,165.5,15)="1401  2. DURATION OF TOBACCO USE......."
"RTN","ONCLPC1",23,0)
 S DR(1,165.5,16)="W !"
"RTN","ONCLPC1",24,0)
 S DR(1,165.5,17)="S DEF="""" D ITEM3^ONCLPC1 K DEF"
"RTN","ONCLPC1",25,0)
 S DR(1,165.5,18)="1403  3. PERSONAL HISTORY OF OTHER                                                        INVASIVE MALIGNANCIES PRIOR                                                      TO THIS CANCER DIAGNOSIS....//^S X=PHDEF"
"RTN","ONCLPC1",26,0)
 D ^DIE
"RTN","ONCLPC1",27,0)
 W !
"RTN","ONCLPC1",28,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC1",29,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC1",30,0)
 Q
"RTN","ONCLPC1",31,0)
ITEM1ED ;ITEM 1 EDIT
"RTN","ONCLPC1",32,0)
 W !
"RTN","ONCLPC1",33,0)
 W !,"     CO-MORBID CONDITIONS (YES/NO) equals ""Yes"""
"RTN","ONCLPC1",34,0)
 W !,"      CO-MORBID CONDITION #1 may not be blank"
"RTN","ONCLPC1",35,0)
 W !
"RTN","ONCLPC1",36,0)
 Q 
"RTN","ONCLPC1",37,0)
CC1 S $P(^ONCO(165.5,D0,"LUN1"),U,1)=""
"RTN","ONCLPC1",38,0)
 W !,"      CO-MORBID CONDITION #1.......: 000.00 No co-morbidities"
"RTN","ONCLPC1",39,0)
 Q
"RTN","ONCLPC1",40,0)
CC2 S $P(^ONCO(165.5,D0,"LUN1"),U,2)=""
"RTN","ONCLPC1",41,0)
 W !,"      CO-MORBID CONDITION #2.......:"
"RTN","ONCLPC1",42,0)
 Q
"RTN","ONCLPC1",43,0)
CC3 S $P(^ONCO(165.5,D0,"LUN1"),U,3)=""
"RTN","ONCLPC1",44,0)
 W !,"      CO-MORBID CONDITION #3.......:"
"RTN","ONCLPC1",45,0)
 Q
"RTN","ONCLPC1",46,0)
CC4 S $P(^ONCO(165.5,D0,"LUN1"),U,4)=""
"RTN","ONCLPC1",47,0)
 W !,"      CO-MORBID CONDITION #4.......:"
"RTN","ONCLPC1",48,0)
 Q
"RTN","ONCLPC1",49,0)
CC5 S $P(^ONCO(165.5,D0,"LUN1"),U,5)=""
"RTN","ONCLPC1",50,0)
 W !,"      CO-MORBID CONDITION #5.......:"
"RTN","ONCLPC1",51,0)
 Q
"RTN","ONCLPC1",52,0)
CC6 S $P(^ONCO(165.5,D0,"LUN1"),U,6)=""
"RTN","ONCLPC1",53,0)
 W !,"      CO-MORBID CONDITION #6.......:"
"RTN","ONCLPC1",54,0)
 W !
"RTN","ONCLPC1",55,0)
 Q
"RTN","ONCLPC1",56,0)
ITEM3 ;PERSONAL HISTORY OF OTHER INVASIVE MALIGNANCIES PRIOR TO THIS CANCER
"RTN","ONCLPC1",57,0)
 ;DIAGNOSIS and Item 8 of the 2001 Gastric Cancers PCE Study
"RTN","ONCLPC1",58,0)
 ;(165.5,1403) and (165.5,1573)
"RTN","ONCLPC1",59,0)
 ;XECUTABLE 'HELP'
"RTN","ONCLPC1",60,0)
 N PHOM,PATIEN,PRIMIEN,PHOMDTXI,PHOMDTXE,PHOMTOP,PNUM,PHDTDX,PHLAST
"RTN","ONCLPC1",61,0)
 S PATIEN=$P(^ONCO(165.5,D0,0),U,2),PRIMIEN=""
"RTN","ONCLPC1",62,0)
 F  S PRIMIEN=$O(^ONCO(165.5,"C",PATIEN,PRIMIEN)) Q:PRIMIEN'>0  I $P($G(^ONCO(165.5,PRIMIEN,"DIV")),U,1)=DUZ(2) D
"RTN","ONCLPC1",63,0)
 .Q:PRIMIEN=D0
"RTN","ONCLPC1",64,0)
 .S PHODTXI=$$GET1^DIQ(165.5,PRIMIEN,3,"I")
"RTN","ONCLPC1",65,0)
 .S PHODTXE=$$GET1^DIQ(165.5,PRIMIEN,3,"E")
"RTN","ONCLPC1",66,0)
 .S PHOMTOP=$$GET1^DIQ(165.5,PRIMIEN,20.1)
"RTN","ONCLPC1",67,0)
 .Q:(PHODTXI="")!(PHOMTOP="")
"RTN","ONCLPC1",68,0)
 .S PHOM(PHODTXI)=PHODTXE_U_PHOMTOP
"RTN","ONCLPC1",69,0)
 I $D(DEF) D  Q
"RTN","ONCLPC1",70,0)
 .I '$D(PHOM) S PHDEF="C88.8" Q
"RTN","ONCLPC1",71,0)
 .S PHDTDX="",PHLAST=$O(PHOM(PHDTDX),-1),PHDEF=$P(PHOM(PHLAST),U,2) Q
"RTN","ONCLPC1",72,0)
 W !?3,"This item describes the patient's prior history of other invasive"
"RTN","ONCLPC1",73,0)
 W !?3,"malignancies.  If the patient has a history of other malignancies"
"RTN","ONCLPC1",74,0)
 W !?3,"report the ICD-O-3 site code for the most recently diagnosed disease."
"RTN","ONCLPC1",75,0)
 W !?3,"If the patient has no personal history of other cancer, code C88.8. If"
"RTN","ONCLPC1",76,0)
 W !?3,"the patient's personal history of other invasive malignancies is not"
"RTN","ONCLPC1",77,0)
 W !?3,"documented, code C99.9."
"RTN","ONCLPC1",78,0)
 W !
"RTN","ONCLPC1",79,0)
 W !?3,"Allowable Codes: C00.0 thru C80.9 - valid ICD-0-3 site (topography) codes"
"RTN","ONCLPC1",80,0)
 W !?3,"                 C88.8 - no personal history of other cancer"
"RTN","ONCLPC1",81,0)
 W !?3,"                 C99.9 - personal history of other cancer not documented"
"RTN","ONCLPC1",82,0)
 W !
"RTN","ONCLPC1",83,0)
 I '$D(PHOM) W !?3,"This patient has no other primaries." G ITEM3EX
"RTN","ONCLPC1",84,0)
 W !?3,"Other primaries for this patient:",!
"RTN","ONCLPC1",85,0)
 W !?3,"Date DX"
"RTN","ONCLPC1",86,0)
 W !?3,"-----------------"
"RTN","ONCLPC1",87,0)
 S PNUM="" F  S PNUM=$O(PHOM(PNUM)) Q:PNUM'>0  D
"RTN","ONCLPC1",88,0)
 .W !?3,$P(PHOM(PNUM),U,1),?15,$P(PHOM(PNUM),U,2)
"RTN","ONCLPC1",89,0)
ITEM3EX W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC1",90,0)
 Q
"RTN","ONCLPC2")
0^114^B3561890
"RTN","ONCLPC2",1,0)
ONCLPC2 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;05/04/01
"RTN","ONCLPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC2",3,0)
 ;Tumor Identification and Diagnosis 
"RTN","ONCLPC2",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC2",5,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC2",6,0)
 W !," TUMOR IDENTIFICATION AND DIAGNOSIS"
"RTN","ONCLPC2",7,0)
 W !," ----------------------------------"
"RTN","ONCLPC2",8,0)
 S DR(1,165.5,1)="W !,""  4. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS:"""
"RTN","ONCLPC2",9,0)
 S DR(1,165.5,2)="1404      COUGH........................"
"RTN","ONCLPC2",10,0)
 S DR(1,165.5,3)="1404.1      SHORTNESS OF BREATH.........."
"RTN","ONCLPC2",11,0)
 S DR(1,165.5,4)="1404.2      WEIGHT LOSS.................."
"RTN","ONCLPC2",12,0)
 S DR(1,165.5,5)="1404.3      HEMOPTYSIS..................."
"RTN","ONCLPC2",13,0)
 S DR(1,165.5,6)="1404.4      PALPABLE LYMPH NODES........."
"RTN","ONCLPC2",14,0)
 S DR(1,165.5,7)="W !"
"RTN","ONCLPC2",15,0)
 S DR(1,165.5,8)="W !,""  5. SCREENING FOR HIGH RISK/ASYMPTOMATIC PRESENTATION:"""
"RTN","ONCLPC2",16,0)
 S DR(1,165.5,9)="1405      CHEST X-RAY.................."
"RTN","ONCLPC2",17,0)
 S DR(1,165.5,10)="1405.1      CT SCAN......................"
"RTN","ONCLPC2",18,0)
 S DR(1,165.5,11)="1405.2      BRONCHOSCOPY................."
"RTN","ONCLPC2",19,0)
 S DR(1,165.5,12)="W !"
"RTN","ONCLPC2",20,0)
 S DR(1,165.5,13)="W !,""  6. INITIAL DIAGNOSTIC STUDIES (PRE-THERAPY):"""
"RTN","ONCLPC2",21,0)
 S DR(1,165.5,14)="1406      HISTORY AND PHYSICAL........."
"RTN","ONCLPC2",22,0)
 S DR(1,165.5,15)="1406.1      BRONCHOSCOPY................."
"RTN","ONCLPC2",23,0)
 S DR(1,165.5,16)="1406.2      FNAB........................."
"RTN","ONCLPC2",24,0)
 S DR(1,165.5,17)="1406.3      MEDIASTINOSCOPY.............."
"RTN","ONCLPC2",25,0)
 S DR(1,165.5,18)="1406.4      THOROCOTOMY/OPEN BIOPSY......"
"RTN","ONCLPC2",26,0)
 S DR(1,165.5,19)="1406.5      VATS........................."
"RTN","ONCLPC2",27,0)
 D ^DIE
"RTN","ONCLPC2",28,0)
 W !
"RTN","ONCLPC2",29,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC2",30,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC2",31,0)
 Q
"RTN","ONCLPC3")
0^115^B40928003
"RTN","ONCLPC3",1,0)
ONCLPC3 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;05/04/01
"RTN","ONCLPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC3",3,0)
 ;Tumor Evaluation 
"RTN","ONCLPC3",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC3",5,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC3",6,0)
 W !," TUMOR EVALUATION"
"RTN","ONCLPC3",7,0)
 W !," ----------------"
"RTN","ONCLPC3",8,0)
 S DR(1,165.5,1)="W !,""  7. PULMONARY FUNCTION TESTS:"""
"RTN","ONCLPC3",9,0)
 S DR(1,165.5,2)="1407      FVC (forced vital capacity).."
"RTN","ONCLPC3",10,0)
 S DR(1,165.5,3)="1407.1      FEV (forced expiratory vol).."
"RTN","ONCLPC3",11,0)
 S DR(1,165.5,4)="W !"
"RTN","ONCLPC3",12,0)
 S DR(1,165.5,5)="1408  8. LIVER FUNCTION TESTS.........."
"RTN","ONCLPC3",13,0)
 S DR(1,165.5,6)="W !"
"RTN","ONCLPC3",14,0)
 S DR(1,165.5,7)="W !,""  9. RADIOLOGIC EVALUATION:"""
"RTN","ONCLPC3",15,0)
 S DR(1,165.5,8)="W !"
"RTN","ONCLPC3",16,0)
 ;S DR(1,165.5,8.1)="W !,""     BONE SCAN:"""
"RTN","ONCLPC3",17,0)
 S DR(1,165.5,9)="1409      BONE SCAN...................."
"RTN","ONCLPC3",18,0)
 S DR(1,165.5,10)="I ($G(X)=2)!($G(X)=9) S PIECE=27 D ITEM9^ONCLPC3 S Y=""@1410"""
"RTN","ONCLPC3",19,0)
 ;S DR(1,165.5,11)="I $G(X)=9 S PIECE=27 D ITEM9^ONCLPC3 S Y=""@1410"""
"RTN","ONCLPC3",20,0)
 S DR(1,165.5,12)="1409.1       EMPHYSEMA..................."
"RTN","ONCLPC3",21,0)
 S DR(1,165.5,13)="1409.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",22,0)
 S DR(1,165.5,14)="1409.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",23,0)
 S DR(1,165.5,15)="1409.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",24,0)
 S DR(1,165.5,16)="1409.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",25,0)
 S DR(1,165.5,17)="1409.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",26,0)
 S DR(1,165.5,18)="@1410"
"RTN","ONCLPC3",27,0)
 S DR(1,165.5,19)="W !"
"RTN","ONCLPC3",28,0)
 ;S DR(1,165.5,20)="W !,""     CT SCAN OF CHEST:"""
"RTN","ONCLPC3",29,0)
 S DR(1,165.5,21)="1410      CT SCAN OF CHEST............."
"RTN","ONCLPC3",30,0)
 S DR(1,165.5,22)="I $G(X)=2 S PIECE=34 D ITEM9^ONCLPC3 S Y=""@1411"""
"RTN","ONCLPC3",31,0)
 S DR(1,165.5,23)="I $G(X)=9 S PIECE=34 D ITEM9^ONCLPC3 S Y=""@1411"""
"RTN","ONCLPC3",32,0)
 S DR(1,165.5,24)="1410.1       EMPHYSEMA..................."
"RTN","ONCLPC3",33,0)
 S DR(1,165.5,25)="1410.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",34,0)
 S DR(1,165.5,26)="1410.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",35,0)
 S DR(1,165.5,27)="1410.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",36,0)
 S DR(1,165.5,28)="1410.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",37,0)
 S DR(1,165.5,29)="1410.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",38,0)
 S DR(1,165.5,30)="@1411"
"RTN","ONCLPC3",39,0)
 S DR(1,165.5,31)="W !"
"RTN","ONCLPC3",40,0)
 ;S DR(1,165.5,32)="W !,""     CT SCAN OF BRAIN:"""
"RTN","ONCLPC3",41,0)
 S DR(1,165.5,33)="1411      CT SCAN OF BRAIN............."
"RTN","ONCLPC3",42,0)
 S DR(1,165.5,34)="I $G(X)=2 S PIECE=41 D ITEM9^ONCLPC3 S Y=""@1412"""
"RTN","ONCLPC3",43,0)
 S DR(1,165.5,35)="I $G(X)=9 S PIECE=41 D ITEM9^ONCLPC3 S Y=""@1412"""
"RTN","ONCLPC3",44,0)
 S DR(1,165.5,36)="1411.1       EMPHYSEMA..................."
"RTN","ONCLPC3",45,0)
 S DR(1,165.5,37)="1411.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",46,0)
 S DR(1,165.5,38)="1411.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",47,0)
 S DR(1,165.5,39)="1411.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",48,0)
 S DR(1,165.5,40)="1411.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",49,0)
 S DR(1,165.5,41)="1411.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",50,0)
 S DR(1,165.5,42)="@1412"
"RTN","ONCLPC3",51,0)
 S DR(1,165.5,43)="W !"
"RTN","ONCLPC3",52,0)
 ;S DR(1,165.5,44)="W !,""     MRI SCAN OF CHEST:"""
"RTN","ONCLPC3",53,0)
 S DR(1,165.5,45)="1412      MRI SCAN OF CHEST............"
"RTN","ONCLPC3",54,0)
 S DR(1,165.5,46)="I $G(X)=2 S PIECE=48 D ITEM9^ONCLPC3 S Y=""@1413"""
"RTN","ONCLPC3",55,0)
 S DR(1,165.5,47)="I $G(X)=9 S PIECE=48 D ITEM9^ONCLPC3 S Y=""@1413"""
"RTN","ONCLPC3",56,0)
 S DR(1,165.5,48)="1412.1       EMPHYSEMA..................."
"RTN","ONCLPC3",57,0)
 S DR(1,165.5,49)="1412.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",58,0)
 S DR(1,165.5,50)="1412.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",59,0)
 S DR(1,165.5,51)="1412.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",60,0)
 S DR(1,165.5,52)="1412.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",61,0)
 S DR(1,165.5,53)="1412.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",62,0)
 S DR(1,165.5,54)="@1413"
"RTN","ONCLPC3",63,0)
 S DR(1,165.5,55)="W !"
"RTN","ONCLPC3",64,0)
 ;S DR(1,165.5,56)="W !,""     MRI SCAN OF BRAIN:"""
"RTN","ONCLPC3",65,0)
 S DR(1,165.5,57)="1413      MRI SCAN OF BRAIN............"
"RTN","ONCLPC3",66,0)
 S DR(1,165.5,58)="I $G(X)=2 S PIECE=55 D ITEM9^ONCLPC3 S Y=""@1414"""
"RTN","ONCLPC3",67,0)
 S DR(1,165.5,59)="I $G(X)=9 S PIECE=55 D ITEM9^ONCLPC3 S Y=""@1414"""
"RTN","ONCLPC3",68,0)
 S DR(1,165.5,60)="1413.1       EMPHYSEMA..................."
"RTN","ONCLPC3",69,0)
 S DR(1,165.5,61)="1413.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",70,0)
 S DR(1,165.5,62)="1413.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",71,0)
 S DR(1,165.5,63)="1413.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",72,0)
 S DR(1,165.5,64)="1413.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",73,0)
 S DR(1,165.5,65)="1413.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",74,0)
 S DR(1,165.5,66)="@1414"
"RTN","ONCLPC3",75,0)
 S DR(1,165.5,67)="W !"
"RTN","ONCLPC3",76,0)
 ;S DR(1,165.5,68)="W !,""     PET SCAN:"""
"RTN","ONCLPC3",77,0)
 S DR(1,165.5,69)="1414      PET SCAN....................."
"RTN","ONCLPC3",78,0)
 S DR(1,165.5,70)="I $G(X)=2 S PIECE=62 D ITEM9^ONCLPC3 S Y=""@1415"""
"RTN","ONCLPC3",79,0)
 S DR(1,165.5,71)="I $G(X)=9 S PIECE=62 D ITEM9^ONCLPC3 S Y=""@1415"""
"RTN","ONCLPC3",80,0)
 S DR(1,165.5,72)="1414.1       EMPHYSEMA..................."
"RTN","ONCLPC3",81,0)
 S DR(1,165.5,73)="1414.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",82,0)
 S DR(1,165.5,74)="1414.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",83,0)
 S DR(1,165.5,75)="1414.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",84,0)
 S DR(1,165.5,76)="1414.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",85,0)
 S DR(1,165.5,77)="1414.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",86,0)
 S DR(1,165.5,78)="@1415"
"RTN","ONCLPC3",87,0)
 S DR(1,165.5,79)="W !"
"RTN","ONCLPC3",88,0)
 ;S DR(1,165.5,80)="W !,""     X-RAY OF CHEST:"""
"RTN","ONCLPC3",89,0)
 S DR(1,165.5,81)="1415      X-RAY OF CHEST..............."
"RTN","ONCLPC3",90,0)
 S DR(1,165.5,82)="I $G(X)=2 S PIECE=69 D ITEM9^ONCLPC3 S Y=""@1416"""
"RTN","ONCLPC3",91,0)
 S DR(1,165.5,83)="I $G(X)=9 S PIECE=69 D ITEM9^ONCLPC3 S Y=""@1416"""
"RTN","ONCLPC3",92,0)
 S DR(1,165.5,84)="1415.1       EMPHYSEMA..................."
"RTN","ONCLPC3",93,0)
 S DR(1,165.5,85)="1415.2       VASCULAR INVASION..........."
"RTN","ONCLPC3",94,0)
 S DR(1,165.5,86)="1415.3       MEDIASTINAL LYMPH NODES....."
"RTN","ONCLPC3",95,0)
 S DR(1,165.5,87)="1415.4       SIZE OF DOMINANT TUMOR (mm)."
"RTN","ONCLPC3",96,0)
 S DR(1,165.5,88)="1415.5       NUMBER OF TUMORS............"
"RTN","ONCLPC3",97,0)
 S DR(1,165.5,89)="1415.6       EVIDENCE OF METASTASIS......"
"RTN","ONCLPC3",98,0)
 S DR(1,165.5,90)="@1416"
"RTN","ONCLPC3",99,0)
 S DR(1,165.5,91)="W !"
"RTN","ONCLPC3",100,0)
 S DR(1,165.5,92)="W !,"" 10. PRE-OP LYMPH NODE MAPPING:"""
"RTN","ONCLPC3",101,0)
 S DR(1,165.5,93)="1416      HIGHEST MEDIASTINAL (level 1)"
"RTN","ONCLPC3",102,0)
 S DR(1,165.5,94)="1416.1      UPPER PARATRACHEAL (level 2)."
"RTN","ONCLPC3",103,0)
 S DR(1,165.5,95)="1416.2      PREVASCULAR AND RETROTRACHEAL                                                    (level 3)..................."
"RTN","ONCLPC3",104,0)
 S DR(1,165.5,96)="1416.3      LOWER PARATRACHEAL (level 4)."
"RTN","ONCLPC3",105,0)
 S DR(1,165.5,97)="1416.4      SUBAORTIC (level 5).........."
"RTN","ONCLPC3",106,0)
 S DR(1,165.5,98)="1416.5      PARAORTIC (level 6).........."
"RTN","ONCLPC3",107,0)
 S DR(1,165.5,99)="1416.6      SUBCARINAL (level 7)........."
"RTN","ONCLPC3",108,0)
 S DR(1,165.5,100)="1416.7      PARAESOPHAGEAL (level 8)....."
"RTN","ONCLPC3",109,0)
 S DR(1,165.5,101)="1416.8      PULMONARY LIGAMENT (level 9)."
"RTN","ONCLPC3",110,0)
 D ^DIE
"RTN","ONCLPC3",111,0)
 W !
"RTN","ONCLPC3",112,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC3",113,0)
EXIT K P,PIECE,DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC3",114,0)
 Q
"RTN","ONCLPC3",115,0)
ITEM9 ;RADIOLOGIC EVALUATION
"RTN","ONCLPC3",116,0)
 F P=1:1:6 S PIECE=PIECE+1,P(P)=PIECE
"RTN","ONCLPC3",117,0)
 I X=2 D  Q
"RTN","ONCLPC3",118,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(1))=8
"RTN","ONCLPC3",119,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(2))=8
"RTN","ONCLPC3",120,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(3))=8
"RTN","ONCLPC3",121,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(4))="000"
"RTN","ONCLPC3",122,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(5))="00"
"RTN","ONCLPC3",123,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(6))=8
"RTN","ONCLPC3",124,0)
 .W !,"       EMPHYSEMA...................: NA, test not performed"
"RTN","ONCLPC3",125,0)
 .W !,"       VASCULAR INVASION...........: NA, test not performed"
"RTN","ONCLPC3",126,0)
 .W !,"       MEDIASTINAL LYMPH NODES.....: NA, test not performed"
"RTN","ONCLPC3",127,0)
 .W !,"       SIZE OF DOMINANT TUMOR (mm).: Test not performed"
"RTN","ONCLPC3",128,0)
 .W !,"       NUMBER OF TUMORS............: Test not performed"
"RTN","ONCLPC3",129,0)
 .W !,"       EVIDENCE OF METASTASIS......: NA, test not performed"
"RTN","ONCLPC3",130,0)
 I X=9 D  Q
"RTN","ONCLPC3",131,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(1))=9
"RTN","ONCLPC3",132,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(2))=9
"RTN","ONCLPC3",133,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(3))=9
"RTN","ONCLPC3",134,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(4))="000"
"RTN","ONCLPC3",135,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(5))="00"
"RTN","ONCLPC3",136,0)
 .S $P(^ONCO(165.5,D0,"LUN1"),U,P(6))=9
"RTN","ONCLPC3",137,0)
 .W !,"       EMPHYSEMA...................: Not documented"
"RTN","ONCLPC3",138,0)
 .W !,"       VASCULAR INVASION...........: Not documented"
"RTN","ONCLPC3",139,0)
 .W !,"       MEDIASTINAL LYMPH NODES.....: Not documented"
"RTN","ONCLPC3",140,0)
 .W !,"       SIZE OF DOMINANT TUMOR (mm).: Test not performed"
"RTN","ONCLPC3",141,0)
 .W !,"       NUMBER OF TUMORS............: Test not performed"
"RTN","ONCLPC3",142,0)
 .W !,"       EVIDENCE OF METASTASIS......: Not documented"
"RTN","ONCLPC3",143,0)
 Q
"RTN","ONCLPC4")
0^116^B2148069
"RTN","ONCLPC4",1,0)
ONCLPC4 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;05/04/01
"RTN","ONCLPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC4",3,0)
 ;Pathology 
"RTN","ONCLPC4",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC4",5,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC4",6,0)
 W !," PATHOLOGY"
"RTN","ONCLPC4",7,0)
 W !," ---------"
"RTN","ONCLPC4",8,0)
 S DR(1,165.5,1)="1402 11. DATE OF FIRST TISSUE DIAGNOSIS"
"RTN","ONCLPC4",9,0)
 S DR(1,165.5,2)="W !"
"RTN","ONCLPC4",10,0)
 S DR(1,165.5,3)="W !,"" 12. DISTANCE IN MILLIMETERS TO CLOSEST MARGIN:"""
"RTN","ONCLPC4",11,0)
 S DR(1,165.5,4)="1429      PROXIMAL MARGIN.............."
"RTN","ONCLPC4",12,0)
 S DR(1,165.5,5)="1429.1      DISTAL MARGIN................"
"RTN","ONCLPC4",13,0)
 S DR(1,165.5,6)="W !"
"RTN","ONCLPC4",14,0)
 S DR(1,165.5,7)="1417 13. FROZEN SECTION................"
"RTN","ONCLPC4",15,0)
 S DR(1,165.5,8)="W !"
"RTN","ONCLPC4",16,0)
 S DR(1,165.5,9)="W !,"" 14. INVASION:"""
"RTN","ONCLPC4",17,0)
 S DR(1,165.5,10)="1418      VASCULAR....................."
"RTN","ONCLPC4",18,0)
 S DR(1,165.5,11)="1418.1      LYMPHATICS..................."
"RTN","ONCLPC4",19,0)
 S DR(1,165.5,12)="1418.2      PLEURA......................."
"RTN","ONCLPC4",20,0)
 S DR(1,165.5,13)="1418.3      CHEST WALL..................."
"RTN","ONCLPC4",21,0)
 S DR(1,165.5,14)="1418.4      OTHER........................"
"RTN","ONCLPC4",22,0)
 D ^DIE
"RTN","ONCLPC4",23,0)
 W !
"RTN","ONCLPC4",24,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC4",25,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC4",26,0)
 Q
"RTN","ONCLPC5")
0^117^B21199473
"RTN","ONCLPC5",1,0)
ONCLPC5 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;03/08/01
"RTN","ONCLPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC5",3,0)
 ;First Course of Treatment 
"RTN","ONCLPC5",4,0)
 S SUR=$$GET1^DIQ(165.5,ONCONUM,58.2)
"RTN","ONCLPC5",5,0)
 S RAD=$$GET1^DIQ(165.5,ONCONUM,51.2,"I")
"RTN","ONCLPC5",6,0)
 S CHE=$$GET1^DIQ(165.5,ONCONUM,53.2,"I")
"RTN","ONCLPC5",7,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC5",8,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC5",9,0)
 W !," FIRST COURSE OF TREATMENT - SURGERY"
"RTN","ONCLPC5",10,0)
 W !," -----------------------------------"
"RTN","ONCLPC5",11,0)
 S DR(1,165.5,1)="I (SUR="""")!($E(SUR,1,2)=""00"")!($E(SUR,1,2)=99) D NOSUR^ONCLPC5 S Y=$S($D(DUOUT):""@99"",1:""@19"")"
"RTN","ONCLPC5",12,0)
 S DR(1,165.5,2)="W !,"" 15. SCOPE OF OPERATIVE MEDIASTINAL LYMPH NODE ASSESSMENT:"""
"RTN","ONCLPC5",13,0)
 S DR(1,165.5,3)="1419      HIGHEST MEDIASTINAL (level 1)"
"RTN","ONCLPC5",14,0)
 S DR(1,165.5,4)="1419.1      UPPER PARATRACHEAL  (level 2)"
"RTN","ONCLPC5",15,0)
 S DR(1,165.5,5)="1419.2      PREVASCULAR AND RETROTRACHEAL                                                                       (level 3)"
"RTN","ONCLPC5",16,0)
 S DR(1,165.5,6)="1419.3      LOWER PARATRACHEAL  (level 4)"
"RTN","ONCLPC5",17,0)
 S DR(1,165.5,7)="1419.4      SUBAORTIC           (level 5)"
"RTN","ONCLPC5",18,0)
 S DR(1,165.5,8)="1419.5      PARAORTIC           (level 6)"
"RTN","ONCLPC5",19,0)
 S DR(1,165.5,9)="1419.6      SUBCARINAL          (level 7)"
"RTN","ONCLPC5",20,0)
 S DR(1,165.5,10)="1419.7      PARAESOPHAGEAL      (level 8)"
"RTN","ONCLPC5",21,0)
 S DR(1,165.5,11)="1419.8      PULMONARY LIGAMENT  (level 9)"
"RTN","ONCLPC5",22,0)
 S DR(1,165.5,12)="W !"
"RTN","ONCLPC5",23,0)
 S DR(1,165.5,13)="1430 16. HCT (HEMOCRIT) VALUES BEFORE                                                     TRANSFUSION.................."
"RTN","ONCLPC5",24,0)
 S DR(1,165.5,14)="W !"
"RTN","ONCLPC5",25,0)
 S DR(1,165.5,15)="1420 17. TOTAL PERI-OPERATIVE BLOOD                                                       REPLACEMENT.................."
"RTN","ONCLPC5",26,0)
 S DR(1,165.5,16)="W !"
"RTN","ONCLPC5",27,0)
 S DR(1,165.5,17)="1421 18. PERI-OPERATIVE DEATH.........."
"RTN","ONCLPC5",28,0)
 S DR(1,165.5,19)="W ! K DIR,OUT S DIR(0)=""E"" D ^DIR S Y=""@19"" I $D(DUOUT) S Y=""@99"",OUT=""Y"""
"RTN","ONCLPC5",29,0)
 S DR(1,165.5,20)="@19"
"RTN","ONCLPC5",30,0)
 S DR(1,165.5,21)="D HEAD^ONCLPC0"
"RTN","ONCLPC5",31,0)
 S DR(1,165.5,22)="W !,"" FIRST COURSE OF TREATMENT - RADIATION THERAPY"""
"RTN","ONCLPC5",32,0)
 S DR(1,165.5,23)="W !,"" ---------------------------------------------"""
"RTN","ONCLPC5",33,0)
 S DR(1,165.5,24)="I (RAD="""")!(RAD=0)!(RAD=9) D NORAD^ONCLPC5 S Y=$S($D(DUOUT):""@99"",1:""@26"")"
"RTN","ONCLPC5",34,0)
 S DR(1,165.5,25)="442 19. REGIONAL DOSE (cGy)..........."
"RTN","ONCLPC5",35,0)
 S DR(1,165.5,26)="W !"
"RTN","ONCLPC5",36,0)
 S DR(1,165.5,27)="56 20. NUMBER OF TREATMENTS TO THIS                                                     VOLUME......................."
"RTN","ONCLPC5",37,0)
 S DR(1,165.5,28)="W !"
"RTN","ONCLPC5",38,0)
 S DR(1,165.5,29)="363 21. REGIONAL TREATMENT MODALITY..."
"RTN","ONCLPC5",39,0)
 S DR(1,165.5,30)="W !"
"RTN","ONCLPC5",40,0)
 S DR(1,165.5,31)="51.3 22. RADIATION/SURGERY SEQUENCE...."
"RTN","ONCLPC5",41,0)
 S DR(1,165.5,32)="W !"
"RTN","ONCLPC5",42,0)
 S DR(1,165.5,33)="1422 23. BOOST DOSE (cGy).............."
"RTN","ONCLPC5",43,0)
 S DR(1,165.5,34)="W !"
"RTN","ONCLPC5",44,0)
 S DR(1,165.5,35)="127 24. INTENT OF RADIATION TREATMENT."
"RTN","ONCLPC5",45,0)
 S DR(1,165.5,36)="W !"
"RTN","ONCLPC5",46,0)
 S DR(1,165.5,37)="75 25. REASON FOR NO RADIATION......."
"RTN","ONCLPC5",47,0)
 S DR(1,165.5,38)="W ! K DIR,OUT S DIR(0)=""E"" D ^DIR S Y=""@26"" I $D(DUOUT) S Y=""@99"",OUT=""Y"""
"RTN","ONCLPC5",48,0)
 S DR(1,165.5,39)="@26"
"RTN","ONCLPC5",49,0)
 S DR(1,165.5,40)="D HEAD^ONCLPC0"
"RTN","ONCLPC5",50,0)
 S DR(1,165.5,41)="W !,"" FIRST COURSE OF TREATMENT - CHEMOTHERAPY"""
"RTN","ONCLPC5",51,0)
 S DR(1,165.5,42)="W !,"" ----------------------------------------"""
"RTN","ONCLPC5",52,0)
 S DR(1,165.5,43)="I (CHE="""")!(CHE=0)!(CHE=9) D NOCHE^ONCLPC5 S Y=""@99"""
"RTN","ONCLPC5",53,0)
 S DR(1,165.5,44)="W !,"" 26. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"""
"RTN","ONCLPC5",54,0)
 S DR(1,165.5,45)="1423      AGENT #1....................."
"RTN","ONCLPC5",55,0)
 S DR(1,165.5,46)="1423.1      AGENT #2....................."
"RTN","ONCLPC5",56,0)
 S DR(1,165.5,47)="1423.2      AGENT #3....................."
"RTN","ONCLPC5",57,0)
 S DR(1,165.5,48)="W !"
"RTN","ONCLPC5",58,0)
 S DR(1,165.5,49)="1424 27. CHEMOTHERAPEUTIC TOXICITY....."
"RTN","ONCLPC5",59,0)
 S DR(1,165.5,50)="W !"
"RTN","ONCLPC5",60,0)
 S DR(1,165.5,51)="1425 28. CHEMOTHERAPY/SURGERY SEQUENCE."
"RTN","ONCLPC5",61,0)
 S DR(1,165.5,53)="@99"
"RTN","ONCLPC5",62,0)
 D ^DIE
"RTN","ONCLPC5",63,0)
 W !
"RTN","ONCLPC5",64,0)
 G:$G(OUT)="Y" EXIT
"RTN","ONCLPC5",65,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC5",66,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC5",67,0)
 K SUR,RAD,CHE
"RTN","ONCLPC5",68,0)
 Q
"RTN","ONCLPC5",69,0)
NOSUR ;No surgery
"RTN","ONCLPC5",70,0)
 F PIECE=16:1:26 S $P(^ONCO(165.5,D0,"LUN2"),U,PIECE)=""
"RTN","ONCLPC5",71,0)
 S $P(^ONCO(165.5,D0,"LUN2"),U,43)=""
"RTN","ONCLPC5",72,0)
 W !," No surgery of the primary site was performed."
"RTN","ONCLPC5",73,0)
 W !," Do not answer data items 15-18."
"RTN","ONCLPC5",74,0)
 W !," Proceed to data item 19."
"RTN","ONCLPC5",75,0)
 W !
"RTN","ONCLPC5",76,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DUOUT) Y="@99",OUT="Y"
"RTN","ONCLPC5",77,0)
 K PIECE
"RTN","ONCLPC5",78,0)
 Q
"RTN","ONCLPC5",79,0)
NORAD ;No radiation
"RTN","ONCLPC5",80,0)
 S $P(^ONCO(165.5,D0,"LUN2"),U,27)="00000"
"RTN","ONCLPC5",81,0)
 W !," 19. REGIONAL DOSE (cGy)...........: ",$$GET1^DIQ(165.5,D0,442)
"RTN","ONCLPC5",82,0)
 W !
"RTN","ONCLPC5",83,0)
 W !," 20. NUMBER OF TREATMENTS TO THIS"
"RTN","ONCLPC5",84,0)
 W !,"      VOLUME.......................: ",$$GET1^DIQ(165.5,D0,56)
"RTN","ONCLPC5",85,0)
 W !
"RTN","ONCLPC5",86,0)
 W !," 21. REGIONAL TREATMENT MODALITY...: ",$$GET1^DIQ(165.5,D0,363)
"RTN","ONCLPC5",87,0)
 W !
"RTN","ONCLPC5",88,0)
 W !," 22. RADIATION/SURGERY SEQUENCE....: ",$$GET1^DIQ(165.5,D0,51.3)
"RTN","ONCLPC5",89,0)
 W !
"RTN","ONCLPC5",90,0)
 W !," 23. BOOST DOSE (cGy)..............: Not administered"
"RTN","ONCLPC5",91,0)
 W !
"RTN","ONCLPC5",92,0)
 W !," 24. INTENT OF RADIATION TREATMENT.: ",$$GET1^DIQ(165.5,D0,127)
"RTN","ONCLPC5",93,0)
 W !
"RTN","ONCLPC5",94,0)
 W !," 25. REASON FOR NO RADIATION.......: ",$$GET1^DIQ(165.5,D0,75)
"RTN","ONCLPC5",95,0)
 W !
"RTN","ONCLPC5",96,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DUOUT) Y="@99",OUT="Y"
"RTN","ONCLPC5",97,0)
 Q
"RTN","ONCLPC5",98,0)
NOCHE ;No chemotherapy
"RTN","ONCLPC5",99,0)
 F PIECE=28:1:32 S $P(^ONCO(165.5,D0,"LUN2"),U,PIECE)=""
"RTN","ONCLPC5",100,0)
 W !," No chemotherapy was administered."
"RTN","ONCLPC5",101,0)
 W !," Do not answer data items 26-28."
"RTN","ONCLPC5",102,0)
 W !," Proceed to data item 29."
"RTN","ONCLPC5",103,0)
 K PIECE
"RTN","ONCLPC5",104,0)
 Q
"RTN","ONCLPC6")
0^118^B4634497
"RTN","ONCLPC6",1,0)
ONCLPC6 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;05/09/01
"RTN","ONCLPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC6",3,0)
 ;Treatment Complications 
"RTN","ONCLPC6",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC6",5,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC6",6,0)
 W !," TREATMENT COMPLICATIONS"
"RTN","ONCLPC6",7,0)
 W !," -----------------------"
"RTN","ONCLPC6",8,0)
 S DR(1,165.5,1)="1426.5 29. COMPLICATIONS (YES/NO)........"
"RTN","ONCLPC6",9,0)
 S DR(1,165.5,2)="I $G(X)=0 D TC1^ONCLPC6,TC2^ONCLPC6,TC3^ONCLPC6,TC4^ONCLPC6,TC5^ONCLPC6 S Y=""@99"""
"RTN","ONCLPC6",10,0)
 S DR(1,165.5,3)="1426      COMPLICATION #1.............."
"RTN","ONCLPC6",11,0)
 S DR(1,165.5,4)="I ($G(X)="""")&($P($G(^ONCO(165.5,DA,""LUN2"")),U,40)=1) D ITM29ED^ONCLPC6 S Y=1426"
"RTN","ONCLPC6",12,0)
 S DR(1,165.5,5)="1426.1      COMPLICATION #2.............."
"RTN","ONCLPC6",13,0)
 S DR(1,165.5,6)="I $G(X)="""" D TC3^ONCLPC6,TC4^ONCLPC6,TC5^ONCLPC6 S Y=""@99"""
"RTN","ONCLPC6",14,0)
 S DR(1,165.5,7)="1426.2      COMPLICATION #3.............."
"RTN","ONCLPC6",15,0)
 S DR(1,165.5,8)="I $G(X)="""" D TC4^ONCLPC6,TC5^ONCLPC6 S Y=""@99"""
"RTN","ONCLPC6",16,0)
 S DR(1,165.5,9)="1426.3      COMPLICATION #4.............."
"RTN","ONCLPC6",17,0)
 S DR(1,165.5,10)="I $G(X)="""" D TC5^ONCLPC6 S Y=""@99"""
"RTN","ONCLPC6",18,0)
 S DR(1,165.5,11)="1426.4      COMPLICATION #5.............."
"RTN","ONCLPC6",19,0)
 S DR(1,165.5,12)="@99"
"RTN","ONCLPC6",20,0)
 D ^DIE
"RTN","ONCLPC6",21,0)
 W !
"RTN","ONCLPC6",22,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC6",23,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC6",24,0)
 Q
"RTN","ONCLPC6",25,0)
ITM29ED ;ITEM 1 EDIT
"RTN","ONCLPC6",26,0)
 W !
"RTN","ONCLPC6",27,0)
 W !,"     COMPLICATIONS (YES/NO) equals ""Yes"""
"RTN","ONCLPC6",28,0)
 W !,"      COMPLICATION #1 may not be blank"
"RTN","ONCLPC6",29,0)
 W !
"RTN","ONCLPC6",30,0)
 Q 
"RTN","ONCLPC6",31,0)
ITEM29 ;COMPLICATIONS
"RTN","ONCLPC6",32,0)
TC1 S $P(^ONCO(165.5,D0,"LUN2"),U,33)=""
"RTN","ONCLPC6",33,0)
 W !,"      COMPLICATION #1..............: 000.00 No complications"
"RTN","ONCLPC6",34,0)
 Q
"RTN","ONCLPC6",35,0)
TC2 S $P(^ONCO(165.5,D0,"LUN2"),U,34)=""
"RTN","ONCLPC6",36,0)
 W !,"      COMPLICATION #2..............:"
"RTN","ONCLPC6",37,0)
 Q
"RTN","ONCLPC6",38,0)
TC3 S $P(^ONCO(165.5,D0,"LUN2"),U,35)=""
"RTN","ONCLPC6",39,0)
 W !,"      COMPLICATION #3..............:"
"RTN","ONCLPC6",40,0)
 Q
"RTN","ONCLPC6",41,0)
TC4 S $P(^ONCO(165.5,D0,"LUN2"),U,36)=""
"RTN","ONCLPC6",42,0)
 W !,"      COMPLICATION #4..............:"
"RTN","ONCLPC6",43,0)
 Q
"RTN","ONCLPC6",44,0)
TC5 S $P(^ONCO(165.5,D0,"LUN2"),U,37)=""
"RTN","ONCLPC6",45,0)
 W !,"      COMPLICATION #5..............:"
"RTN","ONCLPC6",46,0)
 Q
"RTN","ONCLPC7")
0^119^B706738
"RTN","ONCLPC7",1,0)
ONCLPC7 ;Hines OIFO/GWB - 2001 Lung (NSCLC) Cancers PCE Study ;05/09/01
"RTN","ONCLPC7",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC7",3,0)
 ;Case Registration 
"RTN","ONCLPC7",4,0)
 K DR S DIE="^ONCO(165.5,",DA=ONCONUM,DR=""
"RTN","ONCLPC7",5,0)
 W @IOF D HEAD^ONCLPC0
"RTN","ONCLPC7",6,0)
 W !," CASE REGISTRATION"
"RTN","ONCLPC7",7,0)
 W !," -----------------"
"RTN","ONCLPC7",8,0)
 S DR(1,165.5,1)="81 30. INITIALS OF CASE ABSTRACTOR..."
"RTN","ONCLPC7",9,0)
 S DR(1,165.5,2)="W !"
"RTN","ONCLPC7",10,0)
 S DR(1,165.5,3)="90 31. DATE CASE WAS ABSTRACTED......"
"RTN","ONCLPC7",11,0)
 D ^DIE
"RTN","ONCLPC7",12,0)
 W !
"RTN","ONCLPC7",13,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCLPC7",14,0)
EXIT K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC7",15,0)
 Q
"RTN","ONCLPC9")
0^120^B19952611
"RTN","ONCLPC9",1,0)
ONCLPC9 ;Hines OIFO/GWB - 2001 Lung (NSCLC) PCE Study ;05/16/01
"RTN","ONCLPC9",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC9",3,0)
 ;Print 
"RTN","ONCLPC9",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCLPC9",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCLPC9",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCLPC9",7,0)
PRT S EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCLPC9",8,0)
 S CMC=$$GET1^DIQ(165.5,IE,1400.6) ;LNG CO-MORBID CONDITIONS Y/N
"RTN","ONCLPC9",9,0)
 S TC=$$GET1^DIQ(165.5,IE,1426.5)  ;LNG TREATMENT COMPLICATIONS Y/N
"RTN","ONCLPC9",10,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCLPC9",11,0)
I S TABLE="PATIENT INFORMATION"
"RTN","ONCLPC9",12,0)
 D HEAD^ONCLPC0
"RTN","ONCLPC9",13,0)
 K LINE S $P(LINE,"-",19)="-"
"RTN","ONCLPC9",14,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9",15,0)
ITEM1 W !," 1. CO-MORBID CONDITIONS:"
"RTN","ONCLPC9",16,0)
 D P Q:EX=U
"RTN","ONCLPC9",17,0)
 I CMC="No" D  G CMC2
"RTN","ONCLPC9",18,0)
 .W !,"     CO-MORBID CONDITION #1.......: 000.00 No co-morbidities"
"RTN","ONCLPC9",19,0)
 W !,"     CO-MORBID CONDITION #1.......: ",$P($$GET1^DIQ(165.5,IE,1400)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1400)," ",2,99)
"RTN","ONCLPC9",20,0)
CMC2 D P Q:EX=U
"RTN","ONCLPC9",21,0)
 W !,"     CO-MORBID CONDITION #2.......: ",$P($$GET1^DIQ(165.5,IE,1400.1)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1400.1)," ",2,99)
"RTN","ONCLPC9",22,0)
 D P Q:EX=U
"RTN","ONCLPC9",23,0)
 W !,"     CO-MORBID CONDITION #3.......: ",$P($$GET1^DIQ(165.5,IE,1400.2)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1400.2)," ",2,99)
"RTN","ONCLPC9",24,0)
 D P Q:EX=U
"RTN","ONCLPC9",25,0)
 W !,"     CO-MORBID CONDITION #4.......: ",$P($$GET1^DIQ(165.5,IE,1400.3)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1400.3)," ",2,99)
"RTN","ONCLPC9",26,0)
 D P Q:EX=U
"RTN","ONCLPC9",27,0)
 W !,"     CO-MORBID CONDITION #5.......: ",$P($$GET1^DIQ(165.5,IE,1400.4)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1400.4)," ",2,99)
"RTN","ONCLPC9",28,0)
 D P Q:EX=U
"RTN","ONCLPC9",29,0)
 W !,"     CO-MORBID CONDITION #6.......: ",$P($$GET1^DIQ(165.5,IE,1400.5)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1400.5)," ",2,99)
"RTN","ONCLPC9",30,0)
 D P Q:EX=U
"RTN","ONCLPC9",31,0)
 W !
"RTN","ONCLPC9",32,0)
 D P Q:EX=U
"RTN","ONCLPC9",33,0)
ITEM2 W !," 2. DURATION OF TOBACCO USE.......: ",$$GET1^DIQ(165.5,IE,1401)
"RTN","ONCLPC9",34,0)
 D P Q:EX=U
"RTN","ONCLPC9",35,0)
 W !
"RTN","ONCLPC9",36,0)
 D P Q:EX=U
"RTN","ONCLPC9",37,0)
ITEM3 W !," 3. PERSONAL HISTORY OF OTHER"
"RTN","ONCLPC9",38,0)
 D P Q:EX=U
"RTN","ONCLPC9",39,0)
 W !,"     INVASIVE MALIGNANCIES PRIOR"
"RTN","ONCLPC9",40,0)
 D P Q:EX=U
"RTN","ONCLPC9",41,0)
 W !,"      TO THIS CANCER DIAGNOSIS....: ",$$GET1^DIQ(165.5,IE,1403)
"RTN","ONCLPC9",42,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G II
"RTN","ONCLPC9",43,0)
 D P Q:EX=U
"RTN","ONCLPC9",44,0)
II S TABLE="TUMOR IDENTIFICATION AND DIAGNOSIS"
"RTN","ONCLPC9",45,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCLPC0
"RTN","ONCLPC9",46,0)
 K LINE S $P(LINE,"-",34)="-"
"RTN","ONCLPC9",47,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9",48,0)
 D P Q:EX=U
"RTN","ONCLPC9",49,0)
ITEM4 W !," 4. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS:"
"RTN","ONCLPC9",50,0)
 D P Q:EX=U
"RTN","ONCLPC9",51,0)
 W !,"     COUGH........................: ",$$GET1^DIQ(165.5,IE,1404)
"RTN","ONCLPC9",52,0)
 D P Q:EX=U
"RTN","ONCLPC9",53,0)
 W !,"     SHORTNESS OF BREATH..........: ",$$GET1^DIQ(165.5,IE,1404.1)
"RTN","ONCLPC9",54,0)
 D P Q:EX=U
"RTN","ONCLPC9",55,0)
 W !,"     WEIGHT LOSS..................: ",$$GET1^DIQ(165.5,IE,1404.2)
"RTN","ONCLPC9",56,0)
 D P Q:EX=U
"RTN","ONCLPC9",57,0)
 W !,"     HEMOPTYSIS...................: ",$$GET1^DIQ(165.5,IE,1404.3)
"RTN","ONCLPC9",58,0)
 D P Q:EX=U
"RTN","ONCLPC9",59,0)
 W !,"     PALPABLE LYMPH NODES.........: ",$$GET1^DIQ(165.5,IE,1404.4)
"RTN","ONCLPC9",60,0)
 D P Q:EX=U
"RTN","ONCLPC9",61,0)
 W !
"RTN","ONCLPC9",62,0)
 D P Q:EX=U
"RTN","ONCLPC9",63,0)
ITEM5 W !," 5. SCREENING FOR HIGH RISK/ASYMPTOMATIC PRESENTATION:"
"RTN","ONCLPC9",64,0)
 D P Q:EX=U
"RTN","ONCLPC9",65,0)
 W !,"     CHEST X-RAY..................: ",$$GET1^DIQ(165.5,IE,1405)
"RTN","ONCLPC9",66,0)
 D P Q:EX=U
"RTN","ONCLPC9",67,0)
 W !,"     CT SCAN......................: ",$$GET1^DIQ(165.5,IE,1405.1)
"RTN","ONCLPC9",68,0)
 D P Q:EX=U
"RTN","ONCLPC9",69,0)
 W !,"     BRONCHOSCOPY.................: ",$$GET1^DIQ(165.5,IE,1405.2)
"RTN","ONCLPC9",70,0)
 D P Q:EX=U
"RTN","ONCLPC9",71,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G ITEM6
"RTN","ONCLPC9",72,0)
 W !
"RTN","ONCLPC9",73,0)
 D P Q:EX=U
"RTN","ONCLPC9",74,0)
ITEM6 W !," 6. INITIAL DIAGNOSTIC STUDIES (PRE-THERAPY):"
"RTN","ONCLPC9",75,0)
 D P Q:EX=U
"RTN","ONCLPC9",76,0)
 W !,"     HISTORY AND PHYSICAL.........: ",$$GET1^DIQ(165.5,IE,1406)
"RTN","ONCLPC9",77,0)
 D P Q:EX=U
"RTN","ONCLPC9",78,0)
 W !,"     BRONCHOSCOPY.................: ",$$GET1^DIQ(165.5,IE,1406.1)
"RTN","ONCLPC9",79,0)
 D P Q:EX=U
"RTN","ONCLPC9",80,0)
 W !,"     FNAB.........................: ",$$GET1^DIQ(165.5,IE,1406.2)
"RTN","ONCLPC9",81,0)
 D P Q:EX=U
"RTN","ONCLPC9",82,0)
 W !,"     MEDIASTINOSCOPY..............: ",$$GET1^DIQ(165.5,IE,1406.3)
"RTN","ONCLPC9",83,0)
 D P Q:EX=U
"RTN","ONCLPC9",84,0)
 W !,"     THOROCOTOMY/OPEN BIOSPY......: ",$$GET1^DIQ(165.5,IE,1406.4)
"RTN","ONCLPC9",85,0)
 D P Q:EX=U
"RTN","ONCLPC9",86,0)
 W !,"     VATS.........................: ",$$GET1^DIQ(165.5,IE,1406.5)
"RTN","ONCLPC9",87,0)
 D P Q:EX=U
"RTN","ONCLPC9",88,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCLPC9",89,0)
 I IOST?1"C".E D HEAD^ONCLPC0
"RTN","ONCLPC9",90,0)
 D ^ONCLPC9A
"RTN","ONCLPC9",91,0)
KILL ;
"RTN","ONCLPC9",92,0)
 K CS,CSDAT,CSI,CSPNT,DESC,DESC1,DESC2,DLC,DOFCT
"RTN","ONCLPC9",93,0)
 K EX,IE,LIN,LINE,LOS,NOP,ONCOLST,TABLE
"RTN","ONCLPC9",94,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCLPC9",95,0)
 Q
"RTN","ONCLPC9",96,0)
P ;Print
"RTN","ONCLPC9",97,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCLPC9",98,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCLPC9",99,0)
 .D HEAD^ONCLPC0 Q
"RTN","ONCLPC9",100,0)
 Q
"RTN","ONCLPC9",101,0)
TASK ;Queue a task
"RTN","ONCLPC9",102,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCLPC9",103,0)
 S ZTRTN="PRT^ONCLPC9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCLPC9",104,0)
 S ZTDESC="Print Lung (NSCLC) PCE"
"RTN","ONCLPC9",105,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCLPC9",106,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCLPC9",107,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCLPC9A")
0^121^B51877997
"RTN","ONCLPC9A",1,0)
ONCLPC9A ;Hines OIFO/GWB - 2001 Lung (NSCLC) PCE Study ;05/16/01
"RTN","ONCLPC9A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC9A",3,0)
 ;Print (continued) 
"RTN","ONCLPC9A",4,0)
III S TABLE="TUMOR EVALUATION"
"RTN","ONCLPC9A",5,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCLPC0
"RTN","ONCLPC9A",6,0)
 K LINE S $P(LINE,"-",16)="-"
"RTN","ONCLPC9A",7,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9A",8,0)
 D P Q:EX=U
"RTN","ONCLPC9A",9,0)
ITEM7 W !," 7. PULMONARY FUNCTION TESTS:"
"RTN","ONCLPC9A",10,0)
 D P Q:EX=U
"RTN","ONCLPC9A",11,0)
 W !,"     FVC (forced vital capacity)..: ",$$GET1^DIQ(165.5,IE,1407)
"RTN","ONCLPC9A",12,0)
 D P Q:EX=U
"RTN","ONCLPC9A",13,0)
 W !,"     FEV (forced expiratory vol)..: ",$$GET1^DIQ(165.5,IE,1407.1)
"RTN","ONCLPC9A",14,0)
 D P Q:EX=U
"RTN","ONCLPC9A",15,0)
 W !
"RTN","ONCLPC9A",16,0)
 D P Q:EX=U
"RTN","ONCLPC9A",17,0)
ITEM8 W !," 8. LIVER FUNCTION TESTS..........: ",$$GET1^DIQ(165.5,IE,1408)
"RTN","ONCLPC9A",18,0)
 W !
"RTN","ONCLPC9A",19,0)
 D P Q:EX=U
"RTN","ONCLPC9A",20,0)
ITEM9 W !," 9. RADIOLOGICAL EVALUATION:"
"RTN","ONCLPC9A",21,0)
 D P Q:EX=U
"RTN","ONCLPC9A",22,0)
 W !,"     BONE SCAN....................: ",$$GET1^DIQ(165.5,IE,1409)
"RTN","ONCLPC9A",23,0)
 D P Q:EX=U
"RTN","ONCLPC9A",24,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1409.1)
"RTN","ONCLPC9A",25,0)
 D P Q:EX=U
"RTN","ONCLPC9A",26,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1409.2)
"RTN","ONCLPC9A",27,0)
 D P Q:EX=U
"RTN","ONCLPC9A",28,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1409.3)
"RTN","ONCLPC9A",29,0)
 D P Q:EX=U
"RTN","ONCLPC9A",30,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1409.4)
"RTN","ONCLPC9A",31,0)
 D P Q:EX=U
"RTN","ONCLPC9A",32,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1409.5)
"RTN","ONCLPC9A",33,0)
 D P1 Q:EX=U
"RTN","ONCLPC9A",34,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1409.6)
"RTN","ONCLPC9A",35,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G CTSC
"RTN","ONCLPC9A",36,0)
 W !
"RTN","ONCLPC9A",37,0)
 D P Q:EX=U
"RTN","ONCLPC9A",38,0)
CTSC W !,"     CT SCAN OF CHEST.............: ",$$GET1^DIQ(165.5,IE,1410)
"RTN","ONCLPC9A",39,0)
 D P Q:EX=U
"RTN","ONCLPC9A",40,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1410.1)
"RTN","ONCLPC9A",41,0)
 D P Q:EX=U
"RTN","ONCLPC9A",42,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1410.2)
"RTN","ONCLPC9A",43,0)
 D P Q:EX=U
"RTN","ONCLPC9A",44,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1410.3)
"RTN","ONCLPC9A",45,0)
 D P Q:EX=U
"RTN","ONCLPC9A",46,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1410.4)
"RTN","ONCLPC9A",47,0)
 D P Q:EX=U
"RTN","ONCLPC9A",48,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1410.5)
"RTN","ONCLPC9A",49,0)
 D P Q:EX=U
"RTN","ONCLPC9A",50,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1410.6)
"RTN","ONCLPC9A",51,0)
 W !
"RTN","ONCLPC9A",52,0)
 D P Q:EX=U
"RTN","ONCLPC9A",53,0)
CTSB W !,"     CT SCAN OF BRAIN.............: ",$$GET1^DIQ(165.5,IE,1411)
"RTN","ONCLPC9A",54,0)
 D P Q:EX=U
"RTN","ONCLPC9A",55,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1411.1)
"RTN","ONCLPC9A",56,0)
 D P Q:EX=U
"RTN","ONCLPC9A",57,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1411.2)
"RTN","ONCLPC9A",58,0)
 D P Q:EX=U
"RTN","ONCLPC9A",59,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1411.3)
"RTN","ONCLPC9A",60,0)
 D P Q:EX=U
"RTN","ONCLPC9A",61,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1411.4)
"RTN","ONCLPC9A",62,0)
 D P Q:EX=U
"RTN","ONCLPC9A",63,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1411.5)
"RTN","ONCLPC9A",64,0)
 D P1 Q:EX=U
"RTN","ONCLPC9A",65,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1411.6)
"RTN","ONCLPC9A",66,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G MRISC
"RTN","ONCLPC9A",67,0)
 W !
"RTN","ONCLPC9A",68,0)
 D P Q:EX=U
"RTN","ONCLPC9A",69,0)
MRISC W !,"     MRI SCAN OF CHEST............: ",$$GET1^DIQ(165.5,IE,1412)
"RTN","ONCLPC9A",70,0)
 D P Q:EX=U
"RTN","ONCLPC9A",71,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1412.1)
"RTN","ONCLPC9A",72,0)
 D P Q:EX=U
"RTN","ONCLPC9A",73,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1412.2)
"RTN","ONCLPC9A",74,0)
 D P Q:EX=U
"RTN","ONCLPC9A",75,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1412.3)
"RTN","ONCLPC9A",76,0)
 D P Q:EX=U
"RTN","ONCLPC9A",77,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1412.4)
"RTN","ONCLPC9A",78,0)
 D P Q:EX=U
"RTN","ONCLPC9A",79,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1412.5)
"RTN","ONCLPC9A",80,0)
 D P Q:EX=U
"RTN","ONCLPC9A",81,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1412.6)
"RTN","ONCLPC9A",82,0)
 W !
"RTN","ONCLPC9A",83,0)
 D P Q:EX=U
"RTN","ONCLPC9A",84,0)
MRISB W !,"     MRI SCAN OF BRAIN............: ",$$GET1^DIQ(165.5,IE,1413)
"RTN","ONCLPC9A",85,0)
 D P Q:EX=U
"RTN","ONCLPC9A",86,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1413.1)
"RTN","ONCLPC9A",87,0)
 D P Q:EX=U
"RTN","ONCLPC9A",88,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1413.2)
"RTN","ONCLPC9A",89,0)
 D P Q:EX=U
"RTN","ONCLPC9A",90,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1413.3)
"RTN","ONCLPC9A",91,0)
 D P Q:EX=U
"RTN","ONCLPC9A",92,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1413.4)
"RTN","ONCLPC9A",93,0)
 D P Q:EX=U
"RTN","ONCLPC9A",94,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1413.5)
"RTN","ONCLPC9A",95,0)
 D P1 Q:EX=U
"RTN","ONCLPC9A",96,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1413.6)
"RTN","ONCLPC9A",97,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G PETS
"RTN","ONCLPC9A",98,0)
 W !
"RTN","ONCLPC9A",99,0)
 D P Q:EX=U
"RTN","ONCLPC9A",100,0)
PETS W !,"     PET SCAN.....................: ",$$GET1^DIQ(165.5,IE,1414)
"RTN","ONCLPC9A",101,0)
 D P Q:EX=U
"RTN","ONCLPC9A",102,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1414.1)
"RTN","ONCLPC9A",103,0)
 D P Q:EX=U
"RTN","ONCLPC9A",104,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1414.2)
"RTN","ONCLPC9A",105,0)
 D P Q:EX=U
"RTN","ONCLPC9A",106,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1414.3)
"RTN","ONCLPC9A",107,0)
 D P Q:EX=U
"RTN","ONCLPC9A",108,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1414.4)
"RTN","ONCLPC9A",109,0)
 D P Q:EX=U
"RTN","ONCLPC9A",110,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1414.5)
"RTN","ONCLPC9A",111,0)
 D P Q:EX=U
"RTN","ONCLPC9A",112,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1414.6)
"RTN","ONCLPC9A",113,0)
 W !
"RTN","ONCLPC9A",114,0)
 D P Q:EX=U
"RTN","ONCLPC9A",115,0)
XRAY W !,"     X-RAY OF CHEST...............: ",$$GET1^DIQ(165.5,IE,1415)
"RTN","ONCLPC9A",116,0)
 D P Q:EX=U
"RTN","ONCLPC9A",117,0)
 W !,"      EMPHYSEMA...................: ",$$GET1^DIQ(165.5,IE,1415.1)
"RTN","ONCLPC9A",118,0)
 D P Q:EX=U
"RTN","ONCLPC9A",119,0)
 W !,"      VASCULAR INVASION...........: ",$$GET1^DIQ(165.5,IE,1415.2)
"RTN","ONCLPC9A",120,0)
 D P Q:EX=U
"RTN","ONCLPC9A",121,0)
 W !,"      MEDIASTINAL LYMPH NODES.....: ",$$GET1^DIQ(165.5,IE,1415.3)
"RTN","ONCLPC9A",122,0)
 D P Q:EX=U
"RTN","ONCLPC9A",123,0)
 W !,"      SIZE OF DOMINANT TUMOR (mm).: ",$$GET1^DIQ(165.5,IE,1415.4)
"RTN","ONCLPC9A",124,0)
 D P Q:EX=U
"RTN","ONCLPC9A",125,0)
 W !,"      NUMBER OF TUMORS............: ",$$GET1^DIQ(165.5,IE,1415.5)
"RTN","ONCLPC9A",126,0)
 D P1 Q:EX=U
"RTN","ONCLPC9A",127,0)
 W !,"      EVIDENCE OF METASTASIS......: ",$$GET1^DIQ(165.5,IE,1415.6)
"RTN","ONCLPC9A",128,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G ITEM10
"RTN","ONCLPC9A",129,0)
 W !
"RTN","ONCLPC9A",130,0)
 D P Q:EX=U
"RTN","ONCLPC9A",131,0)
ITEM10 W !,"10. PRE-OP LYMPH NODE MAPPING:"
"RTN","ONCLPC9A",132,0)
 D P Q:EX=U
"RTN","ONCLPC9A",133,0)
 W !,"     HIGHEST MEDIASTINAL (level 1): ",$$GET1^DIQ(165.5,IE,1416)
"RTN","ONCLPC9A",134,0)
 D P Q:EX=U
"RTN","ONCLPC9A",135,0)
 W !,"     UPPER PARATRACHEAL  (level 2): ",$$GET1^DIQ(165.5,IE,1416.1)
"RTN","ONCLPC9A",136,0)
 D P Q:EX=U
"RTN","ONCLPC9A",137,0)
 W !,"     PREVASCULAR AND RETROTRACHEAL"
"RTN","ONCLPC9A",138,0)
 D P Q:EX=U
"RTN","ONCLPC9A",139,0)
 W !,"                         (level 3): ",$$GET1^DIQ(165.5,IE,1416.2)
"RTN","ONCLPC9A",140,0)
 D P Q:EX=U
"RTN","ONCLPC9A",141,0)
 W !,"     LOWER PARATRACHEAL  (level 4): ",$$GET1^DIQ(165.5,IE,1416.3)
"RTN","ONCLPC9A",142,0)
 D P Q:EX=U
"RTN","ONCLPC9A",143,0)
 W !,"     SUBAORTIC           (level 5): ",$$GET1^DIQ(165.5,IE,1416.4)
"RTN","ONCLPC9A",144,0)
 D P Q:EX=U
"RTN","ONCLPC9A",145,0)
 W !,"     PARAORTIC           (level 6): ",$$GET1^DIQ(165.5,IE,1416.5)
"RTN","ONCLPC9A",146,0)
 D P Q:EX=U
"RTN","ONCLPC9A",147,0)
 W !,"     SUBCARINAL          (level 7): ",$$GET1^DIQ(165.5,IE,1416.6)
"RTN","ONCLPC9A",148,0)
 D P Q:EX=U
"RTN","ONCLPC9A",149,0)
 W !,"     PARAESOPHAGEAL      (level 8): ",$$GET1^DIQ(165.5,IE,1416.7)
"RTN","ONCLPC9A",150,0)
 D P Q:EX=U
"RTN","ONCLPC9A",151,0)
 W !,"     PULMONARY LIGAMENT  (level 9): ",$$GET1^DIQ(165.5,IE,1416.8)
"RTN","ONCLPC9A",152,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G IV
"RTN","ONCLPC9A",153,0)
 W !
"RTN","ONCLPC9A",154,0)
 D P Q:EX=U
"RTN","ONCLPC9A",155,0)
IV S TABLE="PATHOLOGY"
"RTN","ONCLPC9A",156,0)
 I IOST'?1"C".E I ($Y'<(LIN-4)) D HEAD^ONCLPC0
"RTN","ONCLPC9A",157,0)
 K LINE S $P(LINE,"-",8)="-"
"RTN","ONCLPC9A",158,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9A",159,0)
 D P Q:EX=U
"RTN","ONCLPC9A",160,0)
ITEM11 W !,"11. DATE OF FIRST TISSUE DIAGNOSIS: ",$$GET1^DIQ(165.5,IE,1402)
"RTN","ONCLPC9A",161,0)
 D P Q:EX=U
"RTN","ONCLPC9A",162,0)
 W !
"RTN","ONCLPC9A",163,0)
 D P Q:EX=U
"RTN","ONCLPC9A",164,0)
ITEM12 W !,"12. DISTANCE IN MILLIMETERS TO CLOSEST MARGIN:"
"RTN","ONCLPC9A",165,0)
 D P Q:EX=U
"RTN","ONCLPC9A",166,0)
 W !,"     PROXIMAL MARGIN..............: ",$$GET1^DIQ(165.5,IE,1429)
"RTN","ONCLPC9A",167,0)
 D P Q:EX=U
"RTN","ONCLPC9A",168,0)
 W !,"     DISTAL MARGIN................: ",$$GET1^DIQ(165.5,IE,1429.1)
"RTN","ONCLPC9A",169,0)
 D P Q:EX=U
"RTN","ONCLPC9A",170,0)
 W !
"RTN","ONCLPC9A",171,0)
 D P Q:EX=U
"RTN","ONCLPC9A",172,0)
ITEM13 W !,"13. FROZEN SECTION................: ",$$GET1^DIQ(165.5,IE,1417)
"RTN","ONCLPC9A",173,0)
 D P Q:EX=U
"RTN","ONCLPC9A",174,0)
 W !
"RTN","ONCLPC9A",175,0)
 D P Q:EX=U
"RTN","ONCLPC9A",176,0)
ITEM14 W !,"14. INVASION:"
"RTN","ONCLPC9A",177,0)
 D P Q:EX=U
"RTN","ONCLPC9A",178,0)
 W !,"     VASCULAR.....................: ",$$GET1^DIQ(165.5,IE,1418)
"RTN","ONCLPC9A",179,0)
 D P Q:EX=U
"RTN","ONCLPC9A",180,0)
 W !,"     LYMPHATICS...................: ",$$GET1^DIQ(165.5,IE,1418.1)
"RTN","ONCLPC9A",181,0)
 D P Q:EX=U
"RTN","ONCLPC9A",182,0)
 W !,"     PLEURA.......................: ",$$GET1^DIQ(165.5,IE,1418.2)
"RTN","ONCLPC9A",183,0)
 D P Q:EX=U
"RTN","ONCLPC9A",184,0)
 W !,"     CHEST WALL...................: ",$$GET1^DIQ(165.5,IE,1418.3)
"RTN","ONCLPC9A",185,0)
 D P Q:EX=U
"RTN","ONCLPC9A",186,0)
 W !,"     OTHER........................: ",$$GET1^DIQ(165.5,IE,1418.4)
"RTN","ONCLPC9A",187,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCLPC9A",188,0)
 I IOST?1"C".E D HEAD^ONCLPC0
"RTN","ONCLPC9A",189,0)
 D ^ONCLPC9B
"RTN","ONCLPC9A",190,0)
 Q
"RTN","ONCLPC9A",191,0)
P ;Print
"RTN","ONCLPC9A",192,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCLPC9A",193,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCLPC9A",194,0)
 .D HEAD^ONCLPC0 Q
"RTN","ONCLPC9A",195,0)
 Q
"RTN","ONCLPC9A",196,0)
P1 ;Print
"RTN","ONCLPC9A",197,0)
 I ($Y'<(LIN)) D  Q:EX=U
"RTN","ONCLPC9A",198,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCLPC9A",199,0)
 .D HEAD^ONCLPC0 Q
"RTN","ONCLPC9A",200,0)
 Q
"RTN","ONCLPC9B")
0^122^B27297739
"RTN","ONCLPC9B",1,0)
ONCLPC9B ;Hines OIFO/GWB - 2001 Lung (NSCLC) PCE Study ;05/17/01
"RTN","ONCLPC9B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCLPC9B",3,0)
 ;Print (continued)
"RTN","ONCLPC9B",4,0)
V S TABLE="FIRST COURSE OF TREATMENT - SURGERY"
"RTN","ONCLPC9B",5,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCLPC0
"RTN","ONCLPC9B",6,0)
 K LINE S $P(LINE,"-",35)="-"
"RTN","ONCLPC9B",7,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9B",8,0)
 D P Q:EX=U
"RTN","ONCLPC9B",9,0)
ITEM15 W !,"15. SCOPE OF OPERATIVE MEDIASTINAL LYMPH NODE ASSESSMENT:"
"RTN","ONCLPC9B",10,0)
 D P Q:EX=U
"RTN","ONCLPC9B",11,0)
 W !,"     HIGHEST MEDIASTINAL (level 1): ",$$GET1^DIQ(165.5,IE,1419)
"RTN","ONCLPC9B",12,0)
 D P Q:EX=U
"RTN","ONCLPC9B",13,0)
 W !,"     UPPER PARATRACHEAL  (level 2): ",$$GET1^DIQ(165.5,IE,1419.1)
"RTN","ONCLPC9B",14,0)
 D P Q:EX=U
"RTN","ONCLPC9B",15,0)
 W !,"     PREVASCULAR AND RETROTRACHEAL"
"RTN","ONCLPC9B",16,0)
 D P Q:EX=U
"RTN","ONCLPC9B",17,0)
 W !,"                         (level 3): ",$$GET1^DIQ(165.5,IE,1419.2)
"RTN","ONCLPC9B",18,0)
 D P Q:EX=U
"RTN","ONCLPC9B",19,0)
 W !,"     LOWER PARATRACHEAL  (level 4): ",$$GET1^DIQ(165.5,IE,1419.3)
"RTN","ONCLPC9B",20,0)
 D P Q:EX=U
"RTN","ONCLPC9B",21,0)
 W !,"     SUBAORTIC           (level 5): ",$$GET1^DIQ(165.5,IE,1419.4)
"RTN","ONCLPC9B",22,0)
 D P Q:EX=U
"RTN","ONCLPC9B",23,0)
 W !,"     PARAORTIC           (level 6): ",$$GET1^DIQ(165.5,IE,1419.5)
"RTN","ONCLPC9B",24,0)
 D P Q:EX=U
"RTN","ONCLPC9B",25,0)
 W !,"     SUBCARINAL          (level 7): ",$$GET1^DIQ(165.5,IE,1419.6)
"RTN","ONCLPC9B",26,0)
 D P Q:EX=U
"RTN","ONCLPC9B",27,0)
 W !,"     PARAESOPHAGEAL      (level 8): ",$$GET1^DIQ(165.5,IE,1419.7)
"RTN","ONCLPC9B",28,0)
 D P Q:EX=U
"RTN","ONCLPC9B",29,0)
 W !,"     PULMONARY LIGAMENT  (level 9): ",$$GET1^DIQ(165.5,IE,1419.8)
"RTN","ONCLPC9B",30,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0 G ITEM16
"RTN","ONCLPC9B",31,0)
 W !
"RTN","ONCLPC9B",32,0)
 D P Q:EX=U
"RTN","ONCLPC9B",33,0)
ITEM16 W !,"16. HCT (HEMATOCRIT) VALUES BEFORE"
"RTN","ONCLPC9B",34,0)
 D P Q:EX=U
"RTN","ONCLPC9B",35,0)
 W !,"     TRANSFUSION..................: ",$$GET1^DIQ(165.5,IE,1430)
"RTN","ONCLPC9B",36,0)
 D P Q:EX=U
"RTN","ONCLPC9B",37,0)
 W !
"RTN","ONCLPC9B",38,0)
 D P Q:EX=U
"RTN","ONCLPC9B",39,0)
ITEM17 W !,"17. TOTAL PERI-OPERATIVE BLOOD"
"RTN","ONCLPC9B",40,0)
 D P Q:EX=U
"RTN","ONCLPC9B",41,0)
 W !,"     REPLACEMENT..................: ",$$GET1^DIQ(165.5,IE,1420)
"RTN","ONCLPC9B",42,0)
 D P Q:EX=U
"RTN","ONCLPC9B",43,0)
 W !
"RTN","ONCLPC9B",44,0)
 D P Q:EX=U
"RTN","ONCLPC9B",45,0)
ITEM18 W !,"18. PERI-OPERATIVE DEATH..........: ",$$GET1^DIQ(165.5,IE,1421)
"RTN","ONCLPC9B",46,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0
"RTN","ONCLPC9B",47,0)
 S TABLE="FIRST COURSE OF TREATMENT - RADIATION"
"RTN","ONCLPC9B",48,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCLPC0
"RTN","ONCLPC9B",49,0)
 K LINE S $P(LINE,"-",37)="-"
"RTN","ONCLPC9B",50,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9B",51,0)
 D P Q:EX=U
"RTN","ONCLPC9B",52,0)
ITEM19 W !,"19. REGIONAL DOSE (cGy)...........: ",$$GET1^DIQ(165.5,IE,442)
"RTN","ONCLPC9B",53,0)
 D P Q:EX=U
"RTN","ONCLPC9B",54,0)
 W !
"RTN","ONCLPC9B",55,0)
 D P Q:EX=U
"RTN","ONCLPC9B",56,0)
ITEM20 W !,"20. NUMBER OF TREATMENTS TO THIS"
"RTN","ONCLPC9B",57,0)
 D P Q:EX=U
"RTN","ONCLPC9B",58,0)
 W !,"     VOLUME.......................: ",$$GET1^DIQ(165.5,IE,56)
"RTN","ONCLPC9B",59,0)
 D P Q:EX=U
"RTN","ONCLPC9B",60,0)
 W !
"RTN","ONCLPC9B",61,0)
 D P Q:EX=U
"RTN","ONCLPC9B",62,0)
ITEM21 W !,"21. REGIONAL TREATMENT MODALITY...: ",$$GET1^DIQ(165.5,IE,363)
"RTN","ONCLPC9B",63,0)
 D P Q:EX=U
"RTN","ONCLPC9B",64,0)
 W !
"RTN","ONCLPC9B",65,0)
 D P Q:EX=U
"RTN","ONCLPC9B",66,0)
ITEM22 W !,"22. RADIATION/SURGERY SEQUENCE....: ",$$GET1^DIQ(165.5,IE,51.3)
"RTN","ONCLPC9B",67,0)
 D P Q:EX=U
"RTN","ONCLPC9B",68,0)
 W !
"RTN","ONCLPC9B",69,0)
 D P Q:EX=U
"RTN","ONCLPC9B",70,0)
ITEM23 W !,"23. BOOST DOSE (cGy)..............: ",$$GET1^DIQ(165.5,IE,1422)
"RTN","ONCLPC9B",71,0)
 D P Q:EX=U
"RTN","ONCLPC9B",72,0)
 W !
"RTN","ONCLPC9B",73,0)
 D P Q:EX=U
"RTN","ONCLPC9B",74,0)
ITEM24 W !,"24. INTENT OF RADIATION TREATMENT.: ",$$GET1^DIQ(165.5,IE,127)
"RTN","ONCLPC9B",75,0)
 D P Q:EX=U
"RTN","ONCLPC9B",76,0)
 W !
"RTN","ONCLPC9B",77,0)
 D P Q:EX=U
"RTN","ONCLPC9B",78,0)
ITEM25 W !,"25. REASON FOR NO RADIATION.......: ",$$GET1^DIQ(165.5,IE,75)
"RTN","ONCLPC9B",79,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0
"RTN","ONCLPC9B",80,0)
 S TABLE="FIRST COURSE OF TREATMENT - CHEMOTHERAPY"
"RTN","ONCLPC9B",81,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCLPC0
"RTN","ONCLPC9B",82,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCLPC9B",83,0)
 W !?4,TABLE,!?4,LINE
"RTN","ONCLPC9B",84,0)
 D P Q:EX=U
"RTN","ONCLPC9B",85,0)
ITEM26 W !,"26. TYPE OF CHEMOTHERAPEUTIC AGENTS ADMINISTERED:"
"RTN","ONCLPC9B",86,0)
 D P Q:EX=U
"RTN","ONCLPC9B",87,0)
 W !,"     AGENT #1.....................: ",$$GET1^DIQ(165.5,IE,1423)
"RTN","ONCLPC9B",88,0)
 D P Q:EX=U
"RTN","ONCLPC9B",89,0)
 W !,"     AGENT #2.....................: ",$$GET1^DIQ(165.5,IE,1423.1)
"RTN","ONCLPC9B",90,0)
 D P Q:EX=U
"RTN","ONCLPC9B",91,0)
 W !,"     AGENT #3.....................: ",$$GET1^DIQ(165.5,IE,1423.2)
"RTN","ONCLPC9B",92,0)
 D P Q:EX=U
"RTN","ONCLPC9B",93,0)
 W !
"RTN","ONCLPC9B",94,0)
 D P Q:EX=U
"RTN","ONCLPC9B",95,0)
ITEM27 W !,"27. CHEMOTHERAPEUTIC TOXICITY.....: ",$$GET1^DIQ(165.5,IE,1424)
"RTN","ONCLPC9B",96,0)
 D P Q:EX=U
"RTN","ONCLPC9B",97,0)
 W !
"RTN","ONCLPC9B",98,0)
 D P Q:EX=U
"RTN","ONCLPC9B",99,0)
ITEM28 W !,"28. CHEMOTHERAPY/SURGERY SEQUENCE.: ",$$GET1^DIQ(165.5,IE,1425)
"RTN","ONCLPC9B",100,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0
"RTN","ONCLPC9B",101,0)
VI S TABLE="TREATMENT COMPLICATIONS"
"RTN","ONCLPC9B",102,0)
 I IOST'?1"C".E W !
"RTN","ONCLPC9B",103,0)
 W !?4,TABLE,!?4,"-----------------------"
"RTN","ONCLPC9B",104,0)
 D P Q:EX=U
"RTN","ONCLPC9B",105,0)
ITEM29 W !,"29. COMPLICATIONS:"
"RTN","ONCLPC9B",106,0)
 D P Q:EX=U
"RTN","ONCLPC9B",107,0)
 I TC="No" D  G TC2
"RTN","ONCLPC9B",108,0)
 .W !,"     COMPLICATION #1..............: 000.00 No complications"
"RTN","ONCLPC9B",109,0)
 W !,"     COMPLICATION #1..............: ",$P($$GET1^DIQ(165.5,IE,1426)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1426)," ",2,99)
"RTN","ONCLPC9B",110,0)
TC2 D P Q:EX=U
"RTN","ONCLPC9B",111,0)
 W !,"     COMPLICATION #2..............: ",$P($$GET1^DIQ(165.5,IE,1426.1)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1426.1)," ",2,99)
"RTN","ONCLPC9B",112,0)
 D P Q:EX=U
"RTN","ONCLPC9B",113,0)
 W !,"     COMPLICATION #3..............: ",$P($$GET1^DIQ(165.5,IE,1426.2)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1426.2)," ",2,99)
"RTN","ONCLPC9B",114,0)
 D P Q:EX=U
"RTN","ONCLPC9B",115,0)
 W !,"     COMPLICATION #4..............: ",$P($$GET1^DIQ(165.5,IE,1426.3)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1426.3)," ",2,99)
"RTN","ONCLPC9B",116,0)
 D P Q:EX=U
"RTN","ONCLPC9B",117,0)
 W !,"     COMPLICATION #5..............: ",$P($$GET1^DIQ(165.5,IE,1426.4)," ",1),?44,$P($$GET1^DIQ(165.5,IE,1426.4)," ",2,99)
"RTN","ONCLPC9B",118,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCLPC0
"RTN","ONCLPC9B",119,0)
VII S TABLE="CASE REGISTRATION"
"RTN","ONCLPC9B",120,0)
 I IOST'?1"C".E W !
"RTN","ONCLPC9B",121,0)
 W !?4,TABLE,!?4,"-----------------"
"RTN","ONCLPC9B",122,0)
 D P Q:EX=U
"RTN","ONCLPC9B",123,0)
ITEM30 W !,"29. INITIALS OF CASE ABSTRACTOR...: ",$$GET1^DIQ(165.5,IE,81)
"RTN","ONCLPC9B",124,0)
 D P Q:EX=U
"RTN","ONCLPC9B",125,0)
 W !
"RTN","ONCLPC9B",126,0)
 D P Q:EX=U
"RTN","ONCLPC9B",127,0)
ITEM31 W !,"30. DATE CASE WAS ABSTRACTED......: ",$$GET1^DIQ(165.5,IE,90)
"RTN","ONCLPC9B",128,0)
 D P Q:EX=U
"RTN","ONCLPC9B",129,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCLPC9B",130,0)
 Q
"RTN","ONCLPC9B",131,0)
P ;Print
"RTN","ONCLPC9B",132,0)
 I ($Y'<(LIN-1)) D  Q:EX=U
"RTN","ONCLPC9B",133,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCLPC9B",134,0)
 .D HEAD^ONCLPC0 Q
"RTN","ONCLPC9B",135,0)
 Q
"RTN","ONCMPC0")
0^123^B6357751
"RTN","ONCMPC0",1,0)
ONCMPC0 ;Hines CIOFO/GWB - PCE Study of Melanoma ;1/05/99
"RTN","ONCMPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCMPC0",4,0)
 ;Check if Class of Case = 0, 1, 2 or 6.
"RTN","ONCMPC0",5,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=0)&(COC'=1)&(COC'=2)&(COC'=6) S MSG="The Class of Case is not 0, 1, 2 or 6." D ERRMSG G EXIT
"RTN","ONCMPC0",6,0)
 ;Check if BEHAVIOR is 2 (melanoma in situ) or 3 (malignant)
"RTN","ONCMPC0",7,0)
 I (BEH'=2)&(BEH'=3) S MSG="The BEHAVIOR is not 2 (melanoma in situ) or 3 (malignant)." D ERRMSG G EXIT
"RTN","ONCMPC0",8,0)
MENU ;Melanoma PCE menu
"RTN","ONCMPC0",9,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="MEL"
"RTN","ONCMPC0",10,0)
 S ^ONCO(165.5,"APCE","MEL",ONCONUM)=""
"RTN","ONCMPC0",11,0)
 K DIR D HEAD
"RTN","ONCMPC0",12,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Extent of Disease and AJCC Stage;4:First Course of Treatment;5:First Recurrence;6:Status at Last Contact;7:Other Information;8:All;"
"RTN","ONCMPC0",13,0)
 S DIR(0)=DIR(0)_"9:Print Melanoma PCE"
"RTN","ONCMPC0",14,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCMPC0",15,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCMPC0",16,0)
 I Y=8 S OUT="" D  G MENU
"RTN","ONCMPC0",17,0)
 .D ^ONCMPC1 Q:$G(OUT)="Y"
"RTN","ONCMPC0",18,0)
 .D ^ONCMPC2 Q:$G(OUT)="Y"
"RTN","ONCMPC0",19,0)
 .D ^ONCMPC3 Q:$G(OUT)="Y"
"RTN","ONCMPC0",20,0)
 .D ^ONCMPC4 Q:$G(OUT)="Y"
"RTN","ONCMPC0",21,0)
 .D ^ONCMPC5 Q:$G(OUT)="Y"
"RTN","ONCMPC0",22,0)
 .D ^ONCMPC6 Q:$G(OUT)="Y"
"RTN","ONCMPC0",23,0)
 .D ^ONCMPC7 Q:$G(OUT)="Y"
"RTN","ONCMPC0",24,0)
 I Y=9 D ^ONCMPC9 G MENU
"RTN","ONCMPC0",25,0)
 S SUB="^ONCMPC"_Y D @SUB G MENU
"RTN","ONCMPC0",26,0)
ERRMSG ;Error message
"RTN","ONCMPC0",27,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the Melanoma PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCMPC0",28,0)
 K MSG Q
"RTN","ONCMPC0",29,0)
HEAD ;Melanoma PCE header
"RTN","ONCMPC0",30,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCMPC0",31,0)
 S HDL=$L("1999 Patient Care Evaluation Study of Melanoma"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCMPC0",32,0)
 W !,?TAB,"1999 Patient Care Evaluation Study of Melanoma",!,DASHES
"RTN","ONCMPC0",33,0)
 Q
"RTN","ONCMPC0",34,0)
EXIT ;Kill variables and exit
"RTN","ONCMPC0",35,0)
 K COC,DC,HDL,HIST,HIS1234,BEH,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCMPC0",36,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCMPC0",37,0)
 Q
"RTN","ONCMPC1")
0^124^B20744246
"RTN","ONCMPC1",1,0)
ONCMPC1 ;Hines OIFO/GWB - 1999 Melanoma Study ;01/07/99
"RTN","ONCMPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC1",3,0)
 ;Table I
"RTN","ONCMPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCMPC1",5,0)
 S TABLE("1. INSTITUTION ID NUMBER")="IIN"
"RTN","ONCMPC1",6,0)
 S TABLE("2. ACCESSION NUMBER")="ACC"
"RTN","ONCMPC1",7,0)
 S TABLE("3. SEQUENCE NUMBER")="SEQ"
"RTN","ONCMPC1",8,0)
 S TABLE("4. POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCMPC1",9,0)
 S TABLE("5. DATE OF BIRTH")="DOB"
"RTN","ONCMPC1",10,0)
 S TABLE("6. RACE")="RACE"
"RTN","ONCMPC1",11,0)
 S TABLE("7. SPANISH ORIGIN")="SO"
"RTN","ONCMPC1",12,0)
 S TABLE("8. SEX")="SEX"
"RTN","ONCMPC1",13,0)
 S TABLE("9. PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCMPC1",14,0)
 S TABLE("10. PERSONAL HISTORY OF MELANOMA")="PHOM"
"RTN","ONCMPC1",15,0)
 S TABLE("11. PERSONAL HISTORY OF OTHER CANCER")="PHOOC"
"RTN","ONCMPC1",16,0)
 S TABLE("12. PREGNANCY AT INITIAL DX")="PAID"
"RTN","ONCMPC1",17,0)
 S TABLE("13. EXOGENOUS HORMONES")="EH"
"RTN","ONCMPC1",18,0)
 S HTABLE(1)=" 1. INSTITUTION ID NUMBER"
"RTN","ONCMPC1",19,0)
 S HTABLE(2)=" 2. ACCESSION NUMBER"
"RTN","ONCMPC1",20,0)
 S HTABLE(3)=" 3. SEQUENCE NUMBER"
"RTN","ONCMPC1",21,0)
 S HTABLE(4)=" 4. POSTAL CODE AT DIAGNOSIS"
"RTN","ONCMPC1",22,0)
 S HTABLE(5)=" 5. DATE OF BIRTH"
"RTN","ONCMPC1",23,0)
 S HTABLE(6)=" 6. RACE"
"RTN","ONCMPC1",24,0)
 S HTABLE(7)=" 7. SPANISH ORIGIN"
"RTN","ONCMPC1",25,0)
 S HTABLE(8)=" 8. SEX"
"RTN","ONCMPC1",26,0)
 S HTABLE(9)=" 9. PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCMPC1",27,0)
 S HTABLE(10)="10. PERSONAL HISTORY OF MELANOMA"
"RTN","ONCMPC1",28,0)
 S HTABLE(11)="11. PERSONAL HISTORY OF OTHER CANCER"
"RTN","ONCMPC1",29,0)
 S HTABLE(12)="12. PREGNANCY AT INITIAL DX"
"RTN","ONCMPC1",30,0)
 S HTABLE(13)="13. EXOGENOUS HORMONES"
"RTN","ONCMPC1",31,0)
 S CHOICES=13
"RTN","ONCMPC1",32,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;.05;.06",DA=ONCONUM,DIQ="ONC"
"RTN","ONCMPC1",33,0)
 D EN^DIQ1
"RTN","ONCMPC1",34,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCMPC1",35,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC1",36,0)
IIN W !,"  1. INSTITUTION ID NUMBER........: ",$$IIN^ONCFUNC
"RTN","ONCMPC1",37,0)
 W !!,"  TABLE I - GENERAL INFORMATION"
"RTN","ONCMPC1",38,0)
 W !,"  -----------------------------"
"RTN","ONCMPC1",39,0)
ACC W !,"  2. ACCESSION NUMBER.............: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCMPC1",40,0)
SEQ W !,"  3. SEQUENCE NUMBER..............: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCMPC1",41,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC1",42,0)
 S DR="9  4. POSTAL CODE AT DIAGNOSIS....." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",43,0)
DOB W !,"  5. DATE OF BIRTH................: ",DOB
"RTN","ONCMPC1",44,0)
RACE S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCMPC1",45,0)
 S DR="8  6. RACE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",46,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCMPC1",47,0)
 S DR="9  7. SPANISH ORIGIN..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",48,0)
SEX S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCMPC1",49,0)
 S DR="10  8. SEX.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",50,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC1",51,0)
 S DR="18  9. PRIMARY PAYER AT DIAGNOSIS..." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",52,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC1",53,0)
PHOM S DR="1100 10. PERSONAL HISTORY OF MELANOMA." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",54,0)
PHOOC D FSC^ONCOMNI S FSCDEF=X,FDDDEF=FSDX
"RTN","ONCMPC1",55,0)
 D SSC^ONCOMNI S SSCDEF=X,SDDDEF=SSDX
"RTN","ONCMPC1",56,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC1",57,0)
 S DF=$S(X'="C88.8":"Yes",1:"No")
"RTN","ONCMPC1",58,0)
 S DR="1101 11. PERSONAL HISTORY OF OTHER CA.//"_DF D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",59,0)
 I X=0 D  G PAH
"RTN","ONCMPC1",60,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,3)=67888
"RTN","ONCMPC1",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,4)=8888888
"RTN","ONCMPC1",62,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,5)=67888
"RTN","ONCMPC1",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,6)=8888888
"RTN","ONCMPC1",64,0)
 .W !!,"      1ST SITE CODE...............: C88.8"
"RTN","ONCMPC1",65,0)
 .W !,"      DATE DIAGNOSED..............: 88/8888"
"RTN","ONCMPC1",66,0)
 .W !!,"      2ND SITE CODE...............: C88.8"
"RTN","ONCMPC1",67,0)
 .W !,"      DATE DIAGNOSED..............: 88/8888"
"RTN","ONCMPC1",68,0)
 I X=9 D  G PAH
"RTN","ONCMPC1",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,3)=67999
"RTN","ONCMPC1",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,4)=9999999
"RTN","ONCMPC1",71,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,5)=67999
"RTN","ONCMPC1",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,6)=9999999
"RTN","ONCMPC1",73,0)
 .W !!,"      1ST SITE CODE...............: C99.9"
"RTN","ONCMPC1",74,0)
 .W !,"      DATE DIAGNOSED..............: 99/9999"
"RTN","ONCMPC1",75,0)
 .W !!,"      2ND SITE CODE...............: C99.9"
"RTN","ONCMPC1",76,0)
 .W !,"      DATE DIAGNOSED..............: 99/9999"
"RTN","ONCMPC1",77,0)
 W !
"RTN","ONCMPC1",78,0)
 S DR="1102      1ST SITE CODE...............//"_FSCDEF D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",79,0)
 S DR="1103      DATE DIAGNOSED..............//"_FDDDEF D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",80,0)
 W !
"RTN","ONCMPC1",81,0)
 S DR="1104      2ND SITE CODE...............//"_SSCDEF D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",82,0)
 S DR="1105      DATE DIAGNOSED..............//"_SDDDEF D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",83,0)
PAH W !!," PREGNANCY AND HORMONES",!
"RTN","ONCMPC1",84,0)
 I $$GET1^DIQ(160,ONCOPA,10,"I")=1 D  W ! G PRTC
"RTN","ONCMPC1",85,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,7)=8
"RTN","ONCMPC1",86,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,8)=8
"RTN","ONCMPC1",87,0)
 .W !," 12. PREGNANCY AT INITIAL DX......: NA, male"
"RTN","ONCMPC1",88,0)
 .W !," 13. EXOGENOUS HORMONES...........: NA, male patient"
"RTN","ONCMPC1",89,0)
PAID S DR="1106 12. PREGNANCY AT INITIAL DX......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",90,0)
EH S DR="1107 13. EXOGENOUS HORMONES..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC1",91,0)
PRTC K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC1",92,0)
 G EXIT
"RTN","ONCMPC1",93,0)
JUMP ;Jump to prompts
"RTN","ONCMPC1",94,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCMPC1",95,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC1",96,0)
 I X["?" D  G JUMP
"RTN","ONCMPC1",97,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC1",98,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC1",99,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC1",100,0)
 S X=TABLE(X)
"RTN","ONCMPC1",101,0)
 G @X
"RTN","ONCMPC1",102,0)
EXIT K HTABLE,TABLE,CHOICES,ONC,DOB,OSP,IIN
"RTN","ONCMPC1",103,0)
 K DIC,DR,DA,DIQ,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCMPC1",104,0)
 Q
"RTN","ONCMPC2")
0^125^B8443615
"RTN","ONCMPC2",1,0)
ONCMPC2 ;HINES CIOFO/GWB - 1999 Melanoma Study - Table II ;1/12/99
"RTN","ONCMPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCMPC2",4,0)
 S TABLE("14. CLASS OF CASE")="COC"
"RTN","ONCMPC2",5,0)
 S TABLE("15. DATE OF INITIAL DIAGNOSIS")="DOID"
"RTN","ONCMPC2",6,0)
 S TABLE("16. PRIMARY SITE (ICD-O-2)")="PS"
"RTN","ONCMPC2",7,0)
 S TABLE("17. LOCATION OF DISEASE PRESENTATION")="LODP"
"RTN","ONCMPC2",8,0)
 S TABLE("18. LATERALITY")="L"
"RTN","ONCMPC2",9,0)
 S TABLE("19. HISTOLOGY (ICD-O-2)")="HIST"
"RTN","ONCMPC2",10,0)
 S TABLE("20. BEHAVIOR CODE(ICD-O-2)")="BC"
"RTN","ONCMPC2",11,0)
 S TABLE("21. GRADE")="GRADE"
"RTN","ONCMPC2",12,0)
 S TABLE("22. DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCMPC2",13,0)
 S HTABLE(1)="14. CLASS OF CASE"
"RTN","ONCMPC2",14,0)
 S HTABLE(2)="15. DATE OF INITIAL DIAGNOSIS"
"RTN","ONCMPC2",15,0)
 S HTABLE(3)="16. PRIMARY SITE (ICD-O-2)"
"RTN","ONCMPC2",16,0)
 S HTABLE(4)="17. LOCATION OF DISEASE PRESENTATION"
"RTN","ONCMPC2",17,0)
 S HTABLE(5)="18. LATERALITY"
"RTN","ONCMPC2",18,0)
 S HTABLE(6)="19. HISTOLOGY (ICD-O-2)"
"RTN","ONCMPC2",19,0)
 S HTABLE(7)="20. BEHAVIOR CODE (ICD-O-2)"
"RTN","ONCMPC2",20,0)
 S HTABLE(8)="21. GRADE"
"RTN","ONCMPC2",21,0)
 S HTABLE(9)="22. DIAGNOSTIC CONFIRMATION"
"RTN","ONCMPC2",22,0)
 S CHOICES=9
"RTN","ONCMPC2",23,0)
 K DIQ
"RTN","ONCMPC2",24,0)
 S DIC="^ONCO(165.5,",DR=".04;20;22;28",DA=ONCONUM,DIQ="ONC",DIQ(0)="IE"
"RTN","ONCMPC2",25,0)
 D EN^DIQ1
"RTN","ONCMPC2",26,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC2",27,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD=""
"RTN","ONCMPC2",28,0)
 I TOP'="" S TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCMPC2",29,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC2",30,0)
 W !," TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCMPC2",31,0)
 W !," ----------------------------"
"RTN","ONCMPC2",32,0)
COC W !," 14. CLASS OF CASE................: ",ONC(165.5,ONCONUM,.04,"E")
"RTN","ONCMPC2",33,0)
DOID S DOID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCMPC2",34,0)
 W !," 15. DATE OF INITIAL DIAGNOSIS....: ",DOID
"RTN","ONCMPC2",35,0)
PS W !," 16. PRIMARY SITE (ICD-O-2).......: ",TOPCOD
"RTN","ONCMPC2",36,0)
LODP I TOPCOD'="C44.9" D  G L
"RTN","ONCMPC2",37,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,9)=8
"RTN","ONCMPC2",38,0)
 .W !," 17. LOC OF DISEASE PRESENTATION..: NA, primary site known"
"RTN","ONCMPC2",39,0)
 S DR="1108 17. LOC OF DISEASE PRESENTATION.." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC2",40,0)
L W !," 18. LATERALITY...................: ",ONC(165.5,ONCONUM,28,"E")
"RTN","ONCMPC2",41,0)
HIST W !," 19. HISTOLOGY (ICD-O-2)..........: ",$E(ONC(165.5,ONCONUM,22,"I"),1,4)," ",ONC(165.5,ONCONUM,22,"E")
"RTN","ONCMPC2",42,0)
BC W !," 20. BEHAVIOR CODE (ICD-O-2)......: ",$E(ONC(165.5,ONCONUM,22,"I"),5)
"RTN","ONCMPC2",43,0)
GRADE S DR="24 21. GRADE........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC2",44,0)
DC S DR="26 22. DIAGNOSTIC CONFIRMATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC2",45,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC2",46,0)
 G EXIT
"RTN","ONCMPC2",47,0)
JUMP ;Jump to prompts
"RTN","ONCMPC2",48,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC2",49,0)
 I X["?" D  G JUMP
"RTN","ONCMPC2",50,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC2",51,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC2",52,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC2",53,0)
 S X=TABLE(X)
"RTN","ONCMPC2",54,0)
 G @X
"RTN","ONCMPC2",55,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCMPC2",56,0)
 K DOID,NCDS,CDS,PP,LP,GS,PIECE
"RTN","ONCMPC2",57,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCMPC2",58,0)
 Q
"RTN","ONCMPC3")
0^126^B27786106
"RTN","ONCMPC3",1,0)
ONCMPC3 ;HIRMFO/GWB - 1999 Melanoma Study - Table III; 1/20/99
"RTN","ONCMPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCMPC3",4,0)
 S TABLE("23. SIZE OF TUMOR (MELANOMA)")="SOT"
"RTN","ONCMPC3",5,0)
 S TABLE("24. REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCMPC3",6,0)
 S TABLE("25. REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCMPC3",7,0)
 S TABLE("26. EXTRANODAL EXTENSION")="EE"
"RTN","ONCMPC3",8,0)
 S TABLE("27. MICROSATELLITOSIS")="M"
"RTN","ONCMPC3",9,0)
 S TABLE("28. NUMBER OF SATELLITE NODULES")="NOSN"
"RTN","ONCMPC3",10,0)
 S TABLE("29. LOCATION OF IN-TRANSIT NODULES")="LOIN"
"RTN","ONCMPC3",11,0)
 S TABLE("30. BRESLOW'S THICKNESS")="BT"
"RTN","ONCMPC3",12,0)
 S TABLE("31. CLARK'S LEVEL OF INVASION")="CLOI"
"RTN","ONCMPC3",13,0)
 S TABLE("32. ANGIOLYMPHATIC INVASION")="AI"
"RTN","ONCMPC3",14,0)
 S TABLE("33. PERINEURAL INVASION")="PI"
"RTN","ONCMPC3",15,0)
 S TABLE("34. GENERAL SUMMARY STAGE")="GSS"
"RTN","ONCMPC3",16,0)
 S TABLE("35. AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCMPC3",17,0)
 S TABLE("36. ULCERATION")="U"
"RTN","ONCMPC3",18,0)
 S TABLE("37. CLINICALLY AMELANOTIC")="CA"
"RTN","ONCMPC3",19,0)
 S TABLE("38. AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCMPC3",20,0)
 S TABLE("39. STAGED BY")="SB"
"RTN","ONCMPC3",21,0)
 S HTABLE(1)="23. SIZE OF TUMOR (MELANOMA)"
"RTN","ONCMPC3",22,0)
 S HTABLE(2)="24. REGIONAL NODES EXAMINED"
"RTN","ONCMPC3",23,0)
 S HTABLE(3)="25. REGIONAL NODES POSITIVE"
"RTN","ONCMPC3",24,0)
 S HTABLE(4)="26. EXTRANODAL EXTENSION"
"RTN","ONCMPC3",25,0)
 S HTABLE(5)="27. MICROSATELLITOSIS"
"RTN","ONCMPC3",26,0)
 S HTABLE(6)="28. NUMBER OF SATELLITE NODULES"
"RTN","ONCMPC3",27,0)
 S HTABLE(7)="29. LOCATION OF IN-TRANSIT NODULES"
"RTN","ONCMPC3",28,0)
 S HTABLE(8)="30. BRESLOW'S THICKNESS"
"RTN","ONCMPC3",29,0)
 S HTABLE(9)="31. CLARK'S LEVEL OF INVASION"
"RTN","ONCMPC3",30,0)
 S HTABLE(10)="32. ANGIOLYMPHATIC INVASION"
"RTN","ONCMPC3",31,0)
 S HTABLE(11)="33. PERINEURAL INVASION"
"RTN","ONCMPC3",32,0)
 S HTABLE(12)="34. GENERAL SUMMARY STAGE"
"RTN","ONCMPC3",33,0)
 S HTABLE(13)="35. AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCMPC3",34,0)
 S HTABLE(14)="36. ULCERATION"
"RTN","ONCMPC3",35,0)
 S HTABLE(15)="37. CLINICALLY AMELANOTIC"
"RTN","ONCMPC3",36,0)
 S HTABLE(16)="38. AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCMPC3",37,0)
 S HTABLE(17)="39. STAGED BY"
"RTN","ONCMPC3",38,0)
 S CHOICES=17
"RTN","ONCMPC3",39,0)
 K DIQ S DIC="^ONCO(165.5,",DR="38;88",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCMPC3",40,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC3",41,0)
 W !," TABLE III- EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCMPC3",42,0)
 W !," -------------------------------------------"
"RTN","ONCMPC3",43,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC3",44,0)
SOT S DR="1132 23. SIZE OF TUMOR (MELANOMA)....." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",45,0)
RNE S DR="33 24. REGIONAL NODES EXAMINED......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",46,0)
RNP S DR="32 25. REGIONAL NODES POSITIVE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",47,0)
EE S DR="1110 26. EXTRANODAL EXTENSION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",48,0)
SNOSOST W !!," SATELLITE NODULES OF SKIN OR SUBCUTANEOUS TISSUE",!
"RTN","ONCMPC3",49,0)
M S DR="1111 27. MICROSATELLITOSIS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",50,0)
 I X=0 D  G LOIN
"RTN","ONCMPC3",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,13)="00"
"RTN","ONCMPC3",52,0)
 .W !," 28. NUMBER OF SATELLITE NODES....: No satellite nodules"
"RTN","ONCMPC3",53,0)
 I X=8 D  G LOIN
"RTN","ONCMPC3",54,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,13)=98
"RTN","ONCMPC3",55,0)
 .W !," 28. NUMBER OF SATELLITE NODES....: NA, non-cutaneous melanoma"
"RTN","ONCMPC3",56,0)
 I X=9 D  G LOIN
"RTN","ONCMPC3",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,13)=99
"RTN","ONCMPC3",58,0)
 .W !," 28. NUMBER OF SATELLITE NODES....: Unknown"
"RTN","ONCMPC3",59,0)
NOSN S DR="1112 28. NUMBER OF SATELLITE NODULES.." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",60,0)
LOIN S DR="1113 29. LOC OF IN-TRANSIT NODULES...." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",61,0)
BT S BTST=$P($G(^ONCO(165.5,ONCONUM,2)),U,9),BTST=$J(BTST,0,0)
"RTN","ONCMPC3",62,0)
 S DR="1114 30. BRESLOW'S THICKNESS..........//"_BTST D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",63,0)
CLOI I TOPCOD="C44.9" D  G AI
"RTN","ONCMPC3",64,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,16)=8
"RTN","ONCMPC3",65,0)
 .W !," 31. CLARK'S LEVEL OF INVASION....: NA, primary site unknown"
"RTN","ONCMPC3",66,0)
 S DR="1115 31. CLARK'S LEVEL OF INVASION...." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",67,0)
AI I (TOPCOD="C44.9")!($E(TOPCOD,1,3)="C69") D  G PI
"RTN","ONCMPC3",68,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,17)=8
"RTN","ONCMPC3",69,0)
 .W !," 32. ANGIOLYMPHATIC INVASION......: NA, site unknown or ocular"
"RTN","ONCMPC3",70,0)
 S DR="1116 32. ANGIOLYMPHATIC INVASION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",71,0)
PI I (TOPCOD="C44.9")!($E(TOPCOD,1,3)="C69") D  G GSS
"RTN","ONCMPC3",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,18)=8
"RTN","ONCMPC3",73,0)
 .W !," 33. PERINEURAL INVASION..........: NA, site unknown or ocular"
"RTN","ONCMPC3",74,0)
 S DR="1117 33. PERINEURAL INVASION.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",75,0)
GSS S DR="35 34. GENERAL SUMMARY STAGE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",76,0)
ACS W !!," 35. AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCMPC3",77,0)
CTCODE S DR="37.1     T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",78,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCMPC3",79,0)
CNCODE S DR="37.2     N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",80,0)
CMCODE S DR="37.3     M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",81,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCMPC3",82,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCMPC3",83,0)
U I (TOPCOD="C44.9")!($E(TOPCOD,1,3)="C69") D  G CA
"RTN","ONCMPC3",84,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,19)=8
"RTN","ONCMPC3",85,0)
 .W !," 36. ULCERATION,,,,,,,,,..........: NA, site unknown or ocular"
"RTN","ONCMPC3",86,0)
 S DR="1118 36. ULCERATION..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",87,0)
CA I (TOPCOD="C44.9")!($E(TOPCOD,1,3)="C69") D  G APS
"RTN","ONCMPC3",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,20)=8
"RTN","ONCMPC3",89,0)
 .W !," 37. CLINICALLY AMELANOTIC........: NA, site unknown or ocular"
"RTN","ONCMPC3",90,0)
 S DR="1119 37. CLINICALLY AMELANOTIC........" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",91,0)
APS W !!," 38. AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCMPC3",92,0)
PTCODE S DR="85     T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",93,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCMPC3",94,0)
PNCODE S DR="86     N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",95,0)
PMCODE S DR="87     M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",96,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCMPC3",97,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCMPC3",98,0)
SB W !," 39. STAGED BY:",!
"RTN","ONCMPC3",99,0)
CSB S DR="19     CLINICAL STAGE..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",100,0)
PSB S DR="89     PATHOLOGIC STAGE............." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC3",101,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC3",102,0)
 G EXIT
"RTN","ONCMPC3",103,0)
JUMP ;Jump to prompts
"RTN","ONCMPC3",104,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC3",105,0)
 I X["?" D  G JUMP
"RTN","ONCMPC3",106,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC3",107,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC3",108,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC3",109,0)
 S X=TABLE(X)
"RTN","ONCMPC3",110,0)
 G @X
"RTN","ONCMPC3",111,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCMPC3",112,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y,BTST
"RTN","ONCMPC3",113,0)
 Q
"RTN","ONCMPC4")
0^127^B25043669
"RTN","ONCMPC4",1,0)
ONCMPC4 ;HINES CIOFO/GWB - 1999 Melanoma Study - Table IV ; 1/22/99
"RTN","ONCMPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC4",3,0)
 K TABLE,HTABLE
"RTN","ONCMPC4",4,0)
 S TABLE("SURGERY")="S^ONCMPC4"
"RTN","ONCMPC4",5,0)
 S TABLE("NON CANCER-DIRECTED SURGERY")="NCS^ONCMPC4"
"RTN","ONCMPC4",6,0)
 S TABLE("CANCER-DIRECTED SURGERY")="CS^ONCMPC4"
"RTN","ONCMPC4",7,0)
 S TABLE("SENTINEL NODES")="SN^ONCMPC4A"
"RTN","ONCMPC4",8,0)
 S TABLE("RADIATION THERAPY")="RT^ONCMPC4A"
"RTN","ONCMPC4",9,0)
 S TABLE("CHEMOTHERAPY")="C^ONCMPC4A"
"RTN","ONCMPC4",10,0)
 S TABLE("HORMONE THERAPY")="HT^ONCMPC4A"
"RTN","ONCMPC4",11,0)
 S TABLE("IMMUNOTHERAPY")="I^ONCMPC4"
"RTN","ONCMPC4",12,0)
 S TABLE("OTHER THERAPY")="OT^ONCMPC4"
"RTN","ONCMPC4",13,0)
 S HTABLE(1)="SURGERY"
"RTN","ONCMPC4",14,0)
 S HTABLE(2)="NON CANCER-DIRECTED SURGERY"
"RTN","ONCMPC4",15,0)
 S HTABLE(3)="CANCER-DIRECTED SURGERY"
"RTN","ONCMPC4",16,0)
 S HTABLE(4)="SENTINEL NODES"
"RTN","ONCMPC4",17,0)
 S HTABLE(5)="RADIATION THERAPY"
"RTN","ONCMPC4",18,0)
 S HTABLE(6)="CHEMOTHERAPY"
"RTN","ONCMPC4",19,0)
 S HTABLE(7)="HORMONE THERAPY"
"RTN","ONCMPC4",20,0)
 S HTABLE(8)="IMMUNOTHERAPY"
"RTN","ONCMPC4",21,0)
 S HTABLE(9)="OTHER THERAPY"
"RTN","ONCMPC4",22,0)
 S CHOICES=9
"RTN","ONCMPC4",23,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4",24,0)
 W !," TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCMPC4",25,0)
 W !," ------------------------------------"
"RTN","ONCMPC4",26,0)
 K DIQ,ONC S DIC="^ONCO(165.5,"
"RTN","ONCMPC4",27,0)
 S DR="23;49;50;51;51.2;53;53.2;54;54.2;55;55.2;57;57.2;58;58.1;58.2;58.3;58;59;74;75;138;139;140;346;560"
"RTN","ONCMPC4",28,0)
 S DA=ONCONUM,DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCMPC4",29,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC4",30,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCMPC4",31,0)
 S RAD=$P($G(^ONCO(165.5,ONCONUM,3)),U,6)
"RTN","ONCMPC4",32,0)
 S HOR=$P($G(^ONCO(165.5,ONCONUM,3)),U,16)
"RTN","ONCMPC4",33,0)
PES S DR="346 40. PROTOCOL ELIGIBILITY STATUS..." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4",34,0)
 I (X'=1)&(X'=9) D  G DFCT
"RTN","ONCMPC4",35,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,31)="00"
"RTN","ONCMPC4",36,0)
 .W !," 41. PROTOCOL PARTICIPATION........: Not on/NA"
"RTN","ONCMPC4",37,0)
 I X=9 D  G DFCT
"RTN","ONCMPC4",38,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,31)=99
"RTN","ONCMPC4",39,0)
 .W !," 41. PROTOCOL PARTICIPATION........: Unknown"
"RTN","ONCMPC4",40,0)
PP S DR="560 41. PROTOCOL PARTICIPATION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4",41,0)
DFCT W !," 42. DATE OF FIRST COURSE TREATMENT: ",ONC(165.5,ONCONUM,49,"E")
"RTN","ONCMPC4",42,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4",43,0)
S W !," SURGERY",!
"RTN","ONCMPC4",44,0)
 W " -------"
"RTN","ONCMPC4",45,0)
NCS W !," NON CANCER-DIRECTED SURGERY",!
"RTN","ONCMPC4",46,0)
DNCDS W !," 43. DATE OF NON CA-DIR SURGERY....: ",ONC(165.5,ONCONUM,58.3,"E")
"RTN","ONCMPC4",47,0)
NCDS S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCMPC4",48,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<42 S NCDS1=NCDS G NCDS1
"RTN","ONCMPC4",49,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCMPC4",50,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCMPC4",51,0)
NCDS1 W !," 44. NON CANCER-DIRECTED SURGERY...: ",NCDS1 W:NCDS2'="" !,?37,NCDS2
"RTN","ONCMPC4",52,0)
TOB S DR="1109 45. TYPE OF BIOPSY................" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4",53,0)
CS W !!," CANCER-DIRECTED SURGERY",!
"RTN","ONCMPC4",54,0)
DCDS W !," 46. DATE OF CANCER-DIR SURGERY....: ",ONC(165.5,ONCONUM,50,"E")
"RTN","ONCMPC4",55,0)
SA S SA=ONC(165.5,ONCONUM,74,"E")
"RTN","ONCMPC4",56,0)
 S (SA1,SA2)="",LOS=$L(SA) I LOS<42 S SA1=SA G SA1
"RTN","ONCMPC4",57,0)
 S NOP=$L($E(SA,1,41)," "),SA1=$P(SA," ",1,NOP-1),SA2=$P(SA," ",NOP,999)
"RTN","ONCMPC4",58,0)
SA1 W !," 47. SURGICAL APPROACH.............: ",SA1 W:SA2'="" !,?37,SA2
"RTN","ONCMPC4",59,0)
SOPS S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<42 S CDS1=CDS G SOPS1
"RTN","ONCMPC4",60,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCMPC4",61,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCMPC4",62,0)
SOPS1 W !," 48. SURGERY OF PRIMARY SITE.......: ",CDS1 W:CDS2'="" !,?37,CDS2
"RTN","ONCMPC4",63,0)
SM S SM=ONC(165.5,ONCONUM,59,"E")
"RTN","ONCMPC4",64,0)
 S (SM1,SM2)="",LOS=$L(SM) I LOS<42 S SM1=SM G SM1
"RTN","ONCMPC4",65,0)
 S NOP=$L($E(SM,1,41)," "),SM1=$P(SM," ",1,NOP-1),SM2=$P(SM," ",NOP,999)
"RTN","ONCMPC4",66,0)
SM1 W !," 49. SURGICAL MARGINS..............: ",SM1 W:SM2'="" !,?37,SM2
"RTN","ONCMPC4",67,0)
 I $E(CDS,1,2)="00" D  G SLNS
"RTN","ONCMPC4",68,0)
 .S $P(^ONCO(165.5,D0,"MEL1"),U,21)=998
"RTN","ONCMPC4",69,0)
 .W !," 50. DISTANCE FROM TUMOR TO EDGE OF                                                  SPECIMEN......................: 998  NA, surgery not performed"
"RTN","ONCMPC4",70,0)
MD S DR="1120 50. DISTANCE FROM TUMOR TO EDGE OF                                                  SPECIMEN......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4",71,0)
SLNS W !," 51. SCOPE OF LYMPH NODE SURGERY...: ",ONC(165.5,ONCONUM,138,"E")
"RTN","ONCMPC4",72,0)
 W !
"RTN","ONCMPC4",73,0)
NLNR W !," 52. NUMBER OF LYMPH NODES REMOVED.: ",ONC(165.5,ONCONUM,140,"E")
"RTN","ONCMPC4",74,0)
SORS S SORS=ONC(165.5,ONCONUM,139,"E")
"RTN","ONCMPC4",75,0)
 S (SORS1,SORS2)="",LOS=$L(SORS) I LOS<42 S SORS1=SORS G SORS1
"RTN","ONCMPC4",76,0)
 S NOP=$L($E(SORS,1,41)," ")
"RTN","ONCMPC4",77,0)
 S SORS1=$P(SORS," ",1,NOP-1),SORS2=$P(SORS," ",NOP,999)
"RTN","ONCMPC4",78,0)
SORS1 W !!," 53. SURGERY OF OTHER REGIONAL SITE(S), DISTANT SITE(S),"
"RTN","ONCMPC4",79,0)
 W !,"     OR DISTANT LYMPH NODE(S)......: ",SORS1 W:SORS2'="" !,?37,SORS2
"RTN","ONCMPC4",80,0)
RR W !," 54. RECONSTRUCTION/RESTORATION....: ",ONC(165.5,ONCONUM,23,"E")
"RTN","ONCMPC4",81,0)
 I $E(CDS,1,2)="00" D  G RFNS
"RTN","ONCMPC4",82,0)
 .S $P(^ONCO(165.5,D0,"MEL1"),U,22)=8
"RTN","ONCMPC4",83,0)
 .W !," 55. SURGICAL CLOSURE..............: NA, surgery not performed"
"RTN","ONCMPC4",84,0)
 I $E(CDS,1,2)=99 D  G RFNS
"RTN","ONCMPC4",85,0)
 .S $P(^ONCO(165.5,D0,"MEL1"),U,22)=9
"RTN","ONCMPC4",86,0)
 .W !," 55. SURGICAL CLOSURE..............: Unknown"
"RTN","ONCMPC4",87,0)
SC S DR="1121 55. SURGICAL CLOSURE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4",88,0)
RFNS W !," 56. REASON FOR NO SURGERY.........: ",ONC(165.5,ONCONUM,58,"E")
"RTN","ONCMPC4",89,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4",90,0)
 G SN^ONCMPC4A
"RTN","ONCMPC4",91,0)
JUMP ;Jump to prompts
"RTN","ONCMPC4",92,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC4",93,0)
 I X["?" D  G JUMP
"RTN","ONCMPC4",94,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCMPC4",95,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC4",96,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCMPC4",97,0)
 S X=TABLE(X)
"RTN","ONCMPC4",98,0)
 G @X
"RTN","ONCMPC4",99,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC4",100,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCMPC4",101,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT,SA,SA1,SA2
"RTN","ONCMPC4",102,0)
 K SM,SM1,SM2,SOORS,SOORS1,SOORS2,PL,SNE
"RTN","ONCMPC4",103,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCMPC4",104,0)
 Q
"RTN","ONCMPC4A")
0^128^B56547671
"RTN","ONCMPC4A",1,0)
ONCMPC4A ;HINES CIOFO/GWB - 1999 Melanoma Study - Table IV (continued); 1/22/99
"RTN","ONCMPC4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC4A",3,0)
SN W !," SENTINEL NODES",!
"RTN","ONCMPC4A",4,0)
 W " --------------"
"RTN","ONCMPC4A",5,0)
PL I $E(TOPCOD,1,3)="C69" D  G SNDB
"RTN","ONCMPC4A",6,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,23)=8
"RTN","ONCMPC4A",7,0)
 .W !," 57. PRE-OP LYMPHOSCINTIGRAPHY.....: NA, ocular site"
"RTN","ONCMPC4A",8,0)
 S DR="1122 57. PRE-OP LYMPHOSCINTIGRAPHY....." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",9,0)
SNDB S PL=$P($G(^ONCO(165.5,ONCONUM,"MEL1")),U,23)
"RTN","ONCMPC4A",10,0)
 I (PL=0)!(PL=8) D  G SNP
"RTN","ONCMPC4A",11,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,24)=8
"RTN","ONCMPC4A",12,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,44)=8
"RTN","ONCMPC4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,25)=8
"RTN","ONCMPC4A",14,0)
 .W !," 58. SENTINEL NODES DETECTED BY....: NA, not done, ocular site"
"RTN","ONCMPC4A",15,0)
 .W !," 59. SENTINEL NODE BIOPSY..........: NA, not done, ocular site"
"RTN","ONCMPC4A",16,0)
 .W !," 60. SENTINEL NODES EXAMINED.......: NA, not done, ocular site"
"RTN","ONCMPC4A",17,0)
 I PL=9 D  G SNP
"RTN","ONCMPC4A",18,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,24)=9
"RTN","ONCMPC4A",19,0)
 .S $P(^ONCO(165.5,ONCONUM,"BRE1"),U,44)=9
"RTN","ONCMPC4A",20,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,25)=9
"RTN","ONCMPC4A",21,0)
 .W !," 58. SENTINEL NODES DETECTED BY....: Unknown"
"RTN","ONCMPC4A",22,0)
 .W !," 59. SENTINEL NODE BIOPSY..........: Unknown"
"RTN","ONCMPC4A",23,0)
 .W !," 60. SENTINEL NODES EXAMINED.......: Unknown"
"RTN","ONCMPC4A",24,0)
 S DR="1123 58. SENTINEL NODES DETECTED BY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",25,0)
SNB S DR="943 59. SENTINEL NODE BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",26,0)
SNE S DR="1124 60. SENTINEL NODES EXAMINED......." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",27,0)
SNP S SNE=$P($G(^ONCO(165.5,ONCONUM,"MEL1")),U,25)
"RTN","ONCMPC4A",28,0)
 I (SNE=0)!(SNE=8) D  G ISNP
"RTN","ONCMPC4A",29,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,26)=8
"RTN","ONCMPC4A",30,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,27)=8
"RTN","ONCMPC4A",31,0)
 .W !," 61. SENTINEL NODES POSITIVE.......: NA, not done, no exam, ocular site"
"RTN","ONCMPC4A",32,0)
 .W !," 62. HOW WAS SENTINEL NODE                                                           PATHOLOGICALLY EXAMINED.......: NA, not done, ocular site"
"RTN","ONCMPC4A",33,0)
 I SNE=9 D  G ISNP
"RTN","ONCMPC4A",34,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,26)=9
"RTN","ONCMPC4A",35,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,27)=9
"RTN","ONCMPC4A",36,0)
 .W !," 61. SENTINEL NODES POSITIVE.......: Unknown"
"RTN","ONCMPC4A",37,0)
 .W !," 62. HOW WAS SENTINEL NODE                                                           PATHOLOGICALLY EXAMINED.......: NA, not done, ocular site"
"RTN","ONCMPC4A",38,0)
 S DR="1125 61. SENTINEL NODES POSITIVE......." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",39,0)
SNPE S DR="1126 62. HOW WAS SENTINEL NODE                                                           PATHOLOGICALLY EXAMINED......." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",40,0)
ISNP W !!," 63. IF SENTINEL NODE(S) POSITIVE:",!
"RTN","ONCMPC4A",41,0)
 S SNP=$P($G(^ONCO(165.5,ONCONUM,"MEL1")),U,26)
"RTN","ONCMPC4A",42,0)
 I (SNP=0)!(SNP=8) D  G RT
"RTN","ONCMPC4A",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,28)=8
"RTN","ONCMPC4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,29)=8
"RTN","ONCMPC4A",45,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,30)=8
"RTN","ONCMPC4A",46,0)
 .W !,"     WAS COMPLETE LYMPH NODE                                                         DISSECTION PERFORMED..........: NA, not done, no + nodes, ocular site"
"RTN","ONCMPC4A",47,0)
 .W !,"     NUMBER OF BASINS DETECTED.....: NA, not done, no + nodes, ocular site"
"RTN","ONCMPC4A",48,0)
 .W !,"     NUMBER OF BASINS POSITIVE.....: NA, not done, no basins dissected, ocular"
"RTN","ONCMPC4A",49,0)
 I SNP=9 D  G RT
"RTN","ONCMPC4A",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,28)=9
"RTN","ONCMPC4A",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,29)=9
"RTN","ONCMPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,30)=9
"RTN","ONCMPC4A",53,0)
 .W !,"     WAS COMPLETE LYMPH NODE                                                         DISSECTION PERFORMED..........: Unknown"
"RTN","ONCMPC4A",54,0)
 .W !,"     NUMBER OF BASINS DETECTED.....: Unknown"
"RTN","ONCMPC4A",55,0)
 .W !,"     NUMBER OF BASINS POSITIVE.....: Unknown"
"RTN","ONCMPC4A",56,0)
WCLNDP S DR="1127     WAS COMPLETE LYMPH  NODE                                                        DISSECTION PERFORMED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",57,0)
 I (X=0)!(X=8) D  G RT
"RTN","ONCMPC4A",58,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,29)=8
"RTN","ONCMPC4A",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,30)=8
"RTN","ONCMPC4A",60,0)
 .W !,"     NUMBER OF BASINS DETECTED....: NA, not done, no + nodes, ocular site"
"RTN","ONCMPC4A",61,0)
 .W !,"     NUMBER OF BASINS POSITIVE....: NA, not done, no basins dissected, ocular"
"RTN","ONCMPC4A",62,0)
 I X=9 D  G RT
"RTN","ONCMPC4A",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,29)=9
"RTN","ONCMPC4A",64,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,30)=9
"RTN","ONCMPC4A",65,0)
 .W !,"     NUMBER OF BASINS DETECTED....: Unknown"
"RTN","ONCMPC4A",66,0)
 .W !,"     NUMBER OF BASINS POSITIVE....: Unknown"
"RTN","ONCMPC4A",67,0)
NOBD S DR="1128     NUMBER OF BASINS DETECTED....." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",68,0)
 I (X=0)!(X=8) D  G RT
"RTN","ONCMPC4A",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,30)=8
"RTN","ONCMPC4A",70,0)
 .W !,"     NUMBER OF BASINS POSITIVE....: NA, not done, no basins dissected, ocular"
"RTN","ONCMPC4A",71,0)
 I X=9 D  G RT
"RTN","ONCMPC4A",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,30)=9
"RTN","ONCMPC4A",73,0)
 .W !,"     NUMBER OF BASINS POSITIVE....: Unknown"
"RTN","ONCMPC4A",74,0)
NOBP S DR="1129     NUMBER OF BASINS POSITIVE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",75,0)
RT W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4A",76,0)
 W !," RADIATION THERAPY"
"RTN","ONCMPC4A",77,0)
 W !," -----------------"
"RTN","ONCMPC4A",78,0)
DRS W !," 64. DATE RADIATION STARTED........: ",ONC(165.5,ONCONUM,51,"E")
"RTN","ONCMPC4A",79,0)
 W !," 65. RADIATION THERAPY.............: ",ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCMPC4A",80,0)
RFNR W !," 66. REASON FOR NO RADIATION.......: ",ONC(165.5,ONCONUM,75,"E")
"RTN","ONCMPC4A",81,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4A",82,0)
C W !," CHEMOTHERAPY"
"RTN","ONCMPC4A",83,0)
 W !," ------------"
"RTN","ONCMPC4A",84,0)
DCS W !," 67. DATE CHEMOTHERAPY STARTED.....: ",ONC(165.5,ONCONUM,53,"E")
"RTN","ONCMPC4A",85,0)
 W !," 68. CHEMOTHERAPY..................: ",ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCMPC4A",86,0)
IT I ONC(165.5,ONCONUM,53.2,"I")=0 D  G HT
"RTN","ONCMPC4A",87,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,31)=8
"RTN","ONCMPC4A",88,0)
 .W !," 69. INTRAVENOUS THERAPY...........: NA, chemotherapy not administered"
"RTN","ONCMPC4A",89,0)
 I (ONC(165.5,ONCONUM,53.2,"I")=8)!(ONC(165.5,ONCONUM,53.2,"I")=9) D  G HT
"RTN","ONCMPC4A",90,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,31)=9
"RTN","ONCMPC4A",91,0)
 .W !," 69. INTRAVENOUS THERAPY...........: Unknown if administered"
"RTN","ONCMPC4A",92,0)
 S DR="1130 69. INTRAVENOUS THERAPY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",93,0)
HT W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4A",94,0)
 W !," HORMONE THERAPY"
"RTN","ONCMPC4A",95,0)
 W !," ---------------"
"RTN","ONCMPC4A",96,0)
DHTS W !," 70. DATE HORMONE THERAPY STARTED..: ",ONC(165.5,ONCONUM,54,"E")
"RTN","ONCMPC4A",97,0)
 W !," 71. HORMONE THERAPY...............: ",ONC(165.5,ONCONUM,54.2,"E")
"RTN","ONCMPC4A",98,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4A",99,0)
I W !," IMMUNOTHERAPY"
"RTN","ONCMPC4A",100,0)
 W !," -------------"
"RTN","ONCMPC4A",101,0)
DIS W !," 72. DATE IMMUNOTHERAPY STARTED....: ",ONC(165.5,ONCONUM,55,"E")
"RTN","ONCMPC4A",102,0)
 W !," 73. IMMUNOTHERAPY.................: ",ONC(165.5,ONCONUM,55.2,"E")
"RTN","ONCMPC4A",103,0)
IAA W !!," 74. IMMUNOTHERAPEUTIC AGENTS ADMINISTERED:",!
"RTN","ONCMPC4A",104,0)
 S BRM=ONC(165.5,ONCONUM,55.2,"I")
"RTN","ONCMPC4A",105,0)
 I (BRM=0)!(BRM=7) D  G OT
"RTN","ONCMPC4A",106,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,39)=8
"RTN","ONCMPC4A",107,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,32)=8
"RTN","ONCMPC4A",108,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,39)=8
"RTN","ONCMPC4A",109,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,38)=8
"RTN","ONCMPC4A",110,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,40)=8
"RTN","ONCMPC4A",111,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,30)=8
"RTN","ONCMPC4A",112,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,40)=8
"RTN","ONCMPC4A",113,0)
 .W !,"     VACCINE THERAPY...............: NA"
"RTN","ONCMPC4A",114,0)
 .W !,"     GENE THERAPY..................: NA"
"RTN","ONCMPC4A",115,0)
 .W !,"     INTERLEUKIN 2.................: NA"
"RTN","ONCMPC4A",116,0)
 .W !,"     INTERFERON....................: NA"
"RTN","ONCMPC4A",117,0)
 .W !,"     LEVAMISOLE....................: NA"
"RTN","ONCMPC4A",118,0)
 .W !,"     COLONY STIMULATING FACTORS....: NA"
"RTN","ONCMPC4A",119,0)
 .W !,"     OTHER GIVEN, TYPE UNKNOWN.....: NA"
"RTN","ONCMPC4A",120,0)
 I (BRM=8)!(BRM=9) D  G OT
"RTN","ONCMPC4A",121,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,39)=9
"RTN","ONCMPC4A",122,0)
 .S $P(^ONCO(165.5,ONCONUM,"MEL1"),U,32)=9
"RTN","ONCMPC4A",123,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,39)=9
"RTN","ONCMPC4A",124,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,38)=9
"RTN","ONCMPC4A",125,0)
 .S $P(^ONCO(165.5,ONCONUM,"COL2"),U,40)=9
"RTN","ONCMPC4A",126,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,30)=9
"RTN","ONCMPC4A",127,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,40)=9
"RTN","ONCMPC4A",128,0)
 .W !,"     VACCINE THERAPY...............: Unknown"
"RTN","ONCMPC4A",129,0)
 .W !,"     GENE THERAPY..................: Unknown"
"RTN","ONCMPC4A",130,0)
 .W !,"     INTERLEUKIN 2.................: Unknown"
"RTN","ONCMPC4A",131,0)
 .W !,"     INTERFERON....................: Unknown"
"RTN","ONCMPC4A",132,0)
 .W !,"     LEVAMISOLE....................: Unknown"
"RTN","ONCMPC4A",133,0)
 .W !,"     COLONY STIMULATING FACTORS....: Unknown"
"RTN","ONCMPC4A",134,0)
 .W !,"     OTHER GIVEN, TYPE UNKNOWN.....: Unknown"
"RTN","ONCMPC4A",135,0)
 S DR="884     VACCINE THERAPY..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",136,0)
 S DR="1131     GENE THERAPY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",137,0)
 S DR="385     INTERLEUKIN 2................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",138,0)
 S DR="384     INTERFERON...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",139,0)
 S DR="791     LEVAMISOLE...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",140,0)
 S DR="559     COLONY STIMULATING FACTORS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",141,0)
 S DR="386     OTHER GIVEN, TYPE UNKNOWN....." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC4A",142,0)
OT W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC4A",143,0)
 W !," OTHER THERAPY"
"RTN","ONCMPC4A",144,0)
 W !," -------------"
"RTN","ONCMPC4A",145,0)
DOTS W !," 75. DATE OTHER TREATMENT STARTED..: ",ONC(165.5,ONCONUM,57,"E")
"RTN","ONCMPC4A",146,0)
 W !," 76. OTHER TREATMENT...............: ",ONC(165.5,ONCONUM,57.2,"E")
"RTN","ONCMPC4A",147,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC4A",148,0)
 G EXIT
"RTN","ONCMPC4A",149,0)
JUMP ;Jump to prompts
"RTN","ONCMPC4A",150,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC4A",151,0)
 I X["?" D  G JUMP
"RTN","ONCMPC4A",152,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCMPC4A",153,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC4A",154,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCMPC4A",155,0)
 S X=TABLE(X)
"RTN","ONCMPC4A",156,0)
 G @X
"RTN","ONCMPC4A",157,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC4A",158,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCMPC4A",159,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT,SA,SA1,SA2
"RTN","ONCMPC4A",160,0)
 K SM,SM1,SM2,SOORS,SOORS1,SOORS2,PL,SNE
"RTN","ONCMPC4A",161,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCMPC4A",162,0)
 Q
"RTN","ONCMPC5")
0^129^B3224779
"RTN","ONCMPC5",1,0)
ONCMPC5 ;HINES CIOFO/GWB - 199 Melanoma Study - Table VI ; 01/27/99
"RTN","ONCMPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC5",3,0)
 K TABLE,HTABLE
"RTN","ONCMPC5",4,0)
 S TABLE("77. DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCMPC5",5,0)
 S TABLE("78. TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCMPC5",6,0)
 S TABLE("79. OTHER TYPE OF FIRST RECURRENCE")="OTOFR"
"RTN","ONCMPC5",7,0)
 S HTABLE(1)="77. TYPE OF FIRST RECURRENCE"
"RTN","ONCMPC5",8,0)
 S HTABLE(2)="78. DATE OF FIRST RECURRENCE"
"RTN","ONCMPC5",9,0)
 S HTABLE(3)="79. OTHER TYPE OF FIRST RECURRENCE"
"RTN","ONCMPC5",10,0)
 S CHOICES=3
"RTN","ONCMPC5",11,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC5",12,0)
 W !," TABLE V - FIRST RECURRENCE"
"RTN","ONCMPC5",13,0)
 W !," --------------------------"
"RTN","ONCMPC5",14,0)
 S DIC="^ONCO(165.5,",DR="70",DA=ONCONUM,DIQ="ONCO" D EN^DIQ1
"RTN","ONCMPC5",15,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC5",16,0)
DOFR S DR="70 77. DATE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC5",17,0)
TOFR S DR="71 78. TYPE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC5",18,0)
OTOFR S DR="71.4 79. OTHER TYPE OF 1ST RECURRENCE.." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC5",19,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC5",20,0)
 G EXIT
"RTN","ONCMPC5",21,0)
JUMP ;Jump to prompts
"RTN","ONCMPC5",22,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC5",23,0)
 I X["?" D  G JUMP
"RTN","ONCMPC5",24,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC5",25,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC5",26,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC5",27,0)
 S X=TABLE(X)
"RTN","ONCMPC5",28,0)
 G @X
"RTN","ONCMPC5",29,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCMPC5",30,0)
 K PIECE
"RTN","ONCMPC5",31,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCMPC5",32,0)
 Q
"RTN","ONCMPC6")
0^130^B4105582
"RTN","ONCMPC6",1,0)
ONCMPC6 ;HINES CIOFO/GWB - 1999 Melanoma Study - Table VI ;1/27/99
"RTN","ONCMPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC6",3,0)
 K TABLE,HTABLE
"RTN","ONCMPC6",4,0)
 S TABLE("80. DATE OF LAST CONTACT OR DEATH")="DOLCOD"
"RTN","ONCMPC6",5,0)
 S TABLE("81. VITAL STATUS")="VS"
"RTN","ONCMPC6",6,0)
 S TABLE("82. CANCER STATUS")="CS"
"RTN","ONCMPC6",7,0)
 S HTABLE(1)="80. DATE OF LAST CONTACT OR DEATH"
"RTN","ONCMPC6",8,0)
 S HTABLE(2)="81. VITAL STATUS"
"RTN","ONCMPC6",9,0)
 S HTABLE(3)="82. CANCER STATUS"
"RTN","ONCMPC6",10,0)
 S CHOICES=3
"RTN","ONCMPC6",11,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC6",12,0)
 W !," TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCMPC6",13,0)
 W !," ---------------------------------"
"RTN","ONCMPC6",14,0)
DOLCOD S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCMPC6",15,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCMPC6",16,0)
 W !," 80. DATE OF LAST CONTACT OR DEATH.: ",DLC
"RTN","ONCMPC6",17,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCMPC6",18,0)
 S DR="15 81. VITAL STATUS.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC6",19,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCMPC6",20,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCMPC6",21,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCMPC6",22,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCMPC6",23,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCMPC6",24,0)
 .S:CSPNT'="" CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCMPC6",25,0)
 W !," 82. CANCER STATUS.................: ",CS
"RTN","ONCMPC6",26,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC6",27,0)
 G EXIT
"RTN","ONCMPC6",28,0)
JUMP ;Jump to prompts
"RTN","ONCMPC6",29,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC6",30,0)
 I X["?" D  G JUMP
"RTN","ONCMPC6",31,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC6",32,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC6",33,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC6",34,0)
 S X=TABLE(X)
"RTN","ONCMPC6",35,0)
 G @X
"RTN","ONCMPC6",36,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCMPC6",37,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCMPC6",38,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCMPC6",39,0)
 Q
"RTN","ONCMPC7")
0^131^B2403676
"RTN","ONCMPC7",1,0)
ONCMPC7 ;HINES CIOFO/GWB - 1999 Melanoma Study - Table VII ;1/27/99
"RTN","ONCMPC7",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC7",3,0)
 K TABLE,HTABLE
"RTN","ONCMPC7",4,0)
 S TABLE("83. COMPLETED BY")="CB"
"RTN","ONCMPC7",5,0)
 S TABLE("84. REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCMPC7",6,0)
 S HTABLE(1)="83. COMPLETED BY"
"RTN","ONCMPC7",7,0)
 S HTABLE(2)="84. REVIEWED BY CANCER COMMITTEE"
"RTN","ONCMPC7",8,0)
 S CHOICES=2
"RTN","ONCMPC7",9,0)
 W @IOF D HEAD^ONCMPC0
"RTN","ONCMPC7",10,0)
 W !," TABLE VII - OTHER INFORMATION"
"RTN","ONCMPC7",11,0)
 W !," -----------------------------"
"RTN","ONCMPC7",12,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC7",13,0)
 S DR="81 83. COMPLETED BY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC7",14,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCMPC7",15,0)
 S DR="82 84. REVIEWED BY CANCER COMMITTEE.." D ^DIE G:$D(Y) JUMP
"RTN","ONCMPC7",16,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCMPC7",17,0)
 G EXIT
"RTN","ONCMPC7",18,0)
JUMP ;Jump to prompts
"RTN","ONCMPC7",19,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCMPC7",20,0)
 I X["?" D  G JUMP
"RTN","ONCMPC7",21,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC7",22,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCMPC7",23,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCMPC7",24,0)
 S X=TABLE(X)
"RTN","ONCMPC7",25,0)
 G @X
"RTN","ONCMPC7",26,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCMPC7",27,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCMPC7",28,0)
 Q
"RTN","ONCMPC9")
0^132^B18150335
"RTN","ONCMPC9",1,0)
ONCMPC9 ;Hines OIFO/GWB - 1999 Melanoma Study ;2/17/99
"RTN","ONCMPC9",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC9",3,0)
 ;Print
"RTN","ONCMPC9",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCMPC9",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCMPC9",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCMPC9",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCMPC9",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCMPC9",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;10;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCMPC9",10,0)
 S DR=".04;.05;.06;.12;1;3;9;18;19;20;23;24;26;28;29;32;33;35;37.1;37.2;37.3;38;50;51;51.2;53;53.2;54;54.2;55;55.2;57;57.2;58;58.1;58.2;58.3;59;70;71;71.4;74;75;81;82;85:89;138;139;140;346;384:386;559;560;791;884;943;1100:1132"
"RTN","ONCMPC9",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCMPC9",12,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCMPC9",13,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCMPC9",14,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCMPC9",15,0)
 D HEAD^ONCMPC0
"RTN","ONCMPC9",16,0)
 W !," 1. INSTITUTION ID NUMBER...........: ",$$IIN^ONCFUNC D P Q:EX=U
"RTN","ONCMPC9",17,0)
 W !!?4,TABLE,!?4,"-----------------------------"
"RTN","ONCMPC9",18,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCMPC9",19,0)
 W !," 2. ACCESSION NUMBER................: ",ONC(165.5,IE,.05) D P Q:EX=U
"RTN","ONCMPC9",20,0)
 W !," 3. SEQUENCE NUMBER.................: ",ONC(165.5,IE,.06) D P Q:EX=U
"RTN","ONCMPC9",21,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS........: ",ONC(165.5,IE,9) D P Q:EX=U
"RTN","ONCMPC9",22,0)
 W !," 5. DATE OF BIRTH...................: ",DOB D P Q:EX=U
"RTN","ONCMPC9",23,0)
 W !," 6. RACE............................: ",ONC(165.5,IE,.12) D P Q:EX=U
"RTN","ONCMPC9",24,0)
 W !," 7. SPANISH ORIGIN..................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCMPC9",25,0)
 W !," 8. SEX.............................: ",ONC(160,ONCOPA,10) D P Q:EX=U
"RTN","ONCMPC9",26,0)
 W !," 9. PRIMARY PAYER AT DIAGNOSIS......: ",ONC(165.5,IE,18) D P Q:EX=U
"RTN","ONCMPC9",27,0)
 K LINE S $P(LINE,"-",41)="-"
"RTN","ONCMPC9",28,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 W !?4,TABLE_" (continued)",!?4,LINE G PHOM
"RTN","ONCMPC9",29,0)
PHOM W !,"10. PERSONAL HISTORY OF MELANOMA....: ",ONC(165.5,IE,1100) D P Q:EX=U
"RTN","ONCMPC9",30,0)
 W !!,"11. PERSONAL HISTORY OF OTHER CA....: ",ONC(165.5,IE,1101) D P Q:EX=U
"RTN","ONCMPC9",31,0)
 W !,"     1ST SITE CODE..................: ",ONC(165.5,IE,1102) D P Q:EX=U
"RTN","ONCMPC9",32,0)
 W !,"     DATE DIAGNOSED.................: ",ONC(165.5,IE,1103) D P Q:EX=U
"RTN","ONCMPC9",33,0)
 W !,"     2ND SITE CODE..................: ",ONC(165.5,IE,1104) D P Q:EX=U
"RTN","ONCMPC9",34,0)
 W !,"     DATE DIAGNOSED.................: ",ONC(165.5,IE,1105) D P Q:EX=U
"RTN","ONCMPC9",35,0)
 W !!,"    PREGNANCY AND HORMONES",!
"RTN","ONCMPC9",36,0)
 W !,"12. PREGNANCY AT INITIAL DX.........: ",ONC(165.5,IE,1106) D P Q:EX=U
"RTN","ONCMPC9",37,0)
 W !,"13. EXOGENOUS HORMONES..............: ",ONC(165.5,IE,1107) D P Q:EX=U
"RTN","ONCMPC9",38,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 G II
"RTN","ONCMPC9",39,0)
 D P Q:EX=U
"RTN","ONCMPC9",40,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCMPC9",41,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCMPC0
"RTN","ONCMPC9",42,0)
 W !?4,TABLE,!?4,"----------------------------" D P Q:EX=U
"RTN","ONCMPC9",43,0)
 W !,"14. CLASS OF CASE...................: ",ONC(165.5,IE,.04) D P Q:EX=U
"RTN","ONCMPC9",44,0)
 W !,"15. DATE OF INITIAL DIAGNOSIS.......: ",ONC(165.5,IE,3) D P Q:EX=U
"RTN","ONCMPC9",45,0)
 W !,"16. PRIMARY SITE (ICD-O-2)..........: ",TOPCOD," ",ONC(165.5,IE,20) D P Q:EX=U
"RTN","ONCMPC9",46,0)
 W !,"17. LOC OF DISEASE PRESENTATION.....: ",ONC(165.5,IE,1108) D P Q:EX=U
"RTN","ONCMPC9",47,0)
 W !,"18. LATERALITY......................: ",ONC(165.5,IE,28) D P Q:EX=U
"RTN","ONCMPC9",48,0)
 W !,"19. HISTOLOGY (ICD-O-2).............: ",$E(HIST,1,4) D P Q:EX=U
"RTN","ONCMPC9",49,0)
 W !,"20. BEHAVIOR CODE (ICD-O-2).........: ",$E(HIST,5) D P Q:EX=U
"RTN","ONCMPC9",50,0)
 W !,"21. GRADE...........................: ",ONC(165.5,IE,24) D P Q:EX=U
"RTN","ONCMPC9",51,0)
 W !,"22. DIAGNOSTIC CONFIRMATION.........: ",ONC(165.5,IE,26)
"RTN","ONCMPC9",52,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 G III
"RTN","ONCMPC9",53,0)
 D P Q:EX=U
"RTN","ONCMPC9",54,0)
III D ^ONCMPC9A
"RTN","ONCMPC9",55,0)
KILL ;Kill Variables and Exit
"RTN","ONCMPC9",56,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS,HIST
"RTN","ONCMPC9",57,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCMPC9",58,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y,OSP,IIN
"RTN","ONCMPC9",59,0)
 Q
"RTN","ONCMPC9",60,0)
P ;Print
"RTN","ONCMPC9",61,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCMPC9",62,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCMPC9",63,0)
 .D HEAD^ONCMPC0 Q
"RTN","ONCMPC9",64,0)
 Q
"RTN","ONCMPC9",65,0)
TASK ;Queue a task
"RTN","ONCMPC9",66,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCMPC9",67,0)
 S ZTRTN="PRT^ONCMPC9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCMPC9",68,0)
 S ZTDESC="Print Melanoma PCE"
"RTN","ONCMPC9",69,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCMPC9",70,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCMPC9",71,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCMPC9",72,0)
HDR ;Header
"RTN","ONCMPC9",73,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCMPC9",74,0)
 W !," ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCMPC9",75,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCMPC9",76,0)
 W !," 1999 Patient Care Evaluation Study of Melanoma"
"RTN","ONCMPC9",77,0)
 W ?62,ONDATE,!,DASHES
"RTN","ONCMPC9",78,0)
 Q
"RTN","ONCMPC9A")
0^133^B40240411
"RTN","ONCMPC9A",1,0)
ONCMPC9A ;HINES CIOFO/GWB - 1999 Melanoma Study - print ;2/18/99
"RTN","ONCMPC9A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC9A",3,0)
III S TABLE="TABLE III - EXTENT AND STAGE OF DISEASE"
"RTN","ONCMPC9A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCMPC0
"RTN","ONCMPC9A",5,0)
 W !?4,TABLE,!?4,"---------------------------------------" D P Q:EX=U
"RTN","ONCMPC9A",6,0)
 K LINE S $P(LINE,"-",51)="-"
"RTN","ONCMPC9A",7,0)
 W !,"23. SIZE OF TUMOR (mm)..............: ",ONC(165.5,IE,1132) D P Q:EX=U
"RTN","ONCMPC9A",8,0)
 W !,"24. REGIONAL NODES EXAMINED.........: ",ONC(165.5,IE,33) D P Q:EX=U
"RTN","ONCMPC9A",9,0)
 W !,"25. REGIONAL NODES POSITIVE.........: ",ONC(165.5,IE,32) D P Q:EX=U
"RTN","ONCMPC9A",10,0)
 W !,"26. EXTRANODAL EXTENSION............: ",ONC(165.5,IE,1110) D P Q:EX=U
"RTN","ONCMPC9A",11,0)
 W !!,"    SATELLITE NODULES OF SKIN OR SUBCUTANEOUS TISSUE",!
"RTN","ONCMPC9A",12,0)
 W !,"27. MICROSATELLITOSIS...............: ",ONC(165.5,IE,1111) D P Q:EX=U
"RTN","ONCMPC9A",13,0)
 W !,"28. NUMBER OF SATELLITE NODULES.....: ",ONC(165.5,IE,1112) D P Q:EX=U
"RTN","ONCMPC9A",14,0)
 W !,"29. LOCATION OF IN-TRANSIT NODULES..: ",ONC(165.5,IE,1113) D P Q:EX=U
"RTN","ONCMPC9A",15,0)
 W !,"30. BRESLOW'S THICKNESS.............: ",ONC(165.5,IE,1114) D P Q:EX=U
"RTN","ONCMPC9A",16,0)
 W !,"31. CLARK'S LEVEL OF INVASION.......: ",ONC(165.5,IE,1115) D P Q:EX=U
"RTN","ONCMPC9A",17,0)
 W !,"32. ANGIOLYMPHATIC INVASION.........: ",ONC(165.5,IE,1116) D P Q:EX=U
"RTN","ONCMPC9A",18,0)
 W !,"33. PERINEURAL INVASION.............: ",ONC(165.5,IE,1117) D P Q:EX=U
"RTN","ONCMPC9A",19,0)
 W !,"34. GENERAL SUMMARY STAGE...........: ",ONC(165.5,IE,35) D P Q:EX=U
"RTN","ONCMPC9A",20,0)
ACS W !!,"35. AJCC CLINICAL STAGE (cTNM):" D P Q:EX=U
"RTN","ONCMPC9A",21,0)
 W !,"     T-CODE.........................: ",ONC(165.5,IE,37.1) D P Q:EX=U
"RTN","ONCMPC9A",22,0)
 W !,"     N-CODE.........................: ",ONC(165.5,IE,37.2) D P Q:EX=U
"RTN","ONCMPC9A",23,0)
 W !,"     M-CODE.........................: ",ONC(165.5,IE,37.3) D P Q:EX=U
"RTN","ONCMPC9A",24,0)
 W !,"     AJCC STAGE.....................: ",ONC(165.5,IE,38) D P Q:EX=U
"RTN","ONCMPC9A",25,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",26,0)
 W !,"36. ULCERATION......................: ",ONC(165.5,IE,1118) D P Q:EX=U
"RTN","ONCMPC9A",27,0)
 W !,"37. CLINICALLY AMELANOTIC...........: ",ONC(165.5,IE,1119) D P Q:EX=U
"RTN","ONCMPC9A",28,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 W !?4,TABLE_" (continued)",!?4,LINE G APS
"RTN","ONCMPC9A",29,0)
 I IOST'?1"C".E W !
"RTN","ONCMPC9A",30,0)
APS W !,"38. AJCC PATHOLOGIC STAGE (pTNM):" D P Q:EX=U
"RTN","ONCMPC9A",31,0)
 W !,"     T-CODE.........................: ",ONC(165.5,IE,85) D P Q:EX=U
"RTN","ONCMPC9A",32,0)
 W !,"     N-CODE.........................: ",ONC(165.5,IE,86) D P Q:EX=U
"RTN","ONCMPC9A",33,0)
 W !,"     M-CODE.........................: ",ONC(165.5,IE,87)
"RTN","ONCMPC9A",34,0)
 W !,"     AJCC STAGE.....................: ",ONC(165.5,IE,88)
"RTN","ONCMPC9A",35,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",36,0)
SB W !,"39. STAGED BY:" D P Q:EX=U
"RTN","ONCMPC9A",37,0)
 W !,"     CLINICAL STAGE.................: ",ONC(165.5,IE,19) D P Q:EX=U
"RTN","ONCMPC9A",38,0)
 W !,"     PATHOLOGIC STAGE...............: ",ONC(165.5,IE,89) D P Q:EX=U
"RTN","ONCMPC9A",39,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 G IV
"RTN","ONCMPC9A",40,0)
 D P Q:EX=U
"RTN","ONCMPC9A",41,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCMPC9A",42,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCMPC0
"RTN","ONCMPC9A",43,0)
 K LINE S $P(LINE,"-",36)="-"
"RTN","ONCMPC9A",44,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCMPC9A",45,0)
 K LINE S $P(LINE,"-",48)="-"
"RTN","ONCMPC9A",46,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCMPC9A",47,0)
 W !,"40. PROTOCOL ELIGIBILITY STATUS.....: ",ONC(165.5,IE,346) D P Q:EX=U
"RTN","ONCMPC9A",48,0)
 W !,"41. PROTOCOL PARTICIPATION..........: ",ONC(165.5,IE,560) D P Q:EX=U
"RTN","ONCMPC9A",49,0)
 W !,"42. DATE OF FIRST COURSE TREATMENT..: ",DOFCT D P Q:EX=U
"RTN","ONCMPC9A",50,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCMPC9A",51,0)
 W !?4,"NON CANCER-DIRECTED SURGERY",!?4,"---------------------------" D P Q:EX=U
"RTN","ONCMPC9A",52,0)
 S NCDS=ONC(165.5,IE,58.1)
"RTN","ONCMPC9A",53,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<44 S NCDS1=NCDS G NCDS
"RTN","ONCMPC9A",54,0)
 S NOP=$L($E(NCDS,1,42)," ")
"RTN","ONCMPC9A",55,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCMPC9A",56,0)
NCDS S CDS=ONC(165.5,IE,58.2)
"RTN","ONCMPC9A",57,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<44 S CDS1=CDS G S
"RTN","ONCMPC9A",58,0)
 S NOP=$L($E(CDS,1,42)," ")
"RTN","ONCMPC9A",59,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCMPC9A",60,0)
S W !,"43. DATE OF NON CA-DIRECTED SURGERY.: ",ONC(165.5,IE,58.3) D P Q:EX=U
"RTN","ONCMPC9A",61,0)
 W !,"44. NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?38,NCDS2 D P Q:EX=U
"RTN","ONCMPC9A",62,0)
 W !,"45. TYPE OF BIOSPY..................: ",ONC(165.5,IE,1109) D P Q:EX=U
"RTN","ONCMPC9A",63,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 W !?4,TABLE_" (continued)",!?4,LINE G CDS
"RTN","ONCMPC9A",64,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",65,0)
CDS W !?4,"CANCER-DIRECTED SURGERY",!?4,"-----------------------" D P Q:EX=U
"RTN","ONCMPC9A",66,0)
 W !,"46. DATE OF CANCER-DIRECTED SURGERY.: ",ONC(165.5,IE,50) D P Q:EX=U
"RTN","ONCMPC9A",67,0)
 W !,"47. SURGICAL APPROACH...............: ",ONC(165.5,IE,74) D P Q:EX=U
"RTN","ONCMPC9A",68,0)
 W !,"48. SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?38,CDS2
"RTN","ONCMPC9A",69,0)
 S SM=ONC(165.5,IE,59)
"RTN","ONCMPC9A",70,0)
 S (SM1,SM2)="",LOS=$L(SM) I LOS<44 S SM1=SM G SM
"RTN","ONCMPC9A",71,0)
 S NOP=$L($E(SM,1,42)," "),SM1=$P(SM," ",1,NOP-1),SM2=$P(SM," ",NOP,999)
"RTN","ONCMPC9A",72,0)
SM W !,"49. SURGICAL MARGINS................: ",SM1 W:SM2'="" !,?38,SM2 D P Q:EX=U
"RTN","ONCMPC9A",73,0)
 W !,"50. DISTANCE FROM TUMOR TO EDGE OF"
"RTN","ONCMPC9A",74,0)
 W !,"    SPECIMEN........................: ",ONC(165.5,IE,1120) D P Q:EX=U
"RTN","ONCMPC9A",75,0)
 W !,"51. SCOPE OF LYMPH NODE SURGERY.....: ",ONC(165.5,IE,138) D P Q:EX=U
"RTN","ONCMPC9A",76,0)
 W !,"52. NUMBER OF LYMPH NODES REMOVED...: ",ONC(165.5,IE,140) D P Q:EX=U
"RTN","ONCMPC9A",77,0)
 S SORS=ONC(165.5,ONCONUM,139)
"RTN","ONCMPC9A",78,0)
 S (SORS1,SORS2)="",LOS=$L(SORS) I LOS<44 S SORS1=SORS G SORS
"RTN","ONCMPC9A",79,0)
 S NOP=$L($E(SORS,1,42)," ")
"RTN","ONCMPC9A",80,0)
 S SORS1=$P(SORS," ",1,NOP-1),SORS2=$P(SORS," ",NOP,999)
"RTN","ONCMPC9A",81,0)
SORS W !,"53. SURGERY OF OTHER REGIONAL SITE(S), DISTANT SITE(S),"
"RTN","ONCMPC9A",82,0)
 W !,"    OR DISTANT LYMPH NODE(S)........: ",SORS1 W:SORS2'="" !,?38,SORS2 D P Q:EX=U
"RTN","ONCMPC9A",83,0)
 W !,"54. RECONSTRUCTION/RESTORATION......: ",ONC(165.5,IE,23) D P Q:EX=U
"RTN","ONCMPC9A",84,0)
 W !,"55. SURGICAL CLOSURE................: ",ONC(165.5,IE,1121) D P Q:EX=U
"RTN","ONCMPC9A",85,0)
 W !,"56. REASON FOR NO SURGERY...........: ",ONC(165.5,IE,58) D P Q:EX=U
"RTN","ONCMPC9A",86,0)
 W !!?4,"SENTINEL NODES",!?4,"--------------" D P Q:EX=U
"RTN","ONCMPC9A",87,0)
 W !,"57. PRE-OP LYMPHOSCINTIGRAPHY.......: ",ONC(165.5,IE,1122) D P Q:EX=U
"RTN","ONCMPC9A",88,0)
 W !,"58. SENTINEL NODES DETECTED BY......: ",ONC(165.5,IE,1123) D P Q:EX=U
"RTN","ONCMPC9A",89,0)
 W !,"59. SENTINEL NODE BIOPSY............: ",ONC(165.5,IE,943) D P Q:EX=U
"RTN","ONCMPC9A",90,0)
 W !,"60. SENTINEL NODES EXAMINED.........: ",ONC(165.5,IE,1124) D P Q:EX=U
"RTN","ONCMPC9A",91,0)
 W !,"61. SENTINEL NODES POSITIVE.........: ",ONC(165.5,IE,1125) D P Q:EX=U
"RTN","ONCMPC9A",92,0)
 W !,"62. HOW WAS SENTINEL NODE"
"RTN","ONCMPC9A",93,0)
 W !,"    PATHOLOGICALLY EXAMINED.........: ",ONC(165.5,IE,1126) D P Q:EX=U
"RTN","ONCMPC9A",94,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 W !?4,TABLE_" (continued)",!?4,LINE G ISNP
"RTN","ONCMPC9A",95,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",96,0)
ISNP W !,"63. IF SENTINEL NODE(S) POSITIVE:"
"RTN","ONCMPC9A",97,0)
 W !,"      WAS COMPLETE LYMPH NODE"
"RTN","ONCMPC9A",98,0)
 W !,"      DISSECTION PERFORMED..........: ",ONC(165.5,IE,1127) D P Q:EX=U 
"RTN","ONCMPC9A",99,0)
 W !,"      NUMBER OF BASINS DETECTED.....: ",ONC(165.5,IE,1128) D P Q:EX=U 
"RTN","ONCMPC9A",100,0)
 W !,"      NUMBER OF BASINS POSITIVE.....: ",ONC(165.5,IE,1129) D P Q:EX=U 
"RTN","ONCMPC9A",101,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",102,0)
R W !?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCMPC9A",103,0)
 W !,"64. DATE RADIATION STARTED..........: ",ONC(165.5,IE,51) D P Q:EX=U
"RTN","ONCMPC9A",104,0)
 W !,"65. RADIATION THERAPY...............: ",ONC(165.5,IE,51.2) D P Q:EX=U
"RTN","ONCMPC9A",105,0)
 W !,"66. REASON FOR NO RADIATION ........: ",ONC(165.5,IE,75) D P Q:EX=U
"RTN","ONCMPC9A",106,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 W !?4,TABLE_" (continued)",!?4,LINE G C
"RTN","ONCMPC9A",107,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",108,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCMPC9A",109,0)
 W !,"67. DATE CHEMOTHERAPY STARTED.......: ",ONC(165.5,IE,53) D P Q:EX=U
"RTN","ONCMPC9A",110,0)
 W !,"68. CHEMOTHERAPY....................: ",ONC(165.5,IE,53.2) D P Q:EX=U
"RTN","ONCMPC9A",111,0)
 W !,"69. INTRAVENOUS THERAPY.............: ",ONC(165.5,IE,1130) D P Q:EX=U
"RTN","ONCMPC9A",112,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",113,0)
H W !,"    HORMONE THERAPY"
"RTN","ONCMPC9A",114,0)
 W !,"    ---------------"
"RTN","ONCMPC9A",115,0)
 W !,"70. DATE HORMONE THERAPY STARTED....: ",ONC(165.5,IE,54) D P Q:EX=U
"RTN","ONCMPC9A",116,0)
 W !,"71. HORMONE THERAPY.................: ",ONC(165.5,IE,54.2) D P Q:EX=U
"RTN","ONCMPC9A",117,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 G V
"RTN","ONCMPC9A",118,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9A",119,0)
V D ^ONCMPC9B
"RTN","ONCMPC9A",120,0)
KILL ;Kill Variables and Exit
"RTN","ONCMPC9A",121,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y
"RTN","ONCMPC9A",122,0)
 Q
"RTN","ONCMPC9A",123,0)
P ;Display Data
"RTN","ONCMPC9A",124,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCMPC9A",125,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCMPC9A",126,0)
 .D HEAD^ONCMPC0 Q
"RTN","ONCMPC9A",127,0)
 Q
"RTN","ONCMPC9B")
0^134^B9462793
"RTN","ONCMPC9B",1,0)
ONCMPC9B ;HINES CIOFO/GWB - 1999 Melanoma Study - print ;6/1/98
"RTN","ONCMPC9B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPC9B",3,0)
I W !,"    IMMUNOTHERAPY THERAPY"
"RTN","ONCMPC9B",4,0)
 W !,"    ---------------------"
"RTN","ONCMPC9B",5,0)
 W !,"72. DATE IMMUNOTHERAPY STARTED......: ",ONC(165.5,IE,55) D P Q:EX=U
"RTN","ONCMPC9B",6,0)
 W !,"73. IMMUNOTHERAPY...................: ",ONC(165.5,IE,55.2) D P Q:EX=U
"RTN","ONCMPC9B",7,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9B",8,0)
 W !,"74. IMMUNOTHERAPEUTIC AGENTS ADMINISTERED:" D P Q:EX=U
"RTN","ONCMPC9B",9,0)
 W !,"     VACCINE THERAPY................: ",ONC(165.5,IE,884) D P Q:EX=U
"RTN","ONCMPC9B",10,0)
 W !,"     GENE THERAPY...................: ",ONC(165.5,IE,1131) D P Q:EX=U
"RTN","ONCMPC9B",11,0)
 W !,"     INTERLEUKIN 2..................: ",ONC(165.5,IE,385) D P Q:EX=U
"RTN","ONCMPC9B",12,0)
 W !,"     INTERFERON.....................: ",ONC(165.5,IE,384) D P Q:EX=U
"RTN","ONCMPC9B",13,0)
 W !,"     LEVAMISOLE.....................: ",ONC(165.5,IE,791) D P Q:EX=U
"RTN","ONCMPC9B",14,0)
 W !,"     COLONY STIMULATING FACTORS.....: ",ONC(165.5,IE,559) D P Q:EX=U
"RTN","ONCMPC9B",15,0)
 W !,"     OTHER GIVEN, TYPE UNKNOWN......: ",ONC(165.5,IE,386)
"RTN","ONCMPC9B",16,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 W !?4,TABLE_" (continued)",!?4,LINE G OT
"RTN","ONCMPC9B",17,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9B",18,0)
OT W !,"    OTHER THERAPY"
"RTN","ONCMPC9B",19,0)
 W !,"    -------------"
"RTN","ONCMPC9B",20,0)
 W !,"75. DATE OTHER TREATMENT STARTED....: ",ONC(165.5,IE,57) D P Q:EX=U
"RTN","ONCMPC9B",21,0)
 W !,"76. OTHER TREATMENT.................: ",ONC(165.5,IE,57.2) D P Q:EX=U
"RTN","ONCMPC9B",22,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCMPC0 G V
"RTN","ONCMPC9B",23,0)
 W ! D P Q:EX=U
"RTN","ONCMPC9B",24,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCMPC9B",25,0)
 I IOST'?1"C".E W !
"RTN","ONCMPC9B",26,0)
 W !?4,TABLE,!?4,"--------------------------" D P Q:EX=U
"RTN","ONCMPC9B",27,0)
 W !,"77. DATE OF FIRST RECURRENCE........: ",ONC(165.5,IE,70) D P Q:EX=U
"RTN","ONCMPC9B",28,0)
 W !,"78. TYPE OF FIRST RECURRENCE........: ",ONC(165.5,IE,71) D P Q:EX=U
"RTN","ONCMPC9B",29,0)
 W !,"79. OTHER TYPE OF FIRST RECURRENCE..: ",ONC(165.5,IE,71.4) D P Q:EX=U
"RTN","ONCMPC9B",30,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCMPC9B",31,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCMPC0
"RTN","ONCMPC9B",32,0)
 W !!?4,TABLE,!?4,"---------------------------------" D P Q:EX=U
"RTN","ONCMPC9B",33,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCMPC9B",34,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCMPC9B",35,0)
 W !,"80. DATE OF LAST CONTACT OR DEATH...: ",DLC
"RTN","ONCMPC9B",36,0)
 W !,"81. VITAL STATUS....................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCMPC9B",37,0)
 S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCMPC9B",38,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCMPC9B",39,0)
 .S CSI=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCMPC9B",40,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSI,0),U,2)
"RTN","ONCMPC9B",41,0)
 .S:CSPNT'="" CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCMPC9B",42,0)
 W !,"82. CANCER STATUS...................: ",CS
"RTN","ONCMPC9B",43,0)
VII S TABLE="TABLE VII - OTHER INFORMATION"
"RTN","ONCMPC9B",44,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCMPC0
"RTN","ONCMPC9B",45,0)
 W !!?4,TABLE,!?4,"-----------------------------" D P Q:EX=U
"RTN","ONCMPC9B",46,0)
 W !,"83. COMPLETED BY....................: ",ONC(165.5,IE,81) D P Q:EX=U
"RTN","ONCMPC9B",47,0)
 W !,"84. REVIEWED BY CANCER COMMITTEE....: ",ONC(165.5,IE,82)
"RTN","ONCMPC9B",48,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCMPC9B",49,0)
KILL ;Kill Variables and Exit
"RTN","ONCMPC9B",50,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTI
"RTN","ONCMPC9B",51,0)
 Q
"RTN","ONCMPC9B",52,0)
P ;Display Data
"RTN","ONCMPC9B",53,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCMPC9B",54,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCMPC9B",55,0)
 .D HEAD^ONCMPC0 Q
"RTN","ONCMPC9B",56,0)
 Q
"RTN","ONCMPH")
0^135^B2009397
"RTN","ONCMPH",1,0)
ONCMPH ;Hines OIFO/GWB - Multiple primary stuffing logic ;02/22/11
"RTN","ONCMPH",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCMPH",3,0)
 ;
"RTN","ONCMPH",4,0)
NA ;"Not applicable" stuffing for:
"RTN","ONCMPH",5,0)
 ;MULT TUM RPT AS ONE PRIM (165.5,194)
"RTN","ONCMPH",6,0)
 ;DATE OF MULTIPLE TUMORS  (165.5,195)
"RTN","ONCMPH",7,0)
 ;MULTIPLICITY COUNTER     (165.5,196)
"RTN","ONCMPH",8,0)
 S $P(^ONCO(165.5,DA,24),U,14)=11
"RTN","ONCMPH",9,0)
 W !,"MULT TUM RPT AS ONE PRIM: NA"
"RTN","ONCMPH",10,0)
 S $P(^ONCO(165.5,DA,24),U,15)=8888888
"RTN","ONCMPH",11,0)
 W !,"DATE OF MULTIPLE TUMORS: 88/88/8888"
"RTN","ONCMPH",12,0)
 S $P(^ONCO(165.5,DA,24),U,16)=88
"RTN","ONCMPH",13,0)
 W !,"MULTIPLICITY COUNTER: 88"
"RTN","ONCMPH",14,0)
 S Y=83
"RTN","ONCMPH",15,0)
 Q
"RTN","ONCMPH",16,0)
 ;
"RTN","ONCMPH",17,0)
MTRAOP ;MULT TUM RPT AS ONE PRIM (165.5,194)
"RTN","ONCMPH",18,0)
 I X=1 D   S Y=83 Q
"RTN","ONCMPH",19,0)
 .S $P(^ONCO(165.5,DA,24),U,15)="0000000"
"RTN","ONCMPH",20,0)
 .W !,"DATE OF MULTIPLE TUMORS: 00/00/0000"
"RTN","ONCMPH",21,0)
 .S $P(^ONCO(165.5,DA,24),U,16)="01"
"RTN","ONCMPH",22,0)
 .W !,"MULTIPLICITY COUNTER: 01"
"RTN","ONCMPH",23,0)
 I X=11 D  S Y=83 Q
"RTN","ONCMPH",24,0)
 .S $P(^ONCO(165.5,DA,24),U,15)=8888888
"RTN","ONCMPH",25,0)
 .W !,"DATE OF MULTIPLE TUMORS: 88/88/8888"
"RTN","ONCMPH",26,0)
 .S $P(^ONCO(165.5,DA,24),U,16)=88
"RTN","ONCMPH",27,0)
 .W !,"MULTIPLICITY COUNTER: 88"
"RTN","ONCMPH",28,0)
 I X=12 D  S Y=83 Q
"RTN","ONCMPH",29,0)
 .N DATEDXE,DATEDXI
"RTN","ONCMPH",30,0)
 .S DATEDXE=$$GET1^DIQ(165.5,DA,3,"E")
"RTN","ONCMPH",31,0)
 .S DATEDXI=$$GET1^DIQ(165.5,DA,3,"I")
"RTN","ONCMPH",32,0)
 .S $P(^ONCO(165.5,DA,24),U,15)=DATEDXI
"RTN","ONCMPH",33,0)
 .W !,"DATE OF MULTIPLE TUMORS: ",DATEDXE
"RTN","ONCMPH",34,0)
 .S $P(^ONCO(165.5,DA,24),U,16)=99
"RTN","ONCMPH",35,0)
 .W !,"MULTIPLICITY COUNTER: 99"
"RTN","ONCMPH",36,0)
 Q
"RTN","ONCMPH",37,0)
 ;
"RTN","ONCMPH",38,0)
CLEANUP ;Cleanup
"RTN","ONCMPH",39,0)
 K DA,X,Y
"RTN","ONCNPC0")
0^136^B6754206
"RTN","ONCNPC0",1,0)
ONCNPC0 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma;4/11/97
"RTN","ONCNPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCNPC0",4,0)
 ;Check if histologically or cytologically confirmed
"RTN","ONCNPC0",5,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCNPC0",6,0)
 ;Check if Class of Case is either 1, 2 or 6.
"RTN","ONCNPC0",7,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2)&(COC'=6) S MSG="The Class of Case code is not 1, 2 or 6." D ERRMSG G EXIT
"RTN","ONCNPC0",8,0)
 ;Check if BEHAVIOR is 3 (malignant)
"RTN","ONCNPC0",9,0)
 I BEH'=3 S MSG="The BEHAVIOR code is not 3 (malignant)." D ERRMSG G EXIT
"RTN","ONCNPC0",10,0)
MENU ;Non-Hodgkin's Lymphoma PCE menu
"RTN","ONCNPC0",11,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="NHL"
"RTN","ONCNPC0",12,0)
 S ^ONCO(165.5,"APCE","NHL",ONCONUM)=""
"RTN","ONCNPC0",13,0)
 K DIR D HEAD
"RTN","ONCNPC0",14,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Extent of Disease and AJCC Stage;4:First Course of Treatment;5:First Recurrence;6:Status at Last Contact;7:All;"
"RTN","ONCNPC0",15,0)
 S DIR(0)=DIR(0)_"8:Print Non-Hodgkin's Lymphoma PCE"
"RTN","ONCNPC0",16,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCNPC0",17,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCNPC0",18,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCNPC0",19,0)
 .D ^ONCNPC1 Q:$G(OUT)="Y"
"RTN","ONCNPC0",20,0)
 .D ^ONCNPC2 Q:$G(OUT)="Y"
"RTN","ONCNPC0",21,0)
 .D ^ONCNPC3 Q:$G(OUT)="Y"
"RTN","ONCNPC0",22,0)
 .D ^ONCNPC4 Q:$G(OUT)="Y"
"RTN","ONCNPC0",23,0)
 .D ^ONCNPC5 Q:$G(OUT)="Y"
"RTN","ONCNPC0",24,0)
 .D ^ONCNPC6 Q:$G(OUT)="Y"
"RTN","ONCNPC0",25,0)
 I Y=8 D ^ONCNPC8 G MENU
"RTN","ONCNPC0",26,0)
 S SUB="^ONCNPC"_Y D @SUB G MENU
"RTN","ONCNPC0",27,0)
ERRMSG ;Error message
"RTN","ONCNPC0",28,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCNPC0",29,0)
 K MSG Q
"RTN","ONCNPC0",30,0)
HEAD ;Non-Hodgkin's Lymphoma PCE header
"RTN","ONCNPC0",31,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCNPC0",32,0)
 S HDL=$L("Patient Care Evaluation Study of Non-Hodgkin's Lymphoma"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCNPC0",33,0)
 W !,?TAB,"Patient Care Evaluation Study of Non-Hodgkin's Lymphoma",!,DASHES
"RTN","ONCNPC0",34,0)
 Q
"RTN","ONCNPC0",35,0)
EXIT ;Kill variables and exit
"RTN","ONCNPC0",36,0)
 K COC,DC,HDL,HIST,HIS1234,BEH,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCNPC0",37,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCNPC0",38,0)
 Q
"RTN","ONCNPC1")
0^137^B24268621
"RTN","ONCNPC1",1,0)
ONCNPC1 ;Hines OIFO/GWB - PCE Study of Non-Hodgkin's Lymphoma ;05/30/00
"RTN","ONCNPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC1",3,0)
 ;Table I
"RTN","ONCNPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCNPC1",5,0)
 S TABLE("ACCESSION NUMBER")="AN"
"RTN","ONCNPC1",6,0)
 S TABLE("SEQUENCE NUMBER")="SN"
"RTN","ONCNPC1",7,0)
 S TABLE("POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCNPC1",8,0)
 S TABLE("DATE OF BIRTH")="DOB"
"RTN","ONCNPC1",9,0)
 S TABLE("AGE AT DIAGNOSIS")="AAD"
"RTN","ONCNPC1",10,0)
 S TABLE("RACE")="R"
"RTN","ONCNPC1",11,0)
 S TABLE("SPANISH ORIGIN")="SO"
"RTN","ONCNPC1",12,0)
 S TABLE("SEX")="S"
"RTN","ONCNPC1",13,0)
 S TABLE("PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCNPC1",14,0)
 S TABLE("FAMILY HISTORY OF CANCER")="FHOC"
"RTN","ONCNPC1",15,0)
 S TABLE("PERSONAL HISTORY OF ANY CANCER")="PHOAC"
"RTN","ONCNPC1",16,0)
 S TABLE("PRE-EXISTING CONDITIONS")="PC"
"RTN","ONCNPC1",17,0)
 S TABLE("PREVIOUS CHEMOTHERAPY/RADIATION THERAPY")="PCRT"
"RTN","ONCNPC1",18,0)
 S TABLE("AIDS RISK CATEGORY")="ARC"
"RTN","ONCNPC1",19,0)
 S HTABLE(1)="ACCESSION NUMBER"
"RTN","ONCNPC1",20,0)
 S HTABLE(2)="SEQUENCE NUMBER"
"RTN","ONCNPC1",21,0)
 S HTABLE(3)="POSTAL CODE AT DIAGNOSIS"
"RTN","ONCNPC1",22,0)
 S HTABLE(4)="DATE OF BIRTH"
"RTN","ONCNPC1",23,0)
 S HTABLE(5)="AGE AT DIAGNOSIS"
"RTN","ONCNPC1",24,0)
 S HTABLE(6)="RACE"
"RTN","ONCNPC1",25,0)
 S HTABLE(7)="SPANISH ORIGIN"
"RTN","ONCNPC1",26,0)
 S HTABLE(8)="SEX"
"RTN","ONCNPC1",27,0)
 S HTABLE(9)="PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCNPC1",28,0)
 S HTABLE(10)="FAMILY HISTORY OF CANCER"
"RTN","ONCNPC1",29,0)
 S HTABLE(11)="PERSONAL HISTORY OF ANY CANCER"
"RTN","ONCNPC1",30,0)
 S HTABLE(12)="PRE-EXISTING CONDITIONS"
"RTN","ONCNPC1",31,0)
 S HTABLE(13)="PREVIOUS CHEMOTHERAPY/RADIATION THERAPY"
"RTN","ONCNPC1",32,0)
 S HTABLE(14)="AIDS RISK CATEGOR"
"RTN","ONCNPC1",33,0)
 S CHOICES=14
"RTN","ONCNPC1",34,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".05;.06;4",DA=ONCONUM
"RTN","ONCNPC1",35,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCNPC1",36,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCNPC1",37,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC1",38,0)
 W !?25,"TABLE I - GENERAL INFORMATION"
"RTN","ONCNPC1",39,0)
 W !?25,"-----------------------------"
"RTN","ONCNPC1",40,0)
AN W !,"ACCESSION NUMBER.....................: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCNPC1",41,0)
SN W !,"SEQUENCE NUMBER......................: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCNPC1",42,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC1",43,0)
 S DR="9POSTAL CODE AT DIAGNOSIS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",44,0)
DOB W !,"DATE OF BIRTH........................: ",DOB
"RTN","ONCNPC1",45,0)
AAD W !,"AGE AT DIAGNOSIS.....................: ",ONC(165.5,ONCONUM,4)
"RTN","ONCNPC1",46,0)
R S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCNPC1",47,0)
 S DR="8RACE................................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",48,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCNPC1",49,0)
 S DR="9SPANISH ORIGIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",50,0)
S S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCNPC1",51,0)
 S DR="10SEX.................................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",52,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC1",53,0)
 S DR="18PRIMARY PAYER AT DIAGNOSIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",54,0)
FHOC W !!,"FAMILY HISTORY OF CANCER:",!
"RTN","ONCNPC1",55,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC1",56,0)
 S DR="800  LEUKEMIA..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",57,0)
 S DR="801  NON-HODGKIN'S LYMPHOMA............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",58,0)
 S DR="802  HODGKIN'S LYMPHOMA................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",59,0)
 S DR="313  OTHER CANCER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",60,0)
PHOAC W !!,"PERSONAL HISTORY OF ANY CANCER:",!
"RTN","ONCNPC1",61,0)
 D CHFPS^ONCOMNI
"RTN","ONCNPC1",62,0)
 I X="" S DR="803  1ST PRIMARY SITE..................."
"RTN","ONCNPC1",63,0)
 E  S DR="803  1ST PRIMARY SITE...................//"_X
"RTN","ONCNPC1",64,0)
 D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",65,0)
 D CHFPH^ONCOMNI
"RTN","ONCNPC1",66,0)
 I X="" S DR="804  1ST PRIMARY HISTOLOGY.............."
"RTN","ONCNPC1",67,0)
 E  S DR="804  1ST PRIMARY HISTOLOGY..............//"_X
"RTN","ONCNPC1",68,0)
 D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",69,0)
 D CHSPS^ONCOMNI
"RTN","ONCNPC1",70,0)
 I X="" S DR="805  2ND PRIMARY SITE..................."
"RTN","ONCNPC1",71,0)
 E  S DR="805  2ND PRIMARY SITE...................//"_X
"RTN","ONCNPC1",72,0)
 D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",73,0)
 D CHSPH^ONCOMNI
"RTN","ONCNPC1",74,0)
 I X="" S DR="806  2ND PRIMARY HISTOLOGY.............."
"RTN","ONCNPC1",75,0)
 E  S DR="806  2ND PRIMARY HISTOLOGY..............//"_X
"RTN","ONCNPC1",76,0)
 D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",77,0)
PC W !!,"PRE-EXISTING CONDITIONS:",!
"RTN","ONCNPC1",78,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC1",79,0)
 S DR="807  ORGAN TRANSPLANT..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",80,0)
 S DR="808  HIV POSITIVE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",81,0)
 S DR="809  CROHN'S DISEASE/ULCERATIVE COLITIS." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",82,0)
 S DR="810  HASHIMOTO'S THYROIDITIS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",83,0)
 S DR="811  SYSTEMIC LUPUS ERYTHEMATOSUS......." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",84,0)
 S DR="812  RHEUMATOID ARTHRITIS/SJOGREN'S SYN." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",85,0)
 S DR="813  PNEUMOCYSTIS CARINII..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",86,0)
 S DR="814  CMV INFECTION......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",87,0)
 S DR="815  TUBERCULOSIS......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",88,0)
 S DR="816  MYCOBACTERIUM AVIUM................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",89,0)
 S DR="817  OTHER PARASITIC INFECTIONS........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",90,0)
 S DR="818  OTHER CONGENTIAL DISEASES.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",91,0)
 S DR="819  OPPORTUNISTIC DISEASE (W/I 2 YEARS)" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",92,0)
PCRT W !!,"PREVIOUS CHEMOTHERAPY/RADIATION THERAPY:",!
"RTN","ONCNPC1",93,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC1",94,0)
 S DR="820  CHEMOTHERAPY......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",95,0)
 S DR="821  RADIATION THERAPY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",96,0)
ARC S DIE="^ONCO(165.5,",DA=ONCONUM W !
"RTN","ONCNPC1",97,0)
 S DR="822AIDS RISK CATEGORY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC1",98,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC1",99,0)
 G EXIT
"RTN","ONCNPC1",100,0)
JUMP ;Jump to prompts
"RTN","ONCNPC1",101,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC1",102,0)
 I X["?" D  G JUMP
"RTN","ONCNPC1",103,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC1",104,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC1",105,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC1",106,0)
 S X=TABLE(X)
"RTN","ONCNPC1",107,0)
 G @X
"RTN","ONCNPC1",108,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCNPC1",109,0)
 K DOB
"RTN","ONCNPC1",110,0)
 K DA,DR,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,XX,Y
"RTN","ONCNPC1",111,0)
 Q
"RTN","ONCNPC2")
0^138^B21531582
"RTN","ONCNPC2",1,0)
ONCNPC2 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table II;4/14/97
"RTN","ONCNPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCNPC2",4,0)
 S TABLE("CLASS OF CASE")="COC"
"RTN","ONCNPC2",5,0)
 S TABLE("DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCNPC2",6,0)
 S TABLE("DIAGNOSTIC WORKUP")="DW"
"RTN","ONCNPC2",7,0)
 S TABLE("RESULTS OF LABORATORY TESTS")="ROLT"
"RTN","ONCNPC2",8,0)
 S TABLE("ADDITIONAL TESTS")="AT"
"RTN","ONCNPC2",9,0)
 S TABLE("REVIEW OF PATHOLOGY/OTH INST")="ROP"
"RTN","ONCNPC2",10,0)
 S TABLE("DIAGNOSTIC BIOPSIES")="DB"
"RTN","ONCNPC2",11,0)
 S TABLE("SYSTEMIC SYMPTOMS")="SS"
"RTN","ONCNPC2",12,0)
 S TABLE("DIAGNOSTIC TEST SPECIFICALLY RELATED TO HIV DISEASE")="DTSRTHD"
"RTN","ONCNPC2",13,0)
 S TABLE("HIV VIRAL LOADS")="HVL"
"RTN","ONCNPC2",14,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DOID"
"RTN","ONCNPC2",15,0)
 S TABLE("PRIMARY SITE")="PS"
"RTN","ONCNPC2",16,0)
 S TABLE("HISTOLOGY/BEHAVIOR CODE")="H"
"RTN","ONCNPC2",17,0)
 S TABLE("SPECIFIC HISTOLOGIC INFORMATION")="SHI"
"RTN","ONCNPC2",18,0)
 S TABLE("CELL TYPE OF LYMPHOMA")="CTOL"
"RTN","ONCNPC2",19,0)
 S TABLE("PATIENT STATUS AT DIAGNOSIS")="PSAD"
"RTN","ONCNPC2",20,0)
 S HTABLE(1)="CLASS OF CASE"
"RTN","ONCNPC2",21,0)
 S HTABLE(2)="DIAGNOSTIC CONFIRMATION"
"RTN","ONCNPC2",22,0)
 S HTABLE(3)="DIAGNOSTIC WORKUP"
"RTN","ONCNPC2",23,0)
 S HTABLE(4)="RESULTS OF LABORATORY TESTS"
"RTN","ONCNPC2",24,0)
 S HTABLE(5)="ADDITIONAL TESTS"
"RTN","ONCNPC2",25,0)
 S HTABLE(6)="REVIEW OF PATHOLOGY/OTH INST"
"RTN","ONCNPC2",26,0)
 S HTABLE(7)="DIAGNOSTIC BIOPSIES"
"RTN","ONCNPC2",27,0)
 S HTABLE(8)="SYSTEMIC SYMPTOMS"
"RTN","ONCNPC2",28,0)
 S HTABLE(9)="DIAGNOSTIC TEST SPECIFICALLY RELATED TO HIV DISEASE"
"RTN","ONCNPC2",29,0)
 S HTABLE(10)="HIV VIRAL LOADS"
"RTN","ONCNPC2",30,0)
 S HTABLE(11)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCNPC2",31,0)
 S HTABLE(12)="PRIMARY SITE"
"RTN","ONCNPC2",32,0)
 S HTABLE(13)="HISTOLOGY/BEHAVIOR CODE"
"RTN","ONCNPC2",33,0)
 S HTABLE(14)="SPECIFIC HISTOLOGIC INFORMATION"
"RTN","ONCNPC2",34,0)
 S HTABLE(15)="CELL TYPE OF LYMPHOMA"
"RTN","ONCNPC2",35,0)
 S HTABLE(16)="PATIENT STATUS AT DIAGNOSIS"
"RTN","ONCNPC2",36,0)
 S CHOICES=16
"RTN","ONCNPC2",37,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;22;24;26",DA=ONCONUM,DIQ="ONC"
"RTN","ONCNPC2",38,0)
 D EN^DIQ1
"RTN","ONCNPC2",39,0)
 S Y=$P(^ONCO(165.5,ONCONUM,0),U,16) D DATEOT^ONCOPCE S DOID=Y
"RTN","ONCNPC2",40,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC2",41,0)
 W !?26,"TABLE II- INITIAL DIAGNOSIS"
"RTN","ONCNPC2",42,0)
 W !?26,"---------------------------"
"RTN","ONCNPC2",43,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC2",44,0)
COC W !,"CLASS OF CLASS..............: ",ONC(165.5,ONCONUM,.04)
"RTN","ONCNPC2",45,0)
DC S DR="26DIAGNOSTIC CONFIRMATION....." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",46,0)
DW W !!,"DIAGNOSTIC WORKUP:",!
"RTN","ONCNPC2",47,0)
 S DR="505  CHEST X-RAY..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",48,0)
 S DR="512  SKELETAL X-RAY............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",49,0)
 S DR="823  CT SCAN OF BRAIN.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",50,0)
 S DR="506  CT SCAN OF CHEST.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",51,0)
 S DR="824  CT SCAN OF ABDOMEN/PELVIS." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",52,0)
 S DR="825  MRI OF BRAIN.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",53,0)
 S DR="826  MRI OF CHEST.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",54,0)
 S DR="827  MRI OF ABDOMEN/PELVIS....." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",55,0)
 S DR="504  BONE SCAN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",56,0)
 S DR="828  GALLIUM SCAN.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",57,0)
 S DR="829  PET SCAN.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",58,0)
 S DR="830  LUMBAR PUNCTURE..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",59,0)
ROLT W !!,"RESULTS OF LABORATORY TESTS:",!
"RTN","ONCNPC2",60,0)
 S DR="831  HEMOGLOBIN/HEMATOCRIT....." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",61,0)
 S DR="832  WHITE COUNT..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",62,0)
 S DR="833  PLATELET COUNT............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",63,0)
 S DR="834  LACTIC DEHYDROGENASE (LDH)" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",64,0)
 S DR="835  LIVER FUNCTION STUDIES...." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",65,0)
 S DR="836  TOTAL PROTEIN/ALBUMIN....." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",66,0)
AT W !!,"ADDITIONAL TESTS:",!
"RTN","ONCNPC2",67,0)
 S DR="516  TUMOR SURFACE MARKER......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",68,0)
 S DR="514  CYTOGENETIC TESTING......." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",69,0)
 S DR="837  GENE REARRANGEMENTS......." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",70,0)
 W !
"RTN","ONCNPC2",71,0)
ROP S DR="838REVIEW OF PATHOLOGY/OTH INST" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",72,0)
DB W !!,"DIAGNOSTIC BIOPSIES:",!
"RTN","ONCNPC2",73,0)
 S DR="839  LYMPH NODE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",74,0)
 S DR="840  BONE MARROW..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",75,0)
 S DR="841  CSF CYTOLOGY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",76,0)
 S DR="842  OTHER SITE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",77,0)
 W !
"RTN","ONCNPC2",78,0)
SS S DR="843SYSTEMIC SYMPTOMS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",79,0)
DTSRTHD W !!,"DIAGNOSTIC TESTS SPECIFICALLY RELATED TO HIV DISEASE:",!
"RTN","ONCNPC2",80,0)
 S DR="844  CD4 COUNT................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",81,0)
 S DR="845  HIV VIRAL LOADS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",82,0)
DOID W !!,"DATE OF INITIAL DIAGNOSIS...: ",DOID
"RTN","ONCNPC2",83,0)
PS W !,"PRIMARY SITE................: ",TOPCOD
"RTN","ONCNPC2",84,0)
H W !,"HISTOLOGY/BEHAVIOR CODE.....: ",ONC(165.5,ONCONUM,22)
"RTN","ONCNPC2",85,0)
SHI S DR="846SPECIFIC HISTOLOGIC INFO...." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",86,0)
CTOL S DR="847CELL TYPE OF LYMPHOMA......." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",87,0)
PSAD S DR="848PATIENT STATUS AT DIAGNOSIS." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC2",88,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC2",89,0)
 G EXIT
"RTN","ONCNPC2",90,0)
JUMP ;Jump to prompts
"RTN","ONCNPC2",91,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC2",92,0)
 I X["?" D  G JUMP
"RTN","ONCNPC2",93,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC2",94,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC2",95,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC2",96,0)
 S X=TABLE(X)
"RTN","ONCNPC2",97,0)
 G @X
"RTN","ONCNPC2",98,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCNPC2",99,0)
 K DOID,HST,HSTCD,HSTNAM,PRINODE0,PRINODE2,TOPOG,TOPCD,SITE
"RTN","ONCNPC2",100,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCNPC2",101,0)
 Q
"RTN","ONCNPC3")
0^139^B6292554
"RTN","ONCNPC3",1,0)
ONCNPC3 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table III;4/15/97
"RTN","ONCNPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCNPC3",4,0)
 S TABLE("AJCC CLINICAL STAGE GROUP")="ACS"
"RTN","ONCNPC3",5,0)
 S TABLE("CLINICALLY STAGED BY")="CSB"
"RTN","ONCNPC3",6,0)
 S TABLE("AJCC PATHOLOGIC STAGE GROUP")="APS"
"RTN","ONCNPC3",7,0)
 S TABLE("PATHOLOGICALLY STAGED BY")="PSB"
"RTN","ONCNPC3",8,0)
 S TABLE("TYPE OF STAGING SYSTEM (PEDIATRIC)")="TOSS"
"RTN","ONCNPC3",9,0)
 S TABLE("PEDIATRIC STAGE")="PS"
"RTN","ONCNPC3",10,0)
 S TABLE("STAGED BY (PEDIATRIC STAGE)")="SB"
"RTN","ONCNPC3",11,0)
 S TABLE("EXTRANODAL SITES")="ES"
"RTN","ONCNPC3",12,0)
 S HTABLE(1)="AJCC CLINICAL STAGE GROUP"
"RTN","ONCNPC3",13,0)
 S HTABLE(2)="CLINICALLY STAGED BY"
"RTN","ONCNPC3",14,0)
 S HTABLE(3)="AJCC PATHOLOGIC STAGE GROUP"
"RTN","ONCNPC3",15,0)
 S HTABLE(4)="PATHOLOGICALLY STAGED BY"
"RTN","ONCNPC3",16,0)
 S HTABLE(5)="TYPE OF STAGING SYSTEM (PEDIATRIC)"
"RTN","ONCNPC3",17,0)
 S HTABLE(6)="PEDIATRIC STAGE"
"RTN","ONCNPC3",18,0)
 S HTABLE(7)="STAGED BY (PEDIATRIC STAGE)"
"RTN","ONCNPC3",19,0)
 S HTABLE(8)="EXTRANODAL SITES"
"RTN","ONCNPC3",20,0)
 S CHOICES=8
"RTN","ONCNPC3",21,0)
 K DIQ S DIC="^ONCO(165.5,",DR="38;88",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCNPC3",22,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC3",23,0)
 W !?18,"TABLE III- EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCNPC3",24,0)
 W !?18,"-------------------------------------------"
"RTN","ONCNPC3",25,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC3",26,0)
ACS W !!,"AJCC CLINICAL STAGE GROUP......: ",ONC(165.5,ONCONUM,38)
"RTN","ONCNPC3",27,0)
CSB S DR="19CLINICALLY STAGED BY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",28,0)
APS W !!,"AJCC PATHOLOGIC STAGE GROUP ...: ",ONC(165.5,ONCONUM,88)
"RTN","ONCNPC3",29,0)
PSB S DR="89PATHOLOGICALLY STAGED BY......." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",30,0)
 W !
"RTN","ONCNPC3",31,0)
TOSS S DR="849TYPE OF STAGING SYS (PEDIATRIC)" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",32,0)
PS S DR="850PEDIATRIC STAGE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",33,0)
SB S DR="851STAGED BY (PEDIATRIC STAGE)...." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",34,0)
ES W !!,"EXTRANODAL SITES:",!
"RTN","ONCNPC3",35,0)
 S DR="852  EXTRANODAL SITE 1............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",36,0)
 S DR="853  EXTRANODAL SITE 2............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",37,0)
 S DR="854  EXTRANODAL SITE 3............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC3",38,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC3",39,0)
 G EXIT
"RTN","ONCNPC3",40,0)
JUMP ;Jump to prompts
"RTN","ONCNPC3",41,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC3",42,0)
 I X["?" D  G JUMP
"RTN","ONCNPC3",43,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC3",44,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC3",45,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC3",46,0)
 S X=TABLE(X)
"RTN","ONCNPC3",47,0)
 G @X
"RTN","ONCNPC3",48,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCNPC3",49,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCNPC3",50,0)
 Q
"RTN","ONCNPC4")
0^140^B24146889
"RTN","ONCNPC4",1,0)
ONCNPC4 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table IV;4/18/97
"RTN","ONCNPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCNPC4",4,0)
 S TABLE("DATE OF FIRST COURSE OF TREATMENT")="DOFCT^ONCNPC4"
"RTN","ONCNPC4",5,0)
 S TABLE("SURGERY")="S^ONCNPC4"
"RTN","ONCNPC4",6,0)
 S TABLE("RADIATION THERAPY")="R^ONCNPC4"
"RTN","ONCNPC4",7,0)
 S TABLE("CHEMOTHERAPY")="C^ONCNPC4"
"RTN","ONCNPC4",8,0)
 S TABLE("SYSTEMIC CHEMOTHERAPY")="SC^ONCNPC4A"
"RTN","ONCNPC4",9,0)
 S TABLE("INTRATHECAL CHEMOTHERAPY")="IC^ONCNPC4A"
"RTN","ONCNPC4",10,0)
 S TABLE("IMMUNOTHERAPY")="I^ONCNPC4A"
"RTN","ONCNPC4",11,0)
 S HTABLE(1)="DATE OF FIRST COURSE OF TREATMENT"
"RTN","ONCNPC4",12,0)
 S HTABLE(2)="SURGERY"
"RTN","ONCNPC4",13,0)
 S HTABLE(3)="RADIATION THERAPY"
"RTN","ONCNPC4",14,0)
 S HTABLE(4)="CHEMOTHERAPY"
"RTN","ONCNPC4",15,0)
 S HTABLE(5)="SYSTEMIC CHEMOTHERAPY"
"RTN","ONCNPC4",16,0)
 S HTABLE(6)="INTRATHECAL CHEMOTHERAPY"
"RTN","ONCNPC4",17,0)
 S HTABLE(7)="IMMUNOTHERAPY"
"RTN","ONCNPC4",18,0)
 S CHOICES=7
"RTN","ONCNPC4",19,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCNPC4",20,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53;53.2;58.2",DA=ONCONUM
"RTN","ONCNPC4",21,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCNPC4",22,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCNPC4",23,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I"),RADOT=ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCNPC4",24,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCNPC4",25,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC4",26,0)
 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCNPC4",27,0)
 W !?22,"------------------------------------"
"RTN","ONCNPC4",28,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC4",29,0)
DOFCT W !,"DATE OF FIRST COURSE OF TREATMENT.: ",DOFCT
"RTN","ONCNPC4",30,0)
S W !!,"SURGERY"
"RTN","ONCNPC4",31,0)
 W !,"-------"
"RTN","ONCNPC4",32,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCNPC4",33,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCNPC4",34,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<46 S CDS1=CDS G CDS
"RTN","ONCNPC4",35,0)
 S NOP=$L($E(CDS,1,46)," ")
"RTN","ONCNPC4",36,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCNPC4",37,0)
CDS W !,"  SURGERY OF PRIMARY SITE DATE....: ",CDSDT
"RTN","ONCNPC4",38,0)
 W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCNPC4",39,0)
 I (CDS="")!($E(CDS,1,2)="00") D  G:(Y=0)!(Y="") EXIT G R
"RTN","ONCNPC4",40,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,10)="C888"
"RTN","ONCNPC4",41,0)
 .W !,"  EXTRANODAL SURGERY SITE.........: None"
"RTN","ONCNPC4",42,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,11)="00"
"RTN","ONCNPC4",43,0)
 .W !,"  EXTRANODAL SURGICAL PROCEDURE...: 00 No additional surgical procedures"
"RTN","ONCNPC4",44,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4",45,0)
 S DR="855  EXTRANODAL SURGERY SITE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",46,0)
 S DR="856  EXTRANODAL SURGICAL PROCEDURE..." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",47,0)
R W !!,"RADIATION THERAPY"
"RTN","ONCNPC4",48,0)
 W !,"-----------------"
"RTN","ONCNPC4",49,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCNPC4",50,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCNPC4",51,0)
 W !,"  RADIATION DATE..................: ",RADDT
"RTN","ONCNPC4",52,0)
 W !,"  RADIATION ......................: ",RADOT
"RTN","ONCNPC4",53,0)
 I RAD=0 D  G C
"RTN","ONCNPC4",54,0)
 .W !!,"  IRRADIATED FIELDS:",!
"RTN","ONCNPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,12)=2
"RTN","ONCNPC4",56,0)
 .W !,"    LYMPH NODES ABOVE DIAPHRAGM...: Not irradiated"
"RTN","ONCNPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,13)=2
"RTN","ONCNPC4",58,0)
 .W !,"    LYMPH NODES BELOW DIAPHRAGM...: Not irradiated"
"RTN","ONCNPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,14)=2
"RTN","ONCNPC4",60,0)
 .W !,"    BRAIN.........................: Not irradiated"
"RTN","ONCNPC4",61,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,15)=2
"RTN","ONCNPC4",62,0)
 .W !,"    OTHER EXTRANODAL SITE(S)......: Not irradiated"
"RTN","ONCNPC4",63,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,16)=2
"RTN","ONCNPC4",64,0)
 .W !,"    TOTAL BODY....................: Not irradiated"
"RTN","ONCNPC4",65,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,17)=8
"RTN","ONCNPC4",66,0)
 .W !!,"  RADIATION/CHEMOTHERAPY SEQUENCE.: NA, no radiation and/or no chemo given"
"RTN","ONCNPC4",67,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4",68,0)
 I RAD=9 D  G C
"RTN","ONCNPC4",69,0)
 .W !!,"  IRRADIATED FIELDS:",!
"RTN","ONCNPC4",70,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,12)=8
"RTN","ONCNPC4",71,0)
 .W !,"    LYMPH NODES ABOVE DIAPHRAGM...: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,13)=8
"RTN","ONCNPC4",73,0)
 .W !,"    LYMPH NODES BELOW DIAPHRAGM...: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,14)=8
"RTN","ONCNPC4",75,0)
 .W !,"    BRAIN.........................: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,15)=8
"RTN","ONCNPC4",77,0)
 .W !,"    OTHER EXTRANODAL SITE(S)......: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",78,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,16)=8
"RTN","ONCNPC4",79,0)
 .W !,"    TOTAL BODY....................: NA, unknown if radiation therapy given"
"RTN","ONCNPC4",80,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,17)=7
"RTN","ONCNPC4",81,0)
 .W !!,"  RADIATION/CHEMOTHERAPY SEQUENCE.: Unknown if radiation and/or chemo given"
"RTN","ONCNPC4",82,0)
 W !!,"  IRRADIATED FIELDS:",!
"RTN","ONCNPC4",83,0)
 S DR="857    LYMPH NODES ABOVE DIAPHRAGM..." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",84,0)
 S DR="858    LYMPH NODES BELOW DIAPHRAGM..." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",85,0)
 S DR="859    BRAIN........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",86,0)
 S DR="860    OTHER EXTRANODAL SITE(S)......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",87,0)
 S DR="861    TOTAL BODY...................." D ^DIE G:$D(Y) JUMP W !
"RTN","ONCNPC4",88,0)
 S DR="862  RADIATION/CHEMOTHERAPY SEQUENCE." D ^DIE G:$D(Y) JUMP W !
"RTN","ONCNPC4",89,0)
C W !!,"CHEMOTHERAPY"
"RTN","ONCNPC4",90,0)
 W !,"------------"
"RTN","ONCNPC4",91,0)
 S DR="863  PROTOCOL........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4",92,0)
 D SC^ONCNPC4A
"RTN","ONCNPC4",93,0)
 G EXIT
"RTN","ONCNPC4",94,0)
JUMP ;Jump to prompts
"RTN","ONCNPC4",95,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC4",96,0)
 I X["?" D  G JUMP
"RTN","ONCNPC4",97,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4",98,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC4",99,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4",100,0)
 S X=TABLE(X)
"RTN","ONCNPC4",101,0)
 G @X
"RTN","ONCNPC4",102,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCNPC4",103,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,LOS,NOP,RAD,RADOT,RADDT,DIQ
"RTN","ONCNPC4",104,0)
 Q
"RTN","ONCNPC4A")
0^141^B24957911
"RTN","ONCNPC4A",1,0)
ONCNPC4A ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table IV;4/18/97
"RTN","ONCNPC4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC4A",3,0)
SC W !!,"SYSTEMIC CHEMOTHERAPY"
"RTN","ONCNPC4A",4,0)
 W !,"---------------------"
"RTN","ONCNPC4A",5,0)
 S DR="864  SYSTEMIC CHEMOTHERAPY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",6,0)
 I X=0 D  G IC
"RTN","ONCNPC4A",7,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,20)="0000000"
"RTN","ONCNPC4A",8,0)
 .W !,"  SYSTEMIC CHEMOTHERAPY DATE......: 00/00/0000"
"RTN","ONCNPC4A",9,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,21)=88
"RTN","ONCNPC4A",10,0)
 .W !,"  NUMBER OF PLANNED CYCLES........: NA"
"RTN","ONCNPC4A",11,0)
 .W !!,"  AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",!
"RTN","ONCNPC4A",12,0)
 .W !,"    SINGLE-AGENT CHEMOTHERAPY:",!
"RTN","ONCNPC4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,22)=8
"RTN","ONCNPC4A",14,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,23)=8
"RTN","ONCNPC4A",15,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,24)=8
"RTN","ONCNPC4A",16,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,25)=8
"RTN","ONCNPC4A",17,0)
 .W !,"      CHLORAMBUCIL.....: NA   DOXORUBICIN......: NA"
"RTN","ONCNPC4A",18,0)
 .W !,"      CYCLOPHOSPHAMIDE.: NA   FLUDARABINE......: NA"
"RTN","ONCNPC4A",19,0)
 .W !!,"    COMBINATION CHEMOTHERAPY:",!
"RTN","ONCNPC4A",20,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,26)=8
"RTN","ONCNPC4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,27)=8
"RTN","ONCNPC4A",22,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,28)=8
"RTN","ONCNPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,29)=8
"RTN","ONCNPC4A",24,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,30)=8
"RTN","ONCNPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,31)=8
"RTN","ONCNPC4A",26,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,32)=8
"RTN","ONCNPC4A",27,0)
 .W !,"      CHOP.............: NA   M-BACOD..........: NA"
"RTN","ONCNPC4A",28,0)
 .W !,"      CVP..............: NA   PRO-MACE-Cyta BOM: NA"
"RTN","ONCNPC4A",29,0)
 .W !,"      COMLA............: NA   OTHER............: NA"
"RTN","ONCNPC4A",30,0)
 .W !,"      MACOP-B..........: NA"
"RTN","ONCNPC4A",31,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,33)=0
"RTN","ONCNPC4A",32,0)
 .W !!,"    HIGH DOSE W STEM CELL RESCUE..: No"
"RTN","ONCNPC4A",33,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4A",34,0)
 I X=9 D  G IC
"RTN","ONCNPC4A",35,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,20)="0000000"
"RTN","ONCNPC4A",36,0)
 .W !,"  SYSTEMIC CHEMOTHERAPY DATE......: 00/00/0000"
"RTN","ONCNPC4A",37,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,21)=99
"RTN","ONCNPC4A",38,0)
 .W !,"  NUMBER OF PLANNED CYCLES........: Unknown if chemotherapy given"
"RTN","ONCNPC4A",39,0)
 .W !!,"  AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",!
"RTN","ONCNPC4A",40,0)
 .W !,"    SINGLE-AGENT CHEMOTHERAPY:",!
"RTN","ONCNPC4A",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,22)=9
"RTN","ONCNPC4A",42,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,23)=9
"RTN","ONCNPC4A",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,24)=9
"RTN","ONCNPC4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,25)=9
"RTN","ONCNPC4A",45,0)
 .W !,"      CHLORAMBUCIL.....: Unknown if given   DOXORUBICIN......: Unknown if given"
"RTN","ONCNPC4A",46,0)
 .W !,"      CYCLOPHOSPHAMIDE.: Unknown if given   FLUDARABINE......: Unknown if given"
"RTN","ONCNPC4A",47,0)
 .W !!,"    COMBINATION CHEMOTHERAPY:",!
"RTN","ONCNPC4A",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,26)=9
"RTN","ONCNPC4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,27)=9
"RTN","ONCNPC4A",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,28)=9
"RTN","ONCNPC4A",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,29)=9
"RTN","ONCNPC4A",52,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,30)=9
"RTN","ONCNPC4A",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,31)=9
"RTN","ONCNPC4A",54,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,32)=9
"RTN","ONCNPC4A",55,0)
 .W !,"      CHOP.............: Unknown if given   M-BACOD..........: Unknown if given"
"RTN","ONCNPC4A",56,0)
 .W !,"      CVP..............: Unknown if given   PRO-MACE-Cyta BOM: Unknown if given"
"RTN","ONCNPC4A",57,0)
 .W !,"      COMLA............: Unknown if given   OTHER............: Unknown if given"
"RTN","ONCNPC4A",58,0)
 .W !,"      MACOP-B..........: Unknown if given"
"RTN","ONCNPC4A",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,33)=9
"RTN","ONCNPC4A",60,0)
 .W !!,"    HIGH DOSE W STEM CELL RESCUE..: Unknown if given"
"RTN","ONCNPC4A",61,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  D HEAD^ONCNPC0
"RTN","ONCNPC4A",62,0)
 S DR="865  SYSTEMIC CHEMOTHERAPY DATE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",63,0)
 S DR="866  NUMBER OF PLANNED CYCLES........" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",64,0)
 W !!,"  AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",!
"RTN","ONCNPC4A",65,0)
 W !,"    SINGLE-AGENT CHEMOTHERAPY:",!
"RTN","ONCNPC4A",66,0)
 S DR="867      CHLORAMBUCIL................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",67,0)
 S DR="868      CYCLOPHOSPHAMIDE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",68,0)
 S DR="869      DOXORUBICIN................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",69,0)
 S DR="870      FLUDARABINE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",70,0)
 W !!,"    COMBINATION CHEMOTHERAPY:",!
"RTN","ONCNPC4A",71,0)
 S DR="871      CHOP........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",72,0)
 S DR="872      CVP........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",73,0)
 S DR="873      COMLA......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",74,0)
 S DR="874      MACOP-B....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",75,0)
 S DR="875      M-BACOD....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",76,0)
 S DR="876      PRO-MACE-Cyta BOM..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",77,0)
 S DR="877      OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",78,0)
 W !
"RTN","ONCNPC4A",79,0)
 S DR="878  HIGH DOSE W STEM CELL RESCUE...." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",80,0)
IC W !!,"INTRATHECAL CHEMOTHERAPY"
"RTN","ONCNPC4A",81,0)
 W !,"------------------------"
"RTN","ONCNPC4A",82,0)
 S DR="879  INTRATHECAL CHEMOTHERAPY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",83,0)
 I X=0 D  G I
"RTN","ONCNPC4A",84,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,35)=7
"RTN","ONCNPC4A",85,0)
 .W !,"  PURPOSE.........................: NA, not administered"
"RTN","ONCNPC4A",86,0)
 I X=9 D  G I
"RTN","ONCNPC4A",87,0)
 .S $P(^ONCO(165.5,ONCONUM,"NHL2"),U,35)=9
"RTN","ONCNPC4A",88,0)
 .W !,"  PURPOSE.........................: Unknown if administered"
"RTN","ONCNPC4A",89,0)
 S DR="880  PURPOSE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",90,0)
I W !!,"IMMUNOTHERAPY"
"RTN","ONCNPC4A",91,0)
 W !,"-------------"
"RTN","ONCNPC4A",92,0)
 S DR="881  INTERLEUKIN-2 (IL-2)............" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",93,0)
 S DR="882  INTERFERON......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",94,0)
 S DR="883  MONOCLONAL ANTIBODIES..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",95,0)
 S DR="884  VACCINE THERAPY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC4A",96,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC4A",97,0)
 Q
"RTN","ONCNPC4A",98,0)
JUMP ;Jump to prompts
"RTN","ONCNPC4A",99,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT^ONCNPC4
"RTN","ONCNPC4A",100,0)
 I X["?" D  G JUMP
"RTN","ONCNPC4A",101,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4A",102,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC4A",103,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC4A",104,0)
 S X=TABLE(X)
"RTN","ONCNPC4A",105,0)
 G @X
"RTN","ONCNPC5")
0^142^B2756999
"RTN","ONCNPC5",1,0)
ONCNPC5 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table V;4/23/97
"RTN","ONCNPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC5",3,0)
 K TABLE,HTABLE S OUT=""
"RTN","ONCNPC5",4,0)
 S TABLE("DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCNPC5",5,0)
 S TABLE("TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCNPC5",6,0)
 S TABLE("OTHER TYPE OF FIRST RECURRENCE")="OTOFR"
"RTN","ONCNPC5",7,0)
 S HTABLE(1)="DATE OF FIRST RECURRENCE"
"RTN","ONCNPC5",8,0)
 S HTABLE(2)="TYPE OF FIRST RECURRENCE"
"RTN","ONCNPC5",9,0)
 S HTABLE(3)="OTHER TYPE OF FIRST RECURRENCE"
"RTN","ONCNPC5",10,0)
 S CHOICES=3
"RTN","ONCNPC5",11,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC5",12,0)
 W !?27,"TABLE V - FIRST RECURRENCE"
"RTN","ONCNPC5",13,0)
 W !?27,"--------------------------"
"RTN","ONCNPC5",14,0)
DOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC5",15,0)
 S DR="70DATE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC5",16,0)
TOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC5",17,0)
 S DR="71TYPE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC5",18,0)
OTOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC5",19,0)
 S DR="71.4OTHER TYPE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC5",20,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC5",21,0)
 G EXIT
"RTN","ONCNPC5",22,0)
JUMP ;Jump to prompts
"RTN","ONCNPC5",23,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC5",24,0)
 I X["?" D  G JUMP
"RTN","ONCNPC5",25,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC5",26,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC5",27,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC5",28,0)
 S X=TABLE(X)
"RTN","ONCNPC5",29,0)
 G @X
"RTN","ONCNPC5",30,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCNPC5",31,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCNPC5",32,0)
 Q
"RTN","ONCNPC6")
0^143^B4957274
"RTN","ONCNPC6",1,0)
ONCNPC6 ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Table VII;4/23/97
"RTN","ONCNPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC6",3,0)
 K TABLE,HTABLE
"RTN","ONCNPC6",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCNPC6",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCNPC6",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCNPC6",7,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCNPC6",8,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCNPC6",9,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCNPC6",10,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCNPC6",11,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCNPC6",12,0)
 S HTABLE(4)="COMPLETED BY"
"RTN","ONCNPC6",13,0)
 S HTABLE(5)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCNPC6",14,0)
 S CHOICES=5
"RTN","ONCNPC6",15,0)
 W @IOF D HEAD^ONCNPC0
"RTN","ONCNPC6",16,0)
 W !?23,"TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCNPC6",17,0)
 W !?23,"---------------------------------"
"RTN","ONCNPC6",18,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCNPC6",19,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCNPC6",20,0)
 W !,"DATE OF LAST CONTACT OR DEATH: ",DLC
"RTN","ONCNPC6",21,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCNPC6",22,0)
 S DR="15VITAL STATUS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC6",23,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCNPC6",24,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCNPC6",25,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCNPC6",26,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCNPC6",27,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCNPC6",28,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCNPC6",29,0)
 W !,"CANCER STATUS................: ",CS
"RTN","ONCNPC6",30,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC6",31,0)
 S DR="81COMPLETED BY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC6",32,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCNPC6",33,0)
 S DR="82REVIEWED BY CANCER COMMITTEE." D ^DIE G:$D(Y) JUMP
"RTN","ONCNPC6",34,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC6",35,0)
 G EXIT
"RTN","ONCNPC6",36,0)
JUMP ;Jump to prompts
"RTN","ONCNPC6",37,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCNPC6",38,0)
 I X["?" D  G JUMP
"RTN","ONCNPC6",39,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC6",40,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCNPC6",41,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCNPC6",42,0)
 S X=TABLE(X)
"RTN","ONCNPC6",43,0)
 G @X
"RTN","ONCNPC6",44,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCNPC6",45,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCNPC6",46,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCNPC6",47,0)
 Q
"RTN","ONCNPC8")
0^144^B21963914
"RTN","ONCNPC8",1,0)
ONCNPC8 ;Hines OIFO/GWB - PCE Study of Non-Hodgkin's Lymphoma ;05/30/0
"RTN","ONCNPC8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC8",3,0)
 ;Print
"RTN","ONCNPC8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCNPC8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCNPC8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCNPC8",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IEN=ONCONUM,LINE=""
"RTN","ONCNPC8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCNPC8",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCNPC8",10,0)
 S DR=".04;.05;.06;.1;.12;3;4;9;18;19;20;22;26;38;50;51;51.2;58.2;70;71;71.4;81;82;88;89;313;421;504;505;506;512;514;516;563;800:899"
"RTN","ONCNPC8",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCNPC8",12,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCNPC8",13,0)
 D HDR
"RTN","ONCNPC8",14,0)
 W !," 1. INSTITUTION ID NUMBER...........: H6",$$IIN^ONCFUNC D P Q:EX=U
"RTN","ONCNPC8",15,0)
 W !!?4,TABLE,!?4,"-----------------------------"
"RTN","ONCNPC8",16,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCNPC8",17,0)
 W !," 2. ACCESSION NUMBER................: ",ONC(165.5,IEN,.05) D P Q:EX=U
"RTN","ONCNPC8",18,0)
 W !," 3. SEQUENCE NUMBER.................: ",ONC(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCNPC8",19,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS........: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCNPC8",20,0)
 W !," 5. DATE OF BIRTH...................: ",DOB D P Q:EX=U
"RTN","ONCNPC8",21,0)
 W !," 6. AGE AT DIAGNOSIS................: ",ONC(165.5,IEN,4) D P Q:EX=U
"RTN","ONCNPC8",22,0)
 W !," 7. RACE............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCNPC8",23,0)
 W !," 8. SPANISH ORIGIN..................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCNPC8",24,0)
 W !," 9. SEX.............................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCNPC8",25,0)
 W !,"10. PRIMARY PAYER AT DIAGNOSIS......: ",ONC(165.5,IEN,18)
"RTN","ONCNPC8",26,0)
 S LINE="-----------------------------------------"
"RTN","ONCNPC8",27,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G FHC
"RTN","ONCNPC8",28,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",29,0)
FHC W !,"11. FAMILY HISTORY OF CANCER:" D P Q:EX=U
"RTN","ONCNPC8",30,0)
 W !,"      LEUKEMIA......................: ",ONC(165.5,IEN,800) D P Q:EX=U
"RTN","ONCNPC8",31,0)
 W !,"      NON-HODGKIN'S LYMPHOMA........: ",ONC(165.5,IEN,801) D P Q:EX=U
"RTN","ONCNPC8",32,0)
 W !,"      HODGKIN'S LYMPHOMA............: ",ONC(165.5,IEN,802) D P Q:EX=U
"RTN","ONCNPC8",33,0)
 W !,"      OTHER CANCER..................: ",ONC(165.5,IEN,313) D P Q:EX=U
"RTN","ONCNPC8",34,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",35,0)
PHAC W !,"12. PERSONAL HISTORY OF ANY CANCER:" D P Q:EX=U
"RTN","ONCNPC8",36,0)
 W !,"      1ST PRIMARY SITE..............: ",ONC(165.5,IEN,803) D P Q:EX=U
"RTN","ONCNPC8",37,0)
 W !,"      1ST PRIMARY HISTOLOGY.........: ",ONC(165.5,IEN,804) D P Q:EX=U
"RTN","ONCNPC8",38,0)
 W !,"      2ND PRIMARY SITE..............: ",ONC(165.5,IEN,805) D P Q:EX=U
"RTN","ONCNPC8",39,0)
 W !,"      2ND PRIMARY HISTOLOGY.........: ",ONC(165.5,IEN,806)
"RTN","ONCNPC8",40,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G PC
"RTN","ONCNPC8",41,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",42,0)
PC W !,"13. PRE-EXISTING CONDITIONS:" D P Q:EX=U
"RTN","ONCNPC8",43,0)
 W !,"      ORGAN TRANSPLANT..............: ",ONC(165.5,IEN,807) D P Q:EX=U
"RTN","ONCNPC8",44,0)
 W !,"      HIV POSITIVE..................: ",ONC(165.5,IEN,808) D P Q:EX=U
"RTN","ONCNPC8",45,0)
 W !,"      CROHN'S DIS/ULCERATIVE COLITIS: ",ONC(165.5,IEN,809) D P Q:EX=U
"RTN","ONCNPC8",46,0)
 W !,"      HASHIMOTO'S THYROIDITIS.......: ",ONC(165.5,IEN,810) D P Q:EX=U
"RTN","ONCNPC8",47,0)
 W !,"      SYSTEMIC LUPUS ERYTHEMATOSUS..: ",ONC(165.5,IEN,811) D P Q:EX=U
"RTN","ONCNPC8",48,0)
 W !,"      RHEUMATOID ARTHRITIS/SJOGREN'S: ",ONC(165.5,IEN,812) D P Q:EX=U
"RTN","ONCNPC8",49,0)
 W !,"      PNEUMOCYSTIS CARINII..........: ",ONC(165.5,IEN,813) D P Q:EX=U
"RTN","ONCNPC8",50,0)
 W !,"      CMV INFECTION.................: ",ONC(165.5,IEN,814) D P Q:EX=U
"RTN","ONCNPC8",51,0)
 W !,"      TUBERCULOSIS..................: ",ONC(165.5,IEN,815) D P Q:EX=U
"RTN","ONCNPC8",52,0)
 W !,"      MYCOBACTERIUM AVIUM...........: ",ONC(165.5,IEN,816) D P Q:EX=U
"RTN","ONCNPC8",53,0)
 W !,"      OTHER PARASITIC INFECTIONS....: ",ONC(165.5,IEN,817) D P Q:EX=U
"RTN","ONCNPC8",54,0)
 W !,"      OTHER CONGENITAL DISEASES.....: ",ONC(165.5,IEN,818) D P Q:EX=U
"RTN","ONCNPC8",55,0)
 W !,"      OPPORTUNISTIC DISEASE.........: ",ONC(165.5,IEN,819)
"RTN","ONCNPC8",56,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?4,TABLE_" (continued)",!?4,LINE G PCRT
"RTN","ONCNPC8",57,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",58,0)
PCRT W !,"14. PREVIOUS CHEMOTHERAPY/RADIATION THERAPY:" D P Q:EX=U
"RTN","ONCNPC8",59,0)
 W !,"      CHEMOTHERAPY..................: ",ONC(165.5,IEN,820) D P Q:EX=U
"RTN","ONCNPC8",60,0)
 W !,"      RADIATION THERAPY.............: ",ONC(165.5,IEN,821) D P Q:EX=U
"RTN","ONCNPC8",61,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8",62,0)
 W !,"15. AIDS RISK CATEGORY..............: ",ONC(165.5,IEN,822)
"RTN","ONCNPC8",63,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCNPC8",64,0)
 D P Q:EX=U
"RTN","ONCNPC8",65,0)
II D ^ONCNPC8A
"RTN","ONCNPC8",66,0)
KILL ;Kill Variables and Exit
"RTN","ONCNPC8",67,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS,LINE
"RTN","ONCNPC8",68,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE,OSP
"RTN","ONCNPC8",69,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCNPC8",70,0)
 Q
"RTN","ONCNPC8",71,0)
P ;Print
"RTN","ONCNPC8",72,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCNPC8",73,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCNPC8",74,0)
 .D HDR Q
"RTN","ONCNPC8",75,0)
 Q
"RTN","ONCNPC8",76,0)
TASK ;Queue a task
"RTN","ONCNPC8",77,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCNPC8",78,0)
 S ZTRTN="PRT^ONCNPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCNPC8",79,0)
 S ZTDESC="Print Non-Hodgkin's Lymphoma PCE"
"RTN","ONCNPC8",80,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCNPC8",81,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCNPC8",82,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCNPC8",83,0)
HDR ;Header
"RTN","ONCNPC8",84,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCNPC8",85,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCNPC8",86,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCNPC8",87,0)
 W !?19,"PCE Study of Non-Hodgkin's Lymphoma"
"RTN","ONCNPC8",88,0)
 W ?62,ONDATE,!,DASHES
"RTN","ONCNPC8",89,0)
 Q
"RTN","ONCNPC8A")
0^145^B15586688
"RTN","ONCNPC8A",1,0)
ONCNPC8A ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Print (continued);5/13/97
"RTN","ONCNPC8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC8A",3,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCNPC8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8A",5,0)
 W !?4,TABLE,!?4,"----------------------------" D P Q:EX=U
"RTN","ONCNPC8A",6,0)
 W !,"16. CLASS OF CASE...................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCNPC8A",7,0)
 W !,"17. DIAGNOSTIC CONFIRMATION.........: ",ONC(165.5,IEN,26)
"RTN","ONCNPC8A",8,0)
 I IOST'?1"C".E W ! D P Q:EX=U
"RTN","ONCNPC8A",9,0)
DW W !,"18. DIAGNOSTIC WORKUP:" D P Q:EX=U
"RTN","ONCNPC8A",10,0)
 W !,"      CHEST X-RAY...................: ",ONC(165.5,IEN,505) D P Q:EX=U
"RTN","ONCNPC8A",11,0)
 W !,"      SKELETAL X-RAY................: ",ONC(165.5,IEN,512) D P Q:EX=U
"RTN","ONCNPC8A",12,0)
 W !,"      CT SCAN OF BRAIN..............: ",ONC(165.5,IEN,823) D P Q:EX=U
"RTN","ONCNPC8A",13,0)
 W !,"      CT SCAN OF CHEST..............: ",ONC(165.5,IEN,506) D P Q:EX=U
"RTN","ONCNPC8A",14,0)
 W !,"      CT SCAN OF ABDOMEN/PELVIS.....: ",ONC(165.5,IEN,824) D P Q:EX=U
"RTN","ONCNPC8A",15,0)
 W !,"      MRI OF BRAIN..................: ",ONC(165.5,IEN,825) D P Q:EX=U
"RTN","ONCNPC8A",16,0)
 W !,"      MRI OF CHEST..................: ",ONC(165.5,IEN,826) D P Q:EX=U
"RTN","ONCNPC8A",17,0)
 W !,"      MRI OF ABDOMEN/PELVIS.........: ",ONC(165.5,IEN,827) D P Q:EX=U
"RTN","ONCNPC8A",18,0)
 W !,"      BONE SCAN.....................: ",ONC(165.5,IEN,504) D P Q:EX=U
"RTN","ONCNPC8A",19,0)
 W !,"      GALLIUM SCAN..................: ",ONC(165.5,IEN,828) D P Q:EX=U
"RTN","ONCNPC8A",20,0)
 W !,"      PET SCAN......................: ",ONC(165.5,IEN,829)
"RTN","ONCNPC8A",21,0)
 W !,"      LUMBAR PUNCTURE...............: ",ONC(165.5,IEN,830)
"RTN","ONCNPC8A",22,0)
 S LINE="----------------------------------------"
"RTN","ONCNPC8A",23,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G RLT
"RTN","ONCNPC8A",24,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",25,0)
RLT W !,"19. RESULTS OF LABORATORY TESTS:" D P Q:EX=U
"RTN","ONCNPC8A",26,0)
 W !,"      HEMOGLOBIN/HEMATOCRIT.........: ",ONC(165.5,IEN,831) D P Q:EX=U
"RTN","ONCNPC8A",27,0)
 W !,"      WHITE COUNT...................: ",ONC(165.5,IEN,832) D P Q:EX=U
"RTN","ONCNPC8A",28,0)
 W !,"      PLATELET COUNT................: ",ONC(165.5,IEN,833) D P Q:EX=U
"RTN","ONCNPC8A",29,0)
 W !,"      LACTIC DEHYDROGENASE (LDH)....: ",ONC(165.5,IEN,834) D P Q:EX=U
"RTN","ONCNPC8A",30,0)
 W !,"      LIVER FUNCTION STUDIES........: ",ONC(165.5,IEN,835) D P Q:EX=U
"RTN","ONCNPC8A",31,0)
 W !,"      TOTAL PROTEIN/ALBUMIN.........: ",ONC(165.5,IEN,836)
"RTN","ONCNPC8A",32,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",33,0)
AT W !,"20. ADDITIONAL TESTS:" D P Q:EX=U
"RTN","ONCNPC8A",34,0)
 W !,"      TUMOR SURFACE MARKER..........: ",ONC(165.5,IEN,516) D P Q:EX=U
"RTN","ONCNPC8A",35,0)
 W !,"      CYTOGENETIC TESTING...........: ",ONC(165.5,IEN,514) D P Q:EX=U
"RTN","ONCNPC8A",36,0)
 W !,"      GENE REARRANGEMENTS...........: ",ONC(165.5,IEN,837) D P Q:EX=U
"RTN","ONCNPC8A",37,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",38,0)
 W !,"21. REVIEW OF PATHOLOGY/OTH INST....: ",ONC(165.5,IEN,838)
"RTN","ONCNPC8A",39,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G DB
"RTN","ONCNPC8A",40,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8A",41,0)
DB W !,"22. DIAGNOSTIC BIOPSIES:" D P Q:EX=U
"RTN","ONCNPC8A",42,0)
 W !,"      LYMPH NODE....................: ",ONC(165.5,IEN,839) D P Q:EX=U
"RTN","ONCNPC8A",43,0)
 W !,"      BONE MARROW...................: ",ONC(165.5,IEN,840) D P Q:EX=U
"RTN","ONCNPC8A",44,0)
 W !,"      CSF CYTOLOGY..................: ",ONC(165.5,IEN,841) D P Q:EX=U
"RTN","ONCNPC8A",45,0)
 W !,"      OTHER SITE....................: ",ONC(165.5,IEN,842) D P Q:EX=U
"RTN","ONCNPC8A",46,0)
 W !!,"23. SYSTEMIC SYSTEMS................: ",ONC(165.5,IEN,843) D P Q:EX=U
"RTN","ONCNPC8A",47,0)
DTSRTHD W !!,"24. DIAGNOSTIC TESTS SPECIFICALLY RELATED TO HIV DISEASE:" D P Q:EX=U
"RTN","ONCNPC8A",48,0)
 W !,"      CD4 COUNT.....................: ",ONC(165.5,IEN,844) D P Q:EX=U
"RTN","ONCNPC8A",49,0)
 W !,"      HIV VIRAL LOADS...............: ",ONC(165.5,IEN,845) D P Q:EX=U
"RTN","ONCNPC8A",50,0)
 W !!,"25. DATE OF INITIAL DIAGNOSIS.......: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCNPC8A",51,0)
 W !,"26. PRIMARY SITE....................: ",TOPCOD," ",ONC(165.5,IEN,20)
"RTN","ONCNPC8A",52,0)
 W !,"27. HISTOLOGY/29. BEHAVIOR CODE.....: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCNPC8A",53,0)
 W !,"28. SPECIFIC HISTOLOGIC INFO........: ",ONC(165.5,IEN,846) D P Q:EX=U
"RTN","ONCNPC8A",54,0)
 W !,"30. CELL TYPE OF LYMPHOMA...........: ",ONC(165.5,IEN,847) D P Q:EX=U
"RTN","ONCNPC8A",55,0)
 W !,"31. PATIENT STATUS OF DIAGNOSIS.....: ",ONC(165.5,IEN,848) D P Q:EX=U
"RTN","ONCNPC8A",56,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G III
"RTN","ONCNPC8A",57,0)
 D P Q:EX=U
"RTN","ONCNPC8A",58,0)
III D ^ONCNPC8B
"RTN","ONCNPC8A",59,0)
KILL ;Kill Variables and Exit
"RTN","ONCNPC8A",60,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS,LINE
"RTN","ONCNPC8A",61,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCNPC8A",62,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCNPC8A",63,0)
 Q
"RTN","ONCNPC8A",64,0)
P ;Print
"RTN","ONCNPC8A",65,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCNPC8A",66,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCNPC8A",67,0)
 .D HDR^ONCNPC8 Q
"RTN","ONCNPC8A",68,0)
 Q
"RTN","ONCNPC8B")
0^146^B33295209
"RTN","ONCNPC8B",1,0)
ONCNPC8B ;HIRMFO/GWB - PCE Study of Non-Hodgkin's Lymphoma - Print (continued);5/14/97
"RTN","ONCNPC8B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPC8B",3,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCNPC8B",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8B",5,0)
 W !?4,TABLE,!?4,"--------------------------------------------" D P Q:EX=U
"RTN","ONCNPC8B",6,0)
ACSG W !,"32. AJCC CLINICAL STAGE GROUP.......: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCNPC8B",7,0)
CSB W !,"33. CLINICALLY STAGED BY............: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCNPC8B",8,0)
APSG W !,"34. AJCC PATHOLOGIC STAGE GROUP.....: ",ONC(165.5,IEN,88) D P Q:EX=U
"RTN","ONCNPC8B",9,0)
PSB W !,"35. PATHOLOGICALLY STAGED BY........: ",ONC(165.5,IEN,89) D P Q:EX=U
"RTN","ONCNPC8B",10,0)
TOSS W !,"36. TYPE OF STAGING SYS (PEDIATRIC).: ",ONC(165.5,IEN,849) D P Q:EX=U
"RTN","ONCNPC8B",11,0)
PS W !,"37. PEDIATRIC STAGE.................: ",ONC(165.5,IEN,850) D P Q:EX=U
"RTN","ONCNPC8B",12,0)
SB W !,"38. STAGED BY (PEDIATRIC STAGE).....: ",ONC(165.5,IEN,851) D P Q:EX=U
"RTN","ONCNPC8B",13,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",14,0)
ES W !,"39. EXTRANODAL SITES:"
"RTN","ONCNPC8B",15,0)
 W !,"      EXTRANODAL SITE 1.............: ",ONC(165.5,IEN,852) D P Q:EX=U
"RTN","ONCNPC8B",16,0)
 W !,"      EXTRANODAL SITE 2.............: ",ONC(165.5,IEN,853) D P Q:EX=U
"RTN","ONCNPC8B",17,0)
 W !,"      EXTRANODAL SITE 3.............: ",ONC(165.5,IEN,854) D P Q:EX=U
"RTN","ONCNPC8B",18,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G IV
"RTN","ONCNPC8B",19,0)
 D P Q:EX=U
"RTN","ONCNPC8B",20,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCNPC8B",21,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8B",22,0)
 W !?4,TABLE,!?4,"------------------------------------" D P Q:EX=U
"RTN","ONCNPC8B",23,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCNPC8B",24,0)
 W !,"40. FIRST COURSE OF TREATMENT DATE..: ",DOIT D P Q:EX=U
"RTN","ONCNPC8B",25,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCNPC8B",26,0)
CDS S CDS=ONC(165.5,IEN,58.2)
"RTN","ONCNPC8B",27,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCNPC8B",28,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCNPC8B",29,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCNPC8B",30,0)
S W !,"41. SURGERY OF PRIMARY SITE DATE....: ",ONC(165.5,IEN,50) D P Q:EX=U
"RTN","ONCNPC8B",31,0)
 W !,"42A.SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCNPC8B",32,0)
 W !,"42B.EXTRANODAL SURGERY SITE.........: ",ONC(165.5,IEN,855) D P Q:EX=U
"RTN","ONCNPC8B",33,0)
 W !,"42C.EXTRANODAL SURGICAL PROCEDURE...: ",ONC(165.5,IEN,856) D P Q:EX=U
"RTN","ONCNPC8B",34,0)
 S LINE="------------------------------------------------"
"RTN","ONCNPC8B",35,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G R
"RTN","ONCNPC8B",36,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",37,0)
R W !?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCNPC8B",38,0)
 W !,"43. DATE RADIATION STARTED..........: ",ONC(165.5,IEN,51) D P Q:EX=U
"RTN","ONCNPC8B",39,0)
 W !,"44. RADIATION.......................: ",ONC(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCNPC8B",40,0)
 W !!,"45. IRRADIATED FIELDS:" D P Q:EX=U
"RTN","ONCNPC8B",41,0)
 W !,"      LYMPH NODES ABOVE DIAPHRAGM...: ",ONC(165.5,IEN,857) D P Q:EX=U
"RTN","ONCNPC8B",42,0)
 W !,"      LYMPH NODES BELOW DIAPHRAGM...: ",ONC(165.5,IEN,858) D P Q:EX=U
"RTN","ONCNPC8B",43,0)
 W !,"      BRAIN.........................: ",ONC(165.5,IEN,859) D P Q:EX=U
"RTN","ONCNPC8B",44,0)
 W !,"      OTHER EXTRANODAL SITE(S)......: ",ONC(165.5,IEN,860) D P Q:EX=U
"RTN","ONCNPC8B",45,0)
 W !,"      TOTAL BODY....................: ",ONC(165.5,IEN,861) D P Q:EX=U
"RTN","ONCNPC8B",46,0)
 W !!,"46. RADIATION/CHEMOTHERAPY SEQUENCE.: ",ONC(165.5,IEN,862)
"RTN","ONCNPC8B",47,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G C
"RTN","ONCNPC8B",48,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",49,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCNPC8B",50,0)
 W !,"47. PROTOCOL........................: ",ONC(165.5,IEN,863) D P Q:EX=U
"RTN","ONCNPC8B",51,0)
SC W !!?4,"SYSTEMIC CHEMOTHERAPY",!?4,"---------------------" D P Q:EX=U
"RTN","ONCNPC8B",52,0)
 W !,"48. SYSTEMIC CHEMOTHERAPY...........: ",ONC(165.5,IEN,864) D P Q:EX=U
"RTN","ONCNPC8B",53,0)
 W !,"49. SYSTEMIC CHEMOTHERAPY DATE......: ",ONC(165.5,IEN,865) D P Q:EX=U
"RTN","ONCNPC8B",54,0)
 W !,"50. NUMBER OF PLANNED CYCLES........: ",ONC(165.5,IEN,866)
"RTN","ONCNPC8B",55,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G AADSC
"RTN","ONCNPC8B",56,0)
 D P Q:EX=U
"RTN","ONCNPC8B",57,0)
AADSC W !,"51. AGENT ADMINISTERED DURING SYSTEMIC CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCNPC8B",58,0)
 W !,"    SINGLE-AGENT CHEMOTHERAPY:",?42,"COMBINATION CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCNPC8B",59,0)
 W !,"    CHLORAMBUCIL.....: ",ONC(165.5,IEN,867),?42,"CHOP.............: ",ONC(165.5,IEN,871) D P Q:EX=U
"RTN","ONCNPC8B",60,0)
 W !,"    CYCLOPHOSPHAMIDE.: ",ONC(165.5,IEN,868),?42,"CVP..............: ",ONC(165.5,IEN,872) D P Q:EX=U
"RTN","ONCNPC8B",61,0)
 W !,"    DOXORUBICIN......: ",ONC(165.5,IEN,869),?42,"COMLA............: ",ONC(165.5,IEN,873) D P Q:EX=U
"RTN","ONCNPC8B",62,0)
 W !,"    FLUDARABINE......: ",ONC(165.5,IEN,870),?42,"MACOP-B..........: ",ONC(165.5,IEN,874) D P Q:EX=U
"RTN","ONCNPC8B",63,0)
 W !,?42,"M-BACOD..........: ",ONC(165.5,IEN,875) D P Q:EX=U
"RTN","ONCNPC8B",64,0)
 W !,?42,"PRO-MACE-Cyta BOM: ",ONC(165.5,IEN,876) D P Q:EX=U
"RTN","ONCNPC8B",65,0)
 W !,?42,"OTHER............: ",ONC(165.5,IEN,877) D P Q:EX=U
"RTN","ONCNPC8B",66,0)
 W !!,"52. HIGH DOSE W STEM CELL RESCUE....: ",ONC(165.5,IEN,878)
"RTN","ONCNPC8B",67,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 W !?4,TABLE_" (continued)",!?4,LINE G IC
"RTN","ONCNPC8B",68,0)
 D P Q:EX=U
"RTN","ONCNPC8B",69,0)
IC W !?4,"INTRATHECAL CHEMOTHERAPY",!?4,"------------------------" D P Q:EX=U
"RTN","ONCNPC8B",70,0)
 W !,"53. INTRATHECAL CHEMOTHERAPY........: ",ONC(165.5,IEN,879) D P Q:EX=U
"RTN","ONCNPC8B",71,0)
 W !,"54. PURPOSE.........................: ",ONC(165.5,IEN,880) D P Q:EX=U
"RTN","ONCNPC8B",72,0)
I W !!?4,"IMMUNMOTHERAPY",!?4,"--------------" D P Q:EX=U
"RTN","ONCNPC8B",73,0)
 W !,"55. IMMUNOTHERAPY:"
"RTN","ONCNPC8B",74,0)
 W !,"      INTERLEUKIN-2 (IL-2)..........: ",ONC(165.5,IEN,881) D P Q:EX=U
"RTN","ONCNPC8B",75,0)
 W !,"      INTERFERON....................: ",ONC(165.5,IEN,882) D P Q:EX=U
"RTN","ONCNPC8B",76,0)
 W !,"      MONOCLONAL ANTIBODIES.........: ",ONC(165.5,IEN,883) D P Q:EX=U
"RTN","ONCNPC8B",77,0)
 W !,"      VACCINE THERAPY...............: ",ONC(165.5,IEN,884) D P Q:EX=U
"RTN","ONCNPC8B",78,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G V
"RTN","ONCNPC8B",79,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",80,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCNPC8B",81,0)
 W !?4,TABLE,!?4,"--------------------------" D P Q:EX=U
"RTN","ONCNPC8B",82,0)
 W !,"56. DATE OF FIRST RECURRENCE........: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCNPC8B",83,0)
 W !,"57. TYPE OF FIRST RECURRENCE........: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCNPC8B",84,0)
 W !,"58. OTHER TYPE OF FIRST RECURRENCE..: ",ONC(165.5,IEN,71.4) D P Q:EX=U
"RTN","ONCNPC8B",85,0)
 ;I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCNPC8 G VI
"RTN","ONCNPC8B",86,0)
 W ! D P Q:EX=U
"RTN","ONCNPC8B",87,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCNPC8B",88,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCNPC8
"RTN","ONCNPC8B",89,0)
 W !?4,TABLE,!?4,"---------------------------------" D P Q:EX=U
"RTN","ONCNPC8B",90,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCNPC8B",91,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCNPC8B",92,0)
 W !,"59. DATE OF LAST CONTACT OR DEATH...: ",DLC
"RTN","ONCNPC8B",93,0)
 W !,"60. VITAL STATUS....................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCNPC8B",94,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCNPC8B",95,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCNPC8B",96,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCNPC8B",97,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCNPC8B",98,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCNPC8B",99,0)
 W !,"61. CANCER STATUS...................: ",CS
"RTN","ONCNPC8B",100,0)
 W !,"62. COMPLETED BY....................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCNPC8B",101,0)
 W !,"63. REVIEWED BY CANCER COMMITTEE....: ",ONC(165.5,IEN,82) D P Q:EX=U
"RTN","ONCNPC8B",102,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCNPC8B",103,0)
KILL ;Kill Variables and Exit
"RTN","ONCNPC8B",104,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN,LINE
"RTN","ONCNPC8B",105,0)
 Q
"RTN","ONCNPC8B",106,0)
P ;Display Data
"RTN","ONCNPC8B",107,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCNPC8B",108,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCNPC8B",109,0)
 .D HDR^ONCNPC8 Q
"RTN","ONCNPC8B",110,0)
 Q
"RTN","ONCNPI")
0^147^B32186235
"RTN","ONCNPI",1,0)
ONCNPI ;Hines OIFO/GWB - National Provider Identifier ;02/16/07
"RTN","ONCNPI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNPI",3,0)
 ;
"RTN","ONCNPI",4,0)
FNPI ;Check FACILITY (160.19) for NPI (National Provider Identifier)
"RTN","ONCNPI",5,0)
 N Y
"RTN","ONCNPI",6,0)
 I FACPNT="" G FEXIT
"RTN","ONCNPI",7,0)
 D DTDXCK I DTDXCK="N" G FEXIT
"RTN","ONCNPI",8,0)
 S FAC=$P($G(^ONCO(160.19,FACPNT,0)),U,1)
"RTN","ONCNPI",9,0)
 S FACNAM=$P($G(^ONCO(160.19,FACPNT,0)),U,2)
"RTN","ONCNPI",10,0)
 I (FAC="00000000")!(FAC=9999999) G FEXIT
"RTN","ONCNPI",11,0)
 S NPI=$P($G(^ONCO(160.19,FACPNT,0)),U,6)
"RTN","ONCNPI",12,0)
 I NPI="" D ADDFNPI
"RTN","ONCNPI",13,0)
FEXIT K DTDXCK,NPI,FACIEN,FAC,FACNAM,FACPNT
"RTN","ONCNPI",14,0)
 Q
"RTN","ONCNPI",15,0)
 ;
"RTN","ONCNPI",16,0)
DTDXCK ;Check for 2007+ DATE DX (165.5,3)
"RTN","ONCNPI",17,0)
 N PRI
"RTN","ONCNPI",18,0)
 I '$D(ONCOD0) S DTDXCK="Y" Q
"RTN","ONCNPI",19,0)
 S DTDXCK="N"
"RTN","ONCNPI",20,0)
 S PRI=0 F  S PRI=$O(^ONCO(165.5,"C",ONCOD0,PRI)) Q:PRI'>0  I $P($G(^ONCO(165.5,PRI,0)),U,16)>3069999 S DTDXCK="Y" Q
"RTN","ONCNPI",21,0)
 Q
"RTN","ONCNPI",22,0)
 ;
"RTN","ONCNPI",23,0)
ADDFNPI ;Enter Organizational Provider NPI value
"RTN","ONCNPI",24,0)
 W !
"RTN","ONCNPI",25,0)
 W !,"  This facility needs to be associated with"
"RTN","ONCNPI",26,0)
 W !,"  an NPI (National Provider Identifier) code."
"RTN","ONCNPI",27,0)
 W !
"RTN","ONCNPI",28,0)
FNPIR K DIR
"RTN","ONCNPI",29,0)
 S DIR("A")="  Select method of NPI entry: "
"RTN","ONCNPI",30,0)
 S DIR(0)="SAO^1:Get NPI from INSTITUTION file;2:Enter NPI code manually"
"RTN","ONCNPI",31,0)
 S DIR("??")="^D FNPIHLP^ONCNPI"
"RTN","ONCNPI",32,0)
 D ^DIR
"RTN","ONCNPI",33,0)
 I $D(DIRUT) S OUT=1 K DIRUT G FNPIEX
"RTN","ONCNPI",34,0)
 I Y<1 S OUT=1 G FNPIEX
"RTN","ONCNPI",35,0)
 S NPIANS=Y
"RTN","ONCNPI",36,0)
 I NPIANS=2 W ! R "  Enter 10-digit NPI: ",NPI:60 G FNPICHK
"RTN","ONCNPI",37,0)
DIC4 N DIC,DTOUT,DUOUT,INSTIEN
"RTN","ONCNPI",38,0)
 S DIC="^DIC(4,"
"RTN","ONCNPI",39,0)
 S DIC("A")="  Select INSTITUTION: "
"RTN","ONCNPI",40,0)
 S DIC(0)="AEQM"
"RTN","ONCNPI",41,0)
 S DIC("S")="I $P($G(^(""NPI"")),U,1)'="""""
"RTN","ONCNPI",42,0)
 D ^DIC
"RTN","ONCNPI",43,0)
 G:($D(DUOUT))!($D(DTOUT))!(Y=-1) FNPIEX
"RTN","ONCNPI",44,0)
 S INSTIEN=+Y
"RTN","ONCNPI",45,0)
 K DIR
"RTN","ONCNPI",46,0)
 S DIR("A")="  Is this the correct institution",DIR("B")="Y",DIR(0)="Y"
"RTN","ONCNPI",47,0)
 D ^DIR
"RTN","ONCNPI",48,0)
 G SETFNPI:Y,DIC4:Y=0 Q
"RTN","ONCNPI",49,0)
SETFNPI S NPI=$P(^DIC(4,INSTIEN,"NPI"),U,1)
"RTN","ONCNPI",50,0)
FNPICHK I (NPI="")!(NPI=U) W ! G FNPIEX
"RTN","ONCNPI",51,0)
 I NPI'?10N W !!,"The NPI code must be 10 digits.",!! G FNPIR
"RTN","ONCNPI",52,0)
 I $D(^ONCO(160.19,"F",NPI)) D  G FNPIR
"RTN","ONCNPI",53,0)
 .S FACIEN=$O(^ONCO(160.19,"F",NPI,0))
"RTN","ONCNPI",54,0)
 .S FAC=$P(^ONCO(160.19,FACIEN,0),U,2)
"RTN","ONCNPI",55,0)
 .W !!,"  This NPI is already being used by ",FAC,".",!
"RTN","ONCNPI",56,0)
 W !!,"  NPI code ",NPI," has been added for:"
"RTN","ONCNPI",57,0)
 W !,"   ",FACNAM
"RTN","ONCNPI",58,0)
 S $P(^ONCO(160.19,FACPNT,0),U,6)=NPI
"RTN","ONCNPI",59,0)
 S ^ONCO(160.19,"F",NPI,FACPNT)=""
"RTN","ONCNPI",60,0)
FNPIEX W !
"RTN","ONCNPI",61,0)
 K NPIANS Q
"RTN","ONCNPI",62,0)
 ;
"RTN","ONCNPI",63,0)
FNPIIT ;NPI (160.19,101) INPUT TRANSFORM
"RTN","ONCNPI",64,0)
 I $D(^ONCO(160.19,"F",X)) D
"RTN","ONCNPI",65,0)
 .S FACIEN=$O(^ONCO(160.19,"F",X,0))
"RTN","ONCNPI",66,0)
 .I FACIEN'=DA D  K X
"RTN","ONCNPI",67,0)
 ..S FAC=$P(^ONCO(160.19,FACIEN,0),U,2)
"RTN","ONCNPI",68,0)
 ..W !!,"  This NPI code is already being used by ",FAC,".",!
"RTN","ONCNPI",69,0)
 K FACIEN,FAC
"RTN","ONCNPI",70,0)
 Q
"RTN","ONCNPI",71,0)
 ;
"RTN","ONCNPI",72,0)
PNPI ;Check ONCOLOGY CONTACT (165) for NPI (National Provider Identifier)
"RTN","ONCNPI",73,0)
 N Y,DATEDX
"RTN","ONCNPI",74,0)
 I PHYPNT="" G PEXIT
"RTN","ONCNPI",75,0)
 S DATEDX=$$GET1^DIQ(165.5,D0,3,"I")
"RTN","ONCNPI",76,0)
 I (DATEDX<3070000)&(DATEDX'="") G PEXIT
"RTN","ONCNPI",77,0)
 S PHY=$P($G(^ONCO(165,PHYPNT,0)),U,1)
"RTN","ONCNPI",78,0)
 I (PHY="00000000")!(PHY=88888888)!(PHY=99999999) G PEXIT
"RTN","ONCNPI",79,0)
 S NPI=$P($G(^ONCO(165,PHYPNT,0)),U,5)
"RTN","ONCNPI",80,0)
 I NPI="" D ADDPNPI
"RTN","ONCNPI",81,0)
PEXIT K NPI,FACIEN,FAC,FACPNT,PHY,PHYPNT
"RTN","ONCNPI",82,0)
 Q
"RTN","ONCNPI",83,0)
 ;
"RTN","ONCNPI",84,0)
ADDPNPI ;Enter Individual Provider NPI value
"RTN","ONCNPI",85,0)
 W !
"RTN","ONCNPI",86,0)
 W !,"  This provider needs to be associated with"
"RTN","ONCNPI",87,0)
 W !,"  an NPI (National Provider Identifier) code."
"RTN","ONCNPI",88,0)
 W !
"RTN","ONCNPI",89,0)
 ;
"RTN","ONCNPI",90,0)
PNPIR K DIR
"RTN","ONCNPI",91,0)
 S DIR("A")="  Select method of NPI entry: "
"RTN","ONCNPI",92,0)
 S DIR(0)="SAO^1:Get NPI from NEW PERSON file;2:Enter NPI code manually"
"RTN","ONCNPI",93,0)
 S DIR("??")="^D PNPIHLP^ONCNPI"
"RTN","ONCNPI",94,0)
 D ^DIR
"RTN","ONCNPI",95,0)
 I $D(DIRUT) S OUT=1 K DIRUT G PNPIEX
"RTN","ONCNPI",96,0)
 I Y<1 S OUT=1 G PNPIEX
"RTN","ONCNPI",97,0)
 S NPIANS=Y
"RTN","ONCNPI",98,0)
 I NPIANS=2 W ! R "  Enter 10-digit NPI: ",NPI:60 G PNPICHK
"RTN","ONCNPI",99,0)
DIC200 N DTOUT,DUOUT,VAIEN
"RTN","ONCNPI",100,0)
 S DIC="^VA(200,"
"RTN","ONCNPI",101,0)
 S DIC("A")="  Select PROVIDER: "
"RTN","ONCNPI",102,0)
 S DIC(0)="AEQM"
"RTN","ONCNPI",103,0)
 S DIC("S")="I $P($G(^(""NPI"")),U,1)'="""""
"RTN","ONCNPI",104,0)
 D ^DIC
"RTN","ONCNPI",105,0)
 G:($D(DUOUT))!($D(DTOUT))!(Y=-1) PNPIEX
"RTN","ONCNPI",106,0)
 S VAIEN=+Y
"RTN","ONCNPI",107,0)
 K DIR
"RTN","ONCNPI",108,0)
 S DIR("A")="  Is this the correct provider",DIR("B")="Y",DIR(0)="Y"
"RTN","ONCNPI",109,0)
 D ^DIR
"RTN","ONCNPI",110,0)
 G SETPNPI:Y,DIC200:Y=0 Q
"RTN","ONCNPI",111,0)
SETPNPI S NPI=$P(^VA(200,VAIEN,"NPI"),U,1)
"RTN","ONCNPI",112,0)
PNPICHK I (NPI="")!(NPI=U) W ! G PNPIEX
"RTN","ONCNPI",113,0)
 I NPI'?10N W !!,"The NPI code must be 10 digits.",!! G PNPIR
"RTN","ONCNPI",114,0)
 ;I $D(^ONCO(165,"F",NPI)) D  G PNPIR
"RTN","ONCNPI",115,0)
 ;.S PHYIEN=$O(^ONCO(165,"F",NPI,0))
"RTN","ONCNPI",116,0)
 ;.S PHY=$P(^ONCO(165,PHYIEN,0),U,1)
"RTN","ONCNPI",117,0)
 ;.W !!,"  This NPI code is already being used by ",PHY,".",!!
"RTN","ONCNPI",118,0)
 W !!,"  NPI code ",NPI," has been added for ",PHY,"."
"RTN","ONCNPI",119,0)
 S $P(^ONCO(165,PHYPNT,0),U,5)=NPI
"RTN","ONCNPI",120,0)
 S ^ONCO(165,"F",NPI,PHYPNT)=""
"RTN","ONCNPI",121,0)
PNPIEX W !
"RTN","ONCNPI",122,0)
 K NPIANS,PHY Q
"RTN","ONCNPI",123,0)
 ;
"RTN","ONCNPI",124,0)
PNPIIT ;NPI (165,101) INPUT TRANSFORM
"RTN","ONCNPI",125,0)
 ;I $D(^ONCO(165,"F",X)) D
"RTN","ONCNPI",126,0)
 ;.S PHYIEN=$O(^ONCO(165,"F",X,0))
"RTN","ONCNPI",127,0)
 ;.I PHYIEN'=DA D  K X
"RTN","ONCNPI",128,0)
 ;..S PHY=$P(^ONCO(165,PHYIEN,0),U,1)
"RTN","ONCNPI",129,0)
 ;..W !!,"  This NPI code is already being used by ",PHY,".",!
"RTN","ONCNPI",130,0)
 ;K PHYIEN,PHY
"RTN","ONCNPI",131,0)
 Q
"RTN","ONCNPI",132,0)
 ;
"RTN","ONCNPI",133,0)
FNPIHLP ;"??" NPI help
"RTN","ONCNPI",134,0)
 W !,"  Select 'Get NPI from INSTITUTION file' if you wish to"
"RTN","ONCNPI",135,0)
 W !,"  extract the Organizational Provider NPI code from the"
"RTN","ONCNPI",136,0)
 W !,"  INSTITUTION file."
"RTN","ONCNPI",137,0)
 W !
"RTN","ONCNPI",138,0)
 W !,"  Select 'Enter NPI code manually' if you wish to enter"
"RTN","ONCNPI",139,0)
 W !,"  the 10-digit NPI code manually."
"RTN","ONCNPI",140,0)
 W !
"RTN","ONCNPI",141,0)
 W !,"  NPI codes for Organizational Providers can be found by"
"RTN","ONCNPI",142,0)
 W !,"  searching the NPI Registry at the following websites:"
"RTN","ONCNPI",143,0)
 W !
"RTN","ONCNPI",144,0)
 W !,"  https://nppes.cms.hhs.gov"
"RTN","ONCNPI",145,0)
 W !,"  Click on ""Search the NPI Registry""."
"RTN","ONCNPI",146,0)
 W !
"RTN","ONCNPI",147,0)
 W !,"  http://www.npinumberlookup.org/"
"RTN","ONCNPI",148,0)
 Q
"RTN","ONCNPI",149,0)
 ;
"RTN","ONCNPI",150,0)
PNPIHLP ;"??" NPI help
"RTN","ONCNPI",151,0)
 W !,"  Select 'Get NPI from NEW PERSON file' if you wish to"
"RTN","ONCNPI",152,0)
 W !,"  extract the Individual Provider NPI code from the"
"RTN","ONCNPI",153,0)
 W !,"  NEW PERSON file."
"RTN","ONCNPI",154,0)
 W !
"RTN","ONCNPI",155,0)
 W !,"  Select 'Enter NPI code manually' if you wish to enter"
"RTN","ONCNPI",156,0)
 W !,"  the 10-digit NPI code manually."
"RTN","ONCNPI",157,0)
 W !
"RTN","ONCNPI",158,0)
 W !,"  NPI codes for Individual Providers can be found by searching"
"RTN","ONCNPI",159,0)
 W !,"  the NPI Registry at the following websites:"
"RTN","ONCNPI",160,0)
 W !
"RTN","ONCNPI",161,0)
 W !,"  https://nppes.cms.hhs.gov"
"RTN","ONCNPI",162,0)
 W !,"  Click on ""Search the NPI Registry""."
"RTN","ONCNPI",163,0)
 W !
"RTN","ONCNPI",164,0)
 W !,"  http://www.npinumberlookup.org/"
"RTN","ONCNPI",165,0)
 Q
"RTN","ONCNTX")
0^148^B87537325
"RTN","ONCNTX",1,0)
ONCNTX ;Hines OIFO/GWB - No treatment stuffing ;03/31/11
"RTN","ONCNTX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNTX",3,0)
 ;
"RTN","ONCNTX",4,0)
NTX ;No treatment stuffing
"RTN","ONCNTX",5,0)
 N COC,PAUSE
"RTN","ONCNTX",6,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04,"E"),1,2)
"RTN","ONCNTX",7,0)
 ;ROADS
"RTN","ONCNTX",8,0)
 N SITE
"RTN","ONCNTX",9,0)
 S SITE=$P(^ONCO(165.5,DA,0),U,1)
"RTN","ONCNTX",10,0)
 I DATEDX<3030000 D
"RTN","ONCNTX",11,0)
 .D HDR,SURR,SURATFR^ONCNTX1,NODER
"RTN","ONCNTX",12,0)
 .I (SITE=35)!(SITE=58)!(SITE=63)!(SITE=65)!($$LYMPHOMA^ONCFUNC(DA)=1) D NODATFR^ONCUTX1
"RTN","ONCNTX",13,0)
 .E  D NODATFR^ONCNTX1
"RTN","ONCNTX",14,0)
 .D SOSNR,SOSATFR^ONCNTX1
"RTN","ONCNTX",15,0)
 .W ! D PAUSE
"RTN","ONCNTX",16,0)
 ;
"RTN","ONCNTX",17,0)
 ;FORDS
"RTN","ONCNTX",18,0)
 D HDR
"RTN","ONCNTX",19,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,38)_"S0"
"RTN","ONCNTX",20,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",21,0)
 S $P(^ONCO(165.5,DA,3.1),U,38)="0000000"
"RTN","ONCNTX",22,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S0")=""
"RTN","ONCNTX",23,0)
 D SUR,SURATF^ONCNTX1,SA,SM,NODE
"RTN","ONCNTX",24,0)
 ;Code 9 (FORDS 138-139)
"RTN","ONCNTX",25,0)
 N MO S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCNTX",26,0)
 N TP14 S TP14=$E(TP,1,4)
"RTN","ONCNTX",27,0)
 I (TP14=6770)!(TP14=6771)!(TP14=6772)!(TP=67751)!(TP=67752)!(TP=67753)!(TP14=6776)!(($$LYMPHOMA^ONCFUNC(DA)=1)&(TP14=6777))!(TP14=6776)!(TP=67809)!(TP=67420)!(TP=67421)!(TP=67423)!(TP=67424)!((MO'<97310)&(MO'>99899)) D NODEATF^ONCUTX1
"RTN","ONCNTX",28,0)
 E  D NODEATF^ONCNTX1
"RTN","ONCNTX",29,0)
 D SOSN,SOSNATF^ONCNTX1,RR,DSD
"RTN","ONCNTX",30,0)
 D RFNS W !
"RTN","ONCNTX",31,0)
 S $P(^ONCO(165.5,DA,3),U,6)=0
"RTN","ONCNTX",32,0)
 S $P(^ONCO(165.5,DA,3.1),U,12)=0
"RTN","ONCNTX",33,0)
 S $P(^ONCO(165.5,DA,3),U,35)=""
"RTN","ONCNTX",34,0)
 D HDR,RAD1,RADATF^ONCNTX1,RAD2,RSSQ^ONCNTX1,RFNR W !
"RTN","ONCNTX",35,0)
 S $P(^ONCO(165.5,DA,3),U,13)="00"
"RTN","ONCNTX",36,0)
 S $P(^ONCO(165.5,DA,3.1),U,14)="00"
"RTN","ONCNTX",37,0)
 S $P(^ONCO(165.5,DA,3),U,16)="00"
"RTN","ONCNTX",38,0)
 S $P(^ONCO(165.5,DA,3.1),U,16)="00"
"RTN","ONCNTX",39,0)
 S $P(^ONCO(165.5,DA,3),U,19)="00"
"RTN","ONCNTX",40,0)
 S $P(^ONCO(165.5,DA,3.1),U,18)="00"
"RTN","ONCNTX",41,0)
 S $P(^ONCO(165.5,DA,3.1),U,36)=1
"RTN","ONCNTX",42,0)
 S $P(^ONCO(165.5,DA,3),U,25)=0
"RTN","ONCNTX",43,0)
 S $P(^ONCO(165.5,DA,3.1),U,20)=0
"RTN","ONCNTX",44,0)
 D HDR,CHE,CHEMATF^ONCNTX1,HOR^ONCNTX1,HTATF^ONCNTX1,IMM^ONCNTX1,IMMATF^ONCNTX1,HTEP^ONCNTX1,SSS^ONCNTX1
"RTN","ONCNTX",45,0)
 D PAUSE
"RTN","ONCNTX",46,0)
 D HDR,OTH^ONCNTX1,OTHATF^ONCNTX1
"RTN","ONCNTX",47,0)
 W !
"RTN","ONCNTX",48,0)
 D PAUSE
"RTN","ONCNTX",49,0)
 W ! S Y="@425" G EXIT
"RTN","ONCNTX",50,0)
 ;
"RTN","ONCNTX",51,0)
SURR ;SURGERY OF PRIMARY (R) (165.5,58.2)
"RTN","ONCNTX",52,0)
 S $P(^ONCO(165.5,DA,3),U,38)=$S(DATEDX>2971231:1,1:"00")
"RTN","ONCNTX",53,0)
 S $P(^ONCO(165.5,DA,3),U,34)=1
"RTN","ONCNTX",54,0)
 S DR="58.2;74" D DIQ1
"RTN","ONCNTX",55,0)
 I $D(NTX) D
"RTN","ONCNTX",56,0)
 .W !,"SURGICAL PROCEDURES (R)=ROADS"
"RTN","ONCNTX",57,0)
 .W !,"-----------------------------"
"RTN","ONCNTX",58,0)
 .W !,"SURGERY OF PRIMARY..........(R): ",ONC(165.5,DA,58.2,"E")
"RTN","ONCNTX",59,0)
 W !,"SURGICAL APPROACH...........(R): ",ONC(165.5,DA,74,"E")
"RTN","ONCNTX",60,0)
 K ONC
"RTN","ONCNTX",61,0)
 Q
"RTN","ONCNTX",62,0)
 ;
"RTN","ONCNTX",63,0)
SUR ;SURGERY OF PRIMARY (F) (165.5,58.6)
"RTN","ONCNTX",64,0)
 S TOPX=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX",65,0)
 I (TOPX=67420)!(TOPX=67421)!(TOPX=67423)!(TOPX=67424)!($E(TOPX,3,4)=76)!(TOPX=67809) D  G SUR1
"RTN","ONCNTX",66,0)
 .S $P(^ONCO(165.5,DA,3.1),U,29)=1
"RTN","ONCNTX",67,0)
 S $P(^ONCO(165.5,DA,3.1),U,29)=$S(DATEDX>2971231:1,1:"00")
"RTN","ONCNTX",68,0)
SUR1 S TXDT=$P($G(^ONCO(165.5,DA,3)),U,1)_"S1"
"RTN","ONCNTX",69,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",70,0)
 S $P(^ONCO(165.5,DA,3),U,1)="0000000" D SPSDT^ONCATF
"RTN","ONCNTX",71,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S1")=""
"RTN","ONCNTX",72,0)
 S $P(^ONCO(165.5,DA,3),U,28)=8
"RTN","ONCNTX",73,0)
 S $P(^ONCO(165.5,DA,0),U,11)="00000000"
"RTN","ONCNTX",74,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)="0000000"
"RTN","ONCNTX",75,0)
 S $P(^ONCO(165.5,DA,3.1),U,28)=0
"RTN","ONCNTX",76,0)
 S DR="58.6;50;74;59;435;14;170" D DIQ1
"RTN","ONCNTX",77,0)
 I $D(NTX) D
"RTN","ONCNTX",78,0)
 .W !,"SURGICAL PROCEDURES (F)=FORDS"
"RTN","ONCNTX",79,0)
 .W !,"-----------------------------"
"RTN","ONCNTX",80,0)
 .W !,"DATE FIRST SURGICAL PROCEDURE..: ",ONC(165.5,DA,170,"E")
"RTN","ONCNTX",81,0)
 .W !,"SURGERY OF PRIMARY..........(F): ",ONC(165.5,DA,58.6,"E")
"RTN","ONCNTX",82,0)
 W !,"MOST DEFINITIVE SURG DATE......: ",ONC(165.5,DA,50,"E")
"RTN","ONCNTX",83,0)
 K ONC,TXDT,TOPX
"RTN","ONCNTX",84,0)
 Q
"RTN","ONCNTX",85,0)
 ;
"RTN","ONCNTX",86,0)
SA ;APPROACH (165.5,234)
"RTN","ONCNTX",87,0)
 ;Q:DATEDX<3100000
"RTN","ONCNTX",88,0)
 ;S $P(^ONCO(165.5,DA,2.3),U,4)=0
"RTN","ONCNTX",89,0)
 ;S DR=234 D DIQ1
"RTN","ONCNTX",90,0)
 ;W !,"APPROACH.......................: ",ONC(165.5,DA,234,"E")
"RTN","ONCNTX",91,0)
 Q
"RTN","ONCNTX",92,0)
 ;
"RTN","ONCNTX",93,0)
SM ;SURGICAL MARGINS (165.5,59)
"RTN","ONCNTX",94,0)
 N HST14,MO,TPG
"RTN","ONCNTX",95,0)
 S TPG=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX",96,0)
 S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCNTX",97,0)
 S HST14=$E(MO,1,4)
"RTN","ONCNTX",98,0)
 S $P(^ONCO(165.5,DA,3),U,28)=8
"RTN","ONCNTX",99,0)
 I $$LYMPH^ONCFUNC(DA),($E(TPG,3,4)=77) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCNTX",100,0)
 I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCNTX",101,0)
 I $$HEMATO^ONCFUNC(DA) S $P(^ONCO(165.5,DA,3),U,28)=9
"RTN","ONCNTX",102,0)
 S DR="59" D DIQ1
"RTN","ONCNTX",103,0)
 W !,"SURGICAL MARGINS...............: ",ONC(165.5,DA,59,"E")
"RTN","ONCNTX",104,0)
 K ONC
"RTN","ONCNTX",105,0)
 Q
"RTN","ONCNTX",106,0)
 ;
"RTN","ONCNTX",107,0)
NODER ;SCOPE OF LN SURGERY (R) (165.5,138)
"RTN","ONCNTX",108,0)
 ;For unknown primary, leukemia, lymphoma, & brain, code 9
"RTN","ONCNTX",109,0)
 N LAST,SC,SGRP,SITE
"RTN","ONCNTX",110,0)
 S SITE=$P(^ONCO(165.5,DA,0),U,1)
"RTN","ONCNTX",111,0)
 I (SITE=35)!(SITE=58)!(SITE=63)!(SITE=65)!($$LYMPHOMA^ONCFUNC(DA)=1) D  D NUMND^ONCATF Q
"RTN","ONCNTX",112,0)
 .D SGRP^ONCUTX1
"RTN","ONCNTX",113,0)
 .I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S SGRP=67141
"RTN","ONCNTX",114,0)
 .F SC=0:0 S SC=$O(^ONCO(164,SGRP,"SC5",SC)) Q:SC="B"  S LAST=SC
"RTN","ONCNTX",115,0)
 .S $P(^ONCO(165.5,DA,3),U,40)=LAST
"RTN","ONCNTX",116,0)
 .W !,"SCOPE OF LN SURGERY.........(R): ",$P(^ONCO(164,SGRP,"SC5",LAST,0),U,1)
"RTN","ONCNTX",117,0)
 .D NODER^ONCUTX
"RTN","ONCNTX",118,0)
 S $P(^ONCO(165.5,DA,3),U,40)=1
"RTN","ONCNTX",119,0)
 S $P(^ONCO(165.5,DA,3),U,42)="00"
"RTN","ONCNTX",120,0)
 D NUMND^ONCATF
"RTN","ONCNTX",121,0)
 S DR="138;140" D DIQ1
"RTN","ONCNTX",122,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY.........(R): ",ONC(165.5,DA,138,"E")
"RTN","ONCNTX",123,0)
 W !,"NUMBER OF LN REMOVED........(R): ",ONC(165.5,DA,140,"E")
"RTN","ONCNTX",124,0)
 Q
"RTN","ONCNTX",125,0)
 ;
"RTN","ONCNTX",126,0)
NODE ;SCOPE OF LN SURGERY (F) (165.5,138.4)
"RTN","ONCNTX",127,0)
 ;Code 9 (FORDS 138-139)
"RTN","ONCNTX",128,0)
 S TP=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX",129,0)
 N TP14 S TP14=$E(TP,1,4)
"RTN","ONCNTX",130,0)
 N MO S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCNTX",131,0)
 I (TP14=6770)!(TP14=6771)!(TP14=6772)!(TP=67751)!(TP=67752)!(TP=67753)!(TP14=6776)!(($$LYMPHOMA^ONCFUNC(DA)=1)&(TP14=6777))!(TP14=6776)!(TP=67809)!(TP=67420)!(TP=67421)!(TP=67423)!(TP=67424)!((MO'<97310)&(MO'>99899)) D  D SCPDT^ONCATF Q
"RTN","ONCNTX",132,0)
 .S $P(^ONCO(165.5,DA,3.1),U,31)=9
"RTN","ONCNTX",133,0)
 .W !,"SCOPE OF LN SURGERY.........(F): Unknown/NA"
"RTN","ONCNTX",134,0)
 .D NODE^ONCUTX
"RTN","ONCNTX",135,0)
 S $P(^ONCO(165.5,DA,3.1),U,31)=0
"RTN","ONCNTX",136,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,22)_"S2"
"RTN","ONCNTX",137,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",138,0)
 S $P(^ONCO(165.5,D0,3.1),U,22)="0000000" D SCPDT^ONCATF
"RTN","ONCNTX",139,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S2")=""
"RTN","ONCNTX",140,0)
 S DR="138.4;138.2" D DIQ1
"RTN","ONCNTX",141,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY.........(F): ",ONC(165.5,DA,138.4,"E")
"RTN","ONCNTX",142,0)
 W !,"SCOPE OF LN SURGERY DATE.......: ",ONC(165.5,DA,138.2,"E")
"RTN","ONCNTX",143,0)
 Q
"RTN","ONCNTX",144,0)
 ;
"RTN","ONCNTX",145,0)
SOSNR ;SURG PROC/OTHER SITE (R) (165.5,139)
"RTN","ONCNTX",146,0)
 S $P(^ONCO(165.5,DA,3),U,41)=1
"RTN","ONCNTX",147,0)
 S DR=139 D DIQ1
"RTN","ONCNTX",148,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE........(R): ",ONC(165.5,DA,139,"E")
"RTN","ONCNTX",149,0)
 Q
"RTN","ONCNTX",150,0)
 ;
"RTN","ONCNTX",151,0)
SOSN ;SURG PROC/OTHER SITE (F) (165.5,139.4)
"RTN","ONCNTX",152,0)
 S $P(^ONCO(165.5,DA,3.1),U,33)=0
"RTN","ONCNTX",153,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,24)_"S3"
"RTN","ONCNTX",154,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",155,0)
 S $P(^ONCO(165.5,D0,3.1),U,24)="0000000" D SOSNDT^ONCATF
"RTN","ONCNTX",156,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S3")=""
"RTN","ONCNTX",157,0)
 S DR="139.4;139.2" D DIQ1
"RTN","ONCNTX",158,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE........(F): ",ONC(165.5,DA,139.4,"E")
"RTN","ONCNTX",159,0)
 W !,"SURG PROC/OTHER SITE DATE......: ",ONC(165.5,DA,139.2,"E")
"RTN","ONCNTX",160,0)
 Q
"RTN","ONCNTX",161,0)
 ;
"RTN","ONCNTX",162,0)
RR ;RECONSTRUCTION/RESTORATION (165.5,23)
"RTN","ONCNTX",163,0)
 I DATEDX>3021231 Q
"RTN","ONCNTX",164,0)
 I DATEDX>2951231 D
"RTN","ONCNTX",165,0)
 .S $P(^ONCO(165.5,DA,3),U,33)=$S(DATEDX>2971231:1,1:9)
"RTN","ONCNTX",166,0)
 .S DR=23 D DIQ1
"RTN","ONCNTX",167,0)
 .W !,"RECONSTRUCTION/RESTORATION.....: ",ONC(165.5,DA,23,"E")
"RTN","ONCNTX",168,0)
 Q
"RTN","ONCNTX",169,0)
 ;
"RTN","ONCNTX",170,0)
DSD ;DATE OF SURGICAL DISCHARGE (165.5,435)
"RTN","ONCNTX",171,0)
 ;READMISSION W/I 30 DAYS/SURG (165.5,14)
"RTN","ONCNTX",172,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)="0000000"
"RTN","ONCNTX",173,0)
 S $P(^ONCO(165.5,DA,3.1),U,28)=0
"RTN","ONCNTX",174,0)
 S $P(^ONCO(165.5,DA,7),U,19)=9
"RTN","ONCNTX",175,0)
 S $P(^ONCO(165.5,DA,7),U,20)=""
"RTN","ONCNTX",176,0)
 S DR="435;14;46" D DIQ1
"RTN","ONCNTX",177,0)
 W !,"DATE OF SURGICAL DISCHARGE.....: ",ONC(165.5,DA,435,"E")
"RTN","ONCNTX",178,0)
 W !,"READMISSION W/I 30 DAYS/SURG...: ",ONC(165.5,DA,14,"E")
"RTN","ONCNTX",179,0)
 W !,"CAP PROTOCOL REVIEW............: ",ONC(165.5,DA,46,"E")
"RTN","ONCNTX",180,0)
 K ONC
"RTN","ONCNTX",181,0)
 Q
"RTN","ONCNTX",182,0)
 ;
"RTN","ONCNTX",183,0)
RFNS ;REASON NO SURGERY OF PRIMARY (165.5,58)
"RTN","ONCNTX",184,0)
 N RFNS
"RTN","ONCNTX",185,0)
 S RFNS=$$GET1^DIQ(165.5,DA,1.2)
"RTN","ONCNTX",186,0)
 I (COC=38)!(RFNS="Autopsy only")!(RFNS="Death certificate only") D  Q
"RTN","ONCNTX",187,0)
 .S $P(^ONCO(165.5,DA,3),U,26)=9
"RTN","ONCNTX",188,0)
 .W !,"REASON NO SURGERY OF PRIMARY...: Unknown"
"RTN","ONCNTX",189,0)
 S RFNSDD=$P(^DD(165.5,58,0),U,3)
"RTN","ONCNTX",190,0)
 W ! K DIR S DIR(0)="SA^"_RFNSDD
"RTN","ONCNTX",191,0)
 S DIR("A")="REASON NO SURGERY OF PRIMARY: "
"RTN","ONCNTX",192,0)
 S DIR("B")="Not part of 1st course"
"RTN","ONCNTX",193,0)
 S DIR("??")="^D RFNSHLP^ONCNTX1"
"RTN","ONCNTX",194,0)
 D ^DIR
"RTN","ONCNTX",195,0)
 I Y[U Q
"RTN","ONCNTX",196,0)
 S $P(^ONCO(165.5,DA,3),U,26)=Y
"RTN","ONCNTX",197,0)
 K RFNSDD Q
"RTN","ONCNTX",198,0)
 ;
"RTN","ONCNTX",199,0)
RAD1 ;RADIATION (165.5,51.2)
"RTN","ONCNTX",200,0)
 N RFNR
"RTN","ONCNTX",201,0)
 S RFNR=$P($G(^ONCO(165.5,DA,3)),U,35)
"RTN","ONCNTX",202,0)
 D ^ONCRFNR
"RTN","ONCNTX",203,0)
 S DR="51.2;51" D DIQ1
"RTN","ONCNTX",204,0)
 W:$D(NTX) !,"RADIATION:.....................: ",ONC(165.5,DA,51.2,"E")
"RTN","ONCNTX",205,0)
 W !,"DATE RADIATION STARTED.........: ",ONC(165.5,DA,51,"E")
"RTN","ONCNTX",206,0)
 K ONC,TXDT Q
"RTN","ONCNTX",207,0)
 ;
"RTN","ONCNTX",208,0)
RAD2 ;RADIATION (cont)
"RTN","ONCNTX",209,0)
 S $P(^ONCO(165.5,DA,3),U,22)=0
"RTN","ONCNTX",210,0)
 S $P(^ONCO(165.5,DA,3),U,21)=1
"RTN","ONCNTX",211,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=1
"RTN","ONCNTX",212,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,43)=0
"RTN","ONCNTX",213,0)
 S $P(^ONCO(165.5,DA,24),U,9)=1
"RTN","ONCNTX",214,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,44)=0
"RTN","ONCNTX",215,0)
 S $P(^ONCO(165.5,DA,3),U,20)=0
"RTN","ONCNTX",216,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,16)="0000000"
"RTN","ONCNTX",217,0)
 S DR="126;125;363;442;363.1;443;56;361" D DIQ1
"RTN","ONCNTX",218,0)
 W !,"LOCATION OF RADIATION..........: ",ONC(165.5,DA,126,"E")
"RTN","ONCNTX",219,0)
 W !,"RADIATION TREATMENT VOLUME.....: ",ONC(165.5,DA,125,"E")
"RTN","ONCNTX",220,0)
 W !,"REGIONAL TREATMENT MODALITY....: ",ONC(165.5,DA,363,"E")
"RTN","ONCNTX",221,0)
 W !,"REGIONAL DOSE:cGy..............: ",ONC(165.5,DA,442,"E")
"RTN","ONCNTX",222,0)
 W !,"BOOST TREATMENT MODALITY.......: ",ONC(165.5,DA,363.1,"E")
"RTN","ONCNTX",223,0)
 W !,"BOOST DOSE:cGy.................: ",ONC(165.5,DA,443,"E")
"RTN","ONCNTX",224,0)
 W !,"NUMBER OF TREATMENTS...........: ",ONC(165.5,DA,56,"E")
"RTN","ONCNTX",225,0)
 W !,"DATE RADIATION ENDED...........: ",ONC(165.5,DA,361,"E")
"RTN","ONCNTX",226,0)
 K ONC,TXDT Q
"RTN","ONCNTX",227,0)
 ;
"RTN","ONCNTX",228,0)
RFNR ;REASON FOR NO RADIATION (165.5,75)
"RTN","ONCNTX",229,0)
 N RFNS
"RTN","ONCNTX",230,0)
 S RFNS=$$GET1^DIQ(165.5,DA,1.2)
"RTN","ONCNTX",231,0)
 I (COC=38)!(RFNS="Autopsy only")!(RFNS="Death certificate only") D  Q
"RTN","ONCNTX",232,0)
 .S $P(^ONCO(165.5,DA,3),U,35)=9
"RTN","ONCNTX",233,0)
 .W !,"REASON NO SURGERY OF PRIMARY...: Unknown"
"RTN","ONCNTX",234,0)
 S RFNRDD=$P(^DD(165.5,75,0),U,3)
"RTN","ONCNTX",235,0)
 W ! K DIR S DIR(0)="SA^"_RFNRDD
"RTN","ONCNTX",236,0)
 S DIR("A")="REASON FOR NO RADIATION: "
"RTN","ONCNTX",237,0)
 S DIR("B")="Not part of 1st course"
"RTN","ONCNTX",238,0)
 S DIR("??")="^D RFNRHLP^ONCNTX1"
"RTN","ONCNTX",239,0)
 D ^DIR
"RTN","ONCNTX",240,0)
 I Y[U Q
"RTN","ONCNTX",241,0)
 S $P(^ONCO(165.5,DA,3),U,35)=Y
"RTN","ONCNTX",242,0)
 I X=8 S RFNR=8 D ^ONCRFNR D
"RTN","ONCNTX",243,0)
 .W !!,"DATE RADIATION STARTED changed to 88/88/8888"
"RTN","ONCNTX",244,0)
 K RFNRDD Q
"RTN","ONCNTX",245,0)
 ;
"RTN","ONCNTX",246,0)
CHE ;CHEMOTHERAPY (165.5,53.2)
"RTN","ONCNTX",247,0)
 I $D(NTX) D
"RTN","ONCNTX",248,0)
 .N DIE,DL,DP,DQ,DR
"RTN","ONCNTX",249,0)
 .I COC=38 D
"RTN","ONCNTX",250,0)
 ..W !,"CHEMOTHERAPY .................: None"
"RTN","ONCNTX",251,0)
 .E  S DIE="^ONCO(165.5,",DR=53.2 D ^DIE
"RTN","ONCNTX",252,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,11)_"C"
"RTN","ONCNTX",253,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX",254,0)
 S $P(^ONCO(165.5,DA,3),U,11)="0000000" D CHEMDT^ONCATF1
"RTN","ONCNTX",255,0)
 S ^ONCO(165.5,"ATX",DA,"0000000C")=""
"RTN","ONCNTX",256,0)
 F CMX=28,29,30,44,45 S $P(^ONCO(165.5,DA,"LUN2"),U,CMX)="" K CMX
"RTN","ONCNTX",257,0)
 S DR=53 D DIQ1
"RTN","ONCNTX",258,0)
 W !,"CHEMOTHERAPY DATE.............: ",ONC(165.5,DA,53,"E")
"RTN","ONCNTX",259,0)
 K ONC Q
"RTN","ONCNTX",260,0)
 ;
"RTN","ONCNTX",261,0)
NCDS ;SURGICAL DX/STAGING PROC (165.5,58.1)
"RTN","ONCNTX",262,0)
 S $P(^ONCO(165.5,D0,3),U,31)="0000000" D NCDSDT^ONCATF
"RTN","ONCNTX",263,0)
 S DR=58.3 D DIQ1
"RTN","ONCNTX",264,0)
 W !,"SURGICAL DX/STAGING PROC DATE: ",ONC(165.5,DA,58.3,"E")
"RTN","ONCNTX",265,0)
 Q
"RTN","ONCNTX",266,0)
 ;
"RTN","ONCNTX",267,0)
HDR K DASH S $P(DASH,"-",80)="-"
"RTN","ONCNTX",268,0)
 W @IOF,DASH,!,?1,PATNAM,?TAB,"First Course of Treatment",?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASH
"RTN","ONCNTX",269,0)
 K DASH
"RTN","ONCNTX",270,0)
 Q
"RTN","ONCNTX",271,0)
 ;
"RTN","ONCNTX",272,0)
DIQ1 N DIC,DIQ K ONC
"RTN","ONCNTX",273,0)
 S DIC="^ONCO(165.5,",DIQ="ONC(",DIQ(0)="E" D EN^DIQ1
"RTN","ONCNTX",274,0)
 Q
"RTN","ONCNTX",275,0)
 ;
"RTN","ONCNTX",276,0)
PAUSE ;"Enter RETURN to continue" prompt
"RTN","ONCNTX",277,0)
 W ! R "Enter RETURN to continue: ",PAUSE:30
"RTN","ONCNTX",278,0)
 I PAUSE="" Q
"RTN","ONCNTX",279,0)
 I PAUSE=U Q
"RTN","ONCNTX",280,0)
 G PAUSE
"RTN","ONCNTX",281,0)
 ;
"RTN","ONCNTX",282,0)
EXIT ;Exit
"RTN","ONCNTX",283,0)
 W !
"RTN","ONCNTX",284,0)
 K TP,TPG
"RTN","ONCNTX",285,0)
 Q
"RTN","ONCNTX",286,0)
 ;
"RTN","ONCNTX",287,0)
CLEANUP ;Cleanup
"RTN","ONCNTX",288,0)
 K D0,DA,DATEDX,NTX,PATNAM,SITEGP,SITTAB,SSN,TAB,TOPCOD,TOPNAM,TOPTAB,X
"RTN","ONCNTX",289,0)
 K Y
"RTN","ONCNTX1")
0^149^B56514658
"RTN","ONCNTX1",1,0)
ONCNTX1 ;Hines OIFO/GWB - No treatment stuffing ;09/09/10
"RTN","ONCNTX1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCNTX1",3,0)
 ;
"RTN","ONCNTX1",4,0)
NCDSATF ;SURG DX/STAGING PROC @FAC (165.5,58.4)
"RTN","ONCNTX1",5,0)
 S $P(^ONCO(165.5,DA,3.1),U,5)="00"
"RTN","ONCNTX1",6,0)
 S $P(^ONCO(165.5,D0,3.1),U,6)="0000000"
"RTN","ONCNTX1",7,0)
 S DR="58.4;58.5" D DIQ1^ONCNTX
"RTN","ONCNTX1",8,0)
 W:$D(NTX) !,"SURG DX/STAGING PROC @FAC.....: "_ONC(165.5,DA,58.4,"E")
"RTN","ONCNTX1",9,0)
 W !,"SURG DX/STAGING PROC @FAC DATE: ",ONC(165.5,DA,58.5,"E")
"RTN","ONCNTX1",10,0)
 Q
"RTN","ONCNTX1",11,0)
 ;
"RTN","ONCNTX1",12,0)
SURATFR ;SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"RTN","ONCNTX1",13,0)
 S $P(^ONCO(165.5,DA,3.1),U,7)=$S(DATEDX>2971231:1,1:"00")
"RTN","ONCNTX1",14,0)
 S DR=50.2 D DIQ1^ONCNTX
"RTN","ONCNTX1",15,0)
 W:$D(NTX) !,"SURGERY OF PRIMARY @FAC.....(R): ",ONC(165.5,DA,50.2,"E")
"RTN","ONCNTX1",16,0)
 K ONC
"RTN","ONCNTX1",17,0)
 Q
"RTN","ONCNTX1",18,0)
 ;
"RTN","ONCNTX1",19,0)
SURATF ;SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"RTN","ONCNTX1",20,0)
 N TOPX
"RTN","ONCNTX1",21,0)
 S TOPX=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCNTX1",22,0)
 I (TOPX=67420)!(TOPX=67421)!(TOPX=67423)!(TOPX=67424)!($E(TOPX,3,4)=76)!(TOPX=67809) D  G SUR1
"RTN","ONCNTX1",23,0)
 .S $P(^ONCO(165.5,DA,3.1),U,30)=1
"RTN","ONCNTX1",24,0)
 S $P(^ONCO(165.5,DA,3.1),U,30)=$S(DATEDX>2971231:1,1:"00")
"RTN","ONCNTX1",25,0)
SUR1 S $P(^ONCO(165.5,DA,3.1),U,8)="0000000"
"RTN","ONCNTX1",26,0)
 S $P(^ONCO(165.5,DA,2.3),U,4)=0
"RTN","ONCNTX1",27,0)
 S DR="58.7;50.3;234" D DIQ1^ONCNTX
"RTN","ONCNTX1",28,0)
 W:$D(NTX) !,"SURGERY OF PRIMARY @FAC.....(F): ",ONC(165.5,DA,58.7,"E")
"RTN","ONCNTX1",29,0)
 W !,"APPROACH.......................: ",ONC(165.5,DA,234,"E")
"RTN","ONCNTX1",30,0)
 W !,"MOST DEFINITIVE SURG @FAC DATE.: ",ONC(165.5,DA,50.3,"E")
"RTN","ONCNTX1",31,0)
 K ONC,TXDT Q
"RTN","ONCNTX1",32,0)
 ;
"RTN","ONCNTX1",33,0)
NODATFR ;SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"RTN","ONCNTX1",34,0)
 S $P(^ONCO(165.5,DA,3.1),U,9)=1
"RTN","ONCNTX1",35,0)
 S $P(^ONCO(165.5,DA,3.1),U,11)="00"
"RTN","ONCNTX1",36,0)
 S DR="138.1;140.1" D DIQ1^ONCNTX
"RTN","ONCNTX1",37,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY @FAC....(R): ",ONC(165.5,DA,138.1,"E")
"RTN","ONCNTX1",38,0)
 W !,"NUMBER OF LN REMOVED @FAC...(R): ",ONC(165.5,DA,140.1,"E")
"RTN","ONCNTX1",39,0)
 Q
"RTN","ONCNTX1",40,0)
 ;
"RTN","ONCNTX1",41,0)
NODEATF ;SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"RTN","ONCNTX1",42,0)
 S $P(^ONCO(165.5,DA,3.1),U,32)=0
"RTN","ONCNTX1",43,0)
 S $P(^ONCO(165.5,D0,3.1),U,23)="0000000"
"RTN","ONCNTX1",44,0)
 S DR="138.5;138.3" D DIQ1^ONCNTX
"RTN","ONCNTX1",45,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY @FAC....(F): ",ONC(165.5,DA,138.5,"E")
"RTN","ONCNTX1",46,0)
 W !,"SCOPE OF LN SURGERY @FAC DATE..: ",ONC(165.5,DA,138.3,"E")
"RTN","ONCNTX1",47,0)
 Q
"RTN","ONCNTX1",48,0)
 ;
"RTN","ONCNTX1",49,0)
SPOATFR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"RTN","ONCNTX1",50,0)
 S $P(^ONCO(165.5,DA,3.1),U,10)=1
"RTN","ONCNTX1",51,0)
 S DR=139.1 D DIQ1^ONCNTX
"RTN","ONCNTX1",52,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE @FAC...(R): ",ONC(165.5,DA,139.1,"E")
"RTN","ONCNTX1",53,0)
 Q
"RTN","ONCNTX1",54,0)
 ;
"RTN","ONCNTX1",55,0)
SOSATFR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"RTN","ONCNTX1",56,0)
 S $P(^ONCO(165.5,DA,3.1),U,10)=1
"RTN","ONCNTX1",57,0)
 S DR=139.1 D DIQ1^ONCNTX
"RTN","ONCNTX1",58,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE @FAC...(R): ",ONC(165.5,DA,139.1,"E")
"RTN","ONCNTX1",59,0)
 Q
"RTN","ONCNTX1",60,0)
 ;
"RTN","ONCNTX1",61,0)
SOSNATF ;SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"RTN","ONCNTX1",62,0)
 S $P(^ONCO(165.5,DA,3.1),U,34)=0
"RTN","ONCNTX1",63,0)
 S $P(^ONCO(165.5,D0,3.1),U,25)="0000000"
"RTN","ONCNTX1",64,0)
 S DR="139.5;139.3" D DIQ1^ONCNTX
"RTN","ONCNTX1",65,0)
 W:$D(NTX) !,"SURG PROC/OTHER SITE @FAC...(F): ",ONC(165.5,DA,139.5,"E")
"RTN","ONCNTX1",66,0)
 W !,"SURG PROC/OTHER SITE @FAC DATE.: ",ONC(165.5,DA,139.3,"E")
"RTN","ONCNTX1",67,0)
 Q
"RTN","ONCNTX1",68,0)
 ;
"RTN","ONCNTX1",69,0)
RADATF ;RADIATION @FAC (165.5,51.4)
"RTN","ONCNTX1",70,0)
 N RFNR
"RTN","ONCNTX1",71,0)
 S $P(^ONCO(165.5,DA,3.1),U,12)=0
"RTN","ONCNTX1",72,0)
 S RFNR=$P($G(^ONCO(165.5,DA,3)),U,35)
"RTN","ONCNTX1",73,0)
 I RFNR'=8 D
"RTN","ONCNTX1",74,0)
 .S $P(^ONCO(165.5,DA,3.1),U,13)="0000000"
"RTN","ONCNTX1",75,0)
 I RFNR=8 D
"RTN","ONCNTX1",76,0)
 .S $P(^ONCO(165.5,DA,3.1),U,13)=8888888
"RTN","ONCNTX1",77,0)
 S DR="51.4;51.5" D DIQ1^ONCNTX
"RTN","ONCNTX1",78,0)
 W:$D(NTX) !,"RADIATION @FAC.................: "_ONC(165.5,DA,51.4,"E")
"RTN","ONCNTX1",79,0)
 W !,"RADIATION @FAC DATE............: ",ONC(165.5,DA,51.5,"E")
"RTN","ONCNTX1",80,0)
 Q
"RTN","ONCNTX1",81,0)
 ;
"RTN","ONCNTX1",82,0)
RSSQ ;RADIATION/SURGERY SEQUENCE (165.5,51.3)
"RTN","ONCNTX1",83,0)
 S $P(^ONCO(165.5,DA,3),U,7)=0
"RTN","ONCNTX1",84,0)
 W !,"RADIATION/SURGERY SEQUENCE.....: No rad and/or surg"
"RTN","ONCNTX1",85,0)
 Q
"RTN","ONCNTX1",86,0)
 ;
"RTN","ONCNTX1",87,0)
CHEMATF ;CHEMOTHERAPY @FAC (165.5,53.3)
"RTN","ONCNTX1",88,0)
 S $P(^ONCO(165.5,DA,3.1),U,14)="00"
"RTN","ONCNTX1",89,0)
 I $D(NTX) D
"RTN","ONCNTX1",90,0)
 .N DIE,DL,DP,DQ,DR
"RTN","ONCNTX1",91,0)
 .I COC=38 D
"RTN","ONCNTX1",92,0)
 ..W !,"CHEMOTHERAPY @FAC.............: None"
"RTN","ONCNTX1",93,0)
 .E  S DIE="^ONCO(165.5,",DR=53.3 D ^DIE
"RTN","ONCNTX1",94,0)
CMATFDT S $P(^ONCO(165.5,DA,3.1),U,15)="0000000"
"RTN","ONCNTX1",95,0)
 S DR=53.4 D DIQ1^ONCNTX
"RTN","ONCNTX1",96,0)
 W !,"CHEMOTHERAPY @FAC DATE........: ",ONC(165.5,DA,53.4,"E")
"RTN","ONCNTX1",97,0)
 W !
"RTN","ONCNTX1",98,0)
 Q
"RTN","ONCNTX1",99,0)
 ;
"RTN","ONCNTX1",100,0)
HTATF ;HORMONE THERAPY @FAC (165.5,54.3)
"RTN","ONCNTX1",101,0)
 S $P(^ONCO(165.5,DA,3.1),U,16)="00"
"RTN","ONCNTX1",102,0)
 I $D(NTX) D
"RTN","ONCNTX1",103,0)
 .N DIE,DR,DP,DL,DQ
"RTN","ONCNTX1",104,0)
 .I COC=38 D
"RTN","ONCNTX1",105,0)
 ..W !,"HORMONE THERAPY @FAC..........: None"
"RTN","ONCNTX1",106,0)
 .E  S DIE="^ONCO(165.5,",DR=54.3 D ^DIE
"RTN","ONCNTX1",107,0)
HTATFDT S $P(^ONCO(165.5,DA,3.1),U,17)="0000000"
"RTN","ONCNTX1",108,0)
 S DR=54.4 D DIQ1^ONCNTX
"RTN","ONCNTX1",109,0)
 W !,"HORMONE THERAPY @FAC DATE.....: ",ONC(165.5,DA,54.4,"E")
"RTN","ONCNTX1",110,0)
 W !
"RTN","ONCNTX1",111,0)
 Q
"RTN","ONCNTX1",112,0)
 ;
"RTN","ONCNTX1",113,0)
IMMATF ;IMMUNOTHERAPY @FAC (165.5,55.3)
"RTN","ONCNTX1",114,0)
 S $P(^ONCO(165.5,DA,3.1),U,18)="00"
"RTN","ONCNTX1",115,0)
 I $D(NTX) D
"RTN","ONCNTX1",116,0)
 .N DIE,DR,DP,DL,DQ
"RTN","ONCNTX1",117,0)
 .I COC=38 D
"RTN","ONCNTX1",118,0)
 ..W !,"IMMUNOTHERAPY @FAC............: None"
"RTN","ONCNTX1",119,0)
 .E  S DIE="^ONCO(165.5,",DR=55.3 D ^DIE
"RTN","ONCNTX1",120,0)
IMATFDT S $P(^ONCO(165.5,DA,3.1),U,19)="0000000"
"RTN","ONCNTX1",121,0)
 S DR=55.4 D DIQ1^ONCNTX
"RTN","ONCNTX1",122,0)
 W !,"IMMUNOTHERAPY @FAC DATE.......: ",ONC(165.5,DA,55.4,"E")
"RTN","ONCNTX1",123,0)
 W !
"RTN","ONCNTX1",124,0)
 Q
"RTN","ONCNTX1",125,0)
 ;
"RTN","ONCNTX1",126,0)
OTHATF ;OTHER TREATMENT @FAC (165.5,57.3)
"RTN","ONCNTX1",127,0)
 I $G(X)'=7 S $P(^ONCO(165.5,DA,3.1),U,20)=0
"RTN","ONCNTX1",128,0)
 S $P(^ONCO(165.5,DA,3.1),U,21)="0000000"
"RTN","ONCNTX1",129,0)
 S DR="57.3;57.4" D DIQ1^ONCNTX
"RTN","ONCNTX1",130,0)
 W:$D(NTX) !,"OTHER TREATMENT @FAC..........: "_ONC(165.5,DA,57.3,"E")
"RTN","ONCNTX1",131,0)
 W !,"OTHER TREATMENT @FAC DATE.....: ",ONC(165.5,DA,57.4,"E")
"RTN","ONCNTX1",132,0)
 Q
"RTN","ONCNTX1",133,0)
 ;
"RTN","ONCNTX1",134,0)
HOR ;HORMONE THERAPY (165.5,54.2)
"RTN","ONCNTX1",135,0)
 I $D(NTX) D
"RTN","ONCNTX1",136,0)
 .N DIE,DR,DP,DL,DQ
"RTN","ONCNTX1",137,0)
 .I COC=38 D
"RTN","ONCNTX1",138,0)
 ..W !,"HORMONE THERAPY...............: None"
"RTN","ONCNTX1",139,0)
 .E  S DIE="^ONCO(165.5,",DR=54.2 D ^DIE
"RTN","ONCNTX1",140,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,14)_"H"
"RTN","ONCNTX1",141,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",142,0)
 S $P(^ONCO(165.5,DA,3),U,14)="0000000" D HTDT^ONCATF1
"RTN","ONCNTX1",143,0)
 S ^ONCO(165.5,"ATX",DA,"0000000H")=""
"RTN","ONCNTX1",144,0)
 N DI,DIC,DIQ K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",145,0)
 S DR=54 D EN^DIQ1
"RTN","ONCNTX1",146,0)
 W !,"HORMONE THERAPY DATE..........: ",ONC(165.5,DA,54,"E")
"RTN","ONCNTX1",147,0)
 K ONC Q
"RTN","ONCNTX1",148,0)
 ;
"RTN","ONCNTX1",149,0)
IMM ;IMMUNOTHERAPY (165.5,55.2)
"RTN","ONCNTX1",150,0)
 I $D(NTX) D
"RTN","ONCNTX1",151,0)
 .N DIE,DR,DP,DL,DQ
"RTN","ONCNTX1",152,0)
 .I COC=38 D
"RTN","ONCNTX1",153,0)
 ..W !,"IMMUNOTHERAPY.................: None"
"RTN","ONCNTX1",154,0)
 .E  S DIE="^ONCO(165.5,",DR=55.2 D ^DIE
"RTN","ONCNTX1",155,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,17)_"B"
"RTN","ONCNTX1",156,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",157,0)
 S $P(^ONCO(165.5,DA,3),U,17)="0000000" D IMMDT^ONCATF1
"RTN","ONCNTX1",158,0)
 S ^ONCO(165.5,"ATX",DA,"0000000B")=""
"RTN","ONCNTX1",159,0)
 N DI,DIC,DIQ,X K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",160,0)
 S DR=55 D EN^DIQ1
"RTN","ONCNTX1",161,0)
 W !,"IMMUNOTHERAPY DATE:...........: ",ONC(165.5,DA,55,"E")
"RTN","ONCNTX1",162,0)
 K ONC Q
"RTN","ONCNTX1",163,0)
 ;
"RTN","ONCNTX1",164,0)
HTEP ;HEMA TRANS/ENDOCRINE PROC (165.5,153)
"RTN","ONCNTX1",165,0)
 I $D(NTX) D
"RTN","ONCNTX1",166,0)
 .N DIE,DR,DP,DL,DQ
"RTN","ONCNTX1",167,0)
 .I COC=38 D
"RTN","ONCNTX1",168,0)
 ..W !,"HEMA TRANS/ENDOCRINE PROC.....: No transplant proc/endocrine tx"
"RTN","ONCNTX1",169,0)
 .E  S DIE="^ONCO(165.5,",DR=153 D ^DIE
"RTN","ONCNTX1",170,0)
 S TXDT=$P(^ONCO(165.5,DA,3.1),U,35)_"E"
"RTN","ONCNTX1",171,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",172,0)
 S $P(^ONCO(165.5,DA,3.1),U,35)="0000000"
"RTN","ONCNTX1",173,0)
 S ^ONCO(165.5,"ATX",DA,"0000000E")=""
"RTN","ONCNTX1",174,0)
 N DI,DIC,DIQ,X K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",175,0)
 S DR=153.1 D EN^DIQ1
"RTN","ONCNTX1",176,0)
 W !,"HEMA TRANS/ENDOCRINE PROC DATE: ",ONC(165.5,DA,153.1,"E")
"RTN","ONCNTX1",177,0)
 K ONC W ! Q
"RTN","ONCNTX1",178,0)
 ;
"RTN","ONCNTX1",179,0)
SSS ;SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"RTN","ONCNTX1",180,0)
 S $P(^ONCO(165.5,DA,3.1),U,39)=0
"RTN","ONCNTX1",181,0)
 W !,"SYSTEMIC/SURGERY SEQUENCE.....: No systemic and/or surgery"
"RTN","ONCNTX1",182,0)
 W !
"RTN","ONCNTX1",183,0)
 Q
"RTN","ONCNTX1",184,0)
 ;
"RTN","ONCNTX1",185,0)
OTH ;OTHER TREATMENT (165.5,57.2)
"RTN","ONCNTX1",186,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,23)_"O"
"RTN","ONCNTX1",187,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCNTX1",188,0)
 S $P(^ONCO(165.5,DA,3),U,23)="0000000" D OTHDT^ONCATF1
"RTN","ONCNTX1",189,0)
 S ^ONCO(165.5,"ATX",DA,"0000000O")=""
"RTN","ONCNTX1",190,0)
 N DI,DIC,DIQ,X K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",191,0)
 S DR="57.2;57" D EN^DIQ1
"RTN","ONCNTX1",192,0)
 W:$D(NTX) !,"OTHER TREATMENT...............: ",ONC(165.5,DA,57.2,"E")
"RTN","ONCNTX1",193,0)
 W !,"OTHER TREATMENT DATE:.........: ",ONC(165.5,DA,57,"E")
"RTN","ONCNTX1",194,0)
 K ONC Q
"RTN","ONCNTX1",195,0)
 ;
"RTN","ONCNTX1",196,0)
PRO ;PROTOCOL PARTICIPATION (165.5,560)
"RTN","ONCNTX1",197,0)
 S $P(^ONCO(165.5,DA,"STS2"),U,31)="00"
"RTN","ONCNTX1",198,0)
 S $P(^ONCO(165.5,DA,3.1),U,4)="0000"
"RTN","ONCNTX1",199,0)
 N DI,DIC,DIQ K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCNTX1",200,0)
 S DR="133;560" D EN^DIQ1
"RTN","ONCNTX1",201,0)
 W !,"PROTOCOL PARTICIPATION........: ",ONC(165.5,DA,560,"E")
"RTN","ONCNTX1",202,0)
 W !,"YEAR PUT ON PROTOCOL..........: ",ONC(165.5,DA,133,"E")
"RTN","ONCNTX1",203,0)
 K ONC Q
"RTN","ONCNTX1",204,0)
 ;
"RTN","ONCNTX1",205,0)
RR ;RECONSTRUCTION/RESTORATION (165.5,23)
"RTN","ONCNTX1",206,0)
 N LAST,NUM,RR,RTK
"RTN","ONCNTX1",207,0)
 F RTK=0:0 S RTK=$O(^ONCO(164,RTK)) Q:RTK'>0  D
"RTN","ONCNTX1",208,0)
 .I '$D(^ONCO(164,RTK,"RR5",0)) Q
"RTN","ONCNTX1",209,0)
 .W !,RTK
"RTN","ONCNTX1",210,0)
 .S NUM=$O(^ONCO(164,RTK,"RR5",0))
"RTN","ONCNTX1",211,0)
 .W !?3,"FIRST:",?11,NUM,?14,$G(^ONCO(164,RTK,"RR5",NUM,0))
"RTN","ONCNTX1",212,0)
 .F RR=0:0 S RR=$O(^ONCO(164,RTK,"RR5",RR)) Q:RR="B"  S LAST=RR
"RTN","ONCNTX1",213,0)
 .W !?3,"LAST :",?11,LAST,?14,$G(^ONCO(164,RTK,"RR5",LAST,0))
"RTN","ONCNTX1",214,0)
 Q
"RTN","ONCNTX1",215,0)
 ;
"RTN","ONCNTX1",216,0)
RRDEFIT ;RECONSTRUCTION/RESTORATION default (165.5,23)
"RTN","ONCNTX1",217,0)
 I X="No reconstruction/restoration" S X=0 Q
"RTN","ONCNTX1",218,0)
 I X="NA"!(X["Unknown; not stated") S X=9 Q
"RTN","ONCNTX1",219,0)
 Q
"RTN","ONCNTX1",220,0)
 ;
"RTN","ONCNTX1",221,0)
RFNSHLP ;REASON NO SURGERY OF PRIMARY (165.5,58) help
"RTN","ONCNTX1",222,0)
 W !,"   Record the reason that no surgery was perforned on the primary site."
"RTN","ONCNTX1",223,0)
 Q
"RTN","ONCNTX1",224,0)
 ;
"RTN","ONCNTX1",225,0)
RFNRHLP ;REASON FOR NO RADIATION (165.5,75) help
"RTN","ONCNTX1",226,0)
 W !,"   Records the reason that no regional radiation"
"RTN","ONCNTX1",227,0)
 W !,"   therapy was administered to the primary site."
"RTN","ONCNTX1",228,0)
 W !
"RTN","ONCNTX1",229,0)
 W !,"   For further information see FORDS page 168."
"RTN","ONCNTX1",230,0)
 Q
"RTN","ONCNTX1",231,0)
 ;
"RTN","ONCNTX1",232,0)
EXIT W ! S Y="@424"
"RTN","ONCNTX1",233,0)
 Q
"RTN","ONCNTX1",234,0)
 ;
"RTN","ONCNTX1",235,0)
CLEANUP ;Cleanup
"RTN","ONCNTX1",236,0)
 K COC,D0,DA,DATEDX,NTX,Y
"RTN","ONCOAI")
0^4^B28755753
"RTN","ONCOAI",1,0)
ONCOAI ;Hines OIFO/GWB [AI Complete Abstract] ;07/22/11
"RTN","ONCOAI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAI",3,0)
 ;
"RTN","ONCOAI",4,0)
BEG D EX
"RTN","ONCOAI",5,0)
 W @IOF,!!!
"RTN","ONCOAI",6,0)
 S DIC("A")="    Enter patient name: ",DLAYGO=160,DIC="^ONCO(160,"
"RTN","ONCOAI",7,0)
 S DIC(0)="AELMQZ" D ^DIC K DIC,DLAYGO G EX:Y<0
"RTN","ONCOAI",8,0)
 S (D0,ONCOD0)=+Y,ONCOVP=$P(Y,U,2)
"RTN","ONCOAI",9,0)
 S ONCONM=Y(0,0),ONCONAM=$P(ONCONM,",",2)_" "_$P(ONCONM,",",1)
"RTN","ONCOAI",10,0)
 S PT0=Y(0),SEX=$P(PT0,U,8) G:SEX'="" PD
"RTN","ONCOAI",11,0)
 ;
"RTN","ONCOAI",12,0)
DEM ;Display demographic data
"RTN","ONCOAI",13,0)
 D ^ONCOAID
"RTN","ONCOAI",14,0)
PD K DXS,DIOT S D0=ONCOD0 D PRT^ONCPDI
"RTN","ONCOAI",15,0)
 S SX=$S(SEX=1:"M",SEX=2:"F",1:"")
"RTN","ONCOAI",16,0)
 S ONCOSX=$S(SX="M":"Male",SX="F":"Female",1:"")
"RTN","ONCOAI",17,0)
A1 K DIR W ! S DIR("A")="    Edit patient data",DIR("B")="YES",DIR(0)="Y"
"RTN","ONCOAI",18,0)
 D ^DIR G CONT:Y[U,EX:Y="",HIS:'Y
"RTN","ONCOAI",19,0)
 ;
"RTN","ONCOAI",20,0)
PAT ;Edit ONCOLOGY PATIENT (160) data
"RTN","ONCOAI",21,0)
 N RACE,R1 S RACE="" D RACE^ONCOES
"RTN","ONCOAI",22,0)
 I X'="" D
"RTN","ONCOAI",23,0)
 .S R1=X
"RTN","ONCOAI",24,0)
 .S RACE=$S(R1["BLACK":"Black",R1["WHITE":"White",R1["AMERICAN INDIAN OR ALASKA NATIVE":"American Indian, Aleutian, Eskimo",1:"")
"RTN","ONCOAI",25,0)
 D ENVIRON^ONCOES
"RTN","ONCOAI",26,0)
 S ONCOL=0,DA=ONCOD0
"RTN","ONCOAI",27,0)
 L +^ONCO(160,DA):0 I $T D ^ONCPAT L -^ONCO(160,DA) S ONCOL=1
"RTN","ONCOAI",28,0)
 I 'ONCOL W !,"Another user is editing this patient."
"RTN","ONCOAI",29,0)
 K ONCOL
"RTN","ONCOAI",30,0)
 ;
"RTN","ONCOAI",31,0)
HIS ;Patient History
"RTN","ONCOAI",32,0)
 K DIR W !
"RTN","ONCOAI",33,0)
 S DIR("A")="    Continue with Patient History",DIR(0)="Y",DIR("B")="Yes"
"RTN","ONCOAI",34,0)
 D ^DIR G CONT:Y[U,EX:Y="",CK:Y=0
"RTN","ONCOAI",35,0)
 S D0=ONCOD0 D PH^ONCPDI
"RTN","ONCOAI",36,0)
 S ONCOL=0,DA=ONCOD0
"RTN","ONCOAI",37,0)
 L +^ONCO(160,DA):0 I $T D ^ONCPTHST L -^ONCO(160,DA) S ONCOL=1
"RTN","ONCOAI",38,0)
 I 'ONCOL W !,"Another user is editing this patient"
"RTN","ONCOAI",39,0)
 K ONCOL
"RTN","ONCOAI",40,0)
 ;
"RTN","ONCOAI",41,0)
CK ;Check for existing primaries
"RTN","ONCOAI",42,0)
 S ONCOP0=$O(^ONCO(165.5,"C",ONCOD0,0)) I ONCOP0'="" S ONCOP=$S($D(^ONCO(165.5,ONCOP0,0)):^(0),1:"") I ONCOP'="" G PRIM2
"RTN","ONCOAI",43,0)
 ;
"RTN","ONCOAI",44,0)
PRIM1 ;Register a primary for this patient
"RTN","ONCOAI",45,0)
REG D KIL S DIR("B")="Yes",DIR(0)="Y",DIR("A")="    Register a Primary for this patient" W !! D ^DIR G AIP:Y,EX:Y="",CONT
"RTN","ONCOAI",46,0)
 ;
"RTN","ONCOAI",47,0)
PRIM2 ;patient in PRIMARY FILE
"RTN","ONCOAI",48,0)
 D SDD^ONCOCOM
"RTN","ONCOAI",49,0)
 W !," Date Last Contact: ",$$GET1^DIQ(160,ONCOD0,16,"E")
"RTN","ONCOAI",50,0)
 W !," Status:            ",$$GET1^DIQ(160,ONCOD0,15,"E")
"RTN","ONCOAI",51,0)
 W !," Follow-up Status:  ",$$GET1^DIQ(160,ONCOD0,15.2,"E")
"RTN","ONCOAI",52,0)
ASK K DIR,Y S DIR(0)="S^E:EDIT existing Primary;A:ADD another Primary;F:Follow-Up;Q:Quit Patient",DIR("A")="     EDIT/ADD primary for this patient",DIR("B")="Edit" D ^DIR G EDT:Y="E",AIP:Y="A",FOL:Y="F",CONT:Y="Q",CONT:U,EX
"RTN","ONCOAI",53,0)
 ;
"RTN","ONCOAI",54,0)
EDT ;Select primary to edit
"RTN","ONCOAI",55,0)
 S D="C",DIC(0)="EZ",DIC="^ONCO(165.5,",X=ONCONM D IX^DIC K D,DIC,X W ! G BEG:Y<0 I Y=" " W ?40,"Space bar not allowed!" G EDT
"RTN","ONCOAI",56,0)
 S ONCOD0P=+Y D EN^ONCOAIP G EX
"RTN","ONCOAI",57,0)
 ;
"RTN","ONCOAI",58,0)
AIP ;Abstract all Primary Data;Return with (D0,ONCOD0P)=Primary Record Number
"RTN","ONCOAI",59,0)
 D @($S(ONCOP0="":"EN^ONCOAIC",ONCOP'="":"EN^ONCOAIM",1:"ER")) G SET:Y,EX:Y="",CONT
"RTN","ONCOAI",60,0)
 ;
"RTN","ONCOAI",61,0)
SET S (SR,XD,MO,CS)=""
"RTN","ONCOAI",62,0)
 N SSPIEN
"RTN","ONCOAI",63,0)
 S SSPIEN=$O(^ONCO(160,ONCOD0,"SUS","C",DUZ(2),"")) I SSPIEN'="" D
"RTN","ONCOAI",64,0)
 .S XD=$P(^ONCO(160,ONCOD0,"SUS",SSPIEN,0),U,1)
"RTN","ONCOAI",65,0)
 .S SR=$P(^ONCO(160,ONCOD0,"SUS",SSPIEN,0),U,3)
"RTN","ONCOAI",66,0)
 .S CS=$S(SR="LS":20,SR="LC":20,SR="LE":20,SR="PT":21,SR="RA":26,1:"")
"RTN","ONCOAI",67,0)
 .S MO=$P(^ONCO(160,ONCOD0,"SUS",SSPIEN,0),U,11)
"RTN","ONCOAI",68,0)
 .S DA(1)=ONCOD0,DA=SSPIEN,DIK="^ONCO(160,"_DA(1)_",""SUS""," D ^DIK
"RTN","ONCOAI",69,0)
 S ONCOL=0
"RTN","ONCOAI",70,0)
 S DIE="^ONCO(165.5,"
"RTN","ONCOAI",71,0)
 S (D0,DA)=ONCOD0P
"RTN","ONCOAI",72,0)
 S DR="3///^S X=XD;91///0;95///2;21///^S X=CS"
"RTN","ONCOAI",73,0)
 L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S ONCOL=1
"RTN","ONCOAI",74,0)
 I MO="" G SET1
"RTN","ONCOAI",75,0)
 I ((XD<3010000)&('$D(^ONCO(164.1,MO,0))))!((XD>3001231)&('$D(^ONCO(169.3,MO,0)))) D  W ! K DIR S DIR(0)="E" D ^DIR G:Y=0 EX G SET1
"RTN","ONCOAI",76,0)
 .W !!,"WARNING:"
"RTN","ONCOAI",77,0)
 .W !,"The morphology code ",$E(MO,1,4)_"/"_$E(MO,5,6)," found by lab casefinding is not a valid ICD-O code."
"RTN","ONCOAI",78,0)
 .W !,"Enter the correct morphology code at the appropriate HISTOLOGY (ICD-O) prompt."
"RTN","ONCOAI",79,0)
 S:XD<3010000 $P(^ONCO(165.5,D0,2),U,3)=MO,$P(^ONCO(165.5,D0,2.2),U,3)=MO
"RTN","ONCOAI",80,0)
 S:XD>3001231 $P(^ONCO(165.5,D0,2.2),U,3)=MO
"RTN","ONCOAI",81,0)
SET1 D MS^ONCOCOM,EN^ONCOAIP
"RTN","ONCOAI",82,0)
 I 'ONCOL W !,"Another user is editing this patient data."
"RTN","ONCOAI",83,0)
 K CS,ONCOL,MO,SR,XD
"RTN","ONCOAI",84,0)
 ;
"RTN","ONCOAI",85,0)
CONT ;Continue another patient
"RTN","ONCOAI",86,0)
 K DIR W !! S DIR("A")="  Abstract another patient",DIR(0)="Y",DIR("B")="Yes" D ^DIR G BEG:Y,EX
"RTN","ONCOAI",87,0)
 Q
"RTN","ONCOAI",88,0)
FOL ;Follow-Up
"RTN","ONCOAI",89,0)
 S ONCOAI=1 D EN^ONCOAIF
"RTN","ONCOAI",90,0)
 Q
"RTN","ONCOAI",91,0)
 ;
"RTN","ONCOAI",92,0)
KILL ;Kill variables
"RTN","ONCOAI",93,0)
 K ONCOACN,ONCO,ONCOD0,ONCOD0P,ONCOMR,ONCONM,ONCOOUT,ONCOP,ONCOP0,ONCOSN
"RTN","ONCOAI",94,0)
 K ONCOSX,ONCOEDIT,ONCOPB,ONCOSIT,ONCONAM,ONCOPN,ONCOVP,ONCOVS,ONCOX
"RTN","ONCOAI",95,0)
 K ONCOAI,ONCOANS,ONCOT,ONCOYR,IIN,SSN,TAB,SITTAB,TOPCOD,SITEGP
"RTN","ONCOAI",96,0)
 K TOPNAM,TOPTAB
"RTN","ONCOAI",97,0)
KIL K D1,DI,DN,DIR,DIC,DIE,COB,COC,D,DA,D0,DIR,DR,NM,R,RC,RCC,SEX,SX,POB,SN,TL,X
"RTN","ONCOAI",98,0)
 K A,AG,ABS,AN,ANS,C,CC,CT,CTY,DEF,DIK,DLAYGO,I2,I9,PT0,PTR,ST,SDD,VP0
"RTN","ONCOAI",99,0)
 K VPR,XN,DXS,FIL,G,I,J,K,L,M,N,N2,NM,O2,VAERR,D0P,ICD,OT,R1,R2,RIPD0
"RTN","ONCOAI",100,0)
 K XDT,XS,XTS,ZP,ZIP,RY,FG,P,MC,MO,KK,OD,ONCOAD,ONCODD,ONCOICD,OS,PR,Q,S
"RTN","ONCOAI",101,0)
 K SC,SR,T,TS,UF,XDA,XLC,XY,%ZISOS
"RTN","ONCOAI",102,0)
 Q
"RTN","ONCOAI",103,0)
ER ;Error
"RTN","ONCOAI",104,0)
 W !!?5,"Something is wrong with database!! - See Site Manager" S Y="" Q
"RTN","ONCOAI",105,0)
EX D KILL
"RTN","ONCOAI",106,0)
 K ONCOANS,D0,DA,DIC,DIE,DIR,DQ,DR,MS,PR,R1,R2,RS,RIP,SR,ST,SY,T,S,Z,ER,TM,CS,XD0,XD1
"RTN","ONCOAI",107,0)
 K A,AG,D0,D1,DA,DXS,FIL,G,I,J,K,L,M,N,NM,O2,TD,TX,OT,DOP,ICD,C,XX,ONCOYR
"RTN","ONCOAI",108,0)
 K ONCOAD,ONCODD,VAERR,ONCO,ONCOD0P,ONCONM,OP,ONCOD0,%W,%X,%Y,%ZISOS
"RTN","ONCOAI",109,0)
 K STAT
"RTN","ONCOAI",110,0)
 Q
"RTN","ONCOAI",111,0)
 ;
"RTN","ONCOAI",112,0)
WRTSDC ;CALLED BY [ONCO XDEATH INFO] PRINT TEMPLATE
"RTN","ONCOAI",113,0)
 N DI,DIC,DA
"RTN","ONCOAI",114,0)
 K DIQ S DIC="^ONCO(160,",DR="19.1",DA=D0,DIQ="ONCSDC" D EN^DIQ1
"RTN","ONCOAI",115,0)
 W !?4,"State Death Cert: ",ONCSDC(160,D0,19.1)
"RTN","ONCOAI",116,0)
 K ONCSDC
"RTN","ONCOAI",117,0)
 Q
"RTN","ONCOAI",118,0)
 ;
"RTN","ONCOAI",119,0)
CON ;ADD CONTACTS
"RTN","ONCOAI",120,0)
 ;G BEG:$P($G(^ONCO(160,ONCOD0,1)),U)=0,BEG:$D(^ONCO(160,"APC",ONCOD0))  S,EX:Y="" DIR("A")="     ADD CONTACTS at this time",DIR(0)="Y" W !! D ^DIR G BEG:'Y,CONT:Y[U D DCL^ONCOFUL
"RTN","ONCOAIC")
0^150^B11789159
"RTN","ONCOAIC",1,0)
ONCOAIC ;Hines OIFO/GWB - Create first primary for a patient ;03/08/11
"RTN","ONCOAIC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIC",3,0)
 ;
"RTN","ONCOAIC",4,0)
EN ;Create first ONCOLOGY PRINMARY (165.5) record
"RTN","ONCOAIC",5,0)
 D KILL
"RTN","ONCOAIC",6,0)
 W @IOF
"RTN","ONCOAIC",7,0)
 W !!?5,"******** CREATE FIRST PRIMARY RECORD FOR THIS PATIENT*******",!!
"RTN","ONCOAIC",8,0)
 W:$D(ONCONM) ?5,"PATIENT: ",ONCONM
"RTN","ONCOAIC",9,0)
 ;
"RTN","ONCOAIC",10,0)
LOOK1 ;Select first primary
"RTN","ONCOAIC",11,0)
 K DIC,ONCOPN,ONCOSIT
"RTN","ONCOAIC",12,0)
 S DIC="^ONCO(164.2,",DIC(0)="AEQM"
"RTN","ONCOAIC",13,0)
 S DIC("A")="     Select first Primary SITE/GP: "
"RTN","ONCOAIC",14,0)
 S DIC("S")="I '$P(^(0),U,3)"
"RTN","ONCOAIC",15,0)
 W ! D ^DIC K DIC G EX:Y<0
"RTN","ONCOAIC",16,0)
 S (XX,X,ONCOSIT)=+Y,ONCOPN=$P(Y,U,2),XD0=ONCOD0
"RTN","ONCOAIC",17,0)
 D SEX^ONCOCKI G LOOK1:'$D(X)
"RTN","ONCOAIC",18,0)
 ;
"RTN","ONCOAIC",19,0)
A2 ;Create first ONCOLOGY PRIMARY (165.5) record for this patient
"RTN","ONCOAIC",20,0)
 L +(^ONCO(165.5,"ACAY"),^ONCO(165.5,"ACD"),^ONCO(165.5,"AF")):2
"RTN","ONCOAIC",21,0)
 I '$T G ASK
"RTN","ONCOAIC",22,0)
 W !
"RTN","ONCOAIC",23,0)
 K DIR,ONCOD0P
"RTN","ONCOAIC",24,0)
 S DIR("A")="     Ok to ADD:",DIR("B")="Yes",DIR(0)="Y" D ^DIR
"RTN","ONCOAIC",25,0)
 G A:Y,EN:Y=0 Q
"RTN","ONCOAIC",26,0)
 ;
"RTN","ONCOAIC",27,0)
A K DO
"RTN","ONCOAIC",28,0)
 W !,?5,"Creating a new Primary record for ",ONCONM
"RTN","ONCOAIC",29,0)
 S DIC="^ONCO(165.5,",DIC(0)="Z"
"RTN","ONCOAIC",30,0)
 S X=ONCOSIT
"RTN","ONCOAIC",31,0)
 S DIC("DR")="2000////^S X=DUZ(2);236////^S X=DT;244////^S X=DUZ"
"RTN","ONCOAIC",32,0)
 D FILE^DICN
"RTN","ONCOAIC",33,0)
 K DIC,X G EX:Y<0
"RTN","ONCOAIC",34,0)
 S ONCOD0P=+Y
"RTN","ONCOAIC",35,0)
 S $P(^ONCO(165.5,+Y,0),U,2)=ONCOD0,$P(^(7),U,2)=0
"RTN","ONCOAIC",36,0)
 S ^ONCO(165.5,"C",ONCOD0,ONCOD0P)=""
"RTN","ONCOAIC",37,0)
 ;
"RTN","ONCOAIC",38,0)
NAN ;New ACCESSION NUMBER (165.5,.05)
"RTN","ONCOAIC",39,0)
 K DIR
"RTN","ONCOAIC",40,0)
 S DIR(0)="N^:2099",DIR("A")="     ACCESSION YEAR"
"RTN","ONCOAIC",41,0)
 S DIR("B")=$E(DT,1)+17_$E(DT,2,3)
"RTN","ONCOAIC",42,0)
 S Y=$G(^ONCO(165.5,"ACAY"))
"RTN","ONCOAIC",43,0)
 W ! D ^DIR
"RTN","ONCOAIC",44,0)
 I Y[U!(Y="") S Y=ONCOD0P D KLN Q
"RTN","ONCOAIC",45,0)
 I $L(Y)'=4 W !!?5,"ACCESSION YEAR must be 4 digits!" G NAN
"RTN","ONCOAIC",46,0)
 S YR=Y,^ONCO(165.5,"ACAY")=YR,AC=$O(^ONCO(165.5,"ACD",Y,0))
"RTN","ONCOAIC",47,0)
 I AC'="" S AC=Y_AC,SEQ="00" G DIE
"RTN","ONCOAIC",48,0)
NA S MR=YR_"00001",XR=999999999-((YR+1)_"00000")
"RTN","ONCOAIC",49,0)
 S NR=$O(^ONCO(165.5,"AF",XR))
"RTN","ONCOAIC",50,0)
 G AC:NR=""
"RTN","ONCOAIC",51,0)
 I NR<(999900002-MR) W !!?5,"SYSTEM appears out of numbers.  Looking for unassigned ones" D FND G DIE:Y'="",EX
"RTN","ONCOAIC",52,0)
 I NR>(999999999-MR) S NR=""
"RTN","ONCOAIC",53,0)
AC S AC=$S(NR="":YR_"00001",1:(1000000000-NR)),SEQ="00"
"RTN","ONCOAIC",54,0)
 S AC=$S($L(AC)=1:"00000"_AC,$L(AC)=2:"0000"_AC,$L(AC)=3:"000"_AC,$L(AC)=4:"00"_AC,$L(AC)=5:"0"_AC,1:AC)
"RTN","ONCOAIC",55,0)
 ;
"RTN","ONCOAIC",56,0)
DIE S DIE="^ONCO(165.5,",DA=ONCOD0P
"RTN","ONCOAIC",57,0)
 S DR="W !,?5;.07///^S X=YR;.05//^S X=AC;.06//^S X=SEQ"
"RTN","ONCOAIC",58,0)
 S ACN=AC_"/"_SEQ
"RTN","ONCOAIC",59,0)
 D ^DIE
"RTN","ONCOAIC",60,0)
LOCK L -(^ONCO(165.5,"ACAY"),^ONCO(165.5,"ACD"),^ONCO(165.5,"AF")):1 G ASK:'$T,PID:$D(Y)=0 S Y=ONCOD0P D KLN G EX
"RTN","ONCOAIC",61,0)
 ;
"RTN","ONCOAIC",62,0)
ASK W !
"RTN","ONCOAIC",63,0)
 S DIR("A")="     Another user is accessioning.  Try Again",DIR(0)="Y"
"RTN","ONCOAIC",64,0)
 S DIR("B")="Y"
"RTN","ONCOAIC",65,0)
 S DIR("?")=" "
"RTN","ONCOAIC",66,0)
 S DIR("?",1)="   Another user is obtaining the next available ACCESSION NUMBER."
"RTN","ONCOAIC",67,0)
 S DIR("?",2)="   Please wait a few seconds and try again."
"RTN","ONCOAIC",68,0)
 D ^DIR G A2:Y=1
"RTN","ONCOAIC",69,0)
 Q
"RTN","ONCOAIC",70,0)
 ;
"RTN","ONCOAIC",71,0)
FND ;Search for unused accession numbers
"RTN","ONCOAIC",72,0)
 S NR=YR_"00000",MR=(YR+1)_"00000"
"RTN","ONCOAIC",73,0)
NR S NR=NR+1 I NR<MR G:$D(^ONCO(165.5,"AA",NR)) NR S AC=NR,SEQ="00",Y=1 Q
"RTN","ONCOAIC",74,0)
 W !!?10,"OUT of ACCESSION Numbers for "_YR S Y=""
"RTN","ONCOAIC",75,0)
 Q
"RTN","ONCOAIC",76,0)
 ;
"RTN","ONCOAIC",77,0)
PID ;Continue defining Primary Record
"RTN","ONCOAIC",78,0)
 S ONCOACN=AC_"/"_SEQ,Y=1 D KILL Q
"RTN","ONCOAIC",79,0)
 ;
"RTN","ONCOAIC",80,0)
KLN ;KILL entry
"RTN","ONCOAIC",81,0)
 S DA=+Y,DIK="^ONCO(165.5," D ^DIK,KILL
"RTN","ONCOAIC",82,0)
 R !?5,"<ENTRY DELETED> - press RETURN to continue->",DA:DTIME
"RTN","ONCOAIC",83,0)
 Q:'$T!(DA=U)
"RTN","ONCOAIC",84,0)
 W !
"RTN","ONCOAIC",85,0)
 Q
"RTN","ONCOAIC",86,0)
 ;
"RTN","ONCOAIC",87,0)
KILL ;KILL variables 
"RTN","ONCOAIC",88,0)
 K AC,ACN,DA,DIC,DIE,DIK,DIR,DR
"RTN","ONCOAIC",89,0)
 K MR,NR,SEQ,X,XX,XD0,XR,YR
"RTN","ONCOAIC",90,0)
 Q
"RTN","ONCOAIC",91,0)
 ;
"RTN","ONCOAIC",92,0)
EX ;Exit
"RTN","ONCOAIC",93,0)
 D KILL S Y=0
"RTN","ONCOAIC",94,0)
 Q
"RTN","ONCOAIC",95,0)
 ;
"RTN","ONCOAIC",96,0)
CLEANUP ;Cleanup
"RTN","ONCOAIC",97,0)
 K ONCOACN,ONCOD0,ONCONM,Y
"RTN","ONCOAID")
0^151^B8458397
"RTN","ONCOAID",1,0)
ONCOAID ;Hines OIFO/GWB - Patient Demographic Information ;6/23/10
"RTN","ONCOAID",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAID",3,0)
 ;
"RTN","ONCOAID",4,0)
DEM ;Display demographic information
"RTN","ONCOAID",5,0)
 D SET S X=ONCOVP,DFN=$P(X,";",1),FIL=$P(X,";",2)
"RTN","ONCOAID",6,0)
 S ONC="^"_FIL_DFN
"RTN","ONCOAID",7,0)
 S ONCO=ONC_",0)" S ONCO0=$S($D(@ONCO):^(0),1:"") I ONCO0="" W "??dangling pointer" Q
"RTN","ONCOAID",8,0)
FIL ;name file
"RTN","ONCOAID",9,0)
 S FN=$S(FIL="DPT(":"Patient",1:"Referral")
"RTN","ONCOAID",10,0)
SN S SN=$P(ONCO0,U,9),ONCOMR=SN,ONCOSN=$E(SN,1,3)_"-"_$E(SN,4,5)_"-"_$E(SN,6,9)
"RTN","ONCOAID",11,0)
DB S Y=$P(ONCO0,U,3) D DD^%DT S ONCODB=Y
"RTN","ONCOAID",12,0)
PB S POB=$P(ONCO0,U,12),SOB=$S(POB="":"",1:$P($G(^DIC(5,POB,0)),U))
"RTN","ONCOAID",13,0)
 ;
"RTN","ONCOAID",14,0)
 ;Translate SEX and RACE
"RTN","ONCOAID",15,0)
SX S SX=$P(ONCO0,U,2),SEX=$S(SX="M":"Male",SX="F":"Female",1:"Not Stated")
"RTN","ONCOAID",16,0)
RC S R=$P(ONCO0,U,6),RC=$G(^ONCO(164.46,+R,0)),R=$P(RC,U,2),RCE=$P(RC,U)
"RTN","ONCOAID",17,0)
 S RCE=$S(RC="":"Not Stated",1:RCE)
"RTN","ONCOAID",18,0)
 ;
"RTN","ONCOAID",19,0)
MS ;marital status
"RTN","ONCOAID",20,0)
 S MS=$P(ONCO0,U,5),MS=$S(MS=1:4,MS=4:5,MS=5:3,MS=6:1,MS=7:9,1:MS) ;SAVE for abstract
"RTN","ONCOAID",21,0)
XD S ONCO=ONC_",.35)" S Y=$S($D(@ONCO):$P(@ONCO,U),1:"") I Y'="" S ONCODD=Y D DD^%DT S XD=Y ;    ONC defined in paragraph DEM above
"RTN","ONCOAID",22,0)
AD S ONCO=ONC_",.11)" S YY=$S($D(@ONCO):^(.11),1:"") I YY F J=1:1:7 S A(J)=$P(YY,U,J) K:A(J)="" A(J) ;    ONC defined in paragraph DEM above
"RTN","ONCOAID",23,0)
TL S ONCO=ONC_",.13)" I $D(@ONCO) S TL=$P(^(.13),U,1) ;    ONC defined in paragraph DEM above
"RTN","ONCOAID",24,0)
W W !!,?6,"The following information is contained in the ",FN," file"
"RTN","ONCOAID",25,0)
 W !?12,"NOT editable - See your MAS department IF in error",!
"RTN","ONCOAID",26,0)
N W !?20,"Name: ",ONCONM,!
"RTN","ONCOAID",27,0)
1 W !,"DOB:  ",ONCODB W:$D(A(1)) ?31,"Address: ",A(1) W:$D(A(2)) " ",A(2)
"RTN","ONCOAID",28,0)
2 W !,"SSN:  ",ONCOSN W:$D(A(4)) ?40,A(4) W:$D(A(5)) ",",$P(^DIC(5,A(5),0),U)
"RTN","ONCOAID",29,0)
4 W !,"SEX:  ",SEX W:$D(CT) ?40,"County: ",CT
"RTN","ONCOAID",30,0)
 W !,"POB:  ",$S(SOB="":"Not Stated",1:SOB) W:$D(TL) ?40,TL
"RTN","ONCOAID",31,0)
 W:$D(XD) !,"DEATH: ",XD
"RTN","ONCOAID",32,0)
TT S D0=ONCOD0 W ! D NOK^ONCOCON
"RTN","ONCOAID",33,0)
 G PAT
"RTN","ONCOAID",34,0)
 ;
"RTN","ONCOAID",35,0)
PAT S ONCOSX=$S(SX="M":1,SX="F":2,1:9)
"RTN","ONCOAID",36,0)
XX S RCC=$S(R="":99,R<4:R,R=4:2,R=6:1,1:99)
"RTN","ONCOAID",37,0)
POB S X=SOB,DIC="^ONCO(165.2,",DIC(0)="ZM" D ^DIC K DIC,X
"RTN","ONCOAID",38,0)
 S ONCOPB=$S(Y=-1:999,+Y=633:33,1:+Y)
"RTN","ONCOAID",39,0)
 S $P(^ONCO(160,ONCOD0,0),U,5,8)=ONCOPB_U_ONCORC_U_ONCOET_U_ONCOSX
"RTN","ONCOAID",40,0)
 S:$D(ONCODD) $P(^ONCO(160,ONCOD0,1),U,8)=ONCODD
"RTN","ONCOAID",41,0)
 D KILL Q
"RTN","ONCOAID",42,0)
 ;
"RTN","ONCOAID",43,0)
SET S (POB,ET,YY,TL,ONCODB,ONCODD,ONCOET,ONCOMR,ONCOPB,ONCORC,ONCOSN,ONCOSX)=""
"RTN","ONCOAID",44,0)
 N SEX
"RTN","ONCOAID",45,0)
 Q
"RTN","ONCOAID",46,0)
 ;
"RTN","ONCOAID",47,0)
KILL ;Kill variables
"RTN","ONCOAID",48,0)
 K A,D0,CT,DFN,DIC,ET,FIL,FN,J,MS,ONC,ONCO,ONCO0,ONCODB,ONCODD,ONCOET
"RTN","ONCOAID",49,0)
 K ONCOMR,ONCOPB,ONCORC,ONCOSN,ONCOSX,ONCOVP,POB,R,RC,RCC,RCE,SN,SOB,SX
"RTN","ONCOAID",50,0)
 K TL,X,XD,Y,YY
"RTN","ONCOAID",51,0)
 Q
"RTN","ONCOAID",52,0)
 ;
"RTN","ONCOAID",53,0)
CLEANUP ;Cleanup
"RTN","ONCOAID",54,0)
 K ONCOD0,ONCONM
"RTN","ONCOAIF")
0^152^B51005422
"RTN","ONCOAIF",1,0)
ONCOAIF ;Hines OIFO/GWB - [PF Post/Edit Follow-up] ;11/08/10
"RTN","ONCOAIF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIF",3,0)
 ;
"RTN","ONCOAIF",4,0)
BEG W @IOF,!," Post/Edit Follow-up"
"RTN","ONCOAIF",5,0)
 W !," -------------------",!
"RTN","ONCOAIF",6,0)
 Q
"RTN","ONCOAIF",7,0)
 ;
"RTN","ONCOAIF",8,0)
PAT ;[PF Post/Edit Follow-up]
"RTN","ONCOAIF",9,0)
 N ONCDUZ,ONCDT
"RTN","ONCOAIF",10,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",11,0)
 D BEG
"RTN","ONCOAIF",12,0)
 S DIC("A")=" Post/Edit Follow-Up for patient: "
"RTN","ONCOAIF",13,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQZ" D ^DIC K DIC
"RTN","ONCOAIF",14,0)
 G KILL:Y<0
"RTN","ONCOAIF",15,0)
 S (ONCOD0,DA,D0)=+Y,ONCONM=Y(0,0)
"RTN","ONCOAIF",16,0)
 D SUM,LST^ONCODLF G DIE
"RTN","ONCOAIF",17,0)
 ;
"RTN","ONCOAIF",18,0)
LST ;Follow-Up
"RTN","ONCOAIF",19,0)
 W @IOF,!!," **********FOLLOW-UP**********",!!
"RTN","ONCOAIF",20,0)
 W " Patient: ",ONCONM
"RTN","ONCOAIF",21,0)
 W:$D(XDD) !," Date of Inpatient Discharge: ",XDD
"RTN","ONCOAIF",22,0)
 Q
"RTN","ONCOAIF",23,0)
 ;
"RTN","ONCOAIF",24,0)
EN ;FOLLOW-UP entry when patient has been pre-selected
"RTN","ONCOAIF",25,0)
 K F,DIC,DO,ONCOD1,LC,VS,NF,XDT,XDD,XR
"RTN","ONCOAIF",26,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",27,0)
 S PRESEL=1
"RTN","ONCOAIF",28,0)
 ;S XDT=$S('$D(ONCOD0P):"",1:$$GET1^DIQ(165.5,ONCOD0P,1.1,"I"))
"RTN","ONCOAIF",29,0)
 S XDT=""
"RTN","ONCOAIF",30,0)
 I (XDT="")!(XDT="0000000")!(XDT="9999999") D LST G DIE
"RTN","ONCOAIF",31,0)
 D DD S F=$P($G(^ONCO(160,ONCOD0,"F",0)),U,4)
"RTN","ONCOAIF",32,0)
 I F<1 D DLC,LST S F=1 G DIE
"RTN","ONCOAIF",33,0)
RF S D0=ONCOD0 W !! K DXS,DIOT D BEG W ! D LST^ONCODLF G DIE
"RTN","ONCOAIF",34,0)
 ;
"RTN","ONCOAIF",35,0)
DIE K DXS
"RTN","ONCOAIF",36,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",37,0)
 S ONCOSTAT=1,DA=ONCOD0,DR="[ONCO FOLLOWUP]",DIE="^ONCO(160,",FG=0
"RTN","ONCOAIF",38,0)
 W ! D ^DIE
"RTN","ONCOAIF",39,0)
 I 'FG S ONCOVS="" D UPOUT,CHKCMP I $G(FOLINP)="YES" G DIE
"RTN","ONCOAIF",40,0)
 I $O(^ONCO(160,ONCOD0,"F",0))="" Q
"RTN","ONCOAIF",41,0)
 D CHKCHG
"RTN","ONCOAIF",42,0)
 S XD0=ONCOD0 D DUPPRI^ONCFUNC
"RTN","ONCOAIF",43,0)
 I 'FG Q
"RTN","ONCOAIF",44,0)
 ;
"RTN","ONCOAIF",45,0)
UPDAT S D0=ONCOD0 K DXS,DIOT W ! D LST^ONCODLF,UPD^ONCOCRF
"RTN","ONCOAIF",46,0)
 N Y,ONCOD
"RTN","ONCOAIF",47,0)
 K DIQ,ONC S DIC="^ONCO(160,",DR=".01;16;15;15.2",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOAIF",48,0)
 D EN^DIQ1 W !
"RTN","ONCOAIF",49,0)
 W !," Name..: ",ONC(160,ONCOD0,.01)
"RTN","ONCOAIF",50,0)
 W ?35,"Date Last Contact: ",ONC(160,ONCOD0,16)
"RTN","ONCOAIF",51,0)
 W !," Status: ",ONC(160,ONCOD0,15)
"RTN","ONCOAIF",52,0)
 W ?35,"Follow-Up Status.: ",ONC(160,ONCOD0,15.2)
"RTN","ONCOAIF",53,0)
 D SUM
"RTN","ONCOAIF",54,0)
C K DIR S DIR("A")="DATA OK",DIR("B")="Yes",DIR(0)="Y"
"RTN","ONCOAIF",55,0)
 D ^DIR Q:(Y=U)!(Y="")  G DIE:'Y
"RTN","ONCOAIF",56,0)
 I ONCOVS G KILL:$G(ONCRFOPT)=1 S ONCFRMPF=1 G REC  ;G KILL:$D(PRESEL) G PAT:'$D(REC),REC
"RTN","ONCOAIF",57,0)
 W !! D DEAD^ONCOFDP
"RTN","ONCOAIF",58,0)
 Q:$D(ONCOAI)  G REC:$D(REC) D KILL K ONCONM S ONCOD=1 Q
"RTN","ONCOAIF",59,0)
 ;
"RTN","ONCOAIF",60,0)
UPOUT ;Up-arrow out check before deleting
"RTN","ONCOAIF",61,0)
 Q:'$D(ONCOD1)
"RTN","ONCOAIF",62,0)
 Q:'$D(^ONCO(160,ONCOD0,"F",ONCOD1,0))
"RTN","ONCOAIF",63,0)
 Q:$P(^ONCO(160,ONCOD0,"F",ONCOD1,0),U,8)=1
"RTN","ONCOAIF",64,0)
 D DEL
"RTN","ONCOAIF",65,0)
 Q
"RTN","ONCOAIF",66,0)
 ;
"RTN","ONCOAIF",67,0)
DEL ;Delete FOLLOW-UP entry
"RTN","ONCOAIF",68,0)
 S DA(1)=ONCOD0,DA=ONCOD1,DIK="^ONCO(160,"_DA(1)_",""F"","
"RTN","ONCOAIF",69,0)
 D ^DIK S ONCOVS=""
"RTN","ONCOAIF",70,0)
 W:$D(^ONCO(160,ONCOD0,"F",ONCOD1,0)) $P(^(0),U,8)
"RTN","ONCOAIF",71,0)
 W !!," *********************ENTRY DELETED*************************"
"RTN","ONCOAIF",72,0)
 W !!," You have not entered all of the required information."
"RTN","ONCOAIF",73,0)
 W !!,"(Last Tumor Status(es) have been reset for this patient's primary site(s).)",!!
"RTN","ONCOAIF",74,0)
 H 1
"RTN","ONCOAIF",75,0)
 Q
"RTN","ONCOAIF",76,0)
 ;
"RTN","ONCOAIF",77,0)
CHKCMP ;Check for 'Complete" abstracts with no follow-up
"RTN","ONCOAIF",78,0)
 N AN,ASTAT,PID,PN,PRIM,PSCODE,SEQ
"RTN","ONCOAIF",79,0)
 Q:$O(^ONCO(160,ONCOD0,"F",0))'=""
"RTN","ONCOAIF",80,0)
 S PRIM=0 F  S PRIM=$O(^ONCO(165.5,"C",ONCOD0,PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",81,0)
 .I $P($G(^ONCO(165.5,PRIM,7)),U,2)=3 S ASTAT(PRIM)=""
"RTN","ONCOAIF",82,0)
 Q:'$D(ASTAT)
"RTN","ONCOAIF",83,0)
 W !
"RTN","ONCOAIF",84,0)
 W !," There is no follow-up information for this patient."
"RTN","ONCOAIF",85,0)
 W !," This patient has a 'Complete' abstract."
"RTN","ONCOAIF",86,0)
 W !," A 'Complete' abstract requires at least one follow-up."
"RTN","ONCOAIF",87,0)
 W !
"RTN","ONCOAIF",88,0)
 K DIR
"RTN","ONCOAIF",89,0)
 S DIR("A")=" Do you wish to enter a follow-up at this time"
"RTN","ONCOAIF",90,0)
 S DIR("B")="YES",DIR(0)="Y" D ^DIR
"RTN","ONCOAIF",91,0)
 I Y=1 S FOLINP="YES" Q
"RTN","ONCOAIF",92,0)
 S FOLINP="NO"
"RTN","ONCOAIF",93,0)
 S PRIM=0 F  S PRIM=$O(ASTAT(PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",94,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCOAIF",95,0)
 .S DA=PRIM
"RTN","ONCOAIF",96,0)
 .S DR="90///@;91///0;92///@;197///@"
"RTN","ONCOAIF",97,0)
 .D ^DIE
"RTN","ONCOAIF",98,0)
 W !!," The ABSTRACT STATUS has been changed to 0 (Incomplete)"
"RTN","ONCOAIF",99,0)
 W !," for the following abstracts:",!
"RTN","ONCOAIF",100,0)
 S PRIM=0 F  S PRIM=$O(ASTAT(PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",101,0)
 .S PN=$$GET1^DIQ(165.5,PRIM,.02)
"RTN","ONCOAIF",102,0)
 .S AN=$$GET1^DIQ(165.5,PRIM,.05)
"RTN","ONCOAIF",103,0)
 .S SEQ=$$GET1^DIQ(165.5,PRIM,.06)
"RTN","ONCOAIF",104,0)
 .S PID=$$GET1^DIQ(165.5,PRIM,61)
"RTN","ONCOAIF",105,0)
 .S PSCODE=$$GET1^DIQ(165.5,PRIM,20.1)
"RTN","ONCOAIF",106,0)
 .W !?1,PID,"  ",PSCODE,"  ",AN,"/",SEQ
"RTN","ONCOAIF",107,0)
 .W !
"RTN","ONCOAIF",108,0)
 K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOAIF",109,0)
 Q
"RTN","ONCOAIF",110,0)
 ;
"RTN","ONCOAIF",111,0)
CHKCHG ;Check for checksum changes to 'Complete' abstracts
"RTN","ONCOAIF",112,0)
 N CHECKSUM,CNT,ONCDST
"RTN","ONCOAIF",113,0)
 S CNT=0 W !!," Checking for changes to 'Complete' abstracts" S PRIM=0 F  S PRIM=$O(^ONCO(165.5,"C",ONCOD0,PRIM)) Q:PRIM'>0  D
"RTN","ONCOAIF",114,0)
 .W "."
"RTN","ONCOAIF",115,0)
 .I $P($G(^ONCO(165.5,PRIM,7)),U,2)=3 D
"RTN","ONCOAIF",116,0)
 ..S EDITS="NO" S D0=PRIM D NAACCR^ONCGENED K EDITS
"RTN","ONCOAIF",117,0)
 ..S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCOAIF",118,0)
 ..I CHECKSUM'=$P($G(^ONCO(165.5,PRIM,"EDITS")),U,1) D
"RTN","ONCOAIF",119,0)
 ...S $P(^ONCO(165.5,PRIM,"EDITS"),U,1)=CHECKSUM
"RTN","ONCOAIF",120,0)
 ...W !!," Re-computing checksum value for 'Complete' abstract ",$$GET1^DIQ(165.5,PRIM,.061)
"RTN","ONCOAIF",121,0)
 ...S DIE="^ONCO(165.5,",DA=PRIM,DR="198///^S X=DT" D ^DIE
"RTN","ONCOAIF",122,0)
 ...S CNT=CNT+1
"RTN","ONCOAIF",123,0)
 W:CNT=0 " No changes found."
"RTN","ONCOAIF",124,0)
 Q
"RTN","ONCOAIF",125,0)
 ;
"RTN","ONCOAIF",126,0)
REC ;[RF Recurrence/Sub Tx Follow-up]
"RTN","ONCOAIF",127,0)
 N D,ONCDUZ,ONCDT,TX
"RTN","ONCOAIF",128,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOAIF",129,0)
 S XR=1,REC="" W @IOF,!," Recurrence/Sub Tx Follow-up"
"RTN","ONCOAIF",130,0)
 W !," ---------------------------",!
"RTN","ONCOAIF",131,0)
 I $G(ONCFRMPF)=1 G RECPF ;if pt pre-selected from ^PF skip pt select
"RTN","ONCOAIF",132,0)
 S ONCRFOPT=1,DIC("A")="Select Patient for Recurrence: "
"RTN","ONCOAIF",133,0)
 S DIC="^ONCO(160,",DIC(0)="AEQMZ" D ^DIC K DIC
"RTN","ONCOAIF",134,0)
 G KILL:Y<0
"RTN","ONCOAIF",135,0)
 S (D0,ONCOD0)=+Y,ONCONM=Y(0,0)
"RTN","ONCOAIF",136,0)
 N Y
"RTN","ONCOAIF",137,0)
RECPF K DIQ,ONC S DIC="^ONCO(160,",DR=".01;2;3;8;10;15",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOAIF",138,0)
 D EN^DIQ1 W !
"RTN","ONCOAIF",139,0)
 W !?2,"Name.........: ",ONC(160,ONCOD0,.01)
"RTN","ONCOAIF",140,0)
 W ?35,"Race.........: ",ONC(160,ONCOD0,8)
"RTN","ONCOAIF",141,0)
 W !?2,"SSN..........: ",ONC(160,ONCOD0,2)
"RTN","ONCOAIF",142,0)
 W ?35,"Sex..........: ",ONC(160,ONCOD0,10)
"RTN","ONCOAIF",143,0)
 W !?2,"Date of Birth: ",ONC(160,ONCOD0,3)
"RTN","ONCOAIF",144,0)
 W ?35,"Status.......: ",ONC(160,ONCOD0,15)
"RTN","ONCOAIF",145,0)
 D SUM
"RTN","ONCOAIF",146,0)
 K DIC W !?1,"Select Primary for Recurrence: ",!
"RTN","ONCOAIF",147,0)
 ;S D="C",DIC="^ONCO(165.5,",X=ONCOD0,DIC(0)="EFZ" D IX^DIC G:Y<0 REC
"RTN","ONCOAIF",148,0)
 S D="C",DIC="^ONCO(165.5,",X=ONCOD0,DIC(0)="EFZ" D IX^DIC G:Y<0 KILL
"RTN","ONCOAIF",149,0)
 I Y'=" " S (ONCOD0P,DA)=+Y,DR="[ONCO RECURRENCE FOLLOWUP]",DIE="^ONCO(165.5,",DATEDX=$P(^ONCO(165.5,DA,0),U,16),TX=$P($G(^ONCO(165.5,DA,2)),U,1) D ^DIE D CHKCHG S AB=2,ONCOD0P=D0 G EN:$D(ONCRFOPT)
"RTN","ONCOAIF",150,0)
 G KILL Q
"RTN","ONCOAIF",151,0)
 ;
"RTN","ONCOAIF",152,0)
RE ;Recurrence
"RTN","ONCOAIF",153,0)
 W !!," Recurrence"," ----------"
"RTN","ONCOAIF",154,0)
 ; If Type of First Recurrence is not set yet, then check the
"RTN","ONCOAIF",155,0)
 ; Cancer Status field of Tumor Status multiple to set defaults for
"RTN","ONCOAIF",156,0)
 ; Type of First Rec, Rec Date 1st-Flag & Distant Sites 1-3 fields
"RTN","ONCOAIF",157,0)
 ;  -- Called from [ONCO RECURRENCE FOLLOWUP] template --
"RTN","ONCOAIF",158,0)
 S ONCTOFR=$P($G(^ONCO(165.5,ONCOD0P,5)),"^",2) I ONCTOFR'="" K ONCTOFR Q
"RTN","ONCOAIF",159,0)
 S ONCTSDAT=$O(^ONCO(165.5,ONCOD0P,"TS","AA",0)) Q:ONCTSDAT=""
"RTN","ONCOAIF",160,0)
 S ONCTSIEN=$O(^ONCO(165.5,ONCOD0P,"TS","AA",ONCTSDAT,0)) Q:ONCTSIEN=""
"RTN","ONCOAIF",161,0)
 S ONCTSCS=$P($G(^ONCO(165.5,ONCOD0P,"TS",ONCTSIEN,0)),"^",2)
"RTN","ONCOAIF",162,0)
 S ONCTOFRV=""
"RTN","ONCOAIF",163,0)
 I ONCTSCS=1 S ONCTOFRV=$O(^ONCO(160.12,"B","00","")),ONCRD1F=11
"RTN","ONCOAIF",164,0)
 I ONCTSCS=2 S ONCTOFRV=$O(^ONCO(160.12,"B",70,"")),ONCRD1F=11
"RTN","ONCOAIF",165,0)
 I ONCTSCS=9 S ONCTOFRV=$O(^ONCO(160.12,"B",99,"")),ONCRD1F=10
"RTN","ONCOAIF",166,0)
 ;Hard set the nodes since we are within an Input Template when called
"RTN","ONCOAIF",167,0)
 ;so ^DIE not working - there are no X-refs to set
"RTN","ONCOAIF",168,0)
 S $P(^ONCO(165.5,ONCOD0P,5),U,2,5)=ONCTOFRV_"^0^0^0"
"RTN","ONCOAIF",169,0)
 S $P(^ONCO(165.5,ONCOD0P,27),U,26)=ONCRD1F
"RTN","ONCOAIF",170,0)
 ;
"RTN","ONCOAIF",171,0)
 K ONCRD1F,ONCTOFR,ONCTOFRV,ONCTSDAT,ONCTSIEN,ONCTSCS Q
"RTN","ONCOAIF",172,0)
 ;
"RTN","ONCOAIF",173,0)
STX ;Subsequent Course of Treatment
"RTN","ONCOAIF",174,0)
 W !!," Subsequent Course of Treatment"
"RTN","ONCOAIF",175,0)
 W !," ------------------------------"
"RTN","ONCOAIF",176,0)
 Q
"RTN","ONCOAIF",177,0)
 ;
"RTN","ONCOAIF",178,0)
KILL ;Kill variables
"RTN","ONCOAIF",179,0)
 K ONCOSTAT,XR,DA,DIC,DIE,DIK,DIOT,DIR,DO,DR,DXS,F,FG,FOLINP
"RTN","ONCOAIF",180,0)
 K ONCOD1,ONCOLC,X,XD1,XD0,LC,ONCOVS,REC
"RTN","ONCOAIF",181,0)
 K AB,DATEDX,PRESEL,ONCFRMPF,ONCRFOPT
"RTN","ONCOAIF",182,0)
 Q
"RTN","ONCOAIF",183,0)
 ;
"RTN","ONCOAIF",184,0)
DD ;Date format
"RTN","ONCOAIF",185,0)
 S XDD=$E(XDT,4,5)_"/"_$E(XDT,6,7)_"/"_($E(XDT,1,3)+1700) Q
"RTN","ONCOAIF",186,0)
 ;
"RTN","ONCOAIF",187,0)
DLC ;Create FOLLOW-UP
"RTN","ONCOAIF",188,0)
 K DA
"RTN","ONCOAIF",189,0)
 S DA(1)=ONCOD0,DIC="^ONCO(160,"_DA(1)_","_"""F"""_","
"RTN","ONCOAIF",190,0)
 S DLAYGO=160,X=XDT,DIC(0)="ZL"
"RTN","ONCOAIF",191,0)
 I '$D(^ONCO(160,DA(1),"F")) S ^ONCO(160,DA(1),"F",0)="^160.04DAI^^"
"RTN","ONCOAIF",192,0)
 D FILE^DICN S ONCOLC=XDT,DIE=DIC,DR="1////1;2////2;" D ^DIE
"RTN","ONCOAIF",193,0)
 K DA,DIC,DLAYGO,DIE
"RTN","ONCOAIF",194,0)
 Q
"RTN","ONCOAIF",195,0)
 ;
"RTN","ONCOAIF",196,0)
SUM ;Primary summary
"RTN","ONCOAIF",197,0)
 S XD0=D0
"RTN","ONCOAIF",198,0)
 N J,XD1 W !!
"RTN","ONCOAIF",199,0)
 S J=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $D(^ONCO(165.5,XD1,0)) S J=J+1 D ^ONCOCOML
"RTN","ONCOAIF",200,0)
 Q
"RTN","ONCOAIF",201,0)
 ;
"RTN","ONCOAIF",202,0)
CLEANUP ;Cleanup
"RTN","ONCOAIF",203,0)
 K D0,ONCOAI,ONCOD0,ONCOD0P
"RTN","ONCOAIM")
0^153^B22101895
"RTN","ONCOAIM",1,0)
ONCOAIM ;Hines OIFO/GWB - Create additional primaries for a patient ;03/08/11
"RTN","ONCOAIM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIM",3,0)
 ;
"RTN","ONCOAIM",4,0)
EN ;Add additional primaries for patient
"RTN","ONCOAIM",5,0)
 D KILL
"RTN","ONCOAIM",6,0)
 W @IOF
"RTN","ONCOAIM",7,0)
 W !!?5,"******** ADD PRIMARY RECORD FOR THIS PATIENT********",!!
"RTN","ONCOAIM",8,0)
 W:$D(ONCONM) ?5,"PATIENT: ",ONCONM
"RTN","ONCOAIM",9,0)
 ;
"RTN","ONCOAIM",10,0)
 ;Get next ACESSION NUMBER (165.5,.05)/SEQUENCE NUMBER (165.5,.06)
"RTN","ONCOAIM",11,0)
 ;Loop thru 165.5 "D" cross-reference
"RTN","ONCOAIM",12,0)
 ;Set up 2 ^TMP arrays: 1 for malignants, 1 for benigns
"RTN","ONCOAIM",13,0)
 S (KKM,KKB)=0,AC=$P(ONCOP,U,5),ACN=$E(AC,1,4)_"-"_$E(AC,5,9),ACS=ACN
"RTN","ONCOAIM",14,0)
 F KK=1:1 S ACSL=ACS,ACS=$O(^ONCO(165.5,"D",ACS)) S SQN=$P(ACS,"/",2) D  Q:$P(ACS,"/")'=ACN
"RTN","ONCOAIM",15,0)
 .Q:$P(ACS,"/")'=ACN
"RTN","ONCOAIM",16,0)
 .S RECNUM=0
"RTN","ONCOAIM",17,0)
 .F LL=1:1 S RECNUM=$O(^ONCO(165.5,"D",ACS,RECNUM)) Q:RECNUM=""  D
"RTN","ONCOAIM",18,0)
 ..S PRIMIEN=$P(^ONCO(165.5,RECNUM,0),U)
"RTN","ONCOAIM",19,0)
 ..S PRIM=$P(^ONCO(164.2,PRIMIEN,0),U,1)
"RTN","ONCOAIM",20,0)
 ..S SEQDIV=$$GET1^DIQ(165.5,RECNUM,2000)
"RTN","ONCOAIM",21,0)
 ..I ((+SQN>0)&(+SQN<60))!(SQN="00")!(SQN=99) S KKM=KKM+1,^TMP($J,"MAL",KKM)=SQN_U_ACS_U_PRIM_U_RECNUM_U_SEQDIV
"RTN","ONCOAIM",22,0)
 ..E  S KKB=KKB+1,^TMP($J,"BEN",KKB)=SQN_U_ACS_U_PRIM_U_RECNUM_U_SEQDIV
"RTN","ONCOAIM",23,0)
 ;Find last malignant/benign (if any) and determine SEQUENCE NUMBER
"RTN","ONCOAIM",24,0)
 K LASTBEN,LASTMAL,NEXTBEN,NEXTMAL
"RTN","ONCOAIM",25,0)
 S ALPHA=0 F  S BEN=ALPHA,ALPHA=$O(^TMP($J,"BEN",ALPHA)) Q:ALPHA'>0
"RTN","ONCOAIM",26,0)
 S NUM=0 F  S MAL=NUM,NUM=$O(^TMP($J,"MAL",NUM)) Q:NUM'>0
"RTN","ONCOAIM",27,0)
 S LASTBEN=$P($G(^TMP($J,"BEN",BEN)),U,1)
"RTN","ONCOAIM",28,0)
 S LASTMAL=$P($G(^TMP($J,"MAL",MAL)),U,1)
"RTN","ONCOAIM",29,0)
 S NEXTBEN=$S(LASTBEN=60:62,LASTBEN'="":LASTBEN+1,1:60)
"RTN","ONCOAIM",30,0)
 S NEXTMAL=$S(LASTMAL'="":LASTMAL+1,1:"NULL")
"RTN","ONCOAIM",31,0)
 S NEXTMAL=$S(NEXTMAL=1!(NEXTMAL>99):2,NEXTMAL="NULL":"00^99",1:NEXTMAL)
"RTN","ONCOAIM",32,0)
 S NEXTMAL=$S($L(NEXTMAL)<2:"0"_NEXTMAL,1:NEXTMAL)
"RTN","ONCOAIM",33,0)
 ;
"RTN","ONCOAIM",34,0)
 W !!?5,"ACCESSION NUMBER: ",ACN
"RTN","ONCOAIM",35,0)
 ;
"RTN","ONCOAIM",36,0)
PROMPT ;SEQUENCE NUMBER (165.5,.06) prompt 
"RTN","ONCOAIM",37,0)
 N DEF,DIEN
"RTN","ONCOAIM",38,0)
 S DEF=$S(NEXTMAL["00":"00",1:NEXTMAL)
"RTN","ONCOAIM",39,0)
 K DIR S DIR(0)="F^2:2",DIR("A")="     SEQUENCE NUMBER.",DIR("B")=DEF
"RTN","ONCOAIM",40,0)
 S DIR("?")="Enter the next SEQUENCE NUMBER.  Enter ?? for additional HELP"
"RTN","ONCOAIM",41,0)
 S DIR("??")="^D HLP^ONCOAIM2" D ^DIR I "^^"[Y D KILL Q
"RTN","ONCOAIM",42,0)
 I (Y'?2N)!((Y>88)&(Y<99)) W "  Allowable Values: 00-88, 99" G PROMPT
"RTN","ONCOAIM",43,0)
 S DIEN=ACN_"/"_Y
"RTN","ONCOAIM",44,0)
 S SN=Y,SEQ=SN,AY=$E(DT,1)+17,AY=AY_$E(DT,2,3)
"RTN","ONCOAIM",45,0)
 I SN="02",$D(^TMP($J,"MAL",1)),$P(^TMP($J,"MAL",1),U,1)="00" D
"RTN","ONCOAIM",46,0)
 .S ACS=$P(^TMP($J,"MAL",1),U,2)
"RTN","ONCOAIM",47,0)
 .S REC00=$P(^TMP($J,"MAL",1),U,4)
"RTN","ONCOAIM",48,0)
 .W !!?5,"You are adding the second malignant or in-situ primary for this patient"
"RTN","ONCOAIM",49,0)
 .W !!?5,ACS," ","will be changed to ",ACN,"/01",!
"RTN","ONCOAIM",50,0)
 I SN="02",$D(^TMP($J,"MAL",2)),$P(^TMP($J,"MAL",2),U,1)'="01" D
"RTN","ONCOAIM",51,0)
 .S REC002=$P(^TMP($J,"MAL",2),U,4)
"RTN","ONCOAIM",52,0)
 I SN>59,SN<88,SN'=NEXTBEN W ?32,"Next Non-Malignant SEQUENCE NUMBER is",NEXTBEN G PROMPT
"RTN","ONCOAIM",53,0)
 I SN=62,$D(^TMP($J,"BEN",1)),$P(^TMP($J,"BEN",1),U)=60 D
"RTN","ONCOAIM",54,0)
 .S ACS=$P(^TMP($J,"BEN",1),U,2)
"RTN","ONCOAIM",55,0)
 .S REC00=$P(^TMP($J,"BEN",1),U,4)
"RTN","ONCOAIM",56,0)
 .W !!?5,"You are adding the second Non-Malignant primary for this patient"
"RTN","ONCOAIM",57,0)
 .W !!?5,ACS," ","will be changed to ",ACN,"/61",!
"RTN","ONCOAIM",58,0)
 ;
"RTN","ONCOAIM",59,0)
LOOK2 ;Select Primary Site
"RTN","ONCOAIM",60,0)
 K DIC
"RTN","ONCOAIM",61,0)
 S DIC="^ONCO(164.2,",DIC(0)="AEQM"
"RTN","ONCOAIM",62,0)
 S DIC("A")="     Select Primary 'SITE/GP': "
"RTN","ONCOAIM",63,0)
 S DIC("S")="I '$P(^(0),U,3)"
"RTN","ONCOAIM",64,0)
 D ^DIC K DIC G EX:Y<0
"RTN","ONCOAIM",65,0)
 S (XX,X,ONCOSIT)=+Y,ONCOPN=$P(Y,U,2),XD0=ONCOD0
"RTN","ONCOAIM",66,0)
 D SEX^ONCOCKI G LOOK2:'$D(X)
"RTN","ONCOAIM",67,0)
 K DIR
"RTN","ONCOAIM",68,0)
 S DIR("A")="     Ok to add:",DIR("B")="Y",DIR(0)="Y" D ^DIR
"RTN","ONCOAIM",69,0)
 G CR:Y,EN:Y=0 Q
"RTN","ONCOAIM",70,0)
 ;
"RTN","ONCOAIM",71,0)
CR ;Create Primary
"RTN","ONCOAIM",72,0)
 K DIC,DO,DTOUT
"RTN","ONCOAIM",73,0)
 W !,?5,"Creating another primary record for ",ONCONM_" "_ACN_"..."
"RTN","ONCOAIM",74,0)
 S DIC="^ONCO(165.5,",X=ONCOSIT,DIC(0)="Z"
"RTN","ONCOAIM",75,0)
 S DIC("DR")="2000////^S X=DUZ(2);236////^S X=DT;244////^S X=DUZ"
"RTN","ONCOAIM",76,0)
 D FILE^DICN K DIC,X G EX:Y<0
"RTN","ONCOAIM",77,0)
 S ONCOD0P=+Y
"RTN","ONCOAIM",78,0)
 S $P(^ONCO(165.5,+Y,0),U,2)=ONCOD0,$P(^(7),U,2)=0
"RTN","ONCOAIM",79,0)
 S ^ONCO(165.5,"C",ONCOD0,ONCOD0P)=""
"RTN","ONCOAIM",80,0)
 S ACAY=$E(DT,1)+17_$E(DT,2,3)
"RTN","ONCOAIM",81,0)
 L +^ONCO(165.5,ONCOD0P,0):0
"RTN","ONCOAIM",82,0)
 S DIE="^ONCO(165.5,"
"RTN","ONCOAIM",83,0)
 S DR="W !;.05////^S X=AC;.06////^S X=SEQ;.07//^S X=ACAY"
"RTN","ONCOAIM",84,0)
 S ACN=AC_"/"_SEQ,DA=ONCOD0P
"RTN","ONCOAIM",85,0)
 D ^DIE
"RTN","ONCOAIM",86,0)
 L -^ONCO(165.5,ONCOD0P,0)
"RTN","ONCOAIM",87,0)
 G PID:$D(Y)=0 D KLN G EX
"RTN","ONCOAIM",88,0)
 ;
"RTN","ONCOAIM",89,0)
PID ;Continue defining Primary Record
"RTN","ONCOAIM",90,0)
 I SN="02",$D(^TMP($J,"MAL",1)),$P(^TMP($J,"MAL",1),U,1)="00" S UPDATE="01" D UPDT
"RTN","ONCOAIM",91,0)
 I SN=62,$D(^TMP($J,"BEN",1)),$P(^TMP($J,"BEN",1),U,1)=60 S UPDATE=61 D UPDT
"RTN","ONCOAIM",92,0)
 S ONCOACN=AC_"/"_SEQ,Y=1 D KILL Q
"RTN","ONCOAIM",93,0)
 ;
"RTN","ONCOAIM",94,0)
UPDT ;Update 00 to 01, update 60 to 61
"RTN","ONCOAIM",95,0)
 S SN=UPDATE,DIE="^ONCO(165.5,",DA=REC00,DR=".06///^S X=SN"
"RTN","ONCOAIM",96,0)
 D ^DIE S D0=ONCOD0P
"RTN","ONCOAIM",97,0)
 I $D(REC002) S SN=UPDATE,DIE="^ONCO(165.5,",DA=REC002,DR=".06///^S X=SN" D ^DIE S D0=ONCOD0P
"RTN","ONCOAIM",98,0)
 W !!?5,"The following up-dating has occurred:",!! D SDA^ONCOCOM H 2
"RTN","ONCOAIM",99,0)
 Q
"RTN","ONCOAIM",100,0)
 ;
"RTN","ONCOAIM",101,0)
KLN ;KILL entry
"RTN","ONCOAIM",102,0)
 S DA=ONCOD0P,DIK="^ONCO(165.5," D ^DIK,KILL
"RTN","ONCOAIM",103,0)
 R !?5,"<ENTRY DELETED> - press RETURN to continue->",DA:DTIME
"RTN","ONCOAIM",104,0)
 Q:'$T!(DA=U)
"RTN","ONCOAIM",105,0)
 W !
"RTN","ONCOAIM",106,0)
 Q
"RTN","ONCOAIM",107,0)
 ;
"RTN","ONCOAIM",108,0)
KILL ;KILL variables
"RTN","ONCOAIM",109,0)
 K AC,ACAY,ACN,ACS,ACSL,ALPHA,AY,BEN,DA,DIC,DIE,DIK,DIR,D0,DR,DTOUT
"RTN","ONCOAIM",110,0)
 K KK,KKM,KKB,LASTBEN,LASTMAL,LL,MAL,NEXTBEN,NEXTMAL,NUM,ONCOSIT
"RTN","ONCOAIM",111,0)
 K PRIM,PRIMIEN,REC00,REC002,RECNUM,SEQDIV,SN,SEQ,SQN,UPDATE,X,XD0,XX
"RTN","ONCOAIM",112,0)
 K ^TMP($J,"BEN"),^TMP($J,"MAL")
"RTN","ONCOAIM",113,0)
 Q
"RTN","ONCOAIM",114,0)
 ;
"RTN","ONCOAIM",115,0)
EX ;Exit
"RTN","ONCOAIM",116,0)
 D KILL S Y=0
"RTN","ONCOAIM",117,0)
 Q
"RTN","ONCOAIM",118,0)
 ;
"RTN","ONCOAIM",119,0)
CLEANUP ;Cleanup
"RTN","ONCOAIM",120,0)
 K ONCOACN,ONCOD0,ONCOD0P,ONCONM,ONCOP,ONCOPN,ONCOSIT,Y
"RTN","ONCOAIM2")
0^154^B3543064
"RTN","ONCOAIM2",1,0)
ONCOAIM2 ;Hines OIFO/GWB - SEQUENCE NUMBER HELP FRAME ;1/22/96
"RTN","ONCOAIM2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIM2",3,0)
 ;
"RTN","ONCOAIM2",4,0)
HLP ;Help Frame to display existing primaries
"RTN","ONCOAIM2",5,0)
 W !,$S($O(^TMP($J,"MAL",""))'="":"Existing malignant or in situ primaries",1:"No malignant or in situ primaries.")," for ",ONCONM,$S($O(^TMP($J,"MAL",""))'="":":",1:".")
"RTN","ONCOAIM2",6,0)
 S NUM=0 F  S MAL=NUM,NUM=$O(^TMP($J,"MAL",NUM)) D  Q:NUM'>0
"RTN","ONCOAIM2",7,0)
 .Q:NUM'>0
"RTN","ONCOAIM2",8,0)
 .W !?1,$P(^TMP($J,"MAL",NUM),U,2)," ",$P(^TMP($J,"MAL",NUM),U,3),?40,$P(^TMP($J,"MAL",NUM),U,5)
"RTN","ONCOAIM2",9,0)
 W !!,$S($O(^TMP($J,"BEN",""))'="":"Existing non-malignant primaries",1:"No non-malignant primaries")," for ",ONCONM,$S($O(^TMP($J,"BEN",""))'="":":",1:".")
"RTN","ONCOAIM2",10,0)
 S ALPHA=0 F  S BEN=ALPHA,ALPHA=$O(^TMP($J,"BEN",ALPHA)) D  Q:ALPHA'>0
"RTN","ONCOAIM2",11,0)
 .Q:ALPHA'>0
"RTN","ONCOAIM2",12,0)
 .W !?1,$P(^TMP($J,"BEN",ALPHA),U,2)," ",$P(^TMP($J,"BEN",ALPHA),U,3),?40,$P(^TMP($J,"BEN",ALPHA),U,5)
"RTN","ONCOAIM2",13,0)
 W !
"RTN","ONCOAIM2",14,0)
 W !,"Next available malignant or in situ SEQUENCE NUMBER: ",NEXTMAL
"RTN","ONCOAIM2",15,0)
 W !,"Next available non-malignant SEQUENCE NUMBER.......: ",NEXTBEN
"RTN","ONCOAIM2",16,0)
 W !
"RTN","ONCOAIM2",17,0)
 Q
"RTN","ONCOAIP")
0^155^B104009853
"RTN","ONCOAIP",1,0)
ONCOAIP ;Hines OIFO/GWB - [EE Abstract Edit Primary] ;09/26/11
"RTN","ONCOAIP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIP",3,0)
 ;
"RTN","ONCOAIP",4,0)
ED ;[EE Abstract Edit Primary]
"RTN","ONCOAIP",5,0)
 W @IOF,!
"RTN","ONCOAIP",6,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM"
"RTN","ONCOAIP",7,0)
 S DIC("A")=" Select primary or patient name: "
"RTN","ONCOAIP",8,0)
 D ^DIC K DIC G EX:Y<0
"RTN","ONCOAIP",9,0)
 S ONCOD0P=+Y
"RTN","ONCOAIP",10,0)
 S ONCOD0=$P(^ONCO(165.5,+Y,0),U,2)
"RTN","ONCOAIP",11,0)
 S ONCONM=$$GET1^DIQ(160,ONCOD0,.01,"E")
"RTN","ONCOAIP",12,0)
 S ONCOEDIT=1
"RTN","ONCOAIP",13,0)
 ;
"RTN","ONCOAIP",14,0)
EN N CHECKVER
"RTN","ONCOAIP",15,0)
 S ONCOYR=($$TNMED^ONCOU55(ONCOD0P)>3)
"RTN","ONCOAIP",16,0)
 S ABSTAT=$P($G(^ONCO(165.5,ONCOD0P,7)),U,2)
"RTN","ONCOAIP",17,0)
 S CHECKSUM=$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,1)
"RTN","ONCOAIP",18,0)
 S CHECKVER=$P($G(^ONCO(165.5,ONCOD0P,"EDITS")),U,2)
"RTN","ONCOAIP",19,0)
 I ABSTAT=3,((CHECKSUM="")!(CHECKVER<12)) D
"RTN","ONCOAIP",20,0)
 .W !,"Recalculating checksum..."
"RTN","ONCOAIP",21,0)
 .S EDITS="NO" S D0=ONCOD0P D NAACCR^ONCGENED K EDITS
"RTN","ONCOAIP",22,0)
 .S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCOAIP",23,0)
 .S $P(^ONCO(165.5,ONCOD0P,"EDITS"),U,1)=CHECKSUM
"RTN","ONCOAIP",24,0)
 .S $P(^ONCO(165.5,ONCOD0P,"EDITS"),U,2)=EXTVER
"RTN","ONCOAIP",25,0)
 S DIE="^ONCO(165.5,",DA=ONCOD0P,DR="[ONCO ABSTRACT-I]",ONCOL1=0
"RTN","ONCOAIP",26,0)
 L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S ONCOL1=1
"RTN","ONCOAIP",27,0)
 I 'ONCOL1 W !!,"This primary is being edited by another user" H 3 Q:'$D(ONCOEDIT)  K ONCOL1 G ED
"RTN","ONCOAIP",28,0)
 ;I $D(Y) G EN
"RTN","ONCOAIP",29,0)
 S ABSTAT=$P($G(^ONCO(165.5,ONCOD0P,7)),U,2)
"RTN","ONCOAIP",30,0)
 I ABSTAT'=3 D
"RTN","ONCOAIP",31,0)
 .S DIE="^ONCO(165.5,"
"RTN","ONCOAIP",32,0)
 .S DA=ONCOD0P
"RTN","ONCOAIP",33,0)
 .S DR="197///@"
"RTN","ONCOAIP",34,0)
 .D ^DIE
"RTN","ONCOAIP",35,0)
 I ABSTAT=3 D CHANGE^ONCGENED I $G(Y)="@0" G EN
"RTN","ONCOAIP",36,0)
 D FOL^ONCOAI
"RTN","ONCOAIP",37,0)
 K ONCOL1,LYMPHOMA,RFDEF,TFDEF,DFDEF
"RTN","ONCOAIP",38,0)
 I $D(ONCOOUT) Q
"RTN","ONCOAIP",39,0)
 I $D(Y) Q:'$D(ONCOEDIT)  G ED
"RTN","ONCOAIP",40,0)
 Q
"RTN","ONCOAIP",41,0)
 ;
"RTN","ONCOAIP",42,0)
PAIR ;LATERALITY (165.5,28)
"RTN","ONCOAIP",43,0)
 D TOPNAM
"RTN","ONCOAIP",44,0)
 S DATEDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOAIP",45,0)
 Q:TOP=""
"RTN","ONCOAIP",46,0)
 I TOP=67342,$P(^ONCO(165.5,D0,2),U,8)="" S $P(^ONCO(165.5,D0,2),U,8)=1 Q
"RTN","ONCOAIP",47,0)
 S PO=$P($G(^ONCO(164,TOP,0)),U,7)
"RTN","ONCOAIP",48,0)
 I PO="",$P(^ONCO(165.5,D0,2),U,8)="" S $P(^ONCO(165.5,D0,2),U,8)=0
"RTN","ONCOAIP",49,0)
 I DATEDX<3040000,(TOP=67700)!(TOP=67710)!(TOP=67711)!(TOP=67712)!(TOP=67713)!(TOP=67714)!(TOP=67722)!(TOP=67723)!(TOP=67724)!(TOP=67725),$P(^ONCO(165.5,D0,2),U,8)="" S $P(^ONCO(165.5,D0,2),U,8)=0
"RTN","ONCOAIP",50,0)
 K PO
"RTN","ONCOAIP",51,0)
 ;
"RTN","ONCOAIP",52,0)
 ;Stuff TEXT-PRIMARY SITE TITLE (165.5,100)
"RTN","ONCOAIP",53,0)
 S TEXT=$P($G(^ONCO(164,TOP,0)),U,1)
"RTN","ONCOAIP",54,0)
 S:$P($G(^ONCO(165.5,D0,8)),U,1)="" $P(^ONCO(165.5,D0,8),U,1)=TEXT
"RTN","ONCOAIP",55,0)
 K TEXT
"RTN","ONCOAIP",56,0)
 Q
"RTN","ONCOAIP",57,0)
 ;
"RTN","ONCOAIP",58,0)
HISTXT ;Stuff TEXT-HISTOLOGY TITLE (165.5,101)
"RTN","ONCOAIP",59,0)
 S HSTI=$$HIST^ONCFUNC(D0,.HSTFLD,.HISTNAM)
"RTN","ONCOAIP",60,0)
 S TEXT=HISTNAM
"RTN","ONCOAIP",61,0)
 S:$P($G(^ONCO(165.5,D0,8)),U,2)="" $P(^ONCO(165.5,D0,8),U,2)=$E(TEXT,1,100)
"RTN","ONCOAIP",62,0)
 K HSTI,TEXT
"RTN","ONCOAIP",63,0)
 D:$P($G(^ONCO(165.5,D0,0)),U,16)>3031231 ^ONCCS2
"RTN","ONCOAIP",64,0)
 Q
"RTN","ONCOAIP",65,0)
 ;
"RTN","ONCOAIP",66,0)
MEN ;Primary Menu Options
"RTN","ONCOAIP",67,0)
 K DXS,ONCOOUT,DASHES,PATNAM,SITEGP,SSN
"RTN","ONCOAIP",68,0)
 S $P(DASHES,"-",80)="-"
"RTN","ONCOAIP",69,0)
 S NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOAIP",70,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1)
"RTN","ONCOAIP",71,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOAIP",72,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOAIP",73,0)
 S DATEDX=$P(NODE0,U,16)
"RTN","ONCOAIP",74,0)
 D ^ONCPHC
"RTN","ONCOAIP",75,0)
 S COC=$E($$GET1^DIQ(165.5,D0,.04),1,2)
"RTN","ONCOAIP",76,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOAIP",77,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOAIP",78,0)
 S IIN=$P($G(^ONCO(160.1,OSP,1)),U,4)
"RTN","ONCOAIP",79,0)
 S RH=$P($G(^ONCO(160.19,IIN,0)),U,2)
"RTN","ONCOAIP",80,0)
 K OSP
"RTN","ONCOAIP",81,0)
 D TOPNAM
"RTN","ONCOAIP",82,0)
 W @IOF
"RTN","ONCOAIP",83,0)
 W !,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCOAIP",84,0)
 W !,?25,"Primary Menu Options",!,DASHES
"RTN","ONCOAIP",85,0)
 W !?22,"1. Patient Identification"
"RTN","ONCOAIP",86,0)
 W !?22,"2. Cancer Identification"
"RTN","ONCOAIP",87,0)
 W !?22,"3. Stage of Disease at Diagnosis"
"RTN","ONCOAIP",88,0)
 W !?22,"   Collaborative Staging (2004+ cases)"
"RTN","ONCOAIP",89,0)
 W !?22,"4. First Course of Treatment"
"RTN","ONCOAIP",90,0)
 W !?22,"5. Performance Measures"
"RTN","ONCOAIP",91,0)
 W !?22,"6. Over-ride Flags"
"RTN","ONCOAIP",92,0)
 W !?22,"7. Case Administration"
"RTN","ONCOAIP",93,0)
 W !!?22,"A  All - Complete Abstract"
"RTN","ONCOAIP",94,0)
 ;
"RTN","ONCOAIP",95,0)
A K ONCOANS,X,Y
"RTN","ONCOAIP",96,0)
 R !!?25,"Enter option: All//",X:DTIME
"RTN","ONCOAIP",97,0)
 S:X="" (ONCOANS,X)="A"
"RTN","ONCOAIP",98,0)
 G:X["?" HP
"RTN","ONCOAIP",99,0)
 I X=U!'$T S Y="",ONCOOUT=U Q
"RTN","ONCOAIP",100,0)
 I (X="A")!(X="ALL")!(X="all")!(X="All") S ONCOANS="A",Y=1 G Y
"RTN","ONCOAIP",101,0)
 I X="CS",$P($G(^ONCO(165.5,D0,0)),U,16)>3039999 S ONCOANS=3,Y=292 G Y
"RTN","ONCOAIP",102,0)
 S (ONCOANS,Y)=X I X<1!(X>7) W "??" G A
"RTN","ONCOAIP",103,0)
 ;
"RTN","ONCOAIP",104,0)
Y S Y="@"_Y
"RTN","ONCOAIP",105,0)
 Q
"RTN","ONCOAIP",106,0)
 ;
"RTN","ONCOAIP",107,0)
HP W !!,?10,"Select 'A' for the complete abstract"
"RTN","ONCOAIP",108,0)
 W !?10,"Select 1-7 for the desired subsection",!
"RTN","ONCOAIP",109,0)
 G A
"RTN","ONCOAIP",110,0)
 ;
"RTN","ONCOAIP",111,0)
PAT ;Patient Identification
"RTN","ONCOAIP",112,0)
 S SECTION="Patient Identification" D SECTION
"RTN","ONCOAIP",113,0)
 K DXS,DIOT D PI^ONCPCI
"RTN","ONCOAIP",114,0)
 Q
"RTN","ONCOAIP",115,0)
 ;
"RTN","ONCOAIP",116,0)
CAN S SECTION="Cancer Identification" D SECTION
"RTN","ONCOAIP",117,0)
 D PAIR
"RTN","ONCOAIP",118,0)
 K DXS,DIOT S D0=ONCOD0P D CI^ONCPCI
"RTN","ONCOAIP",119,0)
 Q
"RTN","ONCOAIP",120,0)
 ;
"RTN","ONCOAIP",121,0)
EXT S SECTION="Stage of Disease at Diagnosis" D SECTION
"RTN","ONCOAIP",122,0)
 S SY="@31"
"RTN","ONCOAIP",123,0)
 S S=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOAIP",124,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOAIP",125,0)
 S H=$$HIST^ONCFUNC(D0)
"RTN","ONCOAIP",126,0)
 I (S=35)!($$LEUKEMIA^ONCOAIP2(D0))!((S>64)&(S<71)) D  G PSD
"RTN","ONCOAIP",127,0)
 .I $P($G(^ONCO(165.5,D0,0)),U,16)>3111231,$E(T,3,4)=77,H=98233 Q
"RTN","ONCOAIP",128,0)
 .I H=97613,S=77 Q
"RTN","ONCOAIP",129,0)
 .S N=$S($E(H,1,4)=9731:"999^10^9",1:"999^80^9") ;Plasmacytoma, NOS
"RTN","ONCOAIP",130,0)
 .S N=$S(S=65:"999^99^9^99^99^9^9^9^9",1:N_"^99^99^9^9^9^7") ;Unk primary
"RTN","ONCOAIP",131,0)
 .I (T=67422)&(L'=1)&(H'=91403) S $P(N,U,2)=99,$P(N,U,9)=9   ;Spleen
"RTN","ONCOAIP",132,0)
 .S $P(^ONCO(165.5,D0,2),U,9,17)=N
"RTN","ONCOAIP",133,0)
 .D NOSTAGE
"RTN","ONCOAIP",134,0)
 .S SY="@313"  ;Other Staging System (165.5,39)
"RTN","ONCOAIP",135,0)
 .I S=65 W !?18,"====> UNKNOWN PRIMARY - No EOD/TNM coding <====" Q
"RTN","ONCOAIP",136,0)
 .W !?18,"====> SYSTEMIC DISEASE - No EOD/TMN coding <===="
"RTN","ONCOAIP",137,0)
 ;
"RTN","ONCOAIP",138,0)
PSD K DXS,DIOT S D0=ONCOD0P D ^ONCPSD K DXS
"RTN","ONCOAIP",139,0)
 S Y=SY
"RTN","ONCOAIP",140,0)
 Q
"RTN","ONCOAIP",141,0)
 ;
"RTN","ONCOAIP",142,0)
NOSTAGE ;No staging
"RTN","ONCOAIP",143,0)
 S $P(^ONCO(165.5,D0,2),U,25)=88   ;37.1 CT
"RTN","ONCOAIP",144,0)
 S $P(^ONCO(165.5,D0,2),U,26)=88   ;37.2 CN
"RTN","ONCOAIP",145,0)
 S $P(^ONCO(165.5,D0,2),U,27)=88   ;37.3 CM
"RTN","ONCOAIP",146,0)
 S $P(^ONCO(165.5,D0,2),U,20)=88   ;38   C Stage Group
"RTN","ONCOAIP",147,0)
 S $P(^ONCO(165.5,D0,3),U,32)=8    ;19   Staged By (C)
"RTN","ONCOAIP",148,0)
 S $P(^ONCO(165.5,D0,7),U,17)="N"  ;69.4 Multimodality Therapy (P)
"RTN","ONCOAIP",149,0)
 S $P(^ONCO(165.5,D0,2.1),U,1)=88  ;85   PT
"RTN","ONCOAIP",150,0)
 S $P(^ONCO(165.5,D0,2.1),U,2)=88  ;86   PN
"RTN","ONCOAIP",151,0)
 S $P(^ONCO(165.5,D0,2.1),U,3)=88  ;87   PM
"RTN","ONCOAIP",152,0)
 S $P(^ONCO(165.5,D0,2.1),U,4)=88  ;88   P Stage Group
"RTN","ONCOAIP",153,0)
 S $P(^ONCO(165.5,D0,2.1),U,5)=8   ;89   Staged By (P)
"RTN","ONCOAIP",154,0)
 S $P(^ONCO(165.5,D0,2),U,28)="NA" ;38.5 Stage Grouping-AJCC
"RTN","ONCOAIP",155,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,7)="" $P(^ONCO(165.5,D0,7),U,7)="0000000"
"RTN","ONCOAIP",156,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,14)="" $P(^ONCO(165.5,D0,7),U,14)="0000000"
"RTN","ONCOAIP",157,0)
 Q
"RTN","ONCOAIP",158,0)
 ;
"RTN","ONCOAIP",159,0)
FST S SECTION="First Course of Treatment" D SECTION
"RTN","ONCOAIP",160,0)
 Q
"RTN","ONCOAIP",161,0)
 ;
"RTN","ONCOAIP",162,0)
ORF S SECTION="Over-ride Flags" D SECTION
"RTN","ONCOAIP",163,0)
 K DXS,DIOT D ^ONCORF
"RTN","ONCOAIP",164,0)
 Q
"RTN","ONCOAIP",165,0)
 ;
"RTN","ONCOAIP",166,0)
NTX ;DATE OF NO TREATMENT (165.5,124)
"RTN","ONCOAIP",167,0)
 I '$D(NTDD) S Y="@425" Q
"RTN","ONCOAIP",168,0)
 K NTDD
"RTN","ONCOAIP",169,0)
 W !!?5,"You have entered a DATE OF NO TREATMENT.  All treatment fields"
"RTN","ONCOAIP",170,0)
 W !?5,"will be stuffed with the appropriate value indicating no"
"RTN","ONCOAIP",171,0)
 W !?5,"treatment.",!
"RTN","ONCOAIP",172,0)
 K DIR S DIR("A")="Are you sure you want to do this",DIR("B")="No"
"RTN","ONCOAIP",173,0)
 S DIR(0)="Y" D ^DIR
"RTN","ONCOAIP",174,0)
 I (Y=0)!(Y="") D  S Y=124 W ! Q
"RTN","ONCOAIP",175,0)
 .S TXDT=$P(^ONCO(165.5,D0,2.1),U,11)_"N"
"RTN","ONCOAIP",176,0)
 .K ^ONCO(165.5,"ATX",D0,TXDT)
"RTN","ONCOAIP",177,0)
 .S $P(^ONCO(165.5,D0,2.1),U,11)=""
"RTN","ONCOAIP",178,0)
 I Y[U S $P(^ONCO(165.5,D0,2.1),U,11)="",Y="@0" Q
"RTN","ONCOAIP",179,0)
 S NTX="" D NTX^ONCNTX K NTX
"RTN","ONCOAIP",180,0)
 Q
"RTN","ONCOAIP",181,0)
 ;
"RTN","ONCOAIP",182,0)
RS ;RADIATION/SURGERY SEQUENCE (165.5,51.3)
"RTN","ONCOAIP",183,0)
 Q:$P($G(^ONCO(165.5,D0,3)),U,7)'=""
"RTN","ONCOAIP",184,0)
 S S=$E($$GET1^DIQ(165.5,D0,58.6,"E"),1,2)
"RTN","ONCOAIP",185,0)
 S SATF=$E($$GET1^DIQ(165.5,D0,58.7,"E"),1,2)
"RTN","ONCOAIP",186,0)
 S SCP=$P($G(^ONCO(165.5,D0,3.1)),U,31)
"RTN","ONCOAIP",187,0)
 S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,32)
"RTN","ONCOAIP",188,0)
 S SOTH=$P($G(^ONCO(165.5,D0,3.1)),U,33)
"RTN","ONCOAIP",189,0)
 S SOTHATF=$P($G(^ONCO(165.5,D0,3.1)),U,34)
"RTN","ONCOAIP",190,0)
 S R=$$GET1^DIQ(165.5,D0,51.2,"I")
"RTN","ONCOAIP",191,0)
 S RATF=$$GET1^DIQ(165.5,D0,51.4,"I")
"RTN","ONCOAIP",192,0)
 I ((S="00")!(S=99)!(S=98)!(S=""))&((SATF="00")!(SATF=99)!(SATF=98)!(SATF=""))&((SCP=0)!(SCP="")!(SCP=9))&((SCPATF=0)!(SCPATF="")!(SCPATF=9))&((SOTH=0)!(SOTH=""))&((SOTHATF=0)!(SOTHATF="")) S SR=0
"RTN","ONCOAIP",193,0)
 E  S SR=1
"RTN","ONCOAIP",194,0)
 I ((R=0)!(R=7)!(R=8)!(R=9)!(R=""))&((RATF=0)!(RATF=7)!(RATF=8)!(RATF=9)!(RATF="")) S R=0
"RTN","ONCOAIP",195,0)
 E  S R=1
"RTN","ONCOAIP",196,0)
 I ($G(SR)&$G(R)) D  K S,SATF,SCP,SCPATF,SOTH,SOTHATF,R,RATF,SR,SDT,SATFDT,SCPDT,SCPATFDT,SOTDT,SOTATFDT,RDT,RATFDT,RSSEQ,FSDT,FRDT
"RTN","ONCOAIP",197,0)
 .S SDT=$P($G(^ONCO(165.5,D0,3)),U,1)
"RTN","ONCOAIP",198,0)
 .S:SDT'="" RSSEQ("S",SDT)="S",RSSEQ(SDT)="S"
"RTN","ONCOAIP",199,0)
 .S SATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,8)
"RTN","ONCOAIP",200,0)
 .S:SATFDT'="" RSSEQ("S",SATFDT)="S",RSSEQ(SATFDT)="S"
"RTN","ONCOAIP",201,0)
 .S SCPDT=$P($G(^ONCO(165.5,D0,3.1)),U,22)
"RTN","ONCOAIP",202,0)
 .S:SCPDT'="" RSSEQ("S",SCPDT)="S",RSSEQ(SCPDT)="S"
"RTN","ONCOAIP",203,0)
 .S SCPATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,23)
"RTN","ONCOAIP",204,0)
 .S:SCPATFDT'="" RSSEQ("S",SCPATFDT)="S",RSSEQ(SCPATFDT)="S"
"RTN","ONCOAIP",205,0)
 .S SOTDT=$P($G(^ONCO(165.5,D0,3.1)),U,24)
"RTN","ONCOAIP",206,0)
 .S:SOTDT'="" RSSEQ("S",SOTDT)="S",RSSEQ(SOTDT)="S"
"RTN","ONCOAIP",207,0)
 .S SOTATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,25)
"RTN","ONCOAIP",208,0)
 .S:SOTATFDT'="" RSSEQ("S",SOTATFDT)="S",RSSEQ(SOTATFDT)="S"
"RTN","ONCOAIP",209,0)
 .S RDT=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCOAIP",210,0)
 .S:RDT'="" RSSEQ("R",RDT)="R",RSSEQ(RDT)="R"
"RTN","ONCOAIP",211,0)
 .S RATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,13)
"RTN","ONCOAIP",212,0)
 .S:RATFDT'="" RSSEQ("R",RATFDT)="R",RSSEQ(RATFDT)="R"
"RTN","ONCOAIP",213,0)
 .S FSDT=$O(RSSEQ("S",0)),FRDT=$O(RSSEQ("R",0))
"RTN","ONCOAIP",214,0)
 .I FSDT=FRDT Q 
"RTN","ONCOAIP",215,0)
 .S RSSEQ=$O(RSSEQ(0))
"RTN","ONCOAIP",216,0)
 .I RSSEQ(RSSEQ)="R" S $P(^ONCO(165.5,D0,3),U,7)=2
"RTN","ONCOAIP",217,0)
 .I RSSEQ(RSSEQ)="S" S $P(^ONCO(165.5,D0,3),U,7)=3
"RTN","ONCOAIP",218,0)
 E  D
"RTN","ONCOAIP",219,0)
 .S $P(^ONCO(165.5,D0,3),U,7)=0
"RTN","ONCOAIP",220,0)
 Q
"RTN","ONCOAIP",221,0)
 ;
"RTN","ONCOAIP",222,0)
AB ;Abstract Status
"RTN","ONCOAIP",223,0)
 S SECTION="Case Administration" D SECTION
"RTN","ONCOAIP",224,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCOAIP",225,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCOAIP",226,0)
 S DR="90:92;198;199;155;157.1;236;244"
"RTN","ONCOAIP",227,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCOAIP",228,0)
 S X=ONC(165.5,D0,91) D UCASE^ONCPCI S ONC(165.5,D0,91)=X
"RTN","ONCOAIP",229,0)
 S X=ONC(165.5,D0,157.1) D UCASE^ONCPCI S ONC(165.5,D0,157.1)=X
"RTN","ONCOAIP",230,0)
 W !," Abstract Status.............: ",ONC(165.5,D0,91)
"RTN","ONCOAIP",231,0)
 W:ONC(165.5,D0,236)'="" !," Date Case Initiated.........: ",ONC(165.5,D0,236)
"RTN","ONCOAIP",232,0)
 W:ONC(165.5,D0,244)'="" !," Initiated By................: ",ONC(165.5,D0,244)
"RTN","ONCOAIP",233,0)
 W !," Date of First Contact.......: ",ONC(165.5,D0,155)
"RTN","ONCOAIP",234,0)
 W !," Date Case Completed.........: ",ONC(165.5,D0,90)
"RTN","ONCOAIP",235,0)
 W !," Elapsed Months to Completion: ",ONC(165.5,D0,157.1)
"RTN","ONCOAIP",236,0)
 W !," Abstracted by...............: ",ONC(165.5,D0,92)
"RTN","ONCOAIP",237,0)
 W !," Date Case Last Changed......: ",ONC(165.5,D0,198)
"RTN","ONCOAIP",238,0)
 W !," Case Last Changed by........: ",ONC(165.5,D0,199)
"RTN","ONCOAIP",239,0)
 W !,DASHES
"RTN","ONCOAIP",240,0)
 Q
"RTN","ONCOAIP",241,0)
 ;
"RTN","ONCOAIP",242,0)
NAN ;NEW ACC #
"RTN","ONCOAIP",243,0)
 K DIR S DIR(0)="N^:"_($E(DT,1,3)+1700),DIR("A")="YEAR of Accession Number: ",DIR("B")=($E(DT,1,3)+1700) W !! D ^DIR Q:(Y=U)!(Y="")
"RTN","ONCOAIP",244,0)
NA S YR=Y,MR=YR_"0001",XR=999999-((YR+1)_"0000"),NR=$O(^ONCO(165.5,"AF",XR))
"RTN","ONCOAIP",245,0)
 I NR<(990002-MR) W !!?5,"SYSTEM appears out of numbers-looking for unassigned ones" G FND
"RTN","ONCOAIP",246,0)
 I NR>(999999-MR) S NR=""
"RTN","ONCOAIP",247,0)
 S AC=$S(NR="":YR_"0001",1:(1000000-NR)),SEQ="00"
"RTN","ONCOAIP",248,0)
 Q
"RTN","ONCOAIP",249,0)
 ;
"RTN","ONCOAIP",250,0)
FND ;SEARCH for unused #s
"RTN","ONCOAIP",251,0)
 S NR=YR_"0000",MR=(YR+1)_"0000"
"RTN","ONCOAIP",252,0)
NR S NR=NR+1 I NR<MR G:$D(^ONCO(165.5,"AA",NR)) NR S AC=NR,SEQ="00" Q
"RTN","ONCOAIP",253,0)
 W !!?10,"OUT of ACCESSION Numbers for 19"_YR S Y=U
"RTN","ONCOAIP",254,0)
 Q
"RTN","ONCOAIP",255,0)
 ;
"RTN","ONCOAIP",256,0)
TOPNAM ;PRIMARY SITE and PRIMARY SITE CODE for header
"RTN","ONCOAIP",257,0)
 K SITTAB
"RTN","ONCOAIP",258,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOAIP",259,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOAIP",260,0)
 S SITTAB=79-$L(SITEGP),TOPTAB=79-$L(TOPNAM_" "_TOPCOD)
"RTN","ONCOAIP",261,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOAIP",262,0)
 Q
"RTN","ONCOAIP",263,0)
 ;
"RTN","ONCOAIP",264,0)
SECTION S HDL=$L(SECTION),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOAIP",265,0)
 W @IOF,DASHES
"RTN","ONCOAIP",266,0)
 W !,?1,PATNAM,?TAB,SECTION,?SITTAB,SITEGP
"RTN","ONCOAIP",267,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCOAIP",268,0)
 W !,DASHES
"RTN","ONCOAIP",269,0)
 Q
"RTN","ONCOAIP",270,0)
 ;
"RTN","ONCOAIP",271,0)
EX ;Exit
"RTN","ONCOAIP",272,0)
 D KILL^ONCOAI
"RTN","ONCOAIP",273,0)
 K ABSTAT,AC,C,CHECKSUM,D0,DASHES,DATEDX,DIE,H,HDL,HISTNAM,HSTFLD,IIN
"RTN","ONCOAIP",274,0)
 K L,MR,N,NODE0,NOS,NR,ONCDST,ONCOD0,ONCOD0P,ONCOEDIT,ONCONM,ONCOYR
"RTN","ONCOAIP",275,0)
 K PATNAM,RH,SAVED0,SECTION,SEQ,SITEGP,SITTAB,SSN,SY,T,TAB
"RTN","ONCOAIP",276,0)
 K TOP,TOPCOD,TOPNAM,TOPTAB,TXDT,X,XR,YR
"RTN","ONCOAIP",277,0)
 Q
"RTN","ONCOAIP",278,0)
 ;
"RTN","ONCOAIP",279,0)
CLEANUP ;Cleanup
"RTN","ONCOAIP",280,0)
 K COC,EXTVER
"RTN","ONCOAIP1")
0^156^B9531360
"RTN","ONCOAIP1",1,0)
ONCOAIP1 ;Hines OIFO/GWB [EE Abstract Edit Primary]; 08/29/01
"RTN","ONCOAIP1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIP1",3,0)
 ;
"RTN","ONCOAIP1",4,0)
SSS ;SYSTEMIC/SURGERY SEQUENCE (165.5,15)
"RTN","ONCOAIP1",5,0)
 Q:$P(^ONCO(165.5,D0,3.1),U,39)'=""
"RTN","ONCOAIP1",6,0)
 S S=$E($$GET1^DIQ(165.5,D0,58.6,"E"),1,2)
"RTN","ONCOAIP1",7,0)
 S SATF=$E($$GET1^DIQ(165.5,D0,58.7,"E"),1,2)
"RTN","ONCOAIP1",8,0)
 S SCP=$P($G(^ONCO(165.5,D0,3.1)),U,31)
"RTN","ONCOAIP1",9,0)
 S SCPATF=$P($G(^ONCO(165.5,D0,3.1)),U,32)
"RTN","ONCOAIP1",10,0)
 S SOTH=$P($G(^ONCO(165.5,D0,3.1)),U,33)
"RTN","ONCOAIP1",11,0)
 S SOTHATF=$P($G(^ONCO(165.5,D0,3.1)),U,34)
"RTN","ONCOAIP1",12,0)
 S C=$$GET1^DIQ(165.5,D0,53.2,"I")
"RTN","ONCOAIP1",13,0)
 S CATF=$$GET1^DIQ(165.5,D0,53.3,"I")
"RTN","ONCOAIP1",14,0)
 S H=$$GET1^DIQ(165.5,D0,54.2,"I")
"RTN","ONCOAIP1",15,0)
 S HATF=$$GET1^DIQ(165.5,D0,54.3,"I")
"RTN","ONCOAIP1",16,0)
 S I=$$GET1^DIQ(165.5,D0,55.2,"I")
"RTN","ONCOAIP1",17,0)
 S IATF=$$GET1^DIQ(165.5,D0,55.3,"I")
"RTN","ONCOAIP1",18,0)
 S HTE=$$GET1^DIQ(165.5,D0,153,"I")
"RTN","ONCOAIP1",19,0)
 I ((S="00")!(S=99)!(S=98)!(S=""))&((SATF="00")!(SATF=99)!(SATF=98)!(SATF=""))&((SCP=0)!(SCP="")!(SCP=9))&((SCPATF=0)!(SCPATF="")!(SCPATF=9))&((SOTH=0)!(SOTH=""))&((SOTHATF=0)!(SOTHATF="")) S SR=0
"RTN","ONCOAIP1",20,0)
 E  S SR=1
"RTN","ONCOAIP1",21,0)
 S DST=$$GET1^DIQ(165.5,D0,152)
"RTN","ONCOAIP1",22,0)
 I ((DST="00/00/0000")!(DST="99/99/9999")!(DST="88/88/8888")!(DST="")) S ST=0
"RTN","ONCOAIP1",23,0)
 E  S ST=1
"RTN","ONCOAIP1",24,0)
 I ($G(SR)&$G(ST)) D
"RTN","ONCOAIP1",25,0)
 .S SDT=$P($G(^ONCO(165.5,D0,3)),U,1)
"RTN","ONCOAIP1",26,0)
 .S:SDT'="" SSSEQ("S",SDT)="S",SSSEQ(SDT)="S"
"RTN","ONCOAIP1",27,0)
 .S SATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,8)
"RTN","ONCOAIP1",28,0)
 .S:SATFDT'="" SSSEQ("S",SATFDT)="S",SSSEQ(SATFDT)="S"
"RTN","ONCOAIP1",29,0)
 .S SCPDT=$P($G(^ONCO(165.5,D0,3.1)),U,22)
"RTN","ONCOAIP1",30,0)
 .S:SCPDT'="" SSSEQ("S",SCPDT)="S",SSSEQ(SCPDT)="S"
"RTN","ONCOAIP1",31,0)
 .S SCPATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,23)
"RTN","ONCOAIP1",32,0)
 .S:SCPATFDT'="" SSSEQ("S",SCPATFDT)="S",SSSEQ(SCPATFDT)="S"
"RTN","ONCOAIP1",33,0)
 .S SOTDT=$P($G(^ONCO(165.5,D0,3.1)),U,24)
"RTN","ONCOAIP1",34,0)
 .S:SOTDT'="" SSSEQ("S",SOTDT)="S",SSSEQ(SOTDT)="S"
"RTN","ONCOAIP1",35,0)
 .S SOTATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,25)
"RTN","ONCOAIP1",36,0)
 .S:SOTATFDT'="" SSSEQ("S",SOTATFDT)="S",SSSEQ(SOTATFDT)="S"
"RTN","ONCOAIP1",37,0)
 .S CDT=$P($G(^ONCO(165.5,D0,3)),U,11)
"RTN","ONCOAIP1",38,0)
 .S:CDT'="" SSSEQ("SYS",CDT)="SYS",SSSEQ(CDT)="SYS"
"RTN","ONCOAIP1",39,0)
 .S CATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,15)
"RTN","ONCOAIP1",40,0)
 .S:CATFDT'="" SSSEQ("SYS",CATFDT)="SYS",SSSEQ(CATFDT)="SYS"
"RTN","ONCOAIP1",41,0)
 .S HDT=$P($G(^ONCO(165.5,D0,3)),U,14)
"RTN","ONCOAIP1",42,0)
 .S:HDT'="" SSSEQ("SYS",HDT)="SYS",SSSEQ(HDT)="SYS"
"RTN","ONCOAIP1",43,0)
 .S HATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,17)
"RTN","ONCOAIP1",44,0)
 .S:HATFDT'="" SSSEQ("SYS",HATFDT)="SYS",SSSEQ(HATFDT)="SYS"
"RTN","ONCOAIP1",45,0)
 .S IDT=$P($G(^ONCO(165.5,D0,3)),U,17)
"RTN","ONCOAIP1",46,0)
 .S:IDT'="" SSSEQ("SYS",IDT)="SYS",SSSEQ(IDT)="SYS"
"RTN","ONCOAIP1",47,0)
 .S IATFDT=$P($G(^ONCO(165.5,D0,3.1)),U,19)
"RTN","ONCOAIP1",48,0)
 .S:IATFDT'="" SSSEQ("SYS",IATFDT)="SYS",SSSEQ(IATFDT)="SYS"
"RTN","ONCOAIP1",49,0)
 .S HTEDT=$P($G(^ONCO(165.5,D0,3.1)),U,35)
"RTN","ONCOAIP1",50,0)
 .S:HTEDT'="" SSSEQ("SYS",HTEDT)="SYS",SSSEQ(HTEDT)="SYS"
"RTN","ONCOAIP1",51,0)
 .S FSDT=$O(SSSEQ("S",0)),FSYSDT=$O(SSSEQ("SYS",0))
"RTN","ONCOAIP1",52,0)
 .I FSDT=FSYSDT G EXIT
"RTN","ONCOAIP1",53,0)
 .S SSSEQ=$O(SSSEQ(0))
"RTN","ONCOAIP1",54,0)
 .I SSSEQ(SSSEQ)="SYS" S $P(^ONCO(165.5,D0,3.1),U,39)=2
"RTN","ONCOAIP1",55,0)
 .I SSSEQ(SSSEQ)="S" S $P(^ONCO(165.5,D0,3.1),U,39)=3
"RTN","ONCOAIP1",56,0)
 E  D
"RTN","ONCOAIP1",57,0)
 .S $P(^ONCO(165.5,D0,3.1),U,39)=0
"RTN","ONCOAIP1",58,0)
 ;
"RTN","ONCOAIP1",59,0)
EXIT ;Exit
"RTN","ONCOAIP1",60,0)
 K S,SATF,SCP,SCPATF,SOTH,SOTHATF,C,CATF,H,HATF,I,IATF,HTE,SR,DST,ST
"RTN","ONCOAIP1",61,0)
 K SDT,SATFDT,SCPDT,SCPATFDT,SOTDT,SOTATFDT
"RTN","ONCOAIP1",62,0)
 K CDT,CATFDT,HDT,HATFDT,IDT,IATFDT,HTEDT
"RTN","ONCOAIP1",63,0)
 K SSSEQ,FSDT,FSYSDT
"RTN","ONCOAIP1",64,0)
 Q
"RTN","ONCOAIP2")
0^157^B3582117
"RTN","ONCOAIP2",1,0)
ONCOAIP2 ;Hines OIFO/GWB,RTK - ONCO ABSTRACT-I SUB-ROUTINES ;04/12/01
"RTN","ONCOAIP2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIP2",3,0)
 ;
"RTN","ONCOAIP2",4,0)
LEUKEMIA(REC) ;Systemic diseases
"RTN","ONCOAIP2",5,0)
 N H,HISTNAM,HSTFLD,ICDFILE,ICDNUM
"RTN","ONCOAIP2",6,0)
 S L=0
"RTN","ONCOAIP2",7,0)
 S H=$E($$HIST^ONCFUNC(REC,.HSTFLD,.HISTNAM,.ICDFILE,.ICDNUM),1,4)
"RTN","ONCOAIP2",8,0)
 I ICDNUM=2 I ((H'<9720)&(H'>9732))!((H'<9760)&(H'>9989)) S L=1
"RTN","ONCOAIP2",9,0)
 I ICDNUM=3 I ((H'<9731)&(H'>9734))!((H'<9750)&(H'>9989)) S L=1
"RTN","ONCOAIP2",10,0)
 Q L
"RTN","ONCOAIP2",11,0)
 ;
"RTN","ONCOAIP2",12,0)
MO ;ASSOCIATED WITH HIV (165.5,41)
"RTN","ONCOAIP2",13,0)
 S M=$$HIST^ONCFUNC(D0)
"RTN","ONCOAIP2",14,0)
 S AWHFLG=0
"RTN","ONCOAIP2",15,0)
 I $$LYMPHOMA^ONCFUNC(D0) S Y=41,AWHFLG=1 Q
"RTN","ONCOAIP2",16,0)
 S M=$E(M,1,4)
"RTN","ONCOAIP2",17,0)
 I M=9140 S Y=41
"RTN","ONCOAIP2",18,0)
 E  S Y=227
"RTN","ONCOAIP2",19,0)
 Q:Y=227  S $P(^ONCO(165.5,D0,2),U,9)=999
"RTN","ONCOAIP2",20,0)
 K M
"RTN","ONCOAIP2",21,0)
 Q
"RTN","ONCOAIP2",22,0)
 ;
"RTN","ONCOAIP2",23,0)
BLOOD ;PERIPHERAL BLOOD INVOLVEMENT (165.5,30.5)
"RTN","ONCOAIP2",24,0)
 ;Mycosis fungoides and Sezary's Disease (9700-9701)
"RTN","ONCOAIP2",25,0)
 N CHK,TMP
"RTN","ONCOAIP2",26,0)
 S TMP=$$HIST^ONCFUNC(DA),Y="@301"
"RTN","ONCOAIP2",27,0)
 F CHK="97002","97003","97012","97013" I CHK=TMP S Y=30.5 Q
"RTN","ONCOAIP2",28,0)
 Q
"RTN","ONCOAIP2",29,0)
 ;
"RTN","ONCOAIP2",30,0)
PGPE ;PATHOLOGIC EXTENSION (165.5,30.1)
"RTN","ONCOAIP2",31,0)
 ;Prostate C61.9
"RTN","ONCOAIP2",32,0)
 S Y="@231"
"RTN","ONCOAIP2",33,0)
 N TMP S TMP=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCOAIP2",34,0)
 I TMP=67619 S Y=30.1 Q
"RTN","ONCOAIP2",35,0)
 S $P(^ONCO(165.5,DA,2.2),U,2)=""
"RTN","ONCOAIP2",36,0)
 Q
"RTN","ONCOAIP2",37,0)
 ;
"RTN","ONCOAIP2",38,0)
LN ;BRAIN AND CEREBRAL MENINGES (SEER EOD)
"RTN","ONCOAIP2",39,0)
 ;OTHER PARTS OF CENTRAL NERVOUS SYSTEM (SEER EOD)
"RTN","ONCOAIP2",40,0)
 N T
"RTN","ONCOAIP2",41,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOAIP2",42,0)
 I (T=67700)!($E(T,3,4)=71)!($E(T,3,4)=72) D  S Y="@26" Q
"RTN","ONCOAIP2",43,0)
 .S $P(^ONCO(165.5,D0,2),U,11)=9  ;Lymph Nodes
"RTN","ONCOAIP2",44,0)
 .S $P(^ONCO(165.5,D0,2),U,12)=99 ;Regional Nodes Positive
"RTN","ONCOAIP2",45,0)
 .S $P(^ONCO(165.5,D0,2),U,13)=99 ;Regional Nodes Examined
"RTN","ONCOAIP2",46,0)
 .W !,"LYMPH NODES............: Not Applicable"
"RTN","ONCOAIP2",47,0)
 .W !,"REGIONAL NODES EXAMINED: Unk; not stated; death cert only"
"RTN","ONCOAIP2",48,0)
 .W !,"REGIONAL NODES POSITIVE: Unk if nodes + or -, NA"
"RTN","ONCOAIP2",49,0)
 S Y=31
"RTN","ONCOAIP2",50,0)
 Q
"RTN","ONCOAIQ")
0^158^B8053621
"RTN","ONCOAIQ",1,0)
ONCOAIQ ;WASH ISC/SRR,MLH-CHECK REQUIRED FIELDS & EDIT ;7/20/93  10:26
"RTN","ONCOAIQ",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIQ",3,0)
 ;
"RTN","ONCOAIQ",4,0)
CK ;Check data
"RTN","ONCOAIQ",5,0)
Q ;Q  ;QUIT UNTIL PATCHED
"RTN","ONCOAIQ",6,0)
 K DR S P=1,ER=0 F I=0:1:3 S X(I)=$G(^ONCO(165.5,D0,I))
"RTN","ONCOAIQ",7,0)
 ;node 0
"RTN","ONCOAIQ",8,0)
 S X0=X(0),XD0=$P(X0,U,2),DR=""
"RTN","ONCOAIQ",9,0)
X0 F J=3:1:7 I $P(X0,U,J)="" S DR=DR_".0"_J_";",ER=ER+1
"RTN","ONCOAIQ",10,0)
 I $P(X0,U,11)="" S DR=DR_2_";",ER=ER+1
"RTN","ONCOAIQ",11,0)
 F J=12:1:15 I $P(X0,U,J)="" S DR=DR_"2."_(J-11)_";",ER=ER+1
"RTN","ONCOAIQ",12,0)
 F J=16:1:19 I $P(X0,U,J)="" S DR=DR_$S(J=16:3,1:J-12)_";",ER=ER+1
"RTN","ONCOAIQ",13,0)
X1 S X1=X(1) F J=1:1:5 I $P(X1,U,J)="" S ER=ER+1 S:J<4 DR=DR_(J+7)_";" I J>3 S DR=DR_$S(J=4:16,1:11)_";"
"RTN","ONCOAIQ",14,0)
X2 S X2=X(2),X=18 F J=1,3,5,6,8 S X=X+2 I $P(X2,U,J)="" S DR=DR_X_";",ER=ER+1
"RTN","ONCOAIQ",15,0)
 F J=9:1:14 I $P(X2,U,J)="" S DR=DR_(J+20)_";",ER=ER+1
"RTN","ONCOAIQ",16,0)
 F J=15,16 I $P(X2,U,J)="" S DR=DR_$S(J=15:34.1,1:34.2)_";",ER=ER+1
"RTN","ONCOAIQ",17,0)
 F J=17,18,20 I $P(X2,U,J)="" S DR=DR_(J+18)_";",ER=ER+1
"RTN","ONCOAIQ",18,0)
 S X=37 F J=25:1:27 S X=X+.1 I $P(X2,U,J)="" S DR=DR_X_";",ER=ER+1
"RTN","ONCOAIQ",19,0)
X3 S X3=X(3) F J=27,28,26 I $P(X3,U,J)="" S DR=DR_$S(J=27:58.1,J=28:59,1:58)_";",ER=ER+1
"RTN","ONCOAIQ",20,0)
 S X=50.2 F J=6,7,10,13,16,19,25 S X=X+1 I $P(X3,U,J)="" S DR=DR_$S(J'=7:X,1:51.3)_";",ER=ER+1
"RTN","ONCOAIQ",21,0)
 I 'ER R !?30,"Data OK=",Z:3 G EX
"RTN","ONCOAIQ",22,0)
 W !?25,"Empty PRIMARY fields = ",ER,!!
"RTN","ONCOAIQ",23,0)
 IF P D  G EX:$D(Y),X0
"RTN","ONCOAIQ",24,0)
 .  N X S DIE="^ONCO(165.5,",DA=D0,ONCOL=0
"RTN","ONCOAIQ",25,0)
 .  L +^ONCO(165.5,DA):0 I $T D ^DIE L -^ONCO(165.5,DA) S P=0,ER=0,DR="",ONCOL=1
"RTN","ONCOAIQ",26,0)
 .  I 'ONCOL W !,"This primary is being edited by another user."
"RTN","ONCOAIQ",27,0)
 .  K ONCOL
"RTN","ONCOAIQ",28,0)
 .  Q
"RTN","ONCOAIQ",29,0)
 ;END IF
"RTN","ONCOAIQ",30,0)
 ;
"RTN","ONCOAIQ",31,0)
CK1 ;Check Patient data
"RTN","ONCOAIQ",32,0)
 S ER=0,P=1 F I=0,1 S X(I)=$G(^ONCO(160,XD0,I))
"RTN","ONCOAIQ",33,0)
 S X0=X(0),X1=X(1)
"RTN","ONCOAIQ",34,0)
XP0 F J=5:1:8 I $P(X0,U,J)="" S DR=DR_(J+2)_";",ER=ER+1
"RTN","ONCOAIQ",35,0)
 I $P(X1,U)=0 F J=3:1:5 I $P(X1,U,J)="" S DR=DR_(J+16)_";",ER=ER+1
"RTN","ONCOAIQ",36,0)
 I ER,P D
"RTN","ONCOAIQ",37,0)
 .W !?25,"Patient file Errors: = ",ER
"RTN","ONCOAIQ",38,0)
 .S DIE="^ONCO(160,",DA=XD0,ONCOL=0
"RTN","ONCOAIQ",39,0)
 .L +^ONCO(160,DA):0 I $T D ^DIE L -^ONCO(160,DA) S ONCOL=1
"RTN","ONCOAIQ",40,0)
 .I 'ONCOL W !,"This primary being edited by another user."
"RTN","ONCOAIQ",41,0)
 .K ONCOL
"RTN","ONCOAIQ",42,0)
 .G EX:$D(Y)=0 S ER=0,P=0 G XP0
"RTN","ONCOAIQ",43,0)
 S ER=0,FU=$P($G(^ONCO(160,XD0,"F",0)),U,3) I FU="" S ER=1 W !?15,"You must register at least ONE Last Contact/Followup",! G EX
"RTN","ONCOAIQ",44,0)
 S XX=$O(^ONCO(160,XD0,"F","AA",0)) I XX'="" S XD1=$O(^(XX,0)),LC=^ONCO(160,XD0,"F",XD1,0) F J=1:1:6 I $P(LC,U,J)="" S ER=ER+1
"RTN","ONCOAIQ",45,0)
 I ER W !,?10,"Errors in Oncology Patient/Follow-up: ",ER
"RTN","ONCOAIQ",46,0)
EX ;EXIT
"RTN","ONCOAIQ",47,0)
 I ER S $P(^ONCO(165.5,D0,7),U,2)=0 W !?20,"ABSTRACT Status RESET to Incomplete ",!!
"RTN","ONCOAIQ",48,0)
 K DR,DIE,J,C,DA,ER,P,ONCOD
"RTN","ONCOAIQ",49,0)
 Q
"RTN","ONCOAIS")
0^159^B7347538
"RTN","ONCOAIS",1,0)
ONCOAIS ;Hines OIFO/GWB - POST FOLLOW-UP UPDATE PRIMARY CANCER STATUS ;07/12/00
"RTN","ONCOAIS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIS",3,0)
 ;
"RTN","ONCOAIS",4,0)
PRI ;TUMOR STATUS - from template [ONCO FOLLOWUP]
"RTN","ONCOAIS",5,0)
 I $D(^ONCO(165.5,"C",DA(1))) D
"RTN","ONCOAIS",6,0)
 .N XDA1,XY,K S XDA1=DA(1)
"RTN","ONCOAIS",7,0)
 .D FINDEM,EDITEM
"RTN","ONCOAIS",8,0)
 .S DA(1)=XDA1
"RTN","ONCOAIS",9,0)
 E  W !,"Patient has no primary registered",!!
"RTN","ONCOAIS",10,0)
 Q
"RTN","ONCOAIS",11,0)
 ;
"RTN","ONCOAIS",12,0)
FINDEM ;Setup/fetch the tumor status subentries from the primary file
"RTN","ONCOAIS",13,0)
 N FOLDAT,PRIMIEN
"RTN","ONCOAIS",14,0)
 S K=0,PRIMIEN=0,FOLDAT=$P($G(^ONCO(160,DA(1),"F",DA,0)),U,1)
"RTN","ONCOAIS",15,0)
 F  S PRIMIEN=$O(^ONCO(165.5,"C",DA(1),PRIMIEN)) Q:PRIMIEN=""  D
"RTN","ONCOAIS",16,0)
 .N DATEDX,TOPOG,TSIEN
"RTN","ONCOAIS",17,0)
 .S TOPOG=$P($G(^ONCO(165.5,PRIMIEN,0)),U)
"RTN","ONCOAIS",18,0)
 .S DATEDX=$P($G(^ONCO(165.5,PRIMIEN,0)),U,16)
"RTN","ONCOAIS",19,0)
 .I TOPOG,DATEDX,DATEDX'>FOLDAT D FINDSET
"RTN","ONCOAIS",20,0)
 Q
"RTN","ONCOAIS",21,0)
 ;
"RTN","ONCOAIS",22,0)
FINDSET ;Find/setup tumor status corresponding to this follow-up
"RTN","ONCOAIS",23,0)
 N TSIEN S TSIEN=$O(^ONCO(165.5,PRIMIEN,"TS","B",FOLDAT,0))
"RTN","ONCOAIS",24,0)
 I TSIEN,$D(^ONCO(165.5,PRIMIEN,"TS",TSIEN,0))
"RTN","ONCOAIS",25,0)
 E  S TSIEN=$$SETTS^ONCOU55(PRIMIEN,FOLDAT)
"RTN","ONCOAIS",26,0)
 S K=K+1,XY(K)=PRIMIEN_U_TSIEN
"RTN","ONCOAIS",27,0)
 Q
"RTN","ONCOAIS",28,0)
 ;
"RTN","ONCOAIS",29,0)
EDITEM ;Edit Tumor Status for each primary during a follow-up
"RTN","ONCOAIS",30,0)
 N Q,XD0,DIE,DR,KK
"RTN","ONCOAIS",31,0)
 S Q=0,XD0=DA(1)
"RTN","ONCOAIS",32,0)
 S DIE("NO^")=1
"RTN","ONCOAIS",33,0)
 S DR=.02
"RTN","ONCOAIS",34,0)
 F KK=1:1:K D EDITONE
"RTN","ONCOAIS",35,0)
 Q
"RTN","ONCOAIS",36,0)
 ;
"RTN","ONCOAIS",37,0)
EDITONE ;CANCER STATUS (165.573,.02)
"RTN","ONCOAIS",38,0)
 S DR=.02
"RTN","ONCOAIS",39,0)
 N DA
"RTN","ONCOAIS",40,0)
 S DA(1)=$P(XY(KK),U),DA=$P(XY(KK),U,2)
"RTN","ONCOAIS",41,0)
 I DUZ(2)'=$P($G(^ONCO(165.5,DA(1),"DIV")),U,1) Q
"RTN","ONCOAIS",42,0)
 S DIE="^ONCO(165.5,"_DA(1)_",""TS"","
"RTN","ONCOAIS",43,0)
 W !!,"Updating CANCER STATUS for "_$P($G(^ONCO(164,+$P($G(^ONCO(165.5,DA(1),2)),U),0)),U)_"..."
"RTN","ONCOAIS",44,0)
 N DG,DIC,DI,%,DP,DM,DK,DH,DQ,DIEL,DL,DC,X,Y
"RTN","ONCOAIS",45,0)
 L +^ONCO(165.5,DA(1)):0 I $T D ^DIE L -^ONCO(165.5,DA(1))  D  Q
"RTN","ONCOAIS",46,0)
 .S TOFRE=$$GET1^DIQ(165.5,DA(1),71,"E")
"RTN","ONCOAIS",47,0)
 .S TOFR=$$GET1^DIQ(165.5,DA(1),71,"I")
"RTN","ONCOAIS",48,0)
 .I TOFR'="" S TOFR=$P($G(^ONCO(160.12,TOFR,0)),U,1)
"RTN","ONCOAIS",49,0)
 .S LTS=$$GET1^DIQ(165.5,DA(1),95,"I")
"RTN","ONCOAIS",50,0)
 .I TOFR="00",LTS'=1 D  W ! D ERRMSG^ONCEDIT
"RTN","ONCOAIS",51,0)
 ..S MSG(1)="TYPE OF FIRST RECURRENCE = 00 ("_TOFRE_")"
"RTN","ONCOAIS",52,0)
 ..S MSG(2)="CANCER STATUS must be 1 (No evidence of this tumor)"
"RTN","ONCOAIS",53,0)
 .I TOFR=70,LTS'=2 D  W ! D ERRMSG^ONCEDIT
"RTN","ONCOAIS",54,0)
 ..S MSG(1)="TYPE OF FIRST RECURRENCE = 70 ("_TOFRE_")"
"RTN","ONCOAIS",55,0)
 ..S MSG(2)="CANCER STATUS must be 2 (Evidence of this tumor)"
"RTN","ONCOAIS",56,0)
 .I TOFR=99,LTS'=9 D  W ! D ERRMSG^ONCEDIT
"RTN","ONCOAIS",57,0)
 ..S MSG(1)="TYPE OF FIRST RECURRENCE = 99 ("_TOFRE_")"
"RTN","ONCOAIS",58,0)
 ..S MSG(2)="CANCER STATUS must be 9 (Unknown if recurred or disease-free"
"RTN","ONCOAIS",59,0)
 W !,"This primary is being edited by another user."
"RTN","ONCOAIS",60,0)
 Q
"RTN","ONCOAIS",61,0)
 ;
"RTN","ONCOAIS",62,0)
TEMP451 ;Point of entry from input template [ONCO FOLLOWUP]
"RTN","ONCOAIS",63,0)
 S (ONCOVS,VS)=X
"RTN","ONCOAIS",64,0)
 D PRI
"RTN","ONCOAIS",65,0)
 S Y="@1001"
"RTN","ONCOAIS",66,0)
 Q
"RTN","ONCOAIT")
0^160^B1211393
"RTN","ONCOAIT",1,0)
ONCOAIT ;Hines OIFO/GWB - Topography function; 8/05/10
"RTN","ONCOAIT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAIT",3,0)
TOP() ;Called by ONCO ABSTRACT-I input template
"RTN","ONCOAIT",4,0)
 N ONCOFLD
"RTN","ONCOAIT",5,0)
 N ONCOED S ONCOED=$$TNMED^ONCOU55(D0)
"RTN","ONCOAIT",6,0)
 N TOP3 S TOP3=$E(TOP,3,5)
"RTN","ONCOAIT",7,0)
 I ONCOED<5,(TOP3=700)!($E(TOP3,1,2)=71) S ONCOFLD=21.5 ;INFRA/SUPRA for 4th edition brain cases
"RTN","ONCOAIT",8,0)
 E  I TOP3=694 S ONCOFLD=21.51 ;IRIS/CILIARY BODY for Malignant Melanoma of the Uvea
"RTN","ONCOAIT",9,0)
 E  I ONCOED<5,TOP3=529 S ONCOFLD=21.52 ;UPPER/LOWER for vagina cases
"RTN","ONCOAIT",10,0)
 E  S ONCOFLD=100 ;proceed to TEXT-PRIMARY SITE
"RTN","ONCOAIT",11,0)
 Q ONCOFLD
"RTN","ONCOANC0")
0^161^B21445335
"RTN","ONCOANC0",1,0)
ONCOANC0 ;Hines OIFO/GWB - BUILDS DATA ARRAY FOR NCDB CALL FOR DATA ;8/21/93
"RTN","ONCOANC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC0",3,0)
AASMAIN S X=0 X ^%ZOSF("RM") ;disable autowrap
"RTN","ONCOANC0",4,0)
 N AAS160,AAS165,AAS1655,AASACYR,AASAVD0,AASBLNK,AASCASE,AASD0160,AASD1,AASD1A,AASDPT,AASDTCV,AASRI,AASTAT,AASZERO,ONCOIEN
"RTN","ONCOANC0",5,0)
 K ^TMP($J)
"RTN","ONCOANC0",6,0)
 S AASBLNK=$J("",255),AASZERO="0000000000",MLHIX=0,AASDT=""
"RTN","ONCOANC0",7,0)
 S AASDTCV="S:AASX'="""" AASDT=$E(AASX,4,5)_$E(AASX,6,7)_(1700+$E(AASX,1,3)) S AASX=AASDT S:AASX="""" AASX=$E(AASBLNK,1,8) S:$E(AASDT,1,2)=""00"" AASDT=99_$E(AASDT,3,8) S:$E(AASDT,3,4)=""00"" AASDT=$E(AASDT,1,2)_99_$E(AASDT,5,8) S AASX=AASDT"
"RTN","ONCOANC0",8,0)
 S (D0,AASAVD0)=0
"RTN","ONCOANC0",9,0)
 I '$D(AASDXH) S AASDXH=$$ASKNUM^ONCOU("Enter DAM 6-digit hospital registry ID","0:999999:0") G AASQUIT:$D(DIRUT)
"RTN","ONCOANC0",10,0)
 S:$L(AASDXH)<6 AASDXH=$E(AASZERO,1,6-$L(AASDXH))_AASDXH
"RTN","ONCOANC0",11,0)
 S AASRI=6_AASDXH_0
"RTN","ONCOANC0",12,0)
 I $G(ONCOREP)!$G(ONCOREQ) G DEVQUE
"RTN","ONCOANC0",13,0)
 D HANG^ONCOANC3
"RTN","ONCOANC0",14,0)
 I $D(DUOUT) G AASQUIT^ONCOANC0 ;    check for bailout
"RTN","ONCOANC0",15,0)
 G AASRETN
"RTN","ONCOANC0",16,0)
DEVQUE ;Device/Queuing Ctrl
"RTN","ONCOANC0",17,0)
 K IO("Q") S %ZIS="MQ" D ^%ZIS I POP S ONCOUT="" G AASQUIT
"RTN","ONCOANC0",18,0)
 S ONCOFF="S DN=1,ONCOY="""" I $Y>(IOSL-5) R:IOST[""C-"" !!,""Press Return to Continue, '^' to escape: "",ONCOY:DTIME S:'$T ONCOY=U S:ONCOY=U ONCOUT=1,DN=0 Q:$D(ONCOUT)  D:DN HEAD^ONCOANC2 K ONCOY",(PG,ONCOECNT)=0
"RTN","ONCOANC0",19,0)
 I $D(IO("Q")) S (ZTSAVE("DIC"),ZTSAVE("AAS*"),ZTSAVE("ONCO*"),ZTSAVE("MLHIX"),ZTSAVE("PG"))="",ZTRTN="AASRETN^ONCOANC0",ZTDESC="Oncology ACOS Report" D ^%ZTLOAD K ZTSK G AASQUIT
"RTN","ONCOANC0",20,0)
 U IO
"RTN","ONCOANC0",21,0)
AASRETN ;$O Thru "AY" Xref
"RTN","ONCOANC0",22,0)
 S AASAY1=AASAY,AASAY=$E(AASAY,3,4)
"RTN","ONCOANC0",23,0)
 S D0=0 F  S D0=$O(^ONCO(165.5,"AY",AASAY1,D0)) Q:D0=""  Q:$D(ONCOUT)  D GET
"RTN","ONCOANC0",24,0)
 W:'($G(ONCOREP)!($G(ONCOREQ))) !!,"   <<  Total records created:  ",MLHIX,"  >>",!!
"RTN","ONCOANC0",25,0)
 I ($G(ONCOREP)) W !!,"   <<  Total records reported on:  ",MLHIX,"  >>",!!
"RTN","ONCOANC0",26,0)
 I ($G(ONCOREQ)) W !!,"   <<  Total records reviewed:  ",MLHIX,"  >>",!!,"  <<  Total incomplete records:  ",ONCOECNT,"  >>",!!
"RTN","ONCOANC0",27,0)
 G AASQUIT
"RTN","ONCOANC0",28,0)
GET ;main loop-proces primary
"RTN","ONCOANC0",29,0)
 S AAS1655("N0")=$S($D(^ONCO(165.5,D0,0))#2:^(0),1:"")
"RTN","ONCOANC0",30,0)
 S AASCASE=$P(AAS1655("N0"),U,4) I AASCASE=""!(AASCASE<0)!(AASCASE'?1N) Q
"RTN","ONCOANC0",31,0)
 S AASACYR=$E($P(AAS1655("N0"),U,7),3,4) I AASACYR'=AASAY Q
"RTN","ONCOANC0",32,0)
 S AAS1655("N1")=$S($D(^ONCO(165.5,D0,1))#2:^(1),1:""),AAS1655("N2")=$S($D(^ONCO(165.5,D0,2))#2:^(2),1:""),AAS1655("N3")=$S($D(^ONCO(165.5,D0,3))#2:^(3),1:"")
"RTN","ONCOANC0",33,0)
 I $D(^ONCO(165.5,D0,4,0))#2 F AASX=0:0 S AASX=$O(^ONCO(165.5,D0,4,AASX)) Q:'AASX  S AAS165("D0")=AASX
"RTN","ONCOANC0",34,0)
 S:'$D(AAS165("D0")) AAS165("D0")=0
"RTN","ONCOANC0",35,0)
 S AAS1655("N4")=$S($D(^ONCO(165.5,D0,4,AAS165("D0"),0))#2:^(0),1:"")
"RTN","ONCOANC0",36,0)
 S AAS1655("N5")=$S($D(^ONCO(165.5,D0,5))#2:^(5),1:""),AAS1655("N24")=$S($D(^ONCO(165.5,D0,24))#2:^(24),1:""),AAS1655("N7")=$S($D(^ONCO(165.5,D0,7))#2:^(7),1:"")
"RTN","ONCOANC0",37,0)
STDIS ;Disqualifies incomplete data and data outside the abstract range for the State data Disk
"RTN","ONCOANC0",38,0)
 S AASPP=1 I AASTYPNC="A" D  I AASPP="" K AASPP Q
"RTN","ONCOANC0",39,0)
 .S BYR("B")=$G(BYR("B")),BYR("E")=$G(BYR("E"))
"RTN","ONCOANC0",40,0)
 .S:$P(AAS1655("N7"),U,2)'=3 AASPP=""
"RTN","ONCOANC0",41,0)
 .S BYR("A")=$P(AAS1655("N7"),U)
"RTN","ONCOANC0",42,0)
 .S:BYR("A")<BYR("B")!(BYR("A")>BYR("E")) AASPP=""
"RTN","ONCOANC0",43,0)
 K AASPP
"RTN","ONCOANC0",44,0)
 S AASD0160=$P(AAS1655("N0"),U,2) S:AASD0160'?.6N AASD0160=0
"RTN","ONCOANC0",45,0)
 S AAS160("N0")=$S($D(^ONCO(160,AASD0160,0))#2:^(0),1:"")
"RTN","ONCOANC0",46,0)
 I $D(^ONCO(160,AASD0160,"F",0))#2 F AASD1=0:0 S AASD1=$O(^ONCO(160,AASD0160,"F",AASD1)) Q:'AASD1  S AASD1A=AASD1
"RTN","ONCOANC0",47,0)
 S:'$D(AASD1A) AASD1A=0
"RTN","ONCOANC0",48,0)
 S AAS160("NF")=$S($D(^ONCO(160,AASD0160,"F",AASD1A,0))#2:^(0),1:""),AAS160("N1")=$S($D(^ONCO(160,AASD0160,1))#2:^(1),1:"")
"RTN","ONCOANC0",49,0)
 S:D0'=AASD0160 AASAVD0=D0,D0=AASD0160
"RTN","ONCOANC0",50,0)
 D SETUP^ONCOES S AASDPT=@ONCOX1
"RTN","ONCOANC0",51,0)
 ;D ST^ONCOES S AASTAT=$S(X="":"  ",1:X)
"RTN","ONCOANC0",52,0)
 S:AASAVD0>0 D0=AASAVD0,AASAVD0=0
"RTN","ONCOANC0",53,0)
AASRL ;NCDB REC LAYOUT
"RTN","ONCOANC0",54,0)
 ; RECORD TYPE = I   REGISTRY TYPE = 3 
"RTN","ONCOANC0",55,0)
 D PID^ONCOCOP ;     PATIENT ID = 1ST LETTER OF LAST NAME+4DIGITS OF SSN*
"RTN","ONCOANC0",56,0)
 S:$L(X)<8 X=X_$E(AASZERO,1,8-$L(X)) S ^TMP($J,D0,76)=AASTYPNC_X_3_AASRI
"RTN","ONCOANC0",57,0)
 D:AASTYPNC="A" NAME^ONCOANC4
"RTN","ONCOANC0",58,0)
AASDXAD ;POSTAL CODE AT DIAGNOSIS, COUNTY AT DIAGNOSIS, STATE AT DIAGNOSIS,
"RTN","ONCOANC0",59,0)
 ;CITY/TOWN AT DIAGNOSIS
"RTN","ONCOANC0",60,0)
 S AASZIP=$P(AAS1655("N1"),U,2)
"RTN","ONCOANC0",61,0)
 S:$L(AASZIP)<9 AASZIP=AASZIP_$E(AASBLNK,1,9-$L(AASZIP))
"RTN","ONCOANC0",62,0)
 S AASCNTY=$G(^VIC(5.1,+$P(AAS1655("N1"),U,3),0))
"RTN","ONCOANC0",63,0)
 S AASCNTY=+$P(AASCNTY,U,3)
"RTN","ONCOANC0",64,0)
 S AASCNTY=$S((AASCNTY>0):AASCNTY,1:999)
"RTN","ONCOANC0",65,0)
 S AASCNTY="T"_$E(AASZERO,1,3-$L(AASCNTY))_AASCNTY
"RTN","ONCOANC0",66,0)
 S AASTAT=$P(AAS1655("N1"),U,4)
"RTN","ONCOANC0",67,0)
 S AASTAT=$S(AASTAT="":"  ",1:$P(^ONCO(160.15,AASTAT,0),U,1))
"RTN","ONCOANC0",68,0)
 S AASCITY=$P(AAS1655("N1"),U,12) S:AASCITY="" AASCITY="CITY UNKNOWN"
"RTN","ONCOANC0",69,0)
 S:$L(AASCITY)<20 AASCITY=AASCITY_$E(AASBLNK,1,20-$L(AASCITY))
"RTN","ONCOANC0",70,0)
 S AASCITY=$E(AASCITY,1,20)
"RTN","ONCOANC0",71,0)
 S ^TMP($J,D0,76)=^TMP($J,D0,76)_AASCITY_AASTAT_$E(AASCNTY,2,4)_AASZIP_$E(AASBLNK,1,7)
"RTN","ONCOANC0",72,0)
 S AASMS=$S(AAS1655("N1")'="":$P(AAS1655("N1"),U,5),1:"")
"RTN","ONCOANC0",73,0)
 I AASMS=""!(AASMS<1)!(AASMS>9)!(AASMS>5&(AASMS<9)) S AASMS=" "
"RTN","ONCOANC0",74,0)
 D RSAR^ONCOANC4 ;RACE,SEX,AGE,RELIGION
"RTN","ONCOANC0",75,0)
 G AASTUM^ONCOANC2
"RTN","ONCOANC0",76,0)
AASQUIT D ^%ZISC
"RTN","ONCOANC0",77,0)
 D CLEANUP^ONCOANC9
"RTN","ONCOANC0",78,0)
 Q
"RTN","ONCOANC0",79,0)
NOCON S AASTYPNC="I" D LINE^ONCOANCQ Q
"RTN","ONCOANC1")
0^162^B21219299
"RTN","ONCOANC1",1,0)
ONCOANC1 ;Hines OIFO/GWB - CONTINUE ONCOANC2 ;05/03/12
"RTN","ONCOANC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC1",3,0)
 ;rvd - 05/03/12 p56. Use ICD API (#3990) instead of direct global read.
"RTN","ONCOANC1",4,0)
 ;
"RTN","ONCOANC1",5,0)
AASTEOD ; STAGE/EXTENT OF DISEASE
"RTN","ONCOANC1",6,0)
 S AASEODS=$P(AAS1655("N2"),U,17) S AASEODS=$S(AASEODS="":9,AASEODS<0:9,AASEODS>9:9,AASEODS=8:9,1:AASEODS)
"RTN","ONCOANC1",7,0)
 S AASEODT=$P(AAS1655("N2"),U,9) S AASEODT=$S(AASEODT="":999,AASEODT[".":999,AASEODT<0:999,AASEODT>999:999,1:AASEODT)
"RTN","ONCOANC1",8,0)
 S:$L(AASEODT)<3 AASEODT=$E(AASZERO,1,3-$L(AASEODT))_AASEODT
"RTN","ONCOANC1",9,0)
 S AASEODE=$P(AAS1655("N2"),U,10) S AASEODE=$S(AASEODE="":"  ",AASEODE<0:"  ",AASEODE>99:"  ",1:AASEODE)
"RTN","ONCOANC1",10,0)
 S:$L(AASEODE)<2 AASEODE=$E(AASZERO,1,2-$L(AASEODE))_AASEODE
"RTN","ONCOANC1",11,0)
 S AASEODL=$P(AAS1655("N2"),U,11) S AASEODL=$S(AASEODL="":" ",AASEODL<0:" ",AASEODL>9:" ",1:AASEODL)
"RTN","ONCOANC1",12,0)
 S AASNP=$P(AAS1655("N2"),U,12) S AASNP=$S(AASNP="":99,AASNP[".":99,AASNP<0:99,AASNP>99:99,1:AASNP)
"RTN","ONCOANC1",13,0)
 S:$L(AASNP)<2 AASNP=$E(AASZERO,1,2-$L(AASNP))_AASNP
"RTN","ONCOANC1",14,0)
 S AASNE=$P(AAS1655("N2"),U,13) S AASNE=$S(AASNE="":99,AASNE[".":99,AASNE<0:99,AASNE>99:99,1:AASNE)
"RTN","ONCOANC1",15,0)
 S:$L(AASNE)<2 AASNE=$E(AASZERO,1,2-$L(AASNE))_AASNE
"RTN","ONCOANC1",16,0)
 S AASTNME=$$EDT^ONCOANC3($E(AASDXDT,7,8)) ;(AASTNME=2
"RTN","ONCOANC1",17,0)
 N AASTC,AASNC,AASMC,AASAJSM,AASTC2,AASNC2,AASMC2,AASJSM2
"RTN","ONCOANC1",18,0)
 D TNM^ONCOANC3(.AASTC,.AASNC,.AASMC,.AASAJSM,.AASTC2,.AASNC2,.AASMC2,.AASJSM2)
"RTN","ONCOANC1",19,0)
 S AASITME=$$MET^ONCOANC3(AAS1655("N2"))
"RTN","ONCOANC1",20,0)
 S:$L(AASITME)<3 AASITME=AASITME_$E(AASBLNK,1,3-$L(AASITME))
"RTN","ONCOANC1",21,0)
 S AASRT=$P(AAS1655("N3"),U,28) S AASRT=$S(AASRT="":" ",AASRT<0:" ",AASRT>9:" ",1:AASRT)
"RTN","ONCOANC1",22,0)
 I AASRT>2&(AASRT<9) S AASRT=" "
"RTN","ONCOANC1",23,0)
 S AASTM1=$P(AAS1655("N24"),U,2) S AASTM1=$S(AASTM1="":" ",1:$P(^ONCO(164.15,AASTM1,0),U))
"RTN","ONCOANC1",24,0)
 S AASTM2=$P(AAS1655("N24"),U,3) S AASTM2=$S(AASTM2="":" ",1:$P(^ONCO(164.15,AASTM2,0),U))
"RTN","ONCOANC1",25,0)
 S ^TMP($J,D0,225)=^TMP($J,D0,225)_AASEODS_" "_AASEODT_AASEODE_AASEODL_AASNP_AASNE_$E(AASBLNK,1,19)_AASTC_AASNC_AASMC_AASAJSM_AASTC2_AASNC2_AASMC2_AASJSM2
"RTN","ONCOANC1",26,0)
 S ^TMP($J,D0,299)=AASTNME_AASITME_AASRT_$E(AASBLNK,1,4)_AASTM1_AASTM2_$E(AASBLNK,1,12)
"RTN","ONCOANC1",27,0)
AASRXTR ;   TREATMENT(RX)-ENTIRE(SUMMARY) FIRST COURSE
"RTN","ONCOANC1",28,0)
 S AASRTR=1
"RTN","ONCOANC1",29,0)
 S AASRDSR=$$AASDC^ONCOANC4($P(AAS1655("N3"),U))
"RTN","ONCOANC1",30,0)
 S AASRDRA=$$AASDC^ONCOANC4($P(AAS1655("N3"),U,4))
"RTN","ONCOANC1",31,0)
 S AASRDCH=$$AASDC^ONCOANC4($P(AAS1655("N3"),U,11))
"RTN","ONCOANC1",32,0)
 S AASRDHO=$$AASDC^ONCOANC4($P(AAS1655("N3"),U,14))
"RTN","ONCOANC1",33,0)
 S AASRDBR=$$AASDC^ONCOANC4($P(AAS1655("N3"),U,17))
"RTN","ONCOANC1",34,0)
 S AASRDOT=$$AASDC^ONCOANC4($P(AAS1655("N3"),U,23))
"RTN","ONCOANC1",35,0)
 S AASX=$O(^ONCO(165.5,"ATX",D0,0)) S:AASX'="" AASX=$E(AASX,1,7)
"RTN","ONCOANC1",36,0)
 S AASRXBDT=$$AASDC^ONCOANC4(AASX,"ZERO")
"RTN","ONCOANC1",37,0)
 S AASRXREA=$P(AAS1655("N3"),U,26) I AASRXREA=""!(AASRXREA<0)!(AASRXREA>9)!(AASRXREA>2&(AASRXREA<6)) S AASRXREA=9
"RTN","ONCOANC1",38,0)
 S AASRXCN=$P(AAS1655("N3"),U,10) I AASRXCN=""!(AASRXCN<0)!(AASRXCN>9)!(AASRXCN>1&(AASRXCN<7)) S AASRXCN=9
"RTN","ONCOANC1",39,0)
 S AASRXSEQ=$P(AAS1655("N3"),U,7) I AASRXSEQ=""!(AASRXSEQ<0)!(AASRXSEQ>6)!(AASRXSEQ=1) S AASRXSEQ=9
"RTN","ONCOANC1",40,0)
 S AASRDSB=$$AASDC^ONCOANC4($P(AAS1655("N5"),U))
"RTN","ONCOANC1",41,0)
 S ^TMP($J,D0,299)=^TMP($J,D0,299)_AASRTR_AASRDSR_AASRDRA_AASRDCH_AASRDHO_AASRDBR_AASRDOT
"RTN","ONCOANC1",42,0)
 D FOLLOW^ONCOANC3
"RTN","ONCOANC1",43,0)
AASFLUP ;  FOLLOW UP
"RTN","ONCOANC1",44,0)
 S AASDTLC=$$AASDC^ONCOANC4($P(AAS160("NF"),U))
"RTN","ONCOANC1",45,0)
 S ^TMP($J,D0,425)=^TMP($J,D0,425)_$E(AASBLNK,1,20)_AASDTLC
"RTN","ONCOANC1",46,0)
 S AASVSTA=$S($G(AASDTLC):$P(AAS160("NF"),U,2),1:" ") S:AASVSTA=""!(AASVSTA<0)!(AASVSTA>1) AASVSTA=1
"RTN","ONCOANC1",47,0)
 S AASCSTA=$S($G(AASDTLC):$P(AAS1655("N7"),U,6),1:" ") S AASCSTA=$S((AASCSTA="")!(AASCSTA<0)!(AASCSTA>5):9,(AASCSTA=4)!(AASCSTA=5):2,1:AASCSTA)
"RTN","ONCOANC1",48,0)
 S AASQS=$S($G(AASDTLC):$P(AAS160("NF"),U,5),1:" ") S:AASQS=""!(AASQS<0)!(AASQS>9)!(AASQS>4&(AASQS<8)) AASQS=9
"RTN","ONCOANC1",49,0)
 S AASROT=$P(AAS1655("N5"),U,2) I AASROT=""!(AASROT<0)!(AASROT>4) S AASROT=9
"RTN","ONCOANC1",50,0)
 S AASFSIT=$P(AAS1655("N5"),U,3) I AASFSIT=""!(AASFSIT<0)!(AASFSIT>9) S AASFSIT=9
"RTN","ONCOANC1",51,0)
 S:$L(AASFSIT)<3 AASFSIT=AASFSIT_$E(AASBLNK,1,3-$L(AASFSIT))
"RTN","ONCOANC1",52,0)
ASSD ;   CAUSE OF DEATH
"RTN","ONCOANC1",53,0)
 S AASCOD=$P(AAS160("N1"),U,3) S AASCOD=$S(AASCOD'="":$P($$ICDDX^ICDCODE(AASCOD),U,2),1:"0000")
"RTN","ONCOANC1",54,0)
 I AASCOD["." S AASCOD=$P(AASCOD,".")_$P(AASCOD,".",2)
"RTN","ONCOANC1",55,0)
 S:$L(AASCOD)=3 AASCOD=AASCOD_9
"RTN","ONCOANC1",56,0)
 S:$L(AASCOD)<4 AASCOD=$E(AASZERO,1,4-$L(AASCOD))_AASCOD
"RTN","ONCOANC1",57,0)
 S:$L(AASCOD)>4 AASCOD=$E(AASCOD,1,4)
"RTN","ONCOANC1",58,0)
 I $E(AASCOD,4)="X"!($E(AASCOD,4)="-") S AASCOD=$E(AASCOD,1,3)_9
"RTN","ONCOANC1",59,0)
 S AASICDR=$S(AASCOD="0000":0,1:$P(AAS160("N1"),U,4))
"RTN","ONCOANC1",60,0)
 S:AASICDR="" AASICDR=0
"RTN","ONCOANC1",61,0)
 S ^TMP($J,D0,477)=AASVSTA_AASCSTA_AASQS_$E(AASBLNK,1,32)_AASRDSB_AASROT_AASFSIT_AASCOD_AASICDR
"RTN","ONCOANC1",62,0)
 S AASACDS=5
"RTN","ONCOANC1",63,0)
 S AASVNAM="VETAFFAIRS" ;    vendor name
"RTN","ONCOANC1",64,0)
 S AASRVER=1 ;    AACCR record version
"RTN","ONCOANC1",65,0)
 S ^TMP($J,D0,550)=$E(AASBLNK,1,45)_AASACDS_$E(AASBLNK,1,2)_AASVNAM_AASRVER_"              "
"RTN","ONCOANC1",66,0)
 D ^ONCOANC5
"RTN","ONCOANC1",67,0)
 S MLHIX=MLHIX+1
"RTN","ONCOANC1",68,0)
 I $G(ONCOREP)=1 D TPREP^ONCOANC2,CU1P^ONCOANC9 Q
"RTN","ONCOANC1",69,0)
 I $G(ONCOREQ)=1 D REQREP^ONCOANC2,CU1P^ONCOANC9 Q
"RTN","ONCOANC1",70,0)
 F INDEX=76,149,225,299,352,425,477,550,628,706,784,850,925,1000 Q:AASTYPNC="I"&(INDEX>550)  W ^TMP($J,D0,INDEX),"^",!
"RTN","ONCOANC1",71,0)
 I AASTYPNC="A" F INDEX=1075:75:4675 W ^TMP($J,D0,INDEX),"^",!
"RTN","ONCOANC1",72,0)
 W !!!
"RTN","ONCOANC1",73,0)
 D CU1P^ONCOANC9 ;K ^TMP($J)
"RTN","ONCOANC1",74,0)
 Q  ;G AASRETN^ONCOANC0
"RTN","ONCOANC1",75,0)
 ;
"RTN","ONCOANC1",76,0)
MLHTEST S X="" F I=76,149,225,299,352 S X=X_^TMP($J,D0,I)
"RTN","ONCOANC1",77,0)
 Q  ;
"RTN","ONCOANC2")
0^163^B22555664
"RTN","ONCOANC2",1,0)
ONCOANC2 ;Hines OIFO/GWB - BUILDS DATA ARRAY FOR NCDB CALL FOR DATA ;7/20/93  10:38
"RTN","ONCOANC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC2",3,0)
AASTUM ;  TUMOR DATA
"RTN","ONCOANC2",4,0)
 S AASEQ=$P(AAS1655("N0"),U,6)
"RTN","ONCOANC2",5,0)
 I AASEQ?2A,"^AA^BB^CC^DD^EE^FF^GG^HH^II^XX^"'[("^"_AASEQ_"^") S AASEQ="99"
"RTN","ONCOANC2",6,0)
 I AASEQ=""!(AASEQ<0)!(AASEQ>99) S AASEQ="99"
"RTN","ONCOANC2",7,0)
 S:$L(AASEQ)<2 AASEQ=$E(AASZERO,1,2-$L(AASEQ))_AASEQ
"RTN","ONCOANC2",8,0)
 S AASX=$P(AAS1655("N0"),U,16) X AASDTCV S AASDXDT=AASX
"RTN","ONCOANC2",9,0)
 S:AASAY>89 AASPS=$$ONCOPS($P(AAS1655("N2"),U))
"RTN","ONCOANC2",10,0)
 ;The following is the old logic for Primary Site extraction
"RTN","ONCOANC2",11,0)
 I AASAY<90 D
"RTN","ONCOANC2",12,0)
 .S AASPS=$P(AAS1655("N2"),U,29),AASPS=$S('$L(AASPS):1999,AASPS<1400!(AASPS>1999):1999,1:AASPS)
"RTN","ONCOANC2",13,0)
 .S:"."[AASPS AASPS=$P(AASPS,".")
"RTN","ONCOANC2",14,0)
 S AASLAT=$P(AAS1655("N2"),U,8),AASLAT=$S(AASLAT=""!(AASLAT<0)!(AASLAT>4):0,1:AASLAT)
"RTN","ONCOANC2",15,0)
 S AASMHIS=$P(AAS1655("N2"),U,30) I AASMHIS'="" S:$L(AASMHIS)<5 AASMHIS=$E(AASZERO,1,5-$L(AASMHIS))_AASMHIS
"RTN","ONCOANC2",16,0)
 S:AASMHIS="" AASMHIS=$P(AAS1655("N2"),U,3) S:$L(AASMHIS)<5 AASMHIS=$E(AASZERO,1,5-$L(AASMHIS))_AASMHIS
"RTN","ONCOANC2",17,0)
 S:$L(AASMHIS)>5 AASMHIS=$E(AASMHIS,1,5)
"RTN","ONCOANC2",18,0)
 S AASGDIF=$P(AAS1655("N2"),U,5) S AASGDIF=$S(AASGDIF=""!(AASGDIF<0)!(AASGDIF>7):9,1:AASGDIF)
"RTN","ONCOANC2",19,0)
 S (AASITC,AASMORC)=9
"RTN","ONCOANC2",20,0)
 S AASDIA=$P(AAS1655("N2"),U,6) S AASDIA=$S(AASDIA=""!(AASDIA<1)!(AASDIA=3)!(AASDIA>9):9,1:AASDIA)
"RTN","ONCOANC2",21,0)
 S AASRPT=$P(AAS1655("N0"),U,10)
"RTN","ONCOANC2",22,0)
 S AASRPT=$S(AASRPT=2:1,AASRPT>7!(AASRPT=""):" ",1:AASRPT)
"RTN","ONCOANC2",23,0)
 S ^TMP($J,D0,149)=^TMP($J,D0,149)_AASEQ_AASDXDT_AASPS_AASLAT_AASMHIS_AASGDIF_AASITC_AASITC_AASMORC_$E(AASBLNK,1,1)_AASDIA_AASRPT_AASACYR_$E(AASBLNK,1,4)_$E(AASZERO,1,2)_AASDXH
"RTN","ONCOANC2",24,0)
AASHSP ;  HOSPITAL-SPECIFIC DATA
"RTN","ONCOANC2",25,0)
 S AASACCH=$P(AAS1655("N0"),U,5) S AASACCH=$S(AASACCH="":"000000",$L(AASACCH)<6:$E(AASZERO,1,6-$L(AASACCH))_AASACCH,1:AASACCH)
"RTN","ONCOANC2",26,0)
 S AASX=$P(AAS1655("N0"),U,8) X AASDTCV S AASHAD=AASX
"RTN","ONCOANC2",27,0)
 S AASX=$P(AAS1655("N0"),U,9) X AASDTCV S AASHDD=AASX
"RTN","ONCOANC2",28,0)
 S AASRHSR=$P(AAS1655("N3"),U,38) S AASRHSR=$S(AASRHSR="":"00",1:AASRHSR)
"RTN","ONCOANC2",29,0)
 S AASRHRA=$P(AAS1655("N3"),U,6) S AASRHRA=$S(AASRHRA=""!(AASRHRA<0):" ",AASRHRA=6:" ",AASRHRA>9:" ",1:AASRHRA)
"RTN","ONCOANC2",30,0)
 S AASRXCH=$P(AAS1655("N3"),U,13) S AASRXCH=$S(AASRXCH=""!(AASRXCH<0)!(AASRXCH>9):" ",AASRXCH>3&(AASRXCH<7):" ",1:AASRXCH)
"RTN","ONCOANC2",31,0)
 S AASRST=$P(AAS1655("N3"),U,16) S AASRST=$S(AASRST=""!(AASRST<0)!(AASRST>9):" ",AASRST>3&(AASRST<7):" ",1:AASRST)
"RTN","ONCOANC2",32,0)
 S AASRXBR=$P(AAS1655("N3"),U,19)
"RTN","ONCOANC2",33,0)
 S:AASRXBR'="" AASRXBR=$P($G(^ONCO(160.5,AASRXBR,0)),U,1)
"RTN","ONCOANC2",34,0)
 S AASRXBR=$S(AASRXBR=""!(AASRXBR<0)!(AASRXBR>9):" ",AASRXBR>1&(AASRXBR<7):" ",1:AASRXBR)
"RTN","ONCOANC2",35,0)
 S AASROC=$P(AAS1655("N3"),U,25) S AASROC=$S(AASROC=""!(AASROC<0)!(AASROC>9):" ",AASROC>3&(AASROC<6):" ",1:AASROC)
"RTN","ONCOANC2",36,0)
 S ^TMP($J,D0,225)=AASACCH_"   "_AASHAD_AASHDD_AASCASE_AASRHSR_AASRHRA_AASRXCH_AASRST_AASRXBR_AASROC
"RTN","ONCOANC2",37,0)
 G AASTEOD^ONCOANC1
"RTN","ONCOANC2",38,0)
 Q
"RTN","ONCOANC2",39,0)
ONCOPS(TMP1) ;
"RTN","ONCOANC2",40,0)
 N TMP
"RTN","ONCOANC2",41,0)
 S TMP=$G(^ONCO(164,+TMP1,0))
"RTN","ONCOANC2",42,0)
 S TMP=$P(TMP,U,2)
"RTN","ONCOANC2",43,0)
 Q $S(TMP'?1"C"2N1"."1N:"    ",1:$P(TMP,".")_$P(TMP,".",2))
"RTN","ONCOANC2",44,0)
TPREP ;
"RTN","ONCOANC2",45,0)
 N NAME,DATA,NEXT,REQ
"RTN","ONCOANC2",46,0)
 D:PG=0 HEAD
"RTN","ONCOANC2",47,0)
 F NEXT=1:1 D PTNEXT(.NAME,.DATA,.NEXT,.REQ) Q:NEXT=0  Q:$D(ONCOUT)  D
"RTN","ONCOANC2",48,0)
 .W !,NAME,?50,DATA X ONCOFF Q:$D(ONCOUT)
"RTN","ONCOANC2",49,0)
 Q:$D(ONCOUT)  I $Y>3 D CFORM
"RTN","ONCOANC2",50,0)
 Q
"RTN","ONCOANC2",51,0)
REQREP ;
"RTN","ONCOANC2",52,0)
 N NAME,DATA,NEXT,REQ,RECID
"RTN","ONCOANC2",53,0)
 F NEXT=1:1 D PTNEXT(.NAME,.DATA,.NEXT,.REQ) Q:+NEXT=0  Q:$D(ONCOUT)  D:REQ'=""
"RTN","ONCOANC2",54,0)
 .I '$D(RECID) S RECID=$$GDATA(2,6) X ONCOFF Q:$D(ONCOUT)  D:PG=0 HEAD W !,"Patient ID",?50,RECID,!,"Primary Site",?50,$$GDATA(119,122)
"RTN","ONCOANC2",55,0)
 .W !,NAME,?50,"******" X ONCOFF Q:$D(ONCOUT)  ;DATA
"RTN","ONCOANC2",56,0)
 I $D(RECID) S ONCOECNT=ONCOECNT+1 W ! X ONCOFF Q:$D(ONCOUT)  I $Y>3 D CFORM
"RTN","ONCOANC2",57,0)
 Q
"RTN","ONCOANC2",58,0)
PTNEXT(NAME,DATA,NEXT,REQ) ;
"RTN","ONCOANC2",59,0)
 N START,END,TMP
"RTN","ONCOANC2",60,0)
 S TMP=$TEXT(DATA+NEXT^ONCOANCF)
"RTN","ONCOANC2",61,0)
 I TMP'="" D
"RTN","ONCOANC2",62,0)
 .S NAME=$P($P(TMP,";;",2),U),START=$P(TMP,U,2),END=$P(TMP,U,3)
"RTN","ONCOANC2",63,0)
 .S DATA=$$GDATA(START,END),REQ=$P(TMP,U,4) D:REQ[":" CHKOR(.REQ)
"RTN","ONCOANC2",64,0)
 .S REQ=$S(REQ="":"",$E(DATA,1,$L(DATA))=$E(AASBLNK,1,$L(DATA)):1,1:"")
"RTN","ONCOANC2",65,0)
 S:TMP="" NEXT=0
"RTN","ONCOANC2",66,0)
 Q
"RTN","ONCOANC2",67,0)
CHKOR(REQ) ;
"RTN","ONCOANC2",68,0)
 N START,END,DATA1
"RTN","ONCOANC2",69,0)
 S START=$P($P(REQ,":",2),","),END=$P($P(REQ,":",2),",",2)
"RTN","ONCOANC2",70,0)
 S DATA1=$$GDATA(START,END)
"RTN","ONCOANC2",71,0)
 S REQ=$S($E(DATA1,1,$L(DATA1))=$E(AASBLNK,1,$L(DATA1)):1,1:"")
"RTN","ONCOANC2",72,0)
 Q
"RTN","ONCOANC2",73,0)
GDATA(START,END) ;
"RTN","ONCOANC2",74,0)
 N NODE,BASE S (BASE,NODE)=0
"RTN","ONCOANC2",75,0)
 F  S NODE=$O(^TMP($J,D0,NODE)) Q:+NODE=0  Q:(((BASE+$L(^(NODE)))>END)!(BASE+$L(^(NODE))=END))  S BASE=BASE+$L(^(NODE))
"RTN","ONCOANC2",76,0)
 Q $S(+NODE=0:" ",1:$E(^TMP($J,D0,NODE),START-BASE,END-BASE))
"RTN","ONCOANC2",77,0)
CFORM ;
"RTN","ONCOANC2",78,0)
 S DN=1,ONCOY="" R:IOST["C-" !!,"Press Return to Continue, '^' to escape: ",ONCOY:DTIME S:'$T ONCOY=U S:ONCOY=U ONCOUT=1,DN=0 Q:$D(ONCOUT)  D:DN HEAD^ONCOANC2 K ONCOY
"RTN","ONCOANC2",79,0)
 Q
"RTN","ONCOANC2",80,0)
HEAD ;
"RTN","ONCOANC2",81,0)
 S PG=PG+1 W @IOF,!,"Pg. "_PG,?79-$L(" Oncology ACOS Report "),"Oncology ACOS Report"
"RTN","ONCOANC2",82,0)
 I (PG>1),(IOST["C-") W ! Q
"RTN","ONCOANC2",83,0)
 W:$D(ONCOREP) !,$$HEDSTAR("Oncology ACOS Report ",77)
"RTN","ONCOANC2",84,0)
 W:$D(ONCOREQ) !,$$HEDSTAR("Oncology ACOS Required data Report ",77)
"RTN","ONCOANC2",85,0)
 N FFF S $P(FFF,"- ",40)="- " W !,FFF,!
"RTN","ONCOANC2",86,0)
 Q
"RTN","ONCOANC2",87,0)
HEDSTAR(X,X1) ;    surround text string X with asterisks to length X1
"RTN","ONCOANC2",88,0)
 N Y1
"RTN","ONCOANC2",89,0)
 S (TY,Y1)="",$P(Y1," ",X1-$L(X)\2-1)=" ",TY=Y1_" "_X_" "
"RTN","ONCOANC2",90,0)
 F I=$L(TY):1:X1 S TY=TY_" "
"RTN","ONCOANC2",91,0)
 Q TY
"RTN","ONCOANC3")
0^164^B12213347
"RTN","ONCOANC3",1,0)
ONCOANC3 ;Hines OIFO/GWB - CONTINUE ONCOANC2 ;12/23/94
"RTN","ONCOANC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC3",3,0)
 ;
"RTN","ONCOANC3",4,0)
TNM(PTCODE,PNCODE,PMCODE,PGROUP,CTCODE,CNCODE,CMCODE,CGROUP) ; STAGE/EXTENT OF DISEASE
"RTN","ONCOANC3",5,0)
 N TCODE,NCODE,MCODE,GROUP,BASIS
"RTN","ONCOANC3",6,0)
CLIN S TCODE=$P(AAS1655("N2"),U,25) S TCODE=$S(TCODE="":"  ",TCODE'?.2NA:"  ",$L(TCODE)<2:TCODE_$E(AASBLNK,1,2-$L(TCODE)),1:TCODE),CTCODE=TCODE
"RTN","ONCOANC3",7,0)
 S NCODE=$P(AAS1655("N2"),U,26) S NCODE=$S(NCODE="":"  ",NCODE'?.2NA:"  ",$L(NCODE)<2:NCODE_$E(AASBLNK,1,2-$L(NCODE)),1:NCODE),CNCODE=NCODE
"RTN","ONCOANC3",8,0)
 S MCODE=$P(AAS1655("N2"),U,27) S MCODE=$S(MCODE="":" ",MCODE'?.1NA:" ",1:MCODE),CMCODE=MCODE
"RTN","ONCOANC3",9,0)
 S GROUP=$P(AAS1655("N2"),U,20) S GROUP=$S(GROUP="":"  ",GROUP'?.2NA:"  ",1:GROUP)
"RTN","ONCOANC3",10,0)
 S GROUP=$S("^0^0A^1^1A^1B^1C^2^2A^2B^2C^3^3A^3B^3C^4^4A^4B^4C^9^"[("^"_GROUP_"^"):GROUP,GROUP["0":"0",1:"9") ; S GROUP="  "
"RTN","ONCOANC3",11,0)
 S:$L(GROUP)<2 GROUP=GROUP_$E(AASBLNK,1,2-$L(GROUP))
"RTN","ONCOANC3",12,0)
 S CGROUP=GROUP
"RTN","ONCOANC3",13,0)
PATH S TCODE=$P($G(^ONCO(165.5,D0,2.1)),U,1)
"RTN","ONCOANC3",14,0)
 S TCODE=$S(TCODE="":"  ",TCODE'?.2NA:"  ",$L(TCODE)<2:TCODE_$E(AASBLNK,1,2-$L(TCODE)),1:TCODE)
"RTN","ONCOANC3",15,0)
 S PTCODE=TCODE
"RTN","ONCOANC3",16,0)
 S NCODE=$P($G(^ONCO(165.5,D0,2.1)),U,2)
"RTN","ONCOANC3",17,0)
 S NCODE=$S(NCODE="":"  ",NCODE'?.2NA:"  ",$L(NCODE)<2:NCODE_$E(AASBLNK,1,2-$L(NCODE)),1:NCODE)
"RTN","ONCOANC3",18,0)
 S PNCODE=NCODE
"RTN","ONCOANC3",19,0)
 S MCODE=$P($G(^ONCO(165.5,D0,2.1)),U,3)
"RTN","ONCOANC3",20,0)
 S MCODE=$S(MCODE="":" ",MCODE'?.1NA:" ",1:MCODE),PMCODE=MCODE
"RTN","ONCOANC3",21,0)
 S GROUP=$P($G(^ONCO(165.5,D0,2.1)),U,4)
"RTN","ONCOANC3",22,0)
 S GROUP=$S(GROUP="":"  ",GROUP'?.2NA:"  ",1:GROUP)
"RTN","ONCOANC3",23,0)
 S GROUP=$S("^0^0A^1^1A^1B^1C^2^2A^2B^2C^3^3A^3B^3C^4^4A^4B^4C^9^"[("^"_GROUP_"^"):GROUP,GROUP["0":"0",1:"9")
"RTN","ONCOANC3",24,0)
 S:$L(GROUP)<2 GROUP=GROUP_$E(AASBLNK,1,2-$L(GROUP))
"RTN","ONCOANC3",25,0)
 S PGROUP=GROUP
"RTN","ONCOANC3",26,0)
 Q
"RTN","ONCOANC3",27,0)
FOLLOW ;
"RTN","ONCOANC3",28,0)
 D INIT^ONCOANC4(D0,.AASRDSB1,.AASRHSR1,.AASRHRA1,.AASRXCH1,.AASRST1,.AASRXBR1,.AASROC1,1)
"RTN","ONCOANC3",29,0)
 S ^TMP($J,D0,352)=AASRXBDT_AASRHSR_AASRXREA_AASRHRA_AASRXCN_AASRXSEQ_AASRXCH_AASRST_AASRXBR_AASROC_$E(AASBLNK,1,20)_AASRDSB1_AASRHSR1_AASRHRA1_AASRXCH1_AASRST1_AASRXBR1_AASROC1
"RTN","ONCOANC3",30,0)
 D INIT^ONCOANC4(D0,.AASRDSB2,.AASRHSR2,.AASRHRA2,.AASRXCH2,.AASRST2,.AASRXBR2,.AASROC2,2)
"RTN","ONCOANC3",31,0)
 S ^TMP($J,D0,425)=AASRDSB2_AASRHSR2_AASRHRA2_AASRXCH2_AASRST2_AASRXBR2_AASROC2
"RTN","ONCOANC3",32,0)
 D INIT^ONCOANC4(D0,.AASRDSB3,.AASRHSR3,.AASRHRA3,.AASRXCH3,.AASRST3,.AASRXBR3,.AASROC3,3)
"RTN","ONCOANC3",33,0)
 S ^TMP($J,D0,425)=^TMP($J,D0,425)_AASRDSB3_AASRHSR3_AASRHRA3_AASRXCH3_AASRST3_AASRXBR3_AASROC3
"RTN","ONCOANC3",34,0)
 D INIT^ONCOANC4(D0,.AASRDSB4,.AASRHSR4,.AASRHRA4,.AASRXCH4,.AASRST4,.AASRXBR4,.AASROC4,4)
"RTN","ONCOANC3",35,0)
 S ^TMP($J,D0,425)=^TMP($J,D0,425)_AASRDSB4_AASRHSR4_AASRHRA4_AASRXCH4_AASRST4_AASRXBR4_AASROC4
"RTN","ONCOANC3",36,0)
 Q
"RTN","ONCOANC3",37,0)
HANG ;
"RTN","ONCOANC3",38,0)
 W !!
"RTN","ONCOANC3",39,0)
 S DIR("T")=30 ;    timeout override
"RTN","ONCOANC3",40,0)
 S DIR("A",1)="I will hang for "_DIR("T")_" seconds while you set up the log file."
"RTN","ONCOANC3",41,0)
 S DIR("A")="(Hit <CR> to start sooner, or enter '^' to abort)"
"RTN","ONCOANC3",42,0)
 S DIR(0)="E" D ^DIR K DIR
"RTN","ONCOANC3",43,0)
 Q
"RTN","ONCOANC3",44,0)
EDT(DOD) ;
"RTN","ONCOANC3",45,0)
 N CNT,OSP S CNT=0
"RTN","ONCOANC3",46,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOANC3",47,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOANC3",48,0)
 S CNT=$P($G(^ONCO(160.1,OSP,5)),U,1)
"RTN","ONCOANC3",49,0)
 Q $S(DOD<88:2,DOD<+CNT:3,DOD<93:3,1:4)
"RTN","ONCOANC3",50,0)
MET(NODE) ;
"RTN","ONCOANC3",51,0)
 N PIECE,VALUE S VALUE=""
"RTN","ONCOANC3",52,0)
 F PIECE=14,15,16 D
"RTN","ONCOANC3",53,0)
 .S VALUE=VALUE_$S($L($P(NODE,U,PIECE)):$P(NODE,U,PIECE),1:0)
"RTN","ONCOANC3",54,0)
 Q VALUE
"RTN","ONCOANC4")
0^165^B12799880
"RTN","ONCOANC4",1,0)
ONCOANC4 ;Hines OIFO/GWB - ACOS DATA TAPE UTILITY FUNCTIONS ;7/20/93
"RTN","ONCOANC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC4",3,0)
 ;
"RTN","ONCOANC4",4,0)
AASDC(YYYMMDD,ZERO) ; CONVERTS YYYMMDD TO MMDDCCYY
"RTN","ONCOANC4",5,0)
 ;    returns blank input as zeros if ZERO defined, else blanks
"RTN","ONCOANC4",6,0)
 ;
"RTN","ONCOANC4",7,0)
 IF (YYYMMDD'="")&(YYYMMDD'?6"0") D  I 1 ;    non-null input - convert
"RTN","ONCOANC4",8,0)
 .  S MMDDCCYY=$E(YYYMMDD,4,5)_$E(YYYMMDD,6,7)_(1700+$E(YYYMMDD,1,3))
"RTN","ONCOANC4",9,0)
 .  I $E(MMDDCCYY,1,2)="00" S MMDDCCYY=99_$E(MMDDCCYY,3,8)
"RTN","ONCOANC4",10,0)
 .  I $E(MMDDCCYY,3,4)="00" S MMDDCCYY=$E(MMDDCCYY,1,2)_99_$E(MMDDCCYY,5,8)
"RTN","ONCOANC4",11,0)
 .  Q
"RTN","ONCOANC4",12,0)
 ELSE  D  ;    null input - return blanks or zeros
"RTN","ONCOANC4",13,0)
 .  I '$D(ZERO) S MMDDCCYY=$J("",8) ;    blanks
"RTN","ONCOANC4",14,0)
 .  E  S MMDDCCYY="00000000" ;    zeros
"RTN","ONCOANC4",15,0)
 .  Q
"RTN","ONCOANC4",16,0)
 ;END IF
"RTN","ONCOANC4",17,0)
 ;
"RTN","ONCOANC4",18,0)
 QUIT MMDDCCYY
"RTN","ONCOANC4",19,0)
INIT(D0,DATE,SURG,RAD,CHEM,HORM,BIO,OCO,NUMBER) ;Subsequent Therapies
"RTN","ONCOANC4",20,0)
 N TMP,CNT,RCNT S CNT=0,DATE=""
"RTN","ONCOANC4",21,0)
 F  S CNT=$O(^ONCO(165.5,D0,4,CNT)) Q:CNT'?1N.N  D
"RTN","ONCOANC4",22,0)
  .S TMP($P(^ONCO(165.5,D0,4,CNT,0),U))=^(0)
"RTN","ONCOANC4",23,0)
  .S TMP($P(^ONCO(165.5,D0,4,CNT,0),U),3)=$S('$D(^ONCO(165.5,D0,4,CNT,3)):"",1:^(3))
"RTN","ONCOANC4",24,0)
 F RCNT=1:1:NUMBER S DATE=$O(TMP(DATE)) Q:DATE=""
"RTN","ONCOANC4",25,0)
 D @$S(DATE="":"NOENT",1:"ENTREE")
"RTN","ONCOANC4",26,0)
 S DATE=$$AASDC(DATE)
"RTN","ONCOANC4",27,0)
 Q
"RTN","ONCOANC4",28,0)
NOENT ; 'NUMBER' Subsequent therapy does not exist
"RTN","ONCOANC4",29,0)
 S SURG="  "
"RTN","ONCOANC4",30,0)
 S (RAD,CHEM,HORM,BIO,OCO)=" ",NUMBER=0
"RTN","ONCOANC4",31,0)
 Q
"RTN","ONCOANC4",32,0)
ENTREE ;
"RTN","ONCOANC4",33,0)
 S SURG=$P(TMP(DATE),U,4) S SURG=$S($G(SURG):SURG,1:"  ")
"RTN","ONCOANC4",34,0)
 S:($L(SURG)<2) SURG="0"_SURG
"RTN","ONCOANC4",35,0)
 S RAD=$P(TMP(DATE),U,5) S RAD=$S($G(RAD):RAD,1:" ")
"RTN","ONCOANC4",36,0)
 S CHEM=$P(TMP(DATE),U,6) S CHEM=$S($G(CHEM):CHEM,1:" ")
"RTN","ONCOANC4",37,0)
 S HORM=$P(TMP(DATE),U,7) S HORM=$S($G(HORM):HORM,1:" ")
"RTN","ONCOANC4",38,0)
 S BIO=$P(TMP(DATE,3),U,19) S BIO=$S($G(BIO):BIO,1:" ")
"RTN","ONCOANC4",39,0)
 S OCO=$P(TMP(DATE),U,9) S OCO=$S($G(OCO):OCO,1:" ")
"RTN","ONCOANC4",40,0)
 Q
"RTN","ONCOANC4",41,0)
RSAR ;RACE,SEX,AGE,RELIGION
"RTN","ONCOANC4",42,0)
 S AASRAC=$S($P(AAS160("N0"),U,6)]"":$P(AAS160("N0"),U,6),1:99)
"RTN","ONCOANC4",43,0)
 S AASRAC=$S(AASRAC>13&(AASRAC<20)!(AASRAC>22&(AASRAC<25))!(AASRAC>28&(AASRAC<30))!(AASRAC>32&(AASRAC<96)):99,1:AASRAC)
"RTN","ONCOANC4",44,0)
 S AASRAC=$S(AASRAC<1!(AASRAC>99):99,1:AASRAC)
"RTN","ONCOANC4",45,0)
 S:$L(AASRAC)<2 AASRAC=$E(AASZERO,1,2-$L(AASRAC))_AASRAC
"RTN","ONCOANC4",46,0)
 S AASRCS=3,AASPAN=$P(AAS160("N0"),U,7),AASPAN=$S(AASPAN=""!(AASPAN<0)!(AASPAN>9):9,AASPAN>6&(AASPAN<9):9,1:AASPAN)
"RTN","ONCOANC4",47,0)
 S AASEX=$P(AAS160("N0"),U,8),AASEX=$S(AASEX=""!(AASEX<1)!(AASEX>9):9,AASEX>4&(AASEX<9):9,1:AASEX)
"RTN","ONCOANC4",48,0)
 D AGE^ONCOCOM S AASAGE=$S(X=""!(X<0)!(X>999):"000",1:X)
"RTN","ONCOANC4",49,0)
 S:$L(AASAGE)<3 AASAGE=$E(AASZERO,1,3-$L(AASAGE))_AASAGE
"RTN","ONCOANC4",50,0)
 S AASX=$S(+$P(AASDPT,U,3):$P(AASDPT,U,3),1:"") X AASDTCV S AASDOB=AASX
"RTN","ONCOANC4",51,0)
 S AASPOB=$S($P(AAS160("N0"),U,5)'="":$P(AAS160("N0"),U,5),1:999)
"RTN","ONCOANC4",52,0)
 S:$L(AASPOB)<3 AASPOB=$E(AASZERO,1,3-$L(AASPOB))_AASPOB
"RTN","ONCOANC4",53,0)
 S AASREL=99
"RTN","ONCOANC4",54,0)
 S ^TMP($J,D0,76)=^TMP($J,D0,76)_AASMS_AASRAC_AASRCS_AASRCS_AASPAN_AASEX_AASAGE_AASDOB
"RTN","ONCOANC4",55,0)
 S ^TMP($J,D0,149)=AASPOB_AASREL_$E(AASBLNK,1,26)
"RTN","ONCOANC4",56,0)
 Q
"RTN","ONCOANC4",57,0)
NAME ;First, and Last Names, Middle initials, and SSN Extracted
"RTN","ONCOANC4",58,0)
 S AASNM=$P(PD0,U),AASFSSN=$P(PD0,U,9),$P(AASNMBLK," ",16)=""
"RTN","ONCOANC4",59,0)
 S:AASFSSN'?9N AASFSSN=999999999
"RTN","ONCOANC4",60,0)
 S AASNMF=$TR($P(AASNM,",",2),".,-'_")
"RTN","ONCOANC4",61,0)
 S AASNML=$TR($P(AASNM,","),"., -'_"),AASNML=$E(AASNML_AASNMBLK,1,15)
"RTN","ONCOANC4",62,0)
 S AASNMM=$E($P(AASNMF," ",2),1) S:AASNMM'?1U AASNMM=" "
"RTN","ONCOANC4",63,0)
 S AASNMF=$P(AASNMF," "),AASNMF=$E(AASNMF_AASNMBLK,1,14)
"RTN","ONCOANC4",64,0)
 S $P(AASNMBLK," ",80)=""
"RTN","ONCOANC4",65,0)
 S ^TMP($J,D0,628)=$E(AASNMBLK,1,78),^TMP($J,D0,706)=$E(AASNMBLK,1,78)
"RTN","ONCOANC4",66,0)
 S ^TMP($J,D0,784)=$E(AASNMBLK,1,78),^TMP($J,D0,850)=$E(AASNMBLK,1,66)
"RTN","ONCOANC4",67,0)
 S ^TMP($J,D0,925)=AASNML_AASNMF_AASNMM_$E(AASNMBLK,1,44)
"RTN","ONCOANC4",68,0)
 S AASDXCIT=$E($P(AAS1655("N1"),U),1,25)
"RTN","ONCOANC4",69,0)
 S AASDXCIT=AASDXCIT_$E(AASNMBLK,1,25-$L(AASDXCIT))
"RTN","ONCOANC4",70,0)
 S ^TMP($J,D0,1000)=$E(AASNMBLK,1,32)_AASFSSN_AASDXCIT_$E(AASNMBLK,1,10)
"RTN","ONCOANC5")
0^166^B11158795
"RTN","ONCOANC5",1,0)
ONCOANC5 ;Hines OIFO/GWB - BUILDS FREE TEXT PORTION OF STATE REPORTING ;11 MAR 96
"RTN","ONCOANC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC5",3,0)
SHTXT Q:AASTYPNC'="A"  K AASTXB S $P(AASTXB," ",351)=""
"RTN","ONCOANC5",4,0)
 S (AAS("S",1),AAS("S",2))=40,AAS("S",3)=100,AAS("S",4)=50
"RTN","ONCOANC5",5,0)
 F CN=1:1:3 S AASY(CN)=$P($G(^ONCO(165.5,D0,8)),U,CN) D
"RTN","ONCOANC5",6,0)
 . S AASY(CN)=AASY(CN)_$E(AASTXB,1,AAS("S",CN)-$L(AASY(CN)))
"RTN","ONCOANC5",7,0)
 S AASY(4)=$P($G(^ONCO(165.5,D0,0)),U,17)
"RTN","ONCOANC5",8,0)
 S:AASY(4)>0 AASY(4)=$E($P($G(^ONCO(160.19,AASY(4),0)),U,2),1,50)
"RTN","ONCOANC5",9,0)
 S AASY(4)=AASY(4)_$E(AASTXB,1,AAS("S",4)-$L(AASY(4)))
"RTN","ONCOANC5",10,0)
WP F CN=9,11,12,13,22 S AAS("S",CN)=250
"RTN","ONCOANC5",11,0)
 S (AAS("S",10),AAS("S",17),AAS("S",18))=200
"RTN","ONCOANC5",12,0)
 S (AAS("S",14),AAS("S",15),AAS("S",16))=150
"RTN","ONCOANC5",13,0)
 S (AAS("S",20),AAS("S",21))=100,AAS("S",19)=350
"RTN","ONCOANC5",14,0)
 F CN=9:1:22 S CNT=0,AASY(CN)="" D
"RTN","ONCOANC5",15,0)
 .I '$D(^ONCO(165.5,D0,CN)) S AASY(CN)=$E(AASTXB,1,AAS("S",CN)) Q
"RTN","ONCOANC5",16,0)
 .S CNT=0 F  S CNT=$O(^ONCO(165.5,D0,CN,CNT)) Q:CNT'>0!($L(AASY(CN))'<AAS("S",CN))  D
"RTN","ONCOANC5",17,0)
 ..S AAS(CN,CNT)=$G(^ONCO(165.5,D0,CN,CNT,0))
"RTN","ONCOANC5",18,0)
 ..I $L(AASY(CN))+$L(AAS(CN,CNT))>AAS("S",CN) S AASY(CN)=AASY(CN)_$E(AAS(CN,CNT),1,AAS("S",CN)-$L(AASY(CN))) Q
"RTN","ONCOANC5",19,0)
 ..S AASY(CN)=AASY(CN)_AAS(CN,CNT)
"RTN","ONCOANC5",20,0)
 .S AASY(CN)=$E(AASY(CN)_$E(AASTXB,1,AAS("S",CN)-$L(AASY(CN))),1,AAS("S",CN))
"RTN","ONCOANC5",21,0)
 K AAS
"RTN","ONCOANC5",22,0)
SETTMP S ^TMP($J,D0,1075)=$E(AASTXB,1,75),^TMP($J,D0,1150)=$E(AASTXB,1,75)
"RTN","ONCOANC5",23,0)
 S ^TMP($J,D0,1225)=$E(AASY(10),1,75)
"RTN","ONCOANC5",24,0)
 S ^TMP($J,D0,1300)=$E(AASY(10),76,150)
"RTN","ONCOANC5",25,0)
 S ^TMP($J,D0,1375)=$E(AASY(10),151,200)_$E(AASY(11),1,25)
"RTN","ONCOANC5",26,0)
 S ^TMP($J,D0,1450)=$E(AASY(11),26,100)
"RTN","ONCOANC5",27,0)
 S ^TMP($J,D0,1525)=$E(AASY(11),101,175)
"RTN","ONCOANC5",28,0)
 S ^TMP($J,D0,1600)=$E(AASY(11),176,250)
"RTN","ONCOANC5",29,0)
 S ^TMP($J,D0,1675)=$E(AASY(12),1,75)
"RTN","ONCOANC5",30,0)
 S ^TMP($J,D0,1750)=$E(AASY(12),76,150)
"RTN","ONCOANC5",31,0)
 S ^TMP($J,D0,1825)=$E(AASY(12),151,225)
"RTN","ONCOANC5",32,0)
 S ^TMP($J,D0,1900)=$E(AASY(12),226,250)_$E(AASY(22),1,50)
"RTN","ONCOANC5",33,0)
 S ^TMP($J,D0,1975)=$E(AASY(22),51,125)
"RTN","ONCOANC5",34,0)
 S ^TMP($J,D0,2050)=$E(AASY(22),126,200)
"RTN","ONCOANC5",35,0)
 S ^TMP($J,D0,2125)=$E(AASY(22),201,250)_$E(AASY(9),1,25)
"RTN","ONCOANC5",36,0)
 S ^TMP($J,D0,2200)=$E(AASY(9),26,100)
"RTN","ONCOANC5",37,0)
 S ^TMP($J,D0,2275)=$E(AASY(9),101,175)
"RTN","ONCOANC5",38,0)
 S ^TMP($J,D0,2350)=$E(AASY(9),176,250)
"RTN","ONCOANC5",39,0)
 S ^TMP($J,D0,2425)=$E(AASY(13),1,75)
"RTN","ONCOANC5",40,0)
 S ^TMP($J,D0,2500)=$E(AASY(13),76,150)
"RTN","ONCOANC5",41,0)
 S ^TMP($J,D0,2575)=$E(AASY(13),151,225)
"RTN","ONCOANC5",42,0)
 S ^TMP($J,D0,2650)=$E(AASY(13),226,250)_$E(AASY(1),1,40)_$E(AASY(2),1,10)
"RTN","ONCOANC5",43,0)
 S ^TMP($J,D0,2725)=$E(AASY(2),11,40)_$E(AASTXB,1,45)
"RTN","ONCOANC5",44,0)
 S ^TMP($J,D0,2800)=$E(AASTXB,1,75)
"RTN","ONCOANC5",45,0)
 S ^TMP($J,D0,2875)=$E(AASTXB,1,75)
"RTN","ONCOANC5",46,0)
 S ^TMP($J,D0,2950)=$E(AASTXB,1,75)
"RTN","ONCOANC5",47,0)
 S ^TMP($J,D0,3025)=$E(AASTXB,1,30)_$E(AASY(14),1,45)
"RTN","ONCOANC5",48,0)
 S ^TMP($J,D0,3100)=$E(AASY(14),46,120)
"RTN","ONCOANC5",49,0)
 S ^TMP($J,D0,3175)=$E(AASY(14),121,150)_$E(AASY(15),1,45)
"RTN","ONCOANC5",50,0)
 S ^TMP($J,D0,3250)=$E(AASY(15),46,120)
"RTN","ONCOANC5",51,0)
 S ^TMP($J,D0,3325)=$E(AASY(15),121,150)_$E(AASY(16),1,45)
"RTN","ONCOANC5",52,0)
 S ^TMP($J,D0,3400)=$E(AASY(16),46,120)
"RTN","ONCOANC5",53,0)
 S ^TMP($J,D0,3475)=$E(AASY(16),121,150)_$E(AASY(17),1,45)
"RTN","ONCOANC5",54,0)
 S ^TMP($J,D0,3550)=$E(AASY(17),46,120)
"RTN","ONCOANC5",55,0)
 S ^TMP($J,D0,3625)=$E(AASY(17),121,195)
"RTN","ONCOANC5",56,0)
 S ^TMP($J,D0,3700)=$E(AASY(17),196,200)_$E(AASY(18),1,70)
"RTN","ONCOANC5",57,0)
 S ^TMP($J,D0,3775)=$E(AASY(18),71,145)
"RTN","ONCOANC5",58,0)
 S ^TMP($J,D0,3850)=$E(AASY(18),146,200)_$E(AASY(20),1,20)
"RTN","ONCOANC5",59,0)
 S ^TMP($J,D0,3925)=$E(AASY(20),21,95)
"RTN","ONCOANC5",60,0)
 S ^TMP($J,D0,4000)=$E(AASY(20),96,100)_$E(AASY(21),1,70)
"RTN","ONCOANC5",61,0)
 S ^TMP($J,D0,4075)=$E(AASY(21),71,100)_$E(AASY(19),1,45)
"RTN","ONCOANC5",62,0)
 S ^TMP($J,D0,4150)=$E(AASY(19),46,120)
"RTN","ONCOANC5",63,0)
 S ^TMP($J,D0,4225)=$E(AASY(19),121,195)
"RTN","ONCOANC5",64,0)
 S ^TMP($J,D0,4300)=$E(AASY(19),196,270)
"RTN","ONCOANC5",65,0)
 S ^TMP($J,D0,4375)=$E(AASY(19),271,345)
"RTN","ONCOANC5",66,0)
 S ^TMP($J,D0,4450)=$E(AASY(19),346,350)_$E(AASY(3),1,70)
"RTN","ONCOANC5",67,0)
 S ^TMP($J,D0,4525)=$E(AASY(3),71,100)_$E(AASY(4),1,45)
"RTN","ONCOANC5",68,0)
 S ^TMP($J,D0,4600)=$E(AASY(4),46,50)_$E(AASTXB,1,70)
"RTN","ONCOANC5",69,0)
 S ^TMP($J,D0,4675)=$E(AASTXB,1,75)
"RTN","ONCOANC5",70,0)
 K AAS,AASY,AASTXB,CN,CNT
"RTN","ONCOANC9")
0^167^B3745064
"RTN","ONCOANC9",1,0)
ONCOANC9 ;Hines OIFO/GWB - CLEANS UP SYMBOL TABLE AFTER NCDB CALL FOR DATA ;8/12/93
"RTN","ONCOANC9",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANC9",3,0)
CLEANUP ;    entry point from ONCOANC0
"RTN","ONCOANC9",4,0)
 K AASAY,AASAY1,D0,AASBLNK,AASDT,AASDTCV,AASRI,AASDXH,AASAVD0,AASZERO,MLHIX,ONCOECNT,ONCOUT,ONCOY,AASTYPNC,INDEX,BYR,EYR,AC,MMDDCCYY,DR,DA,DIC,PD0
"RTN","ONCOANC9",5,0)
CU1P ;
"RTN","ONCOANC9",6,0)
 K AASRXBR,AASD0160,AAS160,AAS165,AAS1655
"RTN","ONCOANC9",7,0)
 K AASACCH,AASACYR,AASACDS,AASAJCS,AASAJSM,AASCSTA,AASCASE,AASCOD,AASD1A
"RTN","ONCOANC9",8,0)
 K AASDIA,AASDPT,AASDTLC,AASEODE,AASEODL,AASEODS,AASEODT
"RTN","ONCOANC9",9,0)
 K AASFSIT,AASGDIF,AASHAD,AASHDD,AASICDR,AASMC,AASITME,AASMORC
"RTN","ONCOANC9",10,0)
 K AASMHIS,AASNC,AASNE,AASNP,AASPS,AASQS,AASROT
"RTN","ONCOANC9",11,0)
 K AASRPT,AASRT,AASRXCH,AASRXCN,AASRXBDT,AASRDBR,AASRDCH,AASRDHO
"RTN","ONCOANC9",12,0)
 K AASRDOT,AASRDRA,AASRDSB,AASRDSR,AASRHRA,AASRHSR,AASROC,AASRXREA
"RTN","ONCOANC9",13,0)
 K AASRXSEQ,AASRST,AASRTR,AASITC,AASTNME,AASVSTA,AASAYT,AASAGE
"RTN","ONCOANC9",14,0)
 K AASCITY,AASCNTY,AASD1,AASDOB,AASDXDT,AASZIP,AASLAT,AASMS
"RTN","ONCOANC9",15,0)
 K AASPOB,AASRAC,AASRCS,AASREL,AASEQ,AASEX,AASPAN,AASTAT,AASX
"RTN","ONCOANC9",16,0)
 K AASTM1,AASTM2,ONCOX1,^TMP($J)
"RTN","ONCOANC9",17,0)
 K AASRDSB1,AASRHSR1,AASRHRA1,AASRXCH1,AASRST1,AASRXBR1,AASROC1
"RTN","ONCOANC9",18,0)
 K AASRDSB2,AASRHSR2,AASRHRA2,AASRXCH2,AASRST2,AASRXBR2,AASROC2
"RTN","ONCOANC9",19,0)
 K AASRDSB3,AASRHSR3,AASRHRA3,AASRXCH3,AASRST3,AASRXBR3,AASROC3
"RTN","ONCOANC9",20,0)
 K AASRDSB4,AASRHSR4,AASRHRA4,AASRXCH4,AASRST4,AASRXBR4,AASROC4
"RTN","ONCOANC9",21,0)
 K AASRVER,AASTC2,AASNC2,AASMC2,AASASM2,AASVNAM
"RTN","ONCOANC9",22,0)
 K AASNM,AASFSSN,AASNMBLK,AASNMF,AASNML,AASNMM,AASDXCIT
"RTN","ONCOANC9",23,0)
 Q
"RTN","ONCOANCF")
0^168^B32058874
"RTN","ONCOANCF",1,0)
ONCOANCF ;Hines OIFO/GWB -  ACOS Reporting Parameters ;06/14/00
"RTN","ONCOANCF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANCF",3,0)
DATA ;
"RTN","ONCOANCF",4,0)
 ;;RECORD TYPE^1^1
"RTN","ONCOANCF",5,0)
 ;;Patient ID number^2^9
"RTN","ONCOANCF",6,0)
 ;;Registry type^10^10
"RTN","ONCOANCF",7,0)
 ;;Registry ID^11^18
"RTN","ONCOANCF",8,0)
 ;;Address at diagnosis-city^19^38
"RTN","ONCOANCF",9,0)
 ;;Address at diagnosis-state^39^40
"RTN","ONCOANCF",10,0)
 ;;County of residence at diagnosis^41^43
"RTN","ONCOANCF",11,0)
 ;;Address at diagnosis-ZIP^44^52
"RTN","ONCOANCF",12,0)
 ;;Blank^53^59
"RTN","ONCOANCF",13,0)
 ;;Marital status^60^60
"RTN","ONCOANCF",14,0)
 ;;Race^61^62^1
"RTN","ONCOANCF",15,0)
 ;;Race coding system - Current^63^63
"RTN","ONCOANCF",16,0)
 ;;Race coding system - Original^64^64
"RTN","ONCOANCF",17,0)
 ;;Spanish Surname/Origin (Ethnicity)^65^65^1
"RTN","ONCOANCF",18,0)
 ;;Sex^66^66^1
"RTN","ONCOANCF",19,0)
 ;;Age at diagnosis^67^69
"RTN","ONCOANCF",20,0)
 ;;Date of birth^70^77^1
"RTN","ONCOANCF",21,0)
 ;;Place of birth^78^80
"RTN","ONCOANCF",22,0)
 ;;Religon^81^82
"RTN","ONCOANCF",23,0)
 ;;Blank^83^106
"RTN","ONCOANCF",24,0)
 ;;Tumor record number^107^108
"RTN","ONCOANCF",25,0)
 ;;Sequence number^109^110^1
"RTN","ONCOANCF",26,0)
 ;;Date of initial diagnosis^111^118^1
"RTN","ONCOANCF",27,0)
 ;;Primary site^119^122^1
"RTN","ONCOANCF",28,0)
 ;;Laterality^123^123^1
"RTN","ONCOANCF",29,0)
 ;;Histology^124^128^1
"RTN","ONCOANCF",30,0)
 ;;Grade or differentiation^129^129^1
"RTN","ONCOANCF",31,0)
 ;;Site coding system - Current^130^130
"RTN","ONCOANCF",32,0)
 ;;Site coding system - Original^131^131
"RTN","ONCOANCF",33,0)
 ;;Morphology coding system - Current^132^132
"RTN","ONCOANCF",34,0)
 ;;Blank^133^133
"RTN","ONCOANCF",35,0)
 ;;Diagnostic confirmation^134^134^1
"RTN","ONCOANCF",36,0)
 ;;Type of reporting source^135^135
"RTN","ONCOANCF",37,0)
 ;;Accession year^136^137^1
"RTN","ONCOANCF",38,0)
 ;;Blank^138^141
"RTN","ONCOANCF",39,0)
 ;;Reporting (diagnosis) hospital^142^149
"RTN","ONCOANCF",40,0)
 ;;Accession number (hospital)^150^155^1
"RTN","ONCOANCF",41,0)
 ;;Blank^156^158
"RTN","ONCOANCF",42,0)
 ;;Date of admission^159^166
"RTN","ONCOANCF",43,0)
 ;;Date of discharge^167^174
"RTN","ONCOANCF",44,0)
 ;;Class of case^175^175^1
"RTN","ONCOANCF",45,0)
 ;;RX hospital-surgery type^176^177
"RTN","ONCOANCF",46,0)
 ;;RX hospital-radiation^178^178
"RTN","ONCOANCF",47,0)
 ;;RX hospital-chemotherapy^179^179
"RTN","ONCOANCF",48,0)
 ;;RX hospital-hormone/steroid^180^180
"RTN","ONCOANCF",49,0)
 ;;RX hospital-biological response modifier^181^181
"RTN","ONCOANCF",50,0)
 ;;RX hospital-other cancer-directed therapy^182^182
"RTN","ONCOANCF",51,0)
 ;;General Summary Stage^183^183^1
"RTN","ONCOANCF",52,0)
 ;;Local/Regional/Distant stage^184^184
"RTN","ONCOANCF",53,0)
 ;;EOD-Tumor size^185^187^1
"RTN","ONCOANCF",54,0)
 ;;EOD-Extension^188^189
"RTN","ONCOANCF",55,0)
 ;;EOD-Lymph nodes^190^190
"RTN","ONCOANCF",56,0)
 ;;Regional nodes positive^191^192^1
"RTN","ONCOANCF",57,0)
 ;;Regional nodes examined^193^194^1
"RTN","ONCOANCF",58,0)
 ;;Blank^195^213
"RTN","ONCOANCF",59,0)
 ;;T code of TNM (pathologic)^214^215^2:221,222
"RTN","ONCOANCF",60,0)
 ;;N code of TNM (pathologic)^216^217^2:223,224
"RTN","ONCOANCF",61,0)
 ;;M code of TNM (pathologic)^218^218^2:225,225
"RTN","ONCOANCF",62,0)
 ;;AJCC Stage Group (Path)^219^220^2:226,227
"RTN","ONCOANCF",63,0)
 ;;T code (Clinical)^221^222^2:214,215
"RTN","ONCOANCF",64,0)
 ;;N code (Clinical)^223^224^2:216,217
"RTN","ONCOANCF",65,0)
 ;;M code (Clinical)^225^225^2:218,218
"RTN","ONCOANCF",66,0)
 ;;AJCC Stage Group (Clinical)^226^227^2:219,220
"RTN","ONCOANCF",67,0)
 ;;TNM Edition Number^228^228
"RTN","ONCOANCF",68,0)
 ;;Distant Metastasis^229^231^1
"RTN","ONCOANCF",69,0)
 ;;Surgical Margins^232^232
"RTN","ONCOANCF",70,0)
 ;;Blank^233^236
"RTN","ONCOANCF",71,0)
 ;;Tumor Marker 1^237^237
"RTN","ONCOANCF",72,0)
 ;;Tumor Marker 2^238^238
"RTN","ONCOANCF",73,0)
 ;;Blank^239^250
"RTN","ONCOANCF",74,0)
 ;;Treatment coding system^251^251
"RTN","ONCOANCF",75,0)
 ;;RX date-surgery^252^259
"RTN","ONCOANCF",76,0)
 ;;RX date-radiation^260^267
"RTN","ONCOANCF",77,0)
 ;;RX date-chemotherapy^268^275
"RTN","ONCOANCF",78,0)
 ;;RX date-hormone/steroid therapy^276^283
"RTN","ONCOANCF",79,0)
 ;;RX date-biological response modifier^284^291
"RTN","ONCOANCF",80,0)
 ;;RX date-other cancer-directed therapy^292^299
"RTN","ONCOANCF",81,0)
 ;;RX date-started^300^307^1
"RTN","ONCOANCF",82,0)
 ;;RX summary-surgery type^308^309^1
"RTN","ONCOANCF",83,0)
 ;;Reason for no cancer-directed surgery^310^310
"RTN","ONCOANCF",84,0)
 ;;RX summary-radiation^311^311^1
"RTN","ONCOANCF",85,0)
 ;;Radiation to brain and central nervous system^312^312
"RTN","ONCOANCF",86,0)
 ;;RX summary-Radiation therapy sequence with surgery^313^313
"RTN","ONCOANCF",87,0)
 ;;RX summary-chemotherapy^314^314^1
"RTN","ONCOANCF",88,0)
 ;;RX summary-hormone/steroid (endocrine) therapy^315^315
"RTN","ONCOANCF",89,0)
 ;;RX summary-biological response modifier^316^316^1
"RTN","ONCOANCF",90,0)
 ;;RX summary-other cancer-directed therapy^317^317^1
"RTN","ONCOANCF",91,0)
 ;;Blank^318^337
"RTN","ONCOANCF",92,0)
 ;;#1  Subsequent RX-date (started)^338^345^
"RTN","ONCOANCF",93,0)
 ;;#1    Surgery^346^347^
"RTN","ONCOANCF",94,0)
 ;;#1    Radiation^348^348
"RTN","ONCOANCF",95,0)
 ;;#1    Chemotherapy^349^349
"RTN","ONCOANCF",96,0)
 ;;#1    Hormone/steroid therapy^350^350
"RTN","ONCOANCF",97,0)
 ;;#1    Biological response modifier^351^351
"RTN","ONCOANCF",98,0)
 ;;#1    Other cancer-directed therapy^352^352
"RTN","ONCOANCF",99,0)
 ;;#2  Subsequent RX-date (started)^353^360
"RTN","ONCOANCF",100,0)
 ;;#2    Surgery^361^362
"RTN","ONCOANCF",101,0)
 ;;#2    Radiation^363^363
"RTN","ONCOANCF",102,0)
 ;;#2    Chemotherapy^364^364
"RTN","ONCOANCF",103,0)
 ;;#2    Hormone/steroid therapy^365^365
"RTN","ONCOANCF",104,0)
 ;;#2    Biological response modifier^366^366
"RTN","ONCOANCF",105,0)
 ;;#2    Other cancer-directed therapy^367^367
"RTN","ONCOANCF",106,0)
 ;;#3  Subsequent RX-date (started)^368^375
"RTN","ONCOANCF",107,0)
 ;;#3    Surgery^376^377
"RTN","ONCOANCF",108,0)
 ;;#3    Radiation^378^378
"RTN","ONCOANCF",109,0)
 ;;#3    Chemotherapy^379^379
"RTN","ONCOANCF",110,0)
 ;;#3    Hormone/steroid therapy^380^380
"RTN","ONCOANCF",111,0)
 ;;#3    Biological response modifier^381^381
"RTN","ONCOANCF",112,0)
 ;;#3    Other cancer-directed therapy^382^382
"RTN","ONCOANCF",113,0)
 ;;#4  Subsequent RX-date (started)^383^390
"RTN","ONCOANCF",114,0)
 ;;#4    Surgery^391^392
"RTN","ONCOANCF",115,0)
 ;;#4    Radiation^393^393
"RTN","ONCOANCF",116,0)
 ;;#4    Chemotherapy^394^394
"RTN","ONCOANCF",117,0)
 ;;#4    Hormone/steroid therapy^395^395
"RTN","ONCOANCF",118,0)
 ;;#4    Biological response modifier^396^396
"RTN","ONCOANCF",119,0)
 ;;#4    Other cancer-directed therapy^397^397
"RTN","ONCOANCF",120,0)
 ;;Blank^398^417
"RTN","ONCOANCF",121,0)
 ;;Date of last contact^418^425^1
"RTN","ONCOANCF",122,0)
 ;;Vital status^426^426^1
"RTN","ONCOANCF",123,0)
 ;;Cancer status^427^427^1
"RTN","ONCOANCF",124,0)
 ;;Quality of survival^428^428
"RTN","ONCOANCF",125,0)
 ;;Blank^429^460
"RTN","ONCOANCF",126,0)
 ;;First recurrence-date^461^468^
"RTN","ONCOANCF",127,0)
 ;;First recurrence-type^469^469^
"RTN","ONCOANCF",128,0)
 ;;First recurrence-distant site(s)^470^472^
"RTN","ONCOANCF",129,0)
 ;;Cause of death^473^476
"RTN","ONCOANCF",130,0)
 ;;ICD revision number^477^477
"RTN","ONCOANCF",131,0)
 ;;Blank^478^481
"RTN","ONCOANCF",132,0)
 ;;Blank^482^502
"RTN","ONCOANCF",133,0)
 ;;Blank^503^522
"RTN","ONCOANCF",134,0)
 ;;ACOS coding system - Current^523^523
"RTN","ONCOANCF",135,0)
 ;;Blank^524^525
"RTN","ONCOANCF",136,0)
 ;;Vendor Name^526^535
"RTN","ONCOANCF",137,0)
 ;;AACCR Record Version^536^536
"RTN","ONCOANCF",138,0)
 ;;Blank^537^550
"RTN","ONCOANCF",139,0)
 ;;
"RTN","ONCOANCF",140,0)
 ;;
"RTN","ONCOANCQ")
0^169^B21563256
"RTN","ONCOANCQ",1,0)
ONCOANCQ ;Hines OIFO/GWB - [ER Report of accessions requiring additional input] ;06/14/00
"RTN","ONCOANCQ",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOANCQ",3,0)
 ;
"RTN","ONCOANCQ",4,0)
 S AASTYPNC="A"
"RTN","ONCOANCQ",5,0)
LINE N AASAY
"RTN","ONCOANCQ",6,0)
 N READY
"RTN","ONCOANCQ",7,0)
 F  D  Q:READY
"RTN","ONCOANCQ",8,0)
 .S READY=0
"RTN","ONCOANCQ",9,0)
 .I '$$SITEPAR^ONCOU("ERRMSG") S READY=-1
"RTN","ONCOANCQ",10,0)
 .E  I '$$GETDATA S READY=-1
"RTN","ONCOANCQ",11,0)
 .E  S READY=$$DEFOK
"RTN","ONCOANCQ",12,0)
 .I 'READY W !!!?10,"OK, restarting from the beginning...",!!!
"RTN","ONCOANCQ",13,0)
 I READY>0 D ^ONCOANC0
"RTN","ONCOANCQ",14,0)
 Q
"RTN","ONCOANCQ",15,0)
 ;
"RTN","ONCOANCQ",16,0)
GETDATA() ;Get data
"RTN","ONCOANCQ",17,0)
 N ALLOK
"RTN","ONCOANCQ",18,0)
 S AASAY=0,ALLOK=$$GETYEAR(.AASAY)
"RTN","ONCOANCQ",19,0)
 I ALLOK D STATE S:'$D(BYR("B")) BYR("B")=(200+EYR)_"0000" S:'$D(BYR("E")) BYR("E")=(201+EYR)_"0000"
"RTN","ONCOANCQ",20,0)
 I ALLOK S AASDXH=0,ALLOK=$$GETDXH(.AASDXH)
"RTN","ONCOANCQ",21,0)
 Q ALLOK
"RTN","ONCOANCQ",22,0)
 ;
"RTN","ONCOANCQ",23,0)
SHOINST() ;Display instructions
"RTN","ONCOANCQ",24,0)
 N OKSHO,OKHERE S OKHERE=1
"RTN","ONCOANCQ",25,0)
 S OKSHO=$$ASKY^ONCOU("    DISPLAY/PRINT on-line instructions for Help")
"RTN","ONCOANCQ",26,0)
 I $D(DIRUT)!$D(DIROUT) S OKHERE=0
"RTN","ONCOANCQ",27,0)
 E  I OKSHO,'($D(ONCOREP)!$D(ONCOREQ)) S OKHERE=$$SHOWEM
"RTN","ONCOANCQ",28,0)
    E  I OKSHO,($D(ONCOREP)!$D(ONCOREQ)) D TEMPHLP
"RTN","ONCOANCQ",29,0)
 Q OKHERE
"RTN","ONCOANCQ",30,0)
 ;
"RTN","ONCOANCQ",31,0)
TEMPHLP N X,DIWL,DIWR,DIWF
"RTN","ONCOANCQ",32,0)
 S DIWL=10,DIWR=70,DIWF="W"
"RTN","ONCOANCQ",33,0)
 W !!
"RTN","ONCOANCQ",34,0)
 I $D(ONCOREQ) D
"RTN","ONCOANCQ",35,0)
 .S X="This report displays incomplete records for data to be transmitted to the ACOS, for a time period specified.  The report does not specify exactly where in the database to fix problems.  It is intended only as an aid."
"RTN","ONCOANCQ",36,0)
 E  D
"RTN","ONCOANCQ",37,0)
 .S X="This report will display what will be transmitted on the ACOS disk.  It is intended as an aid in correcting and validating the ACOS data.  There is no extensive help for this report at this time."
"RTN","ONCOANCQ",38,0)
 D ^DIWP,^DIWW W !
"RTN","ONCOANCQ",39,0)
 Q
"RTN","ONCOANCQ",40,0)
 ;
"RTN","ONCOANCQ",41,0)
SHOWEM() ;Instruction display
"RTN","ONCOANCQ",42,0)
 N OKHERE
"RTN","ONCOANCQ",43,0)
 W !! S DIC="^ONCO(160.2,",L=0,DHD="@"
"RTN","ONCOANCQ",44,0)
 I AASTYPNC="A" S BY="[ONCO ACOS DOCUMENTATION]",DA=4
"RTN","ONCOANCQ",45,0)
 I AASTYPNC="I" S FLDS="1",FR="PRIMARY ACOS INFO (850)",TO="STATE REPORTING ACOS INFOA",BY="@.01"
"RTN","ONCOANCQ",46,0)
 D EN1^DIP
"RTN","ONCOANCQ",47,0)
 S OKHERE=($D(DTOUT)+$D(DUOUT)=0)
"RTN","ONCOANCQ",48,0)
 I 'OKHERE S OKHERE=$$ASKY^ONCOU("Continue")
"RTN","ONCOANCQ",49,0)
 Q OKHERE
"RTN","ONCOANCQ",50,0)
 ;
"RTN","ONCOANCQ",51,0)
GETYEAR(YR) ;Get year
"RTN","ONCOANCQ",52,0)
 N OKHERE
"RTN","ONCOANCQ",53,0)
 S BYR=1980,EYR=(1700+$E(DT,1,3))-1
"RTN","ONCOANCQ",54,0)
 S:AASTYPNC'="A" YR=$$ASKNUM^ONCOU("    Select YEAR for ACOS Call for Data",BYR_":"_(BYR+20),EYR)
"RTN","ONCOANCQ",55,0)
 I AASTYPNC="A" S YR=$$ASKNUM^ONCOU("    Select Accession Year",BYR_":"_(EYR),EYR)
"RTN","ONCOANCQ",56,0)
 S OKHERE=($D(DTOUT)+$D(DUOUT)=0)
"RTN","ONCOANCQ",57,0)
 Q OKHERE
"RTN","ONCOANCQ",58,0)
 ;
"RTN","ONCOANCQ",59,0)
GETDXH(DXH) ;Get INSTITUTION ID NUMBER (160.1,27)
"RTN","ONCOANCQ",60,0)
 N OKHERE
"RTN","ONCOANCQ",61,0)
 S DIE=160.1
"RTN","ONCOANCQ",62,0)
 S DA=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOANCQ",63,0)
 I DA="" S DA=$O(^ONCO(160.1,0))
"RTN","ONCOANCQ",64,0)
 S DR=27_$J("",20)_"ACOS Number"
"RTN","ONCOANCQ",65,0)
 S ONCOL=0
"RTN","ONCOANCQ",66,0)
 L +^ONCO(160.1,DA):0 I $T D ^DIE L -^ONCO(160.1,DA) S ONCOL=1
"RTN","ONCOANCQ",67,0)
 I 'ONCOL W !,"The site paramaters record is being edited by another user."
"RTN","ONCOANCQ",68,0)
 K ONCOL
"RTN","ONCOANCQ",69,0)
 K DIE S DXH=X
"RTN","ONCOANCQ",70,0)
 S OKHERE=($D(Y)=0) ;Y is defined if user answered all prompts
"RTN","ONCOANCQ",71,0)
 Q OKHERE
"RTN","ONCOANCQ",72,0)
 ;
"RTN","ONCOANCQ",73,0)
DEFOK() ;Confirm definitions
"RTN","ONCOANCQ",74,0)
 N OKHERE
"RTN","ONCOANCQ",75,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOANCQ",76,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOANCQ",77,0)
 S AC=$P(^ONCO(160.1,OSP,1),U,4)
"RTN","ONCOANCQ",78,0)
 S AC=$$GET1^DIQ(160.19,AC,.01,"I")
"RTN","ONCOANCQ",79,0)
 K OSP
"RTN","ONCOANCQ",80,0)
 W !!!?20,"ACOS Number is ",$S(AC'="":AC,1:"NOT defined in Site Parameters File") S:AC'="" AASDXH=AC
"RTN","ONCOANCQ",81,0)
 W:AASTYPNC="I" !?20,"Year for ACOS data is ",AASAY
"RTN","ONCOANCQ",82,0)
 I AASTYPNC="A" W !?20,"Accession Year ",AASAY,!?20,"Abstract Completed Date, Start is ",BYR("BY"),!?20,"Abstract Completed Date, End is ",BYR("BE")
"RTN","ONCOANCQ",83,0)
 W ! S OKHERE=$$ASKY^ONCOU("     Definitions OK")
"RTN","ONCOANCQ",84,0)
 Q OKHERE
"RTN","ONCOANCQ",85,0)
REPORT ;Set variable for report to run instead of tape
"RTN","ONCOANCQ",86,0)
 N ONCOREP
"RTN","ONCOANCQ",87,0)
 S ONCOREP=1,AASTYPNC="I" D LINE^ONCOANCQ,CLEANUP^ONCOANC9 Q
"RTN","ONCOANCQ",88,0)
 ;
"RTN","ONCOANCQ",89,0)
REQREP ;Set variable for required field report to run
"RTN","ONCOANCQ",90,0)
 N ONCOREQ
"RTN","ONCOANCQ",91,0)
 S ONCOREQ=1 D ^ONCOANCQ,CLEANUP^ONCOANC9 Q 
"RTN","ONCOANCQ",92,0)
 ;
"RTN","ONCOANCQ",93,0)
STATE ;Identifies desired date range for state data collection disk
"RTN","ONCOANCQ",94,0)
 Q:AASTYPNC'="A"  I AASAY'>1 S ALLOK=0 Q
"RTN","ONCOANCQ",95,0)
 S DIR(0)="D",DIR("A")="      Abstract Completed Date, Start"
"RTN","ONCOANCQ",96,0)
 S DIR("B")="Jan 1, "_AASAY D ^DIR K DIR("B") I $D(DIRUT) S ALLOK=0 Q
"RTN","ONCOANCQ",97,0)
 S BYR("B")=Y X ^DD("DD") W "   ",Y S BYR("BY")=Y
"RTN","ONCOANCQ",98,0)
 S DIR("A")="      Abstract Completed Date, End",DIR("B")="Dec 31, "_AASAY
"RTN","ONCOANCQ",99,0)
 D ^DIR I $D(DIRUT) S ALLOK=0 Q
"RTN","ONCOANCQ",100,0)
 S BYR("E")=Y X ^DD("DD") W "   ",Y S BYR("BE")=Y
"RTN","ONCOANCQ",101,0)
 K DIR
"RTN","ONCOANCQ",102,0)
 Q
"RTN","ONCOAS")
0^170^B18131224
"RTN","ONCOAS",1,0)
ONCOAS ;Hines OIFO/GWB - [SE Add/Edit/Delete 'Suspense' Case] ;05/30/00
"RTN","ONCOAS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOAS",3,0)
 ;
"RTN","ONCOAS",4,0)
PAT ;[SE Add/Edit/Delete 'Suspense' Case]
"RTN","ONCOAS",5,0)
 W ! S DIC="^ONCO(160,",DIC(0)="AEZML",DLAYGO=160 D ^DIC G:Y<0 EX
"RTN","ONCOAS",6,0)
 S (D0,ONCOD0)=+Y
"RTN","ONCOAS",7,0)
 N Y K DIQ,ONC S DIC="^ONCO(160,",DR=".01;16;15;15.2",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOAS",8,0)
 D EN^DIQ1 W !
"RTN","ONCOAS",9,0)
 W !?1,"Patient Name.................: ",ONC(160,ONCOD0,.01)
"RTN","ONCOAS",10,0)
 W !?1,"Date of Last Contact or Death: ",ONC(160,ONCOD0,16)
"RTN","ONCOAS",11,0)
 W !?1,"Vital Status.................: ",ONC(160,ONCOD0,15)
"RTN","ONCOAS",12,0)
 W !?1,"Follow-Up Status.............: ",ONC(160,ONCOD0,15.2)
"RTN","ONCOAS",13,0)
 D SDD^ONCOCOM
"RTN","ONCOAS",14,0)
 I $D(^ONCO(160,ONCOD0,"SUS","C",DUZ(2))) D  D DEL G PAT
"RTN","ONCOAS",15,0)
 .S SUSIEN=$O(^ONCO(160,ONCOD0,"SUS","C",DUZ(2),0))
"RTN","ONCOAS",16,0)
 .S DIE="^ONCO(160,"_ONCOD0_",""SUS"",",DA(1)=ONCOD0,DA=SUSIEN
"RTN","ONCOAS",17,0)
 .S DR=".01;3" D ^DIE
"RTN","ONCOAS",18,0)
 S DA(1)=ONCOD0,DIC="^ONCO(160,"_ONCOD0_",""SUS"",",DIC(0)="QEAL"
"RTN","ONCOAS",19,0)
 S DIC("A")="SUSPENSE DATE: "
"RTN","ONCOAS",20,0)
 S DIC("S")="I $P(^ONCO(160,DA(1),""SUS"",Y,0),U,4)=DUZ(2)"
"RTN","ONCOAS",21,0)
 D ^DIC I Y=-1 K DIC,DA D DEL G PAT
"RTN","ONCOAS",22,0)
 S DIE=DIC K DIC
"RTN","ONCOAS",23,0)
 S DA=+Y,DR="1///^S X=DT;2///^S X=""SE"";3////^S X=DUZ(2)"
"RTN","ONCOAS",24,0)
 S ONCOL=0 L +^ONCO(160,DA):0 I $T D ^DIE L -^ONCO(160,DA) S ONCOL=1
"RTN","ONCOAS",25,0)
 I 'ONCOL W !,"This patient is being edited by another user." G PAT
"RTN","ONCOAS",26,0)
 K ONCOL,DIE,DR,DA,Y
"RTN","ONCOAS",27,0)
 D DEL G PAT
"RTN","ONCOAS",28,0)
 ;
"RTN","ONCOAS",29,0)
EX ;Exit
"RTN","ONCOAS",30,0)
 K X,Y,D0,DA,DIC,DIE,DIK,DIQ,DLAYGO,DR
"RTN","ONCOAS",31,0)
 K ONC,ONCOD0,ONCOL,SUSIEN
"RTN","ONCOAS",32,0)
 Q
"RTN","ONCOAS",33,0)
 ;
"RTN","ONCOAS",34,0)
DEL ;Delete patients who are not on suspense and have no primaries
"RTN","ONCOAS",35,0)
 I $O(^ONCO(160,ONCOD0,"SUS",0))="",'$D(^ONCO(165.5,"C",ONCOD0)) D
"RTN","ONCOAS",36,0)
 .N DIK,DA S DIK="^ONCO(160,",DA=ONCOD0 D ^DIK
"RTN","ONCOAS",37,0)
 .W !!?3,*7,"This patient is not on suspense and has no primaries."
"RTN","ONCOAS",38,0)
 .W !?3,"This patient's record has been deleted."
"RTN","ONCOAS",39,0)
 Q
"RTN","ONCOAS",40,0)
 ;
"RTN","ONCOAS",41,0)
PURGE ;PSR Purge Suspense Records [ONCO UTIL-PURGE SUSPENSE]
"RTN","ONCOAS",42,0)
 W !
"RTN","ONCOAS",43,0)
 W !,"   This option will purge suspense records.  The user may purge ALL suspense"
"RTN","ONCOAS",44,0)
 W !,"   records or the suspense records for a selected SUSPENSE DATE range."
"RTN","ONCOAS",45,0)
 W !
"RTN","ONCOAS",46,0)
 W !,"   NOTE: Only suspense records which belong to your division will be purged."
"RTN","ONCOAS",47,0)
 W !
"RTN","ONCOAS",48,0)
 W !,"   If, after the suspense record purge, the patient has no suspense records"
"RTN","ONCOAS",49,0)
 W !,"   and no primaries (for any division), the tumor registry patient record"
"RTN","ONCOAS",50,0)
 W !,"   will also be purged."
"RTN","ONCOAS",51,0)
 W !
"RTN","ONCOAS",52,0)
 K DIR
"RTN","ONCOAS",53,0)
 S DIR("A")="   Select purge option"
"RTN","ONCOAS",54,0)
 S DIR(0)="SO^1:ALL suspense records for your division;2:Range of suspense records by SUSPENSE DATE"
"RTN","ONCOAS",55,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ONCOAS",56,0)
 I Y=1 S ANS="YES" G PSR
"RTN","ONCOAS",57,0)
 I Y=2 S ANS="NO"
"RTN","ONCOAS",58,0)
 K DIR
"RTN","ONCOAS",59,0)
 W !
"RTN","ONCOAS",60,0)
 S DIR(0)="D"
"RTN","ONCOAS",61,0)
 S DIR("A")="   Start Suspense Date"
"RTN","ONCOAS",62,0)
 S DIR("?")=" "
"RTN","ONCOAS",63,0)
 S DIR("?",1)="   Enter the SUSPENSE DATE of the first suspense record you would like to purge."
"RTN","ONCOAS",64,0)
 D ^DIR I $D(DIRUT) Q
"RTN","ONCOAS",65,0)
 S SDT=Y
"RTN","ONCOAS",66,0)
 S DIR("A")="     End Suspense Date"
"RTN","ONCOAS",67,0)
 S DIR("?",1)="    Enter the SUSPENSE DATE of the last suspense record you would like to purge."
"RTN","ONCOAS",68,0)
 D ^DIR I $D(DIRUT) Q
"RTN","ONCOAS",69,0)
 S EDT=Y
"RTN","ONCOAS",70,0)
PSR W !
"RTN","ONCOAS",71,0)
 K DIR,ONC
"RTN","ONCOAS",72,0)
 S DIR("A")="   Are you sure you want to purge suspense records"
"RTN","ONCOAS",73,0)
 S DIR("B")="No"
"RTN","ONCOAS",74,0)
 S DIR(0)="Y" D ^DIR
"RTN","ONCOAS",75,0)
 I Y=0 Q
"RTN","ONCOAS",76,0)
 I ANS="YES" S X0=0,EDT=9999999
"RTN","ONCOAS",77,0)
 I ANS="NO" S X0=SDT-1
"RTN","ONCOAS",78,0)
 S CNT=0
"RTN","ONCOAS",79,0)
 F  S X0=$O(^ONCO(160,"ADX",X0)) Q:('X0)!(X0>EDT)  S X1=0 F  S X1=$O(^ONCO(160,"ADX",X0,X1)) Q:'X1  S X2=0 F  S X2=$O(^ONCO(160,"ADX",X0,X1,X2)) Q:'X2  I $$SUSDIV^ONCFUNC(X1,X2)=DUZ(2) D
"RTN","ONCOAS",80,0)
 .S DA(1)=X1,DA=X2,DIK="^ONCO(160,"_DA(1)_",""SUS""," D ^DIK
"RTN","ONCOAS",81,0)
 .S CNT=CNT+1
"RTN","ONCOAS",82,0)
 .S ONC(X1)=""
"RTN","ONCOAS",83,0)
 .W "."
"RTN","ONCOAS",84,0)
 S PATCNT=0,SUB=0 F  S SUB=$O(ONC(SUB)) Q:'SUB  D
"RTN","ONCOAS",85,0)
 .I $O(^ONCO(160,SUB,"SUS",0))="",'$D(^ONCO(165.5,"C",SUB)) D
"RTN","ONCOAS",86,0)
 ..N DIK,DA S DIK="^ONCO(160,",DA=SUB D ^DIK S PATCNT=PATCNT+1
"RTN","ONCOAS",87,0)
 W !!,?3,CNT," Suspense ",$S(CNT=1:"record",1:"records")," purged"
"RTN","ONCOAS",88,0)
 W !,?3,PATCNT," Tumor Registry patient ",$S(CNT=1:"record",1:"records")," purged"
"RTN","ONCOAS",89,0)
 K ANS,CNT,EDT,ONC,PATCNT,SDT,X0,X1,X2,Y,DA,DIK,DIR
"RTN","ONCOAS",90,0)
 Q
"RTN","ONCOCC")
0^171^B44658900
"RTN","ONCOCC",1,0)
ONCOCC ;HINES OIFO/GWB - CLASS OF CASE stuffing and @FAC defaults ;06/23/10
"RTN","ONCOCC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCC",3,0)
 ;
"RTN","ONCOCC",4,0)
 ;CLASS OF CASE (165.5,.04) = 38 (Dx by autopsy at reporting facility)
"RTN","ONCOCC",5,0)
 N COC,NTX,PAUSE
"RTN","ONCOCC",6,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04,"E"),1,2)
"RTN","ONCOCC",7,0)
 I COC=38 D  S Y=$S(PAUSE[U:"",ONCOANS="A":"@7",1:"@0")
"RTN","ONCOCC",8,0)
 .W !?5,"CLASS OF CASE = 38 (Dx by autopsy at reporting facility)"
"RTN","ONCOCC",9,0)
 .W !!?5,"All treatment fields will be stuffed with the appropriate"
"RTN","ONCOCC",10,0)
 .W !?5,"value indicating no treatment.",!
"RTN","ONCOCC",11,0)
 .D PAUSE I PAUSE[U Q
"RTN","ONCOCC",12,0)
 .S NTX="" D NTX^ONCNTX
"RTN","ONCOCC",13,0)
 .D HDR^ONCNTX
"RTN","ONCOCC",14,0)
 .S $P(^ONCO(165.5,DA,3.1),U,26)=0
"RTN","ONCOCC",15,0)
 .S $P(^ONCO(165.5,DA,3.1),U,27)=0
"RTN","ONCOCC",16,0)
 .S $P(^ONCO(165.5,DA,"BLA2"),U,1)=0
"RTN","ONCOCC",17,0)
 .S $P(^ONCO(165.5,DA,"STS"),U,31)="00"
"RTN","ONCOCC",18,0)
 .S $P(^ONCO(165.5,DA,3.1),U,4)="0000"
"RTN","ONCOCC",19,0)
 .W !,"PALLIATIVE CARE................: No palliative care"
"RTN","ONCOCC",20,0)
 .W !,"PALLIATIVE CARE @FAC...........: No palliative care"
"RTN","ONCOCC",21,0)
 .W !
"RTN","ONCOCC",22,0)
 .W !,"PROTOCOL ELIGIBILITY STATUS....: Not available"
"RTN","ONCOCC",23,0)
 .W !,"PROTOCOL PARTICIPATION.........: Not on/NA"
"RTN","ONCOCC",24,0)
 .W !,"YEAR PUT ON PROTOCOL...........: 0000"
"RTN","ONCOCC",25,0)
 .W !
"RTN","ONCOCC",26,0)
 .D PAUSE
"RTN","ONCOCC",27,0)
 Q
"RTN","ONCOCC",28,0)
 ;
"RTN","ONCOCC",29,0)
PAUSE ;Enter RETURN to coninue" prompt
"RTN","ONCOCC",30,0)
 W ! R "Enter RETURN to continue or '^' to exit: ",PAUSE:30
"RTN","ONCOCC",31,0)
 I PAUSE="" Q
"RTN","ONCOCC",32,0)
 I PAUSE=U Q
"RTN","ONCOCC",33,0)
 G PAUSE
"RTN","ONCOCC",34,0)
 ;
"RTN","ONCOCC",35,0)
DNTDEL ;Delete DATE OF NO TREATMENT (165.5,124)
"RTN","ONCOCC",36,0)
 N TXDT
"RTN","ONCOCC",37,0)
 I $P($G(^ONCO(165.5,DA,2.1)),U,11)'="" D
"RTN","ONCOCC",38,0)
 .S TXDT=$P(^ONCO(165.5,DA,2.1),U,11)_"N"
"RTN","ONCOCC",39,0)
 .S $P(^ONCO(165.5,DA,2.1),U,11)=""
"RTN","ONCOCC",40,0)
 .K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCOCC",41,0)
 Q
"RTN","ONCOCC",42,0)
 ;
"RTN","ONCOCC",43,0)
SATFDFR ;SURGERY OF PRIMARY @FAC (R) (165.5,50.2) default
"RTN","ONCOCC",44,0)
 N SGRP,SPS,TPG
"RTN","ONCOCC",45,0)
 S SPS=$P($G(^ONCO(165.5,D0,3)),U,38)
"RTN","ONCOCC",46,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",47,0)
 I (SPS="00")!(SPS=1)!($G(^ONCO(164,SGRP,"SPS",SPS,0))["Unknown") S Y="@427" Q
"RTN","ONCOCC",48,0)
 S SPSDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",49,0)
 .S SPSDF=$P($G(^ONCO(164,SGRP,"SPS",SPS,0)),U,1)
"RTN","ONCOCC",50,0)
 .S:$P($G(^ONCO(165.5,D0,0)),U,16)<2980000 SPSDF=""
"RTN","ONCOCC",51,0)
 Q
"RTN","ONCOCC",52,0)
 ;
"RTN","ONCOCC",53,0)
SATFDEF ;SURGERY OF PRIMARY @FAC (F) (165.5,58.7) default
"RTN","ONCOCC",54,0)
 N SGRP,SPS,TPG
"RTN","ONCOCC",55,0)
 S SPS=$P($G(^ONCO(165.5,D0,3.1)),U,29)
"RTN","ONCOCC",56,0)
 I SPS="" Q
"RTN","ONCOCC",57,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",58,0)
 I (SPS="00")!(SPS=1)!($G(^ONCO(164,SGRP,"SPS",SPS,0))["Unknown") S Y="@43" Q
"RTN","ONCOCC",59,0)
 S (SPSDF,SPSDTDF)="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",60,0)
 .S SPSDF=$P($G(^ONCO(164,SGRP,"SPS",SPS,0)),U,1)
"RTN","ONCOCC",61,0)
 .S SPSDTDF=$$GET1^DIQ(165.5,D0,50,"E")
"RTN","ONCOCC",62,0)
 .S:$P($G(^ONCO(165.5,D0,0)),U,16)<2980000 (SPSDF,SPSDTDF)=""
"RTN","ONCOCC",63,0)
 Q
"RTN","ONCOCC",64,0)
 ;
"RTN","ONCOCC",65,0)
RATFDEF ;RADIATION @FACILITY (165.5,51.4) default
"RTN","ONCOCC",66,0)
 N RD,XX,YY
"RTN","ONCOCC",67,0)
 S RD=$P($G(^ONCO(165.5,D0,3)),U,6)
"RTN","ONCOCC",68,0)
 S RADDF="",RADDTDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",69,0)
 .I RD'="" D
"RTN","ONCOCC",70,0)
 ..S XX=$F(^DD(165.5,51.2,0),RD_":")
"RTN","ONCOCC",71,0)
 ..S YY=$F(^DD(165.5,51.2,0),";",XX)
"RTN","ONCOCC",72,0)
 ..S RADDF=$E(^DD(165.5,51.2,0),XX,YY-2)
"RTN","ONCOCC",73,0)
 .S RADDTDF=$P($G(^ONCO(165.5,D0,3)),U,4)
"RTN","ONCOCC",74,0)
 Q
"RTN","ONCOCC",75,0)
 ;
"RTN","ONCOCC",76,0)
CATFDEF ;CHEMOTHERAPY @FAC (165.5,53.3) default
"RTN","ONCOCC",77,0)
 N CH
"RTN","ONCOCC",78,0)
 S CH=$P($G(^ONCO(165.5,D0,3)),U,13)
"RTN","ONCOCC",79,0)
 S CHEMDF="",CHMDTDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",80,0)
 .I CH'="" D
"RTN","ONCOCC",81,0)
 ..S XX=$F(^DD(165.5,53.2,0),CH_":")
"RTN","ONCOCC",82,0)
 ..S YY=$F(^DD(165.5,53.2,0),";",XX)
"RTN","ONCOCC",83,0)
 ..S CHEMDF=$E(^DD(165.5,53.2,0),XX,YY-2)
"RTN","ONCOCC",84,0)
 .S CHMDTDF=$P($G(^ONCO(165.5,D0,3)),U,11)
"RTN","ONCOCC",85,0)
 Q
"RTN","ONCOCC",86,0)
 ;
"RTN","ONCOCC",87,0)
HATFDEF ;HORMONE THERAPY @FAC (165.5,54.3) default
"RTN","ONCOCC",88,0)
 N HT
"RTN","ONCOCC",89,0)
 S HT=$P($G(^ONCO(165.5,D0,3)),U,16)
"RTN","ONCOCC",90,0)
 S HTDF="",HTDTDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",91,0)
 .I HT'="" D
"RTN","ONCOCC",92,0)
 ..S XX=$F(^DD(165.5,54.2,0),HT_":")
"RTN","ONCOCC",93,0)
 ..S YY=$F(^DD(165.5,54.2,0),";",XX)
"RTN","ONCOCC",94,0)
 ..S HTDF=$E(^DD(165.5,54.2,0),XX,YY-2)
"RTN","ONCOCC",95,0)
 .S HTDTDF=$P($G(^ONCO(165.5,D0,3)),U,14)
"RTN","ONCOCC",96,0)
 Q
"RTN","ONCOCC",97,0)
 ;
"RTN","ONCOCC",98,0)
IATFDEF ;IMMUNOTHERAPY @FAC (165.5,55.3) default
"RTN","ONCOCC",99,0)
 N IMM
"RTN","ONCOCC",100,0)
 S IMM=$P($G(^ONCO(165.5,D0,3)),U,19)
"RTN","ONCOCC",101,0)
 S IMMDF="",IMMDTDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",102,0)
 .I IMM'="" D
"RTN","ONCOCC",103,0)
 ..S XX=$F(^DD(165.5,55.2,0),IMM_":")
"RTN","ONCOCC",104,0)
 ..S YY=$F(^DD(165.5,55.2,0),";",XX)
"RTN","ONCOCC",105,0)
 ..S IMMDF=$E(^DD(165.5,55.2,0),XX,YY-2)
"RTN","ONCOCC",106,0)
 .S IMMDTDF=$P($G(^ONCO(165.5,D0,3)),U,17)
"RTN","ONCOCC",107,0)
 Q
"RTN","ONCOCC",108,0)
 ;
"RTN","ONCOCC",109,0)
OATFDEF ;OTHER TREATMENT @FAC (165.5,57.3) default
"RTN","ONCOCC",110,0)
 N OTH
"RTN","ONCOCC",111,0)
 S OTH=$P($G(^ONCO(165.5,D0,3)),U,25)
"RTN","ONCOCC",112,0)
 S OTHDF="",OTHDTDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",113,0)
 .I OTH'="" D
"RTN","ONCOCC",114,0)
 ..S XX=$F(^DD(165.5,57.2,0),OTH_":")
"RTN","ONCOCC",115,0)
 ..S YY=$F(^DD(165.5,57.2,0),";",XX)
"RTN","ONCOCC",116,0)
 ..S OTHDF=$E(^DD(165.5,57.2,0),XX,YY-2)
"RTN","ONCOCC",117,0)
 .S OTHDTDF=$P($G(^ONCO(165.5,D0,3)),U,23)
"RTN","ONCOCC",118,0)
 Q
"RTN","ONCOCC",119,0)
 ;
"RTN","ONCOCC",120,0)
PATFDEF ;PALLIATIVE PROCEDURE @FAC (165.5,13) default
"RTN","ONCOCC",121,0)
 N COC,PP
"RTN","ONCOCC",122,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04,"E"),1,2)
"RTN","ONCOCC",123,0)
 S PP=$P($G(^ONCO(165.5,D0,3.1)),U,26)
"RTN","ONCOCC",124,0)
 S PPDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",125,0)
 .I PP'="" D
"RTN","ONCOCC",126,0)
 ..S XX=$F(^DD(165.5,12,0),PP_":")
"RTN","ONCOCC",127,0)
 ..S YY=$F(^DD(165.5,12,0),";",XX)
"RTN","ONCOCC",128,0)
 ..S PPDF=$E(^DD(165.5,12,0),XX,YY-2)
"RTN","ONCOCC",129,0)
 Q
"RTN","ONCOCC",130,0)
 ;
"RTN","ONCOCC",131,0)
SCOPER ;SCOPE OF LN SURGERY @FAC (R) (165.5,138.1) default
"RTN","ONCOCC",132,0)
 N SGRP,SCOPE,TPG
"RTN","ONCOCC",133,0)
 S SCOPE=$P($G(^ONCO(165.5,D0,3)),U,40) I SCOPE="" Q
"RTN","ONCOCC",134,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",135,0)
 S SCPDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",136,0)
 .S SCPDF=$P($G(^ONCO(164,SGRP,"SC5",SCOPE,0)),U,1)
"RTN","ONCOCC",137,0)
 Q
"RTN","ONCOCC",138,0)
 ;
"RTN","ONCOCC",139,0)
SCOPE ;SCOPE OF LN SURGERY @FAC (F) (165.5,138.5) default
"RTN","ONCOCC",140,0)
 ;SCOPE OF LN SURGERY @FAC DATE (165.5,138.3) default
"RTN","ONCOCC",141,0)
 N SCOPE
"RTN","ONCOCC",142,0)
 S SCOPE=$P($G(^ONCO(165.5,D0,3.1)),U,31) I SCOPE="" Q
"RTN","ONCOCC",143,0)
 S (SCPDF,SCPDTDF)="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",144,0)
 .I SCOPE'="" D
"RTN","ONCOCC",145,0)
 ..S XX=$F(^DD(165.5,138.5,0),SCOPE_":")
"RTN","ONCOCC",146,0)
 ..S YY=$F(^DD(165.5,138.5,0),";",XX)
"RTN","ONCOCC",147,0)
 ..S SCPDF=$E(^DD(165.5,138.5,0),XX,YY-2)
"RTN","ONCOCC",148,0)
 .S SCPDTDF=$P($G(^ONCO(165.5,D0,3.1)),U,22)
"RTN","ONCOCC",149,0)
 Q
"RTN","ONCOCC",150,0)
 ;
"RTN","ONCOCC",151,0)
NUMN ;NUMBER OF LN REMOVED @FAC (R) (165.5,140.1) default
"RTN","ONCOCC",152,0)
 N NODES
"RTN","ONCOCC",153,0)
 S NODES=$P($G(^ONCO(165.5,D0,3)),U,42)
"RTN","ONCOCC",154,0)
 S NUMDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",155,0)
 .S NUMDF=NODES
"RTN","ONCOCC",156,0)
 .I NUMDF="00" S NUMDF=NUMDF_"  No nodes removed"
"RTN","ONCOCC",157,0)
 .I NUMDF="90" S NUMDF=NUMDF_"  90 or more nodes removed"
"RTN","ONCOCC",158,0)
 .I NUMDF="95" S NUMDF=NUMDF_"  No nodes removed, aspiration performed"
"RTN","ONCOCC",159,0)
 .I NUMDF="96" S NUMDF=NUMDF_"  Node removal as a sampling, number unknown"
"RTN","ONCOCC",160,0)
 .I NUMDF="97" S NUMDF=NUMDF_"  Node removal as dissection, number unknown"
"RTN","ONCOCC",161,0)
 .I NUMDF="98" S NUMDF=NUMDF_"  Nodes surgically removed, number unknown"
"RTN","ONCOCC",162,0)
 .I NUMDF="99" S NUMDF=NUMDF_"  Unknown, not stated, death cert ONLY"
"RTN","ONCOCC",163,0)
 Q
"RTN","ONCOCC",164,0)
 ;
"RTN","ONCOCC",165,0)
SOSNR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139.1) default
"RTN","ONCOCC",166,0)
 N SGRP,SOSN,TPG
"RTN","ONCOCC",167,0)
 S SOSN=$P($G(^ONCO(165.5,D0,3)),U,41) I SOSN="" Q
"RTN","ONCOCC",168,0)
 D SGROUP I TPG="" Q
"RTN","ONCOCC",169,0)
 S SOSNDF="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",170,0)
 .S SOSNDF=$P($G(^ONCO(164,SGRP,"SO5",SOSN,0)),U,1)
"RTN","ONCOCC",171,0)
 Q
"RTN","ONCOCC",172,0)
 ;
"RTN","ONCOCC",173,0)
SOSN ;SURG PROC/OTHER SITE @FAC (F) (165.5,139.5) default
"RTN","ONCOCC",174,0)
 N SOSN
"RTN","ONCOCC",175,0)
 S SOSN=$P($G(^ONCO(165.5,D0,3.1)),U,33) I SOSN="" Q
"RTN","ONCOCC",176,0)
 S (SOSNDF,SOSNDTDF)="" I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14)!(COC=20)!(COC=21)!(COC=22) D  Q
"RTN","ONCOCC",177,0)
 .I SOSN'="" D
"RTN","ONCOCC",178,0)
 ..S XX=$F(^DD(165.5,139.5,0),SOSN_":")
"RTN","ONCOCC",179,0)
 ..S YY=$F(^DD(165.5,139.5,0),";",XX)
"RTN","ONCOCC",180,0)
 ..S SOSNDF=$E(^DD(165.5,139.5,0),XX,YY-2)
"RTN","ONCOCC",181,0)
 .S SOSNDTDF=$P($G(^ONCO(165.5,D0,3.1)),U,24)
"RTN","ONCOCC",182,0)
 Q
"RTN","ONCOCC",183,0)
 ;
"RTN","ONCOCC",184,0)
SGROUP S TPG=$P($G(^ONCO(165.5,D0,2)),U,1) I TPG="" Q
"RTN","ONCOCC",185,0)
 S SGRP=$P($G(^ONCO(164,TPG,0)),U,16)
"RTN","ONCOCC",186,0)
 Q
"RTN","ONCOCC",187,0)
 ;
"RTN","ONCOCC",188,0)
CLEANUP ;Cleanup
"RTN","ONCOCC",189,0)
 K CHEMDF,CHMDTDF,D0,DA,HTDF,HTDTDF,IMMDF,IMMDTDF,NUMDF,OTHDF,OTHDTDF
"RTN","ONCOCC",190,0)
 K PPDF,RADDF,RADDTDF,SCPDF,SCPDTDF,SOSNDF,SOSNDTDF,SPSDF,SPSDTDF,Y
"RTN","ONCOCFL")
0^172^B4012582
"RTN","ONCOCFL",1,0)
ONCOCFL ;Hines OIFO/GWB - LAB CASEFINDING ;06/16/11
"RTN","ONCOCFL",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCFL",3,0)
 ;
"RTN","ONCOCFL",4,0)
 W @IOF
"RTN","ONCOCFL",5,0)
 W !!!?10,"************ LAB CASEFINDING ************",!
"RTN","ONCOCFL",6,0)
 W !?10,"This option will search the LAB DATA file"
"RTN","ONCOCFL",7,0)
 W !?10,"for cases to add to the Suspense List."
"RTN","ONCOCFL",8,0)
 N OSP
"RTN","ONCOCFL",9,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCFL",10,0)
 I OSP="" D  Q
"RTN","ONCOCFL",11,0)
 .W !!?10,"Casefinding requires an ONCOLOGY SITE PARAMETER"
"RTN","ONCOCFL",12,0)
 .W !?10,"entry which matches the user's login DIVISION."
"RTN","ONCOCFL",13,0)
 .W !?10,"There is no ONCOLOGY SITE PARAMETER for DIVISION:"
"RTN","ONCOCFL",14,0)
 .W !?10,$P($G(^DIC(4,DUZ(2),0)),U,1)
"RTN","ONCOCFL",15,0)
 G ^ONCOCFL1
"RTN","ONCOCFL",16,0)
 ;
"RTN","ONCOCFL",17,0)
RPT ;Generate Report
"RTN","ONCOCFL",18,0)
 I $G(^TMP("ONCO",$J,0))=0 G WP
"RTN","ONCOCFL",19,0)
 E  D
"RTN","ONCOCFL",20,0)
 .S X=LRSTR D ^%DT S LRSDT=Y
"RTN","ONCOCFL",21,0)
 .S DIC="^ONCO(160,"
"RTN","ONCOCFL",22,0)
 .S BY="@75,INTERNAL(#3),@75,.01"
"RTN","ONCOCFL",23,0)
 .S FR=DUZ(2)_","_ONCO("SD"),TO=DUZ(2)_","_ONCO("ED")
"RTN","ONCOCFL",24,0)
 .S FLDS="[ONCO LAB-CASEFINDING REPORT]"
"RTN","ONCOCFL",25,0)
 ;
"RTN","ONCOCFL",26,0)
PRT ;Call print routine 
"RTN","ONCOCFL",27,0)
 S L=0,IOP=ION,DIOEND="D WP^ONCOCFL"
"RTN","ONCOCFL",28,0)
 D EN1^DIP G EX
"RTN","ONCOCFL",29,0)
 ;
"RTN","ONCOCFL",30,0)
WP ;Wrap-up report
"RTN","ONCOCFL",31,0)
 W !?3,$G(^TMP("ONCO",$J,0))_" LAB cases added to Suspense"
"RTN","ONCOCFL",32,0)
 Q
"RTN","ONCOCFL",33,0)
 ;
"RTN","ONCOCFL",34,0)
CFR ;Casefinding report
"RTN","ONCOCFL",35,0)
 S DIVISION=$P(^DIC(4,DUZ(2),0),U,1)
"RTN","ONCOCFL",36,0)
 S L=0,DIC="^ONCO(160,",FLDS="[ONCO LAB-CASEFINDING REPORT]"
"RTN","ONCOCFL",37,0)
 S BY="@75,2,@75,.01",FR="L,?",TO="LZ,?"
"RTN","ONCOCFL",38,0)
 D EN1^DIP,^%ZISC
"RTN","ONCOCFL",39,0)
 ;
"RTN","ONCOCFL",40,0)
EX ;Exit
"RTN","ONCOCFL",41,0)
 K ACCIEN,AFFDIV,BBT,BY,DIC,DIOEND,DIR,DIVISION,DVMTCH,DZ,DZCODE,DZMORP
"RTN","ONCOCFL",42,0)
 K DZPTR,DZX,FLDS,FR,INST,IOP,L,LBACC,LBAREA,LBNUM,LBYEAR,LRD,LRLDT
"RTN","ONCOCFL",43,0)
 K LRLST,LRM,LRN,LRSDT,LRSTR,LRT,LRXR,MODZ,O2,ONCO,ONCOEN,ONCOST,ONLDT
"RTN","ONCOCFL",44,0)
 K ONSDT,SNOMED,SR,TIS,TO,W,X,XD0,Y
"RTN","ONCOCFL",45,0)
 K ^TMP("ONCO",$J),^TMP($J)
"RTN","ONCOCFL",46,0)
 D ^%ZISC
"RTN","ONCOCFL",47,0)
 Q
"RTN","ONCOCFL1")
0^173^B61829784
"RTN","ONCOCFL1",1,0)
ONCOCFL1 ;Hines OIFO/GWB - [CF Automatic Casefinding-Lab Search] ;10/21/11
"RTN","ONCOCFL1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCFL1",3,0)
 ;
"RTN","ONCOCFL1",4,0)
EN ;Start Date default
"RTN","ONCOCFL1",5,0)
 S SDDEF=$P(^ONCO(160.1,OSP,0),U,5)
"RTN","ONCOCFL1",6,0)
 I SDDEF="" S SDDEF=DT
"RTN","ONCOCFL1",7,0)
 S SDDEF=$E(SDDEF,4,5)_"-"_$E(SDDEF,6,7)_"-"_($E(SDDEF,1,3)+1700)
"RTN","ONCOCFL1",8,0)
 ;
"RTN","ONCOCFL1",9,0)
SD ;Start Date
"RTN","ONCOCFL1",10,0)
 W !
"RTN","ONCOCFL1",11,0)
 K DIR
"RTN","ONCOCFL1",12,0)
 S DIR(0)="D"
"RTN","ONCOCFL1",13,0)
 S DIR("A")="          Start Date"
"RTN","ONCOCFL1",14,0)
 S DIR("B")=SDDEF
"RTN","ONCOCFL1",15,0)
 D ^DIR
"RTN","ONCOCFL1",16,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFL1",17,0)
 I (Y>DT) W "  Future dates not allowed" G SD
"RTN","ONCOCFL1",18,0)
 S (LRSDT,X)=Y D DD^%DT W "  ",Y
"RTN","ONCOCFL1",19,0)
 ;
"RTN","ONCOCFL1",20,0)
ED ;End Date
"RTN","ONCOCFL1",21,0)
 K DIR
"RTN","ONCOCFL1",22,0)
 S DIR(0)="D"
"RTN","ONCOCFL1",23,0)
 S DIR("A")="            End Date"
"RTN","ONCOCFL1",24,0)
 D ^DIR
"RTN","ONCOCFL1",25,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFL1",26,0)
 I (Y<LRSDT) W "  Invalid date sequence" G SD
"RTN","ONCOCFL1",27,0)
 I (Y>DT) W "  Future dates not allowed" G ED
"RTN","ONCOCFL1",28,0)
 S $P(^ONCO(160.1,OSP,0),U,5)=Y
"RTN","ONCOCFL1",29,0)
 S (LRLDT,X)=Y D DD^%DT W "  ",Y
"RTN","ONCOCFL1",30,0)
 S Y=LRSDT D D^ONCOLRU S LRSTR=Y
"RTN","ONCOCFL1",31,0)
 S Y=LRLDT D D^ONCOLRU S LRLST=Y
"RTN","ONCOCFL1",32,0)
 W !
"RTN","ONCOCFL1",33,0)
 K DIR
"RTN","ONCOCFL1",34,0)
 S DIR(0)="Y"
"RTN","ONCOCFL1",35,0)
 S DIR("A")="          Dates OK"
"RTN","ONCOCFL1",36,0)
 S DIR("B")="Y"
"RTN","ONCOCFL1",37,0)
 D ^DIR
"RTN","ONCOCFL1",38,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFL1",39,0)
 G EN:'Y
"RTN","ONCOCFL1",40,0)
 ;Include Squamous and Basal cell neoplasms (Y/N?)
"RTN","ONCOCFL1",41,0)
 W !
"RTN","ONCOCFL1",42,0)
 S SBCIND="NO"
"RTN","ONCOCFL1",43,0)
 K DIR
"RTN","ONCOCFL1",44,0)
 S DIR(0)="Y"
"RTN","ONCOCFL1",45,0)
 S DIR("A")="          Include Squamous and Basal cell neoplasms"
"RTN","ONCOCFL1",46,0)
 S DIR("B")="Yes"
"RTN","ONCOCFL1",47,0)
 S DIR("?")=" "
"RTN","ONCOCFL1",48,0)
 S DIR("?",1)=" Answer 'YES' if you want to include squamous and basal cell neoplasms."
"RTN","ONCOCFL1",49,0)
 S DIR("?",2)=" Answer  'NO' if you want to exclude these neoplasms."
"RTN","ONCOCFL1",50,0)
 D ^DIR
"RTN","ONCOCFL1",51,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFL1",52,0)
 S:Y=1 SBCIND="YES"
"RTN","ONCOCFL1",53,0)
 K DIR
"RTN","ONCOCFL1",54,0)
 ;
"RTN","ONCOCFL1",55,0)
 S ONCO("SD")=LRSDT,ONCO("ED")=LRLDT
"RTN","ONCOCFL1",56,0)
 S LRSDT=LRSDT-.01,LRLDT=LRLDT+.99
"RTN","ONCOCFL1",57,0)
 F X=8,9 F Y=1,2,3,6,9 S Z=X_"***"_Y,LRM(Z)=5,LRN(Z)=Z
"RTN","ONCOCFL1",58,0)
 S LRM(69760)=5,LRN(69760)=69760
"RTN","ONCOCFL1",59,0)
 S LRM(74000)=5,LRN(74000)=74000
"RTN","ONCOCFL1",60,0)
 S LRM(74006)=5,LRN(74006)=74006
"RTN","ONCOCFL1",61,0)
 S LRM(74007)=5,LRN(74007)=74007
"RTN","ONCOCFL1",62,0)
 S LRM(74008)=5,LRN(74008)=74008
"RTN","ONCOCFL1",63,0)
 W !!?10,"This option will search for ICD-O morphology codes 800-998.",!
"RTN","ONCOCFL1",64,0)
 W !?10,"It will also search for High Grade Dysplasia of Stomach, Colon"
"RTN","ONCOCFL1",65,0)
 W !?10,"and Esophagus cases.",!
"RTN","ONCOCFL1",66,0)
 W !?10,"Exceptions to the above search criteria:",!
"RTN","ONCOCFL1",67,0)
 W !?10,"Behavior Code /0 (Benign) codes will be excluded."
"RTN","ONCOCFL1",68,0)
 W:SBCIND="NO" !?10,"Squamous cell neoplasms (805-808) of the skin will be excluded."
"RTN","ONCOCFL1",69,0)
 W:SBCIND="NO" !?10,"Basal cell neoplasms (809) will be excluded."
"RTN","ONCOCFL1",70,0)
 W !?10,"Benign tumors of the central nervous system will be included."
"RTN","ONCOCFL1",71,0)
 W !
"RTN","ONCOCFL1",72,0)
 S %ZIS="Q" D ^%ZIS I POP G EX
"RTN","ONCOCFL1",73,0)
 I '$D(IO("Q")) D SER^ONCOCFL1 G EX
"RTN","ONCOCFL1",74,0)
 S ZTRTN="SER^ONCOCFL1",ZTSAVE("LR*")="",ZTSAVE("ONCO*")="",ZTSAVE("SBCIND")=""
"RTN","ONCOCFL1",75,0)
 S ZTDESC="ONCOLOGY LAB SEARCH"
"RTN","ONCOCFL1",76,0)
 D ^%ZTLOAD
"RTN","ONCOCFL1",77,0)
 K ZTDESC,ZTRTN,ZTSAVE
"RTN","ONCOCFL1",78,0)
 G EX
"RTN","ONCOCFL1",79,0)
 ;
"RTN","ONCOCFL1",80,0)
SER ;Search LAB DATA (63) file
"RTN","ONCOCFL1",81,0)
 ;Supported by IA #525
"RTN","ONCOCFL1",82,0)
 S AFFDIV=$G(DUZ(2)),ONCDIVSP=$O(^ONCO(160.1,"C",AFFDIV,""))
"RTN","ONCOCFL1",83,0)
 I ONCDIVSP="" W !!,"User does not have an associated DIVISION.",!! G EX
"RTN","ONCOCFL1",84,0)
 F Z=0:0 S Z=$O(^ONCO(160.1,ONCDIVSP,6,Z)) Q:Z'>0  S AFFDIV=AFFDIV_U_$G(^ONCO(160.1,ONCDIVSP,6,Z,0))
"RTN","ONCOCFL1",85,0)
 K ^TMP($J),^TMP("ONCO",$J)
"RTN","ONCOCFL1",86,0)
 D SNOMED
"RTN","ONCOCFL1",87,0)
 S ONSDT=LRSDT,ONLDT=LRLDT
"RTN","ONCOCFL1",88,0)
 S ^TMP("ONCO",$J,0)=0
"RTN","ONCOCFL1",89,0)
 F LRSS="SP","CY","EM","AU" S LRXR="A"_LRSS,LRSDT=ONSDT,LRLDT=ONLDT D LOOP
"RTN","ONCOCFL1",90,0)
 S LRDFN=0
"RTN","ONCOCFL1",91,0)
 F  S LRDFN=$O(^TMP($J,LRDFN)) G RPT:LRDFN="" S LRSDT=0 F  S LRSDT=$O(^TMP($J,LRDFN,LRSDT)) Q:LRSDT'>0  S LD=^(LRSDT),LRSS=$P(LD,U),LRI=$P(LD,U,6),XDT=$S(LRSS="AU":$P(^LR(LRDFN,LRSS),U),1:$P(^LR(LRDFN,LRSS,LRI,0),U,1)) S XDT=$P(XDT,".",1) D CK
"RTN","ONCOCFL1",92,0)
 ;
"RTN","ONCOCFL1",93,0)
CK ;Check ONCOLOGY PATIENT (160) file
"RTN","ONCOCFL1",94,0)
 D DIV Q:DVMTCH=0
"RTN","ONCOCFL1",95,0)
 S XD1=^LR(LRDFN,0) Q:$P(XD1,U,2)'=2  S X=$P(XD1,U,3) Q:'$D(^DPT(X))
"RTN","ONCOCFL1",96,0)
 S X=X_";DPT(",XD0=$O(^ONCO(160,"B",X,0)),ONCIEN=XD0
"RTN","ONCOCFL1",97,0)
 I XD0="" K DO S D="B",DIC="^ONCO(160,",DIC(0)="Z" D FILE^DICN K DO S ONCIEN=+Y D SET Q
"RTN","ONCOCFL1",98,0)
 I XD0'="" S ONCDIVS="",ONCS="" F  S ONCS=$O(^ONCO(160,XD0,"SUS","C",ONCS)) Q:ONCS'>0  S ONCDIVS=ONCDIVS_U_ONCS
"RTN","ONCOCFL1",99,0)
 I ONCDIVS[DUZ(2) Q
"RTN","ONCOCFL1",100,0)
 G SET:'$D(^ONCO(165.5,"C",ONCIEN)) S XD2=0 F  S XD2=$O(^ONCO(165.5,"C",ONCIEN,XD2)) Q:XD2=""  I $$DIV^ONCFUNC(XD2)=DUZ(2) S XDX=$P($G(^ONCO(165.5,+XD2,0)),U,16) Q:XDT=XDX  I $P($G(^ONCO(165.5,+XD2,1)),U,10)=XDT Q
"RTN","ONCOCFL1",101,0)
 Q:XD2'=""  D SET Q
"RTN","ONCOCFL1",102,0)
 ;
"RTN","ONCOCFL1",103,0)
SET ;Create SUSPENSE (160.075) record
"RTN","ONCOCFL1",104,0)
 K DD,DO
"RTN","ONCOCFL1",105,0)
 S DA(1)=ONCIEN,DIC="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOCFL1",106,0)
 S DIC(0)="L",DIC("P")=$P(^DD(160,75,0),U,2),X=XDT
"RTN","ONCOCFL1",107,0)
 D FILE^DICN K DO
"RTN","ONCOCFL1",108,0)
 S ^TMP("ONCO",$J,0)=^TMP("ONCO",$J,0)+1
"RTN","ONCOCFL1",109,0)
 K DIE S DA(1)=ONCIEN,DIE="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOCFL1",110,0)
 S (ONCSUB,DA)=+Y,SR="L"_$E(LRSS),$P(^ONCO(160,ONCIEN,0),U,2)=LRDFN
"RTN","ONCOCFL1",111,0)
 S ONCMRPH=$E($P(LD,U,4),1,5) S:$E(ONCMRPH,5)=6 $E(ONCMRPH,5)=3 I '$D(^ONCO(164.1,ONCMRPH)) S ONCMRPH=""
"RTN","ONCOCFL1",112,0)
 S DR="1///^S X=DT;2///^S X=SR;3////^S X=DUZ(2);4////^S X=$P(LD,U,2);5////^S X=$P(LD,U,3);10////^S X=ONCMRPH;11///^S X=LRI;13////^S X=$P(LD,U,7)"
"RTN","ONCOCFL1",113,0)
 D ^DIE
"RTN","ONCOCFL1",114,0)
 Q
"RTN","ONCOCFL1",115,0)
 ;
"RTN","ONCOCFL1",116,0)
LOOP F  S LRSDT=$O(^LR(LRXR,LRSDT)) Q:'LRSDT!(LRSDT>LRLDT)  D LRDFN
"RTN","ONCOCFL1",117,0)
 Q
"RTN","ONCOCFL1",118,0)
 ;
"RTN","ONCOCFL1",119,0)
LRDFN S LRDFN=0 F  S LRDFN=$O(^LR(LRXR,LRSDT,LRDFN)) Q:'LRDFN  D @$S(LRSS'="AU":"LRI",1:"AU")
"RTN","ONCOCFL1",120,0)
 Q
"RTN","ONCOCFL1",121,0)
 ;
"RTN","ONCOCFL1",122,0)
LRI S LRI=0 F  S LRI=$O(^LR(LRXR,LRSDT,LRDFN,LRI)) Q:'LRI  D T
"RTN","ONCOCFL1",123,0)
 Q
"RTN","ONCOCFL1",124,0)
 ;
"RTN","ONCOCFL1",125,0)
T S T=0 F  S T=$O(^LR(LRDFN,LRSS,LRI,2,T)) Q:'T  S LRT=+^(T,0),TIS=$P($G(^LAB(61,LRT,0)),U,1),SNOMED=$P($G(^LAB(61,LRT,0)),U,2) D M
"RTN","ONCOCFL1",126,0)
 Q
"RTN","ONCOCFL1",127,0)
 ;
"RTN","ONCOCFL1",128,0)
M S M=0 F  S M=$O(^LR(LRDFN,LRSS,LRI,2,T,2,M)) Q:'M  S X=^(M,0),LRD=+X,LRM=$P(X,U,2) D MX I I Q
"RTN","ONCOCFL1",129,0)
 S DZX=0 F  S DZX=$O(^LR(LRDFN,LRSS,LRI,2,T,1,DZX)) Q:'DZX  D
"RTN","ONCOCFL1",130,0)
 .S DZPTR=$G(^LR(LRDFN,LRSS,LRI,2,T,1,DZX,0)) I DZPTR="" Q
"RTN","ONCOCFL1",131,0)
 .S DZCODE=$P($G(^LAB(61.4,+DZPTR,0)),U,2) I DZCODE="" Q
"RTN","ONCOCFL1",132,0)
 .I (DZCODE=4006)!((DZCODE>4078)&(DZCODE<4085)) D
"RTN","ONCOCFL1",133,0)
 ..S DZMORP=$S(DZCODE=4006:99833,DZCODE=4079:99803,1:99823)
"RTN","ONCOCFL1",134,0)
 ..S ^TMP($J,LRDFN,LRSDT)=LRSS_U_U_LRT_U_DZMORP_U_TIS_U_LRI_U_DZPTR
"RTN","ONCOCFL1",135,0)
 Q
"RTN","ONCOCFL1",136,0)
 ;
"RTN","ONCOCFL1",137,0)
MX Q:'$D(^LAB(61.1,LRD,0))
"RTN","ONCOCFL1",138,0)
 S W=^LAB(61.1,LRD,0),X=$P(W,U,2),Y=0 F Z=1:1 S Y=$O(LRN(Y)) Q:Y=""  S Y(1)=LRM(Y),Y(2)=LRN(Y) D Y I I S ^TMP($J,LRDFN,LRSDT)=LRSS_U_LRD_U_LRT_U_X_U_TIS_U_LRI
"RTN","ONCOCFL1",139,0)
 Q
"RTN","ONCOCFL1",140,0)
 ;
"RTN","ONCOCFL1",141,0)
AU ;AUTOPSY
"RTN","ONCOCFL1",142,0)
 S LRI=9999999,T=0 F  S T=$O(^LR(LRDFN,"AY",T)) Q:'T  S LRT=+^(T,0),TIS=$P($G(^LAB(61,LRT,0)),U),SNOMED=$P($G(^LAB(61,LRT,0)),U,2) D AUM
"RTN","ONCOCFL1",143,0)
 Q
"RTN","ONCOCFL1",144,0)
 ;
"RTN","ONCOCFL1",145,0)
AUM S M=0 F  S M=$O(^LR(LRDFN,"AY",T,2,M)) Q:'M  S X=^(M,0),LRD=+X,LRM=$P(X,U,2) D MX
"RTN","ONCOCFL1",146,0)
 Q
"RTN","ONCOCFL1",147,0)
 ;
"RTN","ONCOCFL1",148,0)
Y ;Check for eligible cases
"RTN","ONCOCFL1",149,0)
 ;Basal cell carcinomas
"RTN","ONCOCFL1",150,0)
 I SBCIND="NO",$E(X,1,3)=809 S I=0 Q
"RTN","ONCOCFL1",151,0)
 ;Benign brain tumors
"RTN","ONCOCFL1",152,0)
 I SNOMED'="",($E(SNOMED,1,2)?1"X"1N)!($D(BBT(SNOMED))),$E(X,1)>7 S I=1 Q
"RTN","ONCOCFL1",153,0)
 ;Squamous cell neoplasms of the skin
"RTN","ONCOCFL1",154,0)
 I SBCIND="NO",($E(X,1,3)=805)!($E(X,1,3)=806)!($E(X,1,3)=807)!($E(X,1,3)=808),($E(SNOMED,1,2)="01")!($E(SNOMED,1,2)="02") S I=0 Q
"RTN","ONCOCFL1",155,0)
 I $E(X,1,5)=Y(2) D  Q 
"RTN","ONCOCFL1",156,0)
 .S I=1
"RTN","ONCOCFL1",157,0)
 .I (X=74000)!(X=74006)!(X=74007)!(X=74008),($E(SNOMED,1,2)'=62)&($E(SNOMED,1,2)'=63)&($E(SNOMED,1,2)'=67) S I=0
"RTN","ONCOCFL1",158,0)
 S I=1 F I(1)=1:1:Y(1) S I(2)=$E(Y(2),I(1)) I I(2)'="*",I(2)'=$E(X,I(1)) S I=0 Q
"RTN","ONCOCFL1",159,0)
 Q
"RTN","ONCOCFL1",160,0)
 ;
"RTN","ONCOCFL1",161,0)
RPT ;Report
"RTN","ONCOCFL1",162,0)
 N ONCOST,ONCOEN
"RTN","ONCOCFL1",163,0)
 S ONCOST="L",ONCOEN="LS" G RPT^ONCOCFL
"RTN","ONCOCFL1",164,0)
 ;
"RTN","ONCOCFL1",165,0)
DIV ;Check division
"RTN","ONCOCFL1",166,0)
 ;Supported by IA #5343
"RTN","ONCOCFL1",167,0)
 S DVMTCH=1,INST=""
"RTN","ONCOCFL1",168,0)
 I LRSS="AU" D
"RTN","ONCOCFL1",169,0)
 .S LBACC=$P($G(^LR(LRDFN,LRSS)),U,6)
"RTN","ONCOCFL1",170,0)
 .S LBYEAR=$P($G(^LR(LRDFN,LRSS)),U,1)
"RTN","ONCOCFL1",171,0)
 I LRSS'="AU" D
"RTN","ONCOCFL1",172,0)
 .S LBACC=$P($G(^LR(LRDFN,LRSS,LRI,0)),U,6)
"RTN","ONCOCFL1",173,0)
 .S LBYEAR=$P($G(^LR(LRDFN,LRSS,LRI,0)),U,1)
"RTN","ONCOCFL1",174,0)
 I (LBACC="")!(LBYEAR="") Q
"RTN","ONCOCFL1",175,0)
 I LBACC["LEGACY" S DVMTCH=0 Q
"RTN","ONCOCFL1",176,0)
 S LBAREA=$P(LBACC," ",1) I LBAREA="" Q
"RTN","ONCOCFL1",177,0)
 S LBNUM=$P(LBACC," ",3) I LBNUM="" Q
"RTN","ONCOCFL1",178,0)
 S ACCIEN=$O(^LRO(68,"B",LBAREA,"")) I ACCIEN="" Q
"RTN","ONCOCFL1",179,0)
 S LBYEAR=$E(LBYEAR,1,3)_"0000"
"RTN","ONCOCFL1",180,0)
 S INST=$G(^LRO(68,ACCIEN,1,LBYEAR,1,LBNUM,.4)) I INST="" Q
"RTN","ONCOCFL1",181,0)
 I AFFDIV'[INST S DVMTCH=0
"RTN","ONCOCFL1",182,0)
 Q
"RTN","ONCOCFL1",183,0)
 ;
"RTN","ONCOCFL1",184,0)
SNOMED ;Build SNOMED array for benign brain tumors
"RTN","ONCOCFL1",185,0)
 S BBT(45000)=""
"RTN","ONCOCFL1",186,0)
 S BBT(45010)=""
"RTN","ONCOCFL1",187,0)
 S BBT(45020)=""
"RTN","ONCOCFL1",188,0)
 S BBT(45030)=""
"RTN","ONCOCFL1",189,0)
 S BBT(45100)=""
"RTN","ONCOCFL1",190,0)
 S BBT(45110)=""
"RTN","ONCOCFL1",191,0)
 S BBT(45120)=""
"RTN","ONCOCFL1",192,0)
 S BBT(45300)=""
"RTN","ONCOCFL1",193,0)
 S BBT(45300)=""
"RTN","ONCOCFL1",194,0)
 S BBT(45301)=""
"RTN","ONCOCFL1",195,0)
 S BBT(45302)=""
"RTN","ONCOCFL1",196,0)
 S BBT(45303)=""
"RTN","ONCOCFL1",197,0)
 S BBT(45304)=""
"RTN","ONCOCFL1",198,0)
 S BBT(45305)=""
"RTN","ONCOCFL1",199,0)
 S BBT(45520)=""
"RTN","ONCOCFL1",200,0)
 S BBT(45521)=""
"RTN","ONCOCFL1",201,0)
 S BBT(45522)=""
"RTN","ONCOCFL1",202,0)
 S BBT(45523)=""
"RTN","ONCOCFL1",203,0)
 S BBT(45524)=""
"RTN","ONCOCFL1",204,0)
 S BBT(45525)=""
"RTN","ONCOCFL1",205,0)
 Q
"RTN","ONCOCFL1",206,0)
 ;
"RTN","ONCOCFL1",207,0)
EX ;KILL variables
"RTN","ONCOCFL1",208,0)
 D ^%ZISC
"RTN","ONCOCFL1",209,0)
 K %ZIS
"RTN","ONCOCFL1",210,0)
 K ACCIEN,AFFDIV,BBT,D,DA,DIC,DIE,DIR,DR,DVMTCH,DZCODE,DZMORP,DZPTR,DZX
"RTN","ONCOCFL1",211,0)
 K I,INST,LBACC,LBAREA,LBNUM,LBYEAR,LD,LRD,LRDFN,LRI,LRLDT,LRLST,LRM,LRN
"RTN","ONCOCFL1",212,0)
 K LRSDT,LRSS,LRSTR,LRT,LRXR,M,ONCDIVS,ONCDIVSP,ONCIEN,ONCMRPH,ONCO,ONCS
"RTN","ONCOCFL1",213,0)
 K ONCSUB,ONLDT,ONSDT,OSP,POP,SDDEF,SNOMED,SR,T,TIS,W,X,XD0,XD1,XD2,XDT
"RTN","ONCOCFL1",214,0)
 K XDX,Y,Z,SBCIND
"RTN","ONCOCFL1",215,0)
 Q
"RTN","ONCOCFP")
0^174^B50437593
"RTN","ONCOCFP",1,0)
ONCOCFP ;Hines OIFO/GWB - [PT Automatic Casefinding-PTF Search] ;05/03/12
"RTN","ONCOCFP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCFP",3,0)
 ;
"RTN","ONCOCFP",4,0)
 ; rvd - 0403/12 p56. Use ICD API (#3990) instead of direct global call
"RTN","ONCOCFP",5,0)
 W @IOF
"RTN","ONCOCFP",6,0)
 W !!!?10,"****************** PTF CASEFINDING ******************",!
"RTN","ONCOCFP",7,0)
 W !?10,"This option will search the PRINCIPLE DIAGNOSIS and"
"RTN","ONCOCFP",8,0)
 W !?10,"SECONDARY DIAGNOSIS fields of the PTF file for ICD"
"RTN","ONCOCFP",9,0)
 W !?10,"codes which identify cases to be added to the Suspense"
"RTN","ONCOCFP",10,0)
 W !?10,"list."
"RTN","ONCOCFP",11,0)
 ;
"RTN","ONCOCFP",12,0)
T ;Start Date/End Date
"RTN","ONCOCFP",13,0)
 N SDDEF
"RTN","ONCOCFP",14,0)
 W !
"RTN","ONCOCFP",15,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCFP",16,0)
 I OSP="" D  Q
"RTN","ONCOCFP",17,0)
 .W !?10,"Casefinding requires an ONCOLOGY SITE PARAMETER"
"RTN","ONCOCFP",18,0)
 .W !?10,"entry which matches the user's login DIVISION."
"RTN","ONCOCFP",19,0)
 .W !?10,"There is no ONCOLOGY SITE PARAMETER for DIVISION:"
"RTN","ONCOCFP",20,0)
 .W !?10,$P($G(^DIC(4,DUZ(2),0)),U,1)
"RTN","ONCOCFP",21,0)
 S SDDEF=$P(^ONCO(160.1,OSP,0),U,7)
"RTN","ONCOCFP",22,0)
 I SDDEF="" S SDDEF=DT
"RTN","ONCOCFP",23,0)
 S SDDEF=$E(SDDEF,4,5)_"-"_$E(SDDEF,6,7)_"-"_($E(SDDEF,1,3)+1700)
"RTN","ONCOCFP",24,0)
SD K DIR
"RTN","ONCOCFP",25,0)
 S DIR(0)="D"
"RTN","ONCOCFP",26,0)
 S DIR("A")="          Start Date"
"RTN","ONCOCFP",27,0)
 S DIR("B")=SDDEF
"RTN","ONCOCFP",28,0)
 D ^DIR
"RTN","ONCOCFP",29,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFP",30,0)
 I (Y>DT) W "  Future dates not allowed" G SD
"RTN","ONCOCFP",31,0)
 S (SD,X)=Y D DD^%DT W "  ",Y
"RTN","ONCOCFP",32,0)
ED K DIR
"RTN","ONCOCFP",33,0)
 S DIR(0)="D"
"RTN","ONCOCFP",34,0)
 S DIR("A")="            End Date"
"RTN","ONCOCFP",35,0)
 D ^DIR
"RTN","ONCOCFP",36,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFP",37,0)
 I (Y<SD) W "  Invalid date sequence" G T
"RTN","ONCOCFP",38,0)
 I (Y>DT) W "  Future dates not allowed" G ED
"RTN","ONCOCFP",39,0)
 S $P(^ONCO(160.1,OSP,0),U,7)=Y
"RTN","ONCOCFP",40,0)
 S (ED,X)=Y D DD^%DT W "  ",Y
"RTN","ONCOCFP",41,0)
 W !
"RTN","ONCOCFP",42,0)
 K DIR
"RTN","ONCOCFP",43,0)
 S DIR(0)="Y"
"RTN","ONCOCFP",44,0)
 S DIR("A")="          Dates OK"
"RTN","ONCOCFP",45,0)
 S DIR("B")="Y"
"RTN","ONCOCFP",46,0)
 D ^DIR
"RTN","ONCOCFP",47,0)
 G EX:(Y="")!(Y[U)
"RTN","ONCOCFP",48,0)
 G T:'Y
"RTN","ONCOCFP",49,0)
 S ONCO("SD")=SD,ONCO("ED")=ED
"RTN","ONCOCFP",50,0)
 W !!?3,"The following ICD codes will be searched for:"
"RTN","ONCOCFP",51,0)
 W !
"RTN","ONCOCFP",52,0)
 W !?3,"140-239        NEOPLASMS"
"RTN","ONCOCFP",53,0)
 W !?3,"               (excluding benign neoplasms 210-229 unless listed below)"
"RTN","ONCOCFP",54,0)
 W !?3,"042.2          HIV WITH SPECIFIED MALIGNANT NEOPLASMS"
"RTN","ONCOCFP",55,0)
 W !?3,"225.0-225.9    BENIGN NEOPLASMS OF BRAIN AND OTHER PARTS OF NERVOUS SYSTEM"
"RTN","ONCOCFP",56,0)
 W !?3,"227.3          BENIGN NEOPLASM OF PITUITARY GLAND AND CRANIOPHARYNGEAL DUCT"
"RTN","ONCOCFP",57,0)
 W !?3,"227.4          BENIGN NEOPLASM OF PINEAL GLAND"
"RTN","ONCOCFP",58,0)
 W !?3,"228.02         HEMANGIOMA INTRACRANIAL"
"RTN","ONCOCFP",59,0)
 W !?3,"259.2          CARCINOID SYNDROME"
"RTN","ONCOCFP",60,0)
 W !?3,"273.1-273.9    DISORDERS OF PLASMA PROTEIN METABOLISM"
"RTN","ONCOCFP",61,0)
 W !?3,"284.9          ANAPLASTIC ANEMIA, UNSPECIFIED"
"RTN","ONCOCFP",62,0)
 W !?3,"285.0          SIDEROBLASTIC ANEMIA"
"RTN","ONCOCFP",63,0)
 W !?3,"288.3          EOSINOPHILIA"
"RTN","ONCOCFP",64,0)
 W !?3,"288.4          HEMOPHAGOCYTIC SYNDROMES"
"RTN","ONCOCFP",65,0)
 W !?3,"289.6          FAMILIAL POLYCYTHEMIA"
"RTN","ONCOCFP",66,0)
 W !?3,"289.8          OTHER SPECIFIED DISEASES OF BLOOD AND BLOOD-FORMING ORGANS"
"RTN","ONCOCFP",67,0)
 W !?3,"289.83         MYELOFIBROSIS"
"RTN","ONCOCFP",68,0)
 W !?3,"795.06         PAPANICOLAOU SMEAR OF CERVIX WITH CYTOLOGIC EVIDENCE OF"
"RTN","ONCOCFP",69,0)
 W !?3,"               MALIGNANCY"
"RTN","ONCOCFP",70,0)
 W !?3,"795.16         PAP SMR VAG-CYTOL MALIG"
"RTN","ONCOCFP",71,0)
 W !?3,"796.76         PAP SMR ANUS-CYTOL MALIG"
"RTN","ONCOCFP",72,0)
 ;
"RTN","ONCOCFP",73,0)
 ;NOTE: Code 795.76 is incorrect in the ICD DIAGNOSIS (80) file.
"RTN","ONCOCFP",74,0)
 ;      It is appears as 796.76.  PTF casefinding will look for both
"RTN","ONCOCFP",75,0)
 ;      795.76 and 796.76.
"RTN","ONCOCFP",76,0)
 ;
"RTN","ONCOCFP",77,0)
 W !?3,"V07.3          NEED FOR OTHER PROPHYLACTIC CHEMOTHERAPY"
"RTN","ONCOCFP",78,0)
 W !?3,"V07.8          NEED FOR OTHER SPECIFIED PROPHYLACTIC MEASURE"
"RTN","ONCOCFP",79,0)
 W !?3,"V10.00-V10.09  GASTROINTESINAL TRACT"
"RTN","ONCOCFP",80,0)
 W !?3,"V12.41         PERS HX BENIGN NEOPL OF BRAIN"
"RTN","ONCOCFP",81,0)
 W !?3,"V58.0          ENCOUNTER FOR RADIOTHERAPY"
"RTN","ONCOCFP",82,0)
 W !?3,"V58.1          ENCOUNTER FOR CHEMOTHERAPY"
"RTN","ONCOCFP",83,0)
 W !?3,"V58.11         ANTINEOPLASTIC CHEMO ENC"
"RTN","ONCOCFP",84,0)
 W !?3,"V58.12         IMMUNOTHERAPY ENCOUNTER"
"RTN","ONCOCFP",85,0)
 W !?3,"V66.1-V66.2    CONVALESCENCE FOLLOWING RADIOTHERAPY/CHEMOTHERAPY"
"RTN","ONCOCFP",86,0)
 W !?3,"V67.1-V67.2    FOLLOW-UP EXAMINATION FOLLOWING RADIOTHERAPY/CHEMOTHERAPY"
"RTN","ONCOCFP",87,0)
 W !?3,"V71.1          OBSV-SUSPCT MAL NEOPLASM"
"RTN","ONCOCFP",88,0)
 W !?3,"V76.0-V76.9    SPECIAL SCREENING FOR MALIGNANT NEOPLASMS"
"RTN","ONCOCFP",89,0)
 W !
"RTN","ONCOCFP",90,0)
 S %ZIS="Q" D ^%ZIS I POP G EX
"RTN","ONCOCFP",91,0)
 I '$D(IO("Q")) D SER^ONCOCFP G EX
"RTN","ONCOCFP",92,0)
 S ZTRTN="SER^ONCOCFP",ZTSAVE("ONCO*")="",ZTDESC="ONCOLOGY PTF SEARCH"
"RTN","ONCOCFP",93,0)
 D ^%ZTLOAD
"RTN","ONCOCFP",94,0)
 G EX
"RTN","ONCOCFP",95,0)
 ;
"RTN","ONCOCFP",96,0)
SER ;Search PTF file (#45) file
"RTN","ONCOCFP",97,0)
 ;Supported by IA #418
"RTN","ONCOCFP",98,0)
 S AFFDIV=$G(DUZ(2)),ONCDIVSP=$O(^ONCO(160.1,"C",AFFDIV,""))
"RTN","ONCOCFP",99,0)
 I ONCDIVSP="" W !!,"User does not have an associated DIVISION",!! G EX
"RTN","ONCOCFP",100,0)
 F Z=0:0 S Z=$O(^ONCO(160.1,ONCDIVSP,6,Z)) Q:Z'>0  S AFFDIV=AFFDIV_U_$G(^ONCO(160.1,ONCDIVSP,6,Z,0))
"RTN","ONCOCFP",101,0)
 K ^TMP("ONCO",$J)
"RTN","ONCOCFP",102,0)
 S XDT=ONCO("SD")-.1111111
"RTN","ONCOCFP",103,0)
 S XED=ONCO("ED")+.9999999
"RTN","ONCOCFP",104,0)
 S ^TMP("ONCO",$J,0)=0
"RTN","ONCOCFP",105,0)
 F  S XDT=$O(^DGPT("ADS",XDT)) Q:(XDT>XED)!(XDT="")  S D0=$O(^(XDT,0)),X70=$G(^DGPT(D0,70)),X71=$G(^DGPT(D0,71)) I X70'="" D IC
"RTN","ONCOCFP",106,0)
 I $G(^TMP("ONCO",$J,0))=0 G WP
"RTN","ONCOCFP",107,0)
 E  D
"RTN","ONCOCFP",108,0)
 .S DIC="^ONCO(160,"
"RTN","ONCOCFP",109,0)
 .S BY="@75,INTERNAL(#3),75,.01"
"RTN","ONCOCFP",110,0)
 .S FR=DUZ(2)_","_ONCO("SD"),TO=DUZ(2)_","_ONCO("ED")
"RTN","ONCOCFP",111,0)
 .S FLDS="[ONCO PTF-CASEFINDING RPT]"
"RTN","ONCOCFP",112,0)
 S L=0,IOP=ION,DIOEND="D WP^ONCOCFP"
"RTN","ONCOCFP",113,0)
 D EN1^DIP G EX
"RTN","ONCOCFP",114,0)
 ;
"RTN","ONCOCFP",115,0)
WP ;Wrap-up report
"RTN","ONCOCFP",116,0)
 W !?3,$G(^TMP("ONCO",$J,0))_" PTF cases added to Suspense"
"RTN","ONCOCFP",117,0)
 Q
"RTN","ONCOCFP",118,0)
 ;
"RTN","ONCOCFP",119,0)
IC ;Search for ICD codes
"RTN","ONCOCFP",120,0)
 K HT,IC9,IC,ICD,ICP
"RTN","ONCOCFP",121,0)
 S P="",CI=0
"RTN","ONCOCFP",122,0)
 F F=10,16:1:24 S ICP=+$P(X70,U,F) I ICP S ICD=$$ICDDX^ICDCODE(ICP),IC9=$P(ICD,U,2) D FD Q:CI=1
"RTN","ONCOCFP",123,0)
 I X71'="",CI=0 F F=1,2,3,4 S ICP=+$P(X71,U,F) I ICP S ICD=$$ICDDX^ICDCODE(ICP),IC9=$P(ICD,U,1) D FD Q:CI=1
"RTN","ONCOCFP",124,0)
 Q:CI=0  G CK
"RTN","ONCOCFP",125,0)
 ;
"RTN","ONCOCFP",126,0)
FD I ((IC9>139.9)&(IC9<210)) S CI=1 Q
"RTN","ONCOCFP",127,0)
 I ((IC9>224.9)&(IC9<226)) S CI=1 Q
"RTN","ONCOCFP",128,0)
 I (IC9=227.3)!(IC9=227.4)!(IC9=228.02) S CI=1 Q
"RTN","ONCOCFP",129,0)
 I ((IC9>229.9)&(IC9<240)) S CI=1 Q
"RTN","ONCOCFP",130,0)
 I (IC9=259.2)!(IC9=273.1)!(IC9=273.2)!(IC9=273.3)!(IC9=273.9)!(IC9=284.9)!(IC9=288.3)!(IC9=288.4)!(IC9=289.6)!(IC9=289.8)!(IC9=289.83)!(IC9=795.06)!(IC9=795.16)!(IC9=795.76)!(IC9=796.76)!(IC9="042.2")!(IC9="285.0") S CI=1 Q
"RTN","ONCOCFP",131,0)
 I $E(IC9)="V" S CD=$E(IC9,2,5) I ((CD>9)&(CD<11))!(CD=12.41)!(CD="58.0")!(CD=58.1)!(CD=66.1)!(CD=66.2)!(CD=67.1)!(CD=67.2)!(CD=71.1)!(CD="07.3")!(CD="07.8")!($E(CD,1,2)=76) S CI=1 Q
"RTN","ONCOCFP",132,0)
 Q
"RTN","ONCOCFP",133,0)
 ;
"RTN","ONCOCFP",134,0)
CK ;Check ONCOLOGY PATIENT (160) file
"RTN","ONCOCFP",135,0)
 ;Supported by IA #418
"RTN","ONCOCFP",136,0)
 Q:IC9=""
"RTN","ONCOCFP",137,0)
 D DIV Q:DVMTCH=0
"RTN","ONCOCFP",138,0)
 S X=^DGPT(D0,0),ADT=$P($P(X,U,2),"."),X=$P(X,U)_";DPT("
"RTN","ONCOCFP",139,0)
 S XD0=$O(^ONCO(160,"B",X,0)),ONCIEN=XD0 I XD0="" G MR
"RTN","ONCOCFP",140,0)
 I XD0'="" S ONCDIVS="",ONCS="" F  S ONCS=$O(^ONCO(160,XD0,"SUS","C",ONCS)) Q:ONCS'>0  S ONCDIVS=ONCDIVS_U_ONCS
"RTN","ONCOCFP",141,0)
 I ONCDIVS[DUZ(2) Q
"RTN","ONCOCFP",142,0)
 S DA=XD0 I '$D(^ONCO(165.5,"C",XD0)) G N2
"RTN","ONCOCFP",143,0)
 ;
"RTN","ONCOCFP",144,0)
CKP ;Check ONCOLOGY PRIMARY (165.5) file
"RTN","ONCOCFP",145,0)
 S XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $$DIV^ONCFUNC(XD1)=DUZ(2) D
"RTN","ONCOCFP",146,0)
 .S XDX=$P($G(^ONCO(165.5,XD1,0)),U,16) I XDT>(ADT-1)&(XDX<($P(XDT,".")+1)) S HT=1 Q
"RTN","ONCOCFP",147,0)
 .S XDX=$P($G(^ONCO(165.5,XD1,1)),U,10) I XDX=XDT S HT=1 Q
"RTN","ONCOCFP",148,0)
 Q
"RTN","ONCOCFP",149,0)
 ;
"RTN","ONCOCFP",150,0)
MR ;Create ONCOLOGY PATIENT (160) record
"RTN","ONCOCFP",151,0)
 Q:$D(HT)
"RTN","ONCOCFP",152,0)
 K DO S DIC="^ONCO(160,",DIC(0)="Z" D FILE^DICN K DO
"RTN","ONCOCFP",153,0)
 S (ONCIEN,XD0,DA)=+Y
"RTN","ONCOCFP",154,0)
 ;
"RTN","ONCOCFP",155,0)
N2 ;Create SUSPENSE (160.075) record
"RTN","ONCOCFP",156,0)
 N DD,PTFDT,X1,X2
"RTN","ONCOCFP",157,0)
 S X1=ADT,X2=1 D C^%DTC S SDT=X
"RTN","ONCOCFP",158,0)
 S X1=ONCO("SD"),X2=1 D C^%DTC S WSD=X
"RTN","ONCOCFP",159,0)
 S DA(1)=ONCIEN,DIC="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOCFP",160,0)
 K DO S DIC(0)="L",DIC("P")=$P(^DD(160,75,0),U,2),X=$S(SDT<WSD:WSD,1:SDT)
"RTN","ONCOCFP",161,0)
 D FILE^DICN K DO
"RTN","ONCOCFP",162,0)
 K DIE S DA(1)=ONCIEN,DIE="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOCFP",163,0)
 S (ONCSUB,DA)=+Y,PTFDT=$P(XDT,".")
"RTN","ONCOCFP",164,0)
 S DR="1///^S X=DT;2///^S X=""PT"";3////^S X=DUZ(2);7///^S X=PTFDT;8////^S X=ICP"
"RTN","ONCOCFP",165,0)
 D ^DIE
"RTN","ONCOCFP",166,0)
 S ^TMP("ONCO",$J,0)=^TMP("ONCO",$J,0)+1
"RTN","ONCOCFP",167,0)
 Q
"RTN","ONCOCFP",168,0)
 ;
"RTN","ONCOCFP",169,0)
DIV ;DIVISION match
"RTN","ONCOCFP",170,0)
 ;Supported by IAs #417 and #1378
"RTN","ONCOCFP",171,0)
 N PTFD0,PTMV,WL
"RTN","ONCOCFP",172,0)
 S DVMTCH=1,INST=""
"RTN","ONCOCFP",173,0)
 S PTFD0=D0,PTMV=$O(^DGPM("APTF",PTFD0,"")) I PTMV="" Q
"RTN","ONCOCFP",174,0)
 S WL=$P($G(^DGPM(PTMV,0)),U,6) I WL="" Q
"RTN","ONCOCFP",175,0)
 S MCDV=$P($G(^DIC(42,WL,0)),U,11) I MCDV="" Q
"RTN","ONCOCFP",176,0)
 S INST=$P($G(^DG(40.8,MCDV,0)),U,7) I INST="" Q
"RTN","ONCOCFP",177,0)
 I AFFDIV'[INST S DVMTCH=0 Q
"RTN","ONCOCFP",178,0)
 Q
"RTN","ONCOCFP",179,0)
 ;
"RTN","ONCOCFP",180,0)
EX ;KILL variables
"RTN","ONCOCFP",181,0)
 K %DT,%T,%ZIS,ADT,AFFDIV,BY,CD,CI,D0,DA,DD,DIC,DIE,DIOEND,DIR,DO,DR
"RTN","ONCOCFP",182,0)
 K DVMTCH,ED,F,FLDS,FR,GLO,HT,IC,IC9,ICD,ICP,INST,IOP,L,MCDV,NM,O2
"RTN","ONCOCFP",183,0)
 K ONCDIVS,ONCDIVSP,ONCIEN,ONCO,ONCS,ONCSUB,OSP,P,POP,PTFD0,PTFDT,PTMV
"RTN","ONCOCFP",184,0)
 K SD,SDDEF,SDT,TO,WED,WSD,X,X1,X2,X70,X71,XD0,XD1,XDT,XDX,XED,Y,Z
"RTN","ONCOCFP",185,0)
 K ZTDESC,ZTRTN,ZTSAVE
"RTN","ONCOCFP",186,0)
 K ^TMP("ONCO",$J)
"RTN","ONCOCFP",187,0)
 D ^%ZISC
"RTN","ONCOCFP",188,0)
 Q
"RTN","ONCOCFR")
0^175^B30967942
"RTN","ONCOCFR",1,0)
ONCOCFR ;Hines OIFO/GWB - RADIOLOGY CASEFINDING ;05/07/12
"RTN","ONCOCFR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCFR",3,0)
 ;rvd - 05/07/12. Add the word 'cancer' to the search criteria
"RTN","ONCOCFR",4,0)
 ;
"RTN","ONCOCFR",5,0)
ST ;Start RAD/NUC MED PATIENT (70) file search
"RTN","ONCOCFR",6,0)
 W @IOF
"RTN","ONCOCFR",7,0)
 W !!!?10,"******** RADIOLOGY: SUSPICIOUS MALIGNANCY SEARCH ********",!
"RTN","ONCOCFR",8,0)
 W !?10,"This option will search the RAD/NUC MED PATIENT file"
"RTN","ONCOCFR",9,0)
 W !?10,"for cases to add to the Suspense List."
"RTN","ONCOCFR",10,0)
MG S MG=0,D0=0 F  S D0=$O(^RA(78.3,"B",D0)) Q:D0=""  S XX=$TR(D0,"malig","MALIG") I XX["MALIG" S MG=$O(^(D0,0)) Q
"RTN","ONCOCFR",11,0)
 G T:MG W !!?15,"MALIGNACY diagnostic code is not defined in the"
"RTN","ONCOCFR",12,0)
 W !?15,"Radiology Diagnostic Codes File (#78.3). Please"
"RTN","ONCOCFR",13,0)
 W !?15,"REQUEST Radiology to code suspicious MALIGNANCIES"
"RTN","ONCOCFR",14,0)
 W !!!?10,"MUST terminate Radiology Search - no meaningful search code" G EX
"RTN","ONCOCFR",15,0)
 ;
"RTN","ONCOCFR",16,0)
T ;Start Date/End Date
"RTN","ONCOCFR",17,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCFR",18,0)
 I OSP="" D  Q
"RTN","ONCOCFR",19,0)
 .W !!?10,"Casefinding requires an ONCOLOGY SITE PARAMETER"
"RTN","ONCOCFR",20,0)
 .W !?10,"entry which matches the user's login DIVISION."
"RTN","ONCOCFR",21,0)
 .W !?10,"There is no ONCOLOGY SITE PARAMETER for DIVISION:"
"RTN","ONCOCFR",22,0)
 .W !?10,$P($G(^DIC(4,DUZ(2),0)),U,1)
"RTN","ONCOCFR",23,0)
 S Y=$P(^ONCO(160.1,OSP,0),U,6)
"RTN","ONCOCFR",24,0)
 I Y="" S Y=DT
"RTN","ONCOCFR",25,0)
 S Y=$E(Y,4,5)_"-"_$E(Y,6,7)_"-"_($E(Y,1,3)+1700)
"RTN","ONCOCFR",26,0)
 K DIR
"RTN","ONCOCFR",27,0)
 S DIR("B")=Y
"RTN","ONCOCFR",28,0)
 W !
"RTN","ONCOCFR",29,0)
 S DIR("A")="          Start Date",DIR(0)="D" D ^DIR
"RTN","ONCOCFR",30,0)
 G EX:Y<1!(Y[U)
"RTN","ONCOCFR",31,0)
 S (SD,X)=Y D DD^%DT W "  ",Y S WSD=Y
"RTN","ONCOCFR",32,0)
 K DIR
"RTN","ONCOCFR",33,0)
 S DIR("A")="            End Date",DIR(0)="D" D ^DIR
"RTN","ONCOCFR",34,0)
 G EX:Y=""!(Y[U)
"RTN","ONCOCFR",35,0)
 I Y<SD!(Y>DT) W *7,?40,"Invalid date sequence!!",! G T
"RTN","ONCOCFR",36,0)
 S $P(^ONCO(160.1,OSP,0),U,6)=Y
"RTN","ONCOCFR",37,0)
 S (ED,X)=Y D DD^%DT W "  ",Y,!
"RTN","ONCOCFR",38,0)
 S WED=Y
"RTN","ONCOCFR",39,0)
 S DIR("A")="          Dates OK",DIR("B")="Y",DIR(0)="Y" D ^DIR
"RTN","ONCOCFR",40,0)
 G T:'Y,EX:Y[U!(Y="")
"RTN","ONCOCFR",41,0)
 W !!?15,"We will find suspicious malignancies"
"RTN","ONCOCFR",42,0)
 W !?15,"From: ",WSD_" To: "_WED,!
"RTN","ONCOCFR",43,0)
 W ! S ONCO("SD")=SD,ONCO("ED")=ED,ONCO("MG")=MG
"RTN","ONCOCFR",44,0)
 ;
"RTN","ONCOCFR",45,0)
TSK ;Create task
"RTN","ONCOCFR",46,0)
 K IO("Q") S %ZIS="Q" D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOCFR",47,0)
 I '$D(IO("Q")) D SER^ONCOCFR G EX
"RTN","ONCOCFR",48,0)
 S ZTRTN="SER^ONCOCFR",ZTSAVE("ONCO*")="",ZTDESC="ONCOLOGY RADIOLOGY SEARCH" D ^%ZTLOAD G EX
"RTN","ONCOCFR",49,0)
 ;
"RTN","ONCOCFR",50,0)
SER ;Search RAD/NUC MED PATIENT (70) file/Set multidivisional variables
"RTN","ONCOCFR",51,0)
 S AFFDIV=$G(DUZ(2)),ONCDIVSP=$O(^ONCO(160.1,"C",AFFDIV,""))
"RTN","ONCOCFR",52,0)
 I ONCDIVSP="" W !!,"User does not have an associated DIVISION!",!! G EX
"RTN","ONCOCFR",53,0)
 F Z=0:0 S Z=$O(^ONCO(160.1,ONCDIVSP,6,Z)) Q:Z'>0  S AFFDIV=AFFDIV_U_$G(^ONCO(160.1,ONCDIVSP,6,Z,0))
"RTN","ONCOCFR",54,0)
 K ^TMP("ONCO",$J) S (XSD,XDT)=ONCO("SD")-.1111111,XED=ONCO("ED")+.9999999,MG=ONCO("MG") F J=0,1,2 S ^TMP("ONCO",$J,J)=0
"RTN","ONCOCFR",55,0)
 F  S XDT=$O(^RADPT("AR",XDT)) Q:XDT=""!(XDT>XED)  S D0=0 F  S D0=$O(^RADPT("AR",XDT,D0)) Q:D0'>0  S D1=$O(^RADPT("AR",XDT,D0,0)) D
"RTN","ONCOCFR",56,0)
 .S D2=0 F  S D2=$O(^RADPT(D0,"DT",D1,"P",D2)) Q:D2'>0  D
"RTN","ONCOCFR",57,0)
 ..S RA0=$G(^(D2,0)) I RA0="" Q
"RTN","ONCOCFR",58,0)
 ..S PC13=$P(RA0,U,13) I PC13="" Q
"RTN","ONCOCFR",59,0)
 ..S EXP=$$GET1^DIQ(78.3,PC13,6),EXP=$TR(EXP,"malig","MALIG"),EXP=$TR(EXP,"Suspicious","SUSPICIOUS")
"RTN","ONCOCFR",60,0)
 ..S MG=$P($G(^RA(78.3,PC13,0)),U,1),MG=$TR(MG,"malig","MALIG"),MG=$TR(MG,"cancer","CANCER")
"RTN","ONCOCFR",61,0)
 ..I (MG["MALIG")!(MG["CANCER")!(EXP["MALIG")!(EXP["SUSPICIOUS") S RA($P(^RADPT(D0,0),U))=$P(XDT,".")_U_$P(RA0,U,2)_U_D1
"RTN","ONCOCFR",62,0)
 ..S D3=0 F  S D3=$O(^RADPT(D0,"DT",D1,"P",D2,"DX",D3)) Q:D3'>0  D
"RTN","ONCOCFR",63,0)
 ...S RASDC0=$G(^(D3,0)) I RASDC0="" Q
"RTN","ONCOCFR",64,0)
 ...S PC1=$P(RASDC0,U,1) I PC1="" Q
"RTN","ONCOCFR",65,0)
 ...S EXP=$$GET1^DIQ(78.3,PC1,6),EXP=$TR(EXP,"malig","MALIG"),EXP=$TR(EXP,"Suspicious","SUSPICIOUS")
"RTN","ONCOCFR",66,0)
 ...S MG=$P($G(^RA(78.3,PC1,0)),U,1),MG=$TR(MG,"malig","MALIG"),MG=$TR(MG,"cancer","CANCER")
"RTN","ONCOCFR",67,0)
 ...I (MG["MALIG")!(MG["CANCER")!(EXP["MALIG")!(EXP["SUSPICIOUS") S RA($P(^RADPT(D0,0),U))=$P(XDT,".")_U_$P(RA0,U,2)_U_D1
"RTN","ONCOCFR",68,0)
 ;
"RTN","ONCOCFR",69,0)
CK ;Check ONCOLOGY PATIENT (160) file
"RTN","ONCOCFR",70,0)
GT S XX=0 F  S XX=$O(RA(XX)) Q:XX=""  D
"RTN","ONCOCFR",71,0)
 .D DIV Q:DVMTCH=0
"RTN","ONCOCFR",72,0)
 .S ^TMP("ONCO",$J,0)=^TMP("ONCO",$J,0)+1
"RTN","ONCOCFR",73,0)
 .S HT=0,X=XX_";DPT("
"RTN","ONCOCFR",74,0)
 .S XDT=$P(RA(XX),U),XD0=$O(^ONCO(160,"B",X,0)),ONCIEN=XD0
"RTN","ONCOCFR",75,0)
 .I XD0="" D MR Q
"RTN","ONCOCFR",76,0)
 .I XD0'="" S ONCDIVS="",ONCS="" F  S ONCS=$O(^ONCO(160,XD0,"SUS","C",ONCS)) Q:ONCS'>0  S ONCDIVS=ONCDIVS_U_ONCS
"RTN","ONCOCFR",77,0)
 .I ONCDIVS'[DUZ(2) D
"RTN","ONCOCFR",78,0)
 ..S (D0,DA)=XD0 I '$D(^ONCO(165.5,"C",XD0)) D N2 Q
"RTN","ONCOCFR",79,0)
 ..I $D(^ONCO(165.5,"C",XD0)) D CKP I 'HT D N2 Q
"RTN","ONCOCFR",80,0)
 .Q
"RTN","ONCOCFR",81,0)
 ;
"RTN","ONCOCFR",82,0)
RPT ; Generate report
"RTN","ONCOCFR",83,0)
 I $G(^TMP("ONCO",$J,2))=0 S DIC="^ONCO(160.1,",BY="[ONCO NEG-REPORT]"
"RTN","ONCOCFR",84,0)
 E  D
"RTN","ONCOCFR",85,0)
 .S DIC="^ONCO(160,"
"RTN","ONCOCFR",86,0)
 .S BY="@75,INTERNAL(#3),75,.01"
"RTN","ONCOCFR",87,0)
 .S FR=DUZ(2)_","_ONCO("SD"),TO=DUZ(2)_","_ONCO("ED")
"RTN","ONCOCFR",88,0)
 .S FLDS="[ONCO RAD-CASEFINDING RPT]"
"RTN","ONCOCFR",89,0)
 .Q
"RTN","ONCOCFR",90,0)
 ;
"RTN","ONCOCFR",91,0)
PRT ; Call print routine
"RTN","ONCOCFR",92,0)
 S L=0,IOP=ION,DIOEND="D WP^ONCOCFR"
"RTN","ONCOCFR",93,0)
 D EN1^DIP G EX
"RTN","ONCOCFR",94,0)
 ;
"RTN","ONCOCFR",95,0)
WP ; Wrap-up report
"RTN","ONCOCFR",96,0)
 W !!!?30,"RADIOLOGY CASEFINDING RESULTS"
"RTN","ONCOCFR",97,0)
 W !!?30,^TMP("ONCO",$J,0)_" Cases found",!?30,^TMP("ONCO",$J,1)_" New Patients added",!?30,^TMP("ONCO",$J,2)_" New cases added",!!
"RTN","ONCOCFR",98,0)
 Q
"RTN","ONCOCFR",99,0)
 ;
"RTN","ONCOCFR",100,0)
CKP ;CHECK Primary File
"RTN","ONCOCFR",101,0)
 S XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $$DIV^ONCFUNC(XD1)=DUZ(2) D
"RTN","ONCOCFR",102,0)
 .S XDX=$P($G(^ONCO(165.5,XD1,0)),U,16) I XDX=XDT S HT=1 Q
"RTN","ONCOCFR",103,0)
 .S XDX=$P($G(^ONCO(165.5,XD1,1)),U,10) I XDX=XDT S HT=1 Q
"RTN","ONCOCFR",104,0)
 .Q
"RTN","ONCOCFR",105,0)
 Q
"RTN","ONCOCFR",106,0)
 ;
"RTN","ONCOCFR",107,0)
MR ;Create new ONCOLOGY PATIENT (160) record
"RTN","ONCOCFR",108,0)
 S DIC="^ONCO(160,",DIC(0)="Z" D FILE^DICN S (ONCIEN,D0,DA)=+Y,^TMP("ONCO",$J,1)=^TMP("ONCO",$J,1)+1
"RTN","ONCOCFR",109,0)
N2 ;Create new SUSPENSE (160,75) record
"RTN","ONCOCFR",110,0)
 K DD,DO
"RTN","ONCOCFR",111,0)
 S DA(1)=ONCIEN,DIC="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOCFR",112,0)
 S DIC(0)="L",DIC("P")=$P(^DD(160,75,0),U,2),X=XDT
"RTN","ONCOCFR",113,0)
 D FILE^DICN
"RTN","ONCOCFR",114,0)
 K DIE S DA(1)=ONCIEN,DIE="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOCFR",115,0)
 S (ONCSUB,DA)=+Y,RDP=$P(RA(XX),U,2)
"RTN","ONCOCFR",116,0)
 S DR="1///^S X=DT;2///^S X=""RA"";3////^S X=DUZ(2);6////^S X=RDP" D ^DIE
"RTN","ONCOCFR",117,0)
 S ^TMP("ONCO",$J,2)=^TMP("ONCO",$J,2)+1
"RTN","ONCOCFR",118,0)
 Q
"RTN","ONCOCFR",119,0)
 ;
"RTN","ONCOCFR",120,0)
DIV ;Division match
"RTN","ONCOCFR",121,0)
 S DVMTCH=1,INST="",RE1=$P(RA(XX),U,3) I RE1="" Q
"RTN","ONCOCFR",122,0)
 S INST=$P($G(^RADPT(XX,"DT",RE1,0)),U,3) I INST="" Q
"RTN","ONCOCFR",123,0)
 I AFFDIV'[INST S DVMTCH=0 Q
"RTN","ONCOCFR",124,0)
 Q
"RTN","ONCOCFR",125,0)
 ;
"RTN","ONCOCFR",126,0)
EX ;EXIT
"RTN","ONCOCFR",127,0)
 K %ZIS,AFFDIV,BY,D0,D1,D2,D3,DA,DIC,DIOEND,DR,DVMTCH,ED,EXP,FLDS,FR,HT
"RTN","ONCOCFR",128,0)
 K INST,IOP,J,L,MG,ONCDIVS,ONCDIVSP,ONCIEN,ONCO,ONCOUT,ONCS,ONCSUB,OSP
"RTN","ONCOCFR",129,0)
 K PC1,PC13,POP,RA,RA0,RASDC0,RDP,RE1,SD,TO,WED,WSD,X,XD0,XD1,XDT,XDX
"RTN","ONCOCFR",130,0)
 K XED,XSD,XX,Y,Z,ZTDESC,ZTRTN,ZTSAVE,ONCDIVSP
"RTN","ONCOCFR",131,0)
 K ^TMP("ONCO",$J)
"RTN","ONCOCFR",132,0)
 D ^%ZISC
"RTN","ONCOCFR",133,0)
 Q
"RTN","ONCOCKI")
0^176^B4437393
"RTN","ONCOCKI",1,0)
ONCOCKI ;Hines OIFO/GWB - Edit checks/INPUT TRANSFORM edit checks ;06/23/10
"RTN","ONCOCKI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCKI",3,0)
 ;
"RTN","ONCOCKI",4,0)
11 S Y=$P(^ONCO(165.5,D0,0),U,2),Y=$S($D(^ONCO(160,+Y,1)):$P(^(1),U,2),1:"") Q:(Y=""!(X<Y)!(X=Y))
"RTN","ONCOCKI",5,0)
 S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700) W !!,"*****DATE DX is after LAST DATE CONTACT***** ",Y,! K X,Y
"RTN","ONCOCKI",6,0)
 Q
"RTN","ONCOCKI",7,0)
ACN ;Accession Number check
"RTN","ONCOCKI",8,0)
 Q:$D(^ONCO(165.5,"AE",X,$P(^ONCO(165.5,D0,0),U,2)))  Q:'$D(^ONCO(165.5,"AE",X))  W *7,?50,"Number is already assigned!!" K X
"RTN","ONCOCKI",9,0)
 Q
"RTN","ONCOCKI",10,0)
SGAN ;SET GREATEST ACCESSION NUMBER @ ACCESSION YEAR
"RTN","ONCOCKI",11,0)
 S YR=$E(X,1,2) I '$D(^ONCO(165.5,"AGAN",YR)) S ^ONCO(165.5,"AGAN",YR)=X G EX
"RTN","ONCOCKI",12,0)
 S:X>^ONCO(165.5,"AGAN",YR) ^(YR)=X G EX
"RTN","ONCOCKI",13,0)
KGAN ;RESET GREATEST ACCESSION NUMBER @YEAR
"RTN","ONCOCKI",14,0)
 S YR=$E(X,1,2) G RE:'$D(^ONCO(165.5,"AGAN",YR)),EX:X<^(YR),GN:X=^(YR)
"RTN","ONCOCKI",15,0)
RE W !?10,"NEED TO RE-INITIALIAZE FILE" G EX
"RTN","ONCOCKI",16,0)
GN ;GET NEXT GREATEST ACCESSION NUMBER
"RTN","ONCOCKI",17,0)
 F AC=X-1:-1:YR_"0001" I $D(^ONCO(165.5,"AE",X)) S ^ONCO(165.5,"AGAN",YR)=AC G EX
"RTN","ONCOCKI",18,0)
 K ^ONCO(165.5,"AGAN",YR) G EX
"RTN","ONCOCKI",19,0)
KACD ;CHECK DELETED NUMBER
"RTN","ONCOCKI",20,0)
 S ^ONCO(165.5,"ACD",YR,$E(X,3,6))="" G EX ;THIS WILL LEAVE LARGE NUMBER IN DELGLED LIST IF NOT CHECKED
"RTN","ONCOCKI",21,0)
 ;
"RTN","ONCOCKI",22,0)
SEQ ;SEQUENCE NUMBER (165.5,.06)
"RTN","ONCOCKI",23,0)
 S XX=$P(^ONCO(165.5,D0,0),U,5)
"RTN","ONCOCKI",24,0)
 I XX="" K X,XX W *7,?50,"No ACCESSION NUMBER assigned",!! Q
"RTN","ONCOCKI",25,0)
 ;S XX=$E(XX,1,4)_"-"_$E(XX,5,9)_"/"_X Q:'$D(^ONCO(165.5,"D",XX))
"RTN","ONCOCKI",26,0)
 ;W *7,?40,XX," is assigned.",! D SDP^ONCOCOM K X,XX Q
"RTN","ONCOCKI",27,0)
 Q
"RTN","ONCOCKI",28,0)
 ;
"RTN","ONCOCKI",29,0)
PSEX ;PATIENT NAME (165.5,.02) INPUT TRANSFORM
"RTN","ONCOCKI",30,0)
 S XX=$P(^ONCO(165.5,D0,0),U,1),XD0=X
"RTN","ONCOCKI",31,0)
SEX Q:(XX<43!(XX>52))
"RTN","ONCOCKI",32,0)
 N SG,SX
"RTN","ONCOCKI",33,0)
 S SX=$P(^ONCO(160,XD0,0),U,8)
"RTN","ONCOCKI",34,0)
 I SX=1 Q:((XX>49)&(XX<53))  D  K X Q
"RTN","ONCOCKI",35,0)
 .S SG=$P($G(^ONCO(164.2,XX,0)),U,1)
"RTN","ONCOCKI",36,0)
 .W !!?10,"SEX = Male.  SITE/GP ",SG," is inappropriate."
"RTN","ONCOCKI",37,0)
 I SX=2 Q:((XX>42)&(XX<49))  D  K X Q
"RTN","ONCOCKI",38,0)
 .S SG=$P($G(^ONCO(164.2,XX,0)),U,1)
"RTN","ONCOCKI",39,0)
 .W !!?10,"SEX = Female.  SITE/GP ",SG," is inappropriate."
"RTN","ONCOCKI",40,0)
 Q
"RTN","ONCOCKI",41,0)
 ;
"RTN","ONCOCKI",42,0)
EX ;Kill variables and Exit
"RTN","ONCOCKI",43,0)
 K AC,YR,XX,XD0
"RTN","ONCOCKI",44,0)
 Q
"RTN","ONCOCKI",45,0)
 ;
"RTN","ONCOCKI",46,0)
CLEANUP ;Cleanup
"RTN","ONCOCKI",47,0)
 K D0
"RTN","ONCOCOC")
0^177^B6349998
"RTN","ONCOCOC",1,0)
ONCOCOC ;Hines OIFO/GWB - COMPUTED FIELDS FOR CASEFINDING REPORTS ;05/25/00
"RTN","ONCOCOC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOC",3,0)
 ;
"RTN","ONCOCOC",4,0)
LAB ;LAB CASEFINDING REPORT (160,53)
"RTN","ONCOCOC",5,0)
 N X
"RTN","ONCOCOC",6,0)
 D GET G EX:O2=""
"RTN","ONCOCOC",7,0)
 S SR=$P(O2,U,3) G EX:$E(SR,1)'="L"
"RTN","ONCOCOC",8,0)
 S SR=$E(SR,2),LRSS=$S(SR="S":"SP",SR="C":"CY",SR="E":"EM",1:"AU")
"RTN","ONCOCOC",9,0)
 S XDT=$P(O2,U,1),MO=$P(O2,U,5),TO=$P(O2,U,6),DZ=$P(O2,U,14)
"RTN","ONCOCOC",10,0)
 S TO=$S(TO="":"None",1:"T-"_$P(^LAB(61,+TO,0),U,2)_"  "_$P(^LAB(61,+TO,0),U,1))
"RTN","ONCOCOC",11,0)
 S MODZ="None"
"RTN","ONCOCOC",12,0)
 I MO S MODZ=$G(^LAB(61.1,+MO,0)),MODZ=$E($P(MODZ,U,2),1,4)_"/"_$E($P(MODZ,U,2),5)_"  "_$P(MODZ,U,1)
"RTN","ONCOCOC",13,0)
 I DZ S MODZ=$G(^LAB(61.4,+DZ,0)),MODZ=$P(MODZ,U,2)_"  "_$P(MODZ,U,1)
"RTN","ONCOCOC",14,0)
 D DT
"RTN","ONCOCOC",15,0)
 W $E(XNM,1,20),?22,$E(XSN,1,6),?29,XDT,?44,LRSS
"RTN","ONCOCOC",16,0)
 I $D(^ONCO(165.5,"C",D0)) D DLC^ONCOCRF,DATEOT^ONCOES W ?54,X
"RTN","ONCOCOC",17,0)
 W !
"RTN","ONCOCOC",18,0)
 W "Topography:",?12,TO,!
"RTN","ONCOCOC",19,0)
 W:MO "Morphology:",?13,MODZ
"RTN","ONCOCOC",20,0)
 W:DZ "Disease:",?15,MODZ
"RTN","ONCOCOC",21,0)
 D SDD^ONCOCOM
"RTN","ONCOCOC",22,0)
 W !,"-------------------------------------------------------------------------------"
"RTN","ONCOCOC",23,0)
 W ! G EX
"RTN","ONCOCOC",24,0)
 ;
"RTN","ONCOCOC",25,0)
PTF ;PTF CASEFINDING REPORT (160,54)
"RTN","ONCOCOC",26,0)
 D GET G EX:O2=""
"RTN","ONCOCOC",27,0)
 S SR=$P(O2,U,3) G EX:$E(SR,1)'="P"
"RTN","ONCOCOC",28,0)
 S IC=$$ICDDX^ICDCODE(+$P(O2,U,9)) G EX:+IC=-1
"RTN","ONCOCOC",29,0)
 S XDT=+$P(O2,U,8)
"RTN","ONCOCOC",30,0)
 D DT
"RTN","ONCOCOC",31,0)
 S XDD=XDT,XDT=$P(O2,U,1)
"RTN","ONCOCOC",32,0)
 D DT
"RTN","ONCOCOC",33,0)
 W $E(XNM,1,20),?22,XSN,?29,XDT_" - "_XDD,!
"RTN","ONCOCOC",34,0)
 W "Diagnosis:",?11,$P(IC,U,2),?19,$P(IC,U,4),!!
"RTN","ONCOCOC",35,0)
 G LST
"RTN","ONCOCOC",36,0)
 ;
"RTN","ONCOCOC",37,0)
RAD ;RADIOLOGY CASEFINDING REPORT (160,58)
"RTN","ONCOCOC",38,0)
 D GET G EX:O2=""
"RTN","ONCOCOC",39,0)
 S SR=$P(O2,U,3) G EX:$E(SR,1)'="R"
"RTN","ONCOCOC",40,0)
 S XDT=$P(O2,U,1),RAD=$P($G(^RAMIS(71,+$P(O2,U,7),0)),U) G EX:RAD=""
"RTN","ONCOCOC",41,0)
 D DT
"RTN","ONCOCOC",42,0)
 ;B "L"
"RTN","ONCOCOC",43,0)
 W $E(XNM,1,29),?31,XSN,?38,XDT,?50,$E(RAD,1,30)
"RTN","ONCOCOC",44,0)
 G LST
"RTN","ONCOCOC",45,0)
 ;
"RTN","ONCOCOC",46,0)
GET ;Set variables
"RTN","ONCOCOC",47,0)
 S XD0=$G(^ONCO(160,D0,0)),GLO="" I XD0="" Q
"RTN","ONCOCOC",48,0)
 S LRDFN=$P(XD0,U,2)
"RTN","ONCOCOC",49,0)
 S VPR=$P(XD0,U)
"RTN","ONCOCOC",50,0)
 S GLO=U_$P(VPR,";",2)_$P(VPR,";"),GL0=GLO_",0)"
"RTN","ONCOCOC",51,0)
 S XPI=$G(@GL0),XNM=$P(XPI,U),SN=$P(XPI,U,9),XSN=$E(XNM,1)_$E(SN,6,9)
"RTN","ONCOCOC",52,0)
 S O2="" I $D(^ONCO(160,D0,"SUS","C",DUZ(2))) D  K SUSIEN
"RTN","ONCOCOC",53,0)
 .S SUSIEN=$O(^ONCO(160,D0,"SUS","C",DUZ(2),0))
"RTN","ONCOCOC",54,0)
 .S O2=^ONCO(160,D0,"SUS",SUSIEN,0)
"RTN","ONCOCOC",55,0)
 Q
"RTN","ONCOCOC",56,0)
 ;
"RTN","ONCOCOC",57,0)
DT ;Format date
"RTN","ONCOCOC",58,0)
 S XDT=$E(XDT,4,5)_"/"_$E(XDT,6,7)_"/"_($E(XDT,1,3)+1700)
"RTN","ONCOCOC",59,0)
 Q
"RTN","ONCOCOC",60,0)
 ;
"RTN","ONCOCOC",61,0)
LST ;Display DATE LAST CONTACT  (160,16) and primary list
"RTN","ONCOCOC",62,0)
 G EX:'$D(^ONCO(165.5,"C",D0))
"RTN","ONCOCOC",63,0)
 D DLC^ONCOCRF,DATEOT^ONCOES
"RTN","ONCOCOC",64,0)
 W !!?25,"Last Contact: ",X
"RTN","ONCOCOC",65,0)
 D SDD^ONCOCOM
"RTN","ONCOCOC",66,0)
 W ! G EX
"RTN","ONCOCOC",67,0)
 ;
"RTN","ONCOCOC",68,0)
EX ;Exit
"RTN","ONCOCOC",69,0)
 S X=""
"RTN","ONCOCOC",70,0)
 K DZ,GL0,GLO,IC,LRDFN,LRSS,MO,MODZ,O2,RAD,SN,SR,TO,VPR,XDT,XD0,XDD,XMO
"RTN","ONCOCOC",71,0)
 K XM1,XNM,XPI,XSN
"RTN","ONCOCOC",72,0)
 Q
"RTN","ONCOCOF")
0^178^B24341196
"RTN","ONCOCOF",1,0)
ONCOCOF ;Hines OIFO/GWB - [RS Registry Summary Reports - Follow Up] ;06/23/10
"RTN","ONCOCOF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOF",3,0)
 ;
"RTN","ONCOCOF",4,0)
FR ;[RS Registry Summary Reports - Follow Up]
"RTN","ONCOCOF",5,0)
 N AA,AB,AC,AD,AE,AF,AG,AN,AS,BEH,CC,MO,ONCODF,PA,PB,PC,PD,PE,PL,PP,PSFC
"RTN","ONCOCOF",6,0)
 N SFC,SITECODE,SITENAME,SUMSTG,T,VV,P100
"RTN","ONCOCOF",7,0)
 F SITENAME="CERVIX","SKIN" D
"RTN","ONCOCOF",8,0)
 .S DIC=164.2,DIC(0)="O",X=SITENAME
"RTN","ONCOCOF",9,0)
 .D ^DIC K DIC,X
"RTN","ONCOCOF",10,0)
 .S SITECODE(SITENAME)=+Y
"RTN","ONCOCOF",11,0)
 K ^TMP($J)
"RTN","ONCOCOF",12,0)
 S (T,AB,AC,AS,AF,AN,AA,CC,P100)=0
"RTN","ONCOCOF",13,0)
 D TOTCASE
"RTN","ONCOCOF",14,0)
 S T=AA+AN
"RTN","ONCOCOF",15,0)
 S X0=0 F  S X0=$O(^TMP($J,X0)) Q:X0'>0  D
"RTN","ONCOCOF",16,0)
 .S ST=$P($G(^ONCO(165.5,X0,0)),U)
"RTN","ONCOCOF",17,0)
 .S MO=$$HIST^ONCFUNC(X0)
"RTN","ONCOCOF",18,0)
 .S SUMSTG=$P($G(^ONCO(165.5,X0,2)),U,17)
"RTN","ONCOCOF",19,0)
 .S BEH=$E(MO,5)
"RTN","ONCOCOF",20,0)
 .D SUB
"RTN","ONCOCOF",21,0)
 S AA=AA-AB-AC-AS-CC-P100
"RTN","ONCOCOF",22,0)
 S FR=T_U_AB_U_AC_U_AS
"RTN","ONCOCOF",23,0)
 S (AB,AC,AD,AE,AF)=0
"RTN","ONCOCOF",24,0)
 S X0=0 F  S X0=$O(^TMP($J,X0)) Q:X0'>0  S PP=$P(^ONCO(165.5,X0,0),U,2),VV=$G(^ONCO(160,PP,1)),ONCODF=$P(VV,U,2),AS=$P(VV,U,7),VV=$P(VV,U) D F
"RTN","ONCOCOF",25,0)
 S AC=AA-AB
"RTN","ONCOCOF",26,0)
 I AA S PB=$J(AB/AA,0,2)*100,PC=$J(AC/AA,0,2)*100,PD=$J(AD/AA,0,2)*100,PE=$J(AE/AA,0,2)*100
"RTN","ONCOCOF",27,0)
 E  S (PB,PC,PD,PE)="N/A" ;avoid division by zero
"RTN","ONCOCOF",28,0)
 I AC S PA=$J(AD/AC,0,2)*100,PL=$J(AE/AC,0,2)*100
"RTN","ONCOCOF",29,0)
 E  S (PA,PL)="N/A" ;avoid division by zero
"RTN","ONCOCOF",30,0)
 S SFC=AA-AE
"RTN","ONCOCOF",31,0)
 I AA S PSFC=$J(SFC/AA,0,2)*100  ;avoid division by zero
"RTN","ONCOCOF",32,0)
 E  S PSFC="N/A"
"RTN","ONCOCOF",33,0)
 S FR=FR_U_AF_U_AN_U_AA_U_AB_U_AC_U_PC_U_PB_U_AD_U_PD_U_AE_U_PE_U_PA_U_PL_U_SFC_U_PSFC_U_CC_U_P100
"RTN","ONCOCOF",34,0)
 S AS=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOF",35,0)
 I AS="" S AS=$O(^ONCO(160.1,0))
"RTN","ONCOCOF",36,0)
 S ^ONCO(160.1,AS,"FR")=FR
"RTN","ONCOCOF",37,0)
 N IOP
"RTN","ONCOCOF",38,0)
 I ONCOS("F")=1 S DIC=160.2,DIC(0)="",X="FOLLOWUP RATE REPORT 1" D ^DIC K DIC,X
"RTN","ONCOCOF",39,0)
 I ONCOS("F")=2 S DIC=160.2,DIC(0)="",X="FOLLOWUP RATE REPORT" D ^DIC K DIC,X
"RTN","ONCOCOF",40,0)
 S IOP=ION
"RTN","ONCOCOF",41,0)
 S DIWF="^ONCO(160.2,"_(+Y)_",1,",DIWF(1)="160.1"
"RTN","ONCOCOF",42,0)
 S BY="NUMBER"
"RTN","ONCOCOF",43,0)
 S (FR,TO)=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOF",44,0)
 I FR="" S (FR,TO)=$O(^ONCO(160.1,0))
"RTN","ONCOCOF",45,0)
 W !!
"RTN","ONCOCOF",46,0)
 D EN2^DIWF K DIWF,BY,FR,TO S IOP=ION D ^%ZIS
"RTN","ONCOCOF",47,0)
 K PA,PB,PC,PD,PE,PL,X0
"RTN","ONCOCOF",48,0)
 Q
"RTN","ONCOCOF",49,0)
 ;
"RTN","ONCOCOF",50,0)
TOTCASE ;AA = Analytic (CLASS OF CASE 00-22)
"RTN","ONCOCOF",51,0)
 ;AN = Non-analytic (CLASS OF CASE 23-99)
"RTN","ONCOCOF",52,0)
 N COC,DATEDX,EOF,MINUS5,ONCOPARS,REFDATE,VASITE,XD0,XD1
"RTN","ONCOCOF",53,0)
 S VASITE=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOF",54,0)
 I VASITE="" S VASITE=$O(^ONCO(160.1,0))
"RTN","ONCOCOF",55,0)
 S ONCOPARS=$G(^ONCO(160.1,VASITE,0))
"RTN","ONCOCOF",56,0)
 S REFDATE=$P(ONCOPARS,U,4)
"RTN","ONCOCOF",57,0)
 S XD0=REFDATE,EOF=0
"RTN","ONCOCOF",58,0)
 S MINUS5=DT-50000
"RTN","ONCOCOF",59,0)
 I ONCOS("F")=2,MINUS5>REFDATE S XD0=MINUS5
"RTN","ONCOCOF",60,0)
 F  D  Q:EOF
"RTN","ONCOCOF",61,0)
 .S XD1=""
"RTN","ONCOCOF",62,0)
 .F  S XD1=$O(^ONCO(165.5,"ADX",XD0,XD1)) Q:'XD1  I $$DIV^ONCFUNC(XD1)=DUZ(2) D
"RTN","ONCOCOF",63,0)
 ..I $P($G(^ONCO(165.5,XD1,7)),U,2)="A" Q
"RTN","ONCOCOF",64,0)
 ..S DATEDX=$P($G(^ONCO(165.5,XD1,0)),U,16)
"RTN","ONCOCOF",65,0)
 ..S COC=$E($$GET1^DIQ(165.5,XD1,.04),1,2)
"RTN","ONCOCOF",66,0)
 ..I COC>22 S AN=AN+1
"RTN","ONCOCOF",67,0)
 ..E  S AA=AA+1,^TMP($J,XD1)=""
"RTN","ONCOCOF",68,0)
 .S XD0=$O(^ONCO(165.5,"ADX",XD0))
"RTN","ONCOCOF",69,0)
 .I 'XD0 S EOF=1
"RTN","ONCOCOF",70,0)
 Q
"RTN","ONCOCOF",71,0)
 ;
"RTN","ONCOCOF",72,0)
SUB ;Subtract non-reportables
"RTN","ONCOCOF",73,0)
 ;P57 added, COC=00 and ptage>100
"RTN","ONCOCOF",74,0)
 N ONCAGE,ONCPT
"RTN","ONCOCOF",75,0)
 I ST="" S AA=AA-1 D KILL Q  ;No SITE/GP
"RTN","ONCOCOF",76,0)
 S DATEDX=$P($G(^ONCO(165.5,X0,0)),U,16)
"RTN","ONCOCOF",77,0)
 S COC=$E($$GET1^DIQ(165.5,X0,.04),1,2)
"RTN","ONCOCOF",78,0)
 I COC="00" S CC=CC+1 D KILL Q
"RTN","ONCOCOF",79,0)
 S ONCPT=$P(^ONCO(160,$P(^ONCO(165.5,X0,0),U,2),0),";",1)
"RTN","ONCOCOF",80,0)
 S ONCAGE=$$PTAGE(ONCPT,DATEDX) I ONCAGE>100 S P100=P100+1 D KILL Q
"RTN","ONCOCOF",81,0)
 I BEH=0!(BEH=1) S AB=AB+1 D KILL Q
"RTN","ONCOCOF",82,0)
 I ST=SITECODE("CERVIX"),BEH=2 S AC=AC+1 D KILL Q
"RTN","ONCOCOF",83,0)
 I ST=SITECODE("SKIN"),MO>80699,MO<80944,(BEH=0)!(BEH=1)!(BEH=2)!(BEH=3),(SUMSTG=0)!(SUMSTG=1) S AS=AS+1 D KILL
"RTN","ONCOCOF",84,0)
 Q
"RTN","ONCOCOF",85,0)
 ;
"RTN","ONCOCOF",86,0)
PTAGE(DFN,ONCDT) ;get pt age, supported IA=#10061
"RTN","ONCOCOF",87,0)
 N ONCDAY,VADM
"RTN","ONCOCOF",88,0)
 S:ONCDT="" ONCDT=$$DT^XLFDT()
"RTN","ONCOCOF",89,0)
 D DEM^VADPT
"RTN","ONCOCOF",90,0)
 S ONCDAY=$$FMDIFF^XLFDT(ONCDT,$P(VADM(3),"^"),3)
"RTN","ONCOCOF",91,0)
 Q ONCDAY\365.25
"RTN","ONCOCOF",92,0)
 ;
"RTN","ONCOCOF",93,0)
F ;Subtract NEXT FOLLOW-UP SOURCE (160.04,6) = 8
"RTN","ONCOCOF",94,0)
 ;Foreign residents (not followed)
"RTN","ONCOCOF",95,0)
 ;Subtract STATUS = 0 (Dead) and LTF (Lost to follow-up)
"RTN","ONCOCOF",96,0)
 N FS,LC,X1,X2
"RTN","ONCOCOF",97,0)
 I VV&'AS S X1=$O(^ONCO(160,PP,"F","AA",0)) I X1'="" S LC=$O(^(X1,0)),FS=$P(^ONCO(160,PP,"F",LC,0),U,6) I FS=8 S AF=AF+1,AA=AA-1 D KILL Q
"RTN","ONCOCOF",98,0)
 I 'VV S AB=AB+1 D KILL Q
"RTN","ONCOCOF",99,0)
 S X2=ONCODF,X1=DT D ^%DTC I X<91.25 S AD=AD+1 Q
"RTN","ONCOCOF",100,0)
 S AE=AE+1
"RTN","ONCOCOF",101,0)
 Q
"RTN","ONCOCOF",102,0)
 ;
"RTN","ONCOCOF",103,0)
KILL ;Remove non-reportable entry
"RTN","ONCOCOF",104,0)
 K ^TMP($J,X0)
"RTN","ONCOCOF",105,0)
 Q
"RTN","ONCOCOF",106,0)
 ;
"RTN","ONCOCOF",107,0)
MTS ;MULTIPLE TUMOR STATUS (DEATH) (160,70) 'COMPUTED-FIELD' EXPRESSION
"RTN","ONCOCOF",108,0)
 ;MULTIPLE PRIMARY STATUS (160.04,9) 'COMPUTED-FIELD' EXPRESSION
"RTN","ONCOCOF",109,0)
 ;Displays SITE/GP (165.5,.01): LAST TUMOR STATUS (165.5,95)
"RTN","ONCOCOF",110,0)
 Q:$P($G(^ONCO(160,D0,1)),U,1)
"RTN","ONCOCOF",111,0)
 N PD0,ST,TS
"RTN","ONCOCOF",112,0)
 I '$D(^ONCO(165.5,"C",D0)) W !,"No primaries for this patient" Q
"RTN","ONCOCOF",113,0)
 S PD0=0
"RTN","ONCOCOF",114,0)
 F  S PD0=$O(^ONCO(165.5,"C",D0,PD0)) Q:PD0'>0  I $$DIV^ONCFUNC(PD0)=DUZ(2) D
"RTN","ONCOCOF",115,0)
 .S ST=$P(^ONCO(164.2,$P(^ONCO(165.5,PD0,0),U,1),0),U,1)
"RTN","ONCOCOF",116,0)
 .S TS=+$P($G(^ONCO(165.5,PD0,7)),U,6)
"RTN","ONCOCOF",117,0)
 .S TS=$P($G(^ONCO(164.42,TS,0)),U,1)
"RTN","ONCOCOF",118,0)
 .W !,ST_": "_TS
"RTN","ONCOCOF",119,0)
 Q
"RTN","ONCOCOF",120,0)
 ;
"RTN","ONCOCOF",121,0)
NM ;HOSPITAL NAME (160,1000) 'COMPUTED-FIELD' EXPRESSION
"RTN","ONCOCOF",122,0)
 N XD0
"RTN","ONCOCOF",123,0)
 S XD0=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOF",124,0)
 I XD0="" S XD0=$O(^ONCO(160.1,0))
"RTN","ONCOCOF",125,0)
 I XD0'="" S X=$P(^ONCO(160.1,XD0,0),U,1)
"RTN","ONCOCOF",126,0)
 Q
"RTN","ONCOCOF",127,0)
 ;
"RTN","ONCOCOF",128,0)
ADD ;HOSPITAL STREET ADDRESS (160,1001) 'COMPUTED-FIELD' EXPRESSION
"RTN","ONCOCOF",129,0)
 N XD0
"RTN","ONCOCOF",130,0)
 S XD0=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOF",131,0)
 I XD0="" S XD0=$O(^ONCO(160.1,0))
"RTN","ONCOCOF",132,0)
 I XD0'="" S X=$P(^ONCO(160.1,XD0,0),U,2)
"RTN","ONCOCOF",133,0)
 Q
"RTN","ONCOCOF",134,0)
 ;
"RTN","ONCOCOF",135,0)
ZIP ;HOSPITAL CITY,ST ZIP (160,1002) 'COMPUTED-FIELD' EXPRESSION
"RTN","ONCOCOF",136,0)
 N CITY,STATE,STP,XD0,ZIP
"RTN","ONCOCOF",137,0)
 S XD0=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOF",138,0)
 I XD0="" S XD0=$O(^ONCO(160.1,0))
"RTN","ONCOCOF",139,0)
 I XD0'="" D
"RTN","ONCOCOF",140,0)
 .S ZIP=$P(^ONCO(160.1,XD0,0),U,3)
"RTN","ONCOCOF",141,0)
 .S ZIP1=$$GET1^DIQ(160.1,XD0,.03)
"RTN","ONCOCOF",142,0)
 .S CITY=$$GET1^DIQ(5.11,ZIP,1)
"RTN","ONCOCOF",143,0)
 .S STATE=$$GET1^DIQ(5.11,ZIP,3)
"RTN","ONCOCOF",144,0)
 .S X=CITY_", "_STATE_" "_ZIP1
"RTN","ONCOCOF",145,0)
 Q
"RTN","ONCOCOF",146,0)
 ;
"RTN","ONCOCOF",147,0)
ZIP1 ;CITY,ST ZIP (160.1,.031) 'COMPUTED-FIELD' EXPRESSION
"RTN","ONCOCOF",148,0)
 N CITY,STATE,ZIP,ZIP1
"RTN","ONCOCOF",149,0)
 S ZIP=$P(^ONCO(160.1,D0,0),U,3)
"RTN","ONCOCOF",150,0)
 S ZIP1=$$GET1^DIQ(160.1,D0,.03)
"RTN","ONCOCOF",151,0)
 S CITY=$$GET1^DIQ(5.11,ZIP,1)
"RTN","ONCOCOF",152,0)
 S STATE=$$GET1^DIQ(5.11,ZIP,3)
"RTN","ONCOCOF",153,0)
 S X=CITY_", "_STATE_" "_ZIP1
"RTN","ONCOCOF",154,0)
 Q
"RTN","ONCOCOF",155,0)
 ;
"RTN","ONCOCOF",156,0)
CLEANUP ;Cleanup
"RTN","ONCOCOF",157,0)
 K D0,DATEDX,ONCOS,Y
"RTN","ONCOCOFA")
0^179^B2437896
"RTN","ONCOCOFA",1,0)
ONCOCOFA ;Hines OIFO - COMPUTED FIELDS FOR FOLLOW-UP ;6/23/93  09:59
"RTN","ONCOCOFA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOFA",3,0)
 ;
"RTN","ONCOCOFA",4,0)
MTS ;Multiple TUMOR STATUS within FOLLOWUP
"RTN","ONCOCOFA",5,0)
 ;Called by FHC^ONCODLF,FHP^ONCODLF
"RTN","ONCOCOFA",6,0)
 N JTOT,JACT,K,XY,PDIAGDT
"RTN","ONCOCOFA",7,0)
 I '$D(^ONCO(165.5,"C",D0)) W ?30,"NO Primaries Defined",! Q
"RTN","ONCOCOFA",8,0)
 S PD0=0,(JTOT,JACT)=0
"RTN","ONCOCOFA",9,0)
 F  S PD0=$O(^ONCO(165.5,"C",D0,PD0)) Q:PD0'>0  I $$DIV^ONCFUNC(PD0)=DUZ(2) S PDIAGDT=$P($G(^ONCO(165.5,PD0,0)),U,16) S JTOT=JTOT+1 I PDIAGDT,PDIAGDT'>FDAT S JACT=JACT+1,XY(JACT)=PD0
"RTN","ONCOCOFA",10,0)
 D MTSWLP
"RTN","ONCOCOFA",11,0)
 Q
"RTN","ONCOCOFA",12,0)
 ;
"RTN","ONCOCOFA",13,0)
MTSWLP ;Multiple tumor status write loop - called from MTS if >1 primary
"RTN","ONCOCOFA",14,0)
 N K
"RTN","ONCOCOFA",15,0)
 F K=1:1:JACT D
"RTN","ONCOCOFA",16,0)
 .N PD0,ST,ST1,TD1,TS
"RTN","ONCOCOFA",17,0)
 .S PD0=XY(K)
"RTN","ONCOCOFA",18,0)
 .S ST=$$GETVAL^ONCOU(165.5,PD0,.01)
"RTN","ONCOCOFA",19,0)
 .S ST1=$$GETVAL^ONCOU(165.5,PD0,20) S:ST1'="" ST=ST1
"RTN","ONCOCOFA",20,0)
 .S TD1=+$O(^ONCO(165.5,PD0,"TS","B",+FDAT,0))
"RTN","ONCOCOFA",21,0)
 .S TS="" S:TD1 TS=$$GETVAL^ONCOU(165.5,PD0,73,TD1,.02)
"RTN","ONCOCOFA",22,0)
 .K DOTS S $P(DOTS,".",30-$L(ST))="."
"RTN","ONCOCOFA",23,0)
 .W !?2,ST,$G(DOTS),": ",$S(TS="":"Tumor Status not stated",1:TS) W:K=JACT !
"RTN","ONCOCOFA",24,0)
 Q
"RTN","ONCOCOFA",25,0)
 ;
"RTN","ONCOCOFA",26,0)
EX ;EXIT
"RTN","ONCOCOFA",27,0)
 K PA,PB,PC,PD,PE,PL,X0
"RTN","ONCOCOFA",28,0)
 Q
"RTN","ONCOCOM")
0^180^B52166923
"RTN","ONCOCOM",1,0)
ONCOCOM ;Hines OIFO/GWB - 'COMPUTED-FIELD' expressions ;03/01/11
"RTN","ONCOCOM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOM",3,0)
 ;
"RTN","ONCOCOM",4,0)
CC ;'COMPUTED-FIELD' EXPRESSION for CLASS CATEGORY (160,69)
"RTN","ONCOCOM",5,0)
 N CC,PRI
"RTN","ONCOCOM",6,0)
 S CC=0
"RTN","ONCOCOM",7,0)
 S PRI=0 F  S PRI=$O(^ONCO(165.5,"C",D0,PRI)) Q:PRI'>0  D  Q:CC=1
"RTN","ONCOCOM",8,0)
 .S CC=$$GET1^DIQ(165.5,PRI,.042,"I")
"RTN","ONCOCOM",9,0)
 S X=CC
"RTN","ONCOCOM",10,0)
 Q
"RTN","ONCOCOM",11,0)
 ;
"RTN","ONCOCOM",12,0)
SDA ;List all primaries for a patient
"RTN","ONCOCOM",13,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G CX
"RTN","ONCOCOM",14,0)
 ;
"RTN","ONCOCOM",15,0)
SDP ;List all primaries except current primary
"RTN","ONCOCOM",16,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G:XD0="" EX
"RTN","ONCOCOM",17,0)
 N J S J=0
"RTN","ONCOCOM",18,0)
 F XD1=0:0 S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $$DIV^ONCFUNC(XD1)=DUZ(2),$D(^ONCO(165.5,XD1,0)),XD1'=D0 S J=J+1 D ^ONCOCOML
"RTN","ONCOCOM",19,0)
 G:J>0 EX W ?24,"None" G EX
"RTN","ONCOCOM",20,0)
 ;
"RTN","ONCOCOM",21,0)
SDD ;List all primaries for a patient 
"RTN","ONCOCOM",22,0)
 Q:'$D(^ONCO(160,D0))  S XD0=D0
"RTN","ONCOCOM",23,0)
CX ;Entry point with XD0 defined, not D0
"RTN","ONCOCOM",24,0)
 N J,XD1 W !
"RTN","ONCOCOM",25,0)
 S J=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",XD0,XD1)) Q:XD1'>0  I $D(^ONCO(165.5,XD1,0)),$$DIV^ONCFUNC(XD1)=DUZ(2) S J=J+1 D ^ONCOCOML
"RTN","ONCOCOM",26,0)
 Q
"RTN","ONCOCOM",27,0)
 ;
"RTN","ONCOCOM",28,0)
CLS ;CLass of Case (ANALYTIC/NON-ANALYTIC)
"RTN","ONCOCOM",29,0)
 ;Computed field (165.5, .042) CASE-CLASS
"RTN","ONCOCOM",30,0)
 S XD0=D0,X=$S($D(^ONCO(165.5,XD0,0)):$P(^(0),U,4),1:""),X=$S(X="":"",X<23:"Analytic",1:"Non-Analytic")
"RTN","ONCOCOM",31,0)
 K XD0 Q
"RTN","ONCOCOM",32,0)
 ;
"RTN","ONCOCOM",33,0)
DFC ;'COMPUTED-FIELD' EXPRESSION for FIRST COURSE OF TREATMENT DATE (165.5,49)
"RTN","ONCOCOM",34,0)
 I '$D(^ONCO(165.5,"ATX",D0)) S X="" Q
"RTN","ONCOCOM",35,0)
 S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT=""  Q:($E(TDT,1,7)'="0000000")&($E(TDT,1,7)'=9999999)&($E(TDT,1,7)'=8888888)&($E(TDT,8,9)'="S2")&($E(TDT,8,9)'="S3")
"RTN","ONCOCOM",36,0)
 I TDT="" S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT=""  Q:$E(TDT,1,7)=9999999
"RTN","ONCOCOM",37,0)
 I TDT="" S TDT=0 F  S TDT=$O(^ONCO(165.5,"ATX",D0,TDT)) Q:TDT=""  Q:$E(TDT,1,7)="0000000"
"RTN","ONCOCOM",38,0)
 I TDT="" S TDT="9999999X"
"RTN","ONCOCOM",39,0)
 S X=$E(TDT,1,7)
"RTN","ONCOCOM",40,0)
 D DATEOT^ONCOES
"RTN","ONCOCOM",41,0)
 K TDT Q
"RTN","ONCOCOM",42,0)
 ;
"RTN","ONCOCOM",43,0)
DSTS ;DATE SYSTEMIC TREATMENT STARTED (165.5,152)
"RTN","ONCOCOM",44,0)
 S DSTS=""
"RTN","ONCOCOM",45,0)
 K DSTSDT
"RTN","ONCOCOM",46,0)
 S X=$$GET1^DIQ(165.5,D0,53,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",47,0)
 S X=$$GET1^DIQ(165.5,D0,54,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",48,0)
 S X=$$GET1^DIQ(165.5,D0,55,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",49,0)
 S X=$$GET1^DIQ(165.5,D0,153.1,"I") I X'="" S DSTSDT(X)=""
"RTN","ONCOCOM",50,0)
 S DSTS=0 F  S DSTS=$O(DSTSDT(DSTS)) Q:DSTS=""  Q:($E(DSTS,1,7)'="0000000")&($E(DSTS,1,7)'=9999999)
"RTN","ONCOCOM",51,0)
 I DSTS="" S DSTS=0 F  S DSTS=$O(DSTSDT(DSTS)) Q:DSTS=""  Q:$E(DSTS,1,7)=9999999
"RTN","ONCOCOM",52,0)
 I DSTS="" S DSTS=0 F  S DSTS=$O(DSTSDT(DSTS)) Q:DSTS=""  Q:$E(DSTS,1,7)="0000000"
"RTN","ONCOCOM",53,0)
 S X=DSTS
"RTN","ONCOCOM",54,0)
 D DATEOT^ONCOES
"RTN","ONCOCOM",55,0)
 K DSTS,DSTSDT
"RTN","ONCOCOM",56,0)
 Q
"RTN","ONCOCOM",57,0)
 ;
"RTN","ONCOCOM",58,0)
DD ;Y=date in FM format (2yrmoda); convert to da/mo/yr
"RTN","ONCOCOM",59,0)
 S Y=$S(Y="":"",1:$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_(1700+$E(Y,1,3))) ;_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOCOM",60,0)
 Q
"RTN","ONCOCOM",61,0)
 ;
"RTN","ONCOCOM",62,0)
AGE ;AGE AT DIAGNOSIS
"RTN","ONCOCOM",63,0)
 S DOD=$P(^ONCO(165.5,D0,0),U,16)
"RTN","ONCOCOM",64,0)
 I DOD="" S AGE="" G AGEOUT
"RTN","ONCOCOM",65,0)
 I ($E(DOD,1,3)="000")!($E(DOD,1,3)=888)!($E(DOD,1,3)=999) S AGE=999 G AGEOUT
"RTN","ONCOCOM",66,0)
 S XD0=D0,D0=$P(^ONCO(165.5,XD0,0),U,2) D DOB1^ONCOES S DOB=X,D0=XD0
"RTN","ONCOCOM",67,0)
 I DOB="" S AGE="" G AGEOUT
"RTN","ONCOCOM",68,0)
 S AGE=$E(DOD,1,3)-$E(DOB,1,3)-($E(DOD,4,7)<$E(DOB,4,7))
"RTN","ONCOCOM",69,0)
 ;
"RTN","ONCOCOM",70,0)
AGEOUT S X=AGE K DOD,XD0,DOB,AGE
"RTN","ONCOCOM",71,0)
 Q
"RTN","ONCOCOM",72,0)
 ;
"RTN","ONCOCOM",73,0)
DEC ;AGE DX DECADE
"RTN","ONCOCOM",74,0)
 D AGE Q:X=""  S AG=X,X=$S(AG<20:"0-20",AG<30:"20-29",AG<40:"30-39",AG<50:"40-49",AG<60:"50-59",AG<70:"60-69",AG<80:"70-79",1:"80-99")
"RTN","ONCOCOM",75,0)
 K AG Q
"RTN","ONCOCOM",76,0)
XD0 S XD0=$S($D(^ONCO(165.5,D0,0)):$P(^(0),U,2),1:"") ;XD0=internal 160
"RTN","ONCOCOM",77,0)
 Q
"RTN","ONCOCOM",78,0)
 ;
"RTN","ONCOCOM",79,0)
PID ;PATIENT NAME,SSN,DOB
"RTN","ONCOCOM",80,0)
 S X="" D PAT G EX:OD0="" S ONCONM=$P(VP0,U),SN=$P(VP0,U,9),XD=$P(VP0,U,3),ONCOPID=$E(ONCONM)_$E(SN,6,9)
"RTN","ONCOCOM",81,0)
 Q
"RTN","ONCOCOM",82,0)
SID ;PID# (A1234)
"RTN","ONCOCOM",83,0)
PID5 S XD0=$P(^ONCO(165.5,D0,0),U,2) D PAT,PID S X=$E(ONCONM)_$E(SN,6,9) G EX
"RTN","ONCOCOM",84,0)
 ;
"RTN","ONCOCOM",85,0)
PID0 S XD0=D0 D PAT,PID S X=$E(ONCONM)_$E(SN,6,9) G EX
"RTN","ONCOCOM",86,0)
 ;
"RTN","ONCOCOM",87,0)
MS ;Derive MARITAL STATUS AT DX (165.5,11) from MARITAL STATUS (2,.05)
"RTN","ONCOCOM",88,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G:XD0="" EX
"RTN","ONCOCOM",89,0)
 D PAT G:OD0="" EX
"RTN","ONCOCOM",90,0)
 S MS=$P(VP0,U,5) G:MS="" ADX
"RTN","ONCOCOM",91,0)
 S MC=+MS
"RTN","ONCOCOM",92,0)
 S X1=$S(MC=3:1,MC=6:1,MC=2:2,MC=5:3,MC=1:4,MC=4:5,1:9)
"RTN","ONCOCOM",93,0)
 S $P(^ONCO(165.5,D0,1),U,5)=X1
"RTN","ONCOCOM",94,0)
 ;
"RTN","ONCOCOM",95,0)
ADX ;Derive PATIENT ADDRESS AT DX (165.5,8) from STREET ADDRESS 1 (2,.111)
"RTN","ONCOCOM",96,0)
 ;Derive PATIENT ADDRESS AT DX (165.5,8) from STREET ADDRESS [LINE 1]
"RTN","ONCOCOM",97,0)
 ;(2,.111) and STREET ADDRESS [LINE 2] (2,.112)
"RTN","ONCOCOM",98,0)
 ;Derive PATIENT ADDRESS AT DX - SUPP (165.5,8.2) from STREET ADDRESS
"RTN","ONCOCOM",99,0)
 ;[LINE 3] (2,.113)
"RTN","ONCOCOM",100,0)
 ;Derive CITY/TOWN AT DX (165.5,8.1) from CITY (2,.114)
"RTN","ONCOCOM",101,0)
 ;Derive STATE AT DX (165.5,16) from STATE (2,.115)
"RTN","ONCOCOM",102,0)
 ;Derive POSTAL CODE AT DX (165.5,9) from ZIP CODE (2,.116)
"RTN","ONCOCOM",103,0)
 ;Derive COUNTY AT DX (165.5,10) from STATE (2,.116)_COUNTY (2,.117)
"RTN","ONCOCOM",104,0)
 S X11=$G(@(GLR_".11)"))
"RTN","ONCOCOM",105,0)
 S ADX=$P(X11,U,1)
"RTN","ONCOCOM",106,0)
 S:$P(X11,U,2)'="" ADX=ADX_" "_$P(X11,U,2)
"RTN","ONCOCOM",107,0)
 S ADXSUPP=$P(X11,U,3)
"RTN","ONCOCOM",108,0)
 S $P(^ONCO(165.5,D0,1),U,1)=ADX
"RTN","ONCOCOM",109,0)
 S $P(^ONCO(165.5,D0,1),U,13)=ADXSUPP
"RTN","ONCOCOM",110,0)
 S CITY=$P(X11,U,4)
"RTN","ONCOCOM",111,0)
 S STATE=$P(X11,U,5)
"RTN","ONCOCOM",112,0)
 S ZIP=$P(X11,U,6)
"RTN","ONCOCOM",113,0)
 S COUNTYPNT=$P(X11,U,7)
"RTN","ONCOCOM",114,0)
 S COUNTY=""
"RTN","ONCOCOM",115,0)
 I STATE'="",COUNTYPNT'="" S COUNTY=$P(^DIC(5,STATE,1,COUNTYPNT,0),U,3)
"RTN","ONCOCOM",116,0)
 S:CITY'="" $P(^ONCO(165.5,D0,1),U,12)=CITY
"RTN","ONCOCOM",117,0)
 S:STATE'="" $P(^ONCO(165.5,D0,1),U,4)=STATE
"RTN","ONCOCOM",118,0)
 S:ZIP'="" $P(^ONCO(165.5,D0,1),U,2)=ZIP
"RTN","ONCOCOM",119,0)
 S:(STATE'="")&(COUNTY'="") $P(^ONCO(165.5,D0,1),U,3)=STATE_COUNTY
"RTN","ONCOCOM",120,0)
 K ADX,ADXSUPP,CITY,COUNTY,COUNTYPNT,GLR,MS,OD0,OF,STATE,VP0,VPR,X1,X11
"RTN","ONCOCOM",121,0)
 K XD0,ZIP
"RTN","ONCOCOM",122,0)
 Q
"RTN","ONCOCOM",123,0)
 ;
"RTN","ONCOCOM",124,0)
PAT ;Patient pointer
"RTN","ONCOCOM",125,0)
 S OD0=$S($D(^ONCO(160,XD0,0)):$P(^(0),U),1:"") Q:OD0=""
"RTN","ONCOCOM",126,0)
 S OF=$P(OD0,";",2)
"RTN","ONCOCOM",127,0)
 S OD0=$P(OD0,";",1)
"RTN","ONCOCOM",128,0)
 S GLR=U_OF_OD0_","
"RTN","ONCOCOM",129,0)
 S VPR=U_OF_OD0_",0)"
"RTN","ONCOCOM",130,0)
 S VP0=$S($D(@VPR):^(0),1:"")
"RTN","ONCOCOM",131,0)
 Q
"RTN","ONCOCOM",132,0)
 ;
"RTN","ONCOCOM",133,0)
ONCPRI ;ICD0-TOPOGRAPHY LIST (160,49)
"RTN","ONCOCOM",134,0)
 S XD0=0
"RTN","ONCOCOM",135,0)
 F  S XD0=$O(^ONCO(165.5,"C",D0,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2) D
"RTN","ONCOCOM",136,0)
 .Q:'$D(^ONCO(165.5,XD0,2))
"RTN","ONCOCOM",137,0)
 .S TOPIEN=$P(^ONCO(165.5,XD0,2),U,1)
"RTN","ONCOCOM",138,0)
 .Q:TOPIEN=""
"RTN","ONCOCOM",139,0)
 .S TOPNAME=$P(^ONCO(164,TOPIEN,0),U,1)
"RTN","ONCOCOM",140,0)
 .S TOPCODE=$P(^ONCO(164,TOPIEN,0),U,2)
"RTN","ONCOCOM",141,0)
 .S TOP(TOPCODE)=TOPNAME
"RTN","ONCOCOM",142,0)
 I $D(TOP) S TOPCODE="" W ! F  S TOPCODE=$O(TOP(TOPCODE)) Q:TOPCODE=""  W ?5,TOP(TOPCODE),!
"RTN","ONCOCOM",143,0)
 S X="" K XD0,TOPIEN,TOP,TOPCODE Q
"RTN","ONCOCOM",144,0)
ACOS ;'COMPUTED-FIELD' EXPRESSION for ACOS # (165.5,67)
"RTN","ONCOCOM",145,0)
 S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOCOM",146,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOCOM",147,0)
 S ACOS=$P(^ONCO(160.1,OSP,0),U,4)
"RTN","ONCOCOM",148,0)
 S ACOS=$$GET1^DIQ(160.19,ACOS,.01,"I")
"RTN","ONCOCOM",149,0)
 S X=ACOS K OSP,ACOS
"RTN","ONCOCOM",150,0)
 Q
"RTN","ONCOCOM",151,0)
 ;
"RTN","ONCOCOM",152,0)
HM ;'COMPUTED-FIELD' EXPRESSION for HISTO-MORPHOLOGY (165.5,27)
"RTN","ONCOCOM",153,0)
 N MO,GRADE
"RTN","ONCOCOM",154,0)
 S X=""
"RTN","ONCOCOM",155,0)
 S MO=$$GET1^DIQ(165.5,D0,22.3,"I")
"RTN","ONCOCOM",156,0)
 I MO'="" D
"RTN","ONCOCOM",157,0)
 .S GRADE=$$GET1^DIQ(165.5,D0,24,"I")
"RTN","ONCOCOM",158,0)
 .S X=$E(MO,1,4)_"/"_$E(MO,5)_GRADE
"RTN","ONCOCOM",159,0)
 Q
"RTN","ONCOCOM",160,0)
 ;
"RTN","ONCOCOM",161,0)
ET ;'COMPUTED-FIELD' EXPRESSION for ELAPSED DAYS TO COMPLETION (165.5,157)
"RTN","ONCOCOM",162,0)
 N AS,DATE1,DATE2
"RTN","ONCOCOM",163,0)
 S AS=$P($G(^ONCO(165.5,D0,7)),U,2)
"RTN","ONCOCOM",164,0)
 I AS="A" S X="NA (Accession only)" Q
"RTN","ONCOCOM",165,0)
 S DATE1=$P($G(^ONCO(165.5,D0,7)),U,1)
"RTN","ONCOCOM",166,0)
 S DATE2=$P($G(^ONCO(165.5,D0,0)),U,35)
"RTN","ONCOCOM",167,0)
 I (DATE2="")!(DATE2="0000000")!(DATE2=9999999) S X="Unknown (No Date of First Contact)" Q
"RTN","ONCOCOM",168,0)
 I (DATE1="")!(DATE1="0000000")!(DATE1=9999999)!(DATE1=8888888) S X="Unknown (No Date Case Completed)" Q
"RTN","ONCOCOM",169,0)
 I DATE1<DATE2 S X="Unknown (Dt 1st Cont > Dt Case Complt)" Q
"RTN","ONCOCOM",170,0)
 S X1=DATE1
"RTN","ONCOCOM",171,0)
 S X2=DATE2
"RTN","ONCOCOM",172,0)
 D ^%DTC
"RTN","ONCOCOM",173,0)
 I %Y=0 S X="Unknown (Dates imprecise)" Q
"RTN","ONCOCOM",174,0)
 Q
"RTN","ONCOCOM",175,0)
 ;
"RTN","ONCOCOM",176,0)
EM ;'COMPUTED-FIELD' EXPRESSION for ELAPSED MONTHS TO COMPLETION (165.5,157.1)
"RTN","ONCOCOM",177,0)
 N AS,DATE1,DATE2,DAYS,MONTHS,MONTHYEAR,YEARS
"RTN","ONCOCOM",178,0)
 S AS=$P($G(^ONCO(165.5,D0,7)),U,2)
"RTN","ONCOCOM",179,0)
 I AS="A" S X="NA (Accession only)" Q
"RTN","ONCOCOM",180,0)
 S DATE1=$P($G(^ONCO(165.5,D0,7)),U,1)
"RTN","ONCOCOM",181,0)
 S:DATE1'="" DATE1=$E(DATE1,1,5)_"00"
"RTN","ONCOCOM",182,0)
 S DATE2=$P($G(^ONCO(165.5,D0,0)),U,35)
"RTN","ONCOCOM",183,0)
 S:DATE2'="" DATE2=$E(DATE2,1,5)_"00"
"RTN","ONCOCOM",184,0)
 I (DATE2="")!(DATE2="0000000")!(DATE2=9999999) S X="Unknown (No Date of First Contact)" Q
"RTN","ONCOCOM",185,0)
 I $E(DATE2,4,7)="0000" S X="Unknown (Date of First Contact has no month)" Q
"RTN","ONCOCOM",186,0)
 I (DATE1="")!(DATE1="0000000")!(DATE1=9999999)!(DATE1=8888888) S X="Unknown (No Date Case Completed)" Q
"RTN","ONCOCOM",187,0)
 I DATE1<DATE2 S X="Unknown (Dt 1st Cont > Dt Case Complt)" Q
"RTN","ONCOCOM",188,0)
 D DTDIFF^ONCDTUTL(DATE1,DATE2,.DAYS,.MONTHS,.YEARS)
"RTN","ONCOCOM",189,0)
 S MONTHYEAR=YEARS*12
"RTN","ONCOCOM",190,0)
 S X=MONTHS+MONTHYEAR
"RTN","ONCOCOM",191,0)
 S XX=YEARS_$S(YEARS=1:" Year/",1:" Years/")_MONTHS_$S(MONTHS=1:" Month/",1:" Months/")_DAYS_$S(DAYS=1:" Day",1:" Days")
"RTN","ONCOCOM",192,0)
 Q
"RTN","ONCOCOM",193,0)
 ;
"RTN","ONCOCOM",194,0)
DCD ;INPUT TRANSFORM for DATE OF CONCLUSIVE DX (165.5,193)
"RTN","ONCOCOM",195,0)
 N DCDX,X1,X2,%Y
"RTN","ONCOCOM",196,0)
 S DCDX=X
"RTN","ONCOCOM",197,0)
 S X2=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOCOM",198,0)
 S X1=X
"RTN","ONCOCOM",199,0)
 I (X2="")!(X2="0000000")!(X2=8888888)!(X2=9999999) Q
"RTN","ONCOCOM",200,0)
 I X2>X1 W !!,"DATE DX after DATE OF CONCLUSIVE DX",! K X Q
"RTN","ONCOCOM",201,0)
 D ^%DTC
"RTN","ONCOCOM",202,0)
 I %Y=0 G DCDEX
"RTN","ONCOCOM",203,0)
 I X<61 W !!," DATE OF CONCLUSIVE DX must be greater than 60 days after DATE DX",! K X Q
"RTN","ONCOCOM",204,0)
DCDEX S X=DCDX
"RTN","ONCOCOM",205,0)
 Q
"RTN","ONCOCOM",206,0)
 ;
"RTN","ONCOCOM",207,0)
EX ;Exit
"RTN","ONCOCOM",208,0)
 K OD0,X1,X2,XD0,XD1,VP0,Y
"RTN","ONCOCOM",209,0)
 Q
"RTN","ONCOCOM",210,0)
 ;
"RTN","ONCOCOM",211,0)
CLEANUP ;Cleanup
"RTN","ONCOCOM",212,0)
 K D0,MC,ONCONM,ONCOPID,SN,TOPNAME,XD,XX
"RTN","ONCOCOML")
0^181^B1365958
"RTN","ONCOCOML",1,0)
ONCOCOML ;Hines OIFO/GWB - Display abstract summary; 07/13/00
"RTN","ONCOCOML",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOML",3,0)
 ;
"RTN","ONCOCOML",4,0)
 N ACS,TOP,LTS,DDX,ABS,DIV
"RTN","ONCOCOML",5,0)
 S ACS=$$GET1^DIQ(165.5,XD1,.061)
"RTN","ONCOCOML",6,0)
 S TOP=$$GET1^DIQ(165.5,XD1,20)
"RTN","ONCOCOML",7,0)
 S LTS=$$GET1^DIQ(165.5,XD1,95,"I")
"RTN","ONCOCOML",8,0)
 S:LTS'="" LTS=$$GET1^DIQ(164.42,LTS,2)
"RTN","ONCOCOML",9,0)
 S DDX=$$GET1^DIQ(165.5,XD1,3)
"RTN","ONCOCOML",10,0)
 S ABS=$$GET1^DIQ(165.5,XD1,91)
"RTN","ONCOCOML",11,0)
 S DIV=$$GET1^DIQ(165.5,XD1,2000,"I")
"RTN","ONCOCOML",12,0)
 S:DIV'="" DIV=$$GET1^DIQ(4,DIV,99)
"RTN","ONCOCOML",13,0)
 S LIN=" -------------  --------------------  -----------------  ----------  ----  ----"
"RTN","ONCOCOML",14,0)
 I $G(J)=1 D
"RTN","ONCOCOML",15,0)
 .W !?1,"Acc/Sequence",?16,"Primary Site",?38,"Last Tumor Status",?57,"Date Dx",?69,"Stat",?75,"Div"
"RTN","ONCOCOML",16,0)
 .W !,LIN,!
"RTN","ONCOCOML",17,0)
 W ?1,ACS,?16,$E(TOP,1,20),?38,LTS,?57,DDX,?69,$E(ABS,1,3),?75,DIV,!
"RTN","ONCOCOML",18,0)
 Q
"RTN","ONCOCON")
0^182^B14433965
"RTN","ONCOCON",1,0)
ONCOCON ;Hines OIFO/GWB - VADPT calls ;06/23/10
"RTN","ONCOCON",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCON",3,0)
 ;
"RTN","ONCOCON",4,0)
NOK ;NEXT OF KIN
"RTN","ONCOCON",5,0)
 S XD0=D0 D VP G EX:OP=""
"RTN","ONCOCON",6,0)
 N I,X
"RTN","ONCOCON",7,0)
 D OAD^VADPT G EX:VAERR
"RTN","ONCOCON",8,0)
 S ST=$S(VAOA(5)="":"",1:$P(^DIC(5,$P(VAOA(5),U),0),U,2)),CSZ=VAOA(4)
"RTN","ONCOCON",9,0)
 I CSZ'="" S CSZ=CSZ_", "
"RTN","ONCOCON",10,0)
 S CSZ=CSZ_ST_" "_VAOA(6),SP="?25" S:'$D(NOK) NOK="NOK"
"RTN","ONCOCON",11,0)
 D WT
"RTN","ONCOCON",12,0)
 G EX
"RTN","ONCOCON",13,0)
 ;
"RTN","ONCOCON",14,0)
NOK1 ;NEXT OF KIN-1
"RTN","ONCOCON",15,0)
 S NOK="NOK1" G NOK
"RTN","ONCOCON",16,0)
 ;
"RTN","ONCOCON",17,0)
NOK2 ;NEXT OF KIN-2 #.2191
"RTN","ONCOCON",18,0)
 S VAOA("A")=3,NOK="NOK2" G NOK
"RTN","ONCOCON",19,0)
 ;
"RTN","ONCOCON",20,0)
CON ;Retrieve Contacts (NOK1 and NOK@)
"RTN","ONCOCON",21,0)
 S XD0=D0 D VP G EX:OP="" N I,X D OAD^VADPT F I=1:1:10 S ONCO(I)=VAOA(I)
"RTN","ONCOCON",22,0)
 K VAOA S VAOA("A")=3 D OAD^VADPT F I=1:1:10 S ONCO(I+10)=VAOA(I)
"RTN","ONCOCON",23,0)
 G EX
"RTN","ONCOCON",24,0)
 ;
"RTN","ONCOCON",25,0)
WT W !,@SP,NOK,": ",@SP,VAOA(10)
"RTN","ONCOCON",26,0)
2 ;W !?25,VAOA(10)
"RTN","ONCOCON",27,0)
3 W !,@SP,$P(VAOA(9),",",2)_" "_$P(VAOA(9),",")
"RTN","ONCOCON",28,0)
4 W !,@SP,VAOA(1)
"RTN","ONCOCON",29,0)
5 W:VAOA(2)'="" !,@SP,VAOA(2)
"RTN","ONCOCON",30,0)
6 W:VAOA(3)'="" !,@SP,VAOA(3)
"RTN","ONCOCON",31,0)
 W:CSZ'="" !,@SP,CSZ
"RTN","ONCOCON",32,0)
 Q
"RTN","ONCOCON",33,0)
 ;
"RTN","ONCOCON",34,0)
REL2 ;NOK2
"RTN","ONCOCON",35,0)
 S VAOA("A")=3 G REL
"RTN","ONCOCON",36,0)
REL ;NOK relationship and Name
"RTN","ONCOCON",37,0)
 S XD0=D0 D VP G EX:OP="" N I D OAD^VADPT G EX:VAERR S X=$S(VAOA(9)="":"",1:VAOA(10)_": "_$P(VAOA(9),",",2)_" "_$P(VAOA(9),",",1)_" * "_VAOA(1)) K ONCOD0 G EX:X="" I VAOA(2)'="" S X=X_" "_VAOA(2)
"RTN","ONCOCON",38,0)
 S:VAOA(3)'="" X=X_" "_VAOA(3) S X=X_"  "_VAOA(4)_", "_$P(VAOA(5),U,2)_"  "_VAOA(6) G EX
"RTN","ONCOCON",39,0)
 ;
"RTN","ONCOCON",40,0)
ADM ;Admission date/Discharge date
"RTN","ONCOCON",41,0)
 ;FOR NON-DHCP (EAST-ORANGE)
"RTN","ONCOCON",42,0)
 S (ONCOAD,ONCODD)="" I $G(^DG(43,1,"VERSION"))<4.6 Q  ;FOR NON-DHCP EAST-ORANGE
"RTN","ONCOCON",43,0)
 S XX=$S($D(^ONCO(165.5,D0,0)):^(0),1:"") Q:XX=""  S XD0=$P(XX,U,2) D VP Q:OP=""  S XD=$P(XX,U,16),VAIP("D")=$S(XD="":"L",1:XD)
"RTN","ONCOCON",44,0)
A5 I $G(^DG(43,1,"VERSION"))>4.8 N I,X D IN5 G:VAIP(1)'="" SV G:XD="" EX G NO
"RTN","ONCOCON",45,0)
A4 G:XD="" EX S VAINDT=XD N I,X D INP G:VAIN(1)="" NO G SV
"RTN","ONCOCON",46,0)
 ;
"RTN","ONCOCON",47,0)
SV S ONCOAD=AD,ONCODD=XD
"RTN","ONCOCON",48,0)
WE W !!?15,"Admission: ",AD_"  Discharge: "_XD,! G EX
"RTN","ONCOCON",49,0)
NO D DD W !,"No admission for ",XD G EX
"RTN","ONCOCON",50,0)
 ;
"RTN","ONCOCON",51,0)
INP ;MAS VERSIONS less than 5.0
"RTN","ONCOCON",52,0)
 N I,X D INP^VADPT Q:VAIN(1)=""  S XD=$P($P(VAIN(7),U),".") D DD S AD=XD,XD=$S($D(^DPT(DFN,"DA",VAIN(1),1)):$P(^(1),U),1:"") D DD Q
"RTN","ONCOCON",53,0)
 ;
"RTN","ONCOCON",54,0)
NOKEO ;COMPUTED EXPRESSION for NOK (160,.214) 
"RTN","ONCOCON",55,0)
 ;Displays K-NAME OF PRIMARY NOK (2,.211) and 
"RTN","ONCOCON",56,0)
 ;         K-RELATIONSHIP TO PATIENT (2,.212)
"RTN","ONCOCON",57,0)
 N RCDT
"RTN","ONCOCON",58,0)
 I $D(^ONCO(160,D0,0)) S RCDT=^(0) I $P(RCDT,";",2)["DPT",$D(^DPT($P(RCDT,";",1),.21)) W $P(^(.21),U)_" ("_$P(^(.21),U,2)_")"
"RTN","ONCOCON",59,0)
 Q
"RTN","ONCOCON",60,0)
 ;
"RTN","ONCOCON",61,0)
SAD ;COMPUTED EXPRESSION for SUSPENSE ADMIT DATE (160,33.1)
"RTN","ONCOCON",62,0)
 D SUS S X=$S($D(XAD):XAD,1:"")
"RTN","ONCOCON",63,0)
 G EX
"RTN","ONCOCON",64,0)
 ;
"RTN","ONCOCON",65,0)
SDD ;COMPUTED EXPRESSION for SUSPENSE DISCHARGE DATE (160,33.2)
"RTN","ONCOCON",66,0)
 D SUS S X=$S($D(XDD):XDD,1:"")
"RTN","ONCOCON",67,0)
 G EX
"RTN","ONCOCON",68,0)
 ;
"RTN","ONCOCON",69,0)
SEC ;COMPUTED EXPRESSION for SUSPENSE EPISODE OF CARE (160,33.3)
"RTN","ONCOCON",70,0)
 D SUS S X="" G:SD="" EX I '$D(AD) S XD=SD G NO
"RTN","ONCOCON",71,0)
 S XD=$S($D(XD):XD,1:"") G WE
"RTN","ONCOCON",72,0)
 ;
"RTN","ONCOCON",73,0)
SUS ;SUSPENSE EPISODE OF CARE
"RTN","ONCOCON",74,0)
 S XD0=D0,SD=""
"RTN","ONCOCON",75,0)
 S SDIEN=$O(^ONCO(160,XD0,"SUS","C",DUZ(2),""))
"RTN","ONCOCON",76,0)
 I SDIEN'="" S SD=$P($G(^ONCO(160,XD0,"SUS",SDIEN,0)),"^",1)
"RTN","ONCOCON",77,0)
 Q:SD=""  D VP Q:OP=""
"RTN","ONCOCON",78,0)
 S VAIP("D")=SD D IN5
"RTN","ONCOCON",79,0)
 Q
"RTN","ONCOCON",80,0)
 ;
"RTN","ONCOCON",81,0)
LEC ;COMPUTED EXPRESSION for LAST EPISODE of CARE (160,34)
"RTN","ONCOCON",82,0)
 D LST
"RTN","ONCOCON",83,0)
 I '$D(AD) W "No admission data" G EX
"RTN","ONCOCON",84,0)
 I $D(XD) I XD'="" W "Admission: ",AD_"  Discharge: "_XD G EX
"RTN","ONCOCON",85,0)
 W "Admission: "_AD_" (Active)" G EX
"RTN","ONCOCON",86,0)
 ;
"RTN","ONCOCON",87,0)
LAD ;COMPUTED EXPRESSION for LAST ADMIT DATE (160,34.1)
"RTN","ONCOCON",88,0)
 D LST S X=$S($D(AD):AD,1:"")
"RTN","ONCOCON",89,0)
 G EX
"RTN","ONCOCON",90,0)
 ;
"RTN","ONCOCON",91,0)
LDD ;COMPUTED EXPRESSION for LAST DISCHARGE DATE (160,34.2)
"RTN","ONCOCON",92,0)
 D LST S X=$S($D(XD):XD,1:"")
"RTN","ONCOCON",93,0)
 G EX
"RTN","ONCOCON",94,0)
 ;
"RTN","ONCOCON",95,0)
LST ;Get ADMISSION and DISCHARGE data
"RTN","ONCOCON",96,0)
 S XD0=D0 D VP G:OP="" EX
"RTN","ONCOCON",97,0)
 S VAIP("D")="L"
"RTN","ONCOCON",98,0)
 D IN5
"RTN","ONCOCON",99,0)
 Q
"RTN","ONCOCON",100,0)
 ;
"RTN","ONCOCON",101,0)
VP ;Resolve NAME (160,.01) variable pointer
"RTN","ONCOCON",102,0)
 S OP=$S($D(^ONCO(160,XD0,0)):$P(^(0),U),1:"")
"RTN","ONCOCON",103,0)
 S DFN=$P(OP,";",1)
"RTN","ONCOCON",104,0)
 S OF=$P(OP,";",2)
"RTN","ONCOCON",105,0)
 S OP=$S(OF="LRT(67,":"",1:OP)
"RTN","ONCOCON",106,0)
 Q
"RTN","ONCOCON",107,0)
 ;
"RTN","ONCOCON",108,0)
IN5 ;Call IN5^VADPT (Inpatient Data [v5.0 and above])
"RTN","ONCOCON",109,0)
 N X
"RTN","ONCOCON",110,0)
 D IN5^VADPT Q:VAIP(1)=""
"RTN","ONCOCON",111,0)
 S XD=$P(VAIP(13,1),".") D DD S AD=XD
"RTN","ONCOCON",112,0)
 S XD=$P(VAIP(17,1),".") D DD S XD=XD
"RTN","ONCOCON",113,0)
 Q
"RTN","ONCOCON",114,0)
 ;
"RTN","ONCOCON",115,0)
DD ;Format date as mm/dd/yy
"RTN","ONCOCON",116,0)
 S XD=$S(XD="":XD,1:$E(XD,4,5)_"/"_$E(XD,6,7)_"/"_$E(XD,2,3))
"RTN","ONCOCON",117,0)
 Q
"RTN","ONCOCON",118,0)
 ;
"RTN","ONCOCON",119,0)
EX ;Exit
"RTN","ONCOCON",120,0)
 K AD,CSZ,DFN,NOK,OF,ONCO,ONCOAD,ONCODD,OP,RCDT,SD,SDIEN,SP,ST
"RTN","ONCOCON",121,0)
 K VAERR,VAIN,VAIP,VAINDT,VAOA,XAD,XD,XDD,XX,XD0
"RTN","ONCOCON",122,0)
 Q
"RTN","ONCOCON",123,0)
 ;
"RTN","ONCOCON",124,0)
CLEANUP ;Cleanup
"RTN","ONCOCON",125,0)
 K D0
"RTN","ONCOCOP")
0^183^B2361671
"RTN","ONCOCOP",1,0)
ONCOCOP ;WASH ISC/SRR,MLH-COMPUTED FIELDS FOR 165.5, DIRECT TO VARPRT ;8/9/93  09:49
"RTN","ONCOCOP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOP",3,0)
 ;
"RTN","ONCOCOP",4,0)
GETPT ;GET POINTERS
"RTN","ONCOCOP",5,0)
 S X=$P($G(^ONCO(165.5,D0,0)),U,2),X=$P($G(^ONCO(160,+X,0)),U) Q:X=""  S DFN=$P(X,";"),OVR="^"_$P(X,";",2)_DFN_","
"RTN","ONCOCOP",6,0)
 Q
"RTN","ONCOCOP",7,0)
 ;
"RTN","ONCOCOP",8,0)
PID ;PATIENT ID (FIRST DIGIT LAST NAME,PLUS LAST 4 SSN
"RTN","ONCOCOP",9,0)
 D GETPT G EX:X="" S OVR=OVR_"0)",PD0=@OVR,X=$E($P(PD0,U),1)_$E($P(PD0,U,9),6,9) G EX
"RTN","ONCOCOP",10,0)
 Q
"RTN","ONCOCOP",11,0)
STCT ;STATE-COUNTY FROM MAS DATA
"RTN","ONCOCOP",12,0)
 D GETPT G EX:X="" S OVR=OVR_".11)",O11=$G(@OVR),(OS,X)=$P(O11,U,5) G EX:X="" S (OC,X)=$P(O11,U,7) G EX:X="" S (OC,X)=$P($G(^DIC(5,OS,1,OC,0)),U) G EX:X="" S X=$P(^DIC(5,OS,0),U,2) G EX:X="" S X=X_"/"_OC G EX
"RTN","ONCOCOP",13,0)
 W !,"CTY=",X ;S OC=X$P($G(^DIC(5,OS,0)),U,2) G EX:X="",EX:$P(O11,U,7)="" S OCT=$O
"RTN","ONCOCOP",14,0)
EX ;EXIT
"RTN","ONCOCOP",15,0)
 K DFN,OVR,OAD
"RTN","ONCOCOP",16,0)
 Q
"RTN","ONCOCOS")
0^184^B10618905
"RTN","ONCOCOS",1,0)
ONCOCOS ;Hines OIFO/GWB 'COMPUTED-FIELD' EXPRESSIONS ;11/30/11
"RTN","ONCOCOS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCOS",3,0)
 ;
"RTN","ONCOCOS",4,0)
SICD ;SELECTED SITES (165.5,.015)
"RTN","ONCOCOS",5,0)
 S X=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOCOS",6,0)
 S X=$S(X=31:"LUNG NOS",X=62:"LYMPHOMA",X=63:"N-H LYMPHOMA",X=54:"BLADDER",X=17:"COLON",X>65&(X<70):"LEUKEMIA",X=39:"MELANOMA",X=50:"PROSTATE",X=9:"ORAL CAVITY",1:"OTHER")
"RTN","ONCOCOS",7,0)
 Q
"RTN","ONCOCOS",8,0)
 ;
"RTN","ONCOCOS",9,0)
SYS ;SYSTEMS (165.5,.017)
"RTN","ONCOCOS",10,0)
 S X=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOCOS",11,0)
 S X=$S(X=63:"LYMPH-NH",X=62:"LYMPH",1:"") Q:X'=""
"RTN","ONCOCOS",12,0)
 S X=$P($G(^ONCO(165.5,D0,0)),U,22) Q:X=""
"RTN","ONCOCOS",13,0)
 S X=$S(X<6715:"H&N",X<6726:"DS",X<6739:"RS",X<6747:"MS",(X>6751&(X<6768)):"GU",X=6747!(X>6769&(X<6772)):"NS",1:"OTH")
"RTN","ONCOCOS",14,0)
 Q
"RTN","ONCOCOS",15,0)
 ;
"RTN","ONCOCOS",16,0)
RSX ;RACE-SEX (165.5,.13)
"RTN","ONCOCOS",17,0)
 D GT G RSXEX:XD0=""
"RTN","ONCOCOS",18,0)
 S X=$S(SX=1:"-M",SX=2:"-F",1:"")
"RTN","ONCOCOS",19,0)
 S XRX=$S(RC=1:"White"_X,RC=2:"Black"_X,1:"Other"_X)
"RTN","ONCOCOS",20,0)
 S X=XRX
"RTN","ONCOCOS",21,0)
RSXEX K XD0,SX,RC,XRX
"RTN","ONCOCOS",22,0)
 Q
"RTN","ONCOCOS",23,0)
 ;
"RTN","ONCOCOS",24,0)
SXR ;SEX-RACE (165.5,.14)
"RTN","ONCOCOS",25,0)
 D GT G SXREX:XD0=""
"RTN","ONCOCOS",26,0)
 S X=$S(RC=1:"W",RC=2:"B",1:"O")
"RTN","ONCOCOS",27,0)
 S XRX=$S(SX=1:"Male-"_X,SX=2:"Female-"_X,1:X)
"RTN","ONCOCOS",28,0)
 S X=XRX
"RTN","ONCOCOS",29,0)
SXREX K XD0,SX,RC,XRX
"RTN","ONCOCOS",30,0)
 Q
"RTN","ONCOCOS",31,0)
 ;
"RTN","ONCOCOS",32,0)
GT ;RACE 1 (160,8)
"RTN","ONCOCOS",33,0)
 ;SEX (160,10)
"RTN","ONCOCOS",34,0)
 N XP0
"RTN","ONCOCOS",35,0)
 S XD0=$S($D(^ONCO(165.5,D0,0)):$P(^(0),U,2),1:"") Q:XD0=""
"RTN","ONCOCOS",36,0)
 Q:'$D(^ONCO(160,XD0,0))
"RTN","ONCOCOS",37,0)
 S XP0=^ONCO(160,XD0,0)
"RTN","ONCOCOS",38,0)
 S RC=$P(XP0,U,6)
"RTN","ONCOCOS",39,0)
 S SX=$P(XP0,U,8)
"RTN","ONCOCOS",40,0)
 Q
"RTN","ONCOCOS",41,0)
 ;
"RTN","ONCOCOS",42,0)
GSS ;SEER SUMMARY STAGE ABBREVIATED (165.5,35.1)
"RTN","ONCOCOS",43,0)
 S X=$P($G(^ONCO(165.5,D0,2)),U,17)
"RTN","ONCOCOS",44,0)
 S X=$S(X=0:"In Situ",X=1:"Local",X=2:"Reg Ext",X=3:"Reg Nodes",X=4:"Reg Ext/Nodes",X=5:"Reg NOS",X=7:"Dist Met/Sys",X=8:"NA",X=9:"Unk",1:"")
"RTN","ONCOCOS",45,0)
 Q
"RTN","ONCOCOS",46,0)
 ;
"RTN","ONCOCOS",47,0)
SSG1 ;GP-I AJCC SUMMARY STAGE (165.5,38.1)
"RTN","ONCOCOS",48,0)
 D SG
"RTN","ONCOCOS",49,0)
 S X=$S(+X=1:"I"_$E(X,2),1:"")
"RTN","ONCOCOS",50,0)
 Q
"RTN","ONCOCOS",51,0)
 ;
"RTN","ONCOCOS",52,0)
SSG2 ;GP-II AJCC SUMMARY STAGE (165.5,38.2)
"RTN","ONCOCOS",53,0)
 D SG
"RTN","ONCOCOS",54,0)
 S X=$S(+X=2:"II"_$E(X,2),1:"")
"RTN","ONCOCOS",55,0)
 Q
"RTN","ONCOCOS",56,0)
 ;
"RTN","ONCOCOS",57,0)
SSG3 ;GP-III AJCC SUMMARY STAGE (165.5,38.3)
"RTN","ONCOCOS",58,0)
 D SG
"RTN","ONCOCOS",59,0)
 S X=$S(+X=3:"III"_$E(X,2),1:"")
"RTN","ONCOCOS",60,0)
 Q
"RTN","ONCOCOS",61,0)
 ;
"RTN","ONCOCOS",62,0)
SSG4 ;GP-IV AJCC SUMMARY STAGE (165.5,38.4)
"RTN","ONCOCOS",63,0)
 D SG
"RTN","ONCOCOS",64,0)
 S X=$S(+X=4:"IV"_$E(X,2),1:"")
"RTN","ONCOCOS",65,0)
 Q
"RTN","ONCOCOS",66,0)
 ;
"RTN","ONCOCOS",67,0)
SG ;STAGE GROUP CLINICAL (165.5,38)
"RTN","ONCOCOS",68,0)
 S X=$S($D(^ONCO(165.5,D0,2)):$P(^(2),U,20),1:"")
"RTN","ONCOCOS",69,0)
 Q
"RTN","ONCOCOS",70,0)
 ;
"RTN","ONCOCOS",71,0)
TXS ;TREATMENT ABBREVIATED (165.5,42)
"RTN","ONCOCOS",72,0)
 S XD0=D0,XX=0
"RTN","ONCOCOS",73,0)
 F  S XX=$O(^ONCO(165.5,"ATX",XD0,XX)) Q:XX=""  D
"RTN","ONCOCOS",74,0)
 .I $E(XX,1,7)="0000000" Q
"RTN","ONCOCOS",75,0)
 .I $E(XX,1,7)=9999999 Q
"RTN","ONCOCOS",76,0)
 .S T=$E(XX,8,9)
"RTN","ONCOCOS",77,0)
 .I T["S",T'="S1" Q
"RTN","ONCOCOS",78,0)
 .I T["S",X["S" Q
"RTN","ONCOCOS",79,0)
 .S X=$S(X="":$E(XX,8),1:X_"/"_$E(XX,8))
"RTN","ONCOCOS",80,0)
 S X=$S(X="":"UNKNOWN",1:X)
"RTN","ONCOCOS",81,0)
 K XD0,XX,T
"RTN","ONCOCOS",82,0)
 Q
"RTN","ONCOCOS",83,0)
 ;
"RTN","ONCOCOS",84,0)
TX ;TREATMENT (165.5,43)
"RTN","ONCOCOS",85,0)
 S XD0=D0,XX=0
"RTN","ONCOCOS",86,0)
 F  S XX=$O(^ONCO(165.5,"ATX",XD0,XX)) Q:XX=""  D
"RTN","ONCOCOS",87,0)
 .I $E(XX,1,7)="0000000" Q
"RTN","ONCOCOS",88,0)
 .I $E(XX,1,7)=9999999 Q
"RTN","ONCOCOS",89,0)
 .S T=$E(XX,8,9)
"RTN","ONCOCOS",90,0)
 .I T["S",X["SUR" Q
"RTN","ONCOCOS",91,0)
 .S TX=$S(T="S1":"SUR",T="C":"CMX",T="R":"XRT",T="H":"HOR",T="B":"BRM",T="P":"CNS",T="N":"NTX",T="E":"HEM",T="O":"OTR",1:"XXX")
"RTN","ONCOCOS",92,0)
 .S:TX'="XXX" X=$S(X="":TX,1:X_"/"_TX)
"RTN","ONCOCOS",93,0)
 S X=$S(X="":"NONE",1:X)
"RTN","ONCOCOS",94,0)
 K XD0,XX,T,TX
"RTN","ONCOCOS",95,0)
 Q
"RTN","ONCOCOS",96,0)
 ;
"RTN","ONCOCOS",97,0)
TRS ;STATUS/LAST TUMOR STATUS (165.5,95.1)
"RTN","ONCOCOS",98,0)
 S XD0=D0
"RTN","ONCOCOS",99,0)
 S XTS=$P($G(^ONCO(165.5,XD0,7)),U,6)
"RTN","ONCOCOS",100,0)
 S XTS=$S(XTS=1:"No Evidence",XTS=2:"CA Evidence",1:"Unknown")
"RTN","ONCOCOS",101,0)
 S XD1=$P(^ONCO(165.5,XD0,0),U,2)
"RTN","ONCOCOS",102,0)
 S VS=$$GET1^DIQ(160,XD1,15)
"RTN","ONCOCOS",103,0)
 S X=VS_"/"_XTS
"RTN","ONCOCOS",104,0)
 K XD0,XTS,XD1,VS
"RTN","ONCOCOS",105,0)
 Q
"RTN","ONCOCOS",106,0)
 ;
"RTN","ONCOCOS",107,0)
CLEANUP ;Cleanup
"RTN","ONCOCOS",108,0)
 K D0,X
"RTN","ONCOCRA")
0^185^B1506094
"RTN","ONCOCRA",1,0)
ONCOCRA ;Hines OIFO/RTK-CREATE/USE SPECIAL CROSS-REFERENCES ;05/30/00
"RTN","ONCOCRA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCRA",3,0)
 ;
"RTN","ONCOCRA",4,0)
 Q  ;NOT A RUN ROUTINE
"RTN","ONCOCRA",5,0)
 ;TRIGGER mumps cross references for Followup attempts
"RTN","ONCOCRA",6,0)
SLC ;SET LAST FOLLOWUP CONTACT
"RTN","ONCOCRA",7,0)
 Q:X=2!(X=9)  S XD0=$O(^ONCO(160,DA(1),"A","AC",0)) Q:XD0=""  S XD0=$O(^(XD0,0)) S LA=^ONCO(160,DA(1),"A",XD0,0),LC=$P(LA,U,3),$P(^ONCO(160,DA(1),1),U,6)=LC G EX
"RTN","ONCOCRA",8,0)
 ;
"RTN","ONCOCRA",9,0)
KLC ;KILL LAST FOLLOW-UP CONTACT
"RTN","ONCOCRA",10,0)
 Q:X=2!(X=9)  S XD0=$O(^ONCO(160,DA(1),"A","AC",0)) Q:XD0=""  S XD0=$O(^(XD0,0)),XD0=$O(^(XD0,0)) Q:DA'=XD0  S $P(^ONCO(160,DA(1),1),U,6)="" G EX
"RTN","ONCOCRA",11,0)
EX ;EXIT
"RTN","ONCOCRA",12,0)
 K XD0,LA,LC Q
"RTN","ONCOCRC")
0^186^B12766110
"RTN","ONCOCRC",1,0)
ONCOCRC ;Hines OIFO/GWB - Miscellaneous ;06/23/10
"RTN","ONCOCRC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCRC",3,0)
 ;
"RTN","ONCOCRC",4,0)
SAG ;CLASS OF CASE (165.5,.04) AG1 CROSS-REFERENCE SET STATEMENT
"RTN","ONCOCRC",5,0)
 ;CLASS CATEGORY (165.5,.042)
"RTN","ONCOCRC",6,0)
 N CC
"RTN","ONCOCRC",7,0)
 S CC=$S(X="":"",X>9:0,1:1)
"RTN","ONCOCRC",8,0)
 I CC'="" D 
"RTN","ONCOCRC",9,0)
 .S $P(^ONCO(165.5,DA,0),U,20)=CC
"RTN","ONCOCRC",10,0)
 .S ^ONCO(165.5,"AG",CC,DA)=""
"RTN","ONCOCRC",11,0)
 Q
"RTN","ONCOCRC",12,0)
 ;
"RTN","ONCOCRC",13,0)
KAG ;CLASS OF CASE (165.5,.04) AG1 CROSS-REFERENCE KILL STATEMENT
"RTN","ONCOCRC",14,0)
 N XCC
"RTN","ONCOCRC",15,0)
 S XCC=$P(^ONCO(165.5,DA,0),U,20) Q:XCC=""
"RTN","ONCOCRC",16,0)
 S $P(^ONCO(165.5,DA,0),U,20)=""
"RTN","ONCOCRC",17,0)
 K ^ONCO(165.5,"AG",XCC,DA)
"RTN","ONCOCRC",18,0)
 Q
"RTN","ONCOCRC",19,0)
 ;
"RTN","ONCOCRC",20,0)
SACL ;Reset next accession number
"RTN","ONCOCRC",21,0)
 Q:'$D(ONCOACL)  S XY=$E(X,1,2),XAC=$E(X,3,6) K ^ONCO(165.5,"XACD",XY,XAC)
"RTN","ONCOCRC",22,0)
 I '$D(^ONCO(165.5,"ACL",XY)) S ^ONCO(165.5,"ACL",XY)=XAC G EX
"RTN","ONCOCRC",23,0)
 G EX:'(XAC>^ONCO(165.5,"ACL",XY)) K ^ONCO(165.5,"ACL",XY) S ^ONCO(165.5,"ACL",XY)=XAC G EX
"RTN","ONCOCRC",24,0)
 ;
"RTN","ONCOCRC",25,0)
KACL ;KILL FOR NEXT Accession Number
"RTN","ONCOCRC",26,0)
 Q:'$D(ONCOACL)  Q:$D(^ONCO(165.5,"AE",X))  S XY=$E(X,1,2),XAC=$E(X,3,6),XX=$G(^ONCO(165.5,"ACL",XY)) G EX:XX="" I XX>XAC S ^ONCO(165.5,"ACD",XY,XAC)="" G EX
"RTN","ONCOCRC",27,0)
 I XAC>^ONCO(165.5,"ACL",XY) W !!,?5,"ERROR in Accession Numbers - call Developer",!! G EX
"RTN","ONCOCRC",28,0)
 K ^ONCO(165.5,"ACL",XY) F J=1:1 S XAC=XAC-1 S XX=$E(XAC,3,6) G EX:XX="0000" I $D(^ONCO(165.5,"AE",XAC)) S ^ONCO(165.5,"ACL",XY)=XX G EX
"RTN","ONCOCRC",29,0)
 ;
"RTN","ONCOCRC",30,0)
 Q
"RTN","ONCOCRC",31,0)
PSSG ;SET AJCC SUMMARY STAGE GROUP from PATHOLOGIC STAGE GROUP (#88) FIELD
"RTN","ONCOCRC",32,0)
 N SG,XD0
"RTN","ONCOCRC",33,0)
 S XD0=DA
"RTN","ONCOCRC",34,0)
 S CSG=$P($G(^ONCO(165.5,DA,2)),U,20),CSGD="" I CSG'="" S CSG=$E(CSG)
"RTN","ONCOCRC",35,0)
 I CSG'="" S CSGD=$S(CSG=0:0,CSG=1:"I",CSG=2:"II",CSG=3:"III",CSG=4:"IV",CSG=9:"U",CSG=8:"NA",1:"")
"RTN","ONCOCRC",36,0)
 S SG=$E(X),SG=$S(SG=0:0,SG=1:"I",SG=2:"II",SG=3:"III",SG=4:"IV",SG=9&(CSG>7):"U",SG=9&(CSG=""):"U",SG=8&(CSG>7):"NA",SG=8&(CSG=""):"NA",1:CSGD) D KGF,SGF G EX
"RTN","ONCOCRC",37,0)
 ;
"RTN","ONCOCRC",38,0)
CSSG ;SET AJCC SUMMARY STAGE GROUP from CLINICAL STAGE GROUP (#38) FIELD
"RTN","ONCOCRC",39,0)
 N SG,XD0
"RTN","ONCOCRC",40,0)
 S XD0=DA
"RTN","ONCOCRC",41,0)
 S PSG=$P($G(^ONCO(165.5,DA,2.1)),U,4),PSGD="" I PSG'="" S PSG=$E(PSG)
"RTN","ONCOCRC",42,0)
 I PSG'="" S PSGD=$S(PSG=0:0,PSG=1:"I",PSG=2:"II",PSG=3:"III",PSG=4:"IV",PSG=9:"U",PSG=8:"NA",1:"")
"RTN","ONCOCRC",43,0)
 I PSG'="",PSG<7 S SG=PSGD D KGF,SGF G EX
"RTN","ONCOCRC",44,0)
 S SG=$E(X),SG=$S(SG=0:0,SG=1:"I",SG=2:"II",SG=3:"III",SG=4:"IV",SG=9&(PSG'=8):"U",SG=8&(PSG'=9):"NA",1:PSGD) D KGF,SGF G EX
"RTN","ONCOCRC",45,0)
 ;
"RTN","ONCOCRC",46,0)
SSG ;SET AJCC SUMMARY STAGE GROUP from SUMMARY STAGE
"RTN","ONCOCRC",47,0)
 N SG,XD0
"RTN","ONCOCRC",48,0)
 S XD0=DA,SG=$E(X),SG=$S(SG=0:0,SG=1:"I",SG=2:"II",SG=3:"III",SG=4:"IV",SG=9:"U",SG=8:"NA",1:"") D KGF,SGF G EX
"RTN","ONCOCRC",49,0)
 ;
"RTN","ONCOCRC",50,0)
KGF ;KILL OLD AJCC-GP X-REFERENCE
"RTN","ONCOCRC",51,0)
 N XSG
"RTN","ONCOCRC",52,0)
 S XSG=$S($D(^ONCO(165.5,XD0,2)):$P(^(2),U,28),1:"") Q:XSG=""  K ^ONCO(165.5,"ASG",XSG,DA) Q
"RTN","ONCOCRC",53,0)
 ;
"RTN","ONCOCRC",54,0)
SGF ;STUFF #38.5 AJCC SUMMARY STAGE-GROUP (2;28) and SET NEW CROSS REFERENCE
"RTN","ONCOCRC",55,0)
 Q:SG=""  S $P(^ONCO(165.5,XD0,2),U,28)=SG,^ONCO(165.5,"ASG",SG,DA)="" Q
"RTN","ONCOCRC",56,0)
 ;
"RTN","ONCOCRC",57,0)
KSG ;KILL STATEMENT F
"RTN","ONCOCRC",58,0)
 S XD0=DA D KGF
"RTN","ONCOCRC",59,0)
 I $D(DC) I DC="" D
"RTN","ONCOCRC",60,0)
 .S SG=$S(DI=38:$P(^ONCO(165.5,XD0,2.1),U,4),DI=88:$P(^ONCO(165.5,XD0,2),U,20),1:""),SG=$E(SG),SG=$S(SG=0:0,SG=1:"I",SG=2:"II",SG=3:"III",SG=4:"IV",SG=9:"U",SG=8:"NA",1:"")
"RTN","ONCOCRC",61,0)
 .S $P(^ONCO(165.5,XD0,2),U,28)=SG S:SG'="" ^ONCO(165.5,"ASG",SG,DA)="" Q
"RTN","ONCOCRC",62,0)
 G EX
"RTN","ONCOCRC",63,0)
 ;
"RTN","ONCOCRC",64,0)
EX ;Exit
"RTN","ONCOCRC",65,0)
 K CSG,CSGD,J,ONCOACL,PSG,PSGD,XAC,XY,XD0,XX,XCC,XSG
"RTN","ONCOCRC",66,0)
 Q
"RTN","ONCOCRC",67,0)
 ;
"RTN","ONCOCRC",68,0)
SNHL ;Set SYSTEMIC SYMPTOMS (165.5,843) triggered from LYMPH NODES (165.5,31)
"RTN","ONCOCRC",69,0)
 N ONCOS S ONCOS=$P($G(^ONCO(165.5,DA,0)),U,1) ;Site/Gp
"RTN","ONCOCRC",70,0)
 N ONCOH S ONCOH=$$HIST^ONCFUNC(DA)            ;Histology
"RTN","ONCOCRC",71,0)
 ;If Lymphoma, set SYSTEMIC SYMPTOMS (165.5,843)
"RTN","ONCOCRC",72,0)
 I $$LYMPHOMA^ONCFUNC(DA)!(ONCOS=62)!(ONCOS=63) D  Q
"RTN","ONCOCRC",73,0)
 .S $P(^ONCO(165.5,DA,"NHL1"),U,44)=$S(X=0:1,X=1!(X=2)!(X=3):2,X=9:9,1:"") Q
"RTN","ONCOCRC",74,0)
 Q
"RTN","ONCOCRC",75,0)
KNHL ;
"RTN","ONCOCRC",76,0)
 Q
"RTN","ONCOCRC",77,0)
 ;
"RTN","ONCOCRC",78,0)
CLEANUP ;Cleanup
"RTN","ONCOCRC",79,0)
 K DA,DC,DI,X
"RTN","ONCOCRF")
0^5^B14483451
"RTN","ONCOCRF",1,0)
ONCOCRF ;Hines OIFO/GWB - FOLLOW-UP ;07/13/00
"RTN","ONCOCRF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCRF",3,0)
 ;
"RTN","ONCOCRF",4,0)
LD ;DATE OF LAST CONTACT OR DEATH (160.04,.01)
"RTN","ONCOCRF",5,0)
 N O1,O2,STOP S LD="",STOP=0
"RTN","ONCOCRF",6,0)
 S O1=""
"RTN","ONCOCRF",7,0)
 F  S O1=$O(^ONCO(160,XD0,"F","B",O1)) Q:'O1  D  Q:STOP
"RTN","ONCOCRF",8,0)
 .S O2=""
"RTN","ONCOCRF",9,0)
 .F  S O2=$O(^ONCO(160,XD0,"F","B",O1,O2)) Q:'O2  D  Q:STOP
"RTN","ONCOCRF",10,0)
 ..S LD=$G(^ONCO(160,XD0,"F",O2,0))
"RTN","ONCOCRF",11,0)
 ..I $P(LD,U,2)=0 S STOP=1 ;VITAL STATUS (160.04,1)="Dead"
"RTN","ONCOCRF",12,0)
 Q
"RTN","ONCOCRF",13,0)
 ;
"RTN","ONCOCRF",14,0)
R1 ;Kill STATUS (160,15) "AS" and DUE FOLLOW-UP (160,27) "AD"
"RTN","ONCOCRF",15,0)
 ;cross-references
"RTN","ONCOCRF",16,0)
 S XD=$G(^ONCO(160,XD0,1)) Q:XD=""
"RTN","ONCOCRF",17,0)
 S OS=$P(XD,U,1) K:OS'="" ^ONCO(160,"AS",OS,XD0)
"RTN","ONCOCRF",18,0)
 S OD=$P(XD,U,2) K:OD'="" ^ONCO(160,"AD",OD,XD0)
"RTN","ONCOCRF",19,0)
 Q
"RTN","ONCOCRF",20,0)
 ;
"RTN","ONCOCRF",21,0)
LDXT ;Return follow-up record for last date of contact excluding this one
"RTN","ONCOCRF",22,0)
 S LD=$O(^ONCO(160,XD0,"F","AA",0)) I LD'="" S:$D(^(LD,DA)) LD=$O(^ONCO(160,XD0,"F","AA",LD)) I LD'="" S LD=+$O(^(LD,0)),LD=$G(^ONCO(160,XD0,"F",LD,0))
"RTN","ONCOCRF",23,0)
 Q
"RTN","ONCOCRF",24,0)
 ;
"RTN","ONCOCRF",25,0)
SLF ;Set DATE OF LAST CONTACT OR DEATH (160.04,.01) "AA" cross-reference
"RTN","ONCOCRF",26,0)
 ;Set REGISTRAR (160.04,11) and DATE ENTERED (160.04)
"RTN","ONCOCRF",27,0)
 N ONCDUZ,ONCDT
"RTN","ONCOCRF",28,0)
 S XD0=DA(1),X1=9999999-X,^ONCO(160,XD0,"F","AA",X1,DA)=""
"RTN","ONCOCRF",29,0)
 S ONCDUZ=DUZ
"RTN","ONCOCRF",30,0)
 S ONCDT=DT
"RTN","ONCOCRF",31,0)
 S:$P(^ONCO(160,XD0,"F",DA,0),U,10)="" $P(^ONCO(160,XD0,"F",DA,0),U,10)=ONCDUZ
"RTN","ONCOCRF",32,0)
 S:$P(^ONCO(160,XD0,"F",DA,0),U,11)="" $P(^ONCO(160,XD0,"F",DA,0),U,11)=ONCDT
"RTN","ONCOCRF",33,0)
 G EX
"RTN","ONCOCRF",34,0)
 ;
"RTN","ONCOCRF",35,0)
KLF ;Kill .01 of FOLLOW-UP MULTIPLE-RESETS: #16(1;2), STATUS #15(1;1), FOLLOWUP STATUS #15.2(1;7), DUE FOLLOW-UP #27(2;3), if alive, DATE DEATH #29 (1;8)
"RTN","ONCOCRF",36,0)
 ;CODE MODIFIED TO ELIMINATE FM RE-INDEXING DATA LOSS
"RTN","ONCOCRF",37,0)
 ;CHANGE MADE TO PREVENT DELETING DEATH DATA, IN FM CROSS-REFERENCING
"RTN","ONCOCRF",38,0)
 S XD0=DA(1),X1=9999999-X K ^ONCO(160,XD0,"F","AA",X1,DA) G EX
"RTN","ONCOCRF",39,0)
 ;
"RTN","ONCOCRF",40,0)
SVS ;VITAL STATUS->STATUS (160,15) trigger AND UPDATE DUE FOLLOW-UP IF DEAD
"RTN","ONCOCRF",41,0)
 ;Invoked by "AC" xref on VITAL STATUS sub-field (160.04,1)
"RTN","ONCOCRF",42,0)
 S XD0=DA(1) D LD ;get the last sub-record alive (or the first dead)
"RTN","ONCOCRF",43,0)
 D UVS^ONCOCRFA   ;update vital status
"RTN","ONCOCRF",44,0)
 Q
"RTN","ONCOCRF",45,0)
 ;
"RTN","ONCOCRF",46,0)
KVS ;Kill: reset STATUS
"RTN","ONCOCRF",47,0)
 S XD0=DA(1) D LDXT ;get the last sub-record (excluding this one)
"RTN","ONCOCRF",48,0)
 D UVS^ONCOCRFA     ;update vital status
"RTN","ONCOCRF",49,0)
 Q
"RTN","ONCOCRF",50,0)
 ;
"RTN","ONCOCRF",51,0)
NF ;Set DUE FOLLOW-UP (160,27)
"RTN","ONCOCRF",52,0)
 S NF=$S(FS=0:"",1:$E(LC,1,3)+1_$E(LC,4,5)_"00")
"RTN","ONCOCRF",53,0)
 S $P(^ONCO(160,XD0,1),U,2)=NF
"RTN","ONCOCRF",54,0)
 I NF'="" S ^ONCO(160,"AD",NF,XD0)=""
"RTN","ONCOCRF",55,0)
 Q
"RTN","ONCOCRF",56,0)
 ;
"RTN","ONCOCRF",57,0)
UPD ;Update the following fields with the most recent FOLLOW-UP (160,400)
"RTN","ONCOCRF",58,0)
 ;data:
"RTN","ONCOCRF",59,0)
 ;STATUS             (160,15)   1;1
"RTN","ONCOCRF",60,0)
 ;FOLLOW-UP STATUS   (160,15.2) 1;7
"RTN","ONCOCRF",61,0)
 ;ICD REVSION        (160,20)   1;4
"RTN","ONCOCRF",62,0)
 ;DUE FOLLOW-UP      (160,27)   1;2
"RTN","ONCOCRF",63,0)
 ;DATE@TIME OF DEATH (160,29)   1;8
"RTN","ONCOCRF",64,0)
 I '$D(XD0) Q:'$D(D0)  S XD0=D0
"RTN","ONCOCRF",65,0)
 D LD,R1 G EX:LD=""
"RTN","ONCOCRF",66,0)
 S LC=$P(LD,U,1),ONCOVS=$P(LD,U,2),NM=$P(LD,U,6)
"RTN","ONCOCRF",67,0)
 S FS=$S(NM="":1,NM<8:1,ONCOVS=0:0,1:0)
"RTN","ONCOCRF",68,0)
 I FS S X1=DT,X2=LC D ^%DTC S FS=$S(X>456.25:8,1:FS)
"RTN","ONCOCRF",69,0)
 S DIE="^ONCO(160,",DA=XD0,DR="15///"_ONCOVS_";15.2///"_FS D ^DIE
"RTN","ONCOCRF",70,0)
 K DIE,DR
"RTN","ONCOCRF",71,0)
 S $P(^ONCO(160,XD0,1),U,4)=$S(ONCOVS=0:9,1:0)
"RTN","ONCOCRF",72,0)
 D NF I FS S Y=NF D DD^%DT W !!?20,"Due follow-up: ",Y G EX
"RTN","ONCOCRF",73,0)
 S:ONCOVS=0 $P(^ONCO(160,XD0,1),U,8)=LC
"RTN","ONCOCRF",74,0)
 W !!," Patient not followed"
"RTN","ONCOCRF",75,0)
 G EX
"RTN","ONCOCRF",76,0)
 ;
"RTN","ONCOCRF",77,0)
LFU ;LAST FOLLOW-UP SUMMARY-SELECTED DATA from Last Follow-up
"RTN","ONCOCRF",78,0)
 S XD0=D0 D GD I X="" W !?10,"NO Last Contact Information on Patient",! G EX
"RTN","ONCOCRF",79,0)
DLC ;DATE LAST CONTACT (160,16) from "AF" cross-reference
"RTN","ONCOCRF",80,0)
 S XD0=D0 D GD G EX
"RTN","ONCOCRF",81,0)
 ;
"RTN","ONCOCRF",82,0)
CAS ;CANCER STATUS Last Date Contact
"RTN","ONCOCRF",83,0)
DOD ;computed Date of Death
"RTN","ONCOCRF",84,0)
 I $D(^ONCO(160,D0,1)),$P(^(1),U,1)=0 G DLC
"RTN","ONCOCRF",85,0)
 S X="" G EX
"RTN","ONCOCRF",86,0)
GD ;DATE LAST CONTACT (160,16)
"RTN","ONCOCRF",87,0)
 S X=$S('$D(^ONCO(160,XD0,"F","AA")):"",1:9999999-$O(^ONCO(160,XD0,"F","AA",0)))
"RTN","ONCOCRF",88,0)
 Q
"RTN","ONCOCRF",89,0)
 ;
"RTN","ONCOCRF",90,0)
PDLC ;DATE LAST CONTACT (165.5,200)
"RTN","ONCOCRF",91,0)
 S X=$S('$D(^ONCO(165.5,D0,"TS","AA")):"",1:9999999-$O(^ONCO(165.5,D0,"TS","AA",0))) G EX
"RTN","ONCOCRF",92,0)
 ;
"RTN","ONCOCRF",93,0)
PDLC1 ;DATE LAST CONTACT FILMANAGER FORMAT
"RTN","ONCOCRF",94,0)
 D P0 G EX:XD0="" D GD G EX
"RTN","ONCOCRF",95,0)
 ;
"RTN","ONCOCRF",96,0)
P0 S XD0=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOCRF",97,0)
 Q
"RTN","ONCOCRF",98,0)
 ;
"RTN","ONCOCRF",99,0)
SDA ;SURVIVAL DAYS
"RTN","ONCOCRF",100,0)
 D P0 G EX:XD0="" D SD G EX ;PRESENTS SURVIVAL IN DAYS
"RTN","ONCOCRF",101,0)
 ;
"RTN","ONCOCRF",102,0)
SUR ;SURVIVAL (MONTHS)
"RTN","ONCOCRF",103,0)
 D P0 G EX:XD0="" D SD G EX:X="" S X=X/30.4375 G EX
"RTN","ONCOCRF",104,0)
 ;
"RTN","ONCOCRF",105,0)
SYR ;SURVIVAL YEARS
"RTN","ONCOCRF",106,0)
 D P0 G EX:XD0="" D SD G EX:X="" S X=X/365.25 G EX
"RTN","ONCOCRF",107,0)
 ;
"RTN","ONCOCRF",108,0)
SWK ;WEEKS FOLLOWUP
"RTN","ONCOCRF",109,0)
 D P0 G EX:XD0="" D SD G EX:X="" S X=X/7 G EX
"RTN","ONCOCRF",110,0)
 ;
"RTN","ONCOCRF",111,0)
SD S XDX=$P(^ONCO(165.5,D0,0),U,16) D GD,DC
"RTN","ONCOCRF",112,0)
 Q
"RTN","ONCOCRF",113,0)
DC ;DATE COMPARE
"RTN","ONCOCRF",114,0)
 S X2=XDX,X1=X S X=$S(X2="":"",X1="":"",1:0) Q:X=""  I X2>X1 S X="" Q
"RTN","ONCOCRF",115,0)
 D ^%DTC Q
"RTN","ONCOCRF",116,0)
DD ;DATE FORMATING
"RTN","ONCOCRF",117,0)
 S XD=$S(XD="":"",$E(XD,6,7)="00":$E(XD,4,5)_"/"_($E(XD,1,3)+1700),1:$E(XD,4,5)_"/"_$E(XD,6,7)_"/"_($E(XD,1,3)+1700))
"RTN","ONCOCRF",118,0)
 Q
"RTN","ONCOCRF",119,0)
SDF ;DUE FOLLOW-UP-TIGGERED BY NEXT FOLLOW-UP METHOD of FOLLOW-UP MULTIPLE
"RTN","ONCOCRF",120,0)
 Q
"RTN","ONCOCRF",121,0)
KDF ;KILL DUE FOLLOW-UP
"RTN","ONCOCRF",122,0)
 Q
"RTN","ONCOCRF",123,0)
 ;
"RTN","ONCOCRF",124,0)
EX ;KILL variables
"RTN","ONCOCRF",125,0)
 K FS,LC,LD,NF,NM,OD,ONCDT,ONCDUZ,ONCVS,OS,X1,X2,XD,XD0,XDX,Y
"RTN","ONCOCRF",126,0)
 Q
"RTN","ONCOCRFA")
0^187^B3817093
"RTN","ONCOCRFA",1,0)
ONCOCRFA ;WASH ISC/SRR,MLH - FOLLOWUP XREF HELPER - UPDATE VITAL STATUS ;4/23/93  10:49
"RTN","ONCOCRFA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOCRFA",3,0)
 Q  ;NOT A RUN ROUTINE
"RTN","ONCOCRFA",4,0)
 ;
"RTN","ONCOCRFA",5,0)
UVS ;    update vital status
"RTN","ONCOCRFA",6,0)
 N VS,OVS,IC
"RTN","ONCOCRFA",7,0)
 S VS=$P(LD,U,2),OVS=$P($G(^ONCO(160,XD0,1)),U) ;   get vital status (from follow-up), old vital status (from onco pat rec)
"RTN","ONCOCRFA",8,0)
 I OVS'="" K ^ONCO(160,"AS",OVS,XD0) ;    kill old xref
"RTN","ONCOCRFA",9,0)
 S $P(^ONCO(160,XD0,1),U)=VS ;    set new vital status
"RTN","ONCOCRFA",10,0)
 I VS'="" S ^ONCO(160,"AS",VS,XD0)="" ;    set new xref
"RTN","ONCOCRFA",11,0)
 ;
"RTN","ONCOCRFA",12,0)
 D @$S(VS:"UVSALIVE",1:"UVSDEAD") ;    update patient fields depending on vital status
"RTN","ONCOCRFA",13,0)
 QUIT
"RTN","ONCOCRFA",14,0)
 ;
"RTN","ONCOCRFA",15,0)
UVSALIVE ;    clear death fields for living patient
"RTN","ONCOCRFA",16,0)
 N R1,L1
"RTN","ONCOCRFA",17,0)
 S R1=$G(^ONCO(160,XD0,1)) ;    scalar node containing the death fields
"RTN","ONCOCRFA",18,0)
 ;    clear fields 19,20,21,29,23,24,24.5,18.9,22.9,24.6
"RTN","ONCOCRFA",19,0)
 F I=3,4,5,8,9,10,11,12,13,14 I $L($P(R1,U,I)) S $P(R1,U,I)=""
"RTN","ONCOCRFA",20,0)
 ;    remove extraneous up-arrows
"RTN","ONCOCRFA",21,0)
 F  S L1=$L(R1) Q:$E(R1,L1)'=U  S R1=$E(R1,1,L1-1)
"RTN","ONCOCRFA",22,0)
 ;    reset node to the file
"RTN","ONCOCRFA",23,0)
 S ^ONCO(160,XD0,1)=R1
"RTN","ONCOCRFA",24,0)
 ;
"RTN","ONCOCRFA",25,0)
 ;    clear path report WP node
"RTN","ONCOCRFA",26,0)
 K ^ONCO(160,XD0,4)
"RTN","ONCOCRFA",27,0)
 Q
"RTN","ONCOCRFA",28,0)
 ;
"RTN","ONCOCRFA",29,0)
UVSDEAD ;    update follow-up and date of death fields for dead patient
"RTN","ONCOCRFA",30,0)
 N NF
"RTN","ONCOCRFA",31,0)
 S NF=$P($G(^ONCO(160,XD0,1)),U,2),$P(^(1),U,2)="" ;    get & clear date of next f-u (field 27)
"RTN","ONCOCRFA",32,0)
 I NF'="" K ^ONCO(160,"AD",NF,XD0) ;    kill f-u xref
"RTN","ONCOCRFA",33,0)
 ;
"RTN","ONCOCRFA",34,0)
 S $P(^ONCO(160,XD0,1),U,8)=$P(LD,U),$P(^(1),U,4)=9 ;    reset date@time of death and ICD revision (fields 29, 20)
"RTN","ONCOCRFA",35,0)
 ;
"RTN","ONCOCRFA",36,0)
 Q
"RTN","ONCODEL")
0^188^B18347782
"RTN","ONCODEL",1,0)
ONCODEL ;Hines OIFO/GWB - EXTENSION and LYMPH NODES ;8/12/94
"RTN","ONCODEL",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODEL",3,0)
 ;
"RTN","ONCODEL",4,0)
IN ;EXTENSION (165.5,30) and LYMPH NODES (165.5,31) INPUT TRANSFORM
"RTN","ONCODEL",5,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCODEL",6,0)
 N OP S OP=$$GETLIST(D0,ONCOX,ONCOT)
"RTN","ONCODEL",7,0)
 I OP D
"RTN","ONCODEL",8,0)
 .I X?.N D  Q
"RTN","ONCODEL",9,0)
 ..I (X>99)!(X<0)!(X?.E1"."1N.N)!(X'?1.2N) K X W "  Invalid code" Q
"RTN","ONCODEL",10,0)
 ..S:($L(X)=2)&($E(X,1)="0") X=$E(X,2)
"RTN","ONCODEL",11,0)
 ..S Y=$G(^ONCO(164.5,OP,1,(X+1),0))
"RTN","ONCODEL",12,0)
 ..I Y="" K X W "  Invalid Code" Q
"RTN","ONCODEL",13,0)
 ..W ?(17-$L(X))," "_Y
"RTN","ONCODEL",14,0)
 .I X?.AP D UCASE^ONCOU D  Q
"RTN","ONCODEL",15,0)
 ..S XX=X
"RTN","ONCODEL",16,0)
 ..I $D(^ONCO(164.5,OP,1,"C",X)) D  Q
"RTN","ONCODEL",17,0)
 ...S X=$O(^ONCO(164.5,OP,1,"C",X,0)),X=X-1
"RTN","ONCODEL",18,0)
 ...W ?(17-$L(X)),$P(Y,XX,2)
"RTN","ONCODEL",19,0)
 ..S Y=$O(^ONCO(164.5,OP,1,"C",X))
"RTN","ONCODEL",20,0)
 ..I ($P(Y,XX,1)'="")!(Y="") K X W "  Invalid code" Q
"RTN","ONCODEL",21,0)
 ..S X=$O(^ONCO(164.5,OP,1,"C",Y,0)),X=X-1
"RTN","ONCODEL",22,0)
 ..W ?(17-$L(X)),$P(Y,XX,2)
"RTN","ONCODEL",23,0)
 .K X W "  Invalid code"
"RTN","ONCODEL",24,0)
 E  W:OP'="" !,OP,*7,! K X
"RTN","ONCODEL",25,0)
 D EX Q
"RTN","ONCODEL",26,0)
 ;
"RTN","ONCODEL",27,0)
OT ;EXTENSION (165.5,30) and LYMPH NODES (165.5,31) OUTPUT TRANSFORM
"RTN","ONCODEL",28,0)
 Q:Y=""
"RTN","ONCODEL",29,0)
 N YY,OP
"RTN","ONCODEL",30,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCODEL",31,0)
 S OP=$$GETLIST(D0,ONCOX,ONCOT)
"RTN","ONCODEL",32,0)
 I ONCOX="E",$L(Y)=1 S Y="0"_Y
"RTN","ONCODEL",33,0)
 I OP S YY=$G(^ONCO(164.5,OP,1,(Y+1),0)),Y=$S(YY="":"Invalid code",1:Y_" "_YY)
"RTN","ONCODEL",34,0)
 E  S Y=OP
"RTN","ONCODEL",35,0)
 D EX
"RTN","ONCODEL",36,0)
 Q
"RTN","ONCODEL",37,0)
 ;
"RTN","ONCODEL",38,0)
HP ;EXTENSION (165.5,30) and LYMPH NODES (165.5,31) HELP
"RTN","ONCODEL",39,0)
 S ONCOT=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCODEL",40,0)
 N OP S OP=$$GETLIST(D0,ONCOX,ONCOT)
"RTN","ONCODEL",41,0)
 I OP D
"RTN","ONCODEL",42,0)
 .W !?2,$P(^ONCO(164.5,OP,0),U)," (",SEERED," edition)",!
"RTN","ONCODEL",43,0)
 .N X,Y S X=0
"RTN","ONCODEL",44,0)
 .F  S X=$O(^ONCO(164.5,OP,1,X)) Q:X'>0  D
"RTN","ONCODEL",45,0)
 ..S Y=X-1 S:($L(Y)=1)&(ONCOX="E") Y="0"_Y W !?2,Y_" "_^(X,0)
"RTN","ONCODEL",46,0)
 E  W:OP'="" !,OP,*7,! K X
"RTN","ONCODEL",47,0)
 W !
"RTN","ONCODEL",48,0)
 D EX Q
"RTN","ONCODEL",49,0)
 ;
"RTN","ONCODEL",50,0)
EX ;KILL variables
"RTN","ONCODEL",51,0)
 K HISTNAM,HSTFLD,ICDFILE,ONCOX,SEERED,ONCFLD,XX
"RTN","ONCODEL",52,0)
 Q
"RTN","ONCODEL",53,0)
 ;
"RTN","ONCODEL",54,0)
GETLIST(ONCOIX,CODTYP,ONCOT,OUTFLAG) ;CODTYP (E=extension, L=lymph node)
"RTN","ONCODEL",55,0)
 N OP
"RTN","ONCODEL",56,0)
 N ED S ED=$$EDITION^ONCOU55(ONCOIX)
"RTN","ONCODEL",57,0)
 S SEERED=$S(ED=3:"3rd",ED=2:"2nd",ED=1:"1st",1:ED)
"RTN","ONCODEL",58,0)
 N ONCOER
"RTN","ONCODEL",59,0)
 N SCOD S SCOD=$P(^ONCO(165.5,ONCOIX,0),U)
"RTN","ONCODEL",60,0)
 I ONCOT="" S ONCOER="No PRIMARY SITE."
"RTN","ONCODEL",61,0)
 I $G(ONCOER)="" N HST S HST=$$HIST^ONCFUNC(D0,.HSTFLD,.HISTNAM,.ICDFILE) I HST="" S ONCOER="No HISTOLOGY."
"RTN","ONCODEL",62,0)
 I $G(ONCOER)="" D
"RTN","ONCODEL",63,0)
 .N MELANOMA S MELANOMA=$$MELANOMA^ONCOU55(ONCOIX)
"RTN","ONCODEL",64,0)
 .I MELANOMA,$P($G(^ONCO(164,ONCOT,0)),U,15) S OP=$S(CODTYP="E":145,CODTYP="L":146,1:0) ;Malignant melanoma of the skin
"RTN","ONCODEL",65,0)
 .E  I MELANOMA,ED=2,ONCOT=67690 S OP=$S(CODTYP="E":167,CODTYP="L":172,1:0) ;Malignant melanoma of the conjunctiva (uses Conjunctiva list)
"RTN","ONCODEL",66,0)
 .E  I MELANOMA,ED=2,ONCOT>67690,ONCOT<67700 S OP=$S(CODTYP="E":169,CODTYP="L":170,1:0) ;Malignant Melanoma of Uvea - 2nd edition
"RTN","ONCODEL",67,0)
 .E  I MELANOMA,ED=3,ONCOT>67690,ONCOT<67700 S OP=$S(CODTYP="E":241,CODTYP="L":170,1:0) ;Malignant Melanoma of Uvea - 3rd edition 
"RTN","ONCODEL",68,0)
 .E  D
"RTN","ONCODEL",69,0)
 ..S OP=$P($G(^ONCO(ICDFILE,HST,CODTYP)),U,ED) ;Histology
"RTN","ONCODEL",70,0)
 ..I '$G(OP),ONCOT=67422,(($E(HST,1,3)<959)!($E(HST,1,3)>971)),'$$LEUKEMIA^ONCOAIP2(ONCOIX),HST'=91403 S OP=$S(CODTYP="E":132,1:133)
"RTN","ONCODEL",71,0)
 ..I '$G(OP),((ONCOT=67770)&((SCOD=62)!(SCOD=63)))!(SCOD=35)!(SCOD=39)!(SCOD=40) S OP=$P($G(^ONCO(164.2,SCOD,CODTYP)),U,ED) ;Special site-groups
"RTN","ONCODEL",72,0)
 ..I '$G(OP),ONCOT=67619,$G(ONCFLD)=30,ED=3 S OP=$P($G(^ONCO(164,ONCOT,CODTYP)),U,ED) ;Prostate Gland--Clincal Extension
"RTN","ONCODEL",73,0)
 ..I '$G(OP),ONCOT=67619,$G(ONCFLD)=30.1,ED=3 S OP=250 ;Prostate Gland--Pathologic Extension
"RTN","ONCODEL",74,0)
 ..I '$G(OP) S OP=$P($G(^ONCO(164,ONCOT,CODTYP)),U,ED) ;Topography
"RTN","ONCODEL",75,0)
 ..I '$G(OP) S OP=$P($G(^ONCO(164.2,SCOD,CODTYP)),U,ED) ;Other site-groups
"RTN","ONCODEL",76,0)
 ..I '$G(OP),SCOD=77,HST=97613 S OP=$S(CODTYP="E":84,CODTYP="L":85,1:0) ;Waldenstrom macroglobulinemia
"RTN","ONCODEL",77,0)
 I $D(ONCOER) Q ONCOER
"RTN","ONCODEL",78,0)
 E  Q $S($G(OUTFLAG)'="OUT":OP,1:OP_" "_$P(^ONCO(164.5,OP,0),U,5)_" "_ED_" "_$P(^(0),U))
"RTN","ONCODGR")
0^189^B2195125
"RTN","ONCODGR",1,0)
ONCODGR ;WASH ISC/SRR-DD for GRADE: #24;file 165.5 ;2/9/93  15:11
"RTN","ONCODGR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODGR",3,0)
 ;
"RTN","ONCODGR",4,0)
SS S S=$P(^ONCO(165.5,D0,0),U) S SS=$S(S=63:62,(S>65&(S<70)):68,S=40:62,S'=62:36,1:S)
"RTN","ONCODGR",5,0)
 Q
"RTN","ONCODGR",6,0)
IN ;CHECK INPUT GRADE #24;165.5
"RTN","ONCODGR",7,0)
 D SS S Y=$O(^ONCO(164.2,SS,"G","X",X,0)) I Y="" K X Q
"RTN","ONCODGR",8,0)
 S Y=^ONCO(164.2,SS,"G",Y,0) W ?15,$P(Y,U)_" "_$P(Y,U,2) K Y G EX
"RTN","ONCODGR",9,0)
 K X,Y G EX
"RTN","ONCODGR",10,0)
 Q
"RTN","ONCODGR",11,0)
 ;
"RTN","ONCODGR",12,0)
OT ;OUTPUT TRANSFORM for N0 CANCER-DIRECTED/SITE SPECIFIC surgery #58.1
"RTN","ONCODGR",13,0)
 Q:Y=""  D SS S X=$O(^ONCO(164.2,SS,"G","X",Y,0)) G EX:X="" S X=^ONCO(164.2,SS,"G",X,0),Y=$P(X,U)_" "_$P(X,U,2) G EX
"RTN","ONCODGR",14,0)
 ;
"RTN","ONCODGR",15,0)
HP ;EXTENDED HELP for GRADE #24 (FILE 165.5)
"RTN","ONCODGR",16,0)
 K DIR I X="??" S XQH="ONCO GRADE" D EN^XQH W !!
"RTN","ONCODGR",17,0)
 D SS S Y=0 F  S Y=$O(^ONCO(164.2,SS,"G",Y)) Q:Y="B"  S X=^(Y,0) W ?10,$P(X,U,3)_"-"_$P(X,U)_" "_$P(X,U,2),!
"RTN","ONCODGR",18,0)
 W !?5,"Enter a 1-digit code from above list.",! G EX
"RTN","ONCODGR",19,0)
 ;
"RTN","ONCODGR",20,0)
GA() ;    Computation for GRADE ABBREVIATION Field (#25)
"RTN","ONCODGR",21,0)
 ;    in ONCOLOGY PRIMARY File (#165.5)
"RTN","ONCODGR",22,0)
 ;
"RTN","ONCODGR",23,0)
 S X=$P($G(^ONCO(165.5,D0,2)),U,5)
"RTN","ONCODGR",24,0)
 S X=$S(X=1:"WD",X=2:"MD",X=3:"PD",X=4:"ANA",X=5:"T-CELL",X=6:"B-CELL",X=7:"NULL-CELL",1:"")
"RTN","ONCODGR",25,0)
 Q X
"RTN","ONCODGR",26,0)
 ;
"RTN","ONCODGR",27,0)
EX ;EXIT
"RTN","ONCODGR",28,0)
 K SS Q
"RTN","ONCODIS")
0^14^B773952
"RTN","ONCODIS",1,0)
ONCODIS ;Hines OIFO/GWB - OncoTrax Banner ;09/13/11
"RTN","ONCODIS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODIS",3,0)
 ;
"RTN","ONCODIS",4,0)
MAIN ;OncoTrax Banner
"RTN","ONCODIS",5,0)
 S RC=$$CHKVER^ONCSAPIV()
"RTN","ONCODIS",6,0)
 D LOGO
"RTN","ONCODIS",7,0)
 K I,RC
"RTN","ONCODIS",8,0)
 Q
"RTN","ONCODIS",9,0)
 ;
"RTN","ONCODIS",10,0)
LOGO ;Display banner
"RTN","ONCODIS",11,0)
 W @IOF W !!!!!! F I=1:1:9 W !,?22,$P($T(DISP+I),";",3)
"RTN","ONCODIS",12,0)
 W !!,?22,"Department of Veterans Affairs"
"RTN","ONCODIS",13,0)
 W !?22,"OncoTraX V2.2 P1" Q
"RTN","ONCODIS",14,0)
DISP ;
"RTN","ONCODIS",15,0)
 ;;VVVV            VVAA
"RTN","ONCODIS",16,0)
 ;; VVVV          VVAAAA
"RTN","ONCODIS",17,0)
 ;;  VVVV        VVAAAAAA
"RTN","ONCODIS",18,0)
 ;;   VVVV      VVAA  AAAA
"RTN","ONCODIS",19,0)
 ;;    VVVV    VVAA    AAAA
"RTN","ONCODIS",20,0)
 ;;     VVVV  VVAA      AAAA
"RTN","ONCODIS",21,0)
 ;;      VVVVVVAA        AAAA
"RTN","ONCODIS",22,0)
 ;;       VVVVAA   AAAAAAAAAAA
"RTN","ONCODIS",23,0)
 ;;        VVAA     AAAAAAAAAAA
"RTN","ONCODLF")
0^190^B23576940
"RTN","ONCODLF",1,0)
ONCODLF ;Hines OIFO/GWB - DISPLAY FOLLOW-UP DATA, ALL/LATEST ;07/23/10
"RTN","ONCODLF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODLF",3,0)
 ;
"RTN","ONCODLF",4,0)
LFS ;LAST FOLLOW-UP STATUS (from D0 #165.59 - computed primary
"RTN","ONCODLF",5,0)
 S XD0=$P(^ONCO(165.5,D0,0),U,2) G LF
"RTN","ONCODLF",6,0)
 ;
"RTN","ONCODLF",7,0)
LST ;Display last FOLLOW-UP (160,400) data
"RTN","ONCODLF",8,0)
 S (XD0,OD0)=D0
"RTN","ONCODLF",9,0)
LF S XD1=$O(^ONCO(160,XD0,"F","AA",0)) G:XD1'>0 EX
"RTN","ONCODLF",10,0)
 S XD1=$O(^ONCO(160,XD0,"F","AA",XD1,0))
"RTN","ONCODLF",11,0)
 S XXD0=$S($D(^ONCO(160,XD0,"F",XD1)):^ONCO(160,XD0,"F",XD1,0),1:"")
"RTN","ONCODLF",12,0)
 S NL=$S($D(^ONCO(160,XD0,"F",XD1,1,0)):$P(^ONCO(160,XD0,"F",XD1,1,0),U,4),1:"")
"RTN","ONCODLF",13,0)
 D:XD1 WD G EX
"RTN","ONCODLF",14,0)
 ;
"RTN","ONCODLF",15,0)
FHC ;'COMPUTED-FIELD' EXPRESSION for HISTORY-FOLLOWUP (160,46)
"RTN","ONCODLF",16,0)
 S (OD0,XD0)=D0,LST=9999999,HIS=1
"RTN","ONCODLF",17,0)
F N XXD1,OJ
"RTN","ONCODLF",18,0)
 S (XXD1,OJ)=0
"RTN","ONCODLF",19,0)
 F  S XXD1=$O(^ONCO(160,XD0,"F","AA",XXD1)) S OJ=OJ+1 G END:XXD1'>0,END:XXD1>LST S XD1=$O(^ONCO(160,XD0,"F","AA",XXD1,0)),XXD0=$G(^ONCO(160,XD0,"F",XD1,0)),FDAT=$P(XXD0,U) K NL D C:XXD0'="",HD S D0=XD0,D1=XD1 D MTS^ONCOCOFA,WD
"RTN","ONCODLF",20,0)
 ;End
"RTN","ONCODLF",21,0)
END G EX:'$D(XD1)
"RTN","ONCODLF",22,0)
 D HD:OJ>1,C
"RTN","ONCODLF",23,0)
 S VS=$S($D(^ONCO(160,XD0,1)):$P(^ONCO(160,XD0,1),U),1:"")
"RTN","ONCODLF",24,0)
 G DEAD:VS=0,EX
"RTN","ONCODLF",25,0)
 ;
"RTN","ONCODLF",26,0)
DEAD ;DEATH INFORMATION
"RTN","ONCODLF",27,0)
 S D0=XD0 K DXS,DIOT D ^ONCOXDI G EX
"RTN","ONCODLF",28,0)
 ;
"RTN","ONCODLF",29,0)
FHP ;COMPUTED-FIELD' EXPRESSION for FOLLOW-UP HISTORY (165.5,150)
"RTN","ONCODLF",30,0)
 N FDAT,OJ
"RTN","ONCODLF",31,0)
 S (XD0,OD0)=D0
"RTN","ONCODLF",32,0)
P S XD0=$G(^ONCO(165.5,XD0,0))
"RTN","ONCODLF",33,0)
 G EX:XD0=""
"RTN","ONCODLF",34,0)
 D DAT
"RTN","ONCODLF",35,0)
 S LST=9999999-XLC,XD0=$P(XD0,U,2)
"RTN","ONCODLF",36,0)
 S (XXD1,OJ)=0
"RTN","ONCODLF",37,0)
 F  S XXD1=$O(^ONCO(160,XD0,"F","AA",XXD1)) S OJ=OJ+1 G FIN:XXD1'>0,FIN:XXD1>LST S XD1=$O(^ONCO(160,XD0,"F","AA",XXD1,0)),XXD0=$G(^ONCO(160,XD0,"F",XD1,0)),FDAT=$P(XXD0,U) K NL D HD I XXD0'="" S D0=XD0,D1=XD1 D MTS^ONCOCOFA,WD
"RTN","ONCODLF",38,0)
FIN G EX
"RTN","ONCODLF",39,0)
 ;
"RTN","ONCODLF",40,0)
DAT ;Get Reference date
"RTN","ONCODLF",41,0)
 S XLC=$P(XD0,U,16) Q:XLC'=""  S XLC=$P(XD0,U,9) Q:XLC'=""  S XLC=$P(XD0,U,8) Q
"RTN","ONCODLF",42,0)
 ;
"RTN","ONCODLF",43,0)
 S YR=$P(XD0,U,7) I XDD'="" Q:($E(XDD,1,3)+1700)'<YR
"RTN","ONCODLF",44,0)
 S XDD=2_$E(YR,3,4)_"0000"
"RTN","ONCODLF",45,0)
 Q
"RTN","ONCODLF",46,0)
HD ;header for Follow-up History
"RTN","ONCODLF",47,0)
 W "--------------------------------------------------------------------------------"
"RTN","ONCODLF",48,0)
 Q
"RTN","ONCODLF",49,0)
 ;
"RTN","ONCODLF",50,0)
WD F I=1:1:5 S X(I-1)=$P(XXD0,U,I)
"RTN","ONCODLF",51,0)
 S X(6)=$P(XXD0,U,6)
"RTN","ONCODLF",52,0)
 S X(11)=$P(XXD0,U,10)
"RTN","ONCODLF",53,0)
 S X(12)=$P(XXD0,U,11)
"RTN","ONCODLF",54,0)
 S X=X(0) D DATEOT^ONCOES S X(0)=X
"RTN","ONCODLF",55,0)
1 S X=X(1),X(1)=$S(X=0:"Dead",X=1:"Alive",1:"")
"RTN","ONCODLF",56,0)
3 S X=X(3),X(3)=$S(X=0:"Reported Hospitalization",X=1:"Readmission",X=2:"Physician",X=3:"Patient",X=4:"Department of Motor Vehicles",X=5:"Medicare/Medicaid file",X=7:"Death certificate",X=8:"Other",1:"Unknown")
"RTN","ONCODLF",57,0)
4 S X=X(4),X(4)=$S(X=0:"Normal",X=1:"Symptomatic & Ambulatory",X=2:"More than 50% Ambulatory",X=3:"Less than 50% Ambulatory",X=4:"Bedridden",X=8:"Not applicable, dead",1:"Unknown or unspecified")
"RTN","ONCODLF",58,0)
6 S X=X(6),X(6)=$S(X=0:"Chart requisition",X=1:"Physician letter",X=2:"Contact letter",X=3:"Phone call",X=4:"Other hospital contact",X=5:"Other, NOS",X=8:"Foreign residents (not followed)",1:"Not followed")
"RTN","ONCODLF",59,0)
11 S X=X(11),X(11)=$P($G(^VA(200,+X,0)),U,1)
"RTN","ONCODLF",60,0)
12 S X=X(12) D DATEOT^ONCOES S X(12)=X
"RTN","ONCODLF",61,0)
 W !?2,"Date of Last Contact or Death.:",?34,X(0)
"RTN","ONCODLF",62,0)
 I $G(FUQA)="QA" W ! Q
"RTN","ONCODLF",63,0)
 W !?2,"Vital Status..................:",?34,X(1)
"RTN","ONCODLF",64,0)
 W !?2,"Follow-up Source..............:",?34,X(3)
"RTN","ONCODLF",65,0)
 W !?2,"Next Follow-up Source.........:",?34,X(6)
"RTN","ONCODLF",66,0)
 W !?2,"Registrar.....................:",?34,X(11)
"RTN","ONCODLF",67,0)
 W !?2,"Date entered..................:",?34,X(12)
"RTN","ONCODLF",68,0)
 W !?2,"Comments:"
"RTN","ONCODLF",69,0)
PC ;COMMENTS (160.45,.01)
"RTN","ONCODLF",70,0)
 S X=0
"RTN","ONCODLF",71,0)
 F I=0:0 S X=$O(^ONCO(160,XD0,"F",XD1,1,X)) Q:X'>0  W !?2,^ONCO(160,XD0,"F",XD1,1,X,0)
"RTN","ONCODLF",72,0)
 W !
"RTN","ONCODLF",73,0)
 ;
"RTN","ONCODLF",74,0)
C Q:$D(NL)
"RTN","ONCODLF",75,0)
 S NL=$S($D(^ONCO(160,XD0,"F",+XD1,1,0)):($P(^ONCO(160,XD0,"F",+XD1,1,0),U,4)+1),1:"")
"RTN","ONCODLF",76,0)
 S TL=6+NL Q:TL<(IOSL-($Y))
"RTN","ONCODLF",77,0)
 D HD
"RTN","ONCODLF",78,0)
 W #
"RTN","ONCODLF",79,0)
 I $D(^UTILITY($J,1)) X ^UTILITY($J,1) Q
"RTN","ONCODLF",80,0)
 W ?10,"*************** FOLLOWUP HISTORY ***************",!!
"RTN","ONCODLF",81,0)
 Q
"RTN","ONCODLF",82,0)
DT I Y W $P("JAN^FEB^MAR^APR^MAY^JUN^JUL^AUG^SEP^OCT^NOV^DEC",U,$E(Y,4,5))_" " W:Y#100 $J(Y#100\1,2)_"," W Y\10000+1700 W:Y#1 "  "_$E(Y_0,9,10)_":"_$E(Y_"000",11,12) Q
"RTN","ONCODLF",83,0)
 Q
"RTN","ONCODLF",84,0)
N W !
"RTN","ONCODLF",85,0)
T W:$X ! I '$D(DIOT(2)),DN,$D(IOSL),$S('$D(DIWF):1,$P(DIWF,"B",2):$P(DIWF,"B",2),1:1)+$Y'<IOSL,$D(^UTILITY($J,1))#2,^UTILITY($J,1)?1U1P1E X ^UTILITY($J,1)
"RTN","ONCODLF",86,0)
 Q
"RTN","ONCODLF",87,0)
EX ;Kill and Exit
"RTN","ONCODLF",88,0)
 S D0=OD0 ;RESET wherever came from
"RTN","ONCODLF",89,0)
 K OD0,HIS,NL,XD1,XD0,I,X1,X2,XXD0,XX,VS S X=""
"RTN","ONCODLF",90,0)
 Q
"RTN","ONCODLF",91,0)
 ;
"RTN","ONCODLF",92,0)
CLEANUP ;Cleanup
"RTN","ONCODLF",93,0)
 K D0,D1,DIWF,DN,FUQA,LST,TL,X,XDD,XLC,Y,YR
"RTN","ONCODSP")
0^191^B53068263
"RTN","ONCODSP",1,0)
ONCODSP ;Hines OIFO/GWB,RTK - MISCELLANEOUS OPTIONS ;05/05/10
"RTN","ONCODSP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODSP",3,0)
 ;
"RTN","ONCODSP",4,0)
TR ;[TR Define Tumor Registry Parameters]
"RTN","ONCODSP",5,0)
 W ! S DIC="^ONCO(160.1,",DIC(0)="AEMLQ",DLAYGO=160.1 D ^DIC
"RTN","ONCODSP",6,0)
 I Y=-1 G EX
"RTN","ONCODSP",7,0)
 W @IOF,!,"  ONCOLOGY SITE PARAMETERS"
"RTN","ONCODSP",8,0)
 W !,"  ------------------------"
"RTN","ONCODSP",9,0)
 S DIE="^ONCO(160.1,",DA=+Y
"RTN","ONCODSP",10,0)
 S DR=""
"RTN","ONCODSP",11,0)
 S DR(1,160.1,1)=".01  HOSPITAL NAME....."
"RTN","ONCODSP",12,0)
 S DR(1,160.1,2)=".02  STREET ADDRESS...."
"RTN","ONCODSP",13,0)
 S DR(1,160.1,3)=".03  ZIPCODE..........."
"RTN","ONCODSP",14,0)
 ;S DR(1,160.1,3.1)="W !,""  CITY..............: "",$$GET1^DIQ(160.1,DA,66)"
"RTN","ONCODSP",15,0)
 ;S DR(1,160.1,3.2)="W !,""  STATE.............: "",$$GET1^DIQ(160.1,DA,67)"
"RTN","ONCODSP",16,0)
 S DR(1,160.1,4)=".04  REFERENCE DATE...."
"RTN","ONCODSP",17,0)
 S DR(1,160.1,5)="1  TUMOR REGISTRAR..."
"RTN","ONCODSP",18,0)
 S DR(1,160.1,6)="1.02  PHONE NUMBER......"
"RTN","ONCODSP",19,0)
 S DR(1,160.1,7)="1.03  STATE HOSPITAL #.."
"RTN","ONCODSP",20,0)
 S DR(1,160.1,8)="27  FACILITY ID #....."
"RTN","ONCODSP",21,0)
 S DR(1,160.1,8.1)="S FACPNT=$P($G(^ONCO(160.1,DA,1)),U,4) D FNPI^ONCNPI"
"RTN","ONCODSP",22,0)
 S DR(1,160.1,9)="28  CENTRAL REGISTRY #"
"RTN","ONCODSP",23,0)
 S DR(1,160.1,10)="7  VISN.............."
"RTN","ONCODSP",24,0)
 S DR(1,160.1,10.1)="19  CS/EDITS URL......"
"RTN","ONCODSP",25,0)
 S DR(1,160.1,11)="6  DIVISION.........."
"RTN","ONCODSP",26,0)
 S DR(1,160.1,11.1)="68  COC ACCREDITATION."
"RTN","ONCODSP",27,0)
 S DR(1,160.1,12)="W !"
"RTN","ONCODSP",28,0)
 S DR(1,160.1,13)="8  AFFILIATED DIVISION."
"RTN","ONCODSP",29,0)
 S DR(1,160.1,14)="W !"
"RTN","ONCODSP",30,0)
 S DR(1,160.1,15)="5  AUTHORZIED QA USER.."
"RTN","ONCODSP",31,0)
 S DR(1,160.1,16)="W !"
"RTN","ONCODSP",32,0)
 S DR(1,160.1,17)="105  ABSTRATOR/REGISTRAR"
"RTN","ONCODSP",33,0)
 D ^DIE
"RTN","ONCODSP",34,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCODSP",35,0)
 G EX
"RTN","ONCODSP",36,0)
 ;
"RTN","ONCODSP",37,0)
TDSNIT() ;Input Transform for 3 Digit State Number multiple (160.1,105)
"RTN","ONCODSP",38,0)
 I $D(^ONCO(160.1,"E",X,DA(1))) W !!,"That number has already been assigned!! " Q 1
"RTN","ONCODSP",39,0)
 W ! Q 0
"RTN","ONCODSP",40,0)
 ;
"RTN","ONCODSP",41,0)
DIVID ;DIVISION (160.1,6) identifier
"RTN","ONCODSP",42,0)
 S ONCDIV=""
"RTN","ONCODSP",43,0)
 Q:'$D(^ONCO(160.1,Y,1))
"RTN","ONCODSP",44,0)
 S INSPTR=$P(^ONCO(160.1,Y,1),U,8)
"RTN","ONCODSP",45,0)
 Q:'$D(^DIC(4,INSPTR,99))
"RTN","ONCODSP",46,0)
 S ONCDIV=$P(^DIC(4,INSPTR,99),U,1)
"RTN","ONCODSP",47,0)
 W ?30,ONCDIV
"RTN","ONCODSP",48,0)
 K ONCDIV,INSPTR
"RTN","ONCODSP",49,0)
 Q
"RTN","ONCODSP",50,0)
 ;
"RTN","ONCODSP",51,0)
WS ;[WS Edit/print worksheet]
"RTN","ONCODSP",52,0)
 K DIR
"RTN","ONCODSP",53,0)
 S DIR("A")=" Action",DIR(0)="SO^E:Edit worksheet;P:Print worksheet"
"RTN","ONCODSP",54,0)
 D ^DIR G EW:Y="E",PW:Y="P",EX
"RTN","ONCODSP",55,0)
 ;
"RTN","ONCODSP",56,0)
EW ;Edit worksheet
"RTN","ONCODSP",57,0)
 S DIE="^ONCO(160.2,",DA=5,DR=1 D ^DIE
"RTN","ONCODSP",58,0)
 G WS
"RTN","ONCODSP",59,0)
 ;
"RTN","ONCODSP",60,0)
PW ;Print Worksheet
"RTN","ONCODSP",61,0)
 S DIC="^ONCO(160.2,",L=0,(NUMBER,DA)=5
"RTN","ONCODSP",62,0)
 S BY="@NUMBER",FR=NUMBER,TO=NUMBER,FLDS="[ONCO WORKSHEET]"
"RTN","ONCODSP",63,0)
 D EN1^DIP
"RTN","ONCODSP",64,0)
 G WS
"RTN","ONCODSP",65,0)
 ;
"RTN","ONCODSP",66,0)
RSR ;[RS Registry Summary Reports]
"RTN","ONCODSP",67,0)
 S ONCOS("T")="T",DIR("A")=" Select"
"RTN","ONCODSP",68,0)
 S DIR(0)="S^T:Today;A:Annual;F:Follow-Up",DIR("B")="Today"
"RTN","ONCODSP",69,0)
 D ^DIR G EX:Y=""!(Y[U) G @Y
"RTN","ONCODSP",70,0)
 ;
"RTN","ONCODSP",71,0)
A ;[RS Registry Summary Reports - Annual]
"RTN","ONCODSP",72,0)
 S BYR=$O(^ONCO(165.5,"AY",0))
"RTN","ONCODSP",73,0)
 F YR=$E(DT,1)+17_$E(DT,2,3)-1:-1:BYR-1 S EYR=$O(^ONCO(165.5,"AY",YR))  Q:EYR'=""
"RTN","ONCODSP",74,0)
 W !!
"RTN","ONCODSP",75,0)
 K DIR
"RTN","ONCODSP",76,0)
 S YR=$E(DT,1)+17_$E(DT,2,3)
"RTN","ONCODSP",77,0)
 S DIR("A")=" Select year for summary"
"RTN","ONCODSP",78,0)
 S DIR("B")=YR-1 S:DIR("B")<BYR DIR("B")=BYR
"RTN","ONCODSP",79,0)
 S DIR(0)="N^"_BYR_":"_EYR D ^DIR K DIR
"RTN","ONCODSP",80,0)
 G EX:Y[U!(Y=""),A:Y>YR,A:Y'?1.N S ONCOS("T")=Y
"RTN","ONCODSP",81,0)
 K DIR
"RTN","ONCODSP",82,0)
 S DIR("A")=" Analytic cases only"
"RTN","ONCODSP",83,0)
 S DIR("B")="YES"
"RTN","ONCODSP",84,0)
 S DIR(0)="Y"
"RTN","ONCODSP",85,0)
 S DIR("?")=" "
"RTN","ONCODSP",86,0)
 S DIR("?",1)=" Answer 'YES' if you want only analytic cases (CLASS OF CASE 00-22) displayed."
"RTN","ONCODSP",87,0)
 S DIR("?",2)=" Answer  'NO' if you want all cases (analytic and non-analytic) displayed."
"RTN","ONCODSP",88,0)
 D ^DIR
"RTN","ONCODSP",89,0)
 I $D(DIRUT) Q
"RTN","ONCODSP",90,0)
 S ACO=Y
"RTN","ONCODSP",91,0)
 ;
"RTN","ONCODSP",92,0)
T ;[RS Registry Summary Reports - Today]
"RTN","ONCODSP",93,0)
 K IO("Q") S %ZIS="Q" W !! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCODSP",94,0)
 I '$D(IO("Q")) D WAIT^DICD,TK^ONCODSP G EX
"RTN","ONCODSP",95,0)
 S ZTSAVE("ONCOS*")="",ZTSAVE("ACO")=""
"RTN","ONCODSP",96,0)
 S ZTRTN="TK^ONCODSP",ZTDESC="REGISTRY SUMMARY RPT"
"RTN","ONCODSP",97,0)
 D ^%ZTLOAD G EX
"RTN","ONCODSP",98,0)
 ;
"RTN","ONCODSP",99,0)
F ;[RS Registry Summary Reports - Follow-Up]
"RTN","ONCODSP",100,0)
 K DIR
"RTN","ONCODSP",101,0)
 W !!," Follow-up rate calculation parameters (select 1 or 2):",!
"RTN","ONCODSP",102,0)
 W !," 1) All analytic patients from the cancer registry reference date"
"RTN","ONCODSP",103,0)
 W !," 2) All analytic patients diagnosed within the last five years, or"
"RTN","ONCODSP",104,0)
 W !,"    from the cancer registry reference date, whichever is shorter"
"RTN","ONCODSP",105,0)
 W !
"RTN","ONCODSP",106,0)
 N DIR,X,Y
"RTN","ONCODSP",107,0)
 S DIR(0)="SAO^1:From cancer registry reference date;2:Within last 5 years or reference date (whichever is shorter)"
"RTN","ONCODSP",108,0)
 S DIR("A")=" Select follow-up rate calculation parameter: "
"RTN","ONCODSP",109,0)
 S DIR("?")="Select the starting point to compute the follow-up rate"
"RTN","ONCODSP",110,0)
 D ^DIR G EX:Y=""!(Y[U) S ONCOS("F")=Y
"RTN","ONCODSP",111,0)
 K IO("Q") S %ZIS="Q" W !! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCODSP",112,0)
 I '$D(IO("Q")) D WAIT^DICD G FR^ONCOCOF
"RTN","ONCODSP",113,0)
 S ZTSAVE("ONCOS*")="",ZTRTN="FR^ONCOCOF",ZTDESC="FOLLOWUP RATE REPORT"
"RTN","ONCODSP",114,0)
 D ^%ZTLOAD G EX
"RTN","ONCODSP",115,0)
 ;
"RTN","ONCODSP",116,0)
TK ;Tasked [RS Registry Summary Reports - Today] report 
"RTN","ONCODSP",117,0)
 S YR=ONCOS("T")
"RTN","ONCODSP",118,0)
 G AN:YR'="T"
"RTN","ONCODSP",119,0)
 S V(9)=0,F(8)=0 F I=0,1 S G(I)=0,V(I)=0,F(I)=0
"RTN","ONCODSP",120,0)
 ;S G=0,XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",G,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2) S G(G)=G(G)+1
"RTN","ONCODSP",121,0)
 ;S G=1,XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",G,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2) S G(G)=G(G)+1
"RTN","ONCODSP",122,0)
 S G=0,XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",G,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2),$P($G(^ONCO(165.5,XD0,7)),"^",2)'="A" S G(G)=G(G)+1
"RTN","ONCODSP",123,0)
 S G=1,XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",G,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2),$P($G(^ONCO(165.5,XD0,7)),"^",2)'="A" S G(G)=G(G)+1
"RTN","ONCODSP",124,0)
 S W=0,X0=0 F  S X0=$O(^ONCO(160,"ADX",X0)) Q:'X0  S X1=0 F  S X1=$O(^ONCO(160,"ADX",X0,X1)) Q:'X1  S X2=0 F  S X2=$O(^ONCO(160,"ADX",X0,X1,X2)) Q:'X2  I $$SUSDIV^ONCFUNC(X1,X2)=DUZ(2) S W=W+1
"RTN","ONCODSP",125,0)
 ;F I=0:1:3 S W(I)=0
"RTN","ONCODSP",126,0)
 ;F I=0:1:3 S X0=0 F  S X0=$O(^ONCO(165.5,"AS",I,X0)) Q:X0'>0  I $$DIV^ONCFUNC(X0)=DUZ(2) S W(I)=W(I)+1
"RTN","ONCODSP",127,0)
 F I=0,1,2,3,"A" S W(I)=0
"RTN","ONCODSP",128,0)
 F I=0,1,2,3,"A" S X0=0 F  S X0=$O(^ONCO(165.5,"AS",I,X0)) Q:X0'>0  I $$DIV^ONCFUNC(X0)=DUZ(2) S W(I)=W(I)+1
"RTN","ONCODSP",129,0)
 W !!?30,"Analytical: ",$J(G(1),5)
"RTN","ONCODSP",130,0)
 W !?26,"Non-Analytical: ",$J(G(0),5)
"RTN","ONCODSP",131,0)
 W !?26,"Accession Only: ",$J(W("A"),5)
"RTN","ONCODSP",132,0)
 W !?42,"-----"
"RTN","ONCODSP",133,0)
 ;W !?35,"Total: ",$J(G(0)+G(1),5),!!
"RTN","ONCODSP",134,0)
 W !?35,"Total: ",$J(G(0)+G(1)+W("A"),5),!!
"RTN","ONCODSP",135,0)
 W !,?30,"WORKLOAD STATISTICS",!!
"RTN","ONCODSP",136,0)
 ;W "Suspense: ",W,?15,"Incomplete: ",W(0),?35,"Minimal: ",W(1),?50,"Partial: ",W(2),?65,"Complete: ",W(3),!!
"RTN","ONCODSP",137,0)
 W "Suspense: ",W,!!,"Incomplete: ",W(0),?19,"Minimal: ",W(1),?34,"Partial: ",W(2),?49,"Complete: ",W(3),?65,"Acc Only: ",W("A"),!
"RTN","ONCODSP",138,0)
 W "---------------",!,"Total: ",W(0)+W(1)+W(2)+W(3)+W("A")
"RTN","ONCODSP",139,0)
 Q
"RTN","ONCODSP",140,0)
 ;
"RTN","ONCODSP",141,0)
AN ;[RS Registry Summary Reports - Annual]
"RTN","ONCODSP",142,0)
 K ^TMP($J,"ANNSUM")
"RTN","ONCODSP",143,0)
 S ^ONCO(164.08,"YR")=YR
"RTN","ONCODSP",144,0)
 S XD0=0 F  S XD0=$O(^ONCO(164.08,XD0)) Q:XD0'>0  F J="CC","RS","SG" S ^ONCO(164.08,XD0,J)=""
"RTN","ONCODSP",145,0)
 S ^TMP($J,"ANNSUM","YR")=YR
"RTN","ONCODSP",146,0)
 S XD0=0 F  S XD0=$O(^ONCO(164.08,XD0)) Q:XD0'>0  S ^TMP($J,"ANNSUM",XD0,0)=$G(^ONCO(164.08,XD0,0)) F J="CC","RS","SG" S ^TMP($J,"ANNSUM",XD0,J)=""
"RTN","ONCODSP",147,0)
 S XD0=0 F  S XD0=$O(^ONCO(165.5,"AY",YR,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2) S X0=^ONCO(165.5,XD0,0),CSG=$P($G(^ONCO(165.5,XD0,2)),U,20),PSG=$P($G(^ONCO(165.5,XD0,2.1)),U,4),SG=$P($G(^ONCO(165.5,XD0,2)),U,28) D
"RTN","ONCODSP",148,0)
 .I $P($G(^ONCO(165.5,XD0,7)),U,2)="A" Q
"RTN","ONCODSP",149,0)
 .S COCANAL=$$GET1^DIQ(165.5,XD0,.042)
"RTN","ONCODSP",150,0)
 .I ACO=1,COCANAL="NONANALYTIC" Q
"RTN","ONCODSP",151,0)
 .I SG'="" S SG=$S(SG=0:0,SG="I":1,SG="II":2,SG="III":3,SG="IV":4,SG="U":99,SG="NA":88,1:"")
"RTN","ONCODSP",152,0)
 .I SG="" S SG=7 ;incomplete=7 (will put them in 8th piece of SG node)
"RTN","ONCODSP",153,0)
 .S ST=$P(X0,U),IC=$P(X0,U,22),PT=$P(X0,U,2),CC=$P(X0,U,20) Q:IC=""
"RTN","ONCODSP",154,0)
 .I IC=6799 S IC=6780
"RTN","ONCODSP",155,0)
 .S P0=$G(^ONCO(160,PT,0)) Q:P0=""  S RC=+$P(P0,U,6),SX=$P(P0,U,8),R=$S(RC=1:"W",RC=2:"B",1:"O"),S=$S(SX=1:"M",1:"F"),RS=R_S
"RTN","ONCODSP",156,0)
 .S CC=$S(CC=0:3,1:2),RS=$S(RS="WM":1,RS="WF":2,RS="BM":3,RS="BF":4,RS="OM":5,1:6)
"RTN","ONCODSP",157,0)
 .S SG=+SG+1,SG=$S(SG=100:6,SG=89:7,1:SG)
"RTN","ONCODSP",158,0)
 .S $P(^TMP($J,"ANNSUM",IC,"CC"),U,CC)=$P(^TMP($J,"ANNSUM",IC,"CC"),U,CC)+1,$P(^TMP($J,"ANNSUM",IC,"CC"),U)=$P(^TMP($J,"ANNSUM",IC,"CC"),U)+1
"RTN","ONCODSP",159,0)
 .S $P(^TMP($J,"ANNSUM",IC,"RS"),U,RS)=$P(^TMP($J,"ANNSUM",IC,"RS"),U,RS)+1
"RTN","ONCODSP",160,0)
 .S $P(^TMP($J,"ANNSUM",IC,"SG"),U,SG)=$P(^TMP($J,"ANNSUM",IC,"SG"),U,SG)+1
"RTN","ONCODSP",161,0)
 ;
"RTN","ONCODSP",162,0)
PRT ;Print report
"RTN","ONCODSP",163,0)
 D ^ONCODSP1
"RTN","ONCODSP",164,0)
 ;
"RTN","ONCODSP",165,0)
EX ;EXIT
"RTN","ONCODSP",166,0)
 K BY,BYR,CC,CSG,EYR,F,FLDS,FR,G,I,IC,J,L,NUMBER,ONCOS,ONCOUT
"RTN","ONCODSP",167,0)
 K P0,PSG,PT,R,RC,RS,SG,ST,SX,TO,V,W,X,X0,X1,X2,XD0,Y,YR
"RTN","ONCODSP",168,0)
 K DA,DIC,DIE,DIR,DIRUT,DLAYGO,DR,SITEPARAM
"RTN","ONCODSP",169,0)
 K ^TMP($J)
"RTN","ONCODSP",170,0)
 Q
"RTN","ONCODSP",171,0)
 ;
"RTN","ONCODSP",172,0)
CLEANUP ;Cleanup
"RTN","ONCODSP",173,0)
 K %ZIS,ACO,COCANAL,OUT,POP,S,ZTDESC,ZTRTN,ZTSAVE
"RTN","ONCODSP1")
0^192^B21383416
"RTN","ONCODSP1",1,0)
ONCODSP1 ;HINES IRMFO/RTK-ANNUAL SUMMARY REPORT DISPLAY ;5/6/96  15:11
"RTN","ONCODSP1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODSP1",3,0)
 U IO S FIRST="1ST",PRTC=1
"RTN","ONCODSP1",4,0)
 S (COL1,COL2,COL3,COL4,COL5,COL6,COL7,COL8)=0
"RTN","ONCODSP1",5,0)
 S (COL9,COL10,COL11,COL12,COL13,COL14,COL15,COL16,COL17)=0
"RTN","ONCODSP1",6,0)
 S (TT1,TT2,TT3,TT4,TT5,TT6,TT7,TT8)=0
"RTN","ONCODSP1",7,0)
 S (TT9,TT10,TT11,TT12,TT13,TT14,TT15,TT16,TT17)=0
"RTN","ONCODSP1",8,0)
 F IEN=0:0 S IEN=$O(^TMP($J,"ANNSUM",IEN)) Q:IEN'>0  S CC=$G(^TMP($J,"ANNSUM",IEN,"CC")),RS=$G(^TMP($J,"ANNSUM",IEN,"RS")),SG=$G(^TMP($J,"ANNSUM",IEN,"SG")),ZNODE=$G(^TMP($J,"ANNSUM",IEN,0)),TOPGP=$P(ZNODE,"^",2) D
"RTN","ONCODSP1",9,0)
 .Q:PRTC=0
"RTN","ONCODSP1",10,0)
 .I FIRST="1ST" D HDR S FIRST=""
"RTN","ONCODSP1",11,0)
 .I TOPGP="C00" S PTR=$P(ZNODE,"^",4) W !?43,"|",?82,"|",!?5,"System:   " I PTR'="" W $G(^ONCO(164.14,PTR,0)),?82,"|"
"RTN","ONCODSP1",12,0)
 .I "C15^C30^C40^C42^C44^C47^C48^C49^C50^C51^C60^C64^C69^C73^C76^C77^C80"[TOPGP D
"RTN","ONCODSP1",13,0)
 ..S DS="-----" W !,?24,DS,?30,DS,?36,DS,?43,"|",?45,DS,?51,DS,?57,DS,?63,DS,?69,DS,?75,DS,?82,"|",?85,DS,?91,DS,?97,DS,?103,DS,?109,DS,?115,DS,?121,DS,?127,DS
"RTN","ONCODSP1",14,0)
 ..W !,"SUBTOTAL",?24,COL1,?30,COL2,?36,COL3,?43,"|",?45,COL4,?51,COL5,?57,COL6
"RTN","ONCODSP1",15,0)
 ..W ?63,COL7,?69,COL8,?75,COL9,?82,"|",?85,COL10,?91,COL11,?97,COL12
"RTN","ONCODSP1",16,0)
 ..W ?103,COL13,?109,COL14,?115,COL15,?121,COL16,?127,COL17
"RTN","ONCODSP1",17,0)
 ..S TT1=TT1+COL1,TT2=TT2+COL2,TT3=TT3+COL3,TT4=TT4+COL4,TT5=TT5+COL5
"RTN","ONCODSP1",18,0)
 ..S TT6=TT6+COL6,TT7=TT7+COL7,TT8=TT8+COL8,TT9=TT9+COL9,TT10=TT10+COL10
"RTN","ONCODSP1",19,0)
 ..S TT11=TT11+COL11,TT12=TT12+COL12,TT13=TT13+COL13,TT14=TT14+COL14
"RTN","ONCODSP1",20,0)
 ..S TT15=TT15+COL15,TT16=TT16+COL16,TT17=TT17+COL17
"RTN","ONCODSP1",21,0)
 ..S (COL1,COL2,COL3,COL4,COL5,COL6,COL7,COL8)=0
"RTN","ONCODSP1",22,0)
 ..S (COL9,COL10,COL11,COL12,COL13,COL14,COL15,COL16,COL17)=0
"RTN","ONCODSP1",23,0)
 ..S PTR=$P(ZNODE,"^",4) W !?43,"|",?82,"|",!,?5,"System:   " I PTR'="" W $G(^ONCO(164.14,PTR,0)) W:$L($G(^ONCO(164.14,PTR,0)))<28 ?43,"|" W ?82,"|"
"RTN","ONCODSP1",24,0)
 ..Q
"RTN","ONCODSP1",25,0)
 .I ZNODE'="" W !,$E($P(ZNODE,"^"),1,22)
"RTN","ONCODSP1",26,0)
 .I $D(CC) D
"RTN","ONCODSP1",27,0)
 ..W ?24,$P(CC,"^",1),?30,$P(CC,"^",2),?36,$P(CC,"^",3)
"RTN","ONCODSP1",28,0)
 ..S COL1=COL1+$P(CC,"^",1),COL2=COL2+$P(CC,"^",2),COL3=COL3+$P(CC,"^",3)
"RTN","ONCODSP1",29,0)
 .I $D(RS) D
"RTN","ONCODSP1",30,0)
 ..W ?43,"|",?45,$P(RS,"^",1),?51,$P(RS,"^",2),?57,$P(RS,"^",3),?63,$P(RS,"^",4),?69,$P(RS,"^",5),?75,$P(RS,"^",6)
"RTN","ONCODSP1",31,0)
 ..S COL4=COL4+$P(RS,"^",1),COL5=COL5+$P(RS,"^",2),COL6=COL6+$P(RS,"^",3),COL7=COL7+$P(RS,"^",4),COL8=COL8+$P(RS,"^",5),COL9=COL9+$P(RS,"^",6)
"RTN","ONCODSP1",32,0)
 .I $D(SG) D
"RTN","ONCODSP1",33,0)
 ..W ?82,"|",?85,$P(SG,"^",1),?91,$P(SG,"^",2),?97,$P(SG,"^",3),?103,$P(SG,"^",4),?109,$P(SG,"^",5),?115,$P(SG,"^",6),?121,$P(SG,"^",7),?127,$P(SG,"^",8)
"RTN","ONCODSP1",34,0)
 ..S COL10=COL10+$P(SG,"^",1),COL11=COL11+$P(SG,"^",2),COL12=COL12+$P(SG,"^",3),COL13=COL13+$P(SG,"^",4),COL14=COL14+$P(SG,"^",5),COL15=COL15+$P(SG,"^",6),COL16=COL16+$P(SG,"^",7),COL17=COL17+$P(SG,"^",8)
"RTN","ONCODSP1",35,0)
 .I TOPGP="C80" D
"RTN","ONCODSP1",36,0)
 ..S DS="-----" W !,?24,DS,?30,DS,?36,DS,?43,"|",?45,DS,?51,DS,?57,DS,?63,DS,?69,DS,?75,DS,?82,"|",?85,DS,?91,DS,?97,DS,?103,DS,?109,DS,?115,DS,?121,DS,?127,DS
"RTN","ONCODSP1",37,0)
 ..W !,"SUBTOTAL",?24,COL1,?30,COL2,?36,COL3,?43,"|",?45,COL4,?51,COL5,?57,COL6
"RTN","ONCODSP1",38,0)
 ..W ?63,COL7,?69,COL8,?75,COL9,?82,"|",?85,COL10,?91,COL11,?97,COL12
"RTN","ONCODSP1",39,0)
 ..W ?103,COL13,?109,COL14,?115,COL15,?121,COL16,?127,COL17
"RTN","ONCODSP1",40,0)
 ..S TT1=TT1+COL1,TT2=TT2+COL2,TT3=TT3+COL3,TT4=TT4+COL4,TT5=TT5+COL5
"RTN","ONCODSP1",41,0)
 ..S TT6=TT6+COL6,TT7=TT7+COL7,TT8=TT8+COL8,TT9=TT9+COL9,TT10=TT10+COL10
"RTN","ONCODSP1",42,0)
 ..S TT11=TT11+COL11,TT12=TT12+COL12,TT13=TT13+COL13,TT14=TT14+COL14
"RTN","ONCODSP1",43,0)
 ..S TT15=TT15+COL15,TT16=TT16+COL16,TT17=TT17+COL17
"RTN","ONCODSP1",44,0)
 ..S (COL1,COL2,COL3,COL4,COL5,COL6,COL7,COL8)=0
"RTN","ONCODSP1",45,0)
 ..S (COL9,COL10,COL11,COL12,COL13,COL14,COL15,COL16,COL17)=0
"RTN","ONCODSP1",46,0)
 ..Q
"RTN","ONCODSP1",47,0)
 .I $Y>(IOSL-6) D:$E(IOST,1)="C" PRTC Q:PRTC=0  D HDR
"RTN","ONCODSP1",48,0)
 Q:PRTC=0
"RTN","ONCODSP1",49,0)
 S DS="-----" W !,?24,DS,?30,DS,?36,DS,?43,"|",?45,DS,?51,DS,?57,DS,?63,DS,?69,DS,?75,DS,?82,"|",?85,DS,?91,DS,?97,DS,?103,DS,?109,DS,?115,DS,?121,DS,?127,DS
"RTN","ONCODSP1",50,0)
 W !,"TOTAL",?24,TT1,?30,TT2,?36,TT3,?43,"|",?45,TT4,?51,TT5,?57,TT6,?63,TT7
"RTN","ONCODSP1",51,0)
 W ?69,TT8,?75,TT9,?82,"|",?85,TT10,?91,TT11,?97,TT12,?103,TT13,?109,TT14
"RTN","ONCODSP1",52,0)
 W ?115,TT15,?121,TT16,?127,TT17
"RTN","ONCODSP1",53,0)
 K COL1,COL2,COL3,COL4,COL5,COL6,COL7,COL8,COL9,COL10,COL11,COL12,COL13
"RTN","ONCODSP1",54,0)
 K COL14,COL15,COL16,COL17,TT1,TT2,TT3,TT4,TT5,TT6,TT7,TT8,TT9,TT10,TT11
"RTN","ONCODSP1",55,0)
 K TT12,TT13,TT14,TT15,TT16,TT17
"RTN","ONCODSP1",56,0)
 K CC,DS,FIRST,IEN,LINES,PRTC,PTR,RS,SG,TOPGP,ZNODE
"RTN","ONCODSP1",57,0)
 D ^%ZISC Q
"RTN","ONCODSP1",58,0)
HDR ;HEADER - PRINT THIS FOR EACH NEW PAGE
"RTN","ONCODSP1",59,0)
 W:$Y>0 @IOF
"RTN","ONCODSP1",60,0)
 S LINES="",$P(LINES,"_",75)=""
"RTN","ONCODSP1",61,0)
 W "ANNUAL SUMMARY REPORT:  ",$G(^TMP($J,"ANNSUM","YR")) D NOW^%DTC S Y=% D DD^%DT W "    ",Y,!
"RTN","ONCODSP1",62,0)
 W "SITE:",?24,"TOT#",?30,"ANAL",?36,"NON",?43,"|",?45,"W-M",?51,"W-F",?57,"B-M",?63,"B-F",?69,"O-M",?75,"O-F",?82,"|",?85,"0",?91,"I",?97,"II",?103,"III",?109,"IV",?115,"U",?121,"NA",?127,"INC"
"RTN","ONCODSP1",63,0)
 W !,$E(LINES,1,43),"|",$E(LINES,1,38),"|",$E(LINES,1,48)
"RTN","ONCODSP1",64,0)
 Q
"RTN","ONCODSP1",65,0)
PRTC W ! K DIR,DIRUT,DIROUT,DTOUT,DUOUT S DIR(0)="E" D ^DIR S PRTC=Y S:$D(DIRUT) PRTC=0
"RTN","ONCODSP1",66,0)
 Q
"RTN","ONCODSR")
0^193^B90029978
"RTN","ONCODSR",1,0)
ONCODSR ;Hines OIFO/GWB - Surgery of Primary Site ;06/23/10
"RTN","ONCODSR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODSR",3,0)
 ;
"RTN","ONCODSR",4,0)
 ;^ONCO(164.2,9,"S",1-10) hold SURGICAL DX/STAGING PROC codes 0-9
"RTN","ONCODSR",5,0)
 ;^ONCO(164.2,SITE/GP,"S",11-100) holds surgery coes 10-99
"RTN","ONCODSR",6,0)
 ;
"RTN","ONCODSR",7,0)
CDSIT ;SURGERY OF PRIMARY SITE (165.5,58.2) INPUT TRANSFORM
"RTN","ONCODSR",8,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",9,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",10,0)
 I X="00" D EN^DDIOL("  00 No surgical procedure") G EX
"RTN","ONCODSR",11,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G ER:TOPGRPHY=""
"RTN","ONCODSR",12,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",13,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",14,0)
 I ($P(^ONCO(165.5,D0,0),U,16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",15,0)
 D EN^DDIOL("  "_^ONCO(164.5,SS,1,X+1,0)) G EX
"RTN","ONCODSR",16,0)
 ;
"RTN","ONCODSR",17,0)
NCDSIT ;SURGICAL DX/STAGING PROC (165.5,58.1) INPUT TRANSFORM
"RTN","ONCODSR",18,0)
 I '$D(^ONCO(160.14,"B",X)) K X G EX
"RTN","ONCODSR",19,0)
 I $L(X)'=2 K X G EX
"RTN","ONCODSR",20,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",X,0))
"RTN","ONCODSR",21,0)
 D EN^DDIOL("  "_$P(^ONCO(160.14,NCDSIEN,0),U,2))
"RTN","ONCODSR",22,0)
 K NCDSIEN Q
"RTN","ONCODSR",23,0)
 ;
"RTN","ONCODSR",24,0)
NCDSOT ;SURGICAL DX/STAGING PROC (165.5,58.1 & 58.4) OUTPUT TRANSFORM
"RTN","ONCODSR",25,0)
 Q:Y=""
"RTN","ONCODSR",26,0)
 N NCDSIEN
"RTN","ONCODSR",27,0)
 S NCDSIEN=$O(^ONCO(160.14,"B",Y,0))
"RTN","ONCODSR",28,0)
 I NCDSIEN'="" S Y=Y_" "_$P(^ONCO(160.14,NCDSIEN,0),U,2)
"RTN","ONCODSR",29,0)
 Q
"RTN","ONCODSR",30,0)
 ;
"RTN","ONCODSR",31,0)
HP0 ;SURGICAL DX/STAGING PROC (165.5,58.1) HELP
"RTN","ONCODSR",32,0)
 F XX="00","01","02","03","04","05","06","07","09" S NCDSIEN=$O(^ONCO(160.14,"B",XX,0)) D EN^DDIOL($P(^ONCO(160.14,NCDSIEN,0),U,1)_"  "_$P(^ONCO(160.14,NCDSIEN,0),U,2),,"!?2")
"RTN","ONCODSR",33,0)
 K NCDSIEN G EX
"RTN","ONCODSR",34,0)
 ;
"RTN","ONCODSR",35,0)
CDSOT ;SURGERY OF PRIMARY SITE (165.5,58.2) OUTPUT TRANSFORM
"RTN","ONCODSR",36,0)
 I Y="00" S Y="00 No surgical procedure" G EX
"RTN","ONCODSR",37,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",38,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G EX:TOPGRPHY=""
"RTN","ONCODSR",39,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",40,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",41,0)
 ;
"RTN","ONCODSR",42,0)
HP1 ;SURGERY OF PRIMARY SITE (165.5,58.2) HELP
"RTN","ONCODSR",43,0)
 N TOPGRPHY,TPGRPHYR,SS,XX,XXX
"RTN","ONCODSR",44,0)
 S TOPGRPHY=$$TOPGRPHY(D0) G:TOPGRPHY="" ER
"RTN","ONCODSR",45,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",46,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",47,0)
 D EN^DDIOL("SURGERY OF PRIMARY SITE Codes for site "_$P(TPGRPHYR,U,2)_" "_$P(TPGRPHYR,U),,"!?5")
"RTN","ONCODSR",48,0)
 D EN^DDIOL("("_$P(^ONCO(164.5,SS,0),U)_")",,"!?5")
"RTN","ONCODSR",49,0)
 D EN^DDIOL("00  No surgical procedure",,"!!?1")
"RTN","ONCODSR",50,0)
 D EN^DDIOL(,,"!")
"RTN","ONCODSR",51,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",52,0)
 .S XXX=XX-1
"RTN","ONCODSR",53,0)
 .I ($P(^ONCO(165.5,D0,0),U,16)<2960000)!($E(XXX,2)'=8) D EN^DDIOL(" "_(XX-1)_"  "_^ONCO(164.5,SS,1,XX,0))
"RTN","ONCODSR",54,0)
 G EX
"RTN","ONCODSR",55,0)
 ;
"RTN","ONCODSR",56,0)
ER ;ERROR
"RTN","ONCODSR",57,0)
 D EN^DDIOL("ICDO CODE NOT defined!! - cannot continue",,"!!?10")
"RTN","ONCODSR",58,0)
 G EX
"RTN","ONCODSR",59,0)
 ;
"RTN","ONCODSR",60,0)
EX ;EXIT
"RTN","ONCODSR",61,0)
 K AN,SS,ONCOSR
"RTN","ONCODSR",62,0)
 D EN^DDIOL(,,"!")
"RTN","ONCODSR",63,0)
 Q
"RTN","ONCODSR",64,0)
 ;
"RTN","ONCODSR",65,0)
TOPGRPHY(PRIMIX) ; returns ICDO-2 topography code for primary site PRIMIX
"RTN","ONCODSR",66,0)
 Q $P($G(^ONCO(165.5,PRIMIX,2)),U)
"RTN","ONCODSR",67,0)
 ;
"RTN","ONCODSR",68,0)
ESSPIT ;INPUT TRANSFORM FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",69,0)
 N T,TOPGRPHY,SS
"RTN","ONCODSR",70,0)
 K:$L(X)>2!(X'?1.N) X G EX:'$D(X)
"RTN","ONCODSR",71,0)
 I X="00" D EN^DDIOL("  No additional surgical procedure") G EX
"RTN","ONCODSR",72,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),U,10) G ER:TOPGRPHY=""
"RTN","ONCODSR",73,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") K X G EX
"RTN","ONCODSR",74,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",75,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",76,0)
 I '$D(^ONCO(164.5,SS,1,X+1,0)) K X G EX
"RTN","ONCODSR",77,0)
 I ($P(^ONCO(165.5,D0,0),U,16)>2951231),$E(X,2)=8 K X G EX
"RTN","ONCODSR",78,0)
 D EN^DDIOL(^ONCO(164.5,SS,1,X+1,0),,"!?2") G EX
"RTN","ONCODSR",79,0)
 ;
"RTN","ONCODSR",80,0)
ESSPOT ;OUTPUT TRANSFORM FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",81,0)
 I Y="00" S Y=Y_"  No additional surgical procedure" G EX
"RTN","ONCODSR",82,0)
 N TOPGRPHY,SS
"RTN","ONCODSR",83,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),U,10) G EX:TOPGRPHY=""
"RTN","ONCODSR",84,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") G EX
"RTN","ONCODSR",85,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",86,0)
 S SS=+$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",87,0)
 S Y=Y_" "_$G(^ONCO(164.5,SS,1,Y+1,0)) G EX
"RTN","ONCODSR",88,0)
 ;
"RTN","ONCODSR",89,0)
ESSHP ;EXECUTABLE HELP FOR EXTRANODAL SITE SURGICAL PROCEDURE #856
"RTN","ONCODSR",90,0)
 N TOPGRPHY,TPGRPHYR,SS,XX
"RTN","ONCODSR",91,0)
 S TOPGRPHY=$P($G(^ONCO(165.5,D0,"NHL2")),U,10) G ER:TOPGRPHY=""
"RTN","ONCODSR",92,0)
 I TOPGRPHY="C888"!(TOPGRPHY="C999") D EN^DDIOL("No extranodal site or unknown extranodal site!!",,"!!?5") D EN^DDIOL("00 No additional surgical procedure",,"!?5") G EX
"RTN","ONCODSR",93,0)
 S TOPGRPHY="67"_$E(TOPGRPHY,2,4)
"RTN","ONCODSR",94,0)
 S TPGRPHYR=^ONCO(164,TOPGRPHY,0)
"RTN","ONCODSR",95,0)
 S SS=$P($G(^ONCO(164,TOPGRPHY,"SR")),U,$$EDITION^ONCOU55(D0))
"RTN","ONCODSR",96,0)
 D EN^DDIOL("SURGERY OF PRIMARY SITE Codes for site ",$P(TPGRPHYR,U,2)_" "_$P(TPGRPHYR,U),,"!!")
"RTN","ONCODSR",97,0)
 D EN^DDIOL("("_$P(^ONCO(164.5,SS,0),U)_")",,"!")
"RTN","ONCODSR",98,0)
 D EN^DDIOL("00 No additional surgical procedure",,"!!?1")
"RTN","ONCODSR",99,0)
 D EN^DDIOL(,,"!")
"RTN","ONCODSR",100,0)
 S XX=10 F  S XX=$O(^ONCO(164.5,SS,1,XX)) Q:XX'=+XX  D
"RTN","ONCODSR",101,0)
 .S XXX=XX-1
"RTN","ONCODSR",102,0)
 .I ($P(^ONCO(165.5,D0,0),U,16)<2960000)!($E(XXX,2)'=8) D EN^DDIOL(" "_(XX-1)_" "_^ONCO(164.5,SS,1,XX,0)) D EN^DDIOL(,,"!")
"RTN","ONCODSR",103,0)
 D EN^DDIOL("Enter a code from the above list.",,"!") G EX
"RTN","ONCODSR",104,0)
 Q
"RTN","ONCODSR",105,0)
 ;
"RTN","ONCODSR",106,0)
FADIT ;DATE OF FIRST CONTACT (165.5,155) Input Transform
"RTN","ONCODSR",107,0)
 D NINES Q:'$D(X)  Q:X=9999999
"RTN","ONCODSR",108,0)
 I $D(X) S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT
"RTN","ONCODSR",109,0)
 Q
"RTN","ONCODSR",110,0)
 ;
"RTN","ONCODSR",111,0)
DSDTIT ;DATE OF INPATIENT DISCHARGE (165.5,1.1) Input Transform
"RTN","ONCODSR",112,0)
 ;Must be >= DATE OF INPATIENT ADMISSION (165.5,1)
"RTN","ONCODSR",113,0)
 N FAD
"RTN","ONCODSR",114,0)
 D ZS9S Q:'$D(X)  Q:(X="0000000")!(X=9999999)
"RTN","ONCODSR",115,0)
 I $D(X) S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S FAD=$P($G(^ONCO(165.5,D0,0)),U,8) I FAD'="" K:X<FAD X K %DT
"RTN","ONCODSR",116,0)
 Q
"RTN","ONCODSR",117,0)
 ;
"RTN","ONCODSR",118,0)
DFSPIT ;DATE FIRST SURGICAL PROCEDURE (165.5,170) Input Transform
"RTN","ONCODSR",119,0)
 D ZS9S Q:'$D(X)  Q:(X="0000000")!(X=9999999)
"RTN","ONCODSR",120,0)
 I $D(X) S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT
"RTN","ONCODSR",121,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3)),U,1) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X D EN^DDIOL("DATE FIRST SURGICAL PROCEDURE later than MOST DEFINITIVE SURG DATE",,"!!?3") K %DT,SDT Q
"RTN","ONCODSR",122,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,8) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X D EN^DDIOL("DATE FIRST SURGICAL PROCEDURE later than MOST DEFINITIVE SURG @FAC DATE",,"!!") K %DT,SDT Q
"RTN","ONCODSR",123,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,22) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X D EN^DDIOL("DATE FIRST SURGICAL PROCEDURE later than SCOPE OF LN SURGERY DATE",,"!!") K %DT,SDT Q
"RTN","ONCODSR",124,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,23) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X D EN^DDIOL("DATE FIRST SURGICAL PROCEDURE later than SCOPE OF LN SURGERY @FAC DATE",,"!!") K %DT,SDT Q
"RTN","ONCODSR",125,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,24) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X D EN^DDIOL("DATE FIRST SURGICAL PROCEDURE later than SURG PROC/OTHER SITE DATE",,"!!")
"RTN","ONCODSR",126,0)
 I $D(X) S SDT=$P($G(^ONCO(165.5,D0,3.1)),U,25) I SDT'="",SDT'="0000000",SDT'="9999999" I X>SDT K X D EN^DDIOL("DATE FIRST SURGICAL PROCEDURE later than SURG PROC/OTHER SITE @FAC DATE",,"!!")
"RTN","ONCODSR",127,0)
 K %DT,SDT
"RTN","ONCODSR",128,0)
 Q
"RTN","ONCODSR",129,0)
 ;
"RTN","ONCODSR",130,0)
DFIT ;INPUT TRANSFORM for date fields
"RTN","ONCODSR",131,0)
 ;No future dates and date must be > or = DATE DX (165.5,3)
"RTN","ONCODSR",132,0)
 N DFSP,DTDXE,DTDXI,FAIL,ZS9S
"RTN","ONCODSR",133,0)
 I $G(DIFLD)=124 S NTDD=""
"RTN","ONCODSR",134,0)
 D ZS9S Q:ZS9S=1 
"RTN","ONCODSR",135,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT
"RTN","ONCODSR",136,0)
 S X=Y I Y<1 K X D EN^DDIOL("Future dates are not allowed.",,"!!?5") K %DT Q
"RTN","ONCODSR",137,0)
 S X=X
"RTN","ONCODSR",138,0)
 S DTDXI=$$GET1^DIQ(165.5,D0,3,"I")
"RTN","ONCODSR",139,0)
 I DTDXI=8888888!9999999 Q
"RTN","ONCODSR",140,0)
 S DTDXE=$$GET1^DIQ(165.5,D0,3,"E")
"RTN","ONCODSR",141,0)
 S FAIL=""
"RTN","ONCODSR",142,0)
 I X<DTDXI S FAIL=FAIL_"X"
"RTN","ONCODSR",143,0)
 I FAIL'="" D  Q
"RTN","ONCODSR",144,0)
 .K X
"RTN","ONCODSR",145,0)
 .D EN^DDIOL("The date entered must be later than or equal to the",,"!!?5")
"RTN","ONCODSR",146,0)
 .I FAIL["X" D EN^DDIOL("DATE DX which is "_DTDXE_($S(FAIL["A":" and the",1:".")),,"!?5")
"RTN","ONCODSR",147,0)
 .D EN^DDIOL(,,"!")
"RTN","ONCODSR",148,0)
 S DFSP=$P($G(^ONCO(165.5,D0,3.1)),U,38)
"RTN","ONCODSR",149,0)
 I $D(X),$G(DIFLD)=50 D  D EN^DDIOL(,,"!") Q
"RTN","ONCODSR",150,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X D EN^DDIOL("MOST DEFINITIVE SURG DATE earlier than DATE FIRST SURGICAL PROCEDURE",,"!!?3")
"RTN","ONCODSR",151,0)
 I $D(X),$G(DIFLD)=50.3 D  Q
"RTN","ONCODSR",152,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X D EN^DDIOL("MOST DEFINITIVE SURG @FAC DATE earlier than DATE FIRST SURGICAL PROCEDURE",,"!!?3")
"RTN","ONCODSR",153,0)
 I $D(X),$G(DIFLD)=138.2 D  Q
"RTN","ONCODSR",154,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X D EN^DDIOL("SCOPE OF LN SURGERY DATE earlier than DATE FIRST SURGICAL PROCEDURE",,"!!?3")
"RTN","ONCODSR",155,0)
 I $D(X),$G(DIFLD)=138.3 D  Q
"RTN","ONCODSR",156,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X D EN^DDIOL("SCOPE OF LN SURGERY @FAC DATE earlier than DATE FIRST SURGICAL PROCEDURE",,"!!?3")
"RTN","ONCODSR",157,0)
 I $D(X),$G(DIFLD)=139.2 D  Q
"RTN","ONCODSR",158,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X D EN^DDIOL("SURG PROC/OTHER SITE DATE earlier than DATE FIRST SURGICAL PROCEDURE",,"!!?3")
"RTN","ONCODSR",159,0)
 I $D(X),$G(DIFLD)=139.3 D  Q
"RTN","ONCODSR",160,0)
 .I DFSP'="",DFSP'="0000000",DFSP'="9999999" I X<DFSP K X D EN^DDIOL("SURG PROC/OTHER SITE @FAC DATE earlier than DATE FIRST SURGICAL PROCEDURE",,"!!?3")
"RTN","ONCODSR",161,0)
 Q
"RTN","ONCODSR",162,0)
 ;
"RTN","ONCODSR",163,0)
NTIT ;DATE OF NO TREATMENT (165.5,124) INPUT TRANSFORM
"RTN","ONCODSR",164,0)
 ;(NO FUTURE DATES AND >= DATE DX)
"RTN","ONCODSR",165,0)
 N DTDX
"RTN","ONCODSR",166,0)
 S NTDD=""
"RTN","ONCODSR",167,0)
 I (X="00/00/00")!(X="00/00/0000")!(X="00000000") K X Q
"RTN","ONCODSR",168,0)
 I (X="99/99/99")!(X="99/99/9999")!(X="99999999") K X Q
"RTN","ONCODSR",169,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y I Y<1 K X D EN^DDIOL("Future dates are not allowed.",,"!!?5") K %DT Q
"RTN","ONCODSR",170,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCODSR",171,0)
 I DTDX=8888888!9999999 Q
"RTN","ONCODSR",172,0)
 I DTDX'="" I X<DTDX K X D EN^DDIOL("This date must be later than or equal to the DATE DX of "_$E(DTDX,4,5)_"/"_$E(DTDX,6,7)_"/"_($E(DTDX,1,3)+1700)_".",,"!!?5") K DTDX Q
"RTN","ONCODSR",173,0)
 Q
"RTN","ONCODSR",174,0)
 ;
"RTN","ONCODSR",175,0)
NT ;DATE OF NO TREATMENT (Input transform for treatment fields)
"RTN","ONCODSR",176,0)
 S NTDD=$P($G(^ONCO(165.5,D0,2.1)),U,11)
"RTN","ONCODSR",177,0)
 I (NTDD'="")&(X'=V) K X D EN^DDIOL("This primary has a DATE OF NO TREATMENT of "_$E(NTDD,4,5)_"/"_$E(NTDD,6,7)_"/"_($E(NTDD,1,3)+1700)_".",,"!!?5") D EN^DDIOL("Treatments are not allowed unless the DATE OF NO TREATMENT is deleted.",,"!!?5")
"RTN","ONCODSR",178,0)
 K NTDD,V Q
"RTN","ONCODSR",179,0)
 ;
"RTN","ONCODSR",180,0)
CHKTS ;Check TREATMENT STATUS (165.5,235)
"RTN","ONCODSR",181,0)
 N TS,TSI
"RTN","ONCODSR",182,0)
 S TS=$$GET1^DIQ(165.5,D0,235)
"RTN","ONCODSR",183,0)
 S TSI=$$GET1^DIQ(165.5,D0,235,"I")
"RTN","ONCODSR",184,0)
 I (TSI=0)!(TSI=2) D
"RTN","ONCODSR",185,0)
 .D EN^DDIOL("TREATMENT STATUS = "_TS,,"!!?5")
"RTN","ONCODSR",186,0)
 .D EN^DDIOL("DATE OF NO TREATMENT cannot be blank.",,"!!?5")
"RTN","ONCODSR",187,0)
 .D EN^DDIOL(,,"!")
"RTN","ONCODSR",188,0)
 .S Y=124
"RTN","ONCODSR",189,0)
 E  S Y="@41"
"RTN","ONCODSR",190,0)
 Q
"RTN","ONCODSR",191,0)
 ;
"RTN","ONCODSR",192,0)
DBTS ;DATE BRACHYTHERAPY STARTED INPUT TRANSFORM (NOT FUTURE, DX<=DBS<=DBE)
"RTN","ONCODSR",193,0)
 N DBE
"RTN","ONCODSR",194,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X Q:'$D(X)
"RTN","ONCODSR",195,0)
 S DBE=$P($G(^ONCO(165.5,D0,"STS2")),U,13),DTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCODSR",196,0)
 I DBE'="" K:X>DBE X Q:'$D(X)
"RTN","ONCODSR",197,0)
 I DTDX'="" K:X<DTDX X K %DT
"RTN","ONCODSR",198,0)
 Q
"RTN","ONCODSR",199,0)
 ;
"RTN","ONCODSR",200,0)
DBTE ;DATE BRACHYTHERAPY ENDED INPUT TRANSFORM (NOT FUTURE, DBS<=DBE)
"RTN","ONCODSR",201,0)
 N DBS
"RTN","ONCODSR",202,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X I $D(X) S DBS=$P($G(^ONCO(165.5,D0,"STS2")),U,12) I DBS'="" K:X<DBS X K %DT
"RTN","ONCODSR",203,0)
 Q
"RTN","ONCODSR",204,0)
 ;
"RTN","ONCODSR",205,0)
ZS9S ;00/00/0000, 88/88/8888 and 99/99/9999 INPUT TRANSFORMS
"RTN","ONCODSR",206,0)
 S ZS9S=1
"RTN","ONCODSR",207,0)
 I X="00/00/00" D EN^DDIOL("00/00/00 is ambiguous.  Enter a 4 digit year. ",,"!?5") K X Q
"RTN","ONCODSR",208,0)
 I X="00/00/0000" S X="0000000" Q
"RTN","ONCODSR",209,0)
 I X="00000000" S X="0000000" Q
"RTN","ONCODSR",210,0)
 ;
"RTN","ONCODSR",211,0)
NINES ;99/99/9999 INPUT TRANSFORM
"RTN","ONCODSR",212,0)
 I X="99/99/99" D EN^DDIOL("99/99/99 is ambiguous.  Enter a 4 digit year. ",,"!?5") K X Q
"RTN","ONCODSR",213,0)
 I X="99/99/9999" S X=9999999 Q
"RTN","ONCODSR",214,0)
 I X="99999999" S X=9999999 Q
"RTN","ONCODSR",215,0)
 ;
"RTN","ONCODSR",216,0)
EIGHTS ;88/88/8888 INPUT TRANSFORM
"RTN","ONCODSR",217,0)
 I ($G(DIFLD)=193)!($G(DIFLD)=195) D  K FLD Q:'$D(X)  Q:X=8888888
"RTN","ONCODSR",218,0)
 .I X="88/88/88" D EN^DDIOL("88/88/88 is ambiguous.  Enter a 4 digit year. ",,"!?5") K X Q
"RTN","ONCODSR",219,0)
 .I X="88/88/8888" S X=8888888
"RTN","ONCODSR",220,0)
 .I X="88888888" S X=8888888
"RTN","ONCODSR",221,0)
 S ZS9S=0
"RTN","ONCODSR",222,0)
 Q
"RTN","ONCODSR",223,0)
 ;
"RTN","ONCODSR",224,0)
CLEANUP ;Cleanup
"RTN","ONCODSR",225,0)
 K D0,DIFLD,Y
"RTN","ONCODXD")
0^194^B17370508
"RTN","ONCODXD",1,0)
ONCODXD ;Hines OIFO/RTK,GWB - DATE DX (165.5,3) INPUT TRANSFORM ;4/9/97
"RTN","ONCODXD",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCODXD",3,0)
 ;
"RTN","ONCODXD",4,0)
DTDXIT ;Check that date entered is BEFORE or EQUAL to all other DATE fields
"RTN","ONCODXD",5,0)
 S DTXFLAG=1,C=0,MULT="" K LIST,SBCT,SUBR,RADT D CHKDTS
"RTN","ONCODXD",6,0)
 I DTXFLAG=1 D KLL Q
"RTN","ONCODXD",7,0)
 K X W !?4,"The DATE DX must be BEFORE or EQUAL TO certain date fields.  The date"
"RTN","ONCODXD",8,0)
 W !?4,"you have entered is unacceptable because it is AFTER the"
"RTN","ONCODXD",9,0)
 W !?4,"following date field(s):",!
"RTN","ONCODXD",10,0)
 F RTK=0:0 S RTK=$O(LIST(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",11,0)
 .S INDT=$P(LIST(RTK),U,2) D DT
"RTN","ONCODXD",12,0)
 .W !?4,EXDT," - ",$P(LIST(RTK),U,1) Q
"RTN","ONCODXD",13,0)
 F RTK=0:0 S RTK=$O(SBCT(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",14,0)
 .S INDT=$P(SBCT(RTK),U,2) D DT
"RTN","ONCODXD",15,0)
 .W !?4,EXDT," - SUBSEQUENT COURSE TREATMENT ",$P(SBCT(RTK),U,3)
"RTN","ONCODXD",16,0)
 .W " - ",$P(SBCT(RTK),U,1) Q
"RTN","ONCODXD",17,0)
 F RTK=0:0 S RTK=$O(SUBR(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",18,0)
 .S INDT=$P(SUBR(RTK),U,2) D DT
"RTN","ONCODXD",19,0)
 .W !?4,EXDT," - SUBSEQUENT RECURRENCE ",$P(SUBR(RTK),U,3)
"RTN","ONCODXD",20,0)
 .W " - ",$P(SUBR(RTK),U,1) Q
"RTN","ONCODXD",21,0)
 F RTK=0:0 S RTK=$O(RADT(RTK)) Q:RTK'>""  D
"RTN","ONCODXD",22,0)
 .S INDT=$P(RADT(RTK),U,2) D DT
"RTN","ONCODXD",23,0)
 .W !?4,EXDT," - RADIATION TREATMENT ",$P(RADT(RTK),U,3)
"RTN","ONCODXD",24,0)
 .W " - ",$P(RADT(RTK),U,1) Q
"RTN","ONCODXD",25,0)
 W !
"RTN","ONCODXD",26,0)
 ;
"RTN","ONCODXD",27,0)
KLL I DTXFLAG=1,X<3040000 D
"RTN","ONCODXD",28,0)
 .F PIECE=1:1:12 S $P(^ONCO(165.5,D0,"CS"),U,PIECE)=""
"RTN","ONCODXD",29,0)
 .F PIECE=1:1:11 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCODXD",30,0)
 K C,DTXFLAG,EXDT,FLD,FLDNM,INDT,LIST,MULT,NODE0,NODE1,NODE22
"RTN","ONCODXD",31,0)
 K NODE3,NODE31,NODE5,NODE7,NODEBL1,NODEBL2,NODENH2,NODEST2,NODETH1
"RTN","ONCODXD",32,0)
 K RADT,RADTZND,RDZ,RTK,SBCT,SBCTZND,SRZ,SUBR,SUBRZND,SZ Q
"RTN","ONCODXD",33,0)
 ;
"RTN","ONCODXD",34,0)
CHKDTS ; Check it against all other DATE fields
"RTN","ONCODXD",35,0)
 S NODE0=$G(^ONCO(165.5,D0,0)),NODE1=$G(^ONCO(165.5,D0,1))
"RTN","ONCODXD",36,0)
 S NODE3=$G(^ONCO(165.5,D0,3)),NODE31=$G(^ONCO(165.5,D0,3.1))
"RTN","ONCODXD",37,0)
 S NODE5=$G(^ONCO(165.5,D0,5)),NODE7=$G(^ONCO(165.5,D0,7))
"RTN","ONCODXD",38,0)
 S NODENH2=$G(^ONCO(165.5,D0,"NHL2")),NODE22=$G(^ONCO(165.5,D0,2.2))
"RTN","ONCODXD",39,0)
 S NODEBL1=$G(^ONCO(165.5,D0,"BLA1")),NODEBL2=$G(^ONCO(165.5,D0,"BLA2"))
"RTN","ONCODXD",40,0)
 S NODETH1=$G(^ONCO(165.5,D0,"THY1")),NODEST2=$G(^ONCO(165.5,D0,"STS2"))
"RTN","ONCODXD",41,0)
 ;
"RTN","ONCODXD",42,0)
 S FLD=$P(NODE1,U,10),FLDNM=$P($G(^DD(165.5,17,0)),U,1) D EDCHK
"RTN","ONCODXD",43,0)
 S FLD=$P(NODE3,U,1),FLDNM=$P($G(^DD(165.5,50,0)),U,1) D EDCHK
"RTN","ONCODXD",44,0)
 S FLD=$P(NODE3,U,4),FLDNM=$P($G(^DD(165.5,51,0)),U,1) D EDCHK
"RTN","ONCODXD",45,0)
 S FLD=$P(NODE3,U,11),FLDNM=$P($G(^DD(165.5,53,0)),U,1) D EDCHK
"RTN","ONCODXD",46,0)
 S FLD=$P(NODE3,U,14),FLDNM=$P($G(^DD(165.5,54,0)),U,1) D EDCHK
"RTN","ONCODXD",47,0)
 S FLD=$P(NODE3,U,17),FLDNM=$P($G(^DD(165.5,55,0)),U,1) D EDCHK
"RTN","ONCODXD",48,0)
 S FLD=$P(NODE3,U,23),FLDNM=$P($G(^DD(165.5,57,0)),U,1) D EDCHK
"RTN","ONCODXD",49,0)
 S FLD=$P(NODE7,U,9),FLDNM=$P($G(^DD(165.5,64,0)),U,1) D EDCHK
"RTN","ONCODXD",50,0)
 S FLD=$P(NODE5,U,1),FLDNM=$P($G(^DD(165.5,70,0)),U,1) D EDCHK
"RTN","ONCODXD",51,0)
 S FLD=$P(NODE7,U,1),FLDNM=$P($G(^DD(165.5,90,0)),U,1) D EDCHK
"RTN","ONCODXD",52,0)
 S FLD=$P(NODEBL1,U,24),FLDNM=$P($G(^DD(165.5,323,0)),U,1) D EDCHK
"RTN","ONCODXD",53,0)
 S FLD=$P(NODEBL2,U,16),FLDNM=$P($G(^DD(165.5,361,0)),U,1) D EDCHK
"RTN","ONCODXD",54,0)
 S FLD=$P(NODEBL2,U,22),FLDNM=$P($G(^DD(165.5,367,0)),U,1) D EDCHK
"RTN","ONCODXD",55,0)
 S FLD=$P(NODETH1,U,36),FLDNM=$P($G(^DD(165.5,435,0)),U,1) D EDCHK
"RTN","ONCODXD",56,0)
 S FLD=$P(NODEST2,U,12),FLDNM=$P($G(^DD(165.5,541,0)),U,1) D EDCHK
"RTN","ONCODXD",57,0)
 S FLD=$P(NODEST2,U,38),FLDNM=$P($G(^DD(165.5,567,0)),U,1) D EDCHK
"RTN","ONCODXD",58,0)
 S FLD=$P(NODENH2,U,20),FLDNM=$P($G(^DD(165.5,865,0)),U,1) D EDCHK
"RTN","ONCODXD",59,0)
 F SBCT=0:0 S SBCT=$O(^ONCO(165.5,D0,4,SBCT)) Q:SBCT'>0  D
"RTN","ONCODXD",60,0)
 .S SBCTZND=$G(^ONCO(165.5,D0,4,SBCT,0)),SZ=SBCTZND,MULT="SCT"
"RTN","ONCODXD",61,0)
 .S FLD=$P(SZ,U,1),FLDNM=$P($G(^DD(165.51,.01,0)),U,1) D EDCHK
"RTN","ONCODXD",62,0)
 .S FLD=$P(SZ,U,11),FLDNM=$P($G(^DD(165.51,.041,0)),U,1) D EDCHK
"RTN","ONCODXD",63,0)
 .S FLD=$P(SZ,U,12),FLDNM=$P($G(^DD(165.51,.051,0)),U,1) D EDCHK
"RTN","ONCODXD",64,0)
 .S FLD=$P(SZ,U,13),FLDNM=$P($G(^DD(165.51,.061,0)),U,1) D EDCHK
"RTN","ONCODXD",65,0)
 .S FLD=$P(SZ,U,14),FLDNM=$P($G(^DD(165.51,.071,0)),U,1) D EDCHK
"RTN","ONCODXD",66,0)
 .S FLD=$P(SZ,U,15),FLDNM=$P($G(^DD(165.51,.081,0)),U,1) D EDCHK
"RTN","ONCODXD",67,0)
 .S FLD=$P(SZ,U,16),FLDNM=$P($G(^DD(165.51,.091,0)),U,1) D EDCHK
"RTN","ONCODXD",68,0)
 F SUBR=0:0 S SUBR=$O(^ONCO(165.5,D0,23,SUBR)) Q:SUBR'>0  D
"RTN","ONCODXD",69,0)
 .S SUBRZND=$G(^ONCO(165.5,D0,23,SUBR,0)),SRZ=SUBRZND,MULT="SR"
"RTN","ONCODXD",70,0)
 .S FLD=$P(SRZ,U,1),FLDNM=$P($G(^DD(165.572,.01,0)),U,1) D EDCHK
"RTN","ONCODXD",71,0)
 Q
"RTN","ONCODXD",72,0)
 ;
"RTN","ONCODXD",73,0)
EDCHK ; If its a legitimate date check it against the date entered for DT DX
"RTN","ONCODXD",74,0)
 ; If its a partial date (no month or no day) just check year or year/mo
"RTN","ONCODXD",75,0)
 I FLD=""!(FLD="0000000")!(FLD=9999999) Q
"RTN","ONCODXD",76,0)
 I $E(FLD,4,7)="0000" D  Q  ;no DAY or MONTH
"RTN","ONCODXD",77,0)
 .I $E(X,1,3)>$E(FLD,1,3) D ERRDATE Q
"RTN","ONCODXD",78,0)
 I $E(FLD,6,7)="00" D  Q  ;MONTH but no DAY
"RTN","ONCODXD",79,0)
 .I $E(X,1,5)>$E(FLD,1,5) D ERRDATE Q
"RTN","ONCODXD",80,0)
 I X>FLD D ERRDATE Q
"RTN","ONCODXD",81,0)
 Q
"RTN","ONCODXD",82,0)
 ;
"RTN","ONCODXD",83,0)
ERRDATE ; Set DTXFLAG=0 and add FLDNM to the LIST of fields it must be before
"RTN","ONCODXD",84,0)
 S DTXFLAG=0,C=C+1
"RTN","ONCODXD",85,0)
 I MULT="SCT" S SBCT(C)=FLDNM_U_FLD_U_SBCT Q
"RTN","ONCODXD",86,0)
 I MULT="SR" S SUBR(C)=FLDNM_U_FLD_U_SUBR Q
"RTN","ONCODXD",87,0)
 I MULT="RDT" S RADT(C)=FLDNM_U_FLD_U_RADT Q
"RTN","ONCODXD",88,0)
 S LIST(C)=FLDNM_U_FLD
"RTN","ONCODXD",89,0)
 Q
"RTN","ONCODXD",90,0)
 ;
"RTN","ONCODXD",91,0)
DT ; CHANGE INTERNAL DATE TO EXTERNAL DATE FORMAT
"RTN","ONCODXD",92,0)
 S EXDT=$E(INDT,4,5)_"/"_$E(INDT,6,7)_"/"_($E(INDT,1,3)+1700)
"RTN","ONCODXD",93,0)
 Q
"RTN","ONCOEDC")
0^195^B26708219
"RTN","ONCOEDC",1,0)
ONCOEDC ;Hines OIFO/GWB - ABSTRACT STATUS (165.5,91) Input Transform ;10/19/11
"RTN","ONCOEDC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOEDC",3,0)
 ;
"RTN","ONCOEDC",4,0)
CHECK ;Required field check
"RTN","ONCOEDC",5,0)
 ;CLASS OF CASE   = 00-22
"RTN","ONCOEDC",6,0)
 ;SEQUENCE NUMBER = 00-59 or 99
"RTN","ONCOEDC",7,0)
 ;DATE DX > 12/31/95
"RTN","ONCOEDC",8,0)
 ;
"RTN","ONCOEDC",9,0)
 N ABSTAT,CC,CMPLT,CNT,DCC,DCLC,DTDX,ERRFLG,EX,FDNUM,FLDNAME,FN,LINE
"RTN","ONCOEDC",10,0)
 N NODE0,ONCANL,ONCFILE,PAUSE,PRM,PTN,SQN
"RTN","ONCOEDC",11,0)
 I (X=0)!(X=1)!(X=2)!(X="A") Q
"RTN","ONCOEDC",12,0)
 S PRM=D0
"RTN","ONCOEDC",13,0)
 S PTN=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOEDC",14,0)
 S CMPLT=1,NODE0=$G(^ONCO(165.5,D0,0)),ONCTYP="",ONCANL="" K LIST
"RTN","ONCOEDC",15,0)
 S (COC,CC)=$E($$GET1^DIQ(165.5,D0,.04),1,2)
"RTN","ONCOEDC",16,0)
 S SQN=$P(NODE0,U,6),DTDX=$P(NODE0,U,16)
"RTN","ONCOEDC",17,0)
 S ABSTAT=$P($G(^ONCO(165.5,D0,7)),U,2)
"RTN","ONCOEDC",18,0)
 I CC="" D  S ONCTYP="" K X Q
"RTN","ONCOEDC",19,0)
 .W !
"RTN","ONCOEDC",20,0)
 .W !?5,"CLASS OF CLASS is blank."
"RTN","ONCOEDC",21,0)
 .W !?5,"""Required"" field checking requires CLASS OF CASE."
"RTN","ONCOEDC",22,0)
 .W !
"RTN","ONCOEDC",23,0)
 I +CC<23,(+SQN<60)!(SQN=99),DTDX>2951231 S ONCANL=1 D CHKFLDS
"RTN","ONCOEDC",24,0)
 ;follow-up and approach fields must be entered.
"RTN","ONCOEDC",25,0)
 N ONCFOLDT,ONCAUDT
"RTN","ONCOEDC",26,0)
 I $D(^ONCO(160,PTN,1)) S ONCAUDT=$P(^ONCO(160,PTN,1),U,9)
"RTN","ONCOEDC",27,0)
 S ONCFOLDT=$O(^ONCO(160,PTN,"F","B",9999999),-1)
"RTN","ONCOEDC",28,0)
 I '$G(ONCAUDT) D
"RTN","ONCOEDC",29,0)
 .I (ONCFOLDT="")!(ONCFOLDT<DTDX) S LIST("DATE OF LAST CONTACT OR DEATH")="" S CMPLT=0
"RTN","ONCOEDC",30,0)
 I (DTDX>3091231),($$GET1^DIQ(165.5,PRM,234,"I")="") S CMPLT=0,LIST($P($G(^DD(165.5,234,0)),U,1))=""
"RTN","ONCOEDC",31,0)
 ;
"RTN","ONCOEDC",32,0)
 I CMPLT=0 S ONCTYP="A" K X Q
"RTN","ONCOEDC",33,0)
 I CMPLT=1 D
"RTN","ONCOEDC",34,0)
 .I $G(ONCANL)=1 D
"RTN","ONCOEDC",35,0)
 ..W !!," All required data fields have been entered."
"RTN","ONCOEDC",36,0)
 ..W !!," Beginning inter-field edit checks..." Q
"RTN","ONCOEDC",37,0)
 .W ! D ^ONCEDIT
"RTN","ONCOEDC",38,0)
 I CMPLT=1 W !," No inter-field edit check warnings.",! D EDITS Q
"RTN","ONCOEDC",39,0)
 I $G(OVERRIDE)="NO" G QUIT
"RTN","ONCOEDC",40,0)
 K DIR S DIR(0)="YA"
"RTN","ONCOEDC",41,0)
 S DIR("A",1)=" This abstract has inter-field WARNINGS."
"RTN","ONCOEDC",42,0)
 S DIR("A")=" Do you wish to ignore them and proceed to the EDITS API? "
"RTN","ONCOEDC",43,0)
 S DIR("B")="No" D ^DIR K DIR
"RTN","ONCOEDC",44,0)
 I Y=1 S X=3 W ! D EDITS Q
"RTN","ONCOEDC",45,0)
QUIT K OVERRIDE
"RTN","ONCOEDC",46,0)
 S EDIT="YES"
"RTN","ONCOEDC",47,0)
 S ONCTYP="B" W ! S X=ABSTAT Q
"RTN","ONCOEDC",48,0)
 ;
"RTN","ONCOEDC",49,0)
CHKFLDS ;Check ONCOLOGY PRIMARY (165.5) and ONCOLOGY PATIENT (160)
"RTN","ONCOEDC",50,0)
 S ONCFILE=165.5 D F1655^ONCOEDC1
"RTN","ONCOEDC",51,0)
 S ONCFILE=160 D F160
"RTN","ONCOEDC",52,0)
 Q
"RTN","ONCOEDC",53,0)
 ;
"RTN","ONCOEDC",54,0)
F160 ;ONCOLOGY PATIENT (160)
"RTN","ONCOEDC",55,0)
 F FDNUM=2,3,7,8,9,10,38,39,43  D
"RTN","ONCOEDC",56,0)
 .D:$$GET1^DIQ(160,PTN,FDNUM,"I")="" CMPLT
"RTN","ONCOEDC",57,0)
 Q
"RTN","ONCOEDC",58,0)
 ;
"RTN","ONCOEDC",59,0)
CMPLT ;Set CMPLT = 0 and add field to list of fields needed to be filled in.
"RTN","ONCOEDC",60,0)
 S FLDNAME=$P($G(^DD(ONCFILE,FDNUM,0)),U,1) S FDNUM=""
"RTN","ONCOEDC",61,0)
 S CMPLT=0,LIST(FLDNAME)=""
"RTN","ONCOEDC",62,0)
 Q
"RTN","ONCOEDC",63,0)
 ;
"RTN","ONCOEDC",64,0)
PRINT ;Display results
"RTN","ONCOEDC",65,0)
 I $G(ONCTYP)="" Q
"RTN","ONCOEDC",66,0)
 I ONCTYP="A" D REQ
"RTN","ONCOEDC",67,0)
 I ONCTYP="B" D INTER
"RTN","ONCOEDC",68,0)
 W !
"RTN","ONCOEDC",69,0)
 K ONCTYP
"RTN","ONCOEDC",70,0)
 Q
"RTN","ONCOEDC",71,0)
 ;
"RTN","ONCOEDC",72,0)
REQ ;Missing "required" data item list
"RTN","ONCOEDC",73,0)
 W !,"  ABSTRACT STATUS may not be set to COMPLETE unless"
"RTN","ONCOEDC",74,0)
 W !,"  all ""required"" data items have been entered.",!
"RTN","ONCOEDC",75,0)
 W !,"  The following ""required"" data items have not been"
"RTN","ONCOEDC",76,0)
 W !,"  entered for this primary:",!
"RTN","ONCOEDC",77,0)
 S EX="",LINE=$S($E(IOST,1,2)="C-":IOSL-2,1:IOSL-6),CNT=0
"RTN","ONCOEDC",78,0)
 S FN=""
"RTN","ONCOEDC",79,0)
 F  S FN=$O(LIST(FN)),CNT=CNT+1 Q:FN=""  W !,?2,FN I CNT>14 D PCHK Q:EX=U
"RTN","ONCOEDC",80,0)
 Q
"RTN","ONCOEDC",81,0)
 ;
"RTN","ONCOEDC",82,0)
INTER ;Interfield edit warnings
"RTN","ONCOEDC",83,0)
 ;W !?5,"ABSTRACT STATUS may not be set to COMPLETE until all interfield"
"RTN","ONCOEDC",84,0)
 ;W !?5,"warnings listed above have been cleared."
"RTN","ONCOEDC",85,0)
 Q
"RTN","ONCOEDC",86,0)
 ;
"RTN","ONCOEDC",87,0)
PCHK ;Enter RETURN to continue or '^' to exit:
"RTN","ONCOEDC",88,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOEDC",89,0)
 .W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCOEDC",90,0)
 .W @IOF Q
"RTN","ONCOEDC",91,0)
 Q
"RTN","ONCOEDC",92,0)
 ;
"RTN","ONCOEDC",93,0)
EDITS ;Call to EDITS API
"RTN","ONCOEDC",94,0)
 W !," Calling EDITS API..."
"RTN","ONCOEDC",95,0)
 N ONCDST,ONCSAPI
"RTN","ONCOEDC",96,0)
 S DCC=$P($G(^ONCO(165.5,D0,7)),U,1)
"RTN","ONCOEDC",97,0)
 S DCLC=$P($G(^ONCO(165.5,D0,7)),U,21)
"RTN","ONCOEDC",98,0)
 I DCC="" D
"RTN","ONCOEDC",99,0)
 .S $P(^ONCO(165.5,PRM,7),U,1)=DT
"RTN","ONCOEDC",100,0)
 .S ^ONCO(165.5,"AAD",DT,PRM)=""
"RTN","ONCOEDC",101,0)
 .S $P(^ONCO(165.5,PRM,7),U,3)=DUZ
"RTN","ONCOEDC",102,0)
 .S $P(^ONCO(165.5,PRM,"EDITS"),U,3)="N"
"RTN","ONCOEDC",103,0)
 I ABSTAT=3,$P($G(^ONCO(165.5,D0,7)),U,3)="" S $P(^ONCO(165.5,PRM,7),U,3)=DUZ
"RTN","ONCOEDC",104,0)
 I DCC'="",$P($G(^ONCO(165.5,D0,7)),U,3)="" S $P(^ONCO(165.5,PRM,7),U,3)=DUZ
"RTN","ONCOEDC",105,0)
 D ^ONCGENED
"RTN","ONCOEDC",106,0)
 K EDIT
"RTN","ONCOEDC",107,0)
 I ERRFLG'=0 D  Q
"RTN","ONCOEDC",108,0)
 .I ABSTAT=3 W !!,"EDITS errors were encountered. ABSTRACT STATUS changed to 0 (Incomplete).",!
"RTN","ONCOEDC",109,0)
 .I ABSTAT'=3 W !!,"EDITS errors were encountered. ABSTRACT STATUS is unchanged.",!
"RTN","ONCOEDC",110,0)
 .I DCC="" D
"RTN","ONCOEDC",111,0)
 ..S $P(^ONCO(165.5,D0,7),U,1)=""
"RTN","ONCOEDC",112,0)
 ..K ^ONCO(165.5,"AAD",DT,PRM)
"RTN","ONCOEDC",113,0)
 ..S $P(^ONCO(165.5,D0,7),U,3)=""
"RTN","ONCOEDC",114,0)
 ..S $P(^ONCO(165.5,D0,"EDITS"),U,3)=""
"RTN","ONCOEDC",115,0)
 .K DIR S DIR(0)="YA"
"RTN","ONCOEDC",116,0)
 .S DIR("A")=" Do you wish to return to the Primary Menu Options? "
"RTN","ONCOEDC",117,0)
 .S DIR("B")="Yes" D ^DIR K DIR
"RTN","ONCOEDC",118,0)
 .I Y=1 S EDIT="YES"
"RTN","ONCOEDC",119,0)
 .S X=$S(ABSTAT=3:0,1:ABSTAT)
"RTN","ONCOEDC",120,0)
 W !," No EDITS errors or warnings."
"RTN","ONCOEDC",121,0)
 S SAVEX=3,$P(^ONCO(165.5,D0,7),U,2)=3,^ONCO(165.5,"AS",3,D0)=""
"RTN","ONCOEDC",122,0)
 ;S ONCEDC3=1,DIE="^ONCO(165.5,",DA=D0,DR="91///^S X=3" D ^DIE K ONCEDC3
"RTN","ONCOEDC",123,0)
 I DCC'="" D
"RTN","ONCOEDC",124,0)
 .I DCLC'="" K ^ONCO(165.5,"AAE",DCLC,PRM)
"RTN","ONCOEDC",125,0)
 .S $P(^ONCO(165.5,PRM,7),U,21)=DT
"RTN","ONCOEDC",126,0)
 .S ^ONCO(165.5,"AAE",DT,PRM)=""
"RTN","ONCOEDC",127,0)
 .S $P(^ONCO(165.5,PRM,7),U,22)=DUZ
"RTN","ONCOEDC",128,0)
 .S:$P(^ONCO(165.5,PRM,7),U,3)="" $P(^ONCO(165.5,PRM,7),U,3)=DUZ
"RTN","ONCOEDC",129,0)
 W !
"RTN","ONCOEDC",130,0)
 W !," ABSTRACT STATUS.............: ",$$GET1^DIQ(165.5,D0,91,"E")
"RTN","ONCOEDC",131,0)
 W !," DATE OF FIRST CONTACT.......: ",$$GET1^DIQ(165.5,D0,155,"E")
"RTN","ONCOEDC",132,0)
 W !," DATE CASE COMPLETED.........: ",$$GET1^DIQ(165.5,D0,90,"E")
"RTN","ONCOEDC",133,0)
 ;W !," ELAPSED DAYS TO COMPLETION..: ",$$GET1^DIQ(165.5,D0,157,"E")
"RTN","ONCOEDC",134,0)
 W !," ELAPSED MONTHS TO COMPLETION: ",$$GET1^DIQ(165.5,D0,157.1,"E")
"RTN","ONCOEDC",135,0)
 W !," ABSTRACTED BY...............: ",$$GET1^DIQ(165.5,D0,92,"E")
"RTN","ONCOEDC",136,0)
 W !," DATE CASE LAST CHANGED......: ",$$GET1^DIQ(165.5,D0,198,"E")
"RTN","ONCOEDC",137,0)
 W !," CASE LAST CHANGED BY........: ",$$GET1^DIQ(165.5,D0,199,"E")
"RTN","ONCOEDC",138,0)
 W !
"RTN","ONCOEDC",139,0)
 S EDITS="NO" D NAACCR^ONCGENED K EDITS
"RTN","ONCOEDC",140,0)
 D CHKSUM^ONCGENED
"RTN","ONCOEDC",141,0)
 W ! R "Enter RETURN to continue: ",PAUSE:30
"RTN","ONCOEDC",142,0)
 I $G(SAVEX)=3 S X=3
"RTN","ONCOEDC",143,0)
 Q
"RTN","ONCOEDC",144,0)
 ;
"RTN","ONCOEDC",145,0)
CLEANUP ;Cleanup
"RTN","ONCOEDC",146,0)
 K COC,D0,Y
"RTN","ONCOEDC1")
0^196^B42257754
"RTN","ONCOEDC1",1,0)
ONCOEDC1 ;Hines OIFO/GWB - "Required" data item check ;06/23/10
"RTN","ONCOEDC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOEDC1",3,0)
 ;
"RTN","ONCOEDC1",4,0)
F1655 ;If data item blank, S CMPLT=0 and add field to list
"RTN","ONCOEDC1",5,0)
 I (DTDX>3091231),($$GET1^DIQ(165.5,PRM,234,"I")="") S FDNUM=234 D CMPLT
"RTN","ONCOEDC1",6,0)
 I $$GET1^DIQ(165.5,PRM,361,"I")="" S FDNUM=361 D CMPLT
"RTN","ONCOEDC1",7,0)
 I $$GET1^DIQ(165.5,PRM,155,"I")="" S FDNUM=155 D CMPLT
"RTN","ONCOEDC1",8,0)
 I $$GET1^DIQ(165.5,PRM,56,"I")="" S FDNUM=56 D CMPLT
"RTN","ONCOEDC1",9,0)
 I $$GET1^DIQ(165.5,PRM,125,"I")="" S FDNUM=125 D CMPLT
"RTN","ONCOEDC1",10,0)
 I $$GET1^DIQ(165.5,PRM,126,"I")="" S FDNUM=126 D CMPLT
"RTN","ONCOEDC1",11,0)
 I $$GET1^DIQ(165.5,PRM,363,"I")="" S FDNUM=363 D CMPLT
"RTN","ONCOEDC1",12,0)
 I $$GET1^DIQ(165.5,PRM,.03,"I")="" S FDNUM=.03 D CMPLT
"RTN","ONCOEDC1",13,0)
 I $$GET1^DIQ(165.5,PRM,.05,"I")="" S FDNUM=.05 D CMPLT
"RTN","ONCOEDC1",14,0)
 I $$GET1^DIQ(165.5,PRM,.06,"I")="" S FDNUM=.06 D CMPLT
"RTN","ONCOEDC1",15,0)
 I $$GET1^DIQ(165.5,PRM,.07,"I")="" S FDNUM=.07 D CMPLT
"RTN","ONCOEDC1",16,0)
 I $$GET1^DIQ(165.5,PRM,8,"I")="" S FDNUM=8 D CMPLT
"RTN","ONCOEDC1",17,0)
 I $$GET1^DIQ(165.5,PRM,8.1,"I")="" S FDNUM=8.1 D CMPLT
"RTN","ONCOEDC1",18,0)
 I $$GET1^DIQ(165.5,PRM,16,"I")="" S FDNUM=16 D CMPLT
"RTN","ONCOEDC1",19,0)
 I $$GET1^DIQ(165.5,PRM,11,"I")="" S FDNUM=11 D CMPLT
"RTN","ONCOEDC1",20,0)
 I $$GET1^DIQ(165.5,PRM,9,"I")="" S FDNUM=9 D CMPLT
"RTN","ONCOEDC1",21,0)
 I $$GET1^DIQ(165.5,PRM,10,"I")="" S FDNUM=10 D CMPLT
"RTN","ONCOEDC1",22,0)
 I $$GET1^DIQ(165.5,PRM,4,"E")="" S FDNUM=4 D CMPLT
"RTN","ONCOEDC1",23,0)
 I $$GET1^DIQ(165.5,PRM,1.2,"I")="" S FDNUM=1.2 D CMPLT
"RTN","ONCOEDC1",24,0)
 I $$GET1^DIQ(165.5,PRM,2.1,"I")="" S FDNUM=2.1 D CMPLT
"RTN","ONCOEDC1",25,0)
 I $$GET1^DIQ(165.5,PRM,18,"I")="" S FDNUM=18 D CMPLT
"RTN","ONCOEDC1",26,0)
 I $$GET1^DIQ(165.5,PRM,.04,"I")="" S FDNUM=.04 D CMPLT
"RTN","ONCOEDC1",27,0)
 I $$GET1^DIQ(165.5,PRM,12,"I")="" S FDNUM=12 D CMPLT
"RTN","ONCOEDC1",28,0)
 I $$GET1^DIQ(165.5,PRM,3,"I")="" S FDNUM=3 D CMPLT
"RTN","ONCOEDC1",29,0)
 I $$GET1^DIQ(165.5,PRM,147,"I")="" S FDNUM=147 D CMPLT
"RTN","ONCOEDC1",30,0)
 I $$GET1^DIQ(165.5,PRM,20,"I")="" S FDNUM=20 D CMPLT
"RTN","ONCOEDC1",31,0)
 I $$GET1^DIQ(165.5,PRM,28,"I")="" S FDNUM=28 D CMPLT
"RTN","ONCOEDC1",32,0)
 I $$GET1^DIQ(165.5,PRM,22.3,"I")="" S FDNUM=22.3 D CMPLT
"RTN","ONCOEDC1",33,0)
 I $$GET1^DIQ(165.5,PRM,24,"I")="" S FDNUM=24 D CMPLT
"RTN","ONCOEDC1",34,0)
 I $$GET1^DIQ(165.5,PRM,26,"I")="" S FDNUM=26 D CMPLT
"RTN","ONCOEDC1",35,0)
 I $$GET1^DIQ(165.5,PRM,29,"I")="" S FDNUM=29 D CMPLT
"RTN","ONCOEDC1",36,0)
 I $$GET1^DIQ(165.5,PRM,30,"I")="" S FDNUM=30 D CMPLT
"RTN","ONCOEDC1",37,0)
 I $$GET1^DIQ(165.5,PRM,31,"I")="" S FDNUM=31 D CMPLT
"RTN","ONCOEDC1",38,0)
 I $$GET1^DIQ(165.5,PRM,33,"I")="" S FDNUM=33 D CMPLT
"RTN","ONCOEDC1",39,0)
 I DTDX<3040000 D
"RTN","ONCOEDC1",40,0)
 .I $$GET1^DIQ(165.5,PRM,34,"I")="" S FDNUM=34 D CMPLT
"RTN","ONCOEDC1",41,0)
 .I $$GET1^DIQ(165.5,PRM,34.1,"I")="" S FDNUM=34.1 D CMPLT
"RTN","ONCOEDC1",42,0)
 .I $$GET1^DIQ(165.5,PRM,34.2,"I")="" S FDNUM=34.2 D CMPLT
"RTN","ONCOEDC1",43,0)
 .I $$GET1^DIQ(165.5,PRM,35,"I")="" S FDNUM=35 D CMPLT
"RTN","ONCOEDC1",44,0)
 I $$GET1^DIQ(165.5,PRM,32,"I")="" S FDNUM=32 D CMPLT
"RTN","ONCOEDC1",45,0)
 I $$GET1^DIQ(165.5,PRM,37.1,"I")="" S FDNUM=37.1  D CMPLT
"RTN","ONCOEDC1",46,0)
 I $$GET1^DIQ(165.5,PRM,85,"I")="" S FDNUM=85 D CMPLT
"RTN","ONCOEDC1",47,0)
 I '$$GTT^ONCOU55(PRM),$$GET1^DIQ(165.5,PRM,37.2,"I")="" S FDNUM=37.2 D CMPLT
"RTN","ONCOEDC1",48,0)
 I '$$GTT^ONCOU55(PRM),$$GET1^DIQ(165.5,PRM,86,"I")="" S FDNUM=86 D CMPLT
"RTN","ONCOEDC1",49,0)
 ;I $$GET1^DIQ(165.5,PRM,37.3,"I")="" S FDNUM=37.3 D CMPLT
"RTN","ONCOEDC1",50,0)
 I DTDX<3100000 D
"RTN","ONCOEDC1",51,0)
 .I $$GET1^DIQ(165.5,PRM,87,"I")="" S FDNUM=87 D CMPLT
"RTN","ONCOEDC1",52,0)
 I DTDX<3030000 D
"RTN","ONCOEDC1",53,0)
 .I $$GET1^DIQ(165.5,PRM,25.1,"I")="" S FDNUM=25.1 D CMPLT
"RTN","ONCOEDC1",54,0)
 .I $$GET1^DIQ(165.5,PRM,25.2,"I")="" S FDNUM=25.2 D CMPLT
"RTN","ONCOEDC1",55,0)
 .I $$GET1^DIQ(165.5,PRM,25.3,"I")="" S FDNUM=25.3 D CMPLT
"RTN","ONCOEDC1",56,0)
 I $$GET1^DIQ(165.5,PRM,38,"I")="" S FDNUM=38 D CMPLT
"RTN","ONCOEDC1",57,0)
 I $$GET1^DIQ(165.5,PRM,88,"I")="" S FDNUM=88 D CMPLT
"RTN","ONCOEDC1",58,0)
 I $$GET1^DIQ(165.5,PRM,19,"I")="" S FDNUM=19 D CMPLT
"RTN","ONCOEDC1",59,0)
 I $$GET1^DIQ(165.5,PRM,89,"I")="" S FDNUM=89 D CMPLT
"RTN","ONCOEDC1",60,0)
 I $$GET1^DIQ(165.5,PRM,58.3,"I")="" S FDNUM=58.3 D CMPLT
"RTN","ONCOEDC1",61,0)
 I $$GET1^DIQ(165.5,PRM,58.1,"I")="" S FDNUM=58.1 D CMPLT
"RTN","ONCOEDC1",62,0)
 I $$GET1^DIQ(165.5,PRM,560,"I")="" S FDNUM=560 D CMPLT
"RTN","ONCOEDC1",63,0)
 I $$GET1^DIQ(165.5,PRM,49,"E")="" S FDNUM=49 D CMPLT
"RTN","ONCOEDC1",64,0)
 I $$GET1^DIQ(165.5,PRM,50,"I")="" S FDNUM=50 D CMPLT
"RTN","ONCOEDC1",65,0)
 I $$GET1^DIQ(165.5,PRM,58,"I")="" S FDNUM=58 D CMPLT
"RTN","ONCOEDC1",66,0)
 I $$GET1^DIQ(165.5,PRM,58.6,"I")="" S FDNUM=58.6 D CMPLT
"RTN","ONCOEDC1",67,0)
 I $$GET1^DIQ(165.5,PRM,75,"I")="" S FDNUM=75 D CMPLT
"RTN","ONCOEDC1",68,0)
 I $$GET1^DIQ(165.5,PRM,59,"I")="" S FDNUM=59 D CMPLT
"RTN","ONCOEDC1",69,0)
 I DTDX<3030000 D
"RTN","ONCOEDC1",70,0)
 .I $$GET1^DIQ(165.5,PRM,23,"I")="" S FDNUM=23 D CMPLT
"RTN","ONCOEDC1",71,0)
 I $$GET1^DIQ(165.5,PRM,51,"I")="" S FDNUM=51 D CMPLT
"RTN","ONCOEDC1",72,0)
 I $$GET1^DIQ(165.5,PRM,51.2,"I")="" S FDNUM=51.2 D CMPLT
"RTN","ONCOEDC1",73,0)
 I $$GET1^DIQ(165.5,PRM,51.3,"I")="" S FDNUM=51.3 D CMPLT
"RTN","ONCOEDC1",74,0)
 I $$GET1^DIQ(165.5,PRM,53,"I")="" S FDNUM=53 D CMPLT
"RTN","ONCOEDC1",75,0)
 I $$GET1^DIQ(165.5,PRM,53.2,"I")="" S FDNUM=53.2 D CMPLT
"RTN","ONCOEDC1",76,0)
 I $$GET1^DIQ(165.5,PRM,54,"I")="" S FDNUM=54 D CMPLT
"RTN","ONCOEDC1",77,0)
 I $$GET1^DIQ(165.5,PRM,54.2,"I")="" S FDNUM=54.2 D CMPLT
"RTN","ONCOEDC1",78,0)
 I $$GET1^DIQ(165.5,PRM,55,"I")="" S FDNUM=55 D CMPLT
"RTN","ONCOEDC1",79,0)
 I $$GET1^DIQ(165.5,PRM,55.2,"I")="" S FDNUM=55.2 D CMPLT
"RTN","ONCOEDC1",80,0)
 I $$GET1^DIQ(165.5,PRM,57,"I")="" S FDNUM=57 D CMPLT
"RTN","ONCOEDC1",81,0)
 I $$GET1^DIQ(165.5,PRM,57.2,"I")="" S FDNUM=57.2 D CMPLT
"RTN","ONCOEDC1",82,0)
 I DTDX<3030000 D
"RTN","ONCOEDC1",83,0)
 .I $$GET1^DIQ(165.5,PRM,74,"I")="" S FDNUM=74 D CMPLT
"RTN","ONCOEDC1",84,0)
 .I $$GET1^DIQ(165.5,PRM,58.2,"I")="" S FDNUM=58.2 D CMPLT
"RTN","ONCOEDC1",85,0)
 .I $$GET1^DIQ(165.5,PRM,50.2,"I")="" S FDNUM=50.2 D CMPLT
"RTN","ONCOEDC1",86,0)
 .I $$GET1^DIQ(165.5,PRM,138,"I")="" S FDNUM=138 D CMPLT
"RTN","ONCOEDC1",87,0)
 .I $$GET1^DIQ(165.5,PRM,138.1,"I")="" S FDNUM=138.1 D CMPLT
"RTN","ONCOEDC1",88,0)
 .I $$GET1^DIQ(165.5,PRM,139,"I")="" S FDNUM=139 D CMPLT
"RTN","ONCOEDC1",89,0)
 .I $$GET1^DIQ(165.5,PRM,139.1,"I")="" S FDNUM=139.1 D CMPLT
"RTN","ONCOEDC1",90,0)
 .I $$GET1^DIQ(165.5,PRM,140,"I")="" S FDNUM=140 D CMPLT
"RTN","ONCOEDC1",91,0)
 .I $$GET1^DIQ(165.5,PRM,140.1,"I")="" S FDNUM=140.1 D CMPLT
"RTN","ONCOEDC1",92,0)
 I DTDX'=9999999,DTDX>3061231,DTDX<3130101 D
"RTN","ONCOEDC1",93,0)
 .I $$GET1^DIQ(165.5,PRM,159,"I")="" S FDNUM=159 D CMPLT
"RTN","ONCOEDC1",94,0)
 .I $$GET1^DIQ(165.5,PRM,193,"I")="" S FDNUM=193 D CMPLT
"RTN","ONCOEDC1",95,0)
 .I $$GET1^DIQ(165.5,PRM,194,"I")="" S FDNUM=194 D CMPLT
"RTN","ONCOEDC1",96,0)
 .I $$GET1^DIQ(165.5,PRM,195,"I")="" S FDNUM=195 D CMPLT
"RTN","ONCOEDC1",97,0)
 .I $$GET1^DIQ(165.5,PRM,196,"I")="" S FDNUM=196 D CMPLT
"RTN","ONCOEDC1",98,0)
 I DTDX'=9999999,DTDX>2971231 D
"RTN","ONCOEDC1",99,0)
 .I $$GET1^DIQ(165.5,PRM,138.4,"I")="" S FDNUM=138.4 D CMPLT
"RTN","ONCOEDC1",100,0)
 .I $$GET1^DIQ(165.5,PRM,139.4,"I")="" S FDNUM=139.4 D CMPLT
"RTN","ONCOEDC1",101,0)
 .I $$GET1^DIQ(165.5,PRM,138.5,"I")="" S FDNUM=138.5 D CMPLT
"RTN","ONCOEDC1",102,0)
 .I $$GET1^DIQ(165.5,PRM,139.5,"I")="" S FDNUM=139.5 D CMPLT
"RTN","ONCOEDC1",103,0)
 .I $$GET1^DIQ(165.5,PRM,435,"I")="" S FDNUM=435 D CMPLT
"RTN","ONCOEDC1",104,0)
 .I $$GET1^DIQ(165.5,PRM,14,"I")="" S FDNUM=14 D CMPLT
"RTN","ONCOEDC1",105,0)
 .I $$GET1^DIQ(165.5,PRM,58.7,"I")="" S FDNUM=58.7 D CMPLT
"RTN","ONCOEDC1",106,0)
 .I $$GET1^DIQ(165.5,PRM,51.4,"I")="" S FDNUM=51.4 D CMPLT
"RTN","ONCOEDC1",107,0)
 .I $$GET1^DIQ(165.5,PRM,53.3,"I")="" S FDNUM=53.3 D CMPLT
"RTN","ONCOEDC1",108,0)
 .I $$GET1^DIQ(165.5,PRM,54.3,"I")="" S FDNUM=54.3 D CMPLT
"RTN","ONCOEDC1",109,0)
 .I $$GET1^DIQ(165.5,PRM,55.3,"I")="" S FDNUM=55.3 D CMPLT
"RTN","ONCOEDC1",110,0)
 .I $$GET1^DIQ(165.5,PRM,57.3,"I")="" S FDNUM=57.3 D CMPLT
"RTN","ONCOEDC1",111,0)
 .I $$GET1^DIQ(165.5,PRM,58.4,"I")="" S FDNUM=58.4 D CMPLT
"RTN","ONCOEDC1",112,0)
 I DTDX'=9999999,DTDX>2961231 I $$GET1^DIQ(165.5,PRM,442,"I")="" S FDNUM=442 D CMPLT
"RTN","ONCOEDC1",113,0)
 I DTDX'=9999999,DTDX>3031231 D
"RTN","ONCOEDC1",114,0)
 .I $$GET1^DIQ(165.5,PRM,29.2,"I")="" S FDNUM=29.2 D CMPLT
"RTN","ONCOEDC1",115,0)
 .I $$GET1^DIQ(165.5,PRM,30.2,"I")="" S FDNUM=30.2 D CMPLT
"RTN","ONCOEDC1",116,0)
 .I $$GET1^DIQ(165.5,PRM,29.1,"I")="" S FDNUM=29.1 D CMPLT
"RTN","ONCOEDC1",117,0)
 .I $$GET1^DIQ(165.5,PRM,31.1,"I")="" S FDNUM=31.1 D CMPLT
"RTN","ONCOEDC1",118,0)
 .I $$GET1^DIQ(165.5,PRM,32.1,"I")="" S FDNUM=32.1 D CMPLT
"RTN","ONCOEDC1",119,0)
 .I $$GET1^DIQ(165.5,PRM,34.3,"I")="" S FDNUM=34.3 D CMPLT
"RTN","ONCOEDC1",120,0)
 .I $$GET1^DIQ(165.5,PRM,34.4,"I")="" S FDNUM=34.4 D CMPLT
"RTN","ONCOEDC1",121,0)
 .I $$GET1^DIQ(165.5,PRM,44.1,"I")="" S FDNUM=44.1 D CMPLT
"RTN","ONCOEDC1",122,0)
 .I $$GET1^DIQ(165.5,PRM,44.2,"I")="" S FDNUM=44.2 D CMPLT
"RTN","ONCOEDC1",123,0)
 .I $$GET1^DIQ(165.5,PRM,44.3,"I")="" S FDNUM=44.3 D CMPLT
"RTN","ONCOEDC1",124,0)
 .I $$GET1^DIQ(165.5,PRM,44.4,"I")="" S FDNUM=44.4 D CMPLT
"RTN","ONCOEDC1",125,0)
 .I $$GET1^DIQ(165.5,PRM,44.5,"I")="" S FDNUM=44.5 D CMPLT
"RTN","ONCOEDC1",126,0)
 .I $$GET1^DIQ(165.5,PRM,44.6,"I")="" S FDNUM=44.6 D CMPLT
"RTN","ONCOEDC1",127,0)
 .I $$GET1^DIQ(165.5,PRM,160,"I")="" S FDNUM=160 D CMPLT
"RTN","ONCOEDC1",128,0)
 .I $$GET1^DIQ(165.5,PRM,161,"I")="" S FDNUM=161 D CMPLT
"RTN","ONCOEDC1",129,0)
 .I $$GET1^DIQ(165.5,PRM,162,"I")="" S FDNUM=162 D CMPLT
"RTN","ONCOEDC1",130,0)
 .I $$GET1^DIQ(165.5,PRM,163,"I")="" S FDNUM=163 D CMPLT
"RTN","ONCOEDC1",131,0)
 .I $$GET1^DIQ(165.5,PRM,164,"I")="" S FDNUM=164 D CMPLT
"RTN","ONCOEDC1",132,0)
 .I $$GET1^DIQ(165.5,PRM,165,"I")="" S FDNUM=165 D CMPLT
"RTN","ONCOEDC1",133,0)
 .I $$GET1^DIQ(165.5,PRM,166,"I")="" S FDNUM=166 D CMPLT
"RTN","ONCOEDC1",134,0)
 .I $$GET1^DIQ(165.5,PRM,167,"I")="" S FDNUM=167 D CMPLT
"RTN","ONCOEDC1",135,0)
 .I $$GET1^DIQ(165.5,PRM,168,"I")="" S FDNUM=168 D CMPLT
"RTN","ONCOEDC1",136,0)
 Q
"RTN","ONCOEDC1",137,0)
 ;
"RTN","ONCOEDC1",138,0)
CMPLT ;Set CMPLT = 0 and add FLD to LIST of fields needed to be filled in.
"RTN","ONCOEDC1",139,0)
 S FLDNAME=$P($G(^DD(ONCFILE,FDNUM,0)),U,1) S FDNUM=""
"RTN","ONCOEDC1",140,0)
 S CMPLT=0,LIST(FLDNAME)=""
"RTN","ONCOEDC1",141,0)
 Q
"RTN","ONCOEDC1",142,0)
 ;
"RTN","ONCOEDC1",143,0)
CLEANUP ;Cleanup
"RTN","ONCOEDC1",144,0)
 K CMPLT,DTDX,FDNUM,FLDNAME,LIST,ONCFILE,PRM
"RTN","ONCOEDC1",145,0)
 Q
"RTN","ONCOENA")
0^197^B1937983
"RTN","ONCOENA",1,0)
ONCOENA ;WISC/MLH-ONCOLOGY INSTALL-ENVIRONMENT CHECK HELPER
"RTN","ONCOENA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOENA",3,0)
 ;
"RTN","ONCOENA",4,0)
 ;  8/12/94 MLH ADDED this routine to bring ONCOENV into
"RTN","ONCOENA",5,0)
 ;              compliance with SACC limit of 5000 bytes
"RTN","ONCOENA",6,0)
 ;
"RTN","ONCOENA",7,0)
QNORSTG ;    does user want to proceed w/o restaging?
"RTN","ONCOENA",8,0)
 W !!,"No restaging will be performed.",!
"RTN","ONCOENA",9,0)
 I 'OFST D  ;    on non-virgin install, make sure they want to skip restaging
"RTN","ONCOENA",10,0)
 .  N DIR,Y
"RTN","ONCOENA",11,0)
 .  S DIR("A")="Proceed with initialization",DIR(0)="Y"
"RTN","ONCOENA",12,0)
 .  S DIR("?",1)="If you enter Y here, initialization will proceed without restaging."
"RTN","ONCOENA",13,0)
 .  S DIR("?",2)=" "
"RTN","ONCOENA",14,0)
 .  S DIR("?",3)="If you enter N here, initialization will cease.  You may D ^ONCOINIT"
"RTN","ONCOENA",15,0)
 .  S DIR("?",4)="to restart initialization at any time.",DIR("?")=" "
"RTN","ONCOENA",16,0)
 .  D ^DIR
"RTN","ONCOENA",17,0)
 .  I 'Y K DIFQ W !!,"Initialization aborted.",!!
"RTN","ONCOENA",18,0)
 .  Q
"RTN","ONCOENA",19,0)
 ;END IF
"RTN","ONCOENA",20,0)
 ;
"RTN","ONCOENA",21,0)
 Q
"RTN","ONCOENV")
0^198^B31499844
"RTN","ONCOENV",1,0)
ONCOENV ;WASH ISC/SRR,MLH-PACKAGE ENVIRONMENT CHECK VERSION 2.11
"RTN","ONCOENV",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOENV",3,0)
 ;
"RTN","ONCOENV",4,0)
 ;    Just a reminder - if variables are defined here for the post init,
"RTN","ONCOENV",5,0)
 ;    don't NEW them in this routine or they'll be clobbered.
"RTN","ONCOENV",6,0)
 I '$D(IOF) S IOP="HOME" D ^%ZIS ;    set up environment
"RTN","ONCOENV",7,0)
 ;
"RTN","ONCOENV",8,0)
PRE ;    PRE INIT - Check user and device
"RTN","ONCOENV",9,0)
 I $G(DUZ)<1 W !!!?15,"YOU ARE NOT IDENTIFIED AS A USER!!",!!?17,"TERMINATING this Installation!",!!! K DIFQ
"RTN","ONCOENV",10,0)
 E  D CK
"RTN","ONCOENV",11,0)
 D EX ;    clean up
"RTN","ONCOENV",12,0)
 QUIT
"RTN","ONCOENV",13,0)
 ;
"RTN","ONCOENV",14,0)
CK ;Check if installed
"RTN","ONCOENV",15,0)
 ;  7/14/94 MLH added NEW to next line to cause version to be
"RTN","ONCOENV",16,0)
 ;          correctly identified
"RTN","ONCOENV",17,0)
NN N VR,V S VR=$P($T(ONCOENV+1),";",3),V=$G(^ONCO(169.99,0,"NVR")) ;    version number
"RTN","ONCOENV",18,0)
 IF V=VR D  ;    already installed - bail out?
"RTN","ONCOENV",19,0)
 .  N I,Y
"RTN","ONCOENV",20,0)
 .  S I=$P(^ONCO(169.99,0),U,3) ;    site number
"RTN","ONCOENV",21,0)
 .  S Y=$P(^ONCO(169.99,I,0),U,4) ;    installation date
"RTN","ONCOENV",22,0)
 .  D DD^%DT
"RTN","ONCOENV",23,0)
 .  W !!,*7,*7,?10,"INSTALLATION "_V_" Completed: "_Y_"."
"RTN","ONCOENV",24,0)
 .  I '$$GOAHEAD K DIFQ ;    let user bail out
"RTN","ONCOENV",25,0)
 .  Q
"RTN","ONCOENV",26,0)
 ;END IF
"RTN","ONCOENV",27,0)
 ;
"RTN","ONCOENV",28,0)
 I $D(DIFQ) D START ;    didn't bail out
"RTN","ONCOENV",29,0)
 I $D(DIFQ),'OFST D RSTSET ;    set up for restaging
"RTN","ONCOENV",30,0)
 ;
"RTN","ONCOENV",31,0)
 ;   7/12/94 MLH REMOVED logic to check proceeding w/o restaging
"RTN","ONCOENV",32,0)
 ;               to entry point ONCOENA
"RTN","ONCOENV",33,0)
 ;
"RTN","ONCOENV",34,0)
 I $D(DIFQ),$G(ONCOI1ST)'>0 D QNORSTG^ONCOENA ;    they don't want to restage - do they want to quit?
"RTN","ONCOENV",35,0)
 Q
"RTN","ONCOENV",36,0)
 ;
"RTN","ONCOENV",37,0)
START S XIU="T",OFST=0,NM="ONCOLOGY TUMOR REGISTRY"
"RTN","ONCOENV",38,0)
 S %H=$H D YX^%DTC S (ONCOBEG,ONCOST)=Y D DD^%DT
"RTN","ONCOENV",39,0)
 D LOGO^ONCODIS,V W !!
"RTN","ONCOENV",40,0)
 IF '$O(^ONCO(160,0)) D  ;    virgin install
"RTN","ONCOENV",41,0)
 .  S OFST=1
"RTN","ONCOENV",42,0)
 .  D CV
"RTN","ONCOENV",43,0)
 .  Q
"RTN","ONCOENV",44,0)
 ELSE  D  ;    non-virgin
"RTN","ONCOENV",45,0)
 .  D CI
"RTN","ONCOENV",46,0)
 .  Q
"RTN","ONCOENV",47,0)
 ;END IF
"RTN","ONCOENV",48,0)
 ;
"RTN","ONCOENV",49,0)
EX ;Exit conversion
"RTN","ONCOENV",50,0)
 K DIK,DIR,DIU,ER,RR,I,J,K,L,LTD,MC,N,N1,NAC,NF,NFM,NXT,REM,S,T,TC,XDD,XIU F I="T","N","M" K ^UTILITY($J,I)
"RTN","ONCOENV",51,0)
 Q
"RTN","ONCOENV",52,0)
 ;
"RTN","ONCOENV",53,0)
CI ;CHECK INSTALLATION VERSION
"RTN","ONCOENV",54,0)
 S INS=$G(^ONCO(169.99,0,"INS"))
"RTN","ONCOENV",55,0)
 IF INS'="",'$D(^DD(160)) D  ;    previously aborted in the middle?
"RTN","ONCOENV",56,0)
 .  W !!?10,"Appears installation was started, not completed"
"RTN","ONCOENV",57,0)
 .  W !?10,"- no other information available, will continue..."
"RTN","ONCOENV",58,0)
 .  S V=$G(^ONCO(169.99,0,"OVR"))
"RTN","ONCOENV",59,0)
 .  Q
"RTN","ONCOENV",60,0)
 ELSE  D
"RTN","ONCOENV",61,0)
 .  IF INS'="" D  ;    previously aborted in the middle?
"RTN","ONCOENV",62,0)
 ..    S VX=$P(INS,U),ST=$P(INS,U,2),Y=ST D DD^%DT
"RTN","ONCOENV",63,0)
 ..    W !!?10,"Appears installation of V"_VX_" on "_Y
"RTN","ONCOENV",64,0)
 ..    W !?10,"began, but did not complete - will continue installation..."
"RTN","ONCOENV",65,0)
 ..    Q
"RTN","ONCOENV",66,0)
 .  ;END IF
"RTN","ONCOENV",67,0)
 .  ;
"RTN","ONCOENV",68,0)
 .  D CV ;    get version number
"RTN","ONCOENV",69,0)
 .  Q
"RTN","ONCOENV",70,0)
 ;END IF
"RTN","ONCOENV",71,0)
 ;
"RTN","ONCOENV",72,0)
CN W !!,"I am going to clean out DD's (national fields only)."
"RTN","ONCOENV",73,0)
 W !,"I will also purge the static files, except for FOLLOW-UP FORM LETTER."
"RTN","ONCOENV",74,0)
 D AB ;    do they want to abort?
"RTN","ONCOENV",75,0)
 I Y'=1 ;    yes, user bailed out
"RTN","ONCOENV",76,0)
 E  I V=""!(V>1.79) ;    no, and no need to do ICDO conv
"RTN","ONCOENV",77,0)
 E  W !!,"Please convert to Version 2.0 before proceeding.",!! K DIFQ ;    no, but version too old - must do ICDO conv
"RTN","ONCOENV",78,0)
 ;END IF
"RTN","ONCOENV",79,0)
 ;
"RTN","ONCOENV",80,0)
 Q
"RTN","ONCOENV",81,0)
 ;
"RTN","ONCOENV",82,0)
V W !!!?25,"INSTALLATION: VERSION ",VR,!?25,Y Q
"RTN","ONCOENV",83,0)
 ;
"RTN","ONCOENV",84,0)
AB K DIR S DIR("A")="       CONTINUE with Installation: ",DIR("B")="Yes",DIR(0)="Y" D ^DIR Q:Y=1  D ABORT Q
"RTN","ONCOENV",85,0)
ABORT W !!?7,"Installation aborted - you may DO ^ONCOINIT at any time." K DIFQ
"RTN","ONCOENV",86,0)
 Q
"RTN","ONCOENV",87,0)
 ;
"RTN","ONCOENV",88,0)
GOAHEAD() ;    does user want to go ahead with installation?
"RTN","ONCOENV",89,0)
 N DIR
"RTN","ONCOENV",90,0)
 S DIR("A")="Do you want to proceed",DIR("B")="No",DIR(0)="Y"
"RTN","ONCOENV",91,0)
 S DIR("?",1)="It appears that you have already installed this version successfully."
"RTN","ONCOENV",92,0)
 S DIR("?",2)="Unless your ISC has requested that you reinstall, you can stop here"
"RTN","ONCOENV",93,0)
 S DIR("?",2.5)="and no changes will have been made to the package."
"RTN","ONCOENV",94,0)
 IF $T(+2)["2.1;" D  ;    following message applies only to released version
"RTN","ONCOENV",95,0)
 .  S DIR("?",2.9)=""
"RTN","ONCOENV",96,0)
 .  S DIR("?",3)="Remember that if you proceed with installation, you must re-apply"
"RTN","ONCOENV",97,0)
 .  S DIR("?",4)="all patches to this package before allowing users to log back in"
"RTN","ONCOENV",98,0)
 .  S DIR("?",5)="to the system."
"RTN","ONCOENV",99,0)
 .  S DIR("?",5.9)=""
"RTN","ONCOENV",100,0)
 .  S DIR("?",6)="If you need further help, answer No here and contact your ISC."
"RTN","ONCOENV",101,0)
 .  Q
"RTN","ONCOENV",102,0)
 ;END IF
"RTN","ONCOENV",103,0)
 ;
"RTN","ONCOENV",104,0)
 D ^DIR
"RTN","ONCOENV",105,0)
 Q Y
"RTN","ONCOENV",106,0)
 ;
"RTN","ONCOENV",107,0)
CV S VRN=$G(^ONCO(169.99,0,"NVR")),V=$P(VRN,U),VND=$P(VRN,U,3),V=$S('V:"NONE",1:V),VX=$S(V["T":"Alpha Test",V["V":"Beta Test/Verification",1:"Released")_" Version",^ONCO(169.99,0,"OVR")=V
"RTN","ONCOENV",108,0)
 I 'OFST W !?20,"VERSION "_V_" currently installed",!?32,VX
"RTN","ONCOENV",109,0)
 E  I '$D(^ONCO(160)) W !,?20,"This is a VIRGIN Installation",!!
"RTN","ONCOENV",110,0)
 Q
"RTN","ONCOENV",111,0)
 ;
"RTN","ONCOENV",112,0)
RSTSET ;JAH 01FEB95; Set up for restaging - called by CK
"RTN","ONCOENV",113,0)
 W !!,"The post-initialization can automatically recompute"
"RTN","ONCOENV",114,0)
 W !,"the AJCC staging of entries on your primary file with"
"RTN","ONCOENV",115,0)
 W !,"a DIAGNOSIS DATE on or after a date you specify."
"RTN","ONCOENV",116,0)
 W !!,"Answer YES to restage."
"RTN","ONCOENV",117,0)
 S DIR(0)="Y",DIR("B")="NO",DIR("A")="Do you want to RESTAGE"
"RTN","ONCOENV",118,0)
 S DIR("?")="Answer Yes or No to the restaging question."
"RTN","ONCOENV",119,0)
 S DIR("?",1)="The Oncology Registrar may be best suited to help answer the restaging questions"
"RTN","ONCOENV",120,0)
 D ^DIR
"RTN","ONCOENV",121,0)
 I $D(DTOUT)!$D(DUOUT)!(Y=0) S ONCOI1ST=-1
"RTN","ONCOENV",122,0)
 E  S ONCOI1ST=$$RSTGASK^ONCOU55A ;    get the date
"RTN","ONCOENV",123,0)
 Q
"RTN","ONCOES")
0^199^B78691651
"RTN","ONCOES",1,0)
ONCOES ;Hines OIFO/GWB - ONCOLOGY PATIENT 'COMPUTED-FIELD' EXPRESSIONS ;08/10/00
"RTN","ONCOES",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOES",3,0)
 ;
"RTN","ONCOES",4,0)
MNI ;'COMPUTED-FIELD' EXPRESSION for MIDDLE NAME (160,.015)
"RTN","ONCOES",5,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",6,0)
 I $$DPTLRT(D0)="LRT" S NAME=$$GET1^DIQ(67,PT,.01,"E")
"RTN","ONCOES",7,0)
 I $$DPTLRT(D0)="DPT" S NAME=$$GET1^DIQ(2,PT,.01,"E")
"RTN","ONCOES",8,0)
 S FNMI=$P(NAME,",",2),MNI=$P(FNMI," ",2)
"RTN","ONCOES",9,0)
 I (MNI="JR")!(MNI="JR.")!(MNI="SR")!(MNI="SR.")!(MNI="MD")!(MNI="MD.")!(MNI="NMN")!(MNI="NMN.")!(MNI="NMI")!(MNI="NMI.")!(MNI="II")!(MNI="III")!(MNI="IV") S MNI=""
"RTN","ONCOES",10,0)
 I $L(MNI)=2,$E(MNI,2)="." S MNI=$E(MNI,1)
"RTN","ONCOES",11,0)
 S X=$E(MNI,1,14)
"RTN","ONCOES",12,0)
 G EXIT
"RTN","ONCOES",13,0)
 ;
"RTN","ONCOES",14,0)
SA1 ;'COMPUTED-FIELD' EXPRESSION for STREET ADDRESS 1 (160,.111)
"RTN","ONCOES",15,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",16,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.111,"E")
"RTN","ONCOES",17,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.111,"E")
"RTN","ONCOES",18,0)
 G EXIT
"RTN","ONCOES",19,0)
 ;
"RTN","ONCOES",20,0)
SA2 ;'COMPUTED-FIELD' EXPRESSION for STREET ADDRESS 2 (160,.112)
"RTN","ONCOES",21,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",22,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.112,"E")
"RTN","ONCOES",23,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.112,"E")
"RTN","ONCOES",24,0)
 G EXIT
"RTN","ONCOES",25,0)
 ;
"RTN","ONCOES",26,0)
SA3 ;'COMPUTED-FIELD' EXPRESSION for STREET ADDRESS 3 (160,.113)
"RTN","ONCOES",27,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",28,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.113,"E")
"RTN","ONCOES",29,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.113,"E")
"RTN","ONCOES",30,0)
 G EXIT
"RTN","ONCOES",31,0)
 ;
"RTN","ONCOES",32,0)
ST ;'COMPUTED-FIELD' EXPRESSION for STATE (160,.115)
"RTN","ONCOES",33,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",34,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.115,"I")
"RTN","ONCOES",35,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.115,"I")
"RTN","ONCOES",36,0)
 S X=$$GET1^DIQ(5,X,1,"E")
"RTN","ONCOES",37,0)
 G EXIT
"RTN","ONCOES",38,0)
 ;
"RTN","ONCOES",39,0)
ZIP ;'COMPUTED-FIELD' EXPRESSION for ZIP CODE (160,.116)
"RTN","ONCOES",40,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",41,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.116,"E")
"RTN","ONCOES",42,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.116,"E")
"RTN","ONCOES",43,0)
 G EXIT
"RTN","ONCOES",44,0)
 ;
"RTN","ONCOES",45,0)
CTY ;'COMPUTED-FIELD' EXPRESSION for CTY (160,.12) and COUNTY (160,.117)
"RTN","ONCOES",46,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",47,0)
 I $$DPTLRT(D0)="LRT" S X=""
"RTN","ONCOES",48,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.115,"I"),Y=$$GET1^DIQ(2,PT,.117,"I")
"RTN","ONCOES",49,0)
 S X=$S(X="":"",Y="":"",1:$P($G(^DIC(5,X,1,Y,0)),U))
"RTN","ONCOES",50,0)
 G EXIT
"RTN","ONCOES",51,0)
 ;
"RTN","ONCOES",52,0)
ZIPCT ;'COMPUTED-FIELD' EXPRESSION for ZIP-COUNTY (160,.118)
"RTN","ONCOES",53,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",54,0)
 I $$DPTLRT(D0)="LRT" D
"RTN","ONCOES",55,0)
 .S CITY=$$GET1^DIQ(67,PT,.114,"E") S:CITY'="" CITY=CITY_", "
"RTN","ONCOES",56,0)
 .S X=$$GET1^DIQ(67,PT,.115,"I")
"RTN","ONCOES",57,0)
 .S STATE=$$GET1^DIQ(5,X,1,"E") S:STATE'="" STATE=STATE_" "
"RTN","ONCOES",58,0)
 .S ZIP=$$GET1^DIQ(67,PT,.116,"E") S:ZIP'="" ZIP=ZIP_" "
"RTN","ONCOES",59,0)
 I $$DPTLRT(D0)="DPT" D
"RTN","ONCOES",60,0)
 .S CITY=$$GET1^DIQ(2,PT,.114,"E") S:CITY'="" CITY=CITY_", "
"RTN","ONCOES",61,0)
 .S X=$$GET1^DIQ(2,PT,.115,"I")
"RTN","ONCOES",62,0)
 .S STATE=$$GET1^DIQ(5,X,1,"E") S:STATE'="" STATE=STATE_" "
"RTN","ONCOES",63,0)
 .S ZIP=$$GET1^DIQ(2,PT,.116,"E") S:ZIP'="" ZIP=ZIP_"  "
"RTN","ONCOES",64,0)
 .S Y=$$GET1^DIQ(2,PT,.117,"I")
"RTN","ONCOES",65,0)
 .S COUNTY=$S(X="":"",Y="":"",1:$P($G(^DIC(5,X,1,Y,0)),U))
"RTN","ONCOES",66,0)
 ;S X=CITY_STATE_ZIP_COUNTY
"RTN","ONCOES",67,0)
 S X=CITY_STATE_ZIP
"RTN","ONCOES",68,0)
 G EXIT
"RTN","ONCOES",69,0)
 ;
"RTN","ONCOES",70,0)
ADD ;'COMPUTED-FIELD' EXPRESSION for PATIENT ADDRESS - CURRENT (160,.119)
"RTN","ONCOES",71,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",72,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.111,"E")_" "_$$GET1^DIQ(67,PT,.112,"E")
"RTN","ONCOES",73,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.111,"E")_" "_$$GET1^DIQ(2,PT,.112,"E")
"RTN","ONCOES",74,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCOES",75,0)
 G EXIT
"RTN","ONCOES",76,0)
 ;
"RTN","ONCOES",77,0)
PH ;'COMPUTED-FIELD' EXPRESSION for TELEPHONE (160,.131)
"RTN","ONCOES",78,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",79,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.131,"E")
"RTN","ONCOES",80,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.131,"E")
"RTN","ONCOES",81,0)
 G EXIT
"RTN","ONCOES",82,0)
 ;
"RTN","ONCOES",83,0)
ALIAS ;'COMPUTED-FIELD' EXPRESSION for ALIAS (160,1)
"RTN","ONCOES",84,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",85,0)
 I $$DPTLRT(D0)="LRT" S X=""
"RTN","ONCOES",86,0)
 I $$DPTLRT(D0)="DPT" S ALIAS=0 F  S ALIAS=$O(^DPT(PT,.01,ALIAS)) Q:ALIAS'>0  S X=$P(^DPT(PT,.01,ALIAS,0),U,1)
"RTN","ONCOES",87,0)
 G EXIT
"RTN","ONCOES",88,0)
 ;
"RTN","ONCOES",89,0)
SSN ;'COMPUTED-FIELD' EXPRESSION' for SSN (160,2)
"RTN","ONCOES",90,0)
 S X="",PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",91,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.09,"E")
"RTN","ONCOES",92,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.09,"E")
"RTN","ONCOES",93,0)
 I X?9N S X=$E(X,1,3)_"-"_$E(X,4,5)_"-"_$E(X,6,9)
"RTN","ONCOES",94,0)
 G EXIT
"RTN","ONCOES",95,0)
 ;
"RTN","ONCOES",96,0)
DOB ;'COMPUTED-FIELD' EXPRESSION for DOB (160,3)
"RTN","ONCOES",97,0)
 S X="",PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",98,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.03,"I")
"RTN","ONCOES",99,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.03,"I")
"RTN","ONCOES",100,0)
 D DATEOT
"RTN","ONCOES",101,0)
 G EXIT
"RTN","ONCOES",102,0)
 ;
"RTN","ONCOES",103,0)
DOB1 ;DOB (160,3) in internal FileMan format
"RTN","ONCOES",104,0)
 S X="",PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",105,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.03,"I")
"RTN","ONCOES",106,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.03,"I")
"RTN","ONCOES",107,0)
 G EXIT
"RTN","ONCOES",108,0)
 ;
"RTN","ONCOES",109,0)
TRM ;'COMPUTED-FIELD' EXPRESSION for TERMINAL DIGIT (160,4.1)
"RTN","ONCOES",110,0)
 S X="",PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",111,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.09,"E")
"RTN","ONCOES",112,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.09,"E")
"RTN","ONCOES",113,0)
 I X?9N S X="T"_$E(X,8,9)_$E(X,6,7)_$E(X,4,5)_$E(X,1,3)
"RTN","ONCOES",114,0)
 E  S X=""
"RTN","ONCOES",115,0)
 G EXIT
"RTN","ONCOES",116,0)
 ;
"RTN","ONCOES",117,0)
OCC ;'COMPUTED-FIELD' EXPRESSION for CURRENT OCCUPATION (160,12)
"RTN","ONCOES",118,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",119,0)
 I $$DPTLRT(D0)="LRT" S X=""
"RTN","ONCOES",120,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.07,"E")
"RTN","ONCOES",121,0)
 G EXIT
"RTN","ONCOES",122,0)
 ;
"RTN","ONCOES",123,0)
REL ;'COMPUTED-FIELD' EXPRESSION for RELIGION (160,13)
"RTN","ONCOES",124,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",125,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.08,"E")
"RTN","ONCOES",126,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.08,"E")
"RTN","ONCOES",127,0)
 G EXIT
"RTN","ONCOES",128,0)
 ;
"RTN","ONCOES",129,0)
MS ;'COMPUTED-FIELD' EXPRESSION for MARITAL STATUS (160,14)
"RTN","ONCOES",130,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",131,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,PT,.05,"E")
"RTN","ONCOES",132,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.05,"E")
"RTN","ONCOES",133,0)
 G EXIT
"RTN","ONCOES",134,0)
 ;
"RTN","ONCOES",135,0)
EMP ;'COMPUTED-FIELD' EXPRESSION for EMPLOYMENT STATUS (160,47)
"RTN","ONCOES",136,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",137,0)
 I $$DPTLRT(D0)="LRT" S X=""
"RTN","ONCOES",138,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.31115,"E")
"RTN","ONCOES",139,0)
 G EXIT
"RTN","ONCOES",140,0)
 ;
"RTN","ONCOES",141,0)
BS ;'COMPUTED-FIELD' EXPRESSION for BRANCH OF SERVICE (160,68)
"RTN","ONCOES",142,0)
 S X="" S PT=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",143,0)
 I $$DPTLRT(D0)="LRT" S X=""
"RTN","ONCOES",144,0)
 I $$DPTLRT(D0)="DPT" S X=$$GET1^DIQ(2,PT,.325,"E")
"RTN","ONCOES",145,0)
 G EXIT
"RTN","ONCOES",146,0)
 ;
"RTN","ONCOES",147,0)
HEIGHT ;'COMPUTED-FIELD' EXPRESSION for HEIGHT (160,1011)
"RTN","ONCOES",148,0)
 ;Supported by IA #1120
"RTN","ONCOES",149,0)
 N DFN,GMRVSTR
"RTN","ONCOES",150,0)
 I $P(^ONCO(160,D0,0),U,1)["LRT(67," S X=99 Q 
"RTN","ONCOES",151,0)
 S DFN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCOES",152,0)
 S GMRVSTR="HT"
"RTN","ONCOES",153,0)
 D EN6^GMRVUTL
"RTN","ONCOES",154,0)
 S X=+$P(X,U,8)
"RTN","ONCOES",155,0)
 S X=$J(X,0,0)
"RTN","ONCOES",156,0)
 S:X>97 X=98
"RTN","ONCOES",157,0)
 S:X=0 X=99
"RTN","ONCOES",158,0)
 Q
"RTN","ONCOES",159,0)
 ;
"RTN","ONCOES",160,0)
WEIGHT ;'COMPUTED-FIELD' EXPRESSION for WEIGHT (160,1012)
"RTN","ONCOES",161,0)
 ;Supported by IA #1120
"RTN","ONCOES",162,0)
 N DFN,GMRVSTR
"RTN","ONCOES",163,0)
 I $P(^ONCO(160,D0,0),U,1)["LRT(67," S X=999 Q 
"RTN","ONCOES",164,0)
 S DFN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCOES",165,0)
 S GMRVSTR="WT"
"RTN","ONCOES",166,0)
 D EN6^GMRVUTL
"RTN","ONCOES",167,0)
 S X=+$P(X,U,8)
"RTN","ONCOES",168,0)
 S X=$J(X,0,0)
"RTN","ONCOES",169,0)
 S:X=0 X=999
"RTN","ONCOES",170,0)
 Q
"RTN","ONCOES",171,0)
 ;
"RTN","ONCOES",172,0)
RACE ;RACE 1 (160,8) default
"RTN","ONCOES",173,0)
 N DFN,VADM
"RTN","ONCOES",174,0)
 S X="",DFN=$P($G(^ONCO(160,D0,0)),";",1)
"RTN","ONCOES",175,0)
 I $$DPTLRT(D0)="LRT" S X=$$GET1^DIQ(67,DFN,.06,"E") Q
"RTN","ONCOES",176,0)
 I $$DPTLRT(D0)="DPT" D DEM^VADPT
"RTN","ONCOES",177,0)
 S X=$P($G(VADM(12,1)),U,2)
"RTN","ONCOES",178,0)
 I X="" S X=$P($G(VADM(8)),U,2)
"RTN","ONCOES",179,0)
 Q
"RTN","ONCOES",180,0)
 ;
"RTN","ONCOES",181,0)
ENVIRON ;Environmental exposure and service indicator defaults
"RTN","ONCOES",182,0)
 ;AGENT ORANGE EXPOSURE       (160,48)
"RTN","ONCOES",183,0)
 ;IONIZING RADIATION EXPOSURE (160,50)
"RTN","ONCOES",184,0)
 ;PERSIAN GULF SERVICE        (160,51)
"RTN","ONCOES",185,0)
 ;LEBANON SERVICE             (160,55)
"RTN","ONCOES",186,0)
 ;SOMALIA SERVICE             (160,56)
"RTN","ONCOES",187,0)
 ;VIETNAM SERVICE             (160,62)
"RTN","ONCOES",188,0)
 ;GRENADA SERVICE             (160,63)
"RTN","ONCOES",189,0)
 ;PANAMA SERVICE              (160,64)
"RTN","ONCOES",190,0)
 ;YUGOSLAVIA SERVICE          (160,65)
"RTN","ONCOES",191,0)
 ;IRAQ (OIF) SERVICE          (160,66)
"RTN","ONCOES",192,0)
 ;AFGHANISTAN (OEF) SERVICE   (160,67)
"RTN","ONCOES",193,0)
 I $P(^ONCO(160,D0,0),U,1)["LRT(67," D  G EXIT
"RTN","ONCOES",194,0)
 .S (AOE,IRE,PGS,SSI,LSI,VSI,GSI,PSI,YSI,OEF,OIF)=""
"RTN","ONCOES",195,0)
 S DFN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCOES",196,0)
 S AOE=$$GET1^DIQ(2,DFN,.32102,"E")  ;AGENT ORANGE EXPOS. INDICATED?
"RTN","ONCOES",197,0)
 S IRE=$$GET1^DIQ(2,DFN,.32103,"E")  ;RADIATION EXPOSURE INDICATED?
"RTN","ONCOES",198,0)
 S PGS=$$GET1^DIQ(2,DFN,.32201,"E")  ;PERSIAN GULF SERVICE?
"RTN","ONCOES",199,0)
 S SSI=$$GET1^DIQ(2,DFN,.322016,"E") ;SOMALIA SERVICE INDICATED?
"RTN","ONCOES",200,0)
 S LSI=$$GET1^DIQ(2,DFN,.3221,"E")   ;LEBANON SERVICE INDICATED?
"RTN","ONCOES",201,0)
 S VSI=$$GET1^DIQ(2,DFN,.32101,"E")  ;VIETNAM SERVICE INDICATED?
"RTN","ONCOES",202,0)
 S GSI=$$GET1^DIQ(2,DFN,.3224,"E")   ;GRENADA SERVICE INDICATED?
"RTN","ONCOES",203,0)
 S PSI=$$GET1^DIQ(2,DFN,.3227,"E")   ;PANAMA SERVICE INDICATED?
"RTN","ONCOES",204,0)
 S YSI=$$GET1^DIQ(2,DFN,.322019,"E") ;YUGOSLAVIA SERVICE INDICATED?
"RTN","ONCOES",205,0)
 S (OEF,OIF)="No"
"RTN","ONCOES",206,0)
 D SVC^VADPT
"RTN","ONCOES",207,0)
 I $G(VASV(11))>0 S OEF="Yes"        ;SERVICE [OEF OR OIF]
"RTN","ONCOES",208,0)
 I $G(VASV(12))>0 S OIF="Yes"        ;SERVICE [OEF OR OIF]
"RTN","ONCOES",209,0)
 G EXIT
"RTN","ONCOES",210,0)
 ;
"RTN","ONCOES",211,0)
TLEEOT ;TUMOR LEVEL-ENDOSCOPIC EXAM (165.5,752) OUTPUT TRANSFORM
"RTN","ONCOES",212,0)
 S:$L(Y)=1 Y="0"_Y
"RTN","ONCOES",213,0)
 I Y="00" S Y="Endoscopic exam not performed" Q
"RTN","ONCOES",214,0)
 I Y=61 S Y="Splenic flexure" Q
"RTN","ONCOES",215,0)
 I Y=62 S Y="Transverse colon" Q
"RTN","ONCOES",216,0)
 I Y=63 S Y="Hepatic flexure" Q
"RTN","ONCOES",217,0)
 I Y=64 S Y="Ascending colon" Q
"RTN","ONCOES",218,0)
 I Y=65 S Y="Cecum" Q
"RTN","ONCOES",219,0)
 I Y=70 S Y="Endoscopic exam, tumor not visualized" Q
"RTN","ONCOES",220,0)
 I Y=80 S Y="Endoscopic exam, results unknown" Q
"RTN","ONCOES",221,0)
 I Y=99 S Y="Unknown if exam done" Q
"RTN","ONCOES",222,0)
 S Y=Y_" centimeters"
"RTN","ONCOES",223,0)
 Q
"RTN","ONCOES",224,0)
 ;
"RTN","ONCOES",225,0)
ASPIT ;ADDITIONAL SURGICAL PROCEDURES (165.5,763)INPUT TRANSFORM
"RTN","ONCOES",226,0)
 I X<10 K X Q
"RTN","ONCOES",227,0)
 I "10^20^30^40^41^42^43^44^50^60^88^99"'[X K X Q
"RTN","ONCOES",228,0)
 S Y=X D ASPOT W "  ",Y
"RTN","ONCOES",229,0)
 K Y
"RTN","ONCOES",230,0)
 Q
"RTN","ONCOES",231,0)
 ;
"RTN","ONCOES",232,0)
ASPOT ;ADDITIONAL SURGICAL PROCEDURES (165.5,763) OUTPUT TRANSFORM
"RTN","ONCOES",233,0)
 D SETASP
"RTN","ONCOES",234,0)
 I Y'="" S Y=ASP(Y)
"RTN","ONCOES",235,0)
 K ASP
"RTN","ONCOES",236,0)
 Q
"RTN","ONCOES",237,0)
 ;
"RTN","ONCOES",238,0)
ASPHP ;ADDITIONAL SURGICAL PROCEDURES (165.5,763) EXECUTABLE HELP
"RTN","ONCOES",239,0)
 D SETASP
"RTN","ONCOES",240,0)
 F ASPX=0:0 S ASPX=$O(ASP(ASPX)) Q:ASPX'>0  W !,"  ",ASPX,"  ",ASP(ASPX)
"RTN","ONCOES",241,0)
 W ! K ASP,ASPX
"RTN","ONCOES",242,0)
 Q
"RTN","ONCOES",243,0)
 ;
"RTN","ONCOES",244,0)
SETASP ;Build ADDITIONAL SURGICAL PROCEDURES array
"RTN","ONCOES",245,0)
 S ASP(10)="Transanal excision"
"RTN","ONCOES",246,0)
 S ASP(20)="Posterior sacral"
"RTN","ONCOES",247,0)
 S ASP(30)="Anterior resection w/o anastomosis"
"RTN","ONCOES",248,0)
 S ASP(40)="Anterior resection w anastomosis, NOS"
"RTN","ONCOES",249,0)
 S ASP(41)="Anterior resection w simple anastomosis"
"RTN","ONCOES",250,0)
 S ASP(42)="Ant res w colo pouch coloanal anastomosis"
"RTN","ONCOES",251,0)
 S ASP(43)="Anterior resection w ilioanal anastomosis"
"RTN","ONCOES",252,0)
 S ASP(44)="Anterior resection w coloanal anastomosis"
"RTN","ONCOES",253,0)
 S ASP(50)="Colostomy w/o resection"
"RTN","ONCOES",254,0)
 S ASP(60)="Abdominoperineal resection (APR)"
"RTN","ONCOES",255,0)
 S ASP(88)="NA, none performed"
"RTN","ONCOES",256,0)
 S ASP(99)="Unknown if performed"
"RTN","ONCOES",257,0)
 Q
"RTN","ONCOES",258,0)
 ;
"RTN","ONCOES",259,0)
PTRDOT ;PRIMARY TUMOR RAD DOSE (cGy) (165.5,786) OUTPUT TRANSFORM
"RTN","ONCOES",260,0)
 S Y=$S($L(Y)=1:"0000"_Y,$L(Y)=2:"000"_Y,$L(Y)=3:"00"_Y,$L(Y)=4:"0"_Y,1:Y)
"RTN","ONCOES",261,0)
 I Y="00000" S Y="No radiation therapy"
"RTN","ONCOES",262,0)
 I Y="88888" S Y="Received radiation therapy, dose unknown"
"RTN","ONCOES",263,0)
 I Y="99999" S Y="Unknown if received radiation therapy"
"RTN","ONCOES",264,0)
 Q
"RTN","ONCOES",265,0)
 ;
"RTN","ONCOES",266,0)
DPTLRT(D0) ;Determine if patient resides in PATIENT (2) or REFERRAL PATIENT (67)
"RTN","ONCOES",267,0)
 N DPTLRT
"RTN","ONCOES",268,0)
 I $P($G(^ONCO(160,D0,0)),U,1)["LRT" S DPTLRT="LRT"
"RTN","ONCOES",269,0)
 I $P($G(^ONCO(160,D0,0)),U,1)["DPT" S DPTLRT="DPT"
"RTN","ONCOES",270,0)
 Q DPTLRT
"RTN","ONCOES",271,0)
 ;
"RTN","ONCOES",272,0)
DATEOT ;Date OUTPUT TRANSFORM
"RTN","ONCOES",273,0)
 I X="0000000" D DD Q
"RTN","ONCOES",274,0)
 I $E(X,4,5)="00" S $E(X,4,5)=99
"RTN","ONCOES",275,0)
 I $E(X,6,7)="00" S $E(X,6,7)=99
"RTN","ONCOES",276,0)
 D DD
"RTN","ONCOES",277,0)
 Q
"RTN","ONCOES",278,0)
 ;
"RTN","ONCOES",279,0)
DD ;Format date values
"RTN","ONCOES",280,0)
 S (X,Y)=$S(X="":"",X="0000000":"00/00/0000",X=8888888:"88/88/8888",X=9999999:"99/99/9999",1:$E(X,4,5)_"/"_$E(X,6,7)_"/"_(1700+$E(X,1,3)))
"RTN","ONCOES",281,0)
 Q
"RTN","ONCOES",282,0)
 ;
"RTN","ONCOES",283,0)
EXIT ;Kill variables
"RTN","ONCOES",284,0)
 K ALIAS,CITY,COUNTY,DFN,FNMI,MNI,ONCOX,ONCOX1,NAME,PT,STATE,VASV,Z,ZIP
"RTN","ONCOES",285,0)
 Q
"RTN","ONCOES",286,0)
 ;
"RTN","ONCOES",287,0)
SETUP ;Old code
"RTN","ONCOES",288,0)
 Q
"RTN","ONCOES",289,0)
 ;
"RTN","ONCOES",290,0)
CLEANUP ;Cleanup
"RTN","ONCOES",291,0)
 K AOE,GSI,IRE,LSI,OEF,OIF,PGS,PSI,SSI,VSI,YSI
"RTN","ONCOFDP")
0^200^B14855963
"RTN","ONCOFDP",1,0)
ONCOFDP ;Hines OIFO/GWB - FOLLOW DEAD PATIENTS ;07/12/00
"RTN","ONCOFDP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOFDP",3,0)
DEAD ;Death information
"RTN","ONCOFDP",4,0)
 K DXS,DIOT S D0=ONCOD0,DIR("A")=" Edit Data",DIR("B")="Y",DIR(0)="Y"
"RTN","ONCOFDP",5,0)
 D ^ONCOXDI,^DIR G ED:Y,RC:'Y,EX
"RTN","ONCOFDP",6,0)
 ;
"RTN","ONCOFDP",7,0)
ED W !! S DA=ONCOD0,DR="[ONCO DEATH]",DIE="^ONCO(160," D ^DIE
"RTN","ONCOFDP",8,0)
 W !! K DXS,DIOT D ^ONCOXDI
"RTN","ONCOFDP",9,0)
 S DIR("A")=" Data OK",DIR("B")="Yes",DIR(0)="Y" D ^DIR G ED:'Y,RC:Y,EX
"RTN","ONCOFDP",10,0)
 ;
"RTN","ONCOFDP",11,0)
RC W !!,"First Recurrence Information..."
"RTN","ONCOFDP",12,0)
 S XD1=0,UPOUT=""
"RTN","ONCOFDP",13,0)
 F  S XD1=$O(^ONCO(165.5,"C",ONCOD0,XD1)) Q:XD1'>0  D  Q:UPOUT="Y"
"RTN","ONCOFDP",14,0)
 .S ONCOX2=$G(^ONCO(165.5,XD1,2)),ONCOTOP=$P(ONCOX2,U,1)
"RTN","ONCOFDP",15,0)
 .S TOP=$P($G(^ONCO(164,+ONCOTOP,0)),U,1)
"RTN","ONCOFDP",16,0)
 .S SITEGP=$P(^ONCO(165.5,XD1,0),U,1)
"RTN","ONCOFDP",17,0)
 .S ACCNO=$P(^ONCO(165.5,XD1,0),U,5),SEQNO=$P(^ONCO(165.5,XD1,0),U,6)
"RTN","ONCOFDP",18,0)
 .W !!,"Primary: ",$E(ACCNO,1,4),"-",$E(ACCNO,5,9),"/",SEQNO,"  ",TOP,!
"RTN","ONCOFDP",19,0)
 .S DIE="^ONCO(165.5,",DA=XD1,DR="71;D CHECK^ONCOFDP;70;@1" D ^DIE I $D(Y) S UPOUT="Y"
"RTN","ONCOFDP",20,0)
 D CHKCHG^ONCOAIF
"RTN","ONCOFDP",21,0)
 ;
"RTN","ONCOFDP",22,0)
DC ;Delete Contacts
"RTN","ONCOFDP",23,0)
 Q:'$D(^ONCO(160,"APC",ONCOD0))
"RTN","ONCOFDP",24,0)
H W @IOF,!!!?15,"--------------DELETE PATIENT'S CONTACTS---------------"
"RTN","ONCOFDP",25,0)
 S D0=ONCOD0 K DXS,DIOT D ^ONCOXCL
"RTN","ONCOFDP",26,0)
 W !!?5,"Patient is dead - please delete contacts as soon as possible."
"RTN","ONCOFDP",27,0)
 W !?5,"Deletion will affect this patient's contacts only.",!
"RTN","ONCOFDP",28,0)
 S DIR("A")="     Delete Contacts",DIR(0)="Y",DIR("B")="Yes" D ^DIR,KC:Y
"RTN","ONCOFDP",29,0)
 Q
"RTN","ONCOFDP",30,0)
 ;
"RTN","ONCOFDP",31,0)
KC ;Delete FOLLOW-UP CONTACT (160.03) sub-file and CONTACT (165) file
"RTN","ONCOFDP",32,0)
 ;entries
"RTN","ONCOFDP",33,0)
 D WAIT^DICD W !?5,"Deleting contacts..." D EN1 G EX
"RTN","ONCOFDP",34,0)
EN1 S XDC=0 F  S XDC=$O(^ONCO(160,"APC",ONCOD0,XDC)) Q:XDC'>0  S ONCOC0=XDC D  I C=0 S DIK="^ONCO(165,",DA=ONCOC0 D ^DIK W "*"
"RTN","ONCOFDP",35,0)
 .S C=0
"RTN","ONCOFDP",36,0)
 .S XDP=0 F  S XDP=$O(^ONCO(160,"ACP",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",37,0)
 .I C=1 Q
"RTN","ONCOFDP",38,0)
 .S XDP=0 F  S XDP=$O(^ONCO(160,"AC",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",39,0)
 .I C=1 Q
"RTN","ONCOFDP",40,0)
 .S XDP=0 F  S XDP=$O(^ONCO(160,"AE",ONCOC0,XDP)) Q:XDP'>0  I XDP'=ONCOD0 S C=1 Q
"RTN","ONCOFDP",41,0)
 .I C=1 Q
"RTN","ONCOFDP",42,0)
 .I $D(^ONCO(165.5,"APS",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",43,0)
 .I $D(^ONCO(165.5,"AFP",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",44,0)
 .I $D(^ONCO(165.5,"AMP",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",45,0)
 .I $D(^ONCO(165.5,"AOP3",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",46,0)
 .I $D(^ONCO(165.5,"AOP4",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",47,0)
 .I $D(^ONCO(165.5,"APST",ONCOC0)) S C=1 Q
"RTN","ONCOFDP",48,0)
 ;Delete FOLLOW-UP CONTACT (160,420) sub-file (160.03)
"RTN","ONCOFDP",49,0)
 S DA=0,DA(1)=ONCOD0 F  S DA=$O(^ONCO(160,DA(1),"C",DA)) Q:DA'?1.N  S DIK="^ONCO(160,"_DA(1)_",""C""," D ^DIK
"RTN","ONCOFDP",50,0)
 I '$D(ONCODAC) S D0=ONCOD0 D ^ONCOXCL W ?35,"(None - Patient is Deceased)"
"RTN","ONCOFDP",51,0)
 N ONCOC0 S ONCOC0=$P(^ONCO(160,ONCOD0,1),U,6) G KA:ONCOC0="",KA:$D(^ONCO(165,ONCOC0,0))
"RTN","ONCOFDP",52,0)
CD S X="<CONTACT DELETED>",Y=$O(^ONCO(165,"B",X,0))
"RTN","ONCOFDP",53,0)
 I Y="" S (DIC,DLAYGO)="^ONCO(165,",DIC(0)="ZL" D FILE^DICN
"RTN","ONCOFDP",54,0)
 S OLDLFC=$P($G(^ONCO(160,ONCOD0,1)),U,6)
"RTN","ONCOFDP",55,0)
 K:OLDLFC'="" ^ONCO(160,"AC",OLDLFC,ONCOD0)
"RTN","ONCOFDP",56,0)
 S $P(^ONCO(160,ONCOD0,1),U,6)=+Y
"RTN","ONCOFDP",57,0)
 S ^ONCO(160,"AC",+Y,ONCOD0)=""
"RTN","ONCOFDP",58,0)
 K OLDLFC
"RTN","ONCOFDP",59,0)
KA ;Delete FOLLOW-UP ATTEMPTS (160,410) sub-file (160.06)
"RTN","ONCOFDP",60,0)
 W:'$D(ONCODAC) !!?5,"Deleting Follow-up Attempts..."
"RTN","ONCOFDP",61,0)
 S XX=$P($G(^ONCO(160,ONCOD0,"A",0)),U,3) I XX'="" S DIK="^ONCO(160,"_DA(1)_",""A""," F DA=1:1:XX I $D(^(DA)) D ^DIK
"RTN","ONCOFDP",62,0)
 F I="A","C" K ^ONCO(160,DA(1),I)
"RTN","ONCOFDP",63,0)
 Q
"RTN","ONCOFDP",64,0)
 ;
"RTN","ONCOFDP",65,0)
DAC ;Delete dead patients's Contacts
"RTN","ONCOFDP",66,0)
 W @IOF,"ARCHIVING of Contact File, Attempts and Contacts"
"RTN","ONCOFDP",67,0)
 W !!?5,"For dead patients - clean out unnecessary data.",!!!
"RTN","ONCOFDP",68,0)
 W ?5,"Working..."
"RTN","ONCOFDP",69,0)
 S XD0=0 F  S XD0=$O(^ONCO(160,"AS",0,XD0)) Q:XD0'>0  S ONCOD0=XD0,ONCODAC=1 D EN1 W:'(XD0#100) "."
"RTN","ONCOFDP",70,0)
EX ;RETURN from calling program, ONCOAIF/ONCOFUL
"RTN","ONCOFDP",71,0)
 K RC,RT,XD0,XX,XD1,XDC,I,DIK,DIC,XDP,ONCOD1
"RTN","ONCOFDP",72,0)
 Q
"RTN","ONCOFDP",73,0)
CHECK ;Check TYPE of FIRST RECURRENCE
"RTN","ONCOFDP",74,0)
 ;If 99, stuff 99/99/9999 into DATE of FIRST RECURRENCE
"RTN","ONCOFDP",75,0)
 ;If 00 or 70, stuff 00/00/0000 into DATE of FIRST RECURRENCE
"RTN","ONCOFDP",76,0)
 S TOFR=$P($G(^ONCO(165.5,XD1,5)),U,2)
"RTN","ONCOFDP",77,0)
 Q:TOFR=""
"RTN","ONCOFDP",78,0)
 I $P($G(^ONCO(160.12,TOFR,0)),U,1)=99 D
"RTN","ONCOFDP",79,0)
 .S $P(^ONCO(165.5,XD1,5),U,1)=9999999
"RTN","ONCOFDP",80,0)
 .W !,"DATE of FIRST RECURRENCE: 99/99/9999//"
"RTN","ONCOFDP",81,0)
 .S Y="@1"
"RTN","ONCOFDP",82,0)
 I ($P($G(^ONCO(160.12,TOFR,0)),U,1)="00")!($P($G(^ONCO(160.12,TOFR,0)),U,1)=70) D
"RTN","ONCOFDP",83,0)
 .S $P(^ONCO(165.5,XD1,5),U,1)="0000000"
"RTN","ONCOFDP",84,0)
 .W !,"DATE of FIRST RECURRENCE: 00/00/0000//"
"RTN","ONCOFDP",85,0)
 .S Y="@1"
"RTN","ONCOFLF")
0^201^B17881251
"RTN","ONCOFLF",1,0)
ONCOFLF ;Hines OIFO/GWB - FOLLOWUP LETTER FUNCTIONS ;11/1/93
"RTN","ONCOFLF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOFLF",3,0)
 ;
"RTN","ONCOFLF",4,0)
AED ;[EL Add/Edit Follow-up Letter]
"RTN","ONCOFLF",5,0)
 W !
"RTN","ONCOFLF",6,0)
 S (DIC,DLAYGO)="^ONCO(165.1,"
"RTN","ONCOFLF",7,0)
 S DIC("A")="Select letter to Add/Edit: ",DIC(0)="AELQZ",D="B"
"RTN","ONCOFLF",8,0)
 D IX^DIC G EX:Y<0
"RTN","ONCOFLF",9,0)
 S DA=+Y,DIE=DIC,DR="[ONCO FOLL ADD/EDIT LETTER]" K DC
"RTN","ONCOFLF",10,0)
 S DIA(1)=+Y,DIA=DIC,DIA("P")="165.1" D ^DIE
"RTN","ONCOFLF",11,0)
 G AED
"RTN","ONCOFLF",12,0)
 ;
"RTN","ONCOFLF",13,0)
UP ;[UP Update Contact File]
"RTN","ONCOFLF",14,0)
 W @IOF,!?15,"*************** UPDATE CONTACT FILE ***************"
"RTN","ONCOFLF",15,0)
 K DIR
"RTN","ONCOFLF",16,0)
 S DIR("A")="     Select function"
"RTN","ONCOFLF",17,0)
 S DIR(0)="SO^1:Add/Edit;2:Delete;3:Print;4:Cleanup"
"RTN","ONCOFLF",18,0)
 D ^DIR
"RTN","ONCOFLF",19,0)
 G EX:($D(DUOUT))!($D(DTOUT))!($D(DIRUT))!($D(DIROUT)) G @Y
"RTN","ONCOFLF",20,0)
 ;
"RTN","ONCOFLF",21,0)
1 ;Edit
"RTN","ONCOFLF",22,0)
 W !
"RTN","ONCOFLF",23,0)
 S (DIC,DIE)="^ONCO(165,"
"RTN","ONCOFLF",24,0)
 S DIC(0)="AELMQZ"
"RTN","ONCOFLF",25,0)
 S DLAYGO=165
"RTN","ONCOFLF",26,0)
 D ^DIC G UP:Y=-1 S DA=+Y
"RTN","ONCOFLF",27,0)
 W ! S DR="[ONCO UPDATE CONTACT]" D ^DIE G UP:$D(Y)'=0,1
"RTN","ONCOFLF",28,0)
 ;
"RTN","ONCOFLF",29,0)
2 ;Delete
"RTN","ONCOFLF",30,0)
 W !
"RTN","ONCOFLF",31,0)
 S DIC="^ONCO(165,"
"RTN","ONCOFLF",32,0)
 S DIC(0)="AEZQ"
"RTN","ONCOFLF",33,0)
 D ^DIC G EX:Y<0
"RTN","ONCOFLF",34,0)
 I ($D(^ONCO(165,"ACP",+Y)))!($D(^ONCO(160,"AC",+Y)))!($D(^ONCO(160,"AE",+Y))) W !!?10,"You may only delete contacts which are not being used." G 2
"RTN","ONCOFLF",35,0)
 S DA=+Y,DIK=DIC W !!?10,"Deleting Contact ",Y(0,0) D ^DIK G 2
"RTN","ONCOFLF",36,0)
 ;
"RTN","ONCOFLF",37,0)
3 ;Print
"RTN","ONCOFLF",38,0)
 K DIR
"RTN","ONCOFLF",39,0)
 S DIR("A")="Type of List"
"RTN","ONCOFLF",40,0)
 S DIR(0)="SO^A:Alphabetic;T:By Type"
"RTN","ONCOFLF",41,0)
 D ^DIR
"RTN","ONCOFLF",42,0)
 G EX:($D(DUOUT))!($D(DTOUT))!($D(DIRUT))!($D(DIROUT)) G @Y
"RTN","ONCOFLF",43,0)
 ;
"RTN","ONCOFLF",44,0)
A ;Alphabetic
"RTN","ONCOFLF",45,0)
 S BY="[ONCO CONTACT LIST-A]",L=0
"RTN","ONCOFLF",46,0)
 S DIC="^ONCO(165,",L=0 D EN1^DIP
"RTN","ONCOFLF",47,0)
 G EX
"RTN","ONCOFLF",48,0)
 ;
"RTN","ONCOFLF",49,0)
T ;By Type
"RTN","ONCOFLF",50,0)
 S BY="[ONCO CONTACT LIST-T]",L=0
"RTN","ONCOFLF",51,0)
 S DIC="^ONCO(165,",L=0 D EN1^DIP
"RTN","ONCOFLF",52,0)
 G EX
"RTN","ONCOFLF",53,0)
 ;
"RTN","ONCOFLF",54,0)
4 ;Cleanup
"RTN","ONCOFLF",55,0)
 W @IOF,?15,"************ Cleanout Unused Contacts ***********",!!
"RTN","ONCOFLF",56,0)
 G DAC^ONCOFDP
"RTN","ONCOFLF",57,0)
 ;
"RTN","ONCOFLF",58,0)
EX ;Exit
"RTN","ONCOFLF",59,0)
 K ADDED,BY,D,DA,DIC,DIA,DIE,DIK,DIR,DIROUT,DIRUT,DLAYGO,DR,DTOUT,DUOUT
"RTN","ONCOFLF",60,0)
 K FIEN,L,LIEN,NEWIEN,OP,TMP,X,Y
"RTN","ONCOFLF",61,0)
 Q
"RTN","ONCOFLF",62,0)
 ;
"RTN","ONCOFLF",63,0)
HP ;THE CONTACT (160.06,2) EXECUTABLE HELP
"RTN","ONCOFLF",64,0)
 K DIC,DXS,DIOT
"RTN","ONCOFLF",65,0)
 D ^ONCOXPC
"RTN","ONCOFLF",66,0)
 W !
"RTN","ONCOFLF",67,0)
 Q
"RTN","ONCOFLF",68,0)
 ;
"RTN","ONCOFLF",69,0)
EEACOS ;[AC Enter/Edit Facility file]
"RTN","ONCOFLF",70,0)
 W !
"RTN","ONCOFLF",71,0)
 W !,?3,"E      Edit an existing entry"
"RTN","ONCOFLF",72,0)
 W !,?3,"A      Add a new entry"
"RTN","ONCOFLF",73,0)
 W ! K DIR
"RTN","ONCOFLF",74,0)
 S DIR(0)="FAO^1:1",DIR("A")="Select Enter/Edit Facility file Option: "
"RTN","ONCOFLF",75,0)
 S DIR("?")=" Enter 'E' to edit an existing FACILITY or 'A' to add a new FACILITY"
"RTN","ONCOFLF",76,0)
 D ^DIR
"RTN","ONCOFLF",77,0)
 I $D(DIRUT) G EX
"RTN","ONCOFLF",78,0)
 I "AE"'[Y G EEACOS
"RTN","ONCOFLF",79,0)
 I Y="A" S ADDED=0 D ADD G EX:ADDED=0 G EEACOS:ADDED=1
"RTN","ONCOFLF",80,0)
 I Y="E" D EDIT G EX
"RTN","ONCOFLF",81,0)
 ;
"RTN","ONCOFLF",82,0)
EDIT ;Edit FACILITY file (160.19)
"RTN","ONCOFLF",83,0)
 W ! S (DIC,DIE)="^ONCO(160.19,",DIC(0)="AELMQZ",DLAYGO=160.19 D ^DIC
"RTN","ONCOFLF",84,0)
 Q:Y=-1
"RTN","ONCOFLF",85,0)
 S DA=+Y
"RTN","ONCOFLF",86,0)
 W ! S DR=".01;.02;.03;.04;101" D ^DIE
"RTN","ONCOFLF",87,0)
 G EDIT
"RTN","ONCOFLF",88,0)
 Q
"RTN","ONCOFLF",89,0)
ADD ;Add new FACILITY file (160.19) entry
"RTN","ONCOFLF",90,0)
 S FIEN=$O(^ONCO(160.19,"B",6999000,"")) I FIEN="" S NEWIEN=6999000
"RTN","ONCOFLF",91,0)
 I FIEN'="" S LIEN=6998999 F X=0:0 S LIEN=$O(^ONCO(160.19,"B",LIEN)) Q:LIEN=9999999  S TMP=LIEN
"RTN","ONCOFLF",92,0)
 I $G(TMP) S NEWIEN=TMP+1
"RTN","ONCOFLF",93,0)
 W !!,"NEXT AVAILABLE LOCAL FIN NUMBER IS ",NEWIEN,"."
"RTN","ONCOFLF",94,0)
 W !
"RTN","ONCOFLF",95,0)
 K DIR
"RTN","ONCOFLF",96,0)
 S DIR(0)="Y",DIR("A")="Do you want to add a new entry",DIR("B")="NO"
"RTN","ONCOFLF",97,0)
 D ^DIR I $D(DIRUT)!(Y=0) Q
"RTN","ONCOFLF",98,0)
 K DD,DO
"RTN","ONCOFLF",99,0)
 S DIC="^ONCO(160.19,",DIC(0)="L",X=NEWIEN D FILE^DICN K DIC,DLAYGO,DO
"RTN","ONCOFLF",100,0)
 W ! K DIE S DIE="^ONCO(160.19,",DA=+Y,DR=".01;.02;.03;.04" D ^DIE
"RTN","ONCOFLF",101,0)
 S ADDED=1
"RTN","ONCOFLF",102,0)
 Q
"RTN","ONCOFLF",103,0)
 ;
"RTN","ONCOFLF",104,0)
HELP ;EXCUTABLE HELP to display next available local FACILITY number
"RTN","ONCOFLF",105,0)
 S FIEN=$O(^ONCO(160.19,"B",6999000,"")) I FIEN="" S NEWIEN=6999000
"RTN","ONCOFLF",106,0)
 I FIEN'="" S LIEN=6998999 F X=0:0 S LIEN=$O(^ONCO(160.19,"B",LIEN)) Q:LIEN=9999999  S TMP=LIEN
"RTN","ONCOFLF",107,0)
 I $G(TMP) S NEWIEN=TMP+1
"RTN","ONCOFLF",108,0)
 W !
"RTN","ONCOFLF",109,0)
 W !?3,"If you wish to add a new facility, enter either the 7-digit"
"RTN","ONCOFLF",110,0)
 W !?3,"(6020009-6953290) or 8-digit (10000000+) assigned COC FIN"
"RTN","ONCOFLF",111,0)
 W !?3,"number."
"RTN","ONCOFLF",112,0)
 W !
"RTN","ONCOFLF",113,0)
 W !?3,"If the new facility does not have an assigned COC FIN number,"
"RTN","ONCOFLF",114,0)
 W !?3,"use the next available local FIN number.",!
"RTN","ONCOFLF",115,0)
 W !?3,"THE NEXT AVAILABLE LOCAL FIN NUMBER IS ",NEWIEN,".",!
"RTN","ONCOFLF",116,0)
 Q
"RTN","ONCOFTS")
0^202^B13151124
"RTN","ONCOFTS",1,0)
ONCOFTS ;Hines OIFO/GWB - TUMOR STATUS/CANCER STATUS OF PRIMARY ;02/02/00
"RTN","ONCOFTS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOFTS",3,0)
 ;
"RTN","ONCOFTS",4,0)
STSM ;CREATE TUMOR STATUS MULTIPLE IN 165.5
"RTN","ONCOFTS",5,0)
 ;called from "AE" cross-reference of DATE OF LAST CONTACT OR DEATH
"RTN","ONCOFTS",6,0)
 ;Sub-field (#.01) of FOLLOW-UP Field (#400) of ONCOLOGY PATIENT (#160)
"RTN","ONCOFTS",7,0)
 ;N VARIABLES
"RTN","ONCOFTS",8,0)
 ;X=CURRENT FOLLOWUP DATE
"RTN","ONCOFTS",9,0)
 ;DA=CURRENT FOLLOWUP MULTIPLE ENTRY
"RTN","ONCOFTS",10,0)
 ;TUMOR STATUS
"RTN","ONCOFTS",11,0)
 N MH,LC,K,XD1,XY,XDA1
"RTN","ONCOFTS",12,0)
 I '$D(^ONCO(165.5,"C",DA(1))) W:'$D(ZTQUEUED) !!,?5,"Patient ",DA(1)," has no Primaries - cannot track Tumor Status",! ;NO PRIMARIES
"RTN","ONCOFTS",13,0)
 E  D STSMSET ;Set the primaries
"RTN","ONCOFTS",14,0)
 Q
"RTN","ONCOFTS",15,0)
 ;
"RTN","ONCOFTS",16,0)
STSMSET ;Patient has primaries, so set
"RTN","ONCOFTS",17,0)
 N CURFOLDT,PRIMARY
"RTN","ONCOFTS",18,0)
 S CURFOLDT=X ;Current Follow-Up Date
"RTN","ONCOFTS",19,0)
 S PRIMARY=0
"RTN","ONCOFTS",20,0)
 F  S PRIMARY=$O(^ONCO(165.5,"C",DA(1),PRIMARY)) Q:PRIMARY=""  I $$DIV^ONCFUNC(PRIMARY)=DUZ(2) D
"RTN","ONCOFTS",21,0)
 .N DATEDX
"RTN","ONCOFTS",22,0)
 .S DATEDX=$P(^ONCO(165.5,PRIMARY,0),U,16)
"RTN","ONCOFTS",23,0)
 .I DATEDX="" W:'$D(ZTQUEUED) !,?5," Patient ",DA(1),":  DATE DX MISSING for "_$P(^ONCO(164.2,$P(^ONCO(165.5,PRIMARY,0),U),0),U),!?5," NO Tumor Status Followup Created",!!
"RTN","ONCOFTS",24,0)
 .E  I DATEDX'>CURFOLDT D STSMONE
"RTN","ONCOFTS",25,0)
 Q
"RTN","ONCOFTS",26,0)
 ;
"RTN","ONCOFTS",27,0)
STSMONE ;Look for a corresponding tumor status for this primary, set up if none there
"RTN","ONCOFTS",28,0)
 I '$D(^ONCO(165.5,PRIMARY,"TS","B",CURFOLDT)) D  ;not defined, set up
"RTN","ONCOFTS",29,0)
 .N TUMSTAT
"RTN","ONCOFTS",30,0)
 .L +^ONCO(165.5,PRIMARY,"TS"):DILOCKTM
"RTN","ONCOFTS",31,0)
 .S:'$D(^ONCO(165.5,PRIMARY,"TS",0)) ^(0)="^165.573DA" ;set header if undefined
"RTN","ONCOFTS",32,0)
 .F TUMSTAT=$P(^ONCO(165.5,PRIMARY,"TS",0),U,3)+1:1 Q:'$D(^(TUMSTAT))  ;get index
"RTN","ONCOFTS",33,0)
 .S ^ONCO(165.5,PRIMARY,"TS",TUMSTAT,0)=CURFOLDT ;set data
"RTN","ONCOFTS",34,0)
 .S ^ONCO(165.5,PRIMARY,"TS","B",CURFOLDT,TUMSTAT)="" ;date xref
"RTN","ONCOFTS",35,0)
 .S ^ONCO(165.5,PRIMARY,"TS","AA",9999999-CURFOLDT,TUMSTAT)="" ;inverted date xref
"RTN","ONCOFTS",36,0)
 .S $P(^ONCO(165.5,PRIMARY,"TS",0),U,3)=TUMSTAT,$P(^(0),U,4)=$P(^(0),U,4)+1 ;update header
"RTN","ONCOFTS",37,0)
 .L -^ONCO(165.5,PRIMARY,"TS")
"RTN","ONCOFTS",38,0)
 Q
"RTN","ONCOFTS",39,0)
 ;
"RTN","ONCOFTS",40,0)
KTSM ;Delete TUMOR STATUS Multiple (#73) in ONCOLOGY PRIMARY File (#165.5)
"RTN","ONCOFTS",41,0)
 ;corresponding to an entry in the FOLLOW-UP Multiple (#400) in ONCOLOGY PATIENT File (#160)
"RTN","ONCOFTS",42,0)
 ;Called by KILL Logic of AE Cross-reference of DATE OF LAST CONTACT OR DEATH Sub-field (#.01) of FOLLOW-UP Multiple
"RTN","ONCOFTS",43,0)
 ;Input DA(1) = internal entry number in ONCOLOGY PATIENT File
"RTN","ONCOFTS",44,0)
 ;          X = date of follow-up to be deleted
"RTN","ONCOFTS",45,0)
 N XD1
"RTN","ONCOFTS",46,0)
 S XD1=0 F  S XD1=$O(^ONCO(165.5,"C",DA(1),XD1)) Q:'XD1  I $$DIV^ONCFUNC(XD1)=DUZ(2) D KTSMA
"RTN","ONCOFTS",47,0)
 Q
"RTN","ONCOFTS",48,0)
KTSMA I $D(^ONCO(165.5,XD1,"TS","B",X)) D
"RTN","ONCOFTS",49,0)
 .N DIK,DR,DA
"RTN","ONCOFTS",50,0)
 .S DA=0
"RTN","ONCOFTS",51,0)
 .F  S DA=$O(^ONCO(165.5,XD1,"TS","B",X,DA)) Q:'DA  D KTSMONE ;kill
"RTN","ONCOFTS",52,0)
 Q
"RTN","ONCOFTS",53,0)
 ;
"RTN","ONCOFTS",54,0)
KTSMONE ;kill a single tumor status sub-record
"RTN","ONCOFTS",55,0)
 ;DEVELOPERS NOTE:  The code is written this way because FileMan blows
"RTN","ONCOFTS",56,0)
 ;up if you try to make a DIK call from within DIE.  Thus this code
"RTN","ONCOFTS",57,0)
 ;should always be modified if any changes are made to the TUMOR STATUS
"RTN","ONCOFTS",58,0)
 ;multiple Field (#73) in the ONCOLOGY PRIMARY File (#165.5).
"RTN","ONCOFTS",59,0)
 ;When FileMan gets his act together, this logic can be simplified
"RTN","ONCOFTS",60,0)
 ;to a DIK call.     MLH 4/14/93
"RTN","ONCOFTS",61,0)
 ;
"RTN","ONCOFTS",62,0)
 ;kill xrefs
"RTN","ONCOFTS",63,0)
 K ^ONCO(165.5,XD1,"TS","B",X,DA) ;kill date xref (.01,B)
"RTN","ONCOFTS",64,0)
 K ^ONCO(165.5,XD1,"TS","AA",9999999-X,DA) ;kill inverse date xref (.01,AA)
"RTN","ONCOFTS",65,0)
 D LTS^ONCOU55(XD1,DA) ;reset LAST TUMOR STATUS Field (#95) (.02,AC)
"RTN","ONCOFTS",66,0)
 K ^ONCO(165.5,XD1,"TS",DA) ;kill data
"RTN","ONCOFTS",67,0)
 S $P(^ONCO(165.5,XD1,"TS",0),U,4)=$P($G(^ONCO(165.5,XD1,"TS",0)),U,4)-1 ;decrement count on header
"RTN","ONCOFTS",68,0)
 Q
"RTN","ONCOFTS",69,0)
 ;
"RTN","ONCOFTS",70,0)
DX ;DATE OF LAST CONTACT OR DEATH (160.04,.01) Input Transform 
"RTN","ONCOFTS",71,0)
 ;At least one DATE DX (165.5,3) must precede DATE OF LAST CONTACT OR
"RTN","ONCOFTS",72,0)
 ;DEATH
"RTN","ONCOFTS",73,0)
 ;DATE OF LAST CONTACT OR DEATH must precede DATE@TIME OF DEATH (160,29)
"RTN","ONCOFTS",74,0)
 N ONCOF,XD1
"RTN","ONCOFTS",75,0)
 S ONCOF=0,XD1=0 F  S XD1=$O(^ONCO(165.5,"C",DA(1),XD1)) Q:XD1'>0  S DATEDXZ=$P(^ONCO(165.5,XD1,0),U,16) I (DATEDXZ'>X)!(DATEDXZ="0000000")!(DATEDXZ=8888888)!(DATEDXZ=9999999) S ONCOF=1 Q
"RTN","ONCOFTS",76,0)
 I 'ONCOF W !,"DATE DX must precede DATE OF LAST CONTACT OR DEATH",! K X
"RTN","ONCOFTS",77,0)
 E  D
"RTN","ONCOFTS",78,0)
 .N ONCDTD
"RTN","ONCOFTS",79,0)
 .S ONCDTD=$P($G(^ONCO(160,D0,1)),U,8)
"RTN","ONCOFTS",80,0)
 .I $E(ONCDTD,6,7)="00" Q
"RTN","ONCOFTS",81,0)
 .I ONCDTD,ONCDTD<X W !,"DATE OF LAST CONTACT OR DEATH must precede DATE@TIME OF DEATH" K X
"RTN","ONCOFTS",82,0)
 Q
"RTN","ONCOFUL")
0^203^B22246467
"RTN","ONCOFUL",1,0)
ONCOFUL ;Hines OIFO/GWB - FOLLOWUP PROCEDURES ;07/12/00
"RTN","ONCOFUL",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOFUL",3,0)
PAT ;Select patient
"RTN","ONCOFUL",4,0)
 W !
"RTN","ONCOFUL",5,0)
 S DIC="^ONCO(160,",DIC("A")=" Select Patient: ",DIC(0)="AEMQZ" D ^DIC
"RTN","ONCOFUL",6,0)
 Q:(Y<0)!(+Y[U)
"RTN","ONCOFUL",7,0)
 S (ONCOPAT,ONCOD0,DA)=+Y,X=Y(0,0),ONCOVP=$P(Y,U,2)
"RTN","ONCOFUL",8,0)
 S X=$P(X,",",2)_" "_$P(X,","),ONCONM=$$LCASE^ONCOU(X)
"RTN","ONCOFUL",9,0)
 Q
"RTN","ONCOFUL",10,0)
AP K ONCOD0,ONCOVP,ONCONM
"RTN","ONCOFUL",11,0)
DCL ;DISPLAY CONTACT LIST
"RTN","ONCOFUL",12,0)
 W @IOF,!!,?20,"********* DISPLAY CONTACTS **********",!!
"RTN","ONCOFUL",13,0)
 G FI:$D(ONCOVP)&($D(ONCOD0)) S DIC="^ONCO(160,",DIC("A")="       Select Patient: ",DIC(0)="AEMQZ" D ^DIC G EX:(Y<0)!(+Y[U) S (ONCOPAT,ONCOD0,DA)=+Y,X=Y(0,0),ONCOVP=$P(Y,U,2)
"RTN","ONCOFUL",14,0)
 S LN=$P(X,","),X=$P(X,",",2)_" "_LN S ONCONM=$$LCASE^ONCOU(X)
"RTN","ONCOFUL",15,0)
FI S FIL=$P(ONCOVP,";",2),DFN=$P(ONCOVP,";"),GLR=U_FIL_DFN_",",X=$P(@(GLR_"0)"),U)
"RTN","ONCOFUL",16,0)
X K D1 S D0=ONCOD0,D1=$O(^ONCO(160,D0,"C","B","PT",0)) I D1="" D ^ONCOFUM
"RTN","ONCOFUL",17,0)
ADC ;ADD CONTACTS
"RTN","ONCOFUL",18,0)
 K DXS,DIOT S D0=ONCOD0 D ^ONCOXCL
"RTN","ONCOFUL",19,0)
EC W !!?20,"********** ADD/EDIT CONTACTS **********",!! W:$D(ONCONM) ?20,"for: ",ONCONM,!!
"RTN","ONCOFUL",20,0)
 S F0=0,DA=ONCOD0,DIE="^ONCO(160,",DR="[ONCO FOLL-ADD CONTACT]" D ^DIE ;G EX:'F0,EX:$D(Y)=0,DCL
"RTN","ONCOFUL",21,0)
SA S DIR("A")="     Select Action",DIR(0)="S^1:Display Contacts;2:Edit Contact;3:Attempt a Follow-up;4:Another Patient;5:Exit Option",DIR("B")=3 D ^DIR G DCL:Y=1,ATM:Y=3,EC:Y=2,AP:Y=4,EX
"RTN","ONCOFUL",22,0)
 ;
"RTN","ONCOFUL",23,0)
ATM ;[AF Attempt a Follow-up] [ONCO FOLL-ATTEMPT FOLLOWUP]
"RTN","ONCOFUL",24,0)
 N ONCDUZ,ONCDT
"RTN","ONCOFUL",25,0)
 S ONCDUZ=DUZ,ONCDT=DT
"RTN","ONCOFUL",26,0)
 W @IOF,!!?20,"********** ATTEMPT A FOLLOW-UP **********",!!
"RTN","ONCOFUL",27,0)
 K ONCOVS,VS,DIC,DIE
"RTN","ONCOFUL",28,0)
 I '$D(ONCOD0) D PAT G EX:Y<0
"RTN","ONCOFUL",29,0)
 E  W:$D(ONCONM) ?20," for ",ONCONM
"RTN","ONCOFUL",30,0)
 I '$D(ONCONM) D PAT G EX:Y<0
"RTN","ONCOFUL",31,0)
FA S DA=ONCOD0,DR="[ONCO FOLL ATTEMPT]",DIE="^ONCO(160,",L=0,FG=0 W !! D ^DIE G EX:$D(Y)'=0,EX:'$D(D1) I 'FG&'($P($G(^ONCO(160,D0,"A",D1,0)),U,6)) G DEL
"RTN","ONCOFUL",32,0)
 S XX=^ONCO(160,ONCOD0,"A",ONCOD1,0) I $P(XX,U,2)=3&($P(XX,U,4)=8) S ONCOC0=$P(XX,U,3) W !!?5,"Generate Letter...!!" D LET^ONCOFUP K ONCOC0 G ATM
"RTN","ONCOFUL",33,0)
 G SA:$G(XRS)'=1 W !!?10,"Complete Follow-up for Successful Contact!!",! G DIE:XTY=3
"RTN","ONCOFUL",34,0)
FOL K DXS S DA(1)=ONCOD0,DIC(0)="LZ",(DIE,DIC)="^ONCO(160,"_DA(1)_",""F"",",DLAYGO=160,X=XDT I '$D(^ONCO(160,DA(1),"F")) S ^ONCO(160,DA(1),"F",0)="^160.04DAI^^"
"RTN","ONCOFUL",35,0)
 D ^DIC S DIE=DIE,DA=+Y G EX:Y<0
"RTN","ONCOFUL",36,0)
 ;DEVELOPERS NOTE:  For consistent functionality, the following line
"RTN","ONCOFUL",37,0)
 ;must be identical to the 160.04 DR string in the input template
"RTN","ONCOFUL",38,0)
 ;ONCO FOLLOWUP.
"RTN","ONCOFUL",39,0)
FOLDR S DR="S ONCOD1=DA;.01;S LC=X;1;S VS=X;3;S:VS=0 Y=""@999"";4;6//^S X=""Chart requisition"";S NF=X S:X'=5 Y=""@1000"",UF="""";7;S UF=X;S Y=""@1000"";@999;4////8;6////9;S NF=9;@1000;5;8////1;D TEMP451^ONCOAIS;S FG=1;"
"RTN","ONCOFUL",40,0)
 S FG=0 D ^DIE G UPDAT:FG I 'FG S ONCOVS="" D UPOUT G ATM
"RTN","ONCOFUL",41,0)
 ;
"RTN","ONCOFUL",42,0)
DIE K DXS S ONCOSTAT=1,DA=ONCOD0
"RTN","ONCOFUL",43,0)
 S DR="[ONCO FOLLOWUP]"
"RTN","ONCOFUL",44,0)
 S DIE="^ONCO(160,",FG=0 W !! D ^DIE I 'FG S ONCOVS="" G UPOUT
"RTN","ONCOFUL",45,0)
 ;
"RTN","ONCOFUL",46,0)
UPDAT S D0=ONCOD0 K DXS,DIOT D LST^ONCODLF,UPD^ONCOCRF
"RTN","ONCOFUL",47,0)
 W !,?5,"**********Following fields have been updated********",!
"RTN","ONCOFUL",48,0)
 N Y K DIQ,ONC S DIC="^ONCO(160,",DR=".01;16;15;15.2",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOFUL",49,0)
 D EN^DIQ1 W !
"RTN","ONCOFUL",50,0)
 W !?2,"Name..: ",ONC(160,ONCOD0,.01)
"RTN","ONCOFUL",51,0)
 W ?35,"Date Last Contact: ",ONC(160,ONCOD0,16)
"RTN","ONCOFUL",52,0)
 W !?2,"Status: ",ONC(160,ONCOD0,15)
"RTN","ONCOFUL",53,0)
 W ?35,"Follow-Up Status.: ",ONC(160,ONCOD0,15.2)
"RTN","ONCOFUL",54,0)
 K DIR S DIR("A")=" DATA OK",DIR("B")="Yes",DIR(0)="Y" W !!
"RTN","ONCOFUL",55,0)
 D ^DIR Q:(Y=U)!(Y="")  G DIE:'Y,SA:ONCOVS D DEAD^ONCOFDP K ONCONM G ATM
"RTN","ONCOFUL",56,0)
 ;
"RTN","ONCOFUL",57,0)
UPOUT ;UPARROW out-check before deleting
"RTN","ONCOFUL",58,0)
 Q:'$D(ONCOD1)  Q:'$D(^ONCO(160,ONCOD0,"F",ONCOD1,0))  Q:$P(^(0),U,8)=1  D DEL^ONCOAIF G ATM
"RTN","ONCOFUL",59,0)
 Q
"RTN","ONCOFUL",60,0)
 ;
"RTN","ONCOFUL",61,0)
DEL ;delete entry
"RTN","ONCOFUL",62,0)
 Q:'$D(ONCOD1)  S DA(1)=ONCOD0,DA=ONCOD1,DIK="^ONCO(160,"_DA(1)_",""A""," D ^DIK
"RTN","ONCOFUL",63,0)
 W:$D(^ONCO(160,ONCOD0,"A",ONCOD1,0)) "*",$P(^(0),U,6) W !!,?10,"*********************ENTRY DELETED*************************",!!
"RTN","ONCOFUL",64,0)
 G EX
"RTN","ONCOFUL",65,0)
IN ;
"RTN","ONCOFUL",66,0)
NAM D HD W !! S DIC="^ONCO(160,",DIC(0)="AEQMZ",DIC("A")="         Enter Patient name: " D ^DIC G EX:Y<0 S (ONCOD0,D0)=+Y
"RTN","ONCOFUL",67,0)
T K IO("Q") S %ZIS="Q" W !! D ^%ZIS I POP S ONCOUT="" G NAM
"RTN","ONCOFUL",68,0)
 I '$D(IO("Q")) D TSK^ONCOFUL G EX
"RTN","ONCOFUL",69,0)
 S ZTRTN="TSK^ONCOFUL",ZTSAVE("ONCOD0")="",ZTDESC="ONCOLOGY PATIENT INQUIRY" D ^%ZTLOAD G EX
"RTN","ONCOFUL",70,0)
 ;
"RTN","ONCOFUL",71,0)
TSK ;Task for Patient Inquiry
"RTN","ONCOFUL",72,0)
DI U IO D HD S D0=ONCOD0
"RTN","ONCOFUL",73,0)
 K DIQ,ONC S DIC="^ONCO(160,",DR=".01;16;15;15.2",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOFUL",74,0)
 D EN^DIQ1 W !
"RTN","ONCOFUL",75,0)
 W !?2,"Name..: ",ONC(160,ONCOD0,.01)
"RTN","ONCOFUL",76,0)
 W ?35,"Date Last Contact: ",ONC(160,ONCOD0,16)
"RTN","ONCOFUL",77,0)
 W !?2,"Status: ",ONC(160,ONCOD0,15)
"RTN","ONCOFUL",78,0)
 W ?35,"Follow-Up Status.: ",ONC(160,ONCOD0,15.2)
"RTN","ONCOFUL",79,0)
 D SUM^ONCOAIF,LST^ONCODLF
"RTN","ONCOFUL",80,0)
 D ^%ZISC
"RTN","ONCOFUL",81,0)
 Q
"RTN","ONCOFUL",82,0)
 ;
"RTN","ONCOFUL",83,0)
HD W @IOF,!!!?15,"********** Patient Follow-up Inquiry ***********",!
"RTN","ONCOFUL",84,0)
 Q
"RTN","ONCOFUL",85,0)
EX ;EXIT ROUTINE
"RTN","ONCOFUL",86,0)
 K DA,D0,D1,DI,DIC,DIC1,DIE,DIK,ONCOD0,ONCOD1,ONCOVS,ONCONM,ONCOPAT,ONCOVP,%ZISOS
"RTN","ONCOFUL",87,0)
 K S,F0,FIL,GLR,J,LN,L,LA,NM,OD,OS,OF,%Y,ABS,AC,P,D,DN,DXS,DIYS,DN,ZZL,DIE,DR,ONCON,ONCOX
"RTN","ONCOFUL",88,0)
 Q
"RTN","ONCOFUM")
0^204^B13605728
"RTN","ONCOFUM",1,0)
ONCOFUM ;Hines OIFO/GWB -FOLLOW-UP CONTACT (160,420) ;06/23/10
"RTN","ONCOFUM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOFUM",3,0)
 ;
"RTN","ONCOFUM",4,0)
AC ;Add patient to ONCOLOGY CONTACT file (165) using ^DPT(D0,.11) and
"RTN","ONCOFUM",5,0)
 ;^DPT(D0,.13) node data from PATIENT file (2)
"RTN","ONCOFUM",6,0)
 S FIL=$P(ONCOVP,";",2),DFN=$P(ONCOVP,";",1),GLR="^"_FIL_DFN_","
"RTN","ONCOFUM",7,0)
 S X=$P(@(GLR_"0)"),U,1)
"RTN","ONCOFUM",8,0)
 S DIC="^ONCO(165,",DIC(0)="Z" D ^DIC
"RTN","ONCOFUM",9,0)
 S CP0=+Y
"RTN","ONCOFUM",10,0)
 I +Y>0 G CKP
"RTN","ONCOFUM",11,0)
 K DO S DIC(0)="ZL" D FILE^DICN S (DA,CP0)=+Y
"RTN","ONCOFUM",12,0)
 S X11=$G(@(GLR_".11)"))
"RTN","ONCOFUM",13,0)
 S X13=$G(@(GLR_".13)"))
"RTN","ONCOFUM",14,0)
 S CITY=$P(X11,U,4)
"RTN","ONCOFUM",15,0)
 S STATE=$P(X11,U,5)
"RTN","ONCOFUM",16,0)
 S ZIP=$P(X11,U,6)
"RTN","ONCOFUM",17,0)
 S XX11=$P(X11,U,1,3)_"^"_CITY_"^"_STATE_"^^^^"_ZIP
"RTN","ONCOFUM",18,0)
 S $P(^ONCO(165,CP0,0),U,2)=1,^(.11)=XX11,^(.13)=X13
"RTN","ONCOFUM",19,0)
 ;
"RTN","ONCOFUM",20,0)
CKP G:FIL["LRT" PTCONT
"RTN","ONCOFUM",21,0)
 ;
"RTN","ONCOFUM",22,0)
K1 ;Add NOK (Next of Kin) to ONCOLOGY CONTACT file (165) using
"RTN","ONCOFUM",23,0)
 ;^DPT(D0,.21) node data from PATIENT file (2)
"RTN","ONCOFUM",24,0)
 G K2:$D(^ONCO(160,ONCOD0,"C","B","NOK"))
"RTN","ONCOFUM",25,0)
 S X21=$G(^DPT(DFN,.21)) G K2:X21=""
"RTN","ONCOFUM",26,0)
 F J=1,6,7,8,9,10 S ONCOX(J)=$P(X21,U,J)
"RTN","ONCOFUM",27,0)
 S CITY=ONCOX(6)
"RTN","ONCOFUM",28,0)
 S STATE=ONCOX(7)
"RTN","ONCOFUM",29,0)
 S ZIP=ONCOX(8)
"RTN","ONCOFUM",30,0)
 S XX21=$P(X21,U,3,5)_"^"_CITY_"^"_STATE_"^^^^"_ZIP
"RTN","ONCOFUM",31,0)
 S X=ONCOX(1)
"RTN","ONCOFUM",32,0)
 S (DIC,DIE)="^ONCO(165,",DIC(0)="Z" D ^DIC
"RTN","ONCOFUM",33,0)
 S CK0=+Y
"RTN","ONCOFUM",34,0)
 G SK1:+Y>0
"RTN","ONCOFUM",35,0)
 K DO S DIC(0)="ZL" D FILE^DICN S (DA,CK0)=+Y
"RTN","ONCOFUM",36,0)
 S DR="1///^S X=3"
"RTN","ONCOFUM",37,0)
 D ^DIE S ^ONCO(165,CK0,.11)=XX21,^(.13)=ONCOX(9)
"RTN","ONCOFUM",38,0)
 I ($P(XX21,U,1)="")&(ONCOX(10)="Y") D
"RTN","ONCOFUM",39,0)
 .S ^ONCO(165,CK0,.11)=^ONCO(165,CP0,.11)
"RTN","ONCOFUM",40,0)
 ;
"RTN","ONCOFUM",41,0)
SK1 ;Add NOK (Next of Kin) TYPE OF FOLLOW-UP CONTACT (160,420)
"RTN","ONCOFUM",42,0)
 S DA(1)=ONCOD0,(DIC,DIE)="^ONCO(160,"_DA(1)_",""C"",",X="NOK"
"RTN","ONCOFUM",43,0)
 K DO D FILE^DICN S DA=+Y,DR="1///^S X=CK0" D ^DIE
"RTN","ONCOFUM",44,0)
 ;
"RTN","ONCOFUM",45,0)
K2 ;Add KIN (Other Kin) to ONCOLOGY CONTACT file (165) using ^DPT(D0,.211)
"RTN","ONCOFUM",46,0)
 ;node data from PATIENT file (2)
"RTN","ONCOFUM",47,0)
 G DE:$D(^ONCO(160,ONCOD0,"C","B","KIN"))
"RTN","ONCOFUM",48,0)
 S X211=$G(^DPT(DFN,.211)) G DE:X211=""
"RTN","ONCOFUM",49,0)
 F J=1,2,6,7,8,9,10 S ONCOX(J)=$P(X211,U,J)
"RTN","ONCOFUM",50,0)
 S CITY=ONCOX(6)
"RTN","ONCOFUM",51,0)
 S STATE=ONCOX(7)
"RTN","ONCOFUM",52,0)
 S ZIP=ONCOX(8)
"RTN","ONCOFUM",53,0)
 S XX211=$P(X211,U,3,5)_"^"_CITY_"^"_STATE_"^^^^"_ZIP
"RTN","ONCOFUM",54,0)
 S X=ONCOX(1)
"RTN","ONCOFUM",55,0)
 S (DIC,DIE)="^ONCO(165,",DIC(0)="Z" D ^DIC
"RTN","ONCOFUM",56,0)
 S CK2=+Y G SK2:+Y>0
"RTN","ONCOFUM",57,0)
 K DO S DIC(0)="ZL" D FILE^DICN S (DA,CK2)=+Y
"RTN","ONCOFUM",58,0)
 S DR="1///^S X=3;2///^S X=ONCOX(2)" D ^DIE
"RTN","ONCOFUM",59,0)
 S ^ONCO(165,CK2,.11)=XX211,^(.13)=ONCOX(9)
"RTN","ONCOFUM",60,0)
 I ($P(XX211,U)="")&(ONCOX(10)="Y") D
"RTN","ONCOFUM",61,0)
 .S ^ONCO(165,CK2,.11)=^ONCO(165,CP0,.11)
"RTN","ONCOFUM",62,0)
 ;
"RTN","ONCOFUM",63,0)
SK2 ;Add KIN (Other Kin) TYPE OF FOLLOW-UP CONTACT (160,420)
"RTN","ONCOFUM",64,0)
 S DA(1)=ONCOD0,(DIC,DIE)="^ONCO(160,"_DA(1)_",""C"",",X="KIN"
"RTN","ONCOFUM",65,0)
 K DO D FILE^DICN S DA=+Y,DR="1///^S X=CK2;" D ^DIE
"RTN","ONCOFUM",66,0)
 ;
"RTN","ONCOFUM",67,0)
DE ;Add GR (Guardian) to ONCOLOGY CONTACT file (165) using ^DPT(D0,.34)
"RTN","ONCOFUM",68,0)
 ;node data from PATIENT file (2)
"RTN","ONCOFUM",69,0)
 G EX:$D(^ONCO(160,ONCOD0,"C","B","GR"))
"RTN","ONCOFUM",70,0)
 S X34=$G(^DPT(DFN,.34)) G EX:X34=""
"RTN","ONCOFUM",71,0)
 F J=1,6,7,8,9,10 S ONCOX(J)=$P(X34,U,J)
"RTN","ONCOFUM",72,0)
 S CITY=ONCOX(6)
"RTN","ONCOFUM",73,0)
 S STATE=ONCOX(7)
"RTN","ONCOFUM",74,0)
 S ZIP=ONCOX(8)
"RTN","ONCOFUM",75,0)
 S XX34=$P(X34,U,3,5)_"^"_CITY_"^"_STATE_"^^^^"_ZIP
"RTN","ONCOFUM",76,0)
 S X=ONCOX(1)
"RTN","ONCOFUM",77,0)
 S (DIC,DIE)="^ONCO(165,",DIC(0)="Z" D ^DIC
"RTN","ONCOFUM",78,0)
 S GR0=+Y G SDE:+Y>0
"RTN","ONCOFUM",79,0)
 K DO S DIC(0)="ZL" D FILE^DICN S (DA,GR0)=+Y
"RTN","ONCOFUM",80,0)
 S DR="1///^S X=3" D ^DIE S ^ONCO(165,GR0,.11)=XX34,^(.13)=ONCOX(9)
"RTN","ONCOFUM",81,0)
 I ($P(XX34,U)="")&(ONCOX(10)="Y") D
"RTN","ONCOFUM",82,0)
 .S ^ONCO(165,GR0,.11)=^ONCO(165,CP0,.11)
"RTN","ONCOFUM",83,0)
 ;
"RTN","ONCOFUM",84,0)
SDE ;Add GR (Guardian) TYPE OF FOLLOW-UP CONTACT (160,420)
"RTN","ONCOFUM",85,0)
 S DA(1)=ONCOD0,(DIC,DIE)="^ONCO(160,"_DA(1)_",""C"",",X="GR"
"RTN","ONCOFUM",86,0)
 K DO D FILE^DICN S DA=+Y,DR="1///^S X=GR0;" D ^DIE
"RTN","ONCOFUM",87,0)
 ;
"RTN","ONCOFUM",88,0)
PTCONT ;Add PT (Patient) TYPE OF FOLLOW-UP CONTACT (160,420)
"RTN","ONCOFUM",89,0)
 G EX:$D(^ONCO(160,ONCOD0,"C","B","PT"))
"RTN","ONCOFUM",90,0)
 S DA(1)=ONCOD0,(DIE,DIC)="^ONCO(160,"_DA(1)_",""C"",",X="PT"
"RTN","ONCOFUM",91,0)
 K DO D FILE^DICN S DA=+Y,DR="1///^S X=CP0;" D ^DIE
"RTN","ONCOFUM",92,0)
 G EX
"RTN","ONCOFUM",93,0)
 ;
"RTN","ONCOFUM",94,0)
TYP ;TYPE OF FOLLOW-UP CONTACT (160.03,.01) EXECUTABLE HELP
"RTN","ONCOFUM",95,0)
 W !?5,"PT (Patient) refers to this patient.",!
"RTN","ONCOFUM",96,0)
 Q
"RTN","ONCOFUM",97,0)
 ;
"RTN","ONCOFUM",98,0)
NAM ;CONTACT NAME (160.03,1) EXECUTABLE HELP 
"RTN","ONCOFUM",99,0)
 W !?3,"To change the contact, change the CONTACT NAME."
"RTN","ONCOFUM",100,0)
 W !?3,"To edit the contact details, edit the CONTACT"
"RTN","ONCOFUM",101,0)
 W !?3,"entry in the ONCOLOGY CONTACT File.",!
"RTN","ONCOFUM",102,0)
 Q
"RTN","ONCOFUM",103,0)
 ;
"RTN","ONCOFUM",104,0)
EX ;Exit
"RTN","ONCOFUM",105,0)
 K CITY,CK0,CK2,CP0,DA,DFN,DIC,DIE,DR,FIL,GLR,GR0,J,ONCOVP,ONCOX,STATE
"RTN","ONCOFUM",106,0)
 K X,X11,X13,X21,X211,X34,XX11,XX21,XX211,XX34,Y,ZIP
"RTN","ONCOFUM",107,0)
 Q
"RTN","ONCOFUM",108,0)
 ;
"RTN","ONCOFUM",109,0)
CLEANUP ;Cleanup
"RTN","ONCOFUM",110,0)
 K ONCOD0
"RTN","ONCOFUP")
0^205^B4216330
"RTN","ONCOFUP",1,0)
ONCOFUP ;Hines OIFO/GWB - Print Follow-up Letter [ONCO FOLL-PRINT LETTER]
"RTN","ONCOFUP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOFUP",3,0)
 ;
"RTN","ONCOFUP",4,0)
SCL W @IOF,!?2,"************ Print Follow-Up Letter ************",!
"RTN","ONCOFUP",5,0)
 K DIC
"RTN","ONCOFUP",6,0)
 S DIC="^ONCO(160,"
"RTN","ONCOFUP",7,0)
 S DIC(0)="AEMQZ"
"RTN","ONCOFUP",8,0)
 S DIC("A")="  Select patient: "
"RTN","ONCOFUP",9,0)
 D ^DIC G:(Y=-1)!($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","ONCOFUP",10,0)
 S (DA,ONCOD0)=+Y
"RTN","ONCOFUP",11,0)
 ;
"RTN","ONCOFUP",12,0)
LFC ;LAST FOLLOW-UP CONTACT (160,15.1)
"RTN","ONCOFUP",13,0)
 K ONCOC0
"RTN","ONCOFUP",14,0)
 W !
"RTN","ONCOFUP",15,0)
 W !?2,"The follow-up letter is sent to the LAST FOLLOW-UP CONTACT."
"RTN","ONCOFUP",16,0)
 W !?2,"You may enter a new contact."
"RTN","ONCOFUP",17,0)
LC W !
"RTN","ONCOFUP",18,0)
 S DIE="^ONCO(160,",DR="15.1"
"RTN","ONCOFUP",19,0)
 L +^ONCO(160,DA):$G(DILOCKTM,5)
"RTN","ONCOFUP",20,0)
 I '$T R !?2,"Another user is editing this entry.",X:5 G SCL
"RTN","ONCOFUP",21,0)
 D ^DIE L -^ONCO(160,DA)
"RTN","ONCOFUP",22,0)
 G EXIT:$D(Y)
"RTN","ONCOFUP",23,0)
 S FC=$P($G(^ONCO(160,D0,1)),U,6)
"RTN","ONCOFUP",24,0)
 I FC="" W !!?2,"You need to designate a follow-up contact before printing a follow-up letter." G LC
"RTN","ONCOFUP",25,0)
 D LET G SCL
"RTN","ONCOFUP",26,0)
 ;
"RTN","ONCOFUP",27,0)
LET ;Print follow-up letter (Also called from FA^ONCOFUL)
"RTN","ONCOFUP",28,0)
 I $D(ONCOC0) D
"RTN","ONCOFUP",29,0)
 .S DIE="^ONCO(160,",DR="15.1////^S X=ONCOC0" D ^DIE
"RTN","ONCOFUP",30,0)
 S ONCOC0=$P(^ONCO(160,ONCOD0,1),U,6)
"RTN","ONCOFUP",31,0)
 ;
"RTN","ONCOFUP",32,0)
TP S ONCTP=$P($G(^ONCO(165,ONCOC0,0)),U,2)
"RTN","ONCOFUP",33,0)
 K DIC
"RTN","ONCOFUP",34,0)
 S DIC="^ONCO(165.1,"
"RTN","ONCOFUP",35,0)
 S DIC(0)="AEMQZ"
"RTN","ONCOFUP",36,0)
 S DIC("A")="Select FOLLOW-UP FORM LETTER: "
"RTN","ONCOFUP",37,0)
 I (ONCTP=1)!(ONCTP=2)!(ONCTP=6) S DIC("S")="I $P(^(0),U,2)=ONCTP"
"RTN","ONCOFUP",38,0)
 I (ONCTP=3)!(ONCTP=5) S DIC("S")="I $P(^(0),U,2)=3"
"RTN","ONCOFUP",39,0)
 I ONCTP=4 S DIC("S")="I $P(^(0),U,2)>3"
"RTN","ONCOFUP",40,0)
 D ^DIC
"RTN","ONCOFUP",41,0)
 G:(Y=-1)!($D(DTOUT))!($D(DUOUT)) EXIT
"RTN","ONCOFUP",42,0)
 S ZZL=+Y
"RTN","ONCOFUP",43,0)
 S DIWF="^ONCO(165.1,"_ZZL_",1,"
"RTN","ONCOFUP",44,0)
 S DIWF(1)="160"
"RTN","ONCOFUP",45,0)
 S BY="NUMBER",(FR,TO)=ONCOD0
"RTN","ONCOFUP",46,0)
 W !
"RTN","ONCOFUP",47,0)
 K DIC D EN2^DIWF D ^%ZISC D HOME^%ZIS
"RTN","ONCOFUP",48,0)
 Q
"RTN","ONCOFUP",49,0)
 ;
"RTN","ONCOFUP",50,0)
EXIT ;Exit
"RTN","ONCOFUP",51,0)
 K DIC,DA,ONCOD0,ONCOC0,DIE,DR,FC,ONCTP,ZZL,DIWF,BY,FR,TO
"RTN","ONCOFUP",52,0)
 Q
"RTN","ONCOGEN")
0^8^B44377351
"RTN","ONCOGEN",1,0)
ONCOGEN ;Hines OIFO/GWB - GENERAL REPORT DRIVER FOR SELECTED FORMATS ;10/26/11
"RTN","ONCOGEN",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOGEN",3,0)
 ;
"RTN","ONCOGEN",4,0)
SU ;IR Patient Summary [ONCO ABSTRACT-INCOMP RECORD]
"RTN","ONCOGEN",5,0)
 ; look-ups for options IR, QA, EX and PA changed to look-up on 
"RTN","ONCOGEN",6,0)
 ; file #165.5 to allow Accession Number look-up
"RTN","ONCOGEN",7,0)
 W !
"RTN","ONCOGEN",8,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM"
"RTN","ONCOGEN",9,0)
 S DIC("A")="Select primary or patient name: " D ^DIC G SUEX:Y<0
"RTN","ONCOGEN",10,0)
 S D0=+Y
"RTN","ONCOGEN",11,0)
 S BY="NUMBER",(FR,TO)=D0,FLDS="[ONCO XABSTRACT RECORD]",L=0
"RTN","ONCOGEN",12,0)
 S DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOGEN",13,0)
 K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOGEN",14,0)
SUEX K DIC,D,BY,FR,TO,FLDS,L
"RTN","ONCOGEN",15,0)
 Q
"RTN","ONCOGEN",16,0)
 ;
"RTN","ONCOGEN",17,0)
SEER ;[QA Print Abstract QA]
"RTN","ONCOGEN",18,0)
 S SEER=1 G ABSEO
"RTN","ONCOGEN",19,0)
SER1 S ONCODA=DA
"RTN","ONCOGEN",20,0)
 D ESPD I ESPD[U K ESPD Q
"RTN","ONCOGEN",21,0)
 S FLDS=$S(ESPD:"[ONCQA2]",1:"[ONCQA1]")
"RTN","ONCOGEN",22,0)
 I $P($G(^ONCO(165.5,DA,2)),U,1)=67619 S FLDS="[ONCQA]"
"RTN","ONCOGEN",23,0)
 I ESPD,$P($G(^ONCO(165.5,DA,2)),U,1)=67619 S FLDS="[ONCQA3]"
"RTN","ONCOGEN",24,0)
 D PRT G END
"RTN","ONCOGEN",25,0)
 ;
"RTN","ONCOGEN",26,0)
ABSEO ;[EX Print Abstract-Extended (80c)]
"RTN","ONCOGEN",27,0)
 ;[PA Print Complete Abstract (132c)]
"RTN","ONCOGEN",28,0)
 S DIC="^ONCO(165.5,",DIC(0)="AEQZM"
"RTN","ONCOGEN",29,0)
 S DIC("A")="Select primary or patient name: " D ^DIC G SUEX:Y<0
"RTN","ONCOGEN",30,0)
 S (DA,D0,NUMBER)=+Y
"RTN","ONCOGEN",31,0)
 S PRTPCE=0
"RTN","ONCOGEN",32,0)
 I $P($G(^ONCO(165.5,DA,7)),U,15)'="" W ! K DIR S DIR(0)="YA",DIR("A")=" Print PCE data attached to this primary? ",DIR("B")="NO" D ^DIR
"RTN","ONCOGEN",33,0)
 S PRTPCE=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",34,0)
 G SER1:$D(SEER),DS:$D(NS),X:III<49,Y
"RTN","ONCOGEN",35,0)
X S OSP=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOGEN",36,0)
 I OSP="" S OSP=$O(^ONCO(160.1,0))
"RTN","ONCOGEN",37,0)
 D ESPD I ESPD[U K ESPD Q
"RTN","ONCOGEN",38,0)
 S (ONCODA,ONCOIEN)=DA D ^ONCOPA1
"RTN","ONCOGEN",39,0)
 G EX
"RTN","ONCOGEN",40,0)
Y S DIOEND="S DN=1,D0=ONCODA F II=III:1:IIII K DXS D @(""^ONCOY""_II)"
"RTN","ONCOGEN",41,0)
PT S ONCODA=DA,FLDS="[ONCOY49]"
"RTN","ONCOGEN",42,0)
 D PRT G END
"RTN","ONCOGEN",43,0)
PRT S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0
"RTN","ONCOGEN",44,0)
 D EN1^DIP
"RTN","ONCOGEN",45,0)
 Q
"RTN","ONCOGEN",46,0)
 ;
"RTN","ONCOGEN",47,0)
PRT1 S FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(160,",L=0
"RTN","ONCOGEN",48,0)
 D EN1^DIP
"RTN","ONCOGEN",49,0)
 Q
"RTN","ONCOGEN",50,0)
TEXT W:$D(^ONCO(165.5,DA,8)) "  "_$P(^ONCO(165.5,DA,8),U,1) Q
"RTN","ONCOGEN",51,0)
DD S Y=$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700)_$S(Y#1:" "_$E(Y_0,9,10)_":"_$E(Y_"0000",11,12),1:"")
"RTN","ONCOGEN",52,0)
 Q
"RTN","ONCOGEN",53,0)
 ;
"RTN","ONCOGEN",54,0)
DIS ;[AS Abstract Screens Menu (80c)...]
"RTN","ONCOGEN",55,0)
 G ABSEO
"RTN","ONCOGEN",56,0)
DS S (D0,ONCODA)=DA
"RTN","ONCOGEN",57,0)
 I $G(NF)=58 S III=50,IIII=58 D Y G END
"RTN","ONCOGEN",58,0)
 S FLDS="[ONCOY49]",FR=ONCODA,TO=ONCODA,BY="@NUMBER",L=0
"RTN","ONCOGEN",59,0)
 S DIC="^ONCO(165.5," D @("SCR"_NS) Q
"RTN","ONCOGEN",60,0)
SCR50 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY50"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",61,0)
SCR3 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOX3"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",62,0)
SCR51 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY51"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",63,0)
SCR52 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY52"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",64,0)
SCR53 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY53"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",65,0)
SCR54 S DIOEND="S DN=1,D0=ONCODA F II=54,55 K DXS D @(""^ONCOY""_II)"
"RTN","ONCOGEN",66,0)
 D EN1^DIP Q
"RTN","ONCOGEN",67,0)
SCR56 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY56"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",68,0)
SCR57 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY57"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",69,0)
SCR58 S DIOEND="S DN=1,D0=ONCODA K DXS D @(""^ONCOY58"")" D EN1^DIP,RD Q
"RTN","ONCOGEN",70,0)
 Q
"RTN","ONCOGEN",71,0)
 ;
"RTN","ONCOGEN",72,0)
RD K DIR S DIR(0)="E",DIR("A")="Hit Enter to continue" D ^DIR
"RTN","ONCOGEN",73,0)
 K QDS I Y'=1 S QDS=1
"RTN","ONCOGEN",74,0)
 Q
"RTN","ONCOGEN",75,0)
 ;
"RTN","ONCOGEN",76,0)
END D ^%ZISC S IOP=ION D ^%ZIS
"RTN","ONCOGEN",77,0)
 ;
"RTN","ONCOGEN",78,0)
EX ;Exit
"RTN","ONCOGEN",79,0)
 K ANS,BY,C,D,D0,DA,DATEDX,DIC,DIOEND,DIRUT,FLDS,FR,HDA,HI,I,III,IIII,L
"RTN","ONCOGEN",80,0)
 K NF,NS,NODE0,NUMBER,ONCODA,ONCOIEN,ONCOIO,ONCONUM,ONCOPA,ONCOQUIT,ONCQ
"RTN","ONCOGEN",81,0)
 K ONCX,OSP,PCEABS,PCESEL,POP,PRTPCE,QDS,S,SAVED0,SI,SEER,SITTAB,SSN
"RTN","ONCOGEN",82,0)
 K STGP,STGPNM,TO,TOP,TOPCOD,TOPNAM,TOPTAB,TTAB
"RTN","ONCOGEN",83,0)
 Q
"RTN","ONCOGEN",84,0)
 ;
"RTN","ONCOGEN",85,0)
PCEPRT ;PRINT PCE DATA (IF ANY) FOR A PARTICULAR PRIMARY AFTER COMPLETE
"RTN","ONCOGEN",86,0)
 ;(OR EXT) ABSTR PRINT.  CALLED BY ROUTINE ^ONCOPA3A (FORMERLY CALLED
"RTN","ONCOGEN",87,0)
 ;BY ONCOX11 PRINT TEMPLATE).  ALSO CALLED BY [ONCOY58] PRINT TEMPLATE.
"RTN","ONCOGEN",88,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="" Q  ;IF NO PCE DATA, QUIT
"RTN","ONCOGEN",89,0)
 S STGP=$P($G(^ONCO(165.5,ONCODA,0)),U,1)
"RTN","ONCOGEN",90,0)
 S STGPNM=$P($G(^ONCO(164.2,STGP,0)),U,1),SITTAB=79-$L(STGPNM)
"RTN","ONCOGEN",91,0)
PRINT ;
"RTN","ONCOGEN",92,0)
 D PCEVARS
"RTN","ONCOGEN",93,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="BLA" D PRT^ONCBPC8 Q
"RTN","ONCOGEN",94,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="THY" D PRT^ONCTPC8 Q
"RTN","ONCOGEN",95,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="STS" D PRT^ONCSPC8 Q
"RTN","ONCOGEN",96,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="PRO" D PRT^ONCPPC9 Q
"RTN","ONCOGEN",97,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="COL" D PRT^ONCCPC9 Q
"RTN","ONCOGEN",98,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="NHL" D PRT^ONCNPC8 Q
"RTN","ONCOGEN",99,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="PRO2" D PRT^ONCP2P8 Q
"RTN","ONCOGEN",100,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="BRE" D PRT^ONCBRP9 Q
"RTN","ONCOGEN",101,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="MEL" D PRT^ONCMPC9 Q
"RTN","ONCOGEN",102,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="HEP" D PRT^ONCHPC8 Q
"RTN","ONCOGEN",103,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="CNS" D PRT^ONCIPC8 Q
"RTN","ONCOGEN",104,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="GAS" D PRT^ONCGPC7 Q
"RTN","ONCOGEN",105,0)
 I $P($G(^ONCO(165.5,ONCODA,7)),U,15)="LNG" D PRT^ONCLPC9 Q
"RTN","ONCOGEN",106,0)
 Q
"RTN","ONCOGEN",107,0)
PCEPRT2 ;PRINT ALL PCE'S FOR A PARTICULAR SITE.
"RTN","ONCOGEN",108,0)
 S ONCQ=0
"RTN","ONCOGEN",109,0)
 W !!?5,"Print PCE's for a particular site"
"RTN","ONCOGEN",110,0)
 K DIR S DIR(0)="SM^1:Bladder;2:Thyroid;3:Soft Tissue Sarcoma;4:Prostate;5:Prostate (1998);6:Colorectal;7:Non-Hodgkin's Lymphoma;8:Breast;9:Melanoma;10:Hepatocellular;11:Intracranial;12:Gastric;13:Lung" D ^DIR Q:$D(DIRUT)
"RTN","ONCOGEN",111,0)
 S PCESEL=$S(Y=1:"BLA",Y=2:"THY",Y=3:"STS",Y=4:"PRO",Y=5:"PRO2",Y=6:"COL",Y=7:"NHL",Y=8:"BRE",Y=9:"MEL",Y=10:"HEP",Y=11:"CNS",Y=12:"GAS",Y=13:"LNG",1:"") Q:PCESEL=""
"RTN","ONCOGEN",112,0)
 W ! K DIR S DIR(0)="YA",DIR("A")="Print PCE's AND Abstracts? ",DIR("B")="Y" D ^DIR S PCEABS=Y G EX:$D(DIRUT)
"RTN","ONCOGEN",113,0)
 K IOP,%ZIS S %ZIS="Q" W ! D ^%ZIS S ONCOIO=ION_";"_IOST_";"_IOM_";"_IOSL G:POP EX
"RTN","ONCOGEN",114,0)
 I $D(IO("Q")) S ONCQ=1 D TASK G EX
"RTN","ONCOGEN",115,0)
RTN ;
"RTN","ONCOGEN",116,0)
 S ONCOQUIT=0,ONCIOST=IOST
"RTN","ONCOGEN",117,0)
 I PCEABS'=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""  I $$DIV^ONCFUNC(ONCX)=DUZ(2) S ONCODA=ONCX D PRINT Q:$G(Y)=0
"RTN","ONCOGEN",118,0)
 I PCEABS=1 F ONCX=0:0 S ONCX=$O(^ONCO(165.5,"APCE",PCESEL,ONCX)) Q:ONCX'>""!ONCOQUIT  I $$DIV^ONCFUNC(ONCX)=DUZ(2) D
"RTN","ONCOGEN",119,0)
 .S ONCODA=ONCX,PRTPCE=1
"RTN","ONCOGEN",120,0)
 .S ONCOIEN=ONCX D MULT^ONCOPA1
"RTN","ONCOGEN",121,0)
 .Q
"RTN","ONCOGEN",122,0)
 G END
"RTN","ONCOGEN",123,0)
PCEVARS ;SET VARIABLES NEEDED TO PRINT THE PCE(S).
"RTN","ONCOGEN",124,0)
 N PATNAM K DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCOGEN",125,0)
 S D0=ONCODA,NODE0=^ONCO(165.5,D0,0)
"RTN","ONCOGEN",126,0)
 S S=$P(NODE0,U,1),SITEGP=$P(^ONCO(164.2,S,0),U,1),DATEDX=$P(NODE0,U,16)
"RTN","ONCOGEN",127,0)
 S Y=$P(NODE0,U,2),C=$P(^DD(165.5,.02,0),U,2) D Y^DIQ S PATNAM=Y
"RTN","ONCOGEN",128,0)
 S SAVED0=D0 S D0=$P(NODE0,U,2) D SSN^ONCOES S SSN=X,D0=SAVED0
"RTN","ONCOGEN",129,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1),TOPCOD="",TOPNAM=""
"RTN","ONCOGEN",130,0)
 I TOP'="" S TOPNAM=$P(^ONCO(164,TOP,0),U,1),TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOGEN",131,0)
 S TOPTAB=79-$L(TOPNAM_" "_TOPCOD),TTAB=79-$L(TOPCOD)
"RTN","ONCOGEN",132,0)
 S STGP=$P($G(^ONCO(165.5,ONCODA,0)),U,1)
"RTN","ONCOGEN",133,0)
 S STGPNM=$P($G(^ONCO(164.2,STGP,0)),U,1),SITTAB=79-$L(STGPNM)
"RTN","ONCOGEN",134,0)
 S NOS=TOPTAB-$L(PATNAM),NOS=NOS-1 K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOGEN",135,0)
 S ONCONUM=D0,ONCOPA=$P(NODE0,U,2)
"RTN","ONCOGEN",136,0)
 Q
"RTN","ONCOGEN",137,0)
 ;
"RTN","ONCOGEN",138,0)
ESPD ;Exclude sensitive patient data
"RTN","ONCOGEN",139,0)
 N DIR,X,Y
"RTN","ONCOGEN",140,0)
 W !
"RTN","ONCOGEN",141,0)
 S DIR("A")=" Exclude sensitive patient data"
"RTN","ONCOGEN",142,0)
 S DIR(0)="Y",DIR("B")="No" D ^DIR
"RTN","ONCOGEN",143,0)
 S ESPD=Y
"RTN","ONCOGEN",144,0)
 Q
"RTN","ONCOGEN",145,0)
 ;
"RTN","ONCOGEN",146,0)
TASK ;Queue a task
"RTN","ONCOGEN",147,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOGEN",148,0)
 S ZTRTN="RTN^ONCOGEN"
"RTN","ONCOGEN",149,0)
 S ZTREQ="@",ZTSAVE("ZTREQ")="",ZTSAVE("ONCODA")="",ZTSAVE("PCESEL")=""
"RTN","ONCOGEN",150,0)
 S ZTSAVE("DATEDX")="",ZTSAVE("PCEABS")="",ZTSAVE("ONCOIO")=""
"RTN","ONCOGEN",151,0)
 S ZTSAVE("ONCQ")="",ZTDESC="Print PCE Data"
"RTN","ONCOGEN",152,0)
 D ^%ZTLOAD W !,"Request Queued",!
"RTN","ONCOGEN",153,0)
 K ZTDESC,ZTREQ,ZTRTN,ZTSAVE
"RTN","ONCOGEN",154,0)
 Q
"RTN","ONCOGEN",155,0)
 ;
"RTN","ONCOGEN",156,0)
CLEANUP ;Cleanup
"RTN","ONCOGEN",157,0)
 K NOS,ONCIOST,SITEGP
"RTN","ONCOHELP")
0^206^B6721354
"RTN","ONCOHELP",1,0)
ONCOHELP ;Hines OIFO/GWB - Miscellaneous Help ;5/2/92
"RTN","ONCOHELP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOHELP",3,0)
DPD ;DRINKS PER DAY
"RTN","ONCOHELP",4,0)
 W !?5,"Enter the amount of alcohol consumed per day in whiskey equivalents"
"RTN","ONCOHELP",5,0)
 W !?10,"Note-> One whiskey is equivalent to 10.24 grams of alcohol",!!?15,"-  12 ounces of beer is equivalent to one whiskey"
"RTN","ONCOHELP",6,0)
 W !?15,"-   4 ounces of wine is equivalent to one whiskey",!?15,"-   1 ounce of vodka, scotch, etc. is equivalent to one whiskey"
"RTN","ONCOHELP",7,0)
 Q
"RTN","ONCOHELP",8,0)
RAD ;RADIATION Conversion
"RTN","ONCOHELP",9,0)
 W !?10,"Enter the TOTAL amount of Radiation given",!
"RTN","ONCOHELP",10,0)
 W !?10,"1 cGy = 1 RAD     1Gy = 100 RADs",!
"RTN","ONCOHELP",11,0)
 Q
"RTN","ONCOHELP",12,0)
CLK ;CONTACT LOOKUP
"RTN","ONCOHELP",13,0)
 ;ENTER with ONCOX=1,2,3,4,5,6
"RTN","ONCOHELP",14,0)
 I X="?" S X="" Q  ;Q:X="?"
"RTN","ONCOHELP",15,0)
 S X="??",DIC="^ONCO(165,",D="B"_ONCOX,DIC(0)="EZ" D IX^DIC
"RTN","ONCOHELP",16,0)
 Q
"RTN","ONCOHELP",17,0)
 ;
"RTN","ONCOHELP",18,0)
BP ;BIOPSY PROCEDURE (165.5,141)
"RTN","ONCOHELP",19,0)
 D BPGUCHK^ONCOTNE
"RTN","ONCOHELP",20,0)
 I BPSITE="" Q
"RTN","ONCOHELP",21,0)
 W !?3,"Select from the following list:",!
"RTN","ONCOHELP",22,0)
 F XBP=0:0 S XBP=$O(^ONCO(164,BPSITE,"BP5",XBP)) Q:XBP'>0  W !?6,$P($G(^ONCO(164,BPSITE,"BP5",XBP,0)),U,2),?12,$P($G(^ONCO(164,BPSITE,"BP5",XBP,0)),U,1)
"RTN","ONCOHELP",23,0)
 K XBP
"RTN","ONCOHELP",24,0)
 Q
"RTN","ONCOHELP",25,0)
 ;
"RTN","ONCOHELP",26,0)
DTFLGHLP ;XECUTABLE HELP CODE FOR DATE FLAG FIELDS (165.5,999.1-999.25)
"RTN","ONCOHELP",27,0)
 ; ONCITM = THE NAACCR ITEM # ASSOCIATED WITH THE FIELD SET IN THE ^DD
"RTN","ONCOHELP",28,0)
 ;
"RTN","ONCOHELP",29,0)
 I ONCITM=581!(ONCITM=1751) D 12,BLNK K ONCITM Q
"RTN","ONCOHELP",30,0)
 I ONCITM=1201!(ONCITM=1251)!(ONCITM=1271)!(ONCITM=1281)!(ONCITM=1861)!(ONCITM=3171)!(ONCITM=3181) D 10,11,12,BLNK K ONCITM Q
"RTN","ONCOHELP",31,0)
 D 10,11,12,15,BLNK
"RTN","ONCOHELP",32,0)
 K ONCITM Q
"RTN","ONCOHELP",33,0)
 ;
"RTN","ONCOHELP",34,0)
10 W !?5,"10 No information whatsoever can be inferred from this exceptional value" Q
"RTN","ONCOHELP",35,0)
11 W !?5,"11 No proper value is applicable in this context" Q
"RTN","ONCOHELP",36,0)
12 W !?5,"12 A proper value is applicable but not known; date is unknown" Q
"RTN","ONCOHELP",37,0)
15 W !?5,"15 Information is not available now but is expected to be available later" Q
"RTN","ONCOHELP",38,0)
BLNK W !?5,"Leave blank if a valid date value is provided",! Q
"RTN","ONCOHICD")
0^207^B39778848
"RTN","ONCOHICD",1,0)
ONCOHICD ;Hines OIFO/GWB ICD-O HELP ;5/18/92
"RTN","ONCOHICD",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOHICD",3,0)
 ;
"RTN","ONCOHICD",4,0)
HP ;PRIMARY SITE (165.5,20) EXECUTABLE HELP
"RTN","ONCOHICD",5,0)
 ;HISTOLOGY (ICD-O-2) (165.5,22) EXECUTABLE HELP
"RTN","ONCOHICD",6,0)
 Q:'$D(ONCOX)
"RTN","ONCOHICD",7,0)
 S ONCOY=$S(ONCOX=164:2,1:3),ONCOS=$P(^ONCO(165.5,D0,0),U)
"RTN","ONCOHICD",8,0)
 W:$X !
"RTN","ONCOHICD",9,0)
 S XI=0 F  S XI=$O(^ONCO(164.2,ONCOS,ONCOY,"B",XI)) Q:XI'>0  S Y=$G(^ONCO(ONCOX,XI,0)) I Y'="" W !,?3,$P(Y,U,2),?12,$P(Y,U),?45,$P(Y,U,9)
"RTN","ONCOHICD",10,0)
 W:$X !
"RTN","ONCOHICD",11,0)
 K ONCOX,ONCOS,ONCOY
"RTN","ONCOHICD",12,0)
 Q
"RTN","ONCOHICD",13,0)
 ;
"RTN","ONCOHICD",14,0)
ICDO3 ;ICD-O-3 MORPHOLOGY help
"RTN","ONCOHICD",15,0)
 S ICDTOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOHICD",16,0)
 I ICDTOP="" G ICDO3EX
"RTN","ONCOHICD",17,0)
 S ICDTOP=$E(ICDTOP,1,4)
"RTN","ONCOHICD",18,0)
 W:$X !
"RTN","ONCOHICD",19,0)
 S XI=0 F I=1:1 S XI=$O(^ONCO(169.3,"AC",ICDTOP,XI)) Q:XI'>0  S Y=^ONCO(169.3,XI,0) W:I=1 !,?3,"Common morphologies for topography ","(C",$E(ICDTOP,3,4),"._)",! W !,?3,$P(Y,U,2),"  ",$P(Y,U,1) I I#20=0 K DIR S DIR(0)="E" D ^DIR Q:'Y
"RTN","ONCOHICD",20,0)
 W:$X !
"RTN","ONCOHICD",21,0)
ICDO3EX K ICDTOP,XI,I
"RTN","ONCOHICD",22,0)
 Q
"RTN","ONCOHICD",23,0)
 ;
"RTN","ONCOHICD",24,0)
HIST23 ;If HISTOLOGY (ICD-O-2) (165.5,22) value is changed and DATE DX is
"RTN","ONCOHICD",25,0)
 ;prior to 2001, delete HISTOLOGY (ICD-O-3) (165.5,22.3) value
"RTN","ONCOHICD",26,0)
 S:$P(^ONCO(165.5,DA,0),U,16)<3010000 $P(^ONCO(165.5,DA,2.2),U,3)=""
"RTN","ONCOHICD",27,0)
 Q
"RTN","ONCOHICD",28,0)
 ;
"RTN","ONCOHICD",29,0)
DEFH3 ;HISTOLOGY (ICD-O-3) (165.5,22.3) default
"RTN","ONCOHICD",30,0)
 S H3DEF="",DATEDX=$P($G(^ONCO(165.5,D0,0)),U,16) I DATEDX>3001231 Q
"RTN","ONCOHICD",31,0)
 S H2VAL=$P($G(^ONCO(165.5,D0,2)),U,3),FND=0
"RTN","ONCOHICD",32,0)
 I H2VAL="" D  Q
"RTN","ONCOHICD",33,0)
 .S $P(^ONCO(165.5,D0,2.2),U,3)="",Y=101
"RTN","ONCOHICD",34,0)
 .W !,"HISTOLOGY (ICD-O-3): " Q
"RTN","ONCOHICD",35,0)
 F NNN=1:1 S VAL=$P($T(TABLE+NNN),";;",2) D  Q:VAL=""!(FND=1)
"RTN","ONCOHICD",36,0)
 .I $P(VAL,U,1)=H2VAL S H3DEF=$E($P(VAL,U,2),1,5),FND=1
"RTN","ONCOHICD",37,0)
 I H3DEF'="" S H3DEF=$P($G(^ONCO(169.3,H3DEF,0)),U,1) Q
"RTN","ONCOHICD",38,0)
 I H3DEF="" S H3DEF=$P($G(^ONCO(169.3,H2VAL,0)),U,1) Q
"RTN","ONCOHICD",39,0)
 ;
"RTN","ONCOHICD",40,0)
TABLE ;Histology ICD-O-2 to ICD-O-3 Table
"RTN","ONCOHICD",41,0)
 ;;82411^82401 ;CARCINOID TUMOR OF UNCERTAIN MALIG POTENTIAL
"RTN","ONCOHICD",42,0)
 ;;85113^83453 ;MEDULLARY CARCINOMA WITH AMYLOID STROMA
"RTN","ONCOHICD",43,0)
 ;;85112^83452 ;MEDULLARY CARCINOMA WITH AMYLOID STROMA IN SITU
"RTN","ONCOHICD",44,0)
 ;;87240^91600 ;ANGIOFIBROMA, NOS
"RTN","ONCOHICD",45,0)
 ;;91341^91333 ;EPITHELIOID HEMANGIOENDOTHELIOMA, MALIGNANT
"RTN","ONCOHICD",46,0)
 ;;91260^91250 ;EPITHELIOID HEMANGIOMA
"RTN","ONCOHICD",47,0)
 ;;91903^91923 ;PAROSTEAL OSTEOSARCOMA
"RTN","ONCOHICD",48,0)
 ;;91902^91922 ;PAROSTEAL OSTEOSARCOMA IN SITU
"RTN","ONCOHICD",49,0)
 ;;94223^94211 ;PILOCYTIC ASTROCYTOMA      
"RTN","ONCOHICD",50,0)
 ;;94222^94212 ;JUVENILE ASTROCYTOMA IN SITU      
"RTN","ONCOHICD",51,0)
 ;;94433^94233 ;POLAR SPONGIOBLASTOMA      
"RTN","ONCOHICD",52,0)
 ;;94432^94232 ;POLAR SPONGIOBLASTOMA IN SITU      
"RTN","ONCOHICD",53,0)
 ;;94813^94413 ;GIANT CELL GLIOBLASTOMA
"RTN","ONCOHICD",54,0)
 ;;94812^94412 ;GIANT CELL GLIOBLASTOMA IN SITU      
"RTN","ONCOHICD",55,0)
 ;;95360^91501 ;HEMANGIOPERICYTOMA, NOS      
"RTN","ONCOHICD",56,0)
 ;;95923^95913 ;MALIGNANT LYMPHOMA, NON-HODGKIN, NOS
"RTN","ONCOHICD",57,0)
 ;;95933^95913 ;MALIGNANT LYMPHOMA, NON-HODGKIN, NOS
"RTN","ONCOHICD",58,0)
 ;;95943^95903 ;MALIGNANT LYMPHOMA, NOS
"RTN","ONCOHICD",59,0)
 ;;95953^95913 ;MALIGNANT LYMPHOMA, NON-HODGKIN, NOS
"RTN","ONCOHICD",60,0)
 ;;96573^96513 ;HODGKIN LYMPHOMA, LYMPHOCYTE-RICH
"RTN","ONCOHICD",61,0)
 ;;96583^96513 ;HODGKIN LYMPHOMA, LYMPHOCYTE-RICH
"RTN","ONCOHICD",62,0)
 ;;96603^96593 ;HODGKIN LYMPHOMA, NODULAR LYMPHOCYTE PREDOMIN
"RTN","ONCOHICD",63,0)
 ;;96663^96653 ;HODGKIN LYMPHOMA, NODULAR SCLEROSIS, GRADE 1
"RTN","ONCOHICD",64,0)
 ;;96723^95913 ;MALIGNANT LYMPHOMA, NON-HODGKIN, NOS
"RTN","ONCOHICD",65,0)
 ;;96743^96733 ;MANTLE CELL LYMPHOMA
"RTN","ONCOHICD",66,0)
 ;;96763^96753 ;MALIGNANT LYMPHOMA, MIXED SMALL/LARGE, DIFF
"RTN","ONCOHICD",67,0)
 ;;96773^96733 ;MANTLE CELL LYMPHOMA
"RTN","ONCOHICD",68,0)
 ;;96813^96803 ;MALIGNANT LYMPHOMA, LRGE B-CELL, DIFFUSE, NOS
"RTN","ONCOHICD",69,0)
 ;;96823^96803 ;MALIGNANT LYMPHOMA, LRGE B-CELL, DIFFUSE, NOS
"RTN","ONCOHICD",70,0)
 ;;96833^96803 ;MALIGNANT LYMPHOMA, LRGE B-CELL, DIFFUSE, NOS
"RTN","ONCOHICD",71,0)
 ;;96853^97273 ;PRECURSOR CELL LYMPHOBLASTIC LYMPHOMA, NOS
"RTN","ONCOHICD",72,0)
 ;;96863^95913 ;MALIGNANT LYMPHOMA, NON-HODGKIN, NOS
"RTN","ONCOHICD",73,0)
 ;;96883^96803 ;MALIGNANT LYMPHOMA, LRGE B-CELL, DIFFUSE, NOS
"RTN","ONCOHICD",74,0)
 ;;96923^96903 ;FOLLICULAR LYMPHOMA, NOS
"RTN","ONCOHICD",75,0)
 ;;96933^96983 ;FOLLICULAR LYMPHOMA, GRADE 3
"RTN","ONCOHICD",76,0)
 ;;96943^95913 ;MALIGNANT LYMPHOMA, NON-HODGKIN, NOS
"RTN","ONCOHICD",77,0)
 ;;96963^96953 ;FOLLICULAR LYMPHOMA, GRADE 1
"RTN","ONCOHICD",78,0)
 ;;96973^96983 ;FOLLICULAR LYMPHOMA, GRADE 3
"RTN","ONCOHICD",79,0)
 ;;97033^97023 ;MATURE T-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",80,0)
 ;;97043^97023 ;MATURE T-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",81,0)
 ;;97063^97023 ;MATURE T-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",82,0)
 ;;97073^97023 ;MATURE T-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",83,0)
 ;;97103^96993 ;MARGINAL ZONE B-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",84,0)
 ;;97113^96993 ;MARGINAL ZONE B-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",85,0)
 ;;97123^96803 ;MALIGNANT LYMPHOMA, LRGE B-CELL, DIFFUSE, NOS
"RTN","ONCOHICD",86,0)
 ;;97133^97193 ;NK/T-CELL LYMPHOMA, NASAL AND NASAL-TYPE
"RTN","ONCOHICD",87,0)
 ;;97153^96993 ;MARGINAL ZONE B-CELL LYMPHOMA, NOS
"RTN","ONCOHICD",88,0)
 ;;97203^97503 ;MALIGNANT HISTIOCYTOSIS
"RTN","ONCOHICD",89,0)
 ;;97223^97543 ;LANGERHANS CELL HISTIOCYTOSIS, DISSEMINATED
"RTN","ONCOHICD",90,0)
 ;;97233^97553 ;HISTIOCYTIC SARCOMA
"RTN","ONCOHICD",91,0)
 ;;97633^97623 ;HEAVY CHAIN DISEASE, NOS
"RTN","ONCOHICD",92,0)
 ;;98023^98003 ;LEUKEMIA, NOS
"RTN","ONCOHICD",93,0)
 ;;98033^98003 ;LEUKEMIA, NOS
"RTN","ONCOHICD",94,0)
 ;;98043^98003 ;LEUKEMIA, NOS
"RTN","ONCOHICD",95,0)
 ;;98213^98353 ;PRECURSOR CELL LYMPHOBLASTIC LEUKEMIA, NOS
"RTN","ONCOHICD",96,0)
 ;;98223^98203 ;LYMPHOID LEUKEMIA, NOS
"RTN","ONCOHICD",97,0)
 ;;98243^98203 ;LYMPHOID LEUKEMIA, NOS
"RTN","ONCOHICD",98,0)
 ;;98253^98323 ;PROLYMPHOCYTIC LEUKEMIA, NOS
"RTN","ONCOHICD",99,0)
 ;;98283^98353 ;PRECURSOR CELL LYMPHOBLASTIC LEUKEMIA, NOS
"RTN","ONCOHICD",100,0)
 ;;98303^97333 ;PLASMA CELL LEUKEMIA
"RTN","ONCOHICD",101,0)
 ;;98413^98403 ;ACUTE MYELOID LEUKEMIA, M6 TYPE
"RTN","ONCOHICD",102,0)
 ;;98423^99503 ;POLYCYTHEMIA VERA
"RTN","ONCOHICD",103,0)
 ;;98503^98203 ;LYMPHOID LEUKEMIA, NOS
"RTN","ONCOHICD",104,0)
 ;;98623^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",105,0)
 ;;98643^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",106,0)
 ;;98653^98743 ;ACUTE MYELOID LEUKEMIA WITH MATURATION
"RTN","ONCOHICD",107,0)
 ;;98683^99453 ;CHRONIC MYELOMONOCYTIC LEUKEMIA, NOS
"RTN","ONCOHICD",108,0)
 ;;98693^98723 ;ACUTE MYELOID LEUKEMIA, MINIMAL DIFF
"RTN","ONCOHICD",109,0)
 ;;98803^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",110,0)
 ;;98903^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",111,0)
 ;;98923^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",112,0)
 ;;98933^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",113,0)
 ;;98943^98603 ;MYELOID LEUKEMIA, NOS
"RTN","ONCOHICD",114,0)
 ;;99003^97423 ;MAST CELL LEUKEMIA
"RTN","ONCOHICD",115,0)
 ;;99323^99313 ;ACUTE PANMYELOSIS WITH MYELOFIBROSIS
"RTN","ONCOHICD",116,0)
 ;;99413^99403 ;HAIRY CELL LEUKEMIA
"RTN","ONCOHICD",117,0)
 ;;99811^99803 ;REFRACTORY ANEMIA
"RTN","ONCOHICD",118,0)
 ;;89311^89313 ;ENDOMETRIAL STROMAL SARCOMA, LOW GRADE
"RTN","ONCOHICD",119,0)
 ;;93931^93933 ;PAPILLARY EPENDYMOMA
"RTN","ONCOHICD",120,0)
 ;;95381^95383 ;PAPILLARY MENINGIOMA
"RTN","ONCOHICD",121,0)
 ;;99501^99503 ;POLYCYTHEMIA VERA
"RTN","ONCOHICD",122,0)
 ;;99601^99603 ;CHRONIC MYELOPROLIFERATIVE DISEASE, NOS
"RTN","ONCOHICD",123,0)
 ;;99611^99613 ;MYELOSCLEROSIS WITH MYELOID METAPLASIA
"RTN","ONCOHICD",124,0)
 ;;99621^99623 ;ESSENTIAL THROMBOCYTHEMIA
"RTN","ONCOHICD",125,0)
 ;;99801^99803 ;REFRACTORY ANEMIA
"RTN","ONCOHICD",126,0)
 ;;99821^99823 ;REFRACTORY ANEMIA WITH SIDEROBLASTS
"RTN","ONCOHICD",127,0)
 ;;99831^99833 ;REFRACTORY ANEMIA WITH EXCESS BLASTS
"RTN","ONCOHICD",128,0)
 ;;99841^99843 ;REFRACTORY ANEMIA W EXCESS BLASTS IN TRANS
"RTN","ONCOHICD",129,0)
 ;;99891^99893 ;MYELODYSPLASTIC SYNDROME, NOS
"RTN","ONCOHICD",130,0)
 ;;84423^84421 ;SEROUS CYSTADENOMA, BORDERLINE
"RTN","ONCOHICD",131,0)
 ;;84513^84511 ;PAPILLARY CYSTADENOMA, BORDERLINE
"RTN","ONCOHICD",132,0)
 ;;84623^84621 ;SEROUS PAPILLARY CYSTIC TUMOR, BORDERLINE
"RTN","ONCOHICD",133,0)
 ;;84723^84721 ;MUCINOUS CYSTIC TUMOR, BORDERLINE
"RTN","ONCOHICD",134,0)
 ;;84733^84731 ;PAPILLARY MUCINOUS CYSTADENOMA, BORDERLINE
"RTN","ONCOHICD",135,0)
 ;;94213^94211 ;PILOCYTIC ASTROCYTOMA *** SEE APPENDIX E      
"RTN","ONCOHICD",136,0)
 ;;81200^81201 ;UROTHELIAL PAPILLOMA, NOS
"RTN","ONCOHICD",137,0)
 ;;81520^81521 ;GLUCAGONOMA, NOS
"RTN","ONCOHICD",138,0)
 ;;86400^86401 ;SERTOLI CELL TUMOR, NOS
"RTN","ONCOHICD",139,0)
 ;;95060^95061 ;CENTRAL NEUROCYTOMA
"RTN","ONCOHICD",140,0)
 ;;82611^82610 ;VILLOUS ADENOMA, NOS
"RTN","ONCOHICD",141,0)
 ;;83611^83610 ;JUXTAGLOMERULAR TUMOR
"RTN","ONCOHICD",142,0)
 ;;88231^88230 ;DESMOPLASTIC FIBROMA
"RTN","ONCOHICD",143,0)
 ;;90801^90800 ;MATURE TERATOMA
"RTN","ONCOIT")
0^208^B37213574
"RTN","ONCOIT",1,0)
ONCOIT ;Hines OIFO/GWB - Miscellaneous Input Transforms ;7/10/96
"RTN","ONCOIT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOIT",3,0)
 ;
"RTN","ONCOIT",4,0)
NP ;NO PUNCTUATION
"RTN","ONCOIT",5,0)
 ;PATIENT ADDRESS AT DX (165.5,8)
"RTN","ONCOIT",6,0)
 ;CITY/TOWN AT DX       (165.5,8.1)
"RTN","ONCOIT",7,0)
 ;POSTAL CODE AT DX     (165.5,9) 
"RTN","ONCOIT",8,0)
 S X1=$$STRIP^XLFSTR(X,"!""""#$%&'()*+,-./:;<=>?[>]^_\{|}~`")
"RTN","ONCOIT",9,0)
 I X'=X1 K X  W "  Punctuation not allowed" K X1 Q
"RTN","ONCOIT",10,0)
 S X1=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCOIT",11,0)
 I X'=X1 K X  W "  Lowercase text not allowed" K X1 Q
"RTN","ONCOIT",12,0)
 Q
"RTN","ONCOIT",13,0)
 ;
"RTN","ONCOIT",14,0)
RNEIT ;REGIONAL NODES EXAMINED (165.5,33)
"RTN","ONCOIT",15,0)
 I (X=91)!(X=92)!(X=93)!(X=94) K X Q
"RTN","ONCOIT",16,0)
 S DXDT=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOIT",17,0)
 I DXDT<2980000 D
"RTN","ONCOIT",18,0)
 .I X=0 W "  No nodes examined" Q
"RTN","ONCOIT",19,0)
 .I X=97 W "  97 or more nodes examined" Q
"RTN","ONCOIT",20,0)
 .I X=98 W "  Nodes examined, # not specified" Q
"RTN","ONCOIT",21,0)
 .I X=99 W "  Unknown if nodes examined, NA" Q
"RTN","ONCOIT",22,0)
 I DXDT>2971231 D
"RTN","ONCOIT",23,0)
 .I X=0 W "  No nodes examined" Q
"RTN","ONCOIT",24,0)
 .I X=90 W "  90 or more nodes examined" Q
"RTN","ONCOIT",25,0)
 .I X=95 W "  No nodes removed, aspiration performed" Q
"RTN","ONCOIT",26,0)
 .I X=96 W "  Node removal as sampling, # unknown" Q
"RTN","ONCOIT",27,0)
 .I X=97 W "  Node removal as dissection, # unknown" Q
"RTN","ONCOIT",28,0)
 .I X=98 W "  Nodes surgically removed, # unknown" Q
"RTN","ONCOIT",29,0)
 .I X=99 W "  Unknown, NA or -, not stated" Q
"RTN","ONCOIT",30,0)
 Q
"RTN","ONCOIT",31,0)
 ;
"RTN","ONCOIT",32,0)
RNPIT ;REGIONAL LYMPH NODES POSITIVE (165.5,32)
"RTN","ONCOIT",33,0)
 I (X=91)!(X=92)!(X=93)!(X=94)!(X=96) W "  Invalid value" K X Q
"RTN","ONCOIT",34,0)
 I X=0 W "  All nodes examined are negative" Q
"RTN","ONCOIT",35,0)
 I X=90 W "  90 or more nodes are positive" Q
"RTN","ONCOIT",36,0)
 I X=95 W "  Positive aspiration was performed" Q
"RTN","ONCOIT",37,0)
 I X=97 W "  Positive nodes, # not specified" Q
"RTN","ONCOIT",38,0)
 I X=98 W "  No nodes were examined" Q
"RTN","ONCOIT",39,0)
 I X=99 W "  Unknown if nodes +, NA, not stated" Q
"RTN","ONCOIT",40,0)
 Q
"RTN","ONCOIT",41,0)
 ;
"RTN","ONCOIT",42,0)
BP ;BIOPSY PROCEDURE (165.5,141)
"RTN","ONCOIT",43,0)
 S XCODE=X
"RTN","ONCOIT",44,0)
 D BPGUCHK^ONCOTNE
"RTN","ONCOIT",45,0)
 I BPSITE="" K X Q
"RTN","ONCOIT",46,0)
 S FOUND=0
"RTN","ONCOIT",47,0)
 F XBP=0:0 S XBP=$O(^ONCO(164,BPSITE,"BP5",XBP)) Q:XBP'>0!(FOUND=1)  D
"RTN","ONCOIT",48,0)
 .I $P(^ONCO(164,BPSITE,"BP5",XBP,0),U,2)=X S X=XBP,FOUND=1 Q
"RTN","ONCOIT",49,0)
 I FOUND=0 K X Q
"RTN","ONCOIT",50,0)
 D EN^DDIOL($P(^ONCO(164,BPSITE,"BP5",X,0),U,1))
"RTN","ONCOIT",51,0)
 K FOUND,XBP Q
"RTN","ONCOIT",52,0)
 ;
"RTN","ONCOIT",53,0)
RDIT ;REGIONAL DOSE:cGy (165.5,442)
"RTN","ONCOIT",54,0)
 I X'?1.5N K X Q
"RTN","ONCOIT",55,0)
 D NUMIT
"RTN","ONCOIT",56,0)
 I +X=0 W "  No radiation administered"
"RTN","ONCOIT",57,0)
 I +X=88888 W "  NA, brachytherapy/radioisotopes administered"
"RTN","ONCOIT",58,0)
 I X=99999 W "  Dose unknown/unknown if administered"
"RTN","ONCOIT",59,0)
 Q
"RTN","ONCOIT",60,0)
 ;
"RTN","ONCOIT",61,0)
 ;1998 Prostate Cancer Study 
"RTN","ONCOIT",62,0)
 ;
"RTN","ONCOIT",63,0)
PSA ;Item 14. Results of Most Recent Pre-Treatment Prostate Specific
"RTN","ONCOIT",64,0)
 ;         Antigen (PSA) Test
"RTN","ONCOIT",65,0)
 ;RESULTS OF PSA TEST (PR98) (165.5,684)
"RTN","ONCOIT",66,0)
 I X'?1.3N&(X'?0.3N1"."1N) K X Q
"RTN","ONCOIT",67,0)
 I X'["." S X=X_".0"
"RTN","ONCOIT",68,0)
 I $P(X,".",1)="" S X="000"_X
"RTN","ONCOIT",69,0)
 I $L($P(X,".",1))=1 S X="00"_X
"RTN","ONCOIT",70,0)
 I $L($P(X,".",1))=2 S X="0"_X
"RTN","ONCOIT",71,0)
        Q
"RTN","ONCOIT",72,0)
 ;
"RTN","ONCOIT",73,0)
LP25 ;Item 25. Gleason's Score for Biopsy, Local Resection, or Simple
"RTN","ONCOIT",74,0)
 ;         Prostatectomy
"RTN","ONCOIT",75,0)
 ;LESSER PATTERN (02-40) (165.5,623.2)
"RTN","ONCOIT",76,0)
 I +X'=X!(X=6)!(X=7)!(X=8)!($L(X)>1)!(X<0)!(X?.E1"."1N.N) K X Q
"RTN","ONCOIT",77,0)
 S PP=$P($G(^ONCO(165.5,D0,"PRO2")),U,43)
"RTN","ONCOIT",78,0)
 I PP>0,PP<6,(X=0)!(X=9) K X
"RTN","ONCOIT",79,0)
 K PP
"RTN","ONCOIT",80,0)
 Q
"RTN","ONCOIT",81,0)
 ;
"RTN","ONCOIT",82,0)
LP26 ;Item 26. Gleason's Score for Radical Prostatectomy
"RTN","ONCOIT",83,0)
 ;LESSER PATTERN (50-70) (165.5,623.5)
"RTN","ONCOIT",84,0)
 I +X'=X!(X=6)!(X=7)!(X=8)!($L(X)>1)!(X<0)!(X?.E1"."1N.N) K X Q
"RTN","ONCOIT",85,0)
 S PP=$P($G(^ONCO(165.5,D0,"PRO2")),U,46)
"RTN","ONCOIT",86,0)
 I PP>0,PP<6,(X=0)!(X=9) K X
"RTN","ONCOIT",87,0)
 K PP
"RTN","ONCOIT",88,0)
 Q
"RTN","ONCOIT",89,0)
 ;
"RTN","ONCOIT",90,0)
 ;2001 Gastric Cancers PCE Study
"RTN","ONCOIT",91,0)
 ;
"RTN","ONCOIT",92,0)
AC ;Item 3. Alcohol Consumption
"RTN","ONCOIT",93,0)
 ;GAS ALCOHOL COMSUMPTION (165.5,1501)
"RTN","ONCOIT",94,0)
 D NUMIT
"RTN","ONCOIT",95,0)
 I +X=0 W "  Never consumed alcohol"
"RTN","ONCOIT",96,0)
 I X=97 W "  97 or more drinks per week"
"RTN","ONCOIT",97,0)
 I X=98 W "  Yes, number of drinks unknown"
"RTN","ONCOIT",98,0)
 I X=99 W "  Not documented"
"RTN","ONCOIT",99,0)
 Q
"RTN","ONCOIT",100,0)
 ;
"RTN","ONCOIT",101,0)
LS ;Item 16. Laboratory Studies
"RTN","ONCOIT",102,0)
 ;GAS LDH (IU/L)               (165.5,1540)
"RTN","ONCOIT",103,0)
 ;GAS CEA (ng/ml)              (165.5,1541)
"RTN","ONCOIT",104,0)
 ;GAS CA125 (U/ml)             (165.5,1542)
"RTN","ONCOIT",105,0)
 ;GAS BETA2 MICROGLOBULIN      (165.5,1543)
"RTN","ONCOIT",106,0)
 ;GAS URINARY 5-HIAA (mg/24hr) (165.5,1544)
"RTN","ONCOIT",107,0)
 D FRACIT
"RTN","ONCOIT",108,0)
 I +X=0 W "  Test not administered"
"RTN","ONCOIT",109,0)
 I X=8888.8 W "  Test administered but results unknown"
"RTN","ONCOIT",110,0)
 I X=9999.9 W "  Not documented"
"RTN","ONCOIT",111,0)
 Q
"RTN","ONCOIT",112,0)
 ;
"RTN","ONCOIT",113,0)
IRTD ;Item 40. Intra-operative Radiation Therapy, Dose (cCy)
"RTN","ONCOIT",114,0)
 ;GAS INTRA-OPERATIVE RADIATION (165.5,1567)
"RTN","ONCOIT",115,0)
 D NUMIT
"RTN","ONCOIT",116,0)
 I +X=0 W "  Not administered"
"RTN","ONCOIT",117,0)
 I X=88888 W "  Administered, dose not documented"
"RTN","ONCOIT",118,0)
 I X=99999 W "  Not documented"
"RTN","ONCOIT",119,0)
 Q
"RTN","ONCOIT",120,0)
 ;
"RTN","ONCOIT",121,0)
 ;2001 Lung (NSCLC) Cancers PCE Study
"RTN","ONCOIT",122,0)
 ;
"RTN","ONCOIT",123,0)
PFT ;Item 7. Pulmonary Function Tests
"RTN","ONCOIT",124,0)
 ;LNG FVC (165.5,1407
"RTN","ONCOIT",125,0)
 ;LNG FEV (165.5,1407.1)
"RTN","ONCOIT",126,0)
 I $L($P(X,".",1))>ONCL K X Q
"RTN","ONCOIT",127,0)
 D FRACIT
"RTN","ONCOIT",128,0)
 I X="0.00" W "  Test not done" Q
"RTN","ONCOIT",129,0)
 I X=9.98 W "  Test done, results not documented" Q
"RTN","ONCOIT",130,0)
 I X=9.99 W "  Not documented if test performed" Q
"RTN","ONCOIT",131,0)
 Q
"RTN","ONCOIT",132,0)
 ;
"RTN","ONCOIT",133,0)
RE ;Item 9. Radiological Evaluation
"RTN","ONCOIT",134,0)
 ;LNG TUMOR SIZE (BONE SCAN)     (165.5,1409.4)
"RTN","ONCOIT",135,0)
 ;LNG NUM OF TUMORS (BONE SCAN)  (165.5,1409.5)
"RTN","ONCOIT",136,0)
 ;LNG TUMOR SIZE (CHEST CT)      (165.5,1410.4)
"RTN","ONCOIT",137,0)
 ;LNG NUM OF TUMORS (CHEST CT)   (165.5,1410.5)
"RTN","ONCOIT",138,0)
 ;LNG TUMOR SIZE (BRAIN CT)      (165.5,1411.4)
"RTN","ONCOIT",139,0)
 ;LNG NUM OF TUMORS (BRAIN CT)   (165.5,1411.5)
"RTN","ONCOIT",140,0)
 ;LNG TUMOR SIZE (CHEST MRI)     (165.5,1412.4)
"RTN","ONCOIT",141,0)
 ;LNG NUM OF TUMORS (CHEST MRI)  (165.5,1412.5)
"RTN","ONCOIT",142,0)
 ;LNG TUMOR SIZE (BRAIN MRI)     (165.5,1413.4)
"RTN","ONCOIT",143,0)
 ;LNG NUM OF TUMORS (BRAIN MRI)  (165.5,1413.5)
"RTN","ONCOIT",144,0)
 ;LNG TUMOR SIZE (PET SCAN)      (165.5,1414.4)
"RTN","ONCOIT",145,0)
 ;LNG NUM OF TUMORS (PET SCAN)   (165.5,1414.5)
"RTN","ONCOIT",146,0)
 ;LNG TUMOR SIZE (CHEST XRAY)    (165.5,1415.4)
"RTN","ONCOIT",147,0)
 ;LNG NUM OF TUMORS (CHEST XRAY) (165.5,1415.5)
"RTN","ONCOIT",148,0)
 D NUMIT
"RTN","ONCOIT",149,0)
 I +X=0 W "  Test not performed"
"RTN","ONCOIT",150,0)
 I X=999!(X=99) W "  Test performed, not documented"
"RTN","ONCOIT",151,0)
 Q
"RTN","ONCOIT",152,0)
 ;
"RTN","ONCOIT",153,0)
TPBR ;Item 17. Total Peri-Operative Blood Replacement
"RTN","ONCOIT",154,0)
 ;LNG PERI-OPERATIVE BLOOD REP (165.5,1420)
"RTN","ONCOIT",155,0)
 D NUMIT
"RTN","ONCOIT",156,0)
 I +X=0 W "  No transfusion performed"
"RTN","ONCOIT",157,0)
 I X=98 W "  Transfusion performed, units not documented"
"RTN","ONCOIT",158,0)
 I X=99 W "  Not recorded if transfusion done"
"RTN","ONCOIT",159,0)
 Q
"RTN","ONCOIT",160,0)
 ;
"RTN","ONCOIT",161,0)
 ;2001 Lung (NSCLC) Cancers PCE Study
"RTN","ONCOIT",162,0)
 ;2001 Gastric Cancers PCE Study
"RTN","ONCOIT",163,0)
 ;
"RTN","ONCOIT",164,0)
DTU ;Item 2. Duration of Tobacco Use
"RTN","ONCOIT",165,0)
 ;LNG DURATION OF TOBACCO USE (165.5,1401)
"RTN","ONCOIT",166,0)
 ;Item 4. Duration of Tobacco Use
"RTN","ONCOIT",167,0)
 ;GAS DURATION OF TOBACCO USE (165.5,1572)
"RTN","ONCOIT",168,0)
 D NUMIT
"RTN","ONCOIT",169,0)
 I +X=0 W "  Never used tobacco"
"RTN","ONCOIT",170,0)
 I X=99 W "  Not documented"
"RTN","ONCOIT",171,0)
 Q
"RTN","ONCOIT",172,0)
 ;
"RTN","ONCOIT",173,0)
GYGR ;YEAR OF GASTRIC RESECTION I.T.
"RTN","ONCOIT",174,0)
 I +X=0 W "  No prior gastric resection"
"RTN","ONCOIT",175,0)
 I X=9999 W "  Not documented"
"RTN","ONCOIT",176,0)
 Q
"RTN","ONCOIT",177,0)
GTOBR ;GASTRIC TOTAL OPERATIVE BLOOD REPLACEMENT I.T.
"RTN","ONCOIT",178,0)
 I X="00" W " No transfusion"
"RTN","ONCOIT",179,0)
 I X="98" W " Transfusion, # of units not documented"
"RTN","ONCOIT",180,0)
 I X="99" W " Not recorded if transfusion done"
"RTN","ONCOIT",181,0)
 Q
"RTN","ONCOIT",182,0)
HVBT ;Item 16. Hct (Hematocrit) Values Before Transfusion
"RTN","ONCOIT",183,0)
 ;LNG HCT VAL BEFORE TRANSFUSION (165.5,1430)
"RTN","ONCOIT",184,0)
 ;Item 33. Hct (Hematocrit) Values Before Transfusion
"RTN","ONCOIT",185,0)
 ;GAS HCT VAL BEFORE TRANSFUSION (165.5,1562)
"RTN","ONCOIT",186,0)
 D FRACIT
"RTN","ONCOIT",187,0)
 I +X=0 W "  No transfusion"
"RTN","ONCOIT",188,0)
 I X=99.9 W "  Not documented"
"RTN","ONCOIT",189,0)
 Q
"RTN","ONCOIT",190,0)
 ;
"RTN","ONCOIT",191,0)
BD ;Item 23. Boost Dose (cCy)
"RTN","ONCOIT",192,0)
 ;LNG BOOST DOSE (cGy) (165.5,1422)
"RTN","ONCOIT",193,0)
 ;Item 39. Boost Dose (cCy)
"RTN","ONCOIT",194,0)
 ;GAS BOOST DOSE (cGy) (165.5,1575)
"RTN","ONCOIT",195,0)
 D NUMIT
"RTN","ONCOIT",196,0)
 I +X=0 W "  Not administered"
"RTN","ONCOIT",197,0)
 I X=99999 W "  Not documented"
"RTN","ONCOIT",198,0)
 Q
"RTN","ONCOIT",199,0)
 ;
"RTN","ONCOIT",200,0)
DMCM ;Item 12. Distance in Millimeters to Closest Margin
"RTN","ONCOIT",201,0)
 ;LNG PROXIMAL MARGIN (165.5,1429)
"RTN","ONCOIT",202,0)
 ;LNG DISTAL MARGIN   (165.5,1429.1)
"RTN","ONCOIT",203,0)
 D NUMIT
"RTN","ONCOIT",204,0)
 I +X=0 W "  No free margins"
"RTN","ONCOIT",205,0)
 I X=998 W "  NA, no surgery of primary site"
"RTN","ONCOIT",206,0)
 I X=999 W "  Unknown, not documented"
"RTN","ONCOIT",207,0)
 Q
"RTN","ONCOIT",208,0)
 ;
"RTN","ONCOIT",209,0)
EFM ;Item 30. Extent of Free Margin
"RTN","ONCOIT",210,0)
 ;GAS PROXIMAL MARGIN (165.5,1558)
"RTN","ONCOIT",211,0)
 ;GAS DISTAL MARGIN   (165.5,1558.1)
"RTN","ONCOIT",212,0)
 D NUMIT
"RTN","ONCOIT",213,0)
 I +X=0 W "  No free margins"
"RTN","ONCOIT",214,0)
 I X=999 W "  Not documented"
"RTN","ONCOIT",215,0)
 Q
"RTN","ONCOIT",216,0)
 ;
"RTN","ONCOIT",217,0)
NUMIT ;Pad with leading zeros
"RTN","ONCOIT",218,0)
 S ONCZZZ="000000000",ONCXLEN=$L(X) I ONCL=ONCXLEN Q
"RTN","ONCOIT",219,0)
 S ONCPNUM=ONCL-ONCXLEN,ONCPAD=$E(ONCZZZ,1,ONCPNUM),X=ONCPAD_X
"RTN","ONCOIT",220,0)
 K ONCZZZ,ONCXLEN,ONCPNUM,ONCPAD
"RTN","ONCOIT",221,0)
 Q
"RTN","ONCOIT",222,0)
 ;
"RTN","ONCOIT",223,0)
FRACIT ;Pad with leading zeros, 1 decimal place
"RTN","ONCOIT",224,0)
 I X[".",$P(X,".",2)="" S X=+X
"RTN","ONCOIT",225,0)
 S ONCZZZ="000000000",ONCNUM=$P(X,".",1),ONCFRAC=$P(X,".",2)
"RTN","ONCOIT",226,0)
 S ONCNLEN=$L(ONCNUM),ONCFLEN=$L(ONCFRAC)
"RTN","ONCOIT",227,0)
 S ONCNPD=ONCL-ONCNLEN,ONCFPD=ONCF-ONCFLEN
"RTN","ONCOIT",228,0)
 S ONCPADN=$E(ONCZZZ,1,ONCNPD),ONCPADF=$E(ONCZZZ,1,ONCFPD)
"RTN","ONCOIT",229,0)
 I ONCFRAC="" S ONCPADF="."_ONCPADF
"RTN","ONCOIT",230,0)
 S X=ONCPADN_X_ONCPADF
"RTN","ONCOIT",231,0)
 K ONCZZZ,ONCNUM,ONCFRAC,ONCNLEN,ONCFLEN,ONCNPD,ONCFPD,ONCPADN,ONCPADF
"RTN","ONCOIT",232,0)
 Q
"RTN","ONCOLRU")
0^209^B7113449
"RTN","ONCOLRU",1,0)
ONCOLRU ;Hines OIFO/GWB - LAB UTILITY ;8/21/93
"RTN","ONCOLRU",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOLRU",3,0)
 ;
"RTN","ONCOLRU",4,0)
D S %=$E(Y,4,5)*3
"RTN","ONCOLRU",5,0)
 S Y=$E("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC",%-2,%)_" "_$S($E(Y,6,7):$J(+$E(Y,6,7),2)_", ",1:"")_($E(Y,1,3)+1700)_$S(Y[".":"  "_$E(Y_0,9,10)_":"_$E(Y_"000",11,12),1:"")
"RTN","ONCOLRU",6,0)
 S:Y[1700 Y=""
"RTN","ONCOLRU",7,0)
 Q
"RTN","ONCOLRU",8,0)
 ;
"RTN","ONCOLRU",9,0)
SSN S SSN(2)=SSN
"RTN","ONCOLRU",10,0)
 I $L(DUZ("AG")),"NAFARMY"[DUZ("AG") S SSN=$S($L(SSN)<11:$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,10),1:$E(SSN,10,11)_"/"_$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,9)) S SSN(1)=$S($P(SSN,"-",3):$P(SSN,"-",3),1:$E(SSN,9,12)) Q
"RTN","ONCOLRU",11,0)
 S:$L(SSN)>8 SSN=$E(SSN,1,3)_"-"_$E(SSN,4,5)_"-"_$E(SSN,6,99)
"RTN","ONCOLRU",12,0)
 S SSN(1)=$S($P(SSN,"-",3):$P(SSN,"-",3),1:"????") S:'$L(SSN) SSN="?" Q
"RTN","ONCOLRU",13,0)
 ;
"RTN","ONCOLRU",14,0)
B ;Start Date/Go to Date
"RTN","ONCOLRU",15,0)
 S Y=$P(^ONCO(160.1,OSP,0),U,5)
"RTN","ONCOLRU",16,0)
 I Y="" S Y=DT
"RTN","ONCOLRU",17,0)
 S Y=$E(Y,4,5)_"-"_$E(Y,6,7)_"-"_($E(Y,1,3)+1700)
"RTN","ONCOLRU",18,0)
 S %DT="AEX",%DT(0)="-"_DT,%DT("A")="Start Date: ",%DT("B")=Y
"RTN","ONCOLRU",19,0)
 D ^%DT K %DT
"RTN","ONCOLRU",20,0)
 Q:Y<1  S LRSDT=Y
"RTN","ONCOLRU",21,0)
 S %DT="AEX",%DT(0)="-"_DT,%DT("A")="Go to Date: ",%DT("B")="TODAY"
"RTN","ONCOLRU",22,0)
 D ^%DT K %DT
"RTN","ONCOLRU",23,0)
 Q:Y<1  S LRLDT=Y I LRSDT>LRLDT S X=LRSDT,LRSDT=LRLDT,LRLDT=X
"RTN","ONCOLRU",24,0)
 S $P(^ONCO(160.1,OSP,0),U,5)=LRLDT
"RTN","ONCOLRU",25,0)
 S Y=LRSDT D D S LRSTR=Y,Y=LRLDT D D S LRLST=Y Q
"RTN","ONCOLRU",26,0)
 ;
"RTN","ONCOLRU",27,0)
 ;
"RTN","ONCOLRU",28,0)
V K A,B,C,D,DEF,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,V,W,X,Y,Z
"RTN","ONCOLRU",29,0)
 K AGE,DOB,PNM,POP,SEX
"RTN","ONCOLRU",30,0)
 K DIC,DIE,DR,DFN,DIWF,D0,DQ,DA,DX,DE,DG
"RTN","ONCOLRU",31,0)
 K %Y,%X
"RTN","ONCOLRU",32,0)
 K ZTSK,ZTRTN,ZTSAVE,ZTDESC
"RTN","ONCOLRU",33,0)
 K LRWHO,LRSDT,LRLDT,LRSTR,LRLST,LRXR,LRXREF,LRADM,LRADX,LRABV,LRAWRD
"RTN","ONCOLRU",34,0)
 K LRAX,LRAD,LRDPAF,LRFNAM,LRMD,LRPF,LRPFN,LRSVC,LRID,LRAP,LRSAV,LREP
"RTN","ONCOLRU",35,0)
 K LRDTI,LRODT,LRSN,LRBL,LRCPT,LRFND,LRPPT,LRIDT,LRPMD,LRRMD,LR,LRA,LRB
"RTN","ONCOLRU",36,0)
 K LRC,LRD,LRE,LRF,LRG,LRH,LRI,LRJ,LRK,LRL,LRM,LRN,LRO,LRP,LRQ,LRR,LRS
"RTN","ONCOLRU",37,0)
 K LRT,LRU,LRV,LRW,LRX,LRY,LRZ,LRAU,LRFLN,LRLIDT,LRND,LRST,LRTK,LRWW
"RTN","ONCOLRU",38,0)
 K LRAC,DIWL,DIWR,DIWF,LROLLOC,LRCAPLOC,LRDFN,LRSF,LR,LRAN,LRAA,LRSOP
"RTN","ONCOLRU",39,0)
 K LROPT,LRRH,SSN,LRLLOC,LRDPF,LREND,LREXP,LRTOD,LRABO,LRPABO,LRPRH,LRSS
"RTN","ONCOLRU",40,0)
 K LRCS,LRRC,LRSIT,LRWHN,LRSA,LRIFN,LRBLT
"RTN","ONCOLRU",41,0)
 K ^TMP($J),^TMP("LRBL",$J)
"RTN","ONCOLRU",42,0)
 Q
"RTN","ONCOMNI")
0^210^B57056639
"RTN","ONCOMNI",1,0)
ONCOMNI ;Hines OIFO/GWB - MISCELLANEOUS ;12/10/99
"RTN","ONCOMNI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOMNI",3,0)
 ;
"RTN","ONCOMNI",4,0)
 ;D SETUP^ONCOES
"RTN","ONCOMNI",5,0)
 ;S NAME=$P(@ONCOX1,U,1),FNMI=$P(NAME,",",2),MNI=$P(FNMI," ",2)
"RTN","ONCOMNI",6,0)
 ;I (MNI="JR")!(MNI="JR.")!(MNI="SR")!(MNI="SR.")!(MNI="MD")!(MNI="MD.")!(MNI="NMN")!(MNI="NMN.")!(MNI="NMI")!(MNI="NMI.")!(MNI="II")!(MNI="III")!(MNI="IV") S MNI=""
"RTN","ONCOMNI",7,0)
 ;I $L(MNI)=2,$E(MNI,2)="." S MNI=$E(MNI,1)
"RTN","ONCOMNI",8,0)
 ;S X=$E(MNI,1,14)
"RTN","ONCOMNI",9,0)
 ;K ONCON,ONCOX,ONCOX1,NAME,FNMI,MNI
"RTN","ONCOMNI",10,0)
 Q
"RTN","ONCOMNI",11,0)
CHFPS ;CALCULATE VALUE OF FIELD #803 (CANCER HISTORY-1ST PRIMARY SITE)
"RTN","ONCOMNI",12,0)
 I $P($G(^ONCO(165.5,D0,"NHL1")),U,4)'="" S X="" Q
"RTN","ONCOMNI",13,0)
 S CHFSNM=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOMNI",14,0)
 S X="C88.8",CHFSFLG=0
"RTN","ONCOMNI",15,0)
 S CHFS="" F  S CHFS=$O(^ONCO(165.5,"C",CHFSNM,CHFS)) Q:CHFS'>""!(CHFSFLG>0)  I $$DIV^ONCFUNC(CHFS)=DUZ(2) D
"RTN","ONCOMNI",16,0)
 .I CHFS=D0 Q
"RTN","ONCOMNI",17,0)
 .S CHFSFLG=CHFSFLG+1,TPX=$P($G(^ONCO(165.5,CHFS,2)),U,1) S:TPX'="" TPX=$G(^ONCO(164,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",18,0)
 K CHFS,CHFSFLG,CHFSNM,TPX Q
"RTN","ONCOMNI",19,0)
CHFPH ;CALCULATE VALUE OF FIELD #804 (CANCER HISTORY-1ST PRIMARY HISTOLOGY)
"RTN","ONCOMNI",20,0)
 I $P($G(^ONCO(165.5,D0,"NHL1")),U,5)'="" S X="" Q
"RTN","ONCOMNI",21,0)
 S CHFHNM=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOMNI",22,0)
 S X="8888/8",CHFHFLG=0
"RTN","ONCOMNI",23,0)
 S CHFH="" F  S CHFH=$O(^ONCO(165.5,"C",CHFHNM,CHFH)) Q:CHFH'>""!(CHFHFLG>0)  I $$DIV^ONCFUNC(CHFH)=DUZ(2) D
"RTN","ONCOMNI",24,0)
 .I CHFH=D0 Q
"RTN","ONCOMNI",25,0)
 .S CHFHFLG=CHFHFLG+1,TPX=$$HIST^ONCFUNC(CHFH,.HSTFLD,.HISTNAM,.ICDFILE) S:TPX'="" TPX=$G(^ONCO(ICDFILE,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",26,0)
 K CHFH,CHFHFLG,CHFHNM,HISTNAM,HSTFLD,ICDFILE,TPX Q
"RTN","ONCOMNI",27,0)
 ;
"RTN","ONCOMNI",28,0)
CHSPS ;CALCULATE VALUE OF FIELD #805 (CANCER HISTORY-2ND PRIMARY SITE)
"RTN","ONCOMNI",29,0)
 I $P($G(^ONCO(165.5,D0,"NHL1")),U,6)'="" S X="" Q
"RTN","ONCOMNI",30,0)
 S CHSSNM=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOMNI",31,0)
 S X="C88.8",CHSSFLG=0
"RTN","ONCOMNI",32,0)
 S CHSS="" F  S CHSS=$O(^ONCO(165.5,"C",CHSSNM,CHSS)) Q:CHSS'>""!(CHSSFLG>1)  I $$DIV^ONCFUNC(CHSS)=DUZ(2) D
"RTN","ONCOMNI",33,0)
 .I CHSS=D0 Q
"RTN","ONCOMNI",34,0)
 .I CHSSFLG=0 S CHSSFLG=CHSSFLG+1 Q
"RTN","ONCOMNI",35,0)
 .S CHSSFLG=CHSSFLG+1,TPX=$P($G(^ONCO(165.5,CHSS,2)),U,1) S:TPX'="" TPX=$G(^ONCO(164,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",36,0)
 K CHSS,CHSSFLG,CHSSNM,TPX Q
"RTN","ONCOMNI",37,0)
CHSPH ;CALCULATE VALUE OF FIELD #806 (CANCER HISTORY-2ND PRIMARY HISTOLOGY)
"RTN","ONCOMNI",38,0)
 I $P($G(^ONCO(165.5,D0,"NHL1")),U,7)'="" S X="" Q
"RTN","ONCOMNI",39,0)
 S CHSHNM=$P($G(^ONCO(165.5,D0,0)),U,2)
"RTN","ONCOMNI",40,0)
 S X="8888/8",CHSHFLG=0
"RTN","ONCOMNI",41,0)
 S CHSH="" F  S CHSH=$O(^ONCO(165.5,"C",CHSHNM,CHSH)) Q:CHSH'>""!(CHSHFLG>1)  I $$DIV^ONCFUNC(CHSH)=DUZ(2) D
"RTN","ONCOMNI",42,0)
 .I CHSH=D0 Q
"RTN","ONCOMNI",43,0)
 .I CHSHFLG=0 S CHSHFLG=CHSHFLG+1 Q
"RTN","ONCOMNI",44,0)
 .S CHSHFLG=CHSHFLG+1,TPX=$$HIST^ONCFUNC(CHSH,.HSTFLD,.HISTNAM,.ICDFILE) S:TPX'="" TPX=$G(^ONCO(ICDFILE,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",45,0)
 K CHSH,CHSHFLG,CHSHNM,TPX Q
"RTN","ONCOMNI",46,0)
ARCHHLP ;AIDS RISK CATEGORY FOR HIV POSITIVE PATIENT (#822) HELP
"RTN","ONCOMNI",47,0)
 W !?5,"Choose from the following codes:",!
"RTN","ONCOMNI",48,0)
 W !?8,"0  Not HIV positive"
"RTN","ONCOMNI",49,0)
 W !?8,"1  No known risk category"
"RTN","ONCOMNI",50,0)
 W !?8,"2  Homosexual/Bisexual"
"RTN","ONCOMNI",51,0)
 W !?8,"3  IV drug user"
"RTN","ONCOMNI",52,0)
 W !?8,"4  Blood product recipient"
"RTN","ONCOMNI",53,0)
 W !?8,"5  Heterosexual transmission"
"RTN","ONCOMNI",54,0)
 W !?8,"6  Congenitally acquired"
"RTN","ONCOMNI",55,0)
 W !?8,"7  Multiple categories"
"RTN","ONCOMNI",56,0)
 W !?8,"8  Other/Unknown risk category"
"RTN","ONCOMNI",57,0)
 W !?8,"9  Unknown if HIV positive",!
"RTN","ONCOMNI",58,0)
 Q
"RTN","ONCOMNI",59,0)
ARCHP ;AIDS RISK CATEGORY FOR HIV POSITIVE PATIENT (#822) OUTPUT TRANSFORM
"RTN","ONCOMNI",60,0)
 I Y=0 S Y="Not HIV positive" Q
"RTN","ONCOMNI",61,0)
 I Y=1 S Y="No known risk category" Q
"RTN","ONCOMNI",62,0)
 I Y=2 S Y="Homosexual/Bisexual" Q
"RTN","ONCOMNI",63,0)
 I Y=3 S Y="IV drug user" Q
"RTN","ONCOMNI",64,0)
 I Y=4 S Y="Blood product recipient" Q
"RTN","ONCOMNI",65,0)
 I Y=5 S Y="Heterosexual transmission" Q
"RTN","ONCOMNI",66,0)
 I Y=6 S Y="Congenitally acquired" Q
"RTN","ONCOMNI",67,0)
 I Y=7 S Y="Multiple categories" Q
"RTN","ONCOMNI",68,0)
 I Y=8 S Y="Other/Unknown risk category" Q
"RTN","ONCOMNI",69,0)
 I Y=9 S Y="Unknown if HIV positive" Q
"RTN","ONCOMNI",70,0)
 Q
"RTN","ONCOMNI",71,0)
EXNSIT ;EXTRANODAL SITE 1,2,3 (FIELDS #852,#853,#854) INPUT TRANSFORM
"RTN","ONCOMNI",72,0)
 N CCD
"RTN","ONCOMNI",73,0)
 I X[U!(X="") K X Q
"RTN","ONCOMNI",74,0)
 I $L(X)<3 W *7,"  Must be at least 3 characters " K X Q
"RTN","ONCOMNI",75,0)
 I X=888!(X="C888")!(X=88.8)!(X="C88.8") S X="C888" W "  None" Q
"RTN","ONCOMNI",76,0)
 I X=999!(X="C999")!(X=99.9)!(X="C99.9") S X="C999" W "  Unknown" Q
"RTN","ONCOMNI",77,0)
 K DIC S DIC="^ONCO(164,",DIC(0)="EMQ" D ^DIC
"RTN","ONCOMNI",78,0)
 I Y<0 K X Q
"RTN","ONCOMNI",79,0)
 I +Y'<0 S CCD=$P($G(^ONCO(164,+Y,0)),U,2) S X=$E(CCD,1,3)_$E(CCD,5) Q
"RTN","ONCOMNI",80,0)
EXNSOT ;EXTRANODAL SITE 1,2,3 (FIELDS #852,#853,#854) OUTPUT TRANSFORM
"RTN","ONCOMNI",81,0)
 I Y="C888" S Y="None" Q
"RTN","ONCOMNI",82,0)
 I Y="C999" S Y="Unknown" Q
"RTN","ONCOMNI",83,0)
 S EXN=$E(Y,1,3)_"."_$E(Y,4)
"RTN","ONCOMNI",84,0)
 F TPG=0:0 S TPG=$O(^ONCO(164,TPG)) Q:TPG'>0  D
"RTN","ONCOMNI",85,0)
 .I EXN'=$P($G(^ONCO(164,TPG,0)),U,2) Q
"RTN","ONCOMNI",86,0)
 .S TPGNM=$P($G(^ONCO(164,TPG,0)),U,1),EXN=EXN_"  "_TPGNM Q
"RTN","ONCOMNI",87,0)
 S Y=EXN K EXN,TPG,TPGNM Q
"RTN","ONCOMNI",88,0)
XHP ;EXTRANODAL SITE 1,2,3 (FIELDS #852,#853,#854) EXECUTABLE HELP
"RTN","ONCOMNI",89,0)
 I X'="?",X'="??" Q
"RTN","ONCOMNI",90,0)
 K DIC S DIC="^ONCO(164,",DIC(0)="EMQ" D ^DIC Q
"RTN","ONCOMNI",91,0)
RCSIT ;RADIATION/CHEMOTHERAPY SEQUENCE (#862) INPUT TRANSFORM
"RTN","ONCOMNI",92,0)
 I X=0!(X=5)!(X=6) K X Q
"RTN","ONCOMNI",93,0)
 S Y=X D RCSOT W "  ",Y K Y
"RTN","ONCOMNI",94,0)
 Q
"RTN","ONCOMNI",95,0)
RCSOT ;RADIATION/CHEMOTHERAPY SEQUENCE (#862) OUTPUT TRANSFORM
"RTN","ONCOMNI",96,0)
 I Y=1 S Y="Radiation before chemotherapy"
"RTN","ONCOMNI",97,0)
 I Y=2 S Y="Chemotherapy before radiation"
"RTN","ONCOMNI",98,0)
 I Y=3 S Y="Chemotherapy before and after radiation"
"RTN","ONCOMNI",99,0)
 I Y=4 S Y="Radiation and chemotherapy concurrently"
"RTN","ONCOMNI",100,0)
 I Y=7 S Y="Unknown if radiation and/or chemo given"
"RTN","ONCOMNI",101,0)
 I Y=8 S Y="NA, no radiation and/or no chemo given"
"RTN","ONCOMNI",102,0)
 I Y=9 S Y="Sequence unknown"
"RTN","ONCOMNI",103,0)
 Q
"RTN","ONCOMNI",104,0)
RCSHP ;RADIATION/CHEMOTHERAPY SEQUENCE (#862) HELP
"RTN","ONCOMNI",105,0)
 N DTDX,FSDX
"RTN","ONCOMNI",106,0)
 W !,"  1  Radiation before chemotherapy"
"RTN","ONCOMNI",107,0)
 W !,"  2  Chemotherapy before radiation"
"RTN","ONCOMNI",108,0)
 W !,"  3  Chemotherapy before and after radiation"
"RTN","ONCOMNI",109,0)
 W !,"  4  Radiation and chemotherapy concurrently"
"RTN","ONCOMNI",110,0)
 W !,"  7  Unknown if radiation and/or chemo given"
"RTN","ONCOMNI",111,0)
 W !,"  8  NA, no radiation and/or no chemo given"
"RTN","ONCOMNI",112,0)
 W !,"  9  Sequence unknown",!
"RTN","ONCOMNI",113,0)
 Q
"RTN","ONCOMNI",114,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y K:Y<1 X K %DT
"RTN","ONCOMNI",115,0)
 I $D(X) S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16) I DTDX'="" K:X<DTDX X
"RTN","ONCOMNI",116,0)
FSC ;Calculate default for fields #1102,#1103
"RTN","ONCOMNI",117,0)
 ;I $P($G(^ONCO(165.5,D0,"MEL1")),U,3)'="" S X="" Q
"RTN","ONCOMNI",118,0)
 S PNM=$P($G(^ONCO(165.5,D0,0)),U,2),X="C88.8",FSDX="88/8888"
"RTN","ONCOMNI",119,0)
 S ST=0 F  S ST=$O(^ONCO(165.5,"C",PNM,ST)) Q:ST'>0  I $$DIV^ONCFUNC(ST)=DUZ(2) S LAST=ST
"RTN","ONCOMNI",120,0)
 I LAST'=D0 D
"RTN","ONCOMNI",121,0)
 .S Y=$P($G(^ONCO(165.5,LAST,0)),U,16) D CHDTOT^ONCOPCE S FSDX=Y
"RTN","ONCOMNI",122,0)
 .S TPX=$P($G(^ONCO(165.5,LAST,2)),U,1) I TPX="" Q
"RTN","ONCOMNI",123,0)
 .S TPX=$G(^ONCO(164,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",124,0)
 I LAST=D0 F  S LAST=$O(^ONCO(165.5,"C",PNM,LAST),-1) Q:LAST=""  I $$DIV^ONCFUNC(LAST)=DUZ(2) D  Q
"RTN","ONCOMNI",125,0)
 .S Y=$P($G(^ONCO(165.5,LAST,0)),U,16) D CHDTOT^ONCOPCE S FSDX=Y
"RTN","ONCOMNI",126,0)
 .S TPX=$P($G(^ONCO(165.5,LAST,2)),U,1) I TPX="" Q
"RTN","ONCOMNI",127,0)
 .S TPX=$G(^ONCO(164,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",128,0)
 K LAST,PNM,ST,TPX Q
"RTN","ONCOMNI",129,0)
SSC ;Calculate default for fields #1104,#1105
"RTN","ONCOMNI",130,0)
 S PNM=$P($G(^ONCO(165.5,D0,0)),U,2),X="C88.8",SSDX="88/8888",FLG=0
"RTN","ONCOMNI",131,0)
 S ST=0 F  S ST=$O(^ONCO(165.5,"C",PNM,ST)) Q:ST'>0  I $$DIV^ONCFUNC(ST)=DUZ(2) S LAST=ST
"RTN","ONCOMNI",132,0)
 I LAST'=D0 S FLG=FLG+1
"RTN","ONCOMNI",133,0)
 S SSC=LAST F  S SSC=$O(^ONCO(165.5,"C",PNM,SSC),-1) Q:SSC'>""!(FLG>1)  I $$DIV^ONCFUNC(SSC)=DUZ(2) D
"RTN","ONCOMNI",134,0)
 .I SSC=D0 Q
"RTN","ONCOMNI",135,0)
 .I FLG=0 S FLG=FLG+1 Q
"RTN","ONCOMNI",136,0)
 .S FLG=FLG+1
"RTN","ONCOMNI",137,0)
 .S Y=$P($G(^ONCO(165.5,SSC,0)),U,16) D CHDTOT^ONCOPCE S SSDX=Y
"RTN","ONCOMNI",138,0)
 .S TPX=$P($G(^ONCO(165.5,SSC,2)),U,1) S:TPX'="" TPX=$G(^ONCO(164,TPX,0)) S:TPX'="" X=$P(TPX,U,2) Q
"RTN","ONCOMNI",139,0)
 K FLG,LAST,PNM,SSC,SSDX,ST,TPX Q
"RTN","ONCOMNI",140,0)
 ;
"RTN","ONCOMNI",141,0)
NSNIT ;Number of Satellite Nodules (#1112)
"RTN","ONCOMNI",142,0)
 I X'?1.2N K X Q
"RTN","ONCOMNI",143,0)
 I X=0!(X="00") S X="00" W "  No satellite nodules"
"RTN","ONCOMNI",144,0)
 I X=96 W "  96 or more nodules"
"RTN","ONCOMNI",145,0)
 I X=97 W "  Satellite nodules, # unknown"
"RTN","ONCOMNI",146,0)
 I X=98 W "  NA, non-cutaneous melanoma"
"RTN","ONCOMNI",147,0)
 I X=99 W "  Unknown"
"RTN","ONCOMNI",148,0)
 S X=$S($L(X)=1:"0"_X,1:X)
"RTN","ONCOMNI",149,0)
 Q
"RTN","ONCOMNI",150,0)
NSNOT ;Number of Satellite Nodules (#1112)
"RTN","ONCOMNI",151,0)
 I Y="00" S Y="No satellite nodules" Q
"RTN","ONCOMNI",152,0)
 I Y=96 S Y="96 or more nodules" Q
"RTN","ONCOMNI",153,0)
 I Y=97 S Y="Satellite nodules, # unknown" Q
"RTN","ONCOMNI",154,0)
 I Y=98 S Y="NA, non-cutaneous melanoma" Q
"RTN","ONCOMNI",155,0)
 I Y=99 S Y="Unknown" Q
"RTN","ONCOMNI",156,0)
 S Y=$S(Y="01":Y_" nodule",1:Y_" nodules")
"RTN","ONCOMNI",157,0)
 Q
"RTN","ONCOMNI",158,0)
BTIT ;Breslow's Thickness (#1113)
"RTN","ONCOMNI",159,0)
 I X'?1.3N K X Q
"RTN","ONCOMNI",160,0)
 I X=997 W "  Cutaneous melanoma, thickness unk"
"RTN","ONCOMNI",161,0)
 I X=998 W "  NA, non-cutaneous melanoma"
"RTN","ONCOMNI",162,0)
 I X=999 W "  Primary site unknown"
"RTN","ONCOMNI",163,0)
 S X=$S($L(X)=1:"00"_X,$L(X)=2:"0"_X,1:X)
"RTN","ONCOMNI",164,0)
 Q
"RTN","ONCOMNI",165,0)
BTOT ;Breslow's Thickness (#1113)
"RTN","ONCOMNI",166,0)
 I Y=997 S Y="Cutaneous melanoma, thickness unk" Q
"RTN","ONCOMNI",167,0)
 I Y=998 S Y="NA, non-cutaneous melanoma" Q
"RTN","ONCOMNI",168,0)
 I Y=999 S Y="Primary site unknown" Q
"RTN","ONCOMNI",169,0)
 S Y=Y_" mm"
"RTN","ONCOMNI",170,0)
 Q
"RTN","ONCOMNI",171,0)
MDIT ;Margin Distance (#1120)
"RTN","ONCOMNI",172,0)
 I X'?1.3N K X Q
"RTN","ONCOMNI",173,0)
 I X=997 W "  Margins free, distance unknown"
"RTN","ONCOMNI",174,0)
 I X=998 W "  NA, surgery not performed"
"RTN","ONCOMNI",175,0)
 I X=999 W "  Unknown"
"RTN","ONCOMNI",176,0)
 S X=$S($L(X)=1:"00"_X,$L(X)=2:"0"_X,1:X)
"RTN","ONCOMNI",177,0)
 Q
"RTN","ONCOMNI",178,0)
MDOT ;Margin Distance (#1120)
"RTN","ONCOMNI",179,0)
 I Y=996 S Y=Y_"mm or more" Q
"RTN","ONCOMNI",180,0)
 I Y=997 S Y="Margins free, distance unknown" Q
"RTN","ONCOMNI",181,0)
 I Y=998 S Y="NA, surgery not performed" Q
"RTN","ONCOMNI",182,0)
 I Y=999 S Y="Unknown" Q
"RTN","ONCOMNI",183,0)
 S Y=Y_"mm"
"RTN","ONCOMNI",184,0)
 Q
"RTN","ONCOMNI",185,0)
 ;
"RTN","ONCOMNI",186,0)
SNPIT ;Sentinel Nodes Positive (#1125)
"RTN","ONCOMNI",187,0)
 N SNE
"RTN","ONCOMNI",188,0)
 I X=0!(X>6) Q
"RTN","ONCOMNI",189,0)
 S SNE=$P($G(^ONCO(165.5,D0,"MEL1")),U,25) I SNE=""!(SNE>5) Q
"RTN","ONCOMNI",190,0)
 I X>SNE W !,"     Sentinel Nodes Positive MUST be less than/equal Sentinel Nodes Examined! " K X Q
"RTN","ONCOMNI",191,0)
 Q
"RTN","ONCOMNI",192,0)
 ;
"RTN","ONCOMNI",193,0)
NBPIT ;Number of Basins Positive (#1129)
"RTN","ONCOMNI",194,0)
 N NBD
"RTN","ONCOMNI",195,0)
 I X=0!(X>6) Q
"RTN","ONCOMNI",196,0)
 S NBD=$P($G(^ONCO(165.5,D0,"MEL1")),U,29) I NBD=""!(NBD>5) Q
"RTN","ONCOMNI",197,0)
 I X>NBD W !,"     Number of Basins Positive MUST be less than/equal to Basins Detected! " K X Q
"RTN","ONCOMNI",198,0)
 Q
"RTN","ONCOOT")
0^211^B71002979
"RTN","ONCOOT",1,0)
ONCOOT ;HIRMFO/GWB - Miscellaneous Output Transforms ;7/10/96
"RTN","ONCOOT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOOT",3,0)
 ;
"RTN","ONCOOT",4,0)
RNE ;REGIONAL LYMPH NODES EXAMINED (165.5,33)
"RTN","ONCOOT",5,0)
 S DXDT=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOOT",6,0)
 I DXDT<2980000 D
"RTN","ONCOOT",7,0)
 .I Y=0 S Y="No nodes were examined" Q
"RTN","ONCOOT",8,0)
 .I (+Y>0)&(+Y<97) S:$L(Y)=1 Y=0_Y Q
"RTN","ONCOOT",9,0)
 .I Y=97 S Y="97 or more nodes examined" Q
"RTN","ONCOOT",10,0)
 .I Y=98 S Y="Nodes examined, # not specified" Q
"RTN","ONCOOT",11,0)
 .I Y=99 S Y="Unknown if nodes examined, NA" Q
"RTN","ONCOOT",12,0)
 I DXDT>2971231 D
"RTN","ONCOOT",13,0)
 .I Y=0 S Y="No nodes examined" Q
"RTN","ONCOOT",14,0)
 .I (+Y>0)&(+Y<90) S:$L(Y)=1 Y=0_Y Q
"RTN","ONCOOT",15,0)
 .I Y=90 S Y="90 or more nodes examined" Q
"RTN","ONCOOT",16,0)
 .I Y=95 S Y="No nodes removed, aspiration performed" Q
"RTN","ONCOOT",17,0)
 .I Y=96 S Y="Node removal as sampling, # unknown" Q
"RTN","ONCOOT",18,0)
 .I Y=97 S Y="Node removal as dissection, # unknown" Q
"RTN","ONCOOT",19,0)
 .I Y=98 S Y="Nodes surgically removed, # unknown" Q
"RTN","ONCOOT",20,0)
 .I Y=99 S Y="Unknown, NA or -, not stated" Q
"RTN","ONCOOT",21,0)
 Q
"RTN","ONCOOT",22,0)
 ;
"RTN","ONCOOT",23,0)
RNP ;REGIONAL LYMPH NODES POSITIVE (165.5,32)
"RTN","ONCOOT",24,0)
 I Y=0 S Y="All nodes examined are negative" Q
"RTN","ONCOOT",25,0)
 I (+Y>0)&(+Y<90) S:$L(Y)=1 Y=0_Y Q
"RTN","ONCOOT",26,0)
 I Y=90 S Y="90 or more nodes are positive" Q
"RTN","ONCOOT",27,0)
 I Y=95 S Y="95 Positive aspiration was performed" Q
"RTN","ONCOOT",28,0)
 I Y=97 S Y="Positive nodes, # not specified" Q
"RTN","ONCOOT",29,0)
 I Y=98 S Y="No nodes were examined" Q
"RTN","ONCOOT",30,0)
 I Y=99 S Y="Unknown if nodes +, NA, not stated" Q
"RTN","ONCOOT",31,0)
 Q
"RTN","ONCOOT",32,0)
 ;
"RTN","ONCOOT",33,0)
BP ;BIOPSY PROCEDURE (165.5,141)
"RTN","ONCOOT",34,0)
 Q:Y=""
"RTN","ONCOOT",35,0)
 D BPGUCHK^ONCOTNE
"RTN","ONCOOT",36,0)
 I BPSITE="" Q
"RTN","ONCOOT",37,0)
 S Y=$S($P($G(^ONCO(164,BPSITE,"BP5",Y,0)),U,1)'="":$P($G(^ONCO(164,BPSITE,"BP5",Y,0)),U,1),1:Y)
"RTN","ONCOOT",38,0)
 Q
"RTN","ONCOOT",39,0)
 ;
"RTN","ONCOOT",40,0)
 ;1998 Prostate Cancer Study 
"RTN","ONCOOT",41,0)
 ;
"RTN","ONCOOT",42,0)
PSA ;PSA (165.5,684)
"RTN","ONCOOT",43,0)
 I Y=999.6 S Y=Y_" or higher"
"RTN","ONCOOT",44,0)
 I Y=999.7 S Y="No PSA test performed"
"RTN","ONCOOT",45,0)
 I Y=999.8 S Y="Done, results unknown or not reported"
"RTN","ONCOOT",46,0)
 I Y=999.9 S Y="Unknown if test performed"
"RTN","ONCOOT",47,0)
 Q
"RTN","ONCOOT",48,0)
 ;
"RTN","ONCOOT",49,0)
DCISIT ;DCIS PRESENT (165.5,930) INPUT TRANSFORM
"RTN","ONCOOT",50,0)
 I X'?1N K X Q
"RTN","ONCOOT",51,0)
 I X=5!(X=6)!(X=7) K X Q
"RTN","ONCOOT",52,0)
 I X=0 D EN^DDIOL("  No, DCIS not present")
"RTN","ONCOOT",53,0)
 I X=1 D EN^DDIOL("  Yes, separate tumor")
"RTN","ONCOOT",54,0)
 I X=2 D EN^DDIOL("  Yes, mixed histology component")
"RTN","ONCOOT",55,0)
 I X=3 D EN^DDIOL("  Yes, separate tumor and mixed histology")
"RTN","ONCOOT",56,0)
 I X=4 D EN^DDIOL("  Yes, unk if separate tumor/mixed histology")
"RTN","ONCOOT",57,0)
 I X=8 D EN^DDIOL("  NA, reported tumor not invasive DC")
"RTN","ONCOOT",58,0)
 I X=9 D EN^DDIOL("  Unknown if DCIS present")
"RTN","ONCOOT",59,0)
 Q
"RTN","ONCOOT",60,0)
DCISOT ;DCIS PRESENT (165.5,930) OUTPUT TRANSFORM
"RTN","ONCOOT",61,0)
 I Y=0 S Y="No, DCIS not present"
"RTN","ONCOOT",62,0)
 I Y=1 S Y="Yes, separate tumor"
"RTN","ONCOOT",63,0)
 I Y=2 S Y="Yes, mixed histology component"
"RTN","ONCOOT",64,0)
 I Y=3 S Y="Yes, separate tumor and mixed histology"
"RTN","ONCOOT",65,0)
 I Y=4 S Y="Yes, unk if separate tumor/mixed histology"
"RTN","ONCOOT",66,0)
 I Y=8 S Y="NA, reported tumor not invasive DC"
"RTN","ONCOOT",67,0)
 I Y=9 S Y="Unknown if DCIS present"
"RTN","ONCOOT",68,0)
 Q
"RTN","ONCOOT",69,0)
DCISHP ;DCIS PRESENT (165.5,930) HELP
"RTN","ONCOOT",70,0)
 W !!?6,"Choose from:"
"RTN","ONCOOT",71,0)
 W !?8,"0     No, DCIS not present"
"RTN","ONCOOT",72,0)
 W !?8,"1     Yes, separate tumor"
"RTN","ONCOOT",73,0)
 W !?8,"2     Yes, mixed histology component"
"RTN","ONCOOT",74,0)
 W !?8,"3     Yes, separate tumor and mixed histology"
"RTN","ONCOOT",75,0)
 W !?8,"4     Yes, unk if separate tumor/mixed histology"
"RTN","ONCOOT",76,0)
 W !?8,"8     NA, reported tumor not invasive DC"
"RTN","ONCOOT",77,0)
 W !?8,"9     Unknown if DCIS present"
"RTN","ONCOOT",78,0)
 Q
"RTN","ONCOOT",79,0)
DCSZIT ;
"RTN","ONCOOT",80,0)
 I +X=0 D EN^DDIOL("  Invasive DC reported, DCIS not present")
"RTN","ONCOOT",81,0)
 I X="888" D EN^DDIOL("  NA, invasive DC not reported")
"RTN","ONCOOT",82,0)
 I X="988" D EN^DDIOL("  Invasive DC reported, DCIS present, size unknown")
"RTN","ONCOOT",83,0)
 I X="999" D EN^DDIOL("  Invasive DC reported, unknown if DCIS present")
"RTN","ONCOOT",84,0)
 Q
"RTN","ONCOOT",85,0)
DCSZOT ;
"RTN","ONCOOT",86,0)
 S Y=$S($L(Y)=1:"00"_Y,$L(Y)=2:"0"_Y,1:Y)
"RTN","ONCOOT",87,0)
 I Y="000" S Y="Invasive DC reported, DCIS not present"
"RTN","ONCOOT",88,0)
 I Y="888" S Y="NA, invasive DC not reported"
"RTN","ONCOOT",89,0)
 I Y="988" S Y="Invasive DC reported, DCIS present, size unknown"
"RTN","ONCOOT",90,0)
 I Y="999" S Y="Invasive DC reported, unknown if DCIS present"
"RTN","ONCOOT",91,0)
 Q
"RTN","ONCOOT",92,0)
CGYIT ;
"RTN","ONCOOT",93,0)
 I +X=0 D EN^DDIOL("  No radiation given")
"RTN","ONCOOT",94,0)
 I X=88888 D EN^DDIOL("  Radiation given, dose unknown")
"RTN","ONCOOT",95,0)
 I X=99999 D EN^DDIOL("  Unknown if radiation given")
"RTN","ONCOOT",96,0)
 Q
"RTN","ONCOOT",97,0)
CGYOT ;
"RTN","ONCOOT",98,0)
 S Y=$S($L(Y)=1:"0000"_Y,$L(Y)=2:"000"_Y,$L(Y)=3:"00"_Y,$L(Y)=4:"0"_Y,1:Y)
"RTN","ONCOOT",99,0)
 I Y="00000" S Y="No radiation given"
"RTN","ONCOOT",100,0)
 I Y=88888 S Y="Radiation given, dose unknown"
"RTN","ONCOOT",101,0)
 I Y=99999 S Y="Unknown if radiation given"
"RTN","ONCOOT",102,0)
 Q
"RTN","ONCOOT",103,0)
STIT ;Tumor Size (165.5,29)
"RTN","ONCOOT",104,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOOT",105,0)
 I '$D(X) Q
"RTN","ONCOOT",106,0)
 I (X>999)!(X<0) K X Q
"RTN","ONCOOT",107,0)
 I X="000" W "  No mass or tumor found" Q
"RTN","ONCOOT",108,0)
 I X=990 W "  Microscopic focus, no size given" Q
"RTN","ONCOOT",109,0)
 I X=999 W "  Unknown; not stated; NA" Q
"RTN","ONCOOT",110,0)
 I $$MELANOMA^ONCOU55(D0),TOP'=67691,TOP'=67692,TOP'=67693,TOP'=67694,TOP'=67698,TOP'=67699 D  Q
"RTN","ONCOOT",111,0)
 .I X=989 W "  Melanoma > or = 9.89 mm in depth" Q
"RTN","ONCOOT",112,0)
 .I X>9.89 W "  Use code 989 for melanomas > 9.89 mm in depth" K X Q
"RTN","ONCOOT",113,0)
 .I X?1N S X=X_"00" Q                               ;    1 -> 100
"RTN","ONCOOT",114,0)
 .I X?1P1N S X="0"_$P(X,".",2)_"0" Q                ;   .1 -> 010
"RTN","ONCOOT",115,0)
 .I X?1P2N S X="0"_$P(X,".",2) Q                    ;  .01 -> 001
"RTN","ONCOOT",116,0)
 .I X?1N1P1N S X=$P(X,".",1)_$P(X,".",2)_0 Q        ;  0.1 -> 010
"RTN","ONCOOT",117,0)
 .I X?1N1P2N S X=$P(X,".",1)_$P(X,".",2) Q          ; 0.01 -> 001
"RTN","ONCOOT",118,0)
 .I X?1N1P3N W "  Too many decimal places" K X Q    ;0.012
"RTN","ONCOOT",119,0)
 .K X
"RTN","ONCOOT",120,0)
 I X=989 W "  989 mm or larger" Q
"RTN","ONCOOT",121,0)
 I X["." W "  No decimal point allowed" K X Q
"RTN","ONCOOT",122,0)
 I X=998 D  Q
"RTN","ONCOOT",123,0)
 .I TOP="" W "  No PRIMARY SITE specified" K X Q
"RTN","ONCOOT",124,0)
 .I TOP>67149,TOP<67160 W "  Entire circumference" Q
"RTN","ONCOOT",125,0)
 .I TOP>67159,TOP<67170 W "  Diffuse; widespread; linitis plastica" Q
"RTN","ONCOOT",126,0)
 .I TOP>67179,TOP<67210 W "  Familial/multiple polyposis" Q
"RTN","ONCOOT",127,0)
 .I TOP>67339,TOP<67350 W "  Diffuse, entire lobe of lung" Q
"RTN","ONCOOT",128,0)
 .I TOP>67499,TOP<67510 W "  Diffuse; widespread; inflam carcinoma" Q
"RTN","ONCOOT",129,0)
 .W !
"RTN","ONCOOT",130,0)
 .W !," Code 998 may only be used with the following sites:"
"RTN","ONCOOT",131,0)
 .W !
"RTN","ONCOOT",132,0)
 .W !,"  Esophagus (C15.0-C15.9)"
"RTN","ONCOOT",133,0)
 .W !,"  Stomach (C16.0-C16.9)"
"RTN","ONCOOT",134,0)
 .W !,"  Colorectal (C18.0-C20.9)"
"RTN","ONCOOT",135,0)
 .W !,"  Lung (C34.0-C34.9)"
"RTN","ONCOOT",136,0)
 .W !,"  Breast (C50.0-C50.9)"
"RTN","ONCOOT",137,0)
 .W !
"RTN","ONCOOT",138,0)
 .K X
"RTN","ONCOOT",139,0)
 S X=$S($L(X)=1:"00"_X,$L(X)=2:"0"_X,1:X)
"RTN","ONCOOT",140,0)
 I X'?3N K X Q
"RTN","ONCOOT",141,0)
 I (X=991)!(X=992)!(X=993)!(X=994)!(X=995)!(X=996)!(X=997) K X
"RTN","ONCOOT",142,0)
 Q
"RTN","ONCOOT",143,0)
 ;
"RTN","ONCOOT",144,0)
STOT ;Size of Tumor (165.5,29)
"RTN","ONCOOT",145,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOOT",146,0)
 I Y="000" S Y="No mass or tumor found" Q
"RTN","ONCOOT",147,0)
 I Y=990 S Y="Microscopic focus, no size given" Q
"RTN","ONCOOT",148,0)
 I Y=999 S Y="Unknown; not stated; NA" Q
"RTN","ONCOOT",149,0)
 I $$MELANOMA^ONCOU55(D0),TOP'=67691,TOP'=67692,TOP'=67693,TOP'=67694,TOP'=67698,TOP'=67699,Y=989 D  Q
"RTN","ONCOOT",150,0)
 .S Y="Melanoma > or = 9.89 mm in depth"
"RTN","ONCOOT",151,0)
 I $$MELANOMA^ONCOU55(D0),TOP'=67691,TOP'=67692,TOP'=67693,TOP'=67694,TOP'=67698,TOP'=67699,Y'="" D
"RTN","ONCOOT",152,0)
 .S Y=$E(Y,1)_"."_$E(Y,2,3)
"RTN","ONCOOT",153,0)
 I Y=989 S Y="989 mm or larger" Q
"RTN","ONCOOT",154,0)
 I Y=998 D  Q
"RTN","ONCOOT",155,0)
 .I TOP="" S Y="" Q
"RTN","ONCOOT",156,0)
 .I TOP>67149,TOP<67160 S Y="Entire circumference" Q
"RTN","ONCOOT",157,0)
 .I TOP>67159,TOP<67170 S Y="Diffuse; widespread; linitis plastica" Q
"RTN","ONCOOT",158,0)
 .I TOP>67179,TOP<67210 S Y="Familial/multiple polyposis" Q
"RTN","ONCOOT",159,0)
 .I TOP>67339,TOP<67350 S Y="Diffuse, entire lobe of lung" Q
"RTN","ONCOOT",160,0)
 .I TOP>67499,TOP<67510 S Y="Diffuse; widespread; inflam carcinoma" Q
"RTN","ONCOOT",161,0)
 .S:Y'="" Y=Y_" mm"
"RTN","ONCOOT",162,0)
 S:Y'="" Y=Y_" mm"
"RTN","ONCOOT",163,0)
 Q
"RTN","ONCOOT",164,0)
 ;
"RTN","ONCOOT",165,0)
STMIT ;Size of Tumor (Melanoma) Item #23 1999 Melanoma PCE Study
"RTN","ONCOOT",166,0)
 I X'?1.3N K X Q
"RTN","ONCOOT",167,0)
 S X=+X
"RTN","ONCOOT",168,0)
 I X=998 D EN^DDIOL("  Mucosal melanoma") Q
"RTN","ONCOOT",169,0)
 I X=999 D EN^DDIOL("  Unknown; not recorded; NA")
"RTN","ONCOOT",170,0)
 Q
"RTN","ONCOOT",171,0)
 ;
"RTN","ONCOOT",172,0)
STMOT ;Size of Tumor (Melanoma) Item #23 1999 Melanoma PCE Study
"RTN","ONCOOT",173,0)
 I Y=998 S Y="Mucosal melanoma" Q
"RTN","ONCOOT",174,0)
 I Y=999 S Y="Unknown; not recorded; NA" Q
"RTN","ONCOOT",175,0)
 S Y=Y_" mm"
"RTN","ONCOOT",176,0)
 Q
"RTN","ONCOOT",177,0)
 ;
"RTN","ONCOOT",178,0)
 ;2000 Primary Intracranial/CNS Tumors PCE Study
"RTN","ONCOOT",179,0)
TSIT ;Item 33. Tumor Size
"RTN","ONCOOT",180,0)
 I X'?1.3N K X Q
"RTN","ONCOOT",181,0)
 S X=+X
"RTN","ONCOOT",182,0)
 I X=999 D EN^DDIOL("  Unknown, cannot be determined, not recorded")
"RTN","ONCOOT",183,0)
 Q
"RTN","ONCOOT",184,0)
TSOT ;Item 33. Tumor Size
"RTN","ONCOOT",185,0)
 I Y=999 S Y="Unknown, cannot be determined, not recorded" Q
"RTN","ONCOOT",186,0)
 S Y=Y_" mm"
"RTN","ONCOOT",187,0)
 Q
"RTN","ONCOOT",188,0)
SRPTIT ;Item 46. Size of Residual Primary Tumor Following Cancer-Directed
"RTN","ONCOOT",189,0)
 ;Surgery
"RTN","ONCOOT",190,0)
 I X'?1.3N K X Q
"RTN","ONCOOT",191,0)
 S X=+X
"RTN","ONCOOT",192,0)
 I X=0 D EN^DDIOL("  No residual tumor") Q
"RTN","ONCOOT",193,0)
 I X=995 D EN^DDIOL("  Size not specified, tumor judged smaller") Q
"RTN","ONCOOT",194,0)
 I X=996 D EN^DDIOL("  Size not specified, tumor judged unchanged") Q
"RTN","ONCOOT",195,0)
 I X=997 D EN^DDIOL("  Size not specified, tumor judged larger") Q
"RTN","ONCOOT",196,0)
 I X=998 D EN^DDIOL("  NA, surgical treatment not administered") Q
"RTN","ONCOOT",197,0)
 I X=999 D EN^DDIOL("  Unknown, tumor not evaluated")
"RTN","ONCOOT",198,0)
 Q
"RTN","ONCOOT",199,0)
SRPTOT ;Item 46. Size of Residual Primary Tumor Following Cancer-Directed
"RTN","ONCOOT",200,0)
 ;Surgery
"RTN","ONCOOT",201,0)
 I Y="000" S Y="No residual tumor" Q
"RTN","ONCOOT",202,0)
 I Y=995 S Y="Size not specified, tumor judged smaller" Q
"RTN","ONCOOT",203,0)
 I Y=996 S Y="Size not specified, tumor judged unchanged" Q
"RTN","ONCOOT",204,0)
 I Y=997 S Y="Size not specified, tumor judged larger" Q
"RTN","ONCOOT",205,0)
 I Y=998 S Y="NA, surgical treatment not administered" Q
"RTN","ONCOOT",206,0)
 I Y=999 S Y="Unknown, tumor not evaluated" Q
"RTN","ONCOOT",207,0)
 S Y=Y_" mm"
"RTN","ONCOOT",208,0)
 Q
"RTN","ONCOOT",209,0)
 ;
"RTN","ONCOOT",210,0)
SOC ;Sets of codes
"RTN","ONCOOT",211,0)
 Q:Y=""
"RTN","ONCOOT",212,0)
 S SOC=$P(^DD(FILNUM,FLDNUM,0),U,3),YY=Y_":"
"RTN","ONCOOT",213,0)
 S J=$F(SOC,YY),JJ=$F(SOC,";",J)-2,Y=Y_" "_$E(SOC,J,JJ)
"RTN","ONCOOT",214,0)
 K FILNUM,FLDNUM,J,JJ,SOC,YY
"RTN","ONCOOT",215,0)
 Q
"RTN","ONCOOT",216,0)
 ;
"RTN","ONCOOT",217,0)
TAHIST ;Screen for TOBACCO HISTORY (160,38) and ALCOHOL HISTORY (160,39)
"RTN","ONCOOT",218,0)
 S ACDT=0,NUM=0,ACY=$O(^ONCO(165.5,"AC",DA,""))
"RTN","ONCOOT",219,0)
 I ACY="" Q
"RTN","ONCOOT",220,0)
 S ACN=$E(ACY,1,4)
"RTN","ONCOOT",221,0)
 I (ACN>1998) S ACDT=1999
"RTN","ONCOOT",222,0)
 I Y?1N S NUM=1
"RTN","ONCOOT",223,0)
 Q
"RTN","ONCOOT",224,0)
 ;
"RTN","ONCOOT",225,0)
RE ;2001 Lung (NSCLC) Cancers PCE Study
"RTN","ONCOOT",226,0)
 ; Item 9. Radiological Evaluation
"RTN","ONCOOT",227,0)
 ; LNG TUMOR SIZE (BONE SCAN)     (165.5,1409.4)
"RTN","ONCOOT",228,0)
 ; LNG NUM OF TUMORS (BONE SCAN)  (165.5,1409.5)
"RTN","ONCOOT",229,0)
 ; LNG TUMOR SIZE (CHEST CT)      (165.5,1410.4)
"RTN","ONCOOT",230,0)
 ; LNG NUM OF TUMORS (CHEST CT)   (165.5,1410.5)
"RTN","ONCOOT",231,0)
 ; LNG TUMOR SIZE (BRAIN CT)      (165.5,1411.4)
"RTN","ONCOOT",232,0)
 ; LNG NUM OF TUMORS (BRAIN CT)   (165.5,1411.5)
"RTN","ONCOOT",233,0)
 ; LNG TUMOR SIZE (CHEST MRI)     (165.5,1412.4)
"RTN","ONCOOT",234,0)
 ; LNG NUM OF TUMORS (CHEST MRI)  (165.5,1412.5)
"RTN","ONCOOT",235,0)
 ; LNG TUMOR SIZE (BRAIN MRI)     (165.5,1413.4)
"RTN","ONCOOT",236,0)
 ; LNG NUM OF TUMORS (BRAIN MRI)  (165.5,1413.5)
"RTN","ONCOOT",237,0)
 ; LNG TUMOR SIZE (PET SCAN)      (165.5,1414.4)
"RTN","ONCOOT",238,0)
 ; LNG NUM OF TUMORS (PET SCAN)   (165.5,1414.5)
"RTN","ONCOOT",239,0)
 ; LNG TUMOR SIZE (CHEST XRAY)    (165.5,1415.4)
"RTN","ONCOOT",240,0)
 ; LNG NUM OF TUMORS (CHEST XRAY) (165.5,1415.5)
"RTN","ONCOOT",241,0)
 I +Y=0 S Y="Test not performed"
"RTN","ONCOOT",242,0)
 I Y=999!(Y=99) S Y="Test performed, not documented"
"RTN","ONCOOT",243,0)
 Q
"RTN","ONCOPA1")
0^212^B58176718
"RTN","ONCOPA1",1,0)
ONCOPA1 ;Hines OIFO/GWB - [PA Print Complete Abstract (132c)] ;09/22/11
"RTN","ONCOPA1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPA1",3,0)
 ;
"RTN","ONCOPA1",4,0)
 ;Replaces print templates ONCOX1-X11.
"RTN","ONCOPA1",5,0)
 ;
"RTN","ONCOPA1",6,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP EXIT
"RTN","ONCOPA1",7,0)
 I $D(IO("Q")) S ONCOLST="ONCOIEN^PTIEN^STARS^LENGTH^TITLE^PRTPCE^ONCODA^ESPD" D TASK G EXIT
"RTN","ONCOPA1",8,0)
 U IO D PRINT D ^%ZISC K %ZIS,IOP G EXIT
"RTN","ONCOPA1",9,0)
 ;
"RTN","ONCOPA1",10,0)
PRINT ;Print
"RTN","ONCOPA1",11,0)
 Q:$G(ONCOIEN)=""
"RTN","ONCOPA1",12,0)
 W @IOF
"RTN","ONCOPA1",13,0)
 S (IEN,D0)=ONCOIEN,PTIEN=$P($G(^ONCO(165.5,IEN,0)),U,2)
"RTN","ONCOPA1",14,0)
 S PG=0,EX="",LINE=$S($E(IOST,1,2)="C-":IOSL-2,1:IOSL-6)
"RTN","ONCOPA1",15,0)
 S STARS="******************************************************************************"
"RTN","ONCOPA1",16,0)
 S DATEDX=$P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCOPA1",17,0)
 D NOW^%DTC S Y=% K % D DD^%DT S PRTDATE=Y
"RTN","ONCOPA1",18,0)
 K DIQ S DIC="^ONCO(160,",DIQ(0)="C"
"RTN","ONCOPA1",19,0)
 S DR=".111:.131;2;7:10;13;18.9:21;22.9:29;38:44;48;50;51;52;61;55;56;62;63;64;65;66;67;68;1006"
"RTN","ONCOPA1",20,0)
 S DA=PTIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",21,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",22,0)
 S DR=".01:.07;1.2;2:2.4;3;3.5:19;20.1;22:35.1;37:40.2;41;49:59;62:67;70:71.3;74:79;83;85:92;95;100;101;108;117:130;132;133;137:146;200;346;363;363.1;442;443;560;787;50.2;361;623;684;1010;153;153.1;435;149;151;154:156;170;171:192;711:713;809"
"RTN","ONCOPA1",23,0)
 S DA=ONCOIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",24,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="IE"
"RTN","ONCOPA1",25,0)
 S DR="29.2;30.2;29.1;31.1;32.1;32;33;34.3;34.4;44.1:44.9;160:168;148:148.4;15;21;25;44;46;47;96;102;159;193;194;195;196;2.2;227:235;1423:1423.4;157.1;24.1;24.2;237;34.31:34.4;241;242;245;250;279:281"
"RTN","ONCOPA1",26,0)
 S DA=ONCOIEN,DIQ="ONCAB" D EN^DIQ1
"RTN","ONCOPA1",27,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",28,0)
 S DR="72",DA=ONCOIEN,DR(165.572)=".01;.02;.03;.031;.032",DIQ="ONCAB"
"RTN","ONCOPA1",29,0)
 F SR=0:0 S SR=$O(^ONCO(165.5,IEN,23,SR)) Q:SR'>0  D
"RTN","ONCOPA1",30,0)
 .S DA(165.572)=SR D EN^DIQ1 Q
"RTN","ONCOPA1",31,0)
 K DIQ S DIC="^ONCO(165.5,",DIQ(0)="C"
"RTN","ONCOPA1",32,0)
 S DR="60",DA=ONCOIEN,DR(165.51)=".01:2;33:37",DIQ="ONCAB"
"RTN","ONCOPA1",33,0)
 F SCT=0:0 S SCT=$O(^ONCO(165.5,IEN,4,SCT)) Q:SCT'>0  D
"RTN","ONCOPA1",34,0)
 .S DA(165.51)=SCT D EN^DIQ1 Q
"RTN","ONCOPA1",35,0)
 K DIQ S DIC="^ONCO(160,",DIQ(0)="C"
"RTN","ONCOPA1",36,0)
 S DR="44",DA=PTIEN,DR(160.044)=".01:1",DIQ="ONCAB"
"RTN","ONCOPA1",37,0)
 F CHST=0:0 S CHST=$O(^ONCO(160,PTIEN,9,CHST)) Q:CHST'>0  D
"RTN","ONCOPA1",38,0)
 .S DA(160.044)=CHST D EN^DIQ1 Q
"RTN","ONCOPA1",39,0)
 I $G(ESPD)=1 D
"RTN","ONCOPA1",40,0)
 .S ONCAB(165.5,IEN,.02)="XXXXX,XXXXX"
"RTN","ONCOPA1",41,0)
 .S ONCAB(160,PTIEN,2)="XXX-XX-XXXX"
"RTN","ONCOPA1",42,0)
 .S ONCAB(160,PTIEN,.119)="XXXXXXXXXX"
"RTN","ONCOPA1",43,0)
 .S $P(ONCAB(160,PTIEN,.116),",",1)="XXXXX"
"RTN","ONCOPA1",44,0)
 .S ONCAB(160,PTIEN,.131)="XXX-XXX-XXXX"
"RTN","ONCOPA1",45,0)
 .S ONCAB(165.5,IEN,8)="XXXXXXXXXX"
"RTN","ONCOPA1",46,0)
 .S ONCAB(165.5,IEN,8.2)="XXXXXXXXXX"
"RTN","ONCOPA1",47,0)
 .S ONCAB(165.5,IEN,8.1)="XXXXX"
"RTN","ONCOPA1",48,0)
 S PATNAME=$G(ONCAB(165.5,IEN,.02)),SSAN=$G(ONCAB(160,PTIEN,2))
"RTN","ONCOPA1",49,0)
 S NAME="CANCER REGISTRY ABSTRACT" D FORMAT
"RTN","ONCOPA1",50,0)
 S CRA=TITLE W !!,TITLE
"RTN","ONCOPA1",51,0)
 W !!?21,$E(ONCAB(165.5,IEN,.03),1,26)
"RTN","ONCOPA1",52,0)
 W "    ACOS #:  ",ONCAB(165.5,IEN,67)
"RTN","ONCOPA1",53,0)
 W ?76,"Print Date:  ",PRTDATE D P Q:EX=U
"RTN","ONCOPA1",54,0)
 W !,"      Patient Name:  ",ONCAB(165.5,IEN,.02),?76,"SSN:  ",ONCAB(160,PTIEN,2) D P Q:EX=U
"RTN","ONCOPA1",55,0)
 S DOB="",VRBLPTR=$P($G(^ONCO(160,PTIEN,0)),U,1) I VRBLPTR'="" D
"RTN","ONCOPA1",56,0)
 .S FILE=U_$P(VRBLPTR,";",2)_$P(VRBLPTR,";",1)_",0)"
"RTN","ONCOPA1",57,0)
 .S Y=$S($D(@FILE):$P(@FILE,U,3),1:"") I Y'="" D DD^%DT S DOB=Y Q
"RTN","ONCOPA1",58,0)
 W !,"      Home Address:  ",ONCAB(160,PTIEN,.119) D P Q:EX=U
"RTN","ONCOPA1",59,0)
 W !,"                     ",ONCAB(160,PTIEN,.118) D P Q:EX=U
"RTN","ONCOPA1",60,0)
 W !,"            County:  ",ONCAB(160,PTIEN,.12) D P Q:EX=U
"RTN","ONCOPA1",61,0)
 W !,"               Sex:  ",$E(ONCAB(160,PTIEN,10),1,14),?44,"Race:  ",$E(ONCAB(160,PTIEN,8),1,21),?76,"Ethnicity:  ",ONCAB(160,PTIEN,9) D P Q:EX=U
"RTN","ONCOPA1",62,0)
 W !,"     Date of Birth:  ",DOB
"RTN","ONCOPA1",63,0)
 W ?38," Age at DX:  ",ONCAB(165.5,IEN,4) D P Q:EX=U
"RTN","ONCOPA1",64,0)
 ;
"RTN","ONCOPA1",65,0)
CI ;Cancer Identification
"RTN","ONCOPA1",66,0)
 S NAME="CANCER IDENTIFICATION" D FORMAT
"RTN","ONCOPA1",67,0)
 W !!,TITLE
"RTN","ONCOPA1",68,0)
 S NODE2=$G(^ONCO(165.5,IEN,2))
"RTN","ONCOPA1",69,0)
 S COC=$E($$GET1^DIQ(165.5,IEN,.04),1,2)
"RTN","ONCOPA1",70,0)
 W !!,"       Accession Number: ",ONCAB(165.5,IEN,.05),?38,"Accession Year:  ",ONCAB(165.5,IEN,.07),?76,"Sequence Number:  ",ONCAB(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCOPA1",71,0)
 W !,"                    Date Dx: ",ONCAB(165.5,IEN,3) D P Q:EX=U
"RTN","ONCOPA1",72,0)
 I DATEDX>3061231 D
"RTN","ONCOPA1",73,0)
 .W !,"   Ambiguous Terminology Dx: ",ONCAB(165.5,IEN,159,"E") D P Q:EX=U
"RTN","ONCOPA1",74,0)
 .W !,"      Date of Conclusive Dx: ",ONCAB(165.5,IEN,193,"E") D P Q:EX=U
"RTN","ONCOPA1",75,0)
 W !,"                Dx Facility: ",ONCAB(165.5,IEN,5) D P Q:EX=U
"RTN","ONCOPA1",76,0)
 W !,"      Date of First Contact: ",ONCAB(165.5,IEN,155) D P Q:EX=U
"RTN","ONCOPA1",77,0)
 I DATEDX>3091231 D
"RTN","ONCOPA1",78,0)
 .W !,"           Inpatient Status: ",ONCAB(165.5,IEN,233,"E") D P Q:EX=U
"RTN","ONCOPA1",79,0)
 W !,"              Class of Case: ",ONCAB(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCOPA1",80,0)
 W !,"     Date of First Symptoms: ",ONCAB(165.5,IEN,171) D P Q:EX=U
"RTN","ONCOPA1",81,0)
 W !,"  Date Start Workup Ordered: ",ONCAB(165.5,IEN,172) D P Q:EX=U
"RTN","ONCOPA1",82,0)
 W !,"        Date Workup Started: ",ONCAB(165.5,IEN,173) D P Q:EX=U
"RTN","ONCOPA1",83,0)
 W !,"   Type of Reporting Source: ",ONCAB(165.5,IEN,1.2) D P Q:EX=U
"RTN","ONCOPA1",84,0)
 W !,"                    Site/Gp: ",ONCAB(165.5,IEN,.01) D P Q:EX=U
"RTN","ONCOPA1",85,0)
 W !,"          Primary Site Code: ",ONCAB(165.5,IEN,20.1),"  "
"RTN","ONCOPA1",86,0)
 S TOP=$P(NODE2,U,1) I TOP'="" W $P(^ONCO(164,TOP,0),U,1) D P Q:EX=U
"RTN","ONCOPA1",87,0)
 W !,"    Text-Primary Site Title: ",ONCAB(165.5,IEN,100) D P Q:EX=U
"RTN","ONCOPA1",88,0)
 I DATEDX>3061231 D
"RTN","ONCOPA1",89,0)
 .W !,"   Mult Tum Rpt as One Prim: ",ONCAB(165.5,IEN,194,"E") D P Q:EX=U
"RTN","ONCOPA1",90,0)
 .W !,"    Date of Multiple Tumors: ",ONCAB(165.5,IEN,195,"E") D P Q:EX=U
"RTN","ONCOPA1",91,0)
 .W !,"       Multiplicity Counter: ",ONCAB(165.5,IEN,196,"E") D P Q:EX=U
"RTN","ONCOPA1",92,0)
 W !,"                 Laterality: ",ONCAB(165.5,IEN,28) D P Q:EX=U
"RTN","ONCOPA1",93,0)
 S HIST=$$HIST^ONCFUNC(IEN,.HSTFLD)
"RTN","ONCOPA1",94,0)
 W !,"                  Histology: ",ONCAB(165.5,IEN,HSTFLD) D P Q:EX=U
"RTN","ONCOPA1",95,0)
 W !,"       Text-Histology Title: ",ONCAB(165.5,IEN,101) D P Q:EX=U
"RTN","ONCOPA1",96,0)
 W:TOP=67619 !,"       Gleason Score (Clin): ",ONCAB(165.5,IEN,623)
"RTN","ONCOPA1",97,0)
 W:TOP=67619 !,"       Gleason Score (Path): ",ONCAB(165.5,IEN,250,"E")
"RTN","ONCOPA1",98,0)
 W:TOP=67619 !,"                        PSA: ",ONCAB(165.5,IEN,684)
"RTN","ONCOPA1",99,0)
 W:TOP=67619 !,"                   PSA Date: ",ONCAB(165.5,IEN,96,"E")
"RTN","ONCOPA1",100,0)
 W:TOP=67619 !,"                    DRE +/-: ",ONCAB(165.5,IEN,102,"E")
"RTN","ONCOPA1",101,0)
 W:TOP=67619 !,"                   DRE Date: ",ONCAB(165.5,IEN,156)
"RTN","ONCOPA1",102,0)
 W !,"      Grade/Differentiation: ",ONCAB(165.5,IEN,24),"  "
"RTN","ONCOPA1",103,0)
 S GR=$P(NODE2,U,5) I GR'="" W $P(^ONCO(164.43,GR,0),U,2) D P Q:EX=U
"RTN","ONCOPA1",104,0)
 I DATEDX>3091231 D
"RTN","ONCOPA1",105,0)
 .W !,"          Grade Path System: ",ONCAB(165.5,IEN,24.1,"E") D P Q:EX=U
"RTN","ONCOPA1",106,0)
 .W !,"           Grade Path Value: ",ONCAB(165.5,IEN,24.2,"E") D P Q:EX=U
"RTN","ONCOPA1",107,0)
 W !,"         AFIP/JPC Submission: ",ONCAB(165.5,IEN,83) D P Q:EX=U
"RTN","ONCOPA1",108,0)
 W !,"    Diagnostic Confirmation: ",ONCAB(165.5,IEN,26) D P Q:EX=U
"RTN","ONCOPA1",109,0)
 W:TOP=67220 !,"                Hepatitis C: ",ONCAB(165.5,IEN,1010)
"RTN","ONCOPA1",110,0)
 S TM1=$$PRINT^ONCOTM(IEN,1)
"RTN","ONCOPA1",111,0)
 I TM1["UMOR" S $E(TM1,2,5)="umor" I TM1["ARKER" S $E(TM1,8,12)="arker"
"RTN","ONCOPA1",112,0)
 S TM2=$$PRINT^ONCOTM(IEN,2)
"RTN","ONCOPA1",113,0)
 I TM2["UMOR" S $E(TM2,2,5)="umor" I TM2["ARKER" S $E(TM2,8,12)="arker"
"RTN","ONCOPA1",114,0)
 S TM3=$$PRINT^ONCOTM(IEN,3)
"RTN","ONCOPA1",115,0)
 I TM3["UMOR" S $E(TM3,2,5)="umor" I TM3["ARKER" S $E(TM3,8,12)="arker"
"RTN","ONCOPA1",116,0)
 S LEN=$L(TM1) W !?(27-LEN),TM1,": ",ONCAB(165.5,IEN,25.1) D P Q:EX=U
"RTN","ONCOPA1",117,0)
 S LEN=$L(TM2) W !?(27-LEN),TM2,": ",ONCAB(165.5,IEN,25.2) D P Q:EX=U
"RTN","ONCOPA1",118,0)
 S LEN=$L(TM3) W !?(27-LEN),TM3,": ",ONCAB(165.5,IEN,25.3) D P Q:EX=U
"RTN","ONCOPA1",119,0)
 W !,"     Facility Referred From: ",ONCAB(165.5,IEN,6) D P Q:EX=U
"RTN","ONCOPA1",120,0)
 W !,"       Facility Referred To: ",ONCAB(165.5,IEN,7) D P Q:EX=U
"RTN","ONCOPA1",121,0)
 W !,"                  Fee Basis: ",ONCAB(165.5,IEN,237,"E") D P Q:EX=U
"RTN","ONCOPA1",122,0)
 W !,"Presentation at Cancer Conf: ",ONCAB(165.5,IEN,120) D P Q:EX=U
"RTN","ONCOPA1",123,0)
 W !,"  Date of Cancer Conference: ",ONCAB(165.5,IEN,121) D P Q:EX=U
"RTN","ONCOPA1",124,0)
 W !,"         Casefinding Source: ",ONCAB(165.5,IEN,21,"E")
"RTN","ONCOPA1",125,0)
 ;
"RTN","ONCOPA1",126,0)
 I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA1A
"RTN","ONCOPA1",127,0)
 D P Q:EX=U
"RTN","ONCOPA1",128,0)
PA1A D ^ONCOPA1A
"RTN","ONCOPA1",129,0)
 ;
"RTN","ONCOPA1",130,0)
EXIT ;KILL variables
"RTN","ONCOPA1",131,0)
 K CHST,CMIEN,CNTR,COC,CRA,D0,DA,DATEDX,DIC,DIQ,DIR,DOB,DR,DTE,DXDT,EX
"RTN","ONCOPA1",132,0)
 K FHDT,FHIEN,FHZN,FILE,FLG,FM,FOLH,FR,GR,HIST,HSTFLD,IC,ICDCD,IEN,LEN
"RTN","ONCOPA1",133,0)
 K LENGTH,LINE,NAME,NF,NODE2,NOK,NUM,ONCAB,ONCOIEN,ONCOLST,OTHPRI,PATH
"RTN","ONCOPA1",134,0)
 K PATNAME,PG,POP,PRI,PRTDATE,PRTPCE,PRZN,PTIEN,QS,RCDT,REG,REG1,RK,RK1
"RTN","ONCOPA1",135,0)
 K SCT,SITE,SR,SSAN,ST,STARS,TITLE,TM1,TM2,TM3,TOP,TPX,TSIEN,TSTAT,UF
"RTN","ONCOPA1",136,0)
 K VRBLPTR,VS,Y,ZN
"RTN","ONCOPA1",137,0)
 Q
"RTN","ONCOPA1",138,0)
 ;
"RTN","ONCOPA1",139,0)
P ;Enter RETURN to continue
"RTN","ONCOPA1",140,0)
 I $Y>(IOSL-10) D  Q:EX=U  W !
"RTN","ONCOPA1",141,0)
 .I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA1",142,0)
 .D HDR Q
"RTN","ONCOPA1",143,0)
 Q
"RTN","ONCOPA1",144,0)
 ;
"RTN","ONCOPA1",145,0)
FORMAT ;
"RTN","ONCOPA1",146,0)
 S LENGTH=$L(NAME),NUM=(((132-LENGTH)/2)\1)-10
"RTN","ONCOPA1",147,0)
 S TITLE="     "_$E(STARS,1,NUM)_"     "_NAME_"     "_$E(STARS,1,NUM)
"RTN","ONCOPA1",148,0)
 Q
"RTN","ONCOPA1",149,0)
 ;
"RTN","ONCOPA1",150,0)
TASK ;Report Queued
"RTN","ONCOPA1",151,0)
 K ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOPA1",152,0)
 S ZTRTN="PRINT^ONCOPA1",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCOPA1",153,0)
 S ZTDESC="Print Complete Abstract"
"RTN","ONCOPA1",154,0)
 F RK=1:1 S RK1=$P(ONCOLST,U,RK) Q:RK1=""  S ZTSAVE(RK1)=""
"RTN","ONCOPA1",155,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Report Queued",!
"RTN","ONCOPA1",156,0)
 K ZTDESC,ZTREQ,ZTRTN,ZTSAVE,ZTSK
"RTN","ONCOPA1",157,0)
 Q
"RTN","ONCOPA1",158,0)
 ;
"RTN","ONCOPA1",159,0)
HDR ;Header
"RTN","ONCOPA1",160,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA1",161,0)
 W CRA,!
"RTN","ONCOPA1",162,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA1",163,0)
 Q
"RTN","ONCOPA1",164,0)
 ;
"RTN","ONCOPA1",165,0)
MULT ;Entry point for option ABS...MA...3).
"RTN","ONCOPA1",166,0)
 ;Also called from PCEPRT2^ONCOGEN.
"RTN","ONCOPA1",167,0)
 I $D(IO("Q")) S ONCOLST="ONCOIEN^PTIEN^STARS^LENGTH^TITLE^PRTPCE^ONCODA^ESPD" D TASK G EXIT
"RTN","ONCOPA1",168,0)
 U IO D PRINT K %ZIS,IOP G EXIT
"RTN","ONCOPA1",169,0)
 Q
"RTN","ONCOPA1",170,0)
 ;
"RTN","ONCOPA1",171,0)
CLEANUP ;Cleanup
"RTN","ONCOPA1",172,0)
 K ESPD
"RTN","ONCOPA1A")
0^213^B57499640
"RTN","ONCOPA1A",1,0)
ONCOPA1A ;Hines OIFO/GWB - PRINT COMPLETE ABSTRACT continued ;10/05/11
"RTN","ONCOPA1A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPA1A",3,0)
 ;
"RTN","ONCOPA1A",4,0)
 I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14),$E(TOP,3,4)=34 D
"RTN","ONCOPA1A",5,0)
 .W !,"     Blood in Sputum Per Pt: ",ONCAB(165.5,IEN,174.1)," ",ONCAB(165.5,IEN,174) D P Q:EX=U
"RTN","ONCOPA1A",6,0)
 .W !,"                    Dyspnea: ",ONCAB(165.5,IEN,186.1)," ",ONCAB(165.5,IEN,186) D P Q:EX=U
"RTN","ONCOPA1A",7,0)
 .W !,"            Increased Cough: ",ONCAB(165.5,IEN,187.1)," ",ONCAB(165.5,IEN,187) D P Q:EX=U
"RTN","ONCOPA1A",8,0)
 .W !,"                      Fever: ",ONCAB(165.5,IEN,188.1)," ",ONCAB(165.5,IEN,188) D P Q:EX=U
"RTN","ONCOPA1A",9,0)
 .W !,"               Night Sweats: ",ONCAB(165.5,IEN,189.1)," ",ONCAB(165.5,IEN,189) D P Q:EX=U
"RTN","ONCOPA1A",10,0)
 .W !,"         Weight Loss Per Pt: ",ONCAB(165.5,IEN,190) D P Q:EX=U
"RTN","ONCOPA1A",11,0)
 .W !,"                Chest X-ray: ",ONCAB(165.5,IEN,175.1)," ",ONCAB(165.5,IEN,175) D P Q:EX=U
"RTN","ONCOPA1A",12,0)
 .W !,"                    CT Scan: ",ONCAB(165.5,IEN,176.1)," ",ONCAB(165.5,IEN,176) D P Q:EX=U
"RTN","ONCOPA1A",13,0)
 .W !,"               Bronchoscopy: ",ONCAB(165.5,IEN,177.1)," ",ONCAB(165.5,IEN,177) D P Q:EX=U
"RTN","ONCOPA1A",14,0)
 .W !,"            Mediastinoscopy: ",ONCAB(165.5,IEN,178.1)," ",ONCAB(165.5,IEN,178) D P Q:EX=U
"RTN","ONCOPA1A",15,0)
 .W !,"                   PET Scan: ",ONCAB(165.5,IEN,179.1)," ",ONCAB(165.5,IEN,179) D P Q:EX=U
"RTN","ONCOPA1A",16,0)
 I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14),($E(TOP,3,4)=18)!(TOP=67199)!(TOP=67209) D
"RTN","ONCOPA1A",17,0)
 .W !,"    Ulcerative Colitis (UC): ",ONCAB(165.5,IEN,191) D P Q:EX=U
"RTN","ONCOPA1A",18,0)
 .W !,"Familial Adenomatous Polyps: ",ONCAB(165.5,IEN,711) D P Q:EX=U
"RTN","ONCOPA1A",19,0)
 .W !,"                      HNPCC: ",ONCAB(165.5,IEN,712) D P Q:EX=U
"RTN","ONCOPA1A",20,0)
 .W !,"            Crohn's Disease: ",ONCAB(165.5,IEN,809) D P Q:EX=U
"RTN","ONCOPA1A",21,0)
 .W !," Inflammatory Bowel Disease: ",ONCAB(165.5,IEN,713) D P Q:EX=U
"RTN","ONCOPA1A",22,0)
 .W !,"            Sporadic Polyps: ",ONCAB(165.5,IEN,192) D P Q:EX=U
"RTN","ONCOPA1A",23,0)
 .W !," Change Bowel Habits Per Pt: ",ONCAB(165.5,IEN,180.1)," ",ONCAB(165.5,IEN,180) D P Q:EX=U
"RTN","ONCOPA1A",24,0)
 .W !,"    Fecal Occult Blood Test: ",ONCAB(165.5,IEN,181.1)," ",ONCAB(165.5,IEN,181) D P Q:EX=U
"RTN","ONCOPA1A",25,0)
 .W !,"               Barium Enema: ",ONCAB(165.5,IEN,182.1)," ",ONCAB(165.5,IEN,182) D P Q:EX=U
"RTN","ONCOPA1A",26,0)
 .W !,"              Sigmoidoscopy: ",ONCAB(165.5,IEN,183.1)," ",ONCAB(165.5,IEN,183) D P Q:EX=U
"RTN","ONCOPA1A",27,0)
 .W !,"                Colonoscopy: ",ONCAB(165.5,IEN,185.1)," ",ONCAB(165.5,IEN,185) D P Q:EX=U
"RTN","ONCOPA1A",28,0)
 .W !,"       CT of Abdomen/Pelvis: ",ONCAB(165.5,IEN,184.1)," ",ONCAB(165.5,IEN,184) D P Q:EX=U
"RTN","ONCOPA1A",29,0)
 .W !,"                   PET Scan: ",ONCAB(165.5,IEN,179.1)," ",ONCAB(165.5,IEN,179) D P Q:EX=U
"RTN","ONCOPA1A",30,0)
 ;
"RTN","ONCOPA1A",31,0)
 S NAME="EXTENT OF DISEASE AT DIAGNOSIS" D FORMAT^ONCOPA1
"RTN","ONCOPA1A",32,0)
 W !!,TITLE
"RTN","ONCOPA1A",33,0)
 W !,"   Clinical Stage Discussion: ",ONCAB(165.5,IEN,280,"E") D P Q:EX=U
"RTN","ONCOPA1A",34,0)
 W !!,"   TNM Clinical:  ",ONCAB(165.5,IEN,37),?67,"TNM Pathologic:  ",ONCAB(165.5,IEN,89.1) D P Q:EX=U
"RTN","ONCOPA1A",35,0)
 W !,"   Clinical T:  ",$E(ONCAB(165.5,IEN,37.1),1,48),?67,"Pathologic T:  ",$E(ONCAB(165.5,IEN,85),1,48) D P Q:EX=U
"RTN","ONCOPA1A",36,0)
 W !,"   Clinical N:  ",$E(ONCAB(165.5,IEN,37.2),1,48),?67,"Pathologic N:  ",$E(ONCAB(165.5,IEN,86),1,48) D P Q:EX=U
"RTN","ONCOPA1A",37,0)
 W !,"   Clinical M:  ",$E(ONCAB(165.5,IEN,37.3),1,48),?67,"Pathologic M:  ",$E(ONCAB(165.5,IEN,87),1,48) D P Q:EX=U
"RTN","ONCOPA1A",38,0)
 W !,"   Stage Group Clinical:  ",ONCAB(165.5,IEN,38),$P(ONCAB(165.5,IEN,241,"E"),"(",1),?67,"Stage Group Pathologic:  ",ONCAB(165.5,IEN,88),$P(ONCAB(165.5,IEN,242,"E"),"(",1) D P Q:EX=U
"RTN","ONCOPA1A",39,0)
 W !,"   Staged By (Clin):  ",ONCAB(165.5,IEN,19),?67,"Staged By (Path):  ",ONCAB(165.5,IEN,89) D P Q:EX=U
"RTN","ONCOPA1A",40,0)
 W !,"   Lymph-Vascular Invasion (L):  ",ONCAB(165.5,IEN,149) D P Q:EX=U
"RTN","ONCOPA1A",41,0)
 ;W !,"   Venous Invasion (V):  ",ONCAB(165.5,IEN,151) D P Q:EX=U
"RTN","ONCOPA1A",42,0)
 W !,"   Other Staging System:  ",ONCAB(165.5,IEN,39) D P Q:EX=U
"RTN","ONCOPA1A",43,0)
 W !,"   Physician's Stage:  ",ONCAB(165.5,IEN,65),?67,"Physician Staging:  ",ONCAB(165.5,IEN,66) D P Q:EX=U
"RTN","ONCOPA1A",44,0)
 W !,"   TNM Form Assigned:  ",ONCAB(165.5,IEN,25,"E"),?67,"TNM Form Completed:  ",ONCAB(165.5,IEN,44,"E") D P Q:EX=U
"RTN","ONCOPA1A",45,0)
 W !!,"   Performance Status at Dx: ",ONCAB(165.5,IEN,227,"E") D P Q:EX=U
"RTN","ONCOPA1A",46,0)
 W !,"   Tumor Size:  ",ONCAB(165.5,IEN,29) D P Q:EX=U
"RTN","ONCOPA1A",47,0)
 W !,"   Extension:   ",ONCAB(165.5,IEN,30) D P Q:EX=U
"RTN","ONCOPA1A",48,0)
 I $P($G(^ONCO(165.5,IEN,0)),U,16)>2971231 D
"RTN","ONCOPA1A",49,0)
 .S TPX=$P($G(^ONCO(165.5,IEN,2)),U,1) I TPX'=67619 Q
"RTN","ONCOPA1A",50,0)
 .W !,"   Pathologic Extension:  ",ONCAB(165.5,IEN,30.1) D P Q:EX=U
"RTN","ONCOPA1A",51,0)
 W !,"   Lymph Nodes: ",ONCAB(165.5,IEN,31),?67,"Metastasis 1:  ",ONCAB(165.5,IEN,34) D P Q:EX=U
"RTN","ONCOPA1A",52,0)
 W !,"   Regional Nodes Examined:  ",$E(ONCAB(165.5,IEN,33),1,34),?67,"Metastasis 2:  ",ONCAB(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCOPA1A",53,0)
 W !,"   Regional Nodes Positive:  ",$E(ONCAB(165.5,IEN,32),1,34),?67,"Metastasis 3:  ",ONCAB(165.5,IEN,34.2) D P Q:EX=U
"RTN","ONCOPA1A",54,0)
 W !,"   General Summary Stage:  ",ONCAB(165.5,IEN,35) D P Q:EX=U
"RTN","ONCOPA1A",55,0)
 W !,"   Peripheral Blood Involvement:  ",ONCAB(165.5,IEN,30.5) D P Q:EX=U
"RTN","ONCOPA1A",56,0)
 W !,"   Associated With HIV:  ",ONCAB(165.5,IEN,41) D P Q:EX=U
"RTN","ONCOPA1A",57,0)
 ;
"RTN","ONCOPA1A",58,0)
 I $P($G(^ONCO(165.5,IEN,0)),U,16)<3040000 G FCT
"RTN","ONCOPA1A",59,0)
 S NAME="COLLABORATIVE STAGING" D FORMAT^ONCOPA1
"RTN","ONCOPA1A",60,0)
 W !!,TITLE
"RTN","ONCOPA1A",61,0)
 I $L(ONCAB(165.5,IEN,32,"I"))=1 S ONCAB(165.5,IEN,32,"I")="0"_ONCAB(165.5,IEN,32,"I") D P Q:EX=U
"RTN","ONCOPA1A",62,0)
 I $L(ONCAB(165.5,IEN,33,"I"))=1 S ONCAB(165.5,IEN,33,"I")="0"_ONCAB(165.5,IEN,33,"I") D P Q:EX=U
"RTN","ONCOPA1A",63,0)
 W !," Tumor Size (CS):          ",ONCAB(165.5,IEN,29.2,"I"),?35,"Derived AJJC-6 T:            ",ONCAB(165.5,IEN,160,"E") D P Q:EX=U
"RTN","ONCOPA1A",64,0)
 W !," Extension (CS):           ",ONCAB(165.5,IEN,30.2,"I"),?35,"Derived AJCC-6 T Descriptor: ",ONCAB(165.5,IEN,161,"E") D P Q:EX=U
"RTN","ONCOPA1A",65,0)
 W !," Tumor Size/Ext Eval (CS): ",ONCAB(165.5,IEN,29.1,"I"),?35,"Derived AJCC-6 N:            ",ONCAB(165.5,IEN,162,"E") D P Q:EX=U
"RTN","ONCOPA1A",66,0)
 W !," Lymph Nodes (CS):         ",ONCAB(165.5,IEN,31.1,"I"),?35,"Derived AJCC-6 N Descriptor: ",ONCAB(165.5,IEN,163,"E") D P Q:EX=U
"RTN","ONCOPA1A",67,0)
 W !," Lymph Nodes Eval (CS):    ",ONCAB(165.5,IEN,32.1,"I"),?35,"Derived AJCC-6 M:            ",ONCAB(165.5,IEN,164,"E") D P Q:EX=U
"RTN","ONCOPA1A",68,0)
 W !," Regional Nodes Examined:  ",ONCAB(165.5,IEN,33,"I"),?35,"Derived AJCC-6 M Descriptor: ",ONCAB(165.5,IEN,165,"E") D P Q:EX=U
"RTN","ONCOPA1A",69,0)
 W !," Regional Nodes Positive:  ",ONCAB(165.5,IEN,32,"I"),?35,"Derived AJCC-6 Stage Group:  ",ONCAB(165.5,IEN,166,"E") D P Q:EX=U
"RTN","ONCOPA1A",70,0)
 W !," Mets at DX (CS):          ",ONCAB(165.5,IEN,34.3,"I"),?35,"Derived AJJC-7 T:            ",ONCAB(165.5,IEN,160.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",71,0)
 W !," Mets at DX-Bone:          ",ONCAB(165.5,IEN,34.31,"E"),?35,"Derived AJCC-7 T Descriptor: ",ONCAB(165.5,IEN,161.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",72,0)
 W !," Mets at DX-Brain:         ",ONCAB(165.5,IEN,34.32,"E"),?35,"Derived AJCC-7 N:            ",ONCAB(165.5,IEN,162.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",73,0)
 W !," Mets at DX-Liver:         ",ONCAB(165.5,IEN,34.33,"E"),?35,"Derived AJCC-7 N Descriptor: ",ONCAB(165.5,IEN,163.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",74,0)
 W !," Mets at DX-Lung:          ",ONCAB(165.5,IEN,34.34,"E"),?35,"Derived AJCC-7 M:            ",ONCAB(165.5,IEN,164.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",75,0)
 W !," Mets Eval (CS):           ",ONCAB(165.5,IEN,34.4,"I"),?35,"Derived AJCC-7 M Descriptor: ",ONCAB(165.5,IEN,165.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",76,0)
 W !," Site-Specific Factor 1:   ",ONCAB(165.5,IEN,44.1,"I"),?35,"Derived AJCC-7 Stage Group:  ",ONCAB(165.5,IEN,166.7,"E") D P Q:EX=U
"RTN","ONCOPA1A",77,0)
 W !," Site-Specific Factor 2:   ",ONCAB(165.5,IEN,44.2,"I"),?35,"Derived SS1977:              ",ONCAB(165.5,IEN,167,"E") D P Q:EX=U
"RTN","ONCOPA1A",78,0)
 W !," Site-Specific Factor 3:   ",ONCAB(165.5,IEN,44.3,"I"),?35,"Derived SS2000:              ",ONCAB(165.5,IEN,168,"E") D P Q:EX=U
"RTN","ONCOPA1A",79,0)
 W !," Site-Specific Factor 4:   ",ONCAB(165.5,IEN,44.4,"I") D P Q:EX=U
"RTN","ONCOPA1A",80,0)
 W !," Site-Specific Factor 5:   ",ONCAB(165.5,IEN,44.5,"I") D P Q:EX=U
"RTN","ONCOPA1A",81,0)
 W !," Site-Specific Factor 6:   ",ONCAB(165.5,IEN,44.6,"I") D P Q:EX=U
"RTN","ONCOPA1A",82,0)
 W !," Site-Specific Factor 7:   ",ONCAB(165.5,IEN,44.7,"I") D P Q:EX=U
"RTN","ONCOPA1A",83,0)
 W !," Site-Specific Factor 8:   ",ONCAB(165.5,IEN,44.8,"I") D P Q:EX=U
"RTN","ONCOPA1A",84,0)
 W !," Site-Specific Factor 9:   ",ONCAB(165.5,IEN,44.9,"I") D P Q:EX=U
"RTN","ONCOPA1A",85,0)
 W !," Site-Specific Factor 10:  ",ONCAB(165.5,IEN,44.101,"I") D P Q:EX=U
"RTN","ONCOPA1A",86,0)
 W !," Site-Specific Factor 11:  ",ONCAB(165.5,IEN,44.11,"I") D P Q:EX=U
"RTN","ONCOPA1A",87,0)
 W !," Site-Specific Factor 12:  ",ONCAB(165.5,IEN,44.12,"I") D P Q:EX=U
"RTN","ONCOPA1A",88,0)
 W !," Site-Specific Factor 13:  ",ONCAB(165.5,IEN,44.13,"I") D P Q:EX=U
"RTN","ONCOPA1A",89,0)
 W !," Site-Specific Factor 14:  ",ONCAB(165.5,IEN,44.14,"I") D P Q:EX=U
"RTN","ONCOPA1A",90,0)
 W !," Site-Specific Factor 15:  ",ONCAB(165.5,IEN,44.15,"I") D P Q:EX=U
"RTN","ONCOPA1A",91,0)
 W !," Site-Specific Factor 16:  ",ONCAB(165.5,IEN,44.16,"I") D P Q:EX=U
"RTN","ONCOPA1A",92,0)
 W !," Site-Specific Factor 17:  ",ONCAB(165.5,IEN,44.17,"I") D P Q:EX=U
"RTN","ONCOPA1A",93,0)
 W !," Site-Specific Factor 18:  ",ONCAB(165.5,IEN,44.18,"I") D P Q:EX=U
"RTN","ONCOPA1A",94,0)
 W !," Site-Specific Factor 19:  ",ONCAB(165.5,IEN,44.19,"I") D P Q:EX=U
"RTN","ONCOPA1A",95,0)
 W !," Site-Specific Factor 20:  ",ONCAB(165.5,IEN,44.201,"I") D P Q:EX=U
"RTN","ONCOPA1A",96,0)
 W !," Site-Specific Factor 21:  ",ONCAB(165.5,IEN,44.21,"I") D P Q:EX=U
"RTN","ONCOPA1A",97,0)
 W !," Site-Specific Factor 22:  ",ONCAB(165.5,IEN,44.22,"I") D P Q:EX=U
"RTN","ONCOPA1A",98,0)
 W !," Site-Specific Factor 23:  ",ONCAB(165.5,IEN,44.23,"I") D P Q:EX=U
"RTN","ONCOPA1A",99,0)
 W !," Site-Specific Factor 24:  ",ONCAB(165.5,IEN,44.24,"I") D P Q:EX=U
"RTN","ONCOPA1A",100,0)
 W !," Site-Specific Factor 25:  ",ONCAB(165.5,IEN,44.25,"I") D P Q:EX=U
"RTN","ONCOPA1A",101,0)
 ;
"RTN","ONCOPA1A",102,0)
FCT I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA2
"RTN","ONCOPA1A",103,0)
 D P Q:EX=U
"RTN","ONCOPA1A",104,0)
PA2 D ^ONCOPA2
"RTN","ONCOPA1A",105,0)
 ; WILL CALL ONCOPA2 ROUTINE FROM HERE TO CONTINUE...
"RTN","ONCOPA1A",106,0)
 ;
"RTN","ONCOPA1A",107,0)
 Q
"RTN","ONCOPA1A",108,0)
P ;
"RTN","ONCOPA1A",109,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA1A",110,0)
 .I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA1A",111,0)
 .D HDR Q
"RTN","ONCOPA1A",112,0)
 Q
"RTN","ONCOPA1A",113,0)
HDR ; Header
"RTN","ONCOPA1A",114,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA1A",115,0)
 W CRA,!
"RTN","ONCOPA1A",116,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA1A",117,0)
 Q
"RTN","ONCOPA1A",118,0)
 ;
"RTN","ONCOPA1A",119,0)
CLEANUP ;Cleanup
"RTN","ONCOPA1A",120,0)
 K COC,CRA,EX,IEN,LINE,NAME,ONCAB,PATNAME,PG,SSAN,TITLE,TOP,TPX,Y
"RTN","ONCOPA2")
0^214^B44535183
"RTN","ONCOPA2",1,0)
ONCOPA2 ;Hines OIFO/GWB [PA Print Complete Abstract (132c)] continued ;10/05/11
"RTN","ONCOPA2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPA2",3,0)
 ;
"RTN","ONCOPA2",4,0)
 N TX
"RTN","ONCOPA2",5,0)
 S NAME="FIRST COURSE OF TREATMENT" D FORMAT^ONCOPA1
"RTN","ONCOPA2",6,0)
 W !!,TITLE
"RTN","ONCOPA2",7,0)
 W ! D P Q:EX=U
"RTN","ONCOPA2",8,0)
 W !,"   Surgical Dx/Staging Proc:       ",ONCAB(165.5,IEN,58.1) D P Q:EX=U
"RTN","ONCOPA2",9,0)
 W !,"   Surgical Dx/Staging Proc Date:  ",ONCAB(165.5,IEN,58.3) D P Q:EX=U
"RTN","ONCOPA2",10,0)
 W !,"   Surg Dx/Staging Proc @Fac:      ",ONCAB(165.5,IEN,58.4) D P Q:EX=U
"RTN","ONCOPA2",11,0)
 W !,"   Surg Dx/Staging Proc @Fac Date: ",ONCAB(165.5,IEN,58.5) D P Q:EX=U
"RTN","ONCOPA2",12,0)
 W ! D P Q:EX=U
"RTN","ONCOPA2",13,0)
 W:DATEDX>3091231 !,"   Treatment Status:               ",ONCAB(165.5,IEN,235,"E") D P Q:EX=U
"RTN","ONCOPA2",14,0)
 W !,"   Date of no treatment:           ",ONCAB(165.5,IEN,124) D P Q:EX=U
"RTN","ONCOPA2",15,0)
 W ! D P Q:EX=U
"RTN","ONCOPA2",16,0)
 W !,"   Date First Surgical Procedure:  ",ONCAB(165.5,IEN,170) D P Q:EX=U
"RTN","ONCOPA2",17,0)
 W !,"   Surgery of Primary (F):         ",ONCAB(165.5,IEN,58.6) D P Q:EX=U
"RTN","ONCOPA2",18,0)
 W !,"   Most Definitive Surg Date:      ",ONCAB(165.5,IEN,50) D P Q:EX=U
"RTN","ONCOPA2",19,0)
 W !,"   Surgery of Primary @Fac (F):    ",ONCAB(165.5,IEN,58.7) D P Q:EX=U
"RTN","ONCOPA2",20,0)
 W !,"   Most Definitive Surg @Fac Date: ",ONCAB(165.5,IEN,50.3) D P Q:EX=U
"RTN","ONCOPA2",21,0)
 W:DATEDX>3091231 !,"   Approach:                       ",ONCAB(165.5,IEN,234,"E") D P Q:EX=U
"RTN","ONCOPA2",22,0)
 W !,"   Surgical Margins:               ",ONCAB(165.5,IEN,59) D P Q:EX=U
"RTN","ONCOPA2",23,0)
 W !,"   Scope of LN Surgery (F):        ",ONCAB(165.5,IEN,138.4) D P Q:EX=U
"RTN","ONCOPA2",24,0)
 W !,"   Scope of LN Surgery Date:       ",ONCAB(165.5,IEN,138.2) D P Q:EX=U
"RTN","ONCOPA2",25,0)
 W !,"   Scope of LN Surgery @Fac (F):   ",ONCAB(165.5,IEN,138.5) D P Q:EX=U
"RTN","ONCOPA2",26,0)
 W !,"   Scope of LN Surgery @Fac Date:  ",ONCAB(165.5,IEN,138.3) D P Q:EX=U
"RTN","ONCOPA2",27,0)
 W !,"   Surg Proc/Other Site (F):       ",ONCAB(165.5,IEN,139.4) D P Q:EX=U
"RTN","ONCOPA2",28,0)
 W !,"   Surg Proc/Other Site Date:      ",ONCAB(165.5,IEN,139.2) D P Q:EX=U
"RTN","ONCOPA2",29,0)
 W !,"   Surg Proc/Other Site @Fac (F):  ",ONCAB(165.5,IEN,139.5) D P Q:EX=U
"RTN","ONCOPA2",30,0)
 W !,"   Surg Proc/Other Site @Fac Date: ",ONCAB(165.5,IEN,139.3) D P Q:EX=U
"RTN","ONCOPA2",31,0)
 W:DATEDX<3030000 !,"   Reconstruction/Restoration:     ",ONCAB(165.5,IEN,23) D P Q:EX=U
"RTN","ONCOPA2",32,0)
 W !,"   Date of Surgical Discharge:     ",ONCAB(165.5,IEN,435) D P Q:EX=U
"RTN","ONCOPA2",33,0)
 W !,"   Readmission w/i 30 Days/Surg:   ",ONCAB(165.5,IEN,14) D P Q:EX=U
"RTN","ONCOPA2",34,0)
 W ! D P Q:EX=U
"RTN","ONCOPA2",35,0)
 W !,"   Reason No Surgery of Primary:   ",ONCAB(165.5,IEN,58) D P Q:EX=U
"RTN","ONCOPA2",36,0)
 W !!,"   RX Text-Surgery: " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,14,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,14,TX,0) D P Q:EX=U
"RTN","ONCOPA2",37,0)
 W !,"   CAP Protocol Review:            ",ONCAB(165.5,IEN,46,"E") D P Q:EX=U
"RTN","ONCOPA2",38,0)
 W:ONCAB(165.5,IEN,46,"I")=0 !,"   CAP Text:                       ",ONCAB(165.5,IEN,47,"E") D P Q:EX=U
"RTN","ONCOPA2",39,0)
 W !,"   Tx Guidelines Discussion:       ",ONCAB(165.5,IEN,281,"E") D P Q:EX=U
"RTN","ONCOPA2",40,0)
 W !,"   Treatment Guideline #1:         ",ONCAB(165.5,IEN,228,"E") D P Q:EX=U
"RTN","ONCOPA2",41,0)
 W !,"   Treatment Guideline #2:         ",ONCAB(165.5,IEN,229,"E") D P Q:EX=U
"RTN","ONCOPA2",42,0)
 W !,"   Treatment Guideline #3:         ",ONCAB(165.5,IEN,230,"E") D P Q:EX=U
"RTN","ONCOPA2",43,0)
 W !,"   Treatment Guideline Location:   ",ONCAB(165.5,IEN,231,"E") D P Q:EX=U
"RTN","ONCOPA2",44,0)
 W !,"   Treatment Guideline Doc Date:   ",ONCAB(165.5,IEN,232,"E") D P Q:EX=U
"RTN","ONCOPA2",45,0)
 W !,"   Neoadjuvant therapy:            ",ONCAB(165.5,IEN,245,"E") D P Q:EX=U
"RTN","ONCOPA2",46,0)
 W ! D P Q:EX=U
"RTN","ONCOPA2",47,0)
 W !,"   Radiation:                      ",ONCAB(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCOPA2",48,0)
 W !,"   Date Radiation Started:         ",ONCAB(165.5,IEN,51) D P Q:EX=U
"RTN","ONCOPA2",49,0)
 W !,"   Location of Radiation Tx:       ",ONCAB(165.5,IEN,126) D P Q:EX=U
"RTN","ONCOPA2",50,0)
 W !,"   Radiation Treatment Volume:     ",ONCAB(165.5,IEN,125) D P Q:EX=U
"RTN","ONCOPA2",51,0)
 W !,"   Regional Treatment Modality:    ",ONCAB(165.5,IEN,363) D P Q:EX=U
"RTN","ONCOPA2",52,0)
 W !,"   Regional Dose: cGy:             ",ONCAB(165.5,IEN,442) D P Q:EX=U
"RTN","ONCOPA2",53,0)
 W !,"   Boost Treatment Modality:       ",ONCAB(165.5,IEN,363.1) D P Q:EX=U
"RTN","ONCOPA2",54,0)
 W !,"   Boost Dose: cGy:                ",ONCAB(165.5,IEN,443) D P Q:EX=U
"RTN","ONCOPA2",55,0)
 W !,"   Number of Txs to this Volume:   ",ONCAB(165.5,IEN,56) D P Q:EX=U
"RTN","ONCOPA2",56,0)
 W !,"   Date Radiation Ended:           ",ONCAB(165.5,IEN,361) D P Q:EX=U
"RTN","ONCOPA2",57,0)
 W !,"   Radiation @Fac:                 ",ONCAB(165.5,IEN,51.4) D P Q:EX=U
"RTN","ONCOPA2",58,0)
 W !,"   Radiation @Fac Date:            ",ONCAB(165.5,IEN,51.5) D P Q:EX=U
"RTN","ONCOPA2",59,0)
 W !,"   Radiation/Surgery Sequence:     ",ONCAB(165.5,IEN,51.3) D P Q:EX=U
"RTN","ONCOPA2",60,0)
 W !,"   Reason for No Radiation:        ",ONCAB(165.5,IEN,75) D P Q:EX=U
"RTN","ONCOPA2",61,0)
 W !!,"   RX Text-Radiation (Beam):  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,15,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,15,TX,0) D P Q:EX=U
"RTN","ONCOPA2",62,0)
 W !,"   RX Text-Radiation Other:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,16,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,16,TX,0) D P Q:EX=U
"RTN","ONCOPA2",63,0)
CHEM W !!,"   Chemotherapy:  ",ONCAB(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCOPA2",64,0)
 W !,"   Chemotherapy Date:  ",ONCAB(165.5,IEN,53) D P Q:EX=U
"RTN","ONCOPA2",65,0)
 W !,"   Chemotherapy @Fac:  ",ONCAB(165.5,IEN,53.3) D P Q:EX=U
"RTN","ONCOPA2",66,0)
 W !,"   Chemotherapy @Fac Date:  ",ONCAB(165.5,IEN,53.4) D P Q:EX=U
"RTN","ONCOPA2",67,0)
 W !,"   Chemotherapeutic Agent #1:  ",ONCAB(165.5,IEN,1423,"E") D P Q:EX=U
"RTN","ONCOPA2",68,0)
 W !,"   Chemotherapeutic Agent #2:  ",ONCAB(165.5,IEN,1423.1,"E") D P Q:EX=U
"RTN","ONCOPA2",69,0)
 W !,"   Chemotherapeutic Agent #3:  ",ONCAB(165.5,IEN,1423.2,"E") D P Q:EX=U
"RTN","ONCOPA2",70,0)
 W !,"   Chemotherapeutic Agent #4:  ",ONCAB(165.5,IEN,1423.3,"E") D P Q:EX=U
"RTN","ONCOPA2",71,0)
 W !,"   Chemotherapeutic Agent #5:  ",ONCAB(165.5,IEN,1423.4,"E") D P Q:EX=U
"RTN","ONCOPA2",72,0)
 W !,"   RX Text-Chemo:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,17,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,17,TX,0) D P Q:EX=U
"RTN","ONCOPA2",73,0)
HT W !!,"   Hormone Therapy:  ",ONCAB(165.5,IEN,54.2) D P Q:EX=U
"RTN","ONCOPA2",74,0)
 W !,"   Hormone Therapy Date:  ",ONCAB(165.5,IEN,54) D P Q:EX=U
"RTN","ONCOPA2",75,0)
 W !,"   Hormone Therapy @Fac:  ",ONCAB(165.5,IEN,54.3) D P Q:EX=U
"RTN","ONCOPA2",76,0)
 W !,"   Hormone Therapy @Fac Date:  ",ONCAB(165.5,IEN,54.4) D P Q:EX=U
"RTN","ONCOPA2",77,0)
 W !,"   RX Text-Hormone:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,18,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,18,TX,0) D P Q:EX=U
"RTN","ONCOPA2",78,0)
IMM W !!,"   Immunotherapy:  ",ONCAB(165.5,IEN,55.2) D P Q:EX=U
"RTN","ONCOPA2",79,0)
 I $P($G(^ONCO(165.5,IEN,3)),U,19)=0 G OTH
"RTN","ONCOPA2",80,0)
 W !,"   Immunotherapy Date:  ",ONCAB(165.5,IEN,55) D P Q:EX=U
"RTN","ONCOPA2",81,0)
 W !,"   Immunotherapy @Fac:  ",ONCAB(165.5,IEN,55.3) D P Q:EX=U
"RTN","ONCOPA2",82,0)
 W !,"   Immunotherapy @Fac Date:  ",ONCAB(165.5,IEN,55.4) D P Q:EX=U
"RTN","ONCOPA2",83,0)
 W !,"   RX Text-BRM:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,20,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,20,TX,0) D P Q:EX=U
"RTN","ONCOPA2",84,0)
 W !,"   Hema Trans/Endocrine Proc:  ",ONCAB(165.5,IEN,153) D P Q:EX=U
"RTN","ONCOPA2",85,0)
 W !,"   Hema Trans/Endocrine Proc Date:  ",ONCAB(165.5,IEN,153.1) D P Q:EX=U
"RTN","ONCOPA2",86,0)
 W ! D P Q:EX=U
"RTN","ONCOPA2",87,0)
 W !,"   Systemic/Surgery Sequence:  ",ONCAB(165.5,IEN,15) D P Q:EX=U
"RTN","ONCOPA2",88,0)
OTH W !!,"   Other Treatment:  ",ONCAB(165.5,IEN,57.2) D P Q:EX=U
"RTN","ONCOPA2",89,0)
 I $P($G(^ONCO(165.5,IEN,3)),U,25)=0 G PES
"RTN","ONCOPA2",90,0)
 W !,"   Other Treatment Date:  ",ONCAB(165.5,IEN,57) D P Q:EX=U
"RTN","ONCOPA2",91,0)
 W !,"   Other Treatment @Fac:  ",ONCAB(165.5,IEN,57.3) D P Q:EX=U
"RTN","ONCOPA2",92,0)
 W !,"   Other Treatment @Fac Date:  ",ONCAB(165.5,IEN,57.4) D P Q:EX=U
"RTN","ONCOPA2",93,0)
 W !,"   RX Text-Other:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,21,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,21,TX,0) D P Q:EX=U
"RTN","ONCOPA2",94,0)
PES W !,"   Palliative Care:  ",ONCAB(165.5,IEN,12) D P Q:EX=U
"RTN","ONCOPA2",95,0)
 W !,"   Palliative Care @Fac:  ",ONCAB(165.5,IEN,13) D P Q:EX=U
"RTN","ONCOPA2",96,0)
 W !,"   Clinical Trials Discussion:  ",ONCAB(165.5,IEN,279,"E") D P Q:EX=U
"RTN","ONCOPA2",97,0)
 W !,"   Protocol Eligibility Status:  ",ONCAB(165.5,IEN,346) D P Q:EX=U
"RTN","ONCOPA2",98,0)
 W !,"   Protocol Participation:  ",ONCAB(165.5,IEN,560) D P Q:EX=U
"RTN","ONCOPA2",99,0)
 W !,"   Year Put on Protocol:  ",ONCAB(165.5,IEN,133) D P Q:EX=U
"RTN","ONCOPA2",100,0)
 ;
"RTN","ONCOPA2",101,0)
 I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA2A
"RTN","ONCOPA2",102,0)
 D P Q:EX=U
"RTN","ONCOPA2",103,0)
PA2A D ^ONCOPA2A
"RTN","ONCOPA2",104,0)
 ; WILL CALL ONCOPA2A ROUTINE TO CONTINUE...
"RTN","ONCOPA2",105,0)
 Q
"RTN","ONCOPA2",106,0)
P ;
"RTN","ONCOPA2",107,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA2",108,0)
 .I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA2",109,0)
 .D HDR Q
"RTN","ONCOPA2",110,0)
 Q
"RTN","ONCOPA2",111,0)
HDR ; Header
"RTN","ONCOPA2",112,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA2",113,0)
 W CRA,!
"RTN","ONCOPA2",114,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA2",115,0)
 Q
"RTN","ONCOPA2",116,0)
 ;
"RTN","ONCOPA2",117,0)
CLEANUP ;Cleanup
"RTN","ONCOPA2",118,0)
 K CRA,DATEDX,EX,IEN,LINE,NAME,ONCAB,PATNAME,PG,SSAN,TITLE,Y
"RTN","ONCOPA2A")
0^215^B18422769
"RTN","ONCOPA2A",1,0)
ONCOPA2A ;Hines OIFO/RTK [PA Print Complete Abstract (132c)]; 09/05/97
"RTN","ONCOPA2A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPA2A",3,0)
 ; ONCO PRINT ABSTRACT CONTINUED
"RTN","ONCOPA2A",4,0)
 W !!,"   Text-Remarks:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,19,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,19,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",5,0)
 W !,"   Text Dx Proc-Phys.Exam:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,10,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,10,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",6,0)
 W !,"   Text Dx Proc-Xray/Scan:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,11,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,11,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",7,0)
 W !,"   Text Dx Proc-Operations:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,9,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,9,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",8,0)
 W !,"   Text Dx Proc-Lab Tests:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,22,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,22,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",9,0)
 W !,"   Text Dx Proc-Endoscopy:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,12,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,12,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",10,0)
 W !,"   Text Dx Proc-Path/Cyto:  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,13,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,13,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",11,0)
 ;
"RTN","ONCOPA2A",12,0)
 S NAME="RECURRENCES" D FORMAT^ONCOPA1
"RTN","ONCOPA2A",13,0)
 W !!,TITLE
"RTN","ONCOPA2A",14,0)
 W !!,"   Date of First Recurrence:  ",ONCAB(165.5,IEN,70)
"RTN","ONCOPA2A",15,0)
 W ?50,"   Type of First Recurrence:  ",ONCAB(165.5,IEN,71) D P Q:EX=U
"RTN","ONCOPA2A",16,0)
 W !,"   Distant Site 1:  ",ONCAB(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCOPA2A",17,0)
 W !,"   Distant Site 2:  ",ONCAB(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCOPA2A",18,0)
 W !,"   Distant Site 3:  ",ONCAB(165.5,IEN,71.3) D P Q:EX=U
"RTN","ONCOPA2A",19,0)
 F SR=0:0 S SR=$O(ONCAB(165.572,SR)) Q:SR'>0  D
"RTN","ONCOPA2A",20,0)
 .W !!,"   Subsequent Recurrence Date:  ",ONCAB(165.572,SR,.01)
"RTN","ONCOPA2A",21,0)
 .W ?50,"   Type of Subsequent Recurrence:  ",ONCAB(165.572,SR,.02) D P Q:EX=U
"RTN","ONCOPA2A",22,0)
 .W !,"   Distant Site 1:  ",ONCAB(165.572,SR,.03) D P Q:EX=U
"RTN","ONCOPA2A",23,0)
 .W !,"   Distant Site 2:  ",ONCAB(165.572,SR,.031) D P Q:EX=U
"RTN","ONCOPA2A",24,0)
 .W !,"   Distant Site 3:  ",ONCAB(165.572,SR,.032) D P Q:EX=U
"RTN","ONCOPA2A",25,0)
 .Q
"RTN","ONCOPA2A",26,0)
 S NAME="SUBSEQUENT COURSE OF THERAPY" D FORMAT^ONCOPA1
"RTN","ONCOPA2A",27,0)
 W !!,TITLE
"RTN","ONCOPA2A",28,0)
 F SCT=0:0 S SCT=$O(ONCAB(165.51,SCT)) Q:SCT'>0  D
"RTN","ONCOPA2A",29,0)
 .W !!?30,"   Date Started:  ",ONCAB(165.51,SCT,.01) D P Q:EX=U
"RTN","ONCOPA2A",30,0)
 .W !?8,"   Surgery of Primary Site:  ",ONCAB(165.51,SCT,.041)
"RTN","ONCOPA2A",31,0)
 .W "   ",ONCAB(165.51,SCT,.04) D P Q:EX=U
"RTN","ONCOPA2A",32,0)
 .;W !?8,"   Scope of Lymph Node Surg:  ",ONCAB(165.51,SCT,35) D P Q:EX=U
"RTN","ONCOPA2A",33,0)
 .;W !?8,"   Number of Nodes Removed:  ",ONCAB(165.51,SCT,37) D P Q:EX=U
"RTN","ONCOPA2A",34,0)
 .;W !?8,"   Surgery of Other Sites/Nodes:  ",ONCAB(165.51,SCT,36) D P Q:EX=U
"RTN","ONCOPA2A",35,0)
 .;W !?8,"   Recon/Restore - Delayed:  ",ONCAB(165.51,SCT,34)
"RTN","ONCOPA2A",36,0)
 .;W "   ",ONCAB(165.51,SCT,33) D P Q:EX=U
"RTN","ONCOPA2A",37,0)
 .W !?8,"   Radiation:  ",ONCAB(165.51,SCT,.051)
"RTN","ONCOPA2A",38,0)
 .W "   ",ONCAB(165.51,SCT,.05) D P Q:EX=U
"RTN","ONCOPA2A",39,0)
 .W !?8,"   Radiation Sequence:  ",ONCAB(165.51,SCT,1) D P Q:EX=U
"RTN","ONCOPA2A",40,0)
 .W:$P($G(^ONCO(165.5,IEN,0)),U,16)<2960000 !?8,"   Radiation Therapy to CNS:  ",ONCAB(165.51,SCT,.031)
"RTN","ONCOPA2A",41,0)
 .W:$P($G(^ONCO(165.5,IEN,0)),U,16)<2960000 "   ",ONCAB(165.51,SCT,.03) D P Q:EX=U
"RTN","ONCOPA2A",42,0)
 .W !?8,"   Chemotherapy:  ",ONCAB(165.51,SCT,.061)
"RTN","ONCOPA2A",43,0)
 .W "   ",ONCAB(165.51,SCT,.06) D P Q:EX=U
"RTN","ONCOPA2A",44,0)
 .W !?8,"   Hormone Therapy:  ",ONCAB(165.51,SCT,.071)
"RTN","ONCOPA2A",45,0)
 .W "   ",ONCAB(165.51,SCT,.07) D P Q:EX=U
"RTN","ONCOPA2A",46,0)
 .W !?8,"   Immunotherapy:  ",ONCAB(165.51,SCT,.081)
"RTN","ONCOPA2A",47,0)
 .W "   ",ONCAB(165.51,SCT,.08) D P Q:EX=U
"RTN","ONCOPA2A",48,0)
 .W !?8,"   Hema Trans/Endocrine Proc:  ",ONCAB(165.51,SCT,.021)
"RTN","ONCOPA2A",49,0)
 .W "   ",ONCAB(165.51,SCT,.02) D P Q:EX=U
"RTN","ONCOPA2A",50,0)
 .W !?8,"   Other Treatment:  ",ONCAB(165.51,SCT,.091)
"RTN","ONCOPA2A",51,0)
 .W "   ",ONCAB(165.51,SCT,.09) D P Q:EX=U
"RTN","ONCOPA2A",52,0)
 .W !,"   Place:  ",ONCAB(165.51,SCT,2) D P Q:EX=U
"RTN","ONCOPA2A",53,0)
 .W !,"   Comment(s):  " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,4,SCT,1,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,4,SCT,1,TX,0) D P Q:EX=U
"RTN","ONCOPA2A",54,0)
 S NAME="OTHER PRIMARY SITES" D FORMAT^ONCOPA1
"RTN","ONCOPA2A",55,0)
 W !!,TITLE,!
"RTN","ONCOPA2A",56,0)
 S (FLG,J)=0 F XD1=0:0 S XD1=$O(^ONCO(165.5,"C",PTIEN,XD1)) Q:XD1'>""!(FLG=1)  I $$DIV^ONCFUNC(XD1)=DUZ(2) D
"RTN","ONCOPA2A",57,0)
 .I $D(^ONCO(165.5,XD1,0)),XD1'=IEN S J=J+1 D ^ONCOCOML D P I EX=U S FLG=1
"RTN","ONCOPA2A",58,0)
 I J=0 W !?24,"No Other Primary Sites"
"RTN","ONCOPA2A",59,0)
 ;
"RTN","ONCOPA2A",60,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA3
"RTN","ONCOPA2A",61,0)
 D P Q:EX=U
"RTN","ONCOPA2A",62,0)
PA3 D ^ONCOPA3
"RTN","ONCOPA2A",63,0)
 Q
"RTN","ONCOPA2A",64,0)
P ;
"RTN","ONCOPA2A",65,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA2A",66,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA2A",67,0)
 .D HDR Q
"RTN","ONCOPA2A",68,0)
 Q
"RTN","ONCOPA2A",69,0)
HDR ; Header
"RTN","ONCOPA2A",70,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA2A",71,0)
 W CRA,!
"RTN","ONCOPA2A",72,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA2A",73,0)
 Q
"RTN","ONCOPA2A",74,0)
PAUSE ;
"RTN","ONCOPA2A",75,0)
 W ! R "Enter RETURN to continue or '^' to exit: ",PAUSE:30
"RTN","ONCOPA2A",76,0)
 I PAUSE="" Q
"RTN","ONCOPA2A",77,0)
 I PAUSE=U Q
"RTN","ONCOPA2A",78,0)
 G PAUSE
"RTN","ONCOPA3")
0^216^B38378790
"RTN","ONCOPA3",1,0)
ONCOPA3 ;Hines OIFO/GWB - [PA Print Complete Abstract (132c)] continued ;10/07/11
"RTN","ONCOPA3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPA3",3,0)
 ;
"RTN","ONCOPA3",4,0)
 N ALHS,ALTP,ALZN,CFH,CHST,NOK,OC,OCCP,RCDT,TBHS,TBTP,TBZN,TX,Y
"RTN","ONCOPA3",5,0)
 S NAME="PERSONAL DATA" D FORMAT^ONCOPA1
"RTN","ONCOPA3",6,0)
 W !!,TITLE
"RTN","ONCOPA3",7,0)
 W !!?10,"             Address at Dx: ",ONCAB(165.5,IEN,8)
"RTN","ONCOPA3",8,0)
 W !?10,"      Address at Dx - Supp: ",ONCAB(165.5,IEN,8.2)
"RTN","ONCOPA3",9,0)
 W !?10,"           City/Town at Dx: ",ONCAB(165.5,IEN,8.1),?70,"     Place of Birth: ",ONCAB(160,PTIEN,7) D P Q:EX=U
"RTN","ONCOPA3",10,0)
 W !?10,"               State at Dx: ",ONCAB(165.5,IEN,16),?70,"           Religion: ",$E(ONCAB(160,PTIEN,13),1,14) D P Q:EX=U
"RTN","ONCOPA3",11,0)
 W !?10,"         Postal Code at Dx: ",ONCAB(165.5,IEN,9),?69,"Marital Status at Dx: ",ONCAB(165.5,IEN,11) D P Q:EX=U
"RTN","ONCOPA3",12,0)
 W !?10,"              County at Dx: ",ONCAB(165.5,IEN,10),?70,"Primary Payer at Dx: ",ONCAB(165.5,IEN,18) D P Q:EX=U
"RTN","ONCOPA3",13,0)
 W !?10,"                 Telephone: ",ONCAB(160,PTIEN,.131)
"RTN","ONCOPA3",14,0)
 S NOK=""
"RTN","ONCOPA3",15,0)
 I $D(^ONCO(160,PTIEN,0)) S RCDT=$G(^ONCO(160,PTIEN,0)) I $P(RCDT,";",2)["DPT",$D(^DPT($P(RCDT,";",1),.21)) S NOK=$P(^(.21),U)_" ("_$P(^(.21),U,2)_")"
"RTN","ONCOPA3",16,0)
 I ESPD=1 S NOK="XXXXX,XXXXX"
"RTN","ONCOPA3",17,0)
 W ?70,"        Next of Kin: ",NOK D P Q:EX=U
"RTN","ONCOPA3",18,0)
 W !?10,"           Abstract Status: ",ONCAB(165.5,IEN,91) D P Q:EX=U
"RTN","ONCOPA3",19,0)
 W !?10,"     Date of First Contact: ",ONCAB(165.5,IEN,155) D P Q:EX=U
"RTN","ONCOPA3",20,0)
 W !?10,"       Date Case Completed: ",ONCAB(165.5,IEN,90) D P Q:EX=U
"RTN","ONCOPA3",21,0)
 W !?8,"Elapsed Months to Completion: ",ONCAB(165.5,IEN,157.1,"E") D P Q:EX=U
"RTN","ONCOPA3",22,0)
 W !?10,"             Abstracted by: ",ONCAB(165.5,IEN,92) D P Q:EX=U
"RTN","ONCOPA3",23,0)
 W !
"RTN","ONCOPA3",24,0)
 W !?1,"               Other Cancer:  ",ONCAB(165.5,IEN,148,"E") D P Q:EX=U
"RTN","ONCOPA3",25,0)
 W !?1,"                  Cancer #1:  ",ONCAB(165.5,IEN,148.1,"E") D P Q:EX=U
"RTN","ONCOPA3",26,0)
 W !?1,"                  Cancer #2:  ",ONCAB(165.5,IEN,148.2,"E") D P Q:EX=U
"RTN","ONCOPA3",27,0)
 W !?1,"                  Cancer #3:  ",ONCAB(165.5,IEN,148.3,"E") D P Q:EX=U
"RTN","ONCOPA3",28,0)
 W !?1,"                  Cancer #4:  ",ONCAB(165.5,IEN,148.4,"E") D P Q:EX=U
"RTN","ONCOPA3",29,0)
 W !!?7,"Agent Orange Exposure:  ",ONCAB(160,PTIEN,48) D P Q:EX=U
"RTN","ONCOPA3",30,0)
 W !?1,"Ionizing Radiation Exposure:  ",ONCAB(160,PTIEN,50) D P Q:EX=U
"RTN","ONCOPA3",31,0)
 W !?1,"          Chemical Exposure:  ",ONCAB(160,PTIEN,52) D P Q:EX=U
"RTN","ONCOPA3",32,0)
 W !?1,"          Asbestos Exposure:  ",ONCAB(160,PTIEN,61) D P Q:EX=U
"RTN","ONCOPA3",33,0)
 W !?1,"            Vietnam Service:  ",ONCAB(160,PTIEN,62) D P Q:EX=U
"RTN","ONCOPA3",34,0)
 W !?1,"            Lebanon Service:  ",ONCAB(160,PTIEN,55) D P Q:EX=U
"RTN","ONCOPA3",35,0)
 W !?1,"            Grenada Service:  ",ONCAB(160,PTIEN,63) D P Q:EX=U
"RTN","ONCOPA3",36,0)
 W !?1,"             Panama Service:  ",ONCAB(160,PTIEN,64) D P Q:EX=U
"RTN","ONCOPA3",37,0)
 W !?1,"       Persian Gulf Service:  ",ONCAB(160,PTIEN,51) D P Q:EX=U
"RTN","ONCOPA3",38,0)
 W !?1,"            Somalia Service:  ",ONCAB(160,PTIEN,56) D P Q:EX=U
"RTN","ONCOPA3",39,0)
 W !?1,"         Yugoslavia Service:  ",ONCAB(160,PTIEN,65) D P Q:EX=U
"RTN","ONCOPA3",40,0)
 W !?1,"  Afghanistan (OEF) Service:  ",ONCAB(160,PTIEN,67) D P Q:EX=U
"RTN","ONCOPA3",41,0)
 W !?1,"         Iraq (OIF) Service:  ",ONCAB(160,PTIEN,66) D P Q:EX=U
"RTN","ONCOPA3",42,0)
 W !?1,"          Branch of Service:  ",ONCAB(160,PTIEN,68) D P Q:EX=U
"RTN","ONCOPA3",43,0)
 W !!?1,"         Source Comorbidity:  ",ONCAB(160,PTIEN,1006) D P Q:EX=U
"RTN","ONCOPA3",44,0)
 W !?1,"Comorbidity/Complication  1:  ",ONCAB(160,PTIEN,25) D P Q:EX=U
"RTN","ONCOPA3",45,0)
 W !?1,"Comorbidity/Complication  2:  ",ONCAB(160,PTIEN,25.1) D P Q:EX=U
"RTN","ONCOPA3",46,0)
 W !?1,"Comorbidity/Complication  3:  ",ONCAB(160,PTIEN,25.2) D P Q:EX=U
"RTN","ONCOPA3",47,0)
 W !?1,"Comorbidity/Complication  4:  ",ONCAB(160,PTIEN,25.3) D P Q:EX=U
"RTN","ONCOPA3",48,0)
 W !?1,"Comorbidity/Complication  5:  ",ONCAB(160,PTIEN,25.4) D P Q:EX=U
"RTN","ONCOPA3",49,0)
 W !?1,"Comorbidity/Complication  6:  ",ONCAB(160,PTIEN,25.5) D P Q:EX=U
"RTN","ONCOPA3",50,0)
 W !?1,"Comorbidity/Complication  7:  ",ONCAB(160,PTIEN,25.6) D P Q:EX=U
"RTN","ONCOPA3",51,0)
 W !?1,"Comorbidity/Complication  8:  ",ONCAB(160,PTIEN,25.7) D P Q:EX=U
"RTN","ONCOPA3",52,0)
 W !?1,"Comorbidity/Complication  9:  ",ONCAB(160,PTIEN,25.8) D P Q:EX=U
"RTN","ONCOPA3",53,0)
 W !?1,"Comorbidity/Complication 10:  ",ONCAB(160,PTIEN,25.9) D P Q:EX=U
"RTN","ONCOPA3",54,0)
 S NAME="EMPLOYMENT HISTORY" D FORMAT^ONCOPA1
"RTN","ONCOPA3",55,0)
 W !!,TITLE,!
"RTN","ONCOPA3",56,0)
 I $D(^ONCO(160,PTIEN,7,0)) F OC=0:0 S OC=$O(^ONCO(160,PTIEN,7,OC)) Q:OC'>0  D
"RTN","ONCOPA3",57,0)
 .S OCCP=$P($G(^ONCO(160,PTIEN,7,OC,0)),U,1) I OCCP="" Q
"RTN","ONCOPA3",58,0)
 .W !,"    Occupation:  ",$E(OCCP,1,24) D P Q:EX=U
"RTN","ONCOPA3",59,0)
 .W !,"Usual Industry:  ",$E($P($G(^ONCO(160,PTIEN,7,OC,0)),U,4),1,22) D P Q:EX=U
"RTN","ONCOPA3",60,0)
 .W !  D P Q:EX=U 
"RTN","ONCOPA3",61,0)
 S NAME="TOBACCO AND ALCOHOL USAGE" D FORMAT^ONCOPA1
"RTN","ONCOPA3",62,0)
 W !,TITLE
"RTN","ONCOPA3",63,0)
 W !!?15,"  TOBACCO HISTORY:  ",ONCAB(160,PTIEN,38) D P Q:EX=U
"RTN","ONCOPA3",64,0)
 F TBHS=0:0 S TBHS=$O(^ONCO(160,PTIEN,5,TBHS)) Q:TBHS'>0  D
"RTN","ONCOPA3",65,0)
 .S TBZN=$G(^ONCO(160,PTIEN,5,TBHS,0)) S TBTP=$P(TBZN,U,1) I TBTP="" Q
"RTN","ONCOPA3",66,0)
 .W !?3,"Type of Tobacco User:  ",$S(TBTP=1:"CIGARETTE",TBTP=2:"CIGARS",TBTP=3:"PIPE",TBTP=4:"CHEWING TOBACCO",TBTP=5:"SNUFF",TBTP=6:"MARIJUANA",TBTP=7:"MORE THAN 1 TYPE",TBTP=8:"UNKNOWN",1:"")
"RTN","ONCOPA3",67,0)
 .W ?55,"Pack-Years:  ",$S($P(TBZN,U,2)="U":"UNK",1:$P(TBZN,U,2))
"RTN","ONCOPA3",68,0)
 .W ?77,"Year Quit Tobacco Use:  " S Y=$P(TBZN,U,3) W:Y="U" "UNK" I +Y D DD^%DT W Y
"RTN","ONCOPA3",69,0)
 .Q
"RTN","ONCOPA3",70,0)
 W !!?15,"  ALCOHOL HISTORY:  ",ONCAB(160,PTIEN,39) D P Q:EX=U
"RTN","ONCOPA3",71,0)
 F ALHS=0:0 S ALHS=$O(^ONCO(160,PTIEN,6,ALHS)) Q:ALHS'>0  D
"RTN","ONCOPA3",72,0)
 .S ALZN=$G(^ONCO(160,PTIEN,6,ALHS,0)) S ALTP=$P(ALZN,U,1) I ALTP="" Q
"RTN","ONCOPA3",73,0)
 .W !?3,"Type of Alcohol User:  ",$S(ALTP="B":"BEER",ALTP="W":"WINE",ALTP="H":"HARD LIQUOR",ALTP="M":"MODERATE/SOCIAL",ALTP="S":"SERIOUS/HEAVY",ALTP="U":"UNKNOWN",1:"")
"RTN","ONCOPA3",74,0)
 .W ?45,"Years of Alcohol Use:  ",$S($P(ALZN,U,2)="U":"UNK",1:$P(ALZN,U,2))
"RTN","ONCOPA3",75,0)
 .W ?77,"Drinks Per Day:  ",$S($P(ALZN,U,3)="U":"UNK",1:$P(ALZN,U,3))
"RTN","ONCOPA3",76,0)
 .W ?100,"Year Quit Drinking:  " S Y=$P(ALZN,U,4) W:Y="U" "UNK" I +Y D DD^%DT W Y
"RTN","ONCOPA3",77,0)
 .Q
"RTN","ONCOPA3",78,0)
 S CFH=ONCAB(160,PTIEN,43),NAME="CANCER FAMILY HISTORY: "_CFH
"RTN","ONCOPA3",79,0)
 D FORMAT^ONCOPA1 W !!,TITLE,!
"RTN","ONCOPA3",80,0)
 F CHST=0:0 S CHST=$O(ONCAB(160.044,CHST)) Q:CHST'>0  D
"RTN","ONCOPA3",81,0)
 .W !,"   Family member with cancer:  ",ONCAB(160.044,CHST,.01)
"RTN","ONCOPA3",82,0)
 .W ?50,"        Cancer:  ",ONCAB(160.044,CHST,1) D P Q:EX=U
"RTN","ONCOPA3",83,0)
 .Q
"RTN","ONCOPA3",84,0)
 S NAME="PHYSICIAN CONTACTS " D FORMAT^ONCOPA1
"RTN","ONCOPA3",85,0)
 W !!,TITLE
"RTN","ONCOPA3",86,0)
 I DATEDX>3061231 D
"RTN","ONCOPA3",87,0)
 .W !,"    Managing Physician:  ",ONCAB(165.5,IEN,2.2,"E") D P Q:EX=U
"RTN","ONCOPA3",88,0)
 W !,"   Following Physician:  ",ONCAB(165.5,IEN,2.1) D P Q:EX=U
"RTN","ONCOPA3",89,0)
 W !,"       Primary Surgeon:  ",ONCAB(165.5,IEN,2) D P Q:EX=U
"RTN","ONCOPA3",90,0)
 W !,"          Physician #3:  ",ONCAB(165.5,IEN,2.3) D P Q:EX=U
"RTN","ONCOPA3",91,0)
 W !,"          Physician #4:  ",ONCAB(165.5,IEN,2.4) D P Q:EX=U
"RTN","ONCOPA3",92,0)
 W !!,"   QA Selected:  ",ONCAB(165.5,IEN,62) D P Q:EX=U
"RTN","ONCOPA3",93,0)
 W ?25,"   QA Reviewer:  ",ONCAB(165.5,IEN,64.1) D P Q:EX=U
"RTN","ONCOPA3",94,0)
 W ?75,"   QA Date:  ",ONCAB(165.5,IEN,64) D P Q:EX=U
"RTN","ONCOPA3",95,0)
 W ?100,"   QA Review:  ",ONCAB(165.5,IEN,63) D P Q:EX=U
"RTN","ONCOPA3",96,0)
 W !,"   QA Findings: " F TX=0:0 S TX=$O(^ONCO(165.5,IEN,28,TX)) Q:TX'>0  W !?6,^ONCO(165.5,IEN,28,TX,0) D P Q:EX=U
"RTN","ONCOPA3",97,0)
 ;
"RTN","ONCOPA3",98,0)
 I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR Q:'Y  D HDR G PA3A
"RTN","ONCOPA3",99,0)
 D P Q:EX=U
"RTN","ONCOPA3",100,0)
PA3A D ^ONCOPA3A
"RTN","ONCOPA3",101,0)
 Q
"RTN","ONCOPA3",102,0)
P ;
"RTN","ONCOPA3",103,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA3",104,0)
 .I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA3",105,0)
 .D HDR Q
"RTN","ONCOPA3",106,0)
 Q
"RTN","ONCOPA3",107,0)
HDR ; Header
"RTN","ONCOPA3",108,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA3",109,0)
 W CRA,!
"RTN","ONCOPA3",110,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA3",111,0)
 Q
"RTN","ONCOPA3",112,0)
 ;
"RTN","ONCOPA3",113,0)
CLEANUP ;Cleanup
"RTN","ONCOPA3",114,0)
 K CRA,DATEDX,ESPD,EX,IEN,LINE,NAME,ONCAB,PATNAME,PG,PTIEN,SSAN,TITLE
"RTN","ONCOPA3A")
0^217^B27991276
"RTN","ONCOPA3A",1,0)
ONCOPA3A ;Hines OIFO/RTK - [PA Print Complete Abstract (132c) ;03/11/11
"RTN","ONCOPA3A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPA3A",3,0)
 ;[PA Print Complete Abstract (132c)] continued
"RTN","ONCOPA3A",4,0)
 S NAME="FOLLOW-UP HISTORY" D FORMAT^ONCOPA1
"RTN","ONCOPA3A",5,0)
 W !!,TITLE,!
"RTN","ONCOPA3A",6,0)
 I $D(^ONCO(160,PTIEN,"F",0)) D FH Q:EX=U
"RTN","ONCOPA3A",7,0)
 W !!,"   Date of Last Contact:  ",ONCAB(165.5,IEN,200)
"RTN","ONCOPA3A",8,0)
 W ?50,"   Last Tumor Status:  ",ONCAB(165.5,IEN,95) D P Q:EX=U
"RTN","ONCOPA3A",9,0)
 W !!,"   Date of Death:  ",ONCAB(160,PTIEN,29) D P Q:EX=U
"RTN","ONCOPA3A",10,0)
 W !,"   Cause of Death/Cancer:  ",ONCAB(160,PTIEN,18.9) D P Q:EX=U
"RTN","ONCOPA3A",11,0)
 ;W !,"   ICD Cause of Death:  ",ONCAB(160,PTIEN,19),"  "
"RTN","ONCOPA3A",12,0)
 ;S ICDCD=$P($G(^ONCO(160,PTIEN,1)),U,3) I ICDCD'="" S IC=$$ICDDX^ICDCODE(ICDCD) I +IC'=-1 W $P(IC,U,4) D P Q:EX=U
"RTN","ONCOPA3A",13,0)
 ;W !,"   State Death Cert:  ",$P($G(^ONCO(160,PTIEN,1)),U,14),"  ",ONCAB(160,PTIEN,19.1) D P Q:EX=U
"RTN","ONCOPA3A",14,0)
 ;W !,"   ICD Revision:  ",ONCAB(160,PTIEN,20) D P Q:EX=U
"RTN","ONCOPA3A",15,0)
 W !,"   Place of Death:  ",ONCAB(160,PTIEN,21) D P Q:EX=U
"RTN","ONCOPA3A",16,0)
 W !,"   Care Center at Death:  ",ONCAB(160,PTIEN,24.5) D P Q:EX=U
"RTN","ONCOPA3A",17,0)
 W !,"   Autopsy:  ",ONCAB(160,PTIEN,22.9) D P Q:EX=U
"RTN","ONCOPA3A",18,0)
 W !,"   Autopsy Date/Time:  ",ONCAB(160,PTIEN,23) D P Q:EX=U
"RTN","ONCOPA3A",19,0)
 W !,"   Autopsy No.:  ",ONCAB(160,PTIEN,24) D P Q:EX=U
"RTN","ONCOPA3A",20,0)
 W !,"   Path/Autopsy:  " F PATH=0:0 S PATH=$O(^ONCO(160,PTIEN,4,PATH)) Q:PATH'>0  W !?8,$G(^ONCO(160,PTIEN,4,PATH,0)) D P Q:EX=U
"RTN","ONCOPA3A",21,0)
 I $P($G(^ONCO(160,PTIEN,1)),U,1)=0 W !!?30,"TUMOR Status at DEATH (Multiple Primaries)",! S CNTR=1 F PRI=0:0 S PRI=$O(^ONCO(165.5,"C",PTIEN,PRI)) Q:PRI'>0  I $$DIV^ONCFUNC(PRI)=DUZ(2) D
"RTN","ONCOPA3A",22,0)
 .S ZN=$G(^ONCO(165.5,PRI,0)) Q:ZN=""
"RTN","ONCOPA3A",23,0)
 .S CNTR=CNTR+1,ST=$P(ZN,U,1),TOP=$P($G(^ONCO(165.5,PRI,2)),U,1)
"RTN","ONCOPA3A",24,0)
 .S SITE=$S(TOP'="":$P($G(^ONCO(164,TOP,0)),U,1),1:$P($G(^ONCO(164.2,ST,0)),U,1))
"RTN","ONCOPA3A",25,0)
 .S TSTAT=$P($G(^ONCO(165.5,PRI,7)),U,6)
"RTN","ONCOPA3A",26,0)
 .I CNTR#2=0 W !?3,SITE,":  " I TSTAT'="" W $P($G(^ONCO(164.42,TSTAT,0)),U,1)
"RTN","ONCOPA3A",27,0)
 .I CNTR#2'=0 W ?70,SITE,":  " I TSTAT'="" W $P($G(^ONCO(164.42,TSTAT,0)),U,1) D P Q:EX=U
"RTN","ONCOPA3A",28,0)
 .Q
"RTN","ONCOPA3A",29,0)
 W !
"RTN","ONCOPA3A",30,0)
 I $G(PRTPCE)=1 D PCEPRT^ONCOGEN
"RTN","ONCOPA3A",31,0)
 Q
"RTN","ONCOPA3A",32,0)
FH ; Do the Follow-Up History display (#160,#400 multiple "F" node)
"RTN","ONCOPA3A",33,0)
 F FOLH=0:0 S FOLH=$O(^ONCO(160,PTIEN,"F","AA",FOLH)) Q:FOLH'>0!(EX=U)  D
"RTN","ONCOPA3A",34,0)
 .S FHIEN=$O(^ONCO(160,PTIEN,"F","AA",FOLH,""))
"RTN","ONCOPA3A",35,0)
 .S FHZN=$G(^ONCO(160,PTIEN,"F",FHIEN,0)),FHDT=$P(FHZN,U,1) Q:FHDT=""!(EX=U)
"RTN","ONCOPA3A",36,0)
 .W !,"--------------------------------------------------------------------------------------------------------------------------------" D P Q:EX=U
"RTN","ONCOPA3A",37,0)
 .F OTHPRI=0:0 S OTHPRI=$O(^ONCO(165.5,"C",PTIEN,OTHPRI)) Q:OTHPRI'>0  I $$DIV^ONCFUNC(OTHPRI)=DUZ(2) D
"RTN","ONCOPA3A",38,0)
 ..S PRZN=$G(^ONCO(165.5,OTHPRI,0)),DXDT=$P(PRZN,U,16)
"RTN","ONCOPA3A",39,0)
 ..I DXDT=""!(DXDT>FHDT) Q
"RTN","ONCOPA3A",40,0)
 ..S ST=$P(PRZN,U,1),TOP=$P($G(^ONCO(165.5,OTHPRI,2)),U,1)
"RTN","ONCOPA3A",41,0)
 ..S SITE=$S(TOP'="":$P($G(^ONCO(164,TOP,0)),U,1),1:$P($G(^ONCO(164.2,ST,0)),U,1))
"RTN","ONCOPA3A",42,0)
 ..S TSTAT="",TSIEN=$O(^ONCO(165.5,OTHPRI,"TS","B",FHDT,""))
"RTN","ONCOPA3A",43,0)
 ..I TSIEN'="" S TSTAT=$P($G(^ONCO(165.5,OTHPRI,"TS",TSIEN,0)),U,2)
"RTN","ONCOPA3A",44,0)
 ..W !?3,SITE,":  " I TSTAT'="" W $P($G(^ONCO(164.42,TSTAT,0)),U,1) D P Q:EX=U
"RTN","ONCOPA3A",45,0)
 ..Q
"RTN","ONCOPA3A",46,0)
 .W !!,"   Last Contact:  " S Y=FHDT D DD^%DT W Y
"RTN","ONCOPA3A",47,0)
 .W ?70,"  Follow-up Method:  " S FM=$P(FHZN,U,4)
"RTN","ONCOPA3A",48,0)
 .W $S(FM=0:"Reported Hospitalization",FM=1:"Readmission (inpatient or outpatient)",FM=2:"Physician",FM=3:"Patient",FM=4:"Department of Motor Vehicles",FM=5:"Medicare/Medicaid file",FM=7:"Death certificate",FM=8:"Other",FM=9:"Unknown",1:"")
"RTN","ONCOPA3A",49,0)
 .D P Q:EX=U
"RTN","ONCOPA3A",50,0)
 .W !,"   Vital Status:  " S VS=$P(FHZN,U,2) W $S(VS=0:"Dead",VS=1:"Alive",1:"")
"RTN","ONCOPA3A",51,0)
 .W ?70,"  Next Follow-up Method:  " S NF=$P(FHZN,U,6)
"RTN","ONCOPA3A",52,0)
 .W $S(NF=0:"Chart requisition",NF=1:"Physician",NF=2:"Contact letter",NF=3:"Phone call",NF=4:"Other hospital contact",NF=5:"Other",NF=8:"Foreign residents (not allowed)",NF=9:"Not followed",1:"")
"RTN","ONCOPA3A",53,0)
 .D P Q:EX=U
"RTN","ONCOPA3A",54,0)
 .;W !,"   Quality of Survival:  " S QS=$P(FHZN,U,5)
"RTN","ONCOPA3A",55,0)
 .;W $S(QS=0:"Normal",QS=1:"Symptomatic & Ambulatory",QS=2:"More than 50% Ambulatory",QS=3:"Less than 50% Ambulatory",QS=4:"Bedridden",QS=8:"Not applicable, dead",QS=9:"Unknown or unspecified",1:"")
"RTN","ONCOPA3A",56,0)
 .W ?70,"  Unusual Follow-up Method:  " S UF=$P(FHZN,U,7) W $S(UF=0!(UF=1):"1st unusual method",UF=2:"2nd unusual method",1:"") D P Q:EX=U
"RTN","ONCOPA3A",57,0)
 .D P Q:EX=U
"RTN","ONCOPA3A",58,0)
 .W !?3,"Date Entered:  " S DTE=$P(FHZN,U,11) I DTE'="" W $E(DTE,4,5)_"/"_$E(DTE,6,7)_"/"_($E(DTE,1,3)+1700)
"RTN","ONCOPA3A",59,0)
 .W ?72,"Registrar:  " S REG=$P(FHZN,U,10) I REG'="" S REG1=$P($G(^VA(200,REG,0)),"^",1) W REG1
"RTN","ONCOPA3A",60,0)
 .D P Q:EX=U
"RTN","ONCOPA3A",61,0)
 .W !,"   Following Registry:  " S FR=$P(FHZN,U,9) I FR'="" W $P($G(^ONCO(160.19,FR,0)),U,2)
"RTN","ONCOPA3A",62,0)
 .D P Q:EX=U
"RTN","ONCOPA3A",63,0)
 .I $D(^ONCO(160,PTIEN,"F",FHIEN,1,0)) D
"RTN","ONCOPA3A",64,0)
 ..W !!,"   Comments:"
"RTN","ONCOPA3A",65,0)
 ..F CMIEN=0:0 S CMIEN=$O(^ONCO(160,PTIEN,"F",FHIEN,1,CMIEN)) Q:CMIEN'>0  W !?5,$G(^ONCO(160,PTIEN,"F",FHIEN,1,CMIEN,0)) D P Q:EX=U
"RTN","ONCOPA3A",66,0)
 ..Q
"RTN","ONCOPA3A",67,0)
 .Q
"RTN","ONCOPA3A",68,0)
 Q:EX=U  W !,"--------------------------------------------------------------------------------------------------------------------------------"
"RTN","ONCOPA3A",69,0)
 Q
"RTN","ONCOPA3A",70,0)
P ;
"RTN","ONCOPA3A",71,0)
 I ($Y'<(LINE-1)) D  Q:EX=U  W !
"RTN","ONCOPA3A",72,0)
 .I $E(IOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to continue with this abstract" D ^DIR I 'Y S EX=U Q
"RTN","ONCOPA3A",73,0)
 .D HDR Q
"RTN","ONCOPA3A",74,0)
 Q
"RTN","ONCOPA3A",75,0)
HDR ; Header
"RTN","ONCOPA3A",76,0)
 W @IOF S PG=PG+1
"RTN","ONCOPA3A",77,0)
 W CRA,!
"RTN","ONCOPA3A",78,0)
 W ?5," Patient Name:  ",PATNAME,?84,"SSN:  ",SSAN,!
"RTN","ONCOPA3A",79,0)
 Q
"RTN","ONCOPA3A",80,0)
 ;
"RTN","ONCOPA3A",81,0)
CLEANUP ;Cleanup
"RTN","ONCOPA3A",82,0)
 K CMIEN,CNTR,CRA,DTE,DXDT,EX,FHDT,FHIEN,FHZN,FM,FOLH,FR,IC,ICDCD,IEN
"RTN","ONCOPA3A",83,0)
 K LINE,NAME,NF,ONCAB,OTHPRI,PATH,PATNAME,PG,PRI,PRTPCE,PRZN,PTIEN
"RTN","ONCOPA3A",84,0)
 K REG,REG1,SITE,SSAN,ST,TITLE,TOP,TSIEN,TSTAT,UF,VS,Y,ZN
"RTN","ONCOPAR")
0^218^B13874306
"RTN","ONCOPAR",1,0)
ONCOPAR ;Hines OIFO/GWB - [ANN *..Annual Reports ...] ;03/03/00
"RTN","ONCOPAR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPAR",3,0)
HEAD ;HEADER
"RTN","ONCOPAR",4,0)
 W @IOF,!!!?10,ONCO
"RTN","ONCOPAR",5,0)
 Q
"RTN","ONCOPAR",6,0)
ANN ;Select year
"RTN","ONCOPAR",7,0)
 K DIR S YR=$E(DT,1)+17_$E(DT,2,3)
"RTN","ONCOPAR",8,0)
 W ! S DIR("A")=" Select year",DIR("B")=YR-1,DIR(0)="F^4:4" D ^DIR
"RTN","ONCOPAR",9,0)
 Q:$D(DIRUT)
"RTN","ONCOPAR",10,0)
 G ANN:Y'?1.N,ANN:Y>YR S YR=Y,FR=Y-.1,TO=Y W !! Q
"RTN","ONCOPAR",11,0)
 ;
"RTN","ONCOPAR",12,0)
AAR ;[AAR Annual ACOS Accession Register (80c)]
"RTN","ONCOPAR",13,0)
 D ANN G EX:Y[U
"RTN","ONCOPAR",14,0)
 S BY="@#ACCESSION YEAR,ACC/SEQ NUMBER",FLDS="[ONCO ANNUAL ACCREG80]",L=0
"RTN","ONCOPAR",15,0)
 D PRT655
"RTN","ONCOPAR",16,0)
 Q
"RTN","ONCOPAR",17,0)
 ;
"RTN","ONCOPAR",18,0)
API ;ANNUAL PATIENT INDEX
"RTN","ONCOPAR",19,0)
 S ONCO="ANNUAL Patient Index - ACOS Required (132col)" D HEAD W !! D ANN G EX:$D(DIRUT)
"RTN","ONCOPAR",20,0)
 S BY="#@ACCESSION YEAR,@PATIENT NAME",FLDS="[ONCO ANNUAL PATIENT INDX]",L=0
"RTN","ONCOPAR",21,0)
 D PRT655
"RTN","ONCOPAR",22,0)
 Q
"RTN","ONCOPAR",23,0)
 ;
"RTN","ONCOPAR",24,0)
ACL ;ANNUAL BY CLASS OF CASE PATIENT REGISTER
"RTN","ONCOPAR",25,0)
 S ONCO="ANNUAL Patient List by Class of Case (80c)" D HEAD W !! D ANN G EX:$D(DIRUT)
"RTN","ONCOPAR",26,0)
 S BY="@ACCESSION YEAR,+#@CLASS CATEGORY,+CLASS OF CASE,@PATIENT NAME",FLDS="[ONCO ANNUAL CLASS/PATIENT]",L=0
"RTN","ONCOPAR",27,0)
 D PRT655
"RTN","ONCOPAR",28,0)
 Q
"RTN","ONCOPAR",29,0)
 ;
"RTN","ONCOPAR",30,0)
AST ;ANNUAL ANALYTIC SITE/ICDO-TOPOGRAPHY/ICDO-MORPHOLOGY
"RTN","ONCOPAR",31,0)
 S ONCO="ANNUAL Site/Gp Listing by ICDO-Topography/Histology" D HEAD W !! D ANN G EX:$D(DIRUT)
"RTN","ONCOPAR",32,0)
 I YR<2001 S BY="@ACCESSION YEAR,+@CLASS CATEGORY,#SITE/GP;S1;C20,+PRIMARY SITE;C12,+HISTOLOGY (ICD-O-2);C9"
"RTN","ONCOPAR",33,0)
 I YR>2000 S BY="@ACCESSION YEAR,+@CLASS CATEGORY,#SITE/GP;S1;C20,+PRIMARY SITE;C12,+HISTOLOGY (ICD-O-3);C9"
"RTN","ONCOPAR",34,0)
 S FLDS="[ONCO ANNUAL SITE/ICDT/ICDM]",L=0
"RTN","ONCOPAR",35,0)
 D PRT655
"RTN","ONCOPAR",36,0)
 Q
"RTN","ONCOPAR",37,0)
 ;
"RTN","ONCOPAR",38,0)
APS ;ANNUAL SITE/GP INDEX
"RTN","ONCOPAR",39,0)
 S ONCO="ANNUAL Site/GP Index by ICDO-Topography (132)" D HEAD W !!
"RTN","ONCOPAR",40,0)
 S BY="@ACCESSION YEAR,@CLASS CATEGORY,#@SITE/GP",(FR,TO)="?,,?",FLDS="[ONCO ANNUAL SITE/GP]"
"RTN","ONCOPAR",41,0)
 D PRT655
"RTN","ONCOPAR",42,0)
 Q
"RTN","ONCOPAR",43,0)
 ;
"RTN","ONCOPAR",44,0)
SST ;Site/Stage/Treatment
"RTN","ONCOPAR",45,0)
 S BY="[ONCO ANNUAL SITE/STAGE/TX]" G PRT655
"RTN","ONCOPAR",46,0)
 ;
"RTN","ONCOPAR",47,0)
TST ;ICDO Topography/Stage/Treatment
"RTN","ONCOPAR",48,0)
 S BY="[ONCO ANNUAL ICDO/STAGE/TX]" G PRT655
"RTN","ONCOPAR",49,0)
 ;
"RTN","ONCOPAR",50,0)
HIS ;Histology/Site/Icdo
"RTN","ONCOPAR",51,0)
 S BY="[ONCO ANNUAL HIST/SITE/ICDO]",FLDS="[ONCO ANNUAL PATIENT INFO]" G PRT655
"RTN","ONCOPAR",52,0)
SDX ;STATUS/SITE/GP/DX-AGE GP
"RTN","ONCOPAR",53,0)
 W @IOF,!!!?10,"Annual report - sorted first by Accession year",!?10,"Then by Class Category (Non-analytic/Analytic)"
"RTN","ONCOPAR",54,0)
 W !?10,"Then by Status, Site/GP, and Diagnosis Age Gp.",!!!,?15,"Enter four digit ACCESSION YEAR,",!?15,"for Class category: either 'A'"
"RTN","ONCOPAR",55,0)
 W !?15,"for Analytic, or first to last.",!!!
"RTN","ONCOPAR",56,0)
 S BY="[ONCO ANN/ANAL/STA/SITE/DX AGE]",FLDS="[ONCO PRIMARY INFORMATION]"
"RTN","ONCOPAR",57,0)
 G PRT655
"RTN","ONCOPAR",58,0)
 ;
"RTN","ONCOPAR",59,0)
CPR ;PRINT CUSTOM REPORTS
"RTN","ONCOPAR",60,0)
 W @IOF
"RTN","ONCOPAR",61,0)
 W !,"    You may create custom FileMan reports for the following files."
"RTN","ONCOPAR",62,0)
 W !,"    See the VA FileMan User Manual for detailed instructions."
"RTN","ONCOPAR",63,0)
 D SEL^ONCOSO G EX:$D(DIRUT)
"RTN","ONCOPAR",64,0)
 W !!," CREATE CUSTOM REPORT for "_ONCOF_" file",! S L=1,DIASKHD="" D EN1^DIP G EX
"RTN","ONCOPAR",65,0)
 ;
"RTN","ONCOPAR",66,0)
CDD1 ;[CDD1 Print Condensed DD--Oncology Patient file]
"RTN","ONCOPAR",67,0)
 S DIC="^ONCO(160,",DIFORMAT="CONDENSED" D EN^DID G EX
"RTN","ONCOPAR",68,0)
 ;
"RTN","ONCOPAR",69,0)
CDD2 ;[CDD2 Print Condensed DD--Oncology Primary file]
"RTN","ONCOPAR",70,0)
 S DIC="^ONCO(165.5,",DIFORMAT="CONDENSED" D EN^DID G EX
"RTN","ONCOPAR",71,0)
 ;
"RTN","ONCOPAR",72,0)
PRT60 ;setup for print from #160
"RTN","ONCOPAR",73,0)
 S DIC="^ONCO(160,",L=0 D EN1^DIP G EX
"RTN","ONCOPAR",74,0)
PRT655 ;setup for print from #165.5
"RTN","ONCOPAR",75,0)
 S DIC="^ONCO(165.5,",L=0 D EN1^DIP G EX
"RTN","ONCOPAR",76,0)
PRT65 ;setup for print from #165
"RTN","ONCOPAR",77,0)
 S DIC="^ONCO(165,",L=0 D EN1^DIP G EX
"RTN","ONCOPAR",78,0)
 ;
"RTN","ONCOPAR",79,0)
KIL K DIC,DIR,DN,DXS,BY,DIOT,FR,L,TO,YR,ONCOF,ONCO,ONCON,ONCOX,%DT,F,O,W
"RTN","ONCOPAR",80,0)
 K GL,P,TD,%ZISOS,PD0,TX,ONCO,B,%DTF,T,XX,%T,M,ONCOYR
"RTN","ONCOPAR",81,0)
 Q
"RTN","ONCOPAR",82,0)
EX ;Kill and Exit
"RTN","ONCOPAR",83,0)
 D KIL D ^%ZISC S IOP=ION D ^%ZIS
"RTN","ONCOPAR",84,0)
 Q
"RTN","ONCOPCE")
0^219^B70189715
"RTN","ONCOPCE",1,0)
ONCOPCE ;HINES OIFO/GWB PCE MAIN ROUTINE ;08/15/11
"RTN","ONCOPCE",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPCE",3,0)
 ;
"RTN","ONCOPCE",4,0)
 N D0,DA,DATEDX,DD,DIC,DIE,DINUM,DIR,DLAYGO,DO,DR,DP,DL,DQ,DM,DK,DI,DIEL
"RTN","ONCOPCE",5,0)
 N DOV,ITFLAG,ONCONUM,ONCOPA,%DT
"RTN","ONCOPCE",6,0)
 G:'ONCOD0P EXIT S ONCONUM=+ONCOD0P N ONCOD0P
"RTN","ONCOPCE",7,0)
 G:'ONCOD0 EXIT S ONCOPA=ONCOD0 N ONCOD0
"RTN","ONCOPCE",8,0)
 S DATEDX=$P($G(^ONCO(165.5,ONCONUM,0)),U,16)
"RTN","ONCOPCE",9,0)
 I DATEDX>3111231 D ^ONCPM Q
"RTN","ONCOPCE",10,0)
 I DATEDX<3120000 D
"RTN","ONCOPCE",11,0)
 .W !!,?10,"DATE DX earlier than 2012.  Performance Measures not collected."
"RTN","ONCOPCE",12,0)
 .W !,?10,"Checking for PCE eligibility..."
"RTN","ONCOPCE",13,0)
 K PCEITC
"RTN","ONCOPCE",14,0)
 S PCEITC("C16.0")="" ;Cardia, NOS
"RTN","ONCOPCE",15,0)
 S PCEITC("C16.1")="" ;Fundus of stomach
"RTN","ONCOPCE",16,0)
 S PCEITC("C16.2")="" ;Body of stomach
"RTN","ONCOPCE",17,0)
 S PCEITC("C16.3")="" ;Gastric antrum
"RTN","ONCOPCE",18,0)
 S PCEITC("C16.4")="" ;Pylorus
"RTN","ONCOPCE",19,0)
 S PCEITC("C16.5")="" ;Lesser curvature of stomach, NOS
"RTN","ONCOPCE",20,0)
 S PCEITC("C16.6")="" ;Greater curvature of stomach, NOS
"RTN","ONCOPCE",21,0)
 S PCEITC("C16.8")="" ;Overlapping lesion of stomach
"RTN","ONCOPCE",22,0)
 S PCEITC("C16.9")="" ;Stomach, NOS
"RTN","ONCOPCE",23,0)
 S PCEITC("C18.0")="" ;Cecum
"RTN","ONCOPCE",24,0)
 S PCEITC("C18.1")="" ;Appendix
"RTN","ONCOPCE",25,0)
 S PCEITC("C18.2")="" ;Ascending
"RTN","ONCOPCE",26,0)
 S PCEITC("C18.3")="" ;Hepatic flexure
"RTN","ONCOPCE",27,0)
 S PCEITC("C18.4")="" ;Transverse
"RTN","ONCOPCE",28,0)
 S PCEITC("C18.5")="" ;Splenic flexure
"RTN","ONCOPCE",29,0)
 S PCEITC("C18.6")="" ;Descending
"RTN","ONCOPCE",30,0)
 S PCEITC("C18.7")="" ;Sigmoid
"RTN","ONCOPCE",31,0)
 S PCEITC("C18.8")="" ;Overlapping lesion
"RTN","ONCOPCE",32,0)
 S PCEITC("C18.9")="" ;Colon, NOS
"RTN","ONCOPCE",33,0)
 S PCEITC("C19.9")="" ;Rectosigmoid junction
"RTN","ONCOPCE",34,0)
 S PCEITC("C20.9")="" ;Rectum
"RTN","ONCOPCE",35,0)
 S PCEITC("C22.0")="" ;Liver
"RTN","ONCOPCE",36,0)
 S PCEITC("C34.0")="" ;Main Bronchus
"RTN","ONCOPCE",37,0)
 S PCEITC("C34.1")="" ;Upper lobe lung
"RTN","ONCOPCE",38,0)
 S PCEITC("C34.2")="" ;Middle lobe lung
"RTN","ONCOPCE",39,0)
 S PCEITC("C34.3")="" ;Lower lobe lung
"RTN","ONCOPCE",40,0)
 S PCEITC("C34.8")="" ;Overlapping lesion of lung
"RTN","ONCOPCE",41,0)
 S PCEITC("C34.9")="" ;Lung, NOS
"RTN","ONCOPCE",42,0)
 S PCEITC("C38.0")="" ;Heart
"RTN","ONCOPCE",43,0)
 S PCEITC("C38.1")="" ;Mediastinum, anterior
"RTN","ONCOPCE",44,0)
 S PCEITC("C38.2")="" ;Mediastinum, posterior
"RTN","ONCOPCE",45,0)
 S PCEITC("C38.3")="" ;Mediastinum, NOS
"RTN","ONCOPCE",46,0)
 S PCEITC("C38.4")="" ;Pleura, NOS
"RTN","ONCOPCE",47,0)
 S PCEITC("C38.8")="" ;Heart/Medias/Pleura, overlap
"RTN","ONCOPCE",48,0)
 S PCEITC("C44.0")="" ;Skin of lip, NOS
"RTN","ONCOPCE",49,0)
 S PCEITC("C44.2")="" ;External ear
"RTN","ONCOPCE",50,0)
 S PCEITC("C44.3")="" ;Skin of other and unspecified parts of face
"RTN","ONCOPCE",51,0)
 S PCEITC("C44.4")="" ;Skin of scalp and neck
"RTN","ONCOPCE",52,0)
 S PCEITC("C44.5")="" ;Skin of trunk
"RTN","ONCOPCE",53,0)
 S PCEITC("C44.6")="" ;Skin of upper limb and shoulder
"RTN","ONCOPCE",54,0)
 S PCEITC("C44.7")="" ;Skin of lower limb and hip
"RTN","ONCOPCE",55,0)
 S PCEITC("C44.8")="" ;Overlapping lesion
"RTN","ONCOPCE",56,0)
 S PCEITC("C44.9")="" ;Skin, NOS
"RTN","ONCOPCE",57,0)
 S PCEITC("C47.0")="" ;Nerves, head & neck
"RTN","ONCOPCE",58,0)
 S PCEITC("C47.1")="" ;Nerves, upper limb
"RTN","ONCOPCE",59,0)
 S PCEITC("C47.2")="" ;Nerves, lower limb
"RTN","ONCOPCE",60,0)
 S PCEITC("C47.3")="" ;Nerves, thorax
"RTN","ONCOPCE",61,0)
 S PCEITC("C47.4")="" ;Nerves, abdomen
"RTN","ONCOPCE",62,0)
 S PCEITC("C47.5")="" ;Nerves, pelvis
"RTN","ONCOPCE",63,0)
 S PCEITC("C47.6")="" ;Nerves, trunk
"RTN","ONCOPCE",64,0)
 S PCEITC("C47.8")="" ;Nerves, overlap
"RTN","ONCOPCE",65,0)
 S PCEITC("C47.9")="" ;Autonomic nervous system, NOS
"RTN","ONCOPCE",66,0)
 S PCEITC("C48.0")="" ;Retroperitoneum
"RTN","ONCOPCE",67,0)
 S PCEITC("C48.1")="" ;Peritoneum, specified
"RTN","ONCOPCE",68,0)
 S PCEITC("C48.2")="" ;Peritoneum, NOS
"RTN","ONCOPCE",69,0)
 S PCEITC("C48.8")="" ;Retroperitoneum overlap
"RTN","ONCOPCE",70,0)
 S PCEITC("C49.0")="" ;Soft tissues, head & neck
"RTN","ONCOPCE",71,0)
 S PCEITC("C49.1")="" ;Soft tissues, upper limb
"RTN","ONCOPCE",72,0)
 S PCEITC("C49.2")="" ;Soft tissues, lower limb
"RTN","ONCOPCE",73,0)
 S PCEITC("C49.3")="" ;Soft tissues, thorax
"RTN","ONCOPCE",74,0)
 S PCEITC("C49.4")="" ;Soft tissues, abdomen
"RTN","ONCOPCE",75,0)
 S PCEITC("C49.5")="" ;Soft tissues, pelvis
"RTN","ONCOPCE",76,0)
 S PCEITC("C49.6")="" ;Soft tissues, trunk
"RTN","ONCOPCE",77,0)
 S PCEITC("C49.8")="" ;Soft tissues overlap
"RTN","ONCOPCE",78,0)
 S PCEITC("C49.9")="" ;Soft tissues NOS
"RTN","ONCOPCE",79,0)
 S PCEITC("C50.0")="" ;Nipple
"RTN","ONCOPCE",80,0)
 S PCEITC("C50.1")="" ;Central portion breast
"RTN","ONCOPCE",81,0)
 S PCEITC("C50.2")="" ;Upper-inner quadrant breast
"RTN","ONCOPCE",82,0)
 S PCEITC("C50.3")="" ;Lower-inner quadrant breast
"RTN","ONCOPCE",83,0)
 S PCEITC("C50.4")="" ;Upper-outer quadrant breast
"RTN","ONCOPCE",84,0)
 S PCEITC("C50.5")="" ;Lower-outer quadrant breast
"RTN","ONCOPCE",85,0)
 S PCEITC("C50.6")="" ;Axillary tail breast
"RTN","ONCOPCE",86,0)
 S PCEITC("C50.8")="" ;Overlapping lesion breast
"RTN","ONCOPCE",87,0)
 S PCEITC("C50.9")="" ;Breast, NOS
"RTN","ONCOPCE",88,0)
 S PCEITC("C61.9")="" ;Prostate
"RTN","ONCOPCE",89,0)
 S PCEITC("C67.0")="" ;Urinary Bladder
"RTN","ONCOPCE",90,0)
 S PCEITC("C67.1")="" ;Urinary Bladder
"RTN","ONCOPCE",91,0)
 S PCEITC("C67.2")="" ;Urinary Bladder
"RTN","ONCOPCE",92,0)
 S PCEITC("C67.3")="" ;Urinary Bladder
"RTN","ONCOPCE",93,0)
 S PCEITC("C67.4")="" ;Urinary Bladder
"RTN","ONCOPCE",94,0)
 S PCEITC("C67.5")="" ;Urinary Bladder
"RTN","ONCOPCE",95,0)
 S PCEITC("C67.6")="" ;Urinary Bladder
"RTN","ONCOPCE",96,0)
 S PCEITC("C67.7")="" ;Urinary Bladder
"RTN","ONCOPCE",97,0)
 S PCEITC("C67.8")="" ;Urinary Bladder
"RTN","ONCOPCE",98,0)
 S PCEITC("C67.9")="" ;Urinary Bladder
"RTN","ONCOPCE",99,0)
 S PCEITC("C68.0")="" ;Urinary Bladder (Urethra)
"RTN","ONCOPCE",100,0)
 S PCEITC("C70.0")="" ;Cerebral meninges
"RTN","ONCOPCE",101,0)
 S PCEITC("C70.1")="" ;Spinal meninges
"RTN","ONCOPCE",102,0)
 S PCEITC("C70.9")="" ;Meninges, NOS
"RTN","ONCOPCE",103,0)
 S PCEITC("C71.0")="" ;Cerebrum
"RTN","ONCOPCE",104,0)
 S PCEITC("C71.1")="" ;Frontal lobe
"RTN","ONCOPCE",105,0)
 S PCEITC("C71.2")="" ;Temporal lobe
"RTN","ONCOPCE",106,0)
 S PCEITC("C71.3")="" ;Parietal lobe
"RTN","ONCOPCE",107,0)
 S PCEITC("C71.4")="" ;Occipital lobe
"RTN","ONCOPCE",108,0)
 S PCEITC("C71.5")="" ;Ventricle, NOS
"RTN","ONCOPCE",109,0)
 S PCEITC("C71.6")="" ;Cerebellum, NOS
"RTN","ONCOPCE",110,0)
 S PCEITC("C71.7")="" ;Brain stem
"RTN","ONCOPCE",111,0)
 S PCEITC("C71.8")="" ;Overlapping lesion on brain
"RTN","ONCOPCE",112,0)
 S PCEITC("C71.9")="" ;Brain, NOS
"RTN","ONCOPCE",113,0)
 S PCEITC("C72.0")="" ;Spinal cord
"RTN","ONCOPCE",114,0)
 S PCEITC("C72.1")="" ;Cauda equina
"RTN","ONCOPCE",115,0)
 S PCEITC("C72.2")="" ;Olfactory nerve
"RTN","ONCOPCE",116,0)
 S PCEITC("C72.3")="" ;Optic nerve
"RTN","ONCOPCE",117,0)
 S PCEITC("C72.4")="" ;Acoustic nerve
"RTN","ONCOPCE",118,0)
 S PCEITC("C72.5")="" ;Cranial nerve
"RTN","ONCOPCE",119,0)
 S PCEITC("C72.8")="" ;Overlapping lesion of brain and cns
"RTN","ONCOPCE",120,0)
 S PCEITC("C72.9")="" ;Nervous system, NOS
"RTN","ONCOPCE",121,0)
 S PCEITC("C73.9")="" ;Thyroid gland
"RTN","ONCOPCE",122,0)
 S PCEITC("C75.1")="" ;Pituitary gland
"RTN","ONCOPCE",123,0)
 S PCEITC("C75.2")="" ;Craniopharyngeal duct
"RTN","ONCOPCE",124,0)
 S PCEITC("C75.3")="" ;Pineal gland
"RTN","ONCOPCE",125,0)
 S ICDO=0,NODE2=$G(^ONCO(165.5,ONCONUM,2)),ICDOTOP=$P(NODE2,U,1)
"RTN","ONCOPCE",126,0)
 S HIST=$$HIST^ONCFUNC(ONCONUM)
"RTN","ONCOPCE",127,0)
 ;
"RTN","ONCOPCE",128,0)
 ;Check if HISTOLOGY is relevant to NON-HODGKIN'S LYMPHOMA and if 
"RTN","ONCOPCE",129,0)
 ;ACCESSION YEAR = 1997
"RTN","ONCOPCE",130,0)
 S HIST1234=$E(HIST,1,4),BEH=$E(HIST,5)
"RTN","ONCOPCE",131,0)
 I ((HIST1234>9589)&(HIST1234<9596))!((HIST1234>9669)&(HIST1234<9718)),$P(^ONCO(165.5,ONCONUM,0),U,7)=1997 D ^ONCNPC0 G EXIT
"RTN","ONCOPCE",132,0)
 ;
"RTN","ONCOPCE",133,0)
 ;Check if HISTOLOGY is relevant to MELANOMA and if ACCESSION YEAR = 1999
"RTN","ONCOPCE",134,0)
 S HIST123=$E(HIST,1,3),BEH=$E(HIST,5)
"RTN","ONCOPCE",135,0)
 I ((HIST123>871)&(HIST123<880))!((HIST=90443)&($E(ICDOTOP,1,4)=6749)),$P(^ONCO(165.5,ONCONUM,0),U,7)=1999 D ^ONCMPC0 G EXIT
"RTN","ONCOPCE",136,0)
 ;
"RTN","ONCOPCE",137,0)
 ;Check for pediatric cases of rhabdomyosarcoma (Soft Tissue Sarcoma)
"RTN","ONCOPCE",138,0)
 S D0=ONCOPA D DOB1^ONCOES S X1=DT,X2=X D ^%DTC S AGE=X\365.25,D0=ONCONUM
"RTN","ONCOPCE",139,0)
 I AGE<21,((HIST=89003)!(HIST=89013)!(HIST=89023)!(HIST=89103)!(HIST=89203)) D ^ONCSPC0 G EXIT
"RTN","ONCOPCE",140,0)
 ;
"RTN","ONCOPCE",141,0)
 ;Check Primary Site
"RTN","ONCOPCE",142,0)
 I ICDOTOP'="" S ICDO=$P(^ONCO(164,ICDOTOP,0),U,2)
"RTN","ONCOPCE",143,0)
 I ICDO=0 G:ONCOANS'=5 EXIT W !!,?10,"There is no ICDO-TOPOGRAPHY for this primary." R Z:10 G EXIT
"RTN","ONCOPCE",144,0)
 I '$D(PCEITC(ICDO)) G:ONCOANS'=5 EXIT W !!,?10,"There is currently no PCE for this primary site",!,?10,"nor is it a 1997 Non-Hodgkin's Lymphoma or 1999",!,?10,"Melanoma." R Z:10 G EXIT
"RTN","ONCOPCE",145,0)
 I ($E(ICDO,2,3)=67)!($E(ICDO,2,3)=68) D ^ONCBPC0 G EXIT
"RTN","ONCOPCE",146,0)
 I ($E(ICDO,2,3)=38)!($E(ICDO,2,3)=47)!($E(ICDO,2,3)=48)!($E(ICDO,2,3)=49)!($E(ICDO,2,3)=44) D ^ONCSPC0 G EXIT
"RTN","ONCOPCE",147,0)
 I ICDO="C73.9" D ^ONCTPC0 G EXIT
"RTN","ONCOPCE",148,0)
 I ICDO="C61.9" D ^ONCP2P0 G EXIT
"RTN","ONCOPCE",149,0)
 I ($E(ICDO,2,3)=18)!($E(ICDO,2,3)=19)!($E(ICDO,2,3)=20) D ^ONCCPC0 G EXIT
"RTN","ONCOPCE",150,0)
 I $E(ICDO,2,3)=50 D ^ONCBRP0 G EXIT
"RTN","ONCOPCE",151,0)
 I ICDO="C22.0" D ^ONCHPC0 G EXIT
"RTN","ONCOPCE",152,0)
 I ($E(ICDO,2,3)=70)!($E(ICDO,2,3)=71)!($E(ICDO,2,3)=72)!(ICDO="C75.1")!(ICDO="C75.2")!(ICDO="C75.3") D ^ONCIPC0 G EXIT
"RTN","ONCOPCE",153,0)
 I $E(ICDO,2,3)=16 D ^ONCGPC0 G EXIT
"RTN","ONCOPCE",154,0)
 I $E(ICDO,2,3)=34 D ^ONCLPC0 G EXIT
"RTN","ONCOPCE",155,0)
 Q
"RTN","ONCOPCE",156,0)
EXIT K PCEITC,NODE2,ICDOTOP,ICDO,Z,X1,X2,AGE,HIST,HIST1234,HIST123,BEH
"RTN","ONCOPCE",157,0)
 Q
"RTN","ONCOPCE",158,0)
DATEIT ;Date input transform
"RTN","ONCOPCE",159,0)
 I X="00/00/00" W *7,!!?5,"'00/00/00' is ambiguous, enter a 4 digit year.",!! S ITFLAG="YES" K X Q
"RTN","ONCOPCE",160,0)
 I X="00/00/0000" S X="0000000" S ITFLAG="YES" Q
"RTN","ONCOPCE",161,0)
 I X="00000000" S X="0000000" S ITFLAG="YES" W "  00/00/0000" Q
"RTN","ONCOPCE",162,0)
 I X="88/88/88" W *7,!!?5,"'88/88/88' is ambiguous, enter a 4 digit year.",!! S ITFLAG="YES" K X Q
"RTN","ONCOPCE",163,0)
 I X="88/88/8888" S X=8888888 S ITFLAG="YES" Q
"RTN","ONCOPCE",164,0)
 I X="88888888" S X=8888888 S ITFLAG="YES" W "  88/88/8888" Q
"RTN","ONCOPCE",165,0)
 I X="99/99/99" W *7,!!?5,"'99/99/99' is ambiguous, enter a 4 digit year.",!! S ITFLAG="YES" K X Q
"RTN","ONCOPCE",166,0)
 I X="99/99/9999" S X=9999999 S ITFLAG="YES" Q
"RTN","ONCOPCE",167,0)
 I X="99999999" S X=9999999 S ITFLAG="YES" W "  99/99/9999" Q
"RTN","ONCOPCE",168,0)
 Q
"RTN","ONCOPCE",169,0)
DATEOT ;Date output transform in format MM/DD/YYYY
"RTN","ONCOPCE",170,0)
 Q:Y=""
"RTN","ONCOPCE",171,0)
 S Y=$S(Y="0000000":"00/00/0000",Y=9999999:"99/99/9999",Y=8888888:"88/88/8888",1:$E(Y,4,5)_"/"_$E(Y,6,7)_"/"_($E(Y,1,3)+1700))
"RTN","ONCOPCE",172,0)
 Q
"RTN","ONCOPCE",173,0)
CHDTIT ;Date input transform for fields #1103 and #1105
"RTN","ONCOPCE",174,0)
 I X="00/00/00" W *7,!!?5,"'00/00/00' is ambiguous, enter a 4 digit year.",!! S ITFLAG="YES" K X Q
"RTN","ONCOPCE",175,0)
 I X="00/0000" S X="0000000" S ITFLAG="YES" Q
"RTN","ONCOPCE",176,0)
 I (X="00000000")!(X="00/00/0000") S X="0000000" S ITFLAG="YES" W "  00/0000" Q
"RTN","ONCOPCE",177,0)
 I X="99/99/99" W *7,!!?5,"'99/99/99' is ambiguous, enter a 4 digit year.",!! S ITFLAG="YES" K X Q
"RTN","ONCOPCE",178,0)
 I X="99/9999" S X=9999999 S ITFLAG="YES" Q
"RTN","ONCOPCE",179,0)
 I (X="99999999")!(X="99/99/9999") S X=9999999 S ITFLAG="YES" W "  99/9999" Q
"RTN","ONCOPCE",180,0)
 I X="88/88/88" W *7,!!?5,"'88/88/88' is ambiguous, enter a 4 digit year.",!! S ITFLAG="YES" K X Q
"RTN","ONCOPCE",181,0)
 I X="88/8888" S X="8888888" S ITFLAG="YES" Q
"RTN","ONCOPCE",182,0)
 I (X="88888888")!(X="88/88/8888") S X="8888888" S ITFLAG="YES" W "  88/8888" Q
"RTN","ONCOPCE",183,0)
 S %DT="EP",%DT(0)="-NOW" D ^%DT S X=Y I Y<1 K X W !!?5,"Future dates are not allowed.",! K %DT(0) Q
"RTN","ONCOPCE",184,0)
 Q
"RTN","ONCOPCE",185,0)
CHDTOT ;Date output transform for fields #1103 and #1105
"RTN","ONCOPCE",186,0)
 Q:Y=""
"RTN","ONCOPCE",187,0)
 I Y="0000000" S Y="00/0000" Q
"RTN","ONCOPCE",188,0)
 I Y=9999999 S Y="99/9999" Q
"RTN","ONCOPCE",189,0)
 I Y=8888888 S Y="88/8888" Q
"RTN","ONCOPCE",190,0)
 S Y=$E(Y,4,5)_"/"_($E(Y,1,3)+1700)
"RTN","ONCOPCE",191,0)
 Q
"RTN","ONCOPCE",192,0)
 ;
"RTN","ONCOPCE",193,0)
CLEANUP ;Cleanup
"RTN","ONCOPCE",194,0)
 K ONCOANS,Y
"RTN","ONCOPFX")
0^220^B4983959
"RTN","ONCOPFX",1,0)
ONCOPFX ;WASH ISC/SRR,MLH-EXTRACT ADDRESS AT DX-TEST SITES ;8/9/93  13:15
"RTN","ONCOPFX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPFX",3,0)
ST ;Start thru 165.5
"RTN","ONCOPFX",4,0)
 S XD0=0 F  S XD0=$O(^ONCO(165.5,XD0)) Q:XD0'>0  W:'(XD0#100) "." I $P(^(XD0,0),U)=42 S $P(^(0),U)=31 W:'(XD0#50) "*"
"RTN","ONCOPFX",5,0)
 ;
"RTN","ONCOPFX",6,0)
 Q:$D(^ONCO(165.5,"XXA"))  ;Set after program
"RTN","ONCOPFX",7,0)
 W @IOF,!!?20,"LOOKING FOR Address at Diagnosis - Get from MAS",!!!
"RTN","ONCOPFX",8,0)
1 S XD0=0 F  S XD0=$O(^ONCO(165.5,XD0)) Q:XD0'>0  S X0=^(XD0,0),D0=$P(X0,U,2),X1=$G(^(1)) D PAT I OD0'="" D MS W:'(XD0#50) "*"
"RTN","ONCOPFX",9,0)
 W !!,"DONE CONVERTING ADDRESS AT DX",! S ^ONCO(165.5,"XXA")=1
"RTN","ONCOPFX",10,0)
 Q
"RTN","ONCOPFX",11,0)
PAT ;Get Patient pointer
"RTN","ONCOPFX",12,0)
V0 S OD0=$S($D(^ONCO(160,D0,0)):$P(^(0),U),1:"") Q:OD0=""  S OF=$P(OD0,";",2),OD0=$P(OD0,";",1),VPR="^"_OF_OD0_",0)",VP0=$S($D(@VPR):^(0),1:"")
"RTN","ONCOPFX",13,0)
 Q
"RTN","ONCOPFX",14,0)
MS ;Marital status at Diagnosis FROM #165.5
"RTN","ONCOPFX",15,0)
 I $P(X1,U,5)="" S MS=$P(VP0,U,5),MC=$P($G(^DIC(11,+MS,0)),U,3),XX1=$S(MC="N":1,MC="M":2,MC="S":3,MC="D":4,MC="W":5,1:9),$P(^ONCO(165.5,XD0,1),U,5)=XX1
"RTN","ONCOPFX",16,0)
ADX ;Address at DX
"RTN","ONCOPFX",17,0)
PT S GLR="^"_OF_OD0_",",X11=$G(@(GLR_".11)")),ST=$P(X11,U,5),CT=$P(X11,U,7),ZIP=$P(X11,U,6),ZP=$O(^VIC(5.11,"B",ZIP_" ",0))
"RTN","ONCOPFX",18,0)
 I $P(X1,U,1)="" S ADX=$P(X11,U)_" "_$P(X11,U,2),$P(^ONCO(165.5,XD0,1),U)=ADX
"RTN","ONCOPFX",19,0)
 I $P(X1,U,2)="" S $P(^ONCO(165.5,XD0,1),U,2)=ZP
"RTN","ONCOPFX",20,0)
 I $P(X1,U,4)="" S $P(^ONCO(165.5,XD0,1),U,4)=ST
"RTN","ONCOPFX",21,0)
3 Q:$P(X1,U,3)'=""  D CTY Q
"RTN","ONCOPFX",22,0)
CTY ;Obtain county ptr
"RTN","ONCOPFX",23,0)
 Q:ST=""!(CT="")  S CTY=$P($G(^DIC(5,ST,1,CT,0)),U) Q:CTY=""  S VI=0 F  S VI=$O(^VIC(5.1,"B",CTY,VI)) Q:VI'>0  I $P(^VIC(5.1,VI,0),U,2)=ST S $P(^ONCO(165.5,XD0,1),U,3)=VI
"RTN","ONCOPFX",24,0)
 Q
"RTN","ONCOPMA")
0^221^B23135907
"RTN","ONCOPMA",1,0)
ONCOPMA ;Hines OIFO/GWB [MA Print QA/Multiple Abstracts] ;10/30/10
"RTN","ONCOPMA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPMA",3,0)
 ;
"RTN","ONCOPMA",4,0)
EN ;Select Report Type
"RTN","ONCOPMA",5,0)
 K DIR S DIR("A")=" Select Report"
"RTN","ONCOPMA",6,0)
 S DIR(0)="SO^1:QA Abstract;2:Extended Abstract (80c);3:Complete Abstract (132c);4:Incidence Report"
"RTN","ONCOPMA",7,0)
 D ^DIR
"RTN","ONCOPMA",8,0)
 G EX:Y[U,EX:Y=""
"RTN","ONCOPMA",9,0)
 S PRINT="PRT"_Y_"^ONCOPMP"
"RTN","ONCOPMA",10,0)
 K DIR
"RTN","ONCOPMA",11,0)
 ;
"RTN","ONCOPMA",12,0)
OP ;Select option
"RTN","ONCOPMA",13,0)
 S DIR(0)="SO^1:All abstracts, One PATIENT;2:All abstracts, One SITE/GP;3:All abstracts, One or more ACCESSION YEAR(s), One SITE/GP;4:All abstracts, One ACCESSION YEAR;5:Complete Abstracts by DATE DX;6:QA - 10% Complete abstracts"
"RTN","ONCOPMA",14,0)
 S DIR("A")="     Select Option"
"RTN","ONCOPMA",15,0)
 W ! D ^DIR G EX:Y[U,EX:Y=""
"RTN","ONCOPMA",16,0)
 G @Y:Y<4,Y^ONCOPMB
"RTN","ONCOPMA",17,0)
 ;
"RTN","ONCOPMA",18,0)
1 ;[MA Print QA/Multiple Abstracts - 1 All abstracts, One PATIENT]
"RTN","ONCOPMA",19,0)
 W ! S DIC("A")=" Select PATIENT: "
"RTN","ONCOPMA",20,0)
 S DIC="^ONCO(160,",DIC(0)="AEMQ" D ^DIC G EX:Y<0 S ONCOXD1=+Y
"RTN","ONCOPMA",21,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMA",22,0)
 S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMA",23,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMA",24,0)
 I '$D(IO("Q")) D TK1^ONCOPMA G EX
"RTN","ONCOPMA",25,0)
 S ZTRTN="TK1^ONCOPMA"
"RTN","ONCOPMA",26,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMA",27,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMA",28,0)
 S ZTSAVE("ONCOXD1")=""
"RTN","ONCOPMA",29,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMA",30,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMA",31,0)
 S ZTDESC="All abstracts, One PATIENT"
"RTN","ONCOPMA",32,0)
 D ^%ZTLOAD
"RTN","ONCOPMA",33,0)
 G EX
"RTN","ONCOPMA",34,0)
 ;
"RTN","ONCOPMA",35,0)
TK1 S ONCOXD0=0
"RTN","ONCOPMA",36,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"C",ONCOXD1,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2) D  I $E(ONCIOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y
"RTN","ONCOPMA",37,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMA",38,0)
 .S IOP=ONCOION
"RTN","ONCOPMA",39,0)
 .W @IOF
"RTN","ONCOPMA",40,0)
 .D @PRINT
"RTN","ONCOPMA",41,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMA",42,0)
 ..S IOP=ONCOION
"RTN","ONCOPMA",43,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMA",44,0)
 G EX
"RTN","ONCOPMA",45,0)
 ;
"RTN","ONCOPMA",46,0)
2 ;[MA Print QA/Multiple Abstracts - 2 All Abstracts, One SITE/GP]
"RTN","ONCOPMA",47,0)
 W ! S DIC("A")=" Select SITE/GP: "
"RTN","ONCOPMA",48,0)
 S DIC="^ONCO(164.2,",DIC(0)="AEQM" D ^DIC G EX:Y<0 S ONCOXD1=+Y
"RTN","ONCOPMA",49,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMA",50,0)
 S %ZIS="Q" W ! D ^%ZIS I POP S ONCOOUT="" G EX
"RTN","ONCOPMA",51,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMA",52,0)
 I '$D(IO("Q")) D TK2^ONCOPMA G EX
"RTN","ONCOPMA",53,0)
 S ZTRTN="TK2^ONCOPMA"
"RTN","ONCOPMA",54,0)
 S ZTSAVE("ONCOXD1")=""
"RTN","ONCOPMA",55,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMA",56,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMA",57,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMA",58,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMA",59,0)
 S ZTDESC="All Abstracts, One SITE/GP"
"RTN","ONCOPMA",60,0)
 D ^%ZTLOAD G EX
"RTN","ONCOPMA",61,0)
 ;
"RTN","ONCOPMA",62,0)
TK2 S ONCOXD0=0
"RTN","ONCOPMA",63,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"B",ONCOXD1,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2) D  I $E(ONCIOST,1,2)="C-" W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y  W @IOF
"RTN","ONCOPMA",64,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMA",65,0)
 .S IOP=ONCOION
"RTN","ONCOPMA",66,0)
 .D @PRINT
"RTN","ONCOPMA",67,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMA",68,0)
 ..S IOP=ONCOION
"RTN","ONCOPMA",69,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMA",70,0)
 G EX
"RTN","ONCOPMA",71,0)
 ;
"RTN","ONCOPMA",72,0)
3 ;[MA Print QA/Multiple Abstracts - 3 All abstracts, ACCESSION YEAR(s), One SITE/GP]
"RTN","ONCOPMA",73,0)
 S Y=3 D TF^ONCOST G EX:Y[U
"RTN","ONCOPMA",74,0)
 S DIC("A")="     Select SITE/GP: "
"RTN","ONCOPMA",75,0)
 S DIC(0)="AEQZ",DIC="^ONCO(164.2," D ^DIC G EX:Y<0,EX:Y=U S ONCOXD1=+Y
"RTN","ONCOPMA",76,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMA",77,0)
 S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMA",78,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMA",79,0)
 I '$D(IO("Q")) D TK3^ONCOPMA G EX
"RTN","ONCOPMA",80,0)
 S ZTRTN="TK3^ONCOPMA"
"RTN","ONCOPMA",81,0)
 S ZTSAVE("ONCOXD1")=""
"RTN","ONCOPMA",82,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMA",83,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMA",84,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMA",85,0)
 S ZTSAVE("ONCOS*")=""
"RTN","ONCOPMA",86,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMA",87,0)
 S ZTDESC="All abstracts, One or more ACCESSION YEAR(s), One SITE/GP"
"RTN","ONCOPMA",88,0)
 D ^%ZTLOAD G EX
"RTN","ONCOPMA",89,0)
 ;
"RTN","ONCOPMA",90,0)
TK3 N ONCOXD0,SY,EY
"RTN","ONCOPMA",91,0)
 S ONCOXD0=0
"RTN","ONCOPMA",92,0)
 S SY=$S(ONCOS("YR")="ALL":0,1:$P(ONCOS("YR"),U,1)-1)
"RTN","ONCOPMA",93,0)
 S EY=$S(ONCOS("YR")="ALL":9999,1:$P(ONCOS("YR"),U,2))
"RTN","ONCOPMA",94,0)
 F  S SY=$O(^ONCO(165.5,"AY",SY)) Q:(SY'>0)!(SY>EY)!($G(Y)=0)  F  S ONCOXD0=$O(^ONCO(165.5,"AY",SY,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2),$P(^ONCO(165.5,ONCOXD0,0),U,1)=ONCOXD1 D  I $E(ONCIOST,1,2)="C-" W ! D ^DIR Q:'Y  W @IOF
"RTN","ONCOPMA",95,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMA",96,0)
 .S IOP=ONCOION
"RTN","ONCOPMA",97,0)
 .D @PRINT
"RTN","ONCOPMA",98,0)
 .I $E(ONCIOST,1,2)="C-" K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit"
"RTN","ONCOPMA",99,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMA",100,0)
 ..S IOP=ONCOION
"RTN","ONCOPMA",101,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMA",102,0)
 G EX
"RTN","ONCOPMA",103,0)
 ;
"RTN","ONCOPMA",104,0)
EX ;KILL variables
"RTN","ONCOPMA",105,0)
 K ^TMP("ONCO",$J)
"RTN","ONCOPMA",106,0)
 K %ZIS,DIC,DIR,IOP,NUMBER,ONCIOST,ONCODA,ONCOION,ONCOOUT,ONCOS,ONCOUT
"RTN","ONCOPMA",107,0)
 K ONCOXD0,ONCOXD1,POP,PRINT,ZTDESC,ZTRTN,ZTSAVE
"RTN","ONCOPMA",108,0)
 D ^%ZISC
"RTN","ONCOPMA",109,0)
 Q
"RTN","ONCOPMA",110,0)
 ;
"RTN","ONCOPMA",111,0)
CLEANUP ;Cleanup
"RTN","ONCOPMA",112,0)
 K Y
"RTN","ONCOPMB")
0^6^B23753532
"RTN","ONCOPMB",1,0)
ONCOPMB ;Hines OIFO/GWB - ONCOPMA continued ;12/14/99
"RTN","ONCOPMB",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPMB",3,0)
Y G @Y ;set from ONCOPMA
"RTN","ONCOPMB",4,0)
4 ;[MA Print QA/Multiple Abstracts - 4 All abstracts, 1 year]
"RTN","ONCOPMB",5,0)
 S Y=3 D Y^ONCOST G EX:Y[U
"RTN","ONCOPMB",6,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMB",7,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOOUT="" G EX
"RTN","ONCOPMB",8,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMB",9,0)
 I '$D(IO("Q")) D TK4^ONCOPMB G EX
"RTN","ONCOPMB",10,0)
 S ZTRTN="TK4^ONCOPMB"
"RTN","ONCOPMB",11,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMB",12,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMB",13,0)
 S ZTSAVE("ONCOS*")=""
"RTN","ONCOPMB",14,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMB",15,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMB",16,0)
 S ZTDESC="ALL ABSTRACTS for 19"_+ONCOS("YR")
"RTN","ONCOPMB",17,0)
 D ^%ZTLOAD
"RTN","ONCOPMB",18,0)
 G EX
"RTN","ONCOPMB",19,0)
 ;
"RTN","ONCOPMB",20,0)
TK4 N ONCOYEAR S ONCOXD0=0,ONCOYEAR=+ONCOS("YR")
"RTN","ONCOPMB",21,0)
 F  S ONCOXD0=$O(^ONCO(165.5,"AY",ONCOYEAR,ONCOXD0)) Q:ONCOXD0'>0  I $$DIV^ONCFUNC(ONCOXD0)=DUZ(2) D  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y
"RTN","ONCOPMB",22,0)
 .S (NUMBER,ONCODA)=ONCOXD0
"RTN","ONCOPMB",23,0)
 .S IOP=ONCOION
"RTN","ONCOPMB",24,0)
 .S DIOBEG="W @IOF"
"RTN","ONCOPMB",25,0)
 .D @PRINT
"RTN","ONCOPMB",26,0)
 .I PRINT["PRT1" D
"RTN","ONCOPMB",27,0)
 ..S IOP=ONCOION
"RTN","ONCOPMB",28,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMB",29,0)
 G EX
"RTN","ONCOPMB",30,0)
 ;
"RTN","ONCOPMB",31,0)
5 ;[MA Print QA/Multiple Abstracts - 5 Abstracts by DATE DX]
"RTN","ONCOPMB",32,0)
 W !
"RTN","ONCOPMB",33,0)
 S BDT=$O(^ONCO(165.5,"ADX",0))
"RTN","ONCOPMB",34,0)
 S DIR(0)="D^"_BDT_":DT:EX",DIR("A")=" Start, DATE DX" D ^DIR
"RTN","ONCOPMB",35,0)
 G EX:Y[U!(Y="")
"RTN","ONCOPMB",36,0)
 S ONCOD(1)=Y
"RTN","ONCOPMB",37,0)
 S DIR("A")="   End, DATE DX" D ^DIR
"RTN","ONCOPMB",38,0)
 G EX:Y[U
"RTN","ONCOPMB",39,0)
 S ONCOD(2)=Y
"RTN","ONCOPMB",40,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMB",41,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMB",42,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMB",43,0)
 I '$D(IO("Q")) D TK5^ONCOPMB G EX
"RTN","ONCOPMB",44,0)
 S ZTRTN="TK5^ONCOPMB"
"RTN","ONCOPMB",45,0)
 S ZTSAVE("ONCOD*")=""
"RTN","ONCOPMB",46,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMB",47,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMB",48,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMB",49,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMB",50,0)
 S ZTDESC="ABSTRACTS BY DXDT"
"RTN","ONCOPMB",51,0)
 D ^%ZTLOAD
"RTN","ONCOPMB",52,0)
 G EX
"RTN","ONCOPMB",53,0)
 ;
"RTN","ONCOPMB",54,0)
TK5 S XDT=ONCOD(1)-1
"RTN","ONCOPMB",55,0)
 S OUT=1
"RTN","ONCOPMB",56,0)
 F  S XDT=$O(^ONCO(165.5,"ADX",XDT)) Q:XDT=""  Q:XDT>ONCOD(2)  D  G:'OUT EX
"RTN","ONCOPMB",57,0)
 .S PIEN=0
"RTN","ONCOPMB",58,0)
 .F  S PIEN=$O(^ONCO(165.5,"ADX",XDT,PIEN)) Q:PIEN=""  I $$DIV^ONCFUNC(PIEN)=DUZ(2),$P($G(^ONCO(165.5,PIEN,7)),U,2)=3 D  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR S OUT=Y Q:'OUT
"RTN","ONCOPMB",59,0)
 ..S (NUMBER,ONCODA)=PIEN
"RTN","ONCOPMB",60,0)
 ..S IOP=ONCOION
"RTN","ONCOPMB",61,0)
 ..D @PRINT
"RTN","ONCOPMB",62,0)
 ..I PRINT["PRT1" D
"RTN","ONCOPMB",63,0)
 ...S IOP=ONCOION
"RTN","ONCOPMB",64,0)
 ...D 8^ONCOPMP
"RTN","ONCOPMB",65,0)
 G EX
"RTN","ONCOPMB",66,0)
 ;
"RTN","ONCOPMB",67,0)
6 ;[MA Print QA/Multiple Abstracts - 6 QA-10% Completed abstracts]
"RTN","ONCOPMB",68,0)
 I '$D(^ONCO(160.1,"AD")) W !!?10,"Define an AUTHORIZED QA USER in the ONCOLOGY SITE PARAMETERS file" G EX
"RTN","ONCOPMB",69,0)
 I '$D(^ONCO(160.1,"AD",DUZ)) W !!?10,"Not an AUTHORIZED QA USER" G EX
"RTN","ONCOPMB",70,0)
 I PRINT["PRT3" D ESPD^ONCOGEN I ESPD[U K ESPD Q
"RTN","ONCOPMB",71,0)
 W !
"RTN","ONCOPMB",72,0)
 S BDT=$O(^ONCO(165.5,"AAD",0))
"RTN","ONCOPMB",73,0)
 S DIR(0)="D^"_BDT_":DT:EX",DIR("A")=" Start, DATE CASE COMPLETED" D ^DIR
"RTN","ONCOPMB",74,0)
 G EX:Y[U!(Y="")
"RTN","ONCOPMB",75,0)
 S ONCOD(1)=Y
"RTN","ONCOPMB",76,0)
 S DIR("A")="   End, DATE CASE COMPLETED" D ^DIR
"RTN","ONCOPMB",77,0)
 G EX:Y[U!(Y="")
"RTN","ONCOPMB",78,0)
 S ONCOD(2)=Y
"RTN","ONCOPMB",79,0)
 K IO("Q") S %ZIS="Q" W ! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOPMB",80,0)
 S ONCOION=ION,ONCIOST=IOST
"RTN","ONCOPMB",81,0)
 I '$D(IO("Q")) D TK6^ONCOPMB G EX
"RTN","ONCOPMB",82,0)
 S ZTRTN="TK6^ONCOPMB"
"RTN","ONCOPMB",83,0)
 S ZTSAVE("ONCOD*")=""
"RTN","ONCOPMB",84,0)
 S ZTSAVE("ONCOION")=""
"RTN","ONCOPMB",85,0)
 S ZTSAVE("ONCIOST")=""
"RTN","ONCOPMB",86,0)
 S ZTSAVE("PRINT")=""
"RTN","ONCOPMB",87,0)
 S ZTSAVE("ESPD")=""
"RTN","ONCOPMB",88,0)
 S ZTDESC="ABSTRACTS BY DXDT"
"RTN","ONCOPMB",89,0)
 D ^%ZTLOAD
"RTN","ONCOPMB",90,0)
 G EX
"RTN","ONCOPMB",91,0)
 ;
"RTN","ONCOPMB",92,0)
TK6 K ^TMP("ONCO",$J) S T=0,XDT=ONCOD(1)
"RTN","ONCOPMB",93,0)
 F  S XDT=$O(^ONCO(165.5,"AAD",XDT)) Q:XDT=""  Q:XDT>ONCOD(2)  D
"RTN","ONCOPMB",94,0)
 .S XD0=0 F  S XD0=$O(^ONCO(165.5,"AAD",XDT,XD0)) Q:XD0'>0  I $$DIV^ONCFUNC(XD0)=DUZ(2),$P($G(^ONCO(165.5,XD0,0)),U,4)<10 S N7=$G(^ONCO(165.5,XD0,7)) I $P(N7,U,2)=3 D
"RTN","ONCOPMB",95,0)
 ..S QA=+$P(N7,U,4) I QA="Y",$P(N7,U,9)'="" Q
"RTN","ONCOPMB",96,0)
 ..S T=T+1,^TMP("ONCO",$J,T)=XD0,ONCO(T)=XD0 Q
"RTN","ONCOPMB",97,0)
 G EX:T=0 S QA=(.1*T) I QA["." S QA=$J(QA,$L(QA)-2,0)
"RTN","ONCOPMB",98,0)
 G EX:QA=0
"RTN","ONCOPMB",99,0)
 S ONCOQA=QA,ONCOTT=T,ONCOST=$P(^ONCO(160.1,0),U,3)
"RTN","ONCOPMB",100,0)
 K ^(ONCOST,"QA")
"RTN","ONCOPMB",101,0)
 S ^ONCO(160.1,ONCOST,"QA")=ONCOD(1)_U_ONCOD(2)
"RTN","ONCOPMB",102,0)
 F ONCOQ=1:1 D  Q:ONCOQ=ONCOQA  I ONCIOST?1"C".E W ! K DIR S DIR(0)="E",DIR("A")="Enter RETURN to go to next abstract or '^' to exit" D ^DIR Q:'Y
"RTN","ONCOPMB",103,0)
 .S XDN=$R(ONCOTT+1)
"RTN","ONCOPMB",104,0)
 .I XDN D
"RTN","ONCOPMB",105,0)
 ..S (NUMBER,ONCODA)=^TMP("ONCO",$J,XDN)
"RTN","ONCOPMB",106,0)
 ..S XD0=$P(^ONCO(165.5,ONCODA,0),U,2),IOP=ONCOION
"RTN","ONCOPMB",107,0)
 ..S $P(^ONCO(165.5,ONCODA,7),U,4)="Y"
"RTN","ONCOPMB",108,0)
 ..D PID^ONCOCOM,@PRINT
"RTN","ONCOPMB",109,0)
 ..S ^ONCO(160.1,ONCOST,"QA",ONCOQ)=ONCOPID
"RTN","ONCOPMB",110,0)
 ..S $P(^ONCO(160.1,ONCOST,"QA"),U,3)=ONCOTT,IOP=ONCOION
"RTN","ONCOPMB",111,0)
 ..D 8^ONCOPMP
"RTN","ONCOPMB",112,0)
 ;
"RTN","ONCOPMB",113,0)
EX ;EXIT
"RTN","ONCOPMB",114,0)
 K ONCOION,ONCIOST,ONCOD,ONCOXD0,ONCOXD1,ONCOQ,ONCOQA,ONCOTT,ONCOS,ONCOYR
"RTN","ONCOPMB",115,0)
 K T,ONCODA,ONCOS,DIOEND,DIC,DIR,FR,TO,BY,L,N7,^TMP("ONCO",$J)
"RTN","ONCOPMB",116,0)
 D ^%ZISC
"RTN","ONCOPMB",117,0)
 Q
"RTN","ONCOPMP")
0^222^B3059088
"RTN","ONCOPMP",1,0)
ONCOPMP ;Hines OIFO/GWB - PRINT MULTIPLE ABSTRACTS ;12/16/99
"RTN","ONCOPMP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPMP",3,0)
 ;
"RTN","ONCOPMP",4,0)
PRT1 ;QA ABSTRACT
"RTN","ONCOPMP",5,0)
 S FLDS="[ONCQA]",(FR,TO)=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0
"RTN","ONCOPMP",6,0)
 D EN1^DIP
"RTN","ONCOPMP",7,0)
 Q
"RTN","ONCOPMP",8,0)
 ;
"RTN","ONCOPMP",9,0)
PRT2 ;SET VARIABLES AND @PRINT
"RTN","ONCOPMP",10,0)
 K DXS S DIOEND="S DN=1,D0=ONCODA F XI=50:1:58 K DXS D @(""^ONCOY""_XI)"
"RTN","ONCOPMP",11,0)
 S FLDS="[ONCOY49]",FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOPMP",12,0)
 Q
"RTN","ONCOPMP",13,0)
PRT3 ;Report 3
"RTN","ONCOPMP",14,0)
 S ONCOIEN=ONCODA D MULT^ONCOPA1
"RTN","ONCOPMP",15,0)
 ; K DXS S DIOEND="S DN=1,D0=ONCODA F XI=2:1:11 K DXS D @(""^ONCOX""_XI) K DXS"
"RTN","ONCOPMP",16,0)
 ; S FLDS="[ONCOX1]",FR=NUMBER,TO=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOPMP",17,0)
 Q
"RTN","ONCOPMP",18,0)
 ;
"RTN","ONCOPMP",19,0)
PRT4 ;Report 4
"RTN","ONCOPMP",20,0)
 N XD0
"RTN","ONCOPMP",21,0)
 S FLDS="[ONCO XINCIDENCE RPRT]",(FR,TO)=NUMBER,BY="@NUMBER",DIC="^ONCO(165.5,",L=0 D EN1^DIP
"RTN","ONCOPMP",22,0)
 Q
"RTN","ONCOPMP",23,0)
 ;
"RTN","ONCOPMP",24,0)
 ;QA FORM
"RTN","ONCOPMP",25,0)
8 S DIWF=$S($G(ESPD)=1:"^ONCO(160.2,9,1,",1:"^ONCO(160.2,8,1,")
"RTN","ONCOPMP",26,0)
 S DIWF(1)="165.5",BY="NUMBER",(FR,TO)=ONCODA S TMPIO=IO W !! D EN2^DIWF S IOP=ONCOION D ^%ZIS
"RTN","ONCOPMP",27,0)
 Q
"RTN","ONCOPMP",28,0)
 ;
"RTN","ONCOPMP",29,0)
CK ;Check entry TO PREVENT DELETION
"RTN","ONCOPMP",30,0)
 I DUZ=231,DUZ(2)=10688 Q  ;    package developer can kill
"RTN","ONCOPMP",31,0)
 I DA>3 K ^ONCO(160.2,"B",$E(X,1,30),DA) Q
"RTN","ONCOPMP",32,0)
 W !!?5,"CANNOT DELETE THIS ENTRY" ;TO prevent deletion of exported entries.
"RTN","ONCOPMP",33,0)
H G ^XUSCLEAN ;HALT
"RTN","ONCOPMP",34,0)
 Q
"RTN","ONCOPMP",35,0)
EX ;EXIT
"RTN","ONCOPMP",36,0)
 K DIC,DIR,ONCOXD0,ONCOXD1,ONCOS,DIOEND,FR,TO,BY,L,^TMP("ONCO",$J)
"RTN","ONCOPMP",37,0)
 D ^%ZISC
"RTN","ONCOPMP",38,0)
 Q
"RTN","ONCOPOS")
1^223
"RTN","ONCOPOS1")
1^224
"RTN","ONCOPOS2")
1^225
"RTN","ONCOPRE")
1^226
"RTN","ONCOPRT")
0^7^B41401233
"RTN","ONCOPRT",1,0)
ONCOPRT ;Hines OIFO/GWB - OncoTrax reports ;05/03/12
"RTN","ONCOPRT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPRT",3,0)
 ;This routine invokes Integration Agreement #3151
"RTN","ONCOPRT",4,0)
 ;add to suspense if Disease Index for Casefinding is not already in suspense
"RTN","ONCOPRT",5,0)
SUS ;[SP Print Suspense List by Suspense Date (132c)]
"RTN","ONCOPRT",6,0)
 S BY="@75,INTERNAL(#3),@75,.01,75,2;C2"
"RTN","ONCOPRT",7,0)
 S (FR,TO)=DUZ(2)_",?"
"RTN","ONCOPRT",8,0)
 S FLDS="[ONCO SUSPENSE]"
"RTN","ONCOPRT",9,0)
 G PRT60
"RTN","ONCOPRT",10,0)
 ;
"RTN","ONCOPRT",11,0)
DI ;[DI Disease Index]
"RTN","ONCOPRT",12,0)
 ;Supported by IA #3151
"RTN","ONCOPRT",13,0)
 S (COUNT,SUSCOUNT)=0
"RTN","ONCOPRT",14,0)
 S OSPIEN=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOPRT",15,0)
 S AFLDIV=""
"RTN","ONCOPRT",16,0)
 I $O(^ONCO(160.1,OSPIEN,6,0)) D
"RTN","ONCOPRT",17,0)
 .S ADIEN=0 F  S ADIEN=$O(^ONCO(160.1,OSPIEN,6,ADIEN)) Q:ADIEN'>0  S AFLDIV=AFLDIV_^ONCO(160.1,OSPIEN,6,ADIEN,0)_U
"RTN","ONCOPRT",18,0)
 W !
"RTN","ONCOPRT",19,0)
 K DIR
"RTN","ONCOPRT",20,0)
 S DIR(0)="SAO^1:Casefinding;2:Customized search"
"RTN","ONCOPRT",21,0)
 S DIR("A")=" Select DISEASE INDEX report: "
"RTN","ONCOPRT",22,0)
 S DIR("?",1)=" Select 'Casefinding' if you want to find and add to SUSPENSE"
"RTN","ONCOPRT",23,0)
 S DIR("?",2)=" cases with reportable tumors for the selected date range."
"RTN","ONCOPRT",24,0)
 S DIR("?",3)=""
"RTN","ONCOPRT",25,0)
 S DIR("?",4)=" Select 'Customized search' if you want to search for an"
"RTN","ONCOPRT",26,0)
 S DIR("?",5)=" individual ICD-CM code or range of codes."
"RTN","ONCOPRT",27,0)
 S DIR("?")=" "
"RTN","ONCOPRT",28,0)
 D ^DIR
"RTN","ONCOPRT",29,0)
 I $D(DIRUT) K DIRUT Q
"RTN","ONCOPRT",30,0)
 I Y<1 Q
"RTN","ONCOPRT",31,0)
 I +Y=1 S (SORT,BY)="[ONC DISEASE INDEX CASEFINDING]"
"RTN","ONCOPRT",32,0)
 I +Y=2 S (SORT,BY)="[ONC DISEASE INDEX]"
"RTN","ONCOPRT",33,0)
 S DIC="^AUPNVPOV(",L=0
"RTN","ONCOPRT",34,0)
 S FLDS="[ONC DISEASE INDEX]"
"RTN","ONCOPRT",35,0)
 S DIS(0)="I $$DIDIV^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",36,0)
 ;sets the ICD screens
"RTN","ONCOPRT",37,0)
 D ICD^ONCOPRT1
"RTN","ONCOPRT",38,0)
 ;
"RTN","ONCOPRT",39,0)
 S DHIT="S SAVED0=D0 D DISUS^ONCOPRT S D0=SAVED0"
"RTN","ONCOPRT",40,0)
 I SORT="[ONC DISEASE INDEX CASEFINDING]" S DIOEND="W !?6,""-----"",!,""COUNT "",COUNT,!,""Added to SUSPENSE "",SUSCOUNT"
"RTN","ONCOPRT",41,0)
 E  S DIOEND="W !?6,""-----"",!,""COUNT "",COUNT"
"RTN","ONCOPRT",42,0)
 D EN1^DIP
"RTN","ONCOPRT",43,0)
 K AFLDIV,ADIEN,COUNT,D0,DHIT,DIOEND,DIR,DR,ONCSUB,OSPIEN,POV,SAVED0,SORT,SUSCOUNT
"RTN","ONCOPRT",44,0)
 G EX
"RTN","ONCOPRT",45,0)
 ;
"RTN","ONCOPRT",46,0)
DISUS ;Add DISEASE INDEX case to suspense
"RTN","ONCOPRT",47,0)
 N DA,DC,DIC,DPTIEN,ICD,ONCS,ONCDIV,ONCIEN,ONCPAT,X
"RTN","ONCOPRT",48,0)
 S ICD=$P(^AUPNVPOV(D0,0),U,1)
"RTN","ONCOPRT",49,0)
 S DPTIEN=$P(^AUPNVPOV(D0,0),U,2)
"RTN","ONCOPRT",50,0)
 I '$D(POV(DPTIEN)) S COUNT=COUNT+1,POV(DPTIEN)=""
"RTN","ONCOPRT",51,0)
 ;Q:SORT="[ONC DISEASE INDEX]"  ;comment this for v2.2
"RTN","ONCOPRT",52,0)
 S ONCPAT=DPTIEN_";DPT("
"RTN","ONCOPRT",53,0)
 S ONCIEN=$O(^ONCO(160,"B",ONCPAT,0))
"RTN","ONCOPRT",54,0)
 I ONCIEN'>0 D
"RTN","ONCOPRT",55,0)
 .K DO
"RTN","ONCOPRT",56,0)
 .S DIC="^ONCO(160,",DIC(0)="Z"
"RTN","ONCOPRT",57,0)
 .S X=ONCPAT
"RTN","ONCOPRT",58,0)
 .D FILE^DICN
"RTN","ONCOPRT",59,0)
 .K DO
"RTN","ONCOPRT",60,0)
 .S ONCIEN=+Y
"RTN","ONCOPRT",61,0)
 S ONCDIV="",ONCS=""
"RTN","ONCOPRT",62,0)
 F  S ONCS=$O(^ONCO(160,ONCIEN,"SUS","C",ONCS)) Q:ONCS'>0  S ONCDIV=ONCDIV_U_ONCS
"RTN","ONCOPRT",63,0)
 I ONCDIV[DUZ(2) Q
"RTN","ONCOPRT",64,0)
 S DA(1)=ONCIEN
"RTN","ONCOPRT",65,0)
 S DIC="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOPRT",66,0)
 K DO
"RTN","ONCOPRT",67,0)
 S DIC(0)="L"
"RTN","ONCOPRT",68,0)
 S DIC("P")=$P(^DD(160,75,0),U,2)
"RTN","ONCOPRT",69,0)
 S X=$$GET1^DIQ(9000010,$$GET1^DIQ(9000010.07,D0,.03,"I"),.01,"I")
"RTN","ONCOPRT",70,0)
 S X=$P(X,".",1)
"RTN","ONCOPRT",71,0)
 D FILE^DICN
"RTN","ONCOPRT",72,0)
 K DO,DIE
"RTN","ONCOPRT",73,0)
 S DA(1)=ONCIEN
"RTN","ONCOPRT",74,0)
 S DIE="^ONCO(160,"_DA(1)_",""SUS"","
"RTN","ONCOPRT",75,0)
 S (ONCSUB,DA)=+Y
"RTN","ONCOPRT",76,0)
 S DR="1///^S X=DT;2///^S X=""DI"";3////^S X=DUZ(2);8////^S X=ICD"
"RTN","ONCOPRT",77,0)
 D ^DIE
"RTN","ONCOPRT",78,0)
 S SUSCOUNT=SUSCOUNT+1
"RTN","ONCOPRT",79,0)
 Q
"RTN","ONCOPRT",80,0)
 ;
"RTN","ONCOPRT",81,0)
DNP ;[NP Oncology Patient List-NO Primaries/Suspense]
"RTN","ONCOPRT",82,0)
 S BY="@75,INTERNAL(#3),@NO PRIMARY;L1,NAME"
"RTN","ONCOPRT",83,0)
 S (FR,TO)=DUZ(2)
"RTN","ONCOPRT",84,0)
 S FLDS="[ONCO PATIENT ONLY]"
"RTN","ONCOPRT",85,0)
 G PRT60
"RTN","ONCOPRT",86,0)
 ;
"RTN","ONCOPRT",87,0)
ABI ;[NC Print Abstract NOT Complete List]
"RTN","ONCOPRT",88,0)
 W !
"RTN","ONCOPRT",89,0)
 N BY,FLDS,FR,DIR,DIS,TO,Y
"RTN","ONCOPRT",90,0)
 K DIR
"RTN","ONCOPRT",91,0)
 S DIR(0)="SAO^1:Date Dx;2:Date of First Contact"
"RTN","ONCOPRT",92,0)
 S DIR("A")=" Select date field to be used for sorting: "
"RTN","ONCOPRT",93,0)
 S DIR("?")="Select the date field you wish to use for sorting this report."
"RTN","ONCOPRT",94,0)
 D ^DIR
"RTN","ONCOPRT",95,0)
 I $D(DIRUT) K DIRUT Q
"RTN","ONCOPRT",96,0)
 I Y<1 S OUT=1 Q
"RTN","ONCOPRT",97,0)
 I +Y=1 S BY="#+91,@INTERNAL(#3)"
"RTN","ONCOPRT",98,0)
 I +Y=2 S BY="#+91,@INTERNAL(#155)"
"RTN","ONCOPRT",99,0)
 S FR=",@"
"RTN","ONCOPRT",100,0)
 S TO=""
"RTN","ONCOPRT",101,0)
 S FLDS="[ONCO ABSTRACT NOT-COMPLETE]"
"RTN","ONCOPRT",102,0)
 S DIS(0)="I $P($G(^ONCO(165.5,D0,7)),U,2)'=3"
"RTN","ONCOPRT",103,0)
 G PRT655
"RTN","ONCOPRT",104,0)
 ;
"RTN","ONCOPRT",105,0)
PFH ;[FH Patient Follow-up History]
"RTN","ONCOPRT",106,0)
 D PAT I Y'<0 D  G EX
"RTN","ONCOPRT",107,0)
 .S BY="@NUMBER"
"RTN","ONCOPRT",108,0)
 .S (FR,TO)=+Y
"RTN","ONCOPRT",109,0)
 .S FLDS="[ONCO FOLLOWUP HISTORY]"
"RTN","ONCOPRT",110,0)
 .D PRT60
"RTN","ONCOPRT",111,0)
 Q
"RTN","ONCOPRT",112,0)
 ;
"RTN","ONCOPRT",113,0)
DUF ;[DF Print Due Follow-up List by Month Due]
"RTN","ONCOPRT",114,0)
 W !
"RTN","ONCOPRT",115,0)
 N BY,FLDS,DIR,DIS,Y
"RTN","ONCOPRT",116,0)
 D DIR
"RTN","ONCOPRT",117,0)
 I $D(DIRUT) K DIRUT Q
"RTN","ONCOPRT",118,0)
 I Y<1 Q
"RTN","ONCOPRT",119,0)
 I +Y=1 S (BY,FLDS)="[ONCO DUE FOLLOWUP]"
"RTN","ONCOPRT",120,0)
 I +Y=2 S BY="[ONCO DUE FOLLOWUP]",FLDS="[ONCO DUE FOLLOWUP2]"
"RTN","ONCOPRT",121,0)
 S DIS(0)="I $$PFTD^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",122,0)
 G PRT60
"RTN","ONCOPRT",123,0)
 ;
"RTN","ONCOPRT",124,0)
DEL ;[LF Print Delinquent (LTF) List]
"RTN","ONCOPRT",125,0)
 N BY,FLDS,DIR,DIS,Y
"RTN","ONCOPRT",126,0)
 W !!?5,"FOLLOW-UP STATUS will be changed from ""Active"" to ""LTF""."
"RTN","ONCOPRT",127,0)
 W !?5,"After 15 months the patient is considered LOST TO FOLLOW-UP."
"RTN","ONCOPRT",128,0)
 W !
"RTN","ONCOPRT",129,0)
 D DIR
"RTN","ONCOPRT",130,0)
 I $D(DIRUT) K DIRUT Q
"RTN","ONCOPRT",131,0)
 I Y<1 Q
"RTN","ONCOPRT",132,0)
 I +Y=1 S (BY,FLDS)="[ONCO DELINQUENT(LTF) LIST]"
"RTN","ONCOPRT",133,0)
 I +Y=2 S BY="[ONCO DELINQUENT(LTF) LIST]",FLDS="[ONCO DELINQUENT(LTF) LIST2]"
"RTN","ONCOPRT",134,0)
 S DIS(0)="I $$PFTD^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",135,0)
 G PRT60
"RTN","ONCOPRT",136,0)
 ;
"RTN","ONCOPRT",137,0)
DIR ;DIR
"RTN","ONCOPRT",138,0)
 K DIR
"RTN","ONCOPRT",139,0)
 S DIR(0)="SAO^1:Standard format;2:Remote employees format"
"RTN","ONCOPRT",140,0)
 S DIR("A")=" Select report format: "
"RTN","ONCOPRT",141,0)
 S DIR("?")="Select the report format you wish to use for this report."
"RTN","ONCOPRT",142,0)
 D ^DIR
"RTN","ONCOPRT",143,0)
 Q
"RTN","ONCOPRT",144,0)
 ;
"RTN","ONCOPRT",145,0)
FST ;[SR Follow-up Status Report by Patient (132c)]
"RTN","ONCOPRT",146,0)
 W ! S (BY,FLDS)="[ONCO FOLLOWUP STATUS RPT]"
"RTN","ONCOPRT",147,0)
 S DIS(0)="I $$PFTD^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",148,0)
 G PRT60
"RTN","ONCOPRT",149,0)
 ;
"RTN","ONCOPRT",150,0)
PFR ;[FR Individual Follow-up Report]
"RTN","ONCOPRT",151,0)
 D PAT I Y'<0 D  G EX
"RTN","ONCOPRT",152,0)
 .S BY="@NUMBER"
"RTN","ONCOPRT",153,0)
 .S (FR,TO)=+Y
"RTN","ONCOPRT",154,0)
 .S FLDS="[ONCO FOLLOWUP PATIENT RPT]"
"RTN","ONCOPRT",155,0)
 .D PRT60
"RTN","ONCOPRT",156,0)
 Q
"RTN","ONCOPRT",157,0)
 ;
"RTN","ONCOPRT",158,0)
ACOS80 ;[AA Accession Register-ACOS (80c)]
"RTN","ONCOPRT",159,0)
 S (BY,FLDS)="[ONCO ACCREG-ACOS80]" D HA G PRT655
"RTN","ONCOPRT",160,0)
 ;
"RTN","ONCOPRT",161,0)
AC80ST ;[AS Accession Register-Site (80c)]
"RTN","ONCOPRT",162,0)
 S (BY,FLDS)="[ONCO ACCREG-SITE/GP80]" D HA G PRT655
"RTN","ONCOPRT",163,0)
 ;
"RTN","ONCOPRT",164,0)
EOAC ;[AE Accession Register-EOVA (132c)]
"RTN","ONCOPRT",165,0)
 S (BY,FLDS)="[ONCO ACCREG-EOVA132]" D HA G PRT655
"RTN","ONCOPRT",166,0)
 ;
"RTN","ONCOPRT",167,0)
HA ;Help for Accession Registers
"RTN","ONCOPRT",168,0)
 W !!?3,"For a complete register:"
"RTN","ONCOPRT",169,0)
 W !?5,"START WITH ACC/SEQ NUMBER: FIRST// <Enter>"
"RTN","ONCOPRT",170,0)
 W !!?3,"For a single accession year (e.g. 1999):"
"RTN","ONCOPRT",171,0)
 W !,?5,"START WITH ACC/SEQ NUMBER: FIRST// 1999-00000"
"RTN","ONCOPRT",172,0)
 W !,?5,"GO TO ACC/SEQ NUMBER: LAST// 1999-99999"
"RTN","ONCOPRT",173,0)
 W !!?3,"For a single patient (e.g. 1999-00001):"
"RTN","ONCOPRT",174,0)
 W !,?5,"START WITH ACC/SEQ NUMBER: FIRST// 1999-00001/00"
"RTN","ONCOPRT",175,0)
 W !,?5,"GO TO ACC/SEQ NUMBER: LAST// 1999-00001/99"
"RTN","ONCOPRT",176,0)
 W !
"RTN","ONCOPRT",177,0)
 Q
"RTN","ONCOPRT",178,0)
 ;
"RTN","ONCOPRT",179,0)
ACOSPT ;[PA Patient Index-ACOS (132c)]
"RTN","ONCOPRT",180,0)
 S BY="NAME",(FR,TO)=""
"RTN","ONCOPRT",181,0)
 S FLDS="[ONCO PATIENT INDX-ACOS]"
"RTN","ONCOPRT",182,0)
 S DIS(0)="I $$PFTD^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",183,0)
 G PRT60
"RTN","ONCOPRT",184,0)
 ;
"RTN","ONCOPRT",185,0)
PAT80 ;[PS Patient Index-Site (80c)]
"RTN","ONCOPRT",186,0)
 S BY="NAME"
"RTN","ONCOPRT",187,0)
 S (FR,TO)=""
"RTN","ONCOPRT",188,0)
 S FLDS="[ONCO PATIENT INDX80]"
"RTN","ONCOPRT",189,0)
 S DIS(0)="I $$PFTD^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",190,0)
 G PRT60
"RTN","ONCOPRT",191,0)
 ;
"RTN","ONCOPRT",192,0)
EOVA ;[PE Patient Index-EOVA (132c)]
"RTN","ONCOPRT",193,0)
 S BY="NAME"
"RTN","ONCOPRT",194,0)
 S (FR,TO)=""
"RTN","ONCOPRT",195,0)
 S FLDS="[ONCO PATIENT INDX-EOVA132]"
"RTN","ONCOPRT",196,0)
 S DIS(0)="I $$PFTD^ONCFUNC(D0)=""Y"""
"RTN","ONCOPRT",197,0)
 G PRT60
"RTN","ONCOPRT",198,0)
 ;
"RTN","ONCOPRT",199,0)
ICD80 ;[IN Primary ICDO Listing (80c)]
"RTN","ONCOPRT",200,0)
 S (BY,FLDS)="[ONCO ICDO-SITE80]"
"RTN","ONCOPRT",201,0)
 G PRT655
"RTN","ONCOPRT",202,0)
 ;
"RTN","ONCOPRT",203,0)
SIT80 ;[SG Primary Site/GP Listing (80c)]
"RTN","ONCOPRT",204,0)
 S (BY,FLDS)="[ONCO SITE/GP80]"
"RTN","ONCOPRT",205,0)
 G PRT655
"RTN","ONCOPRT",206,0)
 ;
"RTN","ONCOPRT",207,0)
ICD132 ;[IW Primary ICDO Listing (132c)]
"RTN","ONCOPRT",208,0)
 S (BY,FLDS)="[ONCO ICDO-SITE132]"
"RTN","ONCOPRT",209,0)
 G PRT655
"RTN","ONCOPRT",210,0)
 ;
"RTN","ONCOPRT",211,0)
PAT ;ONCOLOGY PATIENT (160) lookup
"RTN","ONCOPRT",212,0)
 W !
"RTN","ONCOPRT",213,0)
 S DIC="^ONCO(160,",DIC(0)="AEQM",DIC("A")=" Select Patient Name: "
"RTN","ONCOPRT",214,0)
 D ^DIC K DIC W !
"RTN","ONCOPRT",215,0)
 Q
"RTN","ONCOPRT",216,0)
 ;
"RTN","ONCOPRT",217,0)
PRT60 ;Print ONCOLOGY PATIENT (160) file
"RTN","ONCOPRT",218,0)
 S DIC="^ONCO(160,",L=0 D EN1^DIP G EX
"RTN","ONCOPRT",219,0)
 ;
"RTN","ONCOPRT",220,0)
PRT655 ;Print ONCOLOGY PRIMARY (165.5) file
"RTN","ONCOPRT",221,0)
 S DIC="^ONCO(165.5,",L=0 D EN1^DIP G EX
"RTN","ONCOPRT",222,0)
 ;
"RTN","ONCOPRT",223,0)
EX ;Exit
"RTN","ONCOPRT",224,0)
 K BY,DIC,DHD,DIS,FLDS,FR,L,TO,Y
"RTN","ONCOPRT",225,0)
 Q
"RTN","ONCOPRT",226,0)
 ;
"RTN","ONCOPRT",227,0)
CLEANUP ;Cleanup
"RTN","ONCOPRT",228,0)
 K OUT
"RTN","ONCOPRT1")
0^227^B57470448
"RTN","ONCOPRT1",1,0)
ONCOPRT1 ;Hines OIFO/RVD - OncoTrax Reports ICD ;05/14/12
"RTN","ONCOPRT1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOPRT1",3,0)
 ;This routine invokes Integration Agreement #3151 and #3990.
"RTN","ONCOPRT1",4,0)
 ;
"RTN","ONCOPRT1",5,0)
ICD ;check for particular ICD code.
"RTN","ONCOPRT1",6,0)
 I SORT="[ONC DISEASE INDEX CASEFINDING]" D
"RTN","ONCOPRT1",7,0)
 .S DIS(1)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>139.99)&(CODE<208.93)"
"RTN","ONCOPRT1",8,0)
 .S DIS(2)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>208.99)&(CODE<209.30)"
"RTN","ONCOPRT1",9,0)
 .S DIS(3)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=209.30"
"RTN","ONCOPRT1",10,0)
 .S DIS(4)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>209.30)&(CODE<209.37)"
"RTN","ONCOPRT1",11,0)
 .S DIS(5)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>209.69)&(CODE<209.80)"
"RTN","ONCOPRT1",12,0)
 .S DIS(6)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>224.99)&(CODE<226)"
"RTN","ONCOPRT1",13,0)
 .S DIS(7)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=227.3"
"RTN","ONCOPRT1",14,0)
 .S DIS(8)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=227.4"
"RTN","ONCOPRT1",15,0)
 .S DIS(9)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=227.9"
"RTN","ONCOPRT1",16,0)
 .S DIS(10)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=228.02"
"RTN","ONCOPRT1",17,0)
 .S DIS(11)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=228.1"
"RTN","ONCOPRT1",18,0)
 .S DIS(12)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>229.99)&(CODE<235)"
"RTN","ONCOPRT1",19,0)
 .S DIS(13)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""236.0"""
"RTN","ONCOPRT1",20,0)
 .S DIS(14)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>236.99)&(CODE<238)"
"RTN","ONCOPRT1",21,0)
 .S DIS(15)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.4"
"RTN","ONCOPRT1",22,0)
 .S DIS(16)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.6"
"RTN","ONCOPRT1",23,0)
 .S DIS(17)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.7"
"RTN","ONCOPRT1",24,0)
 .S DIS(18)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.71"
"RTN","ONCOPRT1",25,0)
 .S DIS(19)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.72"
"RTN","ONCOPRT1",26,0)
 .S DIS(20)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.73"
"RTN","ONCOPRT1",27,0)
 .S DIS(21)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.74"
"RTN","ONCOPRT1",28,0)
 .S DIS(22)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.75"
"RTN","ONCOPRT1",29,0)
 .S DIS(23)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.76"
"RTN","ONCOPRT1",30,0)
 .S DIS(24)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.77"
"RTN","ONCOPRT1",31,0)
 .S DIS(25)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=238.79"
"RTN","ONCOPRT1",32,0)
 .S DIS(26)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=239.6"
"RTN","ONCOPRT1",33,0)
 .S DIS(27)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=239.7"
"RTN","ONCOPRT1",34,0)
 .S DIS(28)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>239.80)&(CODE<239.90)"
"RTN","ONCOPRT1",35,0)
 .S DIS(29)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=273.2"
"RTN","ONCOPRT1",36,0)
 .S DIS(30)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=273.3"
"RTN","ONCOPRT1",37,0)
 .S DIS(31)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=288.3"
"RTN","ONCOPRT1",38,0)
 .S DIS(32)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.06"
"RTN","ONCOPRT1",39,0)
 .S DIS(33)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.16"
"RTN","ONCOPRT1",40,0)
 .S DIS(34)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.76"
"RTN","ONCOPRT1",41,0)
 .S DIS(35)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)[""V10"""
"RTN","ONCOPRT1",42,0)
 .S DIS(36)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V12.41"""
"RTN","ONCOPRT1",43,0)
 .S DIS(37)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>258.01)&(CODE<258.04)"
"RTN","ONCOPRT1",44,0)
 .S DIS(38)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=338.3"
"RTN","ONCOPRT1",45,0)
 .S DIS(39)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=511.81"
"RTN","ONCOPRT1",46,0)
 .S DIS(40)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=789.51"
"RTN","ONCOPRT1",47,0)
 .S DIS(41)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""042."""
"RTN","ONCOPRT1",48,0)
 .S DIS(42)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""079.4"""
"RTN","ONCOPRT1",49,0)
 .S DIS(43)="S CODE=+$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>79.49)&(CODE<79.60)"
"RTN","ONCOPRT1",50,0)
 .S DIS(44)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>209.9)&(CODE<230)"
"RTN","ONCOPRT1",51,0)
 .S DIS(45)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>234.9)&(CODE<236.7)"
"RTN","ONCOPRT1",52,0)
 .S DIS(46)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>237.9)&(CODE<240)"
"RTN","ONCOPRT1",53,0)
 .S DIS(47)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=253.6"
"RTN","ONCOPRT1",54,0)
 .S DIS(48)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=259.2"
"RTN","ONCOPRT1",55,0)
 .S DIS(49)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""273.0"""
"RTN","ONCOPRT1",56,0)
 .S DIS(50)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=273.1"
"RTN","ONCOPRT1",57,0)
 .S DIS(51)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=273.9"
"RTN","ONCOPRT1",58,0)
 .S DIS(52)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=275.42"
"RTN","ONCOPRT1",59,0)
 .S DIS(53)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=277.88"
"RTN","ONCOPRT1",60,0)
 .S DIS(54)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""279.00"""
"RTN","ONCOPRT1",61,0)
 .S DIS(55)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>279.01)&(CODE<279.07)"
"RTN","ONCOPRT1",62,0)
 .S DIS(56)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""279.10"""
"RTN","ONCOPRT1",63,0)
 .S DIS(57)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=279.12"
"RTN","ONCOPRT1",64,0)
 .S DIS(58)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=279.13"
"RTN","ONCOPRT1",65,0)
 .S DIS(59)="S CODE=$P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2) I (CODE>279.1)&(CODE<280)"
"RTN","ONCOPRT1",66,0)
 .S DIS(60)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=284.81"
"RTN","ONCOPRT1",67,0)
 .S DIS(61)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=284.89"
"RTN","ONCOPRT1",68,0)
 .S DIS(62)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=285.22"
"RTN","ONCOPRT1",69,0)
 .S DIS(63)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=285.3"
"RTN","ONCOPRT1",70,0)
 .S DIS(64)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=288.03"
"RTN","ONCOPRT1",71,0)
 .S DIS(65)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=289.83"
"RTN","ONCOPRT1",72,0)
 .S DIS(66)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=323.81"
"RTN","ONCOPRT1",73,0)
 .S DIS(67)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=379.59"
"RTN","ONCOPRT1",74,0)
 .S DIS(68)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=528.01"
"RTN","ONCOPRT1",75,0)
 .S DIS(69)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=686.01"
"RTN","ONCOPRT1",76,0)
 .S DIS(70)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=695.89"
"RTN","ONCOPRT1",77,0)
 .S DIS(71)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=701.2"
"RTN","ONCOPRT1",78,0)
 .S DIS(72)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=710.3"
"RTN","ONCOPRT1",79,0)
 .S DIS(73)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=710.4"
"RTN","ONCOPRT1",80,0)
 .S DIS(74)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=785.6"
"RTN","ONCOPRT1",81,0)
 .S DIS(75)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=790.93"
"RTN","ONCOPRT1",82,0)
 .S DIS(76)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.8"
"RTN","ONCOPRT1",83,0)
 .S DIS(77)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.81"
"RTN","ONCOPRT1",84,0)
 .S DIS(78)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.82"
"RTN","ONCOPRT1",85,0)
 .S DIS(79)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=795.89"
"RTN","ONCOPRT1",86,0)
 .S DIS(80)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=999.31"
"RTN","ONCOPRT1",87,0)
 .S DIS(81)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=999.81"
"RTN","ONCOPRT1",88,0)
 .S DIS(82)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""E879.2"""
"RTN","ONCOPRT1",89,0)
 .S DIS(83)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""E930.7"""
"RTN","ONCOPRT1",90,0)
 .S DIS(84)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""E933.1"""
"RTN","ONCOPRT1",91,0)
 .S DIS(85)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V07.3"""
"RTN","ONCOPRT1",92,0)
 .S DIS(86)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V07.8"""
"RTN","ONCOPRT1",93,0)
 .S DIS(87)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V12.72"""
"RTN","ONCOPRT1",94,0)
 .S DIS(88)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V15.3"""
"RTN","ONCOPRT1",95,0)
 .S DIS(89)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V42.81"""
"RTN","ONCOPRT1",96,0)
 .S DIS(90)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V42.82"""
"RTN","ONCOPRT1",97,0)
 .S DIS(91)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V51.0"""
"RTN","ONCOPRT1",98,0)
 .S DIS(92)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V52.4"""
"RTN","ONCOPRT1",99,0)
 .S DIS(93)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V54.2"""
"RTN","ONCOPRT1",100,0)
 .S DIS(94)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V58.0"""
"RTN","ONCOPRT1",101,0)
 .S DIS(95)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V58.1"""
"RTN","ONCOPRT1",102,0)
 .S DIS(96)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V58.11"""
"RTN","ONCOPRT1",103,0)
 .S DIS(97)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V58.12"""
"RTN","ONCOPRT1",104,0)
 .S DIS(98)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V58.42"""
"RTN","ONCOPRT1",105,0)
 .S DIS(99)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V66.1"""
"RTN","ONCOPRT1",106,0)
 .S DIS(100)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V66.2"""
"RTN","ONCOPRT1",107,0)
 .S DIS(101)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V67.1"""
"RTN","ONCOPRT1",108,0)
 .S DIS(102)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V67.2"""
"RTN","ONCOPRT1",109,0)
 .S DIS(103)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)[""V76"""
"RTN","ONCOPRT1",110,0)
 .S DIS(104)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)[""V78"""
"RTN","ONCOPRT1",111,0)
 .S DIS(105)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V82.71"""
"RTN","ONCOPRT1",112,0)
 .S DIS(106)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V82.79"""
"RTN","ONCOPRT1",113,0)
 .S DIS(107)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V82.89"""
"RTN","ONCOPRT1",114,0)
 .S DIS(108)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V82.9"""
"RTN","ONCOPRT1",115,0)
 .S DIS(109)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V84.01"""
"RTN","ONCOPRT1",116,0)
 .S DIS(110)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V84.02"""
"RTN","ONCOPRT1",117,0)
 .S DIS(111)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V84.03"""
"RTN","ONCOPRT1",118,0)
 .S DIS(112)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V84.04"""
"RTN","ONCOPRT1",119,0)
 .S DIS(113)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V84.09"""
"RTN","ONCOPRT1",120,0)
 .S DIS(114)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V84.81"""
"RTN","ONCOPRT1",121,0)
 .S DIS(115)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V86.0"""
"RTN","ONCOPRT1",122,0)
 .S DIS(116)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V86.1"""
"RTN","ONCOPRT1",123,0)
 .S DIS(117)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=""V87.41"""
"RTN","ONCOPRT1",124,0)
 .S DIS(118)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=259.8"
"RTN","ONCOPRT1",125,0)
 .S DIS(119)="I $P($$ICDDX^ICDCODE($P($G(^AUPNVPOV(D0,0)),U,1)),U,2)=624.01"
"RTN","ONCOPRT1",126,0)
 Q
"RTN","ONCOPST")
1^427
"RTN","ONCOPST1")
1^428
"RTN","ONCOPST2")
1^429
"RTN","ONCOPST3")
1^430
"RTN","ONCOPST4")
1^431
"RTN","ONCORF")
0^228^B4849037
"RTN","ONCORF",1,0)
ONCORF ;HIRMFO/GWB - OVER-RIDE FLAG PRINT;11/30/00
"RTN","ONCORF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCORF",3,0)
PRT N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCORF",4,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCORF",5,0)
 S DR="205:226"
"RTN","ONCORF",6,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCORF",7,0)
 S:$G(ONC(165.5,D0,205))'="" ONC(165.5,D0,205)="Reviewed"
"RTN","ONCORF",8,0)
 W !," Over-ride Age/Site/Morph.: ",ONC(165.5,D0,205),?40,"Over-ride SS/NodesPos....: ",ONC(165.5,D0,218)
"RTN","ONCORF",9,0)
 W !," Over-ride SeqNo/DxConf...: ",ONC(165.5,D0,206),?40,"Over-ride SS/TNM-N.......: ",ONC(165.5,D0,219)
"RTN","ONCORF",10,0)
 W !," Over-ride Site/Lat/SeqNo.: ",ONC(165.5,D0,207),?40,"Over-ride SS/TNM-M.......: ",ONC(165.5,D0,220)
"RTN","ONCORF",11,0)
 W !," Over-ride Surg/DxConf....: ",ONC(165.5,D0,208),?40,"Over-ride SS/DisMet1.....: ",ONC(165.5,D0,221)
"RTN","ONCORF",12,0)
 W !," Over-ride Site/Type......: ",ONC(165.5,D0,209),?40,"Over-ride Acsn/Class/Seq.: ",ONC(165.5,D0,222)
"RTN","ONCORF",13,0)
 W !," Over-ride Histology......: ",ONC(165.5,D0,210),?40,"Over-ride HospSeq/DxConf.: ",ONC(165.5,D0,223)
"RTN","ONCORF",14,0)
 W !," Over-ride Report Source..: ",ONC(165.5,D0,211),?40,"Over-ride COC-Site/Type..: ",ONC(165.5,D0,224)
"RTN","ONCORF",15,0)
 W !," Over-ride Ill-define Site: ",ONC(165.5,D0,212),?40,"Over-ride HospSeq/Site...: ",ONC(165.5,D0,225)
"RTN","ONCORF",16,0)
 W !," Over-ride Leuk, Lymphoma.: ",ONC(165.5,D0,213),?40,"Over-ride Site/TNM-StgGrp: ",ONC(165.5,D0,226)
"RTN","ONCORF",17,0)
 W !," Over-ride Site/Behavior..: ",ONC(165.5,D0,214)
"RTN","ONCORF",18,0)
 W !," Over-ride Site/EOD/DX Dt.: ",ONC(165.5,D0,215)
"RTN","ONCORF",19,0)
 W !," Over-ride Site/Lat/EOD...: ",ONC(165.5,D0,216)
"RTN","ONCORF",20,0)
 W !," Over-ride Site/Lat/Morph.: ",ONC(165.5,D0,217)
"RTN","ONCORF",21,0)
 W !,DASHES
"RTN","ONCORF",22,0)
 Q
"RTN","ONCOSA")
0^229^B9399540
"RTN","ONCOSA",1,0)
ONCOSA ;Hines OIFO - ANNUAL CROSS TABS-CANNED REPORTS ;9/3/93
"RTN","ONCOSA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSA",3,0)
ACT ;ANNUAL CROSS TABS
"RTN","ONCOSA",4,0)
 W @IOF,!!!?21,"CROSS TABS for ANNUAL Reports"
"RTN","ONCOSA",5,0)
 W !?25,"requires definition of"
"RTN","ONCOSA",6,0)
 W !?22,"YEAR and Row for all TABLES"
"RTN","ONCOSA",7,0)
Y S BYR=$O(^ONCO(165.5,"AY",0)) F YR=$E(DT,1)+17_$E(DT,2,3)-1:-1:BYR-1 S EYR=$O(^ONCO(165.5,"AY",YR)) Q:EYR'=""
"RTN","ONCOSA",8,0)
 ;
"RTN","ONCOSA",9,0)
A W !! K DIR S YR=$E(DT,1)+17_$E(DT,2,3),DIR("A")="     Select YEAR for Cross Tab Reports",DIR("B")=$E(DT,1)+17_$E(DT,2,3)-1,DIR(0)="N^"_BYR_":"_EYR D ^DIR G EX:Y["^"!(Y=""),A:Y>YR,A:Y'?1.N S ONCOS("YR")=Y_"^"_Y
"RTN","ONCOSA",10,0)
ST W !! K DIR S DIR(0)="L^"_BYR_":"_EYR,DIR("A")="     Specify Time Frame for Total Registry" D ^DIR Q:Y["^"!(Y="")  S N=$L(Y,",")-1,Y1=$P(Y,","),Y2=$P(Y,",",N)
"RTN","ONCOSA",11,0)
 ;TASK RANGE
"RTN","ONCOSA",12,0)
 W !!?20,"Year for Annual Report is: ",+ONCOS("YR"),!!?20,"Complete Registry is "_Y1_" to "_Y2,!! K DIR S DIR("A")="    Definitions OK",DIR(0)="Yes",DIR("B")="Y" D ^DIR Q:Y="^"!(Y="")  G A:Y=0 S ONCOS("RG")=Y1_"^"_Y2
"RTN","ONCOSA",13,0)
 ;
"RTN","ONCOSA",14,0)
ROW ;SELECT ROW
"RTN","ONCOSA",15,0)
 K DIR S DIR("A")="     Select Row",DIR(0)="SO^1:PRIMARY SITE/GP;2:ICDO-SITE;3:ICDO-TOPOGRAPHY;4:SELECTED SITES;5:SYSTEMS" D ^DIR G EX:Y="^"!(Y="") S ONCOS("R")=$P($P(DIR(0),";",Y),":",2)
"RTN","ONCOSA",16,0)
 K DIR S DIR("A")="      Percentages",DIR(0)="Y" W ! D ^DIR G EX:Y="^"!(Y="") S ONCOS("P")=$S(Y=0:"",1:1)
"RTN","ONCOSA",17,0)
QUE ;QUE to run report
"RTN","ONCOSA",18,0)
 W !!!?10,"-QUE ('Q') to run this report at night.",!?10,"-Ask your IRM for the appropriate time.",!!
"RTN","ONCOSA",19,0)
 K IO("Q"),IOP S %ZIS="Q",%ZIS("A")="     Select Device to Print Annual Cross Tabs: " D ^%ZIS S IOP=ION I POP S ONCOUT="" G EX
"RTN","ONCOSA",20,0)
 I '$D(IO("Q")) D TSK^ONCOSA1 G EX
"RTN","ONCOSA",21,0)
 S ONCOION=ION,ONCOIOM=IOM,ZTSAVE("ONCOION")="",ZTSAVE("ONCOIOM")="",ZTRTN="TSK^ONCOSA1",ZTDESC="ONCOLOGY ANNUAL CROSS TABS",ZTSAVE("ONCOS*")="" D ^%ZTLOAD K ZTSK G EX
"RTN","ONCOSA",22,0)
 ;
"RTN","ONCOSA",23,0)
EX ;EXIT TASK
"RTN","ONCOSA",24,0)
 K DIR,ONCOS,RG,CT,YR,BYR,EYR,CC,G,GLO,HEAD,J,NM,O11,OC,OS,OT,RC,ROWDEF
"RTN","ONCOSA",25,0)
 K SX,T,TX,W,Y2,%DT,%T,%ZISOS,Y2,ONCOIOM,ONCOION
"RTN","ONCOSA",26,0)
 Q
"RTN","ONCOSA1")
0^230^B11411674
"RTN","ONCOSA1",1,0)
ONCOSA1 ;WASH ISC/SRR-ANNUAL CROSS TABS-CANNED REPORTS-TASKED JOB ;12/14/99
"RTN","ONCOSA1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSA1",3,0)
 Q  ;NOT A RUN ROUTINE
"RTN","ONCOSA1",4,0)
 ;
"RTN","ONCOSA1",5,0)
TSK ;Tasked job to print all cross tab tables
"RTN","ONCOSA1",6,0)
1 S J=0 F NM="NON ANAL","ANALYTIC","ALLCASES" S D0=$O(^DIBT("F165.5","ONCOS RANGE-"_NM,0)) Q:D0=""  S KD(J)=D0,$P(^DIBT(D0,0),U,2)=DT,J=J+1 K ^DIBT(D0,1)
"RTN","ONCOSA1",7,0)
 S RG=ONCOS("RG"),Y1=$P(RG,U),Y2=$P(RG,U,2) F YR=Y1:1:Y2 S D0=0 D
"RTN","ONCOSA1",8,0)
 .F  S D0=$O(^ONCO(165.5,"AY",YR,D0)) Q:D0'>0  I $$DIV^ONCFUNC(D0)=DUZ(2) S CC=+$P(^ONCO(165.5,D0,0),U,20),^DIBT(KD(CC),1,D0)="",^DIBT(KD(2),1,D0)=""
"RTN","ONCOSA1",9,0)
2 F J=0 F NM="NON ANAL","ANALYTIC","ALLCASES" S D0=$O(^DIBT("F165.5","ONCOS ANNUAL-"_NM,0)) Q:D0=""  S XD(J)=D0,$P(^DIBT(D0,0),U,2)=DT,J=J+1 K ^DIBT(D0,1)
"RTN","ONCOSA1",10,0)
 S YR=+ONCOS("YR"),D0=0 F  S D0=$O(^ONCO(165.5,"AY",YR,D0)) Q:D0=""  I $$DIV^ONCFUNC(D0)=DUZ(2) S CC=+$P(^ONCO(165.5,D0,0),U,20),^DIBT(XD(CC),1,D0)="",^DIBT(XD(2),1,D0)=""
"RTN","ONCOSA1",11,0)
3 ;Setup templates for Stage/Treatment
"RTN","ONCOSA1",12,0)
 F G="0","I","II","III","IV","U","NA" D
"RTN","ONCOSA1",13,0)
 .S D0=$O(^DIBT("F165.5","ONCOS ANAL/STAGE "_G,0)) Q:D0'>0  K ^DIBT(D0,1) S XD(G)=D0,$P(^DIBT(D0,0),U,2)=DT
"RTN","ONCOSA1",14,0)
 S D0=0 F  S D0=$O(^ONCO(165.5,"AG",1,D0)) Q:D0'>0  I $$DIV^ONCFUNC(D0)=DUZ(2) S G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOSA1",15,0)
 ;
"RTN","ONCOSA1",16,0)
4 F G=0,"I","II","III","IV","U","NA" D
"RTN","ONCOSA1",17,0)
 .S D0=$O(^DIBT("F165.5","ONCOS ANNUAL ANAL/STAGE "_G,0)) Q:D0'>0  K ^DIBT(D0,1) S XD(G)=D0,$P(^DIBT(D0,0),U,2)=DT
"RTN","ONCOSA1",18,0)
 S D0=0 F  S D0=$O(^ONCO(165.5,"AY",YR,D0)) Q:D0'>0  I $$DIV^ONCFUNC(D0)=DUZ(2) S G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOSA1",19,0)
TAB ;Call to do crosstabs for each case
"RTN","ONCOSA1",20,0)
 ;Given ONCOS("R")=row,ONCOS("P")=percentages
"RTN","ONCOSA1",21,0)
 ;Reset ONCOS("C") and ONCOS("T")
"RTN","ONCOSA1",22,0)
 S ONCOEX=0,ONCOS("TK")=1,ONCOS("F")="ONCOLOGY PRIMARY",(ONCOS("N"),ONCOS("Y"))=""
"RTN","ONCOSA1",23,0)
R S ONCOS("T")="ONCOS RANGE-ALLCASES",ONCOS("C")="CLASS CATEGORY" D PRINT^ONCOSCT Q:ONCOEX
"RTN","ONCOSA1",24,0)
 F NM="ALLCASES","NON ANAL","ANALYTIC" Q:ONCOEX  S ONCOS("T")="ONCOS RANGE-"_NM D
"RTN","ONCOSA1",25,0)
 .F I=2:1:13 Q:ONCOEX  D
"RTN","ONCOSA1",26,0)
 ..S ONCOS("C")=$P($T(COL+I),";",3) D PRINT^ONCOSCT
"RTN","ONCOSA1",27,0)
 Q:ONCOEX  F I=14:1:17 Q:ONCOEX  D
"RTN","ONCOSA1",28,0)
 .S ONCOS("C")=$P($T(COL+I),";",3) D PRINT^ONCOSCT
"RTN","ONCOSA1",29,0)
 Q:ONCOEX  F G=0,"I","II","III","IV","U","NA" Q:ONCOEX  D
"RTN","ONCOSA1",30,0)
 .S ONCOS("T")="ONCOS ANAL/STAGE "_G,ONCOS("C")="TREATMENT" D PRINT^ONCOSCT
"RTN","ONCOSA1",31,0)
 ;ANNUAL CASES
"RTN","ONCOSA1",32,0)
AN Q:ONCOEX  S ONCOS("T")="ONCOS ANNUAL-ALLCASES",ONCOS("C")="CLASS CATEGORY" D PRINT^ONCOSCT Q:ONCOEX
"RTN","ONCOSA1",33,0)
 Q:ONCOEX  F NM="ALLCASES","NON ANAL","ANALYTIC" Q:ONCOEX  S ONCOS("T")="ONCOS ANNUAL-"_NM D
"RTN","ONCOSA1",34,0)
T .F I=2:1:13 Q:ONCOEX  D
"RTN","ONCOSA1",35,0)
 ..S ONCOS("C")=$P($T(COL+I),";",3) D PRINT^ONCOSCT
"RTN","ONCOSA1",36,0)
 Q:ONCOEX  F I=14:1:17 Q:ONCOEX  D
"RTN","ONCOSA1",37,0)
 .S ONCOS("C")=$P($T(COL+I),";",3) D PRINT^ONCOSCT
"RTN","ONCOSA1",38,0)
 Q:ONCOEX  F G=0,"I","II","III","IV","U","NA" Q:ONCOEX  D
"RTN","ONCOSA1",39,0)
 .S ONCOS("T")="ONCOS ANNUAL ANAL/STAGE "_G,ONCOS("C")="TREATMENT" D PRINT^ONCOSCT
"RTN","ONCOSA1",40,0)
EX ;EXIT
"RTN","ONCOSA1",41,0)
 K ONCOS,RG,YR,Y1,Y2,D0,ONCOEX,ONCOION,ONCOIOM
"RTN","ONCOSA1",42,0)
 Q
"RTN","ONCOSA1",43,0)
COL ;List of fields for Columns
"RTN","ONCOSA1",44,0)
 ;;CLASS CATEGORY
"RTN","ONCOSA1",45,0)
 ;;ACCESSION YEAR
"RTN","ONCOSA1",46,0)
 ;;CLASS NO.
"RTN","ONCOSA1",47,0)
 ;;STATUS
"RTN","ONCOSA1",48,0)
 ;;SEX
"RTN","ONCOSA1",49,0)
 ;;RACE
"RTN","ONCOSA1",50,0)
 ;;RACE-SEX
"RTN","ONCOSA1",51,0)
 ;;SEX-RACE
"RTN","ONCOSA1",52,0)
 ;;DX AGE-GP
"RTN","ONCOSA1",53,0)
 ;;PLACE OF BIRTH
"RTN","ONCOSA1",54,0)
 ;;MARITAL STATUS AT DX
"RTN","ONCOSA1",55,0)
 ;;STATE
"RTN","ONCOSA1",56,0)
 ;;ST-COUNTY
"RTN","ONCOSA1",57,0)
 ;;SUMMARY STAGE
"RTN","ONCOSA1",58,0)
 ;;HISTOLOGY
"RTN","ONCOSA1",59,0)
 ;;STAGE GROUPING-AJCC
"RTN","ONCOSA1",60,0)
 ;;TREATMENT
"RTN","ONCOSA1",61,0)
 ;;GP-G AJCC SUMMARY STAGE
"RTN","ONCOSC")
0^231^B11427074
"RTN","ONCOSC",1,0)
ONCOSC ;WASH ISC/SRR,MLH-CROSS TAB REPORTS ;9/29/93  11:40
"RTN","ONCOSC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSC",3,0)
ST ;Start
"RTN","ONCOSC",4,0)
H W !!!,?10,"CROSS TABS for Total Registry",!!
"RTN","ONCOSC",5,0)
AN ;ANNUAL (call ONCOST for time frames)
"RTN","ONCOSC",6,0)
 S ONCOT=1 D TF^ONCOST G EX:$D(DIRUT) S TF=ONCOS("YR"),YR=$S(TF="ALL":" ",1:" ANNUAL ") I TF'="ALL" S BYR=$P(TF,U),EYR=$P(TF,U,2),EYR=$S(BYR=EYR:EYR,1:EYR)
"RTN","ONCOSC",7,0)
 S HEAD=$S(TF="ALL":"ALL",BYR=EYR:BYR,1:BYR_"-"_EYR)
"RTN","ONCOSC",8,0)
CAT K DIR S DIR("A")="     Select CLASS Category",DIR(0)="SO^N:Non-Analytic;A:Analytic;T:All Cases" D ^DIR G EX:Y="^"!(Y="")
"RTN","ONCOSC",9,0)
 S GP=$S(Y="A":1,Y="N":0,1:2),G=$P($P(DIR(0),";",GP+1),":",2)
"RTN","ONCOSC",10,0)
 Q
"RTN","ONCOSC",11,0)
TR ;TOTAL REGISTRY CROSS TABS
"RTN","ONCOSC",12,0)
 S R="TR" D ST G EX:$D(DIRUT) W !!?10,"Using ICDO-SITE for Rows...Select column:",! S ROW="ICDO-SITE"
"RTN","ONCOSC",13,0)
 D COL G EX:$D(DIRUT) D PER G EX:$D(DIRUT) G ASK
"RTN","ONCOSC",14,0)
CR ;DETERMINE CROSS TAB
"RTN","ONCOSC",15,0)
 S R="CR" D ST G EX:$D(DIRUT) D ROW G EX:$D(DIRUT) D COL G EX:$D(DIRUT) D PER G EX:$D(DIRUT) G ASK
"RTN","ONCOSC",16,0)
ROW ;SELECT ROW
"RTN","ONCOSC",17,0)
 K DIR S DIR("A")="     Select Row",DIR(0)="SO^1:PRIMARY SITE/GP;2:ICDO-SITE;3:ICDO-TOPOGRAPHY;4:SELECTED SITES;5:SYSTEMS;6:HISTOLOGY (ICD-O-3)" D ^DIR Q:$D(DIRUT)  S ROW=$P($P(DIR(0),";",Y),":",2) Q
"RTN","ONCOSC",18,0)
COL K DIR S DIR("A")="Select Column",S="S^0:ACCESSION YEAR;1:CLASS OF CASE;2:STATUS;3:SEX;4:RACE;5:RACE-SEX;6:DX AGE-GP;7:PLACE OF BIRTH;8:MARITAL STATUS AT DX;9:STATE;10:ST-COUNTY"
"RTN","ONCOSC",19,0)
 S DIR(0)=S_$S($G(GP)'=1:";11:CLASS CATEGORY;12:ALL of the ABOVE",1:";11:STAGE GROUPING-AJCC;12:TREATMENT PLAN;13:SUMMARY STAGE;14:HISTOLOGY (ICD-O-3);15:ALL of the ABOVE") K S
"RTN","ONCOSC",20,0)
 D ^DIR Q:$D(DIRUT)  S C=Y,XCOL=DIR(0),COL=$P($P(XCOL,";",C+1),":",2)
"RTN","ONCOSC",21,0)
 Q
"RTN","ONCOSC",22,0)
PER K DIR S DIR("A")="      Percentages",DIR(0)="Y" W ! D ^DIR Q:$D(DIRUT)  S PER=$S(Y=0:"",1:1)
"RTN","ONCOSC",23,0)
 Q
"RTN","ONCOSC",24,0)
ASK W !!,?6,"CROSS TABS: "_ROW_" vs "_COL
"RTN","ONCOSC",25,0)
 W !!?11,"TOTAL: "_$P($G(G)," ")_" Cases in Registry",!!?11,"Years: ",$G(HEAD),!!
"RTN","ONCOSC",26,0)
 S DIR("A")="Conditions OK",DIR(0)="Y",DIR("B")="Yes" D ^DIR G EX:$D(DIRUT),@R:'Y
"RTN","ONCOSC",27,0)
 S ONCOS("C")=$S($E(COL,1,3)="ALL":"ALL",1:COL),ONCOS("R")=ROW,ONCOS("P")=PER,ONCOS("GP")=GP I ONCOS("C")="ALL" S ONCOS("CT")=XCOL
"RTN","ONCOSC",28,0)
QUE ;Template in use
"RTN","ONCOSC",29,0)
 W !!?15,"QUE ('Q') report unless to 'home' device",!!
"RTN","ONCOSC",30,0)
 K IO("Q") S %ZIS="Q",%ZIS("A")="     Select Device to Print Cross Tabs: " W !! D ^%ZIS S IOP=ION I POP S ONCOUT="" G EX
"RTN","ONCOSC",31,0)
 I '$D(IO("Q")) D TOT^ONCOSC1 G EX
"RTN","ONCOSC",32,0)
 S ZTRTN="TOT^ONCOSC1",ZTDESC="ONCOLOGY CROSS TABS ALL",ZTSAVE("*")="" D ^%ZTLOAD K ZTSK G EX
"RTN","ONCOSC",33,0)
EX ;EXIT
"RTN","ONCOSC",34,0)
 K IOP,ONCOT,ONCOS,XDA,XD,N,G,TEM,PER,COL,ROW,R,%DT,BYR,EYR,GLO,OT,ROWDEF
"RTN","ONCOSC",35,0)
 K HEAD,%T,GP,TF,W,YR,%ZISOS,FNAM,GBL,HLAB,RC,SX,B
"RTN","ONCOSC",36,0)
 K C,CO,DIC,ER,F,GP,HEAD,I,%I,%T,XCOL,J,K,NVA,Q,SL,VA,W,X,XD0,XDG,XX,%,%X
"RTN","ONCOSC",37,0)
 D ^%ZISC
"RTN","ONCOSC",38,0)
 Q
"RTN","ONCOSC1")
0^232^B6612674
"RTN","ONCOSC1",1,0)
ONCOSC1 ;WASH ISC/SRR-CROSS TAB REPORT TASKS ;12/14/99
"RTN","ONCOSC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSC1",3,0)
 ;
"RTN","ONCOSC1",4,0)
TOT ;Task for Total Registry Cross Tabs
"RTN","ONCOSC1",5,0)
 ;in: ONCOS*
"RTN","ONCOSC1",6,0)
 K ER S ONCOEX=0 D SETV,TEM G EX:$D(ER) S ONCOS("T")=$S(TEM="ALL":TEM,1:XDG_U_TEM) I ONCOS("C")'="ALL" D PRINT^ONCOSCT G EX
"RTN","ONCOSC1",7,0)
 S ONCOS("TK")="" F CT=1:1:$S(ONCOS("GP")=1:15,1:12) Q:ONCOEX  S ONCOS("C")=$P($P(ONCOS("CT"),";",CT),":",2) D PRINT^ONCOSCT
"RTN","ONCOSC1",8,0)
 G EX
"RTN","ONCOSC1",9,0)
 ;
"RTN","ONCOSC1",10,0)
SETV ;RESET VARIABLES
"RTN","ONCOSC1",11,0)
 S (ONCOS("N"),ONCOS("Y"))="",ONCOS("FI")="165.5^ONCOLOGY PRIMARY^ONCO(165.5,"
"RTN","ONCOSC1",12,0)
 Q
"RTN","ONCOSC1",13,0)
 ;
"RTN","ONCOSC1",14,0)
TEM ;Setup templates
"RTN","ONCOSC1",15,0)
 S YR=ONCOS("YR"),GP=ONCOS("GP"),BYR=+ONCOS("YR"),EYR=$P(ONCOS("YR"),U,2) G ALL:YR="ALL",ANN:BYR=EYR,RGE
"RTN","ONCOSC1",16,0)
 Q
"RTN","ONCOSC1",17,0)
 ;
"RTN","ONCOSC1",18,0)
ALL S TEM="ONCOS TOTAL-",TEM=$S(GP=0:TEM_"NON",GP=1:TEM_"ANAL",1:"ALL")
"RTN","ONCOSC1",19,0)
 Q:TEM="ALL"  S XDG=$O(^DIBT("F165.5",TEM,0)) Q:XDG=""  K ^DIBT(XDG,1)
"RTN","ONCOSC1",20,0)
 I GP<2 S XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",GP,XD0)) Q:XD0=""  I $$DIV^ONCFUNC(XD0)=DUZ(2) S ^DIBT(XDG,1,XD0)=""
"RTN","ONCOSC1",21,0)
 I GP=2 F GP=0,2 S XD0=0 D
"RTN","ONCOSC1",22,0)
 .F  S XD0=$O(^ONCO(165.5,"AG",GP,XD0)) Q:XD0=""  I $$DIV^ONCFUNC(XD0)=DUZ(2) S ^DIBT(XDG,1,XD0)=""
"RTN","ONCOSC1",23,0)
 Q
"RTN","ONCOSC1",24,0)
 ;
"RTN","ONCOSC1",25,0)
ANN S TEM="ONCOS ANNUAL-",TEM=TEM_$S(GP=1:"ANALYTIC",GP=0:"NON ANAL",1:"ALLCASES")
"RTN","ONCOSC1",26,0)
 S XDG=$O(^DIBT("F165.5",TEM,0)) Q:XDG=""  K ^DIBT(XDG,1)
"RTN","ONCOSC1",27,0)
 S XD0=0 F  S XD0=$O(^ONCO(165.5,"AY",+YR,XD0)) Q:XD0=""  I $$DIV^ONCFUNC(XD0)=DUZ(2) D
"RTN","ONCOSC1",28,0)
 .I GP=2 S ^DIBT(XDG,1,XD0)="" Q
"RTN","ONCOSC1",29,0)
 .I $P(^ONCO(165.5,XD0,0),U,20)=GP S ^DIBT(XDG,1,XD0)=""
"RTN","ONCOSC1",30,0)
 Q
"RTN","ONCOSC1",31,0)
 ;
"RTN","ONCOSC1",32,0)
RGE S TEM="ONCOS RANGE-",TEM=$S(GP=1:TEM_"ANALYTIC",GP=0:TEM_"NON ANAL",1:TEM_"ALLCASES")
"RTN","ONCOSC1",33,0)
 S XDG=$O(^DIBT("F165.5",TEM,0)) Q:XDG=""  K ^DIBT(XDG,1)
"RTN","ONCOSC1",34,0)
 S XD0=0 F YY=BYR:1:EYR D
"RTN","ONCOSC1",35,0)
 .F  S XD0=$O(^ONCO(165.5,"AY",YY,XD0)) Q:XD0=""  I $$DIV^ONCFUNC(XD0)=DUZ(2) D
"RTN","ONCOSC1",36,0)
 ..I GP=2 S ^DIBT(XDG,1,XD0)="" Q
"RTN","ONCOSC1",37,0)
 ..I $P(^ONCO(165.5,XD0,0),U,20)=GP S ^DIBT(XDG,1,XD0)=""
"RTN","ONCOSC1",38,0)
 Q
"RTN","ONCOSC1",39,0)
ERR ;NO TEMPLATE
"RTN","ONCOSC1",40,0)
 S XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",0,XD0)) Q:XD0=""
"RTN","ONCOSC1",41,0)
EX ;EXIT
"RTN","ONCOSC1",42,0)
 D KIL^ONCOSCT K CT,J,K,%DT,%ZISOS,BYR,EYR,GLO,OT,ROWDEF,TF,W,YR,B,C,CO,DIC,ER,F,GP,ONCOEX
"RTN","ONCOSC1",43,0)
 K I,HEAD,%T,%I,XCOL
"RTN","ONCOSC1",44,0)
 Q
"RTN","ONCOSCF")
0^233^B3938618
"RTN","ONCOSCF",1,0)
ONCOSCF ;WASH ISC/SRR,MLH-COMPUTED FIELDS FOR STATISTICS FILE ;8/21/93  10:40
"RTN","ONCOSCF",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCF",3,0)
 ;
"RTN","ONCOSCF",4,0)
FIL ;GET FILE # AND NAME
"RTN","ONCOSCF",5,0)
 S DIC(0)="AEQZ",DIC="^DIC(",DIC("A")="    Select File to Search: ",DIC("S")="I (Y\1=160)!((Y'<164)&(Y<170))" D ^DIC G EX:Y="^",EX:Y=-1 S $P(^ONCO(166,D0,0),U,2,3)=Y G EX ;,D="AC"
"RTN","ONCOSCF",6,0)
 Q
"RTN","ONCOSCF",7,0)
 D IX^DIC
"RTN","ONCOSCF",8,0)
ROW ;GET ROW
"RTN","ONCOSCF",9,0)
 S FIL=$P(^ONCO(166,D0,0),U,2),DIC="^DD("_FIL_",",DIC(0)="AEQ",DIC("A")="   Select ROW field: " D ^DIC G EX:Y="^" G EX:Y=-1 S $P(^ONCO(166,D0,0),U,4,5)=Y G EX
"RTN","ONCOSCF",10,0)
COL ;COLUMN NAME & NUMBER
"RTN","ONCOSCF",11,0)
 S FIL=$P(^ONCO(166,D0,0),U,2),DIC="^DD("_FIL_",",DIC(0)="AEQZ",DIC("A")="     Select Column field: " D ^DIC G EX:Y="^",EX:Y=-1 S $P(^ONCO(166,D0,0),U,6,7)=Y W ^(0),!
"RTN","ONCOSCF",12,0)
 ;
"RTN","ONCOSCF",13,0)
TEM ;TEMPLATE LOOKUP
"RTN","ONCOSCF",14,0)
 S DIC("A")="     Select Search Template: ",DIC(0)="AEQZ",DIC="^DIBT(",D="F"_$P($G(^ONCO(166,D0,0)),U,2) G EX:D="F" D IX^DIC G EX:Y="^",EX:Y=-1 S $P(^ONCO(166,D0,0),U,8,9)=Y G EX
"RTN","ONCOSCF",15,0)
EX ;EXIT
"RTN","ONCOSCF",16,0)
 K XX,XN,FIL,DIC
"RTN","ONCOSCG")
0^234^B12768439
"RTN","ONCOSCG",1,0)
ONCOSCG ;WASH ISC/SRR,MLH-CROSS TABS: STAGE & TREATMENT ;12/15/99
"RTN","ONCOSCG",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCG",3,0)
TS ;individual stage group/treatment,Treatment by Stage
"RTN","ONCOSCG",4,0)
 W !?10,"This option will print cross-tabs for ALL ANALYTIC",!?10,"cases for TREATMENT by STAGE groups (I,II,III,IV)",!
"RTN","ONCOSCG",5,0)
 ;call to ONCOST for time frame
"RTN","ONCOSCG",6,0)
 S ONCOT=1 D TF^ONCOST G EX:$D(DIRUT)
"RTN","ONCOSCG",7,0)
ROW ;SELECT ROW
"RTN","ONCOSCG",8,0)
 K DIR S DIR("A")="     Select Row",DIR(0)="SO^1:PRIMARY SITE/GP;2:ICDO-SITE;3:ICDO-TOPOGRAPHY;4:SELECTED SITES;5:SYSTEMS;6:HISTOLOGY (ICD-O-3)" D ^DIR G EX:$D(DIRUT) S ONCOS("R")=$P($P(DIR(0),";",Y),":",2)
"RTN","ONCOSCG",9,0)
 K DIR S DIR("A")="      Percentages",DIR(0)="Y" W ! D ^DIR G EX:$D(DIRUT) S ONCOS("P")=$S(Y=0:"",1:1)
"RTN","ONCOSCG",10,0)
 K IO("Q") S %ZIS="Q" W !! D ^%ZIS S IOP=ION I POP S ONCOUT="" G EX
"RTN","ONCOSCG",11,0)
 I '$D(IO("Q")) D TSK^ONCOSCG G EX
"RTN","ONCOSCG",12,0)
 S ZTRTN="TSK^ONCOSCG",ZTDESC="ONCOLOGY STG/TX",ZTSAVE("ONCOS*")="" D ^%ZTLOAD K ZTSK G EX
"RTN","ONCOSCG",13,0)
 ;
"RTN","ONCOSCG",14,0)
TSK ;Tasked job to go through all 4 stages (use xref "ASG")
"RTN","ONCOSCG",15,0)
 S TF=ONCOS("YR") I TF'="ALL" S BYR=$P(TF,U),EYR=$P(TF,U,2),TF=$S(BYR=EYR:"ANN",1:"RGE")
"RTN","ONCOSCG",16,0)
 S YR=$S(TF="ANN":" ANNUAL ",1:" ") ;use ONCOS ANAL/...for Range or All ;ANNUAL for Annual
"RTN","ONCOSCG",17,0)
G F G=0,"I","II","III","IV","U","NA" S XD0=$O(^DIBT("F165.5","ONCOS"_YR_"ANAL/STAGE "_G,0)) Q:XD0'>0  K ^DIBT(XD0,1) S XD(G)=XD0,$P(^DIBT(XD0,0),U,2)=DT
"RTN","ONCOSCG",18,0)
 S XD0=$O(^DIBT("F165.5","ONCOS"_$S(TF="ANN":" ANNUAL-",1:" ")_"ANALYTIC",0)) I XD0'="" S $P(^DIBT(XD0,0),U,2)=DT K ^DIBT(XD0,1)
"RTN","ONCOSCG",19,0)
GET S HEAD=$S(TF="ALL":"ALL",TF="ANN":BYR,1:BYR_"-"_EYR)
"RTN","ONCOSCG",20,0)
 D ALL:TF="ALL",ANN:TF="ANN",RGE:TF="RGE"
"RTN","ONCOSCG",21,0)
TEM D SETV,HED S ONCOS("T")="ONCOS "_$S(TF="ANN":"ANNUAL-",1:"")_"ANALYTIC"
"RTN","ONCOSCG",22,0)
ST S ONCOEX=0 F G="I","II","III","IV" Q:ONCOEX  S ONCOS("C")="GP-"_G_" AJCC SUMMARY STAGE" D PRINT^ONCOSCT
"RTN","ONCOSCG",23,0)
 Q:ONCOEX  S ONCOS("C")="TREATMENT" D PRINT^ONCOSCT Q:ONCOEX
"RTN","ONCOSCG",24,0)
 F G=0,"I","II","III","IV","U","NA" Q:ONCOEX  S ONCOS("T")="ONCOS"_YR_"ANAL/STAGE "_G D PRINT^ONCOSCT
"RTN","ONCOSCG",25,0)
 D KIL^ONCOSCT G EX
"RTN","ONCOSCG",26,0)
 ;
"RTN","ONCOSCG",27,0)
 S D0=0 F  S D0=$O(^ONCO(165.5,"AG",1,D0)) Q:D0=""  I $$DIV^ONCFUNC(D0)=DUZ(2) S ^DIBT(XD0,1,D0)="",G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOSCG",28,0)
ALL S D0=0 F  S D0=$O(^ONCO(165.5,"AG",1,D0)) Q:D0=""  I $$DIV^ONCFUNC(D0)=DUZ(2) S ^DIBT(XD0,1,D0)="",G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOSCG",29,0)
 Q
"RTN","ONCOSCG",30,0)
 ;
"RTN","ONCOSCG",31,0)
ANN ;SPECIFIED TIME FRAME
"RTN","ONCOSCG",32,0)
 S D1=BYR,D0=0 F  S D0=$O(^ONCO(165.5,"AAY",D1,D0)) Q:D0=""  I $$DIV^ONCFUNC(D0)=DUZ(2) S ^DIBT(XD0,1,D0)="",G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOSCG",33,0)
 ;
"RTN","ONCOSCG",34,0)
RGE ;RANGE of years for cases
"RTN","ONCOSCG",35,0)
 F D1=BYR:1:EYR S D0=0 D
"RTN","ONCOSCG",36,0)
 .F  S D0=$O(^ONCO(165.5,"AAY",D1,D0)) Q:D0=""  I $$DIV^ONCFUNC(D0)=DUZ(2) S ^DIBT(XD0,1,D0)="",G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOSCG",37,0)
 Q
"RTN","ONCOSCG",38,0)
SETV S (ONCOS("N"),ONCOS("Y"))="",ONCOS("F")="ONCOLOGY PRIMARY",ONCOS("TK")="",ONCOS("FI")="165.5^ONCOLOGY PRIMARY^ONCO(165.5,"
"RTN","ONCOSCG",39,0)
 Q
"RTN","ONCOSCG",40,0)
HED ;DEFINE HEADER
"RTN","ONCOSCG",41,0)
 ;S ONCOS("H")=^DD("SITE")_" Years: "_HEAD ;" "_ONCOS("R")_"-"_ONCOS("C")
"RTN","ONCOSCG",42,0)
 S ONCOS("H")="Years: "_HEAD
"RTN","ONCOSCG",43,0)
 Q
"RTN","ONCOSCG",44,0)
EX ;EXIT
"RTN","ONCOSCG",45,0)
 K IOP,FNAM,GBL,HLAB,NVA,ROWDEF,SL,TF,TX,W
"RTN","ONCOSCG",46,0)
 K %T,D,ONCOT,ONCOEX,ONCOS,XDA,XD,N,G,TEM,PER,COL,ROW,R D ^%ZISC
"RTN","ONCOSCG",47,0)
 Q
"RTN","ONCOSCOM")
0^235^B3316978
"RTN","ONCOSCOM",1,0)
ONCOSCOM ;WASH ISC/SRR-COMPUTATIONAL SUBROUTINES ;4/16/92  18:25
"RTN","ONCOSCOM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCOM",3,0)
 ;This module contains entry points for the following computations:
"RTN","ONCOSCOM",4,0)
 ; EXP     - compute the exponential
"RTN","ONCOSCOM",5,0)
 ; LOG10   - compute log to base 10
"RTN","ONCOSCOM",6,0)
 ; LOG2    - compute log to base 2
"RTN","ONCOSCOM",7,0)
 ; SQ      - compute the square root
"RTN","ONCOSCOM",8,0)
 ;
"RTN","ONCOSCOM",9,0)
 ;
"RTN","ONCOSCOM",10,0)
EXP ;compute the exponential EXP(X)
"RTN","ONCOSCOM",11,0)
 ;in:  X = argument must be less than 55.26
"RTN","ONCOSCOM",12,0)
 ;out: Y = EXP(X)
"RTN","ONCOSCOM",13,0)
 ;     Z = 1 for any problem in evaluations, 0 otherwise
"RTN","ONCOSCOM",14,0)
 N F,I,LE,LZ,S
"RTN","ONCOSCOM",15,0)
 S LE=.434294482,LZ=X,X=LE*X
"RTN","ONCOSCOM",16,0)
 S Z=0,S=0 I X=0 S Y=1 G QEXP
"RTN","ONCOSCOM",17,0)
 I +X'=X S Z=1 G QEXP
"RTN","ONCOSCOM",18,0)
 I X<0 S S=1,X=-X
"RTN","ONCOSCOM",19,0)
 S F=X#1,I=X\1,I="1E"_$E("-",S&I)_I
"RTN","ONCOSCOM",20,0)
 S Y=.00093264267*F+0.00255491796*F+0.01742111988*F+0.07295173666*F+0.25439357484*F+0.66273088429*F+1.15129277603*F+1
"RTN","ONCOSCOM",21,0)
 S Y=Y*Y
"RTN","ONCOSCOM",22,0)
QEXP S:S Y=1/Y S Y=+$J(Y+0.000000005,0,8),Y=Y*I,X=LZ
"RTN","ONCOSCOM",23,0)
 Q
"RTN","ONCOSCOM",24,0)
 ;
"RTN","ONCOSCOM",25,0)
LOGE ;compute log to base E
"RTN","ONCOSCOM",26,0)
 ;arguments same as LOG10
"RTN","ONCOSCOM",27,0)
 D LOG2 I 'Z S Y=+$J(Y/1.44269504,0,8)
"RTN","ONCOSCOM",28,0)
 Q
"RTN","ONCOSCOM",29,0)
 ;
"RTN","ONCOSCOM",30,0)
LOG10 ;compute log to base 10
"RTN","ONCOSCOM",31,0)
 ;in:  X = argument
"RTN","ONCOSCOM",32,0)
 ;out: Y = LOG10(X)
"RTN","ONCOSCOM",33,0)
 ;     Z = 1 if Y not evaluated, 0 otherwise
"RTN","ONCOSCOM",34,0)
 D LOG2 I 'Z S Y=+$J(Y/3.321928096,0,8)
"RTN","ONCOSCOM",35,0)
 Q
"RTN","ONCOSCOM",36,0)
 ;
"RTN","ONCOSCOM",37,0)
LOG2 ;compute log to base 2
"RTN","ONCOSCOM",38,0)
 ;arguments are as above
"RTN","ONCOSCOM",39,0)
 N LU,LV,LZ
"RTN","ONCOSCOM",40,0)
 I X'>0!(+X'=X) S Z=1 Q
"RTN","ONCOSCOM",41,0)
 S LZ=$L($P(X,".",1))
"RTN","ONCOSCOM",42,0)
 I LZ S X="."_$E(X,1,LZ)_$E(X,LZ+2,255),X=+X
"RTN","ONCOSCOM",43,0)
 E  F LZ=LZ:-1 Q:X'<.1  S X=X*10
"RTN","ONCOSCOM",44,0)
 F Y=0:1:3 Q:X'<.5  S X=X*2
"RTN","ONCOSCOM",45,0)
 S LU=X-.707106781/(X+.707106781),LV=LU*LU
"RTN","ONCOSCOM",46,0)
 S LU=.434259751292*LV+.576584342056*LV+.961800762286*LV+2.885390072738*LU
"RTN","ONCOSCOM",47,0)
 S Y=+$J(LZ*3.321928096+LU-Y-.5,0,8),Z=0
"RTN","ONCOSCOM",48,0)
 Q
"RTN","ONCOSCOM",49,0)
 ;
"RTN","ONCOSCOM",50,0)
SQ ;compute square root
"RTN","ONCOSCOM",51,0)
 ;in:  X = argument for square root
"RTN","ONCOSCOM",52,0)
 ;out: Y = sq root of X if X'<0, of -X if X<0
"RTN","ONCOSCOM",53,0)
 ;     Z = 1 if X<0, 0 otherwise
"RTN","ONCOSCOM",54,0)
 S Z=(X<0) I X=0 S Y=0 Q
"RTN","ONCOSCOM",55,0)
 I Z S X=-X
"RTN","ONCOSCOM",56,0)
 I X>1 S Y=X\1
"RTN","ONCOSCOM",57,0)
 E  S Y=1/X
"RTN","ONCOSCOM",58,0)
 S Y=$E(Y,1,$L(Y)+1\2)
"RTN","ONCOSCOM",59,0)
 E  S Y=1/Y
"RTN","ONCOSCOM",60,0)
 F %=1:1:6 S Y=X/Y+Y*.5
"RTN","ONCOSCOM",61,0)
 Q
"RTN","ONCOSCOM",62,0)
 ;
"RTN","ONCOSCOM",63,0)
TEST ;test LOGE & EXP
"RTN","ONCOSCOM",64,0)
 N I
"RTN","ONCOSCOM",65,0)
 F I=1:1:20 W !,I,?10 S X=I*1.33333 W X D LOGE W ?25,Y S X=Y D EXP W ?40,Y,?60,Z
"RTN","ONCOSCOM",66,0)
 Q
"RTN","ONCOSCT")
0^236^B11821848
"RTN","ONCOSCT",1,0)
ONCOSCT ;Hines OIFO/GWB,RTK - CROSS TABULATE ;9/3/93
"RTN","ONCOSCT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCT",3,0)
IN ;DIRECT CALL set ONCOS("D")=1
"RTN","ONCOSCT",4,0)
 ;in:  ^DIBT,^DIPT
"RTN","ONCOSCT",5,0)
 ;ONCOS - used to force responses to setup prompts
"RTN","ONCOSCT",6,0)
 ;("F") = file number
"RTN","ONCOSCT",7,0)
 ;("T") = search template
"RTN","ONCOSCT",8,0)
 ;("R") = row field name^cutpoints, e.g., "AGE^10:20:30:40"
"RTN","ONCOSCT",9,0)
 ;("C") = column field name^cutpoints
"RTN","ONCOSCT",10,0)
 ;("P") = 1 to print total per cents, 0 to skip prompt
"RTN","ONCOSCT",11,0)
 ;("Y") = yes prompts
"RTN","ONCOSCT",12,0)
 ;("I") = IOP variable for %ZIS
"RTN","ONCOSCT",13,0)
 ;("H") = HEADER (if defined, not asked for in ONCOSCINP)
"RTN","ONCOSCT",14,0)
 ;("D") = Direct Program call, not entered at Print
"RTN","ONCOSCT",15,0)
 ;do: ^ONCOSINP,^ONCOSCT*,WAIT^DICD,^%DT,^%ZIS
"RTN","ONCOSCT",16,0)
 S ONCOS("D")=1 W !,"ONCOLOGY Version 2 - Cross-tabs",! ;S:'$D(DTIME) DTIME=1000
"RTN","ONCOSCT",17,0)
PRINT ;entry point for queued report (%ZTLOAD)
"RTN","ONCOSCT",18,0)
 S:$D(ONCOION) ION=ONCOION S:$D(ONCOIOM) IOM=ONCOIOM
"RTN","ONCOSCT",19,0)
 W !! S (ROWDEF,TEMPL)=-1,UNK="~",XCRT=$S($G(IOST)?1"C".E:1,1:0),%=0 D GETFILE^ONCOSINP:'$D(ONCOS("FI"))
"RTN","ONCOSCT",20,0)
 S FNUM=+ONCOS("FI") I '$D(ONCOS("T")) D GETTEMPL^ONCOSINP G EX:'Y S ONCOS("T")=Y G EN
"RTN","ONCOSCT",21,0)
 I ONCOS("T")'["^" D GETTEMPL^ONCOSINP G EX:Y<0 S ONCOS("T")=Y
"RTN","ONCOSCT",22,0)
EN S ONCOEX=0,TEMPL=ONCOS("T"),TEMPL=$S(TEMPL="ALL":TEMPL,1:+TEMPL),HEAD=$G(ONCOS("H")),HEADER=$S(HEAD="":$P(ONCOS("T"),U,2),1:HEAD)
"RTN","ONCOSCT",23,0)
 S FNUM=+ONCOS("FI"),GLO="^"_$P(ONCOS("FI"),U,3) D SETUP^ONCOSCT1 G EX:ROWDD=""!(ONCOEX)
"RTN","ONCOSCT",24,0)
 G CON:$D(ONCOS("TK")) I '$D(ONCOS("AF")) S ONCOS("AF")=1
"RTN","ONCOSCT",25,0)
 K IO("Q") S %ZIS="Q",%ZIS("A")="     Select device to Print Cross Tabs: " D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOSCT",26,0)
 I '$D(IO("Q")) D TSK^ONCOSCT G EX
"RTN","ONCOSCT",27,0)
 S ZTRTN="TSK^ONCOSCT",ZTDESC=HEADER
"RTN","ONCOSCT",28,0)
 S ZTSAVE("ONCOS*")=""
"RTN","ONCOSCT",29,0)
 S ZTSAVE("TEMPL")="",ZTSAVE("XCRT")="",ZTSAVE("UNK")=""
"RTN","ONCOSCT",30,0)
 S ZTSAVE("COLCUTS")="",ZTSAVE("ROWCUTS")=""
"RTN","ONCOSCT",31,0)
 S ZTSAVE("COLDD")="",ZTSAVE("ROWDD")=""
"RTN","ONCOSCT",32,0)
 S ZTSAVE("PCT")="",ZTSAVE("HEADER")=""
"RTN","ONCOSCT",33,0)
 D ^%ZTLOAD G EX
"RTN","ONCOSCT",34,0)
 ;
"RTN","ONCOSCT",35,0)
TSK ;Task for internal direct calling of ONCOSCT, not from another task.
"RTN","ONCOSCT",36,0)
 K ^TMP($J) S ONCOEX=0 S:'$D(ONCOS("AF")) ONCOS("AF")=1
"RTN","ONCOSCT",37,0)
 S XCRT=$S($G(IOST)?1"C".E:1,1:0)
"RTN","ONCOSCT",38,0)
 D WAIT^DICD:XCRT
"RTN","ONCOSCT",39,0)
CON W ! S %DT="T",X="NOW" D ^%DT X ^DD("DD") S GBL="^"_$P(ONCOS("FI"),U,3)
"RTN","ONCOSCT",40,0)
 S HEADER=HEADER_U_$P(Y,"@",1)_"  "_$P(Y,"@",2),(D0,NPG,TOT)=0
"RTN","ONCOSCT",41,0)
TEM I TEMPL'="ALL" S D0=0 F N=1:1 S D0=$O(^DIBT(TEMPL,1,D0)) G OUT:D0'>0 D CTCASE
"RTN","ONCOSCT",42,0)
 F N=1:1 S D0=$O(@(GBL_"D0)")) Q:D0'>0  D CTCASE
"RTN","ONCOSCT",43,0)
OUT ;OUTPUT
"RTN","ONCOSCT",44,0)
 S ONCOEX=0 D OUTPUT^ONCOSCT2 G EX:ONCOEX G EX:'$D(ONCOS("TK"))
"RTN","ONCOSCT",45,0)
KIL ;Entry point to kill all variables at EXCEPT 'ONCOS' ARRAY
"RTN","ONCOSCT",46,0)
 K ^TMP($J)
"RTN","ONCOSCT",47,0)
 K COLCUTS,COLDD,COLPIECE,COLS,COLSUB,D0,FNUM
"RTN","ONCOSCT",48,0)
 K GLB,GLO,HEAD,HEADER,N,NPG,PCT,POP,B,C,F,XX,Y,Z
"RTN","ONCOSCT",49,0)
 K ROWCUTS,ROWS,ROWDD,ROWPIECE,ROWSUB,TEMPL,TOT,UNK,X,XCRT
"RTN","ONCOSCT",50,0)
 K %,%DT,%K,%T,%ZISOS,HEAD,OF
"RTN","ONCOSCT",51,0)
 Q
"RTN","ONCOSCT",52,0)
 ;
"RTN","ONCOSCT",53,0)
EX ;Complete Exit
"RTN","ONCOSCT",54,0)
 D KIL K ONCOS K:$D(ONCOS("D")) ONCOEX D ^%ZISC Q
"RTN","ONCOSCT",55,0)
CTCASE ;count case
"RTN","ONCOSCT",56,0)
 ;in:  COLCUTS,COLDD,COLPIECE,COLSUB,D0,GBL,N,ONCOS,TOT
"RTN","ONCOSCT",57,0)
 ;     ROWCUTS,ROWDD,ROWPIECE,ROWSUB,UNK,XCRT
"RTN","ONCOSCT",58,0)
 ;out: ^TMP($J,"CELL"),TOT
"RTN","ONCOSCT",59,0)
 N R,C
"RTN","ONCOSCT",60,0)
 S:COLDD]"" X=$P(COLDD,U,4),COLPIECE=$P(X,";",2),COLSUB=+X
"RTN","ONCOSCT",61,0)
 S X=$P(ROWDD,U,4),ROWPIECE=$P(X,";",2),ROWSUB=+X
"RTN","ONCOSCT",62,0)
 W:XCRT&(N#100=1) "." Q:'$D(@(GBL_"D0)"))  S TOT=TOT+1,(R,C)=UNK
"RTN","ONCOSCT",63,0)
 I $P(ROWDD,U,2)'["C" S:$D(@(GBL_"D0,ROWSUB)"))#10=1 R=$P(@(GBL_"D0,ROWSUB)"),U,ROWPIECE)
"RTN","ONCOSCT",64,0)
 E  X $P(ROWDD,U,5,99) S Y=X D:$P(ROWDD,U,2)["D" DD^%DT S X=Y S R=X
"RTN","ONCOSCT",65,0)
 I COLDD="" S C=1 G CT1
"RTN","ONCOSCT",66,0)
 I $P(COLDD,U,2)'["C" S:$D(@(GBL_"D0,COLSUB)"))#10=1 C=$P(@(GBL_"D0,COLSUB)"),U,COLPIECE)
"RTN","ONCOSCT",67,0)
 E  X $P(COLDD,U,5,99) S Y=X D:$P(COLDD,U,2)["D" DD^%DT S X=Y S C=X
"RTN","ONCOSCT",68,0)
CT1 I C="" S C=UNK
"RTN","ONCOSCT",69,0)
 E  I COLCUTS]"" S X=C F C=1:1:$L(COLCUTS,":") I X'>$P(COLCUTS,":",C) Q
"RTN","ONCOSCT",70,0)
 I R="" S R=UNK
"RTN","ONCOSCT",71,0)
 E  I ROWCUTS]"" S X=R F R=1:1:$L(ROWCUTS,":") I X'>$P(ROWCUTS,":",R) Q
"RTN","ONCOSCT",72,0)
TT I '$D(^TMP($J,"CELL",R,C)) S ^TMP($J,"CELL",R,C)=1 Q
"RTN","ONCOSCT",73,0)
 S ^(C)=^TMP($J,"CELL",R,C)+1
"RTN","ONCOSCT",74,0)
 Q
"RTN","ONCOSCT0")
0^237^B8671966
"RTN","ONCOSCT0",1,0)
ONCOSCT0 ;WASH ISC/SRR-SETUP FOR CROSS-TABS ;9/22/92  15:55
"RTN","ONCOSCT0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCT0",3,0)
 ;
"RTN","ONCOSCT0",4,0)
 ;ask all questions to enable quing report
"RTN","ONCOSCT0",5,0)
 ;GET FILE # AND NAME
"RTN","ONCOSCT0",6,0)
ST ;ENTRY CROSS TAB ROUTINES-DEFINITIONS
"RTN","ONCOSCT0",7,0)
 W @IOF,!?25,"CROSS TAB ROUTINES"
"RTN","ONCOSCT0",8,0)
 W !!!?15,"CREATE your own Cross-Tab Reports!!",!!
"RTN","ONCOSCT0",9,0)
1 W ?15,"1 - Select File (usually Primary)",!
"RTN","ONCOSCT0",10,0)
 W ?15,"2 - Select a field for the ROW",!
"RTN","ONCOSCT0",11,0)
 W ?15,"3 - Select a field for the Column",!
"RTN","ONCOSCT0",12,0)
 W ?15,"4 - Optional: choose Column cutpoints ",!
"RTN","ONCOSCT0",13,0)
 W ?15,"5 - Choose a SEARCH template to select cases",!!!
"RTN","ONCOSCT0",14,0)
 W ?20,"REMEMBER - type a '?' for HELP!!"
"RTN","ONCOSCT0",15,0)
FIL ;SELECT FILE
"RTN","ONCOSCT0",16,0)
 K DIR,DIC S DIR(0)="S^1:PRIMARY;2:PATIENT;3:CONTACT",DIR("A")="     Select File to Search",DIR("B")=1,DIR("?")="^D HLP^ONCOSCT0" D ^DIR G EX:Y["^"!(Y="")
"RTN","ONCOSCT0",17,0)
 S (OF,ONCOS("F"))="ONCOLOGY "_$P($P(DIR(0),";",Y),":",2),ONCOS("FI")=$S(Y=1:165.5,2:160,1:165)_U_ONCOS("F")
"RTN","ONCOSCT0",18,0)
 S FNUM=$S(Y=1:"165.5",Y=2:160,1:165),GLB=^DIC(FNUM,0,"GL"),ONCOS("FI")=FNUM_U_OF_GLB
"RTN","ONCOSCT0",19,0)
R ;S DIC("A")="     Select Row (field for Cross Tabs) ",DIC(0)="AEQZ",DIC="^DD("_FNUM_"," D ^DIC G EX:Y>0 S ONCOS("R")=+Y
"RTN","ONCOSCT0",20,0)
SER ;REQUEST FILE TO SEARCH, THEN SEARCH CRITERIA
"RTN","ONCOSCT0",21,0)
 W !!!?5,"We will build Crosstabs on entries in "_OF_" file...",!!
"RTN","ONCOSCT0",22,0)
 ;
"RTN","ONCOSCT0",23,0)
TEM ;TEMPLATE LOOKUP
"RTN","ONCOSCT0",24,0)
 K DIR,DIC S DIR("A")="     Select Search template to filter cases",DIR("B")="Yes",DIR(0)="Y" D ^DIR G EX:Y="^"!(Y=""),GET:Y,ALL
"RTN","ONCOSCT0",25,0)
ALL ;ALL CASES
"RTN","ONCOSCT0",26,0)
 W ! S DIR("A")="      Cases will cover entire registry - OK",DIR(0)="Y",DIR("B")="No" D ^DIR G EX:Y["^"!(Y=""),GET:Y=0 S ONCOS("T")="ALL" D PRINT^ONCOSCT G EX
"RTN","ONCOSCT0",27,0)
GET ;GET TEMPLATE
"RTN","ONCOSCT0",28,0)
 W ! K DIC,DIR S DIC("A")="     Select Search Template (Type ONCOS for list): ",DIC(0)="AEQZ",DIC="^DIBT(",D="F"_FNUM G EX:D="F" D IX^DIC G EX:Y="^",EX:Y=-1 S ONCOS("T")=Y
"RTN","ONCOSCT0",29,0)
 W !!,?5,"REMINDER: Run Define Search Criteria option",!
"RTN","ONCOSCT0",30,0)
 W ?5,"to be sure selected entries are up-to-date!!",!!
"RTN","ONCOSCT0",31,0)
 S DIR("A")="Continue ",DIR("B")="Y",DIR(0)="Y" D ^DIR G EX:Y'=1
"RTN","ONCOSCT0",32,0)
 D PRINT^ONCOSCT G EX
"RTN","ONCOSCT0",33,0)
EX ;EXIT
"RTN","ONCOSCT0",34,0)
 K ONCOS,DIR,ONCOEX,ROWDEF
"RTN","ONCOSCT0",35,0)
 Q
"RTN","ONCOSCT0",36,0)
HLP ;HELP SELECTING FILES
"RTN","ONCOSCT0",37,0)
 W !!?10,"The Primary File contains the 'cancer case' data.",!
"RTN","ONCOSCT0",38,0)
 W ?10,"The Oncology Patient File contains demographic data,",!?14,"Patient history, and Followup History.",!
"RTN","ONCOSCT0",39,0)
 W ?10,"The Contact File contains the contacts for all patients.",!!
"RTN","ONCOSCT0",40,0)
 Q
"RTN","ONCOSCT0",41,0)
 ;ONCOSCT0
"RTN","ONCOSCT1")
0^238^B7381828
"RTN","ONCOSCT1",1,0)
ONCOSCT1 ;Hines OIFO/GWB - CROSS TAB SETUP ;7/27/92
"RTN","ONCOSCT1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCT1",3,0)
GC ;GET CUTS
"RTN","ONCOSCT1",4,0)
 ;
"RTN","ONCOSCT1",5,0)
ABORT S ROWDD=""
"RTN","ONCOSCT1",6,0)
 Q
"RTN","ONCOSCT1",7,0)
 ;
"RTN","ONCOSCT1",8,0)
SETUP ;get options
"RTN","ONCOSCT1",9,0)
 ;in:  ^DD,^DIPT,FNUM,ONCOS,TEMPL
"RTN","ONCOSCT1",10,0)
 ;out: COLCUTS,COLDD,HEADER,PCT,ROWCUTS,ROWDD
"RTN","ONCOSCT1",11,0)
 ;do:  ^ONCOSINP,^DIC
"RTN","ONCOSCT1",12,0)
 N CUTS,DIC,FDD,FLD
"RTN","ONCOSCT1",13,0)
S1 S ROWDD="",DIC="^DD("_FNUM_",",DIC("S")="I +$P(^(0),U,2)=0 "
"RTN","ONCOSCT1",14,0)
 F FLD="COLUMN","ROW" D GETFLD Q:FDD(F)=""
"RTN","ONCOSCT1",15,0)
 Q:FDD(F)=""  S COLDD=FDD("C"),ROWDD=FDD("R")
"RTN","ONCOSCT1",16,0)
 S COLCUTS=CUTS("C"),ROWCUTS=CUTS("R")
"RTN","ONCOSCT1",17,0)
 I $D(ONCOS("P")) S PCT=ONCOS("P") G W
"RTN","ONCOSCT1",18,0)
 W ! S DIR("A")="       Print Percents",DIR("B")="No",DIR(0)="Y",DIR("?")="Enter 'Y' to include total percents" D ^DIR Q:Y="^"!(Y="")  S PCT=Y
"RTN","ONCOSCT1",19,0)
W U IO W !!,$S(COLDD="":"One",1:"Two"),"-Way Table with ",$P(ROWDD,U,1)_" Values"
"RTN","ONCOSCT1",20,0)
 I COLDD]"" W " for Rows ",!,"and ",$P(COLDD,U,1)," Values for Columns"
"RTN","ONCOSCT1",21,0)
 W !,"For ",$S(TEMPL:"Entries in Search Template "_HEADER,1:"ALL Cases")
"RTN","ONCOSCT1",22,0)
 Q:$D(ONCOS("Y"))  S Y="OK? Yes// ",Z="" D GETYES^ONCOSINP
"RTN","ONCOSCT1",23,0)
 E  G ABORT:Y=-1,S1
"RTN","ONCOSCT1",24,0)
 Q
"RTN","ONCOSCT1",25,0)
 ;
"RTN","ONCOSCT1",26,0)
GETFLD ;get field & cuts
"RTN","ONCOSCT1",27,0)
 ;N F
"RTN","ONCOSCT1",28,0)
 S F=$E(FLD,1),CUTS(F)="",FDD(F)=""
"RTN","ONCOSCT1",29,0)
 I $D(ONCOS(F)) S X=$P(ONCOS(F),U,1),DIC(0)="EOQ",FDD(F)=X Q:FDD(F)=""
"RTN","ONCOSCT1",30,0)
 E  S DIC(0)="AEQ",DIC("A")="Select "_FLD_" field: "
"RTN","ONCOSCT1",31,0)
 D ^DIC Q:Y="^"!(Y=-1)
"RTN","ONCOSCT1",32,0)
 S X=^DD(FNUM,+Y,0),FDD(F)=X,X=$P(X,U,2) Q:X["N"!(X["J")!(X["C")=0
"RTN","ONCOSCT1",33,0)
 I $D(ONCOS(F)) S X=$P(ONCOS(F),U,2) S:X]"" CUTS(F)=X_":99999999" Q
"RTN","ONCOSCT1",34,0)
CUTS W !!?10,"You may enter cutpoints for this variable: "_$P(FDD(F),U)
"RTN","ONCOSCT1",35,0)
 W !?10,"E.g., enter '4:7:12:30' to count the values"
"RTN","ONCOSCT1",36,0)
 W !?10,"in 5 categories (LE 4),(GT4-LE7),...,(GT30)"
"RTN","ONCOSCT1",37,0)
C R !!?5,"Define CUTPOINTS: ",X:DTIME G ABORT:'$T!(X="^") Q:X=""  I X["?" D HLP G CUTS
"RTN","ONCOSCT1",38,0)
CK ;Check cutpoint format
"RTN","ONCOSCT1",39,0)
 F I=1:1:$L(X) S Y=$E(X,I) I Y'?1N.N&(Y'=":") W ?50,*7,"ERROR = '"_Y_"' ~ Try Again!" G CUTS
"RTN","ONCOSCT1",40,0)
 S NC=$L(X,":") F I=1:1:NC S X(I)=$P(X,":",I) I I>2 Q:X(I)'>X(I-1)
"RTN","ONCOSCT1",41,0)
 ; I I=NC F I=1:1:NC I I>2,X(I)'<X(I-1) Q
"RTN","ONCOSCT1",42,0)
 ; W !!?10,"Cutpoints not properly defined",!?10,"Use increasing or decreasing numbers",!,?10,"Must have ':' as delimiter only!!" G CUTS
"RTN","ONCOSCT1",43,0)
 S CUTS(F)=X_":99999999" Q
"RTN","ONCOSCT1",44,0)
HLP ;Help on cutpoints
"RTN","ONCOSCT1",45,0)
 W !!?10,"Cutpoints are used to partition data into groups"
"RTN","ONCOSCT1",46,0)
 W !?10,"where there is no computed field like 'AGE GROUP'."
"RTN","ONCOSCT1",47,0)
 W !?10,"Use a series of increasing or decreasing numbers"
"RTN","ONCOSCT1",48,0)
 W !?10,"separated by colons (':') to create the RANGE.",!!
"RTN","ONCOSCT1",49,0)
 Q
"RTN","ONCOSCT2")
0^239^B19240156
"RTN","ONCOSCT2",1,0)
ONCOSCT2 ;WASH ISC/SRR,MLH-CROSS TABS 2 ;8/21/93  11:09
"RTN","ONCOSCT2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCT2",3,0)
 ;mda/ssb (originator);nci/ytm (first editor/rewriter)
"RTN","ONCOSCT2",4,0)
OUTPUT ;sum & write table
"RTN","ONCOSCT2",5,0)
 ;in:  ^TMP($J,"CELL"),COLCUTS,COLDD,NPG,ROWCUTS,ROWDD,TOT,XCRT
"RTN","ONCOSCT2",6,0)
 ;out: COLS,NPG,ROWS
"RTN","ONCOSCT2",7,0)
 ;use: ^TMP
"RTN","ONCOSCT2",8,0)
 ;CWID=Column width,RLWID=Row Width,ROWHEAD=length Row variable
"RTN","ONCOSCT2",9,0)
 U IO
"RTN","ONCOSCT2",10,0)
 N C,CWID,COL,LC,LNCOLS,R,RLWID,ROW,ROWHEAD,VAL
"RTN","ONCOSCT2",11,0)
 S FNAM=$P(@(GBL_"0)"),U),FNAM=$S($P(FNAM," ")="ONCOLOGY":$P(FNAM," ",2))
"RTN","ONCOSCT2",12,0)
 S HLAB=FNAM_$S(TEMPL:" Template ",1:"")_$P(HEADER,U)
"RTN","ONCOSCT2",13,0)
 S W=$G(ONCOS("CW")),CWID=$S(W="":9,1:W),W=$G(ONCOS("RW")),RLWID=$S(W="":20,1:W),R="",ROWHEAD=$L($P(ROWDD,U,1))
"RTN","ONCOSCT2",14,0)
 F ROWS=0:1 S R=$O(^TMP($J,"CELL",R)) Q:R=""  D SUMLAB
"RTN","ONCOSCT2",15,0)
 S:COLDD="" ^TMP($J,"CSUM",1)="" S C=""
"RTN","ONCOSCT2",16,0)
 F COLS=1:1 S C=$O(^TMP($J,"CSUM",C)) Q:C=""  S ^TMP($J,"COL",COLS)=C
"RTN","ONCOSCT2",17,0)
 S OT=$G(ONCOS("AF"))
"RTN","ONCOSCT2",18,0)
 S COLS=COLS-1,ROWHEAD=$S(ROWHEAD<8:8,ROWHEAD>RLWID:RLWID,1:ROWHEAD)
"RTN","ONCOSCT2",19,0)
 S LNCOLS=IOM-ROWHEAD-(2*CWID)\CWID
"RTN","ONCOSCT2",20,0)
 F COL=1:LNCOLS:COLS Q:ONCOEX  S LC=COL+LNCOLS-1 S:LC>COLS LC=COLS D WCHEAD,WROWS
"RTN","ONCOSCT2",21,0)
 Q:ONCOEX  I XCRT,'$D(ONCOS("D")) W *7,!! R "Press Return for next table or '^' to Exit: ",X:DTIME W ! S ONCOEX=$S('$T:1,X="^":1,1:0) Q:ONCOEX
"RTN","ONCOSCT2",22,0)
 W ! Q:OT'=3
"RTN","ONCOSCT2",23,0)
 ;
"RTN","ONCOSCT2",24,0)
GETLAB ;get label
"RTN","ONCOSCT2",25,0)
 ;in:  CUTS,UNK,YDD,Y
"RTN","ONCOSCT2",26,0)
 ;out: Y
"RTN","ONCOSCT2",27,0)
 I Y=UNK S Y="?" Q
"RTN","ONCOSCT2",28,0)
 I $P(YDD,U,2)["P" S:$D(@("^"_$P(YDD,U,3)_Y_",0)"))#2 Y=$P(^(0),U,1) ;    note that the indirect reference sets the naked indicator
"RTN","ONCOSCT2",29,0)
 S:CUTS]""&(Y=+Y) X="GT "_$P(CUTS,":",Y-1)_" - LE "_$P(CUTS,":",Y),Y=$S(Y=1:$P(X,"- ",2),Y=$L(CUTS,":"):$P(X,"- ",1),1:X)
"RTN","ONCOSCT2",30,0)
 Q:$P(YDD,U,2)'["S"
"RTN","ONCOSCT2",31,0)
 S Z=$P(YDD,U,3)
"RTN","ONCOSCT2",32,0)
 F %=1:1 S X=$P(Z,";",%) Q:X=""  I Y=$P(X,":",1) S Y=$P(X,":",2) Q
"RTN","ONCOSCT2",33,0)
 Q
"RTN","ONCOSCT2",34,0)
 ;
"RTN","ONCOSCT2",35,0)
SETCOL ;setup col sum & get label
"RTN","ONCOSCT2",36,0)
 ;in:  C,RSUM,VAL,^TMP
"RTN","ONCOSCT2",37,0)
 ;out: RSUM,^TMP
"RTN","ONCOSCT2",38,0)
 I $D(^TMP($J,"CSUM",C))=0 S ^TMP($J,"CSUM",C)=0,Y=C D GETLAB S ^TMP($J,"CLAB",C)=Y
"RTN","ONCOSCT2",39,0)
 S ^TMP($J,"CSUM",C)=^TMP($J,"CSUM",C)+VAL,RSUM=RSUM+VAL
"RTN","ONCOSCT2",40,0)
 Q
"RTN","ONCOSCT2",41,0)
 ;
"RTN","ONCOSCT2",42,0)
SUMLAB ;sum marginals & get labels
"RTN","ONCOSCT2",43,0)
 ;in:  ^TMP($J,"CELL"),COLCUTS,COLDD,R,ROWCUTS,ROWDD,ROWHEAD,UNK
"RTN","ONCOSCT2",44,0)
 ;out: ROWHEAD,^TMP
"RTN","ONCOSCT2",45,0)
 ;use: C,COL,VAL
"RTN","ONCOSCT2",46,0)
 N CUTS,RSUM,YDD S YDD=ROWDD,Y=R,CUTS=ROWCUTS D GETLAB
"RTN","ONCOSCT2",47,0)
 S ^TMP($J,"RLAB",R)=Y Q:COLDD=""
"RTN","ONCOSCT2",48,0)
 S:$L(Y)>ROWHEAD ROWHEAD=$L(Y) S C="",RSUM=0,CUTS=COLCUTS,YDD=COLDD
"RTN","ONCOSCT2",49,0)
 F COL=0:1 S C=$O(^TMP($J,"CELL",R,C)) Q:C=""  S VAL=^(C) D SETCOL
"RTN","ONCOSCT2",50,0)
 S ^TMP($J,"RSUM",R)=RSUM
"RTN","ONCOSCT2",51,0)
 Q
"RTN","ONCOSCT2",52,0)
 ;
"RTN","ONCOSCT2",53,0)
TOF ;top of form
"RTN","ONCOSCT2",54,0)
 ;in:  NPG,XCRT
"RTN","ONCOSCT2",55,0)
 ;out: NPG
"RTN","ONCOSCT2",56,0)
 Q
"RTN","ONCOSCT2",57,0)
 ;
"RTN","ONCOSCT2",58,0)
WCHEAD ;write column header
"RTN","ONCOSCT2",59,0)
 ;in:  COL,LC,LNCOLS,COLDD,ROWDD,ROWHEAD,^TMP
"RTN","ONCOSCT2",60,0)
 ;use: C
"RTN","ONCOSCT2",61,0)
 Q:ONCOEX
"RTN","ONCOSCT2",62,0)
 N POS,ROW2 S ROW2=""
"RTN","ONCOSCT2",63,0)
 D:(COL=1&(NPG=0))!($Y+$S(COLDD="":4,1:4)>IOSL) WPHEAD Q:ONCOEX  G WCH1:COLDD=""
"RTN","ONCOSCT2",64,0)
 S X=$P(COLDD,U,1),POS=ROWHEAD+CWID+$S(COL>COLS:0,1:(LC-COL+1)*CWID\2)-($L(X)\2)
"RTN","ONCOSCT2",65,0)
 W !!,?POS,X,! S POS=CWID\2+ROWHEAD
"RTN","ONCOSCT2",66,0)
 I COL'>COLS F C=COL:1:LC D WCLAB S POS=POS+CWID
"RTN","ONCOSCT2",67,0)
 S X="Total" D WCLAB1
"RTN","ONCOSCT2",68,0)
WCH1 W !,$E($P(ROWDD,U,1),1,ROWHEAD),":",! Q:COLDD=""
"RTN","ONCOSCT2",69,0)
 I ROW2]"" F C=1:1 S X=$P(ROW2,U,C) Q:X=""  W ?+X,$P(X,";",2)
"RTN","ONCOSCT2",70,0)
 Q
"RTN","ONCOSCT2",71,0)
 ;
"RTN","ONCOSCT2",72,0)
WCLAB ;write col label
"RTN","ONCOSCT2",73,0)
 ;in:  C,POS,^TMP
"RTN","ONCOSCT2",74,0)
 ;out: ROW2
"RTN","ONCOSCT2",75,0)
 S X=$E(^TMP($J,"CLAB",^TMP($J,"COL",C)),1,CWID-1)
"RTN","ONCOSCT2",76,0)
WCLAB1 S Y=$L(X),Z=POS+$S(Y=0:0,Y=1:CWID-2,Y'>CWID:CWID-Y,1:(CWID+1-Y)\2-1)
"RTN","ONCOSCT2",77,0)
 I Z>$X W ?Z,X
"RTN","ONCOSCT2",78,0)
 E  S ROW2=ROW2_Z_";"_X_U
"RTN","ONCOSCT2",79,0)
 Q
"RTN","ONCOSCT2",80,0)
 ;
"RTN","ONCOSCT2",81,0)
WPHEAD ;write page header
"RTN","ONCOSCT2",82,0)
 Q:ONCOEX
"RTN","ONCOSCT2",83,0)
XX I XCRT&NPG W *7,! R "Press 'Return/Enter' to continue, '^' to Exit: ",X:DTIME W ! S ONCOEX=$S('$T:1,X="^":1,1:0) Q:ONCOEX
"RTN","ONCOSCT2",84,0)
YY W:$Y @IOF S NPG=NPG+1
"RTN","ONCOSCT2",85,0)
 W HLAB
"RTN","ONCOSCT2",86,0)
 W " Cross Tabs",?IOM-30,$P(HEADER,U,2),"    Page ",NPG,!
"RTN","ONCOSCT2",87,0)
 F X=1:1:IOM-1 W "-"
"RTN","ONCOSCT2",88,0)
 Q
"RTN","ONCOSCT2",89,0)
 ;
"RTN","ONCOSCT2",90,0)
WROWS ;write rows
"RTN","ONCOSCT2",91,0)
 ;in:  COL,COLDD,CUTS,LC,LNCOLS,ROWDD,ROWS,TOT,^TMP($J)
"RTN","ONCOSCT2",92,0)
 ;use: C,R,ROW
"RTN","ONCOSCT2",93,0)
 S R="" F ROW=1:1:ROWS S R=$O(^TMP($J,"CELL",R)) Q:R=""!ONCOEX  D WR1
"RTN","ONCOSCT2",94,0)
 Q:ONCOEX  D:$Y+PCT+3>IOSL WPHEAD,WCHEAD Q:ONCOEX  W !,"  Total",?CWID\2+ROWHEAD
"RTN","ONCOSCT2",95,0)
 I COLDD]"" F C=COL:1:LC W $J(^TMP($J,"CSUM",^TMP($J,"COL",C)),CWID)
"RTN","ONCOSCT2",96,0)
 W $J(TOT,CWID) Q:'PCT  W !,"    %",?CWID\2+ROWHEAD
"RTN","ONCOSCT2",97,0)
 I COLDD]"" F C=COL:1:LC W $J(^TMP($J,"CSUM",^TMP($J,"COL",C))*100/TOT,CWID,1)
"RTN","ONCOSCT2",98,0)
 W $J("100.0",CWID),! F X=1:1:IOM-1 W "-"
"RTN","ONCOSCT2",99,0)
 Q
"RTN","ONCOSCT2",100,0)
WR1 ;write row data lines
"RTN","ONCOSCT2",101,0)
 D:$Y+PCT+3>IOSL WPHEAD,WCHEAD Q:ONCOEX
"RTN","ONCOSCT2",102,0)
 S X=$E(^TMP($J,"RLAB",R),1,ROWHEAD)
"RTN","ONCOSCT2",103,0)
 S:X=+X&($L(X)<5) X=$J(X,5) W !,X,?CWID\2+ROWHEAD
"RTN","ONCOSCT2",104,0)
 F C=COL:1:LC S Y=^TMP($J,"COL",C),X=+$G(^TMP($J,"CELL",R,Y)) W $J(X,CWID)
"RTN","ONCOSCT2",105,0)
 I COLDD]""&(COL+LNCOLS>COLS+1) W $J(^TMP($J,"RSUM",R),CWID)
"RTN","ONCOSCT2",106,0)
 Q:'PCT  W !,?CWID\2+ROWHEAD
"RTN","ONCOSCT2",107,0)
 F C=COL:1:LC S Y=^TMP($J,"COL",C),X=+$G(^TMP($J,"CELL",R,Y))*100/TOT W $J(X,CWID,1)
"RTN","ONCOSCT2",108,0)
 I COLDD]""&(COL+LNCOLS>COLS+1) W $J(^TMP($J,"RSUM",R)*100/TOT,CWID,1)
"RTN","ONCOSCT2",109,0)
 W ! F X=1:1:IOM-1 W "-"
"RTN","ONCOSCT2",110,0)
 Q
"RTN","ONCOSCT3")
0^240^B2781384
"RTN","ONCOSCT3",1,0)
ONCOSCT3 ;WASH ISC/SRR,MLH-ASCII OUTPUT ;8/21/93  11:17
"RTN","ONCOSCT3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSCT3",3,0)
 ;
"RTN","ONCOSCT3",4,0)
OUTPUT ;IN ^TMP($J,"CLAB",'Column Alpha Order')=COLUMN LABEL
"RTN","ONCOSCT3",5,0)
 ;   ^TMP($J,"RLAB", Row Number)= ROW LABEL
"RTN","ONCOSCT3",6,0)
 ;       ,"COL", Column number) = Column Alpha
"RTN","ONCOSCT3",7,0)
 ;     "CSUM", 'Column Alpha') = column sum
"RTN","ONCOSCT3",8,0)
 ;        "RSUM:, 'Row Number) = Row sum
"RTN","ONCOSCT3",9,0)
 ;^TMP($J,"CELL",Row Number,Column Alpha code)= Total for cell ^(x,y)
"RTN","ONCOSCT3",10,0)
 ;
"RTN","ONCOSCT3",11,0)
AS K X S J=2,Q="""",C=",",B=Q_Q,X(1)=B,X(2)=Q_$P(ROWDD,U)_Q
"RTN","ONCOSCT3",12,0)
 S X=-1 F  S X=$O(^TMP($J,"CLAB",X)) Q:X=""  S VA=^(X) D DATA
"RTN","ONCOSCT3",13,0)
 S R=0 F  S R=$O(^TMP($J,"RLAB",R)) Q:R=""  S J=J+1,X(J)=Q_^(R)_Q D
"RTN","ONCOSCT3",14,0)
 .S TC=0,CO=0 F  S CO=$O(^TMP($J,"COL",CO)) Q:CO=""  S V=^(CO),TC=TC+1,T=$G(^TMP($J,"CELL",R,V)),T=$S(T="":0,1:T),X(J)=X(J)_C_T
"RTN","ONCOSCT3",15,0)
 Q:J=2  S J=J+1,X(J)=B F K=1:1:TC S X(J)=X(J)_C_B
"RTN","ONCOSCT3",16,0)
B S XMSUB=$P(COLDD,U,1)_" VS "_$P(ROWDD,U,1) ;B  
"RTN","ONCOSCT3",17,0)
M S XMDUZ=DUZ D XMZ^XMA2
"RTN","ONCOSCT3",18,0)
 S L=0
"RTN","ONCOSCT3",19,0)
A S L=L+1 I $D(X(L)) S X=X(L) I $L(X),$L(X)'>255 S ^XMB(3.9,XMZ,2,L,0)=X G A
"RTN","ONCOSCT3",20,0)
 ;String length too long
"RTN","ONCOSCT3",21,0)
 ;
"RTN","ONCOSCT3",22,0)
 ;NO DATA RETURNED SET ZERO NODE
"RTN","ONCOSCT3",23,0)
 S DA=XMZ,DIE=3.9,DR="1.7///P;1.95///Y" D ^DIE
"RTN","ONCOSCT3",24,0)
 S ^XMB(3.9,XMZ,2,0)="^3.92A^"_L_"^"_L_"^"_DT
"RTN","ONCOSCT3",25,0)
 ;S XMDUN="SENDER"
"RTN","ONCOSCT3",26,0)
 S XMY(DUZ)="",XMY($P(^VA(200,DUZ,0),U))=""
"RTN","ONCOSCT3",27,0)
 D ENT1^XMD ; CALL for delivery
"RTN","ONCOSCT3",28,0)
 ;D ^XMD ;    formerly NNEW^XMA
"RTN","ONCOSCT3",29,0)
 Q
"RTN","ONCOSCT3",30,0)
 ;
"RTN","ONCOSCT3",31,0)
DATA ;CREATE STRING
"RTN","ONCOSCT3",32,0)
D ;CHECK LENGTH
"RTN","ONCOSCT3",33,0)
 Q:X(1)["END"  S NVA=C_Q_VA_Q,SL=$L(NVA)+$L(X(1)) I SL>245 S X(1)=X(1)_C_Q_"END" Q
"RTN","ONCOSCT3",34,0)
 S X(1)=X(1)_NVA,X(2)=X(2)_C_B
"RTN","ONCOSCT3",35,0)
 Q
"RTN","ONCOSCT3",36,0)
EX ;Exit and kill
"RTN","ONCOSCT3",37,0)
 K XMX,XMSUB,XMY,L,XMZ,V,CO,TC,T,VA,B,Q,J,X
"RTN","ONCOSINP")
0^241^B9583126
"RTN","ONCOSINP",1,0)
ONCOSINP ;WASH ISC/SRR,MLH-INPUT SUBROUTINES FOR ONCOS ;11/1/93  12:16
"RTN","ONCOSINP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSINP",3,0)
 ;These entry points perform miscellaneous input functions:
"RTN","ONCOSINP",4,0)
 ;GETFILE  get a FileMan file
"RTN","ONCOSINP",5,0)
 ;GETYES   get a yes/no response
"RTN","ONCOSINP",6,0)
 ;GETTEMPL get a search template
"RTN","ONCOSINP",7,0)
 ;
"RTN","ONCOSINP",8,0)
GETFILE ;lookup file, get file number & global reference
"RTN","ONCOSINP",9,0)
 ;in:  ONCOS("F")=file name
"RTN","ONCOSINP",10,0)
 ;out: ONCOS("FI")=file number^file name^global reference OR Y=-1
"RTN","ONCOSINP",11,0)
 N DIC
"RTN","ONCOSINP",12,0)
 S X=$S($D(ONCOS("F")):ONCOS("F"),1:""),DIC="^DIC(",DIC(0)=$S(X="":"AEQ",1:"EQ") D ^DIC Q:Y<0  S GBL=^DIC(+Y,0,"GL"),FNUM=+Y,ONCOS("FI")=Y_GBL W !,"FILE: ",X Q
"RTN","ONCOSINP",13,0)
 Q
"RTN","ONCOSINP",14,0)
 ;
"RTN","ONCOSINP",15,0)
GETTEMPL ;get a search template
"RTN","ONCOSINP",16,0)
 ;in:  FNUM,ONCOS,^DIBT
"RTN","ONCOSINP",17,0)
 ;out: Y
"RTN","ONCOSINP",18,0)
 N D,DIC,DIR
"RTN","ONCOSINP",19,0)
 I $D(ONCOS("T")) S Y=ONCOS("T") Q:Y="ALL"  I $D(^DIBT("F"_FNUM,Y)) S X=$O(^(Y,"")) I X]"" W !,"SEARCH TEMPLATE: ",Y S Y=X_U_Y Q
"RTN","ONCOSINP",20,0)
 ;S Y="Use a SEARCH TEMPLATE? Yes// ",Z="Use a SEARCH TEMPLATE to restrict cases"
"RTN","ONCOSINP",21,0)
ASK W ! S DIR("A")="     Restrict cases with a SEARCH TEMPLATE",DIR("B")="Yes",DIR(0)="Y",DIR("??")="^D HP1^ONCOSINP" D ^DIR G GT2:$G(Y)=0 S Y=$S(Y["^":-1,Y="":0,1:1) Q:Y'>0  G GT2:Y=2
"RTN","ONCOSINP",22,0)
Z S D="F"_FNUM,DIC="^DIBT(",DIC(0)="AEQ",DIC("A")="     Select SEARCH TEMPLATE: " D ^DIC S Y=$S(Y="^":0,Y="":0,Y=-1:0,1:Y) Q:'Y  S N=+Y
"RTN","ONCOSINP",23,0)
X ;D GETYES E  Q:Y=-1  G GT2
"RTN","ONCOSINP",24,0)
 I '$D(^DIBT(N,"DIS")) W !,"Sorry, ",$P(Y,U,2)," must be a SEARCH template" G GT1
"RTN","ONCOSINP",25,0)
 I '$D(^DIBT(N,1)) W !!,?10,$P(Y,U,2)_" does not have stored entries",!?10,"you must run FM Search Option for this template.",!! G GT1
"RTN","ONCOSINP",26,0)
 W !!?10,"REMINDER: Run Define Search Criteria Option"
"RTN","ONCOSINP",27,0)
 W !,?10,"to be sure selected entries are up-to-date!!",!
"RTN","ONCOSINP",28,0)
 ;S DIR("A")="Continue",DIR(0)="Y",DIR("B")="Yes" D ^DIR W ! S Y=$S(Y=1:1,1:0)
"RTN","ONCOSINP",29,0)
 ;Line above caused program to quit with NO DEATHS
"RTN","ONCOSINP",30,0)
 Q
"RTN","ONCOSINP",31,0)
 Q
"RTN","ONCOSINP",32,0)
GT2 W ! S Y="Really use ALL cases (this may take some time)? No// ",Z=""
"RTN","ONCOSINP",33,0)
 D GETYES I  S Y="ALL"
"RTN","ONCOSINP",34,0)
 E  G:Y'=-1 ASK
"RTN","ONCOSINP",35,0)
 Q
"RTN","ONCOSINP",36,0)
HP1 W !!?10,"Using a Search Template will restrict cases.",!
"RTN","ONCOSINP",37,0)
 W ?10,"It will act as a filter using only those cases",!
"RTN","ONCOSINP",38,0)
 W ?10,"that fit the criteria you have selected."
"RTN","ONCOSINP",39,0)
W W !!,?10,"YOU MUST have FIRST GENERATED the Search Template using the",!?10,"DS Option to create the necessary 'TRUE' entries!",!!
"RTN","ONCOSINP",40,0)
 Q
"RTN","ONCOSINP",41,0)
GT1 S D="F"_FNUM D IX^DIC G GT2:$P(Y,U,2)="ALL" Q:Y=-1  Q:$O(^DIBT(+Y,1,""))]""
"RTN","ONCOSINP",42,0)
 Q
"RTN","ONCOSINP",43,0)
 ;
"RTN","ONCOSINP",44,0)
GETYES ;get a yes/no response
"RTN","ONCOSINP",45,0)
 ;in:  Y = prompt (including default e.g. Yes//)
"RTN","ONCOSINP",46,0)
 ;     Z = undefined if specific help handled by calling module
"RTN","ONCOSINP",47,0)
 ;       '="" for single line help
"RTN","ONCOSINP",48,0)
 ;out: X = actual entry
"RTN","ONCOSINP",49,0)
 ;     $T = true if yes
"RTN","ONCOSINP",50,0)
 ;     Y = -1 for ^
"RTN","ONCOSINP",51,0)
 W !,Y R X:DTIME E  S X="^"
"RTN","ONCOSINP",52,0)
 I X'[U
"RTN","ONCOSINP",53,0)
 E  S Y=-1 Q
"RTN","ONCOSINP",54,0)
 I X="" S X=$F(Y,"//"),X=$S(X>3:$E(Y,X-5,X-3),1:"?")
"RTN","ONCOSINP",55,0)
 I '(X["Y"!(X["y")!(X["N")!(X["n")) W *7 S X="?"
"RTN","ONCOSINP",56,0)
 I X["?" W !,"Enter 'y' or 'n' or '^' to abort." Q:'$D(Z)  W:Z'="" !,Z G GETYES
"RTN","ONCOSINP",57,0)
 I X["Y"!(X["y") W "  (Yes)"
"RTN","ONCOSINP",58,0)
 E  W "  (No)"
"RTN","ONCOSINP",59,0)
 Q
"RTN","ONCOSO")
0^242^B5178337
"RTN","ONCOSO",1,0)
ONCOSO ;Hines OIFO/GWB - CALL TO ^DIS FOR FILEMANAGER SEARCH OPTION ;9/3/93
"RTN","ONCOSO",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSO",3,0)
 ;
"RTN","ONCOSO",4,0)
HD ;Header
"RTN","ONCOSO",5,0)
 W @IOF,!!?10,"This option allows you to create 'SEARCH TEMPLATES'",!?10,"which are used in Cross-Tabs and Survival Analysis"
"RTN","ONCOSO",6,0)
 W !!?15,"REMEMBER to name templates beginning with"
"RTN","ONCOSO",7,0)
 W !?24,"ONCOZ for USER defined templates"
"RTN","ONCOSO",8,0)
 W !?17,"verses Package distributed (ONCOS).",!!
"RTN","ONCOSO",9,0)
 W ?17,"To 'RUN' Existing Templates enter '[ONCOS' to begin,",!
"RTN","ONCOSO",10,0)
 W ?17,"to bring up pre-defined tempates for use with Cross-tabs.",!!
"RTN","ONCOSO",11,0)
 Q
"RTN","ONCOSO",12,0)
 ;
"RTN","ONCOSO",13,0)
SEL ;SELECT FILE
"RTN","ONCOSO",14,0)
 K DIR
"RTN","ONCOSO",15,0)
 S DIR(0)="SO^1:ONCOLOGY PRIMARY;2:ONCOLOGY PATIENT;3:ONCOLOGY CONTACT"
"RTN","ONCOSO",16,0)
 S DIR("A")=" Select File"
"RTN","ONCOSO",17,0)
 D ^DIR Q:$D(DIRUT)
"RTN","ONCOSO",18,0)
 S GL="^ONCO(16",DIC=$S(Y=1:GL_"5.5,",Y=2:GL_"0,",1:GL_"5,")
"RTN","ONCOSO",19,0)
 S ONCOF=$P($P(DIR(0),";",Y),":",2)
"RTN","ONCOSO",20,0)
 Q
"RTN","ONCOSO",21,0)
 ;
"RTN","ONCOSO",22,0)
SER ;REQUEST FILE TO SEARCH, THEN SEARCH CRITERIA
"RTN","ONCOSO",23,0)
 D HD,SEL G EX:$D(DIRUT) W !!!,"We will search entries in "_ONCOF_" file...",!!! D EN^DIS G EX
"RTN","ONCOSO",24,0)
 ;
"RTN","ONCOSO",25,0)
IN ;CALL TO CROSS-TAB ROUTINES
"RTN","ONCOSO",26,0)
 K ONCOS("AF") G ST^ONCOSCT0
"RTN","ONCOSO",27,0)
 W !!!?10,"This Option will allow you to define the necessary",!?10,"variables for Cross-Tabulations - refer to the User's",!?10,"manual for HELP in answering questions",!!
"RTN","ONCOSO",28,0)
 K DIR S DIR("A")="     Continue",DIR(0)="Y",DIR("B")="Y" D ^DIR G EX:Y'=1 D ^ONCOSCT0 G EX
"RTN","ONCOSO",29,0)
 ;
"RTN","ONCOSO",30,0)
EX ;Exit and kill
"RTN","ONCOSO",31,0)
 K DIC,DIR,GL,ONCOF,ONCOEX,ONCON,ONCOX,ONCOX1,ROWDEF,%T,%,%K,%DT,%ZISOS,G,L,O,W Q
"RTN","ONCOSSA")
0^243^B14757229
"RTN","ONCOSSA",1,0)
ONCOSSA ;WASH ISC/SRR,MLH-SURVIVAL ANALYSIS ;11/5/93  15:14
"RTN","ONCOSSA",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSSA",3,0)
 ;ONCOS - used to force responses to setup prompts:
"RTN","ONCOSSA",4,0)
 ;("F") = file name
"RTN","ONCOSSA",5,0)
 ;("T") = sort template
"RTN","ONCOSSA",6,0)
 ;("D") = duration field name^time unit letter^interval letter
"RTN","ONCOSSA",7,0)
 ;        e.g., "MOS FU^M^Y" for months followup, life table in years
"RTN","ONCOSSA",8,0)
 ;("S") = status expression
"RTN","ONCOSSA",9,0)
 ;("G") = number of groups^expression
"RTN","ONCOSSA",10,0)
 ;("G",n) = field number^title for nth group^expression, e.g., VAL(7)=0
"RTN","ONCOSSA",11,0)
 ;("L") = ] "P" for plots, "Y" to skip yes prompts
"RTN","ONCOSSA",12,0)
 ;("I") = IOP variable for %ZIS
"RTN","ONCOSSA",13,0)
PRINT ;entry point for qued report (%ZTLOAD)
"RTN","ONCOSSA",14,0)
 S U="^",%=0
"RTN","ONCOSSA",15,0)
 D GETFILE^ONCOSINP:'$D(ONCOS("FI")) G EX:$G(Y)<0 S FIL=ONCOS("FI"),FNUM=+FIL,GBL=U_$P(FIL,U,3)
"RTN","ONCOSSA",16,0)
 S FNUM=+ONCOS("FI") D GETTEMPL^ONCOSINP G:$G(Y)<0 EX S HEADER=$P(Y,U,2),TEMPL=+Y
"RTN","ONCOSSA",17,0)
 K ^TMP($J),IO("Q") D GET^ONCOSSA1 G:$G(Y)<0 EX ;get specs
"RTN","ONCOSSA",18,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP EX
"RTN","ONCOSSA",19,0)
 I $D(IO("Q")) S ONCOLST="COND^COND(^FIL^FLDDAT(^FNUM^GBL^GRPEXP^HEADER^I^J^LEN^LENEXP^MAXTIME^MORTEXP^N^NGRPS^NM^ONCOS(^PLOT^TEMPL^VAL" D TASK G EX
"RTN","ONCOSSA",20,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G EX
"RTN","ONCOSSA",21,0)
PRT S (D0,NMORT,NDROP,NPG)=0,XCRT=$S(IOST?1"C".E:1,1:0) D:XCRT WAIT^DICD
"RTN","ONCOSSA",22,0)
 F N=1:1 S D0=$S(TEMPL:$O(^DIBT(TEMPL,1,D0)),1:$O(@(GBL_"D0)"))) Q:D0'?1N.N  D CTCASE
"RTN","ONCOSSA",23,0)
 S %DT="T",X="NOW" D ^%DT X ^DD("DD")
"RTN","ONCOSSA",24,0)
 S X=$P(@(GBL_"0)"),U,1)_$S(TEMPL:" Template "_HEADER,1:"")_" "
"RTN","ONCOSSA",25,0)
 S HEADER=X_U_$P(Y,"@",1)_"  "_$P(Y,"@",2)
"RTN","ONCOSSA",26,0)
 I NDROP W !!,$P(HEADER,U,1),?IOM-30,$P(HEADER,U,2) W !!,"Cases dropped:  ",NDROP,! D  I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y G EX
"RTN","ONCOSSA",27,0)
 .W !,"PATIENT",?30,"REASON FOR BEING DROPPED"
"RTN","ONCOSSA",28,0)
 .W !,"--------------------------",?30,"----------------------------"
"RTN","ONCOSSA",29,0)
 .S DROPD0=0 F  S DROPD0=$O(DROP(DROPD0)) Q:DROPD0'>0  D
"RTN","ONCOSSA",30,0)
 ..W !,$$GET1^DIQ(165.5,DROPD0,.025),"  ",$$GET1^DIQ(165.5,DROPD0,.02),?30,$P(DROP(DROPD0),U,1),?51,$P(DROP(DROPD0),U,2)
"RTN","ONCOSSA",31,0)
 S HEADER=HEADER_"    Page "
"RTN","ONCOSSA",32,0)
 S Y=0 F GRP=1:1:NGRPS S (CASES(GRP),INT(GRP))=0
"RTN","ONCOSSA",33,0)
 F GRP=0:0 S:GRP INTS(GRP)=Y S GRP=$O(^TMP($J,"LT",GRP)) Q:GRP=""  D SLOOP
"RTN","ONCOSSA",34,0)
 D PRINT^ONCOSSA3,PLOT^ONCOSSA4:PLOT,TOF^ONCOSSA3
"RTN","ONCOSSA",35,0)
EX K ^TMP($J)
"RTN","ONCOSSA",36,0)
 K CASES,COND,D0,FLDDAT,FNUM,GBL,GRP,GRPEXP,HEADER,INTS,LEN,LENEXP
"RTN","ONCOSSA",37,0)
 K MAXTIME,MORTEXP,N,NDROP,NGRPS,NMORT,NPG,NTOT,ONCOS,PLOT,POP,TEMPL
"RTN","ONCOSSA",38,0)
 K X,XCRT,Y,Z,DROP,DROPD0,DROPRSN
"RTN","ONCOSSA",39,0)
 Q
"RTN","ONCOSSA",40,0)
 ;
"RTN","ONCOSSA",41,0)
CTCASE ;count case
"RTN","ONCOSSA",42,0)
 N FLDNUM,GRP,IGRP,MORT,SLEN,VAL,DROPRSN
"RTN","ONCOSSA",43,0)
 S DROPRSN=""
"RTN","ONCOSSA",44,0)
 W:XCRT&(N#100=1) "." Q:'$D(@(GBL_"D0)"))  S FLDNUM=0
"RTN","ONCOSSA",45,0)
 F IGRP=1:1 S FLDNUM=$O(FLDDAT(FLDNUM)) Q:FLDNUM=""  D GETFLD S VAL(FLDNUM)=Y
"RTN","ONCOSSA",46,0)
 S @("MORT="_MORTEXP),@("SLEN="_LENEXP)
"RTN","ONCOSSA",47,0)
 I COND S @("GRP="_GRPEXP)
"RTN","ONCOSSA",48,0)
 E  S GRP=0 F IGRP=1:1:NGRPS I @COND(IGRP) S GRP=IGRP Q
"RTN","ONCOSSA",49,0)
 I GRP=0 D  G:DROPRSN'="" DROP
"RTN","ONCOSSA",50,0)
 .I $D(VAL(38.5)) S VAL=VAL(38.5),DROPRSN="STAGE GROUPING-AJCC^"_$S(VAL=0:0,VAL="U":"Unk/Uns",VAL="NA":"NA",1:VAL) Q
"RTN","ONCOSSA",51,0)
 .I $D(VAL(43)) S VAL=VAL(43),DROPRSN="TREATMENT^"_VAL
"RTN","ONCOSSA",52,0)
 I SLEN'=0 S SLEN=+SLEN I SLEN=0 S GRP=0,DROPRSN=$P($G(ONCOS("D")),U,1)_"^0"
"RTN","ONCOSSA",53,0)
DROP I GRP<1!(GRP>NGRPS) S NDROP=NDROP+1 S DROP(D0)=DROPRSN Q
"RTN","ONCOSSA",54,0)
 S:SLEN>MAXTIME SLEN=MAXTIME,MORT=0
"RTN","ONCOSSA",55,0)
 S:'$D(^TMP($J,"LT",GRP,SLEN\+LEN,MORT)) ^(MORT)=0 S ^(MORT)=^(MORT)+1
"RTN","ONCOSSA",56,0)
 I PLOT S:'$D(^TMP($J,"KM",GRP,SLEN,MORT)) ^(MORT)=0 S ^(MORT)=^(MORT)+1
"RTN","ONCOSSA",57,0)
 Q
"RTN","ONCOSSA",58,0)
 ;
"RTN","ONCOSSA",59,0)
GETFLD ;get field
"RTN","ONCOSSA",60,0)
 ;in:  D0,GBL,FLDNUM,FLDDAT
"RTN","ONCOSSA",61,0)
 ;out: Y
"RTN","ONCOSSA",62,0)
 S Y="",X=FLDDAT(FLDNUM)
"RTN","ONCOSSA",63,0)
 I +X,$D(@(GBL_"D0,$P(X,U,2))")) S Y=$P(^($P(X,U,2)),U,$P(X,U,3))
"RTN","ONCOSSA",64,0)
 I '(+X) X $P(X,U,2,99) S Y=X
"RTN","ONCOSSA",65,0)
 Q
"RTN","ONCOSSA",66,0)
 ;
"RTN","ONCOSSA",67,0)
SLOOP ;loop through data & sum totals
"RTN","ONCOSSA",68,0)
 S X=-1 F  S X=$O(^TMP($J,"LT",GRP,X)) Q:X=""  S Y=X D
"RTN","ONCOSSA",69,0)
 .I $D(^TMP($J,"LT",GRP,X,0)) S CASES(GRP)=CASES(GRP)+^(0)
"RTN","ONCOSSA",70,0)
 .I $D(^TMP($J,"LT",GRP,X,1)) S CASES(GRP)=CASES(GRP)+^(1),NMORT=NMORT+^(1)
"RTN","ONCOSSA",71,0)
 Q
"RTN","ONCOSSA",72,0)
TASK ;Queue a task
"RTN","ONCOSSA",73,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCOSSA",74,0)
 S ZTRTN="PRT^ONCOSSA",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCOSSA",75,0)
 S ZTDESC="ONCOLOGY STATISTICAL REPORT"
"RTN","ONCOSSA",76,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCOSSA",77,0)
 S ZTSAVE("^TMP($J,")=""
"RTN","ONCOSSA",78,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCOSSA",79,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCOSSA1")
0^244^B15229749
"RTN","ONCOSSA1",1,0)
ONCOSSA1 ;WASH ISC/SRR-SURVIAL ANALYSIS CONT-1 ;4/16/92  18:31
"RTN","ONCOSSA1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSSA1",3,0)
 ;
"RTN","ONCOSSA1",4,0)
CHKCOND ;check condition
"RTN","ONCOSSA1",5,0)
 ;in:  DIC,TIN,^DD(FNUM
"RTN","ONCOSSA1",6,0)
 ;out: P     = 0 if OK
"RTN","ONCOSSA1",7,0)
 ;     TOU   = condition
"RTN","ONCOSSA1",8,0)
 ;     FLDDAT(f) = 1^node^piece^codes for real; 0^expression for computed
"RTN","ONCOSSA1",9,0)
 ;do:  ^DIM
"RTN","ONCOSSA1",10,0)
 N C,E,FLDOK,FLD,L,Q
"RTN","ONCOSSA1",11,0)
 S E=1,(FLDOK,P)=0,TOU="",Q=$C(34)
"RTN","ONCOSSA1",12,0)
 F L=1:1:$L(TIN) S C=$E(TIN,L),TOU=TOU_C S:C=Q E=1-E I C?1U,E D CHK
"RTN","ONCOSSA1",13,0)
 I P W !,?20,"Re-enter condition - may need explicit quotes." Q
"RTN","ONCOSSA1",14,0)
 I 'FLDOK W !,?20,"No valid fields - please re-enter." S P=1 Q
"RTN","ONCOSSA1",15,0)
 S X="S X="_TOU D ^DIM I $D(X)=0 S P=1 W !,"   Check MUMPS syntax."
"RTN","ONCOSSA1",16,0)
 Q
"RTN","ONCOSSA1",17,0)
 ;
"RTN","ONCOSSA1",18,0)
CHK ;check for field
"RTN","ONCOSSA1",19,0)
 S FLD=C
"RTN","ONCOSSA1",20,0)
CHK1 S L=L+1,C=$E(TIN,L),TOU=TOU_C I C?1UN!(C=" ") S FLD=FLD_C G CHK1
"RTN","ONCOSSA1",21,0)
 Q:FLD'?1U.UNP  S X=FLD D ^DIC
"RTN","ONCOSSA1",22,0)
 I Y=-1 W !,?20,"Field ",FLD," ???" S P=1 Q
"RTN","ONCOSSA1",23,0)
 S FLDOK=1,X=+Y D SETFD
"RTN","ONCOSSA1",24,0)
 S Y=$F(TOU,FLD),X=$E(TOU,1,Y-1-$L(FLD))_"VAL("_X_")"_$E(TOU,Y,99),TOU=X
"RTN","ONCOSSA1",25,0)
 Q
"RTN","ONCOSSA1",26,0)
 ;
"RTN","ONCOSSA1",27,0)
SETFD ;set FLDDAT( with field info
"RTN","ONCOSSA1",28,0)
 ;in:  X,^DD(FNUM,
"RTN","ONCOSSA1",29,0)
 ;out: FLDDAT(,Y
"RTN","ONCOSSA1",30,0)
 Q:$D(FLDDAT(X))!'$D(^DD(FNUM,X,0))  S Y=^(0)
"RTN","ONCOSSA1",31,0)
 I $P(Y,U,2)["C" S Y="0"_U_$P(Y,U,5,99)
"RTN","ONCOSSA1",32,0)
 E  S %=$S($P(Y,U,2)["S":U_$P(Y,U,3),1:""),Y=$P(Y,U,4),Y="1"_U_$P(Y,";",1)_U_+$P(Y,";",2)_%
"RTN","ONCOSSA1",33,0)
 S FLDDAT(X)=Y
"RTN","ONCOSSA1",34,0)
 Q
"RTN","ONCOSSA1",35,0)
 ;
"RTN","ONCOSSA1",36,0)
GET ;get specs for survival analysis
"RTN","ONCOSSA1",37,0)
 ;in:  ^DD(FNUM,
"RTN","ONCOSSA1",38,0)
 ;out: LEN    = conversion divisor^duration unit^interval unit
"RTN","ONCOSSA1",39,0)
 ;     COND   = 1 for subgroup expression, 0 for group conditions
"RTN","ONCOSSA1",40,0)
 ;        (n) = nth group condition
"RTN","ONCOSSA1",41,0)
 ;     FLDDAT = see CHKCOND
"RTN","ONCOSSA1",42,0)
 ;     MAXTIME= maximum time allowed
"RTN","ONCOSSA1",43,0)
 ;     NGRPS  = number of subgroups
"RTN","ONCOSSA1",44,0)
 ;     MORTEXP= dead expression
"RTN","ONCOSSA1",45,0)
 ;     LENEXP = duration expression
"RTN","ONCOSSA1",46,0)
 ;     GRPEXP = subgroup expression
"RTN","ONCOSSA1",47,0)
 ;     PLOT   = 1 for curves plotted
"RTN","ONCOSSA1",48,0)
 ;     ^TMP($J,"GRP",n) = title for nth group
"RTN","ONCOSSA1",49,0)
 ;do:  CHKCOND,^DIC,^DIM
"RTN","ONCOSSA1",50,0)
 N DIC,P,TIN,TOU
"RTN","ONCOSSA1",51,0)
 S DIC="^DD(FNUM,",DIC("S")="I +$P(^(0),U,2)=0 "
"RTN","ONCOSSA1",52,0)
 S DIC("A")="Select survival DURATION field: "
"RTN","ONCOSSA1",53,0)
 S LEN=$S($D(ONCOS("D")):ONCOS("D"),1:""),TIN=$P(LEN,U,1)
"RTN","ONCOSSA1",54,0)
 I TIN'="" W !,"DURATION field: ",TIN G GET11
"RTN","ONCOSSA1",55,0)
GET1 S DIC(0)="AEQ" D ^DIC Q:Y<0  S TIN=$P(Y,U,2)
"RTN","ONCOSSA1",56,0)
GET11 S DIC(0)="E" D CHKCOND G:P GET1 S LENEXP=TOU,TIN=$P(LEN,U,2) G:TIN'="" GET21
"RTN","ONCOSSA1",57,0)
GET2 W !,"DURATION unit (Day, Wk, Mo, Yr): " R TIN:DTIME E  S TIN="^"
"RTN","ONCOSSA1",58,0)
 I TIN[U S Y=-1 Q
"RTN","ONCOSSA1",59,0)
GET21 S TIN=$E(TIN,1) S:TIN?1L TIN=$C($A(TIN)-32)
"RTN","ONCOSSA1",60,0)
 I '$F("DWMY",TIN) W !,"Enter a time unit letter such as 'D' for Days" G GET2
"RTN","ONCOSSA1",61,0)
 S $P(LEN,U,1,2)=$S(TIN="D":"365.25^Days",TIN="W":"52^Weeks",TIN="M":"12^Mos",1:"1^Yrs")
"RTN","ONCOSSA1",62,0)
 S MAXTIME=+LEN*10,TIN=$P(LEN,U,3) G:TIN'="" GET23
"RTN","ONCOSSA1",63,0)
GET22 W !,"INTERVAL unit (Mo, Yr): Yr// " R TIN:DTIME E  S TIN="^"
"RTN","ONCOSSA1",64,0)
 S:TIN="" TIN="Y" I TIN[U S Y=-1 Q
"RTN","ONCOSSA1",65,0)
GET23 S TIN=$E(TIN,1) S:TIN?1L TIN=$C($A(TIN)-32)
"RTN","ONCOSSA1",66,0)
 I '$F("MY",TIN) W !,"Enter 'M' for Months or 'Y' for Years" G GET22
"RTN","ONCOSSA1",67,0)
 I TIN="Y" S $P(LEN,U,3)="Yrs"
"RTN","ONCOSSA1",68,0)
 E  S $P(LEN,U,3)="Mos",TIN=$P(LEN,U,1),$P(LEN,U,1)=TIN/12
"RTN","ONCOSSA1",69,0)
GET3 I $D(ONCOS("S")) S TIN=ONCOS("S") W !,"STATUS expression: ",TIN G GET4
"RTN","ONCOSSA1",70,0)
 W !,"Enter survival STATUS expression: " R TIN:DTIME E  S TIN="^"
"RTN","ONCOSSA1",71,0)
 I TIN[U S Y=-1 Q
"RTN","ONCOSSA1",72,0)
 G:TIN'?."?" GET4 W !!,"Enter an expression like 'STATUS=0' to indicate"
"RTN","ONCOSSA1",73,0)
 W !,"that the patient is dead.  In this example, 'STATUS' is"
"RTN","ONCOSSA1",74,0)
 W !,"the name of a field that is a set of codes, for which 1 means"
"RTN","ONCOSSA1",75,0)
 W !,"'living' and 0 means 'dead'.",! G GET3
"RTN","ONCOSSA1",76,0)
GET4 D CHKCOND G:P GET3 S MORTEXP=TOU
"RTN","ONCOSSA1",77,0)
 I $D(ONCOS("G")) S NGRPS=+ONCOS("G") G:NGRPS GET41
"RTN","ONCOSSA1",78,0)
 R !,"Number of sub-groups: 1// ",NGRPS:DTIME E  S NGRPS="^"
"RTN","ONCOSSA1",79,0)
 S:NGRPS="" NGRPS=1 I NGRPS[U S Y=-1 Q
"RTN","ONCOSSA1",80,0)
GET41 I NGRPS=1 S COND=1,GRPEXP=1
"RTN","ONCOSSA1",81,0)
 E  D SETGRPS^ONCOSSA2 G:NGRPS=1 GET41
"RTN","ONCOSSA1",82,0)
 I $D(ONCOS("L")) S PLOT=$S(ONCOS("L")["P":1,1:0) Q:ONCOS("L")["Y"  G GET5
"RTN","ONCOSSA1",83,0)
 S Y="Do you want curves plotted? No// "
"RTN","ONCOSSA1",84,0)
 D GETYES^ONCOSINP Q:Y=-1  S PLOT=$T
"RTN","ONCOSSA1",85,0)
GET5 W ! S Y="Survival analysis for "
"RTN","ONCOSSA1",86,0)
 S Y=Y_$S(TEMPL:"template "_HEADER,1:"ALL cases")
"RTN","ONCOSSA1",87,0)
 S Y=Y_" - OK? Yes// " D GETYES^ONCOSINP S:'$T Y=-1
"RTN","ONCOSSA1",88,0)
 Q
"RTN","ONCOSSA2")
0^245^B8003035
"RTN","ONCOSSA2",1,0)
ONCOSSA2 ;WASH ISC/SRR-SURVIVAL ANALYSIS CONT-2  ;7/28/92  18:38
"RTN","ONCOSSA2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSSA2",3,0)
 ;
"RTN","ONCOSSA2",4,0)
SETGRPS ;define group variables from ONCOS("G") input variable.
"RTN","ONCOSSA2",5,0)
 G:'$D(ONCOS("G")) SET1
"RTN","ONCOSSA2",6,0)
 S TIN=$P(ONCOS("G"),U,2) G SET3:TIN'="",SET1:'$D(ONCOS("G",1))
"RTN","ONCOSSA2",7,0)
 F COND=0:0 S COND=$O(ONCOS("G",COND)) Q:COND=""  S Y=ONCOS("G",COND) D SET4
"RTN","ONCOSSA2",8,0)
 K ONCOS("G") S COND=0
"RTN","ONCOSSA2",9,0)
 Q
"RTN","ONCOSSA2",10,0)
SET1 W !,"You may enter an expression that evaluates between 1 and ",NGRPS
"RTN","ONCOSSA2",11,0)
 W !,"or separate conditions for each sub-group."
"RTN","ONCOSSA2",12,0)
 S Y="Do you want to enter an expression? Yes// ",Z="" D GETYES^ONCOSINP
"RTN","ONCOSSA2",13,0)
 E  G:X["?" SET1 I Y=-1 S NGRPS=1 Q
"RTN","ONCOSSA2",14,0)
 E  S COND=0 G SUBGRPS
"RTN","ONCOSSA2",15,0)
SET2 R !,"Enter sub-group expression: ",TIN:DTIME
"RTN","ONCOSSA2",16,0)
 I TIN[U S NGRPS=1 Q
"RTN","ONCOSSA2",17,0)
SET3 D CHKCOND^ONCOSSA1 G:P SET2
"RTN","ONCOSSA2",18,0)
 S GRPEXP=TOU,COND=1 F X=1:1:NGRPS S ^TMP($J,"GRP",X)="("_TIN_") = "_X
"RTN","ONCOSSA2",19,0)
 W !,"The cases that do not evaluate between 1 and ",NGRPS," are dropped."
"RTN","ONCOSSA2",20,0)
 Q
"RTN","ONCOSSA2",21,0)
SET4 S COND(COND)=$P(Y,U,3,99),^TMP($J,"GRP",COND)=$P(Y,U,2)
"RTN","ONCOSSA2",22,0)
 S X=+Y D SETFD^ONCOSSA1
"RTN","ONCOSSA2",23,0)
 Q
"RTN","ONCOSSA2",24,0)
 ;
"RTN","ONCOSSA2",25,0)
SUBGRPS ;get subgroups
"RTN","ONCOSSA2",26,0)
 ;in:  DIC,NGRPS
"RTN","ONCOSSA2",27,0)
 ;out: VV,COND,^TMP($J,"GRP") - see ONCOSSA1
"RTN","ONCOSSA2",28,0)
 ;do:  ^DIC
"RTN","ONCOSSA2",29,0)
 N CONDCT,FLDNAM,FLDNUM,IVAL,OP,VAL S CONDCT=0
"RTN","ONCOSSA2",30,0)
 W !,"Enter truth tests that will categorize the cases into ",NGRPS," groups."
"RTN","ONCOSSA2",31,0)
SUB1 W !,?6,"-",CONDCT+1,"- Search for field: " R X:DTIME
"RTN","ONCOSSA2",32,0)
 I X["?" W !,?6,"Enter a field name." G SUB1
"RTN","ONCOSSA2",33,0)
SUB2 I X=""!(X[U) S NGRPS=CONDCT W !," Only ",NGRPS," sub-groups will be considered.",! Q
"RTN","ONCOSSA2",34,0)
 D ^DIC I Y<1 W *7,"???" G SUB1
"RTN","ONCOSSA2",35,0)
 S FLDNUM=+Y,FLDNAM=$P(Y,U,2)
"RTN","ONCOSSA2",36,0)
SUB3 W !,?6,"-",CONDCT+1,"- Condition: " R X:DTIME G:X[U SUB2
"RTN","ONCOSSA2",37,0)
 S X=$E(X,1) S:X?1L X=$C($A(X)-32) S OP=$F("=><[!]EGLCMN",X)-1 S:OP>6 OP=OP-6
"RTN","ONCOSSA2",38,0)
 I 'OP W !,"Choose from EQUAL TO, LESS THAN, GREATER THAN, CONTAINS, ",!,"          MATCHES or NULL",! G SUB3
"RTN","ONCOSSA2",39,0)
 W "  [",$P("EQUAL TO^GREATER THAN^LESS THAN^CONTAINS^MATCHES^NULL",U,OP),"]"
"RTN","ONCOSSA2",40,0)
 S OP=$E("=><[?]",OP),VAL=""
"RTN","ONCOSSA2",41,0)
SUB4 I OP'="]" W !?6,"-",CONDCT+1,"- Value: " R VAL:DTIME G:X[U SUB2
"RTN","ONCOSSA2",42,0)
 I VAL["?" W !,"Enter a value." G SUB4
"RTN","ONCOSSA2",43,0)
 S IVAL=VAL,X=FLDNUM D SETFD^ONCOSSA1 S Y=FLDDAT(X)
"RTN","ONCOSSA2",44,0)
 I +Y&($P(Y,U,4)]"") S Y=$P(Y,U,4) F %=1:1 S X=$P(Y,";",%) Q:X=""  I VAL=$P(X,":",2) S IVAL=$P(X,":",1) Q
"RTN","ONCOSSA2",45,0)
 S:IVAL'=+IVAL IVAL=""""_IVAL_"""" S:OP="]" OP="=""""",IVAL="",VAL=""
"RTN","ONCOSSA2",46,0)
 S CONDCT=CONDCT+1,COND(CONDCT)="VAL("_FLDNUM_")"_OP_IVAL
"RTN","ONCOSSA2",47,0)
 S ^TMP($J,"GRP",CONDCT)="("_FLDNAM_OP_VAL_")"
"RTN","ONCOSSA2",48,0)
 G:CONDCT<NGRPS SUB1
"RTN","ONCOSSA2",49,0)
 Q
"RTN","ONCOSSA3")
0^246^B3095497
"RTN","ONCOSSA3",1,0)
ONCOSSA3 ;WASH ISC/SRR-Print life tables ;11/1/93  12:34
"RTN","ONCOSSA3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSSA3",3,0)
 ;
"RTN","ONCOSSA3",4,0)
PRINT ;print actuarial life tables
"RTN","ONCOSSA3",5,0)
 ;in:  CASES,LEN,GRP,HEADER,INTS,NGRPS,NPG,XCRT,^TMP($J
"RTN","ONCOSSA3",6,0)
 ;out: NPG
"RTN","ONCOSSA3",7,0)
 N INT,LEFT,LOSSES,MORTS,PSURV
"RTN","ONCOSSA3",8,0)
 S ONCOEX=0 F GRP=1:1:NGRPS Q:ONCOEX  D:CASES(GRP) PRLT
"RTN","ONCOSSA3",9,0)
 Q
"RTN","ONCOSSA3",10,0)
 ;
"RTN","ONCOSSA3",11,0)
PRLT ;print life table
"RTN","ONCOSSA3",12,0)
 S (MORTS,LOSSES)=0,LEFT=CASES(GRP),PSURV=100,INTS=INTS(GRP)
"RTN","ONCOSSA3",13,0)
 I ($Y+INTS+2<IOSL)&(NPG>0) D WGRP
"RTN","ONCOSSA3",14,0)
 E  D WHEAD Q:ONCOEX
"RTN","ONCOSSA3",15,0)
 F INT=0:1:INTS Q:ONCOEX  D WINT,WHEAD:INT<INTS&($Y=IOSL)
"RTN","ONCOSSA3",16,0)
 Q
"RTN","ONCOSSA3",17,0)
 ;
"RTN","ONCOSSA3",18,0)
WHEAD ;write header
"RTN","ONCOSSA3",19,0)
 D TOF Q:ONCOEX  W $P(HEADER,U,1),"Life Table",?IOM-30,$P(HEADER,U,2),NPG,!
"RTN","ONCOSSA3",20,0)
 W "  ",$P(LEN,U,3),?11,"% Alive",?21,"# Left",?31,"Deaths",?41,"Losses",!
"RTN","ONCOSSA3",21,0)
 F X=1:1:IOM W "-"
"RTN","ONCOSSA3",22,0)
WGRP W ! W:NGRPS>1 "Group ",$C(GRP+64),":  ",^TMP($J,"GRP",GRP),!
"RTN","ONCOSSA3",23,0)
 Q
"RTN","ONCOSSA3",24,0)
 ;
"RTN","ONCOSSA3",25,0)
TOF ;write top of form & bump page
"RTN","ONCOSSA3",26,0)
 I XCRT,NPG,'$G(ONCOEX) W *7 R !,"Enter RETURN to continue or '^' to exit: ",X:DTIME S ONCOEX=$S('$T:1,X="^":1,1:0)
"RTN","ONCOSSA3",27,0)
 I '$G(ONCOEX) W:$Y @IOF S NPG=NPG+1
"RTN","ONCOSSA3",28,0)
 Q
"RTN","ONCOSSA3",29,0)
 ;
"RTN","ONCOSSA3",30,0)
WINT ;write (& compute) an interval
"RTN","ONCOSSA3",31,0)
 S LOSSES=+$G(^TMP($J,"LT",GRP,INT,0)),MORTS=+$G(^(1))
"RTN","ONCOSSA3",32,0)
 W $J(INT,5),?12,$J(PSURV,5,1),?22,$J(LEFT,5),?32,$J(MORTS,5)
"RTN","ONCOSSA3",33,0)
 W ?42,$J(LOSSES,5),!
"RTN","ONCOSSA3",34,0)
 S PSURV=$S(MORTS=0:PSURV,LEFT=0:0,1:PSURV*(1-(MORTS/(LEFT-(LOSSES/2)))))
"RTN","ONCOSSA3",35,0)
 S LEFT=LEFT-MORTS-LOSSES
"RTN","ONCOSSA3",36,0)
 Q
"RTN","ONCOSSA4")
0^247^B4638815
"RTN","ONCOSSA4",1,0)
ONCOSSA4 ;WASH ISC/SRR,MLH-PLOT SURVIVAL SURVES ;11/1/93  12:33
"RTN","ONCOSSA4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSSA4",3,0)
PLOT ;plot survival curves
"RTN","ONCOSSA4",4,0)
 ;in:  CASES,HEADER,LEN,NGRPS,NMORT,NPG,XCRT,^TMP($J
"RTN","ONCOSSA4",5,0)
 ;use: GRP
"RTN","ONCOSSA4",6,0)
 ;out: NPG
"RTN","ONCOSSA4",7,0)
 ;do:  TOF^ONCOSSA3
"RTN","ONCOSSA4",8,0)
 D TOF^ONCOSSA3 Q:ONCOEX  W $P(HEADER,U,1),"Survival Curve",$S(NGRPS>1:"s",1:"")
"RTN","ONCOSSA4",9,0)
 W ?IOM-30,$P(HEADER,U,2),NPG I NMORT=0 W !!,"NO deaths!",! Q
"RTN","ONCOSSA4",10,0)
 N IX,LMORT,LN,N,NLN,NX,P,XADJ,XSCL,XSIZ,YSIZ
"RTN","ONCOSSA4",11,0)
 I IOM<120 S NLN=20,XSIZ=60
"RTN","ONCOSSA4",12,0)
 E  S NLN=50,XSIZ=120
"RTN","ONCOSSA4",13,0)
 S XSCL=0,YSIZ=100/NLN,LMORT=""
"RTN","ONCOSSA4",14,0)
 F GRP=1:1:NGRPS S N=CASES(GRP) D:N CPLT
"RTN","ONCOSSA4",15,0)
 S X="1;.01^3;.025^6;.05^12;.1^30;.25^60;.5^120;1",XSCL=XSCL/LEN
"RTN","ONCOSSA4",16,0)
 I XSCL>120 S XSCL=XSCL-1/120+1\1
"RTN","ONCOSSA4",17,0)
 E  F GRP=1:1:99 S Y=$P(X,U,GRP) Q:Y=""  I XSCL'>+Y S XSCL=$P(Y,";",2) Q
"RTN","ONCOSSA4",18,0)
 S:XSIZ=60 XSCL=XSCL+XSCL S XADJ=XSCL*LEN
"RTN","ONCOSSA4",19,0)
 F GRP=1:1:NGRPS S:$D(INS(GRP)) INTS(GRP)=INTS(GRP)\XADJ
"RTN","ONCOSSA4",20,0)
 F LN=0:1:NLN-1 D PLIN
"RTN","ONCOSSA4",21,0)
 W !?7,"0 |" F X=1:1:XSIZ W $S(X#10=0:"+",1:"-")
"RTN","ONCOSSA4",22,0)
 W !,"  ",$P(LEN,U,3),":",?8 S Y=$S(XSCL<.1:2,XSCL<.5:1,1:0)
"RTN","ONCOSSA4",23,0)
 F X=0:10:XSIZ W $J(X*XSCL,3,Y),"       "
"RTN","ONCOSSA4",24,0)
 Q
"RTN","ONCOSSA4",25,0)
 ;
"RTN","ONCOSSA4",26,0)
CPLT ;compute plot coordinates
"RTN","ONCOSSA4",27,0)
 S P=100,(IX(GRP),Z)=0
"RTN","ONCOSSA4",28,0)
 F X=-1:0 S X=$O(^TMP($J,"KM",GRP,X)) Q:X=""  D CP1 S Z=X
"RTN","ONCOSSA4",29,0)
 S INTS(GRP)=Z S:Z>XSCL XSCL=Z S LMORT=LMORT_$D(^TMP($J,"KM",GRP,Z,1))
"RTN","ONCOSSA4",30,0)
 Q
"RTN","ONCOSSA4",31,0)
CP1 ;compute Psurv
"RTN","ONCOSSA4",32,0)
 I '$D(^TMP($J,"KM",GRP,X,1)) S N=N-^(0) Q
"RTN","ONCOSSA4",33,0)
 S Y=^TMP($J,"KM",GRP,X,1) F %=1:1:Y S N=N-1,P=P*N/(N+1)
"RTN","ONCOSSA4",34,0)
 S N=N-(+$G(^TMP($J,"KM",GRP,X,0))),Y=100-P\YSIZ S:Y&'$D(^TMP($J,"PLT",GRP,Y)) ^(Y)=X
"RTN","ONCOSSA4",35,0)
 Q
"RTN","ONCOSSA4",36,0)
 ;
"RTN","ONCOSSA4",37,0)
PLIN ;plot a line
"RTN","ONCOSSA4",38,0)
 N C
"RTN","ONCOSSA4",39,0)
 F GRP=1:1:NGRPS D:CASES(GRP) PL1
"RTN","ONCOSSA4",40,0)
 S Y="" F C=0:1:XSIZ S Y=Y_$S($D(C(C)):C(C),1:" ") Q:$O(C(C))=""
"RTN","ONCOSSA4",41,0)
 I LN#4=0 W !?5,$J(NLN-LN/NLN*100,3)," +",Y
"RTN","ONCOSSA4",42,0)
 E  W !?9,"|",Y
"RTN","ONCOSSA4",43,0)
 Q
"RTN","ONCOSSA4",44,0)
PL1 ;setup line in C(
"RTN","ONCOSSA4",45,0)
 S X=$O(^TMP($J,"PLT",GRP,LN)),Z=$S(X="":INTS(GRP),1:^(X)\XADJ),NX(GRP)=Z
"RTN","ONCOSSA4",46,0)
 F C=IX(GRP):1:Z S C(C)=$S($D(C(C)):"*",1:$C(GRP+64))
"RTN","ONCOSSA4",47,0)
 I X=""&'$E(LMORT,GRP) S CASES(GRP)=0
"RTN","ONCOSSA4",48,0)
 E  S IX(GRP)=NX(GRP)
"RTN","ONCOSSA4",49,0)
 Q
"RTN","ONCOSSAT")
0^248^B12800639
"RTN","ONCOSSAT",1,0)
ONCOSSAT ;HInes OIFO/GWB - BEGIN SURVIVAL ANALYSIS ;9/30/93
"RTN","ONCOSSAT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSSAT",3,0)
 ;
"RTN","ONCOSSAT",4,0)
IN ;CALL SURVIAL ROUTINES
"RTN","ONCOSSAT",5,0)
 G ^ONCOSSA
"RTN","ONCOSSAT",6,0)
 ;
"RTN","ONCOSSAT",7,0)
SEX ;for reference only - NOT an Option entry point
"RTN","ONCOSSAT",8,0)
 K ONCOS
"RTN","ONCOSSAT",9,0)
 S ONCOS("F")="PRIMARY",ONCOS("T")="ALL"
"RTN","ONCOSSAT",10,0)
 S ONCOS("D")="SURVIVAL MONTHS^M^Y"
"RTN","ONCOSSAT",11,0)
 S ONCOS("S")="STATUS=""Dead""",ONCOS("G")="2"
"RTN","ONCOSSAT",12,0)
 S ONCOS("G",1)=".1^Males^VAL(.1)=""Male"""
"RTN","ONCOSSAT",13,0)
 S ONCOS("T")="ONCO-ANALYTIC"
"RTN","ONCOSSAT",14,0)
 S ONCOS("G",2)=".1^Females^VAL(.1)=""Female"""
"RTN","ONCOSSAT",15,0)
 S ONCOS("L")="PY" G DEV
"RTN","ONCOSSAT",16,0)
 ;
"RTN","ONCOSSAT",17,0)
 ;
"RTN","ONCOSSAT",18,0)
STG ;SURVIVAL BY STAGE GROUPS
"RTN","ONCOSSAT",19,0)
 K ONSOS D OV G EX:Y<0 S ONCOS("G")=4,ONCOS("G",1)="38.5^Stage I^VAL(38.5)=""I""",ONCOS("G",2)="38.5^Stage II^VAL(38.5)=""II""",ONCOS("G",3)="38.5^Stage III^VAL(38.5)=""III""",ONCOS("G",4)="38.5^Stage IV^VAL(38.5)=""IV""" G DEV
"RTN","ONCOSSAT",20,0)
 K ONCOS D OV S ONCOS("G")="1",ONCOS("G",1)=".01^Prostate^VAL(.01)=""PROSTATE""" G DEV
"RTN","ONCOSSAT",21,0)
 ;
"RTN","ONCOSSAT",22,0)
TX ;SURVIVAL BY TREATMENT
"RTN","ONCOSSAT",23,0)
 K ONCOS D OV G EX:Y<0
"RTN","ONCOSSAT",24,0)
 S ONCOS("G")=9
"RTN","ONCOSSAT",25,0)
 S ONCOS("G",1)="43^Surgery of primary site^VAL(43)=""SUR"""
"RTN","ONCOSSAT",26,0)
 S ONCOS("G",2)="43^Radiation^VAL(43)=""XRT"""
"RTN","ONCOSSAT",27,0)
 S ONCOS("G",3)="43^Chemotherapy^VAL(43)=""CMX"""
"RTN","ONCOSSAT",28,0)
 S ONCOS("G",4)="43^Hormone therapy^VAL(43)=""HOR"""
"RTN","ONCOSSAT",29,0)
 S ONCOS("G",5)="43^Immunotherapy^VAL(43)=""BRM"""
"RTN","ONCOSSAT",30,0)
 S ONCOS("G",6)="43^Hema Trans/Endocrine Proc^VAL(43)=""HEM"""
"RTN","ONCOSSAT",31,0)
 S ONCOS("G",7)="43^Other treatment^VAL(43)=""OTR"""
"RTN","ONCOSSAT",32,0)
 S ONCOS("G",8)="43^Combination treatment^($L(VAL(43))>3)&(VAL(43)'=""NONE"")"
"RTN","ONCOSSAT",33,0)
 S ONCOS("G",9)="43^No treatment^(VAL(43)=""NTX"")!(VAL(43)=""NONE"")"
"RTN","ONCOSSAT",34,0)
 G DEV
"RTN","ONCOSSAT",35,0)
 ;
"RTN","ONCOSSAT",36,0)
SP ;SURVIVAL BY SITE/(use Sex to get one curve)
"RTN","ONCOSSAT",37,0)
 W !!!,"Enter a package template name (beginning with ONCO) or your own"
"RTN","ONCOSSAT",38,0)
 W !,"template name below.",!
"RTN","ONCOSSAT",39,0)
 W !,"Search template names begin with ONCOS.  All other ONCO templates"
"RTN","ONCOSSAT",40,0)
 W !,"are sort templates.",!
"RTN","ONCOSSAT",41,0)
 W !,"If you select a sort template here, you will be prompted for a"
"RTN","ONCOSSAT",42,0)
 W !,"search template later.",!
"RTN","ONCOSSAT",43,0)
 K ONCOS D OV G EX:Y<0 S ONCOS("G")=1,ONCOS("G",1)=".1^VAL(.1)=""Male""",ONCOS("G",2)=".1^Females^VAL(.1)=""Female""" G DEV
"RTN","ONCOSSAT",44,0)
 ;
"RTN","ONCOSSAT",45,0)
DEV ;DEVICE SELECTION & TASKING
"RTN","ONCOSSAT",46,0)
 D ^ONCOSSA G EX
"RTN","ONCOSSAT",47,0)
ZIS K IO("Q") S %ZIS="Q" S:$D(ONCOS("I")) IOP=ONCOS("I") D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOSSAT",48,0)
NQ I '$D(IO("Q")) D ^ONCOSSA G EX
"RTN","ONCOSSAT",49,0)
 S ZTRTN="PRINT^ONCOSSA",ZTDESC="ONCOLOGY SURVIVAL"
"RTN","ONCOSSAT",50,0)
 S ZTSAVE("ONCOS*")="" D ^%ZTLOAD K ZTSK G EX
"RTN","ONCOSSAT",51,0)
ZT S ZTRTN="PRINT^ONCOSSA",ZTDESC="ONCOLOGY SURVIVAL",ZTSAVE("ONCOS*")="" D ^%ZTLOAD K ZTSK G EX
"RTN","ONCOSSAT",52,0)
 ;
"RTN","ONCOSSAT",53,0)
OV S ONCOS("FI")="165.5^ONCOLOGY PRIMARY^ONCO(165.5,",ONCOS("D")="SURVIVAL MONTHS^M^Y",ONCOS("L")="PY",ONCOS("S")="STATUS=""Dead"""
"RTN","ONCOSSAT",54,0)
 S DIC="^DIBT(",DIC("A")="     Select Template: ",DIC(0)="AEZ" D ^DIC Q:Y<0  S ONCOS("T")=$P(Y,U,2) W ONCOS("T")
"RTN","ONCOSSAT",55,0)
 W !!,?5,"REMINDER: Run Define Search Criteria option",!
"RTN","ONCOSSAT",56,0)
 W ?5,"to be sure selected entries are up-to-date!!",!!
"RTN","ONCOSSAT",57,0)
 S DIR("A")="Continue ",DIR("B")="Y",DIR(0)="Y" D ^DIR G EX:Y'=1
"RTN","ONCOSSAT",58,0)
 Q
"RTN","ONCOSSAT",59,0)
 ;
"RTN","ONCOSSAT",60,0)
EX ;Exit routine
"RTN","ONCOSSAT",61,0)
 K IOP,DIC,ONCOEX,ONCOS,%DT,%ZISOS,GIL,INT,%K,%T,FIL,T,TX D ^%ZISC Q
"RTN","ONCOSSAT",62,0)
 K FNAM,GBL,HLAB,OT,W,ROWDEF
"RTN","ONCOSSAT",63,0)
 Q
"RTN","ONCOST")
0^249^B2142434
"RTN","ONCOST",1,0)
ONCOST ;Hines OIFO/GWB Select ACCESSION YEAR time frame ;9/28/93
"RTN","ONCOST",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOST",3,0)
 ;
"RTN","ONCOST",4,0)
TF ;Select time frame
"RTN","ONCOST",5,0)
 N DIRUT K DIR
"RTN","ONCOST",6,0)
 S DIR("A")="     Select ACCESSION YEAR time frame"
"RTN","ONCOST",7,0)
 S DIR(0)="SO^1:All years;2:Range of years;3:One year"
"RTN","ONCOST",8,0)
 D ^DIR K DIR Q:$D(DIRUT)
"RTN","ONCOST",9,0)
Y S TF=Y
"RTN","ONCOST",10,0)
 S BYR=$O(^ONCO(165.5,"AY",0))
"RTN","ONCOST",11,0)
 S EYR=$O(^ONCO(165.5,"AY",""),-1)
"RTN","ONCOST",12,0)
 D AL:TF=1,RG:TF=2,AN:TF=3 G:(Y[U)!(Y="") EXIT
"RTN","ONCOST",13,0)
 I $D(ONCOT) S ONCOS("AF")=1
"RTN","ONCOST",14,0)
EXIT K DIR,BYR,EYR,TF,Y1,Y2,YR
"RTN","ONCOST",15,0)
 Q
"RTN","ONCOST",16,0)
 ;
"RTN","ONCOST",17,0)
AL ;All years
"RTN","ONCOST",18,0)
 S ONCOS("YR")="ALL"
"RTN","ONCOST",19,0)
 Q
"RTN","ONCOST",20,0)
 ;
"RTN","ONCOST",21,0)
RG ;Range of years
"RTN","ONCOST",22,0)
 N DIRUT,LY
"RTN","ONCOST",23,0)
 W !!?5,"Select range of years in format (YYYY-YYYY) e.g. 2006-2007",!
"RTN","ONCOST",24,0)
ST K DIR
"RTN","ONCOST",25,0)
 S DIR(0)="L^"_BYR_":"_EYR
"RTN","ONCOST",26,0)
 S DIR("A")="     Select range of years"
"RTN","ONCOST",27,0)
 D ^DIR Q:$D(DIRUT)
"RTN","ONCOST",28,0)
 S LY=$L(Y,","),Y1=$P(Y,","),Y2=$P(Y,",",LY-1)
"RTN","ONCOST",29,0)
 S ONCOS("YR")=Y1_U_Y2
"RTN","ONCOST",30,0)
 Q
"RTN","ONCOST",31,0)
 ;
"RTN","ONCOST",32,0)
AN ;One year
"RTN","ONCOST",33,0)
 N DIRUT
"RTN","ONCOST",34,0)
 W !
"RTN","ONCOST",35,0)
 S YR=$E(DT,1)+17_$E(DT,2,3)
"RTN","ONCOST",36,0)
 K DIR
"RTN","ONCOST",37,0)
 S DIR("A")="     Select ACCESSION YEAR"
"RTN","ONCOST",38,0)
 S DIR("B")=$S(YR=BYR:YR,1:YR-1)
"RTN","ONCOST",39,0)
 S DIR(0)="N^"_BYR_":"_EYR
"RTN","ONCOST",40,0)
 D ^DIR Q:$D(DIRUT)
"RTN","ONCOST",41,0)
 G AN:Y>YR,AN:Y'?1.N S ONCOS("YR")=Y_U_Y
"RTN","ONCOST",42,0)
 Q
"RTN","ONCOST1")
0^250^B7690763
"RTN","ONCOST1",1,0)
ONCOST1 ;WASH ISC/SRR,MLH-STATISTICS TIME FRAME (continued) ;12/15/99
"RTN","ONCOST1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOST1",3,0)
 ;
"RTN","ONCOST1",4,0)
SCT1 ;CALL 1 TO ONCOSCT
"RTN","ONCOST1",5,0)
 ;
"RTN","ONCOST1",6,0)
STG ;individual stage group/treatment
"RTN","ONCOST1",7,0)
 W @IOF,!!!?10,"This option will print cross-tabs for ALL ANALYTIC",!?10,"cases for TREATMENT by STAGE groups (I,II,III,IV)",!!!
"RTN","ONCOST1",8,0)
SZIS K IO("Q") S %ZIS="Q" S:$D(ONCOS("I")) IOP=ONCOS("I") D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOST1",9,0)
XG F G="I","II","III","IV" D GP
"RTN","ONCOST1",10,0)
 G EX
"RTN","ONCOST1",11,0)
GP F ONCOS("C")="GP-"_G_" AJCC SUMMARY STAGE","TREATMENT" D SET,TSK
"RTN","ONCOST1",12,0)
 Q
"RTN","ONCOST1",13,0)
SET S ONCOS("T")="ONCOS ANNUAL ANAL/STAGE "_G,ONCOS("F")="PRIMARY",ONCOS("R")=ROW,(ONCOS("Y"),ONCOS("N"))="",ONCOS("P")=1,ONCOS("H")=^DD("SITE")_" "_ONCOS("R")_"-"_ONCOS("C")
"RTN","ONCOST1",14,0)
 Q
"RTN","ONCOST1",15,0)
TSK D:'$D(IO("Q")) ^ONCOSCT I $D(IO("Q")) S ZTRTN="PRINT^ONCOSCT",ZTDESC="ONCOLOGY CROSS-TABS",ZTSAVE("ONCOS*")="",ZTDTH=$H D ^%ZTLOAD K ZTSK
"RTN","ONCOST1",16,0)
 Q
"RTN","ONCOST1",17,0)
 G EX
"RTN","ONCOST1",18,0)
 S ONCOS("C")="GP-"_G_" AJCC SUMMARY STAGE",ONCOS("T")="ONCOS ANNUAL ANAL/STAGE "_G,ONCOS("F")="PRIMARY",ONCOS("P")=1,(ONCOS("Y"),ONCOS("N"))="" G ZIS
"RTN","ONCOST1",19,0)
 ;
"RTN","ONCOST1",20,0)
 ;
"RTN","ONCOST1",21,0)
ZIS W !! K IO("Q") S %ZIS="Q" S:$D(ONCOS("I")) IOP=ONCOS("I") D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOST1",22,0)
NQ I '$D(IO("Q")) D ^ONCOSCT G EX
"RTN","ONCOST1",23,0)
ZT S ZTRTN="PRINT^ONCOSCT",ZTDESC="ONCOLOGY STATS"
"RTN","ONCOST1",24,0)
 S ZTSAVE("ONCOS*")="" D ^%ZTLOAD K ZTSK G EX
"RTN","ONCOST1",25,0)
JOB ; SET/RUN TEPLATES,RUN REPORTS
"RTN","ONCOST1",26,0)
 D TEM G EX
"RTN","ONCOST1",27,0)
TEM S XDA=$O(^DIBT("F165.5","ONCOS ANNUAL ANALYTIC",0)) Q:XDA'>0  K ^DIBT(XDA,1)
"RTN","ONCOST1",28,0)
G F G=0,"I","II","III","IV","U","NA" S XD0=$O(^DIBT("F165.5","ONCOS ANNUAL ANAL/STAGE "_G,0)) Q:XD0'>0  K ^DIBT(XD0,1) S XD(G)=XD0
"RTN","ONCOST1",29,0)
 S YR=ONCOYR,D0=0 F  S D0=$O(^ONCO(165.5,"AY",YR,D0)) Q:D0'>0  I $$DIV^ONCFUNC(D0)=DUZ(2),$P(^ONCO(165.5,D0,0),U,20)=1 S ^DIBT(XDA,1,D0)="",G=$P($G(^ONCO(165.5,D0,2)),U,28) I G'="" S ^DIBT(XD(G),1,D0)=""
"RTN","ONCOST1",30,0)
 S $P(^DIBT(XDA,0),U,2)=DT F G=0,"I","II","III","IV","U","NA" S $P(^DIBT(XD(G),0),U,2)=DT
"RTN","ONCOST1",31,0)
 Q
"RTN","ONCOST1",32,0)
 ;
"RTN","ONCOST1",33,0)
EX D ^%ZISC Q  ;EXIT
"RTN","ONCOSUR")
0^251^B60090941
"RTN","ONCOSUR",1,0)
ONCOSUR ;Hines OIFO/GWB - Surgery INPUT/OUTPUT TRANSFORMS/HELP ;06/23/10
"RTN","ONCOSUR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSUR",3,0)
 ;
"RTN","ONCOSUR",4,0)
 ;SURGICAL APPROACH (165.5,74)
"RTN","ONCOSUR",5,0)
SAIT ;INPUT
"RTN","ONCOSUR",6,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" K X Q
"RTN","ONCOSUR",7,0)
 I SCDXDT<2980000 D  I $D(X) S V=1 D NT^ONCODSR
"RTN","ONCOSUR",8,0)
 .K DIC S DIC="^ONCO(160.6," D ^DIC
"RTN","ONCOSUR",9,0)
 .I Y=-1 K X Q
"RTN","ONCOSUR",10,0)
 .S X=$P(Y,U,1) W "  ",$P(^ONCO(160.6,X,0),U,2)
"RTN","ONCOSUR",11,0)
 I SCDXDT>2971231 D
"RTN","ONCOSUR",12,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W "  No TOPOGRAPHY!" K X Q
"RTN","ONCOSUR",13,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" K X Q
"RTN","ONCOSUR",14,0)
 .;ROADS D-cxliii
"RTN","ONCOSUR",15,0)
 .I ($E(TOP,3,4)=76)!($E(TOP,3,4)=77)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCOSUR",16,0)
 .S FOUND=0
"RTN","ONCOSUR",17,0)
 .F XSA=0:0 S XSA=$O(^ONCO(164,ICD,"SUA",XSA)) Q:XSA'>0!(FOUND=1)  D
"RTN","ONCOSUR",18,0)
 ..I $P(^ONCO(164,ICD,"SUA",XSA,0),U,2)=X S X=XSA,FOUND=1 Q
"RTN","ONCOSUR",19,0)
 .I FOUND=0 K X Q
"RTN","ONCOSUR",20,0)
 .W "  ",$P(^ONCO(164,ICD,"SUA",X,0),U,1)
"RTN","ONCOSUR",21,0)
 I $D(X) S V=1 D NT^ONCODSR
"RTN","ONCOSUR",22,0)
 K SCDXDT,FOUND,ICD,TOP,XSA Q
"RTN","ONCOSUR",23,0)
 ;
"RTN","ONCOSUR",24,0)
SAOT ;OUTPUT
"RTN","ONCOSUR",25,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCOSUR",26,0)
 I SCDXDT<2980000 D
"RTN","ONCOSUR",27,0)
 .S:Y'="" Y=$P($G(^ONCO(160.6,Y,0)),U,2)
"RTN","ONCOSUR",28,0)
 I SCDXDT>2971231 D
"RTN","ONCOSUR",29,0)
 .Q:Y=""
"RTN","ONCOSUR",30,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" S Y="" Q
"RTN","ONCOSUR",31,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCOSUR",32,0)
 .;ROADS D-cxliii
"RTN","ONCOSUR",33,0)
 .I ($E(TOP,3,4)=76)!($E(TOP,3,4)=77)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCOSUR",34,0)
 .S Y=$P($G(^ONCO(164,ICD,"SUA",Y,0)),U,1)
"RTN","ONCOSUR",35,0)
 K SCDXDT,ICD,TOP Q
"RTN","ONCOSUR",36,0)
 ;
"RTN","ONCOSUR",37,0)
SAHP ;HELP
"RTN","ONCOSUR",38,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCOSUR",39,0)
 I SCDXDT<2980000 D
"RTN","ONCOSUR",40,0)
 .W !?3,"Select from the following list:"
"RTN","ONCOSUR",41,0)
 .F XSA=0:0 S XSA=$O(^ONCO(160.6,XSA)) Q:XSA'>0  W !?6,$P($G(^ONCO(160.6,XSA,0)),U,1),?12,$P($G(^ONCO(160.6,XSA,0)),U,2)
"RTN","ONCOSUR",42,0)
 I SCDXDT>2971231 D
"RTN","ONCOSUR",43,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W !,"No TOPOGRAPHY!" Q
"RTN","ONCOSUR",44,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" W !,"No ICD Codes!" Q
"RTN","ONCOSUR",45,0)
 .;ROADS D-cxliii
"RTN","ONCOSUR",46,0)
 .I ($E(TOP,3,4)=76)!($E(TOP,3,4)=77)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCOSUR",47,0)
 .W !?3,"Select from the following list:",!
"RTN","ONCOSUR",48,0)
 .F XSA=0:0 S XSA=$O(^ONCO(164,ICD,"SUA",XSA)) Q:XSA'>0  W !?6,$P($G(^ONCO(164,ICD,"SUA",XSA,0)),U,2),?12,$P($G(^ONCO(164,ICD,"SUA",XSA,0)),U,1)
"RTN","ONCOSUR",49,0)
 K SCDXDT,ICD,TOP,XSA Q
"RTN","ONCOSUR",50,0)
 ;
"RTN","ONCOSUR",51,0)
 ;SURGERY OF PRIMARY (R) (165.5,58.2)
"RTN","ONCOSUR",52,0)
 ;SURGERY OF PRIMARY (F) (165.5,58.6)
"RTN","ONCOSUR",53,0)
 ;
"RTN","ONCOSUR",54,0)
SPSIT ;INPUT TRANSFORM
"RTN","ONCOSUR",55,0)
 S NTXDD=$G(NTXDD) I NTXDD="" Q
"RTN","ONCOSUR",56,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOSUR",57,0)
 I TOP="" W "  No PRIMARY SITE" K X Q
"RTN","ONCOSUR",58,0)
 S ICD=""
"RTN","ONCOSUR",59,0)
 S SR=+X
"RTN","ONCOSUR",60,0)
 I $L(X)>2!(X'?1.N) K X Q
"RTN","ONCOSUR",61,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" K X Q
"RTN","ONCOSUR",62,0)
 I (TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424)!($E(TOP,3,4)=76)!(TOP=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) G FORDS1
"RTN","ONCOSUR",63,0)
 I SCDXDT<2980000,($G(FIELD)=58.2)!($G(FIELD)=50.2)!($G(FIELD)=58.6)!($G(FIELD)=58.7)!($G(FIELD)=.04) D CDSIT^ONCODSR Q:('$D(X))!($G(FIELD)=.04)  I NTXDD=1 S V="00" D NT^ONCODSR K SCDXDT Q
"RTN","ONCOSUR",64,0)
FORDS1 D
"RTN","ONCOSUR",65,0)
 .I X="00" S X=0
"RTN","ONCOSUR",66,0)
 .S HST14=$E($$GET1^DIQ(165.5,D0,22.1),1,4)
"RTN","ONCOSUR",67,0)
 .I $$HEMATO^ONCFUNC(D0) S ICD=67420
"RTN","ONCOSUR",68,0)
 .I ICD'=67420 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCOSUR",69,0)
 .;ROADS D-cxliii
"RTN","ONCOSUR",70,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCOSUR",71,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),TOP=67422 S ICD=67770
"RTN","ONCOSUR",72,0)
 .S FOUND=0
"RTN","ONCOSUR",73,0)
 .F XSP=0:0 S XSP=$O(^ONCO(164,ICD,"SPS",XSP)) Q:XSP'>0!(FOUND=1)  D
"RTN","ONCOSUR",74,0)
 ..I ($G(FIELD)=58.6)!($G(FIELD)=58.7),$P(^ONCO(164,ICD,"SPS",XSP,0),U,1)["ROADS" Q
"RTN","ONCOSUR",75,0)
 ..I $P(^ONCO(164,ICD,"SPS",XSP,0),U,2)=X S X=XSP,FOUND=1 Q
"RTN","ONCOSUR",76,0)
 .I FOUND=0 K X Q
"RTN","ONCOSUR",77,0)
 .W "  ",$P(^ONCO(164,ICD,"SPS",X,0),U,1)
"RTN","ONCOSUR",78,0)
 Q:$G(FIELD)=.04
"RTN","ONCOSUR",79,0)
 I $D(X),NTXDD=1 S V=1 D NT^ONCODSR Q
"RTN","ONCOSUR",80,0)
 K FOUND,HST14,ICD,SCDXDT,TOP,XSP
"RTN","ONCOSUR",81,0)
 Q
"RTN","ONCOSUR",82,0)
 ;
"RTN","ONCOSUR",83,0)
SPSOT ;OUTPUT TRANSFORM
"RTN","ONCOSUR",84,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" S Y="" Q
"RTN","ONCOSUR",85,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCOSUR",86,0)
 S ICD=""
"RTN","ONCOSUR",87,0)
 I (TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424)!($E(TOP,3,4)=76)!(TOP=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) G FORDS2
"RTN","ONCOSUR",88,0)
 I SCDXDT<2980000,($G(FIELD)=58.2)!($G(FIELD)=50.2)!($G(FIELD)=58.6)!($G(FIELD)=58.7)!($G(FIELD)=.04) D CDSOT^ONCODSR Q
"RTN","ONCOSUR",89,0)
FORDS2 D
"RTN","ONCOSUR",90,0)
 .Q:Y=""
"RTN","ONCOSUR",91,0)
 .S HST14=$E($$GET1^DIQ(165.5,D0,22.1),1,4)
"RTN","ONCOSUR",92,0)
 .I $$HEMATO^ONCFUNC(D0) S ICD=67420
"RTN","ONCOSUR",93,0)
 .I ICD'=67420 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCOSUR",94,0)
 .;ROADS D-cxliii
"RTN","ONCOSUR",95,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCOSUR",96,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),TOP=67422 S ICD=67770
"RTN","ONCOSUR",97,0)
 .S Y=$S($P($G(^ONCO(164,ICD,"SPS",Y,0)),U,2)=0:"0",1:"")_$P($G(^ONCO(164,ICD,"SPS",Y,0)),U,2)_" "_$P($G(^ONCO(164,ICD,"SPS",Y,0)),U,1)
"RTN","ONCOSUR",98,0)
 K HST14,ICD,SCDXDT,TOP
"RTN","ONCOSUR",99,0)
 Q
"RTN","ONCOSUR",100,0)
 ;
"RTN","ONCOSUR",101,0)
SPSHP ;HELP
"RTN","ONCOSUR",102,0)
 N SYSDIS
"RTN","ONCOSUR",103,0)
 S SYSDIS=""
"RTN","ONCOSUR",104,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W !,"No PRIMARY SITE" Q
"RTN","ONCOSUR",105,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCOSUR",106,0)
 I (TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424)!($E(TOP,3,4)=76)!(TOP=67809),($G(FIELD)=58.6)!($G(FIELD)=58.7) G FORDS3
"RTN","ONCOSUR",107,0)
 I SCDXDT<2980000,($G(FIELD)=58.2)!($G(FIELD)=50.2)!($G(FIELD)=58.6)!($G(FIELD)=58.7)!($G(FIELD)=.04) D HP1^ONCODSR Q
"RTN","ONCOSUR",108,0)
FORDS3 D
"RTN","ONCOSUR",109,0)
 .S (EX,CTR)=0
"RTN","ONCOSUR",110,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W !,"No TOPOGRAPHY!" Q
"RTN","ONCOSUR",111,0)
 .S HST14=$E($$GET1^DIQ(165.5,D0,22.1),1,4)
"RTN","ONCOSUR",112,0)
 .I $$HEMATO^ONCFUNC(D0) S ICD=67420,SYSDIS=1
"RTN","ONCOSUR",113,0)
 .I SYSDIS="" S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" W !,"No ICD Codes!" Q
"RTN","ONCOSUR",114,0)
 .;ROADS D-cxliii
"RTN","ONCOSUR",115,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCOSUR",116,0)
 .I ($G(FIELD)=58.2)!($G(FIELD)=50.2),TOP=67422 S ICD=67770
"RTN","ONCOSUR",117,0)
 .I $G(SYSDIS)=1 W !?3,"SURGICAL PROCEDURE codes for systemic disease: ",!
"RTN","ONCOSUR",118,0)
 .E  W !?3,"SURGICAL PROCEDURE codes for site ",$P($G(^ONCO(164,TOP,0)),U,2)," ",$P($G(^ONCO(164,TOP,0)),U,1),": ",!
"RTN","ONCOSUR",119,0)
 .S XSP="" F  S XSP=$O(^ONCO(164,ICD,"SPS","C",XSP)) Q:XSP=""  S SPSIEN=$O(^ONCO(164,ICD,"SPS","C",XSP,0)) D  Q:EX=U
"RTN","ONCOSUR",120,0)
 ..S CTR=CTR+1 I CTR#20=0 D P Q:EX=U
"RTN","ONCOSUR",121,0)
 ..I $P($G(^ONCO(164,ICD,"SPS",SPSIEN,0)),U,2)=0 W !?6,"00",?12,$P($G(^ONCO(164,ICD,"SPS",SPSIEN,0)),U,1) Q
"RTN","ONCOSUR",122,0)
 ..I ($G(FIELD)=58.6)!($G(FIELD)=58.7),$P($G(^ONCO(164,ICD,"SPS",SPSIEN,0)),U,1)["ROADS" Q
"RTN","ONCOSUR",123,0)
 ..W !?6,$P($G(^ONCO(164,ICD,"SPS",SPSIEN,0)),U,2),?12,$P($G(^ONCO(164,ICD,"SPS",SPSIEN,0)),U,1)
"RTN","ONCOSUR",124,0)
 W !
"RTN","ONCOSUR",125,0)
 K CTR,EX,HST14,ICD,SCDXDT,SPSIEN,TOP,XSP
"RTN","ONCOSUR",126,0)
 Q
"RTN","ONCOSUR",127,0)
 ;
"RTN","ONCOSUR",128,0)
P D  Q:EX=U  W !
"RTN","ONCOSUR",129,0)
 .W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCOSUR",130,0)
 Q
"RTN","ONCOSUR",131,0)
 ;
"RTN","ONCOSUR",132,0)
SMIT ;SURGICAL MARGINS (165.5,59) INPUT
"RTN","ONCOSUR",133,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" K X Q
"RTN","ONCOSUR",134,0)
 I SCDXDT<2980000 D  I $D(X) S V=8 D NT^ONCODSR Q
"RTN","ONCOSUR",135,0)
 .I X>2,X<8 K X Q
"RTN","ONCOSUR",136,0)
 .W "  ",$S(X=0:"No residual tumor",X=1:"Microscopic residual tumor",X=2:"Macroscopic residual tumor",X=8:"Not applicable",X=9:"Unknown",1:"")
"RTN","ONCOSUR",137,0)
 I SCDXDT>2971231 D
"RTN","ONCOSUR",138,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W "  No TOPOGRAPHY!" K X Q
"RTN","ONCOSUR",139,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" K X Q
"RTN","ONCOSUR",140,0)
 .S FOUND=0
"RTN","ONCOSUR",141,0)
 .F XSM=0:0 S XSM=$O(^ONCO(164,ICD,"SM5",XSM)) Q:XSM'>0!(FOUND=1)  D
"RTN","ONCOSUR",142,0)
 ..I $P(^ONCO(164,ICD,"SM5",XSM,0),U,2)=X S X=XSM,FOUND=1 Q
"RTN","ONCOSUR",143,0)
 .I FOUND=0 K X Q
"RTN","ONCOSUR",144,0)
 .W "  ",$P(^ONCO(164,ICD,"SM5",X,0),U,1)
"RTN","ONCOSUR",145,0)
 I $D(X) S V=6 D NT^ONCODSR
"RTN","ONCOSUR",146,0)
 K SCDXDT,FOUND,ICD,TOP,XSM Q
"RTN","ONCOSUR",147,0)
 ;
"RTN","ONCOSUR",148,0)
SMOT ;OUTPUT
"RTN","ONCOSUR",149,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCOSUR",150,0)
 I SCDXDT<2980000 D
"RTN","ONCOSUR",151,0)
 .S Y=$S(Y=0:"0 No residual tumor",Y=1:"1 Microscopic residual tumor",Y=2:"2 Macroscopic residual tumor",Y=8:"8 Not applicable",Y=9:"9 Unknown",1:"")
"RTN","ONCOSUR",152,0)
 I SCDXDT>2971231 D
"RTN","ONCOSUR",153,0)
 .Q:Y=""
"RTN","ONCOSUR",154,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" S Y="" Q
"RTN","ONCOSUR",155,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCOSUR",156,0)
 .S Y=$P($G(^ONCO(164,ICD,"SM5",Y,0)),U,2)_" "_$P($G(^ONCO(164,ICD,"SM5",Y,0)),U,1)
"RTN","ONCOSUR",157,0)
 K SCDXDT,ICD,TOP Q
"RTN","ONCOSUR",158,0)
 ;
"RTN","ONCOSUR",159,0)
SMHP ;HELP
"RTN","ONCOSUR",160,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCOSUR",161,0)
 I SCDXDT<2980000 D
"RTN","ONCOSUR",162,0)
 .W !?3,"Select from the following list:"
"RTN","ONCOSUR",163,0)
 .W !?6,"0",?12,"No residual tumor"
"RTN","ONCOSUR",164,0)
 .W !?6,"1",?12,"Microscopic residual tumor"
"RTN","ONCOSUR",165,0)
 .W !?6,"2",?12,"Macroscopic residual tumor"
"RTN","ONCOSUR",166,0)
 .W !?6,"8",?12,"Not applicable"
"RTN","ONCOSUR",167,0)
 .W !?6,"9",?12,"Unknown"
"RTN","ONCOSUR",168,0)
 I SCDXDT>2971231 D
"RTN","ONCOSUR",169,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W !,"No TOPOGRAPHY!" Q
"RTN","ONCOSUR",170,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" W !,"No ICD Codes!" Q
"RTN","ONCOSUR",171,0)
 .W !?3,"Select from the following list:",!
"RTN","ONCOSUR",172,0)
 .F XSM=0:0 S XSM=$O(^ONCO(164,ICD,"SM5",XSM)) Q:XSM'>0  W !?6,$P($G(^ONCO(164,ICD,"SM5",XSM,0)),U,2),?12,$P($G(^ONCO(164,ICD,"SM5",XSM,0)),U,1)
"RTN","ONCOSUR",173,0)
 K SCDXDT,ICD,TOP,XSM Q
"RTN","ONCOSUR",174,0)
 ;
"RTN","ONCOSUR",175,0)
CLEANUP ;Cleanup
"RTN","ONCOSUR",176,0)
 K D0,FIELD,NTXDD,SR,V,Y
"RTN","ONCOSUR1")
0^252^B36834583
"RTN","ONCOSUR1",1,0)
ONCOSUR1 ;Hines OIFO/RTK - ONCOSUR continued ;06/23/10
"RTN","ONCOSUR1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSUR1",3,0)
 ;
"RTN","ONCOSUR1",4,0)
COCIT ;CLASS OF CASE (165.5,.04) INPUT TRANSFORM
"RTN","ONCOSUR1",5,0)
 ;If CLASS OF CASE is changed, delete the existing @FAC fields
"RTN","ONCOSUR1",6,0)
 N OLDCOC,PIECE
"RTN","ONCOSUR1",7,0)
 S OLDCOC=$P($G(^ONCO(165.5,D0,0)),U,4) I OLDCOC="" Q
"RTN","ONCOSUR1",8,0)
 I OLDCOC=X Q
"RTN","ONCOSUR1",9,0)
 I ((OLDCOC=2)!(OLDCOC=3)!(OLDCOC=4)!(OLDCOC=5)!(OLDCOC=6)!(OLDCOC=7)!(OLDCOC=8)!(OLDCOC=9))&((X=2)!(X=3)!(X=4)!(X=5)!(X=6)!(X=7)!(X=8)!(X=9)) Q
"RTN","ONCOSUR1",10,0)
 I ((OLDCOC=1)!(OLDCOC=10)!(OLDCOC=11)!(OLDCOC=12)!(OLDCOC=13)!(OLDCOC=19)!(OLDCOC=20))&((X=1)!(X=10)!(X=11)!(X=12)!(X=13)!(X=19)!(X=20)) Q
"RTN","ONCOSUR1",11,0)
 F PIECE=5:1:21 S $P(^ONCO(165.5,D0,3.1),U,PIECE)=""
"RTN","ONCOSUR1",12,0)
 S $P(^ONCO(165.5,D0,3.1),U,23)=""
"RTN","ONCOSUR1",13,0)
 S $P(^ONCO(165.5,D0,3.1),U,25)=""
"RTN","ONCOSUR1",14,0)
 S $P(^ONCO(165.5,D0,3.1),U,30)=""
"RTN","ONCOSUR1",15,0)
 S $P(^ONCO(165.5,D0,3.1),U,32)=""
"RTN","ONCOSUR1",16,0)
 S $P(^ONCO(165.5,D0,3.1),U,34)=""
"RTN","ONCOSUR1",17,0)
 W !
"RTN","ONCOSUR1",18,0)
 W !?3,"You have changed the CLASS OF CASE.  This change may affect"
"RTN","ONCOSUR1",19,0)
 W !?3,"the validity of the @FAC (at this facility) fields.  Therefore,"
"RTN","ONCOSUR1",20,0)
 W !?3,"these fields have been initialized and need to be re-entered:"
"RTN","ONCOSUR1",21,0)
 W !
"RTN","ONCOSUR1",22,0)
 Q
"RTN","ONCOSUR1",23,0)
 ;
"RTN","ONCOSUR1",24,0)
TOPIT ;PRIMARY SITE (165.5,20) INPUT TRANSFORM
"RTN","ONCOSUR1",25,0)
 ;If PRIMARY SITE is changed, delete site-specific fields
"RTN","ONCOSUR1",26,0)
 N MSSG,NOS,OLDTOP
"RTN","ONCOSUR1",27,0)
 I X=67999 K X D  Q
"RTN","ONCOSUR1",28,0)
 .W !!,"     UNKNOWN C99.9 is not allowed.  It is for"
"RTN","ONCOSUR1",29,0)
 .W !,"     1997 Non-Hodgkin's Lymphoma PCE use only."
"RTN","ONCOSUR1",30,0)
 .W !,"     (Item 12. Personal History of Any Cancer)"
"RTN","ONCOSUR1",31,0)
 .W !,"     Use UNKNOWN PRIMARY C80.9",!
"RTN","ONCOSUR1",32,0)
 I X=67888 K X D  Q
"RTN","ONCOSUR1",33,0)
 .W !!,"     NA C88.8 is not allowed.  It is for"
"RTN","ONCOSUR1",34,0)
 .W !,"     1997 Non-Hodgkin's Lymphoma PCE use only."
"RTN","ONCOSUR1",35,0)
 .W !,"     (Item 12. Personal History of Any Cancer)",!
"RTN","ONCOSUR1",36,0)
 S OLDTOP=$P($G(^ONCO(165.5,D0,2)),U,1) I OLDTOP="" Q
"RTN","ONCOSUR1",37,0)
 S MSSG=0
"RTN","ONCOSUR1",38,0)
 I X=OLDTOP Q
"RTN","ONCOSUR1",39,0)
 S $P(^ONCO(165.5,D0,8),U,1)=""
"RTN","ONCOSUR1",40,0)
 S $P(^ONCO(165.5,D0,"CS3"),U,1)=""
"RTN","ONCOSUR1",41,0)
 D ^ONCOSUR2
"RTN","ONCOSUR1",42,0)
 S TOP=X,TOPCOD="",TOPNAM=""
"RTN","ONCOSUR1",43,0)
 I TOP'="" D
"RTN","ONCOSUR1",44,0)
 .S TOPNAM=$P(^ONCO(164,TOP,0),U,1)
"RTN","ONCOSUR1",45,0)
 .S TOPCOD=$P(^ONCO(164,TOP,0),U,2)
"RTN","ONCOSUR1",46,0)
 .S SITTAB=79-$L($G(SITEGP)),TOPTAB=79-$L(TOPNAM_" "_TOPCOD)
"RTN","ONCOSUR1",47,0)
 .S NOS=TOPTAB-$L($G(PATNAM)),NOS=NOS-1
"RTN","ONCOSUR1",48,0)
 .K SPACES S $P(SPACES," ",NOS)=" "
"RTN","ONCOSUR1",49,0)
 Q
"RTN","ONCOSUR1",50,0)
 ;
"RTN","ONCOSUR1",51,0)
SCIT ;SCOPE OF LN SURGERY (R) (165.5,138) INPUT TRANSFORM
"RTN","ONCOSUR1",52,0)
 N FOUND,ICD,TOP,XSC
"RTN","ONCOSUR1",53,0)
 Q:$G(NTXDD)=""
"RTN","ONCOSUR1",54,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" K X Q
"RTN","ONCOSUR1",55,0)
 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" K X Q
"RTN","ONCOSUR1",56,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCOSUR1",57,0)
 ;see ROADS page D-cxliii
"RTN","ONCOSUR1",58,0)
 I ($G(FIELD)=138)!($G(FIELD)=138.1),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141 K FIELD
"RTN","ONCOSUR1",59,0)
 S FOUND=0
"RTN","ONCOSUR1",60,0)
 F XSC=0:0 S XSC=$O(^ONCO(164,ICD,"SC5",XSC)) Q:(XSC'>0)!(FOUND=1)  D
"RTN","ONCOSUR1",61,0)
 .I $P(^ONCO(164,ICD,"SC5",XSC,0),U,2)=X S X=XSC,FOUND=1
"RTN","ONCOSUR1",62,0)
 I FOUND=0 K X Q
"RTN","ONCOSUR1",63,0)
 W "  ",$P(^ONCO(164,ICD,"SC5",X,0),U,1)
"RTN","ONCOSUR1",64,0)
 I $D(X),NTXDD=1 S V=0 D NT^ONCODSR
"RTN","ONCOSUR1",65,0)
 K NTXDD
"RTN","ONCOSUR1",66,0)
 Q
"RTN","ONCOSUR1",67,0)
 ;
"RTN","ONCOSUR1",68,0)
SCOT ;SCOPE OF LN SURGERY (R) (165.5,138) OUTPUT TRANSFORM
"RTN","ONCOSUR1",69,0)
 N ICD,TOP
"RTN","ONCOSUR1",70,0)
 Q:Y=""
"RTN","ONCOSUR1",71,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" S Y="" Q
"RTN","ONCOSUR1",72,0)
 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCOSUR1",73,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCOSUR1",74,0)
 ;see ROADS page D-cxliii
"RTN","ONCOSUR1",75,0)
 I ($G(FIELD)=138)!($G(FIELD)=138.1),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141 K FIELD
"RTN","ONCOSUR1",76,0)
 S Y=$P($G(^ONCO(164,ICD,"SC5",Y,0)),U,1)
"RTN","ONCOSUR1",77,0)
 Q
"RTN","ONCOSUR1",78,0)
 ;
"RTN","ONCOSUR1",79,0)
SCHP ;SCOPE OF LN SURGERY (R) (165.5,138) HELP
"RTN","ONCOSUR1",80,0)
 N ICD,TOP,XSC
"RTN","ONCOSUR1",81,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" Q
"RTN","ONCOSUR1",82,0)
 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" Q
"RTN","ONCOSUR1",83,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCOSUR1",84,0)
 ;see ROADS page D-cxliii
"RTN","ONCOSUR1",85,0)
 I ($G(FIELD)=138)!($G(FIELD)=138.1),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141 K FIELD
"RTN","ONCOSUR1",86,0)
 W !?3,"Choose from:"
"RTN","ONCOSUR1",87,0)
 F XSC=0:0 S XSC=$O(^ONCO(164,ICD,"SC5",XSC)) Q:XSC'>0  W !?3,$P($G(^ONCO(164,ICD,"SC5",XSC,0)),U,2),?12,$P($G(^ONCO(164,ICD,"SC5",XSC,0)),U,1)
"RTN","ONCOSUR1",88,0)
 W !
"RTN","ONCOSUR1",89,0)
 Q
"RTN","ONCOSUR1",90,0)
 ;
"RTN","ONCOSUR1",91,0)
SOIT ;SURG PROC/OTHER SITE (R) (165.5,139) INPUT TRANSFORM
"RTN","ONCOSUR1",92,0)
 N FOUND,ICD,TOP,XSO
"RTN","ONCOSUR1",93,0)
 Q:$G(NTXDD)=""
"RTN","ONCOSUR1",94,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" K X Q
"RTN","ONCOSUR1",95,0)
 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" K X Q
"RTN","ONCOSUR1",96,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCOSUR1",97,0)
 ;see ROADS page D-cxliii
"RTN","ONCOSUR1",98,0)
 I ($G(FIELD)=139)!($G(FIELD)=139.1),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141 K FIELD
"RTN","ONCOSUR1",99,0)
 S FOUND=0
"RTN","ONCOSUR1",100,0)
 F XSO=0:0 S XSO=$O(^ONCO(164,ICD,"SO5",XSO)) Q:(XSO'>0)!(FOUND=1)  D
"RTN","ONCOSUR1",101,0)
 .I $P(^ONCO(164,ICD,"SO5",XSO,0),U,2)=X S X=XSO,FOUND=1 Q
"RTN","ONCOSUR1",102,0)
 I FOUND=0 K X Q
"RTN","ONCOSUR1",103,0)
 W "  ",$P(^ONCO(164,ICD,"SO5",X,0),U,1)
"RTN","ONCOSUR1",104,0)
 I $D(X),NTXDD=1 S V=0 D NT^ONCODSR
"RTN","ONCOSUR1",105,0)
 K NTXDD
"RTN","ONCOSUR1",106,0)
 Q
"RTN","ONCOSUR1",107,0)
 ;
"RTN","ONCOSUR1",108,0)
SOOT ;SURG PROC/OTHER SITE (R) (165.5,139) OUTPUT TRANSFORM
"RTN","ONCOSUR1",109,0)
 N ICD,TOP
"RTN","ONCOSUR1",110,0)
 Q:Y=""
"RTN","ONCOSUR1",111,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" S Y="" Q
"RTN","ONCOSUR1",112,0)
 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCOSUR1",113,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCOSUR1",114,0)
 ;see ROADS page D-cxliii
"RTN","ONCOSUR1",115,0)
 I ($G(FIELD)=139)!($G(FIELD)=139.1),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141 K FIELD
"RTN","ONCOSUR1",116,0)
 S Y=$P($G(^ONCO(164,ICD,"SO5",Y,0)),U,1)
"RTN","ONCOSUR1",117,0)
 Q
"RTN","ONCOSUR1",118,0)
 ;
"RTN","ONCOSUR1",119,0)
SOHP ;SURG PROC/OTHER SITE (R) (165.5,139) HELP
"RTN","ONCOSUR1",120,0)
 N ICD,TOP,XSO
"RTN","ONCOSUR1",121,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" Q
"RTN","ONCOSUR1",122,0)
 S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" Q
"RTN","ONCOSUR1",123,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCOSUR1",124,0)
 ;see ROADS page D-cxliii
"RTN","ONCOSUR1",125,0)
 I ($G(FIELD)=139)!($G(FIELD)=139.1),($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141 K FIELD
"RTN","ONCOSUR1",126,0)
 W !?3,"Choose from:"
"RTN","ONCOSUR1",127,0)
 F XSO=0:0 S XSO=$O(^ONCO(164,ICD,"SO5",XSO)) Q:XSO'>0  W !?3,$P($G(^ONCO(164,ICD,"SO5",XSO,0)),U,2),?12,$P($G(^ONCO(164,ICD,"SO5",XSO,0)),U,1)
"RTN","ONCOSUR1",128,0)
 W !
"RTN","ONCOSUR1",129,0)
 Q
"RTN","ONCOSUR1",130,0)
 ;
"RTN","ONCOSUR1",131,0)
NRIT ;NUMBER OF LN REMOVED (R) (165.5,140) INPUT TRANSFORM
"RTN","ONCOSUR1",132,0)
 Q:$G(NTXDD)=""
"RTN","ONCOSUR1",133,0)
 S X=+X
"RTN","ONCOSUR1",134,0)
 I $L(X)=1 S X="0"_X
"RTN","ONCOSUR1",135,0)
 I X="00" W "  No nodes removed"
"RTN","ONCOSUR1",136,0)
 I X=90 W "  90 or more nodes removed"
"RTN","ONCOSUR1",137,0)
 I X=95 W "  No nodes removed, aspiration performed"
"RTN","ONCOSUR1",138,0)
 I X=96 W "  Node removal as a sampling, number unknown"
"RTN","ONCOSUR1",139,0)
 I X=97 W "  Node removal as dissection, number unknown"
"RTN","ONCOSUR1",140,0)
 I X=98 W "  Nodes surgically removed, number unknown"
"RTN","ONCOSUR1",141,0)
 I X=99 W "  Unknown, not stated, death cert ONLY"
"RTN","ONCOSUR1",142,0)
 I $D(X),NTXDD=1 S V=0 D NT^ONCODSR
"RTN","ONCOSUR1",143,0)
 K NTXDD
"RTN","ONCOSUR1",144,0)
 Q
"RTN","ONCOSUR1",145,0)
 ;
"RTN","ONCOSUR1",146,0)
NROT ;NUMBER OF LN REMOVED (R) (165.5,140) OUTPUT TRANSFORM
"RTN","ONCOSUR1",147,0)
 Q:Y=""
"RTN","ONCOSUR1",148,0)
 S Y=+Y
"RTN","ONCOSUR1",149,0)
 I Y=0 S Y="No nodes removed"
"RTN","ONCOSUR1",150,0)
 I ((Y>0)&(Y<90))!((Y>90)&(Y<95)) S:$L(Y)=1 Y=0_Y
"RTN","ONCOSUR1",151,0)
 I Y=90 S Y="90 or more nodes removed"
"RTN","ONCOSUR1",152,0)
 I Y=95 S Y="No nodes removed, aspiration performed"
"RTN","ONCOSUR1",153,0)
 I Y=96 S Y="Node removal as a sampling, number unknown"
"RTN","ONCOSUR1",154,0)
 I Y=97 S Y="Node removal as dissection, number unknown"
"RTN","ONCOSUR1",155,0)
 I Y=98 S Y="Nodes surgically removed, number unknown"
"RTN","ONCOSUR1",156,0)
 I Y=99 S Y="Unknown, not stated, death cert ONLY"
"RTN","ONCOSUR1",157,0)
 Q
"RTN","ONCOSUR1",158,0)
 ;
"RTN","ONCOSUR1",159,0)
CLEANUP ;Cleanup
"RTN","ONCOSUR1",160,0)
 K D0,PATNAM,SITEGP,SITTAB,TOPCOD,TOPNAM,TOPTAB,V,Y
"RTN","ONCOSUR2")
0^253^B46917344
"RTN","ONCOSUR2",1,0)
ONCOSUR2 ;Hines OIFO/RTK - ONCOSUR continued ;10/31/11
"RTN","ONCOSUR2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOSUR2",3,0)
 ;
"RTN","ONCOSUR2",4,0)
 D TMK,EXT,LYM,TNM,CS,SUR,SCT,PM W !
"RTN","ONCOSUR2",5,0)
 Q
"RTN","ONCOSUR2",6,0)
 ;
"RTN","ONCOSUR2",7,0)
TMK ;TUMOR MARKER 1 (165.5,25.1)
"RTN","ONCOSUR2",8,0)
 ;TUMOR MARKER 2 (165.5,25.2)
"RTN","ONCOSUR2",9,0)
 ;TUMOR MARKER 3 (165.5,25.3)
"RTN","ONCOSUR2",10,0)
 N SITE,SITESUB
"RTN","ONCOSUR2",11,0)
 F SITESUB=67500:1:67509 S SITE(SITESUB)="BREAST"
"RTN","ONCOSUR2",12,0)
 F SITESUB=67180:1:67189 S SITE(SITESUB)="COLORECTAL"
"RTN","ONCOSUR2",13,0)
 S SITE(67199)="COLORECTAL"
"RTN","ONCOSUR2",14,0)
 S SITE(67220)="LIVER"
"RTN","ONCOSUR2",15,0)
 S SITE(67221)="LIVER"
"RTN","ONCOSUR2",16,0)
 S SITE(67569)="OVARY"
"RTN","ONCOSUR2",17,0)
 S SITE(67619)="PROSTATE"
"RTN","ONCOSUR2",18,0)
 S SITE(67620)="TESTIS"
"RTN","ONCOSUR2",19,0)
 S SITE(67621)="TESTIS"
"RTN","ONCOSUR2",20,0)
 S SITE(67629)="TESTIS"
"RTN","ONCOSUR2",21,0)
 I $G(SITE(OLDTOP))=$G(SITE(X)) Q
"RTN","ONCOSUR2",22,0)
 D MESSAGE
"RTN","ONCOSUR2",23,0)
 W !?5,"TUMOR MARKERS"
"RTN","ONCOSUR2",24,0)
 S $P(^ONCO(165.5,D0,24),U,2)=""
"RTN","ONCOSUR2",25,0)
 S $P(^ONCO(165.5,D0,24),U,3)=""
"RTN","ONCOSUR2",26,0)
 S $P(^ONCO(165.5,D0,24),U,7)=""
"RTN","ONCOSUR2",27,0)
 Q
"RTN","ONCOSUR2",28,0)
 ;
"RTN","ONCOSUR2",29,0)
EXT ;EXTENSION (165.5,30)
"RTN","ONCOSUR2",30,0)
 N NEWEXT,OLDEXT,ONCOT,ONCOX
"RTN","ONCOSUR2",31,0)
 S ONCOX="E",ONCOT=OLDTOP S OLDEXT=$$GETLIST^ONCODEL(D0,ONCOX,ONCOT)
"RTN","ONCOSUR2",32,0)
 S ONCOX="E",ONCOT=X S NEWEXT=$$GETLIST^ONCODEL(D0,ONCOX,ONCOT)
"RTN","ONCOSUR2",33,0)
 I OLDEXT=NEWEXT Q
"RTN","ONCOSUR2",34,0)
 D MESSAGE
"RTN","ONCOSUR2",35,0)
 W !?5,"EXTENSION"
"RTN","ONCOSUR2",36,0)
 S $P(^ONCO(165.5,D0,2),U,10)=""
"RTN","ONCOSUR2",37,0)
 Q
"RTN","ONCOSUR2",38,0)
 ;
"RTN","ONCOSUR2",39,0)
LYM ;LYMPH NODES (165.5,31)
"RTN","ONCOSUR2",40,0)
 N NEWLYM,OLDLYM,ONCOT,ONCOX
"RTN","ONCOSUR2",41,0)
 S ONCOX="L",ONCOT=OLDTOP S OLDLYM=$$GETLIST^ONCODEL(D0,ONCOX,ONCOT)
"RTN","ONCOSUR2",42,0)
 S ONCOX="L",ONCOT=X S NEWLYM=$$GETLIST^ONCODEL(D0,ONCOX,ONCOT)
"RTN","ONCOSUR2",43,0)
 I OLDLYM=NEWLYM Q
"RTN","ONCOSUR2",44,0)
 D MESSAGE
"RTN","ONCOSUR2",45,0)
 W !?5,"LYMPH NODES"
"RTN","ONCOSUR2",46,0)
 S $P(^ONCO(165.5,D0,2),U,11)=""
"RTN","ONCOSUR2",47,0)
 Q
"RTN","ONCOSUR2",48,0)
 ;
"RTN","ONCOSUR2",49,0)
TNM ;CLINICAL STAGING
"RTN","ONCOSUR2",50,0)
 ;PATHOLOGIC STAGING
"RTN","ONCOSUR2",51,0)
 N NEWTNM,OLDTNM
"RTN","ONCOSUR2",52,0)
 S OLDTNM=$P($G(^ONCO(164,OLDTOP,0)),U,11) I OLDTNM="" Q
"RTN","ONCOSUR2",53,0)
 S NEWTNM=$P($G(^ONCO(164,X,0)),U,11) I NEWTNM="" Q
"RTN","ONCOSUR2",54,0)
 I OLDTNM=NEWTNM Q
"RTN","ONCOSUR2",55,0)
 D MESSAGE
"RTN","ONCOSUR2",56,0)
 W !?5,"CLINICAL STAGING",?36,"(all fields)"
"RTN","ONCOSUR2",57,0)
 W !?5,"PATHOLOGIC STAGING",?36,"(all fields)"
"RTN","ONCOSUR2",58,0)
 S $P(^ONCO(165.5,D0,2),U,25)=""   ;37.1 ;CLINICAL T
"RTN","ONCOSUR2",59,0)
 S $P(^ONCO(165.5,D0,2),U,26)=""   ;37.2 ;CLINICAL N
"RTN","ONCOSUR2",60,0)
 S $P(^ONCO(165.5,D0,2),U,27)=""   ;37.3 ;CLINICAL M
"RTN","ONCOSUR2",61,0)
 S $P(^ONCO(165.5,D0,2),U,20)=""   ;38   ;CLINICAL STAGE GROUP
"RTN","ONCOSUR2",62,0)
 S $P(^ONCO(165.5,D0,3),U,32)=""   ;19   ;STAGED BY (CLINICAL STAGE)
"RTN","ONCOSUR2",63,0)
 S $P(^ONCO(165.5,D0,2.1),U,12)="" ;134  ;CLINICAL RISK FACTORS
"RTN","ONCOSUR2",64,0)
 S $P(^ONCO(165.5,D0,24),U,8)=""   ;136  ;SERUM TUMOR MARKERS
"RTN","ONCOSUR2",65,0)
 S $P(^ONCO(165.5,D0,2.1),U,1)=""  ;85   ;PATHOLOGIC T
"RTN","ONCOSUR2",66,0)
 S $P(^ONCO(165.5,D0,2.1),U,2)=""  ;86   ;PATHOLOGIC N
"RTN","ONCOSUR2",67,0)
 S $P(^ONCO(165.5,D0,2.1),U,3)=""  ;87   ;PATHOLOGIC M
"RTN","ONCOSUR2",68,0)
 S $P(^ONCO(165.5,D0,2.1),U,4)=""  ;88   ;PATHOLOGIC STAGE GROUP
"RTN","ONCOSUR2",69,0)
 S $P(^ONCO(165.5,D0,2.1),U,5)=""  ;89   ;STAGED BY (PATHOLOGIC STAGE)
"RTN","ONCOSUR2",70,0)
 S $P(^ONCO(165.5,D0,2.1),U,13)="" ;135  ;PATHOLOGIC RISK FACTORS
"RTN","ONCOSUR2",71,0)
 S $P(^ONCO(165.5,D0,24),U,5)=""   ;30.5 ;PERIPHERAL BLOOD INVOLVEMENT
"RTN","ONCOSUR2",72,0)
 Q
"RTN","ONCOSUR2",73,0)
 ;
"RTN","ONCOSUR2",74,0)
SUR ;SURGICAL PROCEDURES
"RTN","ONCOSUR2",75,0)
 N NEWSCG,OLDSCG,TXDT
"RTN","ONCOSUR2",76,0)
 S OLDSCG=$P($G(^ONCO(164,OLDTOP,0)),U,16) I OLDSCG="" Q
"RTN","ONCOSUR2",77,0)
 S NEWSCG=$P($G(^ONCO(164,X,0)),U,16) I NEWSCG="" Q
"RTN","ONCOSUR2",78,0)
 I OLDSCG=NEWSCG Q
"RTN","ONCOSUR2",79,0)
 D MESSAGE
"RTN","ONCOSUR2",80,0)
 W !?5,"SURGICAL PROCEDURES",?36,"(all fields)"
"RTN","ONCOSUR2",81,0)
 ;
"RTN","ONCOSUR2",82,0)
 S $P(^ONCO(165.5,D0,3),U,34)=""      ;74   ;SURGICAL APPROACH (R) 
"RTN","ONCOSUR2",83,0)
 S $P(^ONCO(165.5,D0,3),U,38)=""      ;58.2 ;SURGERY OF PRIMARY (R) 
"RTN","ONCOSUR2",84,0)
 S $P(^ONCO(165.5,D0,3.1),U,7)=""     ;50.2 ;SURGERY OF PRIMARY @FAC (R)
"RTN","ONCOSUR2",85,0)
 S $P(^ONCO(165.5,DA,3),U,40)=""      ;138  ;SCOPE OF LN SURGERY (R)
"RTN","ONCOSUR2",86,0)
 S $P(^ONCO(165.5,DA,3.1),U,9)=""     ;138.1;SCOPE OF LN SURGERY @FAC (R)
"RTN","ONCOSUR2",87,0)
 S $P(^ONCO(165.5,DA,3),U,42)=""      ;140  ;NUMBER OF LN REMOVED (R)
"RTN","ONCOSUR2",88,0)
 S $P(^ONCO(165.5,DA,3.1),U,11)=""    ;140.1;NUMBER OF LN REMOVED @FAC(R)
"RTN","ONCOSUR2",89,0)
 S $P(^ONCO(165.5,DA,3),U,41)=""      ;139  ;SURG PROC/OTHER SITE (R)
"RTN","ONCOSUR2",90,0)
 S $P(^ONCO(165.5,DA,3.1),U,10)=""    ;139.1;SURG PROC/OTHER SITE @FAC(R)
"RTN","ONCOSUR2",91,0)
 ;
"RTN","ONCOSUR2",92,0)
 S $P(^ONCO(165.5,D0,3.1),U,29)=""    ;58.6 ;SURGERY OF PRIMARY (F) 
"RTN","ONCOSUR2",93,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,1)_"S1"
"RTN","ONCOSUR2",94,0)
 S $P(^ONCO(165.5,DA,3),U,1)=""       ;50   ;MOST DEFINITIVE SURG DATE
"RTN","ONCOSUR2",95,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCOSUR2",96,0)
 S $P(^ONCO(165.5,DA,3),U,28)=""      ;59   ;SURGICAL MARGINS
"RTN","ONCOSUR2",97,0)
 S $P(^ONCO(165.5,D0,3.1),U,30)=""    ;58.7 ;SURGERY OF PRIMARY @FAC (F)
"RTN","ONCOSUR2",98,0)
 S $P(^ONCO(165.5,DA,3.1),U,8)=""     ;50.3 ;MOST DEFINITIVE SURG @FAC DATE
"RTN","ONCOSUR2",99,0)
 ;
"RTN","ONCOSUR2",100,0)
 S $P(^ONCO(165.5,DA,3.1),U,31)=""    ;138.4;SCOPE OF LN SURGERY (F)
"RTN","ONCOSUR2",101,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,22)_"S2"
"RTN","ONCOSUR2",102,0)
 S $P(^ONCO(165.5,DA,3.1),U,22)=""    ;138.2;SCOPE OF LN SURGERY DATE
"RTN","ONCOSUR2",103,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCOSUR2",104,0)
 S $P(^ONCO(165.5,DA,3.1),U,32)=""    ;138.5;SCOPE OF LN SURGERY @FAC (F)
"RTN","ONCOSUR2",105,0)
 S $P(^ONCO(165.5,DA,3.1),U,23)=""    ;138.2;SCOPE OF LN SURGERY @FAC DT
"RTN","ONCOSUR2",106,0)
 ;
"RTN","ONCOSUR2",107,0)
 S $P(^ONCO(165.5,DA,3.1),U,33)=""    ;139.4;SURG PROC/OTHER SITE (F)
"RTN","ONCOSUR2",108,0)
 S TXDT=$P(^ONCO(165.5,DA,3.1),U,24)_"S3"
"RTN","ONCOSUR2",109,0)
 S $P(^ONCO(165.5,DA,3.1),U,24)=""    ;139.2;SURG PROC/OTHER SITE DATE
"RTN","ONCOSUR2",110,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCOSUR2",111,0)
 S $P(^ONCO(165.5,DA,3.1),U,34)=""    ;139.5;SURG PROC/OTHER SITE @FAC(F)
"RTN","ONCOSUR2",112,0)
 S $P(^ONCO(165.5,DA,3.1),U,25)=""    ;139.3;SURG PROC/OTHER SITE @FAC DT
"RTN","ONCOSUR2",113,0)
 S $P(^ONCO(165.5,DA,3),U,33)=""      ;23   ;RECONSTRUCTION/RESTORATION
"RTN","ONCOSUR2",114,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)="" ;435  ;DATE OF SURGICAL DISCHARGE
"RTN","ONCOSUR2",115,0)
 S $P(^ONCO(165.5,DA,3.1),U,28)=""    ;14   ;READMISSION W/I 30 DAYS/SURG
"RTN","ONCOSUR2",116,0)
 K ^ONCO(165.5,DA,14)                 ;108  ;TEXT-RX-SURGERY
"RTN","ONCOSUR2",117,0)
 S $P(^ONCO(165.5,DA,3),U,26)=""      ;58   ;REASON NO SURGERY OF PRIMARY
"RTN","ONCOSUR2",118,0)
 Q
"RTN","ONCOSUR2",119,0)
SCT ;
"RTN","ONCOSUR2",120,0)
 N SCT
"RTN","ONCOSUR2",121,0)
 S OLDSCG=$P($G(^ONCO(164,OLDTOP,0)),U,16) I OLDSCG="" Q
"RTN","ONCOSUR2",122,0)
 S NEWSCG=$P($G(^ONCO(164,X,0)),U,16) I NEWSCG="" Q
"RTN","ONCOSUR2",123,0)
 I OLDSCG=NEWSCG Q
"RTN","ONCOSUR2",124,0)
 D MESSAGE
"RTN","ONCOSUR2",125,0)
 W !?5,"SUBSEQUENT COURSE OF TREATMENT",?36,"(all surgery fields)"
"RTN","ONCOSUR2",126,0)
 F SCT=0:0 S SCT=$O(^ONCO(165.5,DA,4,SCT)) Q:SCT'>0  D
"RTN","ONCOSUR2",127,0)
 .S $P(^ONCO(165.5,DA,4,SCT,0),U,4)=""   ;.04 ;SURGERY OF PRIMARY
"RTN","ONCOSUR2",128,0)
 .S $P(^ONCO(165.5,DA,4,SCT,0),U,11)=""  ;.041;SURGERY OF PRIMARY DATE
"RTN","ONCOSUR2",129,0)
 .S $P(^ONCO(165.5,DA,4,SCT,2),U,32)=""  ;35  ;SCOPE OF LN SURGERY
"RTN","ONCOSUR2",130,0)
 .S $P(^ONCO(165.5,DA,4,SCT,2),U,34)=""  ;37  ;NUMBER OF LN REMOVED
"RTN","ONCOSUR2",131,0)
 .S $P(^ONCO(165.5,DA,4,SCT,2),U,33)=""  ;36  ;SURG PROC/OTHER SITE
"RTN","ONCOSUR2",132,0)
 .S $P(^ONCO(165.5,DA,4,SCT,2),U,30)=""  ;33  ;RECON/RESTORE DELAYED
"RTN","ONCOSUR2",133,0)
 .S $P(^ONCO(165.5,DA,4,SCT,2),U,31)=""  ;34  ;RECON/RESTORE DELAY DATE
"RTN","ONCOSUR2",134,0)
 Q
"RTN","ONCOSUR2",135,0)
 ;
"RTN","ONCOSUR2",136,0)
CS ;COLLOBORATIVE STAGING
"RTN","ONCOSUR2",137,0)
 N PIECE
"RTN","ONCOSUR2",138,0)
 S OLDSCG=$P($G(^ONCO(164,OLDTOP,0)),U,16) I OLDSCG="" Q
"RTN","ONCOSUR2",139,0)
 S NEWSCG=$P($G(^ONCO(164,X,0)),U,16) I NEWSCG="" Q
"RTN","ONCOSUR2",140,0)
 I OLDSCG=NEWSCG Q
"RTN","ONCOSUR2",141,0)
 D MESSAGE
"RTN","ONCOSUR2",142,0)
 W !?5,"COLLABORATIVE STAGING",?36,"(all fields)"
"RTN","ONCOSUR2",143,0)
 F PIECE=1:1:12 S $P(^ONCO(165.5,D0,"CS"),U,PIECE)=""
"RTN","ONCOSUR2",144,0)
 F PIECE=1:1:11 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCOSUR2",145,0)
 F PIECE=13:1:19 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCOSUR2",146,0)
 F PIECE=1:1:19 S $P(^ONCO(165.5,D0,"CS2"),U,PIECE)=""
"RTN","ONCOSUR2",147,0)
 S $P(^ONCO(165.5,D0,"CS3"),U,1)=""
"RTN","ONCOSUR2",148,0)
 Q
"RTN","ONCOSUR2",149,0)
 ;
"RTN","ONCOSUR2",150,0)
PM ;PERFORMANCE MEASURES
"RTN","ONCOSUR2",151,0)
 N PIECE
"RTN","ONCOSUR2",152,0)
 S OLDSCG=$P($G(^ONCO(164,OLDTOP,0)),U,16) I OLDSCG="" Q
"RTN","ONCOSUR2",153,0)
 S NEWSCG=$P($G(^ONCO(164,X,0)),U,16) I NEWSCG="" Q
"RTN","ONCOSUR2",154,0)
 I OLDSCG=NEWSCG Q
"RTN","ONCOSUR2",155,0)
 D MESSAGE
"RTN","ONCOSUR2",156,0)
 W !?5,"PERFORMANCE MEASURES",?36,"(all fields)"
"RTN","ONCOSUR2",157,0)
 F PIECE=1:1:28 S $P(^ONCO(165.5,D0,"PM"),U,PIECE)=""
"RTN","ONCOSUR2",158,0)
 S $P(^ONCO(165.5,D0,3),U,29)=""
"RTN","ONCOSUR2",159,0)
 S $P(^ONCO(165.5,D0,"BLA2"),U,41)=""
"RTN","ONCOSUR2",160,0)
 Q
"RTN","ONCOSUR2",161,0)
 ;
"RTN","ONCOSUR2",162,0)
MESSAGE ;
"RTN","ONCOSUR2",163,0)
 I MSSG=1 Q
"RTN","ONCOSUR2",164,0)
 W !!?3,"You have changed the PRIMARY SITE.  The new topography is"
"RTN","ONCOSUR2",165,0)
 W !?3,"outside of the old topography's site group.  This change"
"RTN","ONCOSUR2",166,0)
 W !?3,"may affect the validity of all site-specific fields.  Therefore,"
"RTN","ONCOSUR2",167,0)
 W !?3,"these fields have been initialized and need to be re-entered:"
"RTN","ONCOSUR2",168,0)
 W ! S MSSG=1 Q
"RTN","ONCOSUR2",169,0)
 Q
"RTN","ONCOSUR2",170,0)
 ;
"RTN","ONCOSUR2",171,0)
CLEANUP ;Cleanup
"RTN","ONCOSUR2",172,0)
 K D0,DA,MSSG,OLDTOP,X
"RTN","ONCOTM")
0^254^B12379399
"RTN","ONCOTM",1,0)
ONCOTM ;HINES IRMFO/WAA-ONCO TUMOR MARKER PROMPT  1/7/98  10:33
"RTN","ONCOTM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTM",3,0)
 ;
"RTN","ONCOTM",4,0)
TM(IEN,TUM) ;
"RTN","ONCOTM",5,0)
 ; This routine will set the prompt base on the primary site
"RTN","ONCOTM",6,0)
 ; X is the internal entry number of the entry in file 165.5
"RTN","ONCOTM",7,0)
 ; TUM is which tumor marker this is.
"RTN","ONCOTM",8,0)
 N %,D,DC,DIC,DIE,DIEL,DIFLD,DIP,DK,DM,DOV,DQ,DU,DV,DW,DXS
"RTN","ONCOTM",9,0)
 N DH,DIR,DA,D0,D1,DIE,DR,DP,DO,DL,I,ICDO,X,TM1,TM2,TM,U
"RTN","ONCOTM",10,0)
 K Y
"RTN","ONCOTM",11,0)
 S DIE="^ONCO(165.5,",DA=IEN
"RTN","ONCOTM",12,0)
 I TUM=1 S DR="25.1"_$$PROMPT(IEN,TUM)
"RTN","ONCOTM",13,0)
 I TUM=2 S DR="25.2"_$$PROMPT(IEN,TUM)
"RTN","ONCOTM",14,0)
 I TUM=3 S DR="25.3"_$$PROMPT(IEN,TUM)
"RTN","ONCOTM",15,0)
 D ^DIE
"RTN","ONCOTM",16,0)
 I $D(Y) S Y="@0" Q
"RTN","ONCOTM",17,0)
 I TUM=1 S Y="@2510"
"RTN","ONCOTM",18,0)
 I TUM=2 S Y="@2520"
"RTN","ONCOTM",19,0)
 I TUM=3 S Y="@2530"
"RTN","ONCOTM",20,0)
 Q
"RTN","ONCOTM",21,0)
PRINT(IEN,TUM) ;
"RTN","ONCOTM",22,0)
 ; This routine will set the prompt base on the primary site
"RTN","ONCOTM",23,0)
 ; IEN is the internal entry number of the entry in file 165.5
"RTN","ONCOTM",24,0)
 ; TUM is which tumor marker this is.
"RTN","ONCOTM",25,0)
 N PROMPT,LOWER,CAP,I,WORD
"RTN","ONCOTM",26,0)
 S PROMPT=$$PROMPT(IEN,TUM)
"RTN","ONCOTM",27,0)
 S LOWER=$$LOW^XLFSTR(PROMPT)
"RTN","ONCOTM",28,0)
 F I=1:1 S WORD=$P(LOWER," ",I) Q:WORD=""  D
"RTN","ONCOTM",29,0)
 .I $E(WORD,1)="(" S $P(LOWER," ",I)=$P(PROMPT," ",I) Q
"RTN","ONCOTM",30,0)
 .N NEW,OLD,NWORD
"RTN","ONCOTM",31,0)
 .S OLD=$E(WORD,1)
"RTN","ONCOTM",32,0)
 .S NEW=$$UP^XLFSTR(OLD)
"RTN","ONCOTM",33,0)
 .S NWORD=NEW_$E(WORD,2,99999)
"RTN","ONCOTM",34,0)
 .S $P(LOWER," ",I)=NWORD
"RTN","ONCOTM",35,0)
 .Q
"RTN","ONCOTM",36,0)
 S PROMPT=LOWER
"RTN","ONCOTM",37,0)
 Q PROMPT
"RTN","ONCOTM",38,0)
PROMPT(IEN,TUM) ; 
"RTN","ONCOTM",39,0)
 ; This routine will set the prompt base on the primary site
"RTN","ONCOTM",40,0)
 ; IEN is the internal entry number of the entry in file 165.5
"RTN","ONCOTM",41,0)
 ; TUM is which tumor marker this is.
"RTN","ONCOTM",42,0)
 N PROMPT
"RTN","ONCOTM",43,0)
 S PROMPT=$S(TUM=1:"TUMOR MARKER 1",TUM=2:"TUMOR MARKER 2",TUM=3:"TUMOR MARKER 3",1:"TUMOR MARKER")
"RTN","ONCOTM",44,0)
 I TUM=1 D TUMOR(TUM,"17-63")
"RTN","ONCOTM",45,0)
 I TUM=2 D TUMOR(TUM,"49-63")
"RTN","ONCOTM",46,0)
 I TUM=3 D TUMOR(TUM,"61-63")
"RTN","ONCOTM",47,0)
 Q PROMPT
"RTN","ONCOTM",48,0)
 ;
"RTN","ONCOTM",49,0)
TUMOR(TUM,RANGE) ; Execute if valid tumor marker
"RTN","ONCOTM",50,0)
 N PRIM1
"RTN","ONCOTM",51,0)
 S PRIM1=$$GET1^DIQ(165.5,IEN,20,"I")
"RTN","ONCOTM",52,0)
 I PRIM1'="" D
"RTN","ONCOTM",53,0)
 .N PRIM2
"RTN","ONCOTM",54,0)
 .S PRIM2=$$GET1^DIQ(164,PRIM1,1,"I")
"RTN","ONCOTM",55,0)
 .I PRIM2'="" D
"RTN","ONCOTM",56,0)
 ..N PRIM3,LINE,LOOP,NUMBER,FLG,X
"RTN","ONCOTM",57,0)
 ..S PRIM3=$P(PRIM2,"C",2)
"RTN","ONCOTM",58,0)
 ..I PRIM3'>$P(RANGE,"-")!(PRIM3'<$P(RANGE,"-",2)) Q
"RTN","ONCOTM",59,0)
 ..S FLG=0
"RTN","ONCOTM",60,0)
 ..S X="S LINE=$T(TABLE"_TUM_"+LOOP)"
"RTN","ONCOTM",61,0)
 ..F LOOP=1:1 X X Q:$P(LINE,";",3)=""  D  Q:FLG
"RTN","ONCOTM",62,0)
 ...S LINE=$P(LINE,";",3),NUMBER=$P(LINE,U)
"RTN","ONCOTM",63,0)
 ...I NUMBER["-" D  Q 
"RTN","ONCOTM",64,0)
 ....N NUM1,NUM2
"RTN","ONCOTM",65,0)
 ....S NUM1=$P(NUMBER,"-"),NUM2=$P(NUMBER,"-",2)
"RTN","ONCOTM",66,0)
 ....I PRIM3<NUM1 Q
"RTN","ONCOTM",67,0)
 ....I PRIM3>NUM2 Q
"RTN","ONCOTM",68,0)
 ....S FLG=1,PROMPT=$P(LINE,U,2)
"RTN","ONCOTM",69,0)
 ....Q
"RTN","ONCOTM",70,0)
 ...I PRIM3=NUMBER S FLG=1,PROMPT=$P(LINE,U,2)
"RTN","ONCOTM",71,0)
 ...Q
"RTN","ONCOTM",72,0)
 ..Q
"RTN","ONCOTM",73,0)
 .Q
"RTN","ONCOTM",74,0)
 I TUM=1,PROMPT="TUMOR MARKER 1",$$HIST^ONCFUNC(IEN)=95003 S PROMPT="TUMOR MARKER 1 (UC)"
"RTN","ONCOTM",75,0)
 Q
"RTN","ONCOTM",76,0)
 ;
"RTN","ONCOTM",77,0)
TABLE1 ;;NUMBER/NUMBER-RANGE^NEW PROMPT
"RTN","ONCOTM",78,0)
 ;;18.0-18.9^TUMOR MARKER 1 (CEA)
"RTN","ONCOTM",79,0)
 ;;19.9^TUMOR MARKER 1 (CEA)
"RTN","ONCOTM",80,0)
 ;;20.9^TUMOR MARKER 1 (CEA)
"RTN","ONCOTM",81,0)
 ;;22.0^TUMOR MARKER 1 (AFP)
"RTN","ONCOTM",82,0)
 ;;22.1^TUMOR MARKER 1 (AFP)
"RTN","ONCOTM",83,0)
 ;;50.0-50.9^TUMOR MARKER 1 (ERA)
"RTN","ONCOTM",84,0)
 ;;56.9^TUMOR MARKER 1 (CA-125)
"RTN","ONCOTM",85,0)
 ;;61.9^TUMOR MARKER 1 (PAP)
"RTN","ONCOTM",86,0)
 ;;62.0^TUMOR MARKER 1 (AFP)
"RTN","ONCOTM",87,0)
 ;;62.1^TUMOR MARKER 1 (AFP)
"RTN","ONCOTM",88,0)
 ;;62.9^TUMOR MARKER 1 (AFP)
"RTN","ONCOTM",89,0)
 ;;
"RTN","ONCOTM",90,0)
TABLE2 ;;NUMBER/NUMBER-RANGE^NEW PROMPT
"RTN","ONCOTM",91,0)
 ;;50.0-50.9^TUMOR MARKER 2 (PRA)
"RTN","ONCOTM",92,0)
 ;;61.9^TUMOR MARKER 2 (PSA)
"RTN","ONCOTM",93,0)
 ;;62.0^TUMOR MARKER 2 (hCG)
"RTN","ONCOTM",94,0)
 ;;62.1^TUMOR MARKER 2 (hCG)
"RTN","ONCOTM",95,0)
 ;;62.9^TUMOR MARKER 2 (hCG)
"RTN","ONCOTM",96,0)
 ;;
"RTN","ONCOTM",97,0)
TABLE3 ;;NUMBER/NUMBER-RANGE^NEW PROMPT
"RTN","ONCOTM",98,0)
 ;;62.0^TUMOR MARKER 3 (LDH)
"RTN","ONCOTM",99,0)
 ;;62.1^TUMOR MARKER 3 (LDH)
"RTN","ONCOTM",100,0)
 ;;62.9^TUMOR MARKER 3 (LDH)
"RTN","ONCOTM",101,0)
 ;;
"RTN","ONCOTM",102,0)
SCREEN ;;Tumor Marker screen
"RTN","ONCOTM",103,0)
 I $$TNMED^ONCOU55(D0)<5,Y<7 Q
"RTN","ONCOTM",104,0)
 I $$TNMED^ONCOU55(D0)>4,(($E($P($G(^ONCO(165.5,DA,2)),U,1),3,4)=62)&(Y<2!(Y>4)))!(($E($P($G(^ONCO(165.5,DA,2)),U,1),3,4)'=62)&(Y<7)) Q
"RTN","ONCOTN")
0^9^B125200324
"RTN","ONCOTN",1,0)
ONCOTN ;Hines OIFO/GWB - TNM Staging ;02/28/11
"RTN","ONCOTN",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTN",3,0)
 ;
"RTN","ONCOTN",4,0)
 N DATEDX,H,ONCED,S,YR
"RTN","ONCOTN",5,0)
 S DATEDX=$P(^ONCO(165.5,D0,0),U,16)
"RTN","ONCOTN",6,0)
 S YR=$E(DATEDX,1,3)
"RTN","ONCOTN",7,0)
 S ONCED=$S(YR<283:1,YR<288:2,YR<292:3,YR<298:4,YR<303:5,YR<310:6,1:7)
"RTN","ONCOTN",8,0)
 S S=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOTN",9,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",10,0)
 I T="" W !!?5,"PRIMARY SITE not defined.",! S Y=20 Q
"RTN","ONCOTN",11,0)
 S H=$$HIST^ONCFUNC(D0)
"RTN","ONCOTN",12,0)
 S HT14=$E(H,1,4)
"RTN","ONCOTN",13,0)
 S SD=$P($G(^ONCO(165.5,D0,"CS3")),U,1)
"RTN","ONCOTN",14,0)
 I H="" W !!?5,"HISTOLOGY not defined.",! S Y=$S(DATEDX>3001231:22.3,1:22) Q
"RTN","ONCOTN",15,0)
 S Y="@69"
"RTN","ONCOTN",16,0)
 ;
"RTN","ONCOTN",17,0)
 ;Dermatofibrosarcomas of the skin 
"RTN","ONCOTN",18,0)
 I (HT14=8832)!(HT14=8833),($E(T,3,4)=44) D  S Y="@313" Q
"RTN","ONCOTN",19,0)
 .W !!?3,"AJCC does not define staging for dermatofibrosarcomas of the skin.",!
"RTN","ONCOTN",20,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",21,0)
 ;
"RTN","ONCOTN",22,0)
 ;Laryngeal cartilage C32.3 - 7th Edition
"RTN","ONCOTN",23,0)
 ;Removed from 7th Edition Larynx chapter 5
"RTN","ONCOTN",24,0)
 I ONCED>6,T=67323 D  Q
"RTN","ONCOTN",25,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",26,0)
 ;
"RTN","ONCOTN",27,0)
7 ;Major Salivary Glands - 7th Edition
"RTN","ONCOTN",28,0)
 I ONCED>6,($E(T,3,4)="07")!($E(T,3,4)="08"),(HT14<8000)!((HT14>8576)&(HT14<8940))!((HT14>8950)&(HT14<8980))!(HT14>8981) D  Q
"RTN","ONCOTN",29,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",30,0)
 ;
"RTN","ONCOTN",31,0)
8 ;Mycosis fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCOTN",32,0)
 I (H=97003)!(H=97013),($E(T,3,4)=44)!($E(T,3,4)=51)!($E(T,3,4)=60)!(T=67632),ONCED>5 Q
"RTN","ONCOTN",33,0)
 ;
"RTN","ONCOTN",34,0)
 I (S=62)!($$LYMPHOMA^ONCFUNC(D0)) D  Q
"RTN","ONCOTN",35,0)
 .I ONCED>6,(T=67441)!(T=67690)!(T=67695)!(T=67696) Q
"RTN","ONCOTN",36,0)
 .W !!?3,"No TNM classification is available for Lymphoid Neoplasms.",!
"RTN","ONCOTN",37,0)
 .D CTNM88,PTNM88
"RTN","ONCOTN",38,0)
 .S Y="@376"
"RTN","ONCOTN",39,0)
 ;
"RTN","ONCOTN",40,0)
 I (T=67301)!(T=67339)!(T=67379)!($E(T,1,4)=6739)!(T=67630)!(T=67631)!(T=67637)!(T=67638)!(T=67639)!(T=67691)!(T=67750)!(T=67754)!(T=67755)!(T=67758)!(T=67759)!($E(T,1,4)=6776)!($E(T,1,4)=6726) D  S Y="@313" Q
"RTN","ONCOTN",41,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",42,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",43,0)
 ;
"RTN","ONCOTN",44,0)
 I $E(T,1,4)=6774,ONCED<7 D  S Y="@313" Q
"RTN","ONCOTN",45,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",46,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",47,0)
 ;
"RTN","ONCOTN",48,0)
 I (T=67248)!(T=67249),ONCED>6 D  S Y="@313" Q
"RTN","ONCOTN",49,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",50,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",51,0)
 ;
"RTN","ONCOTN",52,0)
 I T=67695,SD="020",ONCED>6 D  S Y="@313" Q
"RTN","ONCOTN",53,0)
 .W !!?3,"AJCC does not define staging for lacrimal sac.",!
"RTN","ONCOTN",54,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",55,0)
 ;
"RTN","ONCOTN",56,0)
 I (T=67254)!(T=67312)!(T=67313)!(T=67318)!(T=67319) D  S Y="@313" Q
"RTN","ONCOTN",57,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",58,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",59,0)
 ;
"RTN","ONCOTN",60,0)
 I ONCED=6,$$MELANOMA^ONCOU55(D0),($E(T,3,4)=44)!($E(T,3,4)=51)!($E(T,3,4)=60)!(T=67632),(H=87233)!(H=87283)!(H=87303)!(H=87403)!(H=87412)!(H=87413)!(H=87463)!(H=87703)!(H=87733)!(H=87743)!(H=87422) D  S Y="@313" Q
"RTN","ONCOTN",61,0)
 .W !!?1,"Histology ",$E(H,1,4)_"/"_$E(H,5)," is not appropriate for or relevant to the staging of melanoma.",!
"RTN","ONCOTN",62,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",63,0)
 ;
"RTN","ONCOTN",64,0)
 I (ONCED<7),((H<8020)!(H>8090)),(T=67140)!(T=67142)!(T=67148) D   S Y="@313" Q 
"RTN","ONCOTN",65,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",66,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",67,0)
 ;
"RTN","ONCOTN",68,0)
 I (T=67250)!($E(T,1,4)=6715)!($E(T,1,4)=6716)!($E(T,1,4)=6717)!($E(T,1,4)=6718),$E(H,1,4)=8936,ONCED=6 D   S Y="@313" Q 
"RTN","ONCOTN",69,0)
 .W !!," No TNM coding/staging available for GASTROINTESTINAL STROMA of ",$S($E(T,1,4)=6715:"ESOPHAGUS",$E(T,1,4)=6716:"STOMACH",$E(T,1,4)=6717:"SMALL INTESTINE",$E(T,1,4)=6718:"COLON",T=67250:"PANCREAS, HEAD",1:""),".",!
"RTN","ONCOTN",70,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",71,0)
 ;
"RTN","ONCOTN",72,0)
 ;Carcinoid Tumors
"RTN","ONCOTN",73,0)
 I ($E(T,3,4)=16)!($E(T,3,4)=17)!($E(T,3,4)=18)!(T=67199)!(T=67209)!($E(T,3,4)=21)!(T=67239)!($E(T,3,4)=24)!($E(T,3,4)=25),($E(H,1,4)=8240)!($E(H,1,4)=8241)!($E(H,1,4)=8242)!($E(H,1,4)=8243)!($E(H,1,4)=8249)!($E(H,1,4)=9091) D  Q
"RTN","ONCOTN",74,0)
 .I ONCED>6,($E(T,3,4)=16)!($E(T,3,4)=17)!(T=67180)!(T=67182)!(T=67183)!(T=67184)!(T=67185)!(T=67186)!(T=67187)!(T=67188)!(T=67189)!(T=67199)!(T=67209)!(T=67241) Q
"RTN","ONCOTN",75,0)
 .W !!?3,"No TNM coding/staging is available for carcinoid tumors" D
"RTN","ONCOTN",76,0)
 ..I ($E(T,3,4)=16)!($E(T,3,4)=17)!($E(T,3,4)=18)!($E(T,3,4)=21)!(T=67239)!($E(T,3,4)=24)!(T=67241)!($E(T,3,4)=25) W !?3,"of the ",$P($G(^ONCO(164,T,0)),U,1),"."
"RTN","ONCOTN",77,0)
 ..W !
"RTN","ONCOTN",78,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",79,0)
 .S Y="@313"
"RTN","ONCOTN",80,0)
 ;
"RTN","ONCOTN",81,0)
 I $E(T,1,4)=6734 D ^ONCLNG,^ONCLNG1 I $D(ONCLUNG(H)) D   S Y="@313" Q 
"RTN","ONCOTN",82,0)
 .W !!?3,"No TNM coding/staging available for sarcomas and rare tumors of the lung.",!
"RTN","ONCOTN",83,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",84,0)
 .K ONCLUNG
"RTN","ONCOTN",85,0)
 K ONCLUNG
"RTN","ONCOTN",86,0)
 ;
"RTN","ONCOTN",87,0)
 I (T=67380)!(T=67381)!(T=67382)!(T=67383)!(T=67388)!($E(T,1,4)=6747)!($E(T,1,4)=6748)!($E(T,1,4)=6749),(H=91203)!(H=89903) D   S Y="@313" Q 
"RTN","ONCOTN",88,0)
 .W !!?3,"No TNM coding/staging available for angiosarcoma or malignant mesenchymoma.",! D
"RTN","ONCOTN",89,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",90,0)
 ;
"RTN","ONCOTN",91,0)
 I $E(T,1,4)=6748,H=90503 D   S Y="@313" Q 
"RTN","ONCOTN",92,0)
 .W !!?3,"No TNM coding/staging available for malignant peritoneal mesothelioma.",! D
"RTN","ONCOTN",93,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",94,0)
 ;
"RTN","ONCOTN",95,0)
 ;I (T=67300)!(T=67310)!(T=67311),(H=95223) D   S Y="@313" Q 
"RTN","ONCOTN",96,0)
 ;.W !!," No TNM coding available for OLFACTORY NEUROMBLASTOMA of ",$S(T=67300:"NASAL CAVITY",T=67310:"SINUS, MAXILLARY",T=67311:"SINUS ETHMOID",1:""),".",!
"RTN","ONCOTN",97,0)
 ;.D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",98,0)
 ;
"RTN","ONCOTN",99,0)
 ;Fallopian Tube (C57.0)
"RTN","ONCOTN",100,0)
 ;Other/unspecified female genitalia (C57.1-C57.9)
"RTN","ONCOTN",101,0)
 I ((T=67570)&(ONCED<5))!(($E(T,1,4)=6757)&(T'=67570)) D  S Y="@313" Q
"RTN","ONCOTN",102,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",103,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",104,0)
 ;
"RTN","ONCOTN",105,0)
 ;Paraurethral gland (C68.1)
"RTN","ONCOTN",106,0)
 ;Overlapping lesion of urinary organs (C68.8)
"RTN","ONCOTN",107,0)
 ;Urinary system, NOS (C68.9)
"RTN","ONCOTN",108,0)
 I ONCED>5,((T=67681)!(T=67688)!(T=67689)) D  S Y="@313" Q
"RTN","ONCOTN",109,0)
 .W !!?3,"AJCC does not define staging for this site.",!
"RTN","ONCOTN",110,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",111,0)
 ;
"RTN","ONCOTN",112,0)
 ;Melanoma of the Eyelid
"RTN","ONCOTN",113,0)
 I ONCED<5,T=67441,$$MELANOMA^ONCOU55(D0) D  S Y=37.2 Q
"RTN","ONCOTN",114,0)
 .W !!?3,"No classification is recommended at present.",!
"RTN","ONCOTN",115,0)
 .S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOTN",116,0)
 .W !,"CLINICAL T: T88 NA"
"RTN","ONCOTN",117,0)
 ;
"RTN","ONCOTN",118,0)
 ;Brain and Spinal Cord
"RTN","ONCOTN",119,0)
 I ONCED>4,(T=67700)!(T=67701)!(T=67709)!(T=67751)!(T=67752)!(T=67753)!($E(T,3,4)=71)!($E(T,3,4)=72) D  S Y="@313" Q
"RTN","ONCOTN",120,0)
 .W !!?3,"Central Nervous System Tumors have no TNM designation.",!
"RTN","ONCOTN",121,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",122,0)
 ;
"RTN","ONCOTN",123,0)
 ;Kaposi's sarcoma
"RTN","ONCOTN",124,0)
 I H=91403 D  S Y="@313" Q
"RTN","ONCOTN",125,0)
 .W !!?3,"No TNM classification or staging is available for Kaposi's sarcoma.",!
"RTN","ONCOTN",126,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",127,0)
 ;
"RTN","ONCOTN",128,0)
 I $P(^ONCO(164,T,0),U,11)="" D  S Y="@313" Q
"RTN","ONCOTN",129,0)
 .W !!?3,"No stage grouping is presently recommended.",!
"RTN","ONCOTN",130,0)
 .D CTNM88,CSTG88,CSB,PTNM88,PSTG88,PSB
"RTN","ONCOTN",131,0)
 Q
"RTN","ONCOTN",132,0)
 ;
"RTN","ONCOTN",133,0)
CN2 ;GTT - clinical
"RTN","ONCOTN",134,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",135,0)
 I T=67589 D  S Y=37.3 Q
"RTN","ONCOTN",136,0)
 .W !!,"  Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",137,0)
 .S $P(^ONCO(165.5,D0,2),U,26)=""
"RTN","ONCOTN",138,0)
 .W !,"CLINICAL N:"
"RTN","ONCOTN",139,0)
 Q
"RTN","ONCOTN",140,0)
 ;
"RTN","ONCOTN",141,0)
CN4 ;GTT - pathologic
"RTN","ONCOTN",142,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",143,0)
 I T=67589 D  S Y=87 Q
"RTN","ONCOTN",144,0)
 .W !!,"   Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",145,0)
 .S $P(^ONCO(165.5,D0,2.1),U,2)=""
"RTN","ONCOTN",146,0)
 .W !,"PATHOLOGIC N:"
"RTN","ONCOTN",147,0)
 Q
"RTN","ONCOTN",148,0)
 ;
"RTN","ONCOTN",149,0)
CN5 ;GTT - other
"RTN","ONCOTN",150,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",151,0)
 I T=67589 D  S Y=99 Q
"RTN","ONCOTN",152,0)
 .W !!,"   Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",153,0)
 .S $P(^ONCO(165.5,D0,2.1),U,7)=""
"RTN","ONCOTN",154,0)
 .W !,"OTHER N:"
"RTN","ONCOTN",155,0)
 Q
"RTN","ONCOTN",156,0)
 ;
"RTN","ONCOTN",157,0)
RECN ;GTT - Subsequent Recurrences - other
"RTN","ONCOTN",158,0)
 S T=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOTN",159,0)
 I T=67589 D  S Y=3 Q
"RTN","ONCOTN",160,0)
 .W !!,"   Regional lymph node (N) classification does not apply to these tumors.",!
"RTN","ONCOTN",161,0)
 .S $P(^ONCO(165.5,D0,23,D1,0),U,8)=""
"RTN","ONCOTN",162,0)
 .W !,"OTHER N:"
"RTN","ONCOTN",163,0)
 Q
"RTN","ONCOTN",164,0)
 ;
"RTN","ONCOTN",165,0)
ES ;Automatic Staging
"RTN","ONCOTN",166,0)
 N CM,G,HT,HT14,N,M,SD,SP,STGTYP,T,TX,XX,XXX,YR
"RTN","ONCOTN",167,0)
 S YR=$E($P($G(^ONCO(165.5,D0,0)),U,16),1,3)
"RTN","ONCOTN",168,0)
 S ONCED=$S(YR<283:1,YR<288:2,YR<292:3,YR<298:4,YR<303:5,YR<310:6,1:7)
"RTN","ONCOTN",169,0)
 I ONCED<3 D  Q
"RTN","ONCOTN",170,0)
 .W !!,"DATE DX prior to 1988.  Automatic staging unavailable.",!
"RTN","ONCOTN",171,0)
 S STGTYP=$S(STGIND="C":"CLINICAL",STGIND="P":"PATHOLOGIC",STGIND="O":"OTHER",STGIND="R":"RECURRENCE",1:"")
"RTN","ONCOTN",172,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTN",173,0)
 G EX:XX=""
"RTN","ONCOTN",174,0)
 S ST=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCOTN",175,0)
 S G=$P(^ONCO(165.5,D0,2),U,5)
"RTN","ONCOTN",176,0)
 S TX=$P(^ONCO(165.5,D0,2),U,1)
"RTN","ONCOTN",177,0)
 S HT=$$HIST^ONCFUNC(D0)
"RTN","ONCOTN",178,0)
 S SP=$P($G(^ONCO(164,+TX,0)),U,11)
"RTN","ONCOTN",179,0)
 S SD=$P($G(^ONCO(165.5,D0,"CS3")),U,1)
"RTN","ONCOTN",180,0)
 I STGIND="C" D
"RTN","ONCOTN",181,0)
 .S XXX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTN",182,0)
 .S T=$P(XXX,U,25)
"RTN","ONCOTN",183,0)
 .S N=$P(XXX,U,26)
"RTN","ONCOTN",184,0)
 .S M=$P(XXX,U,27)
"RTN","ONCOTN",185,0)
 I STGIND="P" D
"RTN","ONCOTN",186,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTN",187,0)
 .S T=$P(XXX,U,1)
"RTN","ONCOTN",188,0)
 .S N=$P(XXX,U,2)
"RTN","ONCOTN",189,0)
 .S M=$P(XXX,U,3)
"RTN","ONCOTN",190,0)
 .S CM=$P($G(^ONCO(165.5,D0,2)),U,27)
"RTN","ONCOTN",191,0)
 .I (T'="X")!(N'="X"),$E(M,1)'=1,CM'="X" D
"RTN","ONCOTN",192,0)
 ..S M=CM
"RTN","ONCOTN",193,0)
 ..W !!?12,"CLINICAL M will be used to calculate PATHOLOGIC STAGE GROUPING."
"RTN","ONCOTN",194,0)
 I STGIND="O" D
"RTN","ONCOTN",195,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTN",196,0)
 .S T=$P(XXX,U,6)
"RTN","ONCOTN",197,0)
 .S N=$P(XXX,U,7)
"RTN","ONCOTN",198,0)
 .S M=$P(XXX,U,8)
"RTN","ONCOTN",199,0)
 I STGIND="R" D
"RTN","ONCOTN",200,0)
 .S XXX=$G(^ONCO(165.5,D0,23,DA,0))
"RTN","ONCOTN",201,0)
 .S T=$P(XXX,U,6)
"RTN","ONCOTN",202,0)
 .S N=$P(XXX,U,7)
"RTN","ONCOTN",203,0)
 .S M=$P(XXX,U,8)
"RTN","ONCOTN",204,0)
 I T="" D  G SG
"RTN","ONCOTN",205,0)
 .W !!?3,"No ",STGTYP," T category has been assigned."
"RTN","ONCOTN",206,0)
 .S SG=99
"RTN","ONCOTN",207,0)
 I N="",ST'=58,'$$GTT^ONCOU55(D0) D  G SG
"RTN","ONCOTN",208,0)
 .W !!?3,"No ",STGTYP," N category has been assigned."
"RTN","ONCOTN",209,0)
 .S SG=99
"RTN","ONCOTN",210,0)
 I M="",'$$OCULAR D  G SG
"RTN","ONCOTN",211,0)
 .W !?3,"No ",STGTYP," M category has been assigned."
"RTN","ONCOTN",212,0)
 .S SG=99
"RTN","ONCOTN",213,0)
 ;
"RTN","ONCOTN",214,0)
 ;Gastrointestinal Stromal Tumor (Gist) 8935-8936
"RTN","ONCOTN",215,0)
 I ($E(HT,1,4)=8935)!($E(HT,1,4)=8936),(($E(TX,3,4)=15)!($E(TX,3,4)=16)!($E(TX,3,4)=17)!($E(TX,3,4)=18)!($E(TX,3,4)=21)!($E(TX,3,4)=48)!(TX=67199)!(TX=67209)),ONCED>6 S AG="121" G AG
"RTN","ONCOTN",216,0)
 ;
"RTN","ONCOTN",217,0)
 ;Neuroendocrine Tumor 8153, 8240-8242, 8246, 8249
"RTN","ONCOTN",218,0)
 I ONCED>6,(($E(HT,1,4)=8153)!($E(HT,1,4)=8240)!($E(HT,1,4)=8241)!($E(HT,1,4)=8242)!($E(HT,1,4)=8246)!($E(HT,1,4)=8249)),(($E(TX,3,4)=16)!($E(TX,3,4)=17)!($E(TX,3,4)=18)!(TX=67241)!(TX=67199)!(TX=67209)) S AG=122 G AG
"RTN","ONCOTN",219,0)
 ;
"RTN","ONCOTN",220,0)
 ;Esophagus/GE Junction C16.0-C16.2
"RTN","ONCOTN",221,0)
 I TX=67160,ONCED>6 S AG="9" G AG
"RTN","ONCOTN",222,0)
 I TX=67161!(TX=67162),ONCED>6,SD="010"!(SD="020")!(SD="040")!(SD="060") S AG="9" G AG
"RTN","ONCOTN",223,0)
 ;
"RTN","ONCOTN",224,0)
 ;Gallbladder
"RTN","ONCOTN",225,0)
 ;Distal Bile Duct
"RTN","ONCOTN",226,0)
 I TX=67240,ONCED>6,(SD="040")!(SD="070") S AG=63 G AG
"RTN","ONCOTN",227,0)
 I TX=67240,ONCED>6,SD="030" S AG=14 G AG
"RTN","ONCOTN",228,0)
 ;
"RTN","ONCOTN",229,0)
 ;Melanoma of the Eyelid (C44.1)
"RTN","ONCOTN",230,0)
 I TX=67441,ONCED<5,$$MELANOMA^ONCOU55(D0) S AG=37 G AG
"RTN","ONCOTN",231,0)
 ;
"RTN","ONCOTN",232,0)
 ;Melanoma of the Skin
"RTN","ONCOTN",233,0)
 I $$MELANOMA^ONCOU55(D0),$P($G(^ONCO(164,+TX,0)),U,15) S AG=22 G AG
"RTN","ONCOTN",234,0)
 ;
"RTN","ONCOTN",235,0)
 ;Merkel Cell Carcinoma
"RTN","ONCOTN",236,0)
 I $E(HT,1,4)=8247,ONCED>6 S AG=21 G AG
"RTN","ONCOTN",237,0)
 ;
"RTN","ONCOTN",238,0)
 ;Ovary and Primary Peritoneal Carcinoma - 7th edition
"RTN","ONCOTN",239,0)
 S HT14=$E(HT,1,4)
"RTN","ONCOTN",240,0)
 I ONCED>6,(TX=67481)!(TX=67482)!(TX=67488),(HT14>7999)&(HT14<8577)!(HT14>8929)&(HT14<9111) S AG=26,SP=67569 G AG
"RTN","ONCOTN",241,0)
 ;
"RTN","ONCOTN",242,0)
 ;GTT
"RTN","ONCOTN",243,0)
 I TX=67589 S AG=54 G AG
"RTN","ONCOTN",244,0)
 ;
"RTN","ONCOTN",245,0)
 ;Urethra (C68.9)
"RTN","ONCOTN",246,0)
 ;Urothelial (Transitional Cell) Carcinoma of the Prostate
"RTN","ONCOTN",247,0)
 I ONCED>4,TX=67619,(HT=81203)!(HT=81303)!(HT=81223)!(HT=81202) D  G AG
"RTN","ONCOTN",248,0)
 .S AG=35
"RTN","ONCOTN",249,0)
 ;
"RTN","ONCOTN",250,0)
 ;Melanoma of the Conjunctiva
"RTN","ONCOTN",251,0)
 I $$MELANOMA^ONCOU55(D0),TX=67690 S AG=39 G AG
"RTN","ONCOTN",252,0)
 ;
"RTN","ONCOTN",253,0)
 ;Melanoma of the Uvea
"RTN","ONCOTN",254,0)
 I $$MELANOMA^ONCOU55(D0),((TX=67693)!(TX=67694)) S AG=40 G AG
"RTN","ONCOTN",255,0)
 ;
"RTN","ONCOTN",256,0)
 ;Ocular Adnexa Lymphoma
"RTN","ONCOTN",257,0)
 I ONCED>6,$$LYMPHOMA^ONCFUNC(D0),((TX=67441)!(TX=67690)!(TX=67695)!(TX=67696)) S AG=431 G AG
"RTN","ONCOTN",258,0)
 ;
"RTN","ONCOTN",259,0)
 ;Lymphoid Neoplasms
"RTN","ONCOTN",260,0)
 ;Mycosis fungoides (9700/3)
"RTN","ONCOTN",261,0)
 ;Sezary Disease    (9701/3)
"RTN","ONCOTN",262,0)
 I ONCED>5,(HT=97003)!(HT=97013) S AG=55 G AG
"RTN","ONCOTN",263,0)
 ;
"RTN","ONCOTN",264,0)
 S AG=$P($G(^ONCO(164,+TX,0)),U,12)
"RTN","ONCOTN",265,0)
 ;
"RTN","ONCOTN",266,0)
AG ;DO staging subroutine
"RTN","ONCOTN",267,0)
 S SG=99
"RTN","ONCOTN",268,0)
 I T=88,N=88,M=88 S SG=88 G SG
"RTN","ONCOTN",269,0)
 S ONCOED=ONCED
"RTN","ONCOTN",270,0)
 D @(AG_"^ONCOTN0")
"RTN","ONCOTN",271,0)
 W:SG=99 !!,?12,"TNM combination not in staging table."
"RTN","ONCOTN",272,0)
 ;
"RTN","ONCOTN",273,0)
SG ;Computed stage
"RTN","ONCOTN",274,0)
 I STGIND="C" S $P(^ONCO(165.5,D0,2),U,20)=SG
"RTN","ONCOTN",275,0)
 I STGIND="P" S $P(^ONCO(165.5,D0,2.1),U,4)=SG
"RTN","ONCOTN",276,0)
 I STGIND="O" S $P(^ONCO(165.5,D0,2.1),U,9)=SG
"RTN","ONCOTN",277,0)
 I STGIND="R" S $P(^ONCO(165.5,D0,23,DA,0),U,9)=SG
"RTN","ONCOTN",278,0)
 I SG'="" S X=SG D KSG^ONCOCRC D
"RTN","ONCOTN",279,0)
 .I STGIND="C" D CSSG^ONCOCRC Q
"RTN","ONCOTN",280,0)
 .I STGIND="P" D PSSG^ONCOCRC Q
"RTN","ONCOTN",281,0)
 N CMPFLG S CMPFLG="COMPUTING TNM"
"RTN","ONCOTN",282,0)
 W !!?12,"Computed "_$S(STGIND="C":"CLINICAL",STGIND="P":"PATHOLOGIC",STGIND="O":"OTHER",STGIND="R":"RECURRENCE",1:"")," STAGE GROUPING: ",$$SGOUT^ONCOTNO(D0),!
"RTN","ONCOTN",283,0)
EX Q
"RTN","ONCOTN",284,0)
 ;
"RTN","ONCOTN",285,0)
CTNM88 ;CLINICAL TNM 88
"RTN","ONCOTN",286,0)
 S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCOTN",287,0)
 S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCOTN",288,0)
 S $P(^ONCO(165.5,D0,2),U,27)=88
"RTN","ONCOTN",289,0)
 W !,"CLINICAL T: T88 NA"
"RTN","ONCOTN",290,0)
 W !,"CLINICAL N: N88 NA"
"RTN","ONCOTN",291,0)
 W !,"CLINICAL M: M88 NA",!
"RTN","ONCOTN",292,0)
 I $$LYMPHOMA^ONCFUNC(D0) Q
"RTN","ONCOTN",293,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,7)="" $P(^ONCO(165.5,D0,7),U,7)="0000000"
"RTN","ONCOTN",294,0)
 S:$P($G(^ONCO(165.5,D0,7)),U,14)="" $P(^ONCO(165.5,D0,7),U,14)="0000000"
"RTN","ONCOTN",295,0)
 Q
"RTN","ONCOTN",296,0)
 ;
"RTN","ONCOTN",297,0)
CSB I DATEDX>2951231 D
"RTN","ONCOTN",298,0)
 .S $P(^ONCO(165.5,D0,3),U,32)=0
"RTN","ONCOTN",299,0)
 .W !,"STAGED BY (CLINICAL STAGE): Not staged",!
"RTN","ONCOTN",300,0)
 Q
"RTN","ONCOTN",301,0)
 ;
"RTN","ONCOTN",302,0)
PTNM88 ;PATHOLOGIC TNM 88
"RTN","ONCOTN",303,0)
 S $P(^ONCO(165.5,D0,7),U,17)="N"
"RTN","ONCOTN",304,0)
 S $P(^ONCO(165.5,D0,2.1),U,1)=88
"RTN","ONCOTN",305,0)
 S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCOTN",306,0)
 S $P(^ONCO(165.5,D0,2.1),U,3)=88
"RTN","ONCOTN",307,0)
 W !,"MULTIMODALITY THERAPY: NO"
"RTN","ONCOTN",308,0)
 W !,"PATHOLOGIC T: T88 NA"
"RTN","ONCOTN",309,0)
 W !,"PATHOLOGIC N: N88 NA"
"RTN","ONCOTN",310,0)
 W !,"PATHOLOGIC M: M88 NA",!
"RTN","ONCOTN",311,0)
 Q
"RTN","ONCOTN",312,0)
 ;
"RTN","ONCOTN",313,0)
PSB I DATEDX>2951231 D
"RTN","ONCOTN",314,0)
 .S $P(^ONCO(165.5,D0,2.1),U,5)=0
"RTN","ONCOTN",315,0)
 .W !,"STAGED BY (PATHOLOGIC STAGE): Not staged",!
"RTN","ONCOTN",316,0)
 Q
"RTN","ONCOTN",317,0)
 ;
"RTN","ONCOTN",318,0)
CSTG88 ;CLINICAL STAGE 88
"RTN","ONCOTN",319,0)
 S $P(^ONCO(165.5,D0,2),U,20)=88
"RTN","ONCOTN",320,0)
 W !,"STAGE GROUP CLINICAL: NA",!
"RTN","ONCOTN",321,0)
 S TMP=$G(X),X=88 D CSSG^ONCOCRC S X=TMP
"RTN","ONCOTN",322,0)
 K TMP
"RTN","ONCOTN",323,0)
 Q
"RTN","ONCOTN",324,0)
 ;
"RTN","ONCOTN",325,0)
PSTG88 ;PATHOLOGIC STAGE 88
"RTN","ONCOTN",326,0)
 S $P(^ONCO(165.5,D0,2.1),U,4)=88
"RTN","ONCOTN",327,0)
 W !,"STAGE GROUP PATHOLOGIC: NA",!
"RTN","ONCOTN",328,0)
 S TMP=$G(X),X=88 D PSSG^ONCOCRC S X=TMP
"RTN","ONCOTN",329,0)
 K TMP
"RTN","ONCOTN",330,0)
 Q
"RTN","ONCOTN",331,0)
 ;
"RTN","ONCOTN",332,0)
OCULAR() ;
"RTN","ONCOTN",333,0)
 I $G(HT14)="" S HT14=$E(HT,1,4)
"RTN","ONCOTN",334,0)
 I ONCED>6,$$LYMPHOMA^ONCFUNC(D0),((TX=67441)!(TX=67690)!(TX=67695)!(TX=67696)),((HT14>9589)&(HT14<9700)!(HT14>9701)&(HT14<9739)!(HT14>9810)&(HT14<9819)!(HT14>9819)&(HT14<9838)) Q 1
"RTN","ONCOTN",335,0)
 Q 0
"RTN","ONCOTN",336,0)
 ;
"RTN","ONCOTN",337,0)
CN1 ;No longer used. Called by PCEs.
"RTN","ONCOTN",338,0)
CN3 ;No longer used. Called by PCEs.
"RTN","ONCOTN",339,0)
 Q
"RTN","ONCOTN",340,0)
 ;
"RTN","ONCOTN",341,0)
CLEANUP ;Cleanup
"RTN","ONCOTN",342,0)
 K AG,D0,D1,DA,ONCOED,SG,ST,STGIND,X,Y
"RTN","ONCOTN0")
0^255^B49148768
"RTN","ONCOTN0",1,0)
ONCOTN0 ;Hines OIFO/GWB - Automatic Staging ;12/03/10
"RTN","ONCOTN0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTN0",3,0)
 ;
"RTN","ONCOTN0",4,0)
PART2 ;HEAD AND NECK SITES
"RTN","ONCOTN0",5,0)
 ;
"RTN","ONCOTN0",6,0)
3 ;Lip and Oral Cavity
"RTN","ONCOTN0",7,0)
 D @$S(ONCOED>5:"LIP6^ONCSG0",ONCOED>4:"LIP5^ONCSG0",ONCOED>2:"LIP34^ONCSG0",1:"LIP12^ONCSG0")
"RTN","ONCOTN0",8,0)
 Q
"RTN","ONCOTN0",9,0)
 ;
"RTN","ONCOTN0",10,0)
4 ;Pharynx
"RTN","ONCOTN0",11,0)
 D @$S(ONCOED>6:"PHA7",ONCOED>5:"PHA6",ONCOED>4:"PHA5",ONCOED>2:"PHA34^ONCSG0",1:"PHA12^ONCSG0")
"RTN","ONCOTN0",12,0)
 Q
"RTN","ONCOTN0",13,0)
 ;
"RTN","ONCOTN0",14,0)
PHA5 ;Pharynx - 5th edition
"RTN","ONCOTN0",15,0)
 I SP=67110 D PHAN56^ONCSG0 Q  ;C11.0 Superior wall of nasopharynx
"RTN","ONCOTN0",16,0)
 E  D PHAOH5^ONCSG0 Q
"RTN","ONCOTN0",17,0)
 ;
"RTN","ONCOTN0",18,0)
PHA6 ;Pharynx - 6th edition
"RTN","ONCOTN0",19,0)
 I SP=67110 D PHAN56^ONCSG0 Q  ;C11.0 Superior wall of nasopharynx
"RTN","ONCOTN0",20,0)
 E  D PHAOH6^ONCSG0 Q
"RTN","ONCOTN0",21,0)
 ;
"RTN","ONCOTN0",22,0)
PHA7 ;Pharynx - 7th edition
"RTN","ONCOTN0",23,0)
 I SP=67110 D PHAN7^ONCSG0 Q  ;C11.0 Superior wall of nasopharynx
"RTN","ONCOTN0",24,0)
 E  D PHAOH6^ONCSG0 Q
"RTN","ONCOTN0",25,0)
 ;
"RTN","ONCOTN0",26,0)
5 ;Larynx
"RTN","ONCOTN0",27,0)
 D @$S(ONCOED>5:"LAR6^ONCSG0",ONCOED=5:"LAR5^ONCSG0",ONCOED>2:"LAR34^ONCSG0",1:"LAR12^ONCSG0")
"RTN","ONCOTN0",28,0)
 Q
"RTN","ONCOTN0",29,0)
 ;
"RTN","ONCOTN0",30,0)
6 ;Nasal Cavity and Paranasal Sinuses
"RTN","ONCOTN0",31,0)
 D @$S(ONCOED>5:"PAR6^ONCSG0A",ONCOED=5:"PAR5^ONCSG0A",ONCOED>2:"PAR34^ONCSG0A",1:"PAR12^ONCSG0A")
"RTN","ONCOTN0",32,0)
 Q
"RTN","ONCOTN0",33,0)
 ;
"RTN","ONCOTN0",34,0)
7 ;Major Salivary Glands
"RTN","ONCOTN0",35,0)
 D @$S(ONCOED>5:"SAL6^ONCSG0A",ONCOED=5:"SAL5^ONCSG0A",ONCOED>2:"SAL34^ONCSG0A",1:"SAL12^ONCSG0A")
"RTN","ONCOTN0",36,0)
 Q
"RTN","ONCOTN0",37,0)
 ;
"RTN","ONCOTN0",38,0)
8 ;Thyroid
"RTN","ONCOTN0",39,0)
 D @$S(ONCOED>5:"THY6^ONCSG0A",1:"THY15^ONCSG0A")
"RTN","ONCOTN0",40,0)
 Q
"RTN","ONCOTN0",41,0)
 ;
"RTN","ONCOTN0",42,0)
PART3 ;DIGESTIVE SYSTEM
"RTN","ONCOTN0",43,0)
 ;
"RTN","ONCOTN0",44,0)
9 ;Esophogus
"RTN","ONCOTN0",45,0)
 D @$S(ONCOED=7:"ESO7^ONCSG1",ONCOED>4:"ESO56^ONCSG1",1:"ESO1234^ONCSG1")
"RTN","ONCOTN0",46,0)
 Q
"RTN","ONCOTN0",47,0)
 ;
"RTN","ONCOTN0",48,0)
10 ;Stomach
"RTN","ONCOTN0",49,0)
 D @$S(ONCOED>6:"STO7^ONCSG1",ONCOED>5:"STO6^ONCSG1",ONCOED>4:"STO5^ONCSG1",1:"STO34^ONCSG1")
"RTN","ONCOTN0",50,0)
 Q
"RTN","ONCOTN0",51,0)
 ;
"RTN","ONCOTN0",52,0)
1 ;Small Intestine
"RTN","ONCOTN0",53,0)
 I ONCOED<4 D  Q
"RTN","ONCOTN0",54,0)
 .W:$G(RESTAGE)="" !!?12,"NO AJCC TNM Coding Schema for this edition."
"RTN","ONCOTN0",55,0)
 .S SG=88
"RTN","ONCOTN0",56,0)
 D @$S(ONCOED=7:"SI7^ONCSG1",1:"SI456^ONCSG1")
"RTN","ONCOTN0",57,0)
 Q
"RTN","ONCOTN0",58,0)
 ;
"RTN","ONCOTN0",59,0)
62 ;Appendix
"RTN","ONCOTN0",60,0)
 D @$S(ONCOED>6:"APP7^ONCSG1",ONCOED>5:"COL6^ONCSG1",ONCOED>4:"COL5^ONCSG1",1:"COL34^ONCSG1")
"RTN","ONCOTN0",61,0)
 Q
"RTN","ONCOTN0",62,0)
 ;
"RTN","ONCOTN0",63,0)
11 ;Colon and Rectum
"RTN","ONCOTN0",64,0)
 D @$S(ONCOED>6:"COL7^ONCSG1",ONCOED>5:"COL6^ONCSG1",ONCOED>4:"COL5^ONCSG1",1:"COL34^ONCSG1")
"RTN","ONCOTN0",65,0)
 Q
"RTN","ONCOTN0",66,0)
 ;
"RTN","ONCOTN0",67,0)
12 ;Anus
"RTN","ONCOTN0",68,0)
 D AC^ONCSG1
"RTN","ONCOTN0",69,0)
 Q
"RTN","ONCOTN0",70,0)
 ;
"RTN","ONCOTN0",71,0)
121 ;Gastrointestinal Stromal Tumor (Gist) 8935-8936
"RTN","ONCOTN0",72,0)
 D GIST^ONCSG1
"RTN","ONCOTN0",73,0)
 Q
"RTN","ONCOTN0",74,0)
 ;
"RTN","ONCOTN0",75,0)
122 ;Neuroendocrine Tumor 8246/
"RTN","ONCOTN0",76,0)
 D NT^ONCSG1
"RTN","ONCOTN0",77,0)
 Q
"RTN","ONCOTN0",78,0)
 ;
"RTN","ONCOTN0",79,0)
13 ;Liver
"RTN","ONCOTN0",80,0)
 D @$S(ONCOED>6:"LIV7^ONCSG1A",ONCOED>5:"LIV6^ONCSG1A",ONCOED>4:"LIV5^ONCSG1A",1:"LIV34^ONCSG1A")
"RTN","ONCOTN0",81,0)
 Q
"RTN","ONCOTN0",82,0)
 ;
"RTN","ONCOTN0",83,0)
14 ;Gallbladder
"RTN","ONCOTN0",84,0)
 D @$S(ONCOED>6:"GB7^ONCSG1A",ONCOED>5:"GB6^ONCSG1A",ONCOED>4:"GB45^ONCSG1A",ONCOED=4:"GB45^ONCSG1A",1:"GB3^ONCSG1A")
"RTN","ONCOTN0",85,0)
 Q
"RTN","ONCOTN0",86,0)
 ;
"RTN","ONCOTN0",87,0)
15 ;Extrahepatic Bile Ducts
"RTN","ONCOTN0",88,0)
 ;Perihilar Bile Ducts
"RTN","ONCOTN0",89,0)
 I ONCOED>6,TX=67240 D PBD^ONCSG1A Q
"RTN","ONCOTN0",90,0)
 D @$S(ONCOED=6:"EBD6^ONCSG1A",ONCOED=5:"EBD45^ONCSG1A",ONCOED=4:"EBD45^ONCSG1A",1:"EBD3^ONCSG1A")
"RTN","ONCOTN0",91,0)
 Q
"RTN","ONCOTN0",92,0)
 ;
"RTN","ONCOTN0",93,0)
63 ;Distal Bile Duct
"RTN","ONCOTN0",94,0)
 D DBD^ONCSG1A
"RTN","ONCOTN0",95,0)
 Q
"RTN","ONCOTN0",96,0)
 ;
"RTN","ONCOTN0",97,0)
16 ;Ampulla of Vater
"RTN","ONCOTN0",98,0)
 D @$S(ONCOED>5:"AV6^ONCSG1A",1:"AV345^ONCSG1A")
"RTN","ONCOTN0",99,0)
 Q
"RTN","ONCOTN0",100,0)
 ;
"RTN","ONCOTN0",101,0)
17 ;Exocrine Pancreas
"RTN","ONCOTN0",102,0)
 D @$S(ONCOED>5:"EXO6^ONCSG1A",ONCOED=5:"EXO5^ONCSG1A",1:"EXO34^ONCSG1A")
"RTN","ONCOTN0",103,0)
 Q
"RTN","ONCOTN0",104,0)
 ;
"RTN","ONCOTN0",105,0)
PART4 ;THORAX
"RTN","ONCOTN0",106,0)
 ;
"RTN","ONCOTN0",107,0)
18 ;Lung
"RTN","ONCOTN0",108,0)
 D @$S(ONCOED=7:"LUN7^ONCSG2",ONCOED>4:"LUN56^ONCSG2",1:"LUN34^ONCSG2")
"RTN","ONCOTN0",109,0)
 Q
"RTN","ONCOTN0",110,0)
 ;
"RTN","ONCOTN0",111,0)
2 ;Pleural Mesothelioma
"RTN","ONCOTN0",112,0)
 D @$S(ONCOED>5:"PM6^ONCSG2",1:"PM45^ONCSG2")
"RTN","ONCOTN0",113,0)
 Q
"RTN","ONCOTN0",114,0)
 ;
"RTN","ONCOTN0",115,0)
PART5 ;MUSCULOSKELETAL SITES
"RTN","ONCOTN0",116,0)
 ;
"RTN","ONCOTN0",117,0)
19 ;Bone
"RTN","ONCOTN0",118,0)
 D @$S(ONCOED>6:"BONE7^ONCSG2",ONCOED>5:"BONE6^ONCSG2",1:"BONE345^ONCSG2")
"RTN","ONCOTN0",119,0)
 Q
"RTN","ONCOTN0",120,0)
 ;
"RTN","ONCOTN0",121,0)
20 ;Soft Tissue Sarcoma
"RTN","ONCOTN0",122,0)
 D @$S(ONCOED>6:"STS7^ONCSG2",ONCOED>5:"STS6^ONCSG2",ONCOED=5:"STS5^ONCSG2",1:"STS34^ONCSG2")
"RTN","ONCOTN0",123,0)
 Q
"RTN","ONCOTN0",124,0)
 ;
"RTN","ONCOTN0",125,0)
PART6 ;SKIN
"RTN","ONCOTN0",126,0)
 ;
"RTN","ONCOTN0",127,0)
21 ;Carcinoma of the Skin
"RTN","ONCOTN0",128,0)
 D @$S(ONCOED>6:"CSC^ONCSG3",1:"CS^ONCSG3")
"RTN","ONCOTN0",129,0)
 Q
"RTN","ONCOTN0",130,0)
 ;
"RTN","ONCOTN0",131,0)
22 ;Melanoma of the Skin
"RTN","ONCOTN0",132,0)
 D @$S(ONCOED>5:"MMS6^ONCSG3",ONCOED=5:"MMS5^ONCSG3",ONCOED=4:"MMS4^ONCSG3",1:"MMS3^ONCSG3")
"RTN","ONCOTN0",133,0)
 Q
"RTN","ONCOTN0",134,0)
 ;
"RTN","ONCOTN0",135,0)
PART7 ;BREAST
"RTN","ONCOTN0",136,0)
 ;
"RTN","ONCOTN0",137,0)
23 ;Breast
"RTN","ONCOTN0",138,0)
 D @$S(ONCOED>6:"BRST7^ONCSG3",ONCOED>5:"BRST6^ONCSG3",1:"BRST345^ONCSG3")
"RTN","ONCOTN0",139,0)
 Q
"RTN","ONCOTN0",140,0)
 ;
"RTN","ONCOTN0",141,0)
PART8 ;GYNECOLOGIC SITES
"RTN","ONCOTN0",142,0)
 ;
"RTN","ONCOTN0",143,0)
28 ;Vulva
"RTN","ONCOTN0",144,0)
 D @$S(ONCOED>6:"VU7^ONCSG4",ONCOED>4:"VU56^ONCSG4",ONCOED=4:"VU4^ONCSG4",1:"VU3^ONCSG4")
"RTN","ONCOTN0",145,0)
 Q
"RTN","ONCOTN0",146,0)
 ;
"RTN","ONCOTN0",147,0)
27 ;Vagina
"RTN","ONCOTN0",148,0)
 D @$S(ONCOED>4:"VA567^ONCSG4",1:"VA34^ONCSG4")
"RTN","ONCOTN0",149,0)
 Q
"RTN","ONCOTN0",150,0)
 ;
"RTN","ONCOTN0",151,0)
24 ;Cervix Uteri
"RTN","ONCOTN0",152,0)
 D @$S(ONCOED>6:"CEU7^ONCSG4",ONCOED>4:"CEU56^ONCSG4",1:"CEU34^ONCSG4")
"RTN","ONCOTN0",153,0)
 Q
"RTN","ONCOTN0",154,0)
 ;
"RTN","ONCOTN0",155,0)
25 ;Corpus Uteri
"RTN","ONCOTN0",156,0)
 D @$S(ONCOED>6:"COU7^ONCSG4",ONCOED>5:"COU6^ONCSG4",ONCOED>3:"COU45^ONCSG4",1:"COU3^ONCSG4")
"RTN","ONCOTN0",157,0)
 Q
"RTN","ONCOTN0",158,0)
 ;
"RTN","ONCOTN0",159,0)
26 ;Ovary and Primary Peritoneal Carcinoma
"RTN","ONCOTN0",160,0)
 D @$S(ONCOED>6:"OVA6^ONCSG4A",1:"OVA345^ONCSG4A")
"RTN","ONCOTN0",161,0)
 Q
"RTN","ONCOTN0",162,0)
 ;
"RTN","ONCOTN0",163,0)
53 ;Fallopian Tube
"RTN","ONCOTN0",164,0)
 D @$S(ONCOED>6:"FT6^ONCSG4A",1:"FT5^ONCSG4A")
"RTN","ONCOTN0",165,0)
 Q
"RTN","ONCOTN0",166,0)
 ;
"RTN","ONCOTN0",167,0)
54 ;Gestational Trophoblastic Tumors
"RTN","ONCOTN0",168,0)
 D @$S(ONCOED>6:"GTT6^ONCSG4A",1:"GTT5^ONCSG4A")
"RTN","ONCOTN0",169,0)
 Q
"RTN","ONCOTN0",170,0)
 ;
"RTN","ONCOTN0",171,0)
PART9 ;GENITOURINARY SITES
"RTN","ONCOTN0",172,0)
 ;
"RTN","ONCOTN0",173,0)
31 ;Penis
"RTN","ONCOTN0",174,0)
 D @$S(ONCOED>6:"PEN7^ONCSG5",1:"PEN36^ONCSG5")
"RTN","ONCOTN0",175,0)
 Q
"RTN","ONCOTN0",176,0)
 ;
"RTN","ONCOTN0",177,0)
29 ;Prostate
"RTN","ONCOTN0",178,0)
 D @$S(ONCOED>6:"PROS7^ONCSG5",ONCOED>4:"PROS56^ONCSG5",ONCOED=4:"PROS4^ONCSG5",1:"PROS3^ONCSG5")
"RTN","ONCOTN0",179,0)
 Q
"RTN","ONCOTN0",180,0)
 ;
"RTN","ONCOTN0",181,0)
30 ;Testis
"RTN","ONCOTN0",182,0)
 D @$S(ONCOED>4:"TES56^ONCSG5",ONCOED=4:"TES4^ONCSG5",1:"TES3^ONCSG5")
"RTN","ONCOTN0",183,0)
 Q
"RTN","ONCOTN0",184,0)
 ;
"RTN","ONCOTN0",185,0)
33 ;Kidney
"RTN","ONCOTN0",186,0)
 D @$S(ONCOED>6:"KID7^ONCSG5",ONCOED>5:"KID6^ONCSG5",ONCOED=5:"KID5^ONCSG5",1:"KID34^ONCSG5")
"RTN","ONCOTN0",187,0)
 Q
"RTN","ONCOTN0",188,0)
 ;
"RTN","ONCOTN0",189,0)
34 ;Renal Pelvis and Ureter
"RTN","ONCOTN0",190,0)
 D @$S(ONCOED>3:"RPU456^ONCSG5A",1:"RPU3^ONCSG5A")
"RTN","ONCOTN0",191,0)
 Q
"RTN","ONCOTN0",192,0)
 ;
"RTN","ONCOTN0",193,0)
32 ;Urinary Bladder
"RTN","ONCOTN0",194,0)
 D @$S(ONCOED>4:"UB56^ONCSG5A",ONCOED=4:"UB4^ONCSG5A",1:"UB3^ONCSG5A")
"RTN","ONCOTN0",195,0)
 Q
"RTN","ONCOTN0",196,0)
 ;
"RTN","ONCOTN0",197,0)
35 ;Urethra
"RTN","ONCOTN0",198,0)
 D @$S(ONCOED>4:"U56^ONCSG5A",ONCOED=4:"U4^ONCSG5A",1:"U3^ONCSG5A")
"RTN","ONCOTN0",199,0)
 Q
"RTN","ONCOTN0",200,0)
 ;
"RTN","ONCOTN0",201,0)
65 ;Adrenal
"RTN","ONCOTN0",202,0)
 D ADREN^ONCSG5A
"RTN","ONCOTN0",203,0)
 Q
"RTN","ONCOTN0",204,0)
 ;
"RTN","ONCOTN0",205,0)
PART10 ;OPHTHALMIC SITES
"RTN","ONCOTN0",206,0)
 ;
"RTN","ONCOTN0",207,0)
36 ;Carcinoma of the Eyelid
"RTN","ONCOTN0",208,0)
 I ONCOED<7,$G(RESTAGE)="" W !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",209,0)
 I ONCOED<7 S SG=88 Q
"RTN","ONCOTN0",210,0)
 D CE7^ONCSG5A
"RTN","ONCOTN0",211,0)
 Q
"RTN","ONCOTN0",212,0)
 ;
"RTN","ONCOTN0",213,0)
37 ;Malignant Melanoma of the Eyelid
"RTN","ONCOTN0",214,0)
 I STGIND="C" D  Q
"RTN","ONCOTN0",215,0)
 .W:$G(RESTAGE)="" !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",216,0)
 .S SG=88
"RTN","ONCOTN0",217,0)
 D MME34^ONCSG5A
"RTN","ONCOTN0",218,0)
 Q
"RTN","ONCOTN0",219,0)
 ;
"RTN","ONCOTN0",220,0)
38 ;Carcinoma of the Conjunctiva
"RTN","ONCOTN0",221,0)
 W:$G(RESTAGE)="" !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",222,0)
 S SG=88 Q
"RTN","ONCOTN0",223,0)
 ;
"RTN","ONCOTN0",224,0)
39 ;Malignant Melanoma of the Conjunctiva
"RTN","ONCOTN0",225,0)
 W:$G(RESTAGE)="" !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",226,0)
 S SG=88 Q
"RTN","ONCOTN0",227,0)
 ;
"RTN","ONCOTN0",228,0)
40 ;Malignant Melanoma of the uvea
"RTN","ONCOTN0",229,0)
 I TX=67693 D @$S(ONCOED>6:"MMU7^ONCSG5A",ONCOED>5:"MMU6^ONCSG5A",1:"CHO345^ONCSG5A") Q
"RTN","ONCOTN0",230,0)
 I TX=67694 D @$S(ONCOED>6:"MMU7^ONCSG5A",1:"CBI345^ONCSG5A") Q
"RTN","ONCOTN0",231,0)
 Q
"RTN","ONCOTN0",232,0)
 ;
"RTN","ONCOTN0",233,0)
41 ;Retinoblastoma
"RTN","ONCOTN0",234,0)
 I ONCOED>6 D  Q
"RTN","ONCOTN0",235,0)
 .W:$G(RESTAGE)="" !!?12,"No stage grouping applies."
"RTN","ONCOTN0",236,0)
 .S SG=88
"RTN","ONCOTN0",237,0)
 D RET345^ONCSG5A
"RTN","ONCOTN0",238,0)
 Q
"RTN","ONCOTN0",239,0)
 ;
"RTN","ONCOTN0",240,0)
42 ;Sarcoma of the Orbit
"RTN","ONCOTN0",241,0)
 W:$G(RESTAGE)="" !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",242,0)
 S SG=88 Q
"RTN","ONCOTN0",243,0)
 ;
"RTN","ONCOTN0",244,0)
43 ;Carcinoma of the Lacrimal Gland
"RTN","ONCOTN0",245,0)
 W:$G(RESTAGE)="" !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",246,0)
 S SG=88 Q
"RTN","ONCOTN0",247,0)
 ;
"RTN","ONCOTN0",248,0)
431 ;Ocular Adnexal Lymphoma
"RTN","ONCOTN0",249,0)
 W:$G(RESTAGE)="" !!?12,"No stage grouping is presently recommended."
"RTN","ONCOTN0",250,0)
 S SG=88 Q
"RTN","ONCOTN0",251,0)
 ;
"RTN","ONCOTN0",252,0)
PART11 ;CENTRAL NERVOUS SYSTEM
"RTN","ONCOTN0",253,0)
 ;
"RTN","ONCOTN0",254,0)
44 ;Brain and Spinal Cord
"RTN","ONCOTN0",255,0)
 D BSC34^ONCSG5A
"RTN","ONCOTN0",256,0)
 Q
"RTN","ONCOTN0",257,0)
 ;
"RTN","ONCOTN0",258,0)
PART12 ;LYMPHOID NEOPLASMS
"RTN","ONCOTN0",259,0)
 ;
"RTN","ONCOTN0",260,0)
55 ;Mycosis fungoides
"RTN","ONCOTN0",261,0)
 D @$S(ONCOED>6:"MF7^ONCSG5A",1:"MF6^ONCSG5A")
"RTN","ONCOTN0",262,0)
 Q
"RTN","ONCOTN0",263,0)
 ;
"RTN","ONCOTN0",264,0)
CLEANUP ;Cleanup
"RTN","ONCOTN0",265,0)
 K ONCOED,RESTAGE,SG,SP,STGIND,TX
"RTN","ONCOTNE")
0^256^B30270501
"RTN","ONCOTNE",1,0)
ONCOTNE ;Hines OIFO/GWB,RTK - TNM STAGING ERROR & BYPASS MESSAGES ;9/27/93
"RTN","ONCOTNE",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNE",3,0)
 ;
"RTN","ONCOTNE",4,0)
BRST ;Screening or Biopsy Procedures (Breast)
"RTN","ONCOTNE",5,0)
 S TOPSITE=$P($G(^ONCO(165.5,D0,2)),U,1) I TOPSITE="" S Y="@395" Q
"RTN","ONCOTNE",6,0)
 I TOPSITE>67499,TOPSITE<67510 D  Q
"RTN","ONCOTNE",7,0)
 .W !!,"------------------------------"
"RTN","ONCOTNE",8,0)
 .W !,"SCREENING OR BIOPSY PROCEDURES"
"RTN","ONCOTNE",9,0)
 .W !,"------------------------------"
"RTN","ONCOTNE",10,0)
 S $P(^ONCO(165.5,D0,2.1),U,14)=0
"RTN","ONCOTNE",11,0)
BRSTF0 S $P(^ONCO(165.5,D0,2.1),U,15)=0
"RTN","ONCOTNE",12,0)
 S $P(^ONCO(165.5,D0,2.1),U,16)=0
"RTN","ONCOTNE",13,0)
 S $P(^ONCO(165.5,D0,2.1),U,17)=0
"RTN","ONCOTNE",14,0)
 S Y="@1445"
"RTN","ONCOTNE",15,0)
 Q
"RTN","ONCOTNE",16,0)
BRSTF9 ;
"RTN","ONCOTNE",17,0)
 S $P(^ONCO(165.5,D0,2.1),U,15)=9
"RTN","ONCOTNE",18,0)
 S $P(^ONCO(165.5,D0,2.1),U,16)=9
"RTN","ONCOTNE",19,0)
 S $P(^ONCO(165.5,D0,2.1),U,17)=9
"RTN","ONCOTNE",20,0)
 S Y="@1445"
"RTN","ONCOTNE",21,0)
 Q
"RTN","ONCOTNE",22,0)
BRWRIT ;
"RTN","ONCOTNE",23,0)
 K ONCBR S DIC="^ONCO(165.5,",DA=DA,DIQ="ONCBR(",DIQ(0)="E"
"RTN","ONCOTNE",24,0)
 S DR="142;143;144" D EN^DIQ1
"RTN","ONCOTNE",25,0)
 F I=142,143,144 S X=ONCBR(165.5,D0,I) D UCASE S ONCBR(165.5,D0,I)=X
"RTN","ONCOTNE",26,0)
 W !,"GUIDANCE..............: "_ONCBR(165.5,DA,142,"E")
"RTN","ONCOTNE",27,0)
 W !,"PALPABILITY OF PRIMARY: "_ONCBR(165.5,DA,143,"E")
"RTN","ONCOTNE",28,0)
 W !,"FIRST DETECTED BY.....: "_ONCBR(165.5,DA,144,"E")
"RTN","ONCOTNE",29,0)
 K ONCBR
"RTN","ONCOTNE",30,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOTNE",31,0)
 S Y="@1445"
"RTN","ONCOTNE",32,0)
 Q
"RTN","ONCOTNE",33,0)
PRST ;Screening or Biopsy Procedures (Prostate)
"RTN","ONCOTNE",34,0)
 S TOPSITE=$P($G(^ONCO(165.5,D0,2)),U,1) I TOPSITE="" S Y="@395" Q
"RTN","ONCOTNE",35,0)
 I TOPSITE=67619 D  Q
"RTN","ONCOTNE",36,0)
 .W !,"------------------------------"
"RTN","ONCOTNE",37,0)
 .W !,"SCREENING OR BIOPSY PROCEDURES"
"RTN","ONCOTNE",38,0)
 .W !,"------------------------------"
"RTN","ONCOTNE",39,0)
 S $P(^ONCO(165.5,D0,2.1),U,18)=0
"RTN","ONCOTNE",40,0)
PRSTF0 S $P(^ONCO(165.5,D0,2.1),U,19)=0
"RTN","ONCOTNE",41,0)
 S $P(^ONCO(165.5,D0,2.1),U,20)=0
"RTN","ONCOTNE",42,0)
 S $P(^ONCO(165.5,D0,2.1),U,21)=0
"RTN","ONCOTNE",43,0)
 S Y="@395"
"RTN","ONCOTNE",44,0)
 Q
"RTN","ONCOTNE",45,0)
PRSTF9 ;
"RTN","ONCOTNE",46,0)
 S $P(^ONCO(165.5,D0,2.1),U,19)=9
"RTN","ONCOTNE",47,0)
 S $P(^ONCO(165.5,D0,2.1),U,20)=9
"RTN","ONCOTNE",48,0)
 S $P(^ONCO(165.5,D0,2.1),U,21)=9
"RTN","ONCOTNE",49,0)
 S Y="@395"
"RTN","ONCOTNE",50,0)
 Q
"RTN","ONCOTNE",51,0)
PRWRIT ;
"RTN","ONCOTNE",52,0)
 K ONCPR S DIC="^ONCO(165.5,",DA=DA,DIQ="ONCPR(",DIQ(0)="E"
"RTN","ONCOTNE",53,0)
 S DR="146;147;148" D EN^DIQ1
"RTN","ONCOTNE",54,0)
 F I=146,147,148 S X=ONCPR(165.5,D0,I) D UCASE S ONCPR(165.5,D0,I)=X
"RTN","ONCOTNE",55,0)
 W !,"GUIDANCE......................: "_ONCPR(165.5,DA,146,"E")
"RTN","ONCOTNE",56,0)
 W !,"APPROACH FOR BIOPSY OF PRIMARY: "_ONCPR(165.5,DA,147,"E")
"RTN","ONCOTNE",57,0)
 W !,"BIOPSY OF OTHER THAN PRIMARY..: "_$E(ONCPR(165.5,DA,148,"E"),1,35)
"RTN","ONCOTNE",58,0)
 K ONCPR
"RTN","ONCOTNE",59,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOTNE",60,0)
 S Y="@395"
"RTN","ONCOTNE",61,0)
 Q
"RTN","ONCOTNE",62,0)
 ;
"RTN","ONCOTNE",63,0)
BPGUCHK ; CALLED FROM INPUT TRANFORM OF #141/142 TO CHECK TOPOG
"RTN","ONCOTNE",64,0)
 S TOPSITE=$P($G(^ONCO(165.5,D0,2)),U,1) I TOPSITE="" S BPSITE="" Q
"RTN","ONCOTNE",65,0)
 S BPSITE=$P($G(^ONCO(164,TOPSITE,0)),U,16)
"RTN","ONCOTNE",66,0)
 Q
"RTN","ONCOTNE",67,0)
 ;
"RTN","ONCOTNE",68,0)
BPCHECK ;SCREENING OR BIOPSY PROCEDURES
"RTN","ONCOTNE",69,0)
 S TOPSITE=$P($G(^ONCO(165.5,D0,2)),U,1) I TOPSITE="" S Y="@395" Q
"RTN","ONCOTNE",70,0)
 I TOPSITE>67499,TOPSITE<67510 S BPSITE=67500 D DSP Q
"RTN","ONCOTNE",71,0)
 I TOPSITE=67619 S BPSITE=67619 D DSP Q
"RTN","ONCOTNE",72,0)
 D STUFF0 S Y="@395"
"RTN","ONCOTNE",73,0)
 Q
"RTN","ONCOTNE",74,0)
 ;
"RTN","ONCOTNE",75,0)
DSP ;Display SCREENING OR BIOPSY PROCEDURES
"RTN","ONCOTNE",76,0)
 I (COC=5)!(COC=8) D  S Y="@395" Q
"RTN","ONCOTNE",77,0)
 .S $P(^ONCO(165.5,D0,2.1),U,14)=6
"RTN","ONCOTNE",78,0)
 .S:BPSITE=67500 $P(^ONCO(165.5,D0,2.1),U,15)=9
"RTN","ONCOTNE",79,0)
 .S:BPSITE=67619 $P(^ONCO(165.5,D0,2.1),U,15)=5
"RTN","ONCOTNE",80,0)
 .F PIECE=16:1:19 S $P(^ONCO(165.5,D0,2.1),U,PIECE)=9
"RTN","ONCOTNE",81,0)
 I BPSITE=67500 S $P(^ONCO(165.5,D0,2.1),U,18)="",$P(^ONCO(165.5,D0,2.1),U,19)=""
"RTN","ONCOTNE",82,0)
 I BPSITE=67619 S $P(^ONCO(165.5,D0,2.1),U,16)="",$P(^ONCO(165.5,D0,2.1),U,17)=""
"RTN","ONCOTNE",83,0)
 S HDL=$L("Stage of Disease at Diagnosis"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCOTNE",84,0)
 W @IOF,DASHES
"RTN","ONCOTNE",85,0)
 W !,?1,PATNAM,?TAB,"Stage of Disease at Diagnosis",?SITTAB,SITEGP
"RTN","ONCOTNE",86,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCOTNE",87,0)
 W !,DASHES
"RTN","ONCOTNE",88,0)
 W !," SCREENING OR BIOPSY PROCEDURES"
"RTN","ONCOTNE",89,0)
 W !," ------------------------------"
"RTN","ONCOTNE",90,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCOTNE",91,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCOTNE",92,0)
 S DR="141:146"
"RTN","ONCOTNE",93,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCOTNE",94,0)
 F I=141,142,143,144,145,146 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCOTNE",95,0)
 W !," Biopsy procedure..............: ",ONC(165.5,D0,141)
"RTN","ONCOTNE",96,0)
 W !," Guidance......................: ",ONC(165.5,D0,142)
"RTN","ONCOTNE",97,0)
 W:BPSITE=67500 !," Palpability of primary........: ",ONC(165.5,D0,143)
"RTN","ONCOTNE",98,0)
 W:BPSITE=67500 !," First detected by.............: ",ONC(165.5,D0,144)
"RTN","ONCOTNE",99,0)
 W:BPSITE=67619 !," Approach for biopsy of primary: ",ONC(165.5,D0,145)
"RTN","ONCOTNE",100,0)
 W:BPSITE=67619 !," Biopsy of other than primary..: ",ONC(165.5,D0,146)
"RTN","ONCOTNE",101,0)
 W !,DASHES
"RTN","ONCOTNE",102,0)
 Q
"RTN","ONCOTNE",103,0)
STUFF0 ; IF SITE DOESN'T HAVE BIOPSY PROCEDURE, STUFF ALL 0'S
"RTN","ONCOTNE",104,0)
 S $P(^ONCO(165.5,D0,2.1),U,14)=1
"RTN","ONCOTNE",105,0)
 S $P(^ONCO(165.5,D0,2.1),U,15)=1
"RTN","ONCOTNE",106,0)
 F PIECE=16:1:19 S $P(^ONCO(165.5,D0,2.1),U,PIECE)=0
"RTN","ONCOTNE",107,0)
 Q
"RTN","ONCOTNE",108,0)
NOBP ; IF NO BIOPSY PROCEDURE, STUFF 0'S
"RTN","ONCOTNE",109,0)
 ; D STUFF0,STFMSG
"RTN","ONCOTNE",110,0)
 I BPSITE=67500 D  D STFMSG S Y="@1423" Q
"RTN","ONCOTNE",111,0)
 .S $P(^ONCO(165.5,D0,2.1),U,15)=1
"RTN","ONCOTNE",112,0)
 .S $P(^ONCO(165.5,D0,2.1),U,18)=0
"RTN","ONCOTNE",113,0)
 .S $P(^ONCO(165.5,D0,2.1),U,19)=0
"RTN","ONCOTNE",114,0)
 .Q
"RTN","ONCOTNE",115,0)
 I BPSITE=67619 D  D STFMSG S Y="@1456" Q
"RTN","ONCOTNE",116,0)
 .S $P(^ONCO(165.5,D0,2.1),U,15)=1
"RTN","ONCOTNE",117,0)
 .S $P(^ONCO(165.5,D0,2.1),U,16)=0
"RTN","ONCOTNE",118,0)
 .S $P(^ONCO(165.5,D0,2.1),U,17)=0
"RTN","ONCOTNE",119,0)
 .S $P(^ONCO(165.5,D0,2.1),U,18)=0
"RTN","ONCOTNE",120,0)
 .Q
"RTN","ONCOTNE",121,0)
 Q
"RTN","ONCOTNE",122,0)
UNKBP ; IF UNK BIOPSY PROCEDURE, STUFF 9'S
"RTN","ONCOTNE",123,0)
 F BP=0:0 S BP=$O(^ONCO(164,BPSITE,"BP5",BP)) Q:BP="B"  S LAST=BP
"RTN","ONCOTNE",124,0)
 S $P(^ONCO(165.5,D0,2.1),U,14)=LAST
"RTN","ONCOTNE",125,0)
 F GU=0:0 S GU=$O(^ONCO(164,BPSITE,"GU5",GU)) Q:GU="B"  S LAST=GU
"RTN","ONCOTNE",126,0)
 S $P(^ONCO(165.5,D0,2.1),U,15)=LAST
"RTN","ONCOTNE",127,0)
 I BPSITE=67500 D  D STFMSG S Y="@1423" Q
"RTN","ONCOTNE",128,0)
 .S $P(^ONCO(165.5,D0,2.1),U,18)=0
"RTN","ONCOTNE",129,0)
 .S $P(^ONCO(165.5,D0,2.1),U,19)=0
"RTN","ONCOTNE",130,0)
 .Q
"RTN","ONCOTNE",131,0)
 I BPSITE=67619 D  D STFMSG S Y="@1456" Q
"RTN","ONCOTNE",132,0)
 .S $P(^ONCO(165.5,D0,2.1),U,16)=0
"RTN","ONCOTNE",133,0)
 .S $P(^ONCO(165.5,D0,2.1),U,17)=0
"RTN","ONCOTNE",134,0)
 .S $P(^ONCO(165.5,D0,2.1),U,18)=9
"RTN","ONCOTNE",135,0)
 .Q
"RTN","ONCOTNE",136,0)
 Q
"RTN","ONCOTNE",137,0)
STFMSG ;
"RTN","ONCOTNE",138,0)
 I BPSITE=67500 D
"RTN","ONCOTNE",139,0)
 .K ONCBR S DIC="^ONCO(165.5,",DA=DA,DIQ="ONCBR(",DIQ(0)="E"
"RTN","ONCOTNE",140,0)
 .S DR="142" D EN^DIQ1
"RTN","ONCOTNE",141,0)
 .F I=142 S X=ONCBR(165.5,D0,I) D UCASE S ONCBR(165.5,D0,I)=X
"RTN","ONCOTNE",142,0)
 .W !,"GUIDANCE........: "_ONCBR(165.5,DA,142,"E")
"RTN","ONCOTNE",143,0)
 .S Y="@1423"
"RTN","ONCOTNE",144,0)
 .K ONCBR Q
"RTN","ONCOTNE",145,0)
 I BPSITE=67619 D
"RTN","ONCOTNE",146,0)
 .K ONCPR S DIC="^ONCO(165.5,",DA=DA,DIQ="ONCPR(",DIQ(0)="E"
"RTN","ONCOTNE",147,0)
 .S DR="142;145" D EN^DIQ1
"RTN","ONCOTNE",148,0)
 .F I=142,145 S X=ONCPR(165.5,D0,I) D UCASE S ONCPR(165.5,D0,I)=X
"RTN","ONCOTNE",149,0)
 .W !,"GUIDANCE......................: "_ONCPR(165.5,DA,142,"E")
"RTN","ONCOTNE",150,0)
 .W !,"APPROACH FOR BIOPSY OF PRIMARY: "_ONCPR(165.5,DA,145,"E")
"RTN","ONCOTNE",151,0)
 .S Y="@1456"
"RTN","ONCOTNE",152,0)
 .K ONCPR Q
"RTN","ONCOTNE",153,0)
 Q
"RTN","ONCOTNE",154,0)
 ;
"RTN","ONCOTNE",155,0)
UCASE S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCOTNE",156,0)
 Q
"RTN","ONCOTNM")
0^257^B137993546
"RTN","ONCOTNM",1,0)
ONCOTNM ;Hines OIFO/GWB - TNM coding ;02/22/11
"RTN","ONCOTNM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNM",3,0)
 ;
"RTN","ONCOTNM",4,0)
 ;INPUT TRANSFORM, OUTPUT TRANSFORM and HELP for:
"RTN","ONCOTNM",5,0)
 ;CLINICAL T   (165.5,37.1)
"RTN","ONCOTNM",6,0)
 ;CLINICAL N   (165.5,37.2)
"RTN","ONCOTNM",7,0)
 ;CLINICAL M   (165.5,37.3)
"RTN","ONCOTNM",8,0)
 ;PATHOLOGIC T (165.5,85)
"RTN","ONCOTNM",9,0)
 ;PATHOLOGIC N (165.5,86)
"RTN","ONCOTNM",10,0)
 ;PATHOLOGIC M (165.5,87)
"RTN","ONCOTNM",11,0)
 ;OTHER T      (165.5,93)
"RTN","ONCOTNM",12,0)
 ;OTHER N      (165.5,98)
"RTN","ONCOTNM",13,0)
 ;OTHER M      (165.5,99)
"RTN","ONCOTNM",14,0)
 ;
"RTN","ONCOTNM",15,0)
IN ;INPUT TRANSFORM
"RTN","ONCOTNM",16,0)
 D SETVAR
"RTN","ONCOTNM",17,0)
 G EX:(ST="")!(TX="")
"RTN","ONCOTNM",18,0)
 S X=$TR(X,"abcdilmopsuvx","ABCDILMOPSUVX")
"RTN","ONCOTNM",19,0)
 I (X="X")!(X="IS")!(X="A") G IN1
"RTN","ONCOTNM",20,0)
 S XX=$E(X)
"RTN","ONCOTNM",21,0)
 S X=$S(XX?1.A:$E(X,2,$L(X)),1:X) I X="" K X G EX
"RTN","ONCOTNM",22,0)
IN1 S TRANSFRM="INPUT" D FILSC
"RTN","ONCOTNM",23,0)
 I $D(^ONCO(FIL,SC,ONCOX_ONCOED)) S ONCOX=ONCOX_ONCOED G CKIN
"RTN","ONCOTNM",24,0)
 I $D(^ONCO(FIL,SC,ONCOX_(ONCOED-1))) S ONCOX=ONCOX_(ONCOED-1) G CKIN
"RTN","ONCOTNM",25,0)
 I $D(^ONCO(FIL,SC,ONCOX_(ONCOED-2))) S ONCOX=ONCOX_(ONCOED-2)
"RTN","ONCOTNM",26,0)
CKIN D CK I 'XD0 S X=$TR(X,"abcd","ABCD") D CK
"RTN","ONCOTNM",27,0)
 I 'XD0 K X
"RTN","ONCOTNM",28,0)
 E  D
"RTN","ONCOTNM",29,0)
 .S TD=$P(^ONCO(FIL,SC,ONCOX,XD0,0),U,1)
"RTN","ONCOTNM",30,0)
 .I ONCOX["T" S T=$S(TD="CBA":"Primary tumor cannot be assessed",TD="NET":"No evidence of primary tumor",TD="CIS":"Carcinoma 'in situ'",TD="TIAS":"Tumor invades adjacent structures",TD="TIAO":"Tumor invades adjacent organs",1:TD)
"RTN","ONCOTNM",31,0)
 .I ONCOX["N" S T=$S(TD="NCA":"Regional lymph nodes cannot be assessed",TD="NRN":"No regional lymph node metastasis",TD="MET":"Metastasis in regional lymph node(s)",1:TD)
"RTN","ONCOTNM",32,0)
 .I ONCOX["M" S T=TD
"RTN","ONCOTNM",33,0)
 I ONCOED>6,STGIND="P",ONCOX["M",$G(X)'[1 K X
"RTN","ONCOTNM",34,0)
 D EX
"RTN","ONCOTNM",35,0)
 Q
"RTN","ONCOTNM",36,0)
 ;
"RTN","ONCOTNM",37,0)
CK ;Check for existence of code
"RTN","ONCOTNM",38,0)
 S XD0=$G(^ONCO(FIL,SC,ONCOX,"X",X))
"RTN","ONCOTNM",39,0)
 Q
"RTN","ONCOTNM",40,0)
 ;
"RTN","ONCOTNM",41,0)
OT ;OUTPUT TRANSFORM
"RTN","ONCOTNM",42,0)
 D SETVAR
"RTN","ONCOTNM",43,0)
 G EX:(ST="")!(TX="")
"RTN","ONCOTNM",44,0)
 D @$S(ONCOED<3:"OT12",1:"OT3456")
"RTN","ONCOTNM",45,0)
 Q
"RTN","ONCOTNM",46,0)
 ;
"RTN","ONCOTNM",47,0)
OT12 ;1st and 2nd editions
"RTN","ONCOTNM",48,0)
 S:Y'="" Y=$E(ONCOX)_Y
"RTN","ONCOTNM",49,0)
 Q
"RTN","ONCOTNM",50,0)
 ;
"RTN","ONCOTNM",51,0)
OT3456 ;3rd, 4th, 5th, 6th and 7th editions
"RTN","ONCOTNM",52,0)
 S TRANSFRM="OUTPUT" D FILSC
"RTN","ONCOTNM",53,0)
 I Y="" G EX
"RTN","ONCOTNM",54,0)
 I $D(^ONCO(FIL,SC,ONCOX_ONCOED)) S ONCOX=ONCOX_ONCOED G CKOT
"RTN","ONCOTNM",55,0)
 I $D(^ONCO(FIL,SC,ONCOX_(ONCOED-1))) S ONCOX=ONCOX_(ONCOED-1) G CKOT
"RTN","ONCOTNM",56,0)
 I $D(^ONCO(FIL,SC,ONCOX_(ONCOED-2))) S ONCOX=ONCOX_(ONCOED-2)
"RTN","ONCOTNM",57,0)
CKOT S XD0=$G(^ONCO(FIL,SC,ONCOX,"X",Y)) G EX:XD0=""
"RTN","ONCOTNM",58,0)
 S TC=^ONCO(FIL,SC,ONCOX,XD0,0),MM=""
"RTN","ONCOTNM",59,0)
 D TC
"RTN","ONCOTNM",60,0)
 I ONCOED<7 S Y=$E(ONCOX)_$P(TC,U,2)_MM_" "_TT G OTEX
"RTN","ONCOTNM",61,0)
 I (ONCOED=7)&($E(ONCOX)="M") S Y=$E(ONCOX)_Y(0)_MM G OTEX
"RTN","ONCOTNM",62,0)
 I ONCOED=7 S Y=$E(ONCOX)_Y(0)_MM
"RTN","ONCOTNM",63,0)
 ;I (ONCOED=7)&($E(ONCOX)="M") S Y=$E(ONCOX)_$P(TC,U,2)_MM G OTEX 
"RTN","ONCOTNM",64,0)
 ;I ONCOED=7 S Y=$E(ONCOX)_$P(TC,U,1)_MM
"RTN","ONCOTNM",65,0)
OTEX S YSTRING=$E(Y,2,99)
"RTN","ONCOTNM",66,0)
 S YSTRING=$TR(YSTRING,"ABCDEIMOLSUX","abcdeimolsux")
"RTN","ONCOTNM",67,0)
 S Y=$E(Y,1)_YSTRING
"RTN","ONCOTNM",68,0)
 G EX
"RTN","ONCOTNM",69,0)
 ;
"RTN","ONCOTNM",70,0)
TC I $E(ONCOX)="T" D
"RTN","ONCOTNM",71,0)
 .S TT=$S(Y="X":"Primary tumor cannot be assessed",Y=0:"No evidence of primary tumor",1:$P(TC,U))
"RTN","ONCOTNM",72,0)
 .S TT=$S(TT="TIAS":"Tumor invades adjacent structures",1:TT)
"RTN","ONCOTNM",73,0)
 .N MC,MM,MT,XXDTDX
"RTN","ONCOTNM",74,0)
 .S MT=$P($G(^ONCO(165.5,D0,2)),U,31) ;MULTIPLE TUMORS (165.5,69)
"RTN","ONCOTNM",75,0)
 .S MC=$P($G(^ONCO(165.5,D0,24)),U,16) ;MULTIPLICITY COUNTER (165.5,196)
"RTN","ONCOTNM",76,0)
 .S XXDTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOTNM",77,0)
 .I XXDTDX<3070000 S MM=MT
"RTN","ONCOTNM",78,0)
 .I XXDTDX>3069999 S MM=MC I (+MM=0)!(+MM=1)!(MM>87) S MM=""
"RTN","ONCOTNM",79,0)
 .I MM'="" S MM=$S(+MM>1:"m"_+MM,1:"m")
"RTN","ONCOTNM",80,0)
 E  I $E(ONCOX)="N" S TT=$S($P(TC,U,1)="NCA":"Regional lymph nodes cannot be assessed",$P(TC,U,1)="NRN":"No regional lymph node metastasis",ST=58:"NA",1:$P(TC,U)),TT=$S(TT="MET":"Metastasis in regional lymph node(s)",1:TT)
"RTN","ONCOTNM",81,0)
 E  I $E(ONCOX)="M" S TT=$P(TC,U) Q
"RTN","ONCOTNM",82,0)
 Q
"RTN","ONCOTNM",83,0)
 ;
"RTN","ONCOTNM",84,0)
HP ;HELP
"RTN","ONCOTNM",85,0)
 D SETVAR
"RTN","ONCOTNM",86,0)
 G EX:(ST="")!(TX="")
"RTN","ONCOTNM",87,0)
 D @$S(ONCOED<3:"P12",1:"P3456")
"RTN","ONCOTNM",88,0)
 Q
"RTN","ONCOTNM",89,0)
 ;
"RTN","ONCOTNM",90,0)
P12 ;1st and 2nd edition
"RTN","ONCOTNM",91,0)
 D EN^DDIOL("Enter the appropriate TNM code.",,"!!")
"RTN","ONCOTNM",92,0)
 Q
"RTN","ONCOTNM",93,0)
 ;
"RTN","ONCOTNM",94,0)
P3456 ;3rd, 4th, 5th, 6th and 7th editions
"RTN","ONCOTNM",95,0)
 S TRANSFRM="HELP" D FILSC
"RTN","ONCOTNM",96,0)
 I $D(^ONCO(FIL,SC,ONCOX_ONCOED)) S ONCOX=ONCOX_ONCOED
"RTN","ONCOTNM",97,0)
 ;
"RTN","ONCOTNM",98,0)
 ;Full text help from AJCC STAGING GROUPS (164.33)
"RTN","ONCOTNM",99,0)
 N S,SUB
"RTN","ONCOTNM",100,0)
 S S=SC
"RTN","ONCOTNM",101,0)
 I ONCOED>6,FIL=164.33,(S=31)!(S=25)!(S=39)!(S=41)!(S=50)!(S=51)!(S=55)!(S=56)!(S=57)!(S=58)!(S=59)!(S=60)!(S=61)!(S=62)!(S=63)!(S=64)!(S=66) S SUB=$S($E(ONCOX,1)="T":7,$E(ONCOX,1)="N":8,1:9) I $D(^ONCO(164.33,S,SUB)) D  D EN^DDIOL(" ") Q
"RTN","ONCOTNM",102,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164.33,SC,SUB,HIEN)) Q:HIEN'>0  D
"RTN","ONCOTNM",103,0)
 ..I STGIND="P",ONCOX["M",(^ONCO(164.33,SC,SUB,HIEN,0)'["M1")&(^ONCO(164.33,SC,SUB,HIEN,0)'="Distant Metastasis (M)")&(^ONCO(164.33,SC,SUB,HIEN,0)'="")&(^ONCO(164.33,SC,SUB,HIEN,0)'=" ") Q
"RTN","ONCOTNM",104,0)
 ..D EN^DDIOL(^ONCO(164.33,SC,SUB,HIEN,0),,"!?1")
"RTN","ONCOTNM",105,0)
 ;
"RTN","ONCOTNM",106,0)
 I ONCOED>5,FIL=164.33,(SC=22)!(SC=23)!(SC=25)!(SC=29)!(SC=30)!(SC=35)!(SC=39)!(SC=41)!(SC=50)!(SC=51)!(SC=55)!(SC=61)!(SC=62)!(SC=63) S SUB=$S($E(ONCOX,1)="T":4,$E(ONCOX,1)="N":5,1:6) I $D(^ONCO(164.33,SC,SUB)) D  D EN^DDIOL(" ") K SUB Q
"RTN","ONCOTNM",107,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164.33,SC,SUB,HIEN)) Q:HIEN'>0  D
"RTN","ONCOTNM",108,0)
 ..I ONCOED>6,STGIND="P",ONCOX["M",(^ONCO(164.33,SC,SUB,HIEN,0)'["M1")&(^ONCO(164.33,SC,SUB,HIEN,0)'="Distant Metastasis (M)")&(^ONCO(164.33,SC,SUB,HIEN,0)'="") Q
"RTN","ONCOTNM",109,0)
 ..D EN^DDIOL(^ONCO(164.33,SC,SUB,HIEN,0),,"!?1")
"RTN","ONCOTNM",110,0)
 ;
"RTN","ONCOTNM",111,0)
 I ONCOED>4,ONCOED<7,FIL=164.33,(SC=22)!(SC=23)!(SC=25)!(SC=29)!(SC=30)!(SC=35)!(SC=39)!(SC=41)!(SC=50)!(SC=51) S SUB=$S($E(ONCOX,1)="T":1,$E(ONCOX,1)="N":2,1:3) I $D(^ONCO(164.33,SC,SUB)) D  D EN^DDIOL(" ") K SUB Q
"RTN","ONCOTNM",112,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164.33,SC,SUB,HIEN)) Q:HIEN'>0  D EN^DDIOL(^ONCO(164.33,SC,SUB,HIEN,0),,"!?1")
"RTN","ONCOTNM",113,0)
 ;
"RTN","ONCOTNM",114,0)
 ;Full text help from ICDO TOPOGRAPHY (164)
"RTN","ONCOTNM",115,0)
 I ONCOED>6 S SUB=$S($E(ONCOX,1)="T":11,$E(ONCOX,1)="N":12,1:13) I $D(^ONCO(164,SC,SUB)) D  D EN^DDIOL(" ") K SUB Q
"RTN","ONCOTNM",116,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164,SC,SUB,HIEN)) Q:HIEN'>0  D
"RTN","ONCOTNM",117,0)
 ..I ONCOED>6,STGIND="P",SUB=13,(^ONCO(164,SC,SUB,HIEN,0)["M0")!(^ONCO(164,SC,SUB,HIEN,0)["MX") D  Q
"RTN","ONCOTNM",118,0)
 ...I SC=67500 S HIEN=HIEN+5 Q
"RTN","ONCOTNM",119,0)
 ..D EN^DDIOL(^ONCO(164,SC,SUB,HIEN,0),,"!?1")
"RTN","ONCOTNM",120,0)
 ;
"RTN","ONCOTNM",121,0)
 I ONCOED>5 S SUB=$S($E(ONCOX,1)="T":8,$E(ONCOX,1)="N":9,1:10) I $D(^ONCO(164,SC,SUB)) D  D EN^DDIOL(" ") K SUB Q
"RTN","ONCOTNM",122,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164,SC,SUB,HIEN)) Q:HIEN'>0  D EN^DDIOL(^ONCO(164,SC,SUB,HIEN,0),,"!?1")
"RTN","ONCOTNM",123,0)
 ;
"RTN","ONCOTNM",124,0)
 I ONCOED>4 S SUB=$S($E(ONCOX,1)="T":5,$E(ONCOX,1)="N":6,1:7) I $D(^ONCO(164,SC,SUB)) D  D EN^DDIOL(" ") K SUB Q
"RTN","ONCOTNM",125,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164,SC,SUB,HIEN)) Q:HIEN'>0  D EN^DDIOL(^ONCO(164,SC,SUB,HIEN,0),,"!?1")
"RTN","ONCOTNM",126,0)
 ;
"RTN","ONCOTNM",127,0)
 S XD0=0
"RTN","ONCOTNM",128,0)
 D EN^DDIOL($S(ONCOX["T":" Primary Tumor (T)",ONCOX["N":" Regional Lymph Nodes (N)",ONCOX["M":" Distant Metastasis (M)",1:""))
"RTN","ONCOTNM",129,0)
 D EN^DDIOL(" ")
"RTN","ONCOTNM",130,0)
 F  S XD0=$O(^ONCO(FIL,SC,ONCOX,XD0)) Q:XD0'>0  D
"RTN","ONCOTNM",131,0)
 .N Y,T
"RTN","ONCOTNM",132,0)
 .S Y=^(XD0,0),T=$P(Y,U)
"RTN","ONCOTNM",133,0)
 .I ONCOX["T" D
"RTN","ONCOTNM",134,0)
 ..I $P(Y,U,2)'=88 D EN^DDIOL("T"_$P(Y,U,2),,"!?1")
"RTN","ONCOTNM",135,0)
 ..D EN^DDIOL($S(T="CBA":"Primary tumor cannot be assessed",T="NET":"No evidence of primary tumor",T="CIS":"Carcinoma 'in situ'",T="TIAS":"Tumor invades adjacent structures",T="TIAO":"Tumor invades adjacent organs",1:T),,"?12")
"RTN","ONCOTNM",136,0)
 .E  I ONCOX["N" I $P(Y,U,2)'=88 D EN^DDIOL("N"_$P(Y,U,2),,"!?1") D EN^DDIOL($S(T="NCA":"Regional lymph nodes cannot be assessed",T="NRN":"No regional lymph node metastasis",T="MET":"Regional lymph nodes metastasis",1:T),,"?13")
"RTN","ONCOTNM",137,0)
 .E  I ONCOX["M" D
"RTN","ONCOTNM",138,0)
 ..I ONCOED>6,STGIND="P",($P(Y,U,2)="X")!($P(Y,U,2)=0) Q
"RTN","ONCOTNM",139,0)
 ..I $P(Y,U,2)'=88 D EN^DDIOL("M"_$P(Y,U,2),,"!?1") D EN^DDIOL(T,,"?6")
"RTN","ONCOTNM",140,0)
 D EN^DDIOL(" ") Q
"RTN","ONCOTNM",141,0)
 ;
"RTN","ONCOTNM",142,0)
SETVAR ;Set variables
"RTN","ONCOTNM",143,0)
 S ST=$P(^ONCO(165.5,D0,0),U,1)              ;SITE/GP
"RTN","ONCOTNM",144,0)
 S TX=$P($G(^ONCO(165.5,D0,2)),U,1)          ;PRIMARY SITE
"RTN","ONCOTNM",145,0)
 Q:TX=""
"RTN","ONCOTNM",146,0)
 S HT=$$HIST^ONCFUNC(D0)                     ;Histology
"RTN","ONCOTNM",147,0)
 S HT14=$E(HT,1,4)
"RTN","ONCOTNM",148,0)
 S SC=$P(^ONCO(164,TX,0),U,11)               ;T & N CODES
"RTN","ONCOTNM",149,0)
 S DATEDX=$P(^ONCO(165.5,D0,0),U,16)         ;DATE DX
"RTN","ONCOTNM",150,0)
 S YR=$E($P($G(^ONCO(165.5,D0,0)),U,16),1,3) ;DATE DX (Year)
"RTN","ONCOTNM",151,0)
 S ONCOED=$S(YR<283:1,YR<288:2,YR<292:3,YR<298:4,YR<303:5,YR<310:6,1:7)
"RTN","ONCOTNM",152,0)
 S SD=$P($G(^ONCO(165.5,D0,"CS3")),U,1)      ;SCHEMA DISCRIMINATOR
"RTN","ONCOTNM",153,0)
 S FIL=164
"RTN","ONCOTNM",154,0)
 Q
"RTN","ONCOTNM",155,0)
 ;
"RTN","ONCOTNM",156,0)
FILSC ;Get file (FIL) and IEN (SC) for appropriate TNM list
"RTN","ONCOTNM",157,0)
 ;
"RTN","ONCOTNM",158,0)
 ;PART II: HEAD AND NECK
"RTN","ONCOTNM",159,0)
 ;Mucosal Melanoma of the Head and Neck
"RTN","ONCOTNM",160,0)
 N TC
"RTN","ONCOTNM",161,0)
 S TC=$E(TX,3,4)
"RTN","ONCOTNM",162,0)
 I ONCOED>6,(HT>87199)&(HT<87910),((TC="00")!(TC="01")!(TC="02")!(TC="03")!(TC="04")!(TC="05")!(TC="06")!(TC="09")!(TC=10)!(TC=11)!(TC=12)!(TC=13)!(TC=32)!(TX=67300)!(TX=67310)!(TX=67311)!(TX=67140)!(TX=67142)!(TX=67148)) S FIL=164.33,SC=61 Q
"RTN","ONCOTNM",163,0)
 ;
"RTN","ONCOTNM",164,0)
 ;PART III: DIGESTIVE SYSTEM
"RTN","ONCOTNM",165,0)
 ;Esophagus and Esophagastric Junction
"RTN","ONCOTNM",166,0)
 I ONCOED>4,ONCOED<7,TX=67151,ONCOX="M" S FIL=164,SC=67154 Q
"RTN","ONCOTNM",167,0)
 I ONCOED>4,ONCOED<7,TX=67152,ONCOX="M" S FIL=164,SC=67155 Q
"RTN","ONCOTNM",168,0)
 I ONCOED>4,ONCOED<7,TX=67153,ONCOX="M" S FIL=164,SC=67153 Q
"RTN","ONCOTNM",169,0)
 I ONCOED>4,ONCOED<7,TX=67154,ONCOX="M" S FIL=164,SC=67154 Q
"RTN","ONCOTNM",170,0)
 I ONCOED>4,ONCOED<7,TX=67155,ONCOX="M" S FIL=164,SC=67155 Q
"RTN","ONCOTNM",171,0)
 I ONCOED>6,(TX=67161)!(TX=67162),(SD="010")!(SD="020")!(SD="040")!(SD="060") S FIL=164,SC=67150 Q
"RTN","ONCOTNM",172,0)
 I ONCOED>6,TX=67160,((HT14>7999)&(HT14<8153)!(HT14>8153)&(HT14<8232)!(HT14>8242)&(HT14<8246)!(HT14>8249)&(HT14<8577)!(HT14>8939)&(HT14<8951)!(HT14>8979)&(HT14<8982)) S FIL=164,SC=67150 Q
"RTN","ONCOTNM",173,0)
 ;
"RTN","ONCOTNM",174,0)
 ;Appendix, 7th Edition
"RTN","ONCOTNM",175,0)
 I ONCOED>6,TX=67181 D  Q
"RTN","ONCOTNM",176,0)
 .I (HT14=8153)!(HT14=8240)!(HT14=8241)!(HT14=8242)!(HT14=8246)!(HT14=8249) S FIL=164.33,SC=62 Q
"RTN","ONCOTNM",177,0)
 .S FIL=164,SC=67181
"RTN","ONCOTNM",178,0)
 ;
"RTN","ONCOTNM",179,0)
 ;Gastrointestinal Stromal Tumor (GIST), 7th Edition
"RTN","ONCOTNM",180,0)
 I ($E(HT,1,4)=8935)!($E(HT,1,4)=8936),(($E(TX,3,4)=15)!($E(TX,3,4)=16)!($E(TX,3,4)=17)!($E(TX,3,4)=18)!($E(TX,3,4)=21)!($E(TX,3,4)=48)!(TX=67199)!(TX=67209)),ONCOED>6 S FIL=164.33,SC=56 Q
"RTN","ONCOTNM",181,0)
 ;
"RTN","ONCOTNM",182,0)
 ;Neuroendocrine Tumor (Stomach), 7th Edition
"RTN","ONCOTNM",183,0)
 I (($E(HT,1,4)=8153)!($E(HT,1,4)=8240)!($E(HT,1,4)=8241)!($E(HT,1,4)=8242)!($E(HT,1,4)=8246)!($E(HT,1,4)=8249)),$E(TX,3,4)=16,ONCOED>6 S FIL=164.33,SC=57 Q
"RTN","ONCOTNM",184,0)
 ;
"RTN","ONCOTNM",185,0)
 ;Neuroendocrine Tumor (Duodenum/Ampulla/Jejunum/Ileum), 7th Edition
"RTN","ONCOTNM",186,0)
 I (($E(HT,1,4)=8153)!($E(HT,1,4)=8240)!($E(HT,1,4)=8241)!($E(HT,1,4)=8242)!($E(HT,1,4)=8246)!($E(HT,1,4)=8249)),(($E(TX,3,4)=17)!(TX=67241)),ONCOED>6 S FIL=164.33,SC=58 Q
"RTN","ONCOTNM",187,0)
 ;
"RTN","ONCOTNM",188,0)
 ;Neuroendocrine Tumor (Colon or Rectum), 7th Edition
"RTN","ONCOTNM",189,0)
 I $$MELANOMA^ONCOU55(D0),(($E(TX,3,4)=44)!($E(TX,3,4)=51)!($E(TX,3,4)=60)!(TX=67632)) S FIL=164.33,SC=22 Q
"RTN","ONCOTNM",190,0)
 I (($E(HT,1,4)=8153)!($E(HT,1,4)=8240)!($E(HT,1,4)=8241)!($E(HT,1,4)=8242)!($E(HT,1,4)=8246)!($E(HT,1,4)=8249)),(($E(TX,3,4)=18)!(TX=67199)!(TX=67209)),ONCOED>6 S FIL=164.33,SC=59 Q
"RTN","ONCOTNM",191,0)
 ;
"RTN","ONCOTNM",192,0)
 ;Intrahepatic Bile Ducts
"RTN","ONCOTNM",193,0)
 I ONCOED>6,TX=67221 S FIL=164,SC=67221 Q
"RTN","ONCOTNM",194,0)
 ;
"RTN","ONCOTNM",195,0)
 ;Gallbladder
"RTN","ONCOTNM",196,0)
 I ONCOED>6,TX=67240,SD="030" S FIL=164,SC=67239 Q
"RTN","ONCOTNM",197,0)
 ;
"RTN","ONCOTNM",198,0)
 ;Extraheptic Bile Ducts
"RTN","ONCOTNM",199,0)
 I ((TX=67240)!(TX=67248)!(67249)),ONCOED=3,ONCOX="N" S FIL=164.33,SC=15 Q
"RTN","ONCOTNM",200,0)
 ;
"RTN","ONCOTNM",201,0)
 ;Perihilar Bile Duct
"RTN","ONCOTNM",202,0)
 ;I ONCOED>6,TX=67240,(SD="040")!(SD="070") S FIL=164.33,SC=63 Q
"RTN","ONCOTNM",203,0)
 ;
"RTN","ONCOTNM",204,0)
 ;Distal Bile Duct
"RTN","ONCOTNM",205,0)
 I ONCOED>6,TX=67240,(SD="040")!(SD="070") S FIL=164.33,SC=63 Q
"RTN","ONCOTNM",206,0)
 ;
"RTN","ONCOTNM",207,0)
 ;PART VI: SKIN
"RTN","ONCOTNM",208,0)
 ;Merkel Cell Carcinoma
"RTN","ONCOTNM",209,0)
 I ONCOED>6,$E(HT,1,4)=8247,((TX=67440)!(TX=67442)!(TX=67443)!(TX=67444)!(TX=67445)!(TX=67446)!(TX=67447)!(TX=67448)!(TX=67449)!($E(TX,3,4)=51)!($E(TX,3,4)=60)!(TX=67632)) S FIL=164.33,SC=60 Q
"RTN","ONCOTNM",210,0)
 ;
"RTN","ONCOTNM",211,0)
 ;Melanoma of the Skin
"RTN","ONCOTNM",212,0)
 I $$MELANOMA^ONCOU55(D0),(($E(TX,3,4)=44)!($E(TX,3,4)=51)!($E(TX,3,4)=60)!(TX=67632)) S FIL=164.33,SC=22 Q
"RTN","ONCOTNM",213,0)
 ;
"RTN","ONCOTNM",214,0)
 ;PART VII: BREAST
"RTN","ONCOTNM",215,0)
 ;Breast
"RTN","ONCOTNM",216,0)
 I $E(TX,1,4)=6750,ONCOX="N" D  Q
"RTN","ONCOTNM",217,0)
 .I STGIND="C" Q
"RTN","ONCOTNM",218,0)
 .I STGIND="P" S FIL=164.33,SC=23
"RTN","ONCOTNM",219,0)
 ;
"RTN","ONCOTNM",220,0)
 ;PART VIII: GYNECOLOGIC SITES
"RTN","ONCOTNM",221,0)
 ;Vulva
"RTN","ONCOTNM",222,0)
 I ONCOED>4,$E(TX,3,4)=51,ONCOX="M" S FIL=164,SC=67518 Q
"RTN","ONCOTNM",223,0)
 ;
"RTN","ONCOTNM",224,0)
 ;Vagina - 3rd and 4th editions
"RTN","ONCOTNM",225,0)
 I TX=67529,ONCOX="N",ONCOED<5 D  Q
"RTN","ONCOTNM",226,0)
 .S ONCUL=$P($G(^ONCO(165.5,D0,24)),U,4)
"RTN","ONCOTNM",227,0)
 .I ONCUL="U" Q
"RTN","ONCOTNM",228,0)
 .I ONCUL="L" S FIL=164.33,SC=52 Q
"RTN","ONCOTNM",229,0)
 ;
"RTN","ONCOTNM",230,0)
 ;Corpus Uteri - 7th edition
"RTN","ONCOTNM",231,0)
 I ONCOED>6,($E(TX,3,4)=54)!($E(TX,3,4)=55) D
"RTN","ONCOTNM",232,0)
 .I (HT14>7999)&(HT14<8791) S FIL=164,SC=67540 Q
"RTN","ONCOTNM",233,0)
 .I (HT14>8979)&(HT14<8982) S FIL=164,SC=67540 Q
"RTN","ONCOTNM",234,0)
 .I (HT14>9699)&(HT14<9702) S FIL=164,SC=67540 Q
"RTN","ONCOTNM",235,0)
 .I (HT14>8889)&(HT14<8899) S FIL=164.33,SC=25 Q
"RTN","ONCOTNM",236,0)
 .I (HT14>8929)&(HT14<8932) S FIL=164.33,SC=25 Q
"RTN","ONCOTNM",237,0)
 .I HT14=8933 S FIL=164.33,SC=64 Q
"RTN","ONCOTNM",238,0)
 ;
"RTN","ONCOTNM",239,0)
 ;Ovary and Primary Peritoneal Carcinoma - 7th edition
"RTN","ONCOTNM",240,0)
 I ONCOED>6,(TX=67481)!(TX=67482)!(TX=67488) D
"RTN","ONCOTNM",241,0)
 .I (HT14>7999)&(HT14<8577) S FIL=164,SC=67569 Q
"RTN","ONCOTNM",242,0)
 .I (HT14>8929)&(HT14<9111) S FIL=164,SC=67569 Q
"RTN","ONCOTNM",243,0)
 ;
"RTN","ONCOTNM",244,0)
 ;Gestational Trophoblastic Tumors - 5th, 6th and 7th editions
"RTN","ONCOTNM",245,0)
 ;I ONCOED>4,TX=67589,ONCOX="M" S FIL=164,SC=67540 Q
"RTN","ONCOTNM",246,0)
 I $$GTT^ONCOU55(D0),ONCOED>4,ONCOX="M" S FIL=164,SC=67589 Q
"RTN","ONCOTNM",247,0)
 ;I ONCOED=5,(($E(TX,3,4)=54)!($E(TX,3,4)=55)) S ONCOED=4
"RTN","ONCOTNM",248,0)
 ;
"RTN","ONCOTNM",249,0)
 ;PART IX: GENITOURINARY SITES
"RTN","ONCOTNM",250,0)
 ;Penis
"RTN","ONCOTNM",251,0)
 I $E(TX,3,4)=60,ONCOED>6,ONCOX="N",STGIND="C" S FIL=164.33,SC=31 Q
"RTN","ONCOTNM",252,0)
 I $E(TX,3,4)=60,ONCOED>6,ONCOX="N",STGIND="P" S FIL=164,SC=67600 Q
"RTN","ONCOTNM",253,0)
 ;
"RTN","ONCOTNM",254,0)
 ;Prostate
"RTN","ONCOTNM",255,0)
 I TX=67619,ONCOED>4,ONCOX="T",STGIND="P" S FIL=164.33,SC=29 Q
"RTN","ONCOTNM",256,0)
 I TX=67619,ONCOED=6,ONCOX="N",STGIND="P" S FIL=164.33,SC=29 Q
"RTN","ONCOTNM",257,0)
 I TX=67619,ONCOX="M" S FIL=164.33,SC=$S(ONCOED>3:29,1:3) Q
"RTN","ONCOTNM",258,0)
 ;
"RTN","ONCOTNM",259,0)
 ;Testis - 5th and 6th editions
"RTN","ONCOTNM",260,0)
 I $E(TX,3,4)=62,ONCOED>4,ONCOX="N",STGIND="P" S FIL=164.33,SC=30 Q
"RTN","ONCOTNM",261,0)
 I $E(TX,3,4)=62,ONCOED>4,ONCOX="M" S FIL=164,SC=67620 Q
"RTN","ONCOTNM",262,0)
 ;
"RTN","ONCOTNM",263,0)
 ;Urethra - Urothelial (Transitional Cell) Carcinoma of the Prostate
"RTN","ONCOTNM",264,0)
 I ONCOED>4,TX=67619,(HT=81203)!(HT=81303)!(HT=81223)!(HT=81202) D  Q
"RTN","ONCOTNM",265,0)
 .I ONCOX="T" S FIL=164.33,SC=35
"RTN","ONCOTNM",266,0)
 .I ONCOX="N" S FIL=164,SC=67680
"RTN","ONCOTNM",267,0)
 .I ONCOX="M" S FIL=164.33,SC=3
"RTN","ONCOTNM",268,0)
 ;
"RTN","ONCOTNM",269,0)
 ;PART X: OPHTHALMIC SITES
"RTN","ONCOTNM",270,0)
 ;Malignant Melanoma of the Eyelid -3rd and 4th editions
"RTN","ONCOTNM",271,0)
 I TX=67441,ONCOED<5,$$MELANOMA^ONCOU55(D0) S FIL=164.33,SC=37 Q
"RTN","ONCOTNM",272,0)
 ;
"RTN","ONCOTNM",273,0)
 ;Malignant Melanoma of the Conjunctiva
"RTN","ONCOTNM",274,0)
 I $$MELANOMA^ONCOU55(D0),TX=67690 S FIL=164.33,SC=$S(STGIND="P":50,1:39) Q
"RTN","ONCOTNM",275,0)
 ;
"RTN","ONCOTNM",276,0)
 ;Malignant Melanoma of the Uvea
"RTN","ONCOTNM",277,0)
 I TX=67693 S FIL=164.33,SC=51 Q
"RTN","ONCOTNM",278,0)
 I TX=67694,($P($G(^ONCO(165.5,D0,2)),U,22)="C")!($P($G(^ONCO(165.5,D0,"CS3")),U,1)="010") S FIL=164.33,SC=51 Q
"RTN","ONCOTNM",279,0)
 ;
"RTN","ONCOTNM",280,0)
 ;Retinoblastoma
"RTN","ONCOTNM",281,0)
 I TX=67692,STGIND="P" S FIL=164.33,SC=41 Q
"RTN","ONCOTNM",282,0)
 ;
"RTN","ONCOTNM",283,0)
 ;Ocular Adnexal Lymphoma
"RTN","ONCOTNM",284,0)
 I ONCOED>6,(TX=67441)!(TX=67690)!(TX=67695)!(TX=67696) D
"RTN","ONCOTNM",285,0)
 .I (HT14>9589)&(HT14<9700) S FIL=164.33,SC=66 Q
"RTN","ONCOTNM",286,0)
 .I (HT14>9701)&(HT14<9739) S FIL=164.33,SC=66 Q
"RTN","ONCOTNM",287,0)
 .I (HT14>9810)&(HT14<9819) S FIL=164.33,SC=66 Q
"RTN","ONCOTNM",288,0)
 .I (HT14>9819)&(HT14<9838) S FIL=164.33,SC=66 Q
"RTN","ONCOTNM",289,0)
 ;
"RTN","ONCOTNM",290,0)
 ;PART XI: CENTRAL NERVOUS SYSTEM
"RTN","ONCOTNM",291,0)
 ;Brain - 3rd and 4th editions
"RTN","ONCOTNM",292,0)
 I ((TX=67700)!($E(TX,3,4)=71)),ONCOED<5 D
"RTN","ONCOTNM",293,0)
 .I ONCOX="T" S SC=$S($P($G(^ONCO(165.5,D0,2)),U,7)="I":67710,1:67700) Q
"RTN","ONCOTNM",294,0)
 .I TRANSFRM'="OUTPUT",ONCOX="N" D EN^DDIOL(" This category does not apply to this site.",,"?12")
"RTN","ONCOTNM",295,0)
 ;
"RTN","ONCOTNM",296,0)
 ;PART XII: LYMPHOID NEOPLASMS
"RTN","ONCOTNM",297,0)
 ;Mycosis fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCOTNM",298,0)
 ;9700/3 and 9701/3
"RTN","ONCOTNM",299,0)
 ;C44.0-C44.9, C51.0-C51.2, C51.8-C51.9, C60.0-C60.2, C60.8-C60.9, C63.2
"RTN","ONCOTNM",300,0)
 I (HT=97003)!(HT=97013),($E(TX,3,4)=44)!($E(TX,3,4)=51)!($E(TX,3,4)=60)!(TX=67632),ONCOED>5 S FIL=164.33,SC=55 Q
"RTN","ONCOTNM",301,0)
 ;
"RTN","ONCOTNM",302,0)
 ;Bone metastasis
"RTN","ONCOTNM",303,0)
 I ONCOX="M",((HT14>8797)&(HT14<9137))!((HT14>9141)&(HT14<9583)) S FIL=164,SC=67400 Q
"RTN","ONCOTNM",304,0)
 ;
"RTN","ONCOTNM",305,0)
 I ONCOX="M",'$D(^ONCO(FIL,SC,"M"_ONCOED)) S FIL=164.33,SC=3
"RTN","ONCOTNM",306,0)
 ;
"RTN","ONCOTNM",307,0)
 Q
"RTN","ONCOTNM",308,0)
 ;
"RTN","ONCOTNM",309,0)
EX ;Exit
"RTN","ONCOTNM",310,0)
 K FIL,HIEN,HT,HT14,MM,ONCOX,ONCUL,SC,SD,ST,TC,TD,TRANSFRM,TT,TX,XD0
"RTN","ONCOTNM",311,0)
 K XX,YR,YSTRING
"RTN","ONCOTNM",312,0)
 Q
"RTN","ONCOTNM",313,0)
 ;
"RTN","ONCOTNM",314,0)
CLEANUP ;Cleanup
"RTN","ONCOTNM",315,0)
 K D0,DATEDX,ONCOED,STGIND
"RTN","ONCOTNMB")
0^258^B648870
"RTN","ONCOTNMB",1,0)
ONCOTNMB ;WISC/MLH - ONCOLOGY - HELPER for TNM codes ;8/21/93  11:55
"RTN","ONCOTNMB",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNMB",3,0)
 ;
"RTN","ONCOTNMB",4,0)
MMEYELID ;Check stage indicator for PATHOLOGIC or OTHER
"RTN","ONCOTNMB",5,0)
 I (STGIND="P")!(STGIND="O")!(STGIND="R") S SC=37
"RTN","ONCOTNMB",6,0)
 E  D
"RTN","ONCOTNMB",7,0)
 .Q:$G(ONCOED)=5
"RTN","ONCOTNMB",8,0)
 .W:$G(WFLG)="Y" !?5,"No CLINICAL T classification of MALIGNANT MELANOMA OF THE EYELID is",!?5,"recommended.",!
"RTN","ONCOTNMB",9,0)
 .S ST="" K X
"RTN","ONCOTNMB",10,0)
 Q
"RTN","ONCOTNMC")
0^259^B8836327
"RTN","ONCOTNMC",1,0)
ONCOTNMC ;WISC/MLH - HELP/VALIDATION for TNM CODES ;6/16/93  09:10
"RTN","ONCOTNMC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNMC",3,0)
 ;
"RTN","ONCOTNMC",4,0)
VALID(TYP,COD) ;    VALIDATE a T, N, or M code - COD should be a call by reference (.COD)
"RTN","ONCOTNMC",5,0)
 N VALID S VALID=0 ;    flag - assume invalid
"RTN","ONCOTNMC",6,0)
 IF (TYP="T")!(TYP="N")!(TYP="M") X "S VALID=$$VALID"_TYP_"(.COD)"
"RTN","ONCOTNMC",7,0)
 QUIT VALID
"RTN","ONCOTNMC",8,0)
 ;
"RTN","ONCOTNMC",9,0)
VALIDT(TCOD) ;    VALIDATE a T code - TCOD should be a call by reference (.TCOD)
"RTN","ONCOTNMC",10,0)
 N VALIDT S VALIDT=0 ;    flag - assume invalid
"RTN","ONCOTNMC",11,0)
 S TCOD=$TR(TCOD,"abcdisvx","ABCDISVX") ;    go to caps
"RTN","ONCOTNMC",12,0)
 I TCOD="IS" S VALIDT=1 ;    in-situ
"RTN","ONCOTNMC",13,0)
 E  I TCOD="X" S VALIDT=1 ;    unknown
"RTN","ONCOTNMC",14,0)
 E  S VALIDT=$$VALIDTN(.TCOD) ;    numeric
"RTN","ONCOTNMC",15,0)
 Q VALIDT
"RTN","ONCOTNMC",16,0)
 ;
"RTN","ONCOTNMC",17,0)
VALIDTN(NTCOD) ;    VALIDATE a NUMERIC T code - NTCOD should be a call by reference (.NTCOD)
"RTN","ONCOTNMC",18,0)
 N VALIDTN S VALIDTN=0 ;    flag - assume invalid
"RTN","ONCOTNMC",19,0)
 N NUMVAL S NUMVAL=$E(NTCOD,1) ;    numeric value of T code
"RTN","ONCOTNMC",20,0)
 IF NUMVAL?1N,"012345"[NUMVAL D  ;    good so far, continue
"RTN","ONCOTNMC",21,0)
 .  I $E(NTCOD,2,$L(NTCOD))="" S VALIDTN=1 ;   OK
"RTN","ONCOTNMC",22,0)
 .  E  S VALIDTN=$$VALIDTNA(.NTCOD)
"RTN","ONCOTNMC",23,0)
 .  Q
"RTN","ONCOTNMC",24,0)
 ;END IF
"RTN","ONCOTNMC",25,0)
 ;
"RTN","ONCOTNMC",26,0)
 Q VALIDTN
"RTN","ONCOTNMC",27,0)
 ;
"RTN","ONCOTNMC",28,0)
VALIDTNA(ANTCOD) ;    VALIDATE a NUMERIC T code with ALPHA suffix - ANTCOD should be a call by reference (.ANTCOD)
"RTN","ONCOTNMC",29,0)
 N VALIDTNA S VALIDTNA=0 ;    flag - assume invalid
"RTN","ONCOTNMC",30,0)
 N ALPVAL S ALPVAL=$E(ANTCOD,2) ;    alpha suffix
"RTN","ONCOTNMC",31,0)
 IF "ABCD"[ALPVAL D  ;    good so far, continue
"RTN","ONCOTNMC",32,0)
 .  N ROMVAL S ROMVAL=$E(NTCOD,3,$L(ANTCOD)) ;    roman numeral suffix
"RTN","ONCOTNMC",33,0)
 .  I "^^I^II^III^IV^"[(U_ROMVAL_U) S VALIDTNA=1 ;    OK
"RTN","ONCOTNMC",34,0)
 .  Q
"RTN","ONCOTNMC",35,0)
 ;END IF
"RTN","ONCOTNMC",36,0)
 ;
"RTN","ONCOTNMC",37,0)
 Q VALIDTNA
"RTN","ONCOTNMC",38,0)
 ;
"RTN","ONCOTNMC",39,0)
VALIDN(NCOD) ;    VALIDATE an N code - NCOD should be a call by reference (.NCOD)
"RTN","ONCOTNMC",40,0)
 N VALIDN S VALIDN=0 ;    flag - assume invalid
"RTN","ONCOTNMC",41,0)
 S NCOD=$TR(NCOD,"abcdx","ABCDX") ;    go to caps
"RTN","ONCOTNMC",42,0)
 I NCOD="X" S VALIDN=1 ;    unknown
"RTN","ONCOTNMC",43,0)
 E  S VALIDN=$$VALIDNN(.NCOD) ;    numeric
"RTN","ONCOTNMC",44,0)
 Q VALIDN
"RTN","ONCOTNMC",45,0)
 ;
"RTN","ONCOTNMC",46,0)
VALIDNN(NNCOD) ;    VALIDATE a NUMERIC N code - NNCOD should be a call by reference (.NNCOD)
"RTN","ONCOTNMC",47,0)
 N VALIDNN S VALIDNN=0 ;    flag - assume invalid
"RTN","ONCOTNMC",48,0)
 N NUMVAL S NUMVAL=$E(NNCOD,1) ;    numeric value of T code
"RTN","ONCOTNMC",49,0)
 IF NUMVAL?1N,"01234"[NUMVAL D  ;    good so far, continue
"RTN","ONCOTNMC",50,0)
 .  IF $E(NNCOD,2,$L(NNCOD))="" S VALIDNN=1 ;   OK
"RTN","ONCOTNMC",51,0)
 .  ELSE  D
"RTN","ONCOTNMC",52,0)
 ..    N ALPVAL S ALPVAL=$E(NNCOD,2)
"RTN","ONCOTNMC",53,0)
 ..    I "ABCD"[ALPVAL S VALIDNN=1
"RTN","ONCOTNMC",54,0)
 ..    Q
"RTN","ONCOTNMC",55,0)
 .  ;END IF
"RTN","ONCOTNMC",56,0)
 .  ;
"RTN","ONCOTNMC",57,0)
 .  Q
"RTN","ONCOTNMC",58,0)
 ;END IF
"RTN","ONCOTNMC",59,0)
 ;
"RTN","ONCOTNMC",60,0)
 Q VALIDNN
"RTN","ONCOTNMC",61,0)
 ;
"RTN","ONCOTNMC",62,0)
VALIDM(MCOD) ;    VALIDATE an N code - MCOD should be a call by reference (.MCOD)
"RTN","ONCOTNMC",63,0)
 N VALIDM S VALIDM=0 ;    flag - assume invalid
"RTN","ONCOTNMC",64,0)
 S MCOD=$TR(MCOD,"abcdx","ABCDX") ;    go to caps
"RTN","ONCOTNMC",65,0)
 I MCOD="X" S VALIDM=1 ;    unknown
"RTN","ONCOTNMC",66,0)
 E  S VALIDM=$$VALIDMN(.MCOD) ;    numeric
"RTN","ONCOTNMC",67,0)
 Q VALIDM
"RTN","ONCOTNMC",68,0)
 ;
"RTN","ONCOTNMC",69,0)
VALIDMN(NMCOD) ;    VALIDATE a NUMERIC N code - NMCOD should be a call by reference (.NMCOD)
"RTN","ONCOTNMC",70,0)
 N VALIDMN S VALIDMN=0 ;    flag - assume invalid
"RTN","ONCOTNMC",71,0)
 N NUMVAL S NUMVAL=$E(NMCOD,1) ;    numeric value of T code
"RTN","ONCOTNMC",72,0)
 IF NUMVAL?1N,"012"[NUMVAL D  ;    good so far, continue
"RTN","ONCOTNMC",73,0)
 .  IF $E(NMCOD,2,$L(NMCOD))="" S VALIDMN=1 ;   OK
"RTN","ONCOTNMC",74,0)
 .  ELSE  D
"RTN","ONCOTNMC",75,0)
 ..    N ALPVAL S ALPVAL=$E(NMCOD,2)
"RTN","ONCOTNMC",76,0)
 ..    I "ABCD"[ALPVAL S VALIDMN=1
"RTN","ONCOTNMC",77,0)
 ..    Q
"RTN","ONCOTNMC",78,0)
 .  ;END IF
"RTN","ONCOTNMC",79,0)
 .  ;
"RTN","ONCOTNMC",80,0)
 .  Q
"RTN","ONCOTNMC",81,0)
 ;END IF
"RTN","ONCOTNMC",82,0)
 ;
"RTN","ONCOTNMC",83,0)
 Q VALIDMN
"RTN","ONCOTNMX")
0^260^B1925096
"RTN","ONCOTNMX",1,0)
ONCOTNMX ;Hines OIFO/GWB - GUIDANCE INPUT TRANSFORM ;7/4/93
"RTN","ONCOTNMX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNMX",3,0)
 ;
"RTN","ONCOTNMX",4,0)
GUIT ; GUIDANCE INPUT TRANSFORM (#165.5,#142)
"RTN","ONCOTNMX",5,0)
 ; New field - stores pointer to "GU5" mult in file #164
"RTN","ONCOTNMX",6,0)
 S XCODE=X
"RTN","ONCOTNMX",7,0)
 D BPGUCHK^ONCOTNE
"RTN","ONCOTNMX",8,0)
 I BPSITE="" K X Q
"RTN","ONCOTNMX",9,0)
 S FOUND=0
"RTN","ONCOTNMX",10,0)
 F XGU=0:0 S XGU=$O(^ONCO(164,BPSITE,"GU5",XGU)) Q:XGU'>0!(FOUND=1)  D
"RTN","ONCOTNMX",11,0)
 .I $P(^ONCO(164,BPSITE,"GU5",XGU,0),"^",2)=X S X=XGU,FOUND=1 Q
"RTN","ONCOTNMX",12,0)
 I FOUND=0 K X Q
"RTN","ONCOTNMX",13,0)
 W "  ",$P(^ONCO(164,BPSITE,"GU5",X,0),"^",1)
"RTN","ONCOTNMX",14,0)
 K FOUND,XGU Q
"RTN","ONCOTNMX",15,0)
GUOT ; GUIDANCE OUTPUT TRANSFORM
"RTN","ONCOTNMX",16,0)
 Q:Y=""
"RTN","ONCOTNMX",17,0)
 D BPGUCHK^ONCOTNE
"RTN","ONCOTNMX",18,0)
 I BPSITE="" Q
"RTN","ONCOTNMX",19,0)
 S Y=$P($G(^ONCO(164,BPSITE,"GU5",Y,0)),"^",1)
"RTN","ONCOTNMX",20,0)
 Q
"RTN","ONCOTNMX",21,0)
GUHP ; GUIDANCE HELP
"RTN","ONCOTNMX",22,0)
 D BPGUCHK^ONCOTNE
"RTN","ONCOTNMX",23,0)
 I BPSITE="" Q
"RTN","ONCOTNMX",24,0)
 W !?3,"Select from the following list:",!
"RTN","ONCOTNMX",25,0)
 F XGU=0:0 S XGU=$O(^ONCO(164,BPSITE,"GU5",XGU)) Q:XGU'>0  W !?6,$P($G(^ONCO(164,BPSITE,"GU5",XGU,0)),"^",2),?12,$P($G(^ONCO(164,BPSITE,"GU5",XGU,0)),"^",1)
"RTN","ONCOTNMX",26,0)
 K XGU Q
"RTN","ONCOTNO")
0^261^B21943756
"RTN","ONCOTNO",1,0)
ONCOTNO ;Hines OIFO/GWB - TNM output formatting ;09/22/11
"RTN","ONCOTNO",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNO",3,0)
 ;
"RTN","ONCOTNO",4,0)
SGOUT(IEN) ;AJCC stage formatted for display
"RTN","ONCOTNO",5,0)
 N G,SG,XX,XXX
"RTN","ONCOTNO",6,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTNO",7,0)
 I STGIND="C" D
"RTN","ONCOTNO",8,0)
 .S XXX=$G(^ONCO(165.5,D0,2))
"RTN","ONCOTNO",9,0)
 .S SG=$P(XXX,U,20)
"RTN","ONCOTNO",10,0)
 I STGIND="P" D
"RTN","ONCOTNO",11,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTNO",12,0)
 .S SG=$P(XXX,U,4)
"RTN","ONCOTNO",13,0)
 I STGIND="O" D
"RTN","ONCOTNO",14,0)
 .S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCOTNO",15,0)
 .S SG=$P(XXX,U,9)
"RTN","ONCOTNO",16,0)
 I STGIND="R" D
"RTN","ONCOTNO",17,0)
 .S XXX=$G(^ONCO(165.5,D0,23,DA,0))
"RTN","ONCOTNO",18,0)
 .S SG=$P(XXX,U,9)
"RTN","ONCOTNO",19,0)
 N ONCOZ,XSG
"RTN","ONCOTNO",20,0)
 S ONCOZ=$E(SG)
"RTN","ONCOTNO",21,0)
 S XSG=$S(ONCOZ=1:"I",ONCOZ=2:"II",ONCOZ=3:"III",ONCOZ=4:"IV",ONCOZ=8:8,ONCOZ=9:9,1:ONCOZ)
"RTN","ONCOTNO",22,0)
 S XSG=XSG_$E(SG,2,$L(SG))
"RTN","ONCOTNO",23,0)
 S SG=XSG_" ("_$$TNMOUT(IEN)_")"
"RTN","ONCOTNO",24,0)
 ;
"RTN","ONCOTNO",25,0)
 ;Bone and Soft Tissue Sarcoma Histopathologic Grade "G" suffix
"RTN","ONCOTNO",26,0)
 I ($G(SP)=67400)!($G(SP)=67490) D
"RTN","ONCOTNO",27,0)
 .S G=$P(^ONCO(165.5,D0,2),U,5)
"RTN","ONCOTNO",28,0)
 .S:($G(G)=9)!($G(G)="") G="X"
"RTN","ONCOTNO",29,0)
 .S SG=XSG_" ("_$$TNMOUT(IEN)_" G"_G_")"
"RTN","ONCOTNO",30,0)
 ;
"RTN","ONCOTNO",31,0)
 ;Gastrointestinal Stromal Tumor MITOTIC RATE (165.5,239)
"RTN","ONCOTNO",32,0)
 I ($E($$HIST^ONCFUNC(D0),1,4)=8935)!($E($$HIST^ONCFUNC(D0),1,4)=8936) N MR D
"RTN","ONCOTNO",33,0)
 .S MR=$$GET1^DIQ(165.5,D0,239)
"RTN","ONCOTNO",34,0)
 .S SG=XSG_" ("_$$TNMOUT(IEN)_")"_" "_MR
"RTN","ONCOTNO",35,0)
 ;
"RTN","ONCOTNO",36,0)
 ;Primary Cutaneous Lymphomas PERIPHERAL BLOOD INVOLVEMENT (165.5,30.5)
"RTN","ONCOTNO",37,0)
 N PBI,PS,PS34
"RTN","ONCOTNO",38,0)
 S PS=$$GET1^DIQ(165.5,D0,20,"I")
"RTN","ONCOTNO",39,0)
 S PS34=$E(PS,3,4)
"RTN","ONCOTNO",40,0)
 I ((PS34=44)!(PS34=51)!(PS34=60)!(PS=67632)),(($E($$HIST^ONCFUNC(D0),1,4)=9700)!($E($$HIST^ONCFUNC(D0),1,4)=9701))  D
"RTN","ONCOTNO",41,0)
 .S PBI=$$GET1^DIQ(165.5,D0,30.5,"I")
"RTN","ONCOTNO",42,0)
 .S SG=XSG_" ("_$$TNMOUT(IEN)_")"_" "_PBI
"RTN","ONCOTNO",43,0)
 Q SG
"RTN","ONCOTNO",44,0)
 ;
"RTN","ONCOTNO",45,0)
TNMOUT(IEN) ;TNM coding formatted for display
"RTN","ONCOTNO",46,0)
 N CM,COC,G,GS,II,ONCOM,ONCON,ONCOT,ONCOTNM,PSA,TOP,XXX
"RTN","ONCOTNO",47,0)
 S ONCOTNM=""
"RTN","ONCOTNO",48,0)
 S ONCOED=$$TNMED^ONCOU55(IEN)
"RTN","ONCOTNO",49,0)
 S TOP=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCOTNO",50,0)
 I STGIND="C" D
"RTN","ONCOTNO",51,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2))
"RTN","ONCOTNO",52,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",53,0)
 .S ONCOT=$P(XXX(2),U,25)
"RTN","ONCOTNO",54,0)
 .S ONCON=$P(XXX(2),U,26)
"RTN","ONCOTNO",55,0)
 .S ONCOM=$P(XXX(2),U,27)
"RTN","ONCOTNO",56,0)
 I STGIND="P" D
"RTN","ONCOTNO",57,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2.1))
"RTN","ONCOTNO",58,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",59,0)
 .S ONCOT=$P(XXX(2),U,1)
"RTN","ONCOTNO",60,0)
 .S ONCON=$P(XXX(2),U,2)
"RTN","ONCOTNO",61,0)
 .S ONCOM=$P(XXX(2),U,3)
"RTN","ONCOTNO",62,0)
 .S CM=$P($G(^ONCO(165.5,IEN,2)),U,27)
"RTN","ONCOTNO",63,0)
 .I $G(CMPFLG)'="COMPUTING TNM" K CMPFLG Q
"RTN","ONCOTNO",64,0)
 .I (ONCOT'="X")!(ONCON'="X"),$E(ONCOM,1)'=1,CM'="X" S ONCOM=CM
"RTN","ONCOTNO",65,0)
 I STGIND="O" D
"RTN","ONCOTNO",66,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,2.1))
"RTN","ONCOTNO",67,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",68,0)
 .S ONCOT=$P(XXX(2),U,6)
"RTN","ONCOTNO",69,0)
 .S ONCON=$P(XXX(2),U,7)
"RTN","ONCOTNO",70,0)
 .S ONCOM=$P(XXX(2),U,8)
"RTN","ONCOTNO",71,0)
 I STGIND="R" D
"RTN","ONCOTNO",72,0)
 .S XXX(2)=$G(^ONCO(165.5,IEN,23,DA,0))
"RTN","ONCOTNO",73,0)
 .S XXX(3)=$G(^ONCO(165.5,IEN,3))
"RTN","ONCOTNO",74,0)
 .S ONCOT=$P(XXX(2),U,6)
"RTN","ONCOTNO",75,0)
 .S ONCON=$P(XXX(2),U,7)
"RTN","ONCOTNO",76,0)
 .S ONCOM=$P(XXX(2),U,8)
"RTN","ONCOTNO",77,0)
 I ONCOT'="" D
"RTN","ONCOTNO",78,0)
 .S ONCOTNM="T"_ONCOT
"RTN","ONCOTNO",79,0)
 .N MC,MT,ONCOMULT,XXDTDX
"RTN","ONCOTNO",80,0)
 .S MT=$P($G(^ONCO(165.5,D0,2)),U,31)  ;MULTIPLE TUMORS (165.5,69)
"RTN","ONCOTNO",81,0)
 .S MC=$P($G(^ONCO(165.5,D0,24)),U,16) ;MULTIPLICITY COUNTER (165.5,196)
"RTN","ONCOTNO",82,0)
 .S XXDTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCOTNO",83,0)
 .I XXDTDX<3070000 S ONCOMULT=MT
"RTN","ONCOTNO",84,0)
 .I XXDTDX>3069999 S ONCOMULT=MC I (+ONCOMULT=0)!(+ONCOMULT=1)!(ONCOMULT>87) S ONCOMULT=""
"RTN","ONCOTNO",85,0)
 .I ONCOMULT S ONCOTNM=ONCOTNM_"m" S:+ONCOMULT>1 ONCOTNM=ONCOTNM_+ONCOMULT
"RTN","ONCOTNO",86,0)
 .N ONCOMT S ONCOMT=""
"RTN","ONCOTNO",87,0)
 .I STGIND="C" D
"RTN","ONCOTNO",88,0)
 ..S:$P($G(^ONCO(165.5,D0,0)),U,16)<2980000 ONCOMT=$P($G(^ONCO(165.5,D0,7)),U,16)
"RTN","ONCOTNO",89,0)
 .I STGIND="P" D
"RTN","ONCOTNO",90,0)
 ..S ONCOMT=$P($G(^ONCO(165.5,D0,7)),U,17)
"RTN","ONCOTNO",91,0)
 .S COC=$E($$GET1^DIQ(165.5,D0,.04),1,2)
"RTN","ONCOTNO",92,0)
 .I COC=38 S ONCOTNM="a"_ONCOTNM ;a Prefix
"RTN","ONCOTNO",93,0)
 .I ONCOMT="Y" S ONCOTNM="y"_ONCOTNM ;Multimodality therapy
"RTN","ONCOTNO",94,0)
 .I TOP=67692,$P(XXX(2),U,32) S ONCOTNM=ONCOTNM_"f" ;Family History
"RTN","ONCOTNO",95,0)
 .I TOP=67692,$P(XXX(3),U,30) S ONCOTNM=ONCOTNM_"d" ;Diffuse Retinal Involvement
"RTN","ONCOTNO",96,0)
 S:(ONCOTNM'="")&(ONCON'="") ONCOTNM=ONCOTNM_" "
"RTN","ONCOTNO",97,0)
 S:ONCON'="" ONCOTNM=ONCOTNM_"N"_ONCON
"RTN","ONCOTNO",98,0)
 S:(ONCOTNM'="")&(ONCOM'="") ONCOTNM=ONCOTNM_" "
"RTN","ONCOTNO",99,0)
 S:ONCOM'="" ONCOTNM=ONCOTNM_"M"_ONCOM
"RTN","ONCOTNO",100,0)
 I TOP=67619 D
"RTN","ONCOTNO",101,0)
 .I ONCOED<7 S G=$P(^ONCO(165.5,D0,2),U,5),ONCOTNM=ONCOTNM_" G"_G Q
"RTN","ONCOTNO",102,0)
 .S PSA=+$$GET1^DIQ(165.5,D0,684)
"RTN","ONCOTNO",103,0)
 .I (PSA=999.7)!(PSA=999.8)!(PSA=999.9) S PSA=""
"RTN","ONCOTNO",104,0)
 .I $G(STGIND)="C" S GS=+$$GET1^DIQ(165.5,D0,623,"I")
"RTN","ONCOTNO",105,0)
 .I $G(STGIND)="P" S GS=+$$GET1^DIQ(165.5,D0,250,"I")
"RTN","ONCOTNO",106,0)
 .I GS=99 S GS=""
"RTN","ONCOTNO",107,0)
 .S ONCOTNM=ONCOTNM_" PSA"_PSA_" GS"_GS
"RTN","ONCOTNO",108,0)
 I $$GTT^ONCOU55(D0) D  K RF
"RTN","ONCOTNO",109,0)
 .S:$G(STGIND)="C" RF=$$GET1^DIQ(165.5,D0,134,"I")
"RTN","ONCOTNO",110,0)
 .S:$G(STGIND)="P" RF=$$GET1^DIQ(165.5,D0,135,"I")
"RTN","ONCOTNO",111,0)
 .S:$G(STGIND)="O" RF=$$GET1^DIQ(165.5,D0,134,"I")
"RTN","ONCOTNO",112,0)
 .S RF=$S(RF=0:"0RF",(RF=1)!(RF=2):"1RF",RF=3:"2RF",RF="U":"Unknown",RF="L":"Low risk",RF="H":"High risk",1:RF)
"RTN","ONCOTNO",113,0)
 .S ONCOTNM=ONCOTNM_" "_RF
"RTN","ONCOTNO",114,0)
 I $$T^ONCOU55(D0) D  K STM
"RTN","ONCOTNO",115,0)
 .S STM=$P($G(^ONCO(165.5,D0,24)),U,8)
"RTN","ONCOTNO",116,0)
 .S ONCOTNM=ONCOTNM_" "_STM
"RTN","ONCOTNO",117,0)
 Q ONCOTNM
"RTN","ONCOTNO",118,0)
 ;
"RTN","ONCOTNO",119,0)
CLEANUP ;Cleanup
"RTN","ONCOTNO",120,0)
 K D0,DA,ONCOED,SP,STGIND
"RTN","ONCOTNS")
0^262^B19091763
"RTN","ONCOTNS",1,0)
ONCOTNS ;Hines OIFO/GWB - AJCC TNM STAGING ;07/29/05
"RTN","ONCOTNS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOTNS",3,0)
 ;CLINICAL STAGE GROUP   (165.5,38)
"RTN","ONCOTNS",4,0)
 ;PATHOLOGIC STAGE GROUP (165.5,88)
"RTN","ONCOTNS",5,0)
 ;OTHER STAGE GROUP      (165.5,117)
"RTN","ONCOTNS",6,0)
 ;
"RTN","ONCOTNS",7,0)
IN ;Input transform 
"RTN","ONCOTNS",8,0)
 N ONCOS S ONCOS=$P($G(^ONCO(165.5,D0,0)),U,1)
"RTN","ONCOTNS",9,0)
 N ONCOH S ONCOH=$$HIST^ONCFUNC(D0)
"RTN","ONCOTNS",10,0)
 I STGIND="X" G IN1
"RTN","ONCOTNS",11,0)
 I $$LYMPHOMA^ONCFUNC(D0)!(ONCOS=62)!(ONCOS=63) D
"RTN","ONCOTNS",12,0)
 .S STGIND="L"
"RTN","ONCOTNS",13,0)
 ;
"RTN","ONCOTNS",14,0)
IN1 S DIC="^ONCO(164.45,",DIC(0)="EMQ",DIC("S")="I $P(^(0),U,3)[STGIND"
"RTN","ONCOTNS",15,0)
 D ^DIC
"RTN","ONCOTNS",16,0)
 I (X["(A)")!(X["(B)") D
"RTN","ONCOTNS",17,0)
 .W !!,"Enter systemic symptom suffixes at the LYMPH NODES prompt."
"RTN","ONCOTNS",18,0)
 I Y=-1 K X Q
"RTN","ONCOTNS",19,0)
 S X=$P(^ONCO(164.45,+Y,0),U,2)
"RTN","ONCOTNS",20,0)
 Q
"RTN","ONCOTNS",21,0)
 ;
"RTN","ONCOTNS",22,0)
INNUM S X=$S(X["NA":88,X["Unk":99,X["Occ":"OC",X="0a":"0A",X="0is":"0IS",1:X)
"RTN","ONCOTNS",23,0)
 I X="IIIE+S" S X="3ES" Q
"RTN","ONCOTNS",24,0)
 I X="V" S X=5 Q
"RTN","ONCOTNS",25,0)
 I $E(X,1,2)="IV" S X=4_$E(X,3,99) Q
"RTN","ONCOTNS",26,0)
 I $E(X,1,3)="III" S X=3_$E(X,4,99) Q
"RTN","ONCOTNS",27,0)
 I $E(X,1,2)="II" S X=2_$E(X,3,99) Q
"RTN","ONCOTNS",28,0)
 I $E(X,1)="I" S X=1_$E(X,2,99) Q
"RTN","ONCOTNS",29,0)
 Q
"RTN","ONCOTNS",30,0)
 ;
"RTN","ONCOTNS",31,0)
HP ;HELP
"RTN","ONCOTNS",32,0)
 N ONCOI,ONCOX,ONCOXS,ONCOH,ONCOS,SG1,SG2,SGT
"RTN","ONCOTNS",33,0)
 S ONCOI=0,ONCOXS=""
"RTN","ONCOTNS",34,0)
 I STGIND="X" G HP1
"RTN","ONCOTNS",35,0)
 N ONCOS S ONCOS=$P($G(^ONCO(165.5,D0,0)),U,1)
"RTN","ONCOTNS",36,0)
 N ONCOH S ONCOH=$$HIST^ONCFUNC(D0)
"RTN","ONCOTNS",37,0)
 I $$LYMPHOMA^ONCFUNC(D0)!(ONCOS=62)!(ONCOS=63) D
"RTN","ONCOTNS",38,0)
 .S STGIND="L"
"RTN","ONCOTNS",39,0)
HP1 W !,"Select one of the following:",!
"RTN","ONCOTNS",40,0)
 F  S ONCOXS=$O(^ONCO(164.45,"B",ONCOXS)) Q:ONCOXS=""  D
"RTN","ONCOTNS",41,0)
 .S ONCOI=$O(^ONCO(164.45,"B",ONCOXS,0)),ONCOX=^ONCO(164.45,ONCOI,0)
"RTN","ONCOTNS",42,0)
 .S SG1=$P(ONCOX,U,1),SG2=$P(ONCOX,U,2),SGT=$P(ONCOX,U,3)
"RTN","ONCOTNS",43,0)
 .W:SGT[STGIND !?5,SG1,?10,SG2
"RTN","ONCOTNS",44,0)
 Q
"RTN","ONCOTNS",45,0)
OT ;Output transform 
"RTN","ONCOTNS",46,0)
 I Y'="" D
"RTN","ONCOTNS",47,0)
 .S STG=$O(^ONCO(164.45,"B",Y,""))
"RTN","ONCOTNS",48,0)
 .I STG'="" S Y=$P($G(^ONCO(164.45,STG,0)),U,2)
"RTN","ONCOTNS",49,0)
 .S ONCS=$P($G(^ONCO(165.5,D0,0)),U,1)
"RTN","ONCOTNS",50,0)
 .S ONCH=$$HIST^ONCFUNC(D0)
"RTN","ONCOTNS",51,0)
 .I $$LYMPHOMA^ONCFUNC(D0)!(ONCS=62)!(ONCS=63) D
"RTN","ONCOTNS",52,0)
 ..S SSIN=$P($G(^ONCO(165.5,D0,2)),U,11),SSOT=""
"RTN","ONCOTNS",53,0)
 ..I SSIN=0 S SSOT="(A)"
"RTN","ONCOTNS",54,0)
 ..I (SSIN=1)!(SSIN=2)!(SSIN=3) S SSOT="(B)"
"RTN","ONCOTNS",55,0)
 ..I SSIN'=9 S Y=Y_" "_SSOT
"RTN","ONCOTNS",56,0)
 K STG,ONCS,ONCH,SSIN,SSOT Q
"RTN","ONCOTNS",57,0)
RS S XX=$G(^ONCO(165.5,D0,2)),TX=$P(XX,U) G EX:TX="",EX:$P(^ONCO(164,+TX,0),U,11)="" S N=$E(Y),N=$S(N=1:"I",N=2:"II",N=3:"III",N=4:"IV",1:N),Y=N_$E(Y,2,4),Y=Y_" (T"_$P(XX,U,25)_" N"_$P(XX,U,26)_" M"_$P(XX,U,27)_")" G EX
"RTN","ONCOTNS",58,0)
 ;
"RTN","ONCOTNS",59,0)
OT1 ;'COMPUTED EXPRESSION' for AJJC STAGE (165.5,40) and BEST STAGE (165.5,40.1)
"RTN","ONCOTNS",60,0)
 S PATHSG=$P($G(^ONCO(165.5,D0,2.1)),U,4)
"RTN","ONCOTNS",61,0)
 S PATHT=$P($G(^ONCO(165.5,D0,2.1)),U,1)
"RTN","ONCOTNS",62,0)
 S PATHN=$P($G(^ONCO(165.5,D0,2.1)),U,2)
"RTN","ONCOTNS",63,0)
 S PATHM=$P($G(^ONCO(165.5,D0,2.1)),U,3)
"RTN","ONCOTNS",64,0)
 S CLINSG=$P($G(^ONCO(165.5,D0,2)),U,20)
"RTN","ONCOTNS",65,0)
 S CLINT=$P($G(^ONCO(165.5,D0,2)),U,25)
"RTN","ONCOTNS",66,0)
 S CLINN=$P($G(^ONCO(165.5,D0,2)),U,26)
"RTN","ONCOTNS",67,0)
 S CLINM=$P($G(^ONCO(165.5,D0,2)),U,27)
"RTN","ONCOTNS",68,0)
 S (AJSG,HIERT,HIERN,HIERM,HIERFLG)=""
"RTN","ONCOTNS",69,0)
 S AJSG=PATHSG,HIERFLG="P"
"RTN","ONCOTNS",70,0)
 I "88^99"[PATHSG,CLINSG<6,CLINSG'="" S AJSG=CLINSG,HIERFLG="C"
"RTN","ONCOTNS",71,0)
 I PATHSG="",CLINSG'="" S AJSG=CLINSG,HIERFLG="C"
"RTN","ONCOTNS",72,0)
 I "88^99"[PATHSG!(PATHSG="") D
"RTN","ONCOTNS",73,0)
 .I CLINSG<6,CLINSG'="" Q
"RTN","ONCOTNS",74,0)
 .I PATHT'="X",PATHT'=88,PATHT'="" Q
"RTN","ONCOTNS",75,0)
 .I PATHN'="X",PATHN'=88,PATHN'="" Q
"RTN","ONCOTNS",76,0)
 .I PATHM'="X",PATHM'=88,PATHM'="" Q
"RTN","ONCOTNS",77,0)
 .I CLINT'="X",CLINT'=88,CLINT'="" S HIERFLG="C" Q
"RTN","ONCOTNS",78,0)
 .I CLINN'="X",CLINN'=88,CLINN'="" S HIERFLG="C" Q
"RTN","ONCOTNS",79,0)
 .I CLINM'="X",CLINM'=88,CLINM'="" S HIERFLG="C" Q
"RTN","ONCOTNS",80,0)
 I HIERFLG="P" D
"RTN","ONCOTNS",81,0)
 .S HIERT=$P($G(^ONCO(165.5,D0,2.1)),U,1)
"RTN","ONCOTNS",82,0)
 .S HIERN=$P($G(^ONCO(165.5,D0,2.1)),U,2)
"RTN","ONCOTNS",83,0)
 .S HIERM=$P($G(^ONCO(165.5,D0,2.1)),U,3)
"RTN","ONCOTNS",84,0)
 .S HIERTNM=$$GET1^DIQ(165.5,D0,89.1)
"RTN","ONCOTNS",85,0)
 I HIERFLG="C" D
"RTN","ONCOTNS",86,0)
 .S HIERT=$P($G(^ONCO(165.5,D0,2)),U,25)
"RTN","ONCOTNS",87,0)
 .S HIERN=$P($G(^ONCO(165.5,D0,2)),U,26)
"RTN","ONCOTNS",88,0)
 .S HIERM=$P($G(^ONCO(165.5,D0,2)),U,27)
"RTN","ONCOTNS",89,0)
 .S HIERTNM=$$GET1^DIQ(165.5,D0,37)
"RTN","ONCOTNS",90,0)
 I AJSG'="" S Y=AJSG D OT S X=Y
"RTN","ONCOTNS",91,0)
 K AJSG,CLINM,CLINN,CLINT,CLINSG,PATHM,PATHN,PATHT,PATHSG Q
"RTN","ONCOTNS",92,0)
 ;
"RTN","ONCOTNS",93,0)
STGBY ;STAGED BY (165.5,40.2)
"RTN","ONCOTNS",94,0)
 D OT1
"RTN","ONCOTNS",95,0)
 I HIERFLG'="" S Y=$S(HIERFLG="C":$P($G(^ONCO(165.5,D0,3)),U,32),1:$P($G(^ONCO(165.5,D0,2.1)),U,5))
"RTN","ONCOTNS",96,0)
 D STGBOT S X=Y
"RTN","ONCOTNS",97,0)
 Q
"RTN","ONCOTNS",98,0)
 ;
"RTN","ONCOTNS",99,0)
STGBOT ;STAGED BY (165.5,40.2) OUTPUT TRANSFORM
"RTN","ONCOTNS",100,0)
 I Y'="" D
"RTN","ONCOTNS",101,0)
 .I Y=0 S Y="Not staged" Q
"RTN","ONCOTNS",102,0)
 .I Y=1 S Y="Managing MD" Q
"RTN","ONCOTNS",103,0)
 .I Y=2 S Y="Pathologist" Q
"RTN","ONCOTNS",104,0)
 .I Y=3 S Y="Pathologist & managing MD" Q
"RTN","ONCOTNS",105,0)
 .I Y=4 S Y="Committee chair, liaison MD, registry advisor" Q
"RTN","ONCOTNS",106,0)
 .I Y=5 S Y="Registrar" Q
"RTN","ONCOTNS",107,0)
 .I Y=6 S Y="Registrar & MD" Q
"RTN","ONCOTNS",108,0)
 .I Y=7 S Y="Another facility" Q
"RTN","ONCOTNS",109,0)
 .I Y=8 S Y="NA" Q
"RTN","ONCOTNS",110,0)
 .I Y=9 S Y="Unknown" Q
"RTN","ONCOTNS",111,0)
 Q
"RTN","ONCOTNS",112,0)
 ;
"RTN","ONCOTNS",113,0)
TR ;Translate code
"RTN","ONCOTNS",114,0)
 S XS=$P(XX,U,20),XG=$P(XX,U,28),X=XG_$E(XS,2,5)
"RTN","ONCOTNS",115,0)
EX ;EXIT
"RTN","ONCOTNS",116,0)
 K ST,SC,XD0,ONCOX,XX,ONCOYR
"RTN","ONCOU")
0^263^B20220840
"RTN","ONCOU",1,0)
ONCOU ;Hines OIFO/GWB ONCOTRAX utilities ;06/06/00
"RTN","ONCOU",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOU",3,0)
 ;
"RTN","ONCOU",4,0)
ASKNUM(TXT,RNG,DFLT) ;ask for a number - expects RNG as NNN:NNN
"RTN","ONCOU",5,0)
 N DIR,Y S DIR(0)="N^"_RNG,DIR("A")=TXT S:$D(DFLT) DIR("B")=DFLT D ^DIR Q Y
"RTN","ONCOU",6,0)
ASKY(TXT) ;ask a Y/N question, default YES, returns 1 for Y, 0 for N
"RTN","ONCOU",7,0)
 N DIR,Y S DIR("A")=TXT,DIR(0)="Y",DIR("B")="Yes" D ^DIR S:Y=U Y=-1 Q Y
"RTN","ONCOU",8,0)
LOOKUP(FL,NTR,UIO,Y) ;look up entry NTR in File FL with user options UIO, return Y array if parameter passed
"RTN","ONCOU",9,0)
 N DIC,Y S DIC=FL,DIC(0)=$G(UIO),X=NTR D ^DIC Q +Y
"RTN","ONCOU",10,0)
GETVAL(FN,DA,DR,SE,SF) ;get value of field DR in entry DA in file FN - if DR is a multiple then get subfield SF in subentry SE
"RTN","ONCOU",11,0)
 N DI,DIC,DIQ,OQ,OX,D0 S DIC=FN,DIQ="OQ",OX=+$P(^DD(FN,DR,0),U,2) S:OX DA(OX)=SE,DR(OX)=SF D EN^DIQ1 Q $S(OX:OQ(OX,SE,SF),1:OQ(FN,DA,DR))
"RTN","ONCOU",12,0)
VERSION(PKG) ;get version # for pkg
"RTN","ONCOU",13,0)
 N PNU,Y S PNU=+$O(^DIC(9.4,"B",PKG,"")),Y=$G(^DIC(9.4,PNU,"VERSION")) Q Y
"RTN","ONCOU",14,0)
VERCHK(PKG,VER,PATNO) ;verify version for a patch
"RTN","ONCOU",15,0)
 N INST,OK S OK=0 ;    assume the worst
"RTN","ONCOU",16,0)
 W !!,"This routine will install ",PKG," Version ",VER," Patch ",PATNO,".",!!
"RTN","ONCOU",17,0)
 S INST=$$VERSION(PKG)
"RTN","ONCOU",18,0)
 I INST="" W *7,"But the ",PKG," package doesn't seem to be installed on this system!"
"RTN","ONCOU",19,0)
 E  I INST'=VER W *7,"But Version ",VER," of the ",PKG," package doesn't seem to be installed!" W:INST !,"(Current installed version:  ",INST,")"
"RTN","ONCOU",20,0)
 E  S OK=1
"RTN","ONCOU",21,0)
 Q OK
"RTN","ONCOU",22,0)
SITEPAR(MSG) ;Are ONCOCOLOGY SITE PARAMETERS defined?
"RTN","ONCOU",23,0)
 N OK
"RTN","ONCOU",24,0)
 S OK=$O(^ONCO(160.1,"C",DUZ(2),0))
"RTN","ONCOU",25,0)
 I OK="" S OK=$O(^ONCO(160.1,0))
"RTN","ONCOU",26,0)
 I 'OK,$G(MSG)="ERRMSG" W !!,"The ONCOLOGY SITE PARAMETERS have not been set up.",!,"Use the ""Define Tumor Registry Parameters"" Option.",!!
"RTN","ONCOU",27,0)
 Q OK
"RTN","ONCOU",28,0)
LTS(DA,NOTTHIS) ;Invoked by AC cross-reference of TUMOR STATUS CODE sub-field (#.02) of TUMOR STATUS field (#73) of ONCOLOGY PRIMARY file (#165.5), sets value into LAST TUMOR STATUS field (#95)
"RTN","ONCOU",29,0)
 ;NOTTHIS is defined in the KILL logic - we want to skip the current TUMOR STATUS
"RTN","ONCOU",30,0)
 N OX,DIE,DR,NTS,OTS
"RTN","ONCOU",31,0)
 S NTS="" ;    new tumor status defaults to null
"RTN","ONCOU",32,0)
 S OX=$O(^ONCO(165.5,DA,"TS","AA","")) I OX,$D(NOTTHIS),$D(^ONCO(165.5,DA,"TS","AA",OX,NOTTHIS)) S OX=$O(^ONCO(165.5,DA,"TS","AA","")) ;    get IEN of last status - skip the current node on the kill
"RTN","ONCOU",33,0)
 S:OX OX=$O(^(OX,"")) S:OX NTS=$P($G(^ONCO(165.5,DA,"TS",OX,0)),U,2) S OTS=$P($G(^ONCO(165.5,DA,7)),U,6),$P(^(7),U,6)=NTS ;get old data, set new data
"RTN","ONCOU",34,0)
 K:$L(OTS) ^ONCO(165.5,"ACS",OTS,DA) S:$L(NTS) ^ONCO(165.5,"ACS",NTS,DA)="" ;kill old xref, set new xref
"RTN","ONCOU",35,0)
 Q
"RTN","ONCOU",36,0)
 ;
"RTN","ONCOU",37,0)
KILLNAT(FILE,SWS) ;Kill national fields only for a file
"RTN","ONCOU",38,0)
 ;Valid switches in SWS:/DOTS prints a dot every 10
"RTN","ONCOU",39,0)
 N DOTS,DA,DIK,KT
"RTN","ONCOU",40,0)
 S DOTS=(SWS["/DOTS") ;print dots?
"RTN","ONCOU",41,0)
 S DA(1)=FILE
"RTN","ONCOU",42,0)
 I $D(^DD(FILE)) S DIK="^DD("_FILE_",",DA=0 F KT=1:1 S DA=$O(^DD(FILE,DA)) Q:'DA!(DA'<10000)  D ^DIK I DOTS W:KT#10=0 "." ;if file exists, kill national fields only
"RTN","ONCOU",43,0)
 Q +$G(KT)
"RTN","ONCOU",44,0)
 ;
"RTN","ONCOU",45,0)
CLNNOSUS ;Delete ONCOLOGY PATIENT (160) entries with no primaries/no suspense
"RTN","ONCOU",46,0)
 N TOTKT,CLNKT
"RTN","ONCOU",47,0)
 W @IOF
"RTN","ONCOU",48,0)
 W !
"RTN","ONCOU",49,0)
 W !,"   This option will delete ONCOTRAX PATIENT records"
"RTN","ONCOU",50,0)
 W !,"   with no suspense records and no primaries."
"RTN","ONCOU",51,0)
 W !
"RTN","ONCOU",52,0)
 L +^ONCO(160):5
"RTN","ONCOU",53,0)
 I  D
"RTN","ONCOU",54,0)
 .K ^TMP($J,"NOSUS")
"RTN","ONCOU",55,0)
 .D COUNT
"RTN","ONCOU",56,0)
 .I CLNKT=0 W "   No records to delete" W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOU",57,0)
 .I CLNKT>0,$$CLNOK D PURGE
"RTN","ONCOU",58,0)
 .L -^ONCO(160)
"RTN","ONCOU",59,0)
 E  W !!,"The ONCOTRAX PATIENT file is in use... try again later!",*7,!!
"RTN","ONCOU",60,0)
 Q
"RTN","ONCOU",61,0)
 ;
"RTN","ONCOU",62,0)
COUNT ;Count the number of entries to delete
"RTN","ONCOU",63,0)
 N OI S OI=0
"RTN","ONCOU",64,0)
 S (TOTKT,CLNKT)=0
"RTN","ONCOU",65,0)
 F  S OI=$O(^ONCO(160,OI)) Q:OI'=+OI  D CHK
"RTN","ONCOU",66,0)
 W !,"   Total ONCOTRAX PATIENT records:    ",TOTKT
"RTN","ONCOU",67,0)
 W !,"   Total records marked for deletion: ",CLNKT,!
"RTN","ONCOU",68,0)
 I CLNKT>0 W !,"   Patients to be deleted:" S IEN=0 F  S IEN=$O(^TMP($J,"NOSUS",IEN)) Q:IEN'>0  D
"RTN","ONCOU",69,0)
 .W !,?3,$$GET1^DIQ(160,IEN,60,"E"),"  ",$$GET1^DIQ(160,IEN,.01,"E")
"RTN","ONCOU",70,0)
 W !
"RTN","ONCOU",71,0)
 Q
"RTN","ONCOU",72,0)
 ;
"RTN","ONCOU",73,0)
CHK S TOTKT=TOTKT+1
"RTN","ONCOU",74,0)
 S SUSDT=$O(^ONCO(160,OI,"SUS","B","")) I SUSDT'="" Q
"RTN","ONCOU",75,0)
 Q:$D(^ONCO(165.5,"C",OI))
"RTN","ONCOU",76,0)
 Q:$O(^ONCO(160,OI,"SUSNR",0))
"RTN","ONCOU",77,0)
 I '$D(^ONCO(160,OI,0)) K ^ONCO(160,OI) Q
"RTN","ONCOU",78,0)
 S CLNKT=CLNKT+1
"RTN","ONCOU",79,0)
 S ^TMP($J,"NOSUS",OI)=""
"RTN","ONCOU",80,0)
 Q
"RTN","ONCOU",81,0)
 ;
"RTN","ONCOU",82,0)
CLNOK() ;Confirm deletion
"RTN","ONCOU",83,0)
 N DIR
"RTN","ONCOU",84,0)
 S DIR("A")="   Proceed with deletion",DIR("B")="No",DIR(0)="Y"
"RTN","ONCOU",85,0)
 D ^DIR
"RTN","ONCOU",86,0)
 Q Y
"RTN","ONCOU",87,0)
 ;
"RTN","ONCOU",88,0)
PURGE ;Delete entries
"RTN","ONCOU",89,0)
 N DIK S DIK="^ONCO(160,"
"RTN","ONCOU",90,0)
 N DA S DA=0
"RTN","ONCOU",91,0)
 F  S DA=$O(^TMP($J,"NOSUS",DA)) Q:DA'=+DA  D ^DIK W "."
"RTN","ONCOU",92,0)
 W "   DONE"
"RTN","ONCOU",93,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCOU",94,0)
 Q
"RTN","ONCOU",95,0)
 ;
"RTN","ONCOU",96,0)
LCASE(ONCOSTR) ;Convert string to upper/lowercase
"RTN","ONCOU",97,0)
 N ONCO F ONCO=2:1:$L(ONCOSTR) I $E(ONCOSTR,ONCO)?1U,$E(ONCOSTR,ONCO-1)?1A S ONCOSTR=$E(ONCOSTR,0,ONCO-1)_$C($A(ONCOSTR,ONCO)+32)_$E(ONCOSTR,ONCO+1,999)
"RTN","ONCOU",98,0)
 Q ONCOSTR
"RTN","ONCOU",99,0)
UCASE ;Convert string to uppercase
"RTN","ONCOU",100,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCOU",101,0)
 Q
"RTN","ONCOU0")
0^264^B1976486
"RTN","ONCOU0",1,0)
ONCOU0 ; WISC/MLH - UTILITIES for File 160 (ONCOLOGY PATIENT) ;6/25/93  09:51
"RTN","ONCOU0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOU0",3,0)
RXFU ;    reindex FOLLOW-UP (#400)
"RTN","ONCOU0",4,0)
 N DA S DA(1)=0
"RTN","ONCOU0",5,0)
 W:'$D(ZTQUEUED) !!,"Re-indexing FOLLOW-UP"
"RTN","ONCOU0",6,0)
 FOR  S DA(1)=$O(^ONCO(160,DA(1))) Q:'DA(1)  D
"RTN","ONCOU0",7,0)
 .  N DIK
"RTN","ONCOU0",8,0)
 .  I '$D(ZTQUEUED) W:$R(100)=0 "."
"RTN","ONCOU0",9,0)
 .  K ^ONCO(160,DA(1),"AA"),^("B"),DIK
"RTN","ONCOU0",10,0)
 .  S DIK="^ONCO(160,"_DA(1)_",""F"",",DIK(1)=.01
"RTN","ONCOU0",11,0)
 .  F DIK(1)=.01,1 D ENALL^DIK
"RTN","ONCOU0",12,0)
 .  Q
"RTN","ONCOU0",13,0)
 ;END FOR
"RTN","ONCOU0",14,0)
 ;
"RTN","ONCOU0",15,0)
 W:'$D(ZTQUEUED) !,"Done!",!! Q
"RTN","ONCOU0",16,0)
 ;
"RTN","ONCOU0",17,0)
INAUTPSY ;    initialize AUTOPSY (#22.9) to 1 if performed
"RTN","ONCOU0",18,0)
 N PI S PI=0 W:'$D(ZTQUEUED) !!,"Initializing AUTOPSY" F  S PI=$O(^ONCO(160,PI)) Q:'PI  L +^ONCO(160,PI):3 S:$P($G(^ONCO(160,PI,1)),U,9) $P(^(1),U,13)=1 L -^ONCO(160,PI):3 I '$D(ZTQUEUED) W:$R(100)=0 "."
"RTN","ONCOU0",19,0)
 W:'$D(ZTQUEUED) !,"Done!",!! Q
"RTN","ONCOU0A")
0^265^B6489600
"RTN","ONCOU0A",1,0)
ONCOU0A ;WISC/MLH - ONCOLOGY PATIENT FILE UTILITIES - Fix follow ups for expired patients ;6/21/93  09:18
"RTN","ONCOU0A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOU0A",3,0)
 ;
"RTN","ONCOU0A",4,0)
FIXFOR(ONCOWRT) ;    correct erroneous 'foreign resident' status for exp pats
"RTN","ONCOU0A",5,0)
 ;    ONCOWRT defined if output desired
"RTN","ONCOU0A",6,0)
 N ONCOLVL S ONCOLVL="^TMP(""ONCOFIXFOR"","_$$INITSYA_")" ;    level of ^TMP for SYA
"RTN","ONCOU0A",7,0)
 N ONCOKP,ONCOKF,ONCOKC S (ONCOKP,ONCOKF,ONCOKC)=0 ;    counts
"RTN","ONCOU0A",8,0)
 N ONCOPI S ONCOPI=0 ;    patient file index
"RTN","ONCOU0A",9,0)
 FOR ONCOKP=0:1 S ONCOPI=$O(^ONCO(160,ONCOPI)) Q:ONCOPI'=+ONCOPI  D
"RTN","ONCOU0A",10,0)
 .  N ONCOFI S ONCOFI=0 ;    follow-up sub-file index
"RTN","ONCOU0A",11,0)
 .  FOR  S ONCOFI=$O(^ONCO(160,ONCOPI,"F",ONCOFI)) Q:ONCOFI'=+ONCOFI  S ONCOKF=ONCOKF+1,ONCOKC=ONCOKC+$$CHKSTAT(ONCOPI,ONCOFI,ONCOLVL,ONCOWRT)
"RTN","ONCOU0A",12,0)
 .  Q
"RTN","ONCOU0A",13,0)
 ;END FOR
"RTN","ONCOU0A",14,0)
 ;
"RTN","ONCOU0A",15,0)
 N ONCORES S ONCORES=ONCOKP_U_ONCOKF_U_ONCOKC ;    results array
"RTN","ONCOU0A",16,0)
 I $D(ONCOWRT) D WRT(ONCORES)
"RTN","ONCOU0A",17,0)
 QUIT
"RTN","ONCOU0A",18,0)
 ;
"RTN","ONCOU0A",19,0)
INITSYA() ;    find level of ^TMP on which to put SYA and initialize
"RTN","ONCOU0A",20,0)
 N ONCOI S ONCOI=$P($G(^TMP("ONCOFIXFOR",0)),U,3)+1,$P(^(0),U,3)=ONCOI
"RTN","ONCOU0A",21,0)
 Q ONCOI
"RTN","ONCOU0A",22,0)
 ;
"RTN","ONCOU0A",23,0)
CHKSTAT(ONCOP,ONCOF,ONCOLVL,ONCOWRT) ;    look at follow-up record for patient ONCOP, follow-up ONCOF
"RTN","ONCOU0A",24,0)
 ;    if we need to change and ONCOLVL defined, back up on ^TMP("ONCOFIXFOR",ONCOLVL)
"RTN","ONCOU0A",25,0)
 ;    ONCOWRT is defined if we want dots for the user
"RTN","ONCOU0A",26,0)
 N ONCOX S ONCOX=$G(^ONCO(160,ONCOP,"F",ONCOF,0)) ;    onco pat rec
"RTN","ONCOU0A",27,0)
 N ONCOCHG S ONCOCHG=0 ;    change flag
"RTN","ONCOU0A",28,0)
 IF $P(ONCOX,U,2)=0,$P(ONCOX,U,6)=8 D  ;    exp pat, foreign resident --> hit!
"RTN","ONCOU0A",29,0)
 .  S ONCOSYA=$P($G(@ONCOLVL@(0)),U,3)+1,$P(@ONCOLVL@(0),U,3)=ONCOSYA,@ONCOLVL@(ONCOSYA,0)=ONCOP_":"_ONCOF_":"_ONCOX ;    save old data
"RTN","ONCOU0A",30,0)
 .  ;
"RTN","ONCOU0A",31,0)
 .  ;    correct follow-up method
"RTN","ONCOU0A",32,0)
 .  N DIE,DA S DIE="^ONCO(160,"_ONCOP_",""F"",",DA(1)=ONCOP,DA=ONCOF,DR="6///9"
"RTN","ONCOU0A",33,0)
 .  D ^DIE
"RTN","ONCOU0A",34,0)
 .  ;
"RTN","ONCOU0A",35,0)
 .  I $D(ONCOWRT),$R(40)=0 W "."
"RTN","ONCOU0A",36,0)
 .  S ONCOCHG=1
"RTN","ONCOU0A",37,0)
 .  Q
"RTN","ONCOU0A",38,0)
 ;END IF
"RTN","ONCOU0A",39,0)
 ;
"RTN","ONCOU0A",40,0)
 Q ONCOCHG
"RTN","ONCOU0A",41,0)
 ;
"RTN","ONCOU0A",42,0)
WRT(ONCORES) ;    output results array
"RTN","ONCOU0A",43,0)
 N ONCOI F ONCOI=1:1:3 S ONCORES(ONCOI)=$P(ONCORES,U,ONCOI)
"RTN","ONCOU0A",44,0)
 W !!,"Oncology patients processed:  ",?35,$J(ONCORES(1),6),!,"Follow-ups processed:  ",?35,$J(ONCORES(2),6),!,"Follow-ups corrected:  ",?35,$J(ONCORES(3),6),!!
"RTN","ONCOU0A",45,0)
 Q
"RTN","ONCOU55")
0^266^B29262224
"RTN","ONCOU55",1,0)
ONCOU55 ;Hines OIFO/GWB - Utility routine # 1 ;06/23/10
"RTN","ONCOU55",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOU55",3,0)
 ;
"RTN","ONCOU55",4,0)
LTS(DA,NOTTHIS) ;Sets LAST TUMOR STATUS field (165.5,95)
"RTN","ONCOU55",5,0)
 ;Called by AC cross-reference of CANCER STATUS (165.573,.02)
"RTN","ONCOU55",6,0)
 ;NOTTHIS is defined by CANCER STATUS (165.573,.02) KILL logic
"RTN","ONCOU55",7,0)
 ;If the latest CANCER STATUSis deleted, LAST TUMOR STATUS is updated
"RTN","ONCOU55",8,0)
 ;with the next most recent CANCER STATUS. 
"RTN","ONCOU55",9,0)
 N OX,DIE,DR,NTS,OTS
"RTN","ONCOU55",10,0)
 S NTS=""
"RTN","ONCOU55",11,0)
 S OX=$$TSLAST(DA,+$G(NOTTHIS))
"RTN","ONCOU55",12,0)
 S:OX NTS=$P($G(^ONCO(165.5,DA,"TS",OX,0)),U,2)
"RTN","ONCOU55",13,0)
 S OTS=$P($G(^ONCO(165.5,DA,7)),U,6)
"RTN","ONCOU55",14,0)
 S $P(^ONCO(165.5,DA,7),U,6)=NTS
"RTN","ONCOU55",15,0)
 K:$L(OTS) ^ONCO(165.5,"ACS",OTS,DA)
"RTN","ONCOU55",16,0)
 S:$L(NTS) ^ONCO(165.5,"ACS",NTS,DA)=""
"RTN","ONCOU55",17,0)
 Q
"RTN","ONCOU55",18,0)
 ;
"RTN","ONCOU55",19,0)
TSLAST(DA,NOTTHIS) ;Get last TUMOR STATUS DATE (165.573,.01)
"RTN","ONCOU55",20,0)
 N IEN
"RTN","ONCOU55",21,0)
 S IEN=$O(^ONCO(165.5,DA,"TS","AA",""))
"RTN","ONCOU55",22,0)
 I IEN,$D(NOTTHIS),$D(^ONCO(165.5,DA,"TS","AA",IEN,NOTTHIS)) S IEN=$O(^ONCO(165.5,DA,"TS","AA",IEN))
"RTN","ONCOU55",23,0)
 S:IEN IEN=$O(^ONCO(165.5,DA,"TS","AA",IEN,""))
"RTN","ONCOU55",24,0)
 Q IEN
"RTN","ONCOU55",25,0)
 ;
"RTN","ONCOU55",26,0)
SETTS(IEN,FOLDATE) ;Set TUMOR STATUS (165.5,73)
"RTN","ONCOU55",27,0)
 ;Called by FINDSET^ONCOAIS
"RTN","ONCOU55",28,0)
 N DA,DO,DIC,PREVENT,PREVTS,SUBENT,TOFR,X,Y
"RTN","ONCOU55",29,0)
 S TOFR=$$GET1^DIQ(165.5,IEN,71)
"RTN","ONCOU55",30,0)
 S PREVTS=""
"RTN","ONCOU55",31,0)
 S PREVENT=$O(^ONCO(165.5,IEN,"TS","AA",9999999-FOLDATE))
"RTN","ONCOU55",32,0)
 I PREVENT D
"RTN","ONCOU55",33,0)
 .I TOFR'="Never disease-free" D
"RTN","ONCOU55",34,0)
 ..S PREVENT=$O(^ONCO(165.5,IEN,"TS","AA",PREVENT,0))
"RTN","ONCOU55",35,0)
 ..S PREVTS=$P($G(^ONCO(165.5,IEN,"TS",PREVENT,0)),U,2)
"RTN","ONCOU55",36,0)
 K DO,DIC
"RTN","ONCOU55",37,0)
 S DA(1)=IEN,DIC="^ONCO(165.5,DA(1),""TS"","
"RTN","ONCOU55",38,0)
 S DIC(0)="L",X=FOLDATE
"RTN","ONCOU55",39,0)
 S DIC("DR")=".02////^S X=PREVTS"
"RTN","ONCOU55",40,0)
 D FILE^DICN
"RTN","ONCOU55",41,0)
 S SUBENT=+Y
"RTN","ONCOU55",42,0)
 D LTS(IEN)
"RTN","ONCOU55",43,0)
 Q SUBENT
"RTN","ONCOU55",44,0)
 ;
"RTN","ONCOU55",45,0)
TNMED(IEN) ;AJCC Cancer Staging Manual Edition
"RTN","ONCOU55",46,0)
 N CSG,PSG,TNMED,TNMMO,TOP,YR
"RTN","ONCOU55",47,0)
 S YR=$E($P($G(^ONCO(165.5,IEN,0)),U,16),1,3)
"RTN","ONCOU55",48,0)
 S TNMED=$S(YR<283:1,YR<288:2,YR<292:3,YR<298:4,YR<303:5,YR<310:6,1:7)
"RTN","ONCOU55",49,0)
 I $$LYMPHOMA^ONCFUNC(IEN) G TNMEX
"RTN","ONCOU55",50,0)
 S TNMMO=$$HIST^ONCFUNC(IEN),TNMMO=$E(TNMMO,1,4)
"RTN","ONCOU55",51,0)
 S TOP=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCOU55",52,0)
 I YR>295!($$LEUKEMIA^ONCOAIP2(IEN)) D
"RTN","ONCOU55",53,0)
 .S CSG=$P($G(^ONCO(165.5,IEN,2)),U,20)
"RTN","ONCOU55",54,0)
 .S PSG=$P($G(^ONCO(165.5,IEN,2.1)),U,4)
"RTN","ONCOU55",55,0)
 .I (CSG=88)&(PSG=88) S TNMED=88
"RTN","ONCOU55",56,0)
 I TNMED=5 D
"RTN","ONCOU55",57,0)
 .I (TNMMO>9730)&(TNMMO<9990) S TNMED=88 Q
"RTN","ONCOU55",58,0)
 .I TNMMO=9140 S TNMED=88 Q
"RTN","ONCOU55",59,0)
 .I (TOP=67173)!(TOP=67254)!(TOP=67260)!(TOP=67268)!(TOP=67269)!(TOP=67300)!(TOP=67301)!(TOP=67312)!(TOP=67313)!(TOP=67318)!(TOP=67319)!(TOP=67339)!(TOP=67379)!(TOP=67390)!(TOP=67398)!(TOP=67399)!(TOP=67420)!(TOP=67421) S TNMED=88 Q
"RTN","ONCOU55",60,0)
 .I (TOP=67422)!(TOP=67423)!(TOP=67424)!(TOP=67571)!(TOP=67572)!(TOP=67573)!(TOP=67574)!(TOP=67577)!(TOP=67578)!(TOP=67579)!(TOP=67630)!(TOP=67631)!(TOP=67637)!(TOP=67638)!(TOP=67639)!(TOP=67691)!(TOP=67699)!(TOP=67700) S TNMED=88 Q
"RTN","ONCOU55",61,0)
 .I (TOP=67701)!(TOP=67709)!(TOP=67710)!(TOP=67711)!(TOP=67712)!(TOP=67713)!(TOP=67714)!(TOP=67715)!(TOP=67716)!(TOP=67717)!(TOP=67718)!(TOP=67719)!(TOP=67720)!(TOP=67721)!(TOP=67722)!(TOP=67723)!(TOP=67724)!(TOP=67725) S TNMED=88 Q
"RTN","ONCOU55",62,0)
 .I (TOP=67728)!(TOP=67729)!(TOP=67750)!(TOP=67751)!(TOP=67752)!(TOP=67753)!(TOP=67754)!(TOP=67755)!(TOP=67758)!(TOP=67759)!(TOP=67760)!(TOP=67761)!(TOP=67762)!(TOP=67763)!(TOP=67764) S TNMED=88 Q
"RTN","ONCOU55",63,0)
 .I (TOP=67765)!(TOP=67767)!(TOP=67768)!(TOP=67809) S TNMED=88 Q
"RTN","ONCOU55",64,0)
 I TNMED>5 D
"RTN","ONCOU55",65,0)
 .I TNMED<7,(TOP=67740)!(TOP=67741)!(TOP=67749) S TNMED=88 Q
"RTN","ONCOU55",66,0)
 .I YR>311,$E(TOP,3,4)=77,TNMMO=9823 Q  ;SEER 2012 Hematopoitic (Pg 54)
"RTN","ONCOU55",67,0)
 .I (TNMMO>9730)&(TNMMO<9990) S TNMED=88 Q
"RTN","ONCOU55",68,0)
 .I TNMMO=9140 S TNMED=88 Q
"RTN","ONCOU55",69,0)
 .I (TOP=67173)!(TOP=67254)!(TOP=67260)!(TOP=67268)!(TOP=67269)!(TOP=67301)!(TOP=67312)!(TOP=67313)!(TOP=67318)!(TOP=67319)!(TOP=67339)!(TOP=67379)!(TOP=67390) S TNMED=88 Q
"RTN","ONCOU55",70,0)
 .I (TOP=67398)!(TOP=67399)!(TOP=67420)!(TOP=67421)!(TOP=67422)!(TOP=67423)!(TOP=67424)!(TOP=67571)!(TOP=67572)!(TOP=67573)!(TOP=67574)!(TOP=67577)!(TOP=67578)!(TOP=67579) S TNMED=88 Q
"RTN","ONCOU55",71,0)
 .I (TOP=67630)!(TOP=67631)!(TOP=67637)!(TOP=67638)!(TOP=67639)!(TOP=67681)!(TOP=67688)!(TOP=67689)!(TOP=67691)!(TOP=67699)!(TOP=67701)!(TOP=67709)!(TOP=67710) S TNMED=88 Q
"RTN","ONCOU55",72,0)
 .I (TOP=67750)!(TOP=67754)!(TOP=67755)!(TOP=67758)!(TOP=67759)!(TOP=67760)!(TOP=67761)!(TOP=67762)!(TOP=67763)!(TOP=67764)!(TOP=67765)!(TOP=67767)!(TOP=67768)!(TOP=67809) S TNMED=88 Q
"RTN","ONCOU55",73,0)
TNMEX Q TNMED
"RTN","ONCOU55",74,0)
 ;
"RTN","ONCOU55",75,0)
MELANOMA(IEN) ;Melanoma
"RTN","ONCOU55",76,0)
 N XX
"RTN","ONCOU55",77,0)
 S XX=$$HIST^ONCFUNC(IEN)
"RTN","ONCOU55",78,0)
 Q (XX'<87200)&(XX<87910)
"RTN","ONCOU55",79,0)
 ;
"RTN","ONCOU55",80,0)
GTT(D0) ;Gestational Trophoblastic Tumors - 5th, 6th and 7th editions
"RTN","ONCOU55",81,0)
 ;
"RTN","ONCOU55",82,0)
 N HIST,HIST14,TNMED,TOP
"RTN","ONCOU55",83,0)
 S TNMED=$$TNMED^ONCOU55(D0)
"RTN","ONCOU55",84,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOU55",85,0)
 S HIST=$$HIST^ONCFUNC(D0)
"RTN","ONCOU55",86,0)
 S HIST14=$E(HIST,1,4)
"RTN","ONCOU55",87,0)
 Q (TNMED>4)&(TOP=67589)&((HIST14>9099)&(HIST14<9106))
"RTN","ONCOU55",88,0)
 ;
"RTN","ONCOU55",89,0)
T(D0) ;Testis - 5th, 6th and 7th editions
"RTN","ONCOU55",90,0)
 N TNMED,TOP
"RTN","ONCOU55",91,0)
 S TNMED=$$TNMED^ONCOU55(D0)
"RTN","ONCOU55",92,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOU55",93,0)
 Q (TNMED>4)&((TOP=67620)!(TOP=67621)!(TOP=67629))
"RTN","ONCOU55",94,0)
 ;
"RTN","ONCOU55",95,0)
EDITION(IEN) ;SEER Extent of Disease Edition
"RTN","ONCOU55",96,0)
 Q $S($$DATEDX(IEN)>2980000:3,$$DATEDX(IEN)>2920000:2,1:1)
"RTN","ONCOU55",97,0)
 ;
"RTN","ONCOU55",98,0)
DATEDX(IEN) ;DATE DX (165.5,3)
"RTN","ONCOU55",99,0)
 Q $P($G(^ONCO(165.5,IEN,0)),U,16)
"RTN","ONCOU55",100,0)
 ;
"RTN","ONCOU55",101,0)
MYCOSIS(IEN) ;MYCOSIS FUNGOIDES
"RTN","ONCOU55",102,0)
 N XX
"RTN","ONCOU55",103,0)
 S XX=$$HIST^ONCFUNC(IEN)
"RTN","ONCOU55",104,0)
 Q ((XX=97002)!(XX=97003))
"RTN","ONCOU55",105,0)
 ;
"RTN","ONCOU55",106,0)
NOSTAGE(IEN) ;AUTOMATIC STAGING OVERRIDDEN (165.5,37.9)
"RTN","ONCOU55",107,0)
 Q $P($G(^ONCO(165.5,D0,24)),U)
"RTN","ONCOU55",108,0)
 ;
"RTN","ONCOU55",109,0)
TMARKER ;TUMOR MARKER 1 (165.5,25.1)
"RTN","ONCOU55",110,0)
 ;TUMOR MARKER 2 (165.5,25.2)
"RTN","ONCOU55",111,0)
 ;TUMOR MARKER 3 (165.5,25.3)
"RTN","ONCOU55",112,0)
 N TOP
"RTN","ONCOU55",113,0)
 S (TM1,TM2,TM3)=0
"RTN","ONCOU55",114,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCOU55",115,0)
 I TOP'="" S TOP=$P($G(^ONCO(164,TOP,0)),U,2)
"RTN","ONCOU55",116,0)
 I $E(TOP,2,3)=50 S (TM1,TM2)=1 Q
"RTN","ONCOU55",117,0)
 I $E(TOP,2,3)=18 S TM1=1 Q
"RTN","ONCOU55",118,0)
 I $E(TOP,2,3)=19 S TM1=1 Q
"RTN","ONCOU55",119,0)
 I $E(TOP,2,3)=20 S TM1=1 Q
"RTN","ONCOU55",120,0)
 I $E(TOP,2,3)=22 S TM1=1 Q
"RTN","ONCOU55",121,0)
 I $E(TOP,2,3)=56 S TM1=1 Q
"RTN","ONCOU55",122,0)
 I $E(TOP,2,3)=61 S (TM1,TM2)=1 Q
"RTN","ONCOU55",123,0)
 I $E(TOP,2,3)=62 S (TM1,TM2,TM3)=1 Q
"RTN","ONCOU55",124,0)
 I $$HIST^ONCFUNC(D0)=95003 S TM1=1 Q
"RTN","ONCOU55",125,0)
 Q
"RTN","ONCOU55",126,0)
 ;
"RTN","ONCOU55",127,0)
CLEANUP ;Cleanup
"RTN","ONCOU55",128,0)
 K TM1,TM2,TM3
"RTN","ONCOU55A")
0^267^B9583374
"RTN","ONCOU55A",1,0)
ONCOU55A ;Hines OIFO/GWB,RTK-UTILITY ROUTINE 2 ;12/15/99
"RTN","ONCOU55A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOU55A",3,0)
 Q  ;no direct invocations
"RTN","ONCOU55A",4,0)
 ;
"RTN","ONCOU55A",5,0)
RSTG(ONCDDX) ;restage all primaries diagnosed from year YEAR1 forward - called by STAGEM
"RTN","ONCOU55A",6,0)
 ;ONCDDX:optional parameter - date from which to begin
"RTN","ONCOU55A",7,0)
 ;default = beginning of time
"RTN","ONCOU55A",8,0)
 W !!,"This option is no longer available." Q
"RTN","ONCOU55A",9,0)
 N DXDATE,WRTFLG,SYBIX,SYBIX1,COUNT,COUNTCHG
"RTN","ONCOU55A",10,0)
 D INIT ;initialize our variables
"RTN","ONCOU55A",11,0)
 D PROCESS ;process the primaries
"RTN","ONCOU55A",12,0)
 Q
"RTN","ONCOU55A",13,0)
 ;
"RTN","ONCOU55A",14,0)
INIT ;initialize our variables - called by RSTG
"RTN","ONCOU55A",15,0)
 S (COUNT,COUNTCHG)=0
"RTN","ONCOU55A",16,0)
 S WRTFLG=0 ;    suppress interaction with the stager
"RTN","ONCOU55A",17,0)
 S SYBIX=$G(^ONCO("RESTAGE",0))+1,^(0)=SYBIX,^(SYBIX,0)=$H,SYBIX1=0 ;    indices for use in saving old stage
"RTN","ONCOU55A",18,0)
 I '$D(ONCDDX) S ONCDDX=0 ;    date dx index - will be used in PROC
"RTN","ONCOU55A",19,0)
 I ONCDDX S ONCDDX=ONCDDX-1E10 ;    to catch the first one if we're not starting at the top
"RTN","ONCOU55A",20,0)
 Q
"RTN","ONCOU55A",21,0)
 ;
"RTN","ONCOU55A",22,0)
PROCESS ;Process the primaries - called by RSTG
"RTN","ONCOU55A",23,0)
 F  S ONCDDX=$O(^ONCO(165.5,"ADX",ONCDDX)) Q:ONCDDX=""  D
"RTN","ONCOU55A",24,0)
 .N PRIMIX S PRIMIX=0
"RTN","ONCOU55A",25,0)
 .F  S PRIMIX=$O(^ONCO(165.5,"ADX",ONCDDX,PRIMIX)) Q:PRIMIX=""  I $$DIV^ONCFUNC(PRIMIX)=DUZ(2) D PROC1(PRIMIX)
"RTN","ONCOU55A",26,0)
 ;
"RTN","ONCOU55A",27,0)
 W !,"Number of primaries processed :  ",$J(COUNT,6)
"RTN","ONCOU55A",28,0)
 W !,"Number of primaries restaged  :  ",$J(COUNTCHG,6),!!
"RTN","ONCOU55A",29,0)
 S $P(^ONCO("RESTAGE",SYBIX,0),U,2)=COUNT
"RTN","ONCOU55A",30,0)
 Q
"RTN","ONCOU55A",31,0)
 ;
"RTN","ONCOU55A",32,0)
PROC1(D0) ;process a single primary D0 - called by PROCESS
"RTN","ONCOU55A",33,0)
 ;save off the old value, calculate and store the new value
"RTN","ONCOU55A",34,0)
 ;(not user override of stage) AND (tumor not a Lymphoma)
"RTN","ONCOU55A",35,0)
 I '$$NOSTAGE^ONCOU55(D0),'$$LYMPHOMA^ONCFUNC(D0),'$$MYCOSIS^ONCOU55(D0) D
"RTN","ONCOU55A",36,0)
 .N OLDSTAGE S OLDSTAGE=$P($G(^ONCO(165.5,D0,2)),U,20) ;    get old stage
"RTN","ONCOU55A",37,0)
 .S SYBIX1=$G(SYBIX1)+1,^ONCO("RESTAGE",SYBIX,SYBIX1,0)=D0_U_OLDSTAGE ;    save old stage
"RTN","ONCOU55A",38,0)
 .S DA=D0 D ES^ONCOTN ;    do the staging - returns variable SG
"RTN","ONCOU55A",39,0)
 .S COUNT=$G(COUNT)+1 ;    number processed
"RTN","ONCOU55A",40,0)
 .I $P($G(^ONCO(165.5,+D0,2)),U,20)'=OLDSTAGE S COUNTCHG=$G(COUNTCHG)+1 ;    number changed
"RTN","ONCOU55A",41,0)
 .W:$R(50)=0 "."
"RTN","ONCOU55A",42,0)
 Q
"RTN","ONCOU55A",43,0)
 ;
"RTN","ONCOU55A",44,0)
STAGEM ;Interact with user to restage primaries
"RTN","ONCOU55A",45,0)
 ;Called by routine ONCOPOS
"RTN","ONCOU55A",46,0)
 ;Called by option ONCO #SITE-RESTAGE PRIMARY
"RTN","ONCOU55A",47,0)
 N FIRST S FIRST=$$RSTGASK()
"RTN","ONCOU55A",48,0)
 I FIRST<0 W !!,*7,"Restaging aborted - no data changed - continuing...",!!
"RTN","ONCOU55A",49,0)
 E  D RSTG(FIRST) ;    start with date returned in Y
"RTN","ONCOU55A",50,0)
 Q
"RTN","ONCOU55A",51,0)
 ;
"RTN","ONCOU55A",52,0)
RSTGASK() ;Function to determine initial restaging date/time
"RTN","ONCOU55A",53,0)
 N DIR,DTOUT,DUOUT,Y
"RTN","ONCOU55A",54,0)
 S DIR(0)="DO^2880101:"_DT_":EP",DIR("A")="Beginning date for restaging",DIR("B")="1/1/88",DIR("?")="Enter the date from which to restage all primaries (just the year is fine)"
"RTN","ONCOU55A",55,0)
 D ^DIR ;    returns result in Y
"RTN","ONCOU55A",56,0)
 I $D(DTOUT)!$D(DUOUT) S Y=-1 ;    they bailed out or fell asleep
"RTN","ONCOU55A",57,0)
 QUIT +Y
"RTN","ONCOU55B")
0^268^B2593325
"RTN","ONCOU55B",1,0)
ONCOU55B ;WISC/MLH-UTILITY ROUTINE #3 for ONCOLOGY PRIMARY File (#165.5) ;9/10/93  10:08
"RTN","ONCOU55B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOU55B",3,0)
 ;
"RTN","ONCOU55B",4,0)
RXTS ;    reindex TUMOR STATUS (#73) on ONCOLOGY PRIMARY (#165.5) - called by RXTS^ONCOU55
"RTN","ONCOU55B",5,0)
 ;    should only be run after re-indexing follow-up (RXFU^ONCOU0)
"RTN","ONCOU55B",6,0)
 N KT,DA
"RTN","ONCOU55B",7,0)
 N KTS S KTS=0
"RTN","ONCOU55B",8,0)
 W:'$D(ZTQUEUED) !!,"Re-indexing TUMOR STATUS" S DA(1)=0
"RTN","ONCOU55B",9,0)
 F KT=1:1 S DA(1)=$O(^ONCO(165.5,DA(1))) Q:'DA(1)  D RXTSD
"RTN","ONCOU55B",10,0)
 ;END FOR
"RTN","ONCOU55B",11,0)
 ;
"RTN","ONCOU55B",12,0)
 W:'$D(ZTQUEUED) !,KT," primaries processed.",!,KTS," tumor statuses deleted lacking corresponding followups.",!!
"RTN","ONCOU55B",13,0)
 Q
"RTN","ONCOU55B",14,0)
 ;
"RTN","ONCOU55B",15,0)
RXTSD ;    check FU tumor statuses for a primary - called by RXTS
"RTN","ONCOU55B",16,0)
 S DA=0
"RTN","ONCOU55B",17,0)
 F  S DA=$O(^ONCO(165.5,DA(1),"TS",DA)) Q:'DA  D RXTSD1 ;    check a single follow up
"RTN","ONCOU55B",18,0)
 ;
"RTN","ONCOU55B",19,0)
 ;    re-index all xrefs on the .01 field
"RTN","ONCOU55B",20,0)
 N DIK S DIK="^ONCO(165.5,"_DA(1)_",""TS"",",DIK(1)=.01
"RTN","ONCOU55B",21,0)
 K ^ONCO(165.5,DA(1),"TS","AA"),^("B")
"RTN","ONCOU55B",22,0)
 D ENALL^DIK,LTS^ONCOU55(DA(1))
"RTN","ONCOU55B",23,0)
 I '$D(ZTQUEUED) W:$R(100)=0 "."
"RTN","ONCOU55B",24,0)
 Q
"RTN","ONCOU55B",25,0)
 ;
"RTN","ONCOU55B",26,0)
RXTSD1 ;    check a single follow up, delete if dangling - called by RXTSD
"RTN","ONCOU55B",27,0)
 N TSDAT S TSDAT=$P($G(^ONCO(165.5,DA(1),"TS",DA,0)),U,1)
"RTN","ONCOU55B",28,0)
 N PAT S PAT=$P($G(^ONCO(165.5,DA(1),0)),U,2)
"RTN","ONCOU55B",29,0)
 I TSDAT,PAT,$D(^ONCO(160,PAT,"F","B",TSDAT)) ;    all OK
"RTN","ONCOU55B",30,0)
 E  K ^ONCO(165.5,DA(1),"TS",DA) W "*" S KTS=KTS+1 ;    no match - delete
"RTN","ONCOU55B",31,0)
 Q
"RTN","ONCOU55B",32,0)
 ;
"RTN","ONCOU55B",33,0)
 QUIT
"RTN","ONCOUK")
0^269^B17650591
"RTN","ONCOUK",1,0)
ONCOUK ;WISC/MLH - ONCOLOGY UTILITY - CROSS REFERENCES ;7/1/93  17:44
"RTN","ONCOUK",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOUK",3,0)
 ;
"RTN","ONCOUK",4,0)
RX ;Reindex data files
"RTN","ONCOUK",5,0)
 ;Called by routine ONCOPOS
"RTN","ONCOUK",6,0)
 ;Called by option ONCO #SITE-REINDEX DATA FILES
"RTN","ONCOUK",7,0)
 W !!,"This option will reindex the ONCOLOGY PATIENT, ONCOLOGY PRIMARY and ONCOLOGY"
"RTN","ONCOUK",8,0)
 W !,"CONTACT files.",!
"RTN","ONCOUK",9,0)
 S DIR("A")="Are you sure you want to do this",DIR("B")="No",DIR(0)="Y"
"RTN","ONCOUK",10,0)
 D ^DIR Q:(Y=0)!(Y["^")!(Y="")
"RTN","ONCOUK",11,0)
 D RX1
"RTN","ONCOUK",12,0)
 I 'EX D RX2,RX3,RX4
"RTN","ONCOUK",13,0)
 QUIT
"RTN","ONCOUK",14,0)
 ;
"RTN","ONCOUK",15,0)
RX1 S EX=0 D XRF1 Q
"RTN","ONCOUK",16,0)
RX2 S ONCORX=1 D XRF2 Q  ;    Reindex 165.5 - inhibit writing
"RTN","ONCOUK",17,0)
RX3 D XRF3 Q  ;    Reindex 165
"RTN","ONCOUK",18,0)
RX4 D XRF4 Q  ;    Reindex 160.1
"RTN","ONCOUK",19,0)
 ;
"RTN","ONCOUK",20,0)
XRF1 ;REINDEX 160
"RTN","ONCOUK",21,0)
 I '$D(NW) W !!!,?15,"Re-indexing ONCOLOGY PATIENT File (#160)..."
"RTN","ONCOUK",22,0)
 F I="APC","ACP","AD","AS","ADX","AFS","ASM","B","C","CN","D" K ^ONCO(160,I)
"RTN","ONCOUK",23,0)
 F I="APC","ACP" K ^ONCO(165,I)
"RTN","ONCOUK",24,0)
 ;"F" CROSS REFERENCE
"RTN","ONCOUK",25,0)
 S XD0=0 F  S XD0=$O(^ONCO(160,XD0)) Q:XD0'>0  F I="AA","B" K ^ONCO(160,XD0,"F",I)
"RTN","ONCOUK",26,0)
XRF ;CROSS REF MULTIPLE & UPDATE
"RTN","ONCOUK",27,0)
 I '$D(NW) W !!?10,"Reindexing Follow-up Multiple",!
"RTN","ONCOUK",28,0)
 L +^ONCO(160):1 I '$T S DIR("A")="Can't LOCK file #160...TRY AGAIN",DIR(0)="Y",DIR("B")="Yes" D ^DIR S EX=$S('Y:1,Y="^":1,1:0) Q:EX  G XRF
"RTN","ONCOUK",29,0)
 S J=0,XD0=0 F  S XD0=$O(^ONCO(160,XD0)) Q:XD0'>0  S J=J+1 W:'(J#10) "." D XD0
"RTN","ONCOUK",30,0)
 ;Reindex main
"RTN","ONCOUK",31,0)
MF L -^ONCO(160) S DIK="^ONCO(160," D IXALL^DIK
"RTN","ONCOUK",32,0)
 W !?10,"DONE re-indexing file #160" Q
"RTN","ONCOUK",33,0)
 ;
"RTN","ONCOUK",34,0)
XD0 ;ENTER WITH D0=XD0
"RTN","ONCOUK",35,0)
 S X=0 F  S X=$O(^ONCO(160,XD0,"F",X)) Q:X'>0  S LC=$P(^(X,0),U),^ONCO(160,XD0,"F","AA",(9999999-LC),X)="",^ONCO(160,XD0,"F","B",LC,X)=""
"RTN","ONCOUK",36,0)
 ;last date contact
"RTN","ONCOUK",37,0)
 S FLC=$O(^ONCO(160,XD0,"F","B",0))
"RTN","ONCOUK",38,0)
LD S LLC=$O(^ONCO(160,XD0,"F","AA",0)) Q:LLC=""  S I=$O(^(LLC,0)),LD=$G(^ONCO(160,XD0,"F",I,0)) Q:LD=""
"RTN","ONCOUK",39,0)
 S LC=$P(LD,U),VS=$P(LD,U,2),CS=$P(LD,U,3),FM=$P(LD,U,4),QS=$P(LD,U,5),NM=$P(LD,U,6) I VS="" S VS=1,$P(^ONCO(160,XD0,"F",I,0),U,2)=VS
"RTN","ONCOUK",40,0)
 I CS="" S CS=9,$P(^ONCO(160,XD0,"F",I,0),U,3)=CS
"RTN","ONCOUK",41,0)
 I FM="",FLC'=LLC S $P(^ONCO(160,XD0,"F",I,0),U,4)=0
"RTN","ONCOUK",42,0)
 I QS="" S $P(^ONCO(160,XD0,"F",I,0),U,5)=$S(VS=0:8,1:9)
"RTN","ONCOUK",43,0)
 S NM=$S(VS=0:9,NM="":0,1:NM),$P(^ONCO(160,XD0,"F",I,0),U,6)=NM
"RTN","ONCOUK",44,0)
 S FS=$S(NM<8:1,VS=0:0,1:0) I FS S X1=DT,X2=LC D ^%DTC I X>456.25 S FS=8
"RTN","ONCOUK",45,0)
 S $P(^ONCO(160,XD0,1),U)=VS,$P(^(1),U,7)=FS,$P(^(1),U,4)=$S(VS=0:9,1:0),$P(^(1),U,8)=$S(VS=0:LC,1:"") I 'FS S $P(^ONCO(160,XD0,1),U,2)="" Q
"RTN","ONCOUK",46,0)
NF S NF=$E(LC,1,3)+1_$E(LC,4,5)_"00",$P(^ONCO(160,XD0,1),U,2)=NF W:'(XD0#100) "*"
"RTN","ONCOUK",47,0)
 Q
"RTN","ONCOUK",48,0)
 ;
"RTN","ONCOUK",49,0)
XRF2 ;RE-INDEX FILE 165.5
"RTN","ONCOUK",50,0)
 W !!!?15,"Re-indexing ONCOLOGY PRIMARY File (#165.5)..." F I="APC","ACP" K ^ONCO(165,I)
"RTN","ONCOUK",51,0)
 F I="AA","AAY","AAY1","AC","ACAY","ACF","ACS","AD","ADX","AE","AF","AG","AG1","AGC","AH","AS","AS1","ASG1","ASG","ATB","ATC","ATH","ATO","ATP","ATS","ATX","AY","B","C","D","D1" K ^ONCO(165.5,I)
"RTN","ONCOUK",52,0)
 S DIK="^ONCO(165.5," D IXALL^DIK W !?10,"DONE Re-indexing file #165.5"
"RTN","ONCOUK",53,0)
 Q
"RTN","ONCOUK",54,0)
 ;
"RTN","ONCOUK",55,0)
XRF3 ;RE-INDEX FILE 165
"RTN","ONCOUK",56,0)
 W !!!?15,"Re-indexing ONCOLOGY CONTACT File (#165)..." F I="B","C","B1","B2","B3","B4" K ^ONCO(165,I) S DIK="^ONCO(165," D IXALL^DIK
"RTN","ONCOUK",57,0)
 W !?10,"DONE Re-indexing file #165"
"RTN","ONCOUK",58,0)
 Q
"RTN","ONCOUK",59,0)
 ;
"RTN","ONCOUK",60,0)
XRF4 ;160.1
"RTN","ONCOUK",61,0)
 W !!!?15,"Re-indexing ONCOLOGY SITE PARAMETERS File (#160.1)..."
"RTN","ONCOUK",62,0)
 S DIK="^ONCO(160.1," D IXALL^DIK
"RTN","ONCOUK",63,0)
 W !?10,"DONE Re-indexing file #160.1"
"RTN","ONCOUK",64,0)
 Q
"RTN","ONCOUK",65,0)
 ;
"RTN","ONCOUK",66,0)
KEY55 ;    Assign new .01 fields to ONCOLOGY PRIMARY File (#165.5)
"RTN","ONCOUK",67,0)
 ;    (based on topographies not histologies)
"RTN","ONCOUK",68,0)
 N ONCOPI S ONCOPI=0 ;    primary file index
"RTN","ONCOUK",69,0)
 FOR  S ONCOPI=$O(^ONCO(165.5,ONCOPI)) Q:ONCOPI'=+ONCOPI  D
"RTN","ONCOUK",70,0)
 .  N ONCOTOP S ONCOTOP=$P($G(^ONCO(165.5,ONCOPI,2)),U) ;    ICDO topography
"RTN","ONCOUK",71,0)
 .  IF ONCOTOP,$E(ONCOTOP,1,2)=67 D  ;    a valid topography code exists
"RTN","ONCOUK",72,0)
 ..    N ONCOSITE S ONCOSITE=$P(^ONCO(164,ONCOTOP,0),U,13) ;    new site group
"RTN","ONCOUK",73,0)
 ..    IF $P(^ONCO(165.5,ONCOPI,0),U)'=ONCOSITE D  ;    change it
"RTN","ONCOUK",74,0)
 ...      N DIE S DIE="^ONCO(165.5," ;    file to change
"RTN","ONCOUK",75,0)
 ...      N DR S DR=".01///^S X=+ONCOSITE" ;    field to change
"RTN","ONCOUK",76,0)
 ...      N DA S DA=ONCOPI ;    entry # to edit
"RTN","ONCOUK",77,0)
 ...      D ^DIE ;    change the entry
"RTN","ONCOUK",78,0)
 ...      W:$D(WRTFLG) "." ;DA,?10,ONCOTOP,?20,ONCOSITE,!
"RTN","ONCOUK",79,0)
 ...      Q
"RTN","ONCOUK",80,0)
 ..    ;END IF
"RTN","ONCOUK",81,0)
 ..    ;
"RTN","ONCOUK",82,0)
 ..    Q
"RTN","ONCOUK",83,0)
 .  ;END IF
"RTN","ONCOUK",84,0)
 .  ;
"RTN","ONCOUK",85,0)
 .  Q
"RTN","ONCOUK",86,0)
 ;END FOR
"RTN","ONCOUK",87,0)
 ;
"RTN","ONCOUK",88,0)
 QUIT
"RTN","ONCOUTC")
0^270^B13598286
"RTN","ONCOUTC",1,0)
ONCOUTC ;Hines OIFO/GWB - [UTL *..Utility Options DS DP and EA] ;03/17/11
"RTN","ONCOUTC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCOUTC",3,0)
 ;
"RTN","ONCOUTC",4,0)
INQ ;[PI Patient/Primary Inquiry]
"RTN","ONCOUTC",5,0)
 ;OUT OF ORDER MESSAGE: Marked for deletion
"RTN","ONCOUTC",6,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",7,0)
 I $$PFTD^ONCFUNC(ONCOD0)="N" D  G INQ
"RTN","ONCOUTC",8,0)
 .W !!?5,ONCONM," has no primaries for division: ",$$GET1^DIQ(4,DUZ(2),99)
"RTN","ONCOUTC",9,0)
 D SDD^ONCOCOM G INQ
"RTN","ONCOUTC",10,0)
 ;
"RTN","ONCOUTC",11,0)
DUMP ;[RD Print Oncology Patient Record]
"RTN","ONCOUTC",12,0)
 ;OUT OF ORDER MESSAGE: Marked for deletion
"RTN","ONCOUTC",13,0)
 ;W !,?5,"This option will display the entire Oncology Record from"
"RTN","ONCOUTC",14,0)
 ;W !?5,"both the ONCOLOGY PATIENT and the ONCOLOGY PRIMARY files",!!
"RTN","ONCOUTC",15,0)
SEL ;S DIC(0)="AEQZ",DIC="^ONCO(160," D ^DIC G EX:Y<0 S ONCODA=+Y
"RTN","ONCOUTC",16,0)
 ;S %ZIS="Q" W !! D ^%ZIS I POP S ONCOUT="" G EX
"RTN","ONCOUTC",17,0)
 ;I '$D(IO("Q")) D DIQ W !!! G SEL
"RTN","ONCOUTC",18,0)
 ;S ZTRTN="DIQ^ONCOUTC",ZTSAVE("ONCODA")="",ZTSAVE("DUZ(2)")=""
"RTN","ONCOUTC",19,0)
 ;S ZTDESC="ONCOLOGY PATIENT RECORD"
"RTN","ONCOUTC",20,0)
 ;D ^%ZTLOAD
"RTN","ONCOUTC",21,0)
 ;K ZTDESC,ZTRTN,ZTSAVE
"RTN","ONCOUTC",22,0)
 ;D EX
"RTN","ONCOUTC",23,0)
 ;Q
"RTN","ONCOUTC",24,0)
 ;
"RTN","ONCOUTC",25,0)
EN2 ;[DP Delete Oncology Patient]
"RTN","ONCOUTC",26,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",27,0)
 I $D(^ONCO(165.5,"C",ONCOD0)) D SDD^ONCOCOM
"RTN","ONCOUTC",28,0)
 W !?5,"Deleting a patient will also delete any primaries associated"
"RTN","ONCOUTC",29,0)
 W !?5,"with your division."
"RTN","ONCOUTC",30,0)
 S DIR("A")="     Are you sure you want to delete this ONCOLOGY PATIENT"
"RTN","ONCOUTC",31,0)
 S DIR("B")="NO",DIR(0)="Y" W ! D ^DIR G EX:Y=U!(Y=""),EN2:'Y
"RTN","ONCOUTC",32,0)
 W !
"RTN","ONCOUTC",33,0)
 I $D(^ONCO(165.5,"C",ONCOD0)) S ONCOP0=0 F  S ONCOP0=$O(^ONCO(165.5,"C",ONCOD0,ONCOP0)) Q:ONCOP0'>0  I $$DIV^ONCFUNC(ONCOP0)=DUZ(2) D DP
"RTN","ONCOUTC",34,0)
 I $D(^ONCO(165.5,"C",ONCOD0)) D  G EN2
"RTN","ONCOUTC",35,0)
 .S ONCOP0=$O(^ONCO(165.5,"C",ONCOD0,0))
"RTN","ONCOUTC",36,0)
 .S ONCDIV=$P($G(^ONCO(165.5,ONCOP0,"DIV")),U,1)
"RTN","ONCOUTC",37,0)
 .W !?5,"Unable to delete ONCOLOGY PATIENT."
"RTN","ONCOUTC",38,0)
 .W !?5,"This patient has primaries which belong to division: ",ONCDIV,!
"RTN","ONCOUTC",39,0)
 S DA=ONCOD0,DIK="^ONCO(160,"
"RTN","ONCOUTC",40,0)
 W !!?5,"Deleting ONCOLOGY PATIENT..." D ^DIK G EN2
"RTN","ONCOUTC",41,0)
 ;
"RTN","ONCOUTC",42,0)
EN3 ;[DS Delete Primary Site/GP Record]
"RTN","ONCOUTC",43,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",44,0)
 S UTL="DELETE" D PRIM G EN3:Y<0
"RTN","ONCOUTC",45,0)
 S ONCOSIT=$P(Y,U,2),ONCOP0=+Y
"RTN","ONCOUTC",46,0)
 W !!?5,ONCONM,?35,$P(^ONCO(164.2,ONCOSIT,0),U),!!
"RTN","ONCOUTC",47,0)
 S DIR("A")=" Are you sure you want to delete this primary"
"RTN","ONCOUTC",48,0)
 S DIR("B")="NO",DIR(0)="Y" D ^DIR G EX:(Y="")!(Y=U),EN3:Y=0
"RTN","ONCOUTC",49,0)
 D DP G EN3
"RTN","ONCOUTC",50,0)
 ;
"RTN","ONCOUTC",51,0)
EN1 ;[EA Edit Site/AccSeq# Data]
"RTN","ONCOUTC",52,0)
 D PAT G EX:Y<0
"RTN","ONCOUTC",53,0)
SP S UTL="EDIT" D PRIM G:Y'>0 EN1 D DIE1
"RTN","ONCOUTC",54,0)
 S DIR("A")="Data OK",DIR("B")="Y",DIR(0)="Y"
"RTN","ONCOUTC",55,0)
 D ^DIR Q:Y=U!(Y="")  G:Y=0 SP G EN1
"RTN","ONCOUTC",56,0)
 ;
"RTN","ONCOUTC",57,0)
PRIM ;Select ONCOLOGY PRIMARY (165.5)
"RTN","ONCOUTC",58,0)
 I $$PFTD^ONCFUNC(ONCOD0)="N" D  S Y=-1 Q
"RTN","ONCOUTC",59,0)
 .W !!?5,ONCONM," has no primaries for division: ",$$GET1^DIQ(4,DUZ(2),99)
"RTN","ONCOUTC",60,0)
 S D0=ONCOD0 D SDD^ONCOCOM W !?5,"Select primary to ",UTL,!
"RTN","ONCOUTC",61,0)
 S D="C",DIC="^ONCO(165.5,",DIC(0)="EZ",X=ONCOD0 D IX^DIC Q:(Y<0)!(Y=U)
"RTN","ONCOUTC",62,0)
 Q
"RTN","ONCOUTC",63,0)
 ;
"RTN","ONCOUTC",64,0)
DIE1 ;Edit ONCOLOGY PRIMARY (165.5)
"RTN","ONCOUTC",65,0)
 S (D0,ONCODP0,DA)=+Y,DR="[ONCO UTL CORRECT DATA]",DIE="^ONCO(165.5,"
"RTN","ONCOUTC",66,0)
 S ONCOL=0
"RTN","ONCOUTC",67,0)
 L +^ONCO(165.5,ONCODP0):0 I $T D ^DIE L -^ONCO(165.5,ONCODP0) S ONCOL=1
"RTN","ONCOUTC",68,0)
 I 'ONCOL W !,"Record being edited by another user." D EX G PRIM
"RTN","ONCOUTC",69,0)
 S Y=0
"RTN","ONCOUTC",70,0)
 S ONCOD0P=D0
"RTN","ONCOUTC",71,0)
 S ABSTAT=$P($G(^ONCO(165.5,ONCOD0P,7)),U,2)
"RTN","ONCOUTC",72,0)
 I ABSTAT=3 S EAFLAG="YES" D CHANGE^ONCGENED
"RTN","ONCOUTC",73,0)
 D EX
"RTN","ONCOUTC",74,0)
 Q
"RTN","ONCOUTC",75,0)
 ;
"RTN","ONCOUTC",76,0)
PAT ;Select ONCOLOGY PATIENT (160)
"RTN","ONCOUTC",77,0)
 W ! S DIC="^ONCO(160,",DIC(0)="AEZM" D ^DIC K DIC Q:Y<0
"RTN","ONCOUTC",78,0)
 S (ONCOD0,D0)=+Y,ONCONM=Y(0,0)
"RTN","ONCOUTC",79,0)
 N Y K DIQ,ONC S DIC="^ONCO(160,",DR="2;3;8;10",DA=ONCOD0,DIQ="ONC"
"RTN","ONCOUTC",80,0)
 D EN^DIQ1 W !
"RTN","ONCOUTC",81,0)
 W !?2,"SSN..........: ",ONC(160,ONCOD0,2)
"RTN","ONCOUTC",82,0)
 W ?35,"Race.........: ",ONC(160,ONCOD0,8)
"RTN","ONCOUTC",83,0)
 W !?2,"Date of Birth: ",ONC(160,ONCOD0,3)
"RTN","ONCOUTC",84,0)
 W ?35,"Sex..........: ",ONC(160,ONCOD0,10)
"RTN","ONCOUTC",85,0)
 Q
"RTN","ONCOUTC",86,0)
 ;
"RTN","ONCOUTC",87,0)
DP ;Delete ONCOLOGY PRIMARY (165.5)
"RTN","ONCOUTC",88,0)
 W !?5,"Deleting ONCOLOGY PRIMARY: ",$$GET1^DIQ(165.5,ONCOP0,20)
"RTN","ONCOUTC",89,0)
 S DA=ONCOP0,DIK="^ONCO(165.5," D ^DIK S D0=ONCOD0 H 2 W !
"RTN","ONCOUTC",90,0)
 Q
"RTN","ONCOUTC",91,0)
 ;
"RTN","ONCOUTC",92,0)
EX ;Kill variables
"RTN","ONCOUTC",93,0)
 K %ZIS,ABSTAT,D,D0,DA,DIC,DIE,DIK,DIQ,DIR,DR,EAFLAG,ONC,ONCDIV
"RTN","ONCOUTC",94,0)
 K ONCOD0P,ONCODA,ONCODP0,ONCOL,ONCONM,ONCOP0,ONCOSIT,ONCOUT,POP,UTL,X,Y
"RTN","ONCOUTC",95,0)
 Q
"RTN","ONCOUTC",96,0)
 ;
"RTN","ONCOUTC",97,0)
CLEANUP ;Cleanup
"RTN","ONCOUTC",98,0)
 K ONCOD0
"RTN","ONCP2P0")
0^271^B6652955
"RTN","ONCP2P0",1,0)
ONCP2P0 ;HINES CIOFO/GWB - PROSTATE PCE 1998 ;6/1/98
"RTN","ONCP2P0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P0",3,0)
CHECK ;Check PCE eligibility
"RTN","ONCP2P0",4,0)
 ;Check if ACCESSION YEAR = 1998
"RTN","ONCP2P0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1998 S MSG="The Accession Year is not 1998." D ERRMSG G EXIT
"RTN","ONCP2P0",6,0)
 ;Check if histologically confirmed
"RTN","ONCP2P0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I DC'=1 S MSG="The Diagnostic Confirmation code is not 1 (Positive histology)." D ERRMSG G EXIT
"RTN","ONCP2P0",8,0)
 ;Check if Class of Case is either 1, 2 or 6.
"RTN","ONCP2P0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2)&(COC'=6) S MSG="The Class of Case code is not 1, 2 or 6." D ERRMSG G EXIT
"RTN","ONCP2P0",10,0)
MENU ;Prostate PCE menu
"RTN","ONCP2P0",11,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="PRO2"
"RTN","ONCP2P0",12,0)
 S ^ONCO(165.5,"APCE","PRO2",ONCONUM)=""
"RTN","ONCP2P0",13,0)
 K DIR D HEAD
"RTN","ONCP2P0",14,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Extent and Stage of Disease;4:First Course of Treatment;5:First Recurrence;6:Status at Last Contact;7:All;8:Print Prostate PCE"
"RTN","ONCP2P0",15,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCP2P0",16,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCP2P0",17,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCP2P0",18,0)
 .D ^ONCP2P1 Q:$G(OUT)="Y"
"RTN","ONCP2P0",19,0)
 .D ^ONCP2P2 Q:$G(OUT)="Y"
"RTN","ONCP2P0",20,0)
 .D ^ONCP2P3 Q:$G(OUT)="Y"
"RTN","ONCP2P0",21,0)
 .D ^ONCP2P4 Q:$G(OUT)="Y"
"RTN","ONCP2P0",22,0)
 .D ^ONCP2P5 Q:$G(OUT)="Y"
"RTN","ONCP2P0",23,0)
 .D ^ONCP2P6 Q:$G(OUT)="Y"
"RTN","ONCP2P0",24,0)
 S SUB="^ONCP2P"_Y D @SUB G MENU
"RTN","ONCP2P0",25,0)
ERRMSG ;Error message
"RTN","ONCP2P0",26,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCP2P0",27,0)
 K MSG Q
"RTN","ONCP2P0",28,0)
HEAD ;PCE HEADER
"RTN","ONCP2P0",29,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCP2P0",30,0)
 S HDL=$L(" 1998 Patient Care Evaluation Study of Prostate Cancer"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCP2P0",31,0)
 W !,?TAB,"1998 Patient Care Evaluation Study of Prostate Cancer",!,DASHES
"RTN","ONCP2P0",32,0)
 Q
"RTN","ONCP2P0",33,0)
EXIT ;Kill Variables and Exit.
"RTN","ONCP2P0",34,0)
 K HDL,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCP2P0",35,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCP2P0",36,0)
 Q
"RTN","ONCP2P1")
0^272^B7499412
"RTN","ONCP2P1",1,0)
ONCP2P1 ;Hines OIFO/GWB - 1998 Prostate Cancer Study ;05/30/00
"RTN","ONCP2P1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P1",3,0)
 ;Table I
"RTN","ONCP2P1",4,0)
 K TABLE,HTABLE
"RTN","ONCP2P1",5,0)
 S TABLE("1. INSTITUTION ID NUMBER")="IIN"
"RTN","ONCP2P1",6,0)
 S TABLE("2. ACCESSION NUMBER")="ACC"
"RTN","ONCP2P1",7,0)
 S TABLE("3. SEQUENCE NUMBER")="SEQ"
"RTN","ONCP2P1",8,0)
 S TABLE("4. POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCP2P1",9,0)
 S TABLE("5. DATE OF BIRTH")="DOB"
"RTN","ONCP2P1",10,0)
 S TABLE("6. RACE")="RACE"
"RTN","ONCP2P1",11,0)
 S TABLE("7. SPANISH ORIGIN")="SO"
"RTN","ONCP2P1",12,0)
 S TABLE("8. PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCP2P1",13,0)
 S TABLE("9. FAMILY HISTORY OF PROSTATE CANCER")="FHOPC"
"RTN","ONCP2P1",14,0)
 S HTABLE(1)=" 1. INSTITUTION ID NUMBER"
"RTN","ONCP2P1",15,0)
 S HTABLE(2)=" 2. ACCESSION NUMBER"
"RTN","ONCP2P1",16,0)
 S HTABLE(3)=" 3. SEQUENCE NUMBER"
"RTN","ONCP2P1",17,0)
 S HTABLE(4)=" 4. POSTAL CODE AT DIAGNOSIS"
"RTN","ONCP2P1",18,0)
 S HTABLE(5)=" 5. DATE OF BIRTH"
"RTN","ONCP2P1",19,0)
 S HTABLE(6)=" 6. RACE"
"RTN","ONCP2P1",20,0)
 S HTABLE(7)=" 7. SPANISH ORIGIN"
"RTN","ONCP2P1",21,0)
 S HTABLE(8)=" 8. PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCP2P1",22,0)
 S HTABLE(9)=" 9. FAMILY HISTORY OF PROSTATE CANCER"
"RTN","ONCP2P1",23,0)
 S CHOICES=9
"RTN","ONCP2P1",24,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".05;.06",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCP2P1",25,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCP2P1",26,0)
 W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P1",27,0)
IIN W !," 1. INSTITUTION ID NUMBER............: H6",$$IIN^ONCFUNC
"RTN","ONCP2P1",28,0)
 W !!," TABLE I - GENERAL INFORMATION"
"RTN","ONCP2P1",29,0)
 W !," -----------------------------"
"RTN","ONCP2P1",30,0)
ACC W !," 2. ACCESSION NUMBER.................: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCP2P1",31,0)
SEQ W !," 3. SEQUENCE NUMBER..................: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCP2P1",32,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P1",33,0)
 S DR="9 4. POSTAL CODE AT DIAGNOSIS........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P1",34,0)
DOB W !," 5. DATE OF BIRTH....................: ",DOB
"RTN","ONCP2P1",35,0)
RACE S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCP2P1",36,0)
 S DR="8 6. RACE............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P1",37,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCP2P1",38,0)
 S DR="9 7. SPANISH ORIGIN..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P1",39,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P1",40,0)
 S DR="18 8. PRIMARY PAYER AT DIAGNOSIS......." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P1",41,0)
FHOPC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P1",42,0)
 S DR="657 9. FAMILY HISTORY OF PROSTATE CANCER" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P1",43,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P1",44,0)
 G EXIT
"RTN","ONCP2P1",45,0)
JUMP ;Jump to prompts
"RTN","ONCP2P1",46,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME
"RTN","ONCP2P1",47,0)
 I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P1",48,0)
 I X["?" D  G JUMP
"RTN","ONCP2P1",49,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P1",50,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P1",51,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P1",52,0)
 S X=TABLE(X)
"RTN","ONCP2P1",53,0)
 G @X
"RTN","ONCP2P1",54,0)
EXIT K TABLE,HTABLE,CHOICES,ONC
"RTN","ONCP2P1",55,0)
 K DIQ,DIC,DR,DA,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,XX,X,Y
"RTN","ONCP2P1",56,0)
 K DOB,OSP,IIN
"RTN","ONCP2P1",57,0)
 Q
"RTN","ONCP2P2")
0^273^B57787500
"RTN","ONCP2P2",1,0)
ONCP2P2 ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - Table II ;6/1/98
"RTN","ONCP2P2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P2",3,0)
 K TABLE,HTABLE
"RTN","ONCP2P2",4,0)
 S TABLE("10. CLASS OF CASE")="COC"
"RTN","ONCP2P2",5,0)
 S TABLE("11. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS")="SPAID"
"RTN","ONCP2P2",6,0)
 S TABLE("12. INITIAL METHODS OF DIAGNOSIS")="IMOD"
"RTN","ONCP2P2",7,0)
 S TABLE("13. DIAGNOSTIC EVALUATION")="DE"
"RTN","ONCP2P2",8,0)
 S TABLE("14. RESULTS OF MOST RECENT PRE-TREATMENT PSA TEST")="ROPP"
"RTN","ONCP2P2",9,0)
 S TABLE("15. DATE OF INITIAL DIAGNOSIS")="DOID"
"RTN","ONCP2P2",10,0)
 S TABLE("16. PRIMARY SITE (ICD-O-2)")="PS"
"RTN","ONCP2P2",11,0)
 S TABLE("17. HISTOLOGY (ICD-O-2)")="HIST"
"RTN","ONCP2P2",12,0)
 S TABLE("18. BEHAVIOR CODE(ICD-O-2)")="BC"
"RTN","ONCP2P2",13,0)
 S TABLE("19. GRADE")="GRADE"
"RTN","ONCP2P2",14,0)
 S TABLE("20. BIOPSY PROCEDURE")="BP"
"RTN","ONCP2P2",15,0)
 S TABLE("21. GUIDANCE OF BIOPSY TO PRIMARY")="GOBTP"
"RTN","ONCP2P2",16,0)
 S TABLE("22. BIOPSY APPROACH FOR PRIMARY")="BAFP"
"RTN","ONCP2P2",17,0)
 S TABLE("23. BIOPSY OF OTHER THAN PRIMARY")="BOOTP"
"RTN","ONCP2P2",18,0)
 S TABLE("24. DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCP2P2",19,0)
 S TABLE("25. GLEASON'S SCORE FOR BIOPSY, LOCAL RESECTION, OR SIMPLE PROSTATECTOMY")="GSFSP"
"RTN","ONCP2P2",20,0)
 S TABLE("26. GLEASON'S SCORE FOR RADICAL PROSTATECTOMY")="GSFRP"
"RTN","ONCP2P2",21,0)
 S HTABLE(1)="10. CLASS OF CASE"
"RTN","ONCP2P2",22,0)
 S HTABLE(2)="11. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS"
"RTN","ONCP2P2",23,0)
 S HTABLE(3)="12. INITIAL METHODS OF DIAGNOSIS"
"RTN","ONCP2P2",24,0)
 S HTABLE(4)="13. DIAGNOSTIC EVALUATION"
"RTN","ONCP2P2",25,0)
 S HTABLE(5)="14. RESULTS OF MOST RECENT PRE-TREATMENT PSA TEST"
"RTN","ONCP2P2",26,0)
 S HTABLE(6)="15. DATE OF INITIAL DIAGNOSIS"
"RTN","ONCP2P2",27,0)
 S HTABLE(7)="16. PRIMARY SITE (ICD-O-2)"
"RTN","ONCP2P2",28,0)
 S HTABLE(8)="17. HISTOLOGY (ICD-O-2)"
"RTN","ONCP2P2",29,0)
 S HTABLE(9)="18. BEHAVIOR CODE (ICD-O-2)"
"RTN","ONCP2P2",30,0)
 S HTABLE(10)="19. GRADE"
"RTN","ONCP2P2",31,0)
 S HTABLE(11)="20. BIOPSY PROCEDURE"
"RTN","ONCP2P2",32,0)
 S HTABLE(12)="21. GUIDANCE OF BIOPSY TO PRIMARY"
"RTN","ONCP2P2",33,0)
 S HTABLE(13)="22. BIOPSY APPROACH FOR PRIMARY"
"RTN","ONCP2P2",34,0)
 S HTABLE(14)="23. BIOPSY OF OTHER THAN PRIMARY"
"RTN","ONCP2P2",35,0)
 S HTABLE(15)="24. DIAGNOSTIC CONFIRMATION"
"RTN","ONCP2P2",36,0)
 S HTABLE(16)="25. GLEASON'S SCORE FOR BIOPSY, LOCAL RESECTION, OR SIMPLE PROSTATECTOMY"
"RTN","ONCP2P2",37,0)
 S HTABLE(17)="26. GLEASON'S SCORE FOR RADICAL PROSTATECTOMY"
"RTN","ONCP2P2",38,0)
 S CHOICES=17
"RTN","ONCP2P2",39,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;22;58.1;58.2",DA=ONCONUM,DIQ="ONC",DIQ(0)="IE"
"RTN","ONCP2P2",40,0)
 D EN^DIQ1
"RTN","ONCP2P2",41,0)
 S NCDS=$E(ONC(165.5,ONCONUM,58.1,"E"),1,2)
"RTN","ONCP2P2",42,0)
 S CDS=$E(ONC(165.5,ONCONUM,58.2,"E"),1,2)
"RTN","ONCP2P2",43,0)
 F SUB="02","03","04","05","06","07" S NCDS(SUB)=""
"RTN","ONCP2P2",44,0)
 F SUB=10,11,12,13,14,15,16,17,30,40 S CDS(SUB)=""
"RTN","ONCP2P2",45,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P2",46,0)
 W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P2",47,0)
 W !," TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCP2P2",48,0)
 W !," ----------------------------"
"RTN","ONCP2P2",49,0)
COC W !," 10. CLASS OF CASE................: ",ONC(165.5,ONCONUM,.04,"E")
"RTN","ONCP2P2",50,0)
SPAID W !!," 11. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS:",!
"RTN","ONCP2P2",51,0)
 S DR="658     HEMATURIA...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",52,0)
 S DR="659     LOWER BACK PAIN.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",53,0)
 S DR="660     TROUBLE URINATING............" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",54,0)
IMOD W !!," 12. INITIAL METHOD OF DIAGNOSIS:",!
"RTN","ONCP2P2",55,0)
 S DR="661     CLINICAL DX WITH BONE LESION." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",56,0)
 S DR="662     CLINICAL DX BY RECTAL EXAM..." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",57,0)
 S DR="663     CYTOLOGY....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",58,0)
 S DR="664     DIGITAL TRANSRECTAL BIOPSY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",59,0)
 S DR="665     INCIDENTAL FINDING IN TURP                                                      FOR BENIGN DISEASE..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",60,0)
 S DR="666     NEEDLE BIOPSY, NOS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",61,0)
 S DR="667     PERINEAL BIOPSY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",62,0)
 S DR="668     PSA.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",63,0)
 S DR="669     TRUS GUIDED BIOPSY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",64,0)
 S DR="670     TURP, NOS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",65,0)
DE W !!," 13. DIAGNOSTIC EVALUATION:",!
"RTN","ONCP2P2",66,0)
 S DR="671     BONE MARROW ASPIRATION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",67,0)
 S DR="672     BONE SCAN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",68,0)
 S DR="673     BONE X-RAY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",69,0)
 S DR="674     CHEST X-RAY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",70,0)
 S DR="675     CT SCAN OF ABDOMEN..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",71,0)
 S DR="676     CT SCAN OF PELVIS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",72,0)
 S DR="677     IVP.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",73,0)
 S DR="678     MRI.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",74,0)
 S DR="679     PELVIC LYMPH NODE DISSECTION." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",75,0)
 S DR="680     PCR.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",76,0)
 S DR="681     PAP.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",77,0)
 S DR="682     PSA.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",78,0)
 S DR="683     ULTRASOUND OF ABDOMEN........" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",79,0)
 W !
"RTN","ONCP2P2",80,0)
ROPP S DR="684 14. RESULTS OF MOST RECENT PRE-                                                     TREATMENT PSA TEST..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",81,0)
DOID S DOID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCP2P2",82,0)
 W !," 15. DATE OF INITIAL DIAGNOSIS....: ",DOID
"RTN","ONCP2P2",83,0)
PS W !," 16. PRIMARY SITE (ICD-O-2).......: C61.9"
"RTN","ONCP2P2",84,0)
HIST W !," 17. HISTOLOGY (ICD-O-2)..........: ",$E(ONC(165.5,ONCONUM,22,"I"),1,4)
"RTN","ONCP2P2",85,0)
BC W !," 18. BEHAVIOR CODE (ICD-O-2)......: ",$E(ONC(165.5,ONCONUM,22,"I"),5)
"RTN","ONCP2P2",86,0)
GRADE S DR="24 19. GRADE........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",87,0)
BP S DR="141 20. BIOSPY PROCEDURE............." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",88,0)
 I $G(X)=1 D  G BOOTP
"RTN","ONCP2P2",89,0)
 .S $P(^ONCO(165.5,ONCONUM,2.1),U,15)=1
"RTN","ONCP2P2",90,0)
 .S $P(^ONCO(165.5,ONCONUM,2.1),U,18)=0
"RTN","ONCP2P2",91,0)
 .W !," 21. GUIDANCE OF BIOPSY TO PRIMARY: Not guided, no biopsy"
"RTN","ONCP2P2",92,0)
 .W !," 22. BIOPSY APPROACH FOR PRIMARY..: No biopsy"
"RTN","ONCP2P2",93,0)
 I $G(X)=6 D  G BOOTP
"RTN","ONCP2P2",94,0)
 .S $P(^ONCO(165.5,ONCONUM,2.1),U,15)=5
"RTN","ONCP2P2",95,0)
 .S $P(^ONCO(165.5,ONCONUM,2.1),U,18)=9
"RTN","ONCP2P2",96,0)
 .W !," 21. GUIDANCE OF BIOPSY TO PRIMARY: Unknown/death cert only"
"RTN","ONCP2P2",97,0)
 .W !," 22. BIOPSY APPROACH FOR PRIMARY..: Unknown/death cert only"
"RTN","ONCP2P2",98,0)
GOBTP S DR="142 21. GUIDANCE OF BIOSPY TO PRIMARY" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",99,0)
BAFP S DR="145 22. BIOSPY APPROACH FOR PRIMARY.." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",100,0)
BOOTP S DR="146 23. BIOSPY OF OTHER THAN PRIMARY." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",101,0)
DC S DR="26 24. DIAGNOSTIC CONFIRMATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",102,0)
GSFSP W !," 25. GLEASON'S SCORE FOR BIOPSY, LOCAL RESECTION, OR SIMPLE PROSTATECTOMY:",!
"RTN","ONCP2P2",103,0)
 I NCDS'="",$D(NCDS(NCDS)) G PP25
"RTN","ONCP2P2",104,0)
 I CDS'="",$D(CDS(CDS)) G PP25
"RTN","ONCP2P2",105,0)
 E  D  G GSFRP
"RTN","ONCP2P2",106,0)
 .W !,"     Surgery codes not 02 through 40",!
"RTN","ONCP2P2",107,0)
 .K DR S DR=""
"RTN","ONCP2P2",108,0)
 .S DR(1,165.5,1)="623.1///9"
"RTN","ONCP2P2",109,0)
 .S DR(1,165.5,2)="623.2///9"
"RTN","ONCP2P2",110,0)
 .S DR(1,165.5,3)="623///99"
"RTN","ONCP2P2",111,0)
 .D ^DIE
"RTN","ONCP2P2",112,0)
 .W !,"     PREDOMINENT (PRIMARY) PATTERN: 9"
"RTN","ONCP2P2",113,0)
 .W !,"     LESSER (SECONDARY) PATTERN...: 9"
"RTN","ONCP2P2",114,0)
 .W !,"     GLEASON SCORE................: 99 Unknown, not reported, or NA"
"RTN","ONCP2P2",115,0)
PP25 S DR="623.1     PREDOMINENT (PRIMARY) PATTERN" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",116,0)
 I $P($G(^ONCO(165.5,ONCONUM,"PRO2")),U,43)=0 D  G GS25
"RTN","ONCP2P2",117,0)
 .S DR="623.2///0" D ^DIE
"RTN","ONCP2P2",118,0)
 .W !,"     LESSER (SECONDARY) PATTERN...: 0"
"RTN","ONCP2P2",119,0)
 I $P($G(^ONCO(165.5,ONCONUM,"PRO2")),U,43)=9 D  G GSFRP
"RTN","ONCP2P2",120,0)
 .S DR="623///99;623.2///9" D ^DIE
"RTN","ONCP2P2",121,0)
 .W !,"     LESSER (SECONDARY) PATTERN...: 9"
"RTN","ONCP2P2",122,0)
 .W !,"     GLEASON SCORE................: 99 Unknown, not reported, or NA"
"RTN","ONCP2P2",123,0)
LP25 S DR="623.2     LESSER (SECONDARY) PATTERN..." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",124,0)
 S PP=$P($G(^ONCO(165.5,D0,"PRO2")),U,43)
"RTN","ONCP2P2",125,0)
 S LP=$P($G(^ONCO(165.5,D0,"PRO2")),U,44)
"RTN","ONCP2P2",126,0)
 I PP>0,PP<6,(X=0)!(X=9) W *7,"??" G LP25
"RTN","ONCP2P2",127,0)
 I ((PP>0)&(PP<6))&((LP>0)&(LP<6)) S GS=PP+LP S:$L(GS)=1 GS="0"_GS D  G GSFRP
"RTN","ONCP2P2",128,0)
 .S DR="623///"_GS D ^DIE
"RTN","ONCP2P2",129,0)
 .W !,"     GLEASON SCORE................: ",GS
"RTN","ONCP2P2",130,0)
GS25 S DR="623     GLEASON SCORE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",131,0)
GSFRP W !!," 26. GLEASON'S SCORE FOR RADICAL PROSTATECTOMY:",!
"RTN","ONCP2P2",132,0)
 I (CDS=50)!(CDS=70) G PP26
"RTN","ONCP2P2",133,0)
 E  D  G PRTC
"RTN","ONCP2P2",134,0)
 .W !,"     Surgery codes not 50 through 70",!
"RTN","ONCP2P2",135,0)
 .K DR S DR=""
"RTN","ONCP2P2",136,0)
 .S DR(1,165.5,1)="623.4///9"
"RTN","ONCP2P2",137,0)
 .S DR(1,165.5,2)="623.5///9"
"RTN","ONCP2P2",138,0)
 .S DR(1,165.5,3)="623.3///99"
"RTN","ONCP2P2",139,0)
 .D ^DIE
"RTN","ONCP2P2",140,0)
 .W !,"     PREDOMINENT (PRIMARY) PATTERN: 9"
"RTN","ONCP2P2",141,0)
 .W !,"     LESSER (SECONDARY) PATTERN...: 9"
"RTN","ONCP2P2",142,0)
 .W !,"     GLEASON SCORE................: 99 Unknown, not reported, or NA"
"RTN","ONCP2P2",143,0)
PP26 S DR="623.4     PREDOMINENT (PRIMARY) PATTERN" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",144,0)
 I $P($G(^ONCO(165.5,ONCONUM,"PRO2")),U,46)=0 D  G GS26
"RTN","ONCP2P2",145,0)
 .S DR="623.5///0" D ^DIE
"RTN","ONCP2P2",146,0)
 .W !,"     LESSER (SECONDARY) PATTERN...: 0"
"RTN","ONCP2P2",147,0)
 I $P($G(^ONCO(165.5,ONCONUM,"PRO2")),U,46)=9 D  G PRTC
"RTN","ONCP2P2",148,0)
 .S DR="623.3///99;623.5///9" D ^DIE
"RTN","ONCP2P2",149,0)
 .W !,"     LESSER (SECONDARY) PATTERN...: 9"
"RTN","ONCP2P2",150,0)
 .W !,"     GLEASON SCORE................: 99 Unknown, not reported, or NA"
"RTN","ONCP2P2",151,0)
LP26 S DR="623.5     LESSER (SECONDARY) PATTERN..." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",152,0)
 S PP=$P($G(^ONCO(165.5,D0,"PRO2")),U,46)
"RTN","ONCP2P2",153,0)
 S LP=$P($G(^ONCO(165.5,D0,"PRO2")),U,47)
"RTN","ONCP2P2",154,0)
 I PP>0,PP<6,(X=0)!(X=9) W *7,"??" G LP26
"RTN","ONCP2P2",155,0)
 I ((PP>0)&(PP<6))&((LP>0)&(LP<6)) S GS=PP+LP S:$L(GS)=1 GS="0"_GS D  G PRTC
"RTN","ONCP2P2",156,0)
 .S DR="623.3///"_GS D ^DIE
"RTN","ONCP2P2",157,0)
 .W !,"     GLEASON SCORE................: ",GS
"RTN","ONCP2P2",158,0)
GS26 S DR="623.3     GLEASON SCORE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P2",159,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P2",160,0)
 G EXIT
"RTN","ONCP2P2",161,0)
JUMP ;Jump to prompts
"RTN","ONCP2P2",162,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P2",163,0)
 I X["?" D  G JUMP
"RTN","ONCP2P2",164,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P2",165,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P2",166,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P2",167,0)
 S X=TABLE(X)
"RTN","ONCP2P2",168,0)
 G @X
"RTN","ONCP2P2",169,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCP2P2",170,0)
 K DOID,NCDS,CDS,PP,LP,GS,PIECE
"RTN","ONCP2P2",171,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCP2P2",172,0)
 Q
"RTN","ONCP2P3")
0^274^B6759135
"RTN","ONCP2P3",1,0)
ONCP2P3 ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - Table III ;6/1/98
"RTN","ONCP2P3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P3",3,0)
 K TABLE,HTABLE
"RTN","ONCP2P3",4,0)
 S TABLE("27. SIZE OF TUMOR (mm)")="SOT"
"RTN","ONCP2P3",5,0)
 S TABLE("28. REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCP2P3",6,0)
 S TABLE("29. REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCP2P3",7,0)
 S TABLE("30. AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCP2P3",8,0)
 S TABLE("31. AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCP2P3",9,0)
 S TABLE("32. STAGED BY")="SB"
"RTN","ONCP2P3",10,0)
 S HTABLE(1)="27. SIZE OF TUMOR (mm)"
"RTN","ONCP2P3",11,0)
 S HTABLE(2)="28. REGIONAL NODES EXAMINED"
"RTN","ONCP2P3",12,0)
 S HTABLE(3)="29. REGIONAL NODES POSITIVE"
"RTN","ONCP2P3",13,0)
 S HTABLE(4)="30. AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCP2P3",14,0)
 S HTABLE(5)="31. AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCP2P3",15,0)
 S HTABLE(6)="32. STAGED BY"
"RTN","ONCP2P3",16,0)
 S CHOICES=6
"RTN","ONCP2P3",17,0)
 W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P3",18,0)
 W !," TABLE III - EXTENT AND STAGE OF DISEASE"
"RTN","ONCP2P3",19,0)
 W !," ---------------------------------------"
"RTN","ONCP2P3",20,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P3",21,0)
SOT S DR="29 27. SIZE OF TUMOR (mm)....." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",22,0)
RNE S DR="33 28. REGIONAL NODES EXAMINED" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",23,0)
RNP S DR="32 29. REGIONAL NODES POSITIVE" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",24,0)
ACS W !!," 30. AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCP2P3",25,0)
CTCODE S DR="37.1     T-CODE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",26,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCP2P3",27,0)
CNCODE S DR="37.2     N-CODE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",28,0)
CMCODE S DR="37.3     M-CODE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",29,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCP2P3",30,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCP2P3",31,0)
APS W !," 31. AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCP2P3",32,0)
PTCODE S DR="85     T-CODE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",33,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCP2P3",34,0)
PNCODE S DR="86     N-CODE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",35,0)
PMCODE S DR="87     M-CODE................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",36,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCP2P3",37,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCP2P3",38,0)
SB W !," 32. STAGED BY:",!
"RTN","ONCP2P3",39,0)
CSB S DR="19     CLINICAL STAGE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",40,0)
PSB S DR="89     PATHOLOGIC STAGE......." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P3",41,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P3",42,0)
 G EXIT
"RTN","ONCP2P3",43,0)
JUMP ;Jump to prompts
"RTN","ONCP2P3",44,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P3",45,0)
 I X["?" D  G JUMP
"RTN","ONCP2P3",46,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P3",47,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P3",48,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P3",49,0)
 S X=TABLE(X)
"RTN","ONCP2P3",50,0)
 G @X
"RTN","ONCP2P3",51,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCP2P3",52,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCP2P3",53,0)
 Q
"RTN","ONCP2P4")
0^275^B32183944
"RTN","ONCP2P4",1,0)
ONCP2P4 ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - Table IV ;6/1/98
"RTN","ONCP2P4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P4",3,0)
 K TABLE,HTABLE
"RTN","ONCP2P4",4,0)
 S TABLE("SURGERY")="S^ONCP2P4"
"RTN","ONCP2P4",5,0)
 S TABLE("NON CANCER-DIRECTED SURGERY")="NCS^ONCP2P4"
"RTN","ONCP2P4",6,0)
 S TABLE("CANCER-DIRECTED SURGERY")="CS^ONCP2P4"
"RTN","ONCP2P4",7,0)
 S TABLE("RADIATION THERAPY")="RT^ONCP2P4A"
"RTN","ONCP2P4",8,0)
 S TABLE("HORMONE THERAPY")="HOT^ONCP2P4A"
"RTN","ONCP2P4",9,0)
 S TABLE("CHEMOTHERAPY")="CT^ONCP2P4A"
"RTN","ONCP2P4",10,0)
 S HTABLE(1)="SURGERY"
"RTN","ONCP2P4",11,0)
 S HTABLE(2)="NON CANCER-DIRECTED SURGERY"
"RTN","ONCP2P4",12,0)
 S HTABLE(3)="CANCER-DIRECTED SURGERY"
"RTN","ONCP2P4",13,0)
 S HTABLE(4)="RADIATION THERAPY"
"RTN","ONCP2P4",14,0)
 S HTABLE(5)="HORMONE THERAPY"
"RTN","ONCP2P4",15,0)
 S HTABLE(6)="CHEMOTHERAPY"
"RTN","ONCP2P4",16,0)
 S CHOICES=6
"RTN","ONCP2P4",17,0)
 W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4",18,0)
 W !," TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCP2P4",19,0)
 W !," ------------------------------------"
"RTN","ONCP2P4",20,0)
 K DIQ,ONC S DIC="^ONCO(165.5,"
"RTN","ONCP2P4",21,0)
 S DR="23;49;50;51;51.2;53;53.2;54;54.2;58.1;58.2;58.3;58;59;74;138;139;140"
"RTN","ONCP2P4",22,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCP2P4",23,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P4",24,0)
 S CDS=ONC(165.5,ONCONUM,58.2)
"RTN","ONCP2P4",25,0)
 S RAD=$P($G(^ONCO(165.5,ONCONUM,3)),U,6)
"RTN","ONCP2P4",26,0)
 S HOR=$P($G(^ONCO(165.5,ONCONUM,3)),U,16)
"RTN","ONCP2P4",27,0)
DFCT W !," 33. DATE OF FIRST COURSE TREATMENT.: ",ONC(165.5,ONCONUM,49)
"RTN","ONCP2P4",28,0)
EMWW S DR="685 34. EXPECTED MGT/WATCHFUL WAITING.." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",29,0)
S W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4",30,0)
 W !," SURGERY",!
"RTN","ONCP2P4",31,0)
 W " -------"
"RTN","ONCP2P4",32,0)
NCS W !," NON CANCER-DIRECTED SURGERY",!
"RTN","ONCP2P4",33,0)
DNCDS W !," 35. DATE OF NON CA-DIRECTED SURGERY: ",ONC(165.5,ONCONUM,58.3)
"RTN","ONCP2P4",34,0)
NCDS S NCDS=ONC(165.5,ONCONUM,58.1)
"RTN","ONCP2P4",35,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<42 S NCDS1=NCDS G NCDS1
"RTN","ONCP2P4",36,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCP2P4",37,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCP2P4",38,0)
NCDS1 W !," 36. NON CANCER-DIRECTED SURGERY....: ",NCDS1 W:NCDS2'="" !,?38,NCDS2
"RTN","ONCP2P4",39,0)
CS W !," CANCER-DIRECTED SURGERY",!
"RTN","ONCP2P4",40,0)
DCDS W !," 37. DATE OF CANCER-DIRECTED SURGERY: ",ONC(165.5,ONCONUM,50)
"RTN","ONCP2P4",41,0)
LSAS I $E(CDS,1,2)="00" D  G SA
"RTN","ONCP2P4",42,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,30)=88
"RTN","ONCP2P4",43,0)
 .W !," 38. LENGTH OF STAY AFTER SURGERY...: 88 NA"
"RTN","ONCP2P4",44,0)
 I $E(CDS,1,2)=99 D  G SA
"RTN","ONCP2P4",45,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,30)=99
"RTN","ONCP2P4",46,0)
 .W !," 38. LENGTH OF STAY AFTER SURGERY...: 99 Unknown"
"RTN","ONCP2P4",47,0)
 S DR="686 38. LENGTH OF STAY AFTER SURGERY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",48,0)
SA S SA=ONC(165.5,ONCONUM,74)
"RTN","ONCP2P4",49,0)
 S (SA1,SA2)="",LOS=$L(SA) I LOS<42 S SA1=SA G SA1
"RTN","ONCP2P4",50,0)
 S NOP=$L($E(SA,1,41)," "),SA1=$P(SA," ",1,NOP-1),SA2=$P(SA," ",NOP,999)
"RTN","ONCP2P4",51,0)
SA1 W !," 39. SURGICAL APPROACH..............: ",SA1 W:SA2'="" !,?38,SA2
"RTN","ONCP2P4",52,0)
TCDS S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<42 S CDS1=CDS G TCDS1
"RTN","ONCP2P4",53,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCP2P4",54,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCP2P4",55,0)
TCDS1 W !," 40. TYPE OF CANCER-DIRECTED SURGERY: ",CDS1 W:CDS2'="" !,?38,CDS2
"RTN","ONCP2P4",56,0)
SM S SM=ONC(165.5,ONCONUM,59)
"RTN","ONCP2P4",57,0)
 S (SM1,SM2)="",LOS=$L(SM) I LOS<42 S SM1=SM G SM1
"RTN","ONCP2P4",58,0)
 S NOP=$L($E(SM,1,41)," "),SM1=$P(SM," ",1,NOP-1),SM2=$P(SM," ",NOP,999)
"RTN","ONCP2P4",59,0)
SM1 W !," 41. SURGICAL MARGINS...............: ",SM1 W:SM2'="" !,?38,SM2
"RTN","ONCP2P4",60,0)
SLNS W !," 42. SCOPE OF LYMPH NODE SURGERY....: ",ONC(165.5,ONCONUM,138)
"RTN","ONCP2P4",61,0)
 I ($E(CDS,1,2)="00")!($E(CDS,1,2)=99) W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT W @IOF D HEAD^ONCP2P0 G TLNS
"RTN","ONCP2P4",62,0)
 W !
"RTN","ONCP2P4",63,0)
TLNS W !," 43. TYPE OF LYMPH NODE SURGERY:",!
"RTN","ONCP2P4",64,0)
 I $E(CDS,1,2)="00" D  G:$D(DIRUT) EXIT G SORS
"RTN","ONCP2P4",65,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,31)=8
"RTN","ONCP2P4",66,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,32)=8
"RTN","ONCP2P4",67,0)
 .W !,"     LAPAROSCOPIC...................: NA"
"RTN","ONCP2P4",68,0)
 .W !,"     OPEN...........................: NA"
"RTN","ONCP2P4",69,0)
 I $E(CDS,1,2)=99 D  G:$D(DIRUT) EXIT G SORS
"RTN","ONCP2P4",70,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,31)=9
"RTN","ONCP2P4",71,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,32)=9
"RTN","ONCP2P4",72,0)
 .W !,"     LAPAROSCOPIC...................: Unknown"
"RTN","ONCP2P4",73,0)
 .W !,"     OPEN...........................: Unknown"
"RTN","ONCP2P4",74,0)
 S DR="687     LAPAROSCOPIC..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",75,0)
 S DR="688     OPEN..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",76,0)
SORS S SORS=ONC(165.5,ONCONUM,139)
"RTN","ONCP2P4",77,0)
 S (SORS1,SORS2)="",LOS=$L(SORS) I LOS<42 S SORS1=SORS G SORS1
"RTN","ONCP2P4",78,0)
 S NOP=$L($E(SORS,1,41)," ")
"RTN","ONCP2P4",79,0)
 S SORS1=$P(SORS," ",1,NOP-1),SORS2=$P(SORS," ",NOP,999)
"RTN","ONCP2P4",80,0)
SORS1 W !!," 44. SURGERY OF OTHER REGIONAL SITE(S), DISTANT SITE(S),"
"RTN","ONCP2P4",81,0)
 W !,"     OR DISTANT LYMPH NODE(S).......: ",SORS1 W:SORS2'="" !,?38,SORS2
"RTN","ONCP2P4",82,0)
NLNR W !," 45. NUMBER OF LYMPH NODES REMOVED..: ",ONC(165.5,ONCONUM,140)
"RTN","ONCP2P4",83,0)
RR W !," 46. RECONSTRUCTION/RESTORATION.....: ",ONC(165.5,ONCONUM,23)
"RTN","ONCP2P4",84,0)
CFSFCT W !!," 47. COMPLICATIONS FOLLOWING SURGICAL FIRST COURSE OF TREATMENT:",!
"RTN","ONCP2P4",85,0)
 I $E(CDS,1,2)="00" D  G:$D(DIRUT) EXIT G PRTC
"RTN","ONCP2P4",86,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,33)=8
"RTN","ONCP2P4",87,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,34)=8
"RTN","ONCP2P4",88,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,35)=8
"RTN","ONCP2P4",89,0)
 .S $P(^ONCO(165.5,D0,"THY1"),U,42)=8
"RTN","ONCP2P4",90,0)
 .W !,"     PERMANENT RECTAL INJURY........: NA, no surgery"
"RTN","ONCP2P4",91,0)
 .W !,"     THROMBOEMBOLISM................: NA, no surgery"
"RTN","ONCP2P4",92,0)
 .W !,"     URETHRAL STRICTURE.............: NA, no surgery"
"RTN","ONCP2P4",93,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4",94,0)
 .W !!," 48. POSTOPERATIVE DEATH W/I 30 DAYS: NA, no surgery"
"RTN","ONCP2P4",95,0)
 I $E(CDS,1,2)=99 D  G:$D(DIRUT) EXIT G PRTC
"RTN","ONCP2P4",96,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,33)=9
"RTN","ONCP2P4",97,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,34)=9
"RTN","ONCP2P4",98,0)
 .S $P(^ONCO(165.5,D0,"PRO2"),U,35)=9
"RTN","ONCP2P4",99,0)
 .S $P(^ONCO(165.5,D0,"THY1"),U,42)=9
"RTN","ONCP2P4",100,0)
 .W !,"     PERMANENT RECTAL INJURY........: Unknown"
"RTN","ONCP2P4",101,0)
 .W !,"     THROMBOEMBOLISM................: Unknown"
"RTN","ONCP2P4",102,0)
 .W !,"     URETHRAL STRICTURE.............: Unknown"
"RTN","ONCP2P4",103,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4",104,0)
 .W !!," 48. POSTOPERATIVE DEATH W/I 30 DAYS: Unknown"
"RTN","ONCP2P4",105,0)
 S DR="689     PERMANENT RECTAL INJURY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",106,0)
 S DR="690     THROMBOEMBOLISM................" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",107,0)
 S DR="691     URETHRAL STRICTURE............." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",108,0)
PDWTD S DR="441 48. POSTOPERATIVE DEATH W/I 3O DAYS" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4",109,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCP2P4",110,0)
 G RT^ONCP2P4A
"RTN","ONCP2P4",111,0)
JUMP ;Jump to prompts
"RTN","ONCP2P4",112,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P4",113,0)
 I X["?" D  G JUMP
"RTN","ONCP2P4",114,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCP2P4",115,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P4",116,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCP2P4",117,0)
 S X=TABLE(X)
"RTN","ONCP2P4",118,0)
 G @X
"RTN","ONCP2P4",119,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P4",120,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCP2P4",121,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT,SA,SA1,SA2
"RTN","ONCP2P4",122,0)
 K SM,SM1,SM2,SOORS,SOORS1,SOORS2
"RTN","ONCP2P4",123,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCP2P4",124,0)
 Q
"RTN","ONCP2P4A")
0^276^B62450775
"RTN","ONCP2P4A",1,0)
ONCP2P4A ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - Table IV (continued) ;03/07/00
"RTN","ONCP2P4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P4A",3,0)
RT W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4A",4,0)
 W !," RADIATION THERAPY"
"RTN","ONCP2P4A",5,0)
 W !," -----------------"
"RTN","ONCP2P4A",6,0)
DRS W !," 49. DATE RADIATION STARTED.........: ",ONC(165.5,ONCONUM,51)
"RTN","ONCP2P4A",7,0)
RT1 W !," 50. RADIATION THERAPY..............: ",ONC(165.5,ONCONUM,51.2)
"RTN","ONCP2P4A",8,0)
 I RAD=0 D  G RADWRT
"RTN","ONCP2P4A",9,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,36)=8
"RTN","ONCP2P4A",10,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,29)=0
"RTN","ONCP2P4A",11,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,28)=0
"RTN","ONCP2P4A",12,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,31)=0
"RTN","ONCP2P4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,32)=0
"RTN","ONCP2P4A",14,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,30)=0
"RTN","ONCP2P4A",15,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,37)=8
"RTN","ONCP2P4A",16,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,34)=8
"RTN","ONCP2P4A",17,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,35)=8
"RTN","ONCP2P4A",18,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,36)=8
"RTN","ONCP2P4A",19,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,37)=8
"RTN","ONCP2P4A",20,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,38)=8
"RTN","ONCP2P4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,38)=8
"RTN","ONCP2P4A",22,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,39)=8
"RTN","ONCP2P4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,40)=8
"RTN","ONCP2P4A",24,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,41)=8
"RTN","ONCP2P4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,39)=8
"RTN","ONCP2P4A",26,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,40)=8
"RTN","ONCP2P4A",27,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,41)=8
"RTN","ONCP2P4A",28,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,42)=8
"RTN","ONCP2P4A",29,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,48)=8
"RTN","ONCP2P4A",30,0)
 I RAD=9 D  G RADWRT
"RTN","ONCP2P4A",31,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,36)=9
"RTN","ONCP2P4A",32,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,29)=9
"RTN","ONCP2P4A",33,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,28)=9
"RTN","ONCP2P4A",34,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,31)=9
"RTN","ONCP2P4A",35,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,32)=9
"RTN","ONCP2P4A",36,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,30)=9
"RTN","ONCP2P4A",37,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,37)=9
"RTN","ONCP2P4A",38,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,34)=9
"RTN","ONCP2P4A",39,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,35)=9
"RTN","ONCP2P4A",40,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,36)=9
"RTN","ONCP2P4A",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,37)=9
"RTN","ONCP2P4A",42,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,38)=9
"RTN","ONCP2P4A",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,38)=9
"RTN","ONCP2P4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,39)=8
"RTN","ONCP2P4A",45,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,40)=8
"RTN","ONCP2P4A",46,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,41)=8
"RTN","ONCP2P4A",47,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,39)=9
"RTN","ONCP2P4A",48,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,40)=9
"RTN","ONCP2P4A",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,41)=9
"RTN","ONCP2P4A",50,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,42)=9
"RTN","ONCP2P4A",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,48)=9
"RTN","ONCP2P4A",52,0)
RADWRT I (RAD=0)!(RAD=9) D  G:$D(DIRUT) EXIT G HOT
"RTN","ONCP2P4A",53,0)
 .K DIQ S DIC="^ONCO(165.5,"
"RTN","ONCP2P4A",54,0)
 .S DR="692;628;627;630;631;629;693;636;634;635;633;637;694;638;639;640;695;696;697;698;699"
"RTN","ONCP2P4A",55,0)
 .S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCP2P4A",56,0)
 .W !," 51. RADIATION FACILITY.............: ",ONC(165.5,ONCONUM,692)
"RTN","ONCP2P4A",57,0)
 .W !!," 52. INTERSTITIAL RADIATION/BRACHYTHERAPY ADMINISTERED:",!
"RTN","ONCP2P4A",58,0)
 .W !,"     GOLD 198.......................: ",ONC(165.5,ONCONUM,628)
"RTN","ONCP2P4A",59,0)
 .W !,"     IODINE 125.....................: ",ONC(165.5,ONCONUM,627)
"RTN","ONCP2P4A",60,0)
 .W !,"     IRIDIUM 192....................: ",ONC(165.5,ONCONUM,630)
"RTN","ONCP2P4A",61,0)
 .W !,"     OTHER INTERSTITIAL, NOS........: ",ONC(165.5,ONCONUM,631)
"RTN","ONCP2P4A",62,0)
 .W !,"     PALLADIUM 103..................: ",ONC(165.5,ONCONUM,629)
"RTN","ONCP2P4A",63,0)
 .W !!," 53. ROUTE OF INTERSTITIAL RADIATION/"
"RTN","ONCP2P4A",64,0)
 .W !,"     BRACHYTHERAPY ADMINISTERED.....: ",ONC(165.5,ONCONUM,693)
"RTN","ONCP2P4A",65,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4A",66,0)
 .W !," 54. EXTERNAL RADIATION ADMINISTERED:",!
"RTN","ONCP2P4A",67,0)
 .W !,"     DISTANT METASTATIC SITES.......: ",ONC(165.5,ONCONUM,636)
"RTN","ONCP2P4A",68,0)
 .W !,"     PROSTATE & PELVIC NODES........: ",ONC(165.5,ONCONUM,634)
"RTN","ONCP2P4A",69,0)
 .W !,"     PROSTATE & PARA-AORTIC NODES...: ",ONC(165.5,ONCONUM,635)
"RTN","ONCP2P4A",70,0)
 .W !,"     PROSTATE REGION ONLY...........: ",ONC(165.5,ONCONUM,633)
"RTN","ONCP2P4A",71,0)
 .W !,"     OTHER EXTERNAL SITES, NOS......: ",ONC(165.5,ONCONUM,637)
"RTN","ONCP2P4A",72,0)
 .W !!," 55. TYPE OF EXTERNAL RADIATION"
"RTN","ONCP2P4A",73,0)
 .W !,"     ADMINISTRATION.................: ",ONC(165.5,ONCONUM,694)
"RTN","ONCP2P4A",74,0)
 .W !!," 56. TOTAL EXTERNAL RAD DOSE (cGy) INCLUDING BOOST:",!
"RTN","ONCP2P4A",75,0)
 .W !,"     PROSTATE.......................: ",ONC(165.5,ONCONUM,638)
"RTN","ONCP2P4A",76,0)
 .W !,"     PELVIC NODES...................: ",ONC(165.5,ONCONUM,639)
"RTN","ONCP2P4A",77,0)
 .W !,"     PARA-AORTIC NODES..............: ",ONC(165.5,ONCONUM,640)
"RTN","ONCP2P4A",78,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4A",79,0)
 .W !," 57. COMPLICATIONS FOLLOWING RADIATION FIRST COURSE OF TREATMENT:",!
"RTN","ONCP2P4A",80,0)
 .W !,"     ACUTE GASTROINTESTINAL.........: ",ONC(165.5,ONCONUM,695)
"RTN","ONCP2P4A",81,0)
 .W !,"     ACUTE GASTROURINARY............: ",ONC(165.5,ONCONUM,696)
"RTN","ONCP2P4A",82,0)
 .W !,"     ANORECTAL......................: ",ONC(165.5,ONCONUM,697)
"RTN","ONCP2P4A",83,0)
 .W !,"     CHRONIC REQUIRING SURGERY OR"
"RTN","ONCP2P4A",84,0)
 .W !,"     PROLONGED HOSPITALIZATION......: ",ONC(165.5,ONCONUM,698)
"RTN","ONCP2P4A",85,0)
 .W !,"     URETHRAL OR BLADDER............: ",ONC(165.5,ONCONUM,699)
"RTN","ONCP2P4A",86,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  D HEAD^ONCP2P0
"RTN","ONCP2P4A",87,0)
RF S DR="692 51. RADIATION FACILITY............." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",88,0)
IRBA W !!," 52. INTERSTITIAL RADIATION/BRACHYTHERAPY ADMINISTERED:",!
"RTN","ONCP2P4A",89,0)
 S DR="628     GOLD 198......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",90,0)
 S DR="627     IODINE 125....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",91,0)
 S DR="630     IRIDIUM 192...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",92,0)
 S DR="631     OTHER INTERSTITIAL, NOS........" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",93,0)
 S DR="629     PALLADIUM 103.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",94,0)
RIRBA W ! S DR="693 53. ROUTE OF INTERSTITIAL RADIATION/                                                BRACHYTHERAPY ADMINISTERED....." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",95,0)
ERA W !," 54. EXTERNAL RADIATION ADMINISTERED:",!
"RTN","ONCP2P4A",96,0)
 S DR="636     DISTANT METASTATIC SITES......." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",97,0)
 S DR="634     PROSTATE & PELVIC NODES........" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",98,0)
 S DR="635     PROSTATE & PARA-AORTIC NODES..." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",99,0)
 S DR="633     PROSTATE REGION ONLY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",100,0)
 S DR="637     OTHER EXTERNAL SITES, NOS......" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",101,0)
TERA W ! S DR="694 55. TYPE OF EXTERNAL RADIATION                                                      ADMINISTRATION................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",102,0)
TERDIB W !!," 56. TOTAL EXTERNAL RAD DOSE (cGy) INCLUDING BOOST:",!
"RTN","ONCP2P4A",103,0)
 S DR="638     PROSTATE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",104,0)
 S DR="639     PELVIC NODES..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",105,0)
 S DR="640     PARA-AORTIC NODES.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",106,0)
CFRFCT W !!," 57. COMPLICATIONS FOLLOWING RADIATION FIRST COURSE OF TREATMENT:",!
"RTN","ONCP2P4A",107,0)
 S DR="695     ACUTE GASTROINTESTINAL........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",108,0)
 S DR="696     ACUTE GASTROURINARY............" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",109,0)
 S DR="697     ANORECTAL......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",110,0)
 S DR="698     CHRONIC REQUIRING SURGERY OR                                                    PROLONGED HOSPITALIZATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",111,0)
 S DR="699     URETHRAL OR BLADDER............" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",112,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCP2P4A",113,0)
HOT W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4A",114,0)
 W !," HORMONE THERAPY"
"RTN","ONCP2P4A",115,0)
 W !," ---------------"
"RTN","ONCP2P4A",116,0)
DO I HOR=0 D  G DEHTB
"RTN","ONCP2P4A",117,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO2"),U,49)="0000000"
"RTN","ONCP2P4A",118,0)
 .W !," 58. DATE OF ORCHIECTOMY............: 00/00/0000"
"RTN","ONCP2P4A",119,0)
 S DR="699.1 58. DATE OF ORCHIECTOMY............" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",120,0)
DEHTB W !," 59. DATE EXOGENOUS HT BEGAN........: ",ONC(165.5,ONCONUM,54)
"RTN","ONCP2P4A",121,0)
HT W !," 60. HORMONE THERAPY................: ",ONC(165.5,ONCONUM,54.2)
"RTN","ONCP2P4A",122,0)
 I HOR=0 D  G HORWRT
"RTN","ONCP2P4A",123,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,45)=0
"RTN","ONCP2P4A",124,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,44)=0
"RTN","ONCP2P4A",125,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,47)=0
"RTN","ONCP2P4A",126,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,46)=0
"RTN","ONCP2P4A",127,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,49)=0
"RTN","ONCP2P4A",128,0)
 I HOR=9 D  G HORWRT
"RTN","ONCP2P4A",129,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,45)=9
"RTN","ONCP2P4A",130,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,44)=9
"RTN","ONCP2P4A",131,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,47)=9
"RTN","ONCP2P4A",132,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,46)=9
"RTN","ONCP2P4A",133,0)
 .S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,49)=9
"RTN","ONCP2P4A",134,0)
HORWRT I (HOR=0)!(HOR=9) D  G:$D(DIRUT) EXIT G CT
"RTN","ONCP2P4A",135,0)
 .K DIQ S DIC="^ONCO(165.5,",DR="644;643;646;645;648"
"RTN","ONCP2P4A",136,0)
 .S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCP2P4A",137,0)
 .W !!," 61. EXOGENOUS HORMONE AGENTS ADMINISTERED:",!
"RTN","ONCP2P4A",138,0)
 .W !,"     ANTIANDROGENS..................: ",ONC(165.5,ONCONUM,644)
"RTN","ONCP2P4A",139,0)
 .W !,"     ESTROGENS......................: ",ONC(165.5,ONCONUM,643)
"RTN","ONCP2P4A",140,0)
 .W !,"     LUTEINIZING HORMONES...........: ",ONC(165.5,ONCONUM,646)
"RTN","ONCP2P4A",141,0)
 .W !,"     PROGESTATIONAL AGENTS..........: ",ONC(165.5,ONCONUM,645)
"RTN","ONCP2P4A",142,0)
 .W !,"     OTHER..........................: ",ONC(165.5,ONCONUM,648)
"RTN","ONCP2P4A",143,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:$D(DIRUT)  D HEAD^ONCP2P0
"RTN","ONCP2P4A",144,0)
EHAA W !!," 61. EXOGENOUS HORMONE AGENTS ADMINISTERED:",!
"RTN","ONCP2P4A",145,0)
 S DR="644     ANTIANDROGENS.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",146,0)
 S DR="643     ESTROGENS......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",147,0)
 S DR="646     LUTEINIZING HORMONES..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",148,0)
 S DR="645     PROGESTATIONAL AGENTS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",149,0)
 S DR="648     OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P4A",150,0)
 W ! K DIR S DIR(0)="E" D ^DIR G:$D(DIRUT) EXIT
"RTN","ONCP2P4A",151,0)
CT W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P4A",152,0)
 W !," CHEMOTHERAPY"
"RTN","ONCP2P4A",153,0)
 W !," ------------"
"RTN","ONCP2P4A",154,0)
DCS W !," 62. DATE CHEMOTHERAPY STARTED......: ",ONC(165.5,ONCONUM,53)
"RTN","ONCP2P4A",155,0)
C W !," 63. CHEMOTHERAPY...................: ",ONC(165.5,ONCONUM,53.2)
"RTN","ONCP2P4A",156,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P4A",157,0)
 G EXIT
"RTN","ONCP2P4A",158,0)
JUMP ;Jump to prompts
"RTN","ONCP2P4A",159,0)
 S XX="" R !!," GO TO ITEM: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P4A",160,0)
 I X["?" D  G JUMP
"RTN","ONCP2P4A",161,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCP2P4A",162,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P4A",163,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !," ",HTABLE(I)
"RTN","ONCP2P4A",164,0)
 S X=TABLE(X)
"RTN","ONCP2P4A",165,0)
 G @X
"RTN","ONCP2P4A",166,0)
EXIT S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P4A",167,0)
 K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCP2P4A",168,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT,SA,SA1,SA2
"RTN","ONCP2P4A",169,0)
 K SM,SM1,SM2,SOORS,SOORS1,SOORS2,HOR,RAD
"RTN","ONCP2P4A",170,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCP2P4A",171,0)
 Q
"RTN","ONCP2P5")
0^277^B2551370
"RTN","ONCP2P5",1,0)
ONCP2P5 ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - Table V ;6/1/98
"RTN","ONCP2P5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P5",3,0)
 K TABLE,HTABLE
"RTN","ONCP2P5",4,0)
 S TABLE("64. DATE OF FIRST RECURRENCE")="DFR"
"RTN","ONCP2P5",5,0)
 S TABLE("65. TYPE OF FIRST RECURRENCE")="TFR"
"RTN","ONCP2P5",6,0)
 S HTABLE(1)="64. TYPE OF FIRST RECURRENCE"
"RTN","ONCP2P5",7,0)
 S HTABLE(2)="65. DATE OF FIRST RECURRENCE"
"RTN","ONCP2P5",8,0)
 S CHOICES=2
"RTN","ONCP2P5",9,0)
 W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P5",10,0)
 W !," TABLE V - FIRST RECURRENCE"
"RTN","ONCP2P5",11,0)
 W !," --------------------------"
"RTN","ONCP2P5",12,0)
 S DIC="^ONCO(165.5,",DR="70",DA=ONCONUM,DIQ="ONCO" D EN^DIQ1
"RTN","ONCP2P5",13,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P5",14,0)
DFR S DR="70 64. DATE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P5",15,0)
TFR S DR="71 65. TYPE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P5",16,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P5",17,0)
 G EXIT
"RTN","ONCP2P5",18,0)
JUMP ;Jump to prompts
"RTN","ONCP2P5",19,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P5",20,0)
 I X["?" D  G JUMP
"RTN","ONCP2P5",21,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P5",22,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P5",23,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P5",24,0)
 S X=TABLE(X)
"RTN","ONCP2P5",25,0)
 G @X
"RTN","ONCP2P5",26,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCP2P5",27,0)
 K PIECE
"RTN","ONCP2P5",28,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCP2P5",29,0)
 Q
"RTN","ONCP2P6")
0^278^B5614385
"RTN","ONCP2P6",1,0)
ONCP2P6 ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - Table VI ;6/1/98
"RTN","ONCP2P6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P6",3,0)
 K TABLE,HTABLE
"RTN","ONCP2P6",4,0)
 S TABLE("66. DATE OF LAST CONTACT OR DEATH")="DLCOD"
"RTN","ONCP2P6",5,0)
 S TABLE("67. VITAL STATUS")="VS"
"RTN","ONCP2P6",6,0)
 S TABLE("68. CANCER STATUS")="CS"
"RTN","ONCP2P6",7,0)
 S TABLE("69. COMPLETED BY")="CB"
"RTN","ONCP2P6",8,0)
 S TABLE("70. CLINICAL REVIEW BY CA COMMITTEE")="CRBCC"
"RTN","ONCP2P6",9,0)
 S HTABLE(1)="66. DATE OF LAST CONTACT OR DEATH"
"RTN","ONCP2P6",10,0)
 S HTABLE(2)="67. VITAL STATUS"
"RTN","ONCP2P6",11,0)
 S HTABLE(3)="68. CANCER STATUS"
"RTN","ONCP2P6",12,0)
 S HTABLE(4)="69. COMPLETED BY"
"RTN","ONCP2P6",13,0)
 S HTABLE(5)="70. CLINICAL REVIEW BY CA COMMITTEE"
"RTN","ONCP2P6",14,0)
 S CHOICES=5
"RTN","ONCP2P6",15,0)
 W @IOF D HEAD^ONCP2P0
"RTN","ONCP2P6",16,0)
 W !," TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCP2P6",17,0)
 W !," ---------------------------------"
"RTN","ONCP2P6",18,0)
DLCOD S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCP2P6",19,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCP2P6",20,0)
 W !," 66. DATE OF LAST CONTACT OR DEATH..: ",DLC
"RTN","ONCP2P6",21,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCP2P6",22,0)
 S DR="15 67. VITAL STATUS..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P6",23,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCP2P6",24,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCP2P6",25,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCP2P6",26,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCP2P6",27,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCP2P6",28,0)
 .S:CSPNT'="" CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCP2P6",29,0)
 W !," 68. CANCER STATUS..................: ",CS
"RTN","ONCP2P6",30,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P6",31,0)
 S DR="81 69. COMPLETED BY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P6",32,0)
CRBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCP2P6",33,0)
 S DR="82 70. CLINICAL REVIEW BY CA COMMITTEE" D ^DIE G:$D(Y) JUMP
"RTN","ONCP2P6",34,0)
 W ! K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCP2P6",35,0)
 G EXIT
"RTN","ONCP2P6",36,0)
JUMP ;Jump to prompts
"RTN","ONCP2P6",37,0)
 S XX="" R !!," GO TO ITEM NUMBER: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCP2P6",38,0)
 I X["?" D  G JUMP
"RTN","ONCP2P6",39,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P6",40,0)
 I '$D(TABLE(X)) S:X?1.2N X=X_"." S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCP2P6",41,0)
 .W !," CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCP2P6",42,0)
 S X=TABLE(X)
"RTN","ONCP2P6",43,0)
 G @X
"RTN","ONCP2P6",44,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCP2P6",45,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCP2P6",46,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCP2P6",47,0)
 Q
"RTN","ONCP2P8")
0^279^B37983685
"RTN","ONCP2P8",1,0)
ONCP2P8 ;Hines OIFO/GWB - 1998 Prostate Cancer Study ;05/30/00
"RTN","ONCP2P8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P8",3,0)
 ;Print
"RTN","ONCP2P8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCP2P8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCP2P8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCP2P8",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-4),IE=ONCONUM
"RTN","ONCP2P8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=$P(Y,":",1,2)
"RTN","ONCP2P8",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCP2P8",10,0)
 S DR=".04;.05;.06;.12;1;3;9;18;19;20;23;24;26;29;32;33;37.1;37.2;37.3;38;50;51;51.2;53;53.2;54;54.2;58.1;58.2;58.3;59;70;71;74;81;82;85;86;87;88;89;138:142;145;146;307;441;623:699;699.1"
"RTN","ONCP2P8",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCP2P8",12,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCP2P8",13,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCP2P8",14,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCP2P8",15,0)
 D HEAD^ONCP2P0
"RTN","ONCP2P8",16,0)
 W !," 1. INSTITUTION ID NUMBER............: H6",$$IIN^ONCFUNC D P Q:EX=U
"RTN","ONCP2P8",17,0)
 W !!?4,TABLE,!?4,"-----------------------------"
"RTN","ONCP2P8",18,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCP2P8",19,0)
 W !," 2. ACCESSION NUMBER.................: ",ONC(165.5,IE,.05) D P Q:EX=U
"RTN","ONCP2P8",20,0)
 W !," 3. SEQUENCE NUMBER..................: ",ONC(165.5,IE,.06) D P Q:EX=U
"RTN","ONCP2P8",21,0)
 W !," 4. POSTAL CODE AT DIAGNOSIS.........: ",ONC(165.5,IE,9) D P Q:EX=U
"RTN","ONCP2P8",22,0)
 W !," 5. DATE OF BIRTH....................: ",DOB D P Q:EX=U
"RTN","ONCP2P8",23,0)
 W !," 6. RACE.............................: ",ONC(165.5,IE,.12) D P Q:EX=U
"RTN","ONCP2P8",24,0)
 W !," 7. SPANISH ORIGIN...................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCP2P8",25,0)
 W !," 8. PRIMARY PAYER AT DIAGNOSIS.......: ",ONC(165.5,IE,18) D P Q:EX=U
"RTN","ONCP2P8",26,0)
 W !," 9. FAMILY HISTORY OF PROSTATE CANCER: ",ONC(165.5,IE,657)
"RTN","ONCP2P8",27,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 G II
"RTN","ONCP2P8",28,0)
 D P Q:EX=U
"RTN","ONCP2P8",29,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCP2P8",30,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCP2P0
"RTN","ONCP2P8",31,0)
 W !?4,TABLE,!?4,"----------------------------" D P Q:EX=U
"RTN","ONCP2P8",32,0)
 W !,"10. CLASS OF CASE....................: ",ONC(165.5,IE,.04) D P Q:EX=U
"RTN","ONCP2P8",33,0)
 W !!,"11. SYMPTOMS PRESENT AT INITIAL DIAGNOSIS:" D P Q:EX=U
"RTN","ONCP2P8",34,0)
 W !,"     HEMATURIA.......................: ",ONC(165.5,IE,658) D P Q:EX=U
"RTN","ONCP2P8",35,0)
 W !,"     LOWER BACK PAIN.................: ",ONC(165.5,IE,659) D P Q:EX=U
"RTN","ONCP2P8",36,0)
 W !,"     TROUBLE URINATING...............: ",ONC(165.5,IE,660) D P Q:EX=U
"RTN","ONCP2P8",37,0)
 K LINE S $P(LINE,"-",40)="-"
"RTN","ONCP2P8",38,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G IMD
"RTN","ONCP2P8",39,0)
 E  W ! D P Q:EX=U
"RTN","ONCP2P8",40,0)
IMD W !,"12. INITIAL METHODS OF DIAGNOSIS:" D P Q:EX=U
"RTN","ONCP2P8",41,0)
 W !,"     CLINICAL DX W BONE LESION.......: ",ONC(165.5,IE,661) D P Q:EX=U
"RTN","ONCP2P8",42,0)
 W !,"     CLINICAL DX BY RECTAL EXAM......: ",ONC(165.5,IE,662) D P Q:EX=U
"RTN","ONCP2P8",43,0)
 W !,"     CYTOLOGY........................: ",ONC(165.5,IE,663) D P Q:EX=U
"RTN","ONCP2P8",44,0)
 W !,"     DIGITAL TRANSRECTAL BIOPSY......: ",ONC(165.5,IE,664) D P Q:EX=U
"RTN","ONCP2P8",45,0)
 W !,"     INCIDENTAL FINDING IN TURP FOR                                                  BENIGN DISEASE..................: ",ONC(165.5,IE,665) D P Q:EX=U
"RTN","ONCP2P8",46,0)
 W !,"     NEEDLE BIOPSY, NOS..............: ",ONC(165.5,IE,666) D P Q:EX=U
"RTN","ONCP2P8",47,0)
 W !,"     PERINEAL BIOPSY.................: ",ONC(165.5,IE,667) D P Q:EX=U
"RTN","ONCP2P8",48,0)
 W !,"     PSA.............................: ",ONC(165.5,IE,668) D P Q:EX=U
"RTN","ONCP2P8",49,0)
 W !,"     TRUS GUIDED BIOPSY..............: ",ONC(165.5,IE,669) D P Q:EX=U
"RTN","ONCP2P8",50,0)
 W !,"     TURP, NOS.......................: ",ONC(165.5,IE,670) D P Q:EX=U
"RTN","ONCP2P8",51,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G DE
"RTN","ONCP2P8",52,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8",53,0)
DE W !,"13. DIAGNOSTIC EVALUATION:" D P Q:EX=U
"RTN","ONCP2P8",54,0)
 W !,"     BONE MARROW ASPIRATION..........: ",ONC(165.5,IE,671) D P Q:EX=U
"RTN","ONCP2P8",55,0)
 W !,"     BONE SCAN.......................: ",ONC(165.5,IE,672) D P Q:EX=U
"RTN","ONCP2P8",56,0)
 W !,"     BONE X-RAY......................: ",ONC(165.5,IE,673) D P Q:EX=U
"RTN","ONCP2P8",57,0)
 W !,"     CHEST X-RAY.....................: ",ONC(165.5,IE,674) D P Q:EX=U
"RTN","ONCP2P8",58,0)
 W !,"     CT SCAN OF ABDOMEN..............: ",ONC(165.5,IE,675) D P Q:EX=U
"RTN","ONCP2P8",59,0)
 W !,"     CT SCAN OF PELVIS...............: ",ONC(165.5,IE,676) D P Q:EX=U
"RTN","ONCP2P8",60,0)
 W !,"     IVP.............................: ",ONC(165.5,IE,677) D P Q:EX=U
"RTN","ONCP2P8",61,0)
 W !,"     MRI.............................: ",ONC(165.5,IE,678) D P Q:EX=U
"RTN","ONCP2P8",62,0)
 W !,"     PELVIC LYMPH NODE DISSECTION....: ",ONC(165.5,IE,679) D P Q:EX=U
"RTN","ONCP2P8",63,0)
 W !,"     PCR.............................: ",ONC(165.5,IE,680) D P Q:EX=U
"RTN","ONCP2P8",64,0)
 W !,"     PAP.............................: ",ONC(165.5,IE,681) D P Q:EX=U
"RTN","ONCP2P8",65,0)
 W !,"     PSA.............................: ",ONC(165.5,IE,682) D P Q:EX=U
"RTN","ONCP2P8",66,0)
 W !,"     ULTRASOUND OF ABDOMEN...........: ",ONC(165.5,IE,683)
"RTN","ONCP2P8",67,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G PSA
"RTN","ONCP2P8",68,0)
 E  W ! D P Q:EX=U
"RTN","ONCP2P8",69,0)
PSA W !,"14. RESULTS OF MOST RECENT PRE-"
"RTN","ONCP2P8",70,0)
 W !,"    TREATMENT PSA TEST...............: ",ONC(165.5,IE,684) D P Q:EX=U
"RTN","ONCP2P8",71,0)
 W !,"15. DATE OF INITIAL DIAGNOSIS........: ",ONC(165.5,IE,3) D P Q:EX=U
"RTN","ONCP2P8",72,0)
 W !,"16. PRIMARY SITE (ICD-O-2)...........: ",TOPCOD," ",ONC(165.5,IE,20)
"RTN","ONCP2P8",73,0)
 W !,"17. HISTOLOGY (ICD-O-2)..............: ",$E(HIST,1,4) D P Q:EX=U
"RTN","ONCP2P8",74,0)
 W !,"18. BEHAVIOR CODE (ICD-O-2)..........: ",$E(HIST,5) D P Q:EX=U
"RTN","ONCP2P8",75,0)
 W !,"19. GRADE............................: ",ONC(165.5,IE,24) D P Q:EX=U
"RTN","ONCP2P8",76,0)
 W !,"20. BIOPSY PROCEDURE.................: ",ONC(165.5,IE,141)
"RTN","ONCP2P8",77,0)
 W !,"21. GUIDANCE OF BIOPSY TO PRIMARY....: ",ONC(165.5,IE,142)
"RTN","ONCP2P8",78,0)
 W !,"22. BIOPSY APPROACH FOR PRIMARY......: ",ONC(165.5,IE,145)
"RTN","ONCP2P8",79,0)
 W !,"23. BIOPSY OF OTHER THAN PRIMARY.....: ",ONC(165.5,IE,146)
"RTN","ONCP2P8",80,0)
 W !,"24. DIAGNOSTIC CONFIRMATION..........: ",ONC(165.5,IE,26)
"RTN","ONCP2P8",81,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G GS
"RTN","ONCP2P8",82,0)
 E  W ! D P Q:EX=U
"RTN","ONCP2P8",83,0)
GS W !,"25. GLEASON'S SCORE FOR BIOPSY, LOCAL RESECTION, OR SIMPLE PROSTATECTOMY:" D P Q:EX=U
"RTN","ONCP2P8",84,0)
 W !,"     PREDOMINANT (PRIMARY) PATTERN...: ",ONC(165.5,IE,623.1) D P Q:EX=U
"RTN","ONCP2P8",85,0)
 W !,"     LESSER (SECONDARY) PATTERN......: ",ONC(165.5,IE,623.2) D P Q:EX=U
"RTN","ONCP2P8",86,0)
 W !,"     GLEASON SCORE...................: ",ONC(165.5,IE,623) D P Q:EX=U
"RTN","ONCP2P8",87,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8",88,0)
 W !,"26. GLEASON'S SCORE FOR RADICAL PROSTATECTOMY:" D P Q:EX=U
"RTN","ONCP2P8",89,0)
 W !,"     PREDOMINANT (PRIMARY) PATTERN...: ",ONC(165.5,IE,623.4) D P Q:EX=U
"RTN","ONCP2P8",90,0)
 W !,"     LESSER (SECONDARY) PATTERN......: ",ONC(165.5,IE,623.5) D P Q:EX=U
"RTN","ONCP2P8",91,0)
 W !,"     GLEASON SCORE...................: ",ONC(165.5,IE,623.3) D P Q:EX=U
"RTN","ONCP2P8",92,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 G III
"RTN","ONCP2P8",93,0)
 D P Q:EX=U
"RTN","ONCP2P8",94,0)
III D ^ONCP2P8A
"RTN","ONCP2P8",95,0)
KILL ;Kill Variables and Exit
"RTN","ONCP2P8",96,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS,HIST
"RTN","ONCP2P8",97,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCP2P8",98,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y,OSP,IIN
"RTN","ONCP2P8",99,0)
 Q
"RTN","ONCP2P8",100,0)
P ;Print
"RTN","ONCP2P8",101,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCP2P8",102,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCP2P8",103,0)
 .D HEAD^ONCP2P0 Q
"RTN","ONCP2P8",104,0)
 Q
"RTN","ONCP2P8",105,0)
TASK ;Queue a task
"RTN","ONCP2P8",106,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCP2P8",107,0)
 S ZTRTN="PRT^ONCP2P8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCP2P8",108,0)
 S ZTDESC="Print Colorectal Cancer PCE"
"RTN","ONCP2P8",109,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCP2P8",110,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCP2P8",111,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCP2P8",112,0)
HDR ;Header
"RTN","ONCP2P8",113,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCP2P8",114,0)
 W !," ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCP2P8",115,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCP2P8",116,0)
 W !," 1998 Patient Care Evaluation Study of Prostate Cancer"
"RTN","ONCP2P8",117,0)
 W ?62,ONDATE,!,DASHES
"RTN","ONCP2P8",118,0)
 Q
"RTN","ONCP2P8A")
0^280^B48523761
"RTN","ONCP2P8A",1,0)
ONCP2P8A ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - print ;6/1/98
"RTN","ONCP2P8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P8A",3,0)
III S TABLE="TABLE III - EXTENT AND STAGE OF DISEASE"
"RTN","ONCP2P8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCP2P0
"RTN","ONCP2P8A",5,0)
 W !?4,TABLE,!?4,"---------------------------------------" D P Q:EX=U
"RTN","ONCP2P8A",6,0)
 W !,"27. SIZE OF TUMOR (mm)...............: ",ONC(165.5,IE,29) D P Q:EX=U
"RTN","ONCP2P8A",7,0)
 W !,"28. REGIONAL NODES EXAMINED..........: ",ONC(165.5,IE,33) D P Q:EX=U
"RTN","ONCP2P8A",8,0)
 W !,"29. REGIONAL NODES POSITIVE..........: ",ONC(165.5,IE,32) D P Q:EX=U
"RTN","ONCP2P8A",9,0)
ACS W !!,"30. AJCC CLINICAL STAGE (cTNM):" D P Q:EX=U
"RTN","ONCP2P8A",10,0)
 W !,"     T-CODE..........................: ",ONC(165.5,IE,37.1) D P Q:EX=U
"RTN","ONCP2P8A",11,0)
 W !,"     N-CODE..........................: ",ONC(165.5,IE,37.2) D P Q:EX=U
"RTN","ONCP2P8A",12,0)
 W !,"     M-CODE..........................: ",ONC(165.5,IE,37.3) D P Q:EX=U
"RTN","ONCP2P8A",13,0)
 W !,"     AJCC STAGE......................: ",ONC(165.5,IE,38) D P Q:EX=U
"RTN","ONCP2P8A",14,0)
APS W !!,"31. AJCC PATHOLOGIC STAGE (pTNM):" D P Q:EX=U
"RTN","ONCP2P8A",15,0)
 W !,"     T-CODE..........................: ",ONC(165.5,IE,85) D P Q:EX=U
"RTN","ONCP2P8A",16,0)
 W !,"     N-CODE..........................: ",ONC(165.5,IE,86) D P Q:EX=U
"RTN","ONCP2P8A",17,0)
 W !,"     M-CODE..........................: ",ONC(165.5,IE,87)
"RTN","ONCP2P8A",18,0)
 W !,"     AJCC STAGE......................: ",ONC(165.5,IE,88)
"RTN","ONCP2P8A",19,0)
 K LINE S $P(LINE,"-",51)="-"
"RTN","ONCP2P8A",20,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G SB
"RTN","ONCP2P8A",21,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8A",22,0)
SB W !,"32. STAGED BY:" D P Q:EX=U
"RTN","ONCP2P8A",23,0)
 W !,"     CLINICAL STAGE..................: ",ONC(165.5,IE,19) D P Q:EX=U
"RTN","ONCP2P8A",24,0)
 W !,"     PATHOLOGIC STAGE................: ",ONC(165.5,IE,89) D P Q:EX=U
"RTN","ONCP2P8A",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 G IV
"RTN","ONCP2P8A",26,0)
 D P Q:EX=U
"RTN","ONCP2P8A",27,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCP2P8A",28,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCP2P0
"RTN","ONCP2P8A",29,0)
 K LINE S $P(LINE,"-",36)="-"
"RTN","ONCP2P8A",30,0)
 W !?4,TABLE,!?4,LINE D P Q:EX=U
"RTN","ONCP2P8A",31,0)
 K LINE S $P(LINE,"-",48)="-"
"RTN","ONCP2P8A",32,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCP2P8A",33,0)
 W !,"33. DATE OF FIRST COURSE TREATMENT...: ",DOFCT D P Q:EX=U
"RTN","ONCP2P8A",34,0)
 W !,"34. EXPECTED MGT/WATCHFUL WAITING....: ",ONC(165.5,IE,685) D P Q:EX=U
"RTN","ONCP2P8A",35,0)
 W !!?4,"SURGERY",!?4,"-------" D P Q:EX=U
"RTN","ONCP2P8A",36,0)
 W !?4,"NON CANCER-DIRECTED SURGERY",!?4,"---------------------------" D P Q:EX=U
"RTN","ONCP2P8A",37,0)
 S NCDS=ONC(165.5,IE,58.1)
"RTN","ONCP2P8A",38,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<43 S NCDS1=NCDS G CDS
"RTN","ONCP2P8A",39,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCP2P8A",40,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCP2P8A",41,0)
CDS S CDS=ONC(165.5,IE,58.2)
"RTN","ONCP2P8A",42,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<43 S CDS1=CDS G S
"RTN","ONCP2P8A",43,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCP2P8A",44,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCP2P8A",45,0)
S W !,"35. DATE OF NON CA-DIRECTED SURGERY..: ",ONC(165.5,IE,58.3) D P Q:EX=U
"RTN","ONCP2P8A",46,0)
 W !,"36. NON CANCER-DIRECTED SURGERY......: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCP2P8A",47,0)
 W !!?4,"CANCER-DIRECTED SURGERY",!?4,"-----------------------" D P Q:EX=U
"RTN","ONCP2P8A",48,0)
 W !,"37. DATE OF CANCER-DIRECTED SURGERY..: ",ONC(165.5,IE,50) D P Q:EX=U
"RTN","ONCP2P8A",49,0)
 W !,"38. LENGTH OF STAY AFTER SURGERY.....: ",ONC(165.5,IE,686) D P Q:EX=U
"RTN","ONCP2P8A",50,0)
 W !,"39. SURGICAL APPROACH................: ",ONC(165.5,IE,74) D P Q:EX=U
"RTN","ONCP2P8A",51,0)
 W !,"40. TYPE OF CANCER-DIRECTED SURGERY..: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCP2P8A",52,0)
 S SM=ONC(165.5,IE,59)
"RTN","ONCP2P8A",53,0)
 S (SM1,SM2)="",LOS=$L(SM) I LOS<43 S SM1=SM G SM
"RTN","ONCP2P8A",54,0)
 S NOP=$L($E(SM,1,41)," "),SM1=$P(SM," ",1,NOP-1),SM2=$P(SM," ",NOP,999)
"RTN","ONCP2P8A",55,0)
SM W !,"41. SURGICAL MARGINS.................: ",SM1 W:SM2'="" !,?39,SM2 D P Q:EX=U
"RTN","ONCP2P8A",56,0)
 W !,"42. SCOPE OF LYMPH NODE SURGERY......: ",ONC(165.5,IE,138) D P Q:EX=U
"RTN","ONCP2P8A",57,0)
 W !!,"43. TYPE OF LYMPH NODE SURGERY:" D P Q:EX=U
"RTN","ONCP2P8A",58,0)
 W !,"     LAPAROSCOPIC....................: ",ONC(165.5,IE,687) D P Q:EX=U
"RTN","ONCP2P8A",59,0)
 W !,"     OPEN............................: ",ONC(165.5,IE,688) D P Q:EX=U
"RTN","ONCP2P8A",60,0)
 S SORS=ONC(165.5,ONCONUM,139)
"RTN","ONCP2P8A",61,0)
 S (SORS1,SORS2)="",LOS=$L(SORS) I LOS<43 S SORS1=SORS G SORS
"RTN","ONCP2P8A",62,0)
 S NOP=$L($E(SORS,1,41)," ")
"RTN","ONCP2P8A",63,0)
 S SORS1=$P(SORS," ",1,NOP-1),SORS2=$P(SORS," ",NOP,999)
"RTN","ONCP2P8A",64,0)
SORS W !!,"44. SURGERY OF OTHER REGIONAL SITE(S), DISTANT SITE(S),"
"RTN","ONCP2P8A",65,0)
 W !,"    OR DISTANT LYMPH NODE(S).........: ",SORS1 W:SORS2'="" !,?39,SORS2 D P Q:EX=U
"RTN","ONCP2P8A",66,0)
 W !,"45. NUMBER OF LYMPH NODES REMOVED....: ",ONC(165.5,IE,140) D P Q:EX=U
"RTN","ONCP2P8A",67,0)
 W !,"46. RECONSTRUCTION/RESTORATION.......: ",ONC(165.5,IE,23) D P Q:EX=U
"RTN","ONCP2P8A",68,0)
 W !!,"47. COMPLICATIONS FOLLOWING SURGICAL FIRST COURSE OF TREATMENT:" D P Q:EX=U
"RTN","ONCP2P8A",69,0)
 W !,"     PERMANENT RECTAL INJURY.........: ",ONC(165.5,IE,689) D P Q:EX=U
"RTN","ONCP2P8A",70,0)
 W !,"     THROMBOEMBOLISM.................: ",ONC(165.5,IE,690) D P Q:EX=U
"RTN","ONCP2P8A",71,0)
 W !,"     URETHRAL STRICTURE..............: ",ONC(165.5,IE,691) D P Q:EX=U
"RTN","ONCP2P8A",72,0)
 W !!,"48. POSTOPERATIVE DEATH W/I 30 DAYS..: ",ONC(165.5,IE,441)
"RTN","ONCP2P8A",73,0)
R W !!?4,"RADIATION THERAPY",!?4,"-----------------" D P Q:EX=U
"RTN","ONCP2P8A",74,0)
 W !,"49. DATE RADIATION STARTED...........: ",ONC(165.5,IE,51) D P Q:EX=U
"RTN","ONCP2P8A",75,0)
 W !,"50. RADIATION THERAPY................: ",ONC(165.5,IE,51.2) D P Q:EX=U
"RTN","ONCP2P8A",76,0)
 W !,"51. RADIATION FACILITY...............: ",ONC(165.5,IE,692) D P Q:EX=U
"RTN","ONCP2P8A",77,0)
 W !!,"52. INTERSTITIAL RADIATION/BRACHYTHERAPY ADMINISTERED:" D P Q:EX=U
"RTN","ONCP2P8A",78,0)
 W !,"     GOLD 198........................: ",ONC(165.5,IE,628) D P Q:EX=U
"RTN","ONCP2P8A",79,0)
 W !,"     IODINE 125......................: ",ONC(165.5,IE,627) D P Q:EX=U
"RTN","ONCP2P8A",80,0)
 W !,"     IRIDIUM 192.....................: ",ONC(165.5,IE,630) D P Q:EX=U
"RTN","ONCP2P8A",81,0)
 W !,"     OTHER INTERSTITIAL, NOS.........: ",ONC(165.5,IE,631) D P Q:EX=U
"RTN","ONCP2P8A",82,0)
 W !,"     PALLADIUM 103...................: ",ONC(165.5,IE,629) D P Q:EX=U
"RTN","ONCP2P8A",83,0)
 W !!,"53. ROUTE OF INTERSTITIAL RADIATION/"
"RTN","ONCP2P8A",84,0)
 W !,"    BRACHYTHERAPY ADMINISTERED.......: ",ONC(165.5,IE,693) D P Q:EX=U
"RTN","ONCP2P8A",85,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G ERA
"RTN","ONCP2P8A",86,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8A",87,0)
ERA W !,"54. EXTERNAL RADIATION ADMINISTERED:"
"RTN","ONCP2P8A",88,0)
 W !,"     DISTANT METASTATIC SITES........: ",ONC(165.5,IE,636) D P Q:EX=U
"RTN","ONCP2P8A",89,0)
 W !,"     PROSTATE & PELVIC NODES.........: ",ONC(165.5,IE,634) D P Q:EX=U
"RTN","ONCP2P8A",90,0)
 W !,"     PROSTATE & PARA-AORTIC NODES....: ",ONC(165.5,IE,635) D P Q:EX=U
"RTN","ONCP2P8A",91,0)
 W !,"     PROSTATE REGION ONLY............: ",ONC(165.5,IE,633) D P Q:EX=U
"RTN","ONCP2P8A",92,0)
 W !,"     OTHER EXTERNAL SITES, NOS.......: ",ONC(165.5,IE,637) D P Q:EX=U
"RTN","ONCP2P8A",93,0)
 W !!,"55. TYPE OF EXTERNAL RADIATION"
"RTN","ONCP2P8A",94,0)
 W !,"    ADMINISTRATION...................: ",ONC(165.5,IE,694) D P Q:EX=U
"RTN","ONCP2P8A",95,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G TERDIB
"RTN","ONCP2P8A",96,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8A",97,0)
TERDIB W !,"56. TOTAL EXTERNAL RAD DOSE (cGy) INCLUDING BOOST:"
"RTN","ONCP2P8A",98,0)
 W !,"     PROSTATE........................: ",ONC(165.5,IE,638) D P Q:EX=U
"RTN","ONCP2P8A",99,0)
 W !,"     PELVIC NODES....................: ",ONC(165.5,IE,639) D P Q:EX=U
"RTN","ONCP2P8A",100,0)
 W !,"     PARA-AORTIC NODES...............: ",ONC(165.5,IE,640) D P Q:EX=U
"RTN","ONCP2P8A",101,0)
 W !!,"57. COMPLICATIONS FOLLOWING RADIATION FIRST COURSE OF TREATMENT:"
"RTN","ONCP2P8A",102,0)
 W !,"     ACUTE GASTROINTESTINAL..........: ",ONC(165.5,IE,695) D P Q:EX=U
"RTN","ONCP2P8A",103,0)
 W !,"     ACUTE GASTROURINARY.............: ",ONC(165.5,IE,696) D P Q:EX=U
"RTN","ONCP2P8A",104,0)
 W !,"     ANORECTAL.......................: ",ONC(165.5,IE,697) D P Q:EX=U
"RTN","ONCP2P8A",105,0)
 W !,"     CHRONIC REQUIRING SURGERY OR"
"RTN","ONCP2P8A",106,0)
 W !,"     PROLONGED HOSPITALIZATION.......: ",ONC(165.5,IE,698) D P Q:EX=U
"RTN","ONCP2P8A",107,0)
 W !,"     URETHRAL OR BLADDER.............: ",ONC(165.5,IE,699) D P Q:EX=U
"RTN","ONCP2P8A",108,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G H
"RTN","ONCP2P8A",109,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8A",110,0)
H W !,"    HORMONE THERAPY"
"RTN","ONCP2P8A",111,0)
 W !,"    ---------------"
"RTN","ONCP2P8A",112,0)
 W !,"58. DATE OF ORCHIECTOMY.............: ",ONC(165.5,IE,699.1) D P Q:EX=U
"RTN","ONCP2P8A",113,0)
 W !,"59. DATE EXOGENOUS HT BEGAN.........: ",ONC(165.5,IE,54) D P Q:EX=U
"RTN","ONCP2P8A",114,0)
 W !,"60. HORMONE THERAPY.................: ",ONC(165.5,IE,54.2) D P Q:EX=U
"RTN","ONCP2P8A",115,0)
 W !!,"61. EXOGENOUS HORMONE AGENTS ADMINISTERED:"
"RTN","ONCP2P8A",116,0)
 W !,"     ANTIANDROGENS...................: ",ONC(165.5,IE,644) D P Q:EX=U
"RTN","ONCP2P8A",117,0)
 W !,"     ESTROGENS.......................: ",ONC(165.5,IE,643) D P Q:EX=U
"RTN","ONCP2P8A",118,0)
 W !,"     LUTEINIZING HORMONES............: ",ONC(165.5,IE,646) D P Q:EX=U
"RTN","ONCP2P8A",119,0)
 W !,"     PROGESTATIONAL AGENTS...........: ",ONC(165.5,IE,645) D P Q:EX=U
"RTN","ONCP2P8A",120,0)
 W !,"     OTHER...........................: ",ONC(165.5,IE,648) D P Q:EX=U
"RTN","ONCP2P8A",121,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 W !?4,TABLE_" (continued)",!?4,LINE G C
"RTN","ONCP2P8A",122,0)
 W ! D P Q:EX=U
"RTN","ONCP2P8A",123,0)
C W !?4,"CHEMOTHERAPY",!?4,"------------" D P Q:EX=U
"RTN","ONCP2P8A",124,0)
 W !,"62. DATE CHEMOTHERAPY STARTED........: ",ONC(165.5,IE,53) D P Q:EX=U
"RTN","ONCP2P8A",125,0)
 W !,"63. CHEMOTHERAPY.....................: ",ONC(165.5,IE,53.2) D P Q:EX=U
"RTN","ONCP2P8A",126,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HEAD^ONCP2P0 G V
"RTN","ONCP2P8A",127,0)
 D P Q:EX=U
"RTN","ONCP2P8A",128,0)
V D ^ONCP2P8B
"RTN","ONCP2P8A",129,0)
KILL ;Kill Variables and Exit
"RTN","ONCP2P8A",130,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y
"RTN","ONCP2P8A",131,0)
 Q
"RTN","ONCP2P8A",132,0)
P ;Display Data
"RTN","ONCP2P8A",133,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCP2P8A",134,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCP2P8A",135,0)
 .D HEAD^ONCP2P0 Q
"RTN","ONCP2P8A",136,0)
 Q
"RTN","ONCP2P8B")
0^281^B3539945
"RTN","ONCP2P8B",1,0)
ONCP2P8B ;HINES CIOFO/GWB - 1998 Prostate Cancer Study - print ;6/1/98
"RTN","ONCP2P8B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCP2P8B",3,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCP2P8B",4,0)
 I IOST'?1"C".E W !
"RTN","ONCP2P8B",5,0)
 W !?4,TABLE,!?4,"--------------------------" D P Q:EX=U
"RTN","ONCP2P8B",6,0)
 W !,"64. DATE OF FIRST RECURRENCE.........: ",ONC(165.5,IE,70) D P Q:EX=U
"RTN","ONCP2P8B",7,0)
 W !,"65. TYPE OF FIRST RECURRENCE.........: ",ONC(165.5,IE,71) D P Q:EX=U
"RTN","ONCP2P8B",8,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCP2P8B",9,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HEAD^ONCP2P0
"RTN","ONCP2P8B",10,0)
 W !!?4,TABLE,!?4,"---------------------------------" D P Q:EX=U
"RTN","ONCP2P8B",11,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCP2P8B",12,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCP2P8B",13,0)
 W !,"66. DATE OF LAST CONTACT OR DEATH....: ",DLC
"RTN","ONCP2P8B",14,0)
 W !,"67. VITAL STATUS.....................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCP2P8B",15,0)
 S CS="" I $D(^ONCO(165.5,IE,"TS","AA")) D
"RTN","ONCP2P8B",16,0)
 .S CSDAT=$O(^ONCO(165.5,IE,"TS","AA",""))
"RTN","ONCP2P8B",17,0)
 .S CSI=$O(^ONCO(165.5,IE,"TS","AA",CSDAT,""))
"RTN","ONCP2P8B",18,0)
 .S CSPNT=$P(^ONCO(165.5,IE,"TS",CSI,0),U,2)
"RTN","ONCP2P8B",19,0)
 .S:CSPNT'="" CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCP2P8B",20,0)
 W !,"68. CANCER STATUS....................: ",CS
"RTN","ONCP2P8B",21,0)
 W !,"69. COMPLETED BY.....................: ",ONC(165.5,IE,81) D P Q:EX=U
"RTN","ONCP2P8B",22,0)
 W !,"70. REVIEWED BY CANCER COMMITTEE.....: ",ONC(165.5,IE,82) D P Q:EX=U
"RTN","ONCP2P8B",23,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCP2P8B",24,0)
KILL ;Kill Variables and Exit
"RTN","ONCP2P8B",25,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTI
"RTN","ONCP2P8B",26,0)
 Q
"RTN","ONCP2P8B",27,0)
P ;Display Data
"RTN","ONCP2P8B",28,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?4,TABLE_" (continued)",!?4,LINE
"RTN","ONCP2P8B",29,0)
 .I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCP2P8B",30,0)
 .D HEAD^ONCP2P0 Q
"RTN","ONCP2P8B",31,0)
 Q
"RTN","ONCP36")
1^417
"RTN","ONCP36A")
1^418
"RTN","ONCP36A1")
1^419
"RTN","ONCP36A2")
1^420
"RTN","ONCP36B")
1^421
"RTN","ONCP36B1")
1^422
"RTN","ONCP36C")
1^423
"RTN","ONCP36D")
1^424
"RTN","ONCP36E")
1^425
"RTN","ONCP36F")
1^426
"RTN","ONCPAT")
0^282^B79038942
"RTN","ONCPAT",1,0)
ONCPAT ;Hines OIFO/GWB - PATIENT IDENTIFICATION ;10/07/11
"RTN","ONCPAT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPAT",3,0)
 ;
"RTN","ONCPAT",4,0)
 W !
"RTN","ONCPAT",5,0)
 K DR
"RTN","ONCPAT",6,0)
 N DA
"RTN","ONCPAT",7,0)
 S DIE="^ONCO(160,",DA=ONCOD0,DR=""
"RTN","ONCPAT",8,0)
 S DR(1,160,1)="7    PLACE OF BIRTH............."
"RTN","ONCPAT",9,0)
 S DR(1,160,2)="8    RACE 1.....................//^S X=RACE"
"RTN","ONCPAT",10,0)
 S DR(1,160,3)="I X'=99 S Y=""@81"""
"RTN","ONCPAT",11,0)
 S DR(1,160,4)="8.1////99"
"RTN","ONCPAT",12,0)
 S DR(1,160,5)="8.2////99"
"RTN","ONCPAT",13,0)
 S DR(1,160,6)="8.3////99"
"RTN","ONCPAT",14,0)
 S DR(1,160,7)="8.4////99"
"RTN","ONCPAT",15,0)
 S DR(1,160,8)="W !,""    RACE 2.....................: Unknown"""
"RTN","ONCPAT",16,0)
 S DR(1,160,9)="W !,""    RACE 3.....................: Unknown"""
"RTN","ONCPAT",17,0)
 S DR(1,160,10)="W !,""    RACE 4.....................: Unknown"""
"RTN","ONCPAT",18,0)
 S DR(1,160,11)="W !,""    RACE 5.....................: Unknown"""
"RTN","ONCPAT",19,0)
 S DR(1,160,12)="S Y=9"
"RTN","ONCPAT",20,0)
 S DR(1,160,13)="@81"
"RTN","ONCPAT",21,0)
 S DR(1,160,14)="8.1    RACE 2.....................//NA"
"RTN","ONCPAT",22,0)
 S DR(1,160,15)="S Y=$S(X=88:""@8288"",X=99:""@8299"",X="""":""@8200"",1:""@82"")"
"RTN","ONCPAT",23,0)
 S DR(1,160,16)="@8288"
"RTN","ONCPAT",24,0)
 S DR(1,160,17)="8.2////88"
"RTN","ONCPAT",25,0)
 S DR(1,160,18)="8.3////88"
"RTN","ONCPAT",26,0)
 S DR(1,160,19)="8.4////88"
"RTN","ONCPAT",27,0)
 S DR(1,160,20)="W !,""    RACE 3.....................: NA"""
"RTN","ONCPAT",28,0)
 S DR(1,160,21)="W !,""    RACE 4.....................: NA"""
"RTN","ONCPAT",29,0)
 S DR(1,160,22)="W !,""    RACE 5.....................: NA"""
"RTN","ONCPAT",30,0)
 S DR(1,160,23)="S Y=9"
"RTN","ONCPAT",31,0)
 S DR(1,160,24)="@8299"
"RTN","ONCPAT",32,0)
 S DR(1,160,25)="8.2////99"
"RTN","ONCPAT",33,0)
 S DR(1,160,26)="8.3////99"
"RTN","ONCPAT",34,0)
 S DR(1,160,27)="8.4////99"
"RTN","ONCPAT",35,0)
 S DR(1,160,28)="W !,""    RACE 3.....................: Unknown"""
"RTN","ONCPAT",36,0)
 S DR(1,160,29)="W !,""    RACE 4.....................: Unknown"""
"RTN","ONCPAT",37,0)
 S DR(1,160,30)="W !,""    RACE 5.....................: Unknown"""
"RTN","ONCPAT",38,0)
 S DR(1,160,31)="S Y=9"
"RTN","ONCPAT",39,0)
 S DR(1,160,32)="@8200"
"RTN","ONCPAT",40,0)
 S DR(1,160,33)="8.2////@"
"RTN","ONCPAT",41,0)
 S DR(1,160,34)="8.3////@"
"RTN","ONCPAT",42,0)
 S DR(1,160,35)="8.4////@"
"RTN","ONCPAT",43,0)
 S DR(1,160,36)="W !,""    RACE 3.....................:"""
"RTN","ONCPAT",44,0)
 S DR(1,160,37)="W !,""    RACE 4.....................:"""
"RTN","ONCPAT",45,0)
 S DR(1,160,38)="W !,""    RACE 5.....................:"""
"RTN","ONCPAT",46,0)
 S DR(1,160,39)="S Y=9"
"RTN","ONCPAT",47,0)
 S DR(1,160,40)="@82"
"RTN","ONCPAT",48,0)
 S DR(1,160,41)="8.2    RACE 3.....................//NA"
"RTN","ONCPAT",49,0)
 S DR(1,160,42)="S Y=$S(X=88:""@8388"",X=99:""@8399"",X="""":""@8300"",1:""@83"")"
"RTN","ONCPAT",50,0)
 S DR(1,160,43)="@8388"
"RTN","ONCPAT",51,0)
 S DR(1,160,44)="8.3////88"
"RTN","ONCPAT",52,0)
 S DR(1,160,45)="8.4////88"
"RTN","ONCPAT",53,0)
 S DR(1,160,46)="W !,""    RACE 4.....................: NA"""
"RTN","ONCPAT",54,0)
 S DR(1,160,47)="W !,""    RACE 5.....................: NA"""
"RTN","ONCPAT",55,0)
 S DR(1,160,48)="S Y=9"
"RTN","ONCPAT",56,0)
 S DR(1,160,49)="@8399"
"RTN","ONCPAT",57,0)
 S DR(1,160,50)="8.3////99"
"RTN","ONCPAT",58,0)
 S DR(1,160,51)="8.4////99"
"RTN","ONCPAT",59,0)
 S DR(1,160,52)="W !,""    RACE 4.....................: Unknown"""
"RTN","ONCPAT",60,0)
 S DR(1,160,53)="W !,""    RACE 5.....................: Unknown"""
"RTN","ONCPAT",61,0)
 S DR(1,160,54)="S Y=9"
"RTN","ONCPAT",62,0)
 S DR(1,160,55)="@8300"
"RTN","ONCPAT",63,0)
 S DR(1,160,56)="8.3////@"
"RTN","ONCPAT",64,0)
 S DR(1,160,57)="8.4////@"
"RTN","ONCPAT",65,0)
 S DR(1,160,58)="W !,""    RACE 4.....................:"""
"RTN","ONCPAT",66,0)
 S DR(1,160,59)="W !,""    RACE 5.....................:"""
"RTN","ONCPAT",67,0)
 S DR(1,160,60)="S Y=9"
"RTN","ONCPAT",68,0)
 S DR(1,160,61)="@83"
"RTN","ONCPAT",69,0)
 S DR(1,160,62)="8.3    RACE 4.....................//NA"
"RTN","ONCPAT",70,0)
 S DR(1,160,63)="S Y=$S(X=88:""@8488"",X=99:""@8499"",X="""":""@8400"",1:""@84"")"
"RTN","ONCPAT",71,0)
 S DR(1,160,64)="@8488"
"RTN","ONCPAT",72,0)
 S DR(1,160,65)="8.4////88"
"RTN","ONCPAT",73,0)
 S DR(1,160,66)="W !,""    RACE 5.....................: NA"""
"RTN","ONCPAT",74,0)
 S DR(1,160,67)="S Y=9"
"RTN","ONCPAT",75,0)
 S DR(1,160,68)="@8499"
"RTN","ONCPAT",76,0)
 S DR(1,160,69)="8.4////99"
"RTN","ONCPAT",77,0)
 S DR(1,160,70)="W !,""    RACE 5.....................: Unknown"""
"RTN","ONCPAT",78,0)
 S DR(1,160,71)="S Y=9"
"RTN","ONCPAT",79,0)
 S DR(1,160,72)="@8400"
"RTN","ONCPAT",80,0)
 S DR(1,160,73)="8.4////@"
"RTN","ONCPAT",81,0)
 S DR(1,160,74)="W !,""    RACE 5.....................:"""
"RTN","ONCPAT",82,0)
 S DR(1,160,75)="S Y=9"
"RTN","ONCPAT",83,0)
 S DR(1,160,76)="@84"
"RTN","ONCPAT",84,0)
 S DR(1,160,77)="8.4    RACE 5.....................//NA"
"RTN","ONCPAT",85,0)
 S DR(1,160,78)="9    SPANISH ORIGIN.............//^S X=""Non-Spanish, non-Hispanic"""
"RTN","ONCPAT",86,0)
 S DR(1,160,79)="10    SEX........................"
"RTN","ONCPAT",87,0)
 S DR(1,160,80)="48    AGENT ORANGE EXPOSURE......//^S X=AOE"
"RTN","ONCPAT",88,0)
 S DR(1,160,81)="50    IONIZING RADIATION EXPOSURE//^S X=IRE"
"RTN","ONCPAT",89,0)
 S DR(1,160,82)="52    CHEMICAL EXPOSURE.........."
"RTN","ONCPAT",90,0)
 S DR(1,160,83)="61    ASBESTOS EXPOSURE.........."
"RTN","ONCPAT",91,0)
 S DR(1,160,84)="62    VIETNAM SERVICE............//^S X=VSI"
"RTN","ONCPAT",92,0)
 S DR(1,160,85)="55    LEBANON SERVICE............//^S X=LSI"
"RTN","ONCPAT",93,0)
 S DR(1,160,86)="63    GRENADA SERVICE............//^S X=GSI"
"RTN","ONCPAT",94,0)
 S DR(1,160,86.1)="64    PANAMA SERVICE.............//^S X=PSI"
"RTN","ONCPAT",95,0)
 S DR(1,160,86.2)="51    PERSIAN GULF SERVICE.......//^S X=PGS"
"RTN","ONCPAT",96,0)
 S DR(1,160,86.3)="56    SOMALIA SERVICE............//^S X=SSI"
"RTN","ONCPAT",97,0)
 S DR(1,160,86.4)="65    YUGOSLAVIA SERVICE.........//^S X=YSI"
"RTN","ONCPAT",98,0)
 S DR(1,160,86.5)="67    AFGHANISTAN (OEF) SERVICE..//^S X=OEF"
"RTN","ONCPAT",99,0)
 S DR(1,160,86.6)="66    IRAQ (OIF) SERVICE.........//^S X=OIF"
"RTN","ONCPAT",100,0)
 S DR(1,160,87)="W ! K DIR S DIR(0)=""E"" D ^DIR"
"RTN","ONCPAT",101,0)
 S DR(1,160,88)="I $D(DIRUT) S Y=""@99"""
"RTN","ONCPAT",102,0)
 S DR(1,160,89)="W @IOF"
"RTN","ONCPAT",103,0)
 S DR(1,160,90)="W !?4,""Patient name: "",ONCONAM,!"
"RTN","ONCPAT",104,0)
 S DR(1,160,91)="D CC^ONCPAT1"
"RTN","ONCPAT",105,0)
 S DR(1,160,92)="D ^ONCPL"
"RTN","ONCPAT",106,0)
 S DR(1,160,93)="I $D(DIRUT) S Y=""@99"""
"RTN","ONCPAT",107,0)
 S DR(1,160,93.1)="1006    SOURCE COMORBIDITY"
"RTN","ONCPAT",108,0)
 S DR(1,160,94)="25    COMORBIDITY/COMPLICATION #1"
"RTN","ONCPAT",109,0)
 S DR(1,160,95)="I X'="""" S Y=""@251"""
"RTN","ONCPAT",110,0)
 S DR(1,160,96)="25.1////@"
"RTN","ONCPAT",111,0)
 S DR(1,160,97)="25.2////@"
"RTN","ONCPAT",112,0)
 S DR(1,160,98)="25.3////@"
"RTN","ONCPAT",113,0)
 S DR(1,160,99)="25.4////@"
"RTN","ONCPAT",114,0)
 S DR(1,160,100)="25.5////@"
"RTN","ONCPAT",115,0)
 S DR(1,160,101)="25.6////@"
"RTN","ONCPAT",116,0)
 S DR(1,160,102)="25.7////@"
"RTN","ONCPAT",117,0)
 S DR(1,160,103)="25.8////@"
"RTN","ONCPAT",118,0)
 S DR(1,160,104)="25.9////@"
"RTN","ONCPAT",119,0)
 S DR(1,160,105)="D CC2^ONCPAT1"
"RTN","ONCPAT",120,0)
 S DR(1,160,106)="S Y=""@99"""
"RTN","ONCPAT",121,0)
 S DR(1,160,107)="@251"
"RTN","ONCPAT",122,0)
 S DR(1,160,108)="25.1    COMORBIDITY/COMPLICATION #2"
"RTN","ONCPAT",123,0)
 S DR(1,160,109)="I X'="""" S Y=""@252"""
"RTN","ONCPAT",124,0)
 S DR(1,160,110)="25.2////@"
"RTN","ONCPAT",125,0)
 S DR(1,160,111)="25.3////@"
"RTN","ONCPAT",126,0)
 S DR(1,160,112)="25.4////@"
"RTN","ONCPAT",127,0)
 S DR(1,160,113)="25.5////@"
"RTN","ONCPAT",128,0)
 S DR(1,160,114)="25.6////@"
"RTN","ONCPAT",129,0)
 S DR(1,160,115)="25.7////@"
"RTN","ONCPAT",130,0)
 S DR(1,160,116)="25.8////@"
"RTN","ONCPAT",131,0)
 S DR(1,160,117)="25.9////@"
"RTN","ONCPAT",132,0)
 S DR(1,160,118)="D CC3^ONCPAT1"
"RTN","ONCPAT",133,0)
 S DR(1,160,119)="S Y=""@99"""
"RTN","ONCPAT",134,0)
 S DR(1,160,120)="@252"
"RTN","ONCPAT",135,0)
 S DR(1,160,121)="25.2    COMORBIDITY/COMPLICATION #3"
"RTN","ONCPAT",136,0)
 S DR(1,160,122)="I X'="""" S Y=""@253"""
"RTN","ONCPAT",137,0)
 S DR(1,160,123)="25.3////@"
"RTN","ONCPAT",138,0)
 S DR(1,160,124)="25.4////@"
"RTN","ONCPAT",139,0)
 S DR(1,160,125)="25.5////@"
"RTN","ONCPAT",140,0)
 S DR(1,160,126)="25.6////@"
"RTN","ONCPAT",141,0)
 S DR(1,160,127)="25.7////@"
"RTN","ONCPAT",142,0)
 S DR(1,160,128)="25.8////@"
"RTN","ONCPAT",143,0)
 S DR(1,160,129)="25.9////@"
"RTN","ONCPAT",144,0)
 S DR(1,160,130)="D CC4^ONCPAT1"
"RTN","ONCPAT",145,0)
 S DR(1,160,131)="S Y=""@99"""
"RTN","ONCPAT",146,0)
 S DR(1,160,132)="@253"
"RTN","ONCPAT",147,0)
 S DR(1,160,133)="25.3    COMORBIDITY/COMPLICATION #4"
"RTN","ONCPAT",148,0)
 S DR(1,160,134)="I X'="""" S Y=""@254"""
"RTN","ONCPAT",149,0)
 S DR(1,160,135)="25.4////@"
"RTN","ONCPAT",150,0)
 S DR(1,160,136)="25.5////@"
"RTN","ONCPAT",151,0)
 S DR(1,160,137)="25.6////@"
"RTN","ONCPAT",152,0)
 S DR(1,160,138)="25.7////@"
"RTN","ONCPAT",153,0)
 S DR(1,160,139)="25.8////@"
"RTN","ONCPAT",154,0)
 S DR(1,160,140)="25.9////@"
"RTN","ONCPAT",155,0)
 S DR(1,160,141)="D CC5^ONCPAT1"
"RTN","ONCPAT",156,0)
 S DR(1,160,142)="S Y=""@99"""
"RTN","ONCPAT",157,0)
 S DR(1,160,143)="@254"
"RTN","ONCPAT",158,0)
 S DR(1,160,144)="25.4    COMORBIDITY/COMPLICATION #5"
"RTN","ONCPAT",159,0)
 S DR(1,160,145)="I X'="""" S Y=""@255"""
"RTN","ONCPAT",160,0)
 S DR(1,160,146)="25.5////@"
"RTN","ONCPAT",161,0)
 S DR(1,160,147)="25.6////@"
"RTN","ONCPAT",162,0)
 S DR(1,160,148)="25.7////@"
"RTN","ONCPAT",163,0)
 S DR(1,160,149)="25.8////@"
"RTN","ONCPAT",164,0)
 S DR(1,160,150)="25.9////@"
"RTN","ONCPAT",165,0)
 S DR(1,160,151)="D CC6^ONCPAT1"
"RTN","ONCPAT",166,0)
 S DR(1,160,152)="S Y=""@99"""
"RTN","ONCPAT",167,0)
 S DR(1,160,153)="@255"
"RTN","ONCPAT",168,0)
 S DR(1,160,154)="25.5    COMORBIDITY/COMPLICATION #6"
"RTN","ONCPAT",169,0)
 S DR(1,160,155)="I X'="""" S Y=""@256"""
"RTN","ONCPAT",170,0)
 S DR(1,160,156)="25.6////@"
"RTN","ONCPAT",171,0)
 S DR(1,160,157)="25.7////@"
"RTN","ONCPAT",172,0)
 S DR(1,160,158)="25.8////@"
"RTN","ONCPAT",173,0)
 S DR(1,160,159)="25.9////@"
"RTN","ONCPAT",174,0)
 S DR(1,160,160)="D CC7^ONCPAT1"
"RTN","ONCPAT",175,0)
 S DR(1,160,161)="S Y=""@99"""
"RTN","ONCPAT",176,0)
 S DR(1,160,162)="@256"
"RTN","ONCPAT",177,0)
 S DR(1,160,163)="25.6    COMORBIDITY/COMPLICATION #7"
"RTN","ONCPAT",178,0)
 S DR(1,160,164)="I X'="""" S Y=""@257"""
"RTN","ONCPAT",179,0)
 S DR(1,160,165)="25.7////@"
"RTN","ONCPAT",180,0)
 S DR(1,160,166)="25.8////@"
"RTN","ONCPAT",181,0)
 S DR(1,160,167)="25.9////@"
"RTN","ONCPAT",182,0)
 S DR(1,160,168)="D CC8^ONCPAT1"
"RTN","ONCPAT",183,0)
 S DR(1,160,169)="S Y=""@99"""
"RTN","ONCPAT",184,0)
 S DR(1,160,170)="@257"
"RTN","ONCPAT",185,0)
 S DR(1,160,171)="25.7    COMORBIDITY/COMPLICATION #8"
"RTN","ONCPAT",186,0)
 S DR(1,160,172)="I X'="""" S Y=""@258"""
"RTN","ONCPAT",187,0)
 S DR(1,160,173)="25.8////@"
"RTN","ONCPAT",188,0)
 S DR(1,160,174)="25.9////@"
"RTN","ONCPAT",189,0)
 S DR(1,160,175)="D CC9^ONCPAT1"
"RTN","ONCPAT",190,0)
 S DR(1,160,176)="S Y=""@99"""
"RTN","ONCPAT",191,0)
 S DR(1,160,177)="@258"
"RTN","ONCPAT",192,0)
 S DR(1,160,178)="25.8    COMORBIDITY/COMPLICATION #9"
"RTN","ONCPAT",193,0)
 S DR(1,160,179)="I X'="""" S Y=""@259"""
"RTN","ONCPAT",194,0)
 S DR(1,160,180)="25.9////@"
"RTN","ONCPAT",195,0)
 S DR(1,160,181)="D CC10^ONCPAT1"
"RTN","ONCPAT",196,0)
 S DR(1,160,182)="S Y=""@99"""
"RTN","ONCPAT",197,0)
 S DR(1,160,183)="@259"
"RTN","ONCPAT",198,0)
 S DR(1,160,184)="25.9    COMORBIDITY/COMPLICATION #10"
"RTN","ONCPAT",199,0)
 S DR(1,160,185)="@99"
"RTN","ONCPAT",200,0)
 S DR(1,160,186)="W ! K DIR S DIR(0)=""E"" D ^DIR"
"RTN","ONCPAT",201,0)
 S DR(1,160,187)="I $D(DIRUT) S Y=""@999"""
"RTN","ONCPAT",202,0)
 S DR(1,160,188)="W @IOF"
"RTN","ONCPAT",203,0)
 S DR(1,160,189)="W !?4,""Patient name: "",ONCONAM,!"
"RTN","ONCPAT",204,0)
 S DR(1,160,190)="D SD^ONCPAT1 I ONCSDPMT'=1 S Y=""@999"""
"RTN","ONCPAT",205,0)
 S DR(1,160,191)="25.91    SECONDARY DIAGNOSIS #1"
"RTN","ONCPAT",206,0)
 S DR(1,160,192)="I X'="""" S Y=""@25911"""
"RTN","ONCPAT",207,0)
 S DR(1,160,193)="D SDSTF2^ONCPAT1"
"RTN","ONCPAT",208,0)
 S DR(1,160,194)="D SD2^ONCPAT1"
"RTN","ONCPAT",209,0)
 S DR(1,160,195)="S Y=""@999"""
"RTN","ONCPAT",210,0)
 S DR(1,160,196)="@25911"
"RTN","ONCPAT",211,0)
 S DR(1,160,197)="25.92    SECONDARY DIAGNOSIS #2"
"RTN","ONCPAT",212,0)
 S DR(1,160,198)="I X'="""" S Y=""@25921"""
"RTN","ONCPAT",213,0)
 S DR(1,160,199)="D SDSTF3^ONCPAT1"
"RTN","ONCPAT",214,0)
 S DR(1,160,200)="D SD3^ONCPAT1"
"RTN","ONCPAT",215,0)
 S DR(1,160,201)="S Y=""@999"""
"RTN","ONCPAT",216,0)
 S DR(1,160,202)="@25921"
"RTN","ONCPAT",217,0)
 S DR(1,160,203)="25.93    SECONDARY DIAGNOSIS #3"
"RTN","ONCPAT",218,0)
 S DR(1,160,204)="I X'="""" S Y=""@25931"""
"RTN","ONCPAT",219,0)
 S DR(1,160,205)="D SDSTF4^ONCPAT1"
"RTN","ONCPAT",220,0)
 S DR(1,160,206)="D SD4^ONCPAT1"
"RTN","ONCPAT",221,0)
 S DR(1,160,207)="S Y=""@999"""
"RTN","ONCPAT",222,0)
 S DR(1,160,208)="@25931"
"RTN","ONCPAT",223,0)
 S DR(1,160,209)="25.94    SECONDARY DIAGNOSIS #4"
"RTN","ONCPAT",224,0)
 S DR(1,160,210)="I X'="""" S Y=""@25941"""
"RTN","ONCPAT",225,0)
 S DR(1,160,211)="D SDSTF5^ONCPAT1"
"RTN","ONCPAT",226,0)
 S DR(1,160,212)="D SD5^ONCPAT1"
"RTN","ONCPAT",227,0)
 S DR(1,160,213)="S Y=""@999"""
"RTN","ONCPAT",228,0)
 S DR(1,160,214)="@25941"
"RTN","ONCPAT",229,0)
 S DR(1,160,215)="25.95    SECONDARY DIAGNOSIS #5"
"RTN","ONCPAT",230,0)
 S DR(1,160,216)="I X'="""" S Y=""@25951"""
"RTN","ONCPAT",231,0)
 S DR(1,160,217)="D SDSTF6^ONCPAT1"
"RTN","ONCPAT",232,0)
 S DR(1,160,218)="D SD6^ONCPAT1"
"RTN","ONCPAT",233,0)
 S DR(1,160,219)="S Y=""@999"""
"RTN","ONCPAT",234,0)
 S DR(1,160,220)="@25951"
"RTN","ONCPAT",235,0)
 S DR(1,160,221)="25.96    SECONDARY DIAGNOSIS #6"
"RTN","ONCPAT",236,0)
 S DR(1,160,222)="I X'="""" S Y=""@25961"""
"RTN","ONCPAT",237,0)
 S DR(1,160,223)="D SDSTF7^ONCPAT1"
"RTN","ONCPAT",238,0)
 S DR(1,160,224)="D SD7^ONCPAT1"
"RTN","ONCPAT",239,0)
 S DR(1,160,225)="S Y=""@999"""
"RTN","ONCPAT",240,0)
 S DR(1,160,226)="@25961"
"RTN","ONCPAT",241,0)
 S DR(1,160,227)="25.97    SECONDARY DIAGNOSIS #7"
"RTN","ONCPAT",242,0)
 S DR(1,160,228)="I X'="""" S Y=""@25971"""
"RTN","ONCPAT",243,0)
 S DR(1,160,229)="D SDSTF8^ONCPAT1"
"RTN","ONCPAT",244,0)
 S DR(1,160,230)="D SD8^ONCPAT1"
"RTN","ONCPAT",245,0)
 S DR(1,160,231)="S Y=""@999"""
"RTN","ONCPAT",246,0)
 S DR(1,160,232)="@25971"
"RTN","ONCPAT",247,0)
 S DR(1,160,233)="25.98    SECONDARY DIAGNOSIS #8"
"RTN","ONCPAT",248,0)
 S DR(1,160,234)="I X'="""" S Y=""@25981"""
"RTN","ONCPAT",249,0)
 S DR(1,160,235)="D SDSTF9^ONCPAT1"
"RTN","ONCPAT",250,0)
 S DR(1,160,236)="D SD9^ONCPAT1"
"RTN","ONCPAT",251,0)
 S DR(1,160,237)="S Y=""@999"""
"RTN","ONCPAT",252,0)
 S DR(1,160,238)="@25981"
"RTN","ONCPAT",253,0)
 S DR(1,160,239)="25.99    SECONDARY DIAGNOSIS #9"
"RTN","ONCPAT",254,0)
 S DR(1,160,240)="I X'="""" S Y=""@25991"""
"RTN","ONCPAT",255,0)
 S DR(1,160,241)="D SDSTF10^ONCPAT1"
"RTN","ONCPAT",256,0)
 S DR(1,160,242)="D SD10^ONCPAT1"
"RTN","ONCPAT",257,0)
 S DR(1,160,243)="S Y=""@999"""
"RTN","ONCPAT",258,0)
 S DR(1,160,244)="@25991"
"RTN","ONCPAT",259,0)
 S DR(1,160,245)="25.9901    SECONDARY DIAGNOSIS #10"
"RTN","ONCPAT",260,0)
 S DR(1,160,246)="@999"
"RTN","ONCPAT",261,0)
 D ^DIE
"RTN","ONCPAT",262,0)
 K AOE,DIE,DR,IRE,GSI,LSI,OEF,OIF,PGS,PSI,SSI,VSI,YSI,ONCSDPMT
"RTN","ONCPAT",263,0)
 Q
"RTN","ONCPAT",264,0)
 ;
"RTN","ONCPAT",265,0)
CLEANUP ;Cleanup
"RTN","ONCPAT",266,0)
 K ONCOD0
"RTN","ONCPAT1")
0^283^B8589668
"RTN","ONCPAT1",1,0)
ONCPAT1 ;Hines OIFO/GWB - PATIENT IDENTIFICATION (continued) ;10/07/11
"RTN","ONCPAT1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPAT1",3,0)
 ;
"RTN","ONCPAT1",4,0)
CC W !,"    Source Comorbidity..........: ",ONC(160,D0,1006)
"RTN","ONCPAT1",5,0)
 W !,"    Comorbidity/Complication  #1.: ",ONC(160,D0,25)
"RTN","ONCPAT1",6,0)
 W !,"    Comorbidity/Complication  #2.: ",ONC(160,D0,25.1)
"RTN","ONCPAT1",7,0)
 W !,"    Comorbidity/Complication  #3.: ",ONC(160,D0,25.2)
"RTN","ONCPAT1",8,0)
 W !,"    Comorbidity/Complication  #4.: ",ONC(160,D0,25.3)
"RTN","ONCPAT1",9,0)
 W !,"    Comorbidity/Complication  #5.: ",ONC(160,D0,25.4)
"RTN","ONCPAT1",10,0)
 W !,"    Comorbidity/Complication  #6.: ",ONC(160,D0,25.5)
"RTN","ONCPAT1",11,0)
 W !,"    Comorbidity/Complication  #7.: ",ONC(160,D0,25.6)
"RTN","ONCPAT1",12,0)
 W !,"    Comorbidity/Complication  #8.: ",ONC(160,D0,25.7)
"RTN","ONCPAT1",13,0)
 W !,"    Comorbidity/Complication  #9.: ",ONC(160,D0,25.8)
"RTN","ONCPAT1",14,0)
 W !,"    Comorbidity/Complication #10.: ",ONC(160,D0,25.9)
"RTN","ONCPAT1",15,0)
 Q
"RTN","ONCPAT1",16,0)
 ;
"RTN","ONCPAT1",17,0)
CC2 W !,"    COMORBIDITY/COMPLICATION #2:"
"RTN","ONCPAT1",18,0)
CC3 W !,"    COMORBIDITY/COMPLICATION #3:"
"RTN","ONCPAT1",19,0)
CC4 W !,"    COMORBIDITY/COMPLICATION #4:"
"RTN","ONCPAT1",20,0)
CC5 W !,"    COMORBIDITY/COMPLICATION #5:"
"RTN","ONCPAT1",21,0)
CC6 W !,"    COMORBIDITY/COMPLICATION #6:"
"RTN","ONCPAT1",22,0)
CC7 W !,"    COMORBIDITY/COMPLICATION #7:"
"RTN","ONCPAT1",23,0)
CC8 W !,"    COMORBIDITY/COMPLICATION #8:"
"RTN","ONCPAT1",24,0)
CC9 W !,"    COMORBIDITY/COMPLICATION #9:"
"RTN","ONCPAT1",25,0)
CC10 W !,"    COMORBIDITY/COMPLICATION #10:"
"RTN","ONCPAT1",26,0)
 Q
"RTN","ONCPAT1",27,0)
 ;
"RTN","ONCPAT1",28,0)
SD W !,"    Secondary Diagnosis  #1.: ",ONC(160,D0,25.91)
"RTN","ONCPAT1",29,0)
 W !,"    Secondary Diagnosis  #2.: ",ONC(160,D0,25.92)
"RTN","ONCPAT1",30,0)
 W !,"    Secondary Diagnosis  #3.: ",ONC(160,D0,25.93)
"RTN","ONCPAT1",31,0)
 W !,"    Secondary Diagnosis  #4.: ",ONC(160,D0,25.94)
"RTN","ONCPAT1",32,0)
 W !,"    Secondary Diagnosis  #5.: ",ONC(160,D0,25.95)
"RTN","ONCPAT1",33,0)
 W !,"    Secondary Diagnosis  #6.: ",ONC(160,D0,25.96)
"RTN","ONCPAT1",34,0)
 W !,"    Secondary Diagnosis  #7.: ",ONC(160,D0,25.97)
"RTN","ONCPAT1",35,0)
 W !,"    Secondary Diagnosis  #8.: ",ONC(160,D0,25.98)
"RTN","ONCPAT1",36,0)
 W !,"    Secondary Diagnosis  #9.: ",ONC(160,D0,25.99)
"RTN","ONCPAT1",37,0)
 W !,"    Secondary Diagnosis #10.: ",ONC(160,D0,25.9901)
"RTN","ONCPAT1",38,0)
 ;
"RTN","ONCPAT1",39,0)
 N DIR,X S SAVEY=Y,ONCSDPMT="" W !
"RTN","ONCPAT1",40,0)
 S DIR("A")=" Would you like to edit the SECONDARY DIAGNOSIS #1-10 prompts"
"RTN","ONCPAT1",41,0)
 S DIR(0)="Y",DIR("B")="No" D ^DIR
"RTN","ONCPAT1",42,0)
 I Y=1 W ! S ONCSDPMT=1
"RTN","ONCPAT1",43,0)
 S Y=SAVEY Q
"RTN","ONCPAT1",44,0)
 Q
"RTN","ONCPAT1",45,0)
 ;
"RTN","ONCPAT1",46,0)
SD2 W !,"    SECONDARY DIAGNOSIS #2:"
"RTN","ONCPAT1",47,0)
SD3 W !,"    SECONDARY DIAGNOSIS #3:"
"RTN","ONCPAT1",48,0)
SD4 W !,"    SECONDARY DIAGNOSIS #4:"
"RTN","ONCPAT1",49,0)
SD5 W !,"    SECONDARY DIAGNOSIS #5:"
"RTN","ONCPAT1",50,0)
SD6 W !,"    SECONDARY DIAGNOSIS #6:"
"RTN","ONCPAT1",51,0)
SD7 W !,"    SECONDARY DIAGNOSIS #7:"
"RTN","ONCPAT1",52,0)
SD8 W !,"    SECONDARY DIAGNOSIS #8:"
"RTN","ONCPAT1",53,0)
SD9 W !,"    SECONDARY DIAGNOSIS #9:"
"RTN","ONCPAT1",54,0)
SD10 W !,"    SECONDARY DIAGNOSIS #10:"
"RTN","ONCPAT1",55,0)
 Q
"RTN","ONCPAT1",56,0)
 ;
"RTN","ONCPAT1",57,0)
SDSTF2 S $P(^ONCO(160,D0,3),"^",2)=""
"RTN","ONCPAT1",58,0)
SDSTF3 S $P(^ONCO(160,D0,3),"^",3)=""
"RTN","ONCPAT1",59,0)
SDSTF4 S $P(^ONCO(160,D0,3),"^",4)=""
"RTN","ONCPAT1",60,0)
SDSTF5 S $P(^ONCO(160,D0,3),"^",5)=""
"RTN","ONCPAT1",61,0)
SDSTF6 S $P(^ONCO(160,D0,3),"^",6)=""
"RTN","ONCPAT1",62,0)
SDSTF7 S $P(^ONCO(160,D0,3),"^",7)=""
"RTN","ONCPAT1",63,0)
SDSTF8 S $P(^ONCO(160,D0,3),"^",8)=""
"RTN","ONCPAT1",64,0)
SDSTF9 S $P(^ONCO(160,D0,3),"^",9)=""
"RTN","ONCPAT1",65,0)
SDSTF10 S $P(^ONCO(160,D0,3),"^",10)=""
"RTN","ONCPAT1",66,0)
 Q
"RTN","ONCPAT1",67,0)
 ;
"RTN","ONCPAT1",68,0)
CLEANUP ;Cleanup
"RTN","ONCPAT1",69,0)
 K D0,ONC
"RTN","ONCPCDX")
0^284^B3257923
"RTN","ONCPCDX",1,0)
ONCPCDX ;Hines OIFO/GWB - Postal Code INPUT/OUTPUT TRANSFORMS ;06/23/10
"RTN","ONCPCDX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPCDX",3,0)
 ;
"RTN","ONCPCDX",4,0)
PCDX ;POSTAL CODE AT DX (165.5,9) INPUT TRANSFORM
"RTN","ONCPCDX",5,0)
 N DIC,ONCXIP,Y
"RTN","ONCPCDX",6,0)
 I (X=88888)!(X=99999)!(X=999999) Q
"RTN","ONCPCDX",7,0)
 I X?1A1N1A1N1A1N Q
"RTN","ONCPCDX",8,0)
 S DIC="^XIP(5.12,",DIC(0)="EMZ"
"RTN","ONCPCDX",9,0)
 S DIC("B")=$P(^ONCO(165.5,DA,1),U,2)
"RTN","ONCPCDX",10,0)
 D ^DIC
"RTN","ONCPCDX",11,0)
 I Y=-1 D EN^DDIOL("  Invalid postal code") K X Q
"RTN","ONCPCDX",12,0)
 S X=$P(Y(0),U,1)
"RTN","ONCPCDX",13,0)
 D POSTAL^XIPUTIL(X,.ONCXIP)
"RTN","ONCPCDX",14,0)
 S ONCCITY=$P(Y(0),U,2)
"RTN","ONCPCDX",15,0)
 S ONCSTATE=$P(Y(0),U,4)
"RTN","ONCPCDX",16,0)
 S ONCCOUNTY=ONCXIP("FIPS CODE")
"RTN","ONCPCDX",17,0)
 Q
"RTN","ONCPCDX",18,0)
 ;Code for POSTALB^XIPUTIL API if needed
"RTN","ONCPCDX",19,0)
 ;S SUB=$O(ZIP(""),-1)
"RTN","ONCPCDX",20,0)
 ;I SUB=1 W " "_ZIP(1,"CITY")_" "_$P($G(^DIC(5,ZIP(1,"STATE POINTER"),0)),U,2)_" "_ZIP(1,"COUNTY") S Y=1 G SET
"RTN","ONCPCDX",21,0)
 ;W !
"RTN","ONCPCDX",22,0)
 ;S DIR(0)="SAO^"
"RTN","ONCPCDX",23,0)
 ;S SUB=0 F  S SUB=$O(ZIP(SUB)) Q:SUB'>0  D
"RTN","ONCPCDX",24,0)
 ;.S CHOICE=ZIP(SUB,"POSTAL CODE")_" "_ZIP(SUB,"CITY")_" "_$P($G(^DIC(5,ZIP(SUB,"STATE POINTER"),0)),U,2)_" "_ZIP(SUB,"COUNTY")
"RTN","ONCPCDX",25,0)
 ;.S DIR(0)=DIR(0)_SUB_":"_CHOICE_";"
"RTN","ONCPCDX",26,0)
 ;.W !,?5,SUB," ",CHOICE
"RTN","ONCPCDX",27,0)
 ;W ! S DIR("A")=" Select Postal Code: "
"RTN","ONCPCDX",28,0)
 ;D ^DIR
"RTN","ONCPCDX",29,0)
 ;I $D(DIRUT) K DIRUT K ZIP Q
"RTN","ONCPCDX",30,0)
 ;I Y<1 K ZIP Q
"RTN","ONCPCDX",31,0)
 ;
"RTN","ONCPCDX",32,0)
PC1601 ;POSTAL CODE (160.1,.03) INPUT TRANSFORM
"RTN","ONCPCDX",33,0)
 N DIC,Y
"RTN","ONCPCDX",34,0)
 S DIC="^XIP(5.12,",DIC(0)="EMZ"
"RTN","ONCPCDX",35,0)
 S DIC("B")=$P(^ONCO(160.1,DA,0),U,3)
"RTN","ONCPCDX",36,0)
 D ^DIC
"RTN","ONCPCDX",37,0)
 I Y=-1 D EN^DDIOL("  Invalid postal code") K X Q
"RTN","ONCPCDX",38,0)
 S X=$P(Y(0),U,1)
"RTN","ONCPCDX",39,0)
 S ONCCITY=$P(Y(0),U,2)
"RTN","ONCPCDX",40,0)
 S ONCSTATE=$P(Y(0),U,4)
"RTN","ONCPCDX",41,0)
 Q
"RTN","ONCPCDX",42,0)
 ;
"RTN","ONCPCDX",43,0)
PC165I ;ZIP CODE (165,.119) INPUT TRANSFORM
"RTN","ONCPCDX",44,0)
 N DIC,Y
"RTN","ONCPCDX",45,0)
 S DIC="^XIP(5.12,",DIC(0)="EMZ"
"RTN","ONCPCDX",46,0)
 S DIC("B")=$P($G(^ONCO(165,DA,.11)),U,9)
"RTN","ONCPCDX",47,0)
 D ^DIC
"RTN","ONCPCDX",48,0)
 I Y=-1 D EN^DDIOL("  Invalid postal code") K X Q
"RTN","ONCPCDX",49,0)
 S X=$P(Y(0),U,1)
"RTN","ONCPCDX",50,0)
 S ONCCITY=$P(Y(0),U,2)
"RTN","ONCPCDX",51,0)
 S ONCSTATE=$P(Y(0),U,4)
"RTN","ONCPCDX",52,0)
 Q
"RTN","ONCPCDX",53,0)
 ;
"RTN","ONCPCDX",54,0)
PC165O ;ZIP CODE (165,.119) OUTPUT TRANSFORM
"RTN","ONCPCDX",55,0)
 N CITY,STATE,STATEPNT,ZIP
"RTN","ONCPCDX",56,0)
 S CITY=$P($G(^ONCO(165,D0,.11)),U,4)
"RTN","ONCPCDX",57,0)
 S STATEPNT=$P($G(^ONCO(165,D0,.11)),U,5)
"RTN","ONCPCDX",58,0)
 S STATE="" S:STATEPNT'="" STATE=$$GET1^DIQ(5,STATEPNT,1)
"RTN","ONCPCDX",59,0)
 S ZIP=$P($G(^ONCO(165,D0,.11)),U,9)
"RTN","ONCPCDX",60,0)
 S:ZIP'="" Y=CITY_", "_STATE_" "_ZIP
"RTN","ONCPCDX",61,0)
 Q
"RTN","ONCPCDX",62,0)
 ;
"RTN","ONCPCDX",63,0)
CLEANUP ;Cleanup
"RTN","ONCPCDX",64,0)
 K D0,DA
"RTN","ONCPCI")
0^285^B24563873
"RTN","ONCPCI",1,0)
ONCPCI ;Hines OIFO/GWB - Patient Identification/Cancer Identification screen display ;09/22/11
"RTN","ONCPCI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPCI",3,0)
 ;
"RTN","ONCPCI",4,0)
PI ;Patient Identification
"RTN","ONCPCI",5,0)
 K DASH S $P(DASH,"-",80)="-"
"RTN","ONCPCI",6,0)
 N DI,DIC,DR,DA,DIQ,ONC,TM1,TM2,TM3,DOTS1,DOTS2,DOTS3
"RTN","ONCPCI",7,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPCI",8,0)
 S DR=".03;1.2;2;2.1;2.2;2.3;2.4;8;8.1;8.2;9;10;11;16;18;147"
"RTN","ONCPCI",9,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPCI",10,0)
 F I=.03,1.2,2,2.1,2.2,2.3,2.4,8,8.1,8.2,9,10,11,16,18 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPCI",11,0)
 W !," Reporting Facility...........: ",ONC(165.5,D0,.03)
"RTN","ONCPCI",12,0)
 W !," Marital Status at Dx.........: ",ONC(165.5,D0,11)
"RTN","ONCPCI",13,0)
 W !," Patient Address at Dx........: ",ONC(165.5,D0,8)
"RTN","ONCPCI",14,0)
 W !," Patient Address at Dx - Supp.: ",ONC(165.5,D0,8.2)
"RTN","ONCPCI",15,0)
 W !," City/town at Dx..............: ",ONC(165.5,D0,8.1)
"RTN","ONCPCI",16,0)
 W !," State at Dx..................: ",ONC(165.5,D0,16)
"RTN","ONCPCI",17,0)
 W !," Postal Code at Dx............: ",ONC(165.5,D0,9)
"RTN","ONCPCI",18,0)
 W !," County at Dx.................: ",ONC(165.5,D0,10)
"RTN","ONCPCI",19,0)
 W !," Census Tract.................: ",ONC(165.5,D0,147)
"RTN","ONCPCI",20,0)
 I DATEDX>3061231 D
"RTN","ONCPCI",21,0)
 .W !," Managing Physician...........: ",ONC(165.5,D0,2.2)
"RTN","ONCPCI",22,0)
 W !," Following Physician..........: ",ONC(165.5,D0,2.1)
"RTN","ONCPCI",23,0)
 W !," Primary Surgeon..............: ",ONC(165.5,D0,2)
"RTN","ONCPCI",24,0)
 W !," Physician #3.................: ",ONC(165.5,D0,2.3)
"RTN","ONCPCI",25,0)
 W !," Physician #4       ..........: ",ONC(165.5,D0,2.4)
"RTN","ONCPCI",26,0)
 W !," Primary Payer at Dx..........: ",ONC(165.5,D0,18)
"RTN","ONCPCI",27,0)
 W !," Type of Reporting Source.....: ",ONC(165.5,D0,1.2)
"RTN","ONCPCI",28,0)
 W !,DASH
"RTN","ONCPCI",29,0)
 K DASH,I,X
"RTN","ONCPCI",30,0)
 Q
"RTN","ONCPCI",31,0)
 ;
"RTN","ONCPCI",32,0)
CI ;Cancer Identification
"RTN","ONCPCI",33,0)
 K DASH S $P(DASH,"-",80)="-"
"RTN","ONCPCI",34,0)
 N DI,DIC,DR,DA,DIQ,ONC,TM1,TM2,TM3,DOTS1,DOTS2,DOTS3
"RTN","ONCPCI",35,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPCI",36,0)
 S DR=".04;6;7;155;3;28;22;22.1;22.3;24;26;25.1;25.2;25.3;83;623;684;120;121;1010;5;171;172;173;21;96;102;156;159;193;194;195;196;24.1;24.2;233;237;237.1;238;250"
"RTN","ONCPCI",37,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPCI",38,0)
 F I=.04,28,24,25.1,25.2,25.3,26,83,120,684,1010,5,21,102,159,194,24.1,24.2,233,237,237.1,238 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPCI",39,0)
 S COC=$E($$GET1^DIQ(165.5,D0,.04,"E"),1,2)
"RTN","ONCPCI",40,0)
 S TM1=$$PRINT^ONCOTM(D0,1)
"RTN","ONCPCI",41,0)
 K DOTS1 S $P(DOTS1,".",25-$L(TM1))="."
"RTN","ONCPCI",42,0)
 S TM2=$$PRINT^ONCOTM(D0,2)
"RTN","ONCPCI",43,0)
 K DOTS2 S $P(DOTS2,".",25-$L(TM2))="."
"RTN","ONCPCI",44,0)
 S TM3=$$PRINT^ONCOTM(D0,3)
"RTN","ONCPCI",45,0)
 K DOTS3 S $P(DOTS3,".",25-$L(TM3))="."
"RTN","ONCPCI",46,0)
 S TXT=ONC(165.5,D0,.04),LEN=48 D TXT
"RTN","ONCPCI",47,0)
 W !," Class of Case................: ",TXT1 W:TXT2'="" !,?35,TXT2
"RTN","ONCPCI",48,0)
 I (COC=10)!(COC=11)!(COC=12)!(COC=13)!(COC=14) D
"RTN","ONCPCI",49,0)
 .W !," Date of First Symptoms.......: ",ONC(165.5,D0,171)
"RTN","ONCPCI",50,0)
 .W !," Date Workup Ordered/Started..: ",ONC(165.5,D0,172),"  ",ONC(165.5,D0,173)
"RTN","ONCPCI",51,0)
 S TXT=ONC(165.5,D0,6),LEN=46 D TXT
"RTN","ONCPCI",52,0)
 W !," Facility referred from.......: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",53,0)
 S TXT=ONC(165.5,D0,7),LEN=46 D TXT
"RTN","ONCPCI",54,0)
 W !," Facility referred to.........: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",55,0)
 W !," Fee Basis....................: ",ONC(165.5,D0,237)
"RTN","ONCPCI",56,0)
 I ONC(165.5,D0,237)="YES",$G(ONC(165.5,D0,237.1))'="" W " (",ONC(165.5,D0,237.1),")"
"RTN","ONCPCI",57,0)
 W !," Date of First Contact........: ",ONC(165.5,D0,155)
"RTN","ONCPCI",58,0)
 W !," Date Dx......................: ",ONC(165.5,D0,3)
"RTN","ONCPCI",59,0)
 I DATEDX>3091231 D
"RTN","ONCPCI",60,0)
 .W !," Inpatient Status.............: ",ONC(165.5,D0,233)
"RTN","ONCPCI",61,0)
 I DATEDX>3061231 D
"RTN","ONCPCI",62,0)
 .W !," Ambiguous Terminology Dx.....: ",ONC(165.5,D0,159)
"RTN","ONCPCI",63,0)
 .W !," Date of Conclusive Dx........: ",ONC(165.5,D0,193)
"RTN","ONCPCI",64,0)
 S TXT=ONC(165.5,D0,5),LEN=46 D TXT
"RTN","ONCPCI",65,0)
 W !," Dx Facility..................: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",66,0)
 W:ONC(165.5,D0,238)'="" !," Outside Slides Reviewed......: ",ONC(165.5,D0,238)
"RTN","ONCPCI",67,0)
 S HIST=$$HIST^ONCFUNC(D0,.HSTFLD,.HISTNAM)
"RTN","ONCPCI",68,0)
 S TXT=ONC(165.5,D0,HSTFLD),LEN=46 D TXT
"RTN","ONCPCI",69,0)
 W !," Histology/Behavior Code......: ",ONC(165.5,D0,22.1)_" "_TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",70,0)
 W:$G(TOP)=67619 !," Gleason Score (Clinical).....: ",ONC(165.5,D0,623)
"RTN","ONCPCI",71,0)
 W:$G(TOP)=67619 !," Gleason Score (Pathologic)...: ",ONC(165.5,D0,250)
"RTN","ONCPCI",72,0)
 W:$G(TOP)=67619 !," PSA..........................: ",ONC(165.5,D0,96)," ",ONC(165.5,D0,684)
"RTN","ONCPCI",73,0)
 W:$G(TOP)=67619 !," DRE +/-......................: ",ONC(165.5,D0,156)," ",ONC(165.5,D0,102)
"RTN","ONCPCI",74,0)
 S TXT=ONC(165.5,D0,28),LEN=46 D TXT
"RTN","ONCPCI",75,0)
 W !," Laterality...................: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPCI",76,0)
 W !," Grade/Differentiation........: ",ONC(165.5,D0,24)
"RTN","ONCPCI",77,0)
 I DATEDX>3091231 D
"RTN","ONCPCI",78,0)
 .W:ONC(165.5,D0,24.1)'="" !," Grade Path System............: ",ONC(165.5,D0,24.1)
"RTN","ONCPCI",79,0)
 .W:ONC(165.5,D0,24.2)'="" !," Grade Path Value.............: ",ONC(165.5,D0,24.2)
"RTN","ONCPCI",80,0)
 I DATEDX>3061231 D
"RTN","ONCPCI",81,0)
 .W !," Mult Tum Rpt as One Prim.....: ",ONC(165.5,D0,194)
"RTN","ONCPCI",82,0)
 .W !," Date of Multiple Tumors......: ",ONC(165.5,D0,195)
"RTN","ONCPCI",83,0)
 .W !," Multiplicity Counter.........: ",ONC(165.5,D0,196)
"RTN","ONCPCI",84,0)
 W !," AFIP/JPC submission..........: ",ONC(165.5,D0,83)
"RTN","ONCPCI",85,0)
 W !," Diagnostic Confirmation......: ",ONC(165.5,D0,26)
"RTN","ONCPCI",86,0)
 W:($$GET1^DIQ(165.5,D0,.01,"E")="LIVER")!($G(TOP)=67220) !," Hepatitis C..................: ",ONC(165.5,D0,1010)
"RTN","ONCPCI",87,0)
 ;I DATEDX<3030000 D
"RTN","ONCPCI",88,0)
 ;.W !," ",TM1,DOTS1,"....: ",ONC(165.5,D0,25.1)
"RTN","ONCPCI",89,0)
 ;.W !," ",TM2,DOTS2,"....: ",ONC(165.5,D0,25.2)
"RTN","ONCPCI",90,0)
 ;.W !," ",TM3,DOTS3,"....: ",ONC(165.5,D0,25.3)
"RTN","ONCPCI",91,0)
 W !," Presentation at Cancer Conf..: ",ONC(165.5,D0,121)," ",ONC(165.5,D0,120)
"RTN","ONCPCI",92,0)
 W !," Casefinding Source...........: ",ONC(165.5,D0,21)
"RTN","ONCPCI",93,0)
 W !,DASH
"RTN","ONCPCI",94,0)
 K DASH,HIST,HSTFLD,HISTNAM,LEN,LOS,NOP,TXT,TXT1,TXT2,X
"RTN","ONCPCI",95,0)
 Q
"RTN","ONCPCI",96,0)
 ;
"RTN","ONCPCI",97,0)
TXT ;Text formatting
"RTN","ONCPCI",98,0)
 S (TXT1,TXT2)="",LOS=$L(TXT) I LOS<LEN S TXT1=TXT Q
"RTN","ONCPCI",99,0)
 S NOP=$L($E(TXT,1,LEN)," ")
"RTN","ONCPCI",100,0)
 S TXT1=$P(TXT," ",1,NOP-1),TXT2=$P(TXT," ",NOP,999)
"RTN","ONCPCI",101,0)
 Q
"RTN","ONCPCI",102,0)
 ;
"RTN","ONCPCI",103,0)
UCASE ;Mixed case to uppercase conversion
"RTN","ONCPCI",104,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPCI",105,0)
 Q
"RTN","ONCPCI",106,0)
 ;
"RTN","ONCPCI",107,0)
CLEANUP ;Cleanup
"RTN","ONCPCI",108,0)
 K COC,D0,DATEDX,TOP
"RTN","ONCPCS")
0^286^B15624488
"RTN","ONCPCS",1,0)
ONCPCS ;Hines OIFO/GWB - Collaborative Staging display ;11/09/11
"RTN","ONCPCS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPCS",3,0)
 ;
"RTN","ONCPCS",4,0)
 Q:$G(TOP)=""
"RTN","ONCPCS",5,0)
 N DISCRIM,HIST,MO,SCHNAME,SITE
"RTN","ONCPCS",6,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCPCS",7,0)
 S SITE=$TR($$GET1^DIQ(164,TOP,1,"I"),".","")
"RTN","ONCPCS",8,0)
 S HIST=$E(MO,1,4)
"RTN","ONCPCS",9,0)
 S DISCRIM=$$GET1^DIQ(165.5,D0,240)
"RTN","ONCPCS",10,0)
 S SCHEMA=+$$SCHEMA^ONCSAPIS(.ONCSAPI,SITE,HIST,DISCRIM)
"RTN","ONCPCS",11,0)
 I SCHEMA<0 S SCHNAME="Unable to compute schema"
"RTN","ONCPCS",12,0)
 S SCHEMA=SCHNAME
"RTN","ONCPCS",13,0)
 N I,NUM,ONC,SECTION,SSFCNT,SSFLIST
"RTN","ONCPCS",14,0)
 K DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPCS",15,0)
 S SECTION="Collaborative Staging" D SECTION^ONCOAIP
"RTN","ONCPCS",16,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPCS",17,0)
 K ONC
"RTN","ONCPCS",18,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPCS",19,0)
 S DR="29.2;30.2;29.1;31.1;32.1;32;33;34.3;34.31;34.32;34.33;34.34;34.4;44.1:44.999;160;161;162;163;164;165;166;167;168;169;160.7;161.7;162.7;163.7;164.7;165.7;166.7;247;283"
"RTN","ONCPCS",20,0)
 S DA=D0,DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCPCS",21,0)
 I $L(ONC(165.5,D0,32,"I"))=1 S ONC(165.5,D0,32,"I")="0"_ONC(165.5,D0,32,"I")
"RTN","ONCPCS",22,0)
 I $L(ONC(165.5,D0,33,"I"))=1 S ONC(165.5,D0,33,"I")="0"_ONC(165.5,D0,33,"I")
"RTN","ONCPCS",23,0)
 S SSFLIST="",SSFCNT=0
"RTN","ONCPCS",24,0)
 F I=44.1,44.2,44.3,44.4,44.5,44.6,44.7,44.8,44.9,44.101,44.11,44.12,44.13,44.14,44.15,44.16,44.17,44.18,44.19,44.201,44.21,44.22,44.23,44.24,44.25 D
"RTN","ONCPCS",25,0)
 .I ONC(165.5,D0,I,"I")'="",ONC(165.5,D0,I,"I")'=988 S SSFCNT=SSFCNT+1,SSFLIST(SSFCNT)=I
"RTN","ONCPCS",26,0)
 W !," Schema name: ",SCHEMA
"RTN","ONCPCS",27,0)
 W !,DASHES
"RTN","ONCPCS",28,0)
 I ONC(165.5,D0,247,"I")=1 D
"RTN","ONCPCS",29,0)
 .W !," CS Review Required......: ",ONC(165.5,D0,247,"E")
"RTN","ONCPCS",30,0)
 .W !," CS Field Needing Review.: ",ONC(165.5,D0,283,"E")
"RTN","ONCPCS",31,0)
 W !," Tumor Size (CS).........: ",ONC(165.5,D0,29.2,"I"),?35,"AJCC-6 T...........: ",ONC(165.5,D0,160,"E")
"RTN","ONCPCS",32,0)
 W !," Extension (CS)..........: ",ONC(165.5,D0,30.2,"I"),?35,"AJCC-6 T Descriptor: ",ONC(165.5,D0,161,"E")
"RTN","ONCPCS",33,0)
 W !," Tumor Size/Ext Eval (CS): ",ONC(165.5,D0,29.1,"I"),?35,"AJCC-6 N...........: ",ONC(165.5,D0,162,"E")
"RTN","ONCPCS",34,0)
 W !," Lymph Nodes (CS)........: ",ONC(165.5,D0,31.1,"I"),?35,"AJCC-6 N Descriptor: ",ONC(165.5,D0,163,"E")
"RTN","ONCPCS",35,0)
 W !," Lymph Nodes Eval (CS)...: ",ONC(165.5,D0,32.1,"I"),?35,"AJCC-6 M...........: ",ONC(165.5,D0,164,"E")
"RTN","ONCPCS",36,0)
 W !," Regional Nodes Examined.: ",ONC(165.5,D0,33,"I"),?35,"AJCC-6 M Descriptor: ",ONC(165.5,D0,165,"E")
"RTN","ONCPCS",37,0)
 W !," Regional Nodes Positive.: ",ONC(165.5,D0,32,"I"),?35,"AJCC-6 Stage Group.: ",ONC(165.5,D0,166,"E")
"RTN","ONCPCS",38,0)
 W !," Mets at DX (CS).........: ",ONC(165.5,D0,34.3,"I"),?35,"AJCC-7 T...........: ",ONC(165.5,D0,160.7,"E")
"RTN","ONCPCS",39,0)
 W !," Mets at DX-Bone.........: ",ONC(165.5,D0,34.31,"I"),?35,"AJCC-7 T Descriptor: ",ONC(165.5,D0,161.7,"E")
"RTN","ONCPCS",40,0)
 W !," Mets at DX-Brain........: ",ONC(165.5,D0,34.32,"I"),?35,"AJCC-7 N...........: ",ONC(165.5,D0,162.7,"E")
"RTN","ONCPCS",41,0)
 W !," Mets at DX-Liver........: ",ONC(165.5,D0,34.33,"I"),?35,"AJCC-7 N Descriptor: ",ONC(165.5,D0,163.7,"E")
"RTN","ONCPCS",42,0)
 W !," Mets at DX-Lung.........: ",ONC(165.5,D0,34.34,"I"),?35,"AJCC-7 M...........: ",ONC(165.5,D0,164.7,"E")
"RTN","ONCPCS",43,0)
 W !," Mets Eval (CS)..........: ",ONC(165.5,D0,34.4,"I"),?35,"AJCC-7 M Descriptor: ",ONC(165.5,D0,165.7,"E")
"RTN","ONCPCS",44,0)
 ;
"RTN","ONCPCS",45,0)
 S NUM=1 D SSF
"RTN","ONCPCS",46,0)
 W ?35,"AJCC-7 Stage Group.: ",ONC(165.5,D0,166.7,"E")
"RTN","ONCPCS",47,0)
 S NUM=2 D SSF
"RTN","ONCPCS",48,0)
 W ?35,"SS1977.............: ",ONC(165.5,D0,167,"E")
"RTN","ONCPCS",49,0)
 S NUM=3 D SSF
"RTN","ONCPCS",50,0)
 W ?35,"SS2000.............: ",ONC(165.5,D0,168,"E")
"RTN","ONCPCS",51,0)
 S NUM=4 D SSF
"RTN","ONCPCS",52,0)
 W ?35,"CS version.........: ",ONC(165.5,D0,169,"E")
"RTN","ONCPCS",53,0)
 S NUM=5 D SSF
"RTN","ONCPCS",54,0)
 S NUM=6 D SSF
"RTN","ONCPCS",55,0)
 S NUM=7 D SSF
"RTN","ONCPCS",56,0)
 S NUM=8 D SSF
"RTN","ONCPCS",57,0)
 S NUM=9 D SSF
"RTN","ONCPCS",58,0)
 S NUM=10 D SSF
"RTN","ONCPCS",59,0)
 S NUM=11 D SSF
"RTN","ONCPCS",60,0)
 S NUM=12 D SSF
"RTN","ONCPCS",61,0)
 S NUM=13 D SSF
"RTN","ONCPCS",62,0)
 S NUM=14 D SSF
"RTN","ONCPCS",63,0)
 S NUM=15 D SSF
"RTN","ONCPCS",64,0)
 S NUM=16 D SSF
"RTN","ONCPCS",65,0)
 S NUM=17 D SSF
"RTN","ONCPCS",66,0)
 S NUM=18 D SSF
"RTN","ONCPCS",67,0)
 S NUM=19 D SSF
"RTN","ONCPCS",68,0)
 S NUM=20 D SSF
"RTN","ONCPCS",69,0)
 S NUM=21 D SSF
"RTN","ONCPCS",70,0)
 S NUM=22 D SSF
"RTN","ONCPCS",71,0)
 S NUM=23 D SSF
"RTN","ONCPCS",72,0)
 S NUM=24 D SSF
"RTN","ONCPCS",73,0)
 S NUM=25 D SSF
"RTN","ONCPCS",74,0)
 W !,DASHES
"RTN","ONCPCS",75,0)
 Q
"RTN","ONCPCS",76,0)
 ;
"RTN","ONCPCS",77,0)
SSF ;SSF LIST
"RTN","ONCPCS",78,0)
 N DOTS,SSFNUM
"RTN","ONCPCS",79,0)
 I $G(SSFLIST(NUM)) D
"RTN","ONCPCS",80,0)
 .S SSFNUM=$E($P(^DD(165.5,SSFLIST(NUM),0),U,1),4,5)
"RTN","ONCPCS",81,0)
 .S DOTS=$S($L(SSFNUM)=1:"....................: ",1:"...................: ")
"RTN","ONCPCS",82,0)
 .W !," SSF",SSFNUM,DOTS,ONC(165.5,D0,SSFLIST(NUM),"I")
"RTN","ONCPCS",83,0)
 E  I NUM<9 W !
"RTN","ONCPCS",84,0)
 Q
"RTN","ONCPCS",85,0)
 ;
"RTN","ONCPCS",86,0)
CLEANUP ;Cleanup
"RTN","ONCPCS",87,0)
 K D0,SCHEMA,TOP
"RTN","ONCPDI")
0^287^B7465905
"RTN","ONCPDI",1,0)
ONCPDI ;Hines OIFO/GWB - Patient information ;10/07/11
"RTN","ONCPDI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPDI",3,0)
 ;
"RTN","ONCPDI",4,0)
PRT N DI,DIC,DR,DA,DIQ
"RTN","ONCPDI",5,0)
 K ONC
"RTN","ONCPDI",6,0)
 S DIC="^ONCO(160,",DR="7;8;8.1;8.2;8.3;8.4;9;10;25;25.1;25.2;25.3;25.4;25.5;25.6;25.7;25.8;25.9;48;50;51;52;61;55;56;62;63;64;65;66;67;1006;25.91:25.9901"
"RTN","ONCPDI",7,0)
 S DA=D0,DIQ="ONC"
"RTN","ONCPDI",8,0)
 D EN^DIQ1
"RTN","ONCPDI",9,0)
 F I=7,8,8.1,8.2,8.3,8.4,9,10,48,50,51,52,61,55,56,62,63,64,65,66,67 S X=ONC(160,D0,I) D UCASE^ONCPCI S ONC(160,D0,I)=X
"RTN","ONCPDI",10,0)
 W !
"RTN","ONCPDI",11,0)
 W !,"    Place of birth.............: ",ONC(160,D0,7)
"RTN","ONCPDI",12,0)
 W !,"    Race 1.....................: ",ONC(160,D0,8)
"RTN","ONCPDI",13,0)
 W !,"    Race 2.....................: ",ONC(160,D0,8.1)
"RTN","ONCPDI",14,0)
 W !,"    Race 3.....................: ",ONC(160,D0,8.2)
"RTN","ONCPDI",15,0)
 W !,"    Race 4.....................: ",ONC(160,D0,8.3)
"RTN","ONCPDI",16,0)
 W !,"    Race 5.....................: ",ONC(160,D0,8.4)
"RTN","ONCPDI",17,0)
 W !,"    Spanish origin.............: ",ONC(160,D0,9)
"RTN","ONCPDI",18,0)
 W !,"    Sex........................: ",ONC(160,D0,10)
"RTN","ONCPDI",19,0)
 W !,"    Agent Orange exposure......: ",ONC(160,D0,48)
"RTN","ONCPDI",20,0)
 W !,"    Ionizing radiation exposure: ",ONC(160,D0,50)
"RTN","ONCPDI",21,0)
 W !,"    Chemical exposure..........: ",ONC(160,D0,52)
"RTN","ONCPDI",22,0)
 W !,"    Asbestos exposure..........: ",ONC(160,D0,61)
"RTN","ONCPDI",23,0)
 W !,"    Vietnam service............: ",ONC(160,D0,62)
"RTN","ONCPDI",24,0)
 W !,"    Lebanon service............: ",ONC(160,D0,55)
"RTN","ONCPDI",25,0)
 W !,"    Grenada service............: ",ONC(160,D0,63)
"RTN","ONCPDI",26,0)
 W !,"    Panama service.............: ",ONC(160,D0,64)
"RTN","ONCPDI",27,0)
 W !,"    Persian Gulf service.......: ",ONC(160,D0,51)
"RTN","ONCPDI",28,0)
 W !,"    Somalia service............: ",ONC(160,D0,56)
"RTN","ONCPDI",29,0)
 W !,"    Yugoslavia service.........: ",ONC(160,D0,65)
"RTN","ONCPDI",30,0)
 W !,"    Afghanistan (OEF) service..: ",ONC(160,D0,67)
"RTN","ONCPDI",31,0)
 W !,"    Iraq (OIF) service.........: ",ONC(160,D0,66)
"RTN","ONCPDI",32,0)
 Q
"RTN","ONCPDI",33,0)
 ;
"RTN","ONCPDI",34,0)
PH ;Patient History
"RTN","ONCPDI",35,0)
 K ONC S IEN=D0_","
"RTN","ONCPDI",36,0)
 D GETS^DIQ(160,IEN,"38;39;42*;43;44*","","ONC")
"RTN","ONCPDI",37,0)
 F I=38,39,43 S X=ONC(160,D0_",",I) D UCASE^ONCPCI S ONC(160,D0_",",I)=X
"RTN","ONCPDI",38,0)
 W @IOF
"RTN","ONCPDI",39,0)
 S SUB=0 F  S SUB=$O(ONC(160.042,SUB)) Q:SUB'>0  D
"RTN","ONCPDI",40,0)
 .W !,"    Usual Occupation...........: ",ONC(160.042,SUB,.01)
"RTN","ONCPDI",41,0)
 .W !,"    Usual Industry.............: ",ONC(160.042,SUB,3)
"RTN","ONCPDI",42,0)
 .W !
"RTN","ONCPDI",43,0)
 W !,"    Tobacco History............: ",ONC(160,IEN,38)
"RTN","ONCPDI",44,0)
 W !,"    Alcohol History............: ",ONC(160,IEN,39)
"RTN","ONCPDI",45,0)
 W !
"RTN","ONCPDI",46,0)
 W !,"    Family History of Cancer...: ",ONC(160,IEN,43)
"RTN","ONCPDI",47,0)
 S SUB=0 F  S SUB=$O(ONC(160.044,SUB)) Q:SUB'>0  D
"RTN","ONCPDI",48,0)
 .W !,"    Family Member with Cancer..: ",ONC(160.044,SUB,.01),?50,"(",ONC(160.044,SUB,1),")"
"RTN","ONCPDI",49,0)
 W !
"RTN","ONCPDI",50,0)
 K I,IEN,ONC,SUB,X
"RTN","ONCPDI",51,0)
 Q
"RTN","ONCPDI",52,0)
 ;
"RTN","ONCPDI",53,0)
CLEANUP ;Cleanup
"RTN","ONCPDI",54,0)
 K D0
"RTN","ONCPHC")
0^288^B4459971
"RTN","ONCPHC",1,0)
ONCPHC ;Hines OIFO/GWB - OTHER CANCER (165.5,148) ;05/31/02
"RTN","ONCPHC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPHC",3,0)
 ;
"RTN","ONCPHC",4,0)
PHCDEF ;OTHER CANCER (165.5,148) defaults
"RTN","ONCPHC",5,0)
 S SEQNO=+$P(^ONCO(165.5,D0,0),U,6)
"RTN","ONCPHC",6,0)
 S PHCDEF="No"
"RTN","ONCPHC",7,0)
 S PHCDEF(1)="NOT APPLICABLE"
"RTN","ONCPHC",8,0)
 S PHCDEF(2)="NOT APPLICABLE"
"RTN","ONCPHC",9,0)
 S PHCDEF(3)="NOT APPLICABLE"
"RTN","ONCPHC",10,0)
 S PHCDEF(4)="NOT APPLICABLE"
"RTN","ONCPHC",11,0)
 S PRIM=0,PRIMCNT=0
"RTN","ONCPHC",12,0)
 F  S PRIM=$O(^ONCO(165.5,"C",ONCOD0,PRIM)) Q:PRIM'>0  D
"RTN","ONCPHC",13,0)
 .I PRIM=D0 Q
"RTN","ONCPHC",14,0)
 .S PHSEQNO=+$P(^ONCO(165.5,PRIM,0),U,6)
"RTN","ONCPHC",15,0)
 .I (PHSEQNO>SEQNO)!(PHSEQNO=SEQNO) Q
"RTN","ONCPHC",16,0)
 .S PRIMCNT=PRIMCNT+1
"RTN","ONCPHC",17,0)
 .S PHC=$P(^ONCO(165.5,PRIM,0),U,1)
"RTN","ONCPHC",18,0)
 .S PHCDEF(PRIMCNT)=$P(^ONCO(164.2,PHC,0),U,1)
"RTN","ONCPHC",19,0)
 .S PHCDEF="Yes"
"RTN","ONCPHC",20,0)
 S:PHCDEF(1)'="" DIE("PTRIX",165.5,148.1,164.2)="B"
"RTN","ONCPHC",21,0)
 S:PHCDEF(2)'="" DIE("PTRIX",165.5,148.2,164.2)="B"
"RTN","ONCPHC",22,0)
 S:PHCDEF(3)'="" DIE("PTRIX",165.5,148.3,164.2)="B"
"RTN","ONCPHC",23,0)
 S:PHCDEF(4)'="" DIE("PTRIX",165.5,148.4,164.2)="B"
"RTN","ONCPHC",24,0)
 K SEQNO,PRIM,PRIMCNT,PHSEQNO,PHC Q
"RTN","ONCPHC",25,0)
 ;
"RTN","ONCPHC",26,0)
PHCDSP ;OTHER CANCER (165.5,148) display
"RTN","ONCPHC",27,0)
 N HDL
"RTN","ONCPHC",28,0)
 S HDL=$L("Patient Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCPHC",29,0)
 W @IOF,DASHES
"RTN","ONCPHC",30,0)
 W !,?1,PATNAM,?TAB,"Patient Identification",?SITTAB,SITEGP
"RTN","ONCPHC",31,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCPHC",32,0)
 W !,DASHES
"RTN","ONCPHC",33,0)
 W !," OTHER CANCER"
"RTN","ONCPHC",34,0)
 W !," ------------"
"RTN","ONCPHC",35,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPHC",36,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPHC",37,0)
 S DR="148:148.4"
"RTN","ONCPHC",38,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPHC",39,0)
 S X=ONC(165.5,D0,148) D UCASE S ONC(165.5,D0,148)=X
"RTN","ONCPHC",40,0)
 W !," Other Cancer...................: ",ONC(165.5,D0,148)
"RTN","ONCPHC",41,0)
 W !," Cancer #1......................: ",ONC(165.5,D0,148.1)
"RTN","ONCPHC",42,0)
 W !," Cancer #2......................: ",ONC(165.5,D0,148.2)
"RTN","ONCPHC",43,0)
 W !," Cancer #3......................: ",ONC(165.5,D0,148.3)
"RTN","ONCPHC",44,0)
 W !," Cancer #4......................: ",ONC(165.5,D0,148.4)
"RTN","ONCPHC",45,0)
 W !,DASHES
"RTN","ONCPHC",46,0)
 Q
"RTN","ONCPHC",47,0)
 ;
"RTN","ONCPHC",48,0)
UCASE S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPHC",49,0)
 Q
"RTN","ONCPL")
0^289^B3168179
"RTN","ONCPL",1,0)
ONCPL ;Hines OIFO/GWB - ONCOLOGY PROBLEM LIST ;07/14/04
"RTN","ONCPL",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPL",3,0)
 ;
"RTN","ONCPL",4,0)
 K ONCPL,PL
"RTN","ONCPL",5,0)
 N DIR,DPTIEN,ICD,ONS,ONSDT,SAVEY,SUB,X
"RTN","ONCPL",6,0)
 S SAVEY=Y
"RTN","ONCPL",7,0)
 W !
"RTN","ONCPL",8,0)
 W !," Would you like to see a PROBLEM LIST for this patient to assist"
"RTN","ONCPL",9,0)
 S DIR("A")=" you in entering the COMORBIDITY/COMPLICATION #1-10 prompts"
"RTN","ONCPL",10,0)
 S DIR(0)="Y",DIR("B")="Yes" D ^DIR
"RTN","ONCPL",11,0)
 I (Y=0)!(Y="") W ! S Y=SAVEY Q
"RTN","ONCPL",12,0)
 I Y[U S Y=SAVEY Q
"RTN","ONCPL",13,0)
 I $P(^ONCO(160,D0,0),U,1)["LRT" W !!," No PROBLEM LIST for this patient." W ! S Y=SAVEY Q
"RTN","ONCPL",14,0)
 S DPTIEN=$P(^ONCO(160,D0,0),";",1)
"RTN","ONCPL",15,0)
 ;Supported by IA #928
"RTN","ONCPL",16,0)
 D ACTIVE^GMPLUTL(DPTIEN,.ONCPL)
"RTN","ONCPL",17,0)
 I ONCPL(0)=0 W !!," No PROBLEM LIST for this patient." W ! S Y=SAVEY Q
"RTN","ONCPL",18,0)
 S SUB=0 F  S SUB=$O(ONCPL(SUB)) Q:SUB'>0  D
"RTN","ONCPL",19,0)
 .S ICD=$$ICDDX^ICDCODE($P(ONCPL(SUB,2),U,1)) Q:+ICD=-1
"RTN","ONCPL",20,0)
 .S ONS=$P(ONCPL(SUB,3),U,1) S:ONS="" ONS="UNKNOWN"_SUB
"RTN","ONCPL",21,0)
 .S PL(ONS)=$P(ICD,U,2)_U_$P(ICD,U,4)
"RTN","ONCPL",22,0)
 I '$D(PL) W !!," No PROBLEM LIST for this patient." W ! S Y=SAVEY Q
"RTN","ONCPL",23,0)
 W !
"RTN","ONCPL",24,0)
 W !,"DATE OF ONSET","  ","ICD DIAGNOSIS"
"RTN","ONCPL",25,0)
 W !,"-------------  -------------------------------------------"
"RTN","ONCPL",26,0)
 S ONS=0 F  S ONS=$O(PL(ONS)) Q:ONS=""  D
"RTN","ONCPL",27,0)
 .I ONS["UNKNOWN" S ONSDT="UNKNOWN"
"RTN","ONCPL",28,0)
 .I ONS'["UNKNOWN" S Y=ONS D DD^%DT S ONSDT=Y
"RTN","ONCPL",29,0)
 .W !,ONSDT,?15,$P(PL(ONS),U,1),?24,$P(PL(ONS),U,2)
"RTN","ONCPL",30,0)
 W !
"RTN","ONCPL",31,0)
 S Y=SAVEY Q
"RTN","ONCPM")
0^290^B7795122
"RTN","ONCPM",1,0)
ONCPM ;Hines OIFO/GWB Performance Measures ;08/15/11
"RTN","ONCPM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPM",3,0)
 ;
"RTN","ONCPM",4,0)
 N COC,ICDO,SITE,Z
"RTN","ONCPM",5,0)
 N D0,DA,DD,DI,DIC,DIE,DIEL,DINUM,DIR,DK,DL,DLAYGO,DM,DO,DOV,DP,DQ,DR
"RTN","ONCPM",6,0)
 K PCEITC
"RTN","ONCPM",7,0)
 ;Build PCEITC array of eligible topography codes
"RTN","ONCPM",8,0)
 S PCEITC("C18.0")="" ;Cecum
"RTN","ONCPM",9,0)
 S PCEITC("C18.1")="" ;Appendix
"RTN","ONCPM",10,0)
 S PCEITC("C18.2")="" ;Ascending
"RTN","ONCPM",11,0)
 S PCEITC("C18.3")="" ;Hepatic flexure
"RTN","ONCPM",12,0)
 S PCEITC("C18.4")="" ;Transverse
"RTN","ONCPM",13,0)
 S PCEITC("C18.5")="" ;Splenic flexure
"RTN","ONCPM",14,0)
 S PCEITC("C18.6")="" ;Descending
"RTN","ONCPM",15,0)
 S PCEITC("C18.7")="" ;Sigmoid
"RTN","ONCPM",16,0)
 S PCEITC("C18.8")="" ;Overlapping lesion
"RTN","ONCPM",17,0)
 S PCEITC("C18.9")="" ;Colon, NOS
"RTN","ONCPM",18,0)
 S PCEITC("C19.9")="" ;Rectosigmoid junction
"RTN","ONCPM",19,0)
 S PCEITC("C20.9")="" ;Rectum
"RTN","ONCPM",20,0)
 S PCEITC("C34.0")="" ;Main Bronchus
"RTN","ONCPM",21,0)
 S PCEITC("C34.1")="" ;Upper lobe lung
"RTN","ONCPM",22,0)
 S PCEITC("C34.2")="" ;Middle lobe lung
"RTN","ONCPM",23,0)
 S PCEITC("C34.3")="" ;Lower lobe lung
"RTN","ONCPM",24,0)
 S PCEITC("C34.8")="" ;Overlapping lesion of lung
"RTN","ONCPM",25,0)
 S PCEITC("C34.9")="" ;Lung, NOS
"RTN","ONCPM",26,0)
 S PCEITC("C50.0")="" ;Nipple
"RTN","ONCPM",27,0)
 S PCEITC("C50.1")="" ;Central portion breast
"RTN","ONCPM",28,0)
 S PCEITC("C50.2")="" ;Upper-inner quadrant breast
"RTN","ONCPM",29,0)
 S PCEITC("C50.3")="" ;Lower-inner quadrant breast
"RTN","ONCPM",30,0)
 S PCEITC("C50.4")="" ;Upper-outer quadrant breast
"RTN","ONCPM",31,0)
 S PCEITC("C50.5")="" ;Lower-outer quadrant breast
"RTN","ONCPM",32,0)
 S PCEITC("C50.6")="" ;Axillary tail breast
"RTN","ONCPM",33,0)
 S PCEITC("C50.8")="" ;Overlapping lesion breast
"RTN","ONCPM",34,0)
 S PCEITC("C50.9")="" ;Breast, NOS
"RTN","ONCPM",35,0)
 S PCEITC("C61.9")="" ;Prostate
"RTN","ONCPM",36,0)
 ;
"RTN","ONCPM",37,0)
 ;Check PRIMARY SITE  (165.5,2)
"RTN","ONCPM",38,0)
 ;      CLASS OF CASE (165.5,.04)
"RTN","ONCPM",39,0)
 ;      DATE DX       (165.5,3)
"RTN","ONCPM",40,0)
 S SITE=$P($G(^ONCO(165.5,ONCONUM,2)),U,1)
"RTN","ONCPM",41,0)
 S ICDO=0
"RTN","ONCPM",42,0)
 I SITE'="" S ICDO=$P(^ONCO(164,SITE,0),U,2)
"RTN","ONCPM",43,0)
 S COC=$E($$GET1^DIQ(165.5,ONCONUM,.04),1,2)
"RTN","ONCPM",44,0)
 I SITE="" W !!,?10,"There is no PRIMARY SITE for this primary." R Z:10 G EXIT
"RTN","ONCPM",45,0)
 I COC=""  W !!,?10,"There is no CLASS OF CASE for this primary." R Z:10 G EXIT
"RTN","ONCPM",46,0)
 I COC>22  W !!,?10,"CLASS OF CASE = ",COC," (non-anlytic)." R Z:10 G EXIT
"RTN","ONCPM",47,0)
 I DATEDX<3120000 W !!,?10,"DATE DX is before 2012." R Z:10 G EXIT
"RTN","ONCPM",48,0)
 I '$D(PCEITC(ICDO)) W !!,?10,"Performance Measures are not being recorded for this primary site" R Z:10 G EXIT
"RTN","ONCPM",49,0)
 I $E(ICDO,2,3)=34 D ^ONCPML G EXIT
"RTN","ONCPM",50,0)
 I ($E(ICDO,2,3)=18)!($E(ICDO,2,3)=19)!($E(ICDO,2,3)=20) D ^ONCPMC G EXIT
"RTN","ONCPM",51,0)
 I $E(ICDO,2,3)=50 D ^ONCPMB G EXIT
"RTN","ONCPM",52,0)
 I ICDO="C61.9" D ^ONCPMP G EXIT
"RTN","ONCPM",53,0)
 Q
"RTN","ONCPM",54,0)
 ;
"RTN","ONCPM",55,0)
EXIT ;Exit
"RTN","ONCPM",56,0)
 K PCEITC
"RTN","ONCPM",57,0)
 Q
"RTN","ONCPM",58,0)
 ;
"RTN","ONCPM",59,0)
CLEANUP ;Cleanup
"RTN","ONCPM",60,0)
 K DATEDX,ONCONUM
"RTN","ONCPMB")
0^291^B3958592
"RTN","ONCPMB",1,0)
ONCPMB ;Hines OIFO/GWB - BREAST Performance Measures ;09/27/11
"RTN","ONCPMB",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPMB",3,0)
 ;
"RTN","ONCPMB",4,0)
 N DIE,DNT,I,X,Y
"RTN","ONCPMB",5,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPMB",6,0)
 S DNT=$P($G(^ONCO(165.5,ONCONUM,2.1)),U,11)
"RTN","ONCPMB",7,0)
 I DNT'="" D
"RTN","ONCPMB",8,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"BLA2")),U,41)="" $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCPMB",9,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,28)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,28)=0
"RTN","ONCPMB",10,0)
 K DIR D HEAD
"RTN","ONCPMB",11,0)
 S DR=""
"RTN","ONCPMB",12,0)
 S DR(1,165.5,1)="382"
"RTN","ONCPMB",13,0)
 S DR(1,165.5,2)="263"
"RTN","ONCPMB",14,0)
 D ^DIE
"RTN","ONCPMB",15,0)
 W !
"RTN","ONCPMB",16,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCPMB",17,0)
 Q
"RTN","ONCPMB",18,0)
 ;
"RTN","ONCPMB",19,0)
HEAD ;PCE header
"RTN","ONCPMB",20,0)
 W @IOF
"RTN","ONCPMB",21,0)
 W DASHES,!
"RTN","ONCPMB",22,0)
 W ?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCPMB",23,0)
 W !
"RTN","ONCPMB",24,0)
 W ?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCPMB",25,0)
 W !,DASHES
"RTN","ONCPMB",26,0)
 S HDL=$L("Performance Measures for Breast Cancer")
"RTN","ONCPMB",27,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCPMB",28,0)
 W !,?TAB,"Performance Measures for Breast Cancer"
"RTN","ONCPMB",29,0)
 W !,DASHES
"RTN","ONCPMB",30,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPMB",31,0)
 S DA=ONCONUM
"RTN","ONCPMB",32,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPMB",33,0)
 S DR="382;263"
"RTN","ONCPMB",34,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCPMB",35,0)
 F I=382,263 S X=ONC(165.5,ONCONUM,I) D UCASE S ONC(165.5,ONCONUM,I)=X
"RTN","ONCPMB",36,0)
 W !," Reason Chemotherapy Stopped...: ",ONC(165.5,ONCONUM,382)
"RTN","ONCPMB",37,0)
 W !," Reason Hormone Therapy Stopped: ",ONC(165.5,ONCONUM,263)
"RTN","ONCPMB",38,0)
 W !,DASHES
"RTN","ONCPMB",39,0)
 Q
"RTN","ONCPMB",40,0)
 ;
"RTN","ONCPMB",41,0)
UCASE ;Mixed case to uppercase conversion
"RTN","ONCPMB",42,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPMB",43,0)
 Q
"RTN","ONCPMB",44,0)
 ;
"RTN","ONCPMB",45,0)
EXIT ;Kill variables and exit
"RTN","ONCPMB",46,0)
 K HDL,ONCONUM,OUT,TAB
"RTN","ONCPMB",47,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCPMB",48,0)
 Q
"RTN","ONCPMB",49,0)
 ;
"RTN","ONCPMB",50,0)
CLEANUP ;Cleanup
"RTN","ONCPMB",51,0)
 K DASHES,PATNAM,SITEGP,SITTAB,SSN,TOPCOD,TOPNAM,TOPTAB
"RTN","ONCPMB",52,0)
 Q
"RTN","ONCPMC")
0^10^B11238104
"RTN","ONCPMC",1,0)
ONCPMC ;Hines OIFO/GWB - COLON AND RECTUM Performance Measures ;09/26/11
"RTN","ONCPMC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPMC",3,0)
 ;
"RTN","ONCPMC",4,0)
 N DIE,DNT,I,X,Y
"RTN","ONCPMC",5,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPMC",6,0)
 S DNT=$P($G(^ONCO(165.5,ONCONUM,2.1)),U,11)
"RTN","ONCPMC",7,0)
 I DNT'="" D
"RTN","ONCPMC",8,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,13)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,4)=8
"RTN","ONCPMC",9,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,4)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,4)=0
"RTN","ONCPMC",10,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,8)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,8)=0
"RTN","ONCPMC",11,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,9)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,9)=0
"RTN","ONCPMC",12,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"BLA2")),U,41)="" $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCPMC",13,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,3)),U,29)="" $P(^ONCO(165.5,ONCONUM,3),U,29)=0
"RTN","ONCPMC",14,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,12)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,12)=0
"RTN","ONCPMC",15,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,10)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,10)=0
"RTN","ONCPMC",16,0)
 K DIR D HEAD
"RTN","ONCPMC",17,0)
 S DR=""
"RTN","ONCPMC",18,0)
 S DR(1,165.5,1)="270"
"RTN","ONCPMC",19,0)
 S DR(1,165.5,2)="254"
"RTN","ONCPMC",20,0)
 S DR(1,165.5,3)="271"
"RTN","ONCPMC",21,0)
 S DR(1,165.5,4)="258"
"RTN","ONCPMC",22,0)
 S DR(1,165.5,5)="259"
"RTN","ONCPMC",23,0)
 S DR(1,165.5,6)="272"
"RTN","ONCPMC",24,0)
 S DR(1,165.5,7)="382"
"RTN","ONCPMC",25,0)
 S DR(1,165.5,8)="127"
"RTN","ONCPMC",26,0)
 S DR(1,165.5,9)="262"
"RTN","ONCPMC",27,0)
 S DR(1,165.5,10)="260"
"RTN","ONCPMC",28,0)
 S DR(1,165.5,11)="273"
"RTN","ONCPMC",29,0)
 S DR(1,165.5,12)="274"
"RTN","ONCPMC",30,0)
 D ^DIE
"RTN","ONCPMC",31,0)
 W !
"RTN","ONCPMC",32,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCPMC",33,0)
 Q
"RTN","ONCPMC",34,0)
 ;
"RTN","ONCPMC",35,0)
HEAD ;PCE header
"RTN","ONCPMC",36,0)
 W @IOF
"RTN","ONCPMC",37,0)
 W DASHES,!
"RTN","ONCPMC",38,0)
 W ?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCPMC",39,0)
 W !
"RTN","ONCPMC",40,0)
 W ?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCPMC",41,0)
 W !,DASHES
"RTN","ONCPMC",42,0)
 S HDL=$L("Performance Measures for Colorectal Cancer")
"RTN","ONCPMC",43,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCPMC",44,0)
 W !,?TAB,"Performance Measures for Colorectal Cancer"
"RTN","ONCPMC",45,0)
 W !,DASHES
"RTN","ONCPMC",46,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPMC",47,0)
 S DA=ONCONUM
"RTN","ONCPMC",48,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPMC",49,0)
 S DR="270:274;254;258;259;260;382;127;262"
"RTN","ONCPMC",50,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCPMC",51,0)
 F I=270,254,271,258,259,382,127,262,260,273,274 S X=ONC(165.5,ONCONUM,I) D UCASE S ONC(165.5,ONCONUM,I)=X
"RTN","ONCPMC",52,0)
 W !," Preop obstructing lesion......: ",ONC(165.5,ONCONUM,270)
"RTN","ONCPMC",53,0)
 W !," Intent of Surgery.............: ",ONC(165.5,ONCONUM,254)
"RTN","ONCPMC",54,0)
 W !," Oncology referral.............: ",ONC(165.5,ONCONUM,271)
"RTN","ONCPMC",55,0)
 W !," Intent of Chemotherapy........: ",ONC(165.5,ONCONUM,258)
"RTN","ONCPMC",56,0)
 W !," Type of Chemotherapy..........: ",ONC(165.5,ONCONUM,259)
"RTN","ONCPMC",57,0)
 W !," Date Chemotherapy recommended.: ",ONC(165.5,ONCONUM,272)
"RTN","ONCPMC",58,0)
 W !," Reason Chemotherapy Stopped...: ",ONC(165.5,ONCONUM,382)
"RTN","ONCPMC",59,0)
 W !," Intent of Radiation...........: ",ONC(165.5,ONCONUM,127)
"RTN","ONCPMC",60,0)
 W !," Multimodality Radiation Type..: ",ONC(165.5,ONCONUM,262)
"RTN","ONCPMC",61,0)
 W !," Reason Radiation Stopped......: ",ONC(165.5,ONCONUM,260)
"RTN","ONCPMC",62,0)
 W !," Anti-EGFR MoAB Therapy........: ",ONC(165.5,ONCONUM,273)
"RTN","ONCPMC",63,0)
 W !," Perirectal LN Involvement.....: ",ONC(165.5,ONCONUM,274)
"RTN","ONCPMC",64,0)
 W !,DASHES
"RTN","ONCPMC",65,0)
 Q
"RTN","ONCPMC",66,0)
 ;
"RTN","ONCPMC",67,0)
UCASE ;Mixed case to uppercase conversion
"RTN","ONCPMC",68,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPMC",69,0)
 Q
"RTN","ONCPMC",70,0)
 ;
"RTN","ONCPMC",71,0)
EXIT ;Kill variables and exit
"RTN","ONCPMC",72,0)
 K HDL,ONCONUM,OUT,TAB
"RTN","ONCPMC",73,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCPMC",74,0)
 Q
"RTN","ONCPMC",75,0)
 ;
"RTN","ONCPMC",76,0)
CLEANUP ;Cleanup
"RTN","ONCPMC",77,0)
 K DASHES,PATNAM,SITEGP,SITTAB,SSN,TOPCOD,TOPNAM,TOPTAB
"RTN","ONCPMC",78,0)
 Q
"RTN","ONCPML")
0^11^B24254454
"RTN","ONCPML",1,0)
ONCPML ;Hines OIFO/GWB - LUNG Performance Measures ;08/15/11
"RTN","ONCPML",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPML",3,0)
 ;
"RTN","ONCPML",4,0)
 N DIE,DNT,I,X,Y
"RTN","ONCPML",5,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPML",6,0)
 S DNT=$P($G(^ONCO(165.5,ONCONUM,2.1)),U,11)
"RTN","ONCPML",7,0)
 I DNT'="" D
"RTN","ONCPML",8,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,1)=1 $P(^ONCO(165.5,ONCONUM,"PM"),U,2)=8
"RTN","ONCPML",9,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,3)="0000000" $P(^ONCO(165.5,ONCONUM,"PM"),U,4)=0
"RTN","ONCPML",10,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,4)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,4)=0
"RTN","ONCPML",11,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,5)="0000000" $P(^ONCO(165.5,ONCONUM,"PM"),U,6)="0000000"
"RTN","ONCPML",12,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,7)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,8)=0
"RTN","ONCPML",13,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,7)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,9)=0
"RTN","ONCPML",14,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,7)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,11)=8
"RTN","ONCPML",15,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,7)=0 $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCPML",16,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,8)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,8)=0
"RTN","ONCPML",17,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,8)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,9)=0
"RTN","ONCPML",18,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,9)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,9)=0
"RTN","ONCPML",19,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,11)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,11)=8
"RTN","ONCPML",20,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"BLA2")),U,41)="" $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCPML",21,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,3)),U,29)="" $P(^ONCO(165.5,ONCONUM,3),U,29)=0
"RTN","ONCPML",22,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,3)),U,29)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,12)=0
"RTN","ONCPML",23,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,12)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,12)=0
"RTN","ONCPML",24,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,3)),U,29)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,10)=0
"RTN","ONCPML",25,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,10)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,10)=0
"RTN","ONCPML",26,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,14)="0000000" $P(^ONCO(165.5,ONCONUM,"PM"),U,15)="0000000"
"RTN","ONCPML",27,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,14)="0000000" $P(^ONCO(165.5,ONCONUM,"PM"),U,16)="0000000"
"RTN","ONCPML",28,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,17)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,19)=9
"RTN","ONCPML",29,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,17)=0 $P(^ONCO(165.5,ONCONUM,"PM"),U,18)=9
"RTN","ONCPML",30,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,18)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,18)=8
"RTN","ONCPML",31,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,19)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,19)=8
"RTN","ONCPML",32,0)
 K DIR D HEAD
"RTN","ONCPML",33,0)
 S DR=""
"RTN","ONCPML",34,0)
 S DR(1,165.5,1)="251"
"RTN","ONCPML",35,0)
 S DR(1,165.5,2)="252"
"RTN","ONCPML",36,0)
 S DR(1,165.5,3)="253"
"RTN","ONCPML",37,0)
 S DR(1,165.5,4)="254"
"RTN","ONCPML",38,0)
 S DR(1,165.5,5)="255"
"RTN","ONCPML",39,0)
 S DR(1,165.5,6)="256"
"RTN","ONCPML",40,0)
 S DR(1,165.5,7)="257"
"RTN","ONCPML",41,0)
 S DR(1,165.5,8)="258"
"RTN","ONCPML",42,0)
 S DR(1,165.5,9)="259"
"RTN","ONCPML",43,0)
 S DR(1,165.5,10)="261"
"RTN","ONCPML",44,0)
 S DR(1,165.5,11)="382"
"RTN","ONCPML",45,0)
 S DR(1,165.5,12)="127"
"RTN","ONCPML",46,0)
 S DR(1,165.5,13)="262"
"RTN","ONCPML",47,0)
 S DR(1,165.5,14)="260"
"RTN","ONCPML",48,0)
 S DR(1,165.5,15)="264"
"RTN","ONCPML",49,0)
 S DR(1,165.5,16)="265"
"RTN","ONCPML",50,0)
 S DR(1,165.5,17)="266"
"RTN","ONCPML",51,0)
 S DR(1,165.5,18)="267"
"RTN","ONCPML",52,0)
 S DR(1,165.5,19)="268"
"RTN","ONCPML",53,0)
 S DR(1,165.5,29)="269"
"RTN","ONCPML",54,0)
 D ^DIE
"RTN","ONCPML",55,0)
 W !
"RTN","ONCPML",56,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCPML",57,0)
 Q
"RTN","ONCPML",58,0)
 ;
"RTN","ONCPML",59,0)
HEAD ;PCE header
"RTN","ONCPML",60,0)
 W @IOF
"RTN","ONCPML",61,0)
 W DASHES,!
"RTN","ONCPML",62,0)
 W ?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCPML",63,0)
 W !
"RTN","ONCPML",64,0)
 W ?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCPML",65,0)
 W !,DASHES
"RTN","ONCPML",66,0)
 S HDL=$L("Performance Measures for Non-Small Cell Lung Carcinoma")
"RTN","ONCPML",67,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCPML",68,0)
 W !,?TAB,"Performance Measures for Non-Small Cell Lung Carcinoma"
"RTN","ONCPML",69,0)
 W !,DASHES
"RTN","ONCPML",70,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPML",71,0)
 S DA=ONCONUM
"RTN","ONCPML",72,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPML",73,0)
 S DR="127;251:269;382"
"RTN","ONCPML",74,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCPML",75,0)
 F I=251,252,254,257,258,259,260,261,262,267,268,269,382,127 S X=ONC(165.5,ONCONUM,I) D UCASE S ONC(165.5,ONCONUM,I)=X
"RTN","ONCPML",76,0)
 W !," NSLC Stage 1-3 Path LN Staging: ",ONC(165.5,ONCONUM,251)
"RTN","ONCPML",77,0)
 W !," Reason for no LN Biopsy.......: ",ONC(165.5,ONCONUM,252)
"RTN","ONCPML",78,0)
 W !," Date of Surgery Consult.......: ",ONC(165.5,ONCONUM,253)
"RTN","ONCPML",79,0)
 W !," Intent of Surgery.............: ",ONC(165.5,ONCONUM,254)
"RTN","ONCPML",80,0)
 W !," Date Oncology Consult Ordered.: ",ONC(165.5,ONCONUM,255)
"RTN","ONCPML",81,0)
 W !," Date Oncology Consult Done....: ",ONC(165.5,ONCONUM,256)
"RTN","ONCPML",82,0)
 W !," Chemotherapy Recommended......: ",ONC(165.5,ONCONUM,257)
"RTN","ONCPML",83,0)
 W !," Intent of Chemotherapy........: ",ONC(165.5,ONCONUM,258)
"RTN","ONCPML",84,0)
 W !," Type of Chemotherapy..........: ",ONC(165.5,ONCONUM,259)
"RTN","ONCPML",85,0)
 W !," Doc for no Plat-based Chemo...: ",ONC(165.5,ONCONUM,261)
"RTN","ONCPML",86,0)
 W !," Reason Chemotherapy Stopped...: ",ONC(165.5,ONCONUM,382)
"RTN","ONCPML",87,0)
 W !," Intent of Radiation...........: ",ONC(165.5,ONCONUM,127)
"RTN","ONCPML",88,0)
 W !," Multimodality Radiation Type..: ",ONC(165.5,ONCONUM,262)
"RTN","ONCPML",89,0)
 W !," Reason Radiation Stopped......: ",ONC(165.5,ONCONUM,260)
"RTN","ONCPML",90,0)
 W !," Date Hospice Consult Initiated: ",ONC(165.5,ONCONUM,264)
"RTN","ONCPML",91,0)
 W !," Date Hospice Consult Completed: ",ONC(165.5,ONCONUM,265)
"RTN","ONCPML",92,0)
 W !," Date Hospice Care Initiated...: ",ONC(165.5,ONCONUM,266)
"RTN","ONCPML",93,0)
 W !," EGFR Mutation Testing.........: ",ONC(165.5,ONCONUM,267)
"RTN","ONCPML",94,0)
 W !," EGFR Mutation 1...............: ",ONC(165.5,ONCONUM,268)
"RTN","ONCPML",95,0)
 W !," EGFR Mutation 2...............: ",ONC(165.5,ONCONUM,269)
"RTN","ONCPML",96,0)
 W !,DASHES
"RTN","ONCPML",97,0)
 Q
"RTN","ONCPML",98,0)
 ;
"RTN","ONCPML",99,0)
UCASE ;Mixed case to uppercase conversion
"RTN","ONCPML",100,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPML",101,0)
 Q
"RTN","ONCPML",102,0)
 ;
"RTN","ONCPML",103,0)
EXIT ;Kill variables and exit
"RTN","ONCPML",104,0)
 K HDL,ONCONUM,OUT,TAB
"RTN","ONCPML",105,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCPML",106,0)
 Q
"RTN","ONCPML",107,0)
 ;
"RTN","ONCPML",108,0)
CLEANUP ;Cleanup
"RTN","ONCPML",109,0)
 K DASHES,PATNAM,SITEGP,SITTAB,SSN,TOPCOD,TOPNAM,TOPTAB
"RTN","ONCPML",110,0)
 Q
"RTN","ONCPMP")
0^292^B5711304
"RTN","ONCPMP",1,0)
ONCPMP ;Hines OIFO/GWB - PROSTATE Performance Measures ;09/26/11
"RTN","ONCPMP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPMP",3,0)
 ;
"RTN","ONCPMP",4,0)
 N DIE,DNT,I,X,Y
"RTN","ONCPMP",5,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPMP",6,0)
 S DNT=$P($G(^ONCO(165.5,ONCONUM,2.1)),U,11)
"RTN","ONCPMP",7,0)
 I DNT'="" D
"RTN","ONCPMP",8,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,25)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,25)=0
"RTN","ONCPMP",9,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"PM")),U,27)="" $P(^ONCO(165.5,ONCONUM,"PM"),U,27)=0
"RTN","ONCPMP",10,0)
 .S:$P($G(^ONCO(165.5,ONCONUM,"BLA2")),U,41)="" $P(^ONCO(165.5,ONCONUM,"BLA2"),U,41)=0
"RTN","ONCPMP",11,0)
 K DIR D HEAD
"RTN","ONCPMP",12,0)
 S DR=""
"RTN","ONCPMP",13,0)
 S DR(1,165.5,1)="275"
"RTN","ONCPMP",14,0)
 S DR(1,165.5,2)="276"
"RTN","ONCPMP",15,0)
 S DR(1,165.5,3)="277"
"RTN","ONCPMP",16,0)
 S DR(1,165.5,4)="278"
"RTN","ONCPMP",17,0)
 S DR(1,165.5,5)="382"
"RTN","ONCPMP",18,0)
 D ^DIE
"RTN","ONCPMP",19,0)
 W !
"RTN","ONCPMP",20,0)
 K DIR S DIR(0)="E" D ^DIR S:$D(DIRUT) OUT="Y"
"RTN","ONCPMP",21,0)
 Q
"RTN","ONCPMP",22,0)
 ;
"RTN","ONCPMP",23,0)
HEAD ;PCE header
"RTN","ONCPMP",24,0)
 W @IOF
"RTN","ONCPMP",25,0)
 W DASHES,!
"RTN","ONCPMP",26,0)
 W ?1,PATNAM,?SITTAB,SITEGP
"RTN","ONCPMP",27,0)
 W !
"RTN","ONCPMP",28,0)
 W ?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCPMP",29,0)
 W !,DASHES
"RTN","ONCPMP",30,0)
 S HDL=$L("Performance Measures for Cancer of the Prostate")
"RTN","ONCPMP",31,0)
 S TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCPMP",32,0)
 W !,?TAB,"Performance Measures for Cancer of the Prostate"
"RTN","ONCPMP",33,0)
 W !,DASHES
"RTN","ONCPMP",34,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCPMP",35,0)
 S DA=ONCONUM
"RTN","ONCPMP",36,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPMP",37,0)
 S DR="275:278;382"
"RTN","ONCPMP",38,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCPMP",39,0)
 F I=275,276,277,278,382 S X=ONC(165.5,ONCONUM,I) D UCASE S ONC(165.5,ONCONUM,I)=X
"RTN","ONCPMP",40,0)
 W !," Risk of recurrence............: ",ONC(165.5,ONCONUM,275)
"RTN","ONCPMP",41,0)
 W !," Androgen Deprivation Therapy..: ",ONC(165.5,ONCONUM,276)
"RTN","ONCPMP",42,0)
 W !," Date ADT initiated............: ",ONC(165.5,ONCONUM,277)
"RTN","ONCPMP",43,0)
 W !," Non-ADT Chemotherapy..........: ",ONC(165.5,ONCONUM,278)
"RTN","ONCPMP",44,0)
 W !," Reason Chemotherapy Stopped...: ",ONC(165.5,ONCONUM,382)
"RTN","ONCPMP",45,0)
 W !,DASHES
"RTN","ONCPMP",46,0)
 Q
"RTN","ONCPMP",47,0)
 ;
"RTN","ONCPMP",48,0)
UCASE ;Mixed case to uppercase conversion
"RTN","ONCPMP",49,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPMP",50,0)
 Q
"RTN","ONCPMP",51,0)
 ;
"RTN","ONCPMP",52,0)
EXIT ;Kill variables and exit
"RTN","ONCPMP",53,0)
 K HDL,ONCONUM,OUT,TAB
"RTN","ONCPMP",54,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCPMP",55,0)
 Q
"RTN","ONCPMP",56,0)
 ;
"RTN","ONCPMP",57,0)
CLEANUP ;Cleanup
"RTN","ONCPMP",58,0)
 K DASHES,PATNAM,SITEGP,SITTAB,SSN,TOPCOD,TOPNAM,TOPTAB
"RTN","ONCPMP",59,0)
 Q
"RTN","ONCPOS6")
1^380
"RTN","ONCPPC0")
0^293^B4092043
"RTN","ONCPPC0",1,0)
ONCPPC0 ;HIRMFO/GWB - PCE Studies of Prostate Cancer ;3/18/96
"RTN","ONCPPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC0",3,0)
CHECK ;Check PCE eligibility
"RTN","ONCPPC0",4,0)
MENU ;Prostate PCE menu
"RTN","ONCPPC0",5,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="PRO"
"RTN","ONCPPC0",6,0)
 S ^ONCO(165.5,"APCE","PRO",ONCONUM)=""
"RTN","ONCPPC0",7,0)
 K DIR D HEAD
"RTN","ONCPPC0",8,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Stage of Disease;4:First Course of Treatment;5:First Recurrence;6:Subsequent Treatment;7:Status at Last Contact;8:All;9:Print Prostate PCE"
"RTN","ONCPPC0",9,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCPPC0",10,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCPPC0",11,0)
 I Y=8 S OUT="" D  G MENU
"RTN","ONCPPC0",12,0)
 .D ^ONCPPC1 Q:$G(OUT)="Y"
"RTN","ONCPPC0",13,0)
 .D ^ONCPPC2 Q:$G(OUT)="Y"
"RTN","ONCPPC0",14,0)
 .D ^ONCPPC3 Q:$G(OUT)="Y"
"RTN","ONCPPC0",15,0)
 .D ^ONCPPC4 Q:$G(OUT)="Y"
"RTN","ONCPPC0",16,0)
 .D ^ONCPPC5 Q:$G(OUT)="Y"
"RTN","ONCPPC0",17,0)
 .D ^ONCPPC6 Q:$G(OUT)="Y"
"RTN","ONCPPC0",18,0)
 .D ^ONCPPC7 Q:$G(OUT)="Y"
"RTN","ONCPPC0",19,0)
 S SUB="^ONCPPC"_Y D @SUB G MENU
"RTN","ONCPPC0",20,0)
HEAD ;PCE HEADER
"RTN","ONCPPC0",21,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCPPC0",22,0)
 S HDL=$L("Patient Care Evaluation Studies of Cancer of the Prostate"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCPPC0",23,0)
 W !,?TAB,"Patient Care Evaluation Studies of Cancer of the Prostate",!,DASHES
"RTN","ONCPPC0",24,0)
 Q
"RTN","ONCPPC0",25,0)
EXIT ;Kill Variables and Exit.
"RTN","ONCPPC0",26,0)
 K HDL,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCPPC0",27,0)
 K DIC,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCPPC0",28,0)
 Q
"RTN","ONCPPC1")
0^294^B6064815
"RTN","ONCPPC1",1,0)
ONCPPC1 ;Hines OIFO/GWB - PCE Studies of Prostate Cancer ;05/30/00
"RTN","ONCPPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC1",3,0)
 ;Table I
"RTN","ONCPPC1",4,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCPPC1",5,0)
 K TABLE,HTABLE
"RTN","ONCPPC1",6,0)
 S TABLE("ACCESSION/SEQUENCE NUMBER")="ACC"
"RTN","ONCPPC1",7,0)
 S TABLE("CLASS OF CASE")="COC"
"RTN","ONCPPC1",8,0)
 S TABLE("ZIP CODE")="ZIP"
"RTN","ONCPPC1",9,0)
 S TABLE("BIRTHDATE")="DOB"
"RTN","ONCPPC1",10,0)
 S TABLE("RACE")="RACE"
"RTN","ONCPPC1",11,0)
 S TABLE("PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCPPC1",12,0)
 S TABLE("DATE OF ADMISSION")="DOA"
"RTN","ONCPPC1",13,0)
 S TABLE("DATE OF DISCHARGE")="DOD"
"RTN","ONCPPC1",14,0)
 S HTABLE(1)="ACCESSION/SEQUENCE NUMBER"
"RTN","ONCPPC1",15,0)
 S HTABLE(2)="CLASS OF CASE"
"RTN","ONCPPC1",16,0)
 S HTABLE(3)="ZIP CODE"
"RTN","ONCPPC1",17,0)
 S HTABLE(4)="BIRTHDATE"
"RTN","ONCPPC1",18,0)
 S HTABLE(5)="RACE"
"RTN","ONCPPC1",19,0)
 S HTABLE(6)="PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCPPC1",20,0)
 S HTABLE(7)="DATE OF ADMISSION"
"RTN","ONCPPC1",21,0)
 S HTABLE(8)="DATE OF DISCHARGE"
"RTN","ONCPPC1",22,0)
 S CHOICES=8
"RTN","ONCPPC1",23,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;.05;.06",DA=ONCONUM,DIQ="ONC"
"RTN","ONCPPC1",24,0)
 D EN^DIQ1
"RTN","ONCPPC1",25,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCPPC1",26,0)
 S ACCSEQ=ONC(165.5,ONCONUM,.05)_"/"_ONC(165.5,ONCONUM,.06)
"RTN","ONCPPC1",27,0)
 W @IOF D HEAD^ONCPPC0 W !?25,"TABLE I - GENERAL INFORMATION",!
"RTN","ONCPPC1",28,0)
ACC W !,"ACCESSION/SEQUENCE NUMBER.: ",ACCSEQ
"RTN","ONCPPC1",29,0)
COC W !,"CLASS OF CASE.............: ",ONC(165.5,ONCONUM,.04)
"RTN","ONCPPC1",30,0)
ZIP S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC1",31,0)
 S DR="9ZIP CODE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC1",32,0)
DOB W !,"BIRTHDATE.................: ",DOB
"RTN","ONCPPC1",33,0)
RACE S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCPPC1",34,0)
 S DR="8RACE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC1",35,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC1",36,0)
 S DR="18PRIMARY PAYER AT DIAGNOSIS" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC1",37,0)
DOA S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC1",38,0)
 S DR="1DATE OF ADMISSION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC1",39,0)
DOD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC1",40,0)
 S DR="1.1DATE OF DISCHARGE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC1",41,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC1",42,0)
 G EXIT
"RTN","ONCPPC1",43,0)
JUMP ;Jump to prompts
"RTN","ONCPPC1",44,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC1",45,0)
 I X["?" D  G JUMP
"RTN","ONCPPC1",46,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC1",47,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC1",48,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC1",49,0)
 S X=TABLE(X)
"RTN","ONCPPC1",50,0)
 G @X
"RTN","ONCPPC1",51,0)
EXIT K CHOICES,HTABLE,PRINODE0,TABLE
"RTN","ONCPPC1",52,0)
 K ACCSEQ,C,COCEX,COCIN,DOB,CHOICES
"RTN","ONCPPC1",53,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC1",54,0)
 Q
"RTN","ONCPPC2")
0^295^B9874323
"RTN","ONCPPC2",1,0)
ONCPPC2 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table II;7/22/96
"RTN","ONCPPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCPPC2",4,0)
 S TABLE("METHOD OF DIAGNOSIS")="MOD"
"RTN","ONCPPC2",5,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DATEDX"
"RTN","ONCPPC2",6,0)
 S TABLE("DIAGNOSITC INFORMATION")="DI"
"RTN","ONCPPC2",7,0)
 S TABLE("HISTOLOGY (ICD-O)")="HIST"
"RTN","ONCPPC2",8,0)
 S TABLE("DIFFERENTIATION/GRADE")="GRADE"
"RTN","ONCPPC2",9,0)
 S TABLE("GLEASON'S SCORE")="GS"
"RTN","ONCPPC2",10,0)
 S HTABLE(1)="METHOD OF DIAGNOSIS"
"RTN","ONCPPC2",11,0)
 S HTABLE(2)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCPPC2",12,0)
 S HTABLE(3)="DIAGNOSTIC INFORMATION"
"RTN","ONCPPC2",13,0)
 S HTABLE(4)="HISTOLOGY (ICD-O)"
"RTN","ONCPPC2",14,0)
 S HTABLE(5)="DIFFERENTIATION/GRADE"
"RTN","ONCPPC2",15,0)
 S HTABLE(6)="GLEASON'S SCORE"
"RTN","ONCPPC2",16,0)
 S CHOICES=6
"RTN","ONCPPC2",17,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC2",18,0)
 W @IOF D HEAD^ONCPPC0 W !?26,"TABLE II - INITIAL DIAGNOSIS",!
"RTN","ONCPPC2",19,0)
MOD W !,"METHOD OF DIAGNOSIS:",!
"RTN","ONCPPC2",20,0)
 S DR="600  CLINICAL DX WITH BONE LESION" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",21,0)
 S DR="601  CLINICAL DX BY RECTAL EXAM.." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",22,0)
 S DR="602  CYTOLOGY...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",23,0)
 S DR="603  INCIDENTAL FINDING IN TURP.." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",24,0)
 S DR="604  NEEDLE ASPIRATION BIOPSY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",25,0)
 S DR="605  NEEDLE BIOPSY, NOS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",26,0)
 S DR="606  PERINEAL BIOPSY............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",27,0)
 S DR="607  TRANSRECTAL BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",28,0)
 S DR="608  TRUS GUIDED BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",29,0)
 S DR="609  TRANSURETHRAL RESECTION, NOS" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",30,0)
 S DR="610  OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",31,0)
DATEDX S DOID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCPPC2",32,0)
 W !!,"DATE OF INITIAL DIAGNOSIS.....: ",DOID
"RTN","ONCPPC2",33,0)
DI W !!,"DIAGNOSTIC INFORMATION:",!
"RTN","ONCPPC2",34,0)
 S DR="611  BONE MARROW ASPIRATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",35,0)
 S DR="612  BONE SCAN..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",36,0)
 S DR="613  BONE X-RAY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",37,0)
 S DR="614  CHEST X-RAY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",38,0)
 S DR="615  CT SCAN OF PRIMARY SITE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",39,0)
 S DR="616  IVP........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",40,0)
 S DR="617  LIVER SCAN.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",41,0)
 S DR="618  MRI........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",42,0)
 S DR="619  PELVIC LYMPH NODE DISSECTION" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",43,0)
 S DR="620  PAP........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",44,0)
 S DR="621  PSA........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",45,0)
 S DR="622  OTHER......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",46,0)
 W !
"RTN","ONCPPC2",47,0)
HIST S DR="22HISTOLOGY (ICD-O)............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",48,0)
GRADE S DR="24DIFFERENTIATION/GRADE........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",49,0)
GS S DR="623GLEASON'S SCORE..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC2",50,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC2",51,0)
 G EXIT
"RTN","ONCPPC2",52,0)
JUMP ;Jump to prompts
"RTN","ONCPPC2",53,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC2",54,0)
 I X["?" D  G JUMP
"RTN","ONCPPC2",55,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC2",56,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC2",57,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC2",58,0)
 S X=TABLE(X)
"RTN","ONCPPC2",59,0)
 G @X
"RTN","ONCPPC2",60,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCPPC2",61,0)
 K DOID
"RTN","ONCPPC2",62,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC2",63,0)
 Q
"RTN","ONCPPC3")
0^296^B4428720
"RTN","ONCPPC3",1,0)
ONCPPC3 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table III;7/22/96
"RTN","ONCPPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCPPC3",4,0)
 S TABLE("AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCPPC3",5,0)
 S TABLE("CLINICAL STAGED BY")="CSB"
"RTN","ONCPPC3",6,0)
 S TABLE("AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCPPC3",7,0)
 S TABLE("PATHOLOGIC STAGED BY")="PSB"
"RTN","ONCPPC3",8,0)
 S HTABLE(1)="AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCPPC3",9,0)
 S HTABLE(2)="CLINICAL STAGED BY"
"RTN","ONCPPC3",10,0)
 S HTABLE(3)="AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCPPC3",11,0)
 S HTABLE(4)="PATHOLOGIC STAGED BY"
"RTN","ONCPPC3",12,0)
 S CHOICES=4
"RTN","ONCPPC3",13,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC3",14,0)
 W @IOF D HEAD^ONCPPC0 W !?26,"TABLE III - STAGE OF DISEASE",!
"RTN","ONCPPC3",15,0)
ACS W !,"AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCPPC3",16,0)
CTCODE S DR="37.1  T-CODE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",17,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCPPC3",18,0)
CNCODE S DR="37.2  N-CODE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",19,0)
CMCODE S DR="37.3  M-CODE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",20,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCPPC3",21,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCPPC3",22,0)
CSTAGE ;W ! S DR="38  AJCC STAGE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",23,0)
CSB S DR="19  CLINICAL STAGED BY.." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",24,0)
APS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCPPC3",25,0)
PTCODE S DR="85  T-CODE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",26,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCPPC3",27,0)
PNCODE S DR="86  N-CODE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",28,0)
PMCODE S DR="87  M-CODE.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",29,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCPPC3",30,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCPPC3",31,0)
PSTAGE ;W ! S DR="88  AJCC STAGE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",32,0)
PSB S DR="89  PATHOLOGIC STAGED BY" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC3",33,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC3",34,0)
 G EXIT
"RTN","ONCPPC3",35,0)
JUMP ;Jump to prompts
"RTN","ONCPPC3",36,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC3",37,0)
 I X["?" D  G JUMP
"RTN","ONCPPC3",38,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC3",39,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC3",40,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC3",41,0)
 S X=TABLE(X)
"RTN","ONCPPC3",42,0)
 G @X
"RTN","ONCPPC3",43,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCPPC3",44,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC3",45,0)
 Q
"RTN","ONCPPC4")
0^297^B17202238
"RTN","ONCPPC4",1,0)
ONCPPC4 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table IV;7/22/96
"RTN","ONCPPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC4",3,0)
 K TABLE,HTABLE
"RTN","ONCPPC4",4,0)
 S TABLE("SURGERY")="SUR"
"RTN","ONCPPC4",5,0)
 S TABLE("RADIATION THERAPY")="RAD"
"RTN","ONCPPC4",6,0)
 S TABLE("HORMONE THERAPY")="HOR"
"RTN","ONCPPC4",7,0)
 S HTABLE(1)="SURGERY"
"RTN","ONCPPC4",8,0)
 S HTABLE(2)="RADIATON THERAPY"
"RTN","ONCPPC4",9,0)
 S HTABLE(3)="HORMONE THERAPY"
"RTN","ONCPPC4",10,0)
 S CHOICES=3
"RTN","ONCPPC4",11,0)
 W @IOF D HEAD^ONCPPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCPPC4",12,0)
 K ONC S DIC="^ONCO(165.5,",DR="50;51;54;58.1;58.2;58.3;58;74"
"RTN","ONCPPC4",13,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCPPC4",14,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC4",15,0)
SUR W !,"SURGERY:",!
"RTN","ONCPPC4",16,0)
 S NCDS=$E(ONC(165.5,ONCONUM,58.1),1,2),NCDSOT=ONC(165.5,ONCONUM,58.1)
"RTN","ONCPPC4",17,0)
 S CDS=$E(ONC(165.5,ONCONUM,58.2),1,2),CDSOT=ONC(165.5,ONCONUM,58.2)
"RTN","ONCPPC4",18,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCPPC4",19,0)
 .S SURG=NCDSOT,SURGDT=ONC(165.5,ONCONUM,58.3)
"RTN","ONCPPC4",20,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCPPC4",21,0)
 .S SURG=CDSOT,SURGDT=ONC(165.5,ONCONUM,50)
"RTN","ONCPPC4",22,0)
 S (SURG1,SURG2)=""
"RTN","ONCPPC4",23,0)
 S LOS=$L(SURG) I LOS<56 S SURG1=SURG G TOS
"RTN","ONCPPC4",24,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCPPC4",25,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCPPC4",26,0)
TOS W !,"  TYPE OF SURGERY................: ",SURG1
"RTN","ONCPPC4",27,0)
 W:SURG2'="" !,?38,SURG2
"RTN","ONCPPC4",28,0)
 I (SURG1="")!($E(SURG1,1,2)="00") S SURGDT="88/88"
"RTN","ONCPPC4",29,0)
 W !,"  DATE OF SURGERY................: ",SURGDT
"RTN","ONCPPC4",30,0)
 W !,"  REASON FOR NO SURGERY..........: ",ONC(165.5,ONCONUM,58)
"RTN","ONCPPC4",31,0)
 W !,"  SURGICAL APPROACH..............: ",ONC(165.5,ONCONUM,74)
"RTN","ONCPPC4",32,0)
 S DR="624  RESEARCH PROTOCOL.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",33,0)
RAD W !!,"RADIATION THERAPY:",!
"RTN","ONCPPC4",34,0)
 S DR="625  RADIATION THERAPY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",35,0)
 I (X=2)!(X=3)!(X=4) D  G HOR
"RTN","ONCPPC4",36,0)
 .F PIECE=27:1:42 S $P(^ONCO(166.2,ONCONUM,0),U,PIECE)=""
"RTN","ONCPPC4",37,0)
 W !,"  DATE RADIATION THERAPY BEGAN...: ",ONC(165.5,ONCONUM,51)
"RTN","ONCPPC4",38,0)
 S DR="626  INTERSTITIAL RADIATION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",39,0)
 I (X=2)!(X=3)!(X=4) D  G EXTRAD
"RTN","ONCPPC4",40,0)
 .F PIECE=28:1:32 S $P(^ONCO(166.2,ONCONUM,0),U,PIECE)=""
"RTN","ONCPPC4",41,0)
 W !!,"  INTERSTITIAL RADIATION ADMINISTERED:",!
"RTN","ONCPPC4",42,0)
 S DR="627    IODINE 125..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",43,0)
 S DR="628    GOLD 198....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",44,0)
 S DR="629    PALLADIUM 103................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",45,0)
 S DR="630    IRIDIUM 192.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",46,0)
 S DR="631    OTHER INTERSTITIAL, NOS......" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",47,0)
EXTRAD W ! S DR="632  EXTERNAL RADIATION............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",48,0)
 I (X=2)!(X=3)!(X=4) D  G HOR
"RTN","ONCPPC4",49,0)
 .F PIECE=34:1:42 S $P(^ONCO(166.2,ONCONUM,0),U,PIECE)=""
"RTN","ONCPPC4",50,0)
 W !!,"  EXTERNAL RADIATION ADMINISTERED:",!
"RTN","ONCPPC4",51,0)
 S DR="633    PROSTATE REGION ONLY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",52,0)
 S DR="634    PROSTATE/PELVIC NODES........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",53,0)
 S DR="635    PARA-AORTIC NODES............" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",54,0)
 S DR="636    DISTANT METASTATIC SITES....." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",55,0)
 S DR="637    OTHER EXTERNAL SITES, NOS...." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",56,0)
 W !!,"  TOTAL RAD DOSE:",!
"RTN","ONCPPC4",57,0)
 S DR="638    PROSTATE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",58,0)
 S DR="639    PELVIC NODES................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",59,0)
 S DR="640    PARA-AORTIC NODES............" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",60,0)
 W !
"RTN","ONCPPC4",61,0)
 S DR="641  RESEARCH PROTOCOL.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",62,0)
HOR W !!,"HORMONE THERAPY:",!
"RTN","ONCPPC4",63,0)
 S DR="642  HORMONE THERAPY................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",64,0)
 I (X=2)!(X=3)!(X=4) D  G EXIT
"RTN","ONCPPC4",65,0)
 .F PIECE=44:1:49 S $P(^ONCO(166.2,ONCONUM,0),U,PIECE)=""
"RTN","ONCPPC4",66,0)
 W !,"  DATE HORMONE THERAPY BEGAN.....: ",ONC(165.5,ONCONUM,54)
"RTN","ONCPPC4",67,0)
 W !!,"  HORMONES ADMINISTERED:",!
"RTN","ONCPPC4",68,0)
 S DR="643    ESTROGENS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",69,0)
 S DR="644    ANTIANDROGENS................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",70,0)
 S DR="645    PROGESTATIONAL AGENTS........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",71,0)
 S DR="646    LUTEINIZING HORMONE-RELEASING" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",72,0)
 S DR="647    ORCHIECTOMY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",73,0)
 S DR="648    OTHER........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC4",74,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC4",75,0)
 G EXIT
"RTN","ONCPPC4",76,0)
JUMP ;Jump to prompts
"RTN","ONCPPC4",77,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC4",78,0)
 I X["?" D  G JUMP
"RTN","ONCPPC4",79,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC4",80,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC4",81,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC4",82,0)
 S X=TABLE(X)
"RTN","ONCPPC4",83,0)
 G @X
"RTN","ONCPPC4",84,0)
EXIT K CHOICES,PIECE,HTABLE,TABLE
"RTN","ONCPPC4",85,0)
 K CDS,CDSOT,LOS,NCDS,NCDSOT,NOP,SURG,SURG1,SURG2,SURGDT
"RTN","ONCPPC4",86,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC4",87,0)
 Q
"RTN","ONCPPC5")
0^298^B4818379
"RTN","ONCPPC5",1,0)
ONCPPC5 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table V;7/22/96
"RTN","ONCPPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC5",3,0)
 K TABLE,HTABLE
"RTN","ONCPPC5",4,0)
 S TABLE("TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCPPC5",5,0)
 S TABLE("DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCPPC5",6,0)
 S TABLE("METHODS USED TO DIAGNOSE FIRST RECURRENCE")="MUTDFR"
"RTN","ONCPPC5",7,0)
 S HTABLE(1)="TYPE OF FIRST RECURRENCE"
"RTN","ONCPPC5",8,0)
 S HTABLE(2)="DATE OF FIRST RECURRENCE"
"RTN","ONCPPC5",9,0)
 S HTABLE(3)="METHODS USED TO DIAGNOSE FIRST RECURRENCE"
"RTN","ONCPPC5",10,0)
 S CHOICES=3
"RTN","ONCPPC5",11,0)
 W @IOF D HEAD^ONCPPC0 W !?27,"TABLE V - FIRST RECURRENCE",!
"RTN","ONCPPC5",12,0)
 S DIC="^ONCO(165.5,",DR="70",DA=ONCONUM,DIQ="ONCO" D EN^DIQ1
"RTN","ONCPPC5",13,0)
 S TOFR=""
"RTN","ONCPPC5",14,0)
TOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC5",15,0)
 S DR="71TYPE OF FIRST RECURRENCE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",16,0)
 S TOFR=X
"RTN","ONCPPC5",17,0)
DOFR S DR="70DATE OF FIRST RECURRENCE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",18,0)
 I (TOFR=4)!(TOFR=5)!(TOFR=9) D  G PRTC
"RTN","ONCPPC5",19,0)
 .F PIECE=50:1:56 S $P(^ONCO(165.5,ONCONUM,"PRO1"),U,PIECE)=""
"RTN","ONCPPC5",20,0)
MUTDFR W !!,"METHODS USED TO DIAGNOSE FIRST RECURRENCE:",!
"RTN","ONCPPC5",21,0)
 S DR="649  BACKACHE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",22,0)
 S DR="650  BONE SCAN....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",23,0)
 S DR="651  LETHARGY......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",24,0)
 S DR="652  RECTAL EXAM WITH NEEDLE BIOSPY" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",25,0)
 S DR="653  TUMOR MARKER ELEVATION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",26,0)
 S DR="654  WEIGHT LOSS..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",27,0)
 S DR="655  OTHER........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC5",28,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC5",29,0)
 G EXIT
"RTN","ONCPPC5",30,0)
JUMP ;Jump to prompts
"RTN","ONCPPC5",31,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC5",32,0)
 I X["?" D  G JUMP
"RTN","ONCPPC5",33,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC5",34,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC5",35,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC5",36,0)
 S X=TABLE(X)
"RTN","ONCPPC5",37,0)
 G @X
"RTN","ONCPPC5",38,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCPPC5",39,0)
 K PIECE
"RTN","ONCPPC5",40,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC5",41,0)
 Q
"RTN","ONCPPC6")
0^299^B18098095
"RTN","ONCPPC6",1,0)
ONCPPC6 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table VI;7/22/96
"RTN","ONCPPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC6",3,0)
 K TABLE,HTABLE,ONCO
"RTN","ONCPPC6",4,0)
 S TABLE("SURGERY")="SS"
"RTN","ONCPPC6",5,0)
 S TABLE("RADIATION THERAPY")="SRT"
"RTN","ONCPPC6",6,0)
 S TABLE("CHEMOTHERAPY")="SC"
"RTN","ONCPPC6",7,0)
 S TABLE("HORMONE THERAPY")="SHT"
"RTN","ONCPPC6",8,0)
 S HTABLE(1)="SURGERY"
"RTN","ONCPPC6",9,0)
 S HTABLE(2)="RADIATION THERAPY"
"RTN","ONCPPC6",10,0)
 S HTABLE(3)="CHEMOTHERAPY"
"RTN","ONCPPC6",11,0)
 S HTABLE(4)="HORMONE THERAPY"
"RTN","ONCPPC6",12,0)
 S CHOICES=4
"RTN","ONCPPC6",13,0)
 W @IOF D HEAD^ONCPPC0 W !?24,"TABLE VI - SUBSEQUENT TREATMENT",!
"RTN","ONCPPC6",14,0)
RFSCOT S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC6",15,0)
 S DR="656REASON FOR SECOND COURSE OF THERAPY" D ^DIE G:$D(Y) PRTC
"RTN","ONCPPC6",16,0)
ST I $D(^ONCO(165.5,ONCONUM,4,0)) S SCTIEN=0 F  S SCTIEN=$O(^ONCO(165.5,ONCONUM,4,SCTIEN)) Q:SCTIEN'>0  D SS Q:$D(Y)
"RTN","ONCPPC6",17,0)
 K SCTIEN G PRTC
"RTN","ONCPPC6",18,0)
SS K ONC S DIC="^ONCO(165.5,",DR="60",DA=ONCONUM,DIQ="ONC"
"RTN","ONCPPC6",19,0)
 S DR(165.51)=".04;.041;.051;.061;.071",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCPPC6",20,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCPPC6",21,0)
 S LOS=$L(SURG) I LOS<43 S SURG1=SURG G TOS
"RTN","ONCPPC6",22,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCPPC6",23,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCPPC6",24,0)
TOS W !!,"SUBSEQUENT SURGERY #",SCTIEN,":",!
"RTN","ONCPPC6",25,0)
 W !,"TYPE OF SURGERY....................: ",SURG1
"RTN","ONCPPC6",26,0)
 W:SURG2'="" !,?40,SURG2
"RTN","ONCPPC6",27,0)
 W !,"DATE OF SURGERY....................: ",ONC(165.51,SCTIEN,.041)
"RTN","ONCPPC6",28,0)
SRT W !!,"SUBSEQUENT RADIATION THERAPY #",SCTIEN,":",!
"RTN","ONCPPC6",29,0)
 S DIE="^ONCO(165.5,"_ONCONUM_",4,",DA(1)=ONCONUM,DA=SCTIEN
"RTN","ONCPPC6",30,0)
 S DR="16RADIATION THERAPY.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",31,0)
 W !,"DATE RADIATON THERAPY BEGAN........: ",ONC(165.51,SCTIEN,.051)
"RTN","ONCPPC6",32,0)
 W !
"RTN","ONCPPC6",33,0)
 S DR="4INTERSTITIAL RADIATION............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",34,0)
 W !!,"  INTERSTITIAL RADIATION ADMINISTERED:",!
"RTN","ONCPPC6",35,0)
 S DR="5    IODINE 125....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",36,0)
 S DR="6    GOLD 198......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",37,0)
 S DR="7    PALLADIUM 103.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",38,0)
 S DR="8    IRIDIUM 192...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",39,0)
 S DR="9    OTHER INTERSTITIAL, NOS........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",40,0)
 W !
"RTN","ONCPPC6",41,0)
 S DR="10EXTERNAL RADIATION................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",42,0)
 W !!,"  EXTERNAL RADIATION ADMINISTERED:",!
"RTN","ONCPPC6",43,0)
 S DR="11    PROSTATE REGION ONLY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",44,0)
 S DR="12    PROSTATE & PELVIC NODES........" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",45,0)
 S DR="13    PARA-AORTIC NODES.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",46,0)
 S DR="14    DISTANT METASTATIC SITES......." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",47,0)
 S DR="15    OTHER EXTERNAL, NOS............" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",48,0)
 W !!,"  TOTAL RAD DOSE:",!
"RTN","ONCPPC6",49,0)
 S DR="17    PROSTATE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",50,0)
 S DR="18    PELVIC NODES..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",51,0)
 S DR="19    PARA-AORTIC NODES.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",52,0)
SC W !!,"SUBSEQUENT CHEMOTHERAPY #",SCTIEN,":",!
"RTN","ONCPPC6",53,0)
 S DIE="^ONCO(165.5,"_ONCONUM_",4,",DA(1)=ONCONUM,DA=SCTIEN
"RTN","ONCPPC6",54,0)
 S DR="20CHEMOTHERAPY......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",55,0)
 W !,"DATE CHEMOTHERAPY BEGAN............: ",ONC(165.51,SCTIEN,.061)
"RTN","ONCPPC6",56,0)
 W !!,"  DRUGS ADMINISTERED:",!
"RTN","ONCPPC6",57,0)
 S DR="21    ADRIAMYCIN....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",58,0)
 S DR="22    CYTOXAN........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",59,0)
 S DR="23    METHOTREXATE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",60,0)
 S DR="24    FLUOROURACIL..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",61,0)
 S DR="25    OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",62,0)
SHT W !!,"SUBSEQUENT HORMONE THERAPY #",SCTIEN,":",!
"RTN","ONCPPC6",63,0)
 S DIE="^ONCO(165.5,"_ONCONUM_",4,",DA(1)=ONCONUM,DA=SCTIEN
"RTN","ONCPPC6",64,0)
 S DR="26HORMONE THERAPY...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",65,0)
 W !,"DATE HORMONE THERAPY BEGAN.........: ",ONC(165.51,SCTIEN,.071)
"RTN","ONCPPC6",66,0)
 W !!,"  HORMONES ADMINISTERED:",!
"RTN","ONCPPC6",67,0)
 S DR="27    ESTROGENS......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",68,0)
 S DR="28    ANTIANDROGENS.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",69,0)
 S DR="29    PROGESTATIONAL AGENTS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",70,0)
 S DR="30    LUTEINIZING HORMONE-RELEASING.." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",71,0)
 S DR="31    ORCHIECTOMY...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",72,0)
 S DR="32    OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC6",73,0)
 Q
"RTN","ONCPPC6",74,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC6",75,0)
 G EXIT
"RTN","ONCPPC6",76,0)
JUMP ;Jump to prompts
"RTN","ONCPPC6",77,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S Y(1)="",OUT="Y" Q
"RTN","ONCPPC6",78,0)
 I X["?" D  G JUMP
"RTN","ONCPPC6",79,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC6",80,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC6",81,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC6",82,0)
 S X=TABLE(X)
"RTN","ONCPPC6",83,0)
 G @X
"RTN","ONCPPC6",84,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCPPC6",85,0)
 K LOS,NOP,SURG,SURG1,SURG2
"RTN","ONCPPC6",86,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC6",87,0)
 Q
"RTN","ONCPPC7")
0^300^B5416472
"RTN","ONCPPC7",1,0)
ONCPPC7 ;HIRMFO/GWB - PCE Studies of Prostate Cancer - Table VII;7/22/96
"RTN","ONCPPC7",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC7",3,0)
 K TABLE,HTABLE
"RTN","ONCPPC7",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCPPC7",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCPPC7",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCPPC7",7,0)
 S TABLE("AUTOPSY")="A"
"RTN","ONCPPC7",8,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCPPC7",9,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCPPC7",10,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCPPC7",11,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCPPC7",12,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCPPC7",13,0)
 S HTABLE(4)="AUTOPSY"
"RTN","ONCPPC7",14,0)
 S HTABLE(5)="COMPLETED BY"
"RTN","ONCPPC7",15,0)
 S HTABLE(6)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCPPC7",16,0)
 S CHOICES=6
"RTN","ONCPPC7",17,0)
 W @IOF D HEAD^ONCPPC0 W !?23,"TABLE VI - STATUS AT LAST CONTACT",!
"RTN","ONCPPC7",18,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCPPC7",19,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCPPC7",20,0)
 W !,"DATE OF LAST CONTACT OR DEATH: ",DLC
"RTN","ONCPPC7",21,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCPPC7",22,0)
 S DR="15VITAL STATUS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC7",23,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCPPC7",24,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCPPC7",25,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCPPC7",26,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCPPC7",27,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCPPC7",28,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCPPC7",29,0)
 W !,"CANCER STATUS................: ",CS
"RTN","ONCPPC7",30,0)
A S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCPPC7",31,0)
 S DR="22.9AUTOPSY......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC7",32,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC7",33,0)
 S DR="81COMPLETED BY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC7",34,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCPPC7",35,0)
 S DR="82REVIEWED BY CANCER COMMITTEE." D ^DIE G:$D(Y) JUMP
"RTN","ONCPPC7",36,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC7",37,0)
 G EXIT
"RTN","ONCPPC7",38,0)
JUMP ;Jump to prompts
"RTN","ONCPPC7",39,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCPPC7",40,0)
 I X["?" D  G JUMP
"RTN","ONCPPC7",41,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC7",42,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCPPC7",43,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCPPC7",44,0)
 S X=TABLE(X)
"RTN","ONCPPC7",45,0)
 G @X
"RTN","ONCPPC7",46,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCPPC7",47,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCPPC7",48,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCPPC7",49,0)
 Q
"RTN","ONCPPC9")
0^301^B28731845
"RTN","ONCPPC9",1,0)
ONCPPC9 ;Hines OIFO/GWB - PCE Studies of Prostate Cancer ;05/30/00
"RTN","ONCPPC9",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC9",3,0)
 ;Print
"RTN","ONCPPC9",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCPPC9",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPCOD^DASHES^TOPTAB^DATEDX^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCPPC9",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCPPC9",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6)
"RTN","ONCPPC9",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCPPC9",9,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCPPC9",10,0)
 D HDR W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9",11,0)
 S PRINODE0=^ONCO(165.5,ONCONUM,0)
"RTN","ONCPPC9",12,0)
 S ACCSEQ=$P(PRINODE0,U,5)_"/"_$P(PRINODE0,U,6)
"RTN","ONCPPC9",13,0)
 S COCIN=$P(PRINODE0,U,4),Y=COCIN,C=$P(^DD(165.5,.04,0),U,2) D Y^DIQ
"RTN","ONCPPC9",14,0)
 S COCEX=Y,IEN=ONCONUM
"RTN","ONCPPC9",15,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCPPC9",16,0)
 S DIC="^ONCO(160,",DR="15;22.9",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCPPC9",17,0)
 S DIC="^ONCO(165.5,",DR="1;.12;1.1;9;18;19;22;24;37.1;37.2;37.3;38;50;51;54;58.1;58.2;58.3;58;70;71;74;81;82;85;86;87;88;89;600:656"
"RTN","ONCPPC9",18,0)
 S DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCPPC9",19,0)
 W !,"ACCESSION/SEQUENCE NUMBER..........: ",ACCSEQ D P Q:EX=U
"RTN","ONCPPC9",20,0)
 W !,"CLASS OF CASE......................: ",COCEX D P Q:EX=U
"RTN","ONCPPC9",21,0)
 W !,"ZIP CODE...........................: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCPPC9",22,0)
 W !,"BIRTHDATE..........................: ",DOB D P Q:EX=U
"RTN","ONCPPC9",23,0)
 W !,"RACE...............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCPPC9",24,0)
 W !,"PRIMARY PAYER AT DIAGNOSIS.........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCPPC9",25,0)
 W !,"DATE OF ADMISSION..................: ",ONC(165.5,IEN,1) D P Q:EX=U
"RTN","ONCPPC9",26,0)
 W !,"DATE OF DISCHARGE..................: ",ONC(165.5,IEN,1.1)
"RTN","ONCPPC9",27,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCPPC9",28,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9",29,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCPPC9",30,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9",31,0)
 W !?25,TABLE D P Q:EX=U
"RTN","ONCPPC9",32,0)
 W !,"METHOD OF DIAGNOSIS:",! D P Q:EX=U
"RTN","ONCPPC9",33,0)
 W !,"  CLINICAL DX WITH BONE LESION.....: ",ONC(165.5,IEN,600) D P Q:EX=U
"RTN","ONCPPC9",34,0)
 W !,"  CLINICAL DX BY RECTAL EXAM.......: ",ONC(165.5,IEN,601) D P Q:EX=U
"RTN","ONCPPC9",35,0)
 W !,"  CYTOLOGY.........................: ",ONC(165.5,IEN,602) D P Q:EX=U
"RTN","ONCPPC9",36,0)
 W !,"  INCIDENTAL FINDING IN TURP.......: ",ONC(165.5,IEN,603) D P Q:EX=U
"RTN","ONCPPC9",37,0)
 W !,"  NEEDLE ASPIRATION BIOPSY.........: ",ONC(165.5,IEN,604) D P Q:EX=U
"RTN","ONCPPC9",38,0)
 W !,"  NEEDLE BIOPSY, NOS...............: ",ONC(165.5,IEN,605) D P Q:EX=U
"RTN","ONCPPC9",39,0)
 W !,"  PERINEAL BIOPSY..................: ",ONC(165.5,IEN,606) D P Q:EX=U
"RTN","ONCPPC9",40,0)
 W !,"  TRANSRECTAL BIOPSY...............: ",ONC(165.5,IEN,607) D P Q:EX=U
"RTN","ONCPPC9",41,0)
 W !,"  TRUS GUIDED BIOPSY...............: ",ONC(165.5,IEN,608) D P Q:EX=U
"RTN","ONCPPC9",42,0)
 W !,"  TRANSURETHRAL RESECTION, NOS.....: ",ONC(165.5,IEN,609) D P Q:EX=U
"RTN","ONCPPC9",43,0)
 W !,"  OTHER............................: ",ONC(165.5,IEN,610) D P Q:EX=U
"RTN","ONCPPC9",44,0)
 S DOID=$E(DATEDX,4,5)_"/"_$E(DATEDX,6,7)_"/"_(1700+$E(DATEDX,1,3))
"RTN","ONCPPC9",45,0)
 W !!,"DATE OF INITIAL DIAGNOSIS..........: ",DOID
"RTN","ONCPPC9",46,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DI
"RTN","ONCPPC9",47,0)
 D P Q:EX=U
"RTN","ONCPPC9",48,0)
DI W !!,"DIAGNOSTIC INFORMATION:" D P Q:EX=U
"RTN","ONCPPC9",49,0)
 W !,"  BONE MARROW ASPIRATION...........: ",ONC(165.5,IEN,611) D P Q:EX=U
"RTN","ONCPPC9",50,0)
 W !,"  BONE SCAN........................: ",ONC(165.5,IEN,612) D P Q:EX=U
"RTN","ONCPPC9",51,0)
 W !,"  BONE X-RAY.......................: ",ONC(165.5,IEN,613) D P Q:EX=U
"RTN","ONCPPC9",52,0)
 W !,"  CHEST X-RAY......................: ",ONC(165.5,IEN,614) D P Q:EX=U
"RTN","ONCPPC9",53,0)
 W !,"  CT SCAN OF PRIMARY SITE..........: ",ONC(165.5,IEN,615) D P Q:EX=U
"RTN","ONCPPC9",54,0)
 W !,"  IVP..............................: ",ONC(165.5,IEN,616) D P Q:EX=U
"RTN","ONCPPC9",55,0)
 W !,"  LIVER SCAN.......................: ",ONC(165.5,IEN,617) D P Q:EX=U
"RTN","ONCPPC9",56,0)
 W !,"  MRI..............................: ",ONC(165.5,IEN,618) D P Q:EX=U
"RTN","ONCPPC9",57,0)
 W !,"  PELVIC LYMPH NODE DISSECTION.....: ",ONC(165.5,IEN,619) D P Q:EX=U
"RTN","ONCPPC9",58,0)
 W !,"  PAP..............................: ",ONC(165.5,IEN,620) D P Q:EX=U
"RTN","ONCPPC9",59,0)
 W !,"  PSA..............................: ",ONC(165.5,IEN,621) D P Q:EX=U
"RTN","ONCPPC9",60,0)
 W !,"  OTHER............................: ",ONC(165.5,IEN,622) D P Q:EX=U
"RTN","ONCPPC9",61,0)
 W ! D P Q:EX=U
"RTN","ONCPPC9",62,0)
 W !,"HISTOLOGY (ICD-O)..................: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCPPC9",63,0)
 W !,"DIFFERENTIATION/GRADE..............: ",ONC(165.5,IEN,24) D P Q:EX=U
"RTN","ONCPPC9",64,0)
 W !,"GLEASON'S SCORE....................: ",ONC(165.5,IEN,623)
"RTN","ONCPPC9",65,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCPPC9",66,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9",67,0)
III S TABLE="TABLE III - STAGE OF DISEASE"
"RTN","ONCPPC9",68,0)
 I IOST'?1"C".E W ! D:($Y'<(LIN-1)) HDR W ! D:($Y'<(LIN-1)) HDR
"RTN","ONCPPC9",69,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9",70,0)
AJCCCS W !,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCPPC9",71,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCPPC9",72,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCPPC9",73,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCPPC9",74,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCPPC9",75,0)
AJCCPS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCPPC9",76,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCPPC9",77,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCPPC9",78,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCPPC9",79,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,88)
"RTN","ONCPPC9",80,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G SB
"RTN","ONCPPC9",81,0)
 D P Q:EX=U
"RTN","ONCPPC9",82,0)
SB W !!,"STAGED BY:",! D P Q:EX=U
"RTN","ONCPPC9",83,0)
 W !,"CLINICAL STAGE..................: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCPPC9",84,0)
 W !,"PATHOLOGIC STAGE.................: ",ONC(165.5,IEN,89)
"RTN","ONCPPC9",85,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCPPC9",86,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9",87,0)
IV D ^ONCPPC9A
"RTN","ONCPPC9",88,0)
 G KILL
"RTN","ONCPPC9",89,0)
KILL ;Kill Variables and Exit
"RTN","ONCPPC9",90,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,EOT
"RTN","ONCPPC9",91,0)
 Q
"RTN","ONCPPC9",92,0)
P ;Display Data
"RTN","ONCPPC9",93,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W:EOT="N" !?15,TABLE_" (continued)",!
"RTN","ONCPPC9",94,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCPPC9",95,0)
 .D HDR Q
"RTN","ONCPPC9",96,0)
 S EOT="N" Q
"RTN","ONCPPC9",97,0)
TASK ;Queue a task
"RTN","ONCPPC9",98,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCPPC9",99,0)
 S ZTRTN="PRT^ONCPPC9",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCPPC9",100,0)
 S ZTDESC="Print Prostate PCE Data."
"RTN","ONCPPC9",101,0)
 F V3=1:1 S V1=$P(ONCOLST,"^",V3) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCPPC9",102,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCPPC9",103,0)
 K V1,V3,ONCOLST,ZTSK Q
"RTN","ONCPPC9",104,0)
HDR ;Header
"RTN","ONCPPC9",105,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCPPC9",106,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCPPC9",107,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCPPC9",108,0)
 W !?20,"PCE Studies of Cancer of the Prostate"
"RTN","ONCPPC9",109,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCPPC9",110,0)
 Q
"RTN","ONCPPC9A")
0^302^B22989622
"RTN","ONCPPC9A",1,0)
ONCPPC9A ;HIRMFO/GWB - PCE Studies of Prostate Cancer -Print ;8/15/96
"RTN","ONCPPC9A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC9A",3,0)
IV S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCPPC9A",4,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9A",5,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9A",6,0)
 S DIC="^ONCO(165.5,",DR=""
"RTN","ONCPPC9A",7,0)
 W !,"SURGERY:",! D P Q:EX=U
"RTN","ONCPPC9A",8,0)
 S NCDS=$E(ONC(165.5,IEN,58.1),1,2),NCDSOT=ONC(165.5,IEN,58.1)
"RTN","ONCPPC9A",9,0)
 S CDS=$E(ONC(165.5,IEN,58.2),1,2),CDSOT=ONC(165.5,IEN,58.2)
"RTN","ONCPPC9A",10,0)
 I (CDS="")!(CDS="00") D
"RTN","ONCPPC9A",11,0)
 .S SURG=NCDSOT,SURGDT=ONC(165.5,IEN,58.3)
"RTN","ONCPPC9A",12,0)
 I ((CDS'="")&(CDS'="00"))!(NCDS="") D
"RTN","ONCPPC9A",13,0)
 .S SURG=CDSOT,SURGDT=ONC(165.5,IEN,50)
"RTN","ONCPPC9A",14,0)
 S (SURG1,SURG2)=""
"RTN","ONCPPC9A",15,0)
 S LOS=$L(SURG) I LOS<56 S SURG1=SURG G TOS
"RTN","ONCPPC9A",16,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCPPC9A",17,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCPPC9A",18,0)
TOS W !,"  TYPE OF SURGERY...................: ",SURG1 D P Q:EX=U
"RTN","ONCPPC9A",19,0)
 W:SURG2'="" !,?41,SURG2 D P Q:EX=U
"RTN","ONCPPC9A",20,0)
 I (SURG1="")!($E(SURG1,1,2)="00") S SURGDT="88/88"
"RTN","ONCPPC9A",21,0)
 W !,"  DATE OF SURGERY...................: ",SURGDT D P Q:EX=U
"RTN","ONCPPC9A",22,0)
 W !,"  REASON FOR NO SURGERY.............: ",ONC(165.5,IEN,58) D P Q:EX=U
"RTN","ONCPPC9A",23,0)
 W !,"  SURGICAL APPROACH.................: ",ONC(165.5,IEN,74) D P Q:EX=U
"RTN","ONCPPC9A",24,0)
 W !,"  RESEARCH PROTOCOL.................: ",ONC(165.5,IEN,624) D P Q:EX=U
"RTN","ONCPPC9A",25,0)
 W !!,"RADIATION THERAPY:",! D P Q:EX=U
"RTN","ONCPPC9A",26,0)
 W !,"  RADIATION THERAPY.................: ",ONC(165.5,IEN,625) D P Q:EX=U
"RTN","ONCPPC9A",27,0)
 W !,"  DATE RADIATION THERAPY BEGAN......: ",ONC(165.5,IEN,51)
"RTN","ONCPPC9A",28,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G IR
"RTN","ONCPPC9A",29,0)
 D P Q:EX=U
"RTN","ONCPPC9A",30,0)
IR W !,"  INTERSTITIAL RADIATION............: ",ONC(165.5,IEN,626) D P Q:EX=U
"RTN","ONCPPC9A",31,0)
 W !!,"  INTERSTITIAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9A",32,0)
 W !,"    IODINE 125......................: ",ONC(165.5,IEN,627) D P Q:EX=U
"RTN","ONCPPC9A",33,0)
 W !,"    GOLD 198........................: ",ONC(165.5,IEN,628) D P Q:EX=U
"RTN","ONCPPC9A",34,0)
 W !,"    PALLADIUM 103...................: ",ONC(165.5,IEN,629) D P Q:EX=U
"RTN","ONCPPC9A",35,0)
 W !,"    IRIDIUM 192.....................: ",ONC(165.5,IEN,630) D P Q:EX=U
"RTN","ONCPPC9A",36,0)
 W !,"    OTHER INTERSTITIAL, NOS.........: ",ONC(165.5,IEN,631)
"RTN","ONCPPC9A",37,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G ER
"RTN","ONCPPC9A",38,0)
 D P Q:EX=U
"RTN","ONCPPC9A",39,0)
ER W !,"  EXTERNAL RADIATION................: ",ONC(165.5,IEN,632) D P Q:EX=U
"RTN","ONCPPC9A",40,0)
 W !!,"  EXTERNAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9A",41,0)
 W !,"    PROSTATE REGION ONLY............: ",ONC(165.5,IEN,633) D P Q:EX=U
"RTN","ONCPPC9A",42,0)
 W !,"    PROSTATE/PELVIC NODES...........: ",ONC(165.5,IEN,634) D P Q:EX=U
"RTN","ONCPPC9A",43,0)
 W !,"    PARA-AORTIC NODES...............: ",ONC(165.5,IEN,635) D P Q:EX=U
"RTN","ONCPPC9A",44,0)
 W !,"    DISTANT METASTATIC SITES........: ",ONC(165.5,IEN,636) D P Q:EX=U
"RTN","ONCPPC9A",45,0)
 W !,"    OTHER EXTERNAL SITES, NOS.......: ",ONC(165.5,IEN,637)
"RTN","ONCPPC9A",46,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G TRD
"RTN","ONCPPC9A",47,0)
 D P Q:EX=U
"RTN","ONCPPC9A",48,0)
TRD W !!,"  TOTAL RAD DOSE:",! D P Q:EX=U
"RTN","ONCPPC9A",49,0)
 W !,"    PROSTATE........................: ",ONC(165.5,IEN,638) D P Q:EX=U
"RTN","ONCPPC9A",50,0)
 W !,"    PELVIC NODES....................: ",ONC(165.5,IEN,639) D P Q:EX=U
"RTN","ONCPPC9A",51,0)
 W !,"    PARA-AORTIC NODES...............: ",ONC(165.5,IEN,640) D P Q:EX=U
"RTN","ONCPPC9A",52,0)
 W !,"    RESEARCH PROTOCOL...............: ",ONC(165.5,IEN,641)
"RTN","ONCPPC9A",53,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G HT
"RTN","ONCPPC9A",54,0)
 D P Q:EX=U
"RTN","ONCPPC9A",55,0)
HT W !!,"HORMONE THERAPY:",! D P Q:EX=U
"RTN","ONCPPC9A",56,0)
 W !,"  HORMONE THERAPY...................: ",ONC(165.5,IEN,642) D P Q:EX=U
"RTN","ONCPPC9A",57,0)
 W !,"  DATE HORMONE THERAPY BEGAN........: ",ONC(165.5,IEN,54) D P Q:EX=U
"RTN","ONCPPC9A",58,0)
 W !!,"  HORMONES ADMINISTERED:" D P Q:EX=U
"RTN","ONCPPC9A",59,0)
 W ! D P Q:EX=U
"RTN","ONCPPC9A",60,0)
 W !,"    ESTROGENS.......................: ",ONC(165.5,IEN,643) D P Q:EX=U
"RTN","ONCPPC9A",61,0)
 W !,"    ANTIANDROGENS...................: ",ONC(165.5,IEN,644) D P Q:EX=U
"RTN","ONCPPC9A",62,0)
 W !,"    PROGESTATIONAL AGENTS...........: ",ONC(165.5,IEN,645) D P Q:EX=U
"RTN","ONCPPC9A",63,0)
 W !,"    LUTEINIZING HORMONE-RELEASING...: ",ONC(165.5,IEN,646) D P Q:EX=U
"RTN","ONCPPC9A",64,0)
 W !,"    ORCHIECTOMY.....................: ",ONC(165.5,IEN,647) D P Q:EX=U
"RTN","ONCPPC9A",65,0)
 W !,"    OTHER...........................: ",ONC(165.5,IEN,648)
"RTN","ONCPPC9A",66,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 G V
"RTN","ONCPPC9A",67,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9A",68,0)
V S TABLE="TABLE V - FIRST RECURRENCE"
"RTN","ONCPPC9A",69,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9A",70,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9A",71,0)
 W !,"TYPE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCPPC9A",72,0)
 W !,"DATE OF FIRST RECURRENCE............: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCPPC9A",73,0)
 W !!,"METHODS USED TO DIAGNOSE FIRST RECURRENCE:",! D P Q:EX=U
"RTN","ONCPPC9A",74,0)
 W !,"  BACKACHE..........................: ",ONC(165.5,IEN,649) D P Q:EX=U
"RTN","ONCPPC9A",75,0)
 W !,"  BONE SCAN.........................: ",ONC(165.5,IEN,650) D P Q:EX=U
"RTN","ONCPPC9A",76,0)
 W !,"  LETHARGY..........................: ",ONC(165.5,IEN,651) D P Q:EX=U
"RTN","ONCPPC9A",77,0)
 W !,"  RECTAL EXAM WITH NEEDLE BIOSPY....: ",ONC(165.5,IEN,652) D P Q:EX=U
"RTN","ONCPPC9A",78,0)
 W !,"  TUMOR MARKER ELEVATION............: ",ONC(165.5,IEN,653) D P Q:EX=U
"RTN","ONCPPC9A",79,0)
 W !,"  WEIGHT LOSS.......................: ",ONC(165.5,IEN,654) D P Q:EX=U
"RTN","ONCPPC9A",80,0)
 W !,"  OTHER.............................: ",ONC(165.5,IEN,655)
"RTN","ONCPPC9A",81,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 G VI
"RTN","ONCPPC9A",82,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9A",83,0)
VI D ^ONCPPC9B
"RTN","ONCPPC9A",84,0)
KILL ;Kill Variables and Exit
"RTN","ONCPPC9A",85,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN,EOT
"RTN","ONCPPC9A",86,0)
 Q
"RTN","ONCPPC9A",87,0)
P ;Display Data
"RTN","ONCPPC9A",88,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W:EOT="N" !?25,TABLE_" (continued)",!
"RTN","ONCPPC9A",89,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCPPC9A",90,0)
 .D HDR^ONCPPC9 Q
"RTN","ONCPPC9A",91,0)
 S EOT="N" Q
"RTN","ONCPPC9B")
0^303^B27659546
"RTN","ONCPPC9B",1,0)
ONCPPC9B ;HIRMFO/GWB - PCE Studies of Prostate Cancer -Print ;8/15/96
"RTN","ONCPPC9B",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPPC9B",3,0)
VI S TABLE="TABLE VI - SUBSEQUENT TREATMENT"
"RTN","ONCPPC9B",4,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCPPC9B",5,0)
 W !?25,TABLE,! D P Q:EX=U
"RTN","ONCPPC9B",6,0)
 W !,"REASON FOR SECOND COURSE OF THERAPY: ",ONC(165.5,IEN,656) D P Q:EX=U
"RTN","ONCPPC9B",7,0)
ST I $D(^ONCO(165.5,ONCONUM,4,0)) S SCTIEN=0 F  S SCTIEN=$O(^ONCO(165.5,ONCONUM,4,SCTIEN)) Q:SCTIEN'>0  D SCT I IOST?1"C".E Q:'Y
"RTN","ONCPPC9B",8,0)
 I IOST?1"C".E G:'Y KILL
"RTN","ONCPPC9B",9,0)
 G PRTC
"RTN","ONCPPC9B",10,0)
SCT S DIC="^ONCO(165.5,",DR=60,DA=ONCONUM,DIQ="ONC"
"RTN","ONCPPC9B",11,0)
 S DR(165.51)=".01:32",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCPPC9B",12,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCPPC9B",13,0)
 S LOS=$L(SURG) I LOS<43 S SURG1=SURG G SS
"RTN","ONCPPC9B",14,0)
 S NOP=$L($E(SURG,1,42)," ")
"RTN","ONCPPC9B",15,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCPPC9B",16,0)
 I IOST?1"C".E,SCTIEN>1 W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G SS
"RTN","ONCPPC9B",17,0)
 D P Q:EX=U
"RTN","ONCPPC9B",18,0)
SS W !!,"SUBSEQUENT SURGERY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",19,0)
 W !,"TYPE OF SURGERY....................: ",SURG1 D P Q:EX=U
"RTN","ONCPPC9B",20,0)
 W:SURG2'="" !,?40,SURG2 D P Q:EX=U
"RTN","ONCPPC9B",21,0)
 W !,"DATE OF SURGERY....................: ",ONC(165.51,SCTIEN,.041) D P Q:EX=U
"RTN","ONCPPC9B",22,0)
 W !!,"SUBSEQUENT RADIATION THERAPY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",23,0)
 W !,"RADIATION THERAPY..................: ",ONC(165.51,SCTIEN,16) D P Q:EX=U
"RTN","ONCPPC9B",24,0)
 W !,"DATE RADIATON THERAPY BEGAN........: ",ONC(165.51,SCTIEN,.051)
"RTN","ONCPPC9B",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G IR
"RTN","ONCPPC9B",26,0)
 D P Q:EX=U
"RTN","ONCPPC9B",27,0)
IR W !,"INTERSTITIAL RADIATION.............: ",ONC(165.51,SCTIEN,4) D P Q:EX=U
"RTN","ONCPPC9B",28,0)
 W !!,"  INTERSTITIAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",29,0)
 W !,"    IODINE 125.....................: ",ONC(165.51,SCTIEN,5) D P Q:EX=U
"RTN","ONCPPC9B",30,0)
 W !,"    GOLD 198.......................: ",ONC(165.51,SCTIEN,6) D P Q:EX=U
"RTN","ONCPPC9B",31,0)
 W !,"    PALLADIUM 103..................: ",ONC(165.51,SCTIEN,7) D P Q:EX=U
"RTN","ONCPPC9B",32,0)
 W !,"    IRIDIUM 192....................: ",ONC(165.51,SCTIEN,8) D P Q:EX=U
"RTN","ONCPPC9B",33,0)
 W !,"    OTHER INTERSTITIAL, NOS........: ",ONC(165.51,SCTIEN,9)
"RTN","ONCPPC9B",34,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)",! G ER
"RTN","ONCPPC9B",35,0)
 D P Q:EX=U
"RTN","ONCPPC9B",36,0)
ER W !,"EXTERNAL RADIATION.................: ",ONC(165.51,SCTIEN,10) D P Q:EX=U
"RTN","ONCPPC9B",37,0)
 W !!,"  EXTERNAL RADIATION ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",38,0)
 W !,"    PROSTATE REGION ONLY...........: ",ONC(165.51,SCTIEN,11) D P Q:EX=U
"RTN","ONCPPC9B",39,0)
 W !,"    PROSTATE & PELVIC NODES........: ",ONC(165.51,SCTIEN,12) D P Q:EX=U
"RTN","ONCPPC9B",40,0)
 W !,"    PARA-AORTIC NODES..............: ",ONC(165.51,SCTIEN,13) D P Q:EX=U
"RTN","ONCPPC9B",41,0)
 W !,"    DISTANT METASTATIC SITES.......: ",ONC(165.51,SCTIEN,14) D P Q:EX=U
"RTN","ONCPPC9B",42,0)
 W !,"    OTHER EXTERNAL, NOS............: ",ONC(165.51,SCTIEN,15)
"RTN","ONCPPC9B",43,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G TRD
"RTN","ONCPPC9B",44,0)
 D P Q:EX=U
"RTN","ONCPPC9B",45,0)
TRD W !!,"  TOTAL RAD DOSE:",! D P Q:EX=U
"RTN","ONCPPC9B",46,0)
 W !,"    PROSTATE.......................: ",ONC(165.51,SCTIEN,17) D P Q:EX=U
"RTN","ONCPPC9B",47,0)
 W !,"    PELVIC NODES...................: ",ONC(165.51,SCTIEN,18) D P Q:EX=U
"RTN","ONCPPC9B",48,0)
 W !,"    PARA-AORTIC NODES..............: ",ONC(165.51,SCTIEN,19)
"RTN","ONCPPC9B",49,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G SC
"RTN","ONCPPC9B",50,0)
 D P Q:EX=U
"RTN","ONCPPC9B",51,0)
SC W !!,"SUBSEQUENT CHEMOTHERAPY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",52,0)
 W !,"CHEMOTHERAPY.......................: ",ONC(165.51,SCTIEN,20) D P Q:EX=U
"RTN","ONCPPC9B",53,0)
 W !,"DATE CHEMOTHERAPY BEGAN............: ",ONC(165.51,SCTIEN,.061) D P Q:EX=U
"RTN","ONCPPC9B",54,0)
 W !!,"  DRUGS ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",55,0)
 W !,"    ADRIAMYCIN.....................: ",ONC(165.51,SCTIEN,21) D P Q:EX=U
"RTN","ONCPPC9B",56,0)
 W !,"    CYTOXAN........................: ",ONC(165.51,SCTIEN,22) D P Q:EX=U
"RTN","ONCPPC9B",57,0)
 W !,"    METHOTREXATE...................: ",ONC(165.51,SCTIEN,23) D P Q:EX=U
"RTN","ONCPPC9B",58,0)
 W !,"    FLUOROURACIL...................: ",ONC(165.51,SCTIEN,24) D P Q:EX=U
"RTN","ONCPPC9B",59,0)
 W !,"    OTHER..........................: ",ONC(165.51,SCTIEN,25)
"RTN","ONCPPC9B",60,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 W !?15,TABLE_" (continued)" G SHT
"RTN","ONCPPC9B",61,0)
 D P Q:EX=U
"RTN","ONCPPC9B",62,0)
SHT W !!,"SUBSEQUENT HORMONE THERAPY #",SCTIEN,":",! D P Q:EX=U
"RTN","ONCPPC9B",63,0)
 W !,"HORMONE THERAPY....................: ",ONC(165.51,SCTIEN,26) D P Q:EX=U
"RTN","ONCPPC9B",64,0)
 W !,"DATE HORMONE THERAPY BEGAN.........: ",ONC(165.51,SCTIEN,.071) D P Q:EX=U
"RTN","ONCPPC9B",65,0)
 W !!,"  HORMONES ADMINISTERED:",! D P Q:EX=U
"RTN","ONCPPC9B",66,0)
 W !,"    ESTROGENS......................: ",ONC(165.51,SCTIEN,27) D P Q:EX=U
"RTN","ONCPPC9B",67,0)
 W !,"    ANTIANDROGENS..................: ",ONC(165.51,SCTIEN,28) D P Q:EX=U
"RTN","ONCPPC9B",68,0)
 W !,"    PROGESTATIONAL AGENTS..........: ",ONC(165.51,SCTIEN,29) D P Q:EX=U
"RTN","ONCPPC9B",69,0)
 W !,"    LUTEINIZING HORMONE-RELEASING..: ",ONC(165.51,SCTIEN,30) D P Q:EX=U
"RTN","ONCPPC9B",70,0)
 W !,"    ORCHIECTOMY....................: ",ONC(165.51,SCTIEN,31) D P Q:EX=U
"RTN","ONCPPC9B",71,0)
 W !,"    OTHER..........................: ",ONC(165.51,SCTIEN,32)
"RTN","ONCPPC9B",72,0)
 Q
"RTN","ONCPPC9B",73,0)
PRTC I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCPPC9 G VII
"RTN","ONCPPC9B",74,0)
 S EOT="Y" D P Q:EX=U
"RTN","ONCPPC9B",75,0)
VII S TABLE="TABLE VII - STATUS AT LAST CONTACT"
"RTN","ONCPPC9B",76,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCPPC9
"RTN","ONCPPC9B",77,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCPPC9B",78,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCPPC9B",79,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCPPC9B",80,0)
 W !,"DATE OF LAST CONTACT OR DEATH.....: ",DLC
"RTN","ONCPPC9B",81,0)
 W !,"VITAL STATUS......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCPPC9B",82,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCPPC9B",83,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCPPC9B",84,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCPPC9B",85,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCPPC9B",86,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCPPC9B",87,0)
 W !,"CANCER STATUS.....................: ",CS
"RTN","ONCPPC9B",88,0)
 W !,"AUTOPSY...........................: ",$E(ONC(160,ONCOPA,22.9),1,43) D P Q:EX=U
"RTN","ONCPPC9B",89,0)
 W !!,"COMPLETED BY......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCPPC9B",90,0)
 W !,"REVIEWED BY CANCER COMMITTEE......: ",ONC(165.5,IEN,82)
"RTN","ONCPPC9B",91,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCPPC9B",92,0)
KILL ;Kill Variables and Exit
"RTN","ONCPPC9B",93,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCPPC9B",94,0)
 Q
"RTN","ONCPPC9B",95,0)
P ;Display Data
"RTN","ONCPPC9B",96,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W:EOT="N" !?25,TABLE_" (continued)",!
"RTN","ONCPPC9B",97,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCPPC9B",98,0)
 .D HDR^ONCPPC9 Q
"RTN","ONCPPC9B",99,0)
 S EOT="N" Q
"RTN","ONCPRE12")
1^401
"RTN","ONCPRE13")
1^399
"RTN","ONCPRE14")
1^402
"RTN","ONCPRE15")
1^403
"RTN","ONCPRE16")
1^404
"RTN","ONCPRE17")
1^405
"RTN","ONCPRE18")
1^406
"RTN","ONCPRE19")
1^407
"RTN","ONCPRE20")
1^408
"RTN","ONCPRE21")
1^409
"RTN","ONCPRE22")
1^410
"RTN","ONCPRE23")
1^411
"RTN","ONCPRE51")
1^412
"RTN","ONCPRE52")
1^413
"RTN","ONCPRE53")
1^414
"RTN","ONCPRE54")
1^415
"RTN","ONCPRE6")
1^397
"RTN","ONCPRE7")
1^398
"RTN","ONCPREMR")
1^400
"RTN","ONCPS53A")
1^393
"RTN","ONCPS53B")
1^394
"RTN","ONCPS53C")
1^395
"RTN","ONCPS54A")
1^396
"RTN","ONCPSD")
0^304^B6627917
"RTN","ONCPSD",1,0)
ONCPSD ;Hines OIFO/GWB - STAGE OF DISEASE AT DIAGNOSIS PRINT ;10/05/11
"RTN","ONCPSD",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPSD",3,0)
 ;
"RTN","ONCPSD",4,0)
PRT N DIC,DR,DA,DIQ,I,LEN,LOS,NOP,ONC,TXT,TXT1,TXT2,X
"RTN","ONCPSD",5,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPSD",6,0)
 S DR="34;34.1;34.2;35;37;89.1;38;88;19;89;39;149;151;29;30;31;32;33;65;66;25;44;241;242;280"
"RTN","ONCPSD",7,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCPSD",8,0)
 F I=34,34.1,34.2,35,38,88,19,89,39,149,151,29,30,31,32,33,280 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPSD",9,0)
 W !," Tumor Size...................: ",ONC(165.5,D0,29)
"RTN","ONCPSD",10,0)
 S TXT=ONC(165.5,D0,30),LEN=46 D TXT
"RTN","ONCPSD",11,0)
 W !," Extension....................: ",TXT1 W:TXT2'="" !,?32,TXT2
"RTN","ONCPSD",12,0)
 W !," Lymph Nodes..................: ",ONC(165.5,D0,31)
"RTN","ONCPSD",13,0)
 W !," Regional Lymph Nodes Examined: ",ONC(165.5,D0,33)
"RTN","ONCPSD",14,0)
 W !," Regional Lymph Nodes Positive: ",ONC(165.5,D0,32)
"RTN","ONCPSD",15,0)
 W !," SEER Summary Stage 2000......: ",ONC(165.5,D0,35)
"RTN","ONCPSD",16,0)
 W !," Site of Distant Metastasis #1: ",ONC(165.5,D0,34)
"RTN","ONCPSD",17,0)
 W !," Site of Distant Metastasis #2: ",ONC(165.5,D0,34.1)
"RTN","ONCPSD",18,0)
 W !," Site of Distant Metastasis #3: ",ONC(165.5,D0,34.2)
"RTN","ONCPSD",19,0)
 W !," Clinical Stage Discussion....: ",ONC(165.5,D0,280)
"RTN","ONCPSD",20,0)
 W !
"RTN","ONCPSD",21,0)
 W !," Clinical Staging",?22,"TNM edition: ",$$TNMED^ONCOU55(D0),?41,"Pathologic Staging"
"RTN","ONCPSD",22,0)
 W !," ----------------",?41,"------------------"
"RTN","ONCPSD",23,0)
 W !," TNM........: ",ONC(165.5,D0,37)," ",$P($G(^ONCO(165.5,D0,24)),U,5),?41,"TNM........: ",ONC(165.5,D0,89.1)," ",$P($G(^ONCO(165.5,D0,24)),U,5)
"RTN","ONCPSD",24,0)
 W !," Stage Group: ",ONC(165.5,D0,38),$P(ONC(165.5,D0,241),"(",1),?41,"Stage Group: ",ONC(165.5,D0,88),$P(ONC(165.5,D0,242),"(",1)
"RTN","ONCPSD",25,0)
 W !," Staged By..: ",ONC(165.5,D0,19),?41,"Staged By..: ",ONC(165.5,D0,89)
"RTN","ONCPSD",26,0)
 W !
"RTN","ONCPSD",27,0)
 W !," Other Staging System: ",ONC(165.5,D0,39),?41,"TNM Form Assigned..: ",ONC(165.5,D0,25)
"RTN","ONCPSD",28,0)
 W !," Physician's Stage...: ",ONC(165.5,D0,65),?41,"TNM Form Completed.: ",ONC(165.5,D0,44)
"RTN","ONCPSD",29,0)
 W !,DASHES
"RTN","ONCPSD",30,0)
 Q
"RTN","ONCPSD",31,0)
TXT S (TXT1,TXT2)="",LOS=$L(TXT) I LOS<LEN S TXT1=TXT Q
"RTN","ONCPSD",32,0)
 S NOP=$L($E(TXT,1,LEN)," ")
"RTN","ONCPSD",33,0)
 S TXT1=$P(TXT," ",1,NOP-1),TXT2=$P(TXT," ",NOP,999)
"RTN","ONCPSD",34,0)
 Q
"RTN","ONCPSD",35,0)
 ;
"RTN","ONCPSD",36,0)
UCASE S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPSD",37,0)
 Q
"RTN","ONCPSD",38,0)
 ;
"RTN","ONCPSD",39,0)
CLEANUP ;Cleanup
"RTN","ONCPSD",40,0)
 K D0,DASHES
"RTN","ONCPST11")
1^381
"RTN","ONCPST13")
1^382
"RTN","ONCPST15")
1^383
"RTN","ONCPST19")
1^384
"RTN","ONCPST22")
1^385
"RTN","ONCPST40")
1^386
"RTN","ONCPST51")
1^387
"RTN","ONCPST52")
1^388
"RTN","ONCPST53")
1^389
"RTN","ONCPST54")
1^390
"RTN","ONCPST56")
1^391
"RTN","ONCPST57")
1^392
"RTN","ONCPTHST")
0^305^B3958786
"RTN","ONCPTHST",1,0)
ONCPTHST ;Hines OIFO/GWB - PATIENT HISTORY ;10/07/11
"RTN","ONCPTHST",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPTHST",3,0)
 ;
"RTN","ONCPTHST",4,0)
 K DR
"RTN","ONCPTHST",5,0)
 S DIE="^ONCO(160,",DA=ONCOD0,DR=""
"RTN","ONCPTHST",6,0)
 S DR(1,160,1)="42"
"RTN","ONCPTHST",7,0)
 S DR(2,160.042)="S X=X"
"RTN","ONCPTHST",8,0)
 S DR(2,160.042,1)=".01  USUAL OCCUPATION..........."
"RTN","ONCPTHST",9,0)
 S DR(2,160.042,4)="3  USUAL INDUSTRY............."
"RTN","ONCPTHST",10,0)
 S DR(1,160,2)="W !"
"RTN","ONCPTHST",11,0)
 S DR(1,160,3)="38    TOBACCO HISTORY............"
"RTN","ONCPTHST",12,0)
 S DR(1,160,4)="I X'=""Y"" K ^ONCO(160,D0,5) S Y=1007"
"RTN","ONCPTHST",13,0)
 S DR(1,160,5)="W !"
"RTN","ONCPTHST",14,0)
 S DR(1,160,6)="40"
"RTN","ONCPTHST",15,0)
 S DR(2,160.02)="S X=X"
"RTN","ONCPTHST",16,0)
 S DR(2,160.02,1)=".01  TYPE OF TOBACCO USER......."
"RTN","ONCPTHST",17,0)
 S DR(2,160.02,2)="1  PACK-YEARS................."
"RTN","ONCPTHST",18,0)
 S DR(2,160.02,3)="2  YR QUIT TOBACCO USE........"
"RTN","ONCPTHST",19,0)
 S DR(1,160,6.1)="W !"
"RTN","ONCPTHST",20,0)
 S DR(1,160,6.2)="1007    TOBACCO USE CIGARETTE......"
"RTN","ONCPTHST",21,0)
 S DR(1,160,6.3)="1008    TOBACCO USE OTHER SMOKE...."
"RTN","ONCPTHST",22,0)
 S DR(1,160,6.4)="1009    TOBACCO USE SMOKELESS......"
"RTN","ONCPTHST",23,0)
 S DR(1,160,6.5)="1010    TOBACCO USE, NOS..........."
"RTN","ONCPTHST",24,0)
 S DR(1,160,7)="W !"
"RTN","ONCPTHST",25,0)
 S DR(1,160,8)="39    ALCOHOL HISTORY............"
"RTN","ONCPTHST",26,0)
 S DR(1,160,9)="I X'=""Y"" K ^ONCO(160,D0,6) S Y=43"
"RTN","ONCPTHST",27,0)
 S DR(1,160,10)="W !"
"RTN","ONCPTHST",28,0)
 S DR(1,160,11)="41"
"RTN","ONCPTHST",29,0)
 S DR(2,160.041)="S X=X"
"RTN","ONCPTHST",30,0)
 S DR(2,160.041,1)=".01  TYPE OF ALCOHOL USER......."
"RTN","ONCPTHST",31,0)
 S DR(2,160.041,2)="1  YRS OF ALCOHOL USE........."
"RTN","ONCPTHST",32,0)
 S DR(2,160.041,3)="2  DRINKS PER DAY............."
"RTN","ONCPTHST",33,0)
 S DR(2,160.041,4)="3  YR QUIT DRINKING..........."
"RTN","ONCPTHST",34,0)
 S DR(1,160,12)="W !"
"RTN","ONCPTHST",35,0)
 S DR(1,160,13)="43    FAMILY HISTORY OF CANCER..."
"RTN","ONCPTHST",36,0)
 S DR(1,160,14)="I X=1 S Y=""@44"""
"RTN","ONCPTHST",37,0)
 S DR(1,160,15)="K ^ONCO(160,DA,9)"
"RTN","ONCPTHST",38,0)
 S DR(1,160,16)="S Y="""""
"RTN","ONCPTHST",39,0)
 S DR(1,160,17)="@44"
"RTN","ONCPTHST",40,0)
 S DR(1,160,18)="W !"
"RTN","ONCPTHST",41,0)
 S DR(1,160,19)="44"
"RTN","ONCPTHST",42,0)
 S DR(2,160.044)="S X=X"
"RTN","ONCPTHST",43,0)
 S DR(2,160.044,1)=".01  FAMILY MEMBER WITH CANCER.."
"RTN","ONCPTHST",44,0)
 S DR(2,160.044,2)="1  CANCER....................."
"RTN","ONCPTHST",45,0)
 D ^DIE
"RTN","ONCPTHST",46,0)
 K DR
"RTN","ONCPTHST",47,0)
 Q
"RTN","ONCPTHST",48,0)
 ;
"RTN","ONCPTHST",49,0)
CLEANUP ;Cleanup
"RTN","ONCPTHST",50,0)
 K DA,DIE,ONCOD0
"RTN","ONCPTX")
0^306^B84842424
"RTN","ONCPTX",1,0)
ONCPTX ;Hines OIFO/GWB - First Course of Treatment ;10/05/11
"RTN","ONCPTX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCPTX",3,0)
 ;
"RTN","ONCPTX",4,0)
 N DATEDX
"RTN","ONCPTX",5,0)
 S DATEDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCPTX",6,0)
 ;
"RTN","ONCPTX",7,0)
NCDS ;Surgical Diagnostic and Staging Procedure
"RTN","ONCPTX",8,0)
 N COC,TXDT
"RTN","ONCPTX",9,0)
 S COC=$E($$GET1^DIQ(165.5,D0,.04,"E"),1,2)
"RTN","ONCPTX",10,0)
 I COC=38 D
"RTN","ONCPTX",11,0)
 .S $P(^ONCO(165.5,D0,3),U,27)="00"
"RTN","ONCPTX",12,0)
 .S $P(^ONCO(165.5,D0,3.1),U,5)="00"
"RTN","ONCPTX",13,0)
 .S $P(^ONCO(165.5,D0,3),U,31)="0000000"
"RTN","ONCPTX",14,0)
 .S $P(^ONCO(165.5,D0,3.1),U,6)="0000000"
"RTN","ONCPTX",15,0)
 .S:$P($G(^ONCO(165.5,D0,0)),U,16)>3091239 $P(^ONCO(165.5,D0,2.3),U,5)=0
"RTN","ONCPTX",16,0)
 .I $P(^ONCO(165.5,D0,2.1),U,11)'="" D
"RTN","ONCPTX",17,0)
 ..S TXDT=$P(^ONCO(165.5,D0,2.1),U,11)_"N"
"RTN","ONCPTX",18,0)
 ..S $P(^ONCO(165.5,D0,2.1),U,11)=""
"RTN","ONCPTX",19,0)
 ..K ^ONCO(165.5,"ATX",D0,TXDT)
"RTN","ONCPTX",20,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",21,0)
 N DA,DI,DIC,DIQ,DR K ONC
"RTN","ONCPTX",22,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",23,0)
 S DR="58.1;58.3;58.4;58.5;235;124"
"RTN","ONCPTX",24,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",25,0)
 F I=58.1,58.4,235 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",26,0)
 D FST^ONCOAIP
"RTN","ONCPTX",27,0)
 W !," SURGICAL DIAGNOSTIC AND STAGING PROCEDURE"
"RTN","ONCPTX",28,0)
 W !," -----------------------------------------"
"RTN","ONCPTX",29,0)
 S TXT=ONC(165.5,D0,58.1),LEN=38 D TXT
"RTN","ONCPTX",30,0)
 W !," Surgical Dx/Staging Proc.....: ",$E(ONC(165.5,D0,58.3),1,6)_$E(ONC(165.5,D0,58.3),9,10),?41,TXT1
"RTN","ONCPTX",31,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",32,0)
 S TXT=ONC(165.5,D0,58.4),LEN=38 D TXT
"RTN","ONCPTX",33,0)
 W !," Surg Dx/Staging Proc @fac....: ",$E(ONC(165.5,D0,58.5),1,6)_$E(ONC(165.5,D0,58.5),9,10),?41,TXT1
"RTN","ONCPTX",34,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",35,0)
 W:DATEDX>3091231 !!," Treatment Status.............: ",ONC(165.5,D0,235)
"RTN","ONCPTX",36,0)
 W:ONC(165.5,D0,124)'="" !," Date of No Treatment.........: ",ONC(165.5,D0,124)
"RTN","ONCPTX",37,0)
 W !,DASHES
"RTN","ONCPTX",38,0)
 I COC=38 D ^ONCOCC
"RTN","ONCPTX",39,0)
 D EXIT
"RTN","ONCPTX",40,0)
 Q
"RTN","ONCPTX",41,0)
 ;
"RTN","ONCPTX",42,0)
ROADS ;Surgical Procedures (ROADS)
"RTN","ONCPTX",43,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",44,0)
 N DI,DIC,DR,DA,DIQ K ONC
"RTN","ONCPTX",45,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",46,0)
 S DR="50;58.6;50.3;58.7;59;138:138.5;139:139.5;435;14;58;23;74;58.2;50.2;140;140.1"
"RTN","ONCPTX",47,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",48,0)
 F I=58.6,58.7,59,138,138.1,138.4,138.5,139,139.1,139.4,139.5,435,14,58,23,74,58.2,50.2,140,140.1 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",49,0)
 D FST^ONCOAIP
"RTN","ONCPTX",50,0)
 ;W !," SURGICAL PROCEDURES (ROADS)"
"RTN","ONCPTX",51,0)
 W !," Pre-2003 cases require the following ROADS surgery items to be coded:"
"RTN","ONCPTX",52,0)
 W !,DASHES
"RTN","ONCPTX",53,0)
 S TXT=ONC(165.5,D0,58.2),LEN=48 D TXT
"RTN","ONCPTX",54,0)
 W !," Surgery of primary........(R): ",TXT1 W:TXT2'="" !?32,TXT2
"RTN","ONCPTX",55,0)
 W !," Surgical Approach.........(R): ",ONC(165.5,DA,74)
"RTN","ONCPTX",56,0)
 S TXT=ONC(165.5,D0,50.2),LEN=48 D TXT
"RTN","ONCPTX",57,0)
 W !," Surgery of primary @fac...(R): ",TXT1 W:TXT2'="" !?32,TXT2
"RTN","ONCPTX",58,0)
 S TXT=ONC(165.5,D0,138),LEN=48 D TXT
"RTN","ONCPTX",59,0)
 W !," Scope of ln surgery.......(R): ",TXT1 W:TXT2'="" !?32,TXT2
"RTN","ONCPTX",60,0)
 W !," Number of LN removed..... (R): ",ONC(165.5,D0,140)
"RTN","ONCPTX",61,0)
 S TXT=ONC(165.5,D0,138.1),LEN=48 D TXT
"RTN","ONCPTX",62,0)
 W !," Scope of ln surgery @fac..(R): ",TXT1 W:TXT2'="" !?32,TXT2
"RTN","ONCPTX",63,0)
 W !," Number of LN removed @fac.(R): ",ONC(165.5,D0,140.1)
"RTN","ONCPTX",64,0)
 S TXT=ONC(165.5,D0,139),LEN=48 D TXT
"RTN","ONCPTX",65,0)
 W !," Surg proc/other site......(R): ",TXT1 W:TXT2'="" !?32,TXT2
"RTN","ONCPTX",66,0)
 S TXT=ONC(165.5,D0,139.1),LEN=48 D TXT
"RTN","ONCPTX",67,0)
 W !," Surg proc/other site @fac.(R): ",TXT1 W:TXT2'="" !?32,TXT2
"RTN","ONCPTX",68,0)
 W !,DASHES
"RTN","ONCPTX",69,0)
 D EXIT
"RTN","ONCPTX",70,0)
 Q
"RTN","ONCPTX",71,0)
 ;
"RTN","ONCPTX",72,0)
FORDS ;Surgical Procedures (FORDS)
"RTN","ONCPTX",73,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",74,0)
 S TOPX=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCPTX",75,0)
 I (TOPX=67420)!(TOPX=67421)!(TOPX=67423)!(TOPX=67424)!($E(TOPX,3,4)=76)!(TOPX=67809) D
"RTN","ONCPTX",76,0)
 .S $P(^ONCO(165.5,D0,3.1),U,29)=1
"RTN","ONCPTX",77,0)
 .S $P(^ONCO(165.5,D0,3),U,1)="0000000"
"RTN","ONCPTX",78,0)
 N DI,DIC,DR,DA,DIQ K ONC
"RTN","ONCPTX",79,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",80,0)
 S DR="50;58.6;50.3;58.7;59;138:138.5;139:139.7;435;14;58;23;74;58.2;50.2;140;140.1;170;46;47;228;229;230;231;232;234;281"
"RTN","ONCPTX",81,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",82,0)
 F I=58.6,58.7,59,138,138.1,138.4,138.5,139,139.1,139.4,139.5,139.6,435,14,58,23,74,58.2,50.2,140,140.1,234,46,47,281 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",83,0)
 D FST^ONCOAIP
"RTN","ONCPTX",84,0)
 ;W !," SURGICAL PROCEDURES (FORDS)"
"RTN","ONCPTX",85,0)
 ;W !," ---------------------------"
"RTN","ONCPTX",86,0)
 S TXT=ONC(165.5,D0,58.6),LEN=38 D TXT
"RTN","ONCPTX",87,0)
 W !," Surgery of primary........(F): ",$E(ONC(165.5,D0,50),1,6)_$E(ONC(165.5,D0,50),9,10),?41,TXT1
"RTN","ONCPTX",88,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",89,0)
 S TXT=ONC(165.5,D0,58.7),LEN=38 D TXT
"RTN","ONCPTX",90,0)
 W !," Surgery of primary @fac...(F): ",$E(ONC(165.5,D0,50.3),1,6)_$E(ONC(165.5,D0,50.3),9,10),?41,TXT1
"RTN","ONCPTX",91,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",92,0)
 W !," Surgical margins.............: ",ONC(165.5,DA,59)
"RTN","ONCPTX",93,0)
 W:DATEDX>3091231 !," Approach.....................: ",ONC(165.5,DA,234)
"RTN","ONCPTX",94,0)
 S TXT=ONC(165.5,D0,138.4),LEN=38 D TXT
"RTN","ONCPTX",95,0)
 W !," Scope of ln surgery.......(F): ",$E(ONC(165.5,D0,138.2),1,6)_$E(ONC(165.5,D0,138.2),9,10),?41,TXT1
"RTN","ONCPTX",96,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",97,0)
 S TXT=ONC(165.5,D0,138.5),LEN=38 D TXT
"RTN","ONCPTX",98,0)
 W !," Scope of ln surgery @fac..(F): ",$E(ONC(165.5,D0,138.3),1,6)_$E(ONC(165.5,D0,138.3),9,10),?41,TXT1
"RTN","ONCPTX",99,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",100,0)
 S TXT=ONC(165.5,D0,139.4),LEN=38 D TXT
"RTN","ONCPTX",101,0)
 W !," Surg proc/other site......(F): ",$E(ONC(165.5,D0,139.2),1,6)_$E(ONC(165.5,D0,139.2),9,10),?41,TXT1
"RTN","ONCPTX",102,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",103,0)
 S TXT=ONC(165.5,D0,139.6),LEN=38 D TXT
"RTN","ONCPTX",104,0)
 W !," METS site resected...........: ",$E(ONC(165.5,D0,139.7),1,6)_$E(ONC(165.5,D0,139.7),9,10),?41,TXT1
"RTN","ONCPTX",105,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",106,0)
 S TXT=ONC(165.5,D0,139.5),LEN=38 D TXT
"RTN","ONCPTX",107,0)
 W !," Surg proc/other site @fac.(F): ",$E(ONC(165.5,D0,139.3),1,6)_$E(ONC(165.5,D0,139.3),9,10),?41,TXT1
"RTN","ONCPTX",108,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",109,0)
 W !," Date First Surgical Procedure: ",$E(ONC(165.5,D0,170),1,6)_$E(ONC(165.5,D0,170),9,10)
"RTN","ONCPTX",110,0)
 S TXT=ONC(165.5,D0,23),LEN=38 D TXT
"RTN","ONCPTX",111,0)
 W:DATEDX<3030000 !," Reconstruction/restoration...: ",TXT1
"RTN","ONCPTX",112,0)
 W:TXT2'="" !?41,TXT2
"RTN","ONCPTX",113,0)
 W !," Date of surgical discharge...: ",$E(ONC(165.5,D0,435),1,6)_$E(ONC(165.5,D0,435),9,10)
"RTN","ONCPTX",114,0)
 W !," Readmission w/i 30 days/surg.: ",ONC(165.5,D0,14)
"RTN","ONCPTX",115,0)
 W !," Reason no surgery of primary.: ",ONC(165.5,D0,58)
"RTN","ONCPTX",116,0)
 W !," CAP Protocol Review..........: ",ONC(165.5,D0,46)
"RTN","ONCPTX",117,0)
 W:ONC(165.5,D0,46)="FAILED" !," CAP Text.....................: ",ONC(165.5,D0,47)
"RTN","ONCPTX",118,0)
 W !," Tx Guidelines Discussion.....: ",ONC(165.5,D0,281)
"RTN","ONCPTX",119,0)
 S TXGL=""
"RTN","ONCPTX",120,0)
 I ONC(165.5,D0,228)'="" S TXGL=ONC(165.5,D0,228)
"RTN","ONCPTX",121,0)
 I ONC(165.5,D0,229)'="" S TXGL=TXGL_"/"_ONC(165.5,D0,229)
"RTN","ONCPTX",122,0)
 I ONC(165.5,D0,230)'="" S TXGL=TXGL_"/"_ONC(165.5,D0,230)
"RTN","ONCPTX",123,0)
 W !," Treatment Guideline(s).......: ",TXGL
"RTN","ONCPTX",124,0)
 W:TXGL'="" !," Treatment Guideline Location.: ",ONC(165.5,D0,231)
"RTN","ONCPTX",125,0)
 W:TXGL'="" !," Treatment Guideline Doc Date.: ",ONC(165.5,D0,232)
"RTN","ONCPTX",126,0)
 W !,DASHES
"RTN","ONCPTX",127,0)
 D EXIT
"RTN","ONCPTX",128,0)
 Q
"RTN","ONCPTX",129,0)
 ;
"RTN","ONCPTX",130,0)
RAD ;Radiation
"RTN","ONCPTX",131,0)
 D FST^ONCOAIP
"RTN","ONCPTX",132,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",133,0)
 ;W !," RADIATION"
"RTN","ONCPTX",134,0)
 ;W !," ---------"
"RTN","ONCPTX",135,0)
 N DI,DIC,DR,DA,DIQ K ONC
"RTN","ONCPTX",136,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",137,0)
 S DR="51;51.2;51.3;51.4;51.5;56;75;125;126;363;442;363.1;443;361"
"RTN","ONCPTX",138,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",139,0)
 F I=51.2,126,125,363,363.1,56,51.3,51.4,75,442,443 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",140,0)
 W !," Radiation....................: ",ONC(165.5,DA,51.2)
"RTN","ONCPTX",141,0)
 W !," Date radiation started.......: ",ONC(165.5,DA,51)
"RTN","ONCPTX",142,0)
 W !," Radiation @fac...............: ",ONC(165.5,DA,51.5)," ",ONC(165.5,DA,51.4)
"RTN","ONCPTX",143,0)
 W !," Location of radiation tx.....: ",ONC(165.5,DA,126)
"RTN","ONCPTX",144,0)
 W !," Radiation treatment volume...: ",ONC(165.5,DA,125)
"RTN","ONCPTX",145,0)
 W !," Regional treatment modality..: ",ONC(165.5,DA,363)
"RTN","ONCPTX",146,0)
 W !," Regional dose:cGy............: ",ONC(165.5,DA,442)
"RTN","ONCPTX",147,0)
 W !," Boost treatment modality.....: ",ONC(165.5,DA,363.1)
"RTN","ONCPTX",148,0)
 W !," Boost dose:cGy...............: ",ONC(165.5,DA,443)
"RTN","ONCPTX",149,0)
 W !," Number of txs to this volume.: ",ONC(165.5,DA,56)
"RTN","ONCPTX",150,0)
 W !," Radiation/surgery sequence...: ",ONC(165.5,DA,51.3)
"RTN","ONCPTX",151,0)
 W !," Date radiation ended.........: ",ONC(165.5,DA,361)
"RTN","ONCPTX",152,0)
 W !," Reason for no radiation......: ",ONC(165.5,DA,75)
"RTN","ONCPTX",153,0)
 W !,DASHES
"RTN","ONCPTX",154,0)
 D EXIT
"RTN","ONCPTX",155,0)
 Q
"RTN","ONCPTX",156,0)
 ;
"RTN","ONCPTX",157,0)
ST ;Systemic Therapy
"RTN","ONCPTX",158,0)
 D FST^ONCOAIP
"RTN","ONCPTX",159,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",160,0)
 ;W !," SYSTEMIC THERAPY"
"RTN","ONCPTX",161,0)
 ;W !," ----------------"
"RTN","ONCPTX",162,0)
 N DI,DIC,DR,DA,DIQ K ONC
"RTN","ONCPTX",163,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",164,0)
 S DR="152;53;53.2;53.3;53.4;54;54.2;54.3;54.4;55;55.2;55.3;55.4;153;153.1;15;1423:1423.4"
"RTN","ONCPTX",165,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",166,0)
 F I=53.2,53.3,54.2,54.3,55.2,55.3,153,15 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",167,0)
 W !," Date systemic therapy started.: ",ONC(165.5,DA,152)
"RTN","ONCPTX",168,0)
 W !," Chemotherapy..................: ",ONC(165.5,DA,53)," ",$E(ONC(165.5,DA,53.2),1,34)
"RTN","ONCPTX",169,0)
 W !," Chemotherapy @fac.............: ",ONC(165.5,DA,53.4)," ",$E(ONC(165.5,DA,53.3),1,34)
"RTN","ONCPTX",170,0)
 W:ONC(165.5,DA,1423)'="" !," Chemotherapeutic agent #1.....: ",ONC(165.5,DA,1423)
"RTN","ONCPTX",171,0)
 W:ONC(165.5,DA,1423.1)'="" !," Chemotherapeutic agent #2.....: ",ONC(165.5,DA,1423.1)
"RTN","ONCPTX",172,0)
 W:ONC(165.5,DA,1423.2)'="" !," Chemotherapeutic agent #3.....: ",ONC(165.5,DA,1423.2)
"RTN","ONCPTX",173,0)
 W:ONC(165.5,DA,1423.3)'="" !," Chemotherapeutic agent #4.....: ",ONC(165.5,DA,1423.3)
"RTN","ONCPTX",174,0)
 W:ONC(165.5,DA,1423.4)'="" !," Chemotherapeutic agent #5.....: ",ONC(165.5,DA,1423.4)
"RTN","ONCPTX",175,0)
 W !," Hormone therapy...............: ",ONC(165.5,DA,54)," ",$E(ONC(165.5,DA,54.2),1,34)
"RTN","ONCPTX",176,0)
 W !," Hormone therapy @fac..........: ",ONC(165.5,DA,54.4)," ",$E(ONC(165.5,DA,54.3),1,34)
"RTN","ONCPTX",177,0)
 W !," Immunotherapy.................: ",ONC(165.5,DA,55)," ",$E(ONC(165.5,DA,55.2),1,34)
"RTN","ONCPTX",178,0)
 W !," Immunotherapy @fac............: ",ONC(165.5,DA,55.4)," ",$E(ONC(165.5,DA,55.3),1,34)
"RTN","ONCPTX",179,0)
 W !," Hema Trans/Endocrine Proc.....: ",ONC(165.5,DA,153.1)," ",$E(ONC(165.5,DA,153),1,34)
"RTN","ONCPTX",180,0)
 W:DATEDX>3051231 !," Systemic/Surgery Sequence.....: ",ONC(165.5,DA,15)
"RTN","ONCPTX",181,0)
 W !,DASHES
"RTN","ONCPTX",182,0)
 D EXIT
"RTN","ONCPTX",183,0)
 Q
"RTN","ONCPTX",184,0)
 ;
"RTN","ONCPTX",185,0)
OTH ;Other Treatment
"RTN","ONCPTX",186,0)
 D FST^ONCOAIP
"RTN","ONCPTX",187,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",188,0)
 ;W !," OTHER TREATMENT"
"RTN","ONCPTX",189,0)
 ;W !," ---------------"
"RTN","ONCPTX",190,0)
 N DI,DIC,DR,DA,DIQ K ONC
"RTN","ONCPTX",191,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",192,0)
 S DR="57;57.2;57.3;57.4"
"RTN","ONCPTX",193,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",194,0)
 F I=57,57.2,57.3,57.4 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",195,0)
 W !," Other treatment...............: ",ONC(165.5,DA,57)," ",ONC(165.5,DA,57.2)
"RTN","ONCPTX",196,0)
 W !," Other treatment @fac..........: ",ONC(165.5,DA,57.4)," ",ONC(165.5,DA,57.3)
"RTN","ONCPTX",197,0)
 W !,DASHES
"RTN","ONCPTX",198,0)
 D EXIT
"RTN","ONCPTX",199,0)
 Q
"RTN","ONCPTX",200,0)
 ;
"RTN","ONCPTX",201,0)
PRO ;Palliative Care/Protocol Participation
"RTN","ONCPTX",202,0)
 D FST^ONCOAIP
"RTN","ONCPTX",203,0)
 N DASHES S $P(DASHES,"-",80)="-"
"RTN","ONCPTX",204,0)
 ;W !," PALLIATIVE CARE/PROTOCOL PARTICIPATION"
"RTN","ONCPTX",205,0)
 ;W !," -------------------------------------------"
"RTN","ONCPTX",206,0)
 N DI,DIC,DR,DA,DIQ K ONC
"RTN","ONCPTX",207,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCPTX",208,0)
 S DR="133;560;154;12;13;346;279"
"RTN","ONCPTX",209,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCPTX",210,0)
 F I=560,154,12,13,346,279 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCPTX",211,0)
 W !," Palliative care...............: ",ONC(165.5,DA,12)
"RTN","ONCPTX",212,0)
 W !," Palliative care @fac..........: ",ONC(165.5,DA,13)
"RTN","ONCPTX",213,0)
 W !
"RTN","ONCPTX",214,0)
 W !," Clinical Trials Discussion....: "_ONC(165.5,DA,279)
"RTN","ONCPTX",215,0)
 W !
"RTN","ONCPTX",216,0)
 W !," Protocol eligibility status...: "_ONC(165.5,DA,346)
"RTN","ONCPTX",217,0)
 W !," Protocol participation........: "_ONC(165.5,DA,560)
"RTN","ONCPTX",218,0)
 W !," Year put on protocol..........: "_ONC(165.5,DA,133)
"RTN","ONCPTX",219,0)
 W !,DASHES
"RTN","ONCPTX",220,0)
 D EXIT
"RTN","ONCPTX",221,0)
 Q
"RTN","ONCPTX",222,0)
 ;
"RTN","ONCPTX",223,0)
TXT ;Text formatting
"RTN","ONCPTX",224,0)
 N LOS,NOP
"RTN","ONCPTX",225,0)
 S (TXT1,TXT2)="",LOS=$L(TXT) I LOS<LEN S TXT1=TXT Q
"RTN","ONCPTX",226,0)
 S NOP=$L($E(TXT,1,LEN)," ")
"RTN","ONCPTX",227,0)
 S TXT1=$P(TXT," ",1,NOP-1),TXT2=$P(TXT," ",NOP,999)
"RTN","ONCPTX",228,0)
 Q
"RTN","ONCPTX",229,0)
 ;
"RTN","ONCPTX",230,0)
UCASE ;Mixed case to upper case conversion
"RTN","ONCPTX",231,0)
 S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCPTX",232,0)
 Q
"RTN","ONCPTX",233,0)
 ;
"RTN","ONCPTX",234,0)
EXIT ;KILL local varibles
"RTN","ONCPTX",235,0)
 K I,LEN,ONC,TOPX,TXGL,TXT,TXT1,TXT2,X
"RTN","ONCPTX",236,0)
 Q
"RTN","ONCPTX",237,0)
 ;
"RTN","ONCPTX",238,0)
CLEANUP ;Cleanup
"RTN","ONCPTX",239,0)
 K D0
"RTN","ONCRESTG")
0^307^B5694007
"RTN","ONCRESTG",1,0)
ONCRESTG ;Hines OIFO/GWB - Restage 2003+ cases ;07/10/09
"RTN","ONCRESTG",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCRESTG",3,0)
 ;
"RTN","ONCRESTG",4,0)
 ;Check T version
"RTN","ONCRESTG",5,0)
 ;S VER=$T(LOGO+3^ONCODIS)
"RTN","ONCRESTG",6,0)
 ;S VER=$E(VER,29)
"RTN","ONCRESTG",7,0)
 ;I VER>1 K VER Q
"RTN","ONCRESTG",8,0)
 ;
"RTN","ONCRESTG",9,0)
 N D0,RESTAGE,XDT
"RTN","ONCRESTG",10,0)
 S RESTAGE="YES"
"RTN","ONCRESTG",11,0)
 W !!," Restaging 2003+ cases"
"RTN","ONCRESTG",12,0)
 S XDT=3030000 F CNT=1:1 S XDT=$O(^ONCO(165.5,"ADX",XDT)) Q:XDT=""  S D0=0 F  S D0=$O(^ONCO(165.5,"ADX",XDT,D0)) Q:D0=""  D RESTAGE W:CNT#100=0 "."
"RTN","ONCRESTG",13,0)
 Q
"RTN","ONCRESTG",14,0)
 ;
"RTN","ONCRESTG",15,0)
RESTAGE ;Restage 6th Edition cases
"RTN","ONCRESTG",16,0)
 S STGIND="P"
"RTN","ONCRESTG",17,0)
 S (ONCED,ONCOED)=6
"RTN","ONCRESTG",18,0)
 S DA=D0
"RTN","ONCRESTG",19,0)
 S XX=$G(^ONCO(165.5,D0,2))
"RTN","ONCRESTG",20,0)
 Q:XX=""
"RTN","ONCRESTG",21,0)
 S ST=$P(^ONCO(165.5,D0,0),U,1)
"RTN","ONCRESTG",22,0)
 S G=$P(^ONCO(165.5,D0,2),U,5)
"RTN","ONCRESTG",23,0)
 S TX=$P(^ONCO(165.5,D0,2),U,1)
"RTN","ONCRESTG",24,0)
 S HT=$$HIST^ONCFUNC(D0)
"RTN","ONCRESTG",25,0)
 S SP=$P($G(^ONCO(164,+TX,0)),U,11)
"RTN","ONCRESTG",26,0)
 S XXX=$G(^ONCO(165.5,D0,2.1))
"RTN","ONCRESTG",27,0)
 S T=$P(XXX,U,1)
"RTN","ONCRESTG",28,0)
 S N=$P(XXX,U,2)
"RTN","ONCRESTG",29,0)
 S M=$P(XXX,U,3)
"RTN","ONCRESTG",30,0)
 S CM=$P($G(^ONCO(165.5,D0,2)),U,27)
"RTN","ONCRESTG",31,0)
 Q:M=CM
"RTN","ONCRESTG",32,0)
 I (T'="X")!(N'="X"),$E(M,1)'=1 S M=$S(CM="X":M,1:CM)
"RTN","ONCRESTG",33,0)
 E  Q
"RTN","ONCRESTG",34,0)
 Q:(T="")!(N="")!(M="")
"RTN","ONCRESTG",35,0)
 I T=88,N=88,M=88 Q
"RTN","ONCRESTG",36,0)
 ;
"RTN","ONCRESTG",37,0)
 ;Melanoma of the Eyelid (C44.1)
"RTN","ONCRESTG",38,0)
 I TX=67441,ONCED<5,$$MELANOMA^ONCOU55(D0) S AG=37 G AG
"RTN","ONCRESTG",39,0)
 ;
"RTN","ONCRESTG",40,0)
 ;Melanoma of the Skin
"RTN","ONCRESTG",41,0)
 I $$MELANOMA^ONCOU55(D0),$P($G(^ONCO(164,+TX,0)),U,15) S AG=22 G AG
"RTN","ONCRESTG",42,0)
 ;
"RTN","ONCRESTG",43,0)
 ;GTT
"RTN","ONCRESTG",44,0)
 I TX=67589 S AG=54 G AG
"RTN","ONCRESTG",45,0)
 ;
"RTN","ONCRESTG",46,0)
 ;Urethra (C68.9)
"RTN","ONCRESTG",47,0)
 ;Urothelial (Transitional Cell) Carcinoma of the Prostate
"RTN","ONCRESTG",48,0)
 I ONCED>4,TX=67619,(HT=81203)!(HT=81303)!(HT=81223)!(HT=81202) D  G AG
"RTN","ONCRESTG",49,0)
 .S AG=35
"RTN","ONCRESTG",50,0)
 ;
"RTN","ONCRESTG",51,0)
 ;Melanoma of the Conjunctiva
"RTN","ONCRESTG",52,0)
 I $$MELANOMA^ONCOU55(D0),TX=67690 S AG=39 G AG
"RTN","ONCRESTG",53,0)
 ;
"RTN","ONCRESTG",54,0)
 ;Melanoma of the Uvea
"RTN","ONCRESTG",55,0)
 I $$MELANOMA^ONCOU55(D0),((TX=67693)!(TX=67694)) S AG=40 G AG
"RTN","ONCRESTG",56,0)
 ;
"RTN","ONCRESTG",57,0)
 ;Lymphoid Neoplasms
"RTN","ONCRESTG",58,0)
 ;Mycosis fungoides (9700/3)
"RTN","ONCRESTG",59,0)
 ;Sezary Disease    (9701/3)
"RTN","ONCRESTG",60,0)
 I ONCED>5,(HT=97003)!(HT=97013) S AG=55 G AG
"RTN","ONCRESTG",61,0)
 ;
"RTN","ONCRESTG",62,0)
 S AG=$P($G(^ONCO(164,+TX,0)),U,12)
"RTN","ONCRESTG",63,0)
 ;
"RTN","ONCRESTG",64,0)
AG ;DO staging subroutine
"RTN","ONCRESTG",65,0)
 S SG=99
"RTN","ONCRESTG",66,0)
 I T=88,N=88,M=88 S SG=88 G SG
"RTN","ONCRESTG",67,0)
 D @(AG_"^ONCOTN0")
"RTN","ONCRESTG",68,0)
 ;
"RTN","ONCRESTG",69,0)
SG ;Computed stage
"RTN","ONCRESTG",70,0)
 S $P(^ONCO(165.5,D0,2.1),U,4)=SG
"RTN","ONCRESTG",71,0)
 I SG'="" S X=SG D KSG^ONCOCRC,PSSG^ONCOCRC
"RTN","ONCRESTG",72,0)
CHKSUM ;Recompute checksum
"RTN","ONCRESTG",73,0)
 I $P($G(^ONCO(165.5,D0,7)),U,2)=3 D
"RTN","ONCRESTG",74,0)
 .S EDITS="NO" D NAACCR^ONCGENED K EDITS
"RTN","ONCRESTG",75,0)
 .S CHECKSUM=$$CRC32^ONCSNACR(.ONCDST)
"RTN","ONCRESTG",76,0)
 .I CHECKSUM'=$P($G(^ONCO(165.5,D0,"EDITS")),U,1) D
"RTN","ONCRESTG",77,0)
 ..S $P(^ONCO(165.5,D0,"EDITS"),U,1)=CHECKSUM
"RTN","ONCRESTG",78,0)
 Q
"RTN","ONCRFNR")
0^308^B2850594
"RTN","ONCRFNR",1,0)
ONCRFNR ;Hines OIFO/GWB; REASON FOR NO RADIATION (165.5,75) ;06/23/10
"RTN","ONCRFNR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCRFNR",3,0)
 ;
"RTN","ONCRFNR",4,0)
 ;REASON FOR NO RADIATION (165.5,75)
"RTN","ONCRFNR",5,0)
 N COC,RAD,TXDT
"RTN","ONCRFNR",6,0)
 S RAD=$P($G(^ONCO(165.5,DA,3)),U,6)
"RTN","ONCRFNR",7,0)
 K RFNRMSG
"RTN","ONCRFNR",8,0)
 I RFNR=8 D
"RTN","ONCRFNR",9,0)
 .Q:$P(^ONCO(165.5,DA,3),U,4)=8888888
"RTN","ONCRFNR",10,0)
 .S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCRFNR",11,0)
 .K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCRFNR",12,0)
 .S $P(^ONCO(165.5,DA,3),U,4)=8888888 D RADDT^ONCATF1
"RTN","ONCRFNR",13,0)
 .S ^ONCO(165.5,"ATX",DA,"8888888R")=""
"RTN","ONCRFNR",14,0)
 .S RFNRMSG="DATE RADIATION STARTED changed to 88/88/8888"
"RTN","ONCRFNR",15,0)
 I RFNR'=8,RAD=0 D
"RTN","ONCRFNR",16,0)
 .Q:$P(^ONCO(165.5,DA,3),U,4)="0000000"
"RTN","ONCRFNR",17,0)
 .S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCRFNR",18,0)
 .K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCRFNR",19,0)
 .S $P(^ONCO(165.5,DA,3),U,4)="0000000" D RADDT^ONCATF1
"RTN","ONCRFNR",20,0)
 .S ^ONCO(165.5,"ATX",DA,"0000000R")=""
"RTN","ONCRFNR",21,0)
 .S RFNRMSG="DATE RADIATION STARTED changed to 00/00/0000"
"RTN","ONCRFNR",22,0)
 I RFNR'=8,RAD=9 D
"RTN","ONCRFNR",23,0)
 .Q:$P(^ONCO(165.5,DA,3),U,4)=9999999
"RTN","ONCRFNR",24,0)
 .S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCRFNR",25,0)
 .K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCRFNR",26,0)
 .S $P(^ONCO(165.5,DA,3),U,4)=9999999 D RADDT^ONCATF1
"RTN","ONCRFNR",27,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999R")=""
"RTN","ONCRFNR",28,0)
 .S RFNRMSG="DATE RADIATION STARTED changed to 99/99/9999"
"RTN","ONCRFNR",29,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04),1,2)
"RTN","ONCRFNR",30,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D
"RTN","ONCRFNR",31,0)
 .I RFNR=8 S $P(^ONCO(165.5,DA,3.1),U,13)=8888888
"RTN","ONCRFNR",32,0)
 .I RFNR'=8 S $P(^ONCO(165.5,DA,3.1),U,13)="0000000"
"RTN","ONCRFNR",33,0)
 D RADDT^ONCATF1
"RTN","ONCRFNR",34,0)
 Q
"RTN","ONCRFNR",35,0)
 ;
"RTN","ONCRFNR",36,0)
CLEANUP ;Cleanup
"RTN","ONCRFNR",37,0)
 K DA,RFNR
"RTN","ONCRPC")
0^309^B15093875
"RTN","ONCRPC",1,0)
ONCRPC ;Hines OIFO/GWB - Extract VACCR data via ONC VACCR RPC ;09/22/11
"RTN","ONCRPC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCRPC",3,0)
 ;;
"RTN","ONCRPC",4,0)
EN1(RESULT,DATEUSED,START,END) ;Entry point
"RTN","ONCRPC",5,0)
 K ^TMP("ONCRPC")
"RTN","ONCRPC",6,0)
 N VERSION
"RTN","ONCRPC",7,0)
 S VERSION=$O(^ONCO(160.16,"B","VACCR EXTRACT"))
"RTN","ONCRPC",8,0)
 S EXTRACT=$O(^ONCO(160.16,"B",VERSION,0))
"RTN","ONCRPC",9,0)
 S OUT=0
"RTN","ONCRPC",10,0)
 S U="^"
"RTN","ONCRPC",11,0)
 D SETUP
"RTN","ONCRPC",12,0)
 S RESULT=$NA(^TMP("ONCRPC"))
"RTN","ONCRPC",13,0)
 Q
"RTN","ONCRPC",14,0)
 ;
"RTN","ONCRPC",15,0)
SETUP ;Loop through appropriate cross-reference
"RTN","ONCRPC",16,0)
 N BLANK,DCLC,FDNUM,IEN,NC,NINE,TPG,ZERO,ZNINE,X
"RTN","ONCRPC",17,0)
 N DIVISION,FACPNT,ONCDST,ONCSAPI,OSPIEN,RC,RESULT,STAT1
"RTN","ONCRPC",18,0)
 S BLANK=" "
"RTN","ONCRPC",19,0)
 S (IEN,ZERO)=0
"RTN","ONCRPC",20,0)
 S NINE=9,ZNINE="09"
"RTN","ONCRPC",21,0)
 ;
"RTN","ONCRPC",22,0)
 ;VACCR/STATE EXTRACT
"RTN","ONCRPC",23,0)
 ;Loop through DATE CASE COMPLETED (165.5,90) "AAD" cross-reference
"RTN","ONCRPC",24,0)
 I DATEUSED=1 S START=START-1 F  S START=$O(^ONCO(165.5,"AAD",START)) Q:(START<1)!(START>END)  F  S IEN=$O(^ONCO(165.5,"AAD",START,IEN)) Q:IEN<1  D
"RTN","ONCRPC",25,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCRPC",26,0)
 .D LOOP
"RTN","ONCRPC",27,0)
 ;
"RTN","ONCRPC",28,0)
 ;VACCR/STATE EXTRACT
"RTN","ONCRPC",29,0)
 ;Loop through DATE CASE LAST CHANGED (165.5,198) "AAE" cross-reference
"RTN","ONCRPC",30,0)
 I DATEUSED=2 S START=START-1 F  S START=$O(^ONCO(165.5,"AAE",START)) Q:(START<1)!(START>END)  F  S IEN=$O(^ONCO(165.5,"AAE",START,IEN)) Q:IEN<1  D
"RTN","ONCRPC",31,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCRPC",32,0)
 .D LOOP
"RTN","ONCRPC",33,0)
 ;
"RTN","ONCRPC",34,0)
 Q
"RTN","ONCRPC",35,0)
 ;
"RTN","ONCRPC",36,0)
LOOP ;Apply extract selection rules
"RTN","ONCRPC",37,0)
 N LINE,RULES,VALID,JUMP
"RTN","ONCRPC",38,0)
 S RULES=0
"RTN","ONCRPC",39,0)
 F  S RULES=$O(^ONCO(160.16,EXTRACT,"RULES",RULES)) Q:RULES<1  D
"RTN","ONCRPC",40,0)
 .S LINE=^ONCO(160.16,EXTRACT,"RULES",RULES,0)
"RTN","ONCRPC",41,0)
 .X LINE
"RTN","ONCRPC",42,0)
 Q:'VALID
"RTN","ONCRPC",43,0)
 S DIVISION=$P($G(^ONCO(165.5,IEN,"DIV")),U,1)
"RTN","ONCRPC",44,0)
 Q:DIVISION=""
"RTN","ONCRPC",45,0)
 S OSPIEN=$O(^ONCO(160.1,"C",DIVISION,0))
"RTN","ONCRPC",46,0)
 Q:OSPIEN=""
"RTN","ONCRPC",47,0)
 S FACPNT=$P($G(^ONCO(160.1,OSPIEN,1)),U,4)
"RTN","ONCRPC",48,0)
 Q:FACPNT=""
"RTN","ONCRPC",49,0)
 S STAT1=$P($G(^ONCO(160.19,FACPNT,0)),U,1)
"RTN","ONCRPC",50,0)
 S:$P(^ONCO(165.5,IEN,24),U,25)="" $P(^ONCO(165.5,IEN,24),U,25)=DT
"RTN","ONCRPC",51,0)
 D OUTPUT(IEN,EXTRACT,JUMP,.OUT)
"RTN","ONCRPC",52,0)
 D END^ONCSNACR(.ONCDST)
"RTN","ONCRPC",53,0)
 D TRAILER^ONCSAPIR(.ONCDST)
"RTN","ONCRPC",54,0)
 Q
"RTN","ONCRPC",55,0)
 ;
"RTN","ONCRPC",56,0)
OUTPUT(IEN,EXTRACT,JUMP,OUT) ;Output
"RTN","ONCRPC",57,0)
 S ONCDST=$NA(^TMP("ONCRPC",IEN))
"RTN","ONCRPC",58,0)
 S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.ONCDST)
"RTN","ONCRPC",59,0)
 S ACD160=$P(^ONCO(165.5,IEN,0),U,2)
"RTN","ONCRPC",60,0)
 N POS S POS=0
"RTN","ONCRPC",61,0)
 F  S POS=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCRPC",62,0)
 .N NODE S NODE=0
"RTN","ONCRPC",63,0)
 .F  S NODE=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCRPC",64,0)
 ..N STRING,DEFAULT,FILL,LEN
"RTN","ONCRPC",65,0)
 ..Q:$G(^ONCO(160.16,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCRPC",66,0)
 ..;D DISPLAY(DEVICE,$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCRPC",67,0)
 ..S LEN=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCRPC",68,0)
 ..S STRING=$TR(^ONCO(160.16,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCRPC",69,0)
 ..S DEFAULT=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,2),U,1)
"RTN","ONCRPC",70,0)
 ..S FILL=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,3),U,1)
"RTN","ONCRPC",71,0)
 ..D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCRPC",72,0)
 Q
"RTN","ONCRPC",73,0)
 ;
"RTN","ONCRPC",74,0)
DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS) ;Compute extract value
"RTN","ONCRPC",75,0)
 N ACDANS,EXIT S EXIT=0
"RTN","ONCRPC",76,0)
 I JUMP'="0" D
"RTN","ONCRPC",77,0)
 .I POS<$P(JUMP,U) Q
"RTN","ONCRPC",78,0)
 .I POS>$P(JUMP,U,2) Q
"RTN","ONCRPC",79,0)
 .N I
"RTN","ONCRPC",80,0)
 .S EXIT=1
"RTN","ONCRPC",81,0)
 .F I=1:1:LEN W BLANK
"RTN","ONCRPC",82,0)
 Q:EXIT
"RTN","ONCRPC",83,0)
 X STRING
"RTN","ONCRPC",84,0)
 ;
"RTN","ONCRPC",85,0)
 ;If value = "", extract DEFAULT value
"RTN","ONCRPC",86,0)
 I ACDANS="" D  Q
"RTN","ONCRPC",87,0)
 .N I,X S X=""
"RTN","ONCRPC",88,0)
 .I DEFAULT=8 D  Q
"RTN","ONCRPC",89,0)
 ..F I=1:1:LEN D WRITE^ONCSNACR(.ONCDST,DEFAULT)
"RTN","ONCRPC",90,0)
 .I @DEFAULT="09" D WRITE^ONCSNACR(.ONCDST,@DEFAULT) Q
"RTN","ONCRPC",91,0)
 .F I=1:1:LEN D WRITE^ONCSNACR(.ONCDST,@DEFAULT)
"RTN","ONCRPC",92,0)
 ;
"RTN","ONCRPC",93,0)
 ;If value too long, truncate to LENGTH (160.161,1)
"RTN","ONCRPC",94,0)
 ;If value too short, pad with FILL (160.161,6)
"RTN","ONCRPC",95,0)
 I $L(ACDANS)=LEN D WRITE^ONCSNACR(.ONCDST,ACDANS) Q
"RTN","ONCRPC",96,0)
 I $L(ACDANS)>LEN D WRITE^ONCSNACR(.ONCDST,$E(ACDANS,1,LEN)) Q
"RTN","ONCRPC",97,0)
 E  D  Q
"RTN","ONCRPC",98,0)
 .N JUST,STUFF,I,REM,CAL
"RTN","ONCRPC",99,0)
 .S JUST=$P(FILL,","),STUFF=$P(FILL,",",2)
"RTN","ONCRPC",100,0)
 .S REM=LEN-$L(ACDANS)
"RTN","ONCRPC",101,0)
 .I JUST="R" D WRITE^ONCSNACR(.ONCDST,ACDANS)
"RTN","ONCRPC",102,0)
 .F I=1:1:REM D WRITE^ONCSNACR(.ONCDST,@STUFF)
"RTN","ONCRPC",103,0)
 .I JUST="L" D WRITE^ONCSNACR(.ONCDST,ACDANS)
"RTN","ONCRPC",104,0)
 Q
"RTN","ONCRPC",105,0)
 ;
"RTN","ONCRPC",106,0)
CLEANUP ;Cleanup
"RTN","ONCRPC",107,0)
 K DATEUSED,END,START
"RTN","ONCRR")
0^310^B7087743
"RTN","ONCRR",1,0)
ONCRR ;Hines OIFO/GWB - RECONSTRUCTION/RESTORATION  ;09/21/04
"RTN","ONCRR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCRR",3,0)
 ;
"RTN","ONCRR",4,0)
RRIT ;RECONSTRUCTION/RESTORATION (165.5,23)
"RTN","ONCRR",5,0)
 ;INPUT
"RTN","ONCRR",6,0)
 S NTXDD=$G(NTXDD) I NTXDD="" Q
"RTN","ONCRR",7,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" K X Q
"RTN","ONCRR",8,0)
 I SCDXDT<2980000 D  I $D(X),NTXDD=1 S V=1 D NT^ONCODSR
"RTN","ONCRR",9,0)
 .K DIC S DIC="^ONCO(160.4," D ^DIC
"RTN","ONCRR",10,0)
 .I Y=-1 K X Q
"RTN","ONCRR",11,0)
 .S X=$P(Y,U,1) W "  ",$P(^ONCO(160.4,X,0),U,2)
"RTN","ONCRR",12,0)
 I SCDXDT>2971231 D
"RTN","ONCRR",13,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W "  No TOPOGRAPHY!" K X Q
"RTN","ONCRR",14,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" K X Q
"RTN","ONCRR",15,0)
 .;ROADS D-cxliii
"RTN","ONCRR",16,0)
 .I ($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCRR",17,0)
 .S FOUND=0
"RTN","ONCRR",18,0)
 .F XRR=0:0 S XRR=$O(^ONCO(164,ICD,"RR5",XRR)) Q:XRR'>0!(FOUND=1)  D
"RTN","ONCRR",19,0)
 ..I $P(^ONCO(164,ICD,"RR5",XRR,0),U,2)=X S X=XRR,FOUND=1 Q
"RTN","ONCRR",20,0)
 .I FOUND=0 K X Q
"RTN","ONCRR",21,0)
 .W "  ",$P(^ONCO(164,ICD,"RR5",X,0),U,1)
"RTN","ONCRR",22,0)
 I $D(X),NTXDD=1 S V=1 D NT^ONCODSR
"RTN","ONCRR",23,0)
 K SCDXDT,FOUND,ICD,TOP,XRR Q
"RTN","ONCRR",24,0)
 ;
"RTN","ONCRR",25,0)
RROT ;OUTPUT
"RTN","ONCRR",26,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCRR",27,0)
 I SCDXDT<2980000 D
"RTN","ONCRR",28,0)
 .S:Y'="" Y=$P($G(^ONCO(160.4,Y,0)),U,2)
"RTN","ONCRR",29,0)
 I SCDXDT>2971231 D
"RTN","ONCRR",30,0)
 .Q:Y=""
"RTN","ONCRR",31,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" S Y="" Q
"RTN","ONCRR",32,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" S Y="" Q
"RTN","ONCRR",33,0)
 .;ROADS D-cxliii
"RTN","ONCRR",34,0)
 .I ($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCRR",35,0)
 .S Y=$P($G(^ONCO(164,ICD,"RR5",Y,0)),U,1)
"RTN","ONCRR",36,0)
 K SCDXDT,ICD,TOP Q
"RTN","ONCRR",37,0)
 ;
"RTN","ONCRR",38,0)
RRHP ;HELP
"RTN","ONCRR",39,0)
 S SCDXDT=$P($G(^ONCO(165.5,D0,0)),U,16) I SCDXDT="" Q
"RTN","ONCRR",40,0)
 I SCDXDT<2980000 D
"RTN","ONCRR",41,0)
 .W !?3,"Select from the following list:"
"RTN","ONCRR",42,0)
 .F XRR=0:0 S XRR=$O(^ONCO(160.4,XRR)) Q:XRR'>0  W !?6,$P($G(^ONCO(160.4,XRR,0)),U,1),?12,$P($G(^ONCO(160.4,XRR,0)),U,2)
"RTN","ONCRR",43,0)
 I SCDXDT>2971231 D
"RTN","ONCRR",44,0)
 .S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" W !,"No TOPOGRAPHY!" Q
"RTN","ONCRR",45,0)
 .S ICD=$P($G(^ONCO(164,TOP,0)),U,16) I ICD="" W !,"No ICD Codes!" Q
"RTN","ONCRR",46,0)
 .;ROADS D-cxliii
"RTN","ONCRR",47,0)
 .I ($E(TOP,3,4)=76)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424) S ICD=67141
"RTN","ONCRR",48,0)
 .W !?3,"Select from the following list:",!
"RTN","ONCRR",49,0)
 .F XRR=0:0 S XRR=$O(^ONCO(164,ICD,"RR5",XRR)) Q:XRR'>0  W !?6,$P($G(^ONCO(164,ICD,"RR5",XRR,0)),U,2),?12,$P($G(^ONCO(164,ICD,"RR5",XRR,0)),U,1)
"RTN","ONCRR",50,0)
 K SCDXDT,ICD,TOP,XRR Q
"RTN","ONCSAPI")
0^311^B5706621
"RTN","ONCSAPI",1,0)
ONCSAPI ;Hines OIFO/SG - ONCOLOGY WEB-SERVICE  ; 12/7/06 10:37am
"RTN","ONCSAPI",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPI",3,0)
 ;
"RTN","ONCSAPI",4,0)
 ; ONCSAPI ------------- API DESCRIPTOR
"RTN","ONCSAPI",5,0)
 ;
"RTN","ONCSAPI",6,0)
 ; ONCSAPI(
"RTN","ONCSAPI",7,0)
 ;
"RTN","ONCSAPI",8,0)
 ;   "DEBUG")            Debug mode
"RTN","ONCSAPI",9,0)
 ;                         0  Disabled
"RTN","ONCSAPI",10,0)
 ;                         1  Enabled
"RTN","ONCSAPI",11,0)
 ;
"RTN","ONCSAPI",12,0)
 ;   "MSG",              ""
"RTN","ONCSAPI",13,0)
 ;     IEN,
"RTN","ONCSAPI",14,0)
 ;       0)              Error Descriptor
"RTN","ONCSAPI",15,0)
 ;                         ^01: Error Code   (see MSGLIST^ONCSAPIE)
"RTN","ONCSAPI",16,0)
 ;                         ^02: Error Message
"RTN","ONCSAPI",17,0)
 ;                         ^03: Label+Offset (optional)
"RTN","ONCSAPI",18,0)
 ;                         ^04: Routine      (optional)
"RTN","ONCSAPI",19,0)
 ;       1,i)            Error details (text)
"RTN","ONCSAPI",20,0)
 ;     "E",
"RTN","ONCSAPI",21,0)
 ;       Error Code,
"RTN","ONCSAPI",22,0)
 ;         IEN)    ""
"RTN","ONCSAPI",23,0)
 ;
"RTN","ONCSAPI",24,0)
 ; ^XTMP("ONCSAPI") ---- LOCAL CACHE FOR WEB-SERVICE DATA
"RTN","ONCSAPI",25,0)
 ;
"RTN","ONCSAPI",26,0)
 ; ^XTMP("ONCSAPI",
"RTN","ONCSAPI",27,0)
 ;
"RTN","ONCSAPI",28,0)
 ;   0)                  Node descriptor
"RTN","ONCSAPI",29,0)
 ;                         ^01: Purge date  (FileMan)
"RTN","ONCSAPI",30,0)
 ;                         ^02: Create date (FileMan)
"RTN","ONCSAPI",31,0)
 ;                         ^03: Description
"RTN","ONCSAPI",32,0)
 ;
"RTN","ONCSAPI",33,0)
 ;   "EDITS",            Metafile Version
"RTN","ONCSAPI",34,0)
 ;     IEN,
"RTN","ONCSAPI",35,0)
 ;       0)              Edit Descriptor
"RTN","ONCSAPI",36,0)
 ;                         ^01: Index in the edit set
"RTN","ONCSAPI",37,0)
 ;                         ^02: Name
"RTN","ONCSAPI",38,0)
 ;       "D",i)          Description
"RTN","ONCSAPI",39,0)
 ;       "H",i)          Help
"RTN","ONCSAPI",40,0)
 ;     "ES",
"RTN","ONCSAPI",41,0)
 ;       EditSetName,
"RTN","ONCSAPI",42,0)
 ;         EditIndex)    IEN
"RTN","ONCSAPI",43,0)
 ;
"RTN","ONCSAPI",44,0)
 ;   "SCHEMAS",
"RTN","ONCSAPI",45,0)
 ;     Schema#,
"RTN","ONCSAPI",46,0)
 ;       0)              Schema name
"RTN","ONCSAPI",47,0)
 ;
"RTN","ONCSAPI",48,0)
 ;     "N",
"RTN","ONCSAPI",49,0)
 ;       Name)           Schema#
"RTN","ONCSAPI",50,0)
 ;
"RTN","ONCSAPI",51,0)
 ;     "SH",
"RTN","ONCSAPI",52,0)
 ;       Site,Hist)      Schema#
"RTN","ONCSAPI",53,0)
 ;
"RTN","ONCSAPI",54,0)
 ;   "TABLES",           DLL Version
"RTN","ONCSAPI",55,0)
 ;
"RTN","ONCSAPI",56,0)
 ;     IEN,
"RTN","ONCSAPI",57,0)
 ;       0)              Table descriptor
"RTN","ONCSAPI",58,0)
 ;                         ^01: Number of rows
"RTN","ONCSAPI",59,0)
 ;                         ^02: Schema number
"RTN","ONCSAPI",60,0)
 ;                         ^03: Table number
"RTN","ONCSAPI",61,0)
 ;                         ^04: Table pattern
"RTN","ONCSAPI",62,0)
 ;                         ^05: Table title
"RTN","ONCSAPI",63,0)
 ;                         ^06: Table subtitle
"RTN","ONCSAPI",64,0)
 ;       Row#,
"RTN","ONCSAPI",65,0)
 ;         1)            Codes
"RTN","ONCSAPI",66,0)
 ;                         ^01: Row code
"RTN","ONCSAPI",67,0)
 ;                         ^02: Additional code #1
"RTN","ONCSAPI",68,0)
 ;                         ^03: Additional code #2
"RTN","ONCSAPI",69,0)
 ;                         ^04: ...
"RTN","ONCSAPI",70,0)
 ;         3,i)          Description (text)
"RTN","ONCSAPI",71,0)
 ;
"RTN","ONCSAPI",72,0)
 ;       "C",
"RTN","ONCSAPI",73,0)
 ;         RowCode)      Descriptor
"RTN","ONCSAPI",74,0)
 ;                         ^01: Row#
"RTN","ONCSAPI",75,0)
 ;                         ^02: Upper boundary (for intervals)
"RTN","ONCSAPI",76,0)
 ;
"RTN","ONCSAPI",77,0)
 ;       "FN",
"RTN","ONCSAPI",78,0)
 ;         Note#,i)      Footnote (text)
"RTN","ONCSAPI",79,0)
 ;       "TN",
"RTN","ONCSAPI",80,0)
 ;         Note#,i)      Note (text)
"RTN","ONCSAPI",81,0)
 ;
"RTN","ONCSAPI",82,0)
 ;     "ST",
"RTN","ONCSAPI",83,0)
 ;       Schema#,
"RTN","ONCSAPI",84,0)
 ;         Table#)       IEN
"RTN","ONCSAPI",85,0)
 ;
"RTN","ONCSAPI",86,0)
 ; CS TABLE NUMBER ----- TABLE DESCRIPTION
"RTN","ONCSAPI",87,0)
 ;
"RTN","ONCSAPI",88,0)
 ;               1       CS Tumor Size
"RTN","ONCSAPI",89,0)
 ;               2       CS Extension
"RTN","ONCSAPI",90,0)
 ;               3       CS Size/Ext Eval
"RTN","ONCSAPI",91,0)
 ;               4       CS Lymph Nodes
"RTN","ONCSAPI",92,0)
 ;               5       CS Reg Nodes Eval
"RTN","ONCSAPI",93,0)
 ;               6       Regional Nodes Positive
"RTN","ONCSAPI",94,0)
 ;               7       Regional Nodes Examined
"RTN","ONCSAPI",95,0)
 ;               8       CS Mets at DX
"RTN","ONCSAPI",96,0)
 ;               9       CS Mets Eval
"RTN","ONCSAPI",97,0)
 ;              10       CS Site-Specific Factor 1
"RTN","ONCSAPI",98,0)
 ;              11       CS Site-Specific Factor 2
"RTN","ONCSAPI",99,0)
 ;              12       CS Site-Specific Factor 3
"RTN","ONCSAPI",100,0)
 ;              13       CS Site-Specific Factor 4
"RTN","ONCSAPI",101,0)
 ;              14       CS Site-Specific Factor 5
"RTN","ONCSAPI",102,0)
 ;              15       CS Site-Specific Factor 6 
"RTN","ONCSAPI",103,0)
 ;              16       CS Site-Specific Factor 7 
"RTN","ONCSAPI",104,0)
 ;              17       CS Site-Specific Factor 8
"RTN","ONCSAPI",105,0)
 ;              18       CS Site-Specific Factor 9
"RTN","ONCSAPI",106,0)
 ;              19       CS Site-Specific Factor 10
"RTN","ONCSAPI",107,0)
 ;              20       CS Site-Specific Factor 11
"RTN","ONCSAPI",108,0)
 ;              21       CS Site-Specific Factor 12
"RTN","ONCSAPI",109,0)
 ;              22       CS Site-Specific Factor 13
"RTN","ONCSAPI",110,0)
 ;              23       CS Site-Specific Factor 14
"RTN","ONCSAPI",111,0)
 ;              24       CS Site-Specific Factor 15
"RTN","ONCSAPI",112,0)
 ;              25       CS Site-Specific Factor 16
"RTN","ONCSAPI",113,0)
 ;              26       CS Site-Specific Factor 17
"RTN","ONCSAPI",114,0)
 ;              27       CS Site-Specific Factor 18
"RTN","ONCSAPI",115,0)
 ;              28       CS Site-Specific Factor 19
"RTN","ONCSAPI",116,0)
 ;              29       CS Site-Specific Factor 20
"RTN","ONCSAPI",117,0)
 ;              30       CS Site-Specific Factor 21
"RTN","ONCSAPI",118,0)
 ;              31       CS Site-Specific Factor 22
"RTN","ONCSAPI",119,0)
 ;              32       CS Site-Specific Factor 23
"RTN","ONCSAPI",120,0)
 ;              33       CS Site-Specific Factor 24
"RTN","ONCSAPI",121,0)
 ;              34       CS Site-Specific Factor 25
"RTN","ONCSAPI",122,0)
 ;              35       Histologies
"RTN","ONCSAPI",123,0)
 ;
"RTN","ONCSAPI",124,0)
 ; CS ENTRY POINT ------ DESCRIPTION
"RTN","ONCSAPI",125,0)
 ;
"RTN","ONCSAPI",126,0)
 ;       HELP^ONCSAPI1   Displays the field's valid codes
"RTN","ONCSAPI",127,0)
 ;      INPUT^ONCSAPI1   Checks if the code is valid
"RTN","ONCSAPI",128,0)
 ;
"RTN","ONCSAPI",129,0)
 ;     $$CALC^ONCSAPI3   Calculates the staging values
"RTN","ONCSAPI",130,0)
 ;
"RTN","ONCSAPI",131,0)
 ;   $$SCHEMA^ONCSAPIS   Returns schema number
"RTN","ONCSAPI",132,0)
 ;
"RTN","ONCSAPI",133,0)
 ; $$CODEDESC^ONCSAPIT   Loads the CS code description
"RTN","ONCSAPI",134,0)
 ; $$GETCSTBL^ONCSAPIT   Returns table IEN (loads table if necessary)
"RTN","ONCSAPI",135,0)
 ;
"RTN","ONCSAPI",136,0)
 ; EDITS ENTRY POINT --- DESCRIPTION
"RTN","ONCSAPI",137,0)
 ;
"RTN","ONCSAPI",138,0)
 ;  $$RBQEXEC^ONCSED01   Executes the 'Run Batch' EDITS request
"RTN","ONCSAPI",139,0)
 ;  $$RBQPREP^ONCSED01   Starts preparation of the 'Run Batch' request
"RTN","ONCSAPI",140,0)
 ;
"RTN","ONCSAPI",141,0)
 ;   $$REPORT^ONCSED01   Prints EDITS report generated by the
"RTN","ONCSAPI",142,0)
 ;                       $$RBQEXEC^ONCSED01
"RTN","ONCSAPI",143,0)
 ;
"RTN","ONCSAPI",144,0)
 ; $$GETEDESC^ONCSED04   Returns the edit description node
"RTN","ONCSAPI",145,0)
 ; $$GETEDHLP^ONCSED04   Returns the edit help text node
"RTN","ONCSAPI",146,0)
 ;
"RTN","ONCSAPI",147,0)
 ; UTILITY ------------- DESCRIPTION
"RTN","ONCSAPI",148,0)
 ;
"RTN","ONCSAPI",149,0)
 ;       DEMO^ONCSAPI    Demonstration entry point
"RTN","ONCSAPI",150,0)
 ;
"RTN","ONCSAPI",151,0)
 ;      CLEAR^ONCSAPIE   Initializes the error stack
"RTN","ONCSAPI",152,0)
 ;      $$DBS^ONCSAPIE   Cehcks for FileMan DBS errors
"RTN","ONCSAPI",153,0)
 ;    $$ERROR^ONCSAPIE   Generates an error message
"RTN","ONCSAPI",154,0)
 ;      $$MSG^ONCSAPIE   Returns the text and type of the message
"RTN","ONCSAPI",155,0)
 ;    PRTERRS^ONCSAPIE   Displays the error messages
"RTN","ONCSAPI",156,0)
 ;      STORE^ONCSAPIE   Stores the message into the error stack
"RTN","ONCSAPI",157,0)
 ;
"RTN","ONCSAPI",158,0)
 ;   $$CHKERR^ONCSAPIR   Checks for parsing and web-service errors
"RTN","ONCSAPI",159,0)
 ;     HEADER^ONCSAPIR   Generates the request header
"RTN","ONCSAPI",160,0)
 ;   $$PARAMS^ONCSAPIR   Converts input parameters into XML format
"RTN","ONCSAPI",161,0)
 ;        PUT^ONCSAPIR   Adds element/text to the destination buffer
"RTN","ONCSAPI",162,0)
 ;  $$REQUEST^ONCSAPIR   Sends the request and gets the response
"RTN","ONCSAPI",163,0)
 ;    TRAILER^ONCSAPIR   Generates the request trailer
"RTN","ONCSAPI",164,0)
 ;
"RTN","ONCSAPI",165,0)
 ; $$GETCSURL^ONCSAPIU   Returns the Oncology web-service URL
"RTN","ONCSAPI",166,0)
 ;     $$PAGE^ONCSAPIU   Pauses the output at page end
"RTN","ONCSAPI",167,0)
 ; $$UPDCSURL^ONCSAPIU   Updates the Oncology web-service URL
"RTN","ONCSAPI",168,0)
 ;         WW^ONCSAPIU   Wraps the string and prints it
"RTN","ONCSAPI",169,0)
 ;         ZW^ONCSAPIU   Emulates and extends the ZWRITE command
"RTN","ONCSAPI",170,0)
 ;
"RTN","ONCSAPI",171,0)
 ;   $$CHKVER^ONCSAPIV   Checks version of the local cache
"RTN","ONCSAPI",172,0)
 ;  $$VERSION^ONCSAPIV   Returns versions of web-service components
"RTN","ONCSAPI",173,0)
 ;
"RTN","ONCSAPI",174,0)
 ;      BEGIN^ONCSNACR   Starts the NAACCR record output
"RTN","ONCSAPI",175,0)
 ;        END^ONCSNACR   Finishes the NAACCR record output
"RTN","ONCSAPI",176,0)
 ;      WRITE^ONCSNACR   Outputs the piece of the NAACCR record
"RTN","ONCSAPI",177,0)
 ;
"RTN","ONCSAPI",178,0)
 ; INITIALS ------------ DEVELOPER
"RTN","ONCSAPI",179,0)
 ;
"RTN","ONCSAPI",180,0)
 ; SG                    Sergey Gavrilov
"RTN","ONCSAPI",181,0)
 ;
"RTN","ONCSAPI",182,0)
 Q
"RTN","ONCSAPI",183,0)
 ;
"RTN","ONCSAPI",184,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCSAPI",185,0)
DEMO ;
"RTN","ONCSAPI",186,0)
 N DA,DIR,DIRUT,DTOUT,DUOUT,ONCSAPI,X,Y
"RTN","ONCSAPI",187,0)
 ;
"RTN","ONCSAPI",188,0)
 ;--- Debug mode?
"RTN","ONCSAPI",189,0)
 K DIR  S DIR(0)="Y"
"RTN","ONCSAPI",190,0)
 S DIR("A")="Run in debug mode"
"RTN","ONCSAPI",191,0)
 S DIR("B")="NO"
"RTN","ONCSAPI",192,0)
 D ^DIR  Q:$D(DIRUT)
"RTN","ONCSAPI",193,0)
 S:Y ONCSAPI("DEBUG")=1
"RTN","ONCSAPI",194,0)
 ;
"RTN","ONCSAPI",195,0)
 ;--- Select and run a demo
"RTN","ONCSAPI",196,0)
DEMOSEL K DIR  S DIR(0)="SO^C:Collaborative Staging;E:EDITS"
"RTN","ONCSAPI",197,0)
 S DIR("A")="Select a demo"
"RTN","ONCSAPI",198,0)
 D ^DIR  Q:$D(DIRUT)
"RTN","ONCSAPI",199,0)
 D  G DEMOSEL
"RTN","ONCSAPI",200,0)
 . I Y="C"  D DEMO^ONCSAPID(.ONCSAPI)  Q  ; Collaborative Staging
"RTN","ONCSAPI",201,0)
 . I Y="E"  D DEMO^ONCSEDEM(.ONCSAPI)  Q  ; EDITS
"RTN","ONCSAPI1")
0^312^B26797085
"RTN","ONCSAPI1",1,0)
ONCSAPI1 ;Hines OIFO/SG - COLLABORATIVE STAGING (DD TOOLS) ;06/23/10
"RTN","ONCSAPI1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPI1",3,0)
 ;
"RTN","ONCSAPI1",4,0)
 Q
"RTN","ONCSAPI1",5,0)
 ;
"RTN","ONCSAPI1",6,0)
 ;***** DISPLAYS THE ERRORS
"RTN","ONCSAPI1",7,0)
ERRORS(MODE,ERRCODE) ;
"RTN","ONCSAPI1",8,0)
 S ERRCODE=+$G(ERRCODE)
"RTN","ONCSAPI1",9,0)
 ;--- Display the explanations (for the user)
"RTN","ONCSAPI1",10,0)
 I MODE="HLP"  D:(ERRCODE=-10)
"RTN","ONCSAPI1",11,0)
 . D ERROR^ONCSAPIE(-19,"Please try later.")
"RTN","ONCSAPI1",12,0)
 E  I MODE="INP"  D:(ERRCODE'=-2)
"RTN","ONCSAPI1",13,0)
 . D ERROR^ONCSAPIE(-20,"Please inform IRM about the problem.")
"RTN","ONCSAPI1",14,0)
 E  I MODE="CDN"  D:(ERRCODE=-10)
"RTN","ONCSAPI1",15,0)
 . D ERROR^ONCSAPIE(-21,"Please try later.")
"RTN","ONCSAPI1",16,0)
 ;--- Display the error stack (for the IRM)
"RTN","ONCSAPI1",17,0)
 D PRTERRS^ONCSAPIE()
"RTN","ONCSAPI1",18,0)
 Q
"RTN","ONCSAPI1",19,0)
 ;
"RTN","ONCSAPI1",20,0)
 ;***** DISPLAYS THE HELP FOR A FIELD
"RTN","ONCSAPI1",21,0)
 ;
"RTN","ONCSAPI1",22,0)
 ; TABLE         Table number (see the ^ONCSAPI routine)
"RTN","ONCSAPI1",23,0)
 ;
"RTN","ONCSAPI1",24,0)
 ; [IEN]         IEN of the record in the file #165.5
"RTN","ONCSAPI1",25,0)
 ;
"RTN","ONCSAPI1",26,0)
 ; [SITE]        Primary site
"RTN","ONCSAPI1",27,0)
 ; [HIST]        Histology
"RTN","ONCSAPI1",28,0)
 ;
"RTN","ONCSAPI1",29,0)
 ; Either the IEN or both the SITE and HIST must be provided.
"RTN","ONCSAPI1",30,0)
 ;
"RTN","ONCSAPI1",31,0)
HELP(TABLE,IEN,SITE,HIST) ;
"RTN","ONCSAPI1",32,0)
 N DISCRIM,EXIT,I,MNL,NODE,NOTE,ONCMSG,ONCSAPI,RC,ROW,SHNS,TBLIEN,TMP
"RTN","ONCSAPI1",33,0)
 S SHNS=$S($G(X)="":1,1:X="??")
"RTN","ONCSAPI1",34,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSAPI1",35,0)
 D:$G(IEN)>0
"RTN","ONCSAPI1",36,0)
 . S SITE=$TR($$GET1^DIQ(165.5,IEN,20.1,,,"ONCMSG"),".")
"RTN","ONCSAPI1",37,0)
 . S HIST=$E($$HIST^ONCFUNC(IEN),1,4)
"RTN","ONCSAPI1",38,0)
 . S DISCRIM=$$GET1^DIQ(165.5,IEN,240)
"RTN","ONCSAPI1",39,0)
 I ($G(SITE)="")&($G(HIST)="")  D  Q
"RTN","ONCSAPI1",40,0)
 . S TMP=""
"RTN","ONCSAPI1",41,0)
 . S:$D(IEN)#10 TMP=TMP_", IEN="_IEN
"RTN","ONCSAPI1",42,0)
 . S:$D(SITE)#10 TMP=TMP_", SITE="_SITE
"RTN","ONCSAPI1",43,0)
 . S:$D(HIST)#10 TMP=TMP_", HIST="_HIST
"RTN","ONCSAPI1",44,0)
 . S TMP=$P(TMP,", ",2,999)
"RTN","ONCSAPI1",45,0)
 . D PRTERRS^ONCSAPIE($$ERROR^ONCSAPIE(-16,TMP,"IEN, SITE, HIST"))
"RTN","ONCSAPI1",46,0)
 ;---
"RTN","ONCSAPI1",47,0)
 L +^XTMP("ONCSAPI","TABLES","JOB",$J):5  E  D  Q
"RTN","ONCSAPI1",48,0)
 . D ERROR^ONCSAPIE(-15,,"access control node")
"RTN","ONCSAPI1",49,0)
 . D ERRORS("HLP")
"RTN","ONCSAPI1",50,0)
 ;
"RTN","ONCSAPI1",51,0)
 S RC=0  D
"RTN","ONCSAPI1",52,0)
 . ;--- Get the table IEN
"RTN","ONCSAPI1",53,0)
 . S TBLIEN=$$GETCSTBL^ONCSAPIT(.ONCSAPI,SITE,HIST,TABLE)
"RTN","ONCSAPI1",54,0)
 . I TBLIEN<0  S RC=TBLIEN  Q
"RTN","ONCSAPI1",55,0)
 . ;--- Initialize constants and variables
"RTN","ONCSAPI1",56,0)
 . S NODE=$NA(^XTMP("ONCSAPI","TABLES",TBLIEN))
"RTN","ONCSAPI1",57,0)
 . S MNL=$S($G(IOSL)>3:IOSL-3,1:20),$Y=0
"RTN","ONCSAPI1",58,0)
 . ;--- Display the title and optional subtitle
"RTN","ONCSAPI1",59,0)
 . S TMP=$G(@NODE@(0))
"RTN","ONCSAPI1",60,0)
 . D WW^ONCSAPIU($P(TMP,U,5))
"RTN","ONCSAPI1",61,0)
 . D:$P(TMP,U,6)'="" WW^ONCSAPIU($P(TMP,U,6))
"RTN","ONCSAPI1",62,0)
 . ;--- Display top notes
"RTN","ONCSAPI1",63,0)
 . I SHNS  D  I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",64,0)
 . . S (EXIT,NOTE)=0
"RTN","ONCSAPI1",65,0)
 . . F  S NOTE=$O(@NODE@("TN",NOTE))  Q:NOTE'>0  D  Q:EXIT
"RTN","ONCSAPI1",66,0)
 . . . D EN^DDIOL(" ")
"RTN","ONCSAPI1",67,0)
 . . . I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",68,0)
 . . . S I=0
"RTN","ONCSAPI1",69,0)
 . . . F  S I=$O(@NODE@("TN",NOTE,I))  Q:I'>0  D  Q:EXIT
"RTN","ONCSAPI1",70,0)
 . . . . D EN^DDIOL(@NODE@("TN",NOTE,I))
"RTN","ONCSAPI1",71,0)
 . . . . S:$Y'<MNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPI1",72,0)
 . ;--- Display the table
"RTN","ONCSAPI1",73,0)
 . D EN^DDIOL(" ")
"RTN","ONCSAPI1",74,0)
 . S (EXIT,ROW)=0
"RTN","ONCSAPI1",75,0)
 . F  S ROW=$O(@NODE@(ROW))  Q:ROW'>0  D  Q:EXIT
"RTN","ONCSAPI1",76,0)
 . . D EN^DDIOL($J($P(@NODE@(ROW,1),U),7))
"RTN","ONCSAPI1",77,0)
 . . D:$D(@NODE@(ROW,3,1)) EN^DDIOL(@NODE@(ROW,3,1),,"?9")
"RTN","ONCSAPI1",78,0)
 . . I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",79,0)
 . . S I=1
"RTN","ONCSAPI1",80,0)
 . . F  S I=$O(@NODE@(ROW,3,I))  Q:I=""  D  Q:EXIT
"RTN","ONCSAPI1",81,0)
 . . . D EN^DDIOL(@NODE@(ROW,3,I),,"!?9")
"RTN","ONCSAPI1",82,0)
 . . . S:$Y'<MNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPI1",83,0)
 . ;--- Display footnotes
"RTN","ONCSAPI1",84,0)
 . I SHNS  D  I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",85,0)
 . . S (EXIT,NOTE)=0
"RTN","ONCSAPI1",86,0)
 . . F  S NOTE=$O(@NODE@("FN",NOTE))  Q:NOTE'>0  D  Q:EXIT
"RTN","ONCSAPI1",87,0)
 . . . D EN^DDIOL(" ")
"RTN","ONCSAPI1",88,0)
 . . . I $Y'<MNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPI1",89,0)
 . . . S I=0
"RTN","ONCSAPI1",90,0)
 . . . F  S I=$O(@NODE@("FN",NOTE,I))  Q:I'>0  D  Q:EXIT
"RTN","ONCSAPI1",91,0)
 . . . . D EN^DDIOL(@NODE@("FN",NOTE,I))
"RTN","ONCSAPI1",92,0)
 . . . . S:$Y'<MNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPI1",93,0)
 . . D EN^DDIOL(" ")
"RTN","ONCSAPI1",94,0)
 ;
"RTN","ONCSAPI1",95,0)
 L -^XTMP("ONCSAPI","TABLES","JOB",$J)
"RTN","ONCSAPI1",96,0)
 D:RC<0 ERRORS("HLP",RC)
"RTN","ONCSAPI1",97,0)
 Q
"RTN","ONCSAPI1",98,0)
 ;
"RTN","ONCSAPI1",99,0)
 ;***** VALIDATES AND TRANSFORMS THE INPUT (CODES)
"RTN","ONCSAPI1",100,0)
 ;
"RTN","ONCSAPI1",101,0)
 ; X             Input value should be assigned to the X local
"RTN","ONCSAPI1",102,0)
 ;               variable before calling this procedure. The
"RTN","ONCSAPI1",103,0)
 ;               variable is KILL'ed if it has an invalid value.
"RTN","ONCSAPI1",104,0)
 ;
"RTN","ONCSAPI1",105,0)
 ; TABLE         Table number (see the ^ONCSAPI routine)
"RTN","ONCSAPI1",106,0)
 ;
"RTN","ONCSAPI1",107,0)
 ; CODELEN       Valid length of the code
"RTN","ONCSAPI1",108,0)
 ;
"RTN","ONCSAPI1",109,0)
 ; [IEN]         IEN of the record in the file #165.5
"RTN","ONCSAPI1",110,0)
 ;
"RTN","ONCSAPI1",111,0)
 ; [SITE]        Primary site
"RTN","ONCSAPI1",112,0)
 ; [HIST]        Histology
"RTN","ONCSAPI1",113,0)
 ;
"RTN","ONCSAPI1",114,0)
 ; [SILENT]      Silent mode flags (can be combined):
"RTN","ONCSAPI1",115,0)
 ;                 D  Do not display code description
"RTN","ONCSAPI1",116,0)
 ;                 E  Do not display error messages
"RTN","ONCSAPI1",117,0)
 ;
"RTN","ONCSAPI1",118,0)
 ; Either the IEN or both the SITE and HIST must be provided.
"RTN","ONCSAPI1",119,0)
 ;
"RTN","ONCSAPI1",120,0)
INPUT(TABLE,CODELEN,IEN,SITE,HIST,SILENT) ;
"RTN","ONCSAPI1",121,0)
 N CODE,ONCBUF,ONCSAPI,RC,TBLIEN,TMP
"RTN","ONCSAPI1",122,0)
 S X=$$TRIM^XLFSTR($G(X))
"RTN","ONCSAPI1",123,0)
 I X'?@(CODELEN_"N")  K X  Q
"RTN","ONCSAPI1",124,0)
 S:'($D(SILENT)#10) SILENT=$S($G(DIUTIL)="VERIFY FIELDS":"DE",1:"")
"RTN","ONCSAPI1",125,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSAPI1",126,0)
 ;---
"RTN","ONCSAPI1",127,0)
 D:$G(IEN)>0
"RTN","ONCSAPI1",128,0)
 . S SITE=$TR($$GET1^DIQ(165.5,IEN,20.1,,,"ONCMSG"),".")
"RTN","ONCSAPI1",129,0)
 . S HIST=$E($$HIST^ONCFUNC(IEN),1,4)
"RTN","ONCSAPI1",130,0)
 . S DISCRIM=$$GET1^DIQ(165.5,IEN,240)
"RTN","ONCSAPI1",131,0)
 I ($G(SITE)="")&($G(HIST)="")  D  K X  Q
"RTN","ONCSAPI1",132,0)
 . D PRTERRS^ONCSAPIE($$ERROR^ONCSAPIE(-16,,"IEN, SITE, HIST"))
"RTN","ONCSAPI1",133,0)
 ;---
"RTN","ONCSAPI1",134,0)
 L +^XTMP("ONCSAPI","TABLES","JOB",$J):5  E  D  K X  Q
"RTN","ONCSAPI1",135,0)
 . D ERROR^ONCSAPIE(-15,,"access control node")
"RTN","ONCSAPI1",136,0)
 . D ERRORS("INP")
"RTN","ONCSAPI1",137,0)
 ;
"RTN","ONCSAPI1",138,0)
 S RC=0  D
"RTN","ONCSAPI1",139,0)
 . ;--- Get the table IEN
"RTN","ONCSAPI1",140,0)
 . S TBLIEN=$$GETCSTBL^ONCSAPIT(.ONCSAPI,SITE,HIST,TABLE)
"RTN","ONCSAPI1",141,0)
 . I TBLIEN<0  S RC=TBLIEN  Q
"RTN","ONCSAPI1",142,0)
 . ;--- Check the single code
"RTN","ONCSAPI1",143,0)
 . S CODE=+$G(X)
"RTN","ONCSAPI1",144,0)
 . Q:$D(^XTMP("ONCSAPI","TABLES",TBLIEN,"C",CODE))
"RTN","ONCSAPI1",145,0)
 . ;--- Check the interval
"RTN","ONCSAPI1",146,0)
 . S TMP=$O(^XTMP("ONCSAPI","TABLES",TBLIEN,"C",CODE),-1)
"RTN","ONCSAPI1",147,0)
 . I TMP'=""  D  Q:CODE'>$P(TMP,U,2)
"RTN","ONCSAPI1",148,0)
 . . S TMP=$G(^XTMP("ONCSAPI","TABLES",TBLIEN,"C",TMP))
"RTN","ONCSAPI1",149,0)
 . ;--- Invalid value
"RTN","ONCSAPI1",150,0)
 . K X
"RTN","ONCSAPI1",151,0)
 ;
"RTN","ONCSAPI1",152,0)
 I $D(X)&(RC'<0)  D:SILENT'["D"
"RTN","ONCSAPI1",153,0)
 . Q:$$CODEDESC^ONCSAPIT(.ONCSAPI,SITE,HIST,TABLE,X,"ONCBUF")<0
"RTN","ONCSAPI1",154,0)
 . I ONCBUF(1)["OBSOLETE" K X  W " OBSOLETE code" Q 
"RTN","ONCSAPI1",155,0)
 . S TMP=""
"RTN","ONCSAPI1",156,0)
 . F  S TMP=$O(ONCBUF(TMP))  Q:TMP=""  S ONCBUF(TMP,"F")="!?2"
"RTN","ONCSAPI1",157,0)
 . D EN^DDIOL(.ONCBUF),EN^DDIOL(" ")
"RTN","ONCSAPI1",158,0)
 ;
"RTN","ONCSAPI1",159,0)
 L -^XTMP("ONCSAPI","TABLES","JOB",$J)
"RTN","ONCSAPI1",160,0)
 I RC<0  D:SILENT'["E" ERRORS("INP",RC)  K X
"RTN","ONCSAPI1",161,0)
 Q
"RTN","ONCSAPI1",162,0)
 ;
"RTN","ONCSAPI1",163,0)
CLEANUP ;Cleanup
"RTN","ONCSAPI1",164,0)
 K DIUTIL
"RTN","ONCSAPI3")
0^313^B55610697
"RTN","ONCSAPI3",1,0)
ONCSAPI3 ;Hines OIFO/SG - COLLABORATIVE STAGING (CALCULATE) ;06/23/10
"RTN","ONCSAPI3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPI3",3,0)
 ;
"RTN","ONCSAPI3",4,0)
 ;--- SOAP REQUST TO THE COLLABORATIVE STAGING WEB SERVICE
"RTN","ONCSAPI3",5,0)
 ;
"RTN","ONCSAPI3",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSAPI3",7,0)
 ; <soap:Envelope
"RTN","ONCSAPI3",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSAPI3",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSAPI3",10,0)
 ;   <soap:Body>
"RTN","ONCSAPI3",11,0)
 ;     <CS-CALCULATE xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSAPI3",12,0)
 ;       <HIST> ... </HIST>
"RTN","ONCSAPI3",13,0)
 ;       <SITE> ... </SITE>
"RTN","ONCSAPI3",14,0)
 ;       <DIAGNOSIS_YEAR> ... </DIAGNOSIS_YEAR>
"RTN","ONCSAPI3",15,0)
 ;       <CSVER_ORIGINAL> ... </CSVER_ORIGINAL>
"RTN","ONCSAPI3",16,0)
 ;       <BEHAV> ... </BEHAV>
"RTN","ONCSAPI3",17,0)
 ;       <GRADE> ... </GRADE>
"RTN","ONCSAPI3",18,0)
 ;       <AGE> ... </AGE>
"RTN","ONCSAPI3",19,0)
 ;       <LVI> ... </LVI>
"RTN","ONCSAPI3",20,0)
 ;       <SIZE> ... </SIZE>
"RTN","ONCSAPI3",21,0)
 ;       <EXT> ... </EXT>
"RTN","ONCSAPI3",22,0)
 ;       <EXTEVAL> ... </EXTEVAL>
"RTN","ONCSAPI3",23,0)
 ;       <NODES> ... </NODES>
"RTN","ONCSAPI3",24,0)
 ;       <NODESEVAL> ... </NODESEVAL>
"RTN","ONCSAPI3",25,0)
 ;       <LNPOS> ... </LNPOS>
"RTN","ONCSAPI3",26,0)
 ;       <LNEXAM> ... </LNEXAM>
"RTN","ONCSAPI3",27,0)
 ;       <METS> ... </METS>
"RTN","ONCSAPI3",28,0)
 ;       <METSEVAL> ... </METSEVAL>
"RTN","ONCSAPI3",29,0)
 ;       <SSF1> ... </SSF1>
"RTN","ONCSAPI3",30,0)
 ;       <SSF2> ... </SSF2>
"RTN","ONCSAPI3",31,0)
 ;       <SSF3> ... </SSF3>
"RTN","ONCSAPI3",32,0)
 ;       <SSF4> ... </SSF4>
"RTN","ONCSAPI3",33,0)
 ;       <SSF5> ... </SSF5>
"RTN","ONCSAPI3",34,0)
 ;       <SSF6> ... </SSF6>
"RTN","ONCSAPI3",35,0)
 ;       <SSF7> ... </SSF7>
"RTN","ONCSAPI3",36,0)
 ;       <SSF8> ... </SSF8>
"RTN","ONCSAPI3",37,0)
 ;       <SSF9> ... </SSF9>
"RTN","ONCSAPI3",38,0)
 ;       <SSF10> ... </SSF10>
"RTN","ONCSAPI3",39,0)
 ;       <SSF11> ... </SSF11>
"RTN","ONCSAPI3",40,0)
 ;       <SSF12> ... </SSF12>
"RTN","ONCSAPI3",41,0)
 ;       <SSF13> ... </SSF13>
"RTN","ONCSAPI3",42,0)
 ;       <SSF14> ... </SSF14>
"RTN","ONCSAPI3",43,0)
 ;       <SSF15> ... </SSF15>
"RTN","ONCSAPI3",44,0)
 ;       <SSF16> ... </SSF16>
"RTN","ONCSAPI3",45,0)
 ;       <SSF17> ... </SSF17>
"RTN","ONCSAPI3",46,0)
 ;       <SSF18> ... </SSF18>
"RTN","ONCSAPI3",47,0)
 ;       <SSF19> ... </SSF19>
"RTN","ONCSAPI3",48,0)
 ;       <SSF20> ... </SSF20>
"RTN","ONCSAPI3",49,0)
 ;       <SSF21> ... </SSF21>
"RTN","ONCSAPI3",50,0)
 ;       <SSF22> ... </SSF22>
"RTN","ONCSAPI3",51,0)
 ;       <SSF23> ... </SSF23>
"RTN","ONCSAPI3",52,0)
 ;       <SSF24> ... </SSF24>
"RTN","ONCSAPI3",53,0)
 ;       <SSF25> ... </SSF25>
"RTN","ONCSAPI3",54,0)
 ;     </CS-CALCULATE>
"RTN","ONCSAPI3",55,0)
 ;   </soap:Body >
"RTN","ONCSAPI3",56,0)
 ; </soap:Envelope>
"RTN","ONCSAPI3",57,0)
 ;
"RTN","ONCSAPI3",58,0)
 ;--- SOAP RESPONSE FROM THE COLLABORATIVE STAGING WEB SERVICE
"RTN","ONCSAPI3",59,0)
 ;
"RTN","ONCSAPI3",60,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSAPI3",61,0)
 ; <soap:Envelope
"RTN","ONCSAPI3",62,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSAPI3",63,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSAPI3",64,0)
 ;   <soap:Body>
"RTN","ONCSAPI3",65,0)
 ;     <CS-RESPONSE xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSAPI3",66,0)
 ;       <CS-STOR>
"RTN","ONCSAPI3",67,0)
 ;         <T> ... </T>
"RTN","ONCSAPI3",68,0)
 ;         <TDESCR> ... </TDESCR>
"RTN","ONCSAPI3",69,0)
 ;         <N> ... </N>
"RTN","ONCSAPI3",70,0)
 ;         <NDESCR> ... </NDESCR>
"RTN","ONCSAPI3",71,0)
 ;         <M> ... </M>
"RTN","ONCSAPI3",72,0)
 ;         <MDESCR> ... </MDESCR>
"RTN","ONCSAPI3",73,0)
 ;         <AJCC> ... </AJCC>
"RTN","ONCSAPI3",74,0)
 ;         <AJCC7-T> ... </AJCC7-T>
"RTN","ONCSAPI3",75,0)
 ;         <AJCC7-TDESCR> ... </AJCC7-TDESCR>
"RTN","ONCSAPI3",76,0)
 ;         <AJCC7-N> ... </AJCC7-N>
"RTN","ONCSAPI3",77,0)
 ;         <AJCC7-NDESCR> ... </AJCC7-NDESCR>
"RTN","ONCSAPI3",78,0)
 ;         <AJCC7-M> ... </AJCC7-M>
"RTN","ONCSAPI3",79,0)
 ;         <AJCC7-MDESCR> ... </AJCC7-MDESCR>
"RTN","ONCSAPI3",80,0)
 ;         <AJCC7-STAGE> ... </AJCC7-STAGE>
"RTN","ONCSAPI3",81,0)
 ;         <SS1977> ... </SS1977>
"RTN","ONCSAPI3",82,0)
 ;         <SS2000> ... </SS2000>
"RTN","ONCSAPI3",83,0)
 ;       </CS-STOR>
"RTN","ONCSAPI3",84,0)
 ;       <CS-DISP>
"RTN","ONCSAPI3",85,0)
 ;         <T> ... </T>
"RTN","ONCSAPI3",86,0)
 ;         <TDESCR> ... </TDESCR>
"RTN","ONCSAPI3",87,0)
 ;         <N> ... </N>
"RTN","ONCSAPI3",88,0)
 ;         <NDESCR> ... </NDESCR>
"RTN","ONCSAPI3",89,0)
 ;         <M> ... </M>
"RTN","ONCSAPI3",90,0)
 ;         <MDESCR> ... </MDESCR>
"RTN","ONCSAPI3",91,0)
 ;         <AJCC> ... </AJCC>
"RTN","ONCSAPI3",92,0)
 ;         <AJCC7-T> ... </AJCC7-T>
"RTN","ONCSAPI3",93,0)
 ;         <AJCC7-TDESCR> ... </AJCC7-TDESCR>
"RTN","ONCSAPI3",94,0)
 ;         <AJCC7-N> ... </AJCC7-N>
"RTN","ONCSAPI3",95,0)
 ;         <AJCC7-NDESCR> ... </AJCC7-NDESCR>
"RTN","ONCSAPI3",96,0)
 ;         <AJCC7-M> ... </AJCC7-M>
"RTN","ONCSAPI3",97,0)
 ;         <AJCC7-MDESCR> ... </AJCC7-MDESCR>
"RTN","ONCSAPI3",98,0)
 ;         <AJCC7-STAGE> ... </AJCC7-STAGE>
"RTN","ONCSAPI3",99,0)
 ;         <SS1977> ... </SS1977>
"RTN","ONCSAPI3",100,0)
 ;         <SS2000> ... </SS2000>
"RTN","ONCSAPI3",101,0)
 ;       </CS-DISP>
"RTN","ONCSAPI3",102,0)
 ;       <APIVER> ... </APIVER>
"RTN","ONCSAPI3",103,0)
 ;       <VERSION> ... </VERSION>
"RTN","ONCSAPI3",104,0)
 ;     </CS-RESPONSE>
"RTN","ONCSAPI3",105,0)
 ;     <soap:Fault>
"RTN","ONCSAPI3",106,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSAPI3",107,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSAPI3",108,0)
 ;       <detail>
"RTN","ONCSAPI3",109,0)
 ;         <ERROR> ... </ERROR>
"RTN","ONCSAPI3",110,0)
 ;         <MSG>
"RTN","ONCSAPI3",111,0)
 ;         ...
"RTN","ONCSAPI3",112,0)
 ;         </MSG>
"RTN","ONCSAPI3",113,0)
 ;         <RC> ... </RC>
"RTN","ONCSAPI3",114,0)
 ;       </detail>
"RTN","ONCSAPI3",115,0)
 ;     </soap:Fault>
"RTN","ONCSAPI3",116,0)
 ;   </soap:Body >
"RTN","ONCSAPI3",117,0)
 ; </soap:Envelope>
"RTN","ONCSAPI3",118,0)
 ;
"RTN","ONCSAPI3",119,0)
 Q
"RTN","ONCSAPI3",120,0)
 ;
"RTN","ONCSAPI3",121,0)
 ;***** CALLS THE COLLABORATIVE STAGING WEB SERVICE
"RTN","ONCSAPI3",122,0)
 ;
"RTN","ONCSAPI3",123,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPI3",124,0)
 ;
"RTN","ONCSAPI3",125,0)
 ; .INPUT(       Reference to a local variable containing
"RTN","ONCSAPI3",126,0)
 ;               input parameters.
"RTN","ONCSAPI3",127,0)
 ;
"RTN","ONCSAPI3",128,0)
 ;   "AGE")             Age at Diagnosis
"RTN","ONCSAPI3",129,0)
 ;   "BEHAV")           Behavior Code ICD-O-3
"RTN","ONCSAPI3",130,0)
 ;   "CSVER_ORIGINAL")  CS Version Original
"RTN","ONCSAPI3",131,0)
 ;   "DIAGNOSIS_YEAR")  Year of Diagnosis
"RTN","ONCSAPI3",132,0)
 ;   "EXT")             CS Extension
"RTN","ONCSAPI3",133,0)
 ;   "EXTEVAL")         CS Size/Ext Eval
"RTN","ONCSAPI3",134,0)
 ;   "GRADE")           Grade
"RTN","ONCSAPI3",135,0)
 ;   "HIST")            Histologic Type ICD-O-3
"RTN","ONCSAPI3",136,0)
 ;   "LNPOS")           Regional Nodes Positive
"RTN","ONCSAPI3",137,0)
 ;   "LNEXAM")          Regional Nodes Examined
"RTN","ONCSAPI3",138,0)
 ;   "LVI")             Lymph-vascular invasion
"RTN","ONCSAPI3",139,0)
 ;   "METS")            CS Mets at DX
"RTN","ONCSAPI3",140,0)
 ;   "METSEVAL")        CS Mets Eval
"RTN","ONCSAPI3",141,0)
 ;   "NODES")           CS Lymph Nodes
"RTN","ONCSAPI3",142,0)
 ;   "NODESEVAL")       CS Reg Nodes Eval
"RTN","ONCSAPI3",143,0)
 ;   "SITE")            Primary site
"RTN","ONCSAPI3",144,0)
 ;   "SIZE")            CS Tumor Size
"RTN","ONCSAPI3",145,0)
 ;   "SSF1")            CS Site-Specific Factor 1
"RTN","ONCSAPI3",146,0)
 ;   "SSF2")            CS Site-Specific Factor 2
"RTN","ONCSAPI3",147,0)
 ;   "SSF3")            CS Site-Specific Factor 3
"RTN","ONCSAPI3",148,0)
 ;   "SSF4")            CS Site-Specific Factor 4
"RTN","ONCSAPI3",149,0)
 ;   "SSF5")            CS Site-Specific Factor 5
"RTN","ONCSAPI3",150,0)
 ;   "SSF6")            CS Site-Specific Factor 6
"RTN","ONCSAPI3",151,0)
 ;   "SSF7")            CS Site-Specific Factor 7
"RTN","ONCSAPI3",152,0)
 ;   "SSF8")            CS Site-Specific Factor 8
"RTN","ONCSAPI3",153,0)
 ;   "SSF9")            CS Site-Specific Factor 9
"RTN","ONCSAPI3",154,0)
 ;   "SSF10")           CS Site-Specific Factor 10
"RTN","ONCSAPI3",155,0)
 ;   "SSF11")           CS Site-Specific Factor 11
"RTN","ONCSAPI3",156,0)
 ;   "SSF12")           CS Site-Specific Factor 12
"RTN","ONCSAPI3",157,0)
 ;   "SSF13")           CS Site-Specific Factor 13
"RTN","ONCSAPI3",158,0)
 ;   "SSF14")           CS Site-Specific Factor 14
"RTN","ONCSAPI3",159,0)
 ;   "SSF15")           CS Site-Specific Factor 15
"RTN","ONCSAPI3",160,0)
 ;   "SSF16")           CS Site-Specific Factor 16
"RTN","ONCSAPI3",161,0)
 ;   "SSF17")           CS Site-Specific Factor 17
"RTN","ONCSAPI3",162,0)
 ;   "SSF18")           CS Site-Specific Factor 18
"RTN","ONCSAPI3",163,0)
 ;   "SSF19")           CS Site-Specific Factor 19
"RTN","ONCSAPI3",164,0)
 ;   "SSF20")           CS Site-Specific Factor 20
"RTN","ONCSAPI3",165,0)
 ;   "SSF21")           CS Site-Specific Factor 21
"RTN","ONCSAPI3",166,0)
 ;   "SSF22")           CS Site-Specific Factor 22
"RTN","ONCSAPI3",167,0)
 ;   "SSF23")           CS Site-Specific Factor 23
"RTN","ONCSAPI3",168,0)
 ;   "SSF24")           CS Site-Specific Factor 24
"RTN","ONCSAPI3",169,0)
 ;   "SSF25")           CS Site-Specific Factor 25
"RTN","ONCSAPI3",170,0)
 ;
"RTN","ONCSAPI3",171,0)
 ; .ONCSTOR(     Reference to a local variable where output
"RTN","ONCSAPI3",172,0)
 ;               storage values are returned.
"RTN","ONCSAPI3",173,0)
 ;
"RTN","ONCSAPI3",174,0)
 ;   "AJCC-6")       6th Edition Derived AJCC Stage Group
"RTN","ONCSAPI3",175,0)
 ;   "N-6")          6th Edition Derived AJCC N
"RTN","ONCSAPI3",176,0)
 ;   "NDESCR-6")     6th Edition Derived AJCC N Descriptor
"RTN","ONCSAPI3",177,0)
 ;   "M-6")          6th Edition Derived AJCC M
"RTN","ONCSAPI3",178,0)
 ;   "MDESCR-6")     6th Edition Derived AJCC M Descriptor
"RTN","ONCSAPI3",179,0)
 ;   "AJCC-7")       7th Edition Derived AJCC Stage Group
"RTN","ONCSAPI3",180,0)
 ;   "N-7")          7th Edition Derived AJCC N
"RTN","ONCSAPI3",181,0)
 ;   "NDESCR-7")     7th Edition Derived AJCC N Descriptor
"RTN","ONCSAPI3",182,0)
 ;   "M-7")          7th Edition Derived AJCC M
"RTN","ONCSAPI3",183,0)
 ;   "MDESCR-7")     7th Edition Derived AJCC M Descriptor
"RTN","ONCSAPI3",184,0)
 ;   "SS1977")       Derived SS1977
"RTN","ONCSAPI3",185,0)
 ;   "SS2000")       Derived SS2000
"RTN","ONCSAPI3",186,0)
 ;   "T-6")          6th Edition Derived AJCC T
"RTN","ONCSAPI3",187,0)
 ;   "TDESCR-6")     6th Edition Derived AJCC T Descriptor
"RTN","ONCSAPI3",188,0)
 ;   "T-7")          7th Edition Derived AJCC T
"RTN","ONCSAPI3",189,0)
 ;   "TDESCR-7")     7th Edition Derived AJCC T Descriptor
"RTN","ONCSAPI3",190,0)
 ;
"RTN","ONCSAPI3",191,0)
 ; .ONCDISP(     Reference to a local variable where output
"RTN","ONCSAPI3",192,0)
 ;               display values are returned.
"RTN","ONCSAPI3",193,0)
 ;
"RTN","ONCSAPI3",194,0)
 ;   "AJCC-6")       6th Edition Derived AJCC Stage Group
"RTN","ONCSAPI3",195,0)
 ;   "N-6")          6th Edition Derived AJCC N
"RTN","ONCSAPI3",196,0)
 ;   "NDESCR-6")     6th Edition Derived AJCC N Descriptor
"RTN","ONCSAPI3",197,0)
 ;   "M-6")          6th Edition Derived AJCC M
"RTN","ONCSAPI3",198,0)
 ;   "MDESCR-6")     6th Edition Derived AJCC M Descriptor
"RTN","ONCSAPI3",199,0)
 ;   "AJCC-7")       7th Edition Derived AJCC Stage Group
"RTN","ONCSAPI3",200,0)
 ;   "N-7")          7th Edition Derived AJCC N
"RTN","ONCSAPI3",201,0)
 ;   "NDESCR-7")     7th Edition Derived AJCC N Descriptor
"RTN","ONCSAPI3",202,0)
 ;   "M-7")          7th Edition Derived AJCC M
"RTN","ONCSAPI3",203,0)
 ;   "MDESCR-7")     7th Edition Derived AJCC M Descriptor
"RTN","ONCSAPI3",204,0)
 ;   "SS1977")       Derived SS1977
"RTN","ONCSAPI3",205,0)
 ;   "SS2000")       Derived SS2000
"RTN","ONCSAPI3",206,0)
 ;   "T-6")          6th Edition Derived AJCC T
"RTN","ONCSAPI3",207,0)
 ;   "TDESCR-6")     6th Edition Derived AJCC T Descriptor
"RTN","ONCSAPI3",208,0)
 ;   "T-7")          7th Edition Derived AJCC T
"RTN","ONCSAPI3",209,0)
 ;   "TDESCR-7")     7th Edition Derived AJCC T Descriptor
"RTN","ONCSAPI3",210,0)
 ;
"RTN","ONCSAPI3",211,0)
 ; .ONCSTAT(     Reference to a local variable where status
"RTN","ONCSAPI3",212,0)
 ;               values are returned.
"RTN","ONCSAPI3",213,0)
 ;
"RTN","ONCSAPI3",214,0)
 ;   "APIVER")     Version of the CS API
"RTN","ONCSAPI3",215,0)
 ;
"RTN","ONCSAPI3",216,0)
 ;   "ERROR",      Error Code
"RTN","ONCSAPI3",217,0)
 ;     Name)       Symbolic names of error bits (see
"RTN","ONCSAPI3",218,0)
 ;                 the INVLDINP^ONCSAPI3 for details)
"RTN","ONCSAPI3",219,0)
 ;
"RTN","ONCSAPI3",220,0)
 ;   "MSG",
"RTN","ONCSAPI3",221,0)
 ;     i)          Error message returned by the CStage_calculate
"RTN","ONCSAPI3",222,0)
 ;
"RTN","ONCSAPI3",223,0)
 ;   "RC")         Error code returned by the CS web-service
"RTN","ONCSAPI3",224,0)
 ;
"RTN","ONCSAPI3",225,0)
 ;   "VERSION")    Version of the service
"RTN","ONCSAPI3",226,0)
 ;
"RTN","ONCSAPI3",227,0)
 ; The ^TMP("ONCSAPI3",$J) global node is used by this function.
"RTN","ONCSAPI3",228,0)
 ;
"RTN","ONCSAPI3",229,0)
 ; Note: Patch XT*7.3*67 (VistA XML Parser)) is required for this
"RTN","ONCSAPI3",230,0)
 ;       API to work.
"RTN","ONCSAPI3",231,0)
 ;
"RTN","ONCSAPI3",232,0)
 ; Return values:
"RTN","ONCSAPI3",233,0)
 ;
"RTN","ONCSAPI3",234,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSAPI3",235,0)
 ;           For example:
"RTN","ONCSAPI3",236,0)
 ;             "-1^Missing input parameters^CALC+4^ONCSAPI"
"RTN","ONCSAPI3",237,0)
 ;
"RTN","ONCSAPI3",238,0)
 ;        0  Ok
"RTN","ONCSAPI3",239,0)
 ;
"RTN","ONCSAPI3",240,0)
 ;        1  Probably Ok (warnings)
"RTN","ONCSAPI3",241,0)
 ;
"RTN","ONCSAPI3",242,0)
CALC(ONCSAPI,INPUT,ONCSTOR,ONCDISP,ONCSTAT) ;
"RTN","ONCSAPI3",243,0)
 N ONCCBK,ONCRDAT,ONCSDAT,ONCXML,RC,TMP,URL,X
"RTN","ONCSAPI3",244,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPI3",245,0)
 S ONCRDAT=$NA(^TMP("ONCSAPI3",$J))
"RTN","ONCSAPI3",246,0)
 K ONCDISP,ONCSTAT,ONCSTOR,@ONCRDAT
"RTN","ONCSAPI3",247,0)
 F X="T","TDESCR","N","NDESCR","M","MDESCR","AJCC","AJCC7-T","AJCC7-TDESCR","AJCC7-N","AJCC7-NDESCR","AJCC7-M","AJCC7-MDESCR","AJCC7-STAGE","SS1977","SS2000" D
"RTN","ONCSAPI3",248,0)
 . S (ONCSTOR(X),ONCDISP(X))=""
"RTN","ONCSAPI3",249,0)
 Q:$D(INPUT)<10 $$ERROR^ONCSAPIE(-1)
"RTN","ONCSAPI3",250,0)
 ;
"RTN","ONCSAPI3",251,0)
 ;--- Get the server URL
"RTN","ONCSAPI3",252,0)
 S URL=$$GETCSURL^ONCSAPIU()  Q:URL<0 URL
"RTN","ONCSAPI3",253,0)
 ;
"RTN","ONCSAPI3",254,0)
 ;--- Prepare the request parameters
"RTN","ONCSAPI3",255,0)
 S RC=$$PARAMS^ONCSAPIR("ONCSDAT","CS-CALCULATE",.INPUT)
"RTN","ONCSAPI3",256,0)
 Q:RC<0 RC
"RTN","ONCSAPI3",257,0)
 ;
"RTN","ONCSAPI3",258,0)
 S RC=0  D
"RTN","ONCSAPI3",259,0)
 . ;--- Call the web service
"RTN","ONCSAPI3",260,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPI3",261,0)
 . . D ZW^ONCSAPIU("ONCSDAT","*** 'CALCULATE' REQUEST ***")
"RTN","ONCSAPI3",262,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRDAT,"ONCSDAT")  Q:RC<0
"RTN","ONCSAPI3",263,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPI3",264,0)
 . . D ZW^ONCSAPIU(ONCRDAT,"*** 'CALCULATE' RESPONSE ***")
"RTN","ONCSAPI3",265,0)
 . ;--- Parse the results
"RTN","ONCSAPI3",266,0)
 . D SETCBK(.ONCCBK),EN^MXMLPRSE(ONCRDAT,.ONCCBK,"W")
"RTN","ONCSAPI3",267,0)
 . ;--- Check the CS error codes
"RTN","ONCSAPI3",268,0)
 . S:$G(ONCXML("RC"))<0 ONCSTAT("RC")=ONCXML("RC")
"RTN","ONCSAPI3",269,0)
 . D INVLDINP(.STATUS)
"RTN","ONCSAPI3",270,0)
 . ;--- Check for parsing and web-service errors
"RTN","ONCSAPI3",271,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML,$NA(ONCSTAT("MSG")))
"RTN","ONCSAPI3",272,0)
 ;
"RTN","ONCSAPI3",273,0)
 ;--- Cleanup
"RTN","ONCSAPI3",274,0)
 K ^TMP("ONCSAPI3",$J)
"RTN","ONCSAPI3",275,0)
 Q $S(RC<0:RC,$D(ONCSTAT("MSG"))>1:1,1:0)
"RTN","ONCSAPI3",276,0)
 ;
"RTN","ONCSAPI3",277,0)
 ;***** COMPILES A LIST OF SYMBOLIC ERROR CODES
"RTN","ONCSAPI3",278,0)
 ;
"RTN","ONCSAPI3",279,0)
 ; .STATUS       Reference to a local variable where the list
"RTN","ONCSAPI3",280,0)
 ;               of invalid input parameters is created.
"RTN","ONCSAPI3",281,0)
 ;
"RTN","ONCSAPI3",282,0)
INVLDINP(STATUS) ;
"RTN","ONCSAPI3",283,0)
 ;;01^ NONFAILMSG    ^
"RTN","ONCSAPI3",284,0)
 ;;02^ EXTAJCCFAIL   ^ CS Extension
"RTN","ONCSAPI3",285,0)
 ;;03^ NODESAJCCFAIL ^ CS Lymph Nodes
"RTN","ONCSAPI3",286,0)
 ;;04^ METSAJCCFAIL  ^ CS Mets at DX
"RTN","ONCSAPI3",287,0)
 ;;05^ EXTEVALFAIL   ^ Ext Eval
"RTN","ONCSAPI3",288,0)
 ;;06^ NODESEVALFAIL ^ Nodes Eval
"RTN","ONCSAPI3",289,0)
 ;;07^ METSEVALFAIL  ^ Mets Eval
"RTN","ONCSAPI3",290,0)
 ;;08^ STAGEAJCCFAIL ^ Stage Group
"RTN","ONCSAPI3",291,0)
 ;;09^ EXT77FAIL     ^ SEER 77 Ext
"RTN","ONCSAPI3",292,0)
 ;;10^ NODES77FAIL   ^ SEER 77 Nodes
"RTN","ONCSAPI3",293,0)
 ;;11^ METS77FAIL    ^ SEER 77 Mets
"RTN","ONCSAPI3",294,0)
 ;;12^ STAGE77FAIL   ^ SEER Summary Stage 77
"RTN","ONCSAPI3",295,0)
 ;;13^ EXT2000FAIL   ^ SEER 2000 Ext
"RTN","ONCSAPI3",296,0)
 ;;14^ NODES2000FAIL ^ SEER 2000 Nodes
"RTN","ONCSAPI3",297,0)
 ;;15^ METS2000FAIL  ^ SEER 2000 Mets
"RTN","ONCSAPI3",298,0)
 ;;16^ STAGE2000FAIL ^ SEER Summary Stage 2000
"RTN","ONCSAPI3",299,0)
 ;;17^ SITEFAIL      ^ Primary Site
"RTN","ONCSAPI3",300,0)
 ;;18^ HISTFAIL      ^ Histology
"RTN","ONCSAPI3",301,0)
 ;
"RTN","ONCSAPI3",302,0)
 N ERR,IB,IN,NLST,TMP
"RTN","ONCSAPI3",303,0)
 S ERR=+$G(STATUS("ERROR"))  Q:'ERR
"RTN","ONCSAPI3",304,0)
 S ERR=$REVERSE($$CNV^XLFUTL(ERR,2))
"RTN","ONCSAPI3",305,0)
 ;--- Analyze separate bits of the error code
"RTN","ONCSAPI3",306,0)
 F IB=1:1:18  D:$E(ERR,IB)
"RTN","ONCSAPI3",307,0)
 . S NLST=$TR($P($T(INVLDINP+IB),U,2)," ")
"RTN","ONCSAPI3",308,0)
 . F IN=1:1  S TMP=$P(NLST,",",IN)  Q:TMP=""  D
"RTN","ONCSAPI3",309,0)
 . . S STATUS("ERROR",TMP)=""
"RTN","ONCSAPI3",310,0)
 Q
"RTN","ONCSAPI3",311,0)
 ;
"RTN","ONCSAPI3",312,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPI3",313,0)
SETCBK(ONCCBK) ;
"RTN","ONCSAPI3",314,0)
 ;;CHARACTERS^TEXT^ONCSAPI3
"RTN","ONCSAPI3",315,0)
 ;
"RTN","ONCSAPI3",316,0)
 D SETCBK^ONCSAPIX(.ONCCBK,"SETCBK^ONCSAPI3")
"RTN","ONCSAPI3",317,0)
 Q
"RTN","ONCSAPI3",318,0)
 ;
"RTN","ONCSAPI3",319,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPI3",320,0)
 ;
"RTN","ONCSAPI3",321,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPI3",322,0)
 ;
"RTN","ONCSAPI3",323,0)
TEXT(TXT) ;
"RTN","ONCSAPI3",324,0)
 N ELMT,L,SECT
"RTN","ONCSAPI3",325,0)
 ;--- Individual elements
"RTN","ONCSAPI3",326,0)
 S L=$L(ONCXML("PATH"),","),ELMT=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPI3",327,0)
 I ELMT="detail,MSG"  D  Q
"RTN","ONCSAPI3",328,0)
 . S ONCSTAT("MSG",$O(ONCSTAT("MSG"," "),-1)+1)=$TR(TXT,U,"~")
"RTN","ONCSAPI3",329,0)
 I ELMT="CS-RESPONSE,APIVER"  D  Q
"RTN","ONCSAPI3",330,0)
 . S ONCSTAT("APIVER")=$G(ONCSTAT("APIVER"))_TXT
"RTN","ONCSAPI3",331,0)
 I ELMT="CS-RESPONSE,VERSION"  D  Q
"RTN","ONCSAPI3",332,0)
 . S ONCSTAT("VERSION")=$G(ONCSTAT("VERSION"))_TXT
"RTN","ONCSAPI3",333,0)
 ;--- Sections
"RTN","ONCSAPI3",334,0)
 S SECT=$P(ONCXML("PATH"),",",L-1),ELMT=$P(ONCXML("PATH"),",",L)
"RTN","ONCSAPI3",335,0)
 I SECT="CS-DISP"  D  Q
"RTN","ONCSAPI3",336,0)
 . S ONCDISP(ELMT)=$G(ONCDISP(ELMT))_TXT
"RTN","ONCSAPI3",337,0)
 I SECT="CS-STOR"  D  Q
"RTN","ONCSAPI3",338,0)
 . S ONCSTOR(ELMT)=$G(ONCSTOR(ELMT))_TXT
"RTN","ONCSAPI3",339,0)
 I SECT="detail","ERROR"[ELMT  D  Q
"RTN","ONCSAPI3",340,0)
 . S ONCSTAT(ELMT)=$G(ONCSTAT(ELMT))_TXT
"RTN","ONCSAPI3",341,0)
 ;--- Default processing
"RTN","ONCSAPI3",342,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSAPI3",343,0)
 Q
"RTN","ONCSAPID")
0^314^B21859405
"RTN","ONCSAPID",1,0)
ONCSAPID ;Hines OIFO/SG - COLLABORATIVE STAGING (DEMO) ; 12/7/06 9:33am
"RTN","ONCSAPID",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPID",3,0)
 ;
"RTN","ONCSAPID",4,0)
 Q
"RTN","ONCSAPID",5,0)
 ;
"RTN","ONCSAPID",6,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCSAPID",7,0)
 ;
"RTN","ONCSAPID",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPID",9,0)
 ;
"RTN","ONCSAPID",10,0)
DEMO(ONCSAPI) ;
"RTN","ONCSAPID",11,0)
 N DISPLAY,EXIT,I,INPUT,RC,STATUS,STORE
"RTN","ONCSAPID",12,0)
 W !!?10,"DEMO CLIENT FOR THE COLLABORATIVE STAGING API",!
"RTN","ONCSAPID",13,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSAPID",14,0)
 ;--- Check the DLL version
"RTN","ONCSAPID",15,0)
 S RC=$$CHKVER^ONCSAPIV(.ONCSAPI)
"RTN","ONCSAPID",16,0)
 D:RC<0 PRTERRS^ONCSAPIE()
"RTN","ONCSAPID",17,0)
 ;
"RTN","ONCSAPID",18,0)
 ;---
"RTN","ONCSAPID",19,0)
 S EXIT=0
"RTN","ONCSAPID",20,0)
 F  D  Q:EXIT
"RTN","ONCSAPID",21,0)
 . D CLEAR^ONCSAPIE()
"RTN","ONCSAPID",22,0)
 . ;--- Review/Edit input values
"RTN","ONCSAPID",23,0)
 . S RC=$$INPUT(.INPUT)
"RTN","ONCSAPID",24,0)
 . I RC<0  S EXIT=1  Q
"RTN","ONCSAPID",25,0)
 . ;--- Call the CS API
"RTN","ONCSAPID",26,0)
 . S RC=$$CALC^ONCSAPI3(.ONCSAPI,.INPUT,.STORE,.DISPLAY,.STATUS)
"RTN","ONCSAPID",27,0)
 . ;--- Display the output values
"RTN","ONCSAPID",28,0)
 . W !!,"Output values of the Collaborative Staging API",!
"RTN","ONCSAPID",29,0)
 . I $D(STORE)>1  S I=""  D  W !
"RTN","ONCSAPID",30,0)
 . . F  S I=$O(STORE(I))  Q:I=""  D
"RTN","ONCSAPID",31,0)
 . . . W !?2,$NA(STORE(I))_"="""_$G(STORE(I))_""""
"RTN","ONCSAPID",32,0)
 . . . W ?42,$NA(DISPLAY(I))_"="""_$G(DISPLAY(I))_""""
"RTN","ONCSAPID",33,0)
 . I RC  D  D ZW^ONCSAPIU("STATUS")
"RTN","ONCSAPID",34,0)
 . . W !,"$$CALC^ONCSAPI3="""_RC_"""",!
"RTN","ONCSAPID",35,0)
 . ;--- Display formatted error messages
"RTN","ONCSAPID",36,0)
 . D:RC<0 PRTERRS^ONCSAPIE()
"RTN","ONCSAPID",37,0)
 . ;--- Pause the output
"RTN","ONCSAPID",38,0)
 . S EXIT=$$PAGE^ONCSAPIU()  W !
"RTN","ONCSAPID",39,0)
 ;---
"RTN","ONCSAPID",40,0)
 Q
"RTN","ONCSAPID",41,0)
 ;
"RTN","ONCSAPID",42,0)
 ;***** USER INPUT FOR THE DEMO ENTRY POINT
"RTN","ONCSAPID",43,0)
 ;
"RTN","ONCSAPID",44,0)
 ; .ONCINP       Reference to a local variable for input parameters
"RTN","ONCSAPID",45,0)
 ;
"RTN","ONCSAPID",46,0)
 ; Return values:
"RTN","ONCSAPID",47,0)
 ;
"RTN","ONCSAPID",48,0)
 ;       -2  Timeout
"RTN","ONCSAPID",49,0)
 ;       -1  User entered an up-arrow
"RTN","ONCSAPID",50,0)
 ;        0  Ok
"RTN","ONCSAPID",51,0)
 ;
"RTN","ONCSAPID",52,0)
INPUT(ONCINP) ;
"RTN","ONCSAPID",53,0)
 ;;HIST     ^8000^4^Histologic Type ICD-O-3
"RTN","ONCSAPID",54,0)
 ;;SITE     ^C000^4^Primary Site
"RTN","ONCSAPID",55,0)
 ;;BEHAV    ^3   ^1^Behavior Code ICD-O-3
"RTN","ONCSAPID",56,0)
 ;;GRADE    ^1   ^1^Grade
"RTN","ONCSAPID",57,0)
 ;;AGE      ^043 ^3^Age at Diagnosis
"RTN","ONCSAPID",58,0)
 ;;SIZE     ^010 ^3^CS Tumor Size^1
"RTN","ONCSAPID",59,0)
 ;;EXT      ^200 ^3^CS Extension^2
"RTN","ONCSAPID",60,0)
 ;;EXTEVAL  ^0   ^1^CS Size/Ext Eval^3
"RTN","ONCSAPID",61,0)
 ;;NODES    ^100 ^3^CS Lymph Nodes^4
"RTN","ONCSAPID",62,0)
 ;;NODESEVAL^0   ^1^CS Reg Nodes Eval^5
"RTN","ONCSAPID",63,0)
 ;;LNPOS    ^98  ^2^Regional Nodes Positive^6
"RTN","ONCSAPID",64,0)
 ;;LNEXAM   ^00  ^2^Regional Nodes Examined^7
"RTN","ONCSAPID",65,0)
 ;;METS     ^00  ^2^CS Mets at DX^8
"RTN","ONCSAPID",66,0)
 ;;METSEVAL ^0   ^1^CS Mets Eval^9
"RTN","ONCSAPID",67,0)
 ;;SSF1     ^001 ^3^CS Site-Specific Factor 1^10
"RTN","ONCSAPID",68,0)
 ;;SSF2     ^000 ^3^CS Site-Specific Factor 2^11
"RTN","ONCSAPID",69,0)
 ;;SSF3     ^000 ^3^CS Site-Specific Factor 3^12
"RTN","ONCSAPID",70,0)
 ;;SSF4     ^000 ^3^CS Site-Specific Factor 4^13
"RTN","ONCSAPID",71,0)
 ;;SSF5     ^000 ^3^CS Site-Specific Factor 5^14
"RTN","ONCSAPID",72,0)
 ;;SSF6     ^000 ^3^CS Site-Specific Factor 6^15
"RTN","ONCSAPID",73,0)
 ;
"RTN","ONCSAPID",74,0)
 N DIR,DIRUT,DTOUT,DUOUT,FLDLST,ICOL,IFLD,IIF,IROW,ML,NAME,NFL,NR,ONCBUF,RC,TABLE,TMP,VAL,X,Y
"RTN","ONCSAPID",75,0)
 W !,"Input values for Collaborative Staging API"
"RTN","ONCSAPID",76,0)
 S RC=0
"RTN","ONCSAPID",77,0)
 ;--- Determine number of fields and load default values
"RTN","ONCSAPID",78,0)
 F NFL=1:1  S TMP=$P($T(INPUT+NFL),";;",2)  Q:TMP=""  D
"RTN","ONCSAPID",79,0)
 . S FLDESCR(NFL)=TMP,NAME=$TR($P(TMP,U)," ")
"RTN","ONCSAPID",80,0)
 . S:'$D(ONCINP(NAME)) ONCINP(NAME)=$TR($P(TMP,U,2)," ")
"RTN","ONCSAPID",81,0)
 S NFL=NFL-1
"RTN","ONCSAPID",82,0)
 ;
"RTN","ONCSAPID",83,0)
 ;--- Review and/or edit field values
"RTN","ONCSAPID",84,0)
 F  W !  D  Q:RC
"RTN","ONCSAPID",85,0)
 . ;--- Display current values
"RTN","ONCSAPID",86,0)
 . S NR=NFL\2
"RTN","ONCSAPID",87,0)
 . F IROW=1:1:NR  W !  D
"RTN","ONCSAPID",88,0)
 . . F ICOL=1,2   D
"RTN","ONCSAPID",89,0)
 . . . S IFLD=NR*(ICOL-1)+IROW,X=(ICOL-1)*40
"RTN","ONCSAPID",90,0)
 . . . S TMP=$P($T(INPUT+IFLD),";;",2),NAME=$TR($P(TMP,U)," ")
"RTN","ONCSAPID",91,0)
 . . . W ?(X+2),"["_$J(IFLD,2)_"] "_$P(TMP,U,4)
"RTN","ONCSAPID",92,0)
 . . . W ?(X+35),$G(ONCINP(NAME))
"RTN","ONCSAPID",93,0)
 . ;
"RTN","ONCSAPID",94,0)
 . ;--- Ask for field(s) to be edited
"RTN","ONCSAPID",95,0)
 . K DIR
"RTN","ONCSAPID",96,0)
 . S DIR(0)="LO^1:"_NFL_":0"
"RTN","ONCSAPID",97,0)
 . S DIR("A")="Select a field"
"RTN","ONCSAPID",98,0)
 . S DIR("?")="Enter field number(s), '^' to exit, or hit RETURN to call the CS API."
"RTN","ONCSAPID",99,0)
 . W !  D ^DIR
"RTN","ONCSAPID",100,0)
 . I $D(DTOUT)  S RC=-2  Q
"RTN","ONCSAPID",101,0)
 . I $D(DUOUT)  S RC=-1  Q
"RTN","ONCSAPID",102,0)
 . I '$G(Y)  S RC=1  Q
"RTN","ONCSAPID",103,0)
 . S FLDLST=Y
"RTN","ONCSAPID",104,0)
 . ;
"RTN","ONCSAPID",105,0)
 . F IIF=1:1  S IFLD=$P(FLDLST,",",IIF)  Q:IFLD'>0  D  Q:RC<0
"RTN","ONCSAPID",106,0)
 . . ;--- Edit the field value
"RTN","ONCSAPID",107,0)
 . . S TMP=$P($T(INPUT+IFLD),";;",2)
"RTN","ONCSAPID",108,0)
 . . S NAME=$TR($P(TMP,U)," "),ML=+$TR($P(TMP,U,3)," ")
"RTN","ONCSAPID",109,0)
 . . S TABLE=+$TR($P(TMP,U,5)," ")
"RTN","ONCSAPID",110,0)
 . . K DIR
"RTN","ONCSAPID",111,0)
 . . S DIR(0)="FO^1:"_ML
"RTN","ONCSAPID",112,0)
 . . S:TABLE>0 $P(DIR(0),U,3)="D INPUT^ONCSAPI1("_TABLE_","_ML_",,$G(ONCINP(""SITE"")),$G(ONCINP(""HIST"")))"
"RTN","ONCSAPID",113,0)
 . . S DIR("A")=$P(TMP,U,4)
"RTN","ONCSAPID",114,0)
 . . S DIR("B")=$G(ONCINP(NAME))
"RTN","ONCSAPID",115,0)
 . . S X=$S(ML>1:ML_" characters",1:"1 character")
"RTN","ONCSAPID",116,0)
 . . S DIR("?")="Enter the field value ("_X_")"
"RTN","ONCSAPID",117,0)
 . . S:TABLE>0 DIR("??")="^D HELP^ONCSAPI1("_TABLE_",,$G(ONCINP(""SITE"")),$G(ONCINP(""HIST"")))"
"RTN","ONCSAPID",118,0)
 . . W !
"RTN","ONCSAPID",119,0)
 . . S TMP=$$TBLTTL^ONCSAPIT(,$G(ONCINP("SITE")),$G(ONCINP("HIST")),TABLE)
"RTN","ONCSAPID",120,0)
 . . I TMP'<0  D:$P(TMP,U,3)'="" WW^ONCSAPIU($P(TMP,U,3),75)
"RTN","ONCSAPID",121,0)
 . . D ^DIR
"RTN","ONCSAPID",122,0)
 . . I $D(DTOUT)  S RC=-2  Q
"RTN","ONCSAPID",123,0)
 . . I $D(DUOUT)  S RC=-1  Q
"RTN","ONCSAPID",124,0)
 . . S ONCINP(NAME)=Y
"RTN","ONCSAPID",125,0)
 . S:(RC=-1)!(RC=-2) RC=0
"RTN","ONCSAPID",126,0)
 ;---
"RTN","ONCSAPID",127,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIE")
0^315^B58002089
"RTN","ONCSAPIE",1,0)
ONCSAPIE ;Hines OIFO/SG - COLLABORATIVE STAGING (ERRORS)  ; 10/27/06 8:59am
"RTN","ONCSAPIE",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIE",3,0)
 ;;
"RTN","ONCSAPIE",4,0)
 ;
"RTN","ONCSAPIE",5,0)
 Q
"RTN","ONCSAPIE",6,0)
 ;
"RTN","ONCSAPIE",7,0)
 ;***** INITIALIZES THE ERROR STACK
"RTN","ONCSAPIE",8,0)
 ;
"RTN","ONCSAPIE",9,0)
 ; [ENABLE]      Enable error stack (0/1)
"RTN","ONCSAPIE",10,0)
 ;
"RTN","ONCSAPIE",11,0)
CLEAR(ENABLE) ;
"RTN","ONCSAPIE",12,0)
 S:'$D(ENABLE) ENABLE=$D(ONCSAPI("MSG"))#10
"RTN","ONCSAPIE",13,0)
 K ONCSAPI("MSG")  S:ENABLE ONCSAPI("MSG")=""
"RTN","ONCSAPIE",14,0)
 D CLEAN^DILF
"RTN","ONCSAPIE",15,0)
 Q
"RTN","ONCSAPIE",16,0)
 ;
"RTN","ONCSAPIE",17,0)
 ;***** CHECKS THE ERRORS AFTER A FILEMAN DBS CALL
"RTN","ONCSAPIE",18,0)
 ;
"RTN","ONCSAPIE",19,0)
 ; ONC8MSG       Closed reference of the error messages array
"RTN","ONCSAPIE",20,0)
 ;               (from DBS calls)
"RTN","ONCSAPIE",21,0)
 ; [ERRCODE]     Error code to assign
"RTN","ONCSAPIE",22,0)
 ; [FILE]        File number used in the DBS call
"RTN","ONCSAPIE",23,0)
 ; [IENS]        IENS used in the DBS call
"RTN","ONCSAPIE",24,0)
 ;
"RTN","ONCSAPIE",25,0)
 ; The $$DBS^ONCSAPIE function checks the DIERR and @ONC8MSG
"RTN","ONCSAPIE",26,0)
 ; variables for errors after a FileMan DBS call.
"RTN","ONCSAPIE",27,0)
 ; 
"RTN","ONCSAPIE",28,0)
 ; Return Values:
"RTN","ONCSAPIE",29,0)
 ;
"RTN","ONCSAPIE",30,0)
 ; If there are no errors found, it returns an empty string.
"RTN","ONCSAPIE",31,0)
 ; In case of errors, the result depends on value of the ERRCODE
"RTN","ONCSAPIE",32,0)
 ; parameter:
"RTN","ONCSAPIE",33,0)
 ;
"RTN","ONCSAPIE",34,0)
 ; If ERRCODE is omitted or equals 0, the function returns a string
"RTN","ONCSAPIE",35,0)
 ; containing the list of error codes separated by comma.
"RTN","ONCSAPIE",36,0)
 ; 
"RTN","ONCSAPIE",37,0)
 ; If ERRCODE is not zero, the $$ERROR^ONCSAPIE function is called
"RTN","ONCSAPIE",38,0)
 ; and its return value is returned.
"RTN","ONCSAPIE",39,0)
 ;
"RTN","ONCSAPIE",40,0)
 ; NOTE: This entry point can also be called as a procedure:
"RTN","ONCSAPIE",41,0)
 ;       D DBS^ONCSAPIE(...) if you do not need its return value.
"RTN","ONCSAPIE",42,0)
 ;
"RTN","ONCSAPIE",43,0)
DBS(ONC8MSG,ERRCODE,FILE,IENS) ;
"RTN","ONCSAPIE",44,0)
 I '$G(DIERR)  Q:$QUIT ""  Q
"RTN","ONCSAPIE",45,0)
 N ERRLST,ERRNODE,I,ONCMSGTEXT
"RTN","ONCSAPIE",46,0)
 S ERRNODE=$S($G(ONC8MSG)'="":$NA(@ONC8MSG@("DIERR")),1:$NA(^TMP("DIERR",$J)))
"RTN","ONCSAPIE",47,0)
 I $D(@ERRNODE)<10  Q:$QUIT ""  Q
"RTN","ONCSAPIE",48,0)
 ;--- Return a list of errors
"RTN","ONCSAPIE",49,0)
 I '$G(ERRCODE)  D  Q:$QUIT $P(ERRLST,",",2,99)  Q
"RTN","ONCSAPIE",50,0)
 . S ERRLST="",I=0
"RTN","ONCSAPIE",51,0)
 . F  S I=$O(@ERRNODE@("E",I))  Q:'I  S ERRLST=ERRLST_","_I
"RTN","ONCSAPIE",52,0)
 . D CLEAN^DILF
"RTN","ONCSAPIE",53,0)
 ;--- Record the error message
"RTN","ONCSAPIE",54,0)
 D MSG^DIALOG("AE",.ONCMSGTEXT,,,$G(ONC8MSG)),CLEAN^DILF
"RTN","ONCSAPIE",55,0)
 S I=$S($G(FILE):"; File #"_FILE,1:"")
"RTN","ONCSAPIE",56,0)
 S:$G(IENS)'="" I=I_"; IENS: """_IENS_""""
"RTN","ONCSAPIE",57,0)
 S I=$$ERROR(ERRCODE,.ONCMSGTEXT,I)
"RTN","ONCSAPIE",58,0)
 Q:$QUIT I  Q
"RTN","ONCSAPIE",59,0)
 ;
"RTN","ONCSAPIE",60,0)
 ;***** GENERATES THE ERROR MESSAGE
"RTN","ONCSAPIE",61,0)
 ;
"RTN","ONCSAPIE",62,0)
 ; ERRCODE       Error code.
"RTN","ONCSAPIE",63,0)
 ;               If the 'S' suffix is appended to the code, the error 
"RTN","ONCSAPIE",64,0)
 ;               descriptor will not be stored into the error stack.
"RTN","ONCSAPIE",65,0)
 ;
"RTN","ONCSAPIE",66,0)
 ; [[.]ONCINFO]  Optional additional information (either a string or
"RTN","ONCSAPIE",67,0)
 ;               a reference to a local array that contains strings
"RTN","ONCSAPIE",68,0)
 ;               prepared for storing in a word processing field)
"RTN","ONCSAPIE",69,0)
 ;
"RTN","ONCSAPIE",70,0)
 ; [ARG1-ARG5]   Optional parameters as for $$MSG^ONCSAPIE
"RTN","ONCSAPIE",71,0)
 ;
"RTN","ONCSAPIE",72,0)
 ; Return Values:
"RTN","ONCSAPIE",73,0)
 ;       <0  Error code^Message Text^Label+Offset^Routine
"RTN","ONCSAPIE",74,0)
 ;        0  Ok (if ERRCOCE'<0)
"RTN","ONCSAPIE",75,0)
 ;
"RTN","ONCSAPIE",76,0)
 ; NOTE: This entry point can also be called as a procedure:
"RTN","ONCSAPIE",77,0)
 ;       D ERROR^ONCSAPIE(...) if you do not need its return value.
"RTN","ONCSAPIE",78,0)
 ;
"RTN","ONCSAPIE",79,0)
ERROR(ERRCODE,ONCINFO,ARG1,ARG2,ARG3,ARG4,ARG5) ;
"RTN","ONCSAPIE",80,0)
 I ERRCODE'<0  Q:$QUIT 0  Q
"RTN","ONCSAPIE",81,0)
 N IEN,MSG,PLACE,SL,TMP
"RTN","ONCSAPIE",82,0)
 ;--- Get the error location
"RTN","ONCSAPIE",83,0)
 S SL=$STACK(-1)-1
"RTN","ONCSAPIE",84,0)
 F  Q:SL'>0  D  Q:'(PLACE["^ONCSAPIE")  S SL=SL-1
"RTN","ONCSAPIE",85,0)
 . S PLACE=$P($STACK(SL,"PLACE")," ")
"RTN","ONCSAPIE",86,0)
 S:$G(PLACE)'[U PLACE=U
"RTN","ONCSAPIE",87,0)
 ;--- Prepare the additional information
"RTN","ONCSAPIE",88,0)
 I $D(ONCINFO)=1  S TMP=ONCINFO  K ONCINFO  S ONCINFO(1)=TMP
"RTN","ONCSAPIE",89,0)
 ;--- Prepare and store the message descriptor
"RTN","ONCSAPIE",90,0)
 S MSG=$$MSG(ERRCODE,,.ARG1,.ARG2,.ARG3,.ARG4,.ARG5)
"RTN","ONCSAPIE",91,0)
 S MSG=(+ERRCODE)_U_MSG_U_PLACE
"RTN","ONCSAPIE",92,0)
 D:ERRCODE'["S" STORE(MSG,"ONCINFO")
"RTN","ONCSAPIE",93,0)
 ;---
"RTN","ONCSAPIE",94,0)
 Q:$QUIT MSG  Q
"RTN","ONCSAPIE",95,0)
 ;
"RTN","ONCSAPIE",96,0)
 ;***** RETURNS THE TEXT AND TYPE OF THE MESSAGE
"RTN","ONCSAPIE",97,0)
 ;
"RTN","ONCSAPIE",98,0)
 ; ERRCODE       Error code
"RTN","ONCSAPIE",99,0)
 ;
"RTN","ONCSAPIE",100,0)
 ; [.TYPE]       Type of the error
"RTN","ONCSAPIE",101,0)
 ;
"RTN","ONCSAPIE",102,0)
 ; [ARG1-ARG5]   Optional parameters that substitute the |n| "windows"
"RTN","ONCSAPIE",103,0)
 ;               in the text of the message (for example, the |2| will
"RTN","ONCSAPIE",104,0)
 ;               be substituted by the value of the ARG2).
"RTN","ONCSAPIE",105,0)
 ;
"RTN","ONCSAPIE",106,0)
 ; NOTE: The "^" is replaced with the "~" in the resulting message.
"RTN","ONCSAPIE",107,0)
 ;
"RTN","ONCSAPIE",108,0)
MSG(ERRCODE,TYPE,ARG1,ARG2,ARG3,ARG4,ARG5) ;
"RTN","ONCSAPIE",109,0)
 S TYPE=6  Q:ERRCODE'<0 ""
"RTN","ONCSAPIE",110,0)
 N ARG,I1,I2,MSG
"RTN","ONCSAPIE",111,0)
 ;--- Get a descriptor of the message
"RTN","ONCSAPIE",112,0)
 S I1=-ERRCODE,MSG=$P($T(MSGLIST+I1),";;",2)
"RTN","ONCSAPIE",113,0)
 S I1=+$TR($P(MSG,U,2)," "),MSG=$P(MSG,U,3,999)
"RTN","ONCSAPIE",114,0)
 S:I1>0 TYPE=I1
"RTN","ONCSAPIE",115,0)
 Q:MSG?." " "Unknown error ("_ERRCODE_")"
"RTN","ONCSAPIE",116,0)
 ;--- Substitute parameters
"RTN","ONCSAPIE",117,0)
 S I1=2
"RTN","ONCSAPIE",118,0)
 F  S I1=$F(MSG,"|",I1-1)  Q:'I1  D
"RTN","ONCSAPIE",119,0)
 . S I2=$F(MSG,"|",I1)  Q:'I2
"RTN","ONCSAPIE",120,0)
 . X "S ARG=$G(ARG"_+$TR($E(MSG,I1,I2-2)," ")_")"
"RTN","ONCSAPIE",121,0)
 . S $E(MSG,I1-1,I2-1)=ARG
"RTN","ONCSAPIE",122,0)
 Q $TR($$TRIM^XLFSTR(MSG),U,"~")
"RTN","ONCSAPIE",123,0)
 ;
"RTN","ONCSAPIE",124,0)
 ;***** DISPLAYS THE ERROR STACK OR A SINGLE ERROR MESSAGE
"RTN","ONCSAPIE",125,0)
 ;
"RTN","ONCSAPIE",126,0)
 ; [ERROR]       Descriptor of a single error to be displayed
"RTN","ONCSAPIE",127,0)
 ;
"RTN","ONCSAPIE",128,0)
PRTERRS(ERROR) ;
"RTN","ONCSAPIE",129,0)
 Q:'$G(ERROR)&($D(ONCSAPI("MSG"))<10)
"RTN","ONCSAPIE",130,0)
 N EXIT,IMSG,INFONODE,ONCMNL
"RTN","ONCSAPIE",131,0)
 S ONCMNL=$S($G(IOSL)>3:IOSL-3,1:20),$Y=0
"RTN","ONCSAPIE",132,0)
 ;--- Print table header
"RTN","ONCSAPIE",133,0)
 D EN^DDIOL("Code",,"!"),EN^DDIOL("Description",,"?6")
"RTN","ONCSAPIE",134,0)
 D EN^DDIOL("Additional Information",,"!?6")
"RTN","ONCSAPIE",135,0)
 D EN^DDIOL("Type",,"!?6"),EN^DDIOL("Location",,"?22")
"RTN","ONCSAPIE",136,0)
 D EN^DDIOL("----",,"!"),EN^DDIOL($$REPEAT^XLFSTR("-",IOM-7),,"?6")
"RTN","ONCSAPIE",137,0)
 ;--- Print a single error message
"RTN","ONCSAPIE",138,0)
 I $G(ERROR)  S EXIT=$$PRT1ERR(ERROR)  Q
"RTN","ONCSAPIE",139,0)
 ;--- Print the error stack (most recent messages first)
"RTN","ONCSAPIE",140,0)
 S IMSG=" ",EXIT=0
"RTN","ONCSAPIE",141,0)
 F  S IMSG=$O(ONCSAPI("MSG",IMSG),-1)  Q:IMSG'>0  D  Q:EXIT
"RTN","ONCSAPIE",142,0)
 . S INFONODE=$NA(ONCSAPI("MSG",IMSG,1))
"RTN","ONCSAPIE",143,0)
 . S EXIT=$$PRT1ERR(ONCSAPI("MSG",IMSG,0),INFONODE)
"RTN","ONCSAPIE",144,0)
 Q
"RTN","ONCSAPIE",145,0)
 ;
"RTN","ONCSAPIE",146,0)
PRT1ERR(ERR,ONC8INFO) ;
"RTN","ONCSAPIE",147,0)
 N EXIT,I,LOC,TYPE
"RTN","ONCSAPIE",148,0)
 S LOC=$S($P(ERR,U,4)'="":$P(ERR,U,3,4),1:$P(ERR,U,3))
"RTN","ONCSAPIE",149,0)
 S I=$$TYPE(+ERR,.TYPE)
"RTN","ONCSAPIE",150,0)
 ;---
"RTN","ONCSAPIE",151,0)
 S EXIT=0  D
"RTN","ONCSAPIE",152,0)
 . D EN^DDIOL($J(+ERR,4),,"!"),EN^DDIOL($E($P(ERR,U,2),1,IOM-7),,"?6")
"RTN","ONCSAPIE",153,0)
 . I $Y'<ONCMNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPIE",154,0)
 . ;---
"RTN","ONCSAPIE",155,0)
 . I $G(ONC8INFO)'="",$D(@ONC8INFO)>1  S I=""  D
"RTN","ONCSAPIE",156,0)
 ..;Error text formatting
"RTN","ONCSAPIE",157,0)
 ..I ONC8INFO="ONCSAPI(""MSG"",1,1)" D
"RTN","ONCSAPIE",158,0)
 ...N LINECNT,LINE,LINE1,LINE2,SUB
"RTN","ONCSAPIE",159,0)
 ...S LINECNT=0
"RTN","ONCSAPIE",160,0)
 ...S SUB=0 F  S SUB=$O(ONCSAPI("MSG","1",1,SUB)) Q:SUB'>0  S LINE=ONCSAPI("MSG","1",1,SUB) D
"RTN","ONCSAPIE",161,0)
 ....S LINECNT=LINECNT+1
"RTN","ONCSAPIE",162,0)
 ....S LINE1=$P(LINE,".",1)
"RTN","ONCSAPIE",163,0)
 ....S LINE2=$P(LINE,".",2)
"RTN","ONCSAPIE",164,0)
 ....S ONCSAPI("NEWMSG","1",1,LINECNT)=LINE1_"."
"RTN","ONCSAPIE",165,0)
 ....I LINE2'="" S LINECNT=LINECNT+1 S ONCSAPI("NEWMSG","1",1,LINECNT)=LINE2_"."
"RTN","ONCSAPIE",166,0)
 ...M ONCSAPI("MSG")=ONCSAPI("NEWMSG")
"RTN","ONCSAPIE",167,0)
 . . F  S I=$O(@ONC8INFO@(I))  Q:I=""  D  Q:EXIT
"RTN","ONCSAPIE",168,0)
 . . . D EN^DDIOL($E(@ONC8INFO@(I),1,IOM-7),,"!?6")
"RTN","ONCSAPIE",169,0)
 . . . S:$Y'<ONCMNL EXIT=$$PAGE^ONCSAPIU()
"RTN","ONCSAPIE",170,0)
 . Q:EXIT
"RTN","ONCSAPIE",171,0)
 . ;---
"RTN","ONCSAPIE",172,0)
 . D EN^DDIOL(TYPE,,"!?6"),EN^DDIOL(LOC,,"?22"):LOC'?.1"^"
"RTN","ONCSAPIE",173,0)
 . I $Y'<ONCMNL  S EXIT=$$PAGE^ONCSAPIU()  Q:EXIT
"RTN","ONCSAPIE",174,0)
 ;---
"RTN","ONCSAPIE",175,0)
 D EN^DDIOL(" ")
"RTN","ONCSAPIE",176,0)
 Q EXIT
"RTN","ONCSAPIE",177,0)
 ;
"RTN","ONCSAPIE",178,0)
 ;***** STORES THE MESSAGE INTO THE ERROR STACK
"RTN","ONCSAPIE",179,0)
 ;
"RTN","ONCSAPIE",180,0)
 ; ERROR         Error descriptor (see ^ONCSAPI)
"RTN","ONCSAPIE",181,0)
 ;
"RTN","ONCSAPIE",182,0)
 ; [ONC8INFO]    Closed root of the variable that contains
"RTN","ONCSAPIE",183,0)
 ;               additional information related to the error
"RTN","ONCSAPIE",184,0)
 ;
"RTN","ONCSAPIE",185,0)
STORE(ERROR,ONC8INFO) ;
"RTN","ONCSAPIE",186,0)
 Q:'$D(ONCSAPI("MSG"))!($G(ERROR)'<0)
"RTN","ONCSAPIE",187,0)
 N IEN
"RTN","ONCSAPIE",188,0)
 S IEN=$O(ONCSAPI("MSG"," "),-1)+1
"RTN","ONCSAPIE",189,0)
 S ONCSAPI("MSG",IEN,0)=ERROR
"RTN","ONCSAPIE",190,0)
 M:$G(ONC8INFO)'="" ONCSAPI("MSG",IEN,1)=@ONC8INFO
"RTN","ONCSAPIE",191,0)
 S ONCSAPI("MSG","E",+ERROR,IEN)=""
"RTN","ONCSAPIE",192,0)
 Q
"RTN","ONCSAPIE",193,0)
 ;
"RTN","ONCSAPIE",194,0)
 ;***** RETURNS TYPE OF THE MESSAGE
"RTN","ONCSAPIE",195,0)
 ;
"RTN","ONCSAPIE",196,0)
 ; ERRCODE       Error code
"RTN","ONCSAPIE",197,0)
 ;
"RTN","ONCSAPIE",198,0)
 ; [.DESCR]      Reference to a local variable where the type
"RTN","ONCSAPIE",199,0)
 ;               description is returned to
"RTN","ONCSAPIE",200,0)
 ;
"RTN","ONCSAPIE",201,0)
TYPE(ERRCODE,DESCR) ;
"RTN","ONCSAPIE",202,0)
 I ERRCODE'<0  S DESCR=""  Q 0
"RTN","ONCSAPIE",203,0)
 N I,TYPE  S I=-ERRCODE
"RTN","ONCSAPIE",204,0)
 S I=$P($T(MSGLIST+I),";;",2),TYPE=+$TR($P(I,U,2)," ")
"RTN","ONCSAPIE",205,0)
 S:TYPE'>0 TYPE=6
"RTN","ONCSAPIE",206,0)
 S DESCR=$P("Debug^Information^Data Quality^Warning^Database Error^Error",U,TYPE)
"RTN","ONCSAPIE",207,0)
 Q TYPE
"RTN","ONCSAPIE",208,0)
 ;
"RTN","ONCSAPIE",209,0)
 ;***** LIST OF THE MESSAGES (THERE SHOULD BE NOTHING AFTER THE LIST!)
"RTN","ONCSAPIE",210,0)
 ;
"RTN","ONCSAPIE",211,0)
 ; The error codes are provided in the table only for clarity.
"RTN","ONCSAPIE",212,0)
 ; Text of the messages are extracted using the $TEXT function and
"RTN","ONCSAPIE",213,0)
 ; absolute values of the ERRCODE parameter.
"RTN","ONCSAPIE",214,0)
 ;
"RTN","ONCSAPIE",215,0)
 ; Message Type:
"RTN","ONCSAPIE",216,0)
 ;               1  Debug          4  Warning
"RTN","ONCSAPIE",217,0)
 ;               2  Information    5  Database Error
"RTN","ONCSAPIE",218,0)
 ;               3  Data Quality   6  Error
"RTN","ONCSAPIE",219,0)
 ;
"RTN","ONCSAPIE",220,0)
MSGLIST ; Code Type  Message Text
"RTN","ONCSAPIE",221,0)
 ;;  -1 ^ 6 ^ Missing input parameters
"RTN","ONCSAPIE",222,0)
 ;;  -2 ^ 6 ^ Errors returned by the Oncology web-service
"RTN","ONCSAPIE",223,0)
 ;;  -3 ^ 4 ^ XML parsing warning
"RTN","ONCSAPIE",224,0)
 ;;  -4 ^ 6 ^ XML parsing error
"RTN","ONCSAPIE",225,0)
 ;;  -5 ^ 6 ^ Error(s) during parsing of the result XML
"RTN","ONCSAPIE",226,0)
 ;;  -6 ^ 6 ^ Parameter '|1|' has an invalid value: '|2|'
"RTN","ONCSAPIE",227,0)
 ;;  -7 ^ 2 ^ Oncology web-service temporary moved to '|1|'
"RTN","ONCSAPIE",228,0)
 ;;  -8 ^ 2 ^ Oncology web-service permanently moved to '|1|'
"RTN","ONCSAPIE",229,0)
 ;;  -9 ^ 6 ^ FileMan DBS call error(s)|2|
"RTN","ONCSAPIE",230,0)
 ;; -10 ^ 6 ^ HTTP client error(s)
"RTN","ONCSAPIE",231,0)
 ;; -11 ^ 6 ^ Invalid URL of the Oncology web-service
"RTN","ONCSAPIE",232,0)
 ;; -12 ^ 6 ^ Too many redirections (|1|)
"RTN","ONCSAPIE",233,0)
 ;; -13 ^ 6 ^ Cannot get the CS version number
"RTN","ONCSAPIE",234,0)
 ;; -14 ^ 6 ^ Cannot get the schema number and name
"RTN","ONCSAPIE",235,0)
 ;; -15 ^ 6 ^ Cannot lock the |1|
"RTN","ONCSAPIE",236,0)
 ;; -16 ^ 6 ^ Invalid combination of input parameters: |1|
"RTN","ONCSAPIE",237,0)
 ;; -17 ^ 6 ^ Cannot update the Oncology web-service URL in file #160.1
"RTN","ONCSAPIE",238,0)
 ;; -18 ^ 6 ^ Missing redirection URL
"RTN","ONCSAPIE",239,0)
 ;; -19 ^ 2 ^ Unfortunately, the extended help is unavailable now.
"RTN","ONCSAPIE",240,0)
 ;; -20 ^ 2 ^ Unfortunately, input value cannot be validated.
"RTN","ONCSAPIE",241,0)
 ;; -21 ^ 2 ^ Unfortunately, the code description is unavailable now.
"RTN","ONCSAPIE",242,0)
 ;; -22 ^ 6 ^ Cannot get the URL of the Oncology web-service
"RTN","ONCSAPIE",243,0)
 ;; -23 ^ 6 ^ Cannot get the EDITS metafile version number
"RTN","ONCSAPIE",244,0)
 ;
"RTN","ONCSAPIE",245,0)
CLEANUP ;Cleanup
"RTN","ONCSAPIE",246,0)
 K DIERR,ONCSAPI
"RTN","ONCSAPIR")
0^316^B26610695
"RTN","ONCSAPIR",1,0)
ONCSAPIR ;Hines OIFO/SG - COLLABORATIVE STAGING (REQUEST)  ; 2/8/07 8:28am
"RTN","ONCSAPIR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIR",3,0)
 ;
"RTN","ONCSAPIR",4,0)
 ; ONC8DST ------------- DESCRIPTOR OF THE DESTINATION BUFFER
"RTN","ONCSAPIR",5,0)
 ;                       (a parameter of HEADER, PUT, and TRAILER)
"RTN","ONCSAPIR",6,0)
 ;
"RTN","ONCSAPIR",7,0)
 ; ONC8DST(              Closed root of the destination buffer
"RTN","ONCSAPIR",8,0)
 ;   "PTR")              Pointer in the destination buffer
"RTN","ONCSAPIR",9,0)
 ;   "PTRC")             Continuation pointer (optional)
"RTN","ONCSAPIR",10,0)
 ;   "REQ")              Name of the root tag of the request
"RTN","ONCSAPIR",11,0)
 ;
"RTN","ONCSAPIR",12,0)
 Q
"RTN","ONCSAPIR",13,0)
 ;
"RTN","ONCSAPIR",14,0)
 ;***** APPENDS THE STRING TO THE LAST LINE OF THE DESTINATION BUFFER
"RTN","ONCSAPIR",15,0)
 ;
"RTN","ONCSAPIR",16,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",17,0)
 ;
"RTN","ONCSAPIR",18,0)
 ; STR           String
"RTN","ONCSAPIR",19,0)
 ;
"RTN","ONCSAPIR",20,0)
 ; [NOENC]       Disable XML encoding (enabled by default)
"RTN","ONCSAPIR",21,0)
 ;
"RTN","ONCSAPIR",22,0)
 ; This procedure appends the string as the continuation node
"RTN","ONCSAPIR",23,0)
 ; to the last line added by the PUT^ONCSAPIR.
"RTN","ONCSAPIR",24,0)
 ;
"RTN","ONCSAPIR",25,0)
APPEND(ONC8DST,STR,NOENC) ;
"RTN","ONCSAPIR",26,0)
 Q:$G(ONC8DST("PTR"))'>0
"RTN","ONCSAPIR",27,0)
 N ENCSTR,I1,I2,S1
"RTN","ONCSAPIR",28,0)
 S ENCSTR=$S('$G(NOENC):$$SYMENC^MXMLUTL(STR),1:STR)
"RTN","ONCSAPIR",29,0)
 S I2=0
"RTN","ONCSAPIR",30,0)
 F  S I1=I2+1,I2=I1+249,S1=$E(ENCSTR,I1,I2)  Q:S1=""  D
"RTN","ONCSAPIR",31,0)
 . S ONC8DST("PTRC")=$G(ONC8DST("PTRC"))+1
"RTN","ONCSAPIR",32,0)
 . S @ONC8DST@(ONC8DST("PTR"),ONC8DST("PTRC"))=S1
"RTN","ONCSAPIR",33,0)
 Q
"RTN","ONCSAPIR",34,0)
 ;
"RTN","ONCSAPIR",35,0)
 ;***** CHECKS FOR PARSING AND WEB SERVICE ERRORS
"RTN","ONCSAPIR",36,0)
 ;
"RTN","ONCSAPIR",37,0)
 ; .ONCXML       Reference to the XML parsing descriptor
"RTN","ONCSAPIR",38,0)
 ;
"RTN","ONCSAPIR",39,0)
 ; [ONC8INFO]    Closed root of the variable that contains
"RTN","ONCSAPIR",40,0)
 ;               additional information related to the error
"RTN","ONCSAPIR",41,0)
 ;
"RTN","ONCSAPIR",42,0)
 ; Return values:
"RTN","ONCSAPIR",43,0)
 ;
"RTN","ONCSAPIR",44,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIR",45,0)
 ;        0  Ok
"RTN","ONCSAPIR",46,0)
 ;        1  Warning(s)
"RTN","ONCSAPIR",47,0)
 ;
"RTN","ONCSAPIR",48,0)
CHKERR(ONCXML,ONC8INFO) ;
"RTN","ONCSAPIR",49,0)
 N RC,TMP
"RTN","ONCSAPIR",50,0)
 I $G(ONCXML("ERR"))>0  Q $$ERROR^ONCSAPIE(-5)
"RTN","ONCSAPIR",51,0)
 I $G(ONCXML("FAULTCODE"))'=""  D  Q RC
"RTN","ONCSAPIR",52,0)
 . S TMP=$TR($G(ONCXML("FAULTSTRING")),"^","~")
"RTN","ONCSAPIR",53,0)
 . S:TMP="" TMP="Unknown error"
"RTN","ONCSAPIR",54,0)
 . S RC="-2"_U_ONCXML("FAULTCODE")_": "_TMP
"RTN","ONCSAPIR",55,0)
 . D STORE^ONCSAPIE(RC,$G(ONC8INFO))
"RTN","ONCSAPIR",56,0)
 . ;--- Error code -11 is returned by the web-service if the
"RTN","ONCSAPIR",57,0)
 . ;    CStage_calculate function calculated only some staging
"RTN","ONCSAPIR",58,0)
 . ;--- values and returned warning(s).
"RTN","ONCSAPIR",59,0)
 . S:+$G(ONCXML("RC"))=-11 RC=1
"RTN","ONCSAPIR",60,0)
 Q 0
"RTN","ONCSAPIR",61,0)
 ;
"RTN","ONCSAPIR",62,0)
 ;***** STORES THE REQUEST HEADER INTO THE DESTINATION BUFFER
"RTN","ONCSAPIR",63,0)
 ;
"RTN","ONCSAPIR",64,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",65,0)
 ;
"RTN","ONCSAPIR",66,0)
 ; REQUEST       Name of the root tag of the request.
"RTN","ONCSAPIR",67,0)
 ;
"RTN","ONCSAPIR",68,0)
 ; [.ATTS]       Reference to a local variable that stores a list
"RTN","ONCSAPIR",69,0)
 ;               of attribute values (ATTS(name)=value).
"RTN","ONCSAPIR",70,0)
 ;
"RTN","ONCSAPIR",71,0)
HEADER(ONC8DST,REQUEST,ATTS) ;
"RTN","ONCSAPIR",72,0)
 ;;<soap:Envelope xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSAPIR",73,0)
 ;; soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSAPIR",74,0)
 ;;<soap:Body>
"RTN","ONCSAPIR",75,0)
 ;
"RTN","ONCSAPIR",76,0)
 N I,TAG,TMP
"RTN","ONCSAPIR",77,0)
 S ONC8DST("PTR")=0  K @ONC8DST
"RTN","ONCSAPIR",78,0)
 D PUT(.ONC8DST,,$$XMLHDR^MXMLUTL())
"RTN","ONCSAPIR",79,0)
 F I=1:1  S TMP=$P($T(HEADER+I),";;",2)  Q:TMP=""  D
"RTN","ONCSAPIR",80,0)
 . D PUT(.ONC8DST,,TMP)
"RTN","ONCSAPIR",81,0)
 S TAG=REQUEST,I=""
"RTN","ONCSAPIR",82,0)
 F  S I=$O(ATTS(I))  Q:I=""  D
"RTN","ONCSAPIR",83,0)
 . S TAG=TAG_" "_I_"="""_$$SYMENC^MXMLUTL(ATTS(I))_""""
"RTN","ONCSAPIR",84,0)
 S TAG=TAG_" ver=""2.0"" xmlns=""http://websrv.oncology.domain.ext"""
"RTN","ONCSAPIR",85,0)
 D PUT(.ONC8DST,TAG,,1)
"RTN","ONCSAPIR",86,0)
 S ONC8DST("REQ")=REQUEST
"RTN","ONCSAPIR",87,0)
 Q
"RTN","ONCSAPIR",88,0)
 ;
"RTN","ONCSAPIR",89,0)
 ;***** CONVERTS INPUT PARAMETERS INTO XML FORMAT
"RTN","ONCSAPIR",90,0)
 ;
"RTN","ONCSAPIR",91,0)
 ; ONC8DST       Closed root of the destination buffer
"RTN","ONCSAPIR",92,0)
 ;
"RTN","ONCSAPIR",93,0)
 ; REQUEST       Name of the root tag of the request.
"RTN","ONCSAPIR",94,0)
 ;
"RTN","ONCSAPIR",95,0)
 ; [.INPUT]      Reference to a local variable containg
"RTN","ONCSAPIR",96,0)
 ;               input parameters.
"RTN","ONCSAPIR",97,0)
 ;
"RTN","ONCSAPIR",98,0)
 ; Return values:
"RTN","ONCSAPIR",99,0)
 ;
"RTN","ONCSAPIR",100,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIR",101,0)
 ;        0  Ok
"RTN","ONCSAPIR",102,0)
 ;
"RTN","ONCSAPIR",103,0)
PARAMS(ONC8DST,REQUEST,INPUT) ;
"RTN","ONCSAPIR",104,0)
 N I,NAME,VAL
"RTN","ONCSAPIR",105,0)
 D HEADER(.ONC8DST,REQUEST)
"RTN","ONCSAPIR",106,0)
 ;---
"RTN","ONCSAPIR",107,0)
 S NAME=""
"RTN","ONCSAPIR",108,0)
 F  S NAME=$O(INPUT(NAME))  Q:NAME=""  D
"RTN","ONCSAPIR",109,0)
 . S VAL=$G(INPUT(NAME))  D:VAL'="" PUT(.ONC8DST,NAME,VAL)
"RTN","ONCSAPIR",110,0)
 ;---
"RTN","ONCSAPIR",111,0)
 D TRAILER(.ONC8DST)
"RTN","ONCSAPIR",112,0)
 Q 0
"RTN","ONCSAPIR",113,0)
 ;
"RTN","ONCSAPIR",114,0)
 ;***** ADDS THE ELEMENT/TEXT TO THE DESTINATION BUFFER
"RTN","ONCSAPIR",115,0)
 ;
"RTN","ONCSAPIR",116,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",117,0)
 ;
"RTN","ONCSAPIR",118,0)
 ; [NAME]        Name of the element. If omitted or empty then the
"RTN","ONCSAPIR",119,0)
 ;               text line defined by the second parameter is added
"RTN","ONCSAPIR",120,0)
 ;               to the buffer.
"RTN","ONCSAPIR",121,0)
 ;
"RTN","ONCSAPIR",122,0)
 ; [VAL]         Value of the element.
"RTN","ONCSAPIR",123,0)
 ;
"RTN","ONCSAPIR",124,0)
 ; [TAGONLY]     Ignore the value and output only the tag defined
"RTN","ONCSAPIR",125,0)
 ;               by the NAME parameter
"RTN","ONCSAPIR",126,0)
 ;
"RTN","ONCSAPIR",127,0)
PUT(ONC8DST,NAME,VAL,TAGONLY) ;
"RTN","ONCSAPIR",128,0)
 S (ONC8DST("PTR"),PTR)=ONC8DST("PTR")+1  K ONC8DST("PTRC")
"RTN","ONCSAPIR",129,0)
 I $G(NAME)=""  S @ONC8DST@(PTR)=$G(VAL)        Q
"RTN","ONCSAPIR",130,0)
 I $G(TAGONLY)  S @ONC8DST@(PTR)="<"_NAME_">"   Q
"RTN","ONCSAPIR",131,0)
 I $G(VAL)=""   S @ONC8DST@(PTR)="<"_NAME_"/>"  Q
"RTN","ONCSAPIR",132,0)
 S @ONC8DST@(PTR)="<"_NAME_">"_$$SYMENC^MXMLUTL(VAL)_"</"_NAME_">"
"RTN","ONCSAPIR",133,0)
 Q
"RTN","ONCSAPIR",134,0)
 ;
"RTN","ONCSAPIR",135,0)
 ;***** SENDS THE REQUEST AND GETS THE RESPONSE
"RTN","ONCSAPIR",136,0)
 ;
"RTN","ONCSAPIR",137,0)
 ; URL           URL (http://host:port/path)
"RTN","ONCSAPIR",138,0)
 ;
"RTN","ONCSAPIR",139,0)
 ; ONC8RSP       Closed root of the variable where the
"RTN","ONCSAPIR",140,0)
 ;               response text will be returned.
"RTN","ONCSAPIR",141,0)
 ;
"RTN","ONCSAPIR",142,0)
 ; [ONC8REQ]     Closed root of the variable containing
"RTN","ONCSAPIR",143,0)
 ;               the text of the request.
"RTN","ONCSAPIR",144,0)
 ;
"RTN","ONCSAPIR",145,0)
 ; Return Values:
"RTN","ONCSAPIR",146,0)
 ;        0  Ok
"RTN","ONCSAPIR",147,0)
 ;       <0  Error code
"RTN","ONCSAPIR",148,0)
 ;
"RTN","ONCSAPIR",149,0)
REQUEST(URL,ONC8RSP,ONC8REQ) ;
"RTN","ONCSAPIR",150,0)
 N HS,ONCINFO,ONCRHDR,ONCSHDR,RC,REPCNT,REPEAT,TMP
"RTN","ONCSAPIR",151,0)
 ;--- Prepare the request header
"RTN","ONCSAPIR",152,0)
 S ONCSHDR("Content-Type")="text/xml"
"RTN","ONCSAPIR",153,0)
 ;---
"RTN","ONCSAPIR",154,0)
 S (RC,REPCNT)=0  D
"RTN","ONCSAPIR",155,0)
 . F  S REPEAT=0  D  Q:'REPEAT
"RTN","ONCSAPIR",156,0)
 . . ;--- Call the web service
"RTN","ONCSAPIR",157,0)
 . . S RC=$$GETURL^ONCX10(URL,60,ONC8RSP,.ONCRHDR,$G(ONC8REQ),.ONCSHDR)
"RTN","ONCSAPIR",158,0)
 . . S HS=+RC  Q:HS=200
"RTN","ONCSAPIR",159,0)
 . . ;--- Temporary redirection
"RTN","ONCSAPIR",160,0)
 . . I HS=302  D  Q
"RTN","ONCSAPIR",161,0)
 . . . S REPCNT=REPCNT+1
"RTN","ONCSAPIR",162,0)
 . . . I REPCNT>5  S RC=$$ERROR^ONCSAPIE(-12,,REPCNT)  Q
"RTN","ONCSAPIR",163,0)
 . . . S URL=$G(ONCRHDR("LOCATION"))
"RTN","ONCSAPIR",164,0)
 . . . I URL?." "  S RC=$$ERROR^ONCSAPIE(-18)          Q
"RTN","ONCSAPIR",165,0)
 . . . D ERROR^ONCSAPIE(-7,,URL)  S REPEAT=1,RC=0
"RTN","ONCSAPIR",166,0)
 . . ;--- Permanent redirection
"RTN","ONCSAPIR",167,0)
 . . I HS=301  D  Q
"RTN","ONCSAPIR",168,0)
 . . . S REPCNT=REPCNT+1
"RTN","ONCSAPIR",169,0)
 . . . I REPCNT>5  S RC=$$ERROR^ONCSAPIE(-12,,REPCNT)  Q
"RTN","ONCSAPIR",170,0)
 . . . S URL=$G(ONCRHDR("LOCATION"))
"RTN","ONCSAPIR",171,0)
 . . . I URL?." "  S RC=$$ERROR^ONCSAPIE(-18)          Q
"RTN","ONCSAPIR",172,0)
 . . . S RC=$$UPDCSURL^ONCSAPIU(URL)                   Q:RC<0
"RTN","ONCSAPIR",173,0)
 . . . D ERROR^ONCSAPIE(-8,,URL)  S REPEAT=1,RC=0
"RTN","ONCSAPIR",174,0)
 . . ;--- Record the HTTP client error
"RTN","ONCSAPIR",175,0)
 . . K ONCINFO  S ONCINFO(1)=$P(RC,U,2)_" ("_$P(RC,U)_")"
"RTN","ONCSAPIR",176,0)
 . . S RC=$$ERROR^ONCSAPIE(-10,.ONCINFO)
"RTN","ONCSAPIR",177,0)
 . Q:RC<0
"RTN","ONCSAPIR",178,0)
 ;---
"RTN","ONCSAPIR",179,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIR",180,0)
 ;
"RTN","ONCSAPIR",181,0)
 ;***** APPENDS THE REQUEST TRAILER TO THE DESTINATION BUFFER
"RTN","ONCSAPIR",182,0)
 ;
"RTN","ONCSAPIR",183,0)
 ; .ONC8DST      Reference to a descriptor of the destination buffer.
"RTN","ONCSAPIR",184,0)
 ;
"RTN","ONCSAPIR",185,0)
TRAILER(ONC8DST) ;
"RTN","ONCSAPIR",186,0)
 S ONC8DST("PTR")=+$O(@ONC8DST@(""),-1)
"RTN","ONCSAPIR",187,0)
 D PUT(.ONC8DST,"/"_ONC8DST("REQ"),,1)
"RTN","ONCSAPIR",188,0)
 D PUT(.ONC8DST,"/soap:Body",,1)
"RTN","ONCSAPIR",189,0)
 D PUT(.ONC8DST,"/soap:Envelope",,1)
"RTN","ONCSAPIR",190,0)
 Q
"RTN","ONCSAPIS")
0^317^B9309557
"RTN","ONCSAPIS",1,0)
ONCSAPIS ;Hines OIFO/SG - COLLABORATIVE STAGING (SCHEMAS) ;08/12/10
"RTN","ONCSAPIS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIS",3,0)
 ;
"RTN","ONCSAPIS",4,0)
 Q
"RTN","ONCSAPIS",5,0)
 ;
"RTN","ONCSAPIS",6,0)
 ;***** RETURNS SCHEMA NUMBER AND NAME
"RTN","ONCSAPIS",7,0)
 ;
"RTN","ONCSAPIS",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPIS",9,0)
 ;
"RTN","ONCSAPIS",10,0)
 ; SITE          Primary site
"RTN","ONCSAPIS",11,0)
 ; HIST          Histology
"RTN","ONCSAPIS",12,0)
 ;
"RTN","ONCSAPIS",13,0)
 ; The ^TMP("ONCSAPIS",$J) global node is used by this function.
"RTN","ONCSAPIS",14,0)
 ;
"RTN","ONCSAPIS",15,0)
 ; Return Values:
"RTN","ONCSAPIS",16,0)
 ;       >0  SchemaNumber^SchemaName
"RTN","ONCSAPIS",17,0)
 ;       <0  Error code
"RTN","ONCSAPIS",18,0)
 ;
"RTN","ONCSAPIS",19,0)
SCHEMA(ONCSAPI,SITE,HIST,DISCRIM) ;
"RTN","ONCSAPIS",20,0)
 ;N DST,NODE,ONCREQ,ONCRSP,ONCXML,RC,SCHEMA,SCHNAME,TMP,URL,XHIST,XSITE
"RTN","ONCSAPIS",21,0)
 N DISCRIMINATOR,DST,NODE,ONCREQ,ONCRSP,ONCXML,RC,SCHEMA,TMP,URL,XDISC
"RTN","ONCSAPIS",22,0)
 N XHIST,XSITE
"RTN","ONCSAPIS",23,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIS",24,0)
 ;--- Initialize constants and variables
"RTN","ONCSAPIS",25,0)
 S NODE=$NA(^XTMP("ONCSAPI","SCHEMAS"))
"RTN","ONCSAPIS",26,0)
 S XSITE=$S(SITE'="":SITE,1:" ")
"RTN","ONCSAPIS",27,0)
 S XHIST=$S(HIST'="":HIST,1:" ")
"RTN","ONCSAPIS",28,0)
 S XDISC=$S(DISCRIM'="":DISCRIM,1:" ")
"RTN","ONCSAPIS",29,0)
 ;--- Check if the schema is available in the local cache
"RTN","ONCSAPIS",30,0)
 ;S SCHEMA=+$G(@NODE@("SH",XSITE,XHIST))
"RTN","ONCSAPIS",31,0)
 ;
"RTN","ONCSAPIS",32,0)
 S SCHEMA=+$G(@NODE@("SH",XSITE,XHIST,XDISC))
"RTN","ONCSAPIS",33,0)
 ;
"RTN","ONCSAPIS",34,0)
 I SCHEMA>0  D  Q:SCHNAME'="" SCHEMA_U_SCHNAME
"RTN","ONCSAPIS",35,0)
 . S SCHNAME=$P($G(@NODE@(SCHEMA)),U)
"RTN","ONCSAPIS",36,0)
 S ONCRSP=$NA(^TMP("ONCSAPIS",$J))  K @ONCRSP
"RTN","ONCSAPIS",37,0)
 ;--- Get the server URL
"RTN","ONCSAPIS",38,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSAPIS",39,0)
 ;
"RTN","ONCSAPIS",40,0)
 S RC=0  D
"RTN","ONCSAPIS",41,0)
 . ;--- Prepare the request data
"RTN","ONCSAPIS",42,0)
 . S DST="ONCREQ"
"RTN","ONCSAPIS",43,0)
 . D HEADER^ONCSAPIR(.DST,"CS-GET-SCHEMA")
"RTN","ONCSAPIS",44,0)
 . S DISCRIMINATOR=DISCRIM
"RTN","ONCSAPIS",45,0)
 . D PUT^ONCSAPIR(.DST,"SITE",SITE)
"RTN","ONCSAPIS",46,0)
 . D PUT^ONCSAPIR(.DST,"HIST",HIST)
"RTN","ONCSAPIS",47,0)
 . D PUT^ONCSAPIR(.DST,"DISCRIMINATOR",DISCRIMINATOR)
"RTN","ONCSAPIS",48,0)
 . D TRAILER^ONCSAPIR(.DST)
"RTN","ONCSAPIS",49,0)
 . ;--- Request the schema number
"RTN","ONCSAPIS",50,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIS",51,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'SCHEMA' REQUEST ***",1)
"RTN","ONCSAPIS",52,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")            Q:RC<0
"RTN","ONCSAPIS",53,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIS",54,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'SCHEMA' RESPONSE ***",1)
"RTN","ONCSAPIS",55,0)
 . K DST,ONCREQ
"RTN","ONCSAPIS",56,0)
 . ;--- Parse the response
"RTN","ONCSAPIS",57,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSAPIS",58,0)
 . ;--- Check for parsing and web service errors
"RTN","ONCSAPIS",59,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)                         Q:RC<0
"RTN","ONCSAPIS",60,0)
 . ;--- Check the schema number and name
"RTN","ONCSAPIS",61,0)
 . S SCHEMA=+$G(ONCXML("SCHEMA"))
"RTN","ONCSAPIS",62,0)
 . S SCHNAME=$G(ONCXML("SCHEMA-NAME"))
"RTN","ONCSAPIS",63,0)
 . I (SCHEMA'>0)!(SCHNAME="")  S RC=$$ERROR^ONCSAPIE(-14)  Q
"RTN","ONCSAPIS",64,0)
 . ;--- Update the local cache
"RTN","ONCSAPIS",65,0)
 . S @NODE@(SCHEMA)=SCHNAME
"RTN","ONCSAPIS",66,0)
 . S @NODE@("SH",XSITE,XHIST,XDISC)=SCHEMA
"RTN","ONCSAPIS",67,0)
 . S @NODE@("N",SCHNAME)=SCHEMA
"RTN","ONCSAPIS",68,0)
 ;
"RTN","ONCSAPIS",69,0)
 ;--- Cleanup
"RTN","ONCSAPIS",70,0)
 K @ONCRSP
"RTN","ONCSAPIS",71,0)
 Q $S(RC<0:RC,1:SCHEMA_U_SCHNAME)
"RTN","ONCSAPIS",72,0)
 ;
"RTN","ONCSAPIS",73,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIS",74,0)
 ;
"RTN","ONCSAPIS",75,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIS",76,0)
 ;
"RTN","ONCSAPIS",77,0)
SETCBK(CBK) ;
"RTN","ONCSAPIS",78,0)
 ;;CHARACTERS^TEXT^ONCSAPIS
"RTN","ONCSAPIS",79,0)
 ;
"RTN","ONCSAPIS",80,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSAPIS")
"RTN","ONCSAPIS",81,0)
 Q
"RTN","ONCSAPIS",82,0)
 ;
"RTN","ONCSAPIS",83,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIS",84,0)
 ;
"RTN","ONCSAPIS",85,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIS",86,0)
 ;
"RTN","ONCSAPIS",87,0)
TEXT(TXT) ;
"RTN","ONCSAPIS",88,0)
 N L,L2E
"RTN","ONCSAPIS",89,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIS",90,0)
 ;--- Schema number and name
"RTN","ONCSAPIS",91,0)
 I L2E="CS-RESPONSE,SCHEMA"  S ONCXML("SCHEMA")=TXT  Q
"RTN","ONCSAPIS",92,0)
 I L2E="CS-RESPONSE,SCHEMA-NAME"  S ONCXML("SCHEMA-NAME")=TXT  Q
"RTN","ONCSAPIS",93,0)
 ;--- Default processing
"RTN","ONCSAPIS",94,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSAPIS",95,0)
 Q
"RTN","ONCSAPIS",96,0)
 ;
"RTN","ONCSAPIS",97,0)
CLEANUP ;Cleanup
"RTN","ONCSAPIS",98,0)
 K SCHNAME
"RTN","ONCSAPIT")
0^318^B77972147
"RTN","ONCSAPIT",1,0)
ONCSAPIT ;Hines OIFO/SG - COLLABORATIVE STAGING (TABLES) ;06/23/10
"RTN","ONCSAPIT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIT",3,0)
 ;
"RTN","ONCSAPIT",4,0)
 ;--- STRUCTURE OF THE RESPONSE
"RTN","ONCSAPIT",5,0)
 ;
"RTN","ONCSAPIT",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSAPIT",7,0)
 ; <soap:Envelope
"RTN","ONCSAPIT",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSAPIT",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSAPIT",10,0)
 ;   <soap:Body>
"RTN","ONCSAPIT",11,0)
 ;     <CS-RESPONSE xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSAPIT",12,0)
 ;       <SCHEMA>...</SCHEMA>
"RTN","ONCSAPIT",13,0)
 ;       <TABLE>
"RTN","ONCSAPIT",14,0)
 ;         <NUMBER>...</NUMBER>
"RTN","ONCSAPIT",15,0)
 ;         <PATTERN>...</PATTERN>
"RTN","ONCSAPIT",16,0)
 ;         <ROLE>...</ROLE>
"RTN","ONCSAPIT",17,0)
 ;         <SUBTITLE>...</SUBTITLE>
"RTN","ONCSAPIT",18,0)
 ;         <TITLE>...</TITLE>
"RTN","ONCSAPIT",19,0)
 ;         <ROWS>
"RTN","ONCSAPIT",20,0)
 ;           <ROW>
"RTN","ONCSAPIT",21,0)
 ;             <CODE>...</CODE>
"RTN","ONCSAPIT",22,0)
 ;             <DESCR>
"RTN","ONCSAPIT",23,0)
 ;               <P>...</P>
"RTN","ONCSAPIT",24,0)
 ;               ...
"RTN","ONCSAPIT",25,0)
 ;             </DESCR>
"RTN","ONCSAPIT",26,0)
 ;             <AC>...</AC>
"RTN","ONCSAPIT",27,0)
 ;             ...
"RTN","ONCSAPIT",28,0)
 ;           </ROW>
"RTN","ONCSAPIT",29,0)
 ;           ...
"RTN","ONCSAPIT",30,0)
 ;         </ROWS>
"RTN","ONCSAPIT",31,0)
 ;         <NOTES>
"RTN","ONCSAPIT",32,0)
 ;           <TN>
"RTN","ONCSAPIT",33,0)
 ;             <P>...</P>
"RTN","ONCSAPIT",34,0)
 ;             ...
"RTN","ONCSAPIT",35,0)
 ;           </TN>
"RTN","ONCSAPIT",36,0)
 ;           ...
"RTN","ONCSAPIT",37,0)
 ;           <FN>
"RTN","ONCSAPIT",38,0)
 ;             <P>...</P>
"RTN","ONCSAPIT",39,0)
 ;             ...
"RTN","ONCSAPIT",40,0)
 ;           </FN>
"RTN","ONCSAPIT",41,0)
 ;           ...
"RTN","ONCSAPIT",42,0)
 ;         </NOTES>
"RTN","ONCSAPIT",43,0)
 ;       </TABLE>
"RTN","ONCSAPIT",44,0)
 ;       ...
"RTN","ONCSAPIT",45,0)
 ;     </CS-RESPONSE>
"RTN","ONCSAPIT",46,0)
 ;     <soap:Fault>
"RTN","ONCSAPIT",47,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSAPIT",48,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSAPIT",49,0)
 ;       <detail>
"RTN","ONCSAPIT",50,0)
 ;         <RC> ... </RC>
"RTN","ONCSAPIT",51,0)
 ;       </detail>
"RTN","ONCSAPIT",52,0)
 ;     </soap:Fault>
"RTN","ONCSAPIT",53,0)
 ;   </soap:Body >
"RTN","ONCSAPIT",54,0)
 ; </soap:Envelope>
"RTN","ONCSAPIT",55,0)
 ;
"RTN","ONCSAPIT",56,0)
 Q
"RTN","ONCSAPIT",57,0)
 ;
"RTN","ONCSAPIT",58,0)
 ;***** LOADS THE CS CODE DESCRIPTION
"RTN","ONCSAPIT",59,0)
 ;
"RTN","ONCSAPIT",60,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSAPI)
"RTN","ONCSAPIT",61,0)
 ;
"RTN","ONCSAPIT",62,0)
 ; SITE          Primary site
"RTN","ONCSAPIT",63,0)
 ; HIST          Histology
"RTN","ONCSAPIT",64,0)
 ;
"RTN","ONCSAPIT",65,0)
 ; TABLE         Table number (see the ^ONCSAPI routine)
"RTN","ONCSAPIT",66,0)
 ; CODE          Primary code of a table row
"RTN","ONCSAPIT",67,0)
 ;
"RTN","ONCSAPIT",68,0)
 ; ONC8DST       Closed reference of the destination buffer
"RTN","ONCSAPIT",69,0)
 ;
"RTN","ONCSAPIT",70,0)
 ; Return Values:
"RTN","ONCSAPIT",71,0)
 ;        0  Ok
"RTN","ONCSAPIT",72,0)
 ;       <0  Error code
"RTN","ONCSAPIT",73,0)
 ;
"RTN","ONCSAPIT",74,0)
CODEDESC(ONCSAPI,SITE,HIST,TABLE,CODE,ONC8DST) ;
"RTN","ONCSAPIT",75,0)
 N I,NODE,RC,ROW,TBLIEN,TMP
"RTN","ONCSAPIT",76,0)
 D CLEAR^ONCSAPIE()  K @ONC8DST
"RTN","ONCSAPIT",77,0)
 Q:$G(CODE)?." " $$ERROR^ONCSAPIE(-6,,"CODE",$G(CODE))
"RTN","ONCSAPIT",78,0)
 ;---
"RTN","ONCSAPIT",79,0)
 L +^XTMP("ONCSAPI","TABLES","JOB",$J):5  E  D  Q RC
"RTN","ONCSAPIT",80,0)
 . S RC=$$ERROR^ONCSAPIE(-15,,"access control node")
"RTN","ONCSAPIT",81,0)
 ;
"RTN","ONCSAPIT",82,0)
 S RC=0  D
"RTN","ONCSAPIT",83,0)
 . ;--- Get the table IEN
"RTN","ONCSAPIT",84,0)
 . S TBLIEN=$$GETCSTBL(.ONCSAPI,SITE,HIST,TABLE)
"RTN","ONCSAPIT",85,0)
 . I TBLIEN<0  S RC=TBLIEN  Q
"RTN","ONCSAPIT",86,0)
 . S NODE=$NA(^XTMP("ONCSAPI","TABLES",TBLIEN))
"RTN","ONCSAPIT",87,0)
 . S CODE=+$G(CODE)
"RTN","ONCSAPIT",88,0)
 . ;--- Check the single code
"RTN","ONCSAPIT",89,0)
 . S ROW=$G(@NODE@("C",CODE))
"RTN","ONCSAPIT",90,0)
 . ;--- Check the interval
"RTN","ONCSAPIT",91,0)
 . I ROW'>0  D  I ROW'>0  S RC=$$ERROR^ONCSAPIE(-6,,"CODE",CODE)  Q
"RTN","ONCSAPIT",92,0)
 . . S TMP=$O(@NODE@("C",CODE),-1)  Q:TMP=""
"RTN","ONCSAPIT",93,0)
 . . S ROW=$G(@NODE@("C",TMP))
"RTN","ONCSAPIT",94,0)
 . . S:CODE>$P(ROW,U,2) ROW=0
"RTN","ONCSAPIT",95,0)
 . ;--- Load the description
"RTN","ONCSAPIT",96,0)
 . M @ONC8DST=@NODE@(+ROW,3)
"RTN","ONCSAPIT",97,0)
 ;
"RTN","ONCSAPIT",98,0)
 L -^XTMP("ONCSAPI","TABLES","JOB",$J)
"RTN","ONCSAPIT",99,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIT",100,0)
 ;
"RTN","ONCSAPIT",101,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIT",102,0)
 ;
"RTN","ONCSAPIT",103,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIT",104,0)
 ;
"RTN","ONCSAPIT",105,0)
ENDEL(ELMT) ;
"RTN","ONCSAPIT",106,0)
 N I,J,L,L2E,L3E,SUBS,TMP
"RTN","ONCSAPIT",107,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIT",108,0)
 S L3E=$P(ONCXML("PATH"),",",L-2,L)
"RTN","ONCSAPIT",109,0)
 D ENDEL^ONCSAPIX(ELMT)
"RTN","ONCSAPIT",110,0)
 ;---
"RTN","ONCSAPIT",111,0)
 I L2E="CS-RESPONSE,TABLE"  D  Q
"RTN","ONCSAPIT",112,0)
 . N NAME,SCHEMA,TABLE
"RTN","ONCSAPIT",113,0)
 . S SCHEMA=+$G(ONCXML("SCHEMA")),TABLE=+$P(ONCTBDSC,U,3)
"RTN","ONCSAPIT",114,0)
 . S NAME=$P(ONCTBDSC,U,5)
"RTN","ONCSAPIT",115,0)
 . I (SCHEMA'>0)!(TABLE'>0)!(NAME="")  K @ONCXML@(ONCTBIEN)  Q
"RTN","ONCSAPIT",116,0)
 . S $P(ONCTBDSC,U,2)=SCHEMA
"RTN","ONCSAPIT",117,0)
 . ;---
"RTN","ONCSAPIT",118,0)
 . S @ONCXML@(ONCTBIEN,0)=$E(ONCTBDSC,1,254)
"RTN","ONCSAPIT",119,0)
 . S @ONCXML@("ST",SCHEMA,TABLE)=ONCTBIEN
"RTN","ONCSAPIT",120,0)
 ;---
"RTN","ONCSAPIT",121,0)
 I L2E="ROW,CODE"  D  Q
"RTN","ONCSAPIT",122,0)
 . S $P(@ONCXML@(ONCTBIEN,ONCTBROW,1),U)=ONCXML("ROWCODE")
"RTN","ONCSAPIT",123,0)
 . Q:ONCXML("ROWCODE")?."-"
"RTN","ONCSAPIT",124,0)
 . S TMP=ONCTBROW
"RTN","ONCSAPIT",125,0)
 . S:ONCXML("ROWCODE")["-" $P(TMP,U,2)=+$P(ONCXML("ROWCODE"),"-",2)
"RTN","ONCSAPIT",126,0)
 . S @ONCXML@(ONCTBIEN,"C",+ONCXML("ROWCODE"))=TMP
"RTN","ONCSAPIT",127,0)
 I L3E="ROW,DESCR,P"  D  Q
"RTN","ONCSAPIT",128,0)
 . S J=+$O(@ONCXML@(ONCTBIEN,ONCTBROW,3,""),-1)
"RTN","ONCSAPIT",129,0)
 . S I=""
"RTN","ONCSAPIT",130,0)
 . F  S I=$O(^UTILITY($J,"W",1,I))  Q:I=""  D
"RTN","ONCSAPIT",131,0)
 . . S TMP=$G(^UTILITY($J,"W",1,I,0)),J=J+1
"RTN","ONCSAPIT",132,0)
 . . S @ONCXML@(ONCTBIEN,ONCTBROW,3,J)=$$TRIM^XLFSTR(TMP,"R")
"RTN","ONCSAPIT",133,0)
 ;---
"RTN","ONCSAPIT",134,0)
 I (L3E="NOTES,FN,P")!(L3E="NOTES,TN,P")  D  Q
"RTN","ONCSAPIT",135,0)
 . S SUBS=$P(L3E,",",2)
"RTN","ONCSAPIT",136,0)
 . S J=+$O(@ONCXML@(ONCTBIEN,SUBS,ONCXML(SUBS),""),-1)
"RTN","ONCSAPIT",137,0)
 . S I=""
"RTN","ONCSAPIT",138,0)
 . F  S I=$O(^UTILITY($J,"W",1,I))  Q:I=""  D
"RTN","ONCSAPIT",139,0)
 . . S TMP=$G(^UTILITY($J,"W",1,I,0)),J=J+1
"RTN","ONCSAPIT",140,0)
 . . S @ONCXML@(ONCTBIEN,SUBS,ONCXML(SUBS),J)=$$TRIM^XLFSTR(TMP,"R")
"RTN","ONCSAPIT",141,0)
 Q
"RTN","ONCSAPIT",142,0)
 ;
"RTN","ONCSAPIT",143,0)
 ;***** RETURNS THE TABLE IEN (LOADS THE TABLES IF NECESSARY)
"RTN","ONCSAPIT",144,0)
 ;
"RTN","ONCSAPIT",145,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSAPI)
"RTN","ONCSAPIT",146,0)
 ;
"RTN","ONCSAPIT",147,0)
 ; SITE          Primary site
"RTN","ONCSAPIT",148,0)
 ; HIST          Histology
"RTN","ONCSAPIT",149,0)
 ; TABLE         Table number                    (see the ^ONCSAPI)
"RTN","ONCSAPIT",150,0)
 ;
"RTN","ONCSAPIT",151,0)
 ; The ^TMP("ONCSAPIT",$J) global node is used by this function.
"RTN","ONCSAPIT",152,0)
 ;
"RTN","ONCSAPIT",153,0)
 ; Return Values:
"RTN","ONCSAPIT",154,0)
 ;       >0  IEN of the table
"RTN","ONCSAPIT",155,0)
 ;       <0  Error code
"RTN","ONCSAPIT",156,0)
 ;
"RTN","ONCSAPIT",157,0)
GETCSTBL(ONCSAPI,SITE,HIST,TABLE) ;
"RTN","ONCSAPIT",158,0)
 N ONCTBDSC      ; Descriptor of the table
"RTN","ONCSAPIT",159,0)
 N ONCTBIEN      ; IEN of the table
"RTN","ONCSAPIT",160,0)
 N ONCTBROW      ; Row number
"RTN","ONCSAPIT",161,0)
 ;
"RTN","ONCSAPIT",162,0)
 N DST,ONCREQ,ONCRSP,ONCXML,SCHEMA,URL,XHIST,XSITE
"RTN","ONCSAPIT",163,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIT",164,0)
 Q:TABLE'>0 $$ERROR^ONCSAPIE(-6,,"TABLE",TABLE)
"RTN","ONCSAPIT",165,0)
 ;--- Initialize constants and variables
"RTN","ONCSAPIT",166,0)
 S ONCXML=$NA(^XTMP("ONCSAPI","TABLES"))
"RTN","ONCSAPIT",167,0)
 S ONCXML("XSITE")=$S(SITE'="":SITE,1:" ")
"RTN","ONCSAPIT",168,0)
 S ONCXML("XHIST")=$S(HIST'="":HIST,1:" ")
"RTN","ONCSAPIT",169,0)
 S ONCXML("XDISC")=$S(DISCRIM'="":DISCRIM,1:" ")
"RTN","ONCSAPIT",170,0)
 ;
"RTN","ONCSAPIT",171,0)
 ;--- Check if the schema number is available
"RTN","ONCSAPIT",172,0)
 S SCHEMA=+$G(@ONCXML@("SH",ONCXML("XSITE"),ONCXML("XHIST"),ONCXML("XDISC")))
"RTN","ONCSAPIT",173,0)
 I SCHEMA'>0  D  Q:SCHEMA<0 SCHEMA
"RTN","ONCSAPIT",174,0)
 . S SCHEMA=+$$SCHEMA^ONCSAPIS(.ONCSAPI,SITE,HIST,DISCRIM)
"RTN","ONCSAPIT",175,0)
 ;
"RTN","ONCSAPIT",176,0)
 ;--- Check if the table is available
"RTN","ONCSAPIT",177,0)
 S ONCTBIEN=+$G(@ONCXML@("ST",SCHEMA,TABLE))
"RTN","ONCSAPIT",178,0)
 Q:ONCTBIEN>0 ONCTBIEN
"RTN","ONCSAPIT",179,0)
 S ONCRSP=$NA(^TMP("ONCSAPIT",$J))  K @ONCRSP
"RTN","ONCSAPIT",180,0)
 ;
"RTN","ONCSAPIT",181,0)
 ;---  Get the server URL
"RTN","ONCSAPIT",182,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSAPIT",183,0)
 ;
"RTN","ONCSAPIT",184,0)
 L +@ONCXML@("ST",SCHEMA,TABLE):5
"RTN","ONCSAPIT",185,0)
 E  Q $$ERROR^ONCSAPIE(-15,,"local CS table")
"RTN","ONCSAPIT",186,0)
 S RC=0  D
"RTN","ONCSAPIT",187,0)
 . ;--- Check if the table has become available
"RTN","ONCSAPIT",188,0)
 . S ONCTBIEN=+$G(@ONCXML@("ST",SCHEMA,TABLE))  Q:ONCTBIEN>0
"RTN","ONCSAPIT",189,0)
 . ;--- Prepare the request data
"RTN","ONCSAPIT",190,0)
 . S DST="ONCREQ"
"RTN","ONCSAPIT",191,0)
 . D HEADER^ONCSAPIR(.DST,"CS-GET-TABLES")
"RTN","ONCSAPIT",192,0)
 . D PUT^ONCSAPIR(.DST,"SCHEMA",SCHEMA)
"RTN","ONCSAPIT",193,0)
 . D PUT^ONCSAPIR(.DST,"TABLE",TABLE)
"RTN","ONCSAPIT",194,0)
 . D TRAILER^ONCSAPIR(.DST)
"RTN","ONCSAPIT",195,0)
 . K DST
"RTN","ONCSAPIT",196,0)
 . ;--- Send the request and get the response
"RTN","ONCSAPIT",197,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIT",198,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'TABLE' REQUEST ***")
"RTN","ONCSAPIT",199,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")  Q:RC<0
"RTN","ONCSAPIT",200,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIT",201,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'TABLE' RESPONSE ***")
"RTN","ONCSAPIT",202,0)
 . ;--- Load the table into the XTMP global
"RTN","ONCSAPIT",203,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSAPIT",204,0)
 . ;--- Check for parsing and web service errors
"RTN","ONCSAPIT",205,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)  Q:RC<0
"RTN","ONCSAPIT",206,0)
 L -@ONCXML@("ST",SCHEMA,TABLE)
"RTN","ONCSAPIT",207,0)
 ;
"RTN","ONCSAPIT",208,0)
 ;--- Cleanup
"RTN","ONCSAPIT",209,0)
 K @ONCRSP
"RTN","ONCSAPIT",210,0)
 Q $S(RC<0:RC,1:+$G(ONCTBIEN))
"RTN","ONCSAPIT",211,0)
 ;
"RTN","ONCSAPIT",212,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIT",213,0)
 ;
"RTN","ONCSAPIT",214,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIT",215,0)
 ;
"RTN","ONCSAPIT",216,0)
SETCBK(CBK) ;
"RTN","ONCSAPIT",217,0)
 ;;CHARACTERS  ^   TEXT^ONCSAPIT
"RTN","ONCSAPIT",218,0)
 ;;ENDELEMENT  ^  ENDEL^ONCSAPIT
"RTN","ONCSAPIT",219,0)
 ;;STARTELEMENT^STARTEL^ONCSAPIT
"RTN","ONCSAPIT",220,0)
 ;
"RTN","ONCSAPIT",221,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSAPIT")
"RTN","ONCSAPIT",222,0)
 Q
"RTN","ONCSAPIT",223,0)
 ;
"RTN","ONCSAPIT",224,0)
 ;***** START ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIT",225,0)
 ;
"RTN","ONCSAPIT",226,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIT",227,0)
 ;
"RTN","ONCSAPIT",228,0)
 ; .ATTR         List of attributes and their values
"RTN","ONCSAPIT",229,0)
 ;
"RTN","ONCSAPIT",230,0)
STARTEL(ELMT,ATTR) ;
"RTN","ONCSAPIT",231,0)
 N L,L2E,L3E,SUBS,TBLIEN
"RTN","ONCSAPIT",232,0)
 D STARTEL^ONCSAPIX(ELMT,.ATTR)
"RTN","ONCSAPIT",233,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIT",234,0)
 S L3E=$P(ONCXML("PATH"),",",L-2,L)
"RTN","ONCSAPIT",235,0)
 ;---
"RTN","ONCSAPIT",236,0)
 I L2E="CS-RESPONSE,TABLE"  D  Q
"RTN","ONCSAPIT",237,0)
 . S ONCTBIEN=+$O(@ONCXML@(" "),-1)+1
"RTN","ONCSAPIT",238,0)
 . S ONCTBDSC="",ONCTBROW=0
"RTN","ONCSAPIT",239,0)
 . S (ONCXML("FN"),ONCXML("TN"))=0
"RTN","ONCSAPIT",240,0)
 ;---
"RTN","ONCSAPIT",241,0)
 I L2E="ROWS,ROW"  D  Q
"RTN","ONCSAPIT",242,0)
 . S ONCXML("ROWCODE")="",ONCXML("AC")=1
"RTN","ONCSAPIT",243,0)
 . S ONCTBROW=ONCTBROW+1
"RTN","ONCSAPIT",244,0)
 ;---
"RTN","ONCSAPIT",245,0)
 I L2E="ROW,AC"  S ONCXML("AC")=ONCXML("AC")+1  Q
"RTN","ONCSAPIT",246,0)
 I L3E="ROW,DESCR,P"  K ^UTILITY($J,"W")  Q
"RTN","ONCSAPIT",247,0)
 ;---
"RTN","ONCSAPIT",248,0)
 I (L2E="NOTES,FN")!(L2E="NOTES,TN")  D   Q
"RTN","ONCSAPIT",249,0)
 . S SUBS=$P(L2E,",",2),ONCXML(SUBS)=$G(ONCXML(SUBS))+1 ; Note number
"RTN","ONCSAPIT",250,0)
 I L3E="NOTES,FN,P"   K ^UTILITY($J,"W")  Q
"RTN","ONCSAPIT",251,0)
 I L3E="NOTES,TN,P"   K ^UTILITY($J,"W")  Q
"RTN","ONCSAPIT",252,0)
 Q
"RTN","ONCSAPIT",253,0)
 ;
"RTN","ONCSAPIT",254,0)
 ;***** RETURNS THE TABLE TITLE AND SUBTITLE
"RTN","ONCSAPIT",255,0)
 ;
"RTN","ONCSAPIT",256,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSAPI)
"RTN","ONCSAPIT",257,0)
 ;
"RTN","ONCSAPIT",258,0)
 ; SITE          Primary site
"RTN","ONCSAPIT",259,0)
 ; HIST          Histology
"RTN","ONCSAPIT",260,0)
 ; TABLE         Table number                    (see the ^ONCSAPI)
"RTN","ONCSAPIT",261,0)
 ;
"RTN","ONCSAPIT",262,0)
 ; Tables other than site specific factors (10-15) usually do not
"RTN","ONCSAPIT",263,0)
 ; have subtitles.
"RTN","ONCSAPIT",264,0)
 ;
"RTN","ONCSAPIT",265,0)
 ; Return Values:
"RTN","ONCSAPIT",266,0)
 ;       <0  Error code
"RTN","ONCSAPIT",267,0)
 ;        0  0^Title^Subtitle
"RTN","ONCSAPIT",268,0)
 ;
"RTN","ONCSAPIT",269,0)
TBLTTL(ONCSAPI,SITE,HIST,TABLE) ;
"RTN","ONCSAPIT",270,0)
 N TBLIEN
"RTN","ONCSAPIT",271,0)
 ;--- Make sure that table info is loaded
"RTN","ONCSAPIT",272,0)
 S TBLIEN=$$GETCSTBL(.ONCSAPI,SITE,HIST,TABLE)  Q:TBLIEN<0 TBLIEN
"RTN","ONCSAPIT",273,0)
 ;--- Return the table subtitle
"RTN","ONCSAPIT",274,0)
 Q 0_U_$P($G(^XTMP("ONCSAPI","TABLES",TBLIEN,0)),U,5,6)
"RTN","ONCSAPIT",275,0)
 ;
"RTN","ONCSAPIT",276,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIT",277,0)
 ;
"RTN","ONCSAPIT",278,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIT",279,0)
 ;
"RTN","ONCSAPIT",280,0)
TEXT(TXT) ;
"RTN","ONCSAPIT",281,0)
 N I,L,L2E,L3E,TMP
"RTN","ONCSAPIT",282,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIT",283,0)
 S L3E=$P(ONCXML("PATH"),",",L-2,L)
"RTN","ONCSAPIT",284,0)
 ;---
"RTN","ONCSAPIT",285,0)
 I L2E="CS-RESPONSE,SCHEMA"  S ONCXML("SCHEMA")=TXT  Q
"RTN","ONCSAPIT",286,0)
 ;--- Table descriptor
"RTN","ONCSAPIT",287,0)
 I L2E="TABLE,NUMBER"   S $P(ONCTBDSC,U,3)=$P(ONCTBDSC,U,3)_TXT  Q
"RTN","ONCSAPIT",288,0)
 I L2E="TABLE,PATTERN"  S $P(ONCTBDSC,U,4)=$P(ONCTBDSC,U,4)_TXT  Q
"RTN","ONCSAPIT",289,0)
 I L2E="TABLE,SUBTITLE" S $P(ONCTBDSC,U,6)=$P(ONCTBDSC,U,6)_TXT  Q
"RTN","ONCSAPIT",290,0)
 I L2E="TABLE,TITLE"    S $P(ONCTBDSC,U,5)=$P(ONCTBDSC,U,5)_TXT  Q
"RTN","ONCSAPIT",291,0)
 ;--- Codes
"RTN","ONCSAPIT",292,0)
 I L2E="ROW,AC"  D  Q
"RTN","ONCSAPIT",293,0)
 . S $P(@ONCXML@(ONCTBIEN,ONCTBROW,1),U,ONCXML("AC"))=TXT
"RTN","ONCSAPIT",294,0)
 I L2E="ROW,CODE"  D  Q
"RTN","ONCSAPIT",295,0)
 . S ONCXML("ROWCODE")=ONCXML("ROWCODE")_TXT
"RTN","ONCSAPIT",296,0)
 ;--- Row description
"RTN","ONCSAPIT",297,0)
 I L3E="ROW,DESCR,P"  D WW(.TXT,70)  Q
"RTN","ONCSAPIT",298,0)
 ;--- Notes
"RTN","ONCSAPIT",299,0)
 I L3E="NOTES,FN,P"  D WW(.TXT,75)  Q
"RTN","ONCSAPIT",300,0)
 I L3E="NOTES,TN,P"  D WW(.TXT,75)  Q
"RTN","ONCSAPIT",301,0)
 ;--- Default processing
"RTN","ONCSAPIT",302,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSAPIT",303,0)
 Q
"RTN","ONCSAPIT",304,0)
 ;
"RTN","ONCSAPIT",305,0)
 ;***** REFORMATS THE TEXT AND WRAPS THE LINES
"RTN","ONCSAPIT",306,0)
WW(TXT,DIWR) ;
"RTN","ONCSAPIT",307,0)
 N CR,DIWF,DIWL,I,ONCI1,ONCI2,LF,X
"RTN","ONCSAPIT",308,0)
 S DIWF="|",DIWL=1
"RTN","ONCSAPIT",309,0)
 S ONCI1=1,(ONCI2,L)=$L(TXT)
"RTN","ONCSAPIT",310,0)
 F  D  Q:ONCI2>L  S ONCI1=ONCI2
"RTN","ONCSAPIT",311,0)
 . S ONCI2=$F(TXT,$C(13),ONCI1),(CR,LF)=0
"RTN","ONCSAPIT",312,0)
 . I ONCI2>0  S CR=1  S:$A(TXT,ONCI2)=10 LF=1,ONCI2=ONCI2+1
"RTN","ONCSAPIT",313,0)
 . E  D
"RTN","ONCSAPIT",314,0)
 . . S ONCI2=$F(TXT,$C(10),ONCI1)
"RTN","ONCSAPIT",315,0)
 . . I ONCI2>0  S LF=1
"RTN","ONCSAPIT",316,0)
 . . E  S ONCI2=L+1
"RTN","ONCSAPIT",317,0)
 . F I=ONCI1:1:ONCI2  Q:$E(TXT,I)'=" "
"RTN","ONCSAPIT",318,0)
 . S X=$E(TXT,(I+ONCI1)\2,ONCI2-1-CR-LF)
"RTN","ONCSAPIT",319,0)
 . D ^DIWP
"RTN","ONCSAPIT",320,0)
 Q
"RTN","ONCSAPIT",321,0)
 ;
"RTN","ONCSAPIT",322,0)
CLEANUP ;Cleanup
"RTN","ONCSAPIT",323,0)
 K DISCRIM
"RTN","ONCSAPIU")
0^319^B7316141
"RTN","ONCSAPIU",1,0)
ONCSAPIU ;Hines OIFO/SG - COLLABORATIVE STAGING (UTILITIES)  ; 12/7/06 9:08am
"RTN","ONCSAPIU",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIU",3,0)
 ;
"RTN","ONCSAPIU",4,0)
 Q
"RTN","ONCSAPIU",5,0)
 ;
"RTN","ONCSAPIU",6,0)
 ;***** RETURNS THE CS WEB-SERVICE URL
"RTN","ONCSAPIU",7,0)
 ;
"RTN","ONCSAPIU",8,0)
 ; Return values:
"RTN","ONCSAPIU",9,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIU",10,0)
 ;      ...  The CS URL
"RTN","ONCSAPIU",11,0)
 ;
"RTN","ONCSAPIU",12,0)
GETCSURL() ;
"RTN","ONCSAPIU",13,0)
 N DIV,HOST,IEN,ONCMSG,PATH,PORT,RC,URL
"RTN","ONCSAPIU",14,0)
 ;--- Try to get the URL from the site parameters
"RTN","ONCSAPIU",15,0)
 S DIV=+$G(DUZ(2)),IEN=+$O(^ONCO(160.1,"C",DIV,""))
"RTN","ONCSAPIU",16,0)
 I IEN'>0  S IEN=+$O(^ONCO(160.1,0))  Q:IEN'>0 $$ERROR^ONCSAPIE(-22)
"RTN","ONCSAPIU",17,0)
 S URL=$$GET1^DIQ(160.1,IEN,19,,,"ONCMSG")
"RTN","ONCSAPIU",18,0)
 Q:URL="" $$ERROR^ONCSAPIE(-22)
"RTN","ONCSAPIU",19,0)
 ;--- Parse the URL and supply the missing parts
"RTN","ONCSAPIU",20,0)
 S RC=$$PARSE^ONCXURL(URL,.HOST,.PORT,.PATH)
"RTN","ONCSAPIU",21,0)
 Q:RC<0 $$ERROR^ONCSAPIE(-11,URL)
"RTN","ONCSAPIU",22,0)
 S:$G(PORT)'>0 PORT=7005
"RTN","ONCSAPIU",23,0)
 S:$G(PATH)="" PATH="/cgi-bin/CStage"
"RTN","ONCSAPIU",24,0)
 ;--- Construct the resulting URL
"RTN","ONCSAPIU",25,0)
 Q $$CREATE^ONCXURL(HOST,PORT,PATH)
"RTN","ONCSAPIU",26,0)
 ;
"RTN","ONCSAPIU",27,0)
 ;***** PAUSES THE OUTPUT AT PAGE END
"RTN","ONCSAPIU",28,0)
 ;
"RTN","ONCSAPIU",29,0)
 ; Return values:
"RTN","ONCSAPIU",30,0)
 ;       -2  Timeout
"RTN","ONCSAPIU",31,0)
 ;       -1  User entered a '^'
"RTN","ONCSAPIU",32,0)
 ;        0  Continue
"RTN","ONCSAPIU",33,0)
 ;
"RTN","ONCSAPIU",34,0)
PAGE() ;
"RTN","ONCSAPIU",35,0)
 I $E(IOST,1,2)'="C-"  S $Y=0  Q 0
"RTN","ONCSAPIU",36,0)
 N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCSAPIU",37,0)
 S DIR(0)="E"  D ^DIR  S $Y=0
"RTN","ONCSAPIU",38,0)
 Q $S($D(DUOUT):-1,$D(DTOUT):-2,1:0)
"RTN","ONCSAPIU",39,0)
 ;
"RTN","ONCSAPIU",40,0)
 ;***** UPDATES THE CS WEB-SERVICE URL
"RTN","ONCSAPIU",41,0)
 ;
"RTN","ONCSAPIU",42,0)
 ; URL           New URL of the CS web-service
"RTN","ONCSAPIU",43,0)
 ;
"RTN","ONCSAPIU",44,0)
 ; Return values:
"RTN","ONCSAPIU",45,0)
 ;
"RTN","ONCSAPIU",46,0)
 ;       <0  Error Descriptor
"RTN","ONCSAPIU",47,0)
 ;        0  Ok
"RTN","ONCSAPIU",48,0)
 ;
"RTN","ONCSAPIU",49,0)
UPDCSURL(URL) ;
"RTN","ONCSAPIU",50,0)
 N IEN,IENS,ONCFDA,ONCMSG,RC
"RTN","ONCSAPIU",51,0)
 Q:$G(URL)?." " $$ERROR^ONCSAPIE(-6,,"URL",$G(URL))
"RTN","ONCSAPIU",52,0)
 ;--- Lock the ONCOLOGY SITE PARAMETERS file
"RTN","ONCSAPIU",53,0)
 L +^ONCO(160.1):1  E  D  Q RC
"RTN","ONCSAPIU",54,0)
 . S RC=$$ERROR^ONCSAPIE(-15,,"ONCOLOGY SITE PARAMETERS file")
"RTN","ONCSAPIU",55,0)
 ;--- Update the record(s)
"RTN","ONCSAPIU",56,0)
 S (IEN,RC)=0
"RTN","ONCSAPIU",57,0)
 F  S IEN=$O(^ONCO(160.1,IEN))  Q:IEN'>0  D  Q:RC<0
"RTN","ONCSAPIU",58,0)
 . S IENS=IEN_","  K ONCFDA,ONCMSG
"RTN","ONCSAPIU",59,0)
 . S ONCFDA(160.1,IENS,19)=URL
"RTN","ONCSAPIU",60,0)
 . D FILE^DIE(,"ONCFDA","ONCMSG")
"RTN","ONCSAPIU",61,0)
 . S:$G(DIERR) RC=$$DBS^ONCSAPIE("ONCMSG",-9,160.1,IENS)
"RTN","ONCSAPIU",62,0)
 ;--- Cleanup and error processing
"RTN","ONCSAPIU",63,0)
 L -^ONCO(160.1)
"RTN","ONCSAPIU",64,0)
 Q $S(RC<0:RC,1:0)
"RTN","ONCSAPIU",65,0)
 ;
"RTN","ONCSAPIU",66,0)
 ;***** WRAPS THE STRING AND PRINTS IT
"RTN","ONCSAPIU",67,0)
 ;
"RTN","ONCSAPIU",68,0)
 ; X             Source string
"RTN","ONCSAPIU",69,0)
 ; [DIWR]        Output width (IOM, by default)
"RTN","ONCSAPIU",70,0)
 ;
"RTN","ONCSAPIU",71,0)
WW(X,DIWR) ;
"RTN","ONCSAPIU",72,0)
 N DIWF,DIWL,I,TMP
"RTN","ONCSAPIU",73,0)
 S:$G(DIWR)'>0 DIWR=$G(IOM,80)
"RTN","ONCSAPIU",74,0)
 K ^UTILITY($J,"W")
"RTN","ONCSAPIU",75,0)
 ;--- Wrap the string
"RTN","ONCSAPIU",76,0)
 S DIWL=1,DIWF="|"  D ^DIWP
"RTN","ONCSAPIU",77,0)
 ;--- Print the text
"RTN","ONCSAPIU",78,0)
 S I=""
"RTN","ONCSAPIU",79,0)
 F  S I=$O(^UTILITY($J,"W",DIWL,I))  Q:I=""  D
"RTN","ONCSAPIU",80,0)
 . S TMP=$G(^UTILITY($J,"W",DIWL,I,0))
"RTN","ONCSAPIU",81,0)
 . D EN^DDIOL($$TRIM^XLFSTR(TMP,"R"))
"RTN","ONCSAPIU",82,0)
 ;--- Cleanup
"RTN","ONCSAPIU",83,0)
 K ^UTILITY($J,"W")
"RTN","ONCSAPIU",84,0)
 Q
"RTN","ONCSAPIU",85,0)
 ;
"RTN","ONCSAPIU",86,0)
 ;***** EMULATES AND EXTENDS THE ZWRITE COMMAND :-)
"RTN","ONCSAPIU",87,0)
 ;
"RTN","ONCSAPIU",88,0)
 ; ROR8NODE      Closed root of the sub-tree to display
"RTN","ONCSAPIU",89,0)
 ;               (either local array or global variable)
"RTN","ONCSAPIU",90,0)
 ; [TITLE]       Title of the output
"RTN","ONCSAPIU",91,0)
 ; [NONAME]      Do not print node names
"RTN","ONCSAPIU",92,0)
 ;
"RTN","ONCSAPIU",93,0)
ZW(ONC8NODE,TITLE,NONAME) ;
"RTN","ONCSAPIU",94,0)
 Q:ONC8NODE=""  Q:'$D(@ONC8NODE)
"RTN","ONCSAPIU",95,0)
 N FLT,L,PI  W !
"RTN","ONCSAPIU",96,0)
 W:$G(TITLE)'="" TITLE,!!
"RTN","ONCSAPIU",97,0)
 S NONAME=+$G(NONAME)
"RTN","ONCSAPIU",98,0)
 W:$D(@ONC8NODE)#10 ONC8NODE_"="""_@ONC8NODE_"""",!
"RTN","ONCSAPIU",99,0)
 S L=$L(ONC8NODE)  S:$E(ONC8NODE,L)=")" L=L-1
"RTN","ONCSAPIU",100,0)
 S FLT=$E(ONC8NODE,1,L),PI=ONC8NODE
"RTN","ONCSAPIU",101,0)
 F  S PI=$Q(@PI)  Q:$E(PI,1,L)'=FLT  D
"RTN","ONCSAPIU",102,0)
 . W:'NONAME PI_"="  W """"_@PI_"""",!
"RTN","ONCSAPIU",103,0)
 Q
"RTN","ONCSAPIV")
0^320^B11259789
"RTN","ONCSAPIV",1,0)
ONCSAPIV ;Hines OIFO/SG - ONCOLOGY WEB SERVICE (VERSIONS)  ; 12/7/06 2:25pm
"RTN","ONCSAPIV",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIV",3,0)
 ;
"RTN","ONCSAPIV",4,0)
 Q
"RTN","ONCSAPIV",5,0)
 ;
"RTN","ONCSAPIV",6,0)
 ;***** CHECKS THE VERSION OF THE LOCAL CACHE
"RTN","ONCSAPIV",7,0)
 ;
"RTN","ONCSAPIV",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPIV",9,0)
 ;
"RTN","ONCSAPIV",10,0)
 ; Return Values:
"RTN","ONCSAPIV",11,0)
 ;        0  Ok
"RTN","ONCSAPIV",12,0)
 ;       <0  Error code
"RTN","ONCSAPIV",13,0)
 ;
"RTN","ONCSAPIV",14,0)
CHKVER(ONCSAPI) ;
"RTN","ONCSAPIV",15,0)
 N NODE,RC,TMP,VER
"RTN","ONCSAPIV",16,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIV",17,0)
 ;--- Get the versions of web-service components
"RTN","ONCSAPIV",18,0)
 S VER=$$VERSION(.ONCSAPI)  Q:VER<0 VER
"RTN","ONCSAPIV",19,0)
 ;--- Lock the cache
"RTN","ONCSAPIV",20,0)
 S NODE=$NA(^XTMP("ONCSAPI"))
"RTN","ONCSAPIV",21,0)
 L +@NODE:5  E  Q $$ERROR^ONCSAPIE(-15,,"local cache")
"RTN","ONCSAPIV",22,0)
 ;--- Check the version of the local CS table cache
"RTN","ONCSAPIV",23,0)
 S TMP=$P(VER,U,2)
"RTN","ONCSAPIV",24,0)
 I TMP'="",$G(@NODE@("TABLES"))'=TMP  D  S @NODE@("TABLES")=TMP
"RTN","ONCSAPIV",25,0)
 . K @NODE@("TABLES"),@NODE@("SCHEMAS")
"RTN","ONCSAPIV",26,0)
 ;--- Check the version of the local edit info cache
"RTN","ONCSAPIV",27,0)
 S TMP=$P(VER,U,3)
"RTN","ONCSAPIV",28,0)
 I TMP'="",$G(@NODE@("EDITS"))'=TMP  D  S @NODE@("EDITS")=TMP
"RTN","ONCSAPIV",29,0)
 . K @NODE@("EDITS")
"RTN","ONCSAPIV",30,0)
 ;--- Refresh the cache descriptor
"RTN","ONCSAPIV",31,0)
 S TMP=$$FMADD^XLFDT(DT,30)
"RTN","ONCSAPIV",32,0)
 S @NODE@(0)=TMP_U_DT_U_"Local Oncology seb-service cache"
"RTN","ONCSAPIV",33,0)
 L -@NODE
"RTN","ONCSAPIV",34,0)
 Q 0
"RTN","ONCSAPIV",35,0)
 ;
"RTN","ONCSAPIV",36,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIV",37,0)
 ;
"RTN","ONCSAPIV",38,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIV",39,0)
 ;
"RTN","ONCSAPIV",40,0)
SETCBK(CBK) ;
"RTN","ONCSAPIV",41,0)
 ;;CHARACTERS^TEXT^ONCSAPIV
"RTN","ONCSAPIV",42,0)
 ;
"RTN","ONCSAPIV",43,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSAPIV")
"RTN","ONCSAPIV",44,0)
 Q
"RTN","ONCSAPIV",45,0)
 ;
"RTN","ONCSAPIV",46,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIV",47,0)
 ;
"RTN","ONCSAPIV",48,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIV",49,0)
 ;
"RTN","ONCSAPIV",50,0)
TEXT(TXT) ;
"RTN","ONCSAPIV",51,0)
 N L,L2E
"RTN","ONCSAPIV",52,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSAPIV",53,0)
 ;--- CS API version
"RTN","ONCSAPIV",54,0)
 I L2E="RESPONSE,CS-APIVER"   S ONCXML("CS-APIVER")=TXT   Q
"RTN","ONCSAPIV",55,0)
 ;--- EDITS metafile version
"RTN","ONCSAPIV",56,0)
 I L2E="RESPONSE,ED-METAVER"  S ONCXML("ED-METAVER")=TXT  Q
"RTN","ONCSAPIV",57,0)
 ;--- Oncology web-service version
"RTN","ONCSAPIV",58,0)
 I L2E="RESPONSE,VERSION"  S ONCXML("VERSION")=TXT  Q
"RTN","ONCSAPIV",59,0)
 ;--- Default processing
"RTN","ONCSAPIV",60,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSAPIV",61,0)
 Q
"RTN","ONCSAPIV",62,0)
 ;
"RTN","ONCSAPIV",63,0)
 ;***** RETURNS THE WEB-SERVICE VERSIONS
"RTN","ONCSAPIV",64,0)
 ;
"RTN","ONCSAPIV",65,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSAPIV",66,0)
 ;
"RTN","ONCSAPIV",67,0)
 ; The ^TMP("ONCSAPIV",$J) global node is used by this function.
"RTN","ONCSAPIV",68,0)
 ;
"RTN","ONCSAPIV",69,0)
 ; Return Values:
"RTN","ONCSAPIV",70,0)
 ;       <0  Error code
"RTN","ONCSAPIV",71,0)
 ;           Versions (e.g. "2.00^010300^2.00)
"RTN","ONCSAPIV",72,0)
 ;             ^01: Oncology web-service version
"RTN","ONCSAPIV",73,0)
 ;             ^02: Version of the CS DLL
"RTN","ONCSAPIV",74,0)
 ;             ^03: EDITS metafile version
"RTN","ONCSAPIV",75,0)
 ;
"RTN","ONCSAPIV",76,0)
VERSION(ONCSAPI) ;
"RTN","ONCSAPIV",77,0)
 N CBK,ONCREQ,ONCRSP,ONCXML,RC,URL
"RTN","ONCSAPIV",78,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSAPIV",79,0)
 S ONCRSP=$NA(^TMP("ONCSAPIV",$J))  K @ONCRSP
"RTN","ONCSAPIV",80,0)
 ;--- Get the server URL
"RTN","ONCSAPIV",81,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSAPIV",82,0)
 ;
"RTN","ONCSAPIV",83,0)
 S RC=0  D
"RTN","ONCSAPIV",84,0)
 . ;--- Prepare the request data
"RTN","ONCSAPIV",85,0)
 . S RC=$$PARAMS^ONCSAPIR("ONCREQ","GET-VERSION")         Q:RC<0
"RTN","ONCSAPIV",86,0)
 . ;--- Request the DLL version
"RTN","ONCSAPIV",87,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIV",88,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'VERSION' REQUEST ***",1)
"RTN","ONCSAPIV",89,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")           Q:RC<0
"RTN","ONCSAPIV",90,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSAPIV",91,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'VERSION' RESPONSE ***",1)
"RTN","ONCSAPIV",92,0)
 . K ONCREQ
"RTN","ONCSAPIV",93,0)
 . ;--- Parse the response
"RTN","ONCSAPIV",94,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSAPIV",95,0)
 . ;--- Check for parsing and web-service errors
"RTN","ONCSAPIV",96,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)                        Q:RC<0
"RTN","ONCSAPIV",97,0)
 . ;--- Check the version numbers
"RTN","ONCSAPIV",98,0)
 . I $G(ONCXML("CS-APIVER"))=""   S RC=$$ERROR^ONCSAPIE(-13)  Q
"RTN","ONCSAPIV",99,0)
 . I $G(ONCXML("ED-METAVER"))=""  S RC=$$ERROR^ONCSAPIE(-23)  Q
"RTN","ONCSAPIV",100,0)
 ;
"RTN","ONCSAPIV",101,0)
 ;--- Cleanup
"RTN","ONCSAPIV",102,0)
 K @ONCRSP
"RTN","ONCSAPIV",103,0)
 I RC'<0  S RC=""  D
"RTN","ONCSAPIV",104,0)
 . S $P(RC,U,1)=$G(ONCXML("VERSION"))     ; Web-service
"RTN","ONCSAPIV",105,0)
 . S $P(RC,U,2)=$G(ONCXML("CS-APIVER"))   ; CS API
"RTN","ONCSAPIV",106,0)
 . S $P(RC,U,3)=$G(ONCXML("ED-METAVER"))  ; EDITS metafile
"RTN","ONCSAPIV",107,0)
 Q RC
"RTN","ONCSAPIX")
0^321^B9859486
"RTN","ONCSAPIX",1,0)
ONCSAPIX ;Hines OIFO/SG - COLLABORATIVE STAGING (XML TOOLS)  ; 8/11/06 8:11am
"RTN","ONCSAPIX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSAPIX",3,0)
 ;
"RTN","ONCSAPIX",4,0)
 ; ONCXML -------------- DESCRIPTOR FOR THE XML PARSING
"RTN","ONCSAPIX",5,0)
 ;
"RTN","ONCSAPIX",6,0)
 ; ONCXML(               Closed root of the destination buffer
"RTN","ONCSAPIX",7,0)
 ;
"RTN","ONCSAPIX",8,0)
 ;   "ERR")              Number of parsing errors
"RTN","ONCSAPIX",9,0)
 ;
"RTN","ONCSAPIX",10,0)
 ;   "FAULTCODE")        SOAP error code
"RTN","ONCSAPIX",11,0)
 ;   "FAULTSTRING")      SOAP error description
"RTN","ONCSAPIX",12,0)
 ;
"RTN","ONCSAPIX",13,0)
 ;   "PATH")             Path to the current XML tag
"RTN","ONCSAPIX",14,0)
 ;
"RTN","ONCSAPIX",15,0)
 ;   "RC")               Error code returned by the web-service
"RTN","ONCSAPIX",16,0)
 ;
"RTN","ONCSAPIX",17,0)
 ;   "TI")               Number of the current text line of
"RTN","ONCSAPIX",18,0)
 ;                       the current tag value
"RTN","ONCSAPIX",19,0)
 ;
"RTN","ONCSAPIX",20,0)
 ;   "TEXT")             Buffer for the current tag text
"RTN","ONCSAPIX",21,0)
 ;
"RTN","ONCSAPIX",22,0)
 Q
"RTN","ONCSAPIX",23,0)
 ;
"RTN","ONCSAPIX",24,0)
 ;***** DUMMY CALLBACKS FOR THE SAX PARSER
"RTN","ONCSAPIX",25,0)
DUMMY(DUMMY1,DUMMY2,DUMMY3) ;
"RTN","ONCSAPIX",26,0)
DUMMY1 Q
"RTN","ONCSAPIX",27,0)
 ;
"RTN","ONCSAPIX",28,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",29,0)
 ;
"RTN","ONCSAPIX",30,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIX",31,0)
 ;
"RTN","ONCSAPIX",32,0)
ENDEL(ELMT) ;
"RTN","ONCSAPIX",33,0)
 S ONCXML("PATH")=$P(ONCXML("PATH"),",",1,$L(ONCXML("PATH"),",")-1)
"RTN","ONCSAPIX",34,0)
 Q
"RTN","ONCSAPIX",35,0)
 ;
"RTN","ONCSAPIX",36,0)
 ;***** ERROR CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",37,0)
 ;
"RTN","ONCSAPIX",38,0)
 ; .ERR          Reference to a local variable containing
"RTN","ONCSAPIX",39,0)
 ;               informations about the error
"RTN","ONCSAPIX",40,0)
 ;
"RTN","ONCSAPIX",41,0)
ERROR(ERR) ;
"RTN","ONCSAPIX",42,0)
 N ERRCODE,ONCINFO,TMP
"RTN","ONCSAPIX",43,0)
 I ERR("SEV")  D
"RTN","ONCSAPIX",44,0)
 . S ERRCODE=-4,ONCXML("ERR")=$G(ONCXML("ERR"))+1
"RTN","ONCSAPIX",45,0)
 E  S ERRCODE=-3
"RTN","ONCSAPIX",46,0)
 ;--- Prepare message details
"RTN","ONCSAPIX",47,0)
 S TMP=$P("Warning^Validation Error^Conformance Error",U,ERR("SEV")+1)
"RTN","ONCSAPIX",48,0)
 S ONCINFO(1)=TMP_" in line #"_ERR("LIN")_" (position #"_ERR("POS")_")"
"RTN","ONCSAPIX",49,0)
 S ONCINFO(2)=$TR(ERR("XML"),$C(9,10,13)," ")
"RTN","ONCSAPIX",50,0)
 ;--- Record the error message
"RTN","ONCSAPIX",51,0)
 D STORE^ONCSAPIE(ERRCODE_U_$TR(ERR("MSG"),U,"~"),"ONCINFO")
"RTN","ONCSAPIX",52,0)
 Q
"RTN","ONCSAPIX",53,0)
 ;
"RTN","ONCSAPIX",54,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSAPIX",55,0)
 ;
"RTN","ONCSAPIX",56,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSAPIX",57,0)
 ;
"RTN","ONCSAPIX",58,0)
SETCBK(CBK,CBKTBL) ;
"RTN","ONCSAPIX",59,0)
 ;;CHARACTERS   ^    TEXT^ONCSAPIX
"RTN","ONCSAPIX",60,0)
 ;;COMMENT      ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",61,0)
 ;;DOCTYPE      ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",62,0)
 ;;ENDDOCUMENT  ^  DUMMY1^ONCSAPIX
"RTN","ONCSAPIX",63,0)
 ;;ENDELEMENT   ^   ENDEL^ONCSAPIX
"RTN","ONCSAPIX",64,0)
 ;;ERROR        ^   ERROR^ONCSAPIX
"RTN","ONCSAPIX",65,0)
 ;;EXTERNAL     ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",66,0)
 ;;NOTATION     ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",67,0)
 ;;PI           ^   DUMMY^ONCSAPIX
"RTN","ONCSAPIX",68,0)
 ;;STARTDOCUMENT^STARTDOC^ONCSAPIX
"RTN","ONCSAPIX",69,0)
 ;;STARTELEMENT ^ STARTEL^ONCSAPIX
"RTN","ONCSAPIX",70,0)
 ;
"RTN","ONCSAPIX",71,0)
 N I,NAME,TMP,XGET  K CBK
"RTN","ONCSAPIX",72,0)
 D:$G(CBKTBL)'=""
"RTN","ONCSAPIX",73,0)
 . S XGET(2)="S TMP=$T("_$P(CBKTBL,"^")_"+I^"_$P(CBKTBL,"^",2)_")"
"RTN","ONCSAPIX",74,0)
 S XGET(1)="S TMP=$T(SETCBK+I)"
"RTN","ONCSAPIX",75,0)
 ;---
"RTN","ONCSAPIX",76,0)
 S XGET=""
"RTN","ONCSAPIX",77,0)
 F  S XGET=$O(XGET(XGET))  Q:XGET=""  D
"RTN","ONCSAPIX",78,0)
 . F I=1:1  X XGET(XGET)  S TMP=$TR($P(TMP,";;",2)," ")  Q:TMP=""  D
"RTN","ONCSAPIX",79,0)
 . . S NAME=$P(TMP,U),CBK(NAME)=$P(TMP,U,2,3)
"RTN","ONCSAPIX",80,0)
 Q
"RTN","ONCSAPIX",81,0)
 ;
"RTN","ONCSAPIX",82,0)
 ;***** START DOCUMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",83,0)
STARTDOC ;
"RTN","ONCSAPIX",84,0)
 S ONCXML("PATH")="",ONCXML("ERR")=0
"RTN","ONCSAPIX",85,0)
 Q
"RTN","ONCSAPIX",86,0)
 ;
"RTN","ONCSAPIX",87,0)
 ;***** START ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",88,0)
 ;
"RTN","ONCSAPIX",89,0)
 ; ELMT          Name of the element
"RTN","ONCSAPIX",90,0)
 ;
"RTN","ONCSAPIX",91,0)
 ; .ATTR         List of attributes and their values
"RTN","ONCSAPIX",92,0)
 ;
"RTN","ONCSAPIX",93,0)
STARTEL(ELMT,ATTR) ;
"RTN","ONCSAPIX",94,0)
 S ONCXML("PATH")=ONCXML("PATH")_$S(ONCXML("PATH")'="":",",1:"")_ELMT
"RTN","ONCSAPIX",95,0)
 S ONCXML("TI")=1  K ONCXML("TEXT")
"RTN","ONCSAPIX",96,0)
 Q
"RTN","ONCSAPIX",97,0)
 ;
"RTN","ONCSAPIX",98,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSAPIX",99,0)
 ;
"RTN","ONCSAPIX",100,0)
 ; TXT           Line of unmarked text
"RTN","ONCSAPIX",101,0)
 ;
"RTN","ONCSAPIX",102,0)
TEXT(TXT) ;
"RTN","ONCSAPIX",103,0)
 I ONCXML("PATH")?1.E1"Fault,faultcode"  D  Q
"RTN","ONCSAPIX",104,0)
 . S ONCXML("FAULTCODE")=$G(ONCXML("FAULTCODE"))_TXT
"RTN","ONCSAPIX",105,0)
 I ONCXML("PATH")?1.E1"Fault,faultstring"  D  Q
"RTN","ONCSAPIX",106,0)
 . S ONCXML("FAULTSTRING")=$G(ONCXML("FAULTSTRING"))_TXT
"RTN","ONCSAPIX",107,0)
 I ONCXML("PATH")?1.E1"Fault,detail,RC"  D  Q
"RTN","ONCSAPIX",108,0)
 . S ONCXML("RC")=$G(ONCXML("RC"))_TXT
"RTN","ONCSAPIX",109,0)
 Q
"RTN","ONCSED01")
0^322^B13507255
"RTN","ONCSED01",1,0)
ONCSED01 ;Hines OIFO/SG - EDITS 'RUN BATCH' REQUEST ; 11/6/06 11:48am
"RTN","ONCSED01",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSED01",3,0)
 ;
"RTN","ONCSED01",4,0)
 ;--- SOAP REQUST TO THE ONCOLOGY WEB SERVICE
"RTN","ONCSED01",5,0)
 ;
"RTN","ONCSED01",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED01",7,0)
 ; <soap:Envelope
"RTN","ONCSED01",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED01",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED01",10,0)
 ;   <soap:Body>
"RTN","ONCSED01",11,0)
 ;     <ED-RUN-BATCH [edits-config="..."] ver="2.0"
"RTN","ONCSED01",12,0)
 ;       xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSED01",13,0)
 ;       <NAACCR-RECORD> ... </NAACCR-RECORD>
"RTN","ONCSED01",14,0)
 ;     </ED-RUN-BATCH>
"RTN","ONCSED01",15,0)
 ;   </soap:Body >
"RTN","ONCSED01",16,0)
 ; </soap:Envelope>
"RTN","ONCSED01",17,0)
 ;
"RTN","ONCSED01",18,0)
 ;--- ATTRIBUTES
"RTN","ONCSED01",19,0)
 ;
"RTN","ONCSED01",20,0)
 ; edits-config  Name of the configuration that should be used by
"RTN","ONCSED01",21,0)
 ;               the server to validate the data.  By default,
"RTN","ONCSED01",22,0)
 ;               the "DEFAULT" name is used.
"RTN","ONCSED01",23,0)
 ;
"RTN","ONCSED01",24,0)
 Q
"RTN","ONCSED01",25,0)
 ;
"RTN","ONCSED01",26,0)
 ;***** EXECUTES THE 'RUN BATCH' EDITS REQUEST
"RTN","ONCSED01",27,0)
 ;
"RTN","ONCSED01",28,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED01",29,0)
 ;
"RTN","ONCSED01",30,0)
 ; .ONC8REQ      Reference to a local variable that stores the
"RTN","ONCSED01",31,0)
 ;               closed root of the request.
"RTN","ONCSED01",32,0)
 ;
"RTN","ONCSED01",33,0)
 ;               Sub-nodes of the variable are used internally
"RTN","ONCSED01",34,0)
 ;               (see ^ONCSNACR and ^ONCSAPIR for details).
"RTN","ONCSED01",35,0)
 ;
"RTN","ONCSED01",36,0)
 ; [ONC8MSG]     Closed root of the buffer for error messages. By
"RTN","ONCSED01",37,0)
 ;               default ($G(ONC8MSG)=""), the ^TMP("ONCSED01M",$J)
"RTN","ONCSED01",38,0)
 ;               global node is used.
"RTN","ONCSED01",39,0)
 ;
"RTN","ONCSED01",40,0)
 ; @ONC8MSG@(
"RTN","ONCSED01",41,0)
 ;   0)                  Result descriptor
"RTN","ONCSED01",42,0)
 ;                         ^01: Number of errors
"RTN","ONCSED01",43,0)
 ;                         ^02: Number of warnings
"RTN","ONCSED01",44,0)
 ;                         ^03: Web-service version
"RTN","ONCSED01",45,0)
 ;                         ^04: Metafile version
"RTN","ONCSED01",46,0)
 ;   set#,
"RTN","ONCSED01",47,0)
 ;     0)                Edit set descriptor
"RTN","ONCSED01",48,0)
 ;                         ^01: Number of errors
"RTN","ONCSED01",49,0)
 ;                         ^02: Number of warnings
"RTN","ONCSED01",50,0)
 ;     1)                Edit set name
"RTN","ONCSED01",51,0)
 ;     "E",
"RTN","ONCSED01",52,0)
 ;       edit#,
"RTN","ONCSED01",53,0)
 ;         0)            Edit descriptor
"RTN","ONCSED01",54,0)
 ;                         ^01: Number of errors
"RTN","ONCSED01",55,0)
 ;                         ^02: Number of warnings
"RTN","ONCSED01",56,0)
 ;                         ^03: Edit index
"RTN","ONCSED01",57,0)
 ;         1)            Edit name
"RTN","ONCSED01",58,0)
 ;         "F",
"RTN","ONCSED01",59,0)
 ;           fld#,
"RTN","ONCSED01",60,0)
 ;             0)        Field descriptor
"RTN","ONCSED01",61,0)
 ;                         ^01: Start position
"RTN","ONCSED01",62,0)
 ;           1)          Field name
"RTN","ONCSED01",63,0)
 ;           2)          Field value
"RTN","ONCSED01",64,0)
 ;
"RTN","ONCSED01",65,0)
 ;         "M",
"RTN","ONCSED01",66,0)
 ;           msg#,
"RTN","ONCSED01",67,0)
 ;             0)        Message descriptor
"RTN","ONCSED01",68,0)
 ;                         ^01: Code
"RTN","ONCSED01",69,0)
 ;                         ^02: Type
"RTN","ONCSED01",70,0)
 ;             1)        Message text
"RTN","ONCSED01",71,0)
 ;
"RTN","ONCSED01",72,0)
 ;   "ES",
"RTN","ONCSED01",73,0)
 ;     edit#)            set#
"RTN","ONCSED01",74,0)
 ;
"RTN","ONCSED01",75,0)
 ; The ^TMP("ONCSED01R",$J) and ^TMP("ONCSED01M",$J) global nodes
"RTN","ONCSED01",76,0)
 ; are used by this function.
"RTN","ONCSED01",77,0)
 ;
"RTN","ONCSED01",78,0)
 ; Return values:
"RTN","ONCSED01",79,0)
 ;
"RTN","ONCSED01",80,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED01",81,0)
 ;           For example:
"RTN","ONCSED01",82,0)
 ;             "-6^Parameter 'ONC8REQ' has an invalid value: ''^
"RTN","ONCSED01",83,0)
 ;              RBQEXEC+3^ONCSED01"
"RTN","ONCSED01",84,0)
 ;
"RTN","ONCSED01",85,0)
 ;        0  Ok
"RTN","ONCSED01",86,0)
 ;
"RTN","ONCSED01",87,0)
 ;        1  EDITS Warnings
"RTN","ONCSED01",88,0)
 ;
"RTN","ONCSED01",89,0)
 ;        2  EDITS Errors
"RTN","ONCSED01",90,0)
 ;
"RTN","ONCSED01",91,0)
RBQEXEC(ONCSAPI,ONC8REQ,ONC8MSG) ;
"RTN","ONCSED01",92,0)
 N ONC8RDAT,RC,TMP,URL,X
"RTN","ONCSED01",93,0)
 ;--- Validate parameters
"RTN","ONCSED01",94,0)
 Q:$G(ONC8REQ)?." " $$ERROR^ONCSAPIE(-6,,"ONC8REQ",$G(ONC8REQ))
"RTN","ONCSED01",95,0)
 S:$G(ONC8MSG)?." " ONC8MSG=$NA(^TMP("ONCSED01M",$J))
"RTN","ONCSED01",96,0)
 ;--- Initialize variables
"RTN","ONCSED01",97,0)
 S ONC8RDAT=$NA(^TMP("ONCSED01R",$J))
"RTN","ONCSED01",98,0)
 K @ONC8RDAT,@ONC8MSG
"RTN","ONCSED01",99,0)
 ;
"RTN","ONCSED01",100,0)
 ;--- Finish preparation of the NAACCR record
"RTN","ONCSED01",101,0)
 D END^ONCSNACR(.ONC8REQ)
"RTN","ONCSED01",102,0)
 ;
"RTN","ONCSED01",103,0)
 ;--- Complete the request
"RTN","ONCSED01",104,0)
 D TRAILER^ONCSAPIR(.ONC8REQ)
"RTN","ONCSED01",105,0)
 ;
"RTN","ONCSED01",106,0)
 ;--- Get the server URL
"RTN","ONCSED01",107,0)
 S URL=$$GETCSURL^ONCSAPIU()  Q:URL<0 URL
"RTN","ONCSED01",108,0)
 ;
"RTN","ONCSED01",109,0)
 S RC=0  D
"RTN","ONCSED01",110,0)
 . ;--- Call the web service
"RTN","ONCSED01",111,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED01",112,0)
 . . D ZW^ONCSAPIU(ONC8REQ,"*** 'RUN BATCH' REQUEST ***")
"RTN","ONCSED01",113,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONC8RDAT,ONC8REQ)  Q:RC<0
"RTN","ONCSED01",114,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED01",115,0)
 . . D ZW^ONCSAPIU(ONC8RDAT,"*** 'RUN BATCH' RESPONSE ***")
"RTN","ONCSED01",116,0)
 . ;--- Parse the response
"RTN","ONCSED01",117,0)
 . S RC=$$PARSE^ONCSED02(.ONCSAPI,ONC8RDAT,ONC8MSG)
"RTN","ONCSED01",118,0)
 ;
"RTN","ONCSED01",119,0)
 ;--- Cleanup
"RTN","ONCSED01",120,0)
 K ^TMP("ONCSED01R",$J)
"RTN","ONCSED01",121,0)
 D:RC'<0
"RTN","ONCSED01",122,0)
 . S TMP=$G(@ONC8MSG@(0))
"RTN","ONCSED01",123,0)
 . S RC=$S($P(TMP,U,1)>0:2,$P(TMP,U,2)>0:1,1:0)
"RTN","ONCSED01",124,0)
 Q RC
"RTN","ONCSED01",125,0)
 ;
"RTN","ONCSED01",126,0)
 ;***** STARTS PREPARATION OF THE 'RUN BATCH' EDITS REQUEST
"RTN","ONCSED01",127,0)
 ;
"RTN","ONCSED01",128,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED01",129,0)
 ;
"RTN","ONCSED01",130,0)
 ; .ONC8REQ      Reference to a local variable that stores the
"RTN","ONCSED01",131,0)
 ;               closed root of the buffer for the request.
"RTN","ONCSED01",132,0)
 ;
"RTN","ONCSED01",133,0)
 ;               Sub-nodes of the variable are used internally
"RTN","ONCSED01",134,0)
 ;               (see ^ONCSNACR and ^ONCSAPIR for details).
"RTN","ONCSED01",135,0)
 ;
"RTN","ONCSED01",136,0)
 ; [CFGNAME]     Name of the configuration that should be used by
"RTN","ONCSED01",137,0)
 ;               the server to validate the data.  By default,
"RTN","ONCSED01",138,0)
 ;               the default configuration is used.
"RTN","ONCSED01",139,0)
 ;
"RTN","ONCSED01",140,0)
 ; Return values:
"RTN","ONCSED01",141,0)
 ;
"RTN","ONCSED01",142,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED01",143,0)
 ;           For example:
"RTN","ONCSED01",144,0)
 ;             "-6^Parameter 'ONC8REQ' has an invalid value: ''^
"RTN","ONCSED01",145,0)
 ;              RBQPREP+3^ONCSED01"
"RTN","ONCSED01",146,0)
 ;
"RTN","ONCSED01",147,0)
 ;        0  Ok
"RTN","ONCSED01",148,0)
 ;
"RTN","ONCSED01",149,0)
RBQPREP(ONCSAPI,ONC8REQ,CFGNAME) ;
"RTN","ONCSED01",150,0)
 N ATTS
"RTN","ONCSED01",151,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSED01",152,0)
 ;--- Validate parameters
"RTN","ONCSED01",153,0)
 Q:$G(ONC8REQ)?." " $$ERROR^ONCSAPIE(-6,,"ONC8REQ",$G(ONC8REQ))
"RTN","ONCSED01",154,0)
 ;
"RTN","ONCSED01",155,0)
 ;--- Standard request header
"RTN","ONCSED01",156,0)
 S:'($G(CFGNAME)?." ") ATTS("edits-config")=CFGNAME
"RTN","ONCSED01",157,0)
 D HEADER^ONCSAPIR(.ONC8REQ,"ED-RUN-BATCH",.ATTS)
"RTN","ONCSED01",158,0)
 ;
"RTN","ONCSED01",159,0)
 ;--- Start preparation of the NAACCR record
"RTN","ONCSED01",160,0)
 D BEGIN^ONCSNACR(.ONC8REQ)
"RTN","ONCSED01",161,0)
 ;---
"RTN","ONCSED01",162,0)
 Q 0
"RTN","ONCSED01",163,0)
 ;
"RTN","ONCSED01",164,0)
 ;***** PRINTS 'EDITS' REPORT ON THE CURRENT DEVICE
"RTN","ONCSED01",165,0)
 ;
"RTN","ONCSED01",166,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED01",167,0)
 ;
"RTN","ONCSED01",168,0)
 ; ONC8MSG       Closed root of the list of parsed error messages
"RTN","ONCSED01",169,0)
 ;               (generated by the RBQEXEC^ONCSED0101)
"RTN","ONCSED01",170,0)
 ;
"RTN","ONCSED01",171,0)
 ; [FLAGS]       Flags that control the output (can be combined):
"RTN","ONCSED01",172,0)
 ;                 M  Include messages
"RTN","ONCSED01",173,0)
 ;                 T  Include totals
"RTN","ONCSED01",174,0)
 ;
"RTN","ONCSED01",175,0)
 ; Return values:
"RTN","ONCSED01",176,0)
 ;
"RTN","ONCSED01",177,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED01",178,0)
 ;           For example:
"RTN","ONCSED01",179,0)
 ;             "-6^Parameter 'ONC8REQ' has an invalid value: ''^
"RTN","ONCSED01",180,0)
 ;              RBQEXEC+3^ONCSED01"
"RTN","ONCSED01",181,0)
 ;
"RTN","ONCSED01",182,0)
 ;        0  Ok
"RTN","ONCSED01",183,0)
 ;
"RTN","ONCSED01",184,0)
 ;        1  Timeout
"RTN","ONCSED01",185,0)
 ;        2  User canceled the output ('^' was entered) 
"RTN","ONCSED01",186,0)
 ;
"RTN","ONCSED01",187,0)
REPORT(ONCSAPI,ONC8MSG,FLAGS) ;
"RTN","ONCSED01",188,0)
 N RC,TMP
"RTN","ONCSED01",189,0)
 S TMP=$G(@ONC8MSG@(0))
"RTN","ONCSED01",190,0)
 Q:($P(TMP,U,1)'>0)&($P(TMP,U,2)'>0) 0
"RTN","ONCSED01",191,0)
 S FLAGS=$G(FLAGS)
"RTN","ONCSED01",192,0)
 I $TR(FLAGS,"MT")'=FLAGS  W:$E(IOST,1,2)="C-" @IOF
"RTN","ONCSED01",193,0)
 ;--- EDITS messages
"RTN","ONCSED01",194,0)
 I FLAGS["M"  D  Q:RC RC
"RTN","ONCSED01",195,0)
 . S RC=$$MESSAGES^ONCSED03(.ONCSAPI,ONC8MSG,FLAGS)
"RTN","ONCSED01",196,0)
 ;--- EDITS totals
"RTN","ONCSED01",197,0)
 I FLAGS["T"  D  Q:RC RC
"RTN","ONCSED01",198,0)
 . S RC=$$TOTALS^ONCSED03(.ONCSAPI,ONC8MSG,FLAGS)
"RTN","ONCSED01",199,0)
 ;---
"RTN","ONCSED01",200,0)
 Q 0
"RTN","ONCSED02")
0^323^B17490289
"RTN","ONCSED02",1,0)
ONCSED02 ;Hines OIFO/SG - EDITS 'RUN BATCH' (PARSER)  ; 8/16/06 1:07pm
"RTN","ONCSED02",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSED02",3,0)
 ;
"RTN","ONCSED02",4,0)
 ;--- SOAP RESPONSE FROM THE ONCOLOGY WEB SERVICE
"RTN","ONCSED02",5,0)
 ;
"RTN","ONCSED02",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED02",7,0)
 ; <soap:Envelope
"RTN","ONCSED02",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED02",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED02",10,0)
 ;   <soap:Body>
"RTN","ONCSED02",11,0)
 ;     <ED-RESPONSE xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSED02",12,0)
 ;       <EDIT-SET NAME="..." ECNT="...">
"RTN","ONCSED02",13,0)
 ;         <EDIT INDEX="..." NAME="..." ECNT="..." WCNT="...">
"RTN","ONCSED02",14,0)
 ;           <FLD NAME="..." POS="..."> ... </FLD>
"RTN","ONCSED02",15,0)
 ;           ...
"RTN","ONCSED02",16,0)
 ;           <MSG CODE="..." TYPE="..."> ... </MSG>
"RTN","ONCSED02",17,0)
 ;           ...
"RTN","ONCSED02",18,0)
 ;         </EDIT>
"RTN","ONCSED02",19,0)
 ;       </EDIT-SET>
"RTN","ONCSED02",20,0)
 ;       <METAVER> ... </METAVER>
"RTN","ONCSED02",21,0)
 ;       <VERSION> ... </VERSION>
"RTN","ONCSED02",22,0)
 ;     </ED-RESPONSE>
"RTN","ONCSED02",23,0)
 ;     <soap:Fault>
"RTN","ONCSED02",24,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSED02",25,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSED02",26,0)
 ;       <detail>
"RTN","ONCSED02",27,0)
 ;         <RC> ... </RC>
"RTN","ONCSED02",28,0)
 ;       </detail>
"RTN","ONCSED02",29,0)
 ;     </soap:Fault>
"RTN","ONCSED02",30,0)
 ;   </soap:Body >
"RTN","ONCSED02",31,0)
 ; </soap:Envelope>
"RTN","ONCSED02",32,0)
 ;
"RTN","ONCSED02",33,0)
 ;--- ATTRIBUTES
"RTN","ONCSED02",34,0)
 ;
"RTN","ONCSED02",35,0)
 ; TYPE          E - Error, W - Warning, M - Message
"RTN","ONCSED02",36,0)
 ;
"RTN","ONCSED02",37,0)
 Q
"RTN","ONCSED02",38,0)
 ;
"RTN","ONCSED02",39,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED02",40,0)
 ;
"RTN","ONCSED02",41,0)
 ; ELMT          Name of the element
"RTN","ONCSED02",42,0)
 ;
"RTN","ONCSED02",43,0)
ENDEL(ELMT) ;
"RTN","ONCSED02",44,0)
 N L,LAST2
"RTN","ONCSED02",45,0)
 S L=$L(ONCXML("PATH"),","),LAST2=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED02",46,0)
 D ENDEL^ONCSAPIX(ELMT)
"RTN","ONCSED02",47,0)
 ;---
"RTN","ONCSED02",48,0)
 I LAST2="EDIT,FLD"  D  Q
"RTN","ONCSED02",49,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"F",ONCFIEN,2)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",50,0)
 ;---
"RTN","ONCSED02",51,0)
 I LAST2="EDIT,MSG"  D  Q
"RTN","ONCSED02",52,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"M",ONCMIEN,1)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",53,0)
 ;---
"RTN","ONCSED02",54,0)
 I LAST2="ED-RESPONSE,METAVER"  D  Q
"RTN","ONCSED02",55,0)
 . S $P(@ONCXML@(0),U,4)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",56,0)
 ;---
"RTN","ONCSED02",57,0)
 I LAST2="ED-RESPONSE,VERSION"  D  Q
"RTN","ONCSED02",58,0)
 . S $P(@ONCXML@(0),U,3)=$G(ONCXML("TEXT"))
"RTN","ONCSED02",59,0)
 Q
"RTN","ONCSED02",60,0)
 ;
"RTN","ONCSED02",61,0)
 ;***** PARSES THE RESPONSE FROM THE EDITS API
"RTN","ONCSED02",62,0)
 ;
"RTN","ONCSED02",63,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED02",64,0)
 ;
"RTN","ONCSED02",65,0)
 ; ONC8RDAT      Closed root of the XML response
"RTN","ONCSED02",66,0)
 ;
"RTN","ONCSED02",67,0)
 ; ONCXML        Closed root of the output buffer.
"RTN","ONCSED02",68,0)
 ;
"RTN","ONCSED02",69,0)
PARSE(ONCSAPI,ONC8RDAT,ONCXML) ;
"RTN","ONCSED02",70,0)
 N ONCEDIEN      ; Current edit IEN
"RTN","ONCSED02",71,0)
 N ONCESIEN      ; Current edit set IEN
"RTN","ONCSED02",72,0)
 N ONCFIEN       ; Current field IEN
"RTN","ONCSED02",73,0)
 N ONCMIEN       ; Current message IEN
"RTN","ONCSED02",74,0)
 ;
"RTN","ONCSED02",75,0)
 N CBK,EDIEN,ESIEN,ESTOTALS,I,RC,TMP,TOTALS
"RTN","ONCSED02",76,0)
 D SETCBK(.CBK),EN^MXMLPRSE(ONC8RDAT,.CBK,"W")
"RTN","ONCSED02",77,0)
 D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED02",78,0)
 . D ZW^ONCSAPIU(ONCXML,"*** PARSED 'RUN BATCH' RESPONSE ***")
"RTN","ONCSED02",79,0)
 ;--- Calculate the totals
"RTN","ONCSED02",80,0)
 S ESIEN=0
"RTN","ONCSED02",81,0)
 F  S ESIEN=$O(@ONCXML@(ESIEN))  Q:ESIEN'>0  D
"RTN","ONCSED02",82,0)
 . S EDIEN=0  K ESTOTALS
"RTN","ONCSED02",83,0)
 . F  S EDIEN=$O(@ONCXML@(ESIEN,"E",EDIEN))  Q:EDIEN'>0  D
"RTN","ONCSED02",84,0)
 . . S TMP=$G(@ONCXML@(ESIEN,"E",EDIEN,0))
"RTN","ONCSED02",85,0)
 . . F I=1,2  S ESTOTALS(I)=$G(ESTOTALS(I))+$P(TMP,U,I)
"RTN","ONCSED02",86,0)
 . F I=1,2  S TOTALS(I)=$G(TOTALS(I))+$G(ESTOTALS(I))
"RTN","ONCSED02",87,0)
 . S $P(@ONCXML@(ESIEN,0),U,1,2)=$G(ESTOTALS(1),0)_U_$G(ESTOTALS(2),0)
"RTN","ONCSED02",88,0)
 S $P(@ONCXML@(0),U,1,2)=$G(TOTALS(1),0)_U_$G(TOTALS(2),0)
"RTN","ONCSED02",89,0)
 ;--- Check for parsing and web-service errors
"RTN","ONCSED02",90,0)
 Q $$CHKERR^ONCSAPIR(.ONCXML)
"RTN","ONCSED02",91,0)
 ;
"RTN","ONCSED02",92,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSED02",93,0)
SETCBK(CBK) ;
"RTN","ONCSED02",94,0)
 ;;CHARACTERS  ^   TEXT^ONCSED02
"RTN","ONCSED02",95,0)
 ;;ENDELEMENT  ^  ENDEL^ONCSED02
"RTN","ONCSED02",96,0)
 ;;STARTELEMENT^STARTEL^ONCSED02
"RTN","ONCSED02",97,0)
 ;
"RTN","ONCSED02",98,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSED02")
"RTN","ONCSED02",99,0)
 Q
"RTN","ONCSED02",100,0)
 ;
"RTN","ONCSED02",101,0)
 ;***** START ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED02",102,0)
 ;
"RTN","ONCSED02",103,0)
 ; ELMT          Name of the element
"RTN","ONCSED02",104,0)
 ;
"RTN","ONCSED02",105,0)
 ; .ATTR         List of attributes and their values
"RTN","ONCSED02",106,0)
 ;
"RTN","ONCSED02",107,0)
STARTEL(ELMT,ATTR) ;
"RTN","ONCSED02",108,0)
 N L,LAST2,TMP
"RTN","ONCSED02",109,0)
 D STARTEL^ONCSAPIX(ELMT,.ATTR)
"RTN","ONCSED02",110,0)
 S L=$L(ONCXML("PATH"),","),LAST2=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED02",111,0)
 ;--- Field
"RTN","ONCSED02",112,0)
 I LAST2="EDIT,FLD"  D  Q
"RTN","ONCSED02",113,0)
 . S ONCFIEN=$G(ONCFIEN)+1
"RTN","ONCSED02",114,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"F",ONCFIEN,0)=$G(ATTR("POS"))
"RTN","ONCSED02",115,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"F",ONCFIEN,1)=$G(ATTR("NAME"))
"RTN","ONCSED02",116,0)
 ;--- Message
"RTN","ONCSED02",117,0)
 I LAST2="EDIT,MSG"  D  Q
"RTN","ONCSED02",118,0)
 . S ONCMIEN=$G(ONCMIEN)+1
"RTN","ONCSED02",119,0)
 . S TMP=$G(ATTR("CODE"))_U_$G(ATTR("TYPE"))
"RTN","ONCSED02",120,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,"M",ONCMIEN,0)=TMP
"RTN","ONCSED02",121,0)
 ;--- Edit
"RTN","ONCSED02",122,0)
 I LAST2="EDIT-SET,EDIT"  D  Q
"RTN","ONCSED02",123,0)
 . S ONCEDIEN=$G(ONCEDIEN)+1,(ONCFIEN,ONCMIEN)=0
"RTN","ONCSED02",124,0)
 . S TMP=$G(ATTR("ECNT"))_U_$G(ATTR("WCNT"))_U_$G(ATTR("INDEX"))
"RTN","ONCSED02",125,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,0)=TMP
"RTN","ONCSED02",126,0)
 . S @ONCXML@(ONCESIEN,"E",ONCEDIEN,1)=$G(ATTR("NAME"))
"RTN","ONCSED02",127,0)
 . S @ONCXML@("ES",ONCEDIEN)=ONCESIEN
"RTN","ONCSED02",128,0)
 ;--- Edit Set
"RTN","ONCSED02",129,0)
 I LAST2="ED-RESPONSE,EDIT-SET"  D  Q
"RTN","ONCSED02",130,0)
 . S ONCESIEN=$G(ONCESIEN)+1
"RTN","ONCSED02",131,0)
 . S @ONCXML@(ONCESIEN,0)=$G(ATTR("ECNT"))_U_$G(ATTR("WCNT"))
"RTN","ONCSED02",132,0)
 . S @ONCXML@(ONCESIEN,1)=$G(ATTR("NAME"))
"RTN","ONCSED02",133,0)
 Q
"RTN","ONCSED02",134,0)
 ;
"RTN","ONCSED02",135,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED02",136,0)
 ;
"RTN","ONCSED02",137,0)
 ; TXT           Line of unmarked text
"RTN","ONCSED02",138,0)
 ;
"RTN","ONCSED02",139,0)
TEXT(TXT) ;
"RTN","ONCSED02",140,0)
 S ONCXML("TEXT")=$G(ONCXML("TEXT"))_TXT
"RTN","ONCSED02",141,0)
 ;--- Default processing
"RTN","ONCSED02",142,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSED02",143,0)
 Q
"RTN","ONCSED03")
0^324^B44378907
"RTN","ONCSED03",1,0)
ONCSED03 ;Hines OIFO/SG - EDITS 'RUN BATCH' (REPORT)  ; 2/14/07 10:21am
"RTN","ONCSED03",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSED03",3,0)
 ;
"RTN","ONCSED03",4,0)
 Q
"RTN","ONCSED03",5,0)
 ;
"RTN","ONCSED03",6,0)
 ;***** PRINTS ADDITIONAL EDIT INFO
"RTN","ONCSED03",7,0)
 ;
"RTN","ONCSED03",8,0)
 ; EDIEN         Internal number of the edit in the list of parsed
"RTN","ONCSED03",9,0)
 ;               error messages generated by the RBQEXEC^ONCSED0101
"RTN","ONCSED03",10,0)
 ;
"RTN","ONCSED03",11,0)
EDINFO(EDIEN) ;
"RTN","ONCSED03",12,0)
 N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,EDTNDX,ESIEN,ESNAME,I,NODE,RC,SL,TMP,X,Y
"RTN","ONCSED03",13,0)
 S RC=0
"RTN","ONCSED03",14,0)
 S ESIEN=+$G(@ONC8MSG@("ES",EDIEN))                  Q:ESIEN'>0
"RTN","ONCSED03",15,0)
 S ESNAME=$G(@ONC8MSG@(ESIEN,1))                     Q:ESNAME=""
"RTN","ONCSED03",16,0)
 S EDTNDX=+$P($G(@ONC8MSG@(ESIEN,"E",EDIEN,0)),U,3)  Q:EDTNDX<0
"RTN","ONCSED03",17,0)
 S SL=$$REPEAT^XLFSTR("- ",$G(IOM,80)\2-1)
"RTN","ONCSED03",18,0)
 ;--- Header
"RTN","ONCSED03",19,0)
 S $Y=0  W @IOF,SL
"RTN","ONCSED03",20,0)
 W !,"Additional info on '"_$G(@ONC8MSG@(ESIEN,"E",EDIEN,1))_"'"
"RTN","ONCSED03",21,0)
 W !,SL
"RTN","ONCSED03",22,0)
 ;--- Description
"RTN","ONCSED03",23,0)
 S NODE=$$GETEDESC^ONCSED04(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED03",24,0)
 I NODE'<0  W !  D  Q:RC
"RTN","ONCSED03",25,0)
 . S I=0
"RTN","ONCSED03",26,0)
 . F  S I=$O(@NODE@(I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",27,0)
 . . W !,@NODE@(I)  S RC=$$PAGE1()
"RTN","ONCSED03",28,0)
 ;--- Help
"RTN","ONCSED03",29,0)
 S NODE=$$GETEDHLP^ONCSED04(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED03",30,0)
 I NODE'<0  W !  D  Q:RC
"RTN","ONCSED03",31,0)
 . S I=0
"RTN","ONCSED03",32,0)
 . F  S I=$O(@NODE@(I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",33,0)
 . . W !,@NODE@(I)  S RC=$$PAGE1()
"RTN","ONCSED03",34,0)
 ;--- Trailer
"RTN","ONCSED03",35,0)
 W !,SL
"RTN","ONCSED03",36,0)
 S RC=$$PAGE1(,1)
"RTN","ONCSED03",37,0)
 Q
"RTN","ONCSED03",38,0)
 ;
"RTN","ONCSED03",39,0)
 ;***** PRINTS THE MESSAGES
"RTN","ONCSED03",40,0)
 ;
"RTN","ONCSED03",41,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED03",42,0)
 ;
"RTN","ONCSED03",43,0)
 ; ONC8MSG       Closed root of the list of parsed error messages
"RTN","ONCSED03",44,0)
 ;               (generated by the RBQEXEC^ONCSED0101)
"RTN","ONCSED03",45,0)
 ;
"RTN","ONCSED03",46,0)
 ; [FLAGS]       Flags that control the output
"RTN","ONCSED03",47,0)
 ;
"RTN","ONCSED03",48,0)
 ; Return values:
"RTN","ONCSED03",49,0)
 ;
"RTN","ONCSED03",50,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED03",51,0)
 ;        0  Ok
"RTN","ONCSED03",52,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",53,0)
 ;        2  Timeout
"RTN","ONCSED03",54,0)
 ;
"RTN","ONCSED03",55,0)
MESSAGES(ONCSAPI,ONC8MSG,FLAGS) ;
"RTN","ONCSED03",56,0)
 N ONCMNL        ; Maximum number of lines per page
"RTN","ONCSED03",57,0)
 N ONCPAGE       ; Pointers to the beginning of the current page
"RTN","ONCSED03",58,0)
 N ONCESIEN      ; Internal number of the current edit set
"RTN","ONCSED03",59,0)
 N ONCEDIEN      ; Internal number of the current edit
"RTN","ONCSED03",60,0)
 ;
"RTN","ONCSED03",61,0)
 N EDTNDX,ESNAME,IEN,NODE,RC,REPRINT,TMP
"RTN","ONCSED03",62,0)
 S RC=0,REPRINT=1,ONCMNL=$S($G(IOSL)>10:+IOSL,1:24)
"RTN","ONCSED03",63,0)
 ;=== Set the pointers to the beginning of the list
"RTN","ONCSED03",64,0)
 S ONCESIEN=$O(@ONC8MSG@(0)),ONCEDIEN=""
"RTN","ONCSED03",65,0)
 S ONCPAGE=ONCESIEN_U_ONCEDIEN
"RTN","ONCSED03",66,0)
 ;
"RTN","ONCSED03",67,0)
 ;=== Print the messages and process user input
"RTN","ONCSED03",68,0)
 F  D  Q:RC!(ONCESIEN'>0)
"RTN","ONCSED03",69,0)
 . F  Q:ONCESIEN'>0  D  Q:RC  S ONCESIEN=$O(@ONC8MSG@(ONCESIEN)),ONCEDIEN=""
"RTN","ONCSED03",70,0)
 . . ;--- Edit set name
"RTN","ONCSED03",71,0)
 . . S ESNAME=@ONC8MSG@(ONCESIEN,1)
"RTN","ONCSED03",72,0)
 . . I ONCEDIEN'>0  D  Q:RC
"RTN","ONCSED03",73,0)
 . . . I REPRINT  S REPRINT=0
"RTN","ONCSED03",74,0)
 . . . E  S RC=$$PAGE(3)  Q:RC  W !!
"RTN","ONCSED03",75,0)
 . . . S TMP=ESNAME_" (Metafile Version: "_$P(@ONC8MSG@(0),U,4)_")"
"RTN","ONCSED03",76,0)
 . . . W TMP,!,$$REPEAT^XLFSTR("-",$L(TMP))
"RTN","ONCSED03",77,0)
 . . . S ONCEDIEN=$O(@ONC8MSG@(ONCESIEN,"E",0))
"RTN","ONCSED03",78,0)
 . . ;---
"RTN","ONCSED03",79,0)
 . . F  Q:ONCEDIEN'>0  D  Q:RC  S ONCEDIEN=$O(@ONC8MSG@(ONCESIEN,"E",ONCEDIEN))
"RTN","ONCSED03",80,0)
 . . . ;--- Edit name
"RTN","ONCSED03",81,0)
 . . . I REPRINT  S REPRINT=0
"RTN","ONCSED03",82,0)
 . . . E  S RC=$$PAGE(2)  Q:RC  W !!
"RTN","ONCSED03",83,0)
 . . . W ?2,ONCEDIEN_". "_@ONC8MSG@(ONCESIEN,"E",ONCEDIEN,1)
"RTN","ONCSED03",84,0)
 . . . S NODE=$NA(@ONC8MSG@(ONCESIEN,"E",ONCEDIEN))
"RTN","ONCSED03",85,0)
 . . . ;--- Messages generated by the edit
"RTN","ONCSED03",86,0)
 . . . S IEN=0
"RTN","ONCSED03",87,0)
 . . . F  S IEN=$O(@NODE@("M",IEN))  Q:IEN'>0  D  Q:RC
"RTN","ONCSED03",88,0)
 . . . . S RC=$$PRTMSG($P(@NODE@("M",IEN,0),U,2),@NODE@("M",IEN,1),5)
"RTN","ONCSED03",89,0)
 . . . Q:RC
"RTN","ONCSED03",90,0)
 . . . ;--- Fields validated by the edit
"RTN","ONCSED03",91,0)
 . . . S IEN=0
"RTN","ONCSED03",92,0)
 . . . F  S IEN=$O(@NODE@("F",IEN))  Q:IEN'>0  D  Q:RC
"RTN","ONCSED03",93,0)
 . . . . S TMP=$E(@NODE@("F",IEN,1),1,25)               ; Name
"RTN","ONCSED03",94,0)
 . . . . S TMP=TMP_" ("_(+$P(@NODE@("F",IEN,0),U))_")"  ; Position
"RTN","ONCSED03",95,0)
 . . . . S RC=$$PRTFLD(TMP,$G(@NODE@("F",IEN,2)),9,35)
"RTN","ONCSED03",96,0)
 . ;--- Force the "end of page" prompt after the last
"RTN","ONCSED03",97,0)
 . ;--- portion of the data
"RTN","ONCSED03",98,0)
 . I 'RC,$E(IOST,1,2)="C-",ONCESIEN'>0,$P(ONCPAGE,U,3)  D
"RTN","ONCSED03",99,0)
 . . S RC=$$PAGE(,1)
"RTN","ONCSED03",100,0)
 . Q:+RC'=3
"RTN","ONCSED03",101,0)
 . ;--- Display the additional edit info
"RTN","ONCSED03",102,0)
 . D EDINFO(+$P(RC,U,2))
"RTN","ONCSED03",103,0)
 . ;--- Initiate the current page re-print
"RTN","ONCSED03",104,0)
 . W @IOF  S ($Y,RC)=0,REPRINT=1
"RTN","ONCSED03",105,0)
 . S ONCESIEN=$P(ONCPAGE,U),ONCEDIEN=$P(ONCPAGE,U,2)
"RTN","ONCSED03",106,0)
 ;
"RTN","ONCSED03",107,0)
 ;=== Cleanup
"RTN","ONCSED03",108,0)
 K ^UTILITY($J,"W")
"RTN","ONCSED03",109,0)
 Q RC
"RTN","ONCSED03",110,0)
 ;
"RTN","ONCSED03",111,0)
 ;***** CHECKS IS NEW PAGE OF MESSAGES SHOULD BE STARTED
"RTN","ONCSED03",112,0)
 ;
"RTN","ONCSED03",113,0)
 ; [RESERVE]     Number of additional reserved lines (0, by default).
"RTN","ONCSED03",114,0)
 ;               If the current page does not have so many lines
"RTN","ONCSED03",115,0)
 ;               available, a new page will be started.
"RTN","ONCSED03",116,0)
 ;
"RTN","ONCSED03",117,0)
 ; [FORCE]       Force the "end of page" prompt.
"RTN","ONCSED03",118,0)
 ;
"RTN","ONCSED03",119,0)
 ; Return values:
"RTN","ONCSED03",120,0)
 ;
"RTN","ONCSED03",121,0)
 ;        0  Ok
"RTN","ONCSED03",122,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",123,0)
 ;        2  Timeout
"RTN","ONCSED03",124,0)
 ;        3  Display the edit info
"RTN","ONCSED03",125,0)
 ;
"RTN","ONCSED03",126,0)
PAGE(RESERVE,FORCE) ;
"RTN","ONCSED03",127,0)
 N RC,TRM
"RTN","ONCSED03",128,0)
 S RC=0,TRM=($E(IOST,1,2)="C-"),$P(ONCPAGE,U,3)=1
"RTN","ONCSED03",129,0)
 I ($Y'<(ONCMNL-$S(TRM:3,1:1)-$G(RESERVE)))!$G(FORCE)  D
"RTN","ONCSED03",130,0)
 . I 'TRM  W @IOF  S $Y=0  Q
"RTN","ONCSED03",131,0)
 . N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCSED03",132,0)
 . S DIR(0)="FAO^^K:X'?.N X"
"RTN","ONCSED03",133,0)
 . S DIR("A")="RETURN to continue, '^' to exit, or Edit# for help:"
"RTN","ONCSED03",134,0)
 . S DIR("?",1)="Press RETURN key to continue the output, enter '^'"
"RTN","ONCSED03",135,0)
 . S DIR("?",2)="to stop it, or enter the number printed to the left"
"RTN","ONCSED03",136,0)
 . S DIR("?",3)="of the edit name to get additional information about"
"RTN","ONCSED03",137,0)
 . S DIR("?")="this edit."
"RTN","ONCSED03",138,0)
 . W !  D ^DIR
"RTN","ONCSED03",139,0)
 . S RC=$S($D(DUOUT):1,$D(DTOUT):2,1:0)  Q:RC
"RTN","ONCSED03",140,0)
 . I X>0  S RC=3_U_(+X)  Q
"RTN","ONCSED03",141,0)
 . S $Y=0  W !
"RTN","ONCSED03",142,0)
 . ;--- Mark the beginning of the new page
"RTN","ONCSED03",143,0)
 . S ONCPAGE=ONCESIEN_U_ONCEDIEN
"RTN","ONCSED03",144,0)
 Q RC
"RTN","ONCSED03",145,0)
 ;
"RTN","ONCSED03",146,0)
 ;***** CHECKS IS NEW PAGE OF THE EDIT INFO SHOULD BE STARTED
"RTN","ONCSED03",147,0)
 ;
"RTN","ONCSED03",148,0)
 ; [RESERVE]     Number of additional reserved lines (0, by default).
"RTN","ONCSED03",149,0)
 ;               If the current page does not have so many lines
"RTN","ONCSED03",150,0)
 ;               available, a new page will be started.
"RTN","ONCSED03",151,0)
 ;
"RTN","ONCSED03",152,0)
 ; [FORCE]       Force the prompt
"RTN","ONCSED03",153,0)
 ;
"RTN","ONCSED03",154,0)
 ; Return values:
"RTN","ONCSED03",155,0)
 ;
"RTN","ONCSED03",156,0)
 ;        0  Ok
"RTN","ONCSED03",157,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",158,0)
 ;        2  Timeout
"RTN","ONCSED03",159,0)
 ;
"RTN","ONCSED03",160,0)
PAGE1(RESERVE,FORCE) ;
"RTN","ONCSED03",161,0)
 N RC,TRM
"RTN","ONCSED03",162,0)
 S RC=0,TRM=($E(IOST,1,2)="C-")
"RTN","ONCSED03",163,0)
 I ($Y'<(ONCMNL-$S(TRM:3,1:1)-$G(RESERVE)))!$G(FORCE)  D
"RTN","ONCSED03",164,0)
 . I 'TRM  W @IOF  S $Y=0  Q
"RTN","ONCSED03",165,0)
 . N DA,DIR,DIROUT,DIRUT,DTOUT,DUOUT,I,X,Y
"RTN","ONCSED03",166,0)
 . S DIR(0)="EA"
"RTN","ONCSED03",167,0)
 . S DIR("A")="Enter RETURN to continue or '^' to return to messages:"
"RTN","ONCSED03",168,0)
 . W !  D ^DIR
"RTN","ONCSED03",169,0)
 . S RC=$S($D(DUOUT):1,$D(DTOUT):2,1:0)
"RTN","ONCSED03",170,0)
 . I 'RC  S $Y=0  W !
"RTN","ONCSED03",171,0)
 Q RC
"RTN","ONCSED03",172,0)
 ;
"RTN","ONCSED03",173,0)
 ;***** PRINTS THE FIELD (INTERNAL)
"RTN","ONCSED03",174,0)
 ;
"RTN","ONCSED03",175,0)
 ; NAME          Field name
"RTN","ONCSED03",176,0)
 ; X             Field value
"RTN","ONCSED03",177,0)
 ; DIWL          Left margin for the output
"RTN","ONCSED03",178,0)
 ; MNL           Maximum length of the field name
"RTN","ONCSED03",179,0)
 ;
"RTN","ONCSED03",180,0)
 ; Return values:
"RTN","ONCSED03",181,0)
 ;
"RTN","ONCSED03",182,0)
 ;        0  Ok
"RTN","ONCSED03",183,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",184,0)
 ;        2  Timeout
"RTN","ONCSED03",185,0)
 ;
"RTN","ONCSED03",186,0)
PRTFLD(NAME,X,DIWL,MNL) ;
"RTN","ONCSED03",187,0)
 N DIWF,DIWR,I,L,RC,TMP
"RTN","ONCSED03",188,0)
 S DIWF="|",L=MNL+3,DIWR=$G(IOM,80)-L-1
"RTN","ONCSED03",189,0)
 K ^UTILITY($J,"W")
"RTN","ONCSED03",190,0)
 D ^DIWP
"RTN","ONCSED03",191,0)
 ;--- Write the name and the first piece of the value
"RTN","ONCSED03",192,0)
 S TMP=DIWL-1,L=L+TMP
"RTN","ONCSED03",193,0)
 W !?TMP,$$LJ^XLFSTR(NAME,MNL)_" = "_$G(^UTILITY($J,"W",DIWL,1,0))
"RTN","ONCSED03",194,0)
 S RC=$$PAGE()  Q:RC RC
"RTN","ONCSED03",195,0)
 ;--- Write remaining pieces of the value (if any)
"RTN","ONCSED03",196,0)
 S I=1
"RTN","ONCSED03",197,0)
 F  S I=$O(^UTILITY($J,"W",DIWL,I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",198,0)
 . W !?L,$G(^UTILITY($J,"W",DIWL,I,0))
"RTN","ONCSED03",199,0)
 . S RC=$$PAGE()
"RTN","ONCSED03",200,0)
 Q RC
"RTN","ONCSED03",201,0)
 ;
"RTN","ONCSED03",202,0)
 ;***** PRINTS THE MESSAGE (INTERNAL)
"RTN","ONCSED03",203,0)
 ;
"RTN","ONCSED03",204,0)
 ; TYPE          Message type
"RTN","ONCSED03",205,0)
 ; X             Message text
"RTN","ONCSED03",206,0)
 ; DIWL          Left margin for the output
"RTN","ONCSED03",207,0)
 ;
"RTN","ONCSED03",208,0)
 ; Return values:
"RTN","ONCSED03",209,0)
 ;
"RTN","ONCSED03",210,0)
 ;        0  Ok
"RTN","ONCSED03",211,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",212,0)
 ;        2  Timeout
"RTN","ONCSED03",213,0)
 ;
"RTN","ONCSED03",214,0)
PRTMSG(TYPE,X,DIWL) ;
"RTN","ONCSED03",215,0)
 N DIWF,DIWR,I,L,RC,TMP
"RTN","ONCSED03",216,0)
 S DIWF="|",L=$L(TYPE)+1,DIWR=$G(IOM,80)-L-1
"RTN","ONCSED03",217,0)
 K ^UTILITY($J,"W")
"RTN","ONCSED03",218,0)
 D ^DIWP
"RTN","ONCSED03",219,0)
 ;--- Write the type and first piece of the name
"RTN","ONCSED03",220,0)
 S TMP=DIWL-1,L=L+TMP
"RTN","ONCSED03",221,0)
 W !?TMP,TYPE_":"_$G(^UTILITY($J,"W",DIWL,1,0))
"RTN","ONCSED03",222,0)
 S RC=$$PAGE()  Q:RC RC
"RTN","ONCSED03",223,0)
 ;--- Write remaing pieces of the name (if any)
"RTN","ONCSED03",224,0)
 S I=1
"RTN","ONCSED03",225,0)
 F  S I=$O(^UTILITY($J,"W",DIWL,I))  Q:I'>0  D  Q:RC
"RTN","ONCSED03",226,0)
 . W !?L,$G(^UTILITY($J,"W",DIWL,I,0))
"RTN","ONCSED03",227,0)
 . S RC=$$PAGE()
"RTN","ONCSED03",228,0)
 Q RC
"RTN","ONCSED03",229,0)
 ;
"RTN","ONCSED03",230,0)
 ;***** PRINTS THE TOTALS
"RTN","ONCSED03",231,0)
 ;
"RTN","ONCSED03",232,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSED03",233,0)
 ;
"RTN","ONCSED03",234,0)
 ; ONC8MSG       Closed root of the list of parsed error messages
"RTN","ONCSED03",235,0)
 ;               (generated by the RBQEXEC^ONCSED0101)
"RTN","ONCSED03",236,0)
 ;
"RTN","ONCSED03",237,0)
 ; [FLAGS]       Flags that control the output
"RTN","ONCSED03",238,0)
 ;
"RTN","ONCSED03",239,0)
 ; Return values:
"RTN","ONCSED03",240,0)
 ;
"RTN","ONCSED03",241,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSED03",242,0)
 ;        0  Ok
"RTN","ONCSED03",243,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSED03",244,0)
 ;        2  Timeout
"RTN","ONCSED03",245,0)
 ;
"RTN","ONCSED03",246,0)
TOTALS(ONCSAPI,ONC8MSG,FLAGS) ;
"RTN","ONCSED03",247,0)
 N EDIEN,ESIEN,IEN,ONCMNL,RC,TMP
"RTN","ONCSED03",248,0)
 S RC=0,ONCMNL=$S($G(IOSL)>10:+IOSL,1:20)
"RTN","ONCSED03",249,0)
 ;--- Header
"RTN","ONCSED03",250,0)
 S RC=$$PAGE(3)  Q:RC RC
"RTN","ONCSED03",251,0)
 W !!,$$LJ^XLFSTR("Edit Set","50T")_"  Errors  Warnings"
"RTN","ONCSED03",252,0)
 W !,$$REPEAT^XLFSTR("-",50)_"  ------  --------"
"RTN","ONCSED03",253,0)
 ;--- Edit set totals
"RTN","ONCSED03",254,0)
 S ESIEN=0
"RTN","ONCSED03",255,0)
 F  S ESIEN=$O(@ONC8MSG@(ESIEN))  Q:ESIEN'>0  D  Q:RC
"RTN","ONCSED03",256,0)
 . W !,$$LJ^XLFSTR(@ONC8MSG@(ESIEN,1),"50T")
"RTN","ONCSED03",257,0)
 . S TMP=$G(@ONC8MSG@(ESIEN,0))
"RTN","ONCSED03",258,0)
 . W "  "_$J($P(TMP,U,1),6)_"  "_$J($P(TMP,U,2),8)
"RTN","ONCSED03",259,0)
 . S RC=$$PAGE()  Q:RC
"RTN","ONCSED03",260,0)
 Q RC
"RTN","ONCSED04")
0^325^B25577841
"RTN","ONCSED04",1,0)
ONCSED04 ;Hines OIFO/SG - EDITS API (EDIT INFO)  ; 9/22/06 11:58am
"RTN","ONCSED04",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSED04",3,0)
 ;
"RTN","ONCSED04",4,0)
 ;--- SOAP REQUST TO THE ONCOLOGY WEB SERVICE
"RTN","ONCSED04",5,0)
 ;
"RTN","ONCSED04",6,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED04",7,0)
 ; <soap:Envelope
"RTN","ONCSED04",8,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED04",9,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED04",10,0)
 ;   <soap:Body>
"RTN","ONCSED04",11,0)
 ;     <ED-GET-EDITINFO ver="2.0"
"RTN","ONCSED04",12,0)
 ;       xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSED04",13,0)
 ;       <EDIT-SET> ... </EDIT-SET>
"RTN","ONCSED04",14,0)
 ;       <EDIT> ... </EDIT>
"RTN","ONCSED04",15,0)
 ;       <TEXT-WIDTH> ... </TEXT-WIDTH>
"RTN","ONCSED04",16,0)
 ;     </ED-GET-EDITINFO>
"RTN","ONCSED04",17,0)
 ;   </soap:Body >
"RTN","ONCSED04",18,0)
 ; </soap:Envelope>
"RTN","ONCSED04",19,0)
 ;
"RTN","ONCSED04",20,0)
 ;--- SOAP RESPONSE FROM THE ONCOLOGY WEB SERVICE
"RTN","ONCSED04",21,0)
 ;
"RTN","ONCSED04",22,0)
 ; <?xml version="1.0" encoding="utf-8"?>
"RTN","ONCSED04",23,0)
 ; <soap:Envelope
"RTN","ONCSED04",24,0)
 ;   xmlns:soap="http://www.w3.org/2001/12/soap-envelope"
"RTN","ONCSED04",25,0)
 ;   soap:encodingStyle="http://www.w3.org/2001/12/soap-encoding">
"RTN","ONCSED04",26,0)
 ;   <soap:Body>
"RTN","ONCSED04",27,0)
 ;     <ED-RESPONSE xmlns="http://vista.domain.ext/oncology">
"RTN","ONCSED04",28,0)
 ;       <NAME> ... </NAME>
"RTN","ONCSED04",29,0)
 ;       <DESCRIPTION>
"RTN","ONCSED04",30,0)
 ;         ...
"RTN","ONCSED04",31,0)
 ;       </DESCRIPTION>
"RTN","ONCSED04",32,0)
 ;       <HELP>
"RTN","ONCSED04",33,0)
 ;         ...
"RTN","ONCSED04",34,0)
 ;       </HELP>
"RTN","ONCSED04",35,0)
 ;     </ED-RESPONSE>
"RTN","ONCSED04",36,0)
 ;     <soap:Fault>
"RTN","ONCSED04",37,0)
 ;       <faultcode> ... </faultcode>
"RTN","ONCSED04",38,0)
 ;       <faultstring> ... </faultstring>
"RTN","ONCSED04",39,0)
 ;       <detail>
"RTN","ONCSED04",40,0)
 ;         <RC> ... </RC>
"RTN","ONCSED04",41,0)
 ;       </detail>
"RTN","ONCSED04",42,0)
 ;     </soap:Fault>
"RTN","ONCSED04",43,0)
 ;   </soap:Body >
"RTN","ONCSED04",44,0)
 ; </soap:Envelope>
"RTN","ONCSED04",45,0)
 ;
"RTN","ONCSED04",46,0)
 Q
"RTN","ONCSED04",47,0)
 ;
"RTN","ONCSED04",48,0)
 ;***** END ELEMENT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED04",49,0)
 ;
"RTN","ONCSED04",50,0)
 ; ELMT          Name of the element
"RTN","ONCSED04",51,0)
 ;
"RTN","ONCSED04",52,0)
ENDEL(ELMT) ;
"RTN","ONCSED04",53,0)
 N I,L,L2E,TMP
"RTN","ONCSED04",54,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED04",55,0)
 D ENDEL^ONCSAPIX(ELMT)
"RTN","ONCSED04",56,0)
 ;--- Description line
"RTN","ONCSED04",57,0)
 I L2E="DESCRIPTION,P"  D  Q
"RTN","ONCSED04",58,0)
 . S I=$O(@ONCXML@(ONCEDIEN,"D"," "),-1)+1
"RTN","ONCSED04",59,0)
 . S @ONCXML@(ONCEDIEN,"D",I)=$$TRIM^XLFSTR($G(ONCXML("TEXT")),"R")
"RTN","ONCSED04",60,0)
 ;--- Help line
"RTN","ONCSED04",61,0)
 I L2E="HELP,P"  D  Q
"RTN","ONCSED04",62,0)
 . S I=$O(@ONCXML@(ONCEDIEN,"H"," "),-1)+1
"RTN","ONCSED04",63,0)
 . S @ONCXML@(ONCEDIEN,"H",I)=$$TRIM^XLFSTR($G(ONCXML("TEXT")),"R")
"RTN","ONCSED04",64,0)
 Q
"RTN","ONCSED04",65,0)
 ;
"RTN","ONCSED04",66,0)
 ;***** GETS EDIT INFO FROM THE SERVER IF NECESSARY
"RTN","ONCSED04",67,0)
 ;
"RTN","ONCSED04",68,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSED)
"RTN","ONCSED04",69,0)
 ;
"RTN","ONCSED04",70,0)
 ; ESNAME        Edit set name
"RTN","ONCSED04",71,0)
 ;
"RTN","ONCSED04",72,0)
 ; EDTNDX        Edit index
"RTN","ONCSED04",73,0)
 ;
"RTN","ONCSED04",74,0)
 ; Return Values:
"RTN","ONCSED04",75,0)
 ;       <0  Error descriptor
"RTN","ONCSED04",76,0)
 ;       >0  IEN of the edit info
"RTN","ONCSED04",77,0)
 ;
"RTN","ONCSED04",78,0)
GETINFO(ONCSAPI,ESNAME,EDTNDX) ;
"RTN","ONCSED04",79,0)
 N ONCEDESC      ; Edit descriptor
"RTN","ONCSED04",80,0)
 N ONCEDIEN      ; IEN of the description
"RTN","ONCSED04",81,0)
 ;
"RTN","ONCSED04",82,0)
 N DST,ESNSUB,ONCREQ,ONCRSP,ONCXML,SVX,SVY,URL
"RTN","ONCSED04",83,0)
 S ESNSUB=$E(ESNAME,1,250)
"RTN","ONCSED04",84,0)
 ;--- Initialize constants and variables
"RTN","ONCSED04",85,0)
 S ONCXML=$NA(^XTMP("ONCSAPI","EDITS"))
"RTN","ONCSED04",86,0)
 ;
"RTN","ONCSED04",87,0)
 ;--- Check if the edit info is available
"RTN","ONCSED04",88,0)
 S ONCEDIEN=+$G(@ONCXML@("ES",ESNSUB,EDTNDX))
"RTN","ONCSED04",89,0)
 I ONCEDIEN>0  Q:$D(@ONCXML@(ONCEDIEN))>1 ONCEDIEN
"RTN","ONCSED04",90,0)
 S ONCRSP=$NA(^TMP("ONCSED04",$J))  K @ONCRSP
"RTN","ONCSED04",91,0)
 ;
"RTN","ONCSED04",92,0)
 ;---  Get the server URL
"RTN","ONCSED04",93,0)
 S URL=$$GETCSURL^ONCSAPIU()
"RTN","ONCSED04",94,0)
 ;
"RTN","ONCSED04",95,0)
 D LOCK^DILF($NA(@ONCXML@("ES",ESNSUB,EDTNDX)))
"RTN","ONCSED04",96,0)
 E  Q $$ERROR^ONCSAPIE(-15,,"local cache")
"RTN","ONCSED04",97,0)
 S SVX=$X,SVY=$Y
"RTN","ONCSED04",98,0)
 S RC=0  D
"RTN","ONCSED04",99,0)
 . ;--- Check if the info has become available
"RTN","ONCSED04",100,0)
 . S ONCEDIEN=+$G(@ONCXML@("ES",ESNSUB,EDTNDX))
"RTN","ONCSED04",101,0)
 . I ONCEDIEN>0  Q:$D(@ONCXML@(ONCEDIEN))>1
"RTN","ONCSED04",102,0)
 . ;
"RTN","ONCSED04",103,0)
 . ;--- Prepare the request data
"RTN","ONCSED04",104,0)
 . S DST="ONCREQ"
"RTN","ONCSED04",105,0)
 . D HEADER^ONCSAPIR(.DST,"ED-GET-EDITINFO")
"RTN","ONCSED04",106,0)
 . D PUT^ONCSAPIR(.DST,"EDIT-SET",ESNAME)
"RTN","ONCSED04",107,0)
 . D PUT^ONCSAPIR(.DST,"EDIT",EDTNDX)
"RTN","ONCSED04",108,0)
 . D PUT^ONCSAPIR(.DST,"TEXT-WIDTH",75)
"RTN","ONCSED04",109,0)
 . D TRAILER^ONCSAPIR(.DST)
"RTN","ONCSED04",110,0)
 . K DST
"RTN","ONCSED04",111,0)
 . ;
"RTN","ONCSED04",112,0)
 . ;--- Send the request and get the response
"RTN","ONCSED04",113,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED04",114,0)
 . . D ZW^ONCSAPIU("ONCREQ","*** 'ED-GET-EDITDESC' REQUEST ***")
"RTN","ONCSED04",115,0)
 . S RC=$$REQUEST^ONCSAPIR(URL,ONCRSP,"ONCREQ")  Q:RC<0
"RTN","ONCSED04",116,0)
 . D:$G(ONCSAPI("DEBUG"))
"RTN","ONCSED04",117,0)
 . . D ZW^ONCSAPIU(ONCRSP,"*** 'ED-GET-EDITDESC' RESPONSE ***")
"RTN","ONCSED04",118,0)
 . ;
"RTN","ONCSED04",119,0)
 . ;--- Parse the response
"RTN","ONCSED04",120,0)
 . S ONCEDIEN=+$O(@ONCXML@(" "),-1)+1,ONCEDESC=EDTNDX
"RTN","ONCSED04",121,0)
 . D SETCBK(.CBK),EN^MXMLPRSE(ONCRSP,.CBK,"W")
"RTN","ONCSED04",122,0)
 . ;--- Check for parsing and web service errors
"RTN","ONCSED04",123,0)
 . S RC=$$CHKERR^ONCSAPIR(.ONCXML)  Q:RC<0
"RTN","ONCSED04",124,0)
 . ;
"RTN","ONCSED04",125,0)
 . ;--- Complete the edit info
"RTN","ONCSED04",126,0)
 . S @ONCXML@(ONCEDIEN,0)=ONCEDESC
"RTN","ONCSED04",127,0)
 . S @ONCXML@("ES",ESNSUB,EDTNDX)=ONCEDIEN
"RTN","ONCSED04",128,0)
 S $X=SVX,$Y=SVY
"RTN","ONCSED04",129,0)
 L -@ONCXML@("ES",ESNSUB,EDTNDX)
"RTN","ONCSED04",130,0)
 ;
"RTN","ONCSED04",131,0)
 ;--- Cleanup
"RTN","ONCSED04",132,0)
 K @ONCRSP
"RTN","ONCSED04",133,0)
 Q $S(RC<0:RC,1:ONCEDIEN)
"RTN","ONCSED04",134,0)
 ;
"RTN","ONCSED04",135,0)
 ;***** RETURNS THE EDIT DESCRIPTION NODE (LOADS DATA IF NECESSARY)
"RTN","ONCSED04",136,0)
 ;
"RTN","ONCSED04",137,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSED)
"RTN","ONCSED04",138,0)
 ;
"RTN","ONCSED04",139,0)
 ; ESNAME        Edit set name
"RTN","ONCSED04",140,0)
 ;
"RTN","ONCSED04",141,0)
 ; EDTNDX        Edit index
"RTN","ONCSED04",142,0)
 ;
"RTN","ONCSED04",143,0)
 ; The ^TMP("ONCSED04",$J) global node is used by this function.
"RTN","ONCSED04",144,0)
 ;
"RTN","ONCSED04",145,0)
 ; Return Values:
"RTN","ONCSED04",146,0)
 ;       <0  Error descriptor
"RTN","ONCSED04",147,0)
 ;           Closed root of the edit description node
"RTN","ONCSED04",148,0)
 ;
"RTN","ONCSED04",149,0)
GETEDESC(ONCSAPI,ESNAME,EDTNDX) ;
"RTN","ONCSED04",150,0)
 N NODE,RC
"RTN","ONCSED04",151,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSED04",152,0)
 Q:$G(EDTNDX,-1)<0 $$ERROR^ONCSAPIE(-6,,"EDTNDX",$G(EDTNDX))
"RTN","ONCSED04",153,0)
 S RC=$$GETINFO(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED04",154,0)
 Q $S(RC<0:RC,1:$NA(^XTMP("ONCSAPI","EDITS",RC,"D")))
"RTN","ONCSED04",155,0)
 ;
"RTN","ONCSED04",156,0)
 ;***** RETURNS THE EDIT HELP NODE (LOADS DATA IF NECESSARY)
"RTN","ONCSED04",157,0)
 ;
"RTN","ONCSED04",158,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see the ^ONCSED)
"RTN","ONCSED04",159,0)
 ;
"RTN","ONCSED04",160,0)
 ; ESNAME        Edit set name
"RTN","ONCSED04",161,0)
 ;
"RTN","ONCSED04",162,0)
 ; EDTNDX        Edit index
"RTN","ONCSED04",163,0)
 ;
"RTN","ONCSED04",164,0)
 ; The ^TMP("ONCSED04",$J) global node is used by this function.
"RTN","ONCSED04",165,0)
 ;
"RTN","ONCSED04",166,0)
 ; Return Values:
"RTN","ONCSED04",167,0)
 ;       <0  Error descriptor
"RTN","ONCSED04",168,0)
 ;           Closed root of the edit help node
"RTN","ONCSED04",169,0)
 ;
"RTN","ONCSED04",170,0)
GETEDHLP(ONCSAPI,ESNAME,EDTNDX) ;
"RTN","ONCSED04",171,0)
 N NODE,RC
"RTN","ONCSED04",172,0)
 D CLEAR^ONCSAPIE()
"RTN","ONCSED04",173,0)
 Q:$G(EDTNDX,-1)<0 $$ERROR^ONCSAPIE(-6,,"EDTNDX",$G(EDTNDX))
"RTN","ONCSED04",174,0)
 S RC=$$GETINFO(.ONCSAPI,ESNAME,EDTNDX)
"RTN","ONCSED04",175,0)
 Q $S(RC<0:RC,1:$NA(^XTMP("ONCSAPI","EDITS",RC,"H")))
"RTN","ONCSED04",176,0)
 ;
"RTN","ONCSED04",177,0)
 ;***** SETS THE EVENT INTERFACE ENTRY POINTS
"RTN","ONCSED04",178,0)
 ;
"RTN","ONCSED04",179,0)
 ; .CBK          Reference to the destination list
"RTN","ONCSED04",180,0)
 ;
"RTN","ONCSED04",181,0)
SETCBK(CBK) ;
"RTN","ONCSED04",182,0)
 ;;CHARACTERS^ TEXT^ONCSED04
"RTN","ONCSED04",183,0)
 ;;ENDELEMENT^ENDEL^ONCSED04
"RTN","ONCSED04",184,0)
 ;
"RTN","ONCSED04",185,0)
 D SETCBK^ONCSAPIX(.CBK,"SETCBK^ONCSED04")
"RTN","ONCSED04",186,0)
 Q
"RTN","ONCSED04",187,0)
 ;
"RTN","ONCSED04",188,0)
 ;***** TEXT CALLBACK FOR THE SAX PARSER
"RTN","ONCSED04",189,0)
 ;
"RTN","ONCSED04",190,0)
 ; TXT           Line of unmarked text
"RTN","ONCSED04",191,0)
 ;
"RTN","ONCSED04",192,0)
TEXT(TXT) ;
"RTN","ONCSED04",193,0)
 N I,L,L2E,TMP
"RTN","ONCSED04",194,0)
 S L=$L(ONCXML("PATH"),","),L2E=$P(ONCXML("PATH"),",",L-1,L)
"RTN","ONCSED04",195,0)
 ;--- Text of the edit description or help
"RTN","ONCSED04",196,0)
 I (L2E="DESCRIPTION,P")!(L2E="HELP,P")  D  Q
"RTN","ONCSED04",197,0)
 . S ONCXML("TEXT")=$G(ONCXML("TEXT"))_TXT
"RTN","ONCSED04",198,0)
 ;--- Edit name
"RTN","ONCSED04",199,0)
 I L2E="ED-RESPONSE,NAME"  S $P(ONCEDESC,U,2)=$P(ONCEDESC,U,2)_TXT  Q
"RTN","ONCSED04",200,0)
 ;--- Default processing
"RTN","ONCSED04",201,0)
 D TEXT^ONCSAPIX(TXT)
"RTN","ONCSED04",202,0)
 Q
"RTN","ONCSEDEM")
0^326^B3657858
"RTN","ONCSEDEM",1,0)
ONCSEDEM ;Hines OIFO/SG - EDITS API (DEMO)  ; 11/6/06 11:56am
"RTN","ONCSEDEM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSEDEM",3,0)
 ;
"RTN","ONCSEDEM",4,0)
 Q
"RTN","ONCSEDEM",5,0)
 ;
"RTN","ONCSEDEM",6,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCSEDEM",7,0)
 ;
"RTN","ONCSEDEM",8,0)
 ; [.ONCSAPI]    Reference to the API descriptor (see ^ONCSAPI)
"RTN","ONCSEDEM",9,0)
 ;
"RTN","ONCSEDEM",10,0)
DEMO(ONCSAPI) ;
"RTN","ONCSEDEM",11,0)
 N CFGNAME,MSGLST,RC,REQUEST
"RTN","ONCSEDEM",12,0)
 W !!?10,"DEMO CLIENT FOR THE EDITS API",!
"RTN","ONCSEDEM",13,0)
 D CLEAR^ONCSAPIE(1)
"RTN","ONCSEDEM",14,0)
 S REQUEST=$NA(^TMP("ONCSEDEM",$J,1))
"RTN","ONCSEDEM",15,0)
 S MSGLST=$NA(^TMP("ONCSEDEM",$J,2))
"RTN","ONCSEDEM",16,0)
 ;
"RTN","ONCSEDEM",17,0)
 ;--- Check the DLL version
"RTN","ONCSEDEM",18,0)
 S RC=$$CHKVER^ONCSAPIV(.ONCSAPI)
"RTN","ONCSEDEM",19,0)
 D:RC<0 PRTERRS^ONCSAPIE(),CLEAR^ONCSAPIE()
"RTN","ONCSEDEM",20,0)
 ;
"RTN","ONCSEDEM",21,0)
 D
"RTN","ONCSEDEM",22,0)
 . ;--- Ask user for configuration name
"RTN","ONCSEDEM",23,0)
 . S RC=$$GETCFG(.CFGNAME)  Q:RC
"RTN","ONCSEDEM",24,0)
 . ;--- Prepare and execute the EDITS request
"RTN","ONCSEDEM",25,0)
 . W !,"Validating the data..."
"RTN","ONCSEDEM",26,0)
 . S RC=$$RBQPREP^ONCSED01(.ONCSAPI,.REQUEST,CFGNAME)  Q:RC<0
"RTN","ONCSEDEM",27,0)
 . D NAACCR(.REQUEST)
"RTN","ONCSEDEM",28,0)
 . S RC=$$RBQEXEC^ONCSED01(.ONCSAPI,.REQUEST,MSGLST)   Q:RC<0
"RTN","ONCSEDEM",29,0)
 . I RC>0  D  Q:RC<0
"RTN","ONCSEDEM",30,0)
 . . N %ZIS,IOP,POP
"RTN","ONCSEDEM",31,0)
 . . S %ZIS("B")="BROWSER"
"RTN","ONCSEDEM",32,0)
 . . D ^%ZIS  Q:$G(POP)  U IO
"RTN","ONCSEDEM",33,0)
 . . S RC=$$REPORT^ONCSED01(.ONCSAPI,MSGLST,"MT")
"RTN","ONCSEDEM",34,0)
 . . D ^%ZISC
"RTN","ONCSEDEM",35,0)
 ;
"RTN","ONCSEDEM",36,0)
 ;--- Error processing and cleanup
"RTN","ONCSEDEM",37,0)
 D:RC<0 PRTERRS^ONCSAPIE()
"RTN","ONCSEDEM",38,0)
 K ^TMP("ONCSEDEM",$J)
"RTN","ONCSEDEM",39,0)
 Q
"RTN","ONCSEDEM",40,0)
 ;
"RTN","ONCSEDEM",41,0)
 ;***** ASKS USER FOR CONFIGURATION NAME
"RTN","ONCSEDEM",42,0)
 ;
"RTN","ONCSEDEM",43,0)
 ; .CFGNAME      Reference to a local variable where the name
"RTN","ONCSEDEM",44,0)
 ;               will be returned to.
"RTN","ONCSEDEM",45,0)
 ;
"RTN","ONCSEDEM",46,0)
 ; Return values:
"RTN","ONCSEDEM",47,0)
 ;
"RTN","ONCSEDEM",48,0)
 ;       <0  Error Descriptor (see ^ONCSAPI for details)
"RTN","ONCSEDEM",49,0)
 ;        0  Ok
"RTN","ONCSEDEM",50,0)
 ;        1  User canceled the output ('^' was entered)
"RTN","ONCSEDEM",51,0)
 ;        2  Timeout
"RTN","ONCSEDEM",52,0)
 ;
"RTN","ONCSEDEM",53,0)
GETCFG(CFGNAME) ;
"RTN","ONCSEDEM",54,0)
 N DA,DIR,DIRUT,DTOUT,DUOUT,RC,X,Y
"RTN","ONCSEDEM",55,0)
 S CFGNAME=""
"RTN","ONCSEDEM",56,0)
 S DIR(0)="FO",DIR("B")="DEFAULT"
"RTN","ONCSEDEM",57,0)
 S DIR("A")="Configuration name"
"RTN","ONCSEDEM",58,0)
 D ^DIR
"RTN","ONCSEDEM",59,0)
 S RC=$S($D(DUOUT):1,$D(DTOUT):2,1:0)  Q:RC RC
"RTN","ONCSEDEM",60,0)
 S CFGNAME=X
"RTN","ONCSEDEM",61,0)
 Q 0
"RTN","ONCSEDEM",62,0)
 ;
"RTN","ONCSEDEM",63,0)
 ;***** GENERATES A NAACCR RECORD WITH RANDOM DATA
"RTN","ONCSEDEM",64,0)
NAACCR(ONCDST) ;
"RTN","ONCSEDEM",65,0)
 N I,TMP
"RTN","ONCSEDEM",66,0)
 F I=1:1:10  D
"RTN","ONCSEDEM",67,0)
 . S TMP="",$P(TMP,$C(64+$R(58)),$R(513)+1)=""
"RTN","ONCSEDEM",68,0)
 . D WRITE^ONCSNACR(.ONCDST,TMP)
"RTN","ONCSEDEM",69,0)
 Q
"RTN","ONCSG0")
0^327^B49166434
"RTN","ONCSG0",1,0)
ONCSG0 ;Hines OIFO/GWB - Automatic Staging Tables ;06/23/10
"RTN","ONCSG0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG0",3,0)
 ;
"RTN","ONCSG0",4,0)
 ;HEAD AND NECK SITES
"RTN","ONCSG0",5,0)
 ;
"RTN","ONCSG0",6,0)
LIP12 ;Lip and Oral Cavity - 1st and 2nd editions
"RTN","ONCSG0",7,0)
 I M[1 S SG=4
"RTN","ONCSG0",8,0)
 E  I M[0 D
"RTN","ONCSG0",9,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0",10,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0",11,0)
 .E  I N[0,(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0",12,0)
 Q
"RTN","ONCSG0",13,0)
 ;
"RTN","ONCSG0",14,0)
LIP34 ;Lip and Oral Cavity - 3rd and 4th editions
"RTN","ONCSG0",15,0)
 I M[1 S SG=4
"RTN","ONCSG0",16,0)
 E  I M[0 D
"RTN","ONCSG0",17,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0",18,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0",19,0)
 .E  I N[0,(T["IS")!(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0",20,0)
 Q
"RTN","ONCSG0",21,0)
 ;
"RTN","ONCSG0",22,0)
LIP5 ;Lip and Oral Cavity - 5th edition
"RTN","ONCSG0",23,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0",24,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",25,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",26,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0",27,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0",28,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0",29,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0",30,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",31,0)
 .I TNM=400 S SG="4A" Q        ;IVA  T4    N0    M0
"RTN","ONCSG0",32,0)
 .I TNM=410 S SG="4A" Q        ;     T4    N1    M0
"RTN","ONCSG0",33,0)
 .I $E(N,1)=2,M=0 S SG="4A" Q  ;     Any T N2    M0
"RTN","ONCSG0",34,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;IVB  Any T N3    M0
"RTN","ONCSG0",35,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",36,0)
 ;
"RTN","ONCSG0",37,0)
LIP6 ;Lip and Oral Cavity - 6th edition
"RTN","ONCSG0",38,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0",39,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",40,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",41,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0",42,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0",43,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0",44,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0",45,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",46,0)
 .I TNM="4A00" S SG="4A" Q     ;IVA  T4a   N0    M0
"RTN","ONCSG0",47,0)
 .I TNM="4A10" S SG="4A" Q     ;     T4a   N1    M0
"RTN","ONCSG0",48,0)
 .I TNM=120 S SG="4A" Q        ;     T1    N2    M0
"RTN","ONCSG0",49,0)
 .I TNM=220 S SG="4A" Q        ;     T2    N2    M0
"RTN","ONCSG0",50,0)
 .I TNM=320 S SG="4A" Q        ;     T3    N2    M0
"RTN","ONCSG0",51,0)
 .I TNM="4A20" S SG="4A" Q     ;     T4a   N2    M0
"RTN","ONCSG0",52,0)
 .I T="4B",M=0 S SG="4B" Q     ;IVB  T4b   Any N M0
"RTN","ONCSG0",53,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;     Any T N3    M0
"RTN","ONCSG0",54,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",55,0)
 ;
"RTN","ONCSG0",56,0)
PHA12 ;Pharynx - 1st and 2nd editions
"RTN","ONCSG0",57,0)
 I M[1 S SG=4
"RTN","ONCSG0",58,0)
 E  I M[0 D
"RTN","ONCSG0",59,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0",60,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0",61,0)
 .E  I N[0,(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0",62,0)
 Q
"RTN","ONCSG0",63,0)
 ;
"RTN","ONCSG0",64,0)
PHA34 ;Pharynx - 3rd and 4th editions
"RTN","ONCSG0",65,0)
 I M[1 S SG=4
"RTN","ONCSG0",66,0)
 E  I M[0 D
"RTN","ONCSG0",67,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0",68,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0",69,0)
 .E  I N[0,(T["IS")!(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0",70,0)
 Q
"RTN","ONCSG0",71,0)
 ;
"RTN","ONCSG0",72,0)
PHAN56 ;Pharynx - nasopharynx - 5th and 6th editions
"RTN","ONCSG0",73,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0",74,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",75,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",76,0)
 .I TNM="2A00" S SG="2A" Q     ;IIA  T2a   N0    M0
"RTN","ONCSG0",77,0)
 .I TNM=110 S SG="2B" Q        ;IIB  T1    N1    M0
"RTN","ONCSG0",78,0)
 .I TNM=210 S SG="2B" Q        ;     T2    N1    M0
"RTN","ONCSG0",79,0)
 .I TNM="2A10" S SG="2B" Q     ;     T2a   N1    M0
"RTN","ONCSG0",80,0)
 .I TNM="2B00" S SG="2B" Q     ;     T2b   N0    M0
"RTN","ONCSG0",81,0)
 .I TNM="2B10" S SG="2B" Q     ;     T2b   N1    M0
"RTN","ONCSG0",82,0)
 .I TNM=120 S SG=3 Q           ;III  T1    N2    M0
"RTN","ONCSG0",83,0)
 .I TNM="2A20" S SG=3 Q        ;     T2a   N2    M0
"RTN","ONCSG0",84,0)
 .I TNM="2B20" S SG=3 Q        ;     T2b   N2    M0
"RTN","ONCSG0",85,0)
 .I TNM=300 S SG=3 Q           ;     T3    N0    M0
"RTN","ONCSG0",86,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",87,0)
 .I TNM=320 S SG=3 Q           ;     T3    N2    M0
"RTN","ONCSG0",88,0)
 .I TNM=400 S SG="4A" Q        ;IVA  T4    N0    M0
"RTN","ONCSG0",89,0)
 .I TNM=410 S SG="4A" Q        ;     T4    N1    M0
"RTN","ONCSG0",90,0)
 .I TNM=420 S SG="4A" Q        ;     T4    N2    M0
"RTN","ONCSG0",91,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;IVB  Any T N3    M0
"RTN","ONCSG0",92,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",93,0)
 ;
"RTN","ONCSG0",94,0)
PHAOH5 ;Pharynx - oropharynx, hypopharynx - 5th edition
"RTN","ONCSG0",95,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0",96,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",97,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",98,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0",99,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0",100,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0",101,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0",102,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",103,0)
 .I TNM=400 S SG="4A" Q        ;IVA  T4    N0    M0
"RTN","ONCSG0",104,0)
 .I TNM=410 S SG="4A" Q        ;     T4    N1    M0
"RTN","ONCSG0",105,0)
 .I $E(N,1)=2,M=0 S SG="4A" Q  ;     Any T N2    M0
"RTN","ONCSG0",106,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;IVB  Any T N3    M0
"RTN","ONCSG0",107,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",108,0)
 ;
"RTN","ONCSG0",109,0)
PHAOH6 ;Pharynx - oropharynx, hypopharynx - 6th edition
"RTN","ONCSG0",110,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0",111,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",112,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",113,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0",114,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0",115,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0",116,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0",117,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",118,0)
 .I TNM="4A00" S SG="4A" Q     ;IVA  T4a   N0    M0
"RTN","ONCSG0",119,0)
 .I TNM="4A10" S SG="4A" Q     ;     T4a   N1    M0
"RTN","ONCSG0",120,0)
 .I TNM=120 S SG="4A" Q        ;     T1    N2    M0
"RTN","ONCSG0",121,0)
 .I TNM=220 S SG="4A" Q        ;     T2    N2    M0
"RTN","ONCSG0",122,0)
 .I TNM=320 S SG="4A" Q        ;     T3    N2    M0
"RTN","ONCSG0",123,0)
 .I TNM="4A20" S SG="4A" Q     ;     T4a   N2    M0
"RTN","ONCSG0",124,0)
 .I T="4B",M=0 S SG="4B" Q     ;IVB  T4b   Any N M0
"RTN","ONCSG0",125,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;     Any T N3    M0
"RTN","ONCSG0",126,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",127,0)
 ;
"RTN","ONCSG0",128,0)
PHAN7 ;Pharynx - nasopharynx - 7th edition
"RTN","ONCSG0",129,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0",130,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",131,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",132,0)
 .I TNM=110 S SG=2 Q           ;II   T1    N1    M0
"RTN","ONCSG0",133,0)
 .I TNM=200 S SG=2 Q           ;     T2    N0    M0
"RTN","ONCSG0",134,0)
 .I TNM=210 S SG=2 Q           ;     T2    N1    M0
"RTN","ONCSG0",135,0)
 .I TNM=120 S SG=3 Q           ;III  T1    N2    M0
"RTN","ONCSG0",136,0)
 .I TNM=220 S SG=3 Q           ;     T2    N2    M0
"RTN","ONCSG0",137,0)
 .I TNM=300 S SG=3 Q           ;     T3    N0    M0
"RTN","ONCSG0",138,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",139,0)
 .I TNM=320 S SG=3 Q           ;     T3    N2    M0
"RTN","ONCSG0",140,0)
 .I TNM=400 S SG="4A" Q        ;IVA  T4    N0    M0
"RTN","ONCSG0",141,0)
 .I TNM=410 S SG="4A" Q        ;     T4    N1    M0
"RTN","ONCSG0",142,0)
 .I TNM=420 S SG="4A" Q        ;     T4    N2    M0
"RTN","ONCSG0",143,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;IVB  Any T N3    M0
"RTN","ONCSG0",144,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",145,0)
 ;
"RTN","ONCSG0",146,0)
LAR12 ;Larynx - 1st and 2nd editions
"RTN","ONCSG0",147,0)
 I M[1 S SG=4
"RTN","ONCSG0",148,0)
 E  I M[0 D
"RTN","ONCSG0",149,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0",150,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0",151,0)
 .E  I N[0,(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0",152,0)
 Q
"RTN","ONCSG0",153,0)
 ;
"RTN","ONCSG0",154,0)
LAR34 ;Larynx - 3rd and 4th editions
"RTN","ONCSG0",155,0)
 I M[1 S SG=4
"RTN","ONCSG0",156,0)
 E  I M[0 D
"RTN","ONCSG0",157,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0",158,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0",159,0)
 .E  I N[0,(T["IS")!(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0",160,0)
 Q
"RTN","ONCSG0",161,0)
 ;
"RTN","ONCSG0",162,0)
LAR5 ;Larynx - 5th edition
"RTN","ONCSG0",163,0)
 I T="IS" S TNM=T_$E(N,1)_M
"RTN","ONCSG0",164,0)
 E  S TNM=$E(T,1)_$E(N,1)_M
"RTN","ONCSG0",165,0)
 D  K TNM Q
"RTN","ONCSG0",166,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",167,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",168,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0",169,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0",170,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0",171,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0",172,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",173,0)
 .I TNM=400 S SG="4A" Q        ;IVA  T4    N0    M0
"RTN","ONCSG0",174,0)
 .I TNM=410 S SG="4A" Q        ;     T4    N1    M0
"RTN","ONCSG0",175,0)
 .I $E(N,1)=2,M=0 S SG="4A" Q  ;     Any T N2    M0
"RTN","ONCSG0",176,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;IVB  Any T N3    M0
"RTN","ONCSG0",177,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",178,0)
 ;
"RTN","ONCSG0",179,0)
LAR6 ;Larynx - 6th edition
"RTN","ONCSG0",180,0)
 S TNM=T_$E(N,1)_M
"RTN","ONCSG0",181,0)
 D  K TNM Q
"RTN","ONCSG0",182,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0",183,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0",184,0)
 .I TNM="1A00" S SG=1 Q
"RTN","ONCSG0",185,0)
 .I TNM="1B00" S SG=1 Q
"RTN","ONCSG0",186,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0",187,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0",188,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0",189,0)
 .I TNM="1A10" S SG=3 Q
"RTN","ONCSG0",190,0)
 .I TNM="1B10" S SG=3 Q
"RTN","ONCSG0",191,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0",192,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0",193,0)
 .I TNM="4A00" S SG="4A" Q     ;IVA  T4a   N0    M0
"RTN","ONCSG0",194,0)
 .I TNM="4A10" S SG="4A" Q     ;     T4a   N1    M0
"RTN","ONCSG0",195,0)
 .I TNM=120 S SG="4A" Q        ;     T1    N2    M0
"RTN","ONCSG0",196,0)
 .I TNM="1A20" S SG="4A" Q
"RTN","ONCSG0",197,0)
 .I TNM="1B20" S SG="4A" Q
"RTN","ONCSG0",198,0)
 .I TNM=220 S SG="4A" Q        ;     T2    N2    M0
"RTN","ONCSG0",199,0)
 .I TNM=320 S SG="4A" Q        ;     T3    N2    M0
"RTN","ONCSG0",200,0)
 .I TNM="4A20" S SG="4A" Q     ;     T4a   N2    M0
"RTN","ONCSG0",201,0)
 .I T="4B",M=0 S SG="4B" Q     ;IVB  T4b   Any N M0
"RTN","ONCSG0",202,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;     Any T N3    M0
"RTN","ONCSG0",203,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0",204,0)
 ;
"RTN","ONCSG0",205,0)
CLEANUP ;Cleanup
"RTN","ONCSG0",206,0)
 K M,N,SG,T
"RTN","ONCSG0A")
0^328^B30426924
"RTN","ONCSG0A",1,0)
ONCSG0A ;Hines OIFO/GWB - AUTOMATIC STAGING TABLES ;10/28/10
"RTN","ONCSG0A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG0A",3,0)
 ;
"RTN","ONCSG0A",4,0)
 ;HEAD AND NECK SITES (continued)
"RTN","ONCSG0A",5,0)
 ;
"RTN","ONCSG0A",6,0)
PAR12 ;Paranasal Sinuses - 1st and 2nd editions
"RTN","ONCSG0A",7,0)
 I M[1 S SG=4
"RTN","ONCSG0A",8,0)
 E  I M[0 D
"RTN","ONCSG0A",9,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0A",10,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0A",11,0)
 .E  I N[0,(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0A",12,0)
 Q
"RTN","ONCSG0A",13,0)
 ;
"RTN","ONCSG0A",14,0)
PAR34 ;Paranasal Sinuses - 3rd and 4th editions
"RTN","ONCSG0A",15,0)
 I M[1 S SG=4
"RTN","ONCSG0A",16,0)
 E  I M[0 D
"RTN","ONCSG0A",17,0)
 .I (N[2)!(N[3) S SG=4
"RTN","ONCSG0A",18,0)
 .E  I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T=4:4,1:3)
"RTN","ONCSG0A",19,0)
 .E  I N[0,(T["IS")!(T[1)!(T[2)!(T[3)!(T[4) S SG=+T
"RTN","ONCSG0A",20,0)
 Q
"RTN","ONCSG0A",21,0)
 ;
"RTN","ONCSG0A",22,0)
PAR5 ;Paranasal Sinuses - 5th edition
"RTN","ONCSG0A",23,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0A",24,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0A",25,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0A",26,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0A",27,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0A",28,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0A",29,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0A",30,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0A",31,0)
 .I TNM=400 S SG="4A" Q        ;IVA  T4    N0    M0
"RTN","ONCSG0A",32,0)
 .I TNM=410 S SG="4A" Q        ;     T4    N1    M0
"RTN","ONCSG0A",33,0)
 .I $E(N,1)=2,M=0 S SG="4B" Q  ;IVB  Any T N2    M0
"RTN","ONCSG0A",34,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;     Any T N3    M0
"RTN","ONCSG0A",35,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0A",36,0)
 ;
"RTN","ONCSG0A",37,0)
PAR6 ;Paranasal Sinuses - 6th edition
"RTN","ONCSG0A",38,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0A",39,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG0A",40,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0A",41,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0A",42,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0A",43,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0A",44,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0A",45,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0A",46,0)
 .I TNM="4A00" S SG="4A" Q     ;IVA  T4a   N0    M0
"RTN","ONCSG0A",47,0)
 .I TNM="4A10" S SG="4A" Q     ;     T4a   N1    M0
"RTN","ONCSG0A",48,0)
 .I TNM=120 S SG="4A" Q        ;     T1    N2    M0
"RTN","ONCSG0A",49,0)
 .I TNM=220 S SG="4A" Q        ;     T2    N2    M0
"RTN","ONCSG0A",50,0)
 .I TNM=320 S SG="4A" Q        ;     T3    N2    M0
"RTN","ONCSG0A",51,0)
 .I TNM="4A20" S SG="4A" Q     ;     T4a   N2    M0
"RTN","ONCSG0A",52,0)
 .I T="4B",M=0 S SG="4B" Q     ;IVB  T4b   Any N M0
"RTN","ONCSG0A",53,0)
 .I $E(N,1)=3,M=0 S SG="4B" Q  ;     Any T N3    M0
"RTN","ONCSG0A",54,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0A",55,0)
 ;
"RTN","ONCSG0A",56,0)
SAL12 ;Major Salivary Glands - 1st and 2nd editions
"RTN","ONCSG0A",57,0)
 I M[1 S SG=4
"RTN","ONCSG0A",58,0)
 E  I M[0 D
"RTN","ONCSG0A",59,0)
 .I N[1,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T>2:4,1:3)
"RTN","ONCSG0A",60,0)
 .E  I N[0,(T[1)!(T[2)!(T[3)!(T[4) S SG=$S(T[4:3,T[3:2,1:1)
"RTN","ONCSG0A",61,0)
 Q
"RTN","ONCSG0A",62,0)
 ;
"RTN","ONCSG0A",63,0)
SAL34 ;Major Salivary Glands - 3rd and 4th editions
"RTN","ONCSG0A",64,0)
 I M S SG=4
"RTN","ONCSG0A",65,0)
 E  I (T["4B")!(N[2)!(N[3),M[0 S SG=4
"RTN","ONCSG0A",66,0)
 E  I (T["1A")!(T["2A"),N[0,M[0 S SG=1
"RTN","ONCSG0A",67,0)
 E  I (T["1B")!(T["2B")!(T["3A"),N[0,M[0 S SG=2
"RTN","ONCSG0A",68,0)
 E  I (T["3B")!(T["4A"),N[0,M[0 S SG=3
"RTN","ONCSG0A",69,0)
 E  I N[1,M[0 S SG=3
"RTN","ONCSG0A",70,0)
 Q
"RTN","ONCSG0A",71,0)
 ;
"RTN","ONCSG0A",72,0)
SAL5 ;Major Salivary Glands - 5th edition
"RTN","ONCSG0A",73,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0A",74,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0A",75,0)
 .I TNM=200 S SG=1 Q           ;     T2    N0    M0
"RTN","ONCSG0A",76,0)
 .I TNM=300 S SG=2 Q           ;II   T3    N0    M0
"RTN","ONCSG0A",77,0)
 .I TNM=110 S SG=3 Q           ;III  T1    N1    M0
"RTN","ONCSG0A",78,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0A",79,0)
 .I TNM=400 S SG=4 Q           ;IV   T4    N0    M0
"RTN","ONCSG0A",80,0)
 .I TNM=310 S SG=4 Q           ;     T3    N1    M0
"RTN","ONCSG0A",81,0)
 .I TNM=410 S SG=4 Q           ;     T4    N1    M0
"RTN","ONCSG0A",82,0)
 .I $E(N,1)=2,M=0 S SG=4 Q     ;     Any T N2    M0
"RTN","ONCSG0A",83,0)
 .I $E(N,1)=3,M=0 S SG=4 Q     ;     Any T N3    M0
"RTN","ONCSG0A",84,0)
 .I M=1 S SG=4 Q               ;     Any T Any N M1
"RTN","ONCSG0A",85,0)
 ;
"RTN","ONCSG0A",86,0)
SAL6 ;Major Salivary Glands - 6th edition
"RTN","ONCSG0A",87,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG0A",88,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0A",89,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0A",90,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0A",91,0)
 .I TNM=110 S SG=3 Q           ;     T1    N1    M0
"RTN","ONCSG0A",92,0)
 .I TNM=210 S SG=3 Q           ;     T2    N1    M0
"RTN","ONCSG0A",93,0)
 .I TNM=310 S SG=3 Q           ;     T3    N1    M0
"RTN","ONCSG0A",94,0)
 .I TNM="4A00" S SG="4A" Q     ;IVA  T4a   N0    M0
"RTN","ONCSG0A",95,0)
 .I TNM="4A10" S SG="4A" Q     ;     T4a   N1    M0
"RTN","ONCSG0A",96,0)
 .I TNM=120 S SG="4A" Q        ;     T1    N2    M0
"RTN","ONCSG0A",97,0)
 .I TNM=220 S SG="4A" Q        ;     T2    N2    M0
"RTN","ONCSG0A",98,0)
 .I TNM=320 S SG="4A" Q        ;     T3    N2    M0
"RTN","ONCSG0A",99,0)
 .I TNM="4A20" S SG="4A" Q     ;     T4a   N2    M0
"RTN","ONCSG0A",100,0)
 .I T="4B",M=0 S SG="4B" Q     ;IVB  T4b   Any N M0
"RTN","ONCSG0A",101,0)
 .I N=3,M=0 S SG="4B" Q        ;     Any T N3    M0
"RTN","ONCSG0A",102,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0A",103,0)
 ;
"RTN","ONCSG0A",104,0)
THY15 K SG
"RTN","ONCSG0A",105,0)
 I G=4 S SG=4
"RTN","ONCSG0A",106,0)
 E  D
"RTN","ONCSG0A",107,0)
 .N MO S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSG0A",108,0)
 .D @$S((MO=85103)!(MO=85113):"THYDM",1:"THYDPF")
"RTN","ONCSG0A",109,0)
 I '$D(SG) S SG=99
"RTN","ONCSG0A",110,0)
 Q
"RTN","ONCSG0A",111,0)
 ;
"RTN","ONCSG0A",112,0)
THYDM ;Thyroid - Medullary
"RTN","ONCSG0A",113,0)
 I M S SG=4
"RTN","ONCSG0A",114,0)
 E  I T[1,N[0,M[0 S SG=1
"RTN","ONCSG0A",115,0)
 E  I (T[2)!(T[3)!(T[4),N[0,M[0 S SG=2
"RTN","ONCSG0A",116,0)
 E  I N[1,M[0 S SG=3
"RTN","ONCSG0A",117,0)
 E  S SG=99
"RTN","ONCSG0A",118,0)
 Q
"RTN","ONCSG0A",119,0)
 ;
"RTN","ONCSG0A",120,0)
THYDPF ;Thyroid - Papillary or Follicular
"RTN","ONCSG0A",121,0)
 N OKMO
"RTN","ONCSG0A",122,0)
 S OKMO=("^80503^82603^82900^82903^83300^83303^83313^83323^83333^83340^83403^83503^80203^"[(U_MO_U))
"RTN","ONCSG0A",123,0)
 I 'OKMO W:$G(RESTAGE)="" !!?12,"Histology code is incompatible." Q
"RTN","ONCSG0A",124,0)
 E  D
"RTN","ONCSG0A",125,0)
 .D AGE^ONCOCOM
"RTN","ONCSG0A",126,0)
 .I X<45 S SG=$S(M[1:2,M[0:1,1:"E")
"RTN","ONCSG0A",127,0)
 .E  D THYDP45
"RTN","ONCSG0A",128,0)
 Q
"RTN","ONCSG0A",129,0)
 ;
"RTN","ONCSG0A",130,0)
THYDP45 ;THYROID - Papillary or Follicular - 45 years and older
"RTN","ONCSG0A",131,0)
 I M[1 S SG=4
"RTN","ONCSG0A",132,0)
 E  I M[0 D
"RTN","ONCSG0A",133,0)
 .I N[1 S SG=3
"RTN","ONCSG0A",134,0)
 .E  I N[0 D
"RTN","ONCSG0A",135,0)
 ..I T[1 S SG=1
"RTN","ONCSG0A",136,0)
 ..E  I (T[2)!(T[3) S SG=2
"RTN","ONCSG0A",137,0)
 ..E  I T[4 S SG=3
"RTN","ONCSG0A",138,0)
 Q
"RTN","ONCSG0A",139,0)
 ;
"RTN","ONCSG0A",140,0)
THY6 ;Thyroid Gland - 6th and 7th editions
"RTN","ONCSG0A",141,0)
 D AGE^ONCOCOM
"RTN","ONCSG0A",142,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSG0A",143,0)
 S OKMO="80503^82603^82903^83303^83313^83323^83353^83403^83413^83423^83433^83443^83503" ;Papillary or Follicular
"RTN","ONCSG0A",144,0)
 I X<45,OKMO[MO S SG=$S(M=0:1,M=1:2,1:99) D  Q
"RTN","ONCSG0A",145,0)
 .Q:$G(RESTAGE)="YES"
"RTN","ONCSG0A",146,0)
 .W !!,?12,"NOTE: Papillary or Follicular"
"RTN","ONCSG0A",147,0)
 .W !,?12,"      Under 45 years"
"RTN","ONCSG0A",148,0)
 S TNM=$E(T,1)_N_M D  K TNM Q
"RTN","ONCSG0A",149,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG0A",150,0)
 .I TNM=200 S SG=2 Q           ;II   T2    N0    M0
"RTN","ONCSG0A",151,0)
 .I TNM=300 S SG=3 Q           ;III  T3    N0    M0
"RTN","ONCSG0A",152,0)
 .I TNM="11A0" S SG=3 Q        ;     T1    N1a   M0
"RTN","ONCSG0A",153,0)
 .I TNM="21A0" S SG=3 Q        ;     T2    N1a   M0
"RTN","ONCSG0A",154,0)
 .I TNM="31A0" S SG=3 Q        ;     T3    N1a   M0
"RTN","ONCSG0A",155,0)
 .I TNM="4A00" S SG="4A" Q     ;IVA  T4a   N0    M0
"RTN","ONCSG0A",156,0)
 .I TNM="4A1A0" S SG="4A" Q    ;     T4a   N1a   M0
"RTN","ONCSG0A",157,0)
 .I TNM="11B0" S SG="4A" Q     ;     T1    N1b   M0
"RTN","ONCSG0A",158,0)
 .I TNM="21B0" S SG="4A" Q     ;     T2    N1b   M0
"RTN","ONCSG0A",159,0)
 .I TNM="31B0" S SG="4A" Q     ;     T3    N1b   M0
"RTN","ONCSG0A",160,0)
 .I TNM="4A1B0" S SG="4A" Q    ;     T4a   N1b   M0
"RTN","ONCSG0A",161,0)
 .I T="4B",M=0 S SG="4B" Q     ;IVB  T4b   Any N M0
"RTN","ONCSG0A",162,0)
 .I M=1 S SG="4C" Q            ;IVC  Any T Any N M1
"RTN","ONCSG0A",163,0)
 ;
"RTN","ONCSG0A",164,0)
CLEANUP ;Cleanup
"RTN","ONCSG0A",165,0)
 K D0,G,M,N,RESTAGE,T,X
"RTN","ONCSG1")
0^12^B154656243
"RTN","ONCSG1",1,0)
ONCSG1 ;Hines OIFO/GWB - Automatic Staging Tables ;10/28/10
"RTN","ONCSG1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG1",3,0)
 ;
"RTN","ONCSG1",4,0)
 ;DIGESTIVE SYSTEM
"RTN","ONCSG1",5,0)
 ;
"RTN","ONCSG1",6,0)
ESO1234 ;Esophagus - 1st, 2nd, 3rd and 4th editions
"RTN","ONCSG1",7,0)
 I M[1 S SG=4
"RTN","ONCSG1",8,0)
 E  I T["IS",N[0,M[0 S SG=0
"RTN","ONCSG1",9,0)
 E  I T[1,N[0,M[0 S SG=1
"RTN","ONCSG1",10,0)
 E  I (T[2)!(T[3),N[0,M[0 S SG="2A"
"RTN","ONCSG1",11,0)
 E  I (T[1)!(T[2),N[1,M[0 S SG="2B"
"RTN","ONCSG1",12,0)
 E  I T[3,N[1,M[0 S SG=3
"RTN","ONCSG1",13,0)
 E  I T[4,M[0 S SG=3
"RTN","ONCSG1",14,0)
 E  S SG=99
"RTN","ONCSG1",15,0)
 Q
"RTN","ONCSG1",16,0)
 ;
"RTN","ONCSG1",17,0)
ESO56 ;Esophagus - 5th and 6th editions
"RTN","ONCSG1",18,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",19,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG1",20,0)
 .I TNM=100 S SG=1 Q           ;I    T1    N0    M0
"RTN","ONCSG1",21,0)
 .I TNM=200 S SG="2A" Q        ;IIA  T2    N0    M0
"RTN","ONCSG1",22,0)
 .I TNM=300 S SG="2A" Q        ;     T3    N0    M0
"RTN","ONCSG1",23,0)
 .I TNM=110 S SG="2B" Q        ;IIB  T1    N1    M0
"RTN","ONCSG1",24,0)
 .I TNM=210 S SG="2B" Q        ;     T2    N1    M0
"RTN","ONCSG1",25,0)
 .I TNM=310 S SG=3 Q           ;III  T3    N1    M0
"RTN","ONCSG1",26,0)
 .I T=4,M=0 S SG=3 Q           ;     T4    Any N M0
"RTN","ONCSG1",27,0)
 .I M=1 S SG=4 Q               ;IV   Any T Any N M1
"RTN","ONCSG1",28,0)
 .I M="1A" S SG="4A" Q         ;IVA  Any T Any N M1a
"RTN","ONCSG1",29,0)
 .I M="1B" S SG="4B" Q         ;IVB  Any T Any N M1b
"RTN","ONCSG1",30,0)
 ;
"RTN","ONCSG1",31,0)
ESO7 ;Esophagus - 7th edition  (+ some Stomach/GE Junction cases)
"RTN","ONCSG1",32,0)
 N VAR I (TX=67160)!(TX=67161)!(TX=67162) D  G:VAR="S" ESO7A G:VAR="A" ESO7B
"RTN","ONCSG1",33,0)
 .S VAR="A"
"RTN","ONCSG1",34,0)
 .I ($E(HT,1,4)>7999)&($E(HT,1,4)<8047) S VAR="S" Q
"RTN","ONCSG1",35,0)
 .I ($E(HT,1,4)>8050)&($E(HT,1,4)<8032) S VAR="S" Q
"RTN","ONCSG1",36,0)
 .I ($E(HT,1,4)>8147)&($E(HT,1,4)<8153) S VAR="S" Q
"RTN","ONCSG1",37,0)
 .I ($E(HT,1,4)>8153)&($E(HT,1,4)<8158) S VAR="S" Q
"RTN","ONCSG1",38,0)
 .I ($E(HT,1,4)>8169)&($E(HT,1,4)<8176) S VAR="S" Q
"RTN","ONCSG1",39,0)
 .I ($E(HT,1,4)>8229)&($E(HT,1,4)<8232) S VAR="S" Q
"RTN","ONCSG1",40,0)
 .I ($E(HT,1,4)>8244)&($E(HT,1,4)<8246) S VAR="S" Q
"RTN","ONCSG1",41,0)
 .I ($E(HT,1,4)>8246)&($E(HT,1,4)<8249) S VAR="S" Q
"RTN","ONCSG1",42,0)
 .I ($E(HT,1,4)>8507)&($E(HT,1,4)<8514) S VAR="S" Q
"RTN","ONCSG1",43,0)
 .I ($E(HT,1,4)>8559)&($E(HT,1,4)<8571) S VAR="S" Q
"RTN","ONCSG1",44,0)
 .I ($E(HT,1,4)=8575)!($E(HT,1,4)=8950) S VAR="S" Q
"RTN","ONCSG1",45,0)
 .I ($E(HT,1,4)>8979)&($E(HT,1,4)<8982) S VAR="S" Q
"RTN","ONCSG1",46,0)
 .I ($E(HT,1,4)=8050)!($E(HT,1,4)=8576) S VAR="A" Q
"RTN","ONCSG1",47,0)
 .I ($E(HT,1,4)>8139)&($E(HT,1,4)<8148) S VAR="A" Q
"RTN","ONCSG1",48,0)
 .I ($E(HT,1,4)>8159)&($E(HT,1,4)<8163) S VAR="A" Q
"RTN","ONCSG1",49,0)
 .I ($E(HT,1,4)>8179)&($E(HT,1,4)<8222) S VAR="A" Q
"RTN","ONCSG1",50,0)
 .I ($E(HT,1,4)>8249)&($E(HT,1,4)<8508) S VAR="A" Q
"RTN","ONCSG1",51,0)
 .I ($E(HT,1,4)>8513)&($E(HT,1,4)<8552) S VAR="A" Q
"RTN","ONCSG1",52,0)
 .I ($E(HT,1,4)>8570)&($E(HT,1,4)<8575) S VAR="A" Q
"RTN","ONCSG1",53,0)
 .I ($E(HT,1,4)>8939)&($E(HT,1,4)<8942) S VAR="A" Q
"RTN","ONCSG1",54,0)
 I ($E(HT,1,3)>804)&($E(HT,1,3)<808) G ESO7A
"RTN","ONCSG1",55,0)
 E  G ESO7B
"RTN","ONCSG1",56,0)
ESO7A ;Squamous Cell Carcinoma
"RTN","ONCSG1",57,0)
 I T="IS" S TNM=T_N_M
"RTN","ONCSG1",58,0)
 E  S TNM=$E(T,1)_N_M
"RTN","ONCSG1",59,0)
 D  K TNM Q
"RTN","ONCSG1",60,0)
 .I TNM="IS00" S SG=0 Q
"RTN","ONCSG1",61,0)
 .I (TNM=100)&(G=1) S SG="1A" Q
"RTN","ONCSG1",62,0)
 .I (TNM=100)&((G=2)!(G=3)) S SG="1B" Q
"RTN","ONCSG1",63,0)
 .I TNM=100 S SG="1A" Q
"RTN","ONCSG1",64,0)
 .I ((TNM=200)!(TNM=300))&(G=1)&((TX=67152)!(TX=67155)!(TX=67160)!(TX=67161)!(TX=67162)) S SG="1B" Q
"RTN","ONCSG1",65,0)
 .I ((TNM=200)!(TNM=300))&(G=1)&((TX=67150)!(TX=67151)!(TX=67153)!(TX=67154)) S SG="2A" Q
"RTN","ONCSG1",66,0)
 .I ((TNM=200)!(TNM=300))&((G=2)!(G=3))&((TX=67152)!(TX=67155)!(TX=67160)!(TX=67161)!(TX=67162)) S SG="2A" Q
"RTN","ONCSG1",67,0)
 .I ((TNM=200)!(TNM=300))&((G=2)!(G=3))&((TX=67150)!(TX=67151)!(TX=67153)!(TX=67154)) S SG="2B" Q
"RTN","ONCSG1",68,0)
 .I ((TNM=200)!(TNM=300))&(G=1) S SG="1B" Q
"RTN","ONCSG1",69,0)
 .I ((TNM=200)!(TNM=300))&((TX=67152)!(TX=67155)!(TX=67160)!(TX=67161)!(TX=67162)) S SG="1B" Q
"RTN","ONCSG1",70,0)
 .I ((TNM=200)!(TNM=300))&((TX=67150)!(TX=67151)!(TX=67153)!(TX=67154)) S SG="2A" Q
"RTN","ONCSG1",71,0)
 .I ((TNM=200)!(TNM=300))&((G=2)!(G=3)) S SG="2A" Q
"RTN","ONCSG1",72,0)
 .I (TNM=200)!(TNM=300) S SG="1B" Q
"RTN","ONCSG1",73,0)
 .I (TNM=110)!(TNM=210) S SG="2B" Q
"RTN","ONCSG1",74,0)
 .I (TNM=120)!(TNM=220) S SG="3A" Q
"RTN","ONCSG1",75,0)
 .I TNM=310 S SG="3A" Q
"RTN","ONCSG1",76,0)
 .I (T="4A")&(N=0)&(M=0) S SG="3A" Q
"RTN","ONCSG1",77,0)
 .I TNM=320 S SG="3B" Q
"RTN","ONCSG1",78,0)
 .I ((TNM="410")!(TNM="420")) S SG="3C" Q
"RTN","ONCSG1",79,0)
 .I (T="4B")&(M=0) S SG="3C" Q
"RTN","ONCSG1",80,0)
 .I (N=3)&(M=0) S SG="3C" Q
"RTN","ONCSG1",81,0)
 .I M=1 S SG=4 Q
"RTN","ONCSG1",82,0)
 ;
"RTN","ONCSG1",83,0)
ESO7B ;Adenocarcinoma
"RTN","ONCSG1",84,0)
 I T="IS" S TNM=T_N_M
"RTN","ONCSG1",85,0)
 E  S TNM=$E(T,1)_N_M
"RTN","ONCSG1",86,0)
 D  K TNM Q
"RTN","ONCSG1",87,0)
 .I TNM="IS00" S SG=0 Q
"RTN","ONCSG1",88,0)
 .I (TNM=100)&((G=1)!(G=2)) S SG="1A" Q
"RTN","ONCSG1",89,0)
 .I (TNM=100)&(G=3) S SG="1B" Q
"RTN","ONCSG1",90,0)
 .I (TNM=200)&((G=1)!(G=2)) S SG="1B" Q
"RTN","ONCSG1",91,0)
 .I (TNM=200)&(G=3) S SG="2A" Q
"RTN","ONCSG1",92,0)
 .I (TNM=300) S SG="2B" Q
"RTN","ONCSG1",93,0)
 .I ((TNM=110)!(TNM=210)) S SG="2B" Q
"RTN","ONCSG1",94,0)
 .I ((TNM=120)!(TNM=220)) S SG="3A" Q
"RTN","ONCSG1",95,0)
 .I TNM=310 S SG="3A" Q
"RTN","ONCSG1",96,0)
 .I (T="4A")&(N=0)&(M=0) S SG="3A" Q
"RTN","ONCSG1",97,0)
 .I TNM=320 S SG="3B" Q
"RTN","ONCSG1",98,0)
 .I ((TNM="410")!(TNM="420")) S SG="3C" Q
"RTN","ONCSG1",99,0)
 .I (T="4B")&(M=0) S SG="3C" Q
"RTN","ONCSG1",100,0)
 .I (N=3)&(M=0) S SG="3C" Q
"RTN","ONCSG1",101,0)
 .I M=1 S SG=4 Q
"RTN","ONCSG1",102,0)
 ;
"RTN","ONCSG1",103,0)
STO34 ;Stomach - 3rd and 4th editions
"RTN","ONCSG1",104,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",105,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",106,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1",107,0)
 .I TNM=110 S SG="1B" Q     ;IB   T1    N1    M0
"RTN","ONCSG1",108,0)
 .I TNM=200 S SG="1B" Q     ;     T2    N0    M0
"RTN","ONCSG1",109,0)
 .I TNM=120 S SG=2 Q        ;II   T1    N2    M0
"RTN","ONCSG1",110,0)
 .I TNM=210 S SG=2 Q        ;     T2    N1    M0
"RTN","ONCSG1",111,0)
 .I TNM=300 S SG=2 Q        ;     T3    N0    M0
"RTN","ONCSG1",112,0)
 .I TNM=220 S SG="3A" Q     ;IIIA T2    N2    M0
"RTN","ONCSG1",113,0)
 .I TNM=310 S SG="3A" Q     ;     T3    N1    M0
"RTN","ONCSG1",114,0)
 .I TNM=400 S SG="3A" Q     ;     T4    N0    M0
"RTN","ONCSG1",115,0)
 .I TNM=320 S SG="3B" Q     ;IIIB T3    N2    M0
"RTN","ONCSG1",116,0)
 .I TNM=410 S SG="3B" Q     ;     T4    N1    M0
"RTN","ONCSG1",117,0)
 .I TNM=420 S SG=4 Q        ;IV   T4    N2    M0
"RTN","ONCSG1",118,0)
 .I M=1 S SG=4 Q            ;     Any T Any N M1
"RTN","ONCSG1",119,0)
 ;
"RTN","ONCSG1",120,0)
STO5 ;Stomach - 5th edition
"RTN","ONCSG1",121,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",122,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",123,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1",124,0)
 .I TNM=110 S SG="1B" Q     ;IB   T1    N1    M0
"RTN","ONCSG1",125,0)
 .I TNM=200 S SG="1B" Q     ;     T2    N0    M0
"RTN","ONCSG1",126,0)
 .I TNM=120 S SG=2 Q        ;II   T1    N2    M0
"RTN","ONCSG1",127,0)
 .I TNM=210 S SG=2 Q        ;     T2    N1    M0
"RTN","ONCSG1",128,0)
 .I TNM=300 S SG=2 Q        ;     T3    N0    M0
"RTN","ONCSG1",129,0)
 .I TNM=220 S SG="3A" Q     ;IIIA T2    N2    M0
"RTN","ONCSG1",130,0)
 .I TNM=310 S SG="3A" Q     ;     T3    N1    M0
"RTN","ONCSG1",131,0)
 .I TNM=400 S SG="3A" Q     ;     T4    N0    M0
"RTN","ONCSG1",132,0)
 .I TNM=320 S SG="3B" Q     ;IIIB T3    N2    M0
"RTN","ONCSG1",133,0)
 .I TNM=410 S SG=4 Q        ;IV   T4    N1    M0
"RTN","ONCSG1",134,0)
 .I TNM=130 S SG=4 Q        ;     T1    N3    M0
"RTN","ONCSG1",135,0)
 .I TNM=230 S SG=4 Q        ;     T2    N3    M0
"RTN","ONCSG1",136,0)
 .I TNM=330 S SG=4 Q        ;     T3    N3    M0
"RTN","ONCSG1",137,0)
 .I TNM=420 S SG=4 Q        ;     T4    N2    M0
"RTN","ONCSG1",138,0)
 .I TNM=430 S SG=4 Q        ;     T4    N3    M0
"RTN","ONCSG1",139,0)
 .I M=1 S SG=4 Q            ;     Any T Any N M1
"RTN","ONCSG1",140,0)
 ;
"RTN","ONCSG1",141,0)
STO6 ;Stomach - 6th edition
"RTN","ONCSG1",142,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",143,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",144,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1",145,0)
 .I TNM=110 S SG="1B" Q     ;IB   T1    N1    M0
"RTN","ONCSG1",146,0)
 .I TNM="2A00" S SG="1B" Q  ;     T2a   N0    M0
"RTN","ONCSG1",147,0)
 .I TNM="2B00" S SG="1B" Q  ;     T2b   N0    M0
"RTN","ONCSG1",148,0)
 .I TNM=120 S SG=2 Q        ;II   T1    N2    M0
"RTN","ONCSG1",149,0)
 .I TNM="2A10" S SG=2 Q     ;     T2a   N1    M0
"RTN","ONCSG1",150,0)
 .I TNM="2B10" S SG=2 Q     ;     T2b   N1    M0
"RTN","ONCSG1",151,0)
 .I TNM=300 S SG=2 Q        ;     T3    N0    M0
"RTN","ONCSG1",152,0)
 .I TNM="2A20" S SG="3A" Q  ;IIIA T2a   N2    M0
"RTN","ONCSG1",153,0)
 .I TNM="2B20" S SG="3A" Q  ;     T2b   N2    M0
"RTN","ONCSG1",154,0)
 .I TNM=310 S SG="3A" Q     ;     T3    N1    M0
"RTN","ONCSG1",155,0)
 .I TNM=400 S SG="3A" Q     ;     T4    N0    M0
"RTN","ONCSG1",156,0)
 .I TNM=320 S SG="3B" Q     ;IIIB T3    N2    M0
"RTN","ONCSG1",157,0)
 .I TNM=410 S SG=4 Q        ;IV   T4    N1    M0
"RTN","ONCSG1",158,0)
 .I TNM=130 S SG=4 Q        ;     T1    N3    M0
"RTN","ONCSG1",159,0)
 .I TNM="2A30" S SG=4 Q     ;     T2a   N3    M0
"RTN","ONCSG1",160,0)
 .I TNM="2B30" S SG=4 Q     ;     T2b   N3    M0
"RTN","ONCSG1",161,0)
 .I TNM=330 S SG=4 Q        ;     T3    N3    M0
"RTN","ONCSG1",162,0)
 .I TNM=420 S SG=4 Q        ;     T4    N2    M0
"RTN","ONCSG1",163,0)
 .I TNM=430 S SG=4 Q        ;     T4    N3    M0
"RTN","ONCSG1",164,0)
 .I M=1 S SG=4 Q            ;     Any T Any N M1
"RTN","ONCSG1",165,0)
 ;
"RTN","ONCSG1",166,0)
STO7 ;Stomach - 7th edition
"RTN","ONCSG1",167,0)
 I $E(T,1)=1 S T=$E(T,1)
"RTN","ONCSG1",168,0)
 I $E(N,1)=3 S N=$E(N,1)
"RTN","ONCSG1",169,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",170,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",171,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1",172,0)
 .I TNM=200 S SG="1B" Q     ;IB   T2    N0    M0
"RTN","ONCSG1",173,0)
 .I TNM=110 S SG="1B" Q     ;     T1    N1    M0
"RTN","ONCSG1",174,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1",175,0)
 .I TNM=210 S SG="2A" Q     ;     T2    N1    M0
"RTN","ONCSG1",176,0)
 .I TNM=120 S SG="2A" Q     ;     T1    N2    M0
"RTN","ONCSG1",177,0)
 .I TNM="4A00" S SG="2B" Q  ;IIB  T4a   N0    M0
"RTN","ONCSG1",178,0)
 .I TNM=310 S SG="2B" Q     ;     T3    N1    M0
"RTN","ONCSG1",179,0)
 .I TNM=220 S SG="2B" Q     ;     T2    N2    M0
"RTN","ONCSG1",180,0)
 .I TNM=130 S SG="2B" Q     ;     T1    N3    M0
"RTN","ONCSG1",181,0)
 .I TNM="4A10" S SG="3A" Q  ;IIIA T4a   N1    M0
"RTN","ONCSG1",182,0)
 .I TNM=320 S SG="3A" Q     ;     T3    N2    M0
"RTN","ONCSG1",183,0)
 .I TNM=230 S SG="3A" Q     ;     T2    N3    M0
"RTN","ONCSG1",184,0)
 .I TNM="4B00" S SG="3B" Q  ;IIIB T4b   N0    M0
"RTN","ONCSG1",185,0)
 .I TNM="4B10" S SG="3B" Q  ;     T4b   N1    M0
"RTN","ONCSG1",186,0)
 .I TNM="4A20" S SG="3B" Q  ;     T4a   N2    M0
"RTN","ONCSG1",187,0)
 .I TNM=330 S SG="3B" Q     ;     T3    N3    M0
"RTN","ONCSG1",188,0)
 .I TNM="4B20" S SG="3C" Q  ;IIIC T4b   N2    M0
"RTN","ONCSG1",189,0)
 .I TNM="4B30" S SG="3C" Q  ;     T4b   N3    M0
"RTN","ONCSG1",190,0)
 .I TNM="4A30" S SG="3C" Q  ;     T4a   N3    M0
"RTN","ONCSG1",191,0)
 .I M=1 S SG=4 Q            ;     Any T Any N M1
"RTN","ONCSG1",192,0)
 ;
"RTN","ONCSG1",193,0)
SI456 ;Small Intestine - 4th, 5th and 6th editions
"RTN","ONCSG1",194,0)
 I M S SG=4
"RTN","ONCSG1",195,0)
 E  I T["IS",N[0,M[0 S SG=0
"RTN","ONCSG1",196,0)
 E  I (T[1)!(T[2),N[0,M[0 S SG=1
"RTN","ONCSG1",197,0)
 E  I (T[3)!(T[4),N[0,M[0 S SG=2
"RTN","ONCSG1",198,0)
 E  I N[1,M[0 S SG=3
"RTN","ONCSG1",199,0)
 E  S SG=99
"RTN","ONCSG1",200,0)
 Q
"RTN","ONCSG1",201,0)
 ;
"RTN","ONCSG1",202,0)
SI7 ;Small Intestine - 7th edition
"RTN","ONCSG1",203,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",204,0)
 .I TNM="IS00" S SG=0 Q  ;0    Tis   N0    M0
"RTN","ONCSG1",205,0)
 .I TNM="1A00" S SG=1 Q  ;I    T1a   N0    M0
"RTN","ONCSG1",206,0)
 .I TNM="1B00" S SG=1 Q  ;I    T1b   N0    M0
"RTN","ONCSG1",207,0)
 .I TNM=200 S SG=1 Q     ;     T2    N0    M0
"RTN","ONCSG1",208,0)
 .I TNM=300 S SG="2A" Q  ;IIA  T3    N0    M0
"RTN","ONCSG1",209,0)
 .I TNM=400 S SG="2B" Q  ;IIB  T0    N0    M0
"RTN","ONCSG1",210,0)
 .I N=1,M=0 S SG="3A" Q  ;IIIA Any T N1    M0
"RTN","ONCSG1",211,0)
 .I N=2,M=0 S SG="3B" Q  ;IIIB Any T N2    M0
"RTN","ONCSG1",212,0)
 .I M=1 S SG=4 Q         ;IV   Any T Any N M1
"RTN","ONCSG1",213,0)
 ;
"RTN","ONCSG1",214,0)
APP7 ;Appendix- 7th edition
"RTN","ONCSG1",215,0)
 N HT14
"RTN","ONCSG1",216,0)
 S HT14=$E(HT,1,4)
"RTN","ONCSG1",217,0)
 I (HT14=8153)!(HT14=8240)!(HT14=8241)!(HT14=8242)!(HT14=8246)!(HT14=8249) G APP7B
"RTN","ONCSG1",218,0)
 ;
"RTN","ONCSG1",219,0)
APP7A ;Carcinoma
"RTN","ONCSG1",220,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",221,0)
 .I TNM="IS00" S SG=0 Q                  ;0    Tis   N0    M0
"RTN","ONCSG1",222,0)
 .I TNM=100 S SG=1 Q                    ;I    T1    N0    M0
"RTN","ONCSG1",223,0)
 .I TNM=200 S SG=1 Q                    ;I    T2    N0    M0
"RTN","ONCSG1",224,0)
 .I TNM=300 S SG="2A" Q                 ;IIA  T3    N0    M0
"RTN","ONCSG1",225,0)
 .I TNM="4A00" S SG="2B" Q              ;IIB  T4a   N0    M0
"RTN","ONCSG1",226,0)
 .I TNM="4B00" S SG="2C" Q              ;IIC  T4b   N0    M0
"RTN","ONCSG1",227,0)
 .I TNM=110 S SG="3A" Q                 ;IIIA T1    N1    M0
"RTN","ONCSG1",228,0)
 .I TNM=210 S SG="3A" Q                 ;     T2    N1    M0
"RTN","ONCSG1",229,0)
 .I TNM=310 S SG="3B" Q                 ;IIIB T3    N1    M0
"RTN","ONCSG1",230,0)
 .I TNM=410 S SG="3B" Q                 ;     T4    N1    M0
"RTN","ONCSG1",231,0)
 .I N=2,M=0 S SG="3C" Q                 ;IIIC Any T N2    M0
"RTN","ONCSG1",232,0)
 .I N=0,M="1A",G=1 S SG="4A" Q          ;IVA  Any T N0    M1a G1
"RTN","ONCSG1",233,0)
 .I N=0,M="1A",(G=2)!(G=3) S SG="4B" Q  ;IVB  Any T N0    M1a G2,3
"RTN","ONCSG1",234,0)
 .I N=1,M="1A" S SG="4B" Q              ;     Any T N1    M1a Any G
"RTN","ONCSG1",235,0)
 .I N=2,M="1A" S SG="4B" Q              ;     Any T N2    M1a Any G
"RTN","ONCSG1",236,0)
 .I M="1B" S SG="4C" Q                  ;IVC  Any T Any N M1b Any G
"RTN","ONCSG1",237,0)
 ;
"RTN","ONCSG1",238,0)
APP7B ;Carcinoid
"RTN","ONCSG1",239,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",240,0)
 .I TNM=100 S SG=1 Q  ;I    T1    N0    M0
"RTN","ONCSG1",241,0)
 .I TNM=200 S SG=2 Q  ;II   T2    N0    M0
"RTN","ONCSG1",242,0)
 .I TNM=300 S SG=2 Q  ;     T3    N0    M0
"RTN","ONCSG1",243,0)
 .I TNM=400 S SG=3 Q  ;III  T4    N0    M0
"RTN","ONCSG1",244,0)
 .I N=1,M=0 S SG=3 Q  ;     Any T N1    M0
"RTN","ONCSG1",245,0)
 .I M=1 S SG=4 Q      ;IV   Any T Any N M1
"RTN","ONCSG1",246,0)
 ;
"RTN","ONCSG1",247,0)
COL34 ;Colon and Rectum - 3rd and 4th editions
"RTN","ONCSG1",248,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",249,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",250,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1",251,0)
 .I TNM=200 S SG=1 Q        ;     T2    N0    M0
"RTN","ONCSG1",252,0)
 .I TNM=300 S SG=2 Q        ;II   T3    N0    M0
"RTN","ONCSG1",253,0)
 .I TNM=400 S SG=2 Q        ;     T4    N0    M0
"RTN","ONCSG1",254,0)
 .I N=1,M=0 S SG=3 Q        ;III  Any T N1    M0
"RTN","ONCSG1",255,0)
 .I N=2,M=0 S SG=3 Q        ;     Any T N2    M0
"RTN","ONCSG1",256,0)
 .I N=3,M=0 S SG=3 Q        ;     Any T N3    M0
"RTN","ONCSG1",257,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1",258,0)
 ;
"RTN","ONCSG1",259,0)
COL5 ;Colon and Rectum - 5th edition
"RTN","ONCSG1",260,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",261,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",262,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1",263,0)
 .I TNM=200 S SG=1 Q        ;     T2    N0    M0
"RTN","ONCSG1",264,0)
 .I TNM=300 S SG=2 Q        ;II   T3    N0    M0
"RTN","ONCSG1",265,0)
 .I TNM=400 S SG=2 Q        ;     T4    N0    M0
"RTN","ONCSG1",266,0)
 .I N=1,M=0 S SG=3 Q        ;III  Any T N1    M0
"RTN","ONCSG1",267,0)
 .I N=2,M=0 S SG=3 Q        ;     Any T N2    M0
"RTN","ONCSG1",268,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1",269,0)
 ;
"RTN","ONCSG1",270,0)
COL6 ;Colon and Rectum - 6th edition
"RTN","ONCSG1",271,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",272,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",273,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1",274,0)
 .I TNM=200 S SG=1 Q        ;     T2    N0    M0
"RTN","ONCSG1",275,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1",276,0)
 .I TNM=400 S SG="2B" Q     ;IIB  T4    N0    M0
"RTN","ONCSG1",277,0)
 .I TNM=110 S SG="3A" Q     ;IIIA T1    N1    M0
"RTN","ONCSG1",278,0)
 .I TNM=210 S SG="3A" Q     ;     T2    N1    M0
"RTN","ONCSG1",279,0)
 .I TNM=310 S SG="3B" Q     ;IIIB T3    N1    M0
"RTN","ONCSG1",280,0)
 .I TNM=410 S SG="3B" Q     ;     T4    N1    M0
"RTN","ONCSG1",281,0)
 .I N=2,M=0 S SG="3C" Q     ;IIIC Any T N2    M0
"RTN","ONCSG1",282,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1",283,0)
 ;
"RTN","ONCSG1",284,0)
COL7 ;Colon and Rectum - 7th edition
"RTN","ONCSG1",285,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",286,0)
 .I TNM="IS00" S SG=0 Q
"RTN","ONCSG1",287,0)
 .I TNM=100 S SG=1 Q
"RTN","ONCSG1",288,0)
 .I TNM=200 S SG=1 Q
"RTN","ONCSG1",289,0)
 .I TNM=300 S SG="2A" Q
"RTN","ONCSG1",290,0)
 .I TNM="4A00" S SG="2B" Q
"RTN","ONCSG1",291,0)
 .I TNM="4B00" S SG="2C" Q
"RTN","ONCSG1",292,0)
 .I ((T=1)!(T=2))&($E(N,1)=1)&(M=0) S SG="3A" Q
"RTN","ONCSG1",293,0)
 .I TNM="12A0" S SG="3A" Q
"RTN","ONCSG1",294,0)
 .I ((T=3)!(T="4A"))&($E(N,1)=1)&(M=0) S SG="3B" Q
"RTN","ONCSG1",295,0)
 .I ((TNM="22A0")!(TNM="32A0")) S SG="3B" Q
"RTN","ONCSG1",296,0)
 .I ((TNM="12B0")!(TNM="22B0")) S SG="3B" Q
"RTN","ONCSG1",297,0)
 .I TNM="4A2A0" S SG="3C" Q
"RTN","ONCSG1",298,0)
 .I ((TNM="32B0")!(TNM="4A2B0")!(TNM="4A20")) S SG="3C" Q
"RTN","ONCSG1",299,0)
 .I ((TNM="4B10")!(TNM="4B20")) S SG="3C" Q
"RTN","ONCSG1",300,0)
 .I ((TNM="4B1A0")!(TNM="4B1B0")!(TNM="4B1C0")!(TNM="4B2A0")!(TNM="4B2B0")) S SG="3C" Q
"RTN","ONCSG1",301,0)
 .I M="1A" S SG="4A" Q
"RTN","ONCSG1",302,0)
 .I M="1B" S SG="4B" Q
"RTN","ONCSG1",303,0)
 ;
"RTN","ONCSG1",304,0)
AC ;Anus - all editions
"RTN","ONCSG1",305,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",306,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1",307,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1",308,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1",309,0)
 .I TNM=300 S SG=2 Q        ;     T3    N0    M0
"RTN","ONCSG1",310,0)
 .I TNM=110 S SG="3A" Q     ;IIIA T1    N1    M0
"RTN","ONCSG1",311,0)
 .I TNM=210 S SG="3A" Q     ;     T2    N1    M0
"RTN","ONCSG1",312,0)
 .I TNM=310 S SG="3A" Q     ;     T3    N1    M0
"RTN","ONCSG1",313,0)
 .I TNM=400 S SG="3A" Q     ;     T4    N0    M0
"RTN","ONCSG1",314,0)
 .I TNM=410 S SG="3B" Q     ;IIIB T4    N1    M0
"RTN","ONCSG1",315,0)
 .I N=2,M=0 S SG="3B" Q     ;     Any T N2    M0
"RTN","ONCSG1",316,0)
 .I N=3,M=0 S SG="3B" Q     ;     Any T N3    M0
"RTN","ONCSG1",317,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1",318,0)
 ;
"RTN","ONCSG1",319,0)
GIST ;Gastrointestinal Stromal Tumor - 7th Edition
"RTN","ONCSG1",320,0)
 N MR
"RTN","ONCSG1",321,0)
 S MR=$P($G(^ONCO(165.5,D0,2.3)),U,9)
"RTN","ONCSG1",322,0)
 I MR="" W !!?12,"MITOTIC RATE is required for AJCC 7th Edition GIST staging." Q
"RTN","ONCSG1",323,0)
 I $E(TX,3,4)=16 G GASTRIC
"RTN","ONCSG1",324,0)
SI ;Small Intestinal GIST - 7th Edition
"RTN","ONCSG1",325,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",326,0)
 .I TNM=100,MR="L" S SG=1 Q           ;I     T1    N0    M0  Low
"RTN","ONCSG1",327,0)
 .I TNM=200,MR="L" S SG=1 Q           ;      T2    N0    M0  Low
"RTN","ONCSG1",328,0)
 .I TNM=300,MR="L" S SG=2 Q           ;II    T3    N0    M0  Low
"RTN","ONCSG1",329,0)
 .I TNM=100,MR="H" S SG="3A" Q        ;IIIA  T1    N0    M0  High
"RTN","ONCSG1",330,0)
 .I TNM=400,MR="L" S SG="3A" Q        ;      T4    N0    M0  Low
"RTN","ONCSG1",331,0)
 .I TNM=200,MR="H" S SG="3B" Q        ;IIIB  T2    N0    M0  High
"RTN","ONCSG1",332,0)
 .I TNM=300,MR="H" S SG="3B" Q        ;      T3    N0    M0  High
"RTN","ONCSG1",333,0)
 .I TNM=400,MR="H" S SG="3B" Q        ;      T4    N0    M0  High
"RTN","ONCSG1",334,0)
 .I N=1,M=0 S SG=4 Q                  ;IV    Any T N1    M0  Any rate
"RTN","ONCSG1",335,0)
 .I M=1 S SG=4 Q                      ;      Any T Any N M1  Any rate
"RTN","ONCSG1",336,0)
 ;
"RTN","ONCSG1",337,0)
GASTRIC ;Gastric GIST
"RTN","ONCSG1",338,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1",339,0)
 .I TNM=100,MR="L" S SG="1A" Q        ;IA    T1    N0    M0  Low
"RTN","ONCSG1",340,0)
 .I TNM=200,MR="L" S SG="1A" Q        ;      T2    N0    M0  Low
"RTN","ONCSG1",341,0)
 .I TNM=300,MR="L" S SG="1B" Q        ;IB    T3    N0    M0  Low
"RTN","ONCSG1",342,0)
 .I TNM=100,MR="H" S SG=2 Q           ;II    T1    N0    M0  High
"RTN","ONCSG1",343,0)
 .I TNM=200,MR="H" S SG=2 Q           ;      T2    N0    M0  High
"RTN","ONCSG1",344,0)
 .I TNM=400,MR="L" S SG=2 Q           ;      T4    N0    M0  Low
"RTN","ONCSG1",345,0)
 .I TNM=300,MR="H" S SG="3A" Q        ;IIIA  T3    N0    M0  High
"RTN","ONCSG1",346,0)
 .I TNM=400,MR="H" S SG="3B" Q        ;IIIB  T4    N0    M0  High
"RTN","ONCSG1",347,0)
 .I N=1,M=0 S SG=4 Q                  ;IV    Any T N1    M0  Any rate
"RTN","ONCSG1",348,0)
 .I M=1 S SG=4 Q                      ;      Any T Any N M1  Any rate
"RTN","ONCSG1",349,0)
 ;
"RTN","ONCSG1",350,0)
NT ;Neuroendocrine Tumor - 7th Edition
"RTN","ONCSG1",351,0)
 S TNM=$E(T,1)_N_M D  K TNM Q
"RTN","ONCSG1",352,0)
 .I TNM="IS00",$E(TX,3,4)=16 S SG=0 Q  ;0     Tis*  N0    M0
"RTN","ONCSG1",353,0)
 .I TNM=100 S SG=1 Q                   ;I     T1    N0    M0
"RTN","ONCSG1",354,0)
 .I TNM=200 S SG="2A" Q                ;IIA   T2    N0    M0
"RTN","ONCSG1",355,0)
 .I TNM=300 S SG="2B" Q                ;IIB   T3    N0    M0
"RTN","ONCSG1",356,0)
 .I TNM=400 S SG="3A" Q                ;IIIA  T4    N0    M0
"RTN","ONCSG1",357,0)
 .I N=1,M=0 S SG="3B" Q                ;IIIB  Any T N1    M0
"RTN","ONCSG1",358,0)
 .I M=1 S SG=4 Q                       ;IV    Any T Any N M1
"RTN","ONCSG1",359,0)
 ;                                     ;Note: TIS applies only to stomach
"RTN","ONCSG1",360,0)
 ;
"RTN","ONCSG1",361,0)
CLEANUP ;Cleanup
"RTN","ONCSG1",362,0)
 K D0,G,HT,M,N,SG,T,TX
"RTN","ONCSG1A")
0^13^B51954616
"RTN","ONCSG1A",1,0)
ONCSG1A ;Hines OIFO/GWB - Automatic Staging Tables ;06/23/10
"RTN","ONCSG1A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG1A",3,0)
 ;
"RTN","ONCSG1A",4,0)
 ;DIGESTIVE SYSTEM (continued)
"RTN","ONCSG1A",5,0)
 ;
"RTN","ONCSG1A",6,0)
LIV34 ;Liver - 3rd and 4th editions
"RTN","ONCSG1A",7,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",8,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",9,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",10,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCSG1A",11,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG1A",12,0)
 .I TNM=300 S SG=3 Q        ;     T3    N0    M0
"RTN","ONCSG1A",13,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCSG1A",14,0)
 .I T=4,M=0 S SG="4A" Q     ;IVA  T4    Any N M0
"RTN","ONCSG1A",15,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG1A",16,0)
 ;
"RTN","ONCSG1A",17,0)
LIV5 ;Liver - 5th edition
"RTN","ONCSG1A",18,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",19,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",20,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",21,0)
 .I TNM=300 S SG="3A" Q     ;IIIA T3    N0    M0
"RTN","ONCSG1A",22,0)
 .I TNM=110 S SG="3B" Q     ;IIIB T1    N1    M0
"RTN","ONCSG1A",23,0)
 .I TNM=210 S SG="3B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",24,0)
 .I TNM=310 S SG="3B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",25,0)
 .I T=4,M=0 S SG="4A" Q     ;IVA  T4    Any N M0
"RTN","ONCSG1A",26,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG1A",27,0)
 ;
"RTN","ONCSG1A",28,0)
LIV6 ;Liver - 6th edition
"RTN","ONCSG1A",29,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",30,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",31,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",32,0)
 .I TNM=300 S SG="3A" Q     ;IIIA T3    N0    M0
"RTN","ONCSG1A",33,0)
 .I TNM=400 S SG="3B" Q     ;IIIB T4    N0    M0
"RTN","ONCSG1A",34,0)
 .I N=1,M=0 S SG="3C" Q     ;IIIC Any T N1    M0
"RTN","ONCSG1A",35,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1A",36,0)
 ;
"RTN","ONCSG1A",37,0)
LIV7 ;Liver and Intrahepatic Bile Ducts - 7th edition
"RTN","ONCSG1A",38,0)
 I TX=67221 G IBD
"RTN","ONCSG1A",39,0)
 ;Liver (C22.0)
"RTN","ONCSG1A",40,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",41,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",42,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",43,0)
 .I TNM="3A00" S SG="3A" Q  ;IIIA T3a   N0    M0
"RTN","ONCSG1A",44,0)
 .I TNM="3B00" S SG="3B" Q  ;IIIB T3b   N0    M0
"RTN","ONCSG1A",45,0)
 .I TNM=400 S SG="3C" Q     ;IIIC T4    N0    M0
"RTN","ONCSG1A",46,0)
 .I N=1,M=0 S SG="4A"       ;IVA  Any T N1    M0 
"RTN","ONCSG1A",47,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG1A",48,0)
 ;
"RTN","ONCSG1A",49,0)
IBD ;Intrahepatic Bile Ducts (C22.1)
"RTN","ONCSG1A",50,0)
 I T="IS" S TNM=T_N_M
"RTN","ONCSG1A",51,0)
 E  S TNM=$E(T,1)_N_M
"RTN","ONCSG1A",52,0)
 D  K TNM Q
"RTN","ONCSG1A",53,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",54,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",55,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",56,0)
 .I TNM=300 S SG=3 Q        ;III  T3    N0    M0
"RTN","ONCSG1A",57,0)
 .I TNM=400 S SG="4A" Q     ;IVA  T4    N0    M0
"RTN","ONCSG1A",58,0)
 .I N=1,M=0 S SG="4A"       ;     Any T N1    M0 
"RTN","ONCSG1A",59,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG1A",60,0)
 ;
"RTN","ONCSG1A",61,0)
GB3 ;Gallbladder - 3rd edition
"RTN","ONCSG1A",62,0)
 I T="IS" S TNM=T_$E(N,1)_M
"RTN","ONCSG1A",63,0)
 E  S TNM=$E(T,1)_$E(N,1)_M
"RTN","ONCSG1A",64,0)
 D  K TNM Q
"RTN","ONCSG1A",65,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",66,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",67,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",68,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCSG1A",69,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG1A",70,0)
 .I T=3,M=0 S SG=3 Q        ;     T3    Any N M0
"RTN","ONCSG1A",71,0)
 .I T=4,M=0 S SG=4 Q        ;IV   T4    Any N M0
"RTN","ONCSG1A",72,0)
 .I M=1 S SG=4 Q            ;     Any T Any N M1
"RTN","ONCSG1A",73,0)
 ;
"RTN","ONCSG1A",74,0)
GB45 ;Gallbladder - 4th and 5th editions
"RTN","ONCSG1A",75,0)
 I T="IS" S TNM=T_N_M
"RTN","ONCSG1A",76,0)
 E  S TNM=$E(T,1)_N_M
"RTN","ONCSG1A",77,0)
 D  K TNM Q
"RTN","ONCSG1A",78,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",79,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",80,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",81,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCSG1A",82,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG1A",83,0)
 .I TNM=300 S SG=3 Q        ;     T3    N0    M0
"RTN","ONCSG1A",84,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCSG1A",85,0)
 .I TNM=400 S SG="4A" Q     ;IVA  T4    N0    M0
"RTN","ONCSG1A",86,0)
 .I TNM=410 S SG="4A" Q     ;     T4    N1    M0
"RTN","ONCSG1A",87,0)
 .I N=2,M=0 S SG="4B" Q     ;IVB  Any T N2    M0
"RTN","ONCSG1A",88,0)
 .I M=1 S SG="4B" Q         ;     Any T Any N M1
"RTN","ONCSG1A",89,0)
 ;
"RTN","ONCSG1A",90,0)
GB6 ;Gallbladder - 6th edition
"RTN","ONCSG1A",91,0)
 I T="IS" S TNM=T_N_M
"RTN","ONCSG1A",92,0)
 E  S TNM=$E(T,1)_N_M
"RTN","ONCSG1A",93,0)
 D  K TNM Q
"RTN","ONCSG1A",94,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",95,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1A",96,0)
 .I TNM=200 S SG="1B" Q     ;IB   T2    N0    M0
"RTN","ONCSG1A",97,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1A",98,0)
 .I TNM=110 S SG="2B" Q     ;IIB  T1    N1    M0
"RTN","ONCSG1A",99,0)
 .I TNM=210 S SG="2B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",100,0)
 .I TNM=310 S SG="2B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",101,0)
 .I T=4,M=0 S SG=3 Q        ;III  T4    Any N M0
"RTN","ONCSG1A",102,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1A",103,0)
 ;
"RTN","ONCSG1A",104,0)
GB7 ;Gallbladder - 7th edition
"RTN","ONCSG1A",105,0)
 I T="IS" S TNM=T_N_M
"RTN","ONCSG1A",106,0)
 E  S TNM=$E(T,1)_N_M
"RTN","ONCSG1A",107,0)
 D  K TNM Q
"RTN","ONCSG1A",108,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",109,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",110,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG1A",111,0)
 .I TNM=300 S SG="3A" Q     ;IIIA T3    N0    M0
"RTN","ONCSG1A",112,0)
 .I TNM=110 S SG="3B" Q     ;IIIB T1    N1    M0
"RTN","ONCSG1A",113,0)
 .I TNM=210 S SG="3B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",114,0)
 .I TNM=310 S SG="3B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",115,0)
 .I TNM=400 S SG="4A" Q     ;IVA  T4    N0    M0
"RTN","ONCSG1A",116,0)
 .I TNM=410 S SG="4A" Q     ;     T4    N1    M0
"RTN","ONCSG1A",117,0)
 .I N=2,M=0 S SG="4B"       ;IVB  Any T N2    M0
"RTN","ONCSG1A",118,0)
 .I M=1 S SG="4B" Q         ;     Any T Any N M1
"RTN","ONCSG1A",119,0)
 ;
"RTN","ONCSG1A",120,0)
EBD3 ;Extrahepatic Bile Ducts - 3rd edition
"RTN","ONCSG1A",121,0)
 S SG=$S(M:"4B",T=3:"4A",+N=1:3,T=2:2,+T=1:1,T="IS":0,1:"E")
"RTN","ONCSG1A",122,0)
 Q
"RTN","ONCSG1A",123,0)
 ;
"RTN","ONCSG1A",124,0)
EBD45 ;Extrahepatic Bile Ducts - 4th and 5th editions
"RTN","ONCSG1A",125,0)
 S SG=$S(M:"4B",T=3:"4A",N&T:3,T=2:2,+T=1:1,T="IS":0,1:"E")
"RTN","ONCSG1A",126,0)
 Q
"RTN","ONCSG1A",127,0)
 ;
"RTN","ONCSG1A",128,0)
EBD6 ;Extrahepatic Bile Ducts - 6th edition
"RTN","ONCSG1A",129,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",130,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",131,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1A",132,0)
 .I TNM=200 S SG="1B" Q     ;IB   T2    N0    M0
"RTN","ONCSG1A",133,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1A",134,0)
 .I TNM=110 S SG="2B" Q     ;IIB  T1    N1    M0
"RTN","ONCSG1A",135,0)
 .I TNM=210 S SG="2B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",136,0)
 .I TNM=310 S SG="2B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",137,0)
 .I T=4,M=0 S SG=3 Q        ;III  T4    Any N M0
"RTN","ONCSG1A",138,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1A",139,0)
 ;
"RTN","ONCSG1A",140,0)
PBD ;Perihilar Bile Ducts - 7th edition
"RTN","ONCSG1A",141,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",142,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",143,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",144,0)
 .I TNM="2A00" S SG=2 Q     ;II   T2a   N0    M0
"RTN","ONCSG1A",145,0)
 .I TNM="2B00" S SG=2 Q     ;     T2b   N0    M0
"RTN","ONCSG1A",146,0)
 .I TNM=300 S SG="3A" Q     ;IIIA T3    N0    M0
"RTN","ONCSG1A",147,0)
 .I TNM=110 S SG="3B" Q     ;IIIB T1    N1    M0
"RTN","ONCSG1A",148,0)
 .I TNM="2A10" S SG="3B" Q  ;     T2a   N1    M0
"RTN","ONCSG1A",149,0)
 .I TNM="2B10" S SG="3B" Q  ;     T2b   N1    M0
"RTN","ONCSG1A",150,0)
 .I TNM=310 S SG="3B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",151,0)
 .I TNM=400 S SG="4A" Q     ;IVA  T4    N0    M0
"RTN","ONCSG1A",152,0)
 .I TNM=410 S SG="4A" Q     ;     T4    N1    M0
"RTN","ONCSG1A",153,0)
 .I N=2,M=0 S SG="4B" Q     ;IVB  Any T N2    M0
"RTN","ONCSG1A",154,0)
 .I M=1 S SG="4B" Q         ;     Any T Any N M1
"RTN","ONCSG1A",155,0)
 ;
"RTN","ONCSG1A",156,0)
DBD ;Distal Bile Duct - 7th edition
"RTN","ONCSG1A",157,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",158,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",159,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1A",160,0)
 .I TNM=200 S SG="1B" Q     ;IB   T2    N0    M0
"RTN","ONCSG1A",161,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1A",162,0)
 .I TNM=110 S SG="2B" Q     ;IIB  T1    N1    M0
"RTN","ONCSG1A",163,0)
 .I TNM=210 S SG="2B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",164,0)
 .I TNM=310 S SG="2B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",165,0)
 .I T=4,M=0 S SG=4 Q        ;III  T4    Any N M0
"RTN","ONCSG1A",166,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1A",167,0)
 ;
"RTN","ONCSG1A",168,0)
AV345 ;Ampulla of Vater - 3rd, 4th and 5th editions
"RTN","ONCSG1A",169,0)
 K SG
"RTN","ONCSG1A",170,0)
 I M=1 S SG=4
"RTN","ONCSG1A",171,0)
 E  I M=0 D
"RTN","ONCSG1A",172,0)
 .I T="IS",N=0 S SG=0
"RTN","ONCSG1A",173,0)
 .E  I T=1,N=0 S SG=1
"RTN","ONCSG1A",174,0)
 .E  I (T=2)!(T=3),N=0 S SG=2
"RTN","ONCSG1A",175,0)
 .E  I (T=1)!(T=2)!(T=3),N=1 S SG=3
"RTN","ONCSG1A",176,0)
 .E  I T=4 S SG=4
"RTN","ONCSG1A",177,0)
 I '$D(SG) S SG=99
"RTN","ONCSG1A",178,0)
 Q
"RTN","ONCSG1A",179,0)
 ;
"RTN","ONCSG1A",180,0)
AV6 ;Ampulla of Vater - 6th and 7th edition
"RTN","ONCSG1A",181,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG1A",182,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",183,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1A",184,0)
 .I TNM=200 S SG="1B" Q     ;IB   T2    N0    M0
"RTN","ONCSG1A",185,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1A",186,0)
 .I TNM=110 S SG="2B" Q     ;IIB  T1    N1    M0
"RTN","ONCSG1A",187,0)
 .I TNM=210 S SG="2B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",188,0)
 .I TNM=310 S SG="2B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",189,0)
 .I T=4,M=0 S SG=3 Q        ;III  T4    Any N M0
"RTN","ONCSG1A",190,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1A",191,0)
 ;
"RTN","ONCSG1A",192,0)
EXO34 ;Exocrine Pancreas - 3rd and 4th editions
"RTN","ONCSG1A",193,0)
 S SG=99
"RTN","ONCSG1A",194,0)
 I M=1 S SG=4
"RTN","ONCSG1A",195,0)
 E  I M=0 D
"RTN","ONCSG1A",196,0)
 .I (T[1)!(T=2),N=0 S SG=1
"RTN","ONCSG1A",197,0)
 .E  I T=3,N=0 S SG=2
"RTN","ONCSG1A",198,0)
 .E  I N=1 S SG=3
"RTN","ONCSG1A",199,0)
 Q
"RTN","ONCSG1A",200,0)
 ;
"RTN","ONCSG1A",201,0)
EXO5 ;Exocrine Pancreas - 5th edition
"RTN","ONCSG1A",202,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG1A",203,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",204,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG1A",205,0)
 .I TNM=200 S SG=1 Q        ;     T2    N0    M0
"RTN","ONCSG1A",206,0)
 .I TNM=300 S SG=2 Q        ;II   T3    N0    M0
"RTN","ONCSG1A",207,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCSG1A",208,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG1A",209,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCSG1A",210,0)
 .I T=4,M=0 S SG="4A" Q     ;IVA  T4    Any N M0
"RTN","ONCSG1A",211,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG1A",212,0)
 ;
"RTN","ONCSG1A",213,0)
EXO6 ;Exocrine Pancreas - 6th and 7th edition
"RTN","ONCSG1A",214,0)
 S TNM=T_$E(N,1)_M D  K TNM Q
"RTN","ONCSG1A",215,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG1A",216,0)
 .I TNM=100 S SG="1A" Q     ;IA   T1    N0    M0
"RTN","ONCSG1A",217,0)
 .I TNM=200 S SG="1B" Q     ;IB   T2    N0    M0
"RTN","ONCSG1A",218,0)
 .I TNM=300 S SG="2A" Q     ;IIA  T3    N0    M0
"RTN","ONCSG1A",219,0)
 .I TNM=110 S SG="2B" Q     ;IIB  T1    N1    M0
"RTN","ONCSG1A",220,0)
 .I TNM=210 S SG="2B" Q     ;     T2    N1    M0
"RTN","ONCSG1A",221,0)
 .I TNM=310 S SG="2B" Q     ;     T3    N1    M0
"RTN","ONCSG1A",222,0)
 .I T=4,M=0 S SG=3 Q        ;III  T4    Any N M0
"RTN","ONCSG1A",223,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG1A",224,0)
 ;
"RTN","ONCSG1A",225,0)
CLEANUP ;Cleanup
"RTN","ONCSG1A",226,0)
 K M,N,T,TX
"RTN","ONCSG2")
0^329^B55673512
"RTN","ONCSG2",1,0)
ONCSG2 ;Hines OIFO/GWB - Automatic Staging Tables ;07/26/11
"RTN","ONCSG2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG2",3,0)
 ;
"RTN","ONCSG2",4,0)
 ;THORAX
"RTN","ONCSG2",5,0)
 ;
"RTN","ONCSG2",6,0)
LUN34 ;Lung - 3rd and 4th editions
"RTN","ONCSG2",7,0)
 S SG=99
"RTN","ONCSG2",8,0)
 I M=1 S SG=4
"RTN","ONCSG2",9,0)
 E  I M=0 D
"RTN","ONCSG2",10,0)
 .I T=4 S SG="3B"
"RTN","ONCSG2",11,0)
 .E  I N=3 S SG="3B"
"RTN","ONCSG2",12,0)
 .E  I N=2 S SG=$S(T=1:"3A",T=2:"3A",T=3:"3A",1:99)
"RTN","ONCSG2",13,0)
 .E  I N=1 S SG=$S(T=1:2,T=2:2,T=3:"3A",1:99)
"RTN","ONCSG2",14,0)
 .E  I N=0 S SG=$S(T="X":"OC",T="IS":0,T=1:1,T=2:1,T=3:"3A",1:99)
"RTN","ONCSG2",15,0)
 Q
"RTN","ONCSG2",16,0)
 ;
"RTN","ONCSG2",17,0)
LUN56 ;Lung - 5th and 6th editions
"RTN","ONCSG2",18,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",19,0)
 .I TNM="X00" S SG="OC" Q   ;Occult Tx    N0    M0
"RTN","ONCSG2",20,0)
 .I TNM="IS00" S SG=0 Q     ;0      Tis   N0    M0
"RTN","ONCSG2",21,0)
 .I TNM=100 S SG="1A" Q     ;IA     T1    N0    M0
"RTN","ONCSG2",22,0)
 .I TNM=200 S SG="1B" Q     ;IB     T2    N0    M0
"RTN","ONCSG2",23,0)
 .I TNM=110 S SG="2A" Q     ;IIA    T1    N1    M0
"RTN","ONCSG2",24,0)
 .I TNM=210 S SG="2B" Q     ;IIB    T2    N1    M0
"RTN","ONCSG2",25,0)
 .I TNM=300 S SG="2B" Q     ;       T3    N0    M0
"RTN","ONCSG2",26,0)
 .I TNM=120 S SG="3A" Q     ;IIIA   T1    N2    M0
"RTN","ONCSG2",27,0)
 .I TNM=220 S SG="3A" Q     ;       T2    N2    M0
"RTN","ONCSG2",28,0)
 .I TNM=310 S SG="3A" Q     ;       T3    N1    M0
"RTN","ONCSG2",29,0)
 .I TNM=320 S SG="3A" Q     ;       T3    N2    M0
"RTN","ONCSG2",30,0)
 .I N=3,M=0 S SG="3B" Q     ;IIIB   Any T N3    M0
"RTN","ONCSG2",31,0)
 .I T=4,M=0 S SG="3B" Q     ;       T4    Any N M0
"RTN","ONCSG2",32,0)
 .I M=1 S SG=4 Q            ;IV     Any T Any N M1
"RTN","ONCSG2",33,0)
 ;
"RTN","ONCSG2",34,0)
LUN7 ;Lung - 7th editions
"RTN","ONCSG2",35,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",36,0)
 .I TNM="X00" S SG="OC" Q   ;Occult Tx    N0    M0
"RTN","ONCSG2",37,0)
 .I TNM="IS00" S SG=0 Q     ;0      Tis   N0    M0
"RTN","ONCSG2",38,0)
 .I TNM="1A00" S SG="1A" Q  ;IA     T1a   N0    M0
"RTN","ONCSG2",39,0)
 .I TNM="1B00" S SG="1A" Q  ;       T1b   N0    M0
"RTN","ONCSG2",40,0)
 .I TNM="2A00" S SG="1B" Q  ;IB     T2a   N0    M0
"RTN","ONCSG2",41,0)
 .I TNM="2B00" S SG="2A" Q  ;IIA    T2a   N0    M0
"RTN","ONCSG2",42,0)
 .I TNM="1A10" S SG="2A" Q  ;       T1a   N1    M0
"RTN","ONCSG2",43,0)
 .I TNM="1B10" S SG="2A" Q  ;       T1b   N1    M0
"RTN","ONCSG2",44,0)
 .I TNM="2A10" S SG="2A" Q  ;       T2a   N1    M0
"RTN","ONCSG2",45,0)
 .I TNM="2B10" S SG="2B" Q  ;IIB    T2b   N1    M0
"RTN","ONCSG2",46,0)
 .I TNM=300 S SG="2B" Q     ;       T3    N0    M0
"RTN","ONCSG2",47,0)
 .I TNM="1A20" S SG="3A" Q  ;IIIA   T1a   N2    M0
"RTN","ONCSG2",48,0)
 .I TNM="1B20" S SG="3A" Q  ;       T1b   N2    M0
"RTN","ONCSG2",49,0)
 .I TNM="2A20" S SG="3A" Q  ;       T2a   N2    M0
"RTN","ONCSG2",50,0)
 .I TNM="2B20" S SG="3A" Q  ;       T2b   N2    M0
"RTN","ONCSG2",51,0)
 .I TNM=310 S SG="3A" Q     ;       T3    N1    M0
"RTN","ONCSG2",52,0)
 .I TNM=320 S SG="3A" Q     ;       T3    N2    M0
"RTN","ONCSG2",53,0)
 .I TNM=400 S SG="3A" Q     ;       T4    N0    M0
"RTN","ONCSG2",54,0)
 .I TNM=410 S SG="3A" Q     ;       T4    N1    M0
"RTN","ONCSG2",55,0)
 .I TNM="1A30" S SG="3B" Q  ;IIIB   T1a   N3    M0
"RTN","ONCSG2",56,0)
 .I TNM="1B30" S SG="3B" Q  ;       T1b   N3    M0
"RTN","ONCSG2",57,0)
 .I TNM="2A30" S SG="3B" Q  ;       T2a   N3    M0
"RTN","ONCSG2",58,0)
 .I TNM="2B30" S SG="3B" Q  ;       T2b   N3    M0
"RTN","ONCSG2",59,0)
 .I TNM=330 S SG="3B" Q     ;       T3    N3    M0
"RTN","ONCSG2",60,0)
 .I TNM=420 S SG="3B" Q     ;       T4    N2    M0
"RTN","ONCSG2",61,0)
 .I TNM=430 S SG="3B" Q     ;       T4    N3    M0
"RTN","ONCSG2",62,0)
 .I M=1 S SG=4 Q            ;IV     Any T Any N M1
"RTN","ONCSG2",63,0)
 .I M="1A" S SG=4 Q         ;       Any T Any N M1a
"RTN","ONCSG2",64,0)
 .I M="1B" S SG=4 Q         ;       Any T Any N M1b
"RTN","ONCSG2",65,0)
 ;
"RTN","ONCSG2",66,0)
PM45 ;Pleural Mesothelioma - 4th and 5th editions
"RTN","ONCSG2",67,0)
 I M S SG=4
"RTN","ONCSG2",68,0)
 E  I T[4,M[0 S SG=4
"RTN","ONCSG2",69,0)
 E  I N[3,M[0 S SG=4
"RTN","ONCSG2",70,0)
 E  I (T[1)!(T[2),N[0,M[0 S SG=1
"RTN","ONCSG2",71,0)
 E  I (T[1)!(T[2),N[1,M[0 S SG=2
"RTN","ONCSG2",72,0)
 E  I (T[1)!(T[2),N[2,M[0 S SG=3
"RTN","ONCSG2",73,0)
 E  I T[3,(N[0)!(N[1)!(N[2),M[0 S SG=3
"RTN","ONCSG2",74,0)
 E  S SG=99
"RTN","ONCSG2",75,0)
 Q
"RTN","ONCSG2",76,0)
 ;
"RTN","ONCSG2",77,0)
PM6 ;Pleural Mesothelioma - 6th and 7th edition
"RTN","ONCSG2",78,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",79,0)
 .I TNM=100 S SG=1 Q        ;I      T1    N0    M0
"RTN","ONCSG2",80,0)
 .I TNM="1A00" S SG="1A" Q  ;IA     T1a   N0    M0
"RTN","ONCSG2",81,0)
 .I TNM="1B00" S SG="1B" Q  ;IB     T1b   N0    M0
"RTN","ONCSG2",82,0)
 .I TNM=200 S SG=2 Q        ;II     T2    N0    M0
"RTN","ONCSG2",83,0)
 .I TNM=110 S SG=3 Q        ;III    T1    N1    M0
"RTN","ONCSG2",84,0)
 .I TNM=210 S SG=3 Q        ;       T2    N1    M0
"RTN","ONCSG2",85,0)
 .I TNM=120 S SG=3 Q        ;       T1    N2    M0
"RTN","ONCSG2",86,0)
 .I TNM=220 S SG=3 Q        ;       T2    N2    M0
"RTN","ONCSG2",87,0)
 .I TNM=300 S SG=3 Q        ;       T3    N0    M0
"RTN","ONCSG2",88,0)
 .I TNM=310 S SG=3 Q        ;       T3    N1    M0
"RTN","ONCSG2",89,0)
 .I TNM=320 S SG=3 Q        ;       T3    N2    M0
"RTN","ONCSG2",90,0)
 .I T=4,M=0 S SG=4 Q        ;IV     T4    Any N M0
"RTN","ONCSG2",91,0)
 .I N=3,M=0 S SG=4 Q        ;       Any T N3    M0
"RTN","ONCSG2",92,0)
 .I M=1 S SG=4 Q            ;       Any T Any N M1
"RTN","ONCSG2",93,0)
 ;
"RTN","ONCSG2",94,0)
 ;MUSCULOSKELETAL SITES
"RTN","ONCSG2",95,0)
 ;
"RTN","ONCSG2",96,0)
BONE345 ;Bone - 3rd, 4th and 5th editions
"RTN","ONCSG2",97,0)
 K SG
"RTN","ONCSG2",98,0)
 I M=1 S SG="4B"
"RTN","ONCSG2",99,0)
 E  I M=0 D
"RTN","ONCSG2",100,0)
 .I N=1 S SG="4A"
"RTN","ONCSG2",101,0)
 .E  I N=0 D BONLG
"RTN","ONCSG2",102,0)
 I '$D(SG) S SG=99
"RTN","ONCSG2",103,0)
 Q
"RTN","ONCSG2",104,0)
 ;
"RTN","ONCSG2",105,0)
BONLG ;Bone - 3rd, 4th and 5th editions (continued)
"RTN","ONCSG2",106,0)
 I (G=1)!(G=2) D
"RTN","ONCSG2",107,0)
 .I T=1 S SG="1A"
"RTN","ONCSG2",108,0)
 .E  I T=2 S SG="1B"
"RTN","ONCSG2",109,0)
 E  I (G=3)!(G=4) D
"RTN","ONCSG2",110,0)
 .I T=1 S SG="2A"
"RTN","ONCSG2",111,0)
 .E  I T=2 S SG="2B"
"RTN","ONCSG2",112,0)
 Q
"RTN","ONCSG2",113,0)
 ;
"RTN","ONCSG2",114,0)
BONE6 ;Bone - 6th edition
"RTN","ONCSG2",115,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",116,0)
 .I ((G=1)!(G=2))&(TNM=100) S SG="1A" Q  ;IA  T1    N0    M0    G1,2
"RTN","ONCSG2",117,0)
 .I ((G=1)!(G=2))&(TNM=200) S SG="1B" Q  ;IB  T2    N0    M0    G1,2
"RTN","ONCSG2",118,0)
 .I ((G=3)!(G=4))&(TNM=100) S SG="2A" Q  ;IIA T1    N0    M0    G3,4
"RTN","ONCSG2",119,0)
 .I ((G=3)!(G=4))&(TNM=200) S SG="2B" Q  ;IIB T2    N0    M0    G3,4
"RTN","ONCSG2",120,0)
 .I TNM=300 S SG=3 Q                     ;III T3    N0    M0    Any G
"RTN","ONCSG2",121,0)
 .I N=0,M="1A" S SG="4A" Q               ;IVA Any T N0    M1a   Any G
"RTN","ONCSG2",122,0)
 .I N=1 S SG="4B" Q                      ;IVB Any T N1    Any M Any G
"RTN","ONCSG2",123,0)
 .I M="1B" S SG="4B" Q                   ;    Any T Any N M1b   Any G
"RTN","ONCSG2",124,0)
 ;
"RTN","ONCSG2",125,0)
BONE7 ;Bone - 7th edition
"RTN","ONCSG2",126,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",127,0)
 .I ((G=1)!(G=2))&(TNM=100) S SG="1A" Q  ;IA  T1    N0    M0    G1,2
"RTN","ONCSG2",128,0)
 .I ((G=1)!(G=2))&(TNM=200) S SG="1B" Q  ;IB  T2    N0    M0    G1,2
"RTN","ONCSG2",129,0)
 .I ((G=1)!(G=2))&(TNM=300) S SG="1B" Q  ;IB  T3    N0    M0    G1,2
"RTN","ONCSG2",130,0)
 .I ((G=3)!(G=4))&(TNM=100) S SG="2A" Q  ;IIA T1    N0    M0    G3,4
"RTN","ONCSG2",131,0)
 .I ((G=3)!(G=4))&(TNM=200) S SG="2B" Q  ;IIB T2    N0    M0    G3,4
"RTN","ONCSG2",132,0)
 .I ((G=3)!(G=4))&(TNM=300) S SG=3 Q     ;III T3    N0    M0    G3,4
"RTN","ONCSG2",133,0)
 .I N=0,M="1A" S SG="4A" Q               ;IVA Any T N0    M1a   Any G
"RTN","ONCSG2",134,0)
 .I N=1 S SG="4B" Q                      ;IVB Any T N1    Any M Any G
"RTN","ONCSG2",135,0)
 .I M="1B" S SG="4B" Q                   ;    Any T Any N M1b   Any G
"RTN","ONCSG2",136,0)
 ;
"RTN","ONCSG2",137,0)
STS34 ;Soft Tissue Sarcoma - 3rd and 4th editions
"RTN","ONCSG2",138,0)
 I $E(M)=1 S SG="4B"
"RTN","ONCSG2",139,0)
 E  I $E(M)=0 D
"RTN","ONCSG2",140,0)
 .I $E(N)=1 S SG="4A"
"RTN","ONCSG2",141,0)
 .E  I $E(N)=0,(G=1)!(G=2)!(G=3)!(G=4),(T=1)!(T=2) S SG=$S(G=1:1,G=2:2,1:3)_$S(T=1:"A",1:"B")
"RTN","ONCSG2",142,0)
 I '$D(SG) S SG=99
"RTN","ONCSG2",143,0)
 Q
"RTN","ONCSG2",144,0)
 ;
"RTN","ONCSG2",145,0)
STS5 ;Soft Tissue Sarcoma - 5th edition
"RTN","ONCSG2",146,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",147,0)
 .I ((G=1)!(G=2))&(TNM="1A00") S SG="1A" Q  ;IA  G1-2  T1a   N0 M0
"RTN","ONCSG2",148,0)
 .I ((G=1)!(G=2))&(TNM="1B00") S SG="1A" Q  ;          T1b   N0 M0
"RTN","ONCSG2",149,0)
 .I ((G=1)!(G=2))&(TNM="2A00") S SG="1B" Q  ;IB  G1-2  T2a   N0 M0
"RTN","ONCSG2",150,0)
 .I ((G=1)!(G=2))&(TNM="2B00") S SG="2A" Q  ;IIA G1-2  T2b   N0 M0
"RTN","ONCSG2",151,0)
 .I ((G=3)!(G=4))&(TNM="1A00") S SG="2B" Q  ;IIB G3-4  T1a   N0 M0
"RTN","ONCSG2",152,0)
 .I ((G=3)!(G=4))&(TNM="1B00") S SG="2B" Q  ;          T1b   N0 M0
"RTN","ONCSG2",153,0)
 .I ((G=3)!(G=4))&(TNM="2A00") S SG="2C" Q  ;IIC G3-4  T2a   N0 M0
"RTN","ONCSG2",154,0)
 .I ((G=3)!(G=4))&(TNM="2B00") S SG=3 Q     ;III G3-4  T2b   N0 M0
"RTN","ONCSG2",155,0)
 .I N=1,M=0 S SG=4 Q                        ;IV  Any G Any T N1 M0
"RTN","ONCSG2",156,0)
 .I N=0,M=1 S SG=4 Q                        ;IV  Any G Any T N0 M1
"RTN","ONCSG2",157,0)
 .I N=1,M=1 S SG=4 Q                        ;IV  Any G Any T N1 M1
"RTN","ONCSG2",158,0)
 ;
"RTN","ONCSG2",159,0)
STS6 ;Soft Tissue Sarcoma - 6th edition
"RTN","ONCSG2",160,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",161,0)
 .I ((G=1)!(G=2))&(TNM="1A00") S SG="1A" Q  ;IA   T1a   N0 M0 G1-2
"RTN","ONCSG2",162,0)
 .I ((G=1)!(G=2))&(TNM="1AX0") S SG="1A" Q  ;     T1a   NX M0 G1-2
"RTN","ONCSG2",163,0)
 .I ((G=1)!(G=2))&(TNM="1B00") S SG="1A" Q  ;     T1b   N0 M0 G1-2
"RTN","ONCSG2",164,0)
 .I ((G=1)!(G=2))&(TNM="1BX0") S SG="1A" Q  ;     T1b   NX M0 G1-2
"RTN","ONCSG2",165,0)
 .I ((G=1)!(G=2))&(TNM="2A00") S SG="1B" Q  ;IB   T2a   N0 M0 G1-2
"RTN","ONCSG2",166,0)
 .I ((G=1)!(G=2))&(TNM="2AX0") S SG="1B" Q  ;     T2a   NX M0 G1-2
"RTN","ONCSG2",167,0)
 .I ((G=1)!(G=2))&(TNM="2B00") S SG="1B" Q  ;     T2b   N0 M0 G1-2
"RTN","ONCSG2",168,0)
 .I ((G=1)!(G=2))&(TNM="2BX0") S SG="1B" Q  ;     T2b   NX M0 G1-2
"RTN","ONCSG2",169,0)
 .I ((G=3)!(G=4))&(TNM="1A00") S SG="2A" Q  ;IIA  T1a   N0 M0 G3-4
"RTN","ONCSG2",170,0)
 .I ((G=3)!(G=4))&(TNM="1AX0") S SG="2A" Q  ;     T1a   NX M0 G3-4
"RTN","ONCSG2",171,0)
 .I ((G=3)!(G=4))&(TNM="1B00") S SG="2A" Q  ;     T1b   N0 M0 G3-4
"RTN","ONCSG2",172,0)
 .I ((G=3)!(G=4))&(TNM="1BX0") S SG="2A" Q  ;     T1b   NX M0 G3-4
"RTN","ONCSG2",173,0)
 .I ((G=3)!(G=4))&(TNM="2A00") S SG="2B" Q  ;IIB  T2a   N0 M0 G3-4
"RTN","ONCSG2",174,0)
 .I ((G=3)!(G=4))&(TNM="2AX0") S SG="2B" Q  ;     T2a   NX M0 G3-4
"RTN","ONCSG2",175,0)
 .I ((G=3)!(G=4))&(TNM="2B00") S SG=3 Q     ;III  T2b   N0 M0 G3-4
"RTN","ONCSG2",176,0)
 .I ((G=3)!(G=4))&(TNM="2BX0") S SG=3 Q     ;     T2b   NX M0 G3-4
"RTN","ONCSG2",177,0)
 .I N=1,M=0 S SG=4 Q                        ;IV   Any T N1 M0 Any G
"RTN","ONCSG2",178,0)
 .I N=0,M=1 S SG=4 Q                        ;     Any T N0 M1 Any G
"RTN","ONCSG2",179,0)
 .I N=1,M=1 S SG=4 Q                        ;     Any T N1 M1 Any G
"RTN","ONCSG2",180,0)
 ;
"RTN","ONCSG2",181,0)
STS7 ;Soft Tissue Sarcoma - 7th edition
"RTN","ONCSG2",182,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG2",183,0)
 .I ((G=1)!(G=9))&(TNM="1A00") S SG="1A" Q  ;IA   T1a   N0    M0 G1,GX
"RTN","ONCSG2",184,0)
 .I ((G=1)!(G=9))&(TNM="1B00") S SG="1A" Q  ;     T1b   N0    M0 G1,GX
"RTN","ONCSG2",185,0)
 .I ((G=1)!(G=9))&(TNM="2A00") S SG="1B" Q  ;IB   T2a   N0    M0 G1,GX
"RTN","ONCSG2",186,0)
 .I ((G=1)!(G=9))&(TNM="2B00") S SG="1B" Q  ;     T2b   N0    M0 G1,GX
"RTN","ONCSG2",187,0)
 .I ((G=2)!(G=3))&(TNM="1A00") S SG="2A" Q  ;IIA  T1a   N0    M0 G2,3
"RTN","ONCSG2",188,0)
 .I ((G=2)!(G=3))&(TNM="1B00") S SG="2A" Q  ;     T1b   N0    M0 G2,3
"RTN","ONCSG2",189,0)
 .I G=2,TNM="2A00" S SG="2B" Q              ;IIB  T2a   N0    M0 G2
"RTN","ONCSG2",190,0)
 .I G=2,TNM="2B00" S SG="2B" Q              ;     T2b   N0    M0 G2
"RTN","ONCSG2",191,0)
 .I G=3,TNM="2A00" S SG=3 Q                 ;III  T2a   N0    M0 G3
"RTN","ONCSG2",192,0)
 .I G=3,TNM="2B00" S SG=3 Q                 ;     T2b   N0    M0 G3
"RTN","ONCSG2",193,0)
 .I N=1,M=0 S SG=3 Q                        ;     Any T N1    M0 Any G
"RTN","ONCSG2",194,0)
 .I M=1 S SG=4 Q                            ;IV   Any T Any N M1 Any G
"RTN","ONCSG2",195,0)
 ;
"RTN","ONCSG2",196,0)
CLEANUP ;Cleanup
"RTN","ONCSG2",197,0)
 K G,M,N,T
"RTN","ONCSG3")
0^330^B70543239
"RTN","ONCSG3",1,0)
ONCSG3 ;Hines OIFO/GWB - Automatic Staging Tables ;02/23/11
"RTN","ONCSG3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG3",3,0)
 ;
"RTN","ONCSG3",4,0)
 ;SKIN
"RTN","ONCSG3",5,0)
 ;
"RTN","ONCSG3",6,0)
CS ;Carcinoma of the Skin - 3rd, 4th, 5th and 6th editions
"RTN","ONCSG3",7,0)
 K SG
"RTN","ONCSG3",8,0)
 I $E(M)=1 S SG=4
"RTN","ONCSG3",9,0)
 E  I $E(M)=0 D SKNRP
"RTN","ONCSG3",10,0)
 I '$D(SG) S SG=99
"RTN","ONCSG3",11,0)
 Q
"RTN","ONCSG3",12,0)
SKNRP ;Carcinoma of the Skin
"RTN","ONCSG3",13,0)
 I $E(N)=1 S SG=3
"RTN","ONCSG3",14,0)
 E  I $E(N)=0 D
"RTN","ONCSG3",15,0)
 .I T="IS" S SG=0
"RTN","ONCSG3",16,0)
 .E  I T=1 S SG=1
"RTN","ONCSG3",17,0)
 .E  I (T=2)!(T=3) S SG=2
"RTN","ONCSG3",18,0)
 .E  I T=4 S SG=3
"RTN","ONCSG3",19,0)
 Q
"RTN","ONCSG3",20,0)
 ;
"RTN","ONCSG3",21,0)
CSC ;Cutaneous Squamous Cell/Other Cutaneous Carcinoma - 7th edition
"RTN","ONCSG3",22,0)
 I $E(HT,1,4)=8247,ONCOED=7 G MCC
"RTN","ONCSG3",23,0)
 S TNM=T_$E(N,1)_M
"RTN","ONCSG3",24,0)
 D  K TNM Q
"RTN","ONCSG3",25,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG3",26,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG3",27,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG3",28,0)
 .I TNM=300 S SG=3 Q        ;III  T3    N0    M0
"RTN","ONCSG3",29,0)
 .I TNM=110 S SG=3 Q        ;     T1    N1    M0
"RTN","ONCSG3",30,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG3",31,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCSG3",32,0)
 .I TNM=120 S SG=4 Q        ;IV   T1    N2    M0
"RTN","ONCSG3",33,0)
 .I TNM=220 S SG=4 Q        ;     T2    N2    M0
"RTN","ONCSG3",34,0)
 .I TNM=320 S SG=4 Q        ;     T3    N2    M0
"RTN","ONCSG3",35,0)
 .I N=3,M=0 S SG=4 Q        ;     Any T N3    M0
"RTN","ONCSG3",36,0)
 .I T=4,M=0 S SG=4 Q        ;     T4    Any N M0
"RTN","ONCSG3",37,0)
 .I M=1 S SG=4 Q            ;     Any T Any N M1
"RTN","ONCSG3",38,0)
 ;
"RTN","ONCSG3",39,0)
MCC ;Merkel Cell Carcinoma - 7th edition
"RTN","ONCSG3",40,0)
 I STGIND="C" D MCCC Q
"RTN","ONCSG3",41,0)
 I STGIND="P" D MCCP Q
"RTN","ONCSG3",42,0)
 Q
"RTN","ONCSG3",43,0)
 ;
"RTN","ONCSG3",44,0)
MCCC ;Merkel Cell Carcinoma - 7th edition (Clinical Stage Grouping)
"RTN","ONCSG3",45,0)
 S TNM=T_N_$E(M,1)
"RTN","ONCSG3",46,0)
 D  K TNM Q
"RTN","ONCSG3",47,0)
 .I TNM="IS00" S SG=0 Q        ;0    Tis   N0    M0
"RTN","ONCSG3",48,0)
 .I TNM=100 S SG="1B" Q        ;IB   T1    N0    M0
"RTN","ONCSG3",49,0)
 .I TNM=200 S SG="2B" Q        ;IIB  T2    N0    M0
"RTN","ONCSG3",50,0)
 .I TNM=300 S SG="2B" Q        ;     T3    N0    M0
"RTN","ONCSG3",51,0)
 .I TNM=400 S SG="2C" Q        ;IIC  T4    N0    M0
"RTN","ONCSG3",52,0)
 .I N="1A",M=0 S SG="3A" Q     ;IIIA Any T N1a   M0
"RTN","ONCSG3",53,0)
 .I N=1,M=0 S SG="3B" Q        ;IIIB Any T N1    M0
"RTN","ONCSG3",54,0)
 .I N="1B",M=0 S SG="3B" Q     ;     Any T N1b   M0
"RTN","ONCSG3",55,0)
 .I N=2,M=0 S SG="3B" Q        ;     Any T N2    M0
"RTN","ONCSG3",56,0)
 .I $E(M,1)=1 S SG=4 Q         ;IV   Any T Any N M1
"RTN","ONCSG3",57,0)
 ;
"RTN","ONCSG3",58,0)
MCCP ;Merkel Cell Carcinoma - 7th edition (Pathologic Stage Grouping)
"RTN","ONCSG3",59,0)
 N CLINN
"RTN","ONCSG3",60,0)
 S CLINN=$P($G(^ONCO(165.5,D0,2)),U,26)
"RTN","ONCSG3",61,0)
 S TNM=T_N_$E(M,1)
"RTN","ONCSG3",62,0)
 D  K TNM Q
"RTN","ONCSG3",63,0)
 .I TNM="IS00" S SG=0 Q                    ;0    Tis   N0    M0
"RTN","ONCSG3",64,0)
 .I TNM=100 S SG="1A" Q                    ;IA   T1    pN0   M0
"RTN","ONCSG3",65,0)
 .I T=1,N="X",CLINN=0,M=0 S SG="1B" Q      ;IB   T1    cN0   M0
"RTN","ONCSG3",66,0)
 .I TNM=200 S SG="2A" Q                    ;IIA  T2    pN0   M0
"RTN","ONCSG3",67,0)
 .I TNM=300 S SG="2A" Q                    ;     T3    pN0   M0
"RTN","ONCSG3",68,0)
 .I T=2,N="X",CLINN=0,M=0 S SG="2B" Q      ;IIB  T2    cN0   M0
"RTN","ONCSG3",69,0)
 .I T=3,N="X",CLINN=0,M=0 S SG="2B" Q      ;     T3    cN0   M0
"RTN","ONCSG3",70,0)
 .I TNM=400 S SG="2C" Q                    ;IIC  T4    N0    M0
"RTN","ONCSG3",71,0)
 .I N="1A",M=0 S SG="3A" Q                 ;IIIA Any T N1a   M0
"RTN","ONCSG3",72,0)
 .I N="1B",M=0 S SG="3B" Q                 ;IIIB Any T N1b   M0
"RTN","ONCSG3",73,0)
 .I M=1 S SG=4 Q                           ;IV   Any T Any N M1
"RTN","ONCSG3",74,0)
 ;
"RTN","ONCSG3",75,0)
MMS3 ;Melanoma of the Skin - 3rd edition
"RTN","ONCSG3",76,0)
 I M[1 S SG=4
"RTN","ONCSG3",77,0)
 E  I (T[1)!(T[2)!(T[3),N[0,M[0 S SG=+T
"RTN","ONCSG3",78,0)
 E  I N,M[0 S SG=3
"RTN","ONCSG3",79,0)
 E  S SG=99
"RTN","ONCSG3",80,0)
 Q
"RTN","ONCSG3",81,0)
 ;
"RTN","ONCSG3",82,0)
MMS4 ;Malignant Melanoma of the Skin - 4th edition
"RTN","ONCSG3",83,0)
 S SG=99
"RTN","ONCSG3",84,0)
 I M[1 S SG=4
"RTN","ONCSG3",85,0)
 E  I (N[1)!(N[2),M[0 S SG=3
"RTN","ONCSG3",86,0)
 E  I N[0,M[0 S SG=$S((T[3)!(T[4):2,(T[1)!(T[2):1,T["IS":0,1:99)
"RTN","ONCSG3",87,0)
 Q
"RTN","ONCSG3",88,0)
 ;
"RTN","ONCSG3",89,0)
MMS5 ;Malignant Melanoma of the Skin - 5th edition
"RTN","ONCSG3",90,0)
 I T="IS" S TNM=T_$E(N,1)_$E(M,1)
"RTN","ONCSG3",91,0)
 E  S TNM=$E(T,1)_$E(N,1)_$E(M,1)
"RTN","ONCSG3",92,0)
 D  K TNM Q
"RTN","ONCSG3",93,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG3",94,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG3",95,0)
 .I TNM=200 S SG=1 Q        ;     T2    N0    M0
"RTN","ONCSG3",96,0)
 .I TNM=300 S SG=2 Q        ;II   T3    N0    M0
"RTN","ONCSG3",97,0)
 .I TNM=400 S SG=3 Q        ;III  T4    N0    M0
"RTN","ONCSG3",98,0)
 .I $E(N,1)=1,M=0 S SG=3 Q  ;     Any T N1    M0
"RTN","ONCSG3",99,0)
 .I $E(N,1)=2,M=0 S SG=3 Q  ;     Any T N2    M0
"RTN","ONCSG3",100,0)
 .I $E(M,1)=1 S SG=4 Q      ;IV   Any T Any N M1
"RTN","ONCSG3",101,0)
 ;
"RTN","ONCSG3",102,0)
MMS6 ;Melanoma of the Skin - 6th edition
"RTN","ONCSG3",103,0)
 I STGIND="C" D MMS6C Q
"RTN","ONCSG3",104,0)
 I STGIND="P" D MMS6P Q
"RTN","ONCSG3",105,0)
 Q
"RTN","ONCSG3",106,0)
 ;
"RTN","ONCSG3",107,0)
MMS6C ;Melanoma of the Skin - 6th edition (Clinical Stage Grouping)
"RTN","ONCSG3",108,0)
 S TNM=T_$E(N,1)_$E(M,1)
"RTN","ONCSG3",109,0)
 D  K TNM Q
"RTN","ONCSG3",110,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG3",111,0)
 .I TNM="1A00" S SG="1A" Q  ;IA   T1a   N0    M0
"RTN","ONCSG3",112,0)
 .I TNM="1B00" S SG="1B" Q  ;IB   T1b   N0    M0
"RTN","ONCSG3",113,0)
 .I TNM="2A00" S SG="1B" Q  ;     T2a   N0    M0
"RTN","ONCSG3",114,0)
 .I TNM="2B00" S SG="2A" Q  ;IIA  T2b   N0    M0
"RTN","ONCSG3",115,0)
 .I TNM="3A00" S SG="2A" Q  ;     T3a   N0    M0
"RTN","ONCSG3",116,0)
 .I TNM="3B00" S SG="2B" Q  ;IIB  T3b   N0    M0
"RTN","ONCSG3",117,0)
 .I TNM="4A00" S SG="2B" Q  ;     T4a   N0    M0
"RTN","ONCSG3",118,0)
 .I TNM="4B00" S SG="2C" Q  ;IIC  T4b   N0    M0
"RTN","ONCSG3",119,0)
 .I $E(N,1)=1,M=0 S SG=3 Q  ;III  Any T N1    M0
"RTN","ONCSG3",120,0)
 .I $E(N,1)=2,M=0 S SG=3 Q  ;     Any T N2    M0
"RTN","ONCSG3",121,0)
 .I $E(N,1)=3,M=0 S SG=3 Q  ;     Any T N3    M0
"RTN","ONCSG3",122,0)
 .I $E(M,1)=1 S SG=4 Q      ;IV   Any T Any N M1
"RTN","ONCSG3",123,0)
 ;
"RTN","ONCSG3",124,0)
MMS6P ;Melanoma of the Skin - 6th edition (Pathologic Stage Grouping)
"RTN","ONCSG3",125,0)
 S TNM=T_N_$E(M,1)
"RTN","ONCSG3",126,0)
 D  K TNM Q
"RTN","ONCSG3",127,0)
 .I TNM="IS00" S SG=0 Q      ;0    Tis   N0    M0
"RTN","ONCSG3",128,0)
 .I TNM="1A00" S SG="1A" Q   ;IA   T1a   N0    M0
"RTN","ONCSG3",129,0)
 .I TNM="1B00" S SG="1B" Q   ;IB   T1b   N0    M0
"RTN","ONCSG3",130,0)
 .I TNM="2A00" S SG="1B" Q   ;     T2a   N0    M0
"RTN","ONCSG3",131,0)
 .I TNM="2B00" S SG="2A" Q   ;IIA  T2b   N0    M0
"RTN","ONCSG3",132,0)
 .I TNM="3A00" S SG="2A" Q   ;     T3a   N0    M0
"RTN","ONCSG3",133,0)
 .I TNM="3B00" S SG="2B" Q   ;IIB  T3b   N0    M0
"RTN","ONCSG3",134,0)
 .I TNM="4A00" S SG="2B" Q   ;     T4a   N0    M0
"RTN","ONCSG3",135,0)
 .I TNM="4B00" S SG="2C" Q   ;IIC  T4b   N0    M0
"RTN","ONCSG3",136,0)
 .I TNM="1A1A0" S SG="3A" Q  ;IIIA T1a   N1a   M0
"RTN","ONCSG3",137,0)
 .I TNM="2A1A0" S SG="3A" Q  ;     T2a   N1a   M0
"RTN","ONCSG3",138,0)
 .I TNM="3A1A0" S SG="3A" Q  ;     T3a   N1a   M0
"RTN","ONCSG3",139,0)
 .I TNM="4A1A0" S SG="3A" Q  ;     T4a   N1a   M0
"RTN","ONCSG3",140,0)
 .I TNM="1A2A0" S SG="3A" Q  ;     T1a   N2a   M0
"RTN","ONCSG3",141,0)
 .I TNM="2A2A0" S SG="3A" Q  ;     T2a   N2a   M0
"RTN","ONCSG3",142,0)
 .I TNM="3A2A0" S SG="3A" Q  ;     T3a   N2a   M0
"RTN","ONCSG3",143,0)
 .I TNM="4A2A0" S SG="3A" Q  ;     T4a   N2a   M0
"RTN","ONCSG3",144,0)
 .I TNM="1B1A0" S SG="3B" Q  ;IIIB T1b   N1a   M0
"RTN","ONCSG3",145,0)
 .I TNM="2B1A0" S SG="3B" Q  ;     T2b   N1a   M0
"RTN","ONCSG3",146,0)
 .I TNM="3B1A0" S SG="3B" Q  ;     T3b   N1a   M0
"RTN","ONCSG3",147,0)
 .I TNM="4B1A0" S SG="3B" Q  ;     T4b   N1a   M0
"RTN","ONCSG3",148,0)
 .I TNM="1B2A0" S SG="3B" Q  ;     T1b   N2a   M0
"RTN","ONCSG3",149,0)
 .I TNM="2B2A0" S SG="3B" Q  ;     T2b   N2a   M0
"RTN","ONCSG3",150,0)
 .I TNM="3B2A0" S SG="3B" Q  ;     T3b   N2a   M0
"RTN","ONCSG3",151,0)
 .I TNM="4B2A0" S SG="3B" Q  ;     T4b   N2a   M0
"RTN","ONCSG3",152,0)
 .I TNM="1A1B0" S SG="3B" Q  ;     T1a   N1b   M0
"RTN","ONCSG3",153,0)
 .I TNM="2A1B0" S SG="3B" Q  ;     T2a   N1b   M0
"RTN","ONCSG3",154,0)
 .I TNM="3A1B0" S SG="3B" Q  ;     T3a   N1b   M0
"RTN","ONCSG3",155,0)
 .I TNM="4A1B0" S SG="3B" Q  ;     T4a   N1b   M0
"RTN","ONCSG3",156,0)
 .I TNM="1A2B0" S SG="3B" Q  ;     T1a   N2b   M0
"RTN","ONCSG3",157,0)
 .I TNM="2A2B0" S SG="3B" Q  ;     T2a   N2b   M0
"RTN","ONCSG3",158,0)
 .I TNM="3A2B0" S SG="3B" Q  ;     T3a   N2b   M0
"RTN","ONCSG3",159,0)
 .I TNM="4A2B0" S SG="3B" Q  ;     T4a   N2b   M0
"RTN","ONCSG3",160,0)
 .I TNM="1A2C0" S SG="3B" Q  ;     T1a   N2c   M0
"RTN","ONCSG3",161,0)
 .I TNM="2A2C0" S SG="3B" Q  ;     T2a   N2c   M0
"RTN","ONCSG3",162,0)
 .I TNM="3A2C0" S SG="3B" Q  ;     T3a   N2c   M0
"RTN","ONCSG3",163,0)
 .I TNM="4A2C0" S SG="3B" Q  ;     T4a   N2c   M0
"RTN","ONCSG3",164,0)
 .I TNM="1B2C0" S SG="3B" Q  ;     T1b   N2c   M0
"RTN","ONCSG3",165,0)
 .I TNM="2B2C0" S SG="3B" Q  ;     T2b   N2c   M0
"RTN","ONCSG3",166,0)
 .I TNM="3B2C0" S SG="3B" Q  ;     T3b   N2c   M0
"RTN","ONCSG3",167,0)
 .I TNM="4B2C0" S SG="3B" Q  ;     T4b   N2c   M0
"RTN","ONCSG3",168,0)
 .I TNM="1B1B0" S SG="3C" Q  ;IIIC T1b   N1b   M0
"RTN","ONCSG3",169,0)
 .I TNM="2B1B0" S SG="3C" Q  ;     T2b   N1b   M0
"RTN","ONCSG3",170,0)
 .I TNM="3B1B0" S SG="3C" Q  ;     T3b   N1b   M0
"RTN","ONCSG3",171,0)
 .I TNM="4B1B0" S SG="3C" Q  ;     T4b   N1b   M0
"RTN","ONCSG3",172,0)
 .I TNM="1B2B0" S SG="3C" Q  ;     T1b   N2b   M0
"RTN","ONCSG3",173,0)
 .I TNM="2B2B0" S SG="3C" Q  ;     T2b   N2b   M0
"RTN","ONCSG3",174,0)
 .I TNM="3B2B0" S SG="3C" Q  ;     T3b   N2b   M0
"RTN","ONCSG3",175,0)
 .I TNM="4B2B0" S SG="3C" Q  ;     T4b   N2b   M0
"RTN","ONCSG3",176,0)
 .I N=3,M=0 S SG="3C" Q      ;     Any T N3    M0
"RTN","ONCSG3",177,0)
 .I $E(M,1)=1 S SG=4 Q       ;IV   Any T Any N M1
"RTN","ONCSG3",178,0)
 ;
"RTN","ONCSG3",179,0)
 ;BREAST
"RTN","ONCSG3",180,0)
 ;
"RTN","ONCSG3",181,0)
BRST345 ;Breast - 3rd, 4th and 5th editions 
"RTN","ONCSG3",182,0)
 I $E(M)=1 S SG=4
"RTN","ONCSG3",183,0)
 E  I ($E(N)=3)!($E(T)=4),$E(M)=0 S SG="3B"
"RTN","ONCSG3",184,0)
 E  I $E(T,1,2)="IS",$E(N)=0,$E(M)=0 S SG=0
"RTN","ONCSG3",185,0)
 E  I $E(T)=1,$E(N)=0,$E(M)=0 S SG=1
"RTN","ONCSG3",186,0)
 E  I ($E(T)=0)!($E(T)=1),$E(N)=1,$E(M)=0 S SG="2A"
"RTN","ONCSG3",187,0)
 E  I $E(T)=2,$E(N)=0,$E(M)=0 S SG="2A"
"RTN","ONCSG3",188,0)
 E  I $E(T)=2,$E(N)=1,$E(M)=0 S SG="2B"
"RTN","ONCSG3",189,0)
 E  I $E(T)=3,$E(N)=0,$E(M)=0 S SG="2B"
"RTN","ONCSG3",190,0)
 E  I ($E(T)=0)!($E(T)=1)!($E(T)=2)!($E(T)=3),$E(N)=2,$E(M)=0 S SG="3A"
"RTN","ONCSG3",191,0)
 E  I $E(T)=3,$E(N)=1,$E(M)=0 S SG="3A"
"RTN","ONCSG3",192,0)
 E  S SG=99
"RTN","ONCSG3",193,0)
 Q
"RTN","ONCSG3",194,0)
 ;
"RTN","ONCSG3",195,0)
BRST6 ;Breast - 6th edition 
"RTN","ONCSG3",196,0)
 I T="IS" S TNM=T_$E(N,1)_$E(M,1)
"RTN","ONCSG3",197,0)
 E  S TNM=$E(T,1)_$E(N,1)_$E(M,1)
"RTN","ONCSG3",198,0)
 S N=$E(N,1)
"RTN","ONCSG3",199,0)
 D  K TNM Q
"RTN","ONCSG3",200,0)
 .I TNM="IS00" S SG=0 Q       ;0    Tis   N0    M0
"RTN","ONCSG3",201,0)
 .I TNM=100 S SG=1 Q          ;I    T1    N0    M0
"RTN","ONCSG3",202,0)
 .I TNM="010" S SG="2A" Q     ;IIA  T0    N1    M0
"RTN","ONCSG3",203,0)
 .I TNM=110 S SG="2A" Q       ;     T1    N1    M0
"RTN","ONCSG3",204,0)
 .I TNM=200 S SG="2A" Q       ;     T2    N0    M0
"RTN","ONCSG3",205,0)
 .I TNM=210 S SG="2B" Q       ;IIB  T2    N1    M0
"RTN","ONCSG3",206,0)
 .I TNM=300 S SG="2B" Q       ;     T3    N0    M0
"RTN","ONCSG3",207,0)
 .I TNM="020" S SG="3A" Q     ;IIIA T0    N2    M0
"RTN","ONCSG3",208,0)
 .I TNM=120 S SG="3A" Q       ;     T1    N2    M0
"RTN","ONCSG3",209,0)
 .I TNM=220 S SG="3A" Q       ;     T2    N2    M0
"RTN","ONCSG3",210,0)
 .I TNM=310 S SG="3A" Q       ;     T3    N1    M0
"RTN","ONCSG3",211,0)
 .I TNM=320 S SG="3A" Q       ;     T3    N2    M0
"RTN","ONCSG3",212,0)
 .I TNM=400 S SG="3B" Q       ;IIIB T4    N0    M0
"RTN","ONCSG3",213,0)
 .I TNM=410 S SG="3B" Q       ;     T4    N1    M0
"RTN","ONCSG3",214,0)
 .I TNM=420 S SG="3B" Q       ;     T4    N2    M0
"RTN","ONCSG3",215,0)
 .I N=3,M=0 S SG="3C" Q       ;IIIC Any T N3    M0
"RTN","ONCSG3",216,0)
 .I M=1 S SG=4 Q              ;IV   Any T Any N M1
"RTN","ONCSG3",217,0)
 ;
"RTN","ONCSG3",218,0)
BRST7 ;Breast - 7th edition 
"RTN","ONCSG3",219,0)
 I T="IS" S TNM=T_$E(N,1)_$E(M,1)
"RTN","ONCSG3",220,0)
 E  S TNM=$E(T,1)_$E(N,1)_$E(M,1)
"RTN","ONCSG3",221,0)
 D  K TNM Q
"RTN","ONCSG3",222,0)
 .I TNM="IS00" S SG=0 Q          ;0    Tis   N0    M0
"RTN","ONCSG3",223,0)
 .I TNM=100 S SG="1A" Q          ;IA   T1    N0    M0
"RTN","ONCSG3",224,0)
 .I T=0,N="1MI",M=0 S SG="1B" Q  ;IB   T0    N1mi  M0
"RTN","ONCSG3",225,0)
 .I T=1,N="1MI",M=0 S SG="1B" Q  ;     T1    N1mi  M0
"RTN","ONCSG3",226,0)
 .I TNM="010" S SG="2A" Q        ;IIA  T0    N1    M0
"RTN","ONCSG3",227,0)
 .I TNM=110 S SG="2A" Q          ;     T1    N1    M0
"RTN","ONCSG3",228,0)
 .I TNM=200 S SG="2A" Q          ;     T2    N0    M0
"RTN","ONCSG3",229,0)
 .I TNM=210 S SG="2B" Q          ;IIB  T2    N1    M0
"RTN","ONCSG3",230,0)
 .I TNM=300 S SG="2B" Q          ;     T3    N0    M0
"RTN","ONCSG3",231,0)
 .I TNM="020" S SG="3A" Q        ;IIIA T0    N2    M0
"RTN","ONCSG3",232,0)
 .I TNM=120 S SG="3A" Q          ;     T1    N2    M0
"RTN","ONCSG3",233,0)
 .I TNM=220 S SG="3A" Q          ;     T2    N2    M0
"RTN","ONCSG3",234,0)
 .I TNM=310 S SG="3A" Q          ;     T3    N1    M0
"RTN","ONCSG3",235,0)
 .I TNM=320 S SG="3A" Q          ;     T3    N2    M0
"RTN","ONCSG3",236,0)
 .I TNM=400 S SG="3B" Q          ;IIIB T4    N0    M0
"RTN","ONCSG3",237,0)
 .I TNM=410 S SG="3B" Q          ;     T4    N1    M0
"RTN","ONCSG3",238,0)
 .I TNM=420 S SG="3B" Q          ;     T4    N2    M0
"RTN","ONCSG3",239,0)
 .I $E(N,1)=3,M=0 S SG="3C" Q    ;IIIC Any T N3    M0
"RTN","ONCSG3",240,0)
 .I M=1 S SG=4 Q                 ;IV   Any T Any N M1
"RTN","ONCSG3",241,0)
 ;
"RTN","ONCSG3",242,0)
CLEANUP ;Cleanup
"RTN","ONCSG3",243,0)
 K D0,HT,M,N,ONCOED,STGIND,T
"RTN","ONCSG4")
0^331^B79706344
"RTN","ONCSG4",1,0)
ONCSG4 ;Hines OIFO/GWB - Automatic Staging Tables ;02/28/11
"RTN","ONCSG4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG4",3,0)
 ;
"RTN","ONCSG4",4,0)
 ;GYNECOLOGICAL SITES
"RTN","ONCSG4",5,0)
 ;
"RTN","ONCSG4",6,0)
VU3 ;Vulva - 3rd edition
"RTN","ONCSG4",7,0)
 I M!($E(N)=3)!(T=4) S SG=4
"RTN","ONCSG4",8,0)
 E  I T="IS" S SG=0
"RTN","ONCSG4",9,0)
 E  I T=1,($E(N)=0)!($E(N)=1),$E(M)=0 S SG=1
"RTN","ONCSG4",10,0)
 E  I T=2,($E(N)=0)!($E(N)=1),$E(M)=0 S SG=2
"RTN","ONCSG4",11,0)
 E  I T=3,($E(N)=0)!($E(N)=1)!($E(N)=2),$E(M)=0 S SG=3
"RTN","ONCSG4",12,0)
 E  I (T=1)!(T=2),$E(N)=2,$E(M)=0 S SG=3
"RTN","ONCSG4",13,0)
 E  S SG=99
"RTN","ONCSG4",14,0)
 Q
"RTN","ONCSG4",15,0)
 ;
"RTN","ONCSG4",16,0)
VU4 ;Vulva - 4th edition
"RTN","ONCSG4",17,0)
 I M S SG="4B"
"RTN","ONCSG4",18,0)
 E  I T=4,$E(M)=0 S SG="4A"
"RTN","ONCSG4",19,0)
 E  I (T=1)!(T=2)!(T=3),$E(N)=2,$E(M)=0 S SG="4A"
"RTN","ONCSG4",20,0)
 E  I T="IS",$E(N)=0,$E(M)=0 S SG=0
"RTN","ONCSG4",21,0)
 E  I T=1,$E(N)=0,$E(M)=0 S SG=1
"RTN","ONCSG4",22,0)
 E  I T=2,$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCSG4",23,0)
 E  I (T=1)!(T=2),$E(N)=1,$E(M)=0 S SG=3
"RTN","ONCSG4",24,0)
 E  I T=3,($E(N)=0)!($E(N)=1),$E(M)=0 S SG=3
"RTN","ONCSG4",25,0)
 E  S SG=99
"RTN","ONCSG4",26,0)
 Q
"RTN","ONCSG4",27,0)
 ;
"RTN","ONCSG4",28,0)
VU56 ;Vulva - 5th and 6th edition
"RTN","ONCSG4",29,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",30,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG4",31,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG4",32,0)
 .I TNM="1A00" S SG="1A" Q  ;IA   T1a   N0    M0
"RTN","ONCSG4",33,0)
 .I TNM="1B00" S SG="1B" Q  ;IB   T1b   N0    M0
"RTN","ONCSG4",34,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG4",35,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCSG4",36,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG4",37,0)
 .I TNM=300 S SG=3 Q        ;     T3    N0    M0
"RTN","ONCSG4",38,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCSG4",39,0)
 .I TNM=120 S SG="4A" Q     ;IVA  T1    N2    M0
"RTN","ONCSG4",40,0)
 .I TNM=220 S SG="4A" Q     ;     T2    N2    M0
"RTN","ONCSG4",41,0)
 .I TNM=320 S SG="4A" Q     ;     T3    N2    M0
"RTN","ONCSG4",42,0)
 .I T=4,M=0 S SG="4A" Q     ;     T4    Any N M0
"RTN","ONCSG4",43,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG4",44,0)
 ;
"RTN","ONCSG4",45,0)
VU7 ;Vulva - 7th edition
"RTN","ONCSG4",46,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",47,0)
 .I TNM="IS00" S SG=0 Q               ;0    Tis   N0    M0
"RTN","ONCSG4",48,0)
 .I TNM=100 S SG=1 Q                  ;I    T1    N0    M0
"RTN","ONCSG4",49,0)
 .I TNM="1A00" S SG="1A" Q            ;IA   T1a   N0    M0
"RTN","ONCSG4",50,0)
 .I TNM="1B00" S SG="1B" Q            ;IB   T1b   N0    M0
"RTN","ONCSG4",51,0)
 .I TNM=200 S SG=2 Q                  ;II   T2    N0    M0
"RTN","ONCSG4",52,0)
 .I $E(T,1)=1,N="1A",M=0 S SG="3A" Q  ;IIIA T1    N1a   M0
"RTN","ONCSG4",53,0)
 .I $E(T,1)=1,N="1B",M=0 S SG="3A" Q  ;     T1    N1b   M0
"RTN","ONCSG4",54,0)
 .I TNM="21A0" S SG="3A" Q            ;     T2    N1a   M0
"RTN","ONCSG4",55,0)
 .I TNM="21B0" S SG="3A" Q            ;     T2    N1b   M0
"RTN","ONCSG4",56,0)
 .I $E(T,1)=1,N="2A",M=0 S SG="3B" Q  ;IIIB T1    N2a   M0
"RTN","ONCSG4",57,0)
 .I $E(T,1)=1,N="2B",M=0 S SG="3B" Q  ;     T1    N2b   M0
"RTN","ONCSG4",58,0)
 .I TNM="22A0" S SG="3B" Q            ;     T2    N2a   M0
"RTN","ONCSG4",59,0)
 .I TNM="22B0" S SG="3B" Q            ;     T2    N2b   M0
"RTN","ONCSG4",60,0)
 .I $E(T,1)=1,N="2C",M=0 S SG="3C" Q  ;IIIC T1    N2c   M0
"RTN","ONCSG4",61,0)
 .I TNM="22C0" S SG="3C" Q            ;     T2    N2c   M0
"RTN","ONCSG4",62,0)
 .I $E(T,1)=1,N=3,M=0 S SG="4A" Q     ;IVA  T1    N3   M0
"RTN","ONCSG4",63,0)
 .I TNM=230 S SG="4A" Q               ;     T2    N3   M0
"RTN","ONCSG4",64,0)
 .I T=3,M=0 S SG="4A" Q               ;     T3    Any N M0
"RTN","ONCSG4",65,0)
 .I M=1 S SG="4B" Q                   ;IVB  Any T Any N M1
"RTN","ONCSG4",66,0)
 ;
"RTN","ONCSG4",67,0)
VA34 ;Vagina - 3rd and 4th editions
"RTN","ONCSG4",68,0)
 S SG=99
"RTN","ONCSG4",69,0)
 I M[1 S SG="4B"
"RTN","ONCSG4",70,0)
 E  I M[0 D
"RTN","ONCSG4",71,0)
 .I T[4 S SG="4A"
"RTN","ONCSG4",72,0)
 .E  I N[2,(T[1)!(T[2)!(T[3) S SG="4A"
"RTN","ONCSG4",73,0)
 .E  I N[1,(T[1)!(T[2)!(T[3) S SG=3
"RTN","ONCSG4",74,0)
 .E  I N[0,(T["IS")!(T[1)!(T[2)!(T[3) S SG=+T
"RTN","ONCSG4",75,0)
 Q
"RTN","ONCSG4",76,0)
 ;
"RTN","ONCSG4",77,0)
VA567 ;Vagina - 5th, 6th and 7th editions
"RTN","ONCSG4",78,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",79,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG4",80,0)
 .I TNM=100 S SG=1 Q        ;I    T1    N0    M0
"RTN","ONCSG4",81,0)
 .I TNM=200 S SG=2 Q        ;II   T2    N0    M0
"RTN","ONCSG4",82,0)
 .I TNM=110 S SG=3 Q        ;III  T1    N1    M0
"RTN","ONCSG4",83,0)
 .I TNM=210 S SG=3 Q        ;     T2    N1    M0
"RTN","ONCSG4",84,0)
 .I TNM=300 S SG=3 Q        ;     T3    N0    M0
"RTN","ONCSG4",85,0)
 .I TNM=310 S SG=3 Q        ;     T3    N1    M0
"RTN","ONCSG4",86,0)
 .I T=4,M=0 S SG="4A" Q     ;IVA  T4    Any N M0
"RTN","ONCSG4",87,0)
 .I M=1 S SG="4B" Q         ;IVB  Any T Any N M1
"RTN","ONCSG4",88,0)
 ;
"RTN","ONCSG4",89,0)
CEU34 ;Cervix Uteri - 3rd and 4th editions
"RTN","ONCSG4",90,0)
 I $E(M)=1 S SG="4B"
"RTN","ONCSG4",91,0)
 E  I $E(T)=4,$E(M)=0 S SG="4A"
"RTN","ONCSG4",92,0)
 E  I $E(T,1,2)="IS",$E(N)=0,$E(M)=0 S SG=0
"RTN","ONCSG4",93,0)
 E  I $E(T,1,2)="1A",$E(N)=0,$E(M)=0 S SG="1A"
"RTN","ONCSG4",94,0)
 E  I $E(T,1,2)="1B",$E(N)=0,$E(M)=0 S SG="1B"
"RTN","ONCSG4",95,0)
 E  I $E(T,1,2)="2A",$E(N)=0,$E(M)=0 S SG="2A"
"RTN","ONCSG4",96,0)
 E  I $E(T,1,2)="2B",$E(N)=0,$E(M)=0 S SG="2B"
"RTN","ONCSG4",97,0)
 E  I $E(T,1,2)="3A",$E(N)=0,$E(M)=0 S SG="3A"
"RTN","ONCSG4",98,0)
 E  I ($E(T)=1)!($E(T)=2)!($E(T,1,2)="3A"),$E(N)=1,$E(M)=0 S SG="3B"
"RTN","ONCSG4",99,0)
 E  I $E(T,1,2)="3B",$E(M)=0 S SG="3B"
"RTN","ONCSG4",100,0)
 E  S SG=99
"RTN","ONCSG4",101,0)
 Q
"RTN","ONCSG4",102,0)
 ;
"RTN","ONCSG4",103,0)
CEU56 ;Cervix Uteri - 5th and 6th editions
"RTN","ONCSG4",104,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",105,0)
 .I TNM="IS00" S SG=0 Q       ;0    Tis   N0    M0
"RTN","ONCSG4",106,0)
 .I TNM=100 S SG=1 Q          ;I    T1    N0    M0
"RTN","ONCSG4",107,0)
 .I TNM="1A00" S SG="1A" Q    ;IA   T1a   N0    M0
"RTN","ONCSG4",108,0)
 .I TNM="1A100" S SG="1A1" Q  ;IA1  T1a1  N0    M0
"RTN","ONCSG4",109,0)
 .I TNM="1A200" S SG="1A2" Q  ;IA2  T1a2  N0    M0
"RTN","ONCSG4",110,0)
 .I TNM="1B00" S SG="1B" Q    ;IB   T1b   N0    M0
"RTN","ONCSG4",111,0)
 .I TNM="1B100" S SG="1B1" Q  ;IB1  T1b1  N0    M0
"RTN","ONCSG4",112,0)
 .I TNM="1B200" S SG="1B2" Q  ;IB2  T1b2  N0    M0
"RTN","ONCSG4",113,0)
 .I TNM=200 S SG=2 Q          ;II   T2    N0    M0
"RTN","ONCSG4",114,0)
 .I TNM="2A00" S SG="2A" Q    ;IIA  T2a   N0    M0
"RTN","ONCSG4",115,0)
 .I TNM="2B00" S SG="2B" Q    ;IIB  T2b   N0    M0
"RTN","ONCSG4",116,0)
 .I TNM=300 S SG=3 Q          ;III  T3    N0    M0
"RTN","ONCSG4",117,0)
 .I TNM="3A00" S SG="3A" Q    ;IIIA T3a   N0    M0
"RTN","ONCSG4",118,0)
 .I TNM=110 S SG="3B" Q       ;IIIB T1    N1    M0
"RTN","ONCSG4",119,0)
 .I TNM=210 S SG="3B" Q       ;     T2    N1    M0
"RTN","ONCSG4",120,0)
 .I TNM="3A10" S SG="3B" Q    ;     T3a   N1    M0
"RTN","ONCSG4",121,0)
 .I T="3B",M=0 S SG="3B" Q    ;     T3b   Any N M0
"RTN","ONCSG4",122,0)
 .I T=4,M=0 S SG="4A" Q       ;IVA  T4    Any N M0
"RTN","ONCSG4",123,0)
 .I M=1 S SG="4B" Q           ;IVB  Any T Any N M1
"RTN","ONCSG4",124,0)
 ;
"RTN","ONCSG4",125,0)
CEU7 ;Cervix Uteri - 7th editions
"RTN","ONCSG4",126,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",127,0)
 .I TNM="IS00" S SG=0 Q            ;0    Tis   N0    M0
"RTN","ONCSG4",128,0)
 .I TNM=100 S SG=1 Q               ;I    T1    N0    M0
"RTN","ONCSG4",129,0)
 .I TNM="1A00" S SG="1A" Q         ;IA   T1a   N0    M0
"RTN","ONCSG4",130,0)
 .I TNM="1A100" S SG="1A1" Q       ;IA1  T1a1  N0    M0
"RTN","ONCSG4",131,0)
 .I TNM="1A200" S SG="1A2" Q       ;IA2  T1a2  N0    M0
"RTN","ONCSG4",132,0)
 .I TNM="1B00" S SG="1B" Q         ;IB   T1b   N0    M0
"RTN","ONCSG4",133,0)
 .I TNM="1B100" S SG="1B1" Q       ;IB1  T1b1  N0    M0
"RTN","ONCSG4",134,0)
 .I TNM="1B200" S SG="1B2" Q       ;IB2  T1b2  N0    M0
"RTN","ONCSG4",135,0)
 .I TNM=200 S SG=2 Q               ;II   T2    N0    M0
"RTN","ONCSG4",136,0)
 .I TNM="2A00" S SG="2A" Q         ;IIA  T2a   N0    M0
"RTN","ONCSG4",137,0)
 .I TNM="2A100" S SG="2A1" Q       ;IIA1 T2a1  N0    M0
"RTN","ONCSG4",138,0)
 .I TNM="2A200" S SG="2A2" Q       ;IIA2 T2a1  N0    M0
"RTN","ONCSG4",139,0)
 .I TNM="2B00" S SG="2B" Q         ;IIB  T2b   N0    M0
"RTN","ONCSG4",140,0)
 .I TNM=300 S SG=3 Q               ;III  T3    N0    M0
"RTN","ONCSG4",141,0)
 .I TNM="3A00" S SG="3A" Q         ;IIIA T3a   N0    M0
"RTN","ONCSG4",142,0)
 .I T="3B",M=0 S SG="3B" Q         ;IIIB T1    Any T M0
"RTN","ONCSG4",143,0)
 .I $E(T,1)<4,N=1,M=0 S SG="3B" Q  ;     T1-3  N1    M0
"RTN","ONCSG4",144,0)
 .I T=4,M=0 S SG="4A" Q            ;IVA  T4    Any N M0
"RTN","ONCSG4",145,0)
 .I M=1 S SG="4B" Q                ;IVB  Any T Any N M1
"RTN","ONCSG4",146,0)
 ;
"RTN","ONCSG4",147,0)
COU3 ;Corpus Uteri - 3rd edition
"RTN","ONCSG4",148,0)
 I $E(M)=1 S SG="4B"
"RTN","ONCSG4",149,0)
 E  I $E(T,1,2)="IS",$E(N)=0,$E(M)=0 S SG=0
"RTN","ONCSG4",150,0)
 E  I $E(T,1,2)="1A",$E(N)=0,$E(M)=0 S SG="1A"
"RTN","ONCSG4",151,0)
 E  I $E(T,1,2)="1B",$E(N)=0,$E(M)=0 S SG="1B"
"RTN","ONCSG4",152,0)
 E  I $E(T)=2,$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCSG4",153,0)
 E  I $E(T)=1,$E(N)=1,$E(M)=0 S SG=3
"RTN","ONCSG4",154,0)
 E  I $E(T)=2,$E(N)=1,$E(M)=0 S SG=3
"RTN","ONCSG4",155,0)
 E  I $E(T)=3,$E(M)=0 S SG=3
"RTN","ONCSG4",156,0)
 E  I $E(T)=4,$E(M)=0 S SG="4A"
"RTN","ONCSG4",157,0)
 E  S SG=99
"RTN","ONCSG4",158,0)
 Q
"RTN","ONCSG4",159,0)
 ;
"RTN","ONCSG4",160,0)
COU45 ;Corpus Uteri - 4th and 5th editions
"RTN","ONCSG4",161,0)
 I $E(M)=1 S SG="4B"
"RTN","ONCSG4",162,0)
 E  I $E(T,1,2)="IS",$E(N)=0,$E(M)=0 S SG=0
"RTN","ONCSG4",163,0)
 E  I $E(T,1,2)="1A",$E(N)=0,$E(M)=0 S SG="1A"
"RTN","ONCSG4",164,0)
 E  I $E(T,1,2)="1B",$E(N)=0,$E(M)=0 S SG="1B"
"RTN","ONCSG4",165,0)
 E  I $E(T,1,2)="1C",$E(N)=0,$E(M)=0 S SG="1C"
"RTN","ONCSG4",166,0)
 E  I $E(T,1,2)="2A",$E(N)=0,$E(M)=0 S SG="2A"
"RTN","ONCSG4",167,0)
 E  I $E(T,1,2)="2B",$E(N)=0,$E(M)=0 S SG="2B"
"RTN","ONCSG4",168,0)
 E  I $E(T,1,2)="3A",$E(N)=0,$E(M)=0 S SG="3A"
"RTN","ONCSG4",169,0)
 E  I $E(T,1,2)="3B",$E(N)=0,$E(M)=0 S SG="3B"
"RTN","ONCSG4",170,0)
 E  I $E(T)=1,$E(N)=1,$E(M)=0 S SG="3C"
"RTN","ONCSG4",171,0)
 E  I $E(T)=2,$E(N)=1,$E(M)=0 S SG="3C"
"RTN","ONCSG4",172,0)
 E  I $E(T)=3,$E(N)=1,$E(M)=0 S SG="3C"
"RTN","ONCSG4",173,0)
 E  I $E(T)=4,$E(M)=0 S SG="4A"
"RTN","ONCSG4",174,0)
 E  S SG=99
"RTN","ONCSG4",175,0)
 Q
"RTN","ONCSG4",176,0)
 ;
"RTN","ONCSG4",177,0)
COU6 ;Corpus Uteri - 6th edition
"RTN","ONCSG4",178,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",179,0)
 .I TNM="IS00" S SG=0 Q       ;0    Tis   N0    M0
"RTN","ONCSG4",180,0)
 .I TNM=100 S SG=1 Q          ;I    T1    N0    M0
"RTN","ONCSG4",181,0)
 .I TNM="1A00" S SG="1A" Q    ;IA   T1a   N0    M0
"RTN","ONCSG4",182,0)
 .I TNM="1B00" S SG="1B" Q    ;IB   T1b   N0    M0
"RTN","ONCSG4",183,0)
 .I TNM="1C00" S SG="1C" Q    ;IC   T1c   N0    M0
"RTN","ONCSG4",184,0)
 .I TNM=200 S SG=2 Q          ;II   T2    N0    M0
"RTN","ONCSG4",185,0)
 .I TNM="2A00" S SG="2A" Q    ;IIA  T2a   N0    M0
"RTN","ONCSG4",186,0)
 .I TNM="2B00" S SG="2B" Q    ;IIB  T2b   N0    M0
"RTN","ONCSG4",187,0)
 .I TNM=300 S SG=3 Q          ;III  T3    N0    M0
"RTN","ONCSG4",188,0)
 .I TNM="3A00" S SG="3A" Q    ;IIIA T3a   N0    M0
"RTN","ONCSG4",189,0)
 .I TNM="3B00" S SG="3B" Q    ;IIIB T3b   N0    M0
"RTN","ONCSG4",190,0)
 .I TNM=110 S SG="3C" Q       ;IIIC T1    N1    M0
"RTN","ONCSG4",191,0)
 .I TNM=210 S SG="3C" Q       ;     T2    N1    M0
"RTN","ONCSG4",192,0)
 .I TNM=310 S SG="3C" Q       ;     T3    N1    M0
"RTN","ONCSG4",193,0)
 .I T=4,M=0 S SG="4A" Q       ;IVA  T4    Any N M0
"RTN","ONCSG4",194,0)
 .I M=1 S SG="4B" Q           ;IVB  Any T Any N M1
"RTN","ONCSG4",195,0)
 ;
"RTN","ONCSG4",196,0)
COU7 ;Corpus Uteri - 7th edition
"RTN","ONCSG4",197,0)
 N HT14
"RTN","ONCSG4",198,0)
 S HT14=$E(HT,1,4)
"RTN","ONCSG4",199,0)
 I (HT14>7999)&(HT14<8791) G COU7C
"RTN","ONCSG4",200,0)
 I (HT14>8979)&(HT14<8982) G COU7C
"RTN","ONCSG4",201,0)
 I (HT14>9699)&(HT14<9702) G COU7C
"RTN","ONCSG4",202,0)
 I (HT14>8889)&(HT14<8899) G COU7S
"RTN","ONCSG4",203,0)
 I (HT14>8929)&(HT14<8932) G COU7S
"RTN","ONCSG4",204,0)
 I HT14=8933 G COU7S
"RTN","ONCSG4",205,0)
 ;
"RTN","ONCSG4",206,0)
COU7C ;Corpus Uteri Carcinoma - 7th edition
"RTN","ONCSG4",207,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",208,0)
 .I TNM="IS00" S SG=0 Q       ;0     Tis   N0    M0
"RTN","ONCSG4",209,0)
 .I TNM=100 S SG=1 Q          ;I     T1    N0    M0
"RTN","ONCSG4",210,0)
 .I TNM="1A00" S SG="1A" Q    ;IA    T1a   N0    M0
"RTN","ONCSG4",211,0)
 .I TNM="1B00" S SG="1B" Q    ;IB    T1b   N0    M0
"RTN","ONCSG4",212,0)
 .I TNM="1C00" S SG="1C" Q    ;IC    T1c   N0    M0
"RTN","ONCSG4",213,0)
 .I TNM=200 S SG=2 Q          ;II    T2    N0    M0
"RTN","ONCSG4",214,0)
 .I TNM="2A00" S SG="2A" Q    ;IIA   T2a   N0    M0
"RTN","ONCSG4",215,0)
 .I TNM="2B00" S SG="2B" Q    ;IIB   T2b   N0    M0
"RTN","ONCSG4",216,0)
 .I TNM=300 S SG=3 Q          ;III   T3    N0    M0
"RTN","ONCSG4",217,0)
 .I TNM="3A00" S SG="3A" Q    ;IIIA  T3a   N0    M0
"RTN","ONCSG4",218,0)
 .I TNM="3B00" S SG="3B" Q    ;IIIB  T3b   N0    M0
"RTN","ONCSG4",219,0)
 .I TNM=110 S SG="3C1" Q      ;IIIC1 T1    N1    M0
"RTN","ONCSG4",220,0)
 .I TNM="1A10" S SG="3C1" Q   ;      T1a   N1    M0
"RTN","ONCSG4",221,0)
 .I TNM="1B10" S SG="3C1" Q   ;      T1B   N1    M0
"RTN","ONCSG4",222,0)
 .I TNM=210 S SG="3C1" Q      ;      T2    N1    M0
"RTN","ONCSG4",223,0)
 .I TNM=310 S SG="3C1" Q      ;      T3    N1    M0
"RTN","ONCSG4",224,0)
 .I TNM="3A10" S SG="3C1" Q   ;      T3a   N1    M0
"RTN","ONCSG4",225,0)
 .I TNM="3B10" S SG="3C1" Q   ;      T3b   N1    M0
"RTN","ONCSG4",226,0)
 .I TNM=120 S SG="3C2" Q      ;IIIC2 T1    N2    M0
"RTN","ONCSG4",227,0)
 .I TNM="1A20" S SG="3C2" Q   ;      T1a   N2    M0
"RTN","ONCSG4",228,0)
 .I TNM="1B20" S SG="3C2" Q   ;      T1b   N2    M0
"RTN","ONCSG4",229,0)
 .I TNM=220 S SG="3C2" Q      ;      T2    N2    M0
"RTN","ONCSG4",230,0)
 .I TNM=320 S SG="3C2" Q      ;      T3    N2    M0
"RTN","ONCSG4",231,0)
 .I TNM="3A20" S SG="3C2" Q   ;      T3a   N2    M0
"RTN","ONCSG4",232,0)
 .I TNM="3B20" S SG="3C2" Q   ;      T3b   N2    M0
"RTN","ONCSG4",233,0)
 .I T=4,M=0 S SG="4A" Q       ;IVA   T4    Any N M0
"RTN","ONCSG4",234,0)
 .I M=1 S SG="4B" Q           ;IVB   Any T Any N M1
"RTN","ONCSG4",235,0)
 ;
"RTN","ONCSG4",236,0)
COU7S ;Corpus Uteri Sarcoma - 7th edition
"RTN","ONCSG4",237,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4",238,0)
 .I TNM=100 S SG=1 Q            ;I    T1    N0    M0
"RTN","ONCSG4",239,0)
 .I TNM="1A00" S SG="1A" Q      ;IA   T1a   N0    M0
"RTN","ONCSG4",240,0)
 .I TNM="1B00" S SG="1B" Q      ;IB   T1b   N0    M0
"RTN","ONCSG4",241,0)
 .I TNM="1C00" S SG="1C" Q      ;IC   T1c   N0    M0
"RTN","ONCSG4",242,0)
 .I $E(T,1)=2,N=0,M=0 S SG=2 Q  ;II   T2    N0    M0
"RTN","ONCSG4",243,0)
 .I TNM="3A00" S SG="3A" Q      ;IIIA T3a   N0    M0
"RTN","ONCSG4",244,0)
 .I TNM="3B00" S SG="3B" Q      ;IIIB T3b   N0    M0
"RTN","ONCSG4",245,0)
 .I TNM=110 S SG="3C" Q         ;IIIC T1    N1    M0
"RTN","ONCSG4",246,0)
 .I TNM="1A10" S SG="3C" Q      ;     T1a   N1    M0
"RTN","ONCSG4",247,0)
 .I TNM="1B10" S SG="3C" Q      ;     T1b   N1    M0
"RTN","ONCSG4",248,0)
 .I TNM="1C10" S SG="3C" Q      ;     T1c   N1    M0
"RTN","ONCSG4",249,0)
 .I TNM=210 S SG="3C" Q         ;     T2    N1    M0
"RTN","ONCSG4",250,0)
 .I TNM=310 S SG="3C" Q         ;     T3    N1    M0
"RTN","ONCSG4",251,0)
 .I TNM="3A10" S SG="3C" Q      ;     T3a   N1    M0
"RTN","ONCSG4",252,0)
 .I TNM="3B10" S SG="3C" Q      ;     T3b   N1    M0
"RTN","ONCSG4",253,0)
 .I T=4,M=0 S SG="4A" Q         ;IVA  T4    Any N M0
"RTN","ONCSG4",254,0)
 .I M=1 S SG="4B" Q             ;IVB  Any T Any N M1
"RTN","ONCSG4",255,0)
 ;
"RTN","ONCSG4",256,0)
CLEANUP ;Cleanup
"RTN","ONCSG4",257,0)
 K HT,M,N,SG,T
"RTN","ONCSG4A")
0^332^B18136273
"RTN","ONCSG4A",1,0)
ONCSG4A ;Hines OIFO/GWB - AUTOMATIC STAGING TABLES ;07/15/02
"RTN","ONCSG4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG4A",3,0)
 ;
"RTN","ONCSG4A",4,0)
 ;GYNECOLOGICAL SITES (continued)
"RTN","ONCSG4A",5,0)
 ;
"RTN","ONCSG4A",6,0)
OVA345 ;Ovary - 3rd, 4th and 5th editions
"RTN","ONCSG4A",7,0)
 I M S SG=4
"RTN","ONCSG4A",8,0)
 E  I $E(M)=0,$E(N)=0,$L(T)=2,"123"[$E(T),"ABC"[$E(T,2) S SG=T
"RTN","ONCSG4A",9,0)
 E  I $E(N)=1,$E(M)=0 S SG="3C"
"RTN","ONCSG4A",10,0)
 E  S SG=99
"RTN","ONCSG4A",11,0)
 Q
"RTN","ONCSG4A",12,0)
 ;
"RTN","ONCSG4A",13,0)
OVA6 ;Ovary - 6th edition
"RTN","ONCSG4A",14,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4A",15,0)
 .I TNM=100 S SG=1 Q          ;I    T1    N0    M0
"RTN","ONCSG4A",16,0)
 .I TNM="1A00" S SG="1A" Q    ;IA   T1a   N0    M0
"RTN","ONCSG4A",17,0)
 .I TNM="1B00" S SG="1B" Q    ;IB   T1b   N0    M0
"RTN","ONCSG4A",18,0)
 .I TNM="1C00" S SG="1C" Q    ;IC   T1c   N0    M0
"RTN","ONCSG4A",19,0)
 .I TNM=200 S SG=2 Q          ;II   T2    N0    M0
"RTN","ONCSG4A",20,0)
 .I TNM="2A00" S SG="2A" Q    ;IIA  T2a   N0    M0
"RTN","ONCSG4A",21,0)
 .I TNM="2B00" S SG="2B" Q    ;IIB  T2b   N0    M0
"RTN","ONCSG4A",22,0)
 .I TNM="2C00" S SG="2C" Q    ;IIC  T2c   N0    M0
"RTN","ONCSG4A",23,0)
 .I TNM=300 S SG=3 Q          ;III  T3    N0    M0
"RTN","ONCSG4A",24,0)
 .I TNM="3A00" S SG="3A" Q    ;IIIA T3a   N0    M0
"RTN","ONCSG4A",25,0)
 .I TNM="3B00" S SG="3B" Q    ;IIIB T3b   N0    M0
"RTN","ONCSG4A",26,0)
 .I TNM="3C00" S SG="3C" Q    ;IIIC T3c   N0    M0
"RTN","ONCSG4A",27,0)
 .I N=1,M=0 S SG="3C" Q       ;     Any T N1    M0
"RTN","ONCSG4A",28,0)
 .I M=1 S SG=4 Q              ;IV   Any T Any N M1
"RTN","ONCSG4A",29,0)
 ;
"RTN","ONCSG4A",30,0)
FT5 ;Fallopian Tube - 5th edition
"RTN","ONCSG4A",31,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4A",32,0)
 .I TNM="IS00" S SG=0 Q     ;0    Tis   N0    M0
"RTN","ONCSG4A",33,0)
 .I TNM="1A00" S SG="1A" Q  ;IA   T1a   N0    M0
"RTN","ONCSG4A",34,0)
 .I TNM="1B00" S SG="1B" Q  ;IB   T1b   N0    M0
"RTN","ONCSG4A",35,0)
 .I TNM="1C00" S SG="1C" Q  ;IC   T1c   N0    M0
"RTN","ONCSG4A",36,0)
 .I TNM="2A00" S SG="2A" Q  ;IIA  T2a   N0    M0
"RTN","ONCSG4A",37,0)
 .I TNM="2B00" S SG="2B" Q  ;IIB  T2b   N0    M0
"RTN","ONCSG4A",38,0)
 .I TNM="2C00" S SG="2C" Q  ;IIC  T2c   N0    M0
"RTN","ONCSG4A",39,0)
 .I TNM="3A00" S SG="3A" Q  ;IIIA T3a   N0    M0
"RTN","ONCSG4A",40,0)
 .I TNM="3B00" S SG="3B" Q  ;IIIB T3b   N0    M0
"RTN","ONCSG4A",41,0)
 .I TNM="3C00" S SG="3C" Q  ;IIIC T3c   N0    M0
"RTN","ONCSG4A",42,0)
 .I N=1,M=0 S SG="3C" Q     ;     Any T N1    M0
"RTN","ONCSG4A",43,0)
 .I M=1 S SG=4 Q            ;IV   Any T Any N M1
"RTN","ONCSG4A",44,0)
 ;
"RTN","ONCSG4A",45,0)
FT6 ;Fallopian Tube - 6th edition
"RTN","ONCSG4A",46,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG4A",47,0)
 .I TNM="IS00" S SG=0 Q       ;0    Tis   N0    M0
"RTN","ONCSG4A",48,0)
 .I TNM=100 S SG=1 Q          ;I    T1    N0    M0
"RTN","ONCSG4A",49,0)
 .I TNM="1A00" S SG="1A" Q    ;IA   T1a   N0    M0
"RTN","ONCSG4A",50,0)
 .I TNM="1B00" S SG="1B" Q    ;IB   T1b   N0    M0
"RTN","ONCSG4A",51,0)
 .I TNM="1C00" S SG="1C" Q    ;IC   T1c   N0    M0
"RTN","ONCSG4A",52,0)
 .I TNM=200 S SG=2 Q          ;II   T2    N0    M0
"RTN","ONCSG4A",53,0)
 .I TNM="2A00" S SG="2A" Q    ;IIA  T2a   N0    M0
"RTN","ONCSG4A",54,0)
 .I TNM="2B00" S SG="2B" Q    ;IIB  T2b   N0    M0
"RTN","ONCSG4A",55,0)
 .I TNM="2C00" S SG="2C" Q    ;IIC  T2c   N0    M0
"RTN","ONCSG4A",56,0)
 .I TNM=300 S SG=3 Q          ;III  T3    N0    M0
"RTN","ONCSG4A",57,0)
 .I TNM="3A00" S SG="3A" Q    ;IIIA T3a   N0    M0
"RTN","ONCSG4A",58,0)
 .I TNM="3B00" S SG="3B" Q    ;IIIB T3b   N0    M0
"RTN","ONCSG4A",59,0)
 .I TNM="3C00" S SG="3C" Q    ;IIIC T3c   N0    M0
"RTN","ONCSG4A",60,0)
 .I N=1,M=0 S SG="3C" Q       ;     Any T N1    M0
"RTN","ONCSG4A",61,0)
 .I M=1 S SG=4 Q              ;IV   Any T Any N M1
"RTN","ONCSG4A",62,0)
 ;
"RTN","ONCSG4A",63,0)
GTT5 ;Gestational Trophoblastic Tumors - 5th edition
"RTN","ONCSG4A",64,0)
 S:$G(STGIND)="C" RF=$P($G(^ONCO(165.5,D0,2.1)),U,12)
"RTN","ONCSG4A",65,0)
 S:$G(STGIND)="P" RF=$P($G(^ONCO(165.5,D0,2.1)),U,13)
"RTN","ONCSG4A",66,0)
 S TNM=T_M_RF D  K TNM,RF Q  ;     T     M     Risk Factors
"RTN","ONCSG4A",67,0)
 .I TNM="100" S SG="1A" Q    ;IA   T1    M0    w/o
"RTN","ONCSG4A",68,0)
 .I TNM="101" S SG="1B" Q    ;IB   T1    M0    1
"RTN","ONCSG4A",69,0)
 .I TNM="102" S SG="1B" Q    ;     T1    M0    1
"RTN","ONCSG4A",70,0)
 .I TNM="103" S SG="1C" Q    ;IC   T1    M0    2
"RTN","ONCSG4A",71,0)
 .I TNM="200" S SG="2A" Q    ;IIA  T2    M0    w/o
"RTN","ONCSG4A",72,0)
 .I TNM="201" S SG="2B" Q    ;IIB  T2    M0    1
"RTN","ONCSG4A",73,0)
 .I TNM="202" S SG="2B" Q    ;     T2    M0    1
"RTN","ONCSG4A",74,0)
 .I TNM="203" S SG="2C" Q    ;IIC  T2    M0    2
"RTN","ONCSG4A",75,0)
 .I M="1A",RF=0 S SG="3A" Q  ;IIIA Any T M1a   w/o
"RTN","ONCSG4A",76,0)
 .I M="1A",RF=1 S SG="3B" Q  ;IIIB Any T M1a   1
"RTN","ONCSG4A",77,0)
 .I M="1A",RF=2 S SG="3B" Q  ;     Any T M1a   1
"RTN","ONCSG4A",78,0)
 .I M="1A",RF=3 S SG="3C" Q  ;IIIC Any T M1a   2
"RTN","ONCSG4A",79,0)
 .I M="1B",RF=0 S SG="4A" Q  ;IVA  Any T M1b   w/o
"RTN","ONCSG4A",80,0)
 .I M="1B",RF=1 S SG="4B" Q  ;IVB  Any T M1b   1
"RTN","ONCSG4A",81,0)
 .I M="1B",RF=2 S SG="4B" Q  ;     Any T M1b   1
"RTN","ONCSG4A",82,0)
 .I M="1B",RF=3 S SG="4C" Q  ;IVC  Any T M1b   2
"RTN","ONCSG4A",83,0)
 ;
"RTN","ONCSG4A",84,0)
GTT6 ;Gestational Trophoblastic Tumors - 6th edition
"RTN","ONCSG4A",85,0)
 S:$G(STGIND)="C" RF=$P($G(^ONCO(165.5,D0,2.1)),U,12)
"RTN","ONCSG4A",86,0)
 S:$G(STGIND)="P" RF=$P($G(^ONCO(165.5,D0,2.1)),U,13)
"RTN","ONCSG4A",87,0)
 S TNM=T_M_RF D  K TNM,RF Q    ;     T     M     Risk Factors
"RTN","ONCSG4A",88,0)
 .I TNM="10U" S SG=1 Q         ;I    T1    M0    Unknown
"RTN","ONCSG4A",89,0)
 .I TNM="10L" S SG="1A" Q      ;IA   T1    M0    Low risk
"RTN","ONCSG4A",90,0)
 .I TNM="10H" S SG="1b" Q      ;IB   T1    M0    High risk
"RTN","ONCSG4A",91,0)
 .I TNM="20U" S SG=2 Q         ;II   T2    M0    Unknown
"RTN","ONCSG4A",92,0)
 .I TNM="20L" S SG="2A" Q      ;IIA  T1    M0    Low risk
"RTN","ONCSG4A",93,0)
 .I TNM="20H" S SG="2B" Q      ;IIB  T1    M0    High risk
"RTN","ONCSG4A",94,0)
 .I M="1A",RF="U" S SG=3 Q     ;III  Any T M1a   Unknown
"RTN","ONCSG4A",95,0)
 .I M="1A",RF="L" S SG="3A" Q  ;IIIA Any T M1a   Low risk
"RTN","ONCSG4A",96,0)
 .I M="1A",RF="H" S SG="3B" Q  ;IIIB Any T M1a   High risk
"RTN","ONCSG4A",97,0)
 .I M="1B",RF="U" S SG=4 Q     ;IV   Any T M1b   Unknown
"RTN","ONCSG4A",98,0)
 .I M="1B",RF="L" S SG="4A" Q  ;IVA  Any T M1b   Low risk
"RTN","ONCSG4A",99,0)
 .I M="1B",RF="H" S SG="4B" Q  ;IVB  Any T M1b   High risk
"RTN","ONCSG4A",100,0)
 ;
"RTN","ONCSG5")
0^333^B67058899
"RTN","ONCSG5",1,0)
ONCSG5 ;Hines OIFO/GWB - Automatic Staging Tables ;08/08/11
"RTN","ONCSG5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG5",3,0)
 ;
"RTN","ONCSG5",4,0)
 ;GENITOURINARY SITES
"RTN","ONCSG5",5,0)
 ;
"RTN","ONCSG5",6,0)
PEN36 ;Penis - 3rd, 4th, 5th and 6th editions
"RTN","ONCSG5",7,0)
 K SG
"RTN","ONCSG5",8,0)
 I M=1 S SG=4
"RTN","ONCSG5",9,0)
 E  I M=0 D PENNM
"RTN","ONCSG5",10,0)
 I '$D(SG) S SG=99
"RTN","ONCSG5",11,0)
 Q
"RTN","ONCSG5",12,0)
PENNM I (T=4)!(N=3) S SG=4
"RTN","ONCSG5",13,0)
 E  I (T="IS")!(T="A"),N=0 S SG=0
"RTN","ONCSG5",14,0)
 E  I T=1,N=0 S SG=1
"RTN","ONCSG5",15,0)
 E  I T=1,N=1 S SG=2
"RTN","ONCSG5",16,0)
 E  I T=2,(N=0)!(N=1) S SG=2
"RTN","ONCSG5",17,0)
 E  I (T=1)!(T=2),N=2 S SG=3
"RTN","ONCSG5",18,0)
 E  I T=3,(N=0)!(N=1)!(N=2) S SG=3
"RTN","ONCSG5",19,0)
 Q
"RTN","ONCSG5",20,0)
 ;
"RTN","ONCSG5",21,0)
PEN7 ;Penis - 7th edition
"RTN","ONCSG5",22,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5",23,0)
 .I TNM="IS00" S SG=0 Q            ;0    Tis   N0    M0
"RTN","ONCSG5",24,0)
 .I TNM="A00" S SG=0 Q             ;     Ta    N0    M0
"RTN","ONCSG5",25,0)
 .I TNM="1A00" S SG=1 Q            ;I    T1a   N0    M0
"RTN","ONCSG5",26,0)
 .I TNM="1B00" S SG=2 Q            ;II   T1b   N0    M0
"RTN","ONCSG5",27,0)
 .I TNM=200 S SG=2 Q               ;     T2    N0    M0
"RTN","ONCSG5",28,0)
 .I TNM=300 S SG=2 Q               ;     T3    N0    M0
"RTN","ONCSG5",29,0)
 .I $E(T,1)=1,N=1,M=0 S SG="3A" Q  ;IIIA T1    N1    M0
"RTN","ONCSG5",30,0)
 .I $E(T,1)=2,N=1,M=0 S SG="3A" Q  ;     T2    N1    M0
"RTN","ONCSG5",31,0)
 .I $E(T,1)=3,N=1,M=0 S SG="3A" Q  ;     T3    N1    M0
"RTN","ONCSG5",32,0)
 .I $E(T,1)=1,N=2,M=0 S SG="3B" Q  ;IIIB T1    N2    M0
"RTN","ONCSG5",33,0)
 .I $E(T,1)=2,N=2,M=0 S SG="3B" Q  ;     T2    N2    M0
"RTN","ONCSG5",34,0)
 .I $E(T,1)=3,N=2,M=0 S SG="3B" Q  ;     T3    N2    M0
"RTN","ONCSG5",35,0)
 .I T=4,M=0 S SG=4 Q               ;IV   T4    Any N M0
"RTN","ONCSG5",36,0)
 .I N=3,M=0 S SG=4 Q               ;     Any T N3    M0
"RTN","ONCSG5",37,0)
 .I M=1 S SG=4 Q                   ;     Any T Any N M1
"RTN","ONCSG5",38,0)
 ;
"RTN","ONCSG5",39,0)
PROS3 ;Prostate - 3rd edition
"RTN","ONCSG5",40,0)
 I M!(N=1)!(N=2)!(N=3)!(T[4) S SG=4
"RTN","ONCSG5",41,0)
 E  I T="1A"!(T="2A"),$E(N)=0,$E(M)=0,G,G'=9 S SG=$S(G=1:0,G>1:1)
"RTN","ONCSG5",42,0)
 E  I T="1B"!(T="2B"),$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCSG5",43,0)
 E  I T=3,$E(N)=0,$E(M)=0 S SG=3
"RTN","ONCSG5",44,0)
 E  S SG=99
"RTN","ONCSG5",45,0)
 Q
"RTN","ONCSG5",46,0)
 ;
"RTN","ONCSG5",47,0)
PROS4 ;Prostate - 4th edition
"RTN","ONCSG5",48,0)
 I M!(N=1)!(N=2)!(N=3)!(T[4) S SG=4
"RTN","ONCSG5",49,0)
 E  I T="1A",$E(N)=0,$E(M)=0,G,G'=9 S SG=$S(G=1:0,G>1:1)
"RTN","ONCSG5",50,0)
 E  I T="1B"!(T="1C")!(T=1),$E(N)=0,$E(M)=0 S SG=1
"RTN","ONCSG5",51,0)
 E  I T[2,$E(N)=0,$E(M)=0 S SG=2
"RTN","ONCSG5",52,0)
 E  I T[3,$E(N)=0,$E(M)=0 S SG=3
"RTN","ONCSG5",53,0)
 E  S SG=99
"RTN","ONCSG5",54,0)
 Q 
"RTN","ONCSG5",55,0)
 ;
"RTN","ONCSG5",56,0)
PROS56 ;Prostate - 5th and 6th edition
"RTN","ONCSG5",57,0)
 S TNM=T_N_$E(M,1) D  K TNM Q
"RTN","ONCSG5",58,0)
 .I (G=1)&(TNM="1A00") S SG=1 Q                ;I    T1a   N0 M0 G1
"RTN","ONCSG5",59,0)
 .I ((G=2)!(G=3)!(G=4))&(TNM="1A00") S SG=2 Q  ;II   T1a   N0 M0 G2, 3-4
"RTN","ONCSG5",60,0)
 .I TNM="1B00" S SG=2 Q                        ;     T1b   N0    M0 Any G
"RTN","ONCSG5",61,0)
 .I TNM="1C00" S SG=2 Q                        ;     T1c   N0    M0 Any G
"RTN","ONCSG5",62,0)
 .I TNM=100 S SG=2 Q                           ;     T1    N0    M0 Any G
"RTN","ONCSG5",63,0)
 .I $E(T,1)=2,N=0,M=0 S SG=2 Q                 ;     T2    N0    M0 Any G
"RTN","ONCSG5",64,0)
 .I $E(T,1)=3,N=0,M=0 S SG=3 Q                 ;III  T3    N0    M0 Any G
"RTN","ONCSG5",65,0)
 .I TNM=400 S SG=4 Q                           ;IV   T4    N0    M0 Any G
"RTN","ONCSG5",66,0)
 .I N=1,M=0 S SG=4 Q                           ;     Any T N1    M0 Any G
"RTN","ONCSG5",67,0)
 .I $E(M,1)=1 S SG=4 Q                         ;     Any T Any N M1 Any G
"RTN","ONCSG5",68,0)
 ;
"RTN","ONCSG5",69,0)
PROS7 ;Prostate - 7th edition
"RTN","ONCSG5",70,0)
 ;I   T1a-c  N0     M0  PSA<10      Gleason<=6 
"RTN","ONCSG5",71,0)
 ;    T2a    N0     M0  PSA<10      Gleason<=6 
"RTN","ONCSG5",72,0)
 ;    T1-2a  N0     M0  PSA X       Gleason X 
"RTN","ONCSG5",73,0)
 ;IIA T1a-c  N0     M0  PSA<20      Gleason=7
"RTN","ONCSG5",74,0)
 ;    T1a-c  N0     M0  PSA>=10<20  Gleason<=6
"RTN","ONCSG5",75,0)
 ;    T2a    N0     M0  PSA>=10<20  Gleason<=6
"RTN","ONCSG5",76,0)
 ;    T2a    N0     M0  PSA<20      Gleason<=7 
"RTN","ONCSG5",77,0)
 ;    T2b    N0     M0  PSA<20      Gleason<=7 
"RTN","ONCSG5",78,0)
 ;    T2b    N0     M0  PSA X       Gleason X 
"RTN","ONCSG5",79,0)
 ;IIB T2c    N0     M0  Any PSA     Any Gleason
"RTN","ONCSG5",80,0)
 ;    T1-2   N0     M0  PSA>=20     Any Gleason
"RTN","ONCSG5",81,0)
 ;    T1-2   N0     M0  Any PSA     Gleason>=8
"RTN","ONCSG5",82,0)
 ;III T3a-b  N0     M0  Any PSA     Any Gleason
"RTN","ONCSG5",83,0)
 ;IV  T4     N0     M0  Any PSA     Any Gleason
"RTN","ONCSG5",84,0)
 ;    Any T  N1     M0  Any PSA     Any Gleason
"RTN","ONCSG5",85,0)
 ;    Any T  Any N  M1  Any PSA     Any Gleason
"RTN","ONCSG5",86,0)
 ;
"RTN","ONCSG5",87,0)
 N PSA,GS
"RTN","ONCSG5",88,0)
 S PSA=+$$GET1^DIQ(165.5,D0,684)
"RTN","ONCSG5",89,0)
 I (PSA=999.7)!(PSA=999.8)!(PSA=999.9) S PSA=""
"RTN","ONCSG5",90,0)
 I STGIND="C" S GS=+$$GET1^DIQ(165.5,D0,623,"I")
"RTN","ONCSG5",91,0)
 I STGIND="P" S GS=+$$GET1^DIQ(165.5,D0,250,"I")
"RTN","ONCSG5",92,0)
 I GS=99 S GS=""
"RTN","ONCSG5",93,0)
 S TNM=T_N_$E(M,1) D  K TNM Q
"RTN","ONCSG5",94,0)
 .I ((TNM=100)!(TNM="1A00")!(TNM="1B00")!(TNM="1C00")),PSA<10,GS<7 S SG=1 Q
"RTN","ONCSG5",95,0)
 .I (TNM="2A00"),PSA<10,GS<7 S SG=1 Q
"RTN","ONCSG5",96,0)
 .I ((TNM=100)!(TNM="1A00")!(TNM="1B00")!(TNM="1C00")!(TNM=200)!(TNM="2A00")),PSA="",GS="" S SG=1 Q
"RTN","ONCSG5",97,0)
 .I ((TNM=100)!(TNM="1A00")!(TNM="1B00")!(TNM="1C00")),PSA<20,GS=7 S SG="2A" Q
"RTN","ONCSG5",98,0)
 .I ((TNM=100)!(TNM="1A00")!(TNM="1B00")!(TNM="1C00")!(TNM="2A00")),((PSA>9)&(PSA<20)),GS<7 S SG="2A" Q
"RTN","ONCSG5",99,0)
 .I (TNM="2A00"),PSA<20,GS<8 S SG="2A" Q
"RTN","ONCSG5",100,0)
 .I (TNM="2B00"),PSA<20,GS<8 S SG="2A" Q
"RTN","ONCSG5",101,0)
 .I (TNM="2B00"),PSA="",GS="" S SG="2A" Q
"RTN","ONCSG5",102,0)
 .I TNM="2C00" S SG="2B" Q
"RTN","ONCSG5",103,0)
 .I ((TNM=100)!(TNM="1A00")!(TNM="1B00")!(TNM="1C00")!(TNM=200)!(TNM="2A00")!(TNM="2B00")!(TNM="2C00")),PSA>19 S SG="2B" Q
"RTN","ONCSG5",104,0)
 .I ((TNM=100)!(TNM="1A00")!(TNM="1B00")!(TNM="1C00")!(TNM=200)!(TNM="2A00")!(TNM="2B00")!(TNM="2C00")),GS>7 S SG="2B" Q
"RTN","ONCSG5",105,0)
 .I ((TNM=300)!(TNM="3A00")!(TNM="3B00")) S SG=3 Q
"RTN","ONCSG5",106,0)
 .I TNM=400 S SG=4 Q
"RTN","ONCSG5",107,0)
 .I N=1,M=0 S SG=4 Q
"RTN","ONCSG5",108,0)
 .I $E(M,1)=1 S SG=4 Q
"RTN","ONCSG5",109,0)
 ;
"RTN","ONCSG5",110,0)
TES3 ;Testis - 3rd edition
"RTN","ONCSG5",111,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5",112,0)
 .I TNM="IS00" S SG=0 Q
"RTN","ONCSG5",113,0)
 .I TNM=100 S SG=1 Q
"RTN","ONCSG5",114,0)
 .I TNM=200 S SG=1 Q
"RTN","ONCSG5",115,0)
 .I TNM=300 S SG=2 Q
"RTN","ONCSG5",116,0)
 .I TNM=400 S SG=2 Q
"RTN","ONCSG5",117,0)
 .I N=1,M=0 S SG=3 Q
"RTN","ONCSG5",118,0)
 .I N=2,M=0 S SG=4 Q
"RTN","ONCSG5",119,0)
 .I N=3,M=0 S SG=4 Q
"RTN","ONCSG5",120,0)
 .I M=1 S SG=4 Q
"RTN","ONCSG5",121,0)
 ;
"RTN","ONCSG5",122,0)
TES4 ;Testis - 4th edition
"RTN","ONCSG5",123,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5",124,0)
 .I TNM="IS00" S SG=0 Q      ;0    Tis   N0    M0
"RTN","ONCSG5",125,0)
 .I N=0,M=0 S SG=1 Q         ;I    Any T N0    M0
"RTN","ONCSG5",126,0)
 .I N=1,M=0 S SG=2 Q         ;II   Any T N1    M0
"RTN","ONCSG5",127,0)
 .I N=2,M=0 S SG=2 Q         ;     Any T N2    M0
"RTN","ONCSG5",128,0)
 .I N=3,M=0 S SG=2 Q         ;     Any T N3    M0
"RTN","ONCSG5",129,0)
 .I M=1 S SG=3 Q             ;III  Any T Any N M1
"RTN","ONCSG5",130,0)
 ;
"RTN","ONCSG5",131,0)
TES56 ;Testis - 5th and 6th editions
"RTN","ONCSG5",132,0)
 S STM=$P($G(^ONCO(165.5,D0,24)),U,8),STM=$E(STM,2)
"RTN","ONCSG5",133,0)
 S TNM=T_N_M_STM D  K TNM,TM1,TM2,TM3,STM Q
"RTN","ONCSG5",134,0)
 .I TNM="IS000" S SG=0 Q       ;0    Tis   N0    M0  S0
"RTN","ONCSG5",135,0)
 .I TNM="100X" S SG=1 Q        ;I    T1    N0    M0  SX
"RTN","ONCSG5",136,0)
 .I TNM="200X" S SG=1 Q        ;     T2    N0    M0  SX
"RTN","ONCSG5",137,0)
 .I TNM="300X" S SG=1 Q        ;     T3    N0    M0  SX
"RTN","ONCSG5",138,0)
 .I TNM="400X" S SG=1 Q        ;     T4    N0    M0  SX
"RTN","ONCSG5",139,0)
 .I TNM=1000 S SG="1A" Q       ;IA   T1    N0    M0  S0
"RTN","ONCSG5",140,0)
 .I TNM=2000 S SG="1B" Q       ;IB   T2    N0    M0  S0
"RTN","ONCSG5",141,0)
 .I TNM=3000 S SG="1B" Q       ;     T3    N0    M0  S0
"RTN","ONCSG5",142,0)
 .I TNM=4000 S SG="1B" Q       ;     T4    N0    M0  S0
"RTN","ONCSG5",143,0)
 .I N=0,M=0,STM=1 S SG="1S" Q  ;IS   Any T N0    M0  S1
"RTN","ONCSG5",144,0)
 .I N=0,M=0,STM=2 S SG="1S" Q  ;     Any T N0    M0  S2
"RTN","ONCSG5",145,0)
 .I N=0,M=0,STM=3 S SG="1S" Q  ;     Any T N0    M0  S3
"RTN","ONCSG5",146,0)
 .I N=1,M=0,STM="X" S SG=2 Q   ;II   Any T N1    M0  SX
"RTN","ONCSG5",147,0)
 .I N=2,M=0,STM="X" S SG=2 Q   ;     Any T N2    M0  SX
"RTN","ONCSG5",148,0)
 .I N=3,M=0,STM="X" S SG=2 Q   ;     Any T N3    M0  SX
"RTN","ONCSG5",149,0)
 .I N=1,M=0,STM=0 S SG="2A" Q  ;IIA  Any T N1    M0  S0
"RTN","ONCSG5",150,0)
 .I N=1,M=0,STM=1 S SG="2A" Q  ;     Any T N1    M0  S1
"RTN","ONCSG5",151,0)
 .I N=2,M=0,STM=0 S SG="2B" Q  ;IIB  Any T N2    M0  S0
"RTN","ONCSG5",152,0)
 .I N=2,M=0,STM=1 S SG="2B" Q  ;     Any T N2    M0  S1
"RTN","ONCSG5",153,0)
 .I N=3,M=0,STM=0 S SG="2C" Q  ;IIC  Any T N3    M0  S0
"RTN","ONCSG5",154,0)
 .I N=3,M=0,STM=1 S SG="2C" Q  ;     Any T N3    M0  S1
"RTN","ONCSG5",155,0)
 .I M=1,STM="X" S SG=3 Q       ;III  Any T Any N M1  SX
"RTN","ONCSG5",156,0)
 .I M="1A",STM=0 S SG="3A" Q   ;IIIA Any T Any N M1a S0
"RTN","ONCSG5",157,0)
 .I M="1A",STM=1 S SG="3A" Q   ;     Any T Any N M1a S1
"RTN","ONCSG5",158,0)
 .I N=1,M=0,STM=2 S SG="3B" Q  ;IIIB Any T N1    M0  S2
"RTN","ONCSG5",159,0)
 .I N=2,M=0,STM=2 S SG="3B" Q  ;     Any T N2    M0  S2
"RTN","ONCSG5",160,0)
 .I N=3,M=0,STM=2 S SG="3B" Q  ;     Any T N3    M0  S2
"RTN","ONCSG5",161,0)
 .I M="1A",STM=2 S SG="3B" Q   ;     Any T Any N M1a S2
"RTN","ONCSG5",162,0)
 .I N=1,M=0,STM=3 S SG="3C" Q  ;IIIC Any T N1    M0  S3
"RTN","ONCSG5",163,0)
 .I N=2,M=0,STM=3 S SG="3C" Q  ;     Any T N2    M0  S3
"RTN","ONCSG5",164,0)
 .I N=3,M=0,STM=3 S SG="3C" Q  ;     Any T N3    M0  S3
"RTN","ONCSG5",165,0)
 .I M="1A",STM=3 S SG="3C" Q   ;     Any T Any N M1a S3
"RTN","ONCSG5",166,0)
 .I M="1B" S SG="3C" Q         ;     Any T Any N M1b Any S
"RTN","ONCSG5",167,0)
 ;
"RTN","ONCSG5",168,0)
KID34 ;Kidney - 3rd and 4th editions
"RTN","ONCSG5",169,0)
 K SG
"RTN","ONCSG5",170,0)
 I M=1 S SG=4
"RTN","ONCSG5",171,0)
 E  I M=0 D KIDNM
"RTN","ONCSG5",172,0)
 I '$D(SG) S SG=99
"RTN","ONCSG5",173,0)
 Q
"RTN","ONCSG5",174,0)
KIDNM I (T=4)!(N=2)!(N=3) S SG=4
"RTN","ONCSG5",175,0)
 E  I T=1,N=0 S SG=1
"RTN","ONCSG5",176,0)
 E  I T=2,N=0 S SG=2
"RTN","ONCSG5",177,0)
 E  I (T=1)!(T=2),N=1 S SG=3
"RTN","ONCSG5",178,0)
 E  I T[3,(N=0)!(N=1) S SG=3
"RTN","ONCSG5",179,0)
 Q
"RTN","ONCSG5",180,0)
 ;
"RTN","ONCSG5",181,0)
KID5 ;Kidney - 5th edition
"RTN","ONCSG5",182,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5",183,0)
 .I TNM=100 S SG=1 Q            ;I    T1    N0    M0
"RTN","ONCSG5",184,0)
 .I TNM=200 S SG=2 Q            ;II   T2    N0    M0
"RTN","ONCSG5",185,0)
 .I TNM=110 S SG=3 Q            ;III  T1    N1    M0
"RTN","ONCSG5",186,0)
 .I TNM=210 S SG=3 Q            ;     T2    N1    M0
"RTN","ONCSG5",187,0)
 .I TNM="3A00" S SG=3 Q         ;     T3a   N0    M0
"RTN","ONCSG5",188,0)
 .I TNM="3A10" S SG=3 Q         ;     T3a   N1    M0
"RTN","ONCSG5",189,0)
 .I TNM="3B00" S SG=3 Q         ;     T3b   N0    M0
"RTN","ONCSG5",190,0)
 .I TNM="3B10" S SG=3 Q         ;     T3b   N1    M0
"RTN","ONCSG5",191,0)
 .I TNM="3C00" S SG=3 Q         ;     T3c   N0    M0
"RTN","ONCSG5",192,0)
 .I TNM="3C10" S SG=3 Q         ;     T3c   N1    M0
"RTN","ONCSG5",193,0)
 .I TNM=400 S SG=4 Q            ;IV   T4    N0    M0
"RTN","ONCSG5",194,0)
 .I TNM=410 S SG=4 Q            ;     T4    N1    M0
"RTN","ONCSG5",195,0)
 .;per R-AD 01/13/98
"RTN","ONCSG5",196,0)
 .I TNM="4X0",STGIND="P" S SG=4 ;     T4    NX    M0 (Pathologic staging)
"RTN","ONCSG5",197,0)
 .I N=2,M=0 S SG=4 Q            ;     Any T N2    M0
"RTN","ONCSG5",198,0)
 .I M=1 S SG=4 Q                ;     Any T Any N M1
"RTN","ONCSG5",199,0)
 ;
"RTN","ONCSG5",200,0)
KID6 ;Kidney - 6th edition
"RTN","ONCSG5",201,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5",202,0)
 .I $E(T,1)=1,N=0,M=0 S SG=1 Q  ;I    T1    N0    M0
"RTN","ONCSG5",203,0)
 .I TNM=200 S SG=2 Q            ;II   T2    N0    M0
"RTN","ONCSG5",204,0)
 .I $E(T,1)=1,N=1,M=0 S SG=3 Q  ;III  T1    N1    M0
"RTN","ONCSG5",205,0)
 .I TNM=210 S SG=3 Q            ;     T2    N1    M0
"RTN","ONCSG5",206,0)
 .I TNM=300 S SG=3 Q            ;     T3    N0    M0
"RTN","ONCSG5",207,0)
 .I TNM=310 S SG=3 Q            ;     T3    N1    M0
"RTN","ONCSG5",208,0)
 .I TNM="3A00" S SG=3 Q         ;     T3a   N0    M0
"RTN","ONCSG5",209,0)
 .I TNM="3A10" S SG=3 Q         ;     T3a   N1    M0
"RTN","ONCSG5",210,0)
 .I TNM="3B00" S SG=3 Q         ;     T3b   N0    M0
"RTN","ONCSG5",211,0)
 .I TNM="3B10" S SG=3 Q         ;     T3b   N1    M0
"RTN","ONCSG5",212,0)
 .I TNM="3C00" S SG=3 Q         ;     T3c   N0    M0
"RTN","ONCSG5",213,0)
 .I TNM="3C10" S SG=3 Q         ;     T3c   N1    M0
"RTN","ONCSG5",214,0)
 .I TNM=400 S SG=4 Q            ;IV   T4    N0    M0
"RTN","ONCSG5",215,0)
 .I TNM=410 S SG=4 Q            ;     T4    N1    M0
"RTN","ONCSG5",216,0)
 .;per R-AD 01/13/98
"RTN","ONCSG5",217,0)
 .I TNM="4X0",STGIND="P" S SG=4 ;     T4    NX    M0 (Pathologic staging)
"RTN","ONCSG5",218,0)
 .I N=2,M=0 S SG=4 Q            ;     Any T N2    M0
"RTN","ONCSG5",219,0)
 .I M=1 S SG=4 Q                ;     Any T Any N M1
"RTN","ONCSG5",220,0)
 ;
"RTN","ONCSG5",221,0)
KID7 ;Kidney - 7th edition
"RTN","ONCSG5",222,0)
 S TNM=$E(T,1)_N_M D  K TNM Q
"RTN","ONCSG5",223,0)
 .I TNM=100 S SG=1 Q            ;I    T1    N0    M0
"RTN","ONCSG5",224,0)
 .I TNM=200 S SG=2 Q            ;II   T2    N0    M0
"RTN","ONCSG5",225,0)
 .I TNM=110 S SG=3 Q            ;III  T1    N1    M0
"RTN","ONCSG5",226,0)
 .I TNM=210 S SG=3 Q            ;     T2    N1    M0
"RTN","ONCSG5",227,0)
 .I TNM=300 S SG=3 Q            ;     T3    N0    M0
"RTN","ONCSG5",228,0)
 .I TNM=310 S SG=3 Q            ;     T3    N1    M0
"RTN","ONCSG5",229,0)
 .I T=4,M=0 S SG=4 Q            ;IV   T4    Any N M0
"RTN","ONCSG5",230,0)
 .I M=1 S SG=4 Q                ;     Any T Any N M1
"RTN","ONCSG5",231,0)
 ;
"RTN","ONCSG5",232,0)
CLEANUP ;Cleanup
"RTN","ONCSG5",233,0)
 K D0,G,M,N,STGIND,T
"RTN","ONCSG5A")
0^334^B64524003
"RTN","ONCSG5A",1,0)
ONCSG5A ;Hines OIFO/GWB - Automatic Staging Tables ;10/28/10
"RTN","ONCSG5A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSG5A",3,0)
 ;
"RTN","ONCSG5A",4,0)
RPU3 ;Renal Pelvis and Ureter - 3rd edition
"RTN","ONCSG5A",5,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",6,0)
 .I TNM="IS00" S SG=0 Q
"RTN","ONCSG5A",7,0)
 .I TNM="A00" S SG=0  Q
"RTN","ONCSG5A",8,0)
 .I TNM=100 S SG=1 Q
"RTN","ONCSG5A",9,0)
 .I TNM=200 S SG=2 Q
"RTN","ONCSG5A",10,0)
 .I TNM=300 S SG=3 Q
"RTN","ONCSG5A",11,0)
 .I TNM=400 S SG=4 Q
"RTN","ONCSG5A",12,0)
 .I N=1,M=0 S SG=4 Q
"RTN","ONCSG5A",13,0)
 .I N=2,M=0 S SG=4 Q
"RTN","ONCSG5A",14,0)
 .I N=3,M=0 S SG=4 Q
"RTN","ONCSG5A",15,0)
 .I M=1 S SG=4 Q
"RTN","ONCSG5A",16,0)
 ;
"RTN","ONCSG5A",17,0)
RPU456 ;Renal Pelvis and Ureter - 4th, 5th, 6th and 7th editions
"RTN","ONCSG5A",18,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",19,0)
 .I TNM="A00" S SG="0A" Q    ;0a   Ta    N0    M0
"RTN","ONCSG5A",20,0)
 .I TNM="IS00" S SG="0IS" Q  ;0is  Tis   N0    M0
"RTN","ONCSG5A",21,0)
 .I TNM=100 S SG=1 Q         ;I    T1    N0    M0
"RTN","ONCSG5A",22,0)
 .I TNM=200 S SG=2 Q         ;II   T2    N0    M0
"RTN","ONCSG5A",23,0)
 .I TNM=300 S SG=3 Q         ;III  T3    N0    M0
"RTN","ONCSG5A",24,0)
 .I TNM=400 S SG=4 Q         ;IV   T4    N0    M0
"RTN","ONCSG5A",25,0)
 .I N=1,M=0 S SG=4 Q         ;     Any T N1    M0
"RTN","ONCSG5A",26,0)
 .I N=2,M=0 S SG=4 Q         ;     Any T N2    M0
"RTN","ONCSG5A",27,0)
 .I N=3,M=0 S SG=4 Q         ;     Any T N3    M0
"RTN","ONCSG5A",28,0)
 .I M=1 S SG=4 Q             ;     Any T Any N M1
"RTN","ONCSG5A",29,0)
 ;
"RTN","ONCSG5A",30,0)
UB3 ;Urinary bladder - 3rd edition
"RTN","ONCSG5A",31,0)
 I (M=1)!(N=1)!(N=2)!(N=3) S SG=4
"RTN","ONCSG5A",32,0)
 E  I N=0,M=0 S SG=$S(T="IS":0,T="A":0,T=1:1,T=2:2,T[3:3,T=4:4,1:99)
"RTN","ONCSG5A",33,0)
 Q
"RTN","ONCSG5A",34,0)
 ;
"RTN","ONCSG5A",35,0)
UB4 ;Urinary bladder - 4th edition
"RTN","ONCSG5A",36,0)
 I M!(N=1)!(N=2)!(N=3)!(T="4B") S SG=4
"RTN","ONCSG5A",37,0)
 E  I T="A",N=0,M=0 S SG="0A"
"RTN","ONCSG5A",38,0)
 E  I T="IS",N=0,M=0 S SG="0IS"
"RTN","ONCSG5A",39,0)
 E  I T[1,N=0,M=0 S SG=1
"RTN","ONCSG5A",40,0)
 E  I (T[2)!(T["3A"),N=0,M=0 S SG=2
"RTN","ONCSG5A",41,0)
 E  I (T["3B")!(T["4A"),N=0,M=0 S SG=3
"RTN","ONCSG5A",42,0)
 E  S SG=99
"RTN","ONCSG5A",43,0)
 Q
"RTN","ONCSG5A",44,0)
 ;
"RTN","ONCSG5A",45,0)
UB56 ;Urinary bladder - 5th and 6th editions
"RTN","ONCSG5A",46,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",47,0)
 .I TNM="A00" S SG="0A" Q    ;0a   Ta    N0    M0
"RTN","ONCSG5A",48,0)
 .I TNM="IS00" S SG="0IS" Q  ;0is  Tis   N0    M0
"RTN","ONCSG5A",49,0)
 .I TNM=100 S SG=1 Q         ;I    T1    N0    M0
"RTN","ONCSG5A",50,0)
 .I TNM=200 S SG=2 Q         ;II   T2    N0    M0
"RTN","ONCSG5A",51,0)
 .I TNM="2A00" S SG=2 Q      ;     T2a   N0    M0
"RTN","ONCSG5A",52,0)
 .I TNM="2B00" S SG=2 Q      ;     T2b   N0    M0
"RTN","ONCSG5A",53,0)
 .I TNM=300 S SG=3 Q         ;III  T3    N0    M0
"RTN","ONCSG5A",54,0)
 .I TNM="3A00" S SG=3 Q      ;     T3a   N0    M0
"RTN","ONCSG5A",55,0)
 .I TNM="3B00" S SG=3 Q      ;     T3b   N0    M0
"RTN","ONCSG5A",56,0)
 .I TNM="4A00" S SG=3 Q      ;     T4a   N0    M0
"RTN","ONCSG5A",57,0)
 .I TNM="4B00" S SG=4 Q      ;IV   T4b   N0    M0
"RTN","ONCSG5A",58,0)
 .I N=1,M=0 S SG=4 Q         ;     Any T N1    M0
"RTN","ONCSG5A",59,0)
 .I N=2,M=0 S SG=4 Q         ;     Any T N2    M0
"RTN","ONCSG5A",60,0)
 .I N=3,M=0 S SG=4 Q         ;     Any T N3    M0
"RTN","ONCSG5A",61,0)
 .I M=1 S SG=4 Q             ;     Any T Any N M1
"RTN","ONCSG5A",62,0)
 ;
"RTN","ONCSG5A",63,0)
U3 ;Urethra - 3rd edition
"RTN","ONCSG5A",64,0)
 S SG=99
"RTN","ONCSG5A",65,0)
 I M=1 S SG=4
"RTN","ONCSG5A",66,0)
 E  I M=0 D
"RTN","ONCSG5A",67,0)
 .I (N=2)!(N=3) S SG=4
"RTN","ONCSG5A",68,0)
 .E  I N=1 S SG=$S(T=4:4,(T=1)!(T=2)!(T=3):3,1:9)
"RTN","ONCSG5A",69,0)
 .E  I N=0 S SG=+T
"RTN","ONCSG5A",70,0)
 Q
"RTN","ONCSG5A",71,0)
 ;
"RTN","ONCSG5A",72,0)
U4 ;Urethra - 4th edition
"RTN","ONCSG5A",73,0)
 K SG
"RTN","ONCSG5A",74,0)
 I M=1 S SG=4
"RTN","ONCSG5A",75,0)
 E  I M=0 D UR4NM
"RTN","ONCSG5A",76,0)
 I '$D(SG) S SG=99
"RTN","ONCSG5A",77,0)
 Q
"RTN","ONCSG5A",78,0)
UR4NM I N=0 S SG=T
"RTN","ONCSG5A",79,0)
 E  I N=1 D
"RTN","ONCSG5A",80,0)
 .I (T=1)!(T=2)!(T=3) S SG=3
"RTN","ONCSG5A",81,0)
 .E  I T=4 S SG=4
"RTN","ONCSG5A",82,0)
 E  I (N=2)!(N=3) S SG=4
"RTN","ONCSG5A",83,0)
 Q
"RTN","ONCSG5A",84,0)
 ;
"RTN","ONCSG5A",85,0)
U56 ;Urethra - 5th and 6th editions
"RTN","ONCSG5A",86,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",87,0)
 .I TNM="A00" S SG="0A" Q       ;0a   Ta     N0    M0
"RTN","ONCSG5A",88,0)
 .I TNM="IS00" S SG="0IS" Q     ;0is  Tis    N0    M0
"RTN","ONCSG5A",89,0)
 .I TNM="IS PU00" S SG="0IS" Q  ;     Tis pu N0    M0
"RTN","ONCSG5A",90,0)
 .I TNM="IS PD00" S SG="0IS" Q  ;     Tis pd N0    M0
"RTN","ONCSG5A",91,0)
 .I TNM=100 S SG=1 Q            ;I    T1     N0    M0
"RTN","ONCSG5A",92,0)
 .I TNM=200 S SG=2 Q            ;II   T2     N0    M0
"RTN","ONCSG5A",93,0)
 .I TNM=110 S SG=3 Q            ;III  T1     N1    M0
"RTN","ONCSG5A",94,0)
 .I TNM=210 S SG=3 Q            ;     T2     N1    M0
"RTN","ONCSG5A",95,0)
 .I TNM=300 S SG=3 Q            ;     T3     N0    M0
"RTN","ONCSG5A",96,0)
 .I TNM=310 S SG=3 Q            ;     T3     N1    M0
"RTN","ONCSG5A",97,0)
 .I TNM=400 S SG=4 Q            ;IV   T4     N0    M0
"RTN","ONCSG5A",98,0)
 .I TNM=410 S SG=4 Q            ;     T4     N1    M0
"RTN","ONCSG5A",99,0)
 .I N=2,M=0 S SG=4 Q            ;     Any T  N2    M0
"RTN","ONCSG5A",100,0)
 .I M=1 S SG=4 Q                ;     Any T  Any N M1
"RTN","ONCSG5A",101,0)
 ;
"RTN","ONCSG5A",102,0)
ADREN ;Adrenal - 7th editions
"RTN","ONCSG5A",103,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",104,0)
 .I TNM=100 S SG=1 Q            ;I    T1     N0    M0
"RTN","ONCSG5A",105,0)
 .I TNM=200 S SG=2 Q            ;II   T2     N0    M0
"RTN","ONCSG5A",106,0)
 .I TNM=110 S SG=3 Q            ;III  T1     N1    M0
"RTN","ONCSG5A",107,0)
 .I TNM=210 S SG=3 Q            ;     T2     N1    M0
"RTN","ONCSG5A",108,0)
 .I TNM=300 S SG=3 Q            ;     T3     N0    M0
"RTN","ONCSG5A",109,0)
 .I TNM=310 S SG=3 Q            ;IV   T3     N1    M0
"RTN","ONCSG5A",110,0)
 .I TNM=400 S SG=4 Q            ;     T4     N0    M0
"RTN","ONCSG5A",111,0)
 .I TNM=410 S SG=4 Q            ;     T4     N1    M0
"RTN","ONCSG5A",112,0)
 .I M=1 S SG=4 Q                ;     Any T  Any N M1
"RTN","ONCSG5A",113,0)
 ;
"RTN","ONCSG5A",114,0)
 ;OPHTHALMIC SITES
"RTN","ONCSG5A",115,0)
 ;
"RTN","ONCSG5A",116,0)
CE7 ;Carcinoma of the Eyelid - 7th edition
"RTN","ONCSG5A",117,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",118,0)
 .I TNM="IS00" S SG=0 Q      ;0    Tis   N0    M0
"RTN","ONCSG5A",119,0)
 .I TNM=100 S SG="1A" Q      ;IA   T1    N0    M0
"RTN","ONCSG5A",120,0)
 .I TNM="2A00" S SG="1B" Q   ;IB   T2a   N0    M0
"RTN","ONCSG5A",121,0)
 .I TNM="2B00" S SG="1C" Q   ;IC   T2b   N0    M0
"RTN","ONCSG5A",122,0)
 .I TNM="3A00" S SG=2 Q      ;II   T3a   N0    M0
"RTN","ONCSG5A",123,0)
 .I TNM="3B00" S SG="3A" Q   ;IIIA T3b   N0    M0
"RTN","ONCSG5A",124,0)
 .I N=1,M=0 S SG="3B" Q      ;IIIB Any T N1    M0
"RTN","ONCSG5A",125,0)
 .I T=4,M=0 S SG="3C" Q      ;IIIC T4    Any N M0
"RTN","ONCSG5A",126,0)
 .I M=1 S SG=4 Q             ;     Any T Any N M1
"RTN","ONCSG5A",127,0)
 ;
"RTN","ONCSG5A",128,0)
MME34 ;Malignant Melanoma of the Eyelid - 3rd and 4th editions
"RTN","ONCSG5A",129,0)
 S TNM=$E(T,1)_$E(N,1)_$E(M,1) D  K TNM Q
"RTN","ONCSG5A",130,0)
 .I TNM=100 S SG=1 Q         ;I    T1    N0    M0
"RTN","ONCSG5A",131,0)
 .I TNM=200 S SG=1 Q         ;     T2    N0    M0
"RTN","ONCSG5A",132,0)
 .I TNM=300 S SG=2 Q         ;II   T3    N0    M0
"RTN","ONCSG5A",133,0)
 .I TNM=400 S SG=3 Q         ;III  T4    N0    M0
"RTN","ONCSG5A",134,0)
 .I N=1,M=0 S SG=3 Q         ;     Any T N1    M0
"RTN","ONCSG5A",135,0)
 .I N=2,M=0 S SG=3 Q         ;     Any T N2    M0
"RTN","ONCSG5A",136,0)
 .I M=1 S SG=4 Q             ;     Any T Any N M1
"RTN","ONCSG5A",137,0)
 ;
"RTN","ONCSG5A",138,0)
 ;Malignant Melanoma of the Uvea - 3rd, 4th and 5th edtions
"RTN","ONCSG5A",139,0)
CHO345 ;Choroid
"RTN","ONCSG5A",140,0)
 I M=1 S SG="4B"
"RTN","ONCSG5A",141,0)
 E  I M=0 D
"RTN","ONCSG5A",142,0)
 .I N=1 S SG="4B"
"RTN","ONCSG5A",143,0)
 .E  I N=0 S SG=$S(T=4:"4A",T=3:3,T=2:2,T="1B":"1B",T="1A":"1A",1:99)
"RTN","ONCSG5A",144,0)
 Q
"RTN","ONCSG5A",145,0)
 ;
"RTN","ONCSG5A",146,0)
CBI345 ;Ciliary Body and iris
"RTN","ONCSG5A",147,0)
 I M=1 S SG="4B"
"RTN","ONCSG5A",148,0)
 E  I M=0 D
"RTN","ONCSG5A",149,0)
 .I N=1 S SG="4B"
"RTN","ONCSG5A",150,0)
 .E  I N=0 S SG=$S(T=4:"4A",T=3:3,T=2:2,T=1:1,1:99)
"RTN","ONCSG5A",151,0)
 Q
"RTN","ONCSG5A",152,0)
 ;
"RTN","ONCSG5A",153,0)
MMU6 ;Malignant Melanoma of the Uvea - 6th edtion
"RTN","ONCSG5A",154,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",155,0)
 .I TNM=100 S SG=1 Q            ;I    T1     N0    M0
"RTN","ONCSG5A",156,0)
 .I TNM="1A00" S SG=1 Q         ;     T1a    N0    M0
"RTN","ONCSG5A",157,0)
 .I TNM="1B00" S SG=1 Q         ;     T1b    N0    M0
"RTN","ONCSG5A",158,0)
 .I TNM="1C00" S SG=1 Q         ;     T1c    N0    M0
"RTN","ONCSG5A",159,0)
 .I TNM=200 S SG=2 Q            ;II   T2     N0    M0
"RTN","ONCSG5A",160,0)
 .I TNM="2A00" S SG=2 Q         ;     T2a    N0    M0
"RTN","ONCSG5A",161,0)
 .I TNM="2B00" S SG=2 Q         ;     T2b    N0    M0
"RTN","ONCSG5A",162,0)
 .I TNM="2C00" S SG=2 Q         ;     T2c    N0    M0
"RTN","ONCSG5A",163,0)
 .I TNM=300 S SG=3 Q            ;III  T3     N0    M0
"RTN","ONCSG5A",164,0)
 .I TNM="3A00" S SG=3 Q         ;     T3a    N0    M0
"RTN","ONCSG5A",165,0)
 .I TNM=400 S SG=3 Q            ;     T4     N0    M0
"RTN","ONCSG5A",166,0)
 .I N=1,M=0 S SG=4 Q            ;IV   Any T  N1    M0
"RTN","ONCSG5A",167,0)
 .I M=1 S SG=4 Q                ;     Any T  Any N M1
"RTN","ONCSG5A",168,0)
 ;
"RTN","ONCSG5A",169,0)
MMU7 ;Malignant Melanoma of the Uvea - 7th edtion
"RTN","ONCSG5A",170,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",171,0)
 .I TNM="1A00" S SG=1 Q         ;I    T1a    N0    M0
"RTN","ONCSG5A",172,0)
 .I TNM="1B00" S SG="2A" Q      ;IIA  T1b    N0    M0
"RTN","ONCSG5A",173,0)
 .I TNM="1C00" S SG="2A" Q      ;     T1c    N0    M0
"RTN","ONCSG5A",174,0)
 .I TNM="1D00" S SG="2A" Q      ;     T1d    N0    M0
"RTN","ONCSG5A",175,0)
 .I TNM="2A00" S SG="2A" Q      ;     T2a    N0    M0
"RTN","ONCSG5A",176,0)
 .I TNM="2B00" S SG="2B" Q      ;IIB  T2b    N0    M0
"RTN","ONCSG5A",177,0)
 .I TNM="3A00" S SG="2B" Q      ;     T3a    N0    M0
"RTN","ONCSG5A",178,0)
 .I TNM="2C00" S SG="3A" Q      ;IIIA T2c    N0    M0
"RTN","ONCSG5A",179,0)
 .I TNM="2D00" S SG="3A" Q      ;     T2d    N0    M0
"RTN","ONCSG5A",180,0)
 .I TNM="3B00" S SG="3A" Q      ;     T3b    N0    M0
"RTN","ONCSG5A",181,0)
 .I TNM="3C00" S SG="3A" Q      ;     T3c    N0    M0
"RTN","ONCSG5A",182,0)
 .I TNM="4A00" S SG="3A" Q      ;     T4a    N0    M0
"RTN","ONCSG5A",183,0)
 .I TNM="3D00" S SG="3B" Q      ;IIIB T3d    N0    M0
"RTN","ONCSG5A",184,0)
 .I TNM="4B00" S SG="3B" Q      ;     T4b    N0    M0
"RTN","ONCSG5A",185,0)
 .I TNM="4C00" S SG="3B" Q      ;     T4c    N0    M0
"RTN","ONCSG5A",186,0)
 .I TNM="4D00" S SG="3C" Q      ;IIIC T4d    N0    M0
"RTN","ONCSG5A",187,0)
 .I TNM="4E00" S SG="3C" Q      ;     T4e    N0    M0
"RTN","ONCSG5A",188,0)
 .I N=1,M=0 S SG=4 Q            ;IV   Any T  N1    M0
"RTN","ONCSG5A",189,0)
 .I $E(M,1)=1 S SG=4 Q          ;     Any T  Any N M1a-c
"RTN","ONCSG5A",190,0)
 ;
"RTN","ONCSG5A",191,0)
RET345 ;Retinoblastoma - 3rd, 4th and 5th editions
"RTN","ONCSG5A",192,0)
 S SG=99
"RTN","ONCSG5A",193,0)
 I M=1 S SG=4
"RTN","ONCSG5A",194,0)
 E  I M=0 D
"RTN","ONCSG5A",195,0)
 .I N=1 S SG=4
"RTN","ONCSG5A",196,0)
 .E  I N=0 S SG=$S(T=1:"1A",T=2:"1B",T="3A":"2A",T="3B":"2B",T="3C":"2C",T="4A":"3A",T="4B":"3B",1:99)
"RTN","ONCSG5A",197,0)
 Q
"RTN","ONCSG5A",198,0)
 ;
"RTN","ONCSG5A",199,0)
 ;CENTRAL NERVOUS SYSTEM
"RTN","ONCSG5A",200,0)
 ;
"RTN","ONCSG5A",201,0)
BSC34 ;Brain and Spincal Cord - 3rd and 4th editions
"RTN","ONCSG5A",202,0)
 S SG=99
"RTN","ONCSG5A",203,0)
 I M=1 S SG=4
"RTN","ONCSG5A",204,0)
 E  I M=0 D BNNM
"RTN","ONCSG5A",205,0)
 Q
"RTN","ONCSG5A",206,0)
BNNM I G=4 S SG=4
"RTN","ONCSG5A",207,0)
 E  I (G=1)!(G=2)!(G=3) D
"RTN","ONCSG5A",208,0)
 .I T=4 S SG=4
"RTN","ONCSG5A",209,0)
 .E  I (T=2)!(T=3) S SG=G_"B"
"RTN","ONCSG5A",210,0)
 .E  I T=1 S SG=G_"A"
"RTN","ONCSG5A",211,0)
 Q
"RTN","ONCSG5A",212,0)
 ;
"RTN","ONCSG5A",213,0)
 ;LYMPHOID NEOPLASMS
"RTN","ONCSG5A",214,0)
 ;
"RTN","ONCSG5A",215,0)
MF6 ;Mycosis fungoides - 6th edition
"RTN","ONCSG5A",216,0)
 S TNM=T_N_M D  K TNM Q
"RTN","ONCSG5A",217,0)
 .I TNM=100 S SG="1A" Q      ;IA   T1    N0    M0
"RTN","ONCSG5A",218,0)
 .I TNM=200 S SG="1B" Q      ;IB   T2    N0    M0
"RTN","ONCSG5A",219,0)
 .I TNM=110 S SG="2A" Q      ;IIA  T1    N1    M0
"RTN","ONCSG5A",220,0)
 .I TNM=210 S SG="2A" Q      ;     T2    N1    M0
"RTN","ONCSG5A",221,0)
 .I TNM=300 S SG="2B" Q      ;IIB  T3    N0    M0
"RTN","ONCSG5A",222,0)
 .I TNM=310 S SG="2B" Q      ;     T3    N1    M0
"RTN","ONCSG5A",223,0)
 .I TNM=400 S SG="3A" Q      ;IIIA T4    N0    M0
"RTN","ONCSG5A",224,0)
 .I TNM=410 S SG="3B" Q      ;IIIB T4    N1    M0
"RTN","ONCSG5A",225,0)
 .I N=2,M=0 S SG="4A" Q      ;IVA  Any T N2    M0
"RTN","ONCSG5A",226,0)
 .I N=3,M=0 S SG="4A" Q      ;     Any T N3    M0
"RTN","ONCSG5A",227,0)
 .I M=1 S SG="4B" Q          ;IVB  Any T Any N M1
"RTN","ONCSG5A",228,0)
 ;
"RTN","ONCSG5A",229,0)
MF7 ;Primary Cutaneous Lymphomas
"RTN","ONCSG5A",230,0)
 ;Mycosis fungoides and Sezary syndrome - 7th edition
"RTN","ONCSG5A",231,0)
 N PBI
"RTN","ONCSG5A",232,0)
 S PBI=$P($G(^ONCO(165.5,D0,24)),U,5)
"RTN","ONCSG5A",233,0)
 I PBI="" W !!?12,"PERIPHERAL BLOOD INVOLVEMENT is required for 7th Edition staging." Q
"RTN","ONCSG5A",234,0)
 S PBI=$E(PBI,2)
"RTN","ONCSG5A",235,0)
 S N=$E(N,1)
"RTN","ONCSG5A",236,0)
 S TNM=T_$E(N,1)_M_PBI D  K TNM Q
"RTN","ONCSG5A",237,0)
 .I TNM=1000 S SG="1A" Q               ;IA   T1    N0    M0  B0
"RTN","ONCSG5A",238,0)
 .I TNM=1001 S SG="1A" Q               ;     T1    N0    M0  B1
"RTN","ONCSG5A",239,0)
 .I TNM=2000 S SG="1B" Q               ;IB   T2    N0    M0  B0
"RTN","ONCSG5A",240,0)
 .I TNM=2001 S SG="1B" Q               ;     T2    N0    M0  B1
"RTN","ONCSG5A",241,0)
 .I T<3,N<3,M=0,PBI<2 S SG="2A" Q      ;IIA  T1,2  N1,2  M0  B0,1
"RTN","ONCSG5A",242,0)
 .I T=3,N<3,M=0,PBI<2 S SG="2B" Q      ;IIB  T3    N0-2  M0  B0,1
"RTN","ONCSG5A",243,0)
 .I T=4,N<3,M=0,PBI=0 S SG="3A" Q      ;IIIA T4    N0-2  M0  B0
"RTN","ONCSG5A",244,0)
 .I T=4,N<3,M=0,PBI=1 S SG="3B" Q      ;IIIB T4    N0-2  M0  B1
"RTN","ONCSG5A",245,0)
 .I T'="X",N<3,M=0,PBI=2 S SG="4A1" Q  ;IVA1 T1-4  N0-2  M0  B2
"RTN","ONCSG5A",246,0)
 .I T'="X",N=3,M=0 S SG="4A2" Q        ;IVA2 T1-4  N3    M0  Any B
"RTN","ONCSG5A",247,0)
 .I T'="X",N'="X",M=1 S SG="4B" Q      ;IVB  T1-4  N0-3  M1  Any B
"RTN","ONCSG5A",248,0)
 ;
"RTN","ONCSG5A",249,0)
CLEANUP ;Cleanup
"RTN","ONCSG5A",250,0)
 K D0,G,M,N,T
"RTN","ONCSNACR")
0^335^B6005907
"RTN","ONCSNACR",1,0)
ONCSNACR ;Hines OIFO/SG - NACCR TOOLS  ; 3/9/07 10:40am
"RTN","ONCSNACR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSNACR",3,0)
 ;
"RTN","ONCSNACR",4,0)
 ; ONC8DST ------------- DESCRIPTOR OF THE DESTINATION BUFFER
"RTN","ONCSNACR",5,0)
 ;                       (a parameter of BEGIN, END, FLUSH, and
"RTN","ONCSNACR",6,0)
 ;                       WRITE).  See also the ^ONCSAPIR.
"RTN","ONCSNACR",7,0)
 ;
"RTN","ONCSNACR",8,0)
 ; ONC8DST(              Closed root of the destination buffer
"RTN","ONCSNACR",9,0)
 ;   "BUF")              Output buffer
"RTN","ONCSNACR",10,0)
 ;   "LBA")              Available space in the output buffer
"RTN","ONCSNACR",11,0)
 ;   "PTR")              Pointer in the destination buffer
"RTN","ONCSNACR",12,0)
 ;   "PTRC")             Continuation pointer (optional)
"RTN","ONCSNACR",13,0)
 ;
"RTN","ONCSNACR",14,0)
 Q
"RTN","ONCSNACR",15,0)
 ;
"RTN","ONCSNACR",16,0)
 ;***** STARTS THE NAACCR RECORD OUTPUT
"RTN","ONCSNACR",17,0)
 ;
"RTN","ONCSNACR",18,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",19,0)
 ;
"RTN","ONCSNACR",20,0)
BEGIN(ONC8DST) ;
"RTN","ONCSNACR",21,0)
 Q:$G(ONC8DST)=""
"RTN","ONCSNACR",22,0)
 K ONC8DST("BUF"),ONC8DST("LBA")
"RTN","ONCSNACR",23,0)
 S:'$D(ONC8DST("PTR")) ONC8DST("PTR")=+$O(@ONC8DST@(""),-1)
"RTN","ONCSNACR",24,0)
 ;--- Open tag for the NAACCR record
"RTN","ONCSNACR",25,0)
 D PUT^ONCSAPIR(.ONC8DST,"NAACCR-RECORD",,1)
"RTN","ONCSNACR",26,0)
 D FLUSH(.ONC8DST)
"RTN","ONCSNACR",27,0)
 Q
"RTN","ONCSNACR",28,0)
 ;
"RTN","ONCSNACR",29,0)
 ;***** RETURNS CRC32 VALUE FOR THE NAACCR RECORD
"RTN","ONCSNACR",30,0)
 ;
"RTN","ONCSNACR",31,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",32,0)
 ;
"RTN","ONCSNACR",33,0)
 ; Return values:
"RTN","ONCSNACR",34,0)
 ;        0  NAACCR record data has not been found
"RTN","ONCSNACR",35,0)
 ;      ...  CRC32 value
"RTN","ONCSNACR",36,0)
 ;
"RTN","ONCSNACR",37,0)
CRC32(ONC8DST) ;
"RTN","ONCSNACR",38,0)
 N BUF,CRC,FLT,FLTL,PI
"RTN","ONCSNACR",39,0)
 S FLTL=$L(ONC8DST)-1,FLT=$E(ONC8DST,1,FLTL)
"RTN","ONCSNACR",40,0)
 ;--- Search for beginning of the record data
"RTN","ONCSNACR",41,0)
 S PI=ONC8DST
"RTN","ONCSNACR",42,0)
 F  S PI=$Q(@PI)  Q:$E(PI,1,FLTL)'=FLT  Q:$E(@PI,1,14)="<NAACCR-RECORD"
"RTN","ONCSNACR",43,0)
 Q:$E(PI,1,FLTL)'=FLT 0
"RTN","ONCSNACR",44,0)
 ;--- Calculate the checksum
"RTN","ONCSNACR",45,0)
 S CRC=4294967295
"RTN","ONCSNACR",46,0)
 F  S PI=$Q(@PI)  Q:$E(PI,1,FLTL)'=FLT  S BUF=@PI  Q:BUF="</NAACCR-RECORD>"  D
"RTN","ONCSNACR",47,0)
 . S CRC=$$CRC32^XLFCRC(BUF,CRC)
"RTN","ONCSNACR",48,0)
 ;--- Success
"RTN","ONCSNACR",49,0)
 Q CRC
"RTN","ONCSNACR",50,0)
 ;
"RTN","ONCSNACR",51,0)
 ;***** FINISHES THE NAACCR RECORD OUTPUT
"RTN","ONCSNACR",52,0)
 ;
"RTN","ONCSNACR",53,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",54,0)
 ;
"RTN","ONCSNACR",55,0)
END(ONC8DST) ;
"RTN","ONCSNACR",56,0)
 I $G(ONC8DST)=""  W !  Q
"RTN","ONCSNACR",57,0)
 ;--- Close tag for the NAACCR record
"RTN","ONCSNACR",58,0)
 D FLUSH(.ONC8DST),APPEND^ONCSAPIR(.ONC8DST,"</NAACCR-RECORD>",1)
"RTN","ONCSNACR",59,0)
 K ONC8DST("BUF"),ONC8DST("LBA")
"RTN","ONCSNACR",60,0)
 Q
"RTN","ONCSNACR",61,0)
 ;
"RTN","ONCSNACR",62,0)
 ;***** FLUSHES THE OUTPUT BUFFER
"RTN","ONCSNACR",63,0)
 ;
"RTN","ONCSNACR",64,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",65,0)
 ;
"RTN","ONCSNACR",66,0)
FLUSH(ONC8DST) ;
"RTN","ONCSNACR",67,0)
 Q:$G(ONC8DST)=""
"RTN","ONCSNACR",68,0)
 D:$G(ONC8DST("BUF"))'="" APPEND^ONCSAPIR(.ONC8DST,ONC8DST("BUF"),1)
"RTN","ONCSNACR",69,0)
 S ONC8DST("BUF")="",ONC8DST("LBA")=250
"RTN","ONCSNACR",70,0)
 Q
"RTN","ONCSNACR",71,0)
 ;
"RTN","ONCSNACR",72,0)
 ;***** OUTPUTS THE PIECE OF THE NAACCR RECORD
"RTN","ONCSNACR",73,0)
 ;
"RTN","ONCSNACR",74,0)
 ; [.ONC8DST]    Reference to a descriptor of the destination buffer
"RTN","ONCSNACR",75,0)
 ;
"RTN","ONCSNACR",76,0)
 ; VAL           A piece of the NAACCR record
"RTN","ONCSNACR",77,0)
 ;
"RTN","ONCSNACR",78,0)
WRITE(ONC8DST,VAL) ;
"RTN","ONCSNACR",79,0)
 I $G(ONC8DST)=""  W VAL  Q
"RTN","ONCSNACR",80,0)
 N ENCTXT,LT
"RTN","ONCSNACR",81,0)
 S ENCTXT=$$SYMENC^MXMLUTL(VAL),LT=$L(ENCTXT)
"RTN","ONCSNACR",82,0)
 F  Q:LT'>0  D
"RTN","ONCSNACR",83,0)
 . I LT>ONC8DST("LBA")  D
"RTN","ONCSNACR",84,0)
 . . S ONC8DST("BUF")=ONC8DST("BUF")_$E(ENCTXT,1,ONC8DST("LBA"))
"RTN","ONCSNACR",85,0)
 . . S $E(ENCTXT,1,ONC8DST("LBA"))=""
"RTN","ONCSNACR",86,0)
 . . S LT=LT-ONC8DST("LBA"),ONC8DST("LBA")=0
"RTN","ONCSNACR",87,0)
 . E  D
"RTN","ONCSNACR",88,0)
 . . S ONC8DST("BUF")=ONC8DST("BUF")_ENCTXT
"RTN","ONCSNACR",89,0)
 . . S ONC8DST("LBA")=ONC8DST("LBA")-LT,LT=0
"RTN","ONCSNACR",90,0)
 . D:ONC8DST("LBA")'>0 FLUSH(.ONC8DST)
"RTN","ONCSNACR",91,0)
 Q
"RTN","ONCSPC0")
0^336^B16826730
"RTN","ONCSPC0",1,0)
ONCSPC0 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma ;8/23/96
"RTN","ONCSPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCSPC0",4,0)
 ;Check if ACCESSION YEAR = 1996
"RTN","ONCSPC0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1996 S MSG="The Accession Year is not 1996." D ERRMSG G EXIT
"RTN","ONCSPC0",6,0)
 ;Check if microscopically confirmed
"RTN","ONCSPC0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCSPC0",8,0)
 ;Check if Class of Case is either 1 or 2.
"RTN","ONCSPC0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2) S MSG="The Class of Case code is not 1 or 2." D ERRMSG G EXIT
"RTN","ONCSPC0",10,0)
 ;Check if HISTOLOGY is eligible
"RTN","ONCSPC0",11,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3),HIST123=$E(HIST,1,3)
"RTN","ONCSPC0",12,0)
 I HIST="" S MSG="There is no HISTOLOGY for this primary." D ERRMSG G EXIT
"RTN","ONCSPC0",13,0)
 S HIST(868)=""
"RTN","ONCSPC0",14,0)
 S HIST(869)=""
"RTN","ONCSPC0",15,0)
 S HIST(870)=""
"RTN","ONCSPC0",16,0)
 S HIST(871)=""
"RTN","ONCSPC0",17,0)
 S HIST(880)=""
"RTN","ONCSPC0",18,0)
 S HIST(881)=""
"RTN","ONCSPC0",19,0)
 S HIST(882)=""
"RTN","ONCSPC0",20,0)
 S HIST(883)=""
"RTN","ONCSPC0",21,0)
 S HIST(884)=""
"RTN","ONCSPC0",22,0)
 S HIST(885)=""
"RTN","ONCSPC0",23,0)
 S HIST(886)=""
"RTN","ONCSPC0",24,0)
 S HIST(887)=""
"RTN","ONCSPC0",25,0)
 S HIST(888)=""
"RTN","ONCSPC0",26,0)
 S HIST(889)=""
"RTN","ONCSPC0",27,0)
 S HIST(890)=""
"RTN","ONCSPC0",28,0)
 S HIST(891)=""
"RTN","ONCSPC0",29,0)
 S HIST(892)=""
"RTN","ONCSPC0",30,0)
 S HIST(899)=""
"RTN","ONCSPC0",31,0)
 S HIST(904)=""
"RTN","ONCSPC0",32,0)
 S HIST(905)=""
"RTN","ONCSPC0",33,0)
 S HIST(912)=""
"RTN","ONCSPC0",34,0)
 S HIST(913)=""
"RTN","ONCSPC0",35,0)
 S HIST(915)=""
"RTN","ONCSPC0",36,0)
 S HIST(916)=""
"RTN","ONCSPC0",37,0)
 S HIST(917)=""
"RTN","ONCSPC0",38,0)
 S HIST(918)=""
"RTN","ONCSPC0",39,0)
 S HIST(919)=""
"RTN","ONCSPC0",40,0)
 S HIST(920)=""
"RTN","ONCSPC0",41,0)
 S HIST(921)=""
"RTN","ONCSPC0",42,0)
 S HIST(922)=""
"RTN","ONCSPC0",43,0)
 S HIST(923)=""
"RTN","ONCSPC0",44,0)
 S HIST(924)=""
"RTN","ONCSPC0",45,0)
 S HIST(925)=""
"RTN","ONCSPC0",46,0)
 S HIST(926)=""
"RTN","ONCSPC0",47,0)
 S HIST(927)=""
"RTN","ONCSPC0",48,0)
 S HIST(928)=""
"RTN","ONCSPC0",49,0)
 S HIST(929)=""
"RTN","ONCSPC0",50,0)
 S HIST(930)=""
"RTN","ONCSPC0",51,0)
 S HIST(931)=""
"RTN","ONCSPC0",52,0)
 S HIST(932)=""
"RTN","ONCSPC0",53,0)
 S HIST(933)=""
"RTN","ONCSPC0",54,0)
 S HIST(934)=""
"RTN","ONCSPC0",55,0)
 S HIST(937)=""
"RTN","ONCSPC0",56,0)
 S HIST(949)=""
"RTN","ONCSPC0",57,0)
 S HIST(950)=""
"RTN","ONCSPC0",58,0)
 S HIST(954)=""
"RTN","ONCSPC0",59,0)
 S HIST(955)=""
"RTN","ONCSPC0",60,0)
 S HIST(956)=""
"RTN","ONCSPC0",61,0)
 S HIST(957)=""
"RTN","ONCSPC0",62,0)
 S HIST(958)=""
"RTN","ONCSPC0",63,0)
 I $E(ICDO,2,3)=44,$E(HIST,1,4)'=8832 S MSG="Skin sites are only allowed for patients with dermatofibrosarcoma." D ERRMSG G EXIT
"RTN","ONCSPC0",64,0)
 I ('$D(HIST(HIST123)))!($E(HIST,5)'=3) S MSG="The Histology of "_$E(HIST,1,4)_"/"_$E(HIST,5)_" is not eligible." D ERRMSG G EXIT
"RTN","ONCSPC0",65,0)
MENU ;Soft Tissue Sarcoma PCE menu
"RTN","ONCSPC0",66,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="STS"
"RTN","ONCSPC0",67,0)
 S ^ONCO(165.5,"APCE","STS",ONCONUM)=""
"RTN","ONCSPC0",68,0)
 K DIR D HEAD
"RTN","ONCSPC0",69,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis/Cancer Identification;3:Extent of Disease and AJCC Stage;4:First Course of Therapy;5:First Recurrence and Subsequent Treatment;6:Status at Last Contact;7:All;"
"RTN","ONCSPC0",70,0)
 S DIR(0)=DIR(0)_"8:Print Soft Tissue Sarcoma PCE"
"RTN","ONCSPC0",71,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCSPC0",72,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCSPC0",73,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCSPC0",74,0)
 .D ^ONCSPC1 Q:$G(OUT)="Y"
"RTN","ONCSPC0",75,0)
 .D ^ONCSPC2 Q:$G(OUT)="Y"
"RTN","ONCSPC0",76,0)
 .D ^ONCSPC3 Q:$G(OUT)="Y"
"RTN","ONCSPC0",77,0)
 .D ^ONCSPC4 Q:$G(OUT)="Y"
"RTN","ONCSPC0",78,0)
 .D ^ONCSPC5 Q:$G(OUT)="Y"
"RTN","ONCSPC0",79,0)
 .D ^ONCSPC6 Q:$G(OUT)="Y"
"RTN","ONCSPC0",80,0)
 I Y=8 D ^ONCSPC8 G MENU
"RTN","ONCSPC0",81,0)
 S SUB="^ONCSPC"_Y D @SUB G MENU
"RTN","ONCSPC0",82,0)
ERRMSG ;Error message
"RTN","ONCSPC0",83,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCSPC0",84,0)
 K MSG Q
"RTN","ONCSPC0",85,0)
HEAD ;Soft Tissue Sarcoma PCE header
"RTN","ONCSPC0",86,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCSPC0",87,0)
 S HDL=$L("Patient Care Evaluation Study of Soft Tissue Sarcoma"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCSPC0",88,0)
 W !,?TAB,"Patient Care Evaluation Study of Soft Tissue Sarcoma",!,DASHES
"RTN","ONCSPC0",89,0)
 Q
"RTN","ONCSPC0",90,0)
EXIT ;Kill variables and exit
"RTN","ONCSPC0",91,0)
 K COC,DC,HDL,HIST,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCSPC0",92,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCSPC0",93,0)
 Q
"RTN","ONCSPC1")
0^337^B7803234
"RTN","ONCSPC1",1,0)
ONCSPC1 ;Hines OIFO/GWB - PCE Study of Soft Tissue Sarcoma ;05/30/00
"RTN","ONCSPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC1",3,0)
 ;Table I
"RTN","ONCSPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCSPC1",5,0)
 S TABLE("ACCESSION NUMBER")="AN"
"RTN","ONCSPC1",6,0)
 S TABLE("SEQUENCE NUMBER")="SN"
"RTN","ONCSPC1",7,0)
 S TABLE("POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCSPC1",8,0)
 S TABLE("DATE OF BIRTH")="DOB"
"RTN","ONCSPC1",9,0)
 S TABLE("RACE")="R"
"RTN","ONCSPC1",10,0)
 S TABLE("SPANISH ORIGIN")="SO"
"RTN","ONCSPC1",11,0)
 S TABLE("SEX")="S"
"RTN","ONCSPC1",12,0)
 S TABLE("PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCSPC1",13,0)
 S TABLE("FAMILY HISTORY OF SOFT TISSUE SARCOMA")="FHOSTS"
"RTN","ONCSPC1",14,0)
 S TABLE("PERSONAL HISTORY OF ANY CANCER")="PHOAC"
"RTN","ONCSPC1",15,0)
 S HTABLE(1)="ACCESSION NUMBER"
"RTN","ONCSPC1",16,0)
 S HTABLE(2)="SEQUENCE NUMBER"
"RTN","ONCSPC1",17,0)
 S HTABLE(3)="POSTAL CODE AT DIAGNOSIS"
"RTN","ONCSPC1",18,0)
 S HTABLE(4)="DATE OF BIRTH"
"RTN","ONCSPC1",19,0)
 S HTABLE(5)="RACE"
"RTN","ONCSPC1",20,0)
 S HTABLE(6)="SPANISH ORIGIN"
"RTN","ONCSPC1",21,0)
 S HTABLE(7)="SEX"
"RTN","ONCSPC1",22,0)
 S HTABLE(8)="PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCSPC1",23,0)
 S HTABLE(9)="FAMILY HISTORY OF SOFT TISSUE SARCOMA"
"RTN","ONCSPC1",24,0)
 S HTABLE(10)="PERSONAL HISTORY OF ANY CANCER"
"RTN","ONCSPC1",25,0)
 S CHOICES=10
"RTN","ONCSPC1",26,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".05;.06",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCSPC1",27,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCSPC1",28,0)
 W @IOF D HEAD^ONCSPC0 W !?25,"TABLE I - GENERAL INFORMATION",!
"RTN","ONCSPC1",29,0)
AN W !,"ACCESSION NUMBER.....................: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCSPC1",30,0)
SN W !,"SEQUENCE NUMBER......................: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCSPC1",31,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC1",32,0)
 S DR="9POSTAL CODE AT DIAGNOSIS............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",33,0)
DOB W !,"DATE OF BIRTH........................: ",DOB
"RTN","ONCSPC1",34,0)
R S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCSPC1",35,0)
 S DR="8RACE................................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",36,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCSPC1",37,0)
 S DR="9SPANISH ORIGIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",38,0)
S S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCSPC1",39,0)
 S DR="10SEX.................................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",40,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC1",41,0)
 S DR="18PRIMARY PAYER AT DIAGNOSIS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",42,0)
FHOSTS S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC1",43,0)
 S DR="500FAMILY HISTORY OF SOFT TISSUE SARCOMA" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",44,0)
PHOAC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC1",45,0)
 S DR="501PERSONAL HISTORY OF ANY CANCER......." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC1",46,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC1",47,0)
 G EXIT
"RTN","ONCSPC1",48,0)
JUMP ;Jump to prompts
"RTN","ONCSPC1",49,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC1",50,0)
 I X["?" D  G JUMP
"RTN","ONCSPC1",51,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC1",52,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC1",53,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC1",54,0)
 S X=TABLE(X)
"RTN","ONCSPC1",55,0)
 G @X
"RTN","ONCSPC1",56,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCSPC1",57,0)
 K DOB
"RTN","ONCSPC1",58,0)
 K DA,DR,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,XX,Y
"RTN","ONCSPC1",59,0)
 Q
"RTN","ONCSPC2")
0^338^B16192359
"RTN","ONCSPC2",1,0)
ONCSPC2 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma Table II;6/19/96
"RTN","ONCSPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCSPC2",4,0)
 S TABLE("CLASS OF CASE")="COC"
"RTN","ONCSPC2",5,0)
 S TABLE("DIAGNOSTIC WORKUP")="DW"
"RTN","ONCSPC2",6,0)
 S TABLE("HISTOLOGIC WORKUP")="HW"
"RTN","ONCSPC2",7,0)
 S TABLE("BIOPSIES")="B"
"RTN","ONCSPC2",8,0)
 S TABLE("OUTSIDE CONFIRMATION OF BIOPSY")="OCOB"
"RTN","ONCSPC2",9,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DOID"
"RTN","ONCSPC2",10,0)
 S TABLE("PRIMARY SITE")="PS"
"RTN","ONCSPC2",11,0)
 S TABLE("SUBSITE")="S"
"RTN","ONCSPC2",12,0)
 S TABLE("HISTOLOGY/BEHAVIOR CODE")="H"
"RTN","ONCSPC2",13,0)
 S TABLE("GRADE")="G"
"RTN","ONCSPC2",14,0)
 S TABLE("ADDNL GRADE CODING SYSTEM")="AGCS"
"RTN","ONCSPC2",15,0)
 S TABLE("VALUE OF ADDNL CODING SYSTEM")="VOACS"
"RTN","ONCSPC2",16,0)
 S TABLE("DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCSPC2",17,0)
 S HTABLE(1)="CLASS OF CASE"
"RTN","ONCSPC2",18,0)
 S HTABLE(2)="DIAGNOSTIC WORKUP"
"RTN","ONCSPC2",19,0)
 S HTABLE(3)="HISTOLOGIC WORKUP"
"RTN","ONCSPC2",20,0)
 S HTABLE(4)="BIOPSIES"
"RTN","ONCSPC2",21,0)
 S HTABLE(5)="OUTSIDE CONFIRMATION OF BIOPSY"
"RTN","ONCSPC2",22,0)
 S HTABLE(6)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCSPC2",23,0)
 S HTABLE(7)="PRIMARY SITE"
"RTN","ONCSPC2",24,0)
 S HTABLE(8)="SUBSITE"
"RTN","ONCSPC2",25,0)
 S HTABLE(9)="HISTOLOGY/BEHAVIOR CODE"
"RTN","ONCSPC2",26,0)
 S HTABLE(10)="GRADE"
"RTN","ONCSPC2",27,0)
 S HTABLE(11)="ADDNL GRADE CODING SYSTEM"
"RTN","ONCSPC2",28,0)
 S HTABLE(12)="VALUE OF ADDNL CODING SYSTEM"
"RTN","ONCSPC2",29,0)
 S HTABLE(13)="DIAGNOSTIC CONFIRMATION"
"RTN","ONCSPC2",30,0)
 S CHOICES=13
"RTN","ONCSPC2",31,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;22;24;26",DA=ONCONUM,DIQ="ONC"
"RTN","ONCSPC2",32,0)
 D EN^DIQ1
"RTN","ONCSPC2",33,0)
 S Y=$P(^ONCO(165.5,ONCONUM,0),U,16) D DATEOT^ONCOPCE S DOID=Y
"RTN","ONCSPC2",34,0)
 W @IOF D HEAD^ONCSPC0
"RTN","ONCSPC2",35,0)
 W !?24,"TABLE II- INITIAL DIAGNOSIS/CANCER IDENTIFICATION",!
"RTN","ONCSPC2",36,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC2",37,0)
COC W !,"CLASS OF CLASS................:",ONC(165.5,ONCONUM,.04)
"RTN","ONCSPC2",38,0)
DW W !!,"DIAGNOSTIC WORKUP:",!
"RTN","ONCSPC2",39,0)
 S DR="502  ANGIOGRAM OF PRIMARY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",40,0)
 S DR="503  BONE MARROW ASPIRATE/BIOPSY." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",41,0)
 S DR="504  BONE SCAN..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",42,0)
 S DR="505  CHEST X-RAY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",43,0)
 S DR="506  CT SCAN OF CHEST............" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",44,0)
 S DR="507  CT SCAN OF PRIMARY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",45,0)
 S DR="508  LIVER FUNCTION STUDIES......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",46,0)
 S DR="509  LYMPHANGIOGRAM.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",47,0)
 S DR="510  MRI OF PRIMARY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",48,0)
 S DR="511  MRI OF OTHER................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",49,0)
 S DR="512  SKELETAL X-RAY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",50,0)
 S DR="513  SONOGRAM...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",51,0)
HW W !!,"HISTOLOGIC WORKUP:",!
"RTN","ONCSPC2",52,0)
 S DR="514  CYTOGENETICS................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",53,0)
 S DR="515  ELECTRON MICROSCOPY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",54,0)
 S DR="329  FLOW CYTOMETRY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",55,0)
 S DR="516  IMMUNOHISTOCHEMISTRY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",56,0)
 S DR="517  IN SITU HYBRIDIZATION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",57,0)
B W !!,"BIOPSIES:",!
"RTN","ONCSPC2",58,0)
 W !,"  TYPE                          HISTOLOGY/BEHAVIOR/GRADE",!
"RTN","ONCSPC2",59,0)
 S DR="528  FINE NEEDLE ASPIRATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",60,0)
 S DR="529  CORE NEEDLE BIOPSY.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",61,0)
 S DR="530  INCISIONAL BIOPSY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",62,0)
 S DR="531  EXCISIONAL BIOPSY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",63,0)
 W !
"RTN","ONCSPC2",64,0)
OCOB S DR="518OUTSIDE CONFIRMATION OF BIOPSY" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",65,0)
DOID W !,"DATE OF INITIAL DIAGNOSIS.....: ",DOID
"RTN","ONCSPC2",66,0)
PS W !,"PRIMARY SITE..................: ",TOPCOD
"RTN","ONCSPC2",67,0)
S S DR="519SUBSITE" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",68,0)
H W !,"HISTOLOGY/BEHAVIOR CODE.......: ",ONC(165.5,ONCONUM,22)
"RTN","ONCSPC2",69,0)
G S DR="24GRADE........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",70,0)
AGCS S DR="520ADDNL GRADE CODING SYSTEM....." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",71,0)
VOACS S DR="521VALUE OF ADDNL CODING SYSTEM.." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",72,0)
DC S DR="26DIAGNOSTIC CONFIRMATION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC2",73,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC2",74,0)
 G EXIT
"RTN","ONCSPC2",75,0)
JUMP ;Jump to prompts
"RTN","ONCSPC2",76,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC2",77,0)
 I X["?" D  G JUMP
"RTN","ONCSPC2",78,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC2",79,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC2",80,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC2",81,0)
 S X=TABLE(X)
"RTN","ONCSPC2",82,0)
 G @X
"RTN","ONCSPC2",83,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCSPC2",84,0)
 K DOID,HST,HSTCD,HSTNAM,PRINODE0,PRINODE2,TOPOG,TOPCD,SITE
"RTN","ONCSPC2",85,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCSPC2",86,0)
 Q
"RTN","ONCSPC3")
0^339^B13539346
"RTN","ONCSPC3",1,0)
ONCSPC3 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma Table III;6/19/96
"RTN","ONCSPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCSPC3",4,0)
 S TABLE("PRETREATMENT TUMOR SIZE (mm)")="PTS"
"RTN","ONCSPC3",5,0)
 S TABLE("PATHOLOGIC TUMOR SIZE (mm)")="SOT"
"RTN","ONCSPC3",6,0)
 S TABLE("DEPTH OF TUMOR")="DOT"
"RTN","ONCSPC3",7,0)
 S TABLE("MULTIFOCAL")="M"
"RTN","ONCSPC3",8,0)
 S TABLE("REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCSPC3",9,0)
 S TABLE("REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCSPC3",10,0)
 S TABLE("SITES OF DISTANT METASTASIS")="SODM"
"RTN","ONCSPC3",11,0)
 S TABLE("AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCSPC3",12,0)
 S TABLE("AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCSPC3",13,0)
 S TABLE("CLINICAL STAGED BY")="CSB"
"RTN","ONCSPC3",14,0)
 S TABLE("PATHOLOGIC STAGED BY")="PSB"
"RTN","ONCSPC3",15,0)
 S TABLE("CONSULTATIONS")="C"
"RTN","ONCSPC3",16,0)
 S HTABLE(1)="PRETREATMENT TUMOR SIZE (mm)"
"RTN","ONCSPC3",17,0)
 S HTABLE(2)="PATHOLOGIC TUMOR SIZE (mm)"
"RTN","ONCSPC3",18,0)
 S HTABLE(3)="DEPTH OF TUMOR"
"RTN","ONCSPC3",19,0)
 S HTABLE(4)="MULTIFOCAL"
"RTN","ONCSPC3",20,0)
 S HTABLE(5)="REGIONAL NODES EXAMINED"
"RTN","ONCSPC3",21,0)
 S HTABLE(6)="REGIONAL NODES POSITIVE"
"RTN","ONCSPC3",22,0)
 S HTABLE(7)="SITES OF DISTANT METASTASIS"
"RTN","ONCSPC3",23,0)
 S HTABLE(8)="AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCSPC3",24,0)
 S HTABLE(9)="AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCSPC3",25,0)
 S HTABLE(10)="CLINICAL STAGED BY"
"RTN","ONCSPC3",26,0)
 S HTABLE(11)="PATHOLOGIC STAGED BY"
"RTN","ONCSPC3",27,0)
 S HTABLE(12)="CONSULTATIONS"
"RTN","ONCSPC3",28,0)
 S CHOICES=12
"RTN","ONCSPC3",29,0)
 W @IOF D HEAD^ONCSPC0
"RTN","ONCSPC3",30,0)
 W !?18,"TABLE III- EXTENT OF DISEASE AND AJCC STAGE",!
"RTN","ONCSPC3",31,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC3",32,0)
PTS S DR="29PRETREATMENT TUMOR SIZE (mm)..." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",33,0)
SOT S DR="522PATHOLOGIC TUMOR SIZE (mm)....." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",34,0)
DOT S DR="523DEPTH OF TUMOR................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",35,0)
M S DR="433MULTIFOCAL....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",36,0)
RNE S DR="33REGIONAL NODES EXAMINED........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",37,0)
RNP S DR="32REGIONAL NODES POSITIVE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",38,0)
SODM W !!,"SITES OF DISTANT METASTASIS:",!
"RTN","ONCSPC3",39,0)
 S DR="34  SITE OF DISTANT METASTASIS #1" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",40,0)
 I X=0 D  G ACS
"RTN","ONCSPC3",41,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,15)=0
"RTN","ONCSPC3",42,0)
 .W !,"  SITE OF DISTANT METASTASIS #2: None"
"RTN","ONCSPC3",43,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,16)=0
"RTN","ONCSPC3",44,0)
 .W !,"  SITE OF DISTANT METASTASIS #3: None"
"RTN","ONCSPC3",45,0)
 S DR="34.1  SITE OF DISTANT METASTASIS #2" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",46,0)
 I X=0 D  G ACS
"RTN","ONCSPC3",47,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,16)=0
"RTN","ONCSPC3",48,0)
 .W !,"  SITE OF DISTANT METASTASIS #3: None"
"RTN","ONCSPC3",49,0)
 S DR="34.2  SITE OF DISTANT METASTASIS #3" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",50,0)
ACS W !!,"AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCSPC3",51,0)
CTCODE S DR="37.1  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",52,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCSPC3",53,0)
CNCODE S DR="37.2  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",54,0)
CMCODE S DR="37.3  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",55,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCSPC3",56,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCSPC3",57,0)
CSTAGE ;W ! S DR="38  AJCC STAGE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",58,0)
CSB S DR="19  CLINICAL STAGED BY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",59,0)
APS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCSPC3",60,0)
PTCODE S DR="85  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",61,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCSPC3",62,0)
PNCODE S DR="86  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",63,0)
PMCODE S DR="87  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",64,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCSPC3",65,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCSPC3",66,0)
PSTAGE ;W ! S DR="88  AJCC STAGE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",67,0)
PSB S DR="89  PATHOLOGIC STAGED BY........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",68,0)
C W !!,"CONSULTATIONS:",!
"RTN","ONCSPC3",69,0)
 S DR="524  MEDICAL ONCOLOGIST..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",70,0)
 S DR="525  RADIATION ONCOLOGIST........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC3",71,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC3",72,0)
 G EXIT
"RTN","ONCSPC3",73,0)
JUMP ;Jump to prompts
"RTN","ONCSPC3",74,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC3",75,0)
 I X["?" D  G JUMP
"RTN","ONCSPC3",76,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC3",77,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC3",78,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC3",79,0)
 S X=TABLE(X)
"RTN","ONCSPC3",80,0)
 G @X
"RTN","ONCSPC3",81,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCSPC3",82,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCSPC3",83,0)
 Q
"RTN","ONCSPC4")
0^340^B38181307
"RTN","ONCSPC4",1,0)
ONCSPC4 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma Table IV;6/19/96
"RTN","ONCSPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCSPC4",4,0)
 S TABLE("DATE OF FIRST COURSE TREATMENT")="DOFCT^ONCSPC4"
"RTN","ONCSPC4",5,0)
 S TABLE("SURGERY")="S^ONCSPC4"
"RTN","ONCSPC4",6,0)
 S TABLE("RADIATION THERAPY")="R^ONCSPC4"
"RTN","ONCSPC4",7,0)
 S TABLE("CHEMOTHERAPY")="C^ONCSPC4A"
"RTN","ONCSPC4",8,0)
 S HTABLE(1)="DATE OF FIRST COURSE TREATMENT"
"RTN","ONCSPC4",9,0)
 S HTABLE(2)="SURGERY"
"RTN","ONCSPC4",10,0)
 S HTABLE(3)="RADIATION THERAPY"
"RTN","ONCSPC4",11,0)
 S HTABLE(4)="CHEMOTHERAPY"
"RTN","ONCSPC4",12,0)
 S CHOICES=4
"RTN","ONCSPC4",13,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCSPC4",14,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53;53.2;58.1;58.2;58.3",DA=ONCONUM
"RTN","ONCSPC4",15,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCSPC4",16,0)
 W @IOF D HEAD^ONCSPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCSPC4",17,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC4",18,0)
DOFCT W !,"DATE OF FIRST COURSE TREATMENT....: ",DOFCT
"RTN","ONCSPC4",19,0)
S W !!,"SURGERY:",!
"RTN","ONCSPC4",20,0)
 S NCDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCSPC4",21,0)
 S Y=NCDSDT D DATEOT^ONCOPCE S NCDSDT=Y
"RTN","ONCSPC4",22,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCSPC4",23,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<42 S NCDS1=NCDS G CDSDT
"RTN","ONCSPC4",24,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCSPC4",25,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCSPC4",26,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCSPC4",27,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCSPC4",28,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCSPC4",29,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<42 S CDS1=CDS G NCDS
"RTN","ONCSPC4",30,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCSPC4",31,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCSPC4",32,0)
NCDS W !,"  NON CANCER-DIRECTED SURGERY DATE: ",NCDSDT
"RTN","ONCSPC4",33,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2
"RTN","ONCSPC4",34,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",CDSDT
"RTN","ONCSPC4",35,0)
CDS W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCSPC4",36,0)
 I (CDS="")!($E(CDS,1,2)="00") D  W @IOF G R
"RTN","ONCSPC4",37,0)
 .S $P(^ONCO(165.5,ONCONUM,3),U,28)=8
"RTN","ONCSPC4",38,0)
 .W !,"  RESIDUAL PRIMARY TUMOR..........: NA"
"RTN","ONCSPC4",39,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,1)=8
"RTN","ONCSPC4",40,0)
 .W !,"  TREATING SURGEON................: Not applicable, no surgery"
"RTN","ONCSPC4",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,2)=9
"RTN","ONCSPC4",42,0)
 .W !,"  ASA CLASS.......................: Class unknown or not applicable"
"RTN","ONCSPC4",43,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,42)=8
"RTN","ONCSPC4",44,0)
 .W !,"  POSTOPERATIVE DEATH.............: Not applicable, no surgery"
"RTN","ONCSPC4",45,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC4",46,0)
 S DR="59  RESIDUAL PRIMARY TUMOR.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",47,0)
 S DR="526  TREATING SURGEON................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",48,0)
 S DR="527  ASA CLASS......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",49,0)
 S DR="441  POSTOPERATIVE DEATH............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",50,0)
R W !!,"RADIATION THERAPY:",!
"RTN","ONCSPC4",51,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I")
"RTN","ONCSPC4",52,0)
 I RAD=0 D  W !,"  EXTERNAL BEAM RADIATION.........: No" D EB0 W !!,"  INTRAOPERATIVE RADIATION........: No" D IR0 W !!,"  BRACHYTHERAPY...................: No" D B0 G RSS
"RTN","ONCSPC4",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,3)=0
"RTN","ONCSPC4",54,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,6)=0
"RTN","ONCSPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,9)=0
"RTN","ONCSPC4",56,0)
 I RAD=9 D  W !,"  EXTERNAL BEAM RADIATION.........: Unknown" D EB9 W !!,"  INTRAOPERATIVE RADIATION........: Unknown" D IR9 W !!,"  BRACHYTHERAPY...................: Unknown" D B9 G RSS
"RTN","ONCSPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,3)=9
"RTN","ONCSPC4",58,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,6)=9
"RTN","ONCSPC4",59,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,9)=9
"RTN","ONCSPC4",60,0)
 S DR="532  EXTERNAL BEAM RADIATION........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",61,0)
 I X=0 D EB0 G IR
"RTN","ONCSPC4",62,0)
 I X=9 D EB9 G IR
"RTN","ONCSPC4",63,0)
 S DR="533    NUMBER OF FRACTIONS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",64,0)
 S DR="362    DOSE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",65,0)
 S DR="534    RADIATION ENERGY (MV)........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",66,0)
 S DR="567    DATE THERAPY STARTED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",67,0)
 S DR="361    DATE THERAPY ENDED............" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",68,0)
IR W ! S DR="535  INTRAOPERATIVE RADIATION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",69,0)
 I X=0 D IR0 G B
"RTN","ONCSPC4",70,0)
 I X=9 D IR9 G B
"RTN","ONCSPC4",71,0)
 S DR="536    DOSE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",72,0)
 S DR="537    RADIATION ENERGY (MV)........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",73,0)
B W ! S DR="538  BRACHYTHERAPY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",74,0)
 I X=0 D B0 G RSS
"RTN","ONCSPC4",75,0)
 I X=9 D B9 G RSS
"RTN","ONCSPC4",76,0)
 S DR="539    NUMBER OF DAYS GIVEN.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",77,0)
 S DR="540    DOSE.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",78,0)
 S DR="541    DATE THERAPY STARTED.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",79,0)
 S DR="542    DATE THERAPY ENDED............" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",80,0)
RSS W ! S DR="51.3  RADIATION/SURGERY SEQUENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4",81,0)
 D ^ONCSPC4A
"RTN","ONCSPC4",82,0)
 I $G(OUT)'="Y" W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC4",83,0)
 G EXIT
"RTN","ONCSPC4",84,0)
JUMP ;Jump to prompts
"RTN","ONCSPC4",85,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC4",86,0)
 I X["?" D  G JUMP
"RTN","ONCSPC4",87,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC4",88,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC4",89,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC4",90,0)
 S X=TABLE(X)
"RTN","ONCSPC4",91,0)
 G @X
"RTN","ONCSPC4",92,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCSPC4",93,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,HT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCSPC4",94,0)
 K RADDT
"RTN","ONCSPC4",95,0)
 Q
"RTN","ONCSPC4",96,0)
EB0 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,4)=0
"RTN","ONCSPC4",97,0)
 W !,"    NUMBER OF FRACTIONS...........: 000"
"RTN","ONCSPC4",98,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=0
"RTN","ONCSPC4",99,0)
 W !,"    DOSE..........................: 00000"
"RTN","ONCSPC4",100,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,5)=0
"RTN","ONCSPC4",101,0)
 W !,"    RADIATION ENERGY (MV).........: 00"
"RTN","ONCSPC4",102,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,38)="0000000"
"RTN","ONCSPC4",103,0)
 W !,"    DATE THERAPY STARTED..........: 00/00/0000"
"RTN","ONCSPC4",104,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)="0000000"
"RTN","ONCSPC4",105,0)
 W !,"    DATE THERAPY ENDED............: 00/00/0000"
"RTN","ONCSPC4",106,0)
 Q
"RTN","ONCSPC4",107,0)
EB9 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,4)=999
"RTN","ONCSPC4",108,0)
 W !,"    NUMBER OF FRACTIONS...........: 999"
"RTN","ONCSPC4",109,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,17)=99999
"RTN","ONCSPC4",110,0)
 W !,"    DOSE..........................: 99999"
"RTN","ONCSPC4",111,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,5)=99
"RTN","ONCSPC4",112,0)
 W !,"    RADIATION ENERGY (MV).........: 99"
"RTN","ONCSPC4",113,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,38)=9999999
"RTN","ONCSPC4",114,0)
 W !,"    DATE THERAPY STARTED..........: 99/99/9999"
"RTN","ONCSPC4",115,0)
 S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,16)=9999999
"RTN","ONCSPC4",116,0)
 W !,"    DATE THERAPY ENDED............: 99/99/9999"
"RTN","ONCSPC4",117,0)
 Q
"RTN","ONCSPC4",118,0)
IR0 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,7)=0
"RTN","ONCSPC4",119,0)
 W !,"    DOSE..........................: 00000"
"RTN","ONCSPC4",120,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,8)=0
"RTN","ONCSPC4",121,0)
 W !,"    RADIATION ENERGY (MV).........: 00"
"RTN","ONCSPC4",122,0)
 Q
"RTN","ONCSPC4",123,0)
IR9 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,7)=99999
"RTN","ONCSPC4",124,0)
 W !,"    DOSE..........................: 99999"
"RTN","ONCSPC4",125,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,8)=99
"RTN","ONCSPC4",126,0)
 W !,"    RADIATION ENERGY (MV).........: 99"
"RTN","ONCSPC4",127,0)
 Q
"RTN","ONCSPC4",128,0)
B0 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,10)=0
"RTN","ONCSPC4",129,0)
 W !,"    NUMBER OF DAYS GIVEN..........: 000"
"RTN","ONCSPC4",130,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,11)=0
"RTN","ONCSPC4",131,0)
 W !,"    DOSE..........................: 00000"
"RTN","ONCSPC4",132,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,12)="0000000"
"RTN","ONCSPC4",133,0)
 W !,"    DATE THERAPY STARTED..........: 00/00/0000"
"RTN","ONCSPC4",134,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,13)="0000000"
"RTN","ONCSPC4",135,0)
 W !,"    DATE THERAPY ENDED............: 00/00/0000"
"RTN","ONCSPC4",136,0)
 Q
"RTN","ONCSPC4",137,0)
B9 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,10)=999
"RTN","ONCSPC4",138,0)
 W !,"    NUMBER OF DAYS GIVEN..........: 999"
"RTN","ONCSPC4",139,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,11)=99999
"RTN","ONCSPC4",140,0)
 W !,"    DOSE..........................: 99999"
"RTN","ONCSPC4",141,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,12)=9999999
"RTN","ONCSPC4",142,0)
 W !,"    DATE THERAPY STARTED..........: 99/99/9999"
"RTN","ONCSPC4",143,0)
 S $P(^ONCO(165.5,ONCONUM,"STS2"),U,13)=9999999
"RTN","ONCSPC4",144,0)
 W !,"    DATE THERAPY ENDED............: 99/99/9999"
"RTN","ONCSPC4",145,0)
 Q
"RTN","ONCSPC4A")
0^341^B38376501
"RTN","ONCSPC4A",1,0)
ONCSPC4A ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma Table IV;6/19/96
"RTN","ONCSPC4A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC4A",3,0)
C W !!,"CHEMOTHERAPY:",!
"RTN","ONCSPC4A",4,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCSPC4A",5,0)
 W !,"  CHEMOTHERAPY....................: ",CHEMOT
"RTN","ONCSPC4A",6,0)
 S CHEDT=ONC(165.5,ONCONUM,53,"I"),Y=CHEDT D DATEOT^ONCOPCE S CHEDT=Y
"RTN","ONCSPC4A",7,0)
 W !,"  DATE OF CHEMOTHERAPY............: ",CHEDT
"RTN","ONCSPC4A",8,0)
 W !!,"AGENTS ADMINISTERED, METHODS OF DELIVERY AND LOCATIONS:",!
"RTN","ONCSPC4A",9,0)
 I CHEMO=0 D  G CSF
"RTN","ONCSPC4A",10,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,26)=0
"RTN","ONCSPC4A",11,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,18)=8
"RTN","ONCSPC4A",12,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,24)=8
"RTN","ONCSPC4A",13,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,14)=0
"RTN","ONCSPC4A",14,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,19)=8
"RTN","ONCSPC4A",15,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,25)=8
"RTN","ONCSPC4A",16,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,15)=0
"RTN","ONCSPC4A",17,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,20)=8
"RTN","ONCSPC4A",18,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,26)=8
"RTN","ONCSPC4A",19,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,16)=0
"RTN","ONCSPC4A",20,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,21)=8
"RTN","ONCSPC4A",21,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,27)=8
"RTN","ONCSPC4A",22,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,17)=0
"RTN","ONCSPC4A",23,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,22)=8
"RTN","ONCSPC4A",24,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,28)=8
"RTN","ONCSPC4A",25,0)
 .S $P(^ONCO(165.5,ONCONUM,"BLA2"),U,30)=0
"RTN","ONCSPC4A",26,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,23)=8
"RTN","ONCSPC4A",27,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,29)=8
"RTN","ONCSPC4A",28,0)
 .W !,"  CISPLATIN.........: No                 DOXORUBICIN.......: No"
"RTN","ONCSPC4A",29,0)
 .W !,"  METHOD OF DELIVERY: Not applicable     METHOD OF DELIVERY: Not applicable"
"RTN","ONCSPC4A",30,0)
 .W !,"  LOCATION..........: Not applicable     LOCATION..........: Not applicable"
"RTN","ONCSPC4A",31,0)
 .W !!,"  CYTOXAN...........: No                 ETOPOSIDE.........: No"
"RTN","ONCSPC4A",32,0)
 .W !,"  METHOD OF DELIVERY: Not applicable     METHOD OF DELIVERY: Not applicable"
"RTN","ONCSPC4A",33,0)
 .W !,"  LOCATION..........: Not applicable     LOCATION..........: Not applicable"
"RTN","ONCSPC4A",34,0)
 .W !!,"  DTIC..............: No                 IFOSFAMIDE........: No"
"RTN","ONCSPC4A",35,0)
 .W !,"  METHOD OF DELIVERY: Not applicable     METHOD OF DELIVERY: Not applicable"
"RTN","ONCSPC4A",36,0)
 .W !,"  LOCATION..........: Not applicable     LOCATION..........: Not applicable"
"RTN","ONCSPC4A",37,0)
CIS S DR="371  CISPLATIN......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",38,0)
 I X=0 D  G CYT
"RTN","ONCSPC4A",39,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,18)=8
"RTN","ONCSPC4A",40,0)
 .W !,"  METHOD OF DELIVERY..............: Not applicable"
"RTN","ONCSPC4A",41,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,24)=8
"RTN","ONCSPC4A",42,0)
 .W !,"  LOCATION........................: Not applicable"
"RTN","ONCSPC4A",43,0)
 I X=9 D  G CYT
"RTN","ONCSPC4A",44,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,18)=9
"RTN","ONCSPC4A",45,0)
 .W !,"  METHOD OF DELIVERY..............: Unknown"
"RTN","ONCSPC4A",46,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,24)=9
"RTN","ONCSPC4A",47,0)
 .W !,"  LOCATION........................: Unknown"
"RTN","ONCSPC4A",48,0)
 S DR="547  METHOD OF DELIVERY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",49,0)
 S DR="553  LOCATION........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",50,0)
CYT W !
"RTN","ONCSPC4A",51,0)
 S DR="543  CYTOXAN........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",52,0)
 I X=0 D  G DTIC
"RTN","ONCSPC4A",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,19)=8
"RTN","ONCSPC4A",54,0)
 .W !,"  METHOD OF DELIVERY..............: Not applicable"
"RTN","ONCSPC4A",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,25)=8
"RTN","ONCSPC4A",56,0)
 .W !,"  LOCATION........................: Not applicable"
"RTN","ONCSPC4A",57,0)
 I X=9 D  G DTIC
"RTN","ONCSPC4A",58,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,19)=9
"RTN","ONCSPC4A",59,0)
 .W !,"  METHOD OF DELIVERY..............: Unknown"
"RTN","ONCSPC4A",60,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,25)=9
"RTN","ONCSPC4A",61,0)
 .W !,"  LOCATION........................: Unknown"
"RTN","ONCSPC4A",62,0)
 S DR="548  METHOD OF DELIVERY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",63,0)
 S DR="554  LOCATION........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",64,0)
DTIC W !
"RTN","ONCSPC4A",65,0)
 S DR="544  DTIC............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",66,0)
 I X=0 D  G DOX
"RTN","ONCSPC4A",67,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,20)=8
"RTN","ONCSPC4A",68,0)
 .W !,"  METHOD OF DELIVERY..............: Not applicable"
"RTN","ONCSPC4A",69,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,26)=8
"RTN","ONCSPC4A",70,0)
 .W !,"  LOCATION........................: Not applicable"
"RTN","ONCSPC4A",71,0)
 I X=9 D  G DOX
"RTN","ONCSPC4A",72,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,20)=9
"RTN","ONCSPC4A",73,0)
 .W !,"  METHOD OF DELIVERY..............: Unknown"
"RTN","ONCSPC4A",74,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,26)=9
"RTN","ONCSPC4A",75,0)
 .W !,"  LOCATION........................: Unknown"
"RTN","ONCSPC4A",76,0)
 S DR="549  METHOD OF DELIVERY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",77,0)
 S DR="555  LOCATION........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",78,0)
DOX W !
"RTN","ONCSPC4A",79,0)
 S DR="545  DOXURUBICIN....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",80,0)
 I X=0 D  G ETO
"RTN","ONCSPC4A",81,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,21)=8
"RTN","ONCSPC4A",82,0)
 .W !,"  METHOD OF DELIVERY..............: Not applicable"
"RTN","ONCSPC4A",83,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,27)=8
"RTN","ONCSPC4A",84,0)
 .W !,"  LOCATION........................: Not applicable"
"RTN","ONCSPC4A",85,0)
 I X=9 D  G ETO
"RTN","ONCSPC4A",86,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,21)=9
"RTN","ONCSPC4A",87,0)
 .W !,"  METHOD OF DELIVERY..............: Unknown"
"RTN","ONCSPC4A",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,27)=9
"RTN","ONCSPC4A",89,0)
 .W !,"  LOCATION........................: Unknown"
"RTN","ONCSPC4A",90,0)
 S DR="550  METHOD OF DELIVERY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",91,0)
 S DR="556  LOCATION........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",92,0)
ETO W !
"RTN","ONCSPC4A",93,0)
 S DR="546  ETOPOSIDE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",94,0)
 I X=0 D  G IFO
"RTN","ONCSPC4A",95,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,22)=8
"RTN","ONCSPC4A",96,0)
 .W !,"  METHOD OF DELIVERY..............: Not applicable"
"RTN","ONCSPC4A",97,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,28)=8
"RTN","ONCSPC4A",98,0)
 .W !,"  LOCATION........................: Not applicable"
"RTN","ONCSPC4A",99,0)
 I X=9 D  G IFO
"RTN","ONCSPC4A",100,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,22)=9
"RTN","ONCSPC4A",101,0)
 .W !,"  METHOD OF DELIVERY..............: Unknown"
"RTN","ONCSPC4A",102,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,28)=9
"RTN","ONCSPC4A",103,0)
 .W !,"  LOCATION........................: Unknown"
"RTN","ONCSPC4A",104,0)
 S DR="551  METHOD OF DELIVERY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",105,0)
 S DR="557  LOCATION........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",106,0)
IFO W !
"RTN","ONCSPC4A",107,0)
 S DR="375  IFOSFAMIDE......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",108,0)
 I X=0 D  G CSF
"RTN","ONCSPC4A",109,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,23)=8
"RTN","ONCSPC4A",110,0)
 .W !,"  METHOD OF DELIVERY..............: Not applicable"
"RTN","ONCSPC4A",111,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,29)=8
"RTN","ONCSPC4A",112,0)
 .W !,"  LOCATION........................: Not applicable"
"RTN","ONCSPC4A",113,0)
 I X=9 D  G CSF
"RTN","ONCSPC4A",114,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,23)=9
"RTN","ONCSPC4A",115,0)
 .W !,"  METHOD OF DELIVERY..............: Unknown"
"RTN","ONCSPC4A",116,0)
 .S $P(^ONCO(165.5,ONCONUM,"STS2"),U,29)=9
"RTN","ONCSPC4A",117,0)
 .W !,"  LOCATION........................: Unknown"
"RTN","ONCSPC4A",118,0)
 S DR="552  METHOD OF DELIVERY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",119,0)
 S DR="558  LOCATION........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",120,0)
CSF W ! S DR="559  COLONY STIMULATING FACTORS......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",121,0)
 S DR="560  NATIONAL TREATMENT PROTOCOL....." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",122,0)
 S DR="561  OTHER PROTOCOL.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",123,0)
 S DR="562  REFERRED TO REHAB SERVICES......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",124,0)
 S DR="563  CONSULT W PHYSICAL THERAPY/REHAB" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",125,0)
 S DR="564  TRANSFERRED TO REHAB FACILITY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",126,0)
 S DR="565  NO OF HOSPITALIZATIONS W/I 6 MO." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",127,0)
 S DR="566  TOTAL LENGTH OF STAYS..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC4A",128,0)
 G EXIT
"RTN","ONCSPC4A",129,0)
JUMP ;Jump to prompts
"RTN","ONCSPC4A",130,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC4A",131,0)
 I X["?" D  G JUMP
"RTN","ONCSPC4A",132,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC4A",133,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC4A",134,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC4A",135,0)
 S X=TABLE(X)
"RTN","ONCSPC4A",136,0)
 G @X
"RTN","ONCSPC4A",137,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCSPC4A",138,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,HT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCSPC4A",139,0)
 K RADDT
"RTN","ONCSPC4A",140,0)
 Q
"RTN","ONCSPC5")
0^342^B10166482
"RTN","ONCSPC5",1,0)
ONCSPC5 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma - Table V;7/22/96
"RTN","ONCSPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC5",3,0)
 K TABLE,HTABLE S OUT=""
"RTN","ONCSPC5",4,0)
 S TABLE("DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCSPC5",5,0)
 S TABLE("TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCSPC5",6,0)
 S TABLE("OTHER TYPE OF FIRST RECURRENCE")="OTOFR"
"RTN","ONCSPC5",7,0)
 S TABLE("DISTANT SITE(S) OF RECURRENCE")="DSOFR"
"RTN","ONCSPC5",8,0)
 S TABLE("SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION")="STFROP"
"RTN","ONCSPC5",9,0)
 S HTABLE(1)="DATE OF FIRST RECURRENCE"
"RTN","ONCSPC5",10,0)
 S HTABLE(2)="TYPE OF FIRST RECURRENCE"
"RTN","ONCSPC5",11,0)
 S HTABLE(3)="OTHER TYPE OF FIRST RECURRENCE"
"RTN","ONCSPC5",12,0)
 S HTABLE(4)="DISTANT SITE(S) OF RECURRENCE"
"RTN","ONCSPC5",13,0)
 S HTABLE(5)="SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION"
"RTN","ONCSPC5",14,0)
 S CHOICES=5
"RTN","ONCSPC5",15,0)
 W @IOF D HEAD^ONCSPC0 W !?15,"TABLE V - FIRST RECURRENCE AND SUBSEQUENT TREATMENT",!
"RTN","ONCSPC5",16,0)
DOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC5",17,0)
 S DR="70DATE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",18,0)
TOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC5",19,0)
 S DR="71TYPE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",20,0)
OTOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC5",21,0)
 S DR="71.4OTHER TYPE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",22,0)
DSOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC5",23,0)
 W !!,"DISTANT SITE(S) OF RECURRENCE:",!
"RTN","ONCSPC5",24,0)
 S DR="71.1  RECURRENCE SITE 1..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",25,0)
 I X=0 D  G STFROP
"RTN","ONCSPC5",26,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,4)=0
"RTN","ONCSPC5",27,0)
 .W !,"  RECURRENCE SITE 2...........: None"
"RTN","ONCSPC5",28,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,5)=0
"RTN","ONCSPC5",29,0)
 .W !,"  RECURRENCE SITE 3...........: None"
"RTN","ONCSPC5",30,0)
 S DR="71.2  RECURRENCE SITE 2..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",31,0)
 I X=0 D  G STFROP
"RTN","ONCSPC5",32,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,5)=0
"RTN","ONCSPC5",33,0)
 .W !,"  RECURRENCE SITE 3...........: None"
"RTN","ONCSPC5",34,0)
 S DR="71.3  RECURRENCE SITE 3..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",35,0)
STFROP W !!,"SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION:"
"RTN","ONCSPC5",36,0)
 I '$D(^ONCO(165.5,ONCONUM,4,0)) W !!,"NO SUBSEQUENT TREATMENT" G DIR
"RTN","ONCSPC5",37,0)
 I $O(^ONCO(165.5,ONCONUM,4,0))="" W !!,"NO SUBSEQUENT TREATMENT" G DIR
"RTN","ONCSPC5",38,0)
 I $D(^ONCO(165.5,ONCONUM,4,0)) S SCTIEN=0 F CRSE=1:1 S SCTIEN=$O(^ONCO(165.5,ONCONUM,4,SCTIEN)) Q:(SCTIEN'>0)!(CRSE=4)!(OUT="Y")  D SS Q:$D(Y)
"RTN","ONCSPC5",39,0)
 G:OUT="Y" EXIT G DIR
"RTN","ONCSPC5",40,0)
SS S ID=$P(^ONCO(165.5,ONCONUM,4,SCTIEN,0),U,1)
"RTN","ONCSPC5",41,0)
 S Y=ID D DATEOT^ONCOPCE S ID=Y
"RTN","ONCSPC5",42,0)
 S COURSE=$S(CRSE=1:"SECOND",CRSE=2:"THIRD",CRSE=3:"FOURTH",1:"")
"RTN","ONCSPC5",43,0)
 W !!,"  ",COURSE," COURSE:",!
"RTN","ONCSPC5",44,0)
 W !,"  DATE...........: ",ID
"RTN","ONCSPC5",45,0)
 S DIE="^ONCO(165.5,"_ONCONUM_",4,",DA(1)=ONCONUM,DA=SCTIEN
"RTN","ONCSPC5",46,0)
 S DR=".04  SURGERY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",47,0)
 S DR=".05  RADIATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",48,0)
 S DR=".06  CHEMOTHERAPY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",49,0)
 S DR=".07  HORMONE THERAPY" D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",50,0)
 S DR=".09  OTHER.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC5",51,0)
 Q
"RTN","ONCSPC5",52,0)
DIR W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC5",53,0)
 G EXIT
"RTN","ONCSPC5",54,0)
JUMP ;Jump to prompts
"RTN","ONCSPC5",55,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC5",56,0)
 I X["?" D  G JUMP
"RTN","ONCSPC5",57,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC5",58,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC5",59,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC5",60,0)
 S X=TABLE(X)
"RTN","ONCSPC5",61,0)
 G @X
"RTN","ONCSPC5",62,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCSPC5",63,0)
 K ID
"RTN","ONCSPC5",64,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCSPC5",65,0)
 Q
"RTN","ONCSPC6")
0^343^B4640534
"RTN","ONCSPC6",1,0)
ONCSPC6 ;HIRMFO/GWB - PCE Study of Soft Tissue Sarcoma - Table VI;7/22/96
"RTN","ONCSPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC6",3,0)
 K TABLE,HTABLE
"RTN","ONCSPC6",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCSPC6",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCSPC6",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCSPC6",7,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCSPC6",8,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCSPC6",9,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCSPC6",10,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCSPC6",11,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCSPC6",12,0)
 S HTABLE(4)="COMPLETED BY"
"RTN","ONCSPC6",13,0)
 S HTABLE(5)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCSPC6",14,0)
 S CHOICES=5
"RTN","ONCSPC6",15,0)
 W @IOF D HEAD^ONCSPC0 W !?23,"TABLE VI - STATUS AT LAST CONTACT",!
"RTN","ONCSPC6",16,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCSPC6",17,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCSPC6",18,0)
 W !,"DATE OF LAST CONTACT OR DEATH: ",DLC
"RTN","ONCSPC6",19,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCSPC6",20,0)
 S DR="15VITAL STATUS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC6",21,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCSPC6",22,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCSPC6",23,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCSPC6",24,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCSPC6",25,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCSPC6",26,0)
 W !,"CANCER STATUS................: ",CS
"RTN","ONCSPC6",27,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC6",28,0)
 S DR="81COMPLETED BY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC6",29,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCSPC6",30,0)
 S DR="82REVIEWED BY CANCER COMMITTEE." D ^DIE G:$D(Y) JUMP
"RTN","ONCSPC6",31,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC6",32,0)
 G EXIT
"RTN","ONCSPC6",33,0)
JUMP ;Jump to prompts
"RTN","ONCSPC6",34,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCSPC6",35,0)
 I X["?" D  G JUMP
"RTN","ONCSPC6",36,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC6",37,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCSPC6",38,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCSPC6",39,0)
 S X=TABLE(X)
"RTN","ONCSPC6",40,0)
 G @X
"RTN","ONCSPC6",41,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCSPC6",42,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCSPC6",43,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCSPC6",44,0)
 Q
"RTN","ONCSPC8")
0^344^B42929610
"RTN","ONCSPC8",1,0)
ONCSPC8 ;Hines OIFO/GWB -PCE Study of Soft Tissue Sarcoma ;05/30/00
"RTN","ONCSPC8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC8",3,0)
 ;Print
"RTN","ONCSPC8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCSPC8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCSPC8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCSPC8",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IEN=ONCONUM
"RTN","ONCSPC8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCSPC8",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCSPC8",10,0)
 S DR=".04;.05;.06;.1;.12;3;9;18;20;22;24;26;29;32;33;34;34.1;34.2;37.1;37.2;37.3;38;19;50;51;51.2;51.3;53;53.2;54.2;58.1;58.2;58.3;59;70;71;71.1;71.2;71.3;71.4;81;82;83;85;86;87;88;89;308;329;361;362;371;375;433;441;500:567"
"RTN","ONCSPC8",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCSPC8",12,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCSPC8",13,0)
 D HDR W !?25,TABLE,!
"RTN","ONCSPC8",14,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCSPC8",15,0)
 W !,"ACCESSION NUMBER..................: ",ONC(165.5,IEN,.05) D P Q:EX=U
"RTN","ONCSPC8",16,0)
 W !,"SEQUENCE NUMBER...................: ",ONC(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCSPC8",17,0)
 W !,"POSTAL CODE AT DIAGNOSIS..........: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCSPC8",18,0)
 W !,"DATE OF BIRTH.....................: ",DOB D P Q:EX=U
"RTN","ONCSPC8",19,0)
 W !,"RACE..............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCSPC8",20,0)
 W !,"SPANISH ORIGIN....................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCSPC8",21,0)
 W !,"SEX...............................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCSPC8",22,0)
 W !,"PRIMARY PAYER AT DIAGNOSIS........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCSPC8",23,0)
 W !,"FAMILY HIST OF SOFT TISSUE SARCOMA: ",ONC(165.5,IEN,500) D P Q:EX=U
"RTN","ONCSPC8",24,0)
 W !,"PERSONAL HISTORY OF ANY CANCER....: ",ONC(165.5,IEN,501)
"RTN","ONCSPC8",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCSPC8",26,0)
 D P Q:EX=U
"RTN","ONCSPC8",27,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS"
"RTN","ONCSPC8",28,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8",29,0)
 W !?20,TABLE,! D P Q:EX=U
"RTN","ONCSPC8",30,0)
 W !,"CLASS OF CASE.....................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCSPC8",31,0)
 W !,"DIAGNOSTIC WORKUP:" D P Q:EX=U
"RTN","ONCSPC8",32,0)
 W !!,"  ANGIOGRAM OF PRIMARY............: ",ONC(165.5,IEN,502) D P Q:EX=U
"RTN","ONCSPC8",33,0)
 W !,"  BONE MARROW ASPIRATE/BIOPSY.....: ",ONC(165.5,IEN,503) D P Q:EX=U
"RTN","ONCSPC8",34,0)
 W !,"  BONE SCAN.......................: ",ONC(165.5,IEN,504) D P Q:EX=U
"RTN","ONCSPC8",35,0)
 W !,"  CHEST X-RAY.....................: ",ONC(165.5,IEN,505) D P Q:EX=U
"RTN","ONCSPC8",36,0)
 W !,"  CT SCAN OF CHEST................: ",ONC(165.5,IEN,506) D P Q:EX=U
"RTN","ONCSPC8",37,0)
 W !,"  CT SCAN OF PRIMARY..............: ",ONC(165.5,IEN,507) D P Q:EX=U
"RTN","ONCSPC8",38,0)
 W !,"  LIVER FUNCTION STUDIES..........: ",ONC(165.5,IEN,508) D P Q:EX=U
"RTN","ONCSPC8",39,0)
 W !,"  LYMPHANGIOGRAM..................: ",ONC(165.5,IEN,509) D P Q:EX=U
"RTN","ONCSPC8",40,0)
 W !,"  MRI OF PRIMARY..................: ",ONC(165.5,IEN,510) D P Q:EX=U
"RTN","ONCSPC8",41,0)
 W !,"  MRI OF OTHER....................: ",ONC(165.5,IEN,511) D P Q:EX=U
"RTN","ONCSPC8",42,0)
 W !,"  SKELETAL X-RAY..................: ",ONC(165.5,IEN,512) D P Q:EX=U
"RTN","ONCSPC8",43,0)
 W !,"  SONOGRAM........................: ",ONC(165.5,IEN,513)
"RTN","ONCSPC8",44,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G HW
"RTN","ONCSPC8",45,0)
 D P Q:EX=U
"RTN","ONCSPC8",46,0)
HW W !!,"HISTOLOGIC WORKUP:",! D P Q:EX=U
"RTN","ONCSPC8",47,0)
 W !,"  CYTOGENETICS....................: ",ONC(165.5,IEN,514) D P Q:EX=U
"RTN","ONCSPC8",48,0)
 W !,"  ELECTRON MICROSCOPY.............: ",ONC(165.5,IEN,515) D P Q:EX=U
"RTN","ONCSPC8",49,0)
 W !,"  FLOW CYTOMETRY..................: ",ONC(165.5,IEN,329) D P Q:EX=U
"RTN","ONCSPC8",50,0)
 W !,"  IMMUNOHISTOCHEMISTRY............: ",ONC(165.5,IEN,516) D P Q:EX=U
"RTN","ONCSPC8",51,0)
 W !,"  IN SITU HYBRIDIZATION...........: ",ONC(165.5,IEN,517) D P Q:EX=U
"RTN","ONCSPC8",52,0)
B W !!,"BIOPSIES:                           HISTOLOGY/BEHAVIOR/GRADE",! D P Q:EX=U
"RTN","ONCSPC8",53,0)
 W !,"  FINE NEEDLE ASPIRATION..........: ",ONC(165.5,IEN,528) D P Q:EX=U
"RTN","ONCSPC8",54,0)
 W !,"  CORE NEEDLE ASPIRATION..........: ",ONC(165.5,IEN,529) D P Q:EX=U
"RTN","ONCSPC8",55,0)
 W !,"  INCISIONAL BIOPSY...............: ",ONC(165.5,IEN,530) D P Q:EX=U
"RTN","ONCSPC8",56,0)
 W !,"  EXCISIONAL BIOPSY...............: ",ONC(165.5,IEN,531) D P Q:EX=U
"RTN","ONCSPC8",57,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G OCOB
"RTN","ONCSPC8",58,0)
 D P Q:EX=U
"RTN","ONCSPC8",59,0)
OCOB W !!,"OUTSIDE CONFIRMATION OF BIOPSY....: ",ONC(165.5,IEN,518) D P Q:EX=U
"RTN","ONCSPC8",60,0)
DOID W !,"DATE OF INITIAL DIAGNOSIS.........: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCSPC8",61,0)
 W !,"PRIMARY SITE......................: ",TOPCOD," ",ONC(165.5,IEN,20) D P Q:EX=U
"RTN","ONCSPC8",62,0)
 S SUB=ONC(165.5,IEN,519)
"RTN","ONCSPC8",63,0)
 S (SUB1,SUB2)="",LOS=$L(SUB) I LOS<45 S SUB1=SUB G SUB
"RTN","ONCSPC8",64,0)
 S NOP=$L($E(SUB,1,44)," ")
"RTN","ONCSPC8",65,0)
 S SUB1=$P(SUB," ",1,NOP-1),SUB2=$P(SUB," ",NOP,999)
"RTN","ONCSPC8",66,0)
SUB W !,"SUBSITE...........................: ",SUB1 W:SUB2'="" !,?36,SUB2 D P Q:EX=U
"RTN","ONCSPC8",67,0)
 W !,"HISTOLOGY/BEHAVIOR CODE...........: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCSPC8",68,0)
 W !,"GRADE.............................: ",ONC(165.5,IEN,24) D P Q:EX=U
"RTN","ONCSPC8",69,0)
 W !,"ADDNL GRADE CODING SYSTEM.........: ",ONC(165.5,IEN,520) D P Q:EX=U
"RTN","ONCSPC8",70,0)
 W !,"VALUE OF ADDNL CODING SYSTEM......: ",ONC(165.5,IEN,521) D P Q:EX=U
"RTN","ONCSPC8",71,0)
 W !,"DIAGNOSTIC CONFIRMATION...........: ",ONC(165.5,IEN,26)
"RTN","ONCSPC8",72,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCSPC8",73,0)
 D P Q:EX=U
"RTN","ONCSPC8",74,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCSPC8",75,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8",76,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8",77,0)
 W !,"PRETREATMENT TUMOR SIZE (mm)......: ",ONC(165.5,IEN,29) D P Q:EX=U
"RTN","ONCSPC8",78,0)
 W !,"PATHOLOGIC TUMOR SIZE (mm)........: ",ONC(165.5,IEN,522) D P Q:EX=U
"RTN","ONCSPC8",79,0)
 W !,"DEPTH OF TUMOR....................: ",ONC(165.5,IEN,523) D P Q:EX=U
"RTN","ONCSPC8",80,0)
 W !,"MULTIFOCAL........................: ",ONC(165.5,IEN,433) D P Q:EX=U
"RTN","ONCSPC8",81,0)
 W !,"REGIONAL NODES EXAMINED...........: ",ONC(165.5,IEN,33) D P Q:EX=U
"RTN","ONCSPC8",82,0)
 W !,"REGIONAL NODES POSITIVE...........: ",ONC(165.5,IEN,32) D P Q:EX=U
"RTN","ONCSPC8",83,0)
 W !!,"SITE(S) OF DISTANT METASTASIS:",! D P Q:EX=U
"RTN","ONCSPC8",84,0)
 W !,"  SITE OF DISTANT METASTASIS #1...: ",ONC(165.5,IEN,34) D P Q:EX=U
"RTN","ONCSPC8",85,0)
 W !,"  SITE OF DISTANT METASTASIS #2...: ",ONC(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCSPC8",86,0)
 W !,"  SITE OF DISTANT METASTASIS #3...: ",ONC(165.5,IEN,34.2)
"RTN","ONCSPC8",87,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G AJCCCS
"RTN","ONCSPC8",88,0)
 D P Q:EX=U
"RTN","ONCSPC8",89,0)
AJCCCS W !!,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCSPC8",90,0)
 W !,"  T-CODE..........................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCSPC8",91,0)
 W !,"  N-CODE..........................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCSPC8",92,0)
 W !,"  M-CODE..........................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCSPC8",93,0)
 W !,"  AJCC STAGE......................: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCSPC8",94,0)
 W !,"  CLINICAL STAGED BY..............: ",ONC(165.5,IEN,19)
"RTN","ONCSPC8",95,0)
AJCCPS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCSPC8",96,0)
 W !,"  T-CODE..........................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCSPC8",97,0)
 W !,"  N-CODE..........................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCSPC8",98,0)
 W !,"  M-CODE..........................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCSPC8",99,0)
 W !,"  AJCC STAGE......................: ",ONC(165.5,IEN,88) D P Q:EX=U
"RTN","ONCSPC8",100,0)
 W !,"  PATHOLOGIC STAGED BY............: ",ONC(165.5,IEN,89)
"RTN","ONCSPC8",101,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G CON
"RTN","ONCSPC8",102,0)
 D P Q:EX=U
"RTN","ONCSPC8",103,0)
CON W !!,"CONSULTATIONS:",! D P Q:EX=U
"RTN","ONCSPC8",104,0)
 W !,"  MEDICAL ONCOLOGIST..............: ",ONC(165.5,IEN,524) D P Q:EX=U
"RTN","ONCSPC8",105,0)
 W !,"  RADIATION ONCOLOGIST............: ",ONC(165.5,IEN,525)
"RTN","ONCSPC8",106,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCSPC8",107,0)
 D P Q:EX=U
"RTN","ONCSPC8",108,0)
IV D ^ONCSPC8A
"RTN","ONCSPC8",109,0)
KILL ;Kill Variables and Exit
"RTN","ONCSPC8",110,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCSPC8",111,0)
 K NCDSIEN,NCDSOT,NOP,ONC,ONDATE,PG,SUB,SUB1,SUB2,SURG,SURG1,SURG2,SURGDT
"RTN","ONCSPC8",112,0)
 K TABLE
"RTN","ONCSPC8",113,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCSPC8",114,0)
 Q
"RTN","ONCSPC8",115,0)
P ;Print
"RTN","ONCSPC8",116,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCSPC8",117,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCSPC8",118,0)
 .D HDR Q
"RTN","ONCSPC8",119,0)
 Q
"RTN","ONCSPC8",120,0)
TASK ;Queue a task
"RTN","ONCSPC8",121,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCSPC8",122,0)
 S ZTRTN="PRT^ONCSPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCSPC8",123,0)
 S ZTDESC="Print Soft Tissue Sarcoma PCE"
"RTN","ONCSPC8",124,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCSPC8",125,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCSPC8",126,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCSPC8",127,0)
HDR ;Header
"RTN","ONCSPC8",128,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCSPC8",129,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCSPC8",130,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCSPC8",131,0)
 W !?20,"PCE Study of Soft Tissue Sarcoma"
"RTN","ONCSPC8",132,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCSPC8",133,0)
 Q
"RTN","ONCSPC8A")
0^345^B39737162
"RTN","ONCSPC8A",1,0)
ONCSPC8A ;HIRMFO/GWB -PCE Study of Soft Tissue Sarcoma - Print (continued) ;8/15/96
"RTN","ONCSPC8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSPC8A",3,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8A",4,0)
 S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCSPC8A",5,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8A",6,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCSPC8A",7,0)
 W !,"FIRST COURSE TREATMENT DATE.......: ",DOIT D P Q:EX=U
"RTN","ONCSPC8A",8,0)
 W !!,"SURGERY:",! D P Q:EX=U
"RTN","ONCSPC8A",9,0)
 S NCDS=ONC(165.5,IEN,58.1)
"RTN","ONCSPC8A",10,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<45 S NCDS1=NCDS G CDS
"RTN","ONCSPC8A",11,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCSPC8A",12,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCSPC8A",13,0)
CDS S CDS=ONC(165.5,IEN,58.2)
"RTN","ONCSPC8A",14,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCSPC8A",15,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCSPC8A",16,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCSPC8A",17,0)
S W !,"  NON CANCER-DIRECTED SURGERY DATE: ",ONC(165.5,IEN,58.3) D P Q:EX=U
"RTN","ONCSPC8A",18,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCSPC8A",19,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",ONC(165.5,IEN,50) D P Q:EX=U
"RTN","ONCSPC8A",20,0)
 W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCSPC8A",21,0)
 W !,"  RESIDUAL PRIMARY TUMOR..........: ",ONC(165.5,IEN,59)
"RTN","ONCSPC8A",22,0)
 W !,"  TREATING SURGEON................: ",ONC(165.5,IEN,526) D P Q:EX=U
"RTN","ONCSPC8A",23,0)
 W !,"  ASA CLASS.......................: ",ONC(165.5,IEN,527) D P Q:EX=U
"RTN","ONCSPC8A",24,0)
 W !,"  POSTOPERATIVE DEATH.............: ",ONC(165.5,IEN,441)
"RTN","ONCSPC8A",25,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G R
"RTN","ONCSPC8A",26,0)
 D P Q:EX=U
"RTN","ONCSPC8A",27,0)
R W !!,"RADIATION THERAPY:",! D P Q:EX=U
"RTN","ONCSPC8A",28,0)
 W !,"  EXTERNAL BEAM RADIATION...: ",ONC(165.5,IEN,532),?42,"BRACHYTHERAPY...........: ",ONC(165.5,IEN,538) D P Q:EX=U
"RTN","ONCSPC8A",29,0)
 W !,"  NUMBER OF FRACTIONS.......: ",ONC(165.5,IEN,533),?42,"NUMBER OF DAYS GIVEN....: ",ONC(165.5,IEN,539) D P Q:EX=U
"RTN","ONCSPC8A",30,0)
 W !,"  DOSE......................: ",ONC(165.5,IEN,362),?42,"DOSE....................: ",ONC(165.5,IEN,540) D P Q:EX=U
"RTN","ONCSPC8A",31,0)
 W !,"  RADIATION ENERGY (MV).....: ",ONC(165.5,IEN,534),?42,"DATE THERAPY STARTED....: ",ONC(165.5,IEN,541) D P Q:EX=U
"RTN","ONCSPC8A",32,0)
 W !,"  DATE THERAPY STARTED......: ",ONC(165.5,IEN,567),?42,"DATE THERAPY ENDED......: ",ONC(165.5,IEN,542) D P Q:EX=U
"RTN","ONCSPC8A",33,0)
 W !,"  DATE THERAPY ENDED........: ",ONC(165.5,IEN,361)
"RTN","ONCSPC8A",34,0)
 W !!,"  INTRAOPERATIVE RADIATION..: ",ONC(165.5,IEN,535) D P Q:EX=U
"RTN","ONCSPC8A",35,0)
 W !,"  DOSE......................: ",ONC(165.5,IEN,536) D P Q:EX=U
"RTN","ONCSPC8A",36,0)
 W !,"  RADIATION ENERGY (MV).....: ",ONC(165.5,IEN,537) D P Q:EX=U
"RTN","ONCSPC8A",37,0)
 W !!,"  RADIATION/SURGERY SEQUENCE: ",ONC(165.5,IEN,51.3)
"RTN","ONCSPC8A",38,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G C
"RTN","ONCSPC8A",39,0)
 D P Q:EX=U
"RTN","ONCSPC8A",40,0)
C W !!,"CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCSPC8A",41,0)
 W !,"  CHEMOTHERAPY........: ",ONC(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCSPC8A",42,0)
 W !,"  DATE OF CHEMOTHERAPY: ",ONC(165.5,IEN,53) D P Q:EX=U
"RTN","ONCSPC8A",43,0)
 W !!,"  AGENT ADMINISTERED    METHOD OF DELIVERY  LOCATION" D P Q:EX=U
"RTN","ONCSPC8A",44,0)
 W !,"  ------------------    ------------------  --------" D P Q:EX=U
"RTN","ONCSPC8A",45,0)
 W !,"  CISPLATIN..: ",ONC(165.5,IEN,371),?24,ONC(165.5,IEN,547),?44,ONC(165.5,IEN,553) D P Q:EX=U
"RTN","ONCSPC8A",46,0)
 W !,"  CYTOXAN....: ",ONC(165.5,IEN,543),?24,ONC(165.5,IEN,548),?44,ONC(165.5,IEN,554) D P Q:EX=U
"RTN","ONCSPC8A",47,0)
 W !,"  DTIC.......: ",ONC(165.5,IEN,544),?24,ONC(165.5,IEN,549),?44,ONC(165.5,IEN,555) D P Q:EX=U
"RTN","ONCSPC8A",48,0)
 W !,"  DOXORUBICIN: ",ONC(165.5,IEN,545),?24,ONC(165.5,IEN,550),?44,ONC(165.5,IEN,556) D P Q:EX=U
"RTN","ONCSPC8A",49,0)
 W !,"  ETOPOSIDE..: ",ONC(165.5,IEN,546),?24,ONC(165.5,IEN,551),?44,ONC(165.5,IEN,557) D P Q:EX=U
"RTN","ONCSPC8A",50,0)
 W !,"  IFOSFAMIDE.: ",ONC(165.5,IEN,375),?24,ONC(165.5,IEN,552),?44,ONC(165.5,IEN,558) D P Q:EX=U
"RTN","ONCSPC8A",51,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G CSF
"RTN","ONCSPC8A",52,0)
 D P Q:EX=U
"RTN","ONCSPC8A",53,0)
CSF W !!,"  COLONY STIMULATION FACTOR........: ",ONC(165.5,IEN,559) D P Q:EX=U
"RTN","ONCSPC8A",54,0)
 W !,"  NATIONAL TREATMENT PROTOCOL......: ",ONC(165.5,IEN,560) D P Q:EX=U
"RTN","ONCSPC8A",55,0)
 W !,"  OTHER PROTOCOL...................: ",ONC(165.5,IEN,561) D P Q:EX=U
"RTN","ONCSPC8A",56,0)
 W !,"  REFERRED TO REHAB SERVICES.......: ",ONC(165.5,IEN,562) D P Q:EX=U
"RTN","ONCSPC8A",57,0)
 W !,"  CONSULT W PHYSICAL THERAPY/REHAB.: ",ONC(165.5,IEN,563) D P Q:EX=U
"RTN","ONCSPC8A",58,0)
 W !,"  TRANSFERRED TO REHAB FACILITY....: ",ONC(165.5,IEN,564) D P Q:EX=U
"RTN","ONCSPC8A",59,0)
 W !,"  NO OF HOSPITALIZATIONS W/I 6 MO..: ",ONC(165.5,IEN,565) D P Q:EX=U
"RTN","ONCSPC8A",60,0)
 W !,"  TOTAL LENGTH OF STAYS............: ",ONC(165.5,IEN,566) D P Q:EX=U
"RTN","ONCSPC8A",61,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 G V
"RTN","ONCSPC8A",62,0)
 D P Q:EX=U
"RTN","ONCSPC8A",63,0)
V S TABLE="TABLE V - FIRST RECURRENCE AND SUBSEQUENT TREATMENT"
"RTN","ONCSPC8A",64,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8A",65,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8A",66,0)
 W !,"DATE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCSPC8A",67,0)
 W !,"TYPE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCSPC8A",68,0)
 W !,"OTHER TYPE OF FIRST RECURRENCE....: ",ONC(165.5,IEN,71.4) D P Q:EX=U
"RTN","ONCSPC8A",69,0)
DSOFR W !!,"DISTANT SITE(S) OF FIRST RECURRENCE:",!
"RTN","ONCSPC8A",70,0)
 W !,"RECURRENCE SITE 1.................: ",ONC(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCSPC8A",71,0)
 W !,"RECURRENCE SITE 2.................: ",ONC(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCSPC8A",72,0)
 W !,"RECURRENCE SITE 3.................: ",ONC(165.5,IEN,71.3) D P Q:EX=U
"RTN","ONCSPC8A",73,0)
 I '$D(^ONCO(165.5,IEN,4,0)) D STFROP W !!,"  NO SUBSEQUENT TREATMENT" G VEXIT
"RTN","ONCSPC8A",74,0)
 I $O(^ONCO(165.5,IEN,4,0))="" D STFROP W !!,"  NO SUBSEQUENT TREATMENT" G VEXIT
"RTN","ONCSPC8A",75,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 W !?15,TABLE_" (continued)" G ST
"RTN","ONCSPC8A",76,0)
 D P Q:EX=U
"RTN","ONCSPC8A",77,0)
ST D STFROP I $D(^ONCO(165.5,IEN,4,0)) S SCTIEN=0 F CRSE=1:1 S SCTIEN=$O(^ONCO(165.5,IEN,4,SCTIEN)) Q:(SCTIEN'>0)!(CRSE=4)!(EX=U)  D SCT
"RTN","ONCSPC8A",78,0)
 G:EX=U KILL G VI
"RTN","ONCSPC8A",79,0)
SCT S DIC="^ONCO(165.5,",DR=60,DA=IEN,DIQ="ONC"
"RTN","ONCSPC8A",80,0)
 S DR(165.51)=".01:32",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCSPC8A",81,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCSPC8A",82,0)
 S LOS=$L(SURG) I LOS<62 S SURG1=SURG G TOS
"RTN","ONCSPC8A",83,0)
 S NOP=$L($E(SURG,1,61)," ")
"RTN","ONCSPC8A",84,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCSPC8A",85,0)
TOS S COURSE=$S(CRSE=1:"SECOND",CRSE=2:"THIRD",CRSE=3:"FOURTH",1:"")
"RTN","ONCSPC8A",86,0)
 I IOST?1"C".E,CRSE>1 W !?15,TABLE_" (continued)"
"RTN","ONCSPC8A",87,0)
 W !!,"  ",COURSE," COURSE:",! D P Q:EX=U
"RTN","ONCSPC8A",88,0)
 W !,"  DATE...........: ",ONC(165.51,SCTIEN,.01) D P Q:EX=U
"RTN","ONCSPC8A",89,0)
 W !,"  SURGERY........: ",SURG1 W:SURG2'="" !,?22,SURG2 D P Q:EX=U
"RTN","ONCSPC8A",90,0)
 D P Q:EX=U
"RTN","ONCSPC8A",91,0)
 W !,"  RADIATION......: ",ONC(165.51,SCTIEN,.05) D P Q:EX=U
"RTN","ONCSPC8A",92,0)
 W !,"  CHEMOTHERAPY...: ",ONC(165.51,SCTIEN,.06) D P Q:EX=U
"RTN","ONCSPC8A",93,0)
 W !,"  HORMONE THERAPY: ",ONC(165.51,SCTIEN,.07)
"RTN","ONCSPC8A",94,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR S:'Y EX=U Q:'Y  D HDR^ONCSPC8 Q
"RTN","ONCSPC8A",95,0)
 D P Q:EX=U
"RTN","ONCSPC8A",96,0)
 Q
"RTN","ONCSPC8A",97,0)
VEXIT I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCSPC8 G VI
"RTN","ONCSPC8A",98,0)
 D P Q:EX=U
"RTN","ONCSPC8A",99,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCSPC8A",100,0)
 I IOST'?1"C".E W ! D P Q:EX=U  W ! D P Q:EX=U
"RTN","ONCSPC8A",101,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCSPC8A",102,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCSPC8A",103,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCSPC8A",104,0)
 W !,"DATE OF LAST CONTACT OR DEATH.....: ",DLC
"RTN","ONCSPC8A",105,0)
 W !,"VITAL STATUS......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCSPC8A",106,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCSPC8A",107,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCSPC8A",108,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCSPC8A",109,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCSPC8A",110,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCSPC8A",111,0)
 W !,"CANCER STATUS.....................: ",CS
"RTN","ONCSPC8A",112,0)
 W !!,"COMPLETED BY......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCSPC8A",113,0)
 W !,"REVIEWED BY CANCER COMMITTEE......: ",ONC(165.5,IEN,82) D P Q:EX=U
"RTN","ONCSPC8A",114,0)
 W !
"RTN","ONCSPC8A",115,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR
"RTN","ONCSPC8A",116,0)
KILL ;Kill Variables and Exit
"RTN","ONCSPC8A",117,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCSPC8A",118,0)
 Q
"RTN","ONCSPC8A",119,0)
P ;Display Data
"RTN","ONCSPC8A",120,0)
 I ($Y'<(LIN-2)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCSPC8A",121,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCSPC8A",122,0)
 .D HDR^ONCSPC8 Q
"RTN","ONCSPC8A",123,0)
 Q
"RTN","ONCSPC8A",124,0)
STFROP W !!,"SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION:"
"RTN","ONCSPC8A",125,0)
 Q
"RTN","ONCSRV")
0^15^B14249551
"RTN","ONCSRV",1,0)
ONCSRV ;Hines OIFO/RVD - SERVER ROUTINE FOR ONCOLOGY ; 5/10/2013
"RTN","ONCSRV",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSRV",3,0)
 ;Per VHA Directive 10-93-142, this routine should not be modified.
"RTN","ONCSRV",4,0)
 ;
"RTN","ONCSRV",5,0)
 ;DBIA # 10072 - for routine REMSBMSG^XMA1C
"RTN","ONCSRV",6,0)
 ;
"RTN","ONCSRV",7,0)
 N ONCDS1,ONCDS2,ONCDT1,ONCDT2,ONCIIA,ONCSRDAT,XMRGONC1,ONCMSG,ONCUSS,ONCUSSNA,ONC0I,ONC0J
"RTN","ONCSRV",8,0)
 D NOW^%DTC
"RTN","ONCSRV",9,0)
 ;
"RTN","ONCSRV",10,0)
 X XMREC S XMRGONC1=XMRG
"RTN","ONCSRV",11,0)
 S ONCIIA=0
"RTN","ONCSRV",12,0)
XMR ;
"RTN","ONCSRV",13,0)
 X XMREC
"RTN","ONCSRV",14,0)
 S ONCSRDAT(ONCIIA)=XMRG
"RTN","ONCSRV",15,0)
 S ONCIIA=ONCIIA+1
"RTN","ONCSRV",16,0)
 I (XMRG="END")!(XMRG="") G SNDC
"RTN","ONCSRV",17,0)
 G XMR
"RTN","ONCSRV",18,0)
 ;
"RTN","ONCSRV",19,0)
SNDC ;Send confirmation message to Mail Server Recipient in file #160.1
"RTN","ONCSRV",20,0)
 S XMDUZ=.5
"RTN","ONCSRV",21,0)
 D REC  ;get recipient from site parameter.
"RTN","ONCSRV",22,0)
 S XMSUB="Oncology Server Activation for "_$P($$SITE^VASITE,U,2)
"RTN","ONCSRV",23,0)
 S ONCMSG(1)="The Oncology Server was activated today by the Oncology Office.  "
"RTN","ONCSRV",24,0)
 S ONCMSG(2)="Please note if data was processed correctly..."
"RTN","ONCSRV",25,0)
 S ONCMSG(3)=""
"RTN","ONCSRV",26,0)
 s ONCMSG(4)="Server message is: "_XMRGONC1
"RTN","ONCSRV",27,0)
 S ONCMSG(5)=""
"RTN","ONCSRV",28,0)
 S ONCMSG(6)="This was activated by "_$P(XMFROM,"@",1)
"RTN","ONCSRV",29,0)
 S ONCMSG(7)=""
"RTN","ONCSRV",30,0)
 S XMTEXT="ONCMSG("
"RTN","ONCSRV",31,0)
 D ^XMD
"RTN","ONCSRV",32,0)
 K XMTEXT,ONCMSG
"RTN","ONCSRV",33,0)
USS ;check if valid mail server user
"RTN","ONCSRV",34,0)
 S ONCUSS=0
"RTN","ONCSRV",35,0)
 F ONC0I=0:0 S ONC0I=$O(^ONCO(160.1,ONC0I)) Q:ONC0I'>0  D
"RTN","ONCSRV",36,0)
 .F ONC0J=0:0 S ONC0J=$O(^ONCO(160.1,ONC0I,"SEU",ONC0J)) Q:ONC0J'>0  D
"RTN","ONCSRV",37,0)
 ..S ONCUSSNA=$P($G(^ONCO(160.1,ONC0I,"SEU",ONC0J,0)),U,1)
"RTN","ONCSRV",38,0)
 ..S:XMFROM[ONCUSSNA ONCUSS=1
"RTN","ONCSRV",39,0)
 I ONCUSS=0 G INV  ;invalid mail server user.
"RTN","ONCSRV",40,0)
 ;
"RTN","ONCSRV",41,0)
PROC ;process the content of the message
"RTN","ONCSRV",42,0)
 N ONCRC
"RTN","ONCSRV",43,0)
 ;update server address
"RTN","ONCSRV",44,0)
 ;production server- S XMRGONC1="SERVER*http://127.0.0.1:21/cgi_bin/oncsrv.exe"
"RTN","ONCSRV",45,0)
 I $P(XMRGONC1,"*",1)="SERVER" S ONCRC=$$UPDCSURL^ONCSAPIU($P(XMRGONC1,"*",2)) G EXIT
"RTN","ONCSRV",46,0)
 ;timeliness report
"RTN","ONCSRV",47,0)
 ;example of the message
"RTN","ONCSRV",48,0)
 ;TIMELINESS*/1/1/2010*12/31/1012*YES*YES
"RTN","ONCSRV",49,0)
 I XMRGONC1["TIMELINESS" G ^ONCSRVTM
"RTN","ONCSRV",50,0)
 ;update file 160.16, example below
"RTN","ONCSRV",51,0)
 ;it be NEW, UPDATE, DELETE or RULES.
"RTN","ONCSRV",52,0)
 ;160.16*UPDATE*1*2555 where: 1=ien of 160,16( can be 1, 2 or 3), 2555 = field
"RTN","ONCSRV",53,0)
 ;0#*^contains of node 0
"RTN","ONCSRV",54,0)
 ;1#*^contains of node 1
"RTN","ONCSRV",55,0)
 ;2#*^contains of node 2
"RTN","ONCSRV",56,0)
 ;3#*^
"RTN","ONCSRV",57,0)
 I $P(XMRGONC1,"*",1)=160.16 G 16016^ONCSRV01
"RTN","ONCSRV",58,0)
 ;process Registry report for Today
"RTN","ONCSRV",59,0)
 ;example REGISTRY*TODAY
"RTN","ONCSRV",60,0)
 I XMRGONC1["REGISTRY" G ^ONCSRVRP
"RTN","ONCSRV",61,0)
 I $P(XMRGONC1,"*",1)="MAIL SERVER" D MSE  ;update mail server user and recipient
"RTN","ONCSRV",62,0)
 ;update file 165.5 for future patch
"RTN","ONCSRV",63,0)
 ;I $P(XMRGONC1,"*",1)=165.5 G 1655^ONCSRV01
"RTN","ONCSRV",64,0)
 G EXIT
"RTN","ONCSRV",65,0)
 ;
"RTN","ONCSRV",66,0)
MSE ;update mail server
"RTN","ONCSRV",67,0)
 ;MAIL SERVER*VALID USER*RECIPIENT mail address
"RTN","ONCSRV",68,0)
 ;MAIL SERVER*USER1*tuser@domain.ext
"RTN","ONCSRV",69,0)
 N ONCMSRE,ONCMSUS,DIC,DA,DR,DIE,Y
"RTN","ONCSRV",70,0)
 S IEN=0,DIC(0)="L"
"RTN","ONCSRV",71,0)
 F  S IEN=$O(^ONCO(160.1,IEN))  Q:IEN'>0  D
"RTN","ONCSRV",72,0)
 .S DA(1)=IEN,(DIE,DIC)="^ONCO(160.1,DA(1),""SEU"","
"RTN","ONCSRV",73,0)
 .S ONCMSRE=$P(XMRGONC1,"*",3),ONCMSUS=$P(XMRGONC1,"*",2)
"RTN","ONCSRV",74,0)
 .I '$D(^ONCO(160.1,IEN,"SEU","B",ONCMSUS)) D
"RTN","ONCSRV",75,0)
 ..S DIC("DR")="2///^S X=ONCMSRE",X=ONCMSUS D FILE^DICN
"RTN","ONCSRV",76,0)
 .I $D(^ONCO(160.1,IEN,"SEU","B",ONCMSUS)) D
"RTN","ONCSRV",77,0)
 ..S DA=$O(^ONCO(160.1,IEN,"SEU","B",ONCMSUS,0))
"RTN","ONCSRV",78,0)
 ..S DR="2///^S X=ONCMSRE" D ^DIE
"RTN","ONCSRV",79,0)
 Q
"RTN","ONCSRV",80,0)
 ;
"RTN","ONCSRV",81,0)
REC ;get mail recipient
"RTN","ONCSRV",82,0)
 F ONC0I=0:0 S ONC0I=$O(^ONCO(160.1,ONC0I)) Q:ONC0I'>0  D
"RTN","ONCSRV",83,0)
 .F ONC0J=0:0 S ONC0J=$O(^ONCO(160.1,ONC0I,"SEU",ONC0J)) Q:ONC0J'>0  D
"RTN","ONCSRV",84,0)
 ..S ONCUSSNA=$P($G(^ONCO(160.1,ONC0I,"SEU",ONC0J,0)),U,2)
"RTN","ONCSRV",85,0)
 ..S XMY(ONCUSSNA)=""
"RTN","ONCSRV",86,0)
 Q
"RTN","ONCSRV",87,0)
 ;add additional extract here if needed
"RTN","ONCSRV",88,0)
 ;D EXT^ONCSRV02
"RTN","ONCSRV",89,0)
 ;
"RTN","ONCSRV",90,0)
INV ;message due to invalid user
"RTN","ONCSRV",91,0)
 S XMDUZ=.5
"RTN","ONCSRV",92,0)
 D REC  ;get recipients from site parameter file
"RTN","ONCSRV",93,0)
 S XMSUB="Oncology Invalid User Activation for "_$P($$SITE^VASITE,U,2)
"RTN","ONCSRV",94,0)
 S ONCMSG(1)="The Oncology Server was activated today by an invalid user.  "
"RTN","ONCSRV",95,0)
 S ONCMSG(2)=""
"RTN","ONCSRV",96,0)
 S ONCMSG(3)="This was activated by "_XMFROM
"RTN","ONCSRV",97,0)
 S XMTEXT="ONCMSG("
"RTN","ONCSRV",98,0)
 D ^XMD
"RTN","ONCSRV",99,0)
 K XMTEXT,ONCMSG
"RTN","ONCSRV",100,0)
 ;
"RTN","ONCSRV",101,0)
EXIT ;common exit point
"RTN","ONCSRV",102,0)
 S XMSER="S."_XQSOP,XMZ=XQMSG D REMSBMSG^XMA1C
"RTN","ONCSRV",103,0)
 K ONCDAT1,ONCDAT2,ONCDT1,XMRG,XMSUB,ONCRC
"RTN","ONCSRV",104,0)
 K ONCDET,ONCDOR1,ONCDORS,ONCDORW,ONCDS1,ONCDS2,ONCDT2,ONCMSG
"RTN","ONCSRV",105,0)
 K ONCPIP1,ONCPIP2,XMDUZ,XMFROM,XMREC,XMSER,XMTEXT,XMY,XMZ,XQMSG,XQSOP,Y
"RTN","ONCSRV",106,0)
 Q
"RTN","ONCSRV",107,0)
 ;END
"RTN","ONCSRV01")
0^16^B6980964
"RTN","ONCSRV01",1,0)
ONCSRV01 ;HIRMFO/RVD-SERVER ROUTINE FOR 160.16 AND REPORTS ;6/12/13
"RTN","ONCSRV01",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSRV01",3,0)
 ;
"RTN","ONCSRV01",4,0)
16016 ;process if update, delete or new entry.
"RTN","ONCSRV01",5,0)
 ;* separates the mailman message
"RTN","ONCSRV01",6,0)
 N ONC16016,ONCIEN
"RTN","ONCSRV01",7,0)
 S ONC16016=$P(XMRGONC1,"*",3),ONCIEN=$P(XMRGONC1,"*",4)
"RTN","ONCSRV01",8,0)
 I XMRGONC1["RULES" S IEN=0 G RULE  ;update RULES.
"RTN","ONCSRV01",9,0)
 I (XMRGONC1["DELETE")!(XMRGONC1["UPDATE") G DIK1  ;go to delete or update an entry.
"RTN","ONCSRV01",10,0)
 S IEN=0
"RTN","ONCSRV01",11,0)
 N DA,DR,ONC01,ONC1,ONC2,ONC3,ONCSS,ONCOLD,ONCRUDA
"RTN","ONCSRV01",12,0)
 ;
"RTN","ONCSRV01",13,0)
NUE ;new and update an entry in file #160.16
"RTN","ONCSRV01",14,0)
 ;#*^ seperate the message from the ien
"RTN","ONCSRV01",15,0)
 S ONCSS=$G(ONCSRDAT(IEN)) G:'$D(ONCSS)!(ONCSS="") EXIT
"RTN","ONCSRV01",16,0)
 S ONCOLD=$P(ONCSS,"#*^",1),ONCRUDA=$P(ONCSS,"#*^",2)
"RTN","ONCSRV01",17,0)
 S ^RUFINO("TEST UPDATE",IEN)=ONCSS  ;only for testing, remove when RElease
"RTN","ONCSRV01",18,0)
 I ONCOLD=0 G UP160
"RTN","ONCSRV01",19,0)
 I (ONCOLD=1),((IEN=2)!(IEN=3)) S ^ONCO(160.16,ONC16016,"FIELD",ONCIEN,1)=^ONCO(160.16,ONC16016,"FIELD",ONCIEN,1)_ONCRUDA S IEN=IEN+1 G NUE
"RTN","ONCSRV01",20,0)
 I ONCOLD=1 S ^ONCO(160.16,ONC16016,"FIELD",ONCIEN,1)=ONCRUDA
"RTN","ONCSRV01",21,0)
 I ONCOLD=2 S ^ONCO(160.16,ONC16016,"FIELD",ONCIEN,2)=ONCRUDA
"RTN","ONCSRV01",22,0)
 I ONCOLD=3 S ^ONCO(160.16,ONC16016,"FIELD",ONCIEN,3)=ONCRUDA
"RTN","ONCSRV01",23,0)
 I ONCOLD=4 S ^ONCO(160.16,ONC16016,"FIELD",ONCIEN,4)=ONCRUDA
"RTN","ONCSRV01",24,0)
 S IEN=IEN+1
"RTN","ONCSRV01",25,0)
 G NUE
"RTN","ONCSRV01",26,0)
 ;
"RTN","ONCSRV01",27,0)
UP160 ;add/update an entry in the extract.
"RTN","ONCSRV01",28,0)
 S DIC(0)="EL"
"RTN","ONCSRV01",29,0)
 S DA(1)=ONC16016,DA=ONCIEN
"RTN","ONCSRV01",30,0)
 S ONC01=$P(ONCSS,U,2),ONC1=$P(ONCSS,U,3),ONC2=$P(ONCSS,U,4),ONC3=$P(ONCSS,U,5)
"RTN","ONCSRV01",31,0)
 S DIE="^ONCO(160.16,"_DA(1)_",""FIELD"","
"RTN","ONCSRV01",32,0)
 S DR=".01///^S X=ONC01;1///^S X=ONC1;2///^S X=ONC2;3///^S X=ONC3" D ^DIE
"RTN","ONCSRV01",33,0)
 S IEN=IEN+1
"RTN","ONCSRV01",34,0)
 G NUE
"RTN","ONCSRV01",35,0)
 ;
"RTN","ONCSRV01",36,0)
DIK1 ;delete an entry in file #160.16
"RTN","ONCSRV01",37,0)
 N DIK,DA
"RTN","ONCSRV01",38,0)
 S DA(1)=ONC16016,DA=ONCIEN
"RTN","ONCSRV01",39,0)
 S DIK="^ONCO(160.16,"_DA(1)_",""FIELD""," D ^DIK
"RTN","ONCSRV01",40,0)
 G NUE
"RTN","ONCSRV01",41,0)
 ;
"RTN","ONCSRV01",42,0)
RULE ;update RULES node
"RTN","ONCSRV01",43,0)
 ;#*^ seperate the message from ien
"RTN","ONCSRV01",44,0)
 ;K ^ONCO(150.16,ONC15016,"RULES")  ;clean-up before updating, remove comment when release
"RTN","ONCSRV01",45,0)
 N ONCSS,ONCOLD,ONCRUDA
"RTN","ONCSRV01",46,0)
 S ONCSS=$G(ONCSRDAT(IEN)),ONCOLD=$P(ONCSS,"#*^",1),ONCRUDA=$P(ONCSS,"#*^",2)
"RTN","ONCSRV01",47,0)
 S ^ONCO(160.16,ONC16016,"RULES",ONCOLD)=ONCRUDA
"RTN","ONCSRV01",48,0)
RULES ;
"RTN","ONCSRV01",49,0)
 S IEN=IEN+1
"RTN","ONCSRV01",50,0)
 S ONCSS=$G(ONCSRDAT(IEN)) G:'$D(ONCSS)!(ONCSS="") EXIT
"RTN","ONCSRV01",51,0)
 S ONCOLD=$P(ONCSS,"#*^",1),ONCRUDA=$P(ONCSS,"#*^",2)
"RTN","ONCSRV01",52,0)
 I $D(^ONCO(160.16,ONC16016,"RULES",ONCOLD,0)) S ^ONCO(160.16,ONC16016,"RULES",ONCOLD,0)=^ONCO(160.16,ONC16016,"RULES",ONCOLD,0)_ONCRUDA G RULES
"RTN","ONCSRV01",53,0)
 S ^ONCO(160.16,ONC16016,"RULES",ONCOLD,0)=ONCRUDA
"RTN","ONCSRV01",54,0)
 G RULES
"RTN","ONCSRV01",55,0)
 ;
"RTN","ONCSRV01",56,0)
1655 ;update or add a new DD in Oncology Primary file, for future use.
"RTN","ONCSRV01",57,0)
 Q
"RTN","ONCSRV01",58,0)
EXIT ;
"RTN","ONCSRV01",59,0)
 Q
"RTN","ONCSRVRP")
0^18^B16573509
"RTN","ONCSRVRP",1,0)
ONCSRVRP ;Hines OIFO/RVD - REGISTRY SERVER REPORT ;06/26/13
"RTN","ONCSRVRP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSRVRP",3,0)
 ;
"RTN","ONCSRVRP",4,0)
TK ;Tasked [RS Registry Summary Reports - Today] report 
"RTN","ONCSRVRP",5,0)
 S YR="T"
"RTN","ONCSRVRP",6,0)
 N G,W,ONCAC,ONCANA,ONCNON,ONCMI,ONCIN,ONCWA,ONCXD0,ONCDIV,X0,X1,X2
"RTN","ONCSRVRP",7,0)
 N ONCPA,ONCCO,START,END,XMY,XMTEXT,RPTDATE
"RTN","ONCSRVRP",8,0)
 K ^TMP($J)
"RTN","ONCSRVRP",9,0)
 S Y=DT D DD^%DT S RPTDATE=Y
"RTN","ONCSRVRP",10,0)
 S G=0,XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",G,XD0)) Q:XD0'>0  D
"RTN","ONCSRVRP",11,0)
 .S ONCDIV=$P(^DIC(4,$$DIV^ONCFUNC(XD0),0),U,1)
"RTN","ONCSRVRP",12,0)
 .I $P($G(^ONCO(165.5,XD0,7)),"^",2)'="A" D
"RTN","ONCSRVRP",13,0)
 ..S:'$D(G(ONCDIV,G)) G(ONCDIV,G)=0
"RTN","ONCSRVRP",14,0)
 ..S G(ONCDIV,G)=G(ONCDIV,G)+1
"RTN","ONCSRVRP",15,0)
 S G=1,XD0=0 F  S XD0=$O(^ONCO(165.5,"AG",G,XD0)) Q:XD0'>0  D
"RTN","ONCSRVRP",16,0)
 .S ONCDIV=$P(^DIC(4,$$DIV^ONCFUNC(XD0),0),U,1)
"RTN","ONCSRVRP",17,0)
 .I $P($G(^ONCO(165.5,XD0,7)),"^",2)'="A" D
"RTN","ONCSRVRP",18,0)
 ..S:'$D(G(ONCDIV,G)) G(ONCDIV,G)=0
"RTN","ONCSRVRP",19,0)
 ..S G(ONCDIV,G)=G(ONCDIV,G)+1
"RTN","ONCSRVRP",20,0)
 S W=0,X0=0 F  S X0=$O(^ONCO(160,"ADX",X0)) Q:'X0  S X1=0 F  S X1=$O(^ONCO(160,"ADX",X0,X1)) Q:'X1  S X2=0 D
"RTN","ONCSRVRP",21,0)
 .F  S X2=$O(^ONCO(160,"ADX",X0,X1,X2)) Q:'X2  D
"RTN","ONCSRVRP",22,0)
 ..S ONCDIV=$P(^DIC(4,$$SUSDIV^ONCFUNC(X1,X2),0),U,1)
"RTN","ONCSRVRP",23,0)
 ..S:'$D(W(ONCDIV)) W(ONCDIV)=0
"RTN","ONCSRVRP",24,0)
 ..S W(ONCDIV)=W(ONCDIV)+1
"RTN","ONCSRVRP",25,0)
 F I=0,1,2,3,"A" S X0=0 F  S X0=$O(^ONCO(165.5,"AS",I,X0)) Q:X0'>0  D
"RTN","ONCSRVRP",26,0)
 .S ONCDIV=$P(^DIC(4,$$DIV^ONCFUNC(X0),0),U,1)
"RTN","ONCSRVRP",27,0)
 .S:'$D(W(ONCDIV,I)) W(ONCDIV,I)=0
"RTN","ONCSRVRP",28,0)
 .S W(ONCDIV,I)=W(ONCDIV,I)+1
"RTN","ONCSRVRP",29,0)
 S ONCDIV="",I=0 F  S ONCDIV=$O(G(ONCDIV)) Q:ONCDIV=""  S ONCANA=$G(G(ONCDIV,1)),ONCNON=$G(G(ONCDIV,0)) D
"RTN","ONCSRVRP",30,0)
 .S I=I+1
"RTN","ONCSRVRP",31,0)
 .S:ONCANA="" ONCANA=0 S:ONCNON="" ONCNON=0
"RTN","ONCSRVRP",32,0)
 .S ^TMP($J,"ONCPRT",I)="REGISTRY SUMMARY REPORT (Today) for: "_ONCDIV_"   Run Date: "_RPTDATE
"RTN","ONCSRVRP",33,0)
 .S ONCAC=$G(W(ONCDIV,"A")),ONCIN=$G(W(ONCDIV,0)),ONCMI=$G(W(ONCDIV,1)),ONCPA=$G(W(ONCDIV,2))
"RTN","ONCSRVRP",34,0)
 .S ONCCO=$G(W(ONCDIV,3)),ONCWA=$G(W(ONCDIV))
"RTN","ONCSRVRP",35,0)
 .S:ONCWA="" ONCWA=0 S:ONCCO="" ONCCO=0 S:ONCPA="" ONCPA=0 S:ONCMI="" ONCMI=0 S:ONCIN="" ONCIN=0
"RTN","ONCSRVRP",36,0)
 .S:ONCAC="" ONCAC=0
"RTN","ONCSRVRP",37,0)
 .S I=I+1
"RTN","ONCSRVRP",38,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",39,0)
 .S I=I+1
"RTN","ONCSRVRP",40,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",41,0)
 .S I=I+1
"RTN","ONCSRVRP",42,0)
 .S ^TMP($J,"ONCPRT",I)="    Analytical: "_$J(ONCANA,5)
"RTN","ONCSRVRP",43,0)
 .S I=I+1
"RTN","ONCSRVRP",44,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",45,0)
 .S I=I+1
"RTN","ONCSRVRP",46,0)
 .S ^TMP($J,"ONCPRT",I)="Non-Analytical: "_$J(ONCNON,5)
"RTN","ONCSRVRP",47,0)
 .S I=I+1
"RTN","ONCSRVRP",48,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",49,0)
 .S I=I+1
"RTN","ONCSRVRP",50,0)
 .S ^TMP($J,"ONCPRT",I)="Accession Only: "_$J(ONCAC,5)
"RTN","ONCSRVRP",51,0)
 .S I=I+1
"RTN","ONCSRVRP",52,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",53,0)
 .S I=I+1
"RTN","ONCSRVRP",54,0)
 .S ^TMP($J,"ONCPRT",I)="               ------",I=I+1
"RTN","ONCSRVRP",55,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",56,0)
 .S I=I+1
"RTN","ONCSRVRP",57,0)
 .S ^TMP($J,"ONCPRT",I)="Total:          "_$J(ONCANA+ONCNON+ONCAC,5)
"RTN","ONCSRVRP",58,0)
 .S I=I+1
"RTN","ONCSRVRP",59,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",60,0)
 .S I=I+1
"RTN","ONCSRVRP",61,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",62,0)
 .S I=I+1
"RTN","ONCSRVRP",63,0)
 .S ^TMP($J,"ONCPRT",I)="WORKLOAD STATITICS"
"RTN","ONCSRVRP",64,0)
 .S I=I+1
"RTN","ONCSRVRP",65,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",66,0)
 .S I=I+1
"RTN","ONCSRVRP",67,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",68,0)
 .S I=I+1
"RTN","ONCSRVRP",69,0)
 .S ^TMP($J,"ONCPRT",I)="Suspense: "_ONCWA
"RTN","ONCSRVRP",70,0)
 .S I=I+1
"RTN","ONCSRVRP",71,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",72,0)
 .S I=I+1
"RTN","ONCSRVRP",73,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",74,0)
 .S I=I+1
"RTN","ONCSRVRP",75,0)
 .S ^TMP($J,"ONCPRT",I)="Incomplete: "_ONCIN_"   Minimal: "_ONCMI_"   Partial: "_ONCPA_"   Complete: "_ONCCO
"RTN","ONCSRVRP",76,0)
 .S ^TMP($J,"ONCPRT",I)=^TMP($J,"ONCPRT",I)_"  Acc Only: "_ONCAC
"RTN","ONCSRVRP",77,0)
 .S I=I+1
"RTN","ONCSRVRP",78,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",79,0)
 .S I=I+1
"RTN","ONCSRVRP",80,0)
 .S ^TMP($J,"ONCPRT",I)="--------------"
"RTN","ONCSRVRP",81,0)
 .S I=I+1
"RTN","ONCSRVRP",82,0)
 .S ^TMP($J,"ONCPRT",I)="",I=I+1
"RTN","ONCSRVRP",83,0)
 .S ^TMP($J,"ONCPRT",I)="Total: "_$J(ONCIN+ONCMI+ONCPA+ONCCO+ONCAC,5)
"RTN","ONCSRVRP",84,0)
 .S I=I+1
"RTN","ONCSRVRP",85,0)
 .S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVRP",86,0)
 D MAIL
"RTN","ONCSRVRP",87,0)
 Q
"RTN","ONCSRVRP",88,0)
 ;
"RTN","ONCSRVRP",89,0)
 W !!?30,"Analytical: ",$J(G(1),5)
"RTN","ONCSRVRP",90,0)
 W !?26,"Non-Analytical: ",$J(G(0),5)
"RTN","ONCSRVRP",91,0)
 W !?26,"Accession Only: ",$J(W("A"),5)
"RTN","ONCSRVRP",92,0)
 W !?42,"-----"
"RTN","ONCSRVRP",93,0)
 W !?35,"Total: ",$J(G(0)+G(1)+W("A"),5),!!
"RTN","ONCSRVRP",94,0)
 W !,?30,"WORKLOAD STATISTICS",!!
"RTN","ONCSRVRP",95,0)
 W "Suspense: ",W,!!,"Incomplete: ",W(0),?19,"Minimal: ",W(1),?34,"Partial: ",W(2),?49,"Complete: ",W(3),?65,"Acc Only: ",W("A"),!
"RTN","ONCSRVRP",96,0)
 W "---------------",!,"Total: ",W(0)+W(1)+W(2)+W(3)+W("A")
"RTN","ONCSRVRP",97,0)
 Q
"RTN","ONCSRVRP",98,0)
 ;
"RTN","ONCSRVRP",99,0)
MAIL ;email report to Oncology
"RTN","ONCSRVRP",100,0)
 S XMDUZ=.5
"RTN","ONCSRVRP",101,0)
 D REC^ONCSRV  ;get recipients
"RTN","ONCSRVRP",102,0)
 S XMSUB="Oncology Registry Summary Report (Today)"
"RTN","ONCSRVRP",103,0)
 S XMTEXT="^TMP($J,""ONCPRT"","
"RTN","ONCSRVRP",104,0)
 D ^XMD
"RTN","ONCSRVRP",105,0)
 K XMTEXT,XMY,XMSUB
"RTN","ONCSRVRP",106,0)
 Q
"RTN","ONCSRVRP",107,0)
 ;
"RTN","ONCSRVRP",108,0)
DIVID ;DIVISION (160.1,6) identifier
"RTN","ONCSRVRP",109,0)
 Q
"RTN","ONCSRVRP",110,0)
 ;
"RTN","ONCSRVRP",111,0)
EX ;EXIT
"RTN","ONCSRVRP",112,0)
 ;K ^TMP($J)
"RTN","ONCSRVRP",113,0)
 Q
"RTN","ONCSRVRP",114,0)
 ;
"RTN","ONCSRVRP",115,0)
CLEANUP ;Cleanup
"RTN","ONCSRVRP",116,0)
 K %ZIS,ACO
"RTN","ONCSRVRP",117,0)
 Q
"RTN","ONCSRVTM")
0^17^B35307509
"RTN","ONCSRVTM",1,0)
ONCSRVTM ;Hines OIFO/RVD - SERVER ROUTINE FOR TIMELINESS REPORTS ; 05/16/13
"RTN","ONCSRVTM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSRVTM",3,0)
 ;
"RTN","ONCSRVTM",4,0)
TIME ;[Timeliness report server]
"RTN","ONCSRVTM",5,0)
 K ^TMP($J,"ONCSRV"),^TMP($J,"ONCSRV1"),^TMP($J,"ONCPRT")
"RTN","ONCSRVTM",6,0)
 N DIC,SDT,EDT,IEN,ONCCNT,ONCLES,ONCMOR,RPTDATE,DIVISION,ACO,ONCDIV,ONCDVCNT
"RTN","ONCSRVTM",7,0)
 N COC,NCRPT,EMTC,END,START,TIMEPCT,Y,ONCLM,ONCII,ONCJJ
"RTN","ONCSRVTM",8,0)
 S START=$P(XMRGONC1,"*",2),END=$P(XMRGONC1,"*",3),ACO=$S($P(XMRGONC1,"*",4)="YES":1,1:0)
"RTN","ONCSRVTM",9,0)
 S NCRPT=$S($P(XMRGONC1,"*",5)="YES":1,1:0)
"RTN","ONCSRVTM",10,0)
 S Y=DT D DD^%DT S RPTDATE=Y
"RTN","ONCSRVTM",11,0)
 S X=START D ^%DT S ONCSTART=Y
"RTN","ONCSRVTM",12,0)
 S X=END D ^%DT S ONCEND=Y
"RTN","ONCSRVTM",13,0)
 ;
"RTN","ONCSRVTM",14,0)
COMP S (ONCCNT,ONCLES,ONCMOR)=0,SDT=ONCSTART-1
"RTN","ONCSRVTM",15,0)
 N ONCMON,ONCPID
"RTN","ONCSRVTM",16,0)
 F  S SDT=$O(^ONCO(165.5,"AFC",SDT)) Q:(SDT="")!(SDT>ONCEND)  S IEN=0 F  S IEN=$O(^ONCO(165.5,"AFC",SDT,IEN)) Q:IEN'>0  D
"RTN","ONCSRVTM",17,0)
 .S ONCDIV=$P(^DIC(4,$$DIV^ONCFUNC(IEN),0),U,1)
"RTN","ONCSRVTM",18,0)
 .S ONCPID=$$GET1^DIQ(165.5,IEN,61)
"RTN","ONCSRVTM",19,0)
 .S ONCMON=$$GET1^DIQ(165.5,IEN,157.1)
"RTN","ONCSRVTM",20,0)
 .S COC=$E($$GET1^DIQ(165.5,IEN,.04),1,2)
"RTN","ONCSRVTM",21,0)
 .S (ONCDT1,X)=$$GET1^DIQ(165.5,IEN,155) D ^%DT S ONC1CT=Y
"RTN","ONCSRVTM",22,0)
 .S (ONCDTC,X)=$$GET1^DIQ(165.5,IEN,90) D ^%DT S ONCCPLT=Y
"RTN","ONCSRVTM",23,0)
 .S ^TMP($J,"ONCSRV",ONCDIV)=""
"RTN","ONCSRVTM",24,0)
 .I ACO=1,COC>22 Q
"RTN","ONCSRVTM",25,0)
 .S EMTC=$$GET1^DIQ(165.5,IEN,157.1)
"RTN","ONCSRVTM",26,0)
 .I (EMTC["Unknown")!(EMTC["NA") Q
"RTN","ONCSRVTM",27,0)
 .S ONCCNT=ONCCNT+1
"RTN","ONCSRVTM",28,0)
 .I EMTC<7 D
"RTN","ONCSRVTM",29,0)
 ..I '$D(^TMP($J,"ONCSRV1",ONCDIV,"LES")) S ^TMP($J,"ONCSRV1",ONCDIV,"LES")=0
"RTN","ONCSRVTM",30,0)
 ..S ^TMP($J,"ONCSRV1",ONCDIV,"LES")=^TMP($J,"ONCSRV1",ONCDIV,"LES")+1
"RTN","ONCSRVTM",31,0)
 .I EMTC>6 D
"RTN","ONCSRVTM",32,0)
 ..I '$D(^TMP($J,"ONCSRV1",ONCDIV,"MOR")) S ^TMP($J,"ONCSRV1",ONCDIV,"MOR")=0
"RTN","ONCSRVTM",33,0)
 ..S ^TMP($J,"ONCSRV1",ONCDIV,"MOR")=^TMP($J,"ONCSRV1",ONCDIV,"MOR")+1
"RTN","ONCSRVTM",34,0)
 ..S ^TMP($J,"ONCSRV",ONCDIV,ONCCPLT,IEN)=ONCPID_"     "_ONCDT1_"      "_ONCDTC_"        "_ONCMON
"RTN","ONCSRVTM",35,0)
 .I '$D(^TMP($J,"ONCSRV1",ONCDIV,"CNT")) S ^TMP($J,"ONCSRV1",ONCDIV,"CNT")=0
"RTN","ONCSRVTM",36,0)
 .S ^TMP($J,"ONCSRV1",ONCDIV,"CNT")=^TMP($J,"ONCSRV1",ONCDIV,"CNT")+1
"RTN","ONCSRVTM",37,0)
 S I=0
"RTN","ONCSRVTM",38,0)
 ;S ^TMP($J,"ONCPRT",0)=""
"RTN","ONCSRVTM",39,0)
 I ONCCNT=0,'$D(^TMP($J,"ONCSRV1","NOCASE")) S ^TMP($J,"ONCPRT",I+1)="No cases found." D MAIL G EXIT
"RTN","ONCSRVTM",40,0)
 ;
"RTN","ONCSRVTM",41,0)
 ;initialize variables
"RTN","ONCSRVTM",42,0)
 S (ONCD,ONCDIV,ONCOLDV)=""
"RTN","ONCSRVTM",43,0)
 F  S ONCDIV=$O(^TMP($J,"ONCSRV",ONCDIV)) D:ONCDIV'=ONCOLDV TOT Q:ONCDIV=""  S (ONCDVCNT,LESCNT,GTRCNT)=0 D HEAD D
"RTN","ONCSRVTM",44,0)
 .Q:NCRPT=0
"RTN","ONCSRVTM",45,0)
 .S ONCOLDV=ONCDIV
"RTN","ONCSRVTM",46,0)
 .F ONCII=0:0 S ONCII=$O(^TMP($J,"ONCSRV",ONCDIV,ONCII)) Q:ONCII'>0  D
"RTN","ONCSRVTM",47,0)
 ..F ONCJJ=0:0 S ONCJJ=$O(^TMP($J,"ONCSRV",ONCDIV,ONCII,ONCJJ)) Q:ONCJJ'>0  S ONCD=$G(^(ONCJJ)) D
"RTN","ONCSRVTM",48,0)
 ...S I=I+1
"RTN","ONCSRVTM",49,0)
 ...S ^TMP($J,"ONCPRT",I)=ONCD
"RTN","ONCSRVTM",50,0)
 ...S ONCDVCNT=ONCDVCNT+1
"RTN","ONCSRVTM",51,0)
 D MAIL
"RTN","ONCSRVTM",52,0)
 G EXIT
"RTN","ONCSRVTM",53,0)
 Q
"RTN","ONCSRVTM",54,0)
 ;
"RTN","ONCSRVTM",55,0)
TOT ;total of each Division
"RTN","ONCSRVTM",56,0)
 Q:ONCOLDV=""
"RTN","ONCSRVTM",57,0)
 S I=I+1
"RTN","ONCSRVTM",58,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",59,0)
 S I=I+1
"RTN","ONCSRVTM",60,0)
 S ^TMP($J,"ONCPRT",I)="COUNT = "_ONCDVCNT
"RTN","ONCSRVTM",61,0)
 S ONCDVCNT=0
"RTN","ONCSRVTM",62,0)
 Q
"RTN","ONCSRVTM",63,0)
 ;
"RTN","ONCSRVTM",64,0)
HEAD ;print header
"RTN","ONCSRVTM",65,0)
 Q:'$D(^TMP($J,"ONCSRV1",ONCDIV,"CNT"))
"RTN","ONCSRVTM",66,0)
 S (ONCLESS,ONCMORE)=0
"RTN","ONCSRVTM",67,0)
 S:$D(^TMP($J,"ONCSRV1",ONCDIV,"LES")) ONCLESS=$G(^TMP($J,"ONCSRV1",ONCDIV,"LES"))
"RTN","ONCSRVTM",68,0)
 S:$D(^TMP($J,"ONCSRV1",ONCDIV,"MOR")) ONCMORE=$G(^TMP($J,"ONCSRV1",ONCDIV,"MOR"))
"RTN","ONCSRVTM",69,0)
 S I=I+1
"RTN","ONCSRVTM",70,0)
 S ONCTPCT=""
"RTN","ONCSRVTM",71,0)
 I $D(^TMP($J,"ONCSRV1",ONCDIV,"LES"))&($D(^TMP($J,"ONCSRV1",ONCDIV,"CNT"))) D
"RTN","ONCSRVTM",72,0)
 .S ONCTPCT=^TMP($J,"ONCSRV1",ONCDIV,"LES")/^TMP($J,"ONCSRV1",ONCDIV,"CNT")
"RTN","ONCSRVTM",73,0)
 .S ONCTPCT=$J(ONCTPCT,3,2)*100_"%"
"RTN","ONCSRVTM",74,0)
 S ^TMP($J,"ONCPRT",I)="",I=I+1
"RTN","ONCSRVTM",75,0)
 S ^TMP($J,"ONCPRT",I)="TIMELINESS NON-COMPLIANCE REPORT for: "_ONCDIV_"         RUN DATE: "_RPTDATE
"RTN","ONCSRVTM",76,0)
 S I=I+1
"RTN","ONCSRVTM",77,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",78,0)
 S I=I+1
"RTN","ONCSRVTM",79,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",80,0)
 S I=I+1
"RTN","ONCSRVTM",81,0)
 S ^TMP($J,"ONCPRT",I)="Start Date of First Contact.......: "_START
"RTN","ONCSRVTM",82,0)
 S I=I+1
"RTN","ONCSRVTM",83,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",84,0)
 S I=I+1
"RTN","ONCSRVTM",85,0)
 S ^TMP($J,"ONCPRT",I)="End Date of First Contact.........: "_END
"RTN","ONCSRVTM",86,0)
 S I=I+1
"RTN","ONCSRVTM",87,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",88,0)
 S I=I+1
"RTN","ONCSRVTM",89,0)
 S ^TMP($J,"ONCPRT",I)="Division..........................: "_ONCDIV
"RTN","ONCSRVTM",90,0)
 S I=I+1
"RTN","ONCSRVTM",91,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",92,0)
 S I=I+1
"RTN","ONCSRVTM",93,0)
 S ^TMP($J,"ONCPRT",I)="Analytic cases only...............: "_$S(ACO=1:"YES",1:"NO")
"RTN","ONCSRVTM",94,0)
 S I=I+1
"RTN","ONCSRVTM",95,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",96,0)
 S I=I+1
"RTN","ONCSRVTM",97,0)
 S ^TMP($J,"ONCPRT",I)="Cases Completed within six months.: "_ONCLESS
"RTN","ONCSRVTM",98,0)
 S I=I+1
"RTN","ONCSRVTM",99,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",100,0)
 S I=I+1
"RTN","ONCSRVTM",101,0)
 S ^TMP($J,"ONCPRT",I)="Cases Completed > six months......: "_ONCMORE
"RTN","ONCSRVTM",102,0)
 S I=I+1
"RTN","ONCSRVTM",103,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",104,0)
 S I=I+1
"RTN","ONCSRVTM",105,0)
 S ^TMP($J,"ONCPRT",I)="Pct of 'Completed' cases compliant: "_ONCTPCT
"RTN","ONCSRVTM",106,0)
 S I=I+1
"RTN","ONCSRVTM",107,0)
 S ^TMP($J,"ONCPRT",I)=""
"RTN","ONCSRVTM",108,0)
 S I=I+1
"RTN","ONCSRVTM",109,0)
 S ^TMP($J,"ONCPRT",I)="",I=I+1
"RTN","ONCSRVTM",110,0)
 Q:NCRPT=0
"RTN","ONCSRVTM",111,0)
 S ^TMP($J,"ONCPRT",I)="PID#     FIRST CONTACT    COMPLETED         ELAPSED MONTHS TO COMPLETION"
"RTN","ONCSRVTM",112,0)
 S I=I+1
"RTN","ONCSRVTM",113,0)
 S ^TMP($J,"ONCPRT",I)="----     -------------    ---------         ----------------------------",I=I+1
"RTN","ONCSRVTM",114,0)
 Q
"RTN","ONCSRVTM",115,0)
 ;
"RTN","ONCSRVTM",116,0)
MAIL ;email report to Oncology
"RTN","ONCSRVTM",117,0)
 S XMDUZ=.5
"RTN","ONCSRVTM",118,0)
 D REC^ONCSRV  ;get recipients
"RTN","ONCSRVTM",119,0)
 S XMSUB="Oncology Timeliness Report "_START_" to "_END
"RTN","ONCSRVTM",120,0)
 S XMTEXT="^TMP($J,""ONCPRT"","
"RTN","ONCSRVTM",121,0)
 D ^XMD
"RTN","ONCSRVTM",122,0)
 K XMTEXT
"RTN","ONCSRVTM",123,0)
 Q
"RTN","ONCSRVTM",124,0)
 ;
"RTN","ONCSRVTM",125,0)
DIV ;process each division
"RTN","ONCSRVTM",126,0)
 S TIMEPCT=LESCNT/CNT
"RTN","ONCSRVTM",127,0)
 S TIMEPCT=$J(TIMEPCT,3,2)*100_"%"
"RTN","ONCSRVTM",128,0)
 S DIVISION=$P(^DIC(4,ONCDIV,0),U,1)
"RTN","ONCSRVTM",129,0)
 W !
"RTN","ONCSRVTM",130,0)
 W !?3,"TIMELINESS REPORT",?60,RPTDATE
"RTN","ONCSRVTM",131,0)
 W !
"RTN","ONCSRVTM",132,0)
 W !?3,"Start Date of First Contact.......: ",START
"RTN","ONCSRVTM",133,0)
 W !?3,"End Date of First Contact.........: ",END
"RTN","ONCSRVTM",134,0)
 W !?3,"Division..........................: ",DIVISION
"RTN","ONCSRVTM",135,0)
 W !?3,"Analytic cases only...............: ",$S(ACO=1:"YES",1:"NO")
"RTN","ONCSRVTM",136,0)
 W !?3,"Cases Completed within six months.: ",LESCNT
"RTN","ONCSRVTM",137,0)
 W !?3,"Cases Completed > six months......: ",GTRCNT
"RTN","ONCSRVTM",138,0)
 W !?3,"Pct of 'Completed' cases compliant: ",TIMEPCT
"RTN","ONCSRVTM",139,0)
 I $G(NCRPT)=0 Q
"RTN","ONCSRVTM",140,0)
 W @IOF
"RTN","ONCSRVTM",141,0)
PRT S DIC="^ONCO(165.5,",L=0,L(0)=1
"RTN","ONCSRVTM",142,0)
 S FLDS="!61;C2;L5,155;C10;L10;""FIRST CONTACT"",90;C23;L10;""COMPLETED"",157.1;C36"
"RTN","ONCSRVTM",143,0)
 S BY="90"
"RTN","ONCSRVTM",144,0)
 S BY(0)="^TMP($J,""ONCSRV"",I,"
"RTN","ONCSRVTM",145,0)
 S (FR,TO)=""
"RTN","ONCSRVTM",146,0)
 S DHD="TIMELINESS NON-COMPLIANCE REPORT for "_DIVISION
"RTN","ONCSRVTM",147,0)
 S IOP=ION
"RTN","ONCSRVTM",148,0)
 D EN1^DIP
"RTN","ONCSRVTM",149,0)
 Q
"RTN","ONCSRVTM",150,0)
 ;
"RTN","ONCSRVTM",151,0)
TASK ;Queue a task
"RTN","ONCSRVTM",152,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCSRVTM",153,0)
 S ZTRTN="COMP^ONCTIME",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCSRVTM",154,0)
 S ZTDESC="Timeliness Report"
"RTN","ONCSRVTM",155,0)
 S ZTSAVE("SDT")="",ZTSAVE("EDT")="",ZTSAVE("START")="",ZTSAVE("END")=""
"RTN","ONCSRVTM",156,0)
 S ZTSAVE("ACO")=""
"RTN","ONCSRVTM",157,0)
 S ZTSAVE("NCRPT")=""
"RTN","ONCSRVTM",158,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCSRVTM",159,0)
 K ZTSK
"RTN","ONCSRVTM",160,0)
 Q
"RTN","ONCSRVTM",161,0)
 ;
"RTN","ONCSRVTM",162,0)
EXIT ;Exit
"RTN","ONCSRVTM",163,0)
 K ^TMP($J,"ONCSRV"),^TMP($J,"ONCPRT"),^TMP($J,"ONCSRV1")
"RTN","ONCSRVTM",164,0)
 Q
"RTN","ONCSSF1")
0^346^B36723126
"RTN","ONCSSF1",1,0)
ONCSSF1 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 1 (165.5,44.1) ;11/20/03
"RTN","ONCSSF1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF1",3,0)
 ;
"RTN","ONCSSF1",4,0)
 ;SITE-SPECIFIC FACTOR 1 (165.5,44.1)
"RTN","ONCSSF1",5,0)
SSF1IT ;INPUT TRANSFORM
"RTN","ONCSSF1",6,0)
 ;
"RTN","ONCSSF1",7,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF1",8,0)
 I PS="" K X W "  No PRIMARY SITE defined for this primary" Q
"RTN","ONCSSF1",9,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF1",10,0)
 ;
"RTN","ONCSSF1",11,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-1")):$O(^ONCO(164.52,"C",PS_"-1",0)),1:1)
"RTN","ONCSSF1",12,0)
 ;
"RTN","ONCSSF1",13,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF1",14,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF1",15,0)
 .S MELIEN=$O(^ONCO(164.52,"B","MEASURED THICKNESS (DEPTH), BR",0))
"RTN","ONCSSF1",16,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",17,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",18,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",19,0)
 .I PS=67632 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",20,0)
 .I PS=67690 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",21,0)
 .I PS=67693 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",22,0)
 .I PS=67694 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",23,0)
 I $G(MELIND)="Y",+X>0,+X<989 D  G ITEX
"RTN","ONCSSF1",24,0)
 .I X'?3N D  K X Q
"RTN","ONCSSF1",25,0)
 ..W !,"Code exact measurement in HUNDREDTHS of millimeters."
"RTN","ONCSSF1",26,0)
 ..W !,"Examples:"
"RTN","ONCSSF1",27,0)
 ..W !,"Enter 001 for 0.01 mm"
"RTN","ONCSSF1",28,0)
 ..W !,"Enter 002 for 0.02 mm"
"RTN","ONCSSF1",29,0)
 ..W !,"Enter 010 for 0.10 mm"
"RTN","ONCSSF1",30,0)
 ..W !,"Enter 074 for 0.74 mm"
"RTN","ONCSSF1",31,0)
 ..W !,"Enter 100 for 1.00 mm"
"RTN","ONCSSF1",32,0)
 ..W !,"Enter 105 for 1.05 mm"
"RTN","ONCSSF1",33,0)
 ..W !,"Enter 988 for 9.88 mm"
"RTN","ONCSSF1",34,0)
 .W "  ",$E(X,1),".",$E(X,2,3)," mm"
"RTN","ONCSSF1",35,0)
 ;
"RTN","ONCSSF1",36,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF1",37,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF1",38,0)
 I ($E(MO,1,4)=9140)!($$LYMPHOMA^ONCFUNC(D0)) S SSFIEN=$O(^ONCO(164.52,"B","ASSOCIATED WITH HIV/AIDS",0)) G SSF1I
"RTN","ONCSSF1",39,0)
 ;
"RTN","ONCSSF1",40,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF1",41,0)
 I (MO=97003)!(MO=97013) S SSFIEN=$O(^ONCO(164.52,"B","PERIPHERAL BLOOD INVOLVEMENT",0)) G SSF1I
"RTN","ONCSSF1",42,0)
 ;
"RTN","ONCSSF1",43,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF1",44,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF1",45,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0)) G SSF1I
"RTN","ONCSSF1",46,0)
 ;
"RTN","ONCSSF1",47,0)
 ;Retinoblastoma
"RTN","ONCSSF1",48,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","EXTENSION EVALUATED AT ENUCLEA",0)) G SSF1I
"RTN","ONCSSF1",49,0)
 ;
"RTN","ONCSSF1",50,0)
 ;Head and neck
"RTN","ONCSSF1",51,0)
 I $P(^ONCO(164.52,SSFIEN,0),U,1)="SIZE OF LYMPH NODES",+X>0,+X<989 D  G ITEX
"RTN","ONCSSF1",52,0)
 .I X'?3N D  K X Q
"RTN","ONCSSF1",53,0)
 ..I X?1N W !!,"     For ",X," enter 00",X
"RTN","ONCSSF1",54,0)
 ..I X?2N W !!,"     For ",X," enter 0",X
"RTN","ONCSSF1",55,0)
 .W "  ",X," mm"
"RTN","ONCSSF1",56,0)
 ;
"RTN","ONCSSF1",57,0)
 ;Prostate
"RTN","ONCSSF1",58,0)
 I PS=67619,+X>1,+X<900 D  G ITEX
"RTN","ONCSSF1",59,0)
 .I X'?3N D  K X Q
"RTN","ONCSSF1",60,0)
 ..W !!,"     Examples:"
"RTN","ONCSSF1",61,0)
 ..W !!,"     Enter 025 for 02.5 ng/ml"
"RTN","ONCSSF1",62,0)
 ..W !,"     Enter 040 for 04.0 ng/ml"
"RTN","ONCSSF1",63,0)
 ..W !,"     Enter 200 for 20.0 ng/ml",!
"RTN","ONCSSF1",64,0)
 .W "  ",$E(X,1,2),".",$E(X,3)," ng/ml"
"RTN","ONCSSF1",65,0)
 ;
"RTN","ONCSSF1",66,0)
SSF1I I '$D(^ONCO(164.52,SSFIEN,1,"B",X)) K X Q
"RTN","ONCSSF1",67,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",X,0))
"RTN","ONCSSF1",68,0)
 W "  ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2)
"RTN","ONCSSF1",69,0)
ITEX K PS,SSFIEN,SSF,MO,MELIND Q
"RTN","ONCSSF1",70,0)
 ;
"RTN","ONCSSF1",71,0)
SSF1OT ;OUTPUT TRANSFORM
"RTN","ONCSSF1",72,0)
 ;
"RTN","ONCSSF1",73,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF1",74,0)
 Q:PS=""
"RTN","ONCSSF1",75,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF1",76,0)
 ;
"RTN","ONCSSF1",77,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-1")):$O(^ONCO(164.52,"C",PS_"-1",0)),1:1)
"RTN","ONCSSF1",78,0)
 ;
"RTN","ONCSSF1",79,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF1",80,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF1",81,0)
 .S MELIEN=$O(^ONCO(164.52,"B","MEASURED THICKNESS (DEPTH), BR",0))
"RTN","ONCSSF1",82,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",83,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",84,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",85,0)
 .I PS=67632 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",86,0)
 .I PS=67690 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",87,0)
 .I PS=67693 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",88,0)
 .I PS=67694 S SSFIEN=MELIEN S MELIND="Y" Q
"RTN","ONCSSF1",89,0)
 I $G(MELIND)="Y",+Y>0,+Y<989 S Y=$E(Y,1)_"."_$E(Y,2,3)_" mm" G OTEX
"RTN","ONCSSF1",90,0)
 ;
"RTN","ONCSSF1",91,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF1",92,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF1",93,0)
 I ($E(MO,1,4)=9140)!($$LYMPHOMA^ONCFUNC(D0)) S SSFIEN=$O(^ONCO(164.52,"B","ASSOCIATED WITH HIV/AIDS",0)) G SSF1O
"RTN","ONCSSF1",94,0)
 ;
"RTN","ONCSSF1",95,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF1",96,0)
 I (MO=97003)!(MO=97013) S SSFIEN=$O(^ONCO(164.52,"B","PERIPHERAL BLOOD INVOLVEMENT",0)) G SSF1O
"RTN","ONCSSF1",97,0)
 ;
"RTN","ONCSSF1",98,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF1",99,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF1",100,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0)) G SSF1O
"RTN","ONCSSF1",101,0)
 ;
"RTN","ONCSSF1",102,0)
 ;Retinoblastoma
"RTN","ONCSSF1",103,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","EXTENSION EVALUATED AT ENUCLEA",0)) G SSF1O
"RTN","ONCSSF1",104,0)
 ;
"RTN","ONCSSF1",105,0)
 ;Head and neck
"RTN","ONCSSF1",106,0)
 I $P(^ONCO(164.52,SSFIEN,0),U,1)="SIZE OF LYMPH NODES",+Y>0,+Y<989 S Y=Y_" mm" G OTEX
"RTN","ONCSSF1",107,0)
 ;
"RTN","ONCSSF1",108,0)
 ;Prostate
"RTN","ONCSSF1",109,0)
 I PS=67619,+Y>1,+Y<900 S Y=$E(Y,1,2)_"."_$E(Y,3)_" ng/ml" G OTEX
"RTN","ONCSSF1",110,0)
 ;
"RTN","ONCSSF1",111,0)
SSF1O S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",Y,0)) I SSF="" G OTEX
"RTN","ONCSSF1",112,0)
 S Y=$P($G(^ONCO(164.52,SSFIEN,1,SSF,0)),U,2)
"RTN","ONCSSF1",113,0)
OTEX K PS,SSFIEN,SSF,MO,MELIND Q
"RTN","ONCSSF1",114,0)
 ;
"RTN","ONCSSF1",115,0)
SSF1HP ;HELP
"RTN","ONCSSF1",116,0)
 ;
"RTN","ONCSSF1",117,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF1",118,0)
 Q:PS=""
"RTN","ONCSSF1",119,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF1",120,0)
 ;
"RTN","ONCSSF1",121,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-1")):$O(^ONCO(164.52,"C",PS_"-1",0)),1:1)
"RTN","ONCSSF1",122,0)
 ;
"RTN","ONCSSF1",123,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF1",124,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF1",125,0)
 .S MELIEN=$O(^ONCO(164.52,"B","MEASURED THICKNESS (DEPTH), BR",0))
"RTN","ONCSSF1",126,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",127,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",128,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",129,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",130,0)
 .I PS=67690 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",131,0)
 .I PS=67693 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",132,0)
 .I PS=67694 S SSFIEN=MELIEN Q
"RTN","ONCSSF1",133,0)
 ;
"RTN","ONCSSF1",134,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF1",135,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF1",136,0)
 I ($E(MO,1,4)=9140)!($$LYMPHOMA^ONCFUNC(D0)) S SSFIEN=$O(^ONCO(164.52,"B","ASSOCIATED WITH HIV/AIDS",0))
"RTN","ONCSSF1",137,0)
 ;
"RTN","ONCSSF1",138,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF1",139,0)
 I (MO=97003)!(MO=97013) S SSFIEN=$O(^ONCO(164.52,"B","PERIPHERAL BLOOD INVOLVEMENT",0))
"RTN","ONCSSF1",140,0)
 ;
"RTN","ONCSSF1",141,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF1",142,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF1",143,0)
 ;
"RTN","ONCSSF1",144,0)
 ;Retinoblastoma
"RTN","ONCSSF1",145,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","EXTENSION EVALUATED AT ENUCLEA",0))
"RTN","ONCSSF1",146,0)
 ;
"RTN","ONCSSF1",147,0)
 W !," SITE-SPECIFIC FACTOR 1 for " D
"RTN","ONCSSF1",148,0)
 .I MO=97003 W "MYCOSIS FUNGOIDES of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF1",149,0)
 .I MO=97013 W "SEZARY SYNDROME of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF1",150,0)
 .I $E(MO,1,3)=951 W "RETINOBLASTOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF1",151,0)
 .I $$MELANOMA^ONCOU55(D0),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632)!($E(PS,3,4)=69) W "MALIGNANT MELANOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF1",152,0)
 .I $E(MO,1,4)=9140 W "KAPOSI SARCOMA of ALL SITES" Q
"RTN","ONCSSF1",153,0)
 .I $$LYMPHOMA^ONCFUNC(D0) W "HODGKIN AND NON-HODGKIN LYMPHOMAS of ALL SITES" Q
"RTN","ONCSSF1",154,0)
 .I MO'="",(MO'<97310)&(MO'>99899) W $P(^ONCO(169.3,MO,0),U,1)," (",$P(^ONCO(169.3,MO,0),U,2),")" Q
"RTN","ONCSSF1",155,0)
 .W $P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")"
"RTN","ONCSSF1",156,0)
 W !," ",$P(^ONCO(164.52,SSFIEN,0),U,1)
"RTN","ONCSSF1",157,0)
 ;S SSF=0 F  S SSF=$O(^ONCO(164.52,SSFIEN,1,SSF)) Q:SSF'>0  D
"RTN","ONCSSF1",158,0)
 ;.S TAB=6
"RTN","ONCSSF1",159,0)
 ;.I ($P(^ONCO(164.52,SSFIEN,0),U,1)="SIZE OF LYMPH NODES")!($P(^ONCO(164.52,SSFIEN,0),U,1)="PROSTATIC SPECIFIC ANTIGEN (PSA) LAB VALUE")!($P(^ONCO(164.52,SSFIEN,0),U,1)="MEASURED THICKNESS (DEPTH), BRESLOW'S MEASUREMENT") S TAB=10
"RTN","ONCSSF1",160,0)
 ;.W " ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,1),?TAB,$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2),!
"RTN","ONCSSF1",161,0)
 K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF2")
0^347^B21276764
"RTN","ONCSSF2",1,0)
ONCSSF2 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 2 (165.5,44.2) ;11/20/03
"RTN","ONCSSF2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF2",3,0)
 ;
"RTN","ONCSSF2",4,0)
 ;SITE-SPECIFIC FACTOR 2 (165.5,44.2)
"RTN","ONCSSF2",5,0)
SSF2IT ;INPUT TRANSFORM
"RTN","ONCSSF2",6,0)
 ;
"RTN","ONCSSF2",7,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF2",8,0)
 I PS="" K X W "  No PRIMARY SITE defined for this primary" Q
"RTN","ONCSSF2",9,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF2",10,0)
 ;
"RTN","ONCSSF2",11,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-2")):$O(^ONCO(164.52,"C",PS_"-2",0)),1:1)
"RTN","ONCSSF2",12,0)
 ;
"RTN","ONCSSF2",13,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF2",14,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF2",15,0)
 .S MELIEN=$O(^ONCO(164.52,"B","ULCERATION",0))
"RTN","ONCSSF2",16,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",17,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",18,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",19,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",20,0)
 ;
"RTN","ONCSSF2",21,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF2",22,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","SYSTEMIC SYMPTOMS AT DIAGNOSIS",0))
"RTN","ONCSSF2",23,0)
 ;
"RTN","ONCSSF2",24,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF2",25,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF2",26,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",27,0)
 ;
"RTN","ONCSSF2",28,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF2",29,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF2",30,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",31,0)
 ;
"RTN","ONCSSF2",32,0)
 ;Retinoblastoma
"RTN","ONCSSF2",33,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",34,0)
 ;
"RTN","ONCSSF2",35,0)
 I '$D(^ONCO(164.52,SSFIEN,1,"B",X)) K X Q
"RTN","ONCSSF2",36,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",X,0))
"RTN","ONCSSF2",37,0)
 W "  ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2)
"RTN","ONCSSF2",38,0)
ITEX K PS,SSFIEN,SSF,MO,MELING Q
"RTN","ONCSSF2",39,0)
 ;
"RTN","ONCSSF2",40,0)
SSF2OT ;OUTPUT TRANSFORM
"RTN","ONCSSF2",41,0)
 ;
"RTN","ONCSSF2",42,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF2",43,0)
 Q:PS=""
"RTN","ONCSSF2",44,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF2",45,0)
 ;
"RTN","ONCSSF2",46,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-2")):$O(^ONCO(164.52,"C",PS_"-2",0)),1:1)
"RTN","ONCSSF2",47,0)
 ;
"RTN","ONCSSF2",48,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF2",49,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF2",50,0)
 .S MELIEN=$O(^ONCO(164.52,"B","ULCERATION",0))
"RTN","ONCSSF2",51,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",52,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",53,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",54,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",55,0)
 ;
"RTN","ONCSSF2",56,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF2",57,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","SYSTEMIC SYMPTOMS AT DIAGNOSIS",0))
"RTN","ONCSSF2",58,0)
 ;
"RTN","ONCSSF2",59,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF2",60,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF2",61,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",62,0)
 ;
"RTN","ONCSSF2",63,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF2",64,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF2",65,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",66,0)
 ;
"RTN","ONCSSF2",67,0)
 ;Retinoblastoma
"RTN","ONCSSF2",68,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",69,0)
 ;
"RTN","ONCSSF2",70,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",Y,0)) I SSF="" G OTEX
"RTN","ONCSSF2",71,0)
 S Y=$P($G(^ONCO(164.52,SSFIEN,1,SSF,0)),U,2)
"RTN","ONCSSF2",72,0)
OTEX K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF2",73,0)
 ;
"RTN","ONCSSF2",74,0)
SSF2HP ;HELP
"RTN","ONCSSF2",75,0)
 ;
"RTN","ONCSSF2",76,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF2",77,0)
 Q:PS=""
"RTN","ONCSSF2",78,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF2",79,0)
 ;
"RTN","ONCSSF2",80,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-2")):$O(^ONCO(164.52,"C",PS_"-2",0)),1:1)
"RTN","ONCSSF2",81,0)
 ;
"RTN","ONCSSF2",82,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF2",83,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF2",84,0)
 .S MELIEN=$O(^ONCO(164.52,"B","ULCERATION",0))
"RTN","ONCSSF2",85,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",86,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",87,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",88,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF2",89,0)
 ;
"RTN","ONCSSF2",90,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF2",91,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","SYSTEMIC SYMPTOMS AT DIAGNOSIS",0))
"RTN","ONCSSF2",92,0)
 ;
"RTN","ONCSSF2",93,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF2",94,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF2",95,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",96,0)
 ;
"RTN","ONCSSF2",97,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF2",98,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF2",99,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",100,0)
 ;
"RTN","ONCSSF2",101,0)
 ;Retinoblastoma
"RTN","ONCSSF2",102,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF2",103,0)
 ;
"RTN","ONCSSF2",104,0)
 W !," SITE-SPECIFIC FACTOR 2 for " D
"RTN","ONCSSF2",105,0)
 .I MO=97003 W "MYCOSIS FUNGOIDES of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF2",106,0)
 .I MO=97013 W "SEZARY SYNDROME of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF2",107,0)
 .I $E(MO,1,3)=951 W "RETINOBLASTOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF2",108,0)
 .I $$MELANOMA^ONCOU55(D0),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632)!($E(PS,3,4)=69) W "MALIGNANT MELANOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF2",109,0)
 .I $E(MO,1,4)=9140 W "KAPOSI SARCOMA of ALL SITES" Q
"RTN","ONCSSF2",110,0)
 .I $$LYMPHOMA^ONCFUNC(D0) W "HODGKIN AND NON-HODGKIN LYMPHOMAS of ALL SITES" Q
"RTN","ONCSSF2",111,0)
 .I (MO'<97310)&(MO'>99899) W $P(^ONCO(169.3,MO,0),U,1)," (",$P(^ONCO(169.3,MO,0),U,2),")" Q
"RTN","ONCSSF2",112,0)
 .W $P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")"
"RTN","ONCSSF2",113,0)
 W !," ",$P(^ONCO(164.52,SSFIEN,0),U,1)
"RTN","ONCSSF2",114,0)
 ;S SSF=0 F  S SSF=$O(^ONCO(164.52,SSFIEN,1,SSF)) Q:SSF'>0  D
"RTN","ONCSSF2",115,0)
 ;.W " ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,1)_"  "_$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2),!
"RTN","ONCSSF2",116,0)
 K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF25")
0^348^B13108569
"RTN","ONCSSF25",1,0)
ONCSSF25 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 25 (CS) Conversion ;06/23/10
"RTN","ONCSSF25",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF25",3,0)
 ;
"RTN","ONCSSF25",4,0)
 N SSF25
"RTN","ONCSSF25",5,0)
 S SSF25=""
"RTN","ONCSSF25",6,0)
 ;
"RTN","ONCSSF25",7,0)
 I SITE=67111 D
"RTN","ONCSSF25",8,0)
 .I (HIST14>7999)&(HIST14<8714) S SSF25=100
"RTN","ONCSSF25",9,0)
 .I (HIST14>8799)&(HIST14<9137) S SSF25=100
"RTN","ONCSSF25",10,0)
 .I (HIST14>9140)&(HIST14<9583) S SSF25=100
"RTN","ONCSSF25",11,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25=100
"RTN","ONCSSF25",12,0)
 I SSF25=100 D  Q
"RTN","ONCSSF25",13,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=SSF25
"RTN","ONCSSF25",14,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=SSF25
"RTN","ONCSSF25",15,0)
 ;
"RTN","ONCSSF25",16,0)
 I (SITE=67110)!(SITE=67112)!(SITE=67113)!(SITE=67118)!(SITE=67119) D
"RTN","ONCSSF25",17,0)
 .I (HIST14>7999)&(HIST14<8714) S SSF25="XXX"
"RTN","ONCSSF25",18,0)
 .I (HIST14>8799)&(HIST14<9137) S SSF25="XXX"
"RTN","ONCSSF25",19,0)
 .I (HIST14>9140)&(HIST14<9583) S SSF25="XXX"
"RTN","ONCSSF25",20,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25="XXX"
"RTN","ONCSSF25",21,0)
 I SSF25="XXX" D  Q
"RTN","ONCSSF25",22,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=""
"RTN","ONCSSF25",23,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=""
"RTN","ONCSSF25",24,0)
 ;
"RTN","ONCSSF25",25,0)
 I (SITE=67161)!(SITE=67162) D
"RTN","ONCSSF25",26,0)
 .I (HIST14>7999)&(HIST14<8153) S SSF25=100
"RTN","ONCSSF25",27,0)
 .I (HIST14>8153)&(HIST14<8232) S SSF25=100
"RTN","ONCSSF25",28,0)
 .I (HIST14>8242)&(HIST14<8246) S SSF25=100
"RTN","ONCSSF25",29,0)
 .I HIST14=8247 S SSF25=100
"RTN","ONCSSF25",30,0)
 .I HIST14=8248 S SSF25=100
"RTN","ONCSSF25",31,0)
 .I (HIST14>8249)&(HIST14<8935) S SSF25=100
"RTN","ONCSSF25",32,0)
 .I (HIST14>8939)&(HIST14<9137) S SSF25=100
"RTN","ONCSSF25",33,0)
 .I (HIST14>9140)&(HIST14<9583) S SSF25=100
"RTN","ONCSSF25",34,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25=100
"RTN","ONCSSF25",35,0)
 I SSF25=100 D  Q
"RTN","ONCSSF25",36,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=SSF25
"RTN","ONCSSF25",37,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=SSF25
"RTN","ONCSSF25",38,0)
 ;
"RTN","ONCSSF25",39,0)
 I (SITE=67160)!(SITE=67163)!(SITE=67164)!(SITE=67165)!(SITE=67166)!(SITE=67168)!(SITE=67169) D
"RTN","ONCSSF25",40,0)
 .I (HIST14>7999)&(HIST14<8153) S SSF25="XXX"
"RTN","ONCSSF25",41,0)
 .I (HIST14>8153)&(HIST14<8232) S SSF25="XXX"
"RTN","ONCSSF25",42,0)
 .I (HIST14>8242)&(HIST14<8246) S SSF25="XXX"
"RTN","ONCSSF25",43,0)
 .I HIST14=8247 S SSF25="XXX"
"RTN","ONCSSF25",44,0)
 .I HIST14=8248 S SSF25="XXX"
"RTN","ONCSSF25",45,0)
 .I (HIST14>8249)&(HIST14<8935) S SSF25="XXX"
"RTN","ONCSSF25",46,0)
 .I (HIST14>8939)&(HIST14<9137) S SSF25="XXX"
"RTN","ONCSSF25",47,0)
 .I (HIST14>9140)&(HIST14<9583) S SSF25="XXX"
"RTN","ONCSSF25",48,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25="XXX"
"RTN","ONCSSF25",49,0)
 I SSF25="XXX" D  Q
"RTN","ONCSSF25",50,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=""
"RTN","ONCSSF25",51,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=""
"RTN","ONCSSF25",52,0)
 ;
"RTN","ONCSSF25",53,0)
 I SITE=67240 D
"RTN","ONCSSF25",54,0)
 .I (HIST14>7999)&(HIST14<9137) S SSF25=100
"RTN","ONCSSF25",55,0)
 .I (HIST14>9140)&(HIST14<9583) S SSF25=100
"RTN","ONCSSF25",56,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25=100
"RTN","ONCSSF25",57,0)
 I SSF25=100 D  Q
"RTN","ONCSSF25",58,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=SSF25
"RTN","ONCSSF25",59,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=SSF25
"RTN","ONCSSF25",60,0)
 ;
"RTN","ONCSSF25",61,0)
 I SITE=67694 D
"RTN","ONCSSF25",62,0)
 .I (HIST14>8719)&(HIST14<8791) S SSF25=100
"RTN","ONCSSF25",63,0)
 I SSF25=100 D  Q
"RTN","ONCSSF25",64,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=SSF25
"RTN","ONCSSF25",65,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=SSF25
"RTN","ONCSSF25",66,0)
 ;
"RTN","ONCSSF25",67,0)
 I SITE=67695 D
"RTN","ONCSSF25",68,0)
 .I (HIST14>7999)&(HIST14<8714) S SSF25=100
"RTN","ONCSSF25",69,0)
 .I (HIST14>8799)&(HIST14<9137) S SSF25=100
"RTN","ONCSSF25",70,0)
 .I (HIST14>9140)&(HIST14<9509) S SSF25=100
"RTN","ONCSSF25",71,0)
 .I (HIST14>9519)&(HIST14<9583) S SSF25=100
"RTN","ONCSSF25",72,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25=100
"RTN","ONCSSF25",73,0)
 I SSF25=100 D  Q
"RTN","ONCSSF25",74,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=SSF25
"RTN","ONCSSF25",75,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=SSF25
"RTN","ONCSSF25",76,0)
 ;
"RTN","ONCSSF25",77,0)
 I (SITE=67481)!(SITE=67482)!(SITE=67488) D
"RTN","ONCSSF25",78,0)
 .I (HIST14>7999)&(HIST14<8577) S SSF25=100
"RTN","ONCSSF25",79,0)
 .I (HIST14>8589)&(HIST14<8672) S SSF25=100
"RTN","ONCSSF25",80,0)
 .I (HIST14>8929)&(HIST14<8935) S SSF25=100
"RTN","ONCSSF25",81,0)
 .I (HIST14>8939)&(HIST14<9111) S SSF25=100
"RTN","ONCSSF25",82,0)
 .I (HIST14>8579)&(HIST14<8590) S SSF25="XXX"
"RTN","ONCSSF25",83,0)
 .I (HIST14>8679)&(HIST14<8922) S SSF25="XXX"
"RTN","ONCSSF25",84,0)
 .I (HIST14>9119)&(HIST14<9137) S SSF25="XXX"
"RTN","ONCSSF25",85,0)
 .I (HIST14>9140)&(HIST14<9583) S SSF25="XXX"
"RTN","ONCSSF25",86,0)
 .I (HIST14>9699)&(HIST14<9702) S SSF25="XXX"
"RTN","ONCSSF25",87,0)
 I SSF25=100 D  Q
"RTN","ONCSSF25",88,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=SSF25
"RTN","ONCSSF25",89,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=SSF25
"RTN","ONCSSF25",90,0)
 I SSF25="XXX" D  Q
"RTN","ONCSSF25",91,0)
 .S $P(^ONCO(165.5,IEN,"CS3"),U,1)=""
"RTN","ONCSSF25",92,0)
 .S $P(^ONCO(165.5,IEN,"CS2"),U,19)=""
"RTN","ONCSSF25",93,0)
 ;
"RTN","ONCSSF25",94,0)
SSF25 ;SITE-SPECIFIC FACTOR (CS) (165.5,44.25)
"RTN","ONCSSF25",95,0)
 ;CS SCHEMA DISCRIMINATOR (165.5,240)
"RTN","ONCSSF25",96,0)
 S $P(^ONCO(165.5,IEN,"CS3"),U,1)=""
"RTN","ONCSSF25",97,0)
 S $P(^ONCO(165.5,IEN,"CS2"),U,19)=988
"RTN","ONCSSF25",98,0)
 Q
"RTN","ONCSSF25",99,0)
 ;
"RTN","ONCSSF25",100,0)
CLEANUP ;Cleanup
"RTN","ONCSSF25",101,0)
 K HIST14,IEN,SITE
"RTN","ONCSSF3")
0^349^B23518844
"RTN","ONCSSF3",1,0)
ONCSSF3 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 3 (165.5,44.3) ;11/20/03
"RTN","ONCSSF3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF3",3,0)
 ;
"RTN","ONCSSF3",4,0)
 ;SITE-SPECIFIC FACTOR 3 (165.5,44.3)
"RTN","ONCSSF3",5,0)
SSF3IT ;INPUT TRANSFORM
"RTN","ONCSSF3",6,0)
 ;
"RTN","ONCSSF3",7,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF3",8,0)
 I PS="" K X W "  No PRIMARY SITE defined for this primary" Q
"RTN","ONCSSF3",9,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF3",10,0)
 ;
"RTN","ONCSSF3",11,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-3")):$O(^ONCO(164.52,"C",PS_"-3",0)),1:1)
"RTN","ONCSSF3",12,0)
 ;
"RTN","ONCSSF3",13,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF3",14,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF3",15,0)
 .S MELIEN=$O(^ONCO(164.52,"B","CLINICAL STATUS OF LYMPH NODE ",0))
"RTN","ONCSSF3",16,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",17,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",18,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",19,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",20,0)
 ;
"RTN","ONCSSF3",21,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF3",22,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","IPI SCORE",0))
"RTN","ONCSSF3",23,0)
 ;
"RTN","ONCSSF3",24,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF3",25,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF3",26,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",27,0)
 ;
"RTN","ONCSSF3",28,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF3",29,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF3",30,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",31,0)
 ;
"RTN","ONCSSF3",32,0)
 ;Retinoblastoma
"RTN","ONCSSF3",33,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0)) G SSF3I
"RTN","ONCSSF3",34,0)
 ;
"RTN","ONCSSF3",35,0)
 ;Breast
"RTN","ONCSSF3",36,0)
 I $E(PS,3,4)=50,+X>0,+X<90 D  G ITEX
"RTN","ONCSSF3",37,0)
 .I X'?3N D  K X Q
"RTN","ONCSSF3",38,0)
 ..I X?1N W !!,"     For ",X," enter 00",X,"  "
"RTN","ONCSSF3",39,0)
 ..I X?2N W !!,"     For ",X," enter 0",X,"  "
"RTN","ONCSSF3",40,0)
 .W "  ",X," nodes positive"
"RTN","ONCSSF3",41,0)
 ;
"RTN","ONCSSF3",42,0)
SSF3I I '$D(^ONCO(164.52,SSFIEN,1,"B",X)) K X Q
"RTN","ONCSSF3",43,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",X,0))
"RTN","ONCSSF3",44,0)
 W "  ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2)
"RTN","ONCSSF3",45,0)
ITEX K PS,SSFIEN,SSF,MO,MELING Q
"RTN","ONCSSF3",46,0)
 ;
"RTN","ONCSSF3",47,0)
SSF3OT ;OUTPUT TRANSFORM
"RTN","ONCSSF3",48,0)
 ;
"RTN","ONCSSF3",49,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF3",50,0)
 Q:PS=""
"RTN","ONCSSF3",51,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF3",52,0)
 ;
"RTN","ONCSSF3",53,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-3")):$O(^ONCO(164.52,"C",PS_"-3",0)),1:1)
"RTN","ONCSSF3",54,0)
 ;
"RTN","ONCSSF3",55,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF3",56,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF3",57,0)
 .S MELIEN=$O(^ONCO(164.52,"B","CLINICAL STATUS OF LYMPH NODE ",0))
"RTN","ONCSSF3",58,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",59,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",60,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",61,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",62,0)
 ;
"RTN","ONCSSF3",63,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF3",64,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","IPI SCORE",0))
"RTN","ONCSSF3",65,0)
 ;
"RTN","ONCSSF3",66,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF3",67,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF3",68,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",69,0)
 ;
"RTN","ONCSSF3",70,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF3",71,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",72,0)
 ;
"RTN","ONCSSF3",73,0)
 ;Retinoblastoma
"RTN","ONCSSF3",74,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0)) G SSF3O
"RTN","ONCSSF3",75,0)
 ;
"RTN","ONCSSF3",76,0)
 ;Breast
"RTN","ONCSSF3",77,0)
 I $E(PS,3,4)=50,+Y>0,+Y<90 S Y=Y_" nodes positive" G OTEX
"RTN","ONCSSF3",78,0)
 ;
"RTN","ONCSSF3",79,0)
SSF3O S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",Y,0)) I SSF="" G OTEX
"RTN","ONCSSF3",80,0)
 S Y=$P($G(^ONCO(164.52,SSFIEN,1,SSF,0)),U,2)
"RTN","ONCSSF3",81,0)
OTEX K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF3",82,0)
 ;
"RTN","ONCSSF3",83,0)
SSF3HP ;HELP
"RTN","ONCSSF3",84,0)
 ;
"RTN","ONCSSF3",85,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF3",86,0)
 Q:PS=""
"RTN","ONCSSF3",87,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF3",88,0)
 ;
"RTN","ONCSSF3",89,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-3")):$O(^ONCO(164.52,"C",PS_"-3",0)),1:1)
"RTN","ONCSSF3",90,0)
 ;
"RTN","ONCSSF3",91,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF3",92,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF3",93,0)
 .S MELIEN=$O(^ONCO(164.52,"B","CLINICAL STATUS OF LYMPH NODE ",0))
"RTN","ONCSSF3",94,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",95,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",96,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",97,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF3",98,0)
 ;
"RTN","ONCSSF3",99,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF3",100,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","IPI SCORE",0))
"RTN","ONCSSF3",101,0)
 ;
"RTN","ONCSSF3",102,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF3",103,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF3",104,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",105,0)
 ;
"RTN","ONCSSF3",106,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF3",107,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",108,0)
 ;
"RTN","ONCSSF3",109,0)
 ;Retinoblastoma
"RTN","ONCSSF3",110,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF3",111,0)
 ;
"RTN","ONCSSF3",112,0)
 W !," SITE-SPECIFIC FACTOR 3 for " D
"RTN","ONCSSF3",113,0)
 .I MO=97003 W "MYCOSIS FUNGOIDES of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF3",114,0)
 .I MO=97013 W "SEZARY SYNDROME of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF3",115,0)
 .I $E(MO,1,3)=951 W "RETINOBLASTOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF3",116,0)
 .I $$MELANOMA^ONCOU55(D0),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632)!($E(PS,3,4)=69) W "MALIGNANT MELANOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF3",117,0)
 .I $E(MO,1,4)=9140 W "KAPOSI SARCOMA of ALL SITES" Q
"RTN","ONCSSF3",118,0)
 .I $$LYMPHOMA^ONCFUNC(D0) W "HODGKIN AND NON-HODGKIN LYMPHOMAS of ALL SITES" Q
"RTN","ONCSSF3",119,0)
 .I (MO'<97310)&(MO'>99899) W $P(^ONCO(169.3,MO,0),U,1)," (",$P(^ONCO(169.3,MO,0),U,2),")" Q
"RTN","ONCSSF3",120,0)
 .W $P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")"
"RTN","ONCSSF3",121,0)
 W !," ",$P(^ONCO(164.52,SSFIEN,0),U,1)
"RTN","ONCSSF3",122,0)
 ;S SSF=0 F  S SSF=$O(^ONCO(164.52,SSFIEN,1,SSF)) Q:SSF'>0  D
"RTN","ONCSSF3",123,0)
 ;.S TAB=6
"RTN","ONCSSF3",124,0)
 ;.I ($P(^ONCO(164.52,SSFIEN,0),U,1)="NUMBER OF POSITIVE IPSILATERAL AXILLARY LYMPH NODES") S TAB=10
"RTN","ONCSSF3",125,0)
 ;.W " ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,1),?TAB,$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2),!
"RTN","ONCSSF3",126,0)
 K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF4")
0^350^B20855629
"RTN","ONCSSF4",1,0)
ONCSSF4 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 4 (165.5,44.4) ;11/20/03
"RTN","ONCSSF4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF4",3,0)
 ;
"RTN","ONCSSF4",4,0)
 ;SITE-SPECIFIC FACTOR 4 (165.5,44.4)
"RTN","ONCSSF4",5,0)
SSF4IT ;INPUT TRANSFORM
"RTN","ONCSSF4",6,0)
 ;
"RTN","ONCSSF4",7,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF4",8,0)
 I PS="" K X W "  No PRIMARY SITE defined for this primary" Q
"RTN","ONCSSF4",9,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF4",10,0)
 ;
"RTN","ONCSSF4",11,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-4")):$O(^ONCO(164.52,"C",PS_"-4",0)),1:1)
"RTN","ONCSSF4",12,0)
 ;
"RTN","ONCSSF4",13,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF4",14,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF4",15,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF4",16,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",17,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",18,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",19,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",20,0)
 ;
"RTN","ONCSSF4",21,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF4",22,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",23,0)
 ;
"RTN","ONCSSF4",24,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF4",25,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF4",26,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",27,0)
 ;
"RTN","ONCSSF4",28,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF4",29,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF4",30,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",31,0)
 ;
"RTN","ONCSSF4",32,0)
 ;Retinoblastoma
"RTN","ONCSSF4",33,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",34,0)
 ;
"RTN","ONCSSF4",35,0)
 I '$D(^ONCO(164.52,SSFIEN,1,"B",X)) K X Q
"RTN","ONCSSF4",36,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",X,0))
"RTN","ONCSSF4",37,0)
 W "  ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2)
"RTN","ONCSSF4",38,0)
ITEX K PS,SSFIEN,SSF,MO,MELING Q
"RTN","ONCSSF4",39,0)
 ;
"RTN","ONCSSF4",40,0)
SSF4OT ;OUTPUT TRANSFORM
"RTN","ONCSSF4",41,0)
 ;
"RTN","ONCSSF4",42,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF4",43,0)
 Q:PS=""
"RTN","ONCSSF4",44,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF4",45,0)
 ;
"RTN","ONCSSF4",46,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-4")):$O(^ONCO(164.52,"C",PS_"-4",0)),1:1)
"RTN","ONCSSF4",47,0)
 ;
"RTN","ONCSSF4",48,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF4",49,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF4",50,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF4",51,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",52,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",53,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",54,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",55,0)
 ;
"RTN","ONCSSF4",56,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF4",57,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",58,0)
 ;
"RTN","ONCSSF4",59,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF4",60,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF4",61,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",62,0)
 ;
"RTN","ONCSSF4",63,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF4",64,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",65,0)
 ;
"RTN","ONCSSF4",66,0)
 ;Retinoblastoma
"RTN","ONCSSF4",67,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",68,0)
 ;
"RTN","ONCSSF4",69,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",Y,0)) I SSF="" G OTEX
"RTN","ONCSSF4",70,0)
 S Y=$P($G(^ONCO(164.52,SSFIEN,1,SSF,0)),U,2)
"RTN","ONCSSF4",71,0)
OTEX K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF4",72,0)
 ;
"RTN","ONCSSF4",73,0)
SSF4HP ;HELP
"RTN","ONCSSF4",74,0)
 ;
"RTN","ONCSSF4",75,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF4",76,0)
 Q:PS=""
"RTN","ONCSSF4",77,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF4",78,0)
 ;
"RTN","ONCSSF4",79,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-4")):$O(^ONCO(164.52,"C",PS_"-4",0)),1:1)
"RTN","ONCSSF4",80,0)
 ;
"RTN","ONCSSF4",81,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF4",82,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF4",83,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF4",84,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",85,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",86,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",87,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF4",88,0)
 ;
"RTN","ONCSSF4",89,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF4",90,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",91,0)
 ;
"RTN","ONCSSF4",92,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF4",93,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF4",94,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",95,0)
 ;
"RTN","ONCSSF4",96,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF4",97,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",98,0)
 ;
"RTN","ONCSSF4",99,0)
 ;Retinoblastoma
"RTN","ONCSSF4",100,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF4",101,0)
 ;
"RTN","ONCSSF4",102,0)
 W !," SITE-SPECIFIC FACTOR 4 for " D
"RTN","ONCSSF4",103,0)
 .I MO=97003 W "MYCOSIS FUNGOIDES of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF4",104,0)
 .I MO=97013 W "SEZARY SYNDROME of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF4",105,0)
 .I $E(MO,1,3)=951 W "RETINOBLASTOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF4",106,0)
 .I $$MELANOMA^ONCOU55(D0),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632)!($E(PS,3,4)=69) W "MALIGNANT MELANOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF4",107,0)
 .I $E(MO,1,4)=9140 W "KAPOSI SARCOMA of ALL SITES" Q
"RTN","ONCSSF4",108,0)
 .I $$LYMPHOMA^ONCFUNC(D0) W "HODGKIN AND NON-HODGKIN LYMPHOMAS of ALL SITES" Q
"RTN","ONCSSF4",109,0)
 .I (MO'<97310)&(MO'>99899) W $P(^ONCO(169.3,MO,0),U,1)," (",$P(^ONCO(169.3,MO,0),U,2),")" Q
"RTN","ONCSSF4",110,0)
 .W $P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")"
"RTN","ONCSSF4",111,0)
 W !," ",$P(^ONCO(164.52,SSFIEN,0),U,1)
"RTN","ONCSSF4",112,0)
 ;S SSF=0 F  S SSF=$O(^ONCO(164.52,SSFIEN,1,SSF)) Q:SSF'>0  D
"RTN","ONCSSF4",113,0)
 ;.S TAB=6
"RTN","ONCSSF4",114,0)
 ;.W " ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,1),?TAB,$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2),!
"RTN","ONCSSF4",115,0)
 K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF5")
0^351^B21087348
"RTN","ONCSSF5",1,0)
ONCSSF5 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 5 (165.5,44.5) ;11/20/03
"RTN","ONCSSF5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF5",3,0)
 ;
"RTN","ONCSSF5",4,0)
 ;SITE-SPECIFIC FACTOR 5 (165.5,44.5)
"RTN","ONCSSF5",5,0)
SSF5IT ;INPUT TRANSFORM
"RTN","ONCSSF5",6,0)
 ;
"RTN","ONCSSF5",7,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF5",8,0)
 I PS="" K X W "  No PRIMARY SITE defined for this primary" Q
"RTN","ONCSSF5",9,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF5",10,0)
 ;
"RTN","ONCSSF5",11,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-5")):$O(^ONCO(164.52,"C",PS_"-5",0)),1:1)
"RTN","ONCSSF5",12,0)
 ;
"RTN","ONCSSF5",13,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF5",14,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF5",15,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF5",16,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",17,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",18,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",19,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",20,0)
 ;
"RTN","ONCSSF5",21,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF5",22,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",23,0)
 ;
"RTN","ONCSSF5",24,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF5",25,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF5",26,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",27,0)
 ;
"RTN","ONCSSF5",28,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF5",29,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF5",30,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",31,0)
 ;
"RTN","ONCSSF5",32,0)
 ;Retinoblastoma
"RTN","ONCSSF5",33,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",34,0)
 ;
"RTN","ONCSSF5",35,0)
 I '$D(^ONCO(164.52,SSFIEN,1,"B",X)) K X Q
"RTN","ONCSSF5",36,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",X,0))
"RTN","ONCSSF5",37,0)
 W "  ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2)
"RTN","ONCSSF5",38,0)
ITEX K PS,SSFIEN,SSF,MO,MELING Q
"RTN","ONCSSF5",39,0)
 ;
"RTN","ONCSSF5",40,0)
SSF5OT ;OUTPUT TRANSFORM
"RTN","ONCSSF5",41,0)
 ;
"RTN","ONCSSF5",42,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF5",43,0)
 Q:PS=""
"RTN","ONCSSF5",44,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF5",45,0)
 ;
"RTN","ONCSSF5",46,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-5")):$O(^ONCO(164.52,"C",PS_"-5",0)),1:1)
"RTN","ONCSSF5",47,0)
 ;
"RTN","ONCSSF5",48,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF5",49,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF5",50,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF5",51,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",52,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",53,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",54,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",55,0)
 ;
"RTN","ONCSSF5",56,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF5",57,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",58,0)
 ;
"RTN","ONCSSF5",59,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF5",60,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF5",61,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",62,0)
 ;
"RTN","ONCSSF5",63,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF5",64,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",65,0)
 ;
"RTN","ONCSSF5",66,0)
 ;Retinoblastoma
"RTN","ONCSSF5",67,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",68,0)
 ;
"RTN","ONCSSF5",69,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",Y,0)) I SSF="" G OTEX
"RTN","ONCSSF5",70,0)
 S Y=$P($G(^ONCO(164.52,SSFIEN,1,SSF,0)),U,2)
"RTN","ONCSSF5",71,0)
OTEX K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF5",72,0)
 ;
"RTN","ONCSSF5",73,0)
SSF5HP ;HELP
"RTN","ONCSSF5",74,0)
 ;
"RTN","ONCSSF5",75,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF5",76,0)
 Q:PS=""
"RTN","ONCSSF5",77,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF5",78,0)
 ;
"RTN","ONCSSF5",79,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-5")):$O(^ONCO(164.52,"C",PS_"-5",0)),1:1)
"RTN","ONCSSF5",80,0)
 ;
"RTN","ONCSSF5",81,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF5",82,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF5",83,0)
 .S MELIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",84,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",85,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",86,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",87,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF5",88,0)
 ;
"RTN","ONCSSF5",89,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF5",90,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",91,0)
 ;
"RTN","ONCSSF5",92,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF5",93,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF5",94,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",95,0)
 ;
"RTN","ONCSSF5",96,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF5",97,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",98,0)
 ;
"RTN","ONCSSF5",99,0)
 ;Retinoblastoma
"RTN","ONCSSF5",100,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF5",101,0)
 ;
"RTN","ONCSSF5",102,0)
 W !," SITE-SPECIFIC FACTOR 5 for " D
"RTN","ONCSSF5",103,0)
 .I MO=97003 W "MYCOSIS FUNGOIDES of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF5",104,0)
 .I MO=97013 W "SEZARY SYNDROME of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF5",105,0)
 .I $E(MO,1,3)=951 W "RETINOBLASTOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF5",106,0)
 .I $$MELANOMA^ONCOU55(D0),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632)!($E(PS,3,4)=69) W "MALIGNANT MELANOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF5",107,0)
 .I $E(MO,1,4)=9140 W "KAPOSI SARCOMA of ALL SITES" Q
"RTN","ONCSSF5",108,0)
 .I $$LYMPHOMA^ONCFUNC(D0) W "HODGKIN AND NON-HODGKIN LYMPHOMAS of ALL SITES" Q
"RTN","ONCSSF5",109,0)
 .I (MO'<97310)&(MO'>99899) W $P(^ONCO(169.3,MO,0),U,1)," (",$P(^ONCO(169.3,MO,0),U,2),")" Q
"RTN","ONCSSF5",110,0)
 .W $P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")"
"RTN","ONCSSF5",111,0)
 W !," ",$P(^ONCO(164.52,SSFIEN,0),U,1)
"RTN","ONCSSF5",112,0)
 ;S SSF=0 F  S SSF=$O(^ONCO(164.52,SSFIEN,1,SSF)) Q:SSF'>0  D
"RTN","ONCSSF5",113,0)
 ;.S TAB=6
"RTN","ONCSSF5",114,0)
 ;.W " ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,1),?TAB,$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2),!
"RTN","ONCSSF5",115,0)
 K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF6")
0^352^B22917384
"RTN","ONCSSF6",1,0)
ONCSSF6 ;Hines OIFO/GWB - SITE-SPECIFIC FACTOR 6 (165.5,44.6) ;11/20/03
"RTN","ONCSSF6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSSF6",3,0)
 ;
"RTN","ONCSSF6",4,0)
 ;SITE-SPECIFIC FACTOR 6 (165.5,44.6)
"RTN","ONCSSF6",5,0)
SSF6IT ;INPUT TRANSFORM
"RTN","ONCSSF6",6,0)
 ;
"RTN","ONCSSF6",7,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF6",8,0)
 I PS="" K X W "  No PRIMARY SITE defined for this primary" Q
"RTN","ONCSSF6",9,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF6",10,0)
 ;
"RTN","ONCSSF6",11,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-6")):$O(^ONCO(164.52,"C",PS_"-6",0)),1:1)
"RTN","ONCSSF6",12,0)
 ;
"RTN","ONCSSF6",13,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF6",14,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF6",15,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF6",16,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",17,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",18,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",19,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",20,0)
 ;
"RTN","ONCSSF6",21,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF6",22,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",23,0)
 ;
"RTN","ONCSSF6",24,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF6",25,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF6",26,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",27,0)
 ;
"RTN","ONCSSF6",28,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF6",29,0)
 ;Myeloproliferative Neoplasms
"RTN","ONCSSF6",30,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",31,0)
 ;
"RTN","ONCSSF6",32,0)
 ;Retinoblastoma
"RTN","ONCSSF6",33,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",34,0)
 ;
"RTN","ONCSSF6",35,0)
 ;Prostate
"RTN","ONCSSF6",36,0)
 I PS=67619,+X>1,+X<11 D  G ITEX
"RTN","ONCSSF6",37,0)
 .I X'?3N D  K X Q
"RTN","ONCSSF6",38,0)
 ..I X?1N W !!,"     For ",X," enter 00",X
"RTN","ONCSSF6",39,0)
 ..I X?2N W !!,"     For ",X," enter 0",X
"RTN","ONCSSF6",40,0)
 ;
"RTN","ONCSSF6",41,0)
 I '$D(^ONCO(164.52,SSFIEN,1,"B",X)) K X Q
"RTN","ONCSSF6",42,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",X,0))
"RTN","ONCSSF6",43,0)
 W "  ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2)
"RTN","ONCSSF6",44,0)
ITEX K PS,SSFIEN,SSF,MO,MELING Q
"RTN","ONCSSF6",45,0)
 ;
"RTN","ONCSSF6",46,0)
SSF6OT ;OUTPUT TRANSFORM
"RTN","ONCSSF6",47,0)
 ;
"RTN","ONCSSF6",48,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF6",49,0)
 Q:PS=""
"RTN","ONCSSF6",50,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF6",51,0)
 ;
"RTN","ONCSSF6",52,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-6")):$O(^ONCO(164.52,"C",PS_"-6",0)),1:1)
"RTN","ONCSSF6",53,0)
 ;
"RTN","ONCSSF6",54,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF6",55,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF6",56,0)
 .S MELIEN=$O(^ONCO(164.52,"B","LDH",0))
"RTN","ONCSSF6",57,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",58,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",59,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",60,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",61,0)
 ;
"RTN","ONCSSF6",62,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF6",63,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",64,0)
 ;
"RTN","ONCSSF6",65,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF6",66,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF6",67,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",68,0)
 ;
"RTN","ONCSSF6",69,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF6",70,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",71,0)
 ;
"RTN","ONCSSF6",72,0)
 ;Retinoblastoma
"RTN","ONCSSF6",73,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",74,0)
 ;
"RTN","ONCSSF6",75,0)
 ;Prostate
"RTN","ONCSSF6",76,0)
 I PS=67619,+Y>1,+Y<11 G OTEX
"RTN","ONCSSF6",77,0)
 ;
"RTN","ONCSSF6",78,0)
 S SSF=$O(^ONCO(164.52,SSFIEN,1,"B",Y,0)) I SSF="" G OTEX
"RTN","ONCSSF6",79,0)
 S Y=$P($G(^ONCO(164.52,SSFIEN,1,SSF,0)),U,2)
"RTN","ONCSSF6",80,0)
OTEX K PS,SSFIEN,SSF,MO Q
"RTN","ONCSSF6",81,0)
 ;
"RTN","ONCSSF6",82,0)
SSF6HP ;HELP
"RTN","ONCSSF6",83,0)
 ;
"RTN","ONCSSF6",84,0)
 S PS=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSSF6",85,0)
 Q:PS=""
"RTN","ONCSSF6",86,0)
 S MO=$$HIST^ONCFUNC(D0)
"RTN","ONCSSF6",87,0)
 ;
"RTN","ONCSSF6",88,0)
 S SSFIEN=$S($D(^ONCO(164.52,"C",PS_"-6")):$O(^ONCO(164.52,"C",PS_"-6",0)),1:1)
"RTN","ONCSSF6",89,0)
 ;
"RTN","ONCSSF6",90,0)
 ;Malignant Melanoma of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF6",91,0)
 I $$MELANOMA^ONCOU55(D0) D
"RTN","ONCSSF6",92,0)
 .S MELIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",93,0)
 .I $E(PS,3,4)=44 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",94,0)
 .I $E(PS,3,4)=51 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",95,0)
 .I $E(PS,3,4)=60 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",96,0)
 .I PS=67632 S SSFIEN=MELIEN Q
"RTN","ONCSSF6",97,0)
 ;
"RTN","ONCSSF6",98,0)
 ;Hodgkin and Non-Hodgkin Lymphomas of All Sites
"RTN","ONCSSF6",99,0)
 I $$LYMPHOMA^ONCFUNC(D0) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",100,0)
 ;
"RTN","ONCSSF6",101,0)
 ;Mycosis Fungoides and Sezary Disease of Skin, Vulva, Penis, Scrotum
"RTN","ONCSSF6",102,0)
 ;Kaposi Sarcoma of All Sites
"RTN","ONCSSF6",103,0)
 I (MO=97003)!(MO=97013)!($E(MO,1,4)=9140) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",104,0)
 ;
"RTN","ONCSSF6",105,0)
 ;Hematopoietic, Reticuloendothelial, Immunoproliferative, and
"RTN","ONCSSF6",106,0)
 I (MO'<97310)&(MO'>99899) S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",107,0)
 ;
"RTN","ONCSSF6",108,0)
 ;Retinoblastoma
"RTN","ONCSSF6",109,0)
 I $E(MO,1,3)=951 S SSFIEN=$O(^ONCO(164.52,"B","NOT APPLICABLE FOR THIS SITE",0))
"RTN","ONCSSF6",110,0)
 ;
"RTN","ONCSSF6",111,0)
 W !," SITE-SPECIFIC FACTOR 6 for " D
"RTN","ONCSSF6",112,0)
 .I MO=97003 W "MYCOSIS FUNGOIDES of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF6",113,0)
 .I MO=97013 W "SEZARY SYNDROME of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF6",114,0)
 .I $E(MO,1,3)=951 W "RETINOBLASTOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF6",115,0)
 .I $$MELANOMA^ONCOU55(D0),($E(PS,3,4)=44)!($E(PS,3,4)=51)!($E(PS,3,4)=60)!(PS=67632)!($E(PS,3,4)=69) W "MALIGNANT MELANOMA of ",$P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")" Q
"RTN","ONCSSF6",116,0)
 .I $E(MO,1,4)=9140 W "KAPOSI SARCOMA of ALL SITES" Q
"RTN","ONCSSF6",117,0)
 .I $$LYMPHOMA^ONCFUNC(D0) W "HODGKIN AND NON-HODGKIN LYMPHOMAS of ALL SITES" Q
"RTN","ONCSSF6",118,0)
 .I (MO'<97310)&(MO'>99899) W $P(^ONCO(169.3,MO,0),U,1)," (",$P(^ONCO(169.3,MO,0),U,2),")" Q
"RTN","ONCSSF6",119,0)
 .W $P(^ONCO(164,PS,0),U,1)," (",$P(^ONCO(164,PS,0),U,2),")"
"RTN","ONCSSF6",120,0)
 W !," ",$P(^ONCO(164.52,SSFIEN,0),U,1)
"RTN","ONCSSF6",121,0)
 ;S SSF=0 F  S SSF=$O(^ONCO(164.52,SSFIEN,1,SSF)) Q:SSF'>0  D
"RTN","ONCSSF6",122,0)
 ;.S TAB=6
"RTN","ONCSSF6",123,0)
 ;.I ($P(^ONCO(164.52,SSFIEN,0),U,1)="GLEASON'S SCORE") S TAB=10
"RTN","ONCSSF6",124,0)
 ;.W " ",$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,1),?TAB,$P(^ONCO(164.52,SSFIEN,1,SSF,0),U,2),!
"RTN","ONCSSF6",125,0)
 K PS,SSFIEN,SSF,MO Q
"RTN","ONCSTX")
0^353^B967309
"RTN","ONCSTX",1,0)
ONCSTX ;HINES CIOFO/RTK;SUBSEQUENT COURSE OF THERAPY STUFFING; 02/12/98
"RTN","ONCSTX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSTX",3,0)
NO ;
"RTN","ONCSTX",4,0)
 N DA,DR,DIQ,DIC,DI
"RTN","ONCSTX",5,0)
 S SCTIEN=D1
"RTN","ONCSTX",6,0)
 S $P(^ONCO(165.5,D0,4,D1,0),U,11)="0000000"
"RTN","ONCSTX",7,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,30)=$S(DATEDX>2971231:1,1:"")
"RTN","ONCSTX",8,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,31)=$S(DATEDX>2971231:"0000000",1:"")
"RTN","ONCSTX",9,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,32)=$S(DATEDX>2971231:1,1:"")
"RTN","ONCSTX",10,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,34)=$S(DATEDX>2971231:0,1:"")
"RTN","ONCSTX",11,0)
 D WRITE
"RTN","ONCSTX",12,0)
 S Y=.05
"RTN","ONCSTX",13,0)
 Q
"RTN","ONCSTX",14,0)
UNK ;
"RTN","ONCSTX",15,0)
 N DA,DR,DIQ,DIC,DI
"RTN","ONCSTX",16,0)
 S SCTIEN=D1
"RTN","ONCSTX",17,0)
 S $P(^ONCO(165.5,D0,4,D1,0),U,11)=9999999
"RTN","ONCSTX",18,0)
 ;F RR=0:0 S RR=$O(^ONCO(164,SSTOP,"RR5",RR)) Q:RR="B"  S LASTRR=RR
"RTN","ONCSTX",19,0)
 ;F SC=0:0 S SC=$O(^ONCO(164,SSTOP,"SC5",SC)) Q:SC="B"  S LASTSC=SC
"RTN","ONCSTX",20,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,30)=$S(DATEDX>2971231:LASTRR,1:"")
"RTN","ONCSTX",21,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,31)=$S(DATEDX>2971231:9999999,1:"")
"RTN","ONCSTX",22,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,32)=$S(DATEDX>2971231:LASTSC,1:"")
"RTN","ONCSTX",23,0)
 ;S $P(^ONCO(165.5,D0,4,D1,2),U,34)=$S(DATEDX>2971231:99,1:"")
"RTN","ONCSTX",24,0)
 D WRITE
"RTN","ONCSTX",25,0)
 S Y=.05
"RTN","ONCSTX",26,0)
 K SCTIEN,RR,LASTRR,SC,LASTSC Q
"RTN","ONCSTX",27,0)
WRITE ;
"RTN","ONCSTX",28,0)
 K ONC,DIQ S DIC="^ONCO(165.5,"
"RTN","ONCSTX",29,0)
 S DR=60,DA=D0,DR(165.51)=".041",DA(165.51)=SCTIEN
"RTN","ONCSTX",30,0)
 S DIQ="ONC" D EN^DIQ1
"RTN","ONCSTX",31,0)
 W !?2,"SURGERY OF PRIMARY SITE DATE...: "_ONC(165.51,SCTIEN,.041)
"RTN","ONCSTX",32,0)
 ;I DATEDX>2971231 D
"RTN","ONCSTX",33,0)
 ;.W !?2,"SCOPE OF LYMPH NODE SURGERY...: "_ONC(165.51,SCTIEN,35)
"RTN","ONCSTX",34,0)
 ;.W !?2,"RECON/RESTORE - DELAYED.......: "_ONC(165.51,SCTIEN,33)
"RTN","ONCSTX",35,0)
 ;.W !?2,"RECON/RESTORE - DELAYED DATE..: "_ONC(165.51,SCTIEN,34)
"RTN","ONCSTX",36,0)
 K ONC,SCTIEN
"RTN","ONCSUBS")
0^354^B7009875
"RTN","ONCSUBS",1,0)
ONCSUBS ;Hines OIFO/GWB - CS SCHEMA DISCRIMINATOR (165.5,240) ;11/03/10
"RTN","ONCSUBS",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSUBS",3,0)
 ;
"RTN","ONCSUBS",4,0)
 ;Called from [ONCO ABSTRACT-I] INPUT TEMPLATE
"RTN","ONCSUBS",5,0)
 ;CS SCHEMA DISCRIMINATOR (165.5,240) prompt/no prompt logic
"RTN","ONCSUBS",6,0)
 N DTDX,HT,TX
"RTN","ONCSUBS",7,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCSUBS",8,0)
 I DTDX<3040000 S Y="@623" Q
"RTN","ONCSUBS",9,0)
 S TX=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSUBS",10,0)
 Q:TX=""
"RTN","ONCSUBS",11,0)
 S HT=$$HIST^ONCFUNC(D0)
"RTN","ONCSUBS",12,0)
 I '$D(^ONCO(164,TX,15)) S Y="@623" Q
"RTN","ONCSUBS",13,0)
 I TX=67694,'$$MELANOMA^ONCOU55(D0) S Y="@623" Q
"RTN","ONCSUBS",14,0)
 I TX=67695,$$MELANOMA^ONCOU55(D0) S Y="@623" Q
"RTN","ONCSUBS",15,0)
 I $E(TX,3,4)=16 D
"RTN","ONCSUBS",16,0)
 .I ($E(HT,1,4)=8153)!($E(HT,1,4)=8240)!($E(HT,1,4)=8241)!($E(HT,1,4)=8242)!($E(HT,1,4)=8246)!($E(HT,1,4)=8249)!($E(HT,1,4)=8935)!($E(HT,1,4)=8936) S Y="@623" Q
"RTN","ONCSUBS",17,0)
 I (TX=67481)!(TX=67482)!(TX=67488) D
"RTN","ONCSUBS",18,0)
 .I ($E(HT,1,4)=8935)!($E(HT,1,4)=8936) S Y="@623" Q
"RTN","ONCSUBS",19,0)
 Q
"RTN","ONCSUBS",20,0)
 ;
"RTN","ONCSUBS",21,0)
IN ;CS SCHEMA DISCRIMINATOR (165.5,240) INPUT TRANSFORM
"RTN","ONCSUBS",22,0)
 N DTDX,HT,SD,TX,XD0,HT4
"RTN","ONCSUBS",23,0)
 S DTDX=$P($G(^ONCO(165.5,D0,0)),U,16)
"RTN","ONCSUBS",24,0)
 S TX=$P($G(^ONCO(165.5,D0,2)),U,1) Q:TX=""
"RTN","ONCSUBS",25,0)
 S HT=$$HIST^ONCFUNC(D0)
"RTN","ONCSUBS",26,0)
 S HT4=$E(HT,1,4)
"RTN","ONCSUBS",27,0)
 S SD=$P($G(^ONCO(165.5,D0,"CS3")),U,1)
"RTN","ONCSUBS",28,0)
 I X'?3N K X Q
"RTN","ONCSUBS",29,0)
 I '$D(^ONCO(164,TX,14,"B",X)) W !!?5,"Invalid code for this PRIMARY SITE",! K X Q
"RTN","ONCSUBS",30,0)
 S XD0=$O(^ONCO(164,TX,14,"B",X,0))
"RTN","ONCSUBS",31,0)
 S X=^ONCO(164,TX,14,XD0,0)
"RTN","ONCSUBS",32,0)
 I DTDX>3091231,X=100 W "  OBSOLETE code" K X Q
"RTN","ONCSUBS",33,0)
 I SD'=X D
"RTN","ONCSUBS",34,0)
 .W !
"RTN","ONCSUBS",35,0)
 .W !?3,"You have changed the CS SCHEMA DISCRIMINATOR.  This change may"
"RTN","ONCSUBS",36,0)
 .W !?3,"affect the validity of the COLLABORATIVE STAGING data."
"RTN","ONCSUBS",37,0)
 .W !?3,"Therefore, the CS fields have been initialized and need to"
"RTN","ONCSUBS",38,0)
 .W !?3,"be re-entered."
"RTN","ONCSUBS",39,0)
 .W !
"RTN","ONCSUBS",40,0)
 .F PIECE=1:1:12 S $P(^ONCO(165.5,D0,"CS"),U,PIECE)=""
"RTN","ONCSUBS",41,0)
 .F PIECE=1:1:19 S $P(^ONCO(165.5,D0,"CS1"),U,PIECE)=""
"RTN","ONCSUBS",42,0)
 .F PIECE=1:1:18 S $P(^ONCO(165.5,D0,"CS2"),U,PIECE)=""
"RTN","ONCSUBS",43,0)
 ;for lacrimal gland c69.5
"RTN","ONCSUBS",44,0)
 I TX=67695,X="025",((HT4>7999&HT4<8577)!(HT4>8989&HT4<8951)!(HT4>8979&HT4<8982)) D
"RTN","ONCSUBS",45,0)
 .S $P(^ONCO(165.5,D0,2),U,20)=88
"RTN","ONCSUBS",46,0)
 .S $P(^ONCO(165.5,D0,2),U,25)=88
"RTN","ONCSUBS",47,0)
 .S $P(^ONCO(165.5,D0,2),U,26)=88
"RTN","ONCSUBS",48,0)
 .S $P(^ONCO(165.5,D0,2),U,27)=88
"RTN","ONCSUBS",49,0)
 .S $P(^ONCO(165.5,D0,2.1),U,1)=88
"RTN","ONCSUBS",50,0)
 .S $P(^ONCO(165.5,D0,2.1),U,2)=88
"RTN","ONCSUBS",51,0)
 .S $P(^ONCO(165.5,D0,2.1),U,3)=88
"RTN","ONCSUBS",52,0)
 .S $P(^ONCO(165.5,D0,2.1),U,4)=88
"RTN","ONCSUBS",53,0)
 K PIECE
"RTN","ONCSUBS",54,0)
 Q
"RTN","ONCSUBS",55,0)
 ;
"RTN","ONCSUBS",56,0)
HELP ;CS SCHEMA DISCRIMINATOR (165.5,240) XECUTABLE 'HELP'
"RTN","ONCSUBS",57,0)
 N HIEN,TX
"RTN","ONCSUBS",58,0)
 S TX=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCSUBS",59,0)
 Q:TX=""
"RTN","ONCSUBS",60,0)
 I $D(^ONCO(164,TX,15)) D  W ! Q
"RTN","ONCSUBS",61,0)
 .S HIEN=0 F  S HIEN=$O(^ONCO(164,TX,15,HIEN)) Q:HIEN'>0  W !?1,^ONCO(164,TX,15,HIEN,0)
"RTN","ONCSUBS",62,0)
 Q
"RTN","ONCSUBS",63,0)
 ;
"RTN","ONCSUBS",64,0)
CLEANUP ;Cleanup
"RTN","ONCSUBS",65,0)
 K D0,Y
"RTN","ONCSYMP")
0^355^B11984863
"RTN","ONCSYMP",1,0)
ONCSYMP ;Hines OIFO/GWB - LUNG AND COLON SYMPTOMS ;05/24/05
"RTN","ONCSYMP",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCSYMP",3,0)
 ;
"RTN","ONCSYMP",4,0)
LUNG S SECTION="Cancer Identification" D SECTION^ONCOAIP
"RTN","ONCSYMP",5,0)
 W !," SYMPTOMS AND INITIAL DIAGNOSTIC STUDIES"
"RTN","ONCSYMP",6,0)
 W !," ---------------------------------------"
"RTN","ONCSYMP",7,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCSYMP",8,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCSYMP",9,0)
 S DR="174;174.1;186;186.1;187;187.1;188;188.1;189;189.1;190;175;175.1;176;176.1;177;177.1;178;178.1;179;179.1"
"RTN","ONCSYMP",10,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCSYMP",11,0)
 F I=174,186,187,188,189,190,175,176,177,178,179 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCSYMP",12,0)
 W !," Blood in Sputum Per Pt.......: ",ONC(165.5,D0,174.1),?44,ONC(165.5,D0,174)
"RTN","ONCSYMP",13,0)
 W !," Dyspnea......................: ",ONC(165.5,D0,186.1),?44,ONC(165.5,D0,186)
"RTN","ONCSYMP",14,0)
 W !," Increased Cough..............: ",ONC(165.5,D0,187.1),?44,ONC(165.5,D0,187)
"RTN","ONCSYMP",15,0)
 W !," Fever........................: ",ONC(165.5,D0,188.1),?44,ONC(165.5,D0,188)
"RTN","ONCSYMP",16,0)
 W !," Night Sweats.................: ",ONC(165.5,D0,189.1),?44,ONC(165.5,D0,189)
"RTN","ONCSYMP",17,0)
 W !," Weight Loss Per Pt...........: ",?44,ONC(165.5,D0,190)
"RTN","ONCSYMP",18,0)
 W !," Chest X-Ray..................: ",ONC(165.5,D0,175.1),?44,ONC(165.5,D0,175)
"RTN","ONCSYMP",19,0)
 W !," CT Scan......................: ",ONC(165.5,D0,176.1),?44,ONC(165.5,D0,176)
"RTN","ONCSYMP",20,0)
 W !," Bronchoscopy.................: ",ONC(165.5,D0,177.1),?44,ONC(165.5,D0,177)
"RTN","ONCSYMP",21,0)
 W !," Mediastinoscopy..............: ",ONC(165.5,D0,178.1),?44,ONC(165.5,D0,178)
"RTN","ONCSYMP",22,0)
 W !," PET Scan.....................: ",ONC(165.5,D0,179.1),?44,ONC(165.5,D0,179)
"RTN","ONCSYMP",23,0)
 W !,DASHES
"RTN","ONCSYMP",24,0)
 Q
"RTN","ONCSYMP",25,0)
 ;
"RTN","ONCSYMP",26,0)
COLON S HDL=$L("Cancer Identification"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCSYMP",27,0)
 W @IOF,DASHES
"RTN","ONCSYMP",28,0)
 W !,?1,PATNAM,?TAB,"Cancer Identification",?SITTAB,SITEGP
"RTN","ONCSYMP",29,0)
 W !,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD
"RTN","ONCSYMP",30,0)
 W !,DASHES
"RTN","ONCSYMP",31,0)
 W !," SYMPTOMS AND INITIAL DIAGNOSTIC STUDIES"
"RTN","ONCSYMP",32,0)
 W !," ---------------------------------------"
"RTN","ONCSYMP",33,0)
 N DI,DIC,DR,DA,DIQ,ONC
"RTN","ONCSYMP",34,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCSYMP",35,0)
 S DR="180;180.1;191;711;712;809;713;181;181.1;182;182.1;183;183.1;185;185.1;184;184.1;179;179.1;192"
"RTN","ONCSYMP",36,0)
 S DA=D0,DIQ="ONC" D EN^DIQ1
"RTN","ONCSYMP",37,0)
 F I=180,191,711,712,809,713,181,182,183,184,185,179,192 S X=ONC(165.5,D0,I) D UCASE S ONC(165.5,D0,I)=X
"RTN","ONCSYMP",38,0)
 W !," Ulcerative Colitis (UC)...................: ",?45,ONC(165.5,D0,191)
"RTN","ONCSYMP",39,0)
 W !," Familial Adenomatous Polyps...............: ",?45,ONC(165.5,D0,711)
"RTN","ONCSYMP",40,0)
 W !," HNPCC.....................................: ",?45,ONC(165.5,D0,712)
"RTN","ONCSYMP",41,0)
 W !," Crohn's Disease...........................: ",?45,ONC(165.5,D0,809)
"RTN","ONCSYMP",42,0)
 W !," Inflammatory Bowel Disease................: ",?45,ONC(165.5,D0,713)
"RTN","ONCSYMP",43,0)
 W !," Sporadic Polyps...........................: ",?45,ONC(165.5,D0,192)
"RTN","ONCSYMP",44,0)
 W !," Change in Bowel Habits Per Pt.: ",ONC(165.5,D0,180.1),?45,ONC(165.5,D0,180)
"RTN","ONCSYMP",45,0)
 W !," Fecal Occult Blood Test (FOBT): ",ONC(165.5,D0,181.1),?45,ONC(165.5,D0,181)
"RTN","ONCSYMP",46,0)
 W !," Barium Enema..................: ",ONC(165.5,D0,182.1),?45,ONC(165.5,D0,182)
"RTN","ONCSYMP",47,0)
 W !," Sigmoidoscopy.................: ",ONC(165.5,D0,183.1),?45,ONC(165.5,D0,183)
"RTN","ONCSYMP",48,0)
 W !," Colonoscopy...................: ",ONC(165.5,D0,185.1),?45,ONC(165.5,D0,185)
"RTN","ONCSYMP",49,0)
 W !," CT of Abdomen/Pelvis..........: ",ONC(165.5,D0,184.1),?45,ONC(165.5,D0,184)
"RTN","ONCSYMP",50,0)
 W !," PET Scan......................: ",ONC(165.5,D0,179.1),?45,ONC(165.5,D0,179)
"RTN","ONCSYMP",51,0)
 W !,DASHES
"RTN","ONCSYMP",52,0)
 Q
"RTN","ONCSYMP",53,0)
 ;
"RTN","ONCSYMP",54,0)
UCASE S X=$TR(X,"abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ")
"RTN","ONCSYMP",55,0)
 Q
"RTN","ONCSYMP",56,0)
 ;
"RTN","ONCSYMP",57,0)
STUFF ;Stuff symptom date with 00/00/0000 or 99/99/9999
"RTN","ONCSYMP",58,0)
 S:X=0 $P(^ONCO(165.5,D0,2.2),U,PIECE)="0000000"
"RTN","ONCSYMP",59,0)
 S:X=9 $P(^ONCO(165.5,D0,2.2),U,PIECE)=9999999
"RTN","ONCSYMP",60,0)
 Q
"RTN","ONCTEXT")
0^356^B1290050
"RTN","ONCTEXT",1,0)
ONCTEXT ;Hines OIFO/GWB - ONCOLOGY TEXT EDITS ;09/29/00
"RTN","ONCTEXT",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTEXT",3,0)
 ;
"RTN","ONCTEXT",4,0)
 ;Maximum NAACCR length text edit
"RTN","ONCTEXT",5,0)
 S FIELD=$P(^DD(165.5,FLDNUM,0),U,1)
"RTN","ONCTEXT",6,0)
 S (LENGTH,WPIEN)=0
"RTN","ONCTEXT",7,0)
 F  S WPIEN=$O(^ONCO(165.5,D0,NODE,WPIEN)) Q:WPIEN'>0  D
"RTN","ONCTEXT",8,0)
 .S LENGTH=LENGTH+$L(^ONCO(165.5,D0,NODE,WPIEN,0))
"RTN","ONCTEXT",9,0)
 I LENGTH>LIMIT D
"RTN","ONCTEXT",10,0)
 .W !,*7
"RTN","ONCTEXT",11,0)
 .W !," WARNING: ",FIELD," too long: ",LENGTH," characters"
"RTN","ONCTEXT",12,0)
 .W !?10,"Text should not exceed NAACCR length of ",LIMIT," characters"
"RTN","ONCTEXT",13,0)
 .W !
"RTN","ONCTEXT",14,0)
 .N DIR,X S SAVEY=Y
"RTN","ONCTEXT",15,0)
 .S DIR("A")=" Do you want to re-edit this field"
"RTN","ONCTEXT",16,0)
 .S DIR(0)="Y",DIR("B")="No" D ^DIR
"RTN","ONCTEXT",17,0)
 .I (Y=0)!(Y="") S Y=SAVEY Q
"RTN","ONCTEXT",18,0)
 .I Y[U S Y="@0" Q
"RTN","ONCTEXT",19,0)
 .S Y=FLDNUM
"RTN","ONCTEXT",20,0)
 K FIELD,FLDNUM,LENGTH,LIMIT,NODE,SAVEY,WPIEN
"RTN","ONCTEXT",21,0)
 Q
"RTN","ONCTIME")
0^357^B14762855
"RTN","ONCTIME",1,0)
ONCTIME ;Hines OIFO/GWB [Timeliness report] ;11/01/10
"RTN","ONCTIME",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTIME",3,0)
 ;
"RTN","ONCTIME",4,0)
TIME ;[Timeliness report]
"RTN","ONCTIME",5,0)
 K ^TMP("ONC",$J)
"RTN","ONCTIME",6,0)
 N DIC,SDT,EDT,IEN,CNT,LESCNT,GTRCNT,RPTDATE,DIVISION,ACO
"RTN","ONCTIME",7,0)
 N COC,NCRPT,BY,DHD,FLDS,FR,L,TO,DIRUT,EMTC,END,START,TIMEPCT,Y
"RTN","ONCTIME",8,0)
 W @IOF
"RTN","ONCTIME",9,0)
 W !?3,"Timeliness report",!
"RTN","ONCTIME",10,0)
 S %DT="AEX",%DT("A")="   Start Date of First Contact: "
"RTN","ONCTIME",11,0)
 D ^%DT K %DT
"RTN","ONCTIME",12,0)
 Q:Y<1  S START=Y,SDT=Y-1
"RTN","ONCTIME",13,0)
 S %DT="AEX",%DT("A")="   End Date of First Contact..: "
"RTN","ONCTIME",14,0)
 D ^%DT K %DT
"RTN","ONCTIME",15,0)
 Q:Y<1  S (END,EDT)=Y
"RTN","ONCTIME",16,0)
 W !
"RTN","ONCTIME",17,0)
 K DIR
"RTN","ONCTIME",18,0)
 S DIR("A")="   Analytic cases only"
"RTN","ONCTIME",19,0)
 S DIR("B")="YES"
"RTN","ONCTIME",20,0)
 S DIR(0)="Y"
"RTN","ONCTIME",21,0)
 S DIR("?")=" "
"RTN","ONCTIME",22,0)
 S DIR("?",1)=" Answer 'YES' if you want only analytic cases (CLASS OF CASE 0-2) counted."
"RTN","ONCTIME",23,0)
 S DIR("?",2)=" Answer  'NO' if you want all cases (analytic and non-analytic) counted."
"RTN","ONCTIME",24,0)
 D ^DIR
"RTN","ONCTIME",25,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCTIME",26,0)
 S ACO=Y
"RTN","ONCTIME",27,0)
 W !
"RTN","ONCTIME",28,0)
 K DIR
"RTN","ONCTIME",29,0)
 S DIR("A")="   Do you want to print a list of non-compliant cases"
"RTN","ONCTIME",30,0)
 S DIR("B")="YES"
"RTN","ONCTIME",31,0)
 S DIR(0)="Y"
"RTN","ONCTIME",32,0)
 S DIR("?")=" "
"RTN","ONCTIME",33,0)
 S DIR("?",1)=" Answer 'YES' if you want to include a list of non-compliant cases."
"RTN","ONCTIME",34,0)
 S DIR("?",2)=" Answer  'NO' if you want to only want the Timeliness Report."
"RTN","ONCTIME",35,0)
 D ^DIR
"RTN","ONCTIME",36,0)
 I $D(DIRUT) S OUT=1 Q
"RTN","ONCTIME",37,0)
 S NCRPT=Y
"RTN","ONCTIME",38,0)
 W !
"RTN","ONCTIME",39,0)
 N %ZIS,IOP,POP
"RTN","ONCTIME",40,0)
 S %ZIS="MQ"
"RTN","ONCTIME",41,0)
 D ^%ZIS  Q:$G(POP)
"RTN","ONCTIME",42,0)
 I $D(IO("Q")) D TASK G EXIT
"RTN","ONCTIME",43,0)
 U IO D COMP D ^%ZISC K %ZIS,IOP G EXIT
"RTN","ONCTIME",44,0)
 ;
"RTN","ONCTIME",45,0)
COMP S (CNT,LESCNT,GTRCNT)=0
"RTN","ONCTIME",46,0)
 F  S SDT=$O(^ONCO(165.5,"AFC",SDT)) Q:(SDT="")!(SDT>EDT)  S IEN=0 F  S IEN=$O(^ONCO(165.5,"AFC",SDT,IEN)) Q:IEN=""  I $$DIV^ONCFUNC(IEN)=DUZ(2) D
"RTN","ONCTIME",47,0)
 .S COC=$E($$GET1^DIQ(165.5,IEN,.04),1,2)
"RTN","ONCTIME",48,0)
 .I ACO=1,COC>22 Q
"RTN","ONCTIME",49,0)
 .S EMTC=$$GET1^DIQ(165.5,IEN,157.1)
"RTN","ONCTIME",50,0)
 .I (EMTC["Unknown")!(EMTC["NA") Q
"RTN","ONCTIME",51,0)
 .S CNT=CNT+1
"RTN","ONCTIME",52,0)
 .I EMTC<7 S LESCNT=LESCNT+1
"RTN","ONCTIME",53,0)
 .I EMTC>6 S GTRCNT=GTRCNT+1 S ^TMP("ONC",$J,IEN)=""
"RTN","ONCTIME",54,0)
 I CNT=0 D  D:$E(IOST,1,2)="C-" PAUSE^ONCOPA2A G EXIT
"RTN","ONCTIME",55,0)
 .W !,?3,"No cases found in this date range.",!
"RTN","ONCTIME",56,0)
 S TIMEPCT=LESCNT/CNT
"RTN","ONCTIME",57,0)
 S TIMEPCT=$J(TIMEPCT,3,2)*100_"%"
"RTN","ONCTIME",58,0)
 S Y=DT D DD^%DT S RPTDATE=Y
"RTN","ONCTIME",59,0)
 S DIVISION=$P(^DIC(4,DUZ(2),0),U,1)
"RTN","ONCTIME",60,0)
 S Y=START D DD^%DT S START=Y
"RTN","ONCTIME",61,0)
 S Y=END D DD^%DT S END=Y
"RTN","ONCTIME",62,0)
 W !
"RTN","ONCTIME",63,0)
 W !?3,"TIMELINESS REPORT",?60,RPTDATE
"RTN","ONCTIME",64,0)
 W !
"RTN","ONCTIME",65,0)
 W !?3,"Start Date of First Contact.......: ",START
"RTN","ONCTIME",66,0)
 W !?3,"End Date of First Contact.........: ",END
"RTN","ONCTIME",67,0)
 W !?3,"Division..........................: ",DIVISION
"RTN","ONCTIME",68,0)
 W !?3,"Analytic cases only...............: ",$S(ACO=1:"YES",1:"NO")
"RTN","ONCTIME",69,0)
 W !?3,"Cases Completed within six months.: ",LESCNT
"RTN","ONCTIME",70,0)
 W !?3,"Cases Completed > six months......: ",GTRCNT
"RTN","ONCTIME",71,0)
 W !?3,"Pct of 'Completed' cases compliant: ",TIMEPCT
"RTN","ONCTIME",72,0)
 I $E(IOST,1,2)="C-" W ! D PAUSE^ONCOPA2A
"RTN","ONCTIME",73,0)
 I $G(NCRPT)=0 G CLOSE
"RTN","ONCTIME",74,0)
 W @IOF
"RTN","ONCTIME",75,0)
 S DIC="^ONCO(165.5,",L=0,L(0)=1
"RTN","ONCTIME",76,0)
 S FLDS="!61;C2;L5,155;C10;L10;""FIRST CONTACT"",90;C23;L10;""COMPLETED"",157.1;C36"
"RTN","ONCTIME",77,0)
 S BY="90"
"RTN","ONCTIME",78,0)
 S BY(0)="^TMP(""ONC"",$J,"
"RTN","ONCTIME",79,0)
 S (FR,TO)=""
"RTN","ONCTIME",80,0)
 S DHD="TIMELINESS NON-COMPLIANCE REPORT"
"RTN","ONCTIME",81,0)
 S IOP=ION
"RTN","ONCTIME",82,0)
 D EN1^DIP
"RTN","ONCTIME",83,0)
CLOSE D ^%ZISC
"RTN","ONCTIME",84,0)
 Q
"RTN","ONCTIME",85,0)
 ;
"RTN","ONCTIME",86,0)
TASK ;Queue a task
"RTN","ONCTIME",87,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCTIME",88,0)
 S ZTRTN="COMP^ONCTIME",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCTIME",89,0)
 S ZTDESC="Timeliness Report"
"RTN","ONCTIME",90,0)
 S ZTSAVE("SDT")="",ZTSAVE("EDT")="",ZTSAVE("START")="",ZTSAVE("END")=""
"RTN","ONCTIME",91,0)
 S ZTSAVE("ACO")=""
"RTN","ONCTIME",92,0)
 S ZTSAVE("NCRPT")=""
"RTN","ONCTIME",93,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCTIME",94,0)
 K ZTSK
"RTN","ONCTIME",95,0)
 Q
"RTN","ONCTIME",96,0)
 ;
"RTN","ONCTIME",97,0)
EXIT ;Exit
"RTN","ONCTIME",98,0)
 K ^TMP("ONC",$J)
"RTN","ONCTIME",99,0)
 Q
"RTN","ONCTIME",100,0)
 ;
"RTN","ONCTIME",101,0)
CLEANUP ;Cleanup
"RTN","ONCTIME",102,0)
 K OUT,ZTDESC,ZTREQ,ZTRTN
"RTN","ONCTNMC")
0^358^B9628869
"RTN","ONCTNMC",1,0)
ONCTNMC ;Hines OIFO/GWB [TNM Compute percentage of TNM forms completed] ;03/17/11
"RTN","ONCTNMC",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTNMC",3,0)
 ;
"RTN","ONCTNMC",4,0)
TNMCA ;[TNM Compute percentage of TNM forms completed]
"RTN","ONCTNMC",5,0)
 N SDT,EDT,IEN,TNMA,TNMC,TNMACNT,TNMCCNT,TNMP,RPTDATE,DIVISION
"RTN","ONCTNMC",6,0)
 N PID,NAM,SGP,DFC,TNA,START,END,Y
"RTN","ONCTNMC",7,0)
 K TNM
"RTN","ONCTNMC",8,0)
 W @IOF
"RTN","ONCTNMC",9,0)
 W !?3,"Compute percentage of TNM forms completed",!
"RTN","ONCTNMC",10,0)
 S %DT="AE",%DT("A")="   Start Date of First Contact: "
"RTN","ONCTNMC",11,0)
 D ^%DT K %DT
"RTN","ONCTNMC",12,0)
 Q:Y<1  S START=Y,SDT=Y-1
"RTN","ONCTNMC",13,0)
 S %DT="AE",%DT("A")="   End Date of First Contact..: ",%DT("B")="TODAY"
"RTN","ONCTNMC",14,0)
 D ^%DT K %DT
"RTN","ONCTNMC",15,0)
 Q:Y<1  S (END,EDT)=Y
"RTN","ONCTNMC",16,0)
 W !
"RTN","ONCTNMC",17,0)
 N %ZIS,IOP,POP
"RTN","ONCTNMC",18,0)
 S %ZIS="MQ"
"RTN","ONCTNMC",19,0)
 D ^%ZIS  Q:$G(POP)
"RTN","ONCTNMC",20,0)
 I $D(IO("Q")) D TASK G EXIT
"RTN","ONCTNMC",21,0)
 U IO D TNM D ^%ZISC K %ZIS,IOP G EXIT
"RTN","ONCTNMC",22,0)
 ;
"RTN","ONCTNMC",23,0)
TNM S (TNMACNT,TNMCCNT)=0
"RTN","ONCTNMC",24,0)
 F  S SDT=$O(^ONCO(165.5,"AFC",SDT)) Q:(SDT="")!(SDT>EDT)  S IEN=0 F  S IEN=$O(^ONCO(165.5,"AFC",SDT,IEN)) Q:IEN=""  I $$DIV^ONCFUNC(IEN)=DUZ(2) D
"RTN","ONCTNMC",25,0)
 .S TNMA=$P($G(^ONCO(165.5,IEN,7)),U,7)
"RTN","ONCTNMC",26,0)
 .S TNMC=$P($G(^ONCO(165.5,IEN,7)),U,14)
"RTN","ONCTNMC",27,0)
 .I (TNMA="")!(TNMA="0000000")!(TNMA=8888888)!(TNMA=9999999) Q
"RTN","ONCTNMC",28,0)
 .S TNMACNT=TNMACNT+1
"RTN","ONCTNMC",29,0)
 .I (TNMC="")!(TNMC="0000000")!(TNMC=8888888)!(TNMC=9999999) S TNM(IEN)="" Q
"RTN","ONCTNMC",30,0)
 .S TNMCCNT=TNMCCNT+1
"RTN","ONCTNMC",31,0)
 I TNMACNT=0 D  W ! D PAUSE^ONCOPA2A G EXIT
"RTN","ONCTNMC",32,0)
 .W !,?3,"No TNM Forms have been assigned."
"RTN","ONCTNMC",33,0)
 S TNMP=TNMCCNT/TNMACNT
"RTN","ONCTNMC",34,0)
 S TNMP=$J(TNMP,3,2)*100_"%"
"RTN","ONCTNMC",35,0)
 S Y=DT D DD^%DT S RPTDATE=Y
"RTN","ONCTNMC",36,0)
 S DIVISION=$P(^DIC(4,DUZ(2),0),U,1)
"RTN","ONCTNMC",37,0)
 S Y=START D DD^%DT S START=Y
"RTN","ONCTNMC",38,0)
 S Y=END D DD^%DT S END=Y
"RTN","ONCTNMC",39,0)
 W !
"RTN","ONCTNMC",40,0)
 W !?3,"TNM FORMS ASSIGNED/COMPLETED REPORT",?60,RPTDATE
"RTN","ONCTNMC",41,0)
 W !
"RTN","ONCTNMC",42,0)
 W !?3,"Start Date of First Contact..: ",START
"RTN","ONCTNMC",43,0)
 W !?3,"End Date of First Contact....: ",END
"RTN","ONCTNMC",44,0)
 W !?3,"Division.....................: ",DIVISION
"RTN","ONCTNMC",45,0)
 W !?3,"TNM Forms Assigned...........: ",TNMACNT
"RTN","ONCTNMC",46,0)
 W !?3,"TNM Forms Completed..........: ",TNMCCNT
"RTN","ONCTNMC",47,0)
 W !?3,"Percentage of Forms completed: ",TNMP
"RTN","ONCTNMC",48,0)
 I $D(TNM) D
"RTN","ONCTNMC",49,0)
 .W !!?3,"TNM forms assigned but not completed",?50,"First Contact",?64,"Form Assigned"
"RTN","ONCTNMC",50,0)
 .W !,"   --------------------------------------------------------------------------"
"RTN","ONCTNMC",51,0)
 .S IEN=0 F  S IEN=$O(TNM(IEN)) Q:IEN'>0  D
"RTN","ONCTNMC",52,0)
 ..S PID=$$GET1^DIQ(165.5,IEN,61)
"RTN","ONCTNMC",53,0)
 ..S NAM=$$GET1^DIQ(165.5,IEN,.02)
"RTN","ONCTNMC",54,0)
 ..S SGP=$$GET1^DIQ(165.5,IEN,.01)
"RTN","ONCTNMC",55,0)
 ..S DFC=$$GET1^DIQ(165.5,IEN,155)
"RTN","ONCTNMC",56,0)
 ..S TNA=$$GET1^DIQ(165.5,IEN,25)
"RTN","ONCTNMC",57,0)
 ..W !?3,PID," ",$E(NAM,1,20),?30,$E(SGP,1,20),?50,DFC,?64,TNA
"RTN","ONCTNMC",58,0)
 D ^%ZISC
"RTN","ONCTNMC",59,0)
 W ! D PAUSE^ONCOPA2A
"RTN","ONCTNMC",60,0)
 Q
"RTN","ONCTNMC",61,0)
 ;
"RTN","ONCTNMC",62,0)
TASK ;Queue a task
"RTN","ONCTNMC",63,0)
 K ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCTNMC",64,0)
 S ZTRTN="TNM^ONCTNMC",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCTNMC",65,0)
 S ZTDESC="Compute percentage of TNM forms completed"
"RTN","ONCTNMC",66,0)
 S ZTSAVE("SDT")="",ZTSAVE("EDT")="",ZTSAVE("START")="",ZTSAVE("END")=""
"RTN","ONCTNMC",67,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCTNMC",68,0)
 K ZTDESC,ZTREQ,ZTRTN,ZTSAVE,ZTSK
"RTN","ONCTNMC",69,0)
 Q
"RTN","ONCTNMC",70,0)
 ;
"RTN","ONCTNMC",71,0)
EXIT Q
"RTN","ONCTPC0")
0^359^B9479356
"RTN","ONCTPC0",1,0)
ONCTPC0 ;HIRMFO/GWB - PCE Study of Thyroid Cancer ;8/23/96
"RTN","ONCTPC0",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC0",3,0)
 ;Check PCE eligibility
"RTN","ONCTPC0",4,0)
 ;Check if ACCESSION YEAR = 1996
"RTN","ONCTPC0",5,0)
 I $P(^ONCO(165.5,ONCONUM,0),U,7)'=1996 S MSG="The Accession Year is not 1996." D ERRMSG G EXIT
"RTN","ONCTPC0",6,0)
 ;Check if microscopically confirmed
"RTN","ONCTPC0",7,0)
 S DC=$P($G(^ONCO(165.5,ONCONUM,2)),U,6) I (DC'=1)&(DC'=2)&(DC'=4) S MSG="The Diagnostic Confirmation code is not 1, 2 or 4." D ERRMSG G EXIT
"RTN","ONCTPC0",8,0)
 ;Check if Class of Case is either 1 or 2.
"RTN","ONCTPC0",9,0)
 S COC=$P($G(^ONCO(165.5,ONCONUM,0)),U,4) I (COC'=1)&(COC'=2) S MSG="The Class of Case code is not 1 or 2." D ERRMSG G EXIT
"RTN","ONCTPC0",10,0)
 ;Check if HISTOLOGY is eligible
"RTN","ONCTPC0",11,0)
 S HIST=$P($G(^ONCO(165.5,ONCONUM,2)),U,3)
"RTN","ONCTPC0",12,0)
 I HIST="" S MSG="There is no HISTOLOGY for this primary." D ERRMSG G EXIT
"RTN","ONCTPC0",13,0)
 S HIST("80203")=""
"RTN","ONCTPC0",14,0)
 S HIST("80213")=""
"RTN","ONCTPC0",15,0)
 S HIST("80503")=""
"RTN","ONCTPC0",16,0)
 S HIST("82903")=""
"RTN","ONCTPC0",17,0)
 S HIST("83303")=""
"RTN","ONCTPC0",18,0)
 S HIST("83313")=""
"RTN","ONCTPC0",19,0)
 S HIST("83323")=""
"RTN","ONCTPC0",20,0)
 S HIST("83403")=""
"RTN","ONCTPC0",21,0)
 S HIST("85103")=""
"RTN","ONCTPC0",22,0)
 S HIST("85113")=""
"RTN","ONCTPC0",23,0)
 I '$D(HIST(HIST)) S MSG="The Histology of "_$E(HIST,1,4)_"/"_$E(HIST,5)_" is not eligible." D ERRMSG G EXIT
"RTN","ONCTPC0",24,0)
MENU ;Thyroid PCE menu
"RTN","ONCTPC0",25,0)
 S $P(^ONCO(165.5,ONCONUM,7),U,15)="THY"
"RTN","ONCTPC0",26,0)
 S ^ONCO(165.5,"APCE","THY",ONCONUM)=""
"RTN","ONCTPC0",27,0)
 K DIR D HEAD
"RTN","ONCTPC0",28,0)
 S DIR(0)="SO^1:General Information;2:Initial Diagnosis;3:Extent of Disease and AJCC Stage;4:First Course of Treatment;5:First Recurrence and Subsequent Treatment;6:Status at Last Contact;7:All;8:Print Thyroid PCE"
"RTN","ONCTPC0",29,0)
 S DIR("A")="Select Table" D ^DIR
"RTN","ONCTPC0",30,0)
 G:$D(DIRUT)!($D(DIROUT)) EXIT
"RTN","ONCTPC0",31,0)
 I Y=7 S OUT="" D  G MENU
"RTN","ONCTPC0",32,0)
 .D ^ONCTPC1 Q:$G(OUT)="Y"
"RTN","ONCTPC0",33,0)
 .D ^ONCTPC2 Q:$G(OUT)="Y"
"RTN","ONCTPC0",34,0)
 .D ^ONCTPC3 Q:$G(OUT)="Y"
"RTN","ONCTPC0",35,0)
 .D ^ONCTPC4 Q:$G(OUT)="Y"
"RTN","ONCTPC0",36,0)
 .D ^ONCTPC5 Q:$G(OUT)="Y"
"RTN","ONCTPC0",37,0)
 .D ^ONCTPC6 Q:$G(OUT)="Y"
"RTN","ONCTPC0",38,0)
 I Y=8 D ^ONCTPC8 G MENU
"RTN","ONCTPC0",39,0)
 S SUB="^ONCTPC"_Y D @SUB G MENU
"RTN","ONCTPC0",40,0)
ERRMSG ;Error message
"RTN","ONCTPC0",41,0)
 I ONCOANS=5 W !!,?10,"This primary does not satisfy the PCE eligibility criteria:",!,?10,MSG R Z:10
"RTN","ONCTPC0",42,0)
 K MSG Q
"RTN","ONCTPC0",43,0)
HEAD ;Thyroid PCE header
"RTN","ONCTPC0",44,0)
 W @IOF,!,?1,PATNAM,?SITTAB,SITEGP,!,?1,SSN,?TOPTAB,TOPNAM," ",TOPCOD,!,DASHES
"RTN","ONCTPC0",45,0)
 S HDL=$L("Patient Care Evaluation Study of Thyroid Cancer"),TAB=(80-HDL)\2,TAB=TAB-1
"RTN","ONCTPC0",46,0)
 W !,?TAB,"Patient Care Evaluation Study of Thyroid Cancer",!,DASHES
"RTN","ONCTPC0",47,0)
 Q
"RTN","ONCTPC0",48,0)
EXIT ;Kill variables and exit
"RTN","ONCTPC0",49,0)
 K COC,DC,HDL,HIST,MSG,ONCONUM,ONCOPA,OUT,SUB,TAB
"RTN","ONCTPC0",50,0)
 K DIC,DIQ,DIR,DIROUT,DIRUT,DLAYGO,DTOUT,DUOUT,X,Y
"RTN","ONCTPC0",51,0)
 Q
"RTN","ONCTPC1")
0^360^B14593845
"RTN","ONCTPC1",1,0)
ONCTPC1 ;Hines OIFO/GWB - PCE Study of Thyroid Cancer ;05/30/00
"RTN","ONCTPC1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC1",3,0)
 ;Table I
"RTN","ONCTPC1",4,0)
 K TABLE,HTABLE
"RTN","ONCTPC1",5,0)
 S TABLE("ACCESSION NUMBER")="AN"
"RTN","ONCTPC1",6,0)
 S TABLE("SEQUENCE NUMBER")="SN"
"RTN","ONCTPC1",7,0)
 S TABLE("POSTAL CODE AT DIAGNOSIS")="PCAD"
"RTN","ONCTPC1",8,0)
 S TABLE("DATE OF BIRTH")="DOB"
"RTN","ONCTPC1",9,0)
 S TABLE("RACE")="R"
"RTN","ONCTPC1",10,0)
 S TABLE("SPANISH ORIGIN")="SO"
"RTN","ONCTPC1",11,0)
 S TABLE("SEX")="S"
"RTN","ONCTPC1",12,0)
 S TABLE("PRIMARY PAYER AT DIAGNOSIS")="PPAD"
"RTN","ONCTPC1",13,0)
 S TABLE("FAMILY HISTORY OF THYROID CANCER")="FHOTC"
"RTN","ONCTPC1",14,0)
 S TABLE("PERSONAL HISTORY OF NON-THYROID CANCER")="PHONC"
"RTN","ONCTPC1",15,0)
 S TABLE("PRIOR EXPOSURE TO RADIATION")="PETR"
"RTN","ONCTPC1",16,0)
 S TABLE("PERSONAL HISTORY OF GOITER")="PHOG"
"RTN","ONCTPC1",17,0)
 S TABLE("FAMILY HISTORY OF THYROID DISEASE")="FHOGOOT"
"RTN","ONCTPC1",18,0)
 S TABLE("PERSONAL HISTORY OF GRAVES DISEASE")="PHOGD"
"RTN","ONCTPC1",19,0)
 S TABLE("PERSONAL HISTORY OF THYROIDITIS")="PHOT"
"RTN","ONCTPC1",20,0)
 S HTABLE(1)="ACCESSION NUMBER"
"RTN","ONCTPC1",21,0)
 S HTABLE(2)="SEQUENCE NUMBER"
"RTN","ONCTPC1",22,0)
 S HTABLE(3)="POSTAL CODE AT DIAGNOSIS"
"RTN","ONCTPC1",23,0)
 S HTABLE(4)="DATE OF BIRTH"
"RTN","ONCTPC1",24,0)
 S HTABLE(5)="RACE"
"RTN","ONCTPC1",25,0)
 S HTABLE(6)="SPANISH ORIGIN"
"RTN","ONCTPC1",26,0)
 S HTABLE(7)="SEX"
"RTN","ONCTPC1",27,0)
 S HTABLE(8)="PRIMARY PAYER AT DIAGNOSIS"
"RTN","ONCTPC1",28,0)
 S HTABLE(9)="FAMILY HISTORY OF THYROID CANCER"
"RTN","ONCTPC1",29,0)
 S HTABLE(10)="PERSONAL HISTORY OF NON-THYROID CANCER"
"RTN","ONCTPC1",30,0)
 S HTABLE(11)="PRIOR EXPOSURE TO RADIATION"
"RTN","ONCTPC1",31,0)
 S HTABLE(12)="PERSONAL HISTORY OF GOITER"
"RTN","ONCTPC1",32,0)
 S HTABLE(13)="FAMILY HISTORY OF GOITER OR OTHER THYROID DISEASE"
"RTN","ONCTPC1",33,0)
 S HTABLE(14)="PERSONAL HISTORY OF GRAVES DISEASE"
"RTN","ONCTPC1",34,0)
 S HTABLE(15)="PERSONAL HISTORY OF THYROIDITIS"
"RTN","ONCTPC1",35,0)
 S CHOICES=15
"RTN","ONCTPC1",36,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".05;.06",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCTPC1",37,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCTPC1",38,0)
 W @IOF D HEAD^ONCTPC0 W !?25,"TABLE I - GENERAL INFORMATION",!
"RTN","ONCTPC1",39,0)
AN W !,"ACCESSION NUMBER..................: ",ONC(165.5,ONCONUM,.05)
"RTN","ONCTPC1",40,0)
SN W !,"SEQUENCE NUMBER...................: ",ONC(165.5,ONCONUM,.06)
"RTN","ONCTPC1",41,0)
PCAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",42,0)
 S DR="9POSTAL CODE AT DIAGNOSIS.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",43,0)
DOB W !,"DATE OF BIRTH.....................: ",DOB
"RTN","ONCTPC1",44,0)
R S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCTPC1",45,0)
 S DR="8RACE.............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",46,0)
SO S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCTPC1",47,0)
 S DR="9SPANISH ORIGIN...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",48,0)
S S DIE="^ONCO(160,",DA=ONCOPA
"RTN","ONCTPC1",49,0)
 S DR="10SEX..............................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",50,0)
PPAD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",51,0)
 S DR="18PRIMARY PAYER AT DIAGNOSIS........" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",52,0)
FHOTC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",53,0)
 S DR="400FAMILY HISTORY OF THYROID CANCER.." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",54,0)
PHONC W !!,"PERSONAL HISTORY OF NON-THYROID CANCER:",!
"RTN","ONCTPC1",55,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",56,0)
 S DR="401  LYMPHOMA........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",57,0)
 S DR="402  CHILDHOOD MALIGNANCY............" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",58,0)
 S DR="308  OTHER..........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",59,0)
 W !
"RTN","ONCTPC1",60,0)
PETR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",61,0)
 S DR="403PRIOR EXPOSURE TO RADIATION......." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",62,0)
PHOG S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",63,0)
 S DR="404PERSONAL HISTORY OF GOITER........" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",64,0)
FHOGOOT S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",65,0)
 S DR="405FAMILY HISTORY THYROID DISEASE...." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",66,0)
PHOGD S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",67,0)
 S DR="406PERSONAL HISTORY OF GRAVES DISEASE" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",68,0)
PHOT S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC1",69,0)
 S DR="407PERSONAL HISTORY OF THYROIDITIS..." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC1",70,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC1",71,0)
 G EXIT
"RTN","ONCTPC1",72,0)
JUMP ;Jump to prompts
"RTN","ONCTPC1",73,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC1",74,0)
 I X["?" D  G JUMP
"RTN","ONCTPC1",75,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC1",76,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC1",77,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC1",78,0)
 S X=TABLE(X)
"RTN","ONCTPC1",79,0)
 G @X
"RTN","ONCTPC1",80,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCTPC1",81,0)
 K DOB
"RTN","ONCTPC1",82,0)
 K DA,DR,DIE,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,XX,Y
"RTN","ONCTPC1",83,0)
 Q
"RTN","ONCTPC2")
0^361^B14770718
"RTN","ONCTPC2",1,0)
ONCTPC2 ;HIRMFO/GWB - PCE Study of Thyroid Cancer Table II;6/19/96
"RTN","ONCTPC2",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC2",3,0)
 K TABLE,HTABLE
"RTN","ONCTPC2",4,0)
 S TABLE("CLASS OF CASE")="COC"
"RTN","ONCTPC2",5,0)
 S TABLE("SYMPTOMS/SIGNS PRESENT")="SSP"
"RTN","ONCTPC2",6,0)
 S TABLE("DIAGNOSTIC/SURGICAL WORKUP")="DSW"
"RTN","ONCTPC2",7,0)
 S TABLE("DATE OF INITIAL DIAGNOSIS")="DOID"
"RTN","ONCTPC2",8,0)
 S TABLE("PRIMARY SITE (ICD-O-2)")="PS"
"RTN","ONCTPC2",9,0)
 S TABLE("HISTOLOGY/BEHAVIOR CODE (ICD-O-2)")="H"
"RTN","ONCTPC2",10,0)
 S TABLE("GRADE")="G"
"RTN","ONCTPC2",11,0)
 S TABLE("BLOOD VESSEL INVASION")="BVI"
"RTN","ONCTPC2",12,0)
 S TABLE("EXTRA-THYROID EXTENSION")="ETE"
"RTN","ONCTPC2",13,0)
 S TABLE("DIAGNOSTIC CONFIRMATION")="DC"
"RTN","ONCTPC2",14,0)
 S HTABLE(1)="CLASS OF CASE"
"RTN","ONCTPC2",15,0)
 S HTABLE(2)="SYMPTOMS/SIGNS PRESENT"
"RTN","ONCTPC2",16,0)
 S HTABLE(3)="DIAGNOSTIC/SURGICAL WORKUP"
"RTN","ONCTPC2",17,0)
 S HTABLE(4)="DATE OF INITIAL DIAGNOSIS"
"RTN","ONCTPC2",18,0)
 S HTABLE(5)="PRIMARY SITE (ICD-O-2)"
"RTN","ONCTPC2",19,0)
 S HTABLE(6)="HISTOLOGY/BEHAVIOR CODE (ICD-O-2)"
"RTN","ONCTPC2",20,0)
 S HTABLE(7)="GRADE"
"RTN","ONCTPC2",21,0)
 S HTABLE(8)="BLOOD VESSEL INVASION"
"RTN","ONCTPC2",22,0)
 S HTABLE(9)="EXTRA-THYROID EXTENSION"
"RTN","ONCTPC2",23,0)
 S HTABLE(10)="DIAGNOSTIC CONFIRMATION"
"RTN","ONCTPC2",24,0)
 S CHOICES=10
"RTN","ONCTPC2",25,0)
 K DIQ S DIC="^ONCO(165.5,",DR=".04;22;24;26",DA=ONCONUM,DIQ="ONC"
"RTN","ONCTPC2",26,0)
 D EN^DIQ1
"RTN","ONCTPC2",27,0)
 S Y=$P(^ONCO(165.5,ONCONUM,0),U,16) D DATEOT^ONCOPCE S DOID=Y
"RTN","ONCTPC2",28,0)
 W @IOF D HEAD^ONCTPC0
"RTN","ONCTPC2",29,0)
 W !?24,"TABLE II- INITIAL DIAGNOSIS/CANCER IDENTIFICATION",!
"RTN","ONCTPC2",30,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC2",31,0)
COC W !,"CLASS OF CLASS...................: ",ONC(165.5,ONCONUM,.04)
"RTN","ONCTPC2",32,0)
SSP W !!,"SYMPTOMS/SIGNS PRESENT:",!
"RTN","ONCTPC2",33,0)
 S DR="408  DYSPHAGIA......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",34,0)
 S DR="409  HOARSENESS OR VOICE CHANGE....." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",35,0)
 S DR="410  NECK NODAL MASS................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",36,0)
 S DR="411  PAIN, BONE....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",37,0)
 S DR="412  PAIN, NECK....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",38,0)
 S DR="413  PATHOLOGIC FRACTURE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",39,0)
 S DR="414  STRIDOR OR DIFFICULTY BREATHING" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",40,0)
 S DR="415  THYROID MASS..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",41,0)
 S DR="416  WEIGHT LOSS...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",42,0)
 S DR="417  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",43,0)
DSW W !!,"DIAGNOSTIC/SURGICAL WORKUP:",!
"RTN","ONCTPC2",44,0)
 S DR="418  BONE SCAN......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",45,0)
 S DR="419  CHEST X-RAY...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",46,0)
 S DR="420  CT SCAN OF NECK................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",47,0)
 S DR="421  CT SCAN OF CHEST..............." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",48,0)
 S DR="422  INCISIONAL BIOPSY.............." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",49,0)
 S DR="423  LARYNGOSCOPY..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",50,0)
 S DR="424  NECK X-RAY (AP & LATERAL)......" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",51,0)
 S DR="425  NEEDLE ASPIRATION OF NECK NODE." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",52,0)
 S DR="426  NEEDLE ASPIRATION OF THYROID..." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",53,0)
 S DR="427  MRI OF NECK...................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",54,0)
 S DR="428  THYROID SCAN..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",55,0)
 S DR="429  ULTRASOUND OF THYROID.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",56,0)
 S DR="430  OTHER.........................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",57,0)
DOID W !!,"DATE OF INITIAL DIAGNOSIS........: ",DOID
"RTN","ONCTPC2",58,0)
PS W !,"PRIMARY SITE (ICD-O-2)...........: ",TOPCOD
"RTN","ONCTPC2",59,0)
H W !,"HISTOLOGY/BEHAVIOR CODE (ICD-O-2): ",ONC(165.5,ONCONUM,22)
"RTN","ONCTPC2",60,0)
G S DR="24GRADE............................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",61,0)
BVI S DR="431BLOOD VESSEL INVASION............" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",62,0)
ETT S DR="432EXTRA-THYROIDAL EXTENSION........" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",63,0)
DC S DR="26DIAGNOSTIC CONFIRMATION.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC2",64,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC2",65,0)
 G EXIT
"RTN","ONCTPC2",66,0)
JUMP ;Jump to prompts
"RTN","ONCTPC2",67,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC2",68,0)
 I X["?" D  G JUMP
"RTN","ONCTPC2",69,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC2",70,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC2",71,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC2",72,0)
 S X=TABLE(X)
"RTN","ONCTPC2",73,0)
 G @X
"RTN","ONCTPC2",74,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCTPC2",75,0)
 K DOID,HST,HSTCD,HSTNAM,PRINODE0,PRINODE2,TOPOG,TOPCD,SITE
"RTN","ONCTPC2",76,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCTPC2",77,0)
 Q
"RTN","ONCTPC3")
0^362^B10519366
"RTN","ONCTPC3",1,0)
ONCTPC3 ;HIRMFO/GWB - PCE Study of Thyroid Cancer Table III;6/19/96
"RTN","ONCTPC3",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC3",3,0)
 K TABLE,HTABLE
"RTN","ONCTPC3",4,0)
 S TABLE("SIZE OF TUMOR")="SOT"
"RTN","ONCTPC3",5,0)
 S TABLE("MULTIFOCAL")="M"
"RTN","ONCTPC3",6,0)
 S TABLE("REGIONAL NODES EXAMINED")="RNE"
"RTN","ONCTPC3",7,0)
 S TABLE("REGIONAL NODES POSITIVE")="RNP"
"RTN","ONCTPC3",8,0)
 S TABLE("LOCATION OF POSITIVE NODES")="LOPN"
"RTN","ONCTPC3",9,0)
 S TABLE("SITES OF DISTANT METASTASIS")="SODM"
"RTN","ONCTPC3",10,0)
 S TABLE("AJCC CLINICAL STAGE (cTNM)")="ACS"
"RTN","ONCTPC3",11,0)
 S TABLE("AJCC PATHOLOGIC STAGE (pTNM)")="APS"
"RTN","ONCTPC3",12,0)
 S TABLE("STAGED BY")="SB"
"RTN","ONCTPC3",13,0)
 S HTABLE(1)="SIZE OF TUMOR"
"RTN","ONCTPC3",14,0)
 S HTABLE(2)="MULTIFOCAL"
"RTN","ONCTPC3",15,0)
 S HTABLE(3)="REGIONAL NODES EXAMINED"
"RTN","ONCTPC3",16,0)
 S HTABLE(4)="REGIONAL NODES POSITIVE"
"RTN","ONCTPC3",17,0)
 S HTABLE(5)="LOCATION OF POSITIVE NODES"
"RTN","ONCTPC3",18,0)
 S HTABLE(6)="SITES OF DISTANT METASTASIS"
"RTN","ONCTPC3",19,0)
 S HTABLE(7)="AJCC CLINICAL STAGE (cTNM)"
"RTN","ONCTPC3",20,0)
 S HTABLE(8)="AJCC PATHOLOGIC STAGE (pTNM)"
"RTN","ONCTPC3",21,0)
 S HTABLE(9)="STAGED BY"
"RTN","ONCTPC3",22,0)
 S CHOICES=9
"RTN","ONCTPC3",23,0)
 W @IOF D HEAD^ONCTPC0
"RTN","ONCTPC3",24,0)
 W !?18,"TABLE III- EXTENT OF DISEASE AND AJCC STAGE",!
"RTN","ONCTPC3",25,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC3",26,0)
SOT S DR="29SIZE OF TUMOR.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",27,0)
M S DR="433MULTIFOCAL....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",28,0)
RNE S DR="33REGIONAL NODES EXAMINED........" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",29,0)
RNP S DR="32REGIONAL NODES POSITIVE........" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",30,0)
LOPN S DR="434LOCATION OF POSITIVE NODES....." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",31,0)
SODM W !!,"SITES OF DISTANT METASTASIS:",!
"RTN","ONCTPC3",32,0)
 S DR="34  SITE OF DISTANT METASTASIS #1" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",33,0)
 I X=0 D  G ACS
"RTN","ONCTPC3",34,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,15)=0
"RTN","ONCTPC3",35,0)
 .W !,"  SITE OF DISTANT METASTASIS #2: None"
"RTN","ONCTPC3",36,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,16)=0
"RTN","ONCTPC3",37,0)
 .W !,"  SITE OF DISTANT METASTASIS #3: None"
"RTN","ONCTPC3",38,0)
 S DR="34.1  SITE OF DISTANT METASTASIS #2" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",39,0)
 I X=0 D  G ACS
"RTN","ONCTPC3",40,0)
 .S $P(^ONCO(165.5,ONCONUM,2),U,16)=0
"RTN","ONCTPC3",41,0)
 .W !,"  SITE OF DISTANT METASTASIS #3: None"
"RTN","ONCTPC3",42,0)
 S DR="34.2  SITE OF DISTANT METASTASIS #3" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",43,0)
ACS W !!,"AJCC CLINICAL STAGE (cTNM):",!
"RTN","ONCTPC3",44,0)
 S DR="37.1  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",45,0)
 D CN1^ONCOTN,CN2^ONCOTN
"RTN","ONCTPC3",46,0)
 S DR="37.2  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",47,0)
 S DR="37.3  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",48,0)
 I '$D(SKAJCC) D CN1^ONCOTN
"RTN","ONCTPC3",49,0)
 S STGIND="C" D ES^ONCOTN
"RTN","ONCTPC3",50,0)
 ;S DR="38  AJCC STAGE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",51,0)
APS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",!
"RTN","ONCTPC3",52,0)
 S DR="85  T-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",53,0)
 D CN3^ONCOTN,CN4^ONCOTN
"RTN","ONCTPC3",54,0)
 S DR="86  N-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",55,0)
 S DR="87  M-CODE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",56,0)
 I '$D(SKAJCC) D CN3^ONCOTN
"RTN","ONCTPC3",57,0)
 S STGIND="P" D ES^ONCOTN
"RTN","ONCTPC3",58,0)
 ;S DR="88  AJCC STAGE..................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",59,0)
SB W !,"STAGED BY:",!
"RTN","ONCTPC3",60,0)
 S DR="19CLINICAL STAGE.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",61,0)
 S DR="89PATHOLOGIC STAGE................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC3",62,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC3",63,0)
 G EXIT
"RTN","ONCTPC3",64,0)
JUMP ;Jump to prompts
"RTN","ONCTPC3",65,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC3",66,0)
 I X["?" D  G JUMP
"RTN","ONCTPC3",67,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC3",68,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC3",69,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC3",70,0)
 S X=TABLE(X)
"RTN","ONCTPC3",71,0)
 G @X
"RTN","ONCTPC3",72,0)
EXIT K HTABLE,TABLE,CHOICES
"RTN","ONCTPC3",73,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCTPC3",74,0)
 Q
"RTN","ONCTPC4")
0^363^B32657444
"RTN","ONCTPC4",1,0)
ONCTPC4 ;HIRMFO/GWB - PCE Study of Thyroid Cancer Table IV;6/19/96
"RTN","ONCTPC4",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC4",3,0)
 K ONC,TABLE,HTABLE
"RTN","ONCTPC4",4,0)
 S TABLE("DATE OF FIRST COURSE TREATMENT")="DOFCT"
"RTN","ONCTPC4",5,0)
 S TABLE("SURGERY")="S"
"RTN","ONCTPC4",6,0)
 S TABLE("RADIATION")="R"
"RTN","ONCTPC4",7,0)
 S TABLE("CHEMOTHERAPY")="C"
"RTN","ONCTPC4",8,0)
 S TABLE("HORMONE THERAPY")="HT"
"RTN","ONCTPC4",9,0)
 S HTABLE(1)="DATE OF FIRST COURSE TREATMENT"
"RTN","ONCTPC4",10,0)
 S HTABLE(2)="SURGERY"
"RTN","ONCTPC4",11,0)
 S HTABLE(3)="RADIATION"
"RTN","ONCTPC4",12,0)
 S HTABLE(4)="CHEMOTHERAPY"
"RTN","ONCTPC4",13,0)
 S HTABLE(5)="HORMONE THERAPY"
"RTN","ONCTPC4",14,0)
 S CHOICES=5
"RTN","ONCTPC4",15,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOFCT=Y
"RTN","ONCTPC4",16,0)
 S DIC="^ONCO(165.5,",DR="50;51.2;53.2;54.2;58.1;58.2;58.3",DA=ONCONUM
"RTN","ONCTPC4",17,0)
 S DIQ="ONC",DIQ(0)="IE" D EN^DIQ1
"RTN","ONCTPC4",18,0)
 W @IOF D HEAD^ONCTPC0 W !?22,"TABLE IV - FIRST COURSE OF TREATMENT",!
"RTN","ONCTPC4",19,0)
 S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC4",20,0)
DOFCT W !,"DATE OF FIRST COURSE TREATMENT.......: ",DOFCT
"RTN","ONCTPC4",21,0)
S W !!,"SURGERY:",!
"RTN","ONCTPC4",22,0)
 S NCDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,31)
"RTN","ONCTPC4",23,0)
 S Y=NCDSDT D DATEOT^ONCOPCE S NCDSDT=Y
"RTN","ONCTPC4",24,0)
 S NCDS=ONC(165.5,ONCONUM,58.1,"E")
"RTN","ONCTPC4",25,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<42 S NCDS1=NCDS G CDSDT
"RTN","ONCTPC4",26,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCTPC4",27,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCTPC4",28,0)
CDSDT S CDSDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,1)
"RTN","ONCTPC4",29,0)
 S Y=CDSDT D DATEOT^ONCOPCE S CDSDT=Y
"RTN","ONCTPC4",30,0)
 S CDS=ONC(165.5,ONCONUM,58.2,"E")
"RTN","ONCTPC4",31,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<42 S CDS1=CDS G NCDS
"RTN","ONCTPC4",32,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCTPC4",33,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCTPC4",34,0)
NCDS W !,"  DATE OF NON CANCER-DIRECTED SURGERY: ",NCDSDT
"RTN","ONCTPC4",35,0)
 W !,"  NON CANCER-DIRECTED SURGERY........: ",NCDS1 W:NCDS2'="" !,?42,NCDS2
"RTN","ONCTPC4",36,0)
 W !,"  DATE OF SURGERY OF PRIMARY SITE....: ",CDSDT
"RTN","ONCTPC4",37,0)
 I (CDS="")!($E(CDS,1,2)="00") D  G CDS
"RTN","ONCTPC4",38,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,36)="0000000"
"RTN","ONCTPC4",39,0)
 .W !,"  DATE OF DISCHARGE AFTER SURGERY....: 00/00/0000"
"RTN","ONCTPC4",40,0)
 S DR="435  DATE OF DISCHARGE AFTER SURGERY...." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",41,0)
CDS W !,"  SURGERY OF PRIMARY SITE............: ",CDS1 W:CDS2'="" !,?42,CDS2
"RTN","ONCTPC4",42,0)
SC I (CDS="")!($E(CDS,1,2)="00") D  G:(Y=0)!(Y="") EXIT W @IOF G R
"RTN","ONCTPC4",43,0)
 .S $P(^ONCO(165.5,ONCONUM,3),U,28)=8
"RTN","ONCTPC4",44,0)
 .W !,"  RESIDUAL PRIMARY TUMOR.............: NA"
"RTN","ONCTPC4",45,0)
 .W ! K DIR S DIR(0)="E" D ^DIR Q:(Y=0)!(Y="")  W @IOF
"RTN","ONCTPC4",46,0)
 .W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCTPC4",47,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,37)=8
"RTN","ONCTPC4",48,0)
 .W !,"    AIRWAY PROBLEM REQ TRACHEOSTOMY..: Not applicable, no surgery"
"RTN","ONCTPC4",49,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,38)=8
"RTN","ONCTPC4",50,0)
 .W !,"    BLEEDING HEMATOMA................: Not applicable, no surgery"
"RTN","ONCTPC4",51,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,39)=8
"RTN","ONCTPC4",52,0)
 .W !,"    HYPOCALCEMIA.....................: Not applicable, no surgery"
"RTN","ONCTPC4",53,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,40)=8
"RTN","ONCTPC4",54,0)
 .W !,"    RECURRENT NERVE INJURY...........: Not applicable, no surgery"
"RTN","ONCTPC4",55,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,41)=8
"RTN","ONCTPC4",56,0)
 .W !,"    WOUND INFECTION..................: Not applicable, no surgery"
"RTN","ONCTPC4",57,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,42)=8
"RTN","ONCTPC4",58,0)
 .W !!,"  POSTOPERATIVE DEATH WITH 30 DAYS.: Not applicable, no surgery"
"RTN","ONCTPC4",59,0)
 .W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC4",60,0)
 S DR="59  RESIDUAL PRIMARY TUMOR............." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",61,0)
 W !!,"  SURGICAL COMPLICATIONS:",!
"RTN","ONCTPC4",62,0)
 S DR="436    AIRWAY PROBLEM REQ TRACHEOSTOMY.." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",63,0)
 S DR="437    BLEEDING HEMATOMA................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",64,0)
 S DR="438    HYPOCALCEMIA....................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",65,0)
 S DR="439    RECURRENT NERVE INJURY..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",66,0)
 S DR="440    WOUND INFECTION.................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",67,0)
 W !
"RTN","ONCTPC4",68,0)
 S DR="441  POSTOPERATIVE DEATH WITHIN 30 DAYS." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",69,0)
R W !!,"RADIATION:",!
"RTN","ONCTPC4",70,0)
 S RADDT=$P($G(^ONCO(165.5,ONCONUM,3)),U,4)
"RTN","ONCTPC4",71,0)
 S Y=RADDT D DATEOT^ONCOPCE S RADDT=Y
"RTN","ONCTPC4",72,0)
 W !,"  DATE RADIATION STARTED.............: ",RADDT
"RTN","ONCTPC4",73,0)
 S RAD=ONC(165.5,ONCONUM,51.2,"I"),RADOT=ONC(165.5,ONCONUM,51.2,"E")
"RTN","ONCTPC4",74,0)
 W !,"  RADIATION .........................: ",RADOT
"RTN","ONCTPC4",75,0)
 I (RAD=0)!(RAD=7) D  G C
"RTN","ONCTPC4",76,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,43)=0
"RTN","ONCTPC4",77,0)
 .W !,"  REGIONAL RAD (cGy) DOSE............: 00000"
"RTN","ONCTPC4",78,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=0
"RTN","ONCTPC4",79,0)
 .W !,"  BOOST DOSAGE.......................: 00000"
"RTN","ONCTPC4",80,0)
 .W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:"
"RTN","ONCTPC4",81,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,45)=0
"RTN","ONCTPC4",82,0)
 .W !,"  INITAL DOSE........................: 00000"
"RTN","ONCTPC4",83,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,46)=0
"RTN","ONCTPC4",84,0)
 .W !,"  SECOND DOSE........................: 00000"
"RTN","ONCTPC4",85,0)
 I ($E(RAD,1)=8)!($E(RAD,1)=9) D  G C
"RTN","ONCTPC4",86,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,43)=99999
"RTN","ONCTPC4",87,0)
 .W !,"  REGIONAL RAD (cGy) DOSE............: 99999"
"RTN","ONCTPC4",88,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,44)=99999
"RTN","ONCTPC4",89,0)
 .W !,"  BOOST DOSAGE.......................: 99999"
"RTN","ONCTPC4",90,0)
 .W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:"
"RTN","ONCTPC4",91,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,45)=99999
"RTN","ONCTPC4",92,0)
 .W !,"  INITAL DOSE........................: 99999"
"RTN","ONCTPC4",93,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,46)=99999
"RTN","ONCTPC4",94,0)
 .W !,"  SECOND DOSE........................: 99999"
"RTN","ONCTPC4",95,0)
 S DR="442  REGIONAL RAD (cGy) DOSE............" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",96,0)
 S DR="443  BOOST DOSAGE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",97,0)
 W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:",!
"RTN","ONCTPC4",98,0)
 S DR="444  INITIAL DOSE......................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",99,0)
 S DR="445  SECOND DOSE........................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",100,0)
C W !!,"CHEMOTHERAPY:",!
"RTN","ONCTPC4",101,0)
 S CHEMO=ONC(165.5,ONCONUM,53.2,"I"),CHEMOT=ONC(165.5,ONCONUM,53.2,"E")
"RTN","ONCTPC4",102,0)
 W !,"  CHEMOTHERAPY.......................: ",CHEMOT
"RTN","ONCTPC4",103,0)
 I ($E(CHEMO,1)=0)!($E(CHEMO,1)=7) D  G HT
"RTN","ONCTPC4",104,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,47)=0
"RTN","ONCTPC4",105,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION....: No concomitant treatment"
"RTN","ONCTPC4",106,0)
 I ($E(CHEMO,1)=8)!($E(CHEMO,1)=9) D  G HT
"RTN","ONCTPC4",107,0)
 .S $P(^ONCO(165.5,ONCONUM,"THY1"),U,47)=9
"RTN","ONCTPC4",108,0)
 .W !,"  ADJUVANT CHEMO W BEAM RADIATION....: Unknown if therapy concomitant"
"RTN","ONCTPC4",109,0)
 S DR="446  ADJUVANT CHEMO W BEAM RADIATION...." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC4",110,0)
HT W !!,"HORMONE THERAPY:",!
"RTN","ONCTPC4",111,0)
 S HT=ONC(165.5,ONCONUM,54.2,"I")
"RTN","ONCTPC4",112,0)
 S HT=$S((HT=0)!(HT=7):"No",(HT=1)!(HT=2)!(HT=3):"Yes",1:"Unknown")
"RTN","ONCTPC4",113,0)
 W !,"  THYROID HORMONE THERAPY............: ",HT
"RTN","ONCTPC4",114,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC4",115,0)
 G EXIT
"RTN","ONCTPC4",116,0)
JUMP ;Jump to prompts
"RTN","ONCTPC4",117,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC4",118,0)
 I X["?" D  G JUMP
"RTN","ONCTPC4",119,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC4",120,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC4",121,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC4",122,0)
 S X=TABLE(X)
"RTN","ONCTPC4",123,0)
 G @X
"RTN","ONCTPC4",124,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCTPC4",125,0)
 K CDS,CDS1,CDS2,CDSDT,CHEMO,DOFCT,HT,LOS,NCDS,NCDS1,NCDS2,NCDSDT,NOP,RAD
"RTN","ONCTPC4",126,0)
 K RADDT
"RTN","ONCTPC4",127,0)
 Q
"RTN","ONCTPC5")
0^364^B10087071
"RTN","ONCTPC5",1,0)
ONCTPC5 ;HIRMFO/GWB - PCE Study of Thyroid Cancer - Table V;7/22/96
"RTN","ONCTPC5",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC5",3,0)
 K TABLE,HTABLE S OUT=""
"RTN","ONCTPC5",4,0)
 S TABLE("DATE OF FIRST RECURRENCE")="DOFR"
"RTN","ONCTPC5",5,0)
 S TABLE("TYPE OF FIRST RECURRENCE")="TOFR"
"RTN","ONCTPC5",6,0)
 S TABLE("OTHER TYPE OF FIRST RECURRENCE")="OTOFR"
"RTN","ONCTPC5",7,0)
 S TABLE("SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION")="STFROP"
"RTN","ONCTPC5",8,0)
 S TABLE("DISTANT SITE(S) OF FIRST RECURRENCE")="DSOFR"
"RTN","ONCTPC5",9,0)
 S HTABLE(1)="DATE OF FIRST RECURRENCE"
"RTN","ONCTPC5",10,0)
 S HTABLE(2)="TYPE OF FIRST RECURRENCE"
"RTN","ONCTPC5",11,0)
 S HTABLE(3)="OTHER TYPE OF FIRST RECURRENCE"
"RTN","ONCTPC5",12,0)
 S HTABLE(4)="SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION"
"RTN","ONCTPC5",13,0)
 S HTABLE(5)="DISTANT SITE(S) OF FIRST RECURRENCE"
"RTN","ONCTPC5",14,0)
 S CHOICES=5
"RTN","ONCTPC5",15,0)
 W @IOF D HEAD^ONCTPC0 W !?15,"TABLE V - FIRST RECURRENCE AND SUBSEQUENT TREATMENT",!
"RTN","ONCTPC5",16,0)
DOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC5",17,0)
 S DR="70DATE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",18,0)
TOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC5",19,0)
 S DR="71TYPE OF FIRST RECURRENCE......" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",20,0)
OTOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC5",21,0)
 S DR="71.4OTHER TYPE OF FIRST RECURRENCE" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",22,0)
STFROP W !!,"SUBSEQUENT TREATMENT FOR RECURRENCE OR PROGRESSION:"
"RTN","ONCTPC5",23,0)
 I '$D(^ONCO(165.5,ONCONUM,4,0)) W !!,"NO SUBSEQUENT TREATMENT" G DSOFR
"RTN","ONCTPC5",24,0)
 I $O(^ONCO(165.5,ONCONUM,4,0))="" W !!,"NO SUBSEQUENT TREATMENT" G DSOFR
"RTN","ONCTPC5",25,0)
 I $D(^ONCO(165.5,ONCONUM,4,0)) S SCTIEN=0 F CRSE=1:1 S SCTIEN=$O(^ONCO(165.5,ONCONUM,4,SCTIEN)) Q:(SCTIEN'>0)!(CRSE=4)!(OUT="Y")  D SS Q:$D(Y)
"RTN","ONCTPC5",26,0)
 G:OUT="Y" EXIT G DSOFR
"RTN","ONCTPC5",27,0)
SS S ID=$P(^ONCO(165.5,ONCONUM,4,SCTIEN,0),U,1)
"RTN","ONCTPC5",28,0)
 S Y=ID D DATEOT^ONCOPCE S ID=Y
"RTN","ONCTPC5",29,0)
 S COURSE=$S(CRSE=1:"SECOND",CRSE=2:"THIRD",CRSE=3:"FOURTH",1:"")
"RTN","ONCTPC5",30,0)
 W !!,"  ",COURSE," COURSE:",!
"RTN","ONCTPC5",31,0)
 W !,"  DATE...........: ",ID
"RTN","ONCTPC5",32,0)
 S DIE="^ONCO(165.5,"_ONCONUM_",4,",DA(1)=ONCONUM,DA=SCTIEN
"RTN","ONCTPC5",33,0)
 S DR=".04  SURGERY........" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",34,0)
 S DR=".05  RADIATION......" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",35,0)
 S DR=".06  CHEMOTHERAPY..." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",36,0)
 S DR=".07  HORMONE THERAPY" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",37,0)
 S DR=".09  OTHER.........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",38,0)
 Q
"RTN","ONCTPC5",39,0)
DSOFR S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC5",40,0)
 W !!,"DISTANT SITE(S) OF RECURRENCE:",!
"RTN","ONCTPC5",41,0)
 S DR="71.1  RECURRENCE SITE 1..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",42,0)
 I X=0 D  G PRTC
"RTN","ONCTPC5",43,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,4)=0
"RTN","ONCTPC5",44,0)
 .W !,"  RECURRENCE SITE 2...........: None"
"RTN","ONCTPC5",45,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,5)=0
"RTN","ONCTPC5",46,0)
 .W !,"  RECURRENCE SITE 3...........: None"
"RTN","ONCTPC5",47,0)
 S DR="71.2  RECURRENCE SITE 2..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",48,0)
 I X=0 D  G PRTC
"RTN","ONCTPC5",49,0)
 .S $P(^ONCO(165.5,ONCONUM,5),U,5)=0
"RTN","ONCTPC5",50,0)
 .W !,"  RECURRENCE SITE 3...........: None"
"RTN","ONCTPC5",51,0)
 S DR="71.3  RECURRENCE SITE 3..........." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC5",52,0)
PRTC W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC5",53,0)
 G EXIT
"RTN","ONCTPC5",54,0)
JUMP ;Jump to prompts
"RTN","ONCTPC5",55,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC5",56,0)
 I X["?" D  G JUMP
"RTN","ONCTPC5",57,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC5",58,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC5",59,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC5",60,0)
 S X=TABLE(X)
"RTN","ONCTPC5",61,0)
 G @X
"RTN","ONCTPC5",62,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCTPC5",63,0)
 K ID
"RTN","ONCTPC5",64,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCTPC5",65,0)
 Q
"RTN","ONCTPC6")
0^365^B5416628
"RTN","ONCTPC6",1,0)
ONCTPC6 ;HIRMFO/GWB - PCE Study of Thyroid Cancer - Table VI;7/22/96
"RTN","ONCTPC6",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC6",3,0)
 K TABLE,HTABLE
"RTN","ONCTPC6",4,0)
 S TABLE("DATE OF LAST CONTACT OR DEATH")="DLC"
"RTN","ONCTPC6",5,0)
 S TABLE("VITAL STATUS")="VS"
"RTN","ONCTPC6",6,0)
 S TABLE("CANCER STATUS")="CS"
"RTN","ONCTPC6",7,0)
 S TABLE("AUTOPSY")="A"
"RTN","ONCTPC6",8,0)
 S TABLE("COMPLETED BY")="CB"
"RTN","ONCTPC6",9,0)
 S TABLE("REVIEWED BY CANCER COMMITTEE")="RBCC"
"RTN","ONCTPC6",10,0)
 S HTABLE(1)="DATE OF LAST CONTACT OR DEATH"
"RTN","ONCTPC6",11,0)
 S HTABLE(2)="VITAL STATUS"
"RTN","ONCTPC6",12,0)
 S HTABLE(3)="CANCER STATUS"
"RTN","ONCTPC6",13,0)
 S HTABLE(4)="AUTOPSY"
"RTN","ONCTPC6",14,0)
 S HTABLE(5)="COMPLETED BY"
"RTN","ONCTPC6",15,0)
 S HTABLE(6)="REVIEWED BY CANCER COMMITTEE"
"RTN","ONCTPC6",16,0)
 S CHOICES=6
"RTN","ONCTPC6",17,0)
 W @IOF D HEAD^ONCTPC0 W !?23,"TABLE VI - STATUS AT LAST CONTACT",!
"RTN","ONCTPC6",18,0)
DLC S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCTPC6",19,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCTPC6",20,0)
 W !,"DATE OF LAST CONTACT OR DEATH: ",DLC
"RTN","ONCTPC6",21,0)
VS S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCTPC6",22,0)
 S DR="15VITAL STATUS................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC6",23,0)
 I X=1 S $P(^ONCO(165.5,ONCONUM,7),U,14)=0
"RTN","ONCTPC6",24,0)
CS S CS="" I $D(^ONCO(165.5,ONCONUM,"TS","AA")) D
"RTN","ONCTPC6",25,0)
 .S CSDAT=$O(^ONCO(165.5,ONCONUM,"TS","AA",""))
"RTN","ONCTPC6",26,0)
 .S CSIEN=$O(^ONCO(165.5,ONCONUM,"TS","AA",CSDAT,""))
"RTN","ONCTPC6",27,0)
 .S CSPNT=$P(^ONCO(165.5,ONCONUM,"TS",CSIEN,0),U,2)
"RTN","ONCTPC6",28,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCTPC6",29,0)
 W !,"CANCER STATUS................: ",CS
"RTN","ONCTPC6",30,0)
A S DIE="^ONCO(160,",DA=ONCONUM
"RTN","ONCTPC6",31,0)
 S DR="22.9AUTOPSY......................" D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC6",32,0)
CB S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC6",33,0)
 S DR="81COMPLETED BY................." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC6",34,0)
RBCC S DIE="^ONCO(165.5,",DA=ONCONUM
"RTN","ONCTPC6",35,0)
 S DR="82REVIEWED BY CANCER COMMITTEE." D ^DIE G:$D(Y) JUMP
"RTN","ONCTPC6",36,0)
 W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC6",37,0)
 G EXIT
"RTN","ONCTPC6",38,0)
JUMP ;Jump to prompts
"RTN","ONCTPC6",39,0)
 S XX="" R !!,"GO TO: ",X:DTIME I (X="")!(X[U) S OUT="Y" G EXIT
"RTN","ONCTPC6",40,0)
 I X["?" D  G JUMP
"RTN","ONCTPC6",41,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC6",42,0)
 I '$D(TABLE(X)) S XX=X,X=$O(TABLE(X)) I ($P(X,XX,1)'="")!(X="") W *7,"??" D  G JUMP
"RTN","ONCTPC6",43,0)
 .W !,"CHOOSE FROM:" F I=1:1:CHOICES W !,?5,HTABLE(I)
"RTN","ONCTPC6",44,0)
 S X=TABLE(X)
"RTN","ONCTPC6",45,0)
 G @X
"RTN","ONCTPC6",46,0)
EXIT K CHOICES,HTABLE,TABLE
"RTN","ONCTPC6",47,0)
 K CS,CSDAT,CSIEN,CSPNT,DLC
"RTN","ONCTPC6",48,0)
 K DA,DIE,DIR,DIROUT,DIRUT,DR,DTOUT,DUOUT,X,XX,Y
"RTN","ONCTPC6",49,0)
 Q
"RTN","ONCTPC8")
0^366^B44121595
"RTN","ONCTPC8",1,0)
ONCTPC8 ;Hines OIFO/GWB -PCE Study of Thyroid Cancer ;05/30/00
"RTN","ONCTPC8",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC8",3,0)
 ;Print
"RTN","ONCTPC8",4,0)
 K IOP,%ZIS S %ZIS="MQ" W ! D ^%ZIS K %ZIS,IOP G:POP KILL
"RTN","ONCTPC8",5,0)
 I $D(IO("Q")) S ONCOLST="ONCONUM^ONCOPA^PATNAM^SPACES^TOPNAM^SSN^TOPTAB^TOPCOD^DASHES^SITTAB^SITEGP" D TASK G KILL
"RTN","ONCTPC8",6,0)
 U IO D PRT D ^%ZISC K %ZIS,IOP G KILL
"RTN","ONCTPC8",7,0)
PRT S PG=0,EX="",LIN=$S(IOST?1"C".E:IOSL-2,1:IOSL-6),IEN=ONCONUM
"RTN","ONCTPC8",8,0)
 D NOW^%DTC S ONDATE=%,Y=ONDATE X ^DD("DD") S ONDATE=Y
"RTN","ONCTPC8",9,0)
 K DIQ S DIC="^ONCO(160,",DR="9;15;22.9",DA=ONCOPA,DIQ="ONC" D EN^DIQ1
"RTN","ONCTPC8",10,0)
 S DR=".04;.05;.06;.1;.12;3;9;18;20;22;24;26;29;32;33;34;34.1;34.2;37.1;37.2;37.3;38;19;50;51;51.2;53.2;54.2;58.1;58.2;58.3;59;70;71;71.1;71.2;71.3;71.4;81;82;85;86;87;88;89;308;400:446"
"RTN","ONCTPC8",11,0)
 S DIC="^ONCO(165.5,",DA=ONCONUM,DIQ="ONC" D EN^DIQ1
"RTN","ONCTPC8",12,0)
I S TABLE="TABLE I - GENERAL INFORMATION"
"RTN","ONCTPC8",13,0)
 D HDR W !?25,TABLE,!
"RTN","ONCTPC8",14,0)
 S D0=ONCOPA D DOB1^ONCOES S Y=X D DATEOT^ONCOPCE S DOB=Y
"RTN","ONCTPC8",15,0)
 W !,"ACCESSION NUMBER..................: ",ONC(165.5,IEN,.05) D P Q:EX=U
"RTN","ONCTPC8",16,0)
 W !,"SEQUENCE NUMBER...................: ",ONC(165.5,IEN,.06) D P Q:EX=U
"RTN","ONCTPC8",17,0)
 W !,"POSTAL CODE AT DIAGNOSIS..........: ",ONC(165.5,IEN,9) D P Q:EX=U
"RTN","ONCTPC8",18,0)
 W !,"DATE OF BIRTH.....................: ",DOB D P Q:EX=U
"RTN","ONCTPC8",19,0)
 W !,"RACE..............................: ",ONC(165.5,IEN,.12) D P Q:EX=U
"RTN","ONCTPC8",20,0)
 W !,"SPANISH ORIGIN....................: ",ONC(160,ONCOPA,9) D P Q:EX=U
"RTN","ONCTPC8",21,0)
 W !,"SEX...............................: ",ONC(165.5,IEN,.1) D P Q:EX=U
"RTN","ONCTPC8",22,0)
 W !,"PRIMARY PAYER AT DIAGNOSIS........: ",ONC(165.5,IEN,18) D P Q:EX=U
"RTN","ONCTPC8",23,0)
 W !,"FAMILY HISTORY OF THYROID CANCER..: ",ONC(165.5,IEN,400)
"RTN","ONCTPC8",24,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G PHNTC
"RTN","ONCTPC8",25,0)
 D P Q:EX=U
"RTN","ONCTPC8",26,0)
PHNTC W !!,"PERSONAL HISTORY OF NON-THYROID CANCER:" D P Q:EX=U
"RTN","ONCTPC8",27,0)
 W ! D P Q:EX=U
"RTN","ONCTPC8",28,0)
 W !,"  LYMPHOMA........................: ",ONC(165.5,IEN,401) D P Q:EX=U
"RTN","ONCTPC8",29,0)
 W !,"  CHILDHOOD MALIGNANCY............: ",ONC(165.5,IEN,402) D P Q:EX=U
"RTN","ONCTPC8",30,0)
 W !,"  OTHER...........................: ",ONC(165.5,IEN,308) D P Q:EX=U
"RTN","ONCTPC8",31,0)
 W ! D P Q:EX=U
"RTN","ONCTPC8",32,0)
 W !,"PRIOR EXPOSURE TO RADIATION.......: ",ONC(165.5,IEN,403) D P Q:EX=U
"RTN","ONCTPC8",33,0)
 W !,"PERSONAL HISTORY OF GOITER........: ",ONC(165.5,IEN,404) D P Q:EX=U
"RTN","ONCTPC8",34,0)
 W !,"FAMILY HISTORY OF THYROID DISEASE.: ",ONC(165.5,IEN,405) D P Q:EX=U
"RTN","ONCTPC8",35,0)
 W !,"PERSONAL HISTORY OF GRAVES DISEASE: ",ONC(165.5,IEN,406) D P Q:EX=U
"RTN","ONCTPC8",36,0)
 W !,"PERSONAL HISTORY OF THYROIDITIS...: ",ONC(165.5,IEN,406)
"RTN","ONCTPC8",37,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G II
"RTN","ONCTPC8",38,0)
 D P Q:EX=U
"RTN","ONCTPC8",39,0)
II S TABLE="TABLE II - INITIAL DIAGNOSIS/CANCER IDENTIFICATION"
"RTN","ONCTPC8",40,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCTPC8",41,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8",42,0)
 W !,"CLASS OF CASE.....................: ",ONC(165.5,IEN,.04) D P Q:EX=U
"RTN","ONCTPC8",43,0)
 W !!,"SYMPTOMS/SIGNS PRESENT:",! D P Q:EX=U
"RTN","ONCTPC8",44,0)
 W !,"  DYSPHAGIA.......................: ",ONC(165.5,IEN,408) D P Q:EX=U
"RTN","ONCTPC8",45,0)
 W !,"  HOARSENESS OR VOICE CHANGE......: ",ONC(165.5,IEN,409) D P Q:EX=U
"RTN","ONCTPC8",46,0)
 W !,"  NECK NODAL MASS.................: ",ONC(165.5,IEN,410) D P Q:EX=U
"RTN","ONCTPC8",47,0)
 W !,"  PAIN, BONE......................: ",ONC(165.5,IEN,411) D P Q:EX=U
"RTN","ONCTPC8",48,0)
 W !,"  PAIN, NECK......................: ",ONC(165.5,IEN,412) D P Q:EX=U
"RTN","ONCTPC8",49,0)
 W !,"  PATHOLOGIC FRACTURE.............: ",ONC(165.5,IEN,413) D P Q:EX=U
"RTN","ONCTPC8",50,0)
 W !,"  STRIDOR/DIFFICULTY BREATHING....: ",ONC(165.5,IEN,414) D P Q:EX=U
"RTN","ONCTPC8",51,0)
 W !,"  THYROID MASS....................: ",ONC(165.5,IEN,415) D P Q:EX=U
"RTN","ONCTPC8",52,0)
 W !,"  WEIGHT LOSS.....................: ",ONC(165.5,IEN,416) D P Q:EX=U
"RTN","ONCTPC8",53,0)
 W !,"  OTHER...........................: ",ONC(165.5,IEN,417)
"RTN","ONCTPC8",54,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DSW
"RTN","ONCTPC8",55,0)
 D P Q:EX=U
"RTN","ONCTPC8",56,0)
DSW W !!,"DIAGNOISTIC/SURGICAL WORKUP:",! D P Q:EX=U
"RTN","ONCTPC8",57,0)
 W !,"  BONE SCAN.......................: ",ONC(165.5,IEN,418) D P Q:EX=U
"RTN","ONCTPC8",58,0)
 W !,"  CHEST X-RAY.....................: ",ONC(165.5,IEN,419) D P Q:EX=U
"RTN","ONCTPC8",59,0)
 W !,"  CT SCAN OF NECK.................: ",ONC(165.5,IEN,420) D P Q:EX=U
"RTN","ONCTPC8",60,0)
 W !,"  CT SCAN OF CHEST................: ",ONC(165.5,IEN,421) D P Q:EX=U
"RTN","ONCTPC8",61,0)
 W !,"  INCISIONAL BIOPSY...............: ",ONC(165.5,IEN,422) D P Q:EX=U
"RTN","ONCTPC8",62,0)
 W !,"  LARYNGOSCOPY....................: ",ONC(165.5,IEN,423) D P Q:EX=U
"RTN","ONCTPC8",63,0)
 W !,"  NECK X-RAY (AP & LATERAL........: ",ONC(165.5,IEN,424) D P Q:EX=U
"RTN","ONCTPC8",64,0)
 W !,"  NEEDLE ASPIRATION OF NECK NODE..: ",ONC(165.5,IEN,425) D P Q:EX=U
"RTN","ONCTPC8",65,0)
 W !,"  NEEDLE ASPIRATION OF THYROID....: ",ONC(165.5,IEN,426) D P Q:EX=U
"RTN","ONCTPC8",66,0)
 W !,"  MRI OF NECK.....................: ",ONC(165.5,IEN,427) D P Q:EX=U
"RTN","ONCTPC8",67,0)
 W !,"  THYROID SCAN....................: ",ONC(165.5,IEN,428) D P Q:EX=U
"RTN","ONCTPC8",68,0)
 W !,"  ULTRASOUND OF THYROID...........: ",ONC(165.5,IEN,429) D P Q:EX=U
"RTN","ONCTPC8",69,0)
 W !,"  OTHER...........................: ",ONC(165.5,IEN,430)
"RTN","ONCTPC8",70,0)
 I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G DOID
"RTN","ONCTPC8",71,0)
 D P Q:EX=U
"RTN","ONCTPC8",72,0)
DOID W !!,"DATE OF INITIAL DIAGNOSIS.........: ",ONC(165.5,IEN,3) D P Q:EX=U
"RTN","ONCTPC8",73,0)
 W !,"PRIMARY SITE (ICD-O-2)............: ",TOPCOD," ",ONC(165.5,IEN,20)
"RTN","ONCTPC8",74,0)
 W !,"HISTOLOGY/BEHAVIOR CODE (ICD-O-2).: ",ONC(165.5,IEN,22) D P Q:EX=U
"RTN","ONCTPC8",75,0)
 W !,"GRADE.............................: ",ONC(165.5,IEN,24) D P Q:EX=U
"RTN","ONCTPC8",76,0)
 W !,"BLOOD VESSEL INVASION.............: ",ONC(165.5,IEN,431) D P Q:EX=U
"RTN","ONCTPC8",77,0)
 W !,"EXTRA-THYROIDAL EXTENSION.........: ",ONC(165.5,IEN,432) D P Q:EX=U
"RTN","ONCTPC8",78,0)
 W !,"DIAGNOSTIC CONFIRMATION...........: ",ONC(165.5,IEN,26)
"RTN","ONCTPC8",79,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G III
"RTN","ONCTPC8",80,0)
 D P Q:EX=U
"RTN","ONCTPC8",81,0)
III S TABLE="TABLE III - EXTENT OF DISEASE AND AJCC STAGE"
"RTN","ONCTPC8",82,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR
"RTN","ONCTPC8",83,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8",84,0)
 W !,"SIZE OF TUMOR (mm)................: ",ONC(165.5,IEN,29) D P Q:EX=U
"RTN","ONCTPC8",85,0)
 W !,"MULTIFOCAL........................: ",ONC(165.5,IEN,433) D P Q:EX=U
"RTN","ONCTPC8",86,0)
 W !,"REGIONAL NODES EXAMINED...........: ",ONC(165.5,IEN,33) D P Q:EX=U
"RTN","ONCTPC8",87,0)
 W !,"REGIONAL NODES POSITIVE...........: ",ONC(165.5,IEN,32) D P Q:EX=U
"RTN","ONCTPC8",88,0)
 W !,"LOCATION OF POSITIVE NODES........: ",ONC(165.5,IEN,434) D P Q:EX=U
"RTN","ONCTPC8",89,0)
 W !!,"SITE(S) OF DISTANT METASTASIS:",! D P Q:EX=U
"RTN","ONCTPC8",90,0)
 W !,"  SITE OF DISTANT METASTASIS #1...: ",ONC(165.5,IEN,34) D P Q:EX=U
"RTN","ONCTPC8",91,0)
 W !,"  SITE OF DISTANT METASTASIS #2...: ",ONC(165.5,IEN,34.1) D P Q:EX=U
"RTN","ONCTPC8",92,0)
 W !,"  SITE OF DISTANT METASTASIS #3...: ",ONC(165.5,IEN,34.2)
"RTN","ONCTPC8",93,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G AJCCCS
"RTN","ONCTPC8",94,0)
 D P Q:EX=U
"RTN","ONCTPC8",95,0)
AJCCCS W !!,"AJCC CLINICAL STAGE (cTNM):",! D P Q:EX=U
"RTN","ONCTPC8",96,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,37.1) D P Q:EX=U
"RTN","ONCTPC8",97,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,37.2) D P Q:EX=U
"RTN","ONCTPC8",98,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,37.3) D P Q:EX=U
"RTN","ONCTPC8",99,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,38) D P Q:EX=U
"RTN","ONCTPC8",100,0)
AJCCPS W !!,"AJCC PATHOLOGIC STAGE (pTNM):",! D P Q:EX=U
"RTN","ONCTPC8",101,0)
 W !,"  T-CODE........................: ",ONC(165.5,IEN,85) D P Q:EX=U
"RTN","ONCTPC8",102,0)
 W !,"  N-CODE........................: ",ONC(165.5,IEN,86) D P Q:EX=U
"RTN","ONCTPC8",103,0)
 W !,"  M-CODE........................: ",ONC(165.5,IEN,87) D P Q:EX=U
"RTN","ONCTPC8",104,0)
 W !,"  AJCC STAGE....................: ",ONC(165.5,IEN,88)
"RTN","ONCTPC8",105,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR W !?15,TABLE_" (continued)" G SB
"RTN","ONCTPC8",106,0)
 D P Q:EX=U
"RTN","ONCTPC8",107,0)
SB W !!,"STAGED BY:",! D P Q:EX=U
"RTN","ONCTPC8",108,0)
 W !,"  CLINICAL STAGE................: ",ONC(165.5,IEN,19) D P Q:EX=U
"RTN","ONCTPC8",109,0)
 W !,"  PATHOLOGIC STAGE..............: ",ONC(165.5,IEN,89)
"RTN","ONCTPC8",110,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR G IV
"RTN","ONCTPC8",111,0)
 D P Q:EX=U
"RTN","ONCTPC8",112,0)
IV D ^ONCTPC8A
"RTN","ONCTPC8",113,0)
KILL ;Kill Variables and Exit
"RTN","ONCTPC8",114,0)
 K CDS,CDSOT,CS,CSDAT,CSIEN,CSPNT,DLC,DOB,DOIT,FIL,LIN,LOS,NCDS
"RTN","ONCTPC8",115,0)
 K NCDSIEN,NCDSOT,ONC,ONDATE,PG,SURG,SURG1,SURG2,SURGDT,TABLE
"RTN","ONCTPC8",116,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCTPC8",117,0)
 Q
"RTN","ONCTPC8",118,0)
P ;Print
"RTN","ONCTPC8",119,0)
 I ($Y'<(LIN-1)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCTPC8",120,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCTPC8",121,0)
 .D HDR Q
"RTN","ONCTPC8",122,0)
 Q
"RTN","ONCTPC8",123,0)
TASK ;Queue a task
"RTN","ONCTPC8",124,0)
 K IO("Q"),ZTUCI,ZTDTH,ZTIO,ZTSAVE
"RTN","ONCTPC8",125,0)
 S ZTRTN="PRT^ONCTPC8",ZTREQ="@",ZTSAVE("ZTREQ")=""
"RTN","ONCTPC8",126,0)
 S ZTDESC="Print Thyroid PCE"
"RTN","ONCTPC8",127,0)
 F V2=1:1 S V1=$P(ONCOLST,"^",V2) Q:V1=""  S ZTSAVE(V1)=""
"RTN","ONCTPC8",128,0)
 D ^%ZTLOAD D ^%ZISC U IO W !,"Request Queued",!
"RTN","ONCTPC8",129,0)
 K V1,V2,ONCOLST,ZTSK Q
"RTN","ONCTPC8",130,0)
HDR ;Header
"RTN","ONCTPC8",131,0)
 W @IOF S PG=PG+1 N BLANKS S $P(BLANKS," ",SITTAB-$L(PATNAM)-4)=" "
"RTN","ONCTPC8",132,0)
 W " ",PATNAM,BLANKS,SITEGP,!,?1,SSN,?TOPTAB-3,TOPNAM," ",TOPCOD
"RTN","ONCTPC8",133,0)
 W $S($L(PG)=2:" ",1:"  "),PG,!,DASHES
"RTN","ONCTPC8",134,0)
 W !?20," PCE Study of Thyroid Cancer"
"RTN","ONCTPC8",135,0)
 W ?59,ONDATE,!,DASHES
"RTN","ONCTPC8",136,0)
 Q
"RTN","ONCTPC8A")
0^367^B27301984
"RTN","ONCTPC8A",1,0)
ONCTPC8A ;HIRMFO/GWB -PCE Study of Thyroid Cancer -Print (continued) ;8/15/96
"RTN","ONCTPC8A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTPC8A",3,0)
 S TABLE="TABLE IV - FIRST COURSE OF TREATMENT"
"RTN","ONCTPC8A",4,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCTPC8
"RTN","ONCTPC8A",5,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8A",6,0)
 S D0=ONCONUM D DFC^ONCOCOM S DOIT=Y
"RTN","ONCTPC8A",7,0)
 W !,"FIRST COURSE TREATMENT DATE.......: ",DOIT D P Q:EX=U
"RTN","ONCTPC8A",8,0)
 W !!,"SURGERY:",! D P Q:EX=U
"RTN","ONCTPC8A",9,0)
 S NCDS=ONC(165.5,IEN,58.1)
"RTN","ONCTPC8A",10,0)
 S (NCDS1,NCDS2)="",LOS=$L(NCDS) I LOS<45 S NCDS1=NCDS G CDS
"RTN","ONCTPC8A",11,0)
 S NOP=$L($E(NCDS,1,41)," ")
"RTN","ONCTPC8A",12,0)
 S NCDS1=$P(NCDS," ",1,NOP-1),NCDS2=$P(NCDS," ",NOP,999)
"RTN","ONCTPC8A",13,0)
CDS S CDS=ONC(165.5,IEN,58.2)
"RTN","ONCTPC8A",14,0)
 S (CDS1,CDS2)="",LOS=$L(CDS) I LOS<45 S CDS1=CDS G S
"RTN","ONCTPC8A",15,0)
 S NOP=$L($E(CDS,1,41)," ")
"RTN","ONCTPC8A",16,0)
 S CDS1=$P(CDS," ",1,NOP-1),CDS2=$P(CDS," ",NOP,999)
"RTN","ONCTPC8A",17,0)
S W !,"  NON CANCER-DIRECTED SURGERY DATE: ",ONC(165.5,IEN,58.3) D P Q:EX=U
"RTN","ONCTPC8A",18,0)
 W !,"  NON CANCER-DIRECTED SURGERY.....: ",NCDS1 W:NCDS2'="" !,?39,NCDS2 D P Q:EX=U
"RTN","ONCTPC8A",19,0)
 W !,"  SURGERY OF PRIMARY SITE DATE....: ",ONC(165.5,IEN,50) D P Q:EX=U
"RTN","ONCTPC8A",20,0)
 W !,"  DISCHARGE AFTER SURGERY DATE....: ",ONC(165.5,IEN,435) D P Q:EX=U
"RTN","ONCTPC8A",21,0)
 W !,"  SURGERY OF PRIMARY SITE.........: ",CDS1 W:CDS2'="" !,?39,CDS2
"RTN","ONCTPC8A",22,0)
 W !,"  RESIDUAL PRIMARY TUMOR..........: ",ONC(165.5,IEN,59)
"RTN","ONCTPC8A",23,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" G SC
"RTN","ONCTPC8A",24,0)
 D P Q:EX=U
"RTN","ONCTPC8A",25,0)
SC W !!,"  SURGICAL COMPLICATIONS:",! D P Q:EX=U
"RTN","ONCTPC8A",26,0)
 W !,"    AIRWAY PROBLEM W TRACHEOSTOMY.: ",ONC(165.5,IEN,436) D P Q:EX=U
"RTN","ONCTPC8A",27,0)
 W !,"    BLEEDING HEMOTOMA.............: ",ONC(165.5,IEN,437) D P Q:EX=U
"RTN","ONCTPC8A",28,0)
 W !,"    HYPOCALCEMIA..................: ",ONC(165.5,IEN,438) D P Q:EX=U
"RTN","ONCTPC8A",29,0)
 W !,"    RECURRENT NERVE INJURY........: ",ONC(165.5,IEN,439) D P Q:EX=U
"RTN","ONCTPC8A",30,0)
 W !,"    WOUND INFECTION...............: ",ONC(165.5,IEN,440) D P Q:EX=U
"RTN","ONCTPC8A",31,0)
 W !!,"  POSTOPERATIVE DEATH W/I 30 DAYS.: ",ONC(165.5,IEN,441)
"RTN","ONCTPC8A",32,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" G R
"RTN","ONCTPC8A",33,0)
 D P Q:EX=U
"RTN","ONCTPC8A",34,0)
R W !!,"RADIATION:",! D P Q:EX=U
"RTN","ONCTPC8A",35,0)
 W !,"  DATE RADIATION STARTED..........: ",ONC(165.5,IEN,51) D P Q:EX=U
"RTN","ONCTPC8A",36,0)
 W !,"  RADIATION ......................: ",ONC(165.5,IEN,51.2) D P Q:EX=U
"RTN","ONCTPC8A",37,0)
 W !,"  REGIONAL RAD (cGy) DOSE.........: ",ONC(165.5,IEN,442) D P Q:EX=U
"RTN","ONCTPC8A",38,0)
 W !,"  BOOST DOSAGE....................: ",ONC(165.5,IEN,443) D P Q:EX=U
"RTN","ONCTPC8A",39,0)
 W !!,"  TOTAL MILLICURIES (mCi) OF RADIOIODINE:",! D P Q:EX=U
"RTN","ONCTPC8A",40,0)
 W !,"    INITIAL DOSE..................: ",ONC(165.5,IEN,444) D P Q:EX=U
"RTN","ONCTPC8A",41,0)
 W !,"    SECOND DOSE...................: ",ONC(165.5,IEN,445)
"RTN","ONCTPC8A",42,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" G C
"RTN","ONCTPC8A",43,0)
 D P Q:EX=U
"RTN","ONCTPC8A",44,0)
C W !!,"CHEMOTHERAPY:",! D P Q:EX=U
"RTN","ONCTPC8A",45,0)
 W !,"  CHEMOTHERAPY....................: ",ONC(165.5,IEN,53.2) D P Q:EX=U
"RTN","ONCTPC8A",46,0)
 W !,"  ADJUVANT CHEMO W BEAM RADIATION.: ",ONC(165.5,IEN,446) D P Q:EX=U
"RTN","ONCTPC8A",47,0)
 W !!,"HORMONE THERAPY:",! D P Q:EX=U
"RTN","ONCTPC8A",48,0)
 W !,"  THYROID HORMONE THERAPY.........: ",ONC(165.5,IEN,54.2)
"RTN","ONCTPC8A",49,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 G V
"RTN","ONCTPC8A",50,0)
 D P Q:EX=U
"RTN","ONCTPC8A",51,0)
V S TABLE="TABLE V - FIRST RECURRENCE AND SUBSEQUENT TREATMENT"
"RTN","ONCTPC8A",52,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCTPC8
"RTN","ONCTPC8A",53,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8A",54,0)
 W !,"DATE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,70) D P Q:EX=U
"RTN","ONCTPC8A",55,0)
 W !,"TYPE OF FIRST RECURRENCE..........: ",ONC(165.5,IEN,71) D P Q:EX=U
"RTN","ONCTPC8A",56,0)
 W !,"OTHER TYPE OF FIRST RECURRENCE....: ",ONC(165.5,IEN,71.4) D P Q:EX=U
"RTN","ONCTPC8A",57,0)
ST I $D(^ONCO(165.5,IEN,4,0)) S SCTIEN=0 F CRSE=1:1 S SCTIEN=$O(^ONCO(165.5,IEN,4,SCTIEN)) Q:(SCTIEN'>0)!(CRSE=4)!(EX=U)  D SCT
"RTN","ONCTPC8A",58,0)
 G:EX=U KILL G DSOFR
"RTN","ONCTPC8A",59,0)
SCT S DIC="^ONCO(165.5,",DR=60,DA=IEN,DIQ="ONC"
"RTN","ONCTPC8A",60,0)
 S DR(165.51)=".01:32",DA(165.51)=SCTIEN D EN^DIQ1
"RTN","ONCTPC8A",61,0)
 S SURG=ONC(165.51,SCTIEN,.04),(SURG1,SURG2)=""
"RTN","ONCTPC8A",62,0)
 S LOS=$L(SURG) I LOS<62 S SURG1=SURG G TOS
"RTN","ONCTPC8A",63,0)
 S NOP=$L($E(SURG,1,61)," ")
"RTN","ONCTPC8A",64,0)
 S SURG1=$P(SURG," ",1,NOP-1),SURG2=$P(SURG," ",NOP,999)
"RTN","ONCTPC8A",65,0)
TOS S COURSE=$S(CRSE=1:"SECOND",CRSE=2:"THIRD",CRSE=3:"FOURTH",1:"")
"RTN","ONCTPC8A",66,0)
 W !!,"  ",COURSE," COURSE:",! D P Q:EX=U
"RTN","ONCTPC8A",67,0)
 W !,"  DATE...........: ",ONC(165.51,SCTIEN,.01) D P Q:EX=U
"RTN","ONCTPC8A",68,0)
 W !,"  SURGERY........: ",SURG1 W:SURG2'="" !,?22,SURG2 D P Q:EX=U
"RTN","ONCTPC8A",69,0)
 D P Q:EX=U
"RTN","ONCTPC8A",70,0)
 W !,"  RADIATION......: ",ONC(165.51,SCTIEN,.05) D P Q:EX=U
"RTN","ONCTPC8A",71,0)
 W !,"  CHEMOTHERAPY...: ",ONC(165.51,SCTIEN,.06) D P Q:EX=U
"RTN","ONCTPC8A",72,0)
 W !,"  HORMONE THERAPY: ",ONC(165.51,SCTIEN,.07)
"RTN","ONCTPC8A",73,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 W !?15,TABLE_" (continued)" Q
"RTN","ONCTPC8A",74,0)
 D P Q:EX=U
"RTN","ONCTPC8A",75,0)
 Q
"RTN","ONCTPC8A",76,0)
DSOFR W !!,"DISTANT SITE(S) OF FIRST RECURRENCE:",!
"RTN","ONCTPC8A",77,0)
 W !,"RECURRENCE SITE 1.................: ",ONC(165.5,IEN,71.1) D P Q:EX=U
"RTN","ONCTPC8A",78,0)
 W !,"RECURRENCE SITE 2.................: ",ONC(165.5,IEN,71.2) D P Q:EX=U
"RTN","ONCTPC8A",79,0)
 W !,"RECURRENCE SITE 3.................: ",ONC(165.5,IEN,71.3)
"RTN","ONCTPC8A",80,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR Q:'Y  D HDR^ONCTPC8 G VI
"RTN","ONCTPC8A",81,0)
 D P Q:EX=U
"RTN","ONCTPC8A",82,0)
VI S TABLE="TABLE VI - STATUS AT LAST CONTACT"
"RTN","ONCTPC8A",83,0)
 I IOST'?1"C".E W ! I ($Y'<(LIN-4)) D HDR^ONCTPC8
"RTN","ONCTPC8A",84,0)
 W !?15,TABLE,! D P Q:EX=U
"RTN","ONCTPC8A",85,0)
 S DLC="" I $D(^ONCO(160,ONCOPA,"F","B")) S DLC=$O(^ONCO(160,ONCOPA,"F","B",""),-1)
"RTN","ONCTPC8A",86,0)
 I DLC'="" S Y=DLC D DATEOT^ONCOPCE S DLC=Y
"RTN","ONCTPC8A",87,0)
 W !,"DATE OF LAST CONTACT OR DEATH.....: ",DLC
"RTN","ONCTPC8A",88,0)
 W !,"VITAL STATUS......................: ",ONC(160,ONCOPA,15) D P Q:EX=U
"RTN","ONCTPC8A",89,0)
 S CS="" I $D(^ONCO(165.5,IEN,"TS","AA")) D
"RTN","ONCTPC8A",90,0)
 .S CSDAT=$O(^ONCO(165.5,IEN,"TS","AA",""))
"RTN","ONCTPC8A",91,0)
 .S CSIEN=$O(^ONCO(165.5,IEN,"TS","AA",CSDAT,""))
"RTN","ONCTPC8A",92,0)
 .S CSPNT=$P(^ONCO(165.5,IEN,"TS",CSIEN,0),U,2)
"RTN","ONCTPC8A",93,0)
 .S CS=$P(^ONCO(164.42,CSPNT,0),U,1)
"RTN","ONCTPC8A",94,0)
 W !,"CANCER STATUS.....................: ",CS
"RTN","ONCTPC8A",95,0)
 W !,"AUTOPSY...........................: ",$E(ONC(160,ONCOPA,22.9),1,43) D P Q:EX=U
"RTN","ONCTPC8A",96,0)
 W !!,"COMPLETED BY......................: ",ONC(165.5,IEN,81) D P Q:EX=U
"RTN","ONCTPC8A",97,0)
 W !,"REVIEWED BY CANCER COMMITTEE......: ",ONC(165.5,IEN,82) D P Q:EX=U
"RTN","ONCTPC8A",98,0)
 I IOST?1"C".E W ! K DIR S DIR(0)="E" D ^DIR
"RTN","ONCTPC8A",99,0)
KILL ;Kill Variables and Exit
"RTN","ONCTPC8A",100,0)
 K %,DIR,DIROUT,DIRUT,DTOUT,DUOUT,FILN,ONCOBL,EX,TXT,X,Y,SCTIEN
"RTN","ONCTPC8A",101,0)
 Q
"RTN","ONCTPC8A",102,0)
P ;Display Data
"RTN","ONCTPC8A",103,0)
 I ($Y'<(LIN-4)) D  Q:EX=U  W !?15,TABLE_" (continued)",!
"RTN","ONCTPC8A",104,0)
 .I IOST?1"C".E K DIR S DIR(0)="E" D ^DIR I 'Y S EX=U Q
"RTN","ONCTPC8A",105,0)
 .D HDR^ONCTPC8 Q
"RTN","ONCTPC8A",106,0)
 Q
"RTN","ONCTXSM")
0^368^B19167802
"RTN","ONCTXSM",1,0)
ONCTXSM ;Hines OIFO/GWB - Treatment Summary ;06/23/10
"RTN","ONCTXSM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCTXSM",3,0)
 ;
"RTN","ONCTXSM",4,0)
 N COC,DFCODE,DFSP,DFTXT,DIC,DR,DA,DIQ,LEN,RRDF,SCG,SITE,SUB,SURGPS,TPG
"RTN","ONCTXSM",5,0)
 S SAVEY=Y
"RTN","ONCTXSM",6,0)
 K ONC
"RTN","ONCTXSM",7,0)
 D CHECKCC
"RTN","ONCTXSM",8,0)
 D DEFAULT
"RTN","ONCTXSM",9,0)
 S DR="49:58.7;124;133;346;560"
"RTN","ONCTXSM",10,0)
 S DIC="^ONCO(165.5,"
"RTN","ONCTXSM",11,0)
 S DA=D0,DIQ="ONC(" D EN^DIQ1
"RTN","ONCTXSM",12,0)
 W !," Date of 1st course of tx....: ",$E(ONC(165.5,D0,49),1,6)_$E(ONC(165.5,D0,49),9,10)
"RTN","ONCTXSM",13,0)
 S DFSP=$$DS^ONCACDU2(D0)
"RTN","ONCTXSM",14,0)
 W !," Date of 1st Surgical Proc...: ",$E(DFSP,1,2)_"/"_$E(DFSP,3,4)_"/"_$E(DFSP,7,8)
"RTN","ONCTXSM",15,0)
 S TXT=ONC(165.5,D0,58.6),LEN=40 D TXT^ONCPTX
"RTN","ONCTXSM",16,0)
 W !," Surgery of primary site F...: ",$E(ONC(165.5,D0,50),1,6)_$E(ONC(165.5,D0,50),9,10),?40,TXT1
"RTN","ONCTXSM",17,0)
 W:TXT2'="" !,?43,TXT2
"RTN","ONCTXSM",18,0)
 S TXT=ONC(165.5,D0,58.7),LEN=40 D TXT^ONCPTX
"RTN","ONCTXSM",19,0)
 I DATEDX>2971231 D
"RTN","ONCTXSM",20,0)
 .W !," Surgery of primary site @fac F: ",$E(ONC(165.5,D0,50.3),1,6)_$E(ONC(165.5,D0,50.3),9,10),?40,TXT1
"RTN","ONCTXSM",21,0)
 .W:TXT2'="" !,?43,TXT2
"RTN","ONCTXSM",22,0)
 W !," Radiation...................: ",$E(ONC(165.5,D0,51),1,6)_$E(ONC(165.5,D0,51),9,10),?40,ONC(165.5,D0,51.2)
"RTN","ONCTXSM",23,0)
 W:DATEDX>2971231 !," Radiation @fac..............: ",$E(ONC(165.5,D0,51.5),1,6)_$E(ONC(165.5,D0,51.5),9,10),?40,ONC(165.5,DA,51.4)
"RTN","ONCTXSM",24,0)
 W:DATEDX<2960000 !," Radiation therapy to CNS....: ",$E(ONC(165.5,D0,52),1,6)_$E(ONC(165.5,D0,52),9,10),?40,ONC(165.5,D0,52.2)
"RTN","ONCTXSM",25,0)
 W !," Chemotherapy................: ",$E(ONC(165.5,D0,53),1,6)_$E(ONC(165.5,D0,53),9,10),?40,ONC(165.5,D0,53.2)
"RTN","ONCTXSM",26,0)
 W:DATEDX>2971231 !," Chemotherapy @fac...........: ",$E(ONC(165.5,D0,53.4),1,6)_$E(ONC(165.5,D0,53.4),9,10),?40,ONC(165.5,DA,53.3)
"RTN","ONCTXSM",27,0)
 W !," Hormone therapy.............: ",$E(ONC(165.5,D0,54),1,6)_$E(ONC(165.5,D0,54),9,10),?40,ONC(165.5,D0,54.2)
"RTN","ONCTXSM",28,0)
 W:DATEDX>2971231 !," Hormone therapy @fac........: ",$E(ONC(165.5,D0,54.4),1,6)_$E(ONC(165.5,D0,54.4),9,10),?40,ONC(165.5,DA,54.3)
"RTN","ONCTXSM",29,0)
 W !," Immunotherapy...............: ",$E(ONC(165.5,D0,55),1,6)_$E(ONC(165.5,D0,55),9,10),?40,ONC(165.5,D0,55.2)
"RTN","ONCTXSM",30,0)
 W:DATEDX>2971231 !," Immunotherapy @fac..........: ",$E(ONC(165.5,D0,55.4),1,6)_$E(ONC(165.5,D0,55.4),9,10),?40,ONC(165.5,DA,55.3)
"RTN","ONCTXSM",31,0)
 W !," Other treatment.............: ",$E(ONC(165.5,D0,57),1,6)_$E(ONC(165.5,D0,57),9,10),?40,ONC(165.5,D0,57.2)
"RTN","ONCTXSM",32,0)
 W:DATEDX>2971231 !," Other treatment @fac........: ",$E(ONC(165.5,D0,57.4),1,6)_$E(ONC(165.5,D0,57.4),9,10),?40,ONC(165.5,DA,57.3)
"RTN","ONCTXSM",33,0)
 W !,DASHES
"RTN","ONCTXSM",34,0)
 K TXT,TXT1,TXT2
"RTN","ONCTXSM",35,0)
 K DIR S DIR(0)="E" D ^DIR I Y=0 S Y="@0" K SAVEY Q
"RTN","ONCTXSM",36,0)
 S Y=SAVEY K SAVEY
"RTN","ONCTXSM",37,0)
 Q
"RTN","ONCTXSM",38,0)
 ;
"RTN","ONCTXSM",39,0)
CHECKCC ;Check CLASS OF CASE
"RTN","ONCTXSM",40,0)
 S DATEDX=$P($G(^ONCO(165.5,DA,0)),U,16) I DATEDX<2980000 Q
"RTN","ONCTXSM",41,0)
 S COC=$E($$GET1^DIQ(165.5,DA,.04),1,2)
"RTN","ONCTXSM",42,0)
 I (COC="00")!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=40)!(COC=41) D
"RTN","ONCTXSM",43,0)
 .S $P(^ONCO(165.5,DA,3.1),U,11)="00"
"RTN","ONCTXSM",44,0)
 .F PP=7,9,10 S $P(^ONCO(165.5,DA,3.1),U,PP)=1
"RTN","ONCTXSM",45,0)
 .F PP=12:2:20 S $P(^ONCO(165.5,DA,3.1),U,PP)=0
"RTN","ONCTXSM",46,0)
 .F PP=8,13:2:25 S $P(^ONCO(165.5,DA,3.1),U,PP)="0000000"
"RTN","ONCTXSM",47,0)
 I (COC=20)!(COC=21)!(COC=22)!(COC=30)!(COC=31)!(COC=32)!(COC=33)!(COC=36)!(COC=37) D
"RTN","ONCTXSM",48,0)
 .S $P(^ONCO(165.5,DA,3.1),U,5)="00"
"RTN","ONCTXSM",49,0)
 .S $P(^ONCO(165.5,DA,3.1),U,6)="0000000"
"RTN","ONCTXSM",50,0)
 K PP Q
"RTN","ONCTXSM",51,0)
 ;
"RTN","ONCTXSM",52,0)
DEFAULT ;RECONSTRUCTION/RESTORATION (165.5,23) default
"RTN","ONCTXSM",53,0)
 S RRDF="",SURGPS=$P($G(^ONCO(165.5,D0,3.1)),U,29),CONTFLG=0
"RTN","ONCTXSM",54,0)
 S SITE=$P($G(^ONCO(165.5,D0,0)),U,1)
"RTN","ONCTXSM",55,0)
 D SETVARS I TPG="" Q
"RTN","ONCTXSM",56,0)
 I (SITE=35)!($$LEUKEMIA^ONCOAIP2(D0))!((SITE>65)&(SITE<70)) D  Q
"RTN","ONCTXSM",57,0)
 .S RRDF="NA"
"RTN","ONCTXSM",58,0)
 I DATEDX<2980000,SURGPS="00" S CONTFLG=1
"RTN","ONCTXSM",59,0)
 I DATEDX>2971231,SURGPS=1 S CONTFLG=1
"RTN","ONCTXSM",60,0)
 I CONTFLG=0 Q
"RTN","ONCTXSM",61,0)
 S RRDF="No reconstruction/restoration"
"RTN","ONCTXSM",62,0)
 I SCG=67141!(SCG=67250)!(SCG=67422)!(SCG=67700)!(SCG=67739)!(SCG=67770) S RRDF="NA"
"RTN","ONCTXSM",63,0)
 Q
"RTN","ONCTXSM",64,0)
 ;
"RTN","ONCTXSM",65,0)
RRDEFIT ;Special default code for field #23 called from input transform
"RTN","ONCTXSM",66,0)
 I X="No reconstruction/restoration" S X=0 Q
"RTN","ONCTXSM",67,0)
 I X="NA"!(X["Unknown; not stated") S X=9 Q
"RTN","ONCTXSM",68,0)
 Q
"RTN","ONCTXSM",69,0)
SPSDFIT ;Special default code for field #50.2 called from input transform
"RTN","ONCTXSM",70,0)
 D SETVARS I TPG="" Q
"RTN","ONCTXSM",71,0)
 I X?1.2N Q
"RTN","ONCTXSM",72,0)
 F SUB=0:0 S SUB=$O(^ONCO(164,SCG,"SPS",SUB)) Q:SUB'>0!(DFCODE'="")  D
"RTN","ONCTXSM",73,0)
 .I DFTXT=$P($G(^ONCO(164,SCG,"SPS",SUB,0)),U,1) S DFCODE=SUB Q
"RTN","ONCTXSM",74,0)
 S X=DFCODE,SPSFLG=1 Q
"RTN","ONCTXSM",75,0)
SCPDFIT ;Special default code for field #138.1 called from input transform
"RTN","ONCTXSM",76,0)
 D SETVARS I TPG="" Q
"RTN","ONCTXSM",77,0)
 I X?1N Q
"RTN","ONCTXSM",78,0)
 F SUB=0:0 S SUB=$O(^ONCO(164,SCG,"SC5",SUB)) Q:SUB'>0!(DFCODE'="")  D
"RTN","ONCTXSM",79,0)
 .I DFTXT=$P($G(^ONCO(164,SCG,"SC5",SUB,0)),U,1) S DFCODE=SUB Q
"RTN","ONCTXSM",80,0)
 S X=DFCODE,SCPFLG=1 Q
"RTN","ONCTXSM",81,0)
 Q
"RTN","ONCTXSM",82,0)
NUMDFIT ;Special default code for field #140.1 called from input transform
"RTN","ONCTXSM",83,0)
 S X=+X
"RTN","ONCTXSM",84,0)
 Q
"RTN","ONCTXSM",85,0)
SOSDFIT ;Special default code for field #139.1 called from input transform
"RTN","ONCTXSM",86,0)
 D SETVARS I TPG="" Q
"RTN","ONCTXSM",87,0)
 I X?1.2N Q
"RTN","ONCTXSM",88,0)
 F SUB=0:0 S SUB=$O(^ONCO(164,SCG,"SO5",SUB)) Q:SUB'>0!(DFCODE'="")  D
"RTN","ONCTXSM",89,0)
 .I DFTXT=$P($G(^ONCO(164,SCG,"SO5",SUB,0)),U,1) S DFCODE=SUB Q
"RTN","ONCTXSM",90,0)
 S X=DFCODE,SOSFLG=1 Q
"RTN","ONCTXSM",91,0)
 Q
"RTN","ONCTXSM",92,0)
SETVARS ;
"RTN","ONCTXSM",93,0)
 S SCG="",TPG=$P($G(^ONCO(165.5,D0,2)),U,1) I TPG="" Q
"RTN","ONCTXSM",94,0)
 S SCG=$P($G(^ONCO(164,TPG,0)),U,16)
"RTN","ONCTXSM",95,0)
 S DFTXT=X,DFCODE=""
"RTN","ONCTXSM",96,0)
 Q
"RTN","ONCTXSM",97,0)
 ;
"RTN","ONCTXSM",98,0)
CLEANUP ;Cleanup
"RTN","ONCTXSM",99,0)
 K CONTFLG,D0,DASHES,DATEDX,SCPFLG,SOSFLG,SPSFLG,X,Y
"RTN","ONCUTX")
0^369^B37076017
"RTN","ONCUTX",1,0)
ONCUTX ;Hines OIFO/GWB - Unknown treatment stuffing ;06/23/10
"RTN","ONCUTX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCUTX",3,0)
 ;
"RTN","ONCUTX",4,0)
NCDS ;SURGICAL DX/STAGING PROC (165.5,58.1)
"RTN","ONCUTX",5,0)
 S $P(^ONCO(165.5,D0,3),U,31)=9999999
"RTN","ONCUTX",6,0)
 W !,"SURGICAL DX/STAGING PROC DATE: 99/99/9999" D NCDSDT^ONCATF
"RTN","ONCUTX",7,0)
 Q
"RTN","ONCUTX",8,0)
 ;
"RTN","ONCUTX",9,0)
SURR ;SURGERY OF PRIMARY (R) (165.5,58.2)
"RTN","ONCUTX",10,0)
 N SA,SCG,TOP
"RTN","ONCUTX",11,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" Q
"RTN","ONCUTX",12,0)
 S SCG=$P($G(^ONCO(164,TOP,0)),U,16) I SCG="" Q
"RTN","ONCUTX",13,0)
 S:$E(SCG,3,4)=77 SCG=67422
"RTN","ONCUTX",14,0)
 S SA=$O(^ONCO(164,SCG,"SUA","C",9,0))
"RTN","ONCUTX",15,0)
 S $P(^ONCO(165.5,D0,3),U,34)=SA
"RTN","ONCUTX",16,0)
 N DIC,DIQ,DR K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",17,0)
 S DR=74 D EN^DIQ1
"RTN","ONCUTX",18,0)
 W !,"SURGICAL APPROACH...........(R): "_ONC(165.5,DA,74,"E")
"RTN","ONCUTX",19,0)
 Q
"RTN","ONCUTX",20,0)
 ;
"RTN","ONCUTX",21,0)
SUR ;SURGERY OF PRIMARY (F) (165.5,58.6)
"RTN","ONCUTX",22,0)
 N SCG,TOP,TSDT,TXDT
"RTN","ONCUTX",23,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,1)_"S1"
"RTN","ONCUTX",24,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",25,0)
 S $P(^ONCO(165.5,DA,3),U,1)=9999999 D SPSDT^ONCATF
"RTN","ONCUTX",26,0)
 S ^ONCO(165.5,"ATX",DA,"9999999S1")=""
"RTN","ONCUTX",27,0)
 S TOP=$P($G(^ONCO(165.5,D0,2)),U,1) I TOP="" Q
"RTN","ONCUTX",28,0)
 S SCG=$P($G(^ONCO(164,TOP,0)),U,16) I SCG="" Q
"RTN","ONCUTX",29,0)
 ;S:DATEDX>3091231 $P(^ONCO(165.5,D0,2.3),U,4)=9
"RTN","ONCUTX",30,0)
 S $P(^ONCO(165.5,D0,3),U,28)=9
"RTN","ONCUTX",31,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,36)=9999999
"RTN","ONCUTX",32,0)
 S $P(^ONCO(165.5,D0,3.1),U,28)=9
"RTN","ONCUTX",33,0)
 N DIC,DIQ,DR K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",34,0)
 S DR="50;74;59;23;138;435;14;234" D EN^DIQ1
"RTN","ONCUTX",35,0)
 W !,"MOST DEFINITIVE SURG DATE......: "_ONC(165.5,DA,50,"E")
"RTN","ONCUTX",36,0)
 ;W:DATEDX>3091231 !,"APPROACH.......................: "_$E(ONC(165.5,DA,234,"E"),1,40)
"RTN","ONCUTX",37,0)
 W !,"SURGICAL MARGINS...............: "_$E(ONC(165.5,DA,59,"E"),1,40)
"RTN","ONCUTX",38,0)
 W !,"DATE OF SURGICAL DISCHARGE.....: "_ONC(165.5,DA,435,"E")
"RTN","ONCUTX",39,0)
 W !,"READMISSION W/I 30 DAYS/SURG...: "_ONC(165.5,DA,14,"E")
"RTN","ONCUTX",40,0)
 Q
"RTN","ONCUTX",41,0)
 ;
"RTN","ONCUTX",42,0)
NODER ;SCOPE OF LN SURGERY (R) (165.5,138)
"RTN","ONCUTX",43,0)
 S $P(^ONCO(165.5,D0,3),U,42)=99 D NUMND^ONCATF
"RTN","ONCUTX",44,0)
 N DR S DR=140 D DIQ1^ONCNTX
"RTN","ONCUTX",45,0)
 W !,"NUMBER OF LN REMOVED........(R): "_ONC(165.5,DA,140,"E")
"RTN","ONCUTX",46,0)
 Q
"RTN","ONCUTX",47,0)
 ;
"RTN","ONCUTX",48,0)
NODE ;SCOPE OF LN SURGERY (F) (165.5,138.4)
"RTN","ONCUTX",49,0)
 N TXDT
"RTN","ONCUTX",50,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,22)_"S2"
"RTN","ONCUTX",51,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",52,0)
 S $P(^ONCO(165.5,D0,3.1),U,22)="0000000" D SCPDT^ONCATF
"RTN","ONCUTX",53,0)
 S ^ONCO(165.5,"ATX",DA,"0000000S2")=""
"RTN","ONCUTX",54,0)
 N DR S DR=138.2 D DIQ1^ONCNTX
"RTN","ONCUTX",55,0)
 W !,"SCOPE OF LN SURGERY DATE.......: "_ONC(165.5,DA,138.2,"E")
"RTN","ONCUTX",56,0)
 Q
"RTN","ONCUTX",57,0)
 ;
"RTN","ONCUTX",58,0)
SOSN ;SURG PROC/OTHER SITE DATE (165.5,139.2)
"RTN","ONCUTX",59,0)
 N TXDT
"RTN","ONCUTX",60,0)
 S TXDT=$P($G(^ONCO(165.5,DA,3.1)),U,24)_"S3"
"RTN","ONCUTX",61,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",62,0)
 S $P(^ONCO(165.5,D0,3.1),U,24)=9999999 D SOSNDT^ONCATF
"RTN","ONCUTX",63,0)
 S ^ONCO(165.5,"ATX",DA,"9999999S3")=""
"RTN","ONCUTX",64,0)
 N DR S DR="139.2" D DIQ1^ONCNTX
"RTN","ONCUTX",65,0)
 W !,"SURGICAL PROC/OTHER SITE DATE..: "_ONC(165.5,DA,139.2,"E")
"RTN","ONCUTX",66,0)
 Q
"RTN","ONCUTX",67,0)
 ;
"RTN","ONCUTX",68,0)
RAD ;Radiation
"RTN","ONCUTX",69,0)
 N RFNR,TXDT
"RTN","ONCUTX",70,0)
 S RFNR=$P($G(^ONCO(165.5,DA,3)),U,35)
"RTN","ONCUTX",71,0)
 I RFNR=8 D ^ONCRFNR G RAD1
"RTN","ONCUTX",72,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,4)_"R"
"RTN","ONCUTX",73,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",74,0)
 S $P(^ONCO(165.5,DA,3),U,4)=9999999 D RADDT^ONCATF1
"RTN","ONCUTX",75,0)
 S ^ONCO(165.5,"ATX",DA,"9999999R")=""
"RTN","ONCUTX",76,0)
RAD1 S $P(^ONCO(165.5,DA,3),U,22)=9
"RTN","ONCUTX",77,0)
 S $P(^ONCO(165.5,DA,3),U,21)=42
"RTN","ONCUTX",78,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,18)=19
"RTN","ONCUTX",79,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,43)=99999
"RTN","ONCUTX",80,0)
 S $P(^ONCO(165.5,DA,24),U,9)=19
"RTN","ONCUTX",81,0)
 S $P(^ONCO(165.5,DA,"THY1"),U,44)=99999
"RTN","ONCUTX",82,0)
 S $P(^ONCO(165.5,DA,3),U,20)=999
"RTN","ONCUTX",83,0)
 S $P(^ONCO(165.5,DA,"BLA2"),U,16)=9999999
"RTN","ONCUTX",84,0)
 N DIC,DIQ K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",85,0)
 N DR S DR="51;126;125;363;442;363.1;443;56;361" D EN^DIQ1
"RTN","ONCUTX",86,0)
 W !,"DATE RADIATION STARTED.........: ",ONC(165.5,DA,51,"E")
"RTN","ONCUTX",87,0)
 W !,"LOCATION OF RADIATION..........: ",ONC(165.5,DA,126,"E")
"RTN","ONCUTX",88,0)
 W !,"RADIATION TREATMENT VOLUME.....: ",ONC(165.5,DA,125,"E")
"RTN","ONCUTX",89,0)
 W !,"REGIONAL TREATMENT MODALITY....: ",ONC(165.5,DA,363,"E")
"RTN","ONCUTX",90,0)
 W !,"REGIONAL DOSE:cGy..............: ",ONC(165.5,DA,442,"E")
"RTN","ONCUTX",91,0)
 W !,"BOOST TREATMENT MODALITY.......: ",ONC(165.5,DA,363.1,"E")
"RTN","ONCUTX",92,0)
 W !,"BOOST DOSE:cGy.................: ",ONC(165.5,DA,443,"E")
"RTN","ONCUTX",93,0)
 W !,"NUMBER OF TREATMENTS...........: ",ONC(165.5,DA,56,"E")
"RTN","ONCUTX",94,0)
 W !,"DATE RADIATION ENDED...........: ",ONC(165.5,DA,361,"E")
"RTN","ONCUTX",95,0)
 K ONC,TXDT Q
"RTN","ONCUTX",96,0)
 ;
"RTN","ONCUTX",97,0)
CHE ;Chemotherapy
"RTN","ONCUTX",98,0)
 N TXDT
"RTN","ONCUTX",99,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,11)_"C"
"RTN","ONCUTX",100,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",101,0)
 I X=88 D
"RTN","ONCUTX",102,0)
 .S $P(^ONCO(165.5,DA,3),U,11)=8888888 D CHEMDT^ONCATF1
"RTN","ONCUTX",103,0)
 .S ^ONCO(165.5,"ATX",DA,"8888888C")=""
"RTN","ONCUTX",104,0)
 I X=99 D
"RTN","ONCUTX",105,0)
 .S $P(^ONCO(165.5,DA,3),U,11)=9999999 D CHEMDT^ONCATF1
"RTN","ONCUTX",106,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999C")=""
"RTN","ONCUTX",107,0)
 N DIC,DIQ,DR K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",108,0)
 S DR=53
"RTN","ONCUTX",109,0)
 D EN^DIQ1
"RTN","ONCUTX",110,0)
 W !,"CHEMOTHERAPY DATE..............: "_ONC(165.5,DA,53,"E")
"RTN","ONCUTX",111,0)
 K ONC Q
"RTN","ONCUTX",112,0)
 ;
"RTN","ONCUTX",113,0)
HOR ;Hormone therapy
"RTN","ONCUTX",114,0)
 N TXDT
"RTN","ONCUTX",115,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,14)_"H"
"RTN","ONCUTX",116,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",117,0)
 I X=88 D
"RTN","ONCUTX",118,0)
 .S $P(^ONCO(165.5,DA,3),U,14)=8888888 D HTDT^ONCATF1
"RTN","ONCUTX",119,0)
 .S ^ONCO(165.5,"ATX",DA,"8888888H")=""
"RTN","ONCUTX",120,0)
 I X=99 D
"RTN","ONCUTX",121,0)
 .S $P(^ONCO(165.5,DA,3),U,14)=9999999 D HTDT^ONCATF1
"RTN","ONCUTX",122,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999H")=""
"RTN","ONCUTX",123,0)
 N DIC,DIQ,DR K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",124,0)
 S DR=54 D EN^DIQ1
"RTN","ONCUTX",125,0)
 W !,"HORMONE THERAPY DATE:..........: "_ONC(165.5,DA,54,"E")
"RTN","ONCUTX",126,0)
 K ONC Q
"RTN","ONCUTX",127,0)
 ;
"RTN","ONCUTX",128,0)
IMM ;Immunotherapy
"RTN","ONCUTX",129,0)
 N TXDT
"RTN","ONCUTX",130,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,17)_"B"
"RTN","ONCUTX",131,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",132,0)
 I X=88 D
"RTN","ONCUTX",133,0)
 .S $P(^ONCO(165.5,DA,3),U,17)=8888888 D IMMDT^ONCATF1
"RTN","ONCUTX",134,0)
 .S ^ONCO(165.5,"ATX",DA,"8888888B")=""
"RTN","ONCUTX",135,0)
 I X=99 D
"RTN","ONCUTX",136,0)
 .S $P(^ONCO(165.5,DA,3),U,17)=9999999 D IMMDT^ONCATF1
"RTN","ONCUTX",137,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999B")=""
"RTN","ONCUTX",138,0)
 N DIC,DIQ,DR K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",139,0)
 S DR=55 D EN^DIQ1
"RTN","ONCUTX",140,0)
 W !,"IMMUNOTHERAPY DATE:............: "_ONC(165.5,DA,55,"E")
"RTN","ONCUTX",141,0)
 K ONC Q
"RTN","ONCUTX",142,0)
 ;
"RTN","ONCUTX",143,0)
HTEP ;HEMA TRANS/ENDOCRINE PROC (165.5,153)
"RTN","ONCUTX",144,0)
 N TXDT
"RTN","ONCUTX",145,0)
 S TXDT=$P(^ONCO(165.5,DA,3.1),U,35)_"E"
"RTN","ONCUTX",146,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",147,0)
 I HE=88 D
"RTN","ONCUTX",148,0)
 .S $P(^ONCO(165.5,DA,3.1),U,35)=8888888
"RTN","ONCUTX",149,0)
 .S ^ONCO(165.5,"ATX",DA,"8888888E")=""
"RTN","ONCUTX",150,0)
 I HE=99 D
"RTN","ONCUTX",151,0)
 .S $P(^ONCO(165.5,DA,3.1),U,35)=9999999
"RTN","ONCUTX",152,0)
 .S ^ONCO(165.5,"ATX",DA,"9999999E")=""
"RTN","ONCUTX",153,0)
 N DIC,DIQ,DR,X K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",154,0)
 S DR=153.1 D EN^DIQ1
"RTN","ONCUTX",155,0)
 W !,"HEMA TRANS/ENDOCRINE PROC DATE.: "_ONC(165.5,DA,153.1,"E")
"RTN","ONCUTX",156,0)
 K ONC Q
"RTN","ONCUTX",157,0)
 ;
"RTN","ONCUTX",158,0)
OTH ;Other treatment
"RTN","ONCUTX",159,0)
 N TXDT
"RTN","ONCUTX",160,0)
 S TXDT=$P(^ONCO(165.5,DA,3),U,23)_"O"
"RTN","ONCUTX",161,0)
 K ^ONCO(165.5,"ATX",DA,TXDT)
"RTN","ONCUTX",162,0)
 S $P(^ONCO(165.5,DA,3),U,23)=9999999 D OTHDT^ONCATF1
"RTN","ONCUTX",163,0)
 S ^ONCO(165.5,"ATX",DA,"9999999O")=""
"RTN","ONCUTX",164,0)
 N DIC,DIQ,DR,X K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",165,0)
 S DR="57" D EN^DIQ1
"RTN","ONCUTX",166,0)
 W !,"OTHER TREATMENT DATE:..........: "_ONC(165.5,DA,57,"E")
"RTN","ONCUTX",167,0)
 K ONC Q
"RTN","ONCUTX",168,0)
 ;
"RTN","ONCUTX",169,0)
PRO ;Protocol
"RTN","ONCUTX",170,0)
 S $P(^ONCO(165.5,DA,"STS2"),U,31)=99
"RTN","ONCUTX",171,0)
 S $P(^ONCO(165.5,DA,3.1),U,4)=9999
"RTN","ONCUTX",172,0)
 N DIC,DIQ,DR K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX",173,0)
 S DR="133;560" D EN^DIQ1
"RTN","ONCUTX",174,0)
 W !,"PROTOCOL PARTICIPATION.........: "_ONC(165.5,DA,560,"E")
"RTN","ONCUTX",175,0)
 W !,"YEAR PUT ON PROTOCOL...........: "_ONC(165.5,DA,133,"E")
"RTN","ONCUTX",176,0)
 K ONC Q
"RTN","ONCUTX",177,0)
 ;
"RTN","ONCUTX",178,0)
EXIT ;Exit
"RTN","ONCUTX",179,0)
 W ! S Y="@113"
"RTN","ONCUTX",180,0)
 Q
"RTN","ONCUTX",181,0)
 ;
"RTN","ONCUTX",182,0)
CLEANUP ;Cleanup
"RTN","ONCUTX",183,0)
 K D0,DA,DATEDX,HE,Y
"RTN","ONCUTX1")
0^370^B32335696
"RTN","ONCUTX1",1,0)
ONCUTX1 ;Hines OIFO/RTK; UNKNOWN TREATMENT STUFFING; 09/09/10
"RTN","ONCUTX1",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCUTX1",3,0)
 ;
"RTN","ONCUTX1",4,0)
NCDSATF ;SURG DX/STAGING PROC @FAC (165.5,58.4)
"RTN","ONCUTX1",5,0)
 S $P(^ONCO(165.5,D0,3.1),U,5)="09"
"RTN","ONCUTX1",6,0)
 S $P(^ONCO(165.5,D0,3.1),U,6)=9999999
"RTN","ONCUTX1",7,0)
 S DR="58.4;58.5" D DIQ1^ONCNTX
"RTN","ONCUTX1",8,0)
 W:$D(NTX) !,"SURG DX/STAGING PROC @FAC.....: "_ONC(165.5,DA,58.4,"E")
"RTN","ONCUTX1",9,0)
 W !,"SURG DX/STAGING PROC @FAC DATE: "_ONC(165.5,DA,58.5,"E")
"RTN","ONCUTX1",10,0)
 Q
"RTN","ONCUTX1",11,0)
 ;
"RTN","ONCUTX1",12,0)
SURATFR ;SURGERY OF PRIMARY @FAC (R) (165.5,50.2)
"RTN","ONCUTX1",13,0)
 D SGRP
"RTN","ONCUTX1",14,0)
 I $E(SGRP,3,4)=77 S SGRP=67422
"RTN","ONCUTX1",15,0)
 F SPS=0:0 S SPS=$O(^ONCO(164,SGRP,"SPS",SPS)) Q:$P(^ONCO(164,SGRP,"SPS",SPS,0),U,1)["Unknown;"
"RTN","ONCUTX1",16,0)
 S $P(^ONCO(165.5,DA,3.1),U,7)=$S(DATEDX>2971231:SPS,1:"00")
"RTN","ONCUTX1",17,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX1",18,0)
 S DR=50.2 D EN^DIQ1
"RTN","ONCUTX1",19,0)
 W:$D(NTX) !,"SURGERY OF PRIMARY @FAC.....(R): "_ONC(165.5,DA,50.2,"E")
"RTN","ONCUTX1",20,0)
 Q
"RTN","ONCUTX1",21,0)
 ;
"RTN","ONCUTX1",22,0)
SURATF ;SURGERY OF PRIMARY @FAC (F) (165.5,58.7)
"RTN","ONCUTX1",23,0)
 D SGRP
"RTN","ONCUTX1",24,0)
 F SPS=0:0 S SPS=$O(^ONCO(164,SGRP,"SPS",SPS)) Q:$P(^ONCO(164,SGRP,"SPS",SPS,0),U,1)["Unknown;"
"RTN","ONCUTX1",25,0)
 S $P(^ONCO(165.5,DA,3.1),U,30)=SPS
"RTN","ONCUTX1",26,0)
 S $P(^ONCO(165.5,DA,3.1),U,8)=9999999
"RTN","ONCUTX1",27,0)
 S $P(^ONCO(165.5,DA,2.3),U,4)=9
"RTN","ONCUTX1",28,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX1",29,0)
 S DR="58.7;50.3;234" D EN^DIQ1
"RTN","ONCUTX1",30,0)
 W:$D(NTX) !,"SURGERY OF PRIMARY @FAC.....(F): "_ONC(165.5,DA,58.7,"E")
"RTN","ONCUTX1",31,0)
 W !,"APPROACH.......................: "_ONC(165.5,DA,234,"E")
"RTN","ONCUTX1",32,0)
 W !,"MOST DEFINITIVE SURG @FAC DATE.: "_ONC(165.5,DA,50.3,"E")
"RTN","ONCUTX1",33,0)
 Q
"RTN","ONCUTX1",34,0)
 ;
"RTN","ONCUTX1",35,0)
NODATFR ;SCOPE OF LN SURGERY @FAC (R) (165.5,138.1)
"RTN","ONCUTX1",36,0)
 D SGRP
"RTN","ONCUTX1",37,0)
 I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S SGRP=67141
"RTN","ONCUTX1",38,0)
 F SC=0:0 S SC=$O(^ONCO(164,SGRP,"SC5",SC)) Q:SC="B"  S LAST=SC
"RTN","ONCUTX1",39,0)
 S $P(^ONCO(165.5,DA,3.1),U,9)=LAST
"RTN","ONCUTX1",40,0)
 S $P(^ONCO(165.5,D0,3.1),U,11)=99
"RTN","ONCUTX1",41,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX1",42,0)
 S DR="138.1;140.1" D DIQ1^ONCNTX
"RTN","ONCUTX1",43,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY @FAC....(R): "_ONC(165.5,DA,138.1,"E")
"RTN","ONCUTX1",44,0)
 W !,"NUMBER OF LN REMOVED @FAC...(R): "_ONC(165.5,DA,140.1,"E")
"RTN","ONCUTX1",45,0)
 Q
"RTN","ONCUTX1",46,0)
 ;
"RTN","ONCUTX1",47,0)
NODEATF ;SCOPE OF LN SURGERY @FAC (F) (165.5,138.5)
"RTN","ONCUTX1",48,0)
 D SGRP
"RTN","ONCUTX1",49,0)
 S $P(^ONCO(165.5,DA,3.1),U,32)=9
"RTN","ONCUTX1",50,0)
 S $P(^ONCO(165.5,DA,3.1),U,23)="0000000"
"RTN","ONCUTX1",51,0)
 N DI K ONC S DIC="^ONCO(165.5,",DA=DA,DIQ="ONC(",DIQ(0)="E"
"RTN","ONCUTX1",52,0)
 S DR="138.5;138.3" D DIQ1^ONCNTX
"RTN","ONCUTX1",53,0)
 W:$D(NTX) !,"SCOPE OF LN SURGERY @FAC....(F): "_ONC(165.5,DA,138.5,"E")
"RTN","ONCUTX1",54,0)
 W !,"SCOPE OF LN SURGERY @FAC DATE..: "_ONC(165.5,DA,138.3,"E")
"RTN","ONCUTX1",55,0)
 Q
"RTN","ONCUTX1",56,0)
 ;
"RTN","ONCUTX1",57,0)
SOSATFR ;SURG PROC/OTHER SITE @FAC (R) (165.5,139.1)
"RTN","ONCUTX1",58,0)
 D SGRP
"RTN","ONCUTX1",59,0)
 F SO=0:0 S SO=$O(^ONCO(164,SGRP,"SO5",SO)) Q:SO="B"  S LAST=SO
"RTN","ONCUTX1",60,0)
 S $P(^ONCO(165.5,DA,3.1),U,10)=$S(DATEDX>2971231:LAST,1:"")
"RTN","ONCUTX1",61,0)
 S DR=139.1 D DIQ1^ONCNTX
"RTN","ONCUTX1",62,0)
 W:$D(NTX) !,"SURG PROC/OTHER SIT @FAC...(R): "_ONC(165.5,DA,139.1,"E")
"RTN","ONCUTX1",63,0)
 Q
"RTN","ONCUTX1",64,0)
 ;
"RTN","ONCUTX1",65,0)
SOSNATF ;SURG PROC/OTHER SITE @FAC (F) (165.5,139.5)
"RTN","ONCUTX1",66,0)
 S $P(^ONCO(165.5,DA,3.1),U,34)=9
"RTN","ONCUTX1",67,0)
 S $P(^ONCO(165.5,D0,3.1),U,25)=9999999
"RTN","ONCUTX1",68,0)
 S DR="139.5;139.3" D DIQ1^ONCNTX
"RTN","ONCUTX1",69,0)
 W:$D(NTX) !,"SURGICAL PROC/OTHER SITE @FAC..: "_ONC(165.5,DA,139.5,"E")
"RTN","ONCUTX1",70,0)
 W !,"SURG PROC/OTHER SITE @FAC DATE.: "_ONC(165.5,DA,139.3,"E")
"RTN","ONCUTX1",71,0)
 Q
"RTN","ONCUTX1",72,0)
 ;
"RTN","ONCUTX1",73,0)
RADATF ;RADIATION @FAC (165.5,51.4)
"RTN","ONCUTX1",74,0)
 S $P(^ONCO(165.5,DA,3.1),U,12)=9
"RTN","ONCUTX1",75,0)
 S $P(^ONCO(165.5,DA,3.1),U,13)=9999999
"RTN","ONCUTX1",76,0)
 S DR="51.4;51.5" D DIQ1^ONCNTX
"RTN","ONCUTX1",77,0)
 W:$D(NTX) !,"RADIATION @FAC.................: "_ONC(165.5,DA,51.4,"E")
"RTN","ONCUTX1",78,0)
 W !,"RADIATION @FAC DATE............: ",ONC(165.5,DA,51.5,"E")
"RTN","ONCUTX1",79,0)
 Q
"RTN","ONCUTX1",80,0)
 ;
"RTN","ONCUTX1",81,0)
CHEMATF ;CHEMOTHERAPY @FAC (165.5,53.3)
"RTN","ONCUTX1",82,0)
 I $G(XX)=88 D
"RTN","ONCUTX1",83,0)
 .S $P(^ONCO(165.5,DA,3.1),U,14)=88
"RTN","ONCUTX1",84,0)
 .S $P(^ONCO(165.5,DA,3.1),U,15)=8888888
"RTN","ONCUTX1",85,0)
 I $G(XX)=99 D
"RTN","ONCUTX1",86,0)
 .S $P(^ONCO(165.5,DA,3.1),U,14)=99
"RTN","ONCUTX1",87,0)
 .S $P(^ONCO(165.5,DA,3.1),U,15)=9999999
"RTN","ONCUTX1",88,0)
 S DR="53.3;53.4" D DIQ1^ONCNTX
"RTN","ONCUTX1",89,0)
 W:$D(NTX) !,"CHEMOTHERAPY @FAC..............: "_ONC(165.5,DA,53.3,"E")
"RTN","ONCUTX1",90,0)
 W !,"CHEMOTHERAPY @FAC DATE.........: ",ONC(165.5,DA,53.4,"E")
"RTN","ONCUTX1",91,0)
 Q
"RTN","ONCUTX1",92,0)
 ;
"RTN","ONCUTX1",93,0)
HTATF ;HORMONE THERAPY @FAC (165.5,54.3)
"RTN","ONCUTX1",94,0)
 I $G(XX)=88 D
"RTN","ONCUTX1",95,0)
 .S $P(^ONCO(165.5,DA,3.1),U,16)=88
"RTN","ONCUTX1",96,0)
 .S $P(^ONCO(165.5,DA,3.1),U,17)=8888888
"RTN","ONCUTX1",97,0)
 I $G(XX)=99 D
"RTN","ONCUTX1",98,0)
 .S $P(^ONCO(165.5,DA,3.1),U,16)=99
"RTN","ONCUTX1",99,0)
 .S $P(^ONCO(165.5,DA,3.1),U,17)=9999999
"RTN","ONCUTX1",100,0)
 S DR="54.3;54.4" D DIQ1^ONCNTX
"RTN","ONCUTX1",101,0)
 W:$D(NTX) !,"HORMONE THERAPY @FAC...........: "_ONC(165.5,DA,54.3,"E")
"RTN","ONCUTX1",102,0)
 W !,"HORMONE THERAPY @FAC DATE......: ",ONC(165.5,DA,54.4,"E")
"RTN","ONCUTX1",103,0)
 Q
"RTN","ONCUTX1",104,0)
 ;
"RTN","ONCUTX1",105,0)
IMMATF ;IMMUNOTHERAPY @FAC (165.5,55.3)
"RTN","ONCUTX1",106,0)
 I $G(XX)=88 D
"RTN","ONCUTX1",107,0)
 .S $P(^ONCO(165.5,DA,3.1),U,18)=88
"RTN","ONCUTX1",108,0)
 .S $P(^ONCO(165.5,DA,3.1),U,19)=8888888
"RTN","ONCUTX1",109,0)
 I $G(XX)=99 D
"RTN","ONCUTX1",110,0)
 .S $P(^ONCO(165.5,DA,3.1),U,18)=99
"RTN","ONCUTX1",111,0)
 .S $P(^ONCO(165.5,DA,3.1),U,19)=9999999
"RTN","ONCUTX1",112,0)
 S DR="55.3;55.4" D DIQ1^ONCNTX
"RTN","ONCUTX1",113,0)
 W:$D(NTX) !,"IMMUNOTHERAPY @FAC.............: "_ONC(165.5,DA,55.3,"E")
"RTN","ONCUTX1",114,0)
 W !,"IMMUNOTHERAPY @FAC DATE........: ",ONC(165.5,DA,55.4,"E")
"RTN","ONCUTX1",115,0)
 Q
"RTN","ONCUTX1",116,0)
 ;
"RTN","ONCUTX1",117,0)
OTHATF ;OTHE TREATMENT @FAC (165.5,57.3)
"RTN","ONCUTX1",118,0)
 I $G(X)'=8 S $P(^ONCO(165.5,DA,3.1),U,20)=9
"RTN","ONCUTX1",119,0)
 S $P(^ONCO(165.5,DA,3.1),U,21)=9999999
"RTN","ONCUTX1",120,0)
 S DR="57.3;57.4" D DIQ1^ONCNTX
"RTN","ONCUTX1",121,0)
 W:$D(NTX) !,"OTHER TREATMENT @FAC...........: "_ONC(165.5,DA,57.3,"E")
"RTN","ONCUTX1",122,0)
 W !,"OTHER TREATMENT @FAC DATE......: ",ONC(165.5,DA,57.4,"E")
"RTN","ONCUTX1",123,0)
 Q
"RTN","ONCUTX1",124,0)
 ;
"RTN","ONCUTX1",125,0)
CHKPRIM ;If Primary Site UNKNOWN, BRAIN, HEMATOPOIETIC or LEUKEMIA,
"RTN","ONCUTX1",126,0)
 ;stuff SCOPE OF LN SURGERY (R) (165.5,138) and
"RTN","ONCUTX1",127,0)
 ;      SCOPE OF LN SURGERY (F) (165.5,138.4) with 9s
"RTN","ONCUTX1",128,0)
CHKPRMR ;ROADS
"RTN","ONCUTX1",129,0)
 S SITE=$P(^ONCO(165.5,DA,0),U,1)
"RTN","ONCUTX1",130,0)
 I (SITE=35)!(SITE=58)!(SITE=63)!(SITE=65)!($$LYMPHOMA^ONCFUNC(DA)=1) D
"RTN","ONCUTX1",131,0)
 .D SGRP
"RTN","ONCUTX1",132,0)
 .I ($E(TPG,3,4)=76)!(TPG=67809)!(TPG=67420)!(TPG=67421)!(TPG=67423)!(TPG=67424) S SGRP=67141
"RTN","ONCUTX1",133,0)
 .F SC=0:0 S SC=$O(^ONCO(164,SGRP,"SC5",SC)) Q:SC="B"  S LAST=SC
"RTN","ONCUTX1",134,0)
 .S $P(^ONCO(165.5,DA,3),U,40)=LAST
"RTN","ONCUTX1",135,0)
 .W !,"SCOPE OF LN SURGERY.........(R): ",$P(^ONCO(164,SGRP,"SC5",LAST,0),U)
"RTN","ONCUTX1",136,0)
 .D NODER^ONCUTX W !
"RTN","ONCUTX1",137,0)
 .S NTX=1 D NODATFR K NTX
"RTN","ONCUTX1",138,0)
 .S Y="@139"
"RTN","ONCUTX1",139,0)
 Q
"RTN","ONCUTX1",140,0)
 ;
"RTN","ONCUTX1",141,0)
CHKPRMF ;SCOPE OF LN SURGERY (F) (165.5,138.4) Code 9 stuffing
"RTN","ONCUTX1",142,0)
 ;FORDS pages 138-139
"RTN","ONCUTX1",143,0)
 S TOP=$P($G(^ONCO(165.5,DA,2)),U,1)
"RTN","ONCUTX1",144,0)
 S MO=$$HIST^ONCFUNC(DA)
"RTN","ONCUTX1",145,0)
 I ($E(TOP,1,4)=6770)!($E(TOP,1,4)=6771)!($E(TOP,1,4)=6772)!($E(TOP,1,4)=6776)!(($$LYMPHOMA^ONCFUNC(DA)=1)&($E(TOP,1,4)=6777))!($E(TOP,1,4)=6776)!(TOP=67809)!(TOP=67420)!(TOP=67421)!(TOP=67423)!(TOP=67424)!((MO'<97310)&(MO'>99899)) D
"RTN","ONCUTX1",146,0)
 .S $P(^ONCO(165.5,DA,3.1),U,31)=9
"RTN","ONCUTX1",147,0)
 .W !,"SCOPE OF LN SURGERY.........(F): Unknown/NA"
"RTN","ONCUTX1",148,0)
 .D NODE^ONCUTX W !
"RTN","ONCUTX1",149,0)
 .S NTX=1 D NODEATF K NTX
"RTN","ONCUTX1",150,0)
 .S Y="@46"
"RTN","ONCUTX1",151,0)
 Q
"RTN","ONCUTX1",152,0)
 ;
"RTN","ONCUTX1",153,0)
SGRP S TPG=$P($G(^ONCO(165.5,D0,2)),U,1)
"RTN","ONCUTX1",154,0)
 S SGRP=$P($G(^ONCO(164,TPG,0)),U,16)
"RTN","ONCUTX1",155,0)
 ;pre-2003 C76.0-C76.8, C80.9 cases
"RTN","ONCUTX1",156,0)
 ;see ROADS page D-cxliii
"RTN","ONCUTX1",157,0)
 I DATEDX<3030000,($E(TPG,3,4)=76)!(TPG=67809) S SGRP=67141
"RTN","ONCUTX1",158,0)
 Q
"RTN","ONCUTX1",159,0)
 ;
"RTN","ONCUTX1",160,0)
CLEANUP ;Cleanup
"RTN","ONCUTX1",161,0)
 K D0,DA,DATEDX,DIC,DIQ,DR,LAST,MO,SC,SGRP,SITE,SO,SPS,TOP,TPG,X,XX,Y
"RTN","ONCX")
0^371^B59681
"RTN","ONCX",1,0)
ONCX ;HCIOFO/SG - HTTP AND WEB SERVICES ; 5/14/04 10:59am
"RTN","ONCX",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCX",3,0)
 ;
"RTN","ONCX",4,0)
 ; API ENTRY POINTS ---- DESCRIPTIONS
"RTN","ONCX",5,0)
 ;
"RTN","ONCX",6,0)
 ;   $$GETURL^ONCX10     Gets the data from the provided URL
"RTN","ONCX",7,0)
 ;
"RTN","ONCX",8,0)
 ;       DEMO^ONCXDEM    Demonstartion entry point
"RTN","ONCX",9,0)
 ;
"RTN","ONCX",10,0)
 ; TOOLS --------------- DESCRIPTIONS
"RTN","ONCX",11,0)
 ;
"RTN","ONCX",12,0)
 ;  $$RECEIVE^ONCX10A    Reads the HTTP response
"RTN","ONCX",13,0)
 ;  $$REQUEST^ONCX10A    Sends the HTTP request
"RTN","ONCX",14,0)
 ;
"RTN","ONCX",15,0)
 ; UTILITIES ----------- DESCRIPTIONS
"RTN","ONCX",16,0)
 ;
"RTN","ONCX",17,0)
 ;    $$ERROR^ONCXERR    Generates an error message
"RTN","ONCX",18,0)
 ;      $$MSG^ONCXERR    Returns the text and type of the message
"RTN","ONCX",19,0)
 ;     $$TYPE^ONCXERR    Returns type of the message
"RTN","ONCX",20,0)
 ;
"RTN","ONCX",21,0)
 ;   $$CREATE^ONCXURL    Creates a URL from components
"RTN","ONCX",22,0)
 ;   $$ENCODE^ONCXURL    Encodes the string
"RTN","ONCX",23,0)
 ;    $$PARSE^ONCXURL    Parses the URL into components
"RTN","ONCX",24,0)
 ;     $$PATH^ONCXURL    Default path processing (normalization)
"RTN","ONCX",25,0)
 ;
"RTN","ONCX",26,0)
 ; INITIALS ------------ DEVELOPER
"RTN","ONCX",27,0)
 ;
"RTN","ONCX",28,0)
 ; SG                    Sergey Gavrilov
"RTN","ONCX",29,0)
 ;
"RTN","ONCX",30,0)
 Q
"RTN","ONCX",31,0)
 ;
"RTN","ONCX",32,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCX",33,0)
DEMO ;
"RTN","ONCX",34,0)
 G DEMO^ONCXDEM
"RTN","ONCX10")
0^372^B13422084
"RTN","ONCX10",1,0)
ONCX10 ;HCIOFO/SG - HTTP 1.0 CLIENT ; 6/20/06 9:29am
"RTN","ONCX10",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCX10",3,0)
 ;
"RTN","ONCX10",4,0)
 Q
"RTN","ONCX10",5,0)
 ;
"RTN","ONCX10",6,0)
 ;***** GETS THE DATA FROM THE PROVIDED URL USING HTTP 1.0
"RTN","ONCX10",7,0)
 ;
"RTN","ONCX10",8,0)
 ; URL           URL (http://host:port/path)
"RTN","ONCX10",9,0)
 ;
"RTN","ONCX10",10,0)
 ; [ONC8FLG]     Timeout and flags to control processing
"RTN","ONCX10",11,0)
 ;                 If a value of  this parameter starts from a number 
"RTN","ONCX10",12,0)
 ;                 then this number is used as a value of the timeout 
"RTN","ONCX10",13,0)
 ;                 (in seconds). Otherwise, the default value of 3
"RTN","ONCX10",14,0)
 ;                 seconds is used.
"RTN","ONCX10",15,0)
 ;
"RTN","ONCX10",16,0)
 ; [ONC8RDAT]    Closed root of the variable where the message
"RTN","ONCX10",17,0)
 ;               body is returned. Data is stored in consecutive
"RTN","ONCX10",18,0)
 ;               nodes (numbers starting from 1). If a line is
"RTN","ONCX10",19,0)
 ;               longer than 245 characters, only 245 characters
"RTN","ONCX10",20,0)
 ;               are stored in the corresponding node. After that,
"RTN","ONCX10",21,0)
 ;               overflow sub-nodes are created. For example:
"RTN","ONCX10",22,0)
 ;
"RTN","ONCX10",23,0)
 ;                 @ONC8DATA@(1)="<html>"
"RTN","ONCX10",24,0)
 ;                 @ONC8DATA@(2)="<head><title>VistA</title></head>"
"RTN","ONCX10",25,0)
 ;                 @ONC8DATA@(3)="<body>"
"RTN","ONCX10",26,0)
 ;                 @ONC8DATA@(4)="<p>"
"RTN","ONCX10",27,0)
 ;                 @ONC8DATA@(5)="Beginning of a very long line"
"RTN","ONCX10",28,0)
 ;                 @ONC8DATA@(5,1)="Continuation #1 of the long line"
"RTN","ONCX10",29,0)
 ;                 @ONC8DATA@(5,2)="Continuation #2 of the long line"
"RTN","ONCX10",30,0)
 ;                 @ONC8DATA@(5,...)=...
"RTN","ONCX10",31,0)
 ;                 @ONC8DATA@(6)="</p>"
"RTN","ONCX10",32,0)
 ;                 ...
"RTN","ONCX10",33,0)
 ;
"RTN","ONCX10",34,0)
 ; [.ONC8RHDR]   Reference to a local variable where the parsed
"RTN","ONCX10",35,0)
 ;               headers are returned. Header names are converted to
"RTN","ONCX10",36,0)
 ;               upper case; the values are left "as is". The root
"RTN","ONCX10",37,0)
 ;               node contains the status line. For example:
"RTN","ONCX10",38,0)
 ;
"RTN","ONCX10",39,0)
 ;                 ONC8HDR="HTTP/1.0 200 OK"
"RTN","ONCX10",40,0)
 ;                 ONC8HDR("CACHE-CONTROL")="private"
"RTN","ONCX10",41,0)
 ;                 ONC8HDR("CONNECTION")="Keep-Alive"
"RTN","ONCX10",42,0)
 ;                 ONC8HDR("CONTENT-LENGTH")="2690"
"RTN","ONCX10",43,0)
 ;                 ONC8HDR("CONTENT-TYPE")="text/html"
"RTN","ONCX10",44,0)
 ;                 ONC8HDR("DATE")="Fri, 26 Sep 2003 16:04:10 GMT"
"RTN","ONCX10",45,0)
 ;                 ONC8HDR("SERVER")="GWS/2.1"
"RTN","ONCX10",46,0)
 ;
"RTN","ONCX10",47,0)
 ; [ONC8SDAT]    Closed root of a variable containing body of the
"RTN","ONCX10",48,0)
 ;               request message. Data should be formatted as
"RTN","ONCX10",49,0)
 ;               described earlier (see the ONC8RDAT parameter).
"RTN","ONCX10",50,0)
 ;
"RTN","ONCX10",51,0)
 ;         NOTE: If this parameter is defined, not empty, and the
"RTN","ONCX10",52,0)
 ;               referenced array contains data then the POST request
"RTN","ONCX10",53,0)
 ;               is generated. Otherwise, the GET request is sent.
"RTN","ONCX10",54,0)
 ;
"RTN","ONCX10",55,0)
 ; [.ONC8SHDR]   Reference to a local variable containing header
"RTN","ONCX10",56,0)
 ;               values, which will be added to the request.
"RTN","ONCX10",57,0)
 ;
"RTN","ONCX10",58,0)
 ; [REDIR]       This IS NOT a published parameter. It is used
"RTN","ONCX10",59,0)
 ;               internally to limit number of redirections.
"RTN","ONCX10",60,0)
 ;
"RTN","ONCX10",61,0)
 ; Return values:
"RTN","ONCX10",62,0)
 ;
"RTN","ONCX10",63,0)
 ;       <0  Error Descriptor
"RTN","ONCX10",64,0)
 ;           (see the $$ERROR^ONCXERR for descriptor structure
"RTN","ONCX10",65,0)
 ;            and the MSGLIST^ONCXERR for list of error)
"RTN","ONCX10",66,0)
 ;
"RTN","ONCX10",67,0)
 ;       >0  HTTP Status Code^Description
"RTN","ONCX10",68,0)
 ;
"RTN","ONCX10",69,0)
 ;    Most common HTTP status codes:
"RTN","ONCX10",70,0)
 ;
"RTN","ONCX10",71,0)
 ;      200  Ok
"RTN","ONCX10",72,0)
 ;
"RTN","ONCX10",73,0)
 ;      301  Moved Permanently (The application should either
"RTN","ONCX10",74,0)
 ;           automatically update the URL with the new one from
"RTN","ONCX10",75,0)
 ;           the Location response header or instruct the user
"RTN","ONCX10",76,0)
 ;           how to do this).
"RTN","ONCX10",77,0)
 ;
"RTN","ONCX10",78,0)
 ;      302  Moved Temporarily (The application should continue
"RTN","ONCX10",79,0)
 ;           using the original URL).
"RTN","ONCX10",80,0)
 ;
"RTN","ONCX10",81,0)
 ;           NOTE: You will not see this code for GET requests.
"RTN","ONCX10",82,0)
 ;                 They are redirected automatically.
"RTN","ONCX10",83,0)
 ;
"RTN","ONCX10",84,0)
 ;      303  See Other (The resource has moved to another URL
"RTN","ONCX10",85,0)
 ;           given by the Location response header, and should
"RTN","ONCX10",86,0)
 ;           be automatically retrieved by the client using the
"RTN","ONCX10",87,0)
 ;           GET method. This is often used by a CGI script to
"RTN","ONCX10",88,0)
 ;           redirect the client to an existing file).
"RTN","ONCX10",89,0)
 ;
"RTN","ONCX10",90,0)
 ;           NOTE: You will not see this status code because it
"RTN","ONCX10",91,0)
 ;                 is handled automatically inside the function.
"RTN","ONCX10",92,0)
 ;
"RTN","ONCX10",93,0)
 ;      400  Bad Request
"RTN","ONCX10",94,0)
 ;
"RTN","ONCX10",95,0)
 ;      404  Not Found
"RTN","ONCX10",96,0)
 ;
"RTN","ONCX10",97,0)
 ;      500  Server Error (An unexpected server error. The most
"RTN","ONCX10",98,0)
 ;           common cause is a server-side script that has bad
"RTN","ONCX10",99,0)
 ;           syntax, fails, or otherwise can't run correctly).
"RTN","ONCX10",100,0)
 ;
"RTN","ONCX10",101,0)
 ; See the http://www.faqs.org/rfcs/rfc1945.html for more details.
"RTN","ONCX10",102,0)
 ;
"RTN","ONCX10",103,0)
GETURL(URL,ONC8FLG,ONC8RDAT,ONC8RHDR,ONC8SDAT,ONC8SHDR,REDIR) ;
"RTN","ONCX10",104,0)
 N $ESTACK,$ETRAP,HOST,I,IP,IPADDR,PATH,PORT,RQS,STATUS,X
"RTN","ONCX10",105,0)
 S ONC8FLG=$G(ONC8FLG)  S:ONC8FLG'?1.N.E ONC8FLG="3"_ONC8FLG
"RTN","ONCX10",106,0)
 S I=$$PARSE^ONCXURL(URL,.HOST,.PORT,.PATH)  Q:I<0 I
"RTN","ONCX10",107,0)
 ;--- Check the host name/address
"RTN","ONCX10",108,0)
 I HOST'?1.3N3(1"."1.3N)  D  Q:IPADDR="" $$ERROR^ONCXERR(-2,,HOST)
"RTN","ONCX10",109,0)
 . ;--- Resolve the host name into IP address(es)
"RTN","ONCX10",110,0)
 . S IPADDR=$$ADDRESS^XLFNSLK(HOST)  Q:IPADDR=""
"RTN","ONCX10",111,0)
 . ;--- Check for the Host header value
"RTN","ONCX10",112,0)
 . S I=""
"RTN","ONCX10",113,0)
 . F  S I=$O(ONC8SHDR(I))  Q:(I="")!($$UP^XLFSTR(I)="HOST")
"RTN","ONCX10",114,0)
 . S:I="" ONC8SHDR("Host")=HOST
"RTN","ONCX10",115,0)
 E  S IPADDR=HOST
"RTN","ONCX10",116,0)
 ;--- Connect to the host
"RTN","ONCX10",117,0)
 F I=1:1  S IP=$P(IPADDR,",",I)  Q:IP=""  D  Q:'$G(POP)
"RTN","ONCX10",118,0)
 . D CALL^%ZISTCP(IP,PORT,+ONC8FLG)
"RTN","ONCX10",119,0)
 Q:$G(POP) $$ERROR^ONCXERR(-3,,IPADDR)
"RTN","ONCX10",120,0)
 ;--- Perform the transaction
"RTN","ONCX10",121,0)
 K STATUS  D  S:'$D(STATUS) STATUS=$$ERROR^ONCXERR(-6)
"RTN","ONCX10",122,0)
 . ;--- Setup the error processing
"RTN","ONCX10",123,0)
 . S X="ERRTRAP^ONCX10",@^%ZOSF("TRAP"),$ETRAP=""
"RTN","ONCX10",124,0)
 . ;--- Send the request and get the response
"RTN","ONCX10",125,0)
 . S RQS=$$REQUEST^ONCX10A(PATH,$G(ONC8SDAT),.ONC8SHDR)
"RTN","ONCX10",126,0)
 . I RQS<0  S STATUS=RQS  Q
"RTN","ONCX10",127,0)
 . S STATUS=$$RECEIVE^ONCX10A(+ONC8FLG,$G(ONC8RDAT),.ONC8RHDR)
"RTN","ONCX10",128,0)
 ;--- Close the socket
"RTN","ONCX10",129,0)
 D CLOSE^%ZISTCP
"RTN","ONCX10",130,0)
 ;--- Redirect if requested by the server
"RTN","ONCX10",131,0)
 S I=+STATUS
"RTN","ONCX10",132,0)
 I (I\100)=3  D:$S(I=303:1,I=301:0,1:RQS="GET")
"RTN","ONCX10",133,0)
 . I $G(REDIR)>5  S STATUS=$$ERROR^ONCXERR(-5)  Q
"RTN","ONCX10",134,0)
 . S URL=$G(ONC8RHDR("LOCATION"))
"RTN","ONCX10",135,0)
 . I URL=""  S STATUS=$$ERROR^ONCXERR(-4)  Q
"RTN","ONCX10",136,0)
 . I RQS="POST"  N ONC8SDAT  ; Force the GET request
"RTN","ONCX10",137,0)
 . S STATUS=$$GETURL(URL,ONC8FLG,$G(ONC8RDAT),.ONC8RHDR,$G(ONC8SDAT),.ONC8SHDR,$G(REDIR)+1)
"RTN","ONCX10",138,0)
 ;--- Return the status
"RTN","ONCX10",139,0)
 Q STATUS
"RTN","ONCX10",140,0)
 ;
"RTN","ONCX10",141,0)
ERRTRAP D @^%ZOSF("ERRTN")  Q
"RTN","ONCX10A")
0^373^B32534122
"RTN","ONCX10A",1,0)
ONCX10A ;HCIOFO/SG - HTTP 1.0 CLIENT (TOOLS) ; 8/11/04 8:26am
"RTN","ONCX10A",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCX10A",3,0)
 ;
"RTN","ONCX10A",4,0)
 Q
"RTN","ONCX10A",5,0)
 ;
"RTN","ONCX10A",6,0)
 ;***** APPENDS RECEIVED PIECE OF DATA TO THE DESTINATION BUFFER
"RTN","ONCX10A",7,0)
 ;
"RTN","ONCX10A",8,0)
 ; BUF           Received data
"RTN","ONCX10A",9,0)
 ;
"RTN","ONCX10A",10,0)
 ; [NEWLINE]     Start a new line after appending the data
"RTN","ONCX10A",11,0)
 ;
"RTN","ONCX10A",12,0)
 ; The ONC8BUF, ONC8DST, ONC8IS, ONC8MBL, ONC8PTR, and ONC8SL
"RTN","ONCX10A",13,0)
 ; variables must be properly initialized before calling this
"RTN","ONCX10A",14,0)
 ; procedure (see the $$RECEIVE^ONCX10A for details).
"RTN","ONCX10A",15,0)
 ;
"RTN","ONCX10A",16,0)
APPEND(BUF,NEWLINE) ;
"RTN","ONCX10A",17,0)
 N BASE,L
"RTN","ONCX10A",18,0)
 S L=$L(BUF)  S:$A(BUF,L)=13 L=L-1
"RTN","ONCX10A",19,0)
 ;--- Append the data
"RTN","ONCX10A",20,0)
 I L'<ONC8SL  D
"RTN","ONCX10A",21,0)
 . S ONC8BUF=ONC8BUF_$E(BUF,1,ONC8SL),L=L-ONC8SL
"RTN","ONCX10A",22,0)
 . S BASE=1
"RTN","ONCX10A",23,0)
 . F  D  Q:L'>0
"RTN","ONCX10A",24,0)
 . . I 'ONC8IS  S @ONC8DST@(ONC8PTR)=ONC8BUF
"RTN","ONCX10A",25,0)
 . . E  S @ONC8DST@(ONC8PTR,ONC8IS)=ONC8BUF
"RTN","ONCX10A",26,0)
 . . S BASE=BASE+ONC8SL,ONC8IS=ONC8IS+1,ONC8SL=ONC8MBL
"RTN","ONCX10A",27,0)
 . . S ONC8BUF=$E(BUF,BASE,BASE+ONC8SL-1),L=L-ONC8SL
"RTN","ONCX10A",28,0)
 . S ONC8SL=-L
"RTN","ONCX10A",29,0)
 E  S ONC8BUF=ONC8BUF_$E(BUF,1,L),ONC8SL=ONC8SL-L
"RTN","ONCX10A",30,0)
 ;--- Flush the buffer and start a new line
"RTN","ONCX10A",31,0)
 I $G(NEWLINE)  D  S ONC8BUF="",ONC8IS=0,ONC8PTR=ONC8PTR+1,ONC8SL=ONC8MBL
"RTN","ONCX10A",32,0)
 . I 'ONC8IS  S @ONC8DST@(ONC8PTR)=ONC8BUF  Q
"RTN","ONCX10A",33,0)
 . S @ONC8DST@(ONC8PTR,ONC8IS)=ONC8BUF
"RTN","ONCX10A",34,0)
 Q
"RTN","ONCX10A",35,0)
 ;
"RTN","ONCX10A",36,0)
 ;***** CALCULATES NUMBER OF BYTES IN THE MESSAGE BODY
"RTN","ONCX10A",37,0)
 ;
"RTN","ONCX10A",38,0)
 ; ONC8DATA      Closed root of a variable containing body
"RTN","ONCX10A",39,0)
 ;               of the message
"RTN","ONCX10A",40,0)
 ;
"RTN","ONCX10A",41,0)
 ; NLS           Length of the line terminator(s)
"RTN","ONCX10A",42,0)
 ;
"RTN","ONCX10A",43,0)
DATASIZE(ONC8DATA,NLS) ;
"RTN","ONCX10A",44,0)
 N SIZE
"RTN","ONCX10A",45,0)
 S SIZE=0
"RTN","ONCX10A",46,0)
 F  S I=$O(@ONC8DATA@(I))  Q:I=""  D  S SIZE=SIZE+NLS
"RTN","ONCX10A",47,0)
 . S SIZE=SIZE+$L($G(@ONC8DATA@(I)))
"RTN","ONCX10A",48,0)
 . S J=""
"RTN","ONCX10A",49,0)
 . F  S J=$O(@ONC8DATA@(I,J))  Q:J=""  D
"RTN","ONCX10A",50,0)
 . . S SIZE=SIZE+$L($G(@ONC8DATA@(I,J)))
"RTN","ONCX10A",51,0)
 Q $S(SIZE>0:SIZE-NLS,1:0)
"RTN","ONCX10A",52,0)
 ;
"RTN","ONCX10A",53,0)
 ;***** PROCESSES THE HTTP HEADER
"RTN","ONCX10A",54,0)
 ;
"RTN","ONCX10A",55,0)
 ; .ONC8H        Reference to a local array containing
"RTN","ONCX10A",56,0)
 ;               the raw header data
"RTN","ONCX10A",57,0)
 ;
"RTN","ONCX10A",58,0)
 ; .ONC8HDR      Reference to a local variable where the parsed
"RTN","ONCX10A",59,0)
 ;               header will be returned
"RTN","ONCX10A",60,0)
 ;
"RTN","ONCX10A",61,0)
 ; Return values:
"RTN","ONCX10A",62,0)
 ;       <0  Error Descriptor
"RTN","ONCX10A",63,0)
 ;       >0  HTTP Status Code^Description
"RTN","ONCX10A",64,0)
 ;
"RTN","ONCX10A",65,0)
HEADER(ONC8H,ONC8HDR) ;
"RTN","ONCX10A",66,0)
 N BUF,I,NAME,TAB,TMP
"RTN","ONCX10A",67,0)
 S ONC8HDR=$$NORMSTAT($G(ONC8H(1))),TAB=$C(9)
"RTN","ONCX10A",68,0)
 F I=2:1  S BUF=$TR($G(ONC8H(I)),TAB," ")  Q:BUF=""  D
"RTN","ONCX10A",69,0)
 . ;--- Continuation of the previous header line
"RTN","ONCX10A",70,0)
 . I $E(BUF,1)=" "  D:$G(NAME)'=""  Q
"RTN","ONCX10A",71,0)
 . . S TMP=$$TRIM^XLFSTR(BUF)
"RTN","ONCX10A",72,0)
 . . S:TMP'="" ONC8HDR(NAME)=ONC8HDR(NAME)_" "_TMP
"RTN","ONCX10A",73,0)
 . ;--- New header line
"RTN","ONCX10A",74,0)
 . S NAME=$$UP^XLFSTR($$TRIM^XLFSTR($P(BUF,":")))
"RTN","ONCX10A",75,0)
 . S:NAME'="" ONC8HDR(NAME)=$$TRIM^XLFSTR($P(BUF,":",2,999))
"RTN","ONCX10A",76,0)
 Q $P(ONC8HDR," ",2)_U_$P(ONC8HDR," ",3,999)
"RTN","ONCX10A",77,0)
 ;
"RTN","ONCX10A",78,0)
 ;***** NORMALIZES THE HTTP STATUS LINE
"RTN","ONCX10A",79,0)
NORMSTAT(STATUS) ;
"RTN","ONCX10A",80,0)
 N I,J1,J2,TMP
"RTN","ONCX10A",81,0)
 ;--- Remove leading and trailing spaces
"RTN","ONCX10A",82,0)
 S STATUS=$$TRIM^XLFSTR(STATUS)
"RTN","ONCX10A",83,0)
 ;--- Replace groups of consecutive spaces with single spaces
"RTN","ONCX10A",84,0)
 S J2=1
"RTN","ONCX10A",85,0)
 F I=1,2  D  Q:'J1
"RTN","ONCX10A",86,0)
 . S J1=$F(STATUS," ",J2)  Q:'J1
"RTN","ONCX10A",87,0)
 . F J2=J1:1  Q:$E(STATUS,J2)'=" "
"RTN","ONCX10A",88,0)
 . S $E(STATUS,J1,J2-1)=""
"RTN","ONCX10A",89,0)
 ;--- Return normalized status line
"RTN","ONCX10A",90,0)
 Q STATUS
"RTN","ONCX10A",91,0)
 ;
"RTN","ONCX10A",92,0)
 ;***** RECEIVES AN HTTP RESPONSE
"RTN","ONCX10A",93,0)
 ;
"RTN","ONCX10A",94,0)
 ; TIMEOUT       Timeout value (in seconds) for TCPIP input.
"RTN","ONCX10A",95,0)
 ;
"RTN","ONCX10A",96,0)
 ; [ONC8DATA]    Closed root of the variable where the message
"RTN","ONCX10A",97,0)
 ;               body is returned. See the $$GETURL^ONCX10
"RTN","ONCX10A",98,0)
 ;               for details.
"RTN","ONCX10A",99,0)
 ;
"RTN","ONCX10A",100,0)
 ; [.ONC8HDR]    Reference to a local variable where the parsed
"RTN","ONCX10A",101,0)
 ;               headers will be returned. See the $$GETURL^ONCX10
"RTN","ONCX10A",102,0)
 ;               for details.
"RTN","ONCX10A",103,0)
 ;
"RTN","ONCX10A",104,0)
RECEIVE(TIMEOUT,ONC8DATA,ONC8HDR) ;
"RTN","ONCX10A",105,0)
 ; ONC8BUF       Work buffer where the current line is being built
"RTN","ONCX10A",106,0)
 ; ONC8DST       Closed root of the current destination buffer used
"RTN","ONCX10A",107,0)
 ;               by the APPEND^ONCX10A
"RTN","ONCX10A",108,0)
 ; ONC8H         Temporary buffer for the raw HTTP header
"RTN","ONCX10A",109,0)
 ; ONC8IS        Subscript of the current continuation sub-node in
"RTN","ONCX10A",110,0)
 ;               the destination buffer (if 0 then the current main
"RTN","ONCX10A",111,0)
 ;               node is used)
"RTN","ONCX10A",112,0)
 ; ONC8MBL       Maximum buffer length
"RTN","ONCX10A",113,0)
 ; ONC8PTR       Subscript of the current node in the dest. buffer
"RTN","ONCX10A",114,0)
 ; ONC8SL        Number of available bytes in the current (sub)node
"RTN","ONCX10A",115,0)
 ;
"RTN","ONCX10A",116,0)
 N $ESTACK,$ETRAP,BLCHS,BUF,EXIT,I1,I2,MBL,ONC8BUF,ONC8DST,ONC8H,ONC8IS,ONC8MBL,ONC8PTR,ONC8SL,RTO,STATUS,TMP,X
"RTN","ONCX10A",117,0)
 S BLCHS=$C(9,10,12,13)_" ",ONC8MBL=245
"RTN","ONCX10A",118,0)
 K:$G(ONC8DATA)'="" @ONC8DATA  K ONC8HDR
"RTN","ONCX10A",119,0)
 S ONC8BUF="",ONC8IS=0,ONC8PTR=1,ONC8SL=ONC8MBL
"RTN","ONCX10A",120,0)
 ;--- Setup the error processing
"RTN","ONCX10A",121,0)
 S X="RCVERR^ONCX10A",@^%ZOSF("TRAP"),$ETRAP=""
"RTN","ONCX10A",122,0)
 ;--- Receive the header (until the first empty line)
"RTN","ONCX10A",123,0)
 U IO
"RTN","ONCX10A",124,0)
 S ONC8DST="ONC8H",(EXIT,RTO)=0
"RTN","ONCX10A",125,0)
 F  R BUF#ONC8MBL:TIMEOUT  S RTO='$T  D  Q:EXIT!RTO
"RTN","ONCX10A",126,0)
 . S I1=1
"RTN","ONCX10A",127,0)
 . F  S I2=$F(BUF,$C(10),I1)  Q:'I2  D  Q:EXIT
"RTN","ONCX10A",128,0)
 . . S TMP=$E(BUF,I1,I2-2)  D APPEND(TMP,1)  S I1=I2
"RTN","ONCX10A",129,0)
 . . S:$TR(TMP,BLCHS)="" EXIT=1
"RTN","ONCX10A",130,0)
 . D:'EXIT APPEND($E(BUF,I1,ONC8MBL))
"RTN","ONCX10A",131,0)
 ;--- A header must end with an empty line.
"RTN","ONCX10A",132,0)
 ;--- Otherwise, there was a timeout.
"RTN","ONCX10A",133,0)
 Q:'EXIT $$ERROR^ONCXERR(-7)
"RTN","ONCX10A",134,0)
 ;--- Remove ending of the header from the buffer. The buffer
"RTN","ONCX10A",135,0)
 ;--- can contain beginning of the message body.
"RTN","ONCX10A",136,0)
 S:I1>1 $E(BUF,1,I1-1)=""
"RTN","ONCX10A",137,0)
 ;--- Process the header
"RTN","ONCX10A",138,0)
 S STATUS=$$HEADER(.ONC8H,.ONC8HDR)
"RTN","ONCX10A",139,0)
 ;--- Receive the message body
"RTN","ONCX10A",140,0)
 D:$G(ONC8DATA)'=""
"RTN","ONCX10A",141,0)
 . N CNTLEN,RDLEN
"RTN","ONCX10A",142,0)
 . S RDLEN=ONC8MBL
"RTN","ONCX10A",143,0)
 . ;--- Check for Content-Length header
"RTN","ONCX10A",144,0)
 . I $D(ONC8HDR("CONTENT-LENGTH"))  D  Q:CNTLEN'>0
"RTN","ONCX10A",145,0)
 . . S CNTLEN=+ONC8HDR("CONTENT-LENGTH")
"RTN","ONCX10A",146,0)
 . . S:CNTLEN<ONC8MBL RDLEN=CNTLEN
"RTN","ONCX10A",147,0)
 . E  S CNTLEN=-1
"RTN","ONCX10A",148,0)
 . ;--- Read the content
"RTN","ONCX10A",149,0)
 . S ONC8DST=ONC8DATA,RTO=0
"RTN","ONCX10A",150,0)
 . F  D  Q:'CNTLEN!RTO  R BUF#RDLEN:TIMEOUT  S RTO='$T
"RTN","ONCX10A",151,0)
 . . D:CNTLEN>0
"RTN","ONCX10A",152,0)
 . . . S CNTLEN=CNTLEN-$L(BUF)  S:CNTLEN<0 CNTLEN=0
"RTN","ONCX10A",153,0)
 . . . S:CNTLEN<RDLEN RDLEN=CNTLEN
"RTN","ONCX10A",154,0)
 . . S I1=1
"RTN","ONCX10A",155,0)
 . . F  S I2=$F(BUF,$C(10),I1)  Q:'I2  D
"RTN","ONCX10A",156,0)
 . . . D APPEND($E(BUF,I1,I2-2),1)  S I1=I2
"RTN","ONCX10A",157,0)
 . . D APPEND($E(BUF,I1,ONC8MBL))
"RTN","ONCX10A",158,0)
 ;--- Flush the buffers and process the header (only if necessary)
"RTN","ONCX10A",159,0)
RCVERR U $P
"RTN","ONCX10A",160,0)
 D APPEND("",1)
"RTN","ONCX10A",161,0)
 S:$G(STATUS)="" STATUS=$$HEADER(.ONC8H,.ONC8HDR)
"RTN","ONCX10A",162,0)
 Q STATUS
"RTN","ONCX10A",163,0)
 ;
"RTN","ONCX10A",164,0)
 ;***** SENDS THE HTTP REQUEST
"RTN","ONCX10A",165,0)
 ;
"RTN","ONCX10A",166,0)
 ; URI           Request URI
"RTN","ONCX10A",167,0)
 ;
"RTN","ONCX10A",168,0)
 ; [ONC8DATA]    Closed root of a variable containing body of the
"RTN","ONCX10A",169,0)
 ;               request message. If this parameter is defined, not
"RTN","ONCX10A",170,0)
 ;               empty, and the referenced variable is defined then
"RTN","ONCX10A",171,0)
 ;               the POST request is generated. Otherwise, the GET
"RTN","ONCX10A",172,0)
 ;               request is sent.
"RTN","ONCX10A",173,0)
 ;
"RTN","ONCX10A",174,0)
 ; [.ONC8HDR]    Reference to a local variable containing header
"RTN","ONCX10A",175,0)
 ;               values
"RTN","ONCX10A",176,0)
 ;
"RTN","ONCX10A",177,0)
 ; Return values:
"RTN","ONCX10A",178,0)
 ;       <0  Error Code^Description
"RTN","ONCX10A",179,0)
 ;    "GET"  Ok
"RTN","ONCX10A",180,0)
 ;   "POST"  Ok
"RTN","ONCX10A",181,0)
 ;
"RTN","ONCX10A",182,0)
REQUEST(URI,ONC8DATA,ONC8HDR) ;
"RTN","ONCX10A",183,0)
 N CRLF,DFLTHDR,I,J,STATUS
"RTN","ONCX10A",184,0)
 S CRLF=$C(13,10)
"RTN","ONCX10A",185,0)
 ;--- Check for default header(s)
"RTN","ONCX10A",186,0)
 S DFLTHDR("CONTENT-LENGTH")=""
"RTN","ONCX10A",187,0)
 S DFLTHDR("CONTENT-TYPE")=""
"RTN","ONCX10A",188,0)
 S DFLTHDR("USER-AGENT")=""
"RTN","ONCX10A",189,0)
 S I=""
"RTN","ONCX10A",190,0)
 F  S I=$O(ONC8HDR(I))  Q:I=""  K DFLTHDR($$UP^XLFSTR(I))
"RTN","ONCX10A",191,0)
 S:$D(DFLTHDR("USER-AGENT")) ONC8HDR("User-Agent")="VistA/1.0"
"RTN","ONCX10A",192,0)
 ;--- Send the request
"RTN","ONCX10A",193,0)
 U IO
"RTN","ONCX10A",194,0)
 I $G(ONC8DATA)'="",$D(@ONC8DATA)>1  S STATUS="POST"  D
"RTN","ONCX10A",195,0)
 . S:$D(DFLTHDR("CONTENT-TYPE")) ONC8HDR("Content-Type")="text/html"
"RTN","ONCX10A",196,0)
 . D:$D(DFLTHDR("CONTENT-LENGTH"))
"RTN","ONCX10A",197,0)
 . . S ONC8HDR("Content-Length")=$$DATASIZE(ONC8DATA,$L(CRLF))
"RTN","ONCX10A",198,0)
 . W "POST "_URI_" HTTP/1.0",CRLF,!
"RTN","ONCX10A",199,0)
 . ;--- Header
"RTN","ONCX10A",200,0)
 . S I=""
"RTN","ONCX10A",201,0)
 . F  S I=$O(ONC8HDR(I))  Q:I=""  W I_": "_ONC8HDR(I),CRLF,!
"RTN","ONCX10A",202,0)
 . ;--- Body
"RTN","ONCX10A",203,0)
 . S I=""
"RTN","ONCX10A",204,0)
 . F  S I=$O(@ONC8DATA@(I))  Q:I=""  D
"RTN","ONCX10A",205,0)
 . . W CRLF,$G(@ONC8DATA@(I)),!
"RTN","ONCX10A",206,0)
 . . S J=""
"RTN","ONCX10A",207,0)
 . . F  S J=$O(@ONC8DATA@(I,J))  Q:J=""  W $G(@ONC8DATA@(I,J)),!
"RTN","ONCX10A",208,0)
 E  S STATUS="GET"  D
"RTN","ONCX10A",209,0)
 . W "GET "_URI_" HTTP/1.0",CRLF,!
"RTN","ONCX10A",210,0)
 . S I=""
"RTN","ONCX10A",211,0)
 . F  S I=$O(ONC8HDR(I))  Q:I=""  W I_": "_ONC8HDR(I),CRLF,!
"RTN","ONCX10A",212,0)
 . W CRLF,!
"RTN","ONCX10A",213,0)
 U $P
"RTN","ONCX10A",214,0)
 Q STATUS
"RTN","ONCXDEM")
0^374^B3540836
"RTN","ONCXDEM",1,0)
ONCXDEM ;HCIOFO/SG - HTTP AND WEB SERVICES (DEMO) ; 5/14/04 10:59am
"RTN","ONCXDEM",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCXDEM",3,0)
 ;
"RTN","ONCXDEM",4,0)
 Q
"RTN","ONCXDEM",5,0)
 ;
"RTN","ONCXDEM",6,0)
 ;***** DEMO ENTRY POINT
"RTN","ONCXDEM",7,0)
 ;
"RTN","ONCXDEM",8,0)
 ; The ^TMP($J,"ONCX") global node is used by the entry point.
"RTN","ONCXDEM",9,0)
 ;
"RTN","ONCXDEM",10,0)
DEMO ;
"RTN","ONCXDEM",11,0)
 N BODY,DIR,DIRUT,DTOUT,DUOUT,HEADER,RC,URL,X,Y
"RTN","ONCXDEM",12,0)
 S BODY=$NA(^TMP($J,"ONCX"))
"RTN","ONCXDEM",13,0)
 S URL="http://www.hardhats.org"
"RTN","ONCXDEM",14,0)
 ;
"RTN","ONCXDEM",15,0)
 S RC=0
"RTN","ONCXDEM",16,0)
 F  D  Q:RC
"RTN","ONCXDEM",17,0)
 . K @BODY,HEADER
"RTN","ONCXDEM",18,0)
 . ;--- Request a URL from the user
"RTN","ONCXDEM",19,0)
 . K DIR  S DIR(0)="F"
"RTN","ONCXDEM",20,0)
 . S DIR("A")="URL",DIR("B")=URL
"RTN","ONCXDEM",21,0)
 . D ^DIR  I $D(DIRUT)  S RC=1  Q
"RTN","ONCXDEM",22,0)
 . S URL=$$TRIM^XLFSTR(Y)
"RTN","ONCXDEM",23,0)
 . ;--- Request the resource
"RTN","ONCXDEM",24,0)
 . S RC=$$GETURL^ONCX10(URL,,BODY,.HEADER)
"RTN","ONCXDEM",25,0)
 . I RC<0  D ERROR(RC)  S RC=0  Q
"RTN","ONCXDEM",26,0)
 . ;--- Print the data
"RTN","ONCXDEM",27,0)
 . D PRINT(BODY,.HEADER)
"RTN","ONCXDEM",28,0)
 . S RC=0
"RTN","ONCXDEM",29,0)
 ;
"RTN","ONCXDEM",30,0)
 ;--- Cleanup
"RTN","ONCXDEM",31,0)
 K @BODY
"RTN","ONCXDEM",32,0)
 Q
"RTN","ONCXDEM",33,0)
 ;
"RTN","ONCXDEM",34,0)
 ;***** PRINT THE ERROR MESSAGE
"RTN","ONCXDEM",35,0)
ERROR(ERR) ;
"RTN","ONCXDEM",36,0)
 W !!,"ERROR: "_$J(+ERR,3)_"  "_$P(ERR,U,2),!
"RTN","ONCXDEM",37,0)
 W $J("",12)_$P(ERR,U,3,4),!
"RTN","ONCXDEM",38,0)
 Q
"RTN","ONCXDEM",39,0)
 ;
"RTN","ONCXDEM",40,0)
 ;***** PAUSES THE OUTPUT IN THE END OF PAGE
"RTN","ONCXDEM",41,0)
 ;
"RTN","ONCXDEM",42,0)
 ; N             Number of lines to reserve
"RTN","ONCXDEM",43,0)
 ;
"RTN","ONCXDEM",44,0)
 ; Return values:
"RTN","ONCXDEM",45,0)
 ;        0  Ok (continue)
"RTN","ONCXDEM",46,0)
 ;       >0  Exit Request or Timeout
"RTN","ONCXDEM",47,0)
 ;
"RTN","ONCXDEM",48,0)
PAGE(N) ;
"RTN","ONCXDEM",49,0)
 Q:($Y+$G(N))<IOSL 0
"RTN","ONCXDEM",50,0)
 N DIR,DIRUT,DTOUT,DUOUT,X,Y
"RTN","ONCXDEM",51,0)
 S DIR(0)="E"  D ^DIR  W !!  S $Y=0
"RTN","ONCXDEM",52,0)
 Q '$G(Y)
"RTN","ONCXDEM",53,0)
 ;
"RTN","ONCXDEM",54,0)
 ;***** PRINTS THE RESPONSE
"RTN","ONCXDEM",55,0)
PRINT(ONCX8DAT,HEADER) ;
"RTN","ONCXDEM",56,0)
 N I,J
"RTN","ONCXDEM",57,0)
 ;---
"RTN","ONCXDEM",58,0)
 I $D(HEADER)>0  D  Q:$$PAGE(IOSL)
"RTN","ONCXDEM",59,0)
 . W @IOF,"----- HTTP HEADER -----",!!
"RTN","ONCXDEM",60,0)
 . W $G(HEADER),!
"RTN","ONCXDEM",61,0)
 . S I=""
"RTN","ONCXDEM",62,0)
 . F  S I=$O(HEADER(I))  Q:I=""  W I_"="_HEADER(I),!
"RTN","ONCXDEM",63,0)
 ;---
"RTN","ONCXDEM",64,0)
 D:$D(@ONCX8DAT)>1
"RTN","ONCXDEM",65,0)
 . W @IOF,"----- MESSAGE ONCX8DAT -----",!!
"RTN","ONCXDEM",66,0)
 . S I=""
"RTN","ONCXDEM",67,0)
 . F  S I=$O(@ONCX8DAT@(I))  Q:I=""  W @ONCX8DAT@(I)  D  W !
"RTN","ONCXDEM",68,0)
 . . S J=""  F  S J=$O(@ONCX8DAT@(I,J))  Q:J=""  W @ONCX8DAT@(I,J)
"RTN","ONCXDEM",69,0)
 Q
"RTN","ONCXERR")
0^375^B5253465
"RTN","ONCXERR",1,0)
ONCXERR ;HCIOFO/SG - HTTP AND WEB SERVICES (ERRORS)  ; 6/21/04 2:35pm
"RTN","ONCXERR",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCXERR",3,0)
 ;
"RTN","ONCXERR",4,0)
 Q
"RTN","ONCXERR",5,0)
 ;
"RTN","ONCXERR",6,0)
 ;***** GENERATES THE ERROR MESSAGE
"RTN","ONCXERR",7,0)
 ;
"RTN","ONCXERR",8,0)
 ; ERRCODE       Error code
"RTN","ONCXERR",9,0)
 ;
"RTN","ONCXERR",10,0)
 ; [[.]INFO]     reserved
"RTN","ONCXERR",11,0)
 ;
"RTN","ONCXERR",12,0)
 ; [ARG1-ARG5]   Optional parameters as for $$MSG^ONCXERR
"RTN","ONCXERR",13,0)
 ;
"RTN","ONCXERR",14,0)
 ; Return Values:
"RTN","ONCXERR",15,0)
 ;       <0  Error code^Message Text^Label+Offset^Routine
"RTN","ONCXERR",16,0)
 ;        0  Ok (if ERRCOCE'<0)
"RTN","ONCXERR",17,0)
 ;
"RTN","ONCXERR",18,0)
ERROR(ERRCODE,INFO,ARG1,ARG2,ARG3,ARG4,ARG5) ;
"RTN","ONCXERR",19,0)
 Q:ERRCODE'<0 0
"RTN","ONCXERR",20,0)
 N PLACE,SL
"RTN","ONCXERR",21,0)
 S SL=$STACK(-1)-1
"RTN","ONCXERR",22,0)
 F  Q:SL'>0  D  Q:'(PLACE["^ONCXERR")  S SL=SL-1
"RTN","ONCXERR",23,0)
 . S PLACE=$P($STACK(SL,"PLACE")," ")
"RTN","ONCXERR",24,0)
 S:PLACE'[U PLACE=U
"RTN","ONCXERR",25,0)
 Q ERRCODE_U_$$MSG(ERRCODE,,.ARG1,.ARG2,.ARG3,.ARG4,.ARG5)_U_PLACE
"RTN","ONCXERR",26,0)
 ;
"RTN","ONCXERR",27,0)
 ;***** RETURNS THE TEXT OF THE MESSAGE
"RTN","ONCXERR",28,0)
 ;
"RTN","ONCXERR",29,0)
 ; ERRCODE       Error code
"RTN","ONCXERR",30,0)
 ;
"RTN","ONCXERR",31,0)
 ; [.TYPE]       Type of the error
"RTN","ONCXERR",32,0)
 ;
"RTN","ONCXERR",33,0)
 ; [ARG1-ARG5]   Optional parameters that substitute the |n| "windows"
"RTN","ONCXERR",34,0)
 ;               in the text of the message (for example, the |2| will
"RTN","ONCXERR",35,0)
 ;               be substituted by the value of the ARG2).
"RTN","ONCXERR",36,0)
 ;
"RTN","ONCXERR",37,0)
 ; NOTE: The "^" is replaced with the "~" in the resulting message.
"RTN","ONCXERR",38,0)
 ;
"RTN","ONCXERR",39,0)
MSG(ERRCODE,TYPE,ARG1,ARG2,ARG3,ARG4,ARG5) ;
"RTN","ONCXERR",40,0)
 S TYPE=6  Q:ERRCODE'<0 ""
"RTN","ONCXERR",41,0)
 N ARG,I1,I2,MSG
"RTN","ONCXERR",42,0)
 ;--- Get a descriptor of the message
"RTN","ONCXERR",43,0)
 S I1=-ERRCODE,MSG=$P($T(MSGLIST+I1),";;",2)
"RTN","ONCXERR",44,0)
 S I1=+$TR($P(MSG,U,2)," "),MSG=$P(MSG,U,3,999)
"RTN","ONCXERR",45,0)
 S:I1>0 TYPE=I1
"RTN","ONCXERR",46,0)
 Q:MSG?." " "Unknown error ("_ERRCODE_")"
"RTN","ONCXERR",47,0)
 ;--- Substitute parameters
"RTN","ONCXERR",48,0)
 S I1=2
"RTN","ONCXERR",49,0)
 F  S I1=$F(MSG,"|",I1-1)  Q:'I1  D
"RTN","ONCXERR",50,0)
 . S I2=$F(MSG,"|",I1)  Q:'I2
"RTN","ONCXERR",51,0)
 . X "S ARG=$G(ARG"_+$TR($E(MSG,I1,I2-2)," ")_")"
"RTN","ONCXERR",52,0)
 . S $E(MSG,I1-1,I2-1)=ARG
"RTN","ONCXERR",53,0)
 Q $TR($$TRIM^XLFSTR(MSG),U,"~")
"RTN","ONCXERR",54,0)
 ;
"RTN","ONCXERR",55,0)
 ;***** RETURNS TYPE OF THE MESSAGE
"RTN","ONCXERR",56,0)
 ;
"RTN","ONCXERR",57,0)
 ; ERRCODE       Error code
"RTN","ONCXERR",58,0)
 ;
"RTN","ONCXERR",59,0)
TYPE(ERRCODE) ;
"RTN","ONCXERR",60,0)
 Q:ERRCODE'<0 0
"RTN","ONCXERR",61,0)
 N I,TYPE  S I=-ERRCODE
"RTN","ONCXERR",62,0)
 S I=$P($T(MSGLIST+I),";;",2),TYPE=+$TR($P(I,U,2)," ")
"RTN","ONCXERR",63,0)
 Q $S(TYPE>0:TYPE,1:6)
"RTN","ONCXERR",64,0)
 ;
"RTN","ONCXERR",65,0)
 ;***** LIST OF THE MESSAGES (THERE SHOULD BE NOTHING AFTER THE LIST!)
"RTN","ONCXERR",66,0)
 ;
"RTN","ONCXERR",67,0)
 ; The error codes are provided in the table only for clarity.
"RTN","ONCXERR",68,0)
 ; Text of the messages are extracted using the $TEXT function and
"RTN","ONCXERR",69,0)
 ; absolute values of the ERRCODE parameter.
"RTN","ONCXERR",70,0)
 ;
"RTN","ONCXERR",71,0)
 ; Message Type:
"RTN","ONCXERR",72,0)
 ;               1  Debug          4  Warning
"RTN","ONCXERR",73,0)
 ;               2  Information    5  Database Error
"RTN","ONCXERR",74,0)
 ;               3  Data Quality   6  Error
"RTN","ONCXERR",75,0)
 ;
"RTN","ONCXERR",76,0)
MSGLIST ; Code Type  Message Text
"RTN","ONCXERR",77,0)
 ;;  -1 ^ 6 ^ Missing host name: '|1|'
"RTN","ONCXERR",78,0)
 ;;  -2 ^ 6 ^ Cannot resolve the host name: '|1|'
"RTN","ONCXERR",79,0)
 ;;  -3 ^ 6 ^ Cannot connect to host(s): '|1|'
"RTN","ONCXERR",80,0)
 ;;  -4 ^ 6 ^ Missing redirection URL
"RTN","ONCXERR",81,0)
 ;;  -5 ^ 6 ^ Too many redirections
"RTN","ONCXERR",82,0)
 ;;  -6 ^ 6 ^ Error during transaction (see Error Trap log)
"RTN","ONCXERR",83,0)
 ;;  -7 ^ 6 ^ Timeout
"RTN","ONCXURL")
0^376^B3380054
"RTN","ONCXURL",1,0)
ONCXURL ;HCIOFO/SG - HTTP AND WEB SERVICES (URL TOOLS) ; 5/14/04 11:00am
"RTN","ONCXURL",2,0)
 ;;2.2;ONCOLOGY;**1**;Jul 31, 2013;Build 8
"RTN","ONCXURL",3,0)
 ;
"RTN","ONCXURL",4,0)
 Q
"RTN","ONCXURL",5,0)
 ;
"RTN","ONCXURL",6,0)
 ;***** CREATES URL FROM COMPONENTS
"RTN","ONCXURL",7,0)
 ;
"RTN","ONCXURL",8,0)
 ; HOST          Host name
"RTN","ONCXURL",9,0)
 ; [PORT]        Port number (80, by default)
"RTN","ONCXURL",10,0)
 ; [PATH]        Resource path ("/", by default)
"RTN","ONCXURL",11,0)
 ;
"RTN","ONCXURL",12,0)
 ; [.QUERY]      Reference to a local variable containing values of
"RTN","ONCXURL",13,0)
 ;               the query parameters: QUERY(Name)=Value.
"RTN","ONCXURL",14,0)
 ;
"RTN","ONCXURL",15,0)
 ; Return values:
"RTN","ONCXURL",16,0)
 ;       <0  Error Descriptor
"RTN","ONCXURL",17,0)
 ;      ...  Resulting URL
"RTN","ONCXURL",18,0)
 ;
"RTN","ONCXURL",19,0)
CREATE(HOST,PORT,PATH,QUERY) ;
"RTN","ONCXURL",20,0)
 N NAME,QSTR,VAL
"RTN","ONCXURL",21,0)
 S:HOST'["://" HOST="http://"_HOST
"RTN","ONCXURL",22,0)
 S PORT=$S($G(PORT)>0:":"_(+PORT),1:"")
"RTN","ONCXURL",23,0)
 ;---
"RTN","ONCXURL",24,0)
 S (NAME,QSTR)=""
"RTN","ONCXURL",25,0)
 F  S NAME=$O(QUERY(NAME))  Q:NAME=""  D
"RTN","ONCXURL",26,0)
 . S VAL=$G(QUERY(NAME))
"RTN","ONCXURL",27,0)
 . S QSTR=QSTR_"&"_$$ENCODE(NAME)_"="_$$ENCODE(VAL)
"RTN","ONCXURL",28,0)
 S:QSTR'="" $E(QSTR,1)="?"
"RTN","ONCXURL",29,0)
 ;---
"RTN","ONCXURL",30,0)
 Q HOST_PORT_$$PATH($G(PATH)_QSTR)
"RTN","ONCXURL",31,0)
 ;
"RTN","ONCXURL",32,0)
 ;***** ENCODES THE STRING
"RTN","ONCXURL",33,0)
 ;
"RTN","ONCXURL",34,0)
 ; STR           String to be encoded
"RTN","ONCXURL",35,0)
 ;
"RTN","ONCXURL",36,0)
ENCODE(STR) ;
"RTN","ONCXURL",37,0)
 N CH,I
"RTN","ONCXURL",38,0)
 F I=1:1  S CH=$E(STR,I)  Q:CH=""  I CH?1CP  D
"RTN","ONCXURL",39,0)
 . I CH=" "  S $E(STR,I)="+"  Q
"RTN","ONCXURL",40,0)
 . S $E(STR,I)="%"_$$RJ^XLFSTR($$CNV^XLFUTL($A(CH),16),2,"0"),I=I+2
"RTN","ONCXURL",41,0)
 Q STR
"RTN","ONCXURL",42,0)
 ;
"RTN","ONCXURL",43,0)
 ;***** PARSES THE URL INTO COMPONENTS
"RTN","ONCXURL",44,0)
 ;
"RTN","ONCXURL",45,0)
 ; URL           Source URL
"RTN","ONCXURL",46,0)
 ;
"RTN","ONCXURL",47,0)
 ; .HOST         Reference to a local variable for the host name
"RTN","ONCXURL",48,0)
 ; .PORT         Reference to a local variable for the port number
"RTN","ONCXURL",49,0)
 ; .PATH         Reference to a local variable for the path
"RTN","ONCXURL",50,0)
 ;
"RTN","ONCXURL",51,0)
 ; Return values:
"RTN","ONCXURL",52,0)
 ;       <0  Error Descriptor
"RTN","ONCXURL",53,0)
 ;        0  Ok
"RTN","ONCXURL",54,0)
 ;
"RTN","ONCXURL",55,0)
PARSE(URL,HOST,PORT,PATH) ;
"RTN","ONCXURL",56,0)
 S:$F(URL,"://") URL=$P(URL,"://",2,999)
"RTN","ONCXURL",57,0)
 S HOST=$TR($P(URL,"/")," ")
"RTN","ONCXURL",58,0)
 S PATH=$$PATH($P(URL,"/",2,999))
"RTN","ONCXURL",59,0)
 S PORT=$P(HOST,":",2),HOST=$P(HOST,":")
"RTN","ONCXURL",60,0)
 Q:HOST?." " $$ERROR^ONCXERR(-1,,URL)
"RTN","ONCXURL",61,0)
 S:PORT'>0 PORT=80
"RTN","ONCXURL",62,0)
 Q 0
"RTN","ONCXURL",63,0)
 ;
"RTN","ONCXURL",64,0)
 ;***** DEFAULT PATH PROCESSING (NORMALIZATION)
"RTN","ONCXURL",65,0)
 ;
"RTN","ONCXURL",66,0)
 ; PATH          Source path
"RTN","ONCXURL",67,0)
 ;
"RTN","ONCXURL",68,0)
PATH(PATH) ;
"RTN","ONCXURL",69,0)
 N LAST
"RTN","ONCXURL",70,0)
 ;--- Make sure the path has a leading slash if it
"RTN","ONCXURL",71,0)
 ;--- is not empty and has no query string
"RTN","ONCXURL",72,0)
 I $E(PATH,1)'="/"  S:$E(PATH,1)'="?" PATH="/"_PATH
"RTN","ONCXURL",73,0)
 ;--- Append a trailing slash to the path if it has
"RTN","ONCXURL",74,0)
 ;--- neither a file name nor a query string
"RTN","ONCXURL",75,0)
 S LAST=$L(PATH,"/"),LAST=$P(PATH,"/",LAST)
"RTN","ONCXURL",76,0)
 I LAST'="",LAST'["?",LAST'["."  S PATH=PATH_"/"
"RTN","ONCXURL",77,0)
 Q PATH
"SEC","^DIC",160.16,160.16,0,"AUDIT")
@
"SEC","^DIC",160.16,160.16,0,"DD")
@
"SEC","^DIC",160.16,160.16,0,"DEL")
@
"SEC","^DIC",160.16,160.16,0,"LAYGO")
@
"SEC","^DIC",160.16,160.16,0,"RD")
@
"SEC","^DIC",160.16,160.16,0,"WR")
@
"UP",160.1,160.24,-1)
160.1^SEU
"UP",160.1,160.24,0)
160.24
"UP",160.1,160.25,-1)
160.1^REG
"UP",160.1,160.25,0)
160.25
"UP",165.5,165.51,-1)
165.5^4
"UP",165.5,165.51,0)
165.51
"VER")
8.0^22.0
"^DD",160,160,25.91,0)
SECONDARY DIAGNOSIS #1^*P80'^ICD9(^3;1^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.91,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.91,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.91,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.91,12)
Record the patient's 1st pre-existing condition and/or complication using ICD-10-CM code.
"^DD",160,160,25.91,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.91,21,0)
^^10^10^3140326^
"^DD",160,160,25.91,21,1,0)
 
"^DD",160,160,25.91,21,2,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.91,21,3,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.91,21,4,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.91,21,5,0)
All are considered secondary diagnoses.
"^DD",160,160,25.91,21,6,0)
 
"^DD",160,160,25.91,21,7,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.91,21,8,0)
      leave this field blank.  When this item is extracted for
"^DD",160,160,25.91,21,9,0)
      export a blank value will be converted to "0000000" as per
"^DD",160,160,25.91,21,10,0)
      the NAACCR instructions. 
"^DD",160,160,25.91,"DT")
3140507
"^DD",160,160,25.92,0)
SECONDARY DIAGNOSIS #2^*P80'^ICD9(^3;2^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.92,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.92,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.92,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.92,12)
Record the patient's 2nd pre-existing condition and/or complication using ICD-10-CM code.
"^DD",160,160,25.92,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.92,21,0)
^^7^7^3140326^
"^DD",160,160,25.92,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.92,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.92,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.92,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.92,21,5,0)
 
"^DD",160,160,25.92,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.92,21,7,0)
      leave this field blank. 
"^DD",160,160,25.92,"DT")
3140507
"^DD",160,160,25.93,0)
SECONDARY DIAGNOSIS #3^*P80'^ICD9(^3;3^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.93,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.93,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.93,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.93,12)
Record the patient's 3rd pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.93,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.93,21,0)
^^7^7^3140326^^
"^DD",160,160,25.93,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.93,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.93,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.93,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.93,21,5,0)
 
"^DD",160,160,25.93,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.93,21,7,0)
      leave this field blank. 
"^DD",160,160,25.93,"DT")
3140507
"^DD",160,160,25.94,0)
SECONDARY DIAGNOSIS #4^*P80'^ICD9(^3;4^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.94,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.94,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.94,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.94,12)
Record the patient's 4th pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.94,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.94,21,0)
^^7^7^3140326^^
"^DD",160,160,25.94,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.94,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.94,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.94,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.94,21,5,0)
 
"^DD",160,160,25.94,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.94,21,7,0)
      leave this field blank. 
"^DD",160,160,25.94,"DT")
3140507
"^DD",160,160,25.95,0)
SECONDARY DIAGNOSIS #5^*P80'^ICD9(^3;5^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.95,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.95,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.95,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.95,12)
Record the patient's 5th pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.95,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.95,21,0)
^^7^7^3140326^
"^DD",160,160,25.95,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.95,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.95,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.95,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.95,21,5,0)
 
"^DD",160,160,25.95,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.95,21,7,0)
      leave this field blank. 
"^DD",160,160,25.95,"DT")
3140507
"^DD",160,160,25.96,0)
SECONDARY DIAGNOSIS #6^*P80'^ICD9(^3;6^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.96,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.96,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.96,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.96,12)
Record the patient's pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.96,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.96,21,0)
^^7^7^3140326^
"^DD",160,160,25.96,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.96,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.96,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.96,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.96,21,5,0)
 
"^DD",160,160,25.96,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.96,21,7,0)
      leave this field blank. 
"^DD",160,160,25.96,"DT")
3140507
"^DD",160,160,25.97,0)
SECONDARY DIAGNOSIS #7^*P80'^ICD9(^3;7^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.97,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.97,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.97,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.97,12)
Record the patient's pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.97,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.97,"DT")
3140507
"^DD",160,160,25.98,0)
SECONDARY DIAGNOSIS #8^*P80'^ICD9(^3;8^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.98,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.98,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.98,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.98,12)
Record the patient's pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.98,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.98,21,0)
^^7^7^3140326^
"^DD",160,160,25.98,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.98,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.98,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.98,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.98,21,5,0)
 
"^DD",160,160,25.98,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.98,21,7,0)
      leave this field blank. 
"^DD",160,160,25.98,"DT")
3140507
"^DD",160,160,25.99,0)
SECONDARY DIAGNOSIS #9^*P80'^ICD9(^3;9^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.99,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.99,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.99,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.99,12)
Record the patient's pre-existing condition and/or complication using the ICD-10-CM code.
"^DD",160,160,25.99,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.99,21,0)
^^7^7^3140326^
"^DD",160,160,25.99,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.99,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.99,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.99,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.99,21,5,0)
 
"^DD",160,160,25.99,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.99,21,7,0)
      leave this field blank. 
"^DD",160,160,25.99,"DT")
3140507
"^DD",160,160,25.9901,0)
SECONDARY DIAGNOSIS #10^*P80'^ICD9(^3;10^S DIC("S")="D SDIAG^ONCFUNC" D ^DIC K DIC S DIC=$G(DIE),X=+Y K:Y<0 X
"^DD",160,160,25.9901,2)
S Y(0)=Y I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.9901,2.1)
I Y'="" N ONCICD,CODE,SPACE S ONCICD=$$ICDDX^ICDCODE(Y) S:(ONCICD=-1) Y=-1 S:(Y'=-1) CODE=$P(ONCICD,U,2),SPACE=$S($L(CODE)=4:"   ",$L(CODE)=5:"  ",1:" "),Y=CODE_SPACE_$P(ONCICD,U,4)
"^DD",160,160,25.9901,3)
Enter a valid ICD-10-CM code.
"^DD",160,160,25.9901,12)
Record the patient's pre-existing condition and/or complication using ICD-10-CM code.
"^DD",160,160,25.9901,12.1)
S DIC("S")="D SDIAG^ONCFUNC"
"^DD",160,160,25.9901,21,0)
^^7^7^3140326^
"^DD",160,160,25.9901,21,1,0)
Records the patient's preexisting medical conditions, factors
"^DD",160,160,25.9901,21,2,0)
influencing health status, and/or complications during the patient's
"^DD",160,160,25.9901,21,3,0)
hospital stay for the treatment of this cancer using ICD-10-CM codes.
"^DD",160,160,25.9901,21,4,0)
All are considered secondary diagnoses.
"^DD",160,160,25.9901,21,5,0)
 
"^DD",160,160,25.9901,21,6,0)
NOTE: If no comorbid conditions or complications were documented,
"^DD",160,160,25.9901,21,7,0)
      leave this field blank. 
"^DD",160,160,25.9901,"DT")
3140507
"^DD",160.1,160.1,100,0)
MAIL SERVER USER^160.24A^^SEU;0
"^DD",160.1,160.1,100,21,0)
^.001^1^1^3130821^^^^
"^DD",160.1,160.1,100,21,1,0)
This multiple contains the mail server users and recipients.
"^DD",160.1,160.1,100,23,0)
^.001^1^1^3130821^^^^
"^DD",160.1,160.1,100,23,1,0)
Enter a mail server users and recipients.
"^DD",160.1,160.1,105,0)
ABSTRACTOR/REGISTRAR^160.25P^^REG;0
"^DD",160.1,160.1,105,21,0)
^^2^2^3130924^
"^DD",160.1,160.1,105,21,1,0)
This multiple contains registrars with a valid entry in New Person file 
"^DD",160.1,160.1,105,21,2,0)
(#200).
"^DD",160.1,160.1,105,23,0)
^^2^2^3130924^
"^DD",160.1,160.1,105,23,1,0)
Only entry that has a valid entry in New Person file (#200) is allowed in 
"^DD",160.1,160.1,105,23,2,0)
this multiple.
"^DD",160.1,160.24,0)
MAIL SERVER USER SUB-FIELD^^2^2
"^DD",160.1,160.24,0,"DT")
3130726
"^DD",160.1,160.24,0,"IX","B",160.24,.01)

"^DD",160.1,160.24,0,"NM","MAIL SERVER USER")

"^DD",160.1,160.24,0,"UP")
160.1
"^DD",160.1,160.24,.01,0)
MAIL SERVER USER^MF^^0;1^K:$L(X)>50!($L(X)<2) X
"^DD",160.1,160.24,.01,1,0)
^.1
"^DD",160.1,160.24,.01,1,1,0)
160.24^B
"^DD",160.1,160.24,.01,1,1,1)
S ^ONCO(160.1,DA(1),"SEU","B",$E(X,1,30),DA)=""
"^DD",160.1,160.24,.01,1,1,2)
K ^ONCO(160.1,DA(1),"SEU","B",$E(X,1,30),DA)
"^DD",160.1,160.24,.01,3)
Answer must be 2-50 characters in length.
"^DD",160.1,160.24,.01,21,0)
^^3^3^3140114^
"^DD",160.1,160.24,.01,21,1,0)
This field contains a valid user who can create a mail server message.  
"^DD",160.1,160.24,.01,21,2,0)
Only users entered in this field can activate a mail server process.  A 
"^DD",160.1,160.24,.01,21,3,0)
user LAST name is enough for this field to satisfy the requirement.
"^DD",160.1,160.24,.01,"DT")
3140114
"^DD",160.1,160.24,2,0)
SERVER RECIPIENT^F^^0;2^K:$L(X)>50!($L(X)<3) X
"^DD",160.1,160.24,2,3)
Answer must be 3-50 characters in length.
"^DD",160.1,160.24,2,21,0)
^^2^2^3140114^
"^DD",160.1,160.24,2,21,1,0)
This field is a valid mail address of a recipient who is going to 
"^DD",160.1,160.24,2,21,2,0)
receive Oncology mail server messages.
"^DD",160.1,160.24,2,23,0)
^^2^2^3140114^
"^DD",160.1,160.24,2,23,1,0)
Enter a valid mail address of a user that will receive messages from 
"^DD",160.1,160.24,2,23,2,0)
Oncology mail server.
"^DD",160.1,160.24,2,"DT")
3140114
"^DD",160.1,160.25,0)
ABSTRACTOR/REGISTRAR SUB-FIELD^^2^2
"^DD",160.1,160.25,0,"DT")
3130925
"^DD",160.1,160.25,0,"IX","B",160.25,.01)

"^DD",160.1,160.25,0,"NM","ABSTRACTOR/REGISTRAR")

"^DD",160.1,160.25,0,"UP")
160.1
"^DD",160.1,160.25,.01,0)
ABSTRACTOR/REGISTRAR^MP200'^VA(200,^0;1^Q
"^DD",160.1,160.25,.01,1,0)
^.1
"^DD",160.1,160.25,.01,1,1,0)
160.25^B
"^DD",160.1,160.25,.01,1,1,1)
S ^ONCO(160.1,DA(1),"REG","B",$E(X,1,30),DA)=""
"^DD",160.1,160.25,.01,1,1,2)
K ^ONCO(160.1,DA(1),"REG","B",$E(X,1,30),DA)
"^DD",160.1,160.25,.01,1,2,0)
160.1^D
"^DD",160.1,160.25,.01,1,2,1)
S ^ONCO(160.1,"D",$E(X,1,30),DA(1),DA)=""
"^DD",160.1,160.25,.01,1,2,2)
K ^ONCO(160.1,"D",$E(X,1,30),DA(1),DA)
"^DD",160.1,160.25,.01,1,2,"DT")
3130924
"^DD",160.1,160.25,.01,21,0)
^^3^3^3130924^
"^DD",160.1,160.25,.01,21,1,0)
This field contains a valid registrar with the privilge to process the 
"^DD",160.1,160.25,.01,21,2,0)
State abstract.  Only user that has an entry in New Person file (#200) 
"^DD",160.1,160.25,.01,21,3,0)
can be entered in this field.
"^DD",160.1,160.25,.01,23,0)
^^1^1^3130924^^
"^DD",160.1,160.25,.01,23,1,0)
Enter a registrar that has a valid entry in the New Persion file (#200).
"^DD",160.1,160.25,.01,"DT")
3130924
"^DD",160.1,160.25,2,0)
3-DIGIT STATE NUMBER^NJ3,0X^^0;2^K:+X'=X!(X>998)!(X<0)!(X?.E1"."1.N)!($$TDSNIT^ONCODSP()) X
"^DD",160.1,160.25,2,1,0)
^.1
"^DD",160.1,160.25,2,1,1,0)
160.1^E
"^DD",160.1,160.25,2,1,1,1)
S ^ONCO(160.1,"E",$E(X,1,30),DA(1),DA)=""
"^DD",160.1,160.25,2,1,1,2)
K ^ONCO(160.1,"E",$E(X,1,30),DA(1),DA)
"^DD",160.1,160.25,2,1,1,"%D",0)
^^1^1^3130926^
"^DD",160.1,160.25,2,1,1,"%D",1,0)
This cross reference will be used to ensure uniqueness of the field.
"^DD",160.1,160.25,2,1,1,"DT")
3130926
"^DD",160.1,160.25,2,3)
Type a number between 0 and 998, 0 decimal digits.
"^DD",160.1,160.25,2,21,0)
^^2^2^3130924^
"^DD",160.1,160.25,2,21,1,0)
This field is a 3-digit number assigned by state to
"^DD",160.1,160.25,2,21,2,0)
a particular registrar.
"^DD",160.1,160.25,2,23,0)
^^1^1^3130924^
"^DD",160.1,160.25,2,23,1,0)
Enter a 3-digit number assigned by state to the registrar.
"^DD",160.1,160.25,2,"DT")
3130926
"^DD",160.16,160.16,0)
FIELD^^2^3
"^DD",160.16,160.16,0,"DDA")
N
"^DD",160.16,160.16,0,"DT")
3031023
"^DD",160.16,160.16,0,"IX","B",160.16,.01)

"^DD",160.16,160.16,0,"NM","ONCOLOGY DATA EXTRACT FORMAT")

"^DD",160.16,160.16,0,"VRPK")
ONC
"^DD",160.16,160.16,.01,0)
NAME^RF^^0;1^K:$L(X)>30!($L(X)<3)!'(X'?1P.E) X
"^DD",160.16,160.16,.01,1,0)
^.1
"^DD",160.16,160.16,.01,1,1,0)
160.16^B
"^DD",160.16,160.16,.01,1,1,1)
S ^ONCO(160.16,"B",$E(X,1,30),DA)=""
"^DD",160.16,160.16,.01,1,1,2)
K ^ONCO(160.16,"B",$E(X,1,30),DA)
"^DD",160.16,160.16,.01,3)
Answer must be 3-30 characters in length.
"^DD",160.16,160.16,.01,21,0)
1
"^DD",160.16,160.16,.01,21,1,0)
This contains the name of the extract.
"^DD",160.16,160.16,.01,"DT")
2970224
"^DD",160.16,160.16,1,0)
FIELD^160.161I^^FIELD;0
"^DD",160.16,160.16,1,21,0)
^.001^1^1^3031023^^^^
"^DD",160.16,160.16,1,21,1,0)
List of all the extracted fields.
"^DD",160.16,160.16,2,0)
RULES^160.162^^RULES;0
"^DD",160.16,160.16,2,21,0)
^^8^8^2970731^
"^DD",160.16,160.16,2,21,1,0)
This field is a set of rules based in MUMPS code that the extract must
"^DD",160.16,160.16,2,21,2,0)
follow for each entry.  Values that must be set are:
"^DD",160.16,160.16,2,21,3,0)
       VALID = 1 means that the extract is valid
"^DD",160.16,160.16,2,21,4,0)
             = 0 means that the extract has is not valid and will not
"^DD",160.16,160.16,2,21,5,0)
               extract
"^DD",160.16,160.16,2,21,6,0)
        JUMP = 0 means process all the field in the extract
"^DD",160.16,160.16,2,21,7,0)
             = X^Y means to skip all the fields from position X to
"^DD",160.16,160.16,2,21,8,0)
               position Y in the extract.
"^DD",160.16,160.161,0)
FIELD SUB-FIELD^^8^9
"^DD",160.16,160.161,0,"DT")
3031023
"^DD",160.16,160.161,0,"ID",3)
W "   ",$P(^(0),U,4)
"^DD",160.16,160.161,0,"IX","B",160.161,.01)

"^DD",160.16,160.161,0,"IX","C",160.161,3)

"^DD",160.16,160.161,0,"NM","FIELD")

"^DD",160.16,160.161,0,"UP")
160.16
"^DD",160.16,160.161,.01,0)
STARTING POSITION^MRNJ6,0^^0;1^K:+X'=X!(X>999999)!(X<0)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,.01,1,0)
^.1
"^DD",160.16,160.161,.01,1,1,0)
160.161^B
"^DD",160.16,160.161,.01,1,1,1)
S ^ONCO(160.16,DA(1),"FIELD","B",$E(X,1,30),DA)=""
"^DD",160.16,160.161,.01,1,1,2)
K ^ONCO(160.16,DA(1),"FIELD","B",$E(X,1,30),DA)
"^DD",160.16,160.161,.01,3)
Type a Number between 0 and 999999, 0 Decimal Digits
"^DD",160.16,160.161,.01,21,0)
^.001^1^1^3000316^^
"^DD",160.16,160.161,.01,21,1,0)
The starting position do the field within the extract.
"^DD",160.16,160.161,.01,"DT")
2970731
"^DD",160.16,160.161,1,0)
LENGTH^NJ6,0^^0;2^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,1,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",160.16,160.161,1,21,0)
^^1^1^2970731^^^
"^DD",160.16,160.161,1,21,1,0)
This contains the character length of the field.
"^DD",160.16,160.161,1,"DT")
2970430
"^DD",160.16,160.161,2,0)
ENDING POSITION^NJ6,0^^0;3^K:+X'=X!(X>999999)!(X<1)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,2,3)
Type a Number between 1 and 999999, 0 Decimal Digits
"^DD",160.16,160.161,2,21,0)
^^1^1^2970731^^^
"^DD",160.16,160.161,2,21,1,0)
This is the ending position of the field data.
"^DD",160.16,160.161,2,"DT")
2970430
"^DD",160.16,160.161,3,0)
NAME^RF^^0;4^K:$L(X)>80!($L(X)<1) X
"^DD",160.16,160.161,3,1,0)
^.1
"^DD",160.16,160.161,3,1,1,0)
160.161^C
"^DD",160.16,160.161,3,1,1,1)
S ^ONCO(160.16,DA(1),"FIELD","C",$E(X,1,30),DA)=""
"^DD",160.16,160.161,3,1,1,2)
K ^ONCO(160.16,DA(1),"FIELD","C",$E(X,1,30),DA)
"^DD",160.16,160.161,3,1,1,"%D",0)
^^1^1^2970430^
"^DD",160.16,160.161,3,1,1,"%D",1,0)
Name cross reference.
"^DD",160.16,160.161,3,1,1,"DT")
2970430
"^DD",160.16,160.161,3,3)
Answer must be 1-80 characters in length.
"^DD",160.16,160.161,3,21,0)
^^1^1^2970731^
"^DD",160.16,160.161,3,21,1,0)
This is the name given to the field within the extract.
"^DD",160.16,160.161,3,"DT")
2970430
"^DD",160.16,160.161,4,0)
ACTION^F^^1;1^K:$L(X)>250!($L(X)<1) X
"^DD",160.16,160.161,4,3)
Answer must be 1-250 characters in length.
"^DD",160.16,160.161,4,21,0)
^^12^12^2970731^
"^DD",160.16,160.161,4,21,1,0)
Enter MUMPS Code that sets ACDANS to a value. DO NOT USE THE "^"
"^DD",160.16,160.161,4,21,2,0)
(UP-ARROW).  Fileman will not except and up-arrow.  Use "~" tilde to
"^DD",160.16,160.161,4,21,3,0)
replace all up-arrows.  The system has been coded to convert the tilde to
"^DD",160.16,160.161,4,21,4,0)
an up-arrow when it executes the string. 
"^DD",160.16,160.161,4,21,5,0)
   For example: 
"^DD",160.16,160.161,4,21,6,0)
               S ACDANS=123
"^DD",160.16,160.161,4,21,7,0)
               S ACDANS=$$FUNCT~ROUTINE(IEN) 
"^DD",160.16,160.161,4,21,8,0)
 
"^DD",160.16,160.161,4,21,9,0)
 Preset Varables:
"^DD",160.16,160.161,4,21,10,0)
              IEN=Internal Entry number of the entry in file 165.5 
"^DD",160.16,160.161,4,21,11,0)
           ACD160=Internal Entry number of the entry in file 160 that is
"^DD",160.16,160.161,4,21,12,0)
                  link to the entry in file 165.5
"^DD",160.16,160.161,4,"DT")
2970729
"^DD",160.16,160.161,5,0)
DEFAULT^F^^2;1^K:$L(X)>200!($L(X)<1) X
"^DD",160.16,160.161,5,3)
Answer must be 1-200 characters in length.
"^DD",160.16,160.161,5,21,0)
^^5^5^2970731^
"^DD",160.16,160.161,5,21,1,0)
The default value of a field that is has no data stored.
"^DD",160.16,160.161,5,21,2,0)
Values can be:
"^DD",160.16,160.161,5,21,3,0)
          BLANK = " "
"^DD",160.16,160.161,5,21,4,0)
          ZERO  = "0"
"^DD",160.16,160.161,5,21,5,0)
          NINE  = "9"
"^DD",160.16,160.161,5,"DT")
2970509
"^DD",160.16,160.161,6,0)
FILL^F^^3;1^K:$L(X)>200!($L(X)<1) X
"^DD",160.16,160.161,6,3)
Answer must be 1-200 characters in length.
"^DD",160.16,160.161,6,21,0)
^^12^12^2970731^
"^DD",160.16,160.161,6,21,1,0)
The filler that is stuffed in front of or behind the data if it is not the 
"^DD",160.16,160.161,6,21,2,0)
max length. This element is devided into two pieces delimeted by a comma.
"^DD",160.16,160.161,6,21,3,0)
The first part tell where the fill is to go. Second part tells waht to
"^DD",160.16,160.161,6,21,4,0)
fill with.  "R" means to fill on the right side of the value and "L" means
"^DD",160.16,160.161,6,21,5,0)
to fill on the left.  The fill values are the same as in DEFAULT
"^DD",160.16,160.161,6,21,6,0)
 
"^DD",160.16,160.161,6,21,7,0)
Example:  L,BLANK = Fill the field with blanks then add the value to the
"^DD",160.16,160.161,6,21,8,0)
remainder
"^DD",160.16,160.161,6,21,9,0)
 
"^DD",160.16,160.161,6,21,10,0)
          BLANK = " "
"^DD",160.16,160.161,6,21,11,0)
          ZERO  = "0"
"^DD",160.16,160.161,6,21,12,0)
          NINE  = "9"
"^DD",160.16,160.161,6,"DT")
2970509
"^DD",160.16,160.161,7,0)
ITEM #^NJ4,0^^3;2^K:+X'=X!(X>9999)!(X<1)!(X?.E1"."1N.N) X
"^DD",160.16,160.161,7,3)
Type a Number between 1 and 9999, 0 Decimal Digits
"^DD",160.16,160.161,7,"DT")
3031023
"^DD",160.16,160.161,8,0)
DERIVATION^F^^4;1^K:$L(X)>150!($L(X)<1) X
"^DD",160.16,160.161,8,3)
Answer must be 1-150 characters in length.
"^DD",160.16,160.161,8,"DT")
3031023
"^DD",160.16,160.162,0)
RULES SUB-FIELD^^.01^1
"^DD",160.16,160.162,0,"DT")
2970618
"^DD",160.16,160.162,0,"NM","RULES")

"^DD",160.16,160.162,0,"UP")
160.16
"^DD",160.16,160.162,.01,0)
RULES^W^^0;1^Q
"^DD",160.16,160.162,.01,"DT")
2970618
"^DD",165.3,165.3,1,0)
DEFINITION^FX^^0;2^K:$L(X)>80!($L(X)<1) X
"^DD",165.3,165.3,1,3)
Answer must be 1-80 characters in length.
"^DD",165.3,165.3,1,21,0)
^.001^1^1^3090915^^^
"^DD",165.3,165.3,1,21,1,0)
Defines the meaning of the CLASS OF CASE CODE.
"^DD",165.3,165.3,1,"DT")
3140218
"^DD",165.5,165.5,139.6,0)
METS SITE RESECTED^S^1:Peritoneum;2:Lung;3:Pleura;4:Liver;5:Bone;6:Brain;7:Skin;8:Distant LNS;9:Other;^3.1;41^Q
"^DD",165.5,165.5,139.6,3)
Enter the appropriate site from the list.
"^DD",165.5,165.5,139.6,21,0)
^.001^2^2^3130807^^^^
"^DD",165.5,165.5,139.6,21,1,0)
This is the Metastatic Site Resected for the First Course of 
"^DD",165.5,165.5,139.6,21,2,0)
Treatment.
"^DD",165.5,165.5,139.6,"DT")
3130807
"^DD",165.5,165.5,139.7,0)
METS SITE RESECTED DATE^DO^^3.2;1^S %DT="E" D ^%DT S X=Y K:Y<1 X
"^DD",165.5,165.5,139.7,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,139.7,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,139.7,3)
Enter the date the Metastatic Site was resected.
"^DD",165.5,165.5,139.7,21,0)
^.001^2^2^3130807^^^
"^DD",165.5,165.5,139.7,21,1,0)
This is the date the Metastatic Site was resected.  The date must be after
"^DD",165.5,165.5,139.7,21,2,0)
or equal to the DATE DX (#3) field.
"^DD",165.5,165.5,139.7,"DT")
3140123
"^DD",165.5,165.5,149,0)
LYMPH-VASCULAR INVASION (L)^S^0:No lymphatic vessel invasion;1:Lymphatic vessel invasion;8:Not applicable;9:Unknown if lymph-vascular invasion present;^2;19^Q
"^DD",165.5,165.5,149,3)
Enter the appropriate LYMPH-VASCULAR INVASION code.
"^DD",165.5,165.5,149,21,0)
^^2^2^3140224^
"^DD",165.5,165.5,149,21,1,0)
LYMPH-VASCULAR INVASION records whether lymph-vascular invasion
"^DD",165.5,165.5,149,21,2,0)
was involved.
"^DD",165.5,165.5,149,"DT")
3140224
"^DD",165.5,165.5,200,0)
DATE LAST CONTACT^CJ12X^^ ; ^S X="" D PDLC^ONCOCRF,DATEOT^ONCOES
"^DD",165.5,165.5,200,9)
^
"^DD",165.5,165.5,200,9.01)

"^DD",165.5,165.5,200,9.1)
S X=""" D PDLC^ONCOCRF,DATEOT^ONCOES
"^DD",165.5,165.5,200,21,0)
^^1^1^2970226^^
"^DD",165.5,165.5,200,21,1,0)
Date last contact with the patient - computed from file #160.
"^DD",165.5,165.5,200,"DT")
2970226
"^DD",165.5,165.5,262,0)
MULTIMODALITY RADIATION TYPE^S^0:No multimodality radiation therapy;1:Adjuvant;2:Neoadjuvant;3:Concomitant or concurrent;4:Palliative;9:Unknown;^PM;12^Q
"^DD",165.5,165.5,262,3)
Enter the type of multimodality radiation therapy administered.
"^DD",165.5,165.5,262,5,1,0)
165.5^127^1
"^DD",165.5,165.5,262,21,0)
^.001^16^16^3130506^^
"^DD",165.5,165.5,262,21,1,0)
 
"^DD",165.5,165.5,262,21,2,0)
Records the type of radiation therapy administered.
"^DD",165.5,165.5,262,21,3,0)
 
"^DD",165.5,165.5,262,21,4,0)
Adjuvant - refers to additional treatment, usually given after surgery
"^DD",165.5,165.5,262,21,5,0)
where all detectable disease has been removed, but where there remains
"^DD",165.5,165.5,262,21,6,0)
a statistical risk of relapse due to occult disease.
"^DD",165.5,165.5,262,21,7,0)
 
"^DD",165.5,165.5,262,21,8,0)
Neoadjuvant - in contrast to adjuvant therapy, is given prior to
"^DD",165.5,165.5,262,21,9,0)
primary treatment, for example, before surgery to remove the tumor.
"^DD",165.5,165.5,262,21,10,0)
The most common reason for neoadjuvant therapy is to reduce the size
"^DD",165.5,165.5,262,21,11,0)
of the tumor so as to facilitate more effective surgery.    
"^DD",165.5,165.5,262,21,12,0)
 
"^DD",165.5,165.5,262,21,13,0)
Concomitant or concurrent - radiation therapy at the same time as
"^DD",165.5,165.5,262,21,14,0)
chemotherapy.
"^DD",165.5,165.5,262,21,15,0)
 
"^DD",165.5,165.5,262,21,16,0)
Palliative - radiation therapy given without expectation of a cure.
"^DD",165.5,165.5,262,"DT")
3130506
"^DD",165.5,165.5,435,0)
DATE MOST DEFINITIVE SURG DIS^DXO^^THY1;36^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.5,435,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,435,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.5,435,3)
Enter the date the patient was discharged following primary site surgery.
"^DD",165.5,165.5,435,21,0)
^.001^7^7^3130722^^^^
"^DD",165.5,165.5,435,21,1,0)
Source of Standard: NAACCR   Item #: 3180
"^DD",165.5,165.5,435,21,2,0)
This is the date the patient was discharged following primary
"^DD",165.5,165.5,435,21,3,0)
site surgery.  The date must be after or equal to the DATE DX (#3)
"^DD",165.5,165.5,435,21,4,0)
field.  The date corresponds to the event recorded in
"^DD",165.5,165.5,435,21,5,0)
SURGERY OF PRIMARY (F) (#58.6) and MOST DEFINITIVE SURG DATE (#50) fields.
"^DD",165.5,165.5,435,21,6,0)
 
"^DD",165.5,165.5,435,21,7,0)
For further information see FORDS pages 144-145.
"^DD",165.5,165.5,435,"DT")
3130429
"^DD",165.5,165.5,999.1,0)
DATE OF DIAGNOSIS FLAG^NJ2,0^^27;8^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.1,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.1,4)
S ONCITM=391 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.1,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.1,21,1,0)
Source of Standard: NAACCR   Item #: 391
"^DD",165.5,165.5,999.1,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.1,21,3,0)
for DATE DX (#3) field.
"^DD",165.5,165.5,999.1,"DT")
3130529
"^DD",165.5,165.5,999.11,0)
RX DATE SURG DISCH FLAG^NJ2,0^^27;17^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.11,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.11,4)
S ONCITM=3181 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.11,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.11,21,1,0)
Source of Standard: NAACCR   Item #: 3181
"^DD",165.5,165.5,999.11,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.11,21,3,0)
for DATE MOST DEFINITIVE SURG DIS (#435) field.
"^DD",165.5,165.5,999.11,"DT")
3130529
"^DD",165.5,165.5,999.12,0)
RX DATE-RADIATION FLAG^NJ2,0^^27;18^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.12,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.12,4)
S ONCITM=1211 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.12,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.12,21,1,0)
Source of Standard: NAACCR   Item #: 1211
"^DD",165.5,165.5,999.12,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.12,21,3,0)
for DATE RADIATION STARTED (#51) field.
"^DD",165.5,165.5,999.12,"DT")
3130529
"^DD",165.5,165.5,999.13,0)
RX DATE RAD ENDED FLAG^NJ2,0^^27;19^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.13,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.13,4)
S ONCITM=3221 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.13,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.13,21,1,0)
Source of Standard: NAACCR   Item #: 3221
"^DD",165.5,165.5,999.13,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.13,21,3,0)
for DATE RADIATION ENDED (#361) field.
"^DD",165.5,165.5,999.13,"DT")
3130529
"^DD",165.5,165.5,999.14,0)
RX DATE SYSTEMIC FLAG^NJ2,0^^27;20^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.14,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.14,4)
S ONCITM=3231 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.14,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.14,21,1,0)
Source of Standard: NAACCR   Item #: 3231
"^DD",165.5,165.5,999.14,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.14,21,3,0)
for DATE SYSTEMIC THERAPY STARTED (#152) field.
"^DD",165.5,165.5,999.14,"DT")
3130529
"^DD",165.5,165.5,999.15,0)
RX DATE-CHEMO FLAG^NJ2,0^^27;21^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.15,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.15,4)
S ONCITM=1221 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.15,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.15,21,1,0)
Source of Standard: NAACCR   Item #: 1221
"^DD",165.5,165.5,999.15,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.15,21,3,0)
for CHEMOTHERAPY DATE (#53) field.
"^DD",165.5,165.5,999.15,"DT")
3130529
"^DD",165.5,165.5,999.16,0)
RX DATE-HORMONE FLAG^NJ2,0^^27;22^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.16,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.16,4)
S ONCITM=1231 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.16,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.16,21,1,0)
Source of Standard: NAACCR   Item #: 1231
"^DD",165.5,165.5,999.16,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.16,21,3,0)
for HORMONE THERAPY DATE (#54) field.
"^DD",165.5,165.5,999.16,"DT")
3130529
"^DD",165.5,165.5,999.17,0)
RX DATE-BRM FLAG^NJ2,0^^27;23^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.17,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.17,4)
S ONCITM=1241 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.17,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.17,21,1,0)
Source of Standard: NAACCR   Item #: 1241
"^DD",165.5,165.5,999.17,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.17,21,3,0)
for IMMUNOTHERAPY DATE (#55) field.
"^DD",165.5,165.5,999.17,"DT")
3130529
"^DD",165.5,165.5,999.18,0)
RX DATE-OTHER FLAG^NJ2,0^^27;24^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.18,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.18,4)
S ONCITM=1251 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.18,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.18,21,1,0)
Source of Standard: NAACCR   Item #: 1251
"^DD",165.5,165.5,999.18,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.18,21,3,0)
for OTHER TREATMENT START DATE (#57) field.
"^DD",165.5,165.5,999.18,"DT")
3130529
"^DD",165.5,165.5,999.19,0)
RX DATE-DX/STG PROC FLAG^NJ2,0^^27;25^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.19,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.19,4)
S ONCITM=1281 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.19,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.19,21,1,0)
Source of Standard: NAACCR   Item #: 1281
"^DD",165.5,165.5,999.19,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.19,21,3,0)
for SURGICAL DX/STAGING PROC DATE (#58.3) field.
"^DD",165.5,165.5,999.19,"DT")
3130529
"^DD",165.5,165.5,999.2,0)
DATE CONCLUSIVE DX FLAG^NJ2,0^^27;9^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.2,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.2,4)
S ONCITM=448 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.2,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.2,21,1,0)
Source of Standard: NAACCR   ITEM #: 448
"^DD",165.5,165.5,999.2,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.2,21,3,0)
for DATE OF CONCLUSIVE DX (#193) field.
"^DD",165.5,165.5,999.2,"DT")
3130529
"^DD",165.5,165.5,999.21,0)
RECURRENCE DATE-1ST FLAG^NJ2,0^^27;26^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.21,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.21,4)
S ONCITM=1861 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.21,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.21,21,1,0)
Source of Standard: NAACCR   Item #: 1861
"^DD",165.5,165.5,999.21,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.21,21,3,0)
for DATE OF FIRST RECURRENCE (#70) field.
"^DD",165.5,165.5,999.21,"DT")
3130529
"^DD",165.5,165.5,999.22,0)
DATE OF LAST CONTACT FLAG^NJ2,0^^27;27^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.22,.1)

"^DD",165.5,165.5,999.22,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.22,4)
S ONCITM=1751 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.22,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.22,21,1,0)
Source of Standard: NAACCR   Item #: 1751
"^DD",165.5,165.5,999.22,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.22,21,3,0)
for the FOLLOW-UP (#400) multiple of the ONCOLOGY PATIENT (#160) file.
"^DD",165.5,165.5,999.22,"DT")
3130529
"^DD",165.5,165.5,999.23,0)
SUBSQ RX 2ND CRS DATE FLAG^NJ2,0^^27;28^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.23,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.23,4)
S ONCITM=1661 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.23,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.23,21,1,0)
Source of Standard: NAACCR   Item #: 1661
"^DD",165.5,165.5,999.23,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.23,21,3,0)
for SUBSEQUENT COURSE OF TREATMENT (#60) multiple field.
"^DD",165.5,165.5,999.23,"DT")
3130529
"^DD",165.5,165.5,999.24,0)
SUBSQ RX 3RD CRS DATE FLAG^NJ2,0^^27;29^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.24,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.24,4)
S ONCITM=1681 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.24,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.24,21,1,0)
Source of Standard: NAACCR   Item #: 1681
"^DD",165.5,165.5,999.24,21,2,0)
This field is a flag that explains why no appropriate 2nd value is entered
"^DD",165.5,165.5,999.24,21,3,0)
for SUBSEQUENT COURSE OF TREATMENT (#60) multiple field.
"^DD",165.5,165.5,999.24,"DT")
3130529
"^DD",165.5,165.5,999.25,0)
SUBSQ RX 4TH CRS DATE FLAG^NJ2,0^^27;30^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.25,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.25,4)
S ONCITM=1701 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.25,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.25,21,1,0)
Source of Standard: NAACCR   Item #: 1701
"^DD",165.5,165.5,999.25,21,2,0)
This field is a flag that explains why no appropriate 3rd value is entered
"^DD",165.5,165.5,999.25,21,3,0)
for SUBSEQUENT COURSE OF TREATMENT (#60) multiple field.
"^DD",165.5,165.5,999.25,"DT")
3130529
"^DD",165.5,165.5,999.3,0)
DATE OF MULT TUMORS FLAG^NJ2,0^^27;10^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.3,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.3,4)
S ONCITM=439 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.3,21,0)
3^.001^3^3^3140127^^
"^DD",165.5,165.5,999.3,21,1,0)
Source of Standard: NAACCR   Item #: 439
"^DD",165.5,165.5,999.3,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.3,21,3,0)
for DATE OF MULTIPLE TUMORS (#195) field.
"^DD",165.5,165.5,999.3,"DT")
3130529
"^DD",165.5,165.5,999.4,0)
DATE OF FIRST CONTACT FLAG^NJ2,0^^27;11^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.4,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.4,4)
S ONCITM=581 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.4,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.4,21,1,0)
Source of Standard: NAACCR   Item #: 581
"^DD",165.5,165.5,999.4,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.4,21,3,0)
for DATE OF FIRST CONTACT (#155) field.
"^DD",165.5,165.5,999.4,"DT")
3130529
"^DD",165.5,165.5,999.5,0)
DATE OF INPT ADM FLAG^NJ2,0^^27;12^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.5,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.5,4)
S ONCITM=591 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.5,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.5,21,1,0)
Source of Standard: NAACCR   Item #: 591
"^DD",165.5,165.5,999.5,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.5,21,3,0)
for DATE OF INPATIENT ADMISSION (#1) field.
"^DD",165.5,165.5,999.5,"DT")
3130529
"^DD",165.5,165.5,999.6,0)
DATE OF INPT DISCH FLAG^NJ2,0^^27;13^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.6,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.6,4)
S ONCITM=601 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.6,21,0)
^.001^3^3^3140127^^^^
"^DD",165.5,165.5,999.6,21,1,0)
Source of Standard: NAACCR   Item #: 601
"^DD",165.5,165.5,999.6,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.6,21,3,0)
for DATE OF INPATIENT DISCHARGE (#1.1) field.
"^DD",165.5,165.5,999.6,"DT")
3130529
"^DD",165.5,165.5,999.7,0)
DATE 1ST CRS RX FLAG^NJ2,0^^27;14^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.7,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.7,4)
S ONCITM=1271 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.7,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.7,21,1,0)
Source of Standard: NAACCR   Item #: 1271
"^DD",165.5,165.5,999.7,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.7,21,3,0)
for FIRST COURSE OF TREATMENT DATE (#49) field.
"^DD",165.5,165.5,999.7,"DT")
3130718
"^DD",165.5,165.5,999.8,0)
RX DATE-SURGERY FLAG^NJ2,0^^27;15^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.8,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.8,4)
S ONCITM=1201 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.8,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.8,21,1,0)
Source of Standard: NAACCR   Item #: 1201
"^DD",165.5,165.5,999.8,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.8,21,3,0)
for DATE FIRST SURGICAL PROCEDURE (#170) field.
"^DD",165.5,165.5,999.8,"DT")
3130529
"^DD",165.5,165.5,999.9,0)
RX DATE MST DEFN SRG FLAG^NJ2,0^^27;16^K:+X'=X!(X>99)!(X<0)!(X?.E1"."1N.N) X
"^DD",165.5,165.5,999.9,3)
Type a number between 0 and 99, 0 decimal digits.
"^DD",165.5,165.5,999.9,4)
S ONCITM=3171 D DTFLGHLP^ONCOHELP
"^DD",165.5,165.5,999.9,21,0)
^.001^3^3^3140127^^^
"^DD",165.5,165.5,999.9,21,1,0)
Source of Standard: NAACCR   Item #: 3171
"^DD",165.5,165.5,999.9,21,2,0)
This field is a flag that explains why no appropriate value is entered
"^DD",165.5,165.5,999.9,21,3,0)
for MOST DEFINITIVE SURG DATE (#50) field.
"^DD",165.5,165.5,999.9,"DT")
3130529
"^DD",165.5,165.51,38,0)
SCOPE OF LN SURGERY DATE^DXO^^2;35^D DFIT^ONCODSR I $D(X) S V="0000000" D NT^ONCODSR
"^DD",165.5,165.51,38,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,38,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,38,3)
Enter the date that the SCOPE OF LYMPH NODE SURGERY (#35) sub-field was performed.
"^DD",165.5,165.51,38,21,0)
^.001^3^3^3130807^^^^
"^DD",165.5,165.51,38,21,1,0)
This field records the date of the SCOPE OF LYMPH NODE SURGERY (#35)
"^DD",165.5,165.51,38,21,2,0)
sub-field for this subsequent course of treatment.  The date entered must
"^DD",165.5,165.51,38,21,3,0)
be after or equal to the DATE DX (#3) field.
"^DD",165.5,165.51,38,"DT")
3130724
"^DD",165.5,165.51,39,0)
SURGICAL PROC/OTHER SITE DATE^DXO^^2;36^D DFIT^ONCODSR
"^DD",165.5,165.51,39,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,39,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,39,3)
Enter the date that the SURGICAL PROC/OTHER SITE (#36) sub-field was performed.
"^DD",165.5,165.51,39,21,0)
^.001^3^3^3140212^^^^
"^DD",165.5,165.51,39,21,1,0)
This field records the date of the SURGICAL PROC/OTHER SITE (#36)
"^DD",165.5,165.51,39,21,2,0)
sub-field for this subsequent course of therapy.  The date entered must
"^DD",165.5,165.51,39,21,3,0)
be after or equal to the DATE DX (#3) field.
"^DD",165.5,165.51,39,"DT")
3140212
"^DD",165.5,165.51,40,0)
METS SITE RESECTED^S^0:None;1:Peritoneum;2:Lung;3:Pleura;4:Liver;5:Bone;6:Brain;7:Skin;8:Distant LNS;9:Other;^2;37^Q
"^DD",165.5,165.51,40,3)
Enter the appropriate site from the list.
"^DD",165.5,165.51,40,21,0)
^.001^1^1^3130807^^^^
"^DD",165.5,165.51,40,21,1,0)
This is the Metastatic Site Resected for this subsequent treatment.
"^DD",165.5,165.51,40,"DT")
3130725
"^DD",165.5,165.51,41,0)
METS SITE RESECTED DATE^DXO^^2;38^D DFIT^ONCODSR
"^DD",165.5,165.51,41,2)
S Y(0)=Y S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,41,2.1)
S X=Y D DATEOT^ONCOES
"^DD",165.5,165.51,41,3)
Enter the date the Metastatic Site was resected.
"^DD",165.5,165.51,41,21,0)
^.001^2^2^3130807^^^
"^DD",165.5,165.51,41,21,1,0)
This is the date the Metastatic Site was resected.  The Date must be after
"^DD",165.5,165.51,41,21,2,0)
or equal to the DATE DX (#3) field.
"^DD",165.5,165.51,41,"DT")
3140212
"^DD",165.5,165.51,42,0)
PALLIATIVE CARE^S^0:No palliative care;1:Surgery;2:Radiation;3:Systemic tx;4:Pain management;5:Surg, rad, and/or systemic tx w/o pain mgt;6:Surg, rad, and/or systemic tx w pain mgt;7:Palliative care, type unknown;9:Unknown, not stated;^2;39^Q
"^DD",165.5,165.51,42,3)
Enter the type of palliative care from the list.
"^DD",165.5,165.51,42,21,0)
^^4^4^3130724^
"^DD",165.5,165.51,42,21,1,0)
Identifies any care provided in an effort to palliate or alleviate
"^DD",165.5,165.51,42,21,2,0)
symptoms.  Palliative care is performed to relieve symptoms and may
"^DD",165.5,165.51,42,21,3,0)
include surgery, radiation therapy, systemic therapy (chemotherapy,
"^DD",165.5,165.51,42,21,4,0)
hormone therapy or other systemic drugs), and/or pain management therapy.
"^DD",165.5,165.51,42,"DT")
3130724
"^DIC",160.16,160.16,0)
ONCOLOGY DATA EXTRACT FORMAT^160.16
"^DIC",160.16,160.16,0,"GL")
^ONCO(160.16,
"^DIC",160.16,160.16,"%D",0)
^^1^1^2990419^^
"^DIC",160.16,160.16,"%D",1,0)
This file contains the ONCOLOGY Data Extract Formats.
"^DIC",160.16,"B","ONCOLOGY DATA EXTRACT FORMAT",160.16)

**END**
**END**
