KIDS Distribution saved on Oct 21, 2011@12:05:26
ONCOLOGY PATCH ONC*2.11*55
**KIDS**:ONC*2.11*55^

**INSTALL NAME**
ONC*2.11*55
"BLD",8031,0)
ONC*2.11*55^ONCOLOGY^0^3111021^y
"BLD",8031,4,0)
^9.64PA^^
"BLD",8031,6.3)
15
"BLD",8031,"ABPKG")
n
"BLD",8031,"INID")
^
"BLD",8031,"INIT")

"BLD",8031,"KRN",0)
^9.67PA^779.2^20
"BLD",8031,"KRN",.4,0)
.4
"BLD",8031,"KRN",.401,0)
.401
"BLD",8031,"KRN",.402,0)
.402
"BLD",8031,"KRN",.403,0)
.403
"BLD",8031,"KRN",.5,0)
.5
"BLD",8031,"KRN",.84,0)
.84
"BLD",8031,"KRN",3.6,0)
3.6
"BLD",8031,"KRN",3.8,0)
3.8
"BLD",8031,"KRN",9.2,0)
9.2
"BLD",8031,"KRN",9.8,0)
9.8
"BLD",8031,"KRN",9.8,"NM",0)
^9.68A^2^2
"BLD",8031,"KRN",9.8,"NM",1,0)
ONCACD1^^0^B45446923
"BLD",8031,"KRN",9.8,"NM",2,0)
ONCODIS^^0^B778412
"BLD",8031,"KRN",9.8,"NM","B","ONCACD1",1)

"BLD",8031,"KRN",9.8,"NM","B","ONCODIS",2)

"BLD",8031,"KRN",19,0)
19
"BLD",8031,"KRN",19,"NM",0)
^9.68A^^0
"BLD",8031,"KRN",19.1,0)
19.1
"BLD",8031,"KRN",101,0)
101
"BLD",8031,"KRN",409.61,0)
409.61
"BLD",8031,"KRN",771,0)
771
"BLD",8031,"KRN",779.2,0)
779.2
"BLD",8031,"KRN",870,0)
870
"BLD",8031,"KRN",8989.51,0)
8989.51
"BLD",8031,"KRN",8989.52,0)
8989.52
"BLD",8031,"KRN",8994,0)
8994
"BLD",8031,"KRN",8994,"NM",0)
^9.68A^^0
"BLD",8031,"KRN","B",.4,.4)

"BLD",8031,"KRN","B",.401,.401)

"BLD",8031,"KRN","B",.402,.402)

"BLD",8031,"KRN","B",.403,.403)

"BLD",8031,"KRN","B",.5,.5)

"BLD",8031,"KRN","B",.84,.84)

"BLD",8031,"KRN","B",3.6,3.6)

"BLD",8031,"KRN","B",3.8,3.8)

"BLD",8031,"KRN","B",9.2,9.2)

"BLD",8031,"KRN","B",9.8,9.8)

"BLD",8031,"KRN","B",19,19)

"BLD",8031,"KRN","B",19.1,19.1)

"BLD",8031,"KRN","B",101,101)

"BLD",8031,"KRN","B",409.61,409.61)

"BLD",8031,"KRN","B",771,771)

"BLD",8031,"KRN","B",779.2,779.2)

"BLD",8031,"KRN","B",870,870)

"BLD",8031,"KRN","B",8989.51,8989.51)

"BLD",8031,"KRN","B",8989.52,8989.52)

"BLD",8031,"KRN","B",8994,8994)

"BLD",8031,"QUES",0)
^9.62^^
"BLD",8031,"REQB",0)
^9.611^1^1
"BLD",8031,"REQB",1,0)
ONC*2.11*53^1
"BLD",8031,"REQB","B","ONC*2.11*53",1)

"MBREQ")
0
"PKG",14,-1)
1^1
"PKG",14,0)
ONCOLOGY^ONC^Oncology treatment tracking & tumor registry package.
"PKG",14,20,0)
^9.402P^^
"PKG",14,22,0)
^9.49I^1^1
"PKG",14,22,1,0)
2.11^3041126^2950417
"PKG",14,22,1,"PAH",1,0)
55^3111021
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
2
"RTN","ONCACD1")
0^1^B45446923
"RTN","ONCACD1",1,0)
ONCACD1 ;Hines OIFO/GWB - Extract NAACCR/STATE/VACCR data ;09/06/11
"RTN","ONCACD1",2,0)
 ;;2.11;Oncology;**9,12,14,18,20,22,24,25,26,28,29,31,36,37,41,43,47,48,51,52,53,55**;Mar 07, 1995;Build 15
"RTN","ONCACD1",3,0)
 ;
"RTN","ONCACD1",4,0)
EN1 ;Entry point
"RTN","ONCACD1",5,0)
 K ^TMP($J)
"RTN","ONCACD1",6,0)
 N EXPORT,PAGE,STOPDT,OIEN,ZTREQ
"RTN","ONCACD1",7,0)
 S PAGE=1,OIEN=0
"RTN","ONCACD1",8,0)
 S EXPORT="YES"
"RTN","ONCACD1",9,0)
 D SETUP
"RTN","ONCACD1",10,0)
 I 'DEVICE W $C(26) H 30
"RTN","ONCACD1",11,0)
 Q
"RTN","ONCACD1",12,0)
 ;
"RTN","ONCACD1",13,0)
SETUP ;Loop through appropriate cross-reference
"RTN","ONCACD1",14,0)
 I 'DEVICE S X=0 X ^%ZOSF("RM") ;Disable autowrap
"RTN","ONCACD1",15,0)
 N BLANK,DCLC,FDNUM,IEN,NC,NINE,TPG,ZERO,ZNINE,X
"RTN","ONCACD1",16,0)
 S BLANK=" "
"RTN","ONCACD1",17,0)
 S (IEN,ZERO)=0
"RTN","ONCACD1",18,0)
 S NINE=9,ZNINE="09"
"RTN","ONCACD1",19,0)
 S OUT=$G(OUT,0)
"RTN","ONCACD1",20,0)
 ;
"RTN","ONCACD1",21,0)
 ;NCDB EXTRACT
"RTN","ONCACD1",22,0)
 ;Loop through DATE DX (165.5,3) "ADX" cross-reference
"RTN","ONCACD1",23,0)
 ;
"RTN","ONCACD1",24,0)
 I STEXT=0 S STOPDT=DATE+10000 F  S DATE=$O(^ONCO(165.5,"ADX",DATE)) Q:(DATE=STOPDT)!(DATE>STOPDT)!(DATE="")  S IEN=0 F  S IEN=$O(^ONCO(165.5,"ADX",DATE,IEN)) Q:IEN=""  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",25,0)
 .I $G(NCDB)=2 S DCLC=$P($G(^ONCO(165.5,IEN,7)),U,21) Q:(DCLC<SDT)!(DCLC>EDT)
"RTN","ONCACD1",26,0)
 .D LOOP
"RTN","ONCACD1",27,0)
 ;
"RTN","ONCACD1",28,0)
 ;VACCR/STATE EXTRACT
"RTN","ONCACD1",29,0)
 ;Loop through DATE CASE COMPLETED (165.5,90) "AAD" cross-reference
"RTN","ONCACD1",30,0)
 I STEXT=1 S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAD",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAD",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",31,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",32,0)
 .D LOOP
"RTN","ONCACD1",33,0)
 ;
"RTN","ONCACD1",34,0)
 ;VACCR/STATE EXTRACT
"RTN","ONCACD1",35,0)
 ;Loop through DATE CASE LAST CHANGED (165.5,198) "AAE" cross-reference
"RTN","ONCACD1",36,0)
 I STEXT=2 S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"AAE",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"AAE",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",37,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",38,0)
 .D LOOP
"RTN","ONCACD1",39,0)
 ;
"RTN","ONCACD1",40,0)
 ;RQRS EXTRACT
"RTN","ONCACD1",41,0)
 ;Loop through DATE DX (165.5,3) "ADX" cross-reference
"RTN","ONCACD1",42,0)
 I STEXT=3 S SDT=SDT-1 F  S SDT=$O(^ONCO(165.5,"ADX",SDT)) Q:(SDT<1)!(SDT>EDT)!(OUT=1)  F  S IEN=$O(^ONCO(165.5,"ADX",SDT,IEN)) Q:IEN<1  I $$DIV^ONCFUNC(IEN)=DUZ(2) D  Q:OUT
"RTN","ONCACD1",43,0)
 .Q:$G(^ONCO(165.5,IEN,0))=""
"RTN","ONCACD1",44,0)
 .S TPG=$P($G(^ONCO(165.5,IEN,2)),U,1)
"RTN","ONCACD1",45,0)
 .S NC=0
"RTN","ONCACD1",46,0)
 .F FDNUM=.03,.04,.05,.06,3,9,20,22.3,37.1,37.2,37.3,38,58.6,58.7,85,86,88 I $$GET1^DIQ(165.5,IEN,FDNUM,"I")="" S NC=1
"RTN","ONCACD1",47,0)
 .I $$GET1^DIQ(165.5,IEN,3,"I")<3100000,$$GET1^DIQ(165.5,IEN,87,"I")="" S NC=1
"RTN","ONCACD1",48,0)
 .Q:NC=1
"RTN","ONCACD1",49,0)
 .I ($E(TPG,3,4)=50)!($E(TPG,3,4)=18)!($E(TPG,3,4)=20) D LOOP
"RTN","ONCACD1",50,0)
 Q
"RTN","ONCACD1",51,0)
 ;
"RTN","ONCACD1",52,0)
LOOP ;Apply extract selection rules
"RTN","ONCACD1",53,0)
 N LINE,RULES,VALID,JUMP
"RTN","ONCACD1",54,0)
 S RULES=0
"RTN","ONCACD1",55,0)
 F  S RULES=$O(^ONCO(160.16,EXTRACT,"RULES",RULES)) Q:RULES<1  D
"RTN","ONCACD1",56,0)
 .S LINE=^ONCO(160.16,EXTRACT,"RULES",RULES,0)
"RTN","ONCACD1",57,0)
 .X LINE
"RTN","ONCACD1",58,0)
 Q:'VALID
"RTN","ONCACD1",59,0)
 S ^TMP($J,IEN)=""
"RTN","ONCACD1",60,0)
 D OUTPUT(IEN,EXTRACT,JUMP,.OUT)
"RTN","ONCACD1",61,0)
 I 'DEVICE W !
"RTN","ONCACD1",62,0)
 Q
"RTN","ONCACD1",63,0)
 ;
"RTN","ONCACD1",64,0)
OUTPUT(IEN,EXTRACT,JUMP,OUT) ;Output
"RTN","ONCACD1",65,0)
 S ACD160=$P(^ONCO(165.5,IEN,0),U,2)
"RTN","ONCACD1",66,0)
 I DEVICE D HEAD(IEN,.OUT) Q:OUT
"RTN","ONCACD1",67,0)
 N POS S POS=0
"RTN","ONCACD1",68,0)
 F  S POS=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCACD1",69,0)
 .N NODE S NODE=0
"RTN","ONCACD1",70,0)
 .F  S NODE=$O(^ONCO(160.16,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCACD1",71,0)
 ..N STRING,DEFAULT,FILL,LEN
"RTN","ONCACD1",72,0)
 ..Q:$G(^ONCO(160.16,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCACD1",73,0)
 ..D DISPLAY(DEVICE,$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCACD1",74,0)
 ..Q:OUT
"RTN","ONCACD1",75,0)
 ..S LEN=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCACD1",76,0)
 ..S STRING=$TR(^ONCO(160.16,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCACD1",77,0)
 ..S DEFAULT=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,2),U,1)
"RTN","ONCACD1",78,0)
 ..S FILL=$P(^ONCO(160.16,EXTRACT,"FIELD",NODE,3),U,1)
"RTN","ONCACD1",79,0)
 ..D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCACD1",80,0)
 ..;=========================================================
"RTN","ONCACD1",81,0)
 ..; This Code supports the PCE Extracts (currently disabled)
"RTN","ONCACD1",82,0)
 ..;=========================================================
"RTN","ONCACD1",83,0)
 ..I $G(^ONCO(160.16,EXTRACT,0))["ZZNCDB" D
"RTN","ONCACD1",84,0)
 ...I $O(^ONCO(160.16,EXTRACT,"FIELD","B",POS))>1 Q  ;QUIT if not end
"RTN","ONCACD1",85,0)
 ...N EXTRACT,NODE,POS
"RTN","ONCACD1",86,0)
 ...S EXTRACT=100,JUMP=0
"RTN","ONCACD1",87,0)
 ...;S:$D(^ONCO(165.5,"APCE","BLA",IEN)) EXTRACT=1
"RTN","ONCACD1",88,0)
 ...; ^==== Bladder 95,90,85
"RTN","ONCACD1",89,0)
 ...;S:$D(^ONCO(165.5,"APCE","THY",IEN)) EXTRACT=2
"RTN","ONCACD1",90,0)
 ...; ^==== Thyroid 96,91,86
"RTN","ONCACD1",91,0)
 ...;S:$D(^ONCO(165.5,"APCE","STS",IEN)) EXTRACT=3
"RTN","ONCACD1",92,0)
 ...; ^==== Soft Tissue 96,91,86
"RTN","ONCACD1",93,0)
 ...;S:$D(^ONCO(165.5,"APCE","COL",IEN)) EXTRACT=4
"RTN","ONCACD1",94,0)
 ...; ^==== Colorectal 97,92,87
"RTN","ONCACD1",95,0)
 ...;S:$D(^ONCO(165.5,"APCE","NHL",IEN)) EXTRACT=5
"RTN","ONCACD1",96,0)
 ...; ^==== Non-Hodgkins 97,92,87
"RTN","ONCACD1",97,0)
 ...;S:$D(^ONCO(165.5,"APCE","BRE",IEN)) EXTRACT=6
"RTN","ONCACD1",98,0)
 ...; ^==== Breast 98,93,88
"RTN","ONCACD1",99,0)
 ...;S:$D(^ONCO(165.5,"APCE","PRO2",IEN)) EXTRACT=7
"RTN","ONCACD1",100,0)
 ...; ^==== Prostate 98,93,88
"RTN","ONCACD1",101,0)
 ...;S:$D(^ONCO(165.5,"APCE","MEL",IEN)) EXTRACT=8
"RTN","ONCACD1",102,0)
 ...; ^==== Melanoma 99,94,89
"RTN","ONCACD1",103,0)
 ...;S:$D(^ONCO(165.5,"APCE","HEP",IEN)) EXTRACT=9
"RTN","ONCACD1",104,0)
 ...; ^==== Hepatocellular Cancers 00,95,90
"RTN","ONCACD1",105,0)
 ...;S:$D(^ONCO(165.5,"APCE","CNS",IEN)) EXTRACT=10
"RTN","ONCACD1",106,0)
 ...; ^==== Primary Intracranial/CNS Tumors 00,95,90
"RTN","ONCACD1",107,0)
 ...;S:$D(^ONCO(165.5,"APCE","LNG",IEN)) EXTRACT=11
"RTN","ONCACD1",108,0)
 ...; ^==== Lung (NSCLC) 01,96,91
"RTN","ONCACD1",109,0)
 ...;S:$D(^ONCO(165.5,"APCE","GAS",IEN)) EXTRACT=12
"RTN","ONCACD1",110,0)
 ...; ^==== Gastric Cancers 01,96,91
"RTN","ONCACD1",111,0)
 ...S POS=0
"RTN","ONCACD1",112,0)
 ...F  S POS=$O(^ONCO(160.17,EXTRACT,"FIELD","B",POS)) Q:POS<1  D  Q:OUT
"RTN","ONCACD1",113,0)
 ....N NODE S NODE=0
"RTN","ONCACD1",114,0)
 ....F  S NODE=$O(^ONCO(160.17,EXTRACT,"FIELD","B",POS,NODE)) Q:NODE<1  D  Q:OUT
"RTN","ONCACD1",115,0)
 .....N DEFAULT,FILL,LEN,STRING
"RTN","ONCACD1",116,0)
 .....Q:$G(^ONCO(160.17,EXTRACT,"FIELD",NODE,0))=""
"RTN","ONCACD1",117,0)
 .....D DISPLAY(DEVICE,$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,1)_U_$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,4),.OUT)
"RTN","ONCACD1",118,0)
 .....Q:OUT
"RTN","ONCACD1",119,0)
 .....S STRING=$TR(^ONCO(160.17,EXTRACT,"FIELD",NODE,1),"~","^")
"RTN","ONCACD1",120,0)
 .....S DEFAULT=^ONCO(160.17,EXTRACT,"FIELD",NODE,2)
"RTN","ONCACD1",121,0)
 .....S FILL=^ONCO(160.17,EXTRACT,"FIELD",NODE,3)
"RTN","ONCACD1",122,0)
 .....S LEN=$P(^ONCO(160.17,EXTRACT,"FIELD",NODE,0),U,2)
"RTN","ONCACD1",123,0)
 .....D DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS)
"RTN","ONCACD1",124,0)
 Q
"RTN","ONCACD1",125,0)
 ;
"RTN","ONCACD1",126,0)
HEAD(IEN,OUT) ;Preview End-of-Page
"RTN","ONCACD1",127,0)
 N FLG
"RTN","ONCACD1",128,0)
 I IEN=OIEN S FLG=0
"RTN","ONCACD1",129,0)
 I IEN'=OIEN S OIEN=IEN,FLG=1
"RTN","ONCACD1",130,0)
 I 'FLG Q:$Y+4<IOSL
"RTN","ONCACD1",131,0)
 I PAGE'=1 D  Q:OUT
"RTN","ONCACD1",132,0)
 .Q:$E(IOST,1,2)'="C-"
"RTN","ONCACD1",133,0)
 .N DIR,Y
"RTN","ONCACD1",134,0)
 .S DIR(0)="E" D ^DIR
"RTN","ONCACD1",135,0)
 .I 'Y S OUT=1 Q
"RTN","ONCACD1",136,0)
 D HEADER
"RTN","ONCACD1",137,0)
 Q
"RTN","ONCACD1",138,0)
 ;
"RTN","ONCACD1",139,0)
HEADER ;Preview Header
"RTN","ONCACD1",140,0)
 I PAGE'=1 W @IOF
"RTN","ONCACD1",141,0)
 I PAGE=1,$E(IOST,1,2)="C-" W @IOF
"RTN","ONCACD1",142,0)
 I STEXT=3 W !,"RQRS EXTRACT",?70,"Page: ",PAGE S PAGE=PAGE+1
"RTN","ONCACD1",143,0)
 E  W !,$P(^ONCO(160.16,EXTRACT,0),U),?70,"Page: ",PAGE S PAGE=PAGE+1
"RTN","ONCACD1",144,0)
 W !,"Patient: ",$$GET1^DIQ(160,ACD160,.01,"E")
"RTN","ONCACD1",145,0)
 W ?55,"SSN: ",$$GET1^DIQ(160,ACD160,2,"E")
"RTN","ONCACD1",146,0)
 W !,"Col#",?5,"Item name",?51,"Value",!
"RTN","ONCACD1",147,0)
 F I=1:1:79 W "="
"RTN","ONCACD1",148,0)
 Q
"RTN","ONCACD1",149,0)
 ;
"RTN","ONCACD1",150,0)
DISPLAY(DEVICE,WRITE,OUT) ; Display preview
"RTN","ONCACD1",151,0)
 Q:'DEVICE
"RTN","ONCACD1",152,0)
 N DOTS,COL,ITEM
"RTN","ONCACD1",153,0)
 I DEVICE,($Y+5)>IOSL D HEAD(0,.OUT) Q:OUT
"RTN","ONCACD1",154,0)
 S COL=$P(WRITE,U,1)
"RTN","ONCACD1",155,0)
 S COL=$S($L(COL)=1:"   "_COL,$L(COL)=2:"  "_COL,$L(COL)=3:" "_COL,1:COL)
"RTN","ONCACD1",156,0)
 S ITEM=$P(WRITE,U,2),ITEM=$E(ITEM,1,45)
"RTN","ONCACD1",157,0)
 S DOTS=(46-$L(ITEM))
"RTN","ONCACD1",158,0)
 W !,COL,?5,ITEM
"RTN","ONCACD1",159,0)
 F I=1:1:DOTS W "."
"RTN","ONCACD1",160,0)
 Q
"RTN","ONCACD1",161,0)
 ;
"RTN","ONCACD1",162,0)
DATA(IEN,ACD160,STRING,DEFAULT,FILL,LEN,JUMP,NODE,POS) ;Compute extract value
"RTN","ONCACD1",163,0)
 N ACDANS,EXIT S EXIT=0
"RTN","ONCACD1",164,0)
 I JUMP'="0" D
"RTN","ONCACD1",165,0)
 .I POS<$P(JUMP,U) Q
"RTN","ONCACD1",166,0)
 .I POS>$P(JUMP,U,2) Q
"RTN","ONCACD1",167,0)
 .N I
"RTN","ONCACD1",168,0)
 .S EXIT=1
"RTN","ONCACD1",169,0)
 .F I=1:1:LEN W BLANK
"RTN","ONCACD1",170,0)
 Q:EXIT
"RTN","ONCACD1",171,0)
 X STRING
"RTN","ONCACD1",172,0)
 ;
"RTN","ONCACD1",173,0)
 ;If value = "", extract DEFAULT value
"RTN","ONCACD1",174,0)
 I ACDANS="" D  Q
"RTN","ONCACD1",175,0)
 .N I,X S X=""
"RTN","ONCACD1",176,0)
 .I DEFAULT=8 D  Q
"RTN","ONCACD1",177,0)
 ..F I=1:1:LEN W DEFAULT
"RTN","ONCACD1",178,0)
 .I @DEFAULT="09" W @DEFAULT Q
"RTN","ONCACD1",179,0)
 .F I=1:1:LEN W @DEFAULT
"RTN","ONCACD1",180,0)
 ;
"RTN","ONCACD1",181,0)
 ;If value too long, truncate to LENGTH (160.161,1)
"RTN","ONCACD1",182,0)
 ;If value too short, pad with FILL (160.161,6)
"RTN","ONCACD1",183,0)
 I $L(ACDANS)=LEN W ACDANS Q
"RTN","ONCACD1",184,0)
 I $L(ACDANS)>LEN W $E(ACDANS,1,LEN) Q
"RTN","ONCACD1",185,0)
 E  D  Q
"RTN","ONCACD1",186,0)
 .N JUST,STUFF,I,REM,CAL
"RTN","ONCACD1",187,0)
 .S JUST=$P(FILL,","),STUFF=$P(FILL,",",2)
"RTN","ONCACD1",188,0)
 .S REM=LEN-$L(ACDANS)
"RTN","ONCACD1",189,0)
 .I JUST="R" W ACDANS
"RTN","ONCACD1",190,0)
 .F I=1:1:REM W @STUFF
"RTN","ONCACD1",191,0)
 .I JUST="L" W ACDANS
"RTN","ONCACD1",192,0)
 Q
"RTN","ONCACD1",193,0)
 ;
"RTN","ONCACD1",194,0)
CLEANUP ;Cleanup
"RTN","ONCACD1",195,0)
 K DATE,EDT,NCDB,SDT,STEXT
"RTN","ONCODIS")
0^2^B778412
"RTN","ONCODIS",1,0)
ONCODIS ;Hines OIFO/GWB - OncoTrax Banner ;09/13/11
"RTN","ONCODIS",2,0)
 ;;2.11;Oncology;**6,7,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,55**;Mar 07, 1995;Build 15
"RTN","ONCODIS",3,0)
 ;
"RTN","ONCODIS",4,0)
MAIN ;OncoTrax Banner
"RTN","ONCODIS",5,0)
 S RC=$$CHKVER^ONCSAPIV()
"RTN","ONCODIS",6,0)
 D LOGO
"RTN","ONCODIS",7,0)
 K I,RC
"RTN","ONCODIS",8,0)
 Q
"RTN","ONCODIS",9,0)
 ;
"RTN","ONCODIS",10,0)
LOGO ;Display banner
"RTN","ONCODIS",11,0)
 W @IOF W !!!!!! F I=1:1:9 W !,?22,$P($T(DISP+I),";",3)
"RTN","ONCODIS",12,0)
 W !!,?22,"Department of Veterans Affairs"
"RTN","ONCODIS",13,0)
 W !?22,"OncoTraX V2.11 P55" Q
"RTN","ONCODIS",14,0)
DISP ;
"RTN","ONCODIS",15,0)
 ;;VVVV            VVAA
"RTN","ONCODIS",16,0)
 ;; VVVV          VVAAAA
"RTN","ONCODIS",17,0)
 ;;  VVVV        VVAAAAAA
"RTN","ONCODIS",18,0)
 ;;   VVVV      VVAA  AAAA
"RTN","ONCODIS",19,0)
 ;;    VVVV    VVAA    AAAA
"RTN","ONCODIS",20,0)
 ;;     VVVV  VVAA      AAAA
"RTN","ONCODIS",21,0)
 ;;      VVVVVVAA        AAAA
"RTN","ONCODIS",22,0)
 ;;       VVVVAA   AAAAAAAAAAA
"RTN","ONCODIS",23,0)
 ;;        VVAA     AAAAAAAAAAA
"VER")
8.0^22.0
**END**
**END**
