
=============================================================================
Run Date: DEC 09, 2009                     Designation: RMPR*3*151
Package : RMPR - PROSTHETICS                  Priority: Mandatory
Version : 3       SEQ #134                      Status: Released
                  Compliance Date: JAN 09, 2010
=============================================================================

Associated patches: (v)RMPR*3*147  <<= must be installed BEFORE `RMPR*3*151'

Subject: GUI PURCHASE CARD ORDER REACHING MAXIMUM IFCAP REQUISITION NUMBER - 9999

Category: 
  - Routine

Description:
============

  
  
 Users entering Purchase Card orders via the Prosthetic GUI Suite
 are hitting the maximum number (9999) allowed for requisitions on the 
 IFCAP side.
  
 ASSOCIATED NSR(s):
 ==================
 N/A
  
  
 ASSOCIATED REMEDY TICKETS:
 ==========================
 1) HD0000000266254 <UNDEFINED>DT442+7^PRCFFUD1
     Duplicates: HD0000000311405 CP 907 Trans Jumping around
                 HD0000000317083 Cannot sign/close out amended record 
                 HD0000000334556 Staff cannot reconcile transactions &
                                 remove unreconciled items
  
  
 PARTICIPATING TEST SITES:
 =========================
 Boston HCS
 Milwaukee, WI
 Cleveland, OH
  
  
 REMEDY OVERVIEW:
 ================ 
 1) HD0000000266254 <UNDEFINED>DT442+7^PRCFFUD1
  
 Problem:
 --------
 Some users entering Purchase Card orders via the Prosthetic GUI Suite
 are hitting the maximum number (9999) allowed for requisitions on the 
 IFCAP side in the COUNTER field (#1)in the TRANSACTION NUMBER file 
 (#410.1). When this happens, all subsequent requisitions are 
 assigned number 0000 which is causing file corruption with the CONTROL
 POINT ACTIVITY file (#410) and Purchase Card orders in the PROCUREMENT &
 ACCOUNTING TRANSACTIONS file (#442).  
  
  
  
 Resolution:
 -----------
 Modified routine RMPR121B to check the maximum counter field (#1) in the 
 TRANSACTION NUMBER File (#410.1) to see if it is exceeding 9999.  If the 
 number will exceed 9999, the system will display the following error: "AN 
 ERROR HAS OCCURRED. Your IFCAP order has been cancelled due to reaching 
 the max seq for the Fund Control Point Activity requisition".   At this 
 point a new Fund Control Point for Prosthetics will need to be created 
 for the remainder of the fiscal year/quarter.
  
  
        ================INSTALLATION INSTRUCTIONS =================
  
        **********************************************************
        * Patch PRC*5.1*123 is installed in addition to this     * 
        * patch in order for process checking logic to function  *  
        **********************************************************       
  
 This patch may be installed during normal working hours with all users on
 the system.  It should take approximately 15 minutes to install this 
 patch.
  
  
 1.  Retrieve the KIDS distribution host file. This patch will be
     distributed in a host file due to the link between this patch and
     associated patch PRC*5.1*123. The name of the host file is:
  
           RMPR_3_P151.KID;1
  
     The software for this patch is being distributed in a host file.
     The host file will contain two KIDS files.
   
           Host File Name:  RMPR_3_P151.KID;1
                   Builds:  RMPR*3.0*151
                            PRC*5.1*123
  
  
     Sites can retrieve VistA software from the following FTP addresses.
     The preferred method is to FTP the files from:
  
           download.vista.med.va.gov
  
     This will transmit the files from the first available FTP server.
     Sites may also elect to retrieve software directly from a specific
     server as follows:
  
           Albany                  ftp.fo-albany.med.va.gov
           Hines                   ftp.fo-hines.med.va.gov
           Salt Lake City          ftp.fo-slc.med.va.gov
  
     The RMPR_3_P151.KID;1 host file is located in the anonymous.software
     directory.  Use ASCII Mode when downloading the file.
  
 2.  Load the KIDS distribution contained in file RMPR_3_P151.KID;1
     using the Load a Distribution option on the Installation menu.
  
 3.  From the Kernel Installation & Distribution System menu, select
     the Installation menu.
  
 4.  From this menu, you may elect to use the following options
     (when prompted for INSTALL NAME, enter RMPR*3.0*151)
  
       a. Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch. It will NOT
          backup any other changes such as DDs or templates.
  
       b. Compare Transport Global to Current System - this option will
          allow you to view all changes that will be made when the patch
          is installed. It compares all components of the patch (routines,
          DDs, templates, etc.).
  
       c. Verify Checksums in Transport Global - this option will ensure
          the integrity of the routines that are in the transport global.
  
    4. Use the Install Package(s) option and select the package 
       RMPR*3.0*151
  
    5. When prompted "Want KIDS to INHIBIT LOGONs during the install?
       NO//" respond NO.
  
    6. When prompted "Want to DISABLE Scheduled Options, Menu Options, and
       Protocols? NO//" respond YES.
  
        
     NEW 2237 (SERVICE) REQUEST  [New 2237 (Service) Request]
     NEW DETAILED PURCHASE CARD ORD  [New Detailed Purchase Card Order]
     NEW SIMPLIFIED PURCHASE CARD ORD [New Simplified Purchase Card Order]
     NEW PURCHASE ORDER  [New Purchase Order] 

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;3.0;PROSTHETICS;**[Patch List]**;FEB 09,1996;Build 3

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: RMPR121B
    Before: B17873309   After: B20025708  **90,75,137,147,151**
 
Routine list of preceding patches: 147

=============================================================================
User Information:
Entered By  : BECKWITH,RALPH                Date Entered  : AUG 22, 2008
Completed By: HEFFERNAN,COREY               Date Completed: NOV 23, 2009
Released By : LAMBERT,WENDEL R              Date Released : DEC 09, 2009
=============================================================================


Packman Mail Message:
=====================

No routines included
