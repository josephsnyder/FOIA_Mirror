$TXT Created by DAVIS,PAULETTE T at DEVCRN.FO-ALBANY.MED.VA.GOV  (KIDS) on Thursday, 02/25/10 at 13:31
=============================================================================
Run Date: APR 05, 2010                     Designation: XT*7.3*124
Package : XT - TOOLKIT                        Priority: Mandatory
Version : 7.3        SEQ #96                    Status: Released
                  Compliance Date: MAY 06, 2010
=============================================================================

Associated patches: (v)XT*7.3*113  <<= must be installed BEFORE `XT*7.3*124'

Subject: E-MAIL REGARDING FILE 15 ADDS NOT SHOWING PSUEDO-SSN

Category: 
  - Routine

Description:
============

  XT*7.3*113 is a required build for patch XT*7.3*124.
   
  Issue #1
  Patch XT*7.3*113, made changes to the KERNEL Duplicate Resolution
  System [XDR MAIN MENU] options to support the Person Service Identity
  Management (PSIM) centralized probabilistic Initiate search algorithm.
   
  Most pairs of duplicate patients are now added to the VistA DUPLICATE
  RECORD (#15) file by the Master Patient Index (MPI) package, when the
  search on the MPI identifies a pair as potential matches, or when
  Healthcare Identity Management (HC IdM) uses the IMDQ Toolkit
  application to verify that a pair of patients are a match.  When this
  occurs, an email message is sent from the MPI to the local mail group
  specified in the DUPLICATE MANAGER MAIL GROUP (#.11) field of the
  DUPLICATE RESOLUTION (#15.1) file.
   
  It has been reported that when the email occurs, if either patient
  shown in the email message has a pseudo-Social Security Number, the
  "P" is not displayed after the Social Security Number.  Because the
  "P" is missing, the number appears to be a valid Social Security
  Number, which is causing confusion.  A change has been made in
  routine XDRDADDS, to show all characters of the Social Security
  Number in the email message.  If either patient has a pseudo-Social
  Security Number, the "P" will display after the number in the email.
   
  Issue #2
  To ensure that the email (referenced in Issue #1) is generated,
  the XDR ADD POTENTIAL PATIENT DUP Remote Procedure is included in this
  patch.  The RPC adds the patient pairs to the DUPLICATE RECORD (#15)
  file and composes the email message.  The SUPPRESS RDV USER SETUP (#.1)
  field has been changed to 1 (YES) so that when the RPC is run, if there
  is no local mail group specified in the DUPLICATE MANAGER MAIL GROUP
  (#.11) field of the DUPLICATE RESOLUTION (#15.1) file, then DUZ
  will be set to .5 (POSTMASTER) to ensure that the email is sent
  minimally to the POSTMASTER.
     
  Issue #3
  During testing, IT staff at Albuquerque reported an UNDEFINED error in
  routine XDRMADD.  The error occurred in the Add Verified Duplicate Pair
  [XDR ADD VERIFIED DUPS] option.  At the "Add entries from which File:"
  prompt, if the user entered an up-arrow to exit or just pressed return,
  the software produced the error.  After routine XDRMADD made a call to
  FILE^XDRDQUE, the XDRQFLG (quit flag) variable was not being checked
  within the DO DOT structure in routine XDRMADD.  This has been corrected.
   
  Associated Remedy Ticket:
  =========================
  HD0000000369958
   
  Associated New Service Request (NSR):
  =====================================
  There is no associated NSR with the patch.
    
  Test Sites:
  ===========
  New Mexico HCS
  Oklahoma City, OK
  Upstate New York HCN
    
  Blood Bank Team Coordination
  ============================
  Clearance: 1/5/2010 (from Randy Morton)
   
  EFFECT ON BLOOD BANK FUNCTIONAL REQUIREMENTS: Patch XT*7.3*124 contains 
  changes to a package referenced in VHA OI SEPG SOP 192-023 Review of 
  VISTA Patches for Effects on VISTA Blood Bank Software. This patch does 
  not alter or modify any VistA Blood Bank software design safeguards or 
  safety critical elements functions.
   
  RISK ANALYSIS: Changes made by patch XT*7.3*124 have no effect on Blood 
  Bank software functionality, therefore RISK is none.
   
  Installation Instructions:
  ==========================
  This patch should be loaded during non-peak hours when most users are
  off the system.  Installation will take less than 2 minutes.
   
  1.  Use the INSTALL/CHECK MESSAGE option on the PackMan menu to unload
      the KIDS distribution included with this message.
   
  2.  From the Kernel Installation and Distribution System Menu, select 
      the Installation menu.  
   
  3.  From this menu, you may elect to use the following options
      (when prompted for INSTALL NAME, enter XT*7.3*124):
      a.  Backup a Transport Global - this option will create a backup
          message of any routines exported with the patch.  It will NOT
          backup any other changes such as DDs or templates.
      b.  Compare Transport Global to Current System  - this option will
          allow you to view all changes that will be made when the patch
          is installed.  It compares all components of the patch 
          (routines, DDs, templates, etc.).
      c.  Verify Checksums in Transport Global - this option will
          allow you to ensure the integrity of the routines that are in
          the transport global.
      d.  Print Transport Global - this option will allow you to view the
          components of the KIDS build.
   
  4.  Use the Install Package(s) option and select the package 
      XT*7.3*124.
   
  5.  When prompted 'Want KIDS to INHIBIT LOGONs during the install? 
      NO//',respond NO.
   
  6.  When prompted 'Want to DISABLE Scheduled Options, Menu Options, 
      and Protocols? NO//', respond NO.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;7.3;TOOLKIT;**[Patch List]**;Apr 25, 1995;Build 8

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: XDRDADDS
    Before: B13998263   After: B14008801  **113,124**
Routine Name: XDRMADD
    Before: B42800986   After: B43074040  **23,113,124**
 
Routine list of preceding patches: 113

=============================================================================
User Information:
Entered By  : DAVIS,PAULETTE                Date Entered  : DEC 16, 2009
Completed By: LINK,CHRISTINE                Date Completed: APR 02, 2010
Released By : HEUER,CINDY                   Date Released : APR 05, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
