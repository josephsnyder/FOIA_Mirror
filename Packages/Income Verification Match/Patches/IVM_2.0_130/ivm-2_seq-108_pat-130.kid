Released IVM*2*130 SEQ #108
Extracted from mail message
**KIDS**:IVM*2.0*130^

**INSTALL NAME**
IVM*2.0*130
"BLD",7045,0)
IVM*2.0*130^INCOME VERIFICATION MATCH^0^3080522^y
"BLD",7045,4,0)
^9.64PA^^
"BLD",7045,6.3)
2
"BLD",7045,"INID")
n^n^n
"BLD",7045,"KRN",0)
^9.67PA^8989.52^19
"BLD",7045,"KRN",.4,0)
.4
"BLD",7045,"KRN",.401,0)
.401
"BLD",7045,"KRN",.402,0)
.402
"BLD",7045,"KRN",.403,0)
.403
"BLD",7045,"KRN",.5,0)
.5
"BLD",7045,"KRN",.84,0)
.84
"BLD",7045,"KRN",3.6,0)
3.6
"BLD",7045,"KRN",3.8,0)
3.8
"BLD",7045,"KRN",9.2,0)
9.2
"BLD",7045,"KRN",9.8,0)
9.8
"BLD",7045,"KRN",9.8,"NM",0)
^9.68A^1^1
"BLD",7045,"KRN",9.8,"NM",1,0)
IVMZ072^^0^B3619048
"BLD",7045,"KRN",9.8,"NM","B","IVMZ072",1)

"BLD",7045,"KRN",19,0)
19
"BLD",7045,"KRN",19.1,0)
19.1
"BLD",7045,"KRN",101,0)
101
"BLD",7045,"KRN",409.61,0)
409.61
"BLD",7045,"KRN",771,0)
771
"BLD",7045,"KRN",870,0)
870
"BLD",7045,"KRN",8989.51,0)
8989.51
"BLD",7045,"KRN",8989.52,0)
8989.52
"BLD",7045,"KRN",8994,0)
8994
"BLD",7045,"KRN","B",.4,.4)

"BLD",7045,"KRN","B",.401,.401)

"BLD",7045,"KRN","B",.402,.402)

"BLD",7045,"KRN","B",.403,.403)

"BLD",7045,"KRN","B",.5,.5)

"BLD",7045,"KRN","B",.84,.84)

"BLD",7045,"KRN","B",3.6,3.6)

"BLD",7045,"KRN","B",3.8,3.8)

"BLD",7045,"KRN","B",9.2,9.2)

"BLD",7045,"KRN","B",9.8,9.8)

"BLD",7045,"KRN","B",19,19)

"BLD",7045,"KRN","B",19.1,19.1)

"BLD",7045,"KRN","B",101,101)

"BLD",7045,"KRN","B",409.61,409.61)

"BLD",7045,"KRN","B",771,771)

"BLD",7045,"KRN","B",870,870)

"BLD",7045,"KRN","B",8989.51,8989.51)

"BLD",7045,"KRN","B",8989.52,8989.52)

"BLD",7045,"KRN","B",8994,8994)

"BLD",7045,"QUES",0)
^9.62^^
"BLD",7045,"REQB",0)
^9.611^1^1
"BLD",7045,"REQB",1,0)
IVM*2.0*105^2
"BLD",7045,"REQB","B","IVM*2.0*105",1)

"MBREQ")
0
"PKG",220,-1)
1^1
"PKG",220,0)
INCOME VERIFICATION MATCH^IVM^IVM Software for interface with the IVM Center
"PKG",220,20,0)
^9.402P^^
"PKG",220,22,0)
^9.49I^1^1
"PKG",220,22,1,0)
2.0^2941021
"PKG",220,22,1,"PAH",1,0)
130^3080522
"QUES","XPF1",0)
Y
"QUES","XPF1","??")
^D REP^XPDH
"QUES","XPF1","A")
Shall I write over your |FLAG| File
"QUES","XPF1","B")
YES
"QUES","XPF1","M")
D XPF1^XPDIQ
"QUES","XPF2",0)
Y
"QUES","XPF2","??")
^D DTA^XPDH
"QUES","XPF2","A")
Want my data |FLAG| yours
"QUES","XPF2","B")
YES
"QUES","XPF2","M")
D XPF2^XPDIQ
"QUES","XPI1",0)
YO
"QUES","XPI1","??")
^D INHIBIT^XPDH
"QUES","XPI1","A")
Want KIDS to INHIBIT LOGONs during the install
"QUES","XPI1","B")
NO
"QUES","XPI1","M")
D XPI1^XPDIQ
"QUES","XPM1",0)
PO^VA(200,:EM
"QUES","XPM1","??")
^D MG^XPDH
"QUES","XPM1","A")
Enter the Coordinator for Mail Group '|FLAG|'
"QUES","XPM1","B")

"QUES","XPM1","M")
D XPM1^XPDIQ
"QUES","XPO1",0)
Y
"QUES","XPO1","??")
^D MENU^XPDH
"QUES","XPO1","A")
Want KIDS to Rebuild Menu Trees Upon Completion of Install
"QUES","XPO1","B")
NO
"QUES","XPO1","M")
D XPO1^XPDIQ
"QUES","XPZ1",0)
Y
"QUES","XPZ1","??")
^D OPT^XPDH
"QUES","XPZ1","A")
Want to DISABLE Scheduled Options, Menu Options, and Protocols
"QUES","XPZ1","B")
NO
"QUES","XPZ1","M")
D XPZ1^XPDIQ
"QUES","XPZ2",0)
Y
"QUES","XPZ2","??")
^D RTN^XPDH
"QUES","XPZ2","A")
Want to MOVE routines to other CPUs
"QUES","XPZ2","B")
NO
"QUES","XPZ2","M")
D XPZ2^XPDIQ
"RTN")
1
"RTN","IVMZ072")
0^1^B3619048^B3473516
"RTN","IVMZ072",1,0)
IVMZ072 ;BAJ/PHH - HL7 Z07 CONSISTENCY CHECKER -- DRIVER ROUTINE II ; 05/22/08
"RTN","IVMZ072",2,0)
 ;;2.0;INCOME VERIFICATION MATCH;**105,130**;JUL 8,1996;Build 2
"RTN","IVMZ072",3,0)
 ;
"RTN","IVMZ072",4,0)
 ; 
"RTN","IVMZ072",5,0)
 ; This routine supports the IVMZ07C consistency checker routines.
"RTN","IVMZ072",6,0)
LOADSD(DFN,DGSD) ; Load spouse & dependent data into array
"RTN","IVMZ072",7,0)
 ; We will need to look at the Patient Relationship file to determine the spouse(s) and dependents for the patient
"RTN","IVMZ072",8,0)
 ; from the Patient Relation file ^DGPR(408.12)  This file will point to an IEN in the Income Person file.
"RTN","IVMZ072",9,0)
 ; Next, we will load all of the spouse(s) and dependents from the Income Person file into the array.
"RTN","IVMZ072",10,0)
 N NIEN,IEN,RIEN,NODE,I,ENODE
"RTN","IVMZ072",11,0)
 ; look into Patient Relation file #408.12.  Here we will find a pointer to each relation.  And the record itself will
"RTN","IVMZ072",12,0)
 ; contain a pointer into the INCOME PERSON file (#408.13)
"RTN","IVMZ072",13,0)
 ;
"RTN","IVMZ072",14,0)
 ;Global ^DGPR(408.12,,DFN
"RTN","IVMZ072",15,0)
 ;^DGPR(408.12,"B",9999955601,3206)= 
"RTN","IVMZ072",16,0)
 ;                        3210)=      <<------|
"RTN","IVMZ072",17,0)
 ;                        3211)=              |
"RTN","IVMZ072",18,0)
 ;                        3212)=              |
"RTN","IVMZ072",19,0)
 ;                                            ]
"RTN","IVMZ072",20,0)
 ;Global ^DGPR(408.12,3210 <<------------
"RTN","IVMZ072",21,0)
 ;^DGPR(408.12,3210,0)=9999955601^2^7170758;DGPR(408.13,
"RTN","IVMZ072",22,0)
 ;^DGPR(408.12,3210,"E",0)=^408.1275D^1^1        |
"RTN","IVMZ072",23,0)
 ;^DGPR(408.12,3210,"E",1,0)=2560406^1           |
"RTN","IVMZ072",24,0)
 ;^DGPR(408.12,3210,"E","AID",-2560406,1)=       |
"RTN","IVMZ072",25,0)
 ;^DGPR(408.12,3210,"E","B",2560406,1)=          |
"RTN","IVMZ072",26,0)
 ;                                               |
"RTN","IVMZ072",27,0)
 ;                                               |
"RTN","IVMZ072",28,0)
 ;Global ^DGPR(408.13,7170758 <<--------------
"RTN","IVMZ072",29,0)
 ;^DGPR(408.13,7170758,0)=XXXXXX,XXXX SPOUSE^F^2560406^^^^^^174040656P^N
"RTN","IVMZ072",30,0)
 ;                     1)=XXXXX,XXXX^^^^^^^
"RTN","IVMZ072",31,0)
 ;
"RTN","IVMZ072",32,0)
 I '$D(^DGPR(408.12,"B",DFN)) Q
"RTN","IVMZ072",33,0)
 S NIEN="" F  S NIEN=$O(^DGPR(408.12,"B",DFN,NIEN)) Q:NIEN=""  D
"RTN","IVMZ072",34,0)
 . Q:'$D(^DGPR(408.12,NIEN,0))
"RTN","IVMZ072",35,0)
 . S IEN=$P(^DGPR(408.12,NIEN,0),U,3)
"RTN","IVMZ072",36,0)
 . ; an entry in DPT is the patient.  we only need relations 
"RTN","IVMZ072",37,0)
 . Q:$P(IEN,";",2)["DPT"!'IEN
"RTN","IVMZ072",38,0)
 . Q:'$$ACTIF(NIEN,.ENODE)   ;include only Active dependents
"RTN","IVMZ072",39,0)
 . S RIEN=$P(IEN,";",1),NODE=$P(IEN,";",2)
"RTN","IVMZ072",40,0)
 . S NODE=U_NODE,NODE=NODE_RIEN_")"
"RTN","IVMZ072",41,0)
 . Q:'$D(@NODE)
"RTN","IVMZ072",42,0)
 . S DGSD("DEP",RIEN,"EFF")=ENODE
"RTN","IVMZ072",43,0)
 . S DGSD("DEP",RIEN)=$P(^DGPR(408.12,NIEN,0),U,2)
"RTN","IVMZ072",44,0)
 . M DGSD("DEP",RIEN)=@NODE
"RTN","IVMZ072",45,0)
 Q
"RTN","IVMZ072",46,0)
 ;
"RTN","IVMZ072",47,0)
ACTIF(NIEN,ENODE) ;determine if record in ^DGPR(408.12) is currently active. If active, populate variable ENODE with Effective Date.
"RTN","IVMZ072",48,0)
 ; This API should be called something like this I $$ACTIF^IVMZ072(NIEN,.ENODE)...
"RTN","IVMZ072",49,0)
 ; Input:
"RTN","IVMZ072",50,0)
 ;       NIEN    =       IEN of ^DGPR(408.12) reference
"RTN","IVMZ072",51,0)
 ;       ENODE   =       Variable to contain Effective Date
"RTN","IVMZ072",52,0)
 ;
"RTN","IVMZ072",53,0)
 ; Populates:
"RTN","IVMZ072",54,0)
 ;       ENODE =         With the most recent effective date of changes
"RTN","IVMZ072",55,0)
 ;
"RTN","IVMZ072",56,0)
 ; Returns:
"RTN","IVMZ072",57,0)
 ;       ACTIVE flag
"RTN","IVMZ072",58,0)
 ;       1 = Active
"RTN","IVMZ072",59,0)
 ;       0 = Inactive
"RTN","IVMZ072",60,0)
 ;
"RTN","IVMZ072",61,0)
 N ROOT,ACTDAT,INDEX,ACTIVE,EFF
"RTN","IVMZ072",62,0)
 S ACTIVE=0
"RTN","IVMZ072",63,0)
 D  Q ACTIVE
"RTN","IVMZ072",64,0)
 . S ROOT=$O(^DGPR(408.12,NIEN,"E","AID","")) Q:ROOT=""
"RTN","IVMZ072",65,0)
 . S INDEX=$O(^DGPR(408.12,NIEN,"E","AID",ROOT,"")) Q:INDEX=""
"RTN","IVMZ072",66,0)
 . S ACTDAT=^DGPR(408.12,NIEN,"E",INDEX,0)
"RTN","IVMZ072",67,0)
 . S ACTIVE=$P(ACTDAT,"^",2),ENODE=$P(ACTDAT,"^",1)
"RTN","IVMZ072",68,0)
 Q ACTIVE
"RTN","IVMZ072",69,0)
 ;
"VER")
8.0^22.0
"BLD",7045,6)
^108
**END**
**END**
