$TXT Created by FERRARESE,MARY ANNE at MNTVLL.FO-ALBANY.MED.VA.GOV  (KIDS) on Wednesday, 10/14/09 at 10:12
=============================================================================
Run Date: MAY 17, 2010                     Designation: IVM*2*142
Package : IVM - INCOME VERIFICATION MATCH     Priority: Mandatory
Version : 2       SEQ #121                      Status: Released
                  Compliance Date: JUN 17, 2010
=============================================================================

Associated patches: (v)IVM*2*115   <<= must be installed BEFORE `IVM*2*142'

Subject: TEST PATIENTS SENDING ZO7 TRANSMISSIONS

Category: 
  - Routine

Description:
============

 This patch addresses the problem of five-leading-zeros-SSN Test Patients 
 created at local VistA sites transmitting to, and their data uploading
 into, the national Enrollment System Redesign (ESR) database as actual
 Patient Records.
  
 Because patch DG*5.3*789 (supporting VHA Dir 2008-031) turned off HL7 Z07 
 consistency checks, including VALID SSN/PSEUDO SSN REQUIRED, data 
 associated with Test Patients that were in VistA production systems prior 
 to the ESR data migration of June 2008 are being transmitted and uploaded 
 into ESR as actual Patient Records. In turn, ESR can then send VistA 
 sites the same kinds of messages that it sends for Actual Patients, such 
 as "HEC Notification of Need for Site to Verify Veteran." This is 
 inappropriate and needs to be stopped.  
  
 This patch will fix the problem by making a call to a supported
 Registration API, $$TESTPAT^VADPT(DFN), Integration Agreement number 3744,
 which will be added to the IVM BACKGROUND JOB code. The API will determine
 which of the patients slated to have their data sent to ESR constitute
 Test Patients (by their SSNs containing five leading zeros) prior to Z07
 Full Data Transmission messages being built. For those that do constitute
 Test Patients, Z07s will not be built. While this call is not as
 comprehensive as the (now disabled) consistency checker, it does check for
 the criteria mandated by VHA Directive 2006-036 (Data Quality Requirements
 For Identity Management And Master Patient Index Functions).
  
   
 This patch addresses the following Remedy Ticket:
 --------------------------------------------------
 HD0000000317844 - Test Patients triggering transmissions
  
  
 This patch addresses the following CR tickets:
 ----------------------------------------------
 CR REEG_00008872 - Test Patients uploading in ESR from VistA
  
 CCR_9605  HD0000000317844 - Test Patients triggering transmissions
  
  
 This patch addresses the following New Service Request (NSR):
 -----------------------------------------------------------
 There is no NSR associated with this patch.
  
  
 Test Sites:
 -----------
 Madison VAMC (Medium)
 Bronx VAMC (Large)
 Upstate NY HCS (Integrated) 
  
 ================INSTALLATION INSTRUCTIONS =================
  
 This patch should NOT be installed while the IVM BACKGROUND JOB [IVM
 BACKGROUND JOB] is running.
  
 This patch can be loaded with users on the system. The patch should be 
 installed during non-peak hours.  
  
 * Installation will take approximately 5 minutes.
    
   1.  LOAD TRANSPORT GLOBAL
       ---------------------
       Choose the PackMan message containing this patch and invoke the 
       INSTALL/CHECK MESSAGE PackMan option.
   2   START UP KIDS
       -------------
       Start up the Kernel Installation and Distribution System Menu
       [XPD MAIN]:
       Edits and Distribution ...
       Utilities ...
       Installation ...
  
   Select Kernel Installation & Distribution System Option: INStallation
   ---
     Load a Distribution
     Print Transport Global
     Compare Transport Global to Current System
     Verify Checksums in Transport Global
     Install Package(s)
     Restart Install of Package(s)
     Unload a Distribution
     Backup a Transport Global
  
 Select Installation Option:
   3.   Select Installation Option:
      --------------------------
      NOTE:  The following are OPTIONAL - (When prompted for the INSTALL
      NAME, enter IVM*2.0*142):
  
      a.  Backup a Transport Global - This option will create a backup
          message of any routines exported with this patch. It will not
          backup any other changes such as DD's or templates.
      b.  Compare Transport Global to Current System - This option will
          allow you to view all changes that will be made when this patch
          is installed. It compares all components of this patch
          (routines, DD's, templates, etc.).
      c.  Verify Checksums in Transport Global - This option will allow
          you to ensure the integrity of the routines that are in the
          transport global.
   4. Select Installation Option: Install Package(s)
      ----------------
  
      **This is the step to start the installation of this KIDS patch:
  
      a.  Choose the Install Package(s) option to start the patch install.
      b.  When prompted 'Want KIDS to INHIBIT LOGONs during the install?
          NO//' press <Enter>.
      c.  When prompted 'Want to DISABLE Scheduled Options, Menu
          Options, and Protocols? NO//' answer YES.
      d.  When prompted 'Enter options you wish to mark as 'Out Of
          Order':' enter the following option:
            [IVM BACKGROUND JOB]       IVM BACKGROUND JOB
      e.  When prompted 'Enter protocols you wish to mark as 'Out of
          Order':' press <Enter>.
      g.  If prompted for 'Delay Install (Minutes):  (0-60): 0//' 
          press <Enter>.
  
 Note:  In the Routine Information section below, where routines' second 
 lines are listed, please disregard the Build numbers, as these have been
 generated by the National Patch Module and are irrelevant to VistA sites'
 installations.

Routine Information:
====================
The second line of each of these routines now looks like:
 ;;2.0;INCOME VERIFICATION MATCH;**[Patch List]**;OCT 21, 1994;Build 3

The checksums below are new checksums, and
 can be checked with CHECK1^XTSUMBLD.

Routine Name: IVMPTRN7
    Before:  B8730852   After:  B9163420  **9,11,24,34,74,88,105,115,142**
 Description of Changes:
  IVMPTRN7
  Before:
  +2         ;;2.0;INCOME VERIFICATION MATCH;**9,11,
  24,34,74,88,105,115**;OCT 21, 1994;Build 28
   
  After:
   +2         ;;2.0;INCOME VERIFICATION MATCH;**9,11,24,34,74,88,105,115,142**;OC
  T 21, 1994;Build 28
   
  ---------------------------------------
   
  Before:
   
  +51 N DGREL,DGINC,DR,I,IVMI,IVMDFN,IVMHLMID,
  IVMNTE,IVMPAT,IVMQRD,X,IVMCNTID
           ;
   
  AFTER:
  +51 N DGREL,DGINC,DR,I,IVMI,IVMDFN,IVMHLMID,
  IVMNTE,IVMPAT,IVMQRD,X,IVMCNTID
           ;
  +53        ; IVM*2.0*142  Quit if test patient unless ^XTMP("IVMTST","ZO7",DFN
  ) set and user wishes test patient to send a ZO7 for
  testing purpose.
   +54        I $$TESTPAT^VADPT(DFN) Q:'$D(^XTMP("IVMTST","ZO7",DFN))
  ...................

 
Routine list of preceding patches: 115

=============================================================================
User Information:
Entered By  : FERRARESE,MARY ANN            Date Entered  : SEP 16, 2009
Completed By: RUDINGER,NANCY L.             Date Completed: MAY 12, 2010
Released By : FRANCE,KATHI                  Date Released : MAY 17, 2010
=============================================================================


Packman Mail Message:
=====================

$END TXT
